{"pages":[{"title":"","text":"ç”³è¯·å‹é“¾é¡»çŸ¥ åŸåˆ™ä¸Šåªå’ŒæŠ€æœ¯ç±»åšå®¢äº¤æ¢ï¼Œä½†ä¸åŒ…æ‹¬å«æœ‰å’Œè‰²æƒ…ã€æš´åŠ›ã€æ”¿æ²»æ•æ„Ÿçš„ç½‘ç«™ã€‚ ä¸å’Œå‰½çªƒã€ä¾µæƒã€æ— è¯šä¿¡çš„ç½‘ç«™äº¤æ¢ï¼Œä¼˜å…ˆå’Œå…·æœ‰åŸåˆ›ä½œå“çš„ç½‘ç«™äº¤æ¢ã€‚ ç”³è¯·è¯·æä¾›ï¼šç«™ç‚¹åç§°ã€ç«™ç‚¹é“¾æ¥ã€ç«™ç‚¹æè¿°ã€logoæˆ–å¤´åƒï¼ˆä¸è¦è®¾ç½®é˜²ç›—é“¾ï¼‰ã€‚ æ’åä¸åˆ†å…ˆåï¼Œåˆ·æ–°åé‡æ’ï¼Œæ›´æ–°ä¿¡æ¯åè¯·ç•™è¨€å‘ŠçŸ¥ã€‚ ä¼šå®šæœŸæ¸…ç†å¾ˆä¹…å¾ˆä¹…ä¸æ›´æ–°çš„ã€ä¸ç¬¦åˆè¦æ±‚çš„å‹é“¾ï¼Œä¸å†å¦è¡Œé€šçŸ¥ã€‚ æœ¬ç«™ä¸å­˜å‚¨å‹é“¾å›¾ç‰‡ï¼Œå¦‚æœå‹é“¾å›¾ç‰‡æ¢äº†æ— æ³•æ›´æ–°ã€‚å›¾ç‰‡è£‚äº†çš„ä¼šæ›¿æ¢æˆé»˜è®¤å›¾ï¼Œéœ€è¦æ›´æ¢çš„è¯·ç•™è¨€å‘ŠçŸ¥ã€‚ æœ¬ç«™å‹é“¾ä¿¡æ¯å¦‚ä¸‹ï¼Œç”³è¯·å‹é“¾å‰è¯·å…ˆæ·»åŠ æœ¬ç«™ä¿¡æ¯ï¼š ç½‘ç«™å›¾æ ‡ï¼šhttps://mrdemonlxl.github.io/images/avatar.jpg ç½‘ç«™åç§°ï¼šé­‘é­…å…ˆç”Ÿ ç½‘ç«™åœ°å€ï¼šhttps://mrdemonlxl.github.io/ ç½‘ç«™ç®€ä»‹ï¼šJavaå…¨æ ˆå¼€å‘ï¼ŒæŠ€æœ¯åˆ†äº«ï¼Œç¨‹åºå‘˜çš„ç”Ÿæ´»åˆ†äº« åŠ è½½ä¸­ï¼Œç¨ç­‰å‡ ç§’...","link":"/friend/index.html"},{"title":"","text":"ã€ä¸ªäººç®€ä»‹ã€‘åˆ†äº«ä¸çŸ¥å‡ºå¤„çš„ä¸€æ®µè¯ï¼š â€œä½ æ‰€æœ‰çš„çƒ¦æ¼éƒ½åœ¨äºä½ æƒ³å¾—å¤ªå¤šï¼Œè€Œåšå¾—å¤ªå°‘ã€‚â€œ æ— è®ºå¤šä¹ˆç²¾ç¾æµ©ç€šçš„ç»ä¸–è®¡åˆ’ï¼Œéƒ½åº”è¯¥ç‚¹ç‚¹æ»´æ»´èµ‹äºˆè¡ŒåŠ¨ã€‚ åœ¨è¿™é‡Œä½ å¯ä»¥å¾—åˆ°ä»€ä¹ˆ? 8-) æ•ˆç‡çš„ç§ç§åˆ©å™¨ï¼ 8-) Javaå…¨æ ˆæŠ€æœ¯å­¦ä¹ ï¼ 8-) ä»£ç ä¹‹å¤–çš„ä¸°å¯Œç”Ÿæ´»ï¼ã€æ€»å†…å®¹å¯¼å›¾ã€‘ ã€å…³äºé­‘é­…å…ˆç”Ÿã€‘ ã€åŠ¨æ¼«äººç‰©ä»‹ç»ã€‘é­‘é­…é­é­‰ï¼ˆchÄ« mÃ¨i wÇng liÇngï¼‰ï¼Œå½¢å½¢è‰²è‰²å¦–é­”é¬¼æ€ªï¼Œç°é€šæŒ‡åäººã€‚è€Œé­‘é­…å…ˆç”Ÿä¹ƒå¦–ä¸­ä¹‹é¦–ï¼ŒæŒæ§å¦–é­”ä¸‡ç‰©ï¼Œä¸“å…‹é­‘é­…é­é­‰ï¼Œå…¶é¢å®¹æ¸…ç§€ï¼Œåƒå˜ä¸‡åŒ–ï¼Œå–„å­¦å¥½æ€çŸ£ã€‚å…¶é—´è§éœ¸æˆˆã€BUGã€‘ï¼Œç¥¸å®³äººä¸–é—´ï¼Œä¾¿ä¹ ç¼–ç¨‹æœ¯ï¼Œä»æ­¤ä¸å½’è·¯ã€‚ ç»˜ç”»ä½œè€…: @YYuã€è”ç³»æ–¹å¼ã€‘ å¦‚æœ‰ä»»ä½•äº¤æµéœ€æ±‚ï¼Œè¯·æ·»åŠ ä¸ªäººå¾®ä¿¡æˆ–ä¸ªäººå…¬ä¼—å·æ·»åŠ å‰è¯·å¤‡æ³¨æ¥ç”±ã€‚(à¹‘â€¾ ê‡´ â€¾à¹‘) å¾®ä¿¡æ‰«ç æˆ–ç‚¹å‡»é“¾æ¥å…³æ³¨æˆ‘å“¦ï¸¿(ï¿£ï¸¶ï¿£)ï¸¿ å‡¡äº‹é¢„åˆ™ç«‹ï¼Œä¸é¢„åˆ™åºŸã€‚è®¡åˆ’ 2021-PLANSDAY [ ] è¯»ä¹¦ [ ] æ¯æ—¥ç®—æ³• [ ] æ¯æ—¥è‹±è¯­ [ ] ç†è´¢ï¼Œè®°è´¦ WEEK [ ] ç»˜ç”» [ ] å‰ä»– [ ] è¿åŠ¨ä¸¤æ¬¡ [ ] ç»ƒå­— MONTH [ ] æ€»ç»“ YEAR [ ] ç†Ÿç»ƒä¸€ä¸ªä»¥ä¸ŠæŠ€èƒ½ ç›®æ ‡ 2021-GOALS [ ] è¯»ä¹¦ [ ] ã€Šç¤¾ä¼šå¿ƒç†å­¦ã€‹ [ ] ã€Šå¤§é—®é¢˜ï¼šç®€æ˜å“²å­¦å¯¼è®ºã€‹ [ ] ã€Šå±€å¤–äººã€‹ [ ] ã€Šä¸‰ä½“ã€‹ [ ] ã€Šæˆ‘æ˜¯çŒ«ã€‹ [ ] ä¸“ä¸š [ ] è®¾è®¡æ¨¡å¼ä»£ç Demo [ ] ç½‘ç»œ [ ] JVM [ ] VUEé¡¹ç›® [ ] Linux [ ] éŸ³ä¹ [ ] å‰ä»–è°±æ‰’è°±å­¦ä¹  [ ] è¿åŠ¨ [ ] ç”»ç”» æ—¶é—´è½´è®°å½• æœ¬ç«™æ¨èç´¢å¼• æŠ€æœ¯çŸ¥è¯†ç‚¹ Javaå¹¶å‘çŸ¥è¯†ç‚¹ æ³•å¾‹æ³•è§„ æ³•å¾‹æ³•è§„æ•°æ®åº“ ä¸­åäººæ°‘å…±å’Œå›½å›½æ——æ³• ä¸­åäººæ°‘å…±å’Œå›½å®ªæ³• ä¸­åäººæ°‘å…±å’Œå›½æ¶ˆè´¹è€…æƒç›Šä¿æŠ¤æ³• ä¸­åäººæ°‘å…±å’Œå›½åˆ‘äº‹è¯‰è®¼æ³• ä¸­åäººæ°‘å…±å’Œå›½å©šå§»æ³• ä¸­åäººåå…±å’Œå›½ç½‘ç»œå®‰å…¨æ³• ä¸­åäººæ°‘å…±å’Œå›½åŠ³åŠ¨æ³• å…¶ä»– ç½‘æ˜“äº‘éŸ³ä¹æ­Œå•åˆ†äº«","link":"/about/index.html"},{"title":"","text":"&nbsp;&nbsp;å¬å¬éŸ³ä¹ éŸ³ä¹æ’­æ”¾å™¨ç”±mePlayeræä¾›ï¼Œå¸ƒå±€å‚ç…§ç½‘å‹åšå®¢æ‰€ä½œï¼Œæ„Ÿè°¢ä½œè€…çš„è¾›å‹¤ä»˜å‡ºã€‚æ›´å¤šéŸ³ä¹åˆ†äº«è¯·æŸ¥çœ‹æ­Œå•ã€‚ &nbsp;&nbsp;çœ‹çœ‹è§†é¢‘ ->ç‚¹å‡»ä»¥ä¸‹æ¡ç›®å¼€å§‹æ’­æ”¾è§†é¢‘,å‘ä¸‹æ»‘åŠ¨æŸ¥çœ‹æ›´å¤š","link":"/media/index.html"},{"title":"éŸ³ä¹æ­Œå•æ”¶è—","text":"ä¸ªäººå­¦ä¹ é£Ÿç”¨ï¼Œå¦‚æœ‰æ¨èè¯·ç•™è¨€æ­Œå•æˆ–æ­Œæ›²é“¾æ¥ã€‚ç‚¹å‡»å·¦ä¸‹è§’ç®­å¤´å¯å…¨å±€æ’­æ”¾å“¦ ^-^ ğŸ¤²ğŸ˜ &lt;/meting-js&gt; æ¸©é¦¨æç¤ºï¼šé€‰æ‹©å–œæ¬¢çš„éŸ³ä¹åŒå‡»æ’­æ”¾ï¼Œç”±äºç‰ˆæƒåŸå› éƒ¨åˆ†ä¸èƒ½æ’­æ”¾ã€‚å¦‚æœå–œæ¬¢æ­Œå•æ”¶è—ä¸€ä¸‹ï¼Œå»ç½‘æ˜“äº‘éƒ½èƒ½æ’­æ”¾å“Ÿï¼","link":"/music/index.html"},{"title":"","text":"å¥½é—®åˆ™è£•ï¼Œè‡ªç”¨åˆ™å°ã€‚â€”â€”ã€Šå°šä¹¦Â·ä»²è™ºä¹‹è¯°ã€‹","link":"/message/index.html"},{"title":"","text":"ç¢ç¢å¿µæ ‘æ´ tipsï¼šgithubç™»å½•åæŒ‰æ—¶é—´æ­£åºæŸ¥çœ‹ã€å¯ç‚¹èµåŠ â¤ï¸ã€Œ+99æ¬¡æŸ¥çœ‹ã€&lt;/span&gt;&lt;/div&gt; ç¢ç¢å¿µåŠ è½½ä¸­ï¼Œè¯·ç¨ç­‰...&lt;/div&gt; $.getScript(\"/js/gitalk_self.min.js\", function () { var gitalk = new Gitalk({ clientID: '20ef8321698ab8c0c37b', clientSecret: '237515b7faa3e1097f2980762f772c6f02dbcbbb', id: '666666', repo: 'MrDemonlxl.github.io', owner: 'MrDemonlxl', admin: \"MrDemonlxl\", createIssueManually: true, distractionFreeMode: false }); gitalk.render('comment-container1'); });","link":"/self-talking/index.html"},{"title":"","text":"ğŸˆğŸˆæ‘„å½±-å¹³é¢è®¾è®¡-ç»˜ç”»æ¬£èµğŸˆğŸˆæ¯å¤©çœ‹ä¸€ç‚¹ï¼Œå®¡ç¾é«˜ä¸€ç‚¹ğŸ˜Šè–‡è–‡å®‰Â·è¿ˆå°”ğŸ˜Š â€‹ è–‡è–‡å®‰Â·è¿ˆå°”ï¼ˆVivian Maierï¼‰ï¼Œ1926å¹´2æœˆ1æ—¥å‡ºç”Ÿäºç¾å›½çº½çº¦ï¼Œç¾å›½ä¸šä½™è¡—å¤´æ‘„å½±å¸ˆã€å®¶åº­ä¿å§†ã€‚è–‡è–‡å®‰æ˜¯æ³•å›½äººåè£”ï¼Œå‡ºç”Ÿåœ¨çº½çº¦ï¼Œä½†åœ¨æ³•å›½é•¿å¤§ï¼Œåå›åˆ°ç¾å›½å…ˆåç”Ÿæ´»åœ¨çº½çº¦å’ŒèŠåŠ å“¥ï¼Œå¥¹ä¸€ç”Ÿæ‹æ‘„äº†è¶…è¿‡10ä¸‡å¼ ç…§ç‰‡ã€‚2007å¹´ï¼ŒèŠåŠ å“¥å½“åœ°å†å²å­¦å®¶çº¦ç¿°Â·é©¬é²å¤«å‘ç°äº†å¥¹çš„å¤§é‡åº•ç‰‡å¹¶å¼€å§‹æ•´ç†ï¼Œæ­¤åå¥¹çš„ä½œå“ç™»ä¸Šç¾å›½ä»¥è‡³æ„å¤§åˆ©ã€é˜¿æ ¹å»·å’Œè‹±å›½ç­‰åœ°çš„æŠ¥çº¸ã€‚2009å¹´4æœˆ21æ—¥ç—…é€äºèŠåŠ å“¥ã€‚2010å¹´ï¼Œè–‡è–‡å®‰çš„ä½œå“å¼€å§‹åœ¨èŠåŠ å“¥è¿›è¡Œå±•å‡ºï¼Œæˆä¸ºæ‘„å½±åœˆä¸­çƒ­è®®çš„äººç‰©ï¼Œå¹¶è¢«è®¤å¯ä¸ºç¾å›½å½“ä»£æœ€é‡è¦çš„è¡—å¤´æ‘„å½±å¸ˆä¹‹ä¸€ã€‚ å›¾ç‰‡éƒ¨åˆ†æœé›†äºäº’è”ç½‘ï¼Œä¾µæƒè¯·ç•™è¨€ï¼Œé©¬ä¸Šå¤„ç†ğŸ˜Šã€‚","link":"/album/index.html"}],"posts":[{"title":"Markdown å­¦ä¹ ","text":"æ”¹å˜é¢œè‰²ï¼Œå†…åµŒ HTML æ ‡ç­¾ Markdown å­¦ä¹ Markdownä½œä¸ºè‡ªåª’ä½“äººéå¸¸æ–¹ä¾¿çš„ä¸€ä¸ªå·¥å…·ï¼Œå¯ä»¥å†å„å¤§è‡ªåª’ä½“ç½‘ç«™é€šç”¨ï¼Œå®ç°ä¸€ç¯‡å¤šå‘çš„æ•ˆæœã€‚å…¶è¯­æ³•ç®€å•ï¼Œå‡ ä¹å¯ä»¥æŠ›å¼ƒé¼ æ ‡ï¼Œç”Ÿæˆä¸€åˆ‡æ ·å¼ã€‚ Markdown å­¦ä¹  ç¬¦å·(è‹±æ–‡è¾“å…¥çŠ¶æ€ä¸‹ï¼Œå¼€å¤´è¾“å…¥â€œ:â€+è‹±æ–‡å­—æ¯æœ‰æç¤º)Markdownç®­å¤´çš„è¾“å…¥æ–¹æ³•æ±‡æ€»æ™®é€šç®­å¤´ ç®­å¤´å½¢çŠ¶ MarkDown $\\uparrow$ $\\uparrow$ $\\Uparrow$ $\\Uparrow$ $\\downarrow$ $\\downarrow$ $\\Downarrow$ $\\Downarrow$ $\\leftarrow$ $\\leftarrow$ $\\Leftarrow$ $\\Leftarrow$ $\\rightarrow$ $\\rightarrow$ $\\Rightarrow$ $\\Rightarrow$ $\\updownarrow$ $\\updownarrow$ $\\Updownarrow$ $\\Updownarrow$ $\\leftrightarrow$ $\\leftrightarrow$ $\\Leftrightarrow$ $\\Leftrightarrow$ é•¿ç®­å¤´ ç®­å¤´å½¢çŠ¶ MarkDown $\\longleftarrow$ $\\longleftarrow$ $\\Longleftarrow$ $\\Longleftarrow$ $\\longrightarrow$ $\\longrightarrow$ $\\Longrightarrow$ $\\Longrightarrow$ $\\longleftrightarrow$ $\\longleftrightarrow$ $\\Longleftrightarrow$ $\\Longleftrightarrow$ å…¶ä»–ç®­å¤´ ç®­å¤´å½¢çŠ¶ MarkDown $\\twoheadrightarrow$ $\\twoheadrightarrow$ $\\rightarrowtail$ $\\rightarrowtail$ $\\looparrowright$ $\\looparrowright$ $\\curvearrowright$ $\\curvearrowright$ $\\circlearrowright$ $\\circlearrowright$ $\\Rsh$ $\\Rsh$ $\\multimap$ $\\multimap$ $\\leftrightsquigarrow$ $\\leftrightsquigarrow$ $\\rightsquigarrow$ $\\rightsquigarrow$ $\\leadsto$ $\\leadsto$ $\\nearrow$ $\\nearrow$ $\\searrow$ $\\searrow$ $\\swarrow$ $\\swarrow$ $\\nwarrow$ $\\nwarrow$ $\\nleftarrow$ $\\nleftarrow$ $\\nLeftarrow$ $\\nLeftarrow$ $\\nrightarrow$ $\\nrightarrow$ $\\nRightarrow$ $\\nRightarrow$ $\\nleftrightarrow$ $\\nleftrightarrow$ $\\nLeftrightarrow$ $\\nLeftrightarrow$ $\\dashrightarrow$ $\\dashrightarrow$ $\\dashleftarrow$ $\\dashleftarrow$ $\\leftleftarrows$ $\\leftleftarrows$ $\\leftrightarrows$ $\\leftrightarrows$ $\\Lleftarrow$ $\\Lleftarrow$ $\\twoheadleftarrow$ $\\twoheadleftarrow$ $\\leftarrowtail$ $\\leftarrowtail$ $\\looparrowleft$ $\\looparrowleft$ $\\curvearrowleft$ $\\curvearrowleft$ ç®­å¤´å½¢çŠ¶ MarkDown $\\circlearrowleft$ $\\circlearrowleft$ $\\Lsh$ $\\Lsh$ $\\mapsto$ $\\mapsto$ $\\hookleftarrow$ $\\hookleftarrow$ $\\hookrightarrow$ $\\hookrightarrow$ $\\upharpoonright$ $\\upharpoonright$ $\\upharpoonleft$ $\\upharpoonleft$ $\\downharpoonright$ $\\downharpoonright$ $\\downharpoonleft$ $\\downharpoonleft$ $\\leftharpoonup$ $\\leftharpoonup$ $\\rightharpoonup$ $\\rightharpoonup$ $\\rightharpoondown$ $\\rightharpoondown$ $\\leftharpoondown$ $\\leftharpoondown$ $\\upuparrows$ $\\upuparrows$ $\\downdownarrows$ $\\downdownarrows$ $\\rightrightarrows$ $\\rightrightarrows$ $\\rightleftarrows$ $\\rightleftarrows$ $\\leftleftarrows$ $\\leftleftarrows$ $\\leftrightarrows$ $\\leftrightarrows$ $\\rightleftharpoons$ $\\rightleftharpoons$ $\\leftrightharpoons$ $\\leftrightharpoons$ åˆ†å‰²çº¿ LaTeXç¬¦å· è¯­æ³•ï¼š$\\clubsuit$ $\\triangleright$ æ ¼å¼123&amp;emsp;é¦–è¡Œç¼©è¿›~~åˆ é™¤çº¿~~~ç¼©å°~ å¯¼å›¾ å›¾çŠ¶æ€è½¬ç§»å›¾stateDiagram %% å•ç¨‹ç”Ÿå‘½å‘¨æœŸèµ·ç‚¹æ˜¯å®å¿ƒåœ†ï¼Œç»ˆç‚¹æ˜¯åŒå¿ƒåœ†ï¼Œå†…åœ†ä¸ºå®å¿ƒã€‚ %%è¿™ä¸ªä¾‹å­åŒ…å«æ˜¯3ä¸ªçŠ¶æ€Still, Moving å’Œ Crash. ä»StillçŠ¶æ€å¯ä»¥è½¬ç§»åˆ°Movingï¼Œä»Movingå¯ä»¥è½¬ç§»åˆ°Still æˆ–è€… Crashã€‚ä¸èƒ½ä»Stillè½¬ç§»åˆ°Crash [*] --> Still Still --> [*] Still --> Moving: A transition note right of Moving Movingå¯ä»¥è½¬ç§»åˆ°Stillæˆ–è€…Crash end note Moving --> Still Moving --> Crash Crash --> [*] ç±»å›¾classDiagram class Duck{ -String beakColor - double weight +swim() +quack() #count() +getPrice(count) double +someAbstractMethod() * -someStaticMethod() $ } class Shape{ %% This whole line is a comment classDiagram class Shape noOfVertices draw() } class Color{ RED BLUE GREEN WHITE BLACK } class Relation{ } classK ..> classL : ä¾èµ–å…³ç³» classA --|> classB : ç»§æ‰¿å…³ç³»ï¼ˆæ³›åŒ–ï¼‰ classM ..|> classN : å®ç°å…³ç³» classG --> classH : å…³è”å…³ç³» classE --o classF : èšåˆå…³ç³» classC --* classD : ç»„åˆå…³ç³» Customer \"1\" --> \"*\" Ticket Student \"1\" --> \"1..*\" Course Galaxy --> \"many\" Star : Contains Sky \"1\"--> \"1\" Sun Parent \"1\" -- \"0..2\" Children Person \"1\" -- \"2\" Eyes é¥¼å›¾pie title Pie Chart \"Dogs\" : 386 \"Cats\" : 85 \"Rats\" : 150 \"Cows\" : 150 æ¸²æŸ“æ•ˆæœgraph LR id1(Start)-->id2(Stop) style id1 fill:#f9f,stroke:#333,stroke-width:4px; style id2 fill:#f00,stroke:#000,stroke-width:2px,stroke-dasharray:5,5; åŸºç¡€fontawesomeæ”¯æŒgraph TD B[\"fa:fa-twitter for peace\"] B-->C[fa:fa-ban forbidden] B-->D(fa:fa-spinner); B-->E(A fa:fa-camerra-retro perhaps?); è¿çº¿graph TD A1==TEXT===B1 A2-->|text|B2 A3..-B3 èŠ‚ç‚¹å½¢çŠ¶ graph TD B[bname] C(cname) D((dname)) E>ename] F{fname} ç”˜ç‰¹å›¾å…³é”®è¯è¯´æ˜ï¼štitleâ€”æ ‡é¢˜dateFormatâ€”æ—¥æœŸæ ¼å¼sectionâ€”æ¨¡å—Completedâ€”å·²ç»å®ŒæˆActiveâ€”å½“å‰æ­£åœ¨è¿›è¡ŒFutureâ€”åç»­å¾…å¤„ç†critâ€”å…³é”®é˜¶æ®µ gantt dateFormat YYYY-MM-DD title Adding GANTT diagram functionality to mermaid section A section Completed task :done, des1, 2014-01-06,2014-01-08 Active task :active, des2, 2014-01-09, 3d future task : des3, after des2, 5d future task2 : des4, after des3, 5d section Critical tasks Completed task in the critical line :crit, done, 2014-01-06,24h Implement parser and json :crit, done, after des1, 2d Create tests for parser :crit, active, 3d Future task in critical line :crit, 5d Create tests for renderer :2d Add to ,mermaid :1d æµç¨‹å›¾ graph TD A[æ–¹å½¢] -->B(åœ†è§’) B --> C{æ¡ä»¶a} C -->|a=1| D[ç»“æœ1] C -->|a=2| E[ç»“æœ2] F[ç«–å‘æµç¨‹å›¾] æ—¶åºå›¾ç¤ºä¾‹123456789Title:æ—¶åºå›¾ç¤ºä¾‹å®¢æˆ·ç«¯-&gt;æœåŠ¡ç«¯: æˆ‘æƒ³æ‰¾ä½ æ‹¿ä¸‹æ•°æ® SYNæœåŠ¡ç«¯--&gt;å®¢æˆ·ç«¯: æˆ‘æ”¶åˆ°ä½ çš„è¯·æ±‚å•¦ ACK+SYNå®¢æˆ·ç«¯-&gt;&gt;æœåŠ¡ç«¯: æˆ‘æ”¶åˆ°ä½ çš„ç¡®è®¤å•¦ï¼Œæˆ‘ä»¬å¼€å§‹é€šä¿¡å§ ACKNote right of æœåŠ¡ç«¯: æˆ‘æ˜¯ä¸€ä¸ªæœåŠ¡ç«¯Note left of å®¢æˆ·ç«¯: æˆ‘æ˜¯ä¸€ä¸ªå®¢æˆ·ç«¯Note over æœåŠ¡ç«¯,å®¢æˆ·ç«¯: TCP ä¸‰æ¬¡æ¡æ‰‹participant è§‚å¯Ÿè€… å…¬å¼ \\mathbf{V}_1 \\times \\mathbf{V}_2 = \\begin{vmatrix} \\mathbf{i} & \\mathbf{j} & \\mathbf{k} \\\\ \\frac{\\partial X}{\\partial u} & \\frac{\\partial Y}{\\partial u} & 0 \\\\ \\frac{\\partial X}{\\partial v} & \\frac{\\partial Y}{\\partial v} & 0 \\\\ \\end{vmatrix} ${$tep1}{\\style{visibility:hidden}{(x+1)(x+1)}}è¡¨æ ¼ctl+å›è½¦æ–°å¢è¡Œ å·¦å¯¹é½ å³å¯¹é½ å±…ä¸­å¯¹é½ å•å…ƒæ ¼ å•å…ƒæ ¼ å•å…ƒæ ¼ å•å…ƒæ ¼ å•å…ƒæ ¼ å•å…ƒæ ¼ ä»£ç 123456hello!--- åˆ†å‰²çº¿+ [ ] å‹¾é€‰æ¡†[å†…å®¹æ–‡å­—](#æ ‡é¢˜) é¡µå†…è·³è½¬[å†…å®¹æ–‡å­—](è·³è½¬ç›®æ ‡æ–‡ä»¶çš„ç›¸å¯¹è·¯å¾„) è„šæ³¨æ–‡å­—å†…å®¹ 1 todoåˆ—è¡¨ [ ] è¯»ä¹¦ [ ] ã€Šã€‹ [ ] ä¸“ä¸š [ ] ï¼ˆè®¾è®¡æ¨¡å¼ä»£ç Demoï¼Œ [ ] ç½‘ç»œï¼Œ [ ] JVMï¼Œ [ ] VUEé¡¹ç›®ï¼Œ [ ] Linuxï¼‰ [ ] éŸ³ä¹ [ ] å‰ä»–è°±æ‰’è°±å­¦ä¹  [ ] è¿åŠ¨ [ ] ç”»ç”» å…¶ä»–emojiã€å¤–å¯è®¿ã€‘ï¼ŒTypora å¿«æ·é”®WIN+ã€‚ğŸˆğŸˆğŸ¤² ğŸ˜ ++inserted++ =&gt; inserted 29^th^ =&gt; 29thH~2~0 =&gt; H2O basic footnote1here is an inline footnote^2and another one3and another one4 1. basic footnote content â†© 3. paragraph â†© footnotecontent 4. footnote content with some markdown â†© [HTML]: Hyper Text Markup Language [W3C]: World Wide Web Consortium The HTML specificationis maintained by the W3C. flowchat st=>start: Start|past:>http://www.google.com[blank] e=>end: End:>http://www.google.com op1=>operation: My Operation|past op2=>operation: Stuff|current sub1=>subroutine: My Subroutine|invalid cond=>condition: Yes or No?|approved:>http://www.google.com c2=>condition: Good idea|rejected io=>inputoutput: catch somethingâ€¦|request st->op1(right)->cond cond(yes, right)->c2 cond(no)->sub1(left)->op1 c2(yes)->io->e c2(no)->op2->e{\"scale\":1,\"line-width\":2,\"line-length\":50,\"text-margin\":10,\"font-size\":12} var code = document.getElementById(\"flowchart-0-code\").value; var options = JSON.parse(decodeURIComponent(document.getElementById(\"flowchart-0-options\").value)); var diagram = flowchart.parse(code); diagram.drawSVG(\"flowchart-0\", options);","link":"/2021/11/26/Draft/2021/Markdown%20%E5%AD%A6%E4%B9%A0/"},{"title":"åšå®¢æ¨¡æ¿","text":"4630436162ade97ba2718b7d0c4b3b631d1cea453764294116f53c62984a56ccee1694c14ccb64fb54f8c30202167de89f7cf608014a104c10a21a4f1d77a64727bde928bfb8eb6078a4a923c466f0bcea3207c4a47cce2765396cf8004ee68a14e8e23c956c9acb4311d193a0952e02bbbbbc6468731b893359ee3df3be2d38216a3e3de5da7dd19fb7c2ce287eab5d088144ecc29ff0ff182aec2e83cb1a6fa941d3e6baa5107e5c45c08da4c6d8017c96803cc7ea4b73b8a2c188c8e3c71f17ab5d497305fb4acb167834b1a7ccc698ec42fc97118de40d781a775892bb78aa1a80d3ba0c6d680385730e6898143e4ec54811381b76f1eefa9f6ae7acb0548c35a332d8b95d8dc348768c06d6fe758830973253175d9eb525fffb134cdd831582a8b0e10686371a8a85547fd67a53dfdd61284f21b9b17854457340a63bbdef5ed48628ff89004a68635efd673e6e00571d1541f299377b85c92a017c52e4aa1b84d0c408c73fd63363001963dd6e917bd1fe88802e84e734fce4fad8a50ad8b1f0c71fc3a57c8fc774ea7a3a3e75923d63a924fad10d03eba3153d20f2b157e108653a975a3c639af2823eb7ea2052706e9d6b4090123dab7bf1f9baa12f52767fcbf463d3c3ac512bfc40a26bd2779c2beb3ba03b4754102654215ee18a64ded55337588b70028025940785a3ef40631a1503f9d09a25e6282a9d0409e80dd74e37ba0bff5b20cbfe1d931c6c93fecdce5f5625f707cfbab6b9403472e1cf0c15f310cd9724cfbe91aa328af2a0307867a41283ceba13a4827f5d7bb3315f5190ed8339ab0bc8875cb77548462ffd687c045bdd098731864b5819c62d1ee5076b5ad115d82dc9e2e157c22bb2a2e433428984b5ac129fc7d547493e0f6908d00c19270329330aa0e02761605909090260ec78eac47ee3b734c441721d8bfc3fa40c72d0554485b71045a558ee38c64097d477475facd8b4b169e1278bdf81ebdf53990f333429ec41b5ca9480305f4d14f861ba1690ef7d6b861ce75b033ce6a322247dd8e986c1effd0c15d02d36aa33a3e7cc50215123a67f41ac4fb36a417cfc628145eb14c72916b407a66189e6b7917b2728ebeded35339e2052383f5aa9af5428d5b67deee7344c6d0d4c78e41320413d7d4bd33f3f54ae648d42e25d858b9e2e54997f50b469bf8ae78888b358ccc3fcb07bf4c3c6bf89535c045ed595a67118b6ea2fe593569a5dc499383877870e1a13d121efa16030db5032109db5d679c1512ce994494d678f8a5a0f27ed88a90171684dc4f8f9fa561c7d758ca311ee95c83d8a6d158a0a3582fbfcde217b63c52d027f60ba631720b52aee34922148910e1b3b04fbd21669ca0196795793ce45816b8a8d3cabff06ffbe0e12ae0ad9fec531f743a68c2a634ab3937c82547212b59902c987208e1a74156ad143c38fc352f438ce4d8464d98a4e097647eb59fb6da53e67070506318d4c2495493f086165a3b72b6a98c82e3b9bdae2477f214f8add68f7964218b83c6698a2d8eef2566bd49b6df4815fae309151cd195ecb255e4f930c8f965866a659596e3bdb804d4797c0ce81dea77ded8cd534bf01aab0b798ecb5834915e625186f0f59dd32c5b078662e761ba74c397601cba9b8ef26f2c7bf94e4dec3758d98419655928a840a3f5066be36125139fa20dbd298bc37f3752af37a84a504ffd25060f188225a5c284d8b880f0db6c9247624d1003807094d3bcf1fce962403f1623a971f13578998a1660b92d8fc1679012e8528713ee5f672ef77e96b58f3924d0056df6bd9e64dc656a733d1e6de96272ca6a36872430a075ecf927fc37293b342eeb399c639dee8b99de85330ad5a2b920f1847fceb7aa4fe2b8cba8d50102624c586411d01a57549fc506abb352b0ac8d0e0c06a3a1c4d683b4cf221cc66bb6a8555199592d6870a35d080f8840aa7aca5ea7234cb5080e7d918598abdb91ace30b9225ac23c751fb62e9cd183f19c64e7c99d264a219d94d7a35b8e4f087f6bdf5d717c4a8abaded709631496e927e44358d0b1f228d8fa6cd6002a9aee387ab9a9c78ccac3f834b5420c0af90725f8beae30d8322cf79909a52bf1f19e2d60d8ba174c8b40b0280406f3af3d324e5913b7f47232b3d58afaf6fdc9dcb3ba754819ba4090241041fb508500f8a3e03f68d3bd9342c58852af729a620e3a69df8c9372f08d35898926be3d45ee3bd9c3cb305f45b17719368bbff62a26105aeef7df3e2b24752185c7e5ec87e78e11c6c40aa5d64ffcd80655d3f29514bd749635338e61bf32e1d6c082b857aeed8d93f23657b6532251fbd1484749a885f0bde537bc6f55ca8213ca2355d96a5eac57e5bbda85bc08c16b5e6cc59cf4e6b498d895ed5a8b81d55f9ac928d95fc5fc690197d38747b3c9793110f565fda4c07f824756385261b4970f2e2ce0bb6651296300a9863ef7fc4177409012bfcc7e34d6f1e6717976a109d232223757bb63e8c9e6aa70543848af30e672688756036b52c5e4425a4343ca421a8580040652fa30b7f15f008e754bad0fbf4e53589c0ea28597092b37c47de7ee3f8f64dbbdecf67bd97efda27f03c506659041237cb0dd2e76ab37fd8bce884bddff5e9b4034fca01dd754a9c35413264f65f4ba087b6b421cd69799759d9adc457b17698ac136488f744c56409a1e5f6e3fd52ee5b02aa28041a3e6fe11d59425c5392006c42da43297a8d496b549916fae4cff86745e3a6015a2a11862d7d124b7d9ed8d15c68c53108149c01b493980622656a8e97cb14ae4e9c4b82f886228686a2b52fe4d5df05590d106603a62acf504fafd540c43e7f2d7dbc877cda7feaf59912593c201c02ddb701296cdaeeb477f9f078c61a68a8c6540c9e50f0e7ba23d6fbd8aeff841e84c214c4e7ec391364c98262abbb371b9ebdafa33a180d0e1ee5a5ea25be31ffb929069143e814412f2a1b9e732fd902de432dd13ae91a34d65719d2328ff4f530e164f1014f0af5e158f4b7b0d1f11f835c49258888b767971747417e4361aea4e9bbe1d03be06241e015e182d2956007b1af4937f08269eae6a589f70827ebf94a8233b477802f5784603081d4406a234c56cc7571cd55106ff7b4ea9145a442d2f77b219392060736d53297e7e21cca1797eaa21bd414f04fe7d2473692f86f06c7331ad673515e6b521311097338fde83af4986426d0a2b24c6218000e1125052c74b2b4ecbe3a7846f3261b50eda9cd5da3a45eeebdcd3aa42ef981c7a89c9e0dd0429db25a316b314669882c02fd1b84d46a76e0a05e02f21e9140b508ccaaa298b22f28666d170c1f247fe149fe247aa564247aa6d1703f855aad23f7d6b2c23262dda5fe0f39554afcb3d3a321d92be2b88f489d7571d65ccd18b5c7fcd1eff8405e4c056836450825c15a14847b18a35276666f7c59e923bef1daaa6e89a27d2704c4c5fed4a7ea3f084a92934cec05d3a67b9decfc491e083f270ccfd159c95613c302d7dff62bc7589917a14387e494c0941724c285b9a1c40ba66b1fd39b4763fda9bea1989a8fec9fadf9f7d22cd26f5299035e63ed08e60491c3774181725519c590ccf8031ece4898eec2a767fca209b5cb6b77705fe31ea29891f0565458d438b7d3bb1831b1c90a280ac687bcf4f00c64f3a0d17835e085614dfa74c1f466239cd18d7a8da691c5daabee075dd0c5381e8ac439808749a135e7552f63a9c1621a4d1829bfb5619eb120ca46273d48474bec90cd144b5a066f13aadbb78e5a474623fdce9ee748907299afddd27adf7a1cd873502e443be205c48b2613023fd3f85f996c6bbb2d5a6991886de7ec0c417c9afb469ef606a5049648cbc30d65ea8a073a8bd24b25da256f5cd2ed0ece69e7e565dca1059eff8cda2309647d0b17e06752cf2e543f02d98697599263c474e8dd293035e8c7f1ae37da034b418e19e7afbfbdf70c66dd98b60ad17d4e9a55c16864e25447e03b0d410afbaf6be303b2f38fab0ce71d6e0b09bc90b17feef8271bccd55870c5f70ad9cd8a2c937b0a0834339bc61644099e00bef38c6423fdbd659ecfd7c358521402239d1d3032c8f147789b78620780a3f736d7210c73ab068bd3b2f42067ae456cbddf774aa54d0549b4f41174fb37012e50116d64ac8a3e90d75d85378887cfc36ef723454f8878b03ddf1c98b746d92327cf58b5f9188370845a36f7446a2e835c89ea3b0079ddfeb6ef1f630c85d206fb1608ae497ecc21942f397f975759dda0fafbe89f1d1bb39baf104d3e8ea6d255de4b126217730ec17040570f42bfeb84663eb73288c6d2ba0ae3b4e48d889626a6056575d1a32ba81dd76c53e9e5c751c1d3716268b8193fb6ec5e67f603c6e0a347ca9a93f2710e3c28a6956cd693d776839d9d7ba3fec937bddc7d4bb2008f75caf1fd5e0aad254ec827ed3c3e3f10ff139cb39f2fe4dddbc1d7b9c9228c3b88ffc5eda2bfcd91ba629f16225c32bb8123d2b0e0b91463048526630dbcaca58f682e60d930569a5c504fb9a08c4ea3e6526f6be6fc3fbe750406d507393e8cc5547488a15635d751f2b46ad4505f0a848c079039e1668e9fd9215fcde5825e3de8213276e8bf1c7393b5364225fdff1578abdb2807696d7e555947d42972d49f9d07581ff50758c6d6b32ef9aba5c5ea6daf51de6f9644cda1ee41736aa76b3316fa7688f822a111cde3354a3cdf0978e8e4bf1c348ed8f245d1ea4f5e7d838ed5c00ed855cc4388a5a3ddf85261ee3bea9d0826e0d661ee4649c15b67badbf71d53c66f9ce7cdf169a6368d377b43bee1c69242206ad3332d1e65f1bd29d047ad27e4aa241f2b0b4c832a8f42afcebfc1f039490861cd7fae3e94926a1a6610478371d13584c662a9d1c8d5048d13068733f81a293b277797e370afb01cd3af4b22eb78c3ef3de0325452e0ddf454a93aafdf4633894f56c8e1cd3710c980bce2318357e18091cb4c79c4988fcff3b37c17c8783b929f5a63e9a569fd7338c10bf64b6ed33b13ab9f523bdc4188020261b5fc71d175eb96be63c6338c9a43c7f592cb97706835905de3c4d9e15a2c11586b42ebdcf77adb21bd91c7c72602622b88dfbf05f011a2ca7035689d074b0f9497b982649b0c2a68cc7c9037cc92d17741b1acbbb0e83368128c45c8493d462d875290b10320e255653b500e52a8948a975cc55263bc171e7c4e0a7b33135453e8c1fc2b319216a66f1ec0b19d3a20c1a27f012cc45ce3da6c66b05237bea8525d3234aee8aaf07258f729e6fc67181ef976e459f09f447e1ef41e0c02fab98af1269581765a9295cbdb454a29f0c65d5e8656d050ad81dc3bd2e874a3d4d878898cf6bca9552603530dda9e385fc138c7f3522bb1565d46d0fee7890c2a76f526252ebe196edeb238ac7c17d7160d196a4b566bd8be8b0eaa6ab74a8018f2c575d3f1e71507e68cc52aaf236d29be64be803e672fcb4a382696bf303c60d81e0c35a666782c0d65165a492cc194a243c541885797b998ecd77dd2c05e7629b31341b8fd3b85e23a375212913ee9a922c63c85ccf8f8a36a4125f06665d34a88276ce6e233f6a3ea99326f852ab1eeb7461eea2af0ba8b92e5946132f994670c83b3e778d12135b96888c9e2234d9df4e341c48a7d27657dbe89c56497e15bf92f48587594ddf1d818b07e6dd81df169de16960097f5384783677deaa214cfe260c069aa5a5e2dd525b7ccd0509c7937967cbd20504d9da7935cfd84432210729677bd2622a9f2474949b288bbece5a066ca304bccd46a89ea3aceba078be17d3b416a13d45aeeb9cd087f566c6f89621f50c676be0af4c3e4fa734750af7e3ee0e385abff58aaee0f228eff409edf38cedae0525785c96f24ccd84509d38ed999cb26d527437af11a217e2bc59e59d46ea5c3f2786339cacb42c40fdff76e4479f2b57858b4d864d625a933c8c9825fb6bb017b7a3a53fcb30d9d72862b729562aaa8cc4015f56d69b5d8c254114d7eb1e2e596650d3b17b09337605fa134298be795d2fddc347a30e6cfac9947fc3ba08db0ca42f1774102337a64a51c31460e068dc2f7626c1ff3030e40ed5c2d9139cc463e8ce5cf07a4bc269229d72c0d79b682a42001b41ca8ffa686c80b97f3888d6805aae5eb885ad15511616cfdce657745e4325d8a5ade29c56ec7920c9fe0800ba88d82f6099cc45ce8cb43cfe1c38626ba6337348352b1e4d515ee7edabdd375a630f04475107fd55312ec310603dce92c4446580a20731d0b7869918dd636a84262cc29797c3e1fb9d868c80777c1a15d7b64a6552f363909bd35fb3a578d16939d52215289eb01d1800a7b500b25a2560e629265afe0e3c544225610b1df5b4cfb50ce1f5545c574ea9884dc4027f5c90b26d1cd7d4d47d8561604c148207b6d108c74249d7eafe7c730917c1d67563a0d184cc5524fbdc2fd2f40b6e1ac031985e6ddcdb7bfaa554706044883846f02627e32c59da6251d1391a25698b6f461b3b94db179870aca493d65c7ee23f5e4bd697ebd7a3716375be2bb760d5471951b8c4bfa1cafa94874fc4e60652b56ff27af82d451223e7addfed71fef70fb961d6cd953330df753440d946b485b4e19fe7e605c2eabed87bdeb46c07ad0444215fe581a9a2087ce012d7de7e13b5592d02471db2614bd732f17729e54a955bde427ba32d8f9ecc14c585b8656dedf2251c4a8225538261ae36a6709c298262dff30530f51a1992c58dd9bdbea3924b7d0d315cf937ccff93a506c031a65980100ca05170dc9fc777f7de1fb6e0eaf151c06cc9202d5b27c00ddd061d7c4856c0c104d81f1cc9a1d4dda3feabb423d5977198964be47f3f6fb01eadfefda88897cf65e6c1dd0842f10ca3767da54619d13121fe567506877835e2bb24aebda6d247cd9cb97c83d3c29b62db095cb8afaa515f2dd31783ab0f198c315fdddcf8b1208134893464720352e381cd87ee956020e5d99d64ed7d5c920062fbc9bae9417e17ac4161da6da26f4cfb6f7781b01adb14519c876154b93f65fa7fe51f3301b111ec4beedc2d22b725f140b1308c6102b4974c62a89ca42f93d8f6f55413584a9f769d28cb29e5118c8825a3f9fa85ceaa775fdaf9c1db6ee10fb5a7360d691ef7e0dc4cce141c13827005c80621fdb415711f79bdaf718feb8a234b70b61b96c350857b1e1d59933a9dd48b5d3ecaaed753129b54ac233607c8e5dea1600b3bfda793b3956072ea54b4557eff72fd3807016bd6b174317f58ed334d2c665db7a6d96cb7b95544b4681a830125b35642220c171d104dd5239640bc63475717ab499f0babcc1087e00a0f09fc7feee5bd90e55aedc69a4ca092bf3f3dc1487e6c3f0efeb1754d91fc31a47a2caf6a77a0b5d1d19a803db4b3bb18ba6bf68bc40f1879d3e22aeafd1021d506e58170b1d7 å—¨ï¼Œè¯·å‡†ç¡®æ— è¯¯åœ°è¾“å…¥å¯†ç æŸ¥çœ‹å“Ÿï¼","link":"/2021/01/19/Draft/2021/Hexo%E4%BD%BF%E7%94%A8%E8%8C%83%E4%BE%8B/"},{"title":"Nginx","text":"Nginx(â€œengine xâ€)æ˜¯ä¸€æ¬¾æ˜¯ç”±ä¿„ç½—æ–¯çš„ç¨‹åºè®¾è®¡å¸ˆIgor Sysoevæ‰€å¼€å‘é«˜æ€§èƒ½çš„ Webå’Œ åå‘ä»£ç† æœåŠ¡å™¨ï¼Œä¹Ÿæ˜¯ä¸€ä¸ª IMAP/POP3/SMTP ä»£ç†æœåŠ¡å™¨ã€‚ åœ¨é«˜è¿æ¥å¹¶å‘çš„æƒ…å†µä¸‹ï¼ŒNginxæ˜¯ApacheæœåŠ¡å™¨ä¸é”™çš„æ›¿ä»£å“ã€‚ ä¸‹è½½å®‰è£…éƒ¨ç½²â€‹ è§£å‹åä¸è¦ç›´æ¥ç‚¹å‡»exeï¼Œä¼šå¯¼è‡´ä¿®æ”¹é…ç½®åé‡å¯ã€åœæ­¢nginxæ— æ•ˆï¼Œéœ€è¦æ‰‹åŠ¨å…³é—­ä»»åŠ¡ç®¡ç†å™¨å†…çš„æ‰€æœ‰nginxè¿›ç¨‹ï¼Œå†å¯åŠ¨æ‰å¯ä»¥ã€‚ 12345start nginx//å¯åŠ¨æœåŠ¡nginx -s reload//é‡æ–°åŠ è½½é…ç½®å¹¶å¯åŠ¨nginx -s stop// å¿«é€Ÿåœæ­¢nginx -s quit//å®Œæ•´æœ‰åºçš„å…³é—­nginx -t // æ£€æŸ¥é…ç½®æ˜¯å¦æ­£ç¡® é…ç½®è‡ªå®šä¹‰nginx.confæŒ‡ä»¤å¿…é¡»ä»¥åˆ†å·ç»“æŸ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136#user nobody;#==å·¥ä½œè¿›ç¨‹æ•°ï¼Œä¸€èˆ¬è®¾ç½®ä¸ºcpuæ ¸å¿ƒæ•°worker_processes 1;#error_log logs/error.log;#error_log logs/error.log notice;#error_log logs/error.log info;#pid logs/nginx.pid;events { #==æœ€å¤§è¿æ¥æ•°ï¼Œä¸€èˆ¬è®¾ç½®ä¸ºcpu*2048 worker_connections 1024;}http { include mime.types; default_type application/octet-stream; #log_format main '$remote_addr - $remote_user [$time_local] &quot;$request&quot; ' # '$status $body_bytes_sent &quot;$http_referer&quot; ' # '&quot;$http_user_agent&quot; &quot;$http_x_forwarded_for&quot;'; #access_log logs/access.log main; sendfile on; #tcp_nopush on; #keepalive_timeout 0; #==å®¢æˆ·ç«¯é“¾æ¥è¶…æ—¶æ—¶é—´ keepalive_timeout 65; #gzip on; #å½“é…ç½®å¤šä¸ªserverèŠ‚ç‚¹æ—¶ï¼Œé»˜è®¤server namesçš„ç¼“å­˜åŒºå¤§å°å°±ä¸å¤Ÿäº†ï¼Œéœ€è¦æ‰‹åŠ¨è®¾ç½®å¤§ä¸€ç‚¹ server_names_hash_bucket_size 512; #serverè¡¨ç¤ºè™šæ‹Ÿä¸»æœºå¯ä»¥ç†è§£ä¸ºä¸€ä¸ªç«™ç‚¹ï¼Œå¯ä»¥é…ç½®å¤šä¸ªserverèŠ‚ç‚¹æ­å»ºå¤šä¸ªç«™ç‚¹ #æ¯ä¸€ä¸ªè¯·æ±‚è¿›æ¥ç¡®å®šä½¿ç”¨å“ªä¸ªserverç”±server_nameç¡®å®š server { #ç«™ç‚¹ç›‘å¬ç«¯å£ listen 8800; #ç«™ç‚¹è®¿é—®åŸŸå server_name localhost; #ç¼–ç æ ¼å¼ï¼Œé¿å…urlå‚æ•°ä¹±ç  charset utf-8; #access_log logs/host.access.log main; #locationç”¨æ¥åŒ¹é…åŒä¸€åŸŸåä¸‹å¤šä¸ªURIçš„è®¿é—®è§„åˆ™ #æ¯”å¦‚åŠ¨æ€èµ„æºå¦‚ä½•è·³è½¬ï¼Œé™æ€èµ„æºå¦‚ä½•è·³è½¬ç­‰ #locationåé¢è·Ÿç€çš„/ä»£è¡¨åŒ¹é…è§„åˆ™ location / { #ç«™ç‚¹æ ¹ç›®å½•ï¼Œå¯ä»¥æ˜¯ç›¸å¯¹è·¯å¾„ï¼Œä¹Ÿå¯ä»¥ä½¿ç»å¯¹è·¯å¾„ root html; #é»˜è®¤ä¸»é¡µ index index.html index.htm; #è½¬å‘åç«¯ç«™ç‚¹åœ°å€ï¼Œä¸€èˆ¬ç”¨äºåšè½¯è´Ÿè½½ï¼Œè½®è¯¢åç«¯æœåŠ¡å™¨ #proxy_pass http://10.11.12.237:8080; #æ‹’ç»è¯·æ±‚ï¼Œè¿”å›403ï¼Œä¸€èˆ¬ç”¨äºæŸäº›ç›®å½•ç¦æ­¢è®¿é—® #deny all; #å…è®¸è¯·æ±‚ #allow all; add_header 'Access-Control-Allow-Origin' '*'; add_header 'Access-Control-Allow-Credentials' 'true'; add_header 'Access-Control-Allow-Methods' 'GET, POST, OPTIONS'; add_header 'Access-Control-Allow-Headers' 'DNT,X-CustomHeader,Keep-Alive,User-Agent,X-Requested-With,If-Modified-Since,Cache-Control,Content-Type'; #é‡æ–°å®šä¹‰æˆ–è€…æ·»åŠ å‘å¾€åç«¯æœåŠ¡å™¨çš„è¯·æ±‚å¤´ #ç»™è¯·æ±‚å¤´ä¸­æ·»åŠ å®¢æˆ·è¯·æ±‚ä¸»æœºå proxy_set_header Host $host; #ç»™è¯·æ±‚å¤´ä¸­æ·»åŠ å®¢æˆ·ç«¯IP proxy_set_header X-Real-IP $remote_addr; #å°†$remote_addrå˜é‡å€¼æ·»åŠ åœ¨å®¢æˆ·ç«¯â€œX-Forwarded-Forâ€è¯·æ±‚å¤´çš„åé¢ï¼Œå¹¶ä»¥é€—å·åˆ†éš”ã€‚ å¦‚æœå®¢æˆ·ç«¯è¯·æ±‚æœªæºå¸¦â€œX-Forwarded-Forâ€è¯·æ±‚å¤´ï¼Œ$proxy_add_x_forwarded_forå˜é‡å€¼å°†ä¸$remote_addrå˜é‡ç›¸åŒ proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for; #ç»™è¯·æ±‚å¤´ä¸­æ·»åŠ å®¢æˆ·ç«¯çš„Cookie proxy_set_header Cookie $http_cookie; #å°†ä½¿ç”¨ä»£ç†æœåŠ¡å™¨çš„ä¸»åŸŸåå’Œç«¯å£å·æ¥æ›¿æ¢ã€‚å¦‚æœç«¯å£æ˜¯80ï¼Œå¯ä»¥ä¸åŠ ã€‚ proxy_redirect off; #æµè§ˆå™¨å¯¹ Cookie æœ‰å¾ˆå¤šé™åˆ¶ï¼Œå¦‚æœ Cookie çš„ Domain éƒ¨åˆ†ä¸å½“å‰é¡µé¢çš„ Domain ä¸åŒ¹é…å°±æ— æ³•å†™å…¥ã€‚ #æ‰€ä»¥å¦‚æœè¯·æ±‚ A åŸŸåï¼ŒæœåŠ¡å™¨ proxy_pass åˆ° B åŸŸåï¼Œç„¶å B æœåŠ¡å™¨è¾“å‡º Domian=B çš„ Cookieï¼Œ #å‰ç«¯çš„é¡µé¢ä¾ç„¶åœç•™åœ¨ A åŸŸåä¸Šï¼Œäºæ˜¯æµè§ˆå™¨å°±æ— æ³•å°† Cookie å†™å…¥ã€‚ #ä¸ä»…æ˜¯åŸŸåï¼Œæµè§ˆå™¨å¯¹ Path ä¹Ÿæœ‰é™åˆ¶ã€‚æˆ‘ä»¬ç»å¸¸ä¼š proxy_pass åˆ°ç›®æ ‡æœåŠ¡å™¨çš„æŸä¸ª Path ä¸‹ï¼Œ #ä¸æŠŠè¿™ä¸ª Path æš´éœ²ç»™æµè§ˆå™¨ã€‚è¿™æ—¶å€™å¦‚æœç›®æ ‡æœåŠ¡å™¨çš„ Cookie å†™æ­»äº† Path ä¹Ÿä¼šå‡ºç° Cookie æ— æ³•å†™å…¥çš„é—®é¢˜ã€‚ #è®¾ç½®â€œSet-Cookieâ€å“åº”å¤´ä¸­çš„domainå±æ€§çš„æ›¿æ¢æ–‡æœ¬ï¼Œå…¶å€¼å¯ä»¥ä¸ºä¸€ä¸ªå­—ç¬¦ä¸²ã€æ­£åˆ™è¡¨è¾¾å¼çš„æ¨¡å¼æˆ–ä¸€ä¸ªå¼•ç”¨çš„å˜é‡ #è½¬å‘åç«¯æœåŠ¡å™¨å¦‚æœéœ€è¦Cookieåˆ™éœ€è¦å°†cookie domainä¹Ÿè¿›è¡Œè½¬æ¢ï¼Œå¦åˆ™å‰ç«¯åŸŸåä¸åç«¯åŸŸåä¸ä¸€è‡´cookieå°±ä¼šæ— æ³•å­˜å– #é…ç½®è§„åˆ™ï¼šproxy_cookie_domain serverDomain(åç«¯æœåŠ¡å™¨åŸŸ) nginxDomain(nginxæœåŠ¡å™¨åŸŸ) proxy_cookie_domain localhost .testcaigou800.com; #å–æ¶ˆå½“å‰é…ç½®çº§åˆ«çš„æ‰€æœ‰proxy_cookie_domainæŒ‡ä»¤ #proxy_cookie_domain off; #ä¸åç«¯æœåŠ¡å™¨å»ºç«‹è¿æ¥çš„è¶…æ—¶æ—¶é—´ã€‚ä¸€èˆ¬ä¸å¯èƒ½å¤§äº75ç§’ï¼› proxy_connect_timeout 30; } #error_page 404 /404.html; # redirect server error pages to the static page /50x.html # error_page 500 502 503 504 /50x.html; location = /50x.html { root html; } } #å½“éœ€è¦å¯¹åŒä¸€ç«¯å£ç›‘å¬å¤šä¸ªåŸŸåæ—¶ï¼Œä½¿ç”¨å¦‚ä¸‹é…ç½®ï¼Œç«¯å£ç›¸åŒåŸŸåä¸åŒï¼Œserver_nameä¹Ÿå¯ä»¥ä½¿ç”¨æ­£åˆ™è¿›è¡Œé…ç½® #ä½†è¦æ³¨æ„serverè¿‡å¤šéœ€è¦æ‰‹åŠ¨æ‰©å¤§server_names_hash_bucket_sizeç¼“å­˜åŒºå¤§å° server { listen 80; server_name www.abc.com; charset utf-8; location / { proxy_pass http://localhost:10001; } } server { listen 80; server_name aaa.abc.com; charset utf-8; location / { proxy_pass http://localhost:20002; } } åŠŸèƒ½1ï¼‰åå‘ä»£ç† æ­£å‘ä»£ç†ï¼šç‰¹å®šæƒ…å†µä¸‹ï¼Œä»£ç†ç”¨æˆ·è®¿é—®æœåŠ¡å™¨ï¼Œéœ€è¦ç”¨æˆ·æ‰‹åŠ¨çš„è®¾ç½®ä»£ç†æœåŠ¡å™¨çš„ipå’Œç«¯å£å·ã€‚ åå‘ä»£ç†ï¼šæ˜¯ç”¨æ¥ä»£ç†æœåŠ¡å™¨ï¼Œä»£ç†ç”¨æˆ·è¦è®¿é—®çš„ç›®æ ‡æœåŠ¡å™¨ã€‚ä»£ç†æœåŠ¡å™¨æ¥å—è¯·æ±‚ï¼Œç„¶åå°†è¯·æ±‚è½¬å‘ç»™å†…éƒ¨ç½‘ç»œçš„æœåŠ¡å™¨(æœåŠ¡é›†ç¾¤æ¨¡å¼)ï¼Œå¹¶å°†ä»æœåŠ¡å™¨ä¸Šå¾—åˆ°çš„ç»“æœè¿”å›ç»™å®¢æˆ·ç«¯ï¼Œæ­¤æ—¶ä»£ç†æœåŠ¡å™¨å¯¹å¤–å°±è¡¨ç°ä¸ºä¸€ä¸ªæœåŠ¡å™¨ã€‚ Nginxåœ¨åå‘ä»£ç†ä¸Šï¼Œæä¾›çµæ´»çš„åŠŸèƒ½ï¼Œå¯ä»¥æ ¹æ®ä¸åŒçš„æ­£åˆ™é‡‡ç”¨ä¸åŒçš„è½¬å‘ç­–ç•¥ï¼Œå¦‚å›¾è®¾ç½®å¥½åä¸åŒçš„è¯·æ±‚å°±å¯ä»¥èµ°ä¸åŒçš„æœåŠ¡å™¨ã€‚ 2ï¼‰è´Ÿè½½å‡è¡¡ è´Ÿè½½å‡è¡¡ï¼šå¤šåœ¨é«˜å¹¶å‘æƒ…å†µä¸‹éœ€è¦ä½¿ç”¨ã€‚å…¶åŸç†å°±æ˜¯å°†æ•°æ®æµé‡åˆ†æ‘Šåˆ°å¤šä¸ªæœåŠ¡å™¨æ‰§è¡Œï¼Œå‡è½»æ¯å°æœåŠ¡å™¨çš„å‹åŠ›ï¼Œå¤šå°æœåŠ¡å™¨(é›†ç¾¤)å…±åŒå®Œæˆå·¥ä½œä»»åŠ¡ï¼Œä»è€Œæé«˜äº†æ•°æ®çš„ååé‡ã€‚ Nginxå¯ä½¿ç”¨çš„è´Ÿè½½å‡è¡¡ç­–ç•¥æœ‰ï¼šè½®è¯¢ï¼ˆé»˜è®¤ï¼‰ã€æƒé‡ã€ip_hashã€url_hash(ç¬¬ä¸‰æ–¹)ã€fair(ç¬¬ä¸‰æ–¹)ã€‚ 3ï¼‰åŠ¨é™åˆ†ç¦» å¸¸ç”¨äºå‰åç«¯åˆ†ç¦»ï¼ŒNginxæä¾›çš„åŠ¨é™åˆ†ç¦»æ˜¯æŒ‡æŠŠåŠ¨æ€è¯·æ±‚å’Œé™æ€è¯·æ±‚åˆ†ç¦»å¼€ï¼Œåˆé€‚çš„æœåŠ¡å™¨å¤„ç†ç›¸åº”çš„è¯·æ±‚ï¼Œä½¿æ•´ä¸ªæœåŠ¡å™¨ç³»ç»Ÿçš„æ€§èƒ½ã€æ•ˆç‡æ›´é«˜ã€‚ Nginxå¯ä»¥æ ¹æ®é…ç½®å¯¹ä¸åŒçš„è¯·æ±‚åšä¸åŒè½¬å‘ï¼Œè¿™æ˜¯åŠ¨æ€åˆ†ç¦»çš„åŸºç¡€ã€‚é™æ€è¯·æ±‚å¯¹åº”çš„é™æ€èµ„æºå¯ä»¥ç›´æ¥æ”¾åœ¨Nginxä¸Šåšç¼“å†²ï¼Œæ›´å¥½çš„åšæ³•æ˜¯æ”¾åœ¨ç›¸åº”çš„ç¼“å†²æœåŠ¡å™¨ä¸Šã€‚åŠ¨æ€è¯·æ±‚ç”±ç›¸åº”çš„åç«¯æœåŠ¡å™¨å¤„ç†ã€‚","link":"/2021/02/24/Draft/2021/Nginx/"},{"title":"BUG","text":"ä¸€æ¬¡ç›¸è§ï¼Œç»ä¸å†è§BUGåˆ†ç±»è§£å†³è®°å½•ï¼Œå¸¸è§æ’æŸ¥æ–¹æ³•ï¼Œå¸¸è§é¿å…æ–¹æ³•æ€»ç»“ã€‚ cannot open git-upload-packIDEA è®¾ç½® è¯·æ±‚æœ‰å‚æ•°æœ‰ç‰¹æ®Šå­—ç¬¦postå‚æ•°å†™bodyé‡Œé¢ tomcat connecteråŠ relaxedPathChars=â€|{}[]^â€ relaxedQueryChars=â€|{}[]^â€ 123456789101112131415161718192021222324252627package com.jeethink.framework.config;import org.apache.catalina.connector.Connector;import org.springframework.boot.web.embedded.tomcat.TomcatConnectorCustomizer;import org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory;import org.springframework.boot.web.servlet.server.ConfigurableServletWebServerFactory;import org.springframework.context.annotation.Bean;import org.springframework.context.annotation.Configuration;/** * è§£å†³é«˜ç‰ˆæœ¬Tomcatä¸æ”¯æŒåœ¨URLä¸­ä¼ å…¥ç‰¹æ®Šå­—ç¬¦ï¼ˆæ¯”å¦‚|ï¼‰çš„é—®é¢˜ */@Configurationpublic class TomcatServerConfig { @Bean public ConfigurableServletWebServerFactory webServerFactory() { TomcatServletWebServerFactory factory = new TomcatServletWebServerFactory(); factory.addConnectorCustomizers(new TomcatConnectorCustomizer() { @Override public void customize(Connector connector) { //å…è®¸ç‰¹æ®Šå­—ç¬¦ connector.setProperty(&quot;relaxedQueryChars&quot;, &quot;|{}[]&quot;); } }); return factory; }}","link":"/2021/02/24/Draft/2021/BUG/"},{"title":"Software Engineer","text":"é«˜çº§å…¨æ ˆè½¯ä»¶å·¥ç¨‹å¸ˆå…»æˆè®°GISç ”å‘å·¥ç¨‹å¸ˆï¼Œå…¨æ ˆJavaå¼€å‘å·¥ç¨‹å¸ˆ ğŸˆğŸˆğŸˆğŸ˜ TODO ğŸ˜ğŸˆğŸˆğŸˆ [ ] è®¾è®¡æ¨¡å¼ [ ] Redis [ ] ç®—æ³• [ ] ç›®é¢˜(JavaåŸºç¡€æ·±å…¥ï¼Œå…¶ä»–é¢è¯•é¢˜) [ ] Springcloud ç›®å‰å­¦ä¹ è·¯çº¿å†…å®¹ ä¼˜å…ˆç­‰çº§ è®¾è®¡æ¨¡å¼ ğŸ˜ğŸ˜ğŸ˜ğŸ˜ğŸ˜ Redis ğŸ˜ğŸ˜ğŸ˜ğŸ˜ğŸ˜ RabbitMQ ğŸ˜ğŸ˜ğŸ˜ğŸ˜ æ•°æ®åº“ä¼˜åŒ– ğŸ˜ğŸ˜ğŸ˜ğŸ˜ ç½‘ç»œ ğŸ˜ğŸ˜ğŸ˜ğŸ˜ ç®—æ³• ğŸ˜ğŸ˜ğŸ˜ğŸ˜ SpringCloud ğŸ˜ğŸ˜ğŸ˜ğŸ˜ GIS ğŸ˜ğŸ˜ğŸ˜ğŸ˜ Linux ğŸ˜ğŸ˜ğŸ˜ JVM ğŸ˜ğŸ˜ Dubbo ğŸ˜ğŸ˜ ElasticSearch ğŸ˜ğŸ˜ Node.js ğŸ˜ğŸ˜ ES6 ğŸ˜ğŸ˜ Docker ğŸ˜ğŸ˜ åˆ†å¸ƒå¼ ğŸ˜ğŸ˜ é«˜å¹¶å‘ ğŸ˜ğŸ˜ Python ğŸ˜ğŸ˜ å­¦ä¹ å†…å®¹ é¡¹ç›®åç§° è¯¦ç»†å†…å®¹ è¿›åº¦è®°å½• è½¯ä»¶å·¥ç¨‹ ï¼ˆå¾®æœåŠ¡ï¼Œåˆ†å¸ƒå¼ï¼Œé«˜å¹¶å‘ï¼Œå¤šçº¿ç¨‹ï¼Œæ€§èƒ½è°ƒä¼˜ï¼Œç¼“å­˜ï¼Œæ¶ˆæ¯ï¼Œæœç´¢ï¼‰å…¶ä»–åº”ç”¨æœåŠ¡å™¨äº†è§£ã€‚ é¡¹ç›® ä¸ªäººåšå®¢ ä¸ªäººåšå®¢å®Œæˆ å‰ç«¯ VUEï¼ŒBootstrapï¼ŒJSï¼ŒHtmlï¼ŒJQueryï¼ŒAjaxï¼ŒThymeleaf,Axios åç«¯ åŸºç¡€æ·±å…¥ï¼Œä»£ç å¤šå†™ æ¡†æ¶ æ¡†æ¶æ‰å®æ·±å…¥ï¼ŒSpringCloudå°è¯•äº†è§£ æ•°æ®åº“ OracleåŸºç¡€ä½¿ç”¨ï¼ŒMySQL,ç´¢å¼•ï¼Œè§¦å‘å™¨ï¼Œå­˜å‚¨è¿‡ç¨‹ï¼Œä¼˜åŒ–ï¼ˆæ–‡ä»¶åŒ–ï¼Œä»è®¾è®¡åˆ°e-rå›¾åˆ°åˆ›å»ºï¼‰ï¼ŒRedis,MangoDB ç®—æ³• ç®—æ³•æœºè¯•é¢˜ è®¾è®¡æ¨¡å¼ Mybatisï¼ˆ 1ã€Builderæ¨¡å¼5ã€ç»„åˆæ¨¡å¼9ã€è¿­ä»£å™¨æ¨¡å¼2ã€å·¥å‚æ¨¡å¼3ã€å•ä¾‹æ¨¡å¼4ã€ä»£ç†6ã€æ¨¡æ¿æ–¹æ³•æ¨¡å¼7ã€é€‚é…å™¨æ¨¡å¼8ã€è£…é¥°è€…æ¨¡å¼ï¼‰Springï¼ˆ1.ç®€å•å·¥å‚2.å·¥å‚æ–¹æ³•3.å•ä¾‹æ¨¡å¼4.é€‚é…å™¨æ¨¡å¼5.è£…é¥°å™¨æ¨¡å¼6.ä»£ç†æ¨¡å¼7.è§‚å¯Ÿè€…æ¨¡å¼8.ç­–ç•¥æ¨¡å¼9.æ¨¡ç‰ˆæ–¹æ³•æ¨¡å¼ï¼‰ ç½‘ç»œ åè®® ç³»ç»Ÿ Linuxå¸¸ç”¨å‘½ä»¤ï¼ŒJVM å·¥å…· Gitï¼ŒSVNé«˜çº§æ“ä½œï¼ŒPageoffice å®æ“ æœºè¯•é¢˜ ä¸­é—´ä»¶ RabbitMQ ElasticSearch Docker Dubbo æµ‹è¯• å•å…ƒæµ‹è¯• éƒ¨ç½² æœåŠ¡å™¨Jboss ç»´æŠ¤ å…¶ä»– Pythonã€ç†Ÿæ‚‰åŸºç¡€ã€‘å®‰å“ã€æœ‰æ—¶é—´äº†è§£ã€‘ å…¬å¸ springboot+mybatis+gis+vue+redis+æ¡†æ¶+åŸºç¡€å‰åç«¯æ•°æ®äº¤äº’+springcloudã€æœ‰æ—¶é—´äº†è§£ã€‘","link":"/2021/02/25/Draft/2021/Software%20Engineer/"},{"title":"NO GAME NO LIFE","text":"æ¸¸æˆäººç”Ÿ ğŸˆğŸˆğŸˆğŸ˜ å‰ä»–æ‰’è°±â€”æ•°ç»˜â€”è‹±è¯­â€”æ‘„å½± ğŸ˜ğŸˆğŸˆğŸˆ ç›®å‰å­¦ä¹ è·¯çº¿å†…å®¹ ä¼˜å…ˆç­‰çº§ å‰ä»–ä¹ç†ï¼Œæ‰’è°± ğŸ˜ğŸ˜ğŸ˜ğŸ˜ğŸ˜ æ•°ç»˜ ğŸ˜ğŸ˜ğŸ˜ğŸ˜ğŸ˜ è‹±è¯­ ğŸ˜ğŸ˜ğŸ˜ğŸ˜ æ‘„å½± ğŸ˜ğŸ˜ğŸ˜ğŸ˜ è¿åŠ¨ ğŸ˜ğŸ˜ğŸ˜ğŸ˜ è‡ªåª’ä½“ ğŸ˜ğŸ˜ğŸ˜ğŸ˜ å¹³é¢è®¾è®¡ ğŸ˜ğŸ˜ğŸ˜ğŸ˜ ç›®å‰å­¦ä¹ è·¯çº¿å†…å®¹ ä¼˜å…ˆç­‰çº§ éŸ³ä¹ å‰ä»–ï¼Œé’¢ç´ï¼Œå°¤å…‹é‡Œé‡Œï¼Œæ‹‡æŒ‡ç´ï¼Œç®«ï¼Œå£ç´ï¼Œæ¼”å”±ï¼Œè¯æ›² ç»˜ç”» æ•°ç»˜ è®¾è®¡ å¹³é¢ è¿åŠ¨ ç¯®çƒï¼Œç½‘çƒ è¯­è¨€ è‹±è¯­ï¼Œæ—¥è¯­ æ‘„å½± äººåƒï¼Œæ™¯è‰² è‡ªåª’ä½“ å‰ªè¾‘ï¼Œç‰¹æ•ˆ ä¿®å›¾ åŠå…¬æ•ˆç‡å·¥å…·é«˜ç«¯æ“ä½œ OFFICE","link":"/2021/02/25/Draft/2021/NO%20GAME%20NO%20LIFE/"},{"title":"é­‘é­…å…ˆç”Ÿ | éŸ³ä¹","text":"ä¹ç†ã€å‰ä»–ã€å°¤å…‹é‡Œé‡Œã€é’¢ç´ã€æ‹‡æŒ‡ç´","link":"/2021/02/25/Draft/2021/%E4%B9%90%E7%90%86%E7%9F%A5%E8%AF%86/"},{"title":"ä¹¦å½±éŸ³","text":"è®°å½•ä¸å›å¿†æ‰èƒ½è®©é‚£äº›ç¾å¥½çš„ä¸ç¾å¥½çš„å­˜ç•™è„‘ä¸­ï¼Œé˜µé˜µå›è¡ä¸å‘é…µã€‚ å•æœˆæ›´æ–° BOOKSâ€”OTHER [x] ã€Šç™½å¤œè¡Œã€‹ï¼ˆä¸œé‡å¥å¾ï¼‰ [x] ã€Šè§£å¿§æ‚è´§é“ºã€‹ï¼ˆä¸œé‡å¥å¾ï¼‰ [x] ã€Šè®¸ä¸‰è§‚å–è¡€è®°ã€‹ï¼ˆä½™åï¼‰ [x] ã€Šæˆ‘ä»¬ä»¨ã€‹ï¼ˆæ¨ç»›ï¼‰ [x] ã€Šæˆ‘çš„å®¶ã€‹ï¼ˆå·´é‡‘ï¼‰ [x] ã€Šå±€å¤–äººã€‹ [x] ã€Šå°ç‹å­ã€‹ [x] ã€Šæ¶æ„ã€‹ï¼ˆä¸œé‡å¥å¾ï¼‰ [x] ã€Šæ‘†æ¸¡äººã€‹å…‹è±å°”éº¦å…‹ç¦å°” [x] ã€Šå·å½±å­çš„äººã€‹ï¼ˆé©¬å…‹æç»´ï¼‰ [x] ã€Šå²›ä¸Šä¹¦åº—ã€‹ï¼ˆä¸œé‡å¥å¾ï¼‰ [x] ã€Šå«Œç–‘äººXçš„çŒ®èº«ã€‹ [x] ã€Šæ´»ç€ã€‹ï¼ˆä½™åï¼‰ [x] ã€Šç©†æ–¯æ—çš„è‘¬ç¤¼ã€‹ï¼ˆéœè¾¾ï¼‰ [x] ã€Šä¹–ï¼Œæ‘¸æ‘¸å¤´ã€‹ï¼ˆå¤§å†°ï¼‰ [x] ã€Šæ°´å½©ä»å…¥é—¨åˆ°ç²¾é€šã€‹ï¼ˆé£ä¹é¸Ÿï¼‰ [x] ã€Šäººï¼Œè¯—æ„çš„æ –å±…ã€‹ï¼ˆæµ·å¾·æ ¼å°”ï¼‰ [x] ã€Šæ˜æœé‚£äº›äº‹ã€‹å½“å¹´æ˜æœˆï¼ŒçŸ³é” [x] ã€Šçœ‹è§ã€‹æŸ´é™ [x] ã€Šæ··è¡€è±¹ç‹ã€‹æ²ˆçŸ³æºª [x] ã€Šç‹¼ç‹æ¢¦ã€‹æ²ˆçŸ³æºª [x] ã€Šç¬¬ä¸ƒå¤©ã€‹ä½™å [x] ã€Šåœ°å¿ƒæ¸¸è®°ã€‹ [x] ã€Šç›®é€ã€‹é¾™åº”å° [x] ã€Šäººé—´å¤±æ ¼ã€‹ [x] ã€Šåˆ«ä¸Šäº†æ‘„å½±çš„å½“ã€‹ [x] ã€Šæ‹å‡ºæ˜æ˜ŸèŒƒã€‹ [x] ã€Šäººåƒæ‘„å½±æ•™ç¨‹ã€‹ å”ä¸œå¹³ [x] ã€Šå®‰å¾’ç”Ÿç«¥è¯ã€‹ BOOKSâ€”MAJOR [ ] ã€Šæ·±å…¥ç†è§£Javaè™šæ‹Ÿæœº3ã€‹ [ ] ã€Šè®¡ç®—æœºç½‘ç»œè‡ªé¡¶ä¸‹ä¸‹æ–¹æ³•ã€‹ [x] ã€Šç¨‹åºå‘˜çš„è‡ªæˆ‘ä¿®å…»ã€‹ 1.å®è·µå‡ºçœŸçŸ¥ï¼Œé€šç”¨æœ€å®è´µï¼Œæœ€æ–°ä¹äºæ±‚ï¼Œæ²Ÿé€šä¸å¯æ— ï¼Œç¯å¢ƒå½±å“å¤§ï¼Œåˆ‡ä¿èº«ä½“å¥½ï¼Œè–ªé…¬ç­‰é‡çº§ï¼Œå•é¡¹æ±‚å‘å±•ï¼Œå£°èª‰å»ºå“ç‰Œï¼Œä¸æ–­å­¦è¿›æ­¥ 2.è‹±è¯­å¾ˆé‡è¦ï¼Œé˜…è¯»ä¼˜ç§€é¡¹ç›®ï¼Œ [x] ã€Šé˜¿é‡Œå·´å·´å¼€å‘æ‰‹å†Œæ³°å±±ç‰ˆã€‹ 1.æ‰€æœ‰æ•°æ®åº“éƒ½è¦é…ç½®gmy_create(åˆ›å»ºæ—¶é—´)ã€gmt_modified(æ›´æ–°æ—¶é—´)ä¸”éœ€è¦è‡ªåŠ¨åŒ– MUSICMOVIES ã€Šé“¶æ²³æŠ¤å«é˜Ÿ2ã€‹ ã€Šæ–°æœ¨ä¹ƒä¼Šã€‹ ã€ŠåŠ å‹’æ¯”æµ·ç›—1234ã€‹ ã€Šè¿™ä¸ªæ€æ‰‹ä¸å¤ªå†·ã€‹ ã€Šè‚–ç”³å…‹çš„æ•‘èµã€‹ ã€Šæ³°å¦å°¼å…‹å·ã€‹ ã€Šæ€¦åˆ¤å¿ƒåŠ¨ã€‹ ã€Šæ˜Ÿé™…ç©¿è¶Šã€‹ ã€Šæºä»£ç ã€‹ ã€Šé»‘å®¢å¸å›½ã€‹ ã€Šæ›¾ç»ã€‹ ã€Šçˆ±ä¸½ä¸çš„æ¢¦æ¸¸ä»™å¢ƒã€‹ ã€Šå†ˆä»æ³¢æ¬¡ã€‹ ã€Šå¤©ç©ºä¹‹åŸã€‹ ã€Šå˜å½¢é‡‘åˆš5ã€‹ ã€Šæœºå™¨ç®¡å®¶ã€‹ ã€Šç‹¬ç«‹æ—¥ã€‹ ã€Šå¹½çµè¡ŒåŠ¨é˜¿å°”æ³•é˜Ÿã€‹ ã€Šå¤ªç©ºæ—…å®¢ã€‹ ã€Šå¤ªç©ºä¸€å·ã€‹ ã€Šåœ°å¿ƒå¼•åŠ›ã€‹ ã€Šæš®å…‰ä¹‹åŸã€‹ ã€Šå¼‚å½¢ã€‹ ã€Šç«æ˜Ÿæ•‘æ´ã€‹ ã€Šç¾ä¸½äººç”Ÿã€‹ ã€Šæ·±å¤œé£Ÿå ‚ã€‹ ã€Šæˆ˜ç‹¼1/2ã€‹ ã€Šæ‘†æ¸¡äººã€‹ ã€Šå®‰å¾·å¾—æ¸¸æˆã€‹ ã€ŠåäºŒåªçŒ´å­ã€‹ ã€Šå°æ£®æ—ã€‹ ã€Šé€†ä¸–ç•Œã€‹ ã€Šé‡‘åˆšéª·é«…å²›ã€‹ ã€Šå¤æ´›ç‰¹çƒ¦æ¼ã€‹ ã€Šå·¦è€³ã€‹ ã€Šé’¢é“éª‘å£«ã€‹ ã€Šæ‰å¦–è®°ã€‹ ã€Šé‡è¿”20å²ã€‹ ã€Šæœºæ¢°å¸ˆã€‹ ã€Šæ”»å£³æœºåŠ¨é˜Ÿã€‹ ã€Šä¸€ä¸‡å…¬é‡Œçš„çº¦å®šã€‹ ã€Šç”ŸåŒ–å±æœºå…¨ã€‹ ã€Šè°‹æ€ä¼¼æ°´å¹´åã€‹ ã€Šç¬¬ä¹åŒºã€‹ ã€Šä¸å›ç›¸æ‹100æ¬¡ã€‹ ã€Šæ‚Ÿç©ºä¼ ã€‹ ã€Šåˆºå®¢ä¿¡æ¡ã€‹ ã€Šç»£æ˜¥åˆ€ï¼Œä¿®ç½—åœºã€‹ ã€Šæƒåˆ©çš„æ¸¸æˆ1234567ã€‹ å«Œç–‘äººXçš„çŒ®èº« å¯»æ¢¦ç¯æ¸¸è®° ç¼çº«æœºä¹é˜Ÿ æ•¦åˆ»å°”å…‹ æ´›ä¸½å¡” é­æ‹”123 è§£å¿§æ‚è´§åº— å‰ä»»3 ç¥å¥‡å¥³ä¾  èŠ³å è¢«å·èµ°çš„é‚£äº”å¹´ ä»ä½ çš„å…¨ä¸–ç•Œè·¯è¿‡ åˆ†æ‰‹åˆçº¦ å¤æ´›ç‰¹çƒ¦æ¼ åŒ†åŒ†é‚£å¹´ å¤±æ‹33å¤© æµ·ä¸Šé’¢ç´å¸ˆ å…¬ç‰›å†é™©è®° 179å°æ—¶ æœˆçƒ è®°å¿†å¤§å¸ˆ é»‘å¤©é¹… é“¶ç¿¼æ€æ‰‹ è¡€æˆ˜é’¢é”¯å²­ è‡ªæ€å°é˜Ÿ çœ‹ä¸è§çš„å®¢äºº äºŒä»£å¦–ç²¾ä¹‹ä»Šç”Ÿæœ‰å¹¸ æ¯”å¾—å…” å¤©ç©ºä¹‹çœ¼ å°èè‰çš„çŒ´ç¥å¤§å” å¼±ç‚¹ é˜¿ç”˜æ­£ä¼  å½“å¹¸ç¦æ¥æ•²é—¨ ç¡…è°·123 å›½ç‹çš„æ¼”è®² æˆ‘æ˜¯æ±Ÿå°ç™½ å½± ç»¿çš®ä¹¦ ç›—æ¢¦ç©ºé—´ è°ƒéŸ³å¸ˆ å°‘å¹´æ´¾çš„å¥‡å¹»æ¼‚æµ æ€¦ç„¶å¿ƒåŠ¨ éœ¸ç‹åˆ«å§¬ å¤ä»‡è€…è”ç›Ÿå›› èœ˜è››ä¾ å¹³è¡Œå®‡å®™ å¤´å·ç©å®¶ æ˜æ—¥è¾¹ç¼˜ å°æ—¶å…‰ ç–¯ç‹‚åŠ¨ç‰©åŸ é©¯é¾™é«˜æ‰‹12","link":"/2021/02/24/Draft/2021/%E4%B9%A6%E5%BD%B1%E9%9F%B3/"},{"title":"äº”åˆ†é’Ÿæ­å»ºåœ¨çº¿åšå®¢","text":"&emsp;&emsp;åšå®¢å·²æˆä¸ºç¨‹åºå‘˜å­¦ä¹ ä¸è¾“å‡ºé‡è¦ä¸€ç¯ï¼Œå½“ä½ æ—¶é—´å®è´µæˆ–è€…æ²¡æœ‰å¿…è¦ä»é›¶æ„å»ºä¸ªäººåšå®¢çš„è¯ï¼Œä¸€ä¸ªå¯ä»¥è¿›è¡Œå¿«é€Ÿæ­å»ºçš„é™æ€åšå®¢å°±æ˜¾å¾—æ¯”è¾ƒé‡è¦äº†ã€‚ä¸ä½†ä¸°å¯Œçš„ä¸»é¢˜å¯ä»¥ä»»ä½ é€‰æ‹©ï¼Œå„ä¸ªç»„ä»¶è¿˜å¯ä»¥ä»»ä½ æ­é…ã€‚æœ‰çš„ç”šè‡³æ— éœ€æœåŠ¡å™¨å’ŒåŸŸåæ³¨å†Œï¼Œåˆ†åˆ†é’Ÿå®ç°è‡ªå·±åˆ†äº«çš„å°åŸºåœ°ã€‚ç›®å‰æ¯”è¾ƒæµè¡Œçš„å¼€æºæ¡†æ¶æœ‰ Hexoã€WordPressã€VuePressã€Hugoã€Soloã€Halo ã€Jekyllç™½å«–å…šã€æ— éœ€æœåŠ¡å™¨ï¼Œå…è´¹åŸŸåã€‘å–œæ¬¢çš„==æ— ä¸ªäººåŸŸåæ— æ³•è¢«ç™¾åº¦æœç´¢== Jekyllã€Hugoã€Hexoæœ¬åšå®¢ä½¿ç”¨ Hexoæ¥ä¸‹æ¥å¼€å§‹Hexoåšå®¢å¿«é€Ÿæ­å»º ç¯å¢ƒå‡†å¤‡ Githubè´¦å·ï¼Œæ–°åº“å:ç”¨æˆ·å.github.io node.jsã€npmã€JSã€Git å®‰è£…ä¸åŸºç¡€å­¦ä¹  å›¾åºŠ Gitee+PicGo åˆæ­¥æ­å»º åˆ›å»ºåšå®¢æ–‡ä»¶å¤¹ï¼Œshift+å³é”®è¿›å…¥ç›®å½•cmd å®‰è£…hexo npm install -g hexo-cli åˆå§‹åŒ–æ–‡ä»¶å¤¹ hexo init hexo_blog è¿›å…¥åšå®¢æ–‡ä»¶å¤¹ cd E:\\my\\hexo_blog å®‰è£…åšå®¢éœ€è¦çš„ä¾èµ–æ–‡ä»¶ npm install Hexoå‘½ä»¤ hexo cl #æ¸…ç† hexo g #ç”Ÿæˆ hexo s #æœ¬åœ°æœåŠ¡ hexo d #å‘å¸ƒ æµ‹è¯•http://locakhost:4000 æˆ–127.0.0.1:4000 åˆæ­¥æ­å»ºå®Œæˆ Hexoç›¸å…³é…ç½® é¡¹ç›®ç›®å½•è¯´æ˜ _config.ymlé…ç½® 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117title: åšå®¢åsubtitle: å‰¯æ ‡é¢˜description: åšå®¢æè¿°keywords: SEOæœç´¢å…³é”®è¯author: æ–‡ç« ä½œè€…language: zh-CN #è¯­è¨€timezone: ''#æ—¶åŒº# URL## If your site is put in a subdirectory, set url as 'http://example.com/child' and root as '/child/'url: http://MrDemonlxl.github.io #ç½‘å€root: /permalink: :year/:month/:day/:title/permalink_defaults:pretty_urls: trailing_index: true # Set to false to remove trailing 'index.html' from permalinks trailing_html: true # Set to false to remove trailing '.html' from permalinks# Directorysource_dir: sourcepublic_dir: publictag_dir: tagsarchive_dir: archivescategory_dir: categoriescode_dir: downloads/codei18n_dir: :langskip_render:# Writingnew_post_name: :title.md # File name of new postsdefault_layout: posttitlecase: false # Transform title into titlecaseexternal_link: enable: true # Open external links in new tab field: site # Apply to the whole site exclude: ''filename_case: 0render_drafts: falsepost_asset_folder: falserelative_link: falsefuture: truehighlight: enable: true line_number: true auto_detect: false tab_replace: '' wrap: true hljs: falseprismjs: enable: false preprocess: true line_number: true tab_replace: ''# Home page setting# path: Root path for your blogs index page. (default = '')# per_page: Posts displayed per page. (0 = disable pagination)# order_by: Posts order. (Order by date descending by default)index_generator: path: '' per_page: 10 order_by: -date# Category &amp; Tagdefault_category: uncategorizedcategory_map:tag_map:# Metadata elements## https://developer.mozilla.org/en-US/docs/Web/HTML/Element/metameta_generator: true# Date / Time format## Hexo uses Moment.js to parse and display date## You can customize the date format as defined in## http://momentjs.com/docs/#/displaying/format/date_format: YYYY-MM-DDtime_format: HH:mm:ss## updated_option supports 'mtime', 'date', 'empty'updated_option: 'mtime'# Pagination## Set per_page to 0 to disable paginationper_page: 10pagination_dir: page# Include / Exclude file(s)## include:/exclude: options only apply to the 'source/' folderinclude:exclude:ignore:# Extensions## Plugins: https://hexo.io/plugins/## Themes: https://hexo.io/themes/theme: amazing#landscape# Deployment## Docs: https://hexo.io/docs/one-command-deploymentdeploy: type: git repo: https://github.com/MrDemonlxl/MrDemonlxl.github.io.git branch: maincomment: #è¯„è®º type: gitalk language: zh-CN #zh-CN #Localization language key, en, zh-CN and zh-TW are currently available. owner: MrDemonlxl # (required) GitHub user name repo: MrDemonlxl.github.io # (required) GitHub repository name client_id: # (required) OAuth application client id client_secret: # (required) OAuth application client secret admin: [''] create_issue_manually: true distraction_free_mode: false has_hot_recommend: true # æ˜¯å¦æœ‰çƒ­é—¨æ¨è has_latest_comment: true #æ˜¯å¦æœ‰æœ€æ–°è¯„è®º ``` ä¸»é¢˜é€‰æ‹©https://hexo.io/themes/é€‰æ‹©å–œæ¬¢ä¸»é¢˜ï¼Œä¸‹è½½ç›¸åº”ä¸»é¢˜åŒ…æ”¾å…¥ä¸»é¢˜æ–‡ä»¶å¤¹ï¼Œè¿›è¡Œå¯¹åº”ä¸»é¢˜è¯´æ˜é…ç½®ã€‚ ç»§ç»­å­¦ä¹ å®Œå–„https://hexo.io/zh-cn/docs/index.html æ•ˆæœé¢„è§ˆhttps://mrdemonlxl.github.io/","link":"/2021/02/18/Draft/2021/%E4%BA%94%E5%88%86%E9%92%9F%E6%90%AD%E5%BB%BA%E5%9C%A8%E7%BA%BF%E5%8D%9A%E5%AE%A2/"},{"title":"é­‘é­…å…ˆç”Ÿ | å‰ç«¯","text":"VUEã€HTMLã€JSã€ã€ã€ã€ VUEHTML5JavascriptBootstrapCSSAjaxJQueryå…¶ä»– varå®šä¹‰çš„å˜é‡ï¼Œæ²¡æœ‰å—çš„æ¦‚å¿µï¼Œå¯ä»¥è·¨å—è®¿é—®, ä¸èƒ½è·¨å‡½æ•°è®¿é—®ã€‚ letå®šä¹‰çš„å˜é‡ï¼Œåªèƒ½åœ¨å—ä½œç”¨åŸŸé‡Œè®¿é—®ï¼Œä¸èƒ½è·¨å—è®¿é—®ï¼Œä¹Ÿä¸èƒ½è·¨å‡½æ•°è®¿é—®ã€‚ constç”¨æ¥å®šä¹‰å¸¸é‡ï¼Œä½¿ç”¨æ—¶å¿…é¡»åˆå§‹åŒ–(å³å¿…é¡»èµ‹å€¼)ï¼Œåªèƒ½åœ¨å—ä½œç”¨åŸŸé‡Œè®¿é—®ï¼Œè€Œä¸”ä¸èƒ½ä¿®æ”¹æŒ‡é’ˆã€‚ this.$nextTick(()=&gt;{åˆ›å»ºåœ°å›¾å¯¹è±¡ä»£ç })é¡ºåºåŠ è½½DOM","link":"/2021/03/01/Draft/2021/%E5%89%8D%E7%AB%AF/"},{"title":"BUG","text":"èº«ä½“æ˜¯é©å‘½çš„æœ¬é’± è½¯ä»¶ï¼šå°çº¢ä¹¦ï¼Œè®°å½•å¿ƒå¾—ï¼Œè¯»ä¹¦ç”µå½±ç¬”è®°ï¼Œæ‘„å½±ï¼Œæ—…æ¸¸ç¬¬ä¸€ä¸ªå°ç›®æ ‡ï¼šå‡æ‰å°è‚šè‚šå¥èº«è®¡åˆ’ï¼šè‡³å°‘æ¯å¤© 80 ä¸ªä»°å§èµ·å ä»£æ›¿æ–¹æ¡ˆï¼šç¯®çƒï¼Œè·‘æ­¥ è®°å½•ï¼š2021.3.25 100ä»°å§èµ·å","link":"/2021/02/24/Draft/2021/%E5%81%A5%E8%BA%AB%E5%A4%96%E5%9E%8B/"},{"title":"è‡ªåª’ä½“è®¡åˆ’","text":"è‡ªåª’ä½“è§„åˆ’ï¼Œæ„å»ºing 2021-GOALS [ ] å‰ç«¯æ ç›® [x] Javaæ ç›® [x] Pythonæ ç›® [x] æ¯æ—¥ç®—æ³•æ ç›® [x] è®¾è®¡æ¨¡å¼æ ç›® [x] ç½‘ç»œçŸ¥è¯†æ ç›® [x] éŸ³ä¹ä¹ç†æ ç›® [ ] èŒåœºç»éªŒæ ç›® [ ] è‰ºæœ¯æ¬£èµæ ç›® [x] è®¾è®¡æ ç›® [x] å·¥å…·æ ç›® [x] è¯­è¨€æ ç›® è‡ªåª’ä½“çŸ©é˜µ æŠ–éŸ³ã€è‰ºæœ¯ï¼Œç”Ÿæ´»ï¼Œå‰ªè¾‘ï¼ŒVlogã€‘çŸ­è§†é¢‘ VUEã€Vlogã€‘é•¿è§†é¢‘ bilibiliã€åˆé›†ã€‘é•¿è§†é¢‘ å¤´æ¡ã€çŸ¥è¯†ï¼Œæ–°é—»ã€‘ çŸ¥ä¹ã€ç”Ÿæ´»ã€çŸ¥è¯†ã€‘ CSDNã€ä¸“ä¸šçŸ¥è¯†ã€‘ å¾®åšã€å®£ä¼ ã€‘ ç®€ä¹¦ã€æ–‡å­—ã€‘ å°çº¢ä¹¦ã€æ—¶å°šã€ç”Ÿæ´»ã€‘ è±†ç“£ã€è®°å½•è‰ºæœ¯ã€‘ å…¬ä¼—å·ã€è¾“å‡ºã€‘","link":"/2021/02/09/Draft/2021/%E5%8D%9A%E5%AE%A2%E8%AE%A1%E5%88%92/"},{"title":"å¦‚ä½•å­¦ä¹ ä¸€ä¸ªæ–°çŸ¥è¯†","text":"ä¸ªäººå­¦ä¹ æµç¨‹å·¥å…·è®°å½•ï¼Œå¦‚ä½•å°†ä¸€ä¸ªå­¦ä¹ ç›®æ ‡æœ€é«˜æ•ˆç‡åŒ–å­¦ä¹ ===ã€‹ç†Ÿç»ƒ==ã€‹å¤§å¸ˆ==ã€‹åˆ›é€  æ–°å­¦å››é—®WHYã€ä¸å‰ä»£ä¼˜åŒ–äº†ä»€ä¹ˆï¼Œå¼¥è¡¥äº†ä»€ä¹ˆç©ºç™½ã€‘WHATã€æ¡†æ¶ï¼Œæ€ç»´å¯¼å›¾ï¼Œä¸»é¢˜æ¡†æ¶ã€‘HOWã€å¦‚ä½•è®°å¿†ï¼Œå­¦ä¹ èµ„æºã€‘LEVELã€ä¸æ˜¯æ¯ä¸ªéƒ½å­¦ç²¾ã€‘ å›é¡¾å››é—®ã€è¡¥å……ã€‘WHYã€ä¸å‰ä»£ä¼˜åŒ–äº†ä»€ä¹ˆï¼Œå¼¥è¡¥äº†ä»€ä¹ˆç©ºç™½ã€‘WHATã€æ¡†æ¶ï¼Œæ€ç»´å¯¼å›¾ï¼Œä¸»é¢˜æ¡†æ¶ã€‘HOWã€å¦‚ä½•è®°å¿†ï¼Œå­¦ä¹ èµ„æºã€‘LEVELã€ä¸æ˜¯æ¯ä¸ªéƒ½å­¦ç²¾ã€‘ å·¥å…· Xmaind MarginNote Typora Anki å°è±¡ç¬”è®° ä¸“é¡¹å·¥å…· åšæœï¼ˆç¬”è®°åœ¨çº¿åŒæ­¥ï¼‰ ç™¾åº¦åœ¨çº¿è„‘å›¾ æµç¨‹ Google ä¸ºä»€ä¹ˆå­¦ã€ä¸å‰ä»£ä¼˜åŒ–äº†ä»€ä¹ˆã€‘ï¼Œå­¦ä»€ä¹ˆã€æ¡†æ¶ï¼Œæ€ç»´å¯¼å›¾ã€‘ï¼Œå¦‚ä½•å­¦ã€é‡å¤è¿ç”¨ï¼Œç›´æ¥èƒŒè¯µã€‘ï¼Œå­¦åˆ°å“ªã€ä¼šç”¨å³å¯ã€‘ èµ„æºå‡†å¤‡ Xmaindï¼ŒMarginNoteï¼ŒGoodnotesã€æ€ç»´å¯¼å›¾ï¼Œç¬”è®°ã€‘ï¼Œç™¾åº¦åœ¨çº¿è„‘å›¾ Typoraï¼Œå°è±¡ç¬”è®° å¯¼å…¥æ€ç»´å¯¼å›¾ Markdown ç¬”è®°ç»†åŒ–ï¼Œæ–¹ä¾¿æ•´ç†åˆ†äº« Anki è‰¾å®¾æµ©æ–¯è®°å¿†ç¨³å›º ç»“æ„åŒ–====ã€‹ç»†åŒ–====ã€‹å›ºåŒ–====ã€‹æ›´æ–° æ–¹æ³•åˆ†ç±»å­¦ä¹ é‡å¤è®°å¿†å®æ“è¿ç”¨æœ€é«˜æ ‡å‡†ç¬”è®°æ–¹æ³•åˆç†è®¡åˆ’ç£ä¿ƒéªŒæ”¶ ç½‘ç»œæ–¹æ³•è´¹æ›¼å­¦ä¹ æ³•","link":"/2021/02/09/Draft/2021/%E5%A6%82%E4%BD%95%E5%AD%A6%E4%B9%A0%E4%B8%80%E4%B8%AA%E6%96%B0%E7%9F%A5%E8%AF%86/"},{"title":"å·¥å…·ç¯‡","text":"å·¥å…·ç¯‡ å·¥å…·ç¯‡ å·¥æ¬²å–„å…¶äº‹ï¼Œå¿…å…ˆåˆ©å…¶å™¨ ç¼–ç¨‹ IDEA ç”µè„‘åº”ç”¨ å­¦ä¹  æµç¨‹å›¾ åœ¨çº¿æµç¨‹å›¾ ProcessOn ç¦»çº¿æµç¨‹å›¾ XMaind æ•°ç å·¥å…· Synergyé”®é¼ å…±äº«å·¥å…· åšæœäº‘ï¼Œæ–‡ä»¶åŒæ­¥å·¥å…· ç½‘ç«™æ¨è è‰ºæœ¯ è®°å½• æ—¶å…‰åºã€å¤‡å¿˜ï¼Œæé†’ï¼ŒTODOã€‘","link":"/2021/08/17/Draft/2021/%E5%B7%A5%E5%85%B7%E7%AF%87/"},{"title":"å¿«æŸ¥","text":"Linux,Shell,è½¯ä»¶ç­‰å¸¸ç”¨å‘½ä»¤å¿«æ·é”® CMDnetstat -aon|findstr â€œ59207â€æŸ¥æ‰¾å¯¹åº”ç«¯å£pidtasklist|findstr â€œ1396â€æŸ¥çœ‹å¯¹åº”pidç¨‹åºtaskkill /t /f /pid â€œ8888â€å…³é—­å¯¹åº”ç«¯å£mstsc å¯åŠ¨è¿œç¨‹æ¡Œé¢gpedit.mscç­–ç•¥ç»„ HEXOHexo c æ¸…ç†Hexo gç¼–è¯‘Hexo sè¿è¡ŒHexo déƒ¨ç½²hexo new draftï¼ˆscaffoldsä¸­æ¨¡æ¿åå­—ï¼‰â€œæ ‡é¢˜â€æ–°å»ºè‰ç¨¿ åœ¨source/_draftsç›®å½•hexo new â€œæ ‡é¢˜â€æ–°å»ºæ–‡æ¡£hexo publish â€œæ ‡é¢˜â€è‰ç¨¿ç§»åŠ¨åˆ°source/_postç›®å½• IDEActrl +R æ›¿æ¢ LINUXyum install net-tools å®‰è£…ç½‘ç»œå·¥å…· linuxå¯ç›´æ¥å¤åˆ¶ç»™åˆ«äººï¼Œå¤åˆ¶VMwareå·¥ä½œç›®å½•ç„¶åç›´æ¥æ‰“å¼€ su å›è½¦è¾“å…¥å¯†ç è½¬æ¢ä¸ºè¶…çº§ç®¡ç†å‘˜ifconfigæŸ¥è¯¢ç½‘ç»œç›¸å…³clearæ¸…ç©ºæ˜¾ç¤ºifconfig eth0 192.16.ã€‚ã€‚ã€‚è®¾ç½®IPåœ°å€å‘½ä»¤å¤šæ•°ä¸ºä¸´æ—¶ç”Ÿæ•ˆï¼Œå†™å…¥é…ç½®æ–‡ä»¶ä¸ºæ°¸ä¹…ç”Ÿæ•ˆls [-é€‰é¡¹][å‚æ•°]ï¼šls -la /etc ç›®å½•å¤„ç†å‘½ä»¤ï¼ˆlistï¼‰ls -a/l/lh/ld/i éšè—æ–‡ä»¶/æ–‡ä»¶è¯¦ç»†ä¿¡æ¯/å¤§å°å•ä½æ˜¾ç¤º/æŸ¥çœ‹ç›®å½•ä¿¡æ¯/æŸ¥çœ‹æ–‡ä»¶id d l æ–‡ä»¶å¼€å¤´ æ–‡ä»¶ã€ç›®å½•ã€è½¯è¿æ¥ æƒé™ mkdirã€make directoriesã€‘ åˆ›å»ºç›®å½• -pé€’å½’åˆ›å»º åˆ›å»ºæ²¡æœ‰æ­¤ç›®å½•ä¸‹çš„ç›®å½•ï¼Œå¯åŒæ—¶åˆ›å»ºå¤šä¸ªmkdir /tmp/a/b /tmp/a/ccd ã€change directoryã€‘åˆ‡æ¢ç›®å½• cd ..è¿”å›ä¸Šä¸€çº§ç›®å½•pwdã€print working directoryã€‘cd ./.. å½“å‰ç›®å½•/ä¸Šçº§ç›®å½•remdirã€remove empty dirctoriesã€‘ åˆ é™¤ç©ºç›®å½•cpã€copyã€‘å¤åˆ¶ æºæ–‡ä»¶ ç›®å½• -rå¤åˆ¶ç›®å½• -på¤åˆ¶å¹¶ä¿ç•™æ–‡ä»¶å±æ€§ï¼ˆæ¯”å¦‚åˆ›å»ºæ—¶é—´ï¼‰ å¤åˆ¶å¹¶æ”¹åmvã€moveã€‘ å‰ªåˆ‡rmã€removeã€‘åˆ é™¤æ–‡ä»¶ï¼Œç›®å½• -råˆ é™¤ç›®å½• -få¼ºåˆ¶åˆ é™¤ -rfç›´æ¥åˆ é™¤ctrl+cç»ˆæ­¢æ“ä½œtouch åˆ›å»ºæ–‡ä»¶ å¯åˆ›å»ºå¤šä¸ªï¼Œåˆ›å»ºç©ºæ ¼æ–‡ä»¶åä½¿ç”¨åŒå¼•å·ä½†æ˜¯ä¸å»ºè®®cat æµè§ˆæ–‡ä»¶å†…å®¹ -næ˜¾ç¤ºè¡Œå·tac å€’ç½®æµè§ˆæ–‡ä»¶å†…å®¹more åˆ†é¡µæ˜¾ç¤ºé•¿æ–‡ä»¶ ç©ºæ ¼ç¿»é¡µï¼Œå›è½¦æ¢è¡Œï¼Œqé€€å‡ºï¼Œless æ˜¾ç¤ºæ–‡ä»¶å†…å®¹ï¼Œå¯å‘ä¸Šç¿»é¡µpageupï¼Œå¯æœç´¢ï¼š/å…³é”®è¯ næ˜¾ç¤ºä¸‹ä¸€ä¸ªæœç´¢ç»“æœhead åªçœ‹æ–‡ä»¶å‰å‡ è¡Œ -n 7 æ–‡ä»¶ æ˜¾ç¤ºå‰7è¡Œï¼Œé»˜è®¤å‰åè¡Œtail åŒä¸Š -fåŠ¨æ€æ˜¾ç¤ºå˜åŒ– ctrl+cé€€å‡º lnã€linkã€‘ -såˆ›å»ºè½¯è¿æ¥ ä¸å†™-såˆ›å»ºç¡¬é“¾æ¥ã€è½¯è¿æ¥ç›¸å½“äºå¿«æ·æ–¹å¼rwxrwxrwxï¼Œæƒé™è·Ÿæºæ–‡ä»¶æƒé™æ— å…³ï¼Œç¡¬é“¾æ¥ç›¸å½“äºæ‹·è´cp -på¹¶ä¸”åŒæ­¥æ›´æ–°ï¼Œç¡¬é“¾æ¥é€šè¿‡ièŠ‚ç‚¹åŒºåˆ†ï¼Œä¸èƒ½è·¨åˆ†åŒºï¼ˆç›¸å½“äºä¸èƒ½cç›˜å¤åˆ¶åˆ°dç›˜ï¼‰ï¼Œä¸èƒ½é’ˆå¯¹ç›®å½•ä½¿ç”¨ã€‘yum -y install gitsudo -s1è·å¾—ç®¡ç†å‘˜æƒé™å‘½ä»¤ï¼šsudo -så›è½¦è¾“å…¥å¯†ç  ç¼–è¾‘ä¿å­˜æ–‡ä»¶â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”-ç¬¬ä¸€æ­¥ï¼šcdåˆ°è¯¥æ–‡ä»¶çš„ç›®å½•ä¸‹ ç¬¬äºŒæ­¥ï¼švi è¦ç¼–è¾‘çš„æ–‡ä»¶åï¼Œè¿›å…¥æ™®é€šæ¨¡å¼ï¼Œï¼ˆå¯ä»¥æŸ¥çœ‹æ–‡ä»¶å†…å®¹ï¼‰sudo gedit /etc/apt/sources.list å¯è§†åŒ–ç¼–è¾‘ç¬¬ä¸‰æ­¥ï¼šè¾“å…¥ i è¿›å…¥ç¼–è¾‘æ¨¡å¼ï¼Œå¼€å§‹ç¼–è¾‘æ–‡æœ¬ ç¬¬å››æ­¥ï¼šç¼–è¾‘ä¹‹åï¼ŒæŒ‰ESCé€€å‡ºåˆ°æ™®é€šæ¨¡å¼ã€‚ ç¬¬äº”æ­¥ï¼šåœ¨æ™®é€šæ¨¡å¼ä¸‹ï¼Œè¾“å…¥ : è¿›å…¥å‘½ä»¤æ¨¡å¼ ç¬¬å…­æ­¥ï¼šåœ¨å‘½ä»¤æ¨¡å¼ä¸‹è¾“å…¥wq, å³å¯ä¿å­˜å¹¶é€€å‡º ã€#ã€‘ä»£è¡¨ rootæƒé™ã€$ã€‘ä»£è¡¨æ™®é€šç”¨æˆ·rebooté‡å¯ BUGâ€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€“centos7 cannot find a valid baseurl for repoÂ·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·https://blog.csdn.net/jiankunking/article/details/82770502zlib.h: No such file or directoryÂ·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·yum install zlib-develCentOS Name or service not knownÂ·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·vi /etc/sysconfig/network-scripts/ifcfg-ens33å‘½ä»¤æ¥ç¼–è¾‘é…ç½®æ–‡ä»¶Job for network.service failed because the control process exited with error codeÂ·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·å…³é—­ NetworkManger æœåŠ¡å°±å¥½äº†ï¼Œ service NetworkManager stopç¦æ­¢å¼€æœºå¯åŠ¨ chkconfig NetworkManager offsu: Authentication failureÂ·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·sudo passwd rootç½‘ç»œâ€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€” ç½‘ç»œä¸è¡Œéƒ½ç”¨æ¡¥æ¥ 1systemctl restart network //é‡å¯ç½‘å¡ ====ifup eth0ï¼ˆç½‘å¡åç§°ï¼‰ip addræŸ¥è¯¢ç½‘ç»œä¿¡æ¯ postgresqlâ€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”-sudo -u postgres psql è¿›å…¥psqläº¤äº’ç¯å¢ƒalter user postgres with passwordâ€™å¯†ç â€™; ä¿®æ”¹postgresç”¨æˆ·çš„å¯†ç \\q é€€å‡ºæ•°æ®åº“ shpå¯¼å…¥åˆ°postgresqlâ€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”shp2pgsql -s 4544 -c -W â€œUTF-8â€ ADDRESS.shp public.rrrrr| psql -h 192.168.22.128 -d postgres -U postgres -W è½¬æ¢æ ¼å¼â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”ogr2ogr -f â€œGeoJSONâ€ ./natural.json PG:â€host=localhost dbname=postgres user=postgres password=724111â€ -sql â€œselect * from naturalâ€ åˆ‡ç‰‡â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”tippecanoe -z 14 -Z 5 -ps -Bg -o buildings.mbtiles buildings.jsontippecanoe -e lakepbf -pC -Z1 -z17 -f natural.json å„ç§å¸¸ç”¨è½¯ä»¶ç¯å¢ƒå®‰è£…NPMnpm install â€”-install dependencies npm run devâ€”-serve with hot reload at localhost:8080 npm run buildâ€”-build for production with minification npm run build â€”reportâ€”â€”build for production and view the bundle analyzer report npm run unitâ€”-run unit tests npm run e2eâ€”-run e2e tests npm testâ€”â€”run all tests REDIDS./redis-server redis.windows.conf å¯åŠ¨æœåŠ¡ VSCODEctrl+~ ï¼šæ‰“å¼€ç»ˆç«¯F1 æˆ– Ctrl+Shift+Pï¼ˆä¿—ç§°ä¸‡èƒ½é”®ï¼‰ ï¼šæ‰“å¼€å‘½ä»¤é¢æ¿ã€‚åœ¨æ‰“å¼€çš„è¾“å…¥æ¡†å†…ï¼Œå¯ä»¥è¾“å…¥ä»»ä½•å‘½ä»¤ä»£ç æ ¼å¼åŒ–: Shift+Alt+F VUEè„šæ‰‹æ¶npm config set registry https://registry.npm.taobao.orgvue init webpack projectNamecd projectNamenpm installnpm run devnpm i element-ui -Snpm install axios","link":"/2021/02/25/Draft/2021/%E5%BF%AB%E6%9F%A5/"},{"title":"","text":"å¤§çº²ç›®å½•ä»¥æ¦‚è§ˆ åšå®¢è®¡åˆ’ JAVAåº”ç”¨ ä¹ç†çŸ¥è¯† TODO MYSQLä¼˜åŒ– Linux Redis Markdown å­¦ä¹  è®¾è®¡æ¨¡å¼ å¿«æŸ¥ æ¯æ—¥ç®—æ³• Python3å­¦ä¹  è®¡ç®—æœºç½‘ç»œ æ¯æ—¥é¢é¢˜ ä¹¦å½±éŸ³ å·¥å…·ç¯‡ Nginx GIS Hexoä½¿ç”¨èŒƒä¾‹ BUG å¦‚ä½•å­¦ä¹ ä¸€ä¸ªæ–°çŸ¥è¯† å¥èº«å¤–å‹ ä¿¡æ¯ç³»ç»Ÿé¡¹ç›®ç®¡ç†å¸ˆ RabbitMQ SpringCloud æ¯æ—¥è‹±è¯­ Software Engineer NO GAME NO LIFE jvmä¸ä¸Šå±‚æŠ€æœ¯ äº”åˆ†é’Ÿæ­å»ºåœ¨çº¿åšå®¢ èµ„æºç¯‡ ===","link":"/2021/06/30/Draft/2021/%E5%A4%A7%E7%BA%B2%E7%9B%AE%E5%BD%95/"},{"title":"TODO","text":"FIXEDå·¥å…·ï¼šæ—¶å…‰åº èµ„æºï¼šé˜¿é‡Œäº‘ç›˜è§†é¢‘ æµç¨‹ï¼šæ‹Ÿè®¡åˆ’â€“ã€‹æ—¶å…‰åºâ€”ã€‹ç®€åŒ–è®°å½• ä¸‰å¤§æ–¹é¢ï¼šè‰ºæœ¯ã€æŠ€æœ¯ã€è‡ªåª’ä½“ ä¼˜å…ˆé¡ºåºï¼šæŠ€æœ¯ã€è‡ªåª’ä½“ è‰ºæœ¯ã€ç”Ÿæ´» æŠ€æœ¯ç‚¹ï¼šåŸºç¡€æ·±å…¥ã€å®¹å™¨ã€å¹¶å‘ã€IOã€Netã€JVMã€‘é¢å‘åº”ç”¨åŠé¢˜ã€ åˆ†å¸ƒå¼ä¸­é—´ä»¶ï¼ˆMQã€Dubboã€Springcloudã€ElasticSearchï¼‰ã€ å‰ç«¯ï¼ˆVUEã€UIæ¡†æ¶ï¼‰ã€ æ•°æ®åº“ï¼ˆRediså®æˆ˜åŠç†è®ºæ·±å…¥ã€MySQLä¼˜åŒ–åŠå¤æ‚å¥ã€MongoDBåŸºç¡€å¯é€‰ï¼‰ã€ å…¶ä»–ï¼ˆå·¥ä½œæµã€Linuxã€éƒ¨ç½²ã€æ—¥å¿—ã€‘ã€ç³»ç»Ÿè®¾è®¡ã€åœ°å›¾å¼€å‘ã€å°ç¨‹åºã€ä¼˜åŒ–ã€è®¾è®¡æ¨¡å¼ã€ç®—æ³•ã€ç½‘ç»œã€æ–‡ä»¶ç­‰æ¡†æ¶ã€Jenkinsæµ‹è¯•éƒ¨ç½²ï¼‰ã€ å®æˆ˜é¡¹ç›® è‡ªåª’ä½“ï¼šå¼•æµã€å†…å®¹ã€ è‰ºæœ¯ï¼šä¹ç†ã€å”±æŠ€å·§ã€é’¢ç´åŸºç¡€ã€å‰ä»–æ·±å…¥ã€å…¶ä»–ä¹ç†æ·±å…¥åæ·±å…¥å­¦ä¹ ã€æ‘„å½±ã€é£æ ¼åŒ–ã€‘ã€ç”µå­ç»˜ç”»ã€å…´è¶£ã€‘ ç”Ÿæ´»ï¼šä¸¤å‘¨æœ«å‡ºå»ä¸€å¤©ï¼ˆè¯¥å…³å¿ƒçš„äººï¼‰ã€ä¸€å‘¨è‡³å°‘è¿åŠ¨ä¸€æ¬¡ä¸ä¹…åã€æ³¨æ„å¥åº· è¯­è¨€ï¼šè‹±è¯­å£è¯­ï¼ˆéŸ³ä¹ç”µå½±ï¼‰ã€æ—¥è¯­æœªæ¥å†æœŸã€‚ æ—¶é—´ï¼š11.9-1.31ï¼ˆ100å¤©ï¼‰ è·¯çº¿ï¼š æŠ€æœ¯ï¼š [ ] JVMã€é›¶æ—¶çœ‹ï¼Œç½‘ç›˜åŒæ­¥ã€‘+åŸºç¡€æ·±å…¥ã€ä¹¦ç±ï¼Œè‡ªæŸ¥ç»“åˆé¢˜ã€‘ [ ] JVM [ ] é¢˜ï¼ˆç‰›å®¢ï¼‰ [ ] IO [ ] å¹¶å‘ [ ] çº¿ç¨‹é” [ ] æ•°æ®åº“åŠä¼˜åŒ–ï¼ˆRedisã€æ·±å…¥åº”ç”¨ã€‘+MySQLï¼‰ [ ] Springå…¨å®¶æ¡¶+ä¸­é—´ä»¶ã€ç†Ÿç»ƒåº”ç”¨ã€‘ [ ] é¡¹ç›®å®æˆ˜ã€Linuxã€åŸºç¡€å‘½ä»¤ï¼Œéƒ¨ç½²ã€‘ [ ] è®¾è®¡æ¨¡å¼ç½‘ç»œç­‰æ·±å…¥ è‡ªåª’ä½“ï¼š [ ] åˆ›å»ºç²¾ç¾æ–‡ç«  è‰ºæœ¯ï¼š é’¢ç´ ç”Ÿæ´»ï¼š é¦–è¦è®¡åˆ’ [x] SQLä¼˜åŒ– [x] Redis [ ] å¼ºåˆ¶ä½¿ç”¨Redis [ ] ç½‘ç»œ [x] è®¾è®¡æ¨¡å¼ [x] ç®—æ³• [ ] JVM [ ] ä¹ç†bili [ ] Javaå¤šçº¿ç¨‹å¹¶å‘ã€IOã€NET [ ] æ¡†æ¶åŸç†ã€åˆ†å¸ƒå¼ã€ä¸­é—´ä»¶ [x] MQ [x] Dubbo [ ] MongoDB [ ] SpringCloud [ ] ElasticSearch æ‹Ÿè®¡åˆ’ æ‹Ÿè®¡åˆ’ï¼Œåˆ†äºæ¯ä¸ªæœˆçš„ç›®æ ‡ [ ] è€ƒå®Œåè¡¥å……è½¯è€ƒç¬”è®°ï¼Œæ¯å‘¨ç»†åŒ–è®°å¿†ï¼Œé¡¹ç›®ç®¡ç†å¯¹åº”å®è·µ [x] è®¾è®¡æ¨¡å¼ [ ] Javaå·¥ä½œæµ [x] Pythonå¤ä¹  [ ] DevOps [ ] VUEè§†é¢‘ä¸€é [ ] Jenkins [x] Nginx [ ] ç³»ç»Ÿè®¾è®¡ï¼ˆæ•°æ®åº“ï¼Œè½¯ä»¶æµç¨‹ï¼‰ [ ] Linuxç¯å¢ƒå¼€å‘éƒ¨ç½²ï¼Œç†Ÿæ‚‰shell å°è®¡åˆ’ å°è®¡åˆ’ï¼Œæœ‰ç©ºå°±åš [ ] çˆ¬è™«äº†è§£ï¼ŒPythonå¤ä¹  [ ] JAVAçŸ¥è¯†æ¯æ—¥ä¸€é¢˜ [ ] Android [ ] å›½å¤–æŠ€æœ¯ç½‘ç«™ [ ] ä¸¥æ ¼æ‰§è¡Œå¥–æƒ©åˆ¶åº¦ [ ] æ·±åº¦å­¦ä¹ å¤ä¹  [ ] ä¸€å‘¨ä¸€æ€è€ƒå‡ºç¯‡å…¬ä¼—å·æ–‡ç«  [ ] æ–‡ä»¶ä¸Šä¼ ä¸‹è½½æ¸…æ™°åŒ– [ ] å¹³å°å¼€å‘ [ ] ç¼–ç¨‹æ€æƒ³é‡ç‚¹æŸ¥çœ‹ [ ] Pageoffice [ ] å¥èº«å¼€å§‹è‚šè‚š [ ] å‘¨æœŸæ€»ç»“ [ ] å¾®ä¿¡å°ç¨‹åºèŠå¤©æé†’æœºå™¨äºº [ ] Postgresqlå­¦ä¹ å‡†å¤‡ å›ºå®šè®¡åˆ’ å›ºå®šè®¡åˆ’ï¼Œæ¯å¤©éƒ½åš [ ] ç®—æ³• [ ] è‹±è¯­ [ ] é¢é¢˜ [ ] MONTHâ€”â€”-å…­ [ ] è¿åŠ¨ä¸‰æ¬¡ [ ] æ•°ç ç»˜ç”»ä¸€æ¬¡ [ ] æ‘„å½± [ ] å‰ªè¾‘ [ ] å…¬ä¼—å·è¿è¥ WEEKğŸ¤² [ ] å‰ä»–ç»ƒä¹  DAY-2021.5.28&gt; [ ] å›ºå®šè®¡åˆ’ [ ] â€”- MONTHâ€”â€”-äº”&gt; [x] é¡¹ç®¡å¸ˆ MONTHâ€”â€”-å››&gt; [x] è¿åŠ¨ä¸‰æ¬¡ [x] æ•°ç ç»˜ç”»ä¸€æ¬¡ [x] æ‘„å½± [x] å‰ªè¾‘ [x] å…¬ä¼—å·è¿è¥ã€ç²‰ä¸å¼•å¯¼ï¼Œè‡ªåª’ä½“çŸ©é˜µæ­å»ºã€‘ [x] RabbitMQåŸºç¡€ç¬¬ä¸€è½® [x] springcloudç¬¬ä¸€è½® [x] VUEå¤ä¹ ä¸€é WEEKğŸ¤²ğŸ¤²ğŸ¤² &gt; [ ] å‰ä»–ç»ƒä¹  [x] è¿åŠ¨ [ ] DAY-2021.4.15 [ ] SpringCloudã€ã€‘ä¸€èŠ‚ [x] é¡¹ç®¡å¸ˆåŸºç¡€ å››èŠ‚ [ ] è®¾è®¡æ¨¡å¼ã€ã€‘ä¸€ä¸ª [x] è‹±è¯­ã€ä¸­åˆã€‘å¼ºåˆ¶å¤–è¯­ç½‘ç«™-æ–°é—»-ä¹¦ï¼Œ100å•è¯åˆ· [ ] ç®—æ³•ã€ä¸­åˆã€‘ä¸€é¢˜ï¼Œä¸€çŸ¥è¯† [x] RabbitMQ [ ] é¢é¢˜ã€ã€‘ä¸€é¢˜ [ ] Redisã€ã€‘å›å¿† [ ] DAY-2021.4.14 [ ] SpringCloudã€ã€‘ä¸€èŠ‚ [x] é¡¹ç®¡å¸ˆåŸºç¡€ å››èŠ‚ [ ] è®¾è®¡æ¨¡å¼ã€ã€‘ä¸€ä¸ª [x] è‹±è¯­ã€ä¸­åˆã€‘å¼ºåˆ¶å¤–è¯­ç½‘ç«™-æ–°é—»-ä¹¦ï¼Œ100å•è¯åˆ· [ ] ç®—æ³•ã€ä¸­åˆã€‘ä¸€é¢˜ï¼Œä¸€çŸ¥è¯† [x] RabbitMQ [ ] é¢é¢˜ã€ã€‘ä¸€é¢˜ [ ] Redisã€ã€‘å›å¿† [ ] DAY-2021.4.13 [ ] SpringCloudã€ã€‘ä¸€èŠ‚ [x] é¡¹ç®¡å¸ˆåŸºç¡€ å››èŠ‚ [ ] è®¾è®¡æ¨¡å¼ã€ã€‘ä¸€ä¸ª [x] è‹±è¯­ã€ä¸­åˆã€‘å¼ºåˆ¶å¤–è¯­ç½‘ç«™-æ–°é—»-ä¹¦ï¼Œ100å•è¯åˆ· [ ] ç®—æ³•ã€ä¸­åˆã€‘ä¸€é¢˜ï¼Œä¸€çŸ¥è¯† [x] RabbitMQ [ ] é¢é¢˜ã€ã€‘ä¸€é¢˜ [ ] Redisã€ã€‘å›å¿† [ ] DAY-2021.4.12 [ ] SpringCloudã€ã€‘ä¸€èŠ‚ [x] é¡¹ç®¡å¸ˆåŸºç¡€ ä¸¤èŠ‚ [ ] è®¾è®¡æ¨¡å¼ã€ã€‘ä¸€ä¸ª [x] è‹±è¯­ã€ä¸­åˆã€‘å¼ºåˆ¶å¤–è¯­ç½‘ç«™-æ–°é—»-ä¹¦ï¼Œ100å•è¯åˆ· [ ] ç®—æ³•ã€ä¸­åˆã€‘ä¸€é¢˜ï¼Œä¸€çŸ¥è¯† [x] RabbitMQ [ ] é¢é¢˜ã€ã€‘ä¸€é¢˜ [ ] Redisã€ã€‘å›å¿† WEEKğŸ¤²ğŸ¤² &gt; [x] å‰ä»–ç»ƒä¹  [ ] ### DAY-2021.4.11 [x] SpringCloudã€ã€‘ä¸€èŠ‚ [x] é¡¹ç®¡å¸ˆåŸºç¡€ ä¸¤èŠ‚ [ ] è®¾è®¡æ¨¡å¼ã€ã€‘ä¸€ä¸ª [x] è‹±è¯­ã€ä¸­åˆã€‘å¼ºåˆ¶å¤–è¯­ç½‘ç«™-æ–°é—»-ä¹¦ï¼Œ100å•è¯åˆ· [ ] ç®—æ³•ã€ä¸­åˆã€‘ä¸€é¢˜ï¼Œä¸€çŸ¥è¯† [x] RabbitMQ [ ] é¢é¢˜ã€ã€‘ä¸€é¢˜ [ ] Redisã€ã€‘å›å¿† [ ] ### DAY-2021.4.8 [x] SpringCloudã€ã€‘ä¸€èŠ‚ [x] é¡¹ç®¡å¸ˆåŸºç¡€ ä¸¤èŠ‚ [ ] è®¾è®¡æ¨¡å¼ã€ã€‘ä¸€ä¸ª [x] è‹±è¯­ã€ä¸­åˆã€‘å¼ºåˆ¶å¤–è¯­ç½‘ç«™-æ–°é—»-ä¹¦ï¼Œ100å•è¯åˆ· [ ] ç®—æ³•ã€ä¸­åˆã€‘ä¸€é¢˜ï¼Œä¸€çŸ¥è¯† [x] RabbitMQ [ ] é¢é¢˜ã€ã€‘ä¸€é¢˜ [ ] Redisã€ã€‘å›å¿† [ ] ### DAY-2021.4.7 [ ] SpringCloudã€ã€‘ä¸€èŠ‚ [x] é¡¹ç®¡å¸ˆåŸºç¡€ ä¸¤èŠ‚ [ ] è®¾è®¡æ¨¡å¼ã€ã€‘ä¸€ä¸ª [x] è‹±è¯­ã€ä¸­åˆã€‘å¼ºåˆ¶å¤–è¯­ç½‘ç«™-æ–°é—»-ä¹¦ï¼Œ100å•è¯åˆ· [ ] ç®—æ³•ã€ä¸­åˆã€‘ä¸€é¢˜ï¼Œä¸€çŸ¥è¯† [ ] RabbitMQ [ ] é¢é¢˜ã€ã€‘ä¸€é¢˜ [ ] Redisã€ã€‘å›å¿† DAY-2021.4.6 [x] SpringCloudã€ã€‘ä¸€èŠ‚ [x] é¡¹ç®¡å¸ˆåŸºç¡€ ä¸¤èŠ‚ [ ] è®¾è®¡æ¨¡å¼ã€ã€‘ä¸€ä¸ª [x] è‹±è¯­ã€ä¸­åˆã€‘å¼ºåˆ¶å¤–è¯­ç½‘ç«™-æ–°é—»-ä¹¦ï¼Œ100å•è¯åˆ· [ ] ç®—æ³•ã€ä¸­åˆã€‘ä¸€é¢˜ï¼Œä¸€çŸ¥è¯† [x] RabbitMQ [ ] é¢é¢˜ã€ã€‘ä¸€é¢˜ [ ] Redisã€ã€‘å›å¿† WEEKğŸ¤² &gt; [x] å‰ä»–ç»ƒä¹  [x] è¿åŠ¨ DAY-2021.4.3 [ ] SpringCloudã€ã€‘ä¸€èŠ‚ [x] é¡¹ç®¡å¸ˆåŸºç¡€ ä¸¤èŠ‚ [ ] è®¾è®¡æ¨¡å¼ã€ã€‘ä¸€ä¸ª [x] è‹±è¯­ã€ä¸­åˆã€‘å¼ºåˆ¶å¤–è¯­ç½‘ç«™-æ–°é—»-ä¹¦ï¼Œ100å•è¯åˆ· [ ] ç®—æ³•ã€ä¸­åˆã€‘ä¸€é¢˜ï¼Œä¸€çŸ¥è¯† [ ] RabbitMQ [ ] é¢é¢˜ã€ã€‘ä¸€é¢˜ [ ] Redisã€ã€‘å›å¿† DAY-2021.4.2 [ ] SpringCloudã€ã€‘ä¸€èŠ‚ [x] é¡¹ç®¡å¸ˆåŸºç¡€ [ ] è®¾è®¡æ¨¡å¼ã€ã€‘ä¸€ä¸ª [x] è‹±è¯­ã€ä¸­åˆã€‘å¼ºåˆ¶å¤–è¯­ç½‘ç«™-æ–°é—»-ä¹¦ï¼Œ100å•è¯åˆ· [ ] ç®—æ³•ã€ä¸­åˆã€‘ä¸€é¢˜ï¼Œä¸€çŸ¥è¯† [ ] RabbitMQ [ ] é¢é¢˜ã€ã€‘ä¸€é¢˜ [ ] Redisã€ã€‘å›å¿† DAY-2021.4.1 [x] SpringCloudã€ã€‘ä¸€èŠ‚ [ ] è®¾è®¡æ¨¡å¼ã€ã€‘ä¸€ä¸ª [x] è‹±è¯­ã€ä¸­åˆã€‘å¼ºåˆ¶å¤–è¯­ç½‘ç«™-æ–°é—»-ä¹¦ï¼Œ100å•è¯åˆ· [ ] ç®—æ³•ã€ä¸­åˆã€‘ä¸€é¢˜ï¼Œä¸€çŸ¥è¯† [x] RabbitMQ [ ] é¢é¢˜ã€ã€‘ä¸€é¢˜ [ ] Redisã€ã€‘å›å¿† DAY-2021.3.31 [x] SpringCloudã€ã€‘ä¸€èŠ‚ [ ] è®¾è®¡æ¨¡å¼ã€ã€‘ä¸€ä¸ª [x] è‹±è¯­ã€ä¸­åˆã€‘å¼ºåˆ¶å¤–è¯­ç½‘ç«™-æ–°é—»-ä¹¦ï¼Œ100å•è¯åˆ· [ ] ç®—æ³•ã€ä¸­åˆã€‘ä¸€é¢˜ï¼Œä¸€çŸ¥è¯† [x] RabbitMQ [ ] é¢é¢˜ã€ã€‘ä¸€é¢˜ [ ] Redisã€ã€‘å›å¿† DAY-2021.3.30 [x] SpringCloudã€ã€‘ä¸€èŠ‚ [ ] è®¾è®¡æ¨¡å¼ã€ã€‘ä¸€ä¸ª [x] è‹±è¯­ã€ä¸­åˆã€‘å¼ºåˆ¶å¤–è¯­ç½‘ç«™-æ–°é—»-ä¹¦ï¼Œ100å•è¯åˆ· [ ] ç®—æ³•ã€ä¸­åˆã€‘ä¸€é¢˜ï¼Œä¸€çŸ¥è¯† [ ] RabbitMQ [ ] é¢é¢˜ã€ã€‘ä¸€é¢˜ [ ] Redisã€ã€‘å›å¿†WEEKğŸ¤²ğŸ¤²ğŸ¤²ğŸ¤² &gt; [ ] å‰ä»–ç»ƒä¹  [ ] è¿åŠ¨ MONTHâ€”â€”â€”ä¸‰ [x] è¿åŠ¨ä¸‰æ¬¡ [x] æ•°ç ç»˜ç”»ä¸€æ¬¡ [x] æ‘„å½± [x] å‰ªè¾‘ [x] å…¬ä¼—å·è¿è¥ã€ç²‰ä¸å¼•å¯¼ï¼Œè‡ªåª’ä½“çŸ©é˜µæ­å»ºã€‘ [x] RabbitMQåŸºç¡€ç¬¬ä¸€è½® [x] springcloudç¬¬ä¸€è½®WEEKğŸ¤² &gt; [x] å‰ä»–ç»ƒä¹  [x] è¿åŠ¨ WEEKğŸ¤²ğŸ¤² [x] å‰ä»–ç»ƒä¹ WEEKğŸ¤²ğŸ¤²ğŸ¤² [x] å‰ä»–ç»ƒä¹  [x] è¿åŠ¨WEEKğŸ¤²ğŸ¤²ğŸ¤²ğŸ¤² [x] å‰ä»–ç»ƒä¹  [x] è¿åŠ¨ DAY-2021.3.29 [x] SpringCloudã€ã€‘ä¸€èŠ‚ [ ] è®¾è®¡æ¨¡å¼ã€ã€‘ä¸€ä¸ª [x] è‹±è¯­ã€ä¸­åˆã€‘å¼ºåˆ¶å¤–è¯­ç½‘ç«™-æ–°é—»-ä¹¦ï¼Œ100å•è¯åˆ· [ ] ç®—æ³•ã€ä¸­åˆã€‘ä¸€é¢˜ï¼Œä¸€çŸ¥è¯† [x] RabbitMQ [ ] é¢é¢˜ã€ã€‘ä¸€é¢˜ [ ] Redisã€ã€‘å›å¿† DAY-2021.3.25 [x] SpringCloudã€ã€‘ä¸€èŠ‚ [ ] è®¾è®¡æ¨¡å¼ã€ã€‘ä¸€ä¸ª [x] è‹±è¯­ã€ä¸­åˆã€‘å¼ºåˆ¶å¤–è¯­ç½‘ç«™-æ–°é—»-ä¹¦ï¼Œ100å•è¯åˆ· [x] ç®—æ³•ã€ä¸­åˆã€‘ä¸€é¢˜ï¼Œä¸€çŸ¥è¯† [x] RabbitMQ [x] é¢é¢˜ã€ã€‘ä¸€é¢˜ [ ] Redisã€ã€‘å›å¿† DAY-2021.3.24 [ ] SpringCloudã€ã€‘ä¸€èŠ‚ [ ] è®¾è®¡æ¨¡å¼ã€ã€‘ä¸€ä¸ª [x] è‹±è¯­ã€ä¸­åˆã€‘å¼ºåˆ¶å¤–è¯­ç½‘ç«™-æ–°é—»-ä¹¦ï¼Œ100å•è¯åˆ· [ ] ç®—æ³•ã€ä¸­åˆã€‘ä¸€é¢˜ï¼Œä¸€çŸ¥è¯† [x] RabbitMQ [ ] é¢é¢˜ã€ã€‘ä¸€é¢˜ [ ] Redisã€ã€‘å›å¿† DAY-2021.3.23 [x] SpringCloudã€ã€‘ä¸€èŠ‚ [ ] è®¾è®¡æ¨¡å¼ã€ã€‘ä¸€ä¸ª [x] è‹±è¯­ã€ä¸­åˆã€‘å¼ºåˆ¶å¤–è¯­ç½‘ç«™-æ–°é—»-ä¹¦ï¼Œ100å•è¯åˆ· [ ] ç®—æ³•ã€ä¸­åˆã€‘ä¸€é¢˜ï¼Œä¸€çŸ¥è¯† [x] RabbitMQ è™šæ‹Ÿæœºç¯å¢ƒå®‰è£… [ ] é¢é¢˜ã€ã€‘ä¸€é¢˜ [ ] Redisã€ã€‘å›å¿† DAY-2021.3.22 [x] SpringCloudã€ã€‘ä¸€èŠ‚ [x] è®¾è®¡æ¨¡å¼ã€ã€‘ä¸€ä¸ª [x] è‹±è¯­ã€ä¸­åˆã€‘å¼ºåˆ¶å¤–è¯­ç½‘ç«™-æ–°é—»-ä¹¦ï¼Œ100å•è¯åˆ· [x] ç®—æ³•ã€ä¸­åˆã€‘ä¸€é¢˜ï¼Œä¸€çŸ¥è¯† [x] RabbitMQ 7èŠ‚ [ ] é¢é¢˜ã€ã€‘ä¸€é¢˜ [ ] Redisã€ã€‘å›å¿† DAY-2021.3.19 [x] SpringCloudã€ã€‘ä¸€èŠ‚ [x] è®¾è®¡æ¨¡å¼ã€ã€‘ä¸€ä¸ª [x] è‹±è¯­ã€ä¸­åˆã€‘å¼ºåˆ¶å¤–è¯­ç½‘ç«™-æ–°é—»-ä¹¦ï¼Œ100å•è¯åˆ· [x] ç®—æ³•ã€ä¸­åˆã€‘ä¸€é¢˜ï¼Œä¸€çŸ¥è¯† [ ] é¢é¢˜ã€ã€‘ä¸€é¢˜ [ ] Redisã€ã€‘å›å¿† DAY-2021.3.18 [x] SpringCloudã€ã€‘ä¸€èŠ‚ [x] è®¾è®¡æ¨¡å¼ã€ã€‘ä¸€ä¸ª [x] è‹±è¯­ã€ä¸­åˆã€‘å¼ºåˆ¶å¤–è¯­ç½‘ç«™-æ–°é—»-ä¹¦ï¼Œ100å•è¯åˆ· [x] ç®—æ³•ã€ä¸­åˆã€‘ä¸€é¢˜ï¼Œä¸€çŸ¥è¯† [ ] é¢é¢˜ã€ã€‘ä¸€é¢˜ [ ] Redisã€ã€‘å›å¿† DAY-2021.3.17 [x] SpringCloudã€ã€‘ä¸€èŠ‚ [x] è®¾è®¡æ¨¡å¼ã€ã€‘ä¸€ä¸ª [x] è‹±è¯­ã€ä¸­åˆã€‘å¼ºåˆ¶å¤–è¯­ç½‘ç«™-æ–°é—»-ä¹¦ï¼Œ100å•è¯åˆ· [x] ç®—æ³•ã€ä¸­åˆã€‘ä¸€é¢˜ï¼Œä¸€çŸ¥è¯† [ ] é¢é¢˜ã€ã€‘ä¸€é¢˜ [ ] Redisã€ã€‘å›å¿† DAY-2021.3.16 [x] SpringCloudã€ã€‘ä¸€èŠ‚ [x] è®¾è®¡æ¨¡å¼ã€ã€‘ä¸€ä¸ª [x] è‹±è¯­ã€ä¸­åˆã€‘å¼ºåˆ¶å¤–è¯­ç½‘ç«™-æ–°é—»-ä¹¦ï¼Œ100å•è¯åˆ· [x] ç®—æ³•ã€ä¸­åˆã€‘ä¸€é¢˜ï¼Œä¸€çŸ¥è¯† [ ] é¢é¢˜ã€ã€‘ä¸€é¢˜ [ ] Redisã€ã€‘å›å¿† DAY-2021.3.15 [x] SpringCloudã€ã€‘ä¸€èŠ‚ [x] è®¾è®¡æ¨¡å¼ã€ã€‘ä¸€ä¸ª [x] è‹±è¯­ã€ä¸­åˆã€‘å¼ºåˆ¶å¤–è¯­ç½‘ç«™-æ–°é—»-ä¹¦ï¼Œ100å•è¯åˆ· [x] ç®—æ³•ã€ä¸­åˆã€‘ä¸€é¢˜ï¼Œä¸€çŸ¥è¯† [ ] é¢é¢˜ã€ã€‘ä¸€é¢˜ [ ] Redisã€ã€‘å›å¿† DAY-2021.3.12 [x] SpringCloudã€ã€‘ä¸€èŠ‚ [x] è®¾è®¡æ¨¡å¼ã€ã€‘ä¸€ä¸ª [x] è‹±è¯­ã€ä¸­åˆã€‘å¼ºåˆ¶å¤–è¯­ç½‘ç«™-æ–°é—»-ä¹¦ï¼Œ100å•è¯åˆ· [x] ç®—æ³•ã€ä¸­åˆã€‘ä¸€é¢˜ï¼Œä¸€çŸ¥è¯† [ ] é¢é¢˜ã€ã€‘ä¸€é¢˜ [ ] Redisã€ã€‘å›å¿† DAY-2021.3.11 [x] SpringCloudã€ã€‘ä¸€èŠ‚ [x] è®¾è®¡æ¨¡å¼ã€ã€‘ä¸€ä¸ª [x] è‹±è¯­ã€ä¸­åˆã€‘å¼ºåˆ¶å¤–è¯­ç½‘ç«™-æ–°é—»-ä¹¦ï¼Œ100å•è¯åˆ· [x] ç®—æ³•ã€ä¸­åˆã€‘ä¸€é¢˜ï¼Œä¸€çŸ¥è¯† [ ] é¢é¢˜ã€ã€‘ä¸€é¢˜ [ ] Redisã€ã€‘å›å¿† DAY-2021.3.10 [x] SpringCloudã€ã€‘ä¸€èŠ‚ [x] è®¾è®¡æ¨¡å¼ã€ã€‘ä¸€ä¸ª [x] è‹±è¯­ã€ä¸­åˆã€‘å¼ºåˆ¶å¤–è¯­ç½‘ç«™-æ–°é—»-ä¹¦ï¼Œ100å•è¯åˆ· [x] ç®—æ³•ã€ä¸­åˆã€‘ä¸€é¢˜ï¼Œä¸€çŸ¥è¯† [ ] é¢é¢˜ã€ã€‘ä¸€é¢˜ [ ] Redisã€ã€‘å›å¿† DAY-2021.3.9 [x] SpringCloud [x] è®¾è®¡æ¨¡å¼ [x] è‹±è¯­ã€ä¸­åˆã€‘å¼ºåˆ¶å¤–è¯­ç½‘ç«™ï¼Œ100å•è¯åˆ· [x] ç®—æ³•ã€ä¸­åˆã€‘ [ ] é¢é¢˜ [ ] Redis DAY-2021.3.8 [x] SpringCloud [x] è®¾è®¡æ¨¡å¼ [x] è‹±è¯­ã€ä¸­åˆã€‘å¼ºåˆ¶å¤–è¯­ç½‘ç«™ï¼Œ100å•è¯åˆ· [x] ç®—æ³•ã€ä¸­åˆã€‘ [ ] é¢é¢˜ [ ] Redis æ¨¡æ¿MONTHâ€”â€”-å›› [ ] è¿åŠ¨ä¸‰æ¬¡ [ ] æ•°ç ç»˜ç”»ä¸€æ¬¡ [ ] æ‘„å½± [ ] å‰ªè¾‘ [ ] å…¬ä¼—å·è¿è¥ WEEKğŸ¤²ğŸ¤²ğŸ¤²ğŸ¤² [ ] å‰ä»–ç»ƒä¹  [ ] è¿åŠ¨DAY-2021.3.9 [ ] SpringCloudã€ã€‘ä¸€èŠ‚ [ ] å›ºå®šè®¡åˆ’ DAY-2021.3.9 [ ] SpringCloudã€ã€‘ä¸€èŠ‚ [ ] å›ºå®šè®¡åˆ’WEEKğŸ¤²ğŸ¤²ğŸ¤² [ ] å‰ä»–ç»ƒä¹ DAY-2021.3.9 [ ] SpringCloudã€ã€‘ä¸€èŠ‚ [ ] å›ºå®šè®¡åˆ’WEEKğŸ¤²ğŸ¤² [ ] å‰ä»–ç»ƒä¹  [ ] è¿åŠ¨DAY-2021.3.9 [ ] SpringCloudã€ã€‘ä¸€èŠ‚ [ ] å›ºå®šè®¡åˆ’ WEEKğŸ¤² [ ] å‰ä»–ç»ƒä¹  [ ] è¿åŠ¨ DAY-2021.3.9&gt; [ ] SpringCloudã€ã€‘ä¸€èŠ‚ [ ] å›ºå®šè®¡åˆ’ â€”- FIXED RECORDS [x] å¥èº«è®°å½• [x] BUGæ’æŸ¥æ€»ç»“ [x] é¡¹ç®¡å¸ˆæ€»ç»“ï¼Œå‘¨æœ«äº”èŠ‚è¯¾ [x] å›¾ä¹¦é¦†å€Ÿé˜…ä¿¡ç®¡å¸ˆä¹¦ç±ï¼Œå‘¨å…­ [x] è½¯è€ƒé«˜çº§å¤‡è€ƒ [x] 11.10 äº¤è´¹æˆåŠŸçš„æŠ¥è€ƒäººå‘˜äº5æœˆ24æ—¥10:00è‡³28æ—¥16:00é€šè¿‡æµ™æ±Ÿè½¯ä»¶è€ƒè¯•ç½‘ä¸‹è½½å¹¶æ‰“å°è€ƒè¯•å‡†è€ƒè¯ï¼Œé€¾æœŸæœªæ‰“å°å‡†è€ƒè¯è§†ä¸ºæ”¾å¼ƒè€ƒè¯•ã€‚æŠ¥è€ƒäººå‘˜æŒ‰å‡†è€ƒè¯è§„å®šçš„æ—¶é—´ã€åœ°ç‚¹å’Œè¦æ±‚å‚åŠ è€ƒè¯•ã€‚","link":"/2021/02/24/Draft/2021/TODO/"},{"title":"æ•°æ®åº“è®¾è®¡","text":"æ•°æ®åº“å¦‚ä½•è®¾è®¡å®ç°ï¼Œä¿è¯å¹¶å‘å®‰å…¨ é˜¿é‡Œè§„èŒƒæ‘˜è¦æ•°æ®åº“å­—æ®µè®¾è®¡åŠå¯¹åº”å…³ç³»æ•°æ®åº“ä¸‰åŸåˆ™æ•°æ®åº“è®¾è®¡å·¥å…·å¦‚ä½•è®¾è®¡æ•°æ®åº“","link":"/2021/02/24/Draft/2021/%E6%95%B0%E6%8D%AE%E5%BA%93%E8%AE%BE%E8%AE%A1/"},{"title":"é­‘é­…å…ˆç”Ÿ | ç¨‹åºå‘˜è‹±è¯­","text":"æ–°å­¦å››é—®WHYã€ä¸å‰ä»£ä¼˜åŒ–äº†ä»€ä¹ˆï¼Œå¼¥è¡¥äº†ä»€ä¹ˆç©ºç™½ã€‘å­¦ä¹ äº¤æµå¨±ä¹WHATã€æ¡†æ¶ï¼Œæ€ç»´å¯¼å›¾ï¼Œä¸»é¢˜æ¡†æ¶ã€‘ç¨‹åºå‘˜ä¸“ä¸šè¯æ±‡ï¼Œæ—¥å¸¸è‹±è¯­HOWã€å¦‚ä½•è®°å¿†ï¼Œå­¦ä¹ èµ„æºã€‘:Googleæ—¥å¸¸åŒ–ã€è‹±æ–‡æ–‡æ¡£æ—¥å¸¸åŒ–ã€è¯æ±‡è®°å¿†LEVELã€ä¸æ˜¯æ¯ä¸ªéƒ½å­¦ç²¾ã€‘ç†Ÿç»ƒä½¿ç”¨ å›¾è§£æ—¥å¸¸è‹±è¯­å•è¯ é€šä¿—æ˜“æ‡‚çš„è‹±è¯­è¯­æ³• é’ˆå¯¹è®¡ç®—æœºè‹±è¯­ å£è¯­ç»ƒä¹ è®°å½• è‹±æ–‡æ–‡æ¡£è®°å½•JAVA","link":"/2021/02/25/Draft/2021/%E6%AF%8F%E6%97%A5%E8%8B%B1%E8%AF%AD/"},{"title":"é­‘é­…å…ˆç”Ÿ | èµ„æºç¯‡","text":"JVM ä¸ä¸Šå±‚æŠ€æœ¯ é­‘é­…å…ˆç”Ÿ | èµ„æºç¯‡ é­‘é­…å…ˆç”Ÿ | èµ„æºç¯‡ ä¸€.ç¨‹åºå‘˜ä¹¦å±‹ï¼ˆç¼–ç¨‹ç›¸å…³ï¼ŒKindle ç›¸å…³ ä¸€å…±112ä¸ª G èµ„æºï¼‰Javaèµ„æº101ä¸ª Gå›Šæ‹¬å¤§éƒ¨åˆ† Java å¼€å‘å°ç™½åˆ°å…¨æ ˆå¤§ç¥æ‰€éœ€é˜…è¯»å…¨éƒ¨ä¹¦ç±ï¼Œè®¾è®¡æ¨¡å¼ã€ç½‘ç»œã€ç®—æ³•ã€æ¡†æ¶ã€èŒåœºç»éªŒâ€‹ å…³æ³¨å…¬ä¼—å·å‘é€ å°ä¹¦å±‹ è·å–ä¸‹è½½é“¾æ¥ ä¸ä»…å¦‚æ­¤ï¼Œè¿˜æœ‰ Kindle å„ç±»ç”µå­ä¹¦ç±11ä¸ªG ç´¢å¼•åœ¨æ­¤ç‚¹å‡»æœç´¢ä¹‹åæœ‰éœ€è¦çš„ å…³æ³¨å…¬ä¼—å·å‘é€ Kindleè·å–ä¸‹è½½é“¾æ¥ï¼ äºŒ.å­¦ä¹ ç½‘ç«™ï¼ˆæŒç»­æ›´æ–°ä¸­ï¼‰1.ç¼–ç¨‹ç½‘ç«™ï¼šRefactoring.Guruâ€‹ è®¾è®¡æ¨¡å¼åœ¨çº¿å­¦ä¹ ï¼Œç¨‹åºå‘˜ä¹‹é—´çš„æ²Ÿé€šè¯­è¨€ï¼Œå­¦ä¹ å¿…ä¸å¯å°‘çš„çŸ¥è¯†ï¼Œæœ‰å„ç§ä»£ç ç¤ºèŒƒï¼ŒUMLå›¾ï¼ŒåŠ¨æ¼«æ¼”ç¤ºã€‚ Visualgoâ€‹ ç®—æ³•åœ¨çº¿å¯è§†åŒ–è¿‡ç¨‹ï¼Œç†è§£æ›´åŠ å®¹æ˜“ï¼Œè¿‡ç¨‹é€Ÿåº¦å¯è°ƒï¼Œæ­¥éª¤å¯æ§ï¼Œä»£ç å¯è§‚ã€‚ Githubâ€‹ å°†è‡ªå·±çš„å­¦ä¹ ä»£ç è¿›è¡Œç‰ˆæœ¬åŒ–ç®¡ç†ï¼Œå°†å­¦ä¹ èµ„æºæ•´ç†å½’çº³ï¼Œå­¦ä¹ åˆ«äººçš„ä¼˜ç§€é¡¹ç›®ï¼Œè·å–å…¨çƒæœ€æ–°èµ„æºï¼Œå¥½å¤„å°±ä¸ä¸€ä¸€åˆ—ä¸¾äº†ï¼Œæ¯ä¸ªç¨‹åºå‘˜éƒ½äº†è§£ã€‚ CSDNâ€‹ ä¸€ä¸ªäººçš„æˆå°±å¾€å¾€ä¸åœ¨äºå¾—åˆ°å¤šå°‘ï¼Œè€Œåœ¨äºè¾“å‡ºå¤šå°‘ï¼Œä¸€ä¸ªæœ‰è´¡çŒ®çš„ç¨‹åºå‘˜å¾€å¾€æ˜¯ä¼šåˆ†äº«çš„ã€‚è¿™ä¸ªåšå®¢ç½‘ç«™æ±‡èšå¾ˆå¤šå¤§ç‰›ï¼Œä¹Ÿæœ‰å¾ˆå¤š demoï¼Œè®©ä½ å¯ä»¥ä¸é‡å¤é€ è½®å­ã€‚ 2.è®¾è®¡ç½‘ç«™ï¼šdoyoudoâ€‹ å­¦ä¹  Aeã€Psã€Prã€C4Dã€ä¹ç†ç­‰ç­‰ã€‚å°è±¡ä¸­å°ç™½è€å¸ˆçš„ç”ŸåŠ¨è¯¾å ‚æ˜¯è®©æˆ‘å¯¹è®¾è®¡æ„Ÿå…´è¶£ç¬¬ä¸€åŸå› ï¼Œä¹Ÿæ˜¯ç¬¬ä¸€ä¸ªè®©æˆ‘æœ‰æƒ³ä¸Šä»˜è´¹è¯¾å†²åŠ¨çš„å­¦ä¹ ç½‘ç«™ã€‚ Colordropâ€‹ é…è‰²ç½‘ç«™ï¼Œç›´è§‚ä¸”å¤åˆ¶æ–¹ä¾¿ï¼Œå¦ˆå¦ˆå†ä¹Ÿä¸ç”¨æ‹…å¿ƒæˆ‘çš„é…è‰²äº†ã€‚ åˆ›å®¢è´´â€‹ ä¸ä¼š PS æ²¡å…³ç³»ï¼Œåˆ›å®¢è´´ç›´æ¥æ‹‰åŠ¨ä¿®æ”¹å…ƒç´ ï¼Œä¸€åˆ‡éƒ½ç›´æ¥è®¾è®¡å¥½äº†ï¼Œå°ç™½å¼æ‹–åŠ¨ä¾¿å¯å¿«é€Ÿå®Œæˆè®¾è®¡æ›´æ”¹ï¼Œè¿˜å¯ä»¥ç›´æ¥ä¿®æ”¹ GIF åŠ¨å›¾ï¼ 3.é€šç”¨ç½‘ç«™ï¼šBilibiliä¸ä»…ä»…æœ‰é¬¼ç•œï¼Œä½ æƒ³æœ‰çš„æ•™ç¨‹éƒ½æœ‰ï¼Œæ‘„å½±ã€è®¾è®¡ã€ç¼–ç¨‹ã€ç»˜ç”»ç­‰ï¼Œæ˜¯ç°ä»£å­¦ä¹ è€…ä¸å¯ç¼ºå°‘èšé›†åœ°ã€‚ Courseraå›½å¤–å­¦ä¹ ç½‘ç«™ï¼Œå…è´¹èµ„æºå¾ˆå¤šï¼Œå¯ä»¥æ¥è§¦æ›´åŠ åŠæ—¶çš„çŸ¥è¯†ã€‚ ä¸‰.è½¯ä»¶æ¨èï¼ˆæŒç»­æ›´æ–°ä¸­ï¼‰ç”µè„‘ç¯‡ è‹±è¯­è¯­æ³•ä¹¦å†™çº æ­£ï¼Œæ¯•ç«Ÿè¯­æ³•çº æ­£é™¤äº†è€å¸ˆå°±åªæœ‰ä»–äº†ã€‚ è‡ªåª’ä½“å¿…å¤‡ï¼ŒMarkdownæœ€ä½³åˆ©å™¨ã€‚ å­—ä½“ä¸­å¤®ç®¡ç†ï¼Œå…è´¹å•†ç”¨å°±å¤Ÿä½ ç”¨ä¸€è¾ˆå­äº†ï¼Œç‰ˆæƒé—®é¢˜ä¸ç”¨è€ƒè™‘äº† Markdownå›¾åºŠç®¡ç†ä¼˜ç§€è½¯ä»¶ä¹‹ä¸€ æœ‰ä»–è¿˜è¦å•¥ç™¾åº¦äº‘ï¼Œé…åˆchromeä½¿ç”¨æ›´é¦™ ä½ æœ‰ä¸ªipadæ”¾é‚£ç›–æ³¡é¢ä¸å¦‚æ‹¿æ¥ç”¨ä½œä½ çš„ç¬¬äºŒå±å¹• è‰¾å®¾æµ©æ–¯é—å¿˜æ›²çº¿æœ€ä½³å®è·µï¼Œè®°å¿†ä»»ä½•çŸ¥è¯†ï¼Œè‡ªä¸»å¡ç‰‡å½¢å¼ ç›®å‰ä½¿ç”¨è¿‡çš„æœ€ä½³æ€ç»´å¯¼å›¾è½¯ä»¶ ä¸‰ç«¯äº’ä¼ æ–‡ä»¶ï¼Œæ— ç¼åŒæ­¥ï¼Œåœ¨é¸¿è’™ç³»ç»Ÿå‡ºæ¥ä¹‹å‰å®ƒå¯èƒ½ä¸€ç›´æ˜¯æˆ‘çš„ä¸»åŠ› å®‰å“å¯ç”¨ï¼Œç”µè„‘æ“æ§æ‰‹æœºï¼Œå¯æ— çº¿æ§åˆ¶ï¼Œä¸Šç­åˆ’æ°´åˆ©å™¨ï¼Œå…è´¹å¼€æº æŠ“åŒ…ï¼Œæµ‹è¯•ï¼Œç½‘ç»œæ¨¡æ‹Ÿï¼Œæ–°ä¸–ç•Œï¼Œä¸€ä¸å°å¿ƒä»æŠ“åŒ…åˆ°å…¥ç‹± æµè§ˆå™¨æ’ä»¶ â€‹ chromeæœ‰äº†å®ƒï¼Œå•¥ä¼šå‘˜éƒ½ä¸ç”¨å¼€ã€‚ â€‹ æœ‰äº†å®ƒï¼Œä»»ä½•å¤æ‚é¡µé¢éƒ½å¯ä»¥å˜å¾—å°æ¸…æ–°ã€‚ ipadç¯‡ ï¼ˆå¾…æ›´æ–°[å¦‚ä½•æŠ“åŒ…è·å–å„ç§å›´å“çš®ï¼Œå¦‚ä½•é«˜æ•ˆç‡åˆ©ç”¨å­¦ä¹ è½¯ä»¶]ï¼‰ æ‰‹æœºç¯‡ ï¼ˆå¾…æ›´æ–°[å„ç§é»‘ç§‘æŠ€å°å·¥å…·]ï¼‰ â€‹ é­‘é­…å…ˆç”Ÿï¼Œä¸€åªæ‹¼ææˆä¸ºé­‘é­…å¤§èƒ½çš„å°é¬¼(â—â€”â—) å››.è®¾è®¡èµ„æºï¼ˆæŒç»­æ›´æ–°ä¸­ï¼‰â€‹ åŒ…æ‹¬å„å¤§æµ·æŠ¥ï¼Œå­—ä½“ï¼Œç¬”åˆ·ï¼Œç´ æï¼ŒLOGOï¼Œå…¨å®¶æ¡¶ç­‰ç­‰ï¼Œå…¬ä¼—å·å›å¤è®¾è®¡èµ„æºè·å–ä¸‹è½½é“¾æ¥ â€‹ ! äº”.è§†é¢‘èµ„æºï¼ˆæŒç»­æ›´æ–°ä¸­ï¼‰Javaï¼ŒPythonç›¸å…³åŸºç¡€åˆ°æ¶æ„è¯¾ç¨‹ï¼Œé¡¹ç›®å®æˆ˜â€‹ â€‹ éŸ³ä¹ç›¸å…³â€‹ å‰ä»–ï¼Œå°¤å…‹é‡Œé‡Œï¼Œä¹ç†ï¼Œç¼–æ›²ï¼Œä½œè¯ï¼Œç›¸å…³è½¯ä»¶ï¼Œå£°æº â€‹ â€‹ ç»˜ç”» è¯­è¨€ æ‘„å½±â€‹ åŒ…å«ç¾å›½æ‘„å½±å­¦é™¢æ‘„å½±æ•™æï¼Œå­¦ä¹ æ‘„å½±ä¸å¯ç¼ºå°‘çš„ä¹¦ç± æœ€åæƒ³è¯´ï¼Œèµ„æºè™½å¤šï¼Œä½†å¦‚æœåªå½“ä¸€ä¸ªæ”¶è—å…šé‚£æ°¸è¿œä¸ä¼šæ˜¯ä½ çš„ã€‚åªæœ‰åœ¨è¿™é£é€Ÿå‘å±•çš„æ—¶ä»£ï¼Œå¸å»æµ®èºï¼Œä¸€ç‚¹ç‚¹æ¶ˆåŒ–ï¼Œæ‰ä¼šè®©æˆä¸ºä½ èŒå£®æˆé•¿çš„å…»åˆ†ã€‚â€‹ èµ„æºåˆ†äº«ï¼Œéƒ¨åˆ†èµ„æºè¯·å‹¿ä½œå•†ä¸šç”¨é€”ï¼Œå¦‚æœ‰ä¾µæƒï¼Œè”ç³»åˆ é™¤ã€‚å¦‚æœæœ‰èƒ½åŠ›ï¼Œè¯·æ”¯æŒæ­£ç‰ˆï¼","link":"/2021/07/22/Draft/2021/%E8%B5%84%E6%BA%90%E7%AF%87/"},{"title":"é­‘é­…å…ˆç”Ÿ | æ¯æ—¥ç®—æ³•","text":"ä¸ºä»€ä¹ˆå­¦ï¼Ÿç¼–ç¨‹çš„çµé­‚ï¼Œä¸ç®¡ä»€ä¹ˆè¯­è¨€éƒ½å¾—éœ€è¦ã€‚ å¦‚ä½•å­¦ï¼Ÿå¤šæƒ³å¤šå†™å¤šç”¨ å­¦åˆ°ä»€ä¹ˆç¨‹åº¦ï¼Ÿå®é™…è¿ç”¨ é¢˜æºï¼šLeetcode ä¸€.åŸºæœ¬æ•°æ®ç»“æ„ç¬¬ä¸€ç«  ç®—æ³•å®šä¹‰åœ¨ç‰¹å®šè®¡ç®—æ¨¡å‹ä¸‹ï¼Œåœ¨ä¿¡æ¯å¤„ç†è¿‡ç¨‹ä¸­ä¸ºäº†è§£å†³æŸä¸€ç±»é—®é¢˜è€Œè®¾è®¡çš„ä¸€ä¸ªæŒ‡ä»¤åºåˆ—ã€‚ è¦ç´ ï¼šè¾“å…¥ï¼šå¾…å¤„ç†çš„ä¿¡æ¯ï¼Œå³å¯¹å…·ä½“é—®é¢˜çš„æè¿°ã€‚ è¾“å‡ºï¼šç»è¿‡å¤„ç†ä¹‹åå¾—åˆ°çš„ä¿¡æ¯ï¼Œå³é—®é¢˜çš„ç­”æ¡ˆã€‚ ç¡®å®šæ€§ï¼šä»»ä¸€ç®—æ³•éƒ½å¯ä»¥æè¿°ä¸ºç”±è‹¥å¹²ç§åŸºæœ¬æ“ä½œç»„æˆçš„åºåˆ—ã€‚ å¯è¡Œæ€§ï¼šåœ¨ç›¸åº”çš„è®¡ç®—æ¨¡å‹ä¸­ï¼Œæ¯ä¸€åŸºæœ¬æ“ä½œéƒ½å¯ä»¥å®ç°ï¼Œä¸”èƒ½å¤Ÿåœ¨å¸¸æ•°æ—¶é—´å†…å®Œæˆã€‚ æœ‰ç©·æ€§ï¼šå¯¹äºä»»ä½•è¾“å…¥ï¼ŒæŒ‰ç…§ç®—æ³•ï¼Œç»è¿‡æœ‰ç©·æ¬¡åŸºæœ¬æ“ä½œéƒ½å¯ä»¥å¾—åˆ°æ­£ç¡®çš„è¾“å‡ºã€‚ 1.2æ€§èƒ½åˆ†æé¢„è¯„ä»·ä¸‰ä¸ªå±‚æ¬¡ï¼šåˆæ³•ç¨‹åºï¼Œç¡®å®šå°ºåº¦åº¦é‡ç®—æ³•æ•ˆç‡ï¼Œé€šè¿‡å¯¹ç®—æ³•è®¾è®¡ç¼–å†™æ•ˆç‡é«˜ï¼Œèƒ½å¤„ç†å¤§è§„æ¨¡æ•°æ®çš„ç¨‹åºï¼Œ æ—¶é—´å¤æ‚åº¦ T(n)åº¦é‡ç®—æ³•æ‰§è¡Œé€Ÿåº¦å¹¶è¯„ä»·å…¶æ•ˆç‡ï¼Œç®—æ³•éœ€è¦å¤šå°‘æ—¶é—´æ‰èƒ½å¾—åˆ°ç»“æœ ==ã€‹é’ˆå¯¹ä¸åŒè§„æ¨¡çš„è¾“å…¥ï¼Œç®—æ³•çš„æ‰§è¡Œæ—¶é—´å„æ˜¯å¤šå°‘ ==ã€‹ç»Ÿä¸€è§„æ¨¡ç®—æ³•å¤„ç†æ—¶é—´ä¹Ÿä¸ç›¸åŒ ç©ºé—´å¤æ‚åº¦ç®—æ³•æ‰€éœ€å­˜å‚¨ç©ºé—´ 1.3 ç®—æ³•å¤æ‚åº¦åŠå…¶åˆ†æ1.3.1 O(1)â¯â¯å–éæç«¯å…ƒç´  1.3.2 O(logn)â¯â¯è¿›åˆ¶è½¬æ¢ 1.3.3 O(n)â¯â¯æ•°ç»„æ±‚å’Œ 1.3.4 O(n2)â¯â¯èµ·æ³¡æ’åº 1.3.5 O(2r)â¯â¯å¹‚å‡½æ•° 1.4 è®¡ç®—æ¨¡å‹1.4.1 å¯è§£æ€§ 1.4.2 æœ‰æ•ˆå¯è§£ 1.4.3 ä¸‹ç•Œ 1.5 é€’å½’1.5.1 çº¿æ€§é€’å½’ 1.5.2 é€’å½’ç®—æ³•çš„å¤æ‚åº¦åˆ†æ 1.5.3 äºŒåˆ†é€’å½’ 1.5.4 å¤šåˆ†æ”¯é€’å½’ ç¬¬äºŒç«  æ ˆä¸é˜Ÿåˆ— æ ˆä¸é˜Ÿåˆ—æœ€ç®€å•åŸºæœ¬ï¼Œä½†ä¹Ÿæ˜¯æœ€é‡è¦çš„ã€‚JVMï¼ŒCPUï¼ŒJavaæä¾›å¯¹åº”å†…å»ºç±»ï¼Œ 2.1 æ ˆåè¿›å…ˆå‡ºï¼ˆLast-in-first-outï¼ŒLIFOï¼‰ï¼Œæ¯”å¦‚æµè§ˆå™¨è®¿é—®è®°å½•ä¸å›é€€ï¼Œç¼–è¾‘å›é€€ã€‚ å…ƒç´ ï¼šæ ˆå®¹é‡ï¼Œæ ˆé¡¶æŒ‡é’ˆï¼Œåˆå§‹åŒ– è¿›æ ˆpush()ã€å‡ºæ ˆpop()ï¼ŒæŸ¥æ ˆé¡¶peek() Javajava.util.Stack ï¼špush()ã€pop()ã€peek()ï¼ˆåŠŸèƒ½ç­‰ä»·äºtop()ï¼‰ã€getSize()ä»¥åŠempty()ï¼ˆåŠŸèƒ½ç­‰ä»·äºisEmpty()ï¼‰ åº”ç”¨ï¼šæ•°ç»„å€’ç½®ï¼Œæ‹¬å·åŒ¹é…ç®—æ³•ï¼Œ ä¸‰ç§å®ç°æ–¹å¼æ•°ç»„ é“¾è¡¨ LinkedList 2.2 é˜Ÿåˆ—å…ˆè¿›å…ˆå‡ºï¼ˆFirst-In-First-Out, FIFOï¼‰ï¼Œç¾½æ¯›çƒç­’ 2.2.1 é˜Ÿåˆ—ADTQueue æ¥å£ å…ƒç´ é˜Ÿå¤´ã€é˜Ÿå°¾ã€é˜Ÿå°¾åŠ å…ƒç´ add()ï¼Œé˜Ÿå¤´åˆ é™¤å…ƒç´ poll(),æŸ¥é˜Ÿå¤´å…ƒç´ peek() 2.2.2 åŸºäºæ•°ç»„çš„å®ç°é¡ºåºæ•°ç»„ï¼Œæ•´ä½“ç§»åŠ¨ å¾ªç¯æ•°ç»„ï¼Œ æ€§èƒ½åˆ†æï¼ŒO(1)ã€‚ 2.2.3 é˜Ÿåˆ—åº”ç”¨å®ä¾‹å¾ªç¯åˆ†é…å™¨ï¼ŒJosephus ç¯ 2.3 é“¾è¡¨æ•°ç»„é•¿åº¦å¿…é¡»å›ºå®šï¼Œåœ¨ç©ºé—´æ•ˆç‡åŠé€‚åº”æ€§æ–¹é¢è¿˜å­˜åœ¨ä¸è¶³ã€‚ 2.3.1 å•é“¾è¡¨å…ƒç´ é¦–èŠ‚ç‚¹ï¼Œæœ«èŠ‚ç‚¹ â€‹ é“¾è¡¨çš„ç¬¬ä¸€ä¸ªå’Œæœ€åä¸€ä¸ªèŠ‚ç‚¹ï¼Œåˆ†åˆ«ç§°ä½œé“¾è¡¨çš„é¦–èŠ‚ç‚¹ï¼ˆHeadï¼‰å’Œæœ«èŠ‚ç‚¹ï¼ˆTailï¼‰ã€‚æœ«èŠ‚ç‚¹çš„ç‰¹å¾æ˜¯ï¼Œå…¶next å¼•ç”¨ä¸ºç©ºã€‚å¦‚æ­¤å®šä¹‰çš„é“¾è¡¨ï¼Œç§°ä½œå•é“¾è¡¨ï¼ˆSingly linkedlistï¼‰ã€‚ â€‹ ä¸æ•°ç»„ç±»ä¼¼ï¼Œå•é“¾è¡¨ä¸­çš„å…ƒç´ ä¹Ÿå…·æœ‰ä¸€ä¸ªçº¿æ€§æ¬¡åºâ¯â¯è‹¥P çš„next å¼•ç”¨æŒ‡å‘Sï¼Œåˆ™P å°±æ˜¯Sçš„ç›´æ¥å‰é©±ï¼Œè€ŒS æ˜¯P çš„ç›´æ¥åç»§ã€‚ä¸æ•°ç»„ä¸åŒçš„æ˜¯ï¼Œå•é“¾è¡¨çš„é•¿åº¦ä¸å†å›ºå®šï¼Œè€Œæ˜¯å¯ä»¥æ ¹æ®å®é™…éœ€è¦ä¸æ–­å˜åŒ–ã€‚å¦‚æ­¤ä¸€æ¥ï¼ŒåŒ…å«n ä¸ªå…ƒç´ çš„å•é“¾è¡¨åªéœ€å ç”¨O(n)ç©ºé—´â¯â¯è¿™è¦æ¯”å®šé•¿æ•°ç»„æ›´ä¸ºçµæ´»ã€‚ 2.4 ä½ç½®2.5 åŒç«¯é˜Ÿåˆ—ç¬¬ä¸‰ç«  å‘é‡ã€åˆ—è¡¨ä¸åºåˆ—â€‹ åºåˆ—ï¼ˆSequenceï¼‰ï¼Œå°±æ˜¯ä¾æ¬¡æ’åˆ—çš„å¤šä¸ªå¯¹è±¡ï¼Œå°±æ˜¯ä¸€ç»„å¯¹è±¡ä¹‹é—´çš„åç»§ä¸å‰é©±å…³ç³»ï¼Œæ˜¯æ•°æ®ç»“æ„è®¾è®¡çš„åŸºç¡€ã€‚ä¸¤ç§å…¸å‹çš„åºåˆ—ï¼šå‘é‡ï¼ˆVectorï¼‰å’Œåˆ—è¡¨ï¼ˆListï¼‰ã€‚ 3.1 å‘é‡ä¸æ•°ç»„3.1.1 å‘é‡ADT ç¬¬å››ç«  æ ‘â€‹ å‰é¢æ‰€æœ‰çš„æ•°æ®ç»“æ„æ ¹æ®å…¶å®ç°æ–¹å¼ï¼Œå¯ä»¥åˆ’åˆ†ä¸ºåŸºäºæ•°ç»„å®ç°å’ŒåŸºäºé“¾è¡¨å®ç°ï¼Œå…¶å„æœ‰é•¿çŸ­ï¼Œæ•°ç»„å–„æŸ¥æ‰¾è¯»å–ï¼Œä¿®æ”¹è€—æ—¶ï¼Œé“¾è¡¨åä¹‹ã€‚ä¸¤è€…æœ‰ç‚¹èƒ½ç»“åˆ?æ ‘æˆ–è®¸å¯ä»¥å›ç­”è¿™ä¸ªé—®é¢˜ã€‚ æœ¯è¯­åŠæ€§è´¨èŠ‚ç‚¹çš„æ·±åº¦ã€æ ‘çš„æ·±åº¦ä¸é«˜åº¦â€‹ æ ‘ä¸­çš„å…ƒç´ ä¹Ÿç§°ä½œèŠ‚ç‚¹ï¼ˆNodeï¼‰ï¼Œæ¯ä¸ªèŠ‚ç‚¹çš„æ·±åº¦éƒ½æ˜¯ä¸€ä¸ªéè´Ÿæ•´æ•°ï¼›æ·±åº¦ä¸º0 çš„èŠ‚ç‚¹æœ‰ä¸”ä»…æœ‰ä¸€ä¸ªï¼Œç§°ä½œæ ‘æ ¹ï¼ˆRootï¼‰ï¼›å¯¹äºæ·±åº¦ä¸ºk (kâ‰¥1)çš„æ¯ä¸ªèŠ‚ç‚¹uï¼Œéƒ½æœ‰ä¸”ä»…æœ‰ä¸€ä¸ªæ·±åº¦ä¸ºk-1 çš„èŠ‚ç‚¹v ä¸ä¹‹å¯¹åº”ï¼Œç§°ä½œu çš„çˆ¶äº²ï¼ˆParentï¼‰æˆ–çˆ¶èŠ‚ç‚¹ã€‚å®šä¹‰å››.2 è‹¥èŠ‚ç‚¹v æ˜¯èŠ‚ç‚¹u çš„çˆ¶äº²ï¼Œåˆ™u ç§°ä½œv çš„å­©å­ï¼ˆChildï¼‰ï¼Œå¹¶åœ¨äºŒè€…ä¹‹é—´å»ºç«‹ä¸€æ¡æ ‘è¾¹ï¼ˆEdgeï¼‰ã€‚åŒä¸€èŠ‚ç‚¹çš„å­©å­äº’ç§°â€œå…„å¼Ÿâ€ï¼ˆSiblingï¼‰ã€‚æ ‘ä¸­æ‰€æœ‰èŠ‚ç‚¹çš„æœ€å¤§æ·±åº¦ï¼Œç§°ä½œæ ‘çš„æ·±åº¦æˆ–é«˜åº¦ã€‚æ ‘ä¸­èŠ‚ç‚¹çš„æ•°ç›®ï¼Œæ€»æ˜¯ç­‰äºè¾¹æ•°åŠ ä¸€ã€‚ åº¦ã€å†…éƒ¨èŠ‚ç‚¹ä¸å¤–éƒ¨èŠ‚ç‚¹â€‹ ä»»ä¸€èŠ‚ç‚¹çš„å­©å­æ•°ç›®ï¼Œç§°ä½œå®ƒçš„â€œåº¦â€ï¼ˆDegreeï¼‰ã€‚è‡³å°‘æ‹¥æœ‰ä¸€ä¸ªå­©å­çš„èŠ‚ç‚¹ç§°ä½œâ€œå†…éƒ¨èŠ‚ç‚¹â€ï¼ˆInternal nodeï¼‰ï¼›æ²¡æœ‰ä»»ä½•å­©å­çš„èŠ‚ç‚¹åˆ™ç§°ä½œâ€œå¤–éƒ¨èŠ‚ç‚¹â€ï¼ˆExternal nodeï¼‰æˆ–â€œå¶å­â€ï¼ˆLeafï¼‰ã€‚ è·¯å¾„â€‹ ç”±æ ‘ä¸­k+1 èŠ‚ç‚¹é€šè¿‡æ ‘è¾¹é¦–å°¾è¡”æ¥è€Œæ„æˆçš„åºåˆ—{ (v0, v1), (v1, v2), â€¦, (vk-1, vk) | k â‰¥ 0}ï¼Œç§°ä½œæ ‘ä¸­é•¿åº¦ä¸ºk çš„ä¸€æ¡è·¯å¾„ï¼ˆPathï¼‰ã€‚ç”±å•ä¸ªèŠ‚ç‚¹ã€é›¶æ¡è¾¹æ„æˆçš„è·¯å¾„ä¹Ÿæ˜¯åˆæ³•çš„ï¼Œå…¶é•¿åº¦ä¸º0ã€‚æ ‘ä¸­ä»»ä½•ä¸¤ä¸ªèŠ‚ç‚¹ä¹‹é—´éƒ½å­˜åœ¨å”¯ä¸€çš„ä¸€æ¡è·¯å¾„ã€‚è‹¥v æ˜¯u çš„çˆ¶äº²ï¼Œåˆ™depth(v) + 1 = depth(u)ã€‚ä»æ ‘æ ¹é€šå¾€ä»»ä¸€èŠ‚ç‚¹çš„è·¯å¾„é•¿åº¦ï¼Œæ°å¥½ç­‰äºè¯¥èŠ‚ç‚¹çš„æ·±åº¦ã€‚ ç¥–å…ˆã€åä»£ã€å­æ ‘å’ŒèŠ‚ç‚¹çš„é«˜åº¦ æ¯ä¸ªèŠ‚ç‚¹éƒ½æ˜¯è‡ªå·±çš„â€œç¥–å…ˆâ€ï¼ˆAncestorï¼‰ï¼Œä¹Ÿæ˜¯è‡ªå·±çš„â€œåä»£â€ï¼ˆDescendentï¼‰ï¼› è‹¥v æ˜¯u çš„çˆ¶èŠ‚ç‚¹çš„ç¥–å…ˆï¼Œåˆ™v ä¹Ÿæ˜¯u çš„ç¥–å…ˆï¼› è‹¥u çš„çˆ¶èŠ‚ç‚¹æ˜¯v çš„åä»£ï¼Œåˆ™u ä¹Ÿæ˜¯v çš„åä»£ã€‚ é™¤èŠ‚ç‚¹æœ¬èº«ä»¥å¤–çš„ç¥–å…ˆï¼ˆåä»£ï¼‰ï¼Œç§°ä½œçœŸç¥–å…ˆï¼ˆåä»£ï¼‰ã€‚ä»»ä¸€èŠ‚ç‚¹v çš„æ·±åº¦ï¼Œç­‰äºå…¶çœŸç¥–å…ˆçš„æ•°ç›®ã€‚ä»»ä¸€èŠ‚ç‚¹v çš„ç¥–å…ˆï¼Œåœ¨æ¯ä¸€æ·±åº¦ä¸Šæœ€å¤šåªæœ‰ä¸€ä¸ªã€‚æ ‘T ä¸­æ¯ä¸€èŠ‚ç‚¹v çš„æ‰€æœ‰åä»£ä¹Ÿæ„æˆä¸€æ£µæ ‘ï¼Œç§°ä½œT çš„â€œä»¥v ä¸ºæ ¹çš„å­æ ‘ï¼ˆSubtreeï¼‰â€è‹¥å­æ ‘v çš„æ·±åº¦ï¼ˆé«˜åº¦ï¼‰ä¸ºhï¼Œåˆ™ç§°v çš„é«˜åº¦ä¸ºhï¼Œè®°ä½œheight(v) = hã€‚å¯¹äºå¶å­èŠ‚ç‚¹u çš„ä»»ä½•ç¥–å…ˆvï¼Œå¿…æœ‰depth(v) + height(v) â‰¥ depth(u)ã€‚ å…±åŒç¥–å…ˆåŠæœ€ä½å…±åŒç¥–å…ˆåœ¨æ ‘T ä¸­ï¼Œè‹¥èŠ‚ç‚¹u å’Œv éƒ½æ˜¯èŠ‚ç‚¹a çš„åä»£ï¼Œåˆ™ç§°èŠ‚ç‚¹a ä¸ºèŠ‚ç‚¹u å’Œv çš„å…±åŒç¥–å…ˆï¼ˆCommonancestorï¼‰ã€‚æ¯ä¸€å¯¹èŠ‚ç‚¹è‡³å°‘å­˜åœ¨ä¸€ä¸ªå…±åŒç¥–å…ˆã€‚åœ¨ä¸€å¯¹èŠ‚ç‚¹u å’Œv çš„æ‰€æœ‰å…±åŒç¥–å…ˆä¸­ï¼Œæ·±åº¦æœ€å¤§è€…ç§°ä¸ºå®ƒä»¬çš„æœ€ä½å…±åŒç¥–å…ˆï¼ˆLowerestcommon ancestorï¼‰ï¼Œè®°ä½œlca(u, v)ã€‚æ¯ä¸€å¯¹èŠ‚ç‚¹çš„æœ€ä½å…±åŒç¥–å…ˆå¿…å­˜åœ¨ä¸”å”¯ä¸€ã€‚ æœ‰åºæ ‘ã€m å‰æ ‘åœ¨æ ‘T ä¸­ï¼Œè‹¥åœ¨æ¯ä¸ªèŠ‚ç‚¹çš„æ‰€æœ‰å­©å­ä¹‹é—´éƒ½å¯ä»¥å®šä¹‰æŸä¸€çº¿æ€§æ¬¡åºï¼Œåˆ™ç§°T ä¸ºä¸€æ£µâ€œæœ‰åºæ ‘ï¼ˆOrdered treeï¼‰â€æ¯ä¸ªå†…éƒ¨èŠ‚ç‚¹å‡ä¸ºm åº¦çš„æœ‰åºæ ‘ï¼Œç§°ä½œm å‰æ ‘ã€‚ äºŒå‰æ ‘æ¯ä¸ªèŠ‚ç‚¹å‡ä¸è¶…è¿‡2 åº¦çš„æœ‰åºæ ‘ï¼Œç§°ä½œäºŒå‰æ ‘ï¼ˆBinary treeï¼‰ã€‚ä¸å«1 åº¦èŠ‚ç‚¹çš„äºŒå‰æ ‘ï¼Œç§°ä½œçœŸäºŒå‰æ ‘ï¼ˆProper binary treeï¼‰ï¼Œå¦åˆ™ç§°ä½œéçœŸäºŒå‰æ ‘ï¼ˆImproper binary treeï¼‰ã€‚åœ¨äºŒå‰æ ‘ä¸­ï¼Œæ·±åº¦ä¸ºk çš„èŠ‚ç‚¹ä¸è¶…è¿‡2k ä¸ªã€‚é«˜åº¦ä¸ºh çš„äºŒå‰æ ‘æœ€å¤šåŒ…å«2h+1-1 ä¸ªèŠ‚ç‚¹ã€‚ç”±n ä¸ªèŠ‚ç‚¹æ„æˆçš„äºŒå‰æ ‘ï¼Œé«˜åº¦è‡³å°‘ä¸ºâ£log2nâ¦ã€‚åœ¨äºŒå‰æ ‘ä¸­ï¼Œå¶å­æ€»æ˜¯æ¯”2 åº¦èŠ‚ç‚¹å¤šä¸€ä¸ªã€‚ æ»¡äºŒå‰æ ‘ä¸å®Œå…¨äºŒå‰æ ‘è‹¥äºŒå‰æ ‘T ä¸­æ‰€æœ‰å¶å­çš„æ·±åº¦å®Œå…¨ç›¸åŒï¼Œåˆ™ç§°ä¹‹ä¸ºæ»¡äºŒå‰æ ‘ï¼ˆFull binary treeï¼‰é«˜åº¦ä¸ºh çš„äºŒå‰æ ‘æ˜¯æ»¡çš„ï¼Œå½“ä¸”ä»…å½“å®ƒæ‹¥æœ‰2h åŒ¹å¶å­ã€2h+1-1 ä¸ªèŠ‚ç‚¹ã€‚è‹¥åœ¨ä¸€æ£µæ»¡äºŒå‰æ ‘ä¸­ï¼Œä»æœ€å³ä¾§èµ·å°†ç›¸é‚»çš„è‹¥å¹²åŒ¹å¶å­èŠ‚ç‚¹æ‘˜é™¤æ‰ï¼Œåˆ™å¾—åˆ°çš„äºŒå‰æ ‘ç§°ä½œå®Œå…¨äºŒå‰æ ‘ï¼ˆComplete binary treeï¼‰ã€‚ç”±n ä¸ªèŠ‚ç‚¹æ„æˆçš„å®Œå…¨äºŒå‰æ ‘ï¼Œé«˜åº¦h = â£log2nâ¦ã€‚åœ¨ç”±å›ºå®šæ•°ç›®çš„èŠ‚ç‚¹æ‰€ç»„æˆçš„æ‰€æœ‰äºŒå‰æ ‘ä¸­ï¼Œå®Œå…¨äºŒå‰æ ‘çš„é«˜åº¦æœ€ä½ã€‚ ç¬¬äº”ç«  ä¼˜å…ˆé˜Ÿåˆ—ç¬¬å…­ç«  æ˜ å°„ä¸è¯å…¸ç¬¬ä¸ƒç«  æŸ¥æ‰¾æ ‘ç¬¬å…«ç«  ä¸²ç¬¬ä¹ç«  å›¾äºŒã€å¸¸ç”¨ç®—æ³•æ’åº 1ã€å†’æ³¡æ’åº 2ã€é€‰æ‹©æ’åº 3ã€æ’å…¥æ’åº 4ã€å¸Œå°”æ’åº 5ã€å½’å¹¶æ’åº 6ã€å¿«é€Ÿæ’åº ç„¶ååŸºå‡†ä¸¤è¾¹åˆ†åˆ«å¿«é€Ÿæ’åº 7ã€å †æ’åº 8ã€è®¡æ•°æ’åº 9ã€æ¡¶æ’åº 10ã€åŸºæ•°æ’åº æŸ¥æ‰¾ 1. é¡ºåºæŸ¥æ‰¾ 2. äºŒåˆ†æŸ¥æ‰¾ 3. æ’å€¼æŸ¥æ‰¾ 4. æ–æ³¢é‚£å¥‘æŸ¥æ‰¾ 5. æ ‘è¡¨æŸ¥æ‰¾ 6. åˆ†å—æŸ¥æ‰¾ 7. å“ˆå¸ŒæŸ¥æ‰¾ ä¸‰ã€ç®—æ³•é¢˜2.18==é¢˜ç›®==ï¼šåºå·-é¢˜ç›®æ€è·¯1ï¼š123æ€è·¯1ä¼˜ç‚¹ï¼šç¼ºç‚¹ï¼š ä»£ç 1ï¼š1ä»£ç 1 æ€è·¯2ï¼š123æ€è·¯2ä¼˜ç‚¹ï¼šç¼ºç‚¹ï¼š ä»£ç 2ï¼š1ä»£ç 2å‚è€ƒæ–‡çŒ®ï¼šæ•°æ®ç»“æ„é¢„ç®—æ³•(Javaæè¿°)é‚“ä¿Šè¾‰","link":"/2021/02/19/Draft/2021/%E6%AF%8F%E6%97%A5%E7%AE%97%E6%B3%95/"},{"title":"ä¿¡æ¯ç³»ç»Ÿé¡¹ç›®ç®¡ç†å¸ˆè®ºæ–‡æ¨¡æ¿","text":"æ¶æ„ ä¸€ã€é¡¹ç›®èƒŒæ™¯(é¡¹ç›®åŸºæœ¬æƒ…å†µä»‹ç»ã€é¡¹ç›®ç‰¹ç‚¹ã€è¦è®ºè¿°çš„è®ºç‚¹) äºŒã€æå‡ºè®ºç‚¹(æè¿°å¯¹Ã—Ã—ç®¡ç†çš„é‡è¦æ€§çš„è®¤è¯†) â€‹ 2020å¹´6æœˆï¼Œæˆ‘å‚åŠ äº†â•³â•³å¸‚èµ„æºå±€å‘èµ·çš„â€œåŸå¸‚å¤§è„‘â€ä¸€åœ°ä¸€ç ååŒå¹³å°ç³»ç»Ÿçš„å»ºè®¾å·¥ä½œï¼Œæ‹…ä»»æ‰¿å»ºæ–¹é¡¹ç›®ç»ç†ï¼Œè¯¥ä¿¡æ¯ç»¼åˆç®¡ç†å¹³å°ç³»ç»Ÿçš„ä¸»è¦æ¨¡å—åŒ…æ‹¬å¹³å°é—¨æˆ·ã€â€œå¤šè§„åˆä¸€â€ä¸šåŠ¡ååŒç³»ç»Ÿä¼˜åŒ–ã€è¡Œæ”¿å®¡æ‰¹ä¸šåŠ¡æ•´åˆã€åœŸåœ°ç å»ºè®¾ã€æ•°å­—é©¾é©¶èˆ±è§„åˆ’å’Œè‡ªç„¶èµ„æºç³»ç»Ÿã€é©¾é©¶èˆ±æŒ‡æ ‡åº“å»ºè®¾ç­‰9ä¸ªä¸šåŠ¡ç®¡ç†æ¨¡å—ï¼Œå»ºè®¾è´¹ç”¨780ä¸‡äººæ°‘å¸ï¼Œè¯¥é¡¹ç›®äº2021å¹´6æœˆé€šè¿‡äº†ä¸šä¸»æ–¹çš„éªŒæ”¶ä¸Šçº¿è¿è¡Œå,èµ¢å¾—äº†ç”¨æˆ·çš„ä¸€è‡´å¥½è¯„ï¼Œä½¿é¡¹ç›®è·å¾—äº†åœ†æ»¡æˆåŠŸã€‚æœ¬æ–‡ç»“åˆæˆ‘çš„å®é™…ç»éªŒ,ä»¥è¯¥é¡¹ç›®ä¸ºä¾‹,è®¨è®ºäº†ä¿¡æ¯ç³»ç»Ÿé¡¹ç›®å»ºè®¾è¿‡ç¨‹ä¸­çš„XXç®¡ç†,ä¸»è¦ä»ä»¥ä¸‹å‡ ä¸ªæ–¹é¢è¿›è¡Œäº†é˜è¿°:XXXXXç­‰è¿‡ç¨‹å†…å®¹ï¼Œæœ‰æ•ˆæé«˜äº†XXç®¡ç†æ°´å¹³ï¼Œæ»¡è¶³äº†é¡¹ç›®å¹²ç³»äººéœ€æ±‚å’ŒæœŸæœ›ã€‚ â€‹ 2018å¹´12æœˆï¼Œâ€œå¤šè§„åˆä¸€â€ä¸šåŠ¡ååŒç³»ç»Ÿä¸­â€œå¤šè§„å…±äº«â€ã€â€œé¡¹ç›®ç”Ÿæˆâ€ç­‰æ¨¡å—ä¸ºå„éƒ¨é—¨æä¾›äº†éå¸¸ä¾¿æ·å’Œå¿«é€Ÿçš„æœåŠ¡ï¼Œå–å¾—äº†è‰¯å¥½çš„æ•ˆç›Šã€‚éšç€ç³»ç»Ÿåº”ç”¨çš„ä¸æ–­æ·±å…¥ï¼Œç”¨æˆ·å¯¹â€œé¡¹ç›®ç”Ÿæˆâ€ç­‰åº”ç”¨åœºæ™¯æå‡ºäº†æ›´é«˜çš„ä½¿ç”¨è¦æ±‚ï¼Œå¦‚ï¼šé¡¹ç›®ç±»å‹ã€ä¸šåŠ¡ç±»å‹ç»†åŒ–ä¸è¶³ï¼Œå¯¼è‡´åœ¨å®é™…å·¥ä½œè¿‡ç¨‹ä¸­å­˜åœ¨ç›²åŒºï¼Œå½±å“äº†éƒ¨åˆ†é¡¹ç›®çš„æ¨è¿›ç­‰ã€‚å¦ä¸€æ–¹é¢ï¼Œéƒ¨é—¨å¹³å°å„è‡ªä¸ºæ”¿ã€ç³»ç»Ÿé—´çš„æ•°æ®å­˜åœ¨å£å’ï¼Œå¯¼è‡´æ— æ³•æœ‰æ•ˆçš„è¿›è¡Œæ•°æ®å…±äº«ï¼Œæ— æ³•å®ç°é¡¹ç›®å®¡æ‰¹å‡ææ–™ã€å‡æ—¶é—´ã€å‡ç¯èŠ‚ï¼Œæ€¥éœ€å¯¹åŸç³»ç»Ÿçš„å„åº”ç”¨åœºæ™¯è¿›è¡Œä¼˜åŒ–ã€‚æ­å·å¸‚XXèµ„æºå±€æˆç«‹åï¼Œä¸ºå°½å¿«è½å®æœºæ„æ”¹é©è¦æ±‚ï¼Œé‡Šæ”¾æ”¹é©çº¢åˆ©ï¼Œä»¥è‡ªç„¶èµ„æºâ€œä¸¤ç»Ÿä¸€â€å’Œä¸šåŠ¡éœ€æ±‚ä¸ºæ ¹æœ¬å‡ºå‘ç‚¹ï¼Œèšç„¦ä¸­å¿ƒå·¥ä½œï¼Œç«‹è¶³å·²æœ‰åŸºç¡€ï¼Œç»Ÿç­¹æ•´åˆç°æœ‰èµ„æºï¼Œç§¯æå¼€å±•ç«‹è¶³â€œä¸€å—åœŸåœ°ä¸€ä»¶äº‹â€å…¨æœåŠ¡å·¥ä½œï¼Œç”±æ­¤ä¸€åœ°ä¸€ç ååŒå¹³å°åº”è¿è€Œç”Ÿã€‚è¯¥é¡¹ç›®é‡‡ç”¨äº†å…¬å¼€æ‹›æ ‡çš„æ–¹å¼ï¼Œæˆ‘å…¬å¸å‚ä¸äº†æŠ•æ ‡å¹¶é¡ºåˆ©ä¸­æ ‡ï¼Œäº2020å¹´6æœˆç­¾è®¢äº†åˆåŒï¼Œéšåæˆç«‹äº†ä¸“é—¨é¡¹ç›®å°ç»„ï¼Œä»»å‘½æˆ‘ä¸ºé¡¹ç›®ç»ç†ã€‚æˆ‘å…¬å¸çš„ç»„ç»‡æ–¹å¼ä¸ºé¡¹ç›®å‹ï¼Œé¡¹ç›®æˆå‘˜ç›´æ¥å½’å±é¡¹ç›®ç»ç†é¢†å¯¼ï¼Œæˆ‘ç»„æ ¸å¿ƒæˆå‘˜å…±15äººã€‚è€ƒè™‘åˆ°é¡¹ç›®çš„å¤æ‚æ€§ã€å„åŒºå¿åœ°ç†ä½ç½®ä¸é›†ä¸­ç­‰åŸå› ï¼Œç³»ç»Ÿé‡‡ç”¨JAVAè¯­è¨€å¼€å‘ï¼Œé¡¹ç›®ç»„å†³å®šæ­¤é¡¹ç›®é‡‡ç”¨SSMçš„ä¸‰å±‚b/sæ¶æ„æ¨¡å¼ï¼Œåœ°å›¾åŸºäºleafletçš„WebGISå¯è§†åŒ–ï¼Œæ•°æ®åº“ä½¿ç”¨Postgresï¼Œè¿™æ ·çš„è®¾è®¡æœ‰åˆ©äºåæœŸçš„ç»´æŠ¤åŠæ‰©å±•ã€‚é¡¹ç›®å…±åˆ†ä¸ºæ•°å­—é©¾é©¶èˆ±è§„åˆ’å’Œè‡ªç„¶èµ„æºç³»ç»Ÿã€â€œä¸€åœ°ä¸€ç â€ååŒæœåŠ¡å¹³å°ç­‰å­ç³»ç»Ÿã€‚ç»è¿‡å…¨ç»„æˆå‘˜çš„å…±åŒåŠªåŠ›ï¼Œé¡¹ç›®äº2021å¹´6æœˆé¡ºåˆ©é€šè¿‡éªŒæ”¶ï¼Œç›®å‰è¿è¡Œæƒ…å†µè‰¯å¥½ã€‚ â€‹ ç”±äºè¯¥ç³»ç»Ÿå…·æœ‰å»ºè®¾è§„æ¨¡å¤§ï¼ˆæ¶µç›–ç‰©ä»·éƒ¨é—¨å‡ ä¹æ‰€æœ‰ä¸šåŠ¡ï¼‰ï¼Œå»ºè®¾æ—¶é—´ç´§ï¼ˆå»ºè®¾æœŸé™ä¸ºä¸€å¹´ï¼‰ï¼Œæ¶‰åŠçš„å¹²ç³»äººå¤šï¼ˆå†…éƒ¨å¹²ç³»äººåŒ…æ‹¬é¡¹ç›®ç»„å„ç±»æˆå‘˜ã€å…¬å¸é¢†å¯¼å’Œç›¸å…³éƒ¨é—¨äººå‘˜ï¼Œå¤–éƒ¨å¹²ç³»äººä¸ä»…åŒ…æ‹¬å¸‚å±€å„ç§‘å®¤ï¼Œä¹ŸåŒ…æ‹¬12ä¸ªåŒºå¿ç‰©ä»·å±€çš„ç›¸å…³äººå‘˜ã€è¿è¥å•†ç­‰ï¼‰ï¼Œå‚ä¸çš„é¡¹ç›®æˆå‘˜å¤šï¼ˆé«˜å³°æ—¶è¾¾åˆ°60äººï¼Œæˆ‘å°†å°ç»„æˆå‘˜åˆ†ä¸ºç¡¬ä»¶é›†æˆéƒ¨ç½²ç»„ã€æ•°æ®ä¸­å¿ƒç»„ã€è½¯ä»¶å¼€å‘ç»„ã€å¹³å°æµ‹è¯•ç»„ï¼ˆå››ä¸ªå°ç»„ï¼‰ï¼ŒåŠŸèƒ½å¤æ‚ç­‰ç‰¹ç‚¹ï¼Œä¸ºäº†ä¿è¯é¡¹ç›®åœ†æ»¡å®Œæˆï¼Œæˆ‘ç»„å»ºäº†å¼ºçŸ©é˜µçš„é¡¹ç›®ç»„ç»‡ç»“æ„ï¼Œé€šè¿‡æœ‰æ•ˆçš„é¡¹ç›®ç®¡ç†ï¼Œç‰¹åˆ«æ˜¯å‡ºè‰²çš„XXç®¡ç†ï¼Œå¸¦é¢†é¡¹ç›®å›¢é˜Ÿå…¨ä½“æˆå‘˜ç»è¿‡å¥‹æˆ˜è·å¾—äº†è‰¯å¥½çš„ç»©æ•ˆï¼Œå–å¾—äº†é¡¹ç›®çš„æˆåŠŸã€‚æœ¬æ–‡å°†å›´ç»•è¯¥é¡¹ç›®çš„XXç®¡ç†è¿›è¡Œé‡ç‚¹è®¨è®ºã€‚ ä¸‰ã€æŒ‰ç…§æ‰€æ¶‰åŠç®¡ç†é¢†åŸŸçš„è¿‡ç¨‹åˆ†æ®µè¿›è¡Œè®ºè¿°(å…ˆç»™å‡ºæ¯ä¸ªè¿‡ç¨‹çš„å®šä¹‰ã€è¾“å…¥ã€è¾“å‡ºã€å·¥å…·ä¸æ–¹æ³•ï¼Œå†ç»“åˆåšè¿‡çš„é¡¹ç›®æè¿°é¡¹ç›®ä¸­æ˜¯å¦‚ä½•åšçš„) ä¸€ã€ äºŒã€ ä¸‰ã€ å››ã€ äº”ã€ å››ã€å°ç»“(å¯¹ä¸Šé¢çš„è®ºè¿°è¿›è¡Œä¸€ä¸‹å°ç»“) äº”ã€åˆ†æé¡¹ç›®å­˜åœ¨çš„é—®é¢˜åŠæ”¹è¿›çš„å»ºè®®(å†™å¤Ÿä¸‰æ¡å°±å¯ä»¥äº†) å…­ã€æ€»ç»“(ä¸»è¦æ˜¯å†™é¡¹ç›®ä½“ä¼šï¼Œæ¯”å¦‚é€šè¿‡é¡¹ç›®å®æ–½ï¼Œè‡ªå·±è‡ªè§‰åº”ç”¨é¡¹ç›®ç®¡ç†çŸ¥è¯†ã€å·¥å…·ã€æŠ€æœ¯ï¼Œå¯¹æˆåŠŸå®æ–½é¡¹ç›®æ‰€èµ·çš„ç§¯æä½œç”¨ç­‰)ã€‚ â€‹ ç»è¿‡æˆ‘ä»¬å›¢é˜Ÿä¸æ‡ˆçš„åŠªåŠ›ï¼Œå†æ—¶1 å¹´ï¼Œæœ¬é¡¹ç›®ç»ˆäºäº2021å¹´6æœˆï¼Œé€šè¿‡äº†ä¸šä¸»æ–¹ç»„ç»‡çš„éªŒæ”¶ï¼Œå®ç°ä»è§„åˆ’ç¼–åˆ¶å’Œå®æ–½ã€èµ„æºä¿æŠ¤å’Œåˆ©ç”¨ã€ç¡®æƒç™»è®°ã€åœ°ç†èµ„æºç­‰å¤šæ–¹é¢è¿›è¡Œä¸šåŠ¡å’Œæ•°æ®çš„èåˆï¼Œæ¶µç›–äº†è§„èµ„å±€ç»Ÿä¸€è¡Œä½¿å…¨æ°‘æ‰€æœ‰è‡ªç„¶èµ„æºèµ„äº§æ‰€æœ‰è€…èŒè´£ï¼Œç»Ÿä¸€è¡Œä½¿æ‰€æœ‰å›½åœŸç©ºé—´ç”¨é€”ç®¡åˆ¶å’Œç”Ÿæ€ä¿æŠ¤ä¿®å¤èŒè´£ã€‚é€šè¿‡é—¨æˆ·ä¸²è”â€œå¤šè§„åˆä¸€â€ä¸šåŠ¡ååŒç³»ç»Ÿã€è¡Œæ”¿å®¡æ‰¹ç³»ç»Ÿã€ä¸åŠ¨äº§ç™»è®°ç³»ç»Ÿç­‰ä¸‰å¤§ç³»ç»Ÿï¼Œä»¥æ¨¡å—åŒ–å½¢å¼ï¼Œæ­å»ºå¤šè§„å…±äº«ã€ç¼–åˆ¶ç»Ÿç­¹ã€é¡¹ç›®ç”Ÿæˆã€å®æ–½ç›‘æµ‹ã€ç«‹é¡¹ç”¨åœ°è§„åˆ’è®¸å¯ã€å·¥ç¨‹è®¸å¯ã€æ–½å·¥è®¸å¯ã€ç«£å·¥éªŒæ”¶ã€ç¡®æƒç™»è®°ç­‰9ä¸ªåº”ç”¨åœºæ™¯ã€‚æœ¬é¡¹ç›®çš„æˆåŠŸåœ¨æŸäº›æ–¹é¢å¾—ç›Šäºæˆ‘æˆåŠŸçš„xx ç®¡ç†ï¼Œåœ¨æ­¤æˆ‘æ€»ç»“ä¸€ä¸‹å‡ æ¡ç®¡ç†ç»éªŒï¼šï¼ˆ1ï¼‰é‡è§†é¡¹ç›®çš„è°ƒç ”ï¼Œå……åˆ†äº†è§£é¡¹ç›®éœ€æ±‚ä¸èŒƒå›´ï¼›ï¼ˆ2ï¼‰æ ‘ç«‹æ­£ç¡®çš„æ€æƒ³ï¼Œé‡‡ç”¨é€‚å½“çš„æ–¹æ³•ã€éµå¾ªä¸€å®šçš„æµç¨‹ï¼Œä¸¥æ ¼æŒ‰ç…§è¿›åº¦ç®¡ç†çš„è¦æ±‚åšå¥½æ´»åŠ¨å®šä¹‰ã€æ´»åŠ¨æ’åºã€æ´»åŠ¨çš„èµ„æºä¼°ç®—ã€æ´»åŠ¨çš„å†æ—¶ä¼°ç®—ã€ç¼–åˆ¶è¿›åº¦è®¡åˆ’ã€è¿›åº¦æ§åˆ¶å·¥ä½œï¼›ï¼ˆ3ï¼‰å»ºç«‹é—®é¢˜è·Ÿè¸ªæœºåˆ¶ï¼Œå¯¹æ¯ä¸ªé˜¶æ®µçš„é—®é¢˜è¿›è¡Œè®°å½•å’Œè·Ÿè¸ªï¼Œå°†æ¯ä¸ªé—®é¢˜è½å®åˆ°å…·ä½“è´Ÿè´£äººã€‚ â€‹ å½“ç„¶ï¼Œåœ¨æœ¬é¡¹ç›®ä¸­ï¼Œè¿˜æœ‰ä¸€äº›ä¸è¶³ä¹‹å¤„ï¼Œæ¯”å¦‚ï¼šåœ¨é¡¹ç›®çš„å®æ–½è¿‡ç¨‹ä¸­ï¼Œç”±äºé¡¹ç›®ç»„2 åæˆå‘˜å› ä¸ºè‡ªèº«åŸå› çªç„¶ç¦»èŒï¼Œå¯¼è‡´é¡¹ç›®çš„å›¢é˜Ÿå»ºè®¾å‡ºç°ä¸€äº›å°é—®é¢˜ï¼Œè¿˜æœ‰ï¼Œæ›¾ç»ç”±äºç–«æƒ…åŸå› å¯¼è‡´ä¸€ä½æŠ€æœ¯äººå‘˜å±…å®¶éš”ç¦»åœ¨å®¶åŠå…¬å½±å“äº†äº›é¡¹ç›®è¿›åº¦ï¼Œä¸è¿‡ï¼Œç»è¿‡æˆ‘åæœŸçš„çº åï¼Œå¹¶æ²¡æœ‰å¯¹é¡¹ç›®äº§ç”Ÿä»€ä¹ˆå½±å“ã€‚åœ¨åç»­çš„å­¦ä¹ å’Œå·¥ä½œä¸­ï¼Œæˆ‘å°†ä¸æ–­çš„å……ç”µå­¦ä¹ ï¼Œå’ŒåŒè¡Œè¿›è¡Œäº¤æµï¼Œæå‡è‡ªå·±çš„ä¸šåŠ¡å’Œç®¡ç†æ°´å¹³ï¼ŒåŠ›äº‰ä¸ºæˆ‘å›½ä¿¡æ¯åŒ–å»ºè®¾åšå‡ºè‡ªå·±çš„åŠªåŠ›ã€‚","link":"/2021/03/29/Draft/2021/%E9%A1%B9%E7%9B%AE%E7%AE%A1%E7%90%86%E8%AE%BA%E6%96%87%E6%A8%A1%E6%9D%BF/"},{"title":"BUG","text":"é¡¹ç›®ç®¡ç†ï¼Œé¡¹ç›®ç»éªŒï¼Œå¼€å‘ä¹‹å¤–ã€å®æ–½ï¼Œæµ‹è¯•ï¼Œç»´æŠ¤ï¼Œéƒ¨ç½²ã€‘é¡¹ç›®æ€»ç»“ï¼Œå¼€å‘ä¹‹å¤–æŠ€èƒ½æå‡","link":"/2021/02/24/Draft/2021/%E9%A1%B9%E7%9B%AE%E7%AE%A1%E7%90%86/"},{"title":"é­‘é­…å…ˆç”Ÿ | æ¯æ—¥é¢é¢˜","text":"é¢è¯•é¢˜ä¸ä½†æ˜¯é—¨æ§›ï¼Œä¹Ÿæ˜¯æ£€æµ‹ã€‚ Javaåˆ·é¢˜ä¸»è¦åˆ†ç±»ï¼šJVMï¼Œç½‘ç»œï¼ŒJavaåŸºç¡€ï¼Œç®—æ³•æ•°æ®ç»“æ„ï¼Œæ•°æ®åº“é«˜çº§çŸ¥è¯†ï¼Œæ¡†æ¶åŸç†ï¼Œè®¾è®¡æ¨¡å¼ï¼Œåˆ†å¸ƒå¼ JavaåŸºç¡€æŸ¥çœ‹JAVAåŸºç¡€é¡¹ç›®å¹¶è¡¥å……ï¼ŒåŒ…å«javaåŸºç¡€ï¼Œ JVMç½‘ç»œç®—æ³•æ•°æ®ç»“æ„æ•°æ®åº“é«˜çº§çŸ¥è¯†æ¡†æ¶åŸç†è®¾è®¡æ¨¡å¼åˆ†å¸ƒå¼","link":"/2021/03/01/Draft/2021/%E6%AF%8F%E6%97%A5%E9%9D%A2%E9%A2%98/"},{"title":"GIS","text":"MAPBOXæµç¨‹ å‡†å¤‡ï¼šç†Ÿæ‚‰linux å®‰è£…ã€ç½‘ç»œã€æ–‡ä»¶ç­‰åŸºæœ¬æ“ä½œï¼ŒJSã€HTMLç­‰ç†Ÿæ‚‰ï¼ŒMapboxç†Ÿæ‚‰ï¼ŒSQLç†Ÿæ‚‰ï¼Œï¼Œï¼Œ Ubuntuç¯å¢ƒå‡†å¤‡===ã€‹å…¶ä»–æ ¼å¼æ•°æ®===ã€‹shpæ•°æ®===ã€‹Windowså¯¼å…¥postgresqlæ•°æ®åº“===ã€‹é€šè¿‡ogr2ogrè½¬æ¢ä¸ºgeojson===ã€‹é€šè¿‡tippecanoeåˆ‡ç‰‡ï¼ˆå‚æ•°è‡ªæ§ï¼‰==ã€‹æ•°æ®æ‰“åŒ…ï¼ˆä¼ è¾“æ›´å¿«ï¼‰windowså…±äº«æ–‡ä»¶å¤¹===ã€‹å‡†å¤‡mapbox2000 js cssæ–‡ä»¶====ã€‹mapboxå‰ç«¯ä»£ç å¯¼å…¥æ•°æ®å¹¶æ˜¾ç¤º====ã€‹å‡†å¤‡å›¾æ ‡æ•°æ®===ã€‹filteråˆ†ç±»å›¾æ ‡æ˜¾ç¤º=====ã€‹åˆ†å±‚æ•°æ®æ˜¾ç¤º====ã€‹ç»†èŠ‚ä¼˜åŒ–ï¼ˆé¢œè‰²ï¼Œå…‰ï¼Œå­—ä½“å¤§å°ï¼Œå›¾ç‰‡å¤§å°ï¼‰====ã€‹åŠ å…¥ç‚¹å‡»æ˜¾ç¤ºä½ç½®====ã€‹å…¶ä»–ç‚¹å‡»åŠŸèƒ½====ã€‹wftsåº•å›¾åˆ‡æ¢==ã€‹æ§ä»¶åŠ è½½===ã€‹wfsï¼Œwmsæ•°æ®åŠ è½½ï¼ˆä¸åŒæ•°æ®æºï¼‰==ã€‹å…¶ä»–æ¨¡å‹åŠ å…¥ è¯¦ç»†æ­¥éª¤ç¯å¢ƒå‡†å¤‡Ubuntuè™šæ‹Ÿæœºï¼šç½‘ç»œç¯å¢ƒï¼Œæ•°æ®å…±äº«ï¼ŒPostgresqlï¼ŒTippecanoeï¼ŒPROJ.4ã€GEOSå’ŒGDALï¼ˆogr2ogrï¼‰ï¼Œgccã€g++ã€make windowsï¼šPostgresql,VMware,Ubuntué•œåƒï¼ˆå®˜æ–¹æŒ‡å®šï¼‰ï¼ŒNavicatï¼ˆæ–¹ä¾¿æŸ¥çœ‹æ•°æ®å’Œå»ºç«‹ç©ºé—´æ•°æ®åº“ï¼‰ï¼ŒVSCode è¯¦ç»†æ­¥éª¤ï¼š å®‰è£…Postgresqlæ•°æ®åº“ï¼Œç¯å¢ƒé…ç½®ï¼Œå¯¼å…¥shpWindowså®‰è£…Postgresqlä¸‹è½½ ç¯å¢ƒå˜é‡æ·»åŠ  è®¾ç½®å¤–ç½‘è®¿é—®ï¼ˆpg_hba.confï¼‰ 1234567891011# TYPE DATABASE USER ADDRESS METHOD# IPv4 local connections:host all all 127.0.0.1/32 md5host all all 0.0.0.0/0 md5# IPv6 local connections:host all all ::1/128 md5# Allow replication connections from localhost, by a user with the# replication privilege.#host replication postgres 127.0.0.1/32 md5#host replication postgres ::1/128 md5 å»ºç«‹ç©ºé—´æ•°æ®åº“,ç›®æ ‡æ•°æ®åº“æ‰§è¡Œä»¥ä¸‹è¯­å¥ 1234create extension postgis;create extension postgis_topology;create extension fuzzystrmatch;create extension postgis_tiger_geocoder; åœ¨SHPæ–‡ä»¶å¤¹æ–°å»ºtxtæ–‡ä»¶ï¼Œç²˜è´´ä»¥ä¸‹ä»£ç ï¼Œå¯¼å…¥æ•°æ®åˆ°æ•°æ®åº“ï¼Œç›¸å…³å‚æ•°å¦‚ä¸‹ï¼Œæ”¹æˆbatåç¼€ï¼ŒåŒå‡»è¿è¡Œåè¾“å…¥å¯†ç ï¼Œæ˜¾ç¤ºç±»ä¼¼ insert 1æˆåŠŸ 123shp2pgsql -s 4544 -c -W â€œGBKâ€ DJQ5120812018.shp public.DJQ5120812018 | psql -d shp2pgsqldemo -U postgres -Wç¤ºä¾‹ ï¼šshp2pgsql -s 4544 -c -W &quot;UTF-8&quot; ADDRESS.shp public.rrrrr| psql -h 192.168.22.128 -d postgres -U postgres -W ç¼–ç æ ¼å¼ SHPæ•°æ® publicä¸‹çš„rrrrrè¡¨ å¯¼å…¥æ•°æ®åº“åœ°å€ æ•°æ®åº“å ç”¨æˆ·å ä¹Ÿå¯åˆ†ä¸ºä¸¤ä¸ªæ­¥éª¤ï¼Œå…ˆè½¬æ¢ä¸ºsqlè¯­å¥ï¼Œå†å¯¼å…¥,æ­¥éª¤åŒä¸Š 12shp2pgsql -s 4544 -c -W â€œGBKâ€ DJQ5120812018.shp&gt;DJQ5120812018.sqlpsql -d shp2pgsqldemo -U postgres -f DJQ5120812018.sql -W å¯èƒ½å‡ºç°çš„é—®é¢˜ è§£å†³åŠæ³• ä¹±ç  æ›´æ”¹ç¼–ç  å¯¼å…¥ä¸­æ–­ï¼Œæ•°æ®åº“æ— æ•°æ® æ•°æ®è¿‡å¤§ å‚æ•° å«ä¹‰ -s ç©ºé—´å‚è€ƒæ ‡è¯†ç¬¦ï¼ˆSRIDï¼‰ -d é‡æ–°å»ºç«‹è¡¨ï¼Œå¹¶æ’å…¥æ•°æ® -a åœ¨åŒä¸€ä¸ªè¡¨ä¸­å¢åŠ æ•°æ® -c å»ºç«‹æ–°è¡¨ï¼Œå¹¶æ’å…¥æ•°æ®(ç¼ºçœ) -p åªåˆ›å»ºè¡¨ -g æŒ‡å®šè¦åˆ›å»ºçš„è¡¨çš„ç©ºé—´å­—æ®µåç§°(åœ¨è¿½åŠ æ•°æ®æ—¶æœ‰ç”¨) -D ä½¿ç”¨dumpæ–¹å¼ï¼Œæ¯”ç¼ºçœç”Ÿæˆsqlçš„é€Ÿåº¦å¿« -G ä½¿ç”¨ç±»å‹geography -k ä¿æŒæ ‡è¯†ç¬¦ï¼ˆåˆ—åï¼Œæ¨¡å¼ï¼Œå±æ€§ï¼‰å¤§å°å†™ã€‚ -i å°†æ‰€æœ‰æ•´å‹éƒ½è½¬ä¸ºæ ‡å‡†çš„32-bitæ•´æ•° -I åœ¨å‡ ä½•åˆ—ä¸Šå»ºç«‹GISTç´¢å¼• -S ç”Ÿæˆç®€å•å‡ ä½•ï¼Œè€ŒéMULTIå‡ ä½• -t æŒ‡å®šå‡ ä½•çš„ç»´åº¦ -w æŒ‡å®šè¾“å‡ºæ ¼å¼ä¸ºWKT -W è¾“å…¥çš„dbfæ–‡ä»¶ç¼–ç æ–¹å¼ -N æŒ‡å®šå‡ ä½•ä¸ºç©ºæ—¶çš„æ“ä½œ -n åªå¯¼å…¥dbfæ–‡ä»¶ -T æŒ‡å®šè¡¨çš„è¡¨ç©ºé—´ -X æŒ‡å®šç´¢å¼•çš„è¡¨ç©ºé—´ -? å¸®åŠ© é€šè¿‡ogr2ogrè½¬æ¢ä¸ºgeojson12ogr2ogr -f &quot;GeoJSON&quot; ./asstln.json PG:&quot;host=localhost dbname=postgres user=postgres password=111111&quot; -sql &quot;select * from asstln&quot; ç›®æ ‡æ–‡ä»¶å å¯¼å‡ºæ•°æ®åº“è¿æ¥ä¿¡æ¯ å¯¼å‡ºè¡¨å é€šè¿‡tippecanoeåˆ‡ç‰‡ï¼ˆå‚æ•°è‡ªæ§ï¼‰å•æ•°æ®æº 12tippecanoe -e tracenln -pC -Z0 -z20 -f tracenln.json ç›®æ ‡æ–‡ä»¶å¤¹ åˆ‡ç‰‡ç­‰çº§ç©ºå€¼ æºæ–‡ä»¶å å•å±‚å¤šæ•°æ®æºåˆå¹¶ 123#whereç¡®å®šçº§åˆ«ogr2ogr -f &quot;GeoJSON&quot; ./veg_py.json PG:&quot;host=126.10.9.16 dbname=postgres user=postgres password=724111&quot; -sql &quot;select * from veg_py fscale=10&quot; tippecanoe -e tracenln -pC -Z0 -z20 -f tracenln1.json tracenln2.json tracenln3.json å‚æ•°æŸ¥çœ‹ æ•°æ®æ‰“åŒ… å¤åˆ¶åˆ°ç¼–ç¨‹ç«¯ï¼ˆä¼ è¾“æ›´å¿«ï¼‰ windowsæ–‡ä»¶å…±äº«æ–‡ä»¶å¤¹ï¼Œæˆ–Tomcatï¼Œæˆ–åœ¨çº¿æœåŠ¡å™¨ä»¥ä¾¿æ•°æ®è°ƒç”¨ï¼Œæ³¨æ„è§£å†³è§¦è·¨åŸŸèµ„æºè®¿é—® å‡†å¤‡mapbox2000 js cssæ–‡ä»¶windows å®‰è£… gitNode.JS å®‰è£…è¯´æ˜Yarnå®‰è£…ã€é…ç½®ã€é•œåƒæºä¿®æ”¹ 12npm install --global yarnyarn --version Node.jså®‰è£…æœ¬åœ°æ’ä»¶æ„å»ºå·¥å…·node-gypGitHub Mapboxæºç åœ°å€ï¼šhttps://github.com/mapbox/mapbox-gl-js 2000åæ ‡æºç ï¼Œ é¡¹ç›®ç¼–è¯‘ yarn install å®‰è£…headless-glï¼Œå¹¶å°†node_modules/headless-gl/deps/windows/dll/x64/*.dll å¤åˆ¶åˆ°c:\\windows\\system32npm install glyarn run start-debugyarn run build-dev å‡†å¤‡å¥½jså’Œcssæ–‡ä»¶ mapbox å‰ç«¯ä»£ç å¯¼å…¥åœ°å›¾æ•°æ®å¹¶æ˜¾ç¤º 3Dæ¨¡å‹é’ˆå¯¹å¯¹åº”çš„å»ºç­‘æ•°æ®ï¼Œè¿›è¡Œå»ºç­‘ç‰©3Dæ˜¾ç¤º 123456789101112131415161718paint: { // 'fill-color': 'red', // 'fill-opacity': 1, 'fill-extrusion-color': '#f5f4ee', // use an 'interpolate' expression to add a smooth transition effect to the // buildings as the user zooms in 'fill-extrusion-height': [ &quot;interpolate&quot;, [&quot;linear&quot;], [&quot;zoom&quot;], 15, 0, 15.05, [&quot;get&quot;, &quot;height&quot;] ], 'fill-extrusion-base': [ &quot;interpolate&quot;, [&quot;linear&quot;], [&quot;zoom&quot;], 15, 0, 15.05, [&quot;get&quot;, &quot;min_height&quot;] ], 'fill-extrusion-opacity': 0.85 }, vscode æ’ä»¶æœåŠ¡å™¨æ’ä»¶å®‰è£… Live Server å‡†å¤‡å›¾æ ‡æ•°æ®ï¼ŒPBFå­—ä½“æ•°æ®https://github.com/mapbox/spritezero ä»é›¶ç”Ÿæˆå›¾æ ‡èµ„æºå·¥å…·ï¼Œå¯ç½‘ä¸Šä¸‹è½½ ç”Ÿæˆå¦‚å›¾å½¢å¼æ–‡ä»¶ï¼Œ filter åˆ†ç±»å›¾æ ‡æ˜¾ç¤º123456789101112131415'filter': [ 'any', [ '==', 'fcode', '4206002500'//2 ] ,[ '==', 'fcode', '4305010500'//2 ] ], åˆ†å±‚æ•°æ®æ˜¾ç¤º1&quot;layers&quot;: []//ä¸­è¶Šé å‰çš„åœ¨åº•å±‚ ç»†èŠ‚ä¼˜åŒ–ï¼ˆé¢œè‰²ï¼Œå…‰ï¼Œå­—ä½“å¤§å°ï¼Œå›¾ç‰‡å¤§å°ï¼‰ æ§ä»¶åŠ è½½ SupermapæŸ¥çœ‹ åŠ å…¥ç‚¹å‡»æ˜¾ç¤ºç›¸å…³ä¿¡æ¯123456789101112131415//å¼¹å‡ºæ¡†â€‹ map.on('click', function (e) {â€‹ var features = map.queryRenderedFeatures(e.point, {â€‹ layers: ['13'] // replace this with the id of the layerâ€‹ });â€‹ if (!features.length) {â€‹ return;â€‹ }â€‹ var feature = features[0];â€‹ var popup = new mapboxgl.Popup({ offset: [0, -15] })â€‹ .setLngLat(feature.geometry.coordinates)â€‹ .setHTML('&lt;h3&gt;' + feature.properties.shortname + '&lt;/h3&gt;&lt;p&gt;' + feature.properties.name + '&lt;/p&gt;')â€‹ .addTo(map);â€‹ }); wfts åº•å›¾åˆ‡æ¢ wfsï¼Œwms æ•°æ®åŠ è½½ï¼ˆä¸åŒæ•°æ®æºï¼‰ å®šä½ æ•°æ®æŸ¥è¯¢ æ•°æ®å¯è§†åŒ– SupermapæŸ¥çœ‹ ä¼˜åŒ–çª—å£æ ·å¼ä¼˜åŒ–ï¼Œå¼¹å‡ºæ¡†æ ·å¼ä¼˜åŒ–ï¼Œå­—ä½“ç­‰è°ƒèŠ‚ ä¸€äº›å°æŠ€å·§å¾…æ›´æ–° Mapboxæºç ç¼–è¯‘ç¯å¢ƒå‡†å¤‡GITç¯å¢ƒæ­å»ºï¼šè¯¦ç»†ç‚¹å‡»ï¼šï¼ˆä¸€ï¼‰windows å®‰è£… gitNode.JSç¯å¢ƒæ­å»ºï¼šè¯¦ç»†ç‚¹å‡»ï¼šï¼ˆä¸€ï¼‰Node.JS å®‰è£…è¯´æ˜Yarnç¯å¢ƒæ­å»ºï¼šè¯¦ç»†ç‚¹å‡»ï¼šï¼ˆä¸€ï¼‰Yarnå®‰è£…ã€é…ç½®ã€é•œåƒæºä¿®æ”¹ 12npm install --global yarnyarn --version Npm and node-gypä¾èµ–å®‰è£…è¯¦ç»†ç‚¹å‡»ï¼šï¼ˆäºŒï¼‰Node.jså®‰è£…æœ¬åœ°æ’ä»¶æ„å»ºå·¥å…·node-gypå…¶ä»–åœ°å€ï¼šGitHub Mapboxæºç åœ°å€ï¼šhttps://github.com/mapbox/mapbox-gl-js é¡¹ç›®ç¼–è¯‘ yarn install å®‰è£…headless-glï¼Œå¹¶å°†node_modules/headless-gl/deps/windows/dll/x64/*.dll å¤åˆ¶åˆ°c:\\windows\\system32npm install glyarn run start-debugyarn run build-dev debug/index.htmlä¸­ä»£ç æœ€ä¸Šæ–¹å¢åŠ token mapboxgl.accessToken=â€™pk.eyJ1IjoibGltbiIsImEiOiJja2t1bG1na2IxZGU0MnZvNmlzY3FhZXM4In0.oQx4VguycOR4TK80Pyusmwâ€™;var map = window.map = new mapboxgl.Map({ MAPBOXä¸“ä¸šæœ¯è¯­çŸ¢é‡ç“¦ç‰‡ï¼š æ …æ ¼ç“¦ç‰‡ï¼š MAPBOXå­¦ä¹ ä¸­æ–‡æ–‡æ¡£ï¼šhttp://www.mapbox.cn/mapbox-gl-js/api/ Styles (8)ä¸ºåœ°å›¾æ·»åŠ ç”Ÿæˆçš„å›¾æ ‡ä¸ºåœ°å›¾æ·»åŠ åŠ¨ç”»å›¾æ ‡ä¸ºåœ°å›¾ç”ŸæˆåŠæ·»åŠ ç¼ºå¤±çš„å›¾æ ‡ä¸ºåœ°å›¾æ·»åŠ å›¾æ ‡ä½¿ç”¨è‡ªå®šä¹‰æ ·å¼å±•ç¤ºåœ°å›¾æ˜¾ç¤ºå«æ˜Ÿåœ°å›¾æ”¹å˜ä¸€ä¸ªåœ°å›¾çš„æ ·å¼æ˜¾ç¤ºä¸€ä¸ªåœ°å›¾ Layers (30)ç”¨3Då½¢å¼å‘ˆç°å»ºç­‘ç‰©æ‹‰ä¼¸å¤šè¾¹å½¢ä»¥ç»˜åˆ¶3Då®¤å†…åœ°å›¾æ·»åŠ 3Dæ¨¡å‹è°ƒæ•´å›¾å±‚ä¸é€æ˜åº¦ä¸ºçº¿æ·»åŠ åŠ¨ç”»æ•ˆæœä¸ºä¸€ç³»åˆ—å›¾åƒæ·»åŠ åŠ¨ç”»æ•ˆæœä¸ºç‚¹æ·»åŠ åŠ¨ç”»æ•ˆæœæŒ‰ç…§ç¼©æ”¾çº§åˆ«æ”¹å˜å»ºç­‘é¢œè‰²æ›´æ”¹æ ‡æ³¨çš„å¤§å°å†™æ˜¾ç¤ºå…·æœ‰è‡ªå®šä¹‰å±æ€§çš„HTMLèšç±»åˆ›å»ºæ ·å¼èšç±»ä½¿ç”¨æŒ‰é’®æ›´æ”¹å›¾å±‚é¢œè‰²æ·»åŠ è‡ªå®šä¹‰æ ·å¼å›¾å±‚ç»™çº¿æ·»åŠ æ•°æ®é©±åŠ¨å±æ€§çš„æ ·å¼ã€‚ç»™åœ†æ·»åŠ æ•°æ®é©±åŠ¨å±æ€§çš„æ ·å¼æ˜¾ç¤ºå¤šç§æ–‡æœ¬æ ¼å¼å¹¶è®¾ç½®å…¶æ ·å¼ä¸ºå¤šè¾¹å½¢æ·»åŠ å›¾æ¡ˆåœ¨æ ‡ç­¾ä¸‹æ·»åŠ æ–°å›¾å±‚æ·»åŠ  GeoJSON çº¿ç»˜åˆ¶ GeoJSON ç‚¹æ·»åŠ  GeoJSON å¤šè¾¹å½¢åˆ›å»ºçƒ­åŠ›å›¾å›¾å±‚æ·»åŠ æ™•æš„ä½¿ç”¨è¡¨è¾¾å¼åˆ›å»ºæ¸å˜è‰²çº¿æ¡è®¾ç½®æµ·æ´‹æ·±åº¦æ•°æ®æ ·å¼æ˜¾ç¤ºå’Œéšè—å›¾å±‚æ”¹å˜è¡Œæ”¿è¾¹ç•Œä¸–ç•Œè§‚æ ¹æ®ç¼©æ”¾çº§åˆ«æ›´æ–°ç­‰å€¼çº¿å›¾å±‚å˜é‡æ ‡ç­¾ä½ç½®å¯è§†åŒ–äººå£å¯†åº¦ Sources (9)å°†æœ¬åœ°JSONæ•°æ®ä¸çŸ¢é‡åˆ‡ç‰‡å›¾å½¢è¿æ¥æ·»åŠ å½±åƒæ·»åŠ å®æ—¶æ•°æ®æ›´æ–°å®æ—¶è¦ç´ æ·»åŠ æ …æ ¼åˆ‡ç‰‡æ•°æ®æºæ·»åŠ ä¸€ä¸ªç¬¬ä¸‰æ–¹çŸ¢é‡åˆ‡ç‰‡æ¥æºæ·»åŠ ä¸€ä¸ªçŸ¢é‡å›¾ç‰‡æ•°æ®æºæ·»åŠ ä¸€ä¸ªè§†é¢‘æ·»åŠ ä¸€ä¸ª WMS æº User interaction (17)åŸºäºå‘¨è¾¹å£°éŸ³ç»™3Då»ºç­‘æ·»åŠ åŠ¨ç”»æ•ˆæœç¦ç”¨åœ°å›¾æ—‹è½¬åˆ›å»ºå¯æ‹–åŠ¨çš„ç‚¹åˆ›å»ºå¯æ‹–åŠ¨çš„æ ‡è®°ï¼ˆMarkerï¼‰é€šè¿‡æ–‡æœ¬è¾“å…¥ç­›é€‰ç¬¦å·åœ¨ map view ä¸­ç­›é€‰è¦ç´ é€šè¿‡åˆ‡æ¢åˆ—è¡¨ç­›é€‰ç¬¦å·åˆ›å»ºæ‚¬åœæ•ˆæœæ˜¾ç¤ºéäº¤äº’å¼åœ°å›¾æ›´æ”¹åœ°å›¾çš„è¯­è¨€é«˜äº®åŒ…å«ç›¸ä¼¼æ•°æ®çš„éƒ¨åˆ†ä»ç‚¹å‡»ç‚¹å‘¨å›´é€‰æ‹©ç‰¹å¾é™åˆ¶åœ°å›¾å¹³ç§»åœ¨æŸä¸€åŒºåŸŸè·å–é¼ æ ‡ä¸‹ç‚¹çš„ç‰¹å¾åˆ‡æ¢äº¤äº’åˆ›å»ºæ—¶é—´æ»‘åŠ¨æ¡é«˜äº®ä¸€ä¸ªé€‰æ‹©æ¡†èŒƒå›´å†…çš„ç‰¹å¾ Camera (11)ä½¿åœ°å›¾ç›¸æœºç¯ç»•ä¸€ç‚¹è¿åŠ¨ä¸ºè·¯çº¿ä¸­çš„ç‚¹æ·»åŠ åŠ¨ç”»æ•ˆæœå°†åœ°å›¾å±…ä¸­äºè¢«å•å‡»çš„ç¬¦å·ä¸Šç¼“æ…¢é£è‡³æŸä¸ªä½ç½®å°†åœ°å›¾ç¼©æ”¾è‡³è¾¹ç•Œæ¡†å†…é£è‡³æŸä¸€ä½ç½®ä½¿ç”¨æ¸¸æˆå¼æ§ä»¶æµè§ˆåœ°å›¾è·³è‡³ä¸€ç³»åˆ—åœ°ç‚¹ä»¥å¹»ç¯ç‰‡å½¢å¼æ’­æ”¾åœ°å›¾ä½ç½®ã€‚æ ¹æ®æ»šåŠ¨ä½ç½®é£åˆ°æŸå¤„è®¾ç½® pitch å’Œ bearing Controls and overlays (16)ä¸ºæ ‡è®°(marker)æ·»åŠ åŠ¨ç”»æ•ˆæœæ”¹å˜æ³¨é‡Šçš„é»˜è®¤ä½ç½®ä½¿ç”¨ Markers æ·»åŠ è‡ªå®šä¹‰å›¾æ ‡ç¦ç”¨æ»šè½®ç¼©æ”¾å…¨å±æŸ¥çœ‹åœ°å›¾å®šä½ç”¨æˆ·åœ¨ä¸åŒåœ°å›¾ä¹‹é—´æ»‘åŠ¨æ˜¾ç¤ºé©¾é©¶æ–¹å‘æ˜¾ç¤ºå·²ç»˜åˆ¶çš„å¤šè¾¹å½¢åŒºåŸŸæ·»åŠ åœ°ç†ç¼–ç å™¨åˆ©ç”¨åœ°ç‚¹åç§°æ·»åŠ æ ‡è®°ç‚¹å‡»æ—¶æ˜¾ç¤ºå¤šè¾¹å½¢ä¿¡æ¯æ‚¬æµ®æ—¶æ˜¾ç¤ºå¼¹å‡ºçª—ç‚¹å‡»æ—¶æ˜¾ç¤ºä¸€ä¸ªå¼¹å‡ºçª—æ˜¾ç¤ºä¸€ä¸ªå¼¹å‡ºçª—å°†å¼¹å‡ºçª—å£é™„åŠ åˆ° marker å®ä¾‹ Geocoder (8)ä»å…¶ä»–æ•°æ®æºä¸­è¡¥å……è¿›ä¸€æ­¥çš„åœ°ç†ç¼–ç æŸ¥è¯¢ç»“æœæ¥æ”¶è¾“å…¥åæ ‡è‡³åœ°ç†ç¼–ç å™¨ä½¿ç”¨åœ°ç†ç¼–ç å™¨æ—¶é‡‡ç”¨è‡ªå®šä¹‰æ¸²æŸ“åŠŸèƒ½å°†åœ°ç†ç¼–ç çš„ç»“æœé™åˆ¶åœ¨æŒ‡å®šåœ°åŒºèŒƒå›´å†…åœ¨ä½¿ç”¨åœ°ç†ç¼–ç å™¨çš„è¿‡ç¨‹ä¸­ç»“åˆä½¿ç”¨è‡ªå®šä¹‰ç›¸æœºåŠ¨ç”»åœ¨åœ°å›¾ä¸Šæ·»åŠ ä½ç½®æœç´¢æ¡†å°†åœ°ç†ç¼–ç å™¨è¿›è¡ŒæŒ‡å®šè¯­è¨€çš„æœ¬åœ°åŒ–åœ¨Geocoderäº§ç”Ÿç»“æœåè®¾ç½®ä¸€ä¸ªç‚¹ Browser support (1)æ£€æŸ¥æµè§ˆå™¨æ”¯æŒ Internationalization support (2)ä½¿ç”¨æœ¬åœ°ç”Ÿæˆçš„è¡¨æ„æ–‡å­—ä¸ºä»å³è‡³å·¦ä¹¦å†™çš„è„šæœ¬æä¾›æ”¯æŒ SUPERMAPä¸€ä¸ªmapboxåä¸½å¤–è¡£ä¸è£…å¤‡ Leafletan open-source JavaScript library for mobile-friendly interactive mapsCygwinwindowsä½¿ç”¨linuxç¯å¢ƒï¼ˆéƒ¨åˆ†æœºå‹å¤±è´¥ï¼‰ Tippecanoe Tippecanoeæ˜¯Mapboxçš„ä¸€ä¸ªå¼€æºåˆ‡ç‰‡å·¥å…·ï¼Œé¡¹ç›®åœ°å€ï¼šhttps://github.com/mapbox/tippecanoeï¼ŒMapboxå¸¸è§„çš„åˆ‡ç‰‡æ–¹æ³•tilelive-copyå‚è§å¦ä¸€ç¯‡åšå®¢ã€‚Tippecanoeä¸»è¦åœ¨å¤„ç†å¤§æ•°æ®é‡æ—¶æœ‰å¾ˆå¤§çš„ä¼˜åŠ¿ï¼Œå…·æœ‰å¾ˆé«˜çš„æ•ˆç‡ï¼Œå¹¶ä¸”æœ‰å¾ˆå¤šå‚æ•°å¯ä»¥æ§åˆ¶ã€‚Tippecanoeåªèƒ½å¤„ç†GeoJSONï¼Œå› æ­¤åœ¨åˆ‡ç‰‡å‰éœ€è¦å°†çŸ¢é‡æ•°æ®è½¬æ¢ä¸ºGeoJSONï¼Œæ¨èä½¿ç”¨ogr2ogrå·¥å…·è½¬æ¢ã€‚åˆ‡ç‰‡ä»¥åçš„æ ¼å¼ä¸ºmbtilesï¼Œå¯è‡ªè¡Œå¯¼å…¥mongodbç­‰æ•°æ®åº“ã€‚ ç›®çš„ï¼šæ ¹æ®ä½ çš„æ•°æ®åˆ›é€ ä¸€ä¸ªå¯è‡ªç”±ç¼©æ”¾çš„è§†å›¾ å¼•ç”¨åœ°å€ï¼šhttps://my.oschina.net/u/1464512/blog/1631972 å¸¸ç”¨tippecanoeå‚æ•°è®¾ç½®GEOJSONGeoSever GeoServeræ˜¯OGC WebæœåŠ¡å™¨è§„èŒƒçš„J2EEå®ç°ï¼Œåˆ©ç”¨GeoServerå¯ä»¥æ–¹ä¾¿åœ°å‘å¸ƒåœ°å›¾æ•°æ®ï¼Œå…è®¸ç”¨æˆ·å¯¹ç‰¹å¾æ•°æ®è¿›è¡Œæ›´æ–°ã€åˆ é™¤ã€æ’å…¥æ“ä½œï¼Œé€šè¿‡GeoServerå¯ä»¥æ¯”è¾ƒå®¹æ˜“åœ°åœ¨ç”¨æˆ·ä¹‹é—´è¿…é€Ÿå…±äº«ç©ºé—´åœ°ç†ä¿¡æ¯ã€‚GeoServeræ˜¯å¼€æºè½¯ä»¶ã€‚ GeoServerä¸»è¦åŒ…å«å¦‚ä¸‹ä¸€äº›ç‰¹ç‚¹ï¼š å…¼å®¹WMSå’ŒWFSç‰¹æ€§ æ”¯æŒPostGISã€Shapefileã€ArcSDEã€Oracleã€VPFã€MySQLã€MapInfo æ”¯æŒä¸Šç™¾ç§æŠ•å½± èƒ½å¤Ÿå°†ç½‘ç»œåœ°å›¾è¾“å‡ºä¸ºJPEGã€GIFã€PNGã€SVGã€KMLç­‰æ ¼å¼ èƒ½å¤Ÿè¿è¡Œåœ¨ä»»ä½•åŸºäºJ2EE/Servletå®¹å™¨ä¹‹ä¸Š åµŒå…¥MapBuilderæ”¯æŒAJAXçš„åœ°å›¾å®¢æˆ·ç«¯OpenLayers å¼•ç”¨åœ°å€ WMS &amp;&amp; WFSWMSæ˜¯ç”±æœåŠ¡å™¨å°†ä¸€åœ°å›¾å›¾åƒå‘é€ç»™å®¢æˆ·ç«¯ï¼Œè€ŒWFSæ˜¯æœåŠ¡å™¨å°†çŸ¢é‡æ•°æ®å‘é€ç»™å®¢æˆ·ç«¯ï¼Œä¹Ÿå°±æ˜¯åœ¨ä½¿ç”¨WMSæ—¶åœ°å›¾ç”±æœåŠ¡å™¨ç»˜åˆ¶ï¼Œåœ¨ä½¿ç”¨WFSæ—¶åœ°å›¾ç”±å®¢æˆ·ç«¯ç»˜åˆ¶ã€‚ WFTS","link":"/2021/02/22/Draft/2021/GIS/"},{"title":"é­‘é­…å…ˆç”Ÿ | ä¸šåŠ¡æŠ€æœ¯","text":"æ‰€æœ‰çš„æŠ€æœ¯éƒ½æ˜¯ä¸ºäº†æ›´å¥½çš„è§£å†³ä¸šåŠ¡ JAVAåº”ç”¨ï¼ˆèœé¸Ÿä¸€ç«™ï¼‰ï¼Œæ ç›®ä¸‹æœ‰ï¼šæ–‡ä»¶ä¸Šä¼ ä¸‹è½½è§£æåˆ°æ•°æ®åº“CURDï¼ˆæ‰€æœ‰æ¡†æ¶ï¼‰ç½‘ç»œé€šä¿¡å•å…ƒæµ‹è¯•å®é™…ä¸šåŠ¡åŠ å¯†è§£å¯†ç¼“å­˜hutoolï¼ˆJAVAå·¥å…·ç±»åŒ…ï¼‰æ‰«ç ç™»å½•å›¾ç‰‡å¤„ç†jeekinsä¸éƒ¨ç½²å®æ–½åŠ¨æ€è¡¨å•è®¾è®¡ä¸å®ç°éªŒè¯ç å¤–éƒ¨æ¥å£åº”ç”¨å·¥ä½œæµä»£ç ç”Ÿæˆæ•°æ®åº“è®¾è®¡æ–‡ä»¶æ ¼å¼è½¬æ¢ï¼ˆwordâ€”ã€‹pdfï¼‰æ•°æ®æ ¼å¼è½¬æ¢å·¥å…·ç±»åˆé›†åˆ†é¡µè·¨åŸŸå•ç‚¹ç™»å½•å¤–å‘æ¥å£è§„èŒƒtokenéªŒè¯æ”¯ä»˜çŸ­ä¿¡åå°åˆ›å»ºæ•°æ®ã€åˆ›å»ºæ—¶é—´ï¼Œidï¼Œåˆå§‹æ•°æ®ã€‘ç›®å½•å¯å‚è€ƒkuangstudyæ•°æ®æ ¼å¼æƒé™ç®¡ç†JDKé«˜ç‰ˆæœ¬ è¿›è¡Œä¸­å•å…ƒæµ‹è¯• æ•°æ®åº“è®¾è®¡ http===https å®šæ—¶ä»»åŠ¡ å·²å®ŒæˆCRUD æ‰€æœ‰çŸ¥è¯†ä»CRUDå¼€å§‹ SSMSpringBootSpringCloudæ–‡ä»¶ä¸Šä¼ ä¸‹è½½ç›¸å…³å¯¹è±¡ï¼š12MultipartFile æ–‡ä»¶è·¯å¾„ï¼š1HttpServletRequest req Servletè·å–å½“å‰é¡¹ç›®çš„ä¸Šä¸‹æ–‡è·¯å¾„ï¼ˆwebæ–‡ä»¶ä¸‹çš„è·¯å¾„ï¼‰ï¼š 1req.getContextPath() Servletè·å–å½“å‰é¡¹ç›®çš„ä¸Šä¸‹æ–‡çš„ç»å¯¹è·¯å¾„ï¼ˆwebæ–‡ä»¶ä¸‹çš„è·¯å¾„ï¼‰ï¼š 1req.getServletContext().getRealPath(); è·å–Javaç¨‹åºä¸­çš„resourcesæ–‡ä»¶è·¯å¾„ï¼š 1Resources.getResourceAsStream() å‰åç«¯äº¤äº’ï¼šè·¨åŸŸè§£å†³æ ¹æœ¬åŸç†ä»€ä¹ˆæƒ…å†µä¼šè·¨åŸŸ åŒä¸€åè®®ï¼Œ å¦‚httpæˆ–https åŒä¸€IPåœ°å€, å¦‚127.0.0.1 åŒä¸€ç«¯å£, å¦‚8080 ä»¥ä¸Šä¸‰ä¸ªæ¡ä»¶ä¸­æœ‰ä¸€ä¸ªæ¡ä»¶ä¸åŒå°±ä¼šäº§ç”Ÿè·¨åŸŸé—®é¢˜ã€‚ è§£å†³æ–¹æ¡ˆå‰ç«¯è§£å†³æ–¹æ¡ˆ ä½¿ç”¨JSONPæ–¹å¼å®ç°è·¨åŸŸè°ƒç”¨ï¼› ä½¿ç”¨NodeJSæœåŠ¡å™¨åšä¸ºæœåŠ¡ä»£ç†ï¼Œå‰ç«¯å‘èµ·è¯·æ±‚åˆ°NodeJSæœåŠ¡å™¨ï¼Œ NodeJSæœåŠ¡å™¨ä»£ç†è½¬å‘è¯·æ±‚åˆ°åç«¯æœåŠ¡å™¨ï¼› åç«¯è§£å†³æ–¹æ¡ˆ nginxåå‘ä»£ç†è§£å†³è·¨åŸŸ æœåŠ¡ç«¯è®¾ç½®Response Header(å“åº”å¤´éƒ¨)çš„Access-Control-Allow-Origin åœ¨éœ€è¦è·¨åŸŸè®¿é—®çš„ç±»å’Œæ–¹æ³•ä¸­è®¾ç½®å…è®¸è·¨åŸŸè®¿é—®ï¼ˆå¦‚Springä¸­ä½¿ç”¨@CrossOriginæ³¨è§£ï¼‰ï¼› ç»§æ‰¿ä½¿ç”¨Spring Webçš„CorsFilterï¼ˆé€‚ç”¨äºSpring MVCã€Spring Bootï¼‰ å®ç°WebMvcConfigureræ¥å£ï¼ˆé€‚ç”¨äºSpring Bootï¼‰ WebServiceç®€ä»‹è·¨ç¼–ç¨‹è¯­è¨€å’Œè·¨æ“ä½œç³»ç»Ÿå¹³å°çš„è¿œç¨‹è°ƒç”¨æŠ€æœ¯ åŸç†XML,SOAPå’ŒWSDLå°±æ˜¯æ„æˆWebServiceå¹³å°çš„ä¸‰å¤§æŠ€æœ¯ ã€‚ WebServiceé‡‡ç”¨Httpåè®®æ¥åœ¨å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯ä¹‹é—´ä¼ è¾“æ•°æ®ã€‚WebServiceä½¿ç”¨XMLæ¥å°è£…æ•°æ®ï¼ŒXMLä¸»è¦çš„ä¼˜ç‚¹åœ¨äºå®ƒæ˜¯è·¨å¹³å°çš„ã€‚ WebServiceé€šè¿‡HTTPåè®®å‘é€è¯·æ±‚å’Œæ¥æ”¶ç»“æœæ—¶ï¼Œå‘é€çš„è¯·æ±‚å†…å®¹å’Œç»“æœå†…å®¹éƒ½é‡‡ç”¨XMLæ ¼å¼å°è£…ï¼Œå¹¶å¢åŠ äº†ä¸€äº›ç‰¹å®šçš„HTTPæ¶ˆæ¯å¤´ï¼Œä»¥è¯´æ˜HTTPæ¶ˆæ¯çš„å†…å®¹æ ¼å¼ï¼Œè¿™äº›ç‰¹å®šçš„HTTPæ¶ˆæ¯å¤´å’ŒXMLå†…å®¹æ ¼å¼å°±æ˜¯SOAPåè®®è§„å®šçš„ã€‚ WebServiceæœåŠ¡å™¨ç«¯é¦–å…ˆè¦é€šè¿‡ä¸€ä¸ªWSDLæ–‡ä»¶æ¥è¯´æ˜è‡ªå·±æœ‰ä»€ä¹ˆæœåŠ¡å¯ä»¥å¯¹å¤–è°ƒç”¨ã€‚ç®€å•çš„è¯´ï¼ŒWSDLå°±åƒæ˜¯ä¸€ä¸ªè¯´æ˜ä¹¦ï¼Œç”¨äºæè¿°WebServiceåŠå…¶æ–¹æ³•ã€å‚æ•°å’Œè¿”å›å€¼ã€‚ WSDLæ–‡ä»¶ä¿å­˜åœ¨WebæœåŠ¡å™¨ä¸Šï¼Œé€šè¿‡ä¸€ä¸ªurlåœ°å€å°±å¯ä»¥è®¿é—®åˆ°å®ƒã€‚å®¢æˆ·ç«¯è¦è°ƒç”¨ä¸€ä¸ªWebServiceæœåŠ¡ä¹‹å‰ï¼Œè¦çŸ¥é“è¯¥æœåŠ¡çš„WSDLæ–‡ä»¶çš„åœ°å€ã€‚WebServiceæœåŠ¡æä¾›å•†å¯ä»¥é€šè¿‡ä¸¤ç§æ–¹å¼æ¥æš´éœ²å®ƒçš„WSDLæ–‡ä»¶åœ°å€ï¼š1.æ³¨å†Œåˆ°UDDIæœåŠ¡å™¨ï¼Œä»¥ä¾¿è¢«äººæŸ¥æ‰¾ï¼›2.ç›´æ¥å‘Šè¯‰ç»™å®¢æˆ·ç«¯è°ƒç”¨è€…ã€‚ RESTfulç®€ä»‹æ•°æ®æ ¼å¼JSONæ•°æ®ç¤ºä¾‹1234567{ &quot;sites&quot;: [ { &quot;name&quot;:&quot;a&quot; , &quot;url&quot;:&quot;www.runoob.com&quot; }, { &quot;name&quot;:&quot;b&quot; , &quot;url&quot;:&quot;www.google.com&quot; }, { &quot;name&quot;:&quot;c&quot; , &quot;url&quot;:&quot;www.weibo.com&quot; } ]} ä¸åŒæ•°æ®ç›¸äº’è½¬æ¢æ–¹å¼å­—ç¬¦ä¸²ï¼ŒMapï¼Œå¯¹è±¡ï¼ŒJSONObjectï¼ˆæ— åºï¼‰ï¼ŒJSONArrayï¼ˆæœ‰åºï¼‰ï¼ŒJavaæ•°ç»„ å­—ç¬¦ä¸²2Json 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849```### åˆ¤æ–­æ˜¯å¦åŒ…å«.has### CRUD### å–å€¼```javastatic Map analysisJsonResultMap = new HashMap(); public static Map analysisJson(Object objJson) { //å¦‚æœobjä¸ºjsonæ•°ç»„ if (objJson instanceof JSONArray) { JSONArray objArray = (JSONArray) objJson; for (int i = 0; i &lt; objArray.size(); i++) { analysisJson(objArray.get(i)); } } //å¦‚æœä¸ºjsonå¯¹è±¡ else if (objJson instanceof JSONObject) { JSONObject jsonObject = (JSONObject) objJson; Iterator it = jsonObject.keySet().iterator(); while (it.hasNext()) { String key = it.next().toString(); Object object = jsonObject.get(key); //å¦‚æœå¾—åˆ°çš„æ˜¯æ•°ç»„ if (object instanceof JSONArray) { JSONArray objArray = (JSONArray) object; analysisJson(objArray); } //å¦‚æœkeyä¸­æ˜¯ä¸€ä¸ªjsonå¯¹è±¡ else if (object instanceof JSONObject) { analysisJson((JSONObject) object); } //å¦‚æœkeyä¸­æ˜¯å…¶ä»– else { System.out.println(&quot;[&quot; + key + &quot;]:&quot; + object.toString() + &quot; &quot;); analysisJsonResultMap.put(key, object.toString()); } } } return analysisJsonResultMap; } å•å…ƒæµ‹è¯•åŸºç¡€çŸ¥è¯†Springbootå¼•å…¥spring-boot-starter-testJUnit â€” The de-facto standard for unit testing Java applications.Spring Test &amp; Spring Boot Test â€” Utilities and integration test support for Spring Boot applications.AssertJ â€” A fluent assertion library.Hamcrest â€” A library of matcher objects (also known as constraints or predicates).Mockito â€” A Java mocking framework.JSONassert â€” An assertion library for JSON.JsonPath â€” XPath for JSON. assertThatåŸºç¡€è¯­æ³•assertThat( [value], [matcher statement] ); value æ˜¯æ¥ä¸‹æ¥æƒ³è¦æµ‹è¯•çš„å˜é‡å€¼ï¼› matcher statement æ˜¯ä½¿ç”¨ Hamcrest åŒ¹é…ç¬¦æ¥è¡¨è¾¾çš„å¯¹å‰é¢å˜é‡æ‰€æœŸæœ›çš„å€¼çš„å£°æ˜ï¼Œå¦‚æœ value å€¼ä¸ matcher statement æ‰€è¡¨è¾¾çš„æœŸæœ›å€¼ç›¸ç¬¦ï¼Œåˆ™æµ‹è¯•æˆåŠŸï¼Œå¦åˆ™æµ‹è¯•å¤±è´¥ã€‚ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859å­—ç¬¦ç›¸å…³åŒ¹é…ç¬¦/**equalToåŒ¹é…ç¬¦æ–­è¨€è¢«æµ‹çš„testedValueç­‰äºexpectedValueï¼Œ* equalToå¯ä»¥æ–­è¨€æ•°å€¼ä¹‹é—´ï¼Œå­—ç¬¦ä¸²ä¹‹é—´å’Œå¯¹è±¡ä¹‹é—´æ˜¯å¦ç›¸ç­‰ï¼Œç›¸å½“äºObjectçš„equalsæ–¹æ³•*/assertThat(testedValue, equalTo(expectedValue));/**equalToIgnoringCaseåŒ¹é…ç¬¦æ–­è¨€è¢«æµ‹çš„å­—ç¬¦ä¸²testedString*åœ¨å¿½ç•¥å¤§å°å†™çš„æƒ…å†µä¸‹ç­‰äºexpectedString*/assertThat(testedString, equalToIgnoringCase(expectedString));/**equalToIgnoringWhiteSpaceåŒ¹é…ç¬¦æ–­è¨€è¢«æµ‹çš„å­—ç¬¦ä¸²testedString*åœ¨å¿½ç•¥å¤´å°¾çš„ä»»æ„ä¸ªç©ºæ ¼çš„æƒ…å†µä¸‹ç­‰äºexpectedStringï¼Œ*æ³¨æ„ï¼šå­—ç¬¦ä¸²ä¸­çš„ç©ºæ ¼ä¸èƒ½è¢«å¿½ç•¥*/assertThat(testedString, equalToIgnoringWhiteSpace(expectedString);/**containsStringåŒ¹é…ç¬¦æ–­è¨€è¢«æµ‹çš„å­—ç¬¦ä¸²testedStringåŒ…å«å­å­—ç¬¦ä¸²subString**/assertThat(testedString, containsString(subString) );/**endsWithåŒ¹é…ç¬¦æ–­è¨€è¢«æµ‹çš„å­—ç¬¦ä¸²testedStringä»¥å­å­—ç¬¦ä¸²suffixç»“å°¾*/assertThat(testedString, endsWith(suffix));/**startsWithåŒ¹é…ç¬¦æ–­è¨€è¢«æµ‹çš„å­—ç¬¦ä¸²testedStringä»¥å­å­—ç¬¦ä¸²prefixå¼€å§‹*/assertThat(testedString, startsWith(prefix));ä¸€èˆ¬åŒ¹é…ç¬¦/**nullValue()åŒ¹é…ç¬¦æ–­è¨€è¢«æµ‹objectçš„å€¼ä¸ºnull*/assertThat(object,nullValue());/**notNullValue()åŒ¹é…ç¬¦æ–­è¨€è¢«æµ‹objectçš„å€¼ä¸ä¸ºnull*/assertThat(object,notNullValue());/**isåŒ¹é…ç¬¦æ–­è¨€è¢«æµ‹çš„objectç­‰äºåé¢ç»™å‡ºåŒ¹é…è¡¨è¾¾å¼*/assertThat(testedString, is(equalTo(expectedValue)));/**isåŒ¹é…ç¬¦ç®€å†™åº”ç”¨ä¹‹ä¸€ï¼Œis(equalTo(x))çš„ç®€å†™ï¼Œæ–­è¨€testedValueç­‰äºexpectedValue*/assertThat(testedValue, is(expectedValue));/**isåŒ¹é…ç¬¦ç®€å†™åº”ç”¨ä¹‹äºŒï¼Œis(instanceOf(SomeClass.class))çš„ç®€å†™ï¼Œ*æ–­è¨€testedObjectä¸ºCheddarçš„å®ä¾‹*/assertThat(testedObject, is(Cheddar.class));/**notåŒ¹é…ç¬¦å’ŒisåŒ¹é…ç¬¦æ­£å¥½ç›¸åï¼Œæ–­è¨€è¢«æµ‹çš„objectä¸ç­‰äºåé¢ç»™å‡ºçš„object*/assertThat(testedString, not(expectedString));/**allOfåŒ¹é…ç¬¦æ–­è¨€ç¬¦åˆæ‰€æœ‰æ¡ä»¶ï¼Œç›¸å½“äºâ€œä¸â€ï¼ˆ&amp;&amp;ï¼‰*/assertThat(testedNumber, allOf( greaterThan(8), lessThan(16) ) );/**anyOfåŒ¹é…ç¬¦æ–­è¨€ç¬¦åˆæ¡ä»¶ä¹‹ä¸€ï¼Œç›¸å½“äºâ€œæˆ–â€ï¼ˆ||ï¼‰*/assertThat(testedNumber, anyOf( greaterThan(16), lessThan(8) ) );æ•°å€¼ç›¸å…³åŒ¹é…ç¬¦/**closeToåŒ¹é…ç¬¦æ–­è¨€è¢«æµ‹çš„æµ®ç‚¹å‹æ•°testedDoubleåœ¨20.0Â¡Ã€0.5èŒƒå›´ä¹‹å†…*/assertThat(testedDouble, closeTo( 20.0, 0.5 ));/**greaterThanåŒ¹é…ç¬¦æ–­è¨€è¢«æµ‹çš„æ•°å€¼testedNumberå¤§äº16.0*/assertThat(testedNumber, greaterThan(16.0));/** lessThanåŒ¹é…ç¬¦æ–­è¨€è¢«æµ‹çš„æ•°å€¼testedNumberå°äº16.0*/assertThat(testedNumber, lessThan (16.0));/** greaterThanOrEqualToåŒ¹é…ç¬¦æ–­è¨€è¢«æµ‹çš„æ•°å€¼testedNumberå¤§äºç­‰äº16.0*/assertThat(testedNumber, greaterThanOrEqualTo (16.0));/** lessThanOrEqualToåŒ¹é…ç¬¦æ–­è¨€è¢«æµ‹çš„testedNumberå°äºç­‰äº16.0*/assertThat(testedNumber, lessThanOrEqualTo (16.0));é›†åˆç›¸å…³åŒ¹é…ç¬¦/**hasEntryåŒ¹é…ç¬¦æ–­è¨€è¢«æµ‹çš„Mapå¯¹è±¡mapObjectå«æœ‰ä¸€ä¸ªé”®å€¼ä¸º&quot;key&quot;å¯¹åº”å…ƒç´ å€¼ä¸º&quot;value&quot;çš„Entryé¡¹*/assertThat(mapObject, hasEntry(&quot;key&quot;, &quot;value&quot; ) );/**hasItemåŒ¹é…ç¬¦è¡¨æ˜è¢«æµ‹çš„è¿­ä»£å¯¹è±¡iterableObjectå«æœ‰å…ƒç´ elementé¡¹åˆ™æµ‹è¯•é€šè¿‡*/assertThat(iterableObject, hasItem (element));/** hasKeyåŒ¹é…ç¬¦æ–­è¨€è¢«æµ‹çš„Mapå¯¹è±¡mapObjectå«æœ‰é”®å€¼â€œkeyâ€*/assertThat(mapObject, hasKey (&quot;key&quot;));/** hasValueåŒ¹é…ç¬¦æ–­è¨€è¢«æµ‹çš„Mapå¯¹è±¡mapObjectå«æœ‰å…ƒç´ å€¼value*/assertThat(mapObject, hasValue(value)); å¯è¡¨è¾¾å…¨éƒ¨çš„æµ‹è¯•æ€æƒ³ã€‚ Springboot å¯è‡ªåŠ¨ç”Ÿæˆæµ‹è¯•ä»£ç  IDEA Ctrl + Shift +T ç”Ÿæˆæµ‹è¯•ç±» Service123456789101112131415161718192021import org.junit.Assert;import org.junit.Test;import org.junit.runner.RunWith;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.boot.test.context.SpringBootTest;import org.springframework.test.context.junit4.SpringRunner;import static org.hamcrest.CoreMatchers.*;@RunWith(SpringRunner.class)@SpringBootTestpublic class LearnServiceTest { @Autowired private LearnService learnService; @Test public void getLearn(){ LearnResource learnResource=learnService.selectByKey(1001L); Assert.assertThat(learnResource.getAuthor(),is(&quot;å˜Ÿå˜ŸMDç‹¬ç«‹åšå®¢&quot;)); }} ControllerMockMvcï¼šå¯ä»¥ä¸å¯åŠ¨å·¥ç¨‹æµ‹è¯•æ¥å£ï¼ŒMockMvc å®ç°äº†å¯¹ Http è¯·æ±‚çš„æ¨¡æ‹Ÿï¼Œèƒ½å¤Ÿç›´æ¥ä½¿ç”¨ç½‘ç»œçš„å½¢å¼ï¼Œè½¬æ¢åˆ° Controller çš„è°ƒç”¨ï¼Œè¿™æ ·å¯ä»¥ä½¿å¾—æµ‹è¯•é€Ÿåº¦å¿«ã€ä¸ä¾èµ–ç½‘ç»œç¯å¢ƒï¼Œè€Œä¸”æä¾›äº†ä¸€å¥—éªŒè¯çš„å·¥å…·ï¼Œè¿™æ ·å¯ä»¥ä½¿å¾—è¯·æ±‚çš„éªŒè¯ç»Ÿä¸€è€Œä¸”å¾ˆæ–¹ä¾¿ã€‚ mockMvc.performæ‰§è¡Œä¸€ä¸ªè¯·æ±‚ MockMvcRequestBuilders.get(â€œ/user/1â€)æ„é€ ä¸€ä¸ªè¯·æ±‚ï¼ŒPostè¯·æ±‚å°±ç”¨.postæ–¹æ³• contentType(MediaType.APPLICATION_JSON_UTF8)ä»£è¡¨å‘é€ç«¯å‘é€çš„æ•°æ®æ ¼å¼æ˜¯application/json;charset=UTF-8 accept(MediaType.APPLICATION_JSON_UTF8)ä»£è¡¨å®¢æˆ·ç«¯å¸Œæœ›æ¥å—çš„æ•°æ®ç±»å‹ä¸ºapplication/json;charset=UTF-8 session(session)æ³¨å…¥ä¸€ä¸ªsessionï¼Œè¿™æ ·æ‹¦æˆªå™¨æ‰å¯ä»¥é€šè¿‡ ResultActions.andExpectæ·»åŠ æ‰§è¡Œå®Œæˆåçš„æ–­è¨€ ResultActions.andExpect(MockMvcResultMatchers.status().isOk())æ–¹æ³•çœ‹è¯·æ±‚çš„çŠ¶æ€å“åº”ç æ˜¯å¦ä¸º200å¦‚æœä¸æ˜¯åˆ™æŠ›å¼‚å¸¸ï¼Œæµ‹è¯•ä¸é€šè¿‡ andExpect(MockMvcResultMatchers.jsonPath(â€œ$.authorâ€).value(â€œå˜Ÿå˜ŸMDç‹¬ç«‹åšå®¢â€))è¿™é‡ŒjsonPathç”¨æ¥è·å–authorå­—æ®µæ¯”å¯¹æ˜¯å¦ä¸ºå˜Ÿå˜ŸMDç‹¬ç«‹åšå®¢,ä¸æ˜¯å°±æµ‹è¯•ä¸é€šè¿‡ ResultActions.andDoæ·»åŠ ä¸€ä¸ªç»“æœå¤„ç†å™¨ï¼Œè¡¨ç¤ºè¦å¯¹ç»“æœåšç‚¹ä»€ä¹ˆäº‹æƒ…ï¼Œæ¯”å¦‚æ­¤å¤„ä½¿ç”¨MockMvcResultHandlers.print()è¾“å‡ºæ•´ä¸ªå“åº”ç»“æœä¿¡æ¯ å•å…ƒæµ‹è¯•å›æ»šæµ‹è¯•çš„åƒåœ¾æ•°æ®æ¸…ç†ï¼Œæ·»åŠ æ³¨è§£ @Transactional é»˜è®¤å¼•æ“æ˜¯InnoDBæœ‰æ•ˆï¼ŒMyISAMï¼ˆMySQL5.5ä¹‹å‰é»˜è®¤å¼•æ“ï¼‰ä¸æ”¯æŒäº‹åŠ¡ã€ä¹Ÿä¸æ”¯æŒå¤–é”® æƒ³å…³é—­å›æ»šï¼Œåªè¦åŠ ä¸Š@Rollback(false)æ³¨è§£å³å¯ã€‚@Rollbackè¡¨ç¤ºäº‹åŠ¡æ‰§è¡Œå®Œå›æ»šï¼Œæ”¯æŒä¼ å…¥ä¸€ä¸ªå‚æ•°valueï¼Œé»˜è®¤trueå³å›æ»šï¼Œfalseä¸å›æ»šã€‚ ä¿®æ”¹é»˜è®¤å¼•æ“çš„æ­¥éª¤ MyISAMé€‚åˆï¼š(1)åšå¾ˆå¤šcount çš„è®¡ç®—ï¼›(2)æ’å…¥ä¸é¢‘ç¹ï¼ŒæŸ¥è¯¢éå¸¸é¢‘ç¹ï¼›(3)æ²¡æœ‰äº‹åŠ¡ã€‚ InnoDBé€‚åˆï¼š(1)å¯é æ€§è¦æ±‚æ¯”è¾ƒé«˜ï¼Œæˆ–è€…è¦æ±‚äº‹åŠ¡ï¼›(2)è¡¨æ›´æ–°å’ŒæŸ¥è¯¢éƒ½ç›¸å½“çš„é¢‘ç¹ï¼Œå¹¶ä¸”è¡¨é”å®šçš„æœºä¼šæ¯”è¾ƒå¤§çš„æƒ…å†µã€‚(4)æ€§èƒ½è¾ƒå¥½çš„æœåŠ¡å™¨ï¼Œæ¯”å¦‚å•ç‹¬çš„æ•°æ®åº“æœåŠ¡å™¨ï¼Œåƒé˜¿é‡Œäº‘çš„å…³ç³»å‹æ•°æ®åº“RDSå°±æ¨èä½¿ç”¨InnoDBå¼•æ“ã€‚ show variables like â€˜%storage_engine%â€™; show create table user; ALTER TABLE user ENGINE=INNODB; Swagger UIæ¥å£æ–‡æ¡£ï¼Œæ¥å£æµ‹è¯• 123456789101112131415161718192021222324252627282930313233343536@Apiï¼šç”¨åœ¨è¯·æ±‚çš„ç±»ä¸Šï¼Œè¡¨ç¤ºå¯¹ç±»çš„è¯´æ˜ tags=&quot;è¯´æ˜è¯¥ç±»çš„ä½œç”¨ï¼Œå¯ä»¥åœ¨UIç•Œé¢ä¸Šçœ‹åˆ°çš„æ³¨è§£&quot; value=&quot;è¯¥å‚æ•°æ²¡ä»€ä¹ˆæ„ä¹‰ï¼Œåœ¨UIç•Œé¢ä¸Šä¹Ÿçœ‹åˆ°ï¼Œæ‰€ä»¥ä¸éœ€è¦é…ç½®&quot; @ApiOperationï¼šç”¨åœ¨è¯·æ±‚çš„æ–¹æ³•ä¸Šï¼Œè¯´æ˜æ–¹æ³•çš„ç”¨é€”ã€ä½œç”¨ value=&quot;è¯´æ˜æ–¹æ³•çš„ç”¨é€”ã€ä½œç”¨&quot; notes=&quot;æ–¹æ³•çš„å¤‡æ³¨è¯´æ˜&quot; @ApiImplicitParamsï¼šç”¨åœ¨è¯·æ±‚çš„æ–¹æ³•ä¸Šï¼Œè¡¨ç¤ºä¸€ç»„å‚æ•°è¯´æ˜ @ApiImplicitParamï¼šç”¨åœ¨@ApiImplicitParamsæ³¨è§£ä¸­ï¼ŒæŒ‡å®šä¸€ä¸ªè¯·æ±‚å‚æ•°çš„å„ä¸ªæ–¹é¢ nameï¼šå‚æ•°å valueï¼šå‚æ•°çš„æ±‰å­—è¯´æ˜ã€è§£é‡Š requiredï¼šå‚æ•°æ˜¯å¦å¿…é¡»ä¼  paramTypeï¼šå‚æ•°æ”¾åœ¨å“ªä¸ªåœ°æ–¹ Â· header --&gt; è¯·æ±‚å‚æ•°çš„è·å–ï¼š@RequestHeader Â· query --&gt; è¯·æ±‚å‚æ•°çš„è·å–ï¼š@RequestParam Â· pathï¼ˆç”¨äºrestfulæ¥å£ï¼‰--&gt; è¯·æ±‚å‚æ•°çš„è·å–ï¼š@PathVariable Â· bodyï¼ˆä¸å¸¸ç”¨ï¼‰ Â· formï¼ˆä¸å¸¸ç”¨ï¼‰ dataTypeï¼šå‚æ•°ç±»å‹ï¼Œé»˜è®¤Stringï¼Œå…¶å®ƒå€¼dataType=&quot;Integer&quot; defaultValueï¼šå‚æ•°çš„é»˜è®¤å€¼ @ApiResponsesï¼šç”¨åœ¨è¯·æ±‚çš„æ–¹æ³•ä¸Šï¼Œè¡¨ç¤ºä¸€ç»„å“åº” @ApiResponseï¼šç”¨åœ¨@ApiResponsesä¸­ï¼Œä¸€èˆ¬ç”¨äºè¡¨è¾¾ä¸€ä¸ªé”™è¯¯çš„å“åº”ä¿¡æ¯ codeï¼šæ•°å­—ï¼Œä¾‹å¦‚400 messageï¼šä¿¡æ¯ï¼Œä¾‹å¦‚&quot;è¯·æ±‚å‚æ•°æ²¡å¡«å¥½&quot; responseï¼šæŠ›å‡ºå¼‚å¸¸çš„ç±» @ApiModelï¼šç”¨äºå“åº”ç±»ä¸Šï¼Œè¡¨ç¤ºä¸€ä¸ªè¿”å›å“åº”æ•°æ®çš„ä¿¡æ¯ ï¼ˆè¿™ç§ä¸€èˆ¬ç”¨åœ¨poståˆ›å»ºçš„æ—¶å€™ï¼Œä½¿ç”¨@RequestBodyè¿™æ ·çš„åœºæ™¯ï¼Œ è¯·æ±‚å‚æ•°æ— æ³•ä½¿ç”¨@ApiImplicitParamæ³¨è§£è¿›è¡Œæè¿°çš„æ—¶å€™ï¼‰ @ApiModelPropertyï¼šç”¨åœ¨å±æ€§ä¸Šï¼Œæè¿°å“åº”ç±»çš„å±æ€§ http==ã€‹httpsä¸¤è€…åŒºåˆ«ï¼šhttpsï¼šä¼˜ï¼š1.æ•°æ®åŠ å¯†2.SSLå®‰å…¨æœºåˆ¶ã€å®¢æˆ·ç«¯è®¿é—®æœåŠ¡å™¨-&gt;æœåŠ¡å™¨æŠŠæ•°å­—è¯ä¹¦+å…¬ç”¨å¯†åŒ™ å‘ç»™å®¢æˆ·ç«¯-&gt;å®¢æˆ·ç«¯éªŒè¯æœåŠ¡å™¨ï¼Œç¡®ä¿è®¿é—®çš„æ˜¯æ­£ç¡®çš„æœåŠ¡å™¨ï¼ˆä¸æ˜¯é’“é±¼ç½‘ç«™ï¼‰-&gt;å®¢æˆ·ç«¯ç”Ÿäº§ä¼šè¯å¯†åŒ™å¹¶ç”¨å…¬ç”¨å¯†åŒ™è¿›è¡ŒåŠ å¯†å†æ¬¡å‘ç»™æœåŠ¡å™¨-&gt;æœåŠ¡å™¨ç”¨ç§äººå¯†åŒ™è¿›è¡Œè§£å¯†ï¼ˆä¹Ÿå°±ç›¸å½“äºéªŒè¯å®¢æˆ·ç«¯ï¼‰ï¼ŒéªŒè¯æˆåŠŸå»ºç«‹èµ·ä¸€æ¡å®‰å…¨çš„æ•°æ®ä¼ é€’é€šé“-&gt;æœåŠ¡å™¨æŠŠå®¢æˆ·ç«¯è¯·æ±‚çš„æ•°æ®æ‰“åŒ…åŠ å¯†å‘é€ç»™å®¢æˆ·ç«¯-&gt;å®¢æˆ·ç«¯æµè§ˆå™¨æ¥æ”¶æ•°æ®å¹¶è§£æ3.å®‰å…¨æ ‡è¯†ï¼Œæé«˜ç”¨æˆ·ä¿¡ä»»æ„Ÿ æ­¥éª¤ï¼š ç”³è¯·SSLè¯ä¹¦ å®‰è£…è¯ä¹¦ã€‚ æ•´æ”¹ç½‘ç«™é“¾æ¥ å…¨ç«™åš301è½¬å‘ï¼Œå‡å°‘ç½‘ç«™æƒé‡çš„æµå¤± nginx ã€winã€‘è´­ä¹°sslè¯ä¹¦è·å¾—keyå’Œpemæ–‡ä»¶ 123456789101112131415161718192021222324252627server { listen 8080 ssl; server_name aaa.bbb.com; ssl on; ssl_certificate E:/tys/nginx-1.12.2/key_pem//hzsgis.pem; ssl_certificate_key E:/tys/nginx-1.12.2/key_pem/hzsgis.key; ssl_session_cache shared:SSL:1m; ssl_session_timeout 20m; ssl_ciphers ECDHE-RSA-AES128-GCM-SHA256:ECDHE:ECDH:AES:HIGH:!aNULL:!MD5:!ADH:!RC4; ssl_protocols TLSv1 TLSv1.1 TLSv1.2; ssl_prefer_server_ciphers on; #charset koi8-r; #access_log logs/host.access.log main; location /main/map3d/rest { #add_header 'Access-Control-Allow-Headers' '*'; proxy_pass http://111.111.11.11:1111/main/map3d/rest; } #error_page 404 /404.html; # redirect server error pages to the static page /50x.html # error_page 500 502 503 504 /50x.html; location = /50x.html { root html; }} å®šæ—¶ä»»åŠ¡SpringBoot@Scheduledæ³¨è§£ï¼Œæ¥å£SchedulingConfigurer,Quartz","link":"/2021/03/01/Draft/2021/JAVA%E5%BA%94%E7%94%A8/"},{"title":"JavaåŸºç¡€æ·±å…¥","text":"æ–°å­¦å››é—®WHYã€ä¸å‰ä»£ä¼˜åŒ–äº†ä»€ä¹ˆï¼Œå¼¥è¡¥äº†ä»€ä¹ˆç©ºç™½ã€‘ç­‘åŸºï¼Œè¶Šæ·±è¶Šç¨³WHATã€æ¡†æ¶ï¼Œæ€ç»´å¯¼å›¾ï¼Œä¸»é¢˜æ¡†æ¶ã€‘å®¹å™¨ã€å¹¶å‘ã€IOã€NETã€JVMã€å…¶ä»–HOWã€å¦‚ä½•è®°å¿†ï¼Œå­¦ä¹ èµ„æºã€‘:https://github.com/CyC2018ã€åšå®¢å®Œå–„ã€ä¹¦ç±æ·±å…¥ã€ANKIç¨³å›ºLEVELã€ä¸æ˜¯æ¯ä¸ªéƒ½å­¦ç²¾ã€‘ç²¾é€š è®¡åˆ’ï¼šã€ä¸€å¤©ä¸€ç±»11.17ã€‘è¿›åº¦ï¼šã€11.17 å®¹å™¨ã€‘å¦‚ä½•é˜…è¯»Javaæºç ï¼Ÿæ–¹æ³•ï¼š1.å®è·µæ–­ç‚¹ 2.é¡ºåºï¼šæ¥å£$\\longrightarrow$å®ç°ç±»ï¼ˆæ„é€ å™¨æ–¹æ³•$\\longrightarrow$å¸¸ç”¨æ–¹æ³•$\\longrightarrow$å…¶ä»–æ–¹æ³•ï¼‰ 3.å·¥å…·ï¼šDiagram å›¾æ ‡åŒ–æŸ¥çœ‹ç»§æ‰¿ç»“æ„ï¼Œæ‰€æœ‰ç±»çš„æ‰€æœ‰ç»“æ„ï¼ŒåŒå‡»è·³è½¬å¯¹åº”ç±» 4.æ³¨é‡Šï¼šæŸ¥çœ‹æ³¨é‡Š 5.å¿«æ·é”®ï¼š 6.æ ¹æ®å·²çŸ¥çœ‹æœªçŸ¥ï¼šæ¯”å¦‚å·²çŸ¥åº•å±‚çœ‹æºç ï¼Œçº¿ç¨‹å®‰å…¨çœ‹åŸç† é¡¹ç›®JDKå¸¸ç”¨åŒ…ï¼šã€java.io java.lang java.utilã€‘ ã€java.lang.reflect java.net javax.net. java.nio. java.util.concurrent.ã€‘ æ¡†æ¶å®¹å™¨è¿›åº¦ï¼šcollection$\\longrightarrow$list$\\longrightarrow$set$\\longrightarrow$map$\\longrightarrow$queueæ–¹æ³•ï¼šæ€»ç»“ç‰¹ç‚¹$\\longrightarrow$æ ¹æ®ç‰¹ç‚¹æŸ¥çœ‹æºç $\\longrightarrow$ç¬”è®°æ€»å…³ç³»å›¾ è¡¨æ ¼æ€»ç»“ é›†åˆåç§° ç»“æ„ æ˜¯å¦å¯é‡å¤ æ˜¯å¦çº¿ç¨‹å®‰å…¨/ä¸ä¿è¯åŒæ­¥ æ˜¯å¦å¯ä¸ºç©º æ˜¯å¦æœ‰åº å¢ åˆ  æ”¹ æŸ¥ List å¯é‡ å¤šç©º æœ‰åº Vector åŠ¨æ€æ•°ç»„ã€Object [ ] ã€‘ å®‰ ArrayList åŠ¨æ€æ•°ç»„ã€Object [ ] ã€‘ ä¸å®‰ LinkedList åŒå‘å¾ªç¯é“¾è¡¨ ä¸å®‰ Set ä¸é‡ å•ç©º TreeSet çº¢é»‘æ ‘ã€red-black treeã€‘ ä¸å®‰ æœ‰åº O(logN) HashSet å“ˆå¸Œè¡¨ã€HashMapã€‘ æ— åº O(1) LinkedHashSet åŒå‘é“¾è¡¨ã€LinkedHashMapã€‘ æœ‰åº Map HashMap æ•°ç»„+é“¾è¡¨ï¼ˆ1.8ä¹‹åé“¾è¡¨é•¿åº¦å¤§äºé»˜è®¤8ä¸”æ•°ç»„é•¿åº¦å¤§äº64è½¬æ¢ä¸ºçº¢é»‘æ ‘ï¼‰ï¼Œæ•£åˆ—ï¼ˆå“ˆå¸Œï¼‰è¡¨ ä¸å®‰ å¤šç©º æ— åº TreeMap çº¢é»‘æ ‘ï¼ˆè‡ªå¹³è¡¡çš„æ’åºäºŒå‰æ ‘ï¼‰ æœ‰åº LinkedHashMap åŒå‘é“¾è¡¨ ä¸å®‰ æœ‰åº Queue PriorityQueue Collectioné›†åˆæ ¹æ¥å£ï¼Œå®šä¹‰å­ç±»åŸºç¡€æ“ä½œ éå†æ–¹å¼foreach Iterator listiterator:åŒºåˆ«ï¼šListä¸“ç”¨ã€éå†æ—¶å¯æ·»åŠ å…ƒç´ ã€å¯é€†å‘éå†ã€å¯å®šä½å½“å‰ç´¢å¼•ä½ç½®ã€å¯ä¿®æ”¹éå†å¯¹è±¡ã€‚ 12345Collection&lt;Person&gt; persons = new ArrayList&lt;Person&gt;();Iterator iterator = persons.iterator();while (iterator.hasNext()) { System.out.println(iterator.next); } aggregate operations 123456789Collection&lt;Person&gt; persons = new ArrayList&lt;Person&gt;();persons .stream() .forEach(new Consumer&lt;Person&gt;() { @Override public void accept(Person person) { System.out.println(person.name); } }); 1234567891011121314//åœ¨ JDK 8 ä»¥åï¼Œæ¨èä½¿ç”¨èšåˆæ“ä½œå¯¹ä¸€ä¸ªé›†åˆè¿›è¡Œæ“ä½œã€‚èšåˆæ“ä½œé€šå¸¸å’Œ lambda è¡¨è¾¾å¼ç»“åˆä½¿ç”¨ï¼Œè®©ä»£ç çœ‹èµ·æ¥æ›´ç®€æ´ï¼ˆå› æ­¤å¯èƒ½æ›´éš¾ç†è§£ï¼‰ã€‚ä¸‹é¢ä¸¾å‡ ä¸ªç®€å•çš„æ —å­ï¼š//1.ä½¿ç”¨æµæ¥éå†ä¸€ä¸ª ShapesCollectionï¼Œç„¶åè¾“å‡ºçº¢è‰²çš„å…ƒç´ ï¼šmyShapesCollection.stream() .filter(e -&gt; e.getColor() == Color.RED) .forEach(e -&gt; System.out.println(e.getName()));//ä½ è¿˜å¯ä»¥è·å–ä¸€ä¸ªå¹¶è¡Œæµï¼ˆparallelStreamï¼‰ï¼Œå½“é›†åˆå…ƒç´ å¾ˆå¤šæ—¶ä½¿ç”¨å¹¶å‘å¯ä»¥æé«˜æ•ˆç‡ï¼šmyShapesCollection.parallelStream() .filter(e -&gt; e.getColor() == Color.RED) .forEach(e -&gt; System.out.println(e.getName())); //èšåˆæ“ä½œè¿˜æœ‰å¾ˆå¤šæ“ä½œé›†åˆçš„æ–¹æ³•ï¼Œæ¯”å¦‚è¯´ä½ æƒ³æŠŠ Collection ä¸­çš„å…ƒç´ éƒ½è½¬æˆ String å¯¹è±¡ï¼Œç„¶åæŠŠå®ƒä»¬ è¿èµ·æ¥ï¼šString joined = elements.stream() .map(Object::toString) .collect(Collectors.joining(&quot;, &quot;));//Thanks:https://blog.csdn.net/u011240877/article/details/52773577 List æ’å…¥æœ‰åºå¯é‡å¯å¤šç©º Vectoråº•å±‚æ•°ç»„ï¼ŒåŒæ­¥ï¼ŒåŒæ­¥è®©å…¶æ¯”ALæ…¢ï¼Œå†…å­˜ä¸å¤Ÿé»˜è®¤æ‰©100% ç‰¹ç‚¹ åŸå› ï¼ˆæºç ï¼‰ ä¸ ArrayList ç›¸ä¼¼ çº¿ç¨‹å®‰å…¨ æ–¹æ³•ä¸­æœ‰synchronizedï¼Œæ‰€ä»¥æ€§èƒ½ä¸å¦‚ArrayList åŠ¨æ€æ‰©å®¹ä¸ºåŸæ¥çš„2å€ int newCapacity = oldCapacity + ((capacityIncrement &gt; 0) ? capacityIncrement : oldCapacity); å¯æ’åºæ‰©å®¹ä¸ºåŸæ¥ä¸¤å€123456789101112private void grow(int minCapacity) { // overflow-conscious code int oldCapacity = elementData.length; //æ‰©å®¹ä¸ºåŸæ¥ä¸¤å€ int newCapacity = oldCapacity + ((capacityIncrement &gt; 0) ? capacityIncrement : oldCapacity); if (newCapacity - minCapacity &lt; 0) newCapacity = minCapacity; if (newCapacity - MAX_ARRAY_SIZE &gt; 0) newCapacity = hugeCapacity(minCapacity); elementData = Arrays.copyOf(elementData, newCapacity);} ArrayList ç‰¹ç‚¹ åŸå› ï¼ˆæºç ï¼‰ åº•å±‚æ•°ç»„ new Object[initialCapacity]; æŸ¥ä¼˜ï¼Œå°¾å¢åˆ å¿«ï¼Œå…¶ä»–åœ°æ–¹å¢åˆ æ…¢ åº•å±‚æ•°ç»„ åŠ¨æ€æ‰©å®¹åŸæ¥çš„1.5å€ int newCapacity = oldCapacity + (oldCapacity &gt;&gt; 1); çº¿ç¨‹ä¸å®‰å…¨ æ–¹æ³•ä¸­æ²¡æœ‰synchronized/*This class is roughly equivalent to Vector, except that it is unsynchronized.*/ åŠ¨æ€æ‰©å®¹123456789101112131415161718/** * Increases the capacity to ensure that it can hold at least the * number of elements specified by the minimum capacity argument. * * @param minCapacity the desired minimum capacity */ private void grow(int minCapacity) { // overflow-conscious code int oldCapacity = elementData.length; //====== åŠ¨æ€æ‰©å®¹ï¼šä½è¿ç®— &gt;&gt;ï¼šå³ç§»è¿ç®—ç¬¦ oldCapacity &gt;&gt; 1 ---ã€‹ M &gt;&gt; n = M / 2^n å³æ‰©å®¹50%====== int newCapacity = oldCapacity + (oldCapacity &gt;&gt; 1); if (newCapacity - minCapacity &lt; 0) newCapacity = minCapacity; if (newCapacity - MAX_ARRAY_SIZE &gt; 0) newCapacity = hugeCapacity(minCapacity); // minCapacity is usually close to size, so this is a win: elementData = Arrays.copyOf(elementData, newCapacity); } å‚è€ƒï¼šä½è¿ç®—ï¼šM &gt;&gt; n = M / 2^n æ€»ç»“LinkedList ç‰¹ç‚¹ åŸå› ï¼ˆæºç ï¼‰ åº•å±‚åŒå‘é“¾è¡¨ï¼Œå¢åˆ ä¼˜ï¼Œå¯æ“ä½œå¤´å°¾ï¼Œç”¨ä½œæ ˆã€ï¼ˆåŒå‘ï¼‰é˜Ÿåˆ— åº•å±‚åŒå‘é“¾è¡¨ å¯æ’å…¥ç©º åº•å±‚åŒå‘é“¾è¡¨ æŸ¥è¯¢æ…¢ åº•å±‚åŒå‘é“¾è¡¨ï¼Œä¼šéå†æ•´ä¸ªé“¾è¡¨ çº¿ç¨‹ä¸å®‰å…¨ æ–¹æ³•ä¸­æ²¡æœ‰synchronized åº•å±‚åŒå‘é“¾è¡¨123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172 /** * Returns the (non-null) Node at the specified element index. */ Node&lt;E&gt; node(int index) { // assert isElementIndex(index); if (index &lt; (size &gt;&gt; 1)) { Node&lt;E&gt; x = first; for (int i = 0; i &lt; index; i++) x = x.next; return x; } else { Node&lt;E&gt; x = last; for (int i = size - 1; i &gt; index; i--) x = x.prev; return x; } }/** * Inserts all of the elements in the specified collection into this * list, starting at the specified position. Shifts the element * currently at that position (if any) and any subsequent elements to * the right (increases their indices). The new elements will appear * in the list in the order that they are returned by the * specified collection's iterator. * * @param index index at which to insert the first element * from the specified collection * @param c collection containing elements to be added to this list * @return {@code true} if this list changed as a result of the call * @throws IndexOutOfBoundsException {@inheritDoc} * @throws NullPointerException if the specified collection is null */ public boolean addAll(int index, Collection&lt;? extends E&gt; c) { checkPositionIndex(index); Object[] a = c.toArray(); int numNew = a.length; if (numNew == 0) return false; Node&lt;E&gt; pred, succ; if (index == size) { succ = null; pred = last; } else { succ = node(index); pred = succ.prev; } for (Object o : a) { @SuppressWarnings(&quot;unchecked&quot;) E e = (E) o; Node&lt;E&gt; newNode = new Node&lt;&gt;(pred, e, null); if (pred == null) first = newNode; else pred.next = newNode; pred = newNode; } if (succ == null) { last = pred; } else { pred.next = succ; succ.prev = pred; } size += numNew; modCount++; return true; } æ€»ç»“Stackåè¿›å…ˆå‡ºçš„å †æ ˆ Set æ— åºä¸é‡å•ç©ºï¼Œå¸¸ç”¨äºå»é‡ TreeSet ç‰¹ç‚¹ åŸå› ï¼ˆæºç ï¼‰ åº•å±‚TreeMap åº•å±‚ã€å¯æ’åº å¯æ’åºã€è‡ªç„¶æ’åºï¼Œå®šåˆ¶æ’åºã€‘ åº•å±‚ã€å¯æ’åº çº¿ç¨‹ä¸å®‰å…¨ æ–¹æ³•ä¸­æ²¡æœ‰synchronized åº•å±‚ã€å¯æ’åºåº•å±‚ã€å¯æ’åº1234567891011121314151617181920212223public interface NavigableSet&lt;E&gt; extends SortedSet&lt;E&gt; {}public class TreeSet&lt;E&gt; extends AbstractSet&lt;E&gt; implements NavigableSet&lt;E&gt;, Cloneable, java.io.Serializable{}//å¯ä»¥å¯¹å¯¹è±¡å…ƒç´ è¿›è¡Œæ’åºï¼Œä½†æ˜¯è‡ªå®šä¹‰ç±»éœ€è¦å®ç°comparableæ¥å£ï¼Œé‡å†™comparaTo() æ–¹æ³•,å¦åˆ™ï¼š{@code ClassCastException}æŠ¥ClassCastExceptionå¼‚å¸¸ã€‚æ‰€æœ‰å…ƒç´ å¿…é¡»å¯ä»¥ç›¸äº’æ¯”è¾ƒï¼ˆç›¸åŒç±»å‹ï¼‰ï¼Œå¦åˆ™å°†ä¼šæŠ¥ç±»å‹è½¬æ¢å¼‚å¸¸ClassCastExection /** * Constructs a new, empty tree set, sorted according to the * natural ordering of its elements. All elements inserted into * the set must implement the {@link Comparable} interface. * Furthermore, all such elements must be &lt;i&gt;mutually * comparable&lt;/i&gt;: {@code e1.compareTo(e2)} must not throw a * {@code ClassCastException} for any elements {@code e1} and * {@code e2} in the set. If the user attempts to add an element * to the set that violates this constraint (for example, the user * attempts to add a string element to a set whose elements are * integers), the {@code add} call will throw a * {@code ClassCastException}. */ public TreeSet() { this(new TreeMap&lt;E,Object&gt;()); } TreeSetçš„æ’åˆ—é¡ºåºä¸é‡å†™çš„compareTo()æ–¹æ³•çš„è¿”å›å€¼æœ‰å…³ã€‚ return 0:å…ƒç´ æ¯æ¬¡è¿›è¡Œæ¯”è¾ƒï¼Œéƒ½è®¤ä¸ºæ˜¯ç›¸åŒçš„å…ƒç´ ï¼Œè¿™æ˜¯å°±ä¸å†å‘TreeSeté‡Œé¢æ’å…¥é™¤ç¬¬ä¸€ä¸ªå…ƒç´ ä»¥å¤–çš„å…ƒç´ ï¼Œæ‰€ä»¥TreeSetä¸­å°±åªæ’å…¥äº†ä¸€ä¸ªå…ƒç´ ã€‚ return 1:å…ƒç´ æ¯æ¬¡è¿›è¡Œæ¯”è¾ƒï¼Œéƒ½è®¤ä¸ºæ–°æ’å…¥çš„å…ƒç´ æ¯”ä¸Šä¸€ä¸ªå…ƒç´ å¤§ï¼Œäºæ˜¯äºŒå‰æ ‘å­˜å‚¨æ—¶ï¼Œä¼šå‚¨å­˜åœ¨æ ¹çš„å³ä¾§ï¼Œè¯»å–æ—¶å°±æ˜¯æ­£åºæ’åˆ—ï¼Œå…ˆè¿›å…ˆå‡ºã€‚ return -1:å…ƒç´ æ¯æ¬¡è¿›è¡Œæ¯”è¾ƒï¼Œéƒ½è®¤ä¸ºæ–°æ’å…¥çš„å…ƒç´ æ¯”ä¸Šä¸€ä¸ªå…ƒç´ å°ï¼Œäºæ˜¯äºŒå‰æ ‘å­˜å‚¨æ—¶ï¼Œä¼šå‚¨å­˜åœ¨æ ¹çš„å·¦ä¾§ï¼Œè¯»å–æ—¶å°±æ˜¯å€’åºæ’åˆ—ï¼Œå…ˆè¿›åå‡ºã€‚ HashSetå­¦ä¹ å‰æœ€å¥½å…ˆå­¦ä¹  HashMap ç‰¹ç‚¹ åŸå› ï¼ˆæºç ï¼‰ åº•å±‚HashMap åº•å±‚HashMap å¯å•ç©º Mapçš„keyå”¯ä¸€ å–„å­˜å– æ•£åˆ—è¡¨å®šä½ æ— åº æ²¡ç»§æ‰¿SortedSet ä¸åŒæ­¥ æ–¹æ³•ä¸­æ²¡æœ‰synchronized ä¸é‡å¤ ä¸é‡å¤ åº•å±‚HashMap123456789101112131415161718192021 private transient HashMap&lt;E,Object&gt; map; // Dummy value to associate with an Object in the backing Map private static final Object PRESENT = new Object();/** * Constructs a new set containing the elements in the specified * collection. The &lt;tt&gt;HashMap&lt;/tt&gt; is created with default load factor * (0.75) and an initial capacity sufficient to contain the elements in * the specified collection. * * @param c the collection whose elements are to be placed into this set * @throws NullPointerException if the specified collection is null */public HashSet(Collection&lt;? extends E&gt; c) { //åˆå§‹16ï¼ŒåŠ è½½å› å­0.75 map = new HashMap&lt;&gt;(Math.max((int) (c.size()/.75f) + 1, 16)); addAll(c);}//HashSetä¸­çš„å…ƒç´ éƒ½å­˜æ”¾åœ¨HashMapçš„keyä¸Šé¢ï¼Œè€Œvalueä¸­çš„å€¼éƒ½æ˜¯ç»Ÿä¸€çš„ä¸€ä¸ªå›ºå®šå¯¹è±¡private static final Object PRESENT = new Object(); ä¸é‡å¤123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384/** * Adds the specified element to this set if it is not already present. * More formally, adds the specified element &lt;tt&gt;e&lt;/tt&gt; to this set if * this set contains no element &lt;tt&gt;e2&lt;/tt&gt; such that * &lt;tt&gt;(e==null&amp;nbsp;?&amp;nbsp;e2==null&amp;nbsp;:&amp;nbsp;e.equals(e2))&lt;/tt&gt;. * If this set already contains the element, the call leaves the set * unchanged and returns &lt;tt&gt;false&lt;/tt&gt;. * * @param e element to be added to this set * @return &lt;tt&gt;true&lt;/tt&gt; if this set did not already contain the specified * element */public boolean add(E e) { return map.put(e, PRESENT)==null;} /** * Associates the specified value with the specified key in this map. * If the map previously contained a mapping for the key, the old * value is replaced. * * @param key key with which the specified value is to be associated * @param value value to be associated with the specified key * @return the previous value associated with &lt;tt&gt;key&lt;/tt&gt;, or * &lt;tt&gt;null&lt;/tt&gt; if there was no mapping for &lt;tt&gt;key&lt;/tt&gt;. * (A &lt;tt&gt;null&lt;/tt&gt; return can also indicate that the map * previously associated &lt;tt&gt;null&lt;/tt&gt; with &lt;tt&gt;key&lt;/tt&gt;.) */public V put(K key, V value) { return putVal(hash(key), key, value, false, true);} /** * Implements Map.put and related methods * * @param hash hash for key * @param key the key * @param value the value to put * @param onlyIfAbsent if true, don't change existing value * @param evict if false, the table is in creation mode. * @return previous value, or null if none */final V putVal(int hash, K key, V value, boolean onlyIfAbsent, boolean evict) { Node&lt;K,V&gt;[] tab; Node&lt;K,V&gt; p; int n, i; if ((tab = table) == null || (n = tab.length) == 0) n = (tab = resize()).length; if ((p = tab[i = (n - 1) &amp; hash]) == null) tab[i] = newNode(hash, key, value, null); else { Node&lt;K,V&gt; e; K k; if (p.hash == hash &amp;&amp; ((k = p.key) == key || (key != null &amp;&amp; key.equals(k)))) e = p; else if (p instanceof TreeNode) e = ((TreeNode&lt;K,V&gt;)p).putTreeVal(this, tab, hash, key, value); else { for (int binCount = 0; ; ++binCount) { if ((e = p.next) == null) { p.next = newNode(hash, key, value, null); if (binCount &gt;= TREEIFY_THRESHOLD - 1) // -1 for 1st treeifyBin(tab, hash); break; } if (e.hash == hash &amp;&amp; ((k = e.key) == key || (key != null &amp;&amp; key.equals(k)))) break; p = e; } } if (e != null) { // existing mapping for key V oldValue = e.value; if (!onlyIfAbsent || oldValue == null) e.value = value; afterNodeAccess(e); return oldValue; } } ++modCount; if (++size &gt; threshold) resize(); afterNodeInsertion(evict); return null;} LinkedHashSet ç‰¹ç‚¹ åŸå› ï¼ˆæºç ï¼‰ åº•å±‚é“¾è¡¨ã€LinkedHashMapã€‘ åº•å±‚ ä¸åŒæ­¥ æ–¹æ³•ä¸­æ²¡æœ‰synchronized æ’å…¥æœ‰åº LinkedHashSetåœ¨éå†æ—¶è·å¾—çš„è¿­ä»£å™¨æ˜¯LinkedHashSetæ‰€å®ç°çš„LinkedKeyIteratorï¼Œå®ƒçš„éå†æ˜¯ä»åŒå‘é“¾è¡¨å¤´å¼€å§‹é¡ºåºéå†ï¼Œå®ç°äº†æœ‰åºè¾“å‡ºã€‚ ä¸é‡å¤ ç±»ä¼¼ä¸é‡å¤ åº•å±‚1234567891011121314151617181920212223242526272829303132333435/** * Constructs a new linked hash set with the same elements as the * specified collection. The linked hash set is created with an initial * capacity sufficient to hold the elements in the specified collection * and the default load factor (0.75). * * @param c the collection whose elements are to be placed into * this set * @throws NullPointerException if the specified collection is null */ public LinkedHashSet(Collection&lt;? extends E&gt; c) { super(Math.max(2*c.size(), 11), .75f, true); addAll(c); } public class LinkedHashSet&lt;E&gt; extends HashSet&lt;E&gt; implements Set&lt;E&gt;, Cloneable, java.io.Serializable {} /** * Constructs a new, empty linked hash set. (This package private * constructor is only used by LinkedHashSet.) The backing * HashMap instance is a LinkedHashMap with the specified initial * capacity and the specified load factor. * * @param initialCapacity the initial capacity of the hash map * @param loadFactor the load factor of the hash map * @param dummy ignored (distinguishes this * constructor from other int, float constructor.) * @throws IllegalArgumentException if the initial capacity is less * than zero, or if the load factor is nonpositive */ HashSet(int initialCapacity, float loadFactor, boolean dummy) { map = new LinkedHashMap&lt;&gt;(initialCapacity, loadFactor); } Map é”®å€¼å¯¹ï¼Œé”®ä¸é‡ HashMap ç‰¹ç‚¹ åŸå› ï¼ˆæºç ï¼‰ ä¸ ArrayList ç›¸ä¼¼ çº¿ç¨‹å®‰å…¨ æ–¹æ³•ä¸­æœ‰synchronizedï¼Œæ‰€ä»¥æ€§èƒ½ä¸å¦‚ArrayList åŠ¨æ€æ‰©å®¹ä¸ºåŸæ¥çš„2å€ int newCapacity = oldCapacity + ((capacityIncrement &gt; 0) ? capacityIncrement : oldCapacity); åº•å±‚å“ˆå¸Œè¡¨ï¼Œæ— åºï¼Œé»˜è®¤é•¿åº¦16ï¼Œæ‰©å®¹2çš„å¹‚ LinkedHashMap ç‰¹ç‚¹ åŸå› ï¼ˆæºç ï¼‰ ä¸ ArrayList ç›¸ä¼¼ çº¿ç¨‹å®‰å…¨ æ–¹æ³•ä¸­æœ‰synchronizedï¼Œæ‰€ä»¥æ€§èƒ½ä¸å¦‚ArrayList åŠ¨æ€æ‰©å®¹ä¸ºåŸæ¥çš„2å€ int newCapacity = oldCapacity + ((capacityIncrement &gt; 0) ? capacityIncrement : oldCapacity); åº•å±‚å“ˆå¸Œè¡¨+é“¾è¡¨ï¼ŒHashMapå­ç±»ï¼Œæœ‰åºï¼Œå¯ç©ºé”®å€¼ï¼Œ TreeMap ç‰¹ç‚¹ åŸå› ï¼ˆæºç ï¼‰ ä¸ ArrayList ç›¸ä¼¼ çº¿ç¨‹å®‰å…¨ æ–¹æ³•ä¸­æœ‰synchronizedï¼Œæ‰€ä»¥æ€§èƒ½ä¸å¦‚ArrayList åŠ¨æ€æ‰©å®¹ä¸ºåŸæ¥çš„2å€ int newCapacity = oldCapacity + ((capacityIncrement &gt; 0) ? capacityIncrement : oldCapacity); åº•å±‚äºŒå‰æ ‘ã€çº¢é»‘æ ‘ã€‘ï¼Œå¯æ’åºï¼ŒéåŒæ­¥ï¼Œæ¯”è¾ƒé€šè¿‡key HashTable ç‰¹ç‚¹ åŸå› ï¼ˆæºç ï¼‰ ä¸ ArrayList ç›¸ä¼¼ çº¿ç¨‹å®‰å…¨ æ–¹æ³•ä¸­æœ‰synchronizedï¼Œæ‰€ä»¥æ€§èƒ½ä¸å¦‚ArrayList åŠ¨æ€æ‰©å®¹ä¸ºåŸæ¥çš„2å€ int newCapacity = oldCapacity + ((capacityIncrement &gt; 0) ? capacityIncrement : oldCapacity); çº¿ç¨‹å®‰å…¨ï¼Œå†…éƒ¨çš„æ–¹æ³•åŸºæœ¬éƒ½ç»è¿‡ synchronizedï¼Œä¿ç•™ç±»ä¸å»ºè®®ä½¿ç”¨ ConcurrentHashMap ç‰¹ç‚¹ åŸå› ï¼ˆæºç ï¼‰ ä¸ ArrayList ç›¸ä¼¼ çº¿ç¨‹å®‰å…¨ æ–¹æ³•ä¸­æœ‰synchronizedï¼Œæ‰€ä»¥æ€§èƒ½ä¸å¦‚ArrayList åŠ¨æ€æ‰©å®¹ä¸ºåŸæ¥çš„2å€ int newCapacity = oldCapacity + ((capacityIncrement &gt; 0) ? capacityIncrement : oldCapacity); JDK1.7 : ã€æ•°ç»„ï¼ˆSegmentï¼‰ + æ•°ç»„ï¼ˆHashEntryï¼‰ + é“¾è¡¨ï¼ˆHashEntryèŠ‚ç‚¹ï¼‰ã€‘ConcurrentHashMapï¼ˆåˆ†æ®µé”ï¼‰ å¯¹æ•´ä¸ªæ¡¶æ•°ç»„è¿›è¡Œäº†åˆ†å‰²åˆ†æ®µ(Segment)ï¼Œæ¯ä¸€æŠŠé”åªé”å®¹å™¨å…¶ä¸­ä¸€éƒ¨åˆ†æ•°æ®ï¼Œå¤šçº¿ç¨‹è®¿é—®å®¹å™¨é‡Œä¸åŒæ•°æ®æ®µçš„æ•°æ®ï¼Œå°±ä¸ä¼šå­˜åœ¨é”ç«äº‰ï¼Œæé«˜å¹¶å‘è®¿é—®ç‡ã€‚Segmentæ˜¯ä¸€ç§å¯é‡å…¥é”ReentrantLockï¼Œåœ¨ConcurrentHashMapé‡Œæ‰®æ¼”é”çš„è§’è‰²ï¼ŒHashEntryåˆ™ç”¨äºå­˜å‚¨é”®å€¼å¯¹æ•°æ®ã€‚JDK1.8 : Nodeæ•°ç»„+é“¾è¡¨ / çº¢é»‘æ ‘åˆ©ç”¨CAS+Synchronizedæ¥ä¿è¯å¹¶å‘æ›´æ–°çš„å®‰å…¨ï¼Œåº•å±‚ä¾ç„¶é‡‡ç”¨æ•°ç»„+é“¾è¡¨+çº¢é»‘æ ‘çš„å­˜å‚¨ç»“æ„ã€‚ Queue å…ˆè¿›å…ˆå‡º PriorityQueue ç‰¹ç‚¹ åŸå› ï¼ˆæºç ï¼‰ ä¸ ArrayList ç›¸ä¼¼ çº¿ç¨‹å®‰å…¨ æ–¹æ³•ä¸­æœ‰synchronizedï¼Œæ‰€ä»¥æ€§èƒ½ä¸å¦‚ArrayList åŠ¨æ€æ‰©å®¹ä¸ºåŸæ¥çš„2å€ int newCapacity = oldCapacity + ((capacityIncrement &gt; 0) ? capacityIncrement : oldCapacity); åº•å±‚äºŒå‰å°é¡¶å †ï¼Œä¿è¯æ¯æ¬¡å–å‡ºçš„å…ƒç´ æ˜¯é˜Ÿåˆ—ä¸­æƒå€¼æœ€å°çš„ã€‚énullï¼Œ å¹¶å‘åå°„I/ONETå…¶ä»–åŸºç¡€ JVMä¸ä¸Šå±‚æŠ€æœ¯ hashcodeä¸equals CAPã€BASEç†è®º AQS JDKæ–°ç‰ˆæœ¬ç‰¹å¾ï¼ˆlambda ï¼‰ åŸºç¡€ç±»åº“ï¼ˆä»ä¸Šåˆ°ä¸‹ç®€åŒ–äº†è§£ï¼‰ ã€java.io java.lang java.utilã€‘ ã€java.lang.reflect java.net javax.net. java.nio. java.util.concurrent.ã€‘ ã€java.lang.annotation javax.annotation. java.lang.refjava.math java.rmi.javax.rmi. java.security. javax.security. java.sqljavax.sql. javax.transaction. java.text javax.xml.org.w3c.dom.org.xml.sax. javax.crypto. javax.imageio. javax.jws. * java.util.jar java.util.logging java.util.prefs java.util.regex java.util.zipã€‘ è®¿é—®æƒé™ private default protected public åŒä¸€ä¸ªç±»ä¸­ âˆš âˆš âˆš âˆš åŒä¸€ä¸ªåŒ…ä¸­ âˆš âˆš âˆš å­ç±»ä¸­ âˆš âˆš å…¨å±€èŒƒå›´å†… âˆš é™æ€å˜é‡é™æ€æ–¹æ³•ä¸­åªèƒ½è®¿é—®é™æ€å˜é‡ï¼Œ åŸºæœ¬æ•°æ®ç±»å‹ å‚è€ƒèµ„æºï¼š 1.https://blog.csdn.net/xushiyu1996818/article/details/91983557","link":"/2021/02/24/Draft/2021/Java%E5%9F%BA%E7%A1%80%E6%B7%B1%E5%85%A5/"},{"title":"Dubbo","text":"åˆ†å¸ƒå¼RPCæ¡†æ¶Apache Dubbo 1. è½¯ä»¶æ¶æ„çš„æ¼”è¿›è¿‡ç¨‹è½¯ä»¶æ¶æ„çš„å‘å±•ç»å†äº†ç”±å•ä½“æ¶æ„ã€å‚ç›´æ¶æ„ã€SOAæ¶æ„åˆ°å¾®æœåŠ¡æ¶æ„çš„æ¼”è¿›è¿‡ç¨‹ï¼Œä¸‹é¢æˆ‘ä»¬åˆ†åˆ«äº†è§£ä¸€ä¸‹è¿™å‡ ä¸ªæ¶æ„ã€‚ 1.1 å•ä½“æ¶æ„ æ¶æ„è¯´æ˜ï¼š â€‹ å…¨éƒ¨åŠŸèƒ½é›†ä¸­åœ¨ä¸€ä¸ªé¡¹ç›®å†…ï¼ˆAll in oneï¼‰ã€‚ æ¶æ„ä¼˜ç‚¹ï¼š â€‹ æ¶æ„ç®€å•ï¼Œå‰æœŸå¼€å‘æˆæœ¬ä½ã€å¼€å‘å‘¨æœŸçŸ­ï¼Œé€‚åˆå°å‹é¡¹ç›®ã€‚ æ¶æ„ç¼ºç‚¹ï¼š â€‹ å…¨éƒ¨åŠŸèƒ½é›†æˆåœ¨ä¸€ä¸ªå·¥ç¨‹ä¸­ï¼Œå¯¹äºå¤§å‹é¡¹ç›®ä¸æ˜“å¼€å‘ã€æ‰©å±•å’Œç»´æŠ¤ã€‚ â€‹ æŠ€æœ¯æ ˆå—é™ï¼Œåªèƒ½ä½¿ç”¨ä¸€ç§è¯­è¨€å¼€å‘ã€‚ â€‹ ç³»ç»Ÿæ€§èƒ½æ‰©å±•åªèƒ½é€šè¿‡æ‰©å±•é›†ç¾¤èŠ‚ç‚¹ï¼Œæˆæœ¬é«˜ã€‚ 1.2 å‚ç›´æ¶æ„ æ¶æ„è¯´æ˜ï¼š â€‹ æŒ‰ç…§ä¸šåŠ¡è¿›è¡Œåˆ‡å‰²ï¼Œå½¢æˆå°çš„å•ä½“é¡¹ç›®ã€‚ æ¶æ„ä¼˜ç‚¹ï¼š â€‹ æŠ€æœ¯æ ˆå¯æ‰©å±•ï¼ˆä¸åŒçš„ç³»ç»Ÿå¯ä»¥ç”¨ä¸åŒçš„ç¼–ç¨‹è¯­è¨€ç¼–å†™ï¼‰ã€‚ æ¶æ„ç¼ºç‚¹ï¼š â€‹ åŠŸèƒ½é›†ä¸­åœ¨ä¸€ä¸ªé¡¹ç›®ä¸­ï¼Œä¸åˆ©äºå¼€å‘ã€æ‰©å±•ã€ç»´æŠ¤ã€‚ â€‹ ç³»ç»Ÿæ‰©å¼ åªèƒ½é€šè¿‡é›†ç¾¤çš„æ–¹å¼ã€‚ â€‹ é¡¹ç›®ä¹‹é—´åŠŸèƒ½å†—ä½™ã€æ•°æ®å†—ä½™ã€è€¦åˆæ€§å¼ºã€‚ 1.3 SOAæ¶æ„SOAå…¨ç§°ä¸ºService-Oriented Architectureï¼Œå³é¢å‘æœåŠ¡çš„æ¶æ„ã€‚å®ƒå¯ä»¥æ ¹æ®éœ€æ±‚é€šè¿‡ç½‘ç»œå¯¹æ¾æ•£è€¦åˆçš„ç²—ç²’åº¦åº”ç”¨ç»„ä»¶(æœåŠ¡)è¿›è¡Œåˆ†å¸ƒå¼éƒ¨ç½²ã€ç»„åˆå’Œä½¿ç”¨ã€‚ä¸€ä¸ªæœåŠ¡é€šå¸¸ä»¥ç‹¬ç«‹çš„å½¢å¼å­˜åœ¨äºæ“ä½œç³»ç»Ÿè¿›ç¨‹ä¸­ã€‚ ç«™åœ¨åŠŸèƒ½çš„è§’åº¦ï¼ŒæŠŠä¸šåŠ¡é€»è¾‘æŠ½è±¡æˆå¯å¤ç”¨çš„æœåŠ¡ï¼Œé€šè¿‡æœåŠ¡çš„ç¼–æ’å®ç°ä¸šåŠ¡çš„å¿«é€Ÿå†ç”Ÿï¼Œç›®çš„ï¼šæŠŠåŸå…ˆå›ºæœ‰çš„ä¸šåŠ¡åŠŸèƒ½è½¬å˜ä¸ºé€šç”¨çš„ä¸šåŠ¡æœåŠ¡ï¼Œå®ç°ä¸šåŠ¡é€»è¾‘çš„å¿«é€Ÿå¤ç”¨ã€‚ æ¶æ„è¯´æ˜ï¼š â€‹ å°†é‡å¤åŠŸèƒ½æˆ–æ¨¡å—æŠ½å–æˆç»„ä»¶çš„å½¢å¼ï¼Œå¯¹å¤–æä¾›æœåŠ¡ï¼Œåœ¨é¡¹ç›®ä¸æœåŠ¡ä¹‹é—´ä½¿ç”¨ESBï¼ˆä¼ä¸šæœåŠ¡æ€»çº¿ï¼‰çš„å½¢å¼ä½œä¸ºé€šä¿¡çš„æ¡¥æ¢ã€‚ æ¶æ„ä¼˜ç‚¹ï¼š â€‹ é‡å¤åŠŸèƒ½æˆ–æ¨¡å—æŠ½å–ä¸ºæœåŠ¡ï¼Œæé«˜å¼€å‘æ•ˆç‡ã€‚ â€‹ å¯é‡ç”¨æ€§é«˜ã€‚ â€‹ å¯ç»´æŠ¤æ€§é«˜ã€‚ æ¶æ„ç¼ºç‚¹ï¼š â€‹ å„ç³»ç»Ÿä¹‹é—´ä¸šåŠ¡ä¸åŒï¼Œå¾ˆéš¾ç¡®è®¤åŠŸèƒ½æˆ–æ¨¡å—æ˜¯é‡å¤çš„ã€‚ â€‹ æŠ½å–æœåŠ¡çš„ç²’åº¦å¤§ã€‚ â€‹ ç³»ç»Ÿå’ŒæœåŠ¡ä¹‹é—´è€¦åˆåº¦é«˜ã€‚ 1.4 å¾®æœåŠ¡æ¶æ„ æ¶æ„è¯´æ˜ï¼š â€‹ å°†ç³»ç»ŸæœåŠ¡å±‚å®Œå…¨ç‹¬ç«‹å‡ºæ¥ï¼ŒæŠ½å–ä¸ºä¸€ä¸ªä¸€ä¸ªçš„å¾®æœåŠ¡ã€‚ â€‹ æŠ½å–çš„ç²’åº¦æ›´ç»†ï¼Œéµå¾ªå•ä¸€åŸåˆ™ã€‚ â€‹ é‡‡ç”¨è½»é‡çº§æ¡†æ¶åè®®ä¼ è¾“ã€‚ æ¶æ„ä¼˜ç‚¹ï¼š â€‹ æœåŠ¡æ‹†åˆ†ç²’åº¦æ›´ç»†ï¼Œæœ‰åˆ©äºæé«˜å¼€å‘æ•ˆç‡ã€‚ â€‹ å¯ä»¥é’ˆå¯¹ä¸åŒæœåŠ¡åˆ¶å®šå¯¹åº”çš„ä¼˜åŒ–æ–¹æ¡ˆã€‚ â€‹ é€‚ç”¨äºäº’è”ç½‘æ—¶ä»£ï¼Œäº§å“è¿­ä»£å‘¨æœŸæ›´çŸ­ã€‚ æ¶æ„ç¼ºç‚¹ï¼š â€‹ ç²’åº¦å¤ªç»†å¯¼è‡´æœåŠ¡å¤ªå¤šï¼Œç»´æŠ¤æˆæœ¬é«˜ã€‚ â€‹ åˆ†å¸ƒå¼ç³»ç»Ÿå¼€å‘çš„æŠ€æœ¯æˆæœ¬é«˜ï¼Œå¯¹å›¢é˜Ÿçš„æŒ‘æˆ˜å¤§ã€‚ 2. Apache Dubboæ¦‚è¿°2.1 Dubboç®€ä»‹Apache Dubboæ˜¯ä¸€æ¬¾é«˜æ€§èƒ½çš„Java RPCæ¡†æ¶ã€‚å…¶å‰èº«æ˜¯é˜¿é‡Œå·´å·´å…¬å¸å¼€æºçš„ä¸€ä¸ªé«˜æ€§èƒ½ã€è½»é‡çº§çš„å¼€æºJava RPCæ¡†æ¶ï¼Œå¯ä»¥å’ŒSpringæ¡†æ¶æ— ç¼é›†æˆã€‚ ä»€ä¹ˆæ˜¯RPCï¼Ÿ RPCå…¨ç§°ä¸ºremote procedure callï¼Œå³è¿œç¨‹è¿‡ç¨‹è°ƒç”¨ã€‚æ¯”å¦‚ä¸¤å°æœåŠ¡å™¨Aå’ŒBï¼ŒAæœåŠ¡å™¨ä¸Šéƒ¨ç½²ä¸€ä¸ªåº”ç”¨ï¼ŒBæœåŠ¡å™¨ä¸Šéƒ¨ç½²ä¸€ä¸ªåº”ç”¨ï¼ŒAæœåŠ¡å™¨ä¸Šçš„åº”ç”¨æƒ³è°ƒç”¨BæœåŠ¡å™¨ä¸Šçš„åº”ç”¨æä¾›çš„æ–¹æ³•ï¼Œç”±äºä¸¤ä¸ªåº”ç”¨ä¸åœ¨ä¸€ä¸ªå†…å­˜ç©ºé—´ï¼Œä¸èƒ½ç›´æ¥è°ƒç”¨ï¼Œæ‰€ä»¥éœ€è¦é€šè¿‡ç½‘ç»œæ¥è¡¨è¾¾è°ƒç”¨çš„è¯­ä¹‰å’Œä¼ è¾¾è°ƒç”¨çš„æ•°æ®ã€‚ éœ€è¦æ³¨æ„çš„æ˜¯RPCå¹¶ä¸æ˜¯ä¸€ä¸ªå…·ä½“çš„æŠ€æœ¯ï¼Œè€Œæ˜¯æŒ‡æ•´ä¸ªç½‘ç»œè¿œç¨‹è°ƒç”¨è¿‡ç¨‹ã€‚ RPCæ˜¯ä¸€ä¸ªæ³›åŒ–çš„æ¦‚å¿µï¼Œä¸¥æ ¼æ¥è¯´ä¸€åˆ‡è¿œç¨‹è¿‡ç¨‹è°ƒç”¨æ‰‹æ®µéƒ½å±äºRPCèŒƒç•´ã€‚å„ç§å¼€å‘è¯­è¨€éƒ½æœ‰è‡ªå·±çš„RPCæ¡†æ¶ã€‚Javaä¸­çš„RPCæ¡†æ¶æ¯”è¾ƒå¤šï¼Œå¹¿æ³›ä½¿ç”¨çš„æœ‰RMIã€Hessianã€Dubboç­‰ã€‚ Dubboå®˜ç½‘åœ°å€ï¼šhttp://dubbo.apache.org Dubboæä¾›äº†ä¸‰å¤§æ ¸å¿ƒèƒ½åŠ›ï¼šé¢å‘æ¥å£çš„è¿œç¨‹æ–¹æ³•è°ƒç”¨ï¼Œæ™ºèƒ½å®¹é”™å’Œè´Ÿè½½å‡è¡¡ï¼Œä»¥åŠæœåŠ¡è‡ªåŠ¨æ³¨å†Œå’Œå‘ç°ã€‚ 2.2 Dubboæ¶æ„Dubboæ¶æ„å›¾ï¼ˆDubboå®˜æ–¹æä¾›ï¼‰å¦‚ä¸‹ï¼š èŠ‚ç‚¹è§’è‰²è¯´æ˜ï¼š èŠ‚ç‚¹ è§’è‰²åç§° Provider æš´éœ²æœåŠ¡çš„æœåŠ¡æä¾›æ–¹ Consumer è°ƒç”¨è¿œç¨‹æœåŠ¡çš„æœåŠ¡æ¶ˆè´¹æ–¹ Registry æœåŠ¡æ³¨å†Œä¸å‘ç°çš„æ³¨å†Œä¸­å¿ƒ Monitor ç»Ÿè®¡æœåŠ¡çš„è°ƒç”¨æ¬¡æ•°å’Œè°ƒç”¨æ—¶é—´çš„ç›‘æ§ä¸­å¿ƒ Container æœåŠ¡è¿è¡Œå®¹å™¨ è™šçº¿éƒ½æ˜¯å¼‚æ­¥è®¿é—®ï¼Œå®çº¿éƒ½æ˜¯åŒæ­¥è®¿é—®è“è‰²è™šçº¿:åœ¨å¯åŠ¨æ—¶å®Œæˆçš„åŠŸèƒ½çº¢è‰²è™šçº¿(å®çº¿)éƒ½æ˜¯ç¨‹åºè¿è¡Œè¿‡ç¨‹ä¸­æ‰§è¡Œçš„åŠŸèƒ½ è°ƒç”¨å…³ç³»è¯´æ˜: æœåŠ¡å®¹å™¨è´Ÿè´£å¯åŠ¨ï¼ŒåŠ è½½ï¼Œè¿è¡ŒæœåŠ¡æä¾›è€…ã€‚ æœåŠ¡æä¾›è€…åœ¨å¯åŠ¨æ—¶ï¼Œå‘æ³¨å†Œä¸­å¿ƒæ³¨å†Œè‡ªå·±æä¾›çš„æœåŠ¡ã€‚ æœåŠ¡æ¶ˆè´¹è€…åœ¨å¯åŠ¨æ—¶ï¼Œå‘æ³¨å†Œä¸­å¿ƒè®¢é˜…è‡ªå·±æ‰€éœ€çš„æœåŠ¡ã€‚ æ³¨å†Œä¸­å¿ƒè¿”å›æœåŠ¡æä¾›è€…åœ°å€åˆ—è¡¨ç»™æ¶ˆè´¹è€…ï¼Œå¦‚æœæœ‰å˜æ›´ï¼Œæ³¨å†Œä¸­å¿ƒå°†åŸºäºé•¿è¿æ¥æ¨é€å˜æ›´æ•°æ®ç»™æ¶ˆè´¹è€…ã€‚ æœåŠ¡æ¶ˆè´¹è€…ï¼Œä»æä¾›è€…åœ°å€åˆ—è¡¨ä¸­ï¼ŒåŸºäºè½¯è´Ÿè½½å‡è¡¡ç®—æ³•ï¼Œé€‰ä¸€å°æä¾›è€…è¿›è¡Œè°ƒç”¨ï¼Œå¦‚æœè°ƒç”¨å¤±è´¥ï¼Œå†é€‰å¦ä¸€å°è°ƒç”¨ã€‚ æœåŠ¡æ¶ˆè´¹è€…å’Œæä¾›è€…ï¼Œåœ¨å†…å­˜ä¸­ç´¯è®¡è°ƒç”¨æ¬¡æ•°å’Œè°ƒç”¨æ—¶é—´ï¼Œå®šæ—¶æ¯åˆ†é’Ÿå‘é€ä¸€æ¬¡ç»Ÿè®¡æ•°æ®åˆ°ç›‘æ§ä¸­å¿ƒã€‚ 3. æœåŠ¡æ³¨å†Œä¸­å¿ƒZookeeperé€šè¿‡å‰é¢çš„Dubboæ¶æ„å›¾å¯ä»¥çœ‹åˆ°ï¼ŒRegistryï¼ˆæœåŠ¡æ³¨å†Œä¸­å¿ƒï¼‰åœ¨å…¶ä¸­èµ·ç€è‡³å…³é‡è¦çš„ä½œç”¨ã€‚Dubboå®˜æ–¹æ¨èä½¿ç”¨Zookeeperä½œä¸ºæœåŠ¡æ³¨å†Œä¸­å¿ƒã€‚ 3.1 Zookeeperä»‹ç»Zookeeper æ˜¯ Apache Hadoop çš„å­é¡¹ç›®ï¼Œæ˜¯ä¸€ä¸ªæ ‘å‹çš„ç›®å½•æœåŠ¡ï¼Œæ”¯æŒå˜æ›´æ¨é€ï¼Œé€‚åˆä½œä¸º Dubbo æœåŠ¡çš„æ³¨å†Œä¸­å¿ƒï¼Œå·¥ä¸šå¼ºåº¦è¾ƒé«˜ï¼Œå¯ç”¨äºç”Ÿäº§ç¯å¢ƒï¼Œå¹¶æ¨èä½¿ç”¨ ã€‚ ä¸ºäº†ä¾¿äºç†è§£Zookeeperçš„æ ‘å‹ç›®å½•æœåŠ¡ï¼Œæˆ‘ä»¬å…ˆæ¥çœ‹ä¸€ä¸‹æˆ‘ä»¬ç”µè„‘çš„æ–‡ä»¶ç³»ç»Ÿ(ä¹Ÿæ˜¯ä¸€ä¸ªæ ‘å‹ç›®å½•ç»“æ„)ï¼š æˆ‘çš„ç”µè„‘å¯ä»¥åˆ†ä¸ºå¤šä¸ªç›˜ç¬¦ï¼ˆä¾‹å¦‚Cã€Dã€Eç­‰ï¼‰ï¼Œæ¯ä¸ªç›˜ç¬¦ä¸‹å¯ä»¥åˆ›å»ºå¤šä¸ªç›®å½•ï¼Œæ¯ä¸ªç›®å½•ä¸‹é¢å¯ä»¥åˆ›å»ºæ–‡ä»¶ï¼Œä¹Ÿå¯ä»¥åˆ›å»ºå­ç›®å½•ï¼Œæœ€ç»ˆæ„æˆäº†ä¸€ä¸ªæ ‘å‹ç»“æ„ã€‚é€šè¿‡è¿™ç§æ ‘å‹ç»“æ„çš„ç›®å½•ï¼Œæˆ‘ä»¬å¯ä»¥å°†æ–‡ä»¶åˆ†é—¨åˆ«ç±»çš„è¿›è¡Œå­˜æ”¾ï¼Œæ–¹ä¾¿æˆ‘ä»¬åæœŸæŸ¥æ‰¾ã€‚è€Œä¸”ç£ç›˜ä¸Šçš„æ¯ä¸ªæ–‡ä»¶éƒ½æœ‰ä¸€ä¸ªå”¯ä¸€çš„è®¿é—®è·¯å¾„ï¼Œä¾‹å¦‚ï¼šC:\\Windows\\itcast\\hello.txtã€‚ Zookeeperæ ‘å‹ç›®å½•æœåŠ¡ï¼š æµç¨‹è¯´æ˜ï¼š æœåŠ¡æä¾›è€…(Provider)å¯åŠ¨æ—¶: å‘ /dubbo/com.foo.BarService/providers ç›®å½•ä¸‹å†™å…¥è‡ªå·±çš„ URL åœ°å€ æœåŠ¡æ¶ˆè´¹è€…(Consumer)å¯åŠ¨æ—¶: è®¢é˜… /dubbo/com.foo.BarService/providers ç›®å½•ä¸‹çš„æä¾›è€… URL åœ°å€ã€‚å¹¶å‘ /dubbo/com.foo.BarService/consumers ç›®å½•ä¸‹å†™å…¥è‡ªå·±çš„ URL åœ°å€ ç›‘æ§ä¸­å¿ƒ(Monitor)å¯åŠ¨æ—¶: è®¢é˜… /dubbo/com.foo.BarService ç›®å½•ä¸‹çš„æ‰€æœ‰æä¾›è€…å’Œæ¶ˆè´¹è€… URL åœ°å€ 3.2 å®‰è£…Zookeeperä¸‹è½½åœ°å€ï¼šhttp://archive.apache.org/dist/zookeeper/ æœ¬è¯¾ç¨‹ä½¿ç”¨çš„Zookeeperç‰ˆæœ¬ä¸º3.4.6ï¼Œä¸‹è½½å®Œæˆåå¯ä»¥è·å¾—åç§°ä¸ºzookeeper-3.4.6.tar.gzçš„å‹ç¼©æ–‡ä»¶ã€‚ å®‰è£…æ­¥éª¤ï¼š ç¬¬ä¸€æ­¥ï¼šå®‰è£… jdkï¼ˆç•¥ï¼‰ç¬¬äºŒæ­¥ï¼šæŠŠ zookeeper çš„å‹ç¼©åŒ…ï¼ˆzookeeper-3.4.6.tar.gzï¼‰ä¸Šä¼ åˆ° linux ç³»ç»Ÿç¬¬ä¸‰æ­¥ï¼šè§£å‹ç¼©å‹ç¼©åŒ…â€‹ tar -zxvf zookeeper-3.4.6.tar.gzç¬¬å››æ­¥ï¼šè¿›å…¥zookeeper-3.4.6ç›®å½•ï¼Œåˆ›å»ºdataç›®å½•â€‹ mkdir dataç¬¬äº”æ­¥ï¼šè¿›å…¥confç›®å½• ï¼ŒæŠŠzoo_sample.cfg æ”¹åä¸ºzoo.cfgâ€‹ cd confâ€‹ mv zoo_sample.cfg zoo.cfgç¬¬å…­æ­¥ï¼šæ‰“å¼€zoo.cfgæ–‡ä»¶, ä¿®æ”¹dataå±æ€§ï¼šdataDir=/root/zookeeper-3.4.6/data 3.3 å¯åŠ¨ã€åœæ­¢Zookeeperè¿›å…¥Zookeeperçš„binç›®å½•ï¼Œå¯åŠ¨æœåŠ¡å‘½ä»¤ ./zkServer.sh start åœæ­¢æœåŠ¡å‘½ä»¤./zkServer.sh stop æŸ¥çœ‹æœåŠ¡çŠ¶æ€ï¼š./zkServer.sh status 4. Dubboå¿«é€Ÿå…¥é—¨Dubboä½œä¸ºä¸€ä¸ªRPCæ¡†æ¶ï¼Œå…¶æœ€æ ¸å¿ƒçš„åŠŸèƒ½å°±æ˜¯è¦å®ç°è·¨ç½‘ç»œçš„è¿œç¨‹è°ƒç”¨ã€‚æœ¬å°èŠ‚å°±æ˜¯è¦åˆ›å»ºä¸¤ä¸ªåº”ç”¨ï¼Œä¸€ä¸ªä½œä¸ºæœåŠ¡çš„æä¾›æ–¹ï¼Œä¸€ä¸ªä½œä¸ºæœåŠ¡çš„æ¶ˆè´¹æ–¹ã€‚é€šè¿‡Dubboæ¥å®ç°æœåŠ¡æ¶ˆè´¹æ–¹è¿œç¨‹è°ƒç”¨æœåŠ¡æä¾›æ–¹çš„æ–¹æ³•ã€‚ 4.1 æœåŠ¡æä¾›æ–¹å¼€å‘å¼€å‘æ­¥éª¤ï¼š ï¼ˆ1ï¼‰åˆ›å»ºmavenå·¥ç¨‹ï¼ˆæ‰“åŒ…æ–¹å¼ä¸ºwarï¼‰dubbodemo_providerï¼Œåœ¨pom.xmlæ–‡ä»¶ä¸­å¯¼å…¥å¦‚ä¸‹åæ ‡ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980818283848586878889909192&lt;properties&gt; &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt; &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt; &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt; &lt;spring.version&gt;5.0.5.RELEASE&lt;/spring.version&gt;&lt;/properties&gt;&lt;dependencies&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-context&lt;/artifactId&gt; &lt;version&gt;${spring.version}&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-beans&lt;/artifactId&gt; &lt;version&gt;${spring.version}&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt; &lt;version&gt;${spring.version}&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-jdbc&lt;/artifactId&gt; &lt;version&gt;${spring.version}&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-aspects&lt;/artifactId&gt; &lt;version&gt;${spring.version}&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-jms&lt;/artifactId&gt; &lt;version&gt;${spring.version}&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-context-support&lt;/artifactId&gt; &lt;version&gt;${spring.version}&lt;/version&gt; &lt;/dependency&gt; &lt;!-- dubboç›¸å…³ --&gt; &lt;dependency&gt; &lt;groupId&gt;com.alibaba&lt;/groupId&gt; &lt;artifactId&gt;dubbo&lt;/artifactId&gt; &lt;version&gt;2.6.0&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.apache.zookeeper&lt;/groupId&gt; &lt;artifactId&gt;zookeeper&lt;/artifactId&gt; &lt;version&gt;3.4.7&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;com.github.sgroschupf&lt;/groupId&gt; &lt;artifactId&gt;zkclient&lt;/artifactId&gt; &lt;version&gt;0.1&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;javassist&lt;/groupId&gt; &lt;artifactId&gt;javassist&lt;/artifactId&gt; &lt;version&gt;3.12.1.GA&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;com.alibaba&lt;/groupId&gt; &lt;artifactId&gt;fastjson&lt;/artifactId&gt; &lt;version&gt;1.2.47&lt;/version&gt; &lt;/dependency&gt;&lt;/dependencies&gt;&lt;build&gt; &lt;plugins&gt; &lt;plugin&gt; &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt; &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt; &lt;version&gt;2.3.2&lt;/version&gt; &lt;configuration&gt; &lt;source&gt;1.8&lt;/source&gt; &lt;target&gt;1.8&lt;/target&gt; &lt;/configuration&gt; &lt;/plugin&gt; &lt;plugin&gt; &lt;groupId&gt;org.apache.tomcat.maven&lt;/groupId&gt; &lt;artifactId&gt;tomcat7-maven-plugin&lt;/artifactId&gt; &lt;configuration&gt; &lt;!-- æŒ‡å®šç«¯å£ --&gt; &lt;port&gt;8081&lt;/port&gt; &lt;!-- è¯·æ±‚è·¯å¾„ --&gt; &lt;path&gt;/&lt;/path&gt; &lt;/configuration&gt; &lt;/plugin&gt; &lt;/plugins&gt;&lt;/build&gt; ï¼ˆ2ï¼‰é…ç½®web.xmlæ–‡ä»¶ 1234567891011121314&lt;!DOCTYPE web-app PUBLIC &quot;-//Sun Microsystems, Inc.//DTD Web Application 2.3//EN&quot; &quot;http://java.sun.com/dtd/web-app_2_3.dtd&quot; &gt;&lt;web-app&gt; &lt;display-name&gt;Archetype Created Web Application&lt;/display-name&gt; &lt;context-param&gt; &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt; &lt;param-value&gt;classpath:applicationContext*.xml&lt;/param-value&gt; &lt;/context-param&gt; &lt;listener&gt; &lt;listener-class&gt;org.springframework.web.context.ContextLoaderListener&lt;/listener-class&gt; &lt;/listener&gt;&lt;/web-app&gt; ï¼ˆ3ï¼‰åˆ›å»ºæœåŠ¡æ¥å£ 1234package com.itheima.service;public interface HelloService { public String sayHello(String name);} ï¼ˆ4ï¼‰åˆ›å»ºæœåŠ¡å®ç°ç±» 12345678910package com.itheima.service.impl;import com.alibaba.dubbo.config.annotation.Service;import com.itheima.service.HelloService;@Servicepublic class HelloServiceImpl implements HelloService { public String sayHello(String name) { return &quot;hello &quot; + name; }} æ³¨æ„ï¼šæœåŠ¡å®ç°ç±»ä¸Šä½¿ç”¨çš„Serviceæ³¨è§£æ˜¯Dubboæä¾›çš„ï¼Œç”¨äºå¯¹å¤–å‘å¸ƒæœåŠ¡ ï¼ˆ5ï¼‰åœ¨src/main/resourcesä¸‹åˆ›å»ºapplicationContext-service.xml 123456789101112131415161718192021222324&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:p=&quot;http://www.springframework.org/schema/p&quot; xmlns:context=&quot;http://www.springframework.org/schema/context&quot; xmlns:dubbo=&quot;http://code.alibabatech.com/schema/dubbo&quot; xmlns:mvc=&quot;http://www.springframework.org/schema/mvc&quot; xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd http://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc.xsd http://code.alibabatech.com/schema/dubbo http://code.alibabatech.com/schema/dubbo/dubbo.xsd http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd&quot;&gt; &lt;!-- å½“å‰åº”ç”¨åç§°ï¼Œç”¨äºæ³¨å†Œä¸­å¿ƒè®¡ç®—åº”ç”¨é—´ä¾èµ–å…³ç³»ï¼Œæ³¨æ„ï¼šæ¶ˆè´¹è€…å’Œæä¾›è€…åº”ç”¨åä¸è¦ä¸€æ · --&gt; &lt;dubbo:application name=&quot;dubbodemo_provider&quot; /&gt; &lt;!-- è¿æ¥æœåŠ¡æ³¨å†Œä¸­å¿ƒzookeeper ipä¸ºzookeeperæ‰€åœ¨æœåŠ¡å™¨çš„ipåœ°å€--&gt; &lt;dubbo:registry address=&quot;zookeeper://192.168.134.129:2181&quot;/&gt; &lt;!-- æ³¨å†Œ åè®®å’Œport ç«¯å£é»˜è®¤æ˜¯20880 --&gt; &lt;dubbo:protocol name=&quot;dubbo&quot; port=&quot;20881&quot;&gt;&lt;/dubbo:protocol&gt; &lt;!-- æ‰«ææŒ‡å®šåŒ…ï¼ŒåŠ å…¥@Serviceæ³¨è§£çš„ç±»ä¼šè¢«å‘å¸ƒä¸ºæœåŠ¡ --&gt; &lt;dubbo:annotation package=&quot;com.itheima.service.impl&quot; /&gt;&lt;/beans&gt; ï¼ˆ6ï¼‰å¯åŠ¨æœåŠ¡ tomcat7:run 4.2 æœåŠ¡æ¶ˆè´¹æ–¹å¼€å‘å¼€å‘æ­¥éª¤ï¼š ï¼ˆ1ï¼‰åˆ›å»ºmavenå·¥ç¨‹ï¼ˆæ‰“åŒ…æ–¹å¼ä¸ºwarï¼‰dubbodemo_consumerï¼Œpom.xmlé…ç½®å’Œä¸Šé¢æœåŠ¡æä¾›è€…ç›¸åŒï¼Œåªéœ€è¦å°†Tomcatæ’ä»¶çš„ç«¯å£å·æ”¹ä¸º8082å³å¯ ï¼ˆ2ï¼‰é…ç½®web.xmlæ–‡ä»¶ 1234567891011121314151617181920&lt;!DOCTYPE web-app PUBLIC &quot;-//Sun Microsystems, Inc.//DTD Web Application 2.3//EN&quot; &quot;http://java.sun.com/dtd/web-app_2_3.dtd&quot; &gt;&lt;web-app&gt; &lt;display-name&gt;Archetype Created Web Application&lt;/display-name&gt; &lt;servlet&gt; &lt;servlet-name&gt;springmvc&lt;/servlet-name&gt; &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt; &lt;!-- æŒ‡å®šåŠ è½½çš„é…ç½®æ–‡ä»¶ ï¼Œé€šè¿‡å‚æ•°contextConfigLocationåŠ è½½ --&gt; &lt;init-param&gt; &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt; &lt;param-value&gt;classpath:applicationContext-web.xml&lt;/param-value&gt; &lt;/init-param&gt; &lt;load-on-startup&gt;1&lt;/load-on-startup&gt; &lt;/servlet&gt; &lt;servlet-mapping&gt; &lt;servlet-name&gt;springmvc&lt;/servlet-name&gt; &lt;url-pattern&gt;*.do&lt;/url-pattern&gt; &lt;/servlet-mapping&gt;&lt;/web-app&gt; ï¼ˆ3ï¼‰å°†æœåŠ¡æä¾›è€…å·¥ç¨‹ä¸­çš„HelloServiceæ¥å£å¤åˆ¶åˆ°å½“å‰å·¥ç¨‹ ï¼ˆ4ï¼‰ç¼–å†™Controller 12345678910111213141516171819202122package com.itheima.controller;import com.alibaba.dubbo.config.annotation.Reference;import com.itheima.service.HelloService;import org.springframework.stereotype.Controller;import org.springframework.web.bind.annotation.RequestMapping;import org.springframework.web.bind.annotation.ResponseBody;@Controller@RequestMapping(&quot;/demo&quot;)public class HelloController { @Reference private HelloService helloService; @RequestMapping(&quot;/hello&quot;) @ResponseBody public String getName(String name){ //è¿œç¨‹è°ƒç”¨ String result = helloService.sayHello(name); System.out.println(result); return result; }} æ³¨æ„ï¼šControllerä¸­æ³¨å…¥HelloServiceä½¿ç”¨çš„æ˜¯Dubboæä¾›çš„@Referenceæ³¨è§£ ï¼ˆ5ï¼‰åœ¨src/main/resourcesä¸‹åˆ›å»ºapplicationContext-web.xml 1234567891011121314151617181920212223&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:p=&quot;http://www.springframework.org/schema/p&quot; xmlns:context=&quot;http://www.springframework.org/schema/context&quot; xmlns:dubbo=&quot;http://code.alibabatech.com/schema/dubbo&quot; xmlns:mvc=&quot;http://www.springframework.org/schema/mvc&quot; xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd http://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc.xsd http://code.alibabatech.com/schema/dubbo http://code.alibabatech.com/schema/dubbo/dubbo.xsd http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd&quot;&gt; &lt;!-- å½“å‰åº”ç”¨åç§°ï¼Œç”¨äºæ³¨å†Œä¸­å¿ƒè®¡ç®—åº”ç”¨é—´ä¾èµ–å…³ç³»ï¼Œæ³¨æ„ï¼šæ¶ˆè´¹è€…å’Œæä¾›è€…åº”ç”¨åä¸è¦ä¸€æ · --&gt; &lt;dubbo:application name=&quot;dubbodemo-consumer&quot; /&gt; &lt;!-- è¿æ¥æœåŠ¡æ³¨å†Œä¸­å¿ƒzookeeper ipä¸ºzookeeperæ‰€åœ¨æœåŠ¡å™¨çš„ipåœ°å€--&gt; &lt;dubbo:registry address=&quot;zookeeper://192.168.134.129:2181&quot;/&gt; &lt;!-- æ‰«æçš„æ–¹å¼æš´éœ²æ¥å£ --&gt; &lt;dubbo:annotation package=&quot;com.itheima.controller&quot; /&gt;&lt;/beans&gt; ï¼ˆ6ï¼‰è¿è¡Œæµ‹è¯• tomcat7:runå¯åŠ¨ åœ¨æµè§ˆå™¨è¾“å…¥http://localhost:8082/demo/hello.do?name=Jackï¼ŒæŸ¥çœ‹æµè§ˆå™¨è¾“å‡ºç»“æœ æ€è€ƒä¸€ï¼šä¸Šé¢çš„Dubboå…¥é—¨æ¡ˆä¾‹ä¸­æˆ‘ä»¬æ˜¯å°†HelloServiceæ¥å£ä»æœåŠ¡æä¾›è€…å·¥ç¨‹(dubbodemo_provider)å¤åˆ¶åˆ°æœåŠ¡æ¶ˆè´¹è€…å·¥ç¨‹(dubbodemo_consumer)ä¸­ï¼Œè¿™ç§åšæ³•æ˜¯å¦åˆé€‚ï¼Ÿè¿˜æœ‰æ²¡æœ‰æ›´å¥½çš„æ–¹å¼ï¼Ÿ ç­”ï¼šè¿™ç§åšæ³•æ˜¾ç„¶æ˜¯ä¸å¥½çš„ï¼ŒåŒä¸€ä¸ªæ¥å£è¢«å¤åˆ¶äº†ä¸¤ä»½ï¼Œä¸åˆ©äºåæœŸç»´æŠ¤ã€‚æ›´å¥½çš„æ–¹å¼æ˜¯å•ç‹¬åˆ›å»ºä¸€ä¸ªmavenå·¥ç¨‹ï¼Œå°†æ­¤æ¥å£åˆ›å»ºåœ¨è¿™ä¸ªmavenå·¥ç¨‹ä¸­ã€‚éœ€è¦ä¾èµ–æ­¤æ¥å£çš„å·¥ç¨‹åªéœ€è¦åœ¨è‡ªå·±å·¥ç¨‹çš„pom.xmlæ–‡ä»¶ä¸­å¼•å…¥mavenåæ ‡å³å¯ã€‚ æ€è€ƒäºŒï¼šåœ¨æœåŠ¡æ¶ˆè´¹è€…å·¥ç¨‹(dubbodemo_consumer)ä¸­åªæ˜¯å¼•ç”¨äº†HelloServiceæ¥å£ï¼Œå¹¶æ²¡æœ‰æä¾›å®ç°ç±»ï¼ŒDubboæ˜¯å¦‚ä½•åšåˆ°è¿œç¨‹è°ƒç”¨çš„ï¼Ÿ ç­”ï¼šDubboåº•å±‚æ˜¯åŸºäºä»£ç†æŠ€æœ¯ä¸ºHelloServiceæ¥å£åˆ›å»ºä»£ç†å¯¹è±¡ï¼Œè¿œç¨‹è°ƒç”¨æ˜¯é€šè¿‡æ­¤ä»£ç†å¯¹è±¡å®Œæˆçš„ã€‚å¯ä»¥é€šè¿‡å¼€å‘å·¥å…·çš„debugåŠŸèƒ½æŸ¥çœ‹æ­¤ä»£ç†å¯¹è±¡çš„å†…éƒ¨ç»“æ„ã€‚å¦å¤–ï¼ŒDubboå®ç°ç½‘ç»œä¼ è¾“åº•å±‚æ˜¯åŸºäºNettyæ¡†æ¶å®Œæˆçš„ã€‚ æ€è€ƒä¸‰ï¼šä¸Šé¢çš„Dubboå…¥é—¨æ¡ˆä¾‹ä¸­æˆ‘ä»¬ä½¿ç”¨Zookeeperä½œä¸ºæœåŠ¡æ³¨å†Œä¸­å¿ƒï¼ŒæœåŠ¡æä¾›è€…éœ€è¦å°†è‡ªå·±çš„æœåŠ¡ä¿¡æ¯æ³¨å†Œåˆ°Zookeeperï¼ŒæœåŠ¡æ¶ˆè´¹è€…éœ€è¦ä»Zookeeperè®¢é˜…è‡ªå·±æ‰€éœ€è¦çš„æœåŠ¡ï¼Œæ­¤æ—¶ZookeeperæœåŠ¡å°±å˜å¾—éå¸¸é‡è¦äº†ï¼Œé‚£å¦‚ä½•é˜²æ­¢Zookeeperå•ç‚¹æ•…éšœå‘¢ï¼Ÿ ç­”ï¼šZookeeperå…¶å®æ˜¯æ”¯æŒé›†ç¾¤æ¨¡å¼çš„ï¼Œå¯ä»¥é…ç½®Zookeeperé›†ç¾¤æ¥è¾¾åˆ°ZookeeperæœåŠ¡çš„é«˜å¯ç”¨ï¼Œé˜²æ­¢å‡ºç°å•ç‚¹æ•…éšœã€‚ 5. Dubboç®¡ç†æ§åˆ¶å°æˆ‘ä»¬åœ¨å¼€å‘æ—¶ï¼Œéœ€è¦çŸ¥é“Zookeeperæ³¨å†Œä¸­å¿ƒéƒ½æ³¨å†Œäº†å“ªäº›æœåŠ¡ï¼Œæœ‰å“ªäº›æ¶ˆè´¹è€…æ¥æ¶ˆè´¹è¿™äº›æœåŠ¡ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡éƒ¨ç½²ä¸€ä¸ªç®¡ç†ä¸­å¿ƒæ¥å®ç°ã€‚å…¶å®ç®¡ç†ä¸­å¿ƒå°±æ˜¯ä¸€ä¸ªwebåº”ç”¨ï¼Œéƒ¨ç½²åˆ°tomcatå³å¯ã€‚ 5.1 å®‰è£…å®‰è£…æ­¥éª¤ï¼š ï¼ˆ1ï¼‰å°†èµ„æ–™ä¸­çš„dubbo-admin-2.6.0.waræ–‡ä»¶å¤åˆ¶åˆ°tomcatçš„webappsç›®å½•ä¸‹ ï¼ˆ2ï¼‰å¯åŠ¨tomcatï¼Œæ­¤waræ–‡ä»¶ä¼šè‡ªåŠ¨è§£å‹ ï¼ˆ3ï¼‰ä¿®æ”¹WEB-INFä¸‹çš„dubbo.propertiesæ–‡ä»¶ï¼Œæ³¨æ„dubbo.registry.addresså¯¹åº”çš„å€¼éœ€è¦å¯¹åº”å½“å‰ä½¿ç”¨çš„Zookeeperçš„ipåœ°å€å’Œç«¯å£å· â€‹ dubbo.registry.address=zookeeper://192.168.134.129:2181â€‹ dubbo.admin.root.password=rootâ€‹ dubbo.admin.guest.password=guest ï¼ˆ4ï¼‰é‡å¯tomcat 5.2 ä½¿ç”¨æ“ä½œæ­¥éª¤ï¼š ï¼ˆ1ï¼‰è®¿é—®http://localhost:8080/dubbo-admin-2.6.0/ï¼Œè¾“å…¥ç”¨æˆ·å(root)å’Œå¯†ç (root) ï¼ˆ2ï¼‰å¯åŠ¨æœåŠ¡æä¾›è€…å·¥ç¨‹å’ŒæœåŠ¡æ¶ˆè´¹è€…å·¥ç¨‹ï¼Œå¯ä»¥åœ¨æŸ¥çœ‹åˆ°å¯¹åº”çš„ä¿¡æ¯ 6. Dubboç›¸å…³é…ç½®è¯´æ˜6.1 åŒ…æ‰«æ1&lt;dubbo:annotation package=&quot;com.itheima.service&quot; /&gt; æœåŠ¡æä¾›è€…å’ŒæœåŠ¡æ¶ˆè´¹è€…éƒ½éœ€è¦é…ç½®ï¼Œè¡¨ç¤ºåŒ…æ‰«æï¼Œä½œç”¨æ˜¯æ‰«ææŒ‡å®šåŒ…(åŒ…æ‹¬å­åŒ…)ä¸‹çš„ç±»ã€‚ å¦‚æœä¸ä½¿ç”¨åŒ…æ‰«æï¼Œä¹Ÿå¯ä»¥é€šè¿‡å¦‚ä¸‹é…ç½®çš„æ–¹å¼æ¥å‘å¸ƒæœåŠ¡ï¼š 12&lt;bean id=&quot;helloService&quot; class=&quot;com.itheima.service.impl.HelloServiceImpl&quot; /&gt;&lt;dubbo:service interface=&quot;com.itheima.api.HelloService&quot; ref=&quot;helloService&quot; /&gt; ä½œä¸ºæœåŠ¡æ¶ˆè´¹è€…ï¼Œå¯ä»¥é€šè¿‡å¦‚ä¸‹é…ç½®æ¥å¼•ç”¨æœåŠ¡ï¼š 12&lt;!-- ç”Ÿæˆè¿œç¨‹æœåŠ¡ä»£ç†ï¼Œå¯ä»¥å’Œæœ¬åœ°beanä¸€æ ·ä½¿ç”¨helloService --&gt;&lt;dubbo:reference id=&quot;helloService&quot; interface=&quot;com.itheima.api.HelloService&quot; /&gt; ä¸Šé¢è¿™ç§æ–¹å¼å‘å¸ƒå’Œå¼•ç”¨æœåŠ¡ï¼Œä¸€ä¸ªé…ç½®é¡¹(ã€)åªèƒ½å‘å¸ƒæˆ–è€…å¼•ç”¨ä¸€ä¸ªæœåŠ¡ï¼Œå¦‚æœæœ‰å¤šä¸ªæœåŠ¡ï¼Œè¿™ç§æ–¹å¼å°±æ¯”è¾ƒç¹çäº†ã€‚æ¨èä½¿ç”¨åŒ…æ‰«ææ–¹å¼ã€‚ 6.2 åè®®1&lt;dubbo:protocol name=&quot;dubbo&quot; port=&quot;20880&quot;/&gt; ä¸€èˆ¬åœ¨æœåŠ¡æä¾›è€…ä¸€æ–¹é…ç½®ï¼Œå¯ä»¥æŒ‡å®šä½¿ç”¨çš„åè®®åç§°å’Œç«¯å£å·ã€‚ å…¶ä¸­Dubboæ”¯æŒçš„åè®®æœ‰ï¼šdubboã€rmiã€hessianã€httpã€webserviceã€restã€redisç­‰ã€‚ æ¨èä½¿ç”¨çš„æ˜¯dubboåè®®ã€‚ dubbo åè®®é‡‡ç”¨å•ä¸€é•¿è¿æ¥å’Œ NIO å¼‚æ­¥é€šè®¯ï¼Œé€‚åˆäºå°æ•°æ®é‡å¤§å¹¶å‘çš„æœåŠ¡è°ƒç”¨ï¼Œä»¥åŠæœåŠ¡æ¶ˆè´¹è€…æœºå™¨æ•°è¿œå¤§äºæœåŠ¡æä¾›è€…æœºå™¨æ•°çš„æƒ…å†µã€‚ä¸é€‚åˆä¼ é€å¤§æ•°æ®é‡çš„æœåŠ¡ï¼Œæ¯”å¦‚ä¼ æ–‡ä»¶ï¼Œä¼ è§†é¢‘ç­‰ï¼Œé™¤éè¯·æ±‚é‡å¾ˆä½ã€‚ ä¹Ÿå¯ä»¥åœ¨åŒä¸€ä¸ªå·¥ç¨‹ä¸­é…ç½®å¤šä¸ªåè®®ï¼Œä¸åŒæœåŠ¡å¯ä»¥ä½¿ç”¨ä¸åŒçš„åè®®ï¼Œä¾‹å¦‚ï¼š 1234567&lt;!-- å¤šåè®®é…ç½® --&gt;&lt;dubbo:protocol name=&quot;dubbo&quot; port=&quot;20880&quot; /&gt;&lt;dubbo:protocol name=&quot;rmi&quot; port=&quot;1099&quot; /&gt;&lt;!-- ä½¿ç”¨dubboåè®®æš´éœ²æœåŠ¡ --&gt;&lt;dubbo:service interface=&quot;com.itheima.api.HelloService&quot; ref=&quot;helloService&quot; protocol=&quot;dubbo&quot; /&gt;&lt;!-- ä½¿ç”¨rmiåè®®æš´éœ²æœåŠ¡ --&gt;&lt;dubbo:service interface=&quot;com.itheima.api.DemoService&quot; ref=&quot;demoService&quot; protocol=&quot;rmi&quot; /&gt; 6.3 å¯åŠ¨æ—¶æ£€æŸ¥1&lt;dubbo:consumer check=&quot;false&quot;/&gt; ä¸Šé¢è¿™ä¸ªé…ç½®éœ€è¦é…ç½®åœ¨æœåŠ¡æ¶ˆè´¹è€…ä¸€æ–¹ï¼Œå¦‚æœä¸é…ç½®é»˜è®¤checkå€¼ä¸ºtrueã€‚Dubbo ç¼ºçœä¼šåœ¨å¯åŠ¨æ—¶æ£€æŸ¥ä¾èµ–çš„æœåŠ¡æ˜¯å¦å¯ç”¨ï¼Œä¸å¯ç”¨æ—¶ä¼šæŠ›å‡ºå¼‚å¸¸ï¼Œé˜»æ­¢ Spring åˆå§‹åŒ–å®Œæˆï¼Œä»¥ä¾¿ä¸Šçº¿æ—¶ï¼Œèƒ½åŠæ—©å‘ç°é—®é¢˜ã€‚å¯ä»¥é€šè¿‡å°†checkå€¼æ”¹ä¸ºfalseæ¥å…³é—­æ£€æŸ¥ã€‚ å»ºè®®åœ¨å¼€å‘é˜¶æ®µå°†checkå€¼è®¾ç½®ä¸ºfalseï¼Œåœ¨ç”Ÿäº§ç¯å¢ƒä¸‹æ”¹ä¸ºtrueã€‚ 6.4 è´Ÿè½½å‡è¡¡è´Ÿè½½å‡è¡¡ï¼ˆLoad Balanceï¼‰ï¼šå…¶å®å°±æ˜¯å°†è¯·æ±‚åˆ†æ‘Šåˆ°å¤šä¸ªæ“ä½œå•å…ƒä¸Šè¿›è¡Œæ‰§è¡Œï¼Œä»è€Œå…±åŒå®Œæˆå·¥ä½œä»»åŠ¡ã€‚ åœ¨é›†ç¾¤è´Ÿè½½å‡è¡¡æ—¶ï¼ŒDubbo æä¾›äº†å¤šç§å‡è¡¡ç­–ç•¥ï¼ˆåŒ…æ‹¬éšæœºã€è½®è¯¢ã€æœ€å°‘æ´»è·ƒè°ƒç”¨æ•°ã€ä¸€è‡´æ€§Hashï¼‰ï¼Œç¼ºçœä¸ºrandoméšæœºè°ƒç”¨ã€‚ é…ç½®è´Ÿè½½å‡è¡¡ç­–ç•¥ï¼Œæ—¢å¯ä»¥åœ¨æœåŠ¡æä¾›è€…ä¸€æ–¹é…ç½®ï¼Œä¹Ÿå¯ä»¥åœ¨æœåŠ¡æ¶ˆè´¹è€…ä¸€æ–¹é…ç½®ï¼Œå¦‚ä¸‹ï¼š 12345678910111213141516@Controller@RequestMapping(&quot;/demo&quot;)public class HelloController { //åœ¨æœåŠ¡æ¶ˆè´¹è€…ä¸€æ–¹é…ç½®è´Ÿè½½å‡è¡¡ç­–ç•¥ @Reference(check = false,loadbalance = &quot;random&quot;) private HelloService helloService; @RequestMapping(&quot;/hello&quot;) @ResponseBody public String getName(String name){ //è¿œç¨‹è°ƒç”¨ String result = helloService.sayHello(name); System.out.println(result); return result; }} 1234567//åœ¨æœåŠ¡æä¾›è€…ä¸€æ–¹é…ç½®è´Ÿè½½å‡è¡¡@Service(loadbalance = &quot;random&quot;)public class HelloServiceImpl implements HelloService { public String sayHello(String name) { return &quot;hello &quot; + name; }} å¯ä»¥é€šè¿‡å¯åŠ¨å¤šä¸ªæœåŠ¡æä¾›è€…æ¥è§‚å¯ŸDubboè´Ÿè½½å‡è¡¡æ•ˆæœã€‚ æ³¨æ„ï¼šå› ä¸ºæˆ‘ä»¬æ˜¯åœ¨ä¸€å°æœºå™¨ä¸Šå¯åŠ¨å¤šä¸ªæœåŠ¡æä¾›è€…ï¼Œæ‰€ä»¥éœ€è¦ä¿®æ”¹tomcatçš„ç«¯å£å·å’ŒDubboæœåŠ¡çš„ç«¯å£å·æ¥é˜²æ­¢ç«¯å£å†²çªã€‚ åœ¨å®é™…ç”Ÿäº§ç¯å¢ƒä¸­ï¼Œå¤šä¸ªæœåŠ¡æä¾›è€…æ˜¯åˆ†åˆ«éƒ¨ç½²åœ¨ä¸åŒçš„æœºå™¨ä¸Šï¼Œæ‰€ä»¥ä¸å­˜åœ¨ç«¯å£å†²çªé—®é¢˜ã€‚ 7. è§£å†³Dubboæ— æ³•å‘å¸ƒè¢«äº‹åŠ¡ä»£ç†çš„Serviceé—®é¢˜å‰é¢æˆ‘ä»¬å·²ç»å®Œæˆäº†Dubboçš„å…¥é—¨æ¡ˆä¾‹ï¼Œé€šè¿‡å…¥é—¨æ¡ˆä¾‹æˆ‘ä»¬å¯ä»¥çœ‹åˆ°é€šè¿‡Dubboæä¾›çš„æ ‡ç­¾é…ç½®å°±å¯ä»¥è¿›è¡ŒåŒ…æ‰«æï¼Œæ‰«æåˆ°@Serviceæ³¨è§£çš„ç±»å°±å¯ä»¥è¢«å‘å¸ƒä¸ºæœåŠ¡ã€‚ ä½†æ˜¯æˆ‘ä»¬å¦‚æœåœ¨æœåŠ¡æä¾›è€…ç±»ä¸ŠåŠ å…¥@Transactionaläº‹åŠ¡æ§åˆ¶æ³¨è§£åï¼ŒæœåŠ¡å°±å‘å¸ƒä¸æˆåŠŸäº†ã€‚åŸå› æ˜¯äº‹åŠ¡æ§åˆ¶çš„åº•å±‚åŸç†æ˜¯ä¸ºæœåŠ¡æä¾›è€…ç±»åˆ›å»ºä»£ç†å¯¹è±¡ï¼Œè€Œé»˜è®¤æƒ…å†µä¸‹Springæ˜¯åŸºäºJDKåŠ¨æ€ä»£ç†æ–¹å¼åˆ›å»ºä»£ç†å¯¹è±¡ï¼Œè€Œæ­¤ä»£ç†å¯¹è±¡çš„å®Œæ•´ç±»åä¸ºcom.sun.proxy.$Proxy42ï¼ˆæœ€åä¸¤ä½æ•°å­—ä¸æ˜¯å›ºå®šçš„ï¼‰ï¼Œå¯¼è‡´Dubboåœ¨å‘å¸ƒæœåŠ¡å‰è¿›è¡ŒåŒ…åŒ¹é…æ—¶æ— æ³•å®ŒæˆåŒ¹é…ï¼Œè¿›è€Œæ²¡æœ‰è¿›è¡ŒæœåŠ¡çš„å‘å¸ƒã€‚ 7.1 é—®é¢˜å±•ç¤ºåœ¨å…¥é—¨æ¡ˆä¾‹çš„æœåŠ¡æä¾›è€…dubbodemo_providerå·¥ç¨‹åŸºç¡€ä¸Šè¿›è¡Œå±•ç¤º æ“ä½œæ­¥éª¤ï¼š ï¼ˆ1ï¼‰åœ¨pom.xmlæ–‡ä»¶ä¸­å¢åŠ mavenåæ ‡ 123456789101112131415&lt;dependency&gt; &lt;groupId&gt;mysql&lt;/groupId&gt; &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt; &lt;version&gt;5.1.47&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt; &lt;groupId&gt;com.alibaba&lt;/groupId&gt; &lt;artifactId&gt;druid&lt;/artifactId&gt; &lt;version&gt;1.1.6&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt; &lt;groupId&gt;org.mybatis&lt;/groupId&gt; &lt;artifactId&gt;mybatis-spring&lt;/artifactId&gt; &lt;version&gt;1.3.2&lt;/version&gt;&lt;/dependency&gt; ï¼ˆ2ï¼‰åœ¨applicationContext-service.xmlé…ç½®æ–‡ä»¶ä¸­åŠ å…¥æ•°æ®æºã€äº‹åŠ¡ç®¡ç†å™¨ã€å¼€å¯äº‹åŠ¡æ³¨è§£çš„ç›¸å…³é…ç½® 1234567891011121314&lt;!--æ•°æ®æº--&gt;&lt;bean id=&quot;dataSource&quot; class=&quot;com.alibaba.druid.pool.DruidDataSource&quot; destroy-method=&quot;close&quot;&gt; &lt;property name=&quot;username&quot; value=&quot;root&quot; /&gt; &lt;property name=&quot;password&quot; value=&quot;root&quot; /&gt; &lt;property name=&quot;driverClassName&quot; value=&quot;com.mysql.jdbc.Driver&quot; /&gt; &lt;property name=&quot;url&quot; value=&quot;jdbc:mysql://localhost:3306/test&quot; /&gt;&lt;/bean&gt;&lt;!-- äº‹åŠ¡ç®¡ç†å™¨ --&gt;&lt;bean id=&quot;transactionManager&quot; class=&quot;org.springframework.jdbc.datasource.DataSourceTransactionManager&quot;&gt; &lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot;/&gt;&lt;/bean&gt;&lt;!--å¼€å¯äº‹åŠ¡æ§åˆ¶çš„æ³¨è§£æ”¯æŒ--&gt;&lt;tx:annotation-driven transaction-manager=&quot;transactionManager&quot;/&gt; ä¸Šé¢è¿æ¥çš„æ•°æ®åº“å¯ä»¥è‡ªè¡Œåˆ›å»º ï¼ˆ3ï¼‰åœ¨HelloServiceImplç±»ä¸ŠåŠ å…¥@Transactionalæ³¨è§£ ï¼ˆ4ï¼‰å¯åŠ¨æœåŠ¡æä¾›è€…å’ŒæœåŠ¡æ¶ˆè´¹è€…ï¼Œå¹¶è®¿é—® ä¸Šé¢çš„é”™è¯¯ä¸ºæ²¡æœ‰å¯ç”¨çš„æœåŠ¡æä¾›è€… æŸ¥çœ‹dubboç®¡ç†æ§åˆ¶å°å‘ç°æœåŠ¡å¹¶æ²¡æœ‰å‘å¸ƒï¼Œå¦‚ä¸‹ï¼š å¯ä»¥é€šè¿‡æ–­ç‚¹è°ƒè¯•çš„æ–¹å¼æŸ¥çœ‹Dubboæ‰§è¡Œè¿‡ç¨‹ï¼ŒDubboé€šè¿‡AnnotationBeançš„postProcessAfterInitializationæ–¹æ³•è¿›è¡Œå¤„ç† 7.2 è§£å†³æ–¹æ¡ˆé€šè¿‡ä¸Šé¢çš„æ–­ç‚¹è°ƒè¯•å¯ä»¥çœ‹åˆ°ï¼Œåœ¨HelloServiceImplç±»ä¸ŠåŠ å…¥äº‹åŠ¡æ³¨è§£åï¼ŒSpringä¼šä¸ºæ­¤ç±»åŸºäºJDKåŠ¨æ€ä»£ç†æŠ€æœ¯åˆ›å»ºä»£ç†å¯¹è±¡ï¼Œåˆ›å»ºçš„ä»£ç†å¯¹è±¡å®Œæ•´ç±»åä¸ºcom.sun.proxy.$Proxy35ï¼Œå¯¼è‡´Dubboåœ¨è¿›è¡ŒåŒ…åŒ¹é…æ—¶æ²¡æœ‰æˆåŠŸï¼ˆå› ä¸ºæˆ‘ä»¬åœ¨å‘å¸ƒæœåŠ¡æ—¶æ‰«æçš„åŒ…ä¸ºcom.itheima.serviceï¼‰ï¼Œæ‰€ä»¥åé¢çœŸæ­£å‘å¸ƒæœåŠ¡çš„ä»£ç æ²¡æœ‰æ‰§è¡Œã€‚ è§£å†³æ–¹å¼æ“ä½œæ­¥éª¤ï¼š ï¼ˆ1ï¼‰ä¿®æ”¹applicationContext-service.xmlé…ç½®æ–‡ä»¶ï¼Œå¼€å¯äº‹åŠ¡æ§åˆ¶æ³¨è§£æ”¯æŒæ—¶æŒ‡å®šproxy-target-classå±æ€§ï¼Œå€¼ä¸ºtrueã€‚å…¶ä½œç”¨æ˜¯ä½¿ç”¨cglibä»£ç†æ–¹å¼ä¸ºServiceç±»åˆ›å»ºä»£ç†å¯¹è±¡ 12&lt;!--å¼€å¯äº‹åŠ¡æ§åˆ¶çš„æ³¨è§£æ”¯æŒ--&gt;&lt;tx:annotation-driven transaction-manager=&quot;transactionManager&quot; proxy-target-class=&quot;true&quot;/&gt; ï¼ˆ2ï¼‰ä¿®æ”¹HelloServiceImplç±»ï¼Œåœ¨Serviceæ³¨è§£ä¸­åŠ å…¥interfaceClasså±æ€§ï¼Œå€¼ä¸ºHelloService.classï¼Œä½œç”¨æ˜¯æŒ‡å®šæœåŠ¡çš„æ¥å£ç±»å‹ 1234567@Service(interfaceClass = HelloService.class)@Transactionalpublic class HelloServiceImpl implements HelloService { public String sayHello(String name) { return &quot;hello &quot; + name; }} æ­¤å¤„ä¹Ÿæ˜¯å¿…é¡»è¦ä¿®æ”¹çš„ï¼Œå¦åˆ™ä¼šå¯¼è‡´å‘å¸ƒçš„æœåŠ¡æ¥å£ä¸ºSpringProxyï¼Œè€Œä¸æ˜¯HelloServiceæ¥å£ï¼Œå¦‚ä¸‹ï¼š","link":"/2021/02/24/Draft/2021/Dubbo/"},{"title":"SpringCloud","text":"æ–°å­¦å››é—®WHYã€ä¸å‰ä»£ä¼˜åŒ–äº†ä»€ä¹ˆï¼Œå¼¥è¡¥äº†ä»€ä¹ˆç©ºç™½ã€‘å¾®æœåŠ¡ï¼Œä¸»æµWHATã€æ¡†æ¶ï¼Œæ€ç»´å¯¼å›¾ï¼Œä¸»é¢˜æ¡†æ¶ã€‘eurekaæ³¨å†Œä¸­å¿ƒï¼ŒGatewayç½‘å…³ï¼ŒRibbonè´Ÿè½½å‡è¡¡ï¼ŒFeignæœåŠ¡è°ƒç”¨ï¼ŒHystrixç†”æ–­å™¨ç­‰ï¼ŒspringcloudalibabaHOWã€å¦‚ä½•è®°å¿†ï¼Œå­¦ä¹ èµ„æºã€‘:bilibiliï¼Œå®˜ç½‘LEVELã€ä¸æ˜¯æ¯ä¸ªéƒ½å­¦ç²¾ã€‘å½“å‰é˜¶æ®µç†Ÿç»ƒè¿ç”¨ Spring Cloud ã€Hoxtonã€‘ç®€ä»‹1. ç³»ç»Ÿæ¶æ„æ¼”å˜ éšç€äº’è”ç½‘çš„å‘å±•ï¼Œç½‘ç«™åº”ç”¨çš„è§„æ¨¡ä¸æ–­æ‰©å¤§ã€‚éœ€æ±‚çš„æ¿€å¢ï¼Œå¸¦æ¥çš„æ˜¯æŠ€æœ¯ä¸Šçš„å‹åŠ›ã€‚ç³»ç»Ÿæ¶æ„ä¹Ÿå› æ­¤ä¹Ÿä¸æ–­çš„æ¼” è¿›ã€å‡çº§ã€è¿­ä»£ã€‚ä»å•ä¸€åº”ç”¨ï¼Œåˆ°å‚ç›´æ‹†åˆ†ï¼Œåˆ°åˆ†å¸ƒå¼æœåŠ¡ï¼Œåˆ°SOAï¼Œä»¥åŠç°åœ¨ç«çƒ­çš„å¾®æœåŠ¡æ¶æ„ï¼Œè¿˜æœ‰åœ¨Google å¸¦é¢†ä¸‹æ¥åŠ¿æ±¹æ¶Œçš„Service Meshã€‚ 1.1. é›†ä¸­å¼æ¶æ„ å½“ç½‘ç«™æµé‡å¾ˆå°æ—¶ï¼Œåªéœ€ä¸€ä¸ªåº”ç”¨ï¼Œå°†æ‰€æœ‰åŠŸèƒ½éƒ½éƒ¨ç½²åœ¨ä¸€èµ·ï¼Œä»¥å‡å°‘éƒ¨ç½²èŠ‚ç‚¹å’Œæˆæœ¬ã€‚ ä¼˜ç‚¹ï¼š ç³»ç»Ÿå¼€å‘é€Ÿåº¦å¿« ç»´æŠ¤æˆæœ¬ä½ é€‚ç”¨äºå¹¶å‘è¦æ±‚è¾ƒä½çš„ç³»ç»Ÿ ç¼ºç‚¹ï¼š ä»£ç è€¦åˆåº¦é«˜ï¼ŒåæœŸç»´æŠ¤å›°éš¾ æ— æ³•é’ˆå¯¹ä¸åŒæ¨¡å—è¿›è¡Œé’ˆå¯¹æ€§ä¼˜åŒ– æ— æ³•æ°´å¹³æ‰©å±• å•ç‚¹å®¹é”™ç‡ä½ï¼Œå¹¶å‘èƒ½åŠ›å·® 1.2. å‚ç›´æ‹†åˆ† â€‹ å½“è®¿é—®é‡é€æ¸å¢å¤§ï¼Œå•ä¸€åº”ç”¨æ— æ³•æ»¡è¶³éœ€æ±‚ï¼Œæ­¤æ—¶ä¸ºäº†åº”å¯¹æ›´é«˜çš„å¹¶å‘å’Œä¸šåŠ¡éœ€æ±‚ï¼Œæˆ‘ä»¬æ ¹æ®ä¸šåŠ¡åŠŸèƒ½å¯¹ç³»ç»Ÿè¿›è¡Œæ‹† åˆ†ï¼š ä¼˜ç‚¹ï¼š ç³»ç»Ÿæ‹†åˆ†å®ç°äº†æµé‡åˆ†æ‹…ï¼Œè§£å†³äº†å¹¶å‘é—®é¢˜ å¯ä»¥é’ˆå¯¹ä¸åŒæ¨¡å—è¿›è¡Œä¼˜åŒ– æ–¹ä¾¿æ°´å¹³æ‰©å±•ï¼Œè´Ÿè½½å‡è¡¡ï¼Œå®¹é”™ç‡æé«˜ç¼ºç‚¹ï¼š ç³»ç»Ÿé—´ç›¸äº’ç‹¬ç«‹ï¼Œä¼šæœ‰å¾ˆå¤šé‡å¤å¼€å‘å·¥ä½œï¼Œå½±å“å¼€å‘æ•ˆç‡ 1.3. åˆ†å¸ƒå¼æœåŠ¡â€‹ å½“å‚ç›´åº”ç”¨è¶Šæ¥è¶Šå¤šï¼Œåº”ç”¨ä¹‹é—´äº¤äº’ä¸å¯é¿å…ï¼Œå°†æ ¸å¿ƒä¸šåŠ¡æŠ½å–å‡ºæ¥ï¼Œä½œä¸ºç‹¬ç«‹çš„æœåŠ¡ï¼Œé€æ¸å½¢æˆç¨³å®šçš„æœåŠ¡ä¸­å¿ƒï¼Œä½¿å‰ç«¯åº”ç”¨èƒ½æ›´å¿«é€Ÿçš„å“åº”å¤šå˜çš„å¸‚åœºéœ€æ±‚ã€‚ ä¼˜ç‚¹ï¼š å°†åŸºç¡€æœåŠ¡è¿›è¡Œäº†æŠ½å–ï¼Œç³»ç»Ÿé—´ç›¸äº’è°ƒç”¨ï¼Œæé«˜äº†ä»£ç å¤ç”¨å’Œå¼€å‘æ•ˆç‡ç¼ºç‚¹ï¼š ç³»ç»Ÿé—´è€¦åˆåº¦å˜é«˜ï¼Œè°ƒç”¨å…³ç³»é”™ç»¼å¤æ‚ï¼Œéš¾ä»¥ç»´æŠ¤ 1.4. é¢å‘æœåŠ¡æ¶æ„ï¼ˆSOAï¼‰â€‹ SOAï¼ˆService Oriented Architectureï¼‰é¢å‘æœåŠ¡çš„æ¶æ„ï¼šå®ƒæ˜¯ä¸€ç§è®¾è®¡æ–¹æ³•ï¼Œå…¶ä¸­åŒ…å«å¤šä¸ªæœåŠ¡ï¼Œ æœåŠ¡ä¹‹é—´é€šè¿‡ç›¸äº’ä¾èµ–æœ€ç»ˆæä¾›ä¸€ç³»åˆ—çš„åŠŸèƒ½ã€‚ä¸€ä¸ªæœåŠ¡ é€šå¸¸ä»¥ç‹¬ç«‹çš„å½¢å¼å­˜åœ¨ä¸æ“ä½œç³»ç»Ÿè¿›ç¨‹ä¸­ã€‚å„ä¸ªæœåŠ¡ä¹‹é—´ é€šè¿‡ç½‘ç»œè°ƒç”¨ã€‚SOAç»“æ„å›¾ï¼š ESBï¼ˆä¼ä¸šæœåŠ¡æ€»çº¿ï¼‰ï¼Œç®€å• æ¥è¯´ ESB å°±æ˜¯ä¸€æ ¹ç®¡é“ï¼Œç”¨æ¥è¿æ¥å„ä¸ªæœåŠ¡èŠ‚ç‚¹ã€‚ä¸ºäº†é›† æˆä¸åŒç³»ç»Ÿï¼Œä¸åŒåè®®çš„æœåŠ¡ï¼ŒESB åšäº†æ¶ˆæ¯çš„è½¬åŒ–è§£é‡Šå’Œè·¯ç”±å·¥ä½œï¼Œè®©ä¸åŒçš„æœåŠ¡äº’è”äº’é€šã€‚ SOAç¼ºç‚¹ï¼šæ¯ä¸ªä¾›åº”å•†æä¾›çš„ESBäº§å“æœ‰åå·®ï¼Œè‡ªèº«å®ç°è¾ƒä¸ºå¤æ‚ï¼›åº”ç”¨æœåŠ¡ç²’åº¦è¾ƒå¤§ï¼ŒESBé›†æˆæ•´åˆæ‰€æœ‰æœåŠ¡å’Œåè®®ã€æ•°æ®è½¬æ¢ä½¿å¾—è¿ç»´ã€æµ‹è¯•éƒ¨ç½²å›°éš¾ã€‚æ‰€æœ‰æœåŠ¡éƒ½é€šè¿‡ä¸€ä¸ªé€šè·¯é€šä¿¡ï¼Œç›´æ¥é™ä½äº†é€šä¿¡é€Ÿåº¦ã€‚ 1.5. å¾®æœåŠ¡æ¶æ„â€‹ å¾®æœåŠ¡æ¶æ„æ˜¯ä½¿ç”¨ä¸€å¥—å°æœåŠ¡æ¥å¼€å‘å•ä¸ªåº”ç”¨çš„æ–¹å¼æˆ–é€”å¾„ï¼Œæ¯ä¸ªæœåŠ¡åŸºäºå•ä¸€ä¸šåŠ¡èƒ½åŠ›æ„å»ºï¼Œè¿è¡Œåœ¨è‡ªå·±çš„è¿›ç¨‹ä¸­ï¼Œå¹¶ä½¿ç”¨è½»é‡çº§æœºåˆ¶é€šä¿¡ï¼Œé€šå¸¸æ˜¯HTTP APIï¼Œå¹¶èƒ½å¤Ÿé€šè¿‡è‡ªåŠ¨åŒ–éƒ¨ç½²æœºåˆ¶æ¥ç‹¬ç«‹éƒ¨ç½²ã€‚è¿™äº›æœåŠ¡å¯ä»¥ä½¿ç”¨ä¸åŒçš„ç¼–ç¨‹è¯­è¨€å®ç°ï¼Œä»¥åŠä¸åŒæ•°æ®å­˜å‚¨æŠ€æœ¯ï¼Œå¹¶ä¿æŒæœ€ä½é™åº¦çš„é›†ä¸­å¼ç®¡ç†ã€‚å¾®æœåŠ¡ç»“æ„å›¾ï¼š API Gatewayç½‘å…³æ˜¯ä¸€ä¸ªæœåŠ¡å™¨ï¼Œæ˜¯ç³»ç»Ÿçš„å”¯ä¸€å…¥å£ã€‚ä¸ºæ¯ä¸ªå®¢æˆ·ç«¯æä¾›ä¸€ä¸ªå®šåˆ¶çš„APIã€‚APIç½‘å…³æ ¸å¿ƒæ˜¯ï¼Œæ‰€æœ‰çš„å®¢æˆ·ç«¯å’Œæ¶ˆè´¹ç«¯éƒ½é€šè¿‡ç»Ÿä¸€çš„ç½‘å…³æ¥å…¥å¾®æœåŠ¡ï¼Œåœ¨ç½‘å…³å±‚å¤„ç†æ‰€æœ‰çš„éä¸šåŠ¡åŠŸèƒ½ã€‚å¦‚å®ƒè¿˜å¯ä»¥å…·æœ‰å…¶å®ƒèŒè´£ï¼Œå¦‚èº«ä»½éªŒè¯ã€ç›‘æ§ã€è´Ÿè½½å‡è¡¡ã€ç¼“å­˜ã€è¯·æ±‚åˆ†ç‰‡ä¸ç®¡ç†ã€é™æ€å“åº”å¤„ç†ã€‚é€šå¸¸ï¼Œç½‘å…³æä¾›RESTful/HTTPçš„æ–¹å¼è®¿é—®æœåŠ¡ã€‚è€ŒæœåŠ¡ç«¯é€šè¿‡æœåŠ¡æ³¨å†Œä¸­å¿ƒè¿›è¡ŒæœåŠ¡æ³¨å†Œå’Œç®¡ç†ã€‚ å¾®æœåŠ¡çš„ç‰¹ç‚¹ï¼šå•ä¸€èŒè´£ï¼šå¾®æœåŠ¡ä¸­æ¯ä¸€ä¸ªæœåŠ¡éƒ½å¯¹åº”å”¯ä¸€çš„ä¸šåŠ¡èƒ½åŠ›ï¼Œåšåˆ°å•ä¸€èŒè´£å¾®ï¼šå¾®æœåŠ¡çš„æœåŠ¡æ‹†åˆ†ç²’åº¦å¾ˆå°ï¼Œä¾‹å¦‚ä¸€ä¸ªç”¨æˆ·ç®¡ç†å°±å¯ä»¥ä½œä¸ºä¸€ä¸ªæœåŠ¡ã€‚æ¯ä¸ªæœåŠ¡è™½å°ï¼Œä½†â€œäº”è„ä¿±å…¨â€ã€‚é¢å‘æœåŠ¡ï¼šé¢å‘æœåŠ¡æ˜¯è¯´æ¯ä¸ªæœåŠ¡éƒ½è¦å¯¹å¤–æš´éœ²Resté£æ ¼æœåŠ¡æ¥å£APIã€‚å¹¶ä¸å…³å¿ƒæœåŠ¡çš„æŠ€æœ¯å®ç°ï¼Œåšåˆ°ä¸å¹³å°å’Œè¯­è¨€æ— å…³ï¼Œä¹Ÿä¸é™å®šç”¨ä»€ä¹ˆæŠ€æœ¯å®ç°ï¼Œåªè¦æä¾›Restçš„æ¥å£å³å¯ã€‚è‡ªæ²»ï¼šè‡ªæ²»æ˜¯è¯´æœåŠ¡é—´äº’ç›¸ç‹¬ç«‹ï¼Œäº’ä¸å¹²æ‰° å›¢é˜Ÿç‹¬ç«‹ï¼šæ¯ä¸ªæœåŠ¡éƒ½æ˜¯ä¸€ä¸ªç‹¬ç«‹çš„å¼€å‘å›¢é˜Ÿï¼Œäººæ•°ä¸èƒ½è¿‡å¤šã€‚ æŠ€æœ¯ç‹¬ç«‹ï¼šå› ä¸ºæ˜¯é¢å‘æœåŠ¡ï¼Œæä¾›Restæ¥å£ï¼Œä½¿ç”¨ä»€ä¹ˆæŠ€æœ¯æ²¡æœ‰åˆ«äººå¹²æ¶‰ å‰åç«¯åˆ†ç¦»ï¼šé‡‡ç”¨å‰åç«¯åˆ†ç¦»å¼€å‘ï¼Œæä¾›ç»Ÿä¸€Restæ¥å£ï¼Œåç«¯ä¸ç”¨å†ä¸ºPCã€ç§»åŠ¨ç«¯å¼€ å‘ä¸åŒæ¥å£ æ•°æ®åº“åˆ†ç¦»ï¼šæ¯ä¸ªæœåŠ¡éƒ½ä½¿ç”¨è‡ªå·±çš„æ•°æ®æº éƒ¨ç½²ç‹¬ç«‹ï¼šæœåŠ¡é—´è™½ç„¶æœ‰è°ƒç”¨ï¼Œä½†è¦åšåˆ°æœåŠ¡é‡å¯ä¸å½±å“å…¶å®ƒæœåŠ¡ã€‚æœ‰åˆ©äºæŒç»­é›†æˆå’Œ æŒç»­äº¤ä»˜ã€‚æ¯ä¸ªæœåŠ¡éƒ½æ˜¯ç‹¬ç«‹çš„ç»„ä»¶ï¼Œå¯å¤ç”¨ï¼Œå¯æ›¿æ¢ï¼Œé™ä½è€¦åˆï¼Œæ˜“ç»´æŠ¤ å¾®æœåŠ¡æ¶æ„ä¸SOAéƒ½æ˜¯å¯¹ç³»ç»Ÿè¿›è¡Œæ‹†åˆ†ï¼›å¾®æœåŠ¡æ¶æ„åŸºäºSOAæ€æƒ³ï¼Œå¯ä»¥æŠŠå¾®æœåŠ¡å½“åšå»é™¤äº†ESBçš„SOAã€‚ESBæ˜¯SOAæ¶æ„ä¸­çš„ä¸­å¿ƒæ€»çº¿ï¼Œè®¾è®¡å›¾å½¢åº”è¯¥æ˜¯æ˜Ÿå½¢çš„ï¼Œè€Œå¾®æœåŠ¡æ˜¯å»ä¸­å¿ƒåŒ–çš„åˆ†å¸ƒå¼è½¯ä»¶æ¶æ„ã€‚ä¸¤è€…æ¯”è¾ƒç±»ä¼¼ï¼Œä½†å…¶å®ä¹Ÿæœ‰ä¸€äº›å·®åˆ«ï¼š 2. æœåŠ¡è°ƒç”¨æ–¹å¼2.1. RPCå’ŒHTTPæ— è®ºæ˜¯å¾®æœåŠ¡è¿˜æ˜¯SOAï¼Œéƒ½é¢ä¸´ç€æœåŠ¡é—´çš„è¿œç¨‹è°ƒç”¨ã€‚é‚£ä¹ˆæœåŠ¡é—´çš„è¿œç¨‹è°ƒç”¨æ–¹å¼æœ‰å“ªäº›å‘¢ï¼Ÿå¸¸è§çš„è¿œç¨‹è°ƒç”¨æ–¹å¼æœ‰ä»¥ä¸‹2ç§ï¼š RPCï¼šRemote Produce Callè¿œç¨‹è¿‡ç¨‹è°ƒç”¨ï¼ŒRPCåŸºäºSocketï¼Œå·¥ä½œåœ¨ä¼šè¯å±‚ã€‚è‡ªå®šä¹‰æ•°æ®æ ¼å¼ï¼Œé€Ÿåº¦å¿«ï¼Œæ•ˆç‡é«˜ã€‚æ—©æœŸçš„webserviceï¼Œç°åœ¨çƒ­é—¨çš„dubboï¼Œéƒ½æ˜¯RPCçš„å…¸å‹ä»£è¡¨ Httpï¼šhttpå…¶å®æ˜¯ä¸€ç§ç½‘ç»œä¼ è¾“åè®®ï¼ŒåŸºäºTCPï¼Œå·¥ä½œåœ¨åº”ç”¨å±‚ï¼Œè§„å®šäº†æ•°æ®ä¼ è¾“çš„æ ¼å¼ã€‚ç°åœ¨å®¢æˆ·ç«¯æµè§ˆå™¨ä¸æœåŠ¡ç«¯é€šä¿¡åŸºæœ¬éƒ½æ˜¯é‡‡ç”¨Httpåè®®ï¼Œä¹Ÿå¯ä»¥ç”¨æ¥è¿›è¡Œè¿œç¨‹æœåŠ¡è°ƒç”¨ã€‚ç¼ºç‚¹æ˜¯æ¶ˆæ¯å°è£…è‡ƒè‚¿ï¼Œä¼˜åŠ¿æ˜¯å¯¹æœåŠ¡çš„æä¾›å’Œè°ƒç”¨æ–¹æ²¡æœ‰ä»»ä½•æŠ€æœ¯é™å®šï¼Œè‡ªç”±çµæ´»ï¼Œæ›´ç¬¦åˆå¾®æœåŠ¡ç†å¿µã€‚ ç°åœ¨çƒ­é—¨çš„Resté£æ ¼ï¼Œå°±å¯ä»¥é€šè¿‡httpåè®®æ¥å®ç°ã€‚åŒºåˆ«ï¼šRPCçš„æœºåˆ¶æ˜¯æ ¹æ®è¯­è¨€çš„APIï¼ˆlanguage APIï¼‰æ¥å®šä¹‰çš„ï¼Œè€Œä¸æ˜¯æ ¹æ®åŸºäºç½‘ç»œçš„åº”ç”¨æ¥å®šä¹‰çš„ã€‚å¦‚æœä½ ä»¬å…¬å¸å…¨éƒ¨é‡‡ç”¨JavaæŠ€æœ¯æ ˆï¼Œé‚£ä¹ˆä½¿ç”¨Dubboä½œä¸ºå¾®æœåŠ¡æ¶æ„æ˜¯ä¸€ä¸ªä¸é”™çš„é€‰æ‹©ã€‚ç›¸åï¼Œå¦‚æœå…¬å¸çš„æŠ€æœ¯æ ˆå¤šæ ·åŒ–ï¼Œè€Œä¸”ä½ æ›´é’çSpringå®¶æ—ï¼Œé‚£ä¹ˆSpring Cloudæ­å»ºå¾®æœåŠ¡æ˜¯ä¸äºŒä¹‹é€‰ã€‚åœ¨æˆ‘ä»¬çš„é¡¹ç›®ä¸­ï¼Œä¼šé€‰æ‹©Spring Cloudå¥—ä»¶ï¼Œå› æ­¤ä¼šä½¿ç”¨Httpæ–¹å¼æ¥å®ç°æœåŠ¡é—´è°ƒç”¨ã€‚ 2.2. Httpå®¢æˆ·ç«¯å·¥å…·æ—¢ç„¶å¾®æœåŠ¡é€‰æ‹©äº†Httpï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±éœ€è¦è€ƒè™‘è‡ªå·±æ¥å®ç°å¯¹è¯·æ±‚å’Œå“åº”çš„å¤„ç†ã€‚ä¸è¿‡å¼€æºä¸–ç•Œå·²ç»æœ‰å¾ˆå¤šçš„httpå®¢æˆ·ç«¯å·¥å…·ï¼Œèƒ½å¤Ÿå¸®åŠ©æˆ‘ä»¬åšè¿™äº›äº‹æƒ…ï¼Œä¾‹å¦‚ï¼šHttpClientOKHttpURLConnectionä¸è¿‡è¿™äº›ä¸åŒçš„å®¢æˆ·ç«¯ï¼ŒAPIå„ä¸ç›¸åŒã€‚è€ŒSpringä¹Ÿæœ‰å¯¹httpçš„å®¢æˆ·ç«¯è¿›è¡Œå°è£…ï¼Œæä¾›äº†å·¥å…·ç±»å«RestTemplateã€‚ 2.3. Springçš„RestTemplateSpringæä¾›äº†ä¸€ä¸ªRestTemplateæ¨¡æ¿å·¥å…·ç±»ï¼Œå¯¹åŸºäºHttpçš„å®¢æˆ·ç«¯è¿›è¡Œäº†å°è£…ï¼Œå¹¶ä¸”å®ç°äº†å¯¹è±¡ä¸jsonçš„åºåˆ—åŒ–å’Œååºåˆ—åŒ–ï¼Œéå¸¸æ–¹ä¾¿ã€‚RestTemplateå¹¶æ²¡æœ‰é™å®šHttpçš„å®¢æˆ·ç«¯ç±»å‹ï¼Œè€Œæ˜¯è¿›è¡Œäº†æŠ½è±¡ï¼Œç›®å‰å¸¸ç”¨çš„3ç§éƒ½æœ‰æ”¯æŒï¼šHttpClientOkHttpJDKåŸç”Ÿçš„URLConnectionï¼ˆé»˜è®¤çš„ï¼‰ 3.Springcloudç»¼è¿°ç‰ˆæœ¬å‘½åï¼šä¼¦æ•¦åœ°é“ç«™å­—æ¯é¡ºåº å®éªŒç¯å¢ƒ åœæ›´ã€å‡çº§ã€æ›¿æ¢ çˆ¶å·¥ç¨‹åˆ›å»ºåˆ›å»ºå·¥ç¨‹å‰å‡†å¤‡ çº¦å®šã€‹é…ç½®ã€‹ç¼–ç  ç¼–ç UTF-8å…¨å¥—ä½œç”¨ æ³¨è§£ç”Ÿæ•ˆæ¿€æ´»ä½œç”¨ JAVAç¼–è¯‘ç‰ˆæœ¬ æ–‡ä»¶è¿‡æ»¤ä½œç”¨ï¼Œå…³é—­å¯¹åº”æ–‡ä»¶ideaå¯è§ Eurekaã€å¤§æ¥¼è€æ¿ã€‘Spring Cloud [Finchley]â€‹ ä¸€ç³»åˆ—æ¡†æ¶æœ‰åºé›†åˆï¼Œå°è£…åå±è”½äº†å¤æ‚çš„é…ç½®å’Œå®ç°åŸç†ã€‚Spring Cloudä¸ºå¼€å‘äººå‘˜æä¾›äº†å·¥å…·ï¼Œä»¥å¿«é€Ÿæ„å»ºåˆ†å¸ƒå¼ç³»ç»Ÿä¸­çš„ä¸€äº›å¸¸è§æ¨¡å¼ï¼ˆä¾‹å¦‚ï¼Œé…ç½®ç®¡ç†ï¼ŒæœåŠ¡å‘ç°ï¼Œæ–­è·¯å™¨ï¼Œæ™ºèƒ½è·¯ç”±ï¼Œå¾®ä»£ç†ï¼Œæ§åˆ¶æ€»çº¿ï¼Œä¸€æ¬¡æ€§ä»¤ç‰Œï¼Œå…¨å±€é”ï¼Œé¢†å¯¼é€‰ä¸¾ï¼Œåˆ†å¸ƒå¼ä¼šè¯ï¼Œç¾¤é›†çŠ¶æ€ï¼‰ã€‚åˆ†å¸ƒå¼ç³»ç»Ÿçš„åè°ƒå¯¼è‡´æ ·æ¿å¼æ ·ï¼Œå¹¶ä¸”ä½¿ç”¨Spring Cloudå¼€å‘äººå‘˜å¯ä»¥å¿«é€Ÿç«™èµ·æ¥å®ç°è¿™äº›æ ·æ¿çš„æœåŠ¡å’Œåº”ç”¨ç¨‹åºã€‚å®ƒä»¬å°†åœ¨ä»»ä½•åˆ†å¸ƒå¼ç¯å¢ƒä¸­éƒ½èƒ½å¾ˆå¥½åœ°å·¥ä½œï¼ŒåŒ…æ‹¬å¼€å‘äººå‘˜è‡ªå·±çš„ç¬”è®°æœ¬ç”µè„‘ï¼Œè£¸æœºæ•°æ®ä¸­å¿ƒä»¥åŠè¯¸å¦‚Cloud Foundryä¹‹ç±»çš„æ‰˜ç®¡å¹³å°ã€‚ 1.ç³»ç»Ÿæ¶æ„æ¼”å˜graph LR; 1[é›†ä¸­å¼æ¶æ„] --> 2[å‚ç›´æ‹†åˆ†] 2 --> 3[åˆ†å¸ƒå¼æœåŠ¡] 3 --> 4[SOAé¢å‘æœåŠ¡æ¶æ„] 4 --> 5[å¾®æœåŠ¡æ¶æ„] å¾®æœåŠ¡æ¶æ„ä¸€å¥—ä½¿ç”¨å°æœåŠ¡æˆ–è€…å•ä¸€ä¸šåŠ¡æ¥å¼€å‘å•ä¸ªåº”ç”¨çš„æ–¹å¼æˆ–é€”å¾„ã€‚ å¾®æœåŠ¡æ¶æ„ç‰¹ç‚¹ï¼š å•ä¸€èŒè´£ æœåŠ¡ç²’åº¦å° é¢å‘æœåŠ¡ï¼ˆå¯¹å¤–æš´éœ²REST apiï¼‰ æœåŠ¡ä¹‹é—´ç›¸äº’ç‹¬ç«‹ ä¸ä½¿ç”¨ESBçš„SOAæ¶æ„çš„åŒºåˆ«ï¼š å¾®æœåŠ¡æ¶æ„æ²¡æœ‰ä½¿ç”¨ESBï¼Œæœ‰æœåŠ¡æ²»ç†æ³¨å†Œä¸­å¿ƒï¼›ä¸šåŠ¡ç²’åº¦å°ã€‚ 2.æœåŠ¡è°ƒç”¨æ–¹å¼ RPCï¼šåŸºäºsocketï¼Œé€Ÿåº¦å¿«ï¼Œæ•ˆç‡é«˜ï¼›webserviceã€dubbo HTTPï¼šåŸºäºTCPï¼Œå°è£…æ¯”è¾ƒè‡ƒè‚¿ï¼›å¯¹æœåŠ¡å’Œè°ƒç”¨æ–¹æ²¡æœ‰ä»»ä½•æŠ€æœ¯ã€è¯­è¨€çš„é™å®šï¼Œè‡ªç”±çµæ´»ï¼›RESTfulï¼ŒSpring Cloud ä¸€èˆ¬æƒ…å†µä¸‹æœ‰å¦‚ä¸‹ä¸‰ç§httpå®¢æˆ·ç«¯å·¥å…·ç±»åŒ…éƒ½å¯ä»¥æ–¹ä¾¿çš„è¿›è¡ŒhttpæœåŠ¡è°ƒç”¨ï¼š httpClient okHttp JDKåŸç”ŸURLConnection spring æä¾›äº†RestTemplateçš„å·¥å…·ç±»å¯¹ä¸Šè¿°çš„3ç§httpå®¢æˆ·ç«¯å·¥å…·ç±»è¿›è¡Œäº†å°è£…ï¼Œå¯åœ¨springé¡¹ç›®ä¸­ä½¿ç”¨RestTemplateè¿›è¡ŒæœåŠ¡è°ƒç”¨ã€‚ å°ç»“ï¼š12345678910111213141516@RunWith(SpringRunner.class)@SpringBootTestpublic class RestTemplateTest { @Autowired private RestTemplate restTemplate; @Test public void test(){ String url = &quot;http://localhost/user/8&quot;; //restTemplateå¯ä»¥å¯¹jsonæ ¼å¼å­—ç¬¦ä¸²è¿›è¡Œååºåˆ—åŒ– User user = restTemplate.getForObject(url, User.class); System.out.println(user); }} 3.SpringCloudæ¦‚è¿° æ•´åˆçš„ç»„ä»¶å¯ä»¥æœ‰å¾ˆå¤šç»„ä»¶ï¼›å¸¸è§çš„ç»„ä»¶æœ‰ï¼šeurekaæ³¨å†Œä¸­å¿ƒï¼ŒGatewayç½‘å…³ï¼ŒRibbonè´Ÿè½½å‡è¡¡ï¼ŒFeignæœåŠ¡è°ƒç”¨ï¼ŒHystrixç†”æ–­å™¨ã€‚åœ¨æœ‰éœ€è¦çš„æ—¶å€™é¡¹ç›®æ·»åŠ å¯¹äºçš„å¯åŠ¨å™¨ä¾èµ–å³å¯ã€‚ ç‰ˆæœ¬ç‰¹å¾ï¼šä»¥è‹±æ–‡å•è¯å‘½åï¼ˆä¼¦æ•¦åœ°é“ç«™åï¼‰ 4.åˆ›å»ºå¾®æœåŠ¡å·¥ç¨‹ çˆ¶å·¥ç¨‹springcloudï¼šæ·»åŠ spring bootçˆ¶åæ ‡å’Œç®¡ç†å…¶å®ƒç»„ä»¶çš„ä¾èµ– ç”¨æˆ·æœåŠ¡å·¥ç¨‹user-serviceï¼šæ•´åˆmybatisæŸ¥è¯¢æ•°æ®åº“ä¸­ç”¨æˆ·æ•°æ®ï¼›æä¾›æŸ¥è¯¢ç”¨æˆ·æœåŠ¡ æœåŠ¡æ¶ˆè´¹å·¥ç¨‹consumer-demoï¼šåˆ©ç”¨æŸ¥è¯¢ç”¨æˆ·æœåŠ¡è·å–ç”¨æˆ·æ•°æ®å¹¶è¾“å‡ºåˆ°æµè§ˆå™¨ 5.æ­å»ºé…ç½®Serviceå·¥ç¨‹ æ·»åŠ å¯åŠ¨å™¨ä¾èµ–ï¼ˆwebã€é€šç”¨Mapperï¼‰ï¼› åˆ›å»ºå¯åŠ¨å¼•å¯¼ç±»å’Œé…ç½®æ–‡ä»¶ï¼› ä¿®æ”¹é…ç½®æ–‡ä»¶ä¸­çš„å‚æ•°ï¼› ç¼–å†™æµ‹è¯•ä»£ç ï¼ˆUserMapperï¼ŒUserServiceï¼ŒUserControllerï¼‰ï¼› æµ‹è¯• 6.æ­å»ºé…ç½®Clientå·¥ç¨‹ æ·»åŠ å¯åŠ¨å™¨ä¾èµ–ï¼› åˆ›å»ºå¯åŠ¨å¼•å¯¼ç±»ï¼ˆæ³¨å†ŒRestTemplateï¼‰å’Œé…ç½®æ–‡ä»¶ï¼› ç¼–å†™æµ‹è¯•ä»£ç ï¼ˆConsumerControllerä¸­ä½¿ç”¨restTemplateè®¿é—®æœåŠ¡è·å–æ•°æ®ï¼‰ æµ‹è¯• 7.é—®é¢˜ æœåŠ¡ç®¡ç†å¦‚ä½•è‡ªåŠ¨æ³¨å†Œå’Œå‘ç°å¦‚ä½•å®ç°çŠ¶æ€ç›‘ç®¡å¦‚ä½•å®ç°åŠ¨æ€è·¯ç”± æœåŠ¡å¦‚ä½•å®ç°è´Ÿè½½å‡è¡¡ æœåŠ¡å¦‚ä½•è§£å†³å®¹ç¾é—®é¢˜ æœåŠ¡å¦‚ä½•å®ç°ç»Ÿä¸€é…ç½® ä¸Šè¿°é—®é¢˜é€šè¿‡springcloudå„ç§ç»„ä»¶è§£å†³8.EurekaEurekaçš„ä¸»è¦åŠŸèƒ½æ˜¯è¿›è¡ŒæœåŠ¡ç®¡ç†ï¼Œå®šæœŸæ£€æŸ¥æœåŠ¡çŠ¶æ€ï¼Œè¿”å›æœåŠ¡åœ°å€åˆ—è¡¨ã€‚ 8.1Eureka-serverEurekaæ˜¯æœåŠ¡æ³¨å†Œä¸­å¿ƒï¼ŒåªåšæœåŠ¡æ³¨å†Œï¼›è‡ªèº«å¹¶ä¸æä¾›æœåŠ¡ä¹Ÿä¸æ¶ˆè´¹æœåŠ¡ã€‚å¯ä»¥æ­å»ºwebå·¥ç¨‹ä½¿ç”¨Eurekaï¼Œå¯ä»¥ä½¿ç”¨Spring Bootæ–¹å¼æ­å»ºã€‚ æ­å»ºæ­¥éª¤ï¼š åˆ›å»ºå·¥ç¨‹ï¼› æ·»åŠ å¯åŠ¨å™¨ä¾èµ–ï¼› ç¼–å†™å¯åŠ¨å¼•å¯¼ç±»ï¼ˆæ·»åŠ Eurekaçš„æœåŠ¡æ³¨è§£ï¼‰å’Œé…ç½®æ–‡ä»¶ï¼› ä¿®æ”¹é…ç½®æ–‡ä»¶ï¼ˆç«¯å£ï¼Œåº”ç”¨åç§°â€¦ï¼‰ï¼› å¯åŠ¨æµ‹è¯• 8.2æœåŠ¡æ³¨å†Œä¸å‘ç° æœåŠ¡æ³¨å†Œï¼šåœ¨æœåŠ¡æä¾›å·¥ç¨‹user-serviceä¸Šæ·»åŠ Eurekaå®¢æˆ·ç«¯ä¾èµ–ï¼›è‡ªåŠ¨å°†æœåŠ¡æ³¨å†Œåˆ°EurekaServeræœåŠ¡åœ°å€åˆ—è¡¨ã€‚ æ·»åŠ ä¾èµ–ï¼› æ”¹é€ å¯åŠ¨å¼•å¯¼ç±»ï¼›æ·»åŠ å¼€å¯Eurekaå®¢æˆ·ç«¯å‘ç°çš„æ³¨è§£ï¼› ä¿®æ”¹é…ç½®æ–‡ä»¶ï¼›è®¾ç½®Eureka æœåŠ¡åœ°å€ æœåŠ¡å‘ç°ï¼šåœ¨æœåŠ¡æ¶ˆè´¹å·¥ç¨‹consumer-demoä¸Šæ·»åŠ Eurekaå®¢æˆ·ç«¯ä¾èµ–ï¼›å¯ä»¥ä½¿ç”¨å·¥å…·ç±»æ ¹æ®æœåŠ¡åç§°è·å–å¯¹åº”çš„æœåŠ¡åœ°å€åˆ—è¡¨ã€‚ æ·»åŠ ä¾èµ–ï¼› æ”¹é€ å¯åŠ¨å¼•å¯¼ç±»ï¼›æ·»åŠ å¼€å¯Eurekaå®¢æˆ·ç«¯å‘ç°çš„æ³¨è§£ï¼› ä¿®æ”¹é…ç½®æ–‡ä»¶ï¼›è®¾ç½®Eureka æœåŠ¡åœ°å€ï¼› æ”¹é€ å¤„ç†å™¨ç±»Controllerï¼Œå¯ä»¥ä½¿ç”¨å·¥å…·ç±»DiscoveryClientæ ¹æ®æœåŠ¡åç§°è·å–å¯¹åº”æœåŠ¡åœ°å€åˆ—è¡¨ã€‚ 8.3é«˜å¯ç”¨é…ç½®â€‹ å°†Eureka Serverä½œä¸ºä¸€ä¸ªæœåŠ¡æ³¨å†Œåˆ°å…¶å®ƒEureka Serverï¼Œè¿™æ ·å¤šä¸ªEureka Serverä¹‹é—´å°±èƒ½å¤Ÿäº’ç›¸å‘ç°å¯¹æ–¹ï¼ŒåŒæ­¥æœåŠ¡ï¼Œå®ç°Eureka Serveré›†ç¾¤ã€‚ 9.è´Ÿè½½å‡è¡¡RibbonRibbonæä¾›äº†è½®è¯¢ã€éšæœºä¸¤ç§è´Ÿè½½å‡è¡¡ç®—æ³•ï¼ˆé»˜è®¤æ˜¯è½®è¯¢ï¼‰å¯ä»¥å®ç°ä»åœ°å€åˆ—è¡¨ä¸­ä½¿ç”¨è´Ÿè½½å‡è¡¡ç®—æ³•è·å–åœ°å€è¿›è¡ŒæœåŠ¡è°ƒç”¨ã€‚ 9.1Ribbonåº”ç”¨åœ¨å®ä¾‹åŒ–RestTemplateçš„æ—¶å€™ä½¿ç”¨@LoadBalancedï¼ŒæœåŠ¡åœ°å€ç›´æ¥å¯ä»¥ä½¿ç”¨æœåŠ¡åã€‚ 10.ç†”æ–­å™¨Hystrixï¼ˆè±ªçŒªï¼‰Hystrixæ˜¯ä¸€ä¸ªå»¶è¿Ÿå’Œå®¹é”™åº“ï¼Œç”¨äºéš”ç¦»è®¿é—®è¿œç¨‹æœåŠ¡ï¼Œé˜²æ­¢å‡ºç°çº§è”å¤±è´¥ã€‚ 10.1çº¿ç¨‹éš”ç¦»&amp;æœåŠ¡é™çº§Hystrixè§£å†³é›ªå´©æ•ˆåº”ï¼š çº¿ç¨‹éš”ç¦»ï¼šç”¨æˆ·è¯·æ±‚ä¸ç›´æ¥è®¿é—®æœåŠ¡ï¼Œè€Œæ˜¯ä½¿ç”¨çº¿ç¨‹æ± ä¸­ç©ºé—²çš„çº¿ç¨‹è®¿é—®æœåŠ¡ï¼ŒåŠ é€Ÿå¤±è´¥åˆ¤æ–­æ—¶é—´ã€‚ æœåŠ¡é™çº§ï¼šåŠæ—¶è¿”å›æœåŠ¡è°ƒç”¨å¤±è´¥çš„ç»“æœï¼Œè®©çº¿ç¨‹ä¸å› ä¸ºç­‰å¾…æœåŠ¡è€Œé˜»å¡ã€‚ å°ç»“ï¼š æ·»åŠ ä¾èµ– 1234&lt;dependency&gt; &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt; &lt;artifactId&gt;spring-cloud-starter-netflix-hystrix&lt;/artifactId&gt;&lt;/dependency&gt; å¼€å¯ç†”æ–­ é™çº§é€»è¾‘ 12345678910111213141516171819202122232425262728293031323334353637@RestController@RequestMapping(&quot;/consumer&quot;)@Slf4j@DefaultProperties(defaultFallback = &quot;defaultFallback&quot;)public class ConsumerController { @Autowired private RestTemplate restTemplate; @Autowired private DiscoveryClient discoveryClient; @GetMapping(&quot;/{id}&quot;) //@HystrixCommand(fallbackMethod = &quot;queryByIdFallback&quot;) @HystrixCommand public String queryById(@PathVariable Long id){ /*String url = &quot;http://localhost:9091/user/&quot;+id; //è·å–eurekaä¸­æ³¨å†Œçš„user-serviceçš„å®ä¾‹ List&lt;ServiceInstance&gt; serviceInstances = discoveryClient.getInstances(&quot;user-service&quot;); ServiceInstance serviceInstance = serviceInstances.get(0); url = &quot;http://&quot; + serviceInstance.getHost() + &quot;:&quot; + serviceInstance.getPort() + &quot;/user/&quot; + id;*/ String url = &quot;http://user-service/user/&quot; + id; return restTemplate.getForObject(url, String.class); } public String queryByIdFallback(Long id){ log.error(&quot;æŸ¥è¯¢ç”¨æˆ·ä¿¡æ¯å¤±è´¥ã€‚idï¼š{}&quot;, id); return &quot;å¯¹ä¸èµ·ï¼Œç½‘ç»œå¤ªæ‹¥æŒ¤äº†ï¼&quot;; } public String defaultFallback(){ return &quot;é»˜è®¤æç¤ºï¼šå¯¹ä¸èµ·ï¼Œç½‘ç»œå¤ªæ‹¥æŒ¤äº†ï¼&quot;; }} ä¿®æ”¹è¶…æ—¶é…ç½® 1234567hystrix: command: default: execution: isolation: thread: timeoutInMilliseconds: 2000 10.2æœåŠ¡ç†”æ–­â€‹ åœ¨æœåŠ¡ç†”æ–­ä¸­ï¼Œä½¿ç”¨çš„ç†”æ–­å™¨ï¼Œä¹Ÿå«æ–­è·¯å™¨ï¼Œå…¶è‹±æ–‡å•è¯ä¸ºï¼šCircuit Breakerâ€‹ ç†”æ–­æœºåˆ¶ä¸å®¶é‡Œä½¿ç”¨çš„ç”µè·¯ç†”æ–­åŸç†ç±»ä¼¼ï¼›å½“å¦‚æœç”µè·¯å‘ç”ŸçŸ­è·¯çš„æ—¶å€™èƒ½ç«‹åˆ»ç†”æ–­ç”µè·¯ï¼Œé¿å…å‘ç”Ÿç¾éš¾ã€‚åœ¨åˆ†å¸ƒå¼ç³»ç»Ÿä¸­åº”ç”¨æœåŠ¡ç†”æ–­åï¼›æœåŠ¡è°ƒç”¨æ–¹å¯ä»¥è‡ªå·±è¿›è¡Œåˆ¤æ–­å“ªäº›æœåŠ¡ååº”æ…¢æˆ–å­˜åœ¨å¤§é‡è¶…æ—¶ï¼Œå¯ä»¥é’ˆå¯¹è¿™äº›æœåŠ¡è¿›è¡Œä¸»åŠ¨ç†”æ–­ï¼Œé˜²æ­¢æ•´ä¸ªç³»ç»Ÿè¢«æ‹–å®ã€‚â€‹ Hystrixçš„æœåŠ¡ç†”æ–­æœºåˆ¶ï¼Œå¯ä»¥å®ç°å¼¹æ€§å®¹é”™ï¼›å½“æœåŠ¡è¯·æ±‚æƒ…å†µå¥½è½¬ä¹‹åï¼Œå¯ä»¥è‡ªåŠ¨é‡è¿ã€‚é€šè¿‡æ–­è·¯çš„æ–¹å¼ï¼Œå°†åç»­è¯·æ±‚ç›´æ¥æ‹’ç»ï¼Œä¸€æ®µæ—¶é—´ï¼ˆé»˜è®¤5ç§’ï¼‰ä¹‹åå…è®¸éƒ¨åˆ†è¯·æ±‚é€šè¿‡ï¼Œå¦‚æœè°ƒç”¨æˆåŠŸåˆ™å›åˆ°æ–­è·¯å™¨å…³é—­çŠ¶æ€ï¼Œå¦åˆ™ç»§ç»­æ‰“å¼€ï¼Œæ‹’ç»è¯·æ±‚çš„æœåŠ¡ã€‚Hystrixçš„ç†”æ–­çŠ¶æ€æœºæ¨¡å‹ï¼š çŠ¶æ€æœºæœ‰3ä¸ªçŠ¶æ€ï¼šClosedï¼šå…³é—­çŠ¶æ€ï¼ˆæ–­è·¯å™¨å…³é—­ï¼‰ï¼Œæ‰€æœ‰è¯·æ±‚éƒ½æ­£å¸¸è®¿é—®ã€‚Openï¼šæ‰“å¼€çŠ¶æ€ï¼ˆæ–­è·¯å™¨æ‰“å¼€ï¼‰ï¼Œæ‰€æœ‰è¯·æ±‚éƒ½ä¼šè¢«é™çº§ã€‚Hystrixä¼šå¯¹è¯·æ±‚æƒ…å†µè®¡æ•°ï¼Œå½“ä¸€å®šæ—¶é—´å†…å¤±è´¥è¯·æ±‚ç™¾åˆ†æ¯”è¾¾åˆ°é˜ˆå€¼ï¼Œåˆ™è§¦å‘ç†”æ–­ï¼Œæ–­è·¯å™¨ä¼šå®Œå…¨æ‰“å¼€ã€‚é»˜è®¤å¤±è´¥æ¯”ä¾‹çš„é˜ˆå€¼æ˜¯50%ï¼Œè¯·æ±‚æ¬¡æ•°æœ€å°‘ä¸ä½äº20æ¬¡ã€‚Half Openï¼šåŠå¼€çŠ¶æ€ï¼Œä¸æ˜¯æ°¸ä¹…çš„ï¼Œæ–­è·¯å™¨æ‰“å¼€åä¼šè¿›å…¥ä¼‘çœ æ—¶é—´ï¼ˆé»˜è®¤æ˜¯5Sï¼‰ã€‚éšåæ–­è·¯å™¨ä¼šè‡ªåŠ¨è¿›å…¥åŠå¼€çŠ¶æ€ã€‚æ­¤æ—¶ä¼šé‡Šæ”¾éƒ¨åˆ†è¯·æ±‚é€šè¿‡ï¼Œè‹¥è¿™äº›è¯·æ±‚éƒ½æ˜¯å¥åº·çš„ï¼Œåˆ™ä¼šå…³é—­æ–­è·¯å™¨ï¼Œå¦åˆ™ç»§ç»­ä¿æŒæ‰“å¼€ï¼Œå†æ¬¡è¿›è¡Œä¼‘çœ è®¡æ—¶ã€‚ 11.æœåŠ¡æ¶ˆè´¹è€…ï¼ˆFeignï¼‰11.1ç®€ä»‹â€‹ Feignæ˜¯ä¸€ä¸ªå£°æ˜å¼çš„ä¼ªHttpå®¢æˆ·ç«¯ï¼Œå®ƒä½¿å¾—å†™Httpå®¢æˆ·ç«¯å˜å¾—æ›´ç®€å•ã€‚ä½¿ç”¨Feignï¼Œåªéœ€è¦åˆ›å»ºä¸€ä¸ªæ¥å£å¹¶æ³¨è§£ã€‚å®ƒå…·æœ‰å¯æ’æ‹”çš„æ³¨è§£ç‰¹æ€§ï¼Œå¯ä½¿ç”¨Feign æ³¨è§£å’ŒJAX-RSæ³¨è§£ã€‚Feignæ”¯æŒå¯æ’æ‹”çš„ç¼–ç å™¨å’Œè§£ç å™¨ã€‚Feigné»˜è®¤é›†æˆäº†Ribbonï¼Œå¹¶å’ŒEurekaç»“åˆï¼Œé»˜è®¤å®ç°äº†è´Ÿè½½å‡è¡¡çš„æ•ˆæœã€‚ ç®€è€Œè¨€ä¹‹ï¼š Feign é‡‡ç”¨çš„æ˜¯åŸºäºæ¥å£çš„æ³¨è§£Feign æ•´åˆäº†ribbonï¼Œå…·æœ‰è´Ÿè½½å‡è¡¡çš„èƒ½åŠ›æ•´åˆäº†Hystrixï¼Œå…·æœ‰ç†”æ–­çš„èƒ½åŠ› 12.æ–­è·¯å™¨ï¼ˆHystrixï¼‰â€‹ åœ¨å¾®æœåŠ¡æ¶æ„ä¸­ï¼Œæ ¹æ®ä¸šåŠ¡æ¥æ‹†åˆ†æˆä¸€ä¸ªä¸ªçš„æœåŠ¡ï¼ŒæœåŠ¡ä¸æœåŠ¡ä¹‹é—´å¯ä»¥ç›¸äº’è°ƒç”¨ï¼ˆRPCï¼‰ï¼Œåœ¨Spring Cloudå¯ä»¥ç”¨RestTemplate+Ribbonå’ŒFeignæ¥è°ƒç”¨ã€‚ä¸ºäº†ä¿è¯å…¶é«˜å¯ç”¨ï¼Œå•ä¸ªæœåŠ¡é€šå¸¸ä¼šé›†ç¾¤éƒ¨ç½²ã€‚ç”±äºç½‘ç»œåŸå› æˆ–è€…è‡ªèº«çš„åŸå› ï¼ŒæœåŠ¡å¹¶ä¸èƒ½ä¿è¯100%å¯ç”¨ï¼Œå¦‚æœå•ä¸ªæœåŠ¡å‡ºç°é—®é¢˜ï¼Œè°ƒç”¨è¿™ä¸ªæœåŠ¡å°±ä¼šå‡ºç°çº¿ç¨‹é˜»å¡ï¼Œæ­¤æ—¶è‹¥æœ‰å¤§é‡çš„è¯·æ±‚æ¶Œå…¥ï¼ŒServletå®¹å™¨çš„çº¿ç¨‹èµ„æºä¼šè¢«æ¶ˆè€—å®Œæ¯•ï¼Œå¯¼è‡´æœåŠ¡ç˜«ç—ªã€‚æœåŠ¡ä¸æœåŠ¡ä¹‹é—´çš„ä¾èµ–æ€§ï¼Œæ•…éšœä¼šä¼ æ’­ï¼Œä¼šå¯¹æ•´ä¸ªå¾®æœåŠ¡ç³»ç»Ÿé€ æˆç¾éš¾æ€§çš„ä¸¥é‡åæœï¼Œè¿™å°±æ˜¯æœåŠ¡æ•…éšœçš„â€œé›ªå´©â€æ•ˆåº”ã€‚ ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œä¸šç•Œæå‡ºäº†æ–­è·¯å™¨æ¨¡å‹ã€‚ 12.1æ–­è·¯å™¨ç®€ä»‹â€‹ Netflix has created a library called Hystrix that implements the circuit breaker pattern. In a microservice architecture it is common to have multiple layers of service calls.Netflix. å¼€æºäº†Hystrixç»„ä»¶ï¼Œå®ç°äº†æ–­è·¯å™¨æ¨¡å¼ï¼ŒSpringCloudå¯¹è¿™ä¸€ç»„ä»¶è¿›è¡Œäº†æ•´åˆã€‚ åœ¨å¾®æœåŠ¡æ¶æ„ä¸­ï¼Œä¸€ä¸ªè¯·æ±‚éœ€è¦è°ƒç”¨å¤šä¸ªæœåŠ¡æ˜¯éå¸¸å¸¸è§çš„ã€‚è¾ƒåº•å±‚çš„æœåŠ¡å¦‚æœå‡ºç°æ•…éšœï¼Œä¼šå¯¼è‡´è¿é”æ•…éšœã€‚å½“å¯¹ç‰¹å®šçš„æœåŠ¡çš„è°ƒç”¨çš„ä¸å¯ç”¨è¾¾åˆ°ä¸€ä¸ªé˜€å€¼ï¼ˆHystric æ˜¯5ç§’20æ¬¡ï¼‰ æ–­è·¯å™¨å°†ä¼šè¢«æ‰“å¼€ã€‚æ–­è·¯æ‰“å¼€åï¼Œå¯ç”¨é¿å…è¿é”æ•…éšœï¼Œfallbackæ–¹æ³•å¯ä»¥ç›´æ¥è¿”å›ä¸€ä¸ªå›ºå®šå€¼ã€‚ 13.è·¯ç”±ç½‘å…³(zuul)â€‹ Zuulçš„ä¸»è¦åŠŸèƒ½æ˜¯è·¯ç”±è½¬å‘å’Œè¿‡æ»¤å™¨ã€‚è·¯ç”±åŠŸèƒ½æ˜¯å¾®æœåŠ¡çš„ä¸€éƒ¨åˆ†ï¼Œæ¯”å¦‚ï¼api/userè½¬å‘åˆ°åˆ°useræœåŠ¡ï¼Œ/api/shopè½¬å‘åˆ°åˆ°shopæœåŠ¡ã€‚zuulé»˜è®¤å’ŒRibbonç»“åˆå®ç°äº†è´Ÿè½½å‡è¡¡çš„åŠŸèƒ½ã€‚ zuulæœ‰ä»¥ä¸‹åŠŸèƒ½ï¼š AuthenticationInsightsStress TestingCanary TestingDynamic RoutingService MigrationLoad SheddingSecurityStatic Response handlingActive/Active traffic management æœåŠ¡è¿‡æ»¤filterTypeï¼šè¿”å›ä¸€ä¸ªå­—ç¬¦ä¸²ä»£è¡¨è¿‡æ»¤å™¨çš„ç±»å‹ï¼Œåœ¨zuulä¸­å®šä¹‰äº†å››ç§ä¸åŒç”Ÿå‘½å‘¨æœŸçš„è¿‡æ»¤å™¨ç±»å‹ï¼Œå…·ä½“å¦‚ä¸‹ï¼špreï¼šè·¯ç”±ä¹‹å‰routingï¼šè·¯ç”±ä¹‹æ—¶postï¼š è·¯ç”±ä¹‹åerrorï¼šå‘é€é”™è¯¯è°ƒç”¨filterOrderï¼šè¿‡æ»¤çš„é¡ºåºshouldFilterï¼šè¿™é‡Œå¯ä»¥å†™é€»è¾‘åˆ¤æ–­ï¼Œæ˜¯å¦è¦è¿‡æ»¤ï¼Œæœ¬æ–‡true,æ°¸è¿œè¿‡æ»¤ã€‚runï¼šè¿‡æ»¤å™¨çš„å…·ä½“é€»è¾‘ã€‚å¯ç”¨å¾ˆå¤æ‚ï¼ŒåŒ…æ‹¬æŸ¥sqlï¼Œnosqlå»åˆ¤æ–­è¯¥è¯·æ±‚åˆ°åº•æœ‰æ²¡æœ‰æƒé™è®¿é—®ã€‚ 14.åˆ†å¸ƒå¼é…ç½®ä¸­å¿ƒ(Spring Cloud Config)â€‹ åœ¨åˆ†å¸ƒå¼ç³»ç»Ÿä¸­ï¼Œç”±äºæœåŠ¡æ•°é‡å·¨å¤šï¼Œä¸ºäº†æ–¹ä¾¿æœåŠ¡é…ç½®æ–‡ä»¶ç»Ÿä¸€ç®¡ç†ï¼Œå®æ—¶æ›´æ–°ï¼Œæ‰€ä»¥éœ€è¦åˆ†å¸ƒå¼é…ç½®ä¸­å¿ƒç»„ä»¶ã€‚åœ¨Spring Cloudä¸­ï¼Œæœ‰åˆ†å¸ƒå¼é…ç½®ä¸­å¿ƒç»„ä»¶spring cloud config ï¼Œå®ƒæ”¯æŒé…ç½®æœåŠ¡æ”¾åœ¨é…ç½®æœåŠ¡çš„å†…å­˜ä¸­ï¼ˆå³æœ¬åœ°ï¼‰ï¼Œä¹Ÿæ”¯æŒæ”¾åœ¨è¿œç¨‹Gitä»“åº“ä¸­ã€‚åœ¨spring cloud config ç»„ä»¶ä¸­ï¼Œåˆ†ä¸¤ä¸ªè§’è‰²ï¼Œä¸€æ˜¯config serverï¼ŒäºŒæ˜¯config clientã€‚ 15. é«˜å¯ç”¨çš„åˆ†å¸ƒå¼é…ç½®ä¸­å¿ƒ(Spring Cloud Config)â€‹ å½“æœåŠ¡å®ä¾‹å¾ˆå¤šæ—¶ï¼Œéƒ½ä»é…ç½®ä¸­å¿ƒè¯»å–æ–‡ä»¶ï¼Œè¿™æ—¶å¯ä»¥è€ƒè™‘å°†é…ç½®ä¸­å¿ƒåšæˆä¸€ä¸ªå¾®æœåŠ¡ï¼Œå°†å…¶é›†ç¾¤åŒ–ï¼Œä»è€Œè¾¾åˆ°é«˜å¯ç”¨ 16.æ¶ˆæ¯æ€»çº¿(Spring Cloud Bus)â€‹ Spring Cloud Bus å°†åˆ†å¸ƒå¼çš„èŠ‚ç‚¹ç”¨è½»é‡çš„æ¶ˆæ¯ä»£ç†è¿æ¥èµ·æ¥ã€‚å®ƒå¯ä»¥ç”¨äºå¹¿æ’­é…ç½®æ–‡ä»¶çš„æ›´æ”¹æˆ–è€…æœåŠ¡ä¹‹é—´çš„é€šè®¯ï¼Œä¹Ÿå¯ä»¥ç”¨äºç›‘æ§ã€‚æœ¬æ–‡è¦è®²è¿°çš„æ˜¯ç”¨Spring Cloud Buså®ç°é€šçŸ¥å¾®æœåŠ¡æ¶æ„çš„é…ç½®æ–‡ä»¶çš„æ›´æ”¹ã€‚ã€ä¿®æ”¹é…ç½®æ–‡ä»¶ï¼Œæ— éœ€é‡å¯ã€‘ å‡†å¤‡ï¼šå®‰è£…rabbitMq 17.æœåŠ¡é“¾è·¯è¿½è¸ª(Spring Cloud Sleuth)â€‹ å¾®æœåŠ¡æ¶æ„ä¸Šé€šè¿‡ä¸šåŠ¡æ¥åˆ’åˆ†æœåŠ¡çš„ï¼Œé€šè¿‡RESTè°ƒç”¨ï¼Œå¯¹å¤–æš´éœ²çš„ä¸€ä¸ªæ¥å£ï¼Œå¯èƒ½éœ€è¦å¾ˆå¤šä¸ªæœåŠ¡ååŒæ‰èƒ½å®Œæˆè¿™ä¸ªæ¥å£åŠŸèƒ½ï¼Œå¦‚æœé“¾è·¯ä¸Šä»»ä½•ä¸€ä¸ªæœåŠ¡å‡ºç°é—®é¢˜æˆ–è€…ç½‘ç»œè¶…æ—¶ï¼Œéƒ½ä¼šå½¢æˆå¯¼è‡´æ¥å£è°ƒç”¨å¤±è´¥ã€‚éšç€ä¸šåŠ¡çš„ä¸æ–­æ‰©å¼ ï¼ŒæœåŠ¡ä¹‹é—´äº’ç›¸è°ƒç”¨ä¼šè¶Šæ¥è¶Šå¤æ‚ã€‚ æœ¯è¯­Spanï¼šåŸºæœ¬å·¥ä½œå•å…ƒï¼Œä¾‹å¦‚ï¼Œåœ¨ä¸€ä¸ªæ–°å»ºçš„spanä¸­å‘é€ä¸€ä¸ªRPCç­‰åŒäºå‘é€ä¸€ä¸ªå›åº”è¯·æ±‚ç»™RPCï¼Œspané€šè¿‡ä¸€ä¸ª64ä½IDå”¯ä¸€æ ‡è¯†ï¼Œtraceä»¥å¦ä¸€ä¸ª64ä½IDè¡¨ç¤ºï¼Œspanè¿˜æœ‰å…¶ä»–æ•°æ®ä¿¡æ¯ï¼Œæ¯”å¦‚æ‘˜è¦ã€æ—¶é—´æˆ³äº‹ä»¶ã€å…³é”®å€¼æ³¨é‡Š(tags)ã€spançš„IDã€ä»¥åŠè¿›åº¦ID(é€šå¸¸æ˜¯IPåœ°å€)spanåœ¨ä¸æ–­çš„å¯åŠ¨å’Œåœæ­¢ï¼ŒåŒæ—¶è®°å½•äº†æ—¶é—´ä¿¡æ¯ï¼Œå½“ä½ åˆ›å»ºäº†ä¸€ä¸ªspanï¼Œä½ å¿…é¡»åœ¨æœªæ¥çš„æŸä¸ªæ—¶åˆ»åœæ­¢å®ƒã€‚Traceï¼šä¸€ç³»åˆ—spansç»„æˆçš„ä¸€ä¸ªæ ‘çŠ¶ç»“æ„ï¼Œä¾‹å¦‚ï¼Œå¦‚æœä½ æ­£åœ¨è·‘ä¸€ä¸ªåˆ†å¸ƒå¼å¤§æ•°æ®å·¥ç¨‹ï¼Œä½ å¯èƒ½éœ€è¦åˆ›å»ºä¸€ä¸ªtraceã€‚Annotationï¼šç”¨æ¥åŠæ—¶è®°å½•ä¸€ä¸ªäº‹ä»¶çš„å­˜åœ¨ï¼Œä¸€äº›æ ¸å¿ƒannotationsç”¨æ¥å®šä¹‰ä¸€ä¸ªè¯·æ±‚çš„å¼€å§‹å’Œç»“æŸcs - Client Sent -å®¢æˆ·ç«¯å‘èµ·ä¸€ä¸ªè¯·æ±‚ï¼Œè¿™ä¸ªannotionæè¿°äº†è¿™ä¸ªspançš„å¼€å§‹sr - Server Received -æœåŠ¡ç«¯è·å¾—è¯·æ±‚å¹¶å‡†å¤‡å¼€å§‹å¤„ç†å®ƒï¼Œå¦‚æœå°†å…¶srå‡å»csæ—¶é—´æˆ³ä¾¿å¯å¾—åˆ°ç½‘ç»œå»¶è¿Ÿss - Server Sent -æ³¨è§£è¡¨æ˜è¯·æ±‚å¤„ç†çš„å®Œæˆ(å½“è¯·æ±‚è¿”å›å®¢æˆ·ç«¯)ï¼Œå¦‚æœsså‡å»sræ—¶é—´æˆ³ä¾¿å¯å¾—åˆ°æœåŠ¡ç«¯éœ€è¦çš„å¤„ç†è¯·æ±‚æ—¶é—´cr - Client Received -è¡¨æ˜spançš„ç»“æŸï¼Œå®¢æˆ·ç«¯æˆåŠŸæ¥æ”¶åˆ°æœåŠ¡ç«¯çš„å›å¤ï¼Œå¦‚æœcrå‡å»csæ—¶é—´æˆ³ä¾¿å¯å¾—åˆ°å®¢æˆ·ç«¯ä»æœåŠ¡ç«¯è·å–å›å¤çš„æ‰€æœ‰æ‰€éœ€æ—¶é—´å°†Spanå’ŒTraceåœ¨ä¸€ä¸ªç³»ç»Ÿä¸­ä½¿ç”¨Zipkinæ³¨è§£çš„è¿‡ç¨‹å›¾å½¢åŒ–ï¼š 18.é«˜å¯ç”¨çš„æœåŠ¡æ³¨å†Œä¸­å¿ƒâ€‹ æœåŠ¡æ³¨å†Œä¸­å¿ƒEureka Serverï¼Œæ˜¯ä¸€ä¸ªå®ä¾‹ï¼Œå½“æˆåƒä¸Šä¸‡ä¸ªæœåŠ¡å‘å®ƒæ³¨å†Œçš„æ—¶å€™ï¼Œå®ƒçš„è´Ÿè½½æ˜¯éå¸¸é«˜çš„ï¼Œè¿™åœ¨ç”Ÿäº§ç¯å¢ƒä¸Šæ˜¯ä¸å¤ªåˆé€‚çš„ï¼Œè¿™ç¯‡æ–‡ç« ä¸»è¦ä»‹ç»æ€ä¹ˆå°†Eureka Serveré›†ç¾¤åŒ–ã€‚Eurekaé€šè¿‡è¿è¡Œå¤šä¸ªå®ä¾‹ï¼Œä½¿å…¶æ›´å…·æœ‰é«˜å¯ç”¨æ€§ã€‚äº‹å®ä¸Šï¼Œè¿™æ˜¯å®ƒé»˜è®¤çš„ç†Ÿæ€§ï¼Œä½ éœ€è¦åšçš„å°±æ˜¯ç»™å¯¹ç­‰çš„å®ä¾‹ä¸€ä¸ªåˆæ³•çš„å…³è”serviceurlã€‚ å‚è€ƒæ–‡çŒ®ï¼šé»‘é©¬è¯¾ç¨‹ç¬”è®°ï¼Œæ–¹å¿—æœ‹çš„åšå®¢","link":"/2021/02/25/Draft/2021/SpringCloud/"},{"title":"é­‘é­…å…ˆç”Ÿ | è®¡ç®—æœºç½‘ç»œ","text":"ç½‘ç»œåŸºç¡€ 1. ç½‘ç»œå±‚æ¬¡åˆ’åˆ† OSI/RMæ¨¡å‹ï¼ˆOpen System Interconnection/Reference Modelï¼‰å¼€æ”¾ç³»ç»Ÿäº’è”å‚è€ƒæ¨¡å‹ 2. OSIä¸ƒå±‚ç½‘ç»œæ¨¡å‹OSIä¸ƒå±‚ç½‘ç»œæ¨¡å‹ 1ï¼‰ç‰©ç†å±‚ï¼ˆPhysical Layerï¼‰Â· æ¿€æ´»ã€ç»´æŒã€å…³é—­é€šä¿¡ç«¯ç‚¹ä¹‹é—´çš„æœºæ¢°ç‰¹æ€§ã€ç”µæ°”ç‰¹æ€§ã€åŠŸèƒ½ç‰¹æ€§ä»¥åŠè¿‡ç¨‹ç‰¹æ€§ã€‚è¯¥å±‚ä¸ºä¸Šå±‚åè®®æä¾›äº†ä¸€ä¸ªä¼ è¾“æ•°æ®çš„å¯é çš„ç‰©ç†åª’ä½“ã€‚ç®€å•çš„è¯´ï¼Œç‰©ç†å±‚ç¡®ä¿åŸå§‹çš„æ•°æ®å¯åœ¨å„ç§ç‰©ç†åª’ä½“ä¸Šä¼ è¾“ã€‚ä¸¤ä¸ªé‡è¦çš„è®¾å¤‡åç§°ï¼Œä¸­ç»§å™¨ï¼ˆRepeaterï¼Œæ”¾å¤§å™¨ï¼‰ï¼Œé›†çº¿å™¨ã€‚ 2ï¼‰æ•°æ®é“¾è·¯å±‚ï¼ˆData Link Layerï¼‰Â· æ•°æ®é“¾è·¯å±‚åœ¨ç‰©ç†å±‚æä¾›çš„æœåŠ¡çš„åŸºç¡€ä¸Šå‘ç½‘ç»œå±‚æä¾›æœåŠ¡ï¼Œå…¶æœ€åŸºæœ¬çš„æœåŠ¡æ˜¯å°†æºè‡ªç½‘ç»œå±‚æ¥çš„æ•°æ®å¯é åœ°ä¼ è¾“åˆ°ç›¸é‚»èŠ‚ç‚¹çš„ç›®æ ‡æœºç½‘ç»œå±‚ã€‚ä¸ºè¾¾åˆ°è¿™ä¸€ç›®çš„ï¼Œæ•°æ®é“¾è·¯å¿…é¡»å…·å¤‡ä¸€ç³»åˆ—ç›¸åº”çš„åŠŸèƒ½ï¼Œä¸»è¦æœ‰ï¼šå¦‚ä½•å°†æ•°æ®ç»„åˆæˆæ•°æ®å—ï¼Œåœ¨æ•°æ®é“¾è·¯å±‚ä¸­ç§°è¿™ç§æ•°æ®å—ä¸ºå¸§ï¼ˆframeï¼‰ï¼Œå¸§æ˜¯æ•°æ®é“¾è·¯å±‚çš„ä¼ é€å•ä½ï¼›å¦‚ä½•æ§åˆ¶å¸§åœ¨ç‰©ç†ä¿¡é“ä¸Šçš„ä¼ è¾“ï¼ŒåŒ…æ‹¬å¦‚ä½•å¤„ç†ä¼ è¾“å·®é”™ï¼Œå¦‚ä½•è°ƒèŠ‚å‘é€é€Ÿç‡ä»¥ä½¿ä¸æ¥æ”¶æ–¹ç›¸åŒ¹é…ï¼›ä»¥åŠåœ¨ä¸¤ä¸ªç½‘ç»œå®ä½“ä¹‹é—´æä¾›æ•°æ®é“¾è·¯é€šè·¯çš„å»ºç«‹ã€ç»´æŒå’Œé‡Šæ”¾çš„ç®¡ç†ã€‚æ•°æ®é“¾è·¯å±‚åœ¨ä¸å¯é çš„ç‰©ç†ä»‹è´¨ä¸Šæä¾›å¯é çš„ä¼ è¾“ã€‚è¯¥å±‚çš„ä½œç”¨åŒ…æ‹¬ï¼šç‰©ç†åœ°å€å¯»å€ã€æ•°æ®çš„æˆå¸§ã€æµé‡æ§åˆ¶ã€æ•°æ®çš„æ£€é”™ã€é‡å‘ç­‰ã€‚ Â· æœ‰å…³æ•°æ®é“¾è·¯å±‚çš„é‡è¦çŸ¥è¯†ç‚¹ï¼š1&gt; æ•°æ®é“¾è·¯å±‚ä¸ºç½‘ç»œå±‚æä¾›å¯é çš„æ•°æ®ä¼ è¾“ï¼›2&gt; åŸºæœ¬æ•°æ®å•ä½ä¸ºå¸§ï¼›3&gt; ä¸»è¦çš„åè®®ï¼šä»¥å¤ªç½‘åè®®ï¼›4&gt; ä¸¤ä¸ªé‡è¦è®¾å¤‡åç§°ï¼šç½‘æ¡¥å’Œäº¤æ¢æœºã€‚ 3ï¼‰ç½‘ç»œå±‚ï¼ˆNetwork Layerï¼‰Â· å®ç°ä¸¤ä¸ªç«¯ç³»ç»Ÿä¹‹é—´çš„æ•°æ®é€æ˜ä¼ é€ï¼Œå…·ä½“åŠŸèƒ½åŒ…æ‹¬å¯»å€å’Œè·¯ç”±é€‰æ‹©ã€è¿æ¥çš„å»ºç«‹ã€ä¿æŒå’Œç»ˆæ­¢ç­‰ã€‚å®ƒæä¾›çš„æœåŠ¡ä½¿ä¼ è¾“å±‚ä¸éœ€è¦äº†è§£ç½‘ç»œä¸­çš„æ•°æ®ä¼ è¾“å’Œäº¤æ¢æŠ€æœ¯ã€‚å¦‚æœæ‚¨æƒ³ç”¨å°½é‡å°‘çš„è¯æ¥è®°ä½ç½‘ç»œå±‚ï¼Œé‚£å°±æ˜¯â€è·¯å¾„é€‰æ‹©ã€è·¯ç”±åŠé€»è¾‘å¯»å€â€ã€‚ç½‘ç»œå±‚ä¸­æ¶‰åŠä¼—å¤šçš„åè®®ï¼Œå…¶ä¸­åŒ…æ‹¬æœ€é‡è¦çš„åè®®ï¼Œä¹Ÿæ˜¯TCP/IPçš„æ ¸å¿ƒåè®®â€”â€”IPåè®®ã€‚IPåè®®éå¸¸ç®€å•ï¼Œä»…ä»…æä¾›ä¸å¯é ã€æ— è¿æ¥çš„ä¼ é€æœåŠ¡ã€‚IPåè®®çš„ä¸»è¦åŠŸèƒ½æœ‰ï¼šæ— è¿æ¥æ•°æ®æŠ¥ä¼ è¾“ã€æ•°æ®æŠ¥è·¯ç”±é€‰æ‹©å’Œå·®é”™æ§åˆ¶ã€‚ä¸IPåè®®é…å¥—ä½¿ç”¨å®ç°å…¶åŠŸèƒ½çš„è¿˜æœ‰åœ°å€è§£æåè®®ARPã€é€†åœ°å€è§£æåè®®RARPã€å› ç‰¹ç½‘æŠ¥æ–‡åè®®ICMPã€å› ç‰¹ç½‘ç»„ç®¡ç†åè®®IGMPã€‚ Â· å…·ä½“çš„åè®®æˆ‘ä»¬ä¼šåœ¨æ¥ä¸‹æ¥çš„éƒ¨åˆ†è¿›è¡Œæ€»ç»“ï¼Œæœ‰å…³ç½‘ç»œå±‚çš„é‡ç‚¹ä¸ºï¼š 1&gt; ç½‘ç»œå±‚è´Ÿè´£å¯¹å­ç½‘é—´çš„æ•°æ®åŒ…è¿›è¡Œè·¯ç”±é€‰æ‹©ã€‚æ­¤å¤–ï¼Œç½‘ç»œå±‚è¿˜å¯ä»¥å®ç°æ‹¥å¡æ§åˆ¶ã€ç½‘é™…äº’è¿ç­‰åŠŸèƒ½ï¼› 2&gt; åŸºæœ¬æ•°æ®å•ä½ä¸ºIPæ•°æ®æŠ¥ï¼› 3&gt; åŒ…å«çš„ä¸»è¦åè®®ï¼š IPåè®®ï¼ˆInternet Protocolï¼Œå› ç‰¹ç½‘äº’è”åè®®ï¼‰; ICMPåè®®ï¼ˆInternet Control Message Protocolï¼Œå› ç‰¹ç½‘æ§åˆ¶æŠ¥æ–‡åè®®ï¼‰; ARPåè®®ï¼ˆAddress Resolution Protocolï¼Œåœ°å€è§£æåè®®ï¼‰; RARPåè®®ï¼ˆReverse Address Resolution Protocolï¼Œé€†åœ°å€è§£æåè®®ï¼‰ã€‚ 4&gt; é‡è¦çš„è®¾å¤‡ï¼šè·¯ç”±å™¨ã€‚ 4ï¼‰ä¼ è¾“å±‚ï¼ˆTransport Layerï¼‰Â· ç¬¬ä¸€ä¸ªç«¯åˆ°ç«¯ï¼Œå³ä¸»æœºåˆ°ä¸»æœºçš„å±‚æ¬¡ã€‚ä¼ è¾“å±‚è´Ÿè´£å°†ä¸Šå±‚æ•°æ®åˆ†æ®µå¹¶æä¾›ç«¯åˆ°ç«¯çš„ã€å¯é çš„æˆ–ä¸å¯é çš„ä¼ è¾“ã€‚æ­¤å¤–ï¼Œä¼ è¾“å±‚è¿˜è¦å¤„ç†ç«¯åˆ°ç«¯çš„å·®é”™æ§åˆ¶å’Œæµé‡æ§åˆ¶é—®é¢˜ã€‚ ä¼ è¾“å±‚çš„ä»»åŠ¡æ˜¯æ ¹æ®é€šä¿¡å­ç½‘çš„ç‰¹æ€§ï¼Œæœ€ä½³çš„åˆ©ç”¨ç½‘ç»œèµ„æºï¼Œä¸ºä¸¤ä¸ªç«¯ç³»ç»Ÿçš„ä¼šè¯å±‚ä¹‹é—´ï¼Œæä¾›å»ºç«‹ã€ç»´æŠ¤å’Œå–æ¶ˆä¼ è¾“è¿æ¥çš„åŠŸèƒ½ï¼Œè´Ÿè´£ç«¯åˆ°ç«¯çš„å¯é æ•°æ®ä¼ è¾“ã€‚åœ¨è¿™ä¸€å±‚ï¼Œä¿¡æ¯ä¼ é€çš„åè®®æ•°æ®å•å…ƒç§°ä¸ºæ®µæˆ–æŠ¥æ–‡ã€‚ ç½‘ç»œå±‚åªæ˜¯æ ¹æ®ç½‘ç»œåœ°å€å°†æºç»“ç‚¹å‘å‡ºçš„æ•°æ®åŒ…ä¼ é€åˆ°ç›®çš„ç»“ç‚¹ï¼Œè€Œä¼ è¾“å±‚åˆ™è´Ÿè´£å°†æ•°æ®å¯é åœ°ä¼ é€åˆ°ç›¸åº”çš„ç«¯å£ã€‚ Â· é‡ç‚¹ï¼š1&gt; ä¼ è¾“å±‚è´Ÿè´£å°†ä¸Šå±‚æ•°æ®åˆ†æ®µå¹¶æä¾›ç«¯åˆ°ç«¯çš„ã€å¯é çš„æˆ–ä¸å¯é çš„ä¼ è¾“ä»¥åŠç«¯åˆ°ç«¯çš„å·®é”™æ§åˆ¶å’Œæµé‡æ§åˆ¶é—®é¢˜ï¼›2&gt; åŒ…å«çš„ä¸»è¦åè®®ï¼šTCPåè®®ï¼ˆTransmission Control Protocolï¼Œä¼ è¾“æ§åˆ¶åè®®ï¼‰ã€UDPåè®®ï¼ˆUser Datagram Protocolï¼Œç”¨æˆ·æ•°æ®æŠ¥åè®®ï¼‰ï¼›3&gt; é‡è¦è®¾å¤‡ï¼šç½‘å…³ã€‚ 5ï¼‰ä¼šè¯å±‚Â· ä¼šè¯å±‚ç®¡ç†ä¸»æœºä¹‹é—´çš„ä¼šè¯è¿›ç¨‹ï¼Œå³è´Ÿè´£å»ºç«‹ã€ç®¡ç†ã€ç»ˆæ­¢è¿›ç¨‹ä¹‹é—´çš„ä¼šè¯ã€‚ä¼šè¯å±‚è¿˜åˆ©ç”¨åœ¨æ•°æ®ä¸­æ’å…¥æ ¡éªŒç‚¹æ¥å®ç°æ•°æ®çš„åŒæ­¥ã€‚ 6ï¼‰è¡¨ç¤ºå±‚Â· è¡¨ç¤ºå±‚å¯¹ä¸Šå±‚æ•°æ®æˆ–ä¿¡æ¯è¿›è¡Œå˜æ¢ä»¥ä¿è¯ä¸€ä¸ªä¸»æœºåº”ç”¨å±‚ä¿¡æ¯å¯ä»¥è¢«å¦ä¸€ä¸ªä¸»æœºçš„åº”ç”¨ç¨‹åºç†è§£ã€‚è¡¨ç¤ºå±‚çš„æ•°æ®è½¬æ¢åŒ…æ‹¬æ•°æ®çš„åŠ å¯†ã€å‹ç¼©ã€æ ¼å¼è½¬æ¢ç­‰ã€‚ 7ï¼‰åº”ç”¨å±‚Â· ä¸ºæ“ä½œç³»ç»Ÿæˆ–ç½‘ç»œåº”ç”¨ç¨‹åºæä¾›è®¿é—®ç½‘ç»œæœåŠ¡çš„æ¥å£ã€‚ Â· ä¼šè¯å±‚ã€è¡¨ç¤ºå±‚å’Œåº”ç”¨å±‚é‡ç‚¹ï¼š Â· 1&gt; æ•°æ®ä¼ è¾“åŸºæœ¬å•ä½ä¸ºæŠ¥æ–‡ï¼› Â· 2&gt; åŒ…å«çš„ä¸»è¦åè®®ï¼šFTPï¼ˆæ–‡ä»¶ä¼ é€åè®®ï¼‰ã€Telnetï¼ˆè¿œç¨‹ç™»å½•åè®®ï¼‰ã€DNSï¼ˆåŸŸåè§£æåè®®ï¼‰ã€SMTPï¼ˆé‚®ä»¶ä¼ é€åè®®ï¼‰ï¼ŒPOP3åè®®ï¼ˆé‚®å±€åè®®ï¼‰ï¼ŒHTTPåè®®ï¼ˆHyper Text Transfer Protocolï¼‰ã€‚ 3. IPåœ°å€1ï¼‰ç½‘ç»œåœ°å€IPåœ°å€ç”±ç½‘ç»œå·ï¼ˆåŒ…æ‹¬å­ç½‘å·ï¼‰å’Œä¸»æœºå·ç»„æˆï¼Œç½‘ç»œåœ°å€çš„ä¸»æœºå·ä¸ºå…¨0ï¼Œç½‘ç»œåœ°å€ä»£è¡¨ç€æ•´ä¸ªç½‘ç»œã€‚ 2ï¼‰å¹¿æ’­åœ°å€å¹¿æ’­åœ°å€é€šå¸¸ç§°ä¸ºç›´æ¥å¹¿æ’­åœ°å€ï¼Œæ˜¯ä¸ºäº†åŒºåˆ†å—é™å¹¿æ’­åœ°å€ã€‚ å¹¿æ’­åœ°å€ä¸ç½‘ç»œåœ°å€çš„ä¸»æœºå·æ­£å¥½ç›¸åï¼Œå¹¿æ’­åœ°å€ä¸­ï¼Œä¸»æœºå·ä¸ºå…¨1ã€‚å½“å‘æŸä¸ªç½‘ç»œçš„å¹¿æ’­åœ°å€å‘é€æ¶ˆæ¯æ—¶ï¼Œè¯¥ç½‘ç»œå†…çš„æ‰€æœ‰ä¸»æœºéƒ½èƒ½æ”¶åˆ°è¯¥å¹¿æ’­æ¶ˆæ¯ã€‚ 3ï¼‰ç»„æ’­åœ°å€Dç±»åœ°å€å°±æ˜¯ç»„æ’­åœ°å€ã€‚ å…ˆå›å¿†ä¸‹Aï¼ŒBï¼ŒCï¼ŒDç±»åœ°å€å§ï¼š Aç±»åœ°å€ä»¥0å¼€å¤´ï¼Œç¬¬ä¸€ä¸ªå­—èŠ‚ä½œä¸ºç½‘ç»œå·ï¼Œåœ°å€èŒƒå›´ä¸ºï¼š0.0.0.0~127.255.255.255ï¼›(modified @2016.05.31) Bç±»åœ°å€ä»¥10å¼€å¤´ï¼Œå‰ä¸¤ä¸ªå­—èŠ‚ä½œä¸ºç½‘ç»œå·ï¼Œåœ°å€èŒƒå›´æ˜¯ï¼š128.0.0.0~191.255.255.255; Cç±»åœ°å€ä»¥110å¼€å¤´ï¼Œå‰ä¸‰ä¸ªå­—èŠ‚ä½œä¸ºç½‘ç»œå·ï¼Œåœ°å€èŒƒå›´æ˜¯ï¼š192.0.0.0~223.255.255.255ã€‚ Dç±»åœ°å€ä»¥1110å¼€å¤´ï¼Œåœ°å€èŒƒå›´æ˜¯224.0.0.0~239.255.255.255ï¼ŒDç±»åœ°å€ä½œä¸ºç»„æ’­åœ°å€ï¼ˆä¸€å¯¹å¤šçš„é€šä¿¡ï¼‰ï¼› Eç±»åœ°å€ä»¥1111å¼€å¤´ï¼Œåœ°å€èŒƒå›´æ˜¯240.0.0.0~255.255.255.255ï¼ŒEç±»åœ°å€ä¸ºä¿ç•™åœ°å€ï¼Œä¾›ä»¥åä½¿ç”¨ã€‚ æ³¨ï¼šåªæœ‰A,B,Cæœ‰ç½‘ç»œå·å’Œä¸»æœºå·ä¹‹åˆ†ï¼ŒDç±»åœ°å€å’ŒEç±»åœ°å€æ²¡æœ‰åˆ’åˆ†ç½‘ç»œå·å’Œä¸»æœºå·ã€‚ 4ï¼‰255.255.255.255è¯¥IPåœ°å€æŒ‡çš„æ˜¯å—é™çš„å¹¿æ’­åœ°å€ã€‚å—é™å¹¿æ’­åœ°å€ä¸ä¸€èˆ¬å¹¿æ’­åœ°å€ï¼ˆç›´æ¥å¹¿æ’­åœ°å€ï¼‰çš„åŒºåˆ«åœ¨äºï¼Œå—é™å¹¿æ’­åœ°å€åªèƒ½ç”¨äºæœ¬åœ°ç½‘ç»œï¼Œè·¯ç”±å™¨ä¸ä¼šè½¬å‘ä»¥å—é™å¹¿æ’­åœ°å€ä¸ºç›®çš„åœ°å€çš„åˆ†ç»„ï¼›ä¸€èˆ¬å¹¿æ’­åœ°å€æ—¢å¯åœ¨æœ¬åœ°å¹¿æ’­ï¼Œä¹Ÿå¯è·¨ç½‘æ®µå¹¿æ’­ã€‚ä¾‹å¦‚ï¼šä¸»æœº192.168.1.1/30ä¸Šçš„ç›´æ¥å¹¿æ’­æ•°æ®åŒ…åï¼Œå¦å¤–ä¸€ä¸ªç½‘æ®µ192.168.1.5/30ä¹Ÿèƒ½æ”¶åˆ°è¯¥æ•°æ®æŠ¥ï¼›è‹¥å‘é€å—é™å¹¿æ’­æ•°æ®æŠ¥ï¼Œåˆ™ä¸èƒ½æ”¶åˆ°ã€‚ æ³¨ï¼šä¸€èˆ¬çš„å¹¿æ’­åœ°å€ï¼ˆç›´æ¥å¹¿æ’­åœ°å€ï¼‰èƒ½å¤Ÿé€šè¿‡æŸäº›è·¯ç”±å™¨ï¼ˆå½“ç„¶ä¸æ˜¯æ‰€æœ‰çš„è·¯ç”±å™¨ï¼‰ï¼Œè€Œå—é™çš„å¹¿æ’­åœ°å€ä¸èƒ½é€šè¿‡è·¯ç”±å™¨ã€‚ 5ï¼‰0.0.0.0å¸¸ç”¨äºå¯»æ‰¾è‡ªå·±çš„IPåœ°å€ï¼Œä¾‹å¦‚åœ¨æˆ‘ä»¬çš„RARPï¼ŒBOOTPå’ŒDHCPåè®®ä¸­ï¼Œè‹¥æŸä¸ªæœªçŸ¥IPåœ°å€çš„æ— ç›˜æœºæƒ³è¦çŸ¥é“è‡ªå·±çš„IPåœ°å€ï¼Œå®ƒå°±ä»¥255.255.255.255ä¸ºç›®çš„åœ°å€ï¼Œå‘æœ¬åœ°èŒƒå›´ï¼ˆå…·ä½“è€Œè¨€æ˜¯è¢«å„ä¸ªè·¯ç”±å™¨å±è”½çš„èŒƒå›´å†…ï¼‰çš„æœåŠ¡å™¨å‘é€IPè¯·æ±‚åˆ†ç»„ã€‚ 6ï¼‰å›ç¯åœ°å€127.0.0.0/8è¢«ç”¨ä½œå›ç¯åœ°å€ï¼Œå›ç¯åœ°å€è¡¨ç¤ºæœ¬æœºçš„åœ°å€ï¼Œå¸¸ç”¨äºå¯¹æœ¬æœºçš„æµ‹è¯•ï¼Œç”¨çš„æœ€å¤šçš„æ˜¯127.0.0.1ã€‚ 7ï¼‰Aã€Bã€Cç±»ç§æœ‰åœ°å€ç§æœ‰åœ°å€(private address)ä¹Ÿå«ä¸“ç”¨åœ°å€ï¼Œå®ƒä»¬ä¸ä¼šåœ¨å…¨çƒä½¿ç”¨ï¼Œåªå…·æœ‰æœ¬åœ°æ„ä¹‰ã€‚ Aç±»ç§æœ‰åœ°å€ï¼š10.0.0.0/8ï¼ŒèŒƒå›´æ˜¯ï¼š10.0.0.0~10.255.255.255 Bç±»ç§æœ‰åœ°å€ï¼š172.16.0.0/12ï¼ŒèŒƒå›´æ˜¯ï¼š172.16.0.0~172.31.255.255 Cç±»ç§æœ‰åœ°å€ï¼š192.168.0.0/16ï¼ŒèŒƒå›´æ˜¯ï¼š192.168.0.0~192.168.255.255 4. å­ç½‘æ©ç åŠç½‘ç»œåˆ’åˆ†éšç€äº’è¿ç½‘åº”ç”¨çš„ä¸æ–­æ‰©å¤§ï¼ŒåŸå…ˆçš„IPv4çš„å¼Šç«¯ä¹Ÿé€æ¸æš´éœ²å‡ºæ¥ï¼Œå³ç½‘ç»œå·å ä½å¤ªå¤šï¼Œè€Œä¸»æœºå·ä½å¤ªå°‘ï¼Œæ‰€ä»¥å…¶èƒ½æä¾›çš„ä¸»æœºåœ°å€ä¹Ÿè¶Šæ¥è¶Šç¨€ç¼ºï¼Œç›®å‰é™¤äº†ä½¿ç”¨NATåœ¨ä¼ä¸šå†…éƒ¨åˆ©ç”¨ä¿ç•™åœ°å€è‡ªè¡Œåˆ†é…ä»¥å¤–ï¼Œé€šå¸¸éƒ½å¯¹ä¸€ä¸ªé«˜ç±»åˆ«çš„IPåœ°å€è¿›è¡Œå†åˆ’åˆ†ï¼Œä»¥å½¢æˆå¤šä¸ªå­ç½‘ï¼Œæä¾›ç»™ä¸åŒè§„æ¨¡çš„ç”¨æˆ·ç¾¤ä½¿ç”¨ã€‚è¿™é‡Œä¸»è¦æ˜¯ä¸ºäº†åœ¨ç½‘ç»œåˆ†æ®µæƒ…å†µä¸‹æœ‰æ•ˆåœ°åˆ©ç”¨IPåœ°å€ï¼Œé€šè¿‡å¯¹ä¸»æœºå·çš„é«˜ä½éƒ¨åˆ†å–ä½œä¸ºå­ç½‘å·ï¼Œä»é€šå¸¸çš„ç½‘ç»œä½ç•Œé™ä¸­æ‰©å±•æˆ–å‹ç¼©å­ç½‘æ©ç ï¼Œç”¨æ¥åˆ›å»ºæŸç±»åœ°å€çš„æ›´å¤šå­ç½‘ã€‚ä½†åˆ›å»ºæ›´å¤šçš„å­ç½‘æ—¶ï¼Œåœ¨æ¯ä¸ªå­ç½‘ä¸Šçš„å¯ç”¨ä¸»æœºåœ°å€æ•°ç›®ä¼šæ¯”åŸå…ˆå‡å°‘ã€‚ä»€ä¹ˆæ˜¯å­ç½‘æ©ç ï¼Ÿå­ç½‘æ©ç æ˜¯æ ‡å¿—ä¸¤ä¸ªIPåœ°å€æ˜¯å¦åŒå±äºä¸€ä¸ªå­ç½‘çš„ï¼Œä¹Ÿæ˜¯32ä½äºŒè¿›åˆ¶åœ°å€ï¼Œå…¶æ¯ä¸€ä¸ªä¸º1ä»£è¡¨è¯¥ä½æ˜¯ç½‘ç»œä½ï¼Œä¸º0ä»£è¡¨ä¸»æœºä½ã€‚å®ƒå’ŒIPåœ°å€ä¸€æ ·ä¹Ÿæ˜¯ä½¿ç”¨ç‚¹å¼åè¿›åˆ¶æ¥è¡¨ç¤ºçš„ã€‚å¦‚æœä¸¤ä¸ªIPåœ°å€åœ¨å­ç½‘æ©ç çš„æŒ‰ä½ä¸çš„è®¡ç®—ä¸‹æ‰€å¾—ç»“æœç›¸åŒï¼Œå³è¡¨æ˜å®ƒä»¬å…±å±äºåŒä¸€å­ç½‘ä¸­ã€‚åœ¨è®¡ç®—å­ç½‘æ©ç æ—¶ï¼Œæˆ‘ä»¬è¦æ³¨æ„IPåœ°å€ä¸­çš„ä¿ç•™åœ°å€ï¼Œå³â€ 0â€åœ°å€å’Œå¹¿æ’­åœ°å€ï¼Œå®ƒä»¬æ˜¯æŒ‡ä¸»æœºåœ°å€æˆ–ç½‘ç»œåœ°å€å…¨ä¸ºâ€ 0â€æˆ–â€ 1â€æ—¶çš„IPåœ°å€ï¼Œå®ƒä»¬ä»£è¡¨ç€æœ¬ç½‘ç»œåœ°å€å’Œå¹¿æ’­åœ°å€ï¼Œä¸€èˆ¬æ˜¯ä¸èƒ½è¢«è®¡ç®—åœ¨å†…çš„ã€‚å­ç½‘æ©ç çš„è®¡ç®—ï¼šå¯¹äºæ— é¡»å†åˆ’åˆ†æˆå­ç½‘çš„IPåœ°å€æ¥è¯´ï¼Œå…¶å­ç½‘æ©ç éå¸¸ç®€å•ï¼Œå³æŒ‰ç…§å…¶å®šä¹‰å³å¯å†™å‡ºï¼šå¦‚æŸBç±»IPåœ°å€ä¸º 10.12.3.0ï¼Œæ— é¡»å†åˆ†å‰²å­ç½‘ï¼Œåˆ™è¯¥IPåœ°å€çš„å­ç½‘æ©ç 255.255.0.0ã€‚å¦‚æœå®ƒæ˜¯ä¸€ä¸ªCç±»åœ°å€ï¼Œåˆ™å…¶å­ç½‘æ©ç ä¸º 255.255.255.0ã€‚å…¶å®ƒç±»æ¨ï¼Œä¸å†è¯¦è¿°ã€‚ä¸‹é¢æˆ‘ä»¬å…³é”®è¦ä»‹ç»çš„æ˜¯ä¸€ä¸ªIPåœ°å€ï¼Œè¿˜éœ€è¦å°†å…¶é«˜ä½ä¸»æœºä½å†ä½œä¸ºåˆ’åˆ†å‡ºçš„å­ç½‘ç½‘ç»œå·ï¼Œå‰©ä¸‹çš„æ˜¯æ¯ä¸ªå­ç½‘çš„ä¸»æœºå·ï¼Œè¿™æ—¶è¯¥å¦‚ä½•è¿›è¡Œæ¯ä¸ªå­ç½‘çš„æ©ç è®¡ç®—ã€‚ ä¸‹é¢æ€»ç»“ä¸€ä¸‹æœ‰å…³å­ç½‘æ©ç å’Œç½‘ç»œåˆ’åˆ†å¸¸è§çš„é¢è¯•è€ƒé¢˜ï¼š 1ï¼‰åˆ©ç”¨å­ç½‘æ•°æ¥è®¡ç®—Â· åœ¨æ±‚å­ç½‘æ©ç ä¹‹å‰å¿…é¡»å…ˆææ¸…æ¥šè¦åˆ’åˆ†çš„å­ç½‘æ•°ç›®ï¼Œä»¥åŠæ¯ä¸ªå­ç½‘å†…çš„æ‰€éœ€ä¸»æœºæ•°ç›®ã€‚(1) å°†å­ç½‘æ•°ç›®è½¬åŒ–ä¸ºäºŒè¿›åˆ¶æ¥è¡¨ç¤º;å¦‚æ¬²å°†Bç±»IPåœ°å€168.195.0.0åˆ’åˆ†æˆ27ä¸ªå­ç½‘ï¼š27=11011ï¼›(2) å–å¾—è¯¥äºŒè¿›åˆ¶çš„ä½æ•°ï¼Œä¸ºNï¼›è¯¥äºŒè¿›åˆ¶ä¸ºäº”ä½æ•°ï¼ŒN = 5(3) å–å¾—è¯¥IPåœ°å€çš„ç±»å­ç½‘æ©ç ï¼Œå°†å…¶ä¸»æœºåœ°å€éƒ¨åˆ†çš„çš„å‰Nä½ç½®1å³å¾—å‡ºè¯¥IPåœ°å€åˆ’åˆ†å­ç½‘çš„å­ç½‘æ©ç ã€‚å°†Bç±»åœ°å€çš„å­ç½‘æ©ç 255.255.0.0çš„ä¸»æœºåœ°å€å‰5ä½ç½® 1ï¼Œå¾—åˆ° 255.255.248.0 2ï¼‰åˆ©ç”¨ä¸»æœºæ•°æ¥è®¡ç®—Â· å¦‚æ¬²å°†Bç±»IPåœ°å€168.195.0.0åˆ’åˆ†æˆè‹¥å¹²å­ç½‘ï¼Œæ¯ä¸ªå­ç½‘å†…æœ‰ä¸»æœº700å°ï¼š(1) å°†ä¸»æœºæ•°ç›®è½¬åŒ–ä¸ºäºŒè¿›åˆ¶æ¥è¡¨ç¤ºï¼›700=1010111100(2) å¦‚æœä¸»æœºæ•°å°äºæˆ–ç­‰äº254ï¼ˆæ³¨æ„å»æ‰ä¿ç•™çš„ä¸¤ä¸ªIPåœ°å€ï¼‰ï¼Œåˆ™å–å¾—è¯¥ä¸»æœºçš„äºŒè¿›åˆ¶ä½æ•°ï¼Œä¸ºNï¼Œè¿™é‡Œè‚¯å®š N8ï¼Œè¿™å°±æ˜¯è¯´ä¸»æœºåœ°å€å°†å æ®ä¸æ­¢8ä½ï¼›è¯¥äºŒè¿›åˆ¶ä¸ºåä½æ•°ï¼ŒN=10ï¼›(3) ä½¿ç”¨255.255.255.255æ¥å°†è¯¥ç±»IPåœ°å€çš„ä¸»æœºåœ°å€ä½æ•°å…¨éƒ¨ç½®1ï¼Œç„¶åä»åå‘å‰çš„å°†Nä½å…¨éƒ¨ç½®ä¸º 0ï¼Œå³ä¸ºå­ç½‘æ©ç å€¼ã€‚å°†è¯¥Bç±»åœ°å€çš„å­ç½‘æ©ç 255.255.0.0çš„ä¸»æœºåœ°å€å…¨éƒ¨ç½®1ï¼Œå¾—åˆ°255.255.255.255ï¼Œç„¶åå†ä»åå‘å‰å°†å 10ä½ç½®0,å³ä¸ºï¼š11111111.11111111.11111100.00000000ï¼Œå³255.255.252.0ã€‚è¿™å°±æ˜¯è¯¥æ¬²åˆ’åˆ†æˆä¸»æœºä¸º700å°çš„Bç±»IPåœ°å€ 168.195.0.0çš„å­ç½‘æ©ç ã€‚ 3ï¼‰æ ¹æ®æ¯ä¸ªç½‘ç»œçš„ä¸»æœºæ•°é‡è¿›è¡Œå­ç½‘åœ°å€çš„è§„åˆ’å’Œè®¡ç®—å­ç½‘æ©ç Â· è¿™ä¹Ÿå¯æŒ‰ä¸Šè¿°åŸåˆ™è¿›è¡Œè®¡ç®—ã€‚æ¯”å¦‚ä¸€ä¸ªå­ç½‘æœ‰10å°ä¸»æœºï¼Œé‚£ä¹ˆå¯¹äºè¿™ä¸ªå­ç½‘éœ€è¦çš„IPåœ°å€æ˜¯ï¼š10ï¼‹1ï¼‹1ï¼‹1ï¼13æ³¨æ„ï¼šåŠ çš„ç¬¬ä¸€ä¸ª1æ˜¯æŒ‡è¿™ä¸ªç½‘ç»œè¿æ¥æ—¶æ‰€éœ€çš„ç½‘å…³åœ°å€ï¼Œæ¥ç€çš„ä¸¤ä¸ª1åˆ†åˆ«æ˜¯æŒ‡ç½‘ç»œåœ°å€å’Œå¹¿æ’­åœ°å€ã€‚å› ä¸º13å°äº16ï¼ˆ16ç­‰äº2çš„4æ¬¡æ–¹ï¼‰ï¼Œæ‰€ä»¥ä¸»æœºä½ä¸º4ä½ã€‚è€Œ256ï¼16ï¼240ï¼Œæ‰€ä»¥è¯¥å­ç½‘æ©ç ä¸º255.255.255.240ã€‚å¦‚æœä¸€ä¸ªå­ç½‘æœ‰14å°ä¸»æœºï¼Œä¸å°‘äººå¸¸çŠ¯çš„é”™è¯¯æ˜¯ï¼šä¾ç„¶åˆ†é…å…·æœ‰16ä¸ªåœ°å€ç©ºé—´çš„å­ç½‘ï¼Œè€Œå¿˜è®°äº†ç»™ç½‘å…³åˆ†é…åœ°å€ã€‚è¿™æ ·å°±é”™è¯¯äº†ï¼Œå› ä¸º14ï¼‹1ï¼‹1ï¼‹1ï¼17ï¼Œ17å¤§äº16ï¼Œæ‰€ä»¥æˆ‘ä»¬åªèƒ½åˆ†é…å…·æœ‰32ä¸ªåœ°å€ï¼ˆ32ç­‰äº2çš„5æ¬¡æ–¹ï¼‰ç©ºé—´çš„å­ç½‘ã€‚è¿™æ—¶å­ç½‘æ©ç ä¸ºï¼š255.255.255.224ã€‚ 5. ARP/RARPåè®®åœ°å€è§£æåè®®ï¼Œå³ARPï¼ˆAddress Resolution Protocolï¼‰ï¼Œæ˜¯æ ¹æ®IPåœ°å€è·å–ç‰©ç†åœ°å€çš„ä¸€ä¸ªTCP/IPåè®®ã€‚ä¸»æœºå‘é€ä¿¡æ¯æ—¶å°†åŒ…å«ç›®æ ‡IPåœ°å€çš„ARPè¯·æ±‚å¹¿æ’­åˆ°ç½‘ç»œä¸Šçš„æ‰€æœ‰ä¸»æœºï¼Œå¹¶æ¥æ”¶è¿”å›æ¶ˆæ¯ï¼Œä»¥æ­¤ç¡®å®šç›®æ ‡çš„ç‰©ç†åœ°å€ï¼›æ”¶åˆ°è¿”å›æ¶ˆæ¯åå°†è¯¥IPåœ°å€å’Œç‰©ç†åœ°å€å­˜å…¥æœ¬æœºARPç¼“å­˜ä¸­å¹¶ä¿ç•™ä¸€å®šæ—¶é—´ï¼Œä¸‹æ¬¡è¯·æ±‚æ—¶ç›´æ¥æŸ¥è¯¢ARPç¼“å­˜ä»¥èŠ‚çº¦èµ„æºã€‚åœ°å€è§£æåè®®æ˜¯å»ºç«‹åœ¨ç½‘ç»œä¸­å„ä¸ªä¸»æœºäº’ç›¸ä¿¡ä»»çš„åŸºç¡€ä¸Šçš„ï¼Œç½‘ç»œä¸Šçš„ä¸»æœºå¯ä»¥è‡ªä¸»å‘é€ARPåº”ç­”æ¶ˆæ¯ï¼Œå…¶ä»–ä¸»æœºæ”¶åˆ°åº”ç­”æŠ¥æ–‡æ—¶ä¸ä¼šæ£€æµ‹è¯¥æŠ¥æ–‡çš„çœŸå®æ€§å°±ä¼šå°†å…¶è®°å…¥æœ¬æœºARPç¼“å­˜ï¼›ç”±æ­¤æ”»å‡»è€…å°±å¯ä»¥å‘æŸä¸€ä¸»æœºå‘é€ä¼ªARPåº”ç­”æŠ¥æ–‡ï¼Œä½¿å…¶å‘é€çš„ä¿¡æ¯æ— æ³•åˆ°è¾¾é¢„æœŸçš„ä¸»æœºæˆ–åˆ°è¾¾é”™è¯¯çš„ä¸»æœºï¼Œè¿™å°±æ„æˆäº†ä¸€ä¸ªARPæ¬ºéª—ã€‚ARPå‘½ä»¤å¯ç”¨äºæŸ¥è¯¢æœ¬æœºARPç¼“å­˜ä¸­IPåœ°å€å’ŒMACåœ°å€çš„å¯¹åº”å…³ç³»ã€æ·»åŠ æˆ–åˆ é™¤é™æ€å¯¹åº”å…³ç³»ç­‰ã€‚ ARPå·¥ä½œæµç¨‹ä¸¾ä¾‹ï¼š ä¸»æœºAçš„IPåœ°å€ä¸º192.168.1.1ï¼ŒMACåœ°å€ä¸º0A-11-22-33-44-01ï¼› ä¸»æœºBçš„IPåœ°å€ä¸º192.168.1.2ï¼ŒMACåœ°å€ä¸º0A-11-22-33-44-02ï¼› å½“ä¸»æœºAè¦ä¸ä¸»æœºBé€šä¿¡æ—¶ï¼Œåœ°å€è§£æåè®®å¯ä»¥å°†ä¸»æœºBçš„IPåœ°å€ï¼ˆ192.168.1.2ï¼‰è§£ææˆä¸»æœºBçš„MACåœ°å€ï¼Œä»¥ä¸‹ä¸ºå·¥ä½œæµç¨‹ï¼š Â· ï¼ˆ1ï¼‰æ ¹æ®ä¸»æœºAä¸Šçš„è·¯ç”±è¡¨å†…å®¹ï¼ŒIPç¡®å®šç”¨äºè®¿é—®ä¸»æœºBçš„è½¬å‘IPåœ°å€æ˜¯192.168.1.2ã€‚ç„¶åAä¸»æœºåœ¨è‡ªå·±çš„æœ¬åœ°ARPç¼“å­˜ä¸­æ£€æŸ¥ä¸»æœºBçš„åŒ¹é…MACåœ°å€ã€‚ Â· ï¼ˆ2ï¼‰å¦‚æœä¸»æœºAåœ¨ARPç¼“å­˜ä¸­æ²¡æœ‰æ‰¾åˆ°æ˜ å°„ï¼Œå®ƒå°†è¯¢é—®192.168.1.2çš„ç¡¬ä»¶åœ°å€ï¼Œä»è€Œå°†ARPè¯·æ±‚å¸§å¹¿æ’­åˆ°æœ¬åœ°ç½‘ç»œä¸Šçš„æ‰€æœ‰ä¸»æœºã€‚æºä¸»æœºAçš„IPåœ°å€å’ŒMACåœ°å€éƒ½åŒ…æ‹¬åœ¨ARPè¯·æ±‚ä¸­ã€‚æœ¬åœ°ç½‘ç»œä¸Šçš„æ¯å°ä¸»æœºéƒ½æ¥æ”¶åˆ°ARPè¯·æ±‚å¹¶ä¸”æ£€æŸ¥æ˜¯å¦ä¸è‡ªå·±çš„IPåœ°å€åŒ¹é…ã€‚å¦‚æœä¸»æœºå‘ç°è¯·æ±‚çš„IPåœ°å€ä¸è‡ªå·±çš„IPåœ°å€ä¸åŒ¹é…ï¼Œå®ƒå°†ä¸¢å¼ƒARPè¯·æ±‚ã€‚ Â· ï¼ˆ3ï¼‰ä¸»æœºBç¡®å®šARPè¯·æ±‚ä¸­çš„IPåœ°å€ä¸è‡ªå·±çš„IPåœ°å€åŒ¹é…ï¼Œåˆ™å°†ä¸»æœºAçš„IPåœ°å€å’ŒMACåœ°å€æ˜ å°„æ·»åŠ åˆ°æœ¬åœ°ARPç¼“å­˜ä¸­ã€‚ Â· ï¼ˆ4ï¼‰ä¸»æœºBå°†åŒ…å«å…¶MACåœ°å€çš„ARPå›å¤æ¶ˆæ¯ç›´æ¥å‘é€å›ä¸»æœºAã€‚ Â· ï¼ˆ5ï¼‰å½“ä¸»æœºAæ”¶åˆ°ä»ä¸»æœºBå‘æ¥çš„ARPå›å¤æ¶ˆæ¯æ—¶ï¼Œä¼šç”¨ä¸»æœºBçš„IPå’ŒMACåœ°å€æ˜ å°„æ›´æ–°ARPç¼“å­˜ã€‚æœ¬æœºç¼“å­˜æ˜¯æœ‰ç”Ÿå­˜æœŸçš„ï¼Œç”Ÿå­˜æœŸç»“æŸåï¼Œå°†å†æ¬¡é‡å¤ä¸Šé¢çš„è¿‡ç¨‹ã€‚ä¸»æœºBçš„MACåœ°å€ä¸€æ—¦ç¡®å®šï¼Œä¸»æœºAå°±èƒ½å‘ä¸»æœºBå‘é€IPé€šä¿¡äº†ã€‚ é€†åœ°å€è§£æåè®®ï¼Œå³RARPï¼ŒåŠŸèƒ½å’ŒARPåè®®ç›¸å¯¹ï¼Œå…¶å°†å±€åŸŸç½‘ä¸­æŸä¸ªä¸»æœºçš„ç‰©ç†åœ°å€è½¬æ¢ä¸ºIPåœ°å€ï¼Œæ¯”å¦‚å±€åŸŸç½‘ä¸­æœ‰ä¸€å°ä¸»æœºåªçŸ¥é“ç‰©ç†åœ°å€è€Œä¸çŸ¥é“IPåœ°å€ï¼Œé‚£ä¹ˆå¯ä»¥é€šè¿‡RARPåè®®å‘å‡ºå¾æ±‚è‡ªèº«IPåœ°å€çš„å¹¿æ’­è¯·æ±‚ï¼Œç„¶åç”±RARPæœåŠ¡å™¨è´Ÿè´£å›ç­”ã€‚ RARPåè®®å·¥ä½œæµç¨‹ï¼š Â· ï¼ˆ1ï¼‰ç»™ä¸»æœºå‘é€ä¸€ä¸ªæœ¬åœ°çš„RARPå¹¿æ’­ï¼Œåœ¨æ­¤å¹¿æ’­åŒ…ä¸­ï¼Œå£°æ˜è‡ªå·±çš„MACåœ°å€å¹¶ä¸”è¯·æ±‚ä»»ä½•æ”¶åˆ°æ­¤è¯·æ±‚çš„RARPæœåŠ¡å™¨åˆ†é…ä¸€ä¸ªIPåœ°å€ï¼› Â· ï¼ˆ2ï¼‰æœ¬åœ°ç½‘æ®µä¸Šçš„RARPæœåŠ¡å™¨æ”¶åˆ°æ­¤è¯·æ±‚åï¼Œæ£€æŸ¥å…¶RARPåˆ—è¡¨ï¼ŒæŸ¥æ‰¾è¯¥MACåœ°å€å¯¹åº”çš„IPåœ°å€ï¼› Â· ï¼ˆ3ï¼‰å¦‚æœå­˜åœ¨ï¼ŒRARPæœåŠ¡å™¨å°±ç»™æºä¸»æœºå‘é€ä¸€ä¸ªå“åº”æ•°æ®åŒ…å¹¶å°†æ­¤IPåœ°å€æä¾›ç»™å¯¹æ–¹ä¸»æœºä½¿ç”¨ï¼› Â· ï¼ˆ4ï¼‰å¦‚æœä¸å­˜åœ¨ï¼ŒRARPæœåŠ¡å™¨å¯¹æ­¤ä¸åšä»»ä½•çš„å“åº”ï¼› 6. è·¯ç”±é€‰æ‹©åè®®å¸¸è§çš„è·¯ç”±é€‰æ‹©åè®®æœ‰ï¼šRIPåè®®ã€OSPFåè®®ã€‚RIPåè®® ï¼šåº•å±‚æ˜¯è´å°”æ›¼ç¦ç‰¹ç®—æ³•ï¼Œå®ƒé€‰æ‹©è·¯ç”±çš„åº¦é‡æ ‡å‡†ï¼ˆmetric)æ˜¯è·³æ•°ï¼Œæœ€å¤§è·³æ•°æ˜¯15è·³ï¼Œå¦‚æœå¤§äº15è·³ï¼Œå®ƒå°±ä¼šä¸¢å¼ƒæ•°æ®åŒ…ã€‚OSPFåè®® ï¼šOpen Shortest Path Firstå¼€æ”¾å¼æœ€çŸ­è·¯å¾„ä¼˜å…ˆï¼Œåº•å±‚æ˜¯è¿ªæ°æ–¯ç‰¹æ‹‰ç®—æ³•ï¼Œæ˜¯é“¾è·¯çŠ¶æ€è·¯ç”±é€‰æ‹©åè®®ï¼Œå®ƒé€‰æ‹©è·¯ç”±çš„åº¦é‡æ ‡å‡†æ˜¯å¸¦å®½ï¼Œå»¶è¿Ÿã€‚ 7. TCP/IPåè®®TCP/IPåè®®æ˜¯Internetæœ€åŸºæœ¬çš„åè®®ã€Internetå›½é™…äº’è”ç½‘ç»œçš„åŸºç¡€ï¼Œç”±ç½‘ç»œå±‚çš„IPåè®®å’Œä¼ è¾“å±‚çš„TCPåè®®ç»„æˆã€‚é€šä¿—è€Œè¨€ï¼šTCPè´Ÿè´£å‘ç°ä¼ è¾“çš„é—®é¢˜ï¼Œä¸€æœ‰é—®é¢˜å°±å‘å‡ºä¿¡å·ï¼Œè¦æ±‚é‡æ–°ä¼ è¾“ï¼Œç›´åˆ°æ‰€æœ‰æ•°æ®å®‰å…¨æ­£ç¡®åœ°ä¼ è¾“åˆ°ç›®çš„åœ°ã€‚è€ŒIPæ˜¯ç»™å› ç‰¹ç½‘çš„æ¯ä¸€å°è”ç½‘è®¾å¤‡è§„å®šä¸€ä¸ªåœ°å€ã€‚IPå±‚æ¥æ”¶ç”±æ›´ä½å±‚ï¼ˆç½‘ç»œæ¥å£å±‚ä¾‹å¦‚ä»¥å¤ªç½‘è®¾å¤‡é©±åŠ¨ç¨‹åºï¼‰å‘æ¥çš„æ•°æ®åŒ…ï¼Œå¹¶æŠŠè¯¥æ•°æ®åŒ…å‘é€åˆ°æ›´é«˜å±‚â€”-TCPæˆ–UDPå±‚ï¼›ç›¸åï¼ŒIPå±‚ä¹ŸæŠŠä»TCPæˆ–UDPå±‚æ¥æ”¶æ¥çš„æ•°æ®åŒ…ä¼ é€åˆ°æ›´ä½å±‚ã€‚IPæ•°æ®åŒ…æ˜¯ä¸å¯é çš„ï¼Œå› ä¸ºIPå¹¶æ²¡æœ‰åšä»»ä½•äº‹æƒ…æ¥ç¡®è®¤æ•°æ®åŒ…æ˜¯å¦æŒ‰é¡ºåºå‘é€çš„æˆ–è€…æœ‰æ²¡æœ‰è¢«ç ´åï¼ŒIPæ•°æ®åŒ…ä¸­å«æœ‰å‘é€å®ƒçš„ä¸»æœºçš„åœ°å€ï¼ˆæºåœ°å€ï¼‰å’Œæ¥æ”¶å®ƒçš„ä¸»æœºçš„åœ°å€ï¼ˆç›®çš„åœ°å€ï¼‰ã€‚TCPæ˜¯é¢å‘è¿æ¥çš„é€šä¿¡åè®®ï¼Œé€šè¿‡ä¸‰æ¬¡æ¡æ‰‹å»ºç«‹è¿æ¥ï¼Œé€šè®¯å®Œæˆæ—¶è¦æ‹†é™¤è¿æ¥ï¼Œç”±äºTCPæ˜¯é¢å‘è¿æ¥çš„æ‰€ä»¥åªèƒ½ç”¨äºç«¯åˆ°ç«¯çš„é€šè®¯ã€‚TCPæä¾›çš„æ˜¯ä¸€ç§å¯é çš„æ•°æ®æµæœåŠ¡ï¼Œé‡‡ç”¨â€å¸¦é‡ä¼ çš„è‚¯å®šç¡®è®¤â€æŠ€æœ¯æ¥å®ç°ä¼ è¾“çš„å¯é æ€§ã€‚TCPè¿˜é‡‡ç”¨ä¸€ç§ç§°ä¸ºâ€æ»‘åŠ¨çª—å£â€çš„æ–¹å¼è¿›è¡Œæµé‡æ§åˆ¶ï¼Œæ‰€è°“çª—å£å®é™…è¡¨ç¤ºæ¥æ”¶èƒ½åŠ›ï¼Œç”¨ä»¥é™åˆ¶å‘é€æ–¹çš„å‘é€é€Ÿåº¦ã€‚ TCPæŠ¥æ–‡é¦–éƒ¨æ ¼å¼ï¼šä»¶ï¼‰ã€HTTPåè®®ç­‰ã€‚ TCPåè®®çš„ä¸‰æ¬¡æ¡æ‰‹å’Œå››æ¬¡æŒ¥æ‰‹ï¼š æ³¨ï¼šseq:â€sequanceâ€åºåˆ—å·ï¼›ack:â€acknowledgeâ€ç¡®è®¤å·ï¼›SYN:â€synchronizeâ€è¯·æ±‚åŒæ­¥æ ‡å¿—ï¼›ï¼›ACK:â€acknowledgeâ€ç¡®è®¤æ ‡å¿—â€ï¼›FINï¼šâ€Finallyâ€ç»“æŸæ ‡å¿—ã€‚ TCPè¿æ¥å»ºç«‹è¿‡ç¨‹ï¼šé¦–å…ˆClientç«¯å‘é€è¿æ¥è¯·æ±‚æŠ¥æ–‡ï¼ŒServeræ®µæ¥å—è¿æ¥åå›å¤ACKæŠ¥æ–‡ï¼Œå¹¶ä¸ºè¿™æ¬¡è¿æ¥åˆ†é…èµ„æºã€‚Clientç«¯æ¥æ”¶åˆ°ACKæŠ¥æ–‡åä¹Ÿå‘Serveræ®µå‘ç”ŸACKæŠ¥æ–‡ï¼Œå¹¶åˆ†é…èµ„æºï¼Œè¿™æ ·TCPè¿æ¥å°±å»ºç«‹äº†ã€‚TCPè¿æ¥æ–­å¼€è¿‡ç¨‹ï¼šå‡è®¾Clientç«¯å‘èµ·ä¸­æ–­è¿æ¥è¯·æ±‚ï¼Œä¹Ÿå°±æ˜¯å‘é€FINæŠ¥æ–‡ã€‚Serverç«¯æ¥åˆ°FINæŠ¥æ–‡åï¼Œæ„æ€æ˜¯è¯´â€æˆ‘Clientç«¯æ²¡æœ‰æ•°æ®è¦å‘ç»™ä½ äº†â€ï¼Œä½†æ˜¯å¦‚æœä½ è¿˜æœ‰æ•°æ®æ²¡æœ‰å‘é€å®Œæˆï¼Œåˆ™ä¸å¿…æ€¥ç€å…³é—­Socketï¼Œå¯ä»¥ç»§ç»­å‘é€æ•°æ®ã€‚æ‰€ä»¥ä½ å…ˆå‘é€ACKï¼Œâ€å‘Šè¯‰Clientç«¯ï¼Œä½ çš„è¯·æ±‚æˆ‘æ”¶åˆ°äº†ï¼Œä½†æ˜¯æˆ‘è¿˜æ²¡å‡†å¤‡å¥½ï¼Œè¯·ç»§ç»­ä½ ç­‰æˆ‘çš„æ¶ˆæ¯â€ã€‚è¿™ä¸ªæ—¶å€™Clientç«¯å°±è¿›å…¥FIN_WAITçŠ¶æ€ï¼Œç»§ç»­ç­‰å¾…Serverç«¯çš„FINæŠ¥æ–‡ã€‚å½“Serverç«¯ç¡®å®šæ•°æ®å·²å‘é€å®Œæˆï¼Œåˆ™å‘Clientç«¯å‘é€FINæŠ¥æ–‡ï¼Œâ€å‘Šè¯‰Clientç«¯ï¼Œå¥½äº†ï¼Œæˆ‘è¿™è¾¹æ•°æ®å‘å®Œäº†ï¼Œå‡†å¤‡å¥½å…³é—­è¿æ¥äº†â€ã€‚Clientç«¯æ”¶åˆ°FINæŠ¥æ–‡åï¼Œâ€å°±çŸ¥é“å¯ä»¥å…³é—­è¿æ¥äº†ï¼Œä½†æ˜¯ä»–è¿˜æ˜¯ä¸ç›¸ä¿¡ç½‘ç»œï¼Œæ€•Serverç«¯ä¸çŸ¥é“è¦å…³é—­ï¼Œæ‰€ä»¥å‘é€ACKåè¿›å…¥TIME_WAITçŠ¶æ€ï¼Œå¦‚æœServerç«¯æ²¡æœ‰æ”¶åˆ°ACKåˆ™å¯ä»¥é‡ä¼ ã€‚â€ï¼ŒServerç«¯æ”¶åˆ°ACKåï¼Œâ€å°±çŸ¥é“å¯ä»¥æ–­å¼€è¿æ¥äº†â€ã€‚Clientç«¯ç­‰å¾…äº†2MSLåä¾ç„¶æ²¡æœ‰æ”¶åˆ°å›å¤ï¼Œåˆ™è¯æ˜Serverç«¯å·²æ­£å¸¸å…³é—­ï¼Œé‚£å¥½ï¼Œæˆ‘Clientç«¯ä¹Ÿå¯ä»¥å…³é—­è¿æ¥äº†ã€‚Okï¼ŒTCPè¿æ¥å°±è¿™æ ·å…³é—­äº†ï¼ä¸ºä»€ä¹ˆè¦ä¸‰æ¬¡æ¡æ‰‹ï¼Ÿåœ¨åªæœ‰ä¸¤æ¬¡â€æ¡æ‰‹â€çš„æƒ…å½¢ä¸‹ï¼Œå‡è®¾Clientæƒ³è·ŸServerå»ºç«‹è¿æ¥ï¼Œä½†æ˜¯å´å› ä¸ºä¸­é€”è¿æ¥è¯·æ±‚çš„æ•°æ®æŠ¥ä¸¢å¤±äº†ï¼Œæ•…Clientç«¯ä¸å¾—ä¸é‡æ–°å‘é€ä¸€éï¼›è¿™ä¸ªæ—¶å€™Serverç«¯ä»…æ”¶åˆ°ä¸€ä¸ªè¿æ¥è¯·æ±‚ï¼Œå› æ­¤å¯ä»¥æ­£å¸¸çš„å»ºç«‹è¿æ¥ã€‚ä½†æ˜¯ï¼Œæœ‰æ—¶å€™Clientç«¯é‡æ–°å‘é€è¯·æ±‚ä¸æ˜¯å› ä¸ºæ•°æ®æŠ¥ä¸¢å¤±äº†ï¼Œè€Œæ˜¯æœ‰å¯èƒ½æ•°æ®ä¼ è¾“è¿‡ç¨‹å› ä¸ºç½‘ç»œå¹¶å‘é‡å¾ˆå¤§åœ¨æŸç»“ç‚¹è¢«é˜»å¡äº†ï¼Œè¿™ç§æƒ…å½¢ä¸‹Serverç«¯å°†å…ˆåæ”¶åˆ°2æ¬¡è¯·æ±‚ï¼Œå¹¶æŒç»­ç­‰å¾…ä¸¤ä¸ªClientè¯·æ±‚å‘ä»–å‘é€æ•°æ®â€¦é—®é¢˜å°±åœ¨è¿™é‡Œï¼ŒCientç«¯å®é™…ä¸Šåªæœ‰ä¸€æ¬¡è¯·æ±‚ï¼Œè€ŒServerç«¯å´æœ‰2ä¸ªå“åº”ï¼Œæç«¯çš„æƒ…å†µå¯èƒ½ç”±äºClientç«¯å¤šæ¬¡é‡æ–°å‘é€è¯·æ±‚æ•°æ®è€Œå¯¼è‡´Serverç«¯æœ€åå»ºç«‹äº†Nå¤šä¸ªå“åº”åœ¨ç­‰å¾…ï¼Œå› è€Œé€ æˆæå¤§çš„èµ„æºæµªè´¹ï¼æ‰€ä»¥ï¼Œâ€ä¸‰æ¬¡æ¡æ‰‹â€å¾ˆæœ‰å¿…è¦ï¼ä¸ºä»€ä¹ˆè¦å››æ¬¡æŒ¥æ‰‹ï¼Ÿè¯•æƒ³ä¸€ä¸‹ï¼Œå‡å¦‚ç°åœ¨ä½ æ˜¯å®¢æˆ·ç«¯ä½ æƒ³æ–­å¼€è·ŸServerçš„æ‰€æœ‰è¿æ¥è¯¥æ€ä¹ˆåšï¼Ÿç¬¬ä¸€æ­¥ï¼Œä½ è‡ªå·±å…ˆåœæ­¢å‘Serverç«¯å‘é€æ•°æ®ï¼Œå¹¶ç­‰å¾…Serverçš„å›å¤ã€‚ä½†äº‹æƒ…è¿˜æ²¡æœ‰å®Œï¼Œè™½ç„¶ä½ è‡ªèº«ä¸å¾€Serverå‘é€æ•°æ®äº†ï¼Œä½†æ˜¯å› ä¸ºä½ ä»¬ä¹‹å‰å·²ç»å»ºç«‹å¥½å¹³ç­‰çš„è¿æ¥äº†ï¼Œæ‰€ä»¥æ­¤æ—¶ä»–ä¹Ÿæœ‰ä¸»åŠ¨æƒå‘ä½ å‘é€æ•°æ®ï¼›æ•…Serverç«¯è¿˜å¾—ç»ˆæ­¢ä¸»åŠ¨å‘ä½ å‘é€æ•°æ®ï¼Œå¹¶ç­‰å¾…ä½ çš„ç¡®è®¤ã€‚å…¶å®ï¼Œè¯´ç™½äº†å°±æ˜¯ä¿è¯åŒæ–¹çš„ä¸€ä¸ªåˆçº¦çš„å®Œæ•´æ‰§è¡Œï¼ä½¿ç”¨TCPçš„åè®®ï¼šFTPï¼ˆæ–‡ä»¶ä¼ è¾“åè®®ï¼‰ã€Telnetï¼ˆè¿œç¨‹ç™»å½•åè®®ï¼‰ã€SMTPï¼ˆç®€å•é‚®ä»¶ä¼ è¾“åè®®ï¼‰ã€POP3ï¼ˆå’ŒSMTPç›¸å¯¹ï¼Œç”¨äºæ¥æ”¶é‚® 8. UDPåè®®UDPç”¨æˆ·æ•°æ®æŠ¥åè®®ï¼Œæ˜¯é¢å‘æ— è¿æ¥çš„é€šè®¯åè®®ï¼ŒUDPæ•°æ®åŒ…æ‹¬ç›®çš„ç«¯å£å·å’Œæºç«¯å£å·ä¿¡æ¯ï¼Œç”±äºé€šè®¯ä¸éœ€è¦è¿æ¥ï¼Œæ‰€ä»¥å¯ä»¥å®ç°å¹¿æ’­å‘é€ã€‚UDPé€šè®¯æ—¶ä¸éœ€è¦æ¥æ”¶æ–¹ç¡®è®¤ï¼Œå±äºä¸å¯é çš„ä¼ è¾“ï¼Œå¯èƒ½ä¼šå‡ºç°ä¸¢åŒ…ç°è±¡ï¼Œå®é™…åº”ç”¨ä¸­è¦æ±‚ç¨‹åºå‘˜ç¼–ç¨‹éªŒè¯ã€‚UDPä¸TCPä½äºåŒä¸€å±‚ï¼Œä½†å®ƒä¸ç®¡æ•°æ®åŒ…çš„é¡ºåºã€é”™è¯¯æˆ–é‡å‘ã€‚å› æ­¤ï¼ŒUDPä¸è¢«åº”ç”¨äºé‚£äº›ä½¿ç”¨è™šç”µè·¯çš„é¢å‘è¿æ¥çš„æœåŠ¡ï¼ŒUDPä¸»è¦ç”¨äºé‚£äº›é¢å‘æŸ¥è¯¢â€”-åº”ç­”çš„æœåŠ¡ï¼Œä¾‹å¦‚NFSã€‚ç›¸å¯¹äºFTPæˆ–Telnetï¼Œè¿™äº›æœåŠ¡éœ€è¦äº¤æ¢çš„ä¿¡æ¯é‡è¾ƒå°ã€‚æ¯ä¸ªUDPæŠ¥æ–‡åˆ†UDPæŠ¥å¤´å’ŒUDPæ•°æ®åŒºä¸¤éƒ¨åˆ†ã€‚æŠ¥å¤´ç”±å››ä¸ª16ä½é•¿ï¼ˆ2å­—èŠ‚ï¼‰å­—æ®µç»„æˆï¼Œåˆ†åˆ«è¯´æ˜è¯¥æŠ¥æ–‡çš„æºç«¯å£ã€ç›®çš„ç«¯å£ã€æŠ¥æ–‡é•¿åº¦ä»¥åŠæ ¡éªŒå€¼ã€‚UDPæŠ¥å¤´ç”±4ä¸ªåŸŸç»„æˆï¼Œå…¶ä¸­æ¯ä¸ªåŸŸå„å ç”¨2ä¸ªå­—èŠ‚ï¼Œå…·ä½“å¦‚ä¸‹ï¼šï¼ˆ1ï¼‰æºç«¯å£å·ï¼›ï¼ˆ2ï¼‰ç›®æ ‡ç«¯å£å·ï¼›ï¼ˆ3ï¼‰æ•°æ®æŠ¥é•¿åº¦ï¼›ï¼ˆ4ï¼‰æ ¡éªŒå€¼ã€‚ä½¿ç”¨UDPåè®®åŒ…æ‹¬ï¼šTFTPï¼ˆç®€å•æ–‡ä»¶ä¼ è¾“åè®®ï¼‰ã€SNMPï¼ˆç®€å•ç½‘ç»œç®¡ç†åè®®ï¼‰ã€DNSï¼ˆåŸŸåè§£æåè®®ï¼‰ã€NFSã€BOOTPã€‚TCP ä¸ UDP çš„åŒºåˆ«ï¼šTCPæ˜¯é¢å‘è¿æ¥çš„ï¼Œå¯é çš„å­—èŠ‚æµæœåŠ¡ï¼›UDPæ˜¯é¢å‘æ— è¿æ¥çš„ï¼Œä¸å¯é çš„æ•°æ®æŠ¥æœåŠ¡ã€‚ 9. DNSåè®®DNSæ˜¯åŸŸåç³»ç»Ÿ(DomainNameSystem)çš„ç¼©å†™ï¼Œè¯¥ç³»ç»Ÿç”¨äºå‘½åç»„ç»‡åˆ°åŸŸå±‚æ¬¡ç»“æ„ä¸­çš„è®¡ç®—æœºå’Œç½‘ç»œæœåŠ¡ï¼Œå¯ä»¥ç®€å•åœ°ç†è§£ä¸ºå°†URLè½¬æ¢ä¸ºIPåœ°å€ã€‚åŸŸåæ˜¯ç”±åœ†ç‚¹åˆ†å¼€ä¸€ä¸²å•è¯æˆ–ç¼©å†™ç»„æˆçš„ï¼Œæ¯ä¸€ä¸ªåŸŸåéƒ½å¯¹åº”ä¸€ä¸ªæƒŸä¸€çš„IPåœ°å€ï¼Œåœ¨Internetä¸ŠåŸŸåä¸IPåœ°å€ä¹‹é—´æ˜¯ä¸€ä¸€å¯¹åº”çš„ï¼ŒDNSå°±æ˜¯è¿›è¡ŒåŸŸåè§£æçš„æœåŠ¡å™¨ã€‚DNSå‘½åç”¨äºInternetç­‰TCP/IPç½‘ç»œä¸­ï¼Œé€šè¿‡ç”¨æˆ·å‹å¥½çš„åç§°æŸ¥æ‰¾è®¡ç®—æœºå’ŒæœåŠ¡ã€‚ 10. NATåè®®NATç½‘ç»œåœ°å€è½¬æ¢(Network Address Translation)å±æ¥å…¥å¹¿åŸŸç½‘(WAN)æŠ€æœ¯ï¼Œæ˜¯ä¸€ç§å°†ç§æœ‰ï¼ˆä¿ç•™ï¼‰åœ°å€è½¬åŒ–ä¸ºåˆæ³•IPåœ°å€çš„è½¬æ¢æŠ€æœ¯ï¼Œå®ƒè¢«å¹¿æ³›åº”ç”¨äºå„ç§ç±»å‹Internetæ¥å…¥æ–¹å¼å’Œå„ç§ç±»å‹çš„ç½‘ç»œä¸­ã€‚åŸå› å¾ˆç®€å•ï¼ŒNATä¸ä»…å®Œç¾åœ°è§£å†³äº†lPåœ°å€ä¸è¶³çš„é—®é¢˜ï¼Œè€Œä¸”è¿˜èƒ½å¤Ÿæœ‰æ•ˆåœ°é¿å…æ¥è‡ªç½‘ç»œå¤–éƒ¨çš„æ”»å‡»ï¼Œéšè—å¹¶ä¿æŠ¤ç½‘ç»œå†…éƒ¨çš„è®¡ç®—æœºã€‚ 11. DHCPåè®®DHCPåŠ¨æ€ä¸»æœºè®¾ç½®åè®®ï¼ˆDynamic Host Configuration Protocolï¼‰æ˜¯ä¸€ä¸ªå±€åŸŸç½‘çš„ç½‘ç»œåè®®ï¼Œä½¿ç”¨UDPåè®®å·¥ä½œï¼Œä¸»è¦æœ‰ä¸¤ä¸ªç”¨é€”ï¼šç»™å†…éƒ¨ç½‘ç»œæˆ–ç½‘ç»œæœåŠ¡ä¾›åº”å•†è‡ªåŠ¨åˆ†é…IPåœ°å€ï¼Œç»™ç”¨æˆ·æˆ–è€…å†…éƒ¨ç½‘ç»œç®¡ç†å‘˜ä½œä¸ºå¯¹æ‰€æœ‰è®¡ç®—æœºä½œä¸­å¤®ç®¡ç†çš„æ‰‹æ®µã€‚ 12. HTTPåè®®è¶…æ–‡æœ¬ä¼ è¾“åè®®ï¼ˆHTTPï¼ŒHyperText Transfer Protocol)æ˜¯äº’è”ç½‘ä¸Šåº”ç”¨æœ€ä¸ºå¹¿æ³›çš„ä¸€ç§ç½‘ç»œåè®®ã€‚æ‰€æœ‰çš„WWWæ–‡ä»¶éƒ½å¿…é¡»éµå®ˆè¿™ä¸ªæ ‡å‡†ã€‚ HTTP åè®®åŒ…æ‹¬å“ªäº›è¯·æ±‚ï¼ŸGETï¼šè¯·æ±‚è¯»å–ç”±URLæ‰€æ ‡å¿—çš„ä¿¡æ¯ã€‚POSTï¼šç»™æœåŠ¡å™¨æ·»åŠ ä¿¡æ¯ï¼ˆå¦‚æ³¨é‡Šï¼‰ã€‚PUTï¼šåœ¨ç»™å®šçš„URLä¸‹å­˜å‚¨ä¸€ä¸ªæ–‡æ¡£ã€‚DELETEï¼šåˆ é™¤ç»™å®šçš„URLæ‰€æ ‡å¿—çš„èµ„æºã€‚ HTTP ä¸­ï¼Œ POST ä¸ GET çš„åŒºåˆ«1ï¼‰Getæ˜¯ä»æœåŠ¡å™¨ä¸Šè·å–æ•°æ®ï¼ŒPostæ˜¯å‘æœåŠ¡å™¨ä¼ é€æ•°æ®ã€‚2ï¼‰Getæ˜¯æŠŠå‚æ•°æ•°æ®é˜Ÿåˆ—åŠ åˆ°æäº¤è¡¨å•çš„Actionå±æ€§æ‰€æŒ‡å‘çš„URLä¸­ï¼Œå€¼å’Œè¡¨å•å†…å„ä¸ªå­—æ®µä¸€ä¸€å¯¹åº”ï¼Œåœ¨URLä¸­å¯ä»¥çœ‹åˆ°ã€‚3ï¼‰Getä¼ é€çš„æ•°æ®é‡å°ï¼Œä¸èƒ½å¤§äº2KBï¼›Postä¼ é€çš„æ•°æ®é‡è¾ƒå¤§ï¼Œä¸€èˆ¬è¢«é»˜è®¤ä¸ºä¸å—é™åˆ¶ã€‚4ï¼‰æ ¹æ®HTTPè§„èŒƒï¼ŒGETç”¨äºä¿¡æ¯è·å–ï¼Œè€Œä¸”åº”è¯¥æ˜¯å®‰å…¨çš„å’Œå¹‚ç­‰çš„ã€‚I. æ‰€è°“ å®‰å…¨çš„ æ„å‘³ç€è¯¥æ“ä½œç”¨äºè·å–ä¿¡æ¯è€Œéä¿®æ”¹ä¿¡æ¯ã€‚æ¢å¥è¯è¯´ï¼ŒGETè¯·æ±‚ä¸€èˆ¬ä¸åº”äº§ç”Ÿå‰¯ä½œç”¨ã€‚å°±æ˜¯è¯´ï¼Œå®ƒä»…ä»…æ˜¯è·å–èµ„æºä¿¡æ¯ï¼Œå°±åƒæ•°æ®åº“æŸ¥è¯¢ä¸€æ ·ï¼Œä¸ä¼šä¿®æ”¹ï¼Œå¢åŠ æ•°æ®ï¼Œä¸ä¼šå½±å“èµ„æºçš„çŠ¶æ€ã€‚II. å¹‚ç­‰ çš„æ„å‘³ç€å¯¹åŒä¸€URLçš„å¤šä¸ªè¯·æ±‚åº”è¯¥è¿”å›åŒæ ·çš„ç»“æœã€‚ 13. ä¸€ä¸ªä¸¾ä¾‹åœ¨æµè§ˆå™¨ä¸­è¾“å…¥ http://www.baidu.com/ åæ‰§è¡Œçš„å…¨éƒ¨è¿‡ç¨‹ã€‚ç°åœ¨å‡è®¾å¦‚æœæˆ‘ä»¬åœ¨å®¢æˆ·ç«¯ï¼ˆå®¢æˆ·ç«¯ï¼‰æµè§ˆå™¨ä¸­è¾“å…¥ http://www.baidu.comï¼Œ è€Œ baidu.com ä¸ºè¦è®¿é—®çš„æœåŠ¡å™¨ï¼ˆæœåŠ¡å™¨ï¼‰ï¼Œä¸‹é¢è¯¦ç»†åˆ†æå®¢æˆ·ç«¯ä¸ºäº†è®¿é—®æœåŠ¡å™¨è€Œæ‰§è¡Œçš„ä¸€ç³»åˆ—å…³äºåè®®çš„æ“ä½œï¼š1ï¼‰å®¢æˆ·ç«¯æµè§ˆå™¨é€šè¿‡DNSè§£æåˆ°www.baidu.comçš„IPåœ°å€220.181.27.48ï¼Œé€šè¿‡è¿™ä¸ªIPåœ°å€æ‰¾åˆ°å®¢æˆ·ç«¯åˆ°æœåŠ¡å™¨çš„è·¯å¾„ã€‚å®¢æˆ·ç«¯æµè§ˆå™¨å‘èµ·ä¸€ä¸ªHTTPä¼šè¯åˆ°220.161.27.48ï¼Œç„¶åé€šè¿‡TCPè¿›è¡Œå°è£…æ•°æ®åŒ…ï¼Œè¾“å…¥åˆ°ç½‘ç»œå±‚ã€‚2ï¼‰åœ¨å®¢æˆ·ç«¯çš„ä¼ è¾“å±‚ï¼ŒæŠŠHTTPä¼šè¯è¯·æ±‚åˆ†æˆæŠ¥æ–‡æ®µï¼Œæ·»åŠ æºå’Œç›®çš„ç«¯å£ï¼Œå¦‚æœåŠ¡å™¨ä½¿ç”¨80ç«¯å£ç›‘å¬å®¢æˆ·ç«¯çš„è¯·æ±‚ï¼Œå®¢æˆ·ç«¯ç”±ç³»ç»Ÿéšæœºé€‰æ‹©ä¸€ä¸ªç«¯å£å¦‚5000ï¼Œä¸æœåŠ¡å™¨è¿›è¡Œäº¤æ¢ï¼ŒæœåŠ¡å™¨æŠŠç›¸åº”çš„è¯·æ±‚è¿”å›ç»™å®¢æˆ·ç«¯çš„5000ç«¯å£ã€‚ç„¶åä½¿ç”¨IPå±‚çš„IPåœ°å€æŸ¥æ‰¾ç›®çš„ç«¯ã€‚3ï¼‰å®¢æˆ·ç«¯çš„ç½‘ç»œå±‚ä¸ç”¨å…³ç³»åº”ç”¨å±‚æˆ–è€…ä¼ è¾“å±‚çš„ä¸œè¥¿ï¼Œä¸»è¦åšçš„æ˜¯é€šè¿‡æŸ¥æ‰¾è·¯ç”±è¡¨ç¡®å®šå¦‚ä½•åˆ°è¾¾æœåŠ¡å™¨ï¼ŒæœŸé—´å¯èƒ½ç»è¿‡å¤šä¸ªè·¯ç”±å™¨ï¼Œè¿™äº›éƒ½æ˜¯ç”±è·¯ç”±å™¨æ¥å®Œæˆçš„å·¥ä½œï¼Œä¸ä½œè¿‡å¤šçš„æè¿°ï¼Œæ— éå°±æ˜¯é€šè¿‡æŸ¥æ‰¾è·¯ç”±è¡¨å†³å®šé€šè¿‡é‚£ä¸ªè·¯å¾„åˆ°è¾¾æœåŠ¡å™¨ã€‚4ï¼‰å®¢æˆ·ç«¯çš„é“¾è·¯å±‚ï¼ŒåŒ…é€šè¿‡é“¾è·¯å±‚å‘é€åˆ°è·¯ç”±å™¨ï¼Œé€šè¿‡é‚»å±…åè®®æŸ¥æ‰¾ç»™å®šIPåœ°å€çš„MACåœ°å€ï¼Œç„¶åå‘é€ARPè¯·æ±‚æŸ¥æ‰¾ç›®çš„åœ°å€ï¼Œå¦‚æœå¾—åˆ°å›åº”åå°±å¯ä»¥ä½¿ç”¨ARPçš„è¯·æ±‚åº”ç­”äº¤æ¢çš„IPæ•°æ®åŒ…ç°åœ¨å°±å¯ä»¥ä¼ è¾“äº†ï¼Œç„¶åå‘é€IPæ•°æ®åŒ…åˆ°è¾¾æœåŠ¡å™¨çš„åœ°å€ã€‚ 14.TCPä¸‰æ¬¡æ¡æ‰‹/å››æ¬¡æŒ¥æ‰‹","link":"/2021/02/25/Draft/2021/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/"},{"title":"ä¿¡æ¯ç³»ç»Ÿé¡¹ç›®ç®¡ç†å¸ˆ","text":"æ•™æå‡†å¤‡:è§†é¢‘ä¸€å¥—ï¼Œå†å¹´çœŸé¢˜ å·¥å…·ï¼šå¹³æ¿åšçœŸé¢˜ï¼ŒæŸ¥é˜…è®°å½•é™Œç”Ÿæ¦‚å¿µï¼Œç”µè„‘Markdownè®°ä¸‹é‡è¦ç¬”è®°ï¼Œ é¡¹ç›®ç¤ºä¾‹ï¼šè¿½è‚–å°å§çš„å·¥ç¨‹ å‡†å¤‡ï¼šæ±Ÿå±±è€å¸ˆï¼ˆè§†é¢‘ï¼‰ï¼Œåå¤§ç®¡ç†ï¼ˆæ‰“å°ï¼‰ï¼Œå†å¹´çœŸé¢˜ç­”æ¡ˆï¼ˆï¼‰ æŠ€å·§ï¼šå¤šå£è¯€ï¼Œâ€ä¸æ‹©æ‰‹æ®µè®°å¿†â€ï¼Œè®ºæ–‡å­—è¦ç»ƒï¼Œé”™ä¸æ¶‚ï¼Œåå¤§ç®¡ç†è¦æ»šç“œçƒ‚ç†Ÿï¼Œé€Ÿçœ‹è§†é¢‘ï¼Œé€‚å½“ç¬”è®°è®°å¿†ï¼Œåšé¢˜å¯¹åº”ç»†åŒ–ï¼Œè®ºæ–‡æå‰å‡†å¤‡ è€ƒè¯•è®¡åˆ’ï¼š æ—¶é—´æ®µ 8.17-11.06ï¼ˆ82ï¼‰å‘¨æœ«ä¸¤å¤©ã€ä¸“ä¸šçŸ¥è¯†ï¼Œè½¯è€ƒã€‘ å·¥ä½œæ—¥ã€ä¸­åˆä¸€ä¸ªåŠå°æ—¶ä¸“ä¸šçŸ¥è¯†ï¼Œä¸‹ç­7-9ä¸¤ä¸ªå°æ—¶ä»¥ä¸Šè½¯è€ƒã€‘ é˜¶æ®µ è¯¦ç»†æ­¥éª¤ å®Œæˆæƒ…å†µ ç”¨æ—¶ 8.17-9.15 å®Œæˆæ‰€æœ‰è§†é¢‘å¹¶ç¬”è®°ï¼ŒèƒŒè¯µåŸºç¡€çŸ¥è¯†ã€é€‰æ‹©ï¼Œæ¡ˆä¾‹ï¼Œè®¡ç®—ï¼Œè®ºæ–‡ã€‘ä¸“é¡¹ç ”ç©¶ 17ã€2ã€‘18ã€1ã€‘19ã€ã€‘20ã€1ã€‘21ã€ã€‘22ã€ã€‘23ã€1ã€‘24ã€1ã€‘25ã€2ã€‘26ã€2ã€‘27ã€ã€‘28ã€1ã€‘29ã€ã€‘30ã€3ã€‘31ã€ã€‘1ã€2ã€‘2ã€2ã€‘3ã€2ã€‘4ã€ã€‘5ã€ã€‘6ã€3ã€‘7ã€2åŸºç¡€åå¤§ç®¡ç†å®Œæˆï¼Œæ¡ˆä¾‹ä¸¤èŠ‚ï¼Œè®¡ç®—ä¸¤èŠ‚ã€‘8ã€3ã€‘9ã€3ã€‘æ¡ˆä¾‹å®Œæˆï¼Œè®¡ç®—å››èŠ‚10ã€13ã€4è®¡ç®—å®Œã€‘ å®Œæˆ 9.15-9.30 16-18å¹´6å¥—çœŸé¢˜ç²¾åšå¹¶åˆ†ç±»æ€»ç»“ ï¼ˆä¸€ï¼‰ åšçœŸé¢˜å¥—é¢˜å¹³æ¿æˆ–æ‰“å°ï¼Œå¯¹åº”åŸºç¡€é€Ÿè§ˆï¼Œé‡ç‚¹Ankiè®°å¿†ï¼Œé”™é¢˜å½’ç»“ï¼Œè®ºæ–‡è¯¾å¼€å§‹ã€‚é—²æ—¶è½¯ä»¶åˆ·é¢˜ã€‚æ„å»ºçŸ¥è¯†æ¡†æ¶ã€‚16å¹´ä¹‹å‰20å¥—çš„ç›´æ¥çœ‹è§£æï¼Œé™Œç”Ÿè®°å½• ä¸‰å¤©ä¸€å¥—ï¼ŒçŸ¥è¯†ç‚¹Ankiä¸€éå¹¶æ·»åŠ ï¼Œç‹ è¡¥åŸºç¡€ 16ã€2005ä¸Šã€‘26ã€2005ä¸‹ã€‘ 9.30-10.15 19å¹´2å¥—çœŸé¢˜ç²¾åšå¹¶åˆ†ç±»æ€»ç»“ ï¼ˆäºŒï¼‰ åŒä¸Šï¼Œå®Œæˆï¼ˆä¸€ï¼‰æœªå®Œæˆçš„ çœŸé¢˜å¤–ï¼Œè®ºæ–‡æ¡†æ¶å‡†å¤‡å¹¶èƒŒè¯µ å®Œæˆ 10.15-10.30 20ã€21å¹´ä¸‰å¥—çœŸé¢˜å®šæ—¶å¹¶åˆ†ç±»æ€»ç»“ ï¼ˆä¸€ï¼‰ æ€»ç»“ï¼Œæ‰€æœ‰é”™é¢˜æ’æŸ¥ï¼ŒæŸ¥æ¼è¡¥ç¼º äº”å¤©å‘¨æœ«ä¸€æ¬¡çœŸå®æ¨¡æ‹Ÿï¼Œè®ºæ–‡å†™åæ€»ç»“ï¼Œç»ƒç»ƒå­— å®Œæˆ 10.30-11.05 è®ºæ–‡æ¡†æ¶æ¢³ç†ï¼Œæ¨¡æ‹Ÿç»ƒå­—é€Ÿåº¦ è€ƒå‰å‡†å¤‡ï¼ˆå·¥å…·ï¼Œè€ƒåœºï¼Œæ˜¯å¦ç•™å®¿ï¼‰ åŠ æ²¹ï¼ å€’è®¡æ—¶ï¼š3è€ƒè¯•ä»‹ç»ï¼Œå­¦ä¹ æ–¹æ³•ï¼Œé‡éš¾ç‚¹ï¼Œ10å¤§çŸ¥è¯†åŸŸæ¦‚è¿°è€ƒè¯•ä»‹ç» é€šè¿‡è€ƒè¯•ç›¸å½“äºæ‹¿åˆ°é«˜çº§èŒç§°ï¼Œéš¾åº¦ä¸Šåˆå¤§äºè®ºæ–‡å¤§äºæ¡ˆä¾‹ã€‚ ä½œç”¨æ–¹æ³• è”æƒ³è®°å¿†ï¼ŒçŸ¥è¯†æœ¯è¯­å“ªä¸ªæ¿å—ï¼Œæ¿å—ä¸‹é‚£äº›è¿‡ç¨‹ï¼Œè¾“å…¥è¾“å‡ºå·¥å…·æŠ€æœ¯ï¼Œè®¡ç®—ç›¸å…³ï¼Œé™Œç”Ÿè¯æ±‡ é‡è§†åŸºç¡€ï¼ˆä¸Šåˆï¼‰ï¼Œè€ƒå“ªé‡Œå­¦å“ªé‡Œï¼Œé‡è§†çœŸé¢˜ï¼Œè´¹æ›¼å­¦ä¹ æ³•ï¼Œè‰¾å®¾æµ©æ–¯è®°å¿†ï¼Œåˆ©ç”¨ç¢ç‰‡æ—¶é—´ï¼Œè€ƒä¸Šå†³å¿ƒï¼Œ2/8æ³•åˆ™ï¼ŒPDCAå¾ªç¯ï¼Œäººæœºæ–™æ³•ç¯ï¼Œæ— äº‹ä¸é¡¹ç›®ï¼Œé”™é¢˜ï¼ŒçŸ¥è¯†ç‚¹ANKIè®°å½•è®°å¿† ç‹—ï¼ˆæ²Ÿé€šï¼‰å­ï¼ˆè´¨é‡ï¼‰æ•´ï¼ˆæ•´ä½“ï¼‰èŒƒï¼ˆèŒƒå›´ï¼‰è¿›ï¼ˆè¿›åº¦ï¼‰ï¼Œæˆï¼ˆæˆæœ¬ï¼‰äººï¼ˆäººåŠ›èµ„æºï¼Œå¹²ç³»äººï¼‰é£ï¼ˆé£é™©ï¼‰é‡‡ï¼ˆé‡‡è´­ï¼‰ ä½‚å¸†è¿›åŸå¿—ï¼ŒåŠ›å¤Ÿé£é‡‡å¹²ã€‚ æŒç®¡è´¨æ£€è¾¹ç•Œï¼Œé¬¼æ¿€é’‰å¨ƒç¼ºæï¼Œé¬¼ç«ç‰Œå­ç—´æï¼Œé¬¼æ•…ç‹±æï¼Œé¬¼é£Ÿæï¼Œé¬¼ç¥–è§å† ï¼Œé¬¼æ£ºå­”ï¼Œé¬¼æ—¶é†’ä¸¤å˜¤å­”ï¼Œé¬¼è¯†å­”å§ï¼Œè¯†é¬¼æ£ºå­” æ•´ ç«  ç®¡ æŒ‡ ç›‘å˜ ç»“èŒƒ è§„é›†å®šW ç¡®æ§è¿› è§„æ´»æ’èµ„æŒåˆ¶ æ§æˆ è§„ä¼°é¢„ æ§è´¨ è§„ å® æ§åŠ› è§„ ç»„å»ºç®¡æ²Ÿ è§„ ç®¡ æ§é£ è§„è¯†æ€§é‡åº” æ§é‡‡ è§„å® æ§ Â·Â·Â·ç»“äºº è¯† è§„ ç®¡ æ§ æ‰€æœ‰ç®¡ç†çš„ç»¼åˆæ€§ç®¡ç† è€ƒç‚¹é¢˜å‹ï¼Œå…ˆåšé¢˜å†å¯¹åº”çœ‹ä¹¦ç»†åŒ– é‡è§†å‘¨æœ«å¤§æ®µæ—¶é—´ ä¸‰ä»ä»è¿‡ç¨‹æƒ³ç»“æœï¼Œä»ç»“æœçŸ¥è¾“å…¥ï¼Œä»è¾“å…¥é€‰å·¥å…· å››å¾—ä¸€å¾—æ–‡ä»¶è®¡åˆ’ï¼›äºŒå¾—æˆæœæ•°æ®ï¼›ä¸‰å¾—å˜æ›´è¯·æ±‚ï¼›å››çš„å› ç´ èµ„äº§ å…±æ€§æ€»ç»“1ã€ä¸Šä¸€ä¸ªè¿‡ç¨‹çš„è¾“å‡ºå¤§éƒ¨åˆ†æ˜¯ä¸‹ä¸€ä¸ªè¿‡ç¨‹çš„è¾“å…¥2ã€è®¡åˆ’å’Œæ–‡ä»¶æ˜¯ä¸ä¸€æ ·çš„ï¼ˆæ¯ä¸ªè¾“å…¥éƒ½æœ‰è®¡åˆ’å’Œæ–‡ä»¶ï¼‰3ã€è¢«æ‰¹å‡†çš„å˜æ›´è¯·æ±‚çº¦ç­‰äºè®¡åˆ’4ã€åœ¨æ‰§è¡Œå’Œç›‘æ§è¿‡ç¨‹äº§ç”Ÿæ–°çš„å˜æ›´è¯·æ±‚ï¼ˆå˜æ›´è¯·æ±‚åŒ…æ‹¬å˜ä»€ä¹ˆå’Œæ€ä¹ˆå˜ï¼Œè¿™æ˜¯å˜æ›´è¯·æ±‚å’Œçº æ­£ã€é¢„é˜²ã€ç¼ºé™·ä¿®å¤çš„å…³ç³»ï¼‰5ã€æ‰§è¡Œè¿‡ç¨‹äº§ç”Ÿå·¥ä½œç»©æ•ˆæ•°æ®â€”-æ•°æ®+èƒŒæ™¯åœ¨ç›‘æ§è¿‡ç¨‹ç»„æˆä¸ºäº†å·¥ä½œç»©æ•ˆä¿¡æ¯ç„¶åè¾“å‡ºå·¥ä½œç»©æ•ˆæŠ¥å‘Šæ³¨æ„å·¥ä½œç»©æ•ˆæ•°æ®æ˜¯æ‰§è¡Œè¿‡ç¨‹çš„è¾“å‡ºâ†’é‚£ä¹ˆå°±æ˜¯ç›‘æ§çš„è¾“å…¥â†’ç›‘æ§çš„è¾“å‡ºå°±æˆäº†å·¥ä½œç»©æ•ˆä¿¡æ¯6ã€é€šè¿‡è¿‡ç¨‹çš„å«ä¹‰è®°å¿†æ¯ä¸ªè¿‡ç¨‹ç»„æœ€ä¸»è¦çš„æˆæœï¼ˆè¾“å‡ºï¼‰ï¼7ã€ç›‘æ§è¿‡ç¨‹ç»„æ¯ä¸ªè¿‡ç¨‹éƒ½æœ‰è®¡åˆ’+å·¥ä½œç»©æ•ˆæŠ¥å‘Šè¦è®°ä½æˆ‘è¯´çš„ç›‘æ§çš„é‚£äº›åŸç†è·Ÿè¸ªè¿›å±•â†’æ‹¿ç€è®¡åˆ’çš„è¿™æŠŠå°ºå­æµ‹é‡å®é™…çš„å·¥ä½œç»©æ•ˆæŠ¥å‘Šâ†’åå·®è®¡ç®—â†’åå·®è¯„ä¼°ã€åˆ†ææ˜¯å¦å˜æ›´â†’é¢„æµ‹â†’è¶‹åŠ¿åˆ†æ8ã€é¡¹ç›®ç®¡ç†è®¡åˆ’å’Œå…¶å®ƒå­è®¡åˆ’ï¼ˆèŒƒå›´ç®¡ç†è®¡åˆ’ã€è¿›åº¦ç®¡ç†è®¡åˆ’ã€è´¨é‡ç®¡ç†è®¡åˆ’ç­‰ï¼‰åŒºåˆ«å’Œè”ç³»ä¸‹é¢ä»¥é¡¹ç›®ç®¡ç†è®¡åˆ’å’Œå…¶ä¸­ä¸€ä¸ªå­è®¡åˆ’ä¸ºä¾‹å­æ€»ç»“è§„å¾‹å¦‚ä¸‹ï¼šäº†è§£åå¯¹å…¶å®ƒè¿‡ç¨‹å¸®åŠ©ç”šå¤šï¼ˆ1ï¼‰å½“å­è®¡åˆ’æˆ–åŸºå‡†æ˜¯ä¸»è¦çš„è¾“å…¥æ—¶â†’ä¸“é—¨åˆ—å‡ºï¼ˆå¦‚å®šä¹‰èŒƒå›´ã€æ”¶é›†éœ€æ±‚ç­‰è¿‡ç¨‹ï¼‰ï¼ˆ2ï¼‰å½“å­è®¡åˆ’æˆ–åŸºå‡†æ˜¯é¦–æ¬¡è¾“å‡ºæ—¶â†’ä¸“é—¨åˆ—å‡ºï¼ˆå¦‚èŒƒå›´ç®¡ç†è®¡åˆ’ï¼‰ï¼Œä»¥åçš„è¾“å‡ºéƒ½ä»¥â€œé¡¹ç›®ç®¡ç†è®¡åˆ’æ›´æ–°â€çš„å½¢å¼å‡ºç°ï¼ˆ3ï¼‰å­è®¡åˆ’æˆ–åŸºå‡†æ˜¯ä½œä¸ºè¾“å‡ºæ—¶å€™â†’é¡¹ç›®ç®¡ç†è®¡åˆ’å°†ä½œä¸ºè¾“å…¥ï¼ˆå¦‚è§„åˆ’èŒƒå›´ç®¡ç†ï¼‰ï¼ˆ4ï¼‰å¯¹æ§åˆ¶è¿‡ç¨‹ç»„æ¥è¯´ï¼Œè¾“å…¥å’Œè¾“å‡ºéƒ½æ˜¯é¡¹ç›®ç®¡ç†è®¡åˆ’è€Œä¸æ˜¯å…·ä½“çš„å­è®¡åˆ’ é‡ç‚¹ï¼Œåå¤§ç®¡ç† 1.è®ºæ–‡å†™ä½œåŸºæœ¬ä»‹ç»â€‹ äºŒé€‰ä¸€ï¼Œä¸¤å°æ—¶ï¼Œæ³¨æ„å†™å­—æ•´æ´ã€‚2500å·¦å³ æ‘˜è¦300 æ­£æ–‡2000ã€‚ â€‹ å­¦å¥½ç†è®ºï¼Œå†™å­—é€Ÿåº¦æ•´æ´ï¼Œå¤šçœ‹èŒƒæ–‡ï¼Œé€‰å®šç´ æï¼Œåˆ«å†™å…·ä½“é¡¹ç›®åç§°ã€‚ 2.ä¿¡æ¯åŒ–ä¸ä¿¡æ¯ç³»ç»Ÿã€23ã€‘ ç½‘ç»œç‰©æ•°ç½‘ä¼ ä¼šè¡¨åº” OSI/RMï¼ˆOpen System Interconnection/Reference Modelï¼Œå¼€æ”¾ç³»ç»Ÿäº’è¿å‚è€ƒæ¨¡å‹ï¼‰ ç‰©ç†å±‚ï¼šæ¯”ç‰¹ï¼Œä¸²è¡Œä¼ è¾“ã€‚æ•°æ®é“¾è·¯å±‚ï¼šå¸§ã€‚ç½‘ç»œå±‚ï¼šåˆ†ç»„ï¼Œå¤„ç†ä¸å¯»å€å’Œä¼ è¾“æœ‰å…³çš„ç®¡ç†é—®é¢˜ï¼Œæä¾›ç‚¹å¯¹ç‚¹çš„è¿æ¥ã€‚ä¼ è¾“å±‚ï¼šæŠ¥æ–‡ï¼Œå»ºç«‹ã€ç»´æŠ¤å’Œæ’¤é”€ä¼ è¾“è¿æ¥ï¼ˆç«¯å¯¹ç«¯çš„è¿æ¥ï¼‰ï¼Œå¹¶è¿›è¡Œæµé‡æ§åˆ¶å’Œå·®é”™æ§åˆ¶ã€‚ æµ‹è¯•ï¼Œè½¯ä»¶éœ€æ±‚ï¼Œç”Ÿå‘½å‘¨æœŸï¼Œé¢å‘å¯¹è±¡ï¼Œä¸­é—´ä»¶ï¼Œæ–°ç½‘ç»œæŠ€æœ¯ UMLï¼Œæµ‹è¯• é‡ç‚¹ æ–°ä¸€ä»£ä¿¡æ¯æŠ€æœ¯ï¼ˆè‹±è¯­å•è¯ï¼‰ï¼Œç‰©è”ç½‘ï¼Œå¤§æ•°æ®ï¼Œäº‘è®¡ç®—ï¼Œç§»åŠ¨äº’è”ç½‘ï¼Œæ™ºæ…§åŸå¸‚ï¼Œäº’è”ç½‘+ï¼ˆäº’è”ç½‘+å„ç§ä¼ ç»Ÿè¡Œä¸šï¼‰ï¼Œæ™ºèƒ½åˆ¶é€ 2025ï¼ŒARï¼ŒVRï¼ŒAIï¼ŒåŒºå—é“¾ï¼Œç‰¹åˆ«è”ç½‘ï¼Œ5Gï¼Œåä¸ºé¸¿è’™éº’éºŸï¼Œä¸€å¸¦ä¸€è·¯ï¼Œä¸¤åŒ–èåˆ ä¿¡æ¯å®‰å…¨æŠ€æœ¯ 3.ä¿¡æ¯ç³»ç»Ÿé¡¹ç›®ç®¡ç†åŸºç¡€é¡¹ç›®ç‰¹ç‚¹ï¼šï¼ˆ1ï¼‰ä¸´æ—¶æ€§ï¼šæœ‰æ˜ç¡®çš„å¼€å§‹å’Œç»“æŸæ—¶é—´ã€‚ ï¼ˆ2ï¼‰ç‹¬ç‰¹æ€§ï¼šä¸–ä¸Šæ²¡æœ‰ä¸¤ä¸ªå®Œå…¨ç›¸åŒçš„é¡¹ç›®ã€‚ ï¼ˆ3ï¼‰æ¸è¿›æ˜ç»†æ€§ï¼šå‰æœŸåªèƒ½ç²—ç•¥å®šä¹‰ï¼Œç„¶åé€æ¸æ˜æœ—ã€å®Œå–„å’Œç²¾ç¡®ï¼Œè¿™ä¹Ÿå°±æ„å‘³ç€å˜æ›´ä¸å¯é¿å…ï¼Œæ‰€ä»¥è¦æ§åˆ¶å˜æ›´ã€‚ é¡¹ç›®çš„ç»„ç»‡æ–¹å¼ï¼šèŒèƒ½å‹ã€é¡¹ç›®å‹ã€çŸ©é˜µå‹ 4.ç«‹é¡¹ç®¡ç† 2ï¼ˆä¸€ä¸ªé¡¹ç›®ä»æå‡ºç”³è¯·åˆ°æ‰¹å‡†ç«‹é¡¹ï¼‰æ‹›æŠ•æ ‡ï¼ŒåˆåŒï¼Œé‡‡è´­ é¡¹ç›®å»ºè®®ä¹¦ï¼ˆç«‹é¡¹ç”³è¯·)ä¸»è¦å†…å®¹ï¼šé¡¹ç›®çš„å¿…è¦æ€§ã€é¡¹ç›®çš„å¸‚åœºé¢„æµ‹ã€äº§å“æ–¹æ¡ˆæˆ–æœåŠ¡çš„å¸‚åœºé¢„æµ‹ã€é¡¹ç›®å»ºè®¾å¿…éœ€çš„æ¡ä»¶ç­‰ è®¡ç®—:åˆ©ç‡åˆ©ç‡æœ‰å•åˆ©å’Œå¤åˆ©ï¼Œå•åˆ©æ¯=æœ¬é‡‘Ã—åˆ©ç‡Ã—æœŸé™ï¼ŒF=PÃ—ï¼ˆ1+iï¼‰nFï¼šå¤åˆ©ç»ˆå€¼ Pï¼šæœ¬é‡‘ iï¼šåˆ©ç‡ Nï¼šåˆ©ç‡è·å–æ—¶é—´çš„æ•´æ•°å€ å‡€ç°å€¼ï¼ˆNet Present Valueï¼ŒNPVï¼‰å‡€ç°å€¼å¤§äºé›¶åˆ™æ–¹æ¡ˆå¯è¡Œï¼Œä¸”å‡€ç°å€¼è¶Šå¤§ï¼Œæ–¹æ¡ˆè¶Šä¼˜ï¼ŒæŠ•èµ„æ•ˆç›Šè¶Šå¥½ã€‚ NPV çš„è®¡ç®—æ­¥éª¤å¦‚ä¸‹ï¼šï¼ˆ1ï¼‰æ ¹æ®é¡¹ç›®çš„èµ„æœ¬ç»“æ„è®¾å®šé¡¹ç›®çš„æŠ˜ç°ç‡ã€‚ï¼ˆ2ï¼‰è®¡ç®—æ¯å¹´é¡¹ç›®ç°é‡‘æµé‡çš„å‡€å€¼ã€‚ï¼ˆ3ï¼‰æ ¹æ®è®¾å®šçš„æŠ˜ç°ç‡è®¡ç®—æ¯å¹´çš„å‡€ç°å€¼ã€‚ï¼ˆ4ï¼‰å°†å‡€ç°å€¼ç´¯åŠ èµ·æ¥ã€‚ å‡€ç°å€¼ç‡å‡€ç°å€¼ç‡ï¼ˆNPVRï¼‰=é¡¹ç›®çš„å‡€ç°å€¼ï¼ˆNPVï¼‰/åŸå§‹æŠ•èµ„çš„ç°å€¼åˆè®¡ æŠ•èµ„å›æ”¶æœŸæ‹›æ ‡æ‹›æ ‡ï¼ˆæ‹›æ ‡å…¬å‘Šï¼Œæ‹›æ ‡æ–‡ä»¶ï¼Œï¼‰ä¸­æ ‡é€šçŸ¥ä¹¦å‘å‡ºä¹‹æ—¥èµ·ä¸‰åæ—¥å†…åº”å½“ç­¾è®¢åˆåŒï¼Œæˆªæ­¢æ—¶é—´15æ—¥å‰è¿›è¡Œå¿…è¦çš„æ¾„æ¸…æˆ–è€…ä¿®æ”¹ï¼Œæ‹›æ ‡äººåº”å½“ç¡®å®šæŠ•æ ‡äººç¼–åˆ¶æŠ•æ ‡æ–‡ä»¶æ‰€éœ€è¦çš„åˆç†æ—¶é—´ã€‚ä½†æ˜¯ï¼Œä¾æ³•å¿…é¡»è¿›è¡Œæ‹›æ ‡çš„é¡¹ç›®ï¼Œè‡ªæ‹›æ ‡æ–‡ä»¶å¼€å§‹å‘å‡ºä¹‹æ—¥èµ·è‡³æŠ•æ ‡äººæäº¤æŠ•æ ‡æ–‡ä»¶æˆªæ­¢ä¹‹æ—¥æ­¢ï¼Œæœ€çŸ­ä¸å¾—å°‘äº20æ—¥ã€‚ æŠ•æ ‡æŠ•æ ‡äººå°‘äºä¸‰ä¸ªçš„ï¼Œæ‹›æ ‡äººåº”å½“é‡æ–°æ‹›æ ‡ã€‚åœ¨æ‹›æ ‡æ–‡ä»¶è¦æ±‚æäº¤æŠ•æ ‡æ–‡ä»¶çš„æˆªæ­¢æ—¶é—´åé€è¾¾çš„æŠ•æ ‡æ–‡ä»¶ï¼Œæ‹›æ ‡äººåº”å½“æ‹’æ”¶ã€‚ å¼€æ ‡å¼€æ ‡åº”å½“åœ¨æ‹›æ ‡æ–‡ä»¶ç¡®å®šçš„æäº¤æŠ•æ ‡æ–‡ä»¶æˆªæ­¢æ—¶é—´çš„åŒä¸€æ—¶é—´å…¬å¼€è¿›è¡Œã€‚å¼€æ ‡åœ°ç‚¹åº”å½“ä¸ºæ‹›æ ‡æ–‡ä»¶ä¸­é¢„å…ˆç¡®å®šçš„åœ°ç‚¹ã€‚å¼€æ ‡ç”±æ‹›æ ‡äººä¸»æŒï¼Œé‚€è¯·æ‰€æœ‰æŠ•æ ‡äººå‚åŠ ã€‚ è¯„æ ‡è¯„æ ‡å§”å‘˜ä¼šç”±æ‹›æ ‡äººçš„ä»£è¡¨å’Œæœ‰å…³æŠ€æœ¯ã€ç»æµç­‰æ–¹é¢çš„ä¸“å®¶ç»„æˆï¼Œæˆå‘˜äººæ•°ä¸º5äººä»¥ä¸Šå•æ•°ï¼Œå…¶ä¸­æŠ€æœ¯ã€ç»æµç­‰æ–¹é¢çš„ä¸“å®¶ä¸å¾—å°‘äºæˆå‘˜æ€»æ•°çš„ä¸‰åˆ†ä¹‹äºŒã€‚ ä¸­æ ‡ä¸­æ ‡é€šçŸ¥ä¹¦å‘å‡ºåï¼Œæ‹›æ ‡äººæ”¹å˜ä¸­æ ‡ç»“æœçš„ï¼Œæˆ–è€…ä¸­æ ‡äººæ”¾å¼ƒä¸­æ ‡é¡¹ç›®çš„ï¼Œåº”å½“ä¾æ³•æ‰¿æ‹…æ³•å¾‹è´£ä»»ã€‚ åˆåŒåˆ†ç±»ï¼šèŒƒå›´ï¼šé¡¹ç›®æ€»æ‰¿åŒ…åˆåŒã€é¡¹ç›®å•é¡¹æ‰¿åŒ…åˆåŒã€é¡¹ç›®åˆ†åŒ…åˆåŒã€‚ä»˜æ¬¾æ–¹å¼ï¼šé¡¹ç›®æ€»ä»·åˆåŒã€é¡¹ç›®å•ä»·åˆåŒã€é¡¹ç›®æˆæœ¬åŠ é…¬é‡‘åˆåŒåˆåŒçš„ä¸»è¦å†…å®¹åŒ…æ‹¬ï¼šé¡¹ç›®åç§°ï¼›æ ‡çš„å†…å®¹å’ŒèŒƒå›´ï¼›é¡¹ç›®çš„è´¨é‡è¦æ±‚ï¼šé€šå¸¸æƒ…å†µä¸‹é‡‡ç”¨æŠ€æœ¯æŒ‡æ ‡é™å®šç­‰å„ç§æ–¹å¼æ¥æè¿°ä¿¡æ¯ç³»ç»Ÿå·¥ç¨‹çš„æ•´ä½“è´¨é‡æ ‡å‡†ä»¥åŠå„éƒ¨åˆ†è´¨é‡æ ‡å‡†ï¼Œå®ƒæ˜¯åˆ¤æ–­æ•´ä¸ªå·¥ç¨‹é¡¹ç›®æˆè´¥çš„é‡è¦ä¾æ®ï¼›é¡¹ç›®çš„è®¡åˆ’ã€è¿›åº¦ã€åœ°ç‚¹ã€åœ°åŸŸå’Œæ–¹å¼ï¼›é¡¹ç›®å»ºè®¾è¿‡ç¨‹ä¸­çš„å„ç§æœŸé™ï¼›æŠ€æœ¯æƒ…æŠ¥å’Œèµ„æ–™çš„ä¿å¯†ï¼›é£é™©è´£ä»»çš„æ‰¿æ‹…ï¼›æŠ€æœ¯æˆæœçš„å½’å±ï¼›éªŒæ”¶çš„æ ‡å‡†å’Œæ–¹æ³•ï¼›ä»·æ¬¾ã€æŠ¥é…¬ï¼ˆæˆ–ä½¿ç”¨è´¹ï¼‰åŠå…¶æ”¯ä»˜æ–¹å¼ï¼›è¿çº¦é‡‘æˆ–è€…æŸå¤±èµ”å¿çš„è®¡ç®—æ–¹æ³•ï¼›è§£å†³äº‰è®®çš„æ–¹æ³•ï¼šè¯¥æ¡æ¬¾ä¸­åº”å°½å¯èƒ½åœ°æ˜ç¡®åœ¨å‡ºç°äº‰è®®ä¸çº çº·æ—¶é‡‡å–ä½•ç§æ–¹å¼æ¥åå•†è§£å†³ï¼›åè¯æœ¯è¯­è§£é‡Šç­‰ 8.æ•´ä½“ç®¡ç†ITO ITO åç§°åŠå®šä¹‰ è¾“å…¥ å·¥å…·æŠ€æœ¯ è¾“å‡º é¡¹ç›®ç« ç¨‹ æ­£å¼æ‰¹å‡†ä¸€ä¸ªé¡¹ç›®çš„æ–‡æ¡£ï¼Œåˆ¶å®šé¡¹ç›®çš„å¤´ï¼ˆé¡¹ç›®ç»ç†ï¼‰ é¡¹ç›®å·¥ä½œè¯´æ˜ä¹¦å•†ä¸šè®ºè¯åè®®äº‹ä¸šç¯å¢ƒå› ç´ ç»„ç»‡è¿‡ç¨‹èµ„äº§ ä¸“å®¶åˆ¤æ–­å¼•å¯¼æŠ€æœ¯ é¡¹ç›®ç« ç¨‹ åˆ¶å®šé¡¹ç›®ç®¡ç†è®¡åˆ’ åŒ…æ‹¬å®šä¹‰ã€å‡†å¤‡å’Œåè°ƒæ‰€æœ‰æ„æˆè®¡åˆ’ï¼Œå½¢æˆé¡¹ç›®ç®¡ç†è®¡åˆ’æ‰€å¿…è¦çš„è¡ŒåŠ¨ é¡¹ç›®ç« ç¨‹å…¶ä»–è¿‡ç¨‹è¾“å…¥ã€é¡¹ç›®åˆæ­¥èŒƒå›´è¯´æ˜ä¹¦ï¼Œç®¡ç†è¿‡ç¨‹ï¼Œé¢„æµ‹ï¼Œå·¥ä½œç»©æ•ˆä¿¡æ¯ã€‘äº‹ä¸šç¯å¢ƒå› ç´ ç»„ç»‡è¿‡ç¨‹èµ„äº§ ä¸“å®¶åˆ¤æ–­å¼•å¯¼æŠ€æœ¯ é¡¹ç›®ç®¡ç†è®¡åˆ’ æŒ‡å¯¼ä¸ç®¡ç†é¡¹ç›®å·¥ä½œ ææ„è§ï¼Œè®°è€ƒæ ¸ï¼Œåšä¸œè¥¿ é¡¹ç›®ç®¡ç†è®¡åˆ’ï¼Œæ‰¹å‡†çš„å˜æ›´è¯·æ±‚ï¼Œäº‹ä¸šç¯å¢ƒå› ç´ ï¼Œç»„ç»‡è¿‡ç¨‹èµ„äº§ ä¸“å®¶åˆ¤æ–­é¡¹ç›®ç®¡ç†ä¿¡æ¯ç³»ç»Ÿä¼šè®® å¯äº¤ä»˜æˆæœå·¥ä½œç»©æ•ˆæ•°æ®å˜æ›´è¯·æ±‚é¡¹ç›®ç®¡ç†è®¡åˆ’æ›´æ–°é¡¹ç›®æ–‡ä»¶æ›´æ–° ç›‘æ§é¡¹ç›®å·¥ä½œ ä»é¡¹ç›®å¼€å§‹åˆ°ç»“æŸï¼Œæ”¶é›†ï¼Œæµ‹é‡å‘å¸ƒç»©æ•ˆä¿¡æ¯ï¼ŒåŠè¯„ä¼°ä¼šå½±å“è¿‡ç¨‹æ”¹è¿›çš„åº¦é‡é¡¹å’Œè¶‹åŠ¿ é¡¹ç›®ç®¡ç†è®¡åˆ’äº‹ä¸šç¯å¢ƒå› ç´ ç»„ç»‡è¿‡ç¨‹èµ„äº§è¿›åº¦é¢„æµ‹æˆæœ¬é¢„æµ‹ç¡®è®¤çš„å˜æ›´å·¥ä½œç»©æ•ˆä¿¡æ¯ ä¸“å®¶åˆ¤æ–­åˆ†ææŠ€æœ¯é¡¹ç›®ç®¡ç†ä¿¡æ¯ç³»ç»Ÿã€PMISã€‘ä¼šè®® å˜æ›´è¯·æ±‚å·¥ä½œç»©æ•ˆæŠ¥å‘Šé¡¹ç›®ç®¡ç†è®¡åˆ’æ›´æ–°é¡¹ç›®æ–‡ä»¶æ›´æ–° å®æ–½æ•´ä½“å˜æ›´æ§åˆ¶ å®¡æ‰¹å˜æ›´ï¼Œé¡¹ç›®ç»ç†ä»˜æœ€ç»ˆè´£ä»» å˜æ›´è¯·æ±‚ï¼Œå·¥ä½œç»©æ•ˆæŠ¥å‘Šï¼Œå˜æ›´è¯·æ±‚ï¼Œé¡¹ç›®ç®¡ç†è®¡åˆ’ï¼Œäº‹ä¸šç¯å¢ƒå› ç´ ï¼Œç»„ç»‡è¿‡ç¨‹èµ„äº§ ä¸“å®¶åˆ¤æ–­ä¼šè®®å˜æ›´æ§åˆ¶å·¥å…· æ‰¹å‡†çš„å˜æ›´è¯·æ±‚å˜æ›´æ—¥å¿—é¡¹ç›®ç®¡ç†è®¡åˆ’æ›´æ–°é¡¹ç›®æ–‡ä»¶æ›´æ–° é¡¹ç›®æ”¶å°¾ æ‰“åŒ…äº¤è´§ é¡¹ç›®ç®¡ç†è®¡åˆ’éªŒæ”¶çš„å¯äº¤ä»˜æˆæœç»„ç»‡è¿‡ç¨‹èµ„äº§ ä¸“å®¶åˆ¤æ–­åˆ†ææŠ€æœ¯ä¼šè®® æœ€ç»ˆäº§å“ã€æœåŠ¡æˆ–æˆæœç§»äº¤ç»„ç»‡è¿‡ç¨‹èµ„äº§æ›´æ–° 9.èŒƒå›´ç®¡ç†ITO ITO åç§°åŠå®šä¹‰ è¾“å…¥ å·¥å…·æŠ€æœ¯ è¾“å‡º 10.è¿›åº¦ç®¡ç†ITO ITO åç§°åŠå®šä¹‰ è¾“å…¥ å·¥å…·æŠ€æœ¯ è¾“å‡º 11.æˆæœ¬ç®¡ç†ITO ITO åç§°åŠå®šä¹‰ è¾“å…¥ å·¥å…·æŠ€æœ¯ è¾“å‡º æŒ£å€¼åˆ†æè®¡ç®— 12.è´¨é‡ç®¡ç†ITO ITO åç§°åŠå®šä¹‰ è¾“å…¥ å·¥å…·æŠ€æœ¯ è¾“å‡º 13.äººåŠ›èµ„æºç®¡ç†ITO ITO åç§°åŠå®šä¹‰ è¾“å…¥ å·¥å…·æŠ€æœ¯ è¾“å‡º 14.å¹²ç³»äººç®¡ç†ITO ITO åç§°åŠå®šä¹‰ è¾“å…¥ å·¥å…·æŠ€æœ¯ è¾“å‡º 15.æ²Ÿé€šç®¡ç†ITO ITO åç§°åŠå®šä¹‰ è¾“å…¥ å·¥å…·æŠ€æœ¯ è¾“å‡º 16.é£é™©ç®¡ç†ITO ITO åç§°åŠå®šä¹‰ è¾“å…¥ å·¥å…·æŠ€æœ¯ è¾“å‡º 17.é‡‡è´­ç®¡ç†ITO ITO åç§°åŠå®šä¹‰ è¾“å…¥ å·¥å…·æŠ€æœ¯ è¾“å‡º PPTåŠ æ˜Ÿçœ‹äº†å°±å¯ä»¥äº† 18.åˆåŒç®¡ç†ä¸Šåˆä¸€åˆ† åˆåŒçš„åˆ†ç±» 19.ä¿¡æ¯æ–‡æ¡£å’Œé…ç½®ç®¡ç†ä¸Šåˆ2åˆ† æ–‡æ¡£åˆ†ç±»ï¼ˆå¼€å‘ï¼Œäº§å“ï¼Œç®¡ç†ï¼‰ ä¸Šåˆä¸€èˆ¬ä¸‰åˆ† 20.20-28ç« çŸ¥è¯†ç®¡ç†æ˜¾æ€§çŸ¥è¯†ï¼Œéšæ€§çŸ¥è¯†,éšæ€§çŸ¥è¯†åˆ†äº«é€”ç»ï¼ŒçŸ¥è¯†äº§æƒä¿æŠ¤ï¼Œè½¯ä»¶è‘—ä½œæƒ æˆ˜ç•¥ç®¡ç†ç»„ç»‡æˆ˜ç•¥å› ç´ ç»„æˆï¼Œæˆ˜ç•¥å®æ–½ï¼Œç±»å‹å±‚æ¬¡ï¼Œå¹³è¡¡è®¡åˆ†å¡ ç»„ç»‡çº§é¡¹ç›®ç®¡ç†æµç¨‹ç®¡ç†é¡¹ç›®é›†ï¼Œé¡¹ç›®ç»„åˆç®¡ç†ä¿¡æ¯å®‰å…¨ç®¡ç†ç»¼åˆæµ‹è¯•ç®¡ç†ã€é‡åŒ–é¡¹ç›®ç®¡ç†ï¼Œæˆç†Ÿåº¦æ¨¡å‹CMMIï¼ˆèƒ½åŠ›æˆç†Ÿåº¦æ¨¡å‹ï¼‰ã€ æ³•å¾‹æ³•è§„åˆåŒæ³• 1åˆåŒå†…å®¹ï¼Œè¦çº¦ï¼Œæ ‡çš„ï¼Œæ ¼å¼ï¼ˆéæ ¼å¼ã€æ‰‹å†™ã€‘ï¼‰æ¡æ¬¾ï¼Œè¿å¿ƒåˆåŒï¼Œ æ‹›æ ‡æ³• 1å¿…é¡»è¿›è¡Œæ‹›æ ‡çš„é¡¹ç›®ã€æ ‡åº•ï¼ˆå¿…é¡»ä¿å¯†ï¼‰ è‘—ä½œæƒæ³•æ”¿åºœé‡‡è´­æ³• 2å¸¸ç”¨æŠ€æœ¯æ ‡å‡† 2-3è½¯ä»¶å·¥ç¨‹å›½å®¶æ ‡å‡†GB/T11457-2006ï¼ˆå®¡è®¡-ä»£ç å®¡è®°-é…ç½®å®¡è®¡-è®¤è¯-èµ°æŸ¥-é‰´å®š-åŸºçº¿-é…ç½®æ§åˆ¶å§”å‘˜ä¼š-é…ç½®çŠ¶æ€æŠ¥å‘Š-è®¾è®¡è¯„å®¡-æ¡Œé¢æ£€æŸ¥-è¯„ä»·-æ•…éšœ-åŠŸèƒ½é…ç½®å®¡è®¡ï¼‰ è½¯ä»¶ç”Ÿå­˜å‘¨æœŸçš„è¿‡ç¨‹ï¼Œè½¯ä»¶ç”Ÿå‘½å‘¨æœŸå„é˜¶æ®µä¸è½¯ä»¶æ–‡æ¡£ç¼–åˆ¶å·¥ä½œçš„å…³ç³»ï¼Œå„ç±»äººå‘˜ä¸è½¯ä»¶æ–‡æ¡£çš„ä½¿ç”¨å…³ç³»ï¼Œè½¯ä»¶äº§å“è´¨é‡ï¼Œ6ä¸ªè´¨é‡ç‰¹æ€§21ä¸ªè´¨é‡å­ç‰¹æ€§ æ¡ˆä¾‹åˆ†æäº”ç§é¢˜å‹é—®ç­”é¢˜ï¼Œè®¡ç®—é¢˜ï¼Œåˆ†æé¢˜ï¼Œç†è®ºé¢˜ï¼Œå¡«ç©ºï¼Œé€‰æ‹©ï¼Œåˆ¤æ–­é¢˜ åˆ†æé¢˜å›ç­”ç®€ç»ƒï¼Œæ–‡å­—å·¥æ•´æ¸…æ™°ï¼Œç­”é¢˜æœ‰åºï¼Œå¤šå†™ä¸æ‰£åˆ†ï¼Œä¸“ä¸šåŒ– ä¸‡é‡‘æ²¹ï¼šæŠ€æœ¯å‡ºèº«ï¼šå¼€å‘å’Œç®¡ç†æ‰€éœ€æŠ€èƒ½ä¸åŒï¼Œéœ€è¦åŸ¹è®­ èº«å…¼æ•°èŒï¼šå¯¼è‡´æ²¡æ—¶é—´å»å­¦ä¹ ç®¡ç†çŸ¥è¯†ï¼Œå·¥ä½œè´Ÿè·è¿‡è½½ï¼Œèº«å¿ƒç–²æƒ«ï¼Œå…¨å±€å½±å“ æ–°æŠ€æœ¯ï¼šé£é™©ï¼Œéœ€åŸ¹è®­ï¼Œå­¦ä¹ ï¼Œç›‘æ§æŠ€æœ¯é£é™©ï¼Œæ‰¾åˆ°åˆé€‚çš„äººï¼Œå®åœ¨ä¸è¡Œå¤–åŒ… æœ‰äººå¯¹é¡¹ç›®ä¸æ»¡æ„ï¼šç®€å†æœ‰æ•ˆæ²Ÿé€šæœºåˆ¶æ–¹å¼å‘æ³•ï¼Œç¼ºä¹æœ‰æ•ˆçš„é¡¹ç›®ç»©æ•ˆç®¡ç†æœºåˆ¶ï¼Œéœ€åŠ å¼ºæ²Ÿé€š å˜æ›´ï¼šä¹¦é¢ç”³è¯·ï¼Œå®¡æ‰¹ç¡®è®¤ï¼Œè·Ÿè¸ªå˜æ›´ç¼ºä¸€ä¸å¯ å®¢æˆ·éªŒæ”¶ä¸é€šè¿‡ï¼šè¯´æ˜éªŒæ”¶æ ‡å‡†æ²¡æœ‰å¾—åˆ°è®¤å¯ç¡®è®¤ï¼Œæ²¡æœ‰éªŒæ”¶æµ‹è¯•è§„èŒƒå’Œæ–¹æ³• æ„šäººæœ‰å…³é—®é¢˜ï¼šæ²Ÿé€šä¸åˆ°ä½ è¿‡ä¸€æ®µæ—¶é—´æ‰å‘ç°é—®é¢˜ï¼šç›‘æ§ä¸åŠ› é‡Œç¨‹ç¢‘ï¼Œæ—¶é—´ç´§ä¿ƒï¼šæ²¡æœ‰å†—ä½™è€ƒè™‘é£é™©çš„æƒ³æ³• å¤–éƒ¨å› ç´ å¯¼è‡´å»¶å·¥ï¼šæ²¡æœ‰è€ƒè™‘å¤–åœ¨å› ç´ å½±å“ï¼Œå˜æ›´5ä¸ªç†ç”± äº‰æ‰§ï¼šæ²Ÿé€šé—®é¢˜ï¼Œè®¡åˆ’ä¸å¤Ÿå‘¨æ˜ å¤šå¤´æ±‡æŠ¥ï¼šé¡¹ç›®ç« ç¨‹ï¼Œå¤šå¤´æ±‡æŠ¥å¯¼è‡´ä¿¡æ¯æ²Ÿé€šä¸ç•…é€šæˆ–äº§ç”Ÿå†²çª çŸ¥è¯†ç‚¹å¦‚ä½•ç¼©çŸ­æ´»åŠ¨çš„å·¥æœŸï¼Œæˆæœ¬æ§åˆ¶ï¼Œè´¨é‡æ–°è€7å·¥å…·ï¼Œæå‡é¡¹ç›®è´¨é‡ï¼Œ ç­”é¢˜å…³é”®è¯æ–°äººï¼šåŸ¹è®­ å¹¶è¡Œå·¥ä½œï¼šæœ‰é£é™© å®¢æˆ·è¦æ±‚éƒ½ç­”åº”ï¼š å£å¤´ï¼šä¹¦é¢ å¤‡å¿˜å½•ï¼šé…ç½®ç®¡ç† éƒ¨åˆ†äººï¼šå…¨å‘˜å‚ä¸ å¼€ä¼šå¾ˆä¹…ï¼šæ•ˆç‡ä½ä¸‹ å½“åœºä¿®æ”¹ï¼Œèƒ½æ”¹å°±æ”¹ï¼šå˜æ›´ç›‘æ§åˆ†æè®°å½• æ–‡æ¡£é…ç½®ç®¡ç† äººå‘˜ç¦»èŒï¼šABæ€æƒ³ï¼Œé£é™© æ€»ä»·åˆåŒï¼šä¹™æ–¹é£é™©å¤ªå¤§ å‰æœŸéœ€æ±‚è°ƒç ”ä¸å……åˆ†ï¼š è®¡ç®— è¿›åº¦ç±»EVã€ACã€PVéœ€éªŒç®—ç¡®ä¿åé¢ä¸é”™ã€‚ç®¡ç†å‚¨å¤‡ä¸è®¡å…¥æŒ£å€¼å’ŒåŸºå‡†ï¼Œä½†æ˜¯æ€»é¢„ç®—ä¸€éƒ¨åˆ†ã€‚æ³¨æ„å®¡é¢˜ï¼Œæ—¶é—´å’Œå•ä½ã€‚ æ€»æ—¶å·®æ˜¯æŒ‡åœ¨ä¸å»¶è¯¯é¡¹ç›®å®Œæˆæ—¥æœŸæˆ–è¿åè¿›åº¦å› ç´ çš„å‰æä¸‹ï¼ŒæŸæ´»åŠ¨å¯ä»¥æ¨è¿Ÿçš„æ—¶é—´ã€‚æ€»æ—¶å·®=LS-ES=LF-EF è‡ªç”±æ—¶å·®æ˜¯æŒ‡åœ¨ä¸å½±å“ç´§åæ´»åŠ¨æœ€æ—©å¼€å§‹çš„æƒ…å†µä¸‹ï¼Œå½“å‰æ´»åŠ¨å¯ä»¥æ¨è¿Ÿçš„æ—¶é—´ã€‚è‡ªç”±æ—¶å·®=(åä¸€æ´»åŠ¨)ES-(å‰ä¸€æ´»åŠ¨çš„)EF æ‰€ä»¥æ€»æ—¶å·®å½±å“æ€»å·¥æœŸï¼Œè‡ªç”±æ—¶å·®å½±å“ç´§åæ´»åŠ¨ã€‚ ï¼ˆ1ï¼‰æ€»æ—¶å·®ï¼ˆTFï¼‰ï¼šå½“ä¸€é¡¹æ´»åŠ¨çš„æœ€æ—©å¼€å§‹æ—¶é—´å’Œæœ€è¿Ÿå¼€å§‹æ—¶é—´ä¸ç›¸åŒæ—¶ï¼Œå®ƒä»¬ä¹‹é—´çš„å·®å€¼æ˜¯è¯¥å·¥ä½œçš„æ€»æ—¶å·®ã€‚è®¡ç®—å…¬å¼æ˜¯ï¼šTF=LS-ESã€‚ ï¼ˆ2ï¼‰è‡ªç”±æ—¶å·®ï¼ˆFFï¼‰ï¼šåœ¨ä¸å½±å“ç´§åæ´»åŠ¨å®Œæˆæ—¶é—´çš„æ¡ä»¶ä¸‹ï¼Œä¸€é¡¹æ´»åŠ¨å¯èƒ½è¢«å»¶è¿Ÿçš„æ—¶é—´æ˜¯è¯¥é¡¹æ´»åŠ¨çš„è‡ªç”±æ—¶å·®ï¼Œå®ƒç”±è¯¥é¡¹æ´»åŠ¨çš„æœ€æ—©å®Œæˆæ—¶é—´EFå’Œå®ƒçš„ç´§åæ´»åŠ¨çš„æœ€æ—©å¼€å§‹æ—¶é—´å†³å®šçš„ã€‚è®¡ç®—å…¬å¼æ˜¯ï¼šFF=min{ç´§åæ´»åŠ¨çš„ES}-EFã€‚ ï¼ˆ3ï¼‰å…³é”®è·¯å¾„ã€‚é¡¹ç›®çš„å…³é”®è·¯å¾„æ˜¯æŒ‡èƒ½å¤Ÿå†³å®šé¡¹ç›®æœ€æ—©å®Œæˆæ—¶é—´çš„ä¸€ç³»åˆ—æ´»åŠ¨ã€‚å®ƒæ˜¯ç½‘ç»œå›¾ä¸­çš„æœ€é•¿è·¯å¾„ï¼Œå…·æœ‰æœ€å°‘çš„æ—¶å·®ã€‚åœ¨å®é™…æ±‚å…³é”®è·¯å¾„æ—¶ï¼Œä¸€èˆ¬çš„æ–¹æ³•æ˜¯çœ‹å“ªäº›æ´»åŠ¨çš„æ€»æ—¶å·®ä¸º0ï¼Œæ€»æ—¶å·®ä¸º0çš„æ´»åŠ¨ç§°ä¸ºå…³é”®æ´»åŠ¨ï¼Œå…³é”®æ´»åŠ¨ç»„æˆçš„è·¯å¾„ç§°ä¸ºå…³é”®è·¯å¾„ã€‚ å°½ç®¡å…³é”®è·¯å¾„æ˜¯æœ€é•¿çš„è·¯å¾„ï¼Œä½†å®ƒä»£è¡¨äº†å®Œæˆé¡¹ç›®æ‰€éœ€çš„æœ€çŸ­æ—¶é—´ã€‚å› æ­¤ï¼Œå…³é”®è·¯å¾„ä¸Šå„æ´»åŠ¨æŒç»­æ—¶é—´ï¼ˆå†æ—¶ï¼‰çš„å’Œå°±æ˜¯é¡¹ç›®çš„è®¡ç®—å·¥æœŸã€‚ æœ€æ—©å¼€å§‹æ—¶é—´ï¼ˆESï¼‰ï¼šä¸€é¡¹æ´»åŠ¨çš„æœ€æ—©å¼€å§‹æ—¶é—´å–å†³äºå®ƒçš„æ‰€æœ‰ç´§å‰æ´»åŠ¨çš„å®Œæˆæ—¶é—´ã€‚é€šè¿‡è®¡ç®—åˆ°è¯¥æ´»åŠ¨è·¯å¾„ä¸Šæ‰€æœ‰æ´»åŠ¨çš„å®Œæˆæ—¶é—´çš„å’Œï¼Œå¯å¾—åˆ°æŒ‡å®šæ´»åŠ¨çš„ESã€‚å¦‚æœæœ‰å¤šæ¡è·¯å¾„æŒ‡å‘æ­¤æ´»åŠ¨ï¼Œåˆ™è®¡ç®—éœ€è¦æ—¶é—´æœ€é•¿çš„é‚£æ¡è·¯å¾„ï¼Œå³ES=max{ç´§å‰æ´»åŠ¨çš„EF}ã€‚ æœ€æ—©ç»“æŸæ—¶é—´ï¼ˆEFï¼‰ï¼šä¸€é¡¹æ´»åŠ¨çš„æœ€æ—©å®Œæˆæ—¶é—´å–å†³äºè¯¥å·¥ä½œçš„æœ€æ—©å¼€å§‹æ—¶é—´å’Œå®ƒçš„æŒç»­æ—¶é—´ï¼ˆDï¼‰ï¼Œå³EF=ES+Dã€‚ æœ€æ™šç»“æŸæ—¶é—´ï¼ˆLFï¼‰ï¼šåœ¨ä¸å½±å“é¡¹ç›®å®Œæˆæ—¶é—´çš„æ¡ä»¶ä¸‹ï¼Œä¸€é¡¹æ´»åŠ¨å¯èƒ½å®Œæˆçš„æœ€è¿Ÿæ—¶é—´ã€‚è®¡ç®—å…¬å¼æ˜¯ï¼šLF=min{ç´§åæ´»åŠ¨çš„LS}ã€‚ æœ€æ™šå¼€å§‹æ—¶é—´ï¼ˆLSï¼‰ï¼šåœ¨ä¸å½±å“é¡¹ç›®å®Œæˆæ—¶é—´çš„æ¡ä»¶ä¸‹ï¼Œä¸€é¡¹æ´»åŠ¨å¯èƒ½å¼€å§‹çš„æœ€æ™šæ—¶é—´ã€‚è®¡ç®—å…¬å¼æ˜¯ï¼šLS=LF-Dã€‚ å‰æ¨æ³•æ¥è®¡ç®—æœ€æ—©æ—¶é—´æŸä¸€æ´»åŠ¨çš„æœ€æ—©å¼€å§‹æ—¶é—´ï¼ˆESï¼‰=æŒ‡å‘å®ƒçš„æ‰€æœ‰ç´§å‰æ´»åŠ¨çš„æœ€æ—©ç»“æŸæ—¶é—´çš„æœ€å¤§å€¼ã€‚æŸä¸€æ´»åŠ¨çš„æœ€æ—©ç»“æŸæ—¶é—´ï¼ˆEFï¼‰=ES+Tï¼ˆä½œä¸šæ—¶é—´ï¼‰é€†æ¨æ³•æ¥è®¡ç®—æœ€è¿Ÿæ—¶é—´æŸä¸€æ´»åŠ¨çš„æœ€è¿Ÿç»“æŸæ—¶é—´ï¼ˆLFï¼‰=æŒ‡å‘å®ƒçš„æ‰€æœ‰ç´§åæ´»åŠ¨çš„æœ€è¿Ÿå¼€å§‹æ—¶é—´çš„æœ€å°å€¼ã€‚æŸä¸€æ´»åŠ¨çš„æœ€è¿Ÿå¼€å§‹æ—¶é—´ï¼ˆLSï¼‰=LF-Tï¼ˆä½œä¸šæ—¶é—´ï¼‰ è®¡ç®—å…³é”®è·¯å¾„çš„æ­¥éª¤**1. ç”¨æœ‰æ–¹å‘çš„çº¿æ®µæ ‡å‡ºå„ç»“ç‚¹çš„ç´§å‰æ´»åŠ¨å’Œç´§åæ´»åŠ¨çš„å…³ç³»ï¼Œä½¿ä¹‹æˆä¸ºä¸€ä¸ªæœ‰æ–¹å‘çš„ç½‘ç»œå›¾ï¼ˆPDMï¼‰\\2. ç”¨æ­£æ¨å’Œé€†æ¨æ³•è®¡ç®—å‡ºå„ä¸ªæ´»åŠ¨çš„ES,LS, EF, LFï¼Œå¹¶è®¡ç®—å‡ºå„ä¸ªæ´»åŠ¨çš„è‡ªç”±æ—¶å·®ã€‚æ‰¾å‡ºæ‰€æœ‰æ€»æ—¶å·®ä¸ºé›¶æˆ–ä¸ºè´Ÿçš„æ´»åŠ¨ï¼Œå°±æ˜¯å…³é”®æ´»åŠ¨\\3. å…³é”®è·¯å¾„ä¸Šçš„æ´»åŠ¨æŒç»­æ—¶é—´å†³å®šäº†é¡¹ç›®çš„å·¥æœŸï¼Œæ€»å’Œå°±æ˜¯é¡¹ç›®å·¥æœŸã€‚ è‡ªç”±æ—¶å·® è®¡ç®—å…¬å¼ï¼š è‡ªç”±æ—¶å·®=æ‰€æœ‰ç´§åå·¥ä½œä¸­æœ€æ—©å¼€å§‹æ—¶é—´æœ€å°å€¼ï¼ æœ€æ—©ç»“æŸæ—¶é—´ æ€»æ—¶å·® è®¡ç®—å…¬å¼ï¼š æ€»æ—¶å·®=æœ€è¿Ÿå¼€å§‹æ—¶é—´-æœ€æ—©å¼€å§‹æ—¶é—´=æœ€è¿Ÿç»“æŸæ—¶é—´-æœ€æ—©ç»“æŸæ—¶é—´ å•ä»£å·ç½‘ç»œå›¾åŒä»£å·ç½‘ç»œå›¾åŒä»£å·æ—¶æ ‡ç½‘ç»œå›¾å…¨ä¸ºå®çº¿çš„ä¸ºå…³é”®è·¯å¾„ï¼Œ æˆæœ¬ç±»æŒ£å€¼åˆ†æPV [Planned Value]è®¡åˆ’å€¼ï¼šåº”è¯¥å®Œæˆå¤šå°‘å·¥ä½œï¼Ÿ è¦å¹²çš„æ´» EV [Earned Value]æŒ£å€¼ï¼šå®Œæˆäº†å¤šå°‘é¢„ç®—å·¥ä½œï¼Ÿ å¹²å®Œçš„æ´» AC [Actual Cost]å®é™…æˆæœ¬ï¼šå®Œæˆå·¥ä½œçš„å®é™…æˆæœ¬æ˜¯å¤šå°‘ï¼Ÿ å®é™…èŠ±è´¹ BAC [Budget cost at completion] åŸºçº¿é¢„ç®—æˆæœ¬ï¼šå…¨éƒ¨å·¥ä½œçš„é¢„ç®—æ˜¯å¤šå°‘ï¼Ÿä¸æ”¹å˜æˆæœ¬åŸºå‡†ï¼ŒBACå°±ä¸ä¼šå‘ç”Ÿå˜åŒ– CV [Cost Variance] æˆæœ¬åå·® CVï¼EVï¼ACï¼ŒCV&gt;0ï¼Œæˆæœ¬èŠ‚çº¦ï¼ŒCV&lt;0ï¼Œæˆæœ¬è¶…æ”¯ã€‚ SV [Schedule Variance] è¿›åº¦åå·® SVï¼EVï¼PVï¼ŒSV&gt;0ï¼Œè¿›åº¦è¶…å‰ï¼ŒSV&lt;0ï¼Œè¿›åº¦è½åã€‚ CPI [Cost Performance Index] æˆæœ¬æ‰§è¡ŒæŒ‡æ•°CPIï¼EV/ACï¼ŒCPIï¼1ï¼Œèµ„é‡‘ä½¿ç”¨æ•ˆç‡ä¸€èˆ¬ï¼›CPI&gt;1æˆæœ¬èŠ‚çº¦ï¼Œèµ„é‡‘ä½¿ç”¨æ•ˆç‡é«˜ï¼›CPI&lt;1ï¼Œæˆæœ¬è¶…æ”¯ï¼Œèµ„é‡‘ä½¿ç”¨æ•ˆç‡ä½ã€‚ SPI [Schedule Performance Index] è¿›åº¦æ‰§è¡ŒæŒ‡æ•° SPIï¼EV/PVï¼ŒSPIï¼1ï¼Œè¿›åº¦ä¸è®¡åˆ’ç›¸ç¬¦ï¼ŒSPI&gt;1ï¼Œè¿›åº¦è¶…å‰ï¼ŒSPI&lt;1ï¼Œè¿›åº¦è½åã€‚ ETC [Estimate (or Estimated) To Complete] å®Œå·¥æ—¶å°šéœ€æˆæœ¬ä¼°ç®—ï¼šåˆ°å®Œæˆæ—¶ï¼Œå‰©ä½™å·¥ä½œé‡è¿˜éœ€è¦å¤šå°‘æˆæœ¬,ETCä¹Ÿå°±æ˜¯ä¼°è®¡å®Œæˆé¡¹ç›®çš„å‰©ä½™å·¥ä½œæˆæœ¬ BAC [Budget cost at completion] å®Œå·¥é¢„ç®—ï¼šå…¨éƒ¨å·¥ä½œçš„é¢„ç®—æ˜¯å¤šå°‘ï¼Ÿä¸æ”¹å˜æˆæœ¬åŸºå‡†ï¼ŒBACå°±ä¸ä¼šå‘ç”Ÿå˜åŒ– EAC [Estimate at completion] å®Œæˆé¢„ä¼°ï¼šå…¨éƒ¨å·¥ä½œçš„æˆæœ¬æ˜¯å¤šå°‘ï¼Ÿæ˜¯æ ¹æ®é¡¹ç›®çš„ç»©æ•ˆå’Œé£é™©é‡åŒ–å¯¹é¡¹ç›®æœ€å¯èƒ½çš„æ€»æˆæœ¬æ‰€åšçš„ä¸€ç§é¢„æµ‹ã€‚ å®Œå·¥å·¥æœŸä¼°ç®—=é¢„ç®—å·¥æœŸ/SPI é¢„æµ‹EAC ä¸ ETCï¼š ç”±äºå­˜åœ¨æˆæœ¬åå·®æƒ…å†µï¼Œæ‰€ä»¥åœ¨å…¸å‹åå·®ä¸éå…¸å‹åå·®æ—¶ï¼Œè®¡ç®—é¡ºåºä¸ä¸€æ ·ï¼Œå¦‚ä¸‹: å…¸å‹åå·®ï¼šæœªæ¥é¡¹ç›®çš„CPIã€SPIä¼šä¿æŒä¸å˜ï¼Œæ­¤æ—¶é¢„æµ‹é¡¹ç›®å®Œæˆæ—¶çš„æ€»æˆæœ¬å’Œé¢„è®¡å®Œæˆæ—¶é—´ï¼Œåº”è¯¥ç”¨å…¸å‹åå·®å…¬å¼ã€‚ EAC= AC+(BAC-EV) =BAC/CPIETC=EAC-AC éå…¸å‹åå·®ï¼šéå…¸å‹åå·®çš„å«ä¹‰æ˜¯é¡¹ç›®æœªæ¥çš„å·¥ä½œç»©æ•ˆä¸å½“å‰æ— å…³ï¼Œå’ŒåŸè®¡åˆ’ä¿æŒä¸€æ ·ï¼Œå³é¡¹ç›®æœªæ¥çš„æˆæœ¬ç»©æ•ˆæŒ‡æ•°å’Œè¿›åº¦ç»©æ•ˆæŒ‡æ•°éƒ½æ˜¯â€œ1â€ï¼‰éœ€è¦çº åETC=BAC-EV åŸºçº¿æ€»æˆæœ¬-å·²æŒ£å¾—éƒ¨ä»½EAC=ETC+AC ä¸Šåˆå°è®¡ç®—ç›ˆäºå¹³è¡¡ç‚¹å†³ç­–æ ‘è®¡ç®—èµ„æºå¹³è¡¡é—®é¢˜ç»Ÿè®¡æŠ½æ ·é—®é¢˜è‡ªåˆ¶\\å¤–è´­åˆ†ææ²Ÿé€šæ¸ é“æ•°[n(n-1)]/2 é£é™©æ›å…‰åº¦ç°å€¼å‡€ç°å€¼ï¼ŒæŠ•èµ„å›æ”¶æœŸ è¿ç­¹å­¦è®¡ç®—é‡å¤§ æ±‚æœ€çŸ­å’Œæœ€é•¿è·¯å¾„çº¿æ€§è§„åˆ’é—®é¢˜æŠ•èµ„æ”¶ç›Šæœ€å¤§é—®é¢˜æ›´æ¢è®¾å¤‡é—®é¢˜è½¦åºŠé“£åºŠé—®é¢˜ æµé‡é—®é¢˜äººå‘˜åˆ†é…é—®é¢˜ã€çŸ©é˜µæ³•ï¼ˆè¡Œåˆ—åˆ†åˆ«å‡ä¸€æ¬¡æœ€å°å€¼ï¼Œæ ¹æ®è¡Œé›¶ä¸ªæ•°ä»å°‘åˆ°å¤šåˆ†é…ï¼‰ã€‘ä¼æ ¼å°”æ–¹æ³•è§£ä¼ è¾“é—®é¢˜ è®ºæ–‡æå‰å‡†å¤‡ï¼Œæ‘˜è¦300å†…ï¼Œæ­£æ–‡ä¸å°‘äº2000ï¼Œå­—è¿¹æ¸…æ™°ï¼Œæ— éœ€å†™é¢˜ç›® å‡†å¤‡ä¸€ä¸ªé¡¹ç›®ï¼ˆæŠ•æ ‡ä¹¦ï¼Œæ–¹æ¡ˆä¹¦ï¼‰ å‡†å¤‡æ¡†æ¶ è‡ªå·±å†™ä¸€ä¸ª","link":"/2021/03/29/Draft/2021/%E4%BF%A1%E6%81%AF%E7%B3%BB%E7%BB%9F%E9%A1%B9%E7%9B%AE%E7%AE%A1%E7%90%86%E5%B8%88/"},{"title":"é­‘é­…å…ˆç”Ÿ | å¾®ä¿¡å°ç¨‹åº","text":"å¾®ä¿¡å°ç¨‹åºæŒ‡å— å¸¸ç”¨å‡½æ•°è·³è½¬123wx.navigateTo({ url: '../component/L-component' }) ç®€ä»‹å‰ç«¯ï¼Œåç«¯ä»»æ„ï¼Œä¸Šçº¿éœ€é…ç½®åŸŸåã€‚ WeixinJSBridgeå¯¹å†…â€”-ã€‹ JS-SDKï¼Œå‰è€…åŒ…è£…ï¼Œå¯¹å†…è½¬å¯¹å¤–â€”-ã€‹ å°ç¨‹åºï¼Œé€»è¾‘å±‚å’Œæ¸²æŸ“å±‚æ˜¯åˆ†å¼€çš„ï¼Œé€»è¾‘å±‚è¿è¡Œåœ¨ JSCore ä¸­ï¼Œå¹¶æ²¡æœ‰ä¸€ä¸ªå®Œæ•´æµè§ˆå™¨å¯¹è±¡ï¼Œå› è€Œç¼ºå°‘ç›¸å…³çš„DOM APIå’ŒBOM APIã€‚å¯¼è‡´æ— æ³•è¿è¡Œå¸¸ç”¨å‰ç«¯åº“jQueryã€ Zepto ç­‰ï¼Œ JSCore çš„ç¯å¢ƒåŒ NodeJS ç¯å¢ƒä¹Ÿæ˜¯ä¸å°½ç›¸åŒï¼Œæ‰€ä»¥ä¸€äº› NPM çš„åŒ…åœ¨å°ç¨‹åºä¸­ä¹Ÿæ˜¯æ— æ³•è¿è¡Œçš„ã€‚ åˆå§‹è¿‡ç¨‹ï¼šç”³è¯·å°ç¨‹åºè´¦å·(ç®¡ç†å°ç¨‹åºï¼Œè·å–AppID)ï¼Œå®‰è£…å°ç¨‹åºå¼€å‘å·¥å…·ã€é…ç½®é¡¹ç›® ç»“æ„ app.jsonå…¨å±€é…ç½®ï¼ŒåŒ…æ‹¬äº†å°ç¨‹åºçš„æ‰€æœ‰é¡µé¢è·¯å¾„ã€ç•Œé¢è¡¨ç°ã€ç½‘ç»œè¶…æ—¶æ—¶é—´ã€åº•éƒ¨ tab 1234567891011121314151617{ // æè¿°å½“å‰å°ç¨‹åºæ‰€æœ‰é¡µé¢è·¯å¾„ï¼Œè¿™æ˜¯ä¸ºäº†è®©å¾®ä¿¡å®¢æˆ·ç«¯çŸ¥é“å½“å‰ä½ çš„å°ç¨‹åºé¡µé¢å®šä¹‰åœ¨å“ªä¸ªç›®å½•ã€‚ &quot;pages&quot;:[ &quot;pages/index/index&quot;, &quot;pages/logs/logs&quot; ], // å®šä¹‰å°ç¨‹åºæ‰€æœ‰é¡µé¢çš„é¡¶éƒ¨èƒŒæ™¯é¢œè‰²ï¼Œæ–‡å­—é¢œè‰²å®šä¹‰ç­‰ã€‚ &quot;window&quot;:{ &quot;backgroundTextStyle&quot;:&quot;light&quot;, &quot;navigationBarBackgroundColor&quot;: &quot;#fff&quot;, &quot;navigationBarTitleText&quot;: &quot;Weixin&quot;, &quot;navigationBarTextStyle&quot;:&quot;black&quot; }, &quot;style&quot;: &quot;v2&quot;, &quot;sitemapLocation&quot;: &quot;sitemap.json&quot;} project.config.jsonå°ç¨‹åºå¼€å‘è€…å·¥å…·ä¸ªæ€§åŒ–é…ç½®ï¼Œç•Œé¢é¢œè‰²ã€ç¼–è¯‘é…ç½®ç­‰ç­‰ page.jsonè¡¨ç¤º pages/logs ç›®å½•ä¸‹çš„ logs.json è¿™ç±»å’Œå°ç¨‹åºé¡µé¢ç›¸å…³çš„é…ç½®ã€‚ç‹¬ç«‹å®šä¹‰æ¯ä¸ªé¡µé¢çš„ä¸€äº›å±æ€§ é¡µé¢ä¸­é…ç½®é¡¹ä¼šè¦†ç›– app.json çš„ window ä¸­ç›¸åŒçš„é…ç½®é¡¹ index.wxmlWXMLï¼ˆWeiXin Markup Languageï¼‰ï¼Œ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748æ•°æ®ç»‘å®š&lt;!--wxml--&gt;&lt;view&gt; {{message}} &lt;/view&gt;// page.jsPage({ data: { message: 'Hello MINA!' }})åˆ—è¡¨æ¸²æŸ“&lt;!--wxml--&gt;&lt;view wx:for=&quot;{{array}}&quot;&gt; {{item}} &lt;/view&gt;// page.jsPage({ data: { array: [1, 2, 3, 4, 5] }})æ¡ä»¶æ¸²æŸ“&lt;!--wxml--&gt;&lt;view wx:if=&quot;{{view == 'WEBVIEW'}}&quot;&gt; WEBVIEW &lt;/view&gt;&lt;view wx:elif=&quot;{{view == 'APP'}}&quot;&gt; APP &lt;/view&gt;&lt;view wx:else=&quot;{{view == 'MINA'}}&quot;&gt; MINA &lt;/view&gt;// page.jsPage({ data: { view: 'MINA' }})æ¨¡æ¿&lt;!--wxml--&gt;&lt;template name=&quot;staffName&quot;&gt; &lt;view&gt; FirstName: {{firstName}}, LastName: {{lastName}} &lt;/view&gt;&lt;/template&gt;&lt;template is=&quot;staffName&quot; data=&quot;{{...staffA}}&quot;&gt;&lt;/template&gt;&lt;template is=&quot;staffName&quot; data=&quot;{{...staffB}}&quot;&gt;&lt;/template&gt;&lt;template is=&quot;staffName&quot; data=&quot;{{...staffC}}&quot;&gt;&lt;/template&gt;// page.jsPage({ data: { staffA: {firstName: 'Hulk', lastName: 'Hu'}, staffB: {firstName: 'Shang', lastName: 'You'}, staffC: {firstName: 'Gideon', lastName: 'Lin'} }}) index.wxssCSS,ä»…æ”¯æŒéƒ¨åˆ† CSS é€‰æ‹©å™¨,æ–°å¢äº†å°ºå¯¸å•ä½,æä¾›äº†å…¨å±€çš„æ ·å¼[app.wxss]å’Œå±€éƒ¨æ ·å¼ .jsé€»è¾‘å±‚ é™¤æ­¤ä¹‹å¤–ï¼Œåªæœ‰åç¼€ååœ¨ç™½åå•å†…çš„æ–‡ä»¶å¯ä»¥è¢«ä¸Šä¼ ï¼Œä¸åœ¨ç™½åå•åˆ—è¡¨å†…æ–‡ä»¶åœ¨å¼€å‘å·¥å…·èƒ½è¢«è®¿é—®åˆ°ï¼Œä½†æ— æ³•è¢«ä¸Šä¼ ã€‚å…·ä½“ç™½åå•åˆ—è¡¨å¦‚ä¸‹ï¼š wxs png jpg jpeg gif svg json cer mp3 aac m4a mp4 wav ogg silk wasm br åŸºç¡€åœºæ™¯å€¼ï¼šæè¿°ç”¨æˆ·è¿›å…¥å°ç¨‹åºçš„è·¯å¾„ï¼Œç›®å‰è¿˜æ— æ³•è·å–åˆ°æŒ‰ Home é”®é€€å‡ºåˆ°æ¡Œé¢ï¼Œç„¶åä»æ¡Œé¢å†æ¬¡è¿›å°ç¨‹åºçš„åœºæ™¯å€¼ï¼Œå¯¹äºè¿™ç§æƒ…å†µï¼Œä¼šä¿ç•™ä¸Šä¸€æ¬¡çš„åœºæ™¯å€¼ã€‚ è·å–æ–¹å¼ï¼šonLaunch å’Œ onShowï¼Œwx.getLaunchOptionsSync åœºæ™¯å€¼ åœºæ™¯ appIdå«ä¹‰ 1020 å…¬ä¼—å· profile é¡µç›¸å…³å°ç¨‹åºåˆ—è¡¨ æ¥æºå…¬ä¼—å· 1035 å…¬ä¼—å·è‡ªå®šä¹‰èœå• æ¥æºå…¬ä¼—å· 1036 App åˆ†äº«æ¶ˆæ¯å¡ç‰‡ æ¥æºApp 1037 å°ç¨‹åºæ‰“å¼€å°ç¨‹åº æ¥æºå°ç¨‹åº 1038 ä»å¦ä¸€ä¸ªå°ç¨‹åºè¿”å› æ¥æºå°ç¨‹åº 1043 å…¬ä¼—å·æ¨¡æ¿æ¶ˆæ¯ æ¥æºå…¬ä¼—å· é€»è¾‘å±‚App ServiceJavaScript çš„åŸºç¡€ä¸Šï¼Œå¢åŠ ä¸€äº›åŠŸèƒ½ï¼Œç”±äºå¹¶éè¿è¡Œåœ¨æµè§ˆå™¨ä¸­ï¼Œwindowï¼Œdocumentç­‰ä¸€äº›webèƒ½åŠ›æ— æ³•ä½¿ç”¨ï¼š å¢åŠ  App å’Œ Page æ–¹æ³•ï¼Œè¿›è¡Œç¨‹åºæ³¨å†Œå’Œé¡µé¢æ³¨å†Œã€‚ å¢åŠ  getApp å’Œ getCurrentPages æ–¹æ³•ï¼Œåˆ†åˆ«ç”¨æ¥è·å– App å®ä¾‹å’Œå½“å‰é¡µé¢æ ˆã€‚ æä¾›ä¸°å¯Œçš„ APIï¼Œå¦‚å¾®ä¿¡ç”¨æˆ·æ•°æ®ï¼Œæ‰«ä¸€æ‰«ï¼Œæ”¯ä»˜ç­‰å¾®ä¿¡ç‰¹æœ‰èƒ½åŠ›ã€‚ æä¾›æ¨¡å—åŒ–èƒ½åŠ›ï¼Œæ¯ä¸ªé¡µé¢æœ‰ç‹¬ç«‹çš„ä½œç”¨åŸŸã€‚ æ³¨å†Œå°ç¨‹åºapp.js ä¸­è°ƒç”¨ App æ–¹æ³•æ³¨å†Œå°ç¨‹åºå®ä¾‹ï¼Œç»‘å®šç”Ÿå‘½å‘¨æœŸå›è°ƒå‡½æ•°ã€é”™è¯¯ç›‘å¬å’Œé¡µé¢ä¸å­˜åœ¨ç›‘å¬å‡½æ•°ç­‰ã€‚ 12345æ•´ä¸ªå°ç¨‹åºåªæœ‰ä¸€ä¸ª App å®ä¾‹ï¼Œæ˜¯å…¨éƒ¨é¡µé¢å…±äº«çš„ã€‚å¼€å‘è€…å¯ä»¥é€šè¿‡ getApp æ–¹æ³•è·å–åˆ°å…¨å±€å”¯ä¸€çš„ App å®ä¾‹ï¼Œè·å–Appä¸Šçš„æ•°æ®æˆ–è°ƒç”¨å¼€å‘è€…æ³¨å†Œåœ¨ App ä¸Šçš„å‡½æ•°ã€‚// xxx.jsconst appInstance = getApp()console.log(appInstance.globalData) // I am global data æ³¨å†Œé¡µé¢Page()1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253Page({ data: { text: &quot;This is page data.&quot; }, onLoad: function(options) { // é¡µé¢åˆ›å»ºæ—¶æ‰§è¡Œ }, onShow: function() { // é¡µé¢å‡ºç°åœ¨å‰å°æ—¶æ‰§è¡Œ }, onReady: function() { // é¡µé¢é¦–æ¬¡æ¸²æŸ“å®Œæ¯•æ—¶æ‰§è¡Œ }, onHide: function() { // é¡µé¢ä»å‰å°å˜ä¸ºåå°æ—¶æ‰§è¡Œ }, onUnload: function() { // é¡µé¢é”€æ¯æ—¶æ‰§è¡Œ }, onPullDownRefresh: function() { // è§¦å‘ä¸‹æ‹‰åˆ·æ–°æ—¶æ‰§è¡Œ }, onReachBottom: function() { // é¡µé¢è§¦åº•æ—¶æ‰§è¡Œ }, onShareAppMessage: function () { // é¡µé¢è¢«ç”¨æˆ·åˆ†äº«æ—¶æ‰§è¡Œ }, onPageScroll: function() { // é¡µé¢æ»šåŠ¨æ—¶æ‰§è¡Œ }, onResize: function() { // é¡µé¢å°ºå¯¸å˜åŒ–æ—¶æ‰§è¡Œ }, onTabItemTap(item) { // tab ç‚¹å‡»æ—¶æ‰§è¡Œ console.log(item.index) console.log(item.pagePath) console.log(item.text) }, // äº‹ä»¶å“åº”å‡½æ•° viewTap: function() { this.setData({ text: 'Set some data for updating view.' }, function() { // this is setData callback }) }, // è‡ªç”±æ•°æ® customData: { hi: 'MINA' }}) behaviors 2.9.2 å¼€å§‹æ”¯æŒ,ä½ç‰ˆæœ¬éœ€åšå…¼å®¹å¤„ç†ã€‚ behaviors å¯ä»¥ç”¨æ¥è®©å¤šä¸ªé¡µé¢æœ‰ç›¸åŒçš„æ•°æ®å­—æ®µå’Œæ–¹æ³•ã€‚ 12345678910111213141516171819// my-behavior.jsmodule.exports = Behavior({ data: { sharedText: 'This is a piece of data shared between pages.' }, methods: { sharedMethod: function() { this.data.sharedText === 'This is a piece of data shared between pages.' } }})// page-a.jsvar myBehavior = require('./my-behavior.js')Page({ behaviors: [myBehavior], onLoad: function() { this.data.sharedText === 'This is a piece of data shared between pages.' }}) Component () åŸºç¡€åº“ 1.6.3 å¼€å§‹æ”¯æŒï¼Œä½ç‰ˆæœ¬éœ€åšå…¼å®¹å¤„ç†ã€‚æ–¹æ³•éœ€è¦æ”¾åœ¨ methods: { } é‡Œé¢ã€‚ç±»ä¼¼è‡ªå®šä¹‰ç»„ä»¶ï¼Œé€‚åˆå¤æ‚é¡µé¢ 1234567891011121314151617Component({ data: { text: &quot;This is page data.&quot; }, methods: { onLoad: function(options) { // é¡µé¢åˆ›å»ºæ—¶æ‰§è¡Œ }, onPullDownRefresh: function() { // ä¸‹æ‹‰åˆ·æ–°æ—¶æ‰§è¡Œ }, // äº‹ä»¶å“åº”å‡½æ•° viewTap: function() { // ... } }}) é¡µé¢ç”Ÿå‘½å‘¨æœŸ é¡µé¢è·¯ç”±åœ¨å°ç¨‹åºä¸­æ‰€æœ‰é¡µé¢çš„è·¯ç”±å…¨éƒ¨ç”±æ¡†æ¶è¿›è¡Œç®¡ç†ã€‚ é¡µé¢æ ˆæ¡†æ¶ä»¥æ ˆçš„å½¢å¼ç»´æŠ¤äº†å½“å‰çš„æ‰€æœ‰é¡µé¢ã€‚ å½“å‘ç”Ÿè·¯ç”±åˆ‡æ¢çš„æ—¶å€™ï¼Œé¡µé¢æ ˆçš„è¡¨ç°å¦‚ä¸‹ï¼š è·¯ç”±æ–¹å¼ é¡µé¢æ ˆè¡¨ç° åˆå§‹åŒ– æ–°é¡µé¢å…¥æ ˆ æ‰“å¼€æ–°é¡µé¢ æ–°é¡µé¢å…¥æ ˆ é¡µé¢é‡å®šå‘ å½“å‰é¡µé¢å‡ºæ ˆï¼Œæ–°é¡µé¢å…¥æ ˆ é¡µé¢è¿”å› é¡µé¢ä¸æ–­å‡ºæ ˆï¼Œç›´åˆ°ç›®æ ‡è¿”å›é¡µ Tab åˆ‡æ¢ é¡µé¢å…¨éƒ¨å‡ºæ ˆï¼Œåªç•™ä¸‹æ–°çš„ Tab é¡µé¢ é‡åŠ è½½ é¡µé¢å…¨éƒ¨å‡ºæ ˆï¼Œåªç•™ä¸‹æ–°çš„é¡µé¢ å¼€å‘è€…å¯ä»¥ä½¿ç”¨ getCurrentPages() å‡½æ•°è·å–å½“å‰é¡µé¢æ ˆã€‚ è·¯ç”±æ–¹å¼å¯¹äºè·¯ç”±çš„è§¦å‘æ–¹å¼ä»¥åŠé¡µé¢ç”Ÿå‘½å‘¨æœŸå‡½æ•°å¦‚ä¸‹ï¼š è·¯ç”±æ–¹å¼ è§¦å‘æ—¶æœº è·¯ç”±å‰é¡µé¢ è·¯ç”±åé¡µé¢ åˆå§‹åŒ– å°ç¨‹åºæ‰“å¼€çš„ç¬¬ä¸€ä¸ªé¡µé¢ onLoad, onShow æ‰“å¼€æ–°é¡µé¢ è°ƒç”¨ API wx.navigateTo ä½¿ç”¨ç»„ä»¶ `` onHide onLoad, onShow é¡µé¢é‡å®šå‘ è°ƒç”¨ API wx.redirectTo ä½¿ç”¨ç»„ä»¶ `` onUnload onLoad, onShow é¡µé¢è¿”å› è°ƒç”¨ API wx.navigateBack ä½¿ç”¨ç»„ä»¶`` ç”¨æˆ·æŒ‰å·¦ä¸Šè§’è¿”å›æŒ‰é’® onUnload onShow Tab åˆ‡æ¢ è°ƒç”¨ API wx.switchTab ä½¿ç”¨ç»„ä»¶ `` ç”¨æˆ·åˆ‡æ¢ Tab å„ç§æƒ…å†µè¯·å‚è€ƒä¸‹è¡¨ é‡å¯åŠ¨ è°ƒç”¨ API wx.reLaunch ä½¿ç”¨ç»„ä»¶ `` onUnload onLoad, onShow Tab åˆ‡æ¢å¯¹åº”çš„ç”Ÿå‘½å‘¨æœŸï¼ˆä»¥ Aã€B é¡µé¢ä¸º Tabbar é¡µé¢ï¼ŒC æ˜¯ä» A é¡µé¢æ‰“å¼€çš„é¡µé¢ï¼ŒD é¡µé¢æ˜¯ä» C é¡µé¢æ‰“å¼€çš„é¡µé¢ä¸ºä¾‹ï¼‰ï¼š å½“å‰é¡µé¢ è·¯ç”±åé¡µé¢ è§¦å‘çš„ç”Ÿå‘½å‘¨æœŸï¼ˆæŒ‰é¡ºåºï¼‰ A A Nothing happend A B A.onHide(), B.onLoad(), B.onShow() A Bï¼ˆå†æ¬¡æ‰“å¼€ï¼‰ A.onHide(), B.onShow() C A C.onUnload(), A.onShow() C B C.onUnload(), B.onLoad(), B.onShow() D B D.onUnload(), C.onUnload(), B.onLoad(), B.onShow() Dï¼ˆä»è½¬å‘è¿›å…¥ï¼‰ A D.onUnload(), A.onLoad(), A.onShow() Dï¼ˆä»è½¬å‘è¿›å…¥ï¼‰ B D.onUnload(), B.onLoad(), B.onShow() æ³¨æ„äº‹é¡¹ navigateTo, redirectTo åªèƒ½æ‰“å¼€é tabBar é¡µé¢ã€‚ switchTab åªèƒ½æ‰“å¼€ tabBar é¡µé¢ã€‚ reLaunch å¯ä»¥æ‰“å¼€ä»»æ„é¡µé¢ã€‚ é¡µé¢åº•éƒ¨çš„ tabBar ç”±é¡µé¢å†³å®šï¼Œå³åªè¦æ˜¯å®šä¹‰ä¸º tabBar çš„é¡µé¢ï¼Œåº•éƒ¨éƒ½æœ‰ tabBarã€‚ è°ƒç”¨é¡µé¢è·¯ç”±å¸¦çš„å‚æ•°å¯ä»¥åœ¨ç›®æ ‡é¡µé¢çš„onLoadä¸­è·å–ã€‚ æ¨¡å—åŒ–å…¬å…±çš„ä»£ç æŠ½ç¦»æˆä¸ºä¸€ä¸ªå•ç‹¬çš„ js æ–‡ä»¶ï¼Œä½œä¸ºä¸€ä¸ªæ¨¡å—ã€‚æ¨¡å—åªæœ‰é€šè¿‡ module.exports æˆ–è€… exportsã€exports æ˜¯ module.exports çš„ä¸€ä¸ªå¼•ç”¨ï¼Œå› æ­¤åœ¨æ¨¡å—é‡Œè¾¹éšæ„æ›´æ”¹ exports çš„æŒ‡å‘ä¼šé€ æˆæœªçŸ¥çš„é”™è¯¯ã€‚ã€‘ æ‰èƒ½å¯¹å¤–æš´éœ²æ¥å£ã€‚ä¸æ”¯æŒç›´æ¥å¼•å…¥ node_modules , å¼€å‘è€…éœ€è¦ä½¿ç”¨åˆ° node_modules æ—¶å€™å»ºè®®æ‹·è´å‡ºç›¸å…³çš„ä»£ç åˆ°å°ç¨‹åºçš„ç›®å½•ä¸­ï¼Œæˆ–è€…ä½¿ç”¨å°ç¨‹åºæ”¯æŒçš„ npm åŠŸèƒ½ 123456789101112131415161718192021// common.jsfunction sayHello(name) { console.log(`Hello ${name} !`)}function sayGoodbye(name) { console.log(`Goodbye ${name} !`)}module.exports.sayHello = sayHelloexports.sayGoodbye = sayGoodbyeâ€‹åœ¨éœ€è¦ä½¿ç”¨è¿™äº›æ¨¡å—çš„æ–‡ä»¶ä¸­ï¼Œä½¿ç”¨ require å°†å…¬å…±ä»£ç å¼•å…¥var common = require('common.js')Page({ helloMINA: function() { common.sayHello('MINA') }, goodbyeMINA: function() { common.sayGoodbye('MINA') }}) æ–‡ä»¶ä½œç”¨åŸŸåœ¨ JavaScript æ–‡ä»¶ä¸­å£°æ˜çš„å˜é‡å’Œå‡½æ•°åªåœ¨è¯¥æ–‡ä»¶ä¸­æœ‰æ•ˆï¼›ä¸åŒçš„æ–‡ä»¶ä¸­å¯ä»¥å£°æ˜ç›¸åŒåå­—çš„å˜é‡å’Œå‡½æ•°ï¼Œä¸ä¼šäº’ç›¸å½±å“ã€‚ é€šè¿‡å…¨å±€å‡½æ•° getApp å¯ä»¥è·å–å…¨å±€çš„åº”ç”¨å®ä¾‹ï¼Œå¦‚æœéœ€è¦å…¨å±€çš„æ•°æ®å¯ä»¥åœ¨ App() ä¸­è®¾ç½® 1234567891011121314151617// app.jsApp({ globalData: 1})// a.js// The localValue can only be used in file a.js.var localValue = 'a'// Get the app instance.var app = getApp()// Get the global data and change it.app.globalData++// b.js// You can redefine localValue in file b.js, without interference with the localValue in a.js.var localValue = 'b'// If a.js it run before b.js, now the globalData shoule be 2.console.log(getApp().globalData) APIäº‹ä»¶ç›‘å¬ API on å¼€å¤´,ç›‘å¬æŸä¸ªäº‹ä»¶æ˜¯å¦è§¦å‘,å¦‚ï¼šwx.onSocketOpenï¼Œwx.onCompassChange ç­‰ã€‚ åŒæ­¥ API Sync ç»“å°¾,å¦‚ wx.setStorageSyncï¼Œwx.getSystemInfoSync ç­‰ å¼‚æ­¥ API å¦‚ wx.requestï¼Œwx.login ç­‰ äº‘å¼€å‘ API è§†å›¾å±‚ ViewWXMLWXSS (WeiXin Style Sheets)@importè¯­å¥å¯ä»¥å¯¼å…¥å¤–è”æ ·å¼è¡¨ å†…è”æ ·å¼æ¡†æ¶ç»„ä»¶ä¸Šæ”¯æŒä½¿ç”¨ styleã€class å±æ€§æ¥æ§åˆ¶ç»„ä»¶çš„æ ·å¼ã€‚ é€‰æ‹©å™¨ç›®å‰æ”¯æŒçš„é€‰æ‹©å™¨æœ‰ï¼š é€‰æ‹©å™¨ æ ·ä¾‹ æ ·ä¾‹æè¿° .class .intro é€‰æ‹©æ‰€æœ‰æ‹¥æœ‰ class=â€introâ€ çš„ç»„ä»¶ #id #firstname é€‰æ‹©æ‹¥æœ‰ id=â€firstnameâ€ çš„ç»„ä»¶ element view é€‰æ‹©æ‰€æœ‰ view ç»„ä»¶ element, element view, checkbox é€‰æ‹©æ‰€æœ‰æ–‡æ¡£çš„ view ç»„ä»¶å’Œæ‰€æœ‰çš„ checkbox ç»„ä»¶ ::after view::after åœ¨ view ç»„ä»¶åè¾¹æ’å…¥å†…å®¹ ::before view::before åœ¨ view ç»„ä»¶å‰è¾¹æ’å…¥å†…å®¹ WXSWXSï¼ˆWeiXin Scriptï¼‰æ˜¯å°ç¨‹åºçš„ä¸€å¥—è„šæœ¬è¯­è¨€ WXS ä¸ä¾èµ–äºè¿è¡Œæ—¶çš„åŸºç¡€åº“ç‰ˆæœ¬ï¼Œå¯ä»¥åœ¨æ‰€æœ‰ç‰ˆæœ¬çš„å°ç¨‹åºä¸­è¿è¡Œã€‚ WXS ä¸ JavaScript æ˜¯ä¸åŒçš„è¯­è¨€ï¼Œæœ‰è‡ªå·±çš„è¯­æ³•ï¼Œå¹¶ä¸å’Œ JavaScript ä¸€è‡´ã€‚ WXS çš„è¿è¡Œç¯å¢ƒå’Œå…¶ä»– JavaScript ä»£ç æ˜¯éš”ç¦»çš„ï¼ŒWXS ä¸­ä¸èƒ½è°ƒç”¨å…¶ä»– JavaScript æ–‡ä»¶ä¸­å®šä¹‰çš„å‡½æ•°ï¼Œä¹Ÿä¸èƒ½è°ƒç”¨å°ç¨‹åºæä¾›çš„APIã€‚ WXS å‡½æ•°ä¸èƒ½ä½œä¸ºç»„ä»¶çš„äº‹ä»¶å›è°ƒã€‚ ç”±äºè¿è¡Œç¯å¢ƒçš„å·®å¼‚ï¼Œåœ¨ iOS è®¾å¤‡ä¸Šå°ç¨‹åºå†…çš„ WXS ä¼šæ¯” JavaScript ä»£ç å¿« 2 ~ 20 å€ã€‚åœ¨ android è®¾å¤‡ä¸ŠäºŒè€…è¿è¡Œæ•ˆç‡æ— å·®å¼‚ã€‚ 1234567&lt;wxs module=&quot;m1&quot;&gt;var msg = &quot;hello world&quot;;module.exports.message = msg;&lt;/wxs&gt;&lt;view&gt; {{m1.message}} &lt;/view&gt; äº‹ä»¶ç³»ç»Ÿç®€æ„åŒå‘ç»‘å®šåªèƒ½æ˜¯ä¸€ä¸ªå•ä¸€å­—æ®µçš„ç»‘å®š 12&lt;input model:value=&quot;å€¼ä¸º {{value}}&quot; /&gt;&lt;input model:value=&quot;{{ a + b }}&quot; /&gt; éƒ½æ˜¯éæ³•çš„ï¼› ç›®å‰ï¼Œå°šä¸èƒ½ data è·¯å¾„ 1&lt;input model:value=&quot;{{ a.b }}&quot; /&gt; ç»„ä»¶ä¸­ä¼ é€’åŒå‘ç»‘å®šå¹¶è§¦å‘æ›´æ–° 12345678910111213Component({ properties: { myValue: String }, methods: { update: function() { // æ›´æ–° myValue this.setData({ myValue: 'leaf' }) }})&lt;input model:value=&quot;{{myValue}}&quot; /&gt; åŸºç¡€ç»„ä»¶è·å–ç•Œé¢ä¸Šçš„èŠ‚ç‚¹ä¿¡æ¯WXMLèŠ‚ç‚¹ä¿¡æ¯ï¼šè·å–èŠ‚ç‚¹å±æ€§ã€æ ·å¼ã€åœ¨ç•Œé¢ä¸Šçš„ä½ç½®ç­‰ä¿¡æ¯WXMLèŠ‚ç‚¹å¸ƒå±€ç›¸äº¤çŠ¶æ€ï¼š å‚ç…§èŠ‚ç‚¹ï¼šç›‘å¬çš„å‚ç…§èŠ‚ç‚¹ï¼Œå–å®ƒçš„å¸ƒå±€åŒºåŸŸä½œä¸ºå‚ç…§åŒºåŸŸã€‚å¦‚æœæœ‰å¤šä¸ªå‚ç…§èŠ‚ç‚¹ï¼Œåˆ™ä¼šå–å®ƒä»¬å¸ƒå±€åŒºåŸŸçš„ äº¤é›† ä½œä¸ºå‚ç…§åŒºåŸŸã€‚é¡µé¢æ˜¾ç¤ºåŒºåŸŸä¹Ÿå¯ä½œä¸ºå‚ç…§åŒºåŸŸä¹‹ä¸€ã€‚ ç›®æ ‡èŠ‚ç‚¹ï¼šç›‘å¬çš„ç›®æ ‡ï¼Œé»˜è®¤åªèƒ½æ˜¯ä¸€ä¸ªèŠ‚ç‚¹ï¼ˆä½¿ç”¨ selectAll é€‰é¡¹æ—¶ï¼Œå¯ä»¥åŒæ—¶ç›‘å¬å¤šä¸ªèŠ‚ç‚¹ï¼‰ã€‚ ç›¸äº¤åŒºåŸŸï¼šç›®æ ‡èŠ‚ç‚¹çš„å¸ƒå±€åŒºåŸŸä¸å‚ç…§åŒºåŸŸçš„ç›¸äº¤åŒºåŸŸã€‚ ç›¸äº¤æ¯”ä¾‹ï¼šç›¸äº¤åŒºåŸŸå å‚ç…§åŒºåŸŸçš„æ¯”ä¾‹ã€‚ é˜ˆå€¼ï¼šç›¸äº¤æ¯”ä¾‹å¦‚æœè¾¾åˆ°é˜ˆå€¼ï¼Œåˆ™ä¼šè§¦å‘ç›‘å¬å™¨çš„å›è°ƒå‡½æ•°ã€‚é˜ˆå€¼å¯ä»¥æœ‰å¤šä¸ªã€‚ 1234567891011121314Page({ onLoad: function(){ wx.createIntersectionObserver().relativeToViewport().observe('.target-class', (res) =&gt; { res.id // ç›®æ ‡èŠ‚ç‚¹ id res.dataset // ç›®æ ‡èŠ‚ç‚¹ dataset res.intersectionRatio // ç›¸äº¤åŒºåŸŸå ç›®æ ‡èŠ‚ç‚¹çš„å¸ƒå±€åŒºåŸŸçš„æ¯”ä¾‹ res.intersectionRect // ç›¸äº¤åŒºåŸŸ res.intersectionRect.left // ç›¸äº¤åŒºåŸŸçš„å·¦è¾¹ç•Œåæ ‡ res.intersectionRect.top // ç›¸äº¤åŒºåŸŸçš„ä¸Šè¾¹ç•Œåæ ‡ res.intersectionRect.width // ç›¸äº¤åŒºåŸŸçš„å®½åº¦ res.intersectionRect.height // ç›¸äº¤åŒºåŸŸçš„é«˜åº¦ }) }}) å“åº”æ˜¾ç¤ºåŒºåŸŸå˜åŒ–åœ¨æ‰‹æœºä¸Šå¯ç”¨å±å¹•æ—‹è½¬æ”¯æŒ1app.json` çš„ `window` æ®µä¸­è®¾ç½® `&quot;pageOrientation&quot;: &quot;auto&quot;` ï¼Œæˆ–åœ¨é¡µé¢ json æ–‡ä»¶ä¸­é…ç½® `&quot;pageOrientation&quot;: &quot;auto&quot;, 2.5.0 å¼€å§‹ï¼Œ pageOrientation è¿˜å¯ä»¥è¢«è®¾ç½®ä¸º landscape ï¼Œè¡¨ç¤ºå›ºå®šä¸ºæ¨ªå±æ˜¾ç¤º åœ¨ iPad ä¸Šå¯ç”¨å±å¹•æ—‹è½¬æ”¯æŒ1app.json` ä¸­æ·»åŠ  `&quot;resizable&quot;: trueï¼Œä¸èƒ½å•ç‹¬é…ç½®æŸä¸ªé¡µé¢æ˜¯å¦æ”¯æŒå±å¹•æ—‹è½¬ Media Queryå¯¹äºä¸åŒå°ºå¯¸çš„æ˜¾ç¤ºåŒºåŸŸï¼Œé¡µé¢çš„å¸ƒå±€ä¼šæœ‰æ‰€å·®å¼‚ã€‚æ­¤æ—¶å¯ä»¥ä½¿ç”¨ media query æ¥è§£å†³å¤§å¤šæ•°é—®é¢˜ã€‚ ä»£ç ç¤ºä¾‹ï¼š 12345678910.my-class { width: 40px;}@media (min-width: 480px) { /* ä»…åœ¨ 480px æˆ–æ›´å®½çš„å±å¹•ä¸Šç”Ÿæ•ˆçš„æ ·å¼è§„åˆ™ */ .my-class { width: 200px; }} åœ¨ WXML ä¸­ï¼Œå¯ä»¥ä½¿ç”¨ match-media ç»„ä»¶æ¥æ ¹æ® media query åŒ¹é…çŠ¶æ€å±•ç¤ºã€éšè—èŠ‚ç‚¹ã€‚ æ­¤å¤–ï¼Œå¯ä»¥åœ¨é¡µé¢æˆ–è€…è‡ªå®šä¹‰ç»„ä»¶ JS ä¸­ä½¿ç”¨ this.createMediaQueryObserver() æ–¹æ³•æ¥åˆ›å»ºä¸€ä¸ª MediaQueryObserver å¯¹è±¡ï¼Œç”¨äºç›‘å¬æŒ‡å®šçš„ media query çš„åŒ¹é…çŠ¶æ€ã€‚ åˆ†æ æ¨¡å¼å¯ç”¨3.3ç‰ˆæœ¬ä»¥ä¸Šåœ¨pcç­‰å¤§å±å¹•ä¸Šæ”¯æŒåˆ†æ æ¨¡å¼ï¼Œ app.json ä¸­åŒæ—¶æ·»åŠ  &quot;resizable&quot;: true å’Œ &quot;frameset&quot;: true åˆ†æ å ä½å›¾ç‰‡å½“æŸä¸€æ æ²¡æœ‰å±•ç¤ºä»»ä½•é¡µé¢æ—¶ï¼Œä¼šå±•ç¤ºä¸€å¼ å›¾ç‰‡åœ¨æ­¤æ æ­£ä¸­å¤®ã€‚ å¦‚æœä»£ç åŒ…ä¸­çš„ frameset/placeholder.png æ–‡ä»¶å­˜åœ¨ï¼Œè¿™å¼ å›¾ç‰‡å°†ä½œä¸ºæ­¤æ—¶å±•ç¤ºçš„å›¾ç‰‡ã€‚ åŠ¨ç”»åˆå§‹æ¸²æŸ“ç¼“å­˜è‡ªå®šä¹‰ç»„ä»¶ä»‹ç»åˆ›å»ºè‡ªå®šä¹‰ç»„ä»¶ç±»ä¼¼äºé¡µé¢ï¼Œä¸€ä¸ªè‡ªå®šä¹‰ç»„ä»¶ç”± json wxml wxss js 4ä¸ªæ–‡ä»¶ç»„æˆã€‚è¦ç¼–å†™ä¸€ä¸ªè‡ªå®šä¹‰ç»„ä»¶ï¼Œé¦–å…ˆéœ€è¦åœ¨ç»„ä»¶çš„ json æ–‡ä»¶ä¸­è¿›è¡Œè‡ªå®šä¹‰ç»„ä»¶å£°æ˜ï¼š 123{ &quot;component&quot;: true} åŒæ—¶ï¼Œè¿˜è¦åœ¨ wxml æ–‡ä»¶ä¸­ç¼–å†™ç»„ä»¶æ¨¡æ¿ï¼Œåœ¨ wxss æ–‡ä»¶ä¸­åŠ å…¥ç»„ä»¶æ ·å¼ï¼Œå®ƒä»¬çš„å†™æ³•ä¸é¡µé¢çš„å†™æ³•ç±»ä¼¼ã€‚ 123456789&lt;!-- è¿™æ˜¯è‡ªå®šä¹‰ç»„ä»¶çš„å†…éƒ¨WXMLç»“æ„ --&gt;&lt;view class=&quot;inner&quot;&gt; {{innerText}}&lt;/view&gt;&lt;slot&gt;&lt;/slot&gt;/* è¿™é‡Œçš„æ ·å¼åªåº”ç”¨äºè¿™ä¸ªè‡ªå®šä¹‰ç»„ä»¶ */.inner { color: red;} ç»„ä»¶wxssä¸­ä¸åº”ä½¿ç”¨IDé€‰æ‹©å™¨ã€å±æ€§é€‰æ‹©å™¨å’Œæ ‡ç­¾åé€‰æ‹©å™¨ã€‚ åœ¨è‡ªå®šä¹‰ç»„ä»¶çš„ js æ–‡ä»¶ä¸­ï¼Œéœ€è¦ä½¿ç”¨ Component() æ¥æ³¨å†Œç»„ä»¶ï¼Œå¹¶æä¾›ç»„ä»¶çš„å±æ€§å®šä¹‰ã€å†…éƒ¨æ•°æ®å’Œè‡ªå®šä¹‰æ–¹æ³•ã€‚ ç»„ä»¶çš„å±æ€§å€¼å’Œå†…éƒ¨æ•°æ®å°†è¢«ç”¨äºç»„ä»¶ wxml çš„æ¸²æŸ“ï¼Œå…¶ä¸­ï¼Œå±æ€§å€¼æ˜¯å¯ç”±ç»„ä»¶å¤–éƒ¨ä¼ å…¥çš„ã€‚ 1234567891011121314151617Component({ properties: { // è¿™é‡Œå®šä¹‰äº†innerTextå±æ€§ï¼Œå±æ€§å€¼å¯ä»¥åœ¨ç»„ä»¶ä½¿ç”¨æ—¶æŒ‡å®š innerText: { type: String, value: 'default value', } }, data: { // è¿™é‡Œæ˜¯ä¸€äº›ç»„ä»¶å†…éƒ¨æ•°æ® someData: {} }, methods: { // è¿™é‡Œæ˜¯ä¸€ä¸ªè‡ªå®šä¹‰æ–¹æ³• customMethod: function(){} }}) ä½¿ç”¨è‡ªå®šä¹‰ç»„ä»¶ä½¿ç”¨å·²æ³¨å†Œçš„è‡ªå®šä¹‰ç»„ä»¶å‰ï¼Œé¦–å…ˆè¦åœ¨ç”¨ç»„ä»¶çš„é¡µé¢çš„ json æ–‡ä»¶ä¸­è¿›è¡Œå¼•ç”¨å£°æ˜ã€‚æ­¤æ—¶éœ€è¦æä¾›æ¯ä¸ªè‡ªå®šä¹‰ç»„ä»¶çš„æ ‡ç­¾åå’Œå¯¹åº”çš„è‡ªå®šä¹‰ç»„ä»¶æ–‡ä»¶è·¯å¾„ï¼š 12345{ &quot;usingComponents&quot;: { &quot;component-tag-name&quot;: &quot;path/to/the/custom/component&quot;//åŒç›®å½•ä¸‹ç›´æ¥å†™æ–‡ä»¶å }} è¿™æ ·ï¼Œåœ¨é¡µé¢çš„ wxml ä¸­å°±å¯ä»¥åƒä½¿ç”¨åŸºç¡€ç»„ä»¶ä¸€æ ·ä½¿ç”¨è‡ªå®šä¹‰ç»„ä»¶ã€‚èŠ‚ç‚¹åå³è‡ªå®šä¹‰ç»„ä»¶çš„æ ‡ç­¾åï¼ŒèŠ‚ç‚¹å±æ€§å³ä¼ é€’ç»™ç»„ä»¶çš„å±æ€§å€¼ã€‚ 1234&lt;view&gt; &lt;!-- ä»¥ä¸‹æ˜¯å¯¹ä¸€ä¸ªè‡ªå®šä¹‰ç»„ä»¶çš„å¼•ç”¨ --&gt; &lt;component-tag-name inner-text=&quot;Some text&quot;&gt;&lt;/component-tag-name&gt;&lt;/view&gt; ç»„ä»¶æ¨¡æ¿å’Œæ ·å¼ç»„ä»¶æ¨¡æ¿ç»„ä»¶æ¨¡æ¿çš„å†™æ³•ä¸é¡µé¢æ¨¡æ¿ç›¸åŒã€‚ç»„ä»¶æ¨¡æ¿ä¸ç»„ä»¶æ•°æ®ç»“åˆåç”Ÿæˆçš„èŠ‚ç‚¹æ ‘ï¼Œå°†è¢«æ’å…¥åˆ°ç»„ä»¶çš„å¼•ç”¨ä½ç½®ä¸Šã€‚ åœ¨ç»„ä»¶æ¨¡æ¿ä¸­å¯ä»¥æä¾›ä¸€ä¸ª &lt;slot&gt; èŠ‚ç‚¹ï¼Œç”¨äºæ‰¿è½½ç»„ä»¶å¼•ç”¨æ—¶æä¾›çš„å­èŠ‚ç‚¹ã€‚ ä»£ç ç¤ºä¾‹ï¼š åœ¨å¼€å‘è€…å·¥å…·ä¸­é¢„è§ˆæ•ˆæœ 123456789101112&lt;!-- ç»„ä»¶æ¨¡æ¿ --&gt;&lt;view class=&quot;wrapper&quot;&gt; &lt;view&gt;è¿™é‡Œæ˜¯ç»„ä»¶çš„å†…éƒ¨èŠ‚ç‚¹&lt;/view&gt; &lt;slot&gt;&lt;/slot&gt;&lt;/view&gt;&lt;!-- å¼•ç”¨ç»„ä»¶çš„é¡µé¢æ¨¡æ¿ --&gt;&lt;view&gt; &lt;component-tag-name&gt; &lt;!-- è¿™éƒ¨åˆ†å†…å®¹å°†è¢«æ”¾ç½®åœ¨ç»„ä»¶ &lt;slot&gt; çš„ä½ç½®ä¸Š --&gt; &lt;view&gt;è¿™é‡Œæ˜¯æ’å…¥åˆ°ç»„ä»¶slotä¸­çš„å†…å®¹&lt;/view&gt; &lt;/component-tag-name&gt;&lt;/view&gt; æ³¨æ„ï¼Œåœ¨æ¨¡æ¿ä¸­å¼•ç”¨åˆ°çš„è‡ªå®šä¹‰ç»„ä»¶åŠå…¶å¯¹åº”çš„èŠ‚ç‚¹åéœ€è¦åœ¨ json æ–‡ä»¶ä¸­æ˜¾å¼å®šä¹‰ï¼Œå¦åˆ™ä¼šè¢«å½“ä½œä¸€ä¸ªæ— æ„ä¹‰çš„èŠ‚ç‚¹ã€‚é™¤æ­¤ä»¥å¤–ï¼ŒèŠ‚ç‚¹åä¹Ÿå¯ä»¥è¢«å£°æ˜ä¸ºæŠ½è±¡èŠ‚ç‚¹ æ¨¡æ¿æ•°æ®ç»‘å®šä¸æ™®é€šçš„ WXML æ¨¡æ¿ç±»ä¼¼ï¼Œå¯ä»¥ä½¿ç”¨æ•°æ®ç»‘å®šï¼Œè¿™æ ·å°±å¯ä»¥å‘å­ç»„ä»¶çš„å±æ€§ä¼ é€’åŠ¨æ€æ•°æ®ã€‚ ä»£ç ç¤ºä¾‹ï¼š åœ¨å¼€å‘è€…å·¥å…·ä¸­é¢„è§ˆæ•ˆæœ 1234567&lt;!-- å¼•ç”¨ç»„ä»¶çš„é¡µé¢æ¨¡æ¿ --&gt;&lt;view&gt; &lt;component-tag-name prop-a=&quot;{{dataFieldA}}&quot; prop-b=&quot;{{dataFieldB}}&quot;&gt; &lt;!-- è¿™éƒ¨åˆ†å†…å®¹å°†è¢«æ”¾ç½®åœ¨ç»„ä»¶ &lt;slot&gt; çš„ä½ç½®ä¸Š --&gt; &lt;view&gt;è¿™é‡Œæ˜¯æ’å…¥åˆ°ç»„ä»¶slotä¸­çš„å†…å®¹&lt;/view&gt; &lt;/component-tag-name&gt;&lt;/view&gt; åœ¨ä»¥ä¸Šä¾‹å­ä¸­ï¼Œç»„ä»¶çš„å±æ€§ propA å’Œ propB å°†æ”¶åˆ°é¡µé¢ä¼ é€’çš„æ•°æ®ã€‚é¡µé¢å¯ä»¥é€šè¿‡ setData æ¥æ”¹å˜ç»‘å®šçš„æ•°æ®å­—æ®µã€‚ æ³¨æ„ï¼šè¿™æ ·çš„æ•°æ®ç»‘å®šåªèƒ½ä¼ é€’ JSON å…¼å®¹æ•°æ®ã€‚è‡ªåŸºç¡€åº“ç‰ˆæœ¬ 2.0.9 å¼€å§‹ï¼Œè¿˜å¯ä»¥åœ¨æ•°æ®ä¸­åŒ…å«å‡½æ•°ï¼ˆä½†è¿™äº›å‡½æ•°ä¸èƒ½åœ¨ WXML ä¸­ç›´æ¥è°ƒç”¨ï¼Œåªèƒ½ä¼ é€’ç»™å­ç»„ä»¶ï¼‰ã€‚ ç»„ä»¶ wxml çš„ slotåœ¨ç»„ä»¶çš„ wxml ä¸­å¯ä»¥åŒ…å« slot èŠ‚ç‚¹ï¼Œç”¨äºæ‰¿è½½ç»„ä»¶ä½¿ç”¨è€…æä¾›çš„ wxml ç»“æ„ã€‚ é»˜è®¤æƒ…å†µä¸‹ï¼Œä¸€ä¸ªç»„ä»¶çš„ wxml ä¸­åªèƒ½æœ‰ä¸€ä¸ª slot ã€‚éœ€è¦ä½¿ç”¨å¤š slot æ—¶ï¼Œå¯ä»¥åœ¨ç»„ä»¶ js ä¸­å£°æ˜å¯ç”¨ã€‚ 1234567Component({ options: { multipleSlots: true // åœ¨ç»„ä»¶å®šä¹‰æ—¶çš„é€‰é¡¹ä¸­å¯ç”¨å¤šslotæ”¯æŒ }, properties: { /* ... */ }, methods: { /* ... */ }}) æ­¤æ—¶ï¼Œå¯ä»¥åœ¨è¿™ä¸ªç»„ä»¶çš„ wxml ä¸­ä½¿ç”¨å¤šä¸ª slot ï¼Œä»¥ä¸åŒçš„ name æ¥åŒºåˆ†ã€‚ 123456&lt;!-- ç»„ä»¶æ¨¡æ¿ --&gt;&lt;view class=&quot;wrapper&quot;&gt; &lt;slot name=&quot;before&quot;&gt;&lt;/slot&gt; &lt;view&gt;è¿™é‡Œæ˜¯ç»„ä»¶çš„å†…éƒ¨ç»†èŠ‚&lt;/view&gt; &lt;slot name=&quot;after&quot;&gt;&lt;/slot&gt;&lt;/view&gt; ä½¿ç”¨æ—¶ï¼Œç”¨ slot å±æ€§æ¥å°†èŠ‚ç‚¹æ’å…¥åˆ°ä¸åŒçš„ slot ä¸Šã€‚ 123456789&lt;!-- å¼•ç”¨ç»„ä»¶çš„é¡µé¢æ¨¡æ¿ --&gt;&lt;view&gt; &lt;component-tag-name&gt; &lt;!-- è¿™éƒ¨åˆ†å†…å®¹å°†è¢«æ”¾ç½®åœ¨ç»„ä»¶ &lt;slot name=&quot;before&quot;&gt; çš„ä½ç½®ä¸Š --&gt; &lt;view slot=&quot;before&quot;&gt;è¿™é‡Œæ˜¯æ’å…¥åˆ°ç»„ä»¶slot name=&quot;before&quot;ä¸­çš„å†…å®¹&lt;/view&gt; &lt;!-- è¿™éƒ¨åˆ†å†…å®¹å°†è¢«æ”¾ç½®åœ¨ç»„ä»¶ &lt;slot name=&quot;after&quot;&gt; çš„ä½ç½®ä¸Š --&gt; &lt;view slot=&quot;after&quot;&gt;è¿™é‡Œæ˜¯æ’å…¥åˆ°ç»„ä»¶slot name=&quot;after&quot;ä¸­çš„å†…å®¹&lt;/view&gt; &lt;/component-tag-name&gt;&lt;/view&gt; ç»„ä»¶æ ·å¼ç»„ä»¶å¯¹åº” wxss æ–‡ä»¶çš„æ ·å¼ï¼Œåªå¯¹ç»„ä»¶wxmlå†…çš„èŠ‚ç‚¹ç”Ÿæ•ˆã€‚ç¼–å†™ç»„ä»¶æ ·å¼æ—¶ï¼Œéœ€è¦æ³¨æ„ä»¥ä¸‹å‡ ç‚¹ï¼š ç»„ä»¶å’Œå¼•ç”¨ç»„ä»¶çš„é¡µé¢ä¸èƒ½ä½¿ç”¨idé€‰æ‹©å™¨ï¼ˆ#aï¼‰ã€å±æ€§é€‰æ‹©å™¨ï¼ˆ[a]ï¼‰å’Œæ ‡ç­¾åé€‰æ‹©å™¨ï¼Œè¯·æ”¹ç”¨classé€‰æ‹©å™¨ã€‚ ç»„ä»¶å’Œå¼•ç”¨ç»„ä»¶çš„é¡µé¢ä¸­ä½¿ç”¨åä»£é€‰æ‹©å™¨ï¼ˆ.a .bï¼‰åœ¨ä¸€äº›æç«¯æƒ…å†µä¸‹ä¼šæœ‰éé¢„æœŸçš„è¡¨ç°ï¼Œå¦‚é‡ï¼Œè¯·é¿å…ä½¿ç”¨ã€‚ å­å…ƒç´ é€‰æ‹©å™¨ï¼ˆ.a&gt;.bï¼‰åªèƒ½ç”¨äº view ç»„ä»¶ä¸å…¶å­èŠ‚ç‚¹ä¹‹é—´ï¼Œç”¨äºå…¶ä»–ç»„ä»¶å¯èƒ½å¯¼è‡´éé¢„æœŸçš„æƒ…å†µã€‚ ç»§æ‰¿æ ·å¼ï¼Œå¦‚ font ã€ color ï¼Œä¼šä»ç»„ä»¶å¤–ç»§æ‰¿åˆ°ç»„ä»¶å†…ã€‚ é™¤ç»§æ‰¿æ ·å¼å¤–ï¼Œ app.wxss ä¸­çš„æ ·å¼ã€ç»„ä»¶æ‰€åœ¨é¡µé¢çš„çš„æ ·å¼å¯¹è‡ªå®šä¹‰ç»„ä»¶æ— æ•ˆï¼ˆé™¤éæ›´æ”¹ç»„ä»¶æ ·å¼éš”ç¦»é€‰é¡¹ï¼‰ã€‚ 1234#a { } /* åœ¨ç»„ä»¶ä¸­ä¸èƒ½ä½¿ç”¨ */[a] { } /* åœ¨ç»„ä»¶ä¸­ä¸èƒ½ä½¿ç”¨ */button { } /* åœ¨ç»„ä»¶ä¸­ä¸èƒ½ä½¿ç”¨ */.a &gt; .b { } /* é™¤é .a æ˜¯ view ç»„ä»¶èŠ‚ç‚¹ï¼Œå¦åˆ™ä¸ä¸€å®šä¼šç”Ÿæ•ˆ */ é™¤æ­¤ä»¥å¤–ï¼Œç»„ä»¶å¯ä»¥æŒ‡å®šå®ƒæ‰€åœ¨èŠ‚ç‚¹çš„é»˜è®¤æ ·å¼ï¼Œä½¿ç”¨ :host é€‰æ‹©å™¨ï¼ˆéœ€è¦åŒ…å«åŸºç¡€åº“ 1.7.2 æˆ–æ›´é«˜ç‰ˆæœ¬çš„å¼€å‘è€…å·¥å…·æ”¯æŒï¼‰ã€‚ ä»£ç ç¤ºä¾‹ï¼š 123456/* ç»„ä»¶ custom-component.wxss */:host { color: yellow;}&lt;!-- é¡µé¢çš„ WXML --&gt;&lt;custom-component&gt;è¿™æ®µæ–‡æœ¬æ˜¯é»„è‰²çš„&lt;/custom-component&gt; ç»„ä»¶æ ·å¼éš”ç¦»é»˜è®¤æƒ…å†µä¸‹ï¼Œè‡ªå®šä¹‰ç»„ä»¶çš„æ ·å¼åªå—åˆ°è‡ªå®šä¹‰ç»„ä»¶ wxss çš„å½±å“ã€‚é™¤éä»¥ä¸‹ä¸¤ç§æƒ…å†µï¼š app.wxss æˆ–é¡µé¢çš„ wxss ä¸­ä½¿ç”¨äº†æ ‡ç­¾åé€‰æ‹©å™¨ï¼ˆæˆ–ä¸€äº›å…¶ä»–ç‰¹æ®Šé€‰æ‹©å™¨ï¼‰æ¥ç›´æ¥æŒ‡å®šæ ·å¼ï¼Œè¿™äº›é€‰æ‹©å™¨ä¼šå½±å“åˆ°é¡µé¢å’Œå…¨éƒ¨ç»„ä»¶ã€‚é€šå¸¸æƒ…å†µä¸‹è¿™æ˜¯ä¸æ¨èçš„åšæ³•ã€‚ æŒ‡å®šç‰¹æ®Šçš„æ ·å¼éš”ç¦»é€‰é¡¹ styleIsolation ã€‚ 12345Component({ options: { styleIsolation: 'isolated' }}) åœ¨å¼€å‘è€…å·¥å…·ä¸­é¢„è§ˆæ•ˆæœ styleIsolation é€‰é¡¹ä»åŸºç¡€åº“ç‰ˆæœ¬ 2.6.5 å¼€å§‹æ”¯æŒã€‚å®ƒæ”¯æŒä»¥ä¸‹å–å€¼ï¼š isolated è¡¨ç¤ºå¯ç”¨æ ·å¼éš”ç¦»ï¼Œåœ¨è‡ªå®šä¹‰ç»„ä»¶å†…å¤–ï¼Œä½¿ç”¨ class æŒ‡å®šçš„æ ·å¼å°†ä¸ä¼šç›¸äº’å½±å“ï¼ˆä¸€èˆ¬æƒ…å†µä¸‹çš„é»˜è®¤å€¼ï¼‰ï¼› apply-shared è¡¨ç¤ºé¡µé¢ wxss æ ·å¼å°†å½±å“åˆ°è‡ªå®šä¹‰ç»„ä»¶ï¼Œä½†è‡ªå®šä¹‰ç»„ä»¶ wxss ä¸­æŒ‡å®šçš„æ ·å¼ä¸ä¼šå½±å“é¡µé¢ï¼› shared è¡¨ç¤ºé¡µé¢ wxss æ ·å¼å°†å½±å“åˆ°è‡ªå®šä¹‰ç»„ä»¶ï¼Œè‡ªå®šä¹‰ç»„ä»¶ wxss ä¸­æŒ‡å®šçš„æ ·å¼ä¹Ÿä¼šå½±å“é¡µé¢å’Œå…¶ä»–è®¾ç½®äº† apply-shared æˆ– shared çš„è‡ªå®šä¹‰ç»„ä»¶ã€‚ï¼ˆè¿™ä¸ªé€‰é¡¹åœ¨æ’ä»¶ä¸­ä¸å¯ç”¨ã€‚ï¼‰ ä½¿ç”¨åä¸¤è€…æ—¶ï¼Œè¯·åŠ¡å¿…æ³¨æ„ç»„ä»¶é—´æ ·å¼çš„ç›¸äº’å½±å“ã€‚ å¦‚æœè¿™ä¸ª Component æ„é€ å™¨ç”¨äºæ„é€ é¡µé¢ ï¼Œåˆ™é»˜è®¤å€¼ä¸º shared ï¼Œä¸”è¿˜æœ‰ä»¥ä¸‹å‡ ä¸ªé¢å¤–çš„æ ·å¼éš”ç¦»é€‰é¡¹å¯ç”¨ï¼š page-isolated è¡¨ç¤ºåœ¨è¿™ä¸ªé¡µé¢ç¦ç”¨ app.wxss ï¼ŒåŒæ—¶ï¼Œé¡µé¢çš„ wxss ä¸ä¼šå½±å“åˆ°å…¶ä»–è‡ªå®šä¹‰ç»„ä»¶ï¼› page-apply-shared è¡¨ç¤ºåœ¨è¿™ä¸ªé¡µé¢ç¦ç”¨ app.wxss ï¼ŒåŒæ—¶ï¼Œé¡µé¢ wxss æ ·å¼ä¸ä¼šå½±å“åˆ°å…¶ä»–è‡ªå®šä¹‰ç»„ä»¶ï¼Œä½†è®¾ä¸º shared çš„è‡ªå®šä¹‰ç»„ä»¶ä¼šå½±å“åˆ°é¡µé¢ï¼› page-shared è¡¨ç¤ºåœ¨è¿™ä¸ªé¡µé¢ç¦ç”¨ app.wxss ï¼ŒåŒæ—¶ï¼Œé¡µé¢ wxss æ ·å¼ä¼šå½±å“åˆ°å…¶ä»–è®¾ä¸º apply-shared æˆ– shared çš„è‡ªå®šä¹‰ç»„ä»¶ï¼Œä¹Ÿä¼šå—åˆ°è®¾ä¸º shared çš„è‡ªå®šä¹‰ç»„ä»¶çš„å½±å“ã€‚ ä»å°ç¨‹åºåŸºç¡€åº“ç‰ˆæœ¬ 2.10.1 å¼€å§‹ï¼Œä¹Ÿå¯ä»¥åœ¨é¡µé¢æˆ–è‡ªå®šä¹‰ç»„ä»¶çš„ json æ–‡ä»¶ä¸­é…ç½® styleIsolation ï¼ˆè¿™æ ·å°±ä¸éœ€åœ¨ js æ–‡ä»¶çš„ options ä¸­å†é…ç½®ï¼‰ã€‚ä¾‹å¦‚ï¼š 123{ &quot;styleIsolation&quot;: &quot;isolated&quot;} æ­¤å¤–ï¼Œå°ç¨‹åºåŸºç¡€åº“ç‰ˆæœ¬ 2.2.3 ä»¥ä¸Šæ”¯æŒ addGlobalClass é€‰é¡¹ï¼Œå³åœ¨ Component çš„ options ä¸­è®¾ç½® addGlobalClass: true ã€‚ è¿™ä¸ªé€‰é¡¹ç­‰ä»·äºè®¾ç½® styleIsolation: apply-shared ï¼Œä½†è®¾ç½®äº† styleIsolation é€‰é¡¹åè¿™ä¸ªé€‰é¡¹ä¼šå¤±æ•ˆã€‚ ä»£ç ç¤ºä¾‹ï¼š åœ¨å¼€å‘è€…å·¥å…·ä¸­é¢„è§ˆæ•ˆæœ 123456789101112/* ç»„ä»¶ custom-component.js */Component({ options: { addGlobalClass: true, }})&lt;!-- ç»„ä»¶ custom-component.wxml --&gt;&lt;text class=&quot;red-text&quot;&gt;è¿™æ®µæ–‡æœ¬çš„é¢œè‰²ç”± `app.wxss` å’Œé¡µé¢ `wxss` ä¸­çš„æ ·å¼å®šä¹‰æ¥å†³å®š&lt;/text&gt;/* app.wxss */.red-text { color: red;} å¤–éƒ¨æ ·å¼ç±» åŸºç¡€åº“ 1.9.90 å¼€å§‹æ”¯æŒï¼Œä½ç‰ˆæœ¬éœ€åšå…¼å®¹å¤„ç†ã€‚ æœ‰æ—¶ï¼Œç»„ä»¶å¸Œæœ›æ¥å—å¤–éƒ¨ä¼ å…¥çš„æ ·å¼ç±»ã€‚æ­¤æ—¶å¯ä»¥åœ¨ Component ä¸­ç”¨ externalClasses å®šä¹‰æ®µå®šä¹‰è‹¥å¹²ä¸ªå¤–éƒ¨æ ·å¼ç±»ã€‚ è¿™ä¸ªç‰¹æ€§å¯ä»¥ç”¨äºå®ç°ç±»ä¼¼äº view ç»„ä»¶çš„ hover-class å±æ€§ï¼šé¡µé¢å¯ä»¥æä¾›ä¸€ä¸ªæ ·å¼ç±»ï¼Œèµ‹äºˆ view çš„ hover-class ï¼Œè¿™ä¸ªæ ·å¼ç±»æœ¬èº«å†™åœ¨é¡µé¢ä¸­è€Œé view ç»„ä»¶çš„å®ç°ä¸­ã€‚ æ³¨æ„ï¼šåœ¨åŒä¸€ä¸ªèŠ‚ç‚¹ä¸Šä½¿ç”¨æ™®é€šæ ·å¼ç±»å’Œå¤–éƒ¨æ ·å¼ç±»æ—¶ï¼Œä¸¤ä¸ªç±»çš„ä¼˜å…ˆçº§æ˜¯æœªå®šä¹‰çš„ï¼Œå› æ­¤æœ€å¥½é¿å…è¿™ç§æƒ…å†µã€‚ ä»£ç ç¤ºä¾‹ï¼š 123456/* ç»„ä»¶ custom-component.js */Component({ externalClasses: ['my-class']})&lt;!-- ç»„ä»¶ custom-component.wxml --&gt;&lt;custom-component class=&quot;my-class&quot;&gt;è¿™æ®µæ–‡æœ¬çš„é¢œè‰²ç”±ç»„ä»¶å¤–çš„ class å†³å®š&lt;/custom-component&gt; è¿™æ ·ï¼Œç»„ä»¶çš„ä½¿ç”¨è€…å¯ä»¥æŒ‡å®šè¿™ä¸ªæ ·å¼ç±»å¯¹åº”çš„ class ï¼Œå°±åƒä½¿ç”¨æ™®é€šå±æ€§ä¸€æ ·ã€‚åœ¨ 2.7.1 ä¹‹åï¼Œå¯ä»¥æŒ‡å®šå¤šä¸ªå¯¹åº”çš„ class ã€‚ ä»£ç ç¤ºä¾‹ï¼š åœ¨å¼€å‘è€…å·¥å…·ä¸­é¢„è§ˆæ•ˆæœ 1234567891011&lt;!-- é¡µé¢çš„ WXML --&gt;&lt;custom-component my-class=&quot;red-text&quot; /&gt;&lt;custom-component my-class=&quot;large-text&quot; /&gt;&lt;!-- ä»¥ä¸‹å†™æ³•éœ€è¦åŸºç¡€åº“ç‰ˆæœ¬ 2.7.1 ä»¥ä¸Š --&gt;&lt;custom-component my-class=&quot;red-text large-text&quot; /&gt;.red-text { color: red;}.large-text { font-size: 1.5em;} å¼•ç”¨é¡µé¢æˆ–çˆ¶ç»„ä»¶çš„æ ·å¼ åŸºç¡€åº“ 2.9.2 å¼€å§‹æ”¯æŒï¼Œä½ç‰ˆæœ¬éœ€åšå…¼å®¹å¤„ç†ã€‚ å³ä½¿å¯ç”¨äº†æ ·å¼éš”ç¦» isolated ï¼Œç»„ä»¶ä»ç„¶å¯ä»¥åœ¨å±€éƒ¨å¼•ç”¨ç»„ä»¶æ‰€åœ¨é¡µé¢çš„æ ·å¼æˆ–çˆ¶ç»„ä»¶çš„æ ·å¼ã€‚ ä¾‹å¦‚ï¼Œå¦‚æœåœ¨é¡µé¢ wxss ä¸­å®šä¹‰äº†ï¼š 123.blue-text { color: blue;} åœ¨è¿™ä¸ªç»„ä»¶ä¸­å¯ä»¥ä½¿ç”¨ ~ æ¥å¼•ç”¨è¿™ä¸ªç±»çš„æ ·å¼ï¼š 1&lt;view class=&quot;~blue-text&quot;&gt; è¿™æ®µæ–‡æœ¬æ˜¯è“è‰²çš„ &lt;/view&gt; å¦‚æœåœ¨ä¸€ä¸ªç»„ä»¶çš„çˆ¶ç»„ä»¶ wxss ä¸­å®šä¹‰äº†ï¼š 123.red-text { color: red;} åœ¨è¿™ä¸ªç»„ä»¶ä¸­å¯ä»¥ä½¿ç”¨ ^ æ¥å¼•ç”¨è¿™ä¸ªç±»çš„æ ·å¼ï¼š 1&lt;view class=&quot;^red-text&quot;&gt; è¿™æ®µæ–‡æœ¬æ˜¯çº¢è‰²çš„ &lt;/view&gt; ä¹Ÿå¯ä»¥è¿ç»­ä½¿ç”¨å¤šä¸ª ^ æ¥å¼•ç”¨ç¥–å…ˆç»„ä»¶ä¸­çš„æ ·å¼ã€‚ æ³¨æ„ï¼šå¦‚æœç»„ä»¶æ˜¯æ¯”è¾ƒç‹¬ç«‹ã€é€šç”¨çš„ç»„ä»¶ï¼Œè¯·ä¼˜å…ˆä½¿ç”¨å¤–éƒ¨æ ·å¼ç±»çš„æ–¹å¼ï¼Œè€Œéç›´æ¥å¼•ç”¨çˆ¶ç»„ä»¶æˆ–é¡µé¢çš„æ ·å¼ã€‚ è™šæ‹ŸåŒ–ç»„ä»¶èŠ‚ç‚¹ åŸºç¡€åº“ 2.11.2 å¼€å§‹æ”¯æŒï¼Œä½ç‰ˆæœ¬éœ€åšå…¼å®¹å¤„ç†ã€‚ é»˜è®¤æƒ…å†µä¸‹ï¼Œè‡ªå®šä¹‰ç»„ä»¶æœ¬èº«çš„é‚£ä¸ªèŠ‚ç‚¹æ˜¯ä¸€ä¸ªâ€œæ™®é€šâ€çš„èŠ‚ç‚¹ï¼Œä½¿ç”¨æ—¶å¯ä»¥åœ¨è¿™ä¸ªèŠ‚ç‚¹ä¸Šè®¾ç½® class style ã€åŠ¨ç”»ã€ flex å¸ƒå±€ç­‰ï¼Œå°±å¦‚åŒæ™®é€šçš„ view ç»„ä»¶èŠ‚ç‚¹ä¸€æ ·ã€‚ 12345&lt;!-- é¡µé¢çš„ WXML --&gt;&lt;view style=&quot;display: flex&quot;&gt; &lt;!-- é»˜è®¤æƒ…å†µä¸‹ï¼Œè¿™æ˜¯ä¸€ä¸ªæ™®é€šçš„èŠ‚ç‚¹ --&gt; &lt;custom-component style=&quot;color: blue; flex: 1&quot;&gt;è“è‰²ã€æ»¡å®½çš„&lt;/custom-component&gt;&lt;/view&gt; ä½†æœ‰äº›æ—¶å€™ï¼Œè‡ªå®šä¹‰ç»„ä»¶å¹¶ä¸å¸Œæœ›è¿™ä¸ªèŠ‚ç‚¹æœ¬èº«å¯ä»¥è®¾ç½®æ ·å¼ã€å“åº” flex å¸ƒå±€ç­‰ï¼Œè€Œæ˜¯å¸Œæœ›è‡ªå®šä¹‰ç»„ä»¶å†…éƒ¨çš„ç¬¬ä¸€å±‚èŠ‚ç‚¹èƒ½å¤Ÿå“åº” flex å¸ƒå±€æˆ–è€…æ ·å¼ç”±è‡ªå®šä¹‰ç»„ä»¶æœ¬èº«å®Œå…¨å†³å®šã€‚ è¿™ç§æƒ…å†µä¸‹ï¼Œå¯ä»¥å°†è¿™ä¸ªè‡ªå®šä¹‰ç»„ä»¶è®¾ç½®ä¸ºâ€œè™šæ‹Ÿçš„â€ï¼š 1234567891011Component({ options: { virtualHost: true }, properties: { style: { // å®šä¹‰ style å±æ€§å¯ä»¥æ‹¿åˆ° style å±æ€§ä¸Šè®¾ç½®çš„å€¼ type: String, } }, externalClasses: ['class'], // å¯ä»¥å°† class è®¾ä¸º externalClasses}) è¿™æ ·ï¼Œå¯ä»¥å°† flex æ”¾å…¥è‡ªå®šä¹‰ç»„ä»¶å†…ï¼š 12345678910&lt;!-- é¡µé¢çš„ WXML --&gt;&lt;view style=&quot;display: flex&quot;&gt; &lt;!-- å¦‚æœè®¾ç½®äº† virtualHost ï¼ŒèŠ‚ç‚¹ä¸Šçš„æ ·å¼å°†å¤±æ•ˆ --&gt; &lt;custom-component style=&quot;color: blue&quot;&gt;ä¸æ˜¯è“è‰²çš„&lt;/custom-component&gt;&lt;/view&gt;&lt;!-- custom-component.wxml --&gt;&lt;view style=&quot;flex: 1&quot;&gt; æ»¡å®½çš„ &lt;slot&gt;&lt;/slot&gt;&lt;/view&gt; éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè‡ªå®šä¹‰ç»„ä»¶èŠ‚ç‚¹ä¸Šçš„ class style å’ŒåŠ¨ç”»å°†ä¸å†ç”Ÿæ•ˆï¼Œä½†ä»å¯ä»¥ï¼š å°† style å®šä¹‰æˆ properties å±æ€§æ¥è·å– style ä¸Šè®¾ç½®çš„å€¼ï¼› å°† class å®šä¹‰æˆ externalClasses å¤–éƒ¨æ ·å¼ç±»ä½¿å¾—è‡ªå®šä¹‰ç»„ä»¶ wxml å¯ä»¥ä½¿ç”¨ class å€¼ã€‚ Component æ„é€ å™¨Component æ„é€ å™¨å¯ç”¨äºå®šä¹‰ç»„ä»¶ï¼Œè°ƒç”¨ Component æ„é€ å™¨æ—¶å¯ä»¥æŒ‡å®šç»„ä»¶çš„å±æ€§ã€æ•°æ®ã€æ–¹æ³•ç­‰ã€‚ è¯¦ç»†çš„å‚æ•°å«ä¹‰å’Œä½¿ç”¨è¯·å‚è€ƒ Component å‚è€ƒæ–‡æ¡£ã€‚ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051Component({ behaviors: [], properties: { myProperty: { // å±æ€§å type: String, value: '' }, myProperty2: String // ç®€åŒ–çš„å®šä¹‰æ–¹å¼ }, data: {}, // ç§æœ‰æ•°æ®ï¼Œå¯ç”¨äºæ¨¡æ¿æ¸²æŸ“ lifetimes: { // ç”Ÿå‘½å‘¨æœŸå‡½æ•°ï¼Œå¯ä»¥ä¸ºå‡½æ•°ï¼Œæˆ–ä¸€ä¸ªåœ¨methodsæ®µä¸­å®šä¹‰çš„æ–¹æ³•å attached: function () { }, moved: function () { }, detached: function () { }, }, // ç”Ÿå‘½å‘¨æœŸå‡½æ•°ï¼Œå¯ä»¥ä¸ºå‡½æ•°ï¼Œæˆ–ä¸€ä¸ªåœ¨methodsæ®µä¸­å®šä¹‰çš„æ–¹æ³•å attached: function () { }, // æ­¤å¤„attachedçš„å£°æ˜ä¼šè¢«lifetimeså­—æ®µä¸­çš„å£°æ˜è¦†ç›– ready: function() { }, pageLifetimes: { // ç»„ä»¶æ‰€åœ¨é¡µé¢çš„ç”Ÿå‘½å‘¨æœŸå‡½æ•° show: function () { }, hide: function () { }, resize: function () { }, }, methods: { onMyButtonTap: function(){ this.setData({ // æ›´æ–°å±æ€§å’Œæ•°æ®çš„æ–¹æ³•ä¸æ›´æ–°é¡µé¢æ•°æ®çš„æ–¹æ³•ç±»ä¼¼ }) }, // å†…éƒ¨æ–¹æ³•å»ºè®®ä»¥ä¸‹åˆ’çº¿å¼€å¤´ _myPrivateMethod: function(){ // è¿™é‡Œå°† data.A[0].B è®¾ä¸º 'myPrivateData' this.setData({ 'A[0].B': 'myPrivateData' }) }, _propertyChange: function(newVal, oldVal) { } }}) ä½¿ç”¨ Component æ„é€ å™¨æ„é€ é¡µé¢äº‹å®ä¸Šï¼Œå°ç¨‹åºçš„é¡µé¢ä¹Ÿå¯ä»¥è§†ä¸ºè‡ªå®šä¹‰ç»„ä»¶ã€‚å› è€Œï¼Œé¡µé¢ä¹Ÿå¯ä»¥ä½¿ç”¨ Component æ„é€ å™¨æ„é€ ï¼Œæ‹¥æœ‰ä¸æ™®é€šç»„ä»¶ä¸€æ ·çš„å®šä¹‰æ®µä¸å®ä¾‹æ–¹æ³•ã€‚ä½†æ­¤æ—¶è¦æ±‚å¯¹åº” json æ–‡ä»¶ä¸­åŒ…å« usingComponents å®šä¹‰æ®µã€‚ æ­¤æ—¶ï¼Œç»„ä»¶çš„å±æ€§å¯ä»¥ç”¨äºæ¥æ”¶é¡µé¢çš„å‚æ•°ï¼Œå¦‚è®¿é—®é¡µé¢ /pages/index/index?paramA=123&amp;paramB=xyz ï¼Œå¦‚æœå£°æ˜æœ‰å±æ€§ paramA æˆ– paramB ï¼Œåˆ™å®ƒä»¬ä¼šè¢«èµ‹å€¼ä¸º 123 æˆ– xyz ã€‚ é¡µé¢çš„ç”Ÿå‘½å‘¨æœŸæ–¹æ³•ï¼ˆå³ on å¼€å¤´çš„æ–¹æ³•ï¼‰ï¼Œåº”å†™åœ¨ methods å®šä¹‰æ®µä¸­ã€‚ ä»£ç ç¤ºä¾‹ï¼š 123456789101112131415161718{ &quot;usingComponents&quot;: {}}Component({ properties: { paramA: Number, paramB: String, }, methods: { onLoad: function() { this.data.paramA // é¡µé¢å‚æ•° paramA çš„å€¼ this.data.paramB // é¡µé¢å‚æ•° paramB çš„å€¼ } }}) ä½¿ç”¨ Component æ„é€ å™¨æ¥æ„é€ é¡µé¢çš„ä¸€ä¸ªå¥½å¤„æ˜¯å¯ä»¥ä½¿ç”¨ behaviors æ¥æå–æ‰€æœ‰é¡µé¢ä¸­å…¬ç”¨çš„ä»£ç æ®µã€‚ ä¾‹å¦‚ï¼Œåœ¨æ‰€æœ‰é¡µé¢è¢«åˆ›å»ºå’Œé”€æ¯æ—¶éƒ½è¦æ‰§è¡ŒåŒä¸€æ®µä»£ç ï¼Œå°±å¯ä»¥æŠŠè¿™æ®µä»£ç æå–åˆ° behaviors ä¸­ã€‚ ä»£ç ç¤ºä¾‹ï¼š 12345678910111213141516171819202122232425// page-common-behavior.jsmodule.exports = Behavior({ attached: function() { // é¡µé¢åˆ›å»ºæ—¶æ‰§è¡Œ console.info('Page loaded!') }, detached: function() { // é¡µé¢é”€æ¯æ—¶æ‰§è¡Œ console.info('Page unloaded!') }})// é¡µé¢ Avar pageCommonBehavior = require('./page-common-behavior')Component({ behaviors: [pageCommonBehavior], data: { /* ... */ }, methods: { /* ... */ },})// é¡µé¢ Bvar pageCommonBehavior = require('./page-common-behavior')Component({ behaviors: [pageCommonBehavior], data: { /* ... */ }, methods: { /* ... */ },}) ç»„ä»¶é—´é€šä¿¡ä¸äº‹ä»¶ç»„ä»¶é—´é€šä¿¡ç»„ä»¶é—´çš„åŸºæœ¬é€šä¿¡æ–¹å¼æœ‰ä»¥ä¸‹å‡ ç§ã€‚ WXML æ•°æ®ç»‘å®šï¼šç”¨äºçˆ¶ç»„ä»¶å‘å­ç»„ä»¶çš„æŒ‡å®šå±æ€§è®¾ç½®æ•°æ®ï¼Œä»…èƒ½è®¾ç½® JSON å…¼å®¹æ•°æ®ï¼ˆè‡ªåŸºç¡€åº“ç‰ˆæœ¬ 2.0.9 å¼€å§‹ï¼Œè¿˜å¯ä»¥åœ¨æ•°æ®ä¸­åŒ…å«å‡½æ•°ï¼‰ã€‚å…·ä½“åœ¨ ç»„ä»¶æ¨¡æ¿å’Œæ ·å¼ ç« èŠ‚ä¸­ä»‹ç»ã€‚ äº‹ä»¶ï¼šç”¨äºå­ç»„ä»¶å‘çˆ¶ç»„ä»¶ä¼ é€’æ•°æ®ï¼Œå¯ä»¥ä¼ é€’ä»»æ„æ•°æ®ã€‚ å¦‚æœä»¥ä¸Šä¸¤ç§æ–¹å¼ä¸è¶³ä»¥æ»¡è¶³éœ€è¦ï¼Œçˆ¶ç»„ä»¶è¿˜å¯ä»¥é€šè¿‡ this.selectComponent æ–¹æ³•è·å–å­ç»„ä»¶å®ä¾‹å¯¹è±¡ï¼Œè¿™æ ·å°±å¯ä»¥ç›´æ¥è®¿é—®ç»„ä»¶çš„ä»»æ„æ•°æ®å’Œæ–¹æ³•ã€‚ ç›‘å¬äº‹ä»¶äº‹ä»¶ç³»ç»Ÿæ˜¯ç»„ä»¶é—´é€šä¿¡çš„ä¸»è¦æ–¹å¼ä¹‹ä¸€ã€‚è‡ªå®šä¹‰ç»„ä»¶å¯ä»¥è§¦å‘ä»»æ„çš„äº‹ä»¶ï¼Œå¼•ç”¨ç»„ä»¶çš„é¡µé¢å¯ä»¥ç›‘å¬è¿™äº›äº‹ä»¶ã€‚å…³äºäº‹ä»¶çš„åŸºæœ¬æ¦‚å¿µå’Œç”¨æ³•ï¼Œå‚è§ äº‹ä»¶ ã€‚ ç›‘å¬è‡ªå®šä¹‰ç»„ä»¶äº‹ä»¶çš„æ–¹æ³•ä¸ç›‘å¬åŸºç¡€ç»„ä»¶äº‹ä»¶çš„æ–¹æ³•å®Œå…¨ä¸€è‡´ï¼š ä»£ç ç¤ºä¾‹ï¼š 123456789&lt;!-- å½“è‡ªå®šä¹‰ç»„ä»¶è§¦å‘â€œmyeventâ€äº‹ä»¶æ—¶ï¼Œè°ƒç”¨â€œonMyEventâ€æ–¹æ³• --&gt;&lt;component-tag-name bindmyevent=&quot;onMyEvent&quot; /&gt;&lt;!-- æˆ–è€…å¯ä»¥å†™æˆ --&gt;&lt;component-tag-name bind:myevent=&quot;onMyEvent&quot; /&gt;Page({ onMyEvent: function(e){ e.detail // è‡ªå®šä¹‰ç»„ä»¶è§¦å‘äº‹ä»¶æ—¶æä¾›çš„detailå¯¹è±¡ }}) è§¦å‘äº‹ä»¶è‡ªå®šä¹‰ç»„ä»¶è§¦å‘äº‹ä»¶æ—¶ï¼Œéœ€è¦ä½¿ç”¨ triggerEvent æ–¹æ³•ï¼ŒæŒ‡å®šäº‹ä»¶åã€detailå¯¹è±¡å’Œäº‹ä»¶é€‰é¡¹ï¼š ä»£ç ç¤ºä¾‹ï¼š åœ¨å¼€å‘è€…å·¥å…·ä¸­é¢„è§ˆæ•ˆæœ 123456789101112&lt;!-- åœ¨è‡ªå®šä¹‰ç»„ä»¶ä¸­ --&gt;&lt;button bindtap=&quot;onTap&quot;&gt;ç‚¹å‡»è¿™ä¸ªæŒ‰é’®å°†è§¦å‘â€œmyeventâ€äº‹ä»¶&lt;/button&gt;Component({ properties: {}, methods: { onTap: function(){ var myEventDetail = {} // detailå¯¹è±¡ï¼Œæä¾›ç»™äº‹ä»¶ç›‘å¬å‡½æ•° var myEventOption = {} // è§¦å‘äº‹ä»¶çš„é€‰é¡¹ this.triggerEvent('myevent', myEventDetail, myEventOption) } }}) è§¦å‘äº‹ä»¶çš„é€‰é¡¹åŒ…æ‹¬ï¼š é€‰é¡¹å ç±»å‹ æ˜¯å¦å¿…å¡« é»˜è®¤å€¼ æè¿° bubbles Boolean å¦ false äº‹ä»¶æ˜¯å¦å†’æ³¡ composed Boolean å¦ false äº‹ä»¶æ˜¯å¦å¯ä»¥ç©¿è¶Šç»„ä»¶è¾¹ç•Œï¼Œä¸ºfalseæ—¶ï¼Œäº‹ä»¶å°†åªèƒ½åœ¨å¼•ç”¨ç»„ä»¶çš„èŠ‚ç‚¹æ ‘ä¸Šè§¦å‘ï¼Œä¸è¿›å…¥å…¶ä»–ä»»ä½•ç»„ä»¶å†…éƒ¨ capturePhase Boolean å¦ false äº‹ä»¶æ˜¯å¦æ‹¥æœ‰æ•è·é˜¶æ®µ å…³äºå†’æ³¡å’Œæ•è·é˜¶æ®µçš„æ¦‚å¿µï¼Œè¯·é˜…è¯» äº‹ä»¶ ç« èŠ‚ä¸­çš„ç›¸å…³è¯´æ˜ã€‚ ä»£ç ç¤ºä¾‹ï¼š åœ¨å¼€å‘è€…å·¥å…·ä¸­é¢„è§ˆæ•ˆæœ 12345678910111213141516171819202122// é¡µé¢ page.wxml&lt;another-component bindcustomevent=&quot;pageEventListener1&quot;&gt; &lt;my-component bindcustomevent=&quot;pageEventListener2&quot;&gt;&lt;/my-component&gt;&lt;/another-component&gt;// ç»„ä»¶ another-component.wxml&lt;view bindcustomevent=&quot;anotherEventListener&quot;&gt; &lt;slot /&gt;&lt;/view&gt;// ç»„ä»¶ my-component.wxml&lt;view bindcustomevent=&quot;myEventListener&quot;&gt; &lt;slot /&gt;&lt;/view&gt;// ç»„ä»¶ my-component.jsComponent({ methods: { onTap: function(){ this.triggerEvent('customevent', {}) // åªä¼šè§¦å‘ pageEventListener2 this.triggerEvent('customevent', {}, { bubbles: true }) // ä¼šä¾æ¬¡è§¦å‘ pageEventListener2 ã€ pageEventListener1 this.triggerEvent('customevent', {}, { bubbles: true, composed: true }) // ä¼šä¾æ¬¡è§¦å‘ pageEventListener2 ã€ anotherEventListener ã€ pageEventListener1 } }}) è·å–ç»„ä»¶å®ä¾‹å¯åœ¨çˆ¶ç»„ä»¶é‡Œè°ƒç”¨ this.selectComponent ï¼Œè·å–å­ç»„ä»¶çš„å®ä¾‹å¯¹è±¡ã€‚ è°ƒç”¨æ—¶éœ€è¦ä¼ å…¥ä¸€ä¸ªåŒ¹é…é€‰æ‹©å™¨ selectorï¼Œå¦‚ï¼šthis.selectComponent(&quot;.my-component&quot;)ã€‚ selector è¯¦ç»†è¯­æ³•å¯æŸ¥çœ‹ selector è¯­æ³•å‚è€ƒæ–‡æ¡£ã€‚ ä»£ç ç¤ºä¾‹ï¼š åœ¨å¼€å‘è€…å·¥å…·ä¸­é¢„è§ˆæ•ˆæœ 12345678// çˆ¶ç»„ä»¶Page({ data: {}, getChildComponent: function () { const child = this.selectComponent('.my-component'); console.log(child) }}) åœ¨ä¸Šä¾‹ä¸­ï¼Œçˆ¶ç»„ä»¶å°†ä¼šè·å– class ä¸º my-component çš„å­ç»„ä»¶å®ä¾‹å¯¹è±¡ï¼Œå³å­ç»„ä»¶çš„ this ã€‚ æ³¨æ„ ï¼šé»˜è®¤æƒ…å†µä¸‹ï¼Œå°ç¨‹åºä¸æ’ä»¶ä¹‹é—´ã€ä¸åŒæ’ä»¶ä¹‹é—´çš„ç»„ä»¶å°†æ— æ³•é€šè¿‡ selectComponent å¾—åˆ°ç»„ä»¶å®ä¾‹ï¼ˆå°†è¿”å› nullï¼‰ã€‚å¦‚æœæƒ³è®©ä¸€ä¸ªç»„ä»¶åœ¨ä¸Šè¿°æ¡ä»¶ä¸‹ä¾ç„¶èƒ½è¢« selectComponent è¿”å›ï¼Œå¯ä»¥è‡ªå®šä¹‰å…¶è¿”å›ç»“æœï¼ˆè§ä¸‹ï¼‰ã€‚ è‡ªå®šä¹‰çš„ç»„ä»¶å®ä¾‹è·å–ç»“æœè‹¥éœ€è¦è‡ªå®šä¹‰ selectComponent è¿”å›çš„æ•°æ®ï¼Œå¯ä½¿ç”¨å†…ç½® behavior: wx://component-export ä»åŸºç¡€åº“ç‰ˆæœ¬ 2.2.3 å¼€å§‹æä¾›æ”¯æŒã€‚ ä½¿ç”¨è¯¥ behavior æ—¶ï¼Œè‡ªå®šä¹‰ç»„ä»¶ä¸­çš„ export å®šä¹‰æ®µå°†ç”¨äºæŒ‡å®šç»„ä»¶è¢« selectComponent è°ƒç”¨æ—¶çš„è¿”å›å€¼ã€‚ ä»£ç ç¤ºä¾‹ï¼š åœ¨å¼€å‘è€…å·¥å…·ä¸­é¢„è§ˆæ•ˆæœ 1234567891011// è‡ªå®šä¹‰ç»„ä»¶ my-component å†…éƒ¨Component({ behaviors: ['wx://component-export'], export() { return { myField: 'myValue' } }})&lt;!-- ä½¿ç”¨è‡ªå®šä¹‰ç»„ä»¶æ—¶ --&gt;&lt;my-component id=&quot;the-id&quot; /&gt;// çˆ¶ç»„ä»¶è°ƒç”¨const child = this.selectComponent('#the-id') // ç­‰äº { myField: 'myValue' } åœ¨ä¸Šä¾‹ä¸­ï¼Œçˆ¶ç»„ä»¶è·å– id ä¸º the-id çš„å­ç»„ä»¶å®ä¾‹çš„æ—¶å€™ï¼Œå¾—åˆ°çš„æ˜¯å¯¹è±¡ { myField: 'myValue' } ã€‚ è½¬è½½æ•´ç†æ¥æºï¼šhttps://developers.weixin.qq.com/miniprogram/dev/framework/app-service/route.html","link":"/2021/02/25/Draft/2021/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F/"},{"title":"RabbitMQ","text":"RabbitMQç®€ä»‹ MQå…¨ç§°ä¸ºMessage Queueï¼Œæ¶ˆæ¯é˜Ÿåˆ—æ˜¯åº”ç”¨ç¨‹åºå’Œåº”ç”¨ç¨‹åºä¹‹é—´çš„é€šä¿¡æ–¹æ³•ã€‚ RabbitMQæ˜¯ç”±erlangè¯­è¨€å¼€å‘ï¼ŒåŸºäºAMQPï¼ˆAdvanced Message Queue é«˜çº§æ¶ˆæ¯é˜Ÿåˆ—åè®®ï¼‰åè®®å®ç°çš„æ¶ˆæ¯é˜Ÿåˆ—ï¼Œå®ƒæ˜¯ä¸€ç§åº”ç”¨ç¨‹åºä¹‹é—´çš„é€šä¿¡æ–¹æ³•ï¼Œæ¶ˆæ¯é˜Ÿåˆ—åœ¨åˆ†å¸ƒå¼ç³»ç»Ÿå¼€å‘ä¸­åº”ç”¨éå¸¸å¹¿æ³›ã€‚RabbitMQå®˜æ–¹åœ°å€ï¼šhttp://www.rabbitmq.com/ AMQP ä¸€ä¸ªæä¾›ç»Ÿä¸€æ¶ˆæ¯æœåŠ¡çš„åº”ç”¨å±‚æ ‡å‡†é«˜çº§æ¶ˆæ¯é˜Ÿåˆ—åè®®ï¼Œæ˜¯åº”ç”¨å±‚åè®®çš„ä¸€ä¸ªå¼€æ”¾æ ‡å‡†ï¼Œä¸ºé¢å‘æ¶ˆæ¯çš„ä¸­é—´ä»¶è®¾è®¡ã€‚ AMQPæ˜¯ä¸€ä¸ªäºŒè¿›åˆ¶åè®®ï¼Œæ‹¥æœ‰ä¸€äº›ç°ä»£åŒ–ç‰¹ç‚¹ï¼šå¤šä¿¡é“ã€åå•†å¼ï¼Œå¼‚æ­¥ï¼Œå®‰å…¨ï¼Œæ‰©å¹³å°ï¼Œä¸­ç«‹ï¼Œé«˜æ•ˆã€‚ RabbitMQæ˜¯AMQPåè®®çš„Erlangçš„å®ç°ã€‚ æ¦‚å¿µ è¯´æ˜ è¿æ¥Connection ä¸€ä¸ªç½‘ç»œè¿æ¥ï¼Œæ¯”å¦‚TCP/IPå¥—æ¥å­—è¿æ¥ã€‚ ä¼šè¯Session ç«¯ç‚¹ä¹‹é—´çš„å‘½åå¯¹è¯ã€‚åœ¨ä¸€ä¸ªä¼šè¯ä¸Šä¸‹æ–‡ä¸­ï¼Œä¿è¯â€œæ°å¥½ä¼ é€’ä¸€æ¬¡â€ã€‚ ä¿¡é“Channel å¤šè·¯å¤ç”¨è¿æ¥ä¸­çš„ä¸€æ¡ç‹¬ç«‹çš„åŒå‘æ•°æ®æµé€šé“ã€‚ä¸ºä¼šè¯æä¾›ç‰©ç†ä¼ è¾“ä»‹è´¨ã€‚ å®¢æˆ·ç«¯Client AMQPè¿æ¥æˆ–è€…ä¼šè¯çš„å‘èµ·è€…ã€‚AMQPæ˜¯éå¯¹ç§°çš„ï¼Œå®¢æˆ·ç«¯ç”Ÿäº§å’Œæ¶ˆè´¹æ¶ˆæ¯ï¼ŒæœåŠ¡å™¨å­˜å‚¨å’Œè·¯ç”±è¿™äº›æ¶ˆæ¯ã€‚ æœåŠ¡èŠ‚ç‚¹Broker æ¶ˆæ¯ä¸­é—´ä»¶çš„æœåŠ¡èŠ‚ç‚¹ï¼›ä¸€èˆ¬æƒ…å†µä¸‹å¯ä»¥å°†ä¸€ä¸ªRabbitMQ Brokerçœ‹ä½œä¸€å°RabbitMQ æœåŠ¡å™¨ã€‚ ç«¯ç‚¹ AMQPå¯¹è¯çš„ä»»æ„ä¸€æ–¹ã€‚ä¸€ä¸ªAMQPè¿æ¥åŒ…æ‹¬ä¸¤ä¸ªç«¯ç‚¹ï¼ˆä¸€ä¸ªæ˜¯å®¢æˆ·ç«¯ï¼Œä¸€ä¸ªæ˜¯æœåŠ¡å™¨ï¼‰ã€‚ æ¶ˆè´¹è€…Consumer ä¸€ä¸ªä»æ¶ˆæ¯é˜Ÿåˆ—é‡Œè¯·æ±‚æ¶ˆæ¯çš„å®¢æˆ·ç«¯ç¨‹åºã€‚ ç”Ÿäº§è€…Producer ä¸€ä¸ªå‘äº¤æ¢æœºå‘å¸ƒæ¶ˆæ¯çš„å®¢æˆ·ç«¯åº”ç”¨ç¨‹åºã€‚ 6ç§å·¥ä½œæ¨¡å¼ï¼šç®€å•æ¨¡å¼ï¼Œworkæ¨¡å¼ï¼ŒPublish/Subscribeå‘å¸ƒä¸è®¢é˜…æ¨¡å¼ï¼ŒRoutingè·¯ç”±æ¨¡å¼ï¼ŒTopicsä¸»é¢˜æ¨¡å¼ï¼ŒRPCè¿œç¨‹è°ƒç”¨æ¨¡å¼ï¼ˆè¿œç¨‹è°ƒç”¨ï¼Œä¸å¤ªç®—MQï¼›æš‚ä¸ä½œä»‹ç»ï¼‰ï¼› å®˜ç½‘å¯¹åº”æ¨¡å¼ä»‹ç»ï¼šhttps://www.rabbitmq.com/getstarted.html ä¼˜åŠ¿ï¼š åº”ç”¨è§£è€¦ï¼Œæå‡å®¹é”™æ€§å’Œå¯ç»´æŠ¤æ€§ å¼‚æ­¥æé€Ÿï¼Œæå‡ç”¨æˆ·ä½“éªŒï¼Œç³»ç»Ÿååé‡ å‰Šå³°å¡«è°·ï¼Œæé«˜ç³»ç»Ÿç¨³å®šæ€§ åŠ£åŠ¿ï¼š ç³»ç»Ÿå¯ç”¨æ€§é™ä½ï¼ˆéœ€ä¿è¯MQé«˜å¯ç”¨ï¼‰ ç³»ç»Ÿå¤æ‚åº¦æé«˜ï¼ˆä¸è¢«é‡å¤æ¶ˆè´¹ï¼Œä¿è¯æ¶ˆæ¯é¡ºåºï¼‰ æ•°æ®ä¸€è‡´æ€§é—®é¢˜ ä½¿ç”¨æ¡ä»¶: ç”Ÿäº§è€…ä¸éœ€è¦ä»æ¶ˆè´¹è€…å¤„è·å¾—åé¦ˆ å®¹è®¸çŸ­æš‚çš„ä¸ä¸€è‡´æ€§ ç¡®å®ç”¨äº†æœ‰æ•ˆæœ ï¼Œå¥½å¤„å¤§äºå¤æ‚æ€§ç­‰åŠ£åŠ¿ å¸¸è§MQäº§å“ JMSJMSå³Javaæ¶ˆæ¯æœåŠ¡ï¼ˆJavaMessage Serviceï¼‰åº”ç”¨ç¨‹åºæ¥å£ï¼Œæ˜¯ä¸€ä¸ªJavaå¹³å°ä¸­å…³äºé¢å‘æ¶ˆæ¯ä¸­é—´ä»¶ï¼ˆMOMï¼‰çš„APIï¼Œç”¨äºåœ¨ä¸¤ä¸ªåº”ç”¨ç¨‹åºä¹‹é—´ï¼Œæˆ–åˆ†å¸ƒå¼ç³»ç»Ÿä¸­å‘é€æ¶ˆæ¯ï¼Œè¿›è¡Œå¼‚æ­¥é€šä¿¡ã€‚ AMQP ä¸ JMS åŒºåˆ« JMSæ˜¯å®šä¹‰äº†ç»Ÿä¸€çš„æ¥å£ï¼Œæ¥å¯¹æ¶ˆæ¯æ“ä½œè¿›è¡Œç»Ÿä¸€ï¼›AMQPæ˜¯é€šè¿‡è§„å®šåè®®æ¥ç»Ÿä¸€æ•°æ®äº¤äº’çš„æ ¼å¼ JMSé™å®šäº†å¿…é¡»ä½¿ç”¨Javaè¯­è¨€ï¼›AMQPåªæ˜¯åè®®ï¼Œä¸è§„å®šå®ç°æ–¹å¼ï¼Œå› æ­¤æ˜¯è·¨è¯­è¨€çš„ã€‚ JMSè§„å®šäº†ä¸¤ç§æ¶ˆæ¯æ¨¡å¼ï¼›è€ŒAMQPçš„æ¶ˆæ¯æ¨¡å¼æ›´åŠ ä¸°å¯Œ RabbitMQ å®‰è£…é…ç½®MQç‰ˆæœ¬é€‰æ‹©å’Œerlangç›¸å…³ ä½¿ç”¨èµ„æ–™é‡Œæä¾›çš„CentOS-7-x86_64-DVD-1810.iso å®‰è£…è™šæ‹Ÿæœº. 1. å®‰è£…ä¾èµ–ç¯å¢ƒåœ¨çº¿å®‰è£…ä¾èµ–ç¯å¢ƒï¼š 1yum install build-essential openssl openssl-devel unixODBC unixODBC-devel make gcc gcc-c++ kernel-devel m4 ncurses-devel tk tc xz 2. å®‰è£…Erlangä¸Šä¼  alt+pè¿›å…¥sftpç•Œé¢ erlang-18.3-1.el7.centos.x86_64.rpmsocat-1.7.3.2-5.el7.lux.x86_64.rpmrabbitmq-server-3.6.5-1.noarch.rpm 12# å®‰è£…rpm -ivh erlang-18.3-1.el7.centos.x86_64.rpm å¦‚æœå‡ºç°å¦‚ä¸‹é”™è¯¯ è¯´æ˜gblic ç‰ˆæœ¬å¤ªä½ã€‚æˆ‘ä»¬å¯ä»¥æŸ¥çœ‹å½“å‰æœºå™¨çš„gblic ç‰ˆæœ¬ 1strings /lib64/libc.so.6 | grep GLIBC å½“å‰æœ€é«˜ç‰ˆæœ¬2.12ï¼Œéœ€è¦2.15.æ‰€ä»¥éœ€è¦å‡çº§glibc ä½¿ç”¨yumæ›´æ–°å®‰è£…ä¾èµ– 1sudo yum install zlib-devel bzip2-devel openssl-devel ncurses-devel sqlite-devel readline-devel tk-devel gcc make -y ä¸‹è½½rpmåŒ… 1234567wget http://copr-be.cloud.fedoraproject.org/results/mosquito/myrepo-el6/epel-6-x86_64/glibc-2.17-55.fc20/glibc-utils-2.17-55.el6.x86_64.rpm &amp;wget http://copr-be.cloud.fedoraproject.org/results/mosquito/myrepo-el6/epel-6-x86_64/glibc-2.17-55.fc20/glibc-static-2.17-55.el6.x86_64.rpm &amp;wget http://copr-be.cloud.fedoraproject.org/results/mosquito/myrepo-el6/epel-6-x86_64/glibc-2.17-55.fc20/glibc-2.17-55.el6.x86_64.rpm &amp;wget http://copr-be.cloud.fedoraproject.org/results/mosquito/myrepo-el6/epel-6-x86_64/glibc-2.17-55.fc20/glibc-common-2.17-55.el6.x86_64.rpm &amp;wget http://copr-be.cloud.fedoraproject.org/results/mosquito/myrepo-el6/epel-6-x86_64/glibc-2.17-55.fc20/glibc-devel-2.17-55.el6.x86_64.rpm &amp;wget http://copr-be.cloud.fedoraproject.org/results/mosquito/myrepo-el6/epel-6-x86_64/glibc-2.17-55.fc20/glibc-headers-2.17-55.el6.x86_64.rpm &amp;wget http://copr-be.cloud.fedoraproject.org/results/mosquito/myrepo-el6/epel-6-x86_64/glibc-2.17-55.fc20/nscd-2.17-55.el6.x86_64.rpm &amp; å®‰è£…rpmåŒ… 1sudo rpm -Uvh *-2.17-55.el6.x86_64.rpm --force --nodeps å®‰è£…å®Œæ¯•åå†æŸ¥çœ‹glibcç‰ˆæœ¬,å‘ç°glibcç‰ˆæœ¬å·²ç»åˆ°2.17äº† 1strings /lib64/libc.so.6 | grep GLIBC 3. å®‰è£…RabbitMQ123456# å®‰è£…rpm -ivh socat-1.7.3.2-5.el7.lux.x86_64.rpm# å®‰è£…rpm -ivh rabbitmq-server-3.6.5-1.noarch.rpm 12345678910111213[root@softbank126011009150 rabbitmq]# lserlang-18.3-1.el7.centos.x86_64.rpm rabbitmq-server-3.6.5-1.noarch.rpm socat-1.7.3.2-1.1.el7.x86_64.rpm[root@softbank126011009150 rabbitmq]# rpm -ivh erlang-18.3-1.el7.centos.x86_64.rpm å‡†å¤‡ä¸­... ################################# [100%] è½¯ä»¶åŒ… erlang-18.3-1.el7.centos.x86_64 å·²ç»å®‰è£…[root@softbank126011009150 rabbitmq]# rpm -ivh socat-1.7.3.2-1.1.el7.x86_64.rpm è­¦å‘Šï¼šsocat-1.7.3.2-1.1.el7.x86_64.rpm: å¤´V4 RSA/SHA1 Signature, å¯†é’¥ ID 87e360b8: NOKEYå‡†å¤‡ä¸­... ################################# [100%] è½¯ä»¶åŒ… socat-1.7.3.2-1.1.el7.x86_64 å·²ç»å®‰è£…[root@softbank126011009150 rabbitmq]# rpm -ivh rabbitmq-server-3.6.5-1.noarch.rpm è­¦å‘Šï¼šrabbitmq-server-3.6.5-1.noarch.rpm: å¤´V4 RSA/SHA1 Signature, å¯†é’¥ ID 6026dfca: NOKEYå‡†å¤‡ä¸­... ################################# [100%] è½¯ä»¶åŒ… rabbitmq-server-3.6.5-1.noarch å·²ç»å®‰è£… 4. å¼€å¯ç®¡ç•Œé¢åŠé…ç½®123456# å¼€å¯ç®¡ç†ç•Œé¢rabbitmq-plugins enable rabbitmq_management# ä¿®æ”¹é»˜è®¤é…ç½®ä¿¡æ¯vim /usr/lib/rabbitmq/lib/rabbitmq_server-3.6.5/ebin/rabbit.app # æ¯”å¦‚ä¿®æ”¹å¯†ç ã€é…ç½®ç­‰ç­‰ï¼Œä¾‹å¦‚ï¼šloopback_users ä¸­çš„ &lt;&lt;&quot;guest&quot;&gt;&gt;,åªä¿ç•™guesthttp://ip:15672 è®¿é—® 5. å¯åŠ¨123456service rabbitmq-server start # å¯åŠ¨æœåŠ¡service rabbitmq-server stop # åœæ­¢æœåŠ¡service rabbitmq-server restart # é‡å¯æœåŠ¡service iptables stop#å…³é—­é˜²ç«å¢™systemctl stop firewalld #conos7å…³é—­é˜²ç«å¢™æ–¹æ³• è®¾ç½®é…ç½®æ–‡ä»¶ 1234cd /usr/share/doc/rabbitmq-server-3.6.5/cp rabbitmq.config.example /etc/rabbitmq/rabbitmq.config 6. é…ç½®è™šæ‹Ÿä¸»æœºåŠç”¨æˆ·6.1. ç”¨æˆ·è§’è‰²RabbitMQåœ¨å®‰è£…å¥½åï¼Œå¯ä»¥è®¿é—®http://ipåœ°å€:15672 ï¼›å…¶è‡ªå¸¦äº†guest/guestçš„ç”¨æˆ·åå’Œå¯†ç ï¼›å¦‚æœéœ€è¦åˆ›å»ºè‡ªå®šä¹‰ç”¨æˆ·ï¼›é‚£ä¹ˆä¹Ÿå¯ä»¥ç™»å½•ç®¡ç†ç•Œé¢åï¼Œå¦‚ä¸‹æ“ä½œï¼š è§’è‰²è¯´æ˜ï¼š 1ã€ è¶…çº§ç®¡ç†å‘˜(administrator) å¯ç™»é™†ç®¡ç†æ§åˆ¶å°ï¼Œå¯æŸ¥çœ‹æ‰€æœ‰çš„ä¿¡æ¯ï¼Œå¹¶ä¸”å¯ä»¥å¯¹ç”¨æˆ·ï¼Œç­–ç•¥(policy)è¿›è¡Œæ“ä½œã€‚ 2ã€ ç›‘æ§è€…(monitoring) å¯ç™»é™†ç®¡ç†æ§åˆ¶å°ï¼ŒåŒæ—¶å¯ä»¥æŸ¥çœ‹rabbitmqèŠ‚ç‚¹çš„ç›¸å…³ä¿¡æ¯(è¿›ç¨‹æ•°ï¼Œå†…å­˜ä½¿ç”¨æƒ…å†µï¼Œç£ç›˜ä½¿ç”¨æƒ…å†µç­‰) 3ã€ ç­–ç•¥åˆ¶å®šè€…(policymaker) å¯ç™»é™†ç®¡ç†æ§åˆ¶å°, åŒæ—¶å¯ä»¥å¯¹policyè¿›è¡Œç®¡ç†ã€‚ä½†æ— æ³•æŸ¥çœ‹èŠ‚ç‚¹çš„ç›¸å…³ä¿¡æ¯(ä¸Šå›¾çº¢æ¡†æ ‡è¯†çš„éƒ¨åˆ†)ã€‚ 4ã€ æ™®é€šç®¡ç†è€…(management) ä»…å¯ç™»é™†ç®¡ç†æ§åˆ¶å°ï¼Œæ— æ³•çœ‹åˆ°èŠ‚ç‚¹ä¿¡æ¯ï¼Œä¹Ÿæ— æ³•å¯¹ç­–ç•¥è¿›è¡Œç®¡ç†ã€‚ 5ã€ å…¶ä»– æ— æ³•ç™»é™†ç®¡ç†æ§åˆ¶å°ï¼Œé€šå¸¸å°±æ˜¯æ™®é€šçš„ç”Ÿäº§è€…å’Œæ¶ˆè´¹è€…ã€‚ 6.2. Virtual Hostsé…ç½®åƒmysqlæ‹¥æœ‰æ•°æ®åº“çš„æ¦‚å¿µå¹¶ä¸”å¯ä»¥æŒ‡å®šç”¨æˆ·å¯¹åº“å’Œè¡¨ç­‰æ“ä½œçš„æƒé™ã€‚RabbitMQä¹Ÿæœ‰ç±»ä¼¼çš„æƒé™ç®¡ç†ï¼›åœ¨RabbitMQä¸­å¯ä»¥è™šæ‹Ÿæ¶ˆæ¯æœåŠ¡å™¨Virtual Hostï¼Œæ¯ä¸ªVirtual Hostsç›¸å½“äºä¸€ä¸ªç›¸å¯¹ç‹¬ç«‹çš„RabbitMQæœåŠ¡å™¨ï¼Œæ¯ä¸ªVirtualHostä¹‹é—´æ˜¯ç›¸äº’éš”ç¦»çš„ã€‚exchangeã€queueã€messageä¸èƒ½äº’é€šã€‚ ç›¸å½“äºmysqlçš„dbã€‚Virtual Nameä¸€èˆ¬ä»¥/å¼€å¤´ã€‚ 6.2.1. åˆ›å»ºVirtual Hosts 6.2.2. è®¾ç½®Virtual Hostsæƒé™ è§£å†³é…ç½®æ–‡ä»¶æœªæ‰¾åˆ° 1234567891011121314151617181920212223242526272829[root@softbank126011009150 rabbitmq]# cd /usr/share/doc/rabbitmq-server-3.6.5/[root@softbank126011009150 rabbitmq-server-3.6.5]# lsLICENSE LICENSE-APL2-Stomp-Websocket LICENSE-EPL-OTP LICENSE-MIT-jQuery164 LICENSE-MIT-Sammy060 LICENSE-MPL-RabbitMQ set_rabbitmq_policy.sh.exampleLICENSE-APACHE2-ExplorerCanvas LICENSE-BSD-base64js LICENSE-MIT-EJS10 LICENSE-MIT-Mochi LICENSE-MIT-SockJS rabbitmq.config.exampleLICENSE-APL2-Rebar LICENSE-BSD-glMatrix LICENSE-MIT-Flot LICENSE-MIT-Mochiweb LICENSE-MPL2 README[root@softbank126011009150 rabbitmq-server-3.6.5]# llæ€»ç”¨é‡ 200-rw-r--r--. 1 root root 28945 8æœˆ 5 2016 LICENSE-rw-r--r--. 1 root root 11358 8æœˆ 5 2016 LICENSE-APACHE2-ExplorerCanvas-rw-r--r--. 1 root root 10175 8æœˆ 5 2016 LICENSE-APL2-Rebar-rw-r--r--. 1 root root 10851 8æœˆ 5 2016 LICENSE-APL2-Stomp-Websocket-rw-r--r--. 1 root root 1206 8æœˆ 5 2016 LICENSE-BSD-base64js-rw-r--r--. 1 root root 1304 8æœˆ 5 2016 LICENSE-BSD-glMatrix-rw-r--r--. 1 root root 14041 8æœˆ 5 2016 LICENSE-EPL-OTP-rw-r--r--. 1 root root 1087 8æœˆ 5 2016 LICENSE-MIT-EJS10-rw-r--r--. 1 root root 1069 8æœˆ 5 2016 LICENSE-MIT-Flot-rw-r--r--. 1 root root 1075 8æœˆ 5 2016 LICENSE-MIT-jQuery164-rw-r--r--. 1 root root 1087 3æœˆ 31 2016 LICENSE-MIT-Mochi-rw-r--r--. 1 root root 1087 8æœˆ 5 2016 LICENSE-MIT-Mochiweb-rw-r--r--. 1 root root 1076 8æœˆ 5 2016 LICENSE-MIT-Sammy060-rw-r--r--. 1 root root 1056 8æœˆ 5 2016 LICENSE-MIT-SockJS-rw-r--r--. 1 root root 16726 8æœˆ 5 2016 LICENSE-MPL2-rw-r--r--. 1 root root 24897 8æœˆ 5 2016 LICENSE-MPL-RabbitMQ-rw-r--r--. 1 root root 21023 4æœˆ 11 2016 rabbitmq.config.example-rw-r--r--. 1 root root 943 3æœˆ 31 2016 README-rw-r--r--. 1 root root 277 3æœˆ 31 2016 set_rabbitmq_policy.sh.example[root@softbank126011009150 rabbitmq-server-3.6.5]# cp ./rabbitmq.config.example /etc/rabbitmq/rabbitmq.config[root@softbank126011009150 rabbitmq-server-3.6.5]# service rabbitmq-server restartRestarting rabbitmq-server (via systemctl): [ ç¡®å®š ] å·¥ä½œæ¨¡å¼ç®€å•æ¨¡å¼ ç”Ÿäº§è€…1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162package com.lxl.producer;import com.rabbitmq.client.Channel;import com.rabbitmq.client.Connection;import com.rabbitmq.client.ConnectionFactory;import java.io.IOException;import java.util.concurrent.TimeoutException;public class Producer_HelloWord { public static void main(String[] args) throws IOException, TimeoutException { //1.åˆ›å»ºè¿æ¥å·¥å‚ ConnectionFactory factory = new ConnectionFactory(); //2. è®¾ç½®å‚æ•° factory.setHost(&quot;126.11.41.128&quot;);//ip é»˜è®¤å€¼ localhost factory.setPort(5672); //ç«¯å£ é»˜è®¤å€¼ 5672 factory.setVirtualHost(&quot;/lxlv&quot;);//è™šæ‹Ÿæœº é»˜è®¤å€¼/ factory.setUsername(&quot;lxl&quot;);//ç”¨æˆ·å é»˜è®¤ guest factory.setPassword(&quot;lxl&quot;);//å¯†ç  é»˜è®¤å€¼ guest //3. åˆ›å»ºè¿æ¥ Connection Connection connection = factory.newConnection(); //4. åˆ›å»ºChannel Channel channel = connection.createChannel(); //5. åˆ›å»ºé˜Ÿåˆ—Queue /* queueDeclare(String queue, boolean durable, boolean exclusive, boolean autoDelete, Map&lt;String, Object&gt; arguments) å‚æ•°ï¼š 1. queueï¼šé˜Ÿåˆ—åç§° 2. durable:æ˜¯å¦æŒä¹…åŒ–ï¼Œå½“mqé‡å¯ä¹‹åï¼Œè¿˜åœ¨ 3. exclusiveï¼š * æ˜¯å¦ç‹¬å ã€‚åªèƒ½æœ‰ä¸€ä¸ªæ¶ˆè´¹è€…ç›‘å¬è¿™é˜Ÿåˆ— * å½“Connectionå…³é—­æ—¶ï¼Œæ˜¯å¦åˆ é™¤é˜Ÿåˆ— * 4. autoDelete:æ˜¯å¦è‡ªåŠ¨åˆ é™¤ã€‚å½“æ²¡æœ‰Consumeræ—¶ï¼Œè‡ªåŠ¨åˆ é™¤æ‰ 5. argumentsï¼šå‚æ•°ã€‚ */ //å¦‚æœæ²¡æœ‰ä¸€ä¸ªåå­—å«hello_worldçš„é˜Ÿåˆ—ï¼Œåˆ™ä¼šåˆ›å»ºè¯¥é˜Ÿåˆ—ï¼Œå¦‚æœæœ‰åˆ™ä¸ä¼šåˆ›å»º channel.queueDeclare(&quot;hello_world&quot;,true,false,false,null); /* basicPublish(String exchange, String routingKey, BasicProperties props, byte[] body) å‚æ•°ï¼š 1. exchangeï¼šäº¤æ¢æœºåç§°ã€‚ç®€å•æ¨¡å¼ä¸‹äº¤æ¢æœºä¼šä½¿ç”¨é»˜è®¤çš„ &quot;&quot; 2. routingKeyï¼šè·¯ç”±åç§° 3. propsï¼šé…ç½®ä¿¡æ¯ 4. bodyï¼šå‘é€æ¶ˆæ¯æ•°æ® */ String body = &quot;hello rabbitmq~~~&quot;; //6. å‘é€æ¶ˆæ¯ channel.basicPublish(&quot;&quot;,&quot;hello_world&quot;,null,body.getBytes()); //7.é‡Šæ”¾èµ„æº// channel.close();// connection.close(); }} æ¶ˆè´¹è€…123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475package com.lxl.consumer;import com.rabbitmq.client.*;import java.io.IOException;import java.util.concurrent.TimeoutException;public class Consumer_HelloWorld { public static void main(String[] args) throws IOException, TimeoutException { //1.åˆ›å»ºè¿æ¥å·¥å‚ ConnectionFactory factory = new ConnectionFactory(); //2. è®¾ç½®å‚æ•° factory.setHost(&quot;126.11.41.128&quot;);//ip é»˜è®¤å€¼ localhost factory.setPort(5672); //ç«¯å£ é»˜è®¤å€¼ 5672 factory.setVirtualHost(&quot;/lxlv&quot;);//è™šæ‹Ÿæœº é»˜è®¤å€¼/ factory.setUsername(&quot;lxl&quot;);//ç”¨æˆ·å é»˜è®¤ guest factory.setPassword(&quot;lxl&quot;);//å¯†ç  é»˜è®¤å€¼ guest //3. åˆ›å»ºè¿æ¥ Connection Connection connection = factory.newConnection(); //4. åˆ›å»ºChannel Channel channel = connection.createChannel(); //5. åˆ›å»ºé˜Ÿåˆ—Queue /* queueDeclare(String queue, boolean durable, boolean exclusive, boolean autoDelete, Map&lt;String, Object&gt; arguments) å‚æ•°ï¼š 1. queueï¼šé˜Ÿåˆ—åç§° 2. durable:æ˜¯å¦æŒä¹…åŒ–ï¼Œå½“mqé‡å¯ä¹‹åï¼Œè¿˜åœ¨ 3. exclusiveï¼š * æ˜¯å¦ç‹¬å ã€‚åªèƒ½æœ‰ä¸€ä¸ªæ¶ˆè´¹è€…ç›‘å¬è¿™é˜Ÿåˆ— * å½“Connectionå…³é—­æ—¶ï¼Œæ˜¯å¦åˆ é™¤é˜Ÿåˆ— * 4. autoDelete:æ˜¯å¦è‡ªåŠ¨åˆ é™¤ã€‚å½“æ²¡æœ‰Consumeræ—¶ï¼Œè‡ªåŠ¨åˆ é™¤æ‰ 5. argumentsï¼šå‚æ•°ã€‚ */ //å¦‚æœæ²¡æœ‰ä¸€ä¸ªåå­—å«hello_worldçš„é˜Ÿåˆ—ï¼Œåˆ™ä¼šåˆ›å»ºè¯¥é˜Ÿåˆ—ï¼Œå¦‚æœæœ‰åˆ™ä¸ä¼šåˆ›å»º channel.queueDeclare(&quot;hello_world&quot;,true,false,false,null); /* basicConsume(String queue, boolean autoAck, Consumer callback) å‚æ•°ï¼š 1. queueï¼šé˜Ÿåˆ—åç§° 2. autoAckï¼šæ˜¯å¦è‡ªåŠ¨ç¡®è®¤ 3. callbackï¼šå›è°ƒå¯¹è±¡ */ // æ¥æ”¶æ¶ˆæ¯ Consumer consumer = new DefaultConsumer(channel){ /* å›è°ƒæ–¹æ³•ï¼Œå½“æ”¶åˆ°æ¶ˆæ¯åï¼Œä¼šè‡ªåŠ¨æ‰§è¡Œè¯¥æ–¹æ³• 1. consumerTagï¼šæ ‡è¯† 2. envelopeï¼šè·å–ä¸€äº›ä¿¡æ¯ï¼Œäº¤æ¢æœºï¼Œè·¯ç”±key... 3. properties:é…ç½®ä¿¡æ¯ 4. bodyï¼šæ•°æ® */ @Override public void handleDelivery(String consumerTag, Envelope envelope, AMQP.BasicProperties properties, byte[] body) throws IOException { System.out.println(&quot;consumerTagï¼š&quot;+consumerTag); System.out.println(&quot;Exchangeï¼š&quot;+envelope.getExchange()); System.out.println(&quot;RoutingKeyï¼š&quot;+envelope.getRoutingKey()); System.out.println(&quot;propertiesï¼š&quot;+properties); System.out.println(&quot;bodyï¼š&quot;+new String(body)); } }; channel.basicConsume(&quot;hello_world&quot;,true,consumer); //å…³é—­èµ„æºï¼Ÿä¸è¦ }} RabbitMQè¿è½¬æµç¨‹åœ¨å…¥é—¨æ¡ˆä¾‹ä¸­ï¼š ç”Ÿäº§è€…å‘é€æ¶ˆæ¯ ç”Ÿäº§è€…åˆ›å»ºè¿æ¥ï¼ˆConnectionï¼‰ï¼Œå¼€å¯ä¸€ä¸ªä¿¡é“ï¼ˆChannelï¼‰ï¼Œè¿æ¥åˆ°RabbitMQ Brokerï¼› å£°æ˜é˜Ÿåˆ—å¹¶è®¾ç½®å±æ€§ï¼›æ˜¯å¦æ’å®ƒï¼Œæ˜¯å¦æŒä¹…åŒ–ï¼Œæ˜¯å¦è‡ªåŠ¨åˆ é™¤ï¼› å°†è·¯ç”±é”®ï¼ˆç©ºå­—ç¬¦ä¸²ï¼‰ä¸é˜Ÿåˆ—ç»‘å®šèµ·æ¥ï¼› å‘é€æ¶ˆæ¯è‡³RabbitMQ Brokerï¼› å…³é—­ä¿¡é“ï¼› å…³é—­è¿æ¥ï¼› æ¶ˆè´¹è€…æ¥æ”¶æ¶ˆæ¯ æ¶ˆè´¹è€…åˆ›å»ºè¿æ¥ï¼ˆConnectionï¼‰ï¼Œå¼€å¯ä¸€ä¸ªä¿¡é“ï¼ˆChannelï¼‰ï¼Œè¿æ¥åˆ°RabbitMQ Broker å‘Broker è¯·æ±‚æ¶ˆè´¹ç›¸åº”é˜Ÿåˆ—ä¸­çš„æ¶ˆæ¯ï¼Œè®¾ç½®ç›¸åº”çš„å›è°ƒå‡½æ•°ï¼› ç­‰å¾…Brokerå›åº”é—­å…³æŠ•é€’å“åº”é˜Ÿåˆ—ä¸­çš„æ¶ˆæ¯ï¼Œæ¶ˆè´¹è€…æ¥æ”¶æ¶ˆæ¯ï¼› ç¡®è®¤ï¼ˆackï¼Œè‡ªåŠ¨ç¡®è®¤ï¼‰æ¥æ”¶åˆ°çš„æ¶ˆæ¯ï¼› RabbitMQä»é˜Ÿåˆ—ä¸­åˆ é™¤ç›¸åº”å·²ç»è¢«ç¡®è®¤çš„æ¶ˆæ¯ï¼› å…³é—­ä¿¡é“ï¼› å…³é—­è¿æ¥ï¼› ç”Ÿäº§è€…æµè½¬è¿‡ç¨‹è¯´æ˜ å®¢æˆ·ç«¯ä¸ä»£ç†æœåŠ¡å™¨Brokerå»ºç«‹è¿æ¥ã€‚ä¼šè°ƒç”¨newConnection() æ–¹æ³•,è¿™ä¸ªæ–¹æ³•ä¼šè¿›ä¸€æ­¥å°è£…Protocol Header 0-9-1 çš„æŠ¥æ–‡å¤´å‘é€ç»™Broker ï¼Œä»¥æ­¤é€šçŸ¥Broker æœ¬æ¬¡äº¤äº’é‡‡ç”¨çš„æ˜¯AMQPO-9-1 åè®®ï¼Œç´§æ¥ç€Broker è¿”å›Connection.Start æ¥å»ºç«‹è¿æ¥ï¼Œåœ¨è¿æ¥çš„è¿‡ç¨‹ä¸­æ¶‰åŠConnection.Start/.Start-OK ã€Connection.Tune/.Tune-Ok ï¼ŒConnection.Open/ .Open-Ok è¿™6 ä¸ªå‘½ä»¤çš„äº¤äº’ã€‚ å®¢æˆ·ç«¯è°ƒç”¨connection.createChannelæ–¹æ³•ã€‚æ­¤æ–¹æ³•å¼€å¯ä¿¡é“ï¼Œå…¶åŒ…è£…çš„channel.openå‘½ä»¤å‘é€ç»™Broker,ç­‰å¾…channel.basicPublishæ–¹æ³•ï¼Œå¯¹åº”çš„AMQPå‘½ä»¤ä¸ºBasic.Publish,è¿™ä¸ªå‘½ä»¤åŒ…å«äº†content Header å’Œcontent Body()ã€‚content Header åŒ…å«äº†æ¶ˆæ¯ä½“çš„å±æ€§ï¼Œä¾‹å¦‚:æŠ•é€’æ¨¡å¼ï¼Œä¼˜å…ˆçº§ç­‰ï¼Œcontent Body åŒ…å«äº†æ¶ˆæ¯ä½“æœ¬èº«ã€‚ å®¢æˆ·ç«¯å‘é€å®Œæ¶ˆæ¯éœ€è¦å…³é—­èµ„æºæ—¶ï¼Œæ¶‰åŠåˆ°Channel.Closeå’ŒChannl.Close-Ok ä¸Connetion.Closeå’ŒConnection.Close-Okçš„å‘½ä»¤äº¤äº’ã€‚ æ¶ˆè´¹è€…æµè½¬è¿‡ç¨‹è¯´æ˜ æ¶ˆè´¹è€…å®¢æˆ·ç«¯ä¸ä»£ç†æœåŠ¡å™¨Brokerå»ºç«‹è¿æ¥ã€‚ä¼šè°ƒç”¨newConnection() æ–¹æ³•,è¿™ä¸ªæ–¹æ³•ä¼šè¿›ä¸€æ­¥å°è£…Protocol Header 0-9-1 çš„æŠ¥æ–‡å¤´å‘é€ç»™Broker ï¼Œä»¥æ­¤é€šçŸ¥Broker æœ¬æ¬¡äº¤äº’é‡‡ç”¨çš„æ˜¯AMQPO-9-1 åè®®ï¼Œç´§æ¥ç€Broker è¿”å›Connection.Start æ¥å»ºç«‹è¿æ¥ï¼Œåœ¨è¿æ¥çš„è¿‡ç¨‹ä¸­æ¶‰åŠConnection.Start/.Start-OK ã€Connection.Tune/.Tune-Ok ï¼ŒConnection.Open/ .Open-Ok è¿™6 ä¸ªå‘½ä»¤çš„äº¤äº’ã€‚ æ¶ˆè´¹è€…å®¢æˆ·ç«¯è°ƒç”¨connection.createChannelæ–¹æ³•ã€‚å’Œç”Ÿäº§è€…å®¢æˆ·ç«¯ä¸€æ ·ï¼Œåè®®æ¶‰åŠChannel . Open/Open-Okå‘½ä»¤ã€‚ åœ¨çœŸæ­£æ¶ˆè´¹ä¹‹å‰ï¼Œæ¶ˆè´¹è€…å®¢æˆ·ç«¯éœ€è¦å‘Broker å‘é€Basic.Consume å‘½ä»¤(å³è°ƒç”¨channel.basicConsume æ–¹æ³•ã€‰å°†Channel ç½®ä¸ºæ¥æ”¶æ¨¡å¼ï¼Œä¹‹åBroker å›æ‰§Basic . Consume - Ok ä»¥å‘Šè¯‰æ¶ˆè´¹è€…å®¢æˆ·ç«¯å‡†å¤‡å¥½æ¶ˆè´¹æ¶ˆæ¯ã€‚ Broker å‘æ¶ˆè´¹è€…å®¢æˆ·ç«¯æ¨é€(Push) æ¶ˆæ¯ï¼Œå³Basic.Deliver å‘½ä»¤ï¼Œè¿™ä¸ªå‘½ä»¤å’ŒBasic.Publish å‘½ä»¤ä¸€æ ·ä¼šæºå¸¦Content Header å’ŒContent Bodyã€‚ æ¶ˆè´¹è€…æ¥æ”¶åˆ°æ¶ˆæ¯å¹¶æ­£ç¡®æ¶ˆè´¹ä¹‹åï¼Œå‘Broker å‘é€ç¡®è®¤ï¼Œå³Basic.Ack å‘½ä»¤ã€‚ å®¢æˆ·ç«¯å‘é€å®Œæ¶ˆæ¯éœ€è¦å…³é—­èµ„æºæ—¶ï¼Œæ¶‰åŠåˆ°Channel.Closeå’ŒChannl.Close-Ok ä¸Connetion.Closeå’ŒConnection.Close-Okçš„å‘½ä»¤äº¤äº’ã€‚ å·¥ä½œé˜Ÿåˆ—æ¨¡å¼æ¨¡å¼è¯´æ˜ï¼ˆåªæœ‰ä¸€ç›’ç³–ä½ ä»¬å‡ ä¸ªæŠ¢ï¼‰ Work Queuesä¸å…¥é—¨ç¨‹åºçš„ç®€å•æ¨¡å¼ç›¸æ¯”ï¼Œå¤šäº†ä¸€ä¸ªæˆ–ä¸€äº›æ¶ˆè´¹ç«¯ï¼Œå¤šä¸ªæ¶ˆè´¹ç«¯å…±åŒæ¶ˆè´¹åŒä¸€ä¸ªé˜Ÿåˆ—ä¸­çš„æ¶ˆæ¯ã€‚ åº”ç”¨åœºæ™¯ï¼šå¯¹äº ä»»åŠ¡è¿‡é‡æˆ–ä»»åŠ¡è¾ƒå¤šæƒ…å†µä½¿ç”¨å·¥ä½œé˜Ÿåˆ—å¯ä»¥æé«˜ä»»åŠ¡å¤„ç†çš„é€Ÿåº¦ã€‚ ä»£ç  Work Queuesä¸å…¥é—¨ç¨‹åºçš„ç®€å•æ¨¡å¼çš„ä»£ç æ˜¯å‡ ä¹ä¸€æ ·çš„ï¼›å¯ä»¥å®Œå…¨å¤åˆ¶ï¼Œå¹¶å¤åˆ¶å¤šä¸€ä¸ªæ¶ˆè´¹è€…è¿›è¡Œå¤šä¸ªæ¶ˆè´¹è€…åŒæ—¶æ¶ˆè´¹æ¶ˆæ¯çš„æµ‹è¯•ã€‚ ç”Ÿäº§è€…123456789101112131415161718192021222324252627282930313233343536373839404142434445464748package com.itheima.rabbitmq.work;import com.itheima.rabbitmq.util.ConnectionUtil;import com.rabbitmq.client.Channel;import com.rabbitmq.client.Connection;import com.rabbitmq.client.ConnectionFactory;public class Producer { static final String QUEUE_NAME = &quot;work_queue&quot;; public static void main(String[] args) throws Exception { //åˆ›å»ºè¿æ¥ Connection connection = ConnectionUtil.getConnection(); // åˆ›å»ºé¢‘é“ Channel channel = connection.createChannel(); // å£°æ˜ï¼ˆåˆ›å»ºï¼‰é˜Ÿåˆ— /** * å‚æ•°1ï¼šé˜Ÿåˆ—åç§° * å‚æ•°2ï¼šæ˜¯å¦å®šä¹‰æŒä¹…åŒ–é˜Ÿåˆ— * å‚æ•°3ï¼šæ˜¯å¦ç‹¬å æœ¬æ¬¡è¿æ¥ * å‚æ•°4ï¼šæ˜¯å¦åœ¨ä¸ä½¿ç”¨çš„æ—¶å€™è‡ªåŠ¨åˆ é™¤é˜Ÿåˆ— * å‚æ•°5ï¼šé˜Ÿåˆ—å…¶å®ƒå‚æ•° */ channel.queueDeclare(QUEUE_NAME, true, false, false, null); for (int i = 1; i &lt;= 30; i++) { // å‘é€ä¿¡æ¯ String message = &quot;ä½ å¥½ï¼›å°å…”å­ï¼workæ¨¡å¼--&quot; + i; /** * å‚æ•°1ï¼šäº¤æ¢æœºåç§°ï¼Œå¦‚æœæ²¡æœ‰æŒ‡å®šåˆ™ä½¿ç”¨é»˜è®¤Default Exchage * å‚æ•°2ï¼šè·¯ç”±key,ç®€å•æ¨¡å¼å¯ä»¥ä¼ é€’é˜Ÿåˆ—åç§° * å‚æ•°3ï¼šæ¶ˆæ¯å…¶å®ƒå±æ€§ * å‚æ•°4ï¼šæ¶ˆæ¯å†…å®¹ */ channel.basicPublish(&quot;&quot;, QUEUE_NAME, null, message.getBytes()); System.out.println(&quot;å·²å‘é€æ¶ˆæ¯ï¼š&quot; + message); } // å…³é—­èµ„æº channel.close(); connection.close(); }} æ¶ˆè´¹è€…11234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465package com.itheima.rabbitmq.work;import com.itheima.rabbitmq.util.ConnectionUtil;import com.rabbitmq.client.*;import java.io.IOException;public class Consumer1 { public static void main(String[] args) throws Exception { Connection connection = ConnectionUtil.getConnection(); // åˆ›å»ºé¢‘é“ Channel channel = connection.createChannel(); // å£°æ˜ï¼ˆåˆ›å»ºï¼‰é˜Ÿåˆ— /** * å‚æ•°1ï¼šé˜Ÿåˆ—åç§° * å‚æ•°2ï¼šæ˜¯å¦å®šä¹‰æŒä¹…åŒ–é˜Ÿåˆ— * å‚æ•°3ï¼šæ˜¯å¦ç‹¬å æœ¬æ¬¡è¿æ¥ * å‚æ•°4ï¼šæ˜¯å¦åœ¨ä¸ä½¿ç”¨çš„æ—¶å€™è‡ªåŠ¨åˆ é™¤é˜Ÿåˆ— * å‚æ•°5ï¼šé˜Ÿåˆ—å…¶å®ƒå‚æ•° */ channel.queueDeclare(Producer.QUEUE_NAME, true, false, false, null); //ä¸€æ¬¡åªèƒ½æ¥æ”¶å¹¶å¤„ç†ä¸€ä¸ªæ¶ˆæ¯ channel.basicQos(1); //åˆ›å»ºæ¶ˆè´¹è€…ï¼›å¹¶è®¾ç½®æ¶ˆæ¯å¤„ç† DefaultConsumer consumer = new DefaultConsumer(channel){ @Override /** * consumerTag æ¶ˆæ¯è€…æ ‡ç­¾ï¼Œåœ¨channel.basicConsumeæ—¶å€™å¯ä»¥æŒ‡å®š * envelope æ¶ˆæ¯åŒ…çš„å†…å®¹ï¼Œå¯ä»ä¸­è·å–æ¶ˆæ¯idï¼Œæ¶ˆæ¯routingkeyï¼Œäº¤æ¢æœºï¼Œæ¶ˆæ¯å’Œé‡ä¼ æ ‡å¿—(æ”¶åˆ°æ¶ˆæ¯å¤±è´¥åæ˜¯å¦éœ€è¦é‡æ–°å‘é€) * properties å±æ€§ä¿¡æ¯ * body æ¶ˆæ¯ */ public void handleDelivery(String consumerTag, Envelope envelope, AMQP.BasicProperties properties, byte[] body) throws IOException { try { //è·¯ç”±key System.out.println(&quot;è·¯ç”±keyä¸ºï¼š&quot; + envelope.getRoutingKey()); //äº¤æ¢æœº System.out.println(&quot;äº¤æ¢æœºä¸ºï¼š&quot; + envelope.getExchange()); //æ¶ˆæ¯id System.out.println(&quot;æ¶ˆæ¯idä¸ºï¼š&quot; + envelope.getDeliveryTag()); //æ”¶åˆ°çš„æ¶ˆæ¯ System.out.println(&quot;æ¶ˆè´¹è€…1-æ¥æ”¶åˆ°çš„æ¶ˆæ¯ä¸ºï¼š&quot; + new String(body, &quot;utf-8&quot;)); Thread.sleep(1000); //ç¡®è®¤æ¶ˆæ¯ channel.basicAck(envelope.getDeliveryTag(), false); } catch (InterruptedException e) { e.printStackTrace(); } } }; //ç›‘å¬æ¶ˆæ¯ /** * å‚æ•°1ï¼šé˜Ÿåˆ—åç§° * å‚æ•°2ï¼šæ˜¯å¦è‡ªåŠ¨ç¡®è®¤ï¼Œè®¾ç½®ä¸ºtrueä¸ºè¡¨ç¤ºæ¶ˆæ¯æ¥æ”¶åˆ°è‡ªåŠ¨å‘mqå›å¤æ¥æ”¶åˆ°äº†ï¼Œmqæ¥æ”¶åˆ°å›å¤ä¼šåˆ é™¤æ¶ˆæ¯ï¼Œè®¾ç½®ä¸ºfalseåˆ™éœ€è¦æ‰‹åŠ¨ç¡®è®¤ * å‚æ•°3ï¼šæ¶ˆæ¯æ¥æ”¶åˆ°åå›è°ƒ */ channel.basicConsume(Producer.QUEUE_NAME, false, consumer); }} æ¶ˆè´¹è€…2123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566package com.itheima.rabbitmq.work;import com.itheima.rabbitmq.util.ConnectionUtil;import com.rabbitmq.client.*;import java.io.IOException;public class Consumer2 { public static void main(String[] args) throws Exception { Connection connection = ConnectionUtil.getConnection(); // åˆ›å»ºé¢‘é“ Channel channel = connection.createChannel(); // å£°æ˜ï¼ˆåˆ›å»ºï¼‰é˜Ÿåˆ— /** * å‚æ•°1ï¼šé˜Ÿåˆ—åç§° * å‚æ•°2ï¼šæ˜¯å¦å®šä¹‰æŒä¹…åŒ–é˜Ÿåˆ— * å‚æ•°3ï¼šæ˜¯å¦ç‹¬å æœ¬æ¬¡è¿æ¥ * å‚æ•°4ï¼šæ˜¯å¦åœ¨ä¸ä½¿ç”¨çš„æ—¶å€™è‡ªåŠ¨åˆ é™¤é˜Ÿåˆ— * å‚æ•°5ï¼šé˜Ÿåˆ—å…¶å®ƒå‚æ•° */ channel.queueDeclare(Producer.QUEUE_NAME, true, false, false, null); //ä¸€æ¬¡åªèƒ½æ¥æ”¶å¹¶å¤„ç†ä¸€ä¸ªæ¶ˆæ¯ channel.basicQos(1); //åˆ›å»ºæ¶ˆè´¹è€…ï¼›å¹¶è®¾ç½®æ¶ˆæ¯å¤„ç† DefaultConsumer consumer = new DefaultConsumer(channel){ @Override /** * consumerTag æ¶ˆæ¯è€…æ ‡ç­¾ï¼Œåœ¨channel.basicConsumeæ—¶å€™å¯ä»¥æŒ‡å®š * envelope æ¶ˆæ¯åŒ…çš„å†…å®¹ï¼Œå¯ä»ä¸­è·å–æ¶ˆæ¯idï¼Œæ¶ˆæ¯routingkeyï¼Œäº¤æ¢æœºï¼Œæ¶ˆæ¯å’Œé‡ä¼ æ ‡å¿—(æ”¶åˆ°æ¶ˆæ¯å¤±è´¥åæ˜¯å¦éœ€è¦é‡æ–°å‘é€) * properties å±æ€§ä¿¡æ¯ * body æ¶ˆæ¯ */ public void handleDelivery(String consumerTag, Envelope envelope, AMQP.BasicProperties properties, byte[] body) throws IOException { try { //è·¯ç”±key System.out.println(&quot;è·¯ç”±keyä¸ºï¼š&quot; + envelope.getRoutingKey()); //äº¤æ¢æœº System.out.println(&quot;äº¤æ¢æœºä¸ºï¼š&quot; + envelope.getExchange()); //æ¶ˆæ¯id System.out.println(&quot;æ¶ˆæ¯idä¸ºï¼š&quot; + envelope.getDeliveryTag()); //æ”¶åˆ°çš„æ¶ˆæ¯ System.out.println(&quot;æ¶ˆè´¹è€…2-æ¥æ”¶åˆ°çš„æ¶ˆæ¯ä¸ºï¼š&quot; + new String(body, &quot;utf-8&quot;)); Thread.sleep(1000); //ç¡®è®¤æ¶ˆæ¯ channel.basicAck(envelope.getDeliveryTag(), false); } catch (InterruptedException e) { e.printStackTrace(); } } }; //ç›‘å¬æ¶ˆæ¯ /** * å‚æ•°1ï¼šé˜Ÿåˆ—åç§° * å‚æ•°2ï¼šæ˜¯å¦è‡ªåŠ¨ç¡®è®¤ï¼Œè®¾ç½®ä¸ºtrueä¸ºè¡¨ç¤ºæ¶ˆæ¯æ¥æ”¶åˆ°è‡ªåŠ¨å‘mqå›å¤æ¥æ”¶åˆ°äº†ï¼Œmqæ¥æ”¶åˆ°å›å¤ä¼šåˆ é™¤æ¶ˆæ¯ï¼Œè®¾ç½®ä¸ºfalseåˆ™éœ€è¦æ‰‹åŠ¨ç¡®è®¤ * å‚æ•°3ï¼šæ¶ˆæ¯æ¥æ”¶åˆ°åå›è°ƒ */ channel.basicConsume(Producer.QUEUE_NAME, false, consumer); }} æµ‹è¯• å¯åŠ¨ä¸¤ä¸ªæ¶ˆè´¹è€…ï¼Œç„¶åå†å¯åŠ¨ç”Ÿäº§è€…å‘é€æ¶ˆæ¯ï¼›åˆ°IDEAçš„ä¸¤ä¸ªæ¶ˆè´¹è€…å¯¹åº”çš„æ§åˆ¶å°æŸ¥çœ‹æ˜¯å¦ç«äº‰æ€§çš„æ¥æ”¶åˆ°æ¶ˆæ¯ã€‚ å°ç»“ åœ¨ä¸€ä¸ªé˜Ÿåˆ—ä¸­å¦‚æœæœ‰å¤šä¸ªæ¶ˆè´¹è€…ï¼Œé‚£ä¹ˆæ¶ˆè´¹è€…ä¹‹é—´å¯¹äºåŒä¸€ä¸ªæ¶ˆæ¯çš„å…³ç³»æ˜¯ç«äº‰çš„å…³ç³»ã€‚ Publish/Subscribeå‘å¸ƒä¸è®¢é˜…æ¨¡å¼æ¨¡å¼è¯´æ˜ï¼ˆç»™å–œæ¬¢çš„äººä¸€æ ·çš„ç³–ï¼‰ã€FANOUTã€‘ åœ¨è®¢é˜…æ¨¡å‹ä¸­ï¼Œå¤šäº†ä¸€ä¸ª Exchange è§’è‰²ï¼Œè€Œä¸”è¿‡ç¨‹ç•¥æœ‰å˜åŒ–ï¼š Pï¼šç”Ÿäº§è€…ï¼Œä¹Ÿå°±æ˜¯è¦å‘é€æ¶ˆæ¯çš„ç¨‹åºï¼Œä½†æ˜¯ä¸å†å‘é€åˆ°é˜Ÿåˆ—ä¸­ï¼Œè€Œæ˜¯å‘ç»™Xï¼ˆäº¤æ¢æœºï¼‰ 123456789//1.åˆ›å»ºè¿æ¥å·¥å‚//2. è®¾ç½®å‚æ•°//3. åˆ›å»ºè¿æ¥ Connection//4. åˆ›å»ºChannel//5. åˆ›å»ºäº¤æ¢æœº//6. åˆ›å»ºé˜Ÿåˆ—//7. ç»‘å®šé˜Ÿåˆ—å’Œäº¤æ¢æœº//8. å‘é€æ¶ˆæ¯//9. é‡Šæ”¾èµ„æº Cï¼šæ¶ˆè´¹è€…ï¼Œæ¶ˆæ¯çš„æ¥æ”¶è€…ï¼Œä¼šä¸€ç›´ç­‰å¾…æ¶ˆæ¯åˆ°æ¥ Queueï¼šæ¶ˆæ¯é˜Ÿåˆ—ï¼Œæ¥æ”¶æ¶ˆæ¯ã€ç¼“å­˜æ¶ˆæ¯ Exchangeï¼šäº¤æ¢æœºï¼ˆXï¼‰ã€‚ä¸€æ–¹é¢ï¼Œæ¥æ”¶ç”Ÿäº§è€…å‘é€çš„æ¶ˆæ¯ã€‚å¦ä¸€æ–¹é¢ï¼ŒçŸ¥é“å¦‚ä½•å¤„ç†æ¶ˆæ¯ï¼Œä¾‹å¦‚é€’äº¤ç»™æŸä¸ªç‰¹åˆ«é˜Ÿåˆ—ã€é€’äº¤ç»™æ‰€æœ‰é˜Ÿåˆ—ã€æˆ–æ˜¯å°†æ¶ˆæ¯ä¸¢å¼ƒã€‚åˆ°åº•å¦‚ä½•æ“ä½œï¼Œå–å†³äºExchangeçš„ç±»å‹ã€‚Exchangeæœ‰å¸¸è§ä»¥ä¸‹3ç§ç±»å‹ï¼š Fanoutï¼šå¹¿æ’­ï¼Œå°†æ¶ˆæ¯äº¤ç»™æ‰€æœ‰ç»‘å®šåˆ°äº¤æ¢æœºçš„é˜Ÿåˆ— Directï¼šå®šå‘ï¼ŒæŠŠæ¶ˆæ¯äº¤ç»™ç¬¦åˆæŒ‡å®šrouting key çš„é˜Ÿåˆ— Topicï¼šé€šé…ç¬¦ï¼ŒæŠŠæ¶ˆæ¯äº¤ç»™ç¬¦åˆrouting patternï¼ˆè·¯ç”±æ¨¡å¼ï¼‰ çš„é˜Ÿåˆ— Exchangeï¼ˆäº¤æ¢æœºï¼‰åªè´Ÿè´£è½¬å‘æ¶ˆæ¯ï¼Œä¸å…·å¤‡å­˜å‚¨æ¶ˆæ¯çš„èƒ½åŠ›ï¼Œå› æ­¤å¦‚æœæ²¡æœ‰ä»»ä½•é˜Ÿåˆ—ä¸ Exchange ç»‘å®šï¼Œæˆ–è€…æ²¡æœ‰ç¬¦åˆè·¯ç”±è§„åˆ™çš„é˜Ÿåˆ—ï¼Œé‚£ä¹ˆæ¶ˆæ¯ä¼šä¸¢å¤±ï¼ Routingè·¯ç”±å·¥ä½œæ¨¡å¼æ¨¡å¼è¯´æ˜ï¼šç»™æ›´çˆ±çš„äººæ›´ç”œçš„ç³–ã€DIRECTã€‘ é˜Ÿåˆ—ä¸äº¤æ¢æœºçš„ç»‘å®šï¼Œä¸èƒ½æ˜¯ä»»æ„ç»‘å®šäº†ï¼Œè€Œæ˜¯è¦æŒ‡å®šä¸€ä¸ª RoutingKeyï¼ˆè·¯ç”±keyï¼‰ læ¶ˆæ¯çš„å‘é€æ–¹åœ¨å‘ Exchange å‘é€æ¶ˆæ¯æ—¶ï¼Œä¹Ÿå¿…é¡»æŒ‡å®šæ¶ˆæ¯çš„ RoutingKey lExchange ä¸å†æŠŠæ¶ˆæ¯äº¤ç»™æ¯ä¸€ä¸ªç»‘å®šçš„é˜Ÿåˆ—ï¼Œè€Œæ˜¯æ ¹æ®æ¶ˆæ¯çš„ Routing Key è¿›è¡Œåˆ¤æ–­ï¼Œåªæœ‰é˜Ÿåˆ—çš„Routingkey ä¸æ¶ˆæ¯çš„ Routing key å®Œå…¨ä¸€è‡´ï¼Œæ‰ä¼šæ¥æ”¶åˆ°æ¶ˆæ¯ lPï¼šç”Ÿäº§è€…ï¼Œå‘ Exchange å‘é€æ¶ˆæ¯ï¼Œå‘é€æ¶ˆæ¯æ—¶ï¼Œä¼šæŒ‡å®šä¸€ä¸ªrouting keylXï¼šExchangeï¼ˆäº¤æ¢æœºï¼‰ï¼Œæ¥æ”¶ç”Ÿäº§è€…çš„æ¶ˆæ¯ï¼Œç„¶åæŠŠæ¶ˆæ¯é€’äº¤ç»™ä¸ routing key å®Œå…¨åŒ¹é…çš„é˜Ÿåˆ—lC1ï¼šæ¶ˆè´¹è€…ï¼Œå…¶æ‰€åœ¨é˜Ÿåˆ—æŒ‡å®šäº†éœ€è¦ routing key ä¸º error çš„æ¶ˆæ¯lC2ï¼šæ¶ˆè´¹è€…ï¼Œå…¶æ‰€åœ¨é˜Ÿåˆ—æŒ‡å®šäº†éœ€è¦ routing key ä¸º infoã€errorã€warning çš„æ¶ˆæ¯Routing æ¨¡å¼è¦æ±‚é˜Ÿåˆ—åœ¨ç»‘å®šäº¤æ¢æœºæ—¶è¦æŒ‡å®š routing keyï¼Œæ¶ˆæ¯ä¼šè½¬å‘åˆ°ç¬¦åˆ routing key çš„é˜Ÿåˆ— Topicsé€šé…ç¬¦å·¥ä½œæ¨¡å¼æ¨¡å¼è¯´æ˜ï¼šç»™å§“æçš„äººç±»æ£‰èŠ±ç³–ï¼Œå§“æ¢çš„äººç±»é¸¡å±éº»ç³–ã€TOPICã€‘ Topicç±»å‹ä¸Directç›¸æ¯”ï¼Œéƒ½æ˜¯å¯ä»¥æ ¹æ®RoutingKeyæŠŠæ¶ˆæ¯è·¯ç”±åˆ°ä¸åŒçš„é˜Ÿåˆ—ã€‚åªä¸è¿‡Topicç±»å‹Exchangeå¯ä»¥è®©é˜Ÿåˆ—åœ¨ç»‘å®šRouting key çš„æ—¶å€™ä½¿ç”¨é€šé…ç¬¦ï¼ Routingkey ä¸€èˆ¬éƒ½æ˜¯æœ‰ä¸€ä¸ªæˆ–å¤šä¸ªå•è¯ç»„æˆï¼Œå¤šä¸ªå•è¯ä¹‹é—´ä»¥â€.â€åˆ†å‰²ï¼Œä¾‹å¦‚ï¼š item.insert é€šé…ç¬¦è§„åˆ™ï¼š #ï¼šåŒ¹é…ä¸€ä¸ªæˆ–å¤šä¸ªè¯ *ï¼šåŒ¹é…ä¸å¤šä¸å°‘æ°å¥½1ä¸ªè¯ ä¸¾ä¾‹ï¼š item.#ï¼šèƒ½å¤ŸåŒ¹é…item.insert.abc æˆ–è€… item.insert item.*ï¼šåªèƒ½åŒ¹é…item.insert å›¾è§£ï¼š çº¢è‰²Queueï¼šç»‘å®šçš„æ˜¯usa.# ï¼Œå› æ­¤å‡¡æ˜¯ä»¥ usa.å¼€å¤´çš„routing key éƒ½ä¼šè¢«åŒ¹é…åˆ° é»„è‰²Queueï¼šç»‘å®šçš„æ˜¯#.news ï¼Œå› æ­¤å‡¡æ˜¯ä»¥ .newsç»“å°¾çš„ routing key éƒ½ä¼šè¢«åŒ¹é… Spring-RabbitMQè¯¦æƒ…è§ä»£ç  SpringBoot-RabbitMQ RabbitMQé«˜çº§ç‰¹æ€§ å‘ã€æ”¶ã€é™ã€æ—¶ã€è¾¾ã€ 1.1æ¶ˆæ¯å¯é æŠ•é€’ã€å¯„çš„ç³–ä½ æ”¶åˆ°äº†å—ã€‘ confirmç¡®è®¤æ¨¡å¼ ã€æ¶ˆæ¯ä» ==producer== åˆ° exchange æ— è®ºå¦‚ä½•ä¼šè¿”å›ä¸€ä¸ªconfirmCallbackã€‘ returné€€å›æ¨¡å¼ ã€æ¶ˆæ¯ä»produceråˆ° queue å¤±è´¥åˆ™ä¼šè¿”å›ä¸€ä¸ªreturnCallbackã€‘ rabbitmqæ•´å„æ¶ˆæ¯æŠ•é€’çš„è·¯å¾„ä¸ºï¼š profucerâ€”â€”-ã€‹rabbitmq brokerâ€”â€”ã€‹exchangeâ€”â€”-ã€‹queueâ€”â€”ã€‹consumer è®¾ç½®ConnectionFactoryçš„publisher-confirm=â€trueâ€ å¼€å¯ç¡®è®¤æ¨¡å¼ ä½¿ç”¨rabbitTemplate.setConfirmCallbackè®¾ç½®å›è°ƒå‡½æ•°ã€‚å½“æ¶ˆæ¯å‘é€åˆ°exchangeåå›è°ƒconfirmæ–¹æ³•ã€‚åœ¨æ–¹æ³•ä¸­åˆ¤æ–­trueï¼Œåˆ™å‘é€æˆåŠŸï¼Œåä¹‹å¤±è´¥ï¼Œéœ€è¦å¤„ç† è®¾ç½®ConnectionFactoryçš„publisher-returns=â€trueâ€ å¼€å¯é€€å›æ¨¡å¼ ä½¿ç”¨rabbitTemplate.setReturnCallbackè®¾ç½®å›è°ƒå‡½æ•°ã€‚å½“æ¶ˆæ¯ä»exchangeè·¯ç”±åˆ°queueå¤±è´¥åï¼Œå¦‚æœè®¾ç½®äº†rabbitTemplate.setMandatory(true)å‚æ•°ï¼Œåˆ™ä¼šå°†æ¶ˆæ¯é€€å›ç»™producerã€‚å¹¶æ‰§è¡Œå›è°ƒå‡½æ•°returnedMessageã€‚ åœ¨RabbitMQä¸­ä¹Ÿæä¾›äº†äº‹ç‰©æœºåˆ¶ï¼Œä½†æ˜¯æ€§èƒ½è¾ƒå·®ã€‚ 1.2Consumer ACKã€æ”¶åˆ°ç³–ç»™ä½ æ€ä¹ˆå›å¤ã€‘ ackæŒ‡acknowledgeï¼Œç¡®è®¤ã€‚è¡¨ç¤ºæ¶ˆè´¹ç«¯æ”¶åˆ°æ¶ˆæ¯åçš„ç¡®è®¤æ–¹å¼ ä¸‰ç§ç¡®è®¤æ–¹å¼ï¼š â€‹ è‡ªåŠ¨ç¡®è®¤ï¼šacknowledge=â€noneâ€ã€ä¸šåŠ¡å‡ºé—®é¢˜ä¹Ÿä¼šå›å¤æ”¶åˆ°ã€‘ â€‹ æ‰‹åŠ¨ç¡®è®¤ï¼šacknowledge=â€manualâ€ã€ç­‰ä¸šåŠ¡å¤„ç†æ²¡é—®é¢˜åå›å¤æ”¶åˆ°ï¼Œæœ‰é—®é¢˜å¯å¤„ç†ã€‘ â€‹ æ ¹æ®å¼‚å¸¸æƒ…å†µç¡®è®¤ï¼šacknowledge=â€autoâ€ â€‹ è‡ªåŠ¨ç¡®è®¤æ¶ˆæ¯è¢«consumeræ¥æ”¶åˆ°ï¼Œåˆ™è‡ªåŠ¨ç¡®è®¤ï¼Œå¹¶å°†å“åº”messageä»ç¼“å­˜ä¸­ç§»é™¤ï¼Œå®é™…ä¸šåŠ¡ä¸­å°ç»†èŠ‚å—åˆ°ï¼Œä¸šåŠ¡å‡ºç°å¼‚å¸¸ï¼Œé‚£ä¹ˆæ¶ˆæ¯ä¼šä¸¢å¤±ï¼Œå¦‚æœæ˜¯è®¾ç½®çš„æ‰‹åŠ¨ç¡®è®¤æ–¹å¼ï¼Œåˆ™éœ€è¦ä¸šåŠ¡å¤„ç†æˆåŠŸåï¼Œè°ƒç”¨channel.basicAck(),æ‰‹åŠ¨ç­¾æ”¶ï¼Œå¦‚æœå‡ºç°å¼‚å¸¸ï¼Œåˆ™è°ƒç”¨channel.basicNackï¼ˆï¼‰æ–¹æ³•ï¼Œè®©å…¶è‡ªåŠ¨é‡å‘æ¶ˆæ¯ã€‚ 1234* 1. è®¾ç½®æ‰‹åŠ¨ç­¾æ”¶ã€‚acknowledge=&quot;manual&quot;* 2. è®©ç›‘å¬å™¨ç±»å®ç°ChannelAwareMessageListeneræ¥å£* 3. å¦‚æœæ¶ˆæ¯æˆåŠŸå¤„ç†ï¼Œåˆ™è°ƒç”¨channelçš„ basicAck()ç­¾æ”¶* 4. å¦‚æœæ¶ˆæ¯å¤„ç†å¤±è´¥ï¼Œåˆ™è°ƒç”¨channelçš„basicNack()æ‹’ç»ç­¾æ”¶ï¼Œbrokeré‡æ–°å‘é€ç»™consumer 1.3æ¶ˆè´¹ç«¯é™æµqosã€æˆ‘æ¯æ¬¡åªæ”¶1000é¢—ç³–ã€‘ 12341. ç¡®ä¿ackæœºåˆ¶ä¸ºæ‰‹åŠ¨ç¡®è®¤ã€‚2. listener-containeré…ç½®å±æ€§ perfetch = 1,è¡¨ç¤ºæ¶ˆè´¹ç«¯æ¯æ¬¡ä»mqæ‹‰å»ä¸€æ¡æ¶ˆæ¯æ¥æ¶ˆè´¹ï¼Œç›´åˆ°æ‰‹åŠ¨ç¡®è®¤æ¶ˆè´¹å®Œæ¯•åï¼Œæ‰ä¼šç»§ç»­æ‹‰å»ä¸‹ä¸€æ¡æ¶ˆæ¯ã€‚ &lt;rabbit:listener-container connection-factory=&quot;connectionFactory&quot; acknowledge=&quot;manual&quot; prefetch=&quot;1&quot; &gt; 1.4TTLã€ç³–æ”¾å¿«é€’ç«™åå¹´å°±ä¸èƒ½åƒäº†ã€‘ 1234567* TTL:è¿‡æœŸæ—¶é—´* 1. é˜Ÿåˆ—ç»Ÿä¸€è¿‡æœŸ* 2. æ¶ˆæ¯å•ç‹¬è¿‡æœŸ** å¦‚æœè®¾ç½®äº†æ¶ˆæ¯çš„è¿‡æœŸæ—¶é—´ï¼Œä¹Ÿè®¾ç½®äº†é˜Ÿåˆ—çš„è¿‡æœŸæ—¶é—´ï¼Œå®ƒä»¥æ—¶é—´çŸ­çš„ä¸ºå‡†ã€‚* é˜Ÿåˆ—è¿‡æœŸåï¼Œä¼šå°†é˜Ÿåˆ—æ‰€æœ‰æ¶ˆæ¯å…¨éƒ¨ç§»é™¤ã€‚* æ¶ˆæ¯è¿‡æœŸåï¼Œåªæœ‰æ¶ˆæ¯åœ¨é˜Ÿåˆ—é¡¶ç«¯ï¼Œæ‰ä¼šåˆ¤æ–­å…¶æ˜¯å¦è¿‡æœŸ(ç§»é™¤æ‰) 1.5æ­»ä¿¡é˜Ÿåˆ—ã€ä¸å¥½åƒçš„ç³–éƒ½ç»™å…¶ä»–äººå§ã€‘ æ­»ä¿¡é˜Ÿåˆ—ï¼ˆDXLï¼‰ã€‚Dead Letter Exchangeï¼ˆæ­»ä¿¡é˜Ÿåˆ—äº¤æ¢æœºï¼‰ï¼Œå½“æ¶ˆæ¯æˆä¸ºDead Messageåï¼Œå¯ä»¥è¢«é‡æ–°å‘é€åˆ°å¦å¤–ä¸€ä¸ªäº¤æ¢æœºï¼Œè¿™ä¸ªäº¤æ¢æœºå°±æ˜¯DEXã€‚æ­»ä¿¡é˜Ÿåˆ—å’Œæ­»ä¿¡äº¤æ¢æœºå’Œæ™®é€šçš„æ²¡æœ‰åŒºåˆ«ã€‚ é—®é¢˜ï¼š 1.æ¶ˆæ¯ä»€ä¹ˆæ—¶å€™æˆä¸ºæ­»ä¿¡?æ¶ˆæ¯æˆä¸ºæ­»ä¿¡çš„ä¸‰ç§æƒ…å†µï¼š 1.é˜Ÿåˆ—æ¶ˆæ¯çš„é•¿åº¦è¾¾åˆ°é™åˆ¶ 2.æ¶ˆè´¹è€…æ‹’æ”¶æ¶ˆè´¹æ¶ˆæ¯ï¼ŒbasicNack/basicRejectï¼Œå¹¶ä¸”ä¸æŠŠæ¶ˆæ¯é‡æ–°æ”¾å…¥åŸç›®æ ‡é˜Ÿåˆ—ï¼Œrequeue=false 3.åŸé˜Ÿåˆ—å­˜åœ¨æ¶ˆæ¯è¿‡æœŸè®¾ç½®ï¼Œæ¶ˆæ¯è¾¾è¶…æ—¶é—´æœªè¢«æ¶ˆè´¹ï¼› 2.é˜Ÿåˆ—å¦‚ä½•ä¸DEXç»‘å®šï¼Ÿ 1.6å»¶è¿Ÿé˜Ÿåˆ—ã€æˆ‘å¦ˆå«æˆ‘ä¸‰ååˆ†é’Ÿåæ‰èƒ½åƒè¿™é¢—ç³–ã€‘ æ¶ˆæ¯è¿›å…¥é˜Ÿåˆ—åä¸ä¼šè¢«ç«‹å³è¢«æ¶ˆè´¹ï¼Œåªæœ‰è¾¾åˆ°æŒ‡å®šæ—¶é—´åï¼Œæ‰ä¼šè¢«æ¶ˆè´¹ã€‚ éœ€æ±‚ï¼š â€‹ 1.ä¸‹å•åä¸‰ååˆ†é’Ÿæœªæ”¯ä»˜ï¼Œå–æ¶ˆè®¢å•ï¼Œå›æ»šåº“å­˜ â€‹ 2.æ–°ç”¨æˆ·æ³¨å†Œ7å¤©åï¼Œå‘é€çŸ­ä¿¡é—®å€™ å®ç°æ–¹å¼ â€‹ 1.å®šæ—¶å™¨ï¼ˆæœ‰å»¶è¿Ÿï¼Œå¯¹æ•°æ®åº“æœ‰å½±å“ï¼‰ â€‹ 2.å»¶è¿Ÿé˜Ÿåˆ—ï¼ˆMQä¸­æœªç›´æ¥æä¾›å»¶è¿Ÿé˜Ÿåˆ—ï¼ŒDLX+TTLå®ç°ï¼‰ 1.7æ—¥å¿—ä¸ç›‘æ§RabbitMQé»˜è®¤æ—¥å¿—å­˜æ”¾è·¯å¾„ï¼š /var/log/rabbitmq/rabbit@xxx.log æ—¥å¿—åŒ…å«äº†RabbitMQçš„ç‰ˆæœ¬å·ã€Erlangçš„ç‰ˆæœ¬å·ã€RabbitMQæœåŠ¡èŠ‚ç‚¹åç§°ã€cookieçš„hashå€¼ã€RabbitMQé…ç½®æ–‡ä»¶åœ°å€ã€å†…å­˜é™åˆ¶ã€ç£ç›˜é™åˆ¶ã€é»˜è®¤è´¦æˆ·guestçš„åˆ›å»ºä»¥åŠæƒé™é…ç½®ç­‰ç­‰ã€‚ 123456789101112131415161718æŸ¥çœ‹é˜Ÿåˆ—# rabbitmqctl list_queuesæŸ¥çœ‹exchanges# rabbitmqctl list_exchangesæŸ¥çœ‹ç”¨æˆ·# rabbitmqctl list_usersæŸ¥çœ‹è¿æ¥# rabbitmqctl list_connectionsæŸ¥çœ‹æ¶ˆè´¹è€…ä¿¡æ¯# rabbitmqctl list_consumersæŸ¥çœ‹ç¯å¢ƒå˜é‡# rabbitmqctl environmentæŸ¥çœ‹æœªè¢«ç¡®è®¤çš„é˜Ÿåˆ—# rabbitmqctl list_queues name messages_unacknowledgedæŸ¥çœ‹å•ä¸ªé˜Ÿåˆ—çš„å†…å­˜ä½¿ç”¨# rabbitmqctl list_queues name memoryæŸ¥çœ‹å‡†å¤‡å°±ç»ªçš„é˜Ÿåˆ—# rabbitmqctl list_queues name messages_ready 1.8 æ¶ˆæ¯è¿½è¸ªåœ¨ä½¿ç”¨ä»»ä½•æ¶ˆæ¯ä¸­é—´ä»¶çš„è¿‡ç¨‹ä¸­ï¼Œéš¾å…ä¼šå‡ºç°æŸæ¡æ¶ˆæ¯å¼‚å¸¸ä¸¢å¤±çš„æƒ…å†µã€‚å¯¹äºRabbitMQè€Œè¨€ï¼Œå¯èƒ½æ˜¯å› ä¸ºç”Ÿäº§è€…æˆ–æ¶ˆè´¹è€…ä¸RabbitMQæ–­å¼€äº†è¿æ¥ï¼Œè€Œå®ƒä»¬ä¸RabbitMQåˆé‡‡ç”¨äº†ä¸åŒçš„ç¡®è®¤æœºåˆ¶ï¼›ä¹Ÿæœ‰å¯èƒ½æ˜¯å› ä¸ºäº¤æ¢å™¨ä¸é˜Ÿåˆ—ä¹‹é—´ä¸åŒçš„è½¬å‘ç­–ç•¥ï¼›ç”šè‡³æ˜¯äº¤æ¢å™¨å¹¶æ²¡æœ‰ä¸ä»»ä½•é˜Ÿåˆ—è¿›è¡Œç»‘å®šï¼Œç”Ÿäº§è€…åˆä¸æ„ŸçŸ¥æˆ–è€…æ²¡æœ‰é‡‡å–ç›¸åº”çš„æªæ–½ï¼›å¦å¤–RabbitMQæœ¬èº«çš„é›†ç¾¤ç­–ç•¥ä¹Ÿå¯èƒ½å¯¼è‡´æ¶ˆæ¯çš„ä¸¢å¤±ã€‚è¿™ä¸ªæ—¶å€™å°±éœ€è¦æœ‰ä¸€ä¸ªè¾ƒå¥½çš„æœºåˆ¶è·Ÿè¸ªè®°å½•æ¶ˆæ¯çš„æŠ•é€’è¿‡ç¨‹ï¼Œä»¥æ­¤ååŠ©å¼€å‘å’Œè¿ç»´äººå‘˜è¿›è¡Œé—®é¢˜çš„å®šä½ã€‚ åœ¨RabbitMQä¸­å¯ä»¥ä½¿ç”¨Firehoseå’Œrabbitmq_tracingæ’ä»¶åŠŸèƒ½æ¥å®ç°æ¶ˆæ¯è¿½è¸ªã€‚ Firehose firehoseçš„æœºåˆ¶æ˜¯å°†ç”Ÿäº§è€…æŠ•é€’ç»™rabbitmqçš„æ¶ˆæ¯ï¼ŒrabbitmqæŠ•é€’ç»™æ¶ˆè´¹è€…çš„æ¶ˆæ¯æŒ‰ç…§æŒ‡å®šçš„æ ¼å¼å‘é€åˆ°é»˜è®¤çš„exchangeä¸Šã€‚è¿™ä¸ªé»˜è®¤çš„exchangeçš„åç§°ä¸ºamq.rabbitmq.traceï¼Œå®ƒæ˜¯ä¸€ä¸ªtopicç±»å‹çš„exchangeã€‚å‘é€åˆ°è¿™ä¸ªexchangeä¸Šçš„æ¶ˆæ¯çš„routing keyä¸º publish.exchangename å’Œ deliver.queuenameã€‚å…¶ä¸­exchangenameå’Œqueuenameä¸ºå®é™…exchangeå’Œqueueçš„åç§°ï¼Œåˆ†åˆ«å¯¹åº”ç”Ÿäº§è€…æŠ•é€’åˆ°exchangeçš„æ¶ˆæ¯ï¼Œå’Œæ¶ˆè´¹è€…ä»queueä¸Šè·å–çš„æ¶ˆæ¯ã€‚ æ³¨æ„ï¼šæ‰“å¼€ trace ä¼šå½±å“æ¶ˆæ¯å†™å…¥åŠŸèƒ½ï¼Œé€‚å½“æ‰“å¼€åè¯·å…³é—­ã€‚ rabbitmqctl trace_onï¼šå¼€å¯Firehoseå‘½ä»¤ rabbitmqctl trace_offï¼šå…³é—­Firehoseå‘½ä»¤ rabbitmq_tracing rabbitmq_tracingå’ŒFirehoseåœ¨å®ç°ä¸Šå¦‚å‡ºä¸€è¾™ï¼Œåªä¸è¿‡rabbitmq_tracingçš„æ–¹å¼æ¯”Firehoseå¤šäº†ä¸€å±‚GUIçš„åŒ…è£…ï¼Œæ›´å®¹æ˜“ä½¿ç”¨å’Œç®¡ç†ã€‚ å¯ç”¨æ’ä»¶ï¼šrabbitmq-plugins enable rabbitmq_tracing åº”ç”¨é—®é¢˜1.æ¶ˆæ¯å¯é æ€§ä¿éšœâ€”â€”â€”æ¶ˆæ¯è¡¥å¿ 2.æ¶ˆæ¯å¹‚ç­‰æ€§ä¿éšœâ€”â€”-ä¹è§‚é”æœºåˆ¶å¹‚ç­‰æ€§æŒ‡ä¸€æ¬¡å’Œå¤šæ¬¡è¯·æ±‚æŸä¸€ä¸ªèµ„æºï¼Œå¯¹äºèµ„æºæœ¬èº«åº”è¯¥å…·æœ‰åŒæ ·çš„ç»“æœã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå…¶ä»»æ„å¤šæ¬¡æ‰§è¡Œå¯¹èµ„æºæœ¬èº«æ‰€äº§ç”Ÿçš„å½±å“å‡ä¸ä¸€æ¬¡æ‰§è¡Œçš„å½±å“ç›¸åŒã€‚ åœ¨MQä¸­æŒ‡ï¼Œæ¶ˆè´¹å¤šæ¡ç›¸åŒçš„æ¶ˆæ¯ï¼Œå¾—åˆ°ä¸æ¶ˆè´¹è¯¥æ¶ˆæ¯ä¸€æ¬¡ç›¸åŒçš„ç»“æœã€‚ 3.RabbitMQé›†ç¾¤æ­å»ºæ‘˜è¦ï¼šå®é™…ç”Ÿäº§åº”ç”¨ä¸­éƒ½ä¼šé‡‡ç”¨æ¶ˆæ¯é˜Ÿåˆ—çš„é›†ç¾¤æ–¹æ¡ˆï¼Œå¦‚æœé€‰æ‹©RabbitMQé‚£ä¹ˆæœ‰å¿…è¦äº†è§£ä¸‹å®ƒçš„é›†ç¾¤æ–¹æ¡ˆåŸç† ä¸€èˆ¬æ¥è¯´ï¼Œå¦‚æœåªæ˜¯ä¸ºäº†å­¦ä¹ RabbitMQæˆ–è€…éªŒè¯ä¸šåŠ¡å·¥ç¨‹çš„æ­£ç¡®æ€§é‚£ä¹ˆåœ¨æœ¬åœ°ç¯å¢ƒæˆ–è€…æµ‹è¯•ç¯å¢ƒä¸Šä½¿ç”¨å…¶å•å®ä¾‹éƒ¨ç½²å°±å¯ä»¥äº†ï¼Œä½†æ˜¯å‡ºäºMQä¸­é—´ä»¶æœ¬èº«çš„å¯é æ€§ã€å¹¶å‘æ€§ã€ååé‡å’Œæ¶ˆæ¯å †ç§¯èƒ½åŠ›ç­‰é—®é¢˜çš„è€ƒè™‘ï¼Œåœ¨ç”Ÿäº§ç¯å¢ƒä¸Šä¸€èˆ¬éƒ½ä¼šè€ƒè™‘ä½¿ç”¨RabbitMQçš„é›†ç¾¤æ–¹æ¡ˆã€‚ 3.1 é›†ç¾¤æ–¹æ¡ˆçš„åŸç†RabbitMQè¿™æ¬¾æ¶ˆæ¯é˜Ÿåˆ—ä¸­é—´ä»¶äº§å“æœ¬èº«æ˜¯åŸºäºErlangç¼–å†™ï¼ŒErlangè¯­è¨€å¤©ç”Ÿå…·å¤‡åˆ†å¸ƒå¼ç‰¹æ€§ï¼ˆé€šè¿‡åŒæ­¥Erlangé›†ç¾¤å„èŠ‚ç‚¹çš„magic cookieæ¥å®ç°ï¼‰ã€‚å› æ­¤ï¼ŒRabbitMQå¤©ç„¶æ”¯æŒClusteringã€‚è¿™ä½¿å¾—RabbitMQæœ¬èº«ä¸éœ€è¦åƒActiveMQã€Kafkaé‚£æ ·é€šè¿‡ZooKeeperåˆ†åˆ«æ¥å®ç°HAæ–¹æ¡ˆå’Œä¿å­˜é›†ç¾¤çš„å…ƒæ•°æ®ã€‚é›†ç¾¤æ˜¯ä¿è¯å¯é æ€§çš„ä¸€ç§æ–¹å¼ï¼ŒåŒæ—¶å¯ä»¥é€šè¿‡æ°´å¹³æ‰©å±•ä»¥è¾¾åˆ°å¢åŠ æ¶ˆæ¯ååé‡èƒ½åŠ›çš„ç›®çš„ã€‚ 3.2 å•æœºå¤šå®ä¾‹éƒ¨ç½²ç”±äºæŸäº›å› ç´ çš„é™åˆ¶ï¼Œæœ‰æ—¶å€™ä½ ä¸å¾—ä¸åœ¨ä¸€å°æœºå™¨ä¸Šå»æ­å»ºä¸€ä¸ªrabbitmqé›†ç¾¤ï¼Œè¿™ä¸ªæœ‰ç‚¹ç±»ä¼¼zookeeperçš„å•æœºç‰ˆã€‚çœŸå®ç”Ÿæˆç¯å¢ƒè¿˜æ˜¯è¦é…æˆå¤šæœºé›†ç¾¤çš„ã€‚æœ‰å…³æ€ä¹ˆé…ç½®å¤šæœºé›†ç¾¤çš„å¯ä»¥å‚è€ƒå…¶ä»–çš„èµ„æ–™ï¼Œè¿™é‡Œä¸»è¦è®ºè¿°å¦‚ä½•åœ¨å•æœºä¸­é…ç½®å¤šä¸ªrabbitmqå®ä¾‹ã€‚ ä¸»è¦å‚è€ƒå®˜æ–¹æ–‡æ¡£ï¼šhttps://www.rabbitmq.com/clustering.html é¦–å…ˆç¡®ä¿RabbitMQè¿è¡Œæ²¡æœ‰é—®é¢˜ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859[root@super ~]# rabbitmqctl statusStatus of node rabbit@super ...[{pid,10232}, {running_applications, [{rabbitmq_management,&quot;RabbitMQ Management Console&quot;,&quot;3.6.5&quot;}, {rabbitmq_web_dispatch,&quot;RabbitMQ Web Dispatcher&quot;,&quot;3.6.5&quot;}, {webmachine,&quot;webmachine&quot;,&quot;1.10.3&quot;}, {mochiweb,&quot;MochiMedia Web Server&quot;,&quot;2.13.1&quot;}, {rabbitmq_management_agent,&quot;RabbitMQ Management Agent&quot;,&quot;3.6.5&quot;}, {rabbit,&quot;RabbitMQ&quot;,&quot;3.6.5&quot;}, {os_mon,&quot;CPO CXC 138 46&quot;,&quot;2.4&quot;}, {syntax_tools,&quot;Syntax tools&quot;,&quot;1.7&quot;}, {inets,&quot;INETS CXC 138 49&quot;,&quot;6.2&quot;}, {amqp_client,&quot;RabbitMQ AMQP Client&quot;,&quot;3.6.5&quot;}, {rabbit_common,[],&quot;3.6.5&quot;}, {ssl,&quot;Erlang/OTP SSL application&quot;,&quot;7.3&quot;}, {public_key,&quot;Public key infrastructure&quot;,&quot;1.1.1&quot;}, {asn1,&quot;The Erlang ASN1 compiler version 4.0.2&quot;,&quot;4.0.2&quot;}, {ranch,&quot;Socket acceptor pool for TCP protocols.&quot;,&quot;1.2.1&quot;}, {mnesia,&quot;MNESIA CXC 138 12&quot;,&quot;4.13.3&quot;}, {compiler,&quot;ERTS CXC 138 10&quot;,&quot;6.0.3&quot;}, {crypto,&quot;CRYPTO&quot;,&quot;3.6.3&quot;}, {xmerl,&quot;XML parser&quot;,&quot;1.3.10&quot;}, {sasl,&quot;SASL CXC 138 11&quot;,&quot;2.7&quot;}, {stdlib,&quot;ERTS CXC 138 10&quot;,&quot;2.8&quot;}, {kernel,&quot;ERTS CXC 138 10&quot;,&quot;4.2&quot;}]}, {os,{unix,linux}}, {erlang_version, &quot;Erlang/OTP 18 [erts-7.3] [source] [64-bit] [async-threads:64] [hipe] [kernel-poll:true]\\n&quot;}, {memory, [{total,56066752}, {connection_readers,0}, {connection_writers,0}, {connection_channels,0}, {connection_other,2680}, {queue_procs,268248}, {queue_slave_procs,0}, {plugins,1131936}, {other_proc,18144280}, {mnesia,125304}, {mgmt_db,921312}, {msg_index,69440}, {other_ets,1413664}, {binary,755736}, {code,27824046}, {atom,1000601}, {other_system,4409505}]}, {alarms,[]}, {listeners,[{clustering,25672,&quot;::&quot;},{amqp,5672,&quot;::&quot;}]}, {vm_memory_high_watermark,0.4}, {vm_memory_limit,411294105}, {disk_free_limit,50000000}, {disk_free,13270233088}, {file_descriptors, [{total_limit,924},{total_used,6},{sockets_limit,829},{sockets_used,0}]}, {processes,[{limit,1048576},{used,262}]}, {run_queue,0}, {uptime,43651}, {kernel,{net_ticktime,60}}] åœæ­¢rabbitmqæœåŠ¡ 123[root@super sbin]# service rabbitmq-server stopStopping rabbitmq-server: rabbitmq-server. å¯åŠ¨ç¬¬ä¸€ä¸ªèŠ‚ç‚¹ï¼š 12345678910[root@super sbin]# RABBITMQ_NODE_PORT=5673 RABBITMQ_NODENAME=rabbit1 rabbitmq-server start RabbitMQ 3.6.5. Copyright (C) 2007-2016 Pivotal Software, Inc. ## ## Licensed under the MPL. See http://www.rabbitmq.com/ ## ## ########## Logs: /var/log/rabbitmq/rabbit1.log ###### ## /var/log/rabbitmq/rabbit1-sasl.log ########## Starting broker... completed with 6 plugins. å¯åŠ¨ç¬¬äºŒä¸ªèŠ‚ç‚¹ï¼š webç®¡ç†æ’ä»¶ç«¯å£å ç”¨,æ‰€ä»¥è¿˜è¦æŒ‡å®šå…¶webæ’ä»¶å ç”¨çš„ç«¯å£å·ã€‚ 1234567891011[root@super ~]# RABBITMQ_NODE_PORT=5674 RABBITMQ_SERVER_START_ARGS=&quot;-rabbitmq_management listener [{port,15674}]&quot; RABBITMQ_NODENAME=rabbit2 rabbitmq-server start RabbitMQ 3.6.5. Copyright (C) 2007-2016 Pivotal Software, Inc. ## ## Licensed under the MPL. See http://www.rabbitmq.com/ ## ## ########## Logs: /var/log/rabbitmq/rabbit2.log ###### ## /var/log/rabbitmq/rabbit2-sasl.log ########## Starting broker... completed with 6 plugins. ç»“æŸå‘½ä»¤ï¼š 12rabbitmqctl -n rabbit1 stoprabbitmqctl -n rabbit2 stop rabbit1æ“ä½œä½œä¸ºä¸»èŠ‚ç‚¹ï¼š 1234567[root@super ~]# rabbitmqctl -n rabbit1 stop_app Stopping node rabbit1@super ...[root@super ~]# rabbitmqctl -n rabbit1 reset Resetting node rabbit1@super ...[root@super ~]# rabbitmqctl -n rabbit1 start_appStarting node rabbit1@super ...[root@super ~]# rabbit2æ“ä½œä¸ºä»èŠ‚ç‚¹ï¼š 123456789[root@super ~]# rabbitmqctl -n rabbit2 stop_appStopping node rabbit2@super ...[root@super ~]# rabbitmqctl -n rabbit2 resetResetting node rabbit2@super ...[root@super ~]# rabbitmqctl -n rabbit2 join_cluster rabbit1@'super' ###''å†…æ˜¯ä¸»æœºåæ¢æˆè‡ªå·±çš„Clustering node rabbit2@super with rabbit1@super ...[root@super ~]# rabbitmqctl -n rabbit2 start_appStarting node rabbit2@super ... æŸ¥çœ‹é›†ç¾¤çŠ¶æ€ï¼š 1234567[root@super ~]# rabbitmqctl cluster_status -n rabbit1Cluster status of node rabbit1@super ...[{nodes,[{disc,[rabbit1@super,rabbit2@super]}]}, {running_nodes,[rabbit2@super,rabbit1@super]}, {cluster_name,&lt;&lt;&quot;rabbit1@super&quot;&gt;&gt;}, {partitions,[]}, {alarms,[{rabbit2@super,[]},{rabbit1@super,[]}]}] webç›‘æ§ï¼š 3.3 é›†ç¾¤ç®¡ç†rabbitmqctl join_cluster {cluster_node} [â€“ram] å°†èŠ‚ç‚¹åŠ å…¥æŒ‡å®šé›†ç¾¤ä¸­ã€‚åœ¨è¿™ä¸ªå‘½ä»¤æ‰§è¡Œå‰éœ€è¦åœæ­¢RabbitMQåº”ç”¨å¹¶é‡ç½®èŠ‚ç‚¹ã€‚ rabbitmqctl cluster_status æ˜¾ç¤ºé›†ç¾¤çš„çŠ¶æ€ã€‚ rabbitmqctl change_cluster_node_type {disc|ram} ä¿®æ”¹é›†ç¾¤èŠ‚ç‚¹çš„ç±»å‹ã€‚åœ¨è¿™ä¸ªå‘½ä»¤æ‰§è¡Œå‰éœ€è¦åœæ­¢RabbitMQåº”ç”¨ã€‚ rabbitmqctl forget_cluster_node [â€“offline] å°†èŠ‚ç‚¹ä»é›†ç¾¤ä¸­åˆ é™¤ï¼Œå…è®¸ç¦»çº¿æ‰§è¡Œã€‚ rabbitmqctl update_cluster_nodes {clusternode} åœ¨é›†ç¾¤ä¸­çš„èŠ‚ç‚¹åº”ç”¨å¯åŠ¨å‰å’¨è¯¢clusternodeèŠ‚ç‚¹çš„æœ€æ–°ä¿¡æ¯ï¼Œå¹¶æ›´æ–°ç›¸åº”çš„é›†ç¾¤ä¿¡æ¯ã€‚è¿™ä¸ªå’Œjoin_clusterä¸åŒï¼Œå®ƒä¸åŠ å…¥é›†ç¾¤ã€‚è€ƒè™‘è¿™æ ·ä¸€ç§æƒ…å†µï¼ŒèŠ‚ç‚¹Aå’ŒèŠ‚ç‚¹Béƒ½åœ¨é›†ç¾¤ä¸­ï¼Œå½“èŠ‚ç‚¹Aç¦»çº¿äº†ï¼ŒèŠ‚ç‚¹Cåˆå’ŒèŠ‚ç‚¹Bç»„æˆäº†ä¸€ä¸ªé›†ç¾¤ï¼Œç„¶åèŠ‚ç‚¹Båˆç¦»å¼€äº†é›†ç¾¤ï¼Œå½“Aé†’æ¥çš„æ—¶å€™ï¼Œå®ƒä¼šå°è¯•è”ç³»èŠ‚ç‚¹Bï¼Œä½†æ˜¯è¿™æ ·ä¼šå¤±è´¥ï¼Œå› ä¸ºèŠ‚ç‚¹Bå·²ç»ä¸åœ¨é›†ç¾¤ä¸­äº†ã€‚ rabbitmqctl cancel_sync_queue [-p vhost] {queue} å–æ¶ˆé˜Ÿåˆ—queueåŒæ­¥é•œåƒçš„æ“ä½œã€‚ rabbitmqctl set_cluster_name {name} è®¾ç½®é›†ç¾¤åç§°ã€‚é›†ç¾¤åç§°åœ¨å®¢æˆ·ç«¯è¿æ¥æ—¶ä¼šé€šæŠ¥ç»™å®¢æˆ·ç«¯ã€‚Federationå’ŒShovelæ’ä»¶ä¹Ÿä¼šæœ‰ç”¨åˆ°é›†ç¾¤åç§°çš„åœ°æ–¹ã€‚é›†ç¾¤åç§°é»˜è®¤æ˜¯é›†ç¾¤ä¸­ç¬¬ä¸€ä¸ªèŠ‚ç‚¹çš„åç§°ï¼Œé€šè¿‡è¿™ä¸ªå‘½ä»¤å¯ä»¥é‡æ–°è®¾ç½®ã€‚ 3.4 RabbitMQé•œåƒé›†ç¾¤é…ç½® ä¸Šé¢å·²ç»å®ŒæˆRabbitMQé»˜è®¤é›†ç¾¤æ¨¡å¼ï¼Œä½†å¹¶ä¸ä¿è¯é˜Ÿåˆ—çš„é«˜å¯ç”¨æ€§ï¼Œå°½ç®¡äº¤æ¢æœºã€ç»‘å®šè¿™äº›å¯ä»¥å¤åˆ¶åˆ°é›†ç¾¤é‡Œçš„ä»»ä½•ä¸€ä¸ªèŠ‚ç‚¹ï¼Œä½†æ˜¯é˜Ÿåˆ—å†…å®¹ä¸ä¼šå¤åˆ¶ã€‚è™½ç„¶è¯¥æ¨¡å¼è§£å†³ä¸€é¡¹ç›®ç»„èŠ‚ç‚¹å‹åŠ›ï¼Œä½†é˜Ÿåˆ—èŠ‚ç‚¹å®•æœºç›´æ¥å¯¼è‡´è¯¥é˜Ÿåˆ—æ— æ³•åº”ç”¨ï¼Œåªèƒ½ç­‰å¾…é‡å¯ï¼Œæ‰€ä»¥è¦æƒ³åœ¨é˜Ÿåˆ—èŠ‚ç‚¹å®•æœºæˆ–æ•…éšœä¹Ÿèƒ½æ­£å¸¸åº”ç”¨ï¼Œå°±è¦å¤åˆ¶é˜Ÿåˆ—å†…å®¹åˆ°é›†ç¾¤é‡Œçš„æ¯ä¸ªèŠ‚ç‚¹ï¼Œå¿…é¡»è¦åˆ›å»ºé•œåƒé˜Ÿåˆ—ã€‚ é•œåƒé˜Ÿåˆ—æ˜¯åŸºäºæ™®é€šçš„é›†ç¾¤æ¨¡å¼çš„ï¼Œç„¶åå†æ·»åŠ ä¸€äº›ç­–ç•¥ï¼Œæ‰€ä»¥ä½ è¿˜æ˜¯å¾—å…ˆé…ç½®æ™®é€šé›†ç¾¤ï¼Œç„¶åæ‰èƒ½è®¾ç½®é•œåƒé˜Ÿåˆ—ï¼Œæˆ‘ä»¬å°±ä»¥ä¸Šé¢çš„é›†ç¾¤æ¥ç€åšã€‚ è®¾ç½®çš„é•œåƒé˜Ÿåˆ—å¯ä»¥é€šè¿‡å¼€å¯çš„ç½‘é¡µçš„ç®¡ç†ç«¯Admin-&gt;Policiesï¼Œä¹Ÿå¯ä»¥é€šè¿‡å‘½ä»¤ã€‚ rabbitmqctl set_policy my_ha â€œ^â€ â€˜{â€œha-modeâ€:â€allâ€}â€™ Name:ç­–ç•¥åç§° Patternï¼šåŒ¹é…çš„è§„åˆ™ï¼Œå¦‚æœæ˜¯åŒ¹é…æ‰€æœ‰çš„é˜Ÿåˆ—ï¼Œæ˜¯^. Definition:ä½¿ç”¨ha-modeæ¨¡å¼ä¸­çš„allï¼Œä¹Ÿå°±æ˜¯åŒæ­¥æ‰€æœ‰åŒ¹é…çš„é˜Ÿåˆ—ã€‚é—®å·é“¾æ¥å¸®åŠ©æ–‡æ¡£ã€‚ 3.5 è´Ÿè½½å‡è¡¡-HAProxyHAProxyæä¾›é«˜å¯ç”¨æ€§ã€è´Ÿè½½å‡è¡¡ä»¥åŠåŸºäºTCPå’ŒHTTPåº”ç”¨çš„ä»£ç†ï¼Œæ”¯æŒè™šæ‹Ÿä¸»æœºï¼Œå®ƒæ˜¯å…è´¹ã€å¿«é€Ÿå¹¶ä¸”å¯é çš„ä¸€ç§è§£å†³æ–¹æ¡ˆ,åŒ…æ‹¬Twitterï¼ŒRedditï¼ŒStackOverflowï¼ŒGitHubåœ¨å†…çš„å¤šå®¶çŸ¥åäº’è”ç½‘å…¬å¸åœ¨ä½¿ç”¨ã€‚HAProxyå®ç°äº†ä¸€ç§äº‹ä»¶é©±åŠ¨ã€å•ä¸€è¿›ç¨‹æ¨¡å‹ï¼Œæ­¤æ¨¡å‹æ”¯æŒéå¸¸å¤§çš„å¹¶å‘è¿æ¥æ•°ã€‚ 3.5.1 å®‰è£…HAProxy12345678910111213141516//ä¸‹è½½ä¾èµ–åŒ…yum install gcc vim wget//ä¸Šä¼ haproxyæºç åŒ…//è§£å‹tar -zxvf haproxy-1.6.5.tar.gz -C /usr/local//è¿›å…¥ç›®å½•ã€è¿›è¡Œç¼–è¯‘ã€å®‰è£…cd /usr/local/haproxy-1.6.5make TARGET=linux31 PREFIX=/usr/local/haproxymake install PREFIX=/usr/local/haproxymkdir /etc/haproxy//èµ‹æƒgroupadd -r -g 149 haproxyuseradd -g haproxy -r -s /sbin/nologin -u 149 haproxy//åˆ›å»ºhaproxyé…ç½®æ–‡ä»¶mkdir /etc/haproxyvim /etc/haproxy/haproxy.cfg 3.5.2 é…ç½®HAProxyé…ç½®æ–‡ä»¶è·¯å¾„ï¼š/etc/haproxy/haproxy.cfg 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354#logging optionsglobal log 127.0.0.1 local0 info maxconn 5120 chroot /usr/local/haproxy uid 99 gid 99 daemon quiet nbproc 20 pidfile /var/run/haproxy.piddefaults log global mode tcp option tcplog option dontlognull retries 3 option redispatch maxconn 2000 contimeout 5s clitimeout 60s srvtimeout 15s #front-end IP for consumers and producterslisten rabbitmq_cluster bind 0.0.0.0:5672 mode tcp #balance url_param userid #balance url_param session_id check_post 64 #balance hdr(User-Agent) #balance hdr(host) #balance hdr(Host) use_domain_only #balance rdp-cookie #balance leastconn #balance source //ip balance roundrobin server node1 127.0.0.1:5673 check inter 5000 rise 2 fall 2 server node2 127.0.0.1:5674 check inter 5000 rise 2 fall 2listen stats bind 172.16.98.133:8100 mode http option httplog stats enable stats uri /rabbitmq-stats stats refresh 5s å¯åŠ¨HAproxyè´Ÿè½½ 123456/usr/local/haproxy/sbin/haproxy -f /etc/haproxy/haproxy.cfg//æŸ¥çœ‹haproxyè¿›ç¨‹çŠ¶æ€ps -ef | grep haproxyè®¿é—®å¦‚ä¸‹åœ°å€å¯¹mqèŠ‚ç‚¹è¿›è¡Œç›‘æ§http://172.16.98.133:8100/rabbitmq-stats ä»£ç ä¸­è®¿é—®mqé›†ç¾¤åœ°å€ï¼Œåˆ™å˜ä¸ºè®¿é—®haproxyåœ°å€:5672 å‚è€ƒæ–‡çŒ®ï¼šé»‘é©¬è§†é¢‘ç›¸å…³ç¬”è®°","link":"/2021/03/24/Draft/2021/RabbitMQ/"},{"title":"JVM ä¸ä¸Šå±‚æŠ€æœ¯","text":"JVM ä¸ä¸Šå±‚æŠ€æœ¯ æ–°å­¦å››é—®WHYã€ä¸å‰ä»£ä¼˜åŒ–äº†ä»€ä¹ˆï¼Œå¼¥è¡¥äº†ä»€ä¹ˆç©ºç™½ã€‘ï¼šäº†è§£åº•å±‚ï¼Œä¼˜åŒ–ï¼Œé¢è¯•ï¼Œè§£å†³åº•å±‚BUGWHATã€æ¡†æ¶ï¼Œæ€ç»´å¯¼å›¾ï¼Œä¸»é¢˜æ¡†æ¶ã€‘ï¼šç»“æ„ï¼ŒHOWã€å¦‚ä½•è®°å¿†ï¼Œå­¦ä¹ èµ„æºã€‘ï¼šå­¦ä¹ èµ„æºï¼šå°šç¡…è°·JVMï¼ŒANKIè®°å¿†LEVELã€ä¸æ˜¯æ¯ä¸ªéƒ½å­¦ç²¾ã€‘ï¼šäº†è§£ è¿›åº¦ï¼šä¸Šç¯‡ ç¬¬å…«ç« ã€72ã€‘ä¸Šç¯‡ï¼šå†…å­˜ä¸åƒåœ¾å›æ”¶ä¸€ã€JVMä¸JAVAä½“ç³»ç»“æ„1.JAVAä¸JVMJavaå¤§äº‹ä»¶ 1990å¹´ï¼Œåœ¨sunå…¬å¸ä¸­ï¼Œç”±Patrick naughtonã€mikesheridanä»¥åŠjames Goslingé¢†å¯¼çš„å°ç»„Green Teamï¼Œå¼€å‘å‡ºæ–°çš„ç¨‹åºè¯­è¨€ï¼Œå‘½åä¸ºOAKï¼ŒåæœŸæ›´åä¸ºJava 1995å¹´ï¼Œsunæ­£å¼å‘å¸ƒJavaå’ŒhotJAVAäº§å“ï¼ŒJavaé¦–æ¬¡å…¬å¼€äº®ç›¸ã€‚ 1996å¹´1æœˆ23æ—¥sun Microsystemså‘å¸ƒäº†JDK1.0. 1998å¹´ï¼ŒJDK1.2ç‰ˆæœ¬å‘å¸ƒã€‚åŒæ—¶ï¼Œsunå‘å¸ƒäº†JSP/Servletã€EJBè§„èŒƒï¼Œä»¥åŠå°†Javaåˆ†æˆäº†J2EEã€J2SEå’ŒJ2MEã€‚è¿™è¡¨æ˜Javaå¼€å§‹å‘ä¼ä¸šã€æ¡Œé¢åº”ç”¨å’Œç§»åŠ¨è®¾å¤‡åº”ç”¨3å¤§é¢†åŸŸæŒºè¿›ã€‚ 2000å¹´ï¼ŒJDK1.3å‘å¸ƒï¼ŒJava HotSpot Virtual Machineæ­£å¼å‘å¸ƒï¼Œæˆä¸ºJavaé»˜è®¤çš„è™šæ‹Ÿæœºã€‚ 2002å¹´ï¼ŒJDK 1.4å‘å¸ƒï¼Œå¤è€çš„classicè™šæ‹Ÿæœºé€€å‡ºå†å²èˆå°ã€‚ 2003å¹´åº•ï¼ŒJavaå¹³å°çš„scalaæ­£å¼å‘å¸ƒï¼ŒåŒå¹´Groovyä¹ŸåŠ å…¥äº†Javaé˜µè¥ã€‚ 2004å¹´ï¼ŒJDK1.5å‘å¸ƒï¼ŒåŒæ—¶JDK1.5æ”¹åä¸ºJavaSE5.0. 2006å¹´ï¼ŒJDK 6å‘å¸ƒï¼ŒåŒå¹´Javaå¼€æºå¹¶å»ºç«‹äº†openJDKï¼Œé¡ºç†æˆç« ï¼ŒHotspotè™šæ‹Ÿæœºæˆä¸ºäº†OpenJDKä¸­é»˜è®¤çš„è™šæ‹Ÿæœºã€‚ 2007å¹´ï¼ŒJavaå¹³å°è¿æ¥äº†æ–°ä¼™ä¼´Clojureã€‚ 2008å¹´ï¼ŒOracleæ”¶è´­äº†BEAï¼Œå¾—åˆ°äº†JRockitè™šæ‹Ÿæœºã€‚ 2009å¹´ï¼ŒTwitterå®£å¸ƒå°†åå°å¤§éƒ¨åˆ†ç¨‹åºä»rubyè¿ç§»åˆ°Scalaï¼Œè¿™æ˜¯Javaå¹³å°çš„æœ‰ä¸€æ¬¡å¤§è§„æ¨¡åº”ç”¨ã€‚ 2010å¹´ï¼ŒOracleæ”¶è´­äº†sunï¼Œè·å¾—Javaå•†æ ‡å’Œæœ€å…·ä»·å€¼çš„hotspotè™šæ‹Ÿæœºã€‚æ­¤æ—¶Oracleæ‹¥æœ‰å¸‚åœºå ç”¨ç‡æœ€é«˜çš„ä¸¤æ¬¾è™šæ‹Ÿæœºhotspotå’ŒJRockitï¼Œå¹¶ä¸”è®¡åˆ’æœªæ¥è¿›è¡Œæ•´åˆï¼šHotRockitã€‚ 2011å¹´ï¼ŒJDK7å‘å¸ƒï¼Œåœ¨JDKï¼‘.7ï½•4ä¸­ï¼Œæ­£å¼å¯ç”¨äº†æ–°çš„åƒåœ¾å›æ”¶å™¨G1. 2017å¹´ï¼ŒJDK9å‘å¸ƒï¼Œå°†G1è®¾ç½®ä¸ºé»˜è®¤GCï¼Œæ›¿ä»£CMSã€‚ 2017åŒå¹´ï¼ŒIBMçš„J9å¼€æºï¼Œå½¢æˆäº†ç°åœ¨çš„open J9ç¤¾åŒºã€‚ 2018å¹´ï¼ŒAndroidçš„Javaä¾µæƒæ¡ˆåˆ¤å†³ï¼ŒGoogleå…¬å¸èµ”å¿Oracleæ€»è®¡88äº¿ç¾å…ƒã€‚ 2018åŒå¹´ï¼ŒOracleå®£å¸ƒJavaEEæˆä¸ºå†å²åè¯ï¼ŒJDBCã€JMSã€Servletèµ ä¸EclipseåŸºé‡‘ä¼šã€‚ 2018åŒå¹´ï¼ŒJDK11å‘å¸ƒï¼ŒLTSç‰ˆæœ¬çš„JDKï¼Œå‘å¸ƒé©å‘½æ€§çš„ZGCï¼Œè°ƒæ•´JDKæˆæƒè®¸å¯ã€‚ 2019å¹´ï¼ŒJDK12å‘å¸ƒï¼ŒåŠ å…¥RedHaté¢†å¯¼å¼€å‘çš„shenandoah GCã€‚ åœ¨JDK11ä¹‹å‰ï¼ŒOracleJDKè¿˜ä¼šå­˜åœ¨ä¸€äº›openJDKä¸­æ²¡æœ‰çš„ã€é—­æºçš„åŠŸèƒ½ã€‚ä½†åœ¨JDK11ä¸­ï¼ŒopenJDKå’ŒOracleJDKä»£ç å®è´¨ä¸Šå·²ç»è¾¾åˆ°å®Œå…¨ä¸€è‡´çš„ç¨‹åº¦ã€‚ JVMä»‹ç»â€‹ æ‰€è°“è™šæ‹Ÿæœº(Virtual Machine)ï¼Œå°±æ˜¯ä¸€å°è™šæ‹Ÿçš„è®¡ç®—æœºã€‚å®ƒæ˜¯ä¸€æ¬¾è½¯ä»¶ï¼Œç”¨æ¥æ‰§è¡Œä¸€ç³»åˆ—è™šæ‹Ÿè®¡ç®—æœºæŒ‡ä»¤ã€‚å¤§ä½“ä¸Šï¼Œè™šæ‹Ÿæœºå¯ä»¥åˆ†ä¸ºç³»ç»Ÿè™šæ‹Ÿæœºå’Œç¨‹åºè™šæ‹Ÿæœºã€‚å¤§åé¼é¼çš„Visual Box,VMwareå°±å±äºç³»ç»Ÿè™šæ‹Ÿæœºï¼Œå®ƒä»¬å®Œå…¨æ˜¯å¯¹ç‰©ç†è®¡ç®—æœºçš„ä»¿çœŸï¼Œæä¾›äº†ä¸€ä¸ªå¯è¿è¡Œå®Œæ•´æ“ä½œç³»ç»Ÿçš„è½¯ä»¶å¹³å°ã€‚ç¨‹åºè™šæ‹Ÿæœºçš„å…¸å‹ä»£è¡¨å°±æ˜¯Javaè™šæ‹Ÿæœºï¼Œå®ƒä¸“é—¨ä¸ºæ‰§è¡Œå•ä¸ªè®¡ç®—æœºç¨‹åºè€Œè®¾è®¡ï¼Œåœ¨Javaè™šæ‹Ÿæœºä¸­æ‰§è¡Œçš„æŒ‡ä»¤æˆ‘ä»¬ç§°ä¸ºJavaå­—èŠ‚ç æŒ‡ä»¤ã€‚æ— è®ºæ˜¯ç³»ç»Ÿè™šæ‹Ÿæœºè¿˜æ˜¯ç¨‹åºè™šæ‹Ÿæœºï¼Œåœ¨ä¸Šé¢è¿è¡Œçš„è½¯ä»¶éƒ½è¢«é™åˆ¶äºè™šæ‹Ÿæœºæä¾›çš„èµ„æºä¸­ã€‚ â€‹ Javaè™šæ‹Ÿæœºæ˜¯ä¸€å°æ‰§è¡ŒJavaå­—èŠ‚ç çš„è™šæ‹Ÿè®¡ç®—æœºï¼Œå®ƒæ‹¥æœ‰ç‹¬ç«‹çš„è¿è¡Œæœºåˆ¶,å…¶è¿è¡Œçš„Javaå­—èŠ‚ç ä¹Ÿæœªå¿…ç”±Javaè¯­è¨€ç¼–è¯‘è€Œæˆã€‚JVMå¹³å°çš„å„ç§è¯­è¨€å¯ä»¥å…±äº«Javaè™šæ‹Ÿæœºå¸¦æ¥çš„è·¨å¹³å°æ€§ã€ä¼˜ç§€çš„åƒåœ¾å›å™¨ï¼Œä»¥åŠå¯é çš„å³æ—¶ç¼–è¯‘å™¨ã€‚JavaæŠ€æœ¯çš„æ ¸å¿ƒå°±æ˜¯Javaè™šæ‹Ÿæœºï¼ˆJVMï¼ŒJava Virtual Machine) ,å› ä¸ºæ‰€æœ‰çš„Javaç¨‹åºéƒ½è¿è¡Œåœ¨Javaè™šæ‹Ÿæœºå†…éƒ¨ã€‚ ä½œç”¨ï¼šJavaè™šæ‹Ÿæœºå°±æ˜¯äºŒè¿›åˆ¶å­—èŠ‚ç çš„è¿è¡Œç¯å¢ƒï¼Œè´Ÿè´£è£…è½½å­—èŠ‚ç åˆ°å…¶å†…éƒ¨ï¼Œè§£é‡Š/ç¼–è¯‘ä¸ºå¯¹åº”å¹³å°ä¸Šçš„æœºå™¨æŒ‡ä»¤æ‰§è¡Œã€‚æ¯ä¸€æ¡JavaæŒ‡ä»¤ï¼ŒJavaè™šæ‹Ÿæœºè§„æ±œç”²éƒ½æœ‰è¯¦ç»†å®šä¹‰ï¼Œå¦‚æ€ä¹ˆå–æ“ä½œæ•°ï¼Œæ€ä¹ˆå¤„ç†æ“ä½œæ•°ï¼Œå¤„ç†ç»“æœæ”¾åœ¨å“ªé‡Œã€‚ç‰¹ç‚¹ï¼šä¸€æ¬¡ç¼–è¯‘ï¼Œåˆ°å¤„è¿è¡Œï¼›è‡ªåŠ¨å†…å­˜ç®¡ç†ï¼›è‡ªåŠ¨åƒåœ¾å›æ”¶åŠŸèƒ½ ä½ç½®ï¼š JVMæ•´ä½“ç»“æ„ Javaä»£ç æ‰§è¡Œæµç¨‹â€‹ JVMæ¶æ„æ¨¡å‹Javaç¼–è¯‘å™¨è¾“å…¥çš„æŒ‡ä»¤æµåŸºæœ¬ä¸Šæ˜¯ä¸€ç§åŸºäºæ ˆçš„æŒ‡ä»¤é›†æ¶æ„ï¼Œå¦å¤–ä¸€ç§æŒ‡ä»¤é›†æ¶æ„åˆ™æ˜¯åŸºäºå¯„å­˜å™¨çš„æŒ‡ä»¤é›†æ¶æ„ã€‚ åŒºåˆ«: Â·åŸºäºæ ˆå¼æ¶æ„çš„ç‰¹ç‚¹è®¾è®¡å’Œå®ç°æ›´ç®€å•ï¼Œé€‚ç”¨äºèµ„æºå—é™çš„ç³»ç»Ÿ;é¿å¼€äº†å¯„å­˜å™¨çš„åˆ†é…éš¾é¢˜:ä½¿ç”¨é›¶åœ°å€æŒ‡ä»¤æ–¹å¼åˆ†é…ã€‚æŒ‡ä»¤æµä¸­çš„æŒ‡ä»¤å¤§éƒ¨åˆ†æ˜¯é›¶åœ°å€æŒ‡ä»¤ï¼Œå…¶æ‰§è¡Œè¿‡ç¨‹ä¾èµ–äºæ“ä½œæ ˆã€‚æŒ‡ä»¤é›†æ›´å°ï¼Œç¼–è¯‘å™¨å®¹æ˜“å®ç°ã€‚ä¸éœ€è¦ç¡¬ä»¶æ”¯æŒï¼Œå¯ç§»æ¤æ€§æ›´å¥½ï¼Œæ›´å¥½å®ç°è·¨å¹³å° åŸºäºå¯„å­˜å™¨æ¶æ„çš„ç‰¹ç‚¹å…¸å‹çš„åº”ç”¨æ˜¯x86çš„äºŒè¿›åˆ¶æŒ‡ä»¤é›†:æ¯”å¦‚ä¼ ç»Ÿçš„pcä»¥åŠAndroidçš„Davlikè™šæ‹Ÿæœºã€‚æŒ‡ä»¤é›†æ¶æ„åˆ™å®Œå…¨ä¾èµ–ç¡¬ä»¶,å¯ç§»æ¤æ€§å·®æ€§èƒ½ä¼˜ç§€å’Œæ‰§è¡Œæ›´é«˜æ•ˆ;èŠ±è´¹æ›´å°‘çš„æŒ‡ä»¤å»å®Œæˆä¸€é¡¹æ“ä½œã€‚åœ¨å¤§éƒ¨åˆ†æƒ…å†µä¸‹ï¼ŒåŸºäºå¯„å­˜å™¨æ¶æ„çš„æŒ‡ä»¤é›†å¾€å¾€éƒ½ä»¥ä¸€åœ°å€æŒ‡ä»¤ã€äºŒåœ°å€æŒ‡ä»¤å’Œä¸‰åœ°å€æŒ‡ä»¤ä¸ºä¸»ï¼Œè€ŒåŸºäºæ ˆå¼æ¶æ„çš„æŒ‡ä»¤é›†å´æ˜¯ä»¥é›¶åœ°å€æŒ‡ä»¤ä¸ºä¸»ã€‚ æ€»ç»“:ç”±äºè·¨å¹³å°æ€§çš„è®¾è®¡ï¼ŒJavaçš„æŒ‡ä»¤éƒ½æ˜¯æ ¹æ®æ ˆæ¥è®¾è®¡çš„ã€‚ä¸åŒå¹³å°CPuæ¶æ„ä¸åŒï¼Œæ‰€ä»¥ä¸èƒ½è®¾è®¡ä¸ºåŸºäºå¯„å­˜å™¨çš„ã€‚ä¼˜ç‚¹æ˜¯è·¨å¹³å°ï¼ŒæŒ‡ä»¤é›†å°ï¼Œç¼–è¯‘å™¨å®¹æ˜“å®ç°ï¼Œç¼ºç‚¹æ˜¯æ€§èƒ½ä¸‹é™ï¼Œå®ç°åŒæ ·çš„åŠŸèƒ½éœ€è¦æ›´å¤šçš„æŒ‡ä»¤ã€‚æ—¶è‡³ä»Šæ—¥ï¼Œå°½ç®¡åµŒå…¥å¼å¹³å°å·²ç»ä¸æ˜¯Javaç¨‹åºçš„ä¸»æµè¿è¡Œå¹³å°äº†ï¼ˆå‡†ç¡®çš„æ¥è¯´HotSpotVMçš„å®¿ä¸»ç¯å¢ƒå·²ç»ä¸å±€é™äºåµŒå…¥å¼å¹³å°äº†)ï¼Œé‚£ä¹ˆä¸ºä»€ä¹ˆä¸å°†æ¶æ„æ›´æ¢ä¸ºåŸºäºå¯„å­˜å™¨çš„æ¶æ„å‘¢?æ ˆ:è·¨å¹³å°æ€§ã€æŒ‡ä»¤é›†å°ã€æŒ‡ä»¤å¤š;æ‰§è¡Œæ€§èƒ½æ¯”å¯„å­˜å™¨å·® JVMç”Ÿå‘½å‘¨æœŸå¯åŠ¨Javaè™šæ‹Ÿæœºçš„å¯åŠ¨æ˜¯é€šè¿‡å¼•å¯¼ç±»åŠ è½½å™¨(bootstrap class loader)åˆ›å»ºä¸€ä¸ªåˆå§‹ç±»(initial class)æ¥å®Œæˆçš„ï¼Œè¿™ä¸ªç±»æ˜¯ç”±è™šæ‹Ÿæœºçš„å…·ä½“å®ç°æŒ‡å®šçš„ æ‰§è¡Œä¸€ä¸ªè¿è¡Œä¸­çš„Javaè™šæ‹Ÿæœºæœ‰ç€ä¸€ä¸ªæ¸…æ™°çš„ä»»åŠ¡:æ‰§è¡ŒJavaç¨‹åºã€‚ç¨‹åºå¼€å§‹æ‰§è¡Œæ—¶ä»–æ‰è¿è¡Œï¼Œç¨‹åºç»“æŸæ—¶ä»–å°±åœæ­¢ã€‚æ‰§è¡Œä¸€ä¸ªæ‰€è°“çš„Javaç¨‹åºçš„æ—¶å€™ï¼ŒçœŸçœŸæ­£æ­£åœ¨æ‰§è¡Œçš„æ˜¯ä¸€ä¸ªå«åšJavaè™šæ‹Ÿæœºçš„è¿›ç¨‹ã€‚ é€€å‡ºæœ‰å¦‚ä¸‹çš„å‡ ç§æƒ…å†µ:ã€‚ç¨‹åºæ­£å¸¸æ‰§è¡Œç»“æŸÂ·ç¨‹åºåœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­é‡åˆ°äº†å¼‚å¸¸æˆ–é”™è¯¯è€Œå¼‚å¸¸ç»ˆæ­¢Â·ç”±äºæ“ä½œç³»ç»Ÿå‡ºç°é”™è¯¯è€Œå¯¼è‡´Javaè™šæ‹Ÿæœºè¿›ç¨‹ç»ˆæ­¢Â·æŸçº¿ç¨‹è°ƒç”¨Runtimeç±»æˆ–systemç±»çš„exitæ–¹æ³•ï¼Œæˆ–Runtimeç±»çš„haltæ–¹æ³•ï¼Œå¹¶ä¸”Javaå®‰å…¨ç®¡ç†å™¨ä¹Ÿå…è®¸è¿™æ¬¡exitæˆ–haltæ“ä½œã€‚Â·é™¤æ­¤ä¹‹å¤–ï¼ŒJNI ( Java Native Interface)è§„èŒƒæè¿°äº†ç”¨JNI Invocation APIæ¥åŠ è½½æˆ–å¸è½½Javaè™šæ‹Ÿæœºæ—¶ï¼ŒJavaè™šæ‹Ÿæœºçš„é€€å‡ºæƒ…å†µã€‚ JVMå‘å±•å†ç¨‹SUN Classic VMÂ·æ—©åœ¨1996å¹´Java1.0ç‰ˆæœ¬çš„æ—¶å€™ï¼Œsunå…¬å¸å‘å¸ƒäº†ä¸€æ¬¾åä¸ºSun Classic VMçš„Javaè™šæ‹Ÿæœºï¼Œå®ƒåŒæ—¶ä¹Ÿæ˜¯ä¸–ç•Œä¸Šç¬¬ä¸€æ¬¾å•†ç”¨Javaè™šæ‹Ÿæœºï¼ŒJDK1.4æ—¶å®Œå…¨è¢«æ·˜æ±°ã€‚Â·è¿™æ¬¾è™šæ‹Ÿæœºå†…éƒ¨åªæä¾›è§£é‡Šå™¨ã€‚Â·å¦‚æœä½¿ç”¨JITç¼–è¯‘å™¨ï¼Œå°±éœ€è¦è¿›è¡Œå¤–æŒ‚ã€‚ä½†æ˜¯ä¸€æ—¦ä½¿ç”¨äº†JITç¼–è¯‘å™¨JITå°±ä¼šæ¥ç®¡è™šæ‹Ÿæœºçš„æ‰§è¡Œç³»ç»Ÿã€‚è§£é‡Šå™¨å°±ä¸å†å·¥ä½œã€‚è§£é‡Šå™¨å’Œç¼–è¯‘å™¨ä¸èƒ½é…åˆå·¥ä½œã€‚Â·ç°åœ¨hotspotå†…ç½®äº†æ­¤è™šæ‹Ÿæœºã€‚ Exact VMÂ·ä¸ºäº†è§£å†³ä¸Šä¸€ä¸ªè™šæ‹Ÿæœºé—®é¢˜ï¼Œjdk1.2æ—¶ï¼Œsunæä¾›äº†æ­¤è™šæ‹Ÿæœºã€‚Exact Memory Management:å‡†ç¡®å¼å†…å­˜ç®¡ç†Â·ä¹Ÿå¯ä»¥å«Non-conservative/Accurate Memory Managementï¼šè™šæ‹Ÿæœºå¯ä»¥çŸ¥é“å†…å­˜ä¸­æŸä¸ªä½ç½®çš„æ•°æ®å…·ä½“æ˜¯ä»€ä¹ˆç±»å‹ã€‚å…·å¤‡ç°ä»£é«˜æ€§èƒ½è™šæ‹Ÿæœºçš„é›å½¢Â·çƒ­ç‚¹æ¢æµ‹Â·ç¼–è¯‘å™¨ä¸è§£é‡Šå™¨æ··åˆå·¥ä½œæ¨¡å¼Iåªåœ¨solariså¹³å°çŸ­æš‚ä½¿ç”¨ï¼Œå…¶ä»–å¹³å°ä¸Šè¿˜æ˜¯classic vmÂ·è‹±é›„æ°”çŸ­ï¼Œç»ˆè¢«Hotspotè™šæ‹Ÿæœºæ›¿æ¢ SUNå…¬å¸çš„ HotSpot VMHotSpotå†å²Â·æœ€åˆç”±ä¸€å®¶åä¸ºâ€œLongview Technologiesâ€çš„å°å…¬å¸è®¾è®¡1997å¹´ï¼Œæ­¤å…¬å¸è¢«sunæ”¶è´­;2009å¹´ï¼Œsunå…¬å¸è¢«ç”²éª¨æ–‡æ”¶è´­ã€‚Â·JDK1.3æ—¶ï¼ŒHotSpot VMæˆä¸ºé»˜è®¤è™šæ‹ŸæœºÂ·ç›®å‰Hotspotå æœ‰ç»å¯¹çš„å¸‚åœºåœ°ä½ï¼Œç§°éœ¸æ­¦æ—ã€‚ ä¸ç®¡æ˜¯ç°åœ¨ä»åœ¨å¹¿æ³›ä½¿ç”¨çš„JDK6ï¼Œè¿˜æ˜¯ä½¿ç”¨æ¯”ä¾‹è¾ƒå¤šçš„JDK8ä¸­ï¼Œé»˜è®¤çš„è™šæ‹Ÿæœºéƒ½æ˜¯HotSpot sun/ oracle JDK å’Œ OpenJDKçš„é»˜è®¤è™šæ‹Ÿæœº å› æ­¤æœ¬è¯¾ç¨‹ä¸­é»˜è®¤ä»‹ç»çš„è™šæ‹Ÿæœºéƒ½æ˜¯HotSpotï¼Œç›¸å…³æœºåˆ¶ä¹Ÿä¸»è¦æ˜¯æŒ‡HotSpotçš„GCæœºåˆ¶ã€‚(æ¯”å¦‚å…¶ä»–ä¸¤ä¸ªå•†ç”¨è™šæ‹Ÿæœºéƒ½æ²¡æœ‰æ–¹æ³•åŒºçš„æ¦‚å¿µ)Â·ä»æœåŠ¡å™¨ã€æ¡Œé¢åˆ°ç§»åŠ¨ç«¯ã€åµŒå…¥å¼éƒ½æœ‰åº”ç”¨ã€‚Â·åç§°ä¸­çš„HotSpotæŒ‡çš„å°±æ˜¯å®ƒçš„çƒ­ç‚¹ä»£ç æ¢æµ‹æŠ€æœ¯ã€‚ é€šè¿‡è®¡æ•°å™¨æ‰¾åˆ°æœ€å…·ç¼–è¯‘ä»·å€¼ä»£ç ï¼Œè§¦å‘å³æ—¶ç¼–è¯‘æˆ–æ ˆä¸Šæ›¿æ¢ é€šè¿‡ç¼–è¯‘å™¨ä¸è§£é‡Šå™¨ååŒå·¥ä½œï¼Œåœ¨æœ€ä¼˜åŒ–çš„ç¨‹åºå“åº”æ—¶é—´ä¸æœ€ä½³æ‰§è¡Œæ€§èƒ½ä¸­å–å¾—å¹³è¡¡ BEA çš„JRockitÂ·ä¸“æ³¨äºæœåŠ¡å™¨ç«¯åº”ç”¨ å®ƒå¯ä»¥ä¸å¤ªå…³æ³¨ç¨‹åºå¯åŠ¨é€Ÿåº¦ï¼Œå› æ­¤JRockitå†…éƒ¨ä¸åŒ…å«è§£æå™¨å®ç°ï¼Œå…¨éƒ¨ä»£ç éƒ½é å³æ—¶ç¼–è¯‘å™¨ç¼–è¯‘åæ‰§è¡Œã€‚Â·å¤§é‡çš„è¡Œä¸šåŸºå‡†æµ‹è¯•æ˜¾ç¤ºï¼ŒJRockit JVMæ˜¯ä¸–ç•Œä¸Šæœ€å¿«çš„JVMã€‚ä½¿ç”¨JRockitäº§å“ï¼Œå®¢æˆ·å·²ç»ä½“éªŒåˆ°äº†æ˜¾è‘—çš„æ€§èƒ½æé«˜ï¼ˆä¸€äº›è¶…è¿‡äº†70% ï¼‰å’Œç¡¬ä»¶æˆæœ¬çš„å‡å°‘(è¾¾50%ï¼‰ã€‚Â·ä¼˜åŠ¿:å…¨é¢çš„Javaè¿è¡Œæ—¶è§£å†³æ–¹æ¡ˆç»„åˆJRockité¢å‘å»¶è¿Ÿæ•æ„Ÿå‹åº”ç”¨çš„è§£å†³æ–¹æ¡ˆJRockit Real Timeæä¾›ä»¥æ¯«ç§’æˆ–å¾®ç§’çº§çš„JVMå“åº”æ—¶é—´ï¼Œé€‚åˆè´¢åŠ¡ã€å†›äº‹æŒ‡æŒ¥ã€ç”µä¿¡ç½‘ç»œçš„éœ€è¦MissionControlæœåŠ¡å¥—ä»¶ï¼Œå®ƒæ˜¯ä¸€ç»„ä»¥æä½çš„å¼€é”€æ¥ç›‘æ§ã€ç®¡ç†å’Œåˆ†æç”Ÿäº§ç¯å¢ƒä¸­çš„åº”ç”¨ç¨‹åºçš„å·¥å…·ã€‚ 2008å¹´ï¼ŒBEAè¢«oracleæ”¶è´­ã€‚oracleè¡¨è¾¾äº†æ•´åˆä¸¤å¤§ä¼˜ç§€è™šæ‹Ÿæœºçš„å·¥ä½œï¼Œå¤§è‡´åœ¨JDK 8ä¸­å®Œæˆã€‚æ•´åˆçš„æ–¹å¼æ˜¯åœ¨HotSpotçš„åŸºç¡€ä¸Šï¼Œç§»æ¤JRockitçš„ä¼˜ç§€ç‰¹æ€§ã€‚Â·é«˜æ–¯æ—:ç›®å‰å°±èŒäºè°·æ­Œï¼Œç ”ç©¶äººå·¥æ™ºèƒ½å’Œæ°´ä¸‹æœºå™¨äºº IBM çš„J9å…¨ç§°:IBM Technology for Java virtual Machineï¼Œç®€ç§°IT4Jï¼Œå†…éƒ¨ä»£å·:J9Â·å¸‚åœºå®šä½ä¸HotSpotæ¥è¿‘ï¼ŒæœåŠ¡å™¨ç«¯ã€æ¡Œé¢åº”ç”¨ã€åµŒå…¥å¼ç­‰å¤šç”¨é€”VMã€‚Â·å¹¿æ³›ç”¨äºIBMçš„å„ç§Javaäº§å“ã€‚Â·ç›®å‰ï¼Œæœ‰å½±å“åŠ›çš„ä¸‰å¤§å•†ç”¨è™šæ‹Ÿæœºä¹‹ä¸€ï¼Œä¹Ÿå·ç§°æ˜¯ä¸–ç•Œä¸Šæœ€å¿«çš„Javaè™šæ‹Ÿæœºã€‚Â·2017å¹´å·¦å³ï¼ŒIBMå‘å¸ƒäº†å¼€æºJ9 VMï¼Œå‘½åä¸ºopenJ9ï¼Œäº¤ç»™EclipseåŸºé‡‘ä¼šç®¡ç†ï¼Œä¹Ÿç§°ä¸ºEclipse OpenJ9 KVMå’ŒcDC/CL.DC Hotspotoracleåœ¨Java MEäº§å“çº¿ä¸Šçš„ä¸¤æ¬¾è™šæ‹Ÿæœºä¸º:CDC/CLDC HotSpot Implementation VMKVM (Kilobyteï¼‰æ˜¯CLDC-HIæ—©æœŸäº§å“Â·ç›®å‰ç§»åŠ¨é¢†åŸŸåœ°ä½å°´å°¬ï¼Œæ™ºèƒ½æ‰‹æœºè¢«Androidå’ŒioSäºŒåˆ†å¤©ä¸‹ã€‚.KVMç®€å•ã€è½»é‡ã€é«˜åº¦å¯ç§»æ¤ï¼Œé¢å‘æ›´ä½ç«¯çš„è®¾å¤‡ä¸Šè¿˜ç»´æŒè‡ªå·±çš„ä¸€ç‰‡å¸‚åœº æ™ºèƒ½æ§åˆ¶å™¨ã€ä¼ æ„Ÿå™¨I è€äººæ‰‹æœºã€ç»æµæ¬ å‘è¾¾åœ°åŒºçš„åŠŸèƒ½æ‰‹æœº.æ‰€æœ‰çš„è™šæ‹Ÿæœºçš„åŸåˆ™:ä¸€æ¬¡ç¼–è¯‘ï¼Œåˆ°å¤„è¿è¡Œã€‚ Azul VMÂ·å‰é¢ä¸‰å¤§â€œé«˜æ€§èƒ½Javaè™šæ‹Ÿæœºâ€ä½¿ç”¨åœ¨é€šç”¨ç¡¬ä»¶å¹³å°ä¸ŠÂ·è¿™é‡ŒAzul VMå’ŒBEA Liquid VMæ˜¯ä¸ç‰¹å®šç¡¬ä»¶å¹³å°ç»‘å®šã€è½¯ç¡¬ä»¶é…åˆçš„ä¸“æœ‰è™šæ‹Ÿæœº é«˜æ€§èƒ½Javaè™šæ‹Ÿæœºä¸­çš„æˆ˜æ–—æœºã€‚Azul VMæ˜¯Azul systemså…¬å¸åœ¨HotSpotåŸºç¡€ä¸Šè¿›è¡Œå¤§é‡æ”¹è¿›ï¼Œè¿è¡ŒäºAzul systemså…¬å¸çš„ä¸“æœ‰ç¡¬ä»¶vegaç³»ç»Ÿä¸Šçš„Javaè™šæ‹Ÿæœºã€‚Â·æ¯ä¸ªAzul VMå®ä¾‹éƒ½å¯ä»¥ç®¡ç†è‡³å°‘æ•°åä¸ªCPuå’Œæ•°ç™¾GBå†…å­˜çš„ç¡¬ä»¶èµ„æºï¼Œå¹¶æä¾›åœ¨å·¨å¤§å†…å­˜èŒƒå›´å†…å®ç°å¯æ§çš„Gcæ—¶é—´çš„åƒåœ¾æ”¶é›†å™¨ã€ä¸“æœ‰ç¡¬ä»¶ä¼˜åŒ–çš„çº¿ç¨‹è°ƒåº¦ç­‰ä¼˜ç§€ç‰¹æ€§ã€‚2010å¹´ï¼ŒAzul systemså…¬å¸å¼€å§‹ä»ç¡¬ä»¶è½¬å‘è½¯ä»¶ï¼Œå‘å¸ƒäº†è‡ªå·±çš„ZingJVMï¼Œå¯ä»¥åœ¨é€šç”¨x86å¹³å°ä¸Šæä¾›æ¥è¿‘äºVegaç³»ç»Ÿçš„ç‰¹æ€§ã€‚T Liquid VMÂ·é«˜æ€§èƒ½Javaè™šæ‹Ÿæœºä¸­çš„æˆ˜æ–—æœºã€‚Â·BEAå…¬å¸å¼€å‘çš„ï¼Œç›´æ¥è¿è¡Œåœ¨è‡ªå®¶Hypervisorç³»ç»Ÿä¸ŠÂ·Liquid VMå³æ˜¯ç°åœ¨çš„JRockit VE(Virtual Editionï¼‰ ,LiquidVMä¸éœ€è¦æ“ä½œç³»ç»Ÿçš„æ”¯æŒï¼Œæˆ–è€…è¯´å®ƒè‡ªå·±æœ¬èº«å®ç°äº†ä¸€ä¸ªä¸“ç”¨æ“ä½œç³»ç»Ÿçš„å¿…è¦åŠŸèƒ½ï¼Œå¦‚çº¿ç¨‹è°ƒåº¦ã€æ–‡ä»¶ç³»ç»Ÿã€ç½‘ç»œæ”¯æŒç­‰ã€‚Â·éšç€JRockitè™šæ‹Ÿæœºç»ˆæ­¢å¼€å‘ï¼ŒLiquid VMé¡¹ç›®ä¹Ÿåœæ­¢äº†ã€‚ Apache Harmony Apacheä¹Ÿæ›¾ç»æ¨å‡ºè¿‡ä¸JDK 1.5å’ŒJDK 1.6å…¼å®¹çš„Javaè¿è¡Œå¹³å°Apache Harmonyã€‚Â·å®ƒæ˜¯IBMå’ŒIntelè”åˆå¼€å‘çš„å¼€æºJVMï¼Œå—åˆ°åŒæ ·å¼€æºçš„openJDKçš„å‹åˆ¶ï¼Œsunåšå†³ä¸è®©Harmonyè·å¾—JCPè®¤è¯ï¼Œæœ€ç»ˆäº2011å¹´é€€å½¹ï¼ŒIBMè½¬è€Œå‚ä¸OpenJDKÂ·è™½ç„¶ç›®å‰å¹¶æ²¡æœ‰Apache Harmonyè¢«å¤§è§„æ¨¡å•†ç”¨çš„æ¡ˆä¾‹ï¼Œä½†æ˜¯å®ƒçš„Javaç±»åº“ä»£ç å¸çº³è¿›äº†Android SDKã€‚ Microsoft JVMÂ·å¾®è½¯ä¸ºäº†åœ¨IE3æµè§ˆå™¨ä¸­æ”¯æŒJava Appletsï¼Œå¼€å‘äº†Microsoft JVMã€‚Â·åªèƒ½åœ¨windowå¹³å°ä¸‹è¿è¡Œã€‚ä½†ç¡®æ˜¯å½“æ—¶windowsä¸‹æ€§èƒ½æœ€å¥½çš„Java VM.. 1997å¹´ï¼Œsunä»¥ä¾µçŠ¯å•†æ ‡ã€ä¸æ­£å½“ç«äº‰ç½ªåæŒ‡æ§å¾®è½¯æˆåŠŸï¼Œèµ”äº†sunå¾ˆå¤šé’±ã€‚å¾®è½¯åœ¨windowsXP SP3ä¸­æŠ¹æ‰äº†å…¶VMã€‚ç°åœ¨windowsä¸Šå®‰è£…çš„jdkéƒ½æ˜¯HotSpotã€‚l TaobaoJVMÂ·ç”±AliJVMå›¢é˜Ÿå‘å¸ƒã€‚é˜¿é‡Œï¼Œå›½å†…ä½¿ç”¨Javaæœ€å¼ºå¤§çš„å…¬å¸ï¼Œè¦†ç›–äº‘è®¡ç®—ã€é‡‘é›·ç”Ÿåˆ‡ä¸€ç”µå•†ç­‰ä¼—å¤šé¢†åŸŸï¼Œéœ€è¦è§£å†³é«˜å¹¶å‘ã€é«˜å¯ç”¨ã€åˆ†å¸ƒå¼çš„å¤åˆé—®é¢˜ã€‚æœ‰å¤§é‡çš„å¼€æºå¹¿çš„ã€‚Â·åŸºäºopenJDKå¼€å‘äº†è‡ªå·±çš„å®šåˆ¶ç‰ˆæœ¬AlibabaJDKï¼Œç®€ç§°AJDKã€‚æ˜¯æ•´ä¸ªé˜¿é‡ŒJavaä½“ç³»çš„åŸºçŸ³ã€‚Â·åŸºäºopenJDK HotSpot VM å‘å¸ƒçš„å›½å†…ç¬¬ä¸€ä¸ªä¼˜åŒ–ã€æ·±åº¦å®šåˆ¶ä¸”å¼€æºçš„é«˜æ€§èƒ½æœåŠ¡å™¨ç‰ˆJavaè™šæ‹Ÿæœºã€‚ åˆ›æ–°çš„GCIH (Gc invisible heap ï¼‰æŠ€æœ¯å®ç°äº†off-heap ï¼Œå³å°†ç”Ÿå‘½å‘¨æœŸè¾ƒé•¿çš„Javaå¯¹è±¡ä»heapä¸­ç§»åˆ°heapä¹‹å¤–ï¼Œå¹¶ä¸”GCä¸èƒ½ç®¡ç†GCIHå†…éƒ¨çš„Java å¯¹è±¡ï¼Œä»¥æ­¤è¾¾åˆ°é™ä½GCçš„å›æ”¶é¢‘ç‡å’Œæå‡GC çš„å›æ”¶æ•ˆç‡çš„ç›®çš„ã€‚ GCIH ä¸­çš„å¯¹è±¡è¿˜èƒ½å¤Ÿåœ¨å¤šä¸ªJavaè™šæ‹Ÿæœºè¿›ç¨‹ä¸­å®ç°å…±äº« ä½¿ç”¨crc32æŒ‡ä»¤å®ç°JVM intrinsicé™ä½JNI çš„è°ƒç”¨å¼€é”€ PMU hardware çš„Java profiling toolå’Œè¯Šæ–­ååŠ©åŠŸèƒ½ é’ˆå¯¹å¤§æ•°æ®åœºæ™¯çš„ZenGC. taobao vmåº”ç”¨åœ¨é˜¿é‡Œäº§å“ä¸Šæ€§èƒ½é«˜ï¼Œç¡¬ä»¶ä¸¥é‡ä¾èµ–intelçš„cpuï¼ŒæŸå¤±äº†å…¼å®¹æ€§ï¼Œä½†æé«˜äº†æ€§èƒ½ ç›®å‰å·²ç»åœ¨æ·˜å®ã€å¤©çŒ«ä¸Šçº¿ï¼ŒæŠŠoracle å®˜æ–¹JVMç‰ˆæœ¬å…¨éƒ¨æ›¿æ¢äº†ã€‚ Dalvik VM :Â·è°·æ­Œå¼€å‘çš„ï¼Œåº”ç”¨äºAndroidç³»ç»Ÿï¼Œå¹¶åœ¨Android2.2ä¸­æä¾›äº†JITï¼Œå‘å±•è¿…çŒ›ã€‚.Dalvik VMåªèƒ½ç§°ä½œè™šæ‹Ÿæœºï¼Œè€Œä¸èƒ½ç§°ä½œâ€œJavaè™šæ‹Ÿæœºâ€ï¼Œå®ƒæ²¡æœ‰éµå¾ªJavaè™šæ‹Ÿæœºè§„èŒƒÂ·ä¸èƒ½ç›´æ¥æ‰§è¡ŒJava çš„class æ–‡ä»¶Â·åŸºäºå¯„å­˜å™¨æ¶æ„ï¼Œä¸æ˜¯jvmçš„æ ˆæ¶æ„ã€‚Â·æ‰§è¡Œçš„æ˜¯ç¼–è¯‘ä»¥åçš„dex(Dalvik Executableï¼‰æ–‡ä»¶ã€‚æ‰§è¡Œæ•ˆç‡æ¯”è¾ƒé«˜ å®ƒæ‰§è¡Œçš„dex (Dalvik Executableï¼‰æ–‡ä»¶å¯ä»¥é€šè¿‡classæ–‡ä»¶è½¬åŒ–è€Œæ¥ï¼Œä½¿ç”¨Javaè¯­æ³•ç¼–å†™åº”ç”¨ç¨‹åºï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨å¤§éƒ¨åˆ†çš„Java APIç­‰ã€‚Â·Android 5.0ä½¿ç”¨æ”¯æŒæå‰ç¼–è¯‘(Ahead of Time Compilationï¼ŒAOTï¼‰çš„ARTVMæ›¿æ¢Dalvik VMã€‚ Graal VM. 2018å¹´4æœˆï¼Œoracle Labså…¬å¼€äº†Graal VMï¼Œå·ç§°â€Run Programs Faster Anywhereâ€ï¼Œå‹ƒå‹ƒé‡å¿ƒã€‚ä¸1995å¹´javaçš„â€write onceï¼Œrun anywhereâ€é¥ç›¸å‘¼åº”ã€‚Graal VMåœ¨HotSpot VMåŸºç¡€ä¸Šå¢å¼ºè€Œæˆçš„è·¨è¯­è¨€å…¨æ ˆè™šæ‹Ÿæœºï¼Œå¯ä»¥ä½œä¸ºâ€œä»»ä½•è¯­è¨€â€çš„è¿è¡Œå¹³å°ä½¿ç”¨ã€‚è¯­è¨€åŒ…æ‹¬: Javaã€Scalaã€Groovyã€Kotlin;Cã€C++Javascriptã€Rubyã€Pythonã€Rç­‰Â·æ”¯æŒä¸åŒè¯­è¨€ä¸­æ··ç”¨å¯¹æ–¹çš„æ¥å£å’Œå¯¹è±¡ï¼Œæ”¯æŒè¿™äº›è¯­è¨€ä½¿ç”¨å·²ç»ç¼–å†™å¥½çš„æœ¬åœ°åº“æ–‡ä»¶å·¥ä½œåŸç†æ˜¯å°†è¿™äº›è¯­è¨€çš„æºä»£ç æˆ–æºä»£ç ç¼–è¯‘åçš„ä¸­é—´æ ¼å¼ï¼Œé€šè¿‡è§£é‡Šå™¨è½¬æ¢ä¸ºèƒ½è¢«Graal VMæ¥å—çš„ä¸­é—´è¡¨ç¤ºã€‚Graal VMæä¾›Truffleå·¥å…·é›†å¿«é€Ÿæ„å»ºé¢å‘ä¸€ç§æ–°è¯­è¨€çš„è§£é‡Šå™¨ã€‚åœ¨è¿è¡Œæ—¶è¿˜èƒ½è¿›è¡Œå³æ—¶ç¼–è¯‘ä¼˜åŒ–ï¼Œè·å¾—æ¯”åŸç”Ÿç¼–è¯‘å™¨æ›´ä¼˜ç§€çš„æ‰§è¡Œæ•ˆç‡ã€‚å¦‚æœè¯´HotSpotæœ‰ä¸€å¤©çœŸçš„è¢«å–ä»£ï¼ŒGraal VMå¸Œæœ›æœ€å¤§ã€‚ä½†æ˜¯Javaçš„è½¯ä»¶ç”Ÿæ€æ²¡æœ‰ä¸æ¯«å˜åŒ–ã€‚ äºŒã€ç±»åŠ è½½å­ç³»ç»Ÿ1.å†…å­˜ç®€å›¾ 2.ç±»åŠ è½½å™¨â€‹ ç±»åŠ è½½å™¨å­ç³»ç»Ÿè´Ÿè´£ä»æ–‡ä»¶ç³»ç»Ÿæˆ–è€…ç½‘ç»œä¸­åŠ è½½classæ–‡ä»¶ï¼Œclassæ–‡ä»¶åœ¨æ–‡ä»¶å¼€å¤´æœ‰ç‰¹å®šçš„æ–‡ä»¶æ ‡è¯†ã€‚ClassLoaderåªè´Ÿè´£classæ–‡ä»¶çš„åŠ è½½ï¼Œè‡³äºå®ƒæ˜¯å¦å¯ä»¥è¿è¡Œï¼Œåˆ™ç”±ExecutionEngineå†³å®šã€‚åŠ è½½çš„ç±»ä¿¡æ¯å­˜æ”¾äºä¸€å—ç§°ä¸ºæ–¹æ³•åŒºçš„å†…å­˜ç©ºé—´ã€‚é™¤äº†ç±»çš„ä¿¡æ¯å¤–ï¼Œæ–¹æ³•åŒºä¸­è¿˜ä¼šå­˜æ”¾è¿è¡Œæ—¶å¸¸é‡æ± ä¿¡æ¯ï¼Œå¯èƒ½è¿˜åŒ…æ‹¬å­—ç¬¦ä¸²å­—é¢é‡å’Œæ•°å­—å¸¸é‡ï¼ˆè¿™éƒ¨åˆ†å¸¸é‡ä¿¡æ¯æ˜¯Classæ–‡ä»¶ä¸­å¸¸é‡æ± éƒ¨åˆ†çš„å†…å­˜æ˜ å°„) 3.ç±»åŠ è½½å™¨ClassLoaderè§’è‰² class file å­˜åœ¨äºæœ¬åœ°ç¡¬ç›˜ä¸Šï¼Œå¯ä»¥ç†è§£ä¸ºè®¾è®¡å¸ˆç”»åœ¨çº¸ä¸Šçš„æ¨¡æ¿ï¼Œè€Œæœ€ç»ˆè¿™ä¸ªæ¨¡æ¿åœ¨æ‰§è¡Œçš„æ—¶å€™æ˜¯è¦åŠ è½½åˆ°JVMå½“ä¸­æ¥æ ¹æ®è¿™ä¸ªæ–‡ä»¶å®ä¾‹åŒ–å‡ºnä¸ªä¸€æ¨¡ä¸€æ ·çš„å®ä¾‹ã€‚ class file åŠ è½½åˆ°JVMä¸­ï¼Œè¢«ç§°ä¸ºDNAå…ƒæ•°æ®æ¨¡æ¿ï¼Œæ”¾åœ¨æ–¹æ³•åŒºã€‚ åœ¨.classæ–‡ä»¶-&gt; JVM -&gt;æœ€ç»ˆæˆä¸ºå…ƒæ•°æ®æ¨¡æ¿ï¼Œæ­¤è¿‡ç¨‹å°±è¦ä¸€ä¸ªè¿è¾“å·¥å…·(ç±»è£…è½½å™¨class Loader)ï¼Œæ‰®æ¼”ä¸€ä¸ªå¿«é€’å‘˜çš„è§’è‰²ã€‚ è·å–ClassLoaderé€”ç» 4.ç±»åŠ è½½è¿‡ç¨‹ åŠ è½½(Loading):1ï¼é€šè¿‡ä¸€ä¸ªç±»çš„å…¨é™å®šåè·å–å®šä¹‰æ­¤ç±»çš„äºŒè¿›åˆ¶å­—èŠ‚æµ2ï¼å°†è¿™ä¸ªå­—èŠ‚æµæ‰€ä»£è¡¨çš„é™æ€å­˜å‚¨ç»“æ„è½¬åŒ–ä¸ºæ–¹æ³•åŒºçš„è¿è¡Œæ—¶æ•°æ®ç»“æ„3ï¼åœ¨å†…å­˜ä¸­ç”Ÿæˆä¸€ä¸ªä»£è¡¨è¿™ä¸ªç±»çš„ java.lang.Class å¯¹è±¡ï¼Œä½œä¸ºæ–¹æ³•åŒºè¿™ä¸ªç±»çš„å„ç§æ•°æ®çš„è®¿é—®å…¥å£è¡¥å……:åŠ è½½.classæ–‡ä»¶çš„æ–¹å¼Â·ä»æœ¬åœ°ç³»ç»Ÿä¸­ç›´æ¥åŠ è½½Â·é€šè¿‡ç½‘ç»œè·å–ï¼Œå…¸å‹åœºæ™¯: web AppletÂ·ä»zipå‹ç¼©åŒ…ä¸­è¯»å–ï¼Œæˆä¸ºæ—¥åjarã€ waræ ¼å¼çš„åŸºç¡€Â·è¿è¡Œæ—¶è®¡ç®—ç”Ÿæˆï¼Œä½¿ç”¨æœ€å¤šçš„æ˜¯:åŠ¨æ€ä»£ç†æŠ€æœ¯Â·ç”±å…¶ä»–æ–‡ä»¶ç”Ÿæˆï¼Œå…¸å‹åœºæ™¯:JSPåº”ç”¨Â·ä»ä¸“æœ‰æ•°æ®åº“ä¸­æå–.classæ–‡ä»¶,æ¯”è¾ƒå°‘è§Â·ä»åŠ å¯†æ–‡ä»¶ä¸­è·å–ï¼Œå…¸å‹çš„é˜²classæ–‡ä»¶è¢«åç¼–è¯‘çš„ä¿æŠ¤æªæ–½ é“¾æ¥éªŒè¯(Verify):Â·ç›®çš„åœ¨äºç¡®ä¿classæ–‡ä»¶çš„å­—èŠ‚æµä¸­åŒ…å«ä¿¡æ¯ç¬¦åˆå½“å‰è™šæ‹Ÿæœºè¦æ±‚ï¼Œä¿è¯è¢«åŠ è½½ç±»çš„æ­£ç¡®æ€§ï¼Œä¸ä¼šå±å®³è™šæ‹Ÿæœºè‡ªèº«å®‰å…¨ã€‚Â·ä¸»è¦åŒ…æ‹¬å››ç§éªŒè¯ï¼Œæ–‡ä»¶æ ¼å¼éªŒè¯ï¼Œå…ƒæ•°æ®éªŒè¯ï¼Œå­—èŠ‚ç éªŒè¯ï¼Œç¬¦å·å¼•ç”¨éªŒè¯ã€‚ å‡†å¤‡(Prepare):Â·ä¸ºç±»å˜é‡åˆ†é…å†…å­˜å¹¶ä¸”è®¾ç½®è¯¥ç±»å˜é‡çš„é»˜è®¤åˆå§‹å€¼ï¼Œå³é›¶å€¼ã€‚è¿™é‡Œä¸åŒ…å«ç”¨finalä¿®é¥°çš„staticï¼Œå› ä¸ºfinalåœ¨ç¼–è¯‘çš„æ—¶å€™å°±ä¼šåˆ†é…äº†ï¼Œå‡†å¤‡é˜¶æ®µä¼šæ˜¾å¼é“¾åˆå§‹åŒ–;Â·è¿™é‡Œä¸ä¼šä¸ºå®ä¾‹å˜é‡åˆ†é…åˆå§‹åŒ–ï¼Œç±»å˜é‡ä¼šåˆ†é…åœ¨æ–¹æ³•åŒºä¸­ï¼Œè€Œå®ä¾‹å˜é‡æ˜¯ä¼šéšç€å¯¹è±¡ä¸€èµ·åˆ†é…åˆ°Javaå †ä¸­ã€‚ è§£æ(Resolve) :Â·å°†å¸¸é‡æ± å†…çš„ç¬¦å·å¼•ç”¨è½¬æ¢ä¸ºç›´æ¥å¼•ç”¨çš„è¿‡ç¨‹ã€‚Â·äº‹å®ä¸Šï¼Œè§£ææ“ä½œå¾€å¾€ä¼šä¼´éšç€JVMåœ¨æ‰§è¡Œå®Œåˆå§‹åŒ–ä¹‹åå†æ‰§è¡Œã€‚Â·ç¬¦å·å¼•ç”¨å°±æ˜¯ä¸€ç»„ç¬¦å·æ¥æè¿°æ‰€å¼•ç”¨çš„ç›®æ ‡ã€‚ç¬¦å·å¼•ç”¨çš„å­—é¢é‡å½¢å¼æ˜ç¡®å®šä¹‰åœ¨ã€Šjavaè™šæ‹Ÿæœºè§„èŒƒã€‹çš„classæ–‡ä»¶æ ¼å¼ä¸­ã€‚ç›´æ¥å¼•ç”¨å°±æ˜¯ç›´æ¥æŒ‡å‘ç›®æ ‡çš„æŒ‡é’ˆã€ç›¸å¯¹åç§»é‡æˆ–ä¸€ä¸ªé—´æ¥å®šä½åˆ°ç›®æ ‡çš„å¥æŸ„ã€‚Â·è§£æåŠ¨ä½œä¸»è¦é’ˆå¯¹ç±»æˆ–æ¥å£ã€å­—æ®µã€ç±»æ–¹æ³•ã€æ¥å£æ–¹æ³•ã€æ–¹æ³•ç±»å‹ç­‰ã€‚å¯¹åº”å¸¸é‡æ± ä¸­çš„ CONSTANT Class infoã€CONSTANT Fieldref_infoã€CONSTANT _Methodref_infoç­‰.ã€‚ åˆå§‹åŒ–:Â·åˆå§‹åŒ–é˜¶æ®µå°±æ˜¯æ‰§è¡Œç±»æ„é€ å™¨æ–¹æ³• ()çš„è¿‡ç¨‹ã€‚Â·æ­¤æ–¹æ³•ä¸éœ€å®šä¹‰ï¼Œæ˜¯javacç¼–è¯‘å™¨è‡ªåŠ¨æ”¶é›†ç±»ä¸­çš„æ‰€æœ‰ç±»å˜é‡çš„èµ‹å€¼åŠ¨ä½œå’Œé™æ€ä»£ç å—ä¸­çš„è¯­å¥åˆå¹¶è€Œæ¥ã€‚Â·æ„é€ å™¨æ–¹æ³•ä¸­æŒ‡ä»¤æŒ‰è¯­å¥åœ¨æºæ–‡ä»¶ä¸­å‡ºç°çš„é¡ºåºæ‰§è¡Œã€‚. ()ä¸åŒäºç±»çš„æ„é€ å™¨ã€‚(å…³è”:æ„é€ å™¨æ˜¯è™šæ‹Ÿæœºè§†è§’ä¸‹çš„( ))Â·è‹¥è¯¥ç±»å…·æœ‰çˆ¶ç±»ï¼ŒJVMä¼šä¿è¯å­ç±»çš„()æ‰§è¡Œå‰ï¼Œçˆ¶ç±»çš„ ()å·²ç»æ‰§è¡Œå®Œæ¯•ã€‚Â·è™šæ‹Ÿæœºå¿…é¡»ä¿è¯ä¸€ä¸ªç±»çš„ ()æ–¹æ³•åœ¨å¤šçº¿ç¨‹ä¸‹è¢«åŒæ­¥åŠ é”ã€‚ 5.ç±»åŠ è½½å™¨åˆ†ç±»JVMæ”¯æŒä¸¤ç§ç±»å‹çš„ç±»åŠ è½½å™¨ï¼Œåˆ†åˆ«ä¸ºå¼•å¯¼ç±»åŠ è½½å™¨ï¼ˆBootstrap ClassLoaderï¼‰å’Œè‡ªå®šä¹‰ç±»åŠ è½½å™¨(User-Defined ClassLoader)ã€‚Â·ä»æ¦‚å¿µä¸Šæ¥è®²ï¼Œè‡ªå®šä¹‰ç±»åŠ è½½å™¨ä¸€èˆ¬æŒ‡çš„æ˜¯ç¨‹åºä¸­ç”±å¼€å‘äººå‘˜è‡ªå®šä¹‰çš„ä¸€ç±»ç±»åŠ è½½å™¨ï¼Œä½†æ˜¯Javaè™šæ‹Ÿæœºè§„èŒƒå´æ²¡æœ‰è¿™ä¹ˆå®šä¹‰ï¼Œè€Œæ˜¯å°†æ‰€æœ‰æ´¾ç”ŸäºæŠ½è±¡ç±»ClassLoaderçš„ç±»åŠ è½½å™¨éƒ½åˆ’åˆ†ä¸ºè‡ªå®šä¹‰ç±»åŠ è½½å™¨ã€‚Â·æ— è®ºç±»åŠ è½½å™¨çš„ç±»å‹å¦‚ä½•åˆ’åˆ†ï¼Œåœ¨ç¨‹åºä¸­æˆ‘ä»¬æœ€å¸¸è§çš„ç±»åŠ è½½å™¨å§‹ç»ˆåªæœ‰3ä¸ªï¼Œå¦‚ä¸‹æ‰€ç¤º: è™šæ‹Ÿæœºè‡ªå¸¦çš„åŠ è½½å™¨ Â·å¯åŠ¨ç±»åŠ è½½å™¨ï¼ˆå¼•å¯¼ç±»åŠ è½½å™¨ï¼ŒBootstrap classLoader)è¿™ä¸ªç±»åŠ è½½ä½¿ç”¨C/C++è¯­è¨€å®ç°çš„ï¼ŒåµŒå¥—åœ¨JVMå†…éƒ¨ã€‚å®ƒç”¨æ¥åŠ è½½Javaçš„æ ¸å¿ƒåº“ï¼ˆJAVA HOME/jre/lib/rt.jarã€resources.jaræˆ–sun.boot.class.pathè·¯å¾„ä¸‹çš„å†…å®¹ï¼‰ï¼Œç”¨äºæä¾›JVMè‡ªèº«éœ€è¦çš„ç±»å¹¶ä¸ç»§æ‰¿è‡ªjava.lang.classLoaderï¼Œæ²¡æœ‰çˆ¶åŠ è½½å™¨ã€‚åŠ è½½æ‰©å±•ç±»å’Œåº”ç”¨ç¨‹åºç±»åŠ è½½å™¨ï¼Œå¹¶æŒ‡å®šä¸ºä»–ä»¬çš„çˆ¶ç±»åŠ è½½å™¨ã€‚å‡ºäºå®‰å…¨è€ƒè™‘ï¼ŒBootstrapå¯åŠ¨ç±»åŠ è½½å™¨åªåŠ è½½åŒ…åä¸ºjavaã€javaxã€sunç­‰å¼€å¤´çš„ç±» Â·æ‰©å±•ç±»åŠ è½½å™¨ï¼ˆExtension ClassLoader)Javaè¯­è¨€ç¼–å†™ï¼Œç”±sun.misc.Launcher$ExtClassLoaderå®ç°ã€‚æ´¾ç”ŸäºclassLoaderç±»çˆ¶ç±»åŠ è½½å™¨ä¸ºå¯åŠ¨ç±»åŠ è½½å™¨ä»java.ext.dirsç³»ç»Ÿå±æ€§æ‰€æŒ‡å®šçš„ç›®å½•ä¸­åŠ è½½ç±»åº“ï¼Œæˆ–ä»JDKçš„å®‰è£…ç›®å½•çš„jre/lib/extå­ç›®å½•ï¼ˆæ‰©å±•ç›®å½•)ä¸‹åŠ è½½ç±»åº“ã€‚å¦‚æœç”¨æˆ·åˆ›å»ºçš„JARæ”¾åœ¨æ­¤ç›®å½•ä¸‹ï¼Œä¹Ÿä¼šè‡ªåŠ¨ç”±æ‰©å±•ç±»åŠ è½½å™¨åŠ è½½ã€‚ Â·åº”ç”¨ç¨‹åºç±»åŠ è½½å™¨ï¼ˆç³»ç»Ÿç±»åŠ è½½å™¨ï¼ŒAppClassLoader)javaè¯­è¨€ç¼–å†™ï¼Œç”±sun.misc.Launcher$AppclassLoaderå®ç°&gt;æ´¾ç”ŸäºclassLoaderç±»çˆ¶ç±»åŠ è½½å™¨ä¸ºæ‰©å±•ç±»åŠ è½½å™¨å®ƒè´Ÿè´£åŠ è½½ç¯å¢ƒå˜é‡classpathæˆ–ç³»ç»Ÿå±æ€§java.class.pathæŒ‡å®šè·¯å¾„ä¸‹çš„ç±»åº“è¯¥ç±»åŠ è½½æ˜¯ç¨‹åºä¸­é»˜è®¤çš„ç±»åŠ è½½å™¨ï¼Œä¸€èˆ¬æ¥è¯´ï¼ŒJavaåº”ç”¨çš„ç±»éƒ½æ˜¯ç”±å®ƒæ¥å®ŒæˆåŠ è½½é€šè¿‡classLoader#getSystemClassLoader ()æ–¹æ³•å¯ä»¥è·å–åˆ°è¯¥ç±»åŠ è½½å™¨ ç”¨æˆ·è‡ªå®šä¹‰ç±»åŠ è½½å™¨Â·åœ¨Javaçš„æ—¥å¸¸åº”ç”¨ç¨‹åºå¼€å‘ä¸­ï¼Œç±»çš„åŠ è½½å‡ ä¹æ˜¯ç”±ä¸Šè¿°3ç§ç±»åŠ è½½å™¨ç›¸äº’é…åˆæ‰§è¡Œçš„ï¼Œåœ¨å¿…è¦æ—¶ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥è‡ªå®šä¹‰ç±»åŠ è½½å™¨ï¼Œæ¥å®šåˆ¶ç±»çš„åŠ è½½æ–¹å¼ã€‚.ä¸ºä»€ä¹ˆè¦è‡ªå®šä¹‰ç±»åŠ è½½å™¨?éš”ç¦»åŠ è½½ç±»ä¿®æ”¹ç±»åŠ è½½çš„æ–¹å¼æ‰©å±•åŠ è½½æºé˜²æ­¢æºç æ³„æ¼ ç”¨æˆ·è‡ªå®šä¹‰ç±»åŠ è½½å™¨å®ç°æ­¥éª¤:1.å¼€å‘äººå‘˜å¯ä»¥é€šè¿‡ç»§æ‰¿æŠ½è±¡ç±»java.lang.classLoaderç±»çš„æ–¹å¼ï¼Œå®ç°è‡ªå·±çš„ç±»åŠ è½½å™¨ï¼Œä»¥æ»¡è¶³ä¸€äº›ç‰¹æ®Šçš„éœ€æ±‚2.åœ¨JDK1.2ä¹‹å‰ï¼Œåœ¨è‡ªå®šä¹‰ç±»åŠ è½½å™¨æ—¶ï¼Œæ€»ä¼šå»ç»§æ‰¿classLoaderç±»å¹¶é‡å†™loadClass ()æ–¹æ³•ï¼Œä»è€Œå®ç°è‡ªå®šä¹‰çš„ç±»åŠ è½½ç±»ï¼Œä½†æ˜¯åœ¨JDK1.2ä¹‹åå·²ä¸å†å»ºè®®ç”¨æˆ·å»è¦†ç›–loadclass ()æ–¹æ³•ï¼Œè€Œæ˜¯å»ºè®®æŠŠè‡ªå®šä¹‰çš„ç±»åŠ è½½é€»è¾‘å†™åœ¨findclass ()æ–¹æ³•ä¸­3ï¼åœ¨ç¼–å†™è‡ªå®šä¹‰ç±»åŠ è½½å™¨æ—¶ï¼Œå¦‚æœæ²¡æœ‰å¤ªè¿‡äºå¤æ‚çš„éœ€æ±‚ï¼Œå¯ä»¥ç›´æ¥ç»§æ‰¿URLClassLoaderç±»ï¼Œè¿™æ ·å°±å¯ä»¥é¿å…è‡ªå·±å»ç¼–å†™findclass ()æ–¹æ³•åŠå…¶è·å–å­—èŠ‚ç æµçš„æ–¹å¼ï¼Œä½¿è‡ªå®šä¹‰ç±»åŠ è½½å™¨ç¼–å†™æ›´åŠ ç®€æ´ã€‚ 6.åŒäº²å§”æ´¾æœºåˆ¶â€‹ Javaè™šæ‹Ÿæœºå¯¹classæ–‡ä»¶é‡‡ç”¨çš„æ˜¯æŒ‰éœ€åŠ è½½çš„æ–¹å¼ï¼Œä¹Ÿå°±æ˜¯è¯´å½“éœ€è¦ä½¿ç”¨è¯¥ç±»æ—¶æ‰ä¼šå°†å®ƒçš„classæ–‡ä»¶åŠ è½½åˆ°å†…å­˜ç”Ÿæˆclasså¯¹è±¡ã€‚è€Œä¸”åŠ è½½æŸä¸ªç±»çš„classæ–‡ä»¶æ—¶ï¼ŒJavaè™šæ‹Ÿæœºé‡‡ç”¨çš„æ˜¯åŒäº²å§”æ´¾æ¨¡å¼ï¼Œå³æŠŠè¯·æ±‚äº¤ç”±çˆ¶ç±»å¤„ç†,å®ƒæ˜¯ä¸€ç§ä»»åŠ¡å§”æ´¾æ¨¡å¼ã€‚ å·¥ä½œåŸç†1)å¦‚æœä¸€ä¸ªç±»åŠ è½½å™¨æ”¶åˆ°äº†ç±»åŠ è½½è¯·æ±‚ï¼Œå®ƒå¹¶ä¸ä¼šè‡ªå·±å…ˆå»åŠ è½½ï¼Œè€Œæ˜¯æŠŠè¿™ä¸ªè¯·æ±‚å§”æ‰˜ç»™çˆ¶ç±»çš„åŠ è½½å™¨å»æ‰§è¡Œ;2)å¦‚æœçˆ¶ç±»åŠ è½½å™¨è¿˜å­˜åœ¨å…¶çˆ¶ç±»åŠ è½½å™¨ï¼Œåˆ™è¿›ä¸€æ­¥å‘ä¸Šå§”æ‰˜ï¼Œä¾æ¬¡é€’å½’ï¼Œè¯·æ±‚æœ€ç»ˆå°†åˆ°è¾¾é¡¶å±‚çš„å¯åŠ¨ç±»åŠ è½½å™¨;3)å¦‚æœçˆ¶ç±»åŠ è½½å™¨å¯ä»¥å®Œæˆç±»åŠ è½½ä»»åŠ¡ï¼Œå°±æˆåŠŸè¿”å›ï¼Œå€˜è‹¥çˆ¶ç±»åŠ è½½å™¨æ— æ³•å®Œæˆæ­¤åŠ è½½ä»»åŠ¡ï¼Œå­åŠ è½½å™¨æ‰ä¼šå°è¯•è‡ªå·±å»åŠ è½½ï¼Œè¿™å°±æ˜¯åŒäº²å§”æ´¾æ¨¡å¼ã€‚ åŒäº²å§”æ´¾ä¼˜åŠ¿é¿å…ç±»çš„é‡å¤åŠ è½½ä¿æŠ¤ç¨‹åºå®‰å…¨ï¼Œé˜²æ­¢æ ¸å¿ƒAPIè¢«éšæ„ç¯¡æ”¹ è‡ªå®šä¹‰ç±»:java. lang. string è‡ªå®šä¹‰ç±»: java . lang. shkStartjava.lang. securityException: Prohibited package name: java.lang æ²™ç®±å®‰å…¨æœºåˆ¶â€‹ è‡ªå®šä¹‰stringç±»ï¼Œä½†æ˜¯åœ¨åŠ è½½è‡ªå®šä¹‰Stringç±»çš„æ—¶å€™ä¼šç‡å…ˆä½¿ç”¨å¼•å¯¼ç±»åŠ è½½å™¨åŠ è½½ï¼Œè€Œå¼•å¯¼ç±»åŠ è½½å™¨åœ¨åŠ è½½çš„è¿‡ç¨‹ä¸­ä¼šå…ˆåŠ è½½jdkè‡ªå¸¦çš„æ–‡ä»¶(rt.jaråŒ…ä¸­java\\lang\\String.class)ï¼ŒæŠ¥é”™ä¿¡æ¯è¯´æ²¡æœ‰mainæ–¹æ³•ï¼Œå°±æ˜¯å› ä¸ºåŠ è½½çš„æ˜¯rt.jaråŒ…ä¸­çš„Stringç±»ã€‚è¿™æ ·å¯ä»¥ä¿è¯å¯¹javaæ ¸å¿ƒæºä»£ç çš„ä¿æŠ¤ï¼Œè¿™å°±æ˜¯æ²™ç®±å®‰å…¨æœºåˆ¶ã€‚ 7.å…¶ä»–Â·åœ¨JVMä¸­è¡¨ç¤ºä¸¤ä¸ªclasså¯¹è±¡æ˜¯å¦ä¸ºåŒä¸€ä¸ªç±»å­˜åœ¨ä¸¤ä¸ªå¿…è¦æ¡ä»¶: ç±»çš„å®Œæ•´ç±»åå¿…é¡»ä¸€è‡´ï¼ŒåŒ…æ‹¬åŒ…åã€‚ åŠ è½½è¿™ä¸ªç±»çš„classLoader(æŒ‡classLoaderå®ä¾‹å¯¹è±¡)å¿…é¡»ç›¸åŒã€‚Â·æ¢å¥è¯è¯´ï¼Œåœ¨VMä¸­ï¼Œå³ä½¿è¿™ä¸¤ä¸ªç±»å¯¹è±¡(classå¯¹è±¡)æ¥æºåŒä¸€ä¸ªclassæ–‡ä»¶ï¼Œè¢«åŒä¸€ä¸ªè™šæ‹Ÿæœºæ‰€åŠ è½½ï¼Œä½†åªè¦åŠ è½½å®ƒä»¬çš„ClassLoaderå®ä¾‹å¯¹è±¡ä¸åŒï¼Œé‚£ä¹ˆè¿™ä¸¤ä¸ªç±»å¯¹è±¡ä¹Ÿæ˜¯ä¸ç›¸ç­‰çš„ã€‚ å¯¹ç±»åŠ è½½å…¶çš„å¼•ç”¨JVMå¿…é¡»çŸ¥é“ä¸€ä¸ªç±»å‹æ˜¯ç”±å¯åŠ¨åŠ è½½å™¨åŠ è½½çš„è¿˜æ˜¯ç”±ç”¨æˆ·ç±»åŠ è½½å™¨åŠ è½½çš„ã€‚å¦‚æœä¸€ä¸ªç±»å‹æ˜¯ç”±ç”¨æˆ·ç±»åŠ è½½å™¨åŠ è½½çš„ï¼Œé‚£ä¹ˆJVMä¼šå°†è¿™ä¸ªç±»åŠ è½½å™¨çš„ä¸€ä¸ªå¼•ç”¨ä½œä¸ºç±»å‹ä¿¡æ¯çš„ä¸€éƒ¨åˆ†ä¿å­˜åœ¨æ–¹æ³•åŒºä¸­ã€‚å½“è§£æä¸€ä¸ªç±»å‹åˆ°å¦ä¸€ä¸ªç±»å‹çš„å¼•ç”¨çš„æ—¶å€™ï¼ŒJVMéœ€è¦ä¿è¯è¿™ä¸¤ä¸ªç±»å‹çš„ç±»åŠ è½½å™¨æ˜¯ç›¸åŒçš„ã€‚ ç±»çš„ä¸»åŠ¨ä½¿ç”¨å’Œè¢«åŠ¨ä½¿ç”¨Javaç¨‹åºå¯¹ç±»çš„ä½¿ç”¨æ–¹å¼åˆ†ä¸º:ä¸»åŠ¨ä½¿ç”¨å’Œè¢«åŠ¨ä½¿ç”¨ã€‚Â·ä¸»åŠ¨ä½¿ç”¨ï¼Œåˆåˆ†ä¸ºä¸ƒç§æƒ…å†µ:Â·åˆ›å»ºç±»çš„å®ä¾‹Â·è®¿é—®æŸä¸ªç±»æˆ–æ¥å£çš„é™æ€å˜é‡ï¼Œæˆ–è€…å¯¹è¯¥é™æ€å˜é‡èµ‹å€¼Â·è°ƒç”¨ç±»çš„é™æ€æ–¹æ³•Â·åå°„ï¼ˆæ¯”å¦‚: Class.forName ( â€œcom.atguigu . Testâ€) )&gt;Â·åˆå§‹åŒ–ä¸€ä¸ªç±»çš„å­ç±»Â·Javaè™šæ‹Ÿæœºå¯åŠ¨æ—¶è¢«æ ‡æ˜ä¸ºå¯åŠ¨ç±»çš„ç±»Â·JDK 7å¼€å§‹æä¾›çš„åŠ¨æ€è¯­è¨€æ”¯æŒ:java . lang.invoke.MethodHandleå®ä¾‹çš„è§£æç»“æœREF getstaticã€REF putstaticã€REF_invokestaticå¥æŸ„å¯¹åº”çš„ç±»æ²¡æœ‰åˆå§‹åŒ–ï¼Œåˆ™åˆå§‹åŒ–é™¤äº†ä»¥ä¸Šä¸ƒç§æƒ…å†µï¼Œå…¶ä»–ä½¿ç”¨Javaç±»çš„æ–¹å¼éƒ½è¢«çœ‹ä½œæ˜¯å¯¹ç±»çš„è¢«åŠ¨ä½¿ç”¨ï¼Œéƒ½ä¸ä¼šå¯¼è‡´ç±»çš„åˆå§‹åŒ–ã€‚ ä¸‰ã€è¿è¡Œæ—¶æ•°æ®åŒºæ¦‚è¿°åŠçº¿ç¨‹1.è¿è¡Œæ—¶æ•°æ®åŒºå†…éƒ¨ç»“æ„â€‹ å†…å­˜æ˜¯éå¸¸é‡è¦çš„ç³»ç»Ÿèµ„æºï¼Œæ˜¯ç¡¬ç›˜å’ŒCPUçš„ä¸­é—´ä»“åº“åŠæ¡¥æ¢ï¼Œæ‰¿è½½ç€æ“ä½œç³»ç»Ÿå’Œåº”ç”¨ç¨‹åºçš„å®æ—¶è¿è¡Œã€‚JVMå†…å­˜å¸ƒå±€è§„å®šäº†Javaåœ¨è¿è¡Œè¿‡ç¨‹ä¸­å†…å­˜ç”³è¯·ã€åˆ†é…ã€ç®¡ç†çš„ç­–ç•¥ï¼Œä¿è¯äº†JVMçš„é«˜æ•ˆç¨³å®šè¿è¡Œã€‚ä¸åŒçš„JVMå¯¹äºå†…å­˜çš„åˆ’åˆ†æ–¹å¼å’Œç®¡ç†æœºåˆ¶å­˜åœ¨ç€éƒ¨åˆ†å·®å¼‚ã€‚ç»“åˆJVMè™šæ‹Ÿæœºè§„èŒƒï¼Œæ¥æ¢è®¨ä¸€ä¸‹ç»å…¸çš„JVMå†…å­˜å¸ƒå±€ã€‚ Error GC ç¨‹åºè®¡æ•°å™¨ :x: :x: æœ¬åœ°æ–¹æ³•æ ˆ :heavy_check_mark: :x: è™šæ‹Ÿæœºæ ˆ :heavy_check_mark: :x: å † :heavy_check_mark: :heavy_check_mark: æ–¹æ³•åŒº :heavy_check_mark: :heavy_check_mark: â€‹ Javaè™šæ‹Ÿæœºå®šä¹‰äº†è‹¥å¹²ç§ç¨‹åºè¿è¡ŒæœŸé—´ä¼šä½¿ç”¨åˆ°çš„è¿è¡Œæ—¶æ•°æ®åŒºï¼Œå…¶ä¸­æœ‰ä¸€äº›ä¼šéšç€è™šæ‹Ÿæœºå¯åŠ¨è€Œåˆ›å»ºï¼Œéšç€è™šæ‹Ÿæœºé€€å‡ºè€Œé”€æ¯ã€‚å¦å¤–ä¸€äº›åˆ™æ˜¯ä¸çº¿ç¨‹ä¸€ä¸€å¯¹åº”çš„ï¼Œè¿™äº›ä¸çº¿ç¨‹å¯¹åº”çš„æ•°æ®åŒºåŸŸä¼šéšç€çº¿ç¨‹å¼€å§‹å’Œç»“æŸè€Œåˆ›å»ºå’Œé”€æ¯ã€‚ç°è‰²çš„ä¸ºå•ç‹¬çº¿ç¨‹ç§æœ‰çš„ï¼Œçº¢è‰²çš„ä¸ºå¤šä¸ªçº¿ç¨‹å…±äº«çš„ã€‚å³:æ¯ä¸ªçº¿ç¨‹:ç‹¬ç«‹åŒ…æ‹¬ç¨‹åºè®¡æ•°å™¨ã€æ ˆã€æœ¬åœ°æ ˆã€‚ 2.çº¿ç¨‹â€‹ çº¿ç¨‹æ˜¯ä¸€ä¸ªç¨‹åºé‡Œçš„è¿è¡Œå•å…ƒã€‚JVMå…è®¸ä¸€ä¸ªåº”ç”¨æœ‰å¤šä¸ªçº¿ç¨‹å¹¶è¡Œçš„æ‰§è¡Œã€‚åœ¨Hotspot JVMé‡Œï¼Œæ¯ä¸ªçº¿ç¨‹éƒ½ä¸æ“ä½œç³»ç»Ÿçš„æœ¬åœ°çº¿ç¨‹ç›´æ¥æ˜ å°„ã€‚â€‹ å½“ä¸€ä¸ªJavaçº¿ç¨‹å‡†å¤‡å¥½æ‰§è¡Œä»¥åï¼Œæ­¤æ—¶ä¸€ä¸ªæ“ä½œç³»ç»Ÿçš„æœ¬åœ°çº¿ç¨‹ä¹ŸåŒæ—¶åˆ›å»ºã€‚Javaçº¿ç¨‹æ‰§è¡Œç»ˆæ­¢åï¼Œæœ¬åœ°çº¿ç¨‹ä¹Ÿä¼šå›æ”¶ã€‚æ“ä½œç³»ç»Ÿè´Ÿè´£æ‰€æœ‰çº¿ç¨‹çš„å®‰æ’è°ƒåº¦åˆ°ä»»ä½•ä¸€ä¸ªå¯ç”¨çš„CPUä¸Šã€‚ä¸€æ—¦æœ¬åœ°çº¿ç¨‹åˆå§‹åŒ–æˆåŠŸï¼Œå®ƒå°±ä¼šè°ƒç”¨Javaçº¿ç¨‹ä¸­çš„run ()æ–¹æ³•ã€‚ â€‹ å¦‚æœä½ ä½¿ç”¨jconsoleæˆ–è€…æ˜¯ä»»ä½•ä¸€ä¸ªè°ƒè¯•å·¥å…·ï¼Œéƒ½èƒ½çœ‹åˆ°åœ¨åå°æœ‰è®¸å¤šçº¿ç¨‹åœ¨è¿è¡Œã€‚è¿™äº›åå°çº¿ç¨‹ä¸åŒ…æ‹¬è°ƒç”¨public static void main (string[])çš„mainçº¿ç¨‹ä»¥åŠæ‰€æœ‰è¿™ä¸ªmainçº¿ç¨‹è‡ªå·±åˆ›å»ºçš„çº¿ç¨‹ã€‚è¿™äº›ä¸»è¦çš„åå°ç³»ç»Ÿçº¿ç¨‹åœ¨Hotspot JVMé‡Œä¸»è¦æ˜¯ä»¥ä¸‹å‡ ä¸ª: è™šæ‹Ÿæœºçº¿ç¨‹:è¿™ç§çº¿ç¨‹çš„æ“ä½œæ˜¯éœ€è¦JVMè¾¾åˆ°å®‰å…¨ç‚¹æ‰ä¼šå‡ºç°ã€‚è¿™äº›æ“ä½œå¿…é¡»åœ¨ä¸åŒçš„çº¿ç¨‹ä¸­å‘ç”Ÿçš„åŸå› æ˜¯ä»–ä»¬éƒ½éœ€è¦JVMè¾¾åˆ°å®‰å…¨ç‚¹ï¼Œè¿™æ ·å †æ‰ä¸ä¼šå˜åŒ–ã€‚è¿™ç§ çº¿ç¨‹çš„æ‰§è¡Œç±»å‹åŒ…æ‹¬â€stop-the-worldâ€çš„åƒåœ¾æ”¶é›†ï¼Œçº¿ç¨‹æ ˆæ”¶é›†ï¼Œçº¿ç¨‹æŒ‚èµ·ä»¥åŠåå‘é”æ’¤é”€ã€‚å‘¨æœŸä»»åŠ¡çº¿ç¨‹:è¿™ç§çº¿ç¨‹æ˜¯æ—¶é—´å‘¨æœŸäº‹ä»¶çš„ä½“ç°(æ¯”å¦‚ä¸­æ–­)ï¼Œä»–ä»¬ä¸€èˆ¬ç”¨äºå‘¨æœŸæ€§æ“ä½œçš„è°ƒåº¦æ‰§è¡Œã€‚GCçº¿ç¨‹:è¿™ç§çº¿ç¨‹å¯¹åœ¨JVMé‡Œä¸åŒç§ç±»çš„åƒåœ¾æ”¶é›†è¡Œä¸ºæä¾›äº†æ”¯æŒã€‚&gt;ç¼–è¯‘çº¿ç¨‹:è¿™ç§çº¿ç¨‹åœ¨è¿è¡Œæ—¶ä¼šå°†å­—èŠ‚ç ç¼–è¯‘æˆåˆ°æœ¬åœ°ä»£ç ã€‚ä¿¡å·è°ƒåº¦çº¿ç¨‹:è¿™ç§çº¿ç¨‹æ¥æ”¶ä¿¡å·å¹¶å‘é€ç»™JVMï¼Œåœ¨å®ƒå†…éƒ¨é€šè¿‡è°ƒç”¨é€‚å½“çš„æ–¹æ³•è¿›è¡Œå¤„ç†ã€‚ Â·çº¿ç¨‹æ˜¯ä¸€ä¸ªç¨‹åºé‡Œçš„è¿è¡Œå•å…ƒã€‚JVMå…è®¸ä¸€ä¸ªåº”ç”¨æœ‰å¤šä¸ªçº¿ç¨‹å¹¶è¡Œçš„æ‰§è¡Œã€‚.åœ¨Hotspot JVMé‡Œï¼Œæ¯ä¸ªçº¿ç¨‹éƒ½ä¸æ“ä½œç³»ç»Ÿçš„æœ¬åœ°çº¿ç¨‹ç›´æ¥æ˜ å°„ã€‚ å½“ä¸€ä¸ªJavaçº¿ç¨‹å‡†å¤‡å¥½æ‰§è¡Œä»¥åï¼Œæ­¤æ—¶ä¸€ä¸ªæ“ä½œç³»ç»Ÿçš„æœ¬åœ°çº¿ç¨‹ä¹ŸåŒæ—¶åˆ›å»ºã€‚Javaçº¿ç¨‹æ‰§è¡Œç»ˆæ­¢åï¼Œæœ¬åœ°çº¿ç¨‹ä¹Ÿä¼šå›æ”¶ã€‚Â·æ“ä½œç³»ç»Ÿè´Ÿè´£æ‰€æœ‰çº¿ç¨‹çš„å®‰æ’è°ƒåº¦åˆ°ä»»ä½•ä¸€ä¸ªå¯ç”¨çš„CPUä¸Šã€‚ä¸€æ—¦æœ¬åœ°çº¿ç¨‹åˆå§‹åŒ–æˆåŠŸï¼Œå®ƒå°±ä¼šè°ƒç”¨Javaçº¿ç¨‹ä¸­çš„run ()æ–¹æ³•ã€‚â—å®ˆæŠ¤çº¿ç¨‹ã€æ™®é€šçº¿ç¨‹ å››ã€ç¨‹åºè®¡æ•°å™¨1.Program Counter Registerä»‹ç»â€‹ JVMä¸­çš„ç¨‹åºè®¡æ•°å¯„å­˜å™¨(Program counter Register)ä¸­ï¼Œ Registerçš„å‘½åæºäºCPUçš„å¯„å­˜å™¨ï¼Œå¯„å­˜å™¨å­˜å‚¨æŒ‡ä»¤ç›¸å…³çš„ç°åœºä¿¡æ¯ã€‚CPUåªæœ‰æŠŠæ•°æ®è£…è½½åˆ°å¯„å­˜å™¨æ‰èƒ½å¤Ÿè¿è¡Œã€‚è¿™é‡Œï¼Œå¹¶éæ˜¯å¹¿ä¹‰ä¸Šæ‰€æŒ‡çš„ç‰©ç†å¯„å­˜å™¨ï¼Œæˆ–è®¸å°†å…¶ç¿»è¯‘ä¸ºPcè®¡æ•°å™¨ï¼ˆæˆ–æŒ‡ä»¤è®¡æ•°å™¨ï¼‰ä¼šæ›´åŠ è´´åˆ‡(ä¹Ÿç§°ä¸ºç¨‹åºé’©å­)ï¼Œå¹¶ä¸”ä¹Ÿä¸å®¹æ˜“å¼•èµ·ä¸€äº›ä¸å¿…è¦çš„è¯¯ä¼šã€‚JVMä¸­çš„Pcå¯„å­˜å™¨æ˜¯å¯¹ç‰©ç†PCå¯„å­˜å™¨çš„ä¸€ç§æŠ½è±¡æ¨¡æ‹Ÿã€‚ ä½œç”¨:PCå¯„å­˜å™¨ç”¨æ¥å­˜å‚¨æŒ‡å‘ä¸‹ä¸€æ¡æŒ‡ä»¤çš„åœ°å€,ä¹Ÿå³å°†è¦æ‰§è¡Œçš„æŒ‡ä»¤ä»£ç ã€‚ç”±æ‰§è¡Œå¼•æ“è¯»å–ä¸‹ä¸€æ¡æŒ‡ä»¤ã€‚ å®ƒæ˜¯ä¸€å—å¾ˆå°çš„å†…å­˜ç©ºé—´ï¼Œå‡ ä¹å¯ä»¥å¿½ç•¥ä¸è®°ã€‚ä¹Ÿæ˜¯è¿è¡Œé€Ÿåº¦æœ€å¿«çš„å­˜å‚¨åŒºåŸŸã€‚åœ¨JVMè§„èŒƒä¸­ï¼Œæ¯ä¸ªçº¿ç¨‹éƒ½æœ‰å®ƒè‡ªå·±çš„ç¨‹åºè®¡æ•°å™¨ï¼Œæ˜¯çº¿ç¨‹ç§æœ‰çš„ï¼Œç”Ÿå‘½å‘¨æœŸä¸çº¿ç¨‹çš„ç”Ÿå‘½å‘¨æœŸä¿æŒä¸€è‡´ã€‚ä»»ä½•æ—¶é—´ä¸€ä¸ªçº¿ç¨‹éƒ½åªæœ‰ä¸€ä¸ªæ–¹æ³•åœ¨æ‰§è¡Œï¼Œä¹Ÿå°±æ˜¯æ‰€è°“çš„å½“å‰æ–¹æ³•ã€‚ç¨‹åºè®¡æ•°å™¨ä¼šå­˜å‚¨å½“å‰çº¿ç¨‹æ­£åœ¨æ‰§è¡Œçš„Javaæ–¹æ³•çš„TVMæŒ‡ä»¤åœ°å€;æˆ–è€…ï¼Œå¦‚æœæ˜¯åœ¨æ‰§è¡Œnativeæ–¹æ³•ï¼Œåˆ™æ˜¯æœªæŒ‡å®šå€¼ï¼ˆundefned) ã€‚ å®ƒæ˜¯ç¨‹åºæ§åˆ¶æµçš„æŒ‡ç¤ºå™¨ï¼Œåˆ†æ”¯ã€å¾ªç¯ã€è·³è½¬ã€å¼‚å¸¸å¤„ç†ã€çº¿ç¨‹æ¢å¤ç­‰åŸºç¡€åŠŸèƒ½éƒ½éœ€è¦ä¾èµ–è¿™ä¸ªè®¡æ•°å™¨æ¥å®Œæˆã€‚å­—èŠ‚ç è§£é‡Šå™¨å·¥ä½œæ—¶å°±æ˜¯é€šè¿‡æ”¹å˜è¿™ä¸ªè®¡æ•°å™¨çš„å€¼æ¥é€‰å–ä¸‹ä¸€æ¡éœ€è¦æ‰§è¡Œçš„å­—èŠ‚ç æŒ‡ä»¤ã€‚å®ƒæ˜¯å”¯ä¸€ä¸€ä¸ªåœ¨Javaè™šæ‹Ÿæœºè§„èŒƒä¸­æ²¡æœ‰è§„å®šä»»ä½•outOtMemoryErroræƒ…å†µçš„åŒºåŸŸã€‚ 2.ç¨‹åºç¤ºä¾‹1javap -v/verbose ï¼ˆclassåï¼‰ //åç¼–è¯‘ 3.ä¸¤ä¸ªé—®é¢˜ï¼ˆ1ï¼‰ä½¿ç”¨PCå¯„å­˜å™¨å­˜å‚¨å­—èŠ‚ç æŒ‡ä»¤åœ°å€æœ‰ä»€ä¹ˆç”¨å‘¢?ä¸ºä»€ä¹ˆä½¿ç”¨PCå¯„å­˜å™¨è®°å½•å½“å‰çº¿ç¨‹çš„æ‰§è¡Œåœ°å€å‘¢ï¼Ÿå› ä¸ºCPUéœ€è¦ä¸åœçš„åˆ‡æ¢å„ä¸ªçº¿ç¨‹ï¼Œè¿™æ—¶å€™åˆ‡æ¢å›æ¥ä»¥åï¼Œå°±å¾—çŸ¥é“æ¥ç€ä»å“ªå¼€å§‹ç»§ç»­æ‰§è¡Œã€‚JVMçš„å­—èŠ‚ç è§£é‡Šå™¨å°±éœ€è¦é€šè¿‡æ”¹å˜Pcå¯„å­˜å™¨çš„å€¼æ¥æ˜ç¡®ä¸‹ä¸€æ¡åº”è¯¥æ‰§è¡Œä»€ä¹ˆæ ·çš„å­—èŠ‚ç æŒ‡ä»¤ã€‚ (2)PCå¯„å­˜å™¨ä¸ºä»€ä¹ˆä¼šè¢«è®¾å®šä¸ºçº¿ç¨‹ç§æœ‰?â€‹ æˆ‘ä»¬éƒ½çŸ¥é“æ‰€è°“çš„å¤šçº¿ç¨‹åœ¨ä¸€ä¸ªç‰¹å®šçš„æ—¶é—´æ®µå†…åªä¼šæ‰§è¡Œå…¶ä¸­æŸä¸€ä¸ªçº¿ç¨‹çš„æ–¹æ³•ï¼ŒCPUä¼šä¸åœåœ°åšä»»åŠ¡åˆ‡æ¢ï¼Œè¿™æ ·å¿…ç„¶å¯¼è‡´ç»å¸¸ä¸­æ–­æˆ–æ¢å¤ï¼Œå¦‚ä½•ä¿è¯åˆ†æ¯«æ— å·®å‘¢?ä¸ºäº†èƒ½å¤Ÿå‡†ç¡®åœ°è®°å½•å„ä¸ªçº¿ç¨‹æ­£åœ¨æ‰§è¡Œçš„å½“å‰å­—èŠ‚ç æŒ‡ä»¤åœ°å€ï¼Œæœ€å¥½çš„åŠæ³•è‡ªç„¶æ˜¯ä¸ºæ¯ä¸€ä¸ªçº¿ç¨‹éƒ½åˆ†é…ä¸€ä¸ªPcå¯„å­˜å™¨ï¼Œè¿™æ ·ä¸€æ¥å„ä¸ªçº¿ç¨‹ä¹‹é—´ä¾¿å¯ä»¥è¿›è¡Œç‹¬ç«‹è®¡ç®—ï¼Œä»è€Œä¸ä¼šå‡ºç°ç›¸äº’åƒæ‰°çš„æƒ…å†µã€‚ â€‹ CPUæ—¶é—´ç‰‡å³cPUåˆ†é…ç»™å„ä¸ªç¨‹åºçš„æ—¶é—´ï¼Œæ¯ä¸ªçº¿ç¨‹è¢«åˆ†é…ä¸€ä¸ªæ—¶é—´æ®µï¼Œç§°ä½œå®ƒçš„æ—¶é—´ç‰‡ã€‚åœ¨å®è§‚ä¸Š:æˆ‘ä»¬å¯ä»¥åŒæ—¶æ‰“å¼€å¤šä¸ªåº”ç”¨ç¨‹åºï¼Œæ¯ä¸ªç¨‹åºå¹¶è¡Œä¸æ‚–ï¼ŒåŒæ—¶è¿è¡Œã€‚ä½†åœ¨å¾®è§‚ä¸Š:ç”±äºåªæœ‰ä¸€ä¸ªCPUï¼Œä¸€æ¬¡åªèƒ½å¤„ç†ç¨‹åºè¦æ±‚çš„ä¸€éƒ¨åˆ†ï¼Œå¦‚ä½•å¤„ç†å…¬å¹³ï¼Œä¸€ç§æ–¹æ³•å°±æ˜¯å¼•å…¥æ—¶é—´ç‰‡ï¼Œæ¯ä¸ªç¨‹åºè½®æµæ‰§è¡Œã€‚ äº”ã€è™šæ‹Ÿæœºæ ˆ1.æ ˆä¸»è¦ç‰¹ç‚¹â€‹ ç”±äºè·¨åŠå°æ€§çš„è®¾è®¡ï¼ŒJavaçš„æŒ‡ä»¤éƒ½æ˜¯æ ¹æ®æ ˆæ¥è®¾è®¡çš„ã€‚ä¸åŒå¹³å°CPUæ¶æ„ä¸åŒï¼Œæ‰€ä»¥ä¸èƒ½è®¾è®¡ä¸ºåŸºäºå¯„å­˜å™¨çš„ã€‚ä¼˜ç‚¹æ˜¯è·¨å¹³å°ï¼ŒæŒ‡ä»¤é›†å°ï¼Œç¼–è¯‘å™¨å®¹æ˜“å®ç°ï¼Œç¼ºç‚¹æ˜¯æ€§èƒ½ä¸‹é™ï¼Œå®ç°åŒæ ·çš„åŠŸèƒ½éœ€è¦æ›´å¤šçš„æŒ‡ä»¤ã€‚æ ˆæ˜¯è¿è¡Œæ—¶çš„å•ä½ï¼Œè€Œå †æ˜¯å­˜å‚¨çš„å•ä½ã€‚å³ï¼šæ©Ÿè§£å†³ç¨‹åºçš„è¿è¡Œé—®é¢˜ï¼Œå³ç¨‹åºå¦‚ä½•æ‰§è¡Œï¼Œæˆ–è€…è¯´å¦‚ä½•å¤„ç†æ•°æ®ã€‚å †è§£å†³çš„æ˜¯æ•°æ®å­˜å‚¨çš„é—®é¢˜ï¼Œå³æ•°æ®æ€ä¹ˆæ”¾ã€æ”¾åœ¨å“ªå„¿ã€‚ ãƒ»Javaè™šæ‹Ÿæœºæ ˆæ˜¯ä»€ä¹ˆï¼ŸJavaè™šæ‹Ÿæœºæ ˆ( Java Virtual Machine Stack),æ—©æœŸä¹Ÿå«Javaæ ˆã€‚æ¯ä¸ªçº¿ç¨‹åœ¨åˆ›å»ºæ—¶éƒ½ä¼šåˆ›å»ºä¸€ä¸ªè™šæ‹Ÿæœºæ ˆï¼Œå…¶å†…éƒ¨ä¿å­˜ä¸€ä¸ªä¸ªçš„æ ˆå¸§( Stack Frame),å¯¹åº”ç€ä¸€æ¬¡æ¬¡çš„Javaæ–¹æ³•è°ƒç”¨ï¼Œæ˜¯çº¿ç¨‹ç§æœ‰çš„ã€‚ç”Ÿå‘½å‘¨æœŸå’Œçº¿ç¨‹ä¸€è‡´ã€‚ ãƒ»ä½œç”¨ä¸»ç®¡Javaç¨‹åºçš„è¿è¡Œï¼Œå®ƒä¿å­˜æ–¹æ³•çš„å±€éƒ¨å˜é‡(8ç§åŸºæœ¬æ•°æ®ç±»å‹ã€å¯¹è±¡çš„å¼•ç”¨åœ°å€)ã€éƒ¨åˆ†ç»“æœï¼Œå¹¶å‚ä¸æ–¹æ³•çš„è°ƒç”¨å’Œè¿”å›ã€‚å±€éƒ¨å˜é‡vsæˆå‘˜å˜é‡ï¼ˆæˆ–å±æ€§ï¼‰åŸºæœ¬æ•°æ®å˜é‡vså¼•ç”¨ç±»å‹å˜é‡(ç±»ã€æ•°ç»„ã€æ¥å£) ãƒ»æ ˆçš„ç‰¹ç‚¹ï¼ˆä¼˜ç‚¹ï¼‰æ ˆæ˜¯ä¸€ç§å¿«é€Ÿæœ‰æ•ˆçš„åˆ†é…å­˜å‚¨æ–¹å¼ï¼Œè®¿é—®é€Ÿåº¦ä»ªæ¬¡äºç¨‹åºè®¡æ•°å™¨ã€‚JWMç›´æ¥å¯¹Javaæ©Ÿçš„æ“ä½œåªæœ‰ä¸¤ä¸ªï¼šæ¯ä¸ªæ–¹æ³•æ‰§è¡Œï¼Œä¼´éšç€è¿›æ©Ÿ(å…¥æ ˆã€å‹æ ˆ)æ‰§è¡Œç»“æŸåçš„å‡ºæ ˆå·¥ä½œå¯¹äºæ ˆæ¥è¯´ä¸å­˜åœ¨åƒåœ¾å›æ”¶é—®é¢˜ 2.æ ˆä¸­å¯èƒ½å‡ºç°çš„å¼‚å¸¸â€‹ Javaè™šæ‹Ÿæœºè§„èŒƒå…è®¸Javaæ ˆçš„å¤§å°æ˜¯åŠ¨æ€çš„æˆ–è€…æ˜¯å›ºå®šä¸å˜çš„ã€‚â€‹ å¦‚æœé‡‡ç”¨å›ºå®šå¤§å°çš„Javaè™šæ‹Ÿæœºæ ˆï¼Œé‚£æ¯ä¸€ä¸ªçº¿ç¨‹çš„Javaè™šæ‹Ÿæœºæ ˆå®¹é‡å¯ä»¥åœ¨çº¿ç¨‹åˆ›å»ºçš„æ—¶å€™ç‹¬ç«‹é€‰å®šã€‚å¦‚æœçº¿ç¨‹è¯·æ±‚åˆ†é…çš„æ ˆå®¹é‡è¶…è¿‡Javaè™šæ‹Ÿæœºæ ˆå…è®¸çš„æœ€å¤§å®¹é‡ï¼ŒJavaè™šæ‹Ÿæœºå°†ä¼šæŠ›å‡ºä¸€ä¸ªStackOverflowErrorå¼‚å¸¸ã€‚ â€‹ å¦‚æœJavaè™šæ‹Ÿæœºæ ˆå¯ä»¥åŠ¨æ€æ‰©å±•ï¼Œå¹¶ä¸”åœ¨å°è¯•æ‰©å±•çš„æ—¶å€™æ— æ³•ä¸­è¯·åˆ°è¶³å¤Ÿçš„å†…å­˜ï¼Œæˆ–è€…åœ¨åˆ›å»ºæ–°çš„çº¿ç¨‹æ—¶æ²¡æœ‰è¶³å¤Ÿçš„å†…å­˜å»åˆ›å»ºå¯¹åº”çš„è™šæ‹Ÿæœºæ ˆï¼Œé‚£Javaè™šæ‹Ÿæœºå°†ä¼šæŠ›å‡ºä¸€ä¸ª OutOfMemoryErrorå¼‚å¸¸ã€‚ è®¾ç½®æ ˆå¤§å° Xss sizeSets the thread stack size( in bytes). Append the letter k or K to indicate KB, m or M to indicate MB, and g or G to indicateGB. The default value depends on the platformLinux/x64(64-bit): 1024 KBmacos(64-bit): 1024 KBOracle Solaris/x64(64-bit): 1024 KBWindows: The default value depends on virtual memoryThe following examples set the thread stack size to 1024 KB in different units-Xss1m-Xss1024kXss1048576 3.æ ˆå­˜å‚¨å•ä½æ ˆä¸­å­˜å‚¨ä»€ä¹ˆãƒ»æ¯ä¸ªçº¿ç¨‹éƒ½æœ‰è‡ªå·±çš„æ ˆï¼Œæ ˆä¸­çš„æ•°æ®éƒ½æ˜¯ä»¥æ ˆå¸§( Stack Frame)çš„æ ¼å¼å­˜åœ¨ã€‚ãƒ»åœ¨è¿™ä¸ªçº¿ç¨‹ä¸Šæ­£åœ¨æ‰§è¡Œçš„æ¯ä¸ªæ–¹æ³•éƒ½å„è‡ªå¯¹åº”ä¸€ä¸ªæ ˆå¸§( Stack Frame)æ ˆå¸§æ˜¯ä¸€ä¸ªå†…å­˜åŒºå—ï¼Œæ˜¯ä¸€ä¸ªæ•°æ®é›†ï¼Œç»´ç³»ç€æ–¹æ³•æ‰§è¡Œè¿‡ç¨‹ä¸­çš„å„ç§æ•°æ®ä¿¡æ¯å¤ä¹ ãƒ»OOPçš„åŸºæœ¬æ¦‚å¿µï¼šç±»ã€å¯¹è±¡ãƒ»ç±»ä¸­åŸºæœ¬ç»“æ„ï¼šfie1d(å±æ€§ã€å­—æ®µã€åŸŸ)ã€ method JVMç›´æ¥å¯¹Javaæ ˆçš„æ“ä½œåªæœ‰ä¸¤ä¸ªï¼Œå°±æ˜¯å¯¹æ ˆå¸§çš„æ ˆå’Œå‡ºæ ˆï¼Œéµå¾ªâ€œå…ˆè¿›åå‡ºâ€/â€œåè¿›å…ˆå‡ºâ€åŸåˆ™ã€‚åœ¨ä¸€æ¡æ´»åŠ¨çº¿ç¨‹ä¸­ï¼Œä¸€ä¸ªæ—¶é—´ç‚¹ä¸Šï¼Œåªä¼šæœ‰ä¸€ä¸ªæ´»åŠ¨çš„æ ˆå¸§ã€‚å³åªæœ‰å½“å‰æ­£åœ¨æ‰§è¡Œçš„æ–¹æ³•çš„æ ˆå¸§ï¼ˆæ ˆé¡¶æ ˆå¸§ï¼‰æ˜¯æœ‰æ•ˆçš„ï¼Œè¿™ä¸ªæ ˆå¸§è¢«ç§°ä¸ºå½“å‰æ ˆå¸§( Current Frame),ä¸å½“å‰æ ˆå¸§ç›¸å¯¹åº”çš„æ–¹æ³•å°±æ˜¯å½“å‰æ–¹æ³•ï¼ˆ Current Method),å®šä¹‰è¿™ä¸ªæ–¹æ³•çš„ç±»å°±æ˜¯å½“å‰ç±»( Current C1ass).æ‰§è¡Œå¼•æ“è¿è¡Œçš„æ‰€æœ‰å­—èŠ‚ç æŒ‡ä»¤åªé’ˆå¯¹å½“å‰æ ˆå¸§è¿›è¡Œæ“ä½œã€‚å¦‚æœåœ¨è¯¥æ–¹æ³•ä¸­è°ƒç”¨äº†å…¶ä»–æ–¹æ³•ï¼Œå¯¹åº”çš„æ–°çš„æ ˆå¸§ä¼šè¢«åˆ›å»ºå‡ºæ¥ï¼Œæ”¾åœ¨æ ˆçš„é¡¶ç«¯ï¼Œæˆä¸ºæ–°çš„å½“å‰å¸§ã€‚ ãƒ»ä¸åŒçº¿ç¨‹ä¸­æ‰€åŒ…å«çš„æ ˆå¸§æ˜¯ä¸å…è®¸å­˜åœ¨ç›¸äº’å¼•ç”¨çš„ï¼Œå³ä¸å¯èƒ½åœ¨ä¸€ä¸ªæ ˆå¸§ä¹‹ä¸­å¼•ç”¨å¦å¤–ä¸€ä¸ªçº¿ç¨‹çš„æ ˆå¸§ãƒ»å¦‚æœå½“å‰æ–¹æ³•è°ƒç”¨äº†å…¶ä»–æ–¹æ³•ï¼Œæ–¹æ³•è¿”å›ä¹‹é™…ï¼Œå½“å‰æ©Ÿå¸§ä¼šä¼ å›æ­¤æ–¹æ³•çš„æ‰§è¡Œç»“æœç»™å‰ä¸€ä¸ªæ ˆå¸§ï¼Œæ¥ç€ï¼Œè™šæ‹Ÿæœºä¼šä¸¢å¼ƒå½“å‰æ ˆå¸§ï¼Œä½¿å¾—å‰ä¸€ä¸ªæ ˆå¸§é‡æ–°æˆä¸ºå½“å‰æ ˆå¸§ã€‚ãƒ»Javaæ–¹æ³•æœ‰ä¸¤ç§è¿”å›å‡½æ•°çš„æ–¹å¼ï¼Œä¸€ç§æ˜¯æ­£å¸¸çš„å‡½æ•°è¿”å›ï¼Œä½¿ç”¨ returnæŒ‡ä»¤ï¼›å¦å¤–ä¸€ç§æ˜¯æŠ›å‡ºå¼‚å¸¸ã€‚ä¸ç®¡ä½¿ç”¨å“ªç§æ–¹å¼ï¼Œéƒ½ä¼šå¯¼è‡´æ ˆå¸§è¢«å¼¹å‡ºã€‚ 4.æ ˆç»“æ„ãƒ»å±€éƒ¨å˜é‡è¡¨(Local variables)ãƒ»æ“ä½œæ•°æ ˆ( Operand stack)ï¼ˆæˆ–è¡¨è¾¾å¼æ ˆï¼‰ãƒ»åŠ¨æ€é“¾æ¥( Dynamic Linking)ï¼ˆæˆ–æŒ‡å‘è¿è¡Œæ—¶å¸¸é‡æ± çš„æ–¹æ³•å¼•ç”¨ï¼‰ãƒ»æ–¹æ³•è¿”å›åœ°å€( Return Address)ï¼ˆæˆ–æ–¹æ³•æ­£å¸¸é€€å‡ºæˆ–è€…å¼‚å¸¸é€€å‡ºçš„å®šä¹‰ï¼‰ãƒ»ä¸€äº›é™„åŠ ä¿¡æ¯ 1.å±€éƒ¨å˜é‡è¡¨ãƒ»å±€éƒ¨å˜é‡è¡¨ä¹Ÿè¢«ç§°ä¹‹ä¸ºå±€éƒ¨å˜é‡æ•°ç»„æˆ–æœ¬åœ°å˜é‡è¡¨ãƒ»å®šä¹‰ä¸ºä¸€ä¸ªæ•°å­—æ•°ç»„ï¼Œä¸»è¦ç”¨äºå­˜å‚¨æ–¹æ³•å‚æ•°å’Œå®šä¹‰åœ¨æ–¹æ³•ä½“å†…çš„å±€éƒ¨å˜é‡è¿™äº›æ•°æ®ç±»å‹åŒ…æ‹¬å„ç±»åŸºæœ¬æ•°æ®ç±»å‹ã€å¯¹è±¡å¼•ç”¨( reference),ä»¥åŠreturnAddressç±»å‹ã€‚ãƒ»ç”±äºå±€éƒ¨å˜é‡è¡¨æ˜¯å»ºç«‹åœ¨çº¿ç¨‹çš„æ ˆä¸Šï¼Œæ˜¯çº¿ç¨‹çš„ç§æœ‰æ•°æ®ï¼Œå› æ­¤ä¸å­˜åœ¨æ•°æ®å®‰å…¨é—®é¢˜ãƒ»å±€éƒ¨å˜é‡è¡¨æ‰€éœ€çš„å®¹é‡å¤§å°æ˜¯åœ¨ç¼–è¯‘æœŸç¡®å®šä¸‹æ¥çš„ï¼Œå¹¶ä¿å­˜åœ¨æ–¹æ³•çš„codeå±æ€§çš„ maximuim local variablesæ•°æ®é¡¹ä¸­ã€‚åœ¨æ–¹æ³•è¿è¡ŒæœŸé—´æ˜¯ä¸ä¼šæ”¹å˜å±€éƒ¨å˜é‡è¡¨çš„å¤§å°çš„ã€‚ ãƒ»æ–¹æ³•åµŒå¥—è°ƒç”¨çš„æ¬¡æ•°ç”±æ ˆçš„å¤§å°å†³å®šã€‚ä¸€èˆ¬æ¥è¯´ï¼Œæ ˆè¶Šå¤§ï¼Œæ–¹æ³•åµŒå¥—è°ƒç”¨æ¬¡æ•°è¶Šå¤šã€‚å¯¹ä¸€ä¸ªå‡½æ•°è€Œè¨€ï¼Œå®ƒçš„å‚æ•°å’Œå±€éƒ¨å˜é‡è¶Šå¤šï¼Œä½¿å¾—å±€éƒ¨å˜é‡è¡¨è†¨èƒ€ï¼Œå®ƒçš„æ ˆå¸§å°±è¶Šå¤§ï¼Œä»¥æ»¡è¶³æ–¹æ³•è°ƒç”¨æ‰€éœ€ä¼ é€’çš„ä¿¡æ¯å¢—å¤§çš„éœ€æ±‚ã€‚è¿›è€Œå‡½æ•°è°ƒç”¨å°±ä¼šå ç”¨æ›´å¤šçš„æ ˆç©ºé—´ï¼Œå¯¼è‡´å…¶åµŒå¥—è°ƒç”¨æ¬¡æ•°å°±ä¼šå‡å°‘ã€‚ãƒ»å±€éƒ¨å˜é‡è¡¨ä¸­çš„å˜é‡åªåœ¨å½“å‰æ–¹æ³•è°ƒç”¨ä¸­æœ‰æ•ˆã€‚åœ¨æ–¹æ³•æ‰§è¡Œæ—¶ï¼Œè™šæ‹Ÿæœºé€šè¿‡ä½¿ç”¨å±€éƒ¨å˜é‡è¡¨å®Œæˆå‚æ•°å€¼åˆ°å‚æ•°å˜é‡åˆ—è¡¨çš„ä¼ é€’è¿‡ç¨‹ã€‚å½“æ–¹æ³•è°ƒç”¨ç»“æŸåï¼Œéšç€æ–¹æ³•æ ˆå¸§çš„é”€æ¯ï¼Œå±€éƒ¨å˜é‡è¡¨ä¹Ÿä¼šéšä¹‹é”€æ¯ã€‚ 2.å­—èŠ‚ç ä¸­æ–¹æ³•å†…éƒ¨ç»“æ„è§£æ 3.Slotãƒ»å‚æ•°å€¼çš„å­˜æ”¾æ€»æ˜¯åœ¨å±€éƒ¨å˜é‡æ•°ç»„çš„ index0å¼€å§‹ï¼Œåˆ°æ•°ç»„é•¿åº¦-1çš„ç´¢å¼•ç»“æŸãƒ»å±€éƒ¨å˜é‡è¡¨ï¼Œæœ€åŸºæœ¬çš„å­˜å‚¨å•å…ƒæ˜¯Slotï¼ˆå˜é‡æ§½ï¼‰ãƒ»å±€éƒ¨å˜é‡è¡¨ä¸­å­˜æ”¾ç¼–è¯‘æœŸå¯çŸ¥çš„å„ç§åŸºæœ¬æ•°æ®ç±»å‹(8ç§)ï¼Œå¼•ç”¨ç±»å‹( reference), returnAddressaç±»å‹ã€‚ãƒ»åœ¨å±€éƒ¨å˜é‡è¡¨é‡Œï¼Œ32ä½ä»¥å†…çš„ç±»å‹åªå ç”¨ä¸€ä¸ªslot(åŒ…æ‹¬returnAddressaç±»å‹ï¼‰ï¼Œ64ä½çš„ç±»å‹(longå’Œ double)å ç”¨ä¸¤ä¸ªslot. byteã€ shortã€charåœ¨å­˜å‚¨å‰è¢«è½¬æ¢ä¸ºint, booleanä¹Ÿè¢«è½¬æ¢ä¸ºint,0è¡¨ç¤º false,é0è¡¨ç¤ºtrueã€‚ longå’Œdoubleåˆ™å æ®ä¸¤ä¸ªSlotã€‚ ãƒ»JVMä¼šä¸ºå±€éƒ¨å˜é‡è¡¨ä¸­çš„æ¯ä¸€ä¸ªSlotéƒ½åˆ†é…ä¸€ä¸ªè®¿é—®ç´ å¼•ï¼Œé€šè¿‡è¿™ä¸ªç´ å¼•å³å¯æˆåŠŸè®¿é—®åˆ°å±€éƒ¨å˜é‡è¡¨ä¸­æŒ‡å®šçš„å±€éƒ¨å˜é‡å€¼.ãƒ»å½“ä¸€ä¸ªå®ä¾‹æ–¹æ³•è¢«è°ƒç”¨çš„æ—¶å€™ï¼Œå®ƒçš„æ–¹æ³•å‚æ•°å’Œæ–¹æ³•ä½“å†…éƒ¨å®šä¹‰çš„å±€éƒ¨å˜é‡å°†ä¼šæŒ‰ç…§é¡ºåºè¢«å¤åˆ¶åˆ°å±€éƒ¨å˜é‡è¡¨ä¸­çš„æ¯ä¸€ä¸ªSlotä¸Š.ãƒ»å¦‚æœéœ€è¦è®¿é—®å±€éƒ¨å˜é‡è¡¨ä¸­ãƒ¼ä¸ª64bitçš„å±€éƒ¨å˜é‡å€¼æ—¶ï¼Œåªéœ€è¦ä½¿ç”¨å‰ä¸€ä¸ªç´ å¼•å³å¯ã€‚(æ¯”å¦‚ï¼šè®¿é—®1ongæˆ–doub1eç±»å‹å˜é‡).ãƒ»å¦‚æœå½“å‰å¸§æ˜¯ç”±æ„é€ æ–¹æ³•æˆ–è€…å®ä¾‹æ–¹æ³•åˆ›å»ºçš„ï¼Œé‚£ä¹ˆè¯¥å¯¹è±¡å¼•ç”¨thiså°†ä¼šå­˜æ”¾åœ¨ indexä¸º0çš„slotå¤„ï¼Œå…¶ä½™çš„å‚æ•°æŒ‰ç…§å‚æ•°è¡¨é¡ºåºç»§ç»­æ’åˆ—. â€‹ æ ˆå¸§ä¸­çš„å±€éƒ¨å˜é‡è¡¨ä¸­çš„æ§½ä½æ˜¯å¯ä»¥é‡ç”¨çš„ï¼Œå¦‚æœä¸€ä¸ªå±€éƒ¨å˜é‡è¿‡äº†å…¶ä½œç”¨åŸŸï¼Œé‚£ä¹ˆåœ¨å…¶ä½œç”¨åŸŸä¹‹åç”³æ˜çš„æ–°çš„å±€éƒ¨å˜é‡å°±å¾ˆæœ‰å¯èƒ½ä¼šå¤ç”¨è¿‡æœŸå±€éƒ¨å˜é‡çš„æ§½ä½ï¼Œä»è€Œè¾¾åˆ°èŠ‚çœèµ„æºçš„ç›®çš„ã€‚ 7.é™æ€å˜é‡å’Œå±€éƒ¨å˜é‡å¯¹æ¯”$\\triangleright$ å‚æ•°è¡¨åˆ†é…å®Œæ¯•ä¹‹åï¼Œå†æ ¹æ®æ–¹æ³•ä½“å†…å®šä¹‰çš„å˜é‡çš„é¡ºåºå’Œä½œç”¨åŸŸåˆ†é…$\\triangleright$ æˆ‘ä»¬çŸ¥é“ç±»å˜é‡è¡¨æœ‰ä¸¤æ¬¡åˆå§‹åŒ–çš„æœºä¼šï¼Œç¬¬ä¸€æ¬¡æ˜¯åœ¨â€œå‡†å¤‡é˜¶æ®µâ€ï¼Œæ‰§è¡Œç³»ç»Ÿåˆå§‹åŒ–ï¼Œå¯¹ç±»å˜é‡è®¾ç½®é›¶å€¼ï¼Œå¦ä¸€æ¬¡åˆ™æ˜¯åœ¨â€œåˆå§‹åŒ–â€é˜¶æ®µï¼Œèµ‹äºˆç¨‹åºå‘˜åœ¨ä»£ç ä¸­å®šä¹‰çš„åˆå§‹å€¼.$\\triangleright$ å’Œç±»å˜é‡åˆå§‹åŒ–ä¸åŒçš„æ˜¯ï¼Œå±€éƒ¨å˜é‡è¡¨ä¸å­˜åœ¨ç³»ç»Ÿåˆå§‹åŒ–çš„è¿‡ç¨‹ï¼Œè¿™æ„å‘³ç€ä¸€æ—¦å®šä¹‰äº†å±€éƒ¨å˜é‡åˆ™å¿…é¡»äººä¸ºçš„åˆå§‹åŒ–ï¼Œå¦åˆ™æ— æ³•ä½¿ç”¨ã€‚ 12345//è¿™æ ·çš„ä»£ç æ˜¯é”™è¯¯çš„ï¼Œæ²¡æœ‰èµ‹å€¼ä¸èƒ½å¤Ÿä½¿ç”¨public void test() {int i;System.out .println(i);} å˜é‡çš„åˆ†ç±»ï¼š$\\triangleright$ æŒ‰ç…§æ•°æ®ç±»å‹åˆ†ï¼šåŸºæœ¬æ•°æ®ç±»å‹ã€å¼•ç”¨æ•°æ®ç±»å‹$\\triangleright$ æŒ‰ç…§åœ¨ç±»ä¸­å£°æ˜çš„ä½ç½®åˆ†ï¼šæˆå‘˜å˜é‡ï¼šåœ¨ä½¿ç”¨å‰ï¼Œéƒ½ç»å†è¿‡é»˜è®¤åˆå§‹åŒ–èµ‹å€¼ ç±»å˜é‡ï¼š Linkingçš„ prepareé˜¶æ®µï¼šç»™ç±»å˜é‡é»˜è®¤èµ‹å€¼â€“&gt;initialé˜¶æ®µï¼šç»™é™æ€ä»£ç å—èµ‹å€¼ å®ä¾‹å˜é‡ï¼šéšç€å¯¹è±¡çš„åˆ›å»ºï¼Œä¼šåœ¨å †ç©ºé—´ä¸­åˆ†é…å®ä¾‹å˜é‡ç©ºé—´ï¼Œå¹¶è¿›è¡Œé»˜è®¤èµ‹å€¼$\\triangleright$ å±€éƒ¨å˜é‡ï¼šåœ¨ä½¿ç”¨å‰ï¼Œå¿…é¡»è¦è¿›è¡Œæ˜¾å¼èµ‹å€¼çš„ï¼å¦åˆ™ï¼Œç¼–è¯‘ä¸é€šè¿‡ã€‚ è¡¥å……è¯´æ˜$\\triangleright$ åœ¨æ ˆå¸§ä¸­ ï¼Œ ä¸æ€§èƒ½è°ƒä¼˜å…³ç³»æœ€ä¸ºå¯†åˆ‡çš„éƒ¨åˆ†å°±æ˜¯å‰é¢æåˆ°çš„å±€éƒ¨å˜é‡è¡¨ ã€‚åœ¨æ–¹æ³•æ‰§è¡Œæ—¶ ï¼Œ è™šæ‹Ÿæœºä½¿ç”¨å±€éƒ¨å˜é‡è¡¨å®Œæˆæ–¹æ³•çš„ä¼ é€’ ã€‚$\\triangleright$ å±€éƒ¨å˜é‡è¡¨ä¸­çš„å˜é‡ä¹Ÿæ˜¯é‡è¦çš„åƒåœ¾å›æ”¶æ ¹èŠ‚ç‚¹ ï¼Œ åªè¦è¢«å±€éƒ¨å˜é‡è¡¨ä¸­ç›´æ¥æˆ–é—´æ¥å¼•ç”¨çš„å¯¹è±¡éƒ½ä¸ä¼šè¢«å›æ”¶ ã€‚ 8.æ“ä½œæ•°æ ˆ$\\triangleright$ æ¯ä¸€ä¸ªç‹¬ç«‹çš„æ ˆå¸§ä¸­é™¤äº†åŒ…å«å±€éƒ¨å˜é‡è¡¨ä»¥å¤–ï¼Œè¿˜åŒ…å«ä¸€ä¸ªåè¿›å…ˆå‡º(Last-In-First-0ut)çš„æ“ä½œæ•°æ ˆï¼Œä¹Ÿå¯ä»¥ç§°ä¹‹ä¸ºè¡¨è¾¾å¼æ ˆ(Expression Stack).$\\triangleright$ æ“ä½œæ•°æ ˆï¼Œåœ¨æ–¹æ³•æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œæ ¹æ®å­—èŠ‚ç æŒ‡ä»¤ï¼Œå¾€æ ˆä¸­å†™å…¥æ•°æ®æˆ–æå–æ•°æ®ï¼Œå³å…¥æ ˆ(push)/å‡ºæ ˆ(pop). æŸäº›å­—èŠ‚ç æŒ‡ä»¤å°†å€¼å‹å…¥æ“ä½œæ•°æ ˆï¼Œå…¶ä½™çš„å­—èŠ‚ç æŒ‡ä»¤å°†æ“ä½œæ•°å–å‡ºæ ˆã€‚ä½¿ç”¨å®ƒä»¬åå†æŠŠç»“æœå‹å…¥æ ˆã€‚æ¯”å¦‚ï¼šæ‰§è¡Œå¤åˆ¶ã€äº¤æ¢ã€æ±‚å’Œç­‰æ“ä½œ $\\triangleright$ å¦‚æœè¢«è°ƒç”¨çš„æ–¹æ³•å¸¦æœ‰è¿”å›å€¼çš„è¯ï¼Œå…¶è¿”å›å€¼å°†ä¼šè¢«å‹å…¥å½“å‰æ ˆå¸§çš„æ“ä½œæ•°æ ˆä¸­ï¼Œå¹¶æ›´æ–°PCå¯„å­˜å™¨ä¸­ä¸‹ä¸€æ¡éœ€è¦æ‰§è¡Œçš„å­—èŠ‚ç æŒ‡ä»¤ã€‚$\\triangleright$ æ“ä½œæ•°æ ˆä¸­å…ƒç´ çš„æ•°æ®ç±»å‹å¿…é¡»ä¸å­—èŠ‚ç æŒ‡ä»¤çš„åºåˆ—ä¸¥æ ¼åŒ¹é…ï¼Œè¿™ç”±ç¼–è¯‘å™¨åœ¨ç¼–è¯‘å™¨æœŸé—´è¿›è¡ŒéªŒè¯ï¼ŒåŒæ—¶åœ¨ç±»åŠ è½½è¿‡ç¨‹ä¸­çš„ç±»æ£€éªŒé˜¶æ®µçš„æ•°æ®æµåˆ†æé˜¶æ®µè¦å†æ¬¡éªŒè¯ã€‚$\\triangleright$ å¦å¤–ï¼Œæˆ‘ä»¬è¯´Javaè™šæ‹Ÿæœºçš„è§£é‡Šå¼•æ“æ˜¯åŸºäºæ ˆçš„æ‰§è¡Œå¼•æ“ï¼Œå…¶ä¸­çš„æ ˆæŒ‡çš„å°±æ˜¯æ“ä½œæ•°æ ˆã€‚ $\\triangleright$ æ“ä½œæ•°æ ˆï¼Œä¸»è¦ç”¨äºä¿å­˜è®¡ç®—è¿‡ç¨‹çš„ä¸­é—´ç»“æœï¼ŒåŒæ—¶ä½œä¸ºè®¡ç®—è¿‡ç¨‹ä¸­å˜é‡ä¸´æ—¶çš„å­˜å‚¨ç©ºé—´ã€‚$\\triangleright$ æ“ä½œæ•°æ ˆå°±æ˜¯JVMæ‰§è¡Œå¼•æ“çš„-ä¸€ä¸ªå·¥ä½œåŒºï¼Œå½“ä¸€ä¸ªæ–¹æ³•åˆšå¼€å§‹æ‰§è¡Œçš„æ—¶å€™ï¼Œä¸€ä¸ªæ–°çš„æ ˆå¸§ä¹Ÿä¼šéšä¹‹è¢«åˆ›å»ºå‡ºæ¥ï¼Œè¿™ä¸ªæ–¹æ³•çš„æ“ä½œæ•°æ ˆæ˜¯ç©ºçš„ã€‚$\\triangleright$ æ¯ä¸€ä¸ªæ“ä½œæ•°æ ˆéƒ½ä¼šæ‹¥æœ‰ä¸€ä¸ªæ˜ç¡®çš„æ ˆæ·±åº¦ç”¨äºå­˜å‚¨æ•°å€¼ï¼Œå…¶æ‰€éœ€çš„æœ€å¤§æ·±åº¦åœ¨ç¼–è¯‘æœŸå°±å®šä¹‰å¥½äº†ï¼Œä¿å­˜åœ¨æ–¹æ³•çš„Codeå±æ€§ä¸­ï¼Œä¸ºmax stackçš„å€¼ã€‚$\\triangleright$ æ ˆä¸­çš„ä»»ä½•ä¸€ä¸ªå…ƒç´ éƒ½æ˜¯å¯ä»¥ä»»æ„çš„Javaæ•°æ®ç±»å‹ã€‚ â¢32bitçš„ç±»å‹å ç”¨ä¸€ä¸ªæ ˆå•ä½æ·±åº¦ â¢64bitçš„ç±»å‹å ç”¨ä¸¤ä¸ªæ ˆå•ä½æ·±åº¦$\\triangleright$ æ“ä½œæ•°æ ˆå¹¶éé‡‡ç”¨è®¿é—®ç´¢å¼•çš„æ–¹å¼æ¥è¿›è¡Œæ•°æ®è®¿é—®çš„ï¼Œè€Œæ˜¯åªèƒ½é€šè¿‡æ ‡å‡†çš„å…¥æ ˆ(push) å’Œå‡ºæ ˆ(pop)æ“ä½œæ¥å®Œæˆä¸€æ¬¡æ•°æ®è®¿é—®ã€‚ ä»£ç ç¤ºä¾‹ï¼š 12345public void testAddOperation(){byte i=15;int j=8;int k=i + j;} å›¾ä¾‹ï¼š 9.æ ˆé¡¶ç¼“å­˜ï¼ˆTop-of-Stack-Cashingï¼‰æŠ€æœ¯$\\star$ å‰é¢æè¿‡ï¼ŒåŸºäºæ ˆå¼æ¶æ„çš„è™›æ‹Ÿæœºæ‰€ä½¿ç”¨çš„é›¶åœ°å€æŒ‡ä»¤æ›´åŠ ç´§å‡‘ï¼Œä½†å®Œæˆä¸€é¡¹æ“ä½œçš„æ—¶å€™å¿…ç„¶éœ€è¦ä½¿ç”¨æ›´å¤šçš„å…¥æ ˆå’Œå‡ºæ ˆæŒ‡ä»¤ï¼Œè¿™åŒæ—¶ä¹Ÿå°±æ„å‘³ç€å°†éœ€è¦æ›´å¤šçš„æŒ‡ä»¤åˆ†æ´¾( instruction dispatch)æ¬¡æ•°å’Œå†…å­˜è¯»/å†™æ¬¡æ•°ã€‚$\\star$ ç”±äºæ“ä½œæ•°æ˜¯å­˜å‚¨åœ¨å†…å­˜ä¸­çš„ï¼Œå› æ­¤é¢‘ç¹åœ°æ‰§è¡Œå†…å­˜è¯»/å†™æ“ä½œå¿…ç„¶ä¼šå½±å“æ‰§è¡Œé€Ÿåº¦ã€‚ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œ Hotspot JVMçš„è®¾è®¡è€…ä»¬æå‡ºäº†æ ˆé¡¶ç¼“å­˜(ToS,Top-of- Stack Cashing)æŠ€æœ¯ï¼Œå°†æ ˆé¡¶å…ƒç´ å…¨éƒ¨ç¼“å­˜åœ¨ç‰©ç†CPUçš„å¯„å­˜å™¨ä¸­ï¼Œä»¥æ­¤é™ä½å¯¹å†…å­˜çš„è¯»/å†™æ¬¡æ•°ï¼Œæå‡æ‰§è¡Œå¼•æ“çš„æ‰§è¡Œæ•ˆç‡ã€‚ 10.åŠ¨æ€é“¾æ¥$\\star$ æ¯ä¸€ä¸ªæ ˆå¸§å†…éƒ¨éƒ½åŒ…å«ä¸€ä¸ªæŒ‡å‘è¿è¡Œæ—¶å¸¸é‡æ± ä¸­è¯¥æ ˆå¸§æ‰€å±æ–¹æ³•çš„å¼•ç”¨åŒ…å«è¿™ä¸ªå¼•ç”¨çš„ç›®çš„å°±æ˜¯ä¸ºäº†æ”¯æŒå½“å‰æ–¹æ³•çš„ä»£ç èƒ½å¤Ÿå®ç°åŠ¨æ€é“¾æ¥( Dynamic Linking)ã€‚æ¯”å¦‚ï¼š invokedynamicæŒ‡ä»¤$\\star$ åœ¨Javaæºæ–‡ä»¶è¢«ç¼–è¯‘åˆ°å­—èŠ‚ç æ–‡ä»¶ä¸­æ—¶ï¼Œæ‰€æœ‰çš„å˜é‡å’Œæ–¹æ³•å¼•ç”¨éƒ½ä½œä¸ºç¬¦å·å¼•ç”¨( Symbolic Reference)ä¿å­˜åœ¨classæ–‡ä»¶çš„å¸¸é‡æ± é‡Œã€‚æ¯”å¦‚ï¼šæè¿°ä¸€ä¸ªæ–¹æ³•è°ƒç”¨äº†å¦å¤–çš„å…¶ä»–æ–¹æ³•æ—¶ï¼Œå°±æ˜¯é€šè¿‡å¸¸é‡æ± ä¸­æŒ‡å‘æ–¹æ³•çš„ç¬¦å·å¼•ç”¨æ¥è¡¨ç¤ºçš„ï¼Œé‚£ä¹ˆåŠ¨æ€é“¾æ¥çš„ä½œç”¨å°±æ˜¯ä¸ºäº†å°†è¿™äº›ç¬¦å·å¼•ç”¨è½¬æ¢ä¸ºè°ƒç”¨æ–¹æ³•çš„ç›´æ¥å¼•ç”¨ã€‚ 11.æ–¹æ³•çš„è°ƒç”¨åœ¨JWMä¸­ï¼Œå°†ç¬¦å·å¼•ç”¨è½¬æ¢ä¸ºè°ƒç”¨æ–¹æ³•çš„ç›´æ¥å¼•ç”¨ä¸æ–¹æ³•çš„ç»‘å®šæœºåˆ¶ç›¸å…³ã€‚é™æ€é“¾æ¥ï¼š$\\star$ å½“ä¸€ä¸ªå­—èŠ‚ç æ–‡ä»¶è¢«è£…è½½è¿›JWMå†…éƒ¨æ—¶ï¼Œå¦‚æœè¢«è°ƒç”¨çš„ç›®æ ‡æ–¹æ³•åœ¨ç¼–è¯‘æœŸå¯çŸ¥ï¼Œä¸”è¿è¡ŒæœŸä¿æŒä¸å˜æ—¶ã€‚è¿™ç§æƒ…å†µä¸‹å°†è°ƒç”¨æ–¹æ³•çš„ç¬¦å·å¼•ç”¨è½¬æ¢ä¸ºç›´æ¥å¼•ç”¨çš„è¿‡ç¨‹ç§°ä¹‹ä¸ºé™æ€é“¾æ¥åŠ¨æ€é“¾æ¥ï¼š$\\star$ å¦‚æœè¢«è°ƒç”¨çš„æ–¹æ³•åœ¨ç¼–è¯‘æœŸæ— æ³•è¢«ç¡®å®šä¸‹æ¥ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œåªèƒ½å¤Ÿåœ¨ç¨‹åºè¿è¡ŒæœŸå°†è°ƒç”¨æ–¹æ³•çš„ç¬¦å·å¼•ç”¨è½¬æ¢ä¸ºç›´æ¥å¼•ç”¨ï¼Œç”±äºè¿™ç§å¼•ç”¨è½¬æ¢è¿‡ç¨‹å…·å¤‡åŠ¨æ€æ€§ï¼Œå› æ­¤ä¹Ÿå°±è¢«ç§°ä¹‹ä¸ºåŠ¨æ€é“¾æ¥ã€‚ å¯¹åº”çš„æ–¹æ³•çš„ç»‘å®šæœºåˆ¶ä¸ºï¼šæ—©æœŸç»‘å®š(Early Binding)å’Œæ™šæœŸç»‘å®š( Late Binding)ã€‚ç»‘å®šæ˜¯ä¸€ä¸ªå­—æ®µã€æ–¹æ³•æˆ–è€…ç±»åœ¨ç¬¦å·å¼•ç”¨è¢«æ›¿æ¢ä¸ºç›´æ¥å¼•ç”¨çš„è¿‡ç¨‹ï¼Œè¿™ä»…ä»…å‘ç”Ÿä¸€æ¬¡ã€‚æ—©æœŸç»‘å®šï¼š$\\star$ æ—©æœŸç»‘å®šå°±æ˜¯æŒ‡è¢«è°ƒç”¨çš„ç›®æ ‡æ–¹æ³•å¦‚æœåœ¨ç¼–è¯‘æœŸå¯çŸ¥ï¼Œä¸”è¿è¡ŒæœŸä¿æŒä¸å˜æ—¶ï¼Œå³å¯å°†è¿™ä¸ªæ–¹æ³•ä¸æ‰€å±çš„ç±»å‹è¿›è¡Œç»‘å®šï¼Œè¿™æ ·ä¸€æ¥ï¼Œç”±äºæ˜ç¡®äº†è¢«è°ƒç”¨çš„ç›®æ ‡æ–¹æ³•ç©¶ç«Ÿæ˜¯å“ªä¸€ä¸ªï¼Œå› æ­¤ä¹Ÿå°±å¯ä»¥ä½¿ç”¨é™æ€é“¾æ¥çš„æ–¹å¼å°†ç¬¦å·å¼•ç”¨è½¬æ¢ä¸ºç›´æ¥å¼•ç”¨ã€‚æ™šæœŸç»‘å®šï¼š$\\star$ å¦‚æœè¢«è°ƒç”¨çš„æ–¹æ³•åœ¨ç¼–è¯‘æœŸæ— æ³•è¢«ç¡®å®šä¸‹æ¥ï¼Œåªèƒ½å¤Ÿåœ¨ç¨‹åºè¿è¡ŒæœŸæ ¹æ®å®é™…çš„ç±»å‹ç»‘å®šç›¸å…³çš„æ–¹æ³•ï¼Œè¿™ç§ç»‘å®šæ–¹å¼ä¹Ÿå°±è¢«ç§°ä¹‹ä¸ºæ™šæœŸç»‘å®šã€‚ $\\star$ éšç€é«˜çº§è¯­è¨€çš„æ¨ªç©ºå‡ºä¸–ï¼Œç±»ä¼¼äºJavaä¸€æ ·çš„åŸºäºé¢å‘å¯¹è±¡çš„ç¼–ç¨‹è¯­è¨€å¦‚ä»Šè¶Šæ¥è¶Šå¤šï¼Œå°½ç®¡è¿™ç±»ç¼–ç¨‹è¯­è¨€åœ¨è¯­æ³•é£æ ¼ä¸Šå­˜åœ¨ä¸€å®šçš„å·®åˆ«ï¼Œä½†æ˜¯å®ƒä»¬å½¼æ­¤ä¹‹é—´å§‹ç»ˆä¿æŒç€ä¸€ä¸ªå…±æ€§ï¼Œé‚£å°±æ˜¯éƒ½æ”¯æŒå°è£…ã€ç»§æ‰¿å’Œå¤šæ€ç­‰é¢å‘å¯¹è±¡ç‰¹æ€§ï¼Œæ—¢ç„¶è¿™ä¸€ç±»çš„ç¼–ç¨‹è¯­è¨€å…·å¤‡å¤šæ€ç‰¹æ€§ï¼Œé‚£ä¹ˆè‡ªç„¶ä¹Ÿå°±å…·å¤‡æ—©æœŸç»‘å®šå’Œæ™šæœŸç»‘å®šä¸¤ç§ç»‘å®šæ–¹å¼ã€‚$\\star$ Javaä¸­ä»»ä½•ä¸€ä¸ªæ™®é€šçš„æ–¹æ³•å…¶å®éƒ½å…·å¤‡è™šå‡½æ•°çš„ç‰¹å¾ï¼Œå®ƒä»¬ç›¸å½“äºC è¯­è¨€ä¸­çš„è™šå‡½æ•°(C ä¸­åˆ™éœ€è¦ä½¿ç”¨å…³é”®å­— virtua1æ¥æ˜¾å¼å®šä¹‰)ã€‚å¦‚æœåœ¨Javaç¨‹åºä¸­ä¸å¸Œæœ›æŸä¸ªæ–¹æ³•æ‹¥æœ‰è™šå‡½æ•°çš„ç‰¹å¾æ—¶ï¼Œåˆ™å¯ä»¥ä½¿ç”¨å…³é”®å­—fina1æ¥æ ‡è®°è¿™ä¸ªæ–¹æ³•ã€‚ 12.è™šæ–¹æ³•ã€éè™šæ–¹æ³•éè™šæ–¹æ³•ï¼š å¦‚æœæ–¹æ³•åœ¨ç¼–è¯‘æœŸå°±ç¡®å®šäº†å…·ä½“çš„è°ƒç”¨ç‰ˆæœ¬ï¼Œè¿™ä¸ªç‰ˆæœ¬åœ¨è¿è¡Œæ—¶æ˜¯ä¸å¯å˜çš„ã€‚è¿™æ ·çš„æ–¹æ³•ç§°ä¸ºéè™šæ–¹æ³•ã€‚é™æ€æ–¹æ³•ã€ç§æœ‰æ–¹æ³•ã€finalæ–¹æ³•ã€å®ä¾‹æ„é€ å™¨ã€çˆ¶ç±»æ–¹æ³•éƒ½æ˜¯éè™šæ–¹æ³•ï¼Œå…¶ä»–æ–¹æ³•ç§°ä¸ºè™šæ–¹æ³•ã€‚ â€‹ éšç€é«˜çº§è¯­è¨€çš„æ¨ªç©ºå‡ºä¸–ï¼Œç±»ä¼¼äºJavaãƒ¼æ ·çš„åŸºäºé¢å‘å¯¹è±¡çš„ç¼–ç¨‹è¯­è¨€å¦‚ä»Šè¶Šæ¥è¶Šå¤šï¼Œå°½ç®¡è¿™ç±»ç¼–ç¨‹è¯­è¨€åœ¨è¯­æ³•é£æ ¼ä¸Šå­˜åœ¨ä¸€å®šçš„å·®åˆ«ï¼Œä½†æ˜¯å®ƒä»¬å½¼æ­¤ä¹‹é—´å§‹ç»ˆä¿æŒç€ä¸€ä¸ªå…±æ€§ï¼Œé‚£å°±æ˜¯éƒ½æ”¯æŒå°è£…ã€ç»§æ‰¿å’Œå¤šæ€ç­‰é¢å‘å¯¹è±¡ç‰¹æ€§ï¼Œæ—¢ç„¶è¿™ä¸€ç±»çš„ç¼–ç¨‹è¯­è¨€å…·å¤‡å¤šæ€ç‰¹æ€§ï¼Œé‚£ä¹ˆè‡ªç„¶ä¹Ÿå°±å…·å¤‡æ—©æœŸç»‘å®šå’Œæ™šæœŸç»‘å®šä¸¤ç§ç»‘å®šæ–¹å¼ã€‚â€‹ Javaä¸­ä»»ä½•ä¸€ä¸ªæ™®é€šçš„æ–¹æ³•å…¶å®éƒ½å…·å¤‡è™šå‡½æ•°çš„ç‰¹å¾ï¼Œå®ƒä»¬ç›¸å½“äºC++è¯­è¨€ä¸­çš„è™šå‡½æ•°(C++ä¸­åˆ™éœ€è¦ä½¿ç”¨å…³é”®å­— virtualæ¥æ˜¾å¼å®šä¹‰)ã€‚å¦‚æœåœ¨Javaç¨‹åºä¸­ä¸å¸Œæœ›æŸä¸ªæ–¹æ³•æ‹¥æœ‰è™šå‡½æ•°çš„ç‰¹å¾æ—¶ï¼Œåˆ™å¯ä»¥ä½¿ç”¨å…³é”®å­—finalæ¥æ ‡è®°è¿™ä¸ªæ–¹æ³•ã€‚ è™šæ‹Ÿæœºä¸­æä¾›äº†ä»¥ä¸‹å‡ æ¡æ–¹æ³•è°ƒç”¨æŒ‡ä»¤ æ™®é€šè°ƒç”¨æŒ‡ä»¤ invokestatic:è°ƒç”¨é™æ€æ–¹æ³•ï¼Œè§£æé˜¶æ®µç¡®å®šå”¯ä¸€æ–¹æ³•ç‰ˆæœ¬ invokespecial:è°ƒç”¨æ–¹æ³•ã€ç§æœ‰åŠçˆ¶ç±»æ–¹æ³•ï¼Œè§£æé˜¶æ®µç¡®å®šå”¯ä¸€æ–¹æ³•ç‰ˆæœ¬ involkevirtual:è°ƒç”¨æ‰€æœ‰è™šæ–¹æ³• invokeinterface:è°ƒç”¨æ¥å£æ–¹æ³• åŠ¨æ€è°ƒç”¨æŒ‡ä»¤ invokedynamic:åŠ¨æ€è§£æå‡ºéœ€è¦è°ƒç”¨çš„æ–¹æ³•ï¼Œç„¶åæ‰§è¡Œå‰å››æ¡æŒ‡ä»¤å›ºåŒ–åœ¨è™šæ‹Ÿæœºå†…éƒ¨ï¼Œæ–¹æ³•çš„è°ƒç”¨æ‰§è¡Œä¸å¯äººä¸ºå¹²é¢„ï¼Œè€Œ invokedynamicæŒ‡ä»¤åˆ™æ”¯æŒç”±ç”¨æˆ·ç¡®å®šæ–¹æ³•ç‰ˆæœ¬ã€‚å…¶ä¸­ invokestatic æŒ‡ä»¤å’Œ invokespecial æŒ‡ä»¤è°ƒç”¨çš„æ–¹æ³•ç§°ä¸ºéè™šæ–¹æ³•ï¼Œå…¶ä½™çš„( final ä¿®é¥°çš„é™¤å¤–)ç§°ä¸ºè™šæ–¹æ³•ã€‚ 13.Invokedynamic$\\star$ JVMå­—èŠ‚ç æŒ‡ä»¤é›†ä¸€ç›´æ¯”è¾ƒç¨³å®šï¼Œä¸€ç›´åˆ°Java7ä¸­ã‚ªå¢—åŠ äº†ä¸€ä¸ª invokedynamic æŒ‡ä»¤ï¼Œè¿™æ˜¯ Java ä¸ºäº†å®ç°ã€ŒåŠ¨æ€ç±»å‹è¯­è¨€ã€æ”¯æŒè€Œåšçš„ç§æ”¹è¿›ã€‚$\\star$ ä½†æ˜¯åœ¨ Java7 ä¸­å¹¶æ²¡æœ‰æä¾›ç›´æ¥ç”Ÿæˆ invokedynamic æŒ‡ä»¤çš„æ–¹æ³•ï¼Œéœ€è¦å€ŸåŠ© ASM è¿™ç§åº•å±‚å­—èŠ‚ç å·¥å…·æ¥äº§ç”Ÿ invokedynamic æŒ‡ä»¤ã€‚ç›´åˆ° Java8 çš„ Lambda è¡¨è¾¾å¼çš„å‡ºç°ï¼Œnvokedynamic æŒ‡ä»¤çš„ç”Ÿæˆï¼Œåœ¨ Java ä¸­æ‰æœ‰äº†ç›´æ¥çš„ç”Ÿæˆæ–¹å¼ã€‚$\\star$ Java7 ä¸­å¢åŠ çš„åŠ¨æ€è¯­è¨€ç±»å‹æ”¯æŒçš„æœ¬è´¨æ˜¯å¯¹ Java è™šæ‹Ÿæœºè§„èŒƒçš„ä¿®æ”¹ï¼Œè€Œä¸æ˜¯å¯¹ Java è¯­è¨€è§„åˆ™çš„ä¿®æ”¹ï¼Œè¿™ä¸€å—ç›¸å¯¹æ¥è®²æ¯”è¾ƒå¤æ‚ï¼Œå¢åŠ äº†è™šæ‹Ÿæœºä¸­çš„æ–¹æ³•è°ƒç”¨ï¼Œæœ€ç›´æ¥çš„å—ç›Šè€…å°±æ˜¯è¿è¡Œåœ¨ Java å¹³å°çš„åŠ¨æ€è¯­è¨€çš„ç¼–è¯‘å™¨ã€‚ åŠ¨æ€ç±»å‹è¯­è¨€å’Œé™æ€ç±»å‹è¯­è¨€ åŠ¨æ€ç±»å‹è¯­è¨€å’Œé™æ€ç±»å‹è¯­è¨€ä¸¤è€…çš„åŒºåˆ«å°±åœ¨äºå¯¹ç±»å‹çš„æ£€æŸ¥æ˜¯åœ¨ç¼–è¯‘æœŸè¿˜æ˜¯åœ¨è¿è¡ŒæœŸï¼Œæ»¡è¶³å‰è€…å°±æ˜¯é™æ€ç±»å‹è¯­è¨€ï¼Œåä¹‹æ˜¯åŠ¨æ€ç±»å‹è¯­è¨€ã€‚é™æ€ç±»å‹è¯­è¨€æ˜¯åˆ¤æ–­å˜é‡è‡ªèº«çš„ç±»å‹ä¿¡æ¯ï¼›åŠ¨æ€ç±»å‹è¯­è¨€æ˜¯åˆ¤æ–­å˜é‡å€¼çš„ç±»å‹ä¿¡æ¯ï¼Œå˜é‡æ²¡æœ‰ç±»å‹ä¿¡æ¯ï¼Œå˜é‡å€¼æ‰æœ‰ç±»å‹ä¿¡æ¯ï¼Œè¿™æ˜¯åŠ¨æ€è¯­è¨€ï¼ˆæ¯”å¦‚Pythonï¼‰çš„ä¸€ä¸ªé‡è¦ç‰¹å¾ã€‚ 14.æ–¹æ³•é‡å†™æœ¬è´¨Javaè¯­è¨€ä¸­æ–¹æ³•é‡å†™çš„æœ¬è´¨1.æ‰¾åˆ°æ“ä½œæ•°æ ˆé¡¶çš„ç¬¬ä¸€ä¸ªå…ƒç´ æ‰€æ‰§è¡Œçš„å¯¹è±¡çš„å®é™…ç±»å‹ï¼Œè®°ä½œC2.å¦‚æœåœ¨ç±»å‹Cä¸­æ‰¾åˆ°ä¸å¸¸é‡ä¸­çš„æè¿°ç¬¦åˆç®€å•åç§°éƒ½ç›¸ç¬¦çš„æ–¹æ³•ï¼Œåˆ™è¿›è¡Œè®¿é—®æƒé™æ ¡éªŒï¼Œå¦‚æœé€šè¿‡åˆ™è¿”å›è¿™ä¸ªæ–¹æ³•çš„ç›´æ¥å¼•ç”¨ï¼ŒæŸ»æ‰¾è¿‡ç¨‹ç»“æŸï¼›å¦‚æœä¸é€šè¿‡ï¼Œåˆ™è¿”å›java.lang.Illegal AccessErrorå¼‚å¸¸ã€‚3.å¦åˆ™ï¼ŒæŒ‰ç…§ç»§æ‰¿å…³ç³»ä»ä¸‹å¾€ä¸Šä¾æ¬¡å¯¹Cçš„å„ä¸ªçˆ¶ç±»è¿›è¡Œç¬¬2æ­¥çš„æœç´¢å’ŒéªŒè¯è¿‡ç¨‹ã€‚4.å¦‚æœå§‹ç»ˆæ²¡æœ‰æ‰¾åˆ°åˆé€‚çš„æ–¹æ³•ï¼Œåˆ™æŠ›å‡ºjava.lang. AbstractMethodErrorå¼‚å¸¸ã€‚Illegal Accessarrorä»‹ç»ï¼š ç¨‹åºè¯•å›¾è®¿é—®æˆ–ä¿®æ”¹ä¸€ä¸ªå±æ€§æˆ–è°ƒç”¨ä¸€ä¸ªæ–¹æ³•ï¼Œè¿™ä¸ªå±æ€§æˆ–æ–¹æ³•ï¼Œä½ æ²¡æœ‰æƒé™è®¿é—®ã€‚ä¸€èˆ¬çš„ï¼Œè¿™ä¸ªä¼šå¼•èµ·ç¼–è¯‘å™¨å¼‚å¸¸ã€‚è¿™ä¸ªé”™è¯¯å¦‚æœå‘ç”Ÿåœ¨è¿è¡Œæ—¶ï¼Œå°±è¯´æ˜ä¸€ä¸ªç±»å‘ç”Ÿäº†ä¸å…¼å®¹çš„æ”¹å˜ã€‚ ãƒ»åœ¨é¢å‘å¯¹è±¡çš„ç¼–ç¨‹ä¸­ï¼Œä¼šå¾ˆé¢‘ç¹çš„ä½¿ç”¨åˆ°åŠ¨æ€åˆ†æ´¾ï¼Œå¦‚æœåœ¨æ¯æ¬¡åŠ¨æ€åˆ†æ´¾çš„è¿‡ç¨‹ä¸­éƒ½è¦é‡æ–°åœ¨ç±»çš„æ–¹æ³•å…ƒæ•°æ®ä¸­æœç´¢åˆé€‚çš„ç›®æ ‡çš„è¯å°±å¯èƒ½å½±å“åˆ°æ‰§è¡Œæ•ˆç‡ã€‚å› æ­¤ï¼Œä¸ºäº†æé«˜æ€§èƒ½ï¼ŒJVMé‡‡ç”¨åœ¨ç±»çš„æ–¹æ³•åŒºå»ºç«‹ä¸€ä¸ªè™šæ–¹æ³•è¡¨( virtual method tabble)ï¼ˆéè™šæ–¹æ³•ä¸ä¼šå‡ºç°åœ¨è¡¨ä¸­ï¼‰æ¥å®ç°ã€‚ä½¿ç”¨ç´¢å¼•è¡¨æ¥ä»£æ›¿æŸ¥æ‰¾ã€‚ãƒ»æ¯ä¸ªç±»ä¸­éƒ½æœ‰ä¸€ä¸ªè™šæ–¹æ³•è¡¨ï¼Œè¡¨ä¸­å­˜æ”¾ç€å„ä¸ªæ–¹æ³•çš„å®é™…å…¥å£ãƒ»é‚£ä¹ˆè™šæ–¹æ³•è¡¨ä»€ä¹ˆæ—¶å€™è¢«åˆ›å»ºï¼Ÿè™šæ–¹æ³•è¡¨ä¼šåœ¨ç±»åŠ è½½çš„é“¾æ¥é˜¶æ®µè¢«åˆ›å»ºå¹¶å¼€å§‹åˆå§‹åŒ–ï¼Œç±»çš„å˜é‡åˆå§‹å€¼å‡†å¤‡å®Œæˆä¹‹åï¼ŒJWMä¼šæŠŠè¯¥ç±»çš„æ–¹æ³•è¡¨ä¹Ÿåˆå§‹åŒ–å®Œæ¯•ã€‚ 15.æ–¹æ³•è¿”å›åœ°å€å­˜æ”¾è°ƒç”¨è¯¥æ–¹æ³•çš„pcå¯„å­˜å™¨çš„å€¼ã€‚ ä¸€ä¸ªæ–¹æ³•çš„ç»“æŸï¼Œæœ‰ä¸¤ç§æ–¹å¼ï¼šæ­£å¸¸æ‰§è¡Œå®Œæˆå‡ºç°æœªå¤„ç†çš„å¼‚å¸¸ï¼Œéæ­£å¸¸é€€å‡º â€‹ æ— è®ºé€šè¿‡å“ªç§æ–¹å¼é€€å‡ºï¼Œåœ¨æ–¹æ³•é€€å‡ºåéƒ½è¿”å›åˆ°è¯¥æ–¹æ³•è¢«è°ƒç”¨çš„ä½ç½®ã€‚æ–¹æ³•æ­£å¸¸é€€å‡ºæ—¶ï¼Œè°ƒç”¨è€…çš„pcè®¡æ•°å™¨çš„å€¼ä½œä¸ºè¿”å›åœ°å€ï¼Œå³è°ƒç”¨è¯¥æ–¹æ³•çš„æŒ‡ä»¤çš„ä¸‹ä¸€æ¡æŒ‡ä»¤çš„åœ°å€ã€‚è€Œé€šè¿‡å¼‚å¸¸é€€å‡ºçš„ï¼Œè¿”å›åœ°å€æ˜¯è¦é€šè¿‡å¼‚å¸¸è¡¨æ¥ç¡®å®šï¼Œæ ˆå¸§ä¸­ä¸€èˆ¬ä¸ä¼šä¿å­˜è¿™éƒ¨åˆ†ä¿¡æ¯ã€‚ â€‹ æœ¬è´¨ä¸Šï¼Œæ–¹æ³•çš„é€€å‡ºå°±æ˜¯å½“å‰æ ˆå¸§å‡ºæ ˆçš„è¿‡ç¨‹ã€‚æ­¤æ—¶ï¼Œéœ€è¦æ¢å¤ä¸Šå±‚æ–¹æ³•çš„å±€éƒ¨å˜é‡è¡¨ã€æ“ä½œæ•°æ ˆã€å°†è¿”å›å€¼å‹å…¥è°ƒç”¨è€…æ ˆå¸§çš„æ“ä½œæ•°æ ˆã€è®¾ç½®PCå¯„å­˜å™¨å€¼ç­‰ï¼Œè®©è°ƒç”¨è€…æ–¹æ³•ç»§ç»­æ‰§è¡Œä¸‹å»ã€‚â€‹ æ­£å¸¸å®Œæˆå‡ºå£å’Œå¼‚å¸¸å®Œæˆå‡ºå£çš„åŒºåˆ«åœ¨äºï¼šé€šè¿‡å¼‚å¸¸å®Œæˆå‡ºå£é€€å‡ºçš„ä¸ä¼šç»™ä»–çš„ä¸Šå±‚è°ƒç”¨è€…äº§ç”Ÿä»»ä½•çš„è¿”å›å€¼ã€‚ å½“ä¸€ä¸ªæ–¹æ³•å¼€å§‹æ‰§è¡Œåï¼Œåªæœ‰ä¸¤ç§æ–¹å¼å¯ä»¥é€€å‡ºè¿™ä¸ªæ–¹æ³•1ã€æ‰§è¡Œå¼•æ“é‡åˆ°ä»»æ„ä¸€ä¸ªæ–¹æ³•è¿”å›çš„å­—èŠ‚ç æŒ‡ä»¤( return),ä¼šæœ‰è¿”å›å€¼ä¼ é€’ç»™ä¸Šå±‚çš„æ–¹æ³•è°ƒç”¨è€…ï¼Œç®€ç§°æ­£å¸¸å®Œæˆå‡ºå£ â€‹ ä¸€ä¸ªæ–¹æ³•åœ¨æ­£å¸¸è°ƒç”¨å®Œæˆä¹‹åç©¶ç«Ÿéœ€è¦ä½¿ç”¨å“ªä¸€ä¸ªè¿”å›æŒ‡ä»¤è¿˜éœ€è¦æ ¹æ®æ–¹æ³•è¿”å›å€¼çš„å®é™…æ•°æ®ç±»å‹è€Œå®šã€‚â€‹ åœ¨å­—èŠ‚ç æŒ‡ä»¤ä¸­ï¼Œè¿”å›æŒ‡ä»¤åŒ…å« lreturn(å½“è¿”å›å€¼æ˜¯ booleanã€byteã€charã€shorthå’Œintç±»å‹æ—¶ä½¿ç”¨)ã€lreturnã€ freturnã€ dreturnä»¥åŠ areturn,å¦å¤–è¿˜æœ‰ä¸€ä¸ª returnæŒ‡ä»¤ä¾›å£°æ˜ä¸ºvoidçš„æ–¹æ³•ã€å®ä¾‹åˆå§‹åŒ–æ–¹æ³•ã€ç±»å’Œæ¥å£çš„åˆå§‹åŒ–æ–¹æ³•ä½¿ç”¨ã€‚ 2ã€åœ¨æ–¹æ³•æ‰§è¡Œçš„è¿‡ç¨‹ä¸­é‡åˆ°äº†å¼‚å¸¸( Exception),å¹¶ä¸”è¿™ä¸ªå¼‚å¸¸æ²¡æœ‰åœ¨æ–¹æ³•å†…è¿›è¡Œå¤„ç†ï¼Œä¹Ÿå°±æ˜¯åªè¦åœ¨æœ¬æ–¹æ³•çš„å¼‚å¸¸è¡¨ä¸­æ²¡æœ‰æœç´¢åˆ°åŒ¹é…çš„å¼‚å¸¸å¤„ç†å™¨ï¼Œå°±ä¼šå¯¼è‡´æ–¹æ³•é€€å‡ºã€‚ç®€ç§°å¼‚å¸¸å®Œæˆå‡ºå£ã€‚æ–¹æ³•æ‰§è¡Œè¿‡ç¨‹ä¸­æŠ›å‡ºå¼‚å¸¸æ—¶çš„å¼‚å¸¸å¤„ç†ï¼Œå­˜å‚¨åœ¨ä¸€ä¸ªå¼‚å¸¸å¤„ç†è¡¨ï¼Œæ–¹ä¾¿åœ¨å‘ç”Ÿå¼‚å¸¸çš„æ—¶å€™æ‰¾åˆ°å¤„ç†å¼‚å¸¸çš„ä»£ç ã€‚ 16.ä¸€äº›é™„åŠ ä¿¡æ¯(ç•¥)17.é¢è¯•é¢˜ä¸¾ä¾‹æ ˆæº¢å‡ºçš„æƒ…å†µï¼Ÿ( StackOverflowError)é€šè¿‡-Xssè®¾ç½®æ ˆçš„å¤§å°ï¼›OOMè°ƒæ•´æ ˆå¤§å°ï¼Œå°±èƒ½ä¿è¯ä¸å‡ºç°æº¢å‡ºå—ï¼Ÿä¸èƒ½åˆ†é…çš„æ ˆå†…å­˜è¶Šå¤§è¶Šå¥½å—ï¼Ÿä¸æ˜¯åƒåœ¾å›æ”¶æ˜¯å¦ä¼šæ¶‰åŠåˆ°è™šæ‹Ÿæœºæ ˆï¼Ÿä¸ä¼šçš„ï¼æ–¹æ³•ä¸­å®šä¹‰çš„å±€éƒ¨å˜é‡æ˜¯å¦çº¿ç¨‹å®‰å…¨ï¼Ÿå…·ä½“é—®é¢˜å…·ä½“åˆ†æ å…­ã€æœ¬åœ°æ–¹æ³•æ¥å£ä»€ä¹ˆæ˜¯æœ¬åœ°æ–¹æ³•ï¼Ÿç®€å•åœ°è®²ï¼Œä¸€ä¸ª Native Methodlå°±æ˜¯ä¸€ä¸ªJavaè°ƒç”¨éJavaä»£ç çš„æ¥å£ã€‚ä¸€ä¸ªNative Methodæ˜¯è¿™æ ·ä¸€ä¸ªJavaæ–¹æ³•ï¼šè¯¥æ–¹æ³•çš„å®ç°ç”±éJavaè¯­è¨€å®ç°ï¼Œæ¯”å¦‚C.è¿™ä¸ªç‰¹å¾å¹¶éJavaæ‰€ç‰¹æœ‰ï¼Œå¾ˆå¤šå…¶å®ƒçš„ç¼–ç¨‹è¯­è¨€éƒ½æœ‰è¿™ä¸€æœºåˆ¶ï¼Œæ¯”å¦‚åœ¨C ä¸­ï¼Œä½ å¯ä»¥ç”¨ externâ€câ€å‘ŠçŸ¥C ç¼–è¯‘å™¨å»è°ƒç”¨ä¸€ä¸ªCçš„å‡½æ•°ã€‚ A native method is a Java method whose Implementation is provided by non-java code åœ¨å®šä¹‰ãƒ¼ä¸ª native methodæ—¶ï¼Œå¹¶ä¸æä¾›å®ç°ä½“(æœ‰äº›åƒå®šä¹‰ãƒ¼ä¸ªJavai nterface),å› ä¸ºå…¶å®ç°ä½“æ˜¯ç”±éjavaè¯­è¨€åœ¨å¤–é¢å®ç°çš„ã€‚æœ¬åœ°æ¥å£çš„ä½œç”¨æ˜¯èåˆä¸åŒçš„ç¼–ç¨‹è¯­è¨€ä¸ºJavaæ‰€ç”¨ï¼Œå®ƒçš„åˆè¡·æ˜¯èåˆC/C++ç¨‹åºã€‚ ä¸ºä»€ä¹ˆè¦ä½¿ç”¨ Native Method?Javaä½¿ç”¨èµ·æ¥éå¸¸æ–¹ä¾¿ï¼Œç„¶è€Œæœ‰äº›å±‚æ¬¡çš„ä»»åŠ¡ç”¨Javaå®ç°èµ·æ¥ä¸å®¹æ˜“ï¼Œæˆ–è€…æˆ‘ä»¬å¯¹ç¨‹åºçš„æ•ˆç‡å¾ˆåœ¨æ„æ—¶ï¼Œé—®é¢˜å°±æ¥äº†ã€‚ãƒ»ä¸Javaç¯å¢ƒå¤–äº¤äº’ï¼šæœ‰æ—¶Javaåº”ç”¨éœ€è¦ä¸Javaå¤–é¢çš„ç¯å¢ƒäº¤äº’ï¼Œè¿™æ˜¯æœ¬åœ°æ–¹æ³•å­˜åœ¨çš„ä¸»è¦åŸå› ã€‚ä½ å¯ä»¥æƒ³æƒ³Javaéœ€è¦ä¸ä¸€äº›åº•å±‚ç³»ç»Ÿï¼Œå¦‚æ“ä½œç³»ç»Ÿæˆ–æŸäº›ç¡¬ä»¶äº¤æ¢ä¿¡æ¯æ—¶çš„æƒ…å†µã€‚æœ¬åœ°æ–¹æ³•æ­£æ˜¯è¿™æ ·ä¸€ç§äº¤æµæœºåˆ¶ï¼šå®ƒä¸ºæˆ‘ä»¬æä¾›äº†ä¸€ä¸ªéå¸¸ç®€æ´çš„æ¥å£è€Œä¸”æˆ‘ä»¬æ— éœ€å»äº†è§£Javaåº”ç”¨ä¹‹å¤–çš„ç¹ççš„ç»†èŠ‚ã€‚ ä¸æ“ä½œç³»ç»Ÿäº¤äº’ JVMæ”¯æŒç€Javaè¯­è¨€æœ¬èº«å’Œè¿è¡Œæ—¶åº“ï¼Œå®ƒæ˜¯Javaç¨‹åºèµ–ä»¥ç”Ÿå­˜çš„å¹³å°ï¼Œå®ƒç”±ä¸€ä¸ªè§£é‡Šå™¨ï¼ˆè§£é‡Šå­—èŠ‚ç ï¼‰å’Œä¸€äº›è¿æ¥åˆ°æœ¬åœ°ä»£ç çš„åº“ç»„æˆã€‚ç„¶è€Œä¸ç®¡æ€æ ·ï¼Œå®ƒæ¯•ç«Ÿä¸æ˜¯ä¸€ä¸ªå®Œæ•´çš„ç³»ç»Ÿï¼Œå®ƒç»å¸¸ä¾èµ–äºä¸€äº›åº•å±‚ç³»ç»Ÿçš„æ”¯æŒã€‚è¿™äº›åº•å±‚ç³»ç»Ÿå¸¸å¸¸æ˜¯å¼ºå¤§çš„æ“ä½œç³»ç»Ÿã€‚é€šè¿‡ä½¿ç”¨æœ¬åœ°æ–¹æ³•ï¼Œæˆ‘ä»¬å¾—ä»¥ç”¨Javaå®ç°äº†jreçš„ä¸åº•å±‚ç³»ç»Ÿçš„äº¤äº’ï¼Œç”šè‡³JVMçš„ä¸€äº›éƒ¨åˆ†å°±æ˜¯ç”¨Cå†™çš„ã€‚è¿˜æœ‰ï¼Œå¦‚æœæˆ‘ä»¬è¦ä½¿ç”¨ä¸€äº›Javaè¯­è¨€æœ¬èº«æ²¡æœ‰æä¾›å°è£…çš„æ“ä½œç³»ç»Ÿçš„ç‰¹æ€§æ—¶ï¼Œæˆ‘ä»¬ä¹Ÿéœ€è¦ä½¿ç”¨æœ¬åœ°æ–¹æ³•ã€‚Sunâ€™s Java Sunçš„è§£é‡Šå™¨æ˜¯ç”¨Cå®ç°çš„ï¼Œè¿™ä½¿å¾—å®ƒèƒ½åƒä¸€äº›æ™®é€šçš„Cä¸€æ ·ä¸å¤–éƒ¨äº¤äº’ã€‚jreå¤§éƒ¨åˆ†æ˜¯ç”¨Javaå®ç°çš„ï¼Œå®ƒä¹Ÿé€šè¿‡ä¸€äº›æœ¬åœ°æ–¹æ³•ä¸å¤–ç•Œäº¤äº’ã€‚ä¾‹å¦‚ï¼šç±»java.lang. hreadçš„ setpriorityï¼ˆï¼‰æ–¹æ³•æ˜¯ç”¨Javaå®ç°çš„ï¼Œä½†æ˜¯å®ƒå®ç°è°ƒç”¨çš„æ˜¯è¯¥ç±»é‡Œçš„æœ¬åœ°æ–¹æ³•setprlority0ï¼ˆï¼‰ã€‚è¿™ä¸ªæœ¬åœ°æ–¹æ³•æ˜¯ç”¨Cå®ç°çš„ï¼Œå¹¶è¢«æ¤å…¥JVMå†…éƒ¨ï¼Œåœ¨Windows 95çš„å¹³å°ä¸Šï¼Œè¿™ä¸ªæœ¬åœ°æ–¹æ³•æœ€ç»ˆå°†è°ƒç”¨Win32 Setpriorityï¼ˆï¼‰APIã€‚è¿™æ˜¯ä¸€ä¸ªæœ¬åœ°æ–¹æ³•çš„å…·ä½“å®ç°ç”±JMç›´æ¥æä¾›ï¼Œæ›´å¤šçš„æƒ…å†µæ˜¯æœ¬åœ°æ–¹æ³•ç”±å¤–éƒ¨çš„åŠ¨æ€é“¾æ¥åº“( external dynamic link library)æä¾›ï¼Œç„¶åè¢«JVMè°ƒç”¨ã€‚ ç°çŠ¶ ç›®å‰è¯¥æ–¹æ³•ä½¿ç”¨çš„è¶Šæ¥è¶Šå°‘äº†ï¼Œé™¤éæ˜¯ä¸ç¡¬ä»¶æœ‰å…³çš„åº”ç”¨ï¼Œæ¯”å¦‚é€šè¿‡Javaç¨‹åºé©±åŠ¨æ‰“å°æœºæˆ–è€…Javaç³»ç»Ÿç®¡ç†ç”Ÿäº§è®¾å¤‡ï¼Œåœ¨ä¼ä¸šçº§åº”ç”¨ä¸­å·²ç»æ¯”è¾ƒå°‘è§ã€‚å› ä¸ºç°åœ¨çš„å¼‚æ„é¢†åŸŸé—´çš„é€šä¿¡å¾ˆå‘è¾¾ï¼Œæ¯”å¦‚å¯ä»¥ä½¿ç”¨ Socketé€šä¿¡ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ç½‘ Web Serviceç­‰ç­‰ï¼Œä¸å¤šåšä»‹ç»ã€‚ ä¸ƒã€æœ¬åœ°æ–¹æ³•æ ˆæœ¬åœ°æ–¹æ³•æ ˆ( Native Method Stack)ãƒ»Javaè™šæ‹Ÿæœºæ ˆç”¨äºç®¡ç†Javaæ–¹æ³•çš„è°ƒç”¨ï¼Œè€Œæœ¬åœ°æ–¹æ³•ç”¨äºç®¡ç†æœ¬åœ°æ–¹æ³•çš„è°ƒç”¨ã€‚ãƒ»æœ¬åœ°æ–¹æ³•æ ˆï¼Œä¹Ÿæ˜¯çº¿ç¨‹ç§æœ‰çš„ã€‚ãƒ»å…è®¸è¢«å®ç°æˆå›ºå®šæˆ–è€…æ˜¯å¯åŠ¨æ€æ‰©å±•çš„å†…å­˜å¤§å°ã€‚ï¼ˆåœ¨å†…å­˜æº¢å‡ºæ–¹é¢æ˜¯ç›¸åŒçš„ï¼‰ â€‹ å¦‚æœçº¿ç¨‹è¯·æ±‚åˆ†é…çš„æ©Ÿå®¹é‡è¶…è¿‡æœ¬åœ°æ–¹æ³•æ©Ÿå…è®¸çš„æœ€å¤§å®¹é‡ï¼ŒJavaè™šæ‹Ÿæœºå°†ä¼šæŠ›å‡ºä¸€ä¸ª StackOverflowErrorå¼‚å¸¸ã€‚â€‹ å¦‚æœæœ¬åœ°æ–¹æ³•æ ˆå¯ä»¥åŠ¨æ€æ‰©å±•ï¼Œå¹¶ä¸”åœ¨å°è¯•æ‰©å±•çš„æ—¶å€™æ— æ³•ç”³è¯·åˆ°è¶³å¤Ÿçš„å†…å­˜ï¼Œæˆ–è€…åœ¨åˆ›å»ºæ–°çš„çº¿ç¨‹æ—¶æ²¡æœ‰è¶³å¤Ÿçš„å†…å­˜å»åˆ›å»ºå¯¹åº”çš„æœ¬åœ°æ–¹æ³•æ ˆï¼Œé‚£ä¹ˆJavaè™šæ‹Ÿæœºå°†ä¼šæŠ›å‡ºä¸€ä¸ª OutOfMemoryErrorå¼‚å¸¸ãƒ»æœ¬åœ°æ–¹æ³•æ˜¯ä½¿ç”¨Cè¯­è¨€å®ç°çš„ãƒ»å®ƒçš„å…·ä½“åšæ³•æ˜¯ Native Method Stackä¸­ç™»è®° native æ–¹æ³•ï¼Œåœ¨ Execution Engine æ‰§è¡Œæ—¶åŠ è½½æœ¬åœ°æ–¹æ³•åº“ã€‚ ãƒ»å½“æŸä¸ªçº¿ç¨‹è°ƒç”¨ä¸€ä¸ªæœ¬åœ°æ–¹æ³•æ—¶ï¼Œå®ƒå°±è¿›å…¥äº†ä¸€ä¸ªå…¨æ–°çš„å¹¶ä¸”ä¸å†å—è™šæ‹Ÿæœºé™åˆ¶çš„ä¸–ç•Œã€‚å®ƒå’Œè™šæ‹Ÿæœºæ‹¥æœ‰åŒæ ·çš„æƒé™ã€‚ æœ¬åœ°æ–¹æ³•å¯ä»¥é€šè¿‡æœ¬åœ°æ–¹æ³•æ¥å£æ¥è®¿é—®è™šæ‹Ÿæœºå†…éƒ¨çš„è¿è¡Œæ—¶æ•°æ®åŒºã€‚ å®ƒç”šè‡³å¯ä»¥ç›´æ¥ä½¿ç”¨æœ¬åœ°å¤„ç†å™¨ä¸­çš„å¯„å­˜å™¨ ç›´æ¥ä»æœ¬åœ°å†…å­˜çš„å †ä¸­åˆ†é…ä»»æ„æ•°é‡çš„å†…å­˜ã€‚å¹¶ä¸æ˜¯æ‰€æœ‰çš„JWMéƒ½æ”¯æŒæœ¬åœ°æ–¹æ³•ã€‚å› ä¸ºJavaè™šæ‹Ÿæœºè§„èŒƒå¹¶æ²¡æœ‰æ˜ç¡®è¦æ±‚æœ¬åœ°æ–¹æ³•æ ˆçš„ä½¿ç”¨è¯­è¨€ã€å…·ä½“å®ç°æ–¹å¼ã€æ•°æ®ç»“æ„ç­‰ã€‚å¦‚æœJMäº§å“ä¸æ‰“ç®—æ”¯æŒ nativeæ–¹æ³•ï¼Œä¹Ÿå¯ä»¥æ— éœ€å®ç°æœ¬åœ°æ–¹æ³•æ ˆã€‚ãƒ»åœ¨ Hotspot JVMä¸­ï¼Œç›´æ¥å°†æœ¬åœ°æ–¹æ³•æ ˆå’Œè™šæ‹Ÿæœºæ ˆåˆäºŒä¸ºä¸€ã€‚ å…«ã€å †1.å †çš„æ ¸å¿ƒæ¦‚è¿°ãƒ»ä¸€ä¸ªJVMå®ä¾‹åªå­˜åœ¨ä¸€ä¸ªå †å†…å­˜ï¼Œå †ä¹Ÿæ˜¯Javaå†…å­˜ç®¡ç†çš„æ ¸å¿ƒåŒºåŸŸã€‚ãƒ»Javaå †åŒºåœ¨JVMå¯åŠ¨çš„æ—¶å€™å³è¢«åˆ›å»ºï¼Œå…¶ç©ºé—´å¤§å°ä¹Ÿå°±ç¡®å®šäº†ã€‚æ˜¯JVMç®¡ç†çš„æœ€å¤§ä¸€å—å†…å­˜ç©ºé—´ã€‚å †å†…å­˜çš„å¤§å°æ˜¯å¯ä»¥è°ƒèŠ‚çš„ã€‚ã€ŠJavaè™šæ‹Ÿæœºè§„èŒƒã€‹è§„å®šï¼Œå †å¯ä»¥å¤„äºç‰©ç†ä¸Šä¸è¿ç»­çš„å†…å­˜ç©ºé—´ä¸­ï¼Œä½†åœ¨é€»è¾‘ä¸Šå®ƒåº”è¯¥è¢«è§†ä¸ºè¿ç»­çš„ãƒ»æ‰€æœ‰çš„çº¿ç¨‹å…±äº«Javaå †ï¼Œåœ¨è¿™é‡Œè¿˜å¯ä»¥åˆ’åˆ†çº¿ç¨‹ç§æœ‰çš„ç¼“å†²åŒºï¼ˆ Thread Local Allocation Buffer, TLAB) ãƒ»ã€ŠJavaè™šæ‹Ÿæœºè§„èŒƒã€‹ä¸­å¯¹Javaå †çš„æè¿°æ˜¯ï¼šæ‰€æœ‰çš„å¯¹è±¡å®ä¾‹ä»¥åŠæ•°ç»„éƒ½åº”å½“åœ¨è¿è¡Œæ—¶åˆ†é…åœ¨å †ä¸Šã€‚ï¼ˆ The heap is the run-time data area fromwhich memcry for all class instances and arrays is allocated)æˆ‘è¦è¯´çš„æ˜¯ï¼šâ€œå‡ ä¹â€æ‰€æœ‰çš„å¯¹è±¡å®ä¾‹éƒ½åœ¨è¿™é‡Œåˆ†é…å†…å­˜ã€‚ä¸€ä»å®é™…ä½¿ç”¨è§’åº¦çœ‹çš„ã€‚ãƒ»æ•°ç»„å’Œå¯¹è±¡å¯èƒ½æ°¸è¿œä¸ä¼šå­˜å‚¨åœ¨æ ˆä¸Šï¼Œå› ä¸ºæ ˆå¸§ä¸­ä¿å­˜å¼•ç”¨ï¼Œè¿™ä¸ªå¼•ç”¨æŒ‡å‘å¯¹è±¡æˆ–è€…æ•°ç»„åœ¨å †ä¸­çš„ä½ç½®ã€‚ãƒ»åœ¨æ–¹æ³•ç»“æŸåï¼Œå †ä¸­çš„å¯¹è±¡ä¸ä¼šé©¬ä¸Šè¢«ç§»é™¤ï¼Œä»…ä»…åœ¨åƒåœ¾æ”¶é›†çš„æ—¶å€™æ‰ä¼šè¢«ç§»é™¤ã€‚ãƒ»å †ï¼Œæ˜¯GC( Garbage Collection,åƒåœ¾æ”¶é›†å™¨)æ‰§è¡Œåƒåœ¾å›æ”¶çš„é‡ç‚¹åŒºåŸŸã€‚ 2.å †çš„ç»†åˆ†å†…å­˜ç»“æ„ 3.è®¾ç½®å †å†…å­˜å¤§å°ä¸OOM1.è®¾ç½®å †å†…å­˜Javaå †åŒºç”¨äºå­˜å‚¨Javaå¯¹è±¡å®ä¾‹ï¼Œé‚£ä¹ˆå †çš„å¤§å°åœ¨JVMå¯åŠ¨æ—¶å°±å·²ç»è®¾å®šå¥½äº†ï¼Œå¤§å®¶å¯ä»¥é€šè¿‡é€‰é¡¹â€-Xmxâ€å’Œâ€-Xmsâ€æ¥è¿›è¡Œè®¾ç½® â€‹ â€œ-Xmsâ€ç”¨äºè¡¨ç¤ºå †åŒºçš„èµ·å§‹å†…å­˜ï¼Œç­‰ä»·äºãƒ¼XX: Initialheapsizeâ€‹ â€œ-Xmxâ€åˆ™ç”¨äºè¡¨ç¤ºå †åŒºçš„æœ€å¤§å†…å­˜ï¼Œç­‰ä»·äºãƒ¼XX: Maxheapsizeä¸€æ—¦å †åŒºä¸­çš„å†…å­˜å¤§å°è¶…è¿‡â€œ-Xmxâ€æ‰€æŒ‡å®šçš„æœ€å¤§å†…å­˜æ—¶ï¼Œå°†ä¼šæŠ›å‡º OutOfMemoryError å¼‚å¸¸ã€‚ãƒ»é€šå¸¸ä¼šå°† -Xms å’Œ -Xmx ä¸¤ä¸ªå‚æ•°é…ç½®ç›¸åŒçš„å€¼ï¼Œå…¶ç›®çš„æ˜¯ä¸ºäº†èƒ½å¤Ÿåœ¨javaåƒåœ¾å›æ”¶æœºåˆ¶æ¸…ç†å®Œå †åŒºåä¸éœ€è¦é‡æ–°åˆ†éš”è®¡ç®—å †åŒºçš„å¤§å°ï¼Œä»è€Œæé«˜æ€§èƒ½ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼šåˆå§‹å†…å­˜å¤§å°ï¼šç‰©ç†ç”µè„‘å†…å­˜å¤§å°/64ï¼Œæœ€å¤§å†…å­˜å¤§å°ï¼šç‰©ç†ç”µè„‘å†…å­˜å¤§å°/4 4.æŸ¥çœ‹è®¾ç½®çš„å‚æ•°ï¼šæ–¹å¼ä¸€ï¼šjps/jstat -gc è¿›ç¨‹id æ–¹å¼äºŒï¼š-XX: +Printgcdetails 2.OOMè¯´æ˜ä¸ä¸¾ä¾‹å·¥å…·ï¼šjvisualvmï¼šæŸ¥çœ‹å†…å­˜æƒ…å†µï¼Œjvisualvmå‘½ä»¤å¯ç›´æ¥æ‰“å¼€ å®‰è£…æ’ä»¶ 1234567891011121314151617181920212223public class OOMInstance { public static void main(String[] args){ ArrayList&lt;Picture1&gt; list=new ArrayList&lt;&gt;(); while(true) { try { Thread.sleep(20); } catch (InterruptedException e) { e.printStackTrace(); } list.add(new Picture1(new Random().nextInt(1024*1024))); } }}class Picture1{ private byte[] pixels; public Picture1(int length){ this.pixels = new byte[length]; }} ç¼–è¯‘ç¨‹åº ä¿®æ”¹å †å¤§å° è¿è¡Œç¨‹åºæŸ¥çœ‹ jvisualvm Exception in thread â€œmainâ€ java.lang.OutOfMemoryError: Java heap space at pers.lxl.mylearnproject.programbase.jvm.Picture1.(OOMInstance.java:27) at pers.lxl.mylearnproject.programbase.jvm.OOMInstance.main(OOMInstance.java:19) 4.å¹´è½»ä»£ä¸è€å¹´ä»£ãƒ»å­˜å‚¨åœ¨JVMä¸­çš„Javaå¯¹è±¡å¯ä»¥è¢«åˆ’åˆ†ä¸ºä¸¤ç±» ä¸€ç±»æ˜¯ç”Ÿå‘½å‘¨æœŸè¾ƒçŸ­çš„ç¬æ—¶å¯¹è±¡ï¼Œè¿™ç±»å¯¹è±¡çš„åˆ›å»ºå’Œæ¶ˆäº¡éƒ½éå¸¸è¿…é€Ÿ å¦å¤–ä¸€ç±»å¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸå´éå¸¸é•¿ï¼Œåœ¨æŸäº›æç«¯çš„æƒ…å†µä¸‹è¿˜èƒ½å¤Ÿä¸JVMçš„ç”Ÿå‘½å‘¨æœŸä¿æŒä¸€è‡´ã€‚ãƒ»Javaå †åŒºè¿›ä¸€æ­¥ç»†åˆ†çš„è¯ï¼Œå¯ä»¥åˆ’åˆ†ä¸ºå¹´è½»ä»£( YoungGen)å’Œè€å¹´ä»£( OldGen)ãƒ»å…¶ä¸­å¹´è½»ä»£åˆå¯ä»¥åˆ’åˆ†ä¸ºEdenç©ºé—´ã€ Survivor0ç©ºé—´å’Œ Survivor1ç©ºé—´(æœ‰æ—¶ä¹Ÿå«åšfromåŒºã€toåŒº)ã€‚ å‚æ•°è®¾ç½®ï¼šé…ç½®æ–°ç”Ÿä»£ä¸è€å¹´ä»£åœ¨å †ç»“æ„çš„å æ¯”ã€‚é»˜è®¤-XX: NewRatio=2,è¡¨ç¤ºæ–°ç”Ÿä»£å 1,è€å¹´ä»£å 2,æ–°ç”Ÿä»£å æ•´ä¸ªå †çš„1/3å¯ä»¥ä¿®æ”¹-XX: Newratio=4,è¡¨ç¤ºæ–°ç”Ÿä»£å 1,è€å¹´ä»£å 4,æ–°ç”Ÿä»£å æ•´ä¸ªå †çš„1/5 åœ¨ Hot Spotä¸­ï¼ŒEdenç©¶é—´å’Œå¦å¤–ä¸¤ä¸ª Survivorâ€™ç©ºé—´ç¼ºçœæ‰€å çš„æ¯”ä¾‹æ˜¯8:1:1å½“ç„¶å¼€å‘äººå‘˜å¯ä»¥é€šè¿‡é€‰é¡¹â€œ-Xx: SurvivorRatioâ€è°ƒæ•´è¿™ä¸ªç©ºé—´æ¯”ä¾‹ã€‚æ¯”å¦‚XX: Survivorratio=8,é»˜è®¤8å‡ ä¹æ‰€æœ‰çš„Javaå¯¹è±¡éƒ½æ˜¯åœ¨EdenåŒºè¢«newå‡ºæ¥çš„ç»å¤§éƒ¨åˆ†çš„Javaå¯¹è±¡çš„é”€æ¯éƒ½åœ¨æ–°ç”Ÿä»£è¿›è¡Œäº†ã€‚IBMå…¬å¸çš„ä¸“é—¨ç ”ç©¶è¡¨æ˜ï¼Œæ–°ç”Ÿä»£ä¸­80%çš„å¯¹è±¡éƒ½æ˜¯â€œæœç”Ÿå¤•æ­»â€çš„ã€‚å¯ä»¥ä½¿ç”¨é€‰é¡¹â€-Xmnâ€˜â€œè®¾ç½®æ–°ç”Ÿä»£æœ€å¤§å†…å­˜å¤§å°&gt;è¿™ä¸ªå‚æ•°ä¸€èˆ¬ä½¿ç”¨é»˜è®¤å€¼å°±å¯ä»¥äº†ã€‚ å¯¹è±¡æµç¨‹ï¼š 5.å¯¹è±¡åˆ†é…è¿‡ç¨‹â€‹ Eden æ»¡è§¦å‘ YGC/Minor GC å¯¹ Edenä¸ From åŒºå›æ”¶ï¼Œè¿˜åœ¨ç”¨çš„å¯¹è±¡æ”¾åˆ° From åŒºï¼ŒAgeè®¾ä¸º1ï¼Œä¸‹æ¬¡å›æ”¶è§¦å‘æ—¶å¤åˆ¶ From åŒºè½¬åˆ° To åŒºï¼ˆç©ºçš„åŒºï¼‰ï¼ŒAge+1ï¼ŒAge è¾¾åˆ°é˜ˆå€¼ï¼ˆå¯é€šè¿‡è®¾ç½® -XX: MaxTenuringThreshold=ï¼‰æ”¾å…¥Oldã€‚ ä¸ºæ–°å¯¹è±¡åˆ†é…å†…å­˜æ˜¯ä¸€ä»¶éå¸¸ä¸¥è°¨å’Œå¤æ‚çš„ä»»åŠ¡ï¼ŒJVMçš„è®¾è®¡è€…ä»¬ä¸ä»…éœ€è¦è€ƒè™‘å†…å­˜å¦‚ä½•åˆ†é…ã€åœ¨å“ªé‡Œåˆ†é…ç­‰é—®é¢˜ï¼Œå¹¶ä¸”ç”±äºå†…å­˜åˆ†é…ç®—æ³•ä¸å†…å­˜å›æ”¶ç®—æ³•å¯†åˆ‡ç›¸å…³ï¼Œæ‰€ä»¥è¿˜éœ€è¦è€ƒè™‘Gcæ‰§è¡Œå®Œå†…å­˜å›æ”¶åæ˜¯å¦ä¼šåœ¨å†…å­˜ç©ºé—´ä¸­çˆ¬ç”Ÿå†…å­˜ç¢ç‰‡ã€‚1.newçš„å¯¹è±¡å…ˆæ”¾ä¼Šç”¸å›­åŒºã€‚æ­¤åŒºæœ‰å¤§å°é™åˆ¶ã€‚2.å½“ä¼Šç”¸å›­çš„ç©ºé—´å¡«æ»¡æ—¶ï¼Œç¨‹åºåˆéœ€è¦åˆ›å»ºå¯¹è±¡ï¼ŒJVMçš„åƒåœ¾å›æ”¶å™¨å°†å¯¹ä¼Šç”¸å›­åŒºè¿›è¡Œåƒåœ¾å›æ”¶( Minor GC),å°†ä¼Šç”¸å›­åŒºä¸­çš„ä¸å†è¢«å…¶ä»–å¯¹è±¡æ‰€å¼•ç”¨çš„å¯¹è±¡è¿›è¡Œé”€æ¯ã€‚å†åŠ è½½æ–°çš„å¯¹è±¡æ”¾åˆ°ä¼Šç”¸å›­åŒºã€‚3.ç„¶åå°†ä¼Šç”¸å›­ä¸­çš„å‰©ä½™å¯¹è±¡ç§»åŠ¨åˆ°å¹¸å­˜è€…0åŒº4.å¦‚æœå†æ¬¡è§¦å‘åƒåœ¾å›æ”¶ï¼Œæ­¤æ—¶ä¸Šæ¬¡å¹¸å­˜ä¸‹æ¥çš„æ”¾åˆ°å¹¸å­˜è€…0åŒºçš„ï¼Œå¦‚æœæ²¡æœ‰å›æ”¶ï¼Œå°±ä¼šæ”¾åˆ°å¹¸å­˜è€…1åŒºã€‚5.å¦‚æœå†æ¬¡ç»å†åƒåœ¾å›æ”¶ï¼Œæ­¤æ—¶ä¼šé‡æ–°æ”¾å›å¹¸å­˜è€…0åŒºï¼Œæ¥ç€å†å»å¹¸å­˜è€…1åŒº6.å•¥æ—¶å€™èƒ½å»å…»è€åŒºå‘¢ï¼Ÿå¯ä»¥è®¾ç½®æ¬¡æ•°ã€‚é»˜è®¤æ˜¯15æ¬¡ã€‚å¯ä»¥è®¾ç½®å‚æ•°ï¼š-XX: MaxTenuringThreshold=è¿›è¡Œè®¾ç½®ã€‚ æ€»ç»“é’ˆå¯¹å¹¸å­˜è€…s0,s1åŒºçš„æ€»ç»“ï¼šå¤åˆ¶ä¹‹åæœ‰äº¤æ¢ï¼Œè°ç©ºè°æ˜¯Toå…³äºåƒåœ¾å›æ”¶ï¼šé¢‘ç¹åœ¨æ–°ç”ŸåŒºæ”¶é›†ï¼Œå¾ˆå°‘åœ¨å…»è€åŒºæ”¶é›†ï¼Œå‡ ä¹ä¸åœ¨æ°¸ä¹…åŒº/å…ƒç©ºé—´æ”¶é›†ã€‚ ä¹ã€æ–¹æ³•åŒºåã€ç›´æ¥å†…å­˜åä¸€ã€æ‰§è¡Œå¼•æ“åäºŒã€StringTableåä¸‰ã€åƒåœ¾å›æ”¶æ¦‚è¿°åå››ã€åƒåœ¾å›æ”¶ç›¸å…³ç®—æ³•åäº”ã€åƒåœ¾å›æ”¶ç›¸å…³æ¦‚å¿µåå…­ã€åƒåœ¾å›æ”¶å™¨","link":"/2021/11/10/Draft/2021/JVM%20%E4%B8%8E%E4%B8%8A%E5%B1%82%E6%8A%80%E6%9C%AF/"},{"title":"é­‘é­…å…ˆç”Ÿ | æœåŠ¡å™¨","text":"Linuxå¸¸ç”¨çŸ¥è¯†ã€æœåŠ¡å™¨é€‰æ‹©ã€æ­å»ºä¸ªäººç½‘ç›˜ã€JAVAå¼€å‘ç›¸å…³è½¯ä»¶é…ç½®ã€åšå®¢æ­å»ºã€åŸŸåé…ç½®ã€ç›¸å…³è½¯ä»¶æ¨èã€‚ Linux å¸¸ç”¨å‘½ä»¤åŸºæœ¬1234567891011121314å…³æœº shutdown -h now ç«‹åˆ»å…³æœº shutdown -h 5 5åˆ†é’Ÿåå…³æœº poweroff ç«‹åˆ»å…³æœºé‡å¯ shutdown -r now ç«‹åˆ»é‡å¯ shutdown -r 5 5åˆ†é’Ÿåé‡å¯ reboot ç«‹åˆ»é‡å¯--helpå‘½ä»¤ shutdown --helpï¼š ifconfig --helpï¼šæŸ¥çœ‹ç½‘å¡ä¿¡æ¯manå‘½ä»¤ï¼ˆå‘½ä»¤è¯´æ˜ä¹¦ï¼‰ man shutdown æ³¨æ„ï¼šman shutdownæ‰“å¼€å‘½ä»¤è¯´æ˜ä¹¦ä¹‹åï¼Œä½¿ç”¨æŒ‰é”®qé€€å‡º æ–‡ä»¶æ–°å»ºtouch æ–‡ä»¶å åˆ é™¤rm -rf æ–‡ä»¶å ä¿®æ”¹æ‰“å¼€ï¼švi/vim æ–‡ä»¶å i:åœ¨å…‰æ ‡æ‰€åœ¨å­—ç¬¦å‰å¼€å§‹æ’å…¥a:åœ¨å…‰æ ‡æ‰€åœ¨å­—ç¬¦åå¼€å§‹æ’å…¥o:åœ¨å…‰æ ‡æ‰€åœ¨è¡Œçš„ä¸‹é¢å¦èµ·ä¸€æ–°è¡Œæ’å…¥ ä¿å­˜æ–‡ä»¶ï¼š ç¬¬ä¸€æ­¥ï¼šESC è¿›å…¥å‘½ä»¤è¡Œæ¨¡å¼ç¬¬äºŒæ­¥ï¼š: è¿›å…¥åº•è¡Œæ¨¡å¼ç¬¬ä¸‰æ­¥ï¼šwq ä¿å­˜å¹¶é€€å‡ºç¼–è¾‘ å–æ¶ˆç¼–è¾‘ï¼š ç¬¬ä¸€æ­¥ï¼šESC è¿›å…¥å‘½ä»¤è¡Œæ¨¡å¼ç¬¬äºŒæ­¥ï¼š: è¿›å…¥åº•è¡Œæ¨¡å¼ç¬¬ä¸‰æ­¥ï¼šq! æ’¤é”€æœ¬æ¬¡ä¿®æ”¹å¹¶é€€å‡ºç¼–è¾‘ 1) å‘½ä»¤è¡Œæ¨¡å¼command modeï¼‰ æ§åˆ¶å±å¹•å…‰æ ‡çš„ç§»åŠ¨ï¼Œå­—ç¬¦ã€å­—æˆ–è¡Œçš„åˆ é™¤ï¼ŒæŸ¥æ‰¾ï¼Œç§»åŠ¨å¤åˆ¶æŸåŒºæ®µåŠè¿›å…¥Insert modeä¸‹ï¼Œæˆ–è€…åˆ° last line modeã€‚ å‘½ä»¤è¡Œæ¨¡å¼ä¸‹çš„å¸¸ç”¨å‘½ä»¤ï¼š ã€1ã€‘æ§åˆ¶å…‰æ ‡ç§»åŠ¨ï¼šâ†‘ï¼Œâ†“ï¼Œj ã€2ã€‘åˆ é™¤å½“å‰è¡Œï¼šdd ã€3ã€‘æŸ¥æ‰¾ï¼š/å­—ç¬¦ ã€4ã€‘è¿›å…¥ç¼–è¾‘æ¨¡å¼ï¼ši o a ã€5ã€‘è¿›å…¥åº•è¡Œæ¨¡å¼ï¼š: 2) ç¼–è¾‘æ¨¡å¼ï¼ˆInsert modeï¼‰ åªæœ‰åœ¨Insert modeä¸‹ï¼Œæ‰å¯ä»¥åšæ–‡å­—è¾“å…¥ï¼ŒæŒ‰ã€ŒESCã€é”®å¯å›åˆ°å‘½ä»¤è¡Œæ¨¡å¼ã€‚ ç¼–è¾‘æ¨¡å¼ä¸‹å¸¸ç”¨å‘½ä»¤ï¼š ã€1ã€‘ESC é€€å‡ºç¼–è¾‘æ¨¡å¼åˆ°å‘½ä»¤è¡Œæ¨¡å¼ï¼› 3) åº•è¡Œæ¨¡å¼ï¼ˆlast line modeï¼‰ å°†æ–‡ä»¶ä¿å­˜æˆ–é€€å‡ºviï¼Œä¹Ÿå¯ä»¥è®¾ç½®ç¼–è¾‘ç¯å¢ƒï¼Œå¦‚å¯»æ‰¾å­—ç¬¦ä¸²ã€åˆ—å‡ºè¡Œå·â€¦â€¦ç­‰ã€‚ åº•è¡Œæ¨¡å¼ä¸‹å¸¸ç”¨å‘½ä»¤ï¼š ã€1ã€‘é€€å‡ºç¼–è¾‘ï¼š :q ã€2ã€‘å¼ºåˆ¶é€€å‡ºï¼š :q! ã€3ã€‘ä¿å­˜å¹¶é€€å‡ºï¼š :wq æŸ¥çœ‹catï¼šçœ‹æœ€åä¸€å± ç¤ºä¾‹ï¼šä½¿ç”¨catæŸ¥çœ‹/etc/sudo.confæ–‡ä»¶ï¼Œåªèƒ½æ˜¾ç¤ºæœ€åä¸€å±å†…å®¹cat sudo.conf moreï¼šç™¾åˆ†æ¯”æ˜¾ç¤º ç¤ºä¾‹ï¼šä½¿ç”¨moreæŸ¥çœ‹/etc/sudo.confæ–‡ä»¶ï¼Œå¯ä»¥æ˜¾ç¤ºç™¾åˆ†æ¯”ï¼Œå›è½¦å¯ä»¥å‘ä¸‹ä¸€è¡Œï¼Œç©ºæ ¼å¯ä»¥å‘ä¸‹ä¸€é¡µï¼Œqå¯ä»¥é€€å‡ºæŸ¥çœ‹more sudo.conf lessï¼šç¿»é¡µæŸ¥çœ‹ ç¤ºä¾‹ï¼šä½¿ç”¨lessæŸ¥çœ‹/etc/sudo.confæ–‡ä»¶ï¼Œå¯ä»¥ä½¿ç”¨é”®ç›˜ä¸Šçš„PgUpå’ŒPgDnå‘ä¸Š å’Œå‘ä¸‹ç¿»é¡µï¼Œqç»“æŸæŸ¥çœ‹less sudo.conf tailï¼šæŒ‡å®šè¡Œæ•°æˆ–è€…åŠ¨æ€æŸ¥çœ‹ ç¤ºä¾‹ï¼šä½¿ç”¨tail -10 æŸ¥çœ‹/etc/sudo.confæ–‡ä»¶çš„å10è¡Œï¼ŒCtrl+Cç»“æŸtail -10 sudo.conf æƒé™ç›®å½•å‹ç¼©æŸ¥æ‰¾æƒé™æ›´æ”¹æ–‡ä»¶å±æ€§ è¿›ç¨‹ç³»ç»Ÿç½‘ç»œéƒ¨ç½²Linuxç®€ä»‹Linuxï¼Œå…¨ç§°GNU/Linuxï¼Œæ˜¯ä¸€ç§å…è´¹ä½¿ç”¨å’Œè‡ªç”±ä¼ æ’­çš„ç±»UNIXæ“ä½œç³»ç»Ÿ åº”ç”¨Linuxå·¥å…·SecureCRT 7.3 rzä¸Šä¼ æ–‡ä»¶åˆ°å½“å‰ç›®å½• sz æ–‡ä»¶åä¸‹è½½ yum -y install bash-completionè‡ªåŠ¨è¡¥å…¨ tab å¯åŠ¨è¿‡ç¨‹ å†…æ ¸çš„å¼•å¯¼ã€‚ ç”µæº BIOSå¼€æœºè‡ªæ£€ï¼ŒæŒ‰ç…§BIOSä¸­è®¾ç½®çš„å¯åŠ¨è®¾å¤‡ï¼ˆé€šå¸¸æ˜¯ç¡¬ç›˜ï¼‰æ¥å¯åŠ¨ æ“ä½œç³»ç»Ÿæ¥ç®¡ç¡¬ä»¶ä»¥åï¼Œé¦–å…ˆè¯»å…¥ /boot ç›®å½•ä¸‹çš„å†…æ ¸æ–‡ä»¶ã€‚ è¿è¡Œ initã€‚ initç¨‹åºçš„ç±»å‹ SysV: init, CentOS 5ä¹‹å‰, é…ç½®æ–‡ä»¶ï¼š /etc/inittabã€‚ Upstart: init,CentOS 6, é…ç½®æ–‡ä»¶ï¼š /etc/inittab, /etc/init/*.confã€‚ Systemdï¼š systemd, CentOS 7,é…ç½®æ–‡ä»¶ï¼š /usr/lib/systemd/systemã€ /etc/systemd/systemã€‚ init è¿›ç¨‹æ˜¯ç³»ç»Ÿæ‰€æœ‰è¿›ç¨‹çš„èµ·ç‚¹ï¼Œä½ å¯ä»¥æŠŠå®ƒæ¯”æ‹Ÿæˆç³»ç»Ÿæ‰€æœ‰è¿›ç¨‹çš„è€ç¥–å®—ï¼Œæ²¡æœ‰è¿™ä¸ªè¿›ç¨‹ï¼Œç³»ç»Ÿä¸­ä»»ä½•è¿›ç¨‹éƒ½ä¸ä¼šå¯åŠ¨ã€‚init ç¨‹åºé¦–å…ˆæ˜¯éœ€è¦è¯»å–é…ç½®æ–‡ä»¶ /etc/inittabã€‚ è¿è¡Œçº§åˆ« ç¨‹åºéœ€è¦å¼€æœºå¯åŠ¨ã€‚å®ƒä»¬åœ¨Windowså«åšâ€æœåŠ¡â€ï¼ˆserviceï¼‰ï¼Œåœ¨Linuxå°±å«åšâ€å®ˆæŠ¤è¿›ç¨‹â€ï¼ˆdaemonï¼‰ã€‚ initè¿›ç¨‹çš„ä¸€å¤§ä»»åŠ¡ï¼Œå°±æ˜¯å»è¿è¡Œè¿™äº›å¼€æœºå¯åŠ¨çš„ç¨‹åºã€‚ ä½†æ˜¯ï¼Œä¸åŒçš„åœºåˆéœ€è¦å¯åŠ¨ä¸åŒçš„ç¨‹åºï¼Œæ¯”å¦‚ç”¨ä½œæœåŠ¡å™¨æ—¶ï¼Œéœ€è¦å¯åŠ¨Apacheï¼Œç”¨ä½œæ¡Œé¢å°±ä¸éœ€è¦ã€‚ Linuxå…è®¸ä¸ºä¸åŒçš„åœºåˆï¼Œåˆ†é…ä¸åŒçš„å¼€æœºå¯åŠ¨ç¨‹åºï¼Œè¿™å°±å«åšâ€è¿è¡Œçº§åˆ«â€ï¼ˆrunlevelï¼‰ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå¯åŠ¨æ—¶æ ¹æ®â€è¿è¡Œçº§åˆ«â€ï¼Œç¡®å®šè¦è¿è¡Œå“ªäº›ç¨‹åºã€‚ - è¿è¡Œçº§åˆ«0ï¼šç³»ç»ŸåœæœºçŠ¶æ€ï¼Œç³»ç»Ÿé»˜è®¤è¿è¡Œçº§åˆ«ä¸èƒ½è®¾ä¸º0ï¼Œå¦åˆ™ä¸èƒ½æ­£å¸¸å¯åŠ¨ è¿è¡Œçº§åˆ«1ï¼šå•ç”¨æˆ·å·¥ä½œçŠ¶æ€ï¼Œrootæƒé™ï¼Œç”¨äºç³»ç»Ÿç»´æŠ¤ï¼Œç¦æ­¢è¿œç¨‹ç™»é™†è¿è¡Œçº§åˆ«2ï¼šå¤šç”¨æˆ·çŠ¶æ€(æ²¡æœ‰NFS)è¿è¡Œçº§åˆ«3ï¼šå®Œå…¨çš„å¤šç”¨æˆ·çŠ¶æ€(æœ‰NFS)ï¼Œç™»é™†åè¿›å…¥æ§åˆ¶å°å‘½ä»¤è¡Œæ¨¡å¼è¿è¡Œçº§åˆ«4ï¼šç³»ç»Ÿæœªä½¿ç”¨ï¼Œä¿ç•™è¿è¡Œçº§åˆ«5ï¼šX11æ§åˆ¶å°ï¼Œç™»é™†åè¿›å…¥å›¾å½¢GUIæ¨¡å¼è¿è¡Œçº§åˆ«6ï¼šç³»ç»Ÿæ­£å¸¸å…³é—­å¹¶é‡å¯ï¼Œé»˜è®¤è¿è¡Œçº§åˆ«ä¸èƒ½è®¾ä¸º6ï¼Œå¦åˆ™ä¸èƒ½æ­£å¸¸å¯åŠ¨ ç³»ç»Ÿåˆå§‹åŒ–ã€‚ si::sysinit:/etc/rc.d/rc.sysinit å®ƒè°ƒç”¨æ‰§è¡Œäº†/etc/rc.d/rc.sysinitï¼Œè€Œrc.sysinitæ˜¯ä¸€ä¸ªbash shellçš„è„šæœ¬ï¼Œå®ƒä¸»è¦æ˜¯å®Œæˆä¸€äº›ç³»ç»Ÿåˆå§‹åŒ–çš„å·¥ä½œï¼Œrc.sysinitæ˜¯æ¯ä¸€ä¸ªè¿è¡Œçº§åˆ«éƒ½è¦é¦–å…ˆè¿è¡Œçš„é‡è¦è„šæœ¬ã€‚å®ƒä¸»è¦å®Œæˆçš„å·¥ä½œæœ‰ï¼šæ¿€æ´»äº¤æ¢åˆ†åŒºï¼Œæ£€æŸ¥ç£ç›˜ï¼ŒåŠ è½½ç¡¬ä»¶æ¨¡å—ä»¥åŠå…¶å®ƒä¸€äº›éœ€è¦ä¼˜å…ˆæ‰§è¡Œä»»åŠ¡ã€‚ l5:5:wait:/etc/rc.d/rc 5è¿™ä¸€è¡Œè¡¨ç¤ºä»¥5ä¸ºå‚æ•°è¿è¡Œ/etc/rc.d/rcï¼Œ/etc/rc.d/rcæ˜¯ä¸€ä¸ªShellè„šæœ¬ï¼Œå®ƒæ¥å—5ä½œä¸ºå‚æ•°ï¼Œå»æ‰§è¡Œ/etc/rc.d/rc5.d/ç›®å½•ä¸‹çš„æ‰€æœ‰çš„rcå¯åŠ¨è„šæœ¬ï¼Œ/etc/rc.d/rc5.d/ç›®å½•ä¸­çš„è¿™äº›å¯åŠ¨è„šæœ¬å®é™…ä¸Šéƒ½æ˜¯ä¸€äº›è¿æ¥æ–‡ä»¶ï¼Œè€Œä¸æ˜¯çœŸæ­£çš„rcå¯åŠ¨è„šæœ¬ï¼ŒçœŸæ­£çš„rcå¯åŠ¨è„šæœ¬å®é™…ä¸Šéƒ½æ˜¯æ”¾åœ¨/etc/rc.d/init.d/ç›®å½•ä¸‹ã€‚ è€Œè¿™äº›rcå¯åŠ¨è„šæœ¬æœ‰ç€ç±»ä¼¼çš„ç”¨æ³•ï¼Œå®ƒä»¬ä¸€èˆ¬èƒ½æ¥å—startã€stopã€restartã€statusç­‰å‚æ•°ã€‚ /etc/rc.d/rc5.d/ä¸­çš„rcå¯åŠ¨è„šæœ¬é€šå¸¸æ˜¯Kæˆ–Så¼€å¤´çš„è¿æ¥æ–‡ä»¶ï¼Œå¯¹äºä»¥ S å¼€å¤´çš„å¯åŠ¨è„šæœ¬ï¼Œå°†ä»¥startå‚æ•°æ¥è¿è¡Œã€‚ è€Œå¦‚æœå‘ç°å­˜åœ¨ç›¸åº”çš„è„šæœ¬ä¹Ÿå­˜åœ¨Kæ‰“å¤´çš„è¿æ¥ï¼Œè€Œä¸”å·²ç»å¤„äºè¿è¡Œæ€äº†(ä»¥/var/lock/subsys/ä¸‹çš„æ–‡ä»¶ä½œä¸ºæ ‡å¿—)ï¼Œåˆ™å°†é¦–å…ˆä»¥stopä¸ºå‚æ•°åœæ­¢è¿™äº›å·²ç»å¯åŠ¨äº†çš„å®ˆæŠ¤è¿›ç¨‹ï¼Œç„¶åå†é‡æ–°è¿è¡Œã€‚ è¿™æ ·åšæ˜¯ä¸ºäº†ä¿è¯æ˜¯å½“initæ”¹å˜è¿è¡Œçº§åˆ«æ—¶ï¼Œæ‰€æœ‰ç›¸å…³çš„å®ˆæŠ¤è¿›ç¨‹éƒ½å°†é‡å¯ã€‚ è‡³äºåœ¨æ¯ä¸ªè¿è¡Œçº§ä¸­å°†è¿è¡Œå“ªäº›å®ˆæŠ¤è¿›ç¨‹ï¼Œç”¨æˆ·å¯ä»¥é€šè¿‡chkconfigæˆ–setupä¸­çš„â€System Servicesâ€æ¥è‡ªè¡Œè®¾å®šã€‚ å»ºç«‹ç»ˆç«¯ ã€‚ rcæ‰§è¡Œå®Œæ¯•åï¼Œè¿”å›initã€‚è¿™æ—¶åŸºæœ¬ç³»ç»Ÿç¯å¢ƒå·²ç»è®¾ç½®å¥½äº†ï¼Œå„ç§å®ˆæŠ¤è¿›ç¨‹ä¹Ÿå·²ç»å¯åŠ¨äº†ã€‚ initæ¥ä¸‹æ¥ä¼šæ‰“å¼€6ä¸ªç»ˆç«¯ï¼Œä»¥ä¾¿ç”¨æˆ·ç™»å½•ç³»ç»Ÿã€‚åœ¨inittabä¸­çš„ä»¥ä¸‹6è¡Œå°±æ˜¯å®šä¹‰äº†6ä¸ªç»ˆç«¯ï¼š 1:2345:respawn:/sbin/mingetty tty12:2345:respawn:/sbin/mingetty tty23:2345:respawn:/sbin/mingetty tty34:2345:respawn:/sbin/mingetty tty45:2345:respawn:/sbin/mingetty tty56:2345:respawn:/sbin/mingetty tty6ä»ä¸Šé¢å¯ä»¥çœ‹å‡ºåœ¨2ã€3ã€4ã€5çš„è¿è¡Œçº§åˆ«ä¸­éƒ½å°†ä»¥respawnæ–¹å¼è¿è¡Œmingettyç¨‹åºï¼Œmingettyç¨‹åºèƒ½æ‰“å¼€ç»ˆç«¯ã€è®¾ç½®æ¨¡å¼ã€‚ åŒæ—¶å®ƒä¼šæ˜¾ç¤ºä¸€ä¸ªæ–‡æœ¬ç™»å½•ç•Œé¢ï¼Œè¿™ä¸ªç•Œé¢å°±æ˜¯æˆ‘ä»¬ç»å¸¸çœ‹åˆ°çš„ç™»å½•ç•Œé¢ï¼Œåœ¨è¿™ä¸ªç™»å½•ç•Œé¢ä¸­ä¼šæç¤ºç”¨æˆ·è¾“å…¥ç”¨æˆ·åï¼Œè€Œç”¨æˆ·è¾“å…¥çš„ç”¨æˆ·å°†ä½œä¸ºå‚æ•°ä¼ ç»™loginç¨‹åºæ¥éªŒè¯ç”¨æˆ·çš„èº«ä»½ã€‚ ç”¨æˆ·ç™»å½•ç³»ç»Ÿã€‚ ä¸€èˆ¬æ¥è¯´ï¼Œç”¨æˆ·çš„ç™»å½•æ–¹å¼æœ‰ä¸‰ç§ï¼š ï¼ˆ1ï¼‰å‘½ä»¤è¡Œç™»å½•ï¼ˆ2ï¼‰sshç™»å½•ï¼ˆ3ï¼‰å›¾å½¢ç•Œé¢ç™»å½• å¯¹äºè¿è¡Œçº§åˆ«ä¸º5çš„å›¾å½¢æ–¹å¼ç”¨æˆ·æ¥è¯´ï¼Œä»–ä»¬çš„ç™»å½•æ˜¯é€šè¿‡ä¸€ä¸ªå›¾å½¢åŒ–çš„ç™»å½•ç•Œé¢ã€‚ç™»å½•æˆåŠŸåå¯ä»¥ç›´æ¥è¿›å…¥ KDEã€Gnome ç­‰çª—å£ç®¡ç†å™¨ã€‚ è€Œæœ¬æ–‡ä¸»è¦è®²çš„è¿˜æ˜¯æ–‡æœ¬æ–¹å¼ç™»å½•çš„æƒ…å†µï¼šå½“æˆ‘ä»¬çœ‹åˆ°mingettyçš„ç™»å½•ç•Œé¢æ—¶ï¼Œæˆ‘ä»¬å°±å¯ä»¥è¾“å…¥ç”¨æˆ·åå’Œå¯†ç æ¥ç™»å½•ç³»ç»Ÿäº†ã€‚ Linux çš„è´¦å·éªŒè¯ç¨‹åºæ˜¯ loginï¼Œlogin ä¼šæ¥æ”¶ mingetty ä¼ æ¥çš„ç”¨æˆ·åä½œä¸ºç”¨æˆ·åå‚æ•°ã€‚ ç„¶å login ä¼šå¯¹ç”¨æˆ·åè¿›è¡Œåˆ†æï¼šå¦‚æœç”¨æˆ·åä¸æ˜¯ rootï¼Œä¸”å­˜åœ¨ /etc/nologin æ–‡ä»¶ï¼Œlogin å°†è¾“å‡º nologin æ–‡ä»¶çš„å†…å®¹ï¼Œç„¶åé€€å‡ºã€‚ è¿™é€šå¸¸ç”¨æ¥ç³»ç»Ÿç»´æŠ¤æ—¶é˜²æ­¢érootç”¨æˆ·ç™»å½•ã€‚åªæœ‰/etc/securettyä¸­ç™»è®°äº†çš„ç»ˆç«¯æ‰å…è®¸ root ç”¨æˆ·ç™»å½•ï¼Œå¦‚æœä¸å­˜åœ¨è¿™ä¸ªæ–‡ä»¶ï¼Œåˆ™ root ç”¨æˆ·å¯ä»¥åœ¨ä»»ä½•ç»ˆç«¯ä¸Šç™»å½•ã€‚ /etc/userttyæ–‡ä»¶ç”¨äºå¯¹ç”¨æˆ·ä½œå‡ºé™„åŠ è®¿é—®é™åˆ¶ï¼Œå¦‚æœä¸å­˜åœ¨è¿™ä¸ªæ–‡ä»¶ï¼Œåˆ™æ²¡æœ‰å…¶ä»–é™åˆ¶ã€‚ å›¾å½¢æ¨¡å¼ä¸æ–‡å­—æ¨¡å¼çš„åˆ‡æ¢æ–¹å¼ Linuxé¢„è®¾æä¾›äº†å…­ä¸ªå‘½ä»¤çª—å£ç»ˆç«¯æœºè®©æˆ‘ä»¬æ¥ç™»å½•ã€‚ é»˜è®¤æˆ‘ä»¬ç™»å½•çš„å°±æ˜¯ç¬¬ä¸€ä¸ªçª—å£ï¼Œä¹Ÿå°±æ˜¯tty1ï¼Œè¿™ä¸ªå…­ä¸ªçª—å£åˆ†åˆ«ä¸ºtty1,tty2 â€¦ tty6ï¼Œä½ å¯ä»¥æŒ‰ä¸‹Ctrl + Alt + F1 ~ F6 æ¥åˆ‡æ¢å®ƒä»¬ã€‚ å¦‚æœä½ å®‰è£…äº†å›¾å½¢ç•Œé¢ï¼Œé»˜è®¤æƒ…å†µä¸‹æ˜¯è¿›å…¥å›¾å½¢ç•Œé¢çš„ï¼Œæ­¤æ—¶ä½ å°±å¯ä»¥æŒ‰Ctrl + Alt + F1 ~ F6æ¥è¿›å…¥å…¶ä¸­ä¸€ä¸ªå‘½ä»¤çª—å£ç•Œé¢ã€‚ å½“ä½ è¿›å…¥å‘½ä»¤çª—å£ç•Œé¢åå†è¿”å›å›¾å½¢ç•Œé¢åªè¦æŒ‰ä¸‹Ctrl + Alt + F7 å°±å›æ¥äº†ã€‚ å¦‚æœä½ ç”¨çš„vmware è™šæ‹Ÿæœºï¼Œå‘½ä»¤çª—å£åˆ‡æ¢çš„å¿«æ·é”®ä¸º Alt + Space + F1~F6. å¦‚æœä½ åœ¨å›¾å½¢ç•Œé¢ä¸‹è¯·æŒ‰Alt + Shift + Ctrl + F1~F6 åˆ‡æ¢è‡³å‘½ä»¤çª—å£ã€‚ Linux å…³æœº åœ¨linuxé¢†åŸŸå†…å¤§å¤šç”¨åœ¨æœåŠ¡å™¨ä¸Šï¼Œå¾ˆå°‘é‡åˆ°å…³æœºçš„æ“ä½œã€‚æ¯•ç«ŸæœåŠ¡å™¨ä¸Šè·‘ä¸€ä¸ªæœåŠ¡æ˜¯æ°¸æ— æ­¢å¢ƒçš„ï¼Œé™¤éç‰¹æ®Šæƒ…å†µä¸‹ï¼Œä¸å¾—å·²æ‰ä¼šå…³æœºã€‚ æ­£ç¡®çš„å…³æœºæµç¨‹ä¸ºï¼šsync &gt; shutdown &gt; reboot &gt; halt å…³æœºæŒ‡ä»¤ä¸ºï¼šshutdown ï¼Œä½ å¯ä»¥man shutdown æ¥çœ‹ä¸€ä¸‹å¸®åŠ©æ–‡æ¡£ã€‚ ä¾‹å¦‚ä½ å¯ä»¥è¿è¡Œå¦‚ä¸‹å‘½ä»¤å…³æœºï¼š sync å°†æ•°æ®ç”±å†…å­˜åŒæ­¥åˆ°ç¡¬ç›˜ä¸­ã€‚ shutdown å…³æœºæŒ‡ä»¤ï¼Œä½ å¯ä»¥man shutdown æ¥çœ‹ä¸€ä¸‹å¸®åŠ©æ–‡æ¡£ã€‚ä¾‹å¦‚ä½ å¯ä»¥è¿è¡Œå¦‚ä¸‹å‘½ä»¤å…³æœºï¼š shutdown â€“h 10 â€˜This server will shutdown after 10 minsâ€™ è¿™ä¸ªå‘½ä»¤å‘Šè¯‰å¤§å®¶ï¼Œè®¡ç®—æœºå°†åœ¨10åˆ†é’Ÿåå…³æœºï¼Œå¹¶ä¸”ä¼šæ˜¾ç¤ºåœ¨ç™»é™†ç”¨æˆ·çš„å½“å‰å±å¹•ä¸­ã€‚ shutdown â€“h now ç«‹é©¬å…³æœº shutdown â€“h 20:25 ç³»ç»Ÿä¼šåœ¨ä»Šå¤©20:25å…³æœº shutdown â€“h +10 ååˆ†é’Ÿåå…³æœº shutdown â€“r now ç³»ç»Ÿç«‹é©¬é‡å¯ shutdown â€“r +10 ç³»ç»Ÿååˆ†é’Ÿåé‡å¯ reboot å°±æ˜¯é‡å¯ï¼Œç­‰åŒäº shutdown â€“r now halt å…³é—­ç³»ç»Ÿï¼Œç­‰åŒäºshutdown â€“h now å’Œ poweroffæœ€åæ€»ç»“ä¸€ä¸‹ï¼Œä¸ç®¡æ˜¯é‡å¯ç³»ç»Ÿè¿˜æ˜¯å…³é—­ç³»ç»Ÿï¼Œé¦–å…ˆè¦è¿è¡Œ sync å‘½ä»¤ï¼ŒæŠŠå†…å­˜ä¸­çš„æ•°æ®å†™åˆ°ç£ç›˜ä¸­ã€‚ å…³æœºçš„å‘½ä»¤æœ‰ shutdown â€“h now halt poweroff å’Œ init 0 , é‡å¯ç³»ç»Ÿçš„å‘½ä»¤æœ‰ shutdown â€“r now reboot init 6ã€‚ æ³¨æ„äº‹é¡¹ä¸¥æ ¼åŒºåˆ†å¤§å°å†™ æ‰€æœ‰å†…å®¹ä»¥æ–‡ä»¶å½¢å¼ä¿å­˜ï¼ŒåŒ…æ‹¬ç¡¬ä»¶ ç¡¬ä»¶/dev/sd[a-p] å…‰ç›˜æ–‡ä»¶/dec/sr0ç­‰ ä¸é æ‰©å±•ååŒºåˆ†æ–‡ä»¶ç±»å‹ æœ‰æ‰©å±•éƒ½æ˜¯ç»™ç®¡ç†å‘˜çœ‹çš„ æ‰€æœ‰å­˜å‚¨è®¾å¤‡éƒ½éœ€è¦æŒ‚è½½ä¹‹åæ‰èƒ½ä½¿ç”¨ windowsç¨‹åºä¸èƒ½ç›´æ¥åœ¨linuxå®‰è£…è¿è¡Œ æœåŠ¡å™¨ä¸å…è®¸å…³æœºï¼Œåªèƒ½é‡å¯ é‡å¯æ—¶åº”è¯¥å…³é—­æœåŠ¡ æœåŠ¡å™¨è®¿é—®é«˜å³°ä¸è¦ä½¿ç”¨é«˜è´Ÿè½½å‘½ä»¤ è¿œç¨‹é…ç½®é˜²ç«å¢™æ—¶ä¸è¦æŠŠè‡ªå·±è¸¢å‡ºæœåŠ¡å™¨ æŒ‡å®šåˆç†å¯†ç è§„èŒƒå¹¶å®šæœŸæ›´æ–° åˆç†åˆ†é…æƒé™ å®šæœŸå¤‡ä»½é‡è¦æ•°æ®å’Œæ—¥å¿— ç³»ç»Ÿç›®å½•ç»“æ„ ls / æŸ¥çœ‹ç›®å½•/binï¼šbin æ˜¯ Binaries (äºŒè¿›åˆ¶æ–‡ä»¶) çš„ç¼©å†™, è¿™ä¸ªç›®å½•å­˜æ”¾ç€æœ€ç»å¸¸ä½¿ç”¨çš„å‘½ä»¤ã€‚ /bootï¼šè¿™é‡Œå­˜æ”¾çš„æ˜¯å¯åŠ¨ Linux æ—¶ä½¿ç”¨çš„ä¸€äº›æ ¸å¿ƒæ–‡ä»¶ï¼ŒåŒ…æ‹¬ä¸€äº›è¿æ¥æ–‡ä»¶ä»¥åŠé•œåƒæ–‡ä»¶ã€‚ /dev ï¼šdev æ˜¯ Device(è®¾å¤‡) çš„ç¼©å†™, è¯¥ç›®å½•ä¸‹å­˜æ”¾çš„æ˜¯ Linux çš„å¤–éƒ¨è®¾å¤‡ï¼Œåœ¨ Linux ä¸­è®¿é—®è®¾å¤‡çš„æ–¹å¼å’Œè®¿é—®æ–‡ä»¶çš„æ–¹å¼æ˜¯ç›¸åŒçš„ã€‚ /etcï¼šetc æ˜¯ Etcetera(ç­‰ç­‰) çš„ç¼©å†™,è¿™ä¸ªç›®å½•ç”¨æ¥å­˜æ”¾æ‰€æœ‰çš„ç³»ç»Ÿç®¡ç†æ‰€éœ€è¦çš„é…ç½®æ–‡ä»¶å’Œå­ç›®å½•ã€‚ /homeï¼šç”¨æˆ·çš„ä¸»ç›®å½•ï¼Œåœ¨ Linux ä¸­ï¼Œæ¯ä¸ªç”¨æˆ·éƒ½æœ‰ä¸€ä¸ªè‡ªå·±çš„ç›®å½•ï¼Œä¸€èˆ¬è¯¥ç›®å½•åæ˜¯ä»¥ç”¨æˆ·çš„è´¦å·å‘½åçš„ï¼Œå¦‚ä¸Šå›¾ä¸­çš„ aliceã€bob å’Œ eveã€‚ /libï¼šlib æ˜¯ Library(åº“) çš„ç¼©å†™è¿™ä¸ªç›®å½•é‡Œå­˜æ”¾ç€ç³»ç»Ÿæœ€åŸºæœ¬çš„åŠ¨æ€è¿æ¥å…±äº«åº“ï¼Œå…¶ä½œç”¨ç±»ä¼¼äº Windows é‡Œçš„ DLL æ–‡ä»¶ã€‚å‡ ä¹æ‰€æœ‰çš„åº”ç”¨ç¨‹åºéƒ½éœ€è¦ç”¨åˆ°è¿™äº›å…±äº«åº“ã€‚ /lost+foundï¼šè¿™ä¸ªç›®å½•ä¸€èˆ¬æƒ…å†µä¸‹æ˜¯ç©ºçš„ï¼Œå½“ç³»ç»Ÿéæ³•å…³æœºåï¼Œè¿™é‡Œå°±å­˜æ”¾äº†ä¸€äº›æ–‡ä»¶ã€‚ /mediaï¼šlinux ç³»ç»Ÿä¼šè‡ªåŠ¨è¯†åˆ«ä¸€äº›è®¾å¤‡ï¼Œä¾‹å¦‚Uç›˜ã€å…‰é©±ç­‰ç­‰ï¼Œå½“è¯†åˆ«åï¼ŒLinux ä¼šæŠŠè¯†åˆ«çš„è®¾å¤‡æŒ‚è½½åˆ°è¿™ä¸ªç›®å½•ä¸‹ã€‚ /mntï¼šç³»ç»Ÿæä¾›è¯¥ç›®å½•æ˜¯ä¸ºäº†è®©ç”¨æˆ·ä¸´æ—¶æŒ‚è½½åˆ«çš„æ–‡ä»¶ç³»ç»Ÿçš„ï¼Œæˆ‘ä»¬å¯ä»¥å°†å…‰é©±æŒ‚è½½åœ¨ /mnt/ ä¸Šï¼Œç„¶åè¿›å…¥è¯¥ç›®å½•å°±å¯ä»¥æŸ¥çœ‹å…‰é©±é‡Œçš„å†…å®¹äº†ã€‚ /optï¼šopt æ˜¯ optional(å¯é€‰) çš„ç¼©å†™ï¼Œè¿™æ˜¯ç»™ä¸»æœºé¢å¤–å®‰è£…è½¯ä»¶æ‰€æ‘†æ”¾çš„ç›®å½•ã€‚æ¯”å¦‚ä½ å®‰è£…ä¸€ä¸ªORACLEæ•°æ®åº“åˆ™å°±å¯ä»¥æ”¾åˆ°è¿™ä¸ªç›®å½•ä¸‹ã€‚é»˜è®¤æ˜¯ç©ºçš„ã€‚ /procï¼šproc æ˜¯ Processes(è¿›ç¨‹) çš„ç¼©å†™ï¼Œ/proc æ˜¯ä¸€ç§ä¼ªæ–‡ä»¶ç³»ç»Ÿï¼ˆä¹Ÿå³è™šæ‹Ÿæ–‡ä»¶ç³»ç»Ÿï¼‰ï¼Œå­˜å‚¨çš„æ˜¯å½“å‰å†…æ ¸è¿è¡ŒçŠ¶æ€çš„ä¸€ç³»åˆ—ç‰¹æ®Šæ–‡ä»¶ï¼Œè¿™ä¸ªç›®å½•æ˜¯ä¸€ä¸ªè™šæ‹Ÿçš„ç›®å½•ï¼Œå®ƒæ˜¯ç³»ç»Ÿå†…å­˜çš„æ˜ å°„ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ç›´æ¥è®¿é—®è¿™ä¸ªç›®å½•æ¥è·å–ç³»ç»Ÿä¿¡æ¯ã€‚è¿™ä¸ªç›®å½•çš„å†…å®¹ä¸åœ¨ç¡¬ç›˜ä¸Šè€Œæ˜¯åœ¨å†…å­˜é‡Œï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥ç›´æ¥ä¿®æ”¹é‡Œé¢çš„æŸäº›æ–‡ä»¶ï¼Œæ¯”å¦‚å¯ä»¥é€šè¿‡ä¸‹é¢çš„å‘½ä»¤æ¥å±è”½ä¸»æœºçš„pingå‘½ä»¤ï¼Œä½¿åˆ«äººæ— æ³•pingä½ çš„æœºå™¨ï¼š echo 1 &gt; /proc/sys/net/ipv4/icmp_echo_ignore_all/rootï¼šè¯¥ç›®å½•ä¸ºç³»ç»Ÿç®¡ç†å‘˜ï¼Œä¹Ÿç§°ä½œè¶…çº§æƒé™è€…çš„ç”¨æˆ·ä¸»ç›®å½•ã€‚ /sbinï¼šs å°±æ˜¯ Super User çš„æ„æ€ï¼Œæ˜¯ Superuser Binaries (è¶…çº§ç”¨æˆ·çš„äºŒè¿›åˆ¶æ–‡ä»¶) çš„ç¼©å†™ï¼Œè¿™é‡Œå­˜æ”¾çš„æ˜¯ç³»ç»Ÿç®¡ç†å‘˜ä½¿ç”¨çš„ç³»ç»Ÿç®¡ç†ç¨‹åºã€‚ /selinuxï¼š è¿™ä¸ªç›®å½•æ˜¯ Redhat/CentOS æ‰€ç‰¹æœ‰çš„ç›®å½•ï¼ŒSelinux æ˜¯ä¸€ä¸ªå®‰å…¨æœºåˆ¶ï¼Œç±»ä¼¼äº windows çš„é˜²ç«å¢™ï¼Œä½†æ˜¯è¿™å¥—æœºåˆ¶æ¯”è¾ƒå¤æ‚ï¼Œè¿™ä¸ªç›®å½•å°±æ˜¯å­˜æ”¾selinuxç›¸å…³çš„æ–‡ä»¶çš„ã€‚ /srvï¼š è¯¥ç›®å½•å­˜æ”¾ä¸€äº›æœåŠ¡å¯åŠ¨ä¹‹åéœ€è¦æå–çš„æ•°æ®ã€‚ /sysï¼š è¿™æ˜¯ Linux2.6 å†…æ ¸çš„ä¸€ä¸ªå¾ˆå¤§çš„å˜åŒ–ã€‚è¯¥ç›®å½•ä¸‹å®‰è£…äº† 2.6 å†…æ ¸ä¸­æ–°å‡ºç°çš„ä¸€ä¸ªæ–‡ä»¶ç³»ç»Ÿ sysfs ã€‚ sysfs æ–‡ä»¶ç³»ç»Ÿé›†æˆäº†ä¸‹é¢3ç§æ–‡ä»¶ç³»ç»Ÿçš„ä¿¡æ¯ï¼šé’ˆå¯¹è¿›ç¨‹ä¿¡æ¯çš„ proc æ–‡ä»¶ç³»ç»Ÿã€é’ˆå¯¹è®¾å¤‡çš„ devfs æ–‡ä»¶ç³»ç»Ÿä»¥åŠé’ˆå¯¹ä¼ªç»ˆç«¯çš„ devpts æ–‡ä»¶ç³»ç»Ÿã€‚ è¯¥æ–‡ä»¶ç³»ç»Ÿæ˜¯å†…æ ¸è®¾å¤‡æ ‘çš„ä¸€ä¸ªç›´è§‚åæ˜ ã€‚ å½“ä¸€ä¸ªå†…æ ¸å¯¹è±¡è¢«åˆ›å»ºçš„æ—¶å€™ï¼Œå¯¹åº”çš„æ–‡ä»¶å’Œç›®å½•ä¹Ÿåœ¨å†…æ ¸å¯¹è±¡å­ç³»ç»Ÿä¸­è¢«åˆ›å»ºã€‚ /tmpï¼štmp æ˜¯ temporary(ä¸´æ—¶) çš„ç¼©å†™è¿™ä¸ªç›®å½•æ˜¯ç”¨æ¥å­˜æ”¾ä¸€äº›ä¸´æ—¶æ–‡ä»¶çš„ã€‚ /usrï¼š usr æ˜¯ unix shared resources(å…±äº«èµ„æº) çš„ç¼©å†™ï¼Œè¿™æ˜¯ä¸€ä¸ªéå¸¸é‡è¦çš„ç›®å½•ï¼Œç”¨æˆ·çš„å¾ˆå¤šåº”ç”¨ç¨‹åºå’Œæ–‡ä»¶éƒ½æ”¾åœ¨è¿™ä¸ªç›®å½•ä¸‹ï¼Œç±»ä¼¼äº windows ä¸‹çš„ program files ç›®å½•ã€‚ /usr/binï¼šç³»ç»Ÿç”¨æˆ·ä½¿ç”¨çš„åº”ç”¨ç¨‹åºã€‚ /usr/sbinï¼šè¶…çº§ç”¨æˆ·ä½¿ç”¨çš„æ¯”è¾ƒé«˜çº§çš„ç®¡ç†ç¨‹åºå’Œç³»ç»Ÿå®ˆæŠ¤ç¨‹åºã€‚ /usr/srcï¼šå†…æ ¸æºä»£ç é»˜è®¤çš„æ”¾ç½®ç›®å½•ã€‚ /varï¼švar æ˜¯ variable(å˜é‡) çš„ç¼©å†™ï¼Œè¿™ä¸ªç›®å½•ä¸­å­˜æ”¾ç€åœ¨ä¸æ–­æ‰©å……ç€çš„ä¸œè¥¿ï¼Œæˆ‘ä»¬ä¹ æƒ¯å°†é‚£äº›ç»å¸¸è¢«ä¿®æ”¹çš„ç›®å½•æ”¾åœ¨è¿™ä¸ªç›®å½•ä¸‹ã€‚åŒ…æ‹¬å„ç§æ—¥å¿—æ–‡ä»¶ã€‚ /runï¼šæ˜¯ä¸€ä¸ªä¸´æ—¶æ–‡ä»¶ç³»ç»Ÿï¼Œå­˜å‚¨ç³»ç»Ÿå¯åŠ¨ä»¥æ¥çš„ä¿¡æ¯ã€‚å½“ç³»ç»Ÿé‡å¯æ—¶ï¼Œè¿™ä¸ªç›®å½•ä¸‹çš„æ–‡ä»¶åº”è¯¥è¢«åˆ æ‰æˆ–æ¸…é™¤ã€‚å¦‚æœä½ çš„ç³»ç»Ÿä¸Šæœ‰ /var/run ç›®å½•ï¼Œåº”è¯¥è®©å®ƒæŒ‡å‘ runã€‚ åœ¨ Linux ç³»ç»Ÿä¸­ï¼Œæœ‰å‡ ä¸ªç›®å½•æ˜¯æ¯”è¾ƒé‡è¦çš„ï¼Œå¹³æ—¶éœ€è¦æ³¨æ„ä¸è¦è¯¯åˆ é™¤æˆ–è€…éšæ„æ›´æ”¹å†…éƒ¨æ–‡ä»¶ã€‚ /etcï¼š ä¸Šè¾¹ä¹Ÿæåˆ°äº†ï¼Œè¿™ä¸ªæ˜¯ç³»ç»Ÿä¸­çš„é…ç½®æ–‡ä»¶ï¼Œå¦‚æœä½ æ›´æ”¹äº†è¯¥ç›®å½•ä¸‹çš„æŸä¸ªæ–‡ä»¶å¯èƒ½ä¼šå¯¼è‡´ç³»ç»Ÿä¸èƒ½å¯åŠ¨ã€‚ /bin, /sbin, /usr/bin, /usr/sbin: è¿™æ˜¯ç³»ç»Ÿé¢„è®¾çš„æ‰§è¡Œæ–‡ä»¶çš„æ”¾ç½®ç›®å½•ï¼Œæ¯”å¦‚ ls å°±æ˜¯åœ¨ /bin/ls ç›®å½•ä¸‹çš„ã€‚ å€¼å¾—æå‡ºçš„æ˜¯ï¼Œ/bin, /usr/bin æ˜¯ç»™ç³»ç»Ÿç”¨æˆ·ä½¿ç”¨çš„æŒ‡ä»¤ï¼ˆé™¤rootå¤–çš„é€šç”¨æˆ·ï¼‰ï¼Œè€Œ/sbin, /usr/sbin åˆ™æ˜¯ç»™ root ä½¿ç”¨çš„æŒ‡ä»¤ã€‚ /varï¼š è¿™æ˜¯ä¸€ä¸ªéå¸¸é‡è¦çš„ç›®å½•ï¼Œç³»ç»Ÿä¸Šè·‘äº†å¾ˆå¤šç¨‹åºï¼Œé‚£ä¹ˆæ¯ä¸ªç¨‹åºéƒ½ä¼šæœ‰ç›¸åº”çš„æ—¥å¿—äº§ç”Ÿï¼Œè€Œè¿™äº›æ—¥å¿—å°±è¢«è®°å½•åˆ°è¿™ä¸ªç›®å½•ä¸‹ï¼Œå…·ä½“åœ¨ /var/log ç›®å½•ä¸‹ï¼Œå¦å¤– mail çš„é¢„è®¾æ”¾ç½®ä¹Ÿæ˜¯åœ¨è¿™é‡Œã€‚ å¿˜è®°å¯†ç è§£å†³æ–¹æ³•https://www.runoob.com/linux/linux-forget-password.html é‡å¯linuxç³»ç»Ÿ 3 ç§’ä¹‹å†…è¦æŒ‰ä¸€ä¸‹å›è½¦ è¾“å…¥e ç¬¬äºŒè¡Œæœ€åè¾¹è¾“å…¥ singleï¼Œæœ‰ä¸€ä¸ªç©ºæ ¼ã€‚å…·ä½“æ–¹æ³•ä¸ºæŒ‰å‘ä¸‹å°–å¤´ç§»åŠ¨åˆ°ç¬¬äºŒè¡Œï¼ŒæŒ‰â€eâ€è¿›å…¥ç¼–è¾‘æ¨¡å¼ åœ¨åè¾¹åŠ ä¸Šsingle å›è½¦ æœ€åæŒ‰â€bâ€å¯åŠ¨ï¼Œå¯åŠ¨åå°±è¿›å…¥äº†å•ç”¨æˆ·æ¨¡å¼äº† æ›´æ”¹rootå¯†ç äº†ã€‚æ›´å¯†ç çš„å‘½ä»¤ä¸º passwd å…‰ç›˜å¯åŠ¨ï¼ŒæŒ‰F5 è¿›å…¥rescueæ¨¡å¼ è¾“å…¥linux rescue å›è½¦ é€‰æ‹©è‹±è¯­ é€‰æ‹©us é”®ç›˜ é—®ä½ æ˜¯å¦å¯åŠ¨ç½‘ç»œï¼Œæœ‰æ—¶å€™å¯èƒ½ä¼šè”ç½‘è°ƒè¯•ã€‚æˆ‘ä»¬é€‰no è¿™é‡Œå‘Šè¯‰æˆ‘ä»¬ï¼Œæ¥ä¸‹æ¥ä¼šæŠŠç³»ç»ŸæŒ‚è½½åœ¨/mnt/sysimage ä¸­ã€‚ å…¶ä¸­æœ‰ä¸‰ä¸ªé€‰é¡¹: Continue å°±æ˜¯æŒ‚è½½åç»§ç»­ä¸‹ä¸€æ­¥ã€‚Read-Only æŒ‚è½½æˆåªè¯»ï¼Œè¿™æ ·æ›´å®‰å…¨ï¼Œæœ‰æ—¶æ–‡ä»¶ç³»ç»ŸæŸåæ—¶ï¼Œåªè¯»æ¨¡å¼ä¼šé˜²æ­¢æ–‡ä»¶ç³»ç»Ÿè¿‘ä¸€æ­¥æŸåã€‚Skipå°±æ˜¯ä¸æŒ‚è½½ï¼Œè¿›å…¥ä¸€ä¸ªå‘½ä»¤çª—å£æ¨¡å¼ã€‚è¿™é‡Œæˆ‘ä»¬é€‰æ‹©Continueã€‚ - è‡³æ­¤ï¼Œç³»ç»Ÿå·²ç»æŒ‚è½½åˆ°äº†/mnt/sysimageä¸­ã€‚æ¥ä¸‹æ¥å›è½¦ï¼Œè¾“å…¥chroot /mnt/sysimage è¿›å…¥ç®¡ç†å‘˜ç¯å¢ƒã€‚ è¿œç¨‹ç™»å½•Linux ä¸€èˆ¬ä½œä¸ºæœåŠ¡å™¨ä½¿ç”¨ï¼Œè€ŒæœåŠ¡å™¨ä¸€èˆ¬æ”¾åœ¨æœºæˆ¿ï¼Œä½ ä¸å¯èƒ½åœ¨æœºæˆ¿æ“ä½œä½ çš„ Linux æœåŠ¡å™¨ã€‚è¿™æ—¶æˆ‘ä»¬å°±éœ€è¦è¿œç¨‹ç™»å½•åˆ°LinuxæœåŠ¡å™¨æ¥ç®¡ç†ç»´æŠ¤ç³»ç»Ÿã€‚ Linux ç³»ç»Ÿä¸­æ˜¯é€šè¿‡ ssh æœåŠ¡å®ç°çš„è¿œç¨‹ç™»å½•åŠŸèƒ½ï¼Œé»˜è®¤ ssh æœåŠ¡ç«¯å£å·ä¸º 22ã€‚Window ç³»ç»Ÿä¸Š Linux è¿œç¨‹ç™»å½•å®¢æˆ·ç«¯æœ‰ SecureCRT, Putty, SSH Secure Shell ç­‰ï¼Œæœ¬æ–‡ä»¥ Putty ä¸ºä¾‹æ¥ç™»å½•è¿œç¨‹æœåŠ¡å™¨ã€‚Putty ä¸‹è½½åœ°å€ï¼šhttps://www.putty.org/ åœ¨Host Name( or IP address) ä¸‹é¢çš„æ¡†ä¸­è¾“å…¥ä½ è¦ç™»å½•çš„è¿œç¨‹æœåŠ¡å™¨IP(å¯ä»¥é€šè¿‡ifconfigå‘½ä»¤æŸ¥çœ‹æœåŠ¡å™¨ip)ï¼Œç„¶åå›è½¦ã€‚ è¾“å…¥è¦ç™»å½•çš„ç”¨æˆ·åã€‚ å†è¾“å…¥å¯†ç ï¼Œå°±èƒ½ç™»å½•åˆ°è¿œç¨‹çš„linuxç³»ç»Ÿäº† ä½¿ç”¨å¯†é’¥è®¤è¯æœºåˆ¶è¿œç¨‹ç™»å½•linux SSH ä¸º Secure Shell çš„ç¼©å†™ï¼Œç”± IETF çš„ç½‘ç»œå·¥ä½œå°ç»„ï¼ˆNetwork Working Groupï¼‰æ‰€åˆ¶å®šã€‚ SSH ä¸ºå»ºç«‹åœ¨åº”ç”¨å±‚å’Œä¼ è¾“å±‚åŸºç¡€ä¸Šçš„å®‰å…¨åè®®ã€‚ é¦–å…ˆä½¿ç”¨å·¥å…· PUTTYGEN.EXE ç”Ÿæˆå¯†é’¥å¯¹ã€‚æ‰“å¼€å·¥å…· PUTTYGEN.EXE åå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š è¯¥å·¥å…·å¯ä»¥ç”Ÿæˆä¸‰ç§æ ¼å¼çš„key ï¼šSSH-1(RSA) SSH-2(RSA) SSH-2(DSA) ï¼Œæˆ‘ä»¬é‡‡ç”¨é»˜è®¤çš„æ ¼å¼å³ SSH-2(RSA)ã€‚Number of bits in a generated key è¿™ä¸ªæ˜¯æŒ‡ç”Ÿæˆçš„keyçš„å¤§å°ï¼Œè¿™ä¸ªæ•°å€¼è¶Šå¤§ï¼Œç”Ÿæˆçš„keyå°±è¶Šå¤æ‚ï¼Œå®‰å…¨æ€§å°±è¶Šé«˜ã€‚è¿™é‡Œæˆ‘ä»¬å†™ 2048ã€‚ Generate è¿‡ç¨‹ä¸­é¼ æ ‡è¦æ¥å›çš„åŠ¨ï¼Œå¦åˆ™è¿™ä¸ªè¿›åº¦æ¡æ˜¯ä¸ä¼šåŠ¨çš„ã€‚ å¯ä»¥ç»™ä½ çš„å¯†é’¥è¾“å…¥ä¸€ä¸ªå¯†ç ï¼Œï¼ˆåœ¨Key Passphraseé‚£é‡Œï¼‰ä¹Ÿå¯ä»¥ç•™ç©ºã€‚ç„¶åç‚¹ Save public key ä¿å­˜å…¬é’¥ï¼Œç‚¹ Save private Key ä¿å­˜ç§é’¥ã€‚ç¬”è€…å»ºè®®ä½ æ”¾åˆ°ä¸€ä¸ªæ¯”è¾ƒå®‰å…¨çš„åœ°æ–¹ï¼Œä¸€æ¥é˜²æ­¢åˆ«äººå·çª¥ï¼ŒäºŒæ¥é˜²æ­¢è¯¯åˆ é™¤ã€‚æ¥ä¸‹æ¥å°±è¯¥åˆ°è¿œç¨‹ linux ä¸»æœºä¸Šè®¾ç½®äº†ã€‚ 1ï¼‰åˆ›å»ºç›®å½• /root/.ssh å¹¶è®¾ç½®æƒé™ [root@localhost ~]# mkdir /root/.ssh mkdir å‘½ä»¤ç”¨æ¥åˆ›å»ºç›®å½•ï¼Œä»¥åä¼šè¯¦ç»†ä»‹ç»ï¼Œæš‚æ—¶åªäº†è§£å³å¯ã€‚ [root@localhost ~]# chmod 700 /root/.ssh chmod å‘½ä»¤æ˜¯ç”¨æ¥ä¿®æ”¹æ–‡ä»¶å±æ€§æƒé™çš„ï¼Œä»¥åä¼šè¯¦ç»†ä»‹ç»ã€‚ 2ï¼‰åˆ›å»ºæ–‡ä»¶ / root/.ssh/authorized_keys [root@localhost ~]# vim /root/.ssh/authorized_keys vim å‘½ä»¤æ˜¯ç¼–è¾‘ä¸€ä¸ªæ–‡æœ¬æ–‡ä»¶çš„å‘½ä»¤ï¼ŒåŒæ ·åœ¨åç»­ç« èŠ‚è¯¦ç»†ä»‹ç»ã€‚ 3ï¼‰æ‰“å¼€åˆšæ‰ç”Ÿæˆçš„public key æ–‡ä»¶ï¼Œå»ºè®®ä½¿ç”¨å†™å­—æ¿æ‰“å¼€ï¼Œè¿™æ ·çœ‹ç€èˆ’æœä¸€äº›ï¼Œå¤åˆ¶ä»AAAAå¼€å¤´è‡³ â€œâ€”â€” END SSH2 PUBLIC KEY â€”â€”â€œ è¯¥è¡Œä¸Šçš„æ‰€æœ‰å†…å®¹ï¼Œç²˜è´´åˆ°/root/.ssh/authorized_keys æ–‡ä»¶ä¸­ï¼Œè¦ä¿è¯æ‰€æœ‰å­—ç¬¦åœ¨ä¸€è¡Œã€‚ï¼ˆå¯ä»¥å…ˆæŠŠå¤åˆ¶çš„å†…å®¹æ‹·è´è‡³è®°äº‹æœ¬ï¼Œç„¶åç¼–è¾‘æˆä¸€è¡Œè½½ç²˜è´´åˆ°è¯¥æ–‡ä»¶ä¸­ï¼‰ã€‚ åœ¨è¿™é‡Œè¦ç®€å•ä»‹ç»ä¸€ä¸‹ï¼Œå¦‚ä½•ç²˜è´´ï¼Œç”¨vimæ‰“å¼€é‚£ä¸ªæ–‡ä»¶åï¼Œè¯¥æ–‡ä»¶ä¸å­˜åœ¨ï¼Œæ‰€ä»¥vimä¼šè‡ªåŠ¨åˆ›å»ºã€‚æŒ‰ä¸€ä¸‹å­—æ¯â€iâ€ç„¶ååŒæ—¶æŒ‰shift + Insert è¿›è¡Œç²˜è´´ï¼ˆæˆ–è€…å•å‡»é¼ æ ‡å³é”®å³å¯ï¼‰ï¼Œå‰ææ˜¯å·²ç»å¤åˆ¶åˆ°å‰ªåˆ‡æ¿ä¸­äº†ã€‚ç²˜è´´å¥½åï¼Œç„¶åæŠŠå…‰æ ‡ç§»åŠ¨åˆ°è¯¥è¡Œæœ€å‰é¢è¾“å…¥ ssh-rsa ï¼Œç„¶åæŒ‰ç©ºæ ¼ã€‚å†æŒ‰ESCï¼Œç„¶åè¾“å…¥å†’å·wq å³ :wq å°±ä¿å­˜äº†ã€‚æ ¼å¼å¦‚ä¸‹å›¾ï¼š - å†è®¾ç½®puttyé€‰é¡¹ï¼Œç‚¹çª—å£å·¦ä¾§çš„SSh â€“&gt; Auth ï¼Œå•å‡»çª—å£å³ä¾§çš„Browseâ€¦ é€‰æ‹©åˆšåˆšç”Ÿæˆçš„ç§é’¥ï¼Œ å†ç‚¹Open ï¼Œæ­¤æ—¶è¾“å…¥rootï¼Œå°±ä¸ç”¨è¾“å…¥å¯†ç å°±èƒ½ç™»å½•äº†ã€‚å¦‚æœåœ¨å‰é¢ä½ è®¾ç½®äº†Key Passphrase ï¼Œé‚£ä¹ˆæ­¤æ—¶å°±ä¼šæç¤ºä½ è¾“å…¥å¯†ç çš„ã€‚ä¸ºäº†æ›´åŠ å®‰å…¨å»ºè®®å¤§å®¶è¦è®¾ç½®ä¸€ä¸ªKey Passphraseã€‚ æ–‡ä»¶åŸºæœ¬å±æ€§Linux ç³»ç»Ÿæ˜¯ä¸€ç§å…¸å‹çš„å¤šç”¨æˆ·ç³»ç»Ÿï¼Œä¸åŒçš„ç”¨æˆ·å¤„äºä¸åŒçš„åœ°ä½ï¼Œæ‹¥æœ‰ä¸åŒçš„æƒé™ã€‚ä¸ºäº†ä¿æŠ¤ç³»ç»Ÿçš„å®‰å…¨æ€§ï¼ŒLinux ç³»ç»Ÿå¯¹ä¸åŒçš„ç”¨æˆ·è®¿é—®åŒä¸€æ–‡ä»¶ï¼ˆåŒ…æ‹¬ç›®å½•æ–‡ä»¶ï¼‰çš„æƒé™åšäº†ä¸åŒçš„è§„å®šã€‚ åœ¨ Linux ä¸­æˆ‘ä»¬é€šå¸¸ä½¿ç”¨ä»¥ä¸‹ä¸¤ä¸ªå‘½ä»¤æ¥ä¿®æ”¹æ–‡ä»¶æˆ–ç›®å½•çš„æ‰€å±ç”¨æˆ·ä¸æƒé™ï¼š chown (change ownerp) ï¼š ä¿®æ”¹æ‰€å±ç”¨æˆ·ä¸ç»„ã€‚chmod (change mode) ï¼š ä¿®æ”¹ç”¨æˆ·çš„æƒé™ã€‚ ä½¿ç”¨ ll æˆ–è€… ls â€“l å‘½ä»¤æ¥æ˜¾ç¤ºä¸€ä¸ªæ–‡ä»¶çš„å±æ€§ä»¥åŠæ–‡ä»¶æ‰€å±çš„ç”¨æˆ·å’Œç»„ï¼Œå¦‚ï¼š [root@www /]# ls -ltotal 64dr-xr-xr-x 2 root root 4096 Dec 14 2012 bindr-xr-xr-x 4 root root 4096 Apr 19 2012 bootâ€¦â€¦ - å®ä¾‹ä¸­ï¼Œbin æ–‡ä»¶çš„ç¬¬ä¸€ä¸ªå±æ€§ç”¨ d è¡¨ç¤ºã€‚d åœ¨ Linux ä¸­ä»£è¡¨è¯¥æ–‡ä»¶æ˜¯ä¸€ä¸ªç›®å½•æ–‡ä»¶ã€‚ åœ¨ Linux ä¸­ç¬¬ä¸€ä¸ªå­—ç¬¦ä»£è¡¨è¿™ä¸ªæ–‡ä»¶æ˜¯ç›®å½•ã€æ–‡ä»¶æˆ–é“¾æ¥æ–‡ä»¶ç­‰ç­‰ã€‚ å½“ä¸º d åˆ™æ˜¯ç›®å½•å½“ä¸º - åˆ™æ˜¯æ–‡ä»¶ï¼›è‹¥æ˜¯ l åˆ™è¡¨ç¤ºä¸ºé“¾æ¥æ–‡æ¡£(link file)ï¼›è‹¥æ˜¯ b åˆ™è¡¨ç¤ºä¸ºè£…ç½®æ–‡ä»¶é‡Œé¢çš„å¯ä¾›å‚¨å­˜çš„æ¥å£è®¾å¤‡(å¯éšæœºå­˜å–è£…ç½®)ï¼›è‹¥æ˜¯ c åˆ™è¡¨ç¤ºä¸ºè£…ç½®æ–‡ä»¶é‡Œé¢çš„ä¸²è¡Œç«¯å£è®¾å¤‡ï¼Œä¾‹å¦‚é”®ç›˜ã€é¼ æ ‡(ä¸€æ¬¡æ€§è¯»å–è£…ç½®)ã€‚ - æ¥ä¸‹æ¥çš„å­—ç¬¦ä¸­ï¼Œä»¥ä¸‰ä¸ªä¸ºä¸€ç»„ï¼Œä¸”å‡ä¸º rwx çš„ä¸‰ä¸ªå‚æ•°çš„ç»„åˆã€‚å…¶ä¸­ï¼Œ r ä»£è¡¨å¯è¯»(read)ã€ w ä»£è¡¨å¯å†™(write)ã€ x ä»£è¡¨å¯æ‰§è¡Œ(execute)ã€‚ è¦æ³¨æ„çš„æ˜¯ï¼Œè¿™ä¸‰ä¸ªæƒé™çš„ä½ç½®ä¸ä¼šæ”¹å˜ï¼Œå¦‚æœæ²¡æœ‰æƒé™ï¼Œå°±ä¼šå‡ºç°å‡å· - è€Œå·²ã€‚ - æ¯ä¸ªæ–‡ä»¶çš„å±æ€§ç”±å·¦è¾¹ç¬¬ä¸€éƒ¨åˆ†çš„ 10 ä¸ªå­—ç¬¦æ¥ç¡®å®šï¼ˆå¦‚å›¾ï¼‰ã€‚ 363003_1227493859FdXTä»å·¦è‡³å³ç”¨ 0-9 è¿™äº›æ•°å­—æ¥è¡¨ç¤ºã€‚ç¬¬ 0 ä½ç¡®å®šæ–‡ä»¶ç±»å‹ï¼Œç¬¬ 1-3 ä½ç¡®å®šå±ä¸»ï¼ˆè¯¥æ–‡ä»¶çš„æ‰€æœ‰è€…ï¼‰æ‹¥æœ‰è¯¥æ–‡ä»¶çš„æƒé™ã€‚ç¬¬4-6ä½ç¡®å®šå±ç»„ï¼ˆæ‰€æœ‰è€…çš„åŒç»„ç”¨æˆ·ï¼‰æ‹¥æœ‰è¯¥æ–‡ä»¶çš„æƒé™ï¼Œç¬¬7-9ä½ç¡®å®šå…¶ä»–ç”¨æˆ·æ‹¥æœ‰è¯¥æ–‡ä»¶çš„æƒé™ã€‚å…¶ä¸­ï¼Œç¬¬ 1ã€4ã€7 ä½è¡¨ç¤ºè¯»æƒé™ï¼Œå¦‚æœç”¨ r å­—ç¬¦è¡¨ç¤ºï¼Œåˆ™æœ‰è¯»æƒé™ï¼Œå¦‚æœç”¨ - å­—ç¬¦è¡¨ç¤ºï¼Œåˆ™æ²¡æœ‰è¯»æƒé™ï¼›ç¬¬ 2ã€5ã€8 ä½è¡¨ç¤ºå†™æƒé™ï¼Œå¦‚æœç”¨ w å­—ç¬¦è¡¨ç¤ºï¼Œåˆ™æœ‰å†™æƒé™ï¼Œå¦‚æœç”¨ - å­—ç¬¦è¡¨ç¤ºæ²¡æœ‰å†™æƒé™ï¼›ç¬¬ 3ã€6ã€9 ä½è¡¨ç¤ºå¯æ‰§è¡Œæƒé™ï¼Œå¦‚æœç”¨ x å­—ç¬¦è¡¨ç¤ºï¼Œåˆ™æœ‰æ‰§è¡Œæƒé™ï¼Œå¦‚æœç”¨ - å­—ç¬¦è¡¨ç¤ºï¼Œåˆ™æ²¡æœ‰æ‰§è¡Œæƒé™ã€‚ Linuxæ–‡ä»¶å±ä¸»å’Œå±ç»„ [root@www /]# ls -ltotal 64drwxr-xr-x 2 root root 4096 Feb 15 14:46 crondrwxr-xr-x 3 mysql mysql 4096 Apr 21 2014 mysqlâ€¦â€¦å¯¹äºæ–‡ä»¶æ¥è¯´ï¼Œå®ƒéƒ½æœ‰ä¸€ä¸ªç‰¹å®šçš„æ‰€æœ‰è€…ï¼Œä¹Ÿå°±æ˜¯å¯¹è¯¥æ–‡ä»¶å…·æœ‰æ‰€æœ‰æƒçš„ç”¨æˆ·ã€‚ åŒæ—¶ï¼Œåœ¨Linuxç³»ç»Ÿä¸­ï¼Œç”¨æˆ·æ˜¯æŒ‰ç»„åˆ†ç±»çš„ï¼Œä¸€ä¸ªç”¨æˆ·å±äºä¸€ä¸ªæˆ–å¤šä¸ªç»„ã€‚ æ–‡ä»¶æ‰€æœ‰è€…ä»¥å¤–çš„ç”¨æˆ·åˆå¯ä»¥åˆ†ä¸ºæ–‡ä»¶æ‰€æœ‰è€…çš„åŒç»„ç”¨æˆ·å’Œå…¶ä»–ç”¨æˆ·ã€‚ å› æ­¤ï¼ŒLinuxç³»ç»ŸæŒ‰æ–‡ä»¶æ‰€æœ‰è€…ã€æ–‡ä»¶æ‰€æœ‰è€…åŒç»„ç”¨æˆ·å’Œå…¶ä»–ç”¨æˆ·æ¥è§„å®šäº†ä¸åŒçš„æ–‡ä»¶è®¿é—®æƒé™ã€‚ åœ¨ä»¥ä¸Šå®ä¾‹ä¸­ï¼Œmysql æ–‡ä»¶æ˜¯ä¸€ä¸ªç›®å½•æ–‡ä»¶ï¼Œå±ä¸»å’Œå±ç»„éƒ½ä¸º mysqlï¼Œå±ä¸»æœ‰å¯è¯»ã€å¯å†™ã€å¯æ‰§è¡Œçš„æƒé™ï¼›ä¸å±ä¸»åŒç»„çš„å…¶ä»–ç”¨æˆ·æœ‰å¯è¯»å’Œå¯æ‰§è¡Œçš„æƒé™ï¼›å…¶ä»–ç”¨æˆ·ä¹Ÿæœ‰å¯è¯»å’Œå¯æ‰§è¡Œçš„æƒé™ã€‚ å¯¹äº root ç”¨æˆ·æ¥è¯´ï¼Œä¸€èˆ¬æƒ…å†µä¸‹ï¼Œæ–‡ä»¶çš„æƒé™å¯¹å…¶ä¸èµ·ä½œç”¨ã€‚ æ›´æ”¹æ–‡ä»¶å±æ€§ chgrpï¼šæ›´æ”¹æ–‡ä»¶å±ç»„è¯­æ³•ï¼šchgrp [-R] å±ç»„å æ–‡ä»¶åå‚æ•°é€‰é¡¹-Rï¼šé€’å½’æ›´æ”¹æ–‡ä»¶å±ç»„ï¼Œå°±æ˜¯åœ¨æ›´æ”¹æŸä¸ªç›®å½•æ–‡ä»¶çš„å±ç»„æ—¶ï¼Œå¦‚æœåŠ ä¸Š-Rçš„å‚æ•°ï¼Œé‚£ä¹ˆè¯¥ç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶çš„å±ç»„éƒ½ä¼šæ›´æ”¹ã€‚ chownï¼šæ›´æ”¹æ–‡ä»¶å±ä¸»ï¼Œä¹Ÿå¯ä»¥åŒæ—¶æ›´æ”¹æ–‡ä»¶å±ç»„è¯­æ³•ï¼šchown [â€“R] å±ä¸»å æ–‡ä»¶åchown [-R] å±ä¸»åï¼šå±ç»„å æ–‡ä»¶åè¿›å…¥ /root ç›®å½•ï¼ˆ~ï¼‰å°†install.logçš„æ‹¥æœ‰è€…æ”¹ä¸ºbinè¿™ä¸ªè´¦å·ï¼š[root@www ~] cd ~[root@www ~]# chown bin install.log[root@www ~]# ls -l-rw-râ€”râ€” 1 bin users 68495 Jun 25 08:53 install.logå°†install.logçš„æ‹¥æœ‰è€…ä¸ç¾¤ç»„æ”¹å›ä¸ºrootï¼š[root@www ~]# chown root:root install.log[root@www ~]# ls -l-rw-râ€”râ€” 1 root root 68495 Jun 25 08:53 install.log chmodï¼šæ›´æ”¹æ–‡ä»¶9ä¸ªå±æ€§Linuxæ–‡ä»¶å±æ€§æœ‰ä¸¤ç§è®¾ç½®æ–¹æ³•ï¼Œä¸€ç§æ˜¯æ•°å­—ï¼Œä¸€ç§æ˜¯ç¬¦å·ã€‚ Linux æ–‡ä»¶çš„åŸºæœ¬æƒé™å°±æœ‰ä¹ä¸ªï¼Œåˆ†åˆ«æ˜¯ owner/group/others(æ‹¥æœ‰è€…/ç»„/å…¶ä»–) ä¸‰ç§èº«ä»½å„æœ‰è‡ªå·±çš„ read/write/execute æƒé™ã€‚ å…ˆå¤ä¹ ä¸€ä¸‹åˆšåˆšä¸Šé¢æåˆ°çš„æ•°æ®ï¼šæ–‡ä»¶çš„æƒé™å­—ç¬¦ä¸ºï¼š -rwxrwxrwx ï¼Œ è¿™ä¹ä¸ªæƒé™æ˜¯ä¸‰ä¸ªä¸‰ä¸ªä¸€ç»„çš„ï¼å…¶ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨æ•°å­—æ¥ä»£è¡¨å„ä¸ªæƒé™ï¼Œå„æƒé™çš„åˆ†æ•°å¯¹ç…§è¡¨å¦‚ä¸‹ï¼šr:4w:2x:1æ¯ç§èº«ä»½(owner/group/others)å„è‡ªçš„ä¸‰ä¸ªæƒé™(r/w/x)åˆ†æ•°æ˜¯éœ€è¦ç´¯åŠ çš„ï¼Œä¾‹å¦‚å½“æƒé™ä¸ºï¼š -rwxrwxâ€”- åˆ†æ•°åˆ™æ˜¯ï¼šowner = rwx = 4+2+1 = 7group = rwx = 4+2+1 = 7others= â€”- = 0+0+0 = 0æ‰€ä»¥ç­‰ä¸€ä¸‹æˆ‘ä»¬è®¾å®šæƒé™çš„å˜æ›´æ—¶ï¼Œè¯¥æ–‡ä»¶çš„æƒé™æ•°å­—å°±æ˜¯ 770ã€‚å˜æ›´æƒé™çš„æŒ‡ä»¤ chmod çš„è¯­æ³•æ˜¯è¿™æ ·çš„ï¼š chmod [-R] xyz æ–‡ä»¶æˆ–ç›®å½•é€‰é¡¹ä¸å‚æ•°ï¼šxyz : å°±æ˜¯åˆšåˆšæåˆ°çš„æ•°å­—ç±»å‹çš„æƒé™å±æ€§ï¼Œä¸º rwx å±æ€§æ•°å€¼çš„ç›¸åŠ ã€‚-R : è¿›è¡Œé€’å½’(recursive)çš„æŒç»­å˜æ›´ï¼Œäº¦å³è¿åŒæ¬¡ç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶éƒ½ä¼šå˜æ›´ä¸¾ä¾‹æ¥è¯´ï¼Œå¦‚æœè¦å°† .bashrc è¿™ä¸ªæ–‡ä»¶æ‰€æœ‰çš„æƒé™éƒ½è®¾å®šå¯ç”¨ï¼Œé‚£ä¹ˆå‘½ä»¤å¦‚ä¸‹ï¼š[root@www ~]# ls -al .bashrc-rw-râ€”râ€” 1 root root 395 Jul 4 11:45 .bashrc[root@www ~]# chmod 777 .bashrc[root@www ~]# ls -al .bashrc-rwxrwxrwx 1 root root 395 Jul 4 11:45 .bashrcé‚£å¦‚æœè¦å°†æƒé™å˜æˆ -rwxr-xrâ€” å‘¢ï¼Ÿé‚£ä¹ˆæƒé™çš„åˆ†æ•°å°±æˆä¸º [4+2+1][4+0+1][4+0+0]=754ã€‚ ç¬¦å·ç±»å‹æ”¹å˜æ–‡ä»¶æƒé™ è¿˜æœ‰ä¸€ä¸ªæ”¹å˜æƒé™çš„æ–¹æ³•ï¼Œä»ä¹‹å‰çš„ä»‹ç»ä¸­æˆ‘ä»¬å¯ä»¥å‘ç°ï¼ŒåŸºæœ¬ä¸Šå°±ä¹ä¸ªæƒé™åˆ†åˆ«æ˜¯ï¼š userï¼šç”¨æˆ·groupï¼šç»„othersï¼šå…¶ä»–é‚£ä¹ˆæˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨ u, g, o æ¥ä»£è¡¨ä¸‰ç§èº«ä»½çš„æƒé™ã€‚ æ­¤å¤–ï¼Œ a åˆ™ä»£è¡¨ allï¼Œå³å…¨éƒ¨çš„èº«ä»½ã€‚è¯»å†™çš„æƒé™å¯ä»¥å†™æˆ r, w, xï¼Œä¹Ÿå°±æ˜¯å¯ä»¥ä½¿ç”¨ä¸‹è¡¨çš„æ–¹å¼æ¥çœ‹ï¼š chmod ugoa +(åŠ å…¥)-(é™¤å»)=(è®¾å®š) rwx æ–‡ä»¶æˆ–ç›®å½•å¦‚æœæˆ‘ä»¬éœ€è¦å°†æ–‡ä»¶æƒé™è®¾ç½®ä¸º -rwxr-xrâ€” ï¼Œå¯ä»¥ä½¿ç”¨ chmod u=rwx,g=rx,o=r æ–‡ä»¶å æ¥è®¾å®š: touch test1 // åˆ›å»º test1 æ–‡ä»¶ ls -al test1 // æŸ¥çœ‹ test1 é»˜è®¤æƒé™ -rw-râ€”râ€” 1 root root 0 Nov 15 10:32 test1 chmod u=rwx,g=rx,o=r test1 // ä¿®æ”¹ test1 æƒé™ ls -al test1 -rwxr-xrâ€” 1 root root 0 Nov 15 10:32 test1è€Œå¦‚æœæ˜¯è¦å°†æƒé™å»æ‰è€Œä¸æ”¹å˜å…¶ä»–å·²å­˜åœ¨çš„æƒé™å‘¢ï¼Ÿä¾‹å¦‚è¦æ‹¿æ‰å…¨éƒ¨äººçš„å¯æ‰§è¡Œæƒé™ï¼Œåˆ™ï¼š chmod a-x test1 ls -al test1 -rw-râ€”râ€” 1 root root 0 Nov 15 10:32 test1 æ–‡ä»¶ä¸ç›®å½•ç®¡ç†Linuxçš„ç›®å½•ç»“æ„ä¸ºæ ‘çŠ¶ç»“æ„ï¼Œæœ€é¡¶çº§çš„ç›®å½•ä¸ºæ ¹ç›®å½• /ã€‚ å…¶ä»–ç›®å½•é€šè¿‡æŒ‚è½½å¯ä»¥å°†å®ƒä»¬æ·»åŠ åˆ°æ ‘ä¸­ï¼Œé€šè¿‡è§£é™¤æŒ‚è½½å¯ä»¥ç§»é™¤å®ƒä»¬ã€‚åœ¨å¼€å§‹æœ¬æ•™ç¨‹å‰æˆ‘ä»¬éœ€è¦å…ˆçŸ¥é“ä»€ä¹ˆæ˜¯ç»å¯¹è·¯å¾„ä¸ç›¸å¯¹è·¯å¾„ã€‚ ç»å¯¹è·¯å¾„ï¼šè·¯å¾„çš„å†™æ³•ï¼Œç”±æ ¹ç›®å½• / å†™èµ·ï¼Œä¾‹å¦‚ï¼š /usr/share/doc è¿™ä¸ªç›®å½•ã€‚ ç›¸å¯¹è·¯å¾„ï¼šè·¯å¾„çš„å†™æ³•ï¼Œä¸æ˜¯ç”± / å†™èµ·ï¼Œä¾‹å¦‚ç”± /usr/share/doc è¦åˆ° /usr/share/man åº•ä¸‹æ—¶ï¼Œå¯ä»¥å†™æˆï¼š cd ../man è¿™å°±æ˜¯ç›¸å¯¹è·¯å¾„çš„å†™æ³•ã€‚ å¤„ç†ç›®å½•çš„å¸¸ç”¨å‘½ä»¤ lsï¼ˆè‹±æ–‡å…¨æ‹¼ï¼šlist filesï¼‰: åˆ—å‡ºç›®å½•åŠæ–‡ä»¶åcdï¼ˆè‹±æ–‡å…¨æ‹¼ï¼šchange directoryï¼‰ï¼šåˆ‡æ¢ç›®å½•pwdï¼ˆè‹±æ–‡å…¨æ‹¼ï¼šprint work directoryï¼‰ï¼šæ˜¾ç¤ºç›®å‰çš„ç›®å½•mkdirï¼ˆè‹±æ–‡å…¨æ‹¼ï¼šmake directoryï¼‰ï¼šåˆ›å»ºä¸€ä¸ªæ–°çš„ç›®å½•rmdirï¼ˆè‹±æ–‡å…¨æ‹¼ï¼šremove directoryï¼‰ï¼šåˆ é™¤ä¸€ä¸ªç©ºçš„ç›®å½•cpï¼ˆè‹±æ–‡å…¨æ‹¼ï¼šcopy fileï¼‰: å¤åˆ¶æ–‡ä»¶æˆ–ç›®å½•rmï¼ˆè‹±æ–‡å…¨æ‹¼ï¼šremoveï¼‰: ç§»é™¤æ–‡ä»¶æˆ–ç›®å½•mvï¼ˆè‹±æ–‡å…¨æ‹¼ï¼šmove fileï¼‰: ç§»åŠ¨æ–‡ä»¶ä¸ç›®å½•ï¼Œæˆ–ä¿®æ”¹æ–‡ä»¶ä¸ç›®å½•çš„åç§°ä½ å¯ä»¥ä½¿ç”¨ man [å‘½ä»¤] æ¥æŸ¥çœ‹å„ä¸ªå‘½ä»¤çš„ä½¿ç”¨æ–‡æ¡£ï¼Œå¦‚ ï¼šman cpã€‚ ls (åˆ—å‡ºç›®å½•)åœ¨Linuxç³»ç»Ÿå½“ä¸­ï¼Œ ls å‘½ä»¤å¯èƒ½æ˜¯æœ€å¸¸è¢«è¿è¡Œçš„ã€‚è¯­æ³•ï¼š[root@www ~]# ls [-aAdfFhilnrRSt] ç›®å½•åç§°[root@www ~]# ls [â€”color={never,auto,always}] ç›®å½•åç§°[root@www ~]# ls [â€”full-time] ç›®å½•åç§°é€‰é¡¹ä¸å‚æ•°ï¼š-a ï¼šå…¨éƒ¨çš„æ–‡ä»¶ï¼Œè¿åŒéšè—æ–‡ä»¶( å¼€å¤´ä¸º . çš„æ–‡ä»¶) ä¸€èµ·åˆ—å‡ºæ¥(å¸¸ç”¨)-d ï¼šä»…åˆ—å‡ºç›®å½•æœ¬èº«ï¼Œè€Œä¸æ˜¯åˆ—å‡ºç›®å½•å†…çš„æ–‡ä»¶æ•°æ®(å¸¸ç”¨)-l ï¼šé•¿æ•°æ®ä¸²åˆ—å‡ºï¼ŒåŒ…å«æ–‡ä»¶çš„å±æ€§ä¸æƒé™ç­‰ç­‰æ•°æ®ï¼›(å¸¸ç”¨)å°†å®¶ç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶åˆ—å‡ºæ¥(å«å±æ€§ä¸éšè—æ¡£)[root@www ~]# ls -al ~ cd (åˆ‡æ¢ç›®å½•)cdæ˜¯Change Directoryçš„ç¼©å†™ï¼Œè¿™æ˜¯ç”¨æ¥å˜æ¢å·¥ä½œç›®å½•çš„å‘½ä»¤ã€‚ è¯­æ³•ï¼š cd [ç›¸å¯¹è·¯å¾„æˆ–ç»å¯¹è·¯å¾„] ä½¿ç”¨ mkdir å‘½ä»¤åˆ›å»º runoob ç›®å½•[root@www ~]# mkdir runoob ä½¿ç”¨ç»å¯¹è·¯å¾„åˆ‡æ¢åˆ° runoob ç›®å½•[root@www ~]# cd /root/runoob/ ä½¿ç”¨ç›¸å¯¹è·¯å¾„åˆ‡æ¢åˆ° runoob ç›®å½•[root@www ~]# cd ./runoob/ è¡¨ç¤ºå›åˆ°è‡ªå·±çš„å®¶ç›®å½•ï¼Œäº¦å³æ˜¯ /root è¿™ä¸ªç›®å½• [root@www runoob]# cd ~ è¡¨ç¤ºå»åˆ°ç›®å‰çš„ä¸Šä¸€çº§ç›®å½•ï¼Œäº¦å³æ˜¯ /root çš„ä¸Šä¸€çº§ç›®å½•çš„æ„æ€ï¼› [root@www ~]# cd ..æ¥ä¸‹æ¥å¤§å®¶å¤šæ“ä½œå‡ æ¬¡åº”è¯¥å°±å¯ä»¥å¾ˆå¥½çš„ç†è§£ cd å‘½ä»¤çš„ã€‚ - pwd (æ˜¾ç¤ºç›®å‰æ‰€åœ¨çš„ç›®å½•) pwd æ˜¯ Print Working Directory çš„ç¼©å†™ï¼Œä¹Ÿå°±æ˜¯æ˜¾ç¤ºç›®å‰æ‰€åœ¨ç›®å½•çš„å‘½ä»¤ã€‚ [root@www ~]# pwd [-P]é€‰é¡¹ä¸å‚æ•°ï¼š -P ï¼šæ˜¾ç¤ºå‡ºç¡®å®çš„è·¯å¾„ï¼Œè€Œéä½¿ç”¨è¿ç»“ (link) è·¯å¾„ã€‚å®ä¾‹ï¼šå•çº¯æ˜¾ç¤ºå‡ºç›®å‰çš„å·¥ä½œç›®å½•ï¼š [root@www ~]# pwd/root &lt;== æ˜¾ç¤ºå‡ºç›®å½•å•¦ï½å®ä¾‹æ˜¾ç¤ºå‡ºå®é™…çš„å·¥ä½œç›®å½•ï¼Œè€Œéè¿ç»“æ¡£æœ¬èº«çš„ç›®å½•åè€Œå·²ã€‚ [root@www ~]# cd /var/mail &lt;==æ³¨æ„ï¼Œ/var/mailæ˜¯ä¸€ä¸ªè¿ç»“æ¡£[root@www mail]# pwd/var/mail &lt;==åˆ—å‡ºç›®å‰çš„å·¥ä½œç›®å½•[root@www mail]# pwd -P/var/spool/mail &lt;==æ€ä¹ˆå›äº‹ï¼Ÿæœ‰æ²¡æœ‰åŠ  -P å·®å¾ˆå¤šï½[root@www mail]# ls -ld /var/maillrwxrwxrwx 1 root root 10 Sep 4 17:54 /var/mail -&gt; spool/mail çœ‹åˆ°è¿™é‡Œåº”è¯¥çŸ¥é“ä¸ºå•¥äº†å§ï¼Ÿå› ä¸º /var/mail æ˜¯è¿ç»“æ¡£ï¼Œè¿ç»“åˆ° /var/spool/mail æ‰€ä»¥ï¼ŒåŠ ä¸Š pwd -P çš„é€‰é¡¹åï¼Œä¼šä¸ä»¥è¿ç»“æ¡£çš„æ•°æ®æ˜¾ç¤ºï¼Œè€Œæ˜¯æ˜¾ç¤ºæ­£ç¡®çš„å®Œæ•´è·¯å¾„å•Šï¼ - mkdir (åˆ›å»ºæ–°ç›®å½•) å¦‚æœæƒ³è¦åˆ›å»ºæ–°çš„ç›®å½•çš„è¯ï¼Œé‚£ä¹ˆå°±ä½¿ç”¨mkdir (make directory)å§ã€‚ è¯­æ³•ï¼š mkdir [-mp] ç›®å½•åç§°é€‰é¡¹ä¸å‚æ•°ï¼š -m ï¼šé…ç½®æ–‡ä»¶çš„æƒé™å–”ï¼ç›´æ¥é…ç½®ï¼Œä¸éœ€è¦çœ‹é»˜è®¤æƒé™ (umask) çš„è„¸è‰²ï½-p ï¼šå¸®åŠ©ä½ ç›´æ¥å°†æ‰€éœ€è¦çš„ç›®å½•(åŒ…å«ä¸Šä¸€çº§ç›®å½•)é€’å½’åˆ›å»ºèµ·æ¥ï¼å®ä¾‹ï¼šè¯·åˆ°/tmpåº•ä¸‹å°è¯•åˆ›å»ºæ•°ä¸ªæ–°ç›®å½•çœ‹çœ‹ï¼š [root@www ~]# cd /tmp[root@www tmp]# mkdir test &lt;==åˆ›å»ºä¸€åä¸º test çš„æ–°ç›®å½•[root@www tmp]# mkdir test1/test2/test3/test4mkdir: cannot create directory `test1/test2/test3/test4â€™:No such file or directory &lt;== æ²¡åŠæ³•ç›´æ¥åˆ›å»ºæ­¤ç›®å½•å•Šï¼[root@www tmp]# mkdir -p test1/test2/test3/test4åŠ äº†è¿™ä¸ª -p çš„é€‰é¡¹ï¼Œå¯ä»¥è‡ªè¡Œå¸®ä½ åˆ›å»ºå¤šå±‚ç›®å½•ï¼ å®ä¾‹ï¼šåˆ›å»ºæƒé™ä¸º rwxâ€”xâ€”x çš„ç›®å½•ã€‚ [root@www tmp]# mkdir -m 711 test2[root@www tmp]# ls -ldrwxr-xr-x 3 root root 4096 Jul 18 12:50 testdrwxr-xr-x 3 root root 4096 Jul 18 12:53 test1drwxâ€”xâ€”x 2 root root 4096 Jul 18 12:54 test2ä¸Šé¢çš„æƒé™éƒ¨åˆ†ï¼Œå¦‚æœæ²¡æœ‰åŠ ä¸Š -m æ¥å¼ºåˆ¶é…ç½®å±æ€§ï¼Œç³»ç»Ÿä¼šä½¿ç”¨é»˜è®¤å±æ€§ã€‚ å¦‚æœæˆ‘ä»¬ä½¿ç”¨ -m ï¼Œå¦‚ä¸Šä¾‹æˆ‘ä»¬ç»™äºˆ -m 711 æ¥ç»™äºˆæ–°çš„ç›®å½• drwxâ€”xâ€”x çš„æƒé™ã€‚ - rmdir (åˆ é™¤ç©ºçš„ç›®å½•) è¯­æ³•ï¼š rmdir [-p] ç›®å½•åç§°é€‰é¡¹ä¸å‚æ•°ï¼š -p ï¼šè¿åŒä¸Šä¸€çº§ã€ç©ºçš„ã€ç›®å½•ä¹Ÿä¸€èµ·åˆ é™¤åˆ é™¤ runoob ç›®å½• [root@www tmp]# rmdir runoob/å°† mkdir å®ä¾‹ä¸­åˆ›å»ºçš„ç›®å½•(/tmp åº•ä¸‹)åˆ é™¤æ‰ï¼ [root@www tmp]# ls -l &lt;==çœ‹çœ‹æœ‰å¤šå°‘ç›®å½•å­˜åœ¨ï¼Ÿdrwxr-xr-x 3 root root 4096 Jul 18 12:50 testdrwxr-xr-x 3 root root 4096 Jul 18 12:53 test1drwxâ€”xâ€”x 2 root root 4096 Jul 18 12:54 test2[root@www tmp]# rmdir test &lt;==å¯ç›´æ¥åˆ é™¤æ‰ï¼Œæ²¡é—®é¢˜[root@www tmp]# rmdir test1 &lt;==å› ä¸ºå°šæœ‰å†…å®¹ï¼Œæ‰€ä»¥æ— æ³•åˆ é™¤ï¼rmdir: `test1â€™: Directory not empty[root@www tmp]# rmdir -p test1/test2/test3/test4[root@www tmp]# ls -l &lt;==æ‚¨çœ‹çœ‹ï¼Œåº•ä¸‹çš„è¾“å‡ºä¸­testä¸test1ä¸è§äº†ï¼drwxâ€”xâ€”x 2 root root 4096 Jul 18 12:54 test2åˆ©ç”¨ -p è¿™ä¸ªé€‰é¡¹ï¼Œç«‹åˆ»å°±å¯ä»¥å°† test1/test2/test3/test4 ä¸€æ¬¡åˆ é™¤ã€‚ ä¸è¿‡è¦æ³¨æ„çš„æ˜¯ï¼Œè¿™ä¸ª rmdir ä»…èƒ½åˆ é™¤ç©ºçš„ç›®å½•ï¼Œä½ å¯ä»¥ä½¿ç”¨ rm å‘½ä»¤æ¥åˆ é™¤éç©ºç›®å½•ã€‚ - cp (å¤åˆ¶æ–‡ä»¶æˆ–ç›®å½•) cp å³æ‹·è´æ–‡ä»¶å’Œç›®å½•ã€‚ è¯­æ³•: [root@www ~]# cp [-adfilprsu] æ¥æºæ¡£(source) ç›®æ ‡æ¡£(destination)[root@www ~]# cp [options] source1 source2 source3 â€¦. directoryé€‰é¡¹ä¸å‚æ•°ï¼š -aï¼šç›¸å½“æ–¼ -pdr çš„æ„æ€ï¼Œè‡³æ–¼ pdr è¯·å‚è€ƒä¸‹åˆ—è¯´æ˜ï¼›(å¸¸ç”¨) -dï¼šè‹¥æ¥æºæ¡£ä¸ºè¿ç»“æ¡£çš„å±æ€§(link file)ï¼Œåˆ™å¤åˆ¶è¿ç»“æ¡£å±æ€§è€Œéæ–‡ä»¶æœ¬èº«ï¼› -fï¼šä¸ºå¼ºåˆ¶(force)çš„æ„æ€ï¼Œè‹¥ç›®æ ‡æ–‡ä»¶å·²ç»å­˜åœ¨ä¸”æ— æ³•å¼€å¯ï¼Œåˆ™ç§»é™¤åå†å°è¯•ä¸€æ¬¡ï¼› -iï¼šè‹¥ç›®æ ‡æ¡£(destination)å·²ç»å­˜åœ¨æ—¶ï¼Œåœ¨è¦†ç›–æ—¶ä¼šå…ˆè¯¢é—®åŠ¨ä½œçš„è¿›è¡Œ(å¸¸ç”¨) -lï¼šè¿›è¡Œç¡¬å¼è¿ç»“(hard link)çš„è¿ç»“æ¡£åˆ›å»ºï¼Œè€Œéå¤åˆ¶æ–‡ä»¶æœ¬èº«ï¼› -pï¼šè¿åŒæ–‡ä»¶çš„å±æ€§ä¸€èµ·å¤åˆ¶è¿‡å»ï¼Œè€Œéä½¿ç”¨é»˜è®¤å±æ€§(å¤‡ä»½å¸¸ç”¨)ï¼› -rï¼šé€’å½’æŒç»­å¤åˆ¶ï¼Œç”¨æ–¼ç›®å½•çš„å¤åˆ¶è¡Œä¸ºï¼›(å¸¸ç”¨) -sï¼šå¤åˆ¶æˆä¸ºç¬¦å·è¿ç»“æ¡£ (symbolic link)ï¼Œäº¦å³ã€æ·å¾„ã€æ–‡ä»¶ï¼› -uï¼šè‹¥ destination æ¯” source æ—§æ‰å‡çº§ destination ï¼ ç”¨ root èº«ä»½ï¼Œå°† root ç›®å½•ä¸‹çš„ .bashrc å¤åˆ¶åˆ° /tmp ä¸‹ï¼Œå¹¶å‘½åä¸º bashrc [root@www ~]# cp ~/.bashrc /tmp/bashrc[root@www ~]# cp -i ~/.bashrc /tmp/bashrccp: overwrite `/tmp/bashrcâ€™? n &lt;==nä¸è¦†ç›–ï¼Œyä¸ºè¦†ç›– - rm (ç§»é™¤æ–‡ä»¶æˆ–ç›®å½•) è¯­æ³•ï¼š rm [-fir] æ–‡ä»¶æˆ–ç›®å½•é€‰é¡¹ä¸å‚æ•°ï¼š -f ï¼šå°±æ˜¯ force çš„æ„æ€ï¼Œå¿½ç•¥ä¸å­˜åœ¨çš„æ–‡ä»¶ï¼Œä¸ä¼šå‡ºç°è­¦å‘Šä¿¡æ¯ï¼›-i ï¼šäº’åŠ¨æ¨¡å¼ï¼Œåœ¨åˆ é™¤å‰ä¼šè¯¢é—®ä½¿ç”¨è€…æ˜¯å¦åŠ¨ä½œ-r ï¼šé€’å½’åˆ é™¤å•Šï¼æœ€å¸¸ç”¨åœ¨ç›®å½•çš„åˆ é™¤äº†ï¼è¿™æ˜¯éå¸¸å±é™©çš„é€‰é¡¹ï¼ï¼ï¼å°†åˆšåˆšåœ¨ cp çš„å®ä¾‹ä¸­åˆ›å»ºçš„ bashrc åˆ é™¤æ‰ï¼ [root@www tmp]# rm -i bashrcrm: remove regular file `bashrcâ€™? yå¦‚æœåŠ ä¸Š -i çš„é€‰é¡¹å°±ä¼šä¸»åŠ¨è¯¢é—®å–”ï¼Œé¿å…ä½ åˆ é™¤åˆ°é”™è¯¯çš„æ¡£åï¼ - mv (ç§»åŠ¨æ–‡ä»¶ä¸ç›®å½•ï¼Œæˆ–ä¿®æ”¹åç§°) è¯­æ³•ï¼š [root@www ~]# mv [-fiu] source destination[root@www ~]# mv [options] source1 source2 source3 â€¦. directoryé€‰é¡¹ä¸å‚æ•°ï¼š -f ï¼šforce å¼ºåˆ¶çš„æ„æ€ï¼Œå¦‚æœç›®æ ‡æ–‡ä»¶å·²ç»å­˜åœ¨ï¼Œä¸ä¼šè¯¢é—®è€Œç›´æ¥è¦†ç›–ï¼›-i ï¼šè‹¥ç›®æ ‡æ–‡ä»¶ (destination) å·²ç»å­˜åœ¨æ—¶ï¼Œå°±ä¼šè¯¢é—®æ˜¯å¦è¦†ç›–ï¼-u ï¼šè‹¥ç›®æ ‡æ–‡ä»¶å·²ç»å­˜åœ¨ï¼Œä¸” source æ¯”è¾ƒæ–°ï¼Œæ‰ä¼šå‡çº§ (update)å¤åˆ¶ä¸€æ–‡ä»¶ï¼Œåˆ›å»ºä¸€ç›®å½•ï¼Œå°†æ–‡ä»¶ç§»åŠ¨åˆ°ç›®å½•ä¸­ [root@www ~]# cd /tmp[root@www tmp]# cp ~/.bashrc bashrc[root@www tmp]# mkdir mvtest[root@www tmp]# mv bashrc mvtestå°†æŸä¸ªæ–‡ä»¶ç§»åŠ¨åˆ°æŸä¸ªç›®å½•å»ï¼Œå°±æ˜¯è¿™æ ·åšï¼ å°†åˆšåˆšçš„ç›®å½•åç§°æ›´åä¸º mvtest2 [root@www tmp]# mv mvtest mvtest2 - Linux æ–‡ä»¶å†…å®¹æŸ¥çœ‹ Linuxç³»ç»Ÿä¸­ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æ¥æŸ¥çœ‹æ–‡ä»¶çš„å†…å®¹ï¼š cat ç”±ç¬¬ä¸€è¡Œå¼€å§‹æ˜¾ç¤ºæ–‡ä»¶å†…å®¹tac ä»æœ€åä¸€è¡Œå¼€å§‹æ˜¾ç¤ºï¼Œå¯ä»¥çœ‹å‡º tac æ˜¯ cat çš„å€’ç€å†™ï¼nl æ˜¾ç¤ºçš„æ—¶å€™ï¼Œé¡ºé“è¾“å‡ºè¡Œå·ï¼more ä¸€é¡µä¸€é¡µçš„æ˜¾ç¤ºæ–‡ä»¶å†…å®¹less ä¸ more ç±»ä¼¼ï¼Œä½†æ˜¯æ¯” more æ›´å¥½çš„æ˜¯ï¼Œä»–å¯ä»¥å¾€å‰ç¿»é¡µï¼head åªçœ‹å¤´å‡ è¡Œtail åªçœ‹å°¾å·´å‡ è¡Œä½ å¯ä»¥ä½¿ç”¨ man [å‘½ä»¤]æ¥æŸ¥çœ‹å„ä¸ªå‘½ä»¤çš„ä½¿ç”¨æ–‡æ¡£ï¼Œå¦‚ ï¼šman cpã€‚ - cat ç”±ç¬¬ä¸€è¡Œå¼€å§‹æ˜¾ç¤ºæ–‡ä»¶å†…å®¹ è¯­æ³•ï¼š cat [-AbEnTv]é€‰é¡¹ä¸å‚æ•°ï¼š -A ï¼šç›¸å½“æ–¼ -vET çš„æ•´åˆé€‰é¡¹ï¼Œå¯åˆ—å‡ºä¸€äº›ç‰¹æ®Šå­—ç¬¦è€Œä¸æ˜¯ç©ºç™½è€Œå·²ï¼›-b ï¼šåˆ—å‡ºè¡Œå·ï¼Œä»…é’ˆå¯¹éç©ºç™½è¡Œåšè¡Œå·æ˜¾ç¤ºï¼Œç©ºç™½è¡Œä¸æ ‡è¡Œå·ï¼-E ï¼šå°†ç»“å°¾çš„æ–­è¡Œå­—èŠ‚ $ æ˜¾ç¤ºå‡ºæ¥ï¼›-n ï¼šåˆ—å°å‡ºè¡Œå·ï¼Œè¿åŒç©ºç™½è¡Œä¹Ÿä¼šæœ‰è¡Œå·ï¼Œä¸ -b çš„é€‰é¡¹ä¸åŒï¼›-T ï¼šå°† [tab] æŒ‰é”®ä»¥ ^I æ˜¾ç¤ºå‡ºæ¥ï¼›-v ï¼šåˆ—å‡ºä¸€äº›çœ‹ä¸å‡ºæ¥çš„ç‰¹æ®Šå­—ç¬¦æ£€çœ‹ /etc/issue è¿™ä¸ªæ–‡ä»¶çš„å†…å®¹ï¼š [root@www ~]# cat /etc/issueCentOS release 6.4 (Final)Kernel \\r on an \\m - tac tacä¸catå‘½ä»¤åˆšå¥½ç›¸åï¼Œæ–‡ä»¶å†…å®¹ä»æœ€åä¸€è¡Œå¼€å§‹æ˜¾ç¤ºï¼Œå¯ä»¥çœ‹å‡º tac æ˜¯ cat çš„å€’ç€å†™ï¼å¦‚ï¼š [root@www ~]# tac /etc/issue Kernel \\r on an \\mCentOS release 6.4 (Final) - nl æ˜¾ç¤ºè¡Œå· è¯­æ³•ï¼š nl [-bnw] æ–‡ä»¶é€‰é¡¹ä¸å‚æ•°ï¼š -b ï¼šæŒ‡å®šè¡Œå·æŒ‡å®šçš„æ–¹å¼ï¼Œä¸»è¦æœ‰ä¸¤ç§ï¼š-b a ï¼šè¡¨ç¤ºä¸è®ºæ˜¯å¦ä¸ºç©ºè¡Œï¼Œä¹ŸåŒæ ·åˆ—å‡ºè¡Œå·(ç±»ä¼¼ cat -n)ï¼›-b t ï¼šå¦‚æœæœ‰ç©ºè¡Œï¼Œç©ºçš„é‚£ä¸€è¡Œä¸è¦åˆ—å‡ºè¡Œå·(é»˜è®¤å€¼)ï¼›-n ï¼šåˆ—å‡ºè¡Œå·è¡¨ç¤ºçš„æ–¹æ³•ï¼Œä¸»è¦æœ‰ä¸‰ç§ï¼š-n ln ï¼šè¡Œå·åœ¨è§å¹•çš„æœ€å·¦æ–¹æ˜¾ç¤ºï¼›-n rn ï¼šè¡Œå·åœ¨è‡ªå·±æ ä½çš„æœ€å³æ–¹æ˜¾ç¤ºï¼Œä¸”ä¸åŠ  0 ï¼›-n rz ï¼šè¡Œå·åœ¨è‡ªå·±æ ä½çš„æœ€å³æ–¹æ˜¾ç¤ºï¼Œä¸”åŠ  0 ï¼›-w ï¼šè¡Œå·æ ä½çš„å ç”¨çš„ä½æ•°ã€‚å®ä¾‹ä¸€ï¼šç”¨ nl åˆ—å‡º /etc/issue çš„å†…å®¹ [root@www ~]# nl /etc/issue 1 CentOS release 6.4 (Final) 2 Kernel \\r on an \\m - more ä¸€é¡µä¸€é¡µç¿»åŠ¨ [root@www ~]# more /etc/man_db.config# Generated automatically from man.conf.in by the configure script. # man.conf from man-1.6d â€¦.(ä¸­é—´çœç•¥)â€¦.â€”Moreâ€”(28%) &lt;== é‡ç‚¹åœ¨è¿™ä¸€è¡Œå–”ï¼ä½ çš„å…‰æ ‡ä¹Ÿä¼šåœ¨è¿™é‡Œç­‰å¾…ä½ çš„å‘½ä»¤åœ¨ more è¿™ä¸ªç¨‹åºçš„è¿è¡Œè¿‡ç¨‹ä¸­ï¼Œä½ æœ‰å‡ ä¸ªæŒ‰é”®å¯ä»¥æŒ‰çš„ï¼š ç©ºç™½é”® (space)ï¼šä»£è¡¨å‘ä¸‹ç¿»ä¸€é¡µï¼›Enter ï¼šä»£è¡¨å‘ä¸‹ç¿»ã€ä¸€è¡Œã€ï¼›/å­—ä¸² ï¼šä»£è¡¨åœ¨è¿™ä¸ªæ˜¾ç¤ºçš„å†…å®¹å½“ä¸­ï¼Œå‘ä¸‹æœå¯»ã€å­—ä¸²ã€è¿™ä¸ªå…³é”®å­—ï¼›:f ï¼šç«‹åˆ»æ˜¾ç¤ºå‡ºæ¡£åä»¥åŠç›®å‰æ˜¾ç¤ºçš„è¡Œæ•°ï¼›q ï¼šä»£è¡¨ç«‹åˆ»ç¦»å¼€ more ï¼Œä¸å†æ˜¾ç¤ºè¯¥æ–‡ä»¶å†…å®¹ã€‚b æˆ– [ctrl]-b ï¼šä»£è¡¨å¾€å›ç¿»é¡µï¼Œä¸è¿‡è¿™åŠ¨ä½œåªå¯¹æ–‡ä»¶æœ‰ç”¨ï¼Œå¯¹ç®¡çº¿æ— ç”¨ã€‚ - less ä¸€é¡µä¸€é¡µç¿»åŠ¨ï¼Œä»¥ä¸‹å®ä¾‹è¾“å‡º/etc/man.configæ–‡ä»¶çš„å†…å®¹ï¼š [root@www ~]# less /etc/man.config# Generated automatically from man.conf.in by the configure script. # man.conf from man-1.6d â€¦.(ä¸­é—´çœç•¥)â€¦.: &lt;== è¿™é‡Œå¯ä»¥ç­‰å¾…ä½ è¾“å…¥å‘½ä»¤ï¼lessè¿è¡Œæ—¶å¯ä»¥è¾“å…¥çš„å‘½ä»¤æœ‰ï¼š ç©ºç™½é”® ï¼šå‘ä¸‹ç¿»åŠ¨ä¸€é¡µï¼›[pagedown]ï¼šå‘ä¸‹ç¿»åŠ¨ä¸€é¡µï¼›[pageup] ï¼šå‘ä¸Šç¿»åŠ¨ä¸€é¡µï¼›/å­—ä¸² ï¼šå‘ä¸‹æœå¯»ã€å­—ä¸²ã€çš„åŠŸèƒ½ï¼›?å­—ä¸² ï¼šå‘ä¸Šæœå¯»ã€å­—ä¸²ã€çš„åŠŸèƒ½ï¼›n ï¼šé‡å¤å‰ä¸€ä¸ªæœå¯» (ä¸ / æˆ– ? æœ‰å…³ï¼)N ï¼šåå‘çš„é‡å¤å‰ä¸€ä¸ªæœå¯» (ä¸ / æˆ– ? æœ‰å…³ï¼)q ï¼šç¦»å¼€ less è¿™ä¸ªç¨‹åºï¼› - head å–å‡ºæ–‡ä»¶å‰é¢å‡ è¡Œ è¯­æ³•ï¼š head [-n number] æ–‡ä»¶é€‰é¡¹ä¸å‚æ•°ï¼š -n ï¼šåé¢æ¥æ•°å­—ï¼Œä»£è¡¨æ˜¾ç¤ºå‡ è¡Œçš„æ„æ€[root@www ~]# head /etc/man.configé»˜è®¤çš„æƒ…å†µä¸­ï¼Œæ˜¾ç¤ºå‰é¢ 10 è¡Œï¼è‹¥è¦æ˜¾ç¤ºå‰ 20 è¡Œï¼Œå°±å¾—è¦è¿™æ ·ï¼š [root@www ~]# head -n 20 /etc/man.config - tail å–å‡ºæ–‡ä»¶åé¢å‡ è¡Œ è¯­æ³•ï¼š tail [-n number] æ–‡ä»¶é€‰é¡¹ä¸å‚æ•°ï¼š -n ï¼šåé¢æ¥æ•°å­—ï¼Œä»£è¡¨æ˜¾ç¤ºå‡ è¡Œçš„æ„æ€-f ï¼šè¡¨ç¤ºæŒç»­ä¾¦æµ‹åé¢æ‰€æ¥çš„æ¡£åï¼Œè¦ç­‰åˆ°æŒ‰ä¸‹[ctrl]-cæ‰ä¼šç»“æŸtailçš„ä¾¦æµ‹[root@www ~]# tail /etc/man.config é»˜è®¤çš„æƒ…å†µä¸­ï¼Œæ˜¾ç¤ºæœ€åçš„åè¡Œï¼è‹¥è¦æ˜¾ç¤ºæœ€åçš„ 20 è¡Œï¼Œå°±å¾—è¦è¿™æ ·ï¼š [root@www ~]# tail -n 20 /etc/man.config ç”¨æˆ·å’Œç”¨æˆ·ç»„ç®¡ç†Linuxç³»ç»Ÿæ˜¯ä¸€ä¸ªå¤šç”¨æˆ·å¤šä»»åŠ¡çš„åˆ†æ—¶æ“ä½œç³»ç»Ÿï¼Œä»»ä½•ä¸€ä¸ªè¦ä½¿ç”¨ç³»ç»Ÿèµ„æºçš„ç”¨æˆ·ï¼Œéƒ½å¿…é¡»é¦–å…ˆå‘ç³»ç»Ÿç®¡ç†å‘˜ç”³è¯·ä¸€ä¸ªè´¦å·ï¼Œç„¶åä»¥è¿™ä¸ªè´¦å·çš„èº«ä»½è¿›å…¥ç³»ç»Ÿã€‚ ç”¨æˆ·çš„è´¦å·ä¸€æ–¹é¢å¯ä»¥å¸®åŠ©ç³»ç»Ÿç®¡ç†å‘˜å¯¹ä½¿ç”¨ç³»ç»Ÿçš„ç”¨æˆ·è¿›è¡Œè·Ÿè¸ªï¼Œå¹¶æ§åˆ¶ä»–ä»¬å¯¹ç³»ç»Ÿèµ„æºçš„è®¿é—®ï¼›å¦ä¸€æ–¹é¢ä¹Ÿå¯ä»¥å¸®åŠ©ç”¨æˆ·ç»„ç»‡æ–‡ä»¶ï¼Œå¹¶ä¸ºç”¨æˆ·æä¾›å®‰å…¨æ€§ä¿æŠ¤ã€‚æ¯ä¸ªç”¨æˆ·è´¦å·éƒ½æ‹¥æœ‰ä¸€ä¸ªå”¯ä¸€çš„ç”¨æˆ·åå’Œå„è‡ªçš„å£ä»¤ã€‚ç”¨æˆ·åœ¨ç™»å½•æ—¶é”®å…¥æ­£ç¡®çš„ç”¨æˆ·åå’Œå£ä»¤åï¼Œå°±èƒ½å¤Ÿè¿›å…¥ç³»ç»Ÿå’Œè‡ªå·±çš„ä¸»ç›®å½•ã€‚ å®ç°ç”¨æˆ·è´¦å·çš„ç®¡ç†ï¼Œè¦å®Œæˆçš„å·¥ä½œä¸»è¦æœ‰å¦‚ä¸‹å‡ ä¸ªæ–¹é¢ï¼šç”¨æˆ·è´¦å·çš„æ·»åŠ ã€åˆ é™¤ä¸ä¿®æ”¹ã€‚ç”¨æˆ·å£ä»¤çš„ç®¡ç†ã€‚ç”¨æˆ·ç»„çš„ç®¡ç†ã€‚ ä¸€ã€Linuxç³»ç»Ÿç”¨æˆ·è´¦å·çš„ç®¡ç† ç”¨æˆ·è´¦å·çš„ç®¡ç†å·¥ä½œä¸»è¦æ¶‰åŠåˆ°ç”¨æˆ·è´¦å·çš„æ·»åŠ ã€ä¿®æ”¹å’Œåˆ é™¤ã€‚ æ·»åŠ ç”¨æˆ·è´¦å·å°±æ˜¯åœ¨ç³»ç»Ÿä¸­åˆ›å»ºä¸€ä¸ªæ–°è´¦å·ï¼Œç„¶åä¸ºæ–°è´¦å·åˆ†é…ç”¨æˆ·å·ã€ç”¨æˆ·ç»„ã€ä¸»ç›®å½•å’Œç™»å½•Shellç­‰èµ„æºã€‚åˆšæ·»åŠ çš„è´¦å·æ˜¯è¢«é”å®šçš„ï¼Œæ— æ³•ä½¿ç”¨ã€‚ 1ã€æ·»åŠ æ–°çš„ç”¨æˆ·è´¦å·ä½¿ç”¨useraddå‘½ä»¤ï¼Œå…¶è¯­æ³•å¦‚ä¸‹ï¼šuseradd é€‰é¡¹ ç”¨æˆ·åå‚æ•°è¯´æ˜ï¼š é€‰é¡¹:-c comment æŒ‡å®šä¸€æ®µæ³¨é‡Šæ€§æè¿°ã€‚-d ç›®å½• æŒ‡å®šç”¨æˆ·ä¸»ç›®å½•ï¼Œå¦‚æœæ­¤ç›®å½•ä¸å­˜åœ¨ï¼Œåˆ™åŒæ—¶ä½¿ç”¨-mé€‰é¡¹ï¼Œå¯ä»¥åˆ›å»ºä¸»ç›®å½•ã€‚-g ç”¨æˆ·ç»„ æŒ‡å®šç”¨æˆ·æ‰€å±çš„ç”¨æˆ·ç»„ã€‚-G ç”¨æˆ·ç»„ï¼Œç”¨æˆ·ç»„ æŒ‡å®šç”¨æˆ·æ‰€å±çš„é™„åŠ ç»„ã€‚-s Shellæ–‡ä»¶ æŒ‡å®šç”¨æˆ·çš„ç™»å½•Shellã€‚-u ç”¨æˆ·å· æŒ‡å®šç”¨æˆ·çš„ç”¨æˆ·å·ï¼Œå¦‚æœåŒæ—¶æœ‰-oé€‰é¡¹ï¼Œåˆ™å¯ä»¥é‡å¤ä½¿ç”¨å…¶ä»–ç”¨æˆ·çš„æ ‡è¯†å·ã€‚ç”¨æˆ·å:æŒ‡å®šæ–°è´¦å·çš„ç™»å½•åã€‚å®ä¾‹1 useradd â€“d /home/sam -m sam æ­¤å‘½ä»¤åˆ›å»ºäº†ä¸€ä¸ªç”¨æˆ·samï¼Œå…¶ä¸­-då’Œ-mé€‰é¡¹ç”¨æ¥ä¸ºç™»å½•åsamäº§ç”Ÿä¸€ä¸ªä¸»ç›®å½• /home/samï¼ˆ/homeä¸ºé»˜è®¤çš„ç”¨æˆ·ä¸»ç›®å½•æ‰€åœ¨çš„çˆ¶ç›®å½•ï¼‰ã€‚ å®ä¾‹2 useradd -s /bin/sh -g group â€“G adm,root gem æ­¤å‘½ä»¤æ–°å»ºäº†ä¸€ä¸ªç”¨æˆ·gemï¼Œè¯¥ç”¨æˆ·çš„ç™»å½•Shellæ˜¯ /bin/shï¼Œå®ƒå±äºgroupç”¨æˆ·ç»„ï¼ŒåŒæ—¶åˆå±äºadmå’Œrootç”¨æˆ·ç»„ï¼Œå…¶ä¸­groupç”¨æˆ·ç»„æ˜¯å…¶ä¸»ç»„ã€‚è¿™é‡Œå¯èƒ½æ–°å»ºç»„ï¼š#groupadd groupåŠgroupadd admå¢åŠ ç”¨æˆ·è´¦å·å°±æ˜¯åœ¨/etc/passwdæ–‡ä»¶ä¸­ä¸ºæ–°ç”¨æˆ·å¢åŠ ä¸€æ¡è®°å½•ï¼ŒåŒæ—¶æ›´æ–°å…¶ä»–ç³»ç»Ÿæ–‡ä»¶å¦‚/etc/shadow, /etc/groupç­‰ã€‚Linuxæä¾›äº†é›†æˆçš„ç³»ç»Ÿç®¡ç†å·¥å…·userconfï¼Œå®ƒå¯ä»¥ç”¨æ¥å¯¹ç”¨æˆ·è´¦å·è¿›è¡Œç»Ÿä¸€ç®¡ç†ã€‚ 2ã€åˆ é™¤å¸å·å¦‚æœä¸€ä¸ªç”¨æˆ·çš„è´¦å·ä¸å†ä½¿ç”¨ï¼Œå¯ä»¥ä»ç³»ç»Ÿä¸­åˆ é™¤ã€‚åˆ é™¤ç”¨æˆ·è´¦å·å°±æ˜¯è¦å°†/etc/passwdç­‰ç³»ç»Ÿæ–‡ä»¶ä¸­çš„è¯¥ç”¨æˆ·è®°å½•åˆ é™¤ï¼Œå¿…è¦æ—¶è¿˜åˆ é™¤ç”¨æˆ·çš„ä¸»ç›®å½•ã€‚ åˆ é™¤ä¸€ä¸ªå·²æœ‰çš„ç”¨æˆ·è´¦å·ä½¿ç”¨userdelå‘½ä»¤ï¼Œå…¶æ ¼å¼å¦‚ä¸‹ï¼š userdel é€‰é¡¹ ç”¨æˆ·åå¸¸ç”¨çš„é€‰é¡¹æ˜¯ -rï¼Œå®ƒçš„ä½œç”¨æ˜¯æŠŠç”¨æˆ·çš„ä¸»ç›®å½•ä¸€èµ·åˆ é™¤ã€‚ ä¾‹å¦‚ï¼š userdel -r sam æ­¤å‘½ä»¤åˆ é™¤ç”¨æˆ·samåœ¨ç³»ç»Ÿæ–‡ä»¶ä¸­ï¼ˆä¸»è¦æ˜¯/etc/passwd, /etc/shadow, /etc/groupç­‰ï¼‰çš„è®°å½•ï¼ŒåŒæ—¶åˆ é™¤ç”¨æˆ·çš„ä¸»ç›®å½•ã€‚ 3ã€ä¿®æ”¹å¸å·ä¿®æ”¹ç”¨æˆ·è´¦å·å°±æ˜¯æ ¹æ®å®é™…æƒ…å†µæ›´æ”¹ç”¨æˆ·çš„æœ‰å…³å±æ€§ï¼Œå¦‚ç”¨æˆ·å·ã€ä¸»ç›®å½•ã€ç”¨æˆ·ç»„ã€ç™»å½•Shellç­‰ã€‚ ä¿®æ”¹å·²æœ‰ç”¨æˆ·çš„ä¿¡æ¯ä½¿ç”¨usermodå‘½ä»¤ï¼Œå…¶æ ¼å¼å¦‚ä¸‹ï¼š usermod é€‰é¡¹ ç”¨æˆ·åå¸¸ç”¨çš„é€‰é¡¹åŒ…æ‹¬-c, -d, -m, -g, -G, -s, -uä»¥åŠ-oç­‰ï¼Œè¿™äº›é€‰é¡¹çš„æ„ä¹‰ä¸useraddå‘½ä»¤ä¸­çš„é€‰é¡¹ä¸€æ ·ï¼Œå¯ä»¥ä¸ºç”¨æˆ·æŒ‡å®šæ–°çš„èµ„æºå€¼ã€‚ å¦å¤–ï¼Œæœ‰äº›ç³»ç»Ÿå¯ä»¥ä½¿ç”¨é€‰é¡¹ï¼š-l æ–°ç”¨æˆ·å è¿™ä¸ªé€‰é¡¹æŒ‡å®šä¸€ä¸ªæ–°çš„è´¦å·ï¼Œå³å°†åŸæ¥çš„ç”¨æˆ·åæ”¹ä¸ºæ–°çš„ç”¨æˆ·åã€‚ ä¾‹å¦‚ï¼š usermod -s /bin/ksh -d /home/z â€“g developer sam æ­¤å‘½ä»¤å°†ç”¨æˆ·samçš„ç™»å½•Shellä¿®æ”¹ä¸ºkshï¼Œä¸»ç›®å½•æ”¹ä¸º/home/zï¼Œç”¨æˆ·ç»„æ”¹ä¸ºdeveloperã€‚ 4ã€ç”¨æˆ·å£ä»¤çš„ç®¡ç†ç”¨æˆ·ç®¡ç†çš„ä¸€é¡¹é‡è¦å†…å®¹æ˜¯ç”¨æˆ·å£ä»¤çš„ç®¡ç†ã€‚ç”¨æˆ·è´¦å·åˆšåˆ›å»ºæ—¶æ²¡æœ‰å£ä»¤ï¼Œä½†æ˜¯è¢«ç³»ç»Ÿé”å®šï¼Œæ— æ³•ä½¿ç”¨ï¼Œå¿…é¡»ä¸ºå…¶æŒ‡å®šå£ä»¤åæ‰å¯ä»¥ä½¿ç”¨ï¼Œå³ä½¿æ˜¯æŒ‡å®šç©ºå£ä»¤ã€‚ æŒ‡å®šå’Œä¿®æ”¹ç”¨æˆ·å£ä»¤çš„Shellå‘½ä»¤æ˜¯passwdã€‚è¶…çº§ç”¨æˆ·å¯ä»¥ä¸ºè‡ªå·±å’Œå…¶ä»–ç”¨æˆ·æŒ‡å®šå£ä»¤ï¼Œæ™®é€šç”¨æˆ·åªèƒ½ç”¨å®ƒä¿®æ”¹è‡ªå·±çš„å£ä»¤ã€‚å‘½ä»¤çš„æ ¼å¼ä¸ºï¼š passwd é€‰é¡¹ ç”¨æˆ·åå¯ä½¿ç”¨çš„é€‰é¡¹ï¼š -l é”å®šå£ä»¤ï¼Œå³ç¦ç”¨è´¦å·ã€‚-u å£ä»¤è§£é”ã€‚-d ä½¿è´¦å·æ— å£ä»¤ã€‚-f å¼ºè¿«ç”¨æˆ·ä¸‹æ¬¡ç™»å½•æ—¶ä¿®æ”¹å£ä»¤ã€‚å¦‚æœé»˜è®¤ç”¨æˆ·åï¼Œåˆ™ä¿®æ”¹å½“å‰ç”¨æˆ·çš„å£ä»¤ã€‚ ä¾‹å¦‚ï¼Œå‡è®¾å½“å‰ç”¨æˆ·æ˜¯samï¼Œåˆ™ä¸‹é¢çš„å‘½ä»¤ä¿®æ”¹è¯¥ç”¨æˆ·è‡ªå·±çš„å£ä»¤ï¼š $ passwdOld password:**New password:*Re-enter new password:*å¦‚æœæ˜¯è¶…çº§ç”¨æˆ·ï¼Œå¯ä»¥ç”¨ä¸‹åˆ—å½¢å¼æŒ‡å®šä»»ä½•ç”¨æˆ·çš„å£ä»¤ï¼š passwd sam New password:*Re-enter new password:*æ™®é€šç”¨æˆ·ä¿®æ”¹è‡ªå·±çš„å£ä»¤æ—¶ï¼Œpasswdå‘½ä»¤ä¼šå…ˆè¯¢é—®åŸå£ä»¤ï¼ŒéªŒè¯åå†è¦æ±‚ç”¨æˆ·è¾“å…¥ä¸¤éæ–°å£ä»¤ï¼Œå¦‚æœä¸¤æ¬¡è¾“å…¥çš„å£ä»¤ä¸€è‡´ï¼Œåˆ™å°†è¿™ä¸ªå£ä»¤æŒ‡å®šç»™ç”¨æˆ·ï¼›è€Œè¶…çº§ç”¨æˆ·ä¸ºç”¨æˆ·æŒ‡å®šå£ä»¤æ—¶ï¼Œå°±ä¸éœ€è¦çŸ¥é“åŸå£ä»¤ã€‚ ä¸ºäº†ç³»ç»Ÿå®‰å…¨èµ·è§ï¼Œç”¨æˆ·åº”è¯¥é€‰æ‹©æ¯”è¾ƒå¤æ‚çš„å£ä»¤ï¼Œä¾‹å¦‚æœ€å¥½ä½¿ç”¨8ä½é•¿çš„å£ä»¤ï¼Œå£ä»¤ä¸­åŒ…å«æœ‰å¤§å†™ã€å°å†™å­—æ¯å’Œæ•°å­—ï¼Œå¹¶ä¸”åº”è¯¥ä¸å§“åã€ç”Ÿæ—¥ç­‰ä¸ç›¸åŒã€‚ ä¸ºç”¨æˆ·æŒ‡å®šç©ºå£ä»¤æ—¶ï¼Œæ‰§è¡Œä¸‹åˆ—å½¢å¼çš„å‘½ä»¤ï¼š passwd -d sam æ­¤å‘½ä»¤å°†ç”¨æˆ· sam çš„å£ä»¤åˆ é™¤ï¼Œè¿™æ ·ç”¨æˆ· sam ä¸‹ä¸€æ¬¡ç™»å½•æ—¶ï¼Œç³»ç»Ÿå°±ä¸å†å…è®¸è¯¥ç”¨æˆ·ç™»å½•äº†ã€‚ passwd å‘½ä»¤è¿˜å¯ä»¥ç”¨ -l(lock) é€‰é¡¹é”å®šæŸä¸€ç”¨æˆ·ï¼Œä½¿å…¶ä¸èƒ½ç™»å½•ï¼Œä¾‹å¦‚ï¼š passwd -l sam äºŒã€Linuxç³»ç»Ÿç”¨æˆ·ç»„çš„ç®¡ç† æ¯ä¸ªç”¨æˆ·éƒ½æœ‰ä¸€ä¸ªç”¨æˆ·ç»„ï¼Œç³»ç»Ÿå¯ä»¥å¯¹ä¸€ä¸ªç”¨æˆ·ç»„ä¸­çš„æ‰€æœ‰ç”¨æˆ·è¿›è¡Œé›†ä¸­ç®¡ç†ã€‚ä¸åŒLinux ç³»ç»Ÿå¯¹ç”¨æˆ·ç»„çš„è§„å®šæœ‰æ‰€ä¸åŒï¼Œå¦‚Linuxä¸‹çš„ç”¨æˆ·å±äºä¸å®ƒåŒåçš„ç”¨æˆ·ç»„ï¼Œè¿™ä¸ªç”¨æˆ·ç»„åœ¨åˆ›å»ºç”¨æˆ·æ—¶åŒæ—¶åˆ›å»ºã€‚ ç”¨æˆ·ç»„çš„ç®¡ç†æ¶‰åŠç”¨æˆ·ç»„çš„æ·»åŠ ã€åˆ é™¤å’Œä¿®æ”¹ã€‚ç»„çš„å¢åŠ ã€åˆ é™¤å’Œä¿®æ”¹å®é™…ä¸Šå°±æ˜¯å¯¹/etc/groupæ–‡ä»¶çš„æ›´æ–°ã€‚ 1ã€å¢åŠ ä¸€ä¸ªæ–°çš„ç”¨æˆ·ç»„ä½¿ç”¨groupaddå‘½ä»¤ã€‚å…¶æ ¼å¼å¦‚ä¸‹ï¼šgroupadd é€‰é¡¹ ç”¨æˆ·ç»„å¯ä»¥ä½¿ç”¨çš„é€‰é¡¹æœ‰ï¼š -g GID æŒ‡å®šæ–°ç”¨æˆ·ç»„çš„ç»„æ ‡è¯†å·ï¼ˆGIDï¼‰ã€‚-o ä¸€èˆ¬ä¸-gé€‰é¡¹åŒæ—¶ä½¿ç”¨ï¼Œè¡¨ç¤ºæ–°ç”¨æˆ·ç»„çš„GIDå¯ä»¥ä¸ç³»ç»Ÿå·²æœ‰ç”¨æˆ·ç»„çš„GIDç›¸åŒã€‚å®ä¾‹1ï¼š groupadd group1 æ­¤å‘½ä»¤å‘ç³»ç»Ÿä¸­å¢åŠ äº†ä¸€ä¸ªæ–°ç»„group1ï¼Œæ–°ç»„çš„ç»„æ ‡è¯†å·æ˜¯åœ¨å½“å‰å·²æœ‰çš„æœ€å¤§ç»„æ ‡è¯†å·çš„åŸºç¡€ä¸ŠåŠ 1ã€‚ å®ä¾‹2ï¼š groupadd -g 101 group2 æ­¤å‘½ä»¤å‘ç³»ç»Ÿä¸­å¢åŠ äº†ä¸€ä¸ªæ–°ç»„group2ï¼ŒåŒæ—¶æŒ‡å®šæ–°ç»„çš„ç»„æ ‡è¯†å·æ˜¯101ã€‚ 2ã€å¦‚æœè¦åˆ é™¤ä¸€ä¸ªå·²æœ‰çš„ç”¨æˆ·ç»„ï¼Œä½¿ç”¨groupdelå‘½ä»¤ï¼Œå…¶æ ¼å¼å¦‚ä¸‹ï¼šgroupdel ç”¨æˆ·ç»„ä¾‹å¦‚ï¼š groupdel group1 æ­¤å‘½ä»¤ä»ç³»ç»Ÿä¸­åˆ é™¤ç»„group1ã€‚ 3ã€ä¿®æ”¹ç”¨æˆ·ç»„çš„å±æ€§ä½¿ç”¨groupmodå‘½ä»¤ã€‚å…¶è¯­æ³•å¦‚ä¸‹ï¼šgroupmod é€‰é¡¹ ç”¨æˆ·ç»„å¸¸ç”¨çš„é€‰é¡¹æœ‰ï¼š -g GID ä¸ºç”¨æˆ·ç»„æŒ‡å®šæ–°çš„ç»„æ ‡è¯†å·ã€‚-o ä¸-gé€‰é¡¹åŒæ—¶ä½¿ç”¨ï¼Œç”¨æˆ·ç»„çš„æ–°GIDå¯ä»¥ä¸ç³»ç»Ÿå·²æœ‰ç”¨æˆ·ç»„çš„GIDç›¸åŒã€‚-næ–°ç”¨æˆ·ç»„ å°†ç”¨æˆ·ç»„çš„åå­—æ”¹ä¸ºæ–°åå­—å®ä¾‹1ï¼š groupmod -g 102 group2 æ­¤å‘½ä»¤å°†ç»„group2çš„ç»„æ ‡è¯†å·ä¿®æ”¹ä¸º102ã€‚ å®ä¾‹2ï¼š groupmod â€“g 10000 -n group3 group2 æ­¤å‘½ä»¤å°†ç»„group2çš„æ ‡è¯†å·æ”¹ä¸º10000ï¼Œç»„åä¿®æ”¹ä¸ºgroup3ã€‚ 4ã€å¦‚æœä¸€ä¸ªç”¨æˆ·åŒæ—¶å±äºå¤šä¸ªç”¨æˆ·ç»„ï¼Œé‚£ä¹ˆç”¨æˆ·å¯ä»¥åœ¨ç”¨æˆ·ç»„ä¹‹é—´åˆ‡æ¢ï¼Œä»¥ä¾¿å…·æœ‰å…¶ä»–ç”¨æˆ·ç»„çš„æƒé™ã€‚ç”¨æˆ·å¯ä»¥åœ¨ç™»å½•åï¼Œä½¿ç”¨å‘½ä»¤newgrpåˆ‡æ¢åˆ°å…¶ä»–ç”¨æˆ·ç»„ï¼Œè¿™ä¸ªå‘½ä»¤çš„å‚æ•°å°±æ˜¯ç›®çš„ç”¨æˆ·ç»„ã€‚ä¾‹å¦‚ï¼š $ newgrp rootè¿™æ¡å‘½ä»¤å°†å½“å‰ç”¨æˆ·åˆ‡æ¢åˆ°rootç”¨æˆ·ç»„ï¼Œå‰ææ¡ä»¶æ˜¯rootç”¨æˆ·ç»„ç¡®å®æ˜¯è¯¥ç”¨æˆ·çš„ä¸»ç»„æˆ–é™„åŠ ç»„ã€‚ç±»ä¼¼äºç”¨æˆ·è´¦å·çš„ç®¡ç†ï¼Œç”¨æˆ·ç»„çš„ç®¡ç†ä¹Ÿå¯ä»¥é€šè¿‡é›†æˆçš„ç³»ç»Ÿç®¡ç†å·¥å…·æ¥å®Œæˆã€‚ ä¸‰ã€ä¸ç”¨æˆ·è´¦å·æœ‰å…³çš„ç³»ç»Ÿæ–‡ä»¶ å®Œæˆç”¨æˆ·ç®¡ç†çš„å·¥ä½œæœ‰è®¸å¤šç§æ–¹æ³•ï¼Œä½†æ˜¯æ¯ä¸€ç§æ–¹æ³•å®é™…ä¸Šéƒ½æ˜¯å¯¹æœ‰å…³çš„ç³»ç»Ÿæ–‡ä»¶è¿›è¡Œä¿®æ”¹ã€‚ ä¸ç”¨æˆ·å’Œç”¨æˆ·ç»„ç›¸å…³çš„ä¿¡æ¯éƒ½å­˜æ”¾åœ¨ä¸€äº›ç³»ç»Ÿæ–‡ä»¶ä¸­ï¼Œè¿™äº›æ–‡ä»¶åŒ…æ‹¬/etc/passwd, /etc/shadow, /etc/groupç­‰ã€‚ ä¸‹é¢åˆ†åˆ«ä»‹ç»è¿™äº›æ–‡ä»¶çš„å†…å®¹ã€‚ 1ã€/etc/passwdæ–‡ä»¶æ˜¯ç”¨æˆ·ç®¡ç†å·¥ä½œæ¶‰åŠçš„æœ€é‡è¦çš„ä¸€ä¸ªæ–‡ä»¶ã€‚Linuxç³»ç»Ÿä¸­çš„æ¯ä¸ªç”¨æˆ·éƒ½åœ¨/etc/passwdæ–‡ä»¶ä¸­æœ‰ä¸€ä¸ªå¯¹åº”çš„è®°å½•è¡Œï¼Œå®ƒè®°å½•äº†è¿™ä¸ªç”¨æˆ·çš„ä¸€äº›åŸºæœ¬å±æ€§ã€‚ è¿™ä¸ªæ–‡ä»¶å¯¹æ‰€æœ‰ç”¨æˆ·éƒ½æ˜¯å¯è¯»çš„ã€‚å®ƒçš„å†…å®¹ç±»ä¼¼ä¸‹é¢çš„ä¾‹å­ï¼š ï¼ƒ cat /etc/passwd root:x:0:0:Superuser:/:daemon:x:1:1:System daemons:/etc:bin:x:2:2:Owner of system commands:/bin:sys:x:3:3:Owner of system files:/usr/sys:adm:x:4:4:System accounting:/usr/adm:uucp:x:5:5:UUCP administrator:/usr/lib/uucp:auth:x:7:21:Authentication administrator:/tcb/files/auth:cron:x:9:16:Cron daemon:/usr/spool/cron:listen:x:37:4:Network daemon:/usr/net/nls:lp:x:71:18:Printer administrator:/usr/spool/lp:sam:x:200:50:Sam san:/home/sam:/bin/shä»ä¸Šé¢çš„ä¾‹å­æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œ/etc/passwdä¸­ä¸€è¡Œè®°å½•å¯¹åº”ç€ä¸€ä¸ªç”¨æˆ·ï¼Œæ¯è¡Œè®°å½•åˆè¢«å†’å·(:)åˆ†éš”ä¸º7ä¸ªå­—æ®µï¼Œå…¶æ ¼å¼å’Œå…·ä½“å«ä¹‰å¦‚ä¸‹ï¼š ç”¨æˆ·å:å£ä»¤:ç”¨æˆ·æ ‡è¯†å·:ç»„æ ‡è¯†å·:æ³¨é‡Šæ€§æè¿°:ä¸»ç›®å½•:ç™»å½•Shell 1ï¼‰â€ç”¨æˆ·åâ€æ˜¯ä»£è¡¨ç”¨æˆ·è´¦å·çš„å­—ç¬¦ä¸²ã€‚é€šå¸¸é•¿åº¦ä¸è¶…è¿‡8ä¸ªå­—ç¬¦ï¼Œå¹¶ä¸”ç”±å¤§å°å†™å­—æ¯å’Œ/æˆ–æ•°å­—ç»„æˆã€‚ç™»å½•åä¸­ä¸èƒ½æœ‰å†’å·(:)ï¼Œå› ä¸ºå†’å·åœ¨è¿™é‡Œæ˜¯åˆ†éš”ç¬¦ã€‚ ä¸ºäº†å…¼å®¹èµ·è§ï¼Œç™»å½•åä¸­æœ€å¥½ä¸è¦åŒ…å«ç‚¹å­—ç¬¦(.)ï¼Œå¹¶ä¸”ä¸ä½¿ç”¨è¿å­—ç¬¦(-)å’ŒåŠ å·(+)æ‰“å¤´ã€‚ 2ï¼‰â€œå£ä»¤â€ä¸€äº›ç³»ç»Ÿä¸­ï¼Œå­˜æ”¾ç€åŠ å¯†åçš„ç”¨æˆ·å£ä»¤å­—ã€‚è™½ç„¶è¿™ä¸ªå­—æ®µå­˜æ”¾çš„åªæ˜¯ç”¨æˆ·å£ä»¤çš„åŠ å¯†ä¸²ï¼Œä¸æ˜¯æ˜æ–‡ï¼Œä½†æ˜¯ç”±äº/etc/passwdæ–‡ä»¶å¯¹æ‰€æœ‰ç”¨æˆ·éƒ½å¯è¯»ï¼Œæ‰€ä»¥è¿™ä»æ˜¯ä¸€ä¸ªå®‰å…¨éšæ‚£ã€‚å› æ­¤ï¼Œç°åœ¨è®¸å¤šLinux ç³»ç»Ÿï¼ˆå¦‚SVR4ï¼‰éƒ½ä½¿ç”¨äº†shadowæŠ€æœ¯ï¼ŒæŠŠçœŸæ­£çš„åŠ å¯†åçš„ç”¨æˆ·å£ä»¤å­—å­˜æ”¾åˆ°/etc/shadowæ–‡ä»¶ä¸­ï¼Œè€Œåœ¨/etc/passwdæ–‡ä»¶çš„å£ä»¤å­—æ®µä¸­åªå­˜æ”¾ä¸€ä¸ªç‰¹æ®Šçš„å­—ç¬¦ï¼Œä¾‹å¦‚â€œxâ€æˆ–è€…â€œ*â€ã€‚ 3ï¼‰â€œç”¨æˆ·æ ‡è¯†å·â€æ˜¯ä¸€ä¸ªæ•´æ•°ï¼Œç³»ç»Ÿå†…éƒ¨ç”¨å®ƒæ¥æ ‡è¯†ç”¨æˆ·ã€‚ä¸€èˆ¬æƒ…å†µä¸‹å®ƒä¸ç”¨æˆ·åæ˜¯ä¸€ä¸€å¯¹åº”çš„ã€‚å¦‚æœå‡ ä¸ªç”¨æˆ·åå¯¹åº”çš„ç”¨æˆ·æ ‡è¯†å·æ˜¯ä¸€æ ·çš„ï¼Œç³»ç»Ÿå†…éƒ¨å°†æŠŠå®ƒä»¬è§†ä¸ºåŒä¸€ä¸ªç”¨æˆ·ï¼Œä½†æ˜¯å®ƒä»¬å¯ä»¥æœ‰ä¸åŒçš„å£ä»¤ã€ä¸åŒçš„ä¸»ç›®å½•ä»¥åŠä¸åŒçš„ç™»å½•Shellç­‰ã€‚ é€šå¸¸ç”¨æˆ·æ ‡è¯†å·çš„å–å€¼èŒƒå›´æ˜¯0ï½65 535ã€‚0æ˜¯è¶…çº§ç”¨æˆ·rootçš„æ ‡è¯†å·ï¼Œ1ï½99ç”±ç³»ç»Ÿä¿ç•™ï¼Œä½œä¸ºç®¡ç†è´¦å·ï¼Œæ™®é€šç”¨æˆ·çš„æ ‡è¯†å·ä»100å¼€å§‹ã€‚åœ¨Linuxç³»ç»Ÿä¸­ï¼Œè¿™ä¸ªç•Œé™æ˜¯500ã€‚ 4ï¼‰â€œç»„æ ‡è¯†å·â€å­—æ®µè®°å½•çš„æ˜¯ç”¨æˆ·æ‰€å±çš„ç”¨æˆ·ç»„ã€‚å®ƒå¯¹åº”ç€/etc/groupæ–‡ä»¶ä¸­çš„ä¸€æ¡è®°å½•ã€‚ 5)â€œæ³¨é‡Šæ€§æè¿°â€å­—æ®µè®°å½•ç€ç”¨æˆ·çš„ä¸€äº›ä¸ªäººæƒ…å†µã€‚ä¾‹å¦‚ç”¨æˆ·çš„çœŸå®å§“åã€ç”µè¯ã€åœ°å€ç­‰ï¼Œè¿™ä¸ªå­—æ®µå¹¶æ²¡æœ‰ä»€ä¹ˆå®é™…çš„ç”¨é€”ã€‚åœ¨ä¸åŒçš„Linux ç³»ç»Ÿä¸­ï¼Œè¿™ä¸ªå­—æ®µçš„æ ¼å¼å¹¶æ²¡æœ‰ç»Ÿä¸€ã€‚åœ¨è®¸å¤šLinuxç³»ç»Ÿä¸­ï¼Œè¿™ä¸ªå­—æ®µå­˜æ”¾çš„æ˜¯ä¸€æ®µä»»æ„çš„æ³¨é‡Šæ€§æè¿°æ–‡å­—ï¼Œç”¨åšfingerå‘½ä»¤çš„è¾“å‡ºã€‚ 6)â€œä¸»ç›®å½•â€ï¼Œä¹Ÿå°±æ˜¯ç”¨æˆ·çš„èµ·å§‹å·¥ä½œç›®å½•ã€‚å®ƒæ˜¯ç”¨æˆ·åœ¨ç™»å½•åˆ°ç³»ç»Ÿä¹‹åæ‰€å¤„çš„ç›®å½•ã€‚åœ¨å¤§å¤šæ•°ç³»ç»Ÿä¸­ï¼Œå„ç”¨æˆ·çš„ä¸»ç›®å½•éƒ½è¢«ç»„ç»‡åœ¨åŒä¸€ä¸ªç‰¹å®šçš„ç›®å½•ä¸‹ï¼Œè€Œç”¨æˆ·ä¸»ç›®å½•çš„åç§°å°±æ˜¯è¯¥ç”¨æˆ·çš„ç™»å½•åã€‚å„ç”¨æˆ·å¯¹è‡ªå·±çš„ä¸»ç›®å½•æœ‰è¯»ã€å†™ã€æ‰§è¡Œï¼ˆæœç´¢ï¼‰æƒé™ï¼Œå…¶ä»–ç”¨æˆ·å¯¹æ­¤ç›®å½•çš„è®¿é—®æƒé™åˆ™æ ¹æ®å…·ä½“æƒ…å†µè®¾ç½®ã€‚ 7)ç”¨æˆ·ç™»å½•åï¼Œè¦å¯åŠ¨ä¸€ä¸ªè¿›ç¨‹ï¼Œè´Ÿè´£å°†ç”¨æˆ·çš„æ“ä½œä¼ ç»™å†…æ ¸ï¼Œè¿™ä¸ªè¿›ç¨‹æ˜¯ç”¨æˆ·ç™»å½•åˆ°ç³»ç»Ÿåè¿è¡Œçš„å‘½ä»¤è§£é‡Šå™¨æˆ–æŸä¸ªç‰¹å®šçš„ç¨‹åºï¼Œå³Shellã€‚Shellæ˜¯ç”¨æˆ·ä¸Linuxç³»ç»Ÿä¹‹é—´çš„æ¥å£ã€‚Linuxçš„Shellæœ‰è®¸å¤šç§ï¼Œæ¯ç§éƒ½æœ‰ä¸åŒçš„ç‰¹ç‚¹ã€‚å¸¸ç”¨çš„æœ‰sh(Bourne Shell), csh(C Shell), ksh(Korn Shell), tcsh(TENEX/TOPS-20 type C Shell), bash(Bourne Again Shell)ç­‰ã€‚ ç³»ç»Ÿç®¡ç†å‘˜å¯ä»¥æ ¹æ®ç³»ç»Ÿæƒ…å†µå’Œç”¨æˆ·ä¹ æƒ¯ä¸ºç”¨æˆ·æŒ‡å®šæŸä¸ªShellã€‚å¦‚æœä¸æŒ‡å®šShellï¼Œé‚£ä¹ˆç³»ç»Ÿä½¿ç”¨shä¸ºé»˜è®¤çš„ç™»å½•Shellï¼Œå³è¿™ä¸ªå­—æ®µçš„å€¼ä¸º/bin/shã€‚ ç”¨æˆ·çš„ç™»å½•Shellä¹Ÿå¯ä»¥æŒ‡å®šä¸ºæŸä¸ªç‰¹å®šçš„ç¨‹åºï¼ˆæ­¤ç¨‹åºä¸æ˜¯ä¸€ä¸ªå‘½ä»¤è§£é‡Šå™¨ï¼‰ã€‚ åˆ©ç”¨è¿™ä¸€ç‰¹ç‚¹ï¼Œæˆ‘ä»¬å¯ä»¥é™åˆ¶ç”¨æˆ·åªèƒ½è¿è¡ŒæŒ‡å®šçš„åº”ç”¨ç¨‹åºï¼Œåœ¨è¯¥åº”ç”¨ç¨‹åºè¿è¡Œç»“æŸåï¼Œç”¨æˆ·å°±è‡ªåŠ¨é€€å‡ºäº†ç³»ç»Ÿã€‚æœ‰äº›Linux ç³»ç»Ÿè¦æ±‚åªæœ‰é‚£äº›åœ¨ç³»ç»Ÿä¸­ç™»è®°äº†çš„ç¨‹åºæ‰èƒ½å‡ºç°åœ¨è¿™ä¸ªå­—æ®µä¸­ã€‚ 8)ç³»ç»Ÿä¸­æœ‰ä¸€ç±»ç”¨æˆ·ç§°ä¸ºä¼ªç”¨æˆ·ï¼ˆpseudo usersï¼‰ã€‚è¿™äº›ç”¨æˆ·åœ¨/etc/passwdæ–‡ä»¶ä¸­ä¹Ÿå æœ‰ä¸€æ¡è®°å½•ï¼Œä½†æ˜¯ä¸èƒ½ç™»å½•ï¼Œå› ä¸ºå®ƒä»¬çš„ç™»å½•Shellä¸ºç©ºã€‚å®ƒä»¬çš„å­˜åœ¨ä¸»è¦æ˜¯æ–¹ä¾¿ç³»ç»Ÿç®¡ç†ï¼Œæ»¡è¶³ç›¸åº”çš„ç³»ç»Ÿè¿›ç¨‹å¯¹æ–‡ä»¶å±ä¸»çš„è¦æ±‚ã€‚ å¸¸è§çš„ä¼ªç”¨æˆ·å¦‚ä¸‹æ‰€ç¤ºï¼š ä¼ª ç”¨ æˆ· å« ä¹‰bin æ‹¥æœ‰å¯æ‰§è¡Œçš„ç”¨æˆ·å‘½ä»¤æ–‡ä»¶sys æ‹¥æœ‰ç³»ç»Ÿæ–‡ä»¶adm æ‹¥æœ‰å¸æˆ·æ–‡ä»¶uucp UUCPä½¿ç”¨lp lpæˆ–lpdå­ç³»ç»Ÿä½¿ç”¨nobody NFSä½¿ç”¨ æ‹¥æœ‰å¸æˆ·æ–‡ä»¶1ã€é™¤äº†ä¸Šé¢åˆ—å‡ºçš„ä¼ªç”¨æˆ·å¤–ï¼Œè¿˜æœ‰è®¸å¤šæ ‡å‡†çš„ä¼ªç”¨æˆ·ï¼Œä¾‹å¦‚ï¼šaudit, cron, mail, usenetç­‰ï¼Œå®ƒä»¬ä¹Ÿéƒ½å„è‡ªä¸ºç›¸å…³çš„è¿›ç¨‹å’Œæ–‡ä»¶æ‰€éœ€è¦ã€‚ ç”±äº/etc/passwdæ–‡ä»¶æ˜¯æ‰€æœ‰ç”¨æˆ·éƒ½å¯è¯»çš„ï¼Œå¦‚æœç”¨æˆ·çš„å¯†ç å¤ªç®€å•æˆ–è§„å¾‹æ¯”è¾ƒæ˜æ˜¾çš„è¯ï¼Œä¸€å°æ™®é€šçš„è®¡ç®—æœºå°±èƒ½å¤Ÿå¾ˆå®¹æ˜“åœ°å°†å®ƒç ´è§£ï¼Œå› æ­¤å¯¹å®‰å…¨æ€§è¦æ±‚è¾ƒé«˜çš„Linuxç³»ç»Ÿéƒ½æŠŠåŠ å¯†åçš„å£ä»¤å­—åˆ†ç¦»å‡ºæ¥ï¼Œå•ç‹¬å­˜æ”¾åœ¨ä¸€ä¸ªæ–‡ä»¶ä¸­ï¼Œè¿™ä¸ªæ–‡ä»¶æ˜¯/etc/shadowæ–‡ä»¶ã€‚ æœ‰è¶…çº§ç”¨æˆ·æ‰æ‹¥æœ‰è¯¥æ–‡ä»¶è¯»æƒé™ï¼Œè¿™å°±ä¿è¯äº†ç”¨æˆ·å¯†ç çš„å®‰å…¨æ€§ã€‚ 2ã€/etc/shadowä¸­çš„è®°å½•è¡Œä¸/etc/passwdä¸­çš„ä¸€ä¸€å¯¹åº”ï¼Œå®ƒç”±pwconvå‘½ä»¤æ ¹æ®/etc/passwdä¸­çš„æ•°æ®è‡ªåŠ¨äº§ç”Ÿ å®ƒçš„æ–‡ä»¶æ ¼å¼ä¸/etc/passwdç±»ä¼¼ï¼Œç”±è‹¥å¹²ä¸ªå­—æ®µç»„æˆï¼Œå­—æ®µä¹‹é—´ç”¨â€:â€éš”å¼€ã€‚è¿™äº›å­—æ®µæ˜¯ï¼š ç™»å½•å:åŠ å¯†å£ä»¤:æœ€åä¸€æ¬¡ä¿®æ”¹æ—¶é—´:æœ€å°æ—¶é—´é—´éš”:æœ€å¤§æ—¶é—´é—´éš”:è­¦å‘Šæ—¶é—´:ä¸æ´»åŠ¨æ—¶é—´:å¤±æ•ˆæ—¶é—´:æ ‡å¿—â€œç™»å½•åâ€æ˜¯ä¸/etc/passwdæ–‡ä»¶ä¸­çš„ç™»å½•åç›¸ä¸€è‡´çš„ç”¨æˆ·è´¦å·â€œå£ä»¤â€å­—æ®µå­˜æ”¾çš„æ˜¯åŠ å¯†åçš„ç”¨æˆ·å£ä»¤å­—ï¼Œé•¿åº¦ä¸º13ä¸ªå­—ç¬¦ã€‚å¦‚æœä¸ºç©ºï¼Œåˆ™å¯¹åº”ç”¨æˆ·æ²¡æœ‰å£ä»¤ï¼Œç™»å½•æ—¶ä¸éœ€è¦å£ä»¤ï¼›å¦‚æœå«æœ‰ä¸å±äºé›†åˆ { ./0-9A-Za-z }ä¸­çš„å­—ç¬¦ï¼Œåˆ™å¯¹åº”çš„ç”¨æˆ·ä¸èƒ½ç™»å½•ã€‚â€œæœ€åä¸€æ¬¡ä¿®æ”¹æ—¶é—´â€è¡¨ç¤ºçš„æ˜¯ä»æŸä¸ªæ—¶åˆ»èµ·ï¼Œåˆ°ç”¨æˆ·æœ€åä¸€æ¬¡ä¿®æ”¹å£ä»¤æ—¶çš„å¤©æ•°ã€‚æ—¶é—´èµ·ç‚¹å¯¹ä¸åŒçš„ç³»ç»Ÿå¯èƒ½ä¸ä¸€æ ·ã€‚ä¾‹å¦‚åœ¨SCO Linux ä¸­ï¼Œè¿™ä¸ªæ—¶é—´èµ·ç‚¹æ˜¯1970å¹´1æœˆ1æ—¥ã€‚â€œæœ€å°æ—¶é—´é—´éš”â€æŒ‡çš„æ˜¯ä¸¤æ¬¡ä¿®æ”¹å£ä»¤ä¹‹é—´æ‰€éœ€çš„æœ€å°å¤©æ•°ã€‚â€œæœ€å¤§æ—¶é—´é—´éš”â€æŒ‡çš„æ˜¯å£ä»¤ä¿æŒæœ‰æ•ˆçš„æœ€å¤§å¤©æ•°ã€‚â€œè­¦å‘Šæ—¶é—´â€å­—æ®µè¡¨ç¤ºçš„æ˜¯ä»ç³»ç»Ÿå¼€å§‹è­¦å‘Šç”¨æˆ·åˆ°ç”¨æˆ·å¯†ç æ­£å¼å¤±æ•ˆä¹‹é—´çš„å¤©æ•°ã€‚â€œä¸æ´»åŠ¨æ—¶é—´â€è¡¨ç¤ºçš„æ˜¯ç”¨æˆ·æ²¡æœ‰ç™»å½•æ´»åŠ¨ä½†è´¦å·ä»èƒ½ä¿æŒæœ‰æ•ˆçš„æœ€å¤§å¤©æ•°ã€‚â€œå¤±æ•ˆæ—¶é—´â€å­—æ®µç»™å‡ºçš„æ˜¯ä¸€ä¸ªç»å¯¹çš„å¤©æ•°ï¼Œå¦‚æœä½¿ç”¨äº†è¿™ä¸ªå­—æ®µï¼Œé‚£ä¹ˆå°±ç»™å‡ºç›¸åº”è´¦å·çš„ç”Ÿå­˜æœŸã€‚æœŸæ»¡åï¼Œè¯¥è´¦å·å°±ä¸å†æ˜¯ä¸€ä¸ªåˆæ³•çš„è´¦å·ï¼Œä¹Ÿå°±ä¸èƒ½å†ç”¨æ¥ç™»å½•äº†ã€‚ä¸‹é¢æ˜¯/etc/shadowçš„ä¸€ä¸ªä¾‹å­ï¼š ï¼ƒ cat /etc/shadow root:Dnakfw28zf38w:8764:0:168:7:::daemon:::0:0::::bin:::0:0::::sys:::0:0::::adm:::0:0::::uucp:::0:0::::nuucp:::0:0::::auth:::0:0::::cron:::0:0::::listen:::0:0::::lp:::0:0::::sam:EkdiSECLWPdSa:9740:0:0::::3ã€ç”¨æˆ·ç»„çš„æ‰€æœ‰ä¿¡æ¯éƒ½å­˜æ”¾åœ¨/etc/groupæ–‡ä»¶ä¸­ã€‚å°†ç”¨æˆ·åˆ†ç»„æ˜¯Linux ç³»ç»Ÿä¸­å¯¹ç”¨æˆ·è¿›è¡Œç®¡ç†åŠæ§åˆ¶è®¿é—®æƒé™çš„ä¸€ç§æ‰‹æ®µã€‚ æ¯ä¸ªç”¨æˆ·éƒ½å±äºæŸä¸ªç”¨æˆ·ç»„ï¼›ä¸€ä¸ªç»„ä¸­å¯ä»¥æœ‰å¤šä¸ªç”¨æˆ·ï¼Œä¸€ä¸ªç”¨æˆ·ä¹Ÿå¯ä»¥å±äºä¸åŒçš„ç»„ã€‚ å½“ä¸€ä¸ªç”¨æˆ·åŒæ—¶æ˜¯å¤šä¸ªç»„ä¸­çš„æˆå‘˜æ—¶ï¼Œåœ¨/etc/passwdæ–‡ä»¶ä¸­è®°å½•çš„æ˜¯ç”¨æˆ·æ‰€å±çš„ä¸»ç»„ï¼Œä¹Ÿå°±æ˜¯ç™»å½•æ—¶æ‰€å±çš„é»˜è®¤ç»„ï¼Œè€Œå…¶ä»–ç»„ç§°ä¸ºé™„åŠ ç»„ã€‚ ç”¨æˆ·è¦è®¿é—®å±äºé™„åŠ ç»„çš„æ–‡ä»¶æ—¶ï¼Œå¿…é¡»é¦–å…ˆä½¿ç”¨newgrpå‘½ä»¤ä½¿è‡ªå·±æˆä¸ºæ‰€è¦è®¿é—®çš„ç»„ä¸­çš„æˆå‘˜ã€‚ ç”¨æˆ·ç»„çš„æ‰€æœ‰ä¿¡æ¯éƒ½å­˜æ”¾åœ¨/etc/groupæ–‡ä»¶ä¸­ã€‚æ­¤æ–‡ä»¶çš„æ ¼å¼ä¹Ÿç±»ä¼¼äº/etc/passwdæ–‡ä»¶ï¼Œç”±å†’å·(:)éš”å¼€è‹¥å¹²ä¸ªå­—æ®µï¼Œè¿™äº›å­—æ®µæœ‰ï¼š ç»„å:å£ä»¤:ç»„æ ‡è¯†å·:ç»„å†…ç”¨æˆ·åˆ—è¡¨â€œç»„åâ€æ˜¯ç”¨æˆ·ç»„çš„åç§°ï¼Œç”±å­—æ¯æˆ–æ•°å­—æ„æˆã€‚ä¸/etc/passwdä¸­çš„ç™»å½•åä¸€æ ·ï¼Œç»„åä¸åº”é‡å¤ã€‚â€œå£ä»¤â€å­—æ®µå­˜æ”¾çš„æ˜¯ç”¨æˆ·ç»„åŠ å¯†åçš„å£ä»¤å­—ã€‚ä¸€èˆ¬Linux ç³»ç»Ÿçš„ç”¨æˆ·ç»„éƒ½æ²¡æœ‰å£ä»¤ï¼Œå³è¿™ä¸ªå­—æ®µä¸€èˆ¬ä¸ºç©ºï¼Œæˆ–è€…æ˜¯*ã€‚â€œç»„æ ‡è¯†å·â€ä¸ç”¨æˆ·æ ‡è¯†å·ç±»ä¼¼ï¼Œä¹Ÿæ˜¯ä¸€ä¸ªæ•´æ•°ï¼Œè¢«ç³»ç»Ÿå†…éƒ¨ç”¨æ¥æ ‡è¯†ç»„ã€‚â€œç»„å†…ç”¨æˆ·åˆ—è¡¨â€æ˜¯å±äºè¿™ä¸ªç»„çš„æ‰€æœ‰ç”¨æˆ·çš„åˆ—è¡¨/b]ï¼Œä¸åŒç”¨æˆ·ä¹‹é—´ç”¨é€—å·(,)åˆ†éš”ã€‚è¿™ä¸ªç”¨æˆ·ç»„å¯èƒ½æ˜¯ç”¨æˆ·çš„ä¸»ç»„ï¼Œä¹Ÿå¯èƒ½æ˜¯é™„åŠ ç»„ã€‚/etc/groupæ–‡ä»¶çš„ä¸€ä¸ªä¾‹å­å¦‚ä¸‹ï¼š root::0:rootbin::2:root,binsys::3:root,uucpadm::4:root,admdaemon::5:root,daemonlp::7:root,lpusers::20:root,sam å››ã€æ·»åŠ æ‰¹é‡ç”¨æˆ· æ·»åŠ å’Œåˆ é™¤ç”¨æˆ·å¯¹æ¯ä½Linuxç³»ç»Ÿç®¡ç†å‘˜éƒ½æ˜¯è½»è€Œæ˜“ä¸¾çš„äº‹ï¼Œæ¯”è¾ƒæ£˜æ‰‹çš„æ˜¯å¦‚æœè¦æ·»åŠ å‡ åä¸ªã€ä¸Šç™¾ä¸ªç”šè‡³ä¸Šåƒä¸ªç”¨æˆ·æ—¶ï¼Œæˆ‘ä»¬ä¸å¤ªå¯èƒ½è¿˜ä½¿ç”¨useraddä¸€ä¸ªä¸€ä¸ªåœ°æ·»åŠ ï¼Œå¿…ç„¶è¦æ‰¾ä¸€ç§ç®€ä¾¿çš„åˆ›å»ºå¤§é‡ç”¨æˆ·çš„æ–¹æ³•ã€‚Linuxç³»ç»Ÿæä¾›äº†åˆ›å»ºå¤§é‡ç”¨æˆ·çš„å·¥å…·ï¼Œå¯ä»¥è®©æ‚¨ç«‹å³åˆ›å»ºå¤§é‡ç”¨æˆ·ï¼Œæ–¹æ³•å¦‚ä¸‹ï¼š ï¼ˆ1ï¼‰å…ˆç¼–è¾‘ä¸€ä¸ªæ–‡æœ¬ç”¨æˆ·æ–‡ä»¶ã€‚æ¯ä¸€åˆ—æŒ‰ç…§/etc/passwdå¯†ç æ–‡ä»¶çš„æ ¼å¼ä¹¦å†™ï¼Œè¦æ³¨æ„æ¯ä¸ªç”¨æˆ·çš„ç”¨æˆ·åã€UIDã€å®¿ä¸»ç›®å½•éƒ½ä¸å¯ä»¥ç›¸åŒï¼Œå…¶ä¸­å¯†ç æ å¯ä»¥ç•™åšç©ºç™½æˆ–è¾“å…¥xå·ã€‚ä¸€ä¸ªèŒƒä¾‹æ–‡ä»¶user.txtå†…å®¹å¦‚ä¸‹ï¼š user001::600:100:user:/home/user001:/bin/bashuser002::601:100:user:/home/user002:/bin/bashuser003::602:100:user:/home/user003:/bin/bashuser004::603:100:user:/home/user004:/bin/bashuser005::604:100:user:/home/user005:/bin/bashuser006::605:100:user:/home/user006:/bin/bashï¼ˆ2ï¼‰ä»¥rootèº«ä»½æ‰§è¡Œå‘½ä»¤ /usr/sbin/newusersï¼Œä»åˆšåˆ›å»ºçš„ç”¨æˆ·æ–‡ä»¶user.txtä¸­å¯¼å…¥æ•°æ®ï¼Œåˆ›å»ºç”¨æˆ·ï¼š newusers &lt; user.txt ç„¶åå¯ä»¥æ‰§è¡Œå‘½ä»¤ vipw æˆ– vi /etc/passwd æ£€æŸ¥ /etc/passwd æ–‡ä»¶æ˜¯å¦å·²ç»å‡ºç°è¿™äº›ç”¨æˆ·çš„æ•°æ®ï¼Œå¹¶ä¸”ç”¨æˆ·çš„å®¿ä¸»ç›®å½•æ˜¯å¦å·²ç»åˆ›å»ºã€‚ ï¼ˆ3ï¼‰æ‰§è¡Œå‘½ä»¤/usr/sbin/pwunconvã€‚å°† /etc/shadow äº§ç”Ÿçš„ shadow å¯†ç è§£ç ï¼Œç„¶åå›å†™åˆ° /etc/passwd ä¸­ï¼Œå¹¶å°†/etc/shadowçš„shadowå¯†ç æ åˆ æ‰ã€‚è¿™æ˜¯ä¸ºäº†æ–¹ä¾¿ä¸‹ä¸€æ­¥çš„å¯†ç è½¬æ¢å·¥ä½œï¼Œå³å…ˆå–æ¶ˆ shadow password åŠŸèƒ½ã€‚ pwunconv ï¼ˆ4ï¼‰ç¼–è¾‘æ¯ä¸ªç”¨æˆ·çš„å¯†ç å¯¹ç…§æ–‡ä»¶ã€‚æ ¼å¼ä¸ºï¼š ç”¨æˆ·å:å¯†ç å®ä¾‹æ–‡ä»¶ passwd.txt å†…å®¹å¦‚ä¸‹ï¼š user001:123456user002:123456user003:123456user004:123456user005:123456user006:123456ï¼ˆ5ï¼‰ä»¥ root èº«ä»½æ‰§è¡Œå‘½ä»¤ /usr/sbin/chpasswdã€‚åˆ›å»ºç”¨æˆ·å¯†ç ï¼Œchpasswd ä¼šå°†ç»è¿‡ /usr/bin/passwd å‘½ä»¤ç¼–ç è¿‡çš„å¯†ç å†™å…¥ /etc/passwd çš„å¯†ç æ ã€‚ chpasswd &lt; passwd.txt ï¼ˆ6ï¼‰ç¡®å®šå¯†ç ç»ç¼–ç å†™å…¥/etc/passwdçš„å¯†ç æ åã€‚æ‰§è¡Œå‘½ä»¤ /usr/sbin/pwconv å°†å¯†ç ç¼–ç ä¸º shadow passwordï¼Œå¹¶å°†ç»“æœå†™å…¥ /etc/shadowã€‚ pwconv è¿™æ ·å°±å®Œæˆäº†å¤§é‡ç”¨æˆ·çš„åˆ›å»ºäº†ï¼Œä¹‹åæ‚¨å¯ä»¥åˆ°/homeä¸‹æ£€æŸ¥è¿™äº›ç”¨æˆ·å®¿ä¸»ç›®å½•çš„æƒé™è®¾ç½®æ˜¯å¦éƒ½æ­£ç¡®ï¼Œå¹¶ç™»å½•éªŒè¯ç”¨æˆ·å¯†ç æ˜¯å¦æ­£ç¡®ã€‚ Linuxç£ç›˜ç®¡ç†Linuxç£ç›˜ç®¡ç†å¥½åç›´æ¥å…³ç³»åˆ°æ•´ä¸ªç³»ç»Ÿçš„æ€§èƒ½é—®é¢˜ã€‚ Linuxç£ç›˜ç®¡ç†å¸¸ç”¨ä¸‰ä¸ªå‘½ä»¤ä¸ºdfï¼Œduå’Œfdiskã€‚ dfï¼šåˆ—å‡ºæ–‡ä»¶ç³»ç»Ÿçš„æ•´ä½“ç£ç›˜ä½¿ç”¨é‡duï¼šæ£€æŸ¥ç£ç›˜ç©ºé—´ä½¿ç”¨é‡fdiskï¼šç”¨äºç£ç›˜åˆ†åŒº dfdfå‘½ä»¤å‚æ•°åŠŸèƒ½ï¼šæ£€æŸ¥æ–‡ä»¶ç³»ç»Ÿçš„ç£ç›˜ç©ºé—´å ç”¨æƒ…å†µã€‚å¯ä»¥åˆ©ç”¨è¯¥å‘½ä»¤æ¥è·å–ç¡¬ç›˜è¢«å ç”¨äº†å¤šå°‘ç©ºé—´ï¼Œç›®å‰è¿˜å‰©ä¸‹å¤šå°‘ç©ºé—´ç­‰ä¿¡æ¯ã€‚ è¯­æ³•ï¼š df [ -ahikHTm ] [ç›®å½•æˆ–æ–‡ä»¶å]é€‰é¡¹ä¸å‚æ•°ï¼š -aï¼šåˆ—å‡ºæ‰€æœ‰çš„æ–‡ä»¶ç³»ç»Ÿï¼ŒåŒ…æ‹¬ç³»ç»Ÿç‰¹æœ‰çš„/ procç­‰æ–‡ä»¶ç³»ç»Ÿï¼›-kï¼šä»¥KBytesçš„å®¹é‡æ˜¾ç¤ºå„æ–‡ä»¶ç³»ç»Ÿï¼›-mï¼šä»¥MBytesçš„å®¹é‡æ˜¾ç¤ºå„æ–‡ä»¶ç³»ç»Ÿï¼›-hï¼šä»¥äººä»¬è¾ƒæ˜“é˜…è¯»çš„GBï¼ŒMBï¼ŒKBç­‰æ ¼å¼è‡ªè¡Œæ˜¾ç¤ºï¼›-Hï¼šä»¥M = 1000Kå–ä»£M = 1024Kçš„è¿›ä½æ–¹å¼ï¼›-Tï¼šæ˜¾ç¤ºæ–‡ä»¶ç³»ç»Ÿç±»å‹ï¼Œå¹¶åˆå¹¶è¯¥åˆ†åŒºçš„æ–‡ä»¶ç³»ç»Ÿåç§°ï¼ˆä¾‹å¦‚ext3ï¼‰ä¹Ÿåˆ—å‡ºï¼›-iï¼šä¸ç”¨ç¡¬ç›˜å®¹é‡ï¼Œè€Œä»¥inodeçš„æ•°é‡æ¥æ˜¾ç¤ºå®ä¾‹1å°†ç³»ç»Ÿå†…æ‰€æœ‰çš„æ–‡ä»¶ç³»ç»Ÿåˆ—å‡ºæ¥ï¼ [æ ¹@ WWW ã€œ]ï¼ƒDFæ–‡ä»¶ç³»ç»Ÿ1K -å— ç”¨äºæ¨ä»‹ä½¿ç”¨ï¼…å®‰è£…ä¸Š/ devçš„/ HDC2 9920624 3823112 5585444 41 ï¼…/çš„/ dev / hdc3ä¸Š 4956316 141376 4559108 4 ï¼…/å®¶/ devçš„/ hdc1åˆ†åŒº 101086 11126 84741 12 ï¼…/å¼•å¯¼ tmpfs 371332 0 371332 0 ï¼…/ dev / shmåœ¨Linuxåº•ä¸‹å¦‚æœdfæ²¡æœ‰åŠ ä»»ä½•é€‰é¡¹ï¼Œé‚£ä¹ˆæ›¿æ¢é‡å®šå‘ç³»ç»Ÿå†…éƒ¨çš„æ‰€æœ‰ï¼ˆæ’é™¤ç‰¹æ®Šå†…å­˜å†…éƒ¨çš„æ–‡ä»¶ç³»ç»Ÿä¸swapï¼‰éƒ½ä»¥1 KBçš„å®¹é‡æ¥åˆ—å‡ºæ¥ï¼ å®ä¾‹2å°†å®¹é‡ç»“æœä»¥æ˜“è¯»çš„å®¹é‡æ ¼å¼æ˜¾ç¤ºå‡ºæ¥ [æ ¹@ WWW ã€œ]ï¼ƒDF - Ä§æ–‡ä»¶ç³»ç»Ÿå¤§å°ç”¨äºåº“å­˜çŠ¶å†µä½¿ç”¨ï¼…å®‰è£…ä¸Š/ devçš„/ HDC2 9.5å…‹3.7G 5.4G 41 ï¼…/çš„/ dev / hdc3ä¸Š 4.8G 139M 4.4G 4 ï¼…/å®¶/ devçš„/ hdc1åˆ†åŒº 99M 11M 83M 12 ï¼…/å¼€æœº tmpfs 363M 0 363M 0 ï¼…/ dev / shmå®ä¾‹3å°†ç³»ç»Ÿå†…çš„æ‰€æœ‰ç‰¹æ®Šæ–‡ä»¶æ ¼å¼åŠåç§°éƒ½åˆ—å‡ºæ¥ [æ ¹@ WWW ã€œ]ï¼ƒDF -åœ¨æ–‡ä»¶ç³»ç»Ÿç±»å‹1K -å— ç”¨äºæ¨ä»‹ä½¿ç”¨ï¼…å®‰è£…ä¸Š/ devçš„/ HDC2 EXT3 9920624 3823112 5585444 41 ï¼…/PROC PROC 0 0 0 - / PROCsysfsä¸­çš„sysfs 0 0 0 - / SYSdevpts devpts 0 0 0 -çš„/ dev / PTS / devçš„/ä½äºhdc3 EXT3 4956316 141376 4559108 4 ï¼…/å®¶/ devçš„/ hdc1åˆ†åŒºEXT3 101086 11126 84741 12 ï¼…/å¼•å¯¼tmpfs tmpfs 371332 0 371332 0 ï¼…/ dev / shmæ²¡æœ‰binfmt_misc 0 0 0 -çš„/ proc / SYS / FS / binfmt_miscsunrpc rpc_pipefs 0 0 0 -åœ¨/ var / libä¸­/ NFS / rpc_pipefså®ä¾‹4å°†/ etcåº•ä¸‹çš„å¯ç”¨çš„ç£ç›˜å®¹é‡ä»¥æ˜“è¯»çš„å®¹é‡æ ¼å¼æ˜¾ç¤º [æ ¹@ WWW ã€œ]ï¼ƒDF - Ä§ /ç­‰æ–‡ä»¶ç³»ç»Ÿå¤§å°ç”¨äºåº“å­˜çŠ¶å†µä½¿ç”¨ï¼…å®‰è£…ä¸Š/ devçš„/ HDC2 9.5å…‹3.7G 5.4G 41 ï¼…/ duLinux duå‘½ä»¤ä¹Ÿæ˜¯æŸ¥çœ‹ä½¿ç”¨ç©ºé—´çš„ï¼Œä½†æ˜¯ä¸dfå‘½ä»¤ä¸åŒçš„æ˜¯Linux duå‘½ä»¤æ˜¯å¯¹æ–‡ä»¶å’Œç›®å½•ç£ç›˜ä½¿ç”¨çš„ç©ºé—´çš„æŸ¥çœ‹ï¼Œè¿˜æ˜¯å’Œdfå‘½ä»¤æœ‰ä¸€äº›åŒºåˆ«çš„ï¼Œè¿™é‡Œä»‹ç»Linux duå‘½ä»¤ã€‚ è¯­æ³•ï¼š du [ -ahskm ]æ–‡ä»¶æˆ–ç›®å½•åç§°é€‰é¡¹ä¸å‚æ•°ï¼š -aï¼šåˆ—å‡ºæ‰€æœ‰çš„æ–‡ä»¶ä¸ç›®å½•å®¹é‡ï¼Œå› ä¸ºå”¯ä¸€ä»…ç»Ÿè®¡ç›®å½•åº•ä¸‹çš„æ–‡ä»¶é‡è€Œå·²ã€‚-hï¼šä»¥äººä»¬è¾ƒæ˜“è¯»çš„å®¹é‡æ ¼å¼ï¼ˆG / Mï¼‰æ˜¾ç¤ºï¼›-sï¼šåˆ—å‡ºæ€»æ•°è€Œå·²ï¼Œè€Œä¸åˆ—å‡ºæ¯ä¸ªå„åˆ«çš„ç›®å½•å ç”¨å®¹é‡ï¼›-Sï¼šä¸åŒ…æ‹¬å­ç›®å½•ä¸‹çš„æ€»è®¡ï¼Œä¸-sæœ‰ç‚¹åŒºåˆ«ã€‚-kï¼šä»¥KBytesåˆ—å‡ºå®¹é‡æ˜¾ç¤ºï¼›-mï¼šä»¥MBytesåˆ—å‡ºå®¹é‡æ˜¾ç¤ºï¼›å®ä¾‹1åªåˆ—å‡ºå½“å‰ç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶å¤¹å®¹é‡ï¼ˆåŒ…æ‹¬éšè—æ–‡ä»¶å¤¹ï¼‰ï¼š [æ ¹@ WWW ã€œ]ï¼ƒæœ8 ./ TEST4 &lt;==æ¯ä¸ªç›®å½•éƒ½ä¼šåˆ—å‡ºæ¥8 ./ TEST2 â€¦.ä¸­é—´çœç•¥â€¦. 12 ./ã€‚gconfd &lt;==åŒ…æ‹¬éšè—æ–‡ä»¶çš„ç›®å½•220 ã€‚&lt;==è¿™ä¸ªç›®å½•ï¼ˆã€‚ï¼‰æ‰€å ç”¨çš„å¤§é‡ ç›´æ¥è¾“å…¥duæ²¡æœ‰åŠ ä»»ä½•é€‰é¡¹æ—¶ï¼Œåˆ™duä¼šåˆ†æå½“å‰æ‰€åœ¨ç›®å½•çš„æ–‡ä»¶ä¸ç›®å½•æ‰€å ç”¨çš„ç¡¬ç›˜ç©ºé—´ã€‚ å®ä¾‹2å°†æ–‡ä»¶çš„å®¹é‡ä¹Ÿåˆ—å‡ºæ¥ [æ ¹@ WWW ã€œ]ï¼ƒæœ-ä¸€ä¸ª12 ./å®‰è£…ã€‚æ—¥å¿—ã€‚syslog &lt;==æœ‰æ–‡ä»¶çš„åˆ—è¡¨äº†8 ./ã€‚bash_logout 8 ./ test4 8 ./ test2 â€¦.ä¸­é—´çœç•¥â€¦. 12 ./ã€‚gconfd 220 ã€‚ å®ä¾‹3æ£€æŸ¥æ ¹ç›®å½•åº•ä¸‹æ¯ä¸ªç›®å½•æ‰€å ç”¨çš„å®¹é‡ [ root @ wwwã€œ]ï¼ƒdu - sm / 7 /ç®±6 /å¯åŠ¨â€¦..ä¸­é—´çœç•¥â€¦.0 /è¿›ç¨‹â€¦..ä¸­é—´çœç•¥â€¦.1 /è½¬3859 / usr &lt;==ç³»ç»ŸåˆæœŸæœ€å¤§å°±æ˜¯ä»–äº†å•¦ï¼77 / varé€šé…ç¬¦æ¥ä»£è¡¨æ¯ä¸ªç›®å½•ã€‚ ä¸dfä¸ä¸€æ ·çš„æ˜¯ï¼Œduè¿™ä¸ªå‘½ä»¤å®é™…ä¸Šä¼šç›´æ¥åˆ°æ–‡ä»¶ç³»ç»Ÿå†…å»æœå¯»æ‰€æœ‰çš„æ–‡ä»¶æ•°æ®ã€‚ fdiskfdiskæ˜¯Linuxçš„ç£ç›˜åˆ†åŒºè¡¨æ“ä½œå·¥å…·ã€‚ è¯­æ³•ï¼š fdisk [ -l ]è£…ç½®åç§°é€‰é¡¹ä¸å‚æ•°ï¼š -lï¼šè¾“å‡ºåé¢æ¥çš„è£…ç½®æ‰€æœ‰çš„åˆ†åŒºå†…å®¹ã€‚è‹¥ä»…æœ‰fdisk -læ—¶ï¼Œåˆ™ç³»ç»Ÿå°†ä¼šæŠŠæ•´ä¸ªç³»ç»Ÿå†…éƒ¨èƒ½å¤Ÿæœå¯»åˆ°çš„è£…ç½®çš„åˆ†åŒºå‡åˆ—å‡ºæ¥ã€‚å®ä¾‹1åˆ—å‡ºæ‰€æœ‰åˆ†åŒºä¿¡æ¯ [ root @ AY120919111755c246621 tmp ]ï¼ƒfdisk - l ç£ç›˜/ dev / xvda ï¼š21.5 GB ï¼Œ21474836480å­—èŠ‚255ç£å¤´ï¼Œ63æ‰‡åŒº/ç£é“ï¼Œ2610ä¸ªæŸ±é¢å•ä½=æŸ±é¢16065 * 512 = 8225280å­—èŠ‚æ‰‡åŒºå¤§å°ï¼ˆé€»è¾‘/ç‰©ç†ï¼‰ï¼š512å­—èŠ‚/ 512å­—èŠ‚I / Oå¤§å°ï¼ˆæœ€å°/æœ€ä½³ï¼‰ï¼š512å­—èŠ‚/ 512å­—èŠ‚ç£ç›˜æ ‡è¯†ç¬¦ï¼š0x00000000 è®¾å¤‡å¼•å¯¼å¯åŠ¨ç»“æŸå—IDç³»ç»Ÿ/ dev / xvda1 * 1 2550 20480000 83 Linux / dev / xvda2 2550 2611 490496 82 Linux swap / Solaris â€‹ ç£ç›˜/ dev / xvdb ï¼š21.5 GB ï¼Œ21474836480å­—èŠ‚255ç£å¤´ï¼Œ63æ‰‡åŒº/ç£é“ï¼Œ2610ä¸ªæŸ±é¢å•ä½=æŸ±é¢16065 * 512 = 8225280å­—èŠ‚æ‰‡åŒºå¤§å°ï¼ˆé€»è¾‘/ç‰©ç†ï¼‰ï¼š512å­—èŠ‚/ 512å­—èŠ‚I / Oå¤§å°ï¼ˆæœ€å°/æœ€ä½³ï¼‰ï¼š512å­—èŠ‚/ 512å­—èŠ‚ç£ç›˜æ ‡è¯†ç¬¦ï¼š0x56f40944 è®¾å¤‡å¯åŠ¨å¼€å§‹ç«¯å—IDç³»ç»Ÿ/ dev / xvdb2 1 2610 20964793 + 83 Linux å®ä¾‹2æ‰¾å‡ºæ‚¨ç³»ç»Ÿä¸­çš„æ ¹ç›®å½•æ‰€åœ¨ç£ç›˜ï¼Œå¹¶æŸ¥é˜…è¯¥ç¡¬ç›˜å†…çš„ç›¸å…³ä¿¡æ¯ [æ ¹@ WWW ã€œ]ï¼ƒDF / &lt;==æ³¨æ„ï¼šé‡ç‚¹åœ¨æ‰¾å‡ºç£ç›˜æ–‡ä»¶åè€Œå·²æ–‡ä»¶ç³»ç»Ÿ1K -å— ç”¨äºæ¨ä»‹ä½¿ç”¨ï¼…å®‰è£…ä¸Š/ devçš„/ HDC2 9920624 3823168 5585388 41 ï¼…/ [æ ¹@ WWW ã€œ]ï¼ƒçš„fdisk /å¼€å‘/ HDC &lt;==ä»”ç»†çœ‹ï¼Œä¸è¦åŠ ä¸Šæ•°å­—å–”ï¼çš„æ±½ç¼¸æ•°ä¸ºè¿™ç›˜è¢«è®¾ç½®åˆ°5005æœ‰æ˜¯æ²¡æœ‰é”™ä¸é‚£ä¸ªï¼Œä½†æ˜¯è¿™æ˜¯å¤§äº1024 ï¼Œå¹¶ä¸”å¯ä»¥åœ¨æŸäº›è®¾ç½®ä¼šå¯¼è‡´é—®é¢˜ä¸ï¼š1 ï¼‰è½¯ä»¶ï¼Œåœ¨ç³»ç»Ÿå¯åŠ¨æ—¶è¿è¡Œï¼ˆÄ“ ã€‚æ‘¹ã€‚è€ç‰ˆæœ¬çš„LILO ï¼‰2 ï¼‰å¼•å¯¼å’Œåˆ†åŒºè½¯ä»¶ä»å…¶å®ƒæ“ä½œç³»ç»Ÿï¼ˆÃ‰ ã€‚å…‹ã€‚ï¼ŒDOS FDISK ï¼ŒOS / 2 FDISK ï¼‰ å‘½ä»¤ï¼ˆmä¸ºå¸®åŠ©ï¼‰ï¼š&lt;==ç­‰å¾…ä½ çš„è¾“å…¥ï¼è¾“å…¥måï¼Œå°±ä¼šçœ‹åˆ°åº•ä¸‹è¿™äº›å‘½ä»¤ä»‹ç» å‘½ä»¤ï¼ˆmä¸ºå¸®åŠ©ï¼‰ï¼šm &lt;==è¾“å…¥måï¼Œå°±ä¼šçœ‹åˆ°åº•ä¸‹è¿™äº›å‘½ä»¤ä»‹ç»Command action åˆ‡æ¢å¯å¯åŠ¨æ ‡å¿— bç¼–è¾‘bsd disklabel cåˆ‡æ¢doså…¼å®¹æ€§æ ‡å¿— d åˆ é™¤åˆ†åŒº &lt;==åˆ é™¤ä¸€ä¸ªåˆ†åŒº låˆ—å‡ºå·²çŸ¥çš„åˆ†åŒºç±»å‹ m æ‰“å°æ­¤èœå• næ·»åŠ ä¸€ä¸ªæ–°åˆ†åŒº &lt;==æ·»åŠ ä¸€ä¸ªåˆ†åŒº oåˆ›å»ºä¸€ä¸ªæ–°çš„ç©ºDOSåˆ†åŒºè¡¨ p æ‰“å°åˆ†åŒºè¡¨ &lt;==åœ¨å±å¹•ä¸Šæ˜¾ç¤ºåˆ†åŒºè¡¨ qé€€å‡ºè€Œä¸ä¿å­˜æ›´æ”¹&lt;==ä¸ä¿å­˜ ç¦»å¼€fdiskç¨‹åº åˆ›å»ºä¸€ä¸ªæ–°çš„ç©ºSun disklabel tæ›´æ”¹åˆ†åŒºçš„ç³»ç»ŸID uæ›´æ”¹æ˜¾ç¤º/è¾“å…¥å•ä½ véªŒè¯åˆ†åŒºè¡¨ wå°†è¡¨å†™å…¥ç£ç›˜å¹¶é€€å‡º&lt;==å°†åˆšåˆšçš„åŠ¨ä½œå†™å…¥åˆ†å‰²è¡¨ xé¢å¤–åŠŸèƒ½ï¼ˆä»…é™ä¸“å®¶ï¼‰ç¦»å¼€fdiskæ—¶ç‚¹å‡»qï¼Œé‚£ä¹ˆæ‰€æœ‰çš„åŠ¨ä½œéƒ½ä¸ä¼šç”Ÿæ•ˆï¼ç›¸åçš„ï¼ŒæŒ‰ä¸‹wå°±æ˜¯åŠ¨ä½œç”Ÿæ•ˆçš„æ„æ€ã€‚ å‘½ä»¤ï¼ˆmä¸ºå¸®åŠ©ï¼‰ï¼šp &lt;==è¿™é‡Œå¯ä»¥è¾“å‡ºå½“å‰ç£ç›˜çš„çŠ¶æ€ ç£ç›˜/ dev / hdc ï¼š41.1 GB ï¼Œ41174138880å­—èŠ‚ &lt;==è¿™ä¸ªç£ç›˜çš„æ–‡ä»¶åä¸å®¹é‡255ä¸ªç£å¤´ï¼Œ63ä¸ªæ‰‡åŒº/ç£é“ï¼Œ5005ä¸ªç£æŸ± &lt;==ç£å¤´ï¼Œå¢å¤§ä¸ç£æŸ±å¤§å°å•ä½= 16065 * 512ç£æŸ±= 8225280å­—èŠ‚&lt;==æ¯ä¸ªç£æŸ±çš„å¤§å° â€‹ è®¾å¤‡å¼•å¯¼å¯åŠ¨ç»“æŸå—IDç³»ç»Ÿ/ dev / hdc1 * 1 13 104391 83 Linux / dev / hdc2 14 1288 10241437 + 83 Linux / dev / hdc3 1289 1925 5116702 + 83 Linux / dev / hdc4 1926 5005 24740100 5æ‰©å±•/ dev / hdc5 1926 2052 1020096 82 Linux swap / Solaris ï¼ƒè£…ç½®æ–‡ä»¶åå¯åŠ¨åŒºå¦å¼€å§‹ç£æŸ±ç»“æŸç£æŸ±1Kå¤§å°å®¹é‡ç£ç›˜åˆ†åŒºæ§½å†…çš„ç³»ç»Ÿ å‘½ä»¤ï¼ˆmè¡¨ç¤ºå¸®åŠ©ï¼‰ï¼šqæƒ³è¦ä¸å‚¨å­˜ç¦»å¼€å—ï¼Ÿç‚¹å‡»qå°±å¯¹äº†ï¼ä¸è¦éšä¾¿æŒ‰wå•Šï¼ ä½¿ç”¨på¯ä»¥åˆ—å‡ºç›®å‰è¿™é¢—ç£ç›˜çš„åˆ†å‰²è¡¨ä¿¡æ¯ï¼Œè¿™ä¸ªä¿¡æ¯çš„ä¸ŠåŠéƒ¨åœ¨æ˜¾ç¤ºæ•´ä½“ç£ç›˜çš„çŠ¶æ€ã€‚ ç£ç›˜æ ¼å¼åŒ–ç£ç›˜åˆ†å‰²å®Œæˆåè‡ªç„¶å°±æ˜¯è¦è¿›è¡Œæ–‡ä»¶ç³»ç»Ÿçš„æ ¼å¼åŒ–ï¼Œæ ¼å¼åŒ–çš„å‘½ä»¤éå¸¸çš„ç®€å•ï¼Œä½¿ç”¨mkfsï¼ˆä½¿æ–‡ä»¶ç³»ç»Ÿï¼‰å‘½ä»¤ã€‚ è¯­æ³•ï¼š mkfs [ -tæ–‡ä»¶ç³»ç»Ÿæ ¼å¼]è£…ç½®æ–‡ä»¶åé€‰é¡¹ä¸å‚æ•°ï¼š -tï¼šå¯ä»¥æ¥æ–‡ä»¶ç³»ç»Ÿæ ¼å¼ï¼Œä¾‹å¦‚ext3ï¼Œext2ï¼Œvfatç­‰ï¼ˆç³»ç»Ÿæœ‰æ”¯æŒæ‰ä¼šç”Ÿæ•ˆï¼‰å®ä¾‹1æŸ¥çœ‹mkfsæ”¯æŒçš„æ–‡ä»¶æ ¼å¼ [ root @ wwwã€œ] ï¼ƒmkfs [æ ‡ç­¾] [æ ‡ç­¾]mkfs mkfs ã€‚cramfs mkfs ã€‚ext2 mkfs ã€‚ext3 mkfs ã€‚msdos mkfs ã€‚èƒ–å­æŒ‰ä¸‹ä¸¤ä¸ª[tab]ï¼Œä¼šå‘ç°mkfsæ”¯æŒçš„æ–‡ä»¶æ ¼å¼å¦‚ä¸Šæ‰€ç¤ºã€‚ å®ä¾‹2å°†åˆ†åŒº/ dev / hdc6ï¼ˆå¯æŒ‡å®šä½ è‡ªå·±çš„åˆ†åŒºï¼‰æ ¼å¼åŒ–ä¸ºext3æ–‡ä»¶ç³»ç»Ÿï¼š [ root @ wwwã€œ]ï¼ƒmkfs - t ext3 / dev / hdc6mke2fs 1.39 ï¼ˆ29 - May - 2006 ï¼‰æ–‡ä»¶ç³»ç»Ÿæ ‡ç­¾= &lt;==è¿™é‡ŒæŒ‡çš„æ˜¯åˆ†å‰²æ§½çš„åç§°ï¼ˆlabel ï¼‰æ“ä½œç³»ç»Ÿç±»å‹ï¼šLinuxå—å¤§å°= 4096 ï¼ˆlog = 2 ï¼‰&lt;==å—çš„å¤§å°é…ç½®ä¸º4Kç‰‡æ®µå¤§å°= 4096 ï¼ˆæ—¥å¿—= 2 ï¼‰251392ä¸ªièŠ‚ç‚¹ï¼Œ502023å— &lt;==ç”±æ­¤é…ç½®å†³å®šçš„ç´¢å¼•èŠ‚ç‚¹/å—æ•°é‡ 25101å—ï¼ˆ5.00 ï¼…ï¼‰ä¿ç•™ç”¨äºè¯¥è¶…çº§ç”¨æˆ·é¦–å…ˆæ•°æ®å—= 0æœ€å¤§æ–‡ä»¶ç³»ç»Ÿå—= 515899392ä¸ª16å—ç»„32768ä¸ªæ¯å—ç»„ï¼Œ32768ä¸ªæ¯ç‰‡æ®µç»„15712ä¸ªæ¯ç´¢å¼•èŠ‚ç‚¹ç»„çš„è¶…çº§å—å­˜å‚¨åœ¨å—çš„å¤‡ä»½ï¼š32768 ï¼Œ98304 ï¼Œ163840 ï¼Œ229376 ï¼Œ294912 â€‹ ç¼–å†™inodeè¡¨ï¼šå®Œæˆåˆ›å»ºæ—¥å¿—ï¼ˆ8192ä¸ªå—ï¼‰ï¼šå®Œæˆ&lt;==æœ‰æ—¥å¿—è®°å½•ç¼–å†™è¶…çº§å—å’Œæ–‡ä»¶ç³»ç»Ÿè®°å¸ä¿¡æ¯ï¼šå®Œæˆ è¯¥æ–‡ä»¶ç³»ç»Ÿå°†æ¯34åéª‘æˆ–180å¤©è‡ªåŠ¨æ£€æŸ¥ä¸€æ¬¡ï¼Œä»¥å…ˆåˆ°è€…ä¸ºå‡†ã€‚ä½¿ç”¨tune2fs - Ã§æˆ–-æˆ‘è¦é‡å†™ã€‚ï¼ƒè¿™æ ·å°±åˆ›å»ºäº†æˆ‘ä»¬æ‰€éœ€è¦çš„Ext3æ–‡ä»¶ç³»ç»Ÿäº†ï¼ç®€å•æ˜äº†ï¼ ç£ç›˜æ£€éªŒfsckï¼ˆæ–‡ä»¶ç³»ç»Ÿæ£€æŸ¥ï¼‰ç”¨æ¥æ£€æŸ¥å’Œç»´æŠ¤äºŒè€…çš„æ–‡ä»¶ç³»ç»Ÿã€‚ è‹¥ç³»ç»Ÿæ‰ç”µæˆ–ç£ç›˜å‘ç”Ÿé—®é¢˜ï¼Œå¯åˆ©ç”¨fsckå‘½ä»¤å¯¹æ–‡ä»¶ç³»ç»Ÿè¿›è¡Œæ£€æŸ¥ã€‚ è¯­æ³•ï¼š fsck [ -tæ–‡ä»¶ç³»ç»Ÿ] [ -ACay ]è£…ç½®åç§°é€‰é¡¹ä¸å‚æ•°ï¼š -tï¼šç»™å®šæ¡£æ¡ˆç³»ç»Ÿçš„å‹å¼ï¼Œè‹¥åœ¨/ etc / fstabä¸­å·²æœ‰å®šä¹‰æˆ–kernelæœ¬èº«å·²æ”¯æŒçš„åˆ™ä¸éœ€åŠ ä¸Šæ­¤å‚æ•°-sï¼šä¾åºä¸€ä¸ªä¸€ä¸ªåœ°æ‰§è¡Œfsckçš„æŒ‡ä»¤æ¥æ£€æŸ¥-Aï¼šå¯¹/ etc / fstabä¸­æ‰€æœ‰åˆ—å‡ºæ¥çš„åˆ†åŒºï¼ˆpartitionï¼‰åšæ£€æŸ¥-Cï¼šæ˜¾ç¤ºå®Œæ•´çš„æ£€æŸ¥è¿›åº¦-dï¼šæ‰“å°å‡ºe2fsckçš„è°ƒè¯•ç»“æœ-pï¼šåŒæ—¶æœ‰-Aæ¡ä»¶æ—¶ï¼ŒåŒæ—¶æœ‰å¤šä¸ªfsckçš„æ£€æŸ¥ä¸€èµ·æ‰§è¡Œ-Rï¼šåŒæ—¶æœ‰-Aæ¡ä»¶æ—¶ï¼Œçœç•¥/ä¸æ£€æŸ¥-Vï¼šè¯¦ç»†æ˜¾ç¤ºæ¨¡å¼-aï¼šå¦‚æœæ£€æŸ¥æœ‰é”™åˆ™è‡ªåŠ¨ä¿®å¤-rï¼šå¦‚æœæ£€æŸ¥æœ‰é”™åˆ™ç”±ä½¿ç”¨è€…å›ç­”æ˜¯å¦æ¢å¤-yï¼šé€‰é¡¹æŒ‡å®šæ£€æµ‹æ¯ä¸ªæ–‡ä»¶æ˜¯è‡ªåŠ¨è¾“å…¥yesï¼Œåœ¨ä¸ç¡®å®šé‚£äº›æ˜¯ä¸æ­£å¸¸çš„æ—¶å€™ï¼Œå¯ä»¥æ‰§è¡Œï¼ƒfsck -yå…¨éƒ¨æ£€æŸ¥ä¿®å¤ã€‚å®ä¾‹1æŸ¥çœ‹ç³»ç»Ÿæœ‰å¤šå°‘æ–‡ä»¶ç³»ç»Ÿæ”¯æŒçš„fsckå‘½ä»¤ï¼š [ root @ wwwã€œ] ï¼ƒfsck [æ ‡ç­¾] [æ ‡ç­¾]fsck fsck ã€‚cramfs fsck ã€‚ext2 fsck ã€‚ext3 fsck ã€‚msdos fsck ã€‚èƒ–å­å®ä¾‹2å¼ºåˆ¶æ£€æµ‹/ dev / hdc6åˆ†åŒºï¼š [ root @ wwwã€œ]ï¼ƒfsck - C - f - t ext3 / dev / hdc6fsckçš„1.39 ï¼ˆ29 -æœˆ- 2006å¹´ï¼‰ç”¨e2fsck 1.39 ï¼ˆ29 -æœˆ- 2006å¹´ï¼‰é€š1 ï¼šæ£€æŸ¥ç´¢å¼•èŠ‚ç‚¹ï¼Œå—ï¼Œå’Œå°ºå¯¸é€šè¡Œè¯2 ï¼šæ£€æŸ¥ç›®å½•ç»“æ„é€šè¡Œè¯3 ï¼šæ£€æŸ¥ç›®å½•çš„è¿æ¥é€š4 ï¼šæ£€æŸ¥å¼•ç”¨è®¡æ•°ä¼ é€’5 ï¼šæ£€æŸ¥ç»„ æ‘˜è¦ä¿¡æ¯vbird_logical ï¼š11 /äºŒåäº”ä¸‡ä¸€åƒä¹ç™¾å…­åå…«æ–‡ä»¶ï¼ˆ9.1 ï¼…é-è¿ç»­çš„ï¼‰ï¼Œ36926 /ä¸€ç™¾ä¸‡å››åƒé›¶å››åå…­å—å¦‚æœæ²¡æœ‰åŠ ä¸Š-fçš„é€‰é¡¹ï¼Œåˆ™ç”±äºè¯¥æ–‡ä»¶ç³»ç»Ÿä¸æ›¾å‡ºç°é—®é¢˜ï¼Œæ£€æŸ¥çš„ç»è¿‡éå¸¸å¿«é€Ÿï¼è‹¥åŠ ä¸Š-få¼ºåˆ¶æ£€æŸ¥ï¼Œåªä¼šæœ‰ä¸€é¡¹çš„æ˜¾ç¤ºè¿‡ç¨‹ã€‚ ç£ç›˜æŒ‚è½½ä¸å¸é™¤Linuxçš„ç£ç›˜æŒ‚è½½ä½¿ç”¨mountå‘½ä»¤ï¼Œå¸è½½ä½¿ç”¨umountå‘½ä»¤ã€‚ ç£ç›˜æŒ‚è½½è¯­æ³•ï¼š mount [ -tæ–‡ä»¶ç³»ç»Ÿ] [ -Læ ‡ç­¾å] [ -oå…¶ä»–é€‰é¡¹] [ -n ]è£…ç½®æ–‡ä»¶åæŒ‚è½½ç‚¹å®ä¾‹1ç”¨æœ€å°çš„æ–¹å¼ï¼Œå°†åˆšåˆšåˆ›å»ºçš„/ dev / hdc6æŒ‚è½½åˆ°/ mnt / hdc6ä¸Šé¢ï¼ [æ ¹@ WWW ã€œ]ï¼ƒMKDIR / MNT / hdc6 [æ ¹@ WWW ã€œ]ï¼ƒå®‰è£…/ devçš„/ hdc6 / MNT / hdc6 [æ ¹@ WWW ã€œ]ï¼ƒDFæ–‡ä»¶ç³»ç»Ÿ1K -å— ç”¨äºæ¨ä»‹ä½¿ç”¨ï¼…å®‰è£…ä¸Šâ€¦. ã€‚ä¸­é—´çœç•¥â€¦.. / dev / hdc6 1976312 42072 1833836 3 ï¼…/ mnt / hdc6 ç£ç›˜å¸è½½å‘½ä»¤umountè¯­æ³•ï¼š å¸é™¤[ - FN ]è£…ç½®æ–‡ä»¶åæˆ–æŒ‚è½½ç‚¹é€‰é¡¹ä¸å‚æ•°ï¼š -fï¼šå¼ºåˆ¶å¸é™¤ï¼å¯ç”¨åœ¨ç±»ä¼¼ç½‘ç»œæ–‡ä»¶ç³»ç»Ÿï¼ˆNFSï¼‰æ— æ³•è¯»å–åˆ°çš„æƒ…å†µä¸‹ï¼›-nï¼šä¸å‡çº§/ etc / mtabæƒ…å†µä¸‹å¸é™¤ã€‚å¸è½½/ dev / hdc6 [æ ¹@ WWW ã€œ]ï¼ƒå¸é™¤/ devçš„/ hdc6 vi/vimæ‰€æœ‰çš„ Unix Like ç³»ç»Ÿéƒ½ä¼šå†…å»º vi æ–‡ä¹¦ç¼–è¾‘å™¨ï¼Œå…¶ä»–çš„æ–‡ä¹¦ç¼–è¾‘å™¨åˆ™ä¸ä¸€å®šä¼šå­˜åœ¨ã€‚ä½†æ˜¯ç›®å‰æˆ‘ä»¬ä½¿ç”¨æ¯”è¾ƒå¤šçš„æ˜¯ vim ç¼–è¾‘å™¨ã€‚vim å…·æœ‰ç¨‹åºç¼–è¾‘çš„èƒ½åŠ›ï¼Œå¯ä»¥ä¸»åŠ¨çš„ä»¥å­—ä½“é¢œè‰²è¾¨åˆ«è¯­æ³•çš„æ­£ç¡®æ€§ï¼Œæ–¹ä¾¿ç¨‹åºè®¾è®¡ã€‚ ä»€ä¹ˆæ˜¯ vimï¼ŸVimæ˜¯ä» vi å‘å±•å‡ºæ¥çš„ä¸€ä¸ªæ–‡æœ¬ç¼–è¾‘å™¨ã€‚ä»£ç è¡¥å®Œã€ç¼–è¯‘åŠé”™è¯¯è·³è½¬ç­‰æ–¹ä¾¿ç¼–ç¨‹çš„åŠŸèƒ½ç‰¹åˆ«ä¸°å¯Œï¼Œåœ¨ç¨‹åºå‘˜ä¸­è¢«å¹¿æ³›ä½¿ç”¨ã€‚ç®€å•çš„æ¥è¯´ï¼Œ vi æ˜¯è€å¼çš„å­—å¤„ç†å™¨ï¼Œä¸è¿‡åŠŸèƒ½å·²ç»å¾ˆé½å…¨äº†ï¼Œä½†æ˜¯è¿˜æ˜¯æœ‰å¯ä»¥è¿›æ­¥çš„åœ°æ–¹ã€‚ vim åˆ™å¯ä»¥è¯´æ˜¯ç¨‹åºå¼€å‘è€…çš„ä¸€é¡¹å¾ˆå¥½ç”¨çš„å·¥å…·ã€‚è¿ vim çš„å®˜æ–¹ç½‘ç«™ (http://www.vim.org) è‡ªå·±ä¹Ÿè¯´ vim æ˜¯ä¸€ä¸ªç¨‹åºå¼€å‘å·¥å…·è€Œä¸æ˜¯æ–‡å­—å¤„ç†è½¯ä»¶ã€‚vim é”®ç›˜å›¾ï¼š vi/vim çš„ä½¿ç”¨åŸºæœ¬ä¸Š vi/vim å…±åˆ†ä¸ºä¸‰ç§æ¨¡å¼ï¼Œåˆ†åˆ«æ˜¯å‘½ä»¤æ¨¡å¼ï¼ˆCommand modeï¼‰ï¼Œè¾“å…¥æ¨¡å¼ï¼ˆInsert modeï¼‰å’Œåº•çº¿å‘½ä»¤æ¨¡å¼ï¼ˆLast line modeï¼‰ã€‚ è¿™ä¸‰ç§æ¨¡å¼çš„ä½œç”¨åˆ†åˆ«æ˜¯ï¼š å‘½ä»¤æ¨¡å¼ï¼šç”¨æˆ·åˆšåˆšå¯åŠ¨ vi/vimï¼Œä¾¿è¿›å…¥äº†å‘½ä»¤æ¨¡å¼ã€‚ æ­¤çŠ¶æ€ä¸‹æ•²å‡»é”®ç›˜åŠ¨ä½œä¼šè¢«Vimè¯†åˆ«ä¸ºå‘½ä»¤ï¼Œè€Œéè¾“å…¥å­—ç¬¦ã€‚æ¯”å¦‚æˆ‘ä»¬æ­¤æ—¶æŒ‰ä¸‹iï¼Œå¹¶ä¸ä¼šè¾“å…¥ä¸€ä¸ªå­—ç¬¦ï¼Œiè¢«å½“ä½œäº†ä¸€ä¸ªå‘½ä»¤ã€‚ ä»¥ä¸‹æ˜¯å¸¸ç”¨çš„å‡ ä¸ªå‘½ä»¤ï¼š i åˆ‡æ¢åˆ°è¾“å…¥æ¨¡å¼ï¼Œä»¥è¾“å…¥å­—ç¬¦ã€‚x åˆ é™¤å½“å‰å…‰æ ‡æ‰€åœ¨å¤„çš„å­—ç¬¦ã€‚: åˆ‡æ¢åˆ°åº•çº¿å‘½ä»¤æ¨¡å¼ï¼Œä»¥åœ¨æœ€åº•ä¸€è¡Œè¾“å…¥å‘½ä»¤ã€‚è‹¥æƒ³è¦ç¼–è¾‘æ–‡æœ¬ï¼šå¯åŠ¨Vimï¼Œè¿›å…¥äº†å‘½ä»¤æ¨¡å¼ï¼ŒæŒ‰ä¸‹iï¼Œåˆ‡æ¢åˆ°è¾“å…¥æ¨¡å¼ã€‚ å‘½ä»¤æ¨¡å¼åªæœ‰ä¸€äº›æœ€åŸºæœ¬çš„å‘½ä»¤ï¼Œå› æ­¤ä»è¦ä¾é åº•çº¿å‘½ä»¤æ¨¡å¼è¾“å…¥æ›´å¤šå‘½ä»¤ã€‚ è¾“å…¥æ¨¡å¼åœ¨å‘½ä»¤æ¨¡å¼ä¸‹æŒ‰ä¸‹iå°±è¿›å…¥äº†è¾“å…¥æ¨¡å¼ã€‚ åœ¨è¾“å…¥æ¨¡å¼ä¸­ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹æŒ‰é”®ï¼š å­—ç¬¦æŒ‰é”®ä»¥åŠShiftç»„åˆï¼Œè¾“å…¥å­—ç¬¦ENTERï¼Œå›è½¦é”®ï¼Œæ¢è¡ŒBACK SPACEï¼Œé€€æ ¼é”®ï¼Œåˆ é™¤å…‰æ ‡å‰ä¸€ä¸ªå­—ç¬¦DELï¼Œåˆ é™¤é”®ï¼Œåˆ é™¤å…‰æ ‡åä¸€ä¸ªå­—ç¬¦æ–¹å‘é”®ï¼Œåœ¨æ–‡æœ¬ä¸­ç§»åŠ¨å…‰æ ‡HOME/ENDï¼Œç§»åŠ¨å…‰æ ‡åˆ°è¡Œé¦–/è¡Œå°¾Page Up/Page Downï¼Œä¸Š/ä¸‹ç¿»é¡µInsertï¼Œåˆ‡æ¢å…‰æ ‡ä¸ºè¾“å…¥/æ›¿æ¢æ¨¡å¼ï¼Œå…‰æ ‡å°†å˜æˆç«–çº¿/ä¸‹åˆ’çº¿ESCï¼Œé€€å‡ºè¾“å…¥æ¨¡å¼ï¼Œåˆ‡æ¢åˆ°å‘½ä»¤æ¨¡å¼åº•çº¿å‘½ä»¤æ¨¡å¼åœ¨å‘½ä»¤æ¨¡å¼ä¸‹æŒ‰ä¸‹:ï¼ˆè‹±æ–‡å†’å·ï¼‰å°±è¿›å…¥äº†åº•çº¿å‘½ä»¤æ¨¡å¼ã€‚ åº•çº¿å‘½ä»¤æ¨¡å¼å¯ä»¥è¾“å…¥å•ä¸ªæˆ–å¤šä¸ªå­—ç¬¦çš„å‘½ä»¤ï¼Œå¯ç”¨çš„å‘½ä»¤éå¸¸å¤šã€‚ åœ¨åº•çº¿å‘½ä»¤æ¨¡å¼ä¸­ï¼ŒåŸºæœ¬çš„å‘½ä»¤æœ‰ï¼ˆå·²ç»çœç•¥äº†å†’å·ï¼‰ï¼š q é€€å‡ºç¨‹åºw ä¿å­˜æ–‡ä»¶æŒ‰ESCé”®å¯éšæ—¶é€€å‡ºåº•çº¿å‘½ä»¤æ¨¡å¼ã€‚ ç®€å•çš„è¯´ï¼Œæˆ‘ä»¬å¯ä»¥å°†è¿™ä¸‰ä¸ªæ¨¡å¼æƒ³æˆåº•ä¸‹çš„å›¾æ ‡æ¥è¡¨ç¤º vi/vim ä½¿ç”¨å®ä¾‹ ä½¿ç”¨ vi/vim è¿›å…¥ä¸€èˆ¬æ¨¡å¼å¦‚æœä½ æƒ³è¦ä½¿ç”¨ vi æ¥å»ºç«‹ä¸€ä¸ªåä¸º runoob.txt çš„æ–‡ä»¶æ—¶ï¼Œä½ å¯ä»¥è¿™æ ·åšï¼š $ vim runoob.txtç›´æ¥è¾“å…¥ vi æ–‡ä»¶å å°±èƒ½å¤Ÿè¿›å…¥ vi çš„ä¸€èˆ¬æ¨¡å¼äº†ã€‚è¯·æ³¨æ„ï¼Œè®°å¾— vi åé¢ä¸€å®šè¦åŠ æ–‡ä»¶åï¼Œä¸ç®¡è¯¥æ–‡ä»¶å­˜åœ¨ä¸å¦ï¼ - æŒ‰ä¸‹ i è¿›å…¥è¾“å…¥æ¨¡å¼(ä¹Ÿç§°ä¸ºç¼–è¾‘æ¨¡å¼)ï¼Œå¼€å§‹ç¼–è¾‘æ–‡å­— åœ¨ä¸€èˆ¬æ¨¡å¼ä¹‹ä¸­ï¼Œåªè¦æŒ‰ä¸‹ i, o, a ç­‰å­—ç¬¦å°±å¯ä»¥è¿›å…¥è¾“å…¥æ¨¡å¼äº†ï¼ åœ¨ç¼–è¾‘æ¨¡å¼å½“ä¸­ï¼Œä½ å¯ä»¥å‘ç°åœ¨å·¦ä¸‹è§’çŠ¶æ€æ ä¸­ä¼šå‡ºç° â€“INSERT- çš„å­—æ ·ï¼Œé‚£å°±æ˜¯å¯ä»¥è¾“å…¥ä»»æ„å­—ç¬¦çš„æç¤ºã€‚ è¿™ä¸ªæ—¶å€™ï¼Œé”®ç›˜ä¸Šé™¤äº† Esc è¿™ä¸ªæŒ‰é”®ä¹‹å¤–ï¼Œå…¶ä»–çš„æŒ‰é”®éƒ½å¯ä»¥è§†ä½œä¸ºä¸€èˆ¬çš„è¾“å…¥æŒ‰é’®äº†ï¼Œæ‰€ä»¥ä½ å¯ä»¥è¿›è¡Œä»»ä½•çš„ç¼–è¾‘ã€‚ - æŒ‰ä¸‹ ESC æŒ‰é’®å›åˆ°ä¸€èˆ¬æ¨¡å¼ å¥½äº†ï¼Œå‡è®¾æˆ‘å·²ç»æŒ‰ç…§ä¸Šé¢çš„æ ·å¼ç»™ä»–ç¼–è¾‘å®Œæ¯•äº†ï¼Œé‚£ä¹ˆåº”è¯¥è¦å¦‚ä½•é€€å‡ºå‘¢ï¼Ÿæ˜¯çš„ï¼æ²¡é”™ï¼å°±æ˜¯ç»™ä»–æŒ‰ä¸‹ Esc è¿™ä¸ªæŒ‰é’®å³å¯ï¼é©¬ä¸Šä½ å°±ä¼šå‘ç°ç”»é¢å·¦ä¸‹è§’çš„ â€“ INSERT â€“ ä¸è§äº†ï¼ åœ¨ä¸€èˆ¬æ¨¡å¼ä¸­æŒ‰ä¸‹ :wq å‚¨å­˜åç¦»å¼€ viOKï¼Œæˆ‘ä»¬è¦å­˜æ¡£äº†ï¼Œå­˜ç›˜å¹¶ç¦»å¼€çš„æŒ‡ä»¤å¾ˆç®€å•ï¼Œè¾“å…¥ :wq å³å¯ä¿å­˜ç¦»å¼€ï¼ - Linux vi_vim _ èœé¸Ÿæ•™ç¨‹.pdf Linux yumå‘½ä»¤yumï¼ˆYellow dog Updaterï¼ŒModifiedï¼‰æ˜¯ä¸€ä¸ªåœ¨Fedoraå’ŒRedHatä»¥åŠSUSEä¸­çš„Shellå‰ç«¯è¿æ¥ç®¡ç†å™¨ã€‚åŸºäºRPMåŒ…ç®¡ç†ï¼Œèƒ½å¤Ÿä»æŒ‡å®šçš„æœåŠ¡å™¨è‡ªåŠ¨ä¸‹è½½RPMåŒ…å’Œå®‰è£…ï¼Œå¯ä»¥è‡ªåŠ¨å¤„ç†ç›¸å¯¹å…³ç³»ï¼Œå¹¶ä¸”ä¸€æ¬¡å®‰è£…æ‰€æœ‰ä¾èµ–çš„è½¯ä»¶åŒ…ï¼Œæ— é¡»ç¹çåœ°ä¸€æ¬¡æ¬¡ä¸‹è½½ï¼Œå®‰è£…ã€‚ yumæä¾›äº†æŸ¥æ‰¾ï¼Œå®‰è£…ï¼Œåˆ é™¤æŸäººï¼Œå¤šä¸ªç”šè‡³å…¨éƒ¨å®Œå…¨çš„å‘½ä»¤ï¼Œè€Œä¸”å‘½ä»¤ç®€æ´è€Œåˆå¥½è®°ã€‚ yumè¯­æ³•yum [é€‰é¡¹] [å‘½ä»¤] [åŒ…â€¦]é€‰é¡¹ï¼šä»»é€‰ï¼Œé€‰é¡¹åŒ…æ‹¬-hï¼ˆå¸®åŠ©ï¼‰ï¼Œ-yï¼ˆå½“å®‰è£…è¿‡ç¨‹æç¤ºé€‰æ‹©å…¨éƒ¨ä¸ºâ€œ yesâ€ï¼‰ï¼Œ-qï¼ˆä¸æ˜¾ç¤ºå®‰è£…çš„è¿‡ç¨‹ï¼‰ç­‰ç­‰ã€‚å‘½ä»¤ï¼šè¦è¿›è¡Œçš„æ“ä½œã€‚packageï¼šå®‰è£…çš„åŒ…åã€‚ yumå¸¸ç”¨å‘½ä»¤1.åˆ—å‡ºæ‰€æœ‰å¯æ›´æ–°çš„è½¯ä»¶æ¸…å•å‘½ä»¤ï¼šyum check-update 2.æ›´æ–°æ‰€æœ‰è½¯ä»¶å‘½ä»¤ï¼šyum update 3.ä»…å®‰è£…æŒ‡å®šçš„è½¯ä»¶å‘½ä»¤ï¼šyum install &lt;ç¨‹åºåŒ…åç§°&gt; 4.ä»…æ›´æ–°æŒ‡å®šçš„è½¯ä»¶å‘½ä»¤ï¼šyum update &lt;ç¨‹åºåŒ…åç§°&gt; 5.åˆ—å‡ºæ‰€æœ‰å¯å®‰è£…çš„è½¯ä»¶æ¸…å•å‘½ä»¤ï¼šç™¾èƒœåå• 6.åˆ é™¤åˆ é™¤å‘½ä»¤ï¼šyum remove 7.æŸ¥æ‰¾æ™®é€šå‘½ä»¤ï¼šyum search &lt;å…³é”®å­—&gt; 8.æ¸…é™¤ç¼“å­˜å‘½ä»¤ï¼š ç™¾èƒœæ¸…æ´åŒ…ï¼šæ¸…é™¤ç¼“å­˜ç›®å½•ä¸‹çš„åŒé‡yum clean headersï¼šæ¸…é™¤ç¼“å­˜ç›®å½•ä¸‹çš„headersyum clean oldheadersï¼šæ¸…é™¤ç¼“å­˜ç›®å½•ä¸‹æ—§çš„æ ‡é¢˜yum cleanï¼Œyum clean allï¼ˆ= yum clean package; yum clean oldheadersï¼‰ï¼šæ¸…é™¤ç¼“å­˜ç›®å½•ä¸‹çš„å‰¯æœ¬åŠæ—§çš„æ ‡é¢˜å®ä¾‹1å®‰è£…pam-devel [æ ¹@ WWW ã€œ]ï¼ƒç™¾èƒœå®‰è£…PAM - develçš„è®¾ç½®äº†å®‰è£…è¿‡ç¨‹è§£æåŒ…å®‰è£…å‚æ•°è§£æä¾èµ–æ€§&lt;==å…ˆæ£€æŸ¥è½¯ä»¶çš„å±æ€§ç›¸ä¾é—®é¢˜- &gt;è¿è¡Œçš„äº‹åŠ¡æ£€æŸ¥â€”-&gt;å°è£…PAM - develçš„ã€‚i386 0 ï¼š0.99 ã€‚6.2 - 4.el5é›†è¢«æ›´æ–° å¤„ç†ç›¸å…³ï¼šPAM = 0.99 ã€‚6.2 - 4.el5çš„åŒ…ï¼šPAM - develçš„ è¿è¡Œäº¤æ˜“æ£€æŸ¥â€”-&gt;åŒ…è£…PAM ã€‚i386 0 ï¼š0.99 ã€‚6.2 - 4.el5é›†è¿›è¡Œæ›´æ–°æ–‡ä»¶åˆ—è¡¨ã€‚xml ã€‚gz 100 ï¼…| ======================== | 1.6 MB 00 ï¼š05çš„æ–‡ä»¶åˆ—è¡¨ã€‚xml ã€‚gz 100 ï¼…| ======================== | 138 kB 00 : 00- &gt;å®Œæˆçš„ä¾èµ–æ€§è§£æâ€¦â€¦ï¼ˆçœç•¥ï¼‰ å®ä¾‹2å¯æ‹†å¸pam-devel [æ ¹@ WWW ã€œ]ï¼ƒè«åˆ é™¤PAM - develçš„è®¾ç½®äº†åˆ é™¤è¿‡ç¨‹è§£å†³ä¾èµ–&lt;==åŒæ ·çš„ï¼Œå…ˆè§£å†³å±æ€§ç›¸ä¾çš„é—®é¢˜- &gt;è¿è¡Œçš„äº‹åŠ¡æ£€æŸ¥â€”-&gt;å°è£…PAM - develçš„ã€‚i386 0 ï¼š0.99 ã€‚6.2 - 4.el5é›†è¢«æ“¦é™¤ æˆå“ä¾èµ–å†³è®®è§£å†³ä¾èµ–æ€§================================================== ===========================è½¯ä»¶åŒ…Archç‰ˆæœ¬åº“å¤§å°================== ================================================== =========åˆ é™¤ï¼špam - devel i386 0.99 ã€‚6.2 - 4.el5 å®‰è£… 495 Ä·äº¤æ˜“æ‘˜è¦================================================ =============================å®‰è£…0åŒ…ï¼ˆå°å·ï¼‰æ›´æ–°0åŒ…ï¼ˆå°å·ï¼‰ä¸­å–å‡º1åŒ…ï¼ˆå°å·ï¼‰&lt;==è¿˜å¥½ï¼Œå¹¶æ²¡æœ‰å±æ€§ç›¸ä¾çš„é—®é¢˜ï¼Œå•çº¯å¯ç§»é™¤ä¸€ä¸ªè½¯ä»¶ æ˜¯è¯¥è¡Œ[ Ã¿ / Ã‘ ]ï¼šÅ¸ä¸‹è½½è½¯ä»¶åŒ…ï¼šè¿è¡Œrpm_check_debugè¿è¡Œäº¤æ˜“æµ‹è¯•å·²å®Œæˆçš„äº¤æ˜“æµ‹è¯•çš„äº¤æ˜“æµ‹è¯•æˆåŠŸè¿è¡Œäº¤æ˜“æ“¦é™¤ï¼šPAM - develçš„ ################### ###### [1/1] åˆ é™¤ï¼špam - devel ã€‚i386 0 ï¼š0.99 ã€‚6.2 - 4.el5å®Œæˆï¼å®ä¾‹3åˆ©ç”¨yumçš„åŠŸèƒ½ï¼Œå‘ç°ä»¥pamä¸ºå¼€å¤´çš„è½¯ä»¶åç§°æœ‰ä»€ä¹ˆï¼Ÿ [ root @ wwwã€œ] ï¼ƒyum list pam *å·²å®‰è£…çš„è½¯ä»¶åŒ…pam ã€‚i386 0.99 ã€‚6.2 - 3.27 ã€‚å·²å®‰è£…el5 pam_ccreds ã€‚I386 3 - 5 å®‰è£…pam_krb5 ã€‚i386 2.2 ã€‚14 - 1 å®‰è£…pam_passwdqc ã€‚i386 1.0 ã€‚2 - 1.2 ã€‚2 å®‰è£…pam_pkcs11 ã€‚i386 0.5 ã€‚3 - 23 å®‰è£…pam_smb ã€‚i386 1.1 ã€‚7 - 7.2 ã€‚1ä¸ª å·²å®‰è£…çš„å¯ç”¨è½¯ä»¶åŒ…&lt;==åº•ä¸‹åˆ™æ˜¯ã€å¯å‡çº§ã€çš„æˆ–ã€æœªå®‰è£…ã€çš„pam ã€‚i386 0.99 ã€‚6.2 - 4.el5åŸºPAM - develçš„ã€‚i386 0.99 ã€‚6.2 - 4.el5åŸºpam_krb5çš„ã€‚i386 2.2 ã€‚14 - 10åŸº å›½å†…yumæºç½‘æ˜“ï¼ˆ163ï¼‰yumæºæ˜¯å›½å†…æœ€å¥½çš„yumæºä¹‹ä¸€ï¼Œæ— è®ºæ˜¯é€Ÿåº¦è¿˜æ˜¯è½¯ä»¶ç‰ˆæœ¬ï¼Œéƒ½éå¸¸çš„ä¸é”™ã€‚ å°†yumæºè®¾ç½®ä¸º163 yumï¼Œå¯ä»¥æé«˜æ‰©å±•å®‰è£…å’Œæ›´æ–°çš„é€Ÿåº¦ï¼ŒåŒæ—¶é¿å…ä¸€äº›å¸¸è§è½¯ä»¶ç‰ˆæœ¬æ— æ³•æ‰¾åˆ°ã€‚ å®‰è£…æ­¥éª¤é¦–å…ˆå¤‡ä»½/etc/yum.repos.d/CentOS-Base.repo mv / etc / yum ã€‚å›è´­ã€‚d / CentOSçš„-åŸºç¡€ã€‚å›è´­/ etc / yum ã€‚å›è´­ã€‚d / CentOSçš„-åŸºç¡€ã€‚å›è´­ã€‚åå¤‡ä¸‹è½½å¯¹åº”ç‰ˆæœ¬repoæ–‡ä»¶ï¼ŒåŠ å…¥/etc/yum.repos.d/ï¼ˆæ“ä½œå‰è¯·åšå¥½ç›¸åº”å¤‡ä»½ï¼‰ CentOS5ï¼šhttpï¼š//mirrors.163.com/.help/CentOS5-Base-163.repoCentOS6ï¼šhttpï¼š//mirrors.163.com/.help/CentOS6-Base-163.repoCentOS7ï¼šhttpï¼š//mirrors.163.com/.help/CentOS7-Base-163.repowgetçš„HTTP ï¼š//mirrors.163.com/.help/CentOS6-Base-163.repoMV CentOS6 -åŸºåœ°- 163.repoçš„CentOS -åŸºåœ°ã€‚å›è´­è¿è¡Œä»¥ä¸‹å‘½ä»¤ç”Ÿæˆç¼“å­˜ ç™¾èƒœæ¸…ç†æ‰€æœ‰yum makecacheé™¤äº†ç½‘æ˜“ä¹‹å¤–ï¼Œå›½å†…è¿˜æœ‰å…¶ä»–ä¸é”™çš„yumæºï¼ŒæŸäº›ä¸­ç§‘å¤§å’Œæœç‹ã€‚ ä¸­ç§‘å¤§çš„yumæºï¼Œå®‰è£…æ–¹æ³•æŸ¥çœ‹ï¼šhttps ://lug.ustc.edu.cn/wiki/mirrors/help/centos sohuçš„yumæºå®‰è£…æ–¹æ³•æŸ¥çœ‹ï¼šhttp : //mirrors.sohu.com/help/centos.html Linux apt å‘½ä»¤aptï¼ˆAdvanced Packaging Toolï¼‰æ˜¯ä¸€ä¸ªåœ¨ Debian å’Œ Ubuntu ä¸­çš„ Shell å‰ç«¯è½¯ä»¶åŒ…ç®¡ç†å™¨ã€‚apt å‘½ä»¤æä¾›äº†æŸ¥æ‰¾ã€å®‰è£…ã€å‡çº§ã€åˆ é™¤æŸä¸€ä¸ªã€ä¸€ç»„ç”šè‡³å…¨éƒ¨è½¯ä»¶åŒ…çš„å‘½ä»¤ï¼Œè€Œä¸”å‘½ä»¤ç®€æ´è€Œåˆå¥½è®°ã€‚ apt å‘½ä»¤æ‰§è¡Œéœ€è¦è¶…çº§ç®¡ç†å‘˜æƒé™(root)ã€‚ apt è¯­æ³• apt [options] [command] [package â€¦]optionsï¼šå¯é€‰ï¼Œé€‰é¡¹åŒ…æ‹¬ -hï¼ˆå¸®åŠ©ï¼‰ï¼Œ-yï¼ˆå½“å®‰è£…è¿‡ç¨‹æç¤ºé€‰æ‹©å…¨éƒ¨ä¸ºâ€yesâ€ï¼‰ï¼Œ-qï¼ˆä¸æ˜¾ç¤ºå®‰è£…çš„è¿‡ç¨‹ï¼‰ç­‰ç­‰ã€‚commandï¼šè¦è¿›è¡Œçš„æ“ä½œã€‚packageï¼šå®‰è£…çš„åŒ…åã€‚ apt å¸¸ç”¨å‘½ä»¤åˆ—å‡ºæ‰€æœ‰å¯æ›´æ–°çš„è½¯ä»¶æ¸…å•å‘½ä»¤ï¼šsudo apt update å‡çº§è½¯ä»¶åŒ…ï¼šsudo apt upgrade åˆ—å‡ºå¯æ›´æ–°çš„è½¯ä»¶åŒ…åŠç‰ˆæœ¬ä¿¡æ¯ï¼šapt list â€”upgradeable å‡çº§è½¯ä»¶åŒ…ï¼Œå‡çº§å‰å…ˆåˆ é™¤éœ€è¦æ›´æ–°è½¯ä»¶åŒ…ï¼šsudo apt full-upgrade å®‰è£…æŒ‡å®šçš„è½¯ä»¶å‘½ä»¤ï¼šsudo apt install å®‰è£…å¤šä¸ªè½¯ä»¶åŒ…ï¼šsudo apt install æ›´æ–°æŒ‡å®šçš„è½¯ä»¶å‘½ä»¤ï¼šsudo apt update æ˜¾ç¤ºè½¯ä»¶åŒ…å…·ä½“ä¿¡æ¯,ä¾‹å¦‚ï¼šç‰ˆæœ¬å·ï¼Œå®‰è£…å¤§å°ï¼Œä¾èµ–å…³ç³»ç­‰ç­‰ï¼šsudo apt show åˆ é™¤è½¯ä»¶åŒ…å‘½ä»¤ï¼šsudo apt remove æ¸…ç†ä¸å†ä½¿ç”¨çš„ä¾èµ–å’Œåº“æ–‡ä»¶: sudo apt autoremove ç§»é™¤è½¯ä»¶åŒ…åŠé…ç½®æ–‡ä»¶: sudo apt purge æŸ¥æ‰¾è½¯ä»¶åŒ…å‘½ä»¤ï¼š sudo apt search åˆ—å‡ºæ‰€æœ‰å·²å®‰è£…çš„åŒ…ï¼šapt list â€”installed åˆ—å‡ºæ‰€æœ‰å·²å®‰è£…çš„åŒ…çš„ç‰ˆæœ¬ä¿¡æ¯ï¼šapt list â€”all-versions å®ä¾‹æŸ¥çœ‹ä¸€äº›å¯æ›´æ–°çš„åŒ…ï¼š sudo apt update å‡çº§å®‰è£…åŒ…ï¼š sudo apt upgrade åœ¨ä»¥ä¸Šäº¤äº’å¼è¾“å…¥å­—æ¯ Y å³å¯å¼€å§‹å‡çº§ã€‚ å¯ä»¥å°†ä»¥ä¸‹ä¸¤ä¸ªå‘½ä»¤ç»„åˆèµ·æ¥ï¼Œä¸€é”®å‡çº§ï¼š sudo apt update &amp;&amp; sudo apt upgrade -yå®‰è£… mplayer åŒ…ï¼š sudo apt install mplayer å¦‚è¿‡ä¸å¤ªè®°å¾—å®Œæ•´çš„åŒ…åï¼Œæˆ‘ä»¬å¯ä»¥åªè¾“å…¥å‰åŠéƒ¨åˆ†çš„åŒ…åï¼Œç„¶åæŒ‰ä¸‹ Tab é”®ï¼Œä¼šåˆ—å‡ºç›¸å…³çš„åŒ…åï¼š ä»¥ä¸Šå®ä¾‹æˆ‘ä»¬è¾“å…¥æ¥ redsï¼Œç„¶åæŒ‰ä¸‹ Tab é”®ï¼Œè¾“å‡ºæ¥å››ä¸ªç›¸å…³çš„åŒ…ã€‚ å¦‚æœæˆ‘ä»¬æƒ³å®‰è£…ä¸€ä¸ªè½¯ä»¶åŒ…ï¼Œä½†å¦‚æœè½¯ä»¶åŒ…å·²ç»å­˜åœ¨ï¼Œåˆ™ä¸è¦å‡çº§å®ƒï¼Œå¯ä»¥ä½¿ç”¨ â€“no-upgrade é€‰é¡¹: sudo apt install â€”no-upgradeå®‰è£… mplayer å¦‚æœå­˜åœ¨åˆ™ä¸è¦å‡çº§ï¼š sudo apt install mplayer â€”no-upgrade å¦‚æœåªæƒ³å‡çº§ï¼Œä¸è¦å®‰è£…å¯ä»¥ä½¿ç”¨ â€”only-upgrade å‚æ•°ï¼š sudo apt install â€”only-upgradeåªå‡çº§ mplayerï¼Œå¦‚æœä¸å­˜åœ¨å°±ä¸è¦å®‰è£…å®ƒï¼š sudo apt install mplayer â€”only-upgrade å¦‚æœéœ€è¦è®¾ç½®æŒ‡å®šç‰ˆæœ¬ï¼Œè¯­æ³•æ ¼å¼å¦‚ä¸‹ï¼š sudo apt install =package_name ä¸ºåŒ…åï¼Œversion_number ä¸ºç‰ˆæœ¬å·ã€‚ ç§»é™¤åŒ…å¯ä»¥ä½¿ç”¨ remove å‘½ä»¤ï¼š sudo apt remove mplayer æŸ¥æ‰¾åä¸º libimobile çš„ç›¸å…³åŒ…ï¼š apt search libimobile æŸ¥çœ‹ pinta åŒ…çš„ç›¸å…³ä¿¡æ¯ï¼š apt show pinta åˆ—å‡ºå¯æ›´æ–°çš„è½¯ä»¶åŒ…ï¼š apt list â€”upgradeable æ¸…ç†ä¸å†ä½¿ç”¨çš„ä¾èµ–å’Œåº“æ–‡ä»¶ï¼š sudo apt autoremove åœ¨ä»¥ä¸Šäº¤äº’å¼è¾“å…¥å­—æ¯ Y å³å¯å¼€å§‹æ¸…ç†ã€‚ åº”ç”¨åœºæ™¯ç¦»çº¿/åœ¨çº¿ å®‰è£…å„ç§åŒ…åå°JAVAç›¸å…³RedisMysqlTomcatæŸ¥çœ‹tomcatå®æ—¶è¿è¡Œæ—¥å¿—ï¼šcd tomcat/log â€”&gt; tail -f catalina.out ç¨‹åºéƒ¨ç½²å‰å°ç¨‹åºéƒ¨ç½²å…¶ä»–Nginxæ–‡ä»¶æ“ä½œæ¸…ç†é€Ÿåº¦ä¼˜åŒ–è¿›ç¨‹ç®¡ç†æƒé™ç®¡ç†","link":"/2021/03/01/Draft/2021/Linux/"},{"title":"MYSQLä¼˜åŒ–","text":"MySqlçŸ¥è¯†åŠä¼˜åŒ– ç›¸å…³èµ„æºï¼šbiliè§†é¢‘ã€ Linuxä¸‹RPMç‰ˆMYSQLå®‰è£…ã€å¯åœMySQLå¯åŠ¨é—®é¢˜ã€é…ç½®æ–‡ä»¶ã€ç¼–ç é—®é¢˜MYSQLåˆ†å±‚ã€å­˜å‚¨å¼•æ“è¿æ¥å±‚ï¼ˆæä¾›ä¸å®¢æˆ·ç«¯è¿æ¥çš„æœåŠ¡ï¼‰ æœåŠ¡å±‚ï¼ˆæä¾›å„ç§ç”¨æˆ·ä½¿ç”¨çš„æ¥å£ï¼Œæä¾›SQLä¼˜åŒ–å™¨ã€MySQL Query Optimizerã€‘ï¼‰ï¼‰ å¼•æ“å±‚ï¼ˆæä¾›å„ç§å­˜å‚¨æ•°æ®çš„æ–¹å¼ã€InnoDBï¼šäº‹ç‰©ä¼˜å…ˆï¼Œé€‚åˆé«˜å¹¶å‘ï¼Œè¡Œé”ï¼›MyISAMï¼šæ€§èƒ½ä¼˜å…ˆï¼Œè¡¨é”ã€‘ï¼‰ show engines; æ˜¾ç¤ºæ”¯æŒå¼•æ“ +â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”+â€”â€”â€”â€”-+â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”+â€”â€”â€”â€”â€”â€”â€”+â€”â€”â€”+â€”â€”â€”â€”â€”â€”+| Engine | Support | Comment | Transactions | XA | Savepoints |+â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”+â€”â€”â€”â€”-+â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”+â€”â€”â€”â€”â€”â€”â€”+â€”â€”â€”+â€”â€”â€”â€”â€”â€”+| MEMORY | YES | Hash based, stored in memory, useful for temporary tables | NO | NO | NO || MRG_MYISAM | YES | Collection of identical MyISAM tables | NO | NO | NO || CSV | YES | CSV storage engine | NO | NO | NO || FEDERATED | NO | Federated MySQL storage engine | NULL | NULL | NULL || PERFORMANCE_SCHEMA | YES | Performance Schema | NO | NO | NO || MyISAM | YES | MyISAM storage engine | NO | NO | NO || InnoDB | DEFAULT | Supports transactions, row-level locking, and foreign keys | YES | YES | YES || BLACKHOLE | YES | /dev/null storage engine (anything you write to it disappears) | NO | NO | NO || ARCHIVE | YES | Archive storage engine | NO | NO | NO |+â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”+â€”â€”â€”â€”-+â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”+â€”â€”â€”â€”â€”â€”â€”+â€”â€”â€”+â€”â€”â€”â€”â€”â€”+ show variables like â€˜%storage_engine%â€™; æŸ¥çœ‹å½“å‰ä½¿ç”¨å¼•æ“ 12345678-- æŒ‡å®šæ•°æ®åº“å¼•æ“create table tb(â€‹ id int(4) auto_increment,â€‹ name varchar(5),â€‹ dept varchar(5),â€‹ primary key(id))ENGINE=MyISAM AUTO_INCREMENT=1DEFAULT CHARSET=utf-8 å­˜å‚¨å±‚ï¼ˆå­˜å‚¨æ•°æ®ï¼‰ SQLè§£æè¿‡ç¨‹ã€ç´¢å¼•ã€Bæ ‘sqlä¼˜åŒ–ï¼šåŸå› ï¼šæ€§èƒ½ä½ï¼Œæ‰§è¡Œæˆ–ç­‰å¾…æ—¶é—´å¤ªé•¿ï¼ŒSQLè¯­å¥æ¬ ä½³ï¼ˆè¿æ¥æŸ¥è¯¢ï¼‰ã€ç´¢å¼•å¤±æ•ˆã€æœåŠ¡å™¨å‚æ•°è®¾ç½®ä¸å¯¹ SQLç¼–å†™è¿‡ç¨‹ä¸è§£æè¿‡ç¨‹ï¼š ç¼–å†™:select dinstinct ..from â€¦join ..on ..where ..group by ..having ..order by ..limit è§£æ:form ..on ..join ..where ..group vy ..having ..select dinstinct ..order by limit.. ç´¢å¼•ç®€ä»‹sqlä¼˜åŒ–ä¸»è¦æ˜¯ä¼˜åŒ–ç´¢å¼•ï¼Œç´¢å¼•ï¼ˆindexï¼‰ç›¸å½“äºä¹¦çš„ç›®å½•ã€‚ç´¢å¼•æ˜¯æ•°æ®ç»“æ„ï¼ˆé»˜è®¤Bæ ‘ã€å°å·¦å¤§å³ã€‘ï¼‰ ä¼˜ç‚¹ æé«˜æŸ¥è¯¢æ•ˆç‡ï¼ˆé™ä½IOã€CPUä½¿ç”¨ç‡ï¼‰ ç¼ºç‚¹ ç´¢å¼•æœ¬èº«å¾ˆå¤§ï¼ˆå¯ä»¥å­˜æ”¾åœ¨å†…å­˜/ç¡¬ç›˜ï¼‰ ç´¢å¼•ä¸æ˜¯æ‰€æœ‰æƒ…å†µéƒ½é€‚ç”¨ï¼šå°‘é‡æ•°æ®ï¼Œé¢‘ç¹æ›´æ–°å­—æ®µï¼Œå¾ˆå°‘ä½¿ç”¨çš„å­—æ®µ ç´¢å¼•ä¼šé™ä½å¢åˆ æ”¹æŸ¥æ•ˆç‡ åˆ†ç±»å•å€¼ç´¢å¼•ï¼šå•å­—æ®µ å”¯ä¸€ç´¢å¼•ï¼šä¸èƒ½é‡å¤ ä¸»é”®ç´¢å¼•ï¼šä¸èƒ½é‡å¤ï¼Œä¸èƒ½ä¸ºnullï¼Œä¸»é”®é»˜è®¤æ˜¯ä¸»é”®ç´¢å¼• å¤åˆç´¢å¼•ï¼šç›¸å½“äºäºŒçº§ç›®å½•ï¼ˆnameï¼Œageï¼‰ åˆ›å»ºç´¢å¼•æ–¹å¼ä¸€create ç´¢å¼•ç±»å‹ ç´¢å¼•å on è¡¨ï¼ˆå­—æ®µï¼‰ å•å€¼ç´¢å¼•ï¼šcreate index dept_index on tb(dept); å”¯ä¸€ç´¢å¼•ï¼šcreate unique index name-index on tb(name) å¤åˆç´¢å¼•ï¼šcreate index dept_name_index on tb(dept,name); æ–¹å¼äºŒalter table è¡¨å add ç´¢å¼•ç±»å‹ ç´¢å¼•åï¼ˆå­—æ®µï¼‰ å•å€¼ç´¢å¼•ï¼šalter table tb add index dept_index(dept); å”¯ä¸€ç´¢å¼•ï¼šalter table tb add unique index name-index(name) å¤åˆç´¢å¼•ï¼šalter table tb add index dept_name_index(dept,name); åˆ é™¤ç´¢å¼•drop index ç´¢å¼•å on è¡¨å æŸ¥è¯¢ç´¢å¼•show index from è¡¨å\\G SQLä¼˜åŒ–å‡†å¤‡åˆ†æSQLçš„æ‰§è¡Œè®¡åˆ’ï¼šexplain+sqlè¯­å¥ï¼Œæ¨¡æ‹Ÿsqlä¼˜åŒ–å™¨æ‰§è¡Œsqlè¯­å¥ï¼Œä»è€Œè®©å¼€å‘äººå‘˜çŸ¥é“è‡ªå·±SQLè¯­å¥æƒ…å†µ id select_type table partitions type possible_keys key key_len ref rows filtered Extra1 SIMPLE user const PRIMARY PRIMARY 152 const 1 100.00 id ç¼–å· å­æŸ¥è¯¢idä¸åŒï¼Œå…³è”æŸ¥è¯¢ç›¸åŒ select_type æŸ¥è¯¢ç±»å‹** table æŸ¥è¯¢è¡¨ idç›¸åŒæ•°æ®é‡è¶Šå°‘è¶Šä¼˜å…ˆæŸ¥è¯¢ï¼Œidä¸é€šidè¶Šå¤§è¶Šä¼˜å…ˆ partitions type ç±»å‹ possible_keys é¢„æµ‹ç”¨åˆ°çš„ç´¢å¼• key å®é™…ç”¨åˆ°çš„ç´¢å¼• key_len å®é™…ä½¿ç”¨ç´¢å¼•çš„é•¿åº¦ ref è¡¨ä¹‹é—´çš„å¼•ç”¨ rows é€šè¿‡ç´¢å¼•æŸ¥è¯¢åˆ°çš„æ•°æ®é‡ filtered Extra é¢å¤–çš„ä¿¡æ¯ idã€tableå…ˆæŸ¥å†…å±‚ï¼Œå†æŸ¥å¤–å±‚ã€‚å­æŸ¥è¯¢idä¸åŒï¼Œå…³è”æŸ¥è¯¢idç›¸åŒã€‚ idç›¸åŒæ•°æ®é‡è¶Šå°‘è¶Šä¼˜å…ˆæŸ¥è¯¢ï¼Œidä¸é€šidè¶Šå¤§è¶Šä¼˜å…ˆ explain SELECT * from teacher where tid=(select tid from course where cid=â€™2â€™) or tcid=(select tcid from teachercard where tcid=â€™3â€™) explain select t.* from teacher t,course c,teacherCard tc where t.tid=c.tid and t.tcid=tc.tcid and (c.cid=â€™2â€™ or tc.tcid=â€™3â€™) select_typeï¼ˆæŸ¥è¯¢ç±»å‹ï¼‰PRIMARYï¼šåŒ…å«å­æŸ¥è¯¢SQLä¸­çš„ ä¸»æŸ¥è¯¢ï¼ˆæœ€å¤–å±‚ï¼‰ SUBQUERYï¼šåŒ…å«å­æŸ¥è¯¢SQLä¸­çš„å­æŸ¥è¯¢ï¼ˆéæœ€å¤–å±‚ï¼‰ SIMPLEï¼šç®€å•æŸ¥è¯¢ï¼ˆä¸åŒ…å«å­æŸ¥è¯¢ã€unionï¼‰ unionï¼š derivedï¼šè¡ç”ŸæŸ¥è¯¢ï¼ˆä½¿ç”¨åˆ°äº†ä¸´æ—¶è¡¨ï¼‰ åœ¨formå­æŸ¥è¯¢ä¸­åªæœ‰ä¸€å¼ è¡¨ explain select cr.cname from (select * from course where tid in (1,2)) cr; formå­æŸ¥è¯¢ä¸­ï¼Œå¦‚æœæœ‰table1 union table2ï¼Œåˆ™table1 å°±æ˜¯çš„riverd explain select cr.cname from (select from course where tid =1 union select from course where tid =2) cr; typeï¼ˆç´¢å¼•ç±»å‹ï¼‰system &gt; const &gt; eq_ref &gt; ref &gt; range &gt; index &gt; all å¯¹TYPEä¼˜åŒ–å‰æï¼šæœ‰ç´¢å¼• systemï¼ŒconstçŸ¥è¯†ç†æƒ³æƒ…å†µï¼Œå®é™…èƒ½è¾¾åˆ° ref &gt;range systemï¼ˆå¿½ç•¥ï¼‰ï¼šåªæœ‰ä¸€æ¡æ•°æ®çš„ç³»ç»Ÿè¡¨ï¼›æˆ–è¡ç”Ÿè¡¨åªæœ‰ä¸€æ¡æ•°æ®çš„ä¸»æŸ¥è¯¢ constï¼šä»…ä»…èƒ½æŸ¥åˆ°ä¸€æ¡æ•°æ®çš„SQLï¼Œç”¨äºPrimayr key æˆ–uniqueç´¢å¼•ï¼ˆç±»å‹ä¸ç´¢å¼•ç±»å‹æœ‰å…³ï¼‰ eq_refï¼šå”¯ä¸€æ€§ç´¢å¼•ï¼šå¯¹äºæ¯ä¸ªç´¢å¼•å»ºçš„æŸ¥è¯¢ï¼Œè¿”å›åŒ¹é…å”¯ä¸€è¡Œæ•°æ®ï¼ˆæœ‰ä¸”åªæœ‰1ä¸ªï¼Œä¸èƒ½å¤šã€ä¸èƒ½0ï¼‰ select Â·Â· from Â·Â·where name=Â·Â·Â·å¸¸è§å”¯ä¸€ç´¢å¼•å’Œä¸»é”®ç´¢å¼• refï¼šéå”¯ä¸€æ€§ç´¢å¼•ï¼Œå¯¹äºæ¯ä¸ªç´¢å¼•å»ºçš„æŸ¥è¯¢ï¼Œè¿”å›åŒ¹é…çš„æ‰€æœ‰è¡Œï¼ˆ0ï¼Œå¤šï¼‰ rangeï¼šæ£€ç´¢æŒ‡å®šèŒƒå›´çš„è¡Œï¼Œwhereåé¢æ˜¯ä¸€ä¸ªèŒƒå›´æŸ¥è¯¢ï¼ˆbetweenï¼Œinï¼Œ&gt; &lt; &gt;=ï¼Œinæœ‰æ—¶å€™ä¼šå¤±æ•ˆï¼Œä»è€Œè½¬ä¸ºallï¼‰ indexï¼šæŸ¥è¯¢å…¨éƒ¨ç´¢å¼•ä¸­çš„æ•°æ®ï¼Œåªéœ€è¦æ‰«æç´¢å¼•è¡¨ï¼Œä¸éœ€è¦æ‰€æœ‰è¡¨ä¸­çš„æ‰€æœ‰æ•°æ® allï¼šæŸ¥è¯¢å…¨éƒ¨è¡¨ä¸­çš„æ•°æ®ï¼Œéœ€è¦å…¨è¡¨æ‰€æœ‰ï¼Œå³éœ€è¦æ‰€æœ‰è¡¨ä¸­çš„æ‰€æœ‰æ•°æ® possible_keyså¯èƒ½ç”¨åˆ°çš„ç´¢å¼•ï¼Œæ˜¯ä¸€ç§é¢„æµ‹ï¼Œä¸å‡† keyå®é™…ç”¨åˆ°çš„ç´¢å¼• key_lenï¼šç´¢å¼•é•¿åº¦ï¼Œç”¨äºåˆ¤æ–­å¤åˆç´¢å¼•æ˜¯å¦å®Œå…¨ä½¿ç”¨ï¼Œå¦‚æœç´¢å¼•å­—æ®µå¯ä¸ºnullï¼Œåˆ™ä¼šä½¿ç”¨1ä¸ªå­—èŠ‚ç”¨äºæ ‡è¯†ï¼Œç´¢å¼•å­—æ®µä¸ºå¯å˜é•¿åº¦ï¼Œåˆ™ä¼šä½¿ç”¨2ä¸ªå­—èŠ‚ refæ³¨æ„ä¸typeå€¼ä¸­çš„refå€¼åŒºåˆ† ä½œç”¨ï¼šæŒ‡æ˜å½“å‰è¡¨æ‰€å‚ç…§çš„å­—æ®µ select ã€‚ã€‚ã€‚ where a.c=b.x ï¼ˆï¼‰ rowsè¢«ç´¢å¼•ä¼˜åŒ–æŸ¥è¯¢çš„æ•°æ®ä¸ªæ•°ï¼ˆå®é™…é€šè¿‡ç´¢å¼•è€ŒæŸ¥è¯¢åˆ°çš„æ•°æ®ä¸ªæ•°ï¼‰ extrausing filesortï¼šæ€§èƒ½æ¶ˆè€—å¤§,éœ€è¦é¢å¤–çš„ä¸€æ¬¡æ’åºï¼ˆæŸ¥è¯¢ï¼‰ å•ç´¢å¼•ï¼šå¦‚æœæ’åºå’ŒæŸ¥æ‰¾æ˜¯åŒä¸€ä¸ªå­—æ®µï¼Œåˆ™ä¸ä¼šå‡ºç°using filesort ï¼›å¦‚æœæ’åºå’ŒæŸ¥æ‰¾ä¸æ˜¯åŒä¸€ä¸ªå­—æ®µï¼Œåˆ™ä¼šå‡ºç°ã€‚ é¿å…ï¼šwhereå“ªäº›å­—æ®µå°±order byå“ªäº›å­—æ®µ å¤åˆç´¢å¼•ï¼šä¸èƒ½è·¨åˆ—ï¼ˆæœ€ä½³å·¦å‰ç¼€ï¼‰ é¿å…ï¼šwhereå’Œorder by æŒ‰ç…§å¤åˆç´¢å¼•çš„é¡ºåºé€‚åº”ï¼Œä¸è¦è·¨åˆ—æˆ–æ— åºä½¿ç”¨ using temporaryï¼šæ€§èƒ½æŸè€—è¾ƒå¤§ï¼Œç”¨åˆ°äº†ä¸´æ—¶è¡¨ã€‚ä¸€èˆ¬å‡ºç°åœ¨ group by è¯­å¥ä¸­ï¼› explain select a1 from test02 where a1 in(â€˜1â€™,â€™2â€™,â€™3â€™) group by a1; explain select a1 from test02 where a1 in(â€˜1â€™,â€™2â€™,â€™3â€™) group by a2; â€”â€“using tempporary é¿å…ï¼šæŸ¥è¯¢å“ªäº›åˆ—ï¼Œå°±æ ¹æ®å“ªäº›åˆ—group by using temporaryï¼šæ€§èƒ½æå‡ï¼Œç´¢å¼•è¦†ç›–ï¼ŒåŸå› ï¼šä¸è¯»å–æºæ–‡ä»¶ï¼Œåªä»ç´¢å¼•ä¸­è·å–æ•°æ®ï¼Œä½¿ç”¨åˆ°çš„åˆ—å…¨éƒ¨éƒ½åœ¨ç´¢å¼•ä¸­ using whereï¼šéœ€è¦å›åŸè¡¨æŸ¥è¯¢ impossible whereï¼šwhereå­å¥æ°¸è¿œä¸ºfalse ä¼˜åŒ–ç¤ºä¾‹create table test03(a1 int(4) not null,a2 int(4) not null,a3 int(4) not null,a4 int(4) not null) alter table test03 add index idx_a1_a2_a3_a4(a1,a2,a3,a4); explain select a1,a2,a3,a4 from test03 where a1=1 and a2=2 and a3=3 and a4=4;â€”-æ¨èå†™æ³• explain select a1,a2,a3,a4 from test03 where a4=1 and a2=2 and a1=3 and a4=4;â€”-è™½ç„¶ç¼–å†™åçš„é¡ºåºå’Œç´¢å¼•é¡ºåºä¸ä¸€è‡´ï¼Œä½†æ˜¯sqlæ‰§è¡Œå‰ç»è¿‡äº†sqlä¼˜åŒ–å™¨çš„è°ƒæ•´ï¼Œç»“æœä¸ä¸Šæ¡sqlæ˜¯ä¸€è‡´çš„ã€‚ â€”â€“ä»¥ä¸Šä¸¤ä¸ªsqlä½¿ç”¨äº†å…¨éƒ¨çš„ç´¢å¼• explain select a1,a2,a3,a4 from test03 where a4=1 and a2=2 and a4=4 order by and a1; â€”-ä»¥ä¸ŠSQLç”¨åˆ°äº†a1 a2ä¸¤ä¸ªç´¢å¼•ï¼Œè¯¥ä¸¤ä¸ªå­—æ®µ ä¸éœ€è¦å›è¡¨æŸ¥è¯¢using index ï¼›a4è·¨åˆ—ä½¿ç”¨é€ æˆäº†è¯¥ç´¢å¼•å¤±æ•ˆï¼Œæ‰€ä»¥éœ€è¦å›è¡¨æŸ¥è¯¢ï¼Œå› æ­¤æ˜¯using where ï¼Œä»¥ä¸Šå¯ä»¥é€šè¿‡key_lenéªŒè¯ explain select a1,a2,a3,a4 from test03 where a4=1 and a4=4 order by and a3; â€”-ä»¥ä¸ŠSQLå‡ºç°äº†using filesortï¼ˆæ–‡ä»¶å†…æ’åºï¼Œâ€å¤šäº†ä¸€æ¬¡é¢å¤–çš„æŸ¥æ‰¾/æ’åºâ€œï¼‰ä¸è¦è·¨åˆ—ä½¿ç”¨ï¼ˆwhere å’Œorder byæ‹¼æ¥èµ·æ¥ä½¿ç”¨ï¼‰ explain select a1,a2,a3,a4 from test03 where a4=1 and a4=4 order by and a2,a3; ===è¿™æ ·ä¾¿ä¸ä¼šå‡ºç° using filesortï¼Œå¦‚æœå¤åˆç´¢å¼•å’Œä½¿ç”¨é¡ºåºå…¨éƒ¨ä¸€è‡´ï¼Œåˆ™å¤åˆç´¢å¼•å…¨éƒ¨ä½¿ç”¨ï¼Œéƒ¨åˆ†ä¸€è‡´åˆ™ä½¿ç”¨éƒ¨åˆ†ç´¢å¼•ã€‚ å•è¡¨ä¼˜åŒ–åŠæ€»ç»“ï¼ˆ1ï¼‰å•è¡¨ä¼˜åŒ–create table book( bid int(4) primary key, name varchar(20) not null, authorid int(4) not null, publicid int(4) not null, typeid int(4) not null); insert into book values(1,â€™tjavaâ€™,1,1,2) ;insert into book values(2,â€™tcâ€™,2,1,2) ;insert into book values(3,â€™wxâ€™,3,2,1) ;insert into book values(4,â€™mathâ€™,4,2,3) ;commit; æŸ¥è¯¢authorid=1ä¸” typeidä¸º2æˆ–3çš„ bid explain select bid from book where typeid in(2,3) and authorid=1 order by typeid desc ; (a,b,c) (a,b) ä¼˜åŒ–ï¼šåŠ ç´¢å¼• alter table book add index idx_bta (bid,typeid,authorid); ç´¢å¼•ä¸€æ—¦è¿›è¡Œ å‡çº§ä¼˜åŒ–ï¼Œéœ€è¦å°†ä¹‹å‰åºŸå¼ƒçš„ç´¢å¼•åˆ æ‰ï¼Œé˜²æ­¢å¹²æ‰°ã€‚ drop index idx_bta on book; æ ¹æ®SQLå®é™…è§£æçš„é¡ºåºï¼Œè°ƒæ•´ç´¢å¼•çš„é¡ºåºï¼š alter table book add index idx_tab (typeid,authorid,bid); --è™½ç„¶å¯ä»¥å›è¡¨æŸ¥è¯¢bidï¼Œä½†æ˜¯å°†bidæ”¾åˆ°ç´¢å¼•ä¸­ å¯ä»¥æå‡ä½¿ç”¨using index ; å†æ¬¡ä¼˜åŒ–ï¼ˆä¹‹å‰æ˜¯indexçº§åˆ«ï¼‰ï¼šæ€è·¯ã€‚å› ä¸ºèŒƒå›´æŸ¥è¯¢inæœ‰æ—¶ä¼šå®ç°ï¼Œå› æ­¤äº¤æ¢ ç´¢å¼•çš„é¡ºåºï¼Œå°†typeid in(2,3) æ”¾åˆ°æœ€åã€‚ drop index idx_tab on book; alter table book add index idx_atb (authorid,typeid,bid); explain select bid from book where authorid=1 and typeid in(2,3) order by typeid desc ; â€‹â€‹ â€”å°ç»“ï¼š a.æœ€ä½³åšå‰ç¼€ï¼Œä¿æŒç´¢å¼•çš„å®šä¹‰å’Œä½¿ç”¨çš„é¡ºåºä¸€è‡´æ€§ b.ç´¢å¼•éœ€è¦é€æ­¥ä¼˜åŒ– c.å°†å«Inçš„èŒƒå›´æŸ¥è¯¢ æ”¾åˆ°whereæ¡ä»¶çš„æœ€åï¼Œé˜²æ­¢å¤±æ•ˆã€‚â€‹â€‹ æœ¬ä¾‹ä¸­åŒæ—¶å‡ºç°äº†Using whereï¼ˆéœ€è¦å›åŸè¡¨ï¼‰; Using indexï¼ˆä¸éœ€è¦å›åŸè¡¨ï¼‰ï¼šåŸå› ï¼Œwhere authorid=1 and typeid in(2,3)ä¸­authoridåœ¨ç´¢å¼•(authorid,typeid,bid)ä¸­ï¼Œå› æ­¤ä¸éœ€è¦å›åŸè¡¨ï¼ˆç›´æ¥åœ¨ç´¢å¼•è¡¨ä¸­èƒ½æŸ¥åˆ°ï¼‰ï¼›è€Œtypeidè™½ç„¶ä¹Ÿåœ¨ç´¢å¼•(authorid,typeid,bid)ä¸­ï¼Œä½†æ˜¯å«inçš„èŒƒå›´æŸ¥è¯¢å·²ç»ä½¿è¯¥typeidç´¢å¼•å¤±æ•ˆï¼Œå› æ­¤ç›¸å½“äºæ²¡æœ‰typeidè¿™ä¸ªç´¢å¼•ï¼Œæ‰€ä»¥éœ€è¦å›åŸè¡¨ï¼ˆusing whereï¼‰ï¼›â€‹ ä¾‹å¦‚ä»¥ä¸‹æ²¡æœ‰äº†Inï¼Œåˆ™ä¸ä¼šå‡ºç°using whereâ€‹ explain select bid from book where authorid=1 and typeid =3 order by typeid desc ;â€‹â€‹ è¿˜å¯ä»¥é€šè¿‡key_lenè¯æ˜Inå¯ä»¥ä½¿ç´¢å¼•å¤±æ•ˆã€‚ â€‹ ï¼ˆ2ï¼‰ä¸¤è¡¨ä¼˜åŒ–create table teacher2( tid int(4) primary key, cid int(4) not null); insert into teacher2 values(1,2);insert into teacher2 values(2,1);insert into teacher2 values(3,3); create table course2( cid int(4) , cname varchar(20)); insert into course2 values(1,â€™javaâ€™);insert into course2 values(2,â€™pythonâ€™);insert into course2 values(3,â€™kotlinâ€™);commit; å·¦è¿æ¥ï¼š explain select *from teacher2 t left outer join course2 c on t.cid=c.cid where c.cname=â€™javaâ€™; ç´¢å¼•å¾€å“ªå¼ è¡¨åŠ ï¼Ÿ -å°è¡¨é©±åŠ¨å¤§è¡¨ -ç´¢å¼•å»ºç«‹ç»å¸¸ä½¿ç”¨çš„å­—æ®µä¸Š ï¼ˆæœ¬é¢˜ t.cid=c.cidå¯çŸ¥ï¼Œt.cidå­—æ®µä½¿ç”¨é¢‘ç¹ï¼Œå› æ­¤ç»™è¯¥å­—æ®µåŠ ç´¢å¼•ï¼‰ [ä¸€èˆ¬æƒ…å†µå¯¹äºå·¦å¤–è¿æ¥ï¼Œç»™å·¦è¡¨åŠ ç´¢å¼•ï¼›å³å¤–è¿æ¥ï¼Œç»™å³è¡¨åŠ ç´¢å¼•] å°è¡¨ï¼š10 å¤§è¡¨ï¼š300 where å°è¡¨.x 10 = å¤§è¡¨.y 300; --å¾ªç¯äº†å‡ æ¬¡ï¼Ÿ10 å¤§è¡¨.y 300=å°è¡¨.x 10 --å¾ªç¯äº†300æ¬¡ å°è¡¨:10 å¤§è¡¨:300 select ...where å°è¡¨.x10=å¤§è¡¨.x300 ; for(int i=0;i&lt;å°è¡¨.length10;i++) { for(int j=0;j&lt;å¤§è¡¨.length300;j++) { ... } } select ...where å¤§è¡¨.x300=å°è¡¨.x10 ; for(int i=0;i&lt;å¤§è¡¨.length300;i++) { for(int j=0;j&lt;å°è¡¨.length10;j++) { ... } } â€”ä»¥ä¸Š2ä¸ªFORå¾ªç¯ï¼Œæœ€ç»ˆéƒ½ä¼šå¾ªç¯3000æ¬¡ï¼›ä½†æ˜¯ å¯¹äºåŒå±‚å¾ªç¯æ¥è¯´ï¼šä¸€èˆ¬å»ºè®® å°†æ•°æ®å°çš„å¾ªç¯ æ”¾å¤–å±‚ï¼›æ•°æ®å¤§çš„å¾ªç¯æ”¾å†…å­˜ã€‚ --å½“ç¼–å†™ ..on t.cid=c.cid æ—¶ï¼Œå°†æ•°æ®é‡å°çš„è¡¨ æ”¾å·¦è¾¹ï¼ˆå‡è®¾æ­¤æ—¶tè¡¨æ•°æ®é‡å°ï¼‰ alter table teacher2 add index index_teacher2_cid(cid) ; alter table course2 add index index_course2_cname(cname); Using join buffer:extraä¸­çš„ä¸€ä¸ªé€‰é¡¹ï¼Œä½œç”¨ï¼šMysqlå¼•æ“ä½¿ç”¨äº† è¿æ¥ç¼“å­˜ã€‚ ï¼ˆ3ï¼‰ä¸‰å¼ è¡¨ä¼˜åŒ–â€‹ a.å°è¡¨é©±åŠ¨å¤§è¡¨ b.ç´¢å¼•å»ºç«‹åœ¨ç»å¸¸æŸ¥è¯¢çš„å­—æ®µä¸Š ç¤ºä¾‹ï¼šcreate table test03( a1 int(4) not null, a2 int(4) not null, a3 int(4) not null, a4 int(4) not null);alter table test03 add index idx_a1_a2_a3_4(a1,a2,a3,a4) ; 12345678910explain select a1,a2,a3,a4 from test03 where a1=1 and a2=2 and a3=3 and a4 =4 ; --æ¨èå†™æ³•ï¼Œå› ä¸º ç´¢å¼•çš„ä½¿ç”¨é¡ºåºï¼ˆwhereåé¢çš„é¡ºåºï¼‰ å’Œ å¤åˆç´¢å¼•çš„é¡ºåºä¸€è‡´explain select a1,a2,a3,a4 from test03 where a4=1 and a3=2 and a2=3 and a1 =4 ; --è™½ç„¶ç¼–å†™çš„é¡ºåº å’Œç´¢å¼•é¡ºåºä¸ä¸€è‡´ï¼Œä½†æ˜¯ sqlåœ¨çœŸæ­£æ‰§è¡Œå‰ ç»è¿‡äº†SQLä¼˜åŒ–å™¨çš„è°ƒæ•´ï¼Œç»“æœä¸ä¸Šæ¡SQLæ˜¯ä¸€è‡´çš„ã€‚--ä»¥ä¸Š 2ä¸ªSQLï¼Œä½¿ç”¨äº† å…¨éƒ¨çš„å¤åˆç´¢å¼•explain select a1,a2,a3,a4 from test03 where a1=1 and a2=2 and a4=4 order by a3; --ä»¥ä¸ŠSQLç”¨åˆ°äº†a1 a2ä¸¤ä¸ªç´¢å¼•ï¼Œè¯¥ä¸¤ä¸ªå­—æ®µ ä¸éœ€è¦å›è¡¨æŸ¥è¯¢using index ;è€Œa4å› ä¸ºè·¨åˆ—ä½¿ç”¨ï¼Œé€ æˆäº†è¯¥ç´¢å¼•å¤±æ•ˆï¼Œéœ€è¦å›è¡¨æŸ¥è¯¢ å› æ­¤æ˜¯using whereï¼›ä»¥ä¸Šå¯ä»¥é€šè¿‡ key_lenè¿›è¡ŒéªŒè¯explain select a1,a2,a3,a4 from test03 where a1=1 and a4=4 order by a3; --ä»¥ä¸ŠSQLå‡ºç°äº† using filesort(æ–‡ä»¶å†…æ’åºï¼Œâ€œå¤šäº†ä¸€æ¬¡é¢å¤–çš„æŸ¥æ‰¾/æ’åºâ€) ï¼šä¸è¦è·¨åˆ—ä½¿ç”¨( whereå’Œorder by æ‹¼èµ·æ¥ï¼Œä¸è¦è·¨åˆ—ä½¿ç”¨) 1explain select a1,a2,a3,a4 from test03 where a1=1 and a4=4 order by a2 , a3; --ä¸ä¼šusing filesort 123--æ€»ç»“ï¼ši.å¦‚æœ (a,b,c,d)å¤åˆç´¢å¼• å’Œä½¿ç”¨çš„é¡ºåºå…¨éƒ¨ä¸€è‡´(ä¸”ä¸è·¨åˆ—ä½¿ç”¨)ï¼Œåˆ™å¤åˆç´¢å¼•å…¨éƒ¨ä½¿ç”¨ã€‚å¦‚æœéƒ¨åˆ†ä¸€è‡´(ä¸”ä¸è·¨åˆ—ä½¿ç”¨)ï¼Œåˆ™ä½¿ç”¨éƒ¨åˆ†ç´¢å¼•ã€‚select a,c where a = and b= and d= ii.whereå’Œorder by æ‹¼èµ·æ¥ï¼Œä¸è¦è·¨åˆ—ä½¿ç”¨ 1using temporary:éœ€è¦é¢å¤–å†å¤šä½¿ç”¨ä¸€å¼ è¡¨. ä¸€èˆ¬å‡ºç°åœ¨group byè¯­å¥ä¸­ï¼›å·²ç»æœ‰è¡¨äº†ï¼Œä½†ä¸é€‚ç”¨ï¼Œå¿…é¡»å†æ¥ä¸€å¼ è¡¨ã€‚ è§£æè¿‡ç¨‹ï¼šfrom .. on.. join ..where ..group by â€¦.having â€¦select dinstinct ..order by limit â€¦ a. explain select from test03 where a2=2 and a4=4 group by a2,a4 ;â€”æ²¡æœ‰using temporary b. explain select from test03 where a2=2 and a4=4 group by a3 ; é¿å…ç´¢å¼•å¤±æ•ˆçš„ä¸€äº›åŸåˆ™12345678910111213141516171819202122232425ï¼ˆ1ï¼‰å¤åˆç´¢å¼• a.å¤åˆç´¢å¼•ï¼Œä¸è¦è·¨åˆ—æˆ–æ— åºä½¿ç”¨ï¼ˆæœ€ä½³å·¦å‰ç¼€ï¼‰ (a,b,c) b.å¤åˆç´¢å¼•ï¼Œå°½é‡ä½¿ç”¨å…¨ç´¢å¼•åŒ¹é… (a,b,c) ï¼ˆ2ï¼‰ä¸è¦åœ¨ç´¢å¼•ä¸Šè¿›è¡Œä»»ä½•æ“ä½œï¼ˆè®¡ç®—ã€å‡½æ•°ã€ç±»å‹è½¬æ¢ï¼‰ï¼Œå¦åˆ™ç´¢å¼•å¤±æ•ˆ select ..where A.x = .. ; --å‡è®¾A.xæ˜¯ç´¢å¼• ä¸è¦ï¼šselect ..where A.x*3 = .. ; explain select * from book where authorid = 1 and typeid = 2 ;--ç”¨åˆ°äº†at2ä¸ªç´¢å¼• explain select * from book where authorid = 1 and typeid*2 = 2 ;--ç”¨åˆ°äº†a1ä¸ªç´¢å¼• explain select * from book where authorid*2 = 1 and typeid*2 = 2 ;----ç”¨åˆ°äº†0ä¸ªç´¢å¼• explain select * from book where authorid*2 = 1 and typeid = 2 ;----ç”¨åˆ°äº†0ä¸ªç´¢å¼•,åŸå› ï¼šå¯¹äºå¤åˆç´¢å¼•ï¼Œå¦‚æœå·¦è¾¹å¤±æ•ˆï¼Œå³ä¾§å…¨éƒ¨å¤±æ•ˆã€‚(a,b,c)ï¼Œä¾‹å¦‚å¦‚æœ bå¤±æ•ˆï¼Œåˆ™b cåŒæ—¶å¤±æ•ˆã€‚ drop index idx_atb on book ; alter table book add index idx_authroid (authorid) ; alter table book add index idx_typeid (typeid) ; explain select * from book where authorid*2 = 1 and typeid = 2 ;ï¼ˆ3ï¼‰å¤åˆç´¢å¼•ä¸èƒ½ä½¿ç”¨ä¸ç­‰äºï¼ˆ!= &lt;&gt;ï¼‰æˆ–is null (is not null)ï¼Œå¦åˆ™è‡ªèº«ä»¥åŠå³ä¾§æ‰€æœ‰å…¨éƒ¨å¤±æ•ˆã€‚ å¤åˆç´¢å¼•ä¸­å¦‚æœæœ‰&gt;ï¼Œåˆ™è‡ªèº«å’Œå³ä¾§ç´¢å¼•å…¨éƒ¨å¤±æ•ˆã€‚explain select * from book where authorid = 1 and typeid =2 ;-- SQLä¼˜åŒ–ï¼Œæ˜¯ä¸€ç§æ¦‚ç‡å±‚é¢çš„ä¼˜åŒ–ã€‚è‡³äºæ˜¯å¦å®é™…ä½¿ç”¨äº†æˆ‘ä»¬çš„ä¼˜åŒ–ï¼Œéœ€è¦é€šè¿‡explainè¿›è¡Œæ¨æµ‹ã€‚explain select * from book where authorid != 1 and typeid =2 ;explain select * from book where authorid != 1 and typeid !=2 ; 1234567891011121314151617181920212223242526ä½“éªŒæ¦‚ç‡æƒ…å†µ(&lt; &gt; =)ï¼šåŸå› æ˜¯æœåŠ¡å±‚ä¸­æœ‰SQLä¼˜åŒ–å™¨ï¼Œå¯èƒ½ä¼šå½±å“æˆ‘ä»¬çš„ä¼˜åŒ–ã€‚drop index idx_typeid on book;drop index idx_authroid on book;alter table book add index idx_book_at (authorid,typeid);explain select * from book where authorid = 1 and typeid =2 ;--å¤åˆç´¢å¼•atå…¨éƒ¨ä½¿ç”¨explain select * from book where authorid &gt; 1 and typeid =2 ; --å¤åˆç´¢å¼•ä¸­å¦‚æœæœ‰&gt;ï¼Œåˆ™è‡ªèº«å’Œå³ä¾§ç´¢å¼•å…¨éƒ¨å¤±æ•ˆã€‚explain select * from book where authorid = 1 and typeid &gt;2 ;--å¤åˆç´¢å¼•atå…¨éƒ¨ä½¿ç”¨----æ˜æ˜¾çš„æ¦‚ç‡é—®é¢˜---explain select * from book where authorid &lt; 1 and typeid =2 ;--å¤åˆç´¢å¼•atåªç”¨åˆ°äº†1ä¸ªç´¢å¼•explain select * from book where authorid &lt; 4 and typeid =2 ;--å¤åˆç´¢å¼•å…¨éƒ¨å¤±æ•ˆ--æˆ‘ä»¬å­¦ä¹ ç´¢å¼•ä¼˜åŒ– ï¼Œæ˜¯ä¸€ä¸ªå¤§éƒ¨åˆ†æƒ…å†µé€‚ç”¨çš„ç»“è®ºï¼Œä½†ç”±äºSQLä¼˜åŒ–å™¨ç­‰åŸå›  è¯¥ç»“è®ºä¸æ˜¯100%æ­£ç¡®ã€‚--ä¸€èˆ¬è€Œè¨€ï¼Œ èŒƒå›´æŸ¥è¯¢ï¼ˆ&gt; &lt; inï¼‰ï¼Œä¹‹åçš„ç´¢å¼•å¤±æ•ˆã€‚ï¼ˆ4ï¼‰è¡¥æ•‘ã€‚å°½é‡ä½¿ç”¨ç´¢å¼•è¦†ç›–ï¼ˆusing indexï¼‰ ï¼ˆa,b,cï¼‰select a,b,c from xx..where a= .. and b =.. ;(5) likeå°½é‡ä»¥â€œå¸¸é‡â€å¼€å¤´ï¼Œä¸è¦ä»¥'%'å¼€å¤´ï¼Œå¦åˆ™ç´¢å¼•å¤±æ•ˆselect * from xx where name like '%x%' ; --nameç´¢å¼•å¤±æ•ˆexplain select * from teacher where tname like '%x%'; --tnameç´¢å¼•å¤±æ•ˆexplain select * from teacher where tname like 'x%'; explain select tname from teacher where tname like '%x%'; --å¦‚æœå¿…é¡»ä½¿ç”¨like '%x%'è¿›è¡Œæ¨¡ç³ŠæŸ¥è¯¢ï¼Œå¯ä»¥ä½¿ç”¨ç´¢å¼•è¦†ç›– æŒ½æ•‘ä¸€éƒ¨åˆ†ã€‚ 123456ï¼ˆ6ï¼‰å°½é‡ä¸è¦ä½¿ç”¨ç±»å‹è½¬æ¢ï¼ˆæ˜¾ç¤ºã€éšå¼ï¼‰ï¼Œå¦åˆ™ç´¢å¼•å¤±æ•ˆexplain select * from teacher where tname = 'abc' ;explain select * from teacher where tname = 123 ;//ç¨‹åºåº•å±‚å°† 123 -&gt; '123'ï¼Œå³è¿›è¡Œäº†ç±»å‹è½¬æ¢ï¼Œå› æ­¤ç´¢å¼•å¤±æ•ˆï¼ˆ7ï¼‰å°½é‡ä¸è¦ä½¿ç”¨orï¼Œå¦åˆ™ç´¢å¼•å¤±æ•ˆexplain select * from teacher where tname ='' or tcid &gt;1 ; --å°†orå·¦ä¾§çš„tname å¤±æ•ˆã€‚ å¸¸è§ä¼˜åŒ–æ–¹æ³•åŠæ…¢æŸ¥è¯¢SQLæ’æŸ¥existå’Œinselect ã€‚ã€‚from table where exist/in(å­æŸ¥è¯¢)ï¼› å¦‚æœä¸»æŸ¥è¯¢çš„æ•°æ®é›†å¤§ï¼Œåˆ™ä½¿ç”¨Inæ•ˆç‡æ›´é«˜ å¦‚æœå­æŸ¥è¯¢çš„æ•°æ®é›†å¤§ï¼Œåˆ™ä½¿ç”¨existæ•ˆç‡æ›´é«˜ existè¯­æ³•ï¼šå°†ä¸»æŸ¥è¯¢çš„ç»“æœï¼Œæ”¾åˆ°å­æŸ¥è¯¢ç»“æœä¸­è¿›è¡Œæ¡ä»¶æ ¡éªŒï¼ˆçœ‹å­æŸ¥è¯¢æ˜¯å¦æœ‰æ•°æ®ï¼Œå¦‚æœæœ‰æ•°æ®ï¼Œåˆ™æ ¡éªŒæˆåŠŸï¼Œä¿ç•™æ•°æ®ï¼‰ order byusing filesort æœ‰ä¸¤ç§ç®—æ³•ï¼šåŒè·¯æ’åºã€å•è·¯æ’åº ï¼ˆæ ¹æ®IOçš„æ¬¡æ•°ï¼‰MySQL4.1ä¹‹å‰ é»˜è®¤ä½¿ç”¨ åŒè·¯æ’åºï¼›åŒè·¯ï¼šæ‰«æ2æ¬¡ç£ç›˜ï¼ˆ1ï¼šä»ç£ç›˜è¯»å–æ’åºå­—æ®µ ,å¯¹æ’åºå­—æ®µè¿›è¡Œæ’åºï¼ˆåœ¨bufferä¸­è¿›è¡Œçš„æ’åºï¼‰ 2ï¼šæ‰«æå…¶ä»–å­—æ®µ ï¼‰ â€”IOè¾ƒæ¶ˆè€—æ€§èƒ½MySQL4.1ä¹‹å é»˜è®¤ä½¿ç”¨ å•è·¯æ’åº ï¼š åªè¯»å–ä¸€æ¬¡ï¼ˆå…¨éƒ¨å­—æ®µï¼‰ï¼Œåœ¨bufferä¸­è¿›è¡Œæ’åºã€‚ä½†ç§å•è·¯æ’åº ä¼šæœ‰ä¸€å®šçš„éšæ‚£ ï¼ˆä¸ä¸€å®šçœŸçš„æ˜¯â€œå•è·¯|1æ¬¡IOâ€ï¼Œæœ‰å¯èƒ½å¤šæ¬¡IOï¼‰ã€‚åŸå› ï¼šå¦‚æœæ•°æ®é‡ç‰¹åˆ«å¤§ï¼Œåˆ™æ— æ³• å°†æ‰€æœ‰å­—æ®µçš„æ•°æ® ä¸€æ¬¡æ€§è¯»å–å®Œæ¯•ï¼Œå› æ­¤ ä¼šè¿›è¡Œâ€œåˆ†ç‰‡è¯»å–ã€å¤šæ¬¡è¯»å–â€ã€‚ æ³¨æ„ï¼šå•è·¯æ’åº æ¯”åŒè·¯æ’åº ä¼šå ç”¨æ›´å¤šçš„bufferã€‚ å•è·¯æ’åºåœ¨ä½¿ç”¨æ—¶ï¼Œå¦‚æœæ•°æ®å¤§ï¼Œå¯ä»¥è€ƒè™‘è°ƒå¤§bufferçš„å®¹é‡å¤§å°ï¼š set max_length_for_sort_data = 1024 å•ä½byte å¦‚æœmax_length_for_sort_dataå€¼å¤ªä½ï¼Œåˆ™mysqlä¼šè‡ªåŠ¨ä» å•è·¯-&gt;åŒè·¯ ï¼ˆå¤ªä½ï¼šéœ€è¦æ’åºçš„åˆ—çš„æ€»å¤§å°è¶…è¿‡äº†max_length_for_sort_dataå®šä¹‰çš„å­—èŠ‚æ•°ï¼‰ æé«˜order byæŸ¥è¯¢çš„ç­–ç•¥ï¼ša.é€‰æ‹©ä½¿ç”¨å•è·¯ã€åŒè·¯ ï¼›è°ƒæ•´bufferçš„å®¹é‡å¤§å°ï¼›b.é¿å…select â€¦ ï¼ˆä¼šå¤šèŠ±ä¸€äº›æ—¶é—´ï¼Œä¸”æ— æ³•ç´¢å¼•è¦†ç›–ï¼‰c.å¤åˆç´¢å¼• ä¸è¦è·¨åˆ—ä½¿ç”¨ ï¼Œé¿å…using filesortd.ä¿è¯å…¨éƒ¨çš„æ’åºå­—æ®µ æ’åºçš„ä¸€è‡´æ€§ï¼ˆéƒ½æ˜¯å‡åº æˆ– é™åºï¼‰ æ…¢æŸ¥è¯¢é˜€å€¼å’Œmysqldumpslowå·¥å…·:MySQLæä¾›çš„ä¸€ç§æ—¥å¿—è®°å½•ï¼Œç”¨äºè®°å½•MySQLç§å“åº”æ—¶é—´è¶…è¿‡é˜€å€¼çš„SQLè¯­å¥ ï¼ˆlong_query_timeï¼Œé»˜è®¤10ç§’ï¼‰ æ…¢æŸ¥è¯¢æ—¥å¿—é»˜è®¤æ˜¯å…³é—­çš„ï¼›å»ºè®®ï¼šå¼€å‘è°ƒä¼˜æ˜¯ æ‰“å¼€ï¼Œè€Œ æœ€ç»ˆéƒ¨ç½²æ—¶å…³é—­ã€‚ æ£€æŸ¥æ˜¯å¦å¼€å¯äº† æ…¢æŸ¥è¯¢æ—¥å¿— ï¼š show variables like '%slow_query_log%' ; ä¸´æ—¶å¼€å¯ï¼š set global slow_query_log = 1 ; --åœ¨å†…å­˜ç§å¼€å¯ exit service mysql restart æ°¸ä¹…å¼€å¯ï¼š /etc/my.cnf ä¸­è¿½åŠ é…ç½®ï¼š vi /etc/my.cnf [mysqld] slow_query_log=1 slow_query_log_file=/var/lib/mysql/localhost-slow.log â€‹â€‹ æ…¢æŸ¥è¯¢é˜€å€¼ï¼šâ€‹ show variables like â€˜%long_query_time%â€™ ;â€‹â€‹ ä¸´æ—¶è®¾ç½®é˜€å€¼ï¼šâ€‹ set global long_query_time = 5 ; â€”è®¾ç½®å®Œæ¯•åï¼Œé‡æ–°ç™»é™†åèµ·æ•ˆ ï¼ˆä¸éœ€è¦é‡å¯æœåŠ¡ï¼‰â€‹â€‹ æ°¸ä¹…è®¾ç½®é˜€å€¼ï¼šâ€‹â€‹ /etc/my.cnf ä¸­è¿½åŠ é…ç½®ï¼šâ€‹ vi /etc/my.cnfâ€‹ [mysqld]â€‹ long_query_time=3 select sleep(4); select sleep(5); select sleep(3); select sleep(3); --æŸ¥è¯¢è¶…è¿‡é˜€å€¼çš„SQLæ•°é‡ï¼š show global status like '%slow_queries%' ; (1)æ…¢æŸ¥è¯¢çš„sqlè¢«è®°å½•åœ¨äº†æ—¥å¿—ä¸­ï¼Œå› æ­¤å¯ä»¥é€šè¿‡æ—¥å¿— æŸ¥çœ‹å…·ä½“çš„æ…¢SQLã€‚ cat /var/lib/mysql/localhost-slow.log (2)é€šè¿‡mysqldumpslowå·¥å…·æŸ¥çœ‹æ…¢SQL,å¯ä»¥é€šè¿‡ä¸€äº›è¿‡æ»¤æ¡ä»¶ å¿«é€ŸæŸ¥æ‰¾å‡ºéœ€è¦å®šä½çš„æ…¢SQL mysqldumpslow --help sï¼šæ’åºæ–¹å¼ r:é€†åº l:é”å®šæ—¶é—´ g:æ­£åˆ™åŒ¹é…æ¨¡å¼ --è·å–è¿”å›è®°å½•æœ€å¤šçš„3ä¸ªSQL mysqldumpslow -s r -t 3 /var/lib/mysql/localhost-slow.log --è·å–è®¿é—®æ¬¡æ•°æœ€å¤šçš„3ä¸ªSQL mysqldumpslow -s c -t 3 /var/lib/mysql/localhost-slow.log --æŒ‰ç…§æ—¶é—´æ’åºï¼Œå‰10æ¡åŒ…å«left joinæŸ¥è¯¢è¯­å¥çš„SQL mysqldumpslow -s t -t 10 -g &quot;left join&quot; /var/lib/mysql/localhost-slow.log è¯­æ³•ï¼š mysqldumpslow å„ç§å‚æ•° æ…¢æŸ¥è¯¢æ—¥å¿—çš„æ–‡ä»¶ æ¨¡æ‹Ÿå¹¶é€šè¿‡profilesåˆ†ææµ·é‡æ•°æ®a.æ¨¡æ‹Ÿæµ·é‡æ•°æ®a.æ¨¡æ‹Ÿæµ·é‡æ•°æ® å­˜å‚¨è¿‡ç¨‹ï¼ˆæ— returnï¼‰/å­˜å‚¨å‡½æ•°ï¼ˆæœ‰returnï¼‰ create database testdata ; use testdata 1234567891011121314151617create table dept(dno int(5) primary key default 0,dname varchar(20) not null default '',loc varchar(30) default '')engine=innodb default charset=utf8;create table emp(eid int(5) primary key,ename varchar(20) not null default '',job varchar(20) not null default '',deptno int(5) not null default 0)engine=innodb default charset=utf8; é€šè¿‡å­˜å‚¨å‡½æ•° æ’å…¥æµ·é‡æ•°æ®ï¼š åˆ›å»ºå­˜å‚¨å‡½æ•°ï¼š randstring(6) -&gt;aXiayx ç”¨äºæ¨¡æ‹Ÿå‘˜å·¥åç§° 1234567891011121314delimiter $ #å£°æ˜åˆ†å·ä¸æ˜¯ç»“æŸç¬¦create function randstring(n int) returns varchar(255) begin declare all_str varchar(100) default 'abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ' ; declare return_str varchar(255) default '' ; declare i int default 0 ; while i&lt;n do set return_str = concat( return_str, substring(all_str, FLOOR(1+rand()*52) ,1) ); set i=i+1 ; end while ; return return_str; end $ â€”å¦‚æœæŠ¥é”™ï¼šYou have an error in your SQL syntaxï¼Œè¯´æ˜SQLè¯­å¥è¯­æ³•æœ‰é”™ï¼Œéœ€è¦ä¿®æ”¹SQLè¯­å¥ï¼› å¦‚æœæŠ¥é”™This function has none of DETERMINISTIC, NO SQL, or READS SQL DATA in its declaration and binary logging is enabled (you might want to use the less safe log_bin_trust_function_creators variable) æ˜¯å› ä¸º å­˜å‚¨è¿‡ç¨‹/å­˜å‚¨å‡½æ•°åœ¨åˆ›å»ºæ—¶ ä¸ä¹‹å‰çš„ å¼€å¯æ…¢æŸ¥è¯¢æ—¥å¿—å†²çªäº† è§£å†³å†²çªï¼š ä¸´æ—¶è§£å†³( å¼€å¯log_bin_trust_function_creators ) show variables like â€˜%log_bin_trust_function_creators%â€™; set global log_bin_trust_function_creators = 1; æ°¸ä¹…è§£å†³ï¼š /etc/my.cnf [mysqld] log_bin_trust_function_creators = 1 12345678--äº§ç”Ÿéšæœºæ•´æ•°create function ran_num() returns int(5)begin declare i int default 0; set i =floor( rand()*100 ) ; return i ;end $ 1234567891011121314--é€šè¿‡å­˜å‚¨è¿‡ç¨‹æ’å…¥æµ·é‡æ•°æ®ï¼šempè¡¨ä¸­ ï¼Œ 10000, 100000create procedure insert_emp( in eid_start int(10),in data_times int(10))begin declare i int default 0; set autocommit = 0 ; repeat insert into emp values(eid_start + i, randstring(5) ,'other' ,ran_num()) ; set i=i+1 ; until i=data_times end repeat ; commit ;end $ 12345678910111213--é€šè¿‡å­˜å‚¨è¿‡ç¨‹æ’å…¥æµ·é‡æ•°æ®ï¼šdeptè¡¨ä¸­ create procedure insert_dept(in dno_start int(10) ,in data_times int(10)) begin declare i int default 0; set autocommit = 0 ; repeat insert into dept values(dno_start+i ,randstring(6),randstring(8)) ; set i=i+1 ; until i=data_times end repeat ; commit ; end$ 1234--æ’å…¥æ•°æ® delimiter ; call insert_emp(1000,800000) ; call insert_dept(10,30) ; â€‹ b.åˆ†ææµ·é‡æ•°æ®:â€‹ ï¼ˆ1ï¼‰profilesâ€‹ show profiles ; â€”é»˜è®¤å…³é—­â€‹ show variables like â€˜%profiling%â€™;â€‹ set profiling = on ;â€‹ show profiles ï¼šä¼šè®°å½•æ‰€æœ‰profilingæ‰“å¼€ä¹‹åçš„ å…¨éƒ¨SQLæŸ¥è¯¢è¯­å¥æ‰€èŠ±è´¹çš„æ—¶é—´ã€‚ç¼ºç‚¹ï¼šä¸å¤Ÿç²¾ç¡®ï¼Œåªèƒ½çœ‹åˆ° æ€»å…±æ¶ˆè´¹çš„æ—¶é—´ï¼Œä¸èƒ½çœ‹åˆ°å„ä¸ªç¡¬ä»¶æ¶ˆè´¹çš„æ—¶é—´ï¼ˆcpu io ï¼‰â€‹â€‹ (2)ç²¾ç¡®åˆ†æ:sqlè¯Šæ–­â€‹ show profile all for query ä¸Šä¸€æ­¥æŸ¥è¯¢çš„çš„Query_Idâ€‹ show profile cpu,block io for query ä¸Šä¸€æ­¥æŸ¥è¯¢çš„çš„Query_Idâ€‹â€‹ (3)å…¨å±€æŸ¥è¯¢æ—¥å¿— ï¼šè®°å½•å¼€å¯ä¹‹åçš„ å…¨éƒ¨SQLè¯­å¥ã€‚ ï¼ˆè¿™æ¬¡å…¨å±€çš„è®°å½•æ“ä½œ ä»…ä»…åœ¨è°ƒä¼˜ã€å¼€å‘è¿‡ç¨‹ä¸­æ‰“å¼€å³å¯ï¼Œåœ¨æœ€ç»ˆçš„éƒ¨ç½²å®æ–½æ—¶ ä¸€å®šå…³é—­ï¼‰â€‹ show variables like â€˜%general_log%â€™;â€‹ 12345678--æ‰§è¡Œçš„æ‰€æœ‰SQLè®°å½•åœ¨è¡¨ä¸­set global general_log = 1 ;--å¼€å¯å…¨å±€æ—¥å¿—set global log_output='table' ; --è®¾ç½® å°†å…¨éƒ¨çš„SQL è®°å½•åœ¨è¡¨ä¸­--æ‰§è¡Œçš„æ‰€æœ‰SQLè®°å½•åœ¨æ–‡ä»¶ä¸­set global log_output='file' ;set global general_log = on ;set global general_log_file='/tmp/general.log' ; 12å¼€å¯åï¼Œä¼šè®°å½•æ‰€æœ‰SQL ï¼š ä¼šè¢«è®°å½• mysql.general_logè¡¨ä¸­ã€‚ select * from mysql.general_log ; é”æœºåˆ¶è¯¦è§£é”æœºåˆ¶ ï¼šè§£å†³å› èµ„æºå…±äº« è€Œé€ æˆçš„å¹¶å‘é—®é¢˜ã€‚ ç¤ºä¾‹ï¼šä¹°æœ€åä¸€ä»¶è¡£æœX A: X ä¹° ï¼š XåŠ é” -&gt;è¯•è¡£æœâ€¦ä¸‹å•..ä»˜æ¬¾..æ‰“åŒ… -&gt;Xè§£é” B: X ä¹°ï¼šå‘ç°Xå·²è¢«åŠ é”ï¼Œç­‰å¾…Xè§£é”ï¼Œ Xå·²å”®ç©º åˆ†ç±»ï¼šæ“ä½œç±»å‹ï¼š a.è¯»é”ï¼ˆå…±äº«é”ï¼‰ï¼š å¯¹åŒä¸€ä¸ªæ•°æ®ï¼ˆè¡£æœï¼‰ï¼Œå¤šä¸ªè¯»æ“ä½œå¯ä»¥åŒæ—¶è¿›è¡Œï¼Œäº’ä¸å¹²æ‰°ã€‚ b.å†™é”ï¼ˆäº’æ–¥é”ï¼‰ï¼š å¦‚æœå½“å‰å†™æ“ä½œæ²¡æœ‰å®Œæ¯•ï¼ˆä¹°è¡£æœçš„ä¸€ç³»åˆ—æ“ä½œï¼‰ï¼Œåˆ™æ— æ³•è¿›è¡Œå…¶ä»–çš„è¯»æ“ä½œã€å†™æ“ä½œ æ“ä½œèŒƒå›´ï¼š a.è¡¨é” ï¼šä¸€æ¬¡æ€§å¯¹ä¸€å¼ è¡¨æ•´ä½“åŠ é”ã€‚å¦‚MyISAMå­˜å‚¨å¼•æ“ä½¿ç”¨è¡¨é”ï¼Œå¼€é”€å°ã€åŠ é”å¿«ï¼›æ— æ­»é”ï¼›ä½†é”çš„èŒƒå›´å¤§ï¼Œå®¹æ˜“å‘ç”Ÿé”å†²çªã€å¹¶å‘åº¦ä½ã€‚ b.è¡Œé” ï¼šä¸€æ¬¡æ€§å¯¹ä¸€æ¡æ•°æ®åŠ é”ã€‚å¦‚InnoDBå­˜å‚¨å¼•æ“ä½¿ç”¨è¡Œé”ï¼Œå¼€é”€å¤§ï¼ŒåŠ é”æ…¢ï¼›å®¹æ˜“å‡ºç°æ­»é”ï¼›é”çš„èŒƒå›´è¾ƒå°ï¼Œä¸æ˜“å‘ç”Ÿé”å†²çªï¼Œå¹¶å‘åº¦é«˜ï¼ˆå¾ˆå°æ¦‚ç‡ å‘ç”Ÿé«˜å¹¶å‘é—®é¢˜ï¼šè„è¯»ã€å¹»è¯»ã€ä¸å¯é‡å¤åº¦ã€ä¸¢å¤±æ›´æ–°ç­‰é—®é¢˜ï¼‰ã€‚ c.é¡µé” ç¤ºä¾‹ï¼š ï¼ˆ1ï¼‰è¡¨é” ï¼š --è‡ªå¢æ“ä½œ MYSQL/SQLSERVER æ”¯æŒï¼›oracleéœ€è¦å€ŸåŠ©äºåºåˆ—æ¥å®ç°è‡ªå¢ create table tablelock(id int primary key auto_increment ,name varchar(20))engine myisam; insert into tablelock(name) values(â€˜a1â€™);insert into tablelock(name) values(â€˜a2â€™);insert into tablelock(name) values(â€˜a3â€™);insert into tablelock(name) values(â€˜a4â€™);insert into tablelock(name) values(â€˜a5â€™);commit; 1234567891011121314151617181920212223å¢åŠ é”ï¼šlocak table è¡¨1 read/write ,è¡¨2 read/write ,...æŸ¥çœ‹åŠ é”çš„è¡¨ï¼šshow open tables ;ä¼šè¯ï¼šsession :æ¯ä¸€ä¸ªè®¿é—®æ•°æ®çš„doså‘½ä»¤è¡Œã€æ•°æ®åº“å®¢æˆ·ç«¯å·¥å…· éƒ½æ˜¯ä¸€ä¸ªä¼šè¯===åŠ è¯»é”ï¼š ä¼šè¯0ï¼š lock table tablelock read ; select * from tablelock; --è¯»ï¼ˆæŸ¥ï¼‰ï¼Œå¯ä»¥ delete from tablelock where id =1 ; --å†™ï¼ˆå¢åˆ æ”¹ï¼‰ï¼Œä¸å¯ä»¥ select * from emp ; --è¯»ï¼Œä¸å¯ä»¥ delete from emp where eid = 1; --å†™ï¼Œä¸å¯ä»¥ ç»“è®º1ï¼š --å¦‚æœæŸä¸€ä¸ªä¼šè¯ å¯¹Aè¡¨åŠ äº†readé”ï¼Œåˆ™ è¯¥ä¼šè¯ å¯ä»¥å¯¹Aè¡¨è¿›è¡Œè¯»æ“ä½œã€ä¸èƒ½è¿›è¡Œå†™æ“ä½œï¼› ä¸” è¯¥ä¼šè¯ä¸èƒ½å¯¹å…¶ä»–è¡¨è¿›è¡Œè¯»ã€å†™æ“ä½œã€‚ --å³å¦‚æœç»™Aè¡¨åŠ äº†è¯»é”ï¼Œåˆ™å½“å‰ä¼šè¯åªèƒ½å¯¹Aè¡¨è¿›è¡Œè¯»æ“ä½œã€‚ ä¼šè¯1ï¼ˆå…¶ä»–ä¼šè¯ï¼‰ï¼š select * from tablelock; --è¯»ï¼ˆæŸ¥ï¼‰ï¼Œå¯ä»¥ delete from tablelock where id =1 ; --å†™ï¼Œä¼šâ€œç­‰å¾…â€ä¼šè¯0å°†é”é‡Šæ”¾ ä¼šè¯1ï¼ˆå…¶ä»–ä¼šè¯ï¼‰ï¼š select * from emp ; --è¯»ï¼ˆæŸ¥ï¼‰ï¼Œå¯ä»¥ delete from emp where eno = 1; --å†™ï¼Œå¯ä»¥ ç»“è®º2ï¼š --æ€»ç»“ï¼š ä¼šè¯0ç»™Aè¡¨åŠ äº†é”ï¼›å…¶ä»–ä¼šè¯çš„æ“ä½œï¼ša.å¯ä»¥å¯¹å…¶ä»–è¡¨ï¼ˆAè¡¨ä»¥å¤–çš„è¡¨ï¼‰è¿›è¡Œè¯»ã€å†™æ“ä½œ b.å¯¹Aè¡¨ï¼šè¯»-å¯ä»¥ï¼› å†™-éœ€è¦ç­‰å¾…é‡Šæ”¾é”ã€‚ é‡Šæ”¾é”: unlock tables ; å†™é”ç¤ºä¾‹ä¸MyISAMæ¨¡å¼ç‰¹å¾===åŠ å†™é”ï¼š ä¼šè¯0ï¼š lock table tablelock write ; å½“å‰ä¼šè¯ï¼ˆä¼šè¯0ï¼‰ å¯ä»¥å¯¹åŠ äº†å†™é”çš„è¡¨ è¿›è¡Œä»»ä½•æ“ä½œï¼ˆå¢åˆ æ”¹æŸ¥ï¼‰ï¼›ä½†æ˜¯ä¸èƒ½ æ“ä½œï¼ˆå¢åˆ æ”¹æŸ¥ï¼‰å…¶ä»–è¡¨ å…¶ä»–ä¼šè¯ï¼š å¯¹ä¼šè¯0ä¸­åŠ å†™é”çš„è¡¨ å¯ä»¥è¿›è¡Œå¢åˆ æ”¹æŸ¥çš„å‰ææ˜¯ï¼šç­‰å¾…ä¼šè¯0é‡Šæ”¾å†™é” MySQLè¡¨çº§é”çš„é”æ¨¡å¼MyISAMåœ¨æ‰§è¡ŒæŸ¥è¯¢è¯­å¥ï¼ˆSELECTï¼‰å‰ï¼Œä¼šè‡ªåŠ¨ç»™æ¶‰åŠçš„æ‰€æœ‰è¡¨åŠ è¯»é”ï¼Œåœ¨æ‰§è¡Œæ›´æ–°æ“ä½œï¼ˆDMLï¼‰å‰ï¼Œä¼šè‡ªåŠ¨ç»™æ¶‰åŠçš„è¡¨åŠ å†™é”ã€‚æ‰€ä»¥å¯¹MyISAMè¡¨è¿›è¡Œæ“ä½œï¼Œä¼šæœ‰ä»¥ä¸‹æƒ…å†µï¼šaã€å¯¹MyISAMè¡¨çš„è¯»æ“ä½œï¼ˆåŠ è¯»é”ï¼‰ï¼Œä¸ä¼šé˜»å¡å…¶ä»–è¿›ç¨‹ï¼ˆä¼šè¯ï¼‰å¯¹åŒä¸€è¡¨çš„è¯»è¯·æ±‚ï¼Œä½†ä¼šé˜»å¡å¯¹åŒä¸€è¡¨çš„å†™è¯·æ±‚ã€‚åªæœ‰å½“è¯»é”é‡Šæ”¾åï¼Œæ‰ä¼šæ‰§è¡Œå…¶å®ƒè¿›ç¨‹çš„å†™æ“ä½œã€‚bã€å¯¹MyISAMè¡¨çš„å†™æ“ä½œï¼ˆåŠ å†™é”ï¼‰ï¼Œä¼šé˜»å¡å…¶ä»–è¿›ç¨‹ï¼ˆä¼šè¯ï¼‰å¯¹åŒä¸€è¡¨çš„è¯»å’Œå†™æ“ä½œï¼Œåªæœ‰å½“å†™é”é‡Šæ”¾åï¼Œæ‰ä¼šæ‰§è¡Œå…¶å®ƒè¿›ç¨‹çš„è¯»å†™æ“ä½œã€‚ è¡¨é”æƒ…å†µåˆ†æåŠè¡Œé”è§£æåˆ†æè¡¨é”å®šï¼š æŸ¥çœ‹å“ªäº›è¡¨åŠ äº†é”ï¼š show open tables ; 1ä»£è¡¨è¢«åŠ äº†é” åˆ†æè¡¨é”å®šçš„ä¸¥é‡ç¨‹åº¦ï¼š show status like â€˜table%â€™ ; Table_locks_immediate :ç«‹åˆ»èƒ½è·å–åˆ°çš„é”æ•° Table_locks_waitedï¼šéœ€è¦ç­‰å¾…çš„è¡¨é”æ•°(å¦‚æœè¯¥å€¼è¶Šå¤§ï¼Œè¯´æ˜å­˜åœ¨è¶Šå¤§çš„é”ç«äº‰) ä¸€èˆ¬å»ºè®®ï¼š Table_locks_immediate/Table_locks_waited &gt; 5000ï¼Œ å»ºè®®é‡‡ç”¨InnoDBå¼•æ“ï¼Œå¦åˆ™MyISAMå¼•æ“ â€‹ ï¼ˆ2ï¼‰è¡Œè¡¨ï¼ˆInnoDBï¼‰create table linelock(id int(5) primary key auto_increment,name varchar(20))engine=innodb ;insert into linelock(name) values(â€˜1â€™) ;insert into linelock(name) values(â€˜2â€™) ;insert into linelock(name) values(â€˜3â€™) ;insert into linelock(name) values(â€˜4â€™) ;insert into linelock(name) values(â€˜5â€™) ; â€”mysqlé»˜è®¤è‡ªåŠ¨commit; oracleé»˜è®¤ä¸ä¼šè‡ªåŠ¨commit ; ä¸ºäº†ç ”ç©¶è¡Œé”ï¼Œæš‚æ—¶å°†è‡ªåŠ¨commitå…³é—­; set autocommit =0 ; ä»¥åéœ€è¦é€šè¿‡commit ä¼šè¯0ï¼š å†™æ“ä½œ insert into linelock values( 'a6') ; ä¼šè¯1ï¼š å†™æ“ä½œ åŒæ ·çš„æ•°æ® update linelock set name='ax' where id = 6; å¯¹è¡Œé”æƒ…å†µï¼š 1.å¦‚æœä¼šè¯xå¯¹æŸæ¡æ•°æ®aè¿›è¡Œ DMLæ“ä½œï¼ˆç ”ç©¶æ—¶ï¼šå…³é—­äº†è‡ªåŠ¨commitçš„æƒ…å†µä¸‹ï¼‰ï¼Œåˆ™å…¶ä»–ä¼šè¯å¿…é¡»ç­‰å¾…ä¼šè¯xç»“æŸäº‹åŠ¡(commit/rollback)å æ‰èƒ½å¯¹æ•°æ®aè¿›è¡Œæ“ä½œã€‚ 2.è¡¨é” æ˜¯é€šè¿‡unlock tablesï¼Œä¹Ÿå¯ä»¥é€šè¿‡äº‹åŠ¡è§£é” ; è¡Œé” æ˜¯é€šè¿‡äº‹åŠ¡è§£é”ã€‚ â€‹ è¡Œé”ï¼Œæ“ä½œä¸åŒæ•°æ®ï¼š ä¼šè¯0ï¼š å†™æ“ä½œ insert into linelock values(8,'a8') ; ä¼šè¯1ï¼š å†™æ“ä½œï¼Œ ä¸åŒçš„æ•°æ® update linelock set name='ax' where id = 5; è¡Œé”ï¼Œä¸€æ¬¡é”ä¸€è¡Œæ•°æ®ï¼›å› æ­¤ å¦‚æœæ“ä½œçš„æ˜¯ä¸åŒæ•°æ®ï¼Œåˆ™ä¸å¹²æ‰°ã€‚ è¡Œé”çš„æ³¨æ„äº‹é¡¹åŠä½¿ç”¨æƒ…å†µåˆ†æâ€‹ è¡Œé”çš„æ³¨æ„äº‹é¡¹ï¼šâ€‹ a.å¦‚æœæ²¡æœ‰ç´¢å¼•ï¼Œåˆ™è¡Œé”ä¼šè½¬ä¸ºè¡¨é”â€‹ show index from linelock ;â€‹ alter table linelock add index idx_linelock_name(name); â€‹ ä¼šè¯0ï¼š å†™æ“ä½œâ€‹ update linelock set name = â€˜aiâ€™ where name = â€˜3â€™ ;â€‹â€‹ ä¼šè¯1ï¼š å†™æ“ä½œï¼Œ ä¸åŒçš„æ•°æ®â€‹ update linelock set name = â€˜aiXâ€™ where name = â€˜4â€™ ; â€‹ ä¼šè¯0ï¼š å†™æ“ä½œâ€‹ update linelock set name = â€˜aiâ€™ where name = 3 ;â€‹â€‹ ä¼šè¯1ï¼š å†™æ“ä½œï¼Œ ä¸åŒçš„æ•°æ®â€‹ update linelock set name = â€˜aiXâ€™ where name = 4 ;â€‹â€‹ â€”å¯ä»¥å‘ç°ï¼Œæ•°æ®è¢«é˜»å¡äº†ï¼ˆåŠ é”ï¼‰â€‹ â€” åŸå› ï¼šå¦‚æœç´¢å¼•ç±» å‘ç”Ÿäº†ç±»å‹è½¬æ¢ï¼Œåˆ™ç´¢å¼•å¤±æ•ˆã€‚ å› æ­¤ æ­¤æ¬¡æ“ä½œï¼Œä¼šä»è¡Œé” è½¬ä¸ºè¡¨é”ã€‚â€‹â€‹ b.è¡Œé”çš„ä¸€ç§ç‰¹æ®Šæƒ…å†µï¼šé—´éš™é”ï¼šå€¼åœ¨èŒƒå›´å†…ï¼Œä½†å´ä¸å­˜åœ¨â€‹ â€”æ­¤æ—¶linelockè¡¨ä¸­ æ²¡æœ‰id=7çš„æ•°æ®â€‹ update linelock set name =â€™xâ€™ where id &gt;1 and idé—´éš™é”ã€‚å³ æœ¬é¢˜ ä¼šè‡ªåŠ¨ç»™id=7çš„æ•°æ®åŠ  é—´éš™é”ï¼ˆè¡Œé”ï¼‰ã€‚â€‹ è¡Œé”ï¼šå¦‚æœæœ‰whereï¼Œåˆ™å®é™…åŠ ç´¢çš„èŒƒå›´ å°±æ˜¯whereåé¢çš„èŒƒå›´ï¼ˆä¸æ˜¯å®é™…çš„å€¼ï¼‰ æŸ¥è¯¢è¡Œé”â€‹ å¦‚ä½•ä»…ä»…æ˜¯æŸ¥è¯¢æ•°æ®ï¼Œèƒ½å¦åŠ é”ï¼Ÿ å¯ä»¥ for updateâ€‹ ç ”ç©¶å­¦ä¹ æ—¶ï¼Œå°†è‡ªåŠ¨æäº¤å…³é—­ï¼šâ€‹ set autocommit =0 ;â€‹ start transaction ;â€‹ begin ;â€‹ select * from linelock where id =2 for update ;â€‹â€‹ é€šè¿‡for updateå¯¹queryè¯­å¥è¿›è¡ŒåŠ é”ã€‚â€‹â€‹ è¡Œé”ï¼šâ€‹ InnoDBé»˜è®¤é‡‡ç”¨è¡Œé”ï¼›â€‹ ç¼ºç‚¹ï¼š æ¯”è¡¨é”æ€§èƒ½æŸè€—å¤§ã€‚â€‹ ä¼˜ç‚¹ï¼šå¹¶å‘èƒ½åŠ›å¼ºï¼Œæ•ˆç‡é«˜ã€‚â€‹ å› æ­¤å»ºè®®ï¼Œé«˜å¹¶å‘ç”¨InnoDBï¼Œå¦åˆ™ç”¨MyISAMã€‚â€‹â€‹ è¡Œé”åˆ†æï¼šâ€‹ show status like â€˜%innodb_row_lock%â€™ ;â€‹ Innodb_row_lock_current_waits :å½“å‰æ­£åœ¨ç­‰å¾…é”çš„æ•°é‡â€‹ Innodb_row_lock_timeï¼šç­‰å¾…æ€»æ—¶é•¿ã€‚ä»ç³»ç»Ÿå¯åˆ°ç°åœ¨ ä¸€å…±ç­‰å¾…çš„æ—¶é—´â€‹ Innodb_row_lock_time_avg ï¼šå¹³å‡ç­‰å¾…æ—¶é•¿ã€‚ä»ç³»ç»Ÿå¯åˆ°ç°åœ¨å¹³å‡ç­‰å¾…çš„æ—¶é—´â€‹ Innodb_row_lock_time_max ï¼šæœ€å¤§ç­‰å¾…æ—¶é•¿ã€‚ä»ç³»ç»Ÿå¯åˆ°ç°åœ¨æœ€å¤§ä¸€æ¬¡ç­‰å¾…çš„æ—¶é—´â€‹ Innodb_row_lock_waits ï¼š ç­‰å¾…æ¬¡æ•°ã€‚ä»ç³»ç»Ÿå¯åˆ°ç°åœ¨ä¸€å…±ç­‰å¾…çš„æ¬¡æ•° ä¸»ä»å¤åˆ¶ ï¼ˆé›†ç¾¤åœ¨æ•°æ®åº“çš„ä¸€ç§å®ç°ï¼‰â€‹ windows:mysql ä¸»â€‹ linux:mysqlä» å®‰è£…windowsç‰ˆmysql: å¦‚æœä¹‹å‰è®¡ç®—æœºä¸­å®‰è£…è¿‡Mysqlï¼Œè¦é‡æ–°å†å®‰è£… åˆ™éœ€è¦ï¼šå…ˆå¸è½½ å†å®‰è£… å…ˆå¸è½½ï¼š é€šè¿‡ç”µè„‘è‡ªå¸¦å¸è½½å·¥å…·å¸è½½Mysql (ç”µè„‘ç®¡å®¶ä¹Ÿå¯ä»¥) åˆ é™¤ä¸€ä¸ªmysqlç¼“å­˜æ–‡ä»¶C:\\ProgramData\\MySQL åˆ é™¤æ³¨å†Œè¡¨regeditä¸­æ‰€æœ‰mysqlç›¸å…³é…ç½® --é‡å¯è®¡ç®—æœº å®‰è£…MYSQLï¼š å®‰è£…æ—¶ï¼Œå¦‚æœå‡ºç°æœªå“åº”ï¼š åˆ™é‡æ–°æ‰“å¼€D:\\MySQL\\MySQL Server 5.5\\bin\\MySQLInstanceConfig.exe å›¾å½¢åŒ–å®¢æˆ·ç«¯ï¼š SQLyog, Navicat å¦‚æœè¦è¿œç¨‹è¿æ¥æ•°æ®åº“ï¼Œåˆ™éœ€è¦æˆæƒè¿œç¨‹è®¿é—®ã€‚ æˆæƒè¿œç¨‹è®¿é—® :(A-&gt;B,åˆ™å†Bè®¡ç®—æœºçš„Mysqlä¸­æ‰§è¡Œä»¥ä¸‹å‘½ä»¤) GRANT ALL PRIVILEGES ON *.* TO 'root'@'%' IDENTIFIED BY 'root' WITH GRANT OPTION; FLUSH PRIVILEGES; å¦‚æœä»ç„¶æŠ¥é”™ï¼šå¯èƒ½æ˜¯é˜²ç«å¢™æ²¡å…³é—­ ï¼š åœ¨Bå…³é—­é˜²ç«å¢™ service iptables stop å®ç°ä¸»ä»åŒæ­¥ï¼ˆä¸»ä»å¤åˆ¶ï¼‰ï¼šå›¾ 1.masterå°†æ”¹å˜çš„æ•° è®°å½•åœ¨æœ¬åœ°çš„ äºŒè¿›åˆ¶æ—¥å¿—ä¸­ï¼ˆbinary logï¼‰ ï¼›è¯¥è¿‡ç¨‹ ç§°ä¹‹ä¸ºï¼šäºŒè¿›åˆ¶æ—¥å¿—ä»¶äº‹ 2.slaveå°†masterçš„binary logæ‹·è´åˆ°è‡ªå·±çš„ relay logï¼ˆä¸­ç»§æ—¥å¿—æ–‡ä»¶ï¼‰ä¸­ 3.ä¸­ç»§æ—¥å¿—äº‹ä»¶ï¼Œå°†æ•°æ®è¯»å–åˆ°è‡ªå·±çš„æ•°æ®åº“ä¹‹ä¸­ MYSQLä¸»ä»å¤åˆ¶ æ˜¯å¼‚æ­¥çš„ï¼Œä¸²è¡ŒåŒ–çš„ï¼Œ æœ‰å»¶è¿Ÿ master:slave = 1:n é…ç½®ï¼š windows(mysql: my.ini) linux(mysql: my.cnf) é…ç½®å‰ï¼Œä¸ºäº†æ— è¯¯ï¼Œå…ˆå°†æƒé™(è¿œç¨‹è®¿é—®)ã€é˜²ç«å¢™ç­‰å¤„ç†ï¼š å…³é—­windows/linuxé˜²ç«å¢™ï¼š windowsï¼šå³é”®â€œç½‘ç»œâ€ ,linux: service iptables stop Mysqlå…è®¸è¿œç¨‹è¿æ¥(windowos/linux)ï¼š GRANT ALL PRIVILEGES ON *.* TO 'root'@'%' IDENTIFIED BY 'root' WITH GRANT OPTION; FLUSH PRIVILEGES; ä¸»æœºï¼ˆä»¥ä¸‹ä»£ç å’Œæ“ä½œ å…¨éƒ¨åœ¨ä¸»æœºwindowsä¸­æ“ä½œï¼‰ï¼šmy.ini[mysqld] idserver-id=1 äºŒè¿›åˆ¶æ—¥å¿—æ–‡ä»¶ï¼ˆæ³¨æ„æ˜¯/ ä¸æ˜¯\\ï¼‰log-bin=â€D:/MySQL/MySQL Server 5.5/data/mysql-binâ€ é”™è¯¯è®°å½•æ–‡ä»¶log-error=â€D:/MySQL/MySQL Server 5.5/data/mysql-errorâ€ ä¸»ä»åŒæ­¥æ—¶ å¿½ç•¥çš„æ•°æ®åº“binlog-ignore-db=mysql (å¯é€‰)æŒ‡å®šä¸»ä»åŒæ­¥æ—¶ï¼ŒåŒæ­¥å“ªäº›æ•°æ®åº“binlog-do-db=test windowsä¸­çš„æ•°æ®åº“ æˆæƒå“ªå°è®¡ç®—æœºä¸­çš„æ•°æ®åº“ æ˜¯è‡ªå·±çš„ä»æ•°æ®åº“ï¼š GRANT REPLICATION slave,reload,super ON . TO â€˜rootâ€™@â€™192.168.2.%â€™ IDENTIFIED BY â€˜rootâ€™; flush privileges ; æŸ¥çœ‹ä¸»æ•°æ®åº“çš„çŠ¶æ€ï¼ˆæ¯æ¬¡åœ¨å·¦ä¸»ä»åŒæ­¥å‰ï¼Œéœ€è¦è§‚å¯Ÿ ä¸»æœºçŠ¶æ€çš„æœ€æ–°å€¼ï¼‰ show master status; ï¼ˆmysql-bin.000001ã€ 107ï¼‰ ä»æœºï¼ˆä»¥ä¸‹ä»£ç å’Œæ“ä½œ å…¨éƒ¨åœ¨ä»æœºlinuxä¸­æ“ä½œï¼‰ï¼š my.cnf[mysqld]server-id=2log-bin=mysql-binreplicate-do-db=test linuxä¸­çš„æ•°æ® æˆæƒå“ªå°è®¡ç®—æœºä¸­çš„æ•°æ§ æ˜¯è‡ªå·±çš„ä¸»è®¡ç®—æœºCHANGE MASTER TOMASTER_HOST = â€˜192.168.2.2â€™,MASTER_USER = â€˜rootâ€™,MASTER_PASSWORD = â€˜rootâ€™,MASTER_PORT = 3306,master_log_file=â€™mysql-bin.000001â€™,master_log_pos=107; å¦‚æœæŠ¥é”™ï¼šThis operation cannot be performed with a running slave; run STOP SLAVE first è§£å†³ï¼šSTOP SLAVE ;å†æ¬¡æ‰§è¡Œä¸Šæ¡æˆæƒè¯­å¥ å¼€å¯ä¸»ä»åŒæ­¥ï¼š ä»æœºlinux: start slave ; æ£€éªŒ show slave status \\G ä¸»è¦è§‚å¯Ÿï¼š Slave_IO_Runningå’Œ Slave_SQL_Runningï¼Œç¡®ä¿äºŒè€…éƒ½æ˜¯yesï¼›å¦‚æœä¸éƒ½æ˜¯yesï¼Œåˆ™çœ‹ä¸‹æ–¹çš„ Last_IO_Errorã€‚æœ¬æ¬¡ é€šè¿‡ Last_IO_Errorå‘ç°é”™è¯¯çš„åŸå› æ˜¯ ä¸»ä»ä½¿ç”¨äº†ç›¸åŒçš„server-idï¼Œ æ£€æŸ¥:åœ¨ä¸»ä»ä¸­åˆ†åˆ«æŸ¥çœ‹serverid: show variables like â€˜server_idâ€™ ; å¯ä»¥å‘ç°ï¼Œåœ¨Linuxä¸­çš„my.cnfä¸­è®¾ç½®äº†server-id=2ï¼Œä½†å®é™…æ‰§è¡Œæ—¶ ç¡®å®server-id=1ï¼ŒåŸå› ï¼šå¯èƒ½æ˜¯ linuxç‰ˆMysqlçš„ä¸€ä¸ªbugï¼Œä¹Ÿå¯èƒ½æ˜¯ windowså’ŒLinuxç‰ˆæœ¬ä¸ä¸€è‡´é€ æˆçš„å…¼å®¹æ€§é—®é¢˜ã€‚ è§£å†³æ”¹bugï¼š set global server_id =2 ; stop slave ; set global server_id =2 ; start slave ; show slave status \\G æ¼”ç¤ºï¼š ä¸»windows =&gt;ä» windows: å°†è¡¨ï¼Œæ’å…¥æ•°æ® è§‚å¯Ÿä»æ•°æ®åº“ä¸­è¯¥è¡¨çš„æ•°æ® æ•°æ®åº“+åç«¯ spring bootï¼ˆä¼ä¸šçº§æ¡†æ¶,ç›®å‰ä½¿ç”¨è¾ƒå¤šï¼‰ å‘½ä»¤é›†åˆmysql -u root -p ç™»å½•show engines; æ˜¾ç¤ºæ”¯æŒå¼•æ“show variables like â€˜%storage_engine%â€™; æŸ¥çœ‹å½“å‰ä½¿ç”¨å¼•æ“ 12345678-- æŒ‡å®šæ•°æ®åº“å¼•æ“create table tb(â€‹ id int(4) auto_increment,â€‹ name varchar(5),â€‹ dept varchar(5),â€‹ primary key(id))ENGINE=MyISAM AUTO_INCREMENT=1DEFAULT CHARSET=utf-8 MySQLåŸºç¡€ä¸ºä»€ä¹ˆè¦ä½¿ç”¨æ•°æ®åº“å†…å­˜ä¼˜ï¼š å­˜å–é€Ÿåº¦å¿«ï¼›ç¼ºï¼š æ•°æ®ä¸èƒ½æ°¸ä¹…ä¿å­˜ æ–‡ä»¶ä¼˜ï¼š æ•°æ®æ°¸ä¹…ä¿å­˜ï¼›ç¼ºï¼š1ï¼‰é€Ÿåº¦æ¯”å†…å­˜æ“ä½œæ…¢ï¼Œé¢‘ç¹çš„IOæ“ä½œ 2ï¼‰æŸ¥è¯¢ä¸æ–¹ä¾¿ æ•°æ®åº“ 1ï¼‰æ•°æ®æ°¸ä¹…ä¿å­˜ 2ï¼‰ä½¿ç”¨SQLè¯­å¥ï¼ŒæŸ¥è¯¢æ–¹ä¾¿æ•ˆç‡é«˜ã€‚3ï¼‰ç®¡ç†æ•°æ®æ–¹ä¾¿ ä»€ä¹ˆæ˜¯SQLï¼Ÿç»“æ„åŒ–æŸ¥è¯¢è¯­è¨€(Structured Query Language)ï¼Œç”¨äºå­˜å–æ•°æ®ã€æŸ¥è¯¢ã€æ›´æ–°å’Œç®¡ç†å…³ç³»æ•°æ®åº“ç³»ç»Ÿçš„æ•°æ®åº“æŸ¥è¯¢è¯­è¨€ ä»€ä¹ˆæ˜¯MySQL?å…³ç³»å‹æ•°æ®åº“ç®¡ç†ç³»ç»Ÿ æ•°æ®åº“ä¸‰å¤§èŒƒå¼æ˜¯ä»€ä¹ˆç¬¬ä¸€èŒƒå¼ï¼šæ¯ä¸ªåˆ—éƒ½ä¸å¯ä»¥å†æ‹†åˆ†ã€‚ç¬¬äºŒèŒƒå¼ï¼šåœ¨ç¬¬ä¸€èŒƒå¼çš„åŸºç¡€ä¸Šï¼Œéä¸»é”®åˆ—å®Œå…¨ä¾èµ–äºä¸»é”®ï¼Œè€Œä¸èƒ½æ˜¯ä¾èµ–äºä¸»é”®çš„ä¸€éƒ¨åˆ†ã€‚ç¬¬ä¸‰èŒƒå¼ï¼šåœ¨ç¬¬äºŒèŒƒå¼çš„åŸºç¡€ä¸Šï¼Œéä¸»é”®åˆ—åªä¾èµ–äºä¸»é”®ï¼Œä¸ä¾èµ–äºå…¶ä»–éä¸»é”®ã€‚ åœ¨è®¾è®¡æ•°æ®åº“ç»“æ„çš„æ—¶å€™ï¼Œè¦å°½é‡éµå®ˆä¸‰èŒƒå¼ï¼Œå¦‚æœä¸éµå®ˆï¼Œå¿…é¡»æœ‰è¶³å¤Ÿçš„ç†ç”±ã€‚æ¯”å¦‚æ€§èƒ½ã€‚äº‹å®ä¸Šæˆ‘ä»¬ç»å¸¸ä¼šä¸ºäº†æ€§èƒ½è€Œå¦¥åæ•°æ®åº“çš„è®¾è®¡ã€‚ mysqlæœ‰å…³æƒé™çš„è¡¨éƒ½æœ‰å“ªå‡ ä¸ªMySQLæœåŠ¡å™¨é€šè¿‡æƒé™è¡¨æ¥æ§åˆ¶ç”¨æˆ·å¯¹æ•°æ®åº“çš„è®¿é—®ï¼Œæƒé™è¡¨å­˜æ”¾åœ¨mysqlæ•°æ®åº“é‡Œï¼Œç”±mysql_install_dbè„šæœ¬åˆå§‹åŒ–ã€‚è¿™äº›æƒé™è¡¨åˆ†åˆ«userï¼Œdbï¼Œtable_privï¼Œcolumns_privå’Œhostã€‚ä¸‹é¢åˆ†åˆ«ä»‹ç»ä¸€ä¸‹è¿™äº›è¡¨çš„ç»“æ„å’Œå†…å®¹ï¼š useræƒé™è¡¨ï¼šè®°å½•å…è®¸è¿æ¥åˆ°æœåŠ¡å™¨çš„ç”¨æˆ·å¸å·ä¿¡æ¯ï¼Œé‡Œé¢çš„æƒé™æ˜¯å…¨å±€çº§çš„ã€‚dbæƒé™è¡¨ï¼šè®°å½•å„ä¸ªå¸å·åœ¨å„ä¸ªæ•°æ®åº“ä¸Šçš„æ“ä½œæƒé™ã€‚table_privæƒé™è¡¨ï¼šè®°å½•æ•°æ®è¡¨çº§çš„æ“ä½œæƒé™ã€‚columns_privæƒé™è¡¨ï¼šè®°å½•æ•°æ®åˆ—çº§çš„æ“ä½œæƒé™ã€‚hostæƒé™è¡¨ï¼šé…åˆdbæƒé™è¡¨å¯¹ç»™å®šä¸»æœºä¸Šæ•°æ®åº“çº§æ“ä½œæƒé™ä½œæ›´ç»†è‡´çš„æ§åˆ¶ã€‚è¿™ä¸ªæƒé™è¡¨ä¸å—GRANTå’ŒREVOKEè¯­å¥çš„å½±å“ã€‚ MySQLçš„binlogæœ‰æœ‰å‡ ç§å½•å…¥æ ¼å¼ï¼Ÿåˆ†åˆ«æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿæœ‰ä¸‰ç§æ ¼å¼ï¼Œstatementï¼Œrowå’Œmixedã€‚ statementæ¨¡å¼ä¸‹ï¼Œæ¯ä¸€æ¡ä¼šä¿®æ”¹æ•°æ®çš„sqléƒ½ä¼šè®°å½•åœ¨binlogä¸­ã€‚ä¸éœ€è¦è®°å½•æ¯ä¸€è¡Œçš„å˜åŒ–ï¼Œå‡å°‘äº†binlogæ—¥å¿—é‡ï¼ŒèŠ‚çº¦äº†IOï¼Œæé«˜æ€§èƒ½ã€‚ç”±äºsqlçš„æ‰§è¡Œæ˜¯æœ‰ä¸Šä¸‹æ–‡çš„ï¼Œå› æ­¤åœ¨ä¿å­˜çš„æ—¶å€™éœ€è¦ä¿å­˜ç›¸å…³çš„ä¿¡æ¯ï¼ŒåŒæ—¶è¿˜æœ‰ä¸€äº›ä½¿ç”¨äº†å‡½æ•°ä¹‹ç±»çš„è¯­å¥æ— æ³•è¢«è®°å½•å¤åˆ¶ã€‚rowçº§åˆ«ä¸‹ï¼Œä¸è®°å½•sqlè¯­å¥ä¸Šä¸‹æ–‡ç›¸å…³ä¿¡æ¯ï¼Œä»…ä¿å­˜å“ªæ¡è®°å½•è¢«ä¿®æ”¹ã€‚è®°å½•å•å…ƒä¸ºæ¯ä¸€è¡Œçš„æ”¹åŠ¨ï¼ŒåŸºæœ¬æ˜¯å¯ä»¥å…¨éƒ¨è®°ä¸‹æ¥ä½†æ˜¯ç”±äºå¾ˆå¤šæ“ä½œï¼Œä¼šå¯¼è‡´å¤§é‡è¡Œçš„æ”¹åŠ¨(æ¯”å¦‚alter table)ï¼Œå› æ­¤è¿™ç§æ¨¡å¼çš„æ–‡ä»¶ä¿å­˜çš„ä¿¡æ¯å¤ªå¤šï¼Œæ—¥å¿—é‡å¤ªå¤§ã€‚mixedï¼Œä¸€ç§æŠ˜ä¸­çš„æ–¹æ¡ˆï¼Œæ™®é€šæ“ä½œä½¿ç”¨statementè®°å½•ï¼Œå½“æ— æ³•ä½¿ç”¨statementçš„æ—¶å€™ä½¿ç”¨rowã€‚ æ­¤å¤–ï¼Œæ–°ç‰ˆçš„MySQLä¸­å¯¹rowçº§åˆ«ä¹Ÿåšäº†ä¸€äº›ä¼˜åŒ–ï¼Œå½“è¡¨ç»“æ„å‘ç”Ÿå˜åŒ–çš„æ—¶å€™ï¼Œä¼šè®°å½•è¯­å¥è€Œä¸æ˜¯é€è¡Œè®°å½•ã€‚ æ‰§è¡Œé¡ºåº CREATEï¼ˆdropï¼Œuseï¼‰ DATABASE æ•°æ®åº“å;CREATE TABLE IF NOT EXISTS runoob_tbl( runoob_id INT UNSIGNED AUTO_INCREMENT, runoob_title VARCHAR(100) NOT NULL, runoob_author VARCHAR(40) NOT NULL, submission_date DATE, PRIMARY KEY ( runoob_id ) )ENGINE=InnoDB DEFAULT CHARSET=utf8; Â· å¢åˆ æ”¹æŸ¥â€¢ INSERT INTO table_name ( field1, field2,â€¦fieldN ) VALUES ( value1, value2,â€¦valueN )ï¼Œ ( value11, value22,â€¦valueNN ); â€¢ SELECT columnname,column_name FROM table_name [WHERE condition1 [AND [OR]] condition2 field1 LIKE condition1 [AND [OR]] filed2 = â€˜somevalueâ€™][LIMIT N][ OFFSET M] æŸ¥è¯¢è¯­å¥ä¸­ä½ å¯ä»¥ä½¿ç”¨ä¸€ä¸ªæˆ–è€…å¤šä¸ªè¡¨ï¼Œè¡¨ä¹‹é—´ä½¿ç”¨é€—å·(,)åˆ†å‰²ï¼Œå¹¶ä½¿ç”¨WHEREè¯­å¥æ¥è®¾å®šæŸ¥è¯¢æ¡ä»¶ã€‚ SELECT å‘½ä»¤å¯ä»¥è¯»å–ä¸€æ¡æˆ–è€…å¤šæ¡è®°å½•ã€‚ ä½ å¯ä»¥ä½¿ç”¨æ˜Ÿå·ï¼ˆ*ï¼‰æ¥ä»£æ›¿å…¶ä»–å­—æ®µï¼ŒSELECTè¯­å¥ä¼šè¿”å›è¡¨çš„æ‰€æœ‰å­—æ®µæ•°æ® ä½ å¯ä»¥ä½¿ç”¨ WHERE è¯­å¥æ¥åŒ…å«ä»»ä½•æ¡ä»¶ï¼Œä½¿ç”¨ AND æˆ–è€… OR æŒ‡å®šä¸€ä¸ªæˆ–å¤šä¸ªæ¡ä»¶ã€‚ ä½ å¯ä»¥ä½¿ç”¨LIKEå­å¥ä»£æ›¿ç­‰å· =ã€‚- ä»£è¡¨å•ä¸ªï¼Œ% è¡¨ç¤ºä»»æ„ 0 ä¸ªæˆ–å¤šä¸ªå­—ç¬¦ã€‚å¯åŒ¹é…ä»»æ„ç±»å‹å’Œé•¿åº¦çš„å­—ç¬¦ï¼Œæœ‰äº›æƒ…å†µä¸‹è‹¥æ˜¯ä¸­æ–‡ï¼Œè¯·ä½¿ç”¨ä¸¤ä¸ªç™¾åˆ†å·ï¼ˆ%%ï¼‰è¡¨ç¤ºã€‚[]ï¼šè¡¨ç¤ºæ‹¬å·å†…æ‰€åˆ—å­—ç¬¦ä¸­çš„ä¸€ä¸ªï¼ˆç±»ä¼¼æ­£åˆ™è¡¨è¾¾å¼ï¼‰ã€‚æŒ‡å®šä¸€ä¸ªå­—ç¬¦ã€å­—ç¬¦ä¸²æˆ–èŒƒå›´ï¼Œè¦æ±‚æ‰€åŒ¹é…å¯¹è±¡ä¸ºå®ƒä»¬ä¸­çš„ä»»ä¸€ä¸ªã€‚ ï¼šè¡¨ç¤ºä¸åœ¨æ‹¬å·æ‰€åˆ—ä¹‹å†…çš„å•ä¸ªå­—ç¬¦ã€‚å…¶å–å€¼å’Œ [] ç›¸åŒï¼Œä½†å®ƒè¦æ±‚æ‰€åŒ¹é…å¯¹è±¡ä¸ºæŒ‡å®šå­—ç¬¦ä»¥å¤–çš„ä»»ä¸€ä¸ªå­—ç¬¦ã€‚ æŸ¥è¯¢å†…å®¹åŒ…å«é€šé…ç¬¦æ—¶,ç”±äºé€šé…ç¬¦çš„ç¼˜æ•…ï¼Œå¯¼è‡´æˆ‘ä»¬æŸ¥è¯¢ç‰¹æ®Šå­—ç¬¦ â€œ%â€ã€â€œâ€ã€â€œ[â€ çš„è¯­å¥æ— æ³•æ­£å¸¸å®ç°ï¼Œè€ŒæŠŠç‰¹æ®Šå­—ç¬¦ç”¨ â€œ[ ]â€ æ‹¬èµ·ä¾¿å¯æ­£å¸¸æŸ¥è¯¢ã€‚ ä½ å¯ä»¥ä½¿ç”¨ LIMIT å±æ€§æ¥è®¾å®šè¿”å›çš„è®°å½•æ•°ã€‚ ä½ å¯ä»¥é€šè¿‡OFFSETæŒ‡å®šSELECTè¯­å¥å¼€å§‹æŸ¥è¯¢çš„æ•°æ®åç§»é‡ã€‚é»˜è®¤æƒ…å†µä¸‹åç§»é‡ä¸º0ã€‚ â€¢ SELECT expression1, expression2, â€¦ expression_n FROM tables [WHERE conditions] UNION [ALL | DISTINCT] SELECT expression1, expression2, â€¦ expression_n FROM tables [WHERE conditions]; UNION æ“ä½œç¬¦ç”¨äºè¿æ¥ä¸¤ä¸ªä»¥ä¸Šçš„ SELECT è¯­å¥çš„ç»“æœç»„åˆåˆ°ä¸€ä¸ªç»“æœé›†åˆä¸­ã€‚å¤šä¸ª SELECT è¯­å¥ä¼šåˆ é™¤é‡å¤çš„æ•°æ®ã€‚ expression1, expression2, â€¦ expression_n: è¦æ£€ç´¢çš„åˆ—ã€‚ tables: è¦æ£€ç´¢çš„æ•°æ®è¡¨ã€‚ WHERE conditions: å¯é€‰ï¼Œ æ£€ç´¢æ¡ä»¶ã€‚ DISTINCT: å¯é€‰ï¼Œåˆ é™¤ç»“æœé›†ä¸­é‡å¤çš„æ•°æ®ã€‚é»˜è®¤æƒ…å†µä¸‹ UNION æ“ä½œç¬¦å·²ç»åˆ é™¤äº†é‡å¤æ•°æ®ï¼Œæ‰€ä»¥ DISTINCT ä¿®é¥°ç¬¦å¯¹ç»“æœæ²¡å•¥å½±å“ã€‚ ALL: å¯é€‰ï¼Œè¿”å›æ‰€æœ‰ç»“æœé›†ï¼ŒåŒ…å«é‡å¤æ•°æ®ã€‚ â€¢ SELECT field1, field2,â€¦fieldN FROM table_name1, table_name2â€¦ORDER BY field1 [ASC [DESC][é»˜è®¤ ASC]], [field2â€¦] [ASC [DESC][é»˜è®¤ ASC]] â€¢ SELECT column_name, function(column_name) FROM table_name WHERE column_name operator value GROUP BY column_name; â€¢ æ ¹æ®ä¸€ä¸ªæˆ–å¤šä¸ªåˆ—å¯¹ç»“æœé›†è¿›è¡Œåˆ†ç»„ã€‚ åœ¨åˆ†ç»„çš„åˆ—ä¸Šæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ COUNT, SUM, AVG,ç­‰å‡½æ•°ã€‚ WITH ROLLUP å¯ä»¥å®ç°åœ¨åˆ†ç»„ç»Ÿè®¡æ•°æ®åŸºç¡€ä¸Šå†è¿›è¡Œç›¸åŒçš„ç»Ÿè®¡ï¼ˆSUM,AVG,COUNTâ€¦ï¼‰ â€¢ ä½¿ç”¨èšåˆå‡½æ•°åéœ€è¦group byåˆ†ç»„ï¼Œhavingåªèƒ½ç”¨äºgroup by åé¢ â€¢ INNER JOINï¼ˆå†…è¿æ¥,æˆ–ç­‰å€¼è¿æ¥ï¼‰ã€äº¤é›†ã€‘ï¼šè·å–ä¸¤ä¸ªè¡¨ä¸­å­—æ®µåŒ¹é…å…³ç³»çš„è®°å½•ã€‚ LEFT JOINï¼ˆå·¦è¿æ¥ï¼‰ã€å·¦äº¤ã€‘ï¼šè·å–å·¦è¡¨æ‰€æœ‰è®°å½•ï¼Œå³ä½¿å³è¡¨æ²¡æœ‰å¯¹åº”åŒ¹é…çš„è®°å½•ã€‚ RIGHT JOINï¼ˆå³è¿æ¥ï¼‰ã€å·¦äº¤ã€‘ï¼š ä¸ LEFT JOIN ç›¸åï¼Œç”¨äºè·å–å³è¡¨æ‰€æœ‰è®°å½•ï¼Œå³ä½¿å·¦è¡¨æ²¡æœ‰å¯¹åº”åŒ¹é…çš„è®°å½•ã€‚ â€¢ select p.id,p.name,t.content from person p left join task t on p.id=t.person_id order by p.id â€¢ UPDATE table_name SET field1=new-value1, field2=new-value2 [WHERE Clause] ä½ å¯ä»¥åŒæ—¶æ›´æ–°ä¸€ä¸ªæˆ–å¤šä¸ªå­—æ®µã€‚ ä½ å¯ä»¥åœ¨ WHERE å­å¥ä¸­æŒ‡å®šä»»ä½•æ¡ä»¶ã€‚ ä½ å¯ä»¥åœ¨ä¸€ä¸ªå•ç‹¬è¡¨ä¸­åŒæ—¶æ›´æ–°æ•°æ®ã€‚ â€¢ update titles_test set emp_no=replace(emp_no,â€™10001â€™,â€™10005â€™) where id=5 â€¢ DELETE FROM table_name [WHERE Clause] å¦‚æœæ²¡æœ‰æŒ‡å®š WHERE å­å¥ï¼ŒMySQL è¡¨ä¸­çš„æ‰€æœ‰è®°å½•å°†è¢«åˆ é™¤ã€‚ ä½ å¯ä»¥åœ¨ WHERE å­å¥ä¸­æŒ‡å®šä»»ä½•æ¡ä»¶ æ‚¨å¯ä»¥åœ¨å•ä¸ªè¡¨ä¸­ä¸€æ¬¡æ€§åˆ é™¤è®°å½•ã€‚ DROP TABLE table_name ; ALTER TABLE table_name DROP i; ADD i INT ; åˆ é™¤ï¼Œæ·»åŠ æˆ–ä¿®æ”¹è¡¨å­—æ®µ MODIFY c CHAR(10) ; CHANGE i j BIGINT; ä¿®æ”¹å­—æ®µç±»å‹åŠåç§° ALTER i SET DEFAULT 1000; ALTER i DROP DEFAULT; ä¿®æ”¹,åˆ é™¤å­—æ®µçš„é»˜è®¤å€¼ ALTER TABLE testalter_tbl RENAME TO alter_tbl;æ”¹è¡¨å Â· è¡¨ä¸­åªå‰©ä½™ä¸€ä¸ªå­—æ®µåˆ™æ— æ³•ä½¿ç”¨DROPæ¥åˆ é™¤å­—æ®µ æ•°æ®ç±»å‹ å¼•æ“MySQLå­˜å‚¨å¼•æ“MyISAMä¸InnoDBåŒºåˆ«å­˜å‚¨å¼•æ“ Storage engineï¼šMySQL ä¸­çš„æ•°æ®ã€ç´¢å¼•ä»¥åŠå…¶ä»–å¯¹è±¡æ˜¯å¦‚ä½•å­˜å‚¨çš„ï¼Œæ˜¯ä¸€å¥—æ–‡ä»¶ç³»ç»Ÿçš„å®ç°ã€‚ MyISAMç´¢å¼•ä¸InnoDBç´¢å¼•çš„åŒºåˆ«ï¼ŸInnodb å¼•æ“ï¼šInnodb å¼•æ“æä¾›äº†å¯¹æ•°æ®åº“ ACID äº‹åŠ¡çš„æ”¯æŒã€‚å¹¶ä¸”è¿˜æä¾›äº†è¡Œçº§é”å’Œå¤–é”®çš„çº¦æŸã€‚å®ƒçš„è®¾è®¡çš„ç›®æ ‡å°±æ˜¯å¤„ç†å¤§æ•°æ®å®¹é‡çš„æ•°æ®åº“ç³»ç»Ÿã€‚ MyIASM å¼•æ“ (åŸæœ¬ Mysql çš„é»˜è®¤å¼•æ“)ï¼šä¸æä¾›äº‹åŠ¡çš„æ”¯æŒï¼Œä¹Ÿä¸æ”¯æŒè¡Œçº§é”å’Œå¤–é”®ã€‚ MEMORY å¼•æ“ï¼šæ‰€æœ‰çš„æ•°æ®éƒ½åœ¨å†…å­˜ä¸­ï¼Œæ•°æ®çš„å¤„ç†é€Ÿåº¦å¿«ï¼Œä½†æ˜¯å®‰å…¨æ€§ä¸é«˜ã€‚ InnoDB ç´¢å¼•æ˜¯èšç°‡ç´¢å¼•ï¼ŒMyISAM ç´¢å¼•æ˜¯éèšç°‡ç´¢å¼•ã€‚ InnoDB çš„ä¸»é”®ç´¢å¼•çš„å¶å­èŠ‚ç‚¹å­˜å‚¨ç€è¡Œæ•°æ®ï¼Œå› æ­¤ä¸»é”®ç´¢å¼•éå¸¸é«˜æ•ˆã€‚ MyISAM ç´¢å¼•çš„å¶å­èŠ‚ç‚¹å­˜å‚¨çš„æ˜¯è¡Œæ•°æ®åœ°å€ï¼Œéœ€è¦å†å¯»å€ä¸€æ¬¡æ‰èƒ½å¾—åˆ°æ•°æ®ã€‚ InnoDB éä¸»é”®ç´¢å¼•çš„å¶å­èŠ‚ç‚¹å­˜å‚¨çš„æ˜¯ä¸»é”®å’Œå…¶ä»–å¸¦ç´¢å¼•çš„åˆ—æ•°æ®ï¼Œå› æ­¤æŸ¥è¯¢æ—¶åšåˆ°è¦†ç›–ç´¢å¼•ä¼šéå¸¸é«˜æ•ˆã€‚ InnoDBå¼•æ“çš„4å¤§ç‰¹æ€§æ’å…¥ç¼“å†²ï¼ˆinsert buffer) äºŒæ¬¡å†™ (double write) è‡ªé€‚åº”å“ˆå¸Œç´¢å¼• (ahi) é¢„è¯» (read ahead) å­˜å‚¨å¼•æ“é€‰æ‹©å¦‚æœæ²¡æœ‰ç‰¹åˆ«çš„éœ€æ±‚ï¼Œä½¿ç”¨é»˜è®¤çš„Innodbå³å¯ã€‚ MyISAMï¼šä»¥è¯»å†™æ’å…¥ä¸ºä¸»çš„åº”ç”¨ç¨‹åºï¼Œæ¯”å¦‚åšå®¢ç³»ç»Ÿã€æ–°é—»é—¨æˆ·ç½‘ç«™ã€‚ Innodbï¼šæ›´æ–°ï¼ˆåˆ é™¤ï¼‰æ“ä½œé¢‘ç‡ä¹Ÿé«˜ï¼Œæˆ–è€…è¦ä¿è¯æ•°æ®çš„å®Œæ•´æ€§ï¼›å¹¶å‘é‡é«˜ï¼Œæ”¯æŒäº‹åŠ¡å’Œå¤–é”®ã€‚æ¯”å¦‚ OA è‡ªåŠ¨åŒ–åŠå…¬ç³»ç»Ÿã€‚ ç´¢å¼•ä»€ä¹ˆæ˜¯ç´¢å¼•ï¼Ÿç´¢å¼•æ˜¯ä¸€ç§ç‰¹æ®Šçš„æ–‡ä»¶ (InnoDB æ•°æ®è¡¨ä¸Šçš„ç´¢å¼•æ˜¯è¡¨ç©ºé—´çš„ä¸€ä¸ªç»„æˆéƒ¨åˆ†)ï¼Œå®ƒä»¬åŒ…å«ç€å¯¹æ•°æ®è¡¨é‡Œæ‰€æœ‰è®°å½•çš„å¼•ç”¨æŒ‡é’ˆã€‚ ç´¢å¼•æ˜¯ä¸€ç§æ•°æ®ç»“æ„ã€‚æ•°æ®åº“ç´¢å¼•ï¼Œæ˜¯æ•°æ®åº“ç®¡ç†ç³»ç»Ÿä¸­ä¸€ä¸ªæ’åºçš„æ•°æ®ç»“æ„ï¼Œä»¥ååŠ©å¿«é€ŸæŸ¥è¯¢ã€æ›´æ–°æ•°æ®åº“è¡¨ä¸­æ•°æ®ã€‚ç´¢å¼•çš„å®ç°é€šå¸¸ä½¿ç”¨ B æ ‘åŠå…¶å˜ç§ B + æ ‘ã€‚ æ›´é€šä¿—çš„è¯´ï¼Œç´¢å¼•å°±ç›¸å½“äºç›®å½•ã€‚ä¸ºäº†æ–¹ä¾¿æŸ¥æ‰¾ä¹¦ä¸­çš„å†…å®¹ï¼Œé€šè¿‡å¯¹å†…å®¹å»ºç«‹ç´¢å¼•å½¢æˆç›®å½•ã€‚ç´¢å¼•æ˜¯ä¸€ä¸ªæ–‡ä»¶ï¼Œå®ƒæ˜¯è¦å æ®ç‰©ç†ç©ºé—´çš„ã€‚ ç´¢å¼•æœ‰å“ªäº›ä¼˜ç¼ºç‚¹ï¼Ÿä¼˜ å¯ä»¥å¤§å¤§åŠ å¿«æ•°æ®çš„æ£€ç´¢é€Ÿåº¦ï¼Œè¿™ä¹Ÿæ˜¯åˆ›å»ºç´¢å¼•çš„æœ€ä¸»è¦çš„åŸå› ã€‚ é€šè¿‡ä½¿ç”¨ç´¢å¼•ï¼Œå¯ä»¥åœ¨æŸ¥è¯¢çš„è¿‡ç¨‹ä¸­ï¼Œä½¿ç”¨ä¼˜åŒ–éšè—å™¨ï¼Œæé«˜ç³»ç»Ÿçš„æ€§èƒ½ã€‚ ç¼º æ—¶é—´æ–¹é¢ï¼šåˆ›å»ºç´¢å¼•å’Œç»´æŠ¤ç´¢å¼•è¦è€—è´¹æ—¶é—´ï¼Œå…·ä½“åœ°ï¼Œå½“å¯¹è¡¨ä¸­çš„æ•°æ®è¿›è¡Œå¢åŠ ã€åˆ é™¤å’Œä¿®æ”¹çš„æ—¶å€™ï¼Œç´¢å¼•ä¹Ÿè¦åŠ¨æ€çš„ç»´æŠ¤ï¼Œä¼šé™ä½å¢ / æ”¹ / åˆ çš„æ‰§è¡Œæ•ˆç‡ï¼› ç©ºé—´æ–¹é¢ï¼šç´¢å¼•éœ€è¦å ç‰©ç†ç©ºé—´ ç´¢å¼•ä½¿ç”¨åœºæ™¯ï¼ˆé‡ç‚¹ï¼‰whereå¯ä»¥å°è¯•åœ¨ä¸€ä¸ªå­—æ®µæœªå»ºç«‹ç´¢å¼•æ—¶ï¼Œæ ¹æ®è¯¥å­—æ®µæŸ¥è¯¢çš„æ•ˆç‡ï¼Œç„¶åå¯¹è¯¥å­—æ®µå»ºç«‹ç´¢å¼•ï¼ˆalter table è¡¨å add index(å­—æ®µå)ï¼‰ï¼ŒåŒæ ·çš„ SQL æ‰§è¡Œçš„æ•ˆç‡ï¼Œä½ ä¼šå‘ç°æŸ¥è¯¢æ•ˆç‡ä¼šæœ‰æ˜æ˜¾çš„æå‡ï¼ˆæ•°æ®é‡è¶Šå¤§è¶Šæ˜æ˜¾ï¼‰ã€‚ order byä½¿ç”¨order byå°†æŸ¥è¯¢ç»“æœæŒ‰ç…§æŸä¸ªå­—æ®µæ’åºæ—¶ï¼Œå¦‚æœè¯¥å­—æ®µæ²¡æœ‰å»ºç«‹ç´¢å¼•ï¼Œé‚£ä¹ˆæ‰§è¡Œè®¡åˆ’ä¼šå°†æŸ¥è¯¢å‡ºçš„æ‰€æœ‰æ•°æ®ä½¿ç”¨å¤–éƒ¨æ’åºï¼ˆå°†æ•°æ®ä»ç¡¬ç›˜åˆ†æ‰¹è¯»å–åˆ°å†…å­˜ä½¿ç”¨å†…éƒ¨æ’åºï¼Œæœ€ååˆå¹¶æ’åºç»“æœï¼‰ï¼Œè¿™æ“ä½œå¾ˆå½±å“æ€§èƒ½çš„ï¼Œå› ä¸ºéœ€è¦å°†æŸ¥è¯¢æ¶‰åŠåˆ°çš„æ‰€æœ‰æ•°æ®ä»ç£ç›˜ä¸­è¯»åˆ°å†…å­˜ï¼ˆå¦‚æœå•æ¡æ•°æ®è¿‡å¤§æˆ–è€…æ•°æ®é‡è¿‡å¤šéƒ½ä¼šé™ä½æ•ˆç‡ï¼‰ï¼Œæ›´æ— è®ºè¯»åˆ°å†…å­˜ä¹‹åçš„æ’åºäº†ã€‚ ä½†æ˜¯å¦‚æœæˆ‘ä»¬å¯¹è¯¥å­—æ®µå»ºç«‹ç´¢å¼•alter table è¡¨å add index(å­—æ®µå)ï¼Œé‚£ä¹ˆç”±äºç´¢å¼•æœ¬èº«æ˜¯æœ‰åºçš„ï¼Œå› æ­¤ç›´æ¥æŒ‰ç…§ç´¢å¼•çš„é¡ºåºå’Œæ˜ å°„å…³ç³»é€æ¡å–å‡ºæ•°æ®å³å¯ã€‚è€Œä¸”å¦‚æœåˆ†é¡µçš„ï¼Œé‚£ä¹ˆåªç”¨å–å‡ºç´¢å¼•è¡¨æŸä¸ªèŒƒå›´å†…çš„ç´¢å¼•å¯¹åº”çš„æ•°æ®ï¼Œè€Œä¸ç”¨åƒä¸Šè¿°é‚£å–å‡ºæ‰€æœ‰æ•°æ®è¿›è¡Œæ’åºå†è¿”å›æŸä¸ªèŒƒå›´å†…çš„æ•°æ®ã€‚ï¼ˆä»ç£ç›˜å–æ•°æ®æ˜¯æœ€å½±å“æ€§èƒ½çš„ï¼‰ joinå¯¹joinè¯­å¥åŒ¹é…å…³ç³»ï¼ˆonï¼‰æ¶‰åŠçš„å­—æ®µå»ºç«‹ç´¢å¼•èƒ½å¤Ÿæé«˜æ•ˆç‡ ç´¢å¼•è¦†ç›–å¦‚æœè¦æŸ¥è¯¢çš„å­—æ®µéƒ½å»ºç«‹è¿‡ç´¢å¼•ï¼Œé‚£ä¹ˆå¼•æ“ä¼šç›´æ¥åœ¨ç´¢å¼•è¡¨ä¸­æŸ¥è¯¢è€Œä¸ä¼šè®¿é—®åŸå§‹æ•°æ®ï¼ˆå¦åˆ™åªè¦æœ‰ä¸€ä¸ªå­—æ®µæ²¡æœ‰å»ºç«‹ç´¢å¼•å°±ä¼šåšå…¨è¡¨æ‰«æï¼‰ï¼Œè¿™å«ç´¢å¼•è¦†ç›–ã€‚å› æ­¤æˆ‘ä»¬éœ€è¦å°½å¯èƒ½çš„åœ¨selectååªå†™å¿…è¦çš„æŸ¥è¯¢å­—æ®µï¼Œä»¥å¢åŠ ç´¢å¼•è¦†ç›–çš„å‡ ç‡ã€‚ è¿™é‡Œå€¼å¾—æ³¨æ„çš„æ˜¯ä¸è¦æƒ³ç€ä¸ºæ¯ä¸ªå­—æ®µå»ºç«‹ç´¢å¼•ï¼Œå› ä¸ºä¼˜å…ˆä½¿ç”¨ç´¢å¼•çš„ä¼˜åŠ¿å°±åœ¨äºå…¶ä½“ç§¯å°ã€‚ ç´¢å¼•æœ‰å“ªå‡ ç§ç±»å‹ï¼Ÿ1ï¼‰ä»å­˜å‚¨ç»“æ„ä¸Šæ¥åˆ’åˆ†Â· Btree ç´¢å¼•ï¼ˆB+treeï¼ŒB-tree) Â· å“ˆå¸Œç´¢å¼• Â· full-index å…¨æ–‡ç´¢å¼• Â· RTree 2ï¼‰ä»åº”ç”¨å±‚æ¬¡ä¸Šæ¥åˆ’åˆ†Â· æ™®é€šç´¢å¼•: åŸºæœ¬çš„ç´¢å¼•ç±»å‹ï¼Œæ²¡æœ‰å”¯ä¸€æ€§çš„é™åˆ¶ï¼Œå…è®¸ä¸º NULL å€¼ã€‚ CREATE INDEX indexName ON table_name (column_name)æˆ– ALTER TABLE table_name ADD INDEX index_name (column);åˆ›å»ºæ™®é€šç´¢å¼• ALTER TABLE table_name ADD INDEX index_name(column1, column2, column3);åˆ›å»ºç»„åˆç´¢å¼• â€¢ ALTER TABLE testalter_tbl ADD/DROP INDEX (c); Â· å”¯ä¸€ç´¢å¼•: æ•°æ®åˆ—ä¸å…è®¸é‡å¤ï¼Œå…è®¸ä¸º NULL å€¼ï¼Œä¸€ä¸ªè¡¨å…è®¸å¤šä¸ªåˆ—åˆ›å»ºå”¯ä¸€ç´¢å¼•ã€‚ å¯ä»¥é€šè¿‡ ALTER TABLE table_name ADD UNIQUE (column); åˆ›å»ºå”¯ä¸€ç´¢å¼• å¯ä»¥é€šè¿‡ ALTER TABLE table_name ADD UNIQUE (column1,column2); åˆ›å»ºå”¯ä¸€ç»„åˆç´¢å¼• Â· ä¸»é”®ç´¢å¼•: æ•°æ®åˆ—ä¸å…è®¸é‡å¤ï¼Œä¸å…è®¸ä¸º NULLï¼Œä¸€ä¸ªè¡¨åªèƒ½æœ‰ä¸€ä¸ªä¸»é”®ã€‚ ALTER TABLE table_name ADD PRIMARY KEY ( column ) 3ï¼‰ä»è¡¨è®°å½•çš„æ’åˆ—é¡ºåºå’Œç´¢å¼•çš„æ’åˆ—é¡ºåºæ˜¯å¦ä¸€è‡´æ¥åˆ’åˆ†Â· èšé›†ç´¢å¼•ï¼šè¡¨è®°å½•çš„æ’åˆ—é¡ºåºå’Œç´¢å¼•çš„æ’åˆ—é¡ºåºä¸€è‡´ã€‚ â€¢ å°±æ˜¯ä»¥ä¸»é”®åˆ›å»ºçš„ç´¢å¼•ã€‚ Â· éèšé›†ç´¢å¼•ï¼šè¡¨è®°å½•çš„æ’åˆ—é¡ºåºå’Œç´¢å¼•çš„æ’åˆ—é¡ºåºä¸ä¸€è‡´ã€‚ â€¢ ä»¥éä¸»é”®åˆ›å»ºçš„ç´¢å¼•ï¼ˆä¹Ÿå«åšäºŒçº§ç´¢å¼•ï¼‰ã€‚ ç´¢å¼•çš„æ•°æ®ç»“æ„ï¼ˆbæ ‘ï¼Œhashï¼‰æˆ‘ä»¬ç»å¸¸ä½¿ç”¨çš„ InnoDB å­˜å‚¨å¼•æ“çš„é»˜è®¤ç´¢å¼•å®ç°ä¸ºï¼šB + æ ‘ç´¢å¼•ã€‚å¯¹äºå“ˆå¸Œç´¢å¼•æ¥è¯´ï¼Œåº•å±‚çš„æ•°æ®ç»“æ„å°±æ˜¯å“ˆå¸Œè¡¨ï¼Œå› æ­¤åœ¨ç»å¤§å¤šæ•°éœ€æ±‚ä¸ºå•æ¡è®°å½•æŸ¥è¯¢çš„æ—¶å€™ï¼Œå¯ä»¥é€‰æ‹©å“ˆå¸Œç´¢å¼•ï¼ŒæŸ¥è¯¢æ€§èƒ½æœ€å¿«ï¼›å…¶ä½™å¤§éƒ¨åˆ†åœºæ™¯ï¼Œå»ºè®®é€‰æ‹© BTree ç´¢å¼•ã€‚ B æ ‘ç´¢å¼• Â· mysql é€šè¿‡å­˜å‚¨å¼•æ“å–æ•°æ®ï¼ŒåŸºæœ¬ä¸Š 90% çš„äººç”¨çš„å°±æ˜¯ InnoDB äº†ï¼ŒæŒ‰ç…§å®ç°æ–¹å¼åˆ†ï¼ŒInnoDB çš„ç´¢å¼•ç±»å‹ç›®å‰åªæœ‰ä¸¤ç§ï¼šBTREEï¼ˆB æ ‘ï¼‰ç´¢å¼•å’Œ HASH ç´¢å¼•ã€‚B æ ‘ç´¢å¼•æ˜¯ Mysql æ•°æ®åº“ä¸­ä½¿ç”¨æœ€é¢‘ç¹çš„ç´¢å¼•ç±»å‹ï¼ŒåŸºæœ¬æ‰€æœ‰å­˜å‚¨å¼•æ“éƒ½æ”¯æŒ BTree ç´¢å¼•ã€‚é€šå¸¸æˆ‘ä»¬è¯´çš„ç´¢å¼•ä¸å‡ºæ„å¤–æŒ‡çš„å°±æ˜¯ï¼ˆB æ ‘ï¼‰ç´¢å¼•ï¼ˆå®é™…æ˜¯ç”¨ B + æ ‘å®ç°çš„ï¼Œå› ä¸ºåœ¨æŸ¥çœ‹è¡¨ç´¢å¼•æ—¶ï¼Œmysql ä¸€å¾‹æ‰“å° BTREEï¼Œæ‰€ä»¥ç®€ç§°ä¸º B æ ‘ç´¢å¼•ï¼‰ â€¢ æŸ¥è¯¢æ–¹å¼ï¼š ä¸»é”®ç´¢å¼•åŒº: PI(å…³è”ä¿å­˜çš„æ—¶æ•°æ®çš„åœ°å€) æŒ‰ä¸»é”®æŸ¥è¯¢, æ™®é€šç´¢å¼•åŒº: si(å…³è”çš„ id çš„åœ°å€, ç„¶åå†åˆ°è¾¾ä¸Šé¢çš„åœ°å€)ã€‚æ‰€ä»¥æŒ‰ä¸»é”®æŸ¥è¯¢, é€Ÿåº¦æœ€å¿« B+tree æ€§è´¨ï¼š 1.ï¼‰n æ£µå­ tree çš„èŠ‚ç‚¹åŒ…å« n ä¸ªå…³é”®å­—ï¼Œä¸ç”¨æ¥ä¿å­˜æ•°æ®è€Œæ˜¯ä¿å­˜æ•°æ®çš„ç´¢å¼•ã€‚ 2.ï¼‰æ‰€æœ‰çš„å¶å­ç»“ç‚¹ä¸­åŒ…å«äº†å…¨éƒ¨å…³é”®å­—çš„ä¿¡æ¯ï¼ŒåŠæŒ‡å‘å«è¿™äº›å…³é”®å­—è®°å½•çš„æŒ‡é’ˆï¼Œä¸”å¶å­ç»“ç‚¹æœ¬èº«ä¾å…³é”®å­—çš„å¤§å°è‡ªå°è€Œå¤§é¡ºåºé“¾æ¥ã€‚ 3.ï¼‰æ‰€æœ‰çš„éç»ˆç«¯ç»“ç‚¹å¯ä»¥çœ‹æˆæ˜¯ç´¢å¼•éƒ¨åˆ†ï¼Œç»“ç‚¹ä¸­ä»…å«å…¶å­æ ‘ä¸­çš„æœ€å¤§ï¼ˆæˆ–æœ€å°ï¼‰å…³é”®å­—ã€‚ 4.ï¼‰B+ æ ‘ä¸­ï¼Œæ•°æ®å¯¹è±¡çš„æ’å…¥å’Œåˆ é™¤ä»…åœ¨å¶èŠ‚ç‚¹ä¸Šè¿›è¡Œã€‚ 5.ï¼‰B + æ ‘æœ‰ 2 ä¸ªå¤´æŒ‡é’ˆï¼Œä¸€ä¸ªæ˜¯æ ‘çš„æ ¹èŠ‚ç‚¹ï¼Œä¸€ä¸ªæ˜¯æœ€å°å…³é”®ç çš„å¶èŠ‚ç‚¹ã€‚ å“ˆå¸Œç´¢å¼• ç®€è¦è¯´ä¸‹ï¼Œç±»ä¼¼äºæ•°æ®ç»“æ„ä¸­ç®€å•å®ç°çš„ HASH è¡¨ï¼ˆæ•£åˆ—è¡¨ï¼‰ä¸€æ ·ï¼Œå½“æˆ‘ä»¬åœ¨ mysql ä¸­ç”¨å“ˆå¸Œç´¢å¼•æ—¶ï¼Œä¸»è¦å°±æ˜¯é€šè¿‡ Hash ç®—æ³•ï¼ˆå¸¸è§çš„ Hash ç®—æ³•æœ‰ç›´æ¥å®šå€æ³•ã€å¹³æ–¹å–ä¸­æ³•ã€æŠ˜å æ³•ã€é™¤æ•°å–ä½™æ³•ã€éšæœºæ•°æ³•ï¼‰ï¼Œå°†æ•°æ®åº“å­—æ®µæ•°æ®è½¬æ¢æˆå®šé•¿çš„ Hash å€¼ï¼Œä¸è¿™æ¡æ•°æ®çš„è¡ŒæŒ‡é’ˆä¸€å¹¶å­˜å…¥ Hash è¡¨çš„å¯¹åº”ä½ç½®ï¼›å¦‚æœå‘ç”Ÿ Hash ç¢°æ’ï¼ˆä¸¤ä¸ªä¸åŒå…³é”®å­—çš„ Hash å€¼ç›¸åŒï¼‰ï¼Œåˆ™åœ¨å¯¹åº” Hash é”®ä¸‹ä»¥é“¾è¡¨å½¢å¼å­˜å‚¨ã€‚å½“ç„¶è¿™åªæ˜¯ç®€ç•¥æ¨¡æ‹Ÿå›¾ã€‚ ç´¢å¼•çš„åŸºæœ¬åŸç†ç´¢å¼•ç”¨æ¥å¿«é€Ÿåœ°å¯»æ‰¾é‚£äº›å…·æœ‰ç‰¹å®šå€¼çš„è®°å½•ã€‚å¦‚æœæ²¡æœ‰ç´¢å¼•ï¼Œä¸€èˆ¬æ¥è¯´æ‰§è¡ŒæŸ¥è¯¢æ—¶éå†æ•´å¼ è¡¨ã€‚ ç´¢å¼•çš„åŸç†å¾ˆç®€å•ï¼Œå°±æ˜¯æŠŠæ— åºçš„æ•°æ®å˜æˆæœ‰åºçš„æŸ¥è¯¢ æŠŠåˆ›å»ºäº†ç´¢å¼•çš„åˆ—çš„å†…å®¹è¿›è¡Œæ’åº å¯¹æ’åºç»“æœç”Ÿæˆå€’æ’è¡¨ åœ¨å€’æ’è¡¨å†…å®¹ä¸Šæ‹¼ä¸Šæ•°æ®åœ°å€é“¾ åœ¨æŸ¥è¯¢çš„æ—¶å€™ï¼Œå…ˆæ‹¿åˆ°å€’æ’è¡¨å†…å®¹ï¼Œå†å–å‡ºæ•°æ®åœ°å€é“¾ï¼Œä»è€Œæ‹¿åˆ°å…·ä½“æ•°æ® ç´¢å¼•ç®—æ³•æœ‰å“ªäº›ï¼ŸBTree ç®—æ³• BTree æ˜¯æœ€å¸¸ç”¨çš„ mysql æ•°æ®åº“ç´¢å¼•ç®—æ³•ï¼Œä¹Ÿæ˜¯ mysql é»˜è®¤çš„ç®—æ³•ã€‚å› ä¸ºå®ƒä¸ä»…å¯ä»¥è¢«ç”¨åœ¨ =,&gt;,&gt;=,&lt;,&lt;= å’Œ between è¿™äº›æ¯”è¾ƒæ“ä½œç¬¦ä¸Šï¼Œè€Œä¸”è¿˜å¯ä»¥ç”¨äº like æ“ä½œç¬¦ï¼Œåªè¦å®ƒçš„æŸ¥è¯¢æ¡ä»¶æ˜¯ä¸€ä¸ªä¸ä»¥é€šé…ç¬¦å¼€å¤´çš„å¸¸é‡ï¼Œ ä¾‹å¦‚ï¼š â€” åªè¦å®ƒçš„æŸ¥è¯¢æ¡ä»¶æ˜¯ä¸€ä¸ªä¸ä»¥é€šé…ç¬¦å¼€å¤´çš„å¸¸é‡ select from user where name like â€˜jack%â€™; â€” å¦‚æœä¸€é€šé…ç¬¦å¼€å¤´ï¼Œæˆ–è€…æ²¡æœ‰ä½¿ç”¨å¸¸é‡ï¼Œåˆ™ä¸ä¼šä½¿ç”¨ç´¢å¼•ï¼Œä¾‹å¦‚ï¼š select from user where name like â€˜%jackâ€™; Hash ç®—æ³• Hash Hash ç´¢å¼•åªèƒ½ç”¨äºå¯¹ç­‰æ¯”è¾ƒï¼Œä¾‹å¦‚ =,&lt;=&gt;ï¼ˆç›¸å½“äº =ï¼‰æ“ä½œç¬¦ã€‚ç”±äºæ˜¯ä¸€æ¬¡å®šä½æ•°æ®ï¼Œä¸åƒ BTree ç´¢å¼•éœ€è¦ä»æ ¹èŠ‚ç‚¹åˆ°æèŠ‚ç‚¹ï¼Œæœ€åæ‰èƒ½è®¿é—®åˆ°é¡µèŠ‚ç‚¹è¿™æ ·å¤šæ¬¡ IO è®¿é—®ï¼Œæ‰€ä»¥æ£€ç´¢æ•ˆç‡è¿œé«˜äº BTree ç´¢å¼•ã€‚ ç´¢å¼•è®¾è®¡çš„åŸåˆ™ï¼Ÿé€‚åˆç´¢å¼•çš„åˆ—æ˜¯å‡ºç°åœ¨ where å­å¥ä¸­çš„åˆ—ï¼Œæˆ–è€…è¿æ¥å­å¥ä¸­æŒ‡å®šçš„åˆ— åŸºæ•°è¾ƒå°çš„ç±»ï¼Œç´¢å¼•æ•ˆæœè¾ƒå·®ï¼Œæ²¡æœ‰å¿…è¦åœ¨æ­¤åˆ—å»ºç«‹ç´¢å¼• ä½¿ç”¨çŸ­ç´¢å¼•ï¼Œå¦‚æœå¯¹é•¿å­—ç¬¦ä¸²åˆ—è¿›è¡Œç´¢å¼•ï¼Œåº”è¯¥æŒ‡å®šä¸€ä¸ªå‰ç¼€é•¿åº¦ï¼Œè¿™æ ·èƒ½å¤ŸèŠ‚çœå¤§é‡ç´¢å¼•ç©ºé—´ ä¸è¦è¿‡åº¦ç´¢å¼•ã€‚ç´¢å¼•éœ€è¦é¢å¤–çš„ç£ç›˜ç©ºé—´ï¼Œå¹¶é™ä½å†™æ“ä½œçš„æ€§èƒ½ã€‚åœ¨ä¿®æ”¹è¡¨å†…å®¹çš„æ—¶å€™ï¼Œç´¢å¼•ä¼šè¿›è¡Œæ›´æ–°ç”šè‡³é‡æ„ï¼Œç´¢å¼•åˆ—è¶Šå¤šï¼Œè¿™ä¸ªæ—¶é—´å°±ä¼šè¶Šé•¿ã€‚æ‰€ä»¥åªä¿æŒéœ€è¦çš„ç´¢å¼•æœ‰åˆ©äºæŸ¥è¯¢å³å¯ã€‚ åˆ›å»ºç´¢å¼•çš„åŸåˆ™ï¼ˆé‡ä¸­ä¹‹é‡ï¼‰ç´¢å¼•è™½å¥½ï¼Œä½†ä¹Ÿä¸æ˜¯æ— é™åˆ¶çš„ä½¿ç”¨ï¼Œæœ€å¥½ç¬¦åˆä¸€ä¸‹å‡ ä¸ªåŸåˆ™ 1ï¼‰ æœ€å·¦å‰ç¼€åŒ¹é…åŸåˆ™ï¼Œç»„åˆç´¢å¼•éå¸¸é‡è¦çš„åŸåˆ™ï¼Œmysql ä¼šä¸€ç›´å‘å³åŒ¹é…ç›´åˆ°é‡åˆ°èŒƒå›´æŸ¥è¯¢ (&gt;ã€&lt;ã€betweenã€like) å°±åœæ­¢åŒ¹é…ï¼Œæ¯”å¦‚ a = 1 and b = 2 and c &gt; 3 and d = 4 å¦‚æœå»ºç«‹ (a,b,c,d) é¡ºåºçš„ç´¢å¼•ï¼Œd æ˜¯ç”¨ä¸åˆ°ç´¢å¼•çš„ï¼Œå¦‚æœå»ºç«‹ (a,b,d,c) çš„ç´¢å¼•åˆ™éƒ½å¯ä»¥ç”¨åˆ°ï¼Œa,b,d çš„é¡ºåºå¯ä»¥ä»»æ„è°ƒæ•´ã€‚2ï¼‰è¾ƒé¢‘ç¹ä½œä¸ºæŸ¥è¯¢æ¡ä»¶çš„å­—æ®µæ‰å»åˆ›å»ºç´¢å¼•3ï¼‰æ›´æ–°é¢‘ç¹å­—æ®µä¸é€‚åˆåˆ›å»ºç´¢å¼•4ï¼‰è‹¥æ˜¯ä¸èƒ½æœ‰æ•ˆåŒºåˆ†æ•°æ®çš„åˆ—ä¸é€‚åˆåšç´¢å¼•åˆ— (å¦‚æ€§åˆ«ï¼Œç”·å¥³æœªçŸ¥ï¼Œæœ€å¤šä¹Ÿå°±ä¸‰ç§ï¼ŒåŒºåˆ†åº¦å®åœ¨å¤ªä½)5ï¼‰å°½é‡çš„æ‰©å±•ç´¢å¼•ï¼Œä¸è¦æ–°å»ºç´¢å¼•ã€‚æ¯”å¦‚è¡¨ä¸­å·²ç»æœ‰ a çš„ç´¢å¼•ï¼Œç°åœ¨è¦åŠ  (a,b) çš„ç´¢å¼•ï¼Œé‚£ä¹ˆåªéœ€è¦ä¿®æ”¹åŸæ¥çš„ç´¢å¼•å³å¯ã€‚6ï¼‰å®šä¹‰æœ‰å¤–é”®çš„æ•°æ®åˆ—ä¸€å®šè¦å»ºç«‹ç´¢å¼•ã€‚7ï¼‰å¯¹äºé‚£äº›æŸ¥è¯¢ä¸­å¾ˆå°‘æ¶‰åŠçš„åˆ—ï¼Œé‡å¤å€¼æ¯”è¾ƒå¤šçš„åˆ—ä¸è¦å»ºç«‹ç´¢å¼•ã€‚ 8ï¼‰å¯¹äºå®šä¹‰ä¸º textã€image å’Œ bit çš„æ•°æ®ç±»å‹çš„åˆ—ä¸è¦å»ºç«‹ç´¢å¼•ã€‚ åˆ›å»ºç´¢å¼•çš„ä¸‰ç§æ–¹å¼ï¼Œåˆ é™¤ç´¢å¼•ç¬¬ä¸€ç§æ–¹å¼ï¼šåœ¨æ‰§è¡Œ CREATE TABLE æ—¶åˆ›å»ºç´¢å¼• CREATE TABLE user_index2 ( id INT auto_increment PRIMARY KEY, first_name VARCHAR (16), last_name VARCHAR (16), id_card VARCHAR (18), information text, KEY name (first_name, last_name), FULLTEXT KEY (information), UNIQUE KEY (id_card) ); ç¬¬äºŒç§æ–¹å¼ï¼šä½¿ç”¨ ALTER TABLE å‘½ä»¤å»å¢åŠ ç´¢å¼• ALTER TABLE table_name ADD INDEX index_name (column_list); ALTER TABLE ç”¨æ¥åˆ›å»ºæ™®é€šç´¢å¼•ã€UNIQUE ç´¢å¼•æˆ– PRIMARY KEY ç´¢å¼•ã€‚ å…¶ä¸­ table_name æ˜¯è¦å¢åŠ ç´¢å¼•çš„è¡¨åï¼Œcolumn_list æŒ‡å‡ºå¯¹å“ªäº›åˆ—è¿›è¡Œç´¢å¼•ï¼Œå¤šåˆ—æ—¶å„åˆ—ä¹‹é—´ç”¨é€—å·åˆ†éš”ã€‚ ç´¢å¼•å index_name å¯è‡ªå·±å‘½åï¼Œç¼ºçœæ—¶ï¼ŒMySQL å°†æ ¹æ®ç¬¬ä¸€ä¸ªç´¢å¼•åˆ—èµ‹ä¸€ä¸ªåç§°ã€‚å¦å¤–ï¼ŒALTER TABLE å…è®¸åœ¨å•ä¸ªè¯­å¥ä¸­æ›´æ”¹å¤šä¸ªè¡¨ï¼Œå› æ­¤å¯ä»¥åœ¨åŒæ—¶åˆ›å»ºå¤šä¸ªç´¢å¼•ã€‚ ç¬¬ä¸‰ç§æ–¹å¼ï¼šä½¿ç”¨ CREATE INDEX å‘½ä»¤åˆ›å»º CREATE INDEX index_name ON table_name (column_list); CREATE INDEX å¯å¯¹è¡¨å¢åŠ æ™®é€šç´¢å¼•æˆ– UNIQUE ç´¢å¼•ã€‚ï¼ˆä½†æ˜¯ï¼Œä¸èƒ½åˆ›å»º PRIMARY KEY ç´¢å¼•ï¼‰ åˆ é™¤ç´¢å¼• æ ¹æ®ç´¢å¼•ååˆ é™¤æ™®é€šç´¢å¼•ã€å”¯ä¸€ç´¢å¼•ã€å…¨æ–‡ç´¢å¼•ï¼šalter table è¡¨å drop KEY ç´¢å¼•å alter table user_index drop KEY name; alter table user_index drop KEY id_card; alter table user_index drop KEY information; åˆ é™¤ä¸»é”®ç´¢å¼•ï¼šalter table è¡¨å drop primary keyï¼ˆå› ä¸ºä¸»é”®åªæœ‰ä¸€ä¸ªï¼‰ã€‚è¿™é‡Œå€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œå¦‚æœä¸»é”®è‡ªå¢é•¿ï¼Œé‚£ä¹ˆä¸èƒ½ç›´æ¥æ‰§è¡Œæ­¤æ“ä½œï¼ˆè‡ªå¢é•¿ä¾èµ–äºä¸»é”®ç´¢å¼•ï¼‰ï¼š éœ€è¦å–æ¶ˆè‡ªå¢é•¿å†è¡Œåˆ é™¤ï¼š alter table user_index â€” é‡æ–°å®šä¹‰å­—æ®µ MODIFY id int, drop PRIMARY KEY ä½†é€šå¸¸ä¸ä¼šåˆ é™¤ä¸»é”®ï¼Œå› ä¸ºè®¾è®¡ä¸»é”®ä¸€å®šä¸ä¸šåŠ¡é€»è¾‘æ— å…³ã€‚ åˆ›å»ºç´¢å¼•æ—¶éœ€è¦æ³¨æ„ä»€ä¹ˆï¼Ÿéç©ºå­—æ®µï¼šåº”è¯¥æŒ‡å®šåˆ—ä¸º NOT NULLï¼Œé™¤éä½ æƒ³å­˜å‚¨ NULLã€‚åœ¨ mysql ä¸­ï¼Œå«æœ‰ç©ºå€¼çš„åˆ—å¾ˆéš¾è¿›è¡ŒæŸ¥è¯¢ä¼˜åŒ–ï¼Œå› ä¸ºå®ƒä»¬ä½¿å¾—ç´¢å¼•ã€ç´¢å¼•çš„ç»Ÿè®¡ä¿¡æ¯ä»¥åŠæ¯”è¾ƒè¿ç®—æ›´åŠ å¤æ‚ã€‚ä½ åº”è¯¥ç”¨ 0ã€ä¸€ä¸ªç‰¹æ®Šçš„å€¼æˆ–è€…ä¸€ä¸ªç©ºä¸²ä»£æ›¿ç©ºå€¼ï¼› å–å€¼ç¦»æ•£å¤§çš„å­—æ®µï¼šï¼ˆå˜é‡å„ä¸ªå–å€¼ä¹‹é—´çš„å·®å¼‚ç¨‹åº¦ï¼‰çš„åˆ—æ”¾åˆ°è”åˆç´¢å¼•çš„å‰é¢ï¼Œå¯ä»¥é€šè¿‡ count() å‡½æ•°æŸ¥çœ‹å­—æ®µçš„å·®å¼‚å€¼ï¼Œè¿”å›å€¼è¶Šå¤§è¯´æ˜å­—æ®µçš„å”¯ä¸€å€¼è¶Šå¤šå­—æ®µçš„ç¦»æ•£ç¨‹åº¦é«˜ï¼› ç´¢å¼•å­—æ®µè¶Šå°è¶Šå¥½ï¼šæ•°æ®åº“çš„æ•°æ®å­˜å‚¨ä»¥é¡µä¸ºå•ä½ä¸€é¡µå­˜å‚¨çš„æ•°æ®è¶Šå¤šä¸€æ¬¡ IO æ“ä½œè·å–çš„æ•°æ®è¶Šå¤§æ•ˆç‡è¶Šé«˜ã€‚ ä½¿ç”¨ç´¢å¼•æŸ¥è¯¢ä¸€å®šèƒ½æé«˜æŸ¥è¯¢çš„æ€§èƒ½å—ï¼Ÿä¸ºä»€ä¹ˆé€šå¸¸ï¼Œé€šè¿‡ç´¢å¼•æŸ¥è¯¢æ•°æ®æ¯”å…¨è¡¨æ‰«æè¦å¿«ã€‚ä½†æ˜¯æˆ‘ä»¬ä¹Ÿå¿…é¡»æ³¨æ„åˆ°å®ƒçš„ä»£ä»·ã€‚ ç´¢å¼•éœ€è¦ç©ºé—´æ¥å­˜å‚¨ï¼Œä¹Ÿéœ€è¦å®šæœŸç»´æŠ¤ï¼Œ æ¯å½“æœ‰è®°å½•åœ¨è¡¨ä¸­å¢å‡æˆ–ç´¢å¼•åˆ—è¢«ä¿®æ”¹æ—¶ï¼Œç´¢å¼•æœ¬èº«ä¹Ÿä¼šè¢«ä¿®æ”¹ã€‚ è¿™æ„å‘³ç€æ¯æ¡è®°å½•çš„ INSERTï¼ŒDELETEï¼ŒUPDATE å°†ä¸ºæ­¤å¤šä»˜å‡º 4ï¼Œ5 æ¬¡çš„ç£ç›˜ I/Oã€‚ å› ä¸ºç´¢å¼•éœ€è¦é¢å¤–çš„å­˜å‚¨ç©ºé—´å’Œå¤„ç†ï¼Œé‚£äº›ä¸å¿…è¦çš„ç´¢å¼•åè€Œä¼šä½¿æŸ¥è¯¢ååº”æ—¶é—´å˜æ…¢ã€‚ä½¿ç”¨ç´¢å¼•æŸ¥è¯¢ä¸ä¸€å®šèƒ½æé«˜æŸ¥è¯¢æ€§èƒ½ï¼Œç´¢å¼•èŒƒå›´æŸ¥è¯¢ (INDEX RANGE SCAN) é€‚ç”¨äºä¸¤ç§æƒ…å†µ: åŸºäºä¸€ä¸ªèŒƒå›´çš„æ£€ç´¢ï¼Œä¸€èˆ¬æŸ¥è¯¢è¿”å›ç»“æœé›†å°äºè¡¨ä¸­è®°å½•æ•°çš„ 30% åŸºäºéå”¯ä¸€æ€§ç´¢å¼•çš„æ£€ç´¢ ç™¾ä¸‡çº§åˆ«æˆ–ä»¥ä¸Šçš„æ•°æ®å¦‚ä½•åˆ é™¤å…³äºç´¢å¼•ï¼šç”±äºç´¢å¼•éœ€è¦é¢å¤–çš„ç»´æŠ¤æˆæœ¬ï¼Œå› ä¸ºç´¢å¼•æ–‡ä»¶æ˜¯å•ç‹¬å­˜åœ¨çš„æ–‡ä»¶, æ‰€ä»¥å½“æˆ‘ä»¬å¯¹æ•°æ®çš„å¢åŠ , ä¿®æ”¹, åˆ é™¤, éƒ½ä¼šäº§ç”Ÿé¢å¤–çš„å¯¹ç´¢å¼•æ–‡ä»¶çš„æ“ä½œ, è¿™äº›æ“ä½œéœ€è¦æ¶ˆè€—é¢å¤–çš„ IO, ä¼šé™ä½å¢ / æ”¹ / åˆ çš„æ‰§è¡Œæ•ˆç‡ã€‚æ‰€ä»¥ï¼Œåœ¨æˆ‘ä»¬åˆ é™¤æ•°æ®åº“ç™¾ä¸‡çº§åˆ«æ•°æ®çš„æ—¶å€™ï¼ŒæŸ¥è¯¢ MySQL å®˜æ–¹æ‰‹å†Œå¾—çŸ¥åˆ é™¤æ•°æ®çš„é€Ÿåº¦å’Œåˆ›å»ºçš„ç´¢å¼•æ•°é‡æ˜¯æˆæ­£æ¯”çš„ã€‚ æ‰€ä»¥æˆ‘ä»¬æƒ³è¦åˆ é™¤ç™¾ä¸‡æ•°æ®çš„æ—¶å€™å¯ä»¥å…ˆåˆ é™¤ç´¢å¼•ï¼ˆæ­¤æ—¶å¤§æ¦‚è€—æ—¶ä¸‰åˆ†å¤šé’Ÿï¼‰ ç„¶ååˆ é™¤å…¶ä¸­æ— ç”¨æ•°æ®ï¼ˆæ­¤è¿‡ç¨‹éœ€è¦ä¸åˆ°ä¸¤åˆ†é’Ÿï¼‰ åˆ é™¤å®Œæˆåé‡æ–°åˆ›å»ºç´¢å¼• (æ­¤æ—¶æ•°æ®è¾ƒå°‘äº†) åˆ›å»ºç´¢å¼•ä¹Ÿéå¸¸å¿«ï¼Œçº¦ååˆ†é’Ÿå·¦å³ã€‚ ä¸ä¹‹å‰çš„ç›´æ¥åˆ é™¤ç»å¯¹æ˜¯è¦å¿«é€Ÿå¾ˆå¤šï¼Œæ›´åˆ«è¯´ä¸‡ä¸€åˆ é™¤ä¸­æ–­, ä¸€åˆ‡åˆ é™¤ä¼šå›æ»šã€‚é‚£æ›´æ˜¯å‘äº†ã€‚ å‰ç¼€ç´¢å¼•è¯­æ³•ï¼šindex(field(10))ï¼Œä½¿ç”¨å­—æ®µå€¼çš„å‰ 10 ä¸ªå­—ç¬¦å»ºç«‹ç´¢å¼•ï¼Œé»˜è®¤æ˜¯ä½¿ç”¨å­—æ®µçš„å…¨éƒ¨å†…å®¹å»ºç«‹ç´¢å¼•ã€‚ å‰æï¼šå‰ç¼€çš„æ ‡è¯†åº¦é«˜ã€‚æ¯”å¦‚å¯†ç å°±é€‚åˆå»ºç«‹å‰ç¼€ç´¢å¼•ï¼Œå› ä¸ºå¯†ç å‡ ä¹å„ä¸ç›¸åŒã€‚ å®æ“çš„éš¾åº¦ï¼šåœ¨äºå‰ç¼€æˆªå–çš„é•¿åº¦ã€‚ æˆ‘ä»¬å¯ä»¥åˆ©ç”¨select count(*)/count(distinct left(password,prefixLen));ï¼Œé€šè¿‡ä»è°ƒæ•´prefixLençš„å€¼ï¼ˆä» 1 è‡ªå¢ï¼‰æŸ¥çœ‹ä¸åŒå‰ç¼€é•¿åº¦çš„ä¸€ä¸ªå¹³å‡åŒ¹é…åº¦ï¼Œæ¥è¿‘ 1 æ—¶å°±å¯ä»¥äº†ï¼ˆè¡¨ç¤ºä¸€ä¸ªå¯†ç çš„å‰prefixLenä¸ªå­—ç¬¦å‡ ä¹èƒ½ç¡®å®šå”¯ä¸€ä¸€æ¡è®°å½•ï¼‰ ä»€ä¹ˆæ˜¯æœ€å·¦å‰ç¼€åŸåˆ™ï¼Ÿä»€ä¹ˆæ˜¯æœ€å·¦åŒ¹é…åŸåˆ™é¡¾åæ€ä¹‰ï¼Œå°±æ˜¯æœ€å·¦ä¼˜å…ˆï¼Œåœ¨åˆ›å»ºå¤šåˆ—ç´¢å¼•æ—¶ï¼Œè¦æ ¹æ®ä¸šåŠ¡éœ€æ±‚ï¼Œwhere å­å¥ä¸­ä½¿ç”¨æœ€é¢‘ç¹çš„ä¸€åˆ—æ”¾åœ¨æœ€å·¦è¾¹ã€‚ æœ€å·¦å‰ç¼€åŒ¹é…åŸåˆ™ï¼Œéå¸¸é‡è¦çš„åŸåˆ™ï¼Œmysql ä¼šä¸€ç›´å‘å³åŒ¹é…ç›´åˆ°é‡åˆ°èŒƒå›´æŸ¥è¯¢ (&gt;ã€&lt;ã€betweenã€like) å°±åœæ­¢åŒ¹é…ï¼Œæ¯”å¦‚ a = 1 and b = 2 and c &gt; 3 and d = 4 å¦‚æœå»ºç«‹ (a,b,c,d) é¡ºåºçš„ç´¢å¼•ï¼Œd æ˜¯ç”¨ä¸åˆ°ç´¢å¼•çš„ï¼Œå¦‚æœå»ºç«‹ (a,b,d,c) çš„ç´¢å¼•åˆ™éƒ½å¯ä»¥ç”¨åˆ°ï¼Œa,b,d çš„é¡ºåºå¯ä»¥ä»»æ„è°ƒæ•´ã€‚ = å’Œ in å¯ä»¥ä¹±åºï¼Œæ¯”å¦‚ a = 1 and b = 2 and c = 3 å»ºç«‹ (a,b,c) ç´¢å¼•å¯ä»¥ä»»æ„é¡ºåºï¼Œmysql çš„æŸ¥è¯¢ä¼˜åŒ–å™¨ä¼šå¸®ä½ ä¼˜åŒ–æˆç´¢å¼•å¯ä»¥è¯†åˆ«çš„å½¢å¼ Bæ ‘å’ŒB+æ ‘çš„åŒºåˆ«åœ¨ B æ ‘ä¸­ï¼Œä½ å¯ä»¥å°†é”®å’Œå€¼å­˜æ”¾åœ¨å†…éƒ¨èŠ‚ç‚¹å’Œå¶å­èŠ‚ç‚¹ï¼›ä½†åœ¨ B + æ ‘ä¸­ï¼Œå†…éƒ¨èŠ‚ç‚¹éƒ½æ˜¯é”®ï¼Œæ²¡æœ‰å€¼ï¼Œå¶å­èŠ‚ç‚¹åŒæ—¶å­˜æ”¾é”®å’Œå€¼ã€‚ B + æ ‘çš„å¶å­èŠ‚ç‚¹æœ‰ä¸€æ¡é“¾ç›¸è¿ï¼Œè€Œ B æ ‘çš„å¶å­èŠ‚ç‚¹å„è‡ªç‹¬ç«‹ã€‚ Â· ä½¿ç”¨Bæ ‘çš„å¥½å¤„B æ ‘å¯ä»¥åœ¨å†…éƒ¨èŠ‚ç‚¹åŒæ—¶å­˜å‚¨é”®å’Œå€¼ï¼Œå› æ­¤ï¼ŒæŠŠé¢‘ç¹è®¿é—®çš„æ•°æ®æ”¾åœ¨é è¿‘æ ¹èŠ‚ç‚¹çš„åœ°æ–¹å°†ä¼šå¤§å¤§æé«˜çƒ­ç‚¹æ•°æ®çš„æŸ¥è¯¢æ•ˆç‡ã€‚è¿™ç§ç‰¹æ€§ä½¿å¾— B æ ‘åœ¨ç‰¹å®šæ•°æ®é‡å¤å¤šæ¬¡æŸ¥è¯¢çš„åœºæ™¯ä¸­æ›´åŠ é«˜æ•ˆã€‚ ä½¿ç”¨B+æ ‘çš„å¥½å¤„ç”±äº B + æ ‘çš„å†…éƒ¨èŠ‚ç‚¹åªå­˜æ”¾é”®ï¼Œä¸å­˜æ”¾å€¼ï¼Œå› æ­¤ï¼Œä¸€æ¬¡è¯»å–ï¼Œå¯ä»¥åœ¨å†…å­˜é¡µä¸­è·å–æ›´å¤šçš„é”®ï¼Œæœ‰åˆ©äºæ›´å¿«åœ°ç¼©å°æŸ¥æ‰¾èŒƒå›´ã€‚ B + æ ‘çš„å¶èŠ‚ç‚¹ç”±ä¸€æ¡é“¾ç›¸è¿ï¼Œå› æ­¤ï¼Œå½“éœ€è¦è¿›è¡Œä¸€æ¬¡å…¨æ•°æ®éå†çš„æ—¶å€™ï¼ŒB + æ ‘åªéœ€è¦ä½¿ç”¨ O(logN) æ—¶é—´æ‰¾åˆ°æœ€å°çš„ä¸€ä¸ªèŠ‚ç‚¹ï¼Œç„¶åé€šè¿‡é“¾è¿›è¡Œ O(N) çš„é¡ºåºéå†å³å¯ã€‚è€Œ B æ ‘åˆ™éœ€è¦å¯¹æ ‘çš„æ¯ä¸€å±‚è¿›è¡Œéå†ï¼Œè¿™ä¼šéœ€è¦æ›´å¤šçš„å†…å­˜ç½®æ¢æ¬¡æ•°ï¼Œå› æ­¤ä¹Ÿå°±éœ€è¦èŠ±è´¹æ›´å¤šçš„æ—¶é—´ Hashç´¢å¼•å’ŒB+æ ‘æ‰€æœ‰æœ‰ä»€ä¹ˆåŒºåˆ«æˆ–è€…è¯´ä¼˜åŠ£å‘¢?é¦–å…ˆè¦çŸ¥é“ Hash ç´¢å¼•å’Œ B + æ ‘ç´¢å¼•çš„åº•å±‚å®ç°åŸç†ï¼š hash ç´¢å¼•åº•å±‚å°±æ˜¯ hash è¡¨ï¼Œè¿›è¡ŒæŸ¥æ‰¾æ—¶ï¼Œè°ƒç”¨ä¸€æ¬¡ hash å‡½æ•°å°±å¯ä»¥è·å–åˆ°ç›¸åº”çš„é”®å€¼ï¼Œä¹‹åè¿›è¡Œå›è¡¨æŸ¥è¯¢è·å¾—å®é™…æ•°æ®ã€‚B + æ ‘åº•å±‚å®ç°æ˜¯å¤šè·¯å¹³è¡¡æŸ¥æ‰¾æ ‘ã€‚å¯¹äºæ¯ä¸€æ¬¡çš„æŸ¥è¯¢éƒ½æ˜¯ä»æ ¹èŠ‚ç‚¹å‡ºå‘ï¼ŒæŸ¥æ‰¾åˆ°å¶å­èŠ‚ç‚¹æ–¹å¯ä»¥è·å¾—æ‰€æŸ¥é”®å€¼ï¼Œç„¶åæ ¹æ®æŸ¥è¯¢åˆ¤æ–­æ˜¯å¦éœ€è¦å›è¡¨æŸ¥è¯¢æ•°æ®ã€‚ é‚£ä¹ˆå¯ä»¥çœ‹å‡ºä»–ä»¬æœ‰ä»¥ä¸‹çš„ä¸åŒï¼š hash ç´¢å¼•è¿›è¡Œç­‰å€¼æŸ¥è¯¢æ›´å¿« (ä¸€èˆ¬æƒ…å†µä¸‹)ï¼Œä½†æ˜¯å´æ— æ³•è¿›è¡ŒèŒƒå›´æŸ¥è¯¢ã€‚ å› ä¸ºåœ¨ hash ç´¢å¼•ä¸­ç»è¿‡ hash å‡½æ•°å»ºç«‹ç´¢å¼•ä¹‹åï¼Œç´¢å¼•çš„é¡ºåºä¸åŸé¡ºåºæ— æ³•ä¿æŒä¸€è‡´ï¼Œä¸èƒ½æ”¯æŒèŒƒå›´æŸ¥è¯¢ã€‚è€Œ B + æ ‘çš„çš„æ‰€æœ‰èŠ‚ç‚¹çš†éµå¾ª (å·¦èŠ‚ç‚¹å°äºçˆ¶èŠ‚ç‚¹ï¼Œå³èŠ‚ç‚¹å¤§äºçˆ¶èŠ‚ç‚¹ï¼Œå¤šå‰æ ‘ä¹Ÿç±»ä¼¼)ï¼Œå¤©ç„¶æ”¯æŒèŒƒå›´ã€‚ hash ç´¢å¼•ä¸æ”¯æŒä½¿ç”¨ç´¢å¼•è¿›è¡Œæ’åºï¼ŒåŸç†åŒä¸Šã€‚ hash ç´¢å¼•ä¸æ”¯æŒæ¨¡ç³ŠæŸ¥è¯¢ä»¥åŠå¤šåˆ—ç´¢å¼•çš„æœ€å·¦å‰ç¼€åŒ¹é…ã€‚åŸç†ä¹Ÿæ˜¯å› ä¸º hash å‡½æ•°çš„ä¸å¯é¢„æµ‹ã€‚AAAA å’Œ AAAAB çš„ç´¢å¼•æ²¡æœ‰ç›¸å…³æ€§ã€‚ hash ç´¢å¼•ä»»ä½•æ—¶å€™éƒ½é¿å…ä¸äº†å›è¡¨æŸ¥è¯¢æ•°æ®ï¼Œè€Œ B + æ ‘åœ¨ç¬¦åˆæŸäº›æ¡ä»¶ (èšç°‡ç´¢å¼•ï¼Œè¦†ç›–ç´¢å¼•ç­‰) çš„æ—¶å€™å¯ä»¥åªé€šè¿‡ç´¢å¼•å®ŒæˆæŸ¥è¯¢ã€‚ hash ç´¢å¼•è™½ç„¶åœ¨ç­‰å€¼æŸ¥è¯¢ä¸Šè¾ƒå¿«ï¼Œä½†æ˜¯ä¸ç¨³å®šã€‚æ€§èƒ½ä¸å¯é¢„æµ‹ï¼Œå½“æŸä¸ªé”®å€¼å­˜åœ¨å¤§é‡é‡å¤çš„æ—¶å€™ï¼Œå‘ç”Ÿ hash ç¢°æ’ï¼Œæ­¤æ—¶æ•ˆç‡å¯èƒ½æå·®ã€‚è€Œ B + æ ‘çš„æŸ¥è¯¢æ•ˆç‡æ¯”è¾ƒç¨³å®šï¼Œå¯¹äºæ‰€æœ‰çš„æŸ¥è¯¢éƒ½æ˜¯ä»æ ¹èŠ‚ç‚¹åˆ°å¶å­èŠ‚ç‚¹ï¼Œä¸”æ ‘çš„é«˜åº¦è¾ƒä½ã€‚ å› æ­¤ï¼Œåœ¨å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œç›´æ¥é€‰æ‹© B + æ ‘ç´¢å¼•å¯ä»¥è·å¾—ç¨³å®šä¸”è¾ƒå¥½çš„æŸ¥è¯¢é€Ÿåº¦ã€‚è€Œä¸éœ€è¦ä½¿ç”¨ hash ç´¢å¼•ã€‚ æ•°æ®åº“ä¸ºä»€ä¹ˆä½¿ç”¨B+æ ‘è€Œä¸æ˜¯Bæ ‘B æ ‘åªé€‚åˆéšæœºæ£€ç´¢ï¼Œè€Œ B + æ ‘åŒæ—¶æ”¯æŒéšæœºæ£€ç´¢å’Œé¡ºåºæ£€ç´¢ï¼› B + æ ‘ç©ºé—´åˆ©ç”¨ç‡æ›´é«˜ï¼Œå¯å‡å°‘ I/O æ¬¡æ•°ï¼Œç£ç›˜è¯»å†™ä»£ä»·æ›´ä½ã€‚ä¸€èˆ¬æ¥è¯´ï¼Œç´¢å¼•æœ¬èº«ä¹Ÿå¾ˆå¤§ï¼Œä¸å¯èƒ½å…¨éƒ¨å­˜å‚¨åœ¨å†…å­˜ä¸­ï¼Œå› æ­¤ç´¢å¼•å¾€å¾€ä»¥ç´¢å¼•æ–‡ä»¶çš„å½¢å¼å­˜å‚¨çš„ç£ç›˜ä¸Šã€‚è¿™æ ·çš„è¯ï¼Œç´¢å¼•æŸ¥æ‰¾è¿‡ç¨‹ä¸­å°±è¦äº§ç”Ÿç£ç›˜ I/O æ¶ˆè€—ã€‚B + æ ‘çš„å†…éƒ¨ç»“ç‚¹å¹¶æ²¡æœ‰æŒ‡å‘å…³é”®å­—å…·ä½“ä¿¡æ¯çš„æŒ‡é’ˆï¼Œåªæ˜¯ä½œä¸ºç´¢å¼•ä½¿ç”¨ï¼Œå…¶å†…éƒ¨ç»“ç‚¹æ¯” B æ ‘å°ï¼Œç›˜å—èƒ½å®¹çº³çš„ç»“ç‚¹ä¸­å…³é”®å­—æ•°é‡æ›´å¤šï¼Œä¸€æ¬¡æ€§è¯»å…¥å†…å­˜ä¸­å¯ä»¥æŸ¥æ‰¾çš„å…³é”®å­—ä¹Ÿå°±è¶Šå¤šï¼Œç›¸å¯¹çš„ï¼ŒIO è¯»å†™æ¬¡æ•°ä¹Ÿå°±é™ä½äº†ã€‚è€Œ IO è¯»å†™æ¬¡æ•°æ˜¯å½±å“ç´¢å¼•æ£€ç´¢æ•ˆç‡çš„æœ€å¤§å› ç´ ï¼› B + æ ‘çš„æŸ¥è¯¢æ•ˆç‡æ›´åŠ ç¨³å®šã€‚B æ ‘æœç´¢æœ‰å¯èƒ½ä¼šåœ¨éå¶å­ç»“ç‚¹ç»“æŸï¼Œè¶Šé è¿‘æ ¹èŠ‚ç‚¹çš„è®°å½•æŸ¥æ‰¾æ—¶é—´è¶ŠçŸ­ï¼Œåªè¦æ‰¾åˆ°å…³é”®å­—å³å¯ç¡®å®šè®°å½•çš„å­˜åœ¨ï¼Œå…¶æ€§èƒ½ç­‰ä»·äºåœ¨å…³é”®å­—å…¨é›†å†…åšä¸€æ¬¡äºŒåˆ†æŸ¥æ‰¾ã€‚è€Œåœ¨ B + æ ‘ä¸­ï¼Œé¡ºåºæ£€ç´¢æ¯”è¾ƒæ˜æ˜¾ï¼Œéšæœºæ£€ç´¢æ—¶ï¼Œä»»ä½•å…³é”®å­—çš„æŸ¥æ‰¾éƒ½å¿…é¡»èµ°ä¸€æ¡ä»æ ¹èŠ‚ç‚¹åˆ°å¶èŠ‚ç‚¹çš„è·¯ï¼Œæ‰€æœ‰å…³é”®å­—çš„æŸ¥æ‰¾è·¯å¾„é•¿åº¦ç›¸åŒï¼Œå¯¼è‡´æ¯ä¸€ä¸ªå…³é”®å­—çš„æŸ¥è¯¢æ•ˆç‡ç›¸å½“ã€‚ B - æ ‘åœ¨æé«˜äº†ç£ç›˜ IO æ€§èƒ½çš„åŒæ—¶å¹¶æ²¡æœ‰è§£å†³å…ƒç´ éå†çš„æ•ˆç‡ä½ä¸‹çš„é—®é¢˜ã€‚B + æ ‘çš„å¶å­èŠ‚ç‚¹ä½¿ç”¨æŒ‡é’ˆé¡ºåºè¿æ¥åœ¨ä¸€èµ·ï¼Œåªè¦éå†å¶å­èŠ‚ç‚¹å°±å¯ä»¥å®ç°æ•´æ£µæ ‘çš„éå†ã€‚è€Œä¸”åœ¨æ•°æ®åº“ä¸­åŸºäºèŒƒå›´çš„æŸ¥è¯¢æ˜¯éå¸¸é¢‘ç¹çš„ï¼Œè€Œ B æ ‘ä¸æ”¯æŒè¿™æ ·çš„æ“ä½œã€‚ å¢åˆ æ–‡ä»¶ï¼ˆèŠ‚ç‚¹ï¼‰æ—¶ï¼Œæ•ˆç‡æ›´é«˜ã€‚å› ä¸º B + æ ‘çš„å¶å­èŠ‚ç‚¹åŒ…å«æ‰€æœ‰å…³é”®å­—ï¼Œå¹¶ä»¥æœ‰åºçš„é“¾è¡¨ç»“æ„å­˜å‚¨ï¼Œè¿™æ ·å¯å¾ˆå¥½æé«˜å¢åˆ æ•ˆç‡ã€‚ B+æ ‘åœ¨æ»¡è¶³èšç°‡ç´¢å¼•å’Œè¦†ç›–ç´¢å¼•çš„æ—¶å€™ä¸éœ€è¦å›è¡¨æŸ¥è¯¢æ•°æ®ï¼Œåœ¨ B + æ ‘çš„ç´¢å¼•ä¸­ï¼Œå¶å­èŠ‚ç‚¹å¯èƒ½å­˜å‚¨äº†å½“å‰çš„ key å€¼ï¼Œä¹Ÿå¯èƒ½å­˜å‚¨äº†å½“å‰çš„ key å€¼ä»¥åŠæ•´è¡Œçš„æ•°æ®ï¼Œè¿™å°±æ˜¯èšç°‡ç´¢å¼•å’Œéèšç°‡ç´¢å¼•ã€‚ åœ¨ InnoDB ä¸­ï¼Œåªæœ‰ä¸»é”®ç´¢å¼•æ˜¯èšç°‡ç´¢å¼•ï¼Œå¦‚æœæ²¡æœ‰ä¸»é”®ï¼Œåˆ™æŒ‘é€‰ä¸€ä¸ªå”¯ä¸€é”®å»ºç«‹èšç°‡ç´¢å¼•ã€‚å¦‚æœæ²¡æœ‰å”¯ä¸€é”®ï¼Œåˆ™éšå¼çš„ç”Ÿæˆä¸€ä¸ªé”®æ¥å»ºç«‹èšç°‡ç´¢å¼•ã€‚ å½“æŸ¥è¯¢ä½¿ç”¨èšç°‡ç´¢å¼•æ—¶ï¼Œåœ¨å¯¹åº”çš„å¶å­èŠ‚ç‚¹ï¼Œå¯ä»¥è·å–åˆ°æ•´è¡Œæ•°æ®ï¼Œå› æ­¤ä¸ç”¨å†æ¬¡è¿›è¡Œå›è¡¨æŸ¥è¯¢ã€‚ ä»€ä¹ˆæ˜¯èšç°‡ç´¢å¼•ï¼Ÿä½•æ—¶ä½¿ç”¨èšç°‡ç´¢å¼•ä¸éèšç°‡ç´¢å¼•èšç°‡ç´¢å¼•ï¼šå°†æ•°æ®å­˜å‚¨ä¸ç´¢å¼•æ”¾åˆ°äº†ä¸€å—ï¼Œæ‰¾åˆ°ç´¢å¼•ä¹Ÿå°±æ‰¾åˆ°äº†æ•°æ® éèšç°‡ç´¢å¼•ï¼šå°†æ•°æ®å­˜å‚¨äºç´¢å¼•åˆ†å¼€ç»“æ„ï¼Œç´¢å¼•ç»“æ„çš„å¶å­èŠ‚ç‚¹æŒ‡å‘äº†æ•°æ®çš„å¯¹åº”è¡Œï¼Œmyisam é€šè¿‡ key_buffer æŠŠç´¢å¼•å…ˆç¼“å­˜åˆ°å†…å­˜ä¸­ï¼Œå½“éœ€è¦è®¿é—®æ•°æ®æ—¶ï¼ˆé€šè¿‡ç´¢å¼•è®¿é—®æ•°æ®ï¼‰ï¼Œåœ¨å†…å­˜ä¸­ç›´æ¥æœç´¢ç´¢å¼•ï¼Œç„¶åé€šè¿‡ç´¢å¼•æ‰¾åˆ°ç£ç›˜ç›¸åº”æ•°æ®ï¼Œè¿™ä¹Ÿå°±æ˜¯ä¸ºä»€ä¹ˆç´¢å¼•ä¸åœ¨ key buffer å‘½ä¸­æ—¶ï¼Œé€Ÿåº¦æ…¢çš„åŸå›  æ¾„æ¸…ä¸€ä¸ªæ¦‚å¿µï¼šinnodb ä¸­ï¼Œåœ¨èšç°‡ç´¢å¼•ä¹‹ä¸Šåˆ›å»ºçš„ç´¢å¼•ç§°ä¹‹ä¸ºè¾…åŠ©ç´¢å¼•ï¼Œè¾…åŠ©ç´¢å¼•è®¿é—®æ•°æ®æ€»æ˜¯éœ€è¦äºŒæ¬¡æŸ¥æ‰¾ï¼Œéèšç°‡ç´¢å¼•éƒ½æ˜¯è¾…åŠ©ç´¢å¼•ï¼Œåƒå¤åˆç´¢å¼•ã€å‰ç¼€ç´¢å¼•ã€å”¯ä¸€ç´¢å¼•ï¼Œè¾…åŠ©ç´¢å¼•å¶å­èŠ‚ç‚¹å­˜å‚¨çš„ä¸å†æ˜¯è¡Œçš„ç‰©ç†ä½ç½®ï¼Œè€Œæ˜¯ä¸»é”®å€¼ ä½•æ—¶ä½¿ç”¨èšç°‡ç´¢å¼•ä¸éèšç°‡ç´¢å¼• Â· éèšç°‡ç´¢å¼•ä¸€å®šä¼šå›è¡¨æŸ¥è¯¢å—ï¼Ÿä¸ä¸€å®šï¼Œè¿™æ¶‰åŠåˆ°æŸ¥è¯¢è¯­å¥æ‰€è¦æ±‚çš„å­—æ®µæ˜¯å¦å…¨éƒ¨å‘½ä¸­äº†ç´¢å¼•ï¼Œå¦‚æœå…¨éƒ¨å‘½ä¸­äº†ç´¢å¼•ï¼Œé‚£ä¹ˆå°±ä¸å¿…å†è¿›è¡Œå›è¡¨æŸ¥è¯¢ã€‚ ä¸¾ä¸ªç®€å•çš„ä¾‹å­ï¼Œå‡è®¾æˆ‘ä»¬åœ¨å‘˜å·¥è¡¨çš„å¹´é¾„ä¸Šå»ºç«‹äº†ç´¢å¼•ï¼Œé‚£ä¹ˆå½“è¿›è¡Œselect age from employee where age &lt; 20çš„æŸ¥è¯¢æ—¶ï¼Œåœ¨ç´¢å¼•çš„å¶å­èŠ‚ç‚¹ä¸Šï¼Œå·²ç»åŒ…å«äº† age ä¿¡æ¯ï¼Œä¸ä¼šå†æ¬¡è¿›è¡Œå›è¡¨æŸ¥è¯¢ã€‚ è”åˆç´¢å¼•æ˜¯ä»€ä¹ˆï¼Ÿä¸ºä»€ä¹ˆéœ€è¦æ³¨æ„è”åˆç´¢å¼•ä¸­çš„é¡ºåºï¼ŸMySQL å¯ä»¥ä½¿ç”¨å¤šä¸ªå­—æ®µåŒæ—¶å»ºç«‹ä¸€ä¸ªç´¢å¼•ï¼Œå«åšè”åˆç´¢å¼•ã€‚åœ¨è”åˆç´¢å¼•ä¸­ï¼Œå¦‚æœæƒ³è¦å‘½ä¸­ç´¢å¼•ï¼Œéœ€è¦æŒ‰ç…§å»ºç«‹ç´¢å¼•æ—¶çš„å­—æ®µé¡ºåºæŒ¨ä¸ªä½¿ç”¨ï¼Œå¦åˆ™æ— æ³•å‘½ä¸­ç´¢å¼•ã€‚ å…·ä½“åŸå› ä¸º: MySQL ä½¿ç”¨ç´¢å¼•æ—¶éœ€è¦ç´¢å¼•æœ‰åºï¼Œå‡è®¾ç°åœ¨å»ºç«‹äº† â€œnameï¼Œageï¼Œschoolâ€ çš„è”åˆç´¢å¼•ï¼Œé‚£ä¹ˆç´¢å¼•çš„æ’åºä¸º: å…ˆæŒ‰ç…§ name æ’åºï¼Œå¦‚æœ name ç›¸åŒï¼Œåˆ™æŒ‰ç…§ age æ’åºï¼Œå¦‚æœ age çš„å€¼ä¹Ÿç›¸ç­‰ï¼Œåˆ™æŒ‰ç…§ school è¿›è¡Œæ’åºã€‚ å½“è¿›è¡ŒæŸ¥è¯¢æ—¶ï¼Œæ­¤æ—¶ç´¢å¼•ä»…ä»…æŒ‰ç…§ name ä¸¥æ ¼æœ‰åºï¼Œå› æ­¤å¿…é¡»é¦–å…ˆä½¿ç”¨ name å­—æ®µè¿›è¡Œç­‰å€¼æŸ¥è¯¢ï¼Œä¹‹åå¯¹äºåŒ¹é…åˆ°çš„åˆ—è€Œè¨€ï¼Œå…¶æŒ‰ç…§ age å­—æ®µä¸¥æ ¼æœ‰åºï¼Œæ­¤æ—¶å¯ä»¥ä½¿ç”¨ age å­—æ®µç”¨åšç´¢å¼•æŸ¥æ‰¾ï¼Œä»¥æ­¤ç±»æ¨ã€‚å› æ­¤åœ¨å»ºç«‹è”åˆç´¢å¼•çš„æ—¶å€™åº”è¯¥æ³¨æ„ç´¢å¼•åˆ—çš„é¡ºåºï¼Œä¸€èˆ¬æƒ…å†µä¸‹ï¼Œå°†æŸ¥è¯¢éœ€æ±‚é¢‘ç¹æˆ–è€…å­—æ®µé€‰æ‹©æ€§é«˜çš„åˆ—æ”¾åœ¨å‰é¢ã€‚æ­¤å¤–å¯ä»¥æ ¹æ®ç‰¹ä¾‹çš„æŸ¥è¯¢æˆ–è€…è¡¨ç»“æ„è¿›è¡Œå•ç‹¬çš„è°ƒæ•´ã€‚ äº‹åŠ¡ä»€ä¹ˆæ˜¯æ•°æ®åº“äº‹åŠ¡ï¼Ÿ1ã€ç”¨ BEGIN, ROLLBACK, COMMITæ¥å®ç° BEGIN å¼€å§‹ä¸€ä¸ªäº‹åŠ¡ ROLLBACK äº‹åŠ¡å›æ»š COMMIT äº‹åŠ¡ç¡®è®¤ 2ã€ç›´æ¥ç”¨ SET æ¥æ”¹å˜ MySQL çš„è‡ªåŠ¨æäº¤æ¨¡å¼: SET AUTOCOMMIT=0 ç¦æ­¢è‡ªåŠ¨æäº¤ SET AUTOCOMMIT=1 å¼€å¯è‡ªåŠ¨æäº¤ åœ¨ MySQL ä¸­åªæœ‰ä½¿ç”¨äº† Innodb æ•°æ®åº“å¼•æ“çš„æ•°æ®åº“æˆ–è¡¨æ‰æ”¯æŒäº‹åŠ¡ã€‚ äº‹åŠ¡å¤„ç†å¯ä»¥ç”¨æ¥ç»´æŠ¤æ•°æ®åº“çš„å®Œæ•´æ€§ï¼Œä¿è¯æˆæ‰¹çš„ SQL è¯­å¥è¦ä¹ˆå…¨éƒ¨æ‰§è¡Œï¼Œè¦ä¹ˆå…¨éƒ¨ä¸æ‰§è¡Œã€‚ äº‹åŠ¡ç”¨æ¥ç®¡ç† insert,update,delete è¯­å¥ äº‹ç‰©çš„å››å¤§ç‰¹æ€§(ACID)ä»‹ç»ä¸€ä¸‹?åŸå­æ€§ï¼šä¸€ä¸ªäº‹åŠ¡ï¼ˆtransactionï¼‰ä¸­çš„æ‰€æœ‰æ“ä½œï¼Œè¦ä¹ˆå…¨éƒ¨å®Œæˆï¼Œè¦ä¹ˆå…¨éƒ¨ä¸å®Œæˆï¼Œä¸ä¼šç»“æŸåœ¨ä¸­é—´æŸä¸ªç¯èŠ‚ã€‚äº‹åŠ¡åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­å‘ç”Ÿé”™è¯¯ï¼Œä¼šè¢«å›æ»šï¼ˆRollbackï¼‰åˆ°äº‹åŠ¡å¼€å§‹å‰çš„çŠ¶æ€ï¼Œå°±åƒè¿™ä¸ªäº‹åŠ¡ä»æ¥æ²¡æœ‰æ‰§è¡Œè¿‡ä¸€æ ·ã€‚ ä¸€è‡´æ€§ï¼šåœ¨äº‹åŠ¡å¼€å§‹ä¹‹å‰å’Œäº‹åŠ¡ç»“æŸä»¥åï¼Œæ•°æ®åº“çš„å®Œæ•´æ€§æ²¡æœ‰è¢«ç ´åã€‚è¿™è¡¨ç¤ºå†™å…¥çš„èµ„æ–™å¿…é¡»å®Œå…¨ç¬¦åˆæ‰€æœ‰çš„é¢„è®¾è§„åˆ™ï¼Œè¿™åŒ…å«èµ„æ–™çš„ç²¾ç¡®åº¦ã€ä¸²è”æ€§ä»¥åŠåç»­æ•°æ®åº“å¯ä»¥è‡ªå‘æ€§åœ°å®Œæˆé¢„å®šçš„å·¥ä½œã€‚ éš”ç¦»æ€§ï¼šæ•°æ®åº“å…è®¸å¤šä¸ªå¹¶å‘äº‹åŠ¡åŒæ—¶å¯¹å…¶æ•°æ®è¿›è¡Œè¯»å†™å’Œä¿®æ”¹çš„èƒ½åŠ›ï¼Œéš”ç¦»æ€§å¯ä»¥é˜²æ­¢å¤šä¸ªäº‹åŠ¡å¹¶å‘æ‰§è¡Œæ—¶ç”±äºäº¤å‰æ‰§è¡Œè€Œå¯¼è‡´æ•°æ®çš„ä¸ä¸€è‡´ã€‚äº‹åŠ¡éš”ç¦»åˆ†ä¸ºä¸åŒçº§åˆ«ï¼ŒåŒ…æ‹¬è¯»æœªæäº¤ï¼ˆRead uncommittedï¼‰ã€è¯»æäº¤ï¼ˆread committedï¼‰ã€å¯é‡å¤è¯»ï¼ˆrepeatable readï¼‰å’Œä¸²è¡ŒåŒ–ï¼ˆSerializableï¼‰ã€‚ æŒä¹…æ€§ï¼šäº‹åŠ¡å¤„ç†ç»“æŸåï¼Œå¯¹æ•°æ®çš„ä¿®æ”¹å°±æ˜¯æ°¸ä¹…çš„ï¼Œå³ä¾¿ç³»ç»Ÿæ•…éšœä¹Ÿä¸ä¼šä¸¢å¤±ã€‚ ä»€ä¹ˆæ˜¯è„è¯»ï¼Ÿå¹»è¯»ï¼Ÿä¸å¯é‡å¤è¯»ï¼Ÿä»€ä¹ˆæ˜¯äº‹åŠ¡çš„éš”ç¦»çº§åˆ«ï¼ŸMySQLçš„é»˜è®¤éš”ç¦»çº§åˆ«æ˜¯ä»€ä¹ˆï¼Ÿé”å¯¹MySQLçš„é”äº†è§£å—éš”ç¦»çº§åˆ«ä¸é”çš„å…³ç³»æŒ‰ç…§é”çš„ç²’åº¦åˆ†æ•°æ®åº“é”æœ‰å“ªäº›ï¼Ÿé”æœºåˆ¶ä¸InnoDBé”ç®—æ³•ä»é”çš„ç±»åˆ«ä¸Šåˆ†MySQLéƒ½æœ‰å“ªäº›é”å‘¢ï¼Ÿåƒä¸Šé¢é‚£æ ·å­è¿›è¡Œé”å®šå²‚ä¸æ˜¯æœ‰ç‚¹é˜»ç¢å¹¶å‘æ•ˆç‡äº†MySQLä¸­InnoDBå¼•æ“çš„è¡Œé”æ˜¯æ€ä¹ˆå®ç°çš„ï¼ŸInnoDBå­˜å‚¨å¼•æ“çš„é”çš„ç®—æ³•æœ‰ä¸‰ç§ä»€ä¹ˆæ˜¯æ­»é”ï¼Ÿæ€ä¹ˆè§£å†³ï¼Ÿæ•°æ®åº“çš„ä¹è§‚é”å’Œæ‚²è§‚é”æ˜¯ä»€ä¹ˆï¼Ÿæ€ä¹ˆå®ç°çš„ï¼Ÿè§†å›¾ä¸ºä»€ä¹ˆè¦ä½¿ç”¨è§†å›¾ï¼Ÿä»€ä¹ˆæ˜¯è§†å›¾ï¼Ÿè§†å›¾æœ‰å“ªäº›ç‰¹ç‚¹ï¼Ÿè§†å›¾çš„ä½¿ç”¨åœºæ™¯æœ‰å“ªäº›ï¼Ÿè§†å›¾çš„ä¼˜ç‚¹è§†å›¾çš„ç¼ºç‚¹ä»€ä¹ˆæ˜¯æ¸¸æ ‡ï¼Ÿå­˜å‚¨è¿‡ç¨‹ä¸å‡½æ•°ä»€ä¹ˆæ˜¯å­˜å‚¨è¿‡ç¨‹ï¼Ÿæœ‰å“ªäº›ä¼˜ç¼ºç‚¹ï¼Ÿè§¦å‘å™¨ä»€ä¹ˆæ˜¯è§¦å‘å™¨ï¼Ÿè§¦å‘å™¨çš„ä½¿ç”¨åœºæ™¯æœ‰å“ªäº›ï¼ŸMySQLä¸­éƒ½æœ‰å“ªäº›è§¦å‘å™¨ï¼Ÿå¸¸ç”¨SQLè¯­å¥SQLè¯­å¥ä¸»è¦åˆ†ä¸ºå“ªå‡ ç±»æ•°æ®å®šä¹‰è¯­è¨€ DDLï¼ˆData Ddefinition Languageï¼‰CREATEï¼ŒDROPï¼ŒALTER å¯¹é€»è¾‘ç»“æ„ç­‰æœ‰æ“ä½œçš„ï¼Œå…¶ä¸­åŒ…æ‹¬è¡¨ç»“æ„ï¼Œè§†å›¾å’Œç´¢å¼•ã€‚ æ•°æ®æŸ¥è¯¢è¯­è¨€ DQLï¼ˆData Query Languageï¼‰SELECT æŸ¥è¯¢æ“ä½œï¼Œä»¥ select å…³é”®å­—ã€‚ç®€å•æŸ¥è¯¢ï¼Œè¿æ¥æŸ¥è¯¢ç­‰ éƒ½å±äº DQLã€‚ æ•°æ®æ“çºµè¯­è¨€ DMLï¼ˆData Manipulation Languageï¼‰INSERTï¼ŒUPDATEï¼ŒDELETE æ•°æ®æ“ä½œï¼Œå¯¹åº”ä¸Šé¢æ‰€è¯´çš„æŸ¥è¯¢æ“ä½œ DQL ä¸ DML å…±åŒæ„å»ºäº†å¤šæ•°åˆçº§ç¨‹åºå‘˜å¸¸ç”¨çš„å¢åˆ æ”¹æŸ¥æ“ä½œã€‚æŸ¥è¯¢è¾ƒä¸ºç‰¹æ®Šåˆ’åˆ†åˆ° DQL ä¸­ã€‚ æ•°æ®æ§åˆ¶åŠŸèƒ½ DCLï¼ˆData Control Languageï¼‰GRANTï¼ŒREVOKEï¼ŒCOMMITï¼ŒROLLBACK å¯¹æ•°æ®åº“å®‰å…¨æ€§å®Œæ•´æ€§ç­‰æœ‰æ“ä½œçš„ï¼Œæƒé™æ§åˆ¶ç­‰ DQMCè¶…é”®ã€å€™é€‰é”®ã€ä¸»é”®ã€å¤–é”®åˆ†åˆ«æ˜¯ä»€ä¹ˆï¼Ÿè¶…é”®ï¼šåœ¨å…³ç³»ä¸­èƒ½å”¯ä¸€æ ‡è¯†å…ƒç»„çš„å±æ€§é›†ç§°ä¸ºå…³ç³»æ¨¡å¼çš„è¶…é”®ã€‚ä¸€ä¸ªå±æ€§å¯ä»¥ä¸ºä½œä¸ºä¸€ä¸ªè¶…é”®ï¼Œå¤šä¸ªå±æ€§ç»„åˆåœ¨ä¸€èµ·ä¹Ÿå¯ä»¥ä½œä¸ºä¸€ä¸ªè¶…é”®ã€‚è¶…é”®åŒ…å«å€™é€‰é”®å’Œä¸»é”®ã€‚ å€™é€‰é”®ï¼šæ˜¯æœ€å°è¶…é”®ï¼Œå³æ²¡æœ‰å†—ä½™å…ƒç´ çš„è¶…é”®ã€‚ ä¸»é”®ï¼šæ•°æ®åº“è¡¨ä¸­å¯¹å‚¨å­˜æ•°æ®å¯¹è±¡äºˆä»¥å”¯ä¸€å’Œå®Œæ•´æ ‡è¯†çš„æ•°æ®åˆ—æˆ–å±æ€§çš„ç»„åˆã€‚ä¸€ä¸ªæ•°æ®åˆ—åªèƒ½æœ‰ä¸€ä¸ªä¸»é”®ï¼Œä¸”ä¸»é”®çš„å–å€¼ä¸èƒ½ç¼ºå¤±ï¼Œå³ä¸èƒ½ä¸ºç©ºå€¼ï¼ˆNullï¼‰ã€‚ å¤–é”®ï¼šåœ¨ä¸€ä¸ªè¡¨ä¸­å­˜åœ¨çš„å¦ä¸€ä¸ªè¡¨çš„ä¸»é”®ç§°æ­¤è¡¨çš„å¤–é”®ã€‚ SQL çº¦æŸæœ‰å“ªå‡ ç§ï¼ŸNOT NULL: ç”¨äºæ§åˆ¶å­—æ®µçš„å†…å®¹ä¸€å®šä¸èƒ½ä¸ºç©ºï¼ˆNULLï¼‰ã€‚ UNIQUE: æ§ä»¶å­—æ®µå†…å®¹ä¸èƒ½é‡å¤ï¼Œä¸€ä¸ªè¡¨å…è®¸æœ‰å¤šä¸ª Unique çº¦æŸã€‚ PRIMARY KEY: ä¹Ÿæ˜¯ç”¨äºæ§ä»¶å­—æ®µå†…å®¹ä¸èƒ½é‡å¤ï¼Œä½†å®ƒåœ¨ä¸€ä¸ªè¡¨åªå…è®¸å‡ºç°ä¸€ä¸ªã€‚ FOREIGN KEY: ç”¨äºé¢„é˜²ç ´åè¡¨ä¹‹é—´è¿æ¥çš„åŠ¨ä½œï¼Œä¹Ÿèƒ½é˜²æ­¢éæ³•æ•°æ®æ’å…¥å¤–é”®åˆ—ï¼Œå› ä¸ºå®ƒå¿…é¡»æ˜¯å®ƒæŒ‡å‘çš„é‚£ä¸ªè¡¨ä¸­çš„å€¼ä¹‹ä¸€ã€‚ CHECK: ç”¨äºæ§åˆ¶å­—æ®µçš„å€¼èŒƒå›´ã€‚ å…­ç§å…³è”æŸ¥è¯¢äº¤å‰è¿æ¥ï¼ˆCROSS JOINï¼‰ å†…è¿æ¥ï¼ˆINNER JOINï¼‰ å¤–è¿æ¥ï¼ˆLEFT JOIN/RIGHT JOINï¼‰ è”åˆæŸ¥è¯¢ï¼ˆUNION ä¸ UNION ALLï¼‰ å…¨è¿æ¥ï¼ˆFULL JOINï¼‰Â· äº¤å‰è¿æ¥ï¼ˆCROSS JOINï¼‰ SELECT FROM A,B(,C)æˆ–è€…SELECT FROM A CROSS JOIN B (CROSS JOIN C)#æ²¡æœ‰ä»»ä½•å…³è”æ¡ä»¶ï¼Œç»“æœæ˜¯ç¬›å¡å°”ç§¯ï¼Œç»“æœé›†ä¼šå¾ˆå¤§ï¼Œæ²¡æœ‰æ„ä¹‰ï¼Œå¾ˆå°‘ä½¿ç”¨å†…è¿æ¥ï¼ˆINNER JOINï¼‰SELECT FROM A,B WHERE A.id=B.idæˆ–è€…SELECT FROM A INNER JOIN B ON A.id=B.idå¤šè¡¨ä¸­åŒæ—¶ç¬¦åˆæŸç§æ¡ä»¶çš„æ•°æ®è®°å½•çš„é›†åˆï¼ŒINNER JOINå¯ä»¥ç¼©å†™ä¸ºJOIN Â· å†…è¿æ¥åˆ†ä¸ºä¸‰ç±» ç­‰å€¼è¿æ¥ï¼šON A.id=B.id ä¸ç­‰å€¼è¿æ¥ï¼šON A.id &gt; B.id è‡ªè¿æ¥ï¼šSELECT * FROM A T1 INNER JOIN A T2 ON T1.id=T2.pid Â· å¤–è¿æ¥ï¼ˆLEFT JOIN/RIGHT JOINï¼‰ å·¦å¤–è¿æ¥ï¼šLEFT OUTER JOIN, ä»¥å·¦è¡¨ä¸ºä¸»ï¼Œå…ˆæŸ¥è¯¢å‡ºå·¦è¡¨ï¼ŒæŒ‰ç…§ ON åçš„å…³è”æ¡ä»¶åŒ¹é…å³è¡¨ï¼Œæ²¡æœ‰åŒ¹é…åˆ°çš„ç”¨ NULL å¡«å……ï¼Œå¯ä»¥ç®€å†™æˆ LEFT JOIN å³å¤–è¿æ¥ï¼šRIGHT OUTER JOIN, ä»¥å³è¡¨ä¸ºä¸»ï¼Œå…ˆæŸ¥è¯¢å‡ºå³è¡¨ï¼ŒæŒ‰ç…§ ON åçš„å…³è”æ¡ä»¶åŒ¹é…å·¦è¡¨ï¼Œæ²¡æœ‰åŒ¹é…åˆ°çš„ç”¨ NULL å¡«å……ï¼Œå¯ä»¥ç®€å†™æˆ RIGHT JOIN Â· è”åˆæŸ¥è¯¢ï¼ˆUNION ä¸ UNION ALLï¼‰ SELECT FROM A UNION SELECT FROM B UNION â€¦ å°±æ˜¯æŠŠå¤šä¸ªç»“æœé›†é›†ä¸­åœ¨ä¸€èµ·ï¼ŒUNION å‰çš„ç»“æœä¸ºåŸºå‡†ï¼Œéœ€è¦æ³¨æ„çš„æ˜¯è”åˆæŸ¥è¯¢çš„åˆ—æ•°è¦ç›¸ç­‰ï¼Œç›¸åŒçš„è®°å½•è¡Œä¼šåˆå¹¶ å¦‚æœä½¿ç”¨ UNION ALLï¼Œä¸ä¼šåˆå¹¶é‡å¤çš„è®°å½•è¡Œ æ•ˆç‡ UNION é«˜äº UNION ALL Â· å…¨è¿æ¥ï¼ˆFULL JOINï¼‰ MySQL ä¸æ”¯æŒå…¨è¿æ¥ å¯ä»¥ä½¿ç”¨ LEFT JOIN å’Œ UNION å’Œ RIGHT JOIN è”åˆä½¿ç”¨ SELECT FROM A LEFT JOIN B ON A.id=B.id UNIONSELECT FROM A RIGHT JOIN B ON A.id=B.id ä»€ä¹ˆæ˜¯å­æŸ¥è¯¢æ¡ä»¶ï¼šä¸€æ¡ SQL è¯­å¥çš„æŸ¥è¯¢ç»“æœåšä¸ºå¦ä¸€æ¡æŸ¥è¯¢è¯­å¥çš„æ¡ä»¶æˆ–æŸ¥è¯¢ç»“æœ åµŒå¥—ï¼šå¤šæ¡ SQL è¯­å¥åµŒå¥—ä½¿ç”¨ï¼Œå†…éƒ¨çš„ SQL æŸ¥è¯¢è¯­å¥ç§°ä¸ºå­æŸ¥è¯¢ã€‚å­æŸ¥è¯¢çš„ä¸‰ç§æƒ…å†µå­æŸ¥è¯¢æ˜¯å•è¡Œå•åˆ—çš„æƒ…å†µï¼šç»“æœé›†æ˜¯ä¸€ä¸ªå€¼ï¼Œçˆ¶æŸ¥è¯¢ä½¿ç”¨ï¼š=ã€ &lt;ã€&gt; ç­‰è¿ç®—ç¬¦ â€” æŸ¥è¯¢å·¥èµ„æœ€é«˜çš„å‘˜å·¥æ˜¯è°ï¼Ÿ select from employee where salary=(select max(salary) from employee); å­æŸ¥è¯¢æ˜¯å¤šè¡Œå•åˆ—çš„æƒ…å†µï¼šç»“æœé›†ç±»ä¼¼äºä¸€ä¸ªæ•°ç»„ï¼Œçˆ¶æŸ¥è¯¢ä½¿ç”¨ï¼šin è¿ç®—ç¬¦ â€” æŸ¥è¯¢å·¥èµ„æœ€é«˜çš„å‘˜å·¥æ˜¯è°ï¼Ÿ select from employee where salary=(select max(salary) from employee); å­æŸ¥è¯¢æ˜¯å¤šè¡Œå¤šåˆ—çš„æƒ…å†µï¼šç»“æœé›†ç±»ä¼¼äºä¸€å¼ è™šæ‹Ÿè¡¨ï¼Œä¸èƒ½ç”¨äº where æ¡ä»¶ï¼Œç”¨äº select å­å¥ä¸­åšä¸ºå­è¡¨ â€” 1) æŸ¥è¯¢å‡º2011å¹´ä»¥åå…¥èŒçš„å‘˜å·¥ä¿¡æ¯ â€” 2) æŸ¥è¯¢æ‰€æœ‰çš„éƒ¨é—¨ä¿¡æ¯ï¼Œä¸ä¸Šé¢çš„è™šæ‹Ÿè¡¨ä¸­çš„ä¿¡æ¯æ¯”å¯¹ï¼Œæ‰¾å‡ºæ‰€æœ‰éƒ¨é—¨IDç›¸ç­‰çš„å‘˜å·¥ã€‚ select from dept d, (select from employee where join_date &gt; â€˜2011-1-1â€™) e where e.dept_id = d.id; â€” ä½¿ç”¨è¡¨è¿æ¥ï¼š select d., e. from dept d inner join employee e on d.id = e.dept_id where e.join_date &gt; â€˜2011-1-1â€™ mysqlä¸­ in å’Œ exists åŒºåˆ«mysql ä¸­çš„ in è¯­å¥æ˜¯æŠŠå¤–è¡¨å’Œå†…è¡¨ä½œ hash è¿æ¥ï¼Œè€Œ exists è¯­å¥æ˜¯å¯¹å¤–è¡¨ä½œ loop å¾ªç¯ï¼Œæ¯æ¬¡ loop å¾ªç¯å†å¯¹å†…è¡¨è¿›è¡ŒæŸ¥è¯¢ã€‚ä¸€ç›´å¤§å®¶éƒ½è®¤ä¸º exists æ¯” in è¯­å¥çš„æ•ˆç‡è¦é«˜ï¼Œè¿™ç§è¯´æ³•å…¶å®æ˜¯ä¸å‡†ç¡®çš„ã€‚è¿™ä¸ªæ˜¯è¦åŒºåˆ†ç¯å¢ƒçš„ã€‚ å¦‚æœæŸ¥è¯¢çš„ä¸¤ä¸ªè¡¨å¤§å°ç›¸å½“ï¼Œé‚£ä¹ˆç”¨ in å’Œ exists å·®åˆ«ä¸å¤§ã€‚ å¦‚æœä¸¤ä¸ªè¡¨ä¸­ä¸€ä¸ªè¾ƒå°ï¼Œä¸€ä¸ªæ˜¯å¤§è¡¨ï¼Œåˆ™å­æŸ¥è¯¢è¡¨å¤§çš„ç”¨ existsï¼Œå­æŸ¥è¯¢è¡¨å°çš„ç”¨ inã€‚ not in å’Œ not existsï¼šå¦‚æœæŸ¥è¯¢è¯­å¥ä½¿ç”¨äº† not inï¼Œé‚£ä¹ˆå†…å¤–è¡¨éƒ½è¿›è¡Œå…¨è¡¨æ‰«æï¼Œæ²¡æœ‰ç”¨åˆ°ç´¢å¼•ï¼›è€Œ not extsts çš„å­æŸ¥è¯¢ä¾ç„¶èƒ½ç”¨åˆ°è¡¨ä¸Šçš„ç´¢å¼•ã€‚æ‰€ä»¥æ— è®ºé‚£ä¸ªè¡¨å¤§ï¼Œç”¨ not exists éƒ½æ¯” not in è¦å¿«ã€‚ varcharä¸charçš„åŒºåˆ«char çš„ç‰¹ç‚¹ char è¡¨ç¤ºå®šé•¿å­—ç¬¦ä¸²ï¼Œé•¿åº¦æ˜¯å›ºå®šçš„ï¼› å¦‚æœæ’å…¥æ•°æ®çš„é•¿åº¦å°äº char çš„å›ºå®šé•¿åº¦æ—¶ï¼Œåˆ™ç”¨ç©ºæ ¼å¡«å……ï¼› å› ä¸ºé•¿åº¦å›ºå®šï¼Œæ‰€ä»¥å­˜å–é€Ÿåº¦è¦æ¯” varchar å¿«å¾ˆå¤šï¼Œç”šè‡³èƒ½å¿« 50%ï¼Œä½†æ­£å› ä¸ºå…¶é•¿åº¦å›ºå®šï¼Œæ‰€ä»¥ä¼šå æ®å¤šä½™çš„ç©ºé—´ï¼Œæ˜¯ç©ºé—´æ¢æ—¶é—´çš„åšæ³•ï¼› å¯¹äº char æ¥è¯´ï¼Œæœ€å¤šèƒ½å­˜æ”¾çš„å­—ç¬¦ä¸ªæ•°ä¸º 255ï¼Œå’Œç¼–ç æ— å…³ varchar çš„ç‰¹ç‚¹ varchar è¡¨ç¤ºå¯å˜é•¿å­—ç¬¦ä¸²ï¼Œé•¿åº¦æ˜¯å¯å˜çš„ï¼› æ’å…¥çš„æ•°æ®æ˜¯å¤šé•¿ï¼Œå°±æŒ‰ç…§å¤šé•¿æ¥å­˜å‚¨ï¼› varchar åœ¨å­˜å–æ–¹é¢ä¸ char ç›¸åï¼Œå®ƒå­˜å–æ…¢ï¼Œå› ä¸ºé•¿åº¦ä¸å›ºå®šï¼Œä½†æ­£å› å¦‚æ­¤ï¼Œä¸å æ®å¤šä½™çš„ç©ºé—´ï¼Œæ˜¯æ—¶é—´æ¢ç©ºé—´çš„åšæ³•ï¼› å¯¹äº varchar æ¥è¯´ï¼Œæœ€å¤šèƒ½å­˜æ”¾çš„å­—ç¬¦ä¸ªæ•°ä¸º 65532 æ€»ä¹‹ï¼Œç»“åˆæ€§èƒ½è§’åº¦ï¼ˆchar æ›´å¿«ï¼‰å’ŒèŠ‚çœç£ç›˜ç©ºé—´è§’åº¦ï¼ˆvarchar æ›´å°ï¼‰ï¼Œå…·ä½“æƒ…å†µè¿˜éœ€å…·ä½“æ¥è®¾è®¡æ•°æ®åº“æ‰æ˜¯å¦¥å½“çš„åšæ³•ã€‚ varchar(50)ä¸­50çš„æ¶µä¹‰æœ€å¤šå­˜æ”¾ 50 ä¸ªå­—ç¬¦ï¼Œvarchar(50)å’Œ (200) å­˜å‚¨ hello æ‰€å ç©ºé—´ä¸€æ ·ï¼Œä½†åè€…åœ¨æ’åºæ—¶ä¼šæ¶ˆè€—æ›´å¤šå†…å­˜ï¼Œå› ä¸º order by col é‡‡ç”¨ fixed_length è®¡ç®— col é•¿åº¦(memory å¼•æ“ä¹Ÿä¸€æ ·)ã€‚åœ¨æ—©æœŸ MySQL ç‰ˆæœ¬ä¸­ï¼Œ 50 ä»£è¡¨å­—èŠ‚æ•°ï¼Œç°åœ¨ä»£è¡¨å­—ç¬¦æ•°ã€‚ int(20)ä¸­20çš„æ¶µä¹‰æ˜¯æŒ‡æ˜¾ç¤ºå­—ç¬¦çš„é•¿åº¦ã€‚20 è¡¨ç¤ºæœ€å¤§æ˜¾ç¤ºå®½åº¦ä¸º 20ï¼Œä½†ä»å  4 å­—èŠ‚å­˜å‚¨ï¼Œå­˜å‚¨èŒƒå›´ä¸å˜ï¼› ä¸å½±å“å†…éƒ¨å­˜å‚¨ï¼Œåªæ˜¯å½±å“å¸¦ zerofill å®šä¹‰çš„ int æ—¶ï¼Œå‰é¢è¡¥å¤šå°‘ä¸ª 0ï¼Œæ˜“äºæŠ¥è¡¨å±•ç¤º mysqlä¸ºä»€ä¹ˆè¿™ä¹ˆè®¾è®¡å¯¹å¤§å¤šæ•°åº”ç”¨æ²¡æœ‰æ„ä¹‰ï¼Œåªæ˜¯è§„å®šä¸€äº›å·¥å…·ç”¨æ¥æ˜¾ç¤ºå­—ç¬¦çš„ä¸ªæ•°ï¼›int(1) å’Œ int(20) å­˜å‚¨å’Œè®¡ç®—å‡ä¸€æ ·ï¼› mysqlä¸­int(10)å’Œchar(10)ä»¥åŠvarchar(10)çš„åŒºåˆ«int(10) çš„ 10 è¡¨ç¤ºæ˜¾ç¤ºçš„æ•°æ®çš„é•¿åº¦ï¼Œä¸æ˜¯å­˜å‚¨æ•°æ®çš„å¤§å°ï¼›chart(10) å’Œ varchar(10) çš„ 10 è¡¨ç¤ºå­˜å‚¨æ•°æ®çš„å¤§å°ï¼Œå³è¡¨ç¤ºå­˜å‚¨å¤šå°‘ä¸ªå­—ç¬¦ã€‚ int(10) 10 ä½çš„æ•°æ®é•¿åº¦ 9999999999ï¼Œå  32 ä¸ªå­—èŠ‚ï¼Œint å‹ 4 ä½ char(10) 10 ä½å›ºå®šå­—ç¬¦ä¸²ï¼Œä¸è¶³è¡¥ç©ºæ ¼ æœ€å¤š 10 ä¸ªå­—ç¬¦ varchar(10) 10 ä½å¯å˜å­—ç¬¦ä¸²ï¼Œä¸è¶³è¡¥ç©ºæ ¼ æœ€å¤š 10 ä¸ªå­—ç¬¦ char(10) è¡¨ç¤ºå­˜å‚¨å®šé•¿çš„ 10 ä¸ªå­—ç¬¦ï¼Œä¸è¶³ 10 ä¸ªå°±ç”¨ç©ºæ ¼è¡¥é½ï¼Œå ç”¨æ›´å¤šçš„å­˜å‚¨ç©ºé—´ varchar(10) è¡¨ç¤ºå­˜å‚¨ 10 ä¸ªå˜é•¿çš„å­—ç¬¦ï¼Œå­˜å‚¨å¤šå°‘ä¸ªå°±æ˜¯å¤šå°‘ä¸ªï¼Œç©ºæ ¼ä¹ŸæŒ‰ä¸€ä¸ªå­—ç¬¦å­˜å‚¨ï¼Œè¿™ä¸€ç‚¹æ˜¯å’Œ char(10) çš„ç©ºæ ¼ä¸åŒçš„ï¼Œchar(10) çš„ç©ºæ ¼è¡¨ç¤ºå ä½ä¸ç®—ä¸€ä¸ªå­—ç¬¦ FLOATå’ŒDOUBLEçš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ FLOAT ç±»å‹æ•°æ®å¯ä»¥å­˜å‚¨è‡³å¤š 8 ä½åè¿›åˆ¶æ•°ï¼Œå¹¶åœ¨å†…å­˜ä¸­å  4 å­—èŠ‚ã€‚ DOUBLE ç±»å‹æ•°æ®å¯ä»¥å­˜å‚¨è‡³å¤š 18 ä½åè¿›åˆ¶æ•°ï¼Œå¹¶åœ¨å†…å­˜ä¸­å  8 å­—èŠ‚ã€‚ dropã€deleteä¸truncateçš„åŒºåˆ«â€‹ Delete Truncate Drop ç±»å‹ å±äº DML å±äº DDL å±äº DDL å›æ»š å¯å›æ»š ä¸å¯å›æ»š ä¸å¯å›æ»š åˆ é™¤å†…å®¹ è¡¨ç»“æ„è¿˜åœ¨ï¼Œåˆ é™¤è¡¨çš„å…¨éƒ¨æˆ–è€…ä¸€éƒ¨åˆ†æ•°æ®è¡Œ è¡¨ç»“æ„è¿˜åœ¨ï¼Œåˆ é™¤è¡¨ä¸­çš„æ‰€æœ‰æ•°æ® ä»æ•°æ®åº“ä¸­åˆ é™¤è¡¨ï¼Œæ‰€æœ‰çš„æ•°æ®è¡Œï¼Œç´¢å¼•å’Œæƒé™ä¹Ÿä¼šè¢«åˆ é™¤ åˆ é™¤é€Ÿåº¦ åˆ é™¤é€Ÿåº¦æ…¢ï¼Œéœ€è¦é€è¡Œåˆ é™¤ åˆ é™¤é€Ÿåº¦å¿« åˆ é™¤é€Ÿåº¦æœ€å¿« å› æ­¤ï¼Œåœ¨ä¸å†éœ€è¦ä¸€å¼ è¡¨çš„æ—¶å€™ï¼Œç”¨ dropï¼›åœ¨æƒ³åˆ é™¤éƒ¨åˆ†æ•°æ®è¡Œæ—¶å€™ï¼Œç”¨ deleteï¼›åœ¨ä¿ç•™è¡¨è€Œåˆ é™¤æ‰€æœ‰æ•°æ®çš„æ—¶å€™ç”¨ truncateã€‚ UNIONä¸UNION ALLçš„åŒºåˆ«ï¼Ÿå¦‚æœä½¿ç”¨ UNION ALLï¼Œä¸ä¼šåˆå¹¶é‡å¤çš„è®°å½•è¡Œ æ•ˆç‡ UNION é«˜äº UNION ALL SQLä¼˜åŒ–å¦‚ä½•å®šä½åŠä¼˜åŒ–SQLè¯­å¥çš„æ€§èƒ½é—®é¢˜ï¼Ÿåˆ›å»ºçš„ç´¢å¼•æœ‰æ²¡æœ‰è¢«ä½¿ç”¨åˆ°?æˆ–è€…è¯´æ€ä¹ˆæ‰å¯ä»¥çŸ¥é“è¿™æ¡è¯­å¥è¿è¡Œå¾ˆæ…¢çš„åŸå› ï¼ŸSQLçš„ç”Ÿå‘½å‘¨æœŸï¼Ÿå¤§è¡¨æ•°æ®æŸ¥è¯¢ï¼Œæ€ä¹ˆä¼˜åŒ–è¶…å¤§åˆ†é¡µæ€ä¹ˆå¤„ç†ï¼Ÿmysql åˆ†é¡µæ…¢æŸ¥è¯¢æ—¥å¿—å…³å¿ƒè¿‡ä¸šåŠ¡ç³»ç»Ÿé‡Œé¢çš„sqlè€—æ—¶å—ï¼Ÿç»Ÿè®¡è¿‡æ…¢æŸ¥è¯¢å—ï¼Ÿå¯¹æ…¢æŸ¥è¯¢éƒ½æ€ä¹ˆä¼˜åŒ–è¿‡ï¼Ÿä¸ºä»€ä¹ˆè¦å°½é‡è®¾å®šä¸€ä¸ªä¸»é”®ï¼Ÿä¸»é”®ä½¿ç”¨è‡ªå¢IDè¿˜æ˜¯UUIDï¼Ÿå­—æ®µä¸ºä»€ä¹ˆè¦æ±‚å®šä¹‰ä¸ºnot nullï¼Ÿå¦‚æœè¦å­˜å‚¨ç”¨æˆ·çš„å¯†ç æ•£åˆ—ï¼Œåº”è¯¥ä½¿ç”¨ä»€ä¹ˆå­—æ®µè¿›è¡Œå­˜å‚¨ï¼Ÿä¼˜åŒ–æŸ¥è¯¢è¿‡ç¨‹ä¸­çš„æ•°æ®è®¿é—®ä¼˜åŒ–é•¿éš¾çš„æŸ¥è¯¢è¯­å¥ä¼˜åŒ–ç‰¹å®šç±»å‹çš„æŸ¥è¯¢è¯­å¥ä¼˜åŒ–å…³è”æŸ¥è¯¢ä¼˜åŒ–å­æŸ¥è¯¢ä¼˜åŒ–LIMITåˆ†é¡µä¼˜åŒ–UNIONæŸ¥è¯¢ä¼˜åŒ–WHEREå­å¥æ•°æ®åº“ä¼˜åŒ–ä¸ºä»€ä¹ˆè¦ä¼˜åŒ–æ•°æ®åº“ç»“æ„ä¼˜åŒ–MySQLæ•°æ®åº“cpué£™å‡åˆ°500%çš„è¯æ€ä¹ˆå¤„ç†ï¼Ÿå¤§è¡¨æ€ä¹ˆä¼˜åŒ–ï¼ŸæŸä¸ªè¡¨æœ‰è¿‘åƒä¸‡æ•°æ®ï¼ŒCRUDæ¯”è¾ƒæ…¢ï¼Œå¦‚ä½•ä¼˜åŒ–ï¼Ÿåˆ†åº“åˆ†è¡¨äº†æ˜¯æ€ä¹ˆåšçš„ï¼Ÿåˆ†è¡¨åˆ†åº“äº†æœ‰ä»€ä¹ˆé—®é¢˜ï¼Ÿæœ‰ç”¨åˆ°ä¸­é—´ä»¶ä¹ˆï¼Ÿä»–ä»¬çš„åŸç†çŸ¥é“ä¹ˆï¼Ÿå‚ç›´åˆ†è¡¨é€‚ç”¨åœºæ™¯ç¼ºç‚¹æ°´å¹³åˆ†è¡¨ï¼šé€‚ç”¨åœºæ™¯æ°´å¹³åˆ‡åˆ†çš„ç¼ºç‚¹MySQLçš„å¤åˆ¶åŸç†ä»¥åŠæµç¨‹è¯»å†™åˆ†ç¦»æœ‰å“ªäº›è§£å†³æ–¹æ¡ˆï¼Ÿå¤‡ä»½è®¡åˆ’ï¼Œmysqldumpä»¥åŠxtranbackupçš„å®ç°åŸç†æ•°æ®è¡¨æŸåçš„ä¿®å¤æ–¹å¼æœ‰å“ªäº›ï¼Ÿå¸¸ç”¨è¯­å¥distinctå­—æ®µå»é‡group by ã€‚ã€‚havingnot inconcat(last_name,â€™ â€˜,first_name)replaceupdate titles_test set emp_no=replace(emp_no,â€™10001â€™,â€™10005â€™) where id=5alter table titles_test rename to titles_2017round(avg(score),3)å…¨æ–‡ç´¢å¼•ï¼š æ˜¯ç›®å‰æœç´¢å¼•æ“ä½¿ç”¨çš„ä¸€ç§å…³é”®æŠ€æœ¯ã€‚ å¯ä»¥é€šè¿‡ALTER TABLE table_name ADD FULLTEXT (column);åˆ›å»ºå…¨æ–‡ç´¢å¼• PostgresæŸ¥è¯¢å­—æ®µå¤‡æ³¨ 12select a.attnum,a.attname,concat_ws('',t.typname,SUBSTRING(format_type(a.atttypid,a.atttypmod) from '\\(.*\\)')) as type,d.description from pg_class c,pg_attribute a,pg_type t,pg_description dwhere c.relname='com_capture' and a.attnum&gt;0 and a.attrelid=c.oid and a.atttypid=t.oid and d.objoid=a.attrelid and d.objsubid=a.attnum; å–geomæ•°æ® 12select st_astext(geom) from ttt # testå½¢å¼SELECT st_asgeojson(geom) FROM &quot;ygjcgd&quot; # geojsonå½¢å¼ å­˜geom 12ç‚¹INSERT into ttt values ('1',ST_GeomFromText('POINT(119.104393005 29.3091735840001)',4490))é¢INSERT into ttt values ('2',ST_GeomFromText('POLYGON((120.489420304 30.2855081450001,120.48927819 30.2855092200001,120.489034534 30.2855205130001,120.488415416 30.2855540510001,120.488238647 30.285563627,120.487775051 30.2856122420001,120.487543209 30.2856365540001,120.48696129 30.28571928,120.486939727 30.285722842,120.486661766 30.2857687420001,120.48676176 30.2859599880001,120.486786439 30.2860551310001,120.486803289 30.286632664,120.487353662 30.2866268860001,120.487351682 30.2864715210001,120.487351632 30.286467605,120.487350721 30.2863964210001,120.487346937 30.2860998030001,120.487342737 30.285770433,120.487400427 30.2857633680001,120.487405079 30.285760184,120.48740623 30.285961001,120.487409165 30.2864727900001,120.487409564 30.286542108,120.487409728 30.2865708910001,120.487410051 30.2866269530001,120.487415064 30.2866269360001,120.487781689 30.2866291820001,120.488148313 30.286631426,120.488229104 30.286631782,120.488646675 30.2866336280001,120.488672652 30.2866335310001,120.489108909 30.286635501,120.489545164 30.286637469,120.489554908 30.2866377670001,120.489587466 30.2866073650001,120.489631665 30.286574779,120.489633218 30.2865468840001,120.489635952 30.286497766,120.489630193 30.2864750590001,120.489620367 30.286436291,120.489576415 30.2862629480001,120.489538252 30.286111927,120.489518579 30.286034075,120.489490667 30.2859208350001,120.489445946 30.285699532,120.489442796 30.285683949,120.489435137 30.2856060400001,120.489420304 30.2855081450001))',4490)) ä¸Šå¥½ä¾‹é¢˜å•è¾“å…¥ï¼Œå¤šå­—æ®µæŸ¥è¯¢ 123&lt;if test=&quot;text!=null and text!=''&quot;&gt; and CONCAT(t.city,t.bh,t.cun,t.jsztmc,t.xmxmmc) like concat ('%',#{text},'%')&lt;/if&gt;","link":"/2021/02/24/Draft/2021/MYSQL%E4%BC%98%E5%8C%96/"},{"title":"Python å­¦ä¹ ","text":"Python3å­¦ä¹ ç®€ä»‹Python is powerful... and fast; plays well with others; runs everywhere; is friendly &amp; easy to learn; is Open. Python å‘å±•å†å²Python ç‰¹ç‚¹Python åº”ç”¨å·¥å…·å¼€å‘å¹³å°ï¼šPYCharm è¯­æ³•åŸºç¡€123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215216217218219220221222223224225226227228229230231232233234235236237238239240241242243244245246247248249250251252253254255256257258259260261262263264265266267268269270271272273274275276277278279280281282283284285286287288289290291292293294295296297298299300301302303304305306307308309310311312313314315316317318319320321322323324325326327328329330331332333334335336337338339340341342343344345346347348349350351352353354355356357358359360361362363364365366367368369370371372373374375376377378379380381382383384385386387388389390391392393394395396397398399400401402403404405406407408409410411412413414415416417418419420421422423424425426427428429430431432433434435436437438439440441442443444445446447448449450451452453454455456457458459460461462463464465466467468469470471472473474475476477478479480481482483484485486487488489490491492493494495496497498499500501502503504505506507508509510511512513514515516517518519520521522523524525526527528529530531532533534535536537538539540541542543544545546547548549550551552553554555556557558559560561562563564565566567568569570571572573574575576577578579580581582583584585586587588589590591592593594595596597598599600601602603604605606607608609610611612613614615616617618619620621622623624625626627628629630631632633634635636637638639640641642643644645646647648649650651652653654655656657658659660661662663664665666667668669670671672673674675676677678679680681682683684685686687688689690691692693694695696697698699700701702703704705706707708709710711712713714715716717718719'''=============åŸºæœ¬è¯­æ³•============='''import keyword# from modname import name1[, name2[, ... nameN]]# Python æä¾›äº†ä¸€ä¸ªåŠæ³•ï¼ŒæŠŠè¿™äº›å®šä¹‰å­˜æ”¾åœ¨æ–‡ä»¶ä¸­ï¼Œä¸ºä¸€äº›è„šæœ¬æˆ–è€…äº¤äº’å¼çš„è§£é‡Šå™¨å®ä¾‹ä½¿ç”¨ï¼Œè¿™ä¸ªæ–‡ä»¶è¢«ç§°ä¸ºæ¨¡å—ã€‚# æ¨¡å—æ˜¯ä¸€ä¸ªåŒ…å«æ‰€æœ‰ä½ å®šä¹‰çš„å‡½æ•°å’Œå˜é‡çš„æ–‡ä»¶ï¼Œå…¶åç¼€åæ˜¯.pyã€‚æ¨¡å—å¯ä»¥è¢«åˆ«çš„ç¨‹åºå¼•å…¥ï¼Œä»¥ä½¿ç”¨è¯¥æ¨¡å—ä¸­çš„å‡½æ•°ç­‰åŠŸèƒ½ã€‚è¿™ä¹Ÿæ˜¯ä½¿ç”¨ python æ ‡å‡†åº“çš„æ–¹æ³•ã€‚# ä»æŸä¸ªæ¨¡å—ä¸­å¯¼å…¥å¤šä¸ªå‡½æ•°,æ ¼å¼ä¸ºï¼š from somemodule import firstfunc, secondfunc, thirdfunc# ====__name__å±æ€§====# ä¸€ä¸ªæ¨¡å—è¢«å¦ä¸€ä¸ªç¨‹åºç¬¬ä¸€æ¬¡å¼•å…¥æ—¶ï¼Œå…¶ä¸»ç¨‹åºå°†è¿è¡Œã€‚å¦‚æœæˆ‘ä»¬æƒ³åœ¨æ¨¡å—è¢«å¼•å…¥æ—¶ï¼Œæ¨¡å—ä¸­çš„æŸä¸€ç¨‹åºå—ä¸æ‰§è¡Œï¼Œæˆ‘ä»¬å¯ä»¥ç”¨__name__å±æ€§æ¥ä½¿è¯¥ç¨‹åºå—ä»…åœ¨è¯¥æ¨¡å—è‡ªèº«è¿è¡Œæ—¶æ‰§è¡Œã€‚# #!/usr/bin/python3# # Filename: using_name.py# if __name__ == '__main__':# print('ç¨‹åºè‡ªèº«åœ¨è¿è¡Œ')# else:# print('æˆ‘æ¥è‡ªå¦ä¸€æ¨¡å—')# ====dir() å‡½æ•°====# å†…ç½®çš„å‡½æ•° dir() å¯ä»¥æ‰¾åˆ°æ¨¡å—å†…å®šä¹‰çš„æ‰€æœ‰åç§°ã€‚ä»¥ä¸€ä¸ªå­—ç¬¦ä¸²åˆ—è¡¨çš„å½¢å¼è¿”å›:'''è¾“å…¥å’Œè¾“å‡º'''# Pythonä¸¤ç§è¾“å‡ºå€¼çš„æ–¹å¼: è¡¨è¾¾å¼è¯­å¥å’Œ print() å‡½æ•°ã€‚# ç¬¬ä¸‰ç§æ–¹å¼æ˜¯ä½¿ç”¨æ–‡ä»¶å¯¹è±¡çš„ write() æ–¹æ³•ï¼Œæ ‡å‡†è¾“å‡ºæ–‡ä»¶å¯ä»¥ç”¨ sys.stdout å¼•ç”¨ã€‚# å¦‚æœä½ å¸Œæœ›è¾“å‡ºçš„å½¢å¼æ›´åŠ å¤šæ ·ï¼Œå¯ä»¥ä½¿ç”¨ str.format() å‡½æ•°æ¥æ ¼å¼åŒ–è¾“å‡ºå€¼ã€‚# å¦‚æœä½ å¸Œæœ›å°†è¾“å‡ºçš„å€¼è½¬æˆå­—ç¬¦ä¸²ï¼Œå¯ä»¥ä½¿ç”¨ repr() æˆ– str() å‡½æ•°æ¥å®ç°ã€‚# str()ï¼š å‡½æ•°è¿”å›ä¸€ä¸ªç”¨æˆ·æ˜“è¯»çš„è¡¨è¾¾å½¢å¼ã€‚# repr()ï¼š äº§ç”Ÿä¸€ä¸ªè§£é‡Šå™¨æ˜“è¯»çš„è¡¨è¾¾å½¢å¼ã€‚print(&quot;Hello word!&quot;)print('{}ç½‘å€ï¼š &quot;{}!&quot;'.format('èœé¸Ÿæ•™ç¨‹', 'www.runoob.com'))print('{0} å’Œ {1}'.format('Google', 'Runoob'))print('ç«™ç‚¹åˆ—è¡¨ {0}, {1}, å’Œ {other}ã€‚'.format('Google', 'Runoob', other='Taobao'))# è¯»å–é”®ç›˜è¾“å…¥str = input(&quot;è¯·è¾“å…¥ï¼š&quot;);print (&quot;ä½ è¾“å…¥çš„å†…å®¹æ˜¯: &quot;, str)# è¯»å’Œå†™æ–‡ä»¶# open(filename, mode)# filenameï¼šåŒ…å«äº†ä½ è¦è®¿é—®çš„æ–‡ä»¶åç§°çš„å­—ç¬¦ä¸²å€¼ã€‚# modeï¼šå†³å®šäº†æ‰“å¼€æ–‡ä»¶çš„æ¨¡å¼ï¼šåªè¯»ï¼Œå†™å…¥ï¼Œè¿½åŠ ç­‰ã€‚æ‰€æœ‰å¯å–å€¼è§å¦‚ä¸‹çš„å®Œå…¨åˆ—è¡¨ã€‚è¿™ä¸ªå‚æ•°æ˜¯éå¼ºåˆ¶çš„ï¼Œé»˜è®¤æ–‡ä»¶è®¿é—®æ¨¡å¼ä¸ºåªè¯»(r)ã€‚# æ¨¡å¼ æè¿°# r ä»¥åªè¯»æ–¹å¼æ‰“å¼€æ–‡ä»¶ã€‚æ–‡ä»¶çš„æŒ‡é’ˆå°†ä¼šæ”¾åœ¨æ–‡ä»¶çš„å¼€å¤´ã€‚è¿™æ˜¯é»˜è®¤æ¨¡å¼ã€‚# rb ä»¥äºŒè¿›åˆ¶æ ¼å¼æ‰“å¼€ä¸€ä¸ªæ–‡ä»¶ç”¨äºåªè¯»ã€‚æ–‡ä»¶æŒ‡é’ˆå°†ä¼šæ”¾åœ¨æ–‡ä»¶çš„å¼€å¤´ã€‚# r+ æ‰“å¼€ä¸€ä¸ªæ–‡ä»¶ç”¨äºè¯»å†™ã€‚æ–‡ä»¶æŒ‡é’ˆå°†ä¼šæ”¾åœ¨æ–‡ä»¶çš„å¼€å¤´ã€‚# rb+ ä»¥äºŒè¿›åˆ¶æ ¼å¼æ‰“å¼€ä¸€ä¸ªæ–‡ä»¶ç”¨äºè¯»å†™ã€‚æ–‡ä»¶æŒ‡é’ˆå°†ä¼šæ”¾åœ¨æ–‡ä»¶çš„å¼€å¤´ã€‚# w æ‰“å¼€ä¸€ä¸ªæ–‡ä»¶åªç”¨äºå†™å…¥ã€‚å¦‚æœè¯¥æ–‡ä»¶å·²å­˜åœ¨åˆ™æ‰“å¼€æ–‡ä»¶ï¼Œå¹¶ä»å¼€å¤´å¼€å§‹ç¼–è¾‘ï¼Œå³åŸæœ‰å†…å®¹ä¼šè¢«åˆ é™¤ã€‚å¦‚æœè¯¥æ–‡ä»¶ä¸å­˜åœ¨ï¼Œåˆ›å»ºæ–°æ–‡ä»¶ã€‚# wb ä»¥äºŒè¿›åˆ¶æ ¼å¼æ‰“å¼€ä¸€ä¸ªæ–‡ä»¶åªç”¨äºå†™å…¥ã€‚å¦‚æœè¯¥æ–‡ä»¶å·²å­˜åœ¨åˆ™æ‰“å¼€æ–‡ä»¶ï¼Œå¹¶ä»å¼€å¤´å¼€å§‹ç¼–è¾‘ï¼Œå³åŸæœ‰å†…å®¹ä¼šè¢«åˆ é™¤ã€‚å¦‚æœè¯¥æ–‡ä»¶ä¸å­˜åœ¨ï¼Œåˆ›å»ºæ–°æ–‡ä»¶ã€‚# w+ æ‰“å¼€ä¸€ä¸ªæ–‡ä»¶ç”¨äºè¯»å†™ã€‚å¦‚æœè¯¥æ–‡ä»¶å·²å­˜åœ¨åˆ™æ‰“å¼€æ–‡ä»¶ï¼Œå¹¶ä»å¼€å¤´å¼€å§‹ç¼–è¾‘ï¼Œå³åŸæœ‰å†…å®¹ä¼šè¢«åˆ é™¤ã€‚å¦‚æœè¯¥æ–‡ä»¶ä¸å­˜åœ¨ï¼Œåˆ›å»ºæ–°æ–‡ä»¶ã€‚# wb+ ä»¥äºŒè¿›åˆ¶æ ¼å¼æ‰“å¼€ä¸€ä¸ªæ–‡ä»¶ç”¨äºè¯»å†™ã€‚å¦‚æœè¯¥æ–‡ä»¶å·²å­˜åœ¨åˆ™æ‰“å¼€æ–‡ä»¶ï¼Œå¹¶ä»å¼€å¤´å¼€å§‹ç¼–è¾‘ï¼Œå³åŸæœ‰å†…å®¹ä¼šè¢«åˆ é™¤ã€‚å¦‚æœè¯¥æ–‡ä»¶ä¸å­˜åœ¨ï¼Œåˆ›å»ºæ–°æ–‡ä»¶ã€‚# a æ‰“å¼€ä¸€ä¸ªæ–‡ä»¶ç”¨äºè¿½åŠ ã€‚å¦‚æœè¯¥æ–‡ä»¶å·²å­˜åœ¨ï¼Œæ–‡ä»¶æŒ‡é’ˆå°†ä¼šæ”¾åœ¨æ–‡ä»¶çš„ç»“å°¾ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œæ–°çš„å†…å®¹å°†ä¼šè¢«å†™å…¥åˆ°å·²æœ‰å†…å®¹ä¹‹åã€‚å¦‚æœè¯¥æ–‡ä»¶ä¸å­˜åœ¨ï¼Œåˆ›å»ºæ–°æ–‡ä»¶è¿›è¡Œå†™å…¥ã€‚# ab ä»¥äºŒè¿›åˆ¶æ ¼å¼æ‰“å¼€ä¸€ä¸ªæ–‡ä»¶ç”¨äºè¿½åŠ ã€‚å¦‚æœè¯¥æ–‡ä»¶å·²å­˜åœ¨ï¼Œæ–‡ä»¶æŒ‡é’ˆå°†ä¼šæ”¾åœ¨æ–‡ä»¶çš„ç»“å°¾ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œæ–°çš„å†…å®¹å°†ä¼šè¢«å†™å…¥åˆ°å·²æœ‰å†…å®¹ä¹‹åã€‚å¦‚æœè¯¥æ–‡ä»¶ä¸å­˜åœ¨ï¼Œåˆ›å»ºæ–°æ–‡ä»¶è¿›è¡Œå†™å…¥ã€‚# a+ æ‰“å¼€ä¸€ä¸ªæ–‡ä»¶ç”¨äºè¯»å†™ã€‚å¦‚æœè¯¥æ–‡ä»¶å·²å­˜åœ¨ï¼Œæ–‡ä»¶æŒ‡é’ˆå°†ä¼šæ”¾åœ¨æ–‡ä»¶çš„ç»“å°¾ã€‚æ–‡ä»¶æ‰“å¼€æ—¶ä¼šæ˜¯è¿½åŠ æ¨¡å¼ã€‚å¦‚æœè¯¥æ–‡ä»¶ä¸å­˜åœ¨ï¼Œåˆ›å»ºæ–°æ–‡ä»¶ç”¨äºè¯»å†™ã€‚# ab+ ä»¥äºŒè¿›åˆ¶æ ¼å¼æ‰“å¼€ä¸€ä¸ªæ–‡ä»¶ç”¨äºè¿½åŠ ã€‚å¦‚æœè¯¥æ–‡ä»¶å·²å­˜åœ¨ï¼Œæ–‡ä»¶æŒ‡é’ˆå°†ä¼šæ”¾åœ¨æ–‡ä»¶çš„ç»“å°¾ã€‚å¦‚æœè¯¥æ–‡ä»¶ä¸å­˜åœ¨ï¼Œåˆ›å»ºæ–°æ–‡ä»¶ç”¨äºè¯»å†™ã€‚# æ‰“å¼€ä¸€ä¸ªæ–‡ä»¶f = open(&quot;/tmp/foo.txt&quot;, &quot;w&quot;)f.write( &quot;Python æ˜¯ä¸€ä¸ªéå¸¸å¥½çš„è¯­è¨€ã€‚\\næ˜¯çš„ï¼Œçš„ç¡®éå¸¸å¥½!!\\n&quot; )# f.read(size), è¿™å°†è¯»å–ä¸€å®šæ•°ç›®çš„æ•°æ®, ç„¶åä½œä¸ºå­—ç¬¦ä¸²æˆ–å­—èŠ‚å¯¹è±¡è¿”å›ã€‚size æ˜¯ä¸€ä¸ªå¯é€‰çš„æ•°å­—ç±»å‹çš„å‚æ•°ã€‚ å½“ size è¢«å¿½ç•¥äº†æˆ–è€…ä¸ºè´Ÿ, é‚£ä¹ˆè¯¥æ–‡ä»¶çš„æ‰€æœ‰å†…å®¹éƒ½å°†è¢«è¯»å–å¹¶ä¸”è¿”å›ã€‚print(f.read())# è¿”å›ä¸€ä¸ªç©ºå­—ç¬¦ä¸², è¯´æ˜å·²ç»å·²ç»è¯»å–åˆ°æœ€åä¸€è¡Œã€‚print(f.readline())# è¿”å›æ‰€æœ‰è¡Œã€‚print(f.readlines())# å°† string å†™å…¥åˆ°æ–‡ä»¶ä¸­, ç„¶åè¿”å›å†™å…¥çš„å­—ç¬¦æ•°ã€‚f.write(&quot;string&quot;)# è¿”å›æ–‡ä»¶å¯¹è±¡å½“å‰æ‰€å¤„çš„ä½ç½®, å®ƒæ˜¯ä»æ–‡ä»¶å¼€å¤´å¼€å§‹ç®—èµ·çš„å­—èŠ‚æ•°ã€‚f.tell()# æ”¹å˜æ–‡ä»¶å½“å‰çš„ä½ç½®, å¯ä»¥ä½¿ç”¨ f.seek(offset, from_what) å‡½æ•°ã€‚# from_what çš„å€¼, å¦‚æœæ˜¯ 0 è¡¨ç¤ºå¼€å¤´, å¦‚æœæ˜¯ 1 è¡¨ç¤ºå½“å‰ä½ç½®, 2 è¡¨ç¤ºæ–‡ä»¶çš„ç»“å°¾ï¼Œä¾‹å¦‚ï¼š# seek(x,0) ï¼š ä»èµ·å§‹ä½ç½®å³æ–‡ä»¶é¦–è¡Œé¦–å­—ç¬¦å¼€å§‹ç§»åŠ¨ x ä¸ªå­—ç¬¦# seek(x,1) ï¼š è¡¨ç¤ºä»å½“å‰ä½ç½®å¾€åç§»åŠ¨xä¸ªå­—ç¬¦# seek(-x,2)ï¼šè¡¨ç¤ºä»æ–‡ä»¶çš„ç»“å°¾å¾€å‰ç§»åŠ¨xä¸ªå­—ç¬¦# from_what å€¼ä¸ºé»˜è®¤ä¸º0ï¼Œå³æ–‡ä»¶å¼€å¤´# å…³é—­æ‰“å¼€çš„æ–‡ä»¶f.close()# pickle æ¨¡å— å®ç°äº†åŸºæœ¬çš„æ•°æ®åºåˆ—å’Œååºåˆ—åŒ–ã€‚import pickle# ä½¿ç”¨pickleæ¨¡å—å°†æ•°æ®å¯¹è±¡ä¿å­˜åˆ°æ–‡ä»¶data1 = {'a': [1, 2.0, 3, 4+6j], 'b': ('string', u'Unicode string'), 'c': None}selfref_list = [1, 2, 3]selfref_list.append(selfref_list)output = open('data.pkl', 'wb')# Pickle dictionary using protocol 0.pickle.dump(data1, output)# Pickle the list using the highest protocol available.pickle.dump(selfref_list, output, -1)output.close()''' æ³¨é‡Š '''&quot;&quot;&quot;æ³¨é‡Š&quot;&quot;&quot;# ä¿ç•™å­— å…³é”®å­—endå¯ä»¥ç”¨äºå°†ç»“æœè¾“å‡ºåˆ°åŒä¸€è¡Œï¼Œæˆ–è€…åœ¨è¾“å‡ºçš„æœ«å°¾æ·»åŠ ä¸åŒçš„å­—ç¬¦print(b, end=',')print(&quot;ä¿ç•™å­—&quot;, keyword.kwlist)# ç¼©è¿›çš„ç©ºæ ¼æ•°æ˜¯å¯å˜çš„ï¼Œä½†æ˜¯åŒä¸€ä¸ªä»£ç å—çš„è¯­å¥å¿…é¡»åŒ…å«ç›¸åŒçš„ç¼©è¿›ç©ºæ ¼æ•°if True: print(&quot;ture&quot;)else: print('false')# å¤šè¡Œè¯­å¥ï¼Œè¯­å¥å¾ˆé•¿ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨åæ–œæ (\\)æ¥å®ç°å¤šè¡Œè¯­å¥ï¼Œåœ¨ [], {}, æˆ– () ä¸­çš„å¤šè¡Œè¯­å¥ï¼Œä¸éœ€è¦ä½¿ç”¨åæ–œæ (\\)total = 'item_one' + \\ 'item_two' + \\ 'item_three'total1 = ['item_one', 'item_two', 'item_three', 'item_four', 'item_five']print(total)print(total1)''' ================åŸºæœ¬æ•°æ®ç±»å‹===================Python3 ä¸­æœ‰å…­ä¸ªæ ‡å‡†çš„æ•°æ®ç±»å‹ï¼šNumberï¼ˆæ•°å­—ï¼‰ï¼šintã€floatã€boolã€complexï¼ˆå¤æ•°ï¼‰Stringï¼ˆå­—ç¬¦ä¸²ï¼‰Listï¼ˆåˆ—è¡¨ï¼‰Tupleï¼ˆå…ƒç»„ï¼‰Setï¼ˆé›†åˆï¼‰Dictionaryï¼ˆå­—å…¸ï¼‰Python3 çš„å…­ä¸ªæ ‡å‡†æ•°æ®ç±»å‹ä¸­ï¼šä¸å¯å˜æ•°æ®ï¼ˆ3 ä¸ªï¼‰ï¼šNumberï¼ˆæ•°å­—ï¼‰ã€Stringï¼ˆå­—ç¬¦ä¸²ï¼‰ã€Tupleï¼ˆå…ƒç»„ï¼‰ï¼›å¯å˜æ•°æ®ï¼ˆ3 ä¸ªï¼‰ï¼šListï¼ˆåˆ—è¡¨ï¼‰ã€Dictionaryï¼ˆå­—å…¸ï¼‰ã€Setï¼ˆé›†åˆï¼‰ã€‚ type()æŸ¥çœ‹æ•°æ®ç±»å‹ï¼Œisinstance(a, int)è¿›è¡Œåˆ¤æ–­'''# Numberï¼ˆæ•°å­—ï¼‰------------------------------------------------------------------------# int(x) å°†xè½¬æ¢ä¸ºä¸€ä¸ªæ•´æ•°ã€‚# float(x) å°†xè½¬æ¢åˆ°ä¸€ä¸ªæµ®ç‚¹æ•°ã€‚# complex(x) å°†xè½¬æ¢åˆ°ä¸€ä¸ªå¤æ•°ï¼Œå®æ•°éƒ¨åˆ†ä¸º xï¼Œè™šæ•°éƒ¨åˆ†ä¸º 0ã€‚# complex(x, y) å°† x å’Œ y è½¬æ¢åˆ°ä¸€ä¸ªå¤æ•°ï¼Œå®æ•°éƒ¨åˆ†ä¸º xï¼Œè™šæ•°éƒ¨åˆ†ä¸º yã€‚x å’Œ y æ˜¯æ•°å­—è¡¨è¾¾å¼ã€‚# ==æ•°å­¦å‡½æ•°==# å‡½æ•° è¿”å›å€¼ ( æè¿° )# abs(x) è¿”å›æ•°å­—çš„ç»å¯¹å€¼ï¼Œå¦‚abs(-10) è¿”å› 10# ceil(x) è¿”å›æ•°å­—çš„ä¸Šå…¥æ•´æ•°ï¼Œå¦‚math.ceil(4.1) è¿”å› 5# cmp(x, y) å¦‚æœ x &lt; y è¿”å› -1, å¦‚æœ x == y è¿”å› 0, å¦‚æœ x &gt; y è¿”å› 1ã€‚ Python 3 å·²åºŸå¼ƒï¼Œä½¿ç”¨ (x&gt;y)-(x&lt;y) æ›¿æ¢ã€‚# exp(x) è¿”å›eçš„xæ¬¡å¹‚(ex),å¦‚math.exp(1) è¿”å›2.718281828459045# fabs(x) è¿”å›æ•°å­—çš„ç»å¯¹å€¼ï¼Œå¦‚math.fabs(-10) è¿”å›10.0# floor(x) è¿”å›æ•°å­—çš„ä¸‹èˆæ•´æ•°ï¼Œå¦‚math.floor(4.9)è¿”å› 4# log(x) å¦‚math.log(math.e)è¿”å›1.0,math.log(100,10)è¿”å›2.0# log10(x) è¿”å›ä»¥10ä¸ºåŸºæ•°çš„xçš„å¯¹æ•°ï¼Œå¦‚math.log10(100)è¿”å› 2.0# max(x1, x2,...) è¿”å›ç»™å®šå‚æ•°çš„æœ€å¤§å€¼ï¼Œå‚æ•°å¯ä»¥ä¸ºåºåˆ—ã€‚# min(x1, x2,...) è¿”å›ç»™å®šå‚æ•°çš„æœ€å°å€¼ï¼Œå‚æ•°å¯ä»¥ä¸ºåºåˆ—ã€‚# modf(x) è¿”å›xçš„æ•´æ•°éƒ¨åˆ†ä¸å°æ•°éƒ¨åˆ†ï¼Œä¸¤éƒ¨åˆ†çš„æ•°å€¼ç¬¦å·ä¸xç›¸åŒï¼Œæ•´æ•°éƒ¨åˆ†ä»¥æµ®ç‚¹å‹è¡¨ç¤ºã€‚# pow(x, y) x**y è¿ç®—åçš„å€¼ã€‚# round(x [,n]) è¿”å›æµ®ç‚¹æ•° x çš„å››èˆäº”å…¥å€¼ï¼Œå¦‚ç»™å‡º n å€¼ï¼Œåˆ™ä»£è¡¨èˆå…¥åˆ°å°æ•°ç‚¹åçš„ä½æ•°ã€‚å…¶å®å‡†ç¡®çš„è¯´æ˜¯ä¿ç•™å€¼å°†ä¿ç•™åˆ°ç¦»ä¸Šä¸€ä½æ›´è¿‘çš„ä¸€ç«¯ã€‚# sqrt(x) è¿”å›æ•°å­—xçš„å¹³æ–¹æ ¹ã€‚# ==éšæœºæ•°å‡½æ•°==# choice(seq) ä»åºåˆ—çš„å…ƒç´ ä¸­éšæœºæŒ‘é€‰ä¸€ä¸ªå…ƒç´ ï¼Œæ¯”å¦‚random.choice(range(10))ï¼Œä»0åˆ°9ä¸­éšæœºæŒ‘é€‰ä¸€ä¸ªæ•´æ•°ã€‚# randrange ([start,] stop [,step]) ä»æŒ‡å®šèŒƒå›´å†…ï¼ŒæŒ‰æŒ‡å®šåŸºæ•°é€’å¢çš„é›†åˆä¸­è·å–ä¸€ä¸ªéšæœºæ•°ï¼ŒåŸºæ•°é»˜è®¤å€¼ä¸º 1# random() éšæœºç”Ÿæˆä¸‹ä¸€ä¸ªå®æ•°ï¼Œå®ƒåœ¨[0,1)èŒƒå›´å†…ã€‚# seed([x]) æ”¹å˜éšæœºæ•°ç”Ÿæˆå™¨çš„ç§å­seedã€‚å¦‚æœä½ ä¸äº†è§£å…¶åŸç†ï¼Œä½ ä¸å¿…ç‰¹åˆ«å»è®¾å®šseedï¼ŒPythonä¼šå¸®ä½ é€‰æ‹©seedã€‚# shuffle(lst) å°†åºåˆ—çš„æ‰€æœ‰å…ƒç´ éšæœºæ’åº# uniform(x, y) éšæœºç”Ÿæˆä¸‹ä¸€ä¸ªå®æ•°ï¼Œå®ƒåœ¨[x,y]èŒƒå›´å†…# ==ä¸‰è§’å‡½æ•°==# PythonåŒ…æ‹¬ä»¥ä¸‹ä¸‰è§’å‡½æ•°ï¼š# å‡½æ•° æè¿°# acos(x) è¿”å›xçš„åä½™å¼¦å¼§åº¦å€¼ã€‚# asin(x) è¿”å›xçš„åæ­£å¼¦å¼§åº¦å€¼ã€‚# atan(x) è¿”å›xçš„åæ­£åˆ‡å¼§åº¦å€¼ã€‚# atan2(y, x) è¿”å›ç»™å®šçš„ X åŠ Y åæ ‡å€¼çš„åæ­£åˆ‡å€¼ã€‚# cos(x) è¿”å›xçš„å¼§åº¦çš„ä½™å¼¦å€¼ã€‚# hypot(x, y) è¿”å›æ¬§å‡ é‡Œå¾·èŒƒæ•° sqrt(x*x + y*y)ã€‚# sin(x) è¿”å›çš„xå¼§åº¦çš„æ­£å¼¦å€¼ã€‚# tan(x) è¿”å›xå¼§åº¦çš„æ­£åˆ‡å€¼ã€‚# degrees(x) å°†å¼§åº¦è½¬æ¢ä¸ºè§’åº¦,å¦‚degrees(math.pi/2) ï¼Œ è¿”å›90.0# radians(x) å°†è§’åº¦è½¬æ¢ä¸ºå¼§åº¦# ==æ•°å­¦å¸¸é‡==# å¸¸é‡ æè¿°# pi æ•°å­¦å¸¸é‡ piï¼ˆåœ†å‘¨ç‡ï¼Œä¸€èˆ¬ä»¥Ï€æ¥è¡¨ç¤ºï¼‰# e æ•°å­¦å¸¸é‡ eï¼Œeå³è‡ªç„¶å¸¸æ•°ï¼ˆè‡ªç„¶å¸¸æ•°ï¼‰ã€‚a = b = c = counter = 100 # åŒæ—¶ä¸ºå¤šä¸ªå˜é‡èµ‹å€¼æ•´å‹å˜é‡d, e, f = 1, 2, &quot;runoob&quot; # åŒæ—¶ä¸ºå¤šä¸ªå˜é‡èµ‹å€¼ä¸åŒçš„å€¼miles = 1000.0 # æµ®ç‚¹å‹å˜é‡name = &quot;runoob&quot; # å­—ç¬¦ä¸²# delè¯­å¥åˆ é™¤ä¸€äº›å¯¹è±¡å¼•ç”¨del a# æ•°å€¼è¿ç®—Division = 2 / 4 # é™¤æ³•ï¼Œå¾—åˆ°ä¸€ä¸ªæµ®ç‚¹æ•°Division2 = 2 // 4 # é™¤æ³•ï¼Œå¾—åˆ°ä¸€ä¸ªæ•´æ•°remainder = 17 % 3 # å–ä½™involution = 2 ** 5 # ä¹˜æ–¹print(Division, 'Division')print(Division2, 'Division2')# Stringï¼ˆå­—ç¬¦ä¸²ï¼‰------------------------------------------------------------------------------# ä»åé¢ç´¢å¼•01234567# ä»å‰é¢ç´¢å¼•-8-7-6-5-4-3-2-1# Good boy# ä»å‰é¢æˆªå–:123456:# ä»åé¢æˆªå–:-6-5-4-3-2-1:# åæ–œæ (\\)å¯ä»¥ä½œä¸ºç»­è¡Œç¬¦ï¼Œè¡¨ç¤ºä¸‹ä¸€è¡Œæ˜¯ä¸Šä¸€è¡Œçš„å»¶ç»­ã€‚ä¹Ÿå¯ä»¥ä½¿ç”¨ &quot;&quot;&quot;...&quot;&quot;&quot; æˆ–è€… '''...''' è·¨è¶Šå¤šè¡Œ# ç”¨+è¿ç®—ç¬¦è¿æ¥åœ¨ä¸€èµ·ï¼Œç”¨*è¿ç®—ç¬¦é‡å¤# ==è½¬ä¹‰å­—ç¬¦==# \\(åœ¨è¡Œå°¾æ—¶) ç»­è¡Œç¬¦# &gt;&gt;&gt; print(&quot;line1 \\# ... line2 \\# ... line3&quot;)# line1 line2 line3# \\\\ åæ–œæ ç¬¦å·# &gt;&gt;&gt; print(&quot;\\\\&quot;)# \\# \\' å•å¼•å·# &gt;&gt;&gt; print('\\'')# '# \\&quot; åŒå¼•å·# &gt;&gt;&gt; print(&quot;\\&quot;&quot;)# &quot;# \\a å“é“ƒ# &gt;&gt;&gt; print(&quot;\\a&quot;)æ‰§è¡Œåç”µè„‘æœ‰å“å£°ã€‚# \\b é€€æ ¼(Backspace)# &gt;&gt;&gt; print(&quot;Hello \\b World!&quot;)# Hello World!# \\000 ç©º# &gt;&gt;&gt; print(&quot;\\000&quot;)## &gt;&gt;&gt;# \\n æ¢è¡Œ# &gt;&gt;&gt; print(&quot;\\n&quot;)## &gt;&gt;&gt;# \\v çºµå‘åˆ¶è¡¨ç¬¦# &gt;&gt;&gt; print(&quot;Hello \\v World!&quot;)# Hello# World!# &gt;&gt;&gt;# \\t æ¨ªå‘åˆ¶è¡¨ç¬¦# &gt;&gt;&gt; print(&quot;Hello \\t World!&quot;)# Hello World!# &gt;&gt;&gt;# \\r å›è½¦ï¼Œå°† \\r åé¢çš„å†…å®¹ç§»åˆ°å­—ç¬¦ä¸²å¼€å¤´ï¼Œå¹¶é€ä¸€æ›¿æ¢å¼€å¤´éƒ¨åˆ†çš„å­—ç¬¦ï¼Œç›´è‡³å°† \\r åé¢çš„å†…å®¹å®Œå…¨æ›¿æ¢å®Œæˆã€‚# &gt;&gt;&gt; print(&quot;Hello\\rWorld!&quot;)# World!# &gt;&gt;&gt; print('google runoob taobao\\r123456')# 123456 runoob taobao# \\f æ¢é¡µ# &gt;&gt;&gt; print(&quot;Hello \\f World!&quot;)# Hello# World!# &gt;&gt;&gt;# \\yyy å…«è¿›åˆ¶æ•°ï¼Œy ä»£è¡¨ 0~7 çš„å­—ç¬¦ï¼Œä¾‹å¦‚ï¼š\\012 ä»£è¡¨æ¢è¡Œã€‚# &gt;&gt;&gt; print(&quot;\\110\\145\\154\\154\\157\\40\\127\\157\\162\\154\\144\\41&quot;)# Hello World!# \\xyy åå…­è¿›åˆ¶æ•°ï¼Œä»¥ \\x å¼€å¤´ï¼Œy ä»£è¡¨çš„å­—ç¬¦ï¼Œä¾‹å¦‚ï¼š\\x0a ä»£è¡¨æ¢è¡Œ# &gt;&gt;&gt; print(&quot;\\x48\\x65\\x6c\\x6c\\x6f\\x20\\x57\\x6f\\x72\\x6c\\x64\\x21&quot;)# Hello World!# \\other å…¶å®ƒçš„å­—ç¬¦ä»¥æ™®é€šæ ¼å¼è¾“å‡º# ==å­—ç¬¦ä¸²è¿ç®—ç¬¦==# + å­—ç¬¦ä¸²è¿æ¥ a + b è¾“å‡ºç»“æœï¼š HelloPython# * é‡å¤è¾“å‡ºå­—ç¬¦ä¸² a*2 è¾“å‡ºç»“æœï¼šHelloHello# [] é€šè¿‡ç´¢å¼•è·å–å­—ç¬¦ä¸²ä¸­å­—ç¬¦ a[1] è¾“å‡ºç»“æœ e# [ : ] æˆªå–å­—ç¬¦ä¸²ä¸­çš„ä¸€éƒ¨åˆ†ï¼Œéµå¾ªå·¦é—­å³å¼€åŸåˆ™ï¼Œstr[0:2] æ˜¯ä¸åŒ…å«ç¬¬ 3 ä¸ªå­—ç¬¦çš„ã€‚ a[1:4] è¾“å‡ºç»“æœ ell# in æˆå‘˜è¿ç®—ç¬¦ - å¦‚æœå­—ç¬¦ä¸²ä¸­åŒ…å«ç»™å®šçš„å­—ç¬¦è¿”å› True 'H' in a è¾“å‡ºç»“æœ True# not in æˆå‘˜è¿ç®—ç¬¦ - å¦‚æœå­—ç¬¦ä¸²ä¸­ä¸åŒ…å«ç»™å®šçš„å­—ç¬¦è¿”å› True 'M' not in a è¾“å‡ºç»“æœ True# r/R åŸå§‹å­—ç¬¦ä¸² - åŸå§‹å­—ç¬¦ä¸²ï¼šæ‰€æœ‰çš„å­—ç¬¦ä¸²éƒ½æ˜¯ç›´æ¥æŒ‰ç…§å­—é¢çš„æ„æ€æ¥ä½¿ç”¨ï¼Œæ²¡æœ‰è½¬ä¹‰ç‰¹æ®Šæˆ–ä¸èƒ½æ‰“å°çš„å­—ç¬¦ã€‚ åŸå§‹å­—ç¬¦ä¸²é™¤åœ¨å­—ç¬¦ä¸²çš„ç¬¬ä¸€ä¸ªå¼•å·å‰åŠ ä¸Šå­—æ¯ rï¼ˆå¯ä»¥å¤§å°å†™ï¼‰ä»¥å¤–ï¼Œä¸æ™®é€šå­—ç¬¦ä¸²æœ‰ç€å‡ ä¹å®Œå…¨ç›¸åŒçš„è¯­æ³•ã€‚ print( r'\\n' ) print( R'\\n' )# % æ ¼å¼å­—ç¬¦ä¸²# ==å­—ç¬¦ä¸²æ ¼å¼åŒ–==# % c æ ¼å¼åŒ–å­—ç¬¦åŠå…¶ASCIIç # % s æ ¼å¼åŒ–å­—ç¬¦ä¸²# % d æ ¼å¼åŒ–æ•´æ•°# % u æ ¼å¼åŒ–æ— ç¬¦å·æ•´å‹# % o æ ¼å¼åŒ–æ— ç¬¦å·å…«è¿›åˆ¶æ•°# % x æ ¼å¼åŒ–æ— ç¬¦å·åå…­è¿›åˆ¶æ•°# % X æ ¼å¼åŒ–æ— ç¬¦å·åå…­è¿›åˆ¶æ•°ï¼ˆå¤§å†™ï¼‰# % f æ ¼å¼åŒ–æµ®ç‚¹æ•°å­—ï¼Œå¯æŒ‡å®šå°æ•°ç‚¹åçš„ç²¾åº¦# % e ç”¨ç§‘å­¦è®¡æ•°æ³•æ ¼å¼åŒ–æµ®ç‚¹æ•°# % E ä½œç”¨åŒ % eï¼Œç”¨ç§‘å­¦è®¡æ•°æ³•æ ¼å¼åŒ–æµ®ç‚¹æ•°# % g % få’Œ % eçš„ç®€å†™# % G % f å’Œ % E çš„ç®€å†™# % p ç”¨åå…­è¿›åˆ¶æ•°æ ¼å¼åŒ–å˜é‡çš„åœ°å€# æ ¼å¼åŒ–æ“ä½œç¬¦è¾…åŠ©æŒ‡ä»¤:# ç¬¦å· åŠŸèƒ½# * å®šä¹‰å®½åº¦æˆ–è€…å°æ•°ç‚¹ç²¾åº¦# - ç”¨åšå·¦å¯¹é½# + åœ¨æ­£æ•°å‰é¢æ˜¾ç¤ºåŠ å·( + )# &lt;sp&gt; åœ¨æ­£æ•°å‰é¢æ˜¾ç¤ºç©ºæ ¼# # åœ¨å…«è¿›åˆ¶æ•°å‰é¢æ˜¾ç¤ºé›¶('0')ï¼Œåœ¨åå…­è¿›åˆ¶å‰é¢æ˜¾ç¤º'0x'æˆ–è€…'0X'(å–å†³äºç”¨çš„æ˜¯'x'è¿˜æ˜¯'X')# 0 æ˜¾ç¤ºçš„æ•°å­—å‰é¢å¡«å……'0'è€Œä¸æ˜¯é»˜è®¤çš„ç©ºæ ¼# % '%%'è¾“å‡ºä¸€ä¸ªå•ä¸€çš„'%'# (var) æ˜ å°„å˜é‡(å­—å…¸å‚æ•°)# m.n. m æ˜¯æ˜¾ç¤ºçš„æœ€å°æ€»å®½åº¦,n æ˜¯å°æ•°ç‚¹åçš„ä½æ•°(å¦‚æœå¯ç”¨çš„è¯)# ==f-string==name = 'Runoob'f'Hello {name}' # æ›¿æ¢å˜é‡'Hello Runoob'f'{1 + 2}' # ä½¿ç”¨è¡¨è¾¾å¼'3'w = {'name': 'Runoob', 'url': 'www.runoob.com'}f'{w[&quot;name&quot;]}: {w[&quot;url&quot;]}''Runoob: www.runoob.com'para_str = &quot;&quot;&quot;è¿™æ˜¯ä¸€ä¸ªå¤šè¡Œå­—ç¬¦ä¸²çš„å®ä¾‹å¤šè¡Œå­—ç¬¦ä¸²å¯ä»¥ä½¿ç”¨åˆ¶è¡¨ç¬¦TAB ( \\t )ã€‚ä¹Ÿå¯ä»¥ä½¿ç”¨æ¢è¡Œç¬¦ [ \\n ]ã€‚&quot;&quot;&quot;# ==å­—ç¬¦ä¸²å†…å»ºå‡½æ•°==# capitalize()# å°†å­—ç¬¦ä¸²çš„ç¬¬ä¸€ä¸ªå­—ç¬¦è½¬æ¢ä¸ºå¤§å†™# center(width, fillchar)# è¿”å›ä¸€ä¸ªæŒ‡å®šçš„å®½åº¦ width å±…ä¸­çš„å­—ç¬¦ä¸²ï¼Œfillchar ä¸ºå¡«å……çš„å­—ç¬¦ï¼Œé»˜è®¤ä¸ºç©ºæ ¼ã€‚# count(str, beg= 0,end=len(string))# è¿”å› str åœ¨ string é‡Œé¢å‡ºç°çš„æ¬¡æ•°ï¼Œå¦‚æœ beg æˆ–è€… end æŒ‡å®šåˆ™è¿”å›æŒ‡å®šèŒƒå›´å†… str å‡ºç°çš„æ¬¡æ•°# bytes.decode(encoding=&quot;utf-8&quot;, errors=&quot;strict&quot;)# Python3 ä¸­æ²¡æœ‰ decode æ–¹æ³•ï¼Œä½†æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ bytes å¯¹è±¡çš„ decode() æ–¹æ³•æ¥è§£ç ç»™å®šçš„ bytes å¯¹è±¡ï¼Œè¿™ä¸ª bytes å¯¹è±¡å¯ä»¥ç”± str.encode() æ¥ç¼–ç è¿”å›ã€‚# encode(encoding='UTF-8',errors='strict')# ä»¥ encoding æŒ‡å®šçš„ç¼–ç æ ¼å¼ç¼–ç å­—ç¬¦ä¸²ï¼Œå¦‚æœå‡ºé”™é»˜è®¤æŠ¥ä¸€ä¸ªValueError çš„å¼‚å¸¸ï¼Œé™¤é errors æŒ‡å®šçš„æ˜¯'ignore'æˆ–è€…'replace'# endswith(suffix, beg=0, end=len(string))# æ£€æŸ¥å­—ç¬¦ä¸²æ˜¯å¦ä»¥ obj ç»“æŸï¼Œå¦‚æœbeg æˆ–è€… end æŒ‡å®šåˆ™æ£€æŸ¥æŒ‡å®šçš„èŒƒå›´å†…æ˜¯å¦ä»¥ obj ç»“æŸï¼Œå¦‚æœæ˜¯ï¼Œè¿”å› True,å¦åˆ™è¿”å› False.# expandtabs(tabsize=8)# æŠŠå­—ç¬¦ä¸² string ä¸­çš„ tab ç¬¦å·è½¬ä¸ºç©ºæ ¼ï¼Œtab ç¬¦å·é»˜è®¤çš„ç©ºæ ¼æ•°æ˜¯ 8 ã€‚# find(str, beg=0, end=len(string))# æ£€æµ‹ str æ˜¯å¦åŒ…å«åœ¨å­—ç¬¦ä¸²ä¸­ï¼Œå¦‚æœæŒ‡å®šèŒƒå›´ beg å’Œ end ï¼Œåˆ™æ£€æŸ¥æ˜¯å¦åŒ…å«åœ¨æŒ‡å®šèŒƒå›´å†…ï¼Œå¦‚æœåŒ…å«è¿”å›å¼€å§‹çš„ç´¢å¼•å€¼ï¼Œå¦åˆ™è¿”å›-1# index(str, beg=0, end=len(string))# è·Ÿfind()æ–¹æ³•ä¸€æ ·ï¼Œåªä¸è¿‡å¦‚æœsträ¸åœ¨å­—ç¬¦ä¸²ä¸­ä¼šæŠ¥ä¸€ä¸ªå¼‚å¸¸ã€‚# isalnum()# å¦‚æœå­—ç¬¦ä¸²è‡³å°‘æœ‰ä¸€ä¸ªå­—ç¬¦å¹¶ä¸”æ‰€æœ‰å­—ç¬¦éƒ½æ˜¯å­—æ¯æˆ–æ•°å­—åˆ™è¿” å› Trueï¼Œå¦åˆ™è¿”å› False# isalpha()# å¦‚æœå­—ç¬¦ä¸²è‡³å°‘æœ‰ä¸€ä¸ªå­—ç¬¦å¹¶ä¸”æ‰€æœ‰å­—ç¬¦éƒ½æ˜¯å­—æ¯æˆ–ä¸­æ–‡å­—åˆ™è¿”å› True, å¦åˆ™è¿”å› False# isdigit()# å¦‚æœå­—ç¬¦ä¸²åªåŒ…å«æ•°å­—åˆ™è¿”å› True å¦åˆ™è¿”å› False..# islower()# å¦‚æœå­—ç¬¦ä¸²ä¸­åŒ…å«è‡³å°‘ä¸€ä¸ªåŒºåˆ†å¤§å°å†™çš„å­—ç¬¦ï¼Œå¹¶ä¸”æ‰€æœ‰è¿™äº›(åŒºåˆ†å¤§å°å†™çš„)å­—ç¬¦éƒ½æ˜¯å°å†™ï¼Œåˆ™è¿”å› Trueï¼Œå¦åˆ™è¿”å› False# isnumeric()# å¦‚æœå­—ç¬¦ä¸²ä¸­åªåŒ…å«æ•°å­—å­—ç¬¦ï¼Œåˆ™è¿”å› Trueï¼Œå¦åˆ™è¿”å› False# isspace()# å¦‚æœå­—ç¬¦ä¸²ä¸­åªåŒ…å«ç©ºç™½ï¼Œåˆ™è¿”å› Trueï¼Œå¦åˆ™è¿”å› False.# istitle()# å¦‚æœå­—ç¬¦ä¸²æ˜¯æ ‡é¢˜åŒ–çš„(è§ title())åˆ™è¿”å› Trueï¼Œå¦åˆ™è¿”å› False# isupper()# å¦‚æœå­—ç¬¦ä¸²ä¸­åŒ…å«è‡³å°‘ä¸€ä¸ªåŒºåˆ†å¤§å°å†™çš„å­—ç¬¦ï¼Œå¹¶ä¸”æ‰€æœ‰è¿™äº›(åŒºåˆ†å¤§å°å†™çš„)å­—ç¬¦éƒ½æ˜¯å¤§å†™ï¼Œåˆ™è¿”å› Trueï¼Œå¦åˆ™è¿”å› False# join(seq)# ä»¥æŒ‡å®šå­—ç¬¦ä¸²ä½œä¸ºåˆ†éš”ç¬¦ï¼Œå°† seq ä¸­æ‰€æœ‰çš„å…ƒç´ (çš„å­—ç¬¦ä¸²è¡¨ç¤º)åˆå¹¶ä¸ºä¸€ä¸ªæ–°çš„å­—ç¬¦ä¸²# len(string)# è¿”å›å­—ç¬¦ä¸²é•¿åº¦# ljust(width[, fillchar])# è¿”å›ä¸€ä¸ªåŸå­—ç¬¦ä¸²å·¦å¯¹é½,å¹¶ä½¿ç”¨ fillchar å¡«å……è‡³é•¿åº¦ width çš„æ–°å­—ç¬¦ä¸²ï¼Œfillchar é»˜è®¤ä¸ºç©ºæ ¼ã€‚# lower()# è½¬æ¢å­—ç¬¦ä¸²ä¸­æ‰€æœ‰å¤§å†™å­—ç¬¦ä¸ºå°å†™.# lstrip()# æˆªæ‰å­—ç¬¦ä¸²å·¦è¾¹çš„ç©ºæ ¼æˆ–æŒ‡å®šå­—ç¬¦ã€‚# maketrans()# åˆ›å»ºå­—ç¬¦æ˜ å°„çš„è½¬æ¢è¡¨ï¼Œå¯¹äºæ¥å—ä¸¤ä¸ªå‚æ•°çš„æœ€ç®€å•çš„è°ƒç”¨æ–¹å¼ï¼Œç¬¬ä¸€ä¸ªå‚æ•°æ˜¯å­—ç¬¦ä¸²ï¼Œè¡¨ç¤ºéœ€è¦è½¬æ¢çš„å­—ç¬¦ï¼Œç¬¬äºŒä¸ªå‚æ•°ä¹Ÿæ˜¯å­—ç¬¦ä¸²è¡¨ç¤ºè½¬æ¢çš„ç›®æ ‡ã€‚# max(str)# è¿”å›å­—ç¬¦ä¸² str ä¸­æœ€å¤§çš„å­—æ¯ã€‚# min(str)# è¿”å›å­—ç¬¦ä¸² str ä¸­æœ€å°çš„å­—æ¯ã€‚# replace(old, new [, max])# æŠŠ å°†å­—ç¬¦ä¸²ä¸­çš„ old æ›¿æ¢æˆ new,å¦‚æœ max æŒ‡å®šï¼Œåˆ™æ›¿æ¢ä¸è¶…è¿‡ max æ¬¡ã€‚# rfind(str, beg=0,end=len(string))# ç±»ä¼¼äº find()å‡½æ•°ï¼Œä¸è¿‡æ˜¯ä»å³è¾¹å¼€å§‹æŸ¥æ‰¾.# rindex( str, beg=0, end=len(string))# ç±»ä¼¼äº index()ï¼Œä¸è¿‡æ˜¯ä»å³è¾¹å¼€å§‹.# rjust(width,[, fillchar])# è¿”å›ä¸€ä¸ªåŸå­—ç¬¦ä¸²å³å¯¹é½,å¹¶ä½¿ç”¨fillchar(é»˜è®¤ç©ºæ ¼ï¼‰å¡«å……è‡³é•¿åº¦ width çš„æ–°å­—ç¬¦ä¸²# rstrip()# åˆ é™¤å­—ç¬¦ä¸²æœ«å°¾çš„ç©ºæ ¼æˆ–æŒ‡å®šå­—ç¬¦ã€‚# split(str=&quot;&quot;, num=string.count(str))# ä»¥ str ä¸ºåˆ†éš”ç¬¦æˆªå–å­—ç¬¦ä¸²ï¼Œå¦‚æœ num æœ‰æŒ‡å®šå€¼ï¼Œåˆ™ä»…æˆªå– num+1 ä¸ªå­å­—ç¬¦ä¸²# splitlines([keepends])# æŒ‰ç…§è¡Œ('\\r', '\\r\\n', \\n')åˆ†éš”ï¼Œè¿”å›ä¸€ä¸ªåŒ…å«å„è¡Œä½œä¸ºå…ƒç´ çš„åˆ—è¡¨ï¼Œå¦‚æœå‚æ•° keepends ä¸º Falseï¼Œä¸åŒ…å«æ¢è¡Œç¬¦ï¼Œå¦‚æœä¸º Trueï¼Œåˆ™ä¿ç•™æ¢è¡Œç¬¦ã€‚# startswith(substr, beg=0,end=len(string))# æ£€æŸ¥å­—ç¬¦ä¸²æ˜¯å¦æ˜¯ä»¥æŒ‡å®šå­å­—ç¬¦ä¸² substr å¼€å¤´ï¼Œæ˜¯åˆ™è¿”å› Trueï¼Œå¦åˆ™è¿”å› Falseã€‚å¦‚æœbeg å’Œ end æŒ‡å®šå€¼ï¼Œåˆ™åœ¨æŒ‡å®šèŒƒå›´å†…æ£€æŸ¥ã€‚# strip([chars])# åœ¨å­—ç¬¦ä¸²ä¸Šæ‰§è¡Œ lstrip()å’Œ rstrip()# swapcase()# å°†å­—ç¬¦ä¸²ä¸­å¤§å†™è½¬æ¢ä¸ºå°å†™ï¼Œå°å†™è½¬æ¢ä¸ºå¤§å†™# title()# è¿”å›&quot;æ ‡é¢˜åŒ–&quot;çš„å­—ç¬¦ä¸²,å°±æ˜¯è¯´æ‰€æœ‰å•è¯éƒ½æ˜¯ä»¥å¤§å†™å¼€å§‹ï¼Œå…¶ä½™å­—æ¯å‡ä¸ºå°å†™(è§ istitle())# translate(table, deletechars=&quot;&quot;)# æ ¹æ® str ç»™å‡ºçš„è¡¨(åŒ…å« 256 ä¸ªå­—ç¬¦)è½¬æ¢ string çš„å­—ç¬¦, è¦è¿‡æ»¤æ‰çš„å­—ç¬¦æ”¾åˆ° deletechars å‚æ•°ä¸­# upper()# è½¬æ¢å­—ç¬¦ä¸²ä¸­çš„å°å†™å­—æ¯ä¸ºå¤§å†™# zfill (width)# è¿”å›é•¿åº¦ä¸º width çš„å­—ç¬¦ä¸²ï¼ŒåŸå­—ç¬¦ä¸²å³å¯¹é½ï¼Œå‰é¢å¡«å……0# isdecimal()# æ£€æŸ¥å­—ç¬¦ä¸²æ˜¯å¦åªåŒ…å«åè¿›åˆ¶å­—ç¬¦ï¼Œå¦‚æœæ˜¯è¿”å› trueï¼Œå¦åˆ™è¿”å› falseã€‚str = 'Lxl is a good boy'print(str) # è¾“å‡ºå­—ç¬¦ä¸²print(str[0:-1]) # è¾“å‡ºç¬¬ä¸€ä¸ªåˆ°å€’æ•°ç¬¬äºŒä¸ªçš„æ‰€æœ‰å­—ç¬¦print(str[0]) # è¾“å‡ºå­—ç¬¦ä¸²ç¬¬ä¸€ä¸ªå­—ç¬¦print(str[2:5]) # è¾“å‡ºä»ç¬¬ä¸‰ä¸ªå¼€å§‹åˆ°ç¬¬äº”ä¸ªçš„å­—ç¬¦print(str[2:]) # è¾“å‡ºä»ç¬¬ä¸‰ä¸ªå¼€å§‹çš„åçš„æ‰€æœ‰å­—ç¬¦print(str * 2) # è¾“å‡ºå­—ç¬¦ä¸²ä¸¤æ¬¡ï¼Œä¹Ÿå¯ä»¥å†™æˆ print (2 * str)print(str + &quot;TEST&quot;) # è¿æ¥å­—ç¬¦ä¸²# è½¬ä¹‰print('Ru\\noob')# ä¸è½¬ä¹‰å­—ç¬¦ä¸²å‰åŠ rprint(2 * r'Ru\\noob')# Listï¼ˆåˆ—è¡¨ï¼‰------------------------------------------------------------------------------# åˆ›å»ºåˆ—è¡¨åªéœ€è¦æ–¹æ‹¬å·æ‹¬èµ·æ¥ï¼Œé‡Œé¢æ•°æ®ç±»å‹å¯ä¸ä¸€è‡´ï¼Œç´¢å¼•æ­£0å-1ï¼Œ# åˆ—è¡¨ä¸­çš„å…ƒç´ æ˜¯å¯ä»¥æ”¹å˜çš„# append() è¿½åŠ  del åˆ é™¤# ==åˆ—è¡¨è„šæœ¬æ“ä½œç¬¦==# Python è¡¨è¾¾å¼ ç»“æœ æè¿°# len([1, 2, 3]) 3 é•¿åº¦# [1, 2, 3] + [4, 5, 6] [1, 2, 3, 4, 5, 6] ç»„åˆ# ['Hi!'] * 4 ['Hi!', 'Hi!', 'Hi!', 'Hi!'] é‡å¤# 3 in [1, 2, 3] True å…ƒç´ æ˜¯å¦å­˜åœ¨äºåˆ—è¡¨ä¸­# for x in [1, 2, 3]: print(x, end=&quot; &quot;) 1 2 3 è¿­ä»£# ==å‡½æ•°&amp;æ–¹æ³•==# len(list) åˆ—è¡¨å…ƒç´ ä¸ªæ•°# max(list) è¿”å›åˆ—è¡¨å…ƒç´ æœ€å¤§å€¼# min(list) è¿”å›åˆ—è¡¨å…ƒç´ æœ€å°å€¼# list(seq) å°†å…ƒç»„è½¬æ¢ä¸ºåˆ—è¡¨# 1 list.append(obj) åœ¨åˆ—è¡¨æœ«å°¾æ·»åŠ æ–°çš„å¯¹è±¡# 2 list.count(obj) ç»Ÿè®¡æŸä¸ªå…ƒç´ åœ¨åˆ—è¡¨ä¸­å‡ºç°çš„æ¬¡æ•°# 3 list.extend(seq) åœ¨åˆ—è¡¨æœ«å°¾ä¸€æ¬¡æ€§è¿½åŠ å¦ä¸€ä¸ªåºåˆ—ä¸­çš„å¤šä¸ªå€¼ï¼ˆç”¨æ–°åˆ—è¡¨æ‰©å±•åŸæ¥çš„åˆ—è¡¨ï¼‰# 4 list.index(obj) ä»åˆ—è¡¨ä¸­æ‰¾å‡ºæŸä¸ªå€¼ç¬¬ä¸€ä¸ªåŒ¹é…é¡¹çš„ç´¢å¼•ä½ç½®# 5 list.insert(index, obj) å°†å¯¹è±¡æ’å…¥åˆ—è¡¨# 6 list.pop([index=-1]) ç§»é™¤åˆ—è¡¨ä¸­çš„ä¸€ä¸ªå…ƒç´ ï¼ˆé»˜è®¤æœ€åä¸€ä¸ªå…ƒç´ ï¼‰ï¼Œå¹¶ä¸”è¿”å›è¯¥å…ƒç´ çš„å€¼# 7 list.remove(obj) ç§»é™¤åˆ—è¡¨ä¸­æŸä¸ªå€¼çš„ç¬¬ä¸€ä¸ªåŒ¹é…é¡¹# 8 list.reverse() åå‘åˆ—è¡¨ä¸­å…ƒç´ # 9 list.sort( key=None, reverse=False) å¯¹åŸåˆ—è¡¨è¿›è¡Œæ’åº# 10 list.clear() æ¸…ç©ºåˆ—è¡¨# 11 list.copy() å¤åˆ¶åˆ—è¡¨lists = ['1', '2', '3', '4', '5']print(lists[:])print(lists[:3])print(lists[1:3])print(lists[4:])print(lists[-1:])print(lists[:-2])print(lists * 3) # è¾“å‡ºå¤šæ¬¡åˆ—è¡¨print(lists + lists) # è¿æ¥åˆ—è¡¨for i, v in enumerate(['tic', 'tac', 'toe']): print(i, v)def reverseWords(input): # é€šè¿‡ç©ºæ ¼å°†å­—ç¬¦ä¸²åˆ†éš”ç¬¦ï¼ŒæŠŠå„ä¸ªå•è¯åˆ†éš”ä¸ºåˆ—è¡¨ inputWords = input.split(&quot; &quot;) # ç¿»è½¬å­—ç¬¦ä¸² # å‡è®¾åˆ—è¡¨ list = [1,2,3,4], # list[0]=1, list[1]=2 ï¼Œè€Œ -1 è¡¨ç¤ºæœ€åä¸€ä¸ªå…ƒç´  list[-1]=4 ( ä¸ list[3]=4 ä¸€æ ·) # inputWords[-1::-1] æœ‰ä¸‰ä¸ªå‚æ•° # ç¬¬ä¸€ä¸ªå‚æ•° -1 è¡¨ç¤ºæœ€åä¸€ä¸ªå…ƒç´  # ç¬¬äºŒä¸ªå‚æ•°ä¸ºç©ºï¼Œè¡¨ç¤ºç§»åŠ¨åˆ°åˆ—è¡¨æœ«å°¾ # ç¬¬ä¸‰ä¸ªå‚æ•°ä¸ºæ­¥é•¿ï¼Œ-1 è¡¨ç¤ºé€†å‘ inputWords = inputWords[-1::-1] # é‡æ–°ç»„åˆå­—ç¬¦ä¸² output = ' '.join(inputWords) return outputif __name__ == &quot;__main__&quot;: input = 'I like runoob' rw = reverseWords(input) print(rw)# Tupleï¼ˆå…ƒç»„ï¼‰--------------------------------------------------------------------# å…ƒç»„ï¼ˆtupleï¼‰ä¸åˆ—è¡¨ç±»ä¼¼ï¼Œä¸åŒä¹‹å¤„åœ¨äºå…ƒç»„çš„å…ƒç´ ä¸èƒ½ä¿®æ”¹ï¼Œå…¶ä½¿ç”¨å°æ‹¬å·ï¼ˆï¼‰æˆ–ä¸è¦æ‹¬å·ï¼Œ# ä½†å®ƒå¯ä»¥åŒ…å«å¯å˜çš„å¯¹è±¡ï¼Œå¯ä»¥è¿æ¥ç»„åˆæˆæ–°å…ƒç¥–ï¼Œå…ƒç´ ä¸å…è®¸åˆ é™¤ä½†å¯ä»¥ä½¿ç”¨delåˆ é™¤æ•´ä¸ªå…ƒç¥–ã€‚# stringã€list å’Œ tuple éƒ½å±äº sequenceï¼ˆåºåˆ—ï¼‰ã€‚# å½“å…ƒç¥–åªæœ‰ä¸€ä¸ªå…ƒç´ æ—¶ï¼Œåé¢æ·»åŠ é€—å·ï¼Œå¦åˆ™æ‹¬å·ä¼šè¢«å½“åšè¿ç®—ç¬¦ä½¿ç”¨ï¼Œtup1 = (50)ä¸ºæ•´å‹ï¼Œtup1 = (50ï¼Œ)ä¸ºå…ƒç¥–# ==å…ƒç¥–è¿ç®—ç¬¦==# Python è¡¨è¾¾å¼ ç»“æœ æè¿°# len((1, 2, 3)) 3 è®¡ç®—å…ƒç´ ä¸ªæ•°# (1, 2, 3) + (4, 5, 6) (1, 2, 3, 4, 5, 6) è¿æ¥# ('Hi!',) * 4 ('Hi!', 'Hi!', 'Hi!', 'Hi!') å¤åˆ¶# 3 in (1, 2, 3) True å…ƒç´ æ˜¯å¦å­˜åœ¨# for x in (1, 2, 3): print (x,) 1 2 3 è¿­ä»£# ==å†…ç½®å‡½æ•°==# len(tuple) è®¡ç®—å…ƒç»„å…ƒç´ ä¸ªæ•°ã€‚# max(tuple) è¿”å›å…ƒç»„ä¸­å…ƒç´ æœ€å¤§å€¼ã€‚# min(tuple) è¿”å›å…ƒç»„ä¸­å…ƒç´ æœ€å°å€¼ã€‚# tuple(iterable) å°†å¯è¿­ä»£ç³»åˆ—è½¬æ¢ä¸ºå…ƒç»„ã€‚tuple = ('abcd', 786, 2.23, 'runoob', 70.2)tinytuple = (123, 'runoob')print(tuple) # è¾“å‡ºå®Œæ•´å…ƒç»„print(tuple[0]) # è¾“å‡ºå…ƒç»„çš„ç¬¬ä¸€ä¸ªå…ƒç´ print(tuple[1:3]) # è¾“å‡ºä»ç¬¬äºŒä¸ªå…ƒç´ å¼€å§‹åˆ°ç¬¬ä¸‰ä¸ªå…ƒç´ print(tuple[2:]) # è¾“å‡ºä»ç¬¬ä¸‰ä¸ªå…ƒç´ å¼€å§‹çš„æ‰€æœ‰å…ƒç´ print(tinytuple * 2) # è¾“å‡ºä¸¤æ¬¡å…ƒç»„print(tuple + tinytuple) # è¿æ¥å…ƒç»„# Setï¼ˆé›†åˆï¼‰----------------------------------------------------------------------# åˆ›å»ºä¸€ä¸ªç©ºé›†åˆå¿…é¡»ç”¨ set() è€Œä¸æ˜¯ { }ï¼Œå› ä¸º { } æ˜¯ç”¨æ¥åˆ›å»ºä¸€ä¸ªç©ºå­—å…¸sites = {'Google', 'Taobao', 'Runoob', 'Facebook', 'Zhihu', 'Baidu'}sites1 = {}sites2 = ()set()# # æ·»åŠ å…ƒç´ ï¼Œé‡å¤ä¸æ“ä½œ# sites1.add(&quot;1&quot;)# # å¯ä»¥æ·»åŠ åˆ—è¡¨ï¼Œå…ƒç¥–å­—å…¸ç­‰# sites1.update(&quot;1&quot;)# print(sites) # è¾“å‡ºé›†åˆï¼Œé‡å¤çš„å…ƒç´ è¢«è‡ªåŠ¨å»æ‰# # ç§»é™¤ï¼Œä¸å­˜åœ¨æŠ¥é”™# sites1.remove( x )# # ç§»é™¤ï¼Œä¸å­˜åœ¨ä¸æŠ¥é”™# sites1.discard( x )# # éšæœºåˆ é™¤# sites1.pop()# # é•¿åº¦# len(sites1)# # æ¸…ç©º# sites1.clear()# # åˆ¤æ–­æ˜¯å¦å­˜åœ¨# x in s# ==å†…ç½®æ–¹æ³•å®Œæ•´åˆ—è¡¨==# add() ä¸ºé›†åˆæ·»åŠ å…ƒç´ # clear() ç§»é™¤é›†åˆä¸­çš„æ‰€æœ‰å…ƒç´ # copy() æ‹·è´ä¸€ä¸ªé›†åˆ# difference() è¿”å›å¤šä¸ªé›†åˆçš„å·®é›†# difference_update() ç§»é™¤é›†åˆä¸­çš„å…ƒç´ ï¼Œè¯¥å…ƒç´ åœ¨æŒ‡å®šçš„é›†åˆä¹Ÿå­˜åœ¨ã€‚# discard() åˆ é™¤é›†åˆä¸­æŒ‡å®šçš„å…ƒç´ # intersection() è¿”å›é›†åˆçš„äº¤é›†# intersection_update() è¿”å›é›†åˆçš„äº¤é›†ã€‚# isdisjoint() åˆ¤æ–­ä¸¤ä¸ªé›†åˆæ˜¯å¦åŒ…å«ç›¸åŒçš„å…ƒç´ ï¼Œå¦‚æœæ²¡æœ‰è¿”å› Trueï¼Œå¦åˆ™è¿”å› Falseã€‚# issubset() åˆ¤æ–­æŒ‡å®šé›†åˆæ˜¯å¦ä¸ºè¯¥æ–¹æ³•å‚æ•°é›†åˆçš„å­é›†ã€‚# issuperset() åˆ¤æ–­è¯¥æ–¹æ³•çš„å‚æ•°é›†åˆæ˜¯å¦ä¸ºæŒ‡å®šé›†åˆçš„å­é›†# pop() éšæœºç§»é™¤å…ƒç´ # remove() ç§»é™¤æŒ‡å®šå…ƒç´ # symmetric_difference() è¿”å›ä¸¤ä¸ªé›†åˆä¸­ä¸é‡å¤çš„å…ƒç´ é›†åˆã€‚# symmetric_difference_update() ç§»é™¤å½“å‰é›†åˆä¸­åœ¨å¦å¤–ä¸€ä¸ªæŒ‡å®šé›†åˆç›¸åŒçš„å…ƒç´ ï¼Œå¹¶å°†å¦å¤–ä¸€ä¸ªæŒ‡å®šé›†åˆä¸­ä¸åŒçš„å…ƒç´ æ’å…¥åˆ°å½“å‰é›†åˆä¸­ã€‚# union() è¿”å›ä¸¤ä¸ªé›†åˆçš„å¹¶é›†# update() ç»™é›†åˆæ·»åŠ å…ƒç´ # æˆå‘˜æµ‹è¯•if 'Runoob' in sites: print('Runoob åœ¨é›†åˆä¸­')else: print('Runoob ä¸åœ¨é›†åˆä¸­')# setå¯ä»¥è¿›è¡Œé›†åˆè¿ç®—a = set('abracadabra')b = set('alacazam')print(a)print(a - b) # a å’Œ b çš„å·®é›†print(a | b) # a å’Œ b çš„å¹¶é›†print(a &amp; b) # a å’Œ b çš„äº¤é›†print(a ^ b) # a å’Œ b ä¸­ä¸åŒæ—¶å­˜åœ¨çš„å…ƒç´ # Dictionaryï¼ˆå­—å…¸ï¼‰------------------------------------------------------------------# å­—å…¸ï¼ˆdictionaryï¼‰æ˜¯Pythonä¸­å¦ä¸€ä¸ªéå¸¸æœ‰ç”¨çš„å†…ç½®æ•°æ®ç±»å‹ã€‚# åˆ—è¡¨æ˜¯æœ‰åºçš„å¯¹è±¡é›†åˆï¼Œå­—å…¸æ˜¯æ— åºçš„å¯¹è±¡é›†åˆã€‚ä¸¤è€…ä¹‹é—´çš„åŒºåˆ«åœ¨äºï¼šå­—å…¸å½“ä¸­çš„å…ƒç´ æ˜¯é€šè¿‡é”®æ¥å­˜å–çš„ï¼Œè€Œä¸æ˜¯é€šè¿‡åç§»å­˜å–ã€‚# å­—å…¸æ˜¯ä¸€ç§æ˜ å°„ç±»å‹ï¼Œå­—å…¸ç”¨ { } æ ‡è¯†ï¼Œå®ƒæ˜¯ä¸€ä¸ªæ— åºçš„ é”®(key) : å€¼(value) çš„é›†åˆã€‚# é”®(key)å¯ä»¥æ˜¯ä»»æ„ç±»å‹ï¼Œä½†å¿…é¡»ä½¿ç”¨ä¸å¯å˜ç±»å‹ã€‚# åœ¨åŒä¸€ä¸ªå­—å…¸ä¸­ï¼Œé”®(key)å¿…é¡»æ˜¯å”¯ä¸€çš„ã€‚# ==å†…ç½®å‡½æ•°==# len(dict) è®¡ç®—å­—å…¸å…ƒç´ ä¸ªæ•°ï¼Œå³é”®çš„æ€»æ•°ã€‚# str(dict) è¾“å‡ºå­—å…¸ï¼Œä»¥å¯æ‰“å°çš„å­—ç¬¦ä¸²è¡¨ç¤ºã€‚# type(variable) è¿”å›è¾“å…¥çš„å˜é‡ç±»å‹ï¼Œå¦‚æœå˜é‡æ˜¯å­—å…¸å°±è¿”å›å­—å…¸ç±»å‹ã€‚# ==å†…ç½®æ–¹æ³•==# 1 radiansdict.clear() åˆ é™¤å­—å…¸å†…æ‰€æœ‰å…ƒç´ # 2 radiansdict.copy() è¿”å›ä¸€ä¸ªå­—å…¸çš„æµ…å¤åˆ¶# 3 radiansdict.fromkeys() åˆ›å»ºä¸€ä¸ªæ–°å­—å…¸ï¼Œä»¥åºåˆ—seqä¸­å…ƒç´ åšå­—å…¸çš„é”®ï¼Œvalä¸ºå­—å…¸æ‰€æœ‰é”®å¯¹åº”çš„åˆå§‹å€¼# 4 radiansdict.get(key, default=None) è¿”å›æŒ‡å®šé”®çš„å€¼ï¼Œå¦‚æœé”®ä¸åœ¨å­—å…¸ä¸­è¿”å› default è®¾ç½®çš„é»˜è®¤å€¼# 5 key in dict å¦‚æœé”®åœ¨å­—å…¸dicté‡Œè¿”å›trueï¼Œå¦åˆ™è¿”å›false# 6 radiansdict.items() ä»¥åˆ—è¡¨è¿”å›ä¸€ä¸ªè§†å›¾å¯¹è±¡# 7 radiansdict.keys() è¿”å›ä¸€ä¸ªè§†å›¾å¯¹è±¡# 8 radiansdict.setdefault(key, default=None) å’Œget()ç±»ä¼¼, ä½†å¦‚æœé”®ä¸å­˜åœ¨äºå­—å…¸ä¸­ï¼Œå°†ä¼šæ·»åŠ é”®å¹¶å°†å€¼è®¾ä¸ºdefault# 9 radiansdict.update(dict2) æŠŠå­—å…¸dict2çš„é”®/å€¼å¯¹æ›´æ–°åˆ°dicté‡Œ# 10 radiansdict.values() è¿”å›ä¸€ä¸ªè§†å›¾å¯¹è±¡# 11 pop(key[,default]) åˆ é™¤å­—å…¸ç»™å®šé”® key æ‰€å¯¹åº”çš„å€¼ï¼Œè¿”å›å€¼ä¸ºè¢«åˆ é™¤çš„å€¼ã€‚keyå€¼å¿…é¡»ç»™å‡ºã€‚ å¦åˆ™ï¼Œè¿”å›defaultå€¼ã€‚# 12 popitem() éšæœºè¿”å›å¹¶åˆ é™¤å­—å…¸ä¸­çš„æœ€åä¸€å¯¹é”®å’Œå€¼dict = {}dict['one'] = &quot;1 - èœé¸Ÿæ•™ç¨‹&quot;dict[2] = &quot;2 - èœé¸Ÿå·¥å…·&quot;tinydict = {'name': 'runoob', 'code': 1, 'site': 'www.runoob.com'}for k, v in knights.items(): print(k, v)print(dict['one']) # è¾“å‡ºé”®ä¸º 'one' çš„å€¼print(dict[2]) # è¾“å‡ºé”®ä¸º 2 çš„å€¼print(tinydict) # è¾“å‡ºå®Œæ•´çš„å­—å…¸print(tinydict.keys()) # è¾“å‡ºæ‰€æœ‰é”®print(tinydict.values()) # è¾“å‡ºæ‰€æœ‰å€¼del tinydict['name'] # åˆ é™¤é”® 'name'dict.clear() # æ¸…ç©ºå­—å…¸del tinydict # åˆ é™¤å­—å…¸# æ„é€ å‡½æ•° dict() å¯ä»¥ç›´æ¥ä»é”®å€¼å¯¹åºåˆ—ä¸­æ„å»ºå­—å…¸å¦‚ä¸‹'''============æ•°æ®ç±»å‹è½¬æ¢==============='''# int(x [,projects]) å°†xè½¬æ¢ä¸ºä¸€ä¸ªæ•´æ•°# float(x)å°†xè½¬æ¢åˆ°ä¸€ä¸ªæµ®ç‚¹æ•°# complex(real [,imag])åˆ›å»ºä¸€ä¸ªå¤æ•°# str(x)å°†å¯¹è±¡ x è½¬æ¢ä¸ºå­—ç¬¦ä¸²# repr(x)å°†å¯¹è±¡ x è½¬æ¢ä¸ºè¡¨è¾¾å¼å­—ç¬¦ä¸²# eval(str)ç”¨æ¥è®¡ç®—åœ¨å­—ç¬¦ä¸²ä¸­çš„æœ‰æ•ˆPythonè¡¨è¾¾å¼,å¹¶è¿”å›ä¸€ä¸ªå¯¹è±¡# tuple(s)å°†åºåˆ— s è½¬æ¢ä¸ºä¸€ä¸ªå…ƒç»„# list(s)å°†åºåˆ— s è½¬æ¢ä¸ºä¸€ä¸ªåˆ—è¡¨# set(s)è½¬æ¢ä¸ºå¯å˜é›†åˆ# dict(d)åˆ›å»ºä¸€ä¸ªå­—å…¸ã€‚d å¿…é¡»æ˜¯ä¸€ä¸ª (key, value)å…ƒç»„åºåˆ—ã€‚# frozenset(s)è½¬æ¢ä¸ºä¸å¯å˜é›†åˆ# chr(x)å°†ä¸€ä¸ªæ•´æ•°è½¬æ¢ä¸ºä¸€ä¸ªå­—ç¬¦# ord(x)å°†ä¸€ä¸ªå­—ç¬¦è½¬æ¢ä¸ºå®ƒçš„æ•´æ•°å€¼# hex(x)å°†ä¸€ä¸ªæ•´æ•°è½¬æ¢ä¸ºä¸€ä¸ªåå…­è¿›åˆ¶å­—ç¬¦ä¸²# oct(x)å°†ä¸€ä¸ªæ•´æ•°è½¬æ¢ä¸ºä¸€ä¸ªå…«è¿›åˆ¶å­—ç¬¦ä¸²'''============Python3è¿ç®—ç¬¦==============='''# ç®—æœ¯è¿ç®—ç¬¦ã€aä¸º10ï¼Œbä¸º21ã€‘----------------------------------# + åŠ  - ä¸¤ä¸ªå¯¹è±¡ç›¸åŠ  a + b è¾“å‡ºç»“æœ 31# - å‡ - å¾—åˆ°è´Ÿæ•°æˆ–æ˜¯ä¸€ä¸ªæ•°å‡å»å¦ä¸€ä¸ªæ•° a - b è¾“å‡ºç»“æœ -11# * ä¹˜ - ä¸¤ä¸ªæ•°ç›¸ä¹˜æˆ–æ˜¯è¿”å›ä¸€ä¸ªè¢«é‡å¤è‹¥å¹²æ¬¡çš„å­—ç¬¦ä¸² a * b è¾“å‡ºç»“æœ 210# / é™¤ - x é™¤ä»¥ y b / a è¾“å‡ºç»“æœ 2.1# % å–æ¨¡ - è¿”å›é™¤æ³•çš„ä½™æ•° b % a è¾“å‡ºç»“æœ 1# ** å¹‚ - è¿”å›xçš„yæ¬¡å¹‚ a**b ä¸º10çš„21æ¬¡æ–¹# // å–æ•´é™¤ - å‘ä¸‹å–æ¥è¿‘å•†çš„æ•´æ•°ï¼Œé™¤åå–å° 9//2=4 -9//2=-5# æ¯”è¾ƒï¼ˆå…³ç³»ï¼‰è¿ç®—ç¬¦ã€aä¸º10ï¼Œbä¸º20ã€‘-----------------------------# == ç­‰äº - æ¯”è¾ƒå¯¹è±¡æ˜¯å¦ç›¸ç­‰ (a == b) è¿”å› Falseã€‚# != ä¸ç­‰äº - æ¯”è¾ƒä¸¤ä¸ªå¯¹è±¡æ˜¯å¦ä¸ç›¸ç­‰ (a != b) è¿”å› Trueã€‚# &gt; å¤§äº - è¿”å›xæ˜¯å¦å¤§äºy (a &gt; b) è¿”å› Falseã€‚# &lt; å°äº - è¿”å›xæ˜¯å¦å°äºyã€‚æ‰€æœ‰æ¯”è¾ƒè¿ç®—ç¬¦è¿”å›1è¡¨ç¤ºçœŸï¼Œè¿”å›0è¡¨ç¤ºå‡ã€‚è¿™åˆ†åˆ«ä¸ç‰¹æ®Šçš„å˜é‡Trueå’ŒFalseç­‰ä»·ã€‚æ³¨æ„ï¼Œè¿™äº›å˜é‡åçš„å¤§å†™ã€‚ (a &lt; b) è¿”å› Trueã€‚# &gt;= å¤§äºç­‰äº - è¿”å›xæ˜¯å¦å¤§äºç­‰äºyã€‚ (a &gt;= b) è¿”å› Falseã€‚# &lt;= å°äºç­‰äº - è¿”å›xæ˜¯å¦å°äºç­‰äºyã€‚ (a &lt;= b) è¿”å› Trueã€‚# èµ‹å€¼è¿ç®—ç¬¦ã€aä¸º10ï¼Œbä¸º20ã€‘----------------------------------# = ç®€å•çš„èµ‹å€¼è¿ç®—ç¬¦ c = a + b å°† a + b çš„è¿ç®—ç»“æœèµ‹å€¼ä¸º c# += åŠ æ³•èµ‹å€¼è¿ç®—ç¬¦ c += a ç­‰æ•ˆäº c = c + a# -= å‡æ³•èµ‹å€¼è¿ç®—ç¬¦ c -= a ç­‰æ•ˆäº c = c - a# *= ä¹˜æ³•èµ‹å€¼è¿ç®—ç¬¦ c *= a ç­‰æ•ˆäº c = c * a# /= é™¤æ³•èµ‹å€¼è¿ç®—ç¬¦ c /= a ç­‰æ•ˆäº c = c / a# %= å–æ¨¡èµ‹å€¼è¿ç®—ç¬¦ c %= a ç­‰æ•ˆäº c = c % a# **= å¹‚èµ‹å€¼è¿ç®—ç¬¦ c **= a ç­‰æ•ˆäº c = c ** a# //= å–æ•´é™¤èµ‹å€¼è¿ç®—ç¬¦ c //= a ç­‰æ•ˆäº c = c // a# := æµ·è±¡è¿ç®—ç¬¦ï¼Œå¯åœ¨è¡¨è¾¾å¼å†…éƒ¨ä¸ºå˜é‡èµ‹å€¼ã€‚Python3.8 ç‰ˆæœ¬æ–°å¢è¿ç®—ç¬¦ã€‚# åœ¨è¿™ä¸ªç¤ºä¾‹ä¸­ï¼Œèµ‹å€¼è¡¨è¾¾å¼å¯ä»¥é¿å…è°ƒç”¨ len() ä¸¤æ¬¡:# if (n := len(a)) &gt; 10:# print(f&quot;List is too long ({n} elements, expected &lt;= 10)&quot;)# é€»è¾‘è¿ç®—ç¬¦-----------------------------------------------------# and x and y å¸ƒå°”&quot;ä¸&quot; - å¦‚æœ x ä¸º Falseï¼Œx and y è¿”å› x çš„å€¼ï¼Œå¦åˆ™è¿”å› y çš„è®¡ç®—å€¼ã€‚ (a and b) è¿”å› 20ã€‚# or x or y å¸ƒå°”&quot;æˆ–&quot; - å¦‚æœ x æ˜¯ Trueï¼Œå®ƒè¿”å› x çš„å€¼ï¼Œå¦åˆ™å®ƒè¿”å› y çš„è®¡ç®—å€¼ã€‚ (a or b) è¿”å› 10ã€‚# not not x å¸ƒå°”&quot;é&quot; - å¦‚æœ x ä¸º Trueï¼Œè¿”å› False ã€‚å¦‚æœ x ä¸º Falseï¼Œå®ƒè¿”å› Trueã€‚ not(a and b) è¿”å› False# ä½è¿ç®—ç¬¦-------------------------------------------------------# &amp; æŒ‰ä½ä¸è¿ç®—ç¬¦ï¼šå‚ä¸è¿ç®—çš„ä¸¤ä¸ªå€¼,å¦‚æœä¸¤ä¸ªç›¸åº”ä½éƒ½ä¸º1,åˆ™è¯¥ä½çš„ç»“æœä¸º1,å¦åˆ™ä¸º0 (a &amp; b) è¾“å‡ºç»“æœ 12 ï¼ŒäºŒè¿›åˆ¶è§£é‡Šï¼š 0000 1100# | æŒ‰ä½æˆ–è¿ç®—ç¬¦ï¼šåªè¦å¯¹åº”çš„äºŒä¸ªäºŒè¿›ä½æœ‰ä¸€ä¸ªä¸º1æ—¶ï¼Œç»“æœä½å°±ä¸º1ã€‚ (a | b) è¾“å‡ºç»“æœ 61 ï¼ŒäºŒè¿›åˆ¶è§£é‡Šï¼š 0011 1101# ^ æŒ‰ä½å¼‚æˆ–è¿ç®—ç¬¦ï¼šå½“ä¸¤å¯¹åº”çš„äºŒè¿›ä½ç›¸å¼‚æ—¶ï¼Œç»“æœä¸º1 (a ^ b) è¾“å‡ºç»“æœ 49 ï¼ŒäºŒè¿›åˆ¶è§£é‡Šï¼š 0011 0001# ~ æŒ‰ä½å–åè¿ç®—ç¬¦ï¼šå¯¹æ•°æ®çš„æ¯ä¸ªäºŒè¿›åˆ¶ä½å–å,å³æŠŠ1å˜ä¸º0,æŠŠ0å˜ä¸º1ã€‚~x ç±»ä¼¼äº -x-1 (~a ) è¾“å‡ºç»“æœ -61 ï¼ŒäºŒè¿›åˆ¶è§£é‡Šï¼š 1100 0011ï¼Œ åœ¨ä¸€ä¸ªæœ‰ç¬¦å·äºŒè¿›åˆ¶æ•°çš„è¡¥ç å½¢å¼ã€‚# &lt;&lt; å·¦ç§»åŠ¨è¿ç®—ç¬¦ï¼šè¿ç®—æ•°çš„å„äºŒè¿›ä½å…¨éƒ¨å·¦ç§»è‹¥å¹²ä½ï¼Œç”±&quot;&lt;&lt;&quot;å³è¾¹çš„æ•°æŒ‡å®šç§»åŠ¨çš„ä½æ•°ï¼Œé«˜ä½ä¸¢å¼ƒï¼Œä½ä½è¡¥0ã€‚ a &lt;&lt; 2 è¾“å‡ºç»“æœ 240 ï¼ŒäºŒè¿›åˆ¶è§£é‡Šï¼š 1111 0000# &gt;&gt; å³ç§»åŠ¨è¿ç®—ç¬¦ï¼šæŠŠ&quot;&gt;&gt;&quot;å·¦è¾¹çš„è¿ç®—æ•°çš„å„äºŒè¿›ä½å…¨éƒ¨å³ç§»è‹¥å¹²ä½ï¼Œ&quot;&gt;&gt;&quot;å³è¾¹çš„æ•°æŒ‡å®šç§»åŠ¨çš„ä½æ•° a &gt;&gt; 2 è¾“å‡ºç»“æœ 15 ï¼ŒäºŒè¿›åˆ¶è§£é‡Šï¼š 0000 1111# æˆå‘˜è¿ç®—ç¬¦----------------------------------------------------------# in å¦‚æœåœ¨æŒ‡å®šçš„åºåˆ—ä¸­æ‰¾åˆ°å€¼è¿”å› Trueï¼Œå¦åˆ™è¿”å› Falseã€‚ x åœ¨ y åºåˆ—ä¸­ , å¦‚æœ x åœ¨ y åºåˆ—ä¸­è¿”å› Trueã€‚# not in å¦‚æœåœ¨æŒ‡å®šçš„åºåˆ—ä¸­æ²¡æœ‰æ‰¾åˆ°å€¼è¿”å› Trueï¼Œå¦åˆ™è¿”å› Falseã€‚ x ä¸åœ¨ y åºåˆ—ä¸­ , å¦‚æœ x ä¸åœ¨ y åºåˆ—ä¸­è¿”å› Trueã€‚# èº«ä»½è¿ç®—ç¬¦------------------------------------------------------------# is is æ˜¯åˆ¤æ–­ä¸¤ä¸ªæ ‡è¯†ç¬¦æ˜¯ä¸æ˜¯å¼•ç”¨è‡ªä¸€ä¸ªå¯¹è±¡ x is y, ç±»ä¼¼ id(x) == id(y) , å¦‚æœå¼•ç”¨çš„æ˜¯åŒä¸€ä¸ªå¯¹è±¡åˆ™è¿”å› Trueï¼Œå¦åˆ™è¿”å› False# is not is not æ˜¯åˆ¤æ–­ä¸¤ä¸ªæ ‡è¯†ç¬¦æ˜¯ä¸æ˜¯å¼•ç”¨è‡ªä¸åŒå¯¹è±¡ x is not y ï¼Œ ç±»ä¼¼ id(a) != id(b)ã€‚å¦‚æœå¼•ç”¨çš„ä¸æ˜¯åŒä¸€ä¸ªå¯¹è±¡åˆ™è¿”å›ç»“æœ Trueï¼Œå¦åˆ™è¿”å› Falseã€‚# è¿ç®—ç¬¦ä¼˜å…ˆçº§# ** æŒ‡æ•° (æœ€é«˜ä¼˜å…ˆçº§)# ~ + - æŒ‰ä½ç¿»è½¬, ä¸€å…ƒåŠ å·å’Œå‡å· (æœ€åä¸¤ä¸ªçš„æ–¹æ³•åä¸º +@ å’Œ -@)# * / % // ä¹˜ï¼Œé™¤ï¼Œæ±‚ä½™æ•°å’Œå–æ•´é™¤# + - åŠ æ³•å‡æ³•# &gt;&gt; &lt;&lt; å³ç§»ï¼Œå·¦ç§»è¿ç®—ç¬¦# &amp; ä½ 'AND'# ^ | ä½è¿ç®—ç¬¦# &lt;= &lt; &gt; &gt;= æ¯”è¾ƒè¿ç®—ç¬¦# == != ç­‰äºè¿ç®—ç¬¦# = %= /= //= -= += *= **= èµ‹å€¼è¿ç®—ç¬¦# is is not èº«ä»½è¿ç®—ç¬¦# in not in æˆå‘˜è¿ç®—ç¬¦# not and or é€»è¾‘è¿ç®—ç¬¦ æµç¨‹æ§åˆ¶12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879808182838485'''æµç¨‹æ§åˆ¶'''# ifif condition_1: statement_block_1elif condition_2: statement_block_2else: statement_block_3# while whlieåé¢ä¸ºfalseæ—¶åˆ™æ‰§è¡Œelseè¯­å¥å—while counter &lt;= n: sum = sum + counter counter += 1else: additional_statement(s)# for range()å‡½æ•°ã€‚å®ƒä¼šç”Ÿæˆæ•°åˆ—# break è¯­å¥å¯ä»¥è·³å‡º for å’Œ while çš„å¾ªç¯ä½“ã€‚å¦‚æœä½ ä» for æˆ– while å¾ªç¯ä¸­ç»ˆæ­¢ï¼Œä»»ä½•å¯¹åº”çš„å¾ªç¯ else å—å°†ä¸æ‰§è¡Œã€‚# continue è¯­å¥è¢«ç”¨æ¥å‘Šè¯‰ Python è·³è¿‡å½“å‰å¾ªç¯å—ä¸­çš„å‰©ä½™è¯­å¥ï¼Œç„¶åç»§ç»­è¿›è¡Œä¸‹ä¸€è½®å¾ªç¯ã€‚for i in range(5,9) : print(i)# pass ä¸åšä»»ä½•äº‹æƒ…ï¼Œä¸€èˆ¬ç”¨åšå ä½è¯­å¥for letter in 'Runoob': if letter == 'o': pass print('æ‰§è¡Œ pass å—') print('å½“å‰å­—æ¯ :', letter)print(&quot;Good bye!&quot;)'''è¿­ä»£å™¨ä¸ç”Ÿæˆå™¨ iter()åˆ›å»ºè¿­ä»£å™¨å¯¹è±¡ å’Œ next()è¾“å‡ºè¿­ä»£å™¨ä¸‹ä¸€ä¸ªå…ƒç´  Python çš„æ„é€ å‡½æ•°ä¸º __init__(),__iter__() æ–¹æ³•è¿”å›ä¸€ä¸ªç‰¹æ®Šçš„è¿­ä»£å™¨å¯¹è±¡ï¼Œ è¿™ä¸ªè¿­ä»£å™¨å¯¹è±¡å®ç°äº† __next__() æ–¹æ³•å¹¶é€šè¿‡ StopIteration å¼‚å¸¸æ ‡è¯†è¿­ä»£çš„å®Œæˆã€‚__next__() æ–¹æ³•ï¼ˆPython 2 é‡Œæ˜¯ next()ï¼‰ä¼šè¿”å›ä¸‹ä¸€ä¸ªè¿­ä»£å™¨å¯¹è±¡ã€‚'''# StopIteration å¼‚å¸¸ç”¨äºæ ‡è¯†è¿­ä»£çš„å®Œæˆï¼Œé˜²æ­¢å‡ºç°æ— é™å¾ªç¯çš„æƒ…å†µï¼Œåœ¨ __next__() æ–¹æ³•ä¸­æˆ‘ä»¬å¯ä»¥è®¾ç½®åœ¨å®ŒæˆæŒ‡å®šå¾ªç¯æ¬¡æ•°åè§¦å‘ StopIteration å¼‚å¸¸æ¥ç»“æŸè¿­ä»£ã€‚class MyNumbers: def __iter__(self): self.a = 1 return self def __next__(self): if self.a &lt;= 20: x = self.a self.a += 1 return x else: raise StopIterationmyclass = MyNumbers()myiter = iter(myclass)for x in myiter: print(x)# ä½¿ç”¨äº† yield çš„å‡½æ•°è¢«ç§°ä¸ºç”Ÿæˆå™¨ï¼ˆgeneratorï¼‰ã€‚# è·Ÿæ™®é€šå‡½æ•°ä¸åŒçš„æ˜¯ï¼Œç”Ÿæˆå™¨æ˜¯ä¸€ä¸ªè¿”å›è¿­ä»£å™¨çš„å‡½æ•°ï¼Œåªèƒ½ç”¨äºè¿­ä»£æ“ä½œï¼Œæ›´ç®€å•ç‚¹ç†è§£ç”Ÿæˆå™¨å°±æ˜¯ä¸€ä¸ªè¿­ä»£å™¨ã€‚## åœ¨è°ƒç”¨ç”Ÿæˆå™¨è¿è¡Œçš„è¿‡ç¨‹ä¸­ï¼Œæ¯æ¬¡é‡åˆ° yield æ—¶å‡½æ•°ä¼šæš‚åœå¹¶ä¿å­˜å½“å‰æ‰€æœ‰çš„è¿è¡Œä¿¡æ¯ï¼Œè¿”å› yield çš„å€¼, å¹¶åœ¨ä¸‹ä¸€æ¬¡æ‰§è¡Œ next() æ–¹æ³•æ—¶ä»å½“å‰ä½ç½®ç»§ç»­è¿è¡Œã€‚## è°ƒç”¨ä¸€ä¸ªç”Ÿæˆå™¨å‡½æ•°ï¼Œè¿”å›çš„æ˜¯ä¸€ä¸ªè¿­ä»£å™¨å¯¹è±¡ã€‚import sysdef fibonacci(n): # ç”Ÿæˆå™¨å‡½æ•° - æ–æ³¢é‚£å¥‘ a, b, counter = 0, 1, 0 while True: if (counter &gt; n): return yield a a, b = b, a + b counter += 1f = fibonacci(10) # f æ˜¯ä¸€ä¸ªè¿­ä»£å™¨ï¼Œç”±ç”Ÿæˆå™¨è¿”å›ç”Ÿæˆwhile True: try: print(next(f), end=&quot; &quot;) except StopIteration: sys.exit() æ—¶é—´123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778&quot;&quot;&quot;æ—¶é—´&quot;&quot;&quot;# Python æä¾›äº†ä¸€ä¸ª time å’Œ calendar æ¨¡å—å¯ä»¥ç”¨äºæ ¼å¼åŒ–æ—¥æœŸå’Œæ—¶é—´ã€‚# æ—¶é—´é—´éš”æ˜¯ä»¥ç§’ä¸ºå•ä½çš„æµ®ç‚¹å°æ•°ã€‚# æ¯ä¸ªæ—¶é—´æˆ³éƒ½ä»¥è‡ªä» 1970 å¹´ 1 æœˆ 1 æ—¥åˆå¤œï¼ˆå†å…ƒï¼‰ç»è¿‡äº†å¤šé•¿æ—¶é—´æ¥è¡¨ç¤ºã€‚import time # å¼•å…¥timeæ¨¡å—ticks = time.time()print (&quot;å½“å‰æ—¶é—´æˆ³ä¸º:&quot;, ticks)# æ—¶é—´å…ƒç»„# å¾ˆå¤šPythonå‡½æ•°ç”¨ä¸€ä¸ªå…ƒç»„è£…èµ·æ¥çš„9ç»„æ•°å­—å¤„ç†æ—¶é—´:## åºå· å­—æ®µ å€¼# 0 4ä½æ•°å¹´ 2008# 1 æœˆ 1 åˆ° 12# 2 æ—¥ 1åˆ°31# 3 å°æ—¶ 0åˆ°23# 4 åˆ†é’Ÿ 0åˆ°59# 5 ç§’ 0åˆ°61 (60æˆ–61 æ˜¯é—°ç§’)# 6 ä¸€å‘¨çš„ç¬¬å‡ æ—¥ 0åˆ°6 (0æ˜¯å‘¨ä¸€)# 7 ä¸€å¹´çš„ç¬¬å‡ æ—¥ 1åˆ°366 (å„’ç•¥å†)# 8 å¤ä»¤æ—¶ -1, 0, 1, -1æ˜¯å†³å®šæ˜¯å¦ä¸ºå¤ä»¤æ—¶çš„æ——å¸œ# ä¸Šè¿°ä¹Ÿå°±æ˜¯struct_timeå…ƒç»„ã€‚è¿™ç§ç»“æ„å…·æœ‰å¦‚ä¸‹å±æ€§ï¼š# åºå· å±æ€§ å€¼# 0 tm_year 2008# 1 tm_mon 1 åˆ° 12# 2 tm_mday 1 åˆ° 31# 3 tm_hour 0 åˆ° 23# 4 tm_min 0 åˆ° 59# 5 tm_sec 0 åˆ° 61 (60æˆ–61 æ˜¯é—°ç§’)# 6 tm_wday 0åˆ°6 (0æ˜¯å‘¨ä¸€)# 7 tm_yday ä¸€å¹´ä¸­çš„ç¬¬å‡ å¤©ï¼Œ1 åˆ° 366# 8 tm_isdst æ˜¯å¦ä¸ºå¤ä»¤æ—¶ï¼Œå€¼æœ‰ï¼š1(å¤ä»¤æ—¶)ã€0(ä¸æ˜¯å¤ä»¤æ—¶)ã€-1(æœªçŸ¥)ï¼Œé»˜è®¤ -1# è·å–å½“å‰æ—¶é—´localtime = time.asctime( time.localtime(time.time()) )print (&quot;æœ¬åœ°æ—¶é—´ä¸º :&quot;, localtime)# æ ¼å¼åŒ–# %y ä¸¤ä½æ•°çš„å¹´ä»½è¡¨ç¤ºï¼ˆ00-99ï¼‰# %Y å››ä½æ•°çš„å¹´ä»½è¡¨ç¤ºï¼ˆ000-9999ï¼‰# %m æœˆä»½ï¼ˆ01-12ï¼‰# %d æœˆå†…ä¸­çš„ä¸€å¤©ï¼ˆ0-31ï¼‰# %H 24å°æ—¶åˆ¶å°æ—¶æ•°ï¼ˆ0-23ï¼‰# %I 12å°æ—¶åˆ¶å°æ—¶æ•°ï¼ˆ01-12ï¼‰# %M åˆ†é’Ÿæ•°ï¼ˆ00=59ï¼‰# %S ç§’ï¼ˆ00-59ï¼‰# %a æœ¬åœ°ç®€åŒ–æ˜ŸæœŸåç§°# %A æœ¬åœ°å®Œæ•´æ˜ŸæœŸåç§°# %b æœ¬åœ°ç®€åŒ–çš„æœˆä»½åç§°# %B æœ¬åœ°å®Œæ•´çš„æœˆä»½åç§°# %c æœ¬åœ°ç›¸åº”çš„æ—¥æœŸè¡¨ç¤ºå’Œæ—¶é—´è¡¨ç¤º# %j å¹´å†…çš„ä¸€å¤©ï¼ˆ001-366ï¼‰# %p æœ¬åœ°A.M.æˆ–P.M.çš„ç­‰ä»·ç¬¦# %U ä¸€å¹´ä¸­çš„æ˜ŸæœŸæ•°ï¼ˆ00-53ï¼‰æ˜ŸæœŸå¤©ä¸ºæ˜ŸæœŸçš„å¼€å§‹# %w æ˜ŸæœŸï¼ˆ0-6ï¼‰ï¼Œæ˜ŸæœŸå¤©ä¸ºæ˜ŸæœŸçš„å¼€å§‹# %W ä¸€å¹´ä¸­çš„æ˜ŸæœŸæ•°ï¼ˆ00-53ï¼‰æ˜ŸæœŸä¸€ä¸ºæ˜ŸæœŸçš„å¼€å§‹# %x æœ¬åœ°ç›¸åº”çš„æ—¥æœŸè¡¨ç¤º# %X æœ¬åœ°ç›¸åº”çš„æ—¶é—´è¡¨ç¤º# %Z å½“å‰æ—¶åŒºçš„åç§°# %% %å·æœ¬èº«print(time.strftime(&quot;%Y-%m-%d %H:%M:%S&quot;, time.localtime()))# æ ¼å¼åŒ–æˆSat Mar 28 22:24:24 2016å½¢å¼print(time.strftime(&quot;%a %b %d %H:%M:%S %Y&quot;, time.localtime()))# å°†æ ¼å¼å­—ç¬¦ä¸²è½¬æ¢ä¸ºæ—¶é—´æˆ³a = &quot;Sat Mar 28 22:24:24 2016&quot;print(time.mktime(time.strptime(a, &quot;%a %b %d %H:%M:%S %Y&quot;)))# è·å–æŸæœˆæ—¥å†import calendarcal = calendar.month(2016, 1)print (&quot;ä»¥ä¸‹è¾“å‡º2016å¹´1æœˆä»½çš„æ—¥å†:&quot;)print (cal) JSON123456789101112131415161718192021222324252627282930313233343536373839404142434445&quot;&quot;&quot;JSON&quot;&quot;&quot;# json.dumps(): ==ç¼–ç ==# dict object# list, tuple array# str string# int, float, int- &amp; float-derived Enums number# True true# False false# None null# json.loads(): ==è§£ç ==# object dict# array list# string str# number (int) int# number (real) float# true True# false False# null Noneimport json# Python å­—å…¸ç±»å‹è½¬æ¢ä¸º JSON å¯¹è±¡data = { 'no': 1, 'name': 'Runoob', 'url': 'http://www.runoob.com'}json_str = json.dumps(data)print(&quot;Python åŸå§‹æ•°æ®ï¼š&quot;, repr(data))print(&quot;JSON å¯¹è±¡ï¼š&quot;, json_str)# å°† JSON å¯¹è±¡è½¬æ¢ä¸º Python å­—å…¸data2 = json.loads(json_str)print (&quot;data2['name']: &quot;, data2['name'])print (&quot;data2['url']: &quot;, data2['url'])# æ–‡ä»¶å¤„ç†# å†™å…¥ JSON æ•°æ®with open('data.json', 'w') as f: json.dump(data, f)# è¯»å–æ•°æ®with open('data.json', 'r') as f: data = json.load(f) æ ‡å‡†åº“æ¦‚è§ˆ123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102&quot;&quot;&quot;æ ‡å‡†åº“æ¦‚è§ˆ&quot;&quot;&quot;# æ“ä½œç³»ç»Ÿæ¥å£-----------------------------import osos.getcwd() # è¿”å›å½“å‰çš„å·¥ä½œç›®å½•os.chdir('/server/accesslogs') # ä¿®æ”¹å½“å‰çš„å·¥ä½œç›®å½•os.system('mkdir today') # æ‰§è¡Œç³»ç»Ÿå‘½ä»¤ mkdirimport shutilshutil.copyfile('data.db', 'archive.db')shutil.move('/build/executables', 'installdir')# æ–‡ä»¶é€šé…ç¬¦ ---------------------------------------------# ç”¨äºä»ç›®å½•é€šé…ç¬¦æœç´¢ä¸­ç”Ÿæˆæ–‡ä»¶åˆ—è¡¨import globglob.glob('*.py')# å‘½ä»¤è¡Œå‚æ•°------------------------------------import sysprint(sys.argv)# é”™è¯¯è¾“å‡ºé‡å®šå‘å’Œç¨‹åºç»ˆæ­¢-------------------------------# sys è¿˜æœ‰ stdinï¼Œstdout å’Œ stderr å±æ€§ï¼Œå³ä½¿åœ¨ stdout è¢«é‡å®šå‘æ—¶ï¼Œåè€…ä¹Ÿå¯ä»¥ç”¨äºæ˜¾ç¤ºè­¦å‘Šå’Œé”™è¯¯ä¿¡æ¯ã€‚sys.stderr.write('Warning, log file not found starting a new one\\n')# å­—ç¬¦ä¸²æ­£åˆ™åŒ¹é…-----------------------------------------------import rere.findall(r'\\bf[a-z]*', 'which foot or hand fell fastest')re.sub(r'(\\b[a-z]+) \\1', r'\\1', 'cat in the the hat')# æ•°å­¦-----------------------------------------------import mathmath.cos(math.pi / 4)math.log(1024, 2)import randomrandom.choice(['apple', 'pear', 'banana'])random.sample(range(100), 10) # sampling without replacementrandom.random() # random floatrandom.randrange(6)# äº’è”ç½‘-----------------------------------------------from urllib.request import urlopenfor line in urlopen('http://tycho.usno.navy.mil/cgi-bin/timer.pl'): line = line.decode('utf-8') # Decoding the binary data to text. if 'EST' in line or 'EDT' in line: # look for Eastern Time print(line)import smtplibserver = smtplib.SMTP('localhost')server.sendmail('soothsayer@example.org', 'jcaesar@example.org',&quot;&quot;&quot;To: jcaesar@example.org...From: soothsayer@example.org...... Beware the Ides of March.... &quot;&quot;&quot;)server.quit()# æ—¥æœŸå’Œæ—¶é—´-----------------------------------------------from datetime import datenow = date.today()print(now)now.strftime(&quot;%m-%d-%y. %d %b %Y is a %A on the %d day of %B.&quot;)# dates support calendar arithmeticbirthday = date(1964, 7, 31)age = now - birthdayage.days# æ•°æ®å‹ç¼©import zlibs = b'witch which has which witches wrist watch'len(s)t = zlib.compress(s)len(t)zlib.decompress(t)zlib.crc32(s)# æ€§èƒ½åº¦é‡from timeit import TimerTimer('t=a; a=b; b=t', 'a=1; b=2').timeit()Timer('a,b = b,a', 'a=1; b=2').timeit()# æµ‹è¯•æ¨¡å—def average(values): &quot;&quot;&quot;Computes the arithmetic mean of a list of numbers. &gt;&gt;&gt; print(average([20, 30, 70])) 40.0 &quot;&quot;&quot; return sum(values) / len(values)import doctestdoctest.testmod() # è‡ªåŠ¨éªŒè¯åµŒå…¥æµ‹è¯•# unittestæ¨¡å—ä¸åƒ doctestæ¨¡å—é‚£ä¹ˆå®¹æ˜“ä½¿ç”¨ï¼Œä¸è¿‡å®ƒå¯ä»¥åœ¨ä¸€ä¸ªç‹¬ç«‹çš„æ–‡ä»¶é‡Œæä¾›ä¸€ä¸ªæ›´å…¨é¢çš„æµ‹è¯•é›†:import unittestclass TestStatisticalFunctions(unittest.TestCase): def test_average(self): self.assertEqual(average([20, 30, 70]), 40.0) self.assertEqual(round(average([1, 5, 7]), 1), 4.3) self.assertRaises(ZeroDivisionError, average, []) self.assertRaises(TypeError, average, 20, 30, 70)unittest.main() # Calling from the command line invokes all tests OOP123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129&quot;&quot;&quot;OOP&quot;&quot;&quot;# ===ç±»===# class ClassName:# &lt;statement-1&gt;# .# .# &lt;statement-N&gt;# ===ç±»å¯¹è±¡===# å±æ€§å¼•ç”¨å’Œå®ä¾‹åŒ–class MyClass: &quot;&quot;&quot;ä¸€ä¸ªç®€å•çš„ç±»å®ä¾‹&quot;&quot;&quot; i = 12345 def f(self): return 'hello world'# ===å®ä¾‹åŒ–ç±»===x = MyClass()# ===è®¿é—®ç±»çš„å±æ€§å’Œæ–¹æ³•===print(&quot;MyClass ç±»çš„å±æ€§ i ä¸ºï¼š&quot;, x.i)print(&quot;MyClass ç±»çš„æ–¹æ³• f è¾“å‡ºä¸ºï¼š&quot;, x.f())# ç±»æœ‰ä¸€ä¸ªåä¸º __init__() çš„ç‰¹æ®Šæ–¹æ³•ï¼ˆæ„é€ æ–¹æ³•ï¼‰ï¼Œè¯¥æ–¹æ³•åœ¨ç±»å®ä¾‹åŒ–æ—¶ä¼šè‡ªåŠ¨è°ƒç”¨ï¼Œåƒä¸‹é¢è¿™æ ·ï¼š# __init__() æ–¹æ³•å¯ä»¥æœ‰å‚æ•°ï¼Œå‚æ•°é€šè¿‡ __init__() ä¼ é€’åˆ°ç±»çš„å®ä¾‹åŒ–æ“ä½œä¸Šï¼Œselfä»£è¡¨ç±»çš„å®ä¾‹ï¼Œè€Œéç±»def __init__(self): self.data = []class Test: def prt(self): print(self) print(self.__class__)t = Test()t.prt()# ===æ–¹æ³•===# defå®šä¹‰æ–¹æ³•,ä¸ä¸€èˆ¬å‡½æ•°å®šä¹‰ä¸åŒï¼Œç±»æ–¹æ³•å¿…é¡»åŒ…å«selfå‚æ•°ä¸”ä½œä¸ºç¬¬ä¸€ä¸ªå‚æ•°ï¼Œselfä»£è¡¨ç±»çš„å®ä¾‹# ç±»å®šä¹‰class people: # å®šä¹‰åŸºæœ¬å±æ€§ name = '' age = 0 # å®šä¹‰ç§æœ‰å±æ€§,ç§æœ‰å±æ€§åœ¨ç±»å¤–éƒ¨æ— æ³•ç›´æ¥è¿›è¡Œè®¿é—® __weight = 0 # å®šä¹‰æ„é€ æ–¹æ³• def __init__(self, n, a, w): self.name = n self.age = a self.__weight = w def speak(self): print(&quot;%s è¯´: æˆ‘ %d å²ã€‚&quot; % (self.name, self.age))# å®ä¾‹åŒ–ç±»p = people('runoob', 10, 30)p.speak()# ===ç»§æ‰¿===# å­ç±»ï¼ˆæ´¾ç”Ÿç±» DerivedClassNameï¼‰ä¼šç»§æ‰¿çˆ¶ç±»ï¼ˆåŸºç±» BaseClassNameï¼‰çš„å±æ€§å’Œæ–¹æ³•ã€‚# class DerivedClassName(BaseClassName):# &lt;statement-1&gt;# .# .# .# &lt;statement-N&gt;# ===å¤šç»§æ‰¿===# class DerivedClassName(Base1, Base2, Base3):# &lt;statement-1&gt;# .# .# .# &lt;statement-N&gt;# è‹¥æ˜¯çˆ¶ç±»ä¸­æœ‰ç›¸åŒçš„æ–¹æ³•åï¼Œè€Œåœ¨å­ç±»ä½¿ç”¨æ—¶æœªæŒ‡å®šï¼Œpythonä»å·¦è‡³å³æœç´¢ å³æ–¹æ³•åœ¨å­ç±»ä¸­æœªæ‰¾åˆ°æ—¶ï¼Œä»å·¦åˆ°å³æŸ¥æ‰¾çˆ¶ç±»ä¸­æ˜¯å¦åŒ…å«æ–¹æ³•# ===æ–¹æ³•é‡å†™===class Parent: # å®šä¹‰çˆ¶ç±» def myMethod(self): print('è°ƒç”¨çˆ¶ç±»æ–¹æ³•')class Child(Parent): # å®šä¹‰å­ç±» def myMethod(self): print('è°ƒç”¨å­ç±»æ–¹æ³•')c = Child() # å­ç±»å®ä¾‹c.myMethod() # å­ç±»è°ƒç”¨é‡å†™æ–¹æ³•super(Child, c).myMethod() # ç”¨å­ç±»å¯¹è±¡è°ƒç”¨çˆ¶ç±»å·²è¢«è¦†ç›–çš„æ–¹æ³•# ===ç±»å±æ€§ä¸æ–¹æ³•===# ç±»çš„ç§æœ‰å±æ€§# __private_attrsï¼šä¸¤ä¸ªä¸‹åˆ’çº¿å¼€å¤´ï¼Œå£°æ˜è¯¥å±æ€§ä¸ºç§æœ‰ï¼Œä¸èƒ½åœ¨ç±»çš„å¤–éƒ¨è¢«ä½¿ç”¨æˆ–ç›´æ¥è®¿é—®ã€‚åœ¨ç±»å†…éƒ¨çš„æ–¹æ³•ä¸­ä½¿ç”¨æ—¶ self.__private_attrsã€‚## ç±»çš„æ–¹æ³•# åœ¨ç±»çš„å†…éƒ¨ï¼Œä½¿ç”¨ def å…³é”®å­—æ¥å®šä¹‰ä¸€ä¸ªæ–¹æ³•ï¼Œä¸ä¸€èˆ¬å‡½æ•°å®šä¹‰ä¸åŒï¼Œç±»æ–¹æ³•å¿…é¡»åŒ…å«å‚æ•° selfï¼Œä¸”ä¸ºç¬¬ä¸€ä¸ªå‚æ•°ï¼Œself ä»£è¡¨çš„æ˜¯ç±»çš„å®ä¾‹ã€‚# self çš„åå­—å¹¶ä¸æ˜¯è§„å®šæ­»çš„ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ thisï¼Œä½†æ˜¯æœ€å¥½è¿˜æ˜¯æŒ‰ç…§çº¦å®šä½¿ç”¨ selfã€‚## ç±»çš„ç§æœ‰æ–¹æ³•# __private_methodï¼šä¸¤ä¸ªä¸‹åˆ’çº¿å¼€å¤´ï¼Œå£°æ˜è¯¥æ–¹æ³•ä¸ºç§æœ‰æ–¹æ³•ï¼Œåªèƒ½åœ¨ç±»çš„å†…éƒ¨è°ƒç”¨ ï¼Œä¸èƒ½åœ¨ç±»çš„å¤–éƒ¨è°ƒç”¨ã€‚self.__private_methodsã€‚# ==é‡è½½==class Vector: def __init__(self, a, b): self.a = a self.b = b def __str__(self): return 'Vector (%d, %d)' % (self.a, self.b) def __add__(self, other): return Vector(self.a + other.a, self.b + other.b)v1 = Vector(2, 10)v2 = Vector(5, -2)print(v1 + v2) å‡½æ•°1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859'''å‡½æ•°'''# ä½ å¯ä»¥å®šä¹‰ä¸€ä¸ªç”±è‡ªå·±æƒ³è¦åŠŸèƒ½çš„å‡½æ•°ï¼Œä»¥ä¸‹æ˜¯ç®€å•çš„è§„åˆ™ï¼š## å‡½æ•°ä»£ç å—ä»¥ def å…³é”®è¯å¼€å¤´ï¼Œåæ¥å‡½æ•°æ ‡è¯†ç¬¦åç§°å’Œåœ†æ‹¬å· ()ã€‚# ä»»ä½•ä¼ å…¥å‚æ•°å’Œè‡ªå˜é‡å¿…é¡»æ”¾åœ¨åœ†æ‹¬å·ä¸­é—´ï¼Œåœ†æ‹¬å·ä¹‹é—´å¯ä»¥ç”¨äºå®šä¹‰å‚æ•°ã€‚# å‡½æ•°çš„ç¬¬ä¸€è¡Œè¯­å¥å¯ä»¥é€‰æ‹©æ€§åœ°ä½¿ç”¨æ–‡æ¡£å­—ç¬¦ä¸²â€”ç”¨äºå­˜æ”¾å‡½æ•°è¯´æ˜ã€‚# å‡½æ•°å†…å®¹ä»¥å†’å· : èµ·å§‹ï¼Œå¹¶ä¸”ç¼©è¿›ã€‚# return [è¡¨è¾¾å¼] ç»“æŸå‡½æ•°ï¼Œé€‰æ‹©æ€§åœ°è¿”å›ä¸€ä¸ªå€¼ç»™è°ƒç”¨æ–¹ï¼Œä¸å¸¦è¡¨è¾¾å¼çš„ return ç›¸å½“äºè¿”å› Noneã€‚def max(a, b): if a &gt; b: return a else: return b# python å‡½æ•°çš„å‚æ•°ä¼ é€’ï¼š# ä¸å¯å˜ç±»å‹ï¼šç±»ä¼¼ C++ çš„å€¼ä¼ é€’ï¼Œå¦‚æ•´æ•°ã€å­—ç¬¦ä¸²ã€å…ƒç»„ã€‚å¦‚ fun(a)ï¼Œä¼ é€’çš„åªæ˜¯ a çš„å€¼ï¼Œæ²¡æœ‰å½±å“ a å¯¹è±¡æœ¬èº«ã€‚å¦‚æœåœ¨ fun(a) å†…éƒ¨ä¿®æ”¹ a çš„å€¼ï¼Œåˆ™æ˜¯æ–°ç”Ÿæˆä¸€ä¸ª a çš„å¯¹è±¡ã€‚# å¯å˜ç±»å‹ï¼šç±»ä¼¼ C++ çš„å¼•ç”¨ä¼ é€’ï¼Œå¦‚ åˆ—è¡¨ï¼Œå­—å…¸ã€‚å¦‚ fun(la)ï¼Œåˆ™æ˜¯å°† la çœŸæ­£çš„ä¼ è¿‡å»ï¼Œä¿®æ”¹å fun å¤–éƒ¨çš„ la ä¹Ÿä¼šå—å½±å“# python ä¸­ä¸€åˆ‡éƒ½æ˜¯å¯¹è±¡ï¼Œä¸¥æ ¼æ„ä¹‰æˆ‘ä»¬ä¸èƒ½è¯´å€¼ä¼ é€’è¿˜æ˜¯å¼•ç”¨ä¼ é€’ï¼Œæˆ‘ä»¬åº”è¯¥è¯´ä¼ ä¸å¯å˜å¯¹è±¡å’Œä¼ å¯å˜å¯¹è±¡ã€‚# å¯é€šè¿‡id()å‡½æ•°æŸ¥çœ‹å¯¹è±¡å†…å­˜åœ°å€# å‚æ•°# ä»¥ä¸‹æ˜¯è°ƒç”¨å‡½æ•°æ—¶å¯ä½¿ç”¨çš„æ­£å¼å‚æ•°ç±»å‹ï¼š# å¿…éœ€å‚æ•°ã€è°ƒç”¨æ—¶çš„æ•°é‡å¿…é¡»å’Œå£°æ˜æ—¶çš„ä¸€æ ·ã€‘ def printme( str ):# å…³é”®å­—å‚æ•°ã€å…è®¸å‡½æ•°è°ƒç”¨æ—¶å‚æ•°çš„é¡ºåºä¸å£°æ˜æ—¶ä¸ä¸€è‡´ï¼Œå› ä¸º Python è§£é‡Šå™¨èƒ½å¤Ÿç”¨å‚æ•°ååŒ¹é…å‚æ•°å€¼ã€‘def printinfo( name, age ):# é»˜è®¤å‚æ•°ã€å¦‚æœæ²¡æœ‰ä¼ é€’å‚æ•°ï¼Œåˆ™ä¼šä½¿ç”¨é»˜è®¤å‚æ•°ã€‘def printinfo( name, age = 35 ):# ä¸å®šé•¿å‚æ•° ã€åŠ äº†æ˜Ÿå· * çš„å‚æ•°ä¼šä»¥å…ƒç»„(tuple)çš„å½¢å¼å¯¼å…¥ï¼Œå­˜æ”¾æ‰€æœ‰æœªå‘½åçš„å˜é‡å‚æ•°ï¼Œæ²¡æœ‰æŒ‡å®šå‚æ•°ï¼Œå®ƒå°±æ˜¯ä¸€ä¸ªç©ºå…ƒç»„ã€‚æˆ‘ä»¬ä¹Ÿå¯ä»¥ä¸å‘å‡½æ•°ä¼ é€’æœªå‘½åçš„å˜é‡ï¼ŒåŠ äº†ä¸¤ä¸ªæ˜Ÿå· ** çš„å‚æ•°ä¼šä»¥å­—å…¸çš„å½¢å¼å¯¼å…¥ï¼Œå¦‚æœå•ç‹¬å‡ºç°æ˜Ÿå· * åçš„å‚æ•°å¿…é¡»ç”¨å…³é”®å­—ä¼ å…¥ã€‘def functionname([formal_args,] *var_args_tuple ):'''åŒ¿åå‡½æ•°'''# lambda [arg1 [,arg2,.....argn]]:expression# å¯å†™å‡½æ•°è¯´æ˜sum = lambda arg1, arg2: arg1 + arg2# è°ƒç”¨sumå‡½æ•°print(&quot;ç›¸åŠ åçš„å€¼ä¸º : &quot;, sum(10, 20))print(&quot;ç›¸åŠ åçš„å€¼ä¸º : &quot;, sum(20, 20))'''å¼ºåˆ¶ä½ç½®å‚æ•°'''# åœ¨ä»¥ä¸‹çš„ä¾‹å­ä¸­ï¼Œå½¢å‚ a å’Œ b å¿…é¡»ä½¿ç”¨æŒ‡å®šä½ç½®å‚æ•°ï¼Œc æˆ– d å¯ä»¥æ˜¯ä½ç½®å½¢å‚æˆ–å…³é”®å­—å½¢å‚ï¼Œè€Œ e æˆ– f è¦æ±‚ä¸ºå…³é”®å­—å½¢å‚:def f(a, b, /, c, d, *, e, f): print(a, b, c, d, e, f)# ä»¥ä¸‹ä½¿ç”¨æ–¹æ³•æ˜¯æ­£ç¡®çš„:f(10, 20, 30, d=40, e=50, f=60)# ä»¥ä¸‹ä½¿ç”¨æ–¹æ³•ä¼šå‘ç”Ÿé”™è¯¯:f(10, b=20, c=30, d=40, e=50, f=60) # b ä¸èƒ½ä½¿ç”¨å…³é”®å­—å‚æ•°çš„å½¢å¼f(10, 20, 30, 40, 50, f=60) # e å¿…é¡»ä½¿ç”¨å…³é”®å­—å‚æ•°çš„å½¢å¼ æ–‡ä»¶123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119&quot;&quot;&quot;æ–‡ä»¶&quot;&quot;&quot;# æ‰“å¼€æ–‡ä»¶è¿”å›æ–‡ä»¶å¯¹è±¡# file: å¿…éœ€ï¼Œæ–‡ä»¶è·¯å¾„ï¼ˆç›¸å¯¹æˆ–è€…ç»å¯¹è·¯å¾„ï¼‰ã€‚# mode: å¯é€‰ï¼Œæ–‡ä»¶æ‰“å¼€æ¨¡å¼# buffering: è®¾ç½®ç¼“å†²# encoding: ä¸€èˆ¬ä½¿ç”¨utf8# errors: æŠ¥é”™çº§åˆ«# newline: åŒºåˆ†æ¢è¡Œç¬¦# closefd: ä¼ å…¥çš„fileå‚æ•°ç±»å‹# opener: è®¾ç½®è‡ªå®šä¹‰å¼€å¯å™¨ï¼Œå¼€å¯å™¨çš„è¿”å›å€¼å¿…é¡»æ˜¯ä¸€ä¸ªæ‰“å¼€çš„æ–‡ä»¶æè¿°ç¬¦ã€‚# mode å‚æ•°æœ‰ï¼š# æ¨¡å¼ æè¿°# t æ–‡æœ¬æ¨¡å¼ (é»˜è®¤)ã€‚# x å†™æ¨¡å¼ï¼Œæ–°å»ºä¸€ä¸ªæ–‡ä»¶ï¼Œå¦‚æœè¯¥æ–‡ä»¶å·²å­˜åœ¨åˆ™ä¼šæŠ¥é”™ã€‚# b äºŒè¿›åˆ¶æ¨¡å¼ã€‚# + æ‰“å¼€ä¸€ä¸ªæ–‡ä»¶è¿›è¡Œæ›´æ–°(å¯è¯»å¯å†™)ã€‚# U é€šç”¨æ¢è¡Œæ¨¡å¼ï¼ˆPython 3 ä¸æ”¯æŒï¼‰ã€‚# r ä»¥åªè¯»æ–¹å¼æ‰“å¼€æ–‡ä»¶ã€‚æ–‡ä»¶çš„æŒ‡é’ˆå°†ä¼šæ”¾åœ¨æ–‡ä»¶çš„å¼€å¤´ã€‚è¿™æ˜¯é»˜è®¤æ¨¡å¼ã€‚# rb ä»¥äºŒè¿›åˆ¶æ ¼å¼æ‰“å¼€ä¸€ä¸ªæ–‡ä»¶ç”¨äºåªè¯»ã€‚æ–‡ä»¶æŒ‡é’ˆå°†ä¼šæ”¾åœ¨æ–‡ä»¶çš„å¼€å¤´ã€‚è¿™æ˜¯é»˜è®¤æ¨¡å¼ã€‚ä¸€èˆ¬ç”¨äºéæ–‡æœ¬æ–‡ä»¶å¦‚å›¾ç‰‡ç­‰ã€‚# r+ æ‰“å¼€ä¸€ä¸ªæ–‡ä»¶ç”¨äºè¯»å†™ã€‚æ–‡ä»¶æŒ‡é’ˆå°†ä¼šæ”¾åœ¨æ–‡ä»¶çš„å¼€å¤´ã€‚# rb+ ä»¥äºŒè¿›åˆ¶æ ¼å¼æ‰“å¼€ä¸€ä¸ªæ–‡ä»¶ç”¨äºè¯»å†™ã€‚æ–‡ä»¶æŒ‡é’ˆå°†ä¼šæ”¾åœ¨æ–‡ä»¶çš„å¼€å¤´ã€‚ä¸€èˆ¬ç”¨äºéæ–‡æœ¬æ–‡ä»¶å¦‚å›¾ç‰‡ç­‰ã€‚# w æ‰“å¼€ä¸€ä¸ªæ–‡ä»¶åªç”¨äºå†™å…¥ã€‚å¦‚æœè¯¥æ–‡ä»¶å·²å­˜åœ¨åˆ™æ‰“å¼€æ–‡ä»¶ï¼Œå¹¶ä»å¼€å¤´å¼€å§‹ç¼–è¾‘ï¼Œå³åŸæœ‰å†…å®¹ä¼šè¢«åˆ é™¤ã€‚å¦‚æœè¯¥æ–‡ä»¶ä¸å­˜åœ¨ï¼Œåˆ›å»ºæ–°æ–‡ä»¶ã€‚# wb ä»¥äºŒè¿›åˆ¶æ ¼å¼æ‰“å¼€ä¸€ä¸ªæ–‡ä»¶åªç”¨äºå†™å…¥ã€‚å¦‚æœè¯¥æ–‡ä»¶å·²å­˜åœ¨åˆ™æ‰“å¼€æ–‡ä»¶ï¼Œå¹¶ä»å¼€å¤´å¼€å§‹ç¼–è¾‘ï¼Œå³åŸæœ‰å†…å®¹ä¼šè¢«åˆ é™¤ã€‚å¦‚æœè¯¥æ–‡ä»¶ä¸å­˜åœ¨ï¼Œåˆ›å»ºæ–°æ–‡ä»¶ã€‚ä¸€èˆ¬ç”¨äºéæ–‡æœ¬æ–‡ä»¶å¦‚å›¾ç‰‡ç­‰ã€‚# w+ æ‰“å¼€ä¸€ä¸ªæ–‡ä»¶ç”¨äºè¯»å†™ã€‚å¦‚æœè¯¥æ–‡ä»¶å·²å­˜åœ¨åˆ™æ‰“å¼€æ–‡ä»¶ï¼Œå¹¶ä»å¼€å¤´å¼€å§‹ç¼–è¾‘ï¼Œå³åŸæœ‰å†…å®¹ä¼šè¢«åˆ é™¤ã€‚å¦‚æœè¯¥æ–‡ä»¶ä¸å­˜åœ¨ï¼Œåˆ›å»ºæ–°æ–‡ä»¶ã€‚# wb+ ä»¥äºŒè¿›åˆ¶æ ¼å¼æ‰“å¼€ä¸€ä¸ªæ–‡ä»¶ç”¨äºè¯»å†™ã€‚å¦‚æœè¯¥æ–‡ä»¶å·²å­˜åœ¨åˆ™æ‰“å¼€æ–‡ä»¶ï¼Œå¹¶ä»å¼€å¤´å¼€å§‹ç¼–è¾‘ï¼Œå³åŸæœ‰å†…å®¹ä¼šè¢«åˆ é™¤ã€‚å¦‚æœè¯¥æ–‡ä»¶ä¸å­˜åœ¨ï¼Œåˆ›å»ºæ–°æ–‡ä»¶ã€‚ä¸€èˆ¬ç”¨äºéæ–‡æœ¬æ–‡ä»¶å¦‚å›¾ç‰‡ç­‰ã€‚# a æ‰“å¼€ä¸€ä¸ªæ–‡ä»¶ç”¨äºè¿½åŠ ã€‚å¦‚æœè¯¥æ–‡ä»¶å·²å­˜åœ¨ï¼Œæ–‡ä»¶æŒ‡é’ˆå°†ä¼šæ”¾åœ¨æ–‡ä»¶çš„ç»“å°¾ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œæ–°çš„å†…å®¹å°†ä¼šè¢«å†™å…¥åˆ°å·²æœ‰å†…å®¹ä¹‹åã€‚å¦‚æœè¯¥æ–‡ä»¶ä¸å­˜åœ¨ï¼Œåˆ›å»ºæ–°æ–‡ä»¶è¿›è¡Œå†™å…¥ã€‚# ab ä»¥äºŒè¿›åˆ¶æ ¼å¼æ‰“å¼€ä¸€ä¸ªæ–‡ä»¶ç”¨äºè¿½åŠ ã€‚å¦‚æœè¯¥æ–‡ä»¶å·²å­˜åœ¨ï¼Œæ–‡ä»¶æŒ‡é’ˆå°†ä¼šæ”¾åœ¨æ–‡ä»¶çš„ç»“å°¾ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œæ–°çš„å†…å®¹å°†ä¼šè¢«å†™å…¥åˆ°å·²æœ‰å†…å®¹ä¹‹åã€‚å¦‚æœè¯¥æ–‡ä»¶ä¸å­˜åœ¨ï¼Œåˆ›å»ºæ–°æ–‡ä»¶è¿›è¡Œå†™å…¥ã€‚# a+ æ‰“å¼€ä¸€ä¸ªæ–‡ä»¶ç”¨äºè¯»å†™ã€‚å¦‚æœè¯¥æ–‡ä»¶å·²å­˜åœ¨ï¼Œæ–‡ä»¶æŒ‡é’ˆå°†ä¼šæ”¾åœ¨æ–‡ä»¶çš„ç»“å°¾ã€‚æ–‡ä»¶æ‰“å¼€æ—¶ä¼šæ˜¯è¿½åŠ æ¨¡å¼ã€‚å¦‚æœè¯¥æ–‡ä»¶ä¸å­˜åœ¨ï¼Œåˆ›å»ºæ–°æ–‡ä»¶ç”¨äºè¯»å†™ã€‚# ab+ ä»¥äºŒè¿›åˆ¶æ ¼å¼æ‰“å¼€ä¸€ä¸ªæ–‡ä»¶ç”¨äºè¿½åŠ ã€‚å¦‚æœè¯¥æ–‡ä»¶å·²å­˜åœ¨ï¼Œæ–‡ä»¶æŒ‡é’ˆå°†ä¼šæ”¾åœ¨æ–‡ä»¶çš„ç»“å°¾ã€‚å¦‚æœè¯¥æ–‡ä»¶ä¸å­˜åœ¨ï¼Œåˆ›å»ºæ–°æ–‡ä»¶ç”¨äºè¯»å†™ã€‚file = open('filetest.txt', mode='r', buffering=-1, encoding=None, errors=None, newline=None, closefd=True, opener=None)# file å¯¹è±¡å¸¸ç”¨çš„å‡½æ•°ï¼š# file.close() å…³é—­æ–‡ä»¶ã€‚å…³é—­åæ–‡ä»¶ä¸èƒ½å†è¿›è¡Œè¯»å†™æ“ä½œã€‚# file.flush() åˆ·æ–°æ–‡ä»¶å†…éƒ¨ç¼“å†²ï¼Œç›´æ¥æŠŠå†…éƒ¨ç¼“å†²åŒºçš„æ•°æ®ç«‹åˆ»å†™å…¥æ–‡ä»¶, è€Œä¸æ˜¯è¢«åŠ¨çš„ç­‰å¾…è¾“å‡ºç¼“å†²åŒºå†™å…¥ã€‚# file.fileno() è¿”å›ä¸€ä¸ªæ•´å‹çš„æ–‡ä»¶æè¿°ç¬¦(file descriptor FD æ•´å‹), å¯ä»¥ç”¨åœ¨å¦‚osæ¨¡å—çš„readæ–¹æ³•ç­‰ä¸€äº›åº•å±‚æ“ä½œä¸Šã€‚# file.isatty() å¦‚æœæ–‡ä»¶è¿æ¥åˆ°ä¸€ä¸ªç»ˆç«¯è®¾å¤‡è¿”å› Trueï¼Œå¦åˆ™è¿”å› Falseã€‚# file.next() Python 3 ä¸­çš„ File å¯¹è±¡ä¸æ”¯æŒ next() æ–¹æ³•ã€‚ è¿”å›æ–‡ä»¶ä¸‹ä¸€è¡Œã€‚# file.read([size]) ä»æ–‡ä»¶è¯»å–æŒ‡å®šçš„å­—èŠ‚æ•°ï¼Œå¦‚æœæœªç»™å®šæˆ–ä¸ºè´Ÿåˆ™è¯»å–æ‰€æœ‰ã€‚# file.readline([size]) è¯»å–æ•´è¡Œï¼ŒåŒ…æ‹¬ &quot;\\n&quot; å­—ç¬¦ã€‚# file.readlines([sizeint]) è¯»å–æ‰€æœ‰è¡Œå¹¶è¿”å›åˆ—è¡¨ï¼Œè‹¥ç»™å®šsizeint&gt;0ï¼Œè¿”å›æ€»å’Œå¤§çº¦ä¸ºsizeintå­—èŠ‚çš„è¡Œ, å®é™…è¯»å–å€¼å¯èƒ½æ¯” sizeint è¾ƒå¤§, å› ä¸ºéœ€è¦å¡«å……ç¼“å†²åŒºã€‚# file.seek(offset[, whence]) ç§»åŠ¨æ–‡ä»¶è¯»å–æŒ‡é’ˆåˆ°æŒ‡å®šä½ç½®# file.tell() è¿”å›æ–‡ä»¶å½“å‰ä½ç½®ã€‚# file.truncate([size]) ä»æ–‡ä»¶çš„é¦–è¡Œé¦–å­—ç¬¦å¼€å§‹æˆªæ–­ï¼Œæˆªæ–­æ–‡ä»¶ä¸º size ä¸ªå­—ç¬¦ï¼Œæ—  size è¡¨ç¤ºä»å½“å‰ä½ç½®æˆªæ–­ï¼›æˆªæ–­ä¹‹ååé¢çš„æ‰€æœ‰å­—ç¬¦è¢«åˆ é™¤ï¼Œå…¶ä¸­ windows ç³»ç»Ÿä¸‹çš„æ¢è¡Œä»£è¡¨2ä¸ªå­—ç¬¦å¤§å°ã€‚# file.write(str) å°†å­—ç¬¦ä¸²å†™å…¥æ–‡ä»¶ï¼Œè¿”å›çš„æ˜¯å†™å…¥çš„å­—ç¬¦é•¿åº¦ã€‚# file.writelines(sequence) å‘æ–‡ä»¶å†™å…¥ä¸€ä¸ªåºåˆ—å­—ç¬¦ä¸²åˆ—è¡¨ï¼Œå¦‚æœéœ€è¦æ¢è¡Œåˆ™è¦è‡ªå·±åŠ å…¥æ¯è¡Œçš„æ¢è¡Œç¬¦ã€‚&quot;&quot;&quot;æ–‡ä»¶å’Œç›®å½•&quot;&quot;&quot;# os æ¨¡å—æä¾›äº†éå¸¸ä¸°å¯Œçš„æ–¹æ³•ç”¨æ¥å¤„ç†æ–‡ä»¶å’Œç›®å½•ã€‚å¸¸ç”¨çš„æ–¹æ³•å¦‚ä¸‹è¡¨æ‰€ç¤ºï¼š## åºå· æ–¹æ³•åŠæè¿°# os.access(path, mode) æ£€éªŒæƒé™æ¨¡å¼# os.chdir(path) æ”¹å˜å½“å‰å·¥ä½œç›®å½•# os.chflags(path, flags) è®¾ç½®è·¯å¾„çš„æ ‡è®°ä¸ºæ•°å­—æ ‡è®°ã€‚# os.chmod(path, mode) æ›´æ”¹æƒé™# os.chown(path, uid, gid) æ›´æ”¹æ–‡ä»¶æ‰€æœ‰è€…# os.chroot(path) æ”¹å˜å½“å‰è¿›ç¨‹çš„æ ¹ç›®å½•# os.close(fd) å…³é—­æ–‡ä»¶æè¿°ç¬¦ fd# os.closerange(fd_low, fd_high) å…³é—­æ‰€æœ‰æ–‡ä»¶æè¿°ç¬¦ï¼Œä» fd_low (åŒ…å«) åˆ° fd_high (ä¸åŒ…å«), é”™è¯¯ä¼šå¿½ç•¥# os.dup(fd) å¤åˆ¶æ–‡ä»¶æè¿°ç¬¦ fd# os.dup2(fd, fd2) å°†ä¸€ä¸ªæ–‡ä»¶æè¿°ç¬¦ fd å¤åˆ¶åˆ°å¦ä¸€ä¸ª fd2# os.fchdir(fd) é€šè¿‡æ–‡ä»¶æè¿°ç¬¦æ”¹å˜å½“å‰å·¥ä½œç›®å½•# os.fchmod(fd, mode) æ”¹å˜ä¸€ä¸ªæ–‡ä»¶çš„è®¿é—®æƒé™ï¼Œè¯¥æ–‡ä»¶ç”±å‚æ•°fdæŒ‡å®šï¼Œå‚æ•°modeæ˜¯Unixä¸‹çš„æ–‡ä»¶è®¿é—®æƒé™ã€‚# os.fchown(fd, uid, gid) ä¿®æ”¹ä¸€ä¸ªæ–‡ä»¶çš„æ‰€æœ‰æƒï¼Œè¿™ä¸ªå‡½æ•°ä¿®æ”¹ä¸€ä¸ªæ–‡ä»¶çš„ç”¨æˆ·IDå’Œç”¨æˆ·ç»„IDï¼Œè¯¥æ–‡ä»¶ç”±æ–‡ä»¶æè¿°ç¬¦fdæŒ‡å®šã€‚# os.fdatasync(fd) å¼ºåˆ¶å°†æ–‡ä»¶å†™å…¥ç£ç›˜ï¼Œè¯¥æ–‡ä»¶ç”±æ–‡ä»¶æè¿°ç¬¦fdæŒ‡å®šï¼Œä½†æ˜¯ä¸å¼ºåˆ¶æ›´æ–°æ–‡ä»¶çš„çŠ¶æ€ä¿¡æ¯ã€‚# os.fdopen(fd[, mode[, bufsize]]) é€šè¿‡æ–‡ä»¶æè¿°ç¬¦ fd åˆ›å»ºä¸€ä¸ªæ–‡ä»¶å¯¹è±¡ï¼Œå¹¶è¿”å›è¿™ä¸ªæ–‡ä»¶å¯¹è±¡# os.fpathconf(fd, name) è¿”å›ä¸€ä¸ªæ‰“å¼€çš„æ–‡ä»¶çš„ç³»ç»Ÿé…ç½®ä¿¡æ¯ã€‚nameä¸ºæ£€ç´¢çš„ç³»ç»Ÿé…ç½®çš„å€¼ï¼Œå®ƒä¹Ÿè®¸æ˜¯ä¸€ä¸ªå®šä¹‰ç³»ç»Ÿå€¼çš„å­—ç¬¦ä¸²ï¼Œè¿™äº›åå­—åœ¨å¾ˆå¤šæ ‡å‡†ä¸­æŒ‡å®šï¼ˆPOSIX.1, Unix 95, Unix 98, å’Œå…¶å®ƒï¼‰ã€‚# os.fstat(fd) è¿”å›æ–‡ä»¶æè¿°ç¬¦fdçš„çŠ¶æ€ï¼Œåƒstat()ã€‚# os.fstatvfs(fd) è¿”å›åŒ…å«æ–‡ä»¶æè¿°ç¬¦fdçš„æ–‡ä»¶çš„æ–‡ä»¶ç³»ç»Ÿçš„ä¿¡æ¯ï¼ŒPython 3.3 ç›¸ç­‰äº statvfs()ã€‚# os.fsync(fd) å¼ºåˆ¶å°†æ–‡ä»¶æè¿°ç¬¦ä¸ºfdçš„æ–‡ä»¶å†™å…¥ç¡¬ç›˜ã€‚# os.ftruncate(fd, length) è£å‰ªæ–‡ä»¶æè¿°ç¬¦fdå¯¹åº”çš„æ–‡ä»¶, æ‰€ä»¥å®ƒæœ€å¤§ä¸èƒ½è¶…è¿‡æ–‡ä»¶å¤§å°ã€‚# os.getcwd() è¿”å›å½“å‰å·¥ä½œç›®å½•# os.getcwdb() è¿”å›ä¸€ä¸ªå½“å‰å·¥ä½œç›®å½•çš„Unicodeå¯¹è±¡# os.isatty(fd) å¦‚æœæ–‡ä»¶æè¿°ç¬¦fdæ˜¯æ‰“å¼€çš„ï¼ŒåŒæ—¶ä¸tty(-like)è®¾å¤‡ç›¸è¿ï¼Œåˆ™è¿”å›true, å¦åˆ™Falseã€‚# os.lchflags(path, flags) è®¾ç½®è·¯å¾„çš„æ ‡è®°ä¸ºæ•°å­—æ ‡è®°ï¼Œç±»ä¼¼ chflags()ï¼Œä½†æ˜¯æ²¡æœ‰è½¯é“¾æ¥# os.lchmod(path, mode) ä¿®æ”¹è¿æ¥æ–‡ä»¶æƒé™# os.lchown(path, uid, gid) æ›´æ”¹æ–‡ä»¶æ‰€æœ‰è€…ï¼Œç±»ä¼¼ chownï¼Œä½†æ˜¯ä¸è¿½è¸ªé“¾æ¥ã€‚# os.link(src, dst) åˆ›å»ºç¡¬é“¾æ¥ï¼Œåä¸ºå‚æ•° dstï¼ŒæŒ‡å‘å‚æ•° src# os.listdir(path) è¿”å›pathæŒ‡å®šçš„æ–‡ä»¶å¤¹åŒ…å«çš„æ–‡ä»¶æˆ–æ–‡ä»¶å¤¹çš„åå­—çš„åˆ—è¡¨ã€‚# os.lseek(fd, pos, how) è®¾ç½®æ–‡ä»¶æè¿°ç¬¦ fdå½“å‰ä½ç½®ä¸ºpos, howæ–¹å¼ä¿®æ”¹: SEEK_SET æˆ–è€… 0 è®¾ç½®ä»æ–‡ä»¶å¼€å§‹çš„è®¡ç®—çš„pos; SEEK_CURæˆ–è€… 1 åˆ™ä»å½“å‰ä½ç½®è®¡ç®—; os.SEEK_ENDæˆ–è€…2åˆ™ä»æ–‡ä»¶å°¾éƒ¨å¼€å§‹. åœ¨unixï¼ŒWindowsä¸­æœ‰æ•ˆ# os.lstat(path) åƒstat(),ä½†æ˜¯æ²¡æœ‰è½¯é“¾æ¥# os.major(device) ä»åŸå§‹çš„è®¾å¤‡å·ä¸­æå–è®¾å¤‡majorå·ç  (ä½¿ç”¨statä¸­çš„st_devæˆ–è€…st_rdev field)ã€‚# os.makedev(major, minor) ä»¥majorå’Œminorè®¾å¤‡å·ç»„æˆä¸€ä¸ªåŸå§‹è®¾å¤‡å·# os.makedirs(path[, mode]) é€’å½’æ–‡ä»¶å¤¹åˆ›å»ºå‡½æ•°ã€‚åƒmkdir(), ä½†åˆ›å»ºçš„æ‰€æœ‰intermediate-levelæ–‡ä»¶å¤¹éœ€è¦åŒ…å«å­æ–‡ä»¶å¤¹ã€‚# os.minor(device) ä»åŸå§‹çš„è®¾å¤‡å·ä¸­æå–è®¾å¤‡minorå·ç  (ä½¿ç”¨statä¸­çš„st_devæˆ–è€…st_rdev field )ã€‚# os.mkdir(path[, mode]) ä»¥æ•°å­—modeçš„modeåˆ›å»ºä¸€ä¸ªåä¸ºpathçš„æ–‡ä»¶å¤¹.é»˜è®¤çš„ mode æ˜¯ 0777 (å…«è¿›åˆ¶)ã€‚# os.mkfifo(path[, mode]) åˆ›å»ºå‘½åç®¡é“ï¼Œmode ä¸ºæ•°å­—ï¼Œé»˜è®¤ä¸º 0666 (å…«è¿›åˆ¶)# os.mknod(filename[, mode=0600, device]) åˆ›å»ºä¸€ä¸ªåä¸ºfilenameæ–‡ä»¶ç³»ç»ŸèŠ‚ç‚¹ï¼ˆæ–‡ä»¶ï¼Œè®¾å¤‡ç‰¹åˆ«æ–‡ä»¶æˆ–è€…å‘½åpipeï¼‰ã€‚# os.open(file, flags[, mode]) æ‰“å¼€ä¸€ä¸ªæ–‡ä»¶ï¼Œå¹¶ä¸”è®¾ç½®éœ€è¦çš„æ‰“å¼€é€‰é¡¹ï¼Œmodeå‚æ•°æ˜¯å¯é€‰çš„# os.openpty() æ‰“å¼€ä¸€ä¸ªæ–°çš„ä¼ªç»ˆç«¯å¯¹ã€‚è¿”å› pty å’Œ ttyçš„æ–‡ä»¶æè¿°ç¬¦ã€‚# os.pathconf(path, name) è¿”å›ç›¸å…³æ–‡ä»¶çš„ç³»ç»Ÿé…ç½®ä¿¡æ¯ã€‚# os.pipe() åˆ›å»ºä¸€ä¸ªç®¡é“. è¿”å›ä¸€å¯¹æ–‡ä»¶æè¿°ç¬¦(r, w) åˆ†åˆ«ä¸ºè¯»å’Œå†™# os.popen(command[, mode[, bufsize]]) ä»ä¸€ä¸ª command æ‰“å¼€ä¸€ä¸ªç®¡é“# os.read(fd, n) ä»æ–‡ä»¶æè¿°ç¬¦ fd ä¸­è¯»å–æœ€å¤š n ä¸ªå­—èŠ‚ï¼Œè¿”å›åŒ…å«è¯»å–å­—èŠ‚çš„å­—ç¬¦ä¸²ï¼Œæ–‡ä»¶æè¿°ç¬¦ fdå¯¹åº”æ–‡ä»¶å·²è¾¾åˆ°ç»“å°¾, è¿”å›ä¸€ä¸ªç©ºå­—ç¬¦ä¸²ã€‚# os.readlink(path) è¿”å›è½¯é“¾æ¥æ‰€æŒ‡å‘çš„æ–‡ä»¶# os.remove(path) åˆ é™¤è·¯å¾„ä¸ºpathçš„æ–‡ä»¶ã€‚å¦‚æœpath æ˜¯ä¸€ä¸ªæ–‡ä»¶å¤¹ï¼Œå°†æŠ›å‡ºOSError; æŸ¥çœ‹ä¸‹é¢çš„rmdir()åˆ é™¤ä¸€ä¸ª directoryã€‚# os.removedirs(path) é€’å½’åˆ é™¤ç›®å½•ã€‚# os.rename(src, dst) é‡å‘½åæ–‡ä»¶æˆ–ç›®å½•ï¼Œä» src åˆ° dst# os.renames(old, new) é€’å½’åœ°å¯¹ç›®å½•è¿›è¡Œæ›´åï¼Œä¹Ÿå¯ä»¥å¯¹æ–‡ä»¶è¿›è¡Œæ›´åã€‚# os.rmdir(path) åˆ é™¤pathæŒ‡å®šçš„ç©ºç›®å½•ï¼Œå¦‚æœç›®å½•éç©ºï¼Œåˆ™æŠ›å‡ºä¸€ä¸ªOSErrorå¼‚å¸¸ã€‚# os.stat(path) è·å–pathæŒ‡å®šçš„è·¯å¾„çš„ä¿¡æ¯ï¼ŒåŠŸèƒ½ç­‰åŒäºC APIä¸­çš„stat()ç³»ç»Ÿè°ƒç”¨ã€‚# os.stat_float_times([newvalue]) å†³å®šstat_resultæ˜¯å¦ä»¥floatå¯¹è±¡æ˜¾ç¤ºæ—¶é—´æˆ³# os.statvfs(path) è·å–æŒ‡å®šè·¯å¾„çš„æ–‡ä»¶ç³»ç»Ÿç»Ÿè®¡ä¿¡æ¯# os.symlink(src, dst) åˆ›å»ºä¸€ä¸ªè½¯é“¾æ¥# os.tcgetpgrp(fd) è¿”å›ä¸ç»ˆç«¯fdï¼ˆä¸€ä¸ªç”±os.open()è¿”å›çš„æ‰“å¼€çš„æ–‡ä»¶æè¿°ç¬¦ï¼‰å…³è”çš„è¿›ç¨‹ç»„# os.tcsetpgrp(fd, pg) è®¾ç½®ä¸ç»ˆç«¯fdï¼ˆä¸€ä¸ªç”±os.open()è¿”å›çš„æ‰“å¼€çš„æ–‡ä»¶æè¿°ç¬¦ï¼‰å…³è”çš„è¿›ç¨‹ç»„ä¸ºpgã€‚# os.tempnam([dir[, prefix]]) Python3 ä¸­å·²åˆ é™¤ã€‚è¿”å›å”¯ä¸€çš„è·¯å¾„åç”¨äºåˆ›å»ºä¸´æ—¶æ–‡ä»¶ã€‚# os.tmpfile() Python3 ä¸­å·²åˆ é™¤ã€‚è¿”å›ä¸€ä¸ªæ‰“å¼€çš„æ¨¡å¼ä¸º(w+b)çš„æ–‡ä»¶å¯¹è±¡ .è¿™æ–‡ä»¶å¯¹è±¡æ²¡æœ‰æ–‡ä»¶å¤¹å…¥å£ï¼Œæ²¡æœ‰æ–‡ä»¶æè¿°ç¬¦ï¼Œå°†ä¼šè‡ªåŠ¨åˆ é™¤ã€‚# os.tmpnam() Python3 ä¸­å·²åˆ é™¤ã€‚ä¸ºåˆ›å»ºä¸€ä¸ªä¸´æ—¶æ–‡ä»¶è¿”å›ä¸€ä¸ªå”¯ä¸€çš„è·¯å¾„# os.ttyname(fd) è¿”å›ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œå®ƒè¡¨ç¤ºä¸æ–‡ä»¶æè¿°ç¬¦fd å…³è”çš„ç»ˆç«¯è®¾å¤‡ã€‚å¦‚æœfd æ²¡æœ‰ä¸ç»ˆç«¯è®¾å¤‡å…³è”ï¼Œåˆ™å¼•å‘ä¸€ä¸ªå¼‚å¸¸ã€‚# os.unlink(path) åˆ é™¤æ–‡ä»¶è·¯å¾„# os.utime(path, times) è¿”å›æŒ‡å®šçš„pathæ–‡ä»¶çš„è®¿é—®å’Œä¿®æ”¹çš„æ—¶é—´ã€‚# os.walk(top[, topdown=True[, onerror=None[, followlinks=False]]]) è¾“å‡ºåœ¨æ–‡ä»¶å¤¹ä¸­çš„æ–‡ä»¶åé€šè¿‡åœ¨æ ‘ä¸­æ¸¸èµ°ï¼Œå‘ä¸Šæˆ–è€…å‘ä¸‹ã€‚# os.write(fd, str) å†™å…¥å­—ç¬¦ä¸²åˆ°æ–‡ä»¶æè¿°ç¬¦ fdä¸­. è¿”å›å®é™…å†™å…¥çš„å­—ç¬¦ä¸²é•¿åº¦# os.path æ¨¡å— è·å–æ–‡ä»¶çš„å±æ€§ä¿¡æ¯ã€‚# os.pardir() è·å–å½“å‰ç›®å½•çš„çˆ¶ç›®å½•ï¼Œä»¥å­—ç¬¦ä¸²å½¢å¼æ˜¾ç¤ºç›®å½•åã€‚ è¯­æ³•é”™è¯¯å’Œå¼‚å¸¸1234567891011121314151617181920212223242526&quot;&quot;&quot;è¯­æ³•é”™è¯¯å’Œå¼‚å¸¸&quot;&quot;&quot;# è¯­æ³•é”™è¯¯ SyntaxError# å¼‚å¸¸ ZeroDivisionErrorï¼ŒNameError å’Œ TypeError# å¼‚å¸¸å¤„ç†# ---try/except---# ä¸€ä¸ªexceptå­å¥å¯ä»¥åŒæ—¶å¤„ç†å¤šä¸ªå¼‚å¸¸ï¼Œè¿™äº›å¼‚å¸¸å°†è¢«æ”¾åœ¨ä¸€ä¸ªæ‹¬å·é‡Œæˆä¸ºä¸€ä¸ªå…ƒç»„ï¼Œä¾‹å¦‚:# except (RuntimeError, TypeError, NameError):while True: try: x = int(input(&quot;è¯·è¾“å…¥ä¸€ä¸ªæ•°å­—: &quot;)) break except ValueError: print(&quot;æ‚¨è¾“å…¥çš„ä¸æ˜¯æ•°å­—ï¼Œè¯·å†æ¬¡å°è¯•è¾“å…¥ï¼&quot;)# ----try/except...else---else å­å¥å°†åœ¨ try å­å¥æ²¡æœ‰å‘ç”Ÿä»»ä½•å¼‚å¸¸çš„æ—¶å€™æ‰§è¡Œ# ---try-finally----# æŠ›å‡ºå¼‚å¸¸ raise [Exception [, args [, traceback]]]x = 10if x &gt; 5: raise Exception('x ä¸èƒ½å¤§äº 5ã€‚x çš„å€¼ä¸º: {}'.format(x))# ç”¨æˆ·è‡ªå®šä¹‰å¼‚å¸¸ é€šè¿‡åˆ›å»ºä¸€ä¸ªæ–°çš„å¼‚å¸¸ç±»æ¥æ‹¥æœ‰è‡ªå·±çš„å¼‚å¸¸ã€‚å¼‚å¸¸ç±»ç»§æ‰¿è‡ª Exception ç±»ï¼Œå¯ä»¥ç›´æ¥ç»§æ‰¿ï¼Œæˆ–è€…é—´æ¥ç»§æ‰¿# with è¯­å¥å°±å¯ä»¥ä¿è¯è¯¸å¦‚æ–‡ä»¶ä¹‹ç±»çš„å¯¹è±¡åœ¨ä½¿ç”¨å®Œä¹‹åä¸€å®šä¼šæ­£ç¡®çš„æ‰§è¡Œä»–çš„æ¸…ç†æ–¹æ³•with open(&quot;myfile.txt&quot;) as f: for line in f: print(line, end=&quot;&quot;) Mysql12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273import mysql.connector# python -m pip install mysql-connector å®‰è£…è¿æ¥é©±åŠ¨# python -m pip install mysql-connector-python# pip uninstall mysql-connector å¸è½½mydb = mysql.connector.connect( host=&quot;localhost&quot;, # æ•°æ®åº“ä¸»æœºåœ°å€ user=&quot;root&quot;, # æ•°æ®åº“ç”¨æˆ·å passwd=&quot;root&quot; # æ•°æ®åº“å¯†ç  # auth_plugin='mysql_native_password' # database=&quot;runoob_db&quot; #æœ‰åˆ™ç›´æ¥è¿æ¥æ•°æ®åº“)print(mydb)# åˆ›å»ºæ•°æ®åº“mycursor = mydb.cursor()mycursor.execute(&quot;CREATE DATABASE runoob_db&quot;)# è¾“å‡ºæ‰€æœ‰æ•°æ®åº“åˆ—è¡¨mycursor.execute(&quot;SHOW DATABASES&quot;)for x in mycursor: print(x)# åˆ›å»ºè¡¨mycursor.execute(&quot;CREATE TABLE sites (name VARCHAR(255), url VARCHAR(255))&quot;)# mycursor.execute(sqlè¯­å¥)# å¢sql = &quot;INSERT INTO sites (name, url) VALUES (%s, %s)&quot;val = (&quot;RUNOOB&quot;, &quot;https://www.runoob.com&quot;)mycursor.execute(sql, val)mydb.commit() # æ•°æ®è¡¨å†…å®¹æœ‰æ›´æ–°ï¼Œå¿…é¡»ä½¿ç”¨åˆ°è¯¥è¯­å¥print(mycursor.rowcount, &quot;è®°å½•æ’å…¥æˆåŠŸã€‚&quot;)# æ‰¹é‡å¢sql = &quot;INSERT INTO sites (name, url) VALUES (%s, %s)&quot;val = [ ('Google', 'https://www.google.com'), ('Github', 'https://www.github.com'), ('Taobao', 'https://www.taobao.com'), ('stackoverflow', 'https://www.stackoverflow.com/')]mycursor.executemany(sql, val)mydb.commit() # æ•°æ®è¡¨å†…å®¹æœ‰æ›´æ–°ï¼Œå¿…é¡»ä½¿ç”¨åˆ°è¯¥è¯­å¥print(mycursor.rowcount, &quot;è®°å½•æ’å…¥æˆåŠŸ, ID:&quot;, mycursor.lastrowid)# æŸ¥mycursor.execute(&quot;SELECT * FROM sites&quot;)myresult = mycursor.fetchall() # fetchall() è·å–æ‰€æœ‰è®°å½•myresult = mycursor.fetchone() #è·å–ä¸€æ¡for x in myresult: print(x)# é˜²sqlæ³¨å…¥sql = &quot;SELECT * FROM sites WHERE name = %s&quot;na = (&quot;RUNOOB&quot;,)mycursor.execute(sql, na)myresult = mycursor.fetchall()for x in myresult: print(x)#åˆ sql = &quot;DELETE FROM sites WHERE name = 'stackoverflow'&quot;mycursor.execute(sql)mydb.commit()print(mycursor.rowcount, &quot; æ¡è®°å½•åˆ é™¤&quot;)# æ”¹sql = &quot;UPDATE sites SET name = 'ZH' WHERE name = 'Zhihu'&quot;mycursor.execute(sql)mydb.commit()print(mycursor.rowcount, &quot; æ¡è®°å½•è¢«ä¿®æ”¹&quot;) ç½‘ç»œç¼–ç¨‹123456789101112131415161718192021222324252627282930313233343536373839&quot;&quot;&quot;ç½‘ç»œç¼–ç¨‹&quot;&quot;&quot;# ä½çº§åˆ«çš„ç½‘ç»œæœåŠ¡æ”¯æŒåŸºæœ¬çš„ Socketï¼Œå®ƒæä¾›äº†æ ‡å‡†çš„ BSD Sockets APIï¼Œå¯ä»¥è®¿é—®åº•å±‚æ“ä½œç³»ç»Ÿ Socket æ¥å£çš„å…¨éƒ¨æ–¹æ³•ã€‚# é«˜çº§åˆ«çš„ç½‘ç»œæœåŠ¡æ¨¡å— SocketServerï¼Œ å®ƒæä¾›äº†æœåŠ¡å™¨ä¸­å¿ƒç±»ï¼Œå¯ä»¥ç®€åŒ–ç½‘ç»œæœåŠ¡å™¨çš„å¼€å‘ã€‚# socket()# socket.socket([family[, type[, proto]]])# family: å¥—æ¥å­—å®¶æ—å¯ä»¥ä½¿ AF_UNIX æˆ–è€… AF_INETã€‚# type:å¥—æ¥å­—ç±»å‹å¯ä»¥æ ¹æ®æ˜¯é¢å‘è¿æ¥çš„è¿˜æ˜¯éè¿æ¥åˆ†ä¸ºSOCK_STREAMæˆ–SOCK_DGRAMã€‚# protocol: ä¸€èˆ¬ä¸å¡«é»˜è®¤ä¸º 0ã€‚# Socket å¯¹è±¡(å†…å»º)æ–¹æ³•# å‡½æ•° æè¿°# æœåŠ¡å™¨ç«¯å¥—æ¥å­—-----------# s.bind() ç»‘å®šåœ°å€ï¼ˆhost,portï¼‰åˆ°å¥—æ¥å­—ï¼Œ åœ¨ AF_INETä¸‹ï¼Œä»¥å…ƒç»„ï¼ˆhost,portï¼‰çš„å½¢å¼è¡¨ç¤ºåœ°å€ã€‚# s.listen() å¼€å§‹ TCP ç›‘å¬ã€‚backlog æŒ‡å®šåœ¨æ‹’ç»è¿æ¥ä¹‹å‰ï¼Œæ“ä½œç³»ç»Ÿå¯ä»¥æŒ‚èµ·çš„æœ€å¤§è¿æ¥æ•°é‡ã€‚è¯¥å€¼è‡³å°‘ä¸º 1ï¼Œå¤§éƒ¨åˆ†åº”ç”¨ç¨‹åºè®¾ä¸º 5 å°±å¯ä»¥äº†ã€‚# s.accept() è¢«åŠ¨æ¥å—TCPå®¢æˆ·ç«¯è¿æ¥,(é˜»å¡å¼)ç­‰å¾…è¿æ¥çš„åˆ°æ¥# å®¢æˆ·ç«¯å¥—æ¥å­—-----------# s.connect() ä¸»åŠ¨åˆå§‹åŒ–TCPæœåŠ¡å™¨è¿æ¥ï¼Œã€‚ä¸€èˆ¬addressçš„æ ¼å¼ä¸ºå…ƒç»„ï¼ˆhostname,portï¼‰ï¼Œå¦‚æœè¿æ¥å‡ºé”™ï¼Œè¿”å›socket.erroré”™è¯¯ã€‚# s.connect_ex() connect()å‡½æ•°çš„æ‰©å±•ç‰ˆæœ¬,å‡ºé”™æ—¶è¿”å›å‡ºé”™ç ,è€Œä¸æ˜¯æŠ›å‡ºå¼‚å¸¸# å…¬å…±ç”¨é€”çš„å¥—æ¥å­—å‡½æ•°----------# s.recv() æ¥æ”¶ TCP æ•°æ®ï¼Œæ•°æ®ä»¥å­—ç¬¦ä¸²å½¢å¼è¿”å›ï¼Œbufsize æŒ‡å®šè¦æ¥æ”¶çš„æœ€å¤§æ•°æ®é‡ã€‚flag æä¾›æœ‰å…³æ¶ˆæ¯çš„å…¶ä»–ä¿¡æ¯ï¼Œé€šå¸¸å¯ä»¥å¿½ç•¥ã€‚# s.send() å‘é€ TCP æ•°æ®ï¼Œå°† string ä¸­çš„æ•°æ®å‘é€åˆ°è¿æ¥çš„å¥—æ¥å­—ã€‚è¿”å›å€¼æ˜¯è¦å‘é€çš„å­—èŠ‚æ•°é‡ï¼Œè¯¥æ•°é‡å¯èƒ½å°äº string çš„å­—èŠ‚å¤§å°ã€‚# s.sendall() å®Œæ•´å‘é€ TCP æ•°æ®ã€‚å°† string ä¸­çš„æ•°æ®å‘é€åˆ°è¿æ¥çš„å¥—æ¥å­—ï¼Œä½†åœ¨è¿”å›ä¹‹å‰ä¼šå°è¯•å‘é€æ‰€æœ‰æ•°æ®ã€‚æˆåŠŸè¿”å› Noneï¼Œå¤±è´¥åˆ™æŠ›å‡ºå¼‚å¸¸ã€‚# s.recvfrom() æ¥æ”¶ UDP æ•°æ®ï¼Œä¸ recv() ç±»ä¼¼ï¼Œä½†è¿”å›å€¼æ˜¯ï¼ˆdata,addressï¼‰ã€‚å…¶ä¸­ data æ˜¯åŒ…å«æ¥æ”¶æ•°æ®çš„å­—ç¬¦ä¸²ï¼Œaddress æ˜¯å‘é€æ•°æ®çš„å¥—æ¥å­—åœ°å€ã€‚# s.sendto() å‘é€ UDP æ•°æ®ï¼Œå°†æ•°æ®å‘é€åˆ°å¥—æ¥å­—ï¼Œaddress æ˜¯å½¢å¼ä¸ºï¼ˆipaddrï¼Œportï¼‰çš„å…ƒç»„ï¼ŒæŒ‡å®šè¿œç¨‹åœ°å€ã€‚è¿”å›å€¼æ˜¯å‘é€çš„å­—èŠ‚æ•°ã€‚# s.close() å…³é—­å¥—æ¥å­—# s.getpeername() è¿”å›è¿æ¥å¥—æ¥å­—çš„è¿œç¨‹åœ°å€ã€‚è¿”å›å€¼é€šå¸¸æ˜¯å…ƒç»„ï¼ˆipaddr,portï¼‰ã€‚# s.getsockname() è¿”å›å¥—æ¥å­—è‡ªå·±çš„åœ°å€ã€‚é€šå¸¸æ˜¯ä¸€ä¸ªå…ƒç»„(ipaddr,port)# s.setsockopt(level,optname,value) è®¾ç½®ç»™å®šå¥—æ¥å­—é€‰é¡¹çš„å€¼ã€‚# s.getsockopt(level,optname[.buflen]) è¿”å›å¥—æ¥å­—é€‰é¡¹çš„å€¼ã€‚# s.settimeout(timeout) è®¾ç½®å¥—æ¥å­—æ“ä½œçš„è¶…æ—¶æœŸï¼Œtimeoutæ˜¯ä¸€ä¸ªæµ®ç‚¹æ•°ï¼Œå•ä½æ˜¯ç§’ã€‚å€¼ä¸ºNoneè¡¨ç¤ºæ²¡æœ‰è¶…æ—¶æœŸã€‚ä¸€èˆ¬ï¼Œè¶…æ—¶æœŸåº”è¯¥åœ¨åˆšåˆ›å»ºå¥—æ¥å­—æ—¶è®¾ç½®ï¼Œå› ä¸ºå®ƒä»¬å¯èƒ½ç”¨äºè¿æ¥çš„æ“ä½œï¼ˆå¦‚connect()ï¼‰# s.gettimeout() è¿”å›å½“å‰è¶…æ—¶æœŸçš„å€¼ï¼Œå•ä½æ˜¯ç§’ï¼Œå¦‚æœæ²¡æœ‰è®¾ç½®è¶…æ—¶æœŸï¼Œåˆ™è¿”å›Noneã€‚# s.fileno() è¿”å›å¥—æ¥å­—çš„æ–‡ä»¶æè¿°ç¬¦ã€‚# s.setblocking(flag) å¦‚æœflagä¸º0ï¼Œåˆ™å°†å¥—æ¥å­—è®¾ä¸ºéé˜»å¡æ¨¡å¼ï¼Œå¦åˆ™å°†å¥—æ¥å­—è®¾ä¸ºé˜»å¡æ¨¡å¼ï¼ˆé»˜è®¤å€¼ï¼‰ã€‚éé˜»å¡æ¨¡å¼ä¸‹ï¼Œå¦‚æœè°ƒç”¨recv()æ²¡æœ‰å‘ç°ä»»ä½•æ•°æ®ï¼Œæˆ–send()è°ƒç”¨æ— æ³•ç«‹å³å‘é€æ•°æ®ï¼Œé‚£ä¹ˆå°†å¼•èµ·socket.errorå¼‚å¸¸ã€‚# s.makefile() åˆ›å»ºä¸€ä¸ªä¸è¯¥å¥—æ¥å­—ç›¸å…³è¿çš„æ–‡ä»¶ 123456789101112131415161718192021import socketimport sys# åˆ›å»º socket å¯¹è±¡s = socket.socket(socket.AF_INET, socket.SOCK_STREAM)# è·å–æœ¬åœ°ä¸»æœºåhost = socket.gethostname()# è®¾ç½®ç«¯å£å·port = 9999# è¿æ¥æœåŠ¡ï¼ŒæŒ‡å®šä¸»æœºå’Œç«¯å£s.connect((host, port))# æ¥æ”¶å°äº 1024 å­—èŠ‚çš„æ•°æ®msg = s.recv(1024)s.close()print (msg.decode('utf-8')) 123456789101112131415161718192021222324252627import socketimport sys# åˆ›å»º socket å¯¹è±¡serversocket = socket.socket( socket.AF_INET, socket.SOCK_STREAM)# è·å–æœ¬åœ°ä¸»æœºåhost = socket.gethostname()port = 9999# ç»‘å®šç«¯å£å·serversocket.bind((host, port))# è®¾ç½®æœ€å¤§è¿æ¥æ•°ï¼Œè¶…è¿‡åæ’é˜Ÿserversocket.listen(5)while True: # å»ºç«‹å®¢æˆ·ç«¯è¿æ¥ clientsocket, addr = serversocket.accept() print(&quot;è¿æ¥åœ°å€: %s&quot; % str(addr)) msg = 'æ¬¢è¿è®¿é—®èœé¸Ÿæ•™ç¨‹ï¼' + &quot;\\r\\n&quot; clientsocket.send(msg.encode('utf-8')) clientsocket.close() SMTP123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101&quot;&quot;&quot;SMTP&quot;&quot;&quot;# SMTPï¼ˆSimple Mail Transfer Protocolï¼‰å³ç®€å•é‚®ä»¶ä¼ è¾“åè®®,å®ƒæ˜¯ä¸€ç»„ç”¨äºç”±æºåœ°å€åˆ°ç›®çš„åœ°å€ä¼ é€é‚®ä»¶çš„è§„åˆ™ï¼Œç”±å®ƒæ¥æ§åˆ¶ä¿¡ä»¶çš„ä¸­è½¬æ–¹å¼ã€‚# pythonçš„smtplibæä¾›äº†ä¸€ç§å¾ˆæ–¹ä¾¿çš„é€”å¾„å‘é€ç”µå­é‚®ä»¶ã€‚å®ƒå¯¹smtpåè®®è¿›è¡Œäº†ç®€å•çš„å°è£…ã€‚# Pythonåˆ›å»º SMTP å¯¹è±¡è¯­æ³•å¦‚ä¸‹ï¼š# import smtplib# smtpObj = smtplib.SMTP( [host [, port [, local_hostname]]] )# å‚æ•°è¯´æ˜ï¼š# host: SMTP æœåŠ¡å™¨ä¸»æœºã€‚ ä½ å¯ä»¥æŒ‡å®šä¸»æœºçš„ipåœ°å€æˆ–è€…åŸŸåå¦‚:runoob.comï¼Œè¿™ä¸ªæ˜¯å¯é€‰å‚æ•°ã€‚# port: å¦‚æœä½ æä¾›äº† host å‚æ•°, ä½ éœ€è¦æŒ‡å®š SMTP æœåŠ¡ä½¿ç”¨çš„ç«¯å£å·ï¼Œä¸€èˆ¬æƒ…å†µä¸‹SMTPç«¯å£å·ä¸º25ã€‚# local_hostname: å¦‚æœSMTPåœ¨ä½ çš„æœ¬æœºä¸Šï¼Œä½ åªéœ€è¦æŒ‡å®šæœåŠ¡å™¨åœ°å€ä¸º localhost å³å¯ã€‚# Python SMTPå¯¹è±¡ä½¿ç”¨sendmailæ–¹æ³•å‘é€é‚®ä»¶ï¼Œè¯­æ³•å¦‚ä¸‹ï¼š# SMTP.sendmail(from_addr, to_addrs, msg[, mail_options, rcpt_options]# å‚æ•°è¯´æ˜ï¼š# from_addr: é‚®ä»¶å‘é€è€…åœ°å€ã€‚# to_addrs: å­—ç¬¦ä¸²åˆ—è¡¨ï¼Œé‚®ä»¶å‘é€åœ°å€ã€‚# msg: å‘é€æ¶ˆæ¯# è¿™é‡Œè¦æ³¨æ„ä¸€ä¸‹ç¬¬ä¸‰ä¸ªå‚æ•°ï¼Œmsgæ˜¯å­—ç¬¦ä¸²ï¼Œè¡¨ç¤ºé‚®ä»¶ã€‚æˆ‘ä»¬çŸ¥é“é‚®ä»¶ä¸€èˆ¬ç”±æ ‡é¢˜ï¼Œå‘ä¿¡äººï¼Œæ”¶ä»¶äººï¼Œé‚®ä»¶å†…å®¹ï¼Œé™„ä»¶ç­‰æ„æˆï¼Œå‘é€é‚®ä»¶çš„æ—¶å€™ï¼Œè¦æ³¨æ„msgçš„æ ¼å¼ã€‚è¿™ä¸ªæ ¼å¼å°±æ˜¯smtpåè®®ä¸­å®šä¹‰çš„æ ¼å¼ã€‚import smtplibfrom email.mime.image import MIMEImagefrom email.mime.multipart import MIMEMultipartfrom email.mime.text import MIMETextfrom email.header import Headermy_sender='714416426@qq.com' # å‘ä»¶äººé‚®ç®±è´¦å·my_pass = '11111111' # å‘ä»¶äººé‚®ç®±å¯†ç my_user='714416426@qq.com' # æ”¶ä»¶äººé‚®ç®±è´¦å·ï¼Œæˆ‘è¿™è¾¹å‘é€ç»™è‡ªå·±sender = 'from@runoob.com'receivers = ['714416426@qq.com'] # æ¥æ”¶é‚®ä»¶ï¼Œå¯è®¾ç½®ä¸ºä½ çš„QQé‚®ç®±æˆ–è€…å…¶ä»–é‚®ç®±msgRoot = MIMEMultipart('related')msgRoot['From'] = Header(&quot;èœé¸Ÿæ•™ç¨‹&quot;, 'utf-8')msgRoot['To'] = Header(&quot;æµ‹è¯•&quot;, 'utf-8')subject = 'Python SMTP é‚®ä»¶æµ‹è¯•'msgRoot['Subject'] = Header(subject, 'utf-8')# å‘é€htmlå†…å®¹mail_msg = &quot;&quot;&quot;&lt;p&gt;Python é‚®ä»¶å‘é€æµ‹è¯•...&lt;/p&gt;&lt;p&gt;&lt;a href=&quot;http://www.runoob.com&quot;&gt;è¿™æ˜¯ä¸€ä¸ªé“¾æ¥&lt;/a&gt;&lt;/p&gt;&quot;&quot;&quot;message = MIMEText(mail_msg, 'html', 'utf-8')# ä¸‰ä¸ªå‚æ•°ï¼šç¬¬ä¸€ä¸ªä¸ºæ–‡æœ¬å†…å®¹ï¼Œç¬¬äºŒä¸ª plain è®¾ç½®æ–‡æœ¬æ ¼å¼ï¼Œç¬¬ä¸‰ä¸ª utf-8 è®¾ç½®ç¼–ç message = MIMEText('Python é‚®ä»¶å‘é€æµ‹è¯•...', 'plain', 'utf-8')message['From'] = Header(&quot;èœé¸Ÿæ•™ç¨‹&quot;, 'utf-8') # å‘é€è€…message['To'] = Header(&quot;æµ‹è¯•&quot;, 'utf-8') # æ¥æ”¶è€…subject = 'Python SMTP é‚®ä»¶æµ‹è¯•'message['Subject'] = Header(subject, 'utf-8')# å‘é€å¸¦é™„ä»¶å†…å®¹# # æ„é€ é™„ä»¶1ï¼Œä¼ é€å½“å‰ç›®å½•ä¸‹çš„ test.txt æ–‡ä»¶# att1 = MIMEText(open('test.txt', 'rb').read(), 'base64', 'utf-8')# att1[&quot;Content-Type&quot;] = 'application/octet-stream'# # è¿™é‡Œçš„filenameå¯ä»¥ä»»æ„å†™ï¼Œå†™ä»€ä¹ˆåå­—ï¼Œé‚®ä»¶ä¸­æ˜¾ç¤ºä»€ä¹ˆåå­—# att1[&quot;Content-Disposition&quot;] = 'attachment; filename=&quot;test.txt&quot;'# message.attach(att1)## # æ„é€ é™„ä»¶2ï¼Œä¼ é€å½“å‰ç›®å½•ä¸‹çš„ runoob.txt æ–‡ä»¶# att2 = MIMEText(open('runoob.txt', 'rb').read(), 'base64', 'utf-8')# att2[&quot;Content-Type&quot;] = 'application/octet-stream'# att2[&quot;Content-Disposition&quot;] = 'attachment; filename=&quot;runoob.txt&quot;'# message.attach(att2)# æ–‡æœ¬ä¸­æ·»åŠ å›¾ç‰‡# msgAlternative = MIMEMultipart('alternative')# msgRoot.attach(msgAlternative)# mail_msg = &quot;&quot;&quot;# &lt;p&gt;Python é‚®ä»¶å‘é€æµ‹è¯•...&lt;/p&gt;# &lt;p&gt;&lt;a href=&quot;http://www.runoob.com&quot;&gt;èœé¸Ÿæ•™ç¨‹é“¾æ¥&lt;/a&gt;&lt;/p&gt;# &lt;p&gt;å›¾ç‰‡æ¼”ç¤ºï¼š&lt;/p&gt;# &lt;p&gt;&lt;img src=&quot;cid:image1&quot;&gt;&lt;/p&gt;# &quot;&quot;&quot;# msgAlternative.attach(MIMEText(mail_msg, 'html', 'utf-8'))## # æŒ‡å®šå›¾ç‰‡ä¸ºå½“å‰ç›®å½•# fp = open('test.png', 'rb')# msgImage = MIMEImage(fp.read())# fp.close()## # å®šä¹‰å›¾ç‰‡ IDï¼Œåœ¨ HTML æ–‡æœ¬ä¸­å¼•ç”¨# msgImage.add_header('Content-ID', '&lt;image1&gt;')# msgRoot.attach(msgImage)try: smtpObj = smtplib.SMTP('localhost') smtpObj.sendmail(my_sender, receivers, message.as_string()) print(&quot;é‚®ä»¶å‘é€æˆåŠŸ&quot;)except smtplib.SMTPException: print(&quot;Error: æ— æ³•å‘é€é‚®ä»¶&quot;) å¤šçº¿ç¨‹123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101&quot;&quot;&quot;å¤šçº¿ç¨‹ï¼šå‡½æ•°æˆ–è€…ç”¨ç±»æ¥åŒ…è£…çº¿ç¨‹å¯¹è±¡&quot;&quot;&quot;# å‡½æ•°å¼ï¼šè°ƒç”¨threadæ¨¡å—ä¸­çš„start_new_thread()å‡½æ•°æ¥äº§ç”Ÿæ–°çº¿ç¨‹ã€‚è¯­æ³•å¦‚ä¸‹:# thread.start_new_thread ( function, args[, kwargs] )# å‚æ•°è¯´æ˜:# function - çº¿ç¨‹å‡½æ•°ã€‚# args - ä¼ é€’ç»™çº¿ç¨‹å‡½æ•°çš„å‚æ•°,ä»–å¿…é¡»æ˜¯ä¸ªtupleç±»å‹ã€‚# kwargs - å¯é€‰å‚æ•°ã€‚# ä¸¤ä¸ªæ¨¡å—# _thread# threading(æ¨èä½¿ç”¨)import _threadimport time# ä¸ºçº¿ç¨‹å®šä¹‰ä¸€ä¸ªå‡½æ•°def print_time( threadName, delay): count = 0 while count &lt; 5: time.sleep(delay) count += 1 print (&quot;%s: %s&quot; % ( threadName, time.ctime(time.time()) ))# åˆ›å»ºä¸¤ä¸ªçº¿ç¨‹try: _thread.start_new_thread( print_time, (&quot;Thread-1&quot;, 2, ) ) _thread.start_new_thread( print_time, (&quot;Thread-2&quot;, 4, ) )except: print (&quot;Error: æ— æ³•å¯åŠ¨çº¿ç¨‹&quot;)while 1: pass# _thread æä¾›äº†ä½çº§åˆ«çš„ã€åŸå§‹çš„çº¿ç¨‹ä»¥åŠä¸€ä¸ªç®€å•çš„é”ï¼Œå®ƒç›¸æ¯”äº threading æ¨¡å—çš„åŠŸèƒ½è¿˜æ˜¯æ¯”è¾ƒæœ‰é™çš„ã€‚## threading æ¨¡å—é™¤äº†åŒ…å« _thread æ¨¡å—ä¸­çš„æ‰€æœ‰æ–¹æ³•å¤–ï¼Œè¿˜æä¾›çš„å…¶ä»–æ–¹æ³•ï¼š## threading.currentThread(): è¿”å›å½“å‰çš„çº¿ç¨‹å˜é‡ã€‚# threading.enumerate(): è¿”å›ä¸€ä¸ªåŒ…å«æ­£åœ¨è¿è¡Œçš„çº¿ç¨‹çš„listã€‚æ­£åœ¨è¿è¡ŒæŒ‡çº¿ç¨‹å¯åŠ¨åã€ç»“æŸå‰ï¼Œä¸åŒ…æ‹¬å¯åŠ¨å‰å’Œç»ˆæ­¢åçš„çº¿ç¨‹ã€‚# threading.activeCount(): è¿”å›æ­£åœ¨è¿è¡Œçš„çº¿ç¨‹æ•°é‡ï¼Œä¸len(threading.enumerate())æœ‰ç›¸åŒçš„ç»“æœã€‚# é™¤äº†ä½¿ç”¨æ–¹æ³•å¤–ï¼Œçº¿ç¨‹æ¨¡å—åŒæ ·æä¾›äº†Threadç±»æ¥å¤„ç†çº¿ç¨‹ï¼ŒThreadç±»æä¾›äº†ä»¥ä¸‹æ–¹æ³•:## run(): ç”¨ä»¥è¡¨ç¤ºçº¿ç¨‹æ´»åŠ¨çš„æ–¹æ³•ã€‚# start():å¯åŠ¨çº¿ç¨‹æ´»åŠ¨ã€‚# join([time]): ç­‰å¾…è‡³çº¿ç¨‹ä¸­æ­¢ã€‚è¿™é˜»å¡è°ƒç”¨çº¿ç¨‹ç›´è‡³çº¿ç¨‹çš„join() æ–¹æ³•è¢«è°ƒç”¨ä¸­æ­¢-æ­£å¸¸é€€å‡ºæˆ–è€…æŠ›å‡ºæœªå¤„ç†çš„å¼‚å¸¸-æˆ–è€…æ˜¯å¯é€‰çš„è¶…æ—¶å‘ç”Ÿã€‚# isAlive(): è¿”å›çº¿ç¨‹æ˜¯å¦æ´»åŠ¨çš„ã€‚# getName(): è¿”å›çº¿ç¨‹åã€‚# setName(): è®¾ç½®çº¿ç¨‹åã€‚import threadingexitFlag = 0class myThread (threading.Thread): def __init__(self, threadID, name, counter): threading.Thread.__init__(self) self.threadID = threadID self.name = name self.counter = counter def run(self): print (&quot;å¼€å§‹çº¿ç¨‹ï¼š&quot; + self.name) print_time(self.name, self.counter, 5) print (&quot;é€€å‡ºçº¿ç¨‹ï¼š&quot; + self.name)def print_time(threadName, delay, counter): while counter: if exitFlag: threadName.exit() time.sleep(delay) print (&quot;%s: %s&quot; % (threadName, time.ctime(time.time()))) counter -= 1# åˆ›å»ºæ–°çº¿ç¨‹thread1 = myThread(1, &quot;Thread-1&quot;, 1)thread2 = myThread(2, &quot;Thread-2&quot;, 2)# å¼€å¯æ–°çº¿ç¨‹thread1.start()thread2.start()thread1.join()thread2.join()print (&quot;é€€å‡ºä¸»çº¿ç¨‹&quot;)# çº¿ç¨‹åŒæ­¥# ä½¿ç”¨ Thread å¯¹è±¡çš„ Lock å’Œ Rlock å¯ä»¥å®ç°ç®€å•çš„çº¿ç¨‹åŒæ­¥ï¼Œè¿™ä¸¤ä¸ªå¯¹è±¡éƒ½æœ‰ acquire æ–¹æ³•å’Œ release æ–¹æ³•ï¼Œå¯¹äºé‚£äº›éœ€è¦æ¯æ¬¡åªå…è®¸ä¸€ä¸ªçº¿ç¨‹æ“ä½œçš„æ•°æ®ï¼Œå¯ä»¥å°†å…¶æ“ä½œæ”¾åˆ° acquire å’Œ release æ–¹æ³•ä¹‹é—´# çº¿ç¨‹ä¼˜å…ˆçº§é˜Ÿåˆ—ï¼ˆ Queueï¼‰# Python çš„ Queue æ¨¡å—ä¸­æä¾›äº†åŒæ­¥çš„ã€çº¿ç¨‹å®‰å…¨çš„é˜Ÿåˆ—ç±»ï¼ŒåŒ…æ‹¬FIFOï¼ˆå…ˆå…¥å…ˆå‡º)é˜Ÿåˆ—Queueï¼ŒLIFOï¼ˆåå…¥å…ˆå‡ºï¼‰é˜Ÿåˆ—LifoQueueï¼Œå’Œä¼˜å…ˆçº§é˜Ÿåˆ— PriorityQueueã€‚# è¿™äº›é˜Ÿåˆ—éƒ½å®ç°äº†é”åŸè¯­ï¼Œèƒ½å¤Ÿåœ¨å¤šçº¿ç¨‹ä¸­ç›´æ¥ä½¿ç”¨ï¼Œå¯ä»¥ä½¿ç”¨é˜Ÿåˆ—æ¥å®ç°çº¿ç¨‹é—´çš„åŒæ­¥ã€‚# Queue æ¨¡å—ä¸­çš„å¸¸ç”¨æ–¹æ³•:# Queue.qsize() è¿”å›é˜Ÿåˆ—çš„å¤§å°# Queue.empty() å¦‚æœé˜Ÿåˆ—ä¸ºç©ºï¼Œè¿”å›True,åä¹‹False# Queue.full() å¦‚æœé˜Ÿåˆ—æ»¡äº†ï¼Œè¿”å›True,åä¹‹False# Queue.full ä¸ maxsize å¤§å°å¯¹åº”# Queue.get([block[, timeout]])è·å–é˜Ÿåˆ—ï¼Œtimeoutç­‰å¾…æ—¶é—´# Queue.get_nowait() ç›¸å½“Queue.get(False)# Queue.put(item) å†™å…¥é˜Ÿåˆ—ï¼Œtimeoutç­‰å¾…æ—¶é—´# Queue.put_nowait(item) ç›¸å½“Queue.put(item, False)# Queue.task_done() åœ¨å®Œæˆä¸€é¡¹å·¥ä½œä¹‹åï¼ŒQueue.task_done()å‡½æ•°å‘ä»»åŠ¡å·²ç»å®Œæˆçš„é˜Ÿåˆ—å‘é€ä¸€ä¸ªä¿¡å·# Queue.join() å®é™…ä¸Šæ„å‘³ç€ç­‰åˆ°é˜Ÿåˆ—ä¸ºç©ºï¼Œå†æ‰§è¡Œåˆ«çš„æ“ä½œ urllib12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364&quot;&quot;&quot;urllib åº“ç”¨äºæ“ä½œç½‘é¡µ URLï¼Œå¹¶å¯¹ç½‘é¡µçš„å†…å®¹è¿›è¡ŒæŠ“å–å¤„ç†ã€‚&quot;&quot;&quot;# urllib.request - æ‰“å¼€å’Œè¯»å– URLã€‚# urllib.error - åŒ…å« urllib.request æŠ›å‡ºçš„å¼‚å¸¸ã€‚# urllib.parse - è§£æ URLã€‚# urllib.robotparser - è§£æ robots.txt æ–‡ä»¶# urllib.request.urlopen(url, data=None, [timeout, ]*, cafile=None, capath=None, cadefault=False, context=None)# urlï¼šurl åœ°å€ã€‚# dataï¼šå‘é€åˆ°æœåŠ¡å™¨çš„å…¶ä»–æ•°æ®å¯¹è±¡ï¼Œé»˜è®¤ä¸º Noneã€‚# timeoutï¼šè®¾ç½®è®¿é—®è¶…æ—¶æ—¶é—´ã€‚# cafile å’Œ capathï¼šcafile ä¸º CA è¯ä¹¦ï¼Œ capath ä¸º CA è¯ä¹¦çš„è·¯å¾„ï¼Œä½¿ç”¨ HTTPS éœ€è¦ç”¨åˆ°ã€‚# cadefaultï¼šå·²ç»è¢«å¼ƒç”¨ã€‚# contextï¼šssl.SSLContextç±»å‹ï¼Œç”¨æ¥æŒ‡å®š SSL è®¾ç½®ã€‚from urllib.request import urlopenmyURL = urlopen(&quot;https://www.runoob.com/&quot;)print(myURL.read())print(myURL.read(600))print(myURL.readline())lines = myURL.readlines()for line in lines: print(line)print(myURL.getcode())f = open(&quot;runoob_urllib_test.html&quot;, &quot;wb&quot;)content = myURL.read() # è¯»å–ç½‘é¡µå†…å®¹f.write(content)f.close()import urllib.requestencode_url = urllib.request.quote(&quot;https://www.runoob.com/&quot;) # ç¼–ç print(encode_url)unencode_url = urllib.request.unquote(encode_url) # è§£ç print(unencode_url)# æ¨¡æ‹Ÿå¤´éƒ¨ä¿¡æ¯# class urllib.request.Request(url, data=None, headers={}, origin_req_host=None, unverifiable=False, method=None)# urlï¼šurl åœ°å€ã€‚# dataï¼šå‘é€åˆ°æœåŠ¡å™¨çš„å…¶ä»–æ•°æ®å¯¹è±¡ï¼Œé»˜è®¤ä¸º Noneã€‚# headersï¼šHTTP è¯·æ±‚çš„å¤´éƒ¨ä¿¡æ¯ï¼Œå­—å…¸æ ¼å¼ã€‚# origin_req_hostï¼šè¯·æ±‚çš„ä¸»æœºåœ°å€ï¼ŒIP æˆ–åŸŸåã€‚# unverifiableï¼šå¾ˆå°‘ç”¨æ•´ä¸ªå‚æ•°ï¼Œç”¨äºè®¾ç½®ç½‘é¡µæ˜¯å¦éœ€è¦éªŒè¯ï¼Œé»˜è®¤æ˜¯Falseã€‚ã€‚# methodï¼šè¯·æ±‚æ–¹æ³•ï¼Œ å¦‚ GETã€POSTã€DELETEã€PUTç­‰ã€‚import urllib.parseurl = 'https://www.runoob.com/?s=' # èœé¸Ÿæ•™ç¨‹æœç´¢é¡µé¢keyword = 'Python æ•™ç¨‹'key_code = urllib.request.quote(keyword) # å¯¹è¯·æ±‚è¿›è¡Œç¼–ç url_all = url+key_codeheader = { 'User-Agent':'Mozilla/5.0 (X11; Fedora; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/58.0.3029.110 Safari/537.36'} #å¤´éƒ¨ä¿¡æ¯request = urllib.request.Request(url_all,headers=header)reponse = urllib.request.urlopen(request).read()fh = open(&quot;./urllib_test_runoob_search.html&quot;,&quot;wb&quot;) # å°†æ–‡ä»¶å†™å…¥åˆ°å½“å‰ç›®å½•ä¸­fh.write(reponse)fh.close() XMLè§£æ123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143&quot;&quot;&quot;XMLè§£æ&quot;&quot;&quot;# SAX æ˜¯ä¸€ç§åŸºäºäº‹ä»¶é©±åŠ¨çš„APIã€‚# åˆ©ç”¨ SAX è§£æ XML æ–‡æ¡£ç‰µæ¶‰åˆ°ä¸¤ä¸ªéƒ¨åˆ†: è§£æå™¨å’Œäº‹ä»¶å¤„ç†å™¨ã€‚# è§£æå™¨è´Ÿè´£è¯»å– XML æ–‡æ¡£ï¼Œå¹¶å‘äº‹ä»¶å¤„ç†å™¨å‘é€äº‹ä»¶ï¼Œå¦‚å…ƒç´ å¼€å§‹è·Ÿå…ƒç´ ç»“æŸäº‹ä»¶ã€‚# è€Œäº‹ä»¶å¤„ç†å™¨åˆ™è´Ÿè´£å¯¹äº‹ä»¶ä½œå‡ºå“åº”ï¼Œå¯¹ä¼ é€’çš„ XML æ•°æ®è¿›è¡Œå¤„ç†ã€‚# 1ã€å¯¹å¤§å‹æ–‡ä»¶è¿›è¡Œå¤„ç†ï¼›# 2ã€åªéœ€è¦æ–‡ä»¶çš„éƒ¨åˆ†å†…å®¹ï¼Œæˆ–è€…åªéœ€ä»æ–‡ä»¶ä¸­å¾—åˆ°ç‰¹å®šä¿¡æ¯ã€‚# 3ã€æƒ³å»ºç«‹è‡ªå·±çš„å¯¹è±¡æ¨¡å‹çš„æ—¶å€™ã€‚# åœ¨ Python ä¸­ä½¿ç”¨ sax æ–¹å¼å¤„ç† xml è¦å…ˆå¼•å…¥ xml.sax ä¸­çš„ parse å‡½æ•°ï¼Œè¿˜æœ‰ xml.sax.handler ä¸­çš„ ContentHandlerã€‚# ContentHandler ç±»æ–¹æ³•ä»‹ç»# characters(content) æ–¹æ³•# è°ƒç”¨æ—¶æœºï¼š# ä»è¡Œå¼€å§‹ï¼Œé‡åˆ°æ ‡ç­¾ä¹‹å‰ï¼Œå­˜åœ¨å­—ç¬¦ï¼Œcontent çš„å€¼ä¸ºè¿™äº›å­—ç¬¦ä¸²ã€‚# ä»ä¸€ä¸ªæ ‡ç­¾ï¼Œé‡åˆ°ä¸‹ä¸€ä¸ªæ ‡ç­¾ä¹‹å‰ï¼Œ å­˜åœ¨å­—ç¬¦ï¼Œcontent çš„å€¼ä¸ºè¿™äº›å­—ç¬¦ä¸²ã€‚# ä»ä¸€ä¸ªæ ‡ç­¾ï¼Œé‡åˆ°è¡Œç»“æŸç¬¦ä¹‹å‰ï¼Œå­˜åœ¨å­—ç¬¦ï¼Œcontent çš„å€¼ä¸ºè¿™äº›å­—ç¬¦ä¸²ã€‚# æ ‡ç­¾å¯ä»¥æ˜¯å¼€å§‹æ ‡ç­¾ï¼Œä¹Ÿå¯ä»¥æ˜¯ç»“æŸæ ‡ç­¾ã€‚# startDocument() æ–¹æ³•# æ–‡æ¡£å¯åŠ¨çš„æ—¶å€™è°ƒç”¨ã€‚# endDocument() æ–¹æ³•# è§£æå™¨åˆ°è¾¾æ–‡æ¡£ç»“å°¾æ—¶è°ƒç”¨ã€‚# startElement(name, attrs) æ–¹æ³•# é‡åˆ°XMLå¼€å§‹æ ‡ç­¾æ—¶è°ƒç”¨ï¼Œname æ˜¯æ ‡ç­¾çš„åå­—ï¼Œattrs æ˜¯æ ‡ç­¾çš„å±æ€§å€¼å­—å…¸ã€‚# endElement(name) æ–¹æ³•# é‡åˆ°XMLç»“æŸæ ‡ç­¾æ—¶è°ƒç”¨ã€‚# make_parser æ–¹æ³•# ä»¥ä¸‹æ–¹æ³•åˆ›å»ºä¸€ä¸ªæ–°çš„è§£æå™¨å¯¹è±¡å¹¶è¿”å›ã€‚# xml.sax.make_parser( [parser_list] )# å‚æ•°è¯´æ˜:# parser_list - å¯é€‰å‚æ•°ï¼Œè§£æå™¨åˆ—è¡¨# parser æ–¹æ³•# ä»¥ä¸‹æ–¹æ³•åˆ›å»ºä¸€ä¸ª SAX è§£æå™¨å¹¶è§£æxmlæ–‡æ¡£ï¼š# xml.sax.parse( xmlfile, contenthandler[, errorhandler])# å‚æ•°è¯´æ˜:# xmlfile - xmlæ–‡ä»¶å# contenthandler - å¿…é¡»æ˜¯ä¸€ä¸ª ContentHandler çš„å¯¹è±¡# errorhandler - å¦‚æœæŒ‡å®šè¯¥å‚æ•°ï¼Œerrorhandler å¿…é¡»æ˜¯ä¸€ä¸ª SAX ErrorHandler å¯¹è±¡# parseString æ–¹æ³•# parseString æ–¹æ³•åˆ›å»ºä¸€ä¸ª XML è§£æå™¨å¹¶è§£æ xml å­—ç¬¦ä¸²ï¼š# xml.sax.parseString(xmlstring, contenthandler[, errorhandler])# å‚æ•°è¯´æ˜:# xmlstring - xmlå­—ç¬¦ä¸²# contenthandler - å¿…é¡»æ˜¯ä¸€ä¸ª ContentHandler çš„å¯¹è±¡# errorhandler - å¦‚æœæŒ‡å®šè¯¥å‚æ•°ï¼Œerrorhandler å¿…é¡»æ˜¯ä¸€ä¸ª SAX ErrorHandlerå¯¹è±¡import xml.sax# from xml.dom.minidom import parse# import xml.dom.minidom# ä½¿ç”¨xml.domè§£æxml# æ–‡ä»¶å¯¹è±¡æ¨¡å‹ï¼ˆDocument Object Modelï¼Œç®€ç§°DOMï¼‰ï¼Œæ˜¯W3Cç»„ç»‡æ¨èçš„å¤„ç†å¯æ‰©å±•ç½®æ ‡è¯­è¨€çš„æ ‡å‡†ç¼–ç¨‹æ¥å£ã€‚# ä¸€ä¸ª DOM çš„è§£æå™¨åœ¨è§£æä¸€ä¸ª XML æ–‡æ¡£æ—¶ï¼Œä¸€æ¬¡æ€§è¯»å–æ•´ä¸ªæ–‡æ¡£ï¼ŒæŠŠæ–‡æ¡£ä¸­æ‰€æœ‰å…ƒç´ ä¿å­˜åœ¨å†…å­˜ä¸­çš„ä¸€ä¸ªæ ‘ç»“æ„é‡Œï¼Œä¹‹åä½ å¯ä»¥åˆ©ç”¨DOM æä¾›çš„ä¸åŒçš„å‡½æ•°æ¥è¯»å–æˆ–ä¿®æ”¹æ–‡æ¡£çš„å†…å®¹å’Œç»“æ„ï¼Œä¹Ÿå¯ä»¥æŠŠä¿®æ”¹è¿‡çš„å†…å®¹å†™å…¥xmlæ–‡ä»¶ã€‚# pythonä¸­ç”¨xml.dom.minidomæ¥è§£æxmlæ–‡ä»¶# ä½¿ç”¨minidomè§£æå™¨æ‰“å¼€ XML æ–‡æ¡£# DOMTree = xml.dom.minidom.parse(&quot;movies.xml&quot;)# collection = DOMTree.documentElement# if collection.hasAttribute(&quot;shelf&quot;):# print (&quot;Root element : %s&quot; % collection.getAttribute(&quot;shelf&quot;))## # åœ¨é›†åˆä¸­è·å–æ‰€æœ‰ç”µå½±# movies = collection.getElementsByTagName(&quot;movie&quot;)## # æ‰“å°æ¯éƒ¨ç”µå½±çš„è¯¦ç»†ä¿¡æ¯# for movie in movies:# print (&quot;*****Movie*****&quot;)# if movie.hasAttribute(&quot;title&quot;):# print (&quot;Title: %s&quot; % movie.getAttribute(&quot;title&quot;))## type = movie.getElementsByTagName('type')[0]# print (&quot;Type: %s&quot; % type.childNodes[0].data)# format = movie.getElementsByTagName('format')[0]# print (&quot;Format: %s&quot; % format.childNodes[0].data)# rating = movie.getElementsByTagName('rating')[0]# print (&quot;Rating: %s&quot; % rating.childNodes[0].data)# description = movie.getElementsByTagName('description')[0]# print (&quot;Description: %s&quot; % description.childNodes[0].data)class MovieHandler(xml.sax.ContentHandler): def __init__(self): self.CurrentData = &quot;&quot; self.type = &quot;&quot; self.format = &quot;&quot; self.year = &quot;&quot; self.rating = &quot;&quot; self.stars = &quot;&quot; self.description = &quot;&quot; # å…ƒç´ å¼€å§‹è°ƒç”¨ def startElement(self, tag, attributes): self.CurrentData = tag if tag == &quot;movie&quot;: print(&quot;*****Movie*****&quot;) title = attributes[&quot;title&quot;] print(&quot;Title:&quot;, title) # å…ƒç´ ç»“æŸè°ƒç”¨ def endElement(self, tag): if self.CurrentData == &quot;type&quot;: print(&quot;Type:&quot;, self.type) elif self.CurrentData == &quot;format&quot;: print(&quot;Format:&quot;, self.format) elif self.CurrentData == &quot;year&quot;: print(&quot;Year:&quot;, self.year) elif self.CurrentData == &quot;rating&quot;: print(&quot;Rating:&quot;, self.rating) elif self.CurrentData == &quot;stars&quot;: print(&quot;Stars:&quot;, self.stars) elif self.CurrentData == &quot;description&quot;: print(&quot;Description:&quot;, self.description) self.CurrentData = &quot;&quot; # è¯»å–å­—ç¬¦æ—¶è°ƒç”¨ def characters(self, content): if self.CurrentData == &quot;type&quot;: self.type = content elif self.CurrentData == &quot;format&quot;: self.format = content elif self.CurrentData == &quot;year&quot;: self.year = content elif self.CurrentData == &quot;rating&quot;: self.rating = content elif self.CurrentData == &quot;stars&quot;: self.stars = content elif self.CurrentData == &quot;description&quot;: self.description = contentif (__name__ == &quot;__main__&quot;): # åˆ›å»ºä¸€ä¸ª XMLReader parser = xml.sax.make_parser() # å…³é—­å‘½åç©ºé—´ parser.setFeature(xml.sax.handler.feature_namespaces, 0) # é‡å†™ ContextHandler Handler = MovieHandler() parser.setContentHandler(Handler) parser.parse(&quot;movies.xml&quot;) åº”ç”¨é¢†åŸŸ Web and Internet Development Database Access Desktop GUIs Scientific &amp; Numeric Education Network Programming Software &amp; Game Development çˆ¬è™«WEBå¼€å‘å›¾å½¢å¤„ç†æ·±åº¦å­¦ä¹ æ•°æ®åˆ†æ","link":"/2021/07/06/Draft/2021/Python3%E5%AD%A6%E4%B9%A0/"},{"title":"é­‘é­…å…ˆç”Ÿ | Redis","text":"ç®€ä»‹Redisï¼ˆRemote Dictionary Serverï¼‰è¿œç¨‹å­—å…¸æœåŠ¡ å…è´¹å¼€æºçš„ï¼ŒCè¯­è¨€ç¼–å†™ï¼Œæä¾›å¤šç§è¯­è¨€ä½¿ç”¨ï¼Œæ”¯æŒç½‘ç»œï¼Œå¯æŒä¹…åŒ–ï¼Œéµå®ˆ BSD åè®®ï¼Œæ˜¯ä¸€ä¸ªé«˜æ€§èƒ½çš„ key-value æ•°æ®åº“ã€‚ Redis ä¸å…¶ä»– key - value ç¼“å­˜äº§å“æœ‰ä»¥ä¸‹ä¸‰ä¸ªç‰¹ç‚¹ï¼š Redisæ”¯æŒæ•°æ®çš„æŒä¹…åŒ–ï¼Œå¯ä»¥å°†å†…å­˜ä¸­çš„æ•°æ®ä¿å­˜åœ¨ç£ç›˜ä¸­ï¼Œé‡å¯çš„æ—¶å€™å¯ä»¥å†æ¬¡åŠ è½½è¿›è¡Œä½¿ç”¨ã€‚Redisä¸ä»…ä»…æ”¯æŒç®€å•çš„key-valueç±»å‹çš„æ•°æ®ï¼ŒåŒæ—¶è¿˜æä¾›listï¼Œsetï¼Œzsetï¼Œhashç­‰æ•°æ®ç»“æ„çš„å­˜å‚¨ã€‚Redisæ”¯æŒæ•°æ®çš„å¤‡ä»½ï¼Œå³master-slaveæ¨¡å¼çš„æ•°æ®å¤‡ä»½ã€‚ å·¥å…·å‘½ä»¤æŸ¥è¯¢ å¸¸ç”¨ æ•°æ®ç±»å‹ String Hash List Set ZSet Geospatial Hyperloglog Bitmap ç‰¹ç‚¹ å­—ç¬¦ä¸²ï¼Œæ•´æ•°æˆ–æµ®ç‚¹æ•° åŒ…å«é”®ï¼ˆstring ï¼‰å€¼å¯¹çš„æ— åºæ•£åˆ—è¡¨ é“¾è¡¨ä¸Šçš„èŠ‚ç‚¹å­—ç¬¦ä¸²å…ƒç´  å„ä¸ç›¸åŒçš„å­—ç¬¦ä¸²å…ƒç´  å¸¦åˆ†æ•°çš„æœ‰åºé›†åˆ åœ°ç†ä½ç½® åŸºæ•°ç»Ÿè®¡ä¸å å†…å­˜è®°å½•ç½‘ç«™UV Bitmap ä½å›¾ï¼Œæ•°æ®ç»“æ„ï¼äºŒè¿›åˆ¶ä½è®°å½•ï¼Œ0 å’Œ 1 ä¸¤ä¸ªçŠ¶æ€ å¢ set hset lpushï¼Œrpush sadd zadd geoadd pfadd setbit å– get hget ï¼ˆå–å•ä¸ªï¼‰ lrangeå–åŒºé—´å€¼lpopå·¦å–rpop å³å– smembers å–æ‰€æœ‰ zscoreå•å– zrange èŒƒå›´å– zrevrange å‡åºå–zrangebyscore æ‰€æœ‰é™åºå–zrevrangebyscore æ‰€æœ‰å‡åºå– geoposgeodistï¼ˆä¸¤ç‚¹è·ç¦»ï¼‰georadiusï¼ˆç‚¹é™„è¿‘ç‚¹ï¼Œå¯æ•°é‡é™åˆ¶ï¼‰ åˆ  del hdel srem zrem å–æ—§æ”¹æ–° getset è‡ªå¢ incr ï¼ˆå¯æŒ‡å®š HINCRBYå¢åŠ æŒ‡å®šæ­¥é•¿ è‡ªå‡ decr ï¼ˆå¯æŒ‡å®š è¿½åŠ  append é•¿åº¦ strlen hlen llen zcard pfcountï¼ˆä¸é‡å¤æ•°é‡ï¼‰ bitcount(è®¡ç®—çŠ¶æ€æ•°é‡) æ‰¹é‡åŒæ—¶è®¾ç½®ä¸€ä¸ªæˆ–å¤šä¸ª key-value å¯¹ mset hmset è¿”å›æ‰€æœ‰ä¸€ä¸ªæˆ–å¤šä¸ªç»™å®š key çš„å€¼ mget hmget è·å–å¯¹è±¡ä¸­æ‰€æœ‰çš„é”®å€¼å¯¹ hgetall ï¼ˆå–æ‰€æœ‰ï¼‰ åˆ¤æ–­å…ƒç´ æ˜¯å¦å­˜åœ¨ hexists sismember è·å–å­—æ®µå hkeys è·å–å­—æ®µå€¼ hvals é›†åˆè¿ç®— sunion å¹¶é›†ï¼Œsinter äº¤é›†ï¼Œsdiff äº¤å·® pfmerge(åˆå¹¶) åº”ç”¨åœºæ™¯ Nosqlç”±æ¥å•æœºmysql mysql+ç¼“å­˜+å‚ç›´æ‹†åˆ† ä¸»ä»è¯»å†™åˆ†ç¦» åˆ†è¡¨åˆ†åº“+æ°´å¹³æ‹†åˆ†+mysqlé›†ç¾¤ ç°åœ¨ç”¨æˆ·ç¤¾äº¤ç½‘ç»œæ•°æ®æˆå€å¢é•¿ï¼Œsqléš¾ä»¥æ”¯æ’‘ ç®€ä»‹Redisï¼ˆRemote Dictionary Serverï¼‰è¿œç¨‹å­—å…¸æœåŠ¡ å…è´¹å¼€æºçš„ï¼ŒCè¯­è¨€ç¼–å†™ï¼Œæä¾›å¤šç§è¯­è¨€ä½¿ç”¨ï¼Œæ”¯æŒç½‘ç»œï¼Œå¯æŒä¹…åŒ–ï¼Œéµå®ˆ BSD åè®®ï¼Œæ˜¯ä¸€ä¸ªé«˜æ€§èƒ½çš„ key-value æ•°æ®åº“ã€‚ Redis ä¸å…¶ä»– key - value ç¼“å­˜äº§å“æœ‰ä»¥ä¸‹ä¸‰ä¸ªç‰¹ç‚¹ï¼š Redisæ”¯æŒæ•°æ®çš„æŒä¹…åŒ–ï¼Œå¯ä»¥å°†å†…å­˜ä¸­çš„æ•°æ®ä¿å­˜åœ¨ç£ç›˜ä¸­ï¼Œé‡å¯çš„æ—¶å€™å¯ä»¥å†æ¬¡åŠ è½½è¿›è¡Œä½¿ç”¨ã€‚Redisä¸ä»…ä»…æ”¯æŒç®€å•çš„key-valueç±»å‹çš„æ•°æ®ï¼ŒåŒæ—¶è¿˜æä¾›listï¼Œsetï¼Œzsetï¼Œhashç­‰æ•°æ®ç»“æ„çš„å­˜å‚¨ã€‚Redisæ”¯æŒæ•°æ®çš„å¤‡ä»½ï¼Œå³master-slaveæ¨¡å¼çš„æ•°æ®å¤‡ä»½ã€‚ Redis ä¼˜åŠ¿æ€§èƒ½æé«˜ â€“ Redisèƒ½è¯»çš„é€Ÿåº¦æ˜¯110000æ¬¡/s,å†™çš„é€Ÿåº¦æ˜¯81000æ¬¡/s ã€‚ä¸°å¯Œçš„æ•°æ®ç±»å‹ â€“ Redisæ”¯æŒäºŒè¿›åˆ¶æ¡ˆä¾‹çš„ Strings, Lists, Hashes, Sets åŠ Ordered Sets æ•°æ®ç±»å‹æ“ä½œã€‚åŸå­ â€“ Redisçš„æ‰€æœ‰æ“ä½œéƒ½æ˜¯åŸå­æ€§çš„ï¼Œæ„æ€å°±æ˜¯è¦ä¹ˆæˆåŠŸæ‰§è¡Œè¦ä¹ˆå¤±è´¥å®Œå…¨ä¸æ‰§è¡Œã€‚å•ä¸ªæ“ä½œæ˜¯åŸå­æ€§çš„ã€‚å¤šä¸ªæ“ä½œä¹Ÿæ”¯æŒäº‹åŠ¡ï¼Œå³åŸå­æ€§ï¼Œé€šè¿‡MULTIå’ŒEXECæŒ‡ä»¤åŒ…èµ·æ¥ã€‚ä¸°å¯Œçš„ç‰¹æ€§ â€“ Redisè¿˜æ”¯æŒ publish/subscribe, é€šçŸ¥, key è¿‡æœŸç­‰ç­‰ç‰¹æ€§ã€‚ Redisä¸å…¶ä»–key-valueå­˜å‚¨æœ‰ä»€ä¹ˆä¸åŒï¼ŸRedisæœ‰ç€æ›´ä¸ºå¤æ‚çš„æ•°æ®ç»“æ„å¹¶ä¸”æä¾›å¯¹ä»–ä»¬çš„åŸå­æ€§æ“ä½œï¼Œè¿™æ˜¯ä¸€ä¸ªä¸åŒäºå…¶ä»–æ•°æ®åº“çš„è¿›åŒ–è·¯å¾„ã€‚Redisçš„æ•°æ®ç±»å‹éƒ½æ˜¯åŸºäºåŸºæœ¬æ•°æ®ç»“æ„çš„åŒæ—¶å¯¹ç¨‹åºå‘˜é€æ˜ï¼Œæ— éœ€è¿›è¡Œé¢å¤–çš„æŠ½è±¡ã€‚ Redisè¿è¡Œåœ¨å†…å­˜ä¸­ä½†æ˜¯å¯ä»¥æŒä¹…åŒ–åˆ°ç£ç›˜ï¼Œæ‰€ä»¥åœ¨å¯¹ä¸åŒæ•°æ®é›†è¿›è¡Œé«˜é€Ÿè¯»å†™æ—¶éœ€è¦æƒè¡¡å†…å­˜ï¼Œå› ä¸ºæ•°æ®é‡ä¸èƒ½å¤§äºç¡¬ä»¶å†…å­˜ã€‚åœ¨å†…å­˜æ•°æ®åº“æ–¹é¢çš„å¦ä¸€ä¸ªä¼˜ç‚¹æ˜¯ï¼Œç›¸æ¯”åœ¨ç£ç›˜ä¸Šç›¸åŒçš„å¤æ‚çš„æ•°æ®ç»“æ„ï¼Œåœ¨å†…å­˜ä¸­æ“ä½œèµ·æ¥éå¸¸ç®€å•ï¼Œè¿™æ ·Rediså¯ä»¥åšå¾ˆå¤šå†…éƒ¨å¤æ‚æ€§å¾ˆå¼ºçš„äº‹æƒ…ã€‚åŒæ—¶ï¼Œåœ¨ç£ç›˜æ ¼å¼æ–¹é¢ä»–ä»¬æ˜¯ç´§å‡‘çš„ä»¥è¿½åŠ çš„æ–¹å¼äº§ç”Ÿçš„ï¼Œå› ä¸ºä»–ä»¬å¹¶ä¸éœ€è¦è¿›è¡Œéšæœºè®¿é—®ã€‚ redisçš„åº”ç”¨åœºæ™¯æœ‰å“ªäº› 1ã€ä¼šè¯é«˜é€Ÿç¼“å­˜ï¼ˆæœ€å¸¸ç”¨ï¼‰ 2ã€æ¶ˆæ¯é˜Ÿåˆ—ï¼Œæ¯”å¦‚æ”¯ä»˜ 3ã€æ´»åŠ¨æ’è¡Œæ¦œæˆ–è®¡æ•° 4ã€å‘å¸ƒã€è®¢é˜…æ¶ˆæ¯ï¼ˆæ¶ˆæ¯é€šçŸ¥ï¼‰ 5ã€å•†å“åˆ—è¡¨ã€è¯„è®ºåˆ—è¡¨ã€è®¡æ—¶å™¨ã€è®¡æ•°å™¨ 6ã€åœ°å›¾ä¿¡æ¯åˆ†æ 7ã€å†…å­˜å­˜å‚¨ã€æŒä¹…åŒ–ï¼ˆrdbï¼Œaofï¼‰ REmote DIctionary Serverï¼ˆè¿œç¨‹å­—å…¸æœåŠ¡å™¨ï¼‰ï¼Œå¼€æºï¼ŒCè¯­è¨€ç¼–å†™ NoSQLï¼ˆNot Only SQLï¼‰éå…³ç³»å‹æ•°æ®åº“ ä¸éœ€è¦å›ºå®šæ¨¡å¼ï¼Œæ— éœ€å¤šäºæ“ä½œå°±å¯ä»¥æ¨ªå‘æ“ä½œ 3V+3é«˜ å¤§æ•°æ®æ—¶ä»£3Vï¼ˆæè¿°é—®é¢˜ï¼‰ æµ·é‡Volume å¤šæ ·Variety å®æ—¶Velocity äº’è”ç½‘éœ€æ±‚3é«˜ï¼ˆå¯¹ç¨‹åºè¦æ±‚ï¼‰ é«˜å¹¶å‘ é«˜å¯æ‰© é«˜æ€§èƒ½ ç»å…¸åº”ç”¨ é˜¿é‡Œå·´å·´ å››å¤§åˆ†ç±» KVé”®å€¼å¯¹ æ–‡æ¡£å‹æ•°æ®åº“ åˆ—å­˜å‚¨æ•°æ®åº“ å›¾å…³ç³»æ•°æ®åº“ï¼ˆå›¾ç»“æ„ï¼‰ CAP Cï¼šConsistencyï¼ˆå¼ºä¸€è‡´æ€§ï¼‰ A:Availabilityï¼ˆå¯ç”¨æ€§ï¼‰ Pï¼šPartition toleranceï¼ˆåˆ†åŒºå®¹é”™æ€§ï¼‰ ä¸‰è¿›äºŒï¼ˆCå¿…å®ç°ï¼‰ CA å•ç‚¹é›†ç¾¤ï¼Œæ»¡è¶³ä¸€è‡´æ€§ CP AP BASE åŸºæœ¬å¯ç”¨ï¼ˆBasically Availableï¼‰ è½¯çŠ¶æ€ï¼ˆSoft stateï¼‰ æœ€ç»ˆä¸€è‡´æ€§ï¼ˆEventually consistentï¼‰ åˆ†å¸ƒå¼ä¸é›†ç¾¤ å­ä¸»é¢˜ 1 ACIDå…³ç³»å‹æ•°æ®åº“Redis å®‰è£…windowsä¼ä¸šé‡Œé¢å‡ ä¹ä¸ç”¨windowså¼€å‘Redis https://github.com/tporadowski/redis/releases redis-server.exe redis.windows.conf å¦å¯ä¸€ä¸ª cmd çª—å£ï¼ŒåŸæ¥çš„ä¸è¦å…³é—­ï¼Œä¸ç„¶å°±æ— æ³•è®¿é—®æœåŠ¡ç«¯äº†ï¼ˆå¯ç›´æ¥è®¾ç½®ä¸ºæœåŠ¡è‡ªå¯åŠ¨ï¼‰ redis-cli.exe -h 127.0.0.1 -p 6379 set myKey abc get myKey Linuxä¸‹è½½ == è§£å‹ï¼ˆoptï¼‰ == åŸºæœ¬ç¯å¢ƒå®‰è£…ã€yum install gcc-c++ã€‘== make == make install == redisé»˜è®¤å®‰è£…è·¯å¾„/usr/local/bin == æ‹·è´redisçš„confæ–‡ä»¶ä½¿ç”¨æ‹·è´é…ç½®æ–‡ä»¶å¯åŠ¨ == daemonizeæ”¹ä¸ºyesæ”¹ä¸ºåå°å¯åŠ¨ == å¯åŠ¨æœåŠ¡redis-server redisconfig/redis.conf == å®¢æˆ·ç«¯è¿æ¥ redis-cli -p 6379 == ping æµ‹è¯•è¿æ¥ === æŸ¥çœ‹redisè¿›ç¨‹æ˜¯å¦å¼€å¯ ps -ef|grep redis == shutdownå…³é—­æœåŠ¡ redis-benchmarkæ€§èƒ½æµ‹è¯•å¯é€‰å‚æ•°ï¼š æµ‹è¯•ï¼š100ä¸ªå¹¶å‘è¿æ¥ 100000è¯·æ±‚ redis-benchmark -h localhost -p 6379 -c 100 -n 100000 åŸºç¡€çŸ¥è¯†redisé»˜è®¤æœ‰16ä¸ªæ•°æ®åº“ é»˜è®¤ä½¿ç”¨çš„æ˜¯ç¬¬0ä¸ªå¯ä»¥ä½¿ç”¨ select è¿›è¡Œåˆ‡æ¢æ•°æ®åº“ï¼select 3 DBSIZE # æŸ¥çœ‹DBå¤§å°ï¼ keys * # æŸ¥çœ‹æ•°æ®åº“æ‰€æœ‰çš„key æ¸…é™¤å½“å‰æ•°æ®åº“ flushdbæ¸…é™¤å…¨éƒ¨æ•°æ®åº“çš„å†…å®¹ FLUSHALL Redis ä¸ºä»€ä¹ˆå•çº¿ç¨‹è¿˜è¿™ä¹ˆå¿«ï¼Ÿ1ã€è¯¯åŒº1ï¼šé«˜æ€§èƒ½çš„æœåŠ¡å™¨ä¸€å®šæ˜¯å¤šçº¿ç¨‹çš„ï¼Ÿ2ã€è¯¯åŒº2ï¼šå¤šçº¿ç¨‹ï¼ˆCPUä¸Šä¸‹æ–‡ä¼šåˆ‡æ¢ï¼ï¼‰ä¸€å®šæ¯”å•çº¿ç¨‹æ•ˆç‡é«˜ï¼å…ˆå»CPU&gt;å†…å­˜&gt;ç¡¬ç›˜çš„é€Ÿåº¦è¦æœ‰æ‰€äº†è§£ï¼æ ¸å¿ƒï¼šredis æ˜¯å°†æ‰€æœ‰çš„æ•°æ®å…¨éƒ¨æ”¾åœ¨å†…å­˜ä¸­çš„ï¼Œæ‰€ä»¥è¯´ä½¿ç”¨å•çº¿ç¨‹å»æ“ä½œæ•ˆç‡å°±æ˜¯æœ€é«˜çš„ï¼Œå¤šçº¿ç¨‹ï¼ˆCPUä¸Šä¸‹æ–‡ä¼šåˆ‡æ¢ï¼šè€—æ—¶çš„æ“ä½œï¼ï¼ï¼ï¼‰ï¼Œå¯¹äºå†…å­˜ç³»ç»Ÿæ¥è¯´ï¼Œå¦‚æœæ²¡æœ‰ä¸Šä¸‹æ–‡åˆ‡æ¢æ•ˆç‡å°±æ˜¯æœ€é«˜çš„ï¼å¤šæ¬¡è¯»å†™éƒ½æ˜¯åœ¨ä¸€ä¸ªCPUä¸Šçš„ï¼Œåœ¨å†…å­˜æƒ…å†µä¸‹ï¼Œè¿™ä¸ªå°±æ˜¯æœ€ä½³çš„æ–¹æ¡ˆï¼ Redis é…ç½®Redis çš„é…ç½®æ–‡ä»¶ä½äº Redis å®‰è£…ç›®å½•ä¸‹ï¼Œæ–‡ä»¶åä¸º redis.conf(Windows åä¸º redis.windows.conf)ã€‚ ä½ å¯ä»¥é€šè¿‡ CONFIG å‘½ä»¤æŸ¥çœ‹æˆ–è®¾ç½®é…ç½®é¡¹ã€‚ CONFIG GET CONFIG_SETTING_NAME CONFIG GET loglevel CONFIG GET * ç¼–è¾‘é…ç½® å¯ä»¥é€šè¿‡ä¿®æ”¹ redis.conf æ–‡ä»¶æˆ–ä½¿ç”¨ CONFIG set å‘½ä»¤æ¥ä¿®æ”¹é…ç½®ã€‚ CONFIG SET CONFIG_SETTING_NAME NEW_CONFIG_VALUE CONFIG SET loglevel â€œnoticeâ€ å‚æ•°è¯´æ˜redis.conf é…ç½®é¡¹è¯´æ˜å¦‚ä¸‹ï¼š https://www.runoob.com/redis/redis-conf.html Redis æ•°æ®ç±»å‹123456789101112131415161718192021222324252627282930313233343536373839404142434445464748127.0.0.1:6379&gt; keys * # æŸ¥çœ‹æ‰€æœ‰çš„key(empty list or set)127.0.0.1:6379&gt; set name kuangshen # set keyOK127.0.0.1:6379&gt; keys *1) &quot;name&quot;127.0.0.1:6379&gt; set age 1OK127.0.0.1:6379&gt; keys *1) &quot;age&quot;2) &quot;name&quot;127.0.0.1:6379&gt; EXISTS name # åˆ¤æ–­å½“å‰çš„keyæ˜¯å¦å­˜åœ¨(integer) 1127.0.0.1:6379&gt; EXISTS name1(integer) 0127.0.0.1:6379&gt; move name 1 # ç§»é™¤å½“å‰çš„key(integer) 1127.0.0.1:6379&gt; keys *1) &quot;age&quot;127.0.0.1:6379&gt; set name qinjiangOK127.0.0.1:6379&gt; keys *1) &quot;age&quot;2) &quot;name&quot;127.0.0.1:6379&gt; clear127.0.0.1:6379&gt; keys *1) &quot;age&quot;2) &quot;name&quot;127.0.0.1:6379&gt; get name&quot;qinjiang&quot;127.0.0.1:6379&gt; EXPIRE name 10 # è®¾ç½®keyçš„è¿‡æœŸæ—¶é—´ï¼Œå•ä½æ˜¯ç§’(integer) 1127.0.0.1:6379&gt; ttl name # æŸ¥çœ‹å½“å‰keyçš„å‰©ä½™æ—¶é—´(integer) 4127.0.0.1:6379&gt; ttl name(integer) 3127.0.0.1:6379&gt; ttl name(integer) 2127.0.0.1:6379&gt; ttl name(integer) 1127.0.0.1:6379&gt; ttl name(integer) -2127.0.0.1:6379&gt; get name(nil)127.0.0.1:6379&gt; type name # æŸ¥çœ‹å½“å‰keyçš„ä¸€ä¸ªç±»å‹ï¼string127.0.0.1:6379&gt; type agestring Stringï¼ˆå­—ç¬¦ä¸²ï¼‰ string æ˜¯ redis æœ€åŸºæœ¬çš„ç±»å‹ï¼Œä½ å¯ä»¥ç†è§£æˆä¸ Memcached ä¸€æ¨¡ä¸€æ ·çš„ç±»å‹ï¼Œä¸€ä¸ª key å¯¹åº”ä¸€ä¸ª valueã€‚ string ç±»å‹æ˜¯äºŒè¿›åˆ¶å®‰å…¨çš„ã€‚æ„æ€æ˜¯ redis çš„ string å¯ä»¥åŒ…å«ä»»ä½•æ•°æ®ã€‚æ¯”å¦‚jpgå›¾ç‰‡æˆ–è€…åºåˆ—åŒ–çš„å¯¹è±¡ã€‚ string ç±»å‹æ˜¯ Redis æœ€åŸºæœ¬çš„æ•°æ®ç±»å‹ï¼Œstring ç±»å‹çš„å€¼æœ€å¤§èƒ½å­˜å‚¨ 512MBã€‚ SET runoob â€œèœé¸Ÿæ•™ç¨‹â€ GET runoob 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132##########################################################################127.0.0.1:6379&gt; set key1 v1 # è®¾ç½®å€¼OK127.0.0.1:6379&gt; get key1 # è·å¾—å€¼&quot;v1&quot;127.0.0.1:6379&gt; keys * # è·å¾—æ‰€æœ‰çš„key1) &quot;key1&quot;127.0.0.1:6379&gt; EXISTS key1 # åˆ¤æ–­æŸä¸€ä¸ªkeyæ˜¯å¦å­˜åœ¨(integer) 1127.0.0.1:6379&gt; APPEND key1 &quot;hello&quot; # è¿½åŠ å­—ç¬¦ä¸²ï¼Œå¦‚æœå½“å‰keyä¸å­˜åœ¨ï¼Œå°±ç›¸å½“äºsetkey(integer) 7127.0.0.1:6379&gt; get key1&quot;v1hello&quot;127.0.0.1:6379&gt; STRLEN key1 # è·å–å­—ç¬¦ä¸²çš„é•¿åº¦ï¼(integer) 7127.0.0.1:6379&gt; APPEND key1 &quot;,kaungshen&quot;(integer) 17127.0.0.1:6379&gt; STRLEN key1(integer) 17127.0.0.1:6379&gt; get key1&quot;v1hello,kaungshen&quot;########################################################################### i++# æ­¥é•¿ i+=127.0.0.1:6379&gt; set views 0 # åˆå§‹æµè§ˆé‡ä¸º0OK127.0.0.1:6379&gt; get views&quot;0&quot;127.0.0.1:6379&gt; incr views # è‡ªå¢1 æµè§ˆé‡å˜ä¸º1(integer) 1127.0.0.1:6379&gt; incr views(integer) 2127.0.0.1:6379&gt; get views&quot;2&quot;127.0.0.1:6379&gt; decr views # è‡ªå‡1 æµè§ˆé‡-1(integer) 1127.0.0.1:6379&gt; decr views(integer) 0127.0.0.1:6379&gt; decr views(integer) -1127.0.0.1:6379&gt; get views&quot;-1&quot;127.0.0.1:6379&gt; INCRBY views 10 # å¯ä»¥è®¾ç½®æ­¥é•¿ï¼ŒæŒ‡å®šå¢é‡ï¼(integer) 9127.0.0.1:6379&gt; INCRBY views 10(integer) 19127.0.0.1:6379&gt; DECRBY views 5(integer) 14########################################################################### å­—ç¬¦ä¸²èŒƒå›´ range127.0.0.1:6379&gt; set key1 &quot;hello,kuangshen&quot; # è®¾ç½® key1 çš„å€¼OK127.0.0.1:6379&gt; get key1&quot;hello,kuangshen&quot;127.0.0.1:6379&gt; GETRANGE key1 0 3 # æˆªå–å­—ç¬¦ä¸² [0,3]&quot;hell&quot;127.0.0.1:6379&gt; GETRANGE key1 0 -1 # è·å–å…¨éƒ¨çš„å­—ç¬¦ä¸² å’Œ get keyæ˜¯ä¸€æ ·çš„&quot;hello,kuangshen&quot;# æ›¿æ¢ï¼127.0.0.1:6379&gt; set key2 abcdefgOK127.0.0.1:6379&gt; get key2&quot;abcdefg&quot;127.0.0.1:6379&gt; SETRANGE key2 1 xx # æ›¿æ¢æŒ‡å®šä½ç½®å¼€å§‹çš„å­—ç¬¦ä¸²ï¼(integer) 7127.0.0.1:6379&gt; get key2&quot;axxdefg&quot;########################################################################### setex (set with expire) # è®¾ç½®è¿‡æœŸæ—¶é—´# setnx (set if not exist) # ä¸å­˜åœ¨åœ¨è®¾ç½® ï¼ˆåœ¨åˆ†å¸ƒå¼é”ä¸­ä¼šå¸¸å¸¸ä½¿ç”¨ï¼ï¼‰127.0.0.1:6379&gt; setex key3 30 &quot;hello&quot; # è®¾ç½®key3 çš„å€¼ä¸º hello,30ç§’åè¿‡æœŸOK127.0.0.1:6379&gt; ttl key3(integer) 26127.0.0.1:6379&gt; get key3&quot;hello&quot;127.0.0.1:6379&gt; setnx mykey &quot;redis&quot; # å¦‚æœmykey ä¸å­˜åœ¨ï¼Œåˆ›å»ºmykey(integer) 1127.0.0.1:6379&gt; keys *1) &quot;key2&quot;2) &quot;mykey&quot;3) &quot;key1&quot;127.0.0.1:6379&gt; ttl key3(integer) -2127.0.0.1:6379&gt; setnx mykey &quot;MongoDB&quot; # å¦‚æœmykeyå­˜åœ¨ï¼Œåˆ›å»ºå¤±è´¥ï¼(integer) 0127.0.0.1:6379&gt; get mykey&quot;redis&quot;##########################################################################msetmget127.0.0.1:6379&gt; mset k1 v1 k2 v2 k3 v3 # åŒæ—¶è®¾ç½®å¤šä¸ªå€¼OK127.0.0.1:6379&gt; keys *1) &quot;k1&quot;2) &quot;k2&quot;3) &quot;k3&quot;127.0.0.1:6379&gt; mget k1 k2 k3 # åŒæ—¶è·å–å¤šä¸ªå€¼1) &quot;v1&quot;2) &quot;v2&quot;3) &quot;v3&quot;127.0.0.1:6379&gt; msetnx k1 v1 k4 v4 # msetnx æ˜¯ä¸€ä¸ªåŸå­æ€§çš„æ“ä½œï¼Œè¦ä¹ˆä¸€èµ·æˆåŠŸï¼Œè¦ä¹ˆä¸€èµ·å¤±è´¥ï¼(integer) 0127.0.0.1:6379&gt; get k4(nil)# å¯¹è±¡set user:1 {name:zhangsan,age:3} # è®¾ç½®ä¸€ä¸ªuser:1 å¯¹è±¡ å€¼ä¸º jsonå­—ç¬¦æ¥ä¿å­˜ä¸€ä¸ªå¯¹è±¡ï¼# è¿™é‡Œçš„keyæ˜¯ä¸€ä¸ªå·§å¦™çš„è®¾è®¡ï¼š user:{id}:{filed} , å¦‚æ­¤è®¾è®¡åœ¨Redisä¸­æ˜¯å®Œå…¨OKäº†ï¼127.0.0.1:6379&gt; mset user:1:name zhangsan user:1:age 2OK127.0.0.1:6379&gt; mget user:1:name user:1:age1) &quot;zhangsan&quot;2) &quot;2&quot;##########################################################################getset # å…ˆgetç„¶ååœ¨set127.0.0.1:6379&gt; getset db redis # å¦‚æœä¸å­˜åœ¨å€¼ï¼Œåˆ™è¿”å› nil(nil)127.0.0.1:6379&gt; get db&quot;redis127.0.0.1:6379&gt; getset db mongodb # å¦‚æœå­˜åœ¨å€¼ï¼Œè·å–åŸæ¥çš„å€¼ï¼Œå¹¶è®¾ç½®æ–°çš„å€¼&quot;redis&quot;127.0.0.1:6379&gt; get db&quot;mongodb&quot; æ•°æ®ç»“æ„æ˜¯ç›¸åŒçš„ï¼Stringç±»ä¼¼çš„ä½¿ç”¨åœºæ™¯ï¼švalueé™¤äº†æ˜¯æˆ‘ä»¬çš„å­—ç¬¦ä¸²è¿˜å¯ä»¥æ˜¯æˆ‘ä»¬çš„æ•°å­—ï¼è®¡æ•°å™¨ç»Ÿè®¡å¤šå•ä½çš„æ•°é‡ç²‰ä¸æ•°å¯¹è±¡ç¼“å­˜å­˜å‚¨ï¼ Hashï¼ˆå“ˆå¸Œï¼‰ Redis hash æ˜¯ä¸€ä¸ªé”®å€¼(key=&gt;value)å¯¹é›†åˆã€‚ Redis hash æ˜¯ä¸€ä¸ª string ç±»å‹çš„ field å’Œ value çš„æ˜ å°„è¡¨ï¼Œhash ç‰¹åˆ«é€‚åˆç”¨äºå­˜å‚¨å¯¹è±¡ã€‚ - DEL runoob ç”¨äºåˆ é™¤å‰é¢æµ‹è¯•ç”¨è¿‡çš„ keyï¼Œä¸ç„¶ä¼šæŠ¥é”™ï¼š(error) WRONGTYPE Operation against a key holding the wrong kind of value - HMSET è®¾ç½®äº†ä¸¤ä¸ª field=&gt;value å¯¹, HGET è·å–å¯¹åº” field å¯¹åº”çš„ valueã€‚ æ¯ä¸ª hash å¯ä»¥å­˜å‚¨ 232 -1 é”®å€¼å¯¹ï¼ˆ40å¤šäº¿ï¼‰ã€‚ HMSET runoob field1 â€œHelloâ€ field2 â€œWorldâ€ HGET runoob field1 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748Mapé›†åˆï¼Œkey-map! æ—¶å€™è¿™ä¸ªå€¼æ˜¯ä¸€ä¸ªmapé›†åˆï¼ æœ¬è´¨å’ŒStringç±»å‹æ²¡æœ‰å¤ªå¤§åŒºåˆ«ï¼Œè¿˜æ˜¯ä¸€ä¸ªç®€å•çš„key-vlaueï¼set myhash field kuangshen5) &quot;d&quot;##########################################################################127.0.0.1:6379&gt; hset myhash field1 kuangshen # setä¸€ä¸ªå…·ä½“ key-vlaue(integer) 1127.0.0.1:6379&gt; hget myhash field1 # è·å–ä¸€ä¸ªå­—æ®µå€¼&quot;kuangshen&quot;127.0.0.1:6379&gt; hmset myhash field1 hello field2 world # setå¤šä¸ª key-vlaueOK127.0.0.1:6379&gt; hmget myhash field1 field2 # è·å–å¤šä¸ªå­—æ®µå€¼1) &quot;hello&quot;2) &quot;world&quot;127.0.0.1:6379&gt; hgetall myhash # è·å–å…¨éƒ¨çš„æ•°æ®ï¼Œ1) &quot;field1&quot;2) &quot;hello&quot;3) &quot;field2&quot;4) &quot;world&quot;127.0.0.1:6379&gt; hdel myhash field1 # åˆ é™¤hashæŒ‡å®škeyå­—æ®µï¼å¯¹åº”çš„valueå€¼ä¹Ÿå°±æ¶ˆå¤±äº†ï¼(integer) 1127.0.0.1:6379&gt; hgetall myhash1) &quot;field2&quot;2) &quot;world&quot;##########################################################################hlen127.0.0.1:6379&gt; hmset myhash field1 hello field2 worldOK127.0.0.1:6379&gt; HGETALL myhash1) &quot;field2&quot;2) &quot;world&quot;3) &quot;field1&quot;4) &quot;hello&quot;127.0.0.1:6379&gt; hlen myhash # è·å–hashè¡¨çš„å­—æ®µæ•°é‡ï¼(integer) 2##########################################################################127.0.0.1:6379&gt; HEXISTS myhash field1 # åˆ¤æ–­hashä¸­æŒ‡å®šå­—æ®µæ˜¯å¦å­˜åœ¨ï¼(integer) 1127.0.0.1:6379&gt; HEXISTS myhash field3(integer) 0########################################################################### åªè·å¾—æ‰€æœ‰field# åªè·å¾—æ‰€æœ‰value127.0.0.1:6379&gt; hkeys myhash # åªè·å¾—æ‰€æœ‰field1) &quot;field2&quot;2) &quot;field1&quot;hashå˜æ›´çš„æ•°æ® user name age,å°¤å…¶æ˜¯æ˜¯ç”¨æˆ·ä¿¡æ¯ä¹‹ç±»çš„ï¼Œç»å¸¸å˜åŠ¨çš„ä¿¡æ¯ï¼ hash æ›´é€‚åˆäºå¯¹è±¡çš„å­˜å‚¨ï¼ŒStringæ›´åŠ é€‚åˆå­—ç¬¦ä¸²å­˜å‚¨ï¼ Listï¼ˆåˆ—è¡¨ï¼‰ Redis åˆ—è¡¨æ˜¯ç®€å•çš„å­—ç¬¦ä¸²åˆ—è¡¨ï¼ŒæŒ‰ç…§æ’å…¥é¡ºåºæ’åºã€‚ä½ å¯ä»¥æ·»åŠ ä¸€ä¸ªå…ƒç´ åˆ°åˆ—è¡¨çš„å¤´éƒ¨ï¼ˆå·¦è¾¹ï¼‰æˆ–è€…å°¾éƒ¨ï¼ˆå³è¾¹ï¼‰ã€‚ åˆ—è¡¨æœ€å¤šå¯å­˜å‚¨ 232 - 1 å…ƒç´  (4294967295, æ¯ä¸ªåˆ—è¡¨å¯å­˜å‚¨40å¤šäº¿)ã€‚ lpush runoob redis lpush runoob mongodb lrange runoob 0 10 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180åŸºæœ¬çš„æ•°æ®ç±»å‹ï¼Œåˆ—è¡¨127.0.0.1:6379&gt; msetnx k1 v1 k4 v4 # msetnx æ˜¯ä¸€ä¸ªåŸå­æ€§çš„æ“ä½œï¼Œè¦ä¹ˆä¸€èµ·æˆåŠŸï¼Œè¦ä¹ˆä¸€èµ·å¤±è´¥ï¼(integer) 0127.0.0.1:6379&gt; get k4(nil)# å¯¹è±¡set user:1 {name:zhangsan,age:3} # è®¾ç½®ä¸€ä¸ªuser:1 å¯¹è±¡ å€¼ä¸º jsonå­—ç¬¦æ¥ä¿å­˜ä¸€ä¸ªå¯¹è±¡ï¼# è¿™é‡Œçš„keyæ˜¯ä¸€ä¸ªå·§å¦™çš„è®¾è®¡ï¼š user:{id}:{filed} , å¦‚æ­¤è®¾è®¡åœ¨Redisä¸­æ˜¯å®Œå…¨OKäº†ï¼127.0.0.1:6379&gt; mset user:1:name zhangsan user:1:age 2OK127.0.0.1:6379&gt; mget user:1:name user:1:age1) &quot;zhangsan&quot;2) &quot;2&quot;##########################################################################getset # å…ˆgetç„¶ååœ¨set127.0.0.1:6379&gt; getset db redis # å¦‚æœä¸å­˜åœ¨å€¼ï¼Œåˆ™è¿”å› nil(nil)127.0.0.1:6379&gt; get db&quot;redis127.0.0.1:6379&gt; getset db mongodb # å¦‚æœå­˜åœ¨å€¼ï¼Œè·å–åŸæ¥çš„å€¼ï¼Œå¹¶è®¾ç½®æ–°çš„å€¼&quot;redis&quot;127.0.0.1:6379&gt; get db&quot;mongodb&quot;åœ¨redisé‡Œé¢ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠlistç©æˆ ï¼Œæ ˆã€é˜Ÿåˆ—ã€é˜»å¡é˜Ÿåˆ—ï¼æ‰€æœ‰çš„listå‘½ä»¤éƒ½æ˜¯ç”¨lå¼€å¤´çš„ï¼ŒRedisä¸åŒºåˆ†å¤§å°å‘½ä»¤##########################################################################127.0.0.1:6379&gt; LPUSH list one # å°†ä¸€ä¸ªå€¼æˆ–è€…å¤šä¸ªå€¼ï¼Œæ’å…¥åˆ°åˆ—è¡¨å¤´éƒ¨ ï¼ˆå·¦ï¼‰(integer) 1127.0.0.1:6379&gt; LPUSH list two(integer) 2127.0.0.1:6379&gt; LPUSH list three(integer) 3127.0.0.1:6379&gt; LRANGE list 0 -1 # è·å–listä¸­å€¼ï¼1) &quot;three&quot;2) &quot;two&quot;3) &quot;one&quot;127.0.0.1:6379&gt; LRANGE list 0 1 # é€šè¿‡åŒºé—´è·å–å…·ä½“çš„å€¼ï¼1) &quot;three&quot;2) &quot;two&quot;127.0.0.1:6379&gt; Rpush list righr # å°†ä¸€ä¸ªå€¼æˆ–è€…å¤šä¸ªå€¼ï¼Œæ’å…¥åˆ°åˆ—è¡¨ä½éƒ¨ ï¼ˆå³ï¼‰(integer) 4127.0.0.1:6379&gt; LRANGE list 0 -11) &quot;three&quot;2) &quot;two&quot;3) &quot;one&quot;4) &quot;righr&quot;##########################################################################LPOPRPOP127.0.0.1:6379&gt; LRANGE list 0 -11) &quot;three&quot;2) &quot;two&quot;3) &quot;one&quot;4) &quot;righr&quot;127.0.0.1:6379&gt; Lpop list # ç§»é™¤listçš„ç¬¬ä¸€ä¸ªå…ƒç´ &quot;three&quot;127.0.0.1:6379&gt; Rpop list # ç§»é™¤listçš„æœ€åä¸€ä¸ªå…ƒç´ &quot;righr&quot;127.0.0.1:6379&gt; LRANGE list 0 -11) &quot;two&quot;2) &quot;one&quot;##########################################################################Lindex127.0.0.1:6379&gt; LRANGE list 0 -11) &quot;two&quot;2) &quot;one&quot;127.0.0.1:6379&gt; lindex list 1 # é€šè¿‡ä¸‹æ ‡è·å¾— list ä¸­çš„æŸä¸€ä¸ªå€¼ï¼&quot;one&quot;127.0.0.1:6379&gt; lindex list 0&quot;two&quot;##########################################################################Llen127.0.0.1:6379&gt; Lpush list one(integer) 1127.0.0.1:6379&gt; Lpush list two(integer) 2127.0.0.1:6379&gt; Lpush list three(integer) 3127.0.0.1:6379&gt; Llen list # è¿”å›åˆ—è¡¨çš„é•¿åº¦(integer) 3##########################################################################ç§»é™¤æŒ‡å®šçš„å€¼ï¼å–å…³ uidLrem127.0.0.1:6379&gt; LRANGE list 0 -11) &quot;three&quot;2) &quot;three&quot;3) &quot;two&quot;4) &quot;one&quot;127.0.0.1:6379&gt; lrem list 1 one # ç§»é™¤listé›†åˆä¸­æŒ‡å®šä¸ªæ•°çš„valueï¼Œç²¾ç¡®åŒ¹é…(integer) 1127.0.0.1:6379&gt; LRANGE list 0 -11) &quot;three&quot;2) &quot;three&quot;3) &quot;two&quot;127.0.0.1:6379&gt; lrem list 1 three(integer) 1127.0.0.1:6379&gt; LRANGE list 0 -11) &quot;three&quot;2) &quot;two&quot;127.0.0.1:6379&gt; Lpush list three(integer) 3127.0.0.1:6379&gt; lrem list 2 three(integer) 2127.0.0.1:6379&gt; LRANGE list 0 -11) &quot;two&quot;##########################################################################trim ä¿®å‰ªã€‚ï¼› list æˆªæ–­!127.0.0.1:6379&gt; keys *(empty list or set)127.0.0.1:6379&gt; Rpush mylist &quot;hello&quot;(integer) 1127.0.0.1:6379&gt; Rpush mylist &quot;hello1&quot;(integer) 2127.0.0.1:6379&gt; Rpush mylist &quot;hello2&quot;(integer) 3127.0.0.1:6379&gt; Rpush mylist &quot;hello3&quot;(integer) 4127.0.0.1:6379&gt; ltrim mylist 1 2 # é€šè¿‡ä¸‹æ ‡æˆªå–æŒ‡å®šçš„é•¿åº¦ï¼Œè¿™ä¸ªlistå·²ç»è¢«æ”¹å˜äº†ï¼Œæˆªæ–­äº†åªå‰©ä¸‹æˆªå–çš„å…ƒç´ ï¼OK127.0.0.1:6379&gt; LRANGE mylist 0 -11) &quot;hello1&quot;2) &quot;hello2&quot;##########################################################################rpoplpush # ç§»é™¤åˆ—è¡¨çš„æœ€åä¸€ä¸ªå…ƒç´ ï¼Œå°†ä»–ç§»åŠ¨åˆ°æ–°çš„åˆ—è¡¨ä¸­ï¼127.0.0.1:6379&gt; rpush mylist &quot;hello&quot;(integer) 1127.0.0.1:6379&gt; rpush mylist &quot;hello1&quot;(integer) 2127.0.0.1:6379&gt; rpush mylist &quot;hello2&quot;(integer) 3127.0.0.1:6379&gt; rpoplpush mylist myotherlist # ç§»é™¤åˆ—è¡¨çš„æœ€åä¸€ä¸ªå…ƒç´ ï¼Œå°†ä»–ç§»åŠ¨åˆ°æ–°çš„åˆ—è¡¨ä¸­ï¼&quot;hello2&quot;127.0.0.1:6379&gt; lrange mylist 0 -1 # æŸ¥çœ‹åŸæ¥çš„åˆ—è¡¨1) &quot;hello&quot;2) &quot;hello1&quot;127.0.0.1:6379&gt; lrange myotherlist 0 -1 # æŸ¥çœ‹ç›®æ ‡åˆ—è¡¨ä¸­ï¼Œç¡®å®å­˜åœ¨æ”¹å€¼ï¼1) &quot;hello2&quot;##########################################################################lset å°†åˆ—è¡¨ä¸­æŒ‡å®šä¸‹æ ‡çš„å€¼æ›¿æ¢ä¸ºå¦å¤–ä¸€ä¸ªå€¼ï¼Œæ›´æ–°æ“ä½œ127.0.0.1:6379&gt; EXISTS list # åˆ¤æ–­è¿™ä¸ªåˆ—è¡¨æ˜¯å¦å­˜åœ¨(integer) 0127.0.0.1:6379&gt; lset list 0 item # å¦‚æœä¸å­˜åœ¨åˆ—è¡¨æˆ‘ä»¬å»æ›´æ–°å°±ä¼šæŠ¥é”™(error) ERR no such key127.0.0.1:6379&gt; lpush list value1(integer) 1127.0.0.1:6379&gt; LRANGE list 0 01) &quot;value1&quot;127.0.0.1:6379&gt; lset list 0 item # å¦‚æœå­˜åœ¨ï¼Œæ›´æ–°å½“å‰ä¸‹æ ‡çš„å€¼OK127.0.0.1:6379&gt; LRANGE list 0 01) &quot;item&quot;127.0.0.1:6379&gt; lset list 1 other # å¦‚æœä¸å­˜åœ¨ï¼Œåˆ™ä¼šæŠ¥é”™ï¼(error) ERR index out of range##########################################################################linsert # å°†æŸä¸ªå…·ä½“çš„valueæ’å…¥åˆ°åˆ—æŠŠä½ ä¸­æŸä¸ªå…ƒç´ çš„å‰é¢æˆ–è€…åé¢ï¼127.0.0.1:6379&gt; Rpush mylist &quot;hello&quot;(integer) 1127.0.0.1:6379&gt; Rpush mylist &quot;world&quot;(integer) 2127.0.0.1:6379&gt; LINSERT mylist before &quot;world&quot; &quot;other&quot;(integer) 3127.0.0.1:6379&gt; LRANGE mylist 0 -11) &quot;hello&quot;2) &quot;other&quot;3) &quot;world&quot;127.0.0.1:6379&gt; LINSERT mylist after world new(integer) 4127.0.0.1:6379&gt; LRANGE mylist 0 -11) &quot;hello&quot;2) &quot;other&quot;3) &quot;world&quot;4) &quot;new&quot;å°ç»“ä»–å®é™…ä¸Šæ˜¯ä¸€ä¸ªé“¾è¡¨ï¼Œbefore Node after ï¼Œ leftï¼Œright éƒ½å¯ä»¥æ’å…¥å€¼å¦‚æœkey ä¸å­˜åœ¨ï¼Œåˆ›å»ºæ–°çš„é“¾è¡¨å¦‚æœkeyå­˜åœ¨ï¼Œæ–°å¢å†…å®¹ Setï¼ˆé›†åˆï¼‰ Redis çš„ Set æ˜¯ string ç±»å‹çš„æ— åºé›†åˆã€‚ é›†åˆæ˜¯é€šè¿‡å“ˆå¸Œè¡¨å®ç°çš„ï¼Œæ‰€ä»¥æ·»åŠ ï¼Œåˆ é™¤ï¼ŒæŸ¥æ‰¾çš„å¤æ‚åº¦éƒ½æ˜¯ O(1)ã€‚ sadd å‘½ä»¤æ·»åŠ ä¸€ä¸ª string å…ƒç´ åˆ° key å¯¹åº”çš„ set é›†åˆä¸­ï¼ŒæˆåŠŸè¿”å› 1ï¼Œå¦‚æœå…ƒç´ å·²ç»åœ¨é›†åˆä¸­è¿”å› 0ã€‚ sadd key member é›†åˆä¸­æœ€å¤§çš„æˆå‘˜æ•°ä¸º 232 - 1(4294967295, æ¯ä¸ªé›†åˆå¯å­˜å‚¨40å¤šäº¿ä¸ªæˆå‘˜)ã€‚ sadd runoob redis smembers runoob 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101setä¸­çš„å€¼æ˜¯ä¸èƒ½é‡è¯»çš„ï¼##########################################################################127.0.0.1:6379&gt; sadd myset &quot;hello&quot; # seté›†åˆä¸­æ·»åŠ åŒ€é€Ÿ(integer) 1127.0.0.1:6379&gt; sadd myset &quot;kuangshen&quot;(integer) 1127.0.0.1:6379&gt; sadd myset &quot;lovekuangshen&quot;(integer) 1127.0.0.1:6379&gt; SMEMBERS myset # æŸ¥çœ‹æŒ‡å®šsetçš„æ‰€æœ‰å€¼1) &quot;hello&quot;2) &quot;lovekuangshen&quot;3) &quot;kuangshen&quot;127.0.0.1:6379&gt; SISMEMBER myset hello # åˆ¤æ–­æŸä¸€ä¸ªå€¼æ˜¯ä¸æ˜¯åœ¨seté›†åˆä¸­ï¼(integer) 1127.0.0.1:6379&gt; SISMEMBER myset world(integer) 0##########################################################################127.0.0.1:6379&gt; scard myset # è·å–seté›†åˆä¸­çš„å†…å®¹å…ƒç´ ä¸ªæ•°ï¼(integer) 4##########################################################################rem127.0.0.1:6379&gt; srem myset hello # ç§»é™¤seté›†åˆä¸­çš„æŒ‡å®šå…ƒç´ (integer) 1127.0.0.1:6379&gt; scard myset(integer) 3127.0.0.1:6379&gt; SMEMBERS myset1) &quot;lovekuangshen2&quot;2) &quot;lovekuangshen&quot;3) &quot;kuangshen&quot;##########################################################################set æ— åºä¸é‡å¤é›†åˆã€‚æŠ½éšæœºï¼127.0.0.1:6379&gt; SMEMBERS myset1) &quot;lovekuangshen2&quot;2) &quot;lovekuangshen&quot;3) &quot;kuangshen&quot;127.0.0.1:6379&gt; SRANDMEMBER myset # éšæœºæŠ½é€‰å‡ºä¸€ä¸ªå…ƒç´ &quot;kuangshen&quot;127.0.0.1:6379&gt; SRANDMEMBER myset&quot;kuangshen&quot;127.0.0.1:6379&gt; SRANDMEMBER myset&quot;kuangshen&quot;127.0.0.1:6379&gt; SRANDMEMBER myset&quot;kuangshen&quot;127.0.0.1:6379&gt; SRANDMEMBER myset 2 # éšæœºæŠ½é€‰å‡ºæŒ‡å®šä¸ªæ•°çš„å…ƒç´ 1) &quot;lovekuangshen&quot;2) &quot;lovekuangshen2&quot;127.0.0.1:6379&gt; SRANDMEMBER myset 21) &quot;lovekuangshen&quot;2) &quot;lovekuangshen2&quot;127.0.0.1:6379&gt; SRANDMEMBER myset # éšæœºæŠ½é€‰å‡ºä¸€ä¸ªå…ƒç´ &quot;lovekuangshen2&quot;##########################################################################åˆ é™¤å®šçš„keyï¼Œéšæœºåˆ é™¤keyï¼127.0.0.1:6379&gt; SMEMBERS myset1) &quot;lovekuangshen2&quot;2) &quot;lovekuangshen&quot;3) &quot;kuangshen&quot;127.0.0.1:6379&gt; spop myset # éšæœºåˆ é™¤ä¸€äº›seté›†åˆä¸­çš„å…ƒç´ ï¼&quot;lovekuangshen2&quot;127.0.0.1:6379&gt; spop myset&quot;lovekuangshen&quot;127.0.0.1:6379&gt; SMEMBERS myset1) &quot;kuangshen&quot;##########################################################################å°†ä¸€ä¸ªæŒ‡å®šçš„å€¼ï¼Œç§»åŠ¨åˆ°å¦å¤–ä¸€ä¸ªseté›†åˆï¼127.0.0.1:6379&gt; sadd myset &quot;hello&quot;(integer) 1127.0.0.1:6379&gt; sadd myset &quot;world&quot;(integer) 1127.0.0.1:6379&gt; sadd myset &quot;kuangshen&quot;(integer) 1127.0.0.1:6379&gt; sadd myset2 &quot;set2&quot;(integer) 1127.0.0.1:6379&gt; smove myset myset2 &quot;kuangshen&quot; # å°†ä¸€ä¸ªæŒ‡å®šçš„å€¼ï¼Œç§»åŠ¨åˆ°å¦å¤–ä¸€ä¸ªseté›†åˆï¼(integer) 1127.0.0.1:6379&gt; SMEMBERS myset1) &quot;world&quot;2) &quot;hello&quot;127.0.0.1:6379&gt; SMEMBERS myset21) &quot;kuangshen&quot;2) &quot;set2&quot;##########################################################################å¾®åšï¼ŒBç«™ï¼Œå…±åŒå…³æ³¨ï¼(å¹¶é›†)æ•°å­—é›†åˆç±»ï¼š- å·®é›† SDIFF- äº¤é›†- å¹¶é›†127.0.0.1:6379&gt; SDIFF key1 key2 # å·®é›†1) &quot;b&quot;2) &quot;a&quot;127.0.0.1:6379&gt; SINTER key1 key2 # äº¤é›† å…±åŒå¥½å‹å°±å¯ä»¥è¿™æ ·å®ç°1) &quot;c&quot;127.0.0.1:6379&gt; SUNION key1 key2 # å¹¶é›†1) &quot;b&quot;2) &quot;c&quot;3) &quot;e&quot;4) &quot;a&quot;å¾®åšï¼ŒAç”¨æˆ·å°†æ‰€æœ‰å…³æ³¨çš„äººæ”¾åœ¨ä¸€ä¸ªseté›†åˆä¸­ï¼å°†å®ƒçš„ç²‰ä¸ä¹Ÿæ”¾åœ¨ä¸€ä¸ªé›†åˆä¸­ï¼å…±åŒå…³æ³¨ï¼Œå…±åŒçˆ±å¥½ï¼ŒäºŒåº¦å¥½å‹ï¼Œæ¨èå¥½å‹ï¼ï¼ˆå…­åº¦åˆ†å‰²ç†è®ºï¼‰ ZSet(æœ‰åºé›†åˆ) Redis zset (sorted setï¼šæœ‰åºé›†åˆ)å’Œ set ä¸€æ ·ä¹Ÿæ˜¯stringç±»å‹å…ƒç´ çš„é›†åˆ,ä¸”ä¸å…è®¸é‡å¤çš„æˆå‘˜ã€‚ä¸åŒçš„æ˜¯æ¯ä¸ªå…ƒç´ éƒ½ä¼šå…³è”ä¸€ä¸ªdoubleç±»å‹çš„åˆ†æ•°ã€‚redisæ­£æ˜¯é€šè¿‡åˆ†æ•°æ¥ä¸ºé›†åˆä¸­çš„æˆå‘˜è¿›è¡Œä»å°åˆ°å¤§çš„æ’åºã€‚ zsetçš„æˆå‘˜æ˜¯å”¯ä¸€çš„,ä½†åˆ†æ•°(score)å´å¯ä»¥é‡å¤ã€‚ zadd å‘½ä»¤æ·»åŠ å…ƒç´ åˆ°é›†åˆï¼Œå…ƒç´ åœ¨é›†åˆä¸­å­˜åœ¨åˆ™æ›´æ–°å¯¹åº”score zadd key score member zadd runoob 0 redis ZRANGEBYSCORE runoob 0 1000 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879åœ¨setçš„åŸºç¡€ä¸Šï¼Œå¢åŠ äº†ä¸€ä¸ªå€¼ï¼Œset k1 v1 zset k1 score1 v1127.0.0.1:6379&gt; hvals myhash # åªè·å¾—æ‰€æœ‰value1) &quot;world&quot;2) &quot;hello&quot;##########################################################################incr decr127.0.0.1:6379&gt; hset myhash field3 5 #æŒ‡å®šå¢é‡ï¼(integer) 1127.0.0.1:6379&gt; HINCRBY myhash field3 1(integer) 6127.0.0.1:6379&gt; HINCRBY myhash field3 -1(integer) 5127.0.0.1:6379&gt; hsetnx myhash field4 hello # å¦‚æœä¸å­˜åœ¨åˆ™å¯ä»¥è®¾ç½®(integer) 1127.0.0.1:6379&gt; hsetnx myhash field4 world # å¦‚æœå­˜åœ¨åˆ™ä¸èƒ½è®¾ç½®(integer) 0127.0.0.1:6379&gt; zadd myset 1 one # æ·»åŠ ä¸€ä¸ªå€¼(integer) 1127.0.0.1:6379&gt; zadd myset 2 two 3 three # æ·»åŠ å¤šä¸ªå€¼(integer) 2127.0.0.1:6379&gt; ZRANGE myset 0 -11) &quot;one&quot;2) &quot;two&quot;3) &quot;three&quot;##########################################################################æ’åºå¦‚ä½•å®ç°127.0.0.1:6379&gt; zadd salary 2500 xiaohong # æ·»åŠ ä¸‰ä¸ªç”¨æˆ·(integer) 1127.0.0.1:6379&gt; zadd salary 5000 zhangsan(integer) 1127.0.0.1:6379&gt; zadd salary 500 kaungshen(integer) 1# ZRANGEBYSCORE key min max127.0.0.1:6379&gt; ZRANGEBYSCORE salary -inf +inf # æ˜¾ç¤ºå…¨éƒ¨çš„ç”¨æˆ· ä»å°åˆ°å¤§ï¼1) &quot;kaungshen&quot;2) &quot;xiaohong&quot;3) &quot;zhangsan&quot;127.0.0.1:6379&gt; ZREVRANGE salary 0 -1 # ä»å¤§åˆ°è¿›è¡Œæ’åºï¼1) &quot;zhangsan&quot;2) &quot;kaungshen&quot;127.0.0.1:6379&gt; ZRANGEBYSCORE salary -inf +inf withscores # æ˜¾ç¤ºå…¨éƒ¨çš„ç”¨æˆ·å¹¶ä¸”é™„å¸¦æˆç»©1) &quot;kaungshen&quot;2) &quot;500&quot;3) &quot;xiaohong&quot;4) &quot;2500&quot;5) &quot;zhangsan&quot;6) &quot;5000&quot;127.0.0.1:6379&gt; ZRANGEBYSCORE salary -inf 2500 withscores # æ˜¾ç¤ºå·¥èµ„å°äº2500å‘˜å·¥çš„å‡åºæ’åºï¼1) &quot;kaungshen&quot;2) &quot;500&quot;3) &quot;xiaohong&quot;4) &quot;2500&quot;########################################################################### ç§»é™¤remä¸­çš„å…ƒç´ 127.0.0.1:6379&gt; zrange salary 0 -11) &quot;kaungshen&quot;2) &quot;xiaohong&quot;3) &quot;zhangsan&quot;127.0.0.1:6379&gt; zrem salary xiaohong # ç§»é™¤æœ‰åºé›†åˆä¸­çš„æŒ‡å®šå…ƒç´ (integer) 1127.0.0.1:6379&gt; zrange salary 0 -11) &quot;kaungshen&quot;2) &quot;zhangsan&quot;127.0.0.1:6379&gt; zcard salary # è·å–æœ‰åºé›†åˆä¸­çš„ä¸ªæ•°(integer) 2##########################################################################127.0.0.1:6379&gt; zadd myset 1 hello(integer) 1127.0.0.1:6379&gt; zadd myset 2 world 3 kuangshen(integer) 2127.0.0.1:6379&gt; zcount myset 1 3 # è·å–æŒ‡å®šåŒºé—´çš„æˆå‘˜æ•°é‡ï¼(integer) 3127.0.0.1:6379&gt; zcount myset 1 2(integer) 2æ¡ˆä¾‹æ€è·¯ï¼šset æ’åº å­˜å‚¨ç­çº§æˆç»©è¡¨ï¼Œå·¥èµ„è¡¨æ’åºï¼æ™®é€šæ¶ˆæ¯ï¼Œ1ï¼Œ é‡è¦æ¶ˆæ¯ 2ï¼Œå¸¦æƒé‡è¿›è¡Œåˆ¤æ–­ï¼æ’è¡Œæ¦œåº”ç”¨å®ç°ï¼Œå–Top N æµ‹è¯•ï¼ Geospatial åœ°ç†ä½ç½®123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119æœ‹å‹çš„å®šä½ï¼Œé™„è¿‘çš„äººï¼Œæ‰“è½¦è·ç¦»è®¡ç®—ï¼ŸRedis çš„ Geo åœ¨Redis3.2 ç‰ˆæœ¬å°±æ¨å‡ºäº†ï¼ è¿™ä¸ªåŠŸèƒ½å¯ä»¥æ¨ç®—åœ°ç†ä½ç½®çš„ä¿¡æ¯ï¼Œä¸¤åœ°ä¹‹é—´çš„è·ç¦»ï¼Œæ–¹åœ†å‡ é‡Œçš„äººï¼å¯ä»¥æŸ¥è¯¢ä¸€äº›æµ‹è¯•æ•°æ®ï¼šhttp://www.jsons.cn/lngcodeinfo/0706D99C19A781A3/åªæœ‰ å…­ä¸ªå‘½ä»¤ï¼š4) &quot;2500&quot;5) &quot;zhangsan&quot;6) &quot;5000&quot;127.0.0.1:6379&gt; ZRANGEBYSCORE salary -inf 2500 withscores # æ˜¾ç¤ºå·¥èµ„å°äº2500å‘˜å·¥çš„å‡åºæ’åºï¼1) &quot;kaungshen&quot;2) &quot;500&quot;3) &quot;xiaohong&quot;4) &quot;2500&quot;########################################################################### ç§»é™¤remä¸­çš„å…ƒç´ 127.0.0.1:6379&gt; zrange salary 0 -11) &quot;kaungshen&quot;2) &quot;xiaohong&quot;3) &quot;zhangsan&quot;127.0.0.1:6379&gt; zrem salary xiaohong # ç§»é™¤æœ‰åºé›†åˆä¸­çš„æŒ‡å®šå…ƒç´ (integer) 1127.0.0.1:6379&gt; zrange salary 0 -11) &quot;kaungshen&quot;2) &quot;zhangsan&quot;127.0.0.1:6379&gt; zcard salary # è·å–æœ‰åºé›†åˆä¸­çš„ä¸ªæ•°(integer) 2##########################################################################127.0.0.1:6379&gt; zadd myset 1 hello(integer) 1127.0.0.1:6379&gt; zadd myset 2 world 3 kuangshen(integer) 2127.0.0.1:6379&gt; zcount myset 1 3 # è·å–æŒ‡å®šåŒºé—´çš„æˆå‘˜æ•°é‡ï¼(integer) 3127.0.0.1:6379&gt; zcount myset 1 2(integer) 2å®˜æ–¹æ–‡æ¡£ï¼šhttps://www.redis.net.cn/order/3685.htmlgetaddgetposè·å¾—å½“å‰å®šä½ï¼šä¸€å®šæ˜¯ä¸€ä¸ªåæ ‡å€¼ï¼GEODIST# getadd æ·»åŠ åœ°ç†ä½ç½®# è§„åˆ™ï¼šä¸¤çº§æ— æ³•ç›´æ¥æ·»åŠ ï¼Œæˆ‘ä»¬ä¸€èˆ¬ä¼šä¸‹è½½åŸå¸‚æ•°æ®ï¼Œç›´æ¥é€šè¿‡javaç¨‹åºä¸€æ¬¡æ€§å¯¼å…¥ï¼# æœ‰æ•ˆçš„ç»åº¦ä»-180åº¦åˆ°180åº¦ã€‚# æœ‰æ•ˆçš„çº¬åº¦ä»-85.05112878åº¦åˆ°85.05112878åº¦ã€‚# å½“åæ ‡ä½ç½®è¶…å‡ºä¸Šè¿°æŒ‡å®šèŒƒå›´æ—¶ï¼Œè¯¥å‘½ä»¤å°†ä¼šè¿”å›ä¸€ä¸ªé”™è¯¯ã€‚# 127.0.0.1:6379&gt; geoadd china:city 39.90 116.40 beijin(error) ERR invalid longitude,latitude pair 39.900000,116.400000# å‚æ•° key å€¼ï¼ˆï¼‰127.0.0.1:6379&gt; geoadd china:city 116.40 39.90 beijing(integer) 1127.0.0.1:6379&gt; geoadd china:city 121.47 31.23 shanghai(integer) 1127.0.0.1:6379&gt; geoadd china:city 106.50 29.53 chongqi 114.05 22.52 shengzhen(integer) 2127.0.0.1:6379&gt; geoadd china:city 120.16 30.24 hangzhou 108.96 34.26 xian(integer) 2127.0.0.1:6379&gt; GEOPOS china:city beijing # è·å–æŒ‡å®šçš„åŸå¸‚çš„ç»åº¦å’Œçº¬åº¦ï¼1) 1) &quot;116.39999896287918091&quot;2) &quot;39.90000009167092543&quot;127.0.0.1:6379&gt; GEOPOS china:city beijing chongqi1) 1) &quot;116.39999896287918091&quot;2) &quot;39.90000009167092543&quot;2) 1) &quot;106.49999767541885376&quot;2) &quot;29.52999957900659211&quot;ä¸¤äººä¹‹é—´çš„è·ç¦»ï¼å•ä½ï¼šm è¡¨ç¤ºå•ä½ä¸ºç±³ã€‚km è¡¨ç¤ºå•ä½ä¸ºåƒç±³ã€‚mi è¡¨ç¤ºå•ä½ä¸ºè‹±é‡Œã€‚ft è¡¨ç¤ºå•ä½ä¸ºè‹±å°ºã€‚georadius ä»¥ç»™å®šçš„ç»çº¬åº¦ä¸ºä¸­å¿ƒï¼Œ æ‰¾å‡ºæŸä¸€åŠå¾„å†…çš„å…ƒç´ æˆ‘é™„è¿‘çš„äººï¼Ÿ ï¼ˆè·å¾—æ‰€æœ‰é™„è¿‘çš„äººçš„åœ°å€ï¼Œå®šä½ï¼ï¼‰é€šè¿‡åŠå¾„æ¥æŸ¥è¯¢ï¼è·å¾—æŒ‡å®šæ•°é‡çš„äººï¼Œ200æ‰€æœ‰æ•°æ®åº”è¯¥éƒ½å½•å…¥ï¼šchina:city ï¼Œæ‰ä¼šè®©ç»“æœæ›´åŠ è¯·æ±‚ï¼127.0.0.1:6379&gt; GEODIST china:city beijing shanghai km # æŸ¥çœ‹ä¸Šæµ·åˆ°åŒ—äº¬çš„ç›´çº¿è·ç¦»&quot;1067.3788&quot;127.0.0.1:6379&gt; GEODIST china:city beijing chongqi km # æŸ¥çœ‹é‡åº†åˆ°åŒ—äº¬çš„ç›´çº¿è·ç¦»&quot;1464.0708&quot;127.0.0.1:6379&gt; GEORADIUS china:city 110 30 1000 km # ä»¥110ï¼Œ30 è¿™ä¸ªç»çº¬åº¦ä¸ºä¸­å¿ƒï¼Œå¯»æ‰¾æ–¹åœ†1000kmå†…çš„åŸå¸‚1) &quot;chongqi&quot;2) &quot;xian&quot;3) &quot;shengzhen&quot;4) &quot;hangzhou&quot;127.0.0.1:6379&gt; GEORADIUS china:city 110 30 500 km1) &quot;chongqi&quot;2) &quot;xian&quot;127.0.0.1:6379&gt; GEORADIUS china:city 110 30 500 km withdist # æ˜¾ç¤ºåˆ°ä¸­é—´è·ç¦»çš„ä½ç½®1) 1) &quot;chongqi&quot;2) &quot;341.9374&quot;2) 1) &quot;xian&quot;2) &quot;483.8340&quot;127.0.0.1:6379&gt; GEORADIUS china:city 110 30 500 km withcoord # æ˜¾ç¤ºä»–äººçš„å®šä½ä¿¡æ¯1) 1) &quot;chongqi&quot;2) 1) &quot;106.49999767541885376&quot;2) &quot;29.52999957900659211&quot;2) 1) &quot;xian&quot;2) 1) &quot;108.96000176668167114&quot;2) &quot;34.25999964418929977&quot;127.0.0.1:6379&gt; GEORADIUS china:city 110 30 500 km withdist withcoord count 1 #ç­›é€‰å‡ºæŒ‡å®šçš„ç»“æœï¼1) 1) &quot;chongqi&quot;2) &quot;341.9374&quot;3) 1) &quot;106.49999767541885376&quot;2) &quot;29.52999957900659211&quot;127.0.0.1:6379&gt; GEORADIUS china:city 110 30 500 km withdist withcoord count 21) 1) &quot;chongqi&quot;2) &quot;341.9374&quot;3) 1) &quot;106.49999767541885376&quot;2) &quot;29.52999957900659211&quot;2) 1) &quot;xian&quot;2) &quot;483.8340&quot;3) 1) &quot;108.96000176668167114&quot;2) &quot;34.25999964418929977&quot;GEORADIUSBYMEMBERGEOHASH å‘½ä»¤ - è¿”å›ä¸€ä¸ªæˆ–å¤šä¸ªä½ç½®å…ƒç´ çš„ Geohash è¡¨ç¤ºè¯¥å‘½ä»¤å°†è¿”å›11ä¸ªå­—ç¬¦çš„Geohashå­—ç¬¦ä¸²!GEO åº•å±‚çš„å®ç°åŸç†å…¶å®å°±æ˜¯ Zsetï¼æˆ‘ä»¬å¯ä»¥ä½¿ç”¨Zsetå‘½ä»¤æ¥æ“ä½œgeoï¼ Hyperloglogä»€ä¹ˆæ˜¯åŸºæ•°ï¼ŸA {1,3,5,7,8,7} B{1ï¼Œ3,5,7,8} åŸºæ•°ï¼ˆä¸é‡å¤çš„å…ƒç´ ï¼‰ = 5ï¼Œå¯ä»¥æ¥å—è¯¯å·®ï¼ ç®€ä»‹Redis 2.8.9 ç‰ˆæœ¬å°±æ›´æ–°äº† Hyperloglog æ•°æ®ç»“æ„ï¼ Redis Hyperloglog åŸºæ•°ç»Ÿè®¡çš„ç®—æ³•ï¼ ä¼˜ç‚¹ï¼šå ç”¨çš„å†…å­˜æ˜¯å›ºå®šï¼Œ2^64 ä¸åŒçš„å…ƒç´ çš„æŠ€æœ¯ï¼Œåªéœ€è¦åºŸ 12KBå†…å­˜ï¼å¦‚æœè¦ä»å†…å­˜è§’åº¦æ¥æ¯”è¾ƒçš„è¯ Hyperloglog é¦–é€‰ï¼ç½‘é¡µçš„ UV ï¼ˆä¸€ä¸ªäººè®¿é—®ä¸€ä¸ªç½‘ç«™å¤šæ¬¡ï¼Œä½†æ˜¯è¿˜æ˜¯ç®—ä½œä¸€ä¸ªäººï¼ï¼‰ä¼ ç»Ÿçš„æ–¹å¼ï¼Œ set ä¿å­˜ç”¨æˆ·çš„idï¼Œç„¶åå°±å¯ä»¥ç»Ÿè®¡ set ä¸­çš„å…ƒç´ æ•°é‡ä½œä¸ºæ ‡å‡†åˆ¤æ–­ !è¿™ä¸ªæ–¹å¼å¦‚æœä¿å­˜å¤§é‡çš„ç”¨æˆ·idï¼Œå°±ä¼šæ¯”è¾ƒéº»çƒ¦ï¼æˆ‘ä»¬çš„ç›®çš„æ˜¯ä¸ºäº†è®¡æ•°ï¼Œè€Œä¸æ˜¯ä¿å­˜ç”¨æˆ·idï¼›0.81% é”™è¯¯ç‡ï¼ ç»Ÿè®¡UVä»»åŠ¡ï¼Œå¯ä»¥å¿½ç•¥ä¸è®¡çš„ï¼ æµ‹è¯•ä½¿ç”¨1234567891011121314127.0.0.1:6379&gt; PFadd mykey a b c d e f g h i j # åˆ›å»ºç¬¬ä¸€ç»„å…ƒç´  mykey(integer) 1127.0.0.1:6379&gt; PFCOUNT mykey # ç»Ÿè®¡ mykey å…ƒç´ çš„åŸºæ•°æ•°é‡(integer) 10127.0.0.1:6379&gt; PFadd mykey2 i j z x c v b n m # åˆ›å»ºç¬¬äºŒç»„å…ƒç´  mykey2(integer) 1127.0.0.1:6379&gt; PFCOUNT mykey2(integer) 9127.0.0.1:6379&gt; PFMERGE mykey3 mykey mykey2 # åˆå¹¶ä¸¤ç»„ mykey mykey2 =&gt; mykey3 å¹¶é›†OK127.0.0.1:6379&gt; PFCOUNT mykey3 # çœ‹å¹¶é›†çš„æ•°é‡ï¼(integer) 15å¦‚æœå…è®¸å®¹é”™ï¼Œé‚£ä¹ˆä¸€å®šå¯ä»¥ä½¿ç”¨ Hyperloglog ï¼å¦‚æœä¸å…è®¸å®¹é”™ï¼Œå°±ä½¿ç”¨ set æˆ–è€…è‡ªå·±çš„æ•°æ®ç±»å‹å³å¯ï¼ Bitmapä½å­˜å‚¨ç»Ÿè®¡ç”¨æˆ·ä¿¡æ¯ï¼Œæ´»è·ƒï¼Œä¸æ´»è·ƒï¼ ç™»å½• ã€ æœªç™»å½•ï¼ æ‰“å¡ï¼Œ365æ‰“å¡ï¼ ä¸¤ä¸ªçŠ¶æ€çš„ï¼Œéƒ½å¯ä»¥ä½¿ç”¨Bitmapsï¼Bitmap ä½å›¾ï¼Œæ•°æ®ç»“æ„ï¼ éƒ½æ˜¯æ“ä½œäºŒè¿›åˆ¶ä½æ¥è¿›è¡Œè®°å½•ï¼Œå°±åªæœ‰0 å’Œ 1 ä¸¤ä¸ªçŠ¶æ€ï¼365 å¤© = 365 bit 1å­—èŠ‚ = 8bit 46 ä¸ªå­—èŠ‚å·¦å³ï¼ Redis å‘½ä»¤Redis å‘½ä»¤ è¯­æ³•Redis å®¢æˆ·ç«¯çš„åŸºæœ¬è¯­æ³•ä¸ºï¼š $ redis-cli - ä»¥ä¸‹å®ä¾‹è®²è§£äº†å¦‚ä½•å¯åŠ¨ redis å®¢æˆ·ç«¯ï¼š å¯åŠ¨ redis æœåŠ¡å™¨ï¼Œæ‰“å¼€ç»ˆç«¯å¹¶è¾“å…¥å‘½ä»¤ redis-cliï¼Œè¯¥å‘½ä»¤ä¼šè¿æ¥æœ¬åœ°çš„ redis æœåŠ¡ã€‚ $ redis-cliredis 127.0.0.1:6379&gt;redis 127.0.0.1:6379&gt; PING PONGåœ¨ä»¥ä¸Šå®ä¾‹ä¸­æˆ‘ä»¬è¿æ¥åˆ°æœ¬åœ°çš„ redis æœåŠ¡å¹¶æ‰§è¡Œ PING å‘½ä»¤ï¼Œè¯¥å‘½ä»¤ç”¨äºæ£€æµ‹ redis æœåŠ¡æ˜¯å¦å¯åŠ¨ã€‚ åœ¨è¿œç¨‹æœåŠ¡ä¸Šæ‰§è¡Œå‘½ä»¤ $ redis-cli -h host -p port -a password Redis keys å‘½ä»¤å¤§å…¨ https://redis.io/commands Redis HyperLogLog Redis åœ¨ 2.8.9 ç‰ˆæœ¬æ·»åŠ äº† HyperLogLog ç»“æ„ã€‚ Redis HyperLogLog æ˜¯ç”¨æ¥åšåŸºæ•°ç»Ÿè®¡çš„ç®—æ³•ï¼ŒHyperLogLog çš„ä¼˜ç‚¹æ˜¯ï¼Œåœ¨è¾“å…¥å…ƒç´ çš„æ•°é‡æˆ–è€…ä½“ç§¯éå¸¸éå¸¸å¤§æ—¶ï¼Œè®¡ç®—åŸºæ•°æ‰€éœ€çš„ç©ºé—´æ€»æ˜¯å›ºå®š çš„ã€å¹¶ä¸”æ˜¯å¾ˆå°çš„ã€‚ åœ¨ Redis é‡Œé¢ï¼Œæ¯ä¸ª HyperLogLog é”®åªéœ€è¦èŠ±è´¹ 12 KB å†…å­˜ï¼Œå°±å¯ä»¥è®¡ç®—æ¥è¿‘ 2^64 ä¸ªä¸åŒå…ƒç´ çš„åŸº æ•°ã€‚è¿™å’Œè®¡ç®—åŸºæ•°æ—¶ï¼Œå…ƒç´ è¶Šå¤šè€—è´¹å†…å­˜å°±è¶Šå¤šçš„é›†åˆå½¢æˆé²œæ˜å¯¹æ¯”ã€‚ ä½†æ˜¯ï¼Œå› ä¸º HyperLogLog åªä¼šæ ¹æ®è¾“å…¥å…ƒç´ æ¥è®¡ç®—åŸºæ•°ï¼Œè€Œä¸ä¼šå‚¨å­˜è¾“å…¥å…ƒç´ æœ¬èº«ï¼Œæ‰€ä»¥ HyperLogLog ä¸èƒ½åƒé›†åˆé‚£æ ·ï¼Œè¿”å›è¾“å…¥çš„å„ä¸ªå…ƒç´ ã€‚ ä»€ä¹ˆæ˜¯åŸºæ•°?æ¯”å¦‚æ•°æ®é›† {1, 3, 5, 7, 5, 7, 8}ï¼Œ é‚£ä¹ˆè¿™ä¸ªæ•°æ®é›†çš„åŸºæ•°é›†ä¸º {1, 3, 5 ,7, 8}, åŸºæ•°(ä¸é‡å¤å…ƒç´ )ä¸º5ã€‚ åŸºæ•°ä¼°è®¡å°±æ˜¯åœ¨è¯¯å·®å¯æ¥å—çš„èŒƒå›´å†…ï¼Œå¿«é€Ÿè®¡ç®—åŸºæ•°ã€‚ PFADD runoobkey â€œredisâ€ PFCOUNT runoobkey Redis å‘å¸ƒè®¢é˜… Redis å‘å¸ƒè®¢é˜… (pub/sub) æ˜¯ä¸€ç§æ¶ˆæ¯é€šä¿¡æ¨¡å¼ï¼šå‘é€è€… (pub) å‘é€æ¶ˆæ¯ï¼Œè®¢é˜…è€… (sub) æ¥æ”¶æ¶ˆæ¯ã€‚ Redis å®¢æˆ·ç«¯å¯ä»¥è®¢é˜…ä»»æ„æ•°é‡çš„é¢‘é“ã€‚ è®¢é˜…/å‘å¸ƒæ¶ˆæ¯å›¾ï¼š ç¬¬ä¸€ä¸ªï¼šæ¶ˆæ¯å‘é€è€…ï¼Œ ç¬¬äºŒä¸ªï¼šé¢‘é“ ç¬¬ä¸‰ä¸ªï¼šæ¶ˆæ¯è®¢é˜…è€…ï¼ ä¸‹å›¾å±•ç¤ºäº†é¢‘é“ channel1 ï¼Œ ä»¥åŠè®¢é˜…è¿™ä¸ªé¢‘é“çš„ä¸‰ä¸ªå®¢æˆ·ç«¯ â€”â€” client2 ã€ client5 å’Œ client1 ä¹‹é—´çš„ å…³ç³»ï¼š å½“æœ‰æ–°æ¶ˆæ¯é€šè¿‡ PUBLISH å‘½ä»¤å‘é€ç»™é¢‘é“ channel1 æ—¶ï¼Œ è¿™ä¸ªæ¶ˆæ¯å°±ä¼šè¢«å‘é€ç»™è®¢é˜…å®ƒçš„ä¸‰ä¸ªå®¢æˆ· ç«¯ï¼š å‘½ä»¤ è¿™äº›å‘½ä»¤è¢«å¹¿æ³›ç”¨äºæ„å»ºå³æ—¶é€šä¿¡åº”ç”¨ï¼Œæ¯”å¦‚ç½‘ç»œèŠå¤©å®¤(chatroom)å’Œå®æ—¶å¹¿æ’­ã€å®æ—¶æé†’ç­‰ 123456789101112131415161718192021æµ‹è¯•è®¢é˜…ç«¯ï¼š127.0.0.1:6379&gt; SUBSCRIBE kuangshenshuo # è®¢é˜…ä¸€ä¸ªé¢‘é“ kuangshenshuoReading messages... (press Ctrl-C to quit)1) &quot;subscribe&quot;2) &quot;kuangshenshuo&quot;3) (integer) 1# ç­‰å¾…è¯»å–æ¨é€çš„ä¿¡æ¯1) &quot;message&quot; # æ¶ˆæ¯2) &quot;kuangshenshuo&quot; # é‚£ä¸ªé¢‘é“çš„æ¶ˆæ¯3) &quot;hello,kuangshen&quot; # æ¶ˆæ¯çš„å…·ä½“å†…å®¹1) &quot;message&quot;2) &quot;kuangshenshuo&quot;3) &quot;hello,redis&quot;å‘é€ç«¯ï¼š127.0.0.1:6379&gt; PUBLISH kuangshenshuo &quot;hello,kuangshen&quot; # å‘å¸ƒè€…å‘å¸ƒæ¶ˆæ¯åˆ°é¢‘é“ï¼(integer) 1127.0.0.1:6379&gt; PUBLISH kuangshenshuo &quot;hello,redis&quot; # å‘å¸ƒè€…å‘å¸ƒæ¶ˆæ¯åˆ°é¢‘é“ï¼(integer) 1127.0.0.1:6379&gt; åŸç†Redisæ˜¯ä½¿ç”¨Cå®ç°çš„ï¼Œé€šè¿‡åˆ†æ Redis æºç é‡Œçš„ pubsub.c æ–‡ä»¶ï¼Œäº†è§£å‘å¸ƒå’Œè®¢é˜…æœºåˆ¶çš„åº•å±‚å®ç°ï¼Œå€Ÿæ­¤åŠ æ·±å¯¹ Redis çš„ç†è§£ã€‚ Redis é€šè¿‡ PUBLISH ã€SUBSCRIBE å’Œ PSUBSCRIBE ç­‰å‘½ä»¤å®ç°å‘å¸ƒå’Œè®¢é˜…åŠŸèƒ½ã€‚ å¾®ä¿¡ï¼š é€šè¿‡ SUBSCRIBE å‘½ä»¤è®¢é˜…æŸé¢‘é“åï¼Œredis-server é‡Œç»´æŠ¤äº†ä¸€ä¸ªå­—å…¸ï¼Œå­—å…¸çš„é”®å°±æ˜¯ä¸€ä¸ªä¸ª é¢‘é“ï¼ï¼Œ è€Œå­—å…¸çš„å€¼åˆ™æ˜¯ä¸€ä¸ªé“¾è¡¨ï¼Œé“¾è¡¨ä¸­ä¿å­˜äº†æ‰€æœ‰è®¢é˜…è¿™ä¸ª channel çš„å®¢æˆ·ç«¯ã€‚SUBSCRIBE å‘½ä»¤çš„å…³é”®ï¼Œ å°±æ˜¯å°†å®¢æˆ·ç«¯æ·»åŠ åˆ°ç»™å®š channel çš„è®¢é˜…é“¾è¡¨ä¸­ã€‚ é€šè¿‡ PUBLISH å‘½ä»¤å‘è®¢é˜…è€…å‘é€æ¶ˆæ¯ï¼Œredis-server ä¼šä½¿ç”¨ç»™å®šçš„é¢‘é“ä½œä¸ºé”®ï¼Œåœ¨å®ƒæ‰€ç»´æŠ¤çš„ channel å­—å…¸ä¸­æŸ¥æ‰¾è®°å½•äº†è®¢é˜…è¿™ä¸ªé¢‘é“çš„æ‰€æœ‰å®¢æˆ·ç«¯çš„é“¾è¡¨ï¼Œéå†è¿™ä¸ªé“¾è¡¨ï¼Œå°†æ¶ˆæ¯å‘å¸ƒç»™æ‰€æœ‰è®¢é˜…è€…ã€‚Pub/Sub ä»å­—é¢ä¸Šç†è§£å°±æ˜¯å‘å¸ƒï¼ˆPublishï¼‰ä¸è®¢é˜…ï¼ˆSubscribeï¼‰ï¼Œåœ¨Redisä¸­ï¼Œä½ å¯ä»¥è®¾å®šå¯¹æŸä¸€ä¸ª keyå€¼è¿›è¡Œæ¶ˆæ¯å‘å¸ƒåŠæ¶ˆæ¯è®¢é˜…ï¼Œå½“ä¸€ä¸ªkeyå€¼ä¸Šè¿›è¡Œäº†æ¶ˆæ¯å‘å¸ƒåï¼Œæ‰€æœ‰è®¢é˜…å®ƒçš„å®¢æˆ·ç«¯éƒ½ä¼šæ”¶åˆ°ç›¸åº” çš„æ¶ˆæ¯ã€‚è¿™ä¸€åŠŸèƒ½æœ€æ˜æ˜¾çš„ç”¨æ³•å°±æ˜¯ç”¨ä½œå®æ—¶æ¶ˆæ¯ç³»ç»Ÿï¼Œæ¯”å¦‚æ™®é€šçš„å³æ—¶èŠå¤©ï¼Œç¾¤èŠç­‰åŠŸèƒ½ã€‚ ä½¿ç”¨åœºæ™¯ï¼š 1ã€å®æ—¶æ¶ˆæ¯ç³»ç»Ÿï¼ 2ã€äº‹å®èŠå¤©ï¼ï¼ˆé¢‘é“å½“åšèŠå¤©å®¤ï¼Œå°†ä¿¡æ¯å›æ˜¾ç»™æ‰€æœ‰äººå³å¯ï¼ï¼‰ 3ã€è®¢é˜…ï¼Œå…³æ³¨ç³»ç»Ÿéƒ½æ˜¯å¯ä»¥çš„ï¼ ç¨å¾®å¤æ‚çš„åœºæ™¯æˆ‘ä»¬å°±ä¼šä½¿ç”¨ æ¶ˆæ¯ä¸­é—´ä»¶ MQ ï¼ˆï¼‰ SUBSCRIBE runoobChat PUBLISH runoobChat â€œRedis PUBLISH testâ€ é‡æ–°å¼€å¯ä¸ª redis å®¢æˆ·ç«¯åœ¨åŒä¸€ä¸ªé¢‘é“ runoobChat å‘å¸ƒä¸¤æ¬¡æ¶ˆæ¯ï¼Œè®¢é˜…è€…å°±èƒ½æ¥æ”¶åˆ°æ¶ˆæ¯ã€‚ Redis äº‹åŠ¡(ä¸å›æ»šï¼Œæ‰¹é‡æ‰§è¡Œä½œç”¨) Redis äº‹åŠ¡å¯ä»¥ä¸€æ¬¡æ‰§è¡Œå¤šä¸ªå‘½ä»¤ï¼Œ å¹¶ä¸”å¸¦æœ‰ä»¥ä¸‹ä¸‰ä¸ªé‡è¦çš„ä¿è¯ï¼š æ‰¹é‡æ“ä½œåœ¨å‘é€ EXEC å‘½ä»¤å‰è¢«æ”¾å…¥é˜Ÿåˆ—ç¼“å­˜ã€‚æ”¶åˆ° EXEC å‘½ä»¤åè¿›å…¥äº‹åŠ¡æ‰§è¡Œï¼Œäº‹åŠ¡ä¸­ä»»æ„å‘½ä»¤æ‰§è¡Œå¤±è´¥ï¼Œå…¶ä½™çš„å‘½ä»¤ä¾ç„¶è¢«æ‰§è¡Œ,ä»£ç é”™è¯¯ï¼Œæ‰€æœ‰å‘½ä»¤éƒ½ä¸ä¼šæ‰§è¡Œã€‚åœ¨äº‹åŠ¡æ‰§è¡Œè¿‡ç¨‹ï¼Œå…¶ä»–å®¢æˆ·ç«¯æäº¤çš„å‘½ä»¤è¯·æ±‚ä¸ä¼šæ’å…¥åˆ°äº‹åŠ¡æ‰§è¡Œå‘½ä»¤åºåˆ—ä¸­ã€‚DISCARDæ”¾å¼ƒäº‹ç‰©ï¼Œæ‰€æœ‰ä¸æ‰§è¡Œä¸€ä¸ªäº‹åŠ¡ä»å¼€å§‹åˆ°æ‰§è¡Œä¼šç»å†ä»¥ä¸‹ä¸‰ä¸ªé˜¶æ®µï¼š å¼€å§‹äº‹åŠ¡ã€‚å‘½ä»¤å…¥é˜Ÿã€‚æ‰§è¡Œäº‹åŠ¡ã€‚ MULTI å¼€å§‹ä¸€ä¸ªäº‹åŠ¡ å°†å¤šä¸ªå‘½ä»¤å…¥é˜Ÿåˆ°äº‹åŠ¡ä¸­ SET book-name â€œMastering C++ in 21 daysâ€ GET book-name SADD tag â€œC++â€ â€œProgrammingâ€ â€œMastering Seriesâ€ SMEMBERS tag EXEC/DISCARD å•ä¸ª Redis å‘½ä»¤çš„æ‰§è¡Œæ˜¯åŸå­æ€§çš„ï¼Œä½† Redis æ²¡æœ‰åœ¨äº‹åŠ¡ä¸Šå¢åŠ ä»»ä½•ç»´æŒåŸå­æ€§çš„æœºåˆ¶ï¼Œæ‰€ä»¥ Redis äº‹åŠ¡çš„æ‰§è¡Œå¹¶ä¸æ˜¯åŸå­æ€§çš„ã€‚ äº‹åŠ¡å¯ä»¥ç†è§£ä¸ºä¸€ä¸ªæ‰“åŒ…çš„æ‰¹é‡æ‰§è¡Œè„šæœ¬ï¼Œä½†æ‰¹é‡æŒ‡ä»¤å¹¶éåŸå­åŒ–çš„æ“ä½œï¼Œä¸­é—´æŸæ¡æŒ‡ä»¤çš„å¤±è´¥ä¸ä¼šå¯¼è‡´å‰é¢å·²åšæŒ‡ä»¤çš„å›æ»šï¼Œä¹Ÿä¸ä¼šé€ æˆåç»­çš„æŒ‡ä»¤ä¸åšã€‚ æ‚²è§‚é”ï¼šå¾ˆæ‚²è§‚ï¼Œè®¤ä¸ºä»€ä¹ˆæ—¶å€™éƒ½ä¼šå‡ºé—®é¢˜ï¼Œæ— è®ºåšä»€ä¹ˆéƒ½ä¼šåŠ é”ï¼ä¹è§‚é”ï¼šå¾ˆä¹è§‚ï¼Œè®¤ä¸ºä»€ä¹ˆæ—¶å€™éƒ½ä¸ä¼šå‡ºé—®é¢˜ï¼Œæ‰€ä»¥ä¸ä¼šä¸Šé”ï¼ æ›´æ–°æ•°æ®çš„æ—¶å€™å»åˆ¤æ–­ä¸€ä¸‹ï¼Œåœ¨æ­¤æœŸé—´æ˜¯å¦æœ‰äººä¿®æ”¹è¿‡è¿™ä¸ªæ•°æ®ï¼Œè·å–versionæ›´æ–°çš„æ—¶å€™æ¯”è¾ƒ versionRedisæµ‹ç›‘è§†æµ‹è¯•æ­£å¸¸æ‰§è¡ŒæˆåŠŸï¼æµ‹è¯•å¤šçº¿ç¨‹ä¿®æ”¹å€¼ , ä½¿ç”¨watch å¯ä»¥å½“åšredisçš„ä¹è§‚é”æ“ä½œï¼ 123456789101112131415127.0.0.1:6379&gt; set money 100OK127.0.0.1:6379&gt; set out 0OK127.0.0.1:6379&gt; watch money # ç›‘è§† money å¯¹è±¡OK127.0.0.1:6379&gt; multi # äº‹åŠ¡æ­£å¸¸ç»“æŸï¼Œæ•°æ®æœŸé—´æ²¡æœ‰å‘ç”Ÿå˜åŠ¨ï¼Œè¿™ä¸ªæ—¶å€™å°±æ­£å¸¸æ‰§è¡ŒæˆåŠŸï¼OK127.0.0.1:6379&gt; DECRBY money 20QUEUED127.0.0.1:6379&gt; INCRBY out 20QUEUED127.0.0.1:6379&gt; exec1) (integer) 802) (integer) 20 æµ‹è¯•å¤šçº¿ç¨‹ä¿®æ”¹å€¼ , ä½¿ç”¨watch å¯ä»¥å½“åšredisçš„ä¹è§‚é”æ“ä½œï¼ 1234567891011127.0.0.1:6379&gt; watch money # ç›‘è§† moneyOK127.0.0.1:6379&gt; multiOK127.0.0.1:6379&gt; DECRBY money 10QUEUED127.0.0.1:6379&gt; INCRBY out 10QUEUED127.0.0.1:6379&gt; exec # æ‰§è¡Œä¹‹å‰ï¼Œå¦å¤–ä¸€ä¸ªçº¿ç¨‹ï¼Œä¿®æ”¹äº†æˆ‘ä»¬çš„å€¼ï¼Œè¿™ä¸ªæ—¶å€™ï¼Œå°±ä¼šå¯¼è‡´äº‹åŠ¡æ‰§è¡Œå¤±è´¥ï¼(nil) Redis è„šæœ¬ Redis è„šæœ¬ä½¿ç”¨ Lua è§£é‡Šå™¨æ¥æ‰§è¡Œè„šæœ¬ã€‚ Redis 2.6 ç‰ˆæœ¬é€šè¿‡å†…åµŒæ”¯æŒ Lua ç¯å¢ƒã€‚æ‰§è¡Œè„šæœ¬çš„å¸¸ç”¨å‘½ä»¤ä¸º EVALã€‚ EVAL script numkeys key [key â€¦] arg [arg â€¦] EVAL â€œreturn {KEYS[1],KEYS[2],ARGV[1],ARGV[2]}â€ 2 key1 key2 first second Redis è¿æ¥ Redis è¿æ¥å‘½ä»¤ä¸»è¦æ˜¯ç”¨äºè¿æ¥ redis æœåŠ¡ã€‚ å®¢æˆ·ç«¯å¦‚ä½•é€šè¿‡å¯†ç éªŒè¯è¿æ¥åˆ° redis æœåŠ¡ï¼Œå¹¶æ£€æµ‹æœåŠ¡æ˜¯å¦åœ¨è¿è¡Œï¼š AUTH â€œpasswordâ€ PING 1 AUTH passwordéªŒè¯å¯†ç æ˜¯å¦æ­£ç¡®2 ECHO messageæ‰“å°å­—ç¬¦ä¸²3 PINGæŸ¥çœ‹æœåŠ¡æ˜¯å¦è¿è¡Œ4 QUITå…³é—­å½“å‰è¿æ¥5 SELECT indexåˆ‡æ¢åˆ°æŒ‡å®šçš„æ•°æ®åº“ RedisæœåŠ¡å™¨ RedisæœåŠ¡å™¨å‘½ä»¤ä¸»è¦æ˜¯ç”¨äºç®¡ç†redisæœåŠ¡ Redis GEO Redis GEO ä¸»è¦ç”¨äºå­˜å‚¨åœ°ç†ä½ç½®ä¿¡æ¯ï¼Œå¹¶å¯¹å­˜å‚¨çš„ä¿¡æ¯è¿›è¡Œæ“ä½œï¼Œè¯¥åŠŸèƒ½åœ¨ Redis 3.2 ç‰ˆæœ¬æ–°å¢ã€‚ Redis GEO æ“ä½œæ–¹æ³•æœ‰ï¼š geoaddï¼šæ·»åŠ åœ°ç†ä½ç½®çš„åæ ‡ã€‚geoposï¼šè·å–åœ°ç†ä½ç½®çš„åæ ‡ã€‚geodistï¼šè®¡ç®—ä¸¤ä¸ªä½ç½®ä¹‹é—´çš„è·ç¦»ã€‚georadiusï¼šæ ¹æ®ç”¨æˆ·ç»™å®šçš„ç»çº¬åº¦åæ ‡æ¥è·å–æŒ‡å®šèŒƒå›´å†…çš„åœ°ç†ä½ç½®é›†åˆã€‚georadiusbymemberï¼šæ ¹æ®å‚¨å­˜åœ¨ä½ç½®é›†åˆé‡Œé¢çš„æŸä¸ªåœ°ç‚¹è·å–æŒ‡å®šèŒƒå›´å†…çš„åœ°ç†ä½ç½®é›†åˆã€‚geohashï¼šè¿”å›ä¸€ä¸ªæˆ–å¤šä¸ªä½ç½®å¯¹è±¡çš„ geohash å€¼ã€‚ geoaddgeoadd ç”¨äºå­˜å‚¨æŒ‡å®šçš„åœ°ç†ç©ºé—´ä½ç½®ï¼Œå¯ä»¥å°†ä¸€ä¸ªæˆ–å¤šä¸ªç»åº¦(longitude)ã€çº¬åº¦(latitude)ã€ä½ç½®åç§°(member)æ·»åŠ åˆ°æŒ‡å®šçš„ key ä¸­ã€‚ geoadd è¯­æ³•æ ¼å¼å¦‚ä¸‹ï¼š GEOADD key longitude latitude member [longitude latitude member â€¦] - GEOADD Sicily 13.361389 38.115556 &quot;Palermo&quot; 15.087269 37.502669 &quot;Catania&quot; - GEODIST Sicily Palermo Catania - geodist ç”¨äºè¿”å›ä¸¤ä¸ªç»™å®šä½ç½®ä¹‹é—´çš„è·ç¦»ã€‚ geodist è¯­æ³•æ ¼å¼å¦‚ä¸‹ï¼š GEODIST key member1 member2 [m|km|ft|mi]member1 member2 ä¸ºä¸¤ä¸ªåœ°ç†ä½ç½®ã€‚ æœ€åä¸€ä¸ªè·ç¦»å•ä½å‚æ•°è¯´æ˜ï¼š m ï¼šç±³ï¼Œé»˜è®¤å•ä½ã€‚km ï¼šåƒç±³ã€‚mi ï¼šè‹±é‡Œã€‚ft ï¼šè‹±å°ºã€‚ - GEORADIUS Sicily 15 37 100 km - georadius ä»¥ç»™å®šçš„ç»çº¬åº¦ä¸ºä¸­å¿ƒï¼Œ è¿”å›é”®åŒ…å«çš„ä½ç½®å…ƒç´ å½“ä¸­ï¼Œ ä¸ä¸­å¿ƒçš„è·ç¦»ä¸è¶…è¿‡ç»™å®šæœ€å¤§è·ç¦»çš„æ‰€æœ‰ä½ç½®å…ƒç´ ã€‚ georadiusbymember å’Œ GEORADIUS å‘½ä»¤ä¸€æ ·ï¼Œ éƒ½å¯ä»¥æ‰¾å‡ºä½äºæŒ‡å®šèŒƒå›´å†…çš„å…ƒç´ ï¼Œ ä½†æ˜¯ georadiusbymember çš„ä¸­å¿ƒç‚¹æ˜¯ç”±ç»™å®šçš„ä½ç½®å…ƒç´ å†³å®šçš„ï¼Œ è€Œä¸æ˜¯ä½¿ç”¨ç»åº¦å’Œçº¬åº¦æ¥å†³å®šä¸­å¿ƒç‚¹ã€‚ georadius ä¸ georadiusbymember è¯­æ³•æ ¼å¼å¦‚ä¸‹ï¼š GEORADIUS key longitude latitude radius m|km|ft|mi [WITHCOORD] [WITHDIST] [WITHHASH] [COUNT count] [ASC|DESC] [STORE key] [STOREDIST key]GEORADIUSBYMEMBER key member radius m|km|ft|mi [WITHCOORD] [WITHDIST] [WITHHASH] [COUNT count] [ASC|DESC] [STORE key] [STOREDIST key]å‚æ•°è¯´æ˜ï¼š m ï¼šç±³ï¼Œé»˜è®¤å•ä½ã€‚km ï¼šåƒç±³ã€‚mi ï¼šè‹±é‡Œã€‚ft ï¼šè‹±å°ºã€‚WITHDIST: åœ¨è¿”å›ä½ç½®å…ƒç´ çš„åŒæ—¶ï¼Œ å°†ä½ç½®å…ƒç´ ä¸ä¸­å¿ƒä¹‹é—´çš„è·ç¦»ä¹Ÿä¸€å¹¶è¿”å›ã€‚WITHCOORD: å°†ä½ç½®å…ƒç´ çš„ç»åº¦å’Œç»´åº¦ä¹Ÿä¸€å¹¶è¿”å›ã€‚WITHHASH: ä»¥ 52 ä½æœ‰ç¬¦å·æ•´æ•°çš„å½¢å¼ï¼Œ è¿”å›ä½ç½®å…ƒç´ ç»è¿‡åŸå§‹ geohash ç¼–ç çš„æœ‰åºé›†åˆåˆ†å€¼ã€‚ è¿™ä¸ªé€‰é¡¹ä¸»è¦ç”¨äºåº•å±‚åº”ç”¨æˆ–è€…è°ƒè¯•ï¼Œ å®é™…ä¸­çš„ä½œç”¨å¹¶ä¸å¤§ã€‚COUNT é™å®šè¿”å›çš„è®°å½•æ•°ã€‚ASC: æŸ¥æ‰¾ç»“æœæ ¹æ®è·ç¦»ä»è¿‘åˆ°è¿œæ’åºã€‚DESC: æŸ¥æ‰¾ç»“æœæ ¹æ®ä»è¿œåˆ°è¿‘æ’åºã€‚ - GEOPOS Sicily Palermo Catania NonExisting - geopos ç”¨äºä»ç»™å®šçš„ key é‡Œè¿”å›æ‰€æœ‰æŒ‡å®šåç§°(member)çš„ä½ç½®ï¼ˆç»åº¦å’Œçº¬åº¦ï¼‰ï¼Œä¸å­˜åœ¨çš„è¿”å› nilã€‚ geopos è¯­æ³•æ ¼å¼å¦‚ä¸‹ï¼š GEOPOS key member [member â€¦] - GEOHASH Sicily Palermo Catania - geohash Redis GEO ä½¿ç”¨ geohash æ¥ä¿å­˜åœ°ç†ä½ç½®çš„åæ ‡ã€‚ geohash ç”¨äºè·å–ä¸€ä¸ªæˆ–å¤šä¸ªä½ç½®å…ƒç´ çš„ geohash å€¼ã€‚ geohash è¯­æ³•æ ¼å¼å¦‚ä¸‹ï¼š GEOHASH key member [member â€¦] Redis Stream Redis Stream æ˜¯ Redis 5.0 ç‰ˆæœ¬æ–°å¢åŠ çš„æ•°æ®ç»“æ„ã€‚ Redis Stream ä¸»è¦ç”¨äºæ¶ˆæ¯é˜Ÿåˆ—ï¼ˆMQï¼ŒMessage Queueï¼‰ï¼ŒRedis æœ¬èº«æ˜¯æœ‰ä¸€ä¸ª Redis å‘å¸ƒè®¢é˜… (pub/sub) æ¥å®ç°æ¶ˆæ¯é˜Ÿåˆ—çš„åŠŸèƒ½ï¼Œä½†å®ƒæœ‰ä¸ªç¼ºç‚¹å°±æ˜¯æ¶ˆæ¯æ— æ³•æŒä¹…åŒ–ï¼Œå¦‚æœå‡ºç°ç½‘ç»œæ–­å¼€ã€Redis å®•æœºç­‰ï¼Œæ¶ˆæ¯å°±ä¼šè¢«ä¸¢å¼ƒã€‚ ç®€å•æ¥è¯´å‘å¸ƒè®¢é˜… (pub/sub) å¯ä»¥åˆ†å‘æ¶ˆæ¯ï¼Œä½†æ— æ³•è®°å½•å†å²æ¶ˆæ¯ã€‚ è€Œ Redis Stream æä¾›äº†æ¶ˆæ¯çš„æŒä¹…åŒ–å’Œä¸»å¤‡å¤åˆ¶åŠŸèƒ½ï¼Œå¯ä»¥è®©ä»»ä½•å®¢æˆ·ç«¯è®¿é—®ä»»ä½•æ—¶åˆ»çš„æ•°æ®ï¼Œå¹¶ä¸”èƒ½è®°ä½æ¯ä¸€ä¸ªå®¢æˆ·ç«¯çš„è®¿é—®ä½ç½®ï¼Œè¿˜èƒ½ä¿è¯æ¶ˆæ¯ä¸ä¸¢å¤±ã€‚ Redis Stream çš„ç»“æ„å¦‚ä¸‹æ‰€ç¤ºï¼Œå®ƒæœ‰ä¸€ä¸ªæ¶ˆæ¯é“¾è¡¨ï¼Œå°†æ‰€æœ‰åŠ å…¥çš„æ¶ˆæ¯éƒ½ä¸²èµ·æ¥ï¼Œæ¯ä¸ªæ¶ˆæ¯éƒ½æœ‰ä¸€ä¸ªå”¯ä¸€çš„ ID å’Œå¯¹åº”çš„å†…å®¹ï¼š - å­ä¸»é¢˜ 1 - æ¯ä¸ª Stream éƒ½æœ‰å”¯ä¸€çš„åç§°ï¼Œå®ƒå°±æ˜¯ Redis çš„ keyï¼Œåœ¨æˆ‘ä»¬é¦–æ¬¡ä½¿ç”¨ xadd æŒ‡ä»¤è¿½åŠ æ¶ˆæ¯æ—¶è‡ªåŠ¨åˆ›å»ºã€‚ ä¸Šå›¾è§£æï¼š Consumer Group ï¼šæ¶ˆè´¹ç»„ï¼Œä½¿ç”¨ XGROUP CREATE å‘½ä»¤åˆ›å»ºï¼Œä¸€ä¸ªæ¶ˆè´¹ç»„æœ‰å¤šä¸ªæ¶ˆè´¹è€…(Consumer)ã€‚last_delivered_id ï¼šæ¸¸æ ‡ï¼Œæ¯ä¸ªæ¶ˆè´¹ç»„ä¼šæœ‰ä¸ªæ¸¸æ ‡ last_delivered_idï¼Œä»»æ„ä¸€ä¸ªæ¶ˆè´¹è€…è¯»å–äº†æ¶ˆæ¯éƒ½ä¼šä½¿æ¸¸æ ‡ last_delivered_id å¾€å‰ç§»åŠ¨ã€‚pending_ids ï¼šæ¶ˆè´¹è€…(Consumer)çš„çŠ¶æ€å˜é‡ï¼Œä½œç”¨æ˜¯ç»´æŠ¤æ¶ˆè´¹è€…çš„æœªç¡®è®¤çš„ idã€‚ pending_ids è®°å½•äº†å½“å‰å·²ç»è¢«å®¢æˆ·ç«¯è¯»å–çš„æ¶ˆæ¯ï¼Œä½†æ˜¯è¿˜æ²¡æœ‰ ack (Acknowledge characterï¼šç¡®è®¤å­—ç¬¦ï¼‰ã€‚ - æ¶ˆæ¯é˜Ÿåˆ—ç›¸å…³å‘½ä»¤ï¼š XADD - æ·»åŠ æ¶ˆæ¯åˆ°æœ«å°¾XTRIM - å¯¹æµè¿›è¡Œä¿®å‰ªï¼Œé™åˆ¶é•¿åº¦XDEL - åˆ é™¤æ¶ˆæ¯XLEN - è·å–æµåŒ…å«çš„å…ƒç´ æ•°é‡ï¼Œå³æ¶ˆæ¯é•¿åº¦XRANGE - è·å–æ¶ˆæ¯åˆ—è¡¨ï¼Œä¼šè‡ªåŠ¨è¿‡æ»¤å·²ç»åˆ é™¤çš„æ¶ˆæ¯XREVRANGE - åå‘è·å–æ¶ˆæ¯åˆ—è¡¨ï¼ŒID ä»å¤§åˆ°å°XREAD - ä»¥é˜»å¡æˆ–éé˜»å¡æ–¹å¼è·å–æ¶ˆæ¯åˆ—è¡¨æ¶ˆè´¹è€…ç»„ç›¸å…³å‘½ä»¤ï¼š XGROUP CREATE - åˆ›å»ºæ¶ˆè´¹è€…ç»„XREADGROUP GROUP - è¯»å–æ¶ˆè´¹è€…ç»„ä¸­çš„æ¶ˆæ¯XACK - å°†æ¶ˆæ¯æ ‡è®°ä¸ºâ€å·²å¤„ç†â€XGROUP SETID - ä¸ºæ¶ˆè´¹è€…ç»„è®¾ç½®æ–°çš„æœ€åé€’é€æ¶ˆæ¯IDXGROUP DELCONSUMER - åˆ é™¤æ¶ˆè´¹è€…XGROUP DESTROY - åˆ é™¤æ¶ˆè´¹è€…ç»„XPENDING - æ˜¾ç¤ºå¾…å¤„ç†æ¶ˆæ¯çš„ç›¸å…³ä¿¡æ¯XCLAIM - è½¬ç§»æ¶ˆæ¯çš„å½’å±æƒXINFO - æŸ¥çœ‹æµå’Œæ¶ˆè´¹è€…ç»„çš„ç›¸å…³ä¿¡æ¯ï¼›XINFO GROUPS - æ‰“å°æ¶ˆè´¹è€…ç»„çš„ä¿¡æ¯ï¼›XINFO STREAM - æ‰“å°æµä¿¡æ¯ XADD ä½¿ç”¨ XADD å‘é˜Ÿåˆ—æ·»åŠ æ¶ˆæ¯ï¼Œå¦‚æœæŒ‡å®šçš„é˜Ÿåˆ—ä¸å­˜åœ¨ï¼Œåˆ™åˆ›å»ºä¸€ä¸ªé˜Ÿåˆ—ï¼ŒXADD è¯­æ³•æ ¼å¼ï¼š XADD key ID field value [field value â€¦]key ï¼šé˜Ÿåˆ—åç§°ï¼Œå¦‚æœä¸å­˜åœ¨å°±åˆ›å»ºID ï¼šæ¶ˆæ¯ idï¼Œæˆ‘ä»¬ä½¿ç”¨ * è¡¨ç¤ºç”± redis ç”Ÿæˆï¼Œå¯ä»¥è‡ªå®šä¹‰ï¼Œä½†æ˜¯è¦è‡ªå·±ä¿è¯é€’å¢æ€§ã€‚field value ï¼š è®°å½•ã€‚ - XADD mystream * name Sara surname OConnor - XADD mystream * field1 value1 field2 value2 field3 value3 - XLEN mystream - XRANGE mystream - + XTRIM ä½¿ç”¨ XTRIM å¯¹æµè¿›è¡Œä¿®å‰ªï¼Œé™åˆ¶é•¿åº¦ï¼Œ è¯­æ³•æ ¼å¼ï¼š XTRIM key MAXLEN [~] countkey ï¼šé˜Ÿåˆ—åç§°MAXLEN ï¼šé•¿åº¦count ï¼šæ•°é‡ - XADD mystream * field1 A field2 B field3 C field4 D - XTRIM mystream MAXLEN 2 - XRANGE mystream - + XDEL ä½¿ç”¨ XDEL åˆ é™¤æ¶ˆæ¯ï¼Œè¯­æ³•æ ¼å¼ï¼š XDEL key ID [ID â€¦]keyï¼šé˜Ÿåˆ—åç§°ID ï¼šæ¶ˆæ¯ IDä½¿ç”¨ XDEL åˆ é™¤æ¶ˆæ¯ï¼Œè¯­æ³•æ ¼å¼ï¼š XLEN ä½¿ç”¨ XLEN è·å–æµåŒ…å«çš„å…ƒç´ æ•°é‡ï¼Œå³æ¶ˆæ¯é•¿åº¦ï¼Œè¯­æ³•æ ¼å¼ï¼š XLEN keykeyï¼šé˜Ÿåˆ—åç§° - XADD mystream * item 1 - XLEN mystream XRANGE ä½¿ç”¨ XRANGE è·å–æ¶ˆæ¯åˆ—è¡¨ï¼Œä¼šè‡ªåŠ¨è¿‡æ»¤å·²ç»åˆ é™¤çš„æ¶ˆæ¯ ï¼Œè¯­æ³•æ ¼å¼ï¼š XRANGE key start end [COUNT count]key ï¼šé˜Ÿåˆ—åstart ï¼šå¼€å§‹å€¼ï¼Œ - è¡¨ç¤ºæœ€å°å€¼end ï¼šç»“æŸå€¼ï¼Œ + è¡¨ç¤ºæœ€å¤§å€¼count ï¼šæ•°é‡ - XADD writers * name Ngozi surname Adichie - XLEN writers - XRANGE writers - + COUNT 2 XREVRANGE ä½¿ç”¨ XREVRANGE è·å–æ¶ˆæ¯åˆ—è¡¨ï¼Œä¼šè‡ªåŠ¨è¿‡æ»¤å·²ç»åˆ é™¤çš„æ¶ˆæ¯ ï¼Œè¯­æ³•æ ¼å¼ï¼š XREVRANGE key end start [COUNT count]key ï¼šé˜Ÿåˆ—åend ï¼šç»“æŸå€¼ï¼Œ + è¡¨ç¤ºæœ€å¤§å€¼start ï¼šå¼€å§‹å€¼ï¼Œ - è¡¨ç¤ºæœ€å°å€¼count ï¼šæ•°é‡ - XADD writers * name Virginia surname Woolf - XLEN writers - XREVRANGE writers + - COUNT 1 XREAD ä½¿ç”¨ XREAD ä»¥é˜»å¡æˆ–éé˜»å¡æ–¹å¼è·å–æ¶ˆæ¯åˆ—è¡¨ ï¼Œè¯­æ³•æ ¼å¼ï¼š XREAD [COUNT count] [BLOCK milliseconds] STREAMS key [key â€¦] id [id â€¦]count ï¼šæ•°é‡milliseconds ï¼šå¯é€‰ï¼Œé˜»å¡æ¯«ç§’æ•°ï¼Œæ²¡æœ‰è®¾ç½®å°±æ˜¯éé˜»å¡æ¨¡å¼key ï¼šé˜Ÿåˆ—åid ï¼šæ¶ˆæ¯ ID - # ä» Stream å¤´éƒ¨è¯»å–ä¸¤æ¡æ¶ˆæ¯ XREAD COUNT 2 STREAMS mystream writers 0-0 0-0 XGROUP CREATE ä½¿ç”¨ XGROUP CREATE åˆ›å»ºæ¶ˆè´¹è€…ç»„ï¼Œè¯­æ³•æ ¼å¼ï¼š XGROUP [CREATE key groupname id-or-$] [SETID key groupname id-or-$] [DESTROY key groupname] [DELCONSUMER key groupname consumername]key ï¼šé˜Ÿåˆ—åç§°ï¼Œå¦‚æœä¸å­˜åœ¨å°±åˆ›å»ºgroupname ï¼šç»„åã€‚$ ï¼š è¡¨ç¤ºä»å°¾éƒ¨å¼€å§‹æ¶ˆè´¹ï¼Œåªæ¥å—æ–°æ¶ˆæ¯ï¼Œå½“å‰ Stream æ¶ˆæ¯ä¼šå…¨éƒ¨å¿½ç•¥ã€‚ä»å¤´å¼€å§‹æ¶ˆè´¹: XGROUP CREATE mystream consumer-group-name 0-0ä»å°¾éƒ¨å¼€å§‹æ¶ˆè´¹: XGROUP CREATE mystream consumer-group-name $ XREADGROUP GROUP ä½¿ç”¨ XREADGROUP GROUP è¯»å–æ¶ˆè´¹ç»„ä¸­çš„æ¶ˆæ¯ï¼Œè¯­æ³•æ ¼å¼ï¼š XREADGROUP GROUP group consumer [COUNT count] [BLOCK milliseconds] [NOACK] STREAMS key [key â€¦] ID [ID â€¦]group ï¼šæ¶ˆè´¹ç»„åconsumer ï¼šæ¶ˆè´¹è€…åã€‚count ï¼š è¯»å–æ•°é‡ã€‚milliseconds ï¼š é˜»å¡æ¯«ç§’æ•°ã€‚key ï¼š é˜Ÿåˆ—åã€‚ID ï¼š æ¶ˆæ¯ IDã€‚XREADGROUP GROUP consumer-group-name consumer-name COUNT 1 STREAMS mystream &gt; Redis é«˜çº§æ•™ç¨‹Redisä¸»ä»å¤åˆ¶æ¦‚å¿µä¸»ä»å¤åˆ¶ï¼Œæ˜¯æŒ‡å°†ä¸€å°RedisæœåŠ¡å™¨çš„æ•°æ®ï¼Œå¤åˆ¶åˆ°å…¶ä»–çš„RedisæœåŠ¡å™¨ã€‚å‰è€…ç§°ä¸ºä¸»èŠ‚ç‚¹ (master/leader)ï¼Œåè€…ç§°ä¸ºä»èŠ‚ç‚¹(slave/follower)ï¼›æ•°æ®çš„å¤åˆ¶æ˜¯å•å‘çš„ï¼Œåªèƒ½ç”±ä¸»èŠ‚ç‚¹åˆ°ä»èŠ‚ç‚¹ã€‚ Masterä»¥å†™ä¸ºä¸»ï¼ŒSlave ä»¥è¯»ä¸ºä¸»ã€‚ é»˜è®¤æƒ…å†µä¸‹ï¼Œæ¯å°RedisæœåŠ¡å™¨éƒ½æ˜¯ä¸»èŠ‚ç‚¹ï¼› ä¸”ä¸€ä¸ªä¸»èŠ‚ç‚¹å¯ä»¥æœ‰å¤šä¸ªä»èŠ‚ç‚¹(æˆ–æ²¡æœ‰ä»èŠ‚ç‚¹)ï¼Œä½†ä¸€ä¸ªä»èŠ‚ç‚¹åªèƒ½æœ‰ä¸€ä¸ªä¸»èŠ‚ç‚¹ã€‚ ä¸»ä»å¤åˆ¶çš„ä½œç”¨ä¸»è¦åŒ…æ‹¬ï¼š1ã€æ•°æ®å†—ä½™ï¼šä¸»ä»å¤åˆ¶å®ç°äº†æ•°æ®çš„çƒ­å¤‡ä»½ï¼Œæ˜¯æŒä¹…åŒ–ä¹‹å¤–çš„ä¸€ç§æ•°æ®å†—ä½™æ–¹å¼ã€‚ 2ã€æ•…éšœæ¢å¤ï¼šå½“ä¸»èŠ‚ç‚¹å‡ºç°é—®é¢˜æ—¶ï¼Œå¯ä»¥ç”±ä»èŠ‚ç‚¹æä¾›æœåŠ¡ï¼Œå®ç°å¿«é€Ÿçš„æ•…éšœæ¢å¤ï¼›å®é™…ä¸Šæ˜¯ä¸€ç§æœåŠ¡ çš„å†—ä½™ã€‚ 3ã€è´Ÿè½½å‡è¡¡ï¼šåœ¨ä¸»ä»å¤åˆ¶çš„åŸºç¡€ä¸Šï¼Œé…åˆè¯»å†™åˆ†ç¦»ï¼Œå¯ä»¥ç”±ä¸»èŠ‚ç‚¹æä¾›å†™æœåŠ¡ï¼Œç”±ä»èŠ‚ç‚¹æä¾›è¯»æœåŠ¡ ï¼ˆå³å†™Redisæ•°æ®æ—¶åº”ç”¨è¿æ¥ä¸»èŠ‚ç‚¹ï¼Œè¯»Redisæ•°æ®æ—¶åº”ç”¨è¿æ¥ä»èŠ‚ç‚¹ï¼‰ï¼Œåˆ†æ‹…æœåŠ¡å™¨è´Ÿè½½ï¼›å°¤å…¶æ˜¯åœ¨å†™ å°‘è¯»å¤šçš„åœºæ™¯ä¸‹ï¼Œé€šè¿‡å¤šä¸ªä»èŠ‚ç‚¹åˆ†æ‹…è¯»è´Ÿè½½ï¼Œå¯ä»¥å¤§å¤§æé«˜RedisæœåŠ¡å™¨çš„å¹¶å‘é‡ã€‚ 4ã€é«˜å¯ç”¨ï¼ˆé›†ç¾¤ï¼‰åŸºçŸ³ï¼šé™¤äº†ä¸Šè¿°ä½œç”¨ä»¥å¤–ï¼Œä¸»ä»å¤åˆ¶è¿˜æ˜¯å“¨å…µå’Œé›†ç¾¤èƒ½å¤Ÿå®æ–½çš„åŸºç¡€ï¼Œå› æ­¤è¯´ä¸»ä»å¤ åˆ¶æ˜¯Redisé«˜å¯ç”¨çš„åŸºç¡€ã€‚ ä¸€èˆ¬æ¥è¯´ï¼Œè¦å°†Redisè¿ç”¨äºå·¥ç¨‹é¡¹ç›®ä¸­ï¼Œåªä½¿ç”¨ä¸€å°Redisæ˜¯ä¸‡ä¸‡ä¸èƒ½çš„ï¼ˆå®•æœºï¼‰ï¼ŒåŸå› å¦‚ä¸‹ï¼š 1ã€ä»ç»“æ„ä¸Šï¼Œå•ä¸ªRedisæœåŠ¡å™¨ä¼šå‘ç”Ÿå•ç‚¹æ•…éšœï¼Œå¹¶ä¸”ä¸€å°æœåŠ¡å™¨éœ€è¦å¤„ç†æ‰€æœ‰çš„è¯·æ±‚è´Ÿè½½ï¼Œå‹åŠ›è¾ƒ å¤§ï¼› 2ã€ä»å®¹é‡ä¸Šï¼Œå•ä¸ªRedisæœåŠ¡å™¨å†…å­˜å®¹é‡æœ‰é™ï¼Œå°±ç®—ä¸€å°RedisæœåŠ¡å™¨å†…å­˜å®¹é‡ä¸º256Gï¼Œä¹Ÿä¸èƒ½å°†æ‰€æœ‰ å†…å­˜ç”¨ä½œRediså­˜å‚¨å†…å­˜ï¼Œä¸€èˆ¬æ¥è¯´ï¼Œå•å°Redisæœ€å¤§ä½¿ç”¨å†…å­˜ä¸åº”è¯¥è¶…è¿‡20Gã€‚ ç”µå•†ç½‘ç«™ä¸Šçš„å•†å“ï¼Œä¸€èˆ¬éƒ½æ˜¯ä¸€æ¬¡ä¸Šä¼ ï¼Œæ— æ•°æ¬¡æµè§ˆçš„ï¼Œè¯´ä¸“ä¸šç‚¹ä¹Ÿå°±æ˜¯â€å¤šè¯»å°‘å†™â€ã€‚ å¯¹äºè¿™ç§åœºæ™¯ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿å¦‚ä¸‹è¿™ç§æ¶æ„ï¼š ä¸»ä»å¤åˆ¶ï¼Œè¯»å†™åˆ†ç¦»ï¼ 80% çš„æƒ…å†µä¸‹éƒ½æ˜¯åœ¨è¿›è¡Œè¯»æ“ä½œï¼å‡ç¼“æœåŠ¡å™¨çš„å‹åŠ›ï¼æ¶æ„ä¸­ç»å¸¸ä½¿ç”¨ï¼ ä¸€ä¸» äºŒä»ï¼ åªè¦åœ¨å…¬å¸ä¸­ï¼Œä¸»ä»å¤åˆ¶å°±æ˜¯å¿…é¡»è¦ä½¿ç”¨çš„ï¼Œå› ä¸ºåœ¨çœŸå®çš„é¡¹ç›®ä¸­ä¸å¯èƒ½å•æœºä½¿ç”¨Redisï¼ ç¯å¢ƒé…ç½®åªé…ç½®ä»åº“ï¼Œä¸ç”¨é…ç½®ä¸»åº“ï¼ 123456789101112127.0.0.1:6379&gt; info replication # æŸ¥çœ‹å½“å‰åº“çš„ä¿¡æ¯# Replicationrole:master # è§’è‰² masterconnected_slaves:0 # æ²¡æœ‰ä»æœºmaster_replid:b63c90e6c501143759cb0e7f450bd1eb0c70882amaster_replid2:0000000000000000000000000000000000000000master_repl_offset:0second_repl_offset:-1repl_backlog_active:0repl_backlog_size:1048576repl_backlog_first_byte_offset:0repl_backlog_histlen:0 å¤åˆ¶3ä¸ªé…ç½®æ–‡ä»¶ï¼Œç„¶åä¿®æ”¹å¯¹åº”çš„ä¿¡æ¯ 1ã€ç«¯å£ 2ã€pid åå­— 3ã€logæ–‡ä»¶åå­— 4ã€dump.rdb åå­— ä¿®æ”¹å®Œæ¯•ä¹‹åï¼Œå¯åŠ¨æˆ‘ä»¬çš„3ä¸ªredisæœåŠ¡å™¨ï¼Œå¯ä»¥é€šè¿‡è¿›ç¨‹ä¿¡æ¯æŸ¥çœ‹ï¼ ä¸€ä¸»äºŒä»12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152é»˜è®¤æƒ…å†µä¸‹ï¼Œæ¯å°RedisæœåŠ¡å™¨éƒ½æ˜¯ä¸»èŠ‚ç‚¹ï¼› æˆ‘ä»¬ä¸€èˆ¬æƒ…å†µä¸‹åªç”¨é…ç½®ä»æœºå°±å¥½äº†ï¼è®¤è€å¤§ï¼ ä¸€ä¸» ï¼ˆ79ï¼‰äºŒä»ï¼ˆ80ï¼Œ81ï¼‰127.0.0.1:6379&gt; info replication # æŸ¥çœ‹å½“å‰åº“çš„ä¿¡æ¯# Replicationrole:master # è§’è‰² masterconnected_slaves:0 # æ²¡æœ‰ä»æœºmaster_replid:b63c90e6c501143759cb0e7f450bd1eb0c70882amaster_replid2:0000000000000000000000000000000000000000master_repl_offset:0second_repl_offset:-1repl_backlog_active:0repl_backlog_size:1048576repl_backlog_first_byte_offset:0repl_backlog_histlen:0127.0.0.1:6380&gt; SLAVEOF 127.0.0.1 6379 # SLAVEOF host 6379 æ‰¾è°å½“è‡ªå·±çš„è€å¤§ï¼OK127.0.0.1:6380&gt; info replication# Replicationrole:slave # å½“å‰è§’è‰²æ˜¯ä»æœºmaster_host:127.0.0.1 # å¯ä»¥çš„çœ‹åˆ°ä¸»æœºçš„ä¿¡æ¯master_port:6379master_link_status:upmaster_last_io_seconds_ago:3master_sync_in_progress:0slave_repl_offset:14slave_priority:100slave_read_only:1connected_slaves:0master_replid:a81be8dd257636b2d3e7a9f595e69d73ff03774emaster_replid2:0000000000000000000000000000000000000000master_repl_offset:14second_repl_offset:-1repl_backlog_active:1repl_backlog_size:1048576repl_backlog_first_byte_offset:1repl_backlog_histlen:14# åœ¨ä¸»æœºä¸­æŸ¥çœ‹ï¼127.0.0.1:6379&gt; info replication# Replicationrole:masterconnected_slaves:1 # å¤šäº†ä»æœºçš„é…ç½®slave0:ip=127.0.0.1,port=6380,state=online,offset=42,lag=1 # å¤šäº†ä»æœºçš„é…ç½®master_replid:a81be8dd257636b2d3e7a9f595e69d73ff03774emaster_replid2:0000000000000000000000000000000000000000master_repl_offset:42second_repl_offset:-1repl_backlog_active:1repl_backlog_size:1048576repl_backlog_first_byte_offset:1repl_backlog_histlen:42å¦‚æœä¸¤ä¸ªéƒ½é…ç½®å®Œäº†ï¼Œå°±æ˜¯æœ‰ä¸¤ä¸ªä»æœºçš„çœŸå®çš„ä»ä¸»é…ç½®åº”è¯¥åœ¨é…ç½®æ–‡ä»¶ä¸­é…ç½®ï¼Œè¿™æ ·çš„è¯æ˜¯æ°¸ä¹…çš„ï¼Œæˆ‘ä»¬è¿™é‡Œä½¿ç”¨çš„æ˜¯å‘½ä»¤ï¼Œæš‚æ—¶çš„ï¼ ç»†èŠ‚ä¸»æœºå¯ä»¥å†™ï¼Œä»æœºä¸èƒ½å†™åªèƒ½è¯»ï¼ä¸»æœºä¸­çš„æ‰€æœ‰ä¿¡æ¯å’Œæ•°æ®ï¼Œéƒ½ä¼šè‡ªåŠ¨è¢«ä»æœºä¿å­˜ï¼ æµ‹è¯•ï¼šä¸»æœºæ–­å¼€è¿æ¥ï¼Œä»æœºä¾æ—§è¿æ¥åˆ°ä¸»æœºçš„ï¼Œä½†æ˜¯æ²¡æœ‰å†™æ“ä½œï¼Œè¿™ä¸ªæ—¶å€™ï¼Œä¸»æœºå¦‚æœå›æ¥äº†ï¼Œä»æœºä¾ æ—§å¯ä»¥ç›´æ¥è·å–åˆ°ä¸»æœºå†™çš„ä¿¡æ¯ï¼ å¦‚æœæ˜¯ä½¿ç”¨å‘½ä»¤è¡Œï¼Œæ¥é…ç½®çš„ä¸»ä»ï¼Œè¿™ä¸ªæ—¶å€™å¦‚æœé‡å¯äº†ï¼Œå°±ä¼šå˜å›ä¸»æœºï¼åªè¦å˜ä¸ºä»æœºï¼Œç«‹é©¬å°±ä¼šä» ä¸»æœºä¸­è·å–å€¼ï¼ å¤åˆ¶åŸç†Slave å¯åŠ¨æˆåŠŸè¿æ¥åˆ° master åä¼šå‘é€ä¸€ä¸ªsyncåŒæ­¥å‘½ä»¤ Master æ¥åˆ°å‘½ä»¤ï¼Œå¯åŠ¨åå°çš„å­˜ç›˜è¿›ç¨‹ï¼ŒåŒæ—¶æ”¶é›†æ‰€æœ‰æ¥æ”¶åˆ°çš„ç”¨äºä¿®æ”¹æ•°æ®é›†å‘½ä»¤ï¼Œåœ¨åå°è¿›ç¨‹æ‰§è¡Œ å®Œæ¯•ä¹‹åï¼Œmasterå°†ä¼ é€æ•´ä¸ªæ•°æ®æ–‡ä»¶åˆ°slaveï¼Œå¹¶å®Œæˆä¸€æ¬¡å®Œå…¨åŒæ­¥ã€‚ å…¨é‡å¤åˆ¶ï¼šè€ŒslaveæœåŠ¡åœ¨æ¥æ”¶åˆ°æ•°æ®åº“æ–‡ä»¶æ•°æ®åï¼Œå°†å…¶å­˜ç›˜å¹¶åŠ è½½åˆ°å†…å­˜ä¸­ã€‚ å¢é‡å¤åˆ¶ï¼šMaster ç»§ç»­å°†æ–°çš„æ‰€æœ‰æ”¶é›†åˆ°çš„ä¿®æ”¹å‘½ä»¤ä¾æ¬¡ä¼ ç»™slaveï¼Œå®ŒæˆåŒæ­¥ ä½†æ˜¯åªè¦æ˜¯é‡æ–°è¿æ¥masterï¼Œä¸€æ¬¡å®Œå…¨åŒæ­¥ï¼ˆå…¨é‡å¤åˆ¶ï¼‰å°†è¢«è‡ªåŠ¨æ‰§è¡Œï¼ æˆ‘ä»¬çš„æ•°æ®ä¸€å®šå¯ä»¥åœ¨ä»æœºä¸­ çœ‹åˆ°ï¼ å±‚å±‚é“¾è·¯ä¸Šä¸€ä¸ªMé“¾æ¥ä¸‹ä¸€ä¸ª Sï¼è¿™æ—¶å€™ä¹Ÿå¯ä»¥å®Œæˆæˆ‘ä»¬çš„ä¸»ä»å¤åˆ¶ï¼å¦‚æœæ²¡æœ‰è€å¤§äº†ï¼Œè¿™ä¸ªæ—¶å€™èƒ½ä¸èƒ½é€‰æ‹©ä¸€ä¸ªè€å¤§å‡ºæ¥å‘¢ï¼Ÿ æ‰‹åŠ¨ï¼è°‹æœç¯¡ä½ å¦‚æœä¸»æœºæ–­å¼€äº†è¿æ¥ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ SLAVEOF no one è®©è‡ªå·±å˜æˆä¸»æœºï¼å…¶ä»–çš„èŠ‚ç‚¹å°±å¯ä»¥æ‰‹åŠ¨è¿ æ¥åˆ°æœ€æ–°çš„è¿™ä¸ªä¸»èŠ‚ç‚¹ï¼ˆæ‰‹åŠ¨ï¼‰ï¼å¦‚æœè¿™ä¸ªæ—¶å€™è€å¤§ä¿®å¤äº†ï¼Œé‚£å°±é‡æ–°è¿æ¥ï¼ å“¨å…µæ¨¡å¼æ¦‚è¿°ï¼ˆè‡ªåŠ¨é€‰ä¸¾è€å¤§çš„æ¨¡å¼ï¼‰ ä¸»ä»åˆ‡æ¢æŠ€æœ¯çš„æ–¹æ³•æ˜¯ï¼šå½“ä¸»æœåŠ¡å™¨å®•æœºåï¼Œéœ€è¦æ‰‹åŠ¨æŠŠä¸€å°ä»æœåŠ¡å™¨åˆ‡æ¢ä¸ºä¸»æœåŠ¡å™¨ï¼Œè¿™å°±éœ€è¦äººå·¥ å¹²é¢„ï¼Œè´¹äº‹è´¹åŠ›ï¼Œè¿˜ä¼šé€ æˆä¸€æ®µæ—¶é—´å†…æœåŠ¡ä¸å¯ç”¨ã€‚è¿™ä¸æ˜¯ä¸€ç§æ¨èçš„æ–¹å¼ï¼Œæ›´å¤šæ—¶å€™ï¼Œæˆ‘ä»¬ä¼˜å…ˆè€ƒè™‘ å“¨å…µæ¨¡å¼ã€‚Redisä»2.8å¼€å§‹æ­£å¼æä¾›äº†Sentinelï¼ˆå“¨å…µï¼‰ æ¶æ„æ¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚ è°‹æœç¯¡ä½çš„è‡ªåŠ¨ç‰ˆï¼Œèƒ½å¤Ÿåå°ç›‘æ§ä¸»æœºæ˜¯å¦æ•…éšœï¼Œå¦‚æœæ•…éšœäº†æ ¹æ®æŠ•ç¥¨æ•°è‡ªåŠ¨å°†ä»åº“è½¬æ¢ä¸ºä¸»åº“ã€‚ å“¨å…µæ¨¡å¼æ˜¯ä¸€ç§ç‰¹æ®Šçš„æ¨¡å¼ï¼Œé¦–å…ˆRedisæä¾›äº†å“¨å…µçš„å‘½ä»¤ï¼Œå“¨å…µæ˜¯ä¸€ä¸ªç‹¬ç«‹çš„è¿›ç¨‹ï¼Œä½œä¸ºè¿›ç¨‹ï¼Œå®ƒä¼šç‹¬ ç«‹è¿è¡Œã€‚å…¶åŸç†æ˜¯å“¨å…µé€šè¿‡å‘é€å‘½ä»¤ï¼Œç­‰å¾…RedisæœåŠ¡å™¨å“åº”ï¼Œä»è€Œç›‘æ§è¿è¡Œçš„å¤šä¸ªRediså®ä¾‹ã€‚ è¿™é‡Œçš„å“¨å…µæœ‰ä¸¤ä¸ªä½œç”¨ é€šè¿‡å‘é€å‘½ä»¤ï¼Œè®©RedisæœåŠ¡å™¨è¿”å›ç›‘æ§å…¶è¿è¡ŒçŠ¶æ€ï¼ŒåŒ…æ‹¬ä¸»æœåŠ¡å™¨å’Œä»æœåŠ¡å™¨ã€‚ å½“å“¨å…µç›‘æµ‹åˆ°masterå®•æœºï¼Œä¼šè‡ªåŠ¨å°†slaveåˆ‡æ¢æˆmasterï¼Œç„¶åé€šè¿‡å‘å¸ƒè®¢é˜…æ¨¡å¼é€šçŸ¥å…¶ä»–çš„ä»æœ åŠ¡å™¨ï¼Œä¿®æ”¹é…ç½®æ–‡ä»¶ï¼Œè®©å®ƒä»¬åˆ‡æ¢ä¸»æœºã€‚ ç„¶è€Œä¸€ä¸ªå“¨å…µè¿›ç¨‹å¯¹RedisæœåŠ¡å™¨è¿›è¡Œç›‘æ§ï¼Œå¯èƒ½ä¼šå‡ºç°é—®é¢˜ï¼Œä¸ºæ­¤ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨å¤šä¸ªå“¨å…µè¿›è¡Œç›‘æ§ã€‚ å„ä¸ªå“¨å…µä¹‹é—´è¿˜ä¼šè¿›è¡Œç›‘æ§ï¼Œè¿™æ ·å°±å½¢æˆäº†å¤šå“¨å…µæ¨¡å¼ã€‚ å‡è®¾ä¸»æœåŠ¡å™¨å®•æœºï¼Œå“¨å…µ1å…ˆæ£€æµ‹åˆ°è¿™ä¸ªç»“æœï¼Œç³»ç»Ÿå¹¶ä¸ä¼šé©¬ä¸Šè¿›è¡Œfailoverè¿‡ç¨‹ï¼Œä»…ä»…æ˜¯å“¨å…µ1ä¸»è§‚çš„è®¤ ä¸ºä¸»æœåŠ¡å™¨ä¸å¯ç”¨ï¼Œè¿™ä¸ªç°è±¡æˆä¸ºä¸»è§‚ä¸‹çº¿ã€‚å½“åé¢çš„å“¨å…µä¹Ÿæ£€æµ‹åˆ°ä¸»æœåŠ¡å™¨ä¸å¯ç”¨ï¼Œå¹¶ä¸”æ•°é‡è¾¾åˆ°ä¸€ å®šå€¼æ—¶ï¼Œé‚£ä¹ˆå“¨å…µä¹‹é—´å°±ä¼šè¿›è¡Œä¸€æ¬¡æŠ•ç¥¨ï¼ŒæŠ•ç¥¨çš„ç»“æœç”±ä¸€ä¸ªå“¨å…µå‘èµ·ï¼Œè¿›è¡Œfailover[æ•…éšœè½¬ç§»]æ“ä½œã€‚ åˆ‡æ¢æˆåŠŸåï¼Œå°±ä¼šé€šè¿‡å‘å¸ƒè®¢é˜…æ¨¡å¼ï¼Œè®©å„ä¸ªå“¨å…µæŠŠè‡ªå·±ç›‘æ§çš„ä»æœåŠ¡å™¨å®ç°åˆ‡æ¢ä¸»æœºï¼Œè¿™ä¸ªè¿‡ç¨‹ç§°ä¸º å®¢è§‚ä¸‹çº¿ã€‚ æµ‹è¯•æˆ‘ä»¬ç›®å‰çš„çŠ¶æ€æ˜¯ ä¸€ä¸»äºŒä»ï¼ 1ã€é…ç½®å“¨å…µé…ç½®æ–‡ä»¶ sentinel.conf 12# sentinel monitor è¢«ç›‘æ§çš„åç§° host port 1sentinel monitor myredis 127.0.0.1 6379 1 åé¢çš„è¿™ä¸ªæ•°å­—1ï¼Œä»£è¡¨ä¸»æœºæŒ‚äº†ï¼ŒslaveæŠ•ç¥¨çœ‹è®©è°æ¥æ›¿æˆä¸ºä¸»æœºï¼Œç¥¨æ•°æœ€å¤šçš„ï¼Œå°±ä¼šæˆä¸ºä¸»æœºï¼ 2ã€å¯åŠ¨å“¨å…µï¼ 123456789101112131415161718192021222324252627282930313233[root@kuangshen bin]# redis-sentinel kconfig/sentinel.conf26607:X 31 Mar 2020 21:13:10.027 # oO0OoO0OoO0Oo Redis is starting oO0OoO0OoO0Oo26607:X 31 Mar 2020 21:13:10.027 # Redis version=5.0.8, bits=64,commit=00000000, modified=0, pid=26607, just started26607:X 31 Mar 2020 21:13:10.027 # Configuration loaded_.__.-``__ ''-.__.-`` `. `_. ''-._ Redis 5.0.8 (00000000/0) 64 bit.-`` .-```. ```\\/ _.,_ ''-._( ' , .-` | `, ) Running in sentinel mode|`-._`-...-` __...-.``-._|'` _.-'| Port: 26379| `-._ `._ / _.-' | PID: 26607`-._ `-._ `-./ _.-' _.-'|`-._`-._ `-.__.-' _.-'_.-'|| `-._`-._ _.-'_.-' | http://redis.io`-._ `-._`-.__.-'_.-' _.-'|`-._`-._ `-.__.-' _.-'_.-'|| `-._`-._ _.-'_.-' |`-._ `-._`-.__.-'_.-' _.-'`-._ `-.__.-' _.-'`-._ _.-'`-.__.-'26607:X 31 Mar 2020 21:13:10.029 # WARNING: The TCP backlog setting of 511cannot be enforced because /proc/sys/net/core/somaxconn is set to the lower valueof 128.26607:X 31 Mar 2020 21:13:10.031 # Sentinel ID is4c780da7e22d2aebe3bc20c333746f202ce7299626607:X 31 Mar 2020 21:13:10.031 # +monitor master myredis 127.0.0.1 6379 quorum126607:X 31 Mar 2020 21:13:10.031 * +slave slave 127.0.0.1:6380 127.0.0.1 6380 @myredis 127.0.0.1 637926607:X 31 Mar 2020 21:13:10.033 * +slave slave 127.0.0.1:6381 127.0.0.1 6381 @myredis 127.0.0.1 6379 å¦‚æœMaster èŠ‚ç‚¹æ–­å¼€äº†ï¼Œè¿™ä¸ªæ—¶å€™å°±ä¼šä»ä»æœºä¸­éšæœºé€‰æ‹©ä¸€ä¸ªæœåŠ¡å™¨ï¼ ï¼ˆè¿™é‡Œé¢æœ‰ä¸€ä¸ªæŠ•ç¥¨ç®—æ³•ï¼ï¼‰ å“¨å…µæ¨¡å¼ä¼˜ç‚¹ï¼š1ã€å“¨å…µé›†ç¾¤ï¼ŒåŸºäºä¸»ä»å¤åˆ¶æ¨¡å¼ï¼Œæ‰€æœ‰çš„ä¸»ä»é…ç½®ä¼˜ç‚¹ï¼Œå®ƒå…¨æœ‰ 2ã€ ä¸»ä»å¯ä»¥åˆ‡æ¢ï¼Œæ•…éšœå¯ä»¥è½¬ç§»ï¼Œç³»ç»Ÿçš„å¯ç”¨æ€§å°±ä¼šæ›´å¥½ 3ã€å“¨å…µæ¨¡å¼å°±æ˜¯ä¸»ä»æ¨¡å¼çš„å‡çº§ï¼Œæ‰‹åŠ¨åˆ°è‡ªåŠ¨ï¼Œæ›´åŠ å¥å£®ï¼ ç¼ºç‚¹ï¼š1ã€Redis ä¸å¥½å•Šåœ¨çº¿æ‰©å®¹çš„ï¼Œé›†ç¾¤å®¹é‡ä¸€æ—¦åˆ°è¾¾ä¸Šé™ï¼Œåœ¨çº¿æ‰©å®¹å°±ååˆ†éº»çƒ¦ï¼ 2ã€å®ç°å“¨å…µæ¨¡å¼çš„é…ç½®å…¶å®æ˜¯å¾ˆéº»çƒ¦çš„ï¼Œé‡Œé¢æœ‰å¾ˆå¤šé€‰æ‹©ï¼ å“¨å…µæ¨¡å¼çš„å…¨éƒ¨é…ç½®ï¼ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465# Example sentinel.conf# å“¨å…µsentinelå®ä¾‹è¿è¡Œçš„ç«¯å£ é»˜è®¤26379port 26379# å“¨å…µsentinelçš„å·¥ä½œç›®å½•dir /tmp# å“¨å…µsentinelç›‘æ§çš„redisä¸»èŠ‚ç‚¹çš„ ip port# master-name å¯ä»¥è‡ªå·±å‘½åçš„ä¸»èŠ‚ç‚¹åå­— åªèƒ½ç”±å­—æ¯A-zã€æ•°å­—0-9 ã€è¿™ä¸‰ä¸ªå­—ç¬¦&quot;.-_&quot;ç»„æˆã€‚# quorum é…ç½®å¤šå°‘ä¸ªsentinelå“¨å…µç»Ÿä¸€è®¤ä¸ºmasterä¸»èŠ‚ç‚¹å¤±è” é‚£ä¹ˆè¿™æ—¶å®¢è§‚ä¸Šè®¤ä¸ºä¸»èŠ‚ç‚¹å¤±è”äº†# sentinel monitor &lt;master-name&gt; &lt;ip&gt; &lt;redis-port&gt; &lt;quorum&gt;sentinel monitor mymaster 127.0.0.1 6379 2# å½“åœ¨Rediså®ä¾‹ä¸­å¼€å¯äº†requirepass foobared æˆæƒå¯†ç  è¿™æ ·æ‰€æœ‰è¿æ¥Rediså®ä¾‹çš„å®¢æˆ·ç«¯éƒ½è¦æä¾›å¯†ç # è®¾ç½®å“¨å…µsentinel è¿æ¥ä¸»ä»çš„å¯†ç  æ³¨æ„å¿…é¡»ä¸ºä¸»ä»è®¾ç½®ä¸€æ ·çš„éªŒè¯å¯†ç # sentinel auth-pass &lt;master-name&gt; &lt;password&gt;sentinel auth-pass mymaster MySUPER--secret-0123passw0rd# æŒ‡å®šå¤šå°‘æ¯«ç§’ä¹‹å ä¸»èŠ‚ç‚¹æ²¡æœ‰åº”ç­”å“¨å…µsentinel æ­¤æ—¶ å“¨å…µä¸»è§‚ä¸Šè®¤ä¸ºä¸»èŠ‚ç‚¹ä¸‹çº¿ é»˜è®¤30ç§’# sentinel down-after-milliseconds &lt;master-name&gt; &lt;milliseconds&gt;sentinel down-after-milliseconds mymaster 30000# è¿™ä¸ªé…ç½®é¡¹æŒ‡å®šäº†åœ¨å‘ç”Ÿfailoverä¸»å¤‡åˆ‡æ¢æ—¶æœ€å¤šå¯ä»¥æœ‰å¤šå°‘ä¸ªslaveåŒæ—¶å¯¹æ–°çš„masterè¿›è¡Œ åŒæ­¥ï¼Œè¿™ä¸ªæ•°å­—è¶Šå°ï¼Œå®Œæˆfailoveræ‰€éœ€çš„æ—¶é—´å°±è¶Šé•¿ï¼Œä½†æ˜¯å¦‚æœè¿™ä¸ªæ•°å­—è¶Šå¤§ï¼Œå°±æ„å‘³ç€è¶Š å¤šçš„slaveå› ä¸ºreplicationè€Œä¸å¯ç”¨ã€‚å¯ä»¥é€šè¿‡å°†è¿™ä¸ªå€¼è®¾ä¸º 1 æ¥ä¿è¯æ¯æ¬¡åªæœ‰ä¸€ä¸ªslave å¤„äºä¸èƒ½å¤„ç†å‘½ä»¤è¯·æ±‚çš„çŠ¶æ€ã€‚# sentinel parallel-syncs &lt;master-name&gt; &lt;numslaves&gt;sentinel parallel-syncs mymaster 1# æ•…éšœè½¬ç§»çš„è¶…æ—¶æ—¶é—´ failover-timeout å¯ä»¥ç”¨åœ¨ä»¥ä¸‹è¿™äº›æ–¹é¢ï¼š#1. åŒä¸€ä¸ªsentinelå¯¹åŒä¸€ä¸ªmasterä¸¤æ¬¡failoverä¹‹é—´çš„é—´éš”æ—¶é—´ã€‚#2. å½“ä¸€ä¸ªslaveä»ä¸€ä¸ªé”™è¯¯çš„masteré‚£é‡ŒåŒæ­¥æ•°æ®å¼€å§‹è®¡ç®—æ—¶é—´ã€‚ç›´åˆ°slaveè¢«çº æ­£ä¸ºå‘æ­£ç¡®çš„masteré‚£é‡ŒåŒæ­¥æ•°æ®æ—¶ã€‚#3.å½“æƒ³è¦å–æ¶ˆä¸€ä¸ªæ­£åœ¨è¿›è¡Œçš„failoveræ‰€éœ€è¦çš„æ—¶é—´ã€‚#4.å½“è¿›è¡Œfailoveræ—¶ï¼Œé…ç½®æ‰€æœ‰slavesæŒ‡å‘æ–°çš„masteræ‰€éœ€çš„æœ€å¤§æ—¶é—´ã€‚ä¸è¿‡ï¼Œå³ä½¿è¿‡äº†è¿™ä¸ªè¶…æ—¶ï¼Œslavesä¾ç„¶ä¼šè¢«æ­£ç¡®é…ç½®ä¸ºæŒ‡å‘masterï¼Œä½†æ˜¯å°±ä¸æŒ‰parallel-syncsæ‰€é…ç½®çš„è§„åˆ™æ¥äº†# é»˜è®¤ä¸‰åˆ†é’Ÿ# sentinel failover-timeout &lt;master-name&gt; &lt;milliseconds&gt;sentinel failover-timeout mymaster 180000# SCRIPTS EXECUTION#é…ç½®å½“æŸä¸€äº‹ä»¶å‘ç”Ÿæ—¶æ‰€éœ€è¦æ‰§è¡Œçš„è„šæœ¬ï¼Œå¯ä»¥é€šè¿‡è„šæœ¬æ¥é€šçŸ¥ç®¡ç†å‘˜ï¼Œä¾‹å¦‚å½“ç³»ç»Ÿè¿è¡Œä¸æ­£å¸¸æ—¶å‘é‚®ä»¶é€šçŸ¥ç›¸å…³äººå‘˜ã€‚#å¯¹äºè„šæœ¬çš„è¿è¡Œç»“æœæœ‰ä»¥ä¸‹è§„åˆ™ï¼š#è‹¥è„šæœ¬æ‰§è¡Œåè¿”å›1ï¼Œé‚£ä¹ˆè¯¥è„šæœ¬ç¨åå°†ä¼šè¢«å†æ¬¡æ‰§è¡Œï¼Œé‡å¤æ¬¡æ•°ç›®å‰é»˜è®¤ä¸º10#è‹¥è„šæœ¬æ‰§è¡Œåè¿”å›2ï¼Œæˆ–è€…æ¯”2æ›´é«˜çš„ä¸€ä¸ªè¿”å›å€¼ï¼Œè„šæœ¬å°†ä¸ä¼šé‡å¤æ‰§è¡Œã€‚#å¦‚æœè„šæœ¬åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­ç”±äºæ”¶åˆ°ç³»ç»Ÿä¸­æ–­ä¿¡å·è¢«ç»ˆæ­¢äº†ï¼Œåˆ™åŒè¿”å›å€¼ä¸º1æ—¶çš„è¡Œä¸ºç›¸åŒã€‚#ä¸€ä¸ªè„šæœ¬çš„æœ€å¤§æ‰§è¡Œæ—¶é—´ä¸º60sï¼Œå¦‚æœè¶…è¿‡è¿™ä¸ªæ—¶é—´ï¼Œè„šæœ¬å°†ä¼šè¢«ä¸€ä¸ªSIGKILLä¿¡å·ç»ˆæ­¢ï¼Œä¹‹åé‡æ–°æ‰§è¡Œã€‚#é€šçŸ¥å‹è„šæœ¬:å½“sentinelæœ‰ä»»ä½•è­¦å‘Šçº§åˆ«çš„äº‹ä»¶å‘ç”Ÿæ—¶ï¼ˆæ¯”å¦‚è¯´rediså®ä¾‹çš„ä¸»è§‚å¤±æ•ˆå’Œå®¢è§‚å¤±æ•ˆç­‰ç­‰ï¼‰ï¼Œå°†ä¼šå»è°ƒç”¨è¿™ä¸ªè„šæœ¬ï¼Œè¿™æ—¶è¿™ä¸ªè„šæœ¬åº”è¯¥é€šè¿‡é‚®ä»¶ï¼ŒSMSç­‰æ–¹å¼å»é€šçŸ¥ç³»ç»Ÿç®¡ç†å‘˜å…³äºç³»ç»Ÿä¸æ­£å¸¸è¿è¡Œçš„ä¿¡æ¯ã€‚è°ƒç”¨è¯¥è„šæœ¬æ—¶ï¼Œå°†ä¼ ç»™è„šæœ¬ä¸¤ä¸ªå‚æ•°ï¼Œä¸€ä¸ªæ˜¯äº‹ä»¶çš„ç±»å‹ï¼Œä¸€ä¸ªæ˜¯äº‹ä»¶çš„æè¿°ã€‚å¦‚æœsentinel.confé…ç½®æ–‡ä»¶ä¸­é…ç½®äº†è¿™ä¸ªè„šæœ¬è·¯å¾„ï¼Œé‚£ä¹ˆå¿…é¡»ä¿è¯è¿™ä¸ªè„šæœ¬å­˜åœ¨äºè¿™ä¸ªè·¯å¾„ï¼Œå¹¶ä¸”æ˜¯å¯æ‰§è¡Œçš„ï¼Œå¦åˆ™sentinelæ— æ³•æ­£å¸¸å¯åŠ¨æˆåŠŸã€‚#é€šçŸ¥è„šæœ¬# shellç¼–ç¨‹# sentinel notification-script &lt;master-name&gt; &lt;script-path&gt;sentinel notification-script mymaster /var/redis/notify.sh# å®¢æˆ·ç«¯é‡æ–°é…ç½®ä¸»èŠ‚ç‚¹å‚æ•°è„šæœ¬# å½“ä¸€ä¸ªmasterç”±äºfailoverè€Œå‘ç”Ÿæ”¹å˜æ—¶ï¼Œè¿™ä¸ªè„šæœ¬å°†ä¼šè¢«è°ƒç”¨ï¼Œé€šçŸ¥ç›¸å…³çš„å®¢æˆ·ç«¯å…³äºmasteråœ°å€å·²ç»å‘ç”Ÿæ”¹å˜çš„ä¿¡æ¯ã€‚# ä»¥ä¸‹å‚æ•°å°†ä¼šåœ¨è°ƒç”¨è„šæœ¬æ—¶ä¼ ç»™è„šæœ¬:# &lt;master-name&gt; &lt;role&gt; &lt;state&gt; &lt;from-ip&gt; &lt;from-port&gt; &lt;to-ip&gt; &lt;to-port&gt;# ç›®å‰&lt;state&gt;æ€»æ˜¯â€œfailoverâ€,# &lt;role&gt;æ˜¯â€œleaderâ€æˆ–è€…â€œobserverâ€ä¸­çš„ä¸€ä¸ªã€‚# å‚æ•° from-ip, from-port, to-ip, to-portæ˜¯ç”¨æ¥å’Œæ—§çš„masterå’Œæ–°çš„master(å³æ—§çš„slave)é€šä¿¡çš„# è¿™ä¸ªè„šæœ¬åº”è¯¥æ˜¯é€šç”¨çš„ï¼Œèƒ½è¢«å¤šæ¬¡è°ƒç”¨ï¼Œä¸æ˜¯é’ˆå¯¹æ€§çš„ã€‚# sentinel client-reconfig-script &lt;master-name&gt; &lt;script-path&gt;sentinel client-reconfig-script mymaster /var/redis/reconfig.sh # ä¸€èˆ¬éƒ½æ˜¯ç”±è¿ç»´æ¥é…ç½®ï¼ Redisç¼“å­˜ç©¿é€å’Œé›ªå´©æœåŠ¡çš„é«˜å¯ç”¨é—®é¢˜ï¼ åœ¨è¿™é‡Œæˆ‘ä»¬ä¸ä¼šè¯¦ç»†çš„åŒºåˆ†æè§£å†³æ–¹æ¡ˆçš„åº•å±‚ï¼ Redisç¼“å­˜çš„ä½¿ç”¨ï¼Œæå¤§çš„æå‡äº†åº”ç”¨ç¨‹åºçš„æ€§èƒ½å’Œæ•ˆç‡ï¼Œç‰¹åˆ«æ˜¯æ•°æ®æŸ¥è¯¢æ–¹é¢ã€‚ä½†åŒæ—¶ï¼Œå®ƒä¹Ÿå¸¦æ¥äº†ä¸€ äº›é—®é¢˜ã€‚å…¶ä¸­ï¼Œæœ€è¦å®³çš„é—®é¢˜ï¼Œå°±æ˜¯æ•°æ®çš„ä¸€è‡´æ€§é—®é¢˜ï¼Œä»ä¸¥æ ¼æ„ä¹‰ä¸Šè®²ï¼Œè¿™ä¸ªé—®é¢˜æ— è§£ã€‚å¦‚æœå¯¹æ•°æ® çš„ä¸€è‡´æ€§è¦æ±‚å¾ˆé«˜ï¼Œé‚£ä¹ˆå°±ä¸èƒ½ä½¿ç”¨ç¼“å­˜ã€‚ å¦å¤–çš„ä¸€äº›å…¸å‹é—®é¢˜å°±æ˜¯ï¼Œç¼“å­˜ç©¿é€ã€ç¼“å­˜é›ªå´©å’Œç¼“å­˜å‡»ç©¿ã€‚ç›®å‰ï¼Œä¸šç•Œä¹Ÿéƒ½æœ‰æ¯”è¾ƒæµè¡Œçš„è§£å†³æ–¹æ¡ˆã€‚ ç¼“å­˜ç©¿é€ï¼ˆæŸ¥ä¸åˆ°ï¼‰æ¦‚å¿µç¼“å­˜ç©¿é€çš„æ¦‚å¿µå¾ˆç®€å•ï¼Œç”¨æˆ·æƒ³è¦æŸ¥è¯¢ä¸€ä¸ªæ•°æ®ï¼Œå‘ç°rediså†…å­˜æ•°æ®åº“æ²¡æœ‰ï¼Œä¹Ÿå°±æ˜¯ç¼“å­˜æ²¡æœ‰å‘½ä¸­ï¼Œäº æ˜¯å‘æŒä¹…å±‚æ•°æ®åº“æŸ¥è¯¢ã€‚å‘ç°ä¹Ÿæ²¡æœ‰ï¼Œäºæ˜¯æœ¬æ¬¡æŸ¥è¯¢å¤±è´¥ã€‚å½“ç”¨æˆ·å¾ˆå¤šçš„æ—¶å€™ï¼Œç¼“å­˜éƒ½æ²¡æœ‰å‘½ä¸­ï¼ˆç§’ æ€ï¼ï¼‰ï¼Œäºæ˜¯éƒ½å»è¯·æ±‚äº†æŒä¹…å±‚æ•°æ®åº“ã€‚è¿™ä¼šç»™æŒä¹…å±‚æ•°æ®åº“é€ æˆå¾ˆå¤§çš„å‹åŠ›ï¼Œè¿™æ—¶å€™å°±ç›¸å½“äºå‡ºç°äº† ç¼“å­˜ç©¿é€ã€‚ è§£å†³æ–¹æ¡ˆå¸ƒéš†è¿‡æ»¤å™¨å¸ƒéš†è¿‡æ»¤å™¨æ˜¯ä¸€ç§æ•°æ®ç»“æ„ï¼Œå¯¹æ‰€æœ‰å¯èƒ½æŸ¥è¯¢çš„å‚æ•°ä»¥hashå½¢å¼å­˜å‚¨ï¼Œåœ¨æ§åˆ¶å±‚å…ˆè¿›è¡Œæ ¡éªŒï¼Œä¸ç¬¦åˆåˆ™ ä¸¢å¼ƒï¼Œä»è€Œé¿å…äº†å¯¹åº•å±‚å­˜å‚¨ç³»ç»Ÿçš„æŸ¥è¯¢å‹åŠ›ï¼› ç¼“å­˜ç©ºå¯¹è±¡å½“å­˜å‚¨å±‚ä¸å‘½ä¸­åï¼Œå³ä½¿è¿”å›çš„ç©ºå¯¹è±¡ä¹Ÿå°†å…¶ç¼“å­˜èµ·æ¥ï¼ŒåŒæ—¶ä¼šè®¾ç½®ä¸€ä¸ªè¿‡æœŸæ—¶é—´ï¼Œä¹‹åå†è®¿é—®è¿™ä¸ªæ•° æ®å°†ä¼šä»ç¼“å­˜ä¸­è·å–ï¼Œä¿æŠ¤äº†åç«¯æ•°æ®æºï¼› ä½†æ˜¯è¿™ç§æ–¹æ³•ä¼šå­˜åœ¨ä¸¤ä¸ªé—®é¢˜ï¼š 1ã€å¦‚æœç©ºå€¼èƒ½å¤Ÿè¢«ç¼“å­˜èµ·æ¥ï¼Œè¿™å°±æ„å‘³ç€ç¼“å­˜éœ€è¦æ›´å¤šçš„ç©ºé—´å­˜å‚¨æ›´å¤šçš„é”®ï¼Œå› ä¸ºè¿™å½“ä¸­å¯èƒ½ä¼šæœ‰å¾ˆå¤š çš„ç©ºå€¼çš„é”®ï¼› 2ã€å³ä½¿å¯¹ç©ºå€¼è®¾ç½®äº†è¿‡æœŸæ—¶é—´ï¼Œè¿˜æ˜¯ä¼šå­˜åœ¨ç¼“å­˜å±‚å’Œå­˜å‚¨å±‚çš„æ•°æ®ä¼šæœ‰ä¸€æ®µæ—¶é—´çª—å£çš„ä¸ä¸€è‡´ï¼Œè¿™å¯¹äº éœ€è¦ä¿æŒä¸€è‡´æ€§çš„ä¸šåŠ¡ä¼šæœ‰å½±å“ã€‚ ç¼“å­˜å‡»ç©¿ï¼ˆé‡å¤ªå¤§ï¼Œç¼“å­˜è¿‡æœŸï¼ï¼‰æ¦‚è¿°è¿™é‡Œéœ€è¦æ³¨æ„å’Œç¼“å­˜å‡»ç©¿çš„åŒºåˆ«ï¼Œç¼“å­˜å‡»ç©¿ï¼Œæ˜¯æŒ‡ä¸€ä¸ªkeyéå¸¸çƒ­ç‚¹ï¼Œåœ¨ä¸åœçš„æ‰›ç€å¤§å¹¶å‘ï¼Œå¤§å¹¶å‘é›†ä¸­ å¯¹è¿™ä¸€ä¸ªç‚¹è¿›è¡Œè®¿é—®ï¼Œå½“è¿™ä¸ªkeyåœ¨å¤±æ•ˆçš„ç¬é—´ï¼ŒæŒç»­çš„å¤§å¹¶å‘å°±ç©¿ç ´ç¼“å­˜ï¼Œç›´æ¥è¯·æ±‚æ•°æ®åº“ï¼Œå°±åƒåœ¨ä¸€ ä¸ªå±éšœä¸Šå‡¿å¼€äº†ä¸€ä¸ªæ´ã€‚ å½“æŸä¸ªkeyåœ¨è¿‡æœŸçš„ç¬é—´ï¼Œæœ‰å¤§é‡çš„è¯·æ±‚å¹¶å‘è®¿é—®ï¼Œè¿™ç±»æ•°æ®ä¸€èˆ¬æ˜¯çƒ­ç‚¹æ•°æ®ï¼Œç”±äºç¼“å­˜è¿‡æœŸï¼Œä¼šåŒæ—¶è®¿ é—®æ•°æ®åº“æ¥æŸ¥è¯¢æœ€æ–°æ•°æ®ï¼Œå¹¶ä¸”å›å†™ç¼“å­˜ï¼Œä¼šå¯¼ä½¿æ•°æ®åº“ç¬é—´å‹åŠ›è¿‡å¤§ã€‚ è§£å†³æ–¹æ¡ˆè®¾ç½®çƒ­ç‚¹æ•°æ®æ°¸ä¸è¿‡æœŸä»ç¼“å­˜å±‚é¢æ¥çœ‹ï¼Œæ²¡æœ‰è®¾ç½®è¿‡æœŸæ—¶é—´ï¼Œæ‰€ä»¥ä¸ä¼šå‡ºç°çƒ­ç‚¹ key è¿‡æœŸåäº§ç”Ÿçš„é—®é¢˜ã€‚ åŠ äº’æ–¥é”åˆ†å¸ƒå¼é”ï¼šä½¿ç”¨åˆ†å¸ƒå¼é”ï¼Œä¿è¯å¯¹äºæ¯ä¸ªkeyåŒæ—¶åªæœ‰ä¸€ä¸ªçº¿ç¨‹å»æŸ¥è¯¢åç«¯æœåŠ¡ï¼Œå…¶ä»–çº¿ç¨‹æ²¡æœ‰è·å¾—åˆ†å¸ƒ å¼é”çš„æƒé™ï¼Œå› æ­¤åªéœ€è¦ç­‰å¾…å³å¯ã€‚è¿™ç§æ–¹å¼å°†é«˜å¹¶å‘çš„å‹åŠ›è½¬ç§»åˆ°äº†åˆ†å¸ƒå¼é”ï¼Œå› æ­¤å¯¹åˆ†å¸ƒå¼é”çš„è€ƒ éªŒå¾ˆå¤§ã€‚ ç¼“å­˜é›ªå´©æ¦‚å¿µç¼“å­˜é›ªå´©ï¼Œæ˜¯æŒ‡åœ¨æŸä¸€ä¸ªæ—¶é—´æ®µï¼Œç¼“å­˜é›†ä¸­è¿‡æœŸå¤±æ•ˆã€‚Redis å®•æœºï¼ äº§ç”Ÿé›ªå´©çš„åŸå› ä¹‹ä¸€ï¼Œæ¯”å¦‚åœ¨å†™æœ¬æ–‡çš„æ—¶å€™ï¼Œé©¬ä¸Šå°±è¦åˆ°åŒåäºŒé›¶ç‚¹ï¼Œå¾ˆå¿«å°±ä¼šè¿æ¥ä¸€æ³¢æŠ¢è´­ï¼Œè¿™æ³¢å•† å“æ—¶é—´æ¯”è¾ƒé›†ä¸­çš„æ”¾å…¥äº†ç¼“å­˜ï¼Œå‡è®¾ç¼“å­˜ä¸€ä¸ªå°æ—¶ã€‚é‚£ä¹ˆåˆ°äº†å‡Œæ™¨ä¸€ç‚¹é’Ÿçš„æ—¶å€™ï¼Œè¿™æ‰¹å•†å“çš„ç¼“å­˜å°±éƒ½ è¿‡æœŸäº†ã€‚è€Œå¯¹è¿™æ‰¹å•†å“çš„è®¿é—®æŸ¥è¯¢ï¼Œéƒ½è½åˆ°äº†æ•°æ®åº“ä¸Šï¼Œå¯¹äºæ•°æ®åº“è€Œè¨€ï¼Œå°±ä¼šäº§ç”Ÿå‘¨æœŸæ€§çš„å‹åŠ›æ³¢ å³°ã€‚äºæ˜¯æ‰€æœ‰çš„è¯·æ±‚éƒ½ä¼šè¾¾åˆ°å­˜å‚¨å±‚ï¼Œå­˜å‚¨å±‚çš„è°ƒç”¨é‡ä¼šæš´å¢ï¼Œé€ æˆå­˜å‚¨å±‚ä¹Ÿä¼šæŒ‚æ‰çš„æƒ…å†µã€‚ å…¶å®é›†ä¸­è¿‡æœŸï¼Œå€’ä¸æ˜¯éå¸¸è‡´å‘½ï¼Œæ¯”è¾ƒè‡´å‘½çš„ç¼“å­˜é›ªå´©ï¼Œæ˜¯ç¼“å­˜æœåŠ¡å™¨æŸä¸ªèŠ‚ç‚¹å®•æœºæˆ–æ–­ç½‘ã€‚å› ä¸ºè‡ªç„¶ å½¢æˆçš„ç¼“å­˜é›ªå´©ï¼Œä¸€å®šæ˜¯åœ¨æŸä¸ªæ—¶é—´æ®µé›†ä¸­åˆ›å»ºç¼“å­˜ï¼Œè¿™ä¸ªæ—¶å€™ï¼Œæ•°æ®åº“ä¹Ÿæ˜¯å¯ä»¥é¡¶ä½å‹åŠ›çš„ã€‚æ— éå°± æ˜¯å¯¹æ•°æ®åº“äº§ç”Ÿå‘¨æœŸæ€§çš„å‹åŠ›è€Œå·²ã€‚è€Œç¼“å­˜æœåŠ¡èŠ‚ç‚¹çš„å®•æœºï¼Œå¯¹æ•°æ®åº“æœåŠ¡å™¨é€ æˆçš„å‹åŠ›æ˜¯ä¸å¯é¢„çŸ¥ çš„ï¼Œå¾ˆæœ‰å¯èƒ½ç¬é—´å°±æŠŠæ•°æ®åº“å‹å®ã€‚ è§£å†³æ–¹æ¡ˆredisé«˜å¯ç”¨ è¿™ä¸ªæ€æƒ³çš„å«ä¹‰æ˜¯ï¼Œæ—¢ç„¶redisæœ‰å¯èƒ½æŒ‚æ‰ï¼Œé‚£æˆ‘å¤šå¢è®¾å‡ å°redisï¼Œè¿™æ ·ä¸€å°æŒ‚æ‰ä¹‹åå…¶ä»–çš„è¿˜å¯ä»¥ç»§ç»­ å·¥ä½œï¼Œå…¶å®å°±æ˜¯æ­å»ºçš„é›†ç¾¤ã€‚ï¼ˆå¼‚åœ°å¤šæ´»ï¼ï¼‰ é™æµé™çº§ï¼ˆåœ¨SpringCloudè®²è§£è¿‡ï¼ï¼‰ è¿™ä¸ªè§£å†³æ–¹æ¡ˆçš„æ€æƒ³æ˜¯ï¼Œåœ¨ç¼“å­˜å¤±æ•ˆåï¼Œé€šè¿‡åŠ é”æˆ–è€…é˜Ÿåˆ—æ¥æ§åˆ¶è¯»æ•°æ®åº“å†™ç¼“å­˜çš„çº¿ç¨‹æ•°é‡ã€‚æ¯”å¦‚å¯¹ æŸä¸ªkeyåªå…è®¸ä¸€ä¸ªçº¿ç¨‹æŸ¥è¯¢æ•°æ®å’Œå†™ç¼“å­˜ï¼Œå…¶ä»–çº¿ç¨‹ç­‰å¾…ã€‚ æ•°æ®é¢„çƒ­ æ•°æ®åŠ çƒ­çš„å«ä¹‰å°±æ˜¯åœ¨æ­£å¼éƒ¨ç½²ä¹‹å‰ï¼Œæˆ‘å…ˆæŠŠå¯èƒ½çš„æ•°æ®å…ˆé¢„å…ˆè®¿é—®ä¸€éï¼Œè¿™æ ·éƒ¨åˆ†å¯èƒ½å¤§é‡è®¿é—®çš„æ•° æ®å°±ä¼šåŠ è½½åˆ°ç¼“å­˜ä¸­ã€‚åœ¨å³å°†å‘ç”Ÿå¤§å¹¶å‘è®¿é—®å‰æ‰‹åŠ¨è§¦å‘åŠ è½½ç¼“å­˜ä¸åŒçš„keyï¼Œè®¾ç½®ä¸åŒçš„è¿‡æœŸæ—¶é—´ï¼Œè®© ç¼“å­˜å¤±æ•ˆçš„æ—¶é—´ç‚¹å°½é‡å‡åŒ€ã€‚ RedisæŒä¹…åŒ–é¢è¯•å’Œå·¥ä½œï¼ŒæŒä¹…åŒ–éƒ½æ˜¯é‡ç‚¹ï¼ Redis æ˜¯å†…å­˜æ•°æ®åº“ï¼Œå¦‚æœä¸å°†å†…å­˜ä¸­çš„æ•°æ®åº“çŠ¶æ€ä¿å­˜åˆ°ç£ç›˜ï¼Œé‚£ä¹ˆä¸€æ—¦æœåŠ¡å™¨è¿›ç¨‹é€€å‡ºï¼ŒæœåŠ¡å™¨ä¸­ çš„æ•°æ®åº“çŠ¶æ€ä¹Ÿä¼šæ¶ˆå¤±ã€‚æ‰€ä»¥ Redis æä¾›äº†æŒä¹…åŒ–åŠŸèƒ½ï¼ RDBï¼ˆRedis DataBaseï¼‰ ä»€ä¹ˆæ˜¯RDB åœ¨ä¸»ä»å¤åˆ¶ä¸­ï¼Œrdbå°±æ˜¯å¤‡ç”¨äº†ï¼ä»æœºä¸Šé¢ï¼ åœ¨æŒ‡å®šçš„æ—¶é—´é—´éš”å†…å°†å†…å­˜ä¸­çš„æ•°æ®é›†å¿«ç…§å†™å…¥ç£ç›˜ï¼Œä¹Ÿå°±æ˜¯è¡Œè¯è®²çš„Snapshotå¿«ç…§ï¼Œå®ƒæ¢å¤æ—¶æ˜¯å°†å¿«ç…§æ–‡ä»¶ç›´æ¥è¯»åˆ°å†…å­˜é‡Œã€‚ Redisä¼šå•ç‹¬åˆ›å»ºï¼ˆforkï¼‰ä¸€ä¸ªå­è¿›ç¨‹æ¥è¿›è¡ŒæŒä¹…åŒ–ï¼Œä¼šå…ˆå°†æ•°æ®å†™å…¥åˆ°ä¸€ä¸ªä¸´æ—¶æ–‡ä»¶ä¸­ï¼Œå¾…æŒä¹…åŒ–è¿‡ç¨‹éƒ½ç»“æŸäº†ï¼Œå†ç”¨è¿™ä¸ªä¸´æ—¶æ–‡ä»¶æ›¿æ¢ä¸Šæ¬¡æŒä¹…åŒ–å¥½çš„æ–‡ä»¶ã€‚æ•´ä¸ªè¿‡ç¨‹ä¸­ï¼Œä¸»è¿›ç¨‹æ˜¯ä¸è¿›è¡Œä»»ä½•IOæ“ä½œçš„ã€‚è¿™å°±ç¡®ä¿äº†æé«˜çš„æ€§èƒ½ã€‚å¦‚æœéœ€è¦è¿›è¡Œå¤§è§„æ¨¡æ•°æ®çš„æ¢å¤ï¼Œä¸”å¯¹äºæ•°æ®æ¢å¤çš„å®Œæ•´æ€§ä¸æ˜¯éå¸¸æ•æ„Ÿï¼Œé‚£RDBæ–¹å¼è¦æ¯”AOFæ–¹å¼æ›´åŠ çš„é«˜æ•ˆã€‚RDBçš„ç¼ºç‚¹æ˜¯æœ€åä¸€æ¬¡æŒä¹…åŒ–åçš„æ•°æ®å¯èƒ½ä¸¢å¤±ã€‚æˆ‘ä»¬é»˜è®¤çš„å°±æ˜¯RDBï¼Œä¸€èˆ¬æƒ…å†µä¸‹ä¸éœ€è¦ä¿®æ”¹è¿™ä¸ªé…ç½®ï¼æœ‰æ—¶å€™åœ¨ç”Ÿäº§ç¯å¢ƒæˆ‘ä»¬ä¼šå°†è¿™ä¸ªæ–‡ä»¶è¿›è¡Œå¤‡ä»½ï¼rdbä¿å­˜çš„æ–‡ä»¶æ˜¯dump.rdb éƒ½æ˜¯åœ¨æˆ‘ä»¬çš„é…ç½®æ–‡ä»¶ä¸­å¿«ç…§ä¸­è¿›è¡Œé…ç½®çš„ï¼ è§¦å‘æœºåˆ¶1ã€saveçš„è§„åˆ™æ»¡è¶³çš„æƒ…å†µä¸‹ï¼Œä¼šè‡ªåŠ¨è§¦å‘rdbè§„åˆ™ 2ã€æ‰§è¡Œ flushall å‘½ä»¤ï¼Œä¹Ÿä¼šè§¦å‘æˆ‘ä»¬çš„rdbè§„åˆ™ï¼ 3ã€é€€å‡ºredisï¼Œä¹Ÿä¼šäº§ç”Ÿ rdb æ–‡ä»¶ï¼ å¤‡ä»½å°±è‡ªåŠ¨ç”Ÿæˆä¸€ä¸ª dump.rdb å¦‚ä½•æ¢å¤rdbæ–‡ä»¶1ã€åªéœ€è¦å°†rdbæ–‡ä»¶æ”¾åœ¨æˆ‘ä»¬rediså¯åŠ¨ç›®å½•å°±å¯ä»¥ï¼Œrediså¯åŠ¨çš„æ—¶å€™ä¼šè‡ªåŠ¨æ£€æŸ¥dump.rdb æ¢å¤å…¶ä¸­ çš„æ•°æ®ï¼ 2ã€æŸ¥çœ‹éœ€è¦å­˜åœ¨çš„ä½ç½® å‡ ä¹å°±ä»–è‡ªå·±é»˜è®¤çš„é…ç½®å°±å¤Ÿç”¨äº†ï¼Œä½†æ˜¯æˆ‘ä»¬è¿˜æ˜¯éœ€è¦å»å­¦ä¹ ï¼ ä¼˜ç‚¹ï¼š 1ã€é€‚åˆå¤§è§„æ¨¡çš„æ•°æ®æ¢å¤ï¼ 2ã€å¯¹æ•°æ®çš„å®Œæ•´æ€§è¦ä¸é«˜ï¼ ç¼ºç‚¹ï¼š 1ã€éœ€è¦ä¸€å®šçš„æ—¶é—´é—´éš”è¿›ç¨‹æ“ä½œï¼å¦‚æœredisæ„å¤–å®•æœºäº†ï¼Œè¿™ä¸ªæœ€åä¸€æ¬¡ä¿®æ”¹æ•°æ®å°±æ²¡æœ‰çš„äº†ï¼ 2ã€forkè¿›ç¨‹çš„æ—¶å€™ï¼Œä¼šå ç”¨ä¸€å®šçš„å†…å®¹ç©ºé—´ï¼ï¼ AOFï¼ˆAppend Only Fileï¼‰ å°†æˆ‘ä»¬çš„æ‰€æœ‰å‘½ä»¤éƒ½è®°å½•ä¸‹æ¥ï¼Œhistoryï¼Œæ¢å¤çš„æ—¶å€™å°±æŠŠè¿™ä¸ªæ–‡ä»¶å…¨éƒ¨åœ¨æ‰§è¡Œä¸€éï¼ æ˜¯ä»€ä¹ˆ 127.0.0.1:6379&gt; config get dir 1) â€œdirâ€ 2) â€œ/usr/local/binâ€ # å¦‚æœåœ¨è¿™ä¸ªç›®å½•ä¸‹å­˜åœ¨ dump.rdb æ–‡ä»¶ï¼Œå¯åŠ¨å°±ä¼šè‡ªåŠ¨æ¢å¤å…¶ä¸­çš„æ•°æ® ä»¥æ—¥å¿—çš„å½¢å¼æ¥è®°å½•æ¯ä¸ªå†™æ“ä½œï¼Œå°†Redisæ‰§è¡Œè¿‡çš„æ‰€æœ‰æŒ‡ä»¤è®°å½•ä¸‹æ¥ï¼ˆè¯»æ“ä½œä¸è®°å½•ï¼‰ï¼Œåªè®¸è¿½åŠ æ–‡ä»¶ ä½†ä¸å¯ä»¥æ”¹å†™æ–‡ä»¶ï¼Œrediså¯åŠ¨ä¹‹åˆä¼šè¯»å–è¯¥æ–‡ä»¶é‡æ–°æ„å»ºæ•°æ®ï¼Œæ¢è¨€ä¹‹ï¼Œredisé‡å¯çš„è¯å°±æ ¹æ®æ—¥å¿—æ–‡ä»¶ çš„å†…å®¹å°†å†™æŒ‡ä»¤ä»å‰åˆ°åæ‰§è¡Œä¸€æ¬¡ä»¥å®Œæˆæ•°æ®çš„æ¢å¤å·¥ä½œ Aofä¿å­˜çš„æ˜¯ appendonly.aof æ–‡ä»¶ é»˜è®¤æ˜¯ä¸å¼€å¯çš„ï¼Œæˆ‘ä»¬éœ€è¦æ‰‹åŠ¨è¿›è¡Œé…ç½®ï¼æˆ‘ä»¬åªéœ€è¦å°† appendonly æ”¹ä¸ºyeså°±å¼€å¯äº† aofï¼ é‡å¯ï¼Œredis å°±å¯ä»¥ç”Ÿæ•ˆäº†ï¼ å¦‚æœè¿™ä¸ª aof æ–‡ä»¶æœ‰é”™ä½ï¼Œè¿™æ—¶å€™ redis æ˜¯å¯åŠ¨ä¸èµ·æ¥çš„å—ï¼Œæˆ‘ä»¬éœ€è¦ä¿®å¤è¿™ä¸ªaofæ–‡ä»¶ redis ç»™æˆ‘ä»¬æä¾›äº†ä¸€ä¸ªå·¥å…· redis-check-aof â€”fix aof é»˜è®¤å°±æ˜¯æ–‡ä»¶çš„æ— é™è¿½åŠ ï¼Œæ–‡ä»¶ä¼šè¶Šæ¥è¶Šå¤§ï¼ å¦‚æœ aof æ–‡ä»¶å¤§äº 64mï¼Œå¤ªå¤§äº†ï¼ forkä¸€ä¸ªæ–°çš„è¿›ç¨‹æ¥å°†æˆ‘ä»¬çš„æ–‡ä»¶è¿›è¡Œé‡å†™ï¼ ä¼˜ç‚¹å’Œç¼ºç‚¹ï¼1234567appendonly no # é»˜è®¤æ˜¯ä¸å¼€å¯aofæ¨¡å¼çš„ï¼Œé»˜è®¤æ˜¯ä½¿ç”¨rdbæ–¹å¼æŒä¹…åŒ–çš„ï¼Œåœ¨å¤§éƒ¨åˆ†æ‰€æœ‰çš„æƒ…å†µä¸‹ï¼Œrdbå®Œå…¨å¤Ÿç”¨ï¼appendfilename &quot;appendonly.aof&quot; # æŒä¹…åŒ–çš„æ–‡ä»¶çš„åå­—# appendfsync always # æ¯æ¬¡ä¿®æ”¹éƒ½ä¼š syncã€‚æ¶ˆè€—æ€§èƒ½appendfsync everysec # æ¯ç§’æ‰§è¡Œä¸€æ¬¡ syncï¼Œå¯èƒ½ä¼šä¸¢å¤±è¿™1sçš„æ•°æ®ï¼# appendfsync no # ä¸æ‰§è¡Œ syncï¼Œè¿™ä¸ªæ—¶å€™æ“ä½œç³»ç»Ÿè‡ªå·±åŒæ­¥æ•°æ®ï¼Œé€Ÿåº¦æœ€å¿«ï¼# rewrite é‡å†™ï¼Œ ä¼˜ç‚¹ï¼š 1ã€æ¯ä¸€æ¬¡ä¿®æ”¹éƒ½åŒæ­¥ï¼Œæ–‡ä»¶çš„å®Œæ•´ä¼šæ›´åŠ å¥½ï¼ 2ã€æ¯ç§’åŒæ­¥ä¸€æ¬¡ï¼Œå¯èƒ½ä¼šä¸¢å¤±ä¸€ç§’çš„æ•°æ® 3ã€ä»ä¸åŒæ­¥ï¼Œæ•ˆç‡æœ€é«˜çš„ï¼ ç¼ºç‚¹ï¼š 1ã€ç›¸å¯¹äºæ•°æ®æ–‡ä»¶æ¥è¯´ï¼Œaofè¿œè¿œå¤§äº rdbï¼Œä¿®å¤çš„é€Ÿåº¦ä¹Ÿæ¯” rdbæ…¢ï¼ 2ã€Aof è¿è¡Œæ•ˆç‡ä¹Ÿè¦æ¯” rdb æ…¢ï¼Œæ‰€ä»¥æˆ‘ä»¬redisé»˜è®¤çš„é…ç½®å°±æ˜¯rdbæŒä¹…åŒ–ï¼ æ‰©å±•ï¼š 1ã€RDB æŒä¹…åŒ–æ–¹å¼èƒ½å¤Ÿåœ¨æŒ‡å®šçš„æ—¶é—´é—´éš”å†…å¯¹ä½ çš„æ•°æ®è¿›è¡Œå¿«ç…§å­˜å‚¨ 2ã€AOF æŒä¹…åŒ–æ–¹å¼è®°å½•æ¯æ¬¡å¯¹æœåŠ¡å™¨å†™çš„æ“ä½œï¼Œå½“æœåŠ¡å™¨é‡å¯çš„æ—¶å€™ä¼šé‡æ–°æ‰§è¡Œè¿™äº›å‘½ä»¤æ¥æ¢å¤åŸå§‹ çš„æ•°æ®ï¼ŒAOFå‘½ä»¤ä»¥Redis åè®®è¿½åŠ ä¿å­˜æ¯æ¬¡å†™çš„æ“ä½œåˆ°æ–‡ä»¶æœ«å°¾ï¼ŒRedisè¿˜èƒ½å¯¹AOFæ–‡ä»¶è¿›è¡Œåå°é‡ å†™ï¼Œä½¿å¾—AOFæ–‡ä»¶çš„ä½“ç§¯ä¸è‡³äºè¿‡å¤§ã€‚ 3ã€åªåšç¼“å­˜ï¼Œå¦‚æœä½ åªå¸Œæœ›ä½ çš„æ•°æ®åœ¨æœåŠ¡å™¨è¿è¡Œçš„æ—¶å€™å­˜åœ¨ï¼Œä½ ä¹Ÿå¯ä»¥ä¸ä½¿ç”¨ä»»ä½•æŒä¹…åŒ– 4ã€åŒæ—¶å¼€å¯ä¸¤ç§æŒä¹…åŒ–æ–¹å¼ åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå½“redisé‡å¯çš„æ—¶å€™ä¼šä¼˜å…ˆè½½å…¥AOFæ–‡ä»¶æ¥æ¢å¤åŸå§‹çš„æ•°æ®ï¼Œå› ä¸ºåœ¨é€šå¸¸æƒ…å†µä¸‹AOF æ–‡ä»¶ä¿å­˜çš„æ•°æ®é›†è¦æ¯”RDBæ–‡ä»¶ä¿å­˜çš„æ•°æ®é›†è¦å®Œæ•´ã€‚ RDB çš„æ•°æ®ä¸å®æ—¶ï¼ŒåŒæ—¶ä½¿ç”¨ä¸¤è€…æ—¶æœåŠ¡å™¨é‡å¯ä¹Ÿåªä¼šæ‰¾AOFæ–‡ä»¶ï¼Œé‚£è¦ä¸è¦åªä½¿ç”¨AOFå‘¢ï¼Ÿä½œè€… å»ºè®®ä¸è¦ï¼Œå› ä¸ºRDBæ›´é€‚åˆç”¨äºå¤‡ä»½æ•°æ®åº“ï¼ˆAOFåœ¨ä¸æ–­å˜åŒ–ä¸å¥½å¤‡ä»½ï¼‰ï¼Œå¿«é€Ÿé‡å¯ï¼Œè€Œä¸”ä¸ä¼šæœ‰ AOFå¯èƒ½æ½œåœ¨çš„Bugï¼Œç•™ç€ä½œä¸ºä¸€ä¸ªä¸‡ä¸€çš„æ‰‹æ®µã€‚ 5ã€æ€§èƒ½å»ºè®® å› ä¸ºRDBæ–‡ä»¶åªç”¨ä½œåå¤‡ç”¨é€”ï¼Œå»ºè®®åªåœ¨Slaveä¸ŠæŒä¹…åŒ–RDBæ–‡ä»¶ï¼Œè€Œä¸”åªè¦15åˆ†é’Ÿå¤‡ä»½ä¸€æ¬¡å°±å¤Ÿ äº†ï¼Œåªä¿ç•™ save 900 1 è¿™æ¡è§„åˆ™ã€‚ å¦‚æœEnable AOF ï¼Œå¥½å¤„æ˜¯åœ¨æœ€æ¶åŠ£æƒ…å†µä¸‹ä¹Ÿåªä¼šä¸¢å¤±ä¸è¶…è¿‡ä¸¤ç§’æ•°æ®ï¼Œå¯åŠ¨è„šæœ¬è¾ƒç®€å•åªloadè‡ª å·±çš„AOFæ–‡ä»¶å°±å¯ä»¥äº†ï¼Œä»£ä»·ä¸€æ˜¯å¸¦æ¥äº†æŒç»­çš„IOï¼ŒäºŒæ˜¯AOF rewrite çš„æœ€åå°† rewrite è¿‡ç¨‹ä¸­äº§ ç”Ÿçš„æ–°æ•°æ®å†™åˆ°æ–°æ–‡ä»¶é€ æˆçš„é˜»å¡å‡ ä¹æ˜¯ä¸å¯é¿å…çš„ã€‚åªè¦ç¡¬ç›˜è®¸å¯ï¼Œåº”è¯¥å°½é‡å‡å°‘AOF rewrite çš„é¢‘ç‡ï¼ŒAOFé‡å†™çš„åŸºç¡€å¤§å°é»˜è®¤å€¼64Må¤ªå°äº†ï¼Œå¯ä»¥è®¾åˆ°5Gä»¥ä¸Šï¼Œé»˜è®¤è¶…è¿‡åŸå¤§å°100%å¤§å°é‡ å†™å¯ä»¥æ”¹åˆ°é€‚å½“çš„æ•°å€¼ã€‚ å¦‚æœä¸Enable AOF ï¼Œä»…é  Master-Slave Repllcation å®ç°é«˜å¯ç”¨æ€§ä¹Ÿå¯ä»¥ï¼Œèƒ½çœæ‰ä¸€å¤§ç¬”IOï¼Œä¹Ÿ å‡å°‘äº†rewriteæ—¶å¸¦æ¥çš„ç³»ç»Ÿæ³¢åŠ¨ã€‚ä»£ä»·æ˜¯å¦‚æœMaster/Slave åŒæ—¶å€’æ‰ï¼Œä¼šä¸¢å¤±åå‡ åˆ†é’Ÿçš„æ•°æ®ï¼Œ å¯åŠ¨è„šæœ¬ä¹Ÿè¦æ¯”è¾ƒä¸¤ä¸ª Master/Slave ä¸­çš„ RDBæ–‡ä»¶ï¼Œè½½å…¥è¾ƒæ–°çš„é‚£ä¸ªï¼Œå¾®åšå°±æ˜¯è¿™ç§æ¶æ„ã€‚ å‘½ä»¤ 1234567891011121314151617181920æµ‹è¯•è®¢é˜…ç«¯ï¼š127.0.0.1:6379&gt; SUBSCRIBE kuangshenshuo # è®¢é˜…ä¸€ä¸ªé¢‘é“ kuangshenshuoReading messages... (press Ctrl-C to quit)1) &quot;subscribe&quot;2) &quot;kuangshenshuo&quot;3) (integer) 1# ç­‰å¾…è¯»å–æ¨é€çš„ä¿¡æ¯1) &quot;message&quot; # æ¶ˆæ¯2) &quot;kuangshenshuo&quot; # é‚£ä¸ªé¢‘é“çš„æ¶ˆæ¯3) &quot;hello,kuangshen&quot; # æ¶ˆæ¯çš„å…·ä½“å†…å®¹1) &quot;message&quot;2) &quot;kuangshenshuo&quot;3) &quot;hello,redis&quot;å‘é€ç«¯ï¼š127.0.0.1:6379&gt; PUBLISH kuangshenshuo &quot;hello,kuangshen&quot; # å‘å¸ƒè€…å‘å¸ƒæ¶ˆæ¯åˆ°é¢‘é“ï¼(integer) 1127.0.0.1:6379&gt; PUBLISH kuangshenshuo &quot;hello,redis&quot; # å‘å¸ƒè€…å‘å¸ƒæ¶ˆæ¯åˆ°é¢‘é“ï¼(integer) 1127.0.0.1:6379&gt; åŸç†Redisæ˜¯ä½¿ç”¨Cå®ç°çš„ï¼Œé€šè¿‡åˆ†æ Redis æºç é‡Œçš„ pubsub.c æ–‡ä»¶ï¼Œäº†è§£å‘å¸ƒå’Œè®¢é˜…æœºåˆ¶çš„åº•å±‚å®ç°ï¼Œå€Ÿæ­¤åŠ æ·±å¯¹ Redis çš„ç†è§£ã€‚ Redis é€šè¿‡ PUBLISH ã€SUBSCRIBE å’Œ PSUBSCRIBE ç­‰å‘½ä»¤å®ç°å‘å¸ƒå’Œè®¢é˜…åŠŸèƒ½ã€‚ å¾®ä¿¡ï¼š é€šè¿‡ SUBSCRIBE å‘½ä»¤è®¢é˜…æŸé¢‘é“åï¼Œredis-server é‡Œç»´æŠ¤äº†ä¸€ä¸ªå­—å…¸ï¼Œå­—å…¸çš„é”®å°±æ˜¯ä¸€ä¸ªä¸ª é¢‘é“ï¼ï¼Œ è€Œå­—å…¸çš„å€¼åˆ™æ˜¯ä¸€ä¸ªé“¾è¡¨ï¼Œé“¾è¡¨ä¸­ä¿å­˜äº†æ‰€æœ‰è®¢é˜…è¿™ä¸ª channel çš„å®¢æˆ·ç«¯ã€‚SUBSCRIBE å‘½ä»¤çš„å…³é”®ï¼Œ å°±æ˜¯å°†å®¢æˆ·ç«¯æ·»åŠ åˆ°ç»™å®š channel çš„è®¢é˜…é“¾è¡¨ä¸­ã€‚ Pub/Sub ä»å­—é¢ä¸Šç†è§£å°±æ˜¯å‘å¸ƒï¼ˆPublishï¼‰ä¸è®¢é˜…ï¼ˆSubscribeï¼‰ï¼Œåœ¨Redisä¸­ï¼Œä½ å¯ä»¥è®¾å®šå¯¹æŸä¸€ä¸ª keyå€¼è¿›è¡Œæ¶ˆæ¯å‘å¸ƒåŠæ¶ˆæ¯è®¢é˜…ï¼Œå½“ä¸€ä¸ªkeyå€¼ä¸Šè¿›è¡Œäº†æ¶ˆæ¯å‘å¸ƒåï¼Œæ‰€æœ‰è®¢é˜…å®ƒçš„å®¢æˆ·ç«¯éƒ½ä¼šæ”¶åˆ°ç›¸åº” çš„æ¶ˆæ¯ã€‚è¿™ä¸€åŠŸèƒ½æœ€æ˜æ˜¾çš„ç”¨æ³•å°±æ˜¯ç”¨ä½œå®æ—¶æ¶ˆæ¯ç³»ç»Ÿï¼Œæ¯”å¦‚æ™®é€šçš„å³æ—¶èŠå¤©ï¼Œç¾¤èŠç­‰åŠŸèƒ½ã€‚ ä½¿ç”¨åœºæ™¯ï¼š 1ã€å®æ—¶æ¶ˆæ¯ç³»ç»Ÿï¼ 2ã€äº‹å®èŠå¤©ï¼ï¼ˆé¢‘é“å½“åšèŠå¤©å®¤ï¼Œå°†ä¿¡æ¯å›æ˜¾ç»™æ‰€æœ‰äººå³å¯ï¼ï¼‰ 3ã€è®¢é˜…ï¼Œå…³æ³¨ç³»ç»Ÿéƒ½æ˜¯å¯ä»¥çš„ï¼ ç¨å¾®å¤æ‚çš„åœºæ™¯æˆ‘ä»¬å°±ä¼šä½¿ç”¨ æ¶ˆæ¯ä¸­é—´ä»¶ MQ ï¼ˆï¼‰ Redis æ•°æ®å¤‡ä»½ä¸æ¢å¤ SAVE è¯¥å‘½ä»¤å°†åœ¨ redis å®‰è£…ç›®å½•ä¸­åˆ›å»ºdump.rdbæ–‡ä»¶ã€‚ å¦‚æœéœ€è¦æ¢å¤æ•°æ®ï¼Œåªéœ€å°†å¤‡ä»½æ–‡ä»¶ (dump.rdb) ç§»åŠ¨åˆ° redis å®‰è£…ç›®å½•å¹¶å¯åŠ¨æœåŠ¡å³å¯ã€‚è·å– redis ç›®å½•å¯ä»¥ä½¿ç”¨ CONFIG å‘½ä»¤ CONFIG GET dir ä»¥ä¸Šå‘½ä»¤ CONFIG GET dir è¾“å‡ºçš„ redis å®‰è£…ç›®å½•ä¸º /usr/local/redis/binã€‚ Bgsave åˆ›å»º redis å¤‡ä»½æ–‡ä»¶ä¹Ÿå¯ä»¥ä½¿ç”¨å‘½ä»¤ BGSAVEï¼Œè¯¥å‘½ä»¤åœ¨åå°æ‰§è¡Œã€‚ å®ä¾‹127.0.0.1:6379&gt; BGSAVE Background saving started Redis å®‰å…¨ é€šè¿‡ redis çš„é…ç½®æ–‡ä»¶è®¾ç½®å¯†ç å‚æ•°ï¼Œè¿™æ ·å®¢æˆ·ç«¯è¿æ¥åˆ° redis æœåŠ¡å°±éœ€è¦å¯†ç éªŒè¯ï¼Œè¿™æ ·å¯ä»¥è®©ä½ çš„ redis æœåŠ¡æ›´å®‰å…¨ã€‚ æŸ¥çœ‹æ˜¯å¦è®¾ç½®äº†å¯†ç éªŒè¯ï¼š CONFIG get requirepassé»˜è®¤æƒ…å†µä¸‹ requirepass å‚æ•°æ˜¯ç©ºçš„ï¼Œè¿™å°±æ„å‘³ç€ä½ æ— éœ€é€šè¿‡å¯†ç éªŒè¯å°±å¯ä»¥è¿æ¥åˆ° redis æœåŠ¡ã€‚ CONFIG set requirepass â€œrunoobâ€ AUTH â€œrunoobâ€ SET mykey â€œTest valueâ€ GET mykey Redis æ€§èƒ½æµ‹è¯• Redis æ€§èƒ½æµ‹è¯•æ˜¯é€šè¿‡åŒæ—¶æ‰§è¡Œå¤šä¸ªå‘½ä»¤å®ç°çš„ã€‚ redis-benchmark [option] [option value]æ³¨æ„ï¼šè¯¥å‘½ä»¤æ˜¯åœ¨ redis çš„ç›®å½•ä¸‹æ‰§è¡Œçš„ï¼Œè€Œä¸æ˜¯ redis å®¢æˆ·ç«¯çš„å†…éƒ¨æŒ‡ä»¤ ä»¥ä¸‹å®ä¾‹åŒæ—¶æ‰§è¡Œ 10000 ä¸ªè¯·æ±‚æ¥æ£€æµ‹æ€§èƒ½ï¼š redis-benchmark -n 10000 -q - redis æ€§èƒ½æµ‹è¯•å·¥å…·å¯é€‰å‚æ•°å¦‚ä¸‹æ‰€ç¤ºï¼š åºå· é€‰é¡¹ æè¿° é»˜è®¤å€¼1 -h æŒ‡å®šæœåŠ¡å™¨ä¸»æœºå 127.0.0.12 -p æŒ‡å®šæœåŠ¡å™¨ç«¯å£ 63793 -s æŒ‡å®šæœåŠ¡å™¨ socket4 -c æŒ‡å®šå¹¶å‘è¿æ¥æ•° 505 -n æŒ‡å®šè¯·æ±‚æ•° 100006 -d ä»¥å­—èŠ‚çš„å½¢å¼æŒ‡å®š SET/GET å€¼çš„æ•°æ®å¤§å° 27 -k 1=keep alive 0=reconnect 18 -r SET/GET/INCR ä½¿ç”¨éšæœº key, SADD ä½¿ç”¨éšæœºå€¼9 -P é€šè¿‡ç®¡é“ä¼ è¾“ è¯·æ±‚ 110 -q å¼ºåˆ¶é€€å‡º redisã€‚ä»…æ˜¾ç¤º query/sec å€¼11 â€”csv ä»¥ CSV æ ¼å¼è¾“å‡º12 -l ç”Ÿæˆå¾ªç¯ï¼Œæ°¸ä¹…æ‰§è¡Œæµ‹è¯•13 -t ä»…è¿è¡Œä»¥é€—å·åˆ†éš”çš„æµ‹è¯•å‘½ä»¤åˆ—è¡¨ã€‚14 -I Idle æ¨¡å¼ã€‚ä»…æ‰“å¼€ N ä¸ª idle è¿æ¥å¹¶ç­‰å¾…ã€‚ - redis-benchmark -h 127.0.0.1 -p 6379 -t set,lpush -n 10000 -q Redis å®¢æˆ·ç«¯è¿æ¥ Redis é€šè¿‡ç›‘å¬ä¸€ä¸ª TCP ç«¯å£æˆ–è€… Unix socket çš„æ–¹å¼æ¥æ¥æ”¶æ¥è‡ªå®¢æˆ·ç«¯çš„è¿æ¥ï¼Œå½“ä¸€ä¸ªè¿æ¥å»ºç«‹åï¼ŒRedis å†…éƒ¨ä¼šè¿›è¡Œä»¥ä¸‹ä¸€äº›æ“ä½œï¼š é¦–å…ˆï¼Œå®¢æˆ·ç«¯ socket ä¼šè¢«è®¾ç½®ä¸ºéé˜»å¡æ¨¡å¼ï¼Œå› ä¸º Redis åœ¨ç½‘ç»œäº‹ä»¶å¤„ç†ä¸Šé‡‡ç”¨çš„æ˜¯éé˜»å¡å¤šè·¯å¤ç”¨æ¨¡å‹ã€‚ç„¶åä¸ºè¿™ä¸ª socket è®¾ç½® TCP_NODELAY å±æ€§ï¼Œç¦ç”¨ Nagle ç®—æ³•ç„¶ååˆ›å»ºä¸€ä¸ªå¯è¯»çš„æ–‡ä»¶äº‹ä»¶ç”¨äºç›‘å¬è¿™ä¸ªå®¢æˆ·ç«¯ socket çš„æ•°æ®å‘é€ æœ€å¤§è¿æ¥æ•° åœ¨ Redis2.4 ä¸­ï¼Œæœ€å¤§è¿æ¥æ•°æ˜¯è¢«ç›´æ¥ç¡¬ç¼–ç åœ¨ä»£ç é‡Œé¢çš„ï¼Œè€Œåœ¨2.6ç‰ˆæœ¬ä¸­è¿™ä¸ªå€¼å˜æˆå¯é…ç½®çš„ã€‚ maxclients çš„é»˜è®¤å€¼æ˜¯ 10000ï¼Œä½ ä¹Ÿå¯ä»¥åœ¨ redis.conf ä¸­å¯¹è¿™ä¸ªå€¼è¿›è¡Œä¿®æ”¹ã€‚ config get maxclients - redis-server --maxclients 100000 - S.N. å‘½ä»¤ æè¿° 1 CLIENT LIST è¿”å›è¿æ¥åˆ° redis æœåŠ¡çš„å®¢æˆ·ç«¯åˆ—è¡¨2 CLIENT SETNAME è®¾ç½®å½“å‰è¿æ¥çš„åç§°3 CLIENT GETNAME è·å–é€šè¿‡ CLIENT SETNAME å‘½ä»¤è®¾ç½®çš„æœåŠ¡åç§°4 CLIENT PAUSE æŒ‚èµ·å®¢æˆ·ç«¯è¿æ¥ï¼ŒæŒ‡å®šæŒ‚èµ·çš„æ—¶é—´ä»¥æ¯«ç§’è®¡5 CLIENT KILL å…³é—­å®¢æˆ·ç«¯è¿æ¥ Redisç®¡é“æŠ€æœ¯ Redisæ˜¯ä¸€ç§åŸºäºå®¢æˆ·ç«¯-æœåŠ¡ç«¯æ¨¡å‹ä»¥åŠè¯·æ±‚/å“åº”åè®®çš„TCPæœåŠ¡ã€‚è¿™æ„å‘³ç€é€šå¸¸æƒ…å†µä¸‹ä¸€ä¸ªè¯·æ±‚ä¼šéµå¾ªä»¥ä¸‹æ­¥éª¤ï¼š å®¢æˆ·ç«¯å‘æœåŠ¡ç«¯å‘é€ä¸€ä¸ªæŸ¥è¯¢è¯·æ±‚ï¼Œå¹¶ç›‘å¬å¥—æ¥å­—è¿”å›ï¼Œé€šå¸¸ä»¥ä¸€å¯¹æ¨¡å¼ï¼Œç­‰å¾…æœåŠ¡ç«¯å“åº”ã€‚æœåŠ¡ç«¯å¤„ç†å‘½ä»¤ï¼Œå¯ä»¥ç»“æœè¿”å›ç»™å®¢æˆ·ç«¯ã€‚ Redisç®¡é“æŠ€æœ¯å¯ä»¥åœ¨æœåŠ¡ç«¯æœªå“åº”æ—¶ï¼Œå®¢æˆ·ç«¯å¯ä»¥ç»§ç»­å‘æœåŠ¡ç«¯å‘é€è¯·æ±‚ï¼Œå¹¶æœ€ç»ˆä¸€æ¬¡æ€§è¯»å–æ‰€æœ‰æœåŠ¡ç«¯çš„å“åº”ã€‚ æŸ¥çœ‹redisç®¡é“ï¼Œåªéœ€è¦å¯åŠ¨rediså®ä¾‹å¹¶è¾“å…¥ä»¥ä¸‹å‘½ä»¤ï¼š $ï¼ˆecho -enâ€œ PING \\ r \\ n SET runoobkey redis \\ r \\ nGET runoobkey \\ r \\ nINCRè®¿é—®è€…\\ r \\ nINCRè®¿é—®è€…\\ r \\ nINCRè®¿é—®è€…\\ r \\ nâ€ï¼›ç¡çœ 10ï¼‰| æ•°æ§æœ¬åœ°ä¸»æœº6379ï¼ˆecho - zh - cn â€œ PING \\ r \\ n SET redoobkey redis \\ r \\ nGET runoobkey \\ r \\ nINCRè®¿é—®è€…\\ r \\ nINCRè®¿é—®è€…\\ r \\ nINCRè®¿é—®è€…\\ r \\ nâ€ ï¼›ç¡çœ 10 ï¼‰| æ•°æ§æœ¬åœ°ä¸»æœº6379 - ä»¥ä¸Šå®ä¾‹ä¸­æˆ‘ä»¬é€šè¿‡ä½¿ç”¨PINGå‘½ä»¤æŸ¥çœ‹redisæœåŠ¡æ˜¯å¦å¯ç”¨ï¼Œä¹‹åæˆ‘ä»¬è®¾ç½®äº†runoobkeyçš„å˜é‡redisï¼Œç„¶åæˆ‘ä»¬è·å–runoobkeyçš„å€¼å¹¶ä½¿å…¶è®¿å®¢è‡ªå¢3æ¬¡ã€‚ åœ¨è¿”å›çš„ç»“æœä¸­æˆ‘ä»¬å¯ä»¥çœ‹åˆ°è¿™äº›å‘½ä»¤ä¸€æ¬¡æ€§å‘redisæœåŠ¡æäº¤ï¼Œå¹¶æœ€ç»ˆä¸€æ¬¡æ€§è¯»å–æ‰€æœ‰æœåŠ¡ç«¯çš„å“åº” ç®¡é“æŠ€æœ¯çš„ä¼˜åŠ¿ ç®¡é“æŠ€æœ¯æœ€æ˜¾ç€çš„ä¼˜åŠ¿æ˜¯æé«˜äº†redisæœåŠ¡çš„æ€§èƒ½ã€‚ Redis åˆ†åŒº åˆ†åŒºæ˜¯åˆ†å‰²æ•°æ®åˆ°å¤šä¸ªRediså®ä¾‹çš„å¤„ç†è¿‡ç¨‹ï¼Œå› æ­¤æ¯ä¸ªå®ä¾‹åªä¿å­˜keyçš„ä¸€ä¸ªå­é›†ã€‚ åˆ†åŒºçš„ä¼˜åŠ¿é€šè¿‡åˆ©ç”¨å¤šå°è®¡ç®—æœºå†…å­˜çš„å’Œå€¼ï¼Œå…è®¸æˆ‘ä»¬æ„é€ æ›´å¤§çš„æ•°æ®åº“ã€‚é€šè¿‡å¤šæ ¸å’Œå¤šå°è®¡ç®—æœºï¼Œå…è®¸æˆ‘ä»¬æ‰©å±•è®¡ç®—èƒ½åŠ›ï¼›é€šè¿‡å¤šå°è®¡ç®—æœºå’Œç½‘ç»œé€‚é…å™¨ï¼Œå…è®¸æˆ‘ä»¬æ‰©å±•ç½‘ç»œå¸¦å®½ã€‚åˆ†åŒºçš„ä¸è¶³redisçš„ä¸€äº›ç‰¹æ€§åœ¨åˆ†åŒºæ–¹é¢è¡¨ç°çš„ä¸æ˜¯å¾ˆå¥½ï¼š æ¶‰åŠå¤šä¸ªkeyçš„æ“ä½œé€šå¸¸æ˜¯ä¸è¢«æ”¯æŒçš„ã€‚ä¸¾ä¾‹æ¥è¯´ï¼Œå½“ä¸¤ä¸ªsetæ˜ å°„åˆ°ä¸åŒçš„rediså®ä¾‹ä¸Šæ—¶ï¼Œä½ å°±ä¸èƒ½å¯¹è¿™ä¸¤ä¸ªsetæ‰§è¡Œäº¤é›†æ“ä½œã€‚æ¶‰åŠå¤šä¸ªkeyçš„redisäº‹åŠ¡ä¸èƒ½ä½¿ç”¨ã€‚å½“ä½¿ç”¨åˆ†åŒºæ—¶ï¼Œæ•°æ®å¤„ç†è¾ƒä¸ºå¤æ‚ï¼Œæ¯”å¦‚ä½ éœ€è¦å¤„ç†å¤šä¸ªrdb/aofæ–‡ä»¶ï¼Œå¹¶ä¸”ä»å¤šä¸ªå®ä¾‹å’Œä¸»æœºå¤‡ä»½æŒä¹…åŒ–æ–‡ä»¶ã€‚å¢åŠ æˆ–åˆ é™¤å®¹é‡ä¹Ÿæ¯”è¾ƒå¤æ‚ã€‚redisé›†ç¾¤å¤§å¤šæ•°æ”¯æŒåœ¨è¿è¡Œæ—¶å¢åŠ ã€åˆ é™¤èŠ‚ç‚¹çš„é€æ˜æ•°æ®å¹³è¡¡çš„èƒ½åŠ›ï¼Œä½†æ˜¯ç±»ä¼¼äºå®¢æˆ·ç«¯åˆ†åŒºã€ä»£ç†ç­‰å…¶ä»–ç³»ç»Ÿåˆ™ä¸æ”¯æŒè¿™é¡¹ç‰¹æ€§ã€‚ç„¶è€Œï¼Œä¸€ç§å«åšpreshardingçš„æŠ€æœ¯å¯¹æ­¤æ˜¯æœ‰å¸®åŠ©çš„ã€‚åˆ†åŒºç±»å‹Redis æœ‰ä¸¤ç§ç±»å‹åˆ†åŒºã€‚ å‡è®¾æœ‰4ä¸ªRediså®ä¾‹ R0ï¼ŒR1ï¼ŒR2ï¼ŒR3ï¼Œå’Œç±»ä¼¼user:1ï¼Œuser:2è¿™æ ·çš„è¡¨ç¤ºç”¨æˆ·çš„å¤šä¸ªkeyï¼Œå¯¹æ—¢å®šçš„keyæœ‰å¤šç§ä¸åŒæ–¹å¼æ¥é€‰æ‹©è¿™ä¸ªkeyå­˜æ”¾åœ¨å“ªä¸ªå®ä¾‹ä¸­ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œæœ‰ä¸åŒçš„ç³»ç»Ÿæ¥æ˜ å°„æŸä¸ªkeyåˆ°æŸä¸ªRedisæœåŠ¡ã€‚ èŒƒå›´åˆ†åŒºæœ€ç®€å•çš„åˆ†åŒºæ–¹å¼æ˜¯æŒ‰èŒƒå›´åˆ†åŒºï¼Œå°±æ˜¯æ˜ å°„ä¸€å®šèŒƒå›´çš„å¯¹è±¡åˆ°ç‰¹å®šçš„Rediså®ä¾‹ã€‚ æ¯”å¦‚ï¼ŒIDä»0åˆ°10000çš„ç”¨æˆ·ä¼šä¿å­˜åˆ°å®ä¾‹R0ï¼ŒIDä»10001åˆ° 20000çš„ç”¨æˆ·ä¼šä¿å­˜åˆ°R1ï¼Œä»¥æ­¤ç±»æ¨ã€‚ è¿™ç§æ–¹å¼æ˜¯å¯è¡Œçš„ï¼Œå¹¶ä¸”åœ¨å®é™…ä¸­ä½¿ç”¨ï¼Œä¸è¶³å°±æ˜¯è¦æœ‰ä¸€ä¸ªåŒºé—´èŒƒå›´åˆ°å®ä¾‹çš„æ˜ å°„è¡¨ã€‚è¿™ä¸ªè¡¨è¦è¢«ç®¡ç†ï¼ŒåŒæ—¶è¿˜éœ€è¦å„ ç§å¯¹è±¡çš„æ˜ å°„è¡¨ï¼Œé€šå¸¸å¯¹Redisæ¥è¯´å¹¶éæ˜¯å¥½çš„æ–¹æ³•ã€‚ å“ˆå¸Œåˆ†åŒºå¦å¤–ä¸€ç§åˆ†åŒºæ–¹æ³•æ˜¯hashåˆ†åŒºã€‚è¿™å¯¹ä»»ä½•keyéƒ½é€‚ç”¨ï¼Œä¹Ÿæ— éœ€æ˜¯object_name:è¿™ç§å½¢å¼ï¼Œåƒä¸‹é¢æè¿°çš„ä¸€æ ·ç®€å•ï¼š ç”¨ä¸€ä¸ªhashå‡½æ•°å°†keyè½¬æ¢ä¸ºä¸€ä¸ªæ•°å­—ï¼Œæ¯”å¦‚ä½¿ç”¨crc32 hashå‡½æ•°ã€‚å¯¹key foobaræ‰§è¡Œcrc32(foobar)ä¼šè¾“å‡ºç±»ä¼¼93024922çš„æ•´æ•°ã€‚å¯¹è¿™ä¸ªæ•´æ•°å–æ¨¡ï¼Œå°†å…¶è½¬åŒ–ä¸º0-3ä¹‹é—´çš„æ•°å­—ï¼Œå°±å¯ä»¥å°†è¿™ä¸ªæ•´æ•°æ˜ å°„åˆ°4ä¸ªRediså®ä¾‹ä¸­çš„ä¸€ä¸ªäº†ã€‚93024922 % 4 = 2ï¼Œå°±æ˜¯è¯´key foobaråº”è¯¥è¢«å­˜åˆ°R2å®ä¾‹ä¸­ã€‚æ³¨æ„ï¼šå–æ¨¡æ“ä½œæ˜¯å–é™¤çš„ä½™æ•°ï¼Œé€šå¸¸åœ¨å¤šç§ç¼–ç¨‹è¯­è¨€ä¸­ç”¨%æ“ä½œç¬¦å®ç°ã€‚ Java ä½¿ç”¨ Redisjediså®‰è£… å¼€å§‹åœ¨ Java ä¸­ä½¿ç”¨ Redis å‰ï¼Œ æˆ‘ä»¬éœ€è¦ç¡®ä¿å·²ç»å®‰è£…äº† redis æœåŠ¡åŠ Java redis é©±åŠ¨ï¼Œä¸”ä½ çš„æœºå™¨ä¸Šèƒ½æ­£å¸¸ä½¿ç”¨ Javaã€‚ Javaçš„å®‰è£…é…ç½®å¯ä»¥å‚è€ƒæˆ‘ä»¬çš„ Java å¼€å‘ç¯å¢ƒé…ç½® æ¥ä¸‹æ¥è®©æˆ‘ä»¬å®‰è£… Java redis é©±åŠ¨ï¼š é¦–å…ˆä½ éœ€è¦ä¸‹è½½é©±åŠ¨åŒ… ä¸‹è½½ jedis.jarï¼Œç¡®ä¿ä¸‹è½½æœ€æ–°é©±åŠ¨åŒ…ã€‚åœ¨ä½ çš„ classpath ä¸­åŒ…å«è¯¥é©±åŠ¨åŒ…ã€‚ maven jedis è¿æ¥åˆ° redis æœåŠ¡12345678910111213- import redis.clients.jedis.Jedis;public class RedisJava { public static void main(String[] args) { //è¿æ¥æœ¬åœ°çš„ Redis æœåŠ¡ Jedis jedis = new Jedis(&quot;localhost&quot;); // å¦‚æœ Redis æœåŠ¡è®¾ç½®æ¥å¯†ç ï¼Œéœ€è¦ä¸‹é¢è¿™è¡Œï¼Œæ²¡æœ‰å°±ä¸éœ€è¦ // jedis.auth(&quot;123456&quot;); System.out.println(&quot;è¿æ¥æˆåŠŸ&quot;); //æŸ¥çœ‹æœåŠ¡æ˜¯å¦è¿è¡Œ System.out.println(&quot;æœåŠ¡æ­£åœ¨è¿è¡Œ: &quot;+jedis.ping()); }} Redis Java String(å­—ç¬¦ä¸²) å®ä¾‹12345678910111213- import redis.clients.jedis.Jedis;public class RedisStringJava { public static void main(String[] args) { //è¿æ¥æœ¬åœ°çš„ Redis æœåŠ¡ Jedis jedis = new Jedis(&quot;localhost&quot;); System.out.println(&quot;è¿æ¥æˆåŠŸ&quot;); //è®¾ç½® redis å­—ç¬¦ä¸²æ•°æ® jedis.set(&quot;runoobkey&quot;, &quot;www.runoob.com&quot;); // è·å–å­˜å‚¨çš„æ•°æ®å¹¶è¾“å‡º System.out.println(&quot;redis å­˜å‚¨çš„å­—ç¬¦ä¸²ä¸º: &quot;+ jedis.get(&quot;runoobkey&quot;)); }} Redis Java List(åˆ—è¡¨) å®ä¾‹12345678910111213141516171819- import java.util.List; import redis.clients.jedis.Jedis;public class RedisListJava { public static void main(String[] args) { //è¿æ¥æœ¬åœ°çš„ Redis æœåŠ¡ Jedis jedis = new Jedis(&quot;localhost&quot;); System.out.println(&quot;è¿æ¥æˆåŠŸ&quot;); //å­˜å‚¨æ•°æ®åˆ°åˆ—è¡¨ä¸­ jedis.lpush(&quot;site-list&quot;, &quot;Runoob&quot;); jedis.lpush(&quot;site-list&quot;, &quot;Google&quot;); jedis.lpush(&quot;site-list&quot;, &quot;Taobao&quot;); // è·å–å­˜å‚¨çš„æ•°æ®å¹¶è¾“å‡º List&lt;String&gt; list = jedis.lrange(&quot;site-list&quot;, 0 ,2); for(int i=0; i&lt;list.size(); i++) { System.out.println(&quot;åˆ—è¡¨é¡¹ä¸º: &quot;+list.get(i)); } }} Redis Java Keys å®ä¾‹1234567891011121314151617 - import java.util.Iterator; import java.util.Set; import redis.clients.jedis.Jedis;public class RedisKeyJava { public static void main(String[] args) { //è¿æ¥æœ¬åœ°çš„ Redis æœåŠ¡ Jedis jedis = new Jedis(&quot;localhost&quot;); System.out.println(&quot;è¿æ¥æˆåŠŸ&quot;); // è·å–æ•°æ®å¹¶è¾“å‡º Set&lt;String&gt; keys = jedis.keys(&quot;*&quot;); Iterator&lt;String&gt; it=keys.iterator() ; while(it.hasNext()){ String key = it.next(); System.out.println(key); }}} Jedisäº‹åŠ¡12345678910111213141516171819202122232425public static void main(String[] args) {Jedis jedis = new Jedis(&quot;127.0.0.1&quot;, 6379);jedis.flushDB();JSONObject jsonObject = new JSONObject();jsonObject.put(&quot;hello&quot;,&quot;world&quot;);jsonObject.put(&quot;name&quot;,&quot;kuangshen&quot;);// å¼€å¯äº‹åŠ¡Transaction multi = jedis.multi();String result = jsonObject.toJSONString();// jedis.watch(result)try {multi.set(&quot;user1&quot;,result);multi.set(&quot;user2&quot;,result);int i = 1/0 ; // ä»£ç æŠ›å‡ºå¼‚å¸¸äº‹åŠ¡ï¼Œæ‰§è¡Œå¤±è´¥ï¼multi.exec(); // æ‰§è¡Œäº‹åŠ¡ï¼} catch (Exception e) {multi.discard(); // æ”¾å¼ƒäº‹åŠ¡e.printStackTrace();} finally {System.out.println(jedis.get(&quot;user1&quot;));System.out.println(jedis.get(&quot;user2&quot;));jedis.close(); // å…³é—­è¿æ¥}} SpringBootæ•´åˆRedisSpringBoot æ“ä½œæ•°æ®ï¼šspring-data jpa jdbc mongodb redisï¼SpringData ä¹Ÿæ˜¯å’Œ SpringBoot é½åçš„é¡¹ç›®ï¼è¯´æ˜ï¼š åœ¨ SpringBoot2.x ä¹‹åï¼ŒåŸæ¥ä½¿ç”¨çš„jedis è¢«æ›¿æ¢ä¸ºäº† lettuce?jedis : é‡‡ç”¨çš„ç›´è¿ï¼Œå¤šä¸ªçº¿ç¨‹æ“ä½œçš„è¯ï¼Œæ˜¯ä¸å®‰å…¨çš„ï¼Œå¦‚æœæƒ³è¦é¿å…ä¸å®‰å…¨çš„ï¼Œä½¿ç”¨ jedis pool è¿æ¥æ± ï¼ æ›´åƒ BIO æ¨¡å¼lettuce : é‡‡ç”¨nettyï¼Œå®ä¾‹å¯ä»¥å†å¤šä¸ªçº¿ç¨‹ä¸­è¿›è¡Œå…±äº«ï¼Œä¸å­˜åœ¨çº¿ç¨‹ä¸å®‰å…¨çš„æƒ…å†µï¼å¯ä»¥å‡å°‘çº¿ç¨‹æ•°æ®äº†ï¼Œæ›´åƒ NIO æ¨¡å¼æºç åˆ†æï¼š 12345678910111213141516171819202122@Bean@ConditionalOnMissingBean(name = &quot;redisTemplate&quot;) // æˆ‘ä»¬å¯ä»¥è‡ªå·±å®šä¹‰ä¸€ä¸ªredisTemplateæ¥æ›¿æ¢è¿™ä¸ªé»˜è®¤çš„ï¼public RedisTemplate&lt;Object, Object&gt; redisTemplate(RedisConnectionFactoryredisConnectionFactory)throws UnknownHostException {// é»˜è®¤çš„ RedisTemplate æ²¡æœ‰è¿‡å¤šçš„è®¾ç½®ï¼Œredis å¯¹è±¡éƒ½æ˜¯éœ€è¦åºåˆ—åŒ–ï¼// ä¸¤ä¸ªæ³›å‹éƒ½æ˜¯ Object, Object çš„ç±»å‹ï¼Œæˆ‘ä»¬åä½¿ç”¨éœ€è¦å¼ºåˆ¶è½¬æ¢ &lt;String, Object&gt;RedisTemplate&lt;Object, Object&gt; template = new RedisTemplate&lt;&gt;();template.setConnectionFactory(redisConnectionFactory);return template;}@Bean@ConditionalOnMissingBean // ç”±äº String æ˜¯redisä¸­æœ€å¸¸ä½¿ç”¨çš„ç±»å‹ï¼Œæ‰€ä»¥è¯´å•ç‹¬æå‡ºæ¥äº†ä¸€ä¸ªbeanï¼public StringRedisTemplate stringRedisTemplate(RedisConnectionFactoryredisConnectionFactory)throws UnknownHostException {StringRedisTemplate template = new StringRedisTemplate();template.setConnectionFactory(redisConnectionFactory);return template;} 1234567891011121314151617181920212223242526272829303132333435361ã€å¯¼å…¥ä¾èµ–&lt;!-- æ“ä½œredis --&gt;&lt;dependency&gt;&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;&lt;artifactId&gt;spring-boot-starter-data-redis&lt;/artifactId&gt;&lt;/dependency&gt;2ã€é…ç½®è¿æ¥# é…ç½®redisspring.redis.host=127.0.0.1spring.redis.port=63793ã€æµ‹è¯•ï¼@SpringBootTestclass Redis02SpringbootApplicationTests {@Autowiredprivate RedisTemplate redisTemplate;@Testvoid contextLoads() {// redisTemplate æ“ä½œä¸åŒçš„æ•°æ®ç±»å‹ï¼Œapiå’Œæˆ‘ä»¬çš„æŒ‡ä»¤æ˜¯ä¸€æ ·çš„// opsForValue æ“ä½œå­—ç¬¦ä¸² ç±»ä¼¼String// opsForList æ“ä½œList ç±»ä¼¼List// opsForSet// opsForHash// opsForZSet// opsForGeo// opsForHyperLogLog// é™¤äº†è¿›æœ¬çš„æ“ä½œï¼Œæˆ‘ä»¬å¸¸ç”¨çš„æ–¹æ³•éƒ½å¯ä»¥ç›´æ¥é€šè¿‡redisTemplateæ“ä½œï¼Œæ¯”å¦‚äº‹åŠ¡ï¼Œå’ŒåŸºæœ¬çš„CRUD// è·å–redisçš„è¿æ¥å¯¹è±¡// RedisConnection connection =redisTemplate.getConnectionFactory().getConnection();// connection.flushDb();// connection.flushAll();redisTemplate.opsForValue().set(&quot;mykey&quot;,&quot;å…³æ³¨ç‹‚ç¥è¯´å…¬ä¼—å·&quot;);System.out.println(redisTemplate.opsForValue().get(&quot;mykey&quot;));}} åº”ç”¨åœºæ™¯","link":"/2021/03/01/Draft/2021/Redis/"},{"title":"é­‘é­…å…ˆç”Ÿ | è®¾è®¡æ¨¡å¼","text":"å­¦ä¹ ç›®çš„ï¼šå¢åŠ ç³»ç»Ÿçš„å¥å£®æ€§ï¼Œæ˜“ä¿®æ”¹æ€§å’Œå¯æ‰©å±•æ€§ï¼Œé˜…è¯»æºç çš„é€šç”¨å·¥å…·ï¼Œé€šç”¨é—®é¢˜çš„å·¥å…·ç®±ï¼Œç¨‹åºå‘˜çš„é€šç”¨è¯­è¨€ å­¦ä¹ æ–¹æ³•:è§†é¢‘å¼•å…¥ï¼Œåšå®¢å¼¥è¡¥ï¼Œä¹¦ç±ç»†åŒ–ï¼Œä»£ç å®è·µ å­¦ä¹ èµ„æºï¼šå¤§è¯è®¾è®¡æ¨¡å¼ä¹¦ç±ï¼Œbiliè§†é¢‘ï¼Œåšå®¢1,åšå®¢2 å­¦ä¹ ç›®æ ‡ç¨‹åº¦ï¼šäº†è§£å³å¯ å®é™…è¿ç”¨JDKSSMSpringbootè®¾è®¡æ¨¡å¼åŸåˆ™å¼€é—­åŸåˆ™ï¼šå¯¹ä¿®æ”¹å…³é—­ï¼Œå¯¹æ‰©å±•å¼€æ”¾ ç”±Bertrand Meyeræå‡ºçš„å¼€é—­åŸåˆ™ï¼ˆOpen Closed Principleï¼‰æ˜¯æŒ‡ï¼Œè½¯ä»¶åº”è¯¥å¯¹æ‰©å±•å¼€æ”¾ï¼Œ è€Œå¯¹ä¿®æ”¹å…³é—­ã€‚è¿™é‡Œçš„æ„æ€æ˜¯åœ¨å¢åŠ æ–°åŠŸèƒ½çš„æ—¶å€™ï¼Œèƒ½ä¸æ”¹ä»£ç å°±å°½é‡ä¸è¦æ”¹ï¼Œ å¦‚æœåªå¢åŠ ä»£ç å°±å®Œæˆäº†æ–°åŠŸèƒ½ï¼Œé‚£æ˜¯æœ€å¥½çš„ã€‚ä¸€ä¸ªç±»ä»å¤´åˆ°å°¾éƒ½æ˜¯è‡ªå·±å†™çš„å¯ä»¥æ›´æ”¹ï¼Œåˆ«äººçš„è¦ç¬¦åˆå¼€é—­åŸåˆ™ ä¾èµ–å€’è½¬åŸåˆ™ï¼šé’ˆå¯¹æ¥å£å’ŒæŠ½è±¡ç¼–ç¨‹ ä¸Šå±‚ï¼ˆè°ƒç”¨åˆ«çš„æ–¹æ³•çš„ï¼‰ä¸èƒ½ä¾èµ–äºä¸‹å±‚ï¼ˆæ–¹æ³•è¢«è°ƒç”¨çš„ï¼‰ï¼Œä»–ä»¬éƒ½åº”è¯¥ä¾èµ–äºæŠ½è±¡ åˆæˆå¤ç”¨åŸåˆ™ï¼šå¤šç”¨ç»„åˆå°‘ç”¨ç»§æ‰¿ ç»§æ‰¿ï¼ˆå®çº¿ç©ºç®­å¤´ï¼‰ä¾èµ–å…³è”ï¼ˆå®çº¿ç®­å¤´ï¼‰ï¼šç»„åˆï¼ˆå®å¿ƒè±å½¢åŠ ç®­å¤´ï¼‰ï¼ˆé¸Ÿå’Œç¿…è†€ï¼‰ï¼›èšåˆï¼ˆç©ºå¿ƒè±å½¢åŠ ç®­å¤´ï¼‰ï¼ˆé›å’Œé›ç¾¤ï¼‰ è¿ªç±³ç‰¹åŸåˆ™ï¼ˆæœ€å°‘çŸ¥é“åŸåˆ™ï¼‰ï¼šå®ä½“ä¹‹é—´å°½é‡å°‘çš„ç›¸äº’ä½œç”¨ ä¸ªå¯¹è±¡åº”å¯¹å…¶å®ƒå¯¹è±¡å°½å¯èƒ½å°‘çš„äº†è§£ï¼Œå’Œæœ‹å‹ï¼ˆç±»ä¸­å­—æ®µï¼Œæ–¹æ³•å‚æ•°ï¼Œæ–¹æ³•è¿”å›å€¼ï¼Œæ–¹æ³•å®ä¾‹å‡ºæ¥çš„å¯¹è±¡ï¼‰é€šä¿¡ é‡Œå¼ä»£æ¢åŸåˆ™ï¼šåŸºç±»å¯ä»¥å‡ºç°çš„åœ°æ–¹å­ç±»ä¹Ÿå¯ä»¥å‡ºç°ã€‚ é‡Œæ°æ›¿æ¢åŸåˆ™æ˜¯Barbara Liskovæå‡ºçš„ï¼Œè¿™æ˜¯ä¸€ç§é¢å‘å¯¹è±¡çš„è®¾è®¡åŸåˆ™ï¼Œ å³å¦‚æœæˆ‘ä»¬è°ƒç”¨ä¸€ä¸ªçˆ¶ç±»çš„æ–¹æ³•å¯ä»¥æˆåŠŸï¼Œé‚£ä¹ˆæ›¿æ¢æˆå­ç±»è°ƒç”¨ä¹Ÿåº”è¯¥å®Œå…¨å¯ä»¥è¿è¡Œã€‚ é‡å†™æ—¶å­ç±»é™åˆ¶ç­‰çº§ä¸èƒ½æ›´é«˜ï¼Œé”™è¯¯ä¸èƒ½æŠ›å‡ºæ›´å¤š å•ä¸€èŒè´£åŸåˆ™ï¼šæ¯ä¸ªæ–¹æ³•ï¼Œç±»ï¼Œæ¡†æ¶åªè´Ÿè´£ä¸€ä»¶äº‹ æ¥å£éš”ç¦»åŸåˆ™ï¼šä½¿ç”¨å¤šä¸ªä¸“é—¨çš„æ¥å£æ¯”ä¸€ä¸ªæ€»æ¥å£å¥½ â€”-åˆ†â€”- å­¦ä¹ è®¾è®¡æ¨¡å¼ï¼Œå…³é”®æ˜¯å­¦ä¹ è®¾è®¡æ€æƒ³ï¼Œä¸èƒ½ç®€å•åœ°ç”Ÿæ¬ç¡¬å¥—ï¼Œ ä¹Ÿä¸èƒ½ä¸ºäº†ä½¿ç”¨è®¾è®¡æ¨¡å¼è€Œè¿‡åº¦è®¾è®¡ï¼Œè¦åˆç†å¹³è¡¡è®¾è®¡çš„å¤æ‚åº¦å’Œçµæ´»æ€§ï¼Œå¹¶æ„è¯†åˆ°è®¾è®¡æ¨¡å¼ä¹Ÿå¹¶ä¸æ˜¯ä¸‡èƒ½çš„ã€‚ç®—æ³•æ›´åƒæ˜¯èœè°±ï¼š æä¾›è¾¾æˆç›®æ ‡çš„æ˜ç¡®æ­¥éª¤ã€‚ è€Œæ¨¡å¼æ›´åƒæ˜¯è“å›¾ï¼š ä½ å¯ä»¥çœ‹åˆ°æœ€ç»ˆçš„ç»“æœå’Œæ¨¡å¼çš„åŠŸèƒ½ï¼Œ ä½†éœ€è¦è‡ªå·±ç¡®å®šå®ç°æ­¥éª¤ã€‚ æ„å›¾ éƒ¨åˆ†ç®€å•æè¿°é—®é¢˜å’Œè§£å†³æ–¹æ¡ˆã€‚åŠ¨æœº éƒ¨åˆ†å°†è¿›ä¸€æ­¥è§£é‡Šé—®é¢˜å¹¶è¯´æ˜æ¨¡å¼ä¼šå¦‚ä½•æä¾›è§£å†³æ–¹æ¡ˆã€‚ç»“æ„ éƒ¨åˆ†å±•ç¤ºæ¨¡å¼çš„æ¯ä¸ªéƒ¨åˆ†å’Œå®ƒä»¬ä¹‹é—´çš„å…³ç³»ã€‚åœ¨ä¸åŒè¯­è¨€ä¸­çš„å®ç° æä¾›æµè¡Œç¼–ç¨‹è¯­è¨€çš„ä»£ç ï¼Œ è®©è¯»è€…æ›´å¥½åœ°ç†è§£æ¨¡å¼èƒŒåçš„æ€æƒ³ã€‚ è®¾è®¡åŸåˆ™ ä¸€å¥è¯å½’çº³ ç›®çš„ å¼€é—­åŸåˆ™ å¯¹æ‰©å±•å¼€æ”¾ï¼Œå¯¹ä¿®æ”¹å…³é—­ é™ä½ç»´æŠ¤å¸¦æ¥çš„æ–°é£é™© ä¾èµ–å€’ç½®åŸåˆ™ é«˜å±‚ä¸åº”è¯¥ä¾èµ–ä½å±‚ï¼Œè¦é¢å‘æ¥å£ç¼–ç¨‹ æ›´åˆ©äºä»£ç ç»“æ„çš„å‡çº§æ‰©å±• å•ä¸€èŒè´£åŸåˆ™ ä¸€ä¸ªç±»åªå¹²ä¸€ä»¶äº‹ï¼Œå®ç°ç±»è¦å•ä¸€ ä¾¿äºç†è§£ï¼Œæé«˜ä»£ç çš„å¯è¯»æ€§ æ¥å£éš”ç¦»åŸåˆ™ ä¸€ä¸ªæ¥å£åªå¹²ä¸€ä»¶äº‹ï¼Œæ¥å£è¦ç²¾ç®€å•ä¸€ åŠŸèƒ½è§£è€¦ï¼Œé«˜èšåˆã€ä½è€¦åˆ è¿ªç±³ç‰¹æ³•åˆ™ ä¸è¯¥çŸ¥é“çš„ä¸è¦çŸ¥é“ï¼Œä¸€ä¸ªç±»åº”è¯¥ä¿æŒå¯¹å…¶å®ƒå¯¹è±¡æœ€å°‘çš„äº†è§£ï¼Œé™ä½è€¦åˆåº¦ åªå’Œæœ‹å‹äº¤æµï¼Œä¸å’Œé™Œç”Ÿäººè¯´è¯ï¼Œå‡å°‘ä»£ç è‡ƒè‚¿ é‡Œæ°æ›¿æ¢åŸåˆ™ ä¸è¦ç ´åç»§æ‰¿ä½“ç³»ï¼Œå­ç±»é‡å†™æ–¹æ³•åŠŸèƒ½å‘ç”Ÿæ”¹å˜ï¼Œä¸åº”è¯¥å½±å“çˆ¶ç±»æ–¹æ³•çš„å«ä¹‰ é˜²æ­¢ç»§æ‰¿æ³›æ»¥ åˆæˆå¤ç”¨åŸåˆ™ å°½é‡ä½¿ç”¨ç»„åˆæˆ–è€…èšåˆå…³ç³»å®ç°ä»£ç å¤ç”¨ï¼Œå°‘ä½¿ç”¨ç»§æ‰¿ é™ä½ä»£ç è€¦åˆ å­¦ä¹ è¿›åº¦è®¾è®¡åŸåˆ™ [x] å¼€é—­åŸåˆ™ [x] é‡Œæ°æ›¿æ¢åŸåˆ™ [x] ä¾èµ–å€’ç½®åŸåˆ™ [x] å•ä¸€èŒè´£åŸåˆ™ [x] æ¥å£éš”ç¦»åŸåˆ™ [x] è¿ªç±³ç‰¹æ³•åˆ™ [x] åˆæˆå¤ç”¨åŸåˆ™ è¡Œä¸ºæ¨¡å¼ [x] èŒè´£é“¾æ¨¡å¼ï¼ˆChain of Responsibilityï¼‰ğŸ˜ğŸ˜ğŸ˜ğŸ˜ğŸ˜ [x] å‘½ä»¤æ¨¡å¼ï¼ˆCommandï¼‰ [x] è¿­ä»£å™¨æ¨¡å¼ï¼ˆIteratorï¼‰ [x] è°ƒåœè€…ï¼ˆä¸­ä»‹è€…ï¼‰æ¨¡å¼ï¼ˆMediatorï¼‰ [x] å¤‡å¿˜å½•æ¨¡å¼ï¼ˆMementoï¼‰ [x] è§‚å¯Ÿè€…æ¨¡å¼ï¼ˆObserverï¼‰ [x] çŠ¶æ€æ¨¡å¼ï¼ˆStateï¼‰ [x] ç­–ç•¥æ¨¡å¼ï¼ˆStrategyï¼‰ [x] æ¨¡æ¿æ–¹æ³•æ¨¡å¼ï¼ˆTemplate Methodï¼‰ [x] è®¿é—®è€…æ¨¡å¼ï¼ˆVisitorï¼‰ [x] è§£é‡Šå™¨æ¨¡å¼ï¼ˆInterpreterï¼‰ ç»“æ„å‹æ¨¡å¼ [x] é€‚é…å™¨æ¨¡å¼ï¼ˆAdapterï¼‰ [x] æ¡¥æ¥æ¨¡å¼ï¼ˆBridgeï¼‰ [x] ç»„åˆæ¨¡å¼ï¼ˆCompositeï¼‰ [x] è£…é¥°æ¨¡å¼ï¼ˆDecoratorï¼‰ [x] å¤–è§‚æ¨¡å¼ï¼ˆFacadeï¼‰ [x] äº«å…ƒæ¨¡å¼ï¼ˆFlyweightï¼‰ [x] ä»£ç†æ¨¡å¼ï¼ˆProxyï¼‰ åˆ›å»ºå‹æ¨¡å¼ [x] ç®€å•å·¥å‚æ¨¡å¼ï¼ˆSimple Factoryï¼‰ [x] å·¥å‚æ–¹æ³•æ¨¡å¼ï¼ˆFactory Methodï¼‰ [x] æŠ½è±¡å·¥å‚æ¨¡å¼ï¼ˆAbstract Factoryï¼‰ [x] åˆ›å»ºè€…ï¼ˆç”Ÿæˆå™¨ï¼‰æ¨¡å¼ï¼ˆBuilderï¼‰ [x] åŸå‹æ¨¡å¼ï¼ˆPrototypeï¼‰ [x] å•ä¾‹æ¨¡å¼ï¼ˆSingletonï¼‰ è¿›é˜¶å­¦ä¹ æ€»å½’çº³å¤ä¹  è®¾è®¡æ¨¡å¼ç®€è¿°æ¨¡å¼ä¹‹é—´çš„å…³ç³» Refactoringguru.cnåˆ›å»ºå‹æ¨¡å¼è¿™ç±»æ¨¡å¼æä¾›åˆ›å»ºå¯¹è±¡çš„æœºåˆ¶ï¼Œ èƒ½å¤Ÿæå‡å·²æœ‰ä»£ç çš„çµæ´»æ€§å’Œå¯å¤ç”¨æ€§ã€‚ å·¥å‚æ–¹æ³•Factory MethodæŠ½è±¡å·¥å‚Abstract Factoryç”Ÿæˆå™¨BuilderåŸå‹Prototypeå•ä¾‹Singleton ç»“æ„å‹æ¨¡å¼è¿™ç±»æ¨¡å¼ä»‹ç»å¦‚ä½•å°†å¯¹è±¡å’Œç±»ç»„è£…æˆè¾ƒå¤§çš„ç»“æ„ï¼Œ å¹¶åŒæ—¶ä¿æŒç»“æ„çš„çµæ´»å’Œé«˜æ•ˆã€‚ é€‚é…å™¨Adapteræ¡¥æ¥Bridgeç»„åˆCompositeè£…é¥°Decoratorå¤–è§‚Facadeäº«å…ƒFlyweightä»£ç†Proxy è¡Œä¸ºæ¨¡å¼è¿™ç±»æ¨¡å¼è´Ÿè´£å¯¹è±¡é—´çš„é«˜æ•ˆæ²Ÿé€šå’ŒèŒè´£å§”æ´¾ã€‚ è´£ä»»é“¾Chain of Responsibilityå‘½ä»¤Commandè¿­ä»£å™¨Iteratorä¸­ä»‹è€…Mediatorå¤‡å¿˜å½•Mementoè§‚å¯Ÿè€…ObserverçŠ¶æ€Stateç­–ç•¥Strategyæ¨¡æ¿æ–¹æ³•Template Methodè®¿é—®è€…Visitor åˆ›å»ºå‹æ¨¡å¼åˆ›å»ºå‹æ¨¡å¼çš„ä¸»è¦å…³æ³¨ç‚¹æ˜¯â€œæ€æ ·åˆ›å»ºå¯¹è±¡ï¼Ÿâ€ï¼Œå®ƒçš„ä¸»è¦ç‰¹ç‚¹æ˜¯â€œå°†å¯¹è±¡çš„åˆ›å»ºä¸ä½¿ç”¨åˆ†ç¦»â€ã€‚è¿™æ ·å¯ä»¥é™ä½ç³»ç»Ÿçš„è€¦åˆåº¦ï¼Œä½¿ç”¨è€…ä¸éœ€è¦å…³æ³¨å¯¹è±¡çš„åˆ›å»ºç»†èŠ‚ï¼Œå¯¹è±¡çš„åˆ›å»ºç”±ç›¸å…³çš„å·¥å‚æ¥å®Œæˆã€‚å°±åƒæˆ‘ä»¬å»å•†åœºè´­ä¹°å•†å“æ—¶ï¼Œä¸éœ€è¦çŸ¥é“å•†å“æ˜¯æ€ä¹ˆç”Ÿäº§å‡ºæ¥ä¸€æ ·ï¼Œå› ä¸ºå®ƒä»¬ç”±ä¸“é—¨çš„å‚å•†ç”Ÿäº§ã€‚ å•ä¾‹ï¼ˆSingletonï¼‰æ¨¡å¼ï¼šæŸä¸ªç±»åªèƒ½ç”Ÿæˆä¸€ä¸ªå®ä¾‹ï¼Œè¯¥ç±»æä¾›äº†ä¸€ä¸ªå…¨å±€è®¿é—®ç‚¹ä¾›å¤–éƒ¨è·å–è¯¥å®ä¾‹ï¼Œå…¶æ‹“å±•æ˜¯æœ‰é™å¤šä¾‹æ¨¡å¼ã€‚ åŸå‹ï¼ˆPrototypeï¼‰æ¨¡å¼ï¼šå°†ä¸€ä¸ªå¯¹è±¡ä½œä¸ºåŸå‹ï¼Œé€šè¿‡å¯¹å…¶è¿›è¡Œå¤åˆ¶è€Œå…‹éš†å‡ºå¤šä¸ªå’ŒåŸå‹ç±»ä¼¼çš„æ–°å®ä¾‹ã€‚ å·¥å‚æ–¹æ³•ï¼ˆFactoryMethodï¼‰æ¨¡å¼ï¼šå®šä¹‰ä¸€ä¸ªç”¨äºåˆ›å»ºäº§å“çš„æ¥å£ï¼Œç”±å­ç±»å†³å®šç”Ÿäº§ä»€ä¹ˆäº§å“ã€‚ æŠ½è±¡å·¥å‚ï¼ˆAbstractFactoryï¼‰æ¨¡å¼ï¼šæä¾›ä¸€ä¸ªåˆ›å»ºäº§å“æ—çš„æ¥å£ï¼Œå…¶æ¯ä¸ªå­ç±»å¯ä»¥ç”Ÿäº§ä¸€ç³»åˆ—ç›¸å…³çš„äº§å“ã€‚ å»ºé€ è€…ï¼ˆBuilderï¼‰æ¨¡å¼ï¼šå°†ä¸€ä¸ªå¤æ‚å¯¹è±¡åˆ†è§£æˆå¤šä¸ªç›¸å¯¹ç®€å•çš„éƒ¨åˆ†ï¼Œç„¶åæ ¹æ®ä¸åŒéœ€è¦åˆ†åˆ«åˆ›å»ºå®ƒä»¬ï¼Œæœ€åæ„å»ºæˆè¯¥å¤æ‚å¯¹è±¡ã€‚ ç»“æ„å‹æ¨¡å¼ç»“æ„å‹æ¨¡å¼æè¿°å¦‚ä½•å°†ç±»æˆ–å¯¹è±¡æŒ‰æŸç§å¸ƒå±€ç»„æˆæ›´å¤§çš„ç»“æ„ã€‚å®ƒåˆ†ä¸ºç±»ç»“æ„å‹æ¨¡å¼å’Œå¯¹è±¡ç»“æ„å‹æ¨¡å¼ï¼Œå‰è€…é‡‡ç”¨ç»§æ‰¿æœºåˆ¶æ¥ç»„ç»‡æ¥å£å’Œç±»ï¼Œåè€…é‡†ç”¨ç»„åˆæˆ–èšåˆæ¥ç»„åˆå¯¹è±¡ã€‚ç”±äºç»„åˆå…³ç³»æˆ–èšåˆå…³ç³»æ¯”ç»§æ‰¿å…³ç³»è€¦åˆåº¦ä½ï¼Œæ»¡è¶³â€œåˆæˆå¤ç”¨åŸåˆ™â€ï¼Œæ‰€ä»¥å¯¹è±¡ç»“æ„å‹æ¨¡å¼æ¯”ç±»ç»“æ„å‹æ¨¡å¼å…·æœ‰æ›´å¤§çš„çµæ´»æ€§ã€‚ ä»£ç†ï¼ˆProxyï¼‰æ¨¡å¼ï¼šä¸ºæŸå¯¹è±¡æä¾›ä¸€ç§ä»£ç†ä»¥æ§åˆ¶å¯¹è¯¥å¯¹è±¡çš„è®¿é—®ã€‚å³å®¢æˆ·ç«¯é€šè¿‡ä»£ç†é—´æ¥åœ°è®¿é—®è¯¥å¯¹è±¡ï¼Œä»è€Œé™åˆ¶ã€å¢å¼ºæˆ–ä¿®æ”¹è¯¥å¯¹è±¡çš„ä¸€äº›ç‰¹æ€§ã€‚ é€‚é…å™¨ï¼ˆAdapterï¼‰æ¨¡å¼ï¼šå°†ä¸€ä¸ªç±»çš„æ¥å£è½¬æ¢æˆå®¢æˆ·å¸Œæœ›çš„å¦å¤–ä¸€ä¸ªæ¥å£ï¼Œä½¿å¾—åŸæœ¬ç”±äºæ¥å£ä¸å…¼å®¹è€Œä¸èƒ½ä¸€èµ·å·¥ä½œçš„é‚£äº›ç±»èƒ½ä¸€èµ·å·¥ä½œã€‚ æ¡¥æ¥ï¼ˆBridgeï¼‰æ¨¡å¼ï¼šå°†æŠ½è±¡ä¸å®ç°åˆ†ç¦»ï¼Œä½¿å®ƒä»¬å¯ä»¥ç‹¬ç«‹å˜åŒ–ã€‚å®ƒæ˜¯ç”¨ç»„åˆå…³ç³»ä»£æ›¿ç»§æ‰¿å…³ç³»æ¥å®ç°çš„ï¼Œä»è€Œé™ä½äº†æŠ½è±¡å’Œå®ç°è¿™ä¸¤ä¸ªå¯å˜ç»´åº¦çš„è€¦åˆåº¦ã€‚ è£…é¥°ï¼ˆDecoratorï¼‰æ¨¡å¼ï¼šåŠ¨æ€åœ°ç»™å¯¹è±¡å¢åŠ ä¸€äº›èŒè´£ï¼Œå³å¢åŠ å…¶é¢å¤–çš„åŠŸèƒ½ã€‚ å¤–è§‚ï¼ˆFacadeï¼‰æ¨¡å¼ï¼šä¸ºå¤šä¸ªå¤æ‚çš„å­ç³»ç»Ÿæä¾›ä¸€ä¸ªä¸€è‡´çš„æ¥å£ï¼Œä½¿è¿™äº›å­ç³»ç»Ÿæ›´åŠ å®¹æ˜“è¢«è®¿é—®ã€‚ äº«å…ƒï¼ˆFlyweightï¼‰æ¨¡å¼ï¼šè¿ç”¨å…±äº«æŠ€æœ¯æ¥æœ‰æ•ˆåœ°æ”¯æŒå¤§é‡ç»†ç²’åº¦å¯¹è±¡çš„å¤ç”¨ã€‚ ç»„åˆï¼ˆCompositeï¼‰æ¨¡å¼ï¼šå°†å¯¹è±¡ç»„åˆæˆæ ‘çŠ¶å±‚æ¬¡ç»“æ„ï¼Œä½¿ç”¨æˆ·å¯¹å•ä¸ªå¯¹è±¡å’Œç»„åˆå¯¹è±¡å…·æœ‰ä¸€è‡´çš„è®¿é—®æ€§ã€‚ è¡Œä¸ºå‹æ¨¡å¼è¡Œä¸ºå‹æ¨¡å¼ç”¨äºæè¿°ç¨‹åºåœ¨è¿è¡Œæ—¶å¤æ‚çš„æµç¨‹æ§åˆ¶ï¼Œå³æè¿°å¤šä¸ªç±»æˆ–å¯¹è±¡ä¹‹é—´æ€æ ·ç›¸äº’åä½œå…±åŒå®Œæˆå•ä¸ªå¯¹è±¡éƒ½æ— æ³•å•ç‹¬å®Œæˆçš„ä»»åŠ¡ï¼Œå®ƒæ¶‰åŠç®—æ³•ä¸å¯¹è±¡é—´èŒè´£çš„åˆ†é…ã€‚è¡Œä¸ºå‹æ¨¡å¼åˆ†ä¸ºç±»è¡Œä¸ºæ¨¡å¼å’Œå¯¹è±¡è¡Œä¸ºæ¨¡å¼ï¼Œå‰è€…é‡‡ç”¨ç»§æ‰¿æœºåˆ¶æ¥åœ¨ç±»é—´åˆ†æ´¾è¡Œä¸ºï¼Œåè€…é‡‡ç”¨ç»„åˆæˆ–èšåˆåœ¨å¯¹è±¡é—´åˆ†é…è¡Œä¸ºã€‚ç”±äºç»„åˆå…³ç³»æˆ–èšåˆå…³ç³»æ¯”ç»§æ‰¿å…³ç³»è€¦åˆåº¦ä½ï¼Œæ»¡è¶³â€œåˆæˆå¤ç”¨åŸåˆ™â€ï¼Œæ‰€ä»¥å¯¹è±¡è¡Œä¸ºæ¨¡å¼æ¯”ç±»è¡Œä¸ºæ¨¡å¼å…·æœ‰æ›´å¤§çš„çµæ´»æ€§ã€‚ æ¨¡æ¿æ–¹æ³•ï¼ˆTemplate Methodï¼‰æ¨¡å¼ï¼šå®šä¹‰ä¸€ä¸ªæ“ä½œä¸­çš„ç®—æ³•éª¨æ¶ï¼Œå°†ç®—æ³•çš„ä¸€äº›æ­¥éª¤å»¶è¿Ÿåˆ°å­ç±»ä¸­ï¼Œä½¿å¾—å­ç±»åœ¨å¯ä»¥ä¸æ”¹å˜è¯¥ç®—æ³•ç»“æ„çš„æƒ…å†µä¸‹é‡å®šä¹‰è¯¥ç®—æ³•çš„æŸäº›ç‰¹å®šæ­¥éª¤ã€‚ ç­–ç•¥ï¼ˆStrategyï¼‰æ¨¡å¼ï¼šå®šä¹‰äº†ä¸€ç³»åˆ—ç®—æ³•ï¼Œå¹¶å°†æ¯ä¸ªç®—æ³•å°è£…èµ·æ¥ï¼Œä½¿å®ƒä»¬å¯ä»¥ç›¸äº’æ›¿æ¢ï¼Œä¸”ç®—æ³•çš„æ”¹å˜ä¸ä¼šå½±å“ä½¿ç”¨ç®—æ³•çš„å®¢æˆ·ã€‚ å‘½ä»¤ï¼ˆCommandï¼‰æ¨¡å¼ï¼šå°†ä¸€ä¸ªè¯·æ±‚å°è£…ä¸ºä¸€ä¸ªå¯¹è±¡ï¼Œä½¿å‘å‡ºè¯·æ±‚çš„è´£ä»»å’Œæ‰§è¡Œè¯·æ±‚çš„è´£ä»»åˆ†å‰²å¼€ã€‚ èŒè´£é“¾ï¼ˆChain of Responsibilityï¼‰æ¨¡å¼ï¼šæŠŠè¯·æ±‚ä»é“¾ä¸­çš„ä¸€ä¸ªå¯¹è±¡ä¼ åˆ°ä¸‹ä¸€ä¸ªå¯¹è±¡ï¼Œç›´åˆ°è¯·æ±‚è¢«å“åº”ä¸ºæ­¢ã€‚é€šè¿‡è¿™ç§æ–¹å¼å»é™¤å¯¹è±¡ä¹‹é—´çš„è€¦åˆã€‚ çŠ¶æ€ï¼ˆStateï¼‰æ¨¡å¼ï¼šå…è®¸ä¸€ä¸ªå¯¹è±¡åœ¨å…¶å†…éƒ¨çŠ¶æ€å‘ç”Ÿæ”¹å˜æ—¶æ”¹å˜å…¶è¡Œä¸ºèƒ½åŠ›ã€‚ è§‚å¯Ÿè€…ï¼ˆObserverï¼‰æ¨¡å¼ï¼šå¤šä¸ªå¯¹è±¡é—´å­˜åœ¨ä¸€å¯¹å¤šå…³ç³»ï¼Œå½“ä¸€ä¸ªå¯¹è±¡å‘ç”Ÿæ”¹å˜æ—¶ï¼ŒæŠŠè¿™ç§æ”¹å˜é€šçŸ¥ç»™å…¶ä»–å¤šä¸ªå¯¹è±¡ï¼Œä»è€Œå½±å“å…¶ä»–å¯¹è±¡çš„è¡Œä¸ºã€‚ ä¸­ä»‹è€…ï¼ˆMediatorï¼‰æ¨¡å¼ï¼šå®šä¹‰ä¸€ä¸ªä¸­ä»‹å¯¹è±¡æ¥ç®€åŒ–åŸæœ‰å¯¹è±¡ä¹‹é—´çš„äº¤äº’å…³ç³»ï¼Œé™ä½ç³»ç»Ÿä¸­å¯¹è±¡é—´çš„è€¦åˆåº¦ï¼Œä½¿åŸæœ‰å¯¹è±¡ä¹‹é—´ä¸å¿…ç›¸äº’äº†è§£ã€‚ è¿­ä»£å™¨ï¼ˆIteratorï¼‰æ¨¡å¼ï¼šæä¾›ä¸€ç§æ–¹æ³•æ¥é¡ºåºè®¿é—®èšåˆå¯¹è±¡ä¸­çš„ä¸€ç³»åˆ—æ•°æ®ï¼Œè€Œä¸æš´éœ²èšåˆå¯¹è±¡çš„å†…éƒ¨è¡¨ç¤ºã€‚ è®¿é—®è€…ï¼ˆVisitorï¼‰æ¨¡å¼ï¼šåœ¨ä¸æ”¹å˜é›†åˆå…ƒç´ çš„å‰æä¸‹ï¼Œä¸ºä¸€ä¸ªé›†åˆä¸­çš„æ¯ä¸ªå…ƒç´ æä¾›å¤šç§è®¿é—®æ–¹å¼ï¼Œå³æ¯ä¸ªå…ƒç´ æœ‰å¤šä¸ªè®¿é—®è€…å¯¹è±¡è®¿é—®ã€‚ å¤‡å¿˜å½•ï¼ˆMementoï¼‰æ¨¡å¼ï¼šåœ¨ä¸ç ´åå°è£…æ€§çš„å‰æä¸‹ï¼Œè·å–å¹¶ä¿å­˜ä¸€ä¸ªå¯¹è±¡çš„å†…éƒ¨çŠ¶æ€ï¼Œä»¥ä¾¿ä»¥åæ¢å¤å®ƒã€‚ è§£é‡Šå™¨ï¼ˆInterpreterï¼‰æ¨¡å¼ï¼šæä¾›å¦‚ä½•å®šä¹‰è¯­è¨€çš„æ–‡æ³•ï¼Œä»¥åŠå¯¹è¯­è¨€å¥å­çš„è§£é‡Šæ–¹æ³•ï¼Œå³è§£é‡Šå™¨ã€‚ UMLå·¥å…·ï¼šprocesson æ–¹æ³•å’Œå±æ€§çš„è®¿é—®æƒé™ - private # protected + public ~ package private å…³ç³»æ¦‚è§ˆ ç»§æ‰¿ | æ³›åŒ–ã€ç»§æ‰¿å¹¶ç‰¹æ®Šã€‘12ã€æ³›åŒ–å…³ç³»ã€‘ï¼šæ˜¯ä¸€ç§ç»§æ‰¿å…³ç³»ï¼Œè¡¨ç¤ºä¸€èˆ¬ä¸ç‰¹æ®Šçš„å…³ç³»ï¼Œå®ƒæŒ‡å®šäº†å­ç±»å¦‚ä½•ç‰¹åŒ–çˆ¶ç±»çš„æ‰€æœ‰ç‰¹å¾å’Œè¡Œä¸ºã€‚ä¾‹å¦‚ï¼šè€è™æ˜¯åŠ¨ç‰©çš„ä¸€ç§ï¼Œå³æœ‰è€è™çš„ç‰¹æ€§ä¹Ÿæœ‰åŠ¨ç‰©çš„å…±æ€§ã€‚ã€ç®­å¤´æŒ‡å‘ã€‘ï¼šå¸¦ä¸‰è§’ç®­å¤´çš„å®çº¿ï¼Œç®­å¤´æŒ‡å‘çˆ¶ç±» å®ç°ã€æ¥å£å…¨å®ç°ã€‘123ã€å®ç°å…³ç³»ã€‘ï¼šæ˜¯ä¸€ç§ç±»ä¸æ¥å£çš„å…³ç³»ï¼Œè¡¨ç¤ºç±»æ˜¯æ¥å£æ‰€æœ‰ç‰¹å¾å’Œè¡Œä¸ºçš„å®ç°ã€ç®­å¤´æŒ‡å‘ã€‘ï¼šå¸¦ä¸‰è§’ç®­å¤´çš„è™šçº¿ï¼Œç®­å¤´æŒ‡å‘æ¥å£ å…³è”ã€æˆ‘çŸ¥ä½ äº›å±ã€‘1234ã€å…³è”å…³ç³»ã€‘ï¼šæ˜¯ä¸€ç§æ‹¥æœ‰çš„å…³ç³»,å®ƒä½¿ä¸€ä¸ªç±»çŸ¥é“å¦ä¸€ä¸ªç±»çš„å±æ€§å’Œæ–¹æ³•ï¼›å¦‚ï¼šè€å¸ˆä¸å­¦ç”Ÿï¼Œä¸ˆå¤«ä¸å¦»å­å…³è”å¯ä»¥æ˜¯åŒå‘çš„ï¼Œä¹Ÿå¯ä»¥æ˜¯å•å‘çš„ã€‚åŒå‘çš„å…³è”å¯ä»¥æœ‰ä¸¤ä¸ªç®­å¤´æˆ–è€…æ²¡æœ‰ç®­å¤´ï¼Œå•å‘çš„å…³è”æœ‰ä¸€ä¸ªç®­å¤´ã€‚ã€ä»£ç ä½“ç°ã€‘ï¼šæˆå‘˜å˜é‡ã€ç®­å¤´åŠæŒ‡å‘ã€‘ï¼šå¸¦æ™®é€šç®­å¤´çš„å®å¿ƒçº¿ï¼ŒæŒ‡å‘è¢«æ‹¥æœ‰è€… èšåˆã€ä¸€å›¢åˆ†å‡ ä¸ªã€‘1234ã€èšåˆå…³ç³»ã€‘ï¼šæ˜¯æ•´ä½“ä¸éƒ¨åˆ†çš„å…³ç³»ï¼Œä¸”éƒ¨åˆ†å¯ä»¥ç¦»å¼€æ•´ä½“è€Œå•ç‹¬å­˜åœ¨ã€‚å¦‚è½¦å’Œè½®èƒæ˜¯æ•´ä½“å’Œéƒ¨åˆ†çš„å…³ç³».èšåˆå…³ç³»æ˜¯å…³è”å…³ç³»çš„ä¸€ç§ï¼Œæ˜¯å¼ºçš„å…³è”å…³ç³»ï¼›å…³è”å’Œèšåˆåœ¨è¯­æ³•ä¸Šæ— æ³•åŒºåˆ†ï¼Œå¿…é¡»è€ƒå¯Ÿå…·ä½“çš„é€»è¾‘å…³ç³»ã€‚ã€ä»£ç ä½“ç°ã€‘ï¼šæˆå‘˜å˜é‡ã€ç®­å¤´åŠæŒ‡å‘ã€‘ï¼šå¸¦ç©ºå¿ƒè±å½¢çš„å®å¿ƒçº¿ï¼Œè±å½¢æŒ‡å‘æ•´ä½“ ç»„åˆã€ä¸€ä¸ªåˆ‡å‡ ä¸ªã€‘123ã€ç»„åˆå…³ç³»ã€‘ï¼šæ˜¯æ•´ä½“ä¸éƒ¨åˆ†çš„å…³ç³»ï¼Œä½†éƒ¨åˆ†ä¸èƒ½ç¦»å¼€æ•´ä½“è€Œå•ç‹¬å­˜åœ¨ã€‚æ²¡æœ‰å…¬å¸å°±ä¸å­˜åœ¨éƒ¨é—¨ ç»„åˆå…³ç³»æ˜¯å…³è”å…³ç³»çš„ä¸€ç§ï¼Œæ˜¯æ¯”èšåˆå…³ç³»è¿˜è¦å¼ºçš„å…³ç³»ï¼Œå®ƒè¦æ±‚æ™®é€šçš„èšåˆå…³ç³»ä¸­ä»£è¡¨æ•´ä½“çš„å¯¹è±¡è´Ÿè´£ä»£è¡¨éƒ¨åˆ†çš„å¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸã€ä»£ç ä½“ç°ã€‘ï¼šæˆå‘˜å˜é‡ã€ç®­å¤´åŠæŒ‡å‘ã€‘ï¼šå¸¦å®å¿ƒè±å½¢çš„å®çº¿ï¼Œè±å½¢æŒ‡å‘æ•´ä½“ ä¾èµ–ã€æˆ‘è¦ç”¨ä½ çš„ã€‘12345ã€ä¾èµ–å…³ç³»ã€‘ï¼šæ˜¯ä¸€ç§ä½¿ç”¨çš„å…³ç³»,æ‰€ä»¥è¦å°½é‡ä¸ä½¿ç”¨åŒå‘çš„äº’ç›¸ä¾èµ–ã€‚ã€ä»£ç è¡¨ç°ã€‘ï¼šå±€éƒ¨å˜é‡ã€æ–¹æ³•çš„å‚æ•°æˆ–è€…å¯¹é™æ€æ–¹æ³•çš„è°ƒç”¨ã€ç®­å¤´åŠæŒ‡å‘ã€‘ï¼šå¸¦ç®­å¤´çš„è™šçº¿ï¼ŒæŒ‡å‘è¢«ä½¿ç”¨è€… å„ç§å…³ç³»çš„å¼ºå¼±é¡ºåºï¼š æ³›åŒ–= å®ç°&gt; ç»„åˆ&gt; èšåˆ&gt; å…³è”&gt; ä¾èµ– è®¾è®¡æ¨¡å¼é‡ç‚¹è¯¦è§£Mybatisï¼ˆ 1ã€Builderæ¨¡å¼5ã€ç»„åˆæ¨¡å¼9ã€è¿­ä»£å™¨æ¨¡å¼2ã€å·¥å‚æ¨¡å¼3ã€å•ä¾‹æ¨¡å¼4ã€ä»£ç†6ã€æ¨¡æ¿æ–¹æ³•æ¨¡å¼7ã€é€‚é…å™¨æ¨¡å¼8ã€è£…é¥°è€…æ¨¡å¼ï¼‰ Springï¼ˆ1.ç®€å•å·¥å‚2.å·¥å‚æ–¹æ³•3.å•ä¾‹æ¨¡å¼4.é€‚é…å™¨æ¨¡å¼5.è£…é¥°å™¨æ¨¡å¼6.ä»£ç†æ¨¡å¼7.è§‚å¯Ÿè€…æ¨¡å¼8.ç­–ç•¥æ¨¡å¼9.æ¨¡ç‰ˆæ–¹æ³•æ¨¡å¼ï¼‰ åˆ›å»ºå‹æ¨¡å¼ã€Šå•ä¾‹æ¨¡å¼Singletonã€‹ç‰¹ç‚¹ï¼š å•ä¾‹ç±»åªæœ‰ä¸€ä¸ªå®ä¾‹å¯¹è±¡ï¼› è¯¥å•ä¾‹å¯¹è±¡å¿…é¡»ç”±å•ä¾‹ç±»è‡ªè¡Œåˆ›å»ºï¼› å•ä¾‹ç±»å¯¹å¤–æä¾›ä¸€ä¸ªè®¿é—®è¯¥å•ä¾‹çš„å…¨å±€è®¿é—®ç‚¹ã€‚ ä¼˜ç‚¹ï¼š å•ä¾‹æ¨¡å¼å¯ä»¥ä¿è¯å†…å­˜é‡Œåªæœ‰ä¸€ä¸ªå®ä¾‹ï¼Œå‡å°‘äº†å†…å­˜çš„å¼€é”€ã€‚ å¯ä»¥é¿å…å¯¹èµ„æºçš„å¤šé‡å ç”¨ã€‚ å•ä¾‹æ¨¡å¼è®¾ç½®å…¨å±€è®¿é—®ç‚¹ï¼Œå¯ä»¥ä¼˜åŒ–å’Œå…±äº«èµ„æºçš„è®¿é—®ã€‚ ç¼ºç‚¹ï¼š å•ä¾‹æ¨¡å¼ä¸€èˆ¬æ²¡æœ‰æ¥å£ï¼Œæ‰©å±•å›°éš¾ã€‚å¦‚æœè¦æ‰©å±•ï¼Œåˆ™é™¤äº†ä¿®æ”¹åŸæ¥çš„ä»£ç ï¼Œæ²¡æœ‰ç¬¬äºŒç§é€”å¾„ï¼Œè¿èƒŒå¼€é—­åŸåˆ™ã€‚ åœ¨å¹¶å‘æµ‹è¯•ä¸­ï¼Œå•ä¾‹æ¨¡å¼ä¸åˆ©äºä»£ç è°ƒè¯•ã€‚åœ¨è°ƒè¯•è¿‡ç¨‹ä¸­ï¼Œå¦‚æœå•ä¾‹ä¸­çš„ä»£ç æ²¡æœ‰æ‰§è¡Œå®Œï¼Œä¹Ÿä¸èƒ½æ¨¡æ‹Ÿç”Ÿæˆä¸€ä¸ªæ–°çš„å¯¹è±¡ã€‚ å•ä¾‹æ¨¡å¼çš„åŠŸèƒ½ä»£ç é€šå¸¸å†™åœ¨ä¸€ä¸ªç±»ä¸­ï¼Œå¦‚æœåŠŸèƒ½è®¾è®¡ä¸åˆç†ï¼Œåˆ™å¾ˆå®¹æ˜“è¿èƒŒå•ä¸€èŒè´£åŸåˆ™ã€‚ å•ä¾‹æ¨¡å¼çš„åº”ç”¨åœºæ™¯ï¼š éœ€è¦é¢‘ç¹åˆ›å»ºçš„ä¸€äº›ç±»ï¼Œä½¿ç”¨å•ä¾‹å¯ä»¥é™ä½ç³»ç»Ÿçš„å†…å­˜å‹åŠ›ï¼Œå‡å°‘ GCã€‚ æŸç±»åªè¦æ±‚ç”Ÿæˆä¸€ä¸ªå¯¹è±¡çš„æ—¶å€™ï¼Œå¦‚ä¸€ä¸ªç­ä¸­çš„ç­é•¿ã€æ¯ä¸ªäººçš„èº«ä»½è¯å·ç­‰ã€‚ æŸäº›ç±»åˆ›å»ºå®ä¾‹æ—¶å ç”¨èµ„æºè¾ƒå¤šï¼Œæˆ–å®ä¾‹åŒ–è€—æ—¶è¾ƒé•¿ï¼Œä¸”ç»å¸¸ä½¿ç”¨ã€‚ æŸç±»éœ€è¦é¢‘ç¹å®ä¾‹åŒ–ï¼Œè€Œåˆ›å»ºçš„å¯¹è±¡åˆé¢‘ç¹è¢«é”€æ¯çš„æ—¶å€™ï¼Œå¦‚å¤šçº¿ç¨‹çš„çº¿ç¨‹æ± ã€ç½‘ç»œè¿æ¥æ± ç­‰ã€‚ é¢‘ç¹è®¿é—®æ•°æ®åº“æˆ–æ–‡ä»¶çš„å¯¹è±¡ã€‚ å¯¹äºä¸€äº›æ§åˆ¶ç¡¬ä»¶çº§åˆ«çš„æ“ä½œï¼Œæˆ–è€…ä»ç³»ç»Ÿä¸Šæ¥è®²åº”å½“æ˜¯å•ä¸€æ§åˆ¶é€»è¾‘çš„æ“ä½œï¼Œå¦‚æœæœ‰å¤šä¸ªå®ä¾‹ï¼Œåˆ™ç³»ç»Ÿä¼šå®Œå…¨ä¹±å¥—ã€‚ å½“å¯¹è±¡éœ€è¦è¢«å…±äº«çš„åœºåˆã€‚ç”±äºå•ä¾‹æ¨¡å¼åªå…è®¸åˆ›å»ºä¸€ä¸ªå¯¹è±¡ï¼Œå…±äº«è¯¥å¯¹è±¡å¯ä»¥èŠ‚çœå†…å­˜ï¼Œå¹¶åŠ å¿«å¯¹è±¡è®¿é—®é€Ÿåº¦ã€‚å¦‚ Web ä¸­çš„é…ç½®å¯¹è±¡ã€æ•°æ®åº“çš„è¿æ¥æ± ç­‰ã€‚ åˆ†ç±»JAVAå®ç°ï¼šæ‡’æ±‰å¼ï¼šç±»åŠ è½½æ—¶æ²¡æœ‰ç”Ÿæˆå•ä¾‹ï¼Œåªæœ‰å½“ç¬¬ä¸€æ¬¡è°ƒç”¨ getlnstance æ–¹æ³•æ—¶æ‰å»åˆ›å»ºè¿™ä¸ªå•ä¾‹ â€‹ å¦‚æœç¼–å†™çš„æ˜¯å¤šçº¿ç¨‹ç¨‹åºï¼Œåˆ™ä¸è¦åˆ é™¤ä¸Šä¾‹ä»£ç ä¸­çš„å…³é”®å­— volatile å’Œ synchronizedï¼Œå¦åˆ™å°†å­˜åœ¨çº¿ç¨‹éå®‰å…¨çš„é—®é¢˜ã€‚å¦‚æœä¸åˆ é™¤è¿™ä¸¤ä¸ªå…³é”®å­—å°±èƒ½ä¿è¯çº¿ç¨‹å®‰å…¨ï¼Œä½†æ˜¯æ¯æ¬¡è®¿é—®æ—¶éƒ½è¦åŒæ­¥ï¼Œä¼šå½±å“æ€§èƒ½ï¼Œä¸”æ¶ˆè€—æ›´å¤šçš„èµ„æºï¼Œè¿™æ˜¯æ‡’æ±‰å¼å•ä¾‹çš„ç¼ºç‚¹ã€‚ 123456789101112public class LazySingleton { private static volatile LazySingleton instance = null; //ä¿è¯ instance åœ¨æ‰€æœ‰çº¿ç¨‹ä¸­åŒæ­¥ private LazySingleton() { } //private é¿å…ç±»åœ¨å¤–éƒ¨è¢«å®ä¾‹åŒ– public static synchronized LazySingleton getInstance() { //getInstance æ–¹æ³•å‰åŠ åŒæ­¥ if (instance == null) { instance = new LazySingleton(); } return instance; }} é¥¿æ±‰å¼ï¼šç±»ä¸€æ—¦åŠ è½½å°±åˆ›å»ºä¸€ä¸ªå•ä¾‹ï¼Œä¿è¯åœ¨è°ƒç”¨ getInstance æ–¹æ³•ä¹‹å‰å•ä¾‹å·²ç»å­˜åœ¨äº†ã€‚ 12345678public class HungrySingleton { private static final HungrySingleton instance = new HungrySingleton(); private HungrySingleton() { } public static HungrySingleton getInstance() { return instance; }} â€‹ é¥¿æ±‰å¼å•ä¾‹åœ¨ç±»åˆ›å»ºçš„åŒæ—¶å°±å·²ç»åˆ›å»ºå¥½ä¸€ä¸ªé™æ€çš„å¯¹è±¡ä¾›ç³»ç»Ÿä½¿ç”¨ï¼Œä»¥åä¸å†æ”¹å˜ï¼Œæ‰€ä»¥æ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼Œå¯ä»¥ç›´æ¥ç”¨äºå¤šçº¿ç¨‹è€Œä¸ä¼šå‡ºç°é—®é¢˜ã€‚ ã€ŠåŸå‹æ¨¡å¼Prototypeã€‹ç‰¹ç‚¹ï¼š ç”¨ä¸€ä¸ªå·²ç»åˆ›å»ºçš„å®ä¾‹ä½œä¸ºåŸå‹ï¼Œé€šè¿‡å¤åˆ¶è¯¥åŸå‹å¯¹è±¡æ¥åˆ›å»ºä¸€ä¸ªå’ŒåŸå‹ç›¸åŒæˆ–ç›¸ä¼¼çš„æ–°å¯¹è±¡ã€‚ åŸå‹å®ä¾‹æŒ‡å®šäº†è¦åˆ›å»ºçš„å¯¹è±¡çš„ç§ç±»ã€‚ç”¨è¿™ç§æ–¹å¼åˆ›å»ºå¯¹è±¡éå¸¸é«˜æ•ˆï¼Œæ ¹æœ¬æ— é¡»çŸ¥é“å¯¹è±¡åˆ›å»ºçš„ç»†èŠ‚ã€‚ ä¼˜ç‚¹ï¼š Javaè‡ªå¸¦çš„åŸå‹æ¨¡å¼åŸºäºå†…å­˜äºŒè¿›åˆ¶æµçš„å¤åˆ¶ï¼Œåœ¨æ€§èƒ½ä¸Šæ¯”ç›´æ¥ new ä¸€ä¸ªå¯¹è±¡æ›´åŠ ä¼˜è‰¯ã€‚ æ·±å…‹éš†æ–¹å¼ä¿å­˜å¯¹è±¡çš„çŠ¶æ€ï¼Œä½¿ç”¨åŸå‹æ¨¡å¼å°†å¯¹è±¡å¤åˆ¶ä¸€ä»½ï¼Œå¹¶å°†å…¶çŠ¶æ€ä¿å­˜èµ·æ¥ï¼Œç®€åŒ–åˆ›å»ºå¯¹è±¡è¿‡ç¨‹ï¼Œä»¥ä¾¿åœ¨éœ€è¦çš„æ—¶å€™ä½¿ç”¨ï¼ˆä¾‹å¦‚æ¢å¤åˆ°å†å²æŸä¸€çŠ¶æ€ï¼‰ï¼Œå¯è¾…åŠ©å®ç°æ’¤é”€æ“ä½œã€‚ ç¼ºç‚¹ï¼š éœ€è¦ä¸ºæ¯ä¸€ä¸ªç±»éƒ½é…ç½®ä¸€ä¸ª clone æ–¹æ³• clone æ–¹æ³•ä½äºç±»çš„å†…éƒ¨ï¼Œå½“å¯¹å·²æœ‰ç±»è¿›è¡Œæ”¹é€ çš„æ—¶å€™ï¼Œéœ€è¦ä¿®æ”¹ä»£ç ï¼Œè¿èƒŒäº†å¼€é—­åŸåˆ™ã€‚ å½“å®ç°æ·±å…‹éš†æ—¶ï¼Œéœ€è¦ç¼–å†™è¾ƒä¸ºå¤æ‚çš„ä»£ç ï¼Œè€Œä¸”å½“å¯¹è±¡ä¹‹é—´å­˜åœ¨å¤šé‡åµŒå¥—å¼•ç”¨æ—¶ï¼Œä¸ºäº†å®ç°æ·±å…‹éš†ï¼Œæ¯ä¸€å±‚å¯¹è±¡å¯¹åº”çš„ç±»éƒ½å¿…é¡»æ”¯æŒæ·±å…‹éš†ï¼Œå®ç°èµ·æ¥ä¼šæ¯”è¾ƒéº»çƒ¦ã€‚å› æ­¤ï¼Œæ·±å…‹éš†ã€æµ…å…‹éš†éœ€è¦è¿ç”¨å¾—å½“ã€‚ è§’è‰²ï¼š æŠ½è±¡åŸå‹ç±»ï¼šè§„å®šäº†å…·ä½“åŸå‹å¯¹è±¡å¿…é¡»å®ç°çš„æ¥å£ã€‚ å…·ä½“åŸå‹ç±»ï¼šå®ç°æŠ½è±¡åŸå‹ç±»çš„ clone() æ–¹æ³•ï¼Œå®ƒæ˜¯å¯è¢«å¤åˆ¶çš„å¯¹è±¡ã€‚ è®¿é—®ç±»ï¼šä½¿ç”¨å…·ä½“åŸå‹ç±»ä¸­çš„ clone() æ–¹æ³•æ¥å¤åˆ¶æ–°çš„å¯¹è±¡ã€‚ æµ…å…‹éš†ï¼šåˆ›å»ºä¸€ä¸ªæ–°å¯¹è±¡ï¼Œæ–°å¯¹è±¡çš„å±æ€§å’ŒåŸæ¥å¯¹è±¡å®Œå…¨ç›¸åŒï¼Œå¯¹äºéåŸºæœ¬ç±»å‹å±æ€§ï¼Œä»æŒ‡å‘åŸæœ‰å±æ€§æ‰€æŒ‡å‘çš„å¯¹è±¡çš„å†…å­˜åœ°å€ã€‚ æ·±å…‹éš†ï¼šåˆ›å»ºä¸€ä¸ªæ–°å¯¹è±¡ï¼Œå±æ€§ä¸­å¼•ç”¨çš„å…¶ä»–å¯¹è±¡ä¹Ÿä¼šè¢«å…‹éš†ï¼Œä¸å†æŒ‡å‘åŸæœ‰å¯¹è±¡åœ°å€ã€‚ åŸå‹æ¨¡å¼çš„åº”ç”¨åœºæ™¯ï¼š å¯¹è±¡ä¹‹é—´ç›¸åŒæˆ–ç›¸ä¼¼ï¼Œå³åªæ˜¯ä¸ªåˆ«çš„å‡ ä¸ªå±æ€§ä¸åŒçš„æ—¶å€™ã€‚ åˆ›å»ºå¯¹è±¡æˆæœ¬è¾ƒå¤§ï¼Œä¾‹å¦‚åˆå§‹åŒ–æ—¶é—´é•¿ï¼Œå ç”¨CPUå¤ªå¤šï¼Œæˆ–è€…å ç”¨ç½‘ç»œèµ„æºå¤ªå¤šç­‰ï¼Œéœ€è¦ä¼˜åŒ–èµ„æºã€‚ åˆ›å»ºä¸€ä¸ªå¯¹è±¡éœ€è¦ç¹ççš„æ•°æ®å‡†å¤‡æˆ–è®¿é—®æƒé™ç­‰ï¼Œéœ€è¦æé«˜æ€§èƒ½æˆ–è€…æé«˜å®‰å…¨æ€§ã€‚ ç³»ç»Ÿä¸­å¤§é‡ä½¿ç”¨è¯¥ç±»å¯¹è±¡ï¼Œä¸”å„ä¸ªè°ƒç”¨è€…éƒ½éœ€è¦ç»™å®ƒçš„å±æ€§é‡æ–°èµ‹å€¼ã€‚ JAVAå®ç°ï¼š æµ…å…‹éš†ï¼šåˆ›å»ºä¸€ä¸ªæ–°å¯¹è±¡ï¼Œæ–°å¯¹è±¡çš„å±æ€§å’ŒåŸæ¥å¯¹è±¡å®Œå…¨ç›¸åŒï¼Œå¯¹äºéåŸºæœ¬ç±»å‹å±æ€§ï¼Œä»æŒ‡å‘åŸæœ‰å±æ€§æ‰€æŒ‡å‘çš„å¯¹è±¡çš„å†…å­˜åœ°å€ã€‚ æ·±å…‹éš†ï¼šåˆ›å»ºä¸€ä¸ªæ–°å¯¹è±¡ï¼Œå±æ€§ä¸­å¼•ç”¨çš„å…¶ä»–å¯¹è±¡ä¹Ÿä¼šè¢«å…‹éš†ï¼Œä¸å†æŒ‡å‘åŸæœ‰å¯¹è±¡åœ°å€ã€‚ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364import java.util.*;interface Shape extends Cloneable { public Object clone(); //æ‹·è´ public void countArea(); //è®¡ç®—é¢ç§¯}class Circle implements Shape { public Object clone() { Circle w = null; try { w = (Circle) super.clone(); } catch (CloneNotSupportedException e) { System.out.println(&quot;æ‹·è´åœ†å¤±è´¥!&quot;); } return w; } public void countArea() { int r = 0; System.out.print(&quot;è¿™æ˜¯ä¸€ä¸ªåœ†ï¼Œè¯·è¾“å…¥åœ†çš„åŠå¾„ï¼š&quot;); Scanner input = new Scanner(System.in); r = input.nextInt(); System.out.println(&quot;è¯¥åœ†çš„é¢ç§¯=&quot; + 3.1415 * r * r + &quot;\\n&quot;); }}class Square implements Shape { public Object clone() { Square b = null; try { b = (Square) super.clone(); } catch (CloneNotSupportedException e) { System.out.println(&quot;æ‹·è´æ­£æ–¹å½¢å¤±è´¥!&quot;); } return b; } public void countArea() { int a = 0; System.out.print(&quot;è¿™æ˜¯ä¸€ä¸ªæ­£æ–¹å½¢ï¼Œè¯·è¾“å…¥å®ƒçš„è¾¹é•¿ï¼š&quot;); Scanner input = new Scanner(System.in); a = input.nextInt(); System.out.println(&quot;è¯¥æ­£æ–¹å½¢çš„é¢ç§¯=&quot; + a * a + &quot;\\n&quot;); }}class ProtoTypeManager { private HashMap&lt;String, Shape&gt; ht = new HashMap&lt;String, Shape&gt;(); public ProtoTypeManager() { ht.put(&quot;Circle&quot;, new Circle()); ht.put(&quot;Square&quot;, new Square()); } public void addshape(String key, Shape obj) { ht.put(key, obj); } public Shape getShape(String key) { Shape temp = ht.get(key); return (Shape) temp.clone(); }}public class ProtoTypeShape { public static void main(String[] args) { ProtoTypeManager pm = new ProtoTypeManager(); Shape obj1 = (Circle) pm.getShape(&quot;Circle&quot;); obj1.countArea(); Shape obj2 = (Shape) pm.getShape(&quot;Square&quot;); obj2.countArea(); }} ã€Šç®€å•å·¥å‚æ¨¡å¼Simple Factory Patternã€‹ç‰¹ç‚¹ï¼š å®šä¹‰ä¸€ä¸ªåˆ›å»ºäº§å“å¯¹è±¡çš„å·¥å‚æ¥å£ï¼Œå°†äº§å“å¯¹è±¡çš„å®é™…åˆ›å»ºå·¥ä½œæ¨è¿Ÿåˆ°å…·ä½“å­å·¥å‚ç±»å½“ä¸­ã€‚è¿™æ»¡è¶³åˆ›å»ºå‹æ¨¡å¼ä¸­æ‰€è¦æ±‚çš„â€œåˆ›å»ºä¸ä½¿ç”¨ç›¸åˆ†ç¦»â€çš„ç‰¹ç‚¹ éœ€è¦ç”Ÿæˆå¤æ‚å¯¹è±¡çš„åœ°æ–¹ï¼Œéƒ½å¯ä»¥å°è¯•è€ƒè™‘ä½¿ç”¨å·¥å‚æ¨¡å¼ã€‚å¤æ‚å¯¹è±¡æŒ‡çš„æ˜¯ç±»çš„æ„é€ å‡½æ•°å‚æ•°è¿‡å¤šç­‰å¯¹ç±»çš„æ„é€ æœ‰å½±å“çš„æƒ…å†µï¼Œå› ä¸ºç±»çš„æ„é€ è¿‡äºå¤æ‚ï¼Œå¦‚æœç›´æ¥åœ¨å…¶ä»–ä¸šåŠ¡ç±»å†…ä½¿ç”¨ï¼Œåˆ™ä¸¤è€…çš„è€¦åˆè¿‡é‡ï¼Œåç»­ä¸šåŠ¡æ›´æ”¹ï¼Œå°±éœ€è¦åœ¨ä»»ä½•å¼•ç”¨è¯¥ç±»çš„æºä»£ç å†…è¿›è¡Œæ›´æ”¹ï¼Œå…‰æ˜¯æŸ¥æ‰¾æ‰€æœ‰ä¾èµ–å°±å¾ˆæ¶ˆè€—æ—¶é—´äº†ï¼Œæ›´åˆ«è¯´è¦ä¸€ä¸ªä¸€ä¸ªä¿®æ”¹äº†ã€‚ ä¼˜ç‚¹ï¼š å·¥å‚ç±»åŒ…å«å¿…è¦çš„é€»è¾‘åˆ¤æ–­ï¼Œå¯ä»¥å†³å®šåœ¨ä»€ä¹ˆæ—¶å€™åˆ›å»ºå“ªä¸€ä¸ªäº§å“çš„å®ä¾‹ã€‚å®¢æˆ·ç«¯å¯ä»¥å…é™¤ç›´æ¥åˆ›å»ºäº§å“å¯¹è±¡çš„èŒè´£ï¼Œå¾ˆæ–¹ä¾¿çš„åˆ›å»ºå‡ºç›¸åº”çš„äº§å“ã€‚å·¥å‚å’Œäº§å“çš„èŒè´£åŒºåˆ†æ˜ç¡®ã€‚ å®¢æˆ·ç«¯æ— éœ€çŸ¥é“æ‰€åˆ›å»ºå…·ä½“äº§å“çš„ç±»åï¼Œåªéœ€çŸ¥é“å‚æ•°å³å¯ã€‚ ä¹Ÿå¯ä»¥å¼•å…¥é…ç½®æ–‡ä»¶ï¼Œåœ¨ä¸ä¿®æ”¹å®¢æˆ·ç«¯ä»£ç çš„æƒ…å†µä¸‹æ›´æ¢å’Œæ·»åŠ æ–°çš„å…·ä½“äº§å“ç±»ã€‚ ç¼ºç‚¹ï¼š ç®€å•å·¥å‚æ¨¡å¼çš„å·¥å‚ç±»å•ä¸€ï¼Œè´Ÿè´£æ‰€æœ‰äº§å“çš„åˆ›å»ºï¼ŒèŒè´£è¿‡é‡ï¼Œä¸€æ—¦å¼‚å¸¸ï¼Œæ•´ä¸ªç³»ç»Ÿå°†å—å½±å“ã€‚ä¸”å·¥å‚ç±»ä»£ç ä¼šéå¸¸è‡ƒè‚¿ï¼Œè¿èƒŒé«˜èšåˆåŸåˆ™ã€‚ ä½¿ç”¨ç®€å•å·¥å‚æ¨¡å¼ä¼šå¢åŠ ç³»ç»Ÿä¸­ç±»çš„ä¸ªæ•°ï¼ˆå¼•å…¥æ–°çš„å·¥å‚ç±»ï¼‰ï¼Œå¢åŠ ç³»ç»Ÿçš„å¤æ‚åº¦å’Œç†è§£éš¾åº¦ ç³»ç»Ÿæ‰©å±•å›°éš¾ï¼Œä¸€æ—¦å¢åŠ æ–°äº§å“ä¸å¾—ä¸ä¿®æ”¹å·¥å‚é€»è¾‘ï¼Œåœ¨äº§å“ç±»å‹è¾ƒå¤šæ—¶ï¼Œå¯èƒ½é€ æˆé€»è¾‘è¿‡äºå¤æ‚ ç®€å•å·¥å‚æ¨¡å¼ä½¿ç”¨äº† static å·¥å‚æ–¹æ³•ï¼Œé€ æˆå·¥å‚è§’è‰²æ— æ³•å½¢æˆåŸºäºç»§æ‰¿çš„ç­‰çº§ç»“æ„ã€‚ è§’è‰²ï¼š ç®€å•å·¥å‚ï¼ˆSimpleFactoryï¼‰ï¼šæ˜¯ç®€å•å·¥å‚æ¨¡å¼çš„æ ¸å¿ƒï¼Œè´Ÿè´£å®ç°åˆ›å»ºæ‰€æœ‰å®ä¾‹çš„å†…éƒ¨é€»è¾‘ã€‚å·¥å‚ç±»çš„åˆ›å»ºäº§å“ç±»çš„æ–¹æ³•å¯ä»¥è¢«å¤–ç•Œç›´æ¥è°ƒç”¨ï¼Œåˆ›å»ºæ‰€éœ€çš„äº§å“å¯¹è±¡ã€‚ æŠ½è±¡äº§å“ï¼ˆProductï¼‰ï¼šæ˜¯ç®€å•å·¥å‚åˆ›å»ºçš„æ‰€æœ‰å¯¹è±¡çš„çˆ¶ç±»ï¼Œè´Ÿè´£æè¿°æ‰€æœ‰å®ä¾‹å…±æœ‰çš„å…¬å…±æ¥å£ã€‚ å…·ä½“äº§å“ï¼ˆConcreteProductï¼‰ï¼šæ˜¯ç®€å•å·¥å‚æ¨¡å¼çš„åˆ›å»ºç›®æ ‡ã€‚ ç®€å•å·¥å‚æ¨¡å¼çš„åº”ç”¨åœºæ™¯ï¼š ç”Ÿæˆå¤æ‚å¯¹è±¡ JAVAå®ç°123456789101112131415161718192021222324252627282930313233343536public class Client { public static void main(String[] args) { } //æŠ½è±¡äº§å“ public interface Product { void show(); } //å…·ä½“äº§å“ï¼šProductA static class ConcreteProduct1 implements Product { public void show() { System.out.println(&quot;å…·ä½“äº§å“1æ˜¾ç¤º...&quot;); } } //å…·ä½“äº§å“ï¼šProductB static class ConcreteProduct2 implements Product { public void show() { System.out.println(&quot;å…·ä½“äº§å“2æ˜¾ç¤º...&quot;); } } final class Const { static final int PRODUCT_A = 0; static final int PRODUCT_B = 1; static final int PRODUCT_C = 2; } static class SimpleFactory { public static Product makeProduct(int kind) { switch (kind) { case Const.PRODUCT_A: return new ConcreteProduct1(); case Const.PRODUCT_B: return new ConcreteProduct2(); } return null; } }} ã€Šå·¥å‚æ¨¡å¼Factory Patternã€‹ç‰¹ç‚¹ï¼š å¯ä»¥ä½¿ç³»ç»Ÿåœ¨ä¸ä¿®æ”¹åŸæ¥ä»£ç çš„æƒ…å†µä¸‹å¼•è¿›æ–°çš„äº§å“ï¼Œå³æ»¡è¶³å¼€é—­åŸåˆ™ã€‚ ä¼˜ç‚¹ï¼š ç”¨æˆ·åªéœ€è¦çŸ¥é“å…·ä½“å·¥å‚çš„åç§°å°±å¯å¾—åˆ°æ‰€è¦çš„äº§å“ï¼Œæ— é¡»çŸ¥é“äº§å“çš„å…·ä½“åˆ›å»ºè¿‡ç¨‹ã€‚ çµæ´»æ€§å¢å¼ºï¼Œå¯¹äºæ–°äº§å“çš„åˆ›å»ºï¼Œåªéœ€å¤šå†™ä¸€ä¸ªç›¸åº”çš„å·¥å‚ç±»ã€‚ å…¸å‹çš„è§£è€¦æ¡†æ¶ã€‚é«˜å±‚æ¨¡å—åªéœ€è¦çŸ¥é“äº§å“çš„æŠ½è±¡ç±»ï¼Œæ— é¡»å…³å¿ƒå…¶ä»–å®ç°ç±»ï¼Œæ»¡è¶³è¿ªç±³ç‰¹æ³•åˆ™ã€ä¾èµ–å€’ç½®åŸåˆ™å’Œé‡Œæ°æ›¿æ¢åŸåˆ™ã€‚ ç¼ºç‚¹ï¼š ç±»çš„ä¸ªæ•°å®¹æ˜“è¿‡å¤šï¼Œå¢åŠ å¤æ‚åº¦ å¢åŠ äº†ç³»ç»Ÿçš„æŠ½è±¡æ€§å’Œç†è§£éš¾åº¦ æŠ½è±¡äº§å“åªèƒ½ç”Ÿäº§ä¸€ç§äº§å“ï¼Œæ­¤å¼Šç«¯å¯ä½¿ç”¨æŠ½è±¡å·¥å‚æ¨¡å¼è§£å†³ã€‚ è§’è‰²ï¼š æŠ½è±¡å·¥å‚ï¼ˆAbstract Factoryï¼‰ï¼šæä¾›äº†åˆ›å»ºäº§å“çš„æ¥å£ï¼Œè°ƒç”¨è€…é€šè¿‡å®ƒè®¿é—®å…·ä½“å·¥å‚çš„å·¥å‚æ–¹æ³• newProduct() æ¥åˆ›å»ºäº§å“ã€‚ å…·ä½“å·¥å‚ï¼ˆConcreteFactoryï¼‰ï¼šä¸»è¦æ˜¯å®ç°æŠ½è±¡å·¥å‚ä¸­çš„æŠ½è±¡æ–¹æ³•ï¼Œå®Œæˆå…·ä½“äº§å“çš„åˆ›å»ºã€‚ æŠ½è±¡äº§å“ï¼ˆProductï¼‰ï¼šå®šä¹‰äº†äº§å“çš„è§„èŒƒï¼Œæè¿°äº†äº§å“çš„ä¸»è¦ç‰¹æ€§å’ŒåŠŸèƒ½ã€‚ å…·ä½“äº§å“ï¼ˆConcreteProductï¼‰ï¼šå®ç°äº†æŠ½è±¡äº§å“è§’è‰²æ‰€å®šä¹‰çš„æ¥å£ï¼Œç”±å…·ä½“å·¥å‚æ¥åˆ›å»ºï¼Œå®ƒåŒå…·ä½“å·¥å‚ä¹‹é—´ä¸€ä¸€å¯¹åº”ã€‚ å·¥å‚æ¨¡å¼çš„åº”ç”¨åœºæ™¯ï¼š å®¢æˆ·åªçŸ¥é“åˆ›å»ºäº§å“çš„å·¥å‚åï¼Œè€Œä¸çŸ¥é“å…·ä½“çš„äº§å“åã€‚å¦‚ TCL ç”µè§†å·¥å‚ã€æµ·ä¿¡ç”µè§†å·¥å‚ç­‰ã€‚ åˆ›å»ºå¯¹è±¡çš„ä»»åŠ¡ç”±å¤šä¸ªå…·ä½“å­å·¥å‚ä¸­çš„æŸä¸€ä¸ªå®Œæˆï¼Œè€ŒæŠ½è±¡å·¥å‚åªæä¾›åˆ›å»ºäº§å“çš„æ¥å£ã€‚ å®¢æˆ·ä¸å…³å¿ƒåˆ›å»ºäº§å“çš„ç»†èŠ‚ï¼Œåªå…³å¿ƒäº§å“çš„å“ç‰Œ JAVAå®ç°12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849package FactoryMethod;public class AbstractFactoryTest { public static void main(String[] args) { try { Product a; AbstractFactory af; af = (AbstractFactory) ReadXML1.getObject(); a = af.newProduct(); a.show(); } catch (Exception e) { System.out.println(e.getMessage()); } }}//æŠ½è±¡äº§å“ï¼šæä¾›äº†äº§å“çš„æ¥å£interface Product { public void show();}//å…·ä½“äº§å“1ï¼šå®ç°æŠ½è±¡äº§å“ä¸­çš„æŠ½è±¡æ–¹æ³•class ConcreteProduct1 implements Product { public void show() { System.out.println(&quot;å…·ä½“äº§å“1æ˜¾ç¤º...&quot;); }}//å…·ä½“äº§å“2ï¼šå®ç°æŠ½è±¡äº§å“ä¸­çš„æŠ½è±¡æ–¹æ³•class ConcreteProduct2 implements Product { public void show() { System.out.println(&quot;å…·ä½“äº§å“2æ˜¾ç¤º...&quot;); }}//æŠ½è±¡å·¥å‚ï¼šæä¾›äº†å‚å“çš„ç”Ÿæˆæ–¹æ³•interface AbstractFactory { public Product newProduct();}//å…·ä½“å·¥å‚1ï¼šå®ç°äº†å‚å“çš„ç”Ÿæˆæ–¹æ³•class ConcreteFactory1 implements AbstractFactory { public Product newProduct() { System.out.println(&quot;å…·ä½“å·¥å‚1ç”Ÿæˆ--&gt;å…·ä½“äº§å“1...&quot;); return new ConcreteProduct1(); }}//å…·ä½“å·¥å‚2ï¼šå®ç°äº†å‚å“çš„ç”Ÿæˆæ–¹æ³•class ConcreteFactory2 implements AbstractFactory { public Product newProduct() { System.out.println(&quot;å…·ä½“å·¥å‚2ç”Ÿæˆ--&gt;å…·ä½“äº§å“2...&quot;); return new ConcreteProduct2(); }} 12345678910111213141516171819202122232425262728package FactoryMethod;import javax.xml.parsers.*;import org.w3c.dom.*;import java.io.*;class ReadXML1 { //è¯¥æ–¹æ³•ç”¨äºä»XMLé…ç½®æ–‡ä»¶ä¸­æå–å…·ä½“ç±»ç±»åï¼Œå¹¶è¿”å›ä¸€ä¸ªå®ä¾‹å¯¹è±¡ public static Object getObject() { try { //åˆ›å»ºæ–‡æ¡£å¯¹è±¡ DocumentBuilderFactory dFactory = DocumentBuilderFactory.newInstance(); DocumentBuilder builder = dFactory.newDocumentBuilder(); Document doc; doc = builder.parse(new File(&quot;src/FactoryMethod/config1.xml&quot;)); //è·å–åŒ…å«ç±»åçš„æ–‡æœ¬èŠ‚ç‚¹ NodeList nl = doc.getElementsByTagName(&quot;className&quot;); Node classNode = nl.item(0).getFirstChild(); String cName = &quot;FactoryMethod.&quot; + classNode.getNodeValue(); //System.out.println(&quot;æ–°ç±»åï¼š&quot;+cName); //é€šè¿‡ç±»åç”Ÿæˆå®ä¾‹å¯¹è±¡å¹¶å°†å…¶è¿”å› Class&lt;?&gt; c = Class.forName(cName); Object obj = c.newInstance(); return obj; } catch (Exception e) { e.printStackTrace(); return null; } }} ã€ŠæŠ½è±¡å·¥å‚æ¨¡å¼Abstract Factory Patternã€‹ç‰¹ç‚¹ï¼š ä¸€ç§ä¸ºè®¿é—®ç±»æä¾›ä¸€ä¸ªåˆ›å»ºä¸€ç»„ç›¸å…³æˆ–ç›¸äº’ä¾èµ–å¯¹è±¡çš„æ¥å£ï¼Œä¸”è®¿é—®ç±»æ— é¡»æŒ‡å®šæ‰€è¦äº§å“çš„å…·ä½“ç±»å°±èƒ½å¾—åˆ°åŒæ—çš„ä¸åŒç­‰çº§çš„äº§å“çš„æ¨¡å¼ç»“æ„ã€‚ æŠ½è±¡å·¥å‚æ¨¡å¼æ˜¯å·¥å‚æ–¹æ³•æ¨¡å¼çš„å‡çº§ç‰ˆæœ¬ï¼Œå·¥å‚æ–¹æ³•æ¨¡å¼åªç”Ÿäº§ä¸€ä¸ªç­‰çº§çš„äº§å“ï¼Œè€ŒæŠ½è±¡å·¥å‚æ¨¡å¼å¯ç”Ÿäº§å¤šä¸ªç­‰çº§çš„äº§å“ã€‚ ä½¿ç”¨æŠ½è±¡å·¥å‚æ¨¡å¼ä¸€èˆ¬è¦æ»¡è¶³ä»¥ä¸‹æ¡ä»¶ã€‚ ç³»ç»Ÿä¸­æœ‰å¤šä¸ªäº§å“æ—ï¼Œæ¯ä¸ªå…·ä½“å·¥å‚åˆ›å»ºåŒä¸€æ—ä½†å±äºä¸åŒç­‰çº§ç»“æ„çš„äº§å“ã€‚ ç³»ç»Ÿä¸€æ¬¡åªå¯èƒ½æ¶ˆè´¹å…¶ä¸­æŸä¸€æ—äº§å“ï¼Œå³åŒæ—çš„äº§å“ä¸€èµ·ä½¿ç”¨ã€‚ ä¼˜ç‚¹ï¼š ç”¨æˆ·åªéœ€è¦çŸ¥é“å…·ä½“å·¥å‚çš„åç§°å°±å¯å¾—åˆ°æ‰€è¦çš„äº§å“ï¼Œæ— é¡»çŸ¥é“äº§å“çš„å…·ä½“åˆ›å»ºè¿‡ç¨‹ã€‚ çµæ´»æ€§å¢å¼ºï¼Œå¯¹äºæ–°äº§å“çš„åˆ›å»ºï¼Œåªéœ€å¤šå†™ä¸€ä¸ªç›¸åº”çš„å·¥å‚ç±»ã€‚ å…¸å‹çš„è§£è€¦æ¡†æ¶ã€‚é«˜å±‚æ¨¡å—åªéœ€è¦çŸ¥é“äº§å“çš„æŠ½è±¡ç±»ï¼Œæ— é¡»å…³å¿ƒå…¶ä»–å®ç°ç±»ï¼Œæ»¡è¶³è¿ªç±³ç‰¹æ³•åˆ™ã€ä¾èµ–å€’ç½®åŸåˆ™å’Œé‡Œæ°æ›¿æ¢åŸåˆ™ã€‚ å¯ä»¥åœ¨ç±»çš„å†…éƒ¨å¯¹äº§å“æ—ä¸­ç›¸å…³è”çš„å¤šç­‰çº§äº§å“å…±åŒç®¡ç†ï¼Œè€Œä¸å¿…ä¸“é—¨å¼•å…¥å¤šä¸ªæ–°çš„ç±»æ¥è¿›è¡Œç®¡ç†ã€‚ å½“éœ€è¦äº§å“æ—æ—¶ï¼ŒæŠ½è±¡å·¥å‚å¯ä»¥ä¿è¯å®¢æˆ·ç«¯å§‹ç»ˆåªä½¿ç”¨åŒä¸€ä¸ªäº§å“çš„äº§å“ç»„ã€‚ æŠ½è±¡å·¥å‚å¢å¼ºäº†ç¨‹åºçš„å¯æ‰©å±•æ€§ï¼Œå½“å¢åŠ ä¸€ä¸ªæ–°çš„äº§å“æ—æ—¶ï¼Œä¸éœ€è¦ä¿®æ”¹åŸä»£ç ï¼Œæ»¡è¶³å¼€é—­åŸåˆ™ã€‚ ç¼ºç‚¹ï¼š ç±»çš„ä¸ªæ•°å®¹æ˜“è¿‡å¤šï¼Œå¢åŠ å¤æ‚åº¦ å¢åŠ äº†ç³»ç»Ÿçš„æŠ½è±¡æ€§å’Œç†è§£éš¾åº¦ æŠ½è±¡äº§å“åªèƒ½ç”Ÿäº§ä¸€ç§äº§å“ï¼Œæ­¤å¼Šç«¯å¯ä½¿ç”¨æŠ½è±¡å·¥å‚æ¨¡å¼è§£å†³ã€‚ å½“äº§å“æ—ä¸­éœ€è¦å¢åŠ ä¸€ä¸ªæ–°çš„äº§å“æ—¶ï¼Œæ‰€æœ‰çš„å·¥å‚ç±»éƒ½éœ€è¦è¿›è¡Œä¿®æ”¹ã€‚å¢åŠ äº†ç³»ç»Ÿçš„æŠ½è±¡æ€§å’Œç†è§£éš¾åº¦ã€‚ è§’è‰²ï¼š æŠ½è±¡å·¥å‚ä¸­æ–¹æ³•ä¸ªæ•°ä¸åŒï¼ŒæŠ½è±¡äº§å“çš„ä¸ªæ•°ä¹Ÿä¸åŒ æŠ½è±¡å·¥å‚ï¼ˆAbstract Factoryï¼‰ï¼šæä¾›äº†åˆ›å»ºäº§å“çš„æ¥å£ï¼Œå®ƒåŒ…å«å¤šä¸ªåˆ›å»ºäº§å“çš„æ–¹æ³• newProduct()ï¼Œå¯ä»¥åˆ›å»ºå¤šä¸ªä¸åŒç­‰çº§çš„äº§å“ã€‚ å…·ä½“å·¥å‚ï¼ˆConcrete Factoryï¼‰ï¼šä¸»è¦æ˜¯å®ç°æŠ½è±¡å·¥å‚ä¸­çš„å¤šä¸ªæŠ½è±¡æ–¹æ³•ï¼Œå®Œæˆå…·ä½“äº§å“çš„åˆ›å»ºã€‚ æŠ½è±¡äº§å“ï¼ˆProductï¼‰ï¼šå®šä¹‰äº†äº§å“çš„è§„èŒƒï¼Œæè¿°äº†äº§å“çš„ä¸»è¦ç‰¹æ€§å’ŒåŠŸèƒ½ï¼ŒæŠ½è±¡å·¥å‚æ¨¡å¼æœ‰å¤šä¸ªæŠ½è±¡äº§å“ã€‚ å…·ä½“äº§å“ï¼ˆConcreteProductï¼‰ï¼šå®ç°äº†æŠ½è±¡äº§å“è§’è‰²æ‰€å®šä¹‰çš„æ¥å£ï¼Œç”±å…·ä½“å·¥å‚æ¥åˆ›å»ºï¼Œå®ƒåŒå…·ä½“å·¥å‚ä¹‹é—´æ˜¯å¤šå¯¹ä¸€çš„å…³ç³»ã€‚ æŠ½è±¡å·¥å‚æ¨¡å¼çš„åº”ç”¨åœºæ™¯ï¼š æŠ½è±¡å·¥å‚æ¨¡å¼æœ€æ—©çš„åº”ç”¨æ˜¯ç”¨äºåˆ›å»ºå±äºä¸åŒæ“ä½œç³»ç»Ÿçš„è§†çª—æ„ä»¶ã€‚å¦‚ Java çš„ AWT ä¸­çš„ Button å’Œ Text ç­‰æ„ä»¶åœ¨ Windows å’Œ UNIX ä¸­çš„æœ¬åœ°å®ç°æ˜¯ä¸åŒçš„ã€‚ æŠ½è±¡å·¥å‚æ¨¡å¼é€šå¸¸é€‚ç”¨äºä»¥ä¸‹åœºæ™¯ï¼š å½“éœ€è¦åˆ›å»ºçš„å¯¹è±¡æ˜¯ä¸€ç³»åˆ—ç›¸äº’å…³è”æˆ–ç›¸äº’ä¾èµ–çš„äº§å“æ—æ—¶ï¼Œå¦‚ç”µå™¨å·¥å‚ä¸­çš„ç”µè§†æœºã€æ´—è¡£æœºã€ç©ºè°ƒç­‰ã€‚ ç³»ç»Ÿä¸­æœ‰å¤šä¸ªäº§å“æ—ï¼Œä½†æ¯æ¬¡åªä½¿ç”¨å…¶ä¸­çš„æŸä¸€æ—äº§å“ã€‚å¦‚æœ‰äººåªå–œæ¬¢ç©¿æŸä¸€ä¸ªå“ç‰Œçš„è¡£æœå’Œé‹ã€‚ ç³»ç»Ÿä¸­æä¾›äº†äº§å“çš„ç±»åº“ï¼Œä¸”æ‰€æœ‰äº§å“çš„æ¥å£ç›¸åŒï¼Œå®¢æˆ·ç«¯ä¸ä¾èµ–äº§å“å®ä¾‹çš„åˆ›å»ºç»†èŠ‚å’Œå†…éƒ¨ç»“æ„ã€‚ JAVAå®ç°12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849package FactoryMethod;public class AbstractFactoryTest { public static void main(String[] args) { try { Product a; AbstractFactory af; af = (AbstractFactory) ReadXML1.getObject(); a = af.newProduct(); a.show(); } catch (Exception e) { System.out.println(e.getMessage()); } }}//æŠ½è±¡äº§å“ï¼šæä¾›äº†äº§å“çš„æ¥å£interface Product { public void show();}//å…·ä½“äº§å“1ï¼šå®ç°æŠ½è±¡äº§å“ä¸­çš„æŠ½è±¡æ–¹æ³•class ConcreteProduct1 implements Product { public void show() { System.out.println(&quot;å…·ä½“äº§å“1æ˜¾ç¤º...&quot;); }}//å…·ä½“äº§å“2ï¼šå®ç°æŠ½è±¡äº§å“ä¸­çš„æŠ½è±¡æ–¹æ³•class ConcreteProduct2 implements Product { public void show() { System.out.println(&quot;å…·ä½“äº§å“2æ˜¾ç¤º...&quot;); }}//æŠ½è±¡å·¥å‚ï¼šæä¾›äº†å‚å“çš„ç”Ÿæˆæ–¹æ³•interface AbstractFactory { public Product newProduct();}//å…·ä½“å·¥å‚1ï¼šå®ç°äº†å‚å“çš„ç”Ÿæˆæ–¹æ³•class ConcreteFactory1 implements AbstractFactory { public Product newProduct() { System.out.println(&quot;å…·ä½“å·¥å‚1ç”Ÿæˆ--&gt;å…·ä½“äº§å“1...&quot;); return new ConcreteProduct1(); }}//å…·ä½“å·¥å‚2ï¼šå®ç°äº†å‚å“çš„ç”Ÿæˆæ–¹æ³•class ConcreteFactory2 implements AbstractFactory { public Product newProduct() { System.out.println(&quot;å…·ä½“å·¥å‚2ç”Ÿæˆ--&gt;å…·ä½“äº§å“2...&quot;); return new ConcreteProduct2(); }} 12345678910111213141516171819202122232425262728package FactoryMethod;import javax.xml.parsers.*;import org.w3c.dom.*;import java.io.*;class ReadXML1 { //è¯¥æ–¹æ³•ç”¨äºä»XMLé…ç½®æ–‡ä»¶ä¸­æå–å…·ä½“ç±»ç±»åï¼Œå¹¶è¿”å›ä¸€ä¸ªå®ä¾‹å¯¹è±¡ public static Object getObject() { try { //åˆ›å»ºæ–‡æ¡£å¯¹è±¡ DocumentBuilderFactory dFactory = DocumentBuilderFactory.newInstance(); DocumentBuilder builder = dFactory.newDocumentBuilder(); Document doc; doc = builder.parse(new File(&quot;src/FactoryMethod/config1.xml&quot;)); //è·å–åŒ…å«ç±»åçš„æ–‡æœ¬èŠ‚ç‚¹ NodeList nl = doc.getElementsByTagName(&quot;className&quot;); Node classNode = nl.item(0).getFirstChild(); String cName = &quot;FactoryMethod.&quot; + classNode.getNodeValue(); //System.out.println(&quot;æ–°ç±»åï¼š&quot;+cName); //é€šè¿‡ç±»åç”Ÿæˆå®ä¾‹å¯¹è±¡å¹¶å°†å…¶è¿”å› Class&lt;?&gt; c = Class.forName(cName); Object obj = c.newInstance(); return obj; } catch (Exception e) { e.printStackTrace(); return null; } }} ã€Šå»ºé€ è€…æ¨¡å¼ Buliderã€‹ç‰¹ç‚¹ï¼š å°†ä¸€ä¸ªå¤æ‚å¯¹è±¡çš„æ„é€ ä¸å®ƒçš„è¡¨ç¤ºåˆ†ç¦»ï¼Œä½¿åŒæ ·çš„æ„å»ºè¿‡ç¨‹å¯ä»¥åˆ›å»ºä¸åŒçš„è¡¨ç¤º å®ƒæ˜¯å°†ä¸€ä¸ªå¤æ‚çš„å¯¹è±¡åˆ†è§£ä¸ºå¤šä¸ªç®€å•çš„å¯¹è±¡ï¼Œç„¶åä¸€æ­¥ä¸€æ­¥æ„å»ºè€Œæˆã€‚å®ƒå°†å˜ä¸ä¸å˜ç›¸åˆ†ç¦»ï¼Œå³äº§å“çš„ç»„æˆéƒ¨åˆ†æ˜¯ä¸å˜çš„ï¼Œä½†æ¯ä¸€éƒ¨åˆ†æ˜¯å¯ä»¥çµæ´»é€‰æ‹©çš„ã€‚ ä¼˜ç‚¹ï¼š å°è£…æ€§å¥½ï¼Œæ„å»ºå’Œè¡¨ç¤ºåˆ†ç¦»ã€‚ æ‰©å±•æ€§å¥½ï¼Œå„ä¸ªå…·ä½“çš„å»ºé€ è€…ç›¸äº’ç‹¬ç«‹ï¼Œæœ‰åˆ©äºç³»ç»Ÿçš„è§£è€¦ã€‚ å®¢æˆ·ç«¯ä¸å¿…çŸ¥é“äº§å“å†…éƒ¨ç»„æˆçš„ç»†èŠ‚ï¼Œå»ºé€ è€…å¯ä»¥å¯¹åˆ›å»ºè¿‡ç¨‹é€æ­¥ç»†åŒ–ï¼Œè€Œä¸å¯¹å…¶å®ƒæ¨¡å—äº§ç”Ÿä»»ä½•å½±å“ï¼Œä¾¿äºæ§åˆ¶ç»†èŠ‚é£é™©ã€‚ ç¼ºç‚¹ï¼š äº§å“çš„ç»„æˆéƒ¨åˆ†å¿…é¡»ç›¸åŒï¼Œè¿™é™åˆ¶äº†å…¶ä½¿ç”¨èŒƒå›´ã€‚ å¦‚æœäº§å“çš„å†…éƒ¨å˜åŒ–å¤æ‚ï¼Œå¦‚æœäº§å“å†…éƒ¨å‘ç”Ÿå˜åŒ–ï¼Œåˆ™å»ºé€ è€…ä¹Ÿè¦åŒæ­¥ä¿®æ”¹ï¼ŒåæœŸç»´æŠ¤æˆæœ¬è¾ƒå¤§ã€‚ è§’è‰²ï¼š äº§å“è§’è‰²ï¼ˆProductï¼‰ï¼šå®ƒæ˜¯åŒ…å«å¤šä¸ªç»„æˆéƒ¨ä»¶çš„å¤æ‚å¯¹è±¡ï¼Œç”±å…·ä½“å»ºé€ è€…æ¥åˆ›å»ºå…¶å„ä¸ªé›¶éƒ¨ä»¶ã€‚ æŠ½è±¡å»ºé€ è€…ï¼ˆBuilderï¼‰ï¼šå®ƒæ˜¯ä¸€ä¸ªåŒ…å«åˆ›å»ºäº§å“å„ä¸ªå­éƒ¨ä»¶çš„æŠ½è±¡æ–¹æ³•çš„æ¥å£ï¼Œé€šå¸¸è¿˜åŒ…å«ä¸€ä¸ªè¿”å›å¤æ‚äº§å“çš„æ–¹æ³• getResult()ã€‚ å…·ä½“å»ºé€ è€…(Concrete Builderï¼‰ï¼šå®ç° Builder æ¥å£ï¼Œå®Œæˆå¤æ‚äº§å“çš„å„ä¸ªéƒ¨ä»¶çš„å…·ä½“åˆ›å»ºæ–¹æ³•ã€‚ æŒ‡æŒ¥è€…ï¼ˆDirectorï¼‰ï¼šå®ƒè°ƒç”¨å»ºé€ è€…å¯¹è±¡ä¸­çš„éƒ¨ä»¶æ„é€ ä¸è£…é…æ–¹æ³•å®Œæˆå¤æ‚å¯¹è±¡çš„åˆ›å»ºï¼Œåœ¨æŒ‡æŒ¥è€…ä¸­ä¸æ¶‰åŠå…·ä½“äº§å“çš„ä¿¡æ¯ã€‚ å»ºé€ è€…æ¨¡å¼çš„åº”ç”¨åœºæ™¯ï¼š ç›¸åŒçš„æ–¹æ³•ï¼Œä¸åŒçš„æ‰§è¡Œé¡ºåºï¼Œäº§ç”Ÿä¸åŒçš„ç»“æœã€‚ å¤šä¸ªéƒ¨ä»¶æˆ–é›¶ä»¶ï¼Œéƒ½å¯ä»¥è£…é…åˆ°ä¸€ä¸ªå¯¹è±¡ä¸­ï¼Œä½†æ˜¯äº§ç”Ÿçš„ç»“æœåˆä¸ç›¸åŒã€‚ äº§å“ç±»éå¸¸å¤æ‚ï¼Œæˆ–è€…äº§å“ç±»ä¸­ä¸åŒçš„è°ƒç”¨é¡ºåºäº§ç”Ÿä¸åŒçš„ä½œç”¨ã€‚ åˆå§‹åŒ–ä¸€ä¸ªå¯¹è±¡ç‰¹åˆ«å¤æ‚ï¼Œå‚æ•°å¤šï¼Œè€Œä¸”å¾ˆå¤šå‚æ•°éƒ½å…·æœ‰é»˜è®¤å€¼ã€‚ JAVAå®ç°ï¼š12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970package pers.lxl.mylearnproject.programbase.designpatterns.creationalpattern.bulider;/**äº§å“è§’è‰²ï¼ˆProductï¼‰ï¼šå®ƒæ˜¯åŒ…å«å¤šä¸ªç»„æˆéƒ¨ä»¶çš„å¤æ‚å¯¹è±¡ï¼Œç”±å…·ä½“å»ºé€ è€…æ¥åˆ›å»ºå…¶å„ä¸ªé›¶éƒ¨ä»¶ã€‚*/class Product { private String partA; private String partB; private String partC; public void setPartA(String partA) { this.partA = partA; } public void setPartB(String partB) { this.partB = partB; } public void setPartC(String partC) { this.partC = partC; } public void show() { System.out.println(partA+' '+partB+' '+partC); }}/**æŠ½è±¡å»ºé€ è€…ï¼ˆBuilderï¼‰ï¼šå®ƒæ˜¯ä¸€ä¸ªåŒ…å«åˆ›å»ºäº§å“å„ä¸ªå­éƒ¨ä»¶çš„æŠ½è±¡æ–¹æ³•çš„æ¥å£ï¼Œé€šå¸¸è¿˜åŒ…å«ä¸€ä¸ªè¿”å›å¤æ‚äº§å“çš„æ–¹æ³• getResult()ã€‚*/abstract class Builder { //åˆ›å»ºäº§å“å¯¹è±¡ protected Product product = new Product(); public abstract void buildPartA(); public abstract void buildPartB(); public abstract void buildPartC(); //è¿”å›äº§å“å¯¹è±¡ public Product getResult() { return product; }}/**å…·ä½“å»ºé€ è€…(Concrete Builderï¼‰ï¼šå®ç° Builder æ¥å£ï¼Œå®Œæˆå¤æ‚äº§å“çš„å„ä¸ªéƒ¨ä»¶çš„å…·ä½“åˆ›å»ºæ–¹æ³•ã€‚*/class ConcreteBuilder1 extends Builder { @Override public void buildPartA() { product.setPartA(&quot;å»ºé€  PartA&quot;); } @Override public void buildPartB() { product.setPartB(&quot;å»ºé€  PartB&quot;); } @Override public void buildPartC() { product.setPartC(&quot;å»ºé€  PartC&quot;); }}/**æŒ‡æŒ¥è€…ï¼ˆDirectorï¼‰ï¼šå®ƒè°ƒç”¨å»ºé€ è€…å¯¹è±¡ä¸­çš„éƒ¨ä»¶æ„é€ ä¸è£…é…æ–¹æ³•å®Œæˆå¤æ‚å¯¹è±¡çš„åˆ›å»ºï¼Œåœ¨æŒ‡æŒ¥è€…ä¸­ä¸æ¶‰åŠå…·ä½“äº§å“çš„ä¿¡æ¯ã€‚*/class Director { private Builder builder; public Director(Builder builder) { this.builder = builder; } //äº§å“æ„å»ºä¸ç»„è£…æ–¹æ³• public Product construct() { builder.buildPartA(); builder.buildPartB(); builder.buildPartC(); return builder.getResult(); }}public class ConcreteBuilder { public static void main(String[] args) { Builder builder = new ConcreteBuilder1(); Director director = new Director(builder); Product product = director.construct(); product.show(); }} ç»“æ„å‹æ¨¡å¼ã€Šä»£ç†æ¨¡å¼ Proxy ã€‹ç‰¹ç‚¹ï¼š ä¸­ä»‹ ç”±äºæŸäº›åŸå› éœ€è¦ç»™æŸå¯¹è±¡æä¾›ä¸€ä¸ªä»£ç†ä»¥æ§åˆ¶å¯¹è¯¥å¯¹è±¡çš„è®¿é—®ã€‚è¿™æ—¶ï¼Œè®¿é—®å¯¹è±¡ä¸é€‚åˆæˆ–è€…ä¸èƒ½ç›´æ¥å¼•ç”¨ç›®æ ‡å¯¹è±¡ï¼Œä»£ç†å¯¹è±¡ä½œä¸ºè®¿é—®å¯¹è±¡å’Œç›®æ ‡å¯¹è±¡ä¹‹é—´çš„ä¸­ä»‹ã€‚ ä¼˜ç‚¹ï¼š ä»£ç†æ¨¡å¼åœ¨å®¢æˆ·ç«¯ä¸ç›®æ ‡å¯¹è±¡ä¹‹é—´èµ·åˆ°ä¸€ä¸ªä¸­ä»‹ä½œç”¨å’Œä¿æŠ¤ç›®æ ‡å¯¹è±¡çš„ä½œç”¨ï¼› ä»£ç†å¯¹è±¡å¯ä»¥æ‰©å±•ç›®æ ‡å¯¹è±¡çš„åŠŸèƒ½ï¼› ä»£ç†æ¨¡å¼èƒ½å°†å®¢æˆ·ç«¯ä¸ç›®æ ‡å¯¹è±¡åˆ†ç¦»ï¼Œåœ¨ä¸€å®šç¨‹åº¦ä¸Šé™ä½äº†ç³»ç»Ÿçš„è€¦åˆåº¦ï¼Œå¢åŠ äº†ç¨‹åºçš„å¯æ‰©å±•æ€§ ç¼ºç‚¹ï¼š(åŠ¨æ€ä»£ç†æ–¹å¼è§£å†³) ä»£ç†æ¨¡å¼ä¼šé€ æˆç³»ç»Ÿè®¾è®¡ä¸­ç±»çš„æ•°é‡å¢åŠ  åœ¨å®¢æˆ·ç«¯å’Œç›®æ ‡å¯¹è±¡ä¹‹é—´å¢åŠ ä¸€ä¸ªä»£ç†å¯¹è±¡ï¼Œä¼šé€ æˆè¯·æ±‚å¤„ç†é€Ÿåº¦å˜æ…¢ï¼› å¢åŠ äº†ç³»ç»Ÿçš„å¤æ‚åº¦ï¼› è§’è‰²ï¼š æŠ½è±¡ä¸»é¢˜ï¼ˆSubjectï¼‰ç±»ï¼šé€šè¿‡æ¥å£æˆ–æŠ½è±¡ç±»å£°æ˜çœŸå®ä¸»é¢˜å’Œä»£ç†å¯¹è±¡å®ç°çš„ä¸šåŠ¡æ–¹æ³•ã€‚ çœŸå®ä¸»é¢˜ï¼ˆReal Subjectï¼‰ç±»ï¼šå®ç°äº†æŠ½è±¡ä¸»é¢˜ä¸­çš„å…·ä½“ä¸šåŠ¡ï¼Œæ˜¯ä»£ç†å¯¹è±¡æ‰€ä»£è¡¨çš„çœŸå®å¯¹è±¡ï¼Œæ˜¯æœ€ç»ˆè¦å¼•ç”¨çš„å¯¹è±¡ã€‚ ä»£ç†ï¼ˆProxyï¼‰ç±»ï¼šæä¾›äº†ä¸çœŸå®ä¸»é¢˜ç›¸åŒçš„æ¥å£ï¼Œå…¶å†…éƒ¨å«æœ‰å¯¹çœŸå®ä¸»é¢˜çš„å¼•ç”¨ï¼Œå®ƒå¯ä»¥è®¿é—®ã€æ§åˆ¶æˆ–æ‰©å±•çœŸå®ä¸»é¢˜çš„åŠŸèƒ½ã€‚ æ ¹æ®ä»£ç†çš„åˆ›å»ºæ—¶æœŸï¼Œä»£ç†æ¨¡å¼åˆ†ä¸ºé™æ€ä»£ç†å’ŒåŠ¨æ€ä»£ç†ã€‚ é™æ€ï¼šç”±ç¨‹åºå‘˜åˆ›å»ºä»£ç†ç±»æˆ–ç‰¹å®šå·¥å…·è‡ªåŠ¨ç”Ÿæˆæºä»£ç å†å¯¹å…¶ç¼–è¯‘ï¼Œåœ¨ç¨‹åºè¿è¡Œå‰ä»£ç†ç±»çš„ .class æ–‡ä»¶å°±å·²ç»å­˜åœ¨äº†ã€‚ åŠ¨æ€ï¼šåœ¨ç¨‹åºè¿è¡Œæ—¶ï¼Œè¿ç”¨åå°„æœºåˆ¶åŠ¨æ€åˆ›å»ºè€Œæˆ ä»£ç†æ¨¡å¼çš„åº”ç”¨åœºæ™¯ï¼š è¿œç¨‹ä»£ç†ï¼Œè¿™ç§æ–¹å¼é€šå¸¸æ˜¯ä¸ºäº†éšè—ç›®æ ‡å¯¹è±¡å­˜åœ¨äºä¸åŒåœ°å€ç©ºé—´çš„äº‹å®ï¼Œæ–¹ä¾¿å®¢æˆ·ç«¯è®¿é—®ã€‚ä¾‹å¦‚ï¼Œç”¨æˆ·ç”³è¯·æŸäº›ç½‘ç›˜ç©ºé—´æ—¶ï¼Œä¼šåœ¨ç”¨æˆ·çš„æ–‡ä»¶ç³»ç»Ÿä¸­å»ºç«‹ä¸€ä¸ªè™šæ‹Ÿçš„ç¡¬ç›˜ï¼Œç”¨æˆ·è®¿é—®è™šæ‹Ÿç¡¬ç›˜æ—¶å®é™…è®¿é—®çš„æ˜¯ç½‘ç›˜ç©ºé—´ã€‚ è™šæ‹Ÿä»£ç†ï¼Œè¿™ç§æ–¹å¼é€šå¸¸ç”¨äºè¦åˆ›å»ºçš„ç›®æ ‡å¯¹è±¡å¼€é”€å¾ˆå¤§æ—¶ã€‚ä¾‹å¦‚ï¼Œä¸‹è½½ä¸€å¹…å¾ˆå¤§çš„å›¾åƒéœ€è¦å¾ˆé•¿æ—¶é—´ï¼Œå› æŸç§è®¡ç®—æ¯”è¾ƒå¤æ‚è€ŒçŸ­æ—¶é—´æ— æ³•å®Œæˆï¼Œè¿™æ—¶å¯ä»¥å…ˆç”¨å°æ¯”ä¾‹çš„è™šæ‹Ÿä»£ç†æ›¿æ¢çœŸå®çš„å¯¹è±¡ï¼Œæ¶ˆé™¤ç”¨æˆ·å¯¹æœåŠ¡å™¨æ…¢çš„æ„Ÿè§‰ã€‚ å®‰å…¨ä»£ç†ï¼Œè¿™ç§æ–¹å¼é€šå¸¸ç”¨äºæ§åˆ¶ä¸åŒç§ç±»å®¢æˆ·å¯¹çœŸå®å¯¹è±¡çš„è®¿é—®æƒé™ã€‚ æ™ºèƒ½æŒ‡å¼•ï¼Œä¸»è¦ç”¨äºè°ƒç”¨ç›®æ ‡å¯¹è±¡æ—¶ï¼Œä»£ç†é™„åŠ ä¸€äº›é¢å¤–çš„å¤„ç†åŠŸèƒ½ã€‚ä¾‹å¦‚ï¼Œå¢åŠ è®¡ç®—çœŸå®å¯¹è±¡çš„å¼•ç”¨æ¬¡æ•°çš„åŠŸèƒ½ï¼Œè¿™æ ·å½“è¯¥å¯¹è±¡æ²¡æœ‰è¢«å¼•ç”¨æ—¶ï¼Œå°±å¯ä»¥è‡ªåŠ¨é‡Šæ”¾å®ƒã€‚ å»¶è¿ŸåŠ è½½ï¼ŒæŒ‡ä¸ºäº†æé«˜ç³»ç»Ÿçš„æ€§èƒ½ï¼Œå»¶è¿Ÿå¯¹ç›®æ ‡çš„åŠ è½½ã€‚ä¾‹å¦‚ï¼ŒHibernate ä¸­å°±å­˜åœ¨å±æ€§çš„å»¶è¿ŸåŠ è½½å’Œå…³è”è¡¨çš„å»¶æ—¶åŠ è½½ã€‚ JAVAå®ç°ï¼š1234567891011121314151617181920212223242526272829303132333435package proxy;public class ProxyTest { public static void main(String[] args) { Proxy proxy = new Proxy(); proxy.Request(); }}//æŠ½è±¡ä¸»é¢˜interface Subject { void Request();}//çœŸå®ä¸»é¢˜class RealSubject implements Subject { public void Request() { System.out.println(&quot;è®¿é—®çœŸå®ä¸»é¢˜æ–¹æ³•...&quot;); }}//ä»£ç†class Proxy implements Subject { private RealSubject realSubject; public void Request() { if (realSubject == null) { realSubject = new RealSubject(); } preRequest(); realSubject.Request(); postRequest(); } public void preRequest() { System.out.println(&quot;è®¿é—®çœŸå®ä¸»é¢˜ä¹‹å‰çš„é¢„å¤„ç†ã€‚&quot;); } public void postRequest() { System.out.println(&quot;è®¿é—®çœŸå®ä¸»é¢˜ä¹‹åçš„åç»­å¤„ç†ã€‚&quot;); }} ã€Šé€‚é…å™¨æ¨¡å¼ Adapter ã€‹ç‰¹ç‚¹ï¼š å°†ä¸€ä¸ªç±»çš„æ¥å£è½¬æ¢æˆå®¢æˆ·å¸Œæœ›çš„å¦å¤–ä¸€ä¸ªæ¥å£ï¼Œä½¿å¾—åŸæœ¬ç”±äºæ¥å£ä¸å…¼å®¹è€Œä¸èƒ½ä¸€èµ·å·¥ä½œçš„é‚£äº›ç±»èƒ½ä¸€èµ·å·¥ä½œã€‚ é€‚é…å™¨æ¨¡å¼åˆ†ä¸ºç±»ç»“æ„å‹æ¨¡å¼å’Œå¯¹è±¡ç»“æ„å‹æ¨¡å¼ä¸¤ç§ï¼Œå‰è€…ç±»ä¹‹é—´çš„è€¦åˆåº¦æ¯”åè€…é«˜ï¼Œä¸”è¦æ±‚ç¨‹åºå‘˜äº†è§£ç°æœ‰ç»„ä»¶åº“ä¸­çš„ç›¸å…³ç»„ä»¶çš„å†…éƒ¨ç»“æ„ï¼Œæ‰€ä»¥åº”ç”¨ç›¸å¯¹è¾ƒå°‘äº›ã€‚ ä¼˜ç‚¹ï¼š å®¢æˆ·ç«¯é€šè¿‡é€‚é…å™¨å¯ä»¥é€æ˜åœ°è°ƒç”¨ç›®æ ‡æ¥å£ã€‚ å¤ç”¨äº†ç°å­˜çš„ç±»ï¼Œç¨‹åºå‘˜ä¸éœ€è¦ä¿®æ”¹åŸæœ‰ä»£ç è€Œé‡ç”¨ç°æœ‰çš„é€‚é…è€…ç±»ã€‚ å°†ç›®æ ‡ç±»å’Œé€‚é…è€…ç±»è§£è€¦ï¼Œè§£å†³äº†ç›®æ ‡ç±»å’Œé€‚é…è€…ç±»æ¥å£ä¸ä¸€è‡´çš„é—®é¢˜ã€‚ åœ¨å¾ˆå¤šä¸šåŠ¡åœºæ™¯ä¸­ç¬¦åˆå¼€é—­åŸåˆ™ã€‚ ç¼ºç‚¹ï¼š é€‚é…å™¨ç¼–å†™è¿‡ç¨‹éœ€è¦ç»“åˆä¸šåŠ¡åœºæ™¯å…¨é¢è€ƒè™‘ï¼Œå¯èƒ½ä¼šå¢åŠ ç³»ç»Ÿçš„å¤æ‚æ€§ã€‚ å¢åŠ ä»£ç é˜…è¯»éš¾åº¦ï¼Œé™ä½ä»£ç å¯è¯»æ€§ï¼Œè¿‡å¤šä½¿ç”¨é€‚é…å™¨ä¼šä½¿ç³»ç»Ÿä»£ç å˜å¾—å‡Œä¹±ã€‚ è§’è‰²ï¼š ç›®æ ‡ï¼ˆTargetï¼‰æ¥å£ï¼šå½“å‰ç³»ç»Ÿä¸šåŠ¡æ‰€æœŸå¾…çš„æ¥å£ï¼Œå®ƒå¯ä»¥æ˜¯æŠ½è±¡ç±»æˆ–æ¥å£ã€‚ é€‚é…è€…ï¼ˆAdapteeï¼‰ç±»ï¼šå®ƒæ˜¯è¢«è®¿é—®å’Œé€‚é…çš„ç°å­˜ç»„ä»¶åº“ä¸­çš„ç»„ä»¶æ¥å£ã€‚ é€‚é…å™¨ï¼ˆAdapterï¼‰ç±»ï¼šå®ƒæ˜¯ä¸€ä¸ªè½¬æ¢å™¨ï¼Œé€šè¿‡ç»§æ‰¿æˆ–å¼•ç”¨é€‚é…è€…çš„å¯¹è±¡ï¼ŒæŠŠé€‚é…è€…æ¥å£è½¬æ¢æˆç›®æ ‡æ¥å£ï¼Œè®©å®¢æˆ·æŒ‰ç›®æ ‡æ¥å£çš„æ ¼å¼è®¿é—®é€‚é…è€…ã€‚ é€‚é…å™¨æ¨¡å¼çš„åº”ç”¨åœºæ™¯ï¼š ä»¥å‰å¼€å‘çš„ç³»ç»Ÿå­˜åœ¨æ»¡è¶³æ–°ç³»ç»ŸåŠŸèƒ½éœ€æ±‚çš„ç±»ï¼Œä½†å…¶æ¥å£åŒæ–°ç³»ç»Ÿçš„æ¥å£ä¸ä¸€è‡´ã€‚ ä½¿ç”¨ç¬¬ä¸‰æ–¹æä¾›çš„ç»„ä»¶ï¼Œä½†ç»„ä»¶æ¥å£å®šä¹‰å’Œè‡ªå·±è¦æ±‚çš„æ¥å£å®šä¹‰ä¸åŒã€‚ JAVAå®ç°ï¼šå¯¹è±¡é€‚é…å™¨ 1234567891011121314151617181920212223242526package pers.lxl.mylearnproject.programbase.designpatterns.structuralpattern.adapter;//å¯¹è±¡é€‚é…å™¨ç±»class ObjectAdapter implements Target{ private Adaptee adaptee; public ObjectAdapter(Adaptee adaptee) { this.adaptee=adaptee; } @Override public void request() { adaptee.specificRequest(); }}//å®¢æˆ·ç«¯ä»£ç public class objectAdapterPattern{ public static void main(String[] args) { System.out.println(&quot;å¯¹è±¡é€‚é…å™¨æ¨¡å¼æµ‹è¯•ï¼š&quot;); Adaptee adaptee = new Adaptee(); Target target = new ObjectAdapter(adaptee); target.request(); }} ç±»é€‚é…å™¨ 1234567891011121314151617181920212223242526272829303132333435package pers.lxl.mylearnproject.programbase.designpatterns.structuralpattern.adapter;//ç›®æ ‡æ¥å£interface Target{ public void request();}//é€‚é…è€…æ¥å£class Adaptee{ public void specificRequest() { System.out.println(&quot;é€‚é…è€…ä¸­çš„ä¸šåŠ¡ä»£ç è¢«è°ƒç”¨ï¼&quot;); }}//ç±»é€‚é…å™¨ç±» extends Adaptee implements Targetclass ClassAdapter extends Adaptee implements Target{ @Override public void request() { specificRequest(); }}//å®¢æˆ·ç«¯ä»£ç public class ClassAdapterPattern{ public static void main(String[] args) { System.out.println(&quot;ç±»é€‚é…å™¨æ¨¡å¼æµ‹è¯•ï¼š&quot;); Target target = new ClassAdapter(); target.request(); }} é€‚é…å™¨æ¨¡å¼ï¼ˆAdapterï¼‰å¯æ‰©å±•ä¸ºåŒå‘é€‚é…å™¨æ¨¡å¼ï¼ŒåŒå‘é€‚é…å™¨ç±»æ—¢å¯ä»¥æŠŠé€‚é…è€…æ¥å£è½¬æ¢æˆç›®æ ‡æ¥å£ï¼Œä¹Ÿå¯ä»¥æŠŠç›®æ ‡æ¥å£è½¬æ¢æˆé€‚é…è€…æ¥å£ï¼Œå…¶ç»“æ„å›¾å¦‚å›¾æ‰€ç¤ºã€‚ ã€Šæ¡¥æ¥æ¨¡å¼ Bridgeã€‹ç‰¹ç‚¹ï¼š å°†æŠ½è±¡ä¸å®ç°åˆ†ç¦»ï¼Œä½¿å®ƒä»¬å¯ä»¥ç‹¬ç«‹å˜åŒ–ã€‚å®ƒæ˜¯ç”¨ç»„åˆå…³ç³»ä»£æ›¿ç»§æ‰¿å…³ç³»æ¥å®ç°ï¼Œä»è€Œé™ä½äº†æŠ½è±¡å’Œå®ç°è¿™ä¸¤ä¸ªå¯å˜ç»´åº¦çš„è€¦åˆåº¦ã€‚ ä¼˜ç‚¹ï¼š æŠ½è±¡ä¸å®ç°åˆ†ç¦»ï¼Œæ‰©å±•èƒ½åŠ›å¼º ç¬¦åˆå¼€é—­åŸåˆ™ ç¬¦åˆåˆæˆå¤ç”¨åŸåˆ™ å…¶å®ç°ç»†èŠ‚å¯¹å®¢æˆ·é€æ˜ ç¼ºç‚¹ï¼š ç”±äºèšåˆå…³ç³»å»ºç«‹åœ¨æŠ½è±¡å±‚ï¼Œè¦æ±‚å¼€å‘è€…é’ˆå¯¹æŠ½è±¡åŒ–è¿›è¡Œè®¾è®¡ä¸ç¼–ç¨‹ï¼Œèƒ½æ­£ç¡®åœ°è¯†åˆ«å‡ºç³»ç»Ÿä¸­ä¸¤ä¸ªç‹¬ç«‹å˜åŒ–çš„ç»´åº¦ï¼Œè¿™å¢åŠ äº†ç³»ç»Ÿçš„ç†è§£ä¸è®¾è®¡éš¾åº¦ã€‚ è§’è‰²ï¼š æŠ½è±¡åŒ–ï¼ˆAbstractionï¼‰è§’è‰²ï¼šå®šä¹‰æŠ½è±¡ç±»ï¼Œå¹¶åŒ…å«ä¸€ä¸ªå¯¹å®ç°åŒ–å¯¹è±¡çš„å¼•ç”¨ã€‚ æ‰©å±•æŠ½è±¡åŒ–ï¼ˆRefined Abstractionï¼‰è§’è‰²ï¼šæ˜¯æŠ½è±¡åŒ–è§’è‰²çš„å­ç±»ï¼Œå®ç°çˆ¶ç±»ä¸­çš„ä¸šåŠ¡æ–¹æ³•ï¼Œå¹¶é€šè¿‡ç»„åˆå…³ç³»è°ƒç”¨å®ç°åŒ–è§’è‰²ä¸­çš„ä¸šåŠ¡æ–¹æ³•ã€‚ å®ç°åŒ–ï¼ˆImplementorï¼‰è§’è‰²ï¼šå®šä¹‰å®ç°åŒ–è§’è‰²çš„æ¥å£ï¼Œä¾›æ‰©å±•æŠ½è±¡åŒ–è§’è‰²è°ƒç”¨ã€‚ å…·ä½“å®ç°åŒ–ï¼ˆConcrete Implementorï¼‰è§’è‰²ï¼šç»™å‡ºå®ç°åŒ–è§’è‰²æ¥å£çš„å…·ä½“å®ç°ã€‚ æ¡¥æ¥æ¨¡å¼çš„åº”ç”¨åœºæ™¯ï¼š å½“ä¸€ä¸ªç±»å­˜åœ¨ä¸¤ä¸ªç‹¬ç«‹å˜åŒ–çš„ç»´åº¦ï¼Œä¸”è¿™ä¸¤ä¸ªç»´åº¦éƒ½éœ€è¦è¿›è¡Œæ‰©å±•æ—¶ã€‚ å½“ä¸€ä¸ªç³»ç»Ÿä¸å¸Œæœ›ä½¿ç”¨ç»§æ‰¿æˆ–å› ä¸ºå¤šå±‚æ¬¡ç»§æ‰¿å¯¼è‡´ç³»ç»Ÿç±»çš„ä¸ªæ•°æ€¥å‰§å¢åŠ æ—¶ã€‚ å½“ä¸€ä¸ªç³»ç»Ÿéœ€è¦åœ¨æ„ä»¶çš„æŠ½è±¡åŒ–è§’è‰²å’Œå…·ä½“åŒ–è§’è‰²ä¹‹é—´å¢åŠ æ›´å¤šçš„çµæ´»æ€§æ—¶ã€‚ JAVAå®ç°ï¼š123456789101112131415161718192021222324252627282930313233343536package bridge;public class BridgeTest { public static void main(String[] args) { Implementor imple = new ConcreteImplementorA(); Abstraction abs = new RefinedAbstraction(imple); abs.Operation(); }}//å®ç°åŒ–è§’è‰²interface Implementor { public void OperationImpl();}//å…·ä½“å®ç°åŒ–è§’è‰²class ConcreteImplementorA implements Implementor { public void OperationImpl() { System.out.println(&quot;å…·ä½“å®ç°åŒ–(Concrete Implementor)è§’è‰²è¢«è®¿é—®&quot;); }}//æŠ½è±¡åŒ–è§’è‰²abstract class Abstraction { protected Implementor imple; protected Abstraction(Implementor imple) { this.imple = imple; } public abstract void Operation();}//æ‰©å±•æŠ½è±¡åŒ–è§’è‰²class RefinedAbstraction extends Abstraction { protected RefinedAbstraction(Implementor imple) { super(imple); } public void Operation() { System.out.println(&quot;æ‰©å±•æŠ½è±¡åŒ–(Refined Abstraction)è§’è‰²è¢«è®¿é—®&quot;); imple.OperationImpl(); }} ã€Šè£…é¥°å™¨æ¨¡å¼ Decorator Patternã€‹ç‰¹ç‚¹ï¼š ä¸æ”¹å˜ç°æœ‰å¯¹è±¡ç»“æ„çš„æƒ…å†µä¸‹ï¼ŒåŠ¨æ€åœ°ç»™è¯¥å¯¹è±¡å¢åŠ ä¸€äº›èŒè´£ï¼ˆå³å¢åŠ å…¶é¢å¤–åŠŸèƒ½ï¼‰çš„æ¨¡å¼ï¼Œå®ƒå±äºå¯¹è±¡ç»“æ„å‹æ¨¡å¼ã€‚ ç»“æ„ä¿®é¥° ä¼˜ç‚¹ï¼š è£…é¥°å™¨æ˜¯ç»§æ‰¿çš„æœ‰åŠ›è¡¥å……ï¼Œæ¯”ç»§æ‰¿çµæ´»ï¼Œåœ¨ä¸æ”¹å˜åŸæœ‰å¯¹è±¡çš„æƒ…å†µä¸‹ï¼ŒåŠ¨æ€çš„ç»™ä¸€ä¸ªå¯¹è±¡æ‰©å±•åŠŸèƒ½ï¼Œå³æ’å³ç”¨ é€šè¿‡ä½¿ç”¨ä¸ç”¨è£…é¥°ç±»åŠè¿™äº›è£…é¥°ç±»çš„æ’åˆ—ç»„åˆï¼Œå¯ä»¥å®ç°ä¸åŒæ•ˆæœ è£…é¥°å™¨æ¨¡å¼å®Œå…¨éµå®ˆå¼€é—­åŸåˆ™ ç¼ºç‚¹ï¼š è£…é¥°å™¨æ¨¡å¼ä¼šå¢åŠ è®¸å¤šå­ç±»ï¼Œè¿‡åº¦ä½¿ç”¨ä¼šå¢åŠ ç¨‹åºå¾—å¤æ‚æ€§ è§’è‰²ï¼š æŠ½è±¡æ„ä»¶ï¼ˆComponentï¼‰è§’è‰²ï¼šå®šä¹‰ä¸€ä¸ªæŠ½è±¡æ¥å£ä»¥è§„èŒƒå‡†å¤‡æ¥æ”¶é™„åŠ è´£ä»»çš„å¯¹è±¡ã€‚ å…·ä½“æ„ä»¶ï¼ˆConcreteComponentï¼‰è§’è‰²ï¼šå®ç°æŠ½è±¡æ„ä»¶ï¼Œé€šè¿‡è£…é¥°è§’è‰²ä¸ºå…¶æ·»åŠ ä¸€äº›èŒè´£ã€‚ æŠ½è±¡è£…é¥°ï¼ˆDecoratorï¼‰è§’è‰²ï¼šç»§æ‰¿æŠ½è±¡æ„ä»¶ï¼Œå¹¶åŒ…å«å…·ä½“æ„ä»¶çš„å®ä¾‹ï¼Œå¯ä»¥é€šè¿‡å…¶å­ç±»æ‰©å±•å…·ä½“æ„ä»¶çš„åŠŸèƒ½ã€‚ å…·ä½“è£…é¥°ï¼ˆConcreteDecoratorï¼‰è§’è‰²ï¼šå®ç°æŠ½è±¡è£…é¥°çš„ç›¸å…³æ–¹æ³•ï¼Œå¹¶ç»™å…·ä½“æ„ä»¶å¯¹è±¡æ·»åŠ é™„åŠ çš„è´£ä»»ã€‚ è£…é¥°è€…æ¨¡å¼çš„åº”ç”¨åœºæ™¯ï¼š å½“éœ€è¦ç»™ä¸€ä¸ªç°æœ‰ç±»æ·»åŠ é™„åŠ èŒè´£ï¼Œè€Œåˆä¸èƒ½é‡‡ç”¨ç”Ÿæˆå­ç±»çš„æ–¹æ³•è¿›è¡Œæ‰©å……æ—¶ã€‚ä¾‹å¦‚ï¼Œè¯¥ç±»è¢«éšè—æˆ–è€…è¯¥ç±»æ˜¯ç»ˆæç±»æˆ–è€…é‡‡ç”¨ç»§æ‰¿æ–¹å¼ä¼šäº§ç”Ÿå¤§é‡çš„å­ç±»ã€‚ å½“éœ€è¦é€šè¿‡å¯¹ç°æœ‰çš„ä¸€ç»„åŸºæœ¬åŠŸèƒ½è¿›è¡Œæ’åˆ—ç»„åˆè€Œäº§ç”Ÿéå¸¸å¤šçš„åŠŸèƒ½æ—¶ï¼Œé‡‡ç”¨ç»§æ‰¿å…³ç³»å¾ˆéš¾å®ç°ï¼Œè€Œé‡‡ç”¨è£…é¥°å™¨æ¨¡å¼å´å¾ˆå¥½å®ç°ã€‚ å½“å¯¹è±¡çš„åŠŸèƒ½è¦æ±‚å¯ä»¥åŠ¨æ€åœ°æ·»åŠ ï¼Œä¹Ÿå¯ä»¥å†åŠ¨æ€åœ°æ’¤é”€æ—¶ã€‚ JAVAå®ç°ï¼š12345678910111213141516171819202122232425262728293031323334353637383940414243444546package decorator;public class DecoratorPattern { public static void main(String[] args) { Component p = new ConcreteComponent(); p.operation(); System.out.println(&quot;---------------------------------&quot;); Component d = new ConcreteDecorator(p); d.operation(); }}//æŠ½è±¡æ„ä»¶è§’è‰²interface Component { public void operation();}//å…·ä½“æ„ä»¶è§’è‰²class ConcreteComponent implements Component { public ConcreteComponent() { System.out.println(&quot;åˆ›å»ºå…·ä½“æ„ä»¶è§’è‰²&quot;); } public void operation() { System.out.println(&quot;è°ƒç”¨å…·ä½“æ„ä»¶è§’è‰²çš„æ–¹æ³•operation()&quot;); }}//æŠ½è±¡è£…é¥°è§’è‰²class Decorator implements Component { private Component component; public Decorator(Component component) { this.component = component; } public void operation() { component.operation(); }}//å…·ä½“è£…é¥°è§’è‰²class ConcreteDecorator extends Decorator { public ConcreteDecorator(Component component) { super(component); } public void operation() { super.operation(); addedFunction(); } public void addedFunction() { System.out.println(&quot;ä¸ºå…·ä½“æ„ä»¶è§’è‰²å¢åŠ é¢å¤–çš„åŠŸèƒ½addedFunction()&quot;); }} ã€Šå¤–è§‚æ¨¡å¼ Facade Patternã€‹ç‰¹ç‚¹ï¼š é—¨é¢æ¨¡å¼ï¼Œæ˜¯ä¸€ç§é€šè¿‡ä¸ºå¤šä¸ªå¤æ‚çš„å­ç³»ç»Ÿæä¾›ä¸€ä¸ªä¸€è‡´çš„æ¥å£ï¼Œè€Œä½¿è¿™äº›å­ç³»ç»Ÿæ›´åŠ å®¹æ˜“è¢«è®¿é—®çš„æ¨¡å¼ã€‚è¯¥æ¨¡å¼å¯¹å¤–æœ‰ä¸€ä¸ªç»Ÿä¸€æ¥å£ï¼Œå¤–éƒ¨åº”ç”¨ç¨‹åºä¸ç”¨å…³å¿ƒå†…éƒ¨å­ç³»ç»Ÿçš„å…·ä½“ç»†èŠ‚ï¼Œè¿™æ ·ä¼šå¤§å¤§é™ä½åº”ç”¨ç¨‹åºçš„å¤æ‚åº¦ï¼Œæé«˜äº†ç¨‹åºçš„å¯ç»´æŠ¤æ€§ã€‚ ç»“æ„ä¿®é¥° ä¼˜ç‚¹ï¼š é™ä½äº†å­ç³»ç»Ÿä¸å®¢æˆ·ç«¯ä¹‹é—´çš„è€¦åˆåº¦ï¼Œä½¿å¾—å­ç³»ç»Ÿçš„å˜åŒ–ä¸ä¼šå½±å“è°ƒç”¨å®ƒçš„å®¢æˆ·ç±»ã€‚ å¯¹å®¢æˆ·å±è”½äº†å­ç³»ç»Ÿç»„ä»¶ï¼Œå‡å°‘äº†å®¢æˆ·å¤„ç†çš„å¯¹è±¡æ•°ç›®ï¼Œå¹¶ä½¿å¾—å­ç³»ç»Ÿä½¿ç”¨èµ·æ¥æ›´åŠ å®¹æ˜“ã€‚ é™ä½äº†å¤§å‹è½¯ä»¶ç³»ç»Ÿä¸­çš„ç¼–è¯‘ä¾èµ–æ€§ï¼Œç®€åŒ–äº†ç³»ç»Ÿåœ¨ä¸åŒå¹³å°ä¹‹é—´çš„ç§»æ¤è¿‡ç¨‹ï¼Œå› ä¸ºç¼–è¯‘ä¸€ä¸ªå­ç³»ç»Ÿä¸ä¼šå½±å“å…¶ä»–çš„å­ç³»ç»Ÿï¼Œä¹Ÿä¸ä¼šå½±å“å¤–è§‚å¯¹è±¡ã€‚ ç¼ºç‚¹ï¼š ä¸èƒ½å¾ˆå¥½åœ°é™åˆ¶å®¢æˆ·ä½¿ç”¨å­ç³»ç»Ÿç±»ï¼Œå¾ˆå®¹æ˜“å¸¦æ¥æœªçŸ¥é£é™©ã€‚ å¢åŠ æ–°çš„å­ç³»ç»Ÿå¯èƒ½éœ€è¦ä¿®æ”¹å¤–è§‚ç±»æˆ–å®¢æˆ·ç«¯çš„æºä»£ç ï¼Œè¿èƒŒäº†â€œå¼€é—­åŸåˆ™â€ è§’è‰²ï¼š å¤–è§‚ï¼ˆFacadeï¼‰è§’è‰²ï¼šä¸ºå¤šä¸ªå­ç³»ç»Ÿå¯¹å¤–æä¾›ä¸€ä¸ªå…±åŒçš„æ¥å£ã€‚ å­ç³»ç»Ÿï¼ˆSub Systemï¼‰è§’è‰²ï¼šå®ç°ç³»ç»Ÿçš„éƒ¨åˆ†åŠŸèƒ½ï¼Œå®¢æˆ·å¯ä»¥é€šè¿‡å¤–è§‚è§’è‰²è®¿é—®å®ƒã€‚ å®¢æˆ·ï¼ˆClientï¼‰è§’è‰²ï¼šé€šè¿‡ä¸€ä¸ªå¤–è§‚è§’è‰²è®¿é—®å„ä¸ªå­ç³»ç»Ÿçš„åŠŸèƒ½ã€‚ å¤–è§‚ æ¨¡å¼çš„åº”ç”¨åœºæ™¯ï¼š å¯¹åˆ†å±‚ç»“æ„ç³»ç»Ÿæ„å»ºæ—¶ï¼Œä½¿ç”¨å¤–è§‚æ¨¡å¼å®šä¹‰å­ç³»ç»Ÿä¸­æ¯å±‚çš„å…¥å£ç‚¹å¯ä»¥ç®€åŒ–å­ç³»ç»Ÿä¹‹é—´çš„ä¾èµ–å…³ç³»ã€‚ å½“ä¸€ä¸ªå¤æ‚ç³»ç»Ÿçš„å­ç³»ç»Ÿå¾ˆå¤šæ—¶ï¼Œå¤–è§‚æ¨¡å¼å¯ä»¥ä¸ºç³»ç»Ÿè®¾è®¡ä¸€ä¸ªç®€å•çš„æ¥å£ä¾›å¤–ç•Œè®¿é—®ã€‚ å½“å®¢æˆ·ç«¯ä¸å¤šä¸ªå­ç³»ç»Ÿä¹‹é—´å­˜åœ¨å¾ˆå¤§çš„è”ç³»æ—¶ï¼Œå¼•å…¥å¤–è§‚æ¨¡å¼å¯å°†å®ƒä»¬åˆ†ç¦»ï¼Œä»è€Œæé«˜å­ç³»ç»Ÿçš„ç‹¬ç«‹æ€§å’Œå¯ç§»æ¤æ€§ã€‚ JAVAå®ç°ï¼š1234567891011121314151617181920212223242526272829303132333435public class FacadePattern { public static void main(String[] args) { Facade f = new Facade(); f.method(); }}//å¤–è§‚è§’è‰²class Facade { private SubSystem01 obj1 = new SubSystem01(); private SubSystem02 obj2 = new SubSystem02(); private SubSystem03 obj3 = new SubSystem03(); public void method() { obj1.method1(); obj2.method2(); obj3.method3(); }}//å­ç³»ç»Ÿè§’è‰²class SubSystem01 { public void method1() { System.out.println(&quot;å­ç³»ç»Ÿ01çš„method1()è¢«è°ƒç”¨ï¼&quot;); }}//å­ç³»ç»Ÿè§’è‰²class SubSystem02 { public void method2() { System.out.println(&quot;å­ç³»ç»Ÿ02çš„method2()è¢«è°ƒç”¨ï¼&quot;); }}//å­ç³»ç»Ÿè§’è‰²class SubSystem03 { public void method3() { System.out.println(&quot;å­ç³»ç»Ÿ03çš„method3()è¢«è°ƒç”¨ï¼&quot;); }} ã€Šäº«å…ƒæ¨¡å¼ Flyweight Patternã€‹ç‰¹ç‚¹ï¼š è¿ç”¨å…±äº«æŠ€æœ¯æ¥æœ‰æ•ˆåœ°æ”¯æŒå¤§é‡ç»†ç²’åº¦å¯¹è±¡çš„å¤ç”¨ã€‚å®ƒé€šè¿‡å…±äº«å·²ç»å­˜åœ¨çš„å¯¹è±¡æ¥å¤§å¹…åº¦å‡å°‘éœ€è¦åˆ›å»ºçš„å¯¹è±¡æ•°é‡ã€é¿å…å¤§é‡ç›¸ä¼¼ç±»çš„å¼€é”€ï¼Œä»è€Œæé«˜ç³»ç»Ÿèµ„æºçš„åˆ©ç”¨ç‡ã€‚ ä¼˜ç‚¹ï¼š ç›¸åŒå¯¹è±¡åªè¦ä¿å­˜ä¸€ä»½ï¼Œè¿™é™ä½äº†ç³»ç»Ÿä¸­å¯¹è±¡çš„æ•°é‡ï¼Œä»è€Œé™ä½äº†ç³»ç»Ÿä¸­ç»†ç²’åº¦å¯¹è±¡ç»™å†…å­˜å¸¦æ¥çš„å‹åŠ›ã€‚ ç¼ºç‚¹ï¼š ä¸ºäº†ä½¿å¯¹è±¡å¯ä»¥å…±äº«ï¼Œéœ€è¦å°†ä¸€äº›ä¸èƒ½å…±äº«çš„çŠ¶æ€å¤–éƒ¨åŒ–ï¼Œè¿™å°†å¢åŠ ç¨‹åºçš„å¤æ‚æ€§ã€‚ è¯»å–äº«å…ƒæ¨¡å¼çš„å¤–éƒ¨çŠ¶æ€ä¼šä½¿å¾—è¿è¡Œæ—¶é—´ç¨å¾®å˜é•¿ã€‚ è§’è‰²ï¼š â€‹ äº«å…ƒæ¨¡å¼çš„å®šä¹‰æå‡ºäº†ä¸¤ä¸ªè¦æ±‚ï¼Œç»†ç²’åº¦å’Œå…±äº«å¯¹è±¡ã€‚å› ä¸ºè¦æ±‚ç»†ç²’åº¦ï¼Œæ‰€ä»¥ä¸å¯é¿å…åœ°ä¼šä½¿å¯¹è±¡æ•°é‡å¤šä¸”æ€§è´¨ç›¸è¿‘ï¼Œæ­¤æ—¶æˆ‘ä»¬å°±å°†è¿™äº›å¯¹è±¡çš„ä¿¡æ¯åˆ†ä¸ºä¸¤ä¸ªéƒ¨åˆ†ï¼šå†…éƒ¨çŠ¶æ€å’Œå¤–éƒ¨çŠ¶æ€ã€‚â€‹ å†…éƒ¨çŠ¶æ€æŒ‡å¯¹è±¡å…±äº«å‡ºæ¥çš„ä¿¡æ¯ï¼Œå­˜å‚¨åœ¨äº«å…ƒä¿¡æ¯å†…éƒ¨ï¼Œå¹¶ä¸”ä¸å›éšç¯å¢ƒçš„æ”¹å˜è€Œæ”¹å˜ï¼›â€‹ å¤–éƒ¨çŠ¶æ€æŒ‡å¯¹è±¡å¾—ä»¥ä¾èµ–çš„ä¸€ä¸ªæ ‡è®°ï¼Œéšç¯å¢ƒçš„æ”¹å˜è€Œæ”¹å˜ï¼Œä¸å¯å…±äº«ã€‚æ¯”å¦‚ï¼Œè¿æ¥æ± ä¸­çš„è¿æ¥å¯¹è±¡ï¼Œä¿å­˜åœ¨è¿æ¥å¯¹è±¡ä¸­çš„ç”¨æˆ·åã€å¯†ç ã€è¿æ¥URLç­‰ä¿¡æ¯ï¼Œåœ¨åˆ›å»ºå¯¹è±¡çš„æ—¶å€™å°±è®¾ç½®å¥½äº†ï¼Œä¸ä¼šéšç¯å¢ƒçš„æ”¹å˜è€Œæ”¹å˜ï¼Œè¿™äº›ä¸ºå†…éƒ¨çŠ¶æ€ã€‚è€Œå½“æ¯ä¸ªè¿æ¥è¦è¢«å›æ”¶åˆ©ç”¨æ—¶ï¼Œæˆ‘ä»¬éœ€è¦å°†å®ƒæ ‡è®°ä¸ºå¯ç”¨çŠ¶æ€ï¼Œè¿™äº›ä¸ºå¤–éƒ¨çŠ¶æ€ã€‚äº«å…ƒæ¨¡å¼çš„æœ¬è´¨æ˜¯ç¼“å­˜å…±äº«å¯¹è±¡ï¼Œé™ä½å†…å­˜æ¶ˆè€—ã€‚ æŠ½è±¡äº«å…ƒè§’è‰²ï¼ˆFlyweightï¼‰ï¼šæ˜¯æ‰€æœ‰çš„å…·ä½“äº«å…ƒç±»çš„åŸºç±»ï¼Œä¸ºå…·ä½“äº«å…ƒè§„èŒƒéœ€è¦å®ç°çš„å…¬å…±æ¥å£ï¼Œéäº«å…ƒçš„å¤–éƒ¨çŠ¶æ€ä»¥å‚æ•°çš„å½¢å¼é€šè¿‡æ–¹æ³•ä¼ å…¥ã€‚ å…·ä½“äº«å…ƒï¼ˆConcrete Flyweightï¼‰è§’è‰²ï¼šå®ç°æŠ½è±¡äº«å…ƒè§’è‰²ä¸­æ‰€è§„å®šçš„æ¥å£ã€‚ éäº«å…ƒï¼ˆUnsharable Flyweight)è§’è‰²ï¼šæ˜¯ä¸å¯ä»¥å…±äº«çš„å¤–éƒ¨çŠ¶æ€ï¼Œå®ƒä»¥å‚æ•°çš„å½¢å¼æ³¨å…¥å…·ä½“äº«å…ƒçš„ç›¸å…³æ–¹æ³•ä¸­ã€‚ äº«å…ƒå·¥å‚ï¼ˆFlyweight Factoryï¼‰è§’è‰²ï¼šè´Ÿè´£åˆ›å»ºå’Œç®¡ç†äº«å…ƒè§’è‰²ã€‚å½“å®¢æˆ·å¯¹è±¡è¯·æ±‚ä¸€ä¸ªäº«å…ƒå¯¹è±¡æ—¶ï¼Œäº«å…ƒå·¥å‚æ£€æŸ»ç³»ç»Ÿä¸­æ˜¯å¦å­˜åœ¨ç¬¦åˆè¦æ±‚çš„äº«å…ƒå¯¹è±¡ï¼Œå¦‚æœå­˜åœ¨åˆ™æä¾›ç»™å®¢æˆ·ï¼›å¦‚æœä¸å­˜åœ¨çš„è¯ï¼Œåˆ™åˆ›å»ºä¸€ä¸ªæ–°çš„äº«å…ƒå¯¹è±¡ã€‚ äº«å…ƒæ¨¡å¼çš„åº”ç”¨åœºæ™¯ï¼š ç³»ç»Ÿä¸­å­˜åœ¨å¤§é‡ç›¸åŒæˆ–ç›¸ä¼¼çš„å¯¹è±¡ï¼Œè¿™äº›å¯¹è±¡è€—è´¹å¤§é‡çš„å†…å­˜èµ„æºã€‚ å¤§éƒ¨åˆ†çš„å¯¹è±¡å¯ä»¥æŒ‰ç…§å†…éƒ¨çŠ¶æ€è¿›è¡Œåˆ†ç»„ï¼Œä¸”å¯å°†ä¸åŒéƒ¨åˆ†å¤–éƒ¨åŒ–ï¼Œè¿™æ ·æ¯ä¸€ä¸ªç»„åªéœ€ä¿å­˜ä¸€ä¸ªå†…éƒ¨çŠ¶æ€ã€‚ ç”±äºäº«å…ƒæ¨¡å¼éœ€è¦é¢å¤–ç»´æŠ¤ä¸€ä¸ªä¿å­˜äº«å…ƒçš„æ•°æ®ç»“æ„ï¼Œæ‰€ä»¥åº”å½“åœ¨æœ‰è¶³å¤Ÿå¤šçš„äº«å…ƒå®ä¾‹æ—¶æ‰å€¼å¾—ä½¿ç”¨äº«å…ƒæ¨¡å¼ã€‚ JAVAå®ç°ï¼š12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758public class FlyweightPattern { public static void main(String[] args) { FlyweightFactory factory = new FlyweightFactory(); Flyweight f01 = factory.getFlyweight(&quot;a&quot;); Flyweight f02 = factory.getFlyweight(&quot;a&quot;); Flyweight f03 = factory.getFlyweight(&quot;a&quot;); Flyweight f11 = factory.getFlyweight(&quot;b&quot;); Flyweight f12 = factory.getFlyweight(&quot;b&quot;); f01.operation(new UnsharedConcreteFlyweight(&quot;ç¬¬1æ¬¡è°ƒç”¨aã€‚&quot;)); f02.operation(new UnsharedConcreteFlyweight(&quot;ç¬¬2æ¬¡è°ƒç”¨aã€‚&quot;)); f03.operation(new UnsharedConcreteFlyweight(&quot;ç¬¬3æ¬¡è°ƒç”¨aã€‚&quot;)); f11.operation(new UnsharedConcreteFlyweight(&quot;ç¬¬1æ¬¡è°ƒç”¨bã€‚&quot;)); f12.operation(new UnsharedConcreteFlyweight(&quot;ç¬¬2æ¬¡è°ƒç”¨bã€‚&quot;)); }}//éäº«å…ƒè§’è‰²class UnsharedConcreteFlyweight { private String info; UnsharedConcreteFlyweight(String info) { this.info = info; } public String getInfo() { return info; } public void setInfo(String info) { this.info = info; }}//æŠ½è±¡äº«å…ƒè§’è‰²interface Flyweight { public void operation(UnsharedConcreteFlyweight state);}//å…·ä½“äº«å…ƒè§’è‰²class ConcreteFlyweight implements Flyweight { private String key; ConcreteFlyweight(String key) { this.key = key; System.out.println(&quot;å…·ä½“äº«å…ƒ&quot; + key + &quot;è¢«åˆ›å»ºï¼&quot;); } public void operation(UnsharedConcreteFlyweight outState) { System.out.print(&quot;å…·ä½“äº«å…ƒ&quot; + key + &quot;è¢«è°ƒç”¨ï¼Œ&quot;); System.out.println(&quot;éäº«å…ƒä¿¡æ¯æ˜¯:&quot; + outState.getInfo()); }}//äº«å…ƒå·¥å‚è§’è‰²class FlyweightFactory { private HashMap&lt;String, Flyweight&gt; flyweights = new HashMap&lt;String, Flyweight&gt;(); public Flyweight getFlyweight(String key) { Flyweight flyweight = (Flyweight) flyweights.get(key); if (flyweight != null) { System.out.println(&quot;å…·ä½“äº«å…ƒ&quot; + key + &quot;å·²ç»å­˜åœ¨ï¼Œè¢«æˆåŠŸè·å–ï¼&quot;); } else { flyweight = new ConcreteFlyweight(key); flyweights.put(key, flyweight); } return flyweight; }} 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106import javax.swing.*;import java.awt.*;import java.awt.event.MouseAdapter;import java.awt.event.MouseEvent;import java.util.ArrayList;public class WzqGame { public static void main(String[] args) { new Chessboard(); }}//æ£‹ç›˜class Chessboard extends MouseAdapter { WeiqiFactory wf; JFrame f; Graphics g; JRadioButton wz; JRadioButton bz; private final int x = 50; private final int y = 50; private final int w = 40; //å°æ–¹æ ¼å®½åº¦å’Œé«˜åº¦ private final int rw = 400; //æ£‹ç›˜å®½åº¦å’Œé«˜åº¦ Chessboard() { wf = new WeiqiFactory(); f = new JFrame(&quot;äº«å…ƒæ¨¡å¼åœ¨äº”å­æ£‹æ¸¸æˆä¸­çš„åº”ç”¨&quot;); f.setBounds(100, 100, 500, 550); f.setVisible(true); f.setResizable(false); f.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE); JPanel SouthJP = new JPanel(); f.add(&quot;South&quot;, SouthJP); wz = new JRadioButton(&quot;ç™½å­&quot;); bz = new JRadioButton(&quot;é»‘å­&quot;, true); ButtonGroup group = new ButtonGroup(); group.add(wz); group.add(bz); SouthJP.add(wz); SouthJP.add(bz); JPanel CenterJP = new JPanel(); CenterJP.setLayout(null); CenterJP.setSize(500, 500); CenterJP.addMouseListener(this); f.add(&quot;Center&quot;, CenterJP); try { Thread.sleep(500); } catch (InterruptedException e) { e.printStackTrace(); } g = CenterJP.getGraphics(); g.setColor(Color.BLUE); g.drawRect(x, y, rw, rw); for (int i = 1; i &lt; 10; i++) { //ç»˜åˆ¶ç¬¬iæ¡ç«–ç›´çº¿ g.drawLine(x + (i * w), y, x + (i * w), y + rw); //ç»˜åˆ¶ç¬¬iæ¡æ°´å¹³çº¿ g.drawLine(x, y + (i * w), x + rw, y + (i * w)); } } public void mouseClicked(MouseEvent e) { Point pt = new Point(e.getX() - 15, e.getY() - 15); if (wz.isSelected()) { ChessPieces c1 = wf.getChessPieces(&quot;w&quot;); c1.DownPieces(g, pt); } else if (bz.isSelected()) { ChessPieces c2 = wf.getChessPieces(&quot;b&quot;); c2.DownPieces(g, pt); } }}//æŠ½è±¡äº«å…ƒè§’è‰²ï¼šæ£‹å­interface ChessPieces { public void DownPieces(Graphics g, Point pt); //ä¸‹å­}//å…·ä½“äº«å…ƒè§’è‰²ï¼šç™½å­class WhitePieces implements ChessPieces { public void DownPieces(Graphics g, Point pt) { g.setColor(Color.WHITE); g.fillOval(pt.x, pt.y, 30, 30); }}//å…·ä½“äº«å…ƒè§’è‰²ï¼šé»‘å­class BlackPieces implements ChessPieces { public void DownPieces(Graphics g, Point pt) { g.setColor(Color.BLACK); g.fillOval(pt.x, pt.y, 30, 30); }}//äº«å…ƒå·¥å‚è§’è‰²class WeiqiFactory { private ArrayList&lt;ChessPieces&gt; qz; public WeiqiFactory() { qz = new ArrayList&lt;ChessPieces&gt;(); ChessPieces w = new WhitePieces(); qz.add(w); ChessPieces b = new BlackPieces(); qz.add(b); } public ChessPieces getChessPieces(String type) { if (type.equalsIgnoreCase(&quot;w&quot;)) { return (ChessPieces) qz.get(0); } else if (type.equalsIgnoreCase(&quot;b&quot;)) { return (ChessPieces) qz.get(1); } else { return null; } }} ã€Šç»„åˆæ¨¡å¼ Composite Patternã€‹ç‰¹ç‚¹ï¼š å°†å¯¹è±¡ç»„åˆæˆæ ‘çŠ¶çš„å±‚æ¬¡ç»“æ„çš„æ¨¡å¼ï¼Œç”¨æ¥è¡¨ç¤ºâ€œæ•´ä½“-éƒ¨åˆ†â€çš„å…³ç³»ï¼Œä½¿ç”¨æˆ·å¯¹å•ä¸ªå¯¹è±¡å’Œç»„åˆå¯¹è±¡å…·æœ‰ä¸€è‡´çš„è®¿é—®æ€§ éƒ¨åˆ†-æ•´ä½“ ä¼˜ç‚¹ï¼š ç»„åˆæ¨¡å¼ä½¿å¾—å®¢æˆ·ç«¯ä»£ç å¯ä»¥ä¸€è‡´åœ°å¤„ç†å•ä¸ªå¯¹è±¡å’Œç»„åˆå¯¹è±¡ï¼Œæ— é¡»å…³å¿ƒè‡ªå·±å¤„ç†çš„æ˜¯å•ä¸ªå¯¹è±¡ï¼Œè¿˜æ˜¯ç»„åˆå¯¹è±¡ï¼Œè¿™ç®€åŒ–äº†å®¢æˆ·ç«¯ä»£ç ï¼› æ›´å®¹æ˜“åœ¨ç»„åˆä½“å†…åŠ å…¥æ–°çš„å¯¹è±¡ï¼Œå®¢æˆ·ç«¯ä¸ä¼šå› ä¸ºåŠ å…¥äº†æ–°çš„å¯¹è±¡è€Œæ›´æ”¹æºä»£ç ï¼Œæ»¡è¶³â€œå¼€é—­åŸåˆ™â€ï¼› ç¼ºç‚¹ï¼š è®¾è®¡è¾ƒå¤æ‚ï¼Œå®¢æˆ·ç«¯éœ€è¦èŠ±æ›´å¤šæ—¶é—´ç†æ¸…ç±»ä¹‹é—´çš„å±‚æ¬¡å…³ç³»ï¼› ä¸å®¹æ˜“é™åˆ¶å®¹å™¨ä¸­çš„æ„ä»¶ï¼› ä¸å®¹æ˜“ç”¨ç»§æ‰¿çš„æ–¹æ³•æ¥å¢åŠ æ„ä»¶çš„æ–°åŠŸèƒ½ï¼› è§’è‰²ï¼šåˆ†ç±»ï¼šé€æ˜æ–¹å¼ å®‰å…¨æ–¹å¼ æŠ½è±¡æ„ä»¶ï¼ˆComponentï¼‰è§’è‰²ï¼šå®ƒçš„ä¸»è¦ä½œç”¨æ˜¯ä¸ºæ ‘å¶æ„ä»¶å’Œæ ‘ææ„ä»¶å£°æ˜å…¬å…±æ¥å£ï¼Œå¹¶å®ç°å®ƒä»¬çš„é»˜è®¤è¡Œä¸ºã€‚åœ¨é€æ˜å¼çš„ç»„åˆæ¨¡å¼ä¸­æŠ½è±¡æ„ä»¶è¿˜å£°æ˜è®¿é—®å’Œç®¡ç†å­ç±»çš„æ¥å£ï¼›åœ¨å®‰å…¨å¼çš„ç»„åˆæ¨¡å¼ä¸­ä¸å£°æ˜è®¿é—®å’Œç®¡ç†å­ç±»çš„æ¥å£ï¼Œç®¡ç†å·¥ä½œç”±æ ‘ææ„ä»¶å®Œæˆã€‚ï¼ˆæ€»çš„æŠ½è±¡ç±»æˆ–æ¥å£ï¼Œå®šä¹‰ä¸€äº›é€šç”¨çš„æ–¹æ³•ï¼Œæ¯”å¦‚æ–°å¢ã€åˆ é™¤ï¼‰ æ ‘å¶æ„ä»¶ï¼ˆLeafï¼‰è§’è‰²ï¼šæ˜¯ç»„åˆä¸­çš„å¶èŠ‚ç‚¹å¯¹è±¡ï¼Œå®ƒæ²¡æœ‰å­èŠ‚ç‚¹ï¼Œç”¨äºç»§æ‰¿æˆ–å®ç°æŠ½è±¡æ„ä»¶ã€‚ æ ‘ææ„ä»¶ï¼ˆCompositeï¼‰è§’è‰² / ä¸­é—´æ„ä»¶ï¼šæ˜¯ç»„åˆä¸­çš„åˆ†æ”¯èŠ‚ç‚¹å¯¹è±¡ï¼Œå®ƒæœ‰å­èŠ‚ç‚¹ï¼Œç”¨äºç»§æ‰¿å’Œå®ç°æŠ½è±¡æ„ä»¶ã€‚å®ƒçš„ä¸»è¦ä½œç”¨æ˜¯å­˜å‚¨å’Œç®¡ç†å­éƒ¨ä»¶ï¼Œé€šå¸¸åŒ…å« Add()ã€Remove()ã€GetChild() ç­‰æ–¹æ³•ã€‚ ç»„åˆæ¨¡å¼çš„åº”ç”¨åœºæ™¯ï¼š åœ¨éœ€è¦è¡¨ç¤ºä¸€ä¸ªå¯¹è±¡æ•´ä½“ä¸éƒ¨åˆ†çš„å±‚æ¬¡ç»“æ„çš„åœºåˆã€‚ è¦æ±‚å¯¹ç”¨æˆ·éšè—ç»„åˆå¯¹è±¡ä¸å•ä¸ªå¯¹è±¡çš„ä¸åŒï¼Œç”¨æˆ·å¯ä»¥ç”¨ç»Ÿä¸€çš„æ¥å£ä½¿ç”¨ç»„åˆç»“æ„ä¸­çš„æ‰€æœ‰å¯¹è±¡çš„åœºåˆã€‚ JAVAå®ç°ï¼šå®‰å…¨ç»„åˆ123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960import java.util.ArrayList;public class Safe { public static void main(String[] args) { Composite c0 = new Composite(); Composite c1 = new Composite(); Component leaf1 = new Leaf(&quot;1&quot;); Component leaf2 = new Leaf(&quot;2&quot;); Component leaf3 = new Leaf(&quot;3&quot;); c0.add(leaf1); c0.add(c1); c1.add(leaf2); c1.add(leaf3); c0.operation(); }}//æŠ½è±¡æ„ä»¶interface Component {// public void add(Component c);// public void remove(Component c);// public Component getChild(int i); public void operation();}//æ ‘å¶æ„ä»¶class Leaf implements Component { private String name; public Leaf(String name) { this.name = name; } public void add(Component c) { } public void remove(Component c) { } public Component getChild(int i) { return null; } @Override public void operation() { System.out.println(&quot;æ ‘å¶&quot; + name + &quot;ï¼šè¢«è®¿é—®ï¼&quot;); }}//æ ‘ææ„ä»¶class Composite implements Component { private ArrayList&lt;Component&gt; children = new ArrayList&lt;Component&gt;(); public void add(Component c) { children.add(c); } public void remove(Component c) { children.remove(c); } public Component getChild(int i) { return children.get(i); } @Override public void operation() { for (Object obj : children) { ((Component) obj).operation(); } }} é€æ˜ç»„åˆ123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566import java.util.ArrayList;public class transparent { public static void main(String[] args) { Component c0 = new Composite(); Component c1 = new Composite(); Component leaf1 = new Leaf(&quot;1&quot;); Component leaf2 = new Leaf(&quot;2&quot;); Component leaf3 = new Leaf(&quot;3&quot;); c0.add(leaf1); c0.add(c1); c1.add(leaf2); c1.add(leaf3); c0.operation(); }}//æŠ½è±¡æ„ä»¶interface Component { public void add(Component c); public void remove(Component c); public Component getChild(int i); public void operation();}//æ ‘å¶æ„ä»¶class Leaf implements Component { private String name; public Leaf(String name) { this.name = name; } @Override public void add(Component c) { } @Override public void remove(Component c) { } @Override public Component getChild(int i) { return null; } @Override public void operation() { System.out.println(&quot;æ ‘å¶&quot; + name + &quot;ï¼šè¢«è®¿é—®ï¼&quot;); }}//æ ‘ææ„ä»¶class Composite implements Component { private ArrayList&lt;Component&gt; children = new ArrayList&lt;Component&gt;(); @Override public void add(Component c) { children.add(c); } @Override public void remove(Component c) { children.remove(c); } @Override public Component getChild(int i) { return children.get(i); } @Override public void operation() { for (Object obj : children) { ((Component) obj).operation(); } }} è¡Œä¸ºå‹æ¨¡å¼ã€Šæ¨¡æ¿æ–¹æ³•æ¨¡å¼ Template method patternã€‹ç‰¹ç‚¹ï¼š å®šä¹‰ä¸€ä¸ªæ“ä½œä¸­çš„ç®—æ³•éª¨æ¶ï¼Œè€Œå°†ç®—æ³•çš„ä¸€äº›æ­¥éª¤å»¶è¿Ÿåˆ°å­ç±»ä¸­ï¼Œä½¿å¾—å­ç±»å¯ä»¥ä¸æ”¹å˜è¯¥ç®—æ³•ç»“æ„çš„æƒ…å†µä¸‹é‡å®šä¹‰è¯¥ç®—æ³•çš„æŸäº›ç‰¹å®šæ­¥éª¤ã€‚ ä¼˜ç‚¹ï¼š å®ƒå°è£…äº†ä¸å˜éƒ¨åˆ†ï¼Œæ‰©å±•å¯å˜éƒ¨åˆ†ã€‚å®ƒæŠŠè®¤ä¸ºæ˜¯ä¸å˜éƒ¨åˆ†çš„ç®—æ³•å°è£…åˆ°çˆ¶ç±»ä¸­å®ç°ï¼Œè€ŒæŠŠå¯å˜éƒ¨åˆ†ç®—æ³•ç”±å­ç±»ç»§æ‰¿å®ç°ï¼Œä¾¿äºå­ç±»ç»§ç»­æ‰©å±•ã€‚ å®ƒåœ¨çˆ¶ç±»ä¸­æå–äº†å…¬å…±çš„éƒ¨åˆ†ä»£ç ï¼Œä¾¿äºä»£ç å¤ç”¨ã€‚ éƒ¨åˆ†æ–¹æ³•æ˜¯ç”±å­ç±»å®ç°çš„ï¼Œå› æ­¤å­ç±»å¯ä»¥é€šè¿‡æ‰©å±•æ–¹å¼å¢åŠ ç›¸åº”çš„åŠŸèƒ½ï¼Œç¬¦åˆå¼€é—­åŸåˆ™ã€‚ ç¼ºç‚¹ï¼š å¯¹æ¯ä¸ªä¸åŒçš„å®ç°éƒ½éœ€è¦å®šä¹‰ä¸€ä¸ªå­ç±»ï¼Œè¿™ä¼šå¯¼è‡´ç±»çš„ä¸ªæ•°å¢åŠ ï¼Œç³»ç»Ÿæ›´åŠ åºå¤§ï¼Œè®¾è®¡ä¹Ÿæ›´åŠ æŠ½è±¡ï¼Œé—´æ¥åœ°å¢åŠ äº†ç³»ç»Ÿå®ç°çš„å¤æ‚åº¦ã€‚ çˆ¶ç±»ä¸­çš„æŠ½è±¡æ–¹æ³•ç”±å­ç±»å®ç°ï¼Œå­ç±»æ‰§è¡Œçš„ç»“æœä¼šå½±å“çˆ¶ç±»çš„ç»“æœï¼Œè¿™å¯¼è‡´ä¸€ç§åå‘çš„æ§åˆ¶ç»“æ„ï¼Œå®ƒæé«˜äº†ä»£ç é˜…è¯»çš„éš¾åº¦ã€‚ ç”±äºç»§æ‰¿å…³ç³»è‡ªèº«çš„ç¼ºç‚¹ï¼Œå¦‚æœçˆ¶ç±»æ·»åŠ æ–°çš„æŠ½è±¡æ–¹æ³•ï¼Œåˆ™æ‰€æœ‰å­ç±»éƒ½è¦æ”¹ä¸€éã€‚ è§’è‰²ï¼š 1ï¼‰æŠ½è±¡ç±»/æŠ½è±¡æ¨¡æ¿ï¼ˆAbstract Classï¼‰æŠ½è±¡æ¨¡æ¿ç±»ï¼Œè´Ÿè´£ç»™å‡ºä¸€ä¸ªç®—æ³•çš„è½®å»“å’Œéª¨æ¶ã€‚å®ƒç”±ä¸€ä¸ªæ¨¡æ¿æ–¹æ³•å’Œè‹¥å¹²ä¸ªåŸºæœ¬æ–¹æ³•æ„æˆã€‚è¿™äº›æ–¹æ³•çš„å®šä¹‰å¦‚ä¸‹ã€‚ â‘  æ¨¡æ¿æ–¹æ³•ï¼šå®šä¹‰äº†ç®—æ³•çš„éª¨æ¶ï¼ŒæŒ‰æŸç§é¡ºåºè°ƒç”¨å…¶åŒ…å«çš„åŸºæœ¬æ–¹æ³•ã€‚ â‘¡ åŸºæœ¬æ–¹æ³•ï¼šæ˜¯æ•´ä¸ªç®—æ³•ä¸­çš„ä¸€ä¸ªæ­¥éª¤ï¼ŒåŒ…å«ä»¥ä¸‹å‡ ç§ç±»å‹ã€‚ æŠ½è±¡æ–¹æ³•ï¼šåœ¨æŠ½è±¡ç±»ä¸­å£°æ˜ï¼Œç”±å…·ä½“å­ç±»å®ç°ã€‚ å…·ä½“æ–¹æ³•ï¼šåœ¨æŠ½è±¡ç±»ä¸­å·²ç»å®ç°ï¼Œåœ¨å…·ä½“å­ç±»ä¸­å¯ä»¥ç»§æ‰¿æˆ–é‡å†™å®ƒã€‚ é’©å­æ–¹æ³•ï¼šåœ¨æŠ½è±¡ç±»ä¸­å·²ç»å®ç°ï¼ŒåŒ…æ‹¬ç”¨äºåˆ¤æ–­çš„é€»è¾‘æ–¹æ³•å’Œéœ€è¦å­ç±»é‡å†™çš„ç©ºæ–¹æ³•ä¸¤ç§ã€‚ 2ï¼‰å…·ä½“å­ç±»/å…·ä½“å®ç°ï¼ˆConcrete Classï¼‰å…·ä½“å®ç°ç±»ï¼Œå®ç°æŠ½è±¡ç±»ä¸­æ‰€å®šä¹‰çš„æŠ½è±¡æ–¹æ³•å’Œé’©å­æ–¹æ³•ï¼Œå®ƒä»¬æ˜¯ä¸€ä¸ªé¡¶çº§é€»è¾‘çš„ä¸€ä¸ªç»„æˆæ­¥éª¤ã€‚ æ¨¡æ¿æ–¹æ³•æ¨¡å¼çš„åº”ç”¨åœºæ™¯ï¼š ç®—æ³•çš„æ•´ä½“æ­¥éª¤å¾ˆå›ºå®šï¼Œä½†å…¶ä¸­ä¸ªåˆ«éƒ¨åˆ†æ˜“å˜æ—¶ï¼Œè¿™æ—¶å€™å¯ä»¥ä½¿ç”¨æ¨¡æ¿æ–¹æ³•æ¨¡å¼ï¼Œå°†å®¹æ˜“å˜çš„éƒ¨åˆ†æŠ½è±¡å‡ºæ¥ï¼Œä¾›å­ç±»å®ç°ã€‚ å½“å¤šä¸ªå­ç±»å­˜åœ¨å…¬å…±çš„è¡Œä¸ºæ—¶ï¼Œå¯ä»¥å°†å…¶æå–å‡ºæ¥å¹¶é›†ä¸­åˆ°ä¸€ä¸ªå…¬å…±çˆ¶ç±»ä¸­ä»¥é¿å…ä»£ç é‡å¤ã€‚é¦–å…ˆï¼Œè¦è¯†åˆ«ç°æœ‰ä»£ç ä¸­çš„ä¸åŒä¹‹å¤„ï¼Œå¹¶ä¸”å°†ä¸åŒä¹‹å¤„åˆ†ç¦»ä¸ºæ–°çš„æ“ä½œã€‚æœ€åï¼Œç”¨ä¸€ä¸ªè°ƒç”¨è¿™äº›æ–°çš„æ“ä½œçš„æ¨¡æ¿æ–¹æ³•æ¥æ›¿æ¢è¿™äº›ä¸åŒçš„ä»£ç ã€‚ å½“éœ€è¦æ§åˆ¶å­ç±»çš„æ‰©å±•æ—¶ï¼Œæ¨¡æ¿æ–¹æ³•åªåœ¨ç‰¹å®šç‚¹è°ƒç”¨é’©å­æ“ä½œï¼Œè¿™æ ·å°±åªå…è®¸åœ¨è¿™äº›ç‚¹è¿›è¡Œæ‰©å±•ã€‚ JAVAå®ç°ï¼š12345678910111213141516171819202122232425262728293031323334public class TemplateMethodPattern { public static void main(String[] args) { AbstractClass tm = new ConcreteClass(); tm.TemplateMethod(); }}//æŠ½è±¡ç±»abstract class AbstractClass { //æ¨¡æ¿æ–¹æ³• public void TemplateMethod() { SpecificMethod(); abstractMethod1(); abstractMethod2(); } //å…·ä½“æ–¹æ³• public void SpecificMethod() { System.out.println(&quot;æŠ½è±¡ç±»ä¸­çš„å…·ä½“æ–¹æ³•è¢«è°ƒç”¨...&quot;); } //æŠ½è±¡æ–¹æ³•1 public abstract void abstractMethod1(); //æŠ½è±¡æ–¹æ³•2 public abstract void abstractMethod2();}//å…·ä½“å­ç±»class ConcreteClass extends AbstractClass { @Override public void abstractMethod1() { System.out.println(&quot;æŠ½è±¡æ–¹æ³•1çš„å®ç°è¢«è°ƒç”¨...&quot;); } @Override public void abstractMethod2() { System.out.println(&quot;æŠ½è±¡æ–¹æ³•2çš„å®ç°è¢«è°ƒç”¨...&quot;); }} ã€Šç­–ç•¥æ¨¡å¼ Strategy Patternã€‹ç‰¹ç‚¹ï¼š è¯¥æ¨¡å¼å®šä¹‰äº†ä¸€ç³»åˆ—ç®—æ³•ï¼Œå¹¶å°†æ¯ä¸ªç®—æ³•å°è£…èµ·æ¥ï¼Œä½¿å®ƒä»¬å¯ä»¥ç›¸äº’æ›¿æ¢ï¼Œä¸”ç®—æ³•çš„å˜åŒ–ä¸ä¼šå½±å“ä½¿ç”¨ç®—æ³•çš„å®¢æˆ·ã€‚ç­–ç•¥æ¨¡å¼å±äºå¯¹è±¡è¡Œä¸ºæ¨¡å¼ï¼Œå®ƒé€šè¿‡å¯¹ç®—æ³•è¿›è¡Œå°è£…ï¼ŒæŠŠä½¿ç”¨ç®—æ³•çš„è´£ä»»å’Œç®—æ³•çš„å®ç°åˆ†å‰²å¼€æ¥ï¼Œå¹¶å§”æ´¾ç»™ä¸åŒçš„å¯¹è±¡å¯¹è¿™äº›ç®—æ³•è¿›è¡Œç®¡ç†ã€‚ ä¼˜ç‚¹ï¼š å¤šé‡æ¡ä»¶è¯­å¥ä¸æ˜“ç»´æŠ¤ï¼Œè€Œä½¿ç”¨ç­–ç•¥æ¨¡å¼å¯ä»¥é¿å…ä½¿ç”¨å¤šé‡æ¡ä»¶è¯­å¥ï¼Œå¦‚ ifâ€¦else è¯­å¥ã€switchâ€¦case è¯­å¥ã€‚ ç­–ç•¥æ¨¡å¼æä¾›äº†ä¸€ç³»åˆ—çš„å¯ä¾›é‡ç”¨çš„ç®—æ³•æ—ï¼Œæ°å½“ä½¿ç”¨ç»§æ‰¿å¯ä»¥æŠŠç®—æ³•æ—çš„å…¬å…±ä»£ç è½¬ç§»åˆ°çˆ¶ç±»é‡Œé¢ï¼Œä»è€Œé¿å…é‡å¤çš„ä»£ç ã€‚ ç­–ç•¥æ¨¡å¼å¯ä»¥æä¾›ç›¸åŒè¡Œä¸ºçš„ä¸åŒå®ç°ï¼Œå®¢æˆ·å¯ä»¥æ ¹æ®ä¸åŒæ—¶é—´æˆ–ç©ºé—´è¦æ±‚é€‰æ‹©ä¸åŒçš„ã€‚ ç­–ç•¥æ¨¡å¼æä¾›äº†å¯¹å¼€é—­åŸåˆ™çš„å®Œç¾æ”¯æŒï¼Œå¯ä»¥åœ¨ä¸ä¿®æ”¹åŸä»£ç çš„æƒ…å†µä¸‹ï¼Œçµæ´»å¢åŠ æ–°ç®—æ³•ã€‚ ç­–ç•¥æ¨¡å¼æŠŠç®—æ³•çš„ä½¿ç”¨æ”¾åˆ°ç¯å¢ƒç±»ä¸­ï¼Œè€Œç®—æ³•çš„å®ç°ç§»åˆ°å…·ä½“ç­–ç•¥ç±»ä¸­ï¼Œå®ç°äº†äºŒè€…çš„åˆ†ç¦»ã€‚ ç¼ºç‚¹ï¼š å®¢æˆ·ç«¯å¿…é¡»ç†è§£æ‰€æœ‰ç­–ç•¥ç®—æ³•çš„åŒºåˆ«ï¼Œä»¥ä¾¿é€‚æ—¶é€‰æ‹©æ°å½“çš„ç®—æ³•ç±»ã€‚ ç­–ç•¥æ¨¡å¼é€ æˆå¾ˆå¤šçš„ç­–ç•¥ç±»ï¼Œå¢åŠ ç»´æŠ¤éš¾åº¦ã€‚ è§’è‰²ï¼š æŠ½è±¡ç­–ç•¥ï¼ˆStrategyï¼‰ç±»ï¼šå®šä¹‰äº†ä¸€ä¸ªå…¬å…±æ¥å£ï¼Œå„ç§ä¸åŒçš„ç®—æ³•ä»¥ä¸åŒçš„æ–¹å¼å®ç°è¿™ä¸ªæ¥å£ï¼Œç¯å¢ƒè§’è‰²ä½¿ç”¨è¿™ä¸ªæ¥å£è°ƒç”¨ä¸åŒçš„ç®—æ³•ï¼Œä¸€èˆ¬ä½¿ç”¨æ¥å£æˆ–æŠ½è±¡ç±»å®ç°ã€‚ å…·ä½“ç­–ç•¥ï¼ˆConcrete Strategyï¼‰ç±»ï¼šå®ç°äº†æŠ½è±¡ç­–ç•¥å®šä¹‰çš„æ¥å£ï¼Œæä¾›å…·ä½“çš„ç®—æ³•å®ç°ã€‚ ç¯å¢ƒï¼ˆContextï¼‰ç±»ï¼šæŒæœ‰ä¸€ä¸ªç­–ç•¥ç±»çš„å¼•ç”¨ï¼Œæœ€ç»ˆç»™å®¢æˆ·ç«¯è°ƒç”¨ã€‚ ç­–ç•¥æ¨¡å¼çš„åº”ç”¨åœºæ™¯ï¼š ä¸€ä¸ªç³»ç»Ÿéœ€è¦åŠ¨æ€åœ°åœ¨å‡ ç§ç®—æ³•ä¸­é€‰æ‹©ä¸€ç§æ—¶ï¼Œå¯å°†æ¯ä¸ªç®—æ³•å°è£…åˆ°ç­–ç•¥ç±»ä¸­ã€‚ ä¸€ä¸ªç±»å®šä¹‰äº†å¤šç§è¡Œä¸ºï¼Œå¹¶ä¸”è¿™äº›è¡Œä¸ºåœ¨è¿™ä¸ªç±»çš„æ“ä½œä¸­ä»¥å¤šä¸ªæ¡ä»¶è¯­å¥çš„å½¢å¼å‡ºç°ï¼Œå¯å°†æ¯ä¸ªæ¡ä»¶åˆ†æ”¯ç§»å…¥å®ƒä»¬å„è‡ªçš„ç­–ç•¥ç±»ä¸­ä»¥ä»£æ›¿è¿™äº›æ¡ä»¶è¯­å¥ã€‚ ç³»ç»Ÿä¸­å„ç®—æ³•å½¼æ­¤å®Œå…¨ç‹¬ç«‹ï¼Œä¸”è¦æ±‚å¯¹å®¢æˆ·éšè—å…·ä½“ç®—æ³•çš„å®ç°ç»†èŠ‚æ—¶ã€‚ ç³»ç»Ÿè¦æ±‚ä½¿ç”¨ç®—æ³•çš„å®¢æˆ·ä¸åº”è¯¥çŸ¥é“å…¶æ“ä½œçš„æ•°æ®æ—¶ï¼Œå¯ä½¿ç”¨ç­–ç•¥æ¨¡å¼æ¥éšè—ä¸ç®—æ³•ç›¸å…³çš„æ•°æ®ç»“æ„ã€‚ å¤šä¸ªç±»åªåŒºåˆ«åœ¨è¡¨ç°è¡Œä¸ºä¸åŒï¼Œå¯ä»¥ä½¿ç”¨ç­–ç•¥æ¨¡å¼ï¼Œåœ¨è¿è¡Œæ—¶åŠ¨æ€é€‰æ‹©å…·ä½“è¦æ‰§è¡Œçš„è¡Œä¸ºã€‚ JAVAå®ç°ï¼š1234567891011121314151617181920212223242526272829303132333435363738394041public class StrategyPattern { public static void main(String[] args) { Context c = new Context(); Strategy s = new ConcreteStrategyA(); c.setStrategy(s); c.strategyMethod(); System.out.println(&quot;-----------------&quot;); s = new ConcreteStrategyB(); c.setStrategy(s); c.strategyMethod(); }}//æŠ½è±¡ç­–ç•¥ç±»interface Strategy { public void strategyMethod(); //ç­–ç•¥æ–¹æ³•}//å…·ä½“ç­–ç•¥ç±»Aclass ConcreteStrategyA implements Strategy { public void strategyMethod() { System.out.println(&quot;å…·ä½“ç­–ç•¥Açš„ç­–ç•¥æ–¹æ³•è¢«è®¿é—®ï¼&quot;); }}//å…·ä½“ç­–ç•¥ç±»Bclass ConcreteStrategyB implements Strategy { public void strategyMethod() { System.out.println(&quot;å…·ä½“ç­–ç•¥Bçš„ç­–ç•¥æ–¹æ³•è¢«è®¿é—®ï¼&quot;); }}//ç¯å¢ƒç±»class Context { private Strategy strategy; public Strategy getStrategy() { return strategy; } public void setStrategy(Strategy strategy) { this.strategy = strategy; } public void strategyMethod() { strategy.strategyMethod(); }} ã€Šå‘½ä»¤æ¨¡å¼ Command Patternã€‹ç‰¹ç‚¹ï¼š å°†ä¸€ä¸ªè¯·æ±‚å°è£…ä¸ºä¸€ä¸ªå¯¹è±¡ï¼Œä½¿å‘å‡ºè¯·æ±‚çš„è´£ä»»å’Œæ‰§è¡Œè¯·æ±‚çš„è´£ä»»åˆ†å‰²å¼€ã€‚è¿™æ ·ä¸¤è€…ä¹‹é—´é€šè¿‡å‘½ä»¤å¯¹è±¡è¿›è¡Œæ²Ÿé€šï¼Œè¿™æ ·æ–¹ä¾¿å°†å‘½ä»¤å¯¹è±¡è¿›è¡Œå‚¨å­˜ã€ä¼ é€’ã€è°ƒç”¨ã€å¢åŠ ä¸ç®¡ç†ã€‚ ä¼˜ç‚¹ï¼š é€šè¿‡å¼•å…¥ä¸­é—´ä»¶ï¼ˆæŠ½è±¡æ¥å£ï¼‰é™ä½ç³»ç»Ÿçš„è€¦åˆåº¦ã€‚ æ‰©å±•æ€§è‰¯å¥½ï¼Œå¢åŠ æˆ–åˆ é™¤å‘½ä»¤éå¸¸æ–¹ä¾¿ã€‚é‡‡ç”¨å‘½ä»¤æ¨¡å¼å¢åŠ ä¸åˆ é™¤å‘½ä»¤ä¸ä¼šå½±å“å…¶ä»–ç±»ï¼Œä¸”æ»¡è¶³â€œå¼€é—­åŸåˆ™â€ã€‚ å¯ä»¥å®ç°å®å‘½ä»¤ã€‚å‘½ä»¤æ¨¡å¼å¯ä»¥ä¸ç»„åˆæ¨¡å¼ç»“åˆï¼Œå°†å¤šä¸ªå‘½ä»¤è£…é…æˆä¸€ä¸ªç»„åˆå‘½ä»¤ï¼Œå³å®å‘½ä»¤ã€‚ æ–¹ä¾¿å®ç° Undo å’Œ Redo æ“ä½œã€‚å‘½ä»¤æ¨¡å¼å¯ä»¥ä¸åé¢ä»‹ç»çš„å¤‡å¿˜å½•æ¨¡å¼ç»“åˆï¼Œå®ç°å‘½ä»¤çš„æ’¤é”€ä¸æ¢å¤ã€‚ å¯ä»¥åœ¨ç°æœ‰å‘½ä»¤çš„åŸºç¡€ä¸Šï¼Œå¢åŠ é¢å¤–åŠŸèƒ½ã€‚æ¯”å¦‚æ—¥å¿—è®°å½•ï¼Œç»“åˆè£…é¥°å™¨æ¨¡å¼ä¼šæ›´åŠ çµæ´»ã€‚ ç¼ºç‚¹ï¼š å¯èƒ½äº§ç”Ÿå¤§é‡å…·ä½“çš„å‘½ä»¤ç±»ã€‚å› ä¸ºæ¯ä¸€ä¸ªå…·ä½“æ“ä½œéƒ½éœ€è¦è®¾è®¡ä¸€ä¸ªå…·ä½“å‘½ä»¤ç±»ï¼Œè¿™ä¼šå¢åŠ ç³»ç»Ÿçš„å¤æ‚æ€§ã€‚ å‘½ä»¤æ¨¡å¼çš„ç»“æœå…¶å®å°±æ˜¯æ¥æ”¶æ–¹çš„æ‰§è¡Œç»“æœï¼Œä½†æ˜¯ä¸ºäº†ä»¥å‘½ä»¤çš„å½¢å¼è¿›è¡Œæ¶æ„ã€è§£è€¦è¯·æ±‚ä¸å®ç°ï¼Œå¼•å…¥äº†é¢å¤–ç±»å‹ç»“æ„ï¼ˆå¼•å…¥äº†è¯·æ±‚æ–¹ä¸æŠ½è±¡å‘½ä»¤æ¥å£ï¼‰ï¼Œå¢åŠ äº†ç†è§£ä¸Šçš„å›°éš¾ã€‚ä¸è¿‡è¿™ä¹Ÿæ˜¯è®¾è®¡æ¨¡å¼çš„é€šç—…ï¼ŒæŠ½è±¡å¿…ç„¶ä¼šé¢å¤–å¢åŠ ç±»çš„æ•°é‡ï¼Œä»£ç æŠ½ç¦»è‚¯å®šæ¯”ä»£ç èšåˆæ›´åŠ éš¾ç†è§£ è§’è‰²ï¼š æŠ½è±¡å‘½ä»¤ç±»ï¼ˆCommandï¼‰è§’è‰²ï¼šå£°æ˜æ‰§è¡Œå‘½ä»¤çš„æ¥å£ï¼Œæ‹¥æœ‰æ‰§è¡Œå‘½ä»¤çš„æŠ½è±¡æ–¹æ³• execute()ã€‚ å…·ä½“å‘½ä»¤ç±»ï¼ˆConcrete Commandï¼‰è§’è‰²ï¼šæ˜¯æŠ½è±¡å‘½ä»¤ç±»çš„å…·ä½“å®ç°ç±»ï¼Œå®ƒæ‹¥æœ‰æ¥æ”¶è€…å¯¹è±¡ï¼Œå¹¶é€šè¿‡è°ƒç”¨æ¥æ”¶è€…çš„åŠŸèƒ½æ¥å®Œæˆå‘½ä»¤è¦æ‰§è¡Œçš„æ“ä½œã€‚ å®ç°è€…/æ¥æ”¶è€…ï¼ˆReceiverï¼‰è§’è‰²ï¼šæ‰§è¡Œå‘½ä»¤åŠŸèƒ½çš„ç›¸å…³æ“ä½œï¼Œæ˜¯å…·ä½“å‘½ä»¤å¯¹è±¡ä¸šåŠ¡çš„çœŸæ­£å®ç°è€…ã€‚ è°ƒç”¨è€…/è¯·æ±‚è€…ï¼ˆInvokerï¼‰è§’è‰²ï¼šæ˜¯è¯·æ±‚çš„å‘é€è€…ï¼Œå®ƒé€šå¸¸æ‹¥æœ‰å¾ˆå¤šçš„å‘½ä»¤å¯¹è±¡ï¼Œå¹¶é€šè¿‡è®¿é—®å‘½ä»¤å¯¹è±¡æ¥æ‰§è¡Œç›¸å…³è¯·æ±‚ï¼Œå®ƒä¸ç›´æ¥è®¿é—®æ¥æ”¶è€…ã€‚ å‘½ä»¤æ¨¡å¼çš„åº”ç”¨åœºæ™¯ï¼š è¯·æ±‚è°ƒç”¨è€…éœ€è¦ä¸è¯·æ±‚æ¥æ”¶è€…è§£è€¦æ—¶ï¼Œå‘½ä»¤æ¨¡å¼å¯ä»¥ä½¿è°ƒç”¨è€…å’Œæ¥æ”¶è€…ä¸ç›´æ¥äº¤äº’ã€‚ ç³»ç»Ÿéšæœºè¯·æ±‚å‘½ä»¤æˆ–ç»å¸¸å¢åŠ ã€åˆ é™¤å‘½ä»¤æ—¶ï¼Œå‘½ä»¤æ¨¡å¼å¯ä»¥æ–¹ä¾¿åœ°å®ç°è¿™äº›åŠŸèƒ½ã€‚ å½“ç³»ç»Ÿéœ€è¦æ‰§è¡Œä¸€ç»„æ“ä½œæ—¶ï¼Œå‘½ä»¤æ¨¡å¼å¯ä»¥å®šä¹‰å®å‘½ä»¤æ¥å®ç°è¯¥åŠŸèƒ½ã€‚ å½“ç³»ç»Ÿéœ€è¦æ”¯æŒå‘½ä»¤çš„æ’¤é”€ï¼ˆUndoï¼‰æ“ä½œå’Œæ¢å¤ï¼ˆRedoï¼‰æ“ä½œæ—¶ï¼Œå¯ä»¥å°†å‘½ä»¤å¯¹è±¡å­˜å‚¨èµ·æ¥ï¼Œé‡‡ç”¨å¤‡å¿˜å½•æ¨¡å¼æ¥å®ç°ã€‚ JAVAå®ç°ï¼š1234567891011121314151617181920212223242526272829303132333435363738394041public class StrategyPattern { public static void main(String[] args) { Context c = new Context(); Strategy s = new ConcreteStrategyA(); c.setStrategy(s); c.strategyMethod(); System.out.println(&quot;-----------------&quot;); s = new ConcreteStrategyB(); c.setStrategy(s); c.strategyMethod(); }}//æŠ½è±¡ç­–ç•¥ç±»interface Strategy { public void strategyMethod(); //ç­–ç•¥æ–¹æ³•}//å…·ä½“ç­–ç•¥ç±»Aclass ConcreteStrategyA implements Strategy { public void strategyMethod() { System.out.println(&quot;å…·ä½“ç­–ç•¥Açš„ç­–ç•¥æ–¹æ³•è¢«è®¿é—®ï¼&quot;); }}//å…·ä½“ç­–ç•¥ç±»Bclass ConcreteStrategyB implements Strategy { public void strategyMethod() { System.out.println(&quot;å…·ä½“ç­–ç•¥Bçš„ç­–ç•¥æ–¹æ³•è¢«è®¿é—®ï¼&quot;); }}//ç¯å¢ƒç±»class Context { private Strategy strategy; public Strategy getStrategy() { return strategy; } public void setStrategy(Strategy strategy) { this.strategy = strategy; } public void strategyMethod() { strategy.strategyMethod(); }} ã€Šè´£ä»»/èŒè´£ é“¾æ¨¡å¼ Chain of Responsibility patternã€‹ç‰¹ç‚¹ï¼š ä¸ºäº†é¿å…è¯·æ±‚å‘é€è€…ä¸å¤šä¸ªè¯·æ±‚å¤„ç†è€…è€¦åˆåœ¨ä¸€èµ·ï¼Œäºæ˜¯å°†æ‰€æœ‰è¯·æ±‚çš„å¤„ç†è€…é€šè¿‡å‰ä¸€å¯¹è±¡è®°ä½å…¶ä¸‹ä¸€ä¸ªå¯¹è±¡çš„å¼•ç”¨è€Œè¿æˆä¸€æ¡é“¾ï¼›å½“æœ‰è¯·æ±‚å‘ç”Ÿæ—¶ï¼Œå¯å°†è¯·æ±‚æ²¿ç€è¿™æ¡é“¾ä¼ é€’ï¼Œç›´åˆ°æœ‰å¯¹è±¡å¤„ç†å®ƒä¸ºæ­¢ã€‚ ä¼˜ç‚¹ï¼š é™ä½äº†å¯¹è±¡ä¹‹é—´çš„è€¦åˆåº¦ã€‚è¯¥æ¨¡å¼ä½¿å¾—ä¸€ä¸ªå¯¹è±¡æ— é¡»çŸ¥é“åˆ°åº•æ˜¯å“ªä¸€ä¸ªå¯¹è±¡å¤„ç†å…¶è¯·æ±‚ä»¥åŠé“¾çš„ç»“æ„ï¼Œå‘é€è€…å’Œæ¥æ”¶è€…ä¹Ÿæ— é¡»æ‹¥æœ‰å¯¹æ–¹çš„æ˜ç¡®ä¿¡æ¯ã€‚ å¢å¼ºäº†ç³»ç»Ÿçš„å¯æ‰©å±•æ€§ã€‚å¯ä»¥æ ¹æ®éœ€è¦å¢åŠ æ–°çš„è¯·æ±‚å¤„ç†ç±»ï¼Œæ»¡è¶³å¼€é—­åŸåˆ™ã€‚ å¢å¼ºäº†ç»™å¯¹è±¡æŒ‡æ´¾èŒè´£çš„çµæ´»æ€§ã€‚å½“å·¥ä½œæµç¨‹å‘ç”Ÿå˜åŒ–ï¼Œå¯ä»¥åŠ¨æ€åœ°æ”¹å˜é“¾å†…çš„æˆå‘˜æˆ–è€…è°ƒåŠ¨å®ƒä»¬çš„æ¬¡åºï¼Œä¹Ÿå¯åŠ¨æ€åœ°æ–°å¢æˆ–è€…åˆ é™¤è´£ä»»ã€‚ è´£ä»»é“¾ç®€åŒ–äº†å¯¹è±¡ä¹‹é—´çš„è¿æ¥ã€‚æ¯ä¸ªå¯¹è±¡åªéœ€ä¿æŒä¸€ä¸ªæŒ‡å‘å…¶åç»§è€…çš„å¼•ç”¨ï¼Œä¸éœ€ä¿æŒå…¶ä»–æ‰€æœ‰å¤„ç†è€…çš„å¼•ç”¨ï¼Œè¿™é¿å…äº†ä½¿ç”¨ä¼—å¤šçš„ if æˆ–è€… ifÂ·Â·Â·else è¯­å¥ã€‚ è´£ä»»åˆ†æ‹…ã€‚æ¯ä¸ªç±»åªéœ€è¦å¤„ç†è‡ªå·±è¯¥å¤„ç†çš„å·¥ä½œï¼Œä¸è¯¥å¤„ç†çš„ä¼ é€’ç»™ä¸‹ä¸€ä¸ªå¯¹è±¡å®Œæˆï¼Œæ˜ç¡®å„ç±»çš„è´£ä»»èŒƒå›´ï¼Œç¬¦åˆç±»çš„å•ä¸€èŒè´£åŸåˆ™ã€‚ ç¼ºç‚¹ï¼š ä¸èƒ½ä¿è¯æ¯ä¸ªè¯·æ±‚ä¸€å®šè¢«å¤„ç†ã€‚ç”±äºä¸€ä¸ªè¯·æ±‚æ²¡æœ‰æ˜ç¡®çš„æ¥æ”¶è€…ï¼Œæ‰€ä»¥ä¸èƒ½ä¿è¯å®ƒä¸€å®šä¼šè¢«å¤„ç†ï¼Œè¯¥è¯·æ±‚å¯èƒ½ä¸€ç›´ä¼ åˆ°é“¾çš„æœ«ç«¯éƒ½å¾—ä¸åˆ°å¤„ç†ã€‚ å¯¹æ¯”è¾ƒé•¿çš„èŒè´£é“¾ï¼Œè¯·æ±‚çš„å¤„ç†å¯èƒ½æ¶‰åŠå¤šä¸ªå¤„ç†å¯¹è±¡ï¼Œç³»ç»Ÿæ€§èƒ½å°†å—åˆ°ä¸€å®šå½±å“ã€‚ èŒè´£é“¾å»ºç«‹çš„åˆç†æ€§è¦é å®¢æˆ·ç«¯æ¥ä¿è¯ï¼Œå¢åŠ äº†å®¢æˆ·ç«¯çš„å¤æ‚æ€§ï¼Œå¯èƒ½ä¼šç”±äºèŒè´£é“¾çš„é”™è¯¯è®¾ç½®è€Œå¯¼è‡´ç³»ç»Ÿå‡ºé”™ï¼Œå¦‚å¯èƒ½ä¼šé€ æˆå¾ªç¯è°ƒç”¨ã€‚ è§’è‰²ï¼š æŠ½è±¡å¤„ç†è€…ï¼ˆHandlerï¼‰è§’è‰²ï¼šå®šä¹‰ä¸€ä¸ªå¤„ç†è¯·æ±‚çš„æ¥å£ï¼ŒåŒ…å«æŠ½è±¡å¤„ç†æ–¹æ³•å’Œä¸€ä¸ªåç»§è¿æ¥ã€‚ å…·ä½“å¤„ç†è€…ï¼ˆConcrete Handlerï¼‰è§’è‰²ï¼šå®ç°æŠ½è±¡å¤„ç†è€…çš„å¤„ç†æ–¹æ³•ï¼Œåˆ¤æ–­èƒ½å¦å¤„ç†æœ¬æ¬¡è¯·æ±‚ï¼Œå¦‚æœå¯ä»¥å¤„ç†è¯·æ±‚åˆ™å¤„ç†ï¼Œå¦åˆ™å°†è¯¥è¯·æ±‚è½¬ç»™å®ƒçš„åç»§è€…ã€‚ å®¢æˆ·ç±»ï¼ˆClientï¼‰è§’è‰²ï¼šåˆ›å»ºå¤„ç†é“¾ï¼Œå¹¶å‘é“¾å¤´çš„å…·ä½“å¤„ç†è€…å¯¹è±¡æäº¤è¯·æ±‚ï¼Œå®ƒä¸å…³å¿ƒå¤„ç†ç»†èŠ‚å’Œè¯·æ±‚çš„ä¼ é€’è¿‡ç¨‹ã€‚ è´£ä»»/èŒè´£ é“¾æ¨¡å¼çš„åº”ç”¨åœºæ™¯ï¼š å¤šä¸ªå¯¹è±¡å¯ä»¥å¤„ç†ä¸€ä¸ªè¯·æ±‚ï¼Œä½†å…·ä½“ç”±å“ªä¸ªå¯¹è±¡å¤„ç†è¯¥è¯·æ±‚åœ¨è¿è¡Œæ—¶è‡ªåŠ¨ç¡®å®šã€‚ å¯åŠ¨æ€æŒ‡å®šä¸€ç»„å¯¹è±¡å¤„ç†è¯·æ±‚ï¼Œæˆ–æ·»åŠ æ–°çš„å¤„ç†è€…ã€‚ éœ€è¦åœ¨ä¸æ˜ç¡®æŒ‡å®šè¯·æ±‚å¤„ç†è€…çš„æƒ…å†µä¸‹ï¼Œå‘å¤šä¸ªå¤„ç†è€…ä¸­çš„ä¸€ä¸ªæäº¤è¯·æ±‚ã€‚ JAVAå®ç°ï¼š1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253public class ChainOfResponsibilityPattern { public static void main(String[] args) { //ç»„è£…è´£ä»»é“¾ Handler handler1 = new ConcreteHandler1(); Handler handler2 = new ConcreteHandler2(); handler1.setNext(handler2); //æäº¤è¯·æ±‚ handler1.handleRequest(&quot;two&quot;); }}//æŠ½è±¡å¤„ç†è€…è§’è‰²abstract class Handler { private Handler next; public void setNext(Handler next) { this.next = next; } public Handler getNext() { return next; } //å¤„ç†è¯·æ±‚çš„æ–¹æ³• public abstract void handleRequest(String request);}//å…·ä½“å¤„ç†è€…è§’è‰²1class ConcreteHandler1 extends Handler { @Override public void handleRequest(String request) { if (request.equals(&quot;one&quot;)) { System.out.println(&quot;å…·ä½“å¤„ç†è€…1è´Ÿè´£å¤„ç†è¯¥è¯·æ±‚ï¼&quot;); } else { if (getNext() != null) { getNext().handleRequest(request); } else { System.out.println(&quot;æ²¡æœ‰äººå¤„ç†è¯¥è¯·æ±‚ï¼&quot;); } } }}//å…·ä½“å¤„ç†è€…è§’è‰²2class ConcreteHandler2 extends Handler { @Override public void handleRequest(String request) { if (request.equals(&quot;two&quot;)) { System.out.println(&quot;å…·ä½“å¤„ç†è€…2è´Ÿè´£å¤„ç†è¯¥è¯·æ±‚ï¼&quot;); } else { if (getNext() != null) { getNext().handleRequest(request); } else { System.out.println(&quot;æ²¡æœ‰äººå¤„ç†è¯¥è¯·æ±‚ï¼&quot;); } } }} ã€ŠçŠ¶æ€æ¨¡å¼ State patternã€‹ç‰¹ç‚¹ï¼š å¯¹æœ‰çŠ¶æ€çš„å¯¹è±¡ï¼ŒæŠŠå¤æ‚çš„â€œåˆ¤æ–­é€»è¾‘â€æå–åˆ°ä¸åŒçš„çŠ¶æ€å¯¹è±¡ä¸­ï¼Œå…è®¸çŠ¶æ€å¯¹è±¡åœ¨å…¶å†…éƒ¨çŠ¶æ€å‘ç”Ÿæ”¹å˜æ—¶æ”¹å˜å…¶è¡Œä¸ºã€‚ ä¼˜ç‚¹ï¼š ç»“æ„æ¸…æ™°ï¼ŒçŠ¶æ€æ¨¡å¼å°†ä¸ç‰¹å®šçŠ¶æ€ç›¸å…³çš„è¡Œä¸ºå±€éƒ¨åŒ–åˆ°ä¸€ä¸ªçŠ¶æ€ä¸­ï¼Œå¹¶ä¸”å°†ä¸åŒçŠ¶æ€çš„è¡Œä¸ºåˆ†å‰²å¼€æ¥ï¼Œæ»¡è¶³â€œå•ä¸€èŒè´£åŸåˆ™â€ã€‚ å°†çŠ¶æ€è½¬æ¢æ˜¾ç¤ºåŒ–ï¼Œå‡å°‘å¯¹è±¡é—´çš„ç›¸äº’ä¾èµ–ã€‚å°†ä¸åŒçš„çŠ¶æ€å¼•å…¥ç‹¬ç«‹çš„å¯¹è±¡ä¸­ä¼šä½¿å¾—çŠ¶æ€è½¬æ¢å˜å¾—æ›´åŠ æ˜ç¡®ï¼Œä¸”å‡å°‘å¯¹è±¡é—´çš„ç›¸äº’ä¾èµ–ã€‚ çŠ¶æ€ç±»èŒè´£æ˜ç¡®ï¼Œæœ‰åˆ©äºç¨‹åºçš„æ‰©å±•ã€‚é€šè¿‡å®šä¹‰æ–°çš„å­ç±»å¾ˆå®¹æ˜“åœ°å¢åŠ æ–°çš„çŠ¶æ€å’Œè½¬æ¢ã€‚ ç¼ºç‚¹ï¼š çŠ¶æ€æ¨¡å¼çš„ä½¿ç”¨å¿…ç„¶ä¼šå¢åŠ ç³»ç»Ÿçš„ç±»ä¸å¯¹è±¡çš„ä¸ªæ•°ã€‚ çŠ¶æ€æ¨¡å¼çš„ç»“æ„ä¸å®ç°éƒ½è¾ƒä¸ºå¤æ‚ï¼Œå¦‚æœä½¿ç”¨ä¸å½“ä¼šå¯¼è‡´ç¨‹åºç»“æ„å’Œä»£ç çš„æ··ä¹±ã€‚ çŠ¶æ€æ¨¡å¼å¯¹å¼€é—­åŸåˆ™çš„æ”¯æŒå¹¶ä¸å¤ªå¥½ï¼Œå¯¹äºå¯ä»¥åˆ‡æ¢çŠ¶æ€çš„çŠ¶æ€æ¨¡å¼ï¼Œå¢åŠ æ–°çš„çŠ¶æ€ç±»éœ€è¦ä¿®æ”¹é‚£äº›è´Ÿè´£çŠ¶æ€è½¬æ¢çš„æºç ï¼Œå¦åˆ™æ— æ³•åˆ‡æ¢åˆ°æ–°å¢çŠ¶æ€ï¼Œè€Œä¸”ä¿®æ”¹æŸä¸ªçŠ¶æ€ç±»çš„è¡Œä¸ºä¹Ÿéœ€è¦ä¿®æ”¹å¯¹åº”ç±»çš„æºç ã€‚ è§’è‰²ï¼š ç¯å¢ƒç±»ï¼ˆContextï¼‰è§’è‰²ï¼šä¹Ÿç§°ä¸ºä¸Šä¸‹æ–‡ï¼Œå®ƒå®šä¹‰äº†å®¢æˆ·ç«¯éœ€è¦çš„æ¥å£ï¼Œå†…éƒ¨ç»´æŠ¤ä¸€ä¸ªå½“å‰çŠ¶æ€ï¼Œå¹¶è´Ÿè´£å…·ä½“çŠ¶æ€çš„åˆ‡æ¢ã€‚ æŠ½è±¡çŠ¶æ€ï¼ˆStateï¼‰è§’è‰²ï¼šå®šä¹‰ä¸€ä¸ªæ¥å£ï¼Œç”¨ä»¥å°è£…ç¯å¢ƒå¯¹è±¡ä¸­çš„ç‰¹å®šçŠ¶æ€æ‰€å¯¹åº”çš„è¡Œä¸ºï¼Œå¯ä»¥æœ‰ä¸€ä¸ªæˆ–å¤šä¸ªè¡Œä¸ºã€‚ å…·ä½“çŠ¶æ€ï¼ˆConcrete Stateï¼‰è§’è‰²ï¼šå®ç°æŠ½è±¡çŠ¶æ€æ‰€å¯¹åº”çš„è¡Œä¸ºï¼Œå¹¶ä¸”åœ¨éœ€è¦çš„æƒ…å†µä¸‹è¿›è¡ŒçŠ¶æ€åˆ‡æ¢ã€‚ çŠ¶æ€æ¨¡å¼çš„åº”ç”¨åœºæ™¯ï¼š å½“ä¸€ä¸ªå¯¹è±¡çš„è¡Œä¸ºå–å†³äºå®ƒçš„çŠ¶æ€ï¼Œå¹¶ä¸”å®ƒå¿…é¡»åœ¨è¿è¡Œæ—¶æ ¹æ®çŠ¶æ€æ”¹å˜å®ƒçš„è¡Œä¸ºæ—¶ï¼Œå°±å¯ä»¥è€ƒè™‘ä½¿ç”¨çŠ¶æ€æ¨¡å¼ã€‚ ä¸€ä¸ªæ“ä½œä¸­å«æœ‰åºå¤§çš„åˆ†æ”¯ç»“æ„ï¼Œå¹¶ä¸”è¿™äº›åˆ†æ”¯å†³å®šäºå¯¹è±¡çš„çŠ¶æ€æ—¶ã€‚ JAVAå®ç°ï¼š12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758public class StatePatternClient { public static void main(String[] args) { Context context = new Context(); //åˆ›å»ºç¯å¢ƒ context.Handle(); //å¤„ç†è¯·æ±‚ context.Handle(); context.Handle(); context.Handle(); }}//ç¯å¢ƒç±»class Context { private State state; //å®šä¹‰ç¯å¢ƒç±»çš„åˆå§‹çŠ¶æ€ public Context() { this.state = new ConcreteStateA(); } //è®¾ç½®æ–°çŠ¶æ€ public void setState(State state) { this.state = state; } //è¯»å–çŠ¶æ€ public State getState() { return (state); } //å¯¹è¯·æ±‚åšå¤„ç† public void Handle() { state.Handle(this); }}//æŠ½è±¡çŠ¶æ€ç±»abstract class State { public abstract void Handle(Context context);}//å…·ä½“çŠ¶æ€Aç±»class ConcreteStateA extends State { @Override public void Handle(Context context) { System.out.println(&quot;å½“å‰çŠ¶æ€æ˜¯ A.&quot;); context.setState(new ConcreteStateB()); }}//å…·ä½“çŠ¶æ€Bç±»class ConcreteStateB extends State { @Override public void Handle(Context context) { System.out.println(&quot;å½“å‰çŠ¶æ€æ˜¯ B.&quot;); context.setState(new ConcreteStateA()); }} ã€Šè§‚å¯Ÿè€…æ¨¡å¼ Observer patternã€‹ç‰¹ç‚¹ï¼š æŒ‡å¤šä¸ªå¯¹è±¡é—´å­˜åœ¨ä¸€å¯¹å¤šçš„ä¾èµ–å…³ç³»ï¼Œå½“ä¸€ä¸ªå¯¹è±¡çš„çŠ¶æ€å‘ç”Ÿæ”¹å˜æ—¶ï¼Œæ‰€æœ‰ä¾èµ–äºå®ƒçš„å¯¹è±¡éƒ½å¾—åˆ°é€šçŸ¥å¹¶è¢«è‡ªåŠ¨æ›´æ–°ã€‚è¿™ç§æ¨¡å¼æœ‰æ—¶åˆç§°ä½œå‘å¸ƒ-è®¢é˜…æ¨¡å¼ã€æ¨¡å‹-è§†å›¾æ¨¡å¼ã€‚ ä¼˜ç‚¹ï¼š é™ä½äº†ç›®æ ‡ä¸è§‚å¯Ÿè€…ä¹‹é—´çš„è€¦åˆå…³ç³»ï¼Œä¸¤è€…ä¹‹é—´æ˜¯æŠ½è±¡è€¦åˆå…³ç³»ã€‚ç¬¦åˆä¾èµ–å€’ç½®åŸåˆ™ã€‚ ç›®æ ‡ä¸è§‚å¯Ÿè€…ä¹‹é—´å»ºç«‹äº†ä¸€å¥—è§¦å‘æœºåˆ¶ã€‚ ç¼ºç‚¹ï¼š ç›®æ ‡ä¸è§‚å¯Ÿè€…ä¹‹é—´çš„ä¾èµ–å…³ç³»å¹¶æ²¡æœ‰å®Œå…¨è§£é™¤ï¼Œè€Œä¸”æœ‰å¯èƒ½å‡ºç°å¾ªç¯å¼•ç”¨ã€‚ å½“è§‚å¯Ÿè€…å¯¹è±¡å¾ˆå¤šæ—¶ï¼Œé€šçŸ¥çš„å‘å¸ƒä¼šèŠ±è´¹å¾ˆå¤šæ—¶é—´ï¼Œå½±å“ç¨‹åºçš„æ•ˆç‡ã€‚ è§’è‰²ï¼š æŠ½è±¡ä¸»é¢˜ï¼ˆSubjectï¼‰è§’è‰²ï¼šä¹Ÿå«æŠ½è±¡ç›®æ ‡ç±»ï¼Œå®ƒæä¾›äº†ä¸€ä¸ªç”¨äºä¿å­˜è§‚å¯Ÿè€…å¯¹è±¡çš„èšé›†ç±»å’Œå¢åŠ ã€åˆ é™¤è§‚å¯Ÿè€…å¯¹è±¡çš„æ–¹æ³•ï¼Œä»¥åŠé€šçŸ¥æ‰€æœ‰è§‚å¯Ÿè€…çš„æŠ½è±¡æ–¹æ³•ã€‚ å…·ä½“ä¸»é¢˜ï¼ˆConcrete Subjectï¼‰è§’è‰²ï¼šä¹Ÿå«å…·ä½“ç›®æ ‡ç±»ï¼Œå®ƒå®ç°æŠ½è±¡ç›®æ ‡ä¸­çš„é€šçŸ¥æ–¹æ³•ï¼Œå½“å…·ä½“ä¸»é¢˜çš„å†…éƒ¨çŠ¶æ€å‘ç”Ÿæ”¹å˜æ—¶ï¼Œé€šçŸ¥æ‰€æœ‰æ³¨å†Œè¿‡çš„è§‚å¯Ÿè€…å¯¹è±¡ã€‚ æŠ½è±¡è§‚å¯Ÿè€…ï¼ˆObserverï¼‰è§’è‰²ï¼šå®ƒæ˜¯ä¸€ä¸ªæŠ½è±¡ç±»æˆ–æ¥å£ï¼Œå®ƒåŒ…å«äº†ä¸€ä¸ªæ›´æ–°è‡ªå·±çš„æŠ½è±¡æ–¹æ³•ï¼Œå½“æ¥åˆ°å…·ä½“ä¸»é¢˜çš„æ›´æ”¹é€šçŸ¥æ—¶è¢«è°ƒç”¨ã€‚ å…·ä½“è§‚å¯Ÿè€…ï¼ˆConcrete Observerï¼‰è§’è‰²ï¼šå®ç°æŠ½è±¡è§‚å¯Ÿè€…ä¸­å®šä¹‰çš„æŠ½è±¡æ–¹æ³•ï¼Œä»¥ä¾¿åœ¨å¾—åˆ°ç›®æ ‡çš„æ›´æ”¹é€šçŸ¥æ—¶æ›´æ–°è‡ªèº«çš„çŠ¶æ€ã€‚ è§‚å¯Ÿè€…æ¨¡å¼çš„åº”ç”¨åœºæ™¯ï¼š å¯¹è±¡é—´å­˜åœ¨ä¸€å¯¹å¤šå…³ç³»ï¼Œä¸€ä¸ªå¯¹è±¡çš„çŠ¶æ€å‘ç”Ÿæ”¹å˜ä¼šå½±å“å…¶ä»–å¯¹è±¡ã€‚ å½“ä¸€ä¸ªæŠ½è±¡æ¨¡å‹æœ‰ä¸¤ä¸ªæ–¹é¢ï¼Œå…¶ä¸­ä¸€ä¸ªæ–¹é¢ä¾èµ–äºå¦ä¸€æ–¹é¢æ—¶ï¼Œå¯å°†è¿™äºŒè€…å°è£…åœ¨ç‹¬ç«‹çš„å¯¹è±¡ä¸­ä»¥ä½¿å®ƒä»¬å¯ä»¥å„è‡ªç‹¬ç«‹åœ°æ”¹å˜å’Œå¤ç”¨ã€‚ å®ç°ç±»ä¼¼å¹¿æ’­æœºåˆ¶çš„åŠŸèƒ½ï¼Œä¸éœ€è¦çŸ¥é“å…·ä½“æ”¶å¬è€…ï¼Œåªéœ€åˆ†å‘å¹¿æ’­ï¼Œç³»ç»Ÿä¸­æ„Ÿå…´è¶£çš„å¯¹è±¡ä¼šè‡ªåŠ¨æ¥æ”¶è¯¥å¹¿æ’­ã€‚ å¤šå±‚çº§åµŒå¥—ä½¿ç”¨ï¼Œå½¢æˆä¸€ç§é“¾å¼è§¦å‘æœºåˆ¶ï¼Œä½¿å¾—äº‹ä»¶å…·å¤‡è·¨åŸŸï¼ˆè·¨è¶Šä¸¤ç§è§‚å¯Ÿè€…ç±»å‹ï¼‰é€šçŸ¥ã€‚ JAVAå®ç°ï¼š12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758public class StatePatternClient { public static void main(String[] args) { Context context = new Context(); //åˆ›å»ºç¯å¢ƒ context.Handle(); //å¤„ç†è¯·æ±‚ context.Handle(); context.Handle(); context.Handle(); }}//ç¯å¢ƒç±»class Context { private State state; //å®šä¹‰ç¯å¢ƒç±»çš„åˆå§‹çŠ¶æ€ public Context() { this.state = new ConcreteStateA(); } //è®¾ç½®æ–°çŠ¶æ€ public void setState(State state) { this.state = state; } //è¯»å–çŠ¶æ€ public State getState() { return (state); } //å¯¹è¯·æ±‚åšå¤„ç† public void Handle() { state.Handle(this); }}//æŠ½è±¡çŠ¶æ€ç±»abstract class State { public abstract void Handle(Context context);}//å…·ä½“çŠ¶æ€Aç±»class ConcreteStateA extends State { @Override public void Handle(Context context) { System.out.println(&quot;å½“å‰çŠ¶æ€æ˜¯ A.&quot;); context.setState(new ConcreteStateB()); }}//å…·ä½“çŠ¶æ€Bç±»class ConcreteStateB extends State { @Override public void Handle(Context context) { System.out.println(&quot;å½“å‰çŠ¶æ€æ˜¯ B.&quot;); context.setState(new ConcreteStateA()); }} ã€Šä¸­ä»‹è€…æ¨¡å¼ Mediator Patternã€‹ç‰¹ç‚¹ï¼š å®šä¹‰ä¸€ä¸ªä¸­ä»‹å¯¹è±¡æ¥å°è£…ä¸€ç³»åˆ—å¯¹è±¡ä¹‹é—´çš„äº¤äº’ï¼Œä½¿åŸæœ‰å¯¹è±¡ä¹‹é—´çš„è€¦åˆæ¾æ•£ï¼Œä¸”å¯ä»¥ç‹¬ç«‹åœ°æ”¹å˜å®ƒä»¬ä¹‹é—´çš„äº¤äº’ã€‚ä¸­ä»‹è€…æ¨¡å¼åˆå«è°ƒåœæ¨¡å¼ï¼Œå®ƒæ˜¯è¿ªç±³ç‰¹æ³•åˆ™çš„å…¸å‹åº”ç”¨ã€‚ ä¼˜ç‚¹ï¼š ç±»ä¹‹é—´å„å¸å…¶èŒï¼Œç¬¦åˆè¿ªç±³ç‰¹æ³•åˆ™ã€‚ é™ä½äº†å¯¹è±¡ä¹‹é—´çš„è€¦åˆæ€§ï¼Œä½¿å¾—å¯¹è±¡æ˜“äºç‹¬ç«‹åœ°è¢«å¤ç”¨ã€‚ å°†å¯¹è±¡é—´çš„ä¸€å¯¹å¤šå…³è”è½¬å˜ä¸ºä¸€å¯¹ä¸€çš„å…³è”ï¼Œæé«˜ç³»ç»Ÿçš„çµæ´»æ€§ï¼Œä½¿å¾—ç³»ç»Ÿæ˜“äºç»´æŠ¤å’Œæ‰©å±•ã€‚ ç¼ºç‚¹ï¼š ä¸­ä»‹è€…æ¨¡å¼å°†åŸæœ¬å¤šä¸ªå¯¹è±¡ç›´æ¥çš„ç›¸äº’ä¾èµ–å˜æˆäº†ä¸­ä»‹è€…å’Œå¤šä¸ªåŒäº‹ç±»çš„ä¾èµ–å…³ç³»ã€‚å½“åŒäº‹ç±»è¶Šå¤šæ—¶ï¼Œä¸­ä»‹è€…å°±ä¼šè¶Šè‡ƒè‚¿ï¼Œå˜å¾—å¤æ‚ä¸”éš¾ä»¥ç»´æŠ¤ã€‚ è§’è‰²ï¼š æŠ½è±¡ä¸­ä»‹è€…ï¼ˆMediatorï¼‰è§’è‰²ï¼šå®ƒæ˜¯ä¸­ä»‹è€…çš„æ¥å£ï¼Œæä¾›äº†åŒäº‹å¯¹è±¡æ³¨å†Œä¸è½¬å‘åŒäº‹å¯¹è±¡ä¿¡æ¯çš„æŠ½è±¡æ–¹æ³•ã€‚ å…·ä½“ä¸­ä»‹è€…ï¼ˆConcrete Mediatorï¼‰è§’è‰²ï¼šå®ç°ä¸­ä»‹è€…æ¥å£ï¼Œå®šä¹‰ä¸€ä¸ª List æ¥ç®¡ç†åŒäº‹å¯¹è±¡ï¼Œåè°ƒå„ä¸ªåŒäº‹è§’è‰²ä¹‹é—´çš„äº¤äº’å…³ç³»ï¼Œå› æ­¤å®ƒä¾èµ–äºåŒäº‹è§’è‰²ã€‚ æŠ½è±¡åŒäº‹ç±»ï¼ˆColleagueï¼‰è§’è‰²ï¼šå®šä¹‰åŒäº‹ç±»çš„æ¥å£ï¼Œä¿å­˜ä¸­ä»‹è€…å¯¹è±¡ï¼Œæä¾›åŒäº‹å¯¹è±¡äº¤äº’çš„æŠ½è±¡æ–¹æ³•ï¼Œå®ç°æ‰€æœ‰ç›¸äº’å½±å“çš„åŒäº‹ç±»çš„å…¬å…±åŠŸèƒ½ã€‚ å…·ä½“åŒäº‹ç±»ï¼ˆConcrete Colleagueï¼‰è§’è‰²ï¼šæ˜¯æŠ½è±¡åŒäº‹ç±»çš„å®ç°è€…ï¼Œå½“éœ€è¦ä¸å…¶ä»–åŒäº‹å¯¹è±¡äº¤äº’æ—¶ï¼Œç”±ä¸­ä»‹è€…å¯¹è±¡è´Ÿè´£åç»­çš„äº¤äº’ã€‚ ä¸­ä»‹è€…æ¨¡å¼çš„åº”ç”¨åœºæ™¯ï¼š å½“å¯¹è±¡ä¹‹é—´å­˜åœ¨å¤æ‚çš„ç½‘çŠ¶ç»“æ„å…³ç³»è€Œå¯¼è‡´ä¾èµ–å…³ç³»æ··ä¹±ä¸”éš¾ä»¥å¤ç”¨æ—¶ã€‚ å½“æƒ³åˆ›å»ºä¸€ä¸ªè¿è¡Œäºå¤šä¸ªç±»ä¹‹é—´çš„å¯¹è±¡ï¼Œåˆä¸æƒ³ç”Ÿæˆæ–°çš„å­ç±»æ—¶ JAVAå®ç°ï¼š1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465import java.util.*;public class MediatorPattern { public static void main(String[] args) { Mediator md = new ConcreteMediator(); Colleague c1, c2; c1 = new ConcreteColleague1(); c2 = new ConcreteColleague2(); md.register(c1); md.register(c2); c1.send(); System.out.println(&quot;-------------&quot;); c2.send(); }}//æŠ½è±¡ä¸­ä»‹è€…abstract class Mediator { public abstract void register(Colleague colleague); public abstract void relay(Colleague cl); //è½¬å‘}//å…·ä½“ä¸­ä»‹è€…class ConcreteMediator extends Mediator { private List&lt;Colleague&gt; colleagues = new ArrayList&lt;Colleague&gt;(); public void register(Colleague colleague) { if (!colleagues.contains(colleague)) { colleagues.add(colleague); colleague.setMedium(this); } } public void relay(Colleague cl) { for (Colleague ob : colleagues) { if (!ob.equals(cl)) { ((Colleague) ob).receive(); } } }}//æŠ½è±¡åŒäº‹ç±»abstract class Colleague { protected Mediator mediator; public void setMedium(Mediator mediator) { this.mediator = mediator; } public abstract void receive(); public abstract void send();}//å…·ä½“åŒäº‹ç±»class ConcreteColleague1 extends Colleague { public void receive() { System.out.println(&quot;å…·ä½“åŒäº‹ç±»1æ”¶åˆ°è¯·æ±‚ã€‚&quot;); } public void send() { System.out.println(&quot;å…·ä½“åŒäº‹ç±»1å‘å‡ºè¯·æ±‚ã€‚&quot;); mediator.relay(this); //è¯·ä¸­ä»‹è€…è½¬å‘ }}//å…·ä½“åŒäº‹ç±»class ConcreteColleague2 extends Colleague { public void receive() { System.out.println(&quot;å…·ä½“åŒäº‹ç±»2æ”¶åˆ°è¯·æ±‚ã€‚&quot;); } public void send() { System.out.println(&quot;å…·ä½“åŒäº‹ç±»2å‘å‡ºè¯·æ±‚ã€‚&quot;); mediator.relay(this); //è¯·ä¸­ä»‹è€…è½¬å‘ }} ã€Šè¿­ä»£å™¨æ¨¡å¼ Iterator Patternã€‹ç‰¹ç‚¹ï¼š æä¾›ä¸€ä¸ªå¯¹è±¡æ¥é¡ºåºè®¿é—®èšåˆå¯¹è±¡ä¸­çš„ä¸€ç³»åˆ—æ•°æ®ï¼Œè€Œä¸æš´éœ²èšåˆå¯¹è±¡çš„å†…éƒ¨è¡¨ç¤ºã€‚ ä¼˜ç‚¹ï¼š è®¿é—®ä¸€ä¸ªèšåˆå¯¹è±¡çš„å†…å®¹è€Œæ— é¡»æš´éœ²å®ƒçš„å†…éƒ¨è¡¨ç¤ºã€‚ éå†ä»»åŠ¡äº¤ç”±è¿­ä»£å™¨å®Œæˆï¼Œè¿™ç®€åŒ–äº†èšåˆç±»ã€‚ å®ƒæ”¯æŒä»¥ä¸åŒæ–¹å¼éå†ä¸€ä¸ªèšåˆï¼Œç”šè‡³å¯ä»¥è‡ªå®šä¹‰è¿­ä»£å™¨çš„å­ç±»ä»¥æ”¯æŒæ–°çš„éå†ã€‚ å¢åŠ æ–°çš„èšåˆç±»å’Œè¿­ä»£å™¨ç±»éƒ½å¾ˆæ–¹ä¾¿ï¼Œæ— é¡»ä¿®æ”¹åŸæœ‰ä»£ç ã€‚ å°è£…æ€§è‰¯å¥½ï¼Œä¸ºéå†ä¸åŒçš„èšåˆç»“æ„æä¾›ä¸€ä¸ªç»Ÿä¸€çš„æ¥å£ã€‚ ç¼ºç‚¹ï¼š å¢åŠ äº†ç±»çš„ä¸ªæ•°ï¼Œè¿™åœ¨ä¸€å®šç¨‹åº¦ä¸Šå¢åŠ äº†ç³»ç»Ÿçš„å¤æ‚æ€§ã€‚ è§’è‰²ï¼š æŠ½è±¡èšåˆï¼ˆAggregateï¼‰è§’è‰²ï¼šå®šä¹‰å­˜å‚¨ã€æ·»åŠ ã€åˆ é™¤èšåˆå¯¹è±¡ä»¥åŠåˆ›å»ºè¿­ä»£å™¨å¯¹è±¡çš„æ¥å£ã€‚ å…·ä½“èšåˆï¼ˆConcreteAggregateï¼‰è§’è‰²ï¼šå®ç°æŠ½è±¡èšåˆç±»ï¼Œè¿”å›ä¸€ä¸ªå…·ä½“è¿­ä»£å™¨çš„å®ä¾‹ã€‚ æŠ½è±¡è¿­ä»£å™¨ï¼ˆIteratorï¼‰è§’è‰²ï¼šå®šä¹‰è®¿é—®å’Œéå†èšåˆå…ƒç´ çš„æ¥å£ï¼Œé€šå¸¸åŒ…å« hasNext()ã€first()ã€next() ç­‰æ–¹æ³•ã€‚ å…·ä½“è¿­ä»£å™¨ï¼ˆConcretelteratorï¼‰è§’è‰²ï¼šå®ç°æŠ½è±¡è¿­ä»£å™¨æ¥å£ä¸­æ‰€å®šä¹‰çš„æ–¹æ³•ï¼Œå®Œæˆå¯¹èšåˆå¯¹è±¡çš„éå†ï¼Œè®°å½•éå†çš„å½“å‰ä½ç½®ã€‚ ä¸­ä»‹è€…æ¨¡å¼çš„åº”ç”¨åœºæ™¯ï¼š å½“éœ€è¦ä¸ºèšåˆå¯¹è±¡æä¾›å¤šç§éå†æ–¹å¼æ—¶ã€‚ å½“éœ€è¦ä¸ºéå†ä¸åŒçš„èšåˆç»“æ„æä¾›ä¸€ä¸ªç»Ÿä¸€çš„æ¥å£æ—¶ã€‚ å½“è®¿é—®ä¸€ä¸ªèšåˆå¯¹è±¡çš„å†…å®¹è€Œæ— é¡»æš´éœ²å…¶å†…éƒ¨ç»†èŠ‚çš„è¡¨ç¤ºæ—¶ã€‚ JAVAå®ç°ï¼š1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677import java.util.*;public class IteratorPattern { public static void main(String[] args) { Aggregate ag = new ConcreteAggregate(); ag.add(&quot;ä¸­å±±å¤§å­¦&quot;); ag.add(&quot;åå—ç†å·¥&quot;); ag.add(&quot;éŸ¶å…³å­¦é™¢&quot;); System.out.print(&quot;èšåˆçš„å†…å®¹æœ‰ï¼š&quot;); Iterator it = ag.getIterator(); while (it.hasNext()) { Object ob = it.next(); System.out.print(ob.toString() + &quot;\\t&quot;); } Object ob = it.first(); System.out.println(&quot;\\nFirstï¼š&quot; + ob.toString()); }}//æŠ½è±¡èšåˆ å®šä¹‰å­˜å‚¨ã€æ·»åŠ ã€åˆ é™¤èšåˆå¯¹è±¡ä»¥åŠåˆ›å»ºè¿­ä»£å™¨å¯¹è±¡çš„æ¥å£ã€‚interface Aggregate { public void add(Object obj); public void remove(Object obj); public Iterator getIterator();}//å…·ä½“èšåˆ å®ç°æŠ½è±¡èšåˆç±»ï¼Œè¿”å›ä¸€ä¸ªå…·ä½“è¿­ä»£å™¨çš„å®ä¾‹ã€‚class ConcreteAggregate implements Aggregate { private List&lt;Object&gt; list = new ArrayList&lt;Object&gt;(); @Override public void add(Object obj) { list.add(obj); } @Override public void remove(Object obj) { list.remove(obj); } @Override public Iterator getIterator() { return (new ConcreteIterator(list)); }}//æŠ½è±¡è¿­ä»£å™¨interface Iterator { Object first(); Object next(); boolean hasNext();}//å…·ä½“è¿­ä»£å™¨class ConcreteIterator implements Iterator { private List&lt;Object&gt; list = null; private int index = -1; public ConcreteIterator(List&lt;Object&gt; list) { this.list = list; } @Override public boolean hasNext() { if (index &lt; list.size() - 1) { return true; } else { return false; } } @Override public Object first() { index = 0; Object obj = list.get(index); ; return obj; } @Override public Object next() { Object obj = null; if (this.hasNext()) { obj = list.get(++index); } return obj; }} ã€Šè®¿é—®è€…æ¨¡å¼ Visitor Patternã€‹ç‰¹ç‚¹ï¼š å°†ä½œç”¨äºæŸç§æ•°æ®ç»“æ„ä¸­çš„å„å…ƒç´ çš„æ“ä½œåˆ†ç¦»å‡ºæ¥å°è£…æˆç‹¬ç«‹çš„ç±»ï¼Œä½¿å…¶åœ¨ä¸æ”¹å˜æ•°æ®ç»“æ„çš„å‰æä¸‹å¯ä»¥æ·»åŠ ä½œç”¨äºè¿™äº›å…ƒç´ çš„æ–°çš„æ“ä½œï¼Œä¸ºæ•°æ®ç»“æ„ä¸­çš„æ¯ä¸ªå…ƒç´ æä¾›å¤šç§è®¿é—®æ–¹å¼ã€‚å®ƒå°†å¯¹æ•°æ®çš„æ“ä½œä¸æ•°æ®ç»“æ„è¿›è¡Œåˆ†ç¦»ï¼Œæ˜¯è¡Œä¸ºç±»æ¨¡å¼ä¸­æœ€å¤æ‚çš„ä¸€ç§æ¨¡å¼ã€‚ ä¼˜ç‚¹ï¼š æ‰©å±•æ€§å¥½ã€‚èƒ½å¤Ÿåœ¨ä¸ä¿®æ”¹å¯¹è±¡ç»“æ„ä¸­çš„å…ƒç´ çš„æƒ…å†µä¸‹ï¼Œä¸ºå¯¹è±¡ç»“æ„ä¸­çš„å…ƒç´ æ·»åŠ æ–°çš„åŠŸèƒ½ã€‚ å¤ç”¨æ€§å¥½ã€‚å¯ä»¥é€šè¿‡è®¿é—®è€…æ¥å®šä¹‰æ•´ä¸ªå¯¹è±¡ç»“æ„é€šç”¨çš„åŠŸèƒ½ï¼Œä»è€Œæé«˜ç³»ç»Ÿçš„å¤ç”¨ç¨‹åº¦ã€‚ çµæ´»æ€§å¥½ã€‚è®¿é—®è€…æ¨¡å¼å°†æ•°æ®ç»“æ„ä¸ä½œç”¨äºç»“æ„ä¸Šçš„æ“ä½œè§£è€¦ï¼Œä½¿å¾—æ“ä½œé›†åˆå¯ç›¸å¯¹è‡ªç”±åœ°æ¼”åŒ–è€Œä¸å½±å“ç³»ç»Ÿçš„æ•°æ®ç»“æ„ã€‚ ç¬¦åˆå•ä¸€èŒè´£åŸåˆ™ã€‚è®¿é—®è€…æ¨¡å¼æŠŠç›¸å…³çš„è¡Œä¸ºå°è£…åœ¨ä¸€èµ·ï¼Œæ„æˆä¸€ä¸ªè®¿é—®è€…ï¼Œä½¿æ¯ä¸€ä¸ªè®¿é—®è€…çš„åŠŸèƒ½éƒ½æ¯”è¾ƒå•ä¸€ã€‚ ç¼ºç‚¹ï¼š å¢åŠ æ–°çš„å…ƒç´ ç±»å¾ˆå›°éš¾ã€‚åœ¨è®¿é—®è€…æ¨¡å¼ä¸­ï¼Œæ¯å¢åŠ ä¸€ä¸ªæ–°çš„å…ƒç´ ç±»ï¼Œéƒ½è¦åœ¨æ¯ä¸€ä¸ªå…·ä½“è®¿é—®è€…ç±»ä¸­å¢åŠ ç›¸åº”çš„å…·ä½“æ“ä½œï¼Œè¿™è¿èƒŒäº†â€œå¼€é—­åŸåˆ™â€ã€‚ ç ´åå°è£…ã€‚è®¿é—®è€…æ¨¡å¼ä¸­å…·ä½“å…ƒç´ å¯¹è®¿é—®è€…å…¬å¸ƒç»†èŠ‚ï¼Œè¿™ç ´åäº†å¯¹è±¡çš„å°è£…æ€§ã€‚ è¿åäº†ä¾èµ–å€’ç½®åŸåˆ™ã€‚è®¿é—®è€…æ¨¡å¼ä¾èµ–äº†å…·ä½“ç±»ï¼Œè€Œæ²¡æœ‰ä¾èµ–æŠ½è±¡ç±»ã€‚ è§’è‰²ï¼š æŠ½è±¡è®¿é—®è€…ï¼ˆVisitorï¼‰è§’è‰²ï¼šå®šä¹‰ä¸€ä¸ªè®¿é—®å…·ä½“å…ƒç´ çš„æ¥å£ï¼Œä¸ºæ¯ä¸ªå…·ä½“å…ƒç´ ç±»å¯¹åº”ä¸€ä¸ªè®¿é—®æ“ä½œ visit() ï¼Œè¯¥æ“ä½œä¸­çš„å‚æ•°ç±»å‹æ ‡è¯†äº†è¢«è®¿é—®çš„å…·ä½“å…ƒç´ ã€‚ å…·ä½“è®¿é—®è€…ï¼ˆConcreteVisitorï¼‰è§’è‰²ï¼šå®ç°æŠ½è±¡è®¿é—®è€…è§’è‰²ä¸­å£°æ˜çš„å„ä¸ªè®¿é—®æ“ä½œï¼Œç¡®å®šè®¿é—®è€…è®¿é—®ä¸€ä¸ªå…ƒç´ æ—¶è¯¥åšä»€ä¹ˆã€‚ æŠ½è±¡å…ƒç´ ï¼ˆElementï¼‰è§’è‰²ï¼šå£°æ˜ä¸€ä¸ªåŒ…å«æ¥å—æ“ä½œ accept() çš„æ¥å£ï¼Œè¢«æ¥å—çš„è®¿é—®è€…å¯¹è±¡ä½œä¸º accept() æ–¹æ³•çš„å‚æ•°ã€‚ å…·ä½“å…ƒç´ ï¼ˆConcreteElementï¼‰è§’è‰²ï¼šå®ç°æŠ½è±¡å…ƒç´ è§’è‰²æä¾›çš„ accept() æ“ä½œï¼Œå…¶æ–¹æ³•ä½“é€šå¸¸éƒ½æ˜¯ visitor.visit(this) ï¼Œå¦å¤–å…·ä½“å…ƒç´ ä¸­å¯èƒ½è¿˜åŒ…å«æœ¬èº«ä¸šåŠ¡é€»è¾‘çš„ç›¸å…³æ“ä½œã€‚ å¯¹è±¡ç»“æ„ï¼ˆObject Structureï¼‰è§’è‰²ï¼šæ˜¯ä¸€ä¸ªåŒ…å«å…ƒç´ è§’è‰²çš„å®¹å™¨ï¼Œæä¾›è®©è®¿é—®è€…å¯¹è±¡éå†å®¹å™¨ä¸­çš„æ‰€æœ‰å…ƒç´ çš„æ–¹æ³•ï¼Œé€šå¸¸ç”± Listã€Setã€Map ç­‰èšåˆç±»å®ç°ã€‚ è®¿é—®è€…æ¨¡å¼çš„åº”ç”¨åœºæ™¯ï¼š å¯¹è±¡ç»“æ„ç›¸å¯¹ç¨³å®šï¼Œä½†å…¶æ“ä½œç®—æ³•ç»å¸¸å˜åŒ–çš„ç¨‹åºã€‚ å¯¹è±¡ç»“æ„ä¸­çš„å¯¹è±¡éœ€è¦æä¾›å¤šç§ä¸åŒä¸”ä¸ç›¸å…³çš„æ“ä½œï¼Œè€Œä¸”è¦é¿å…è®©è¿™äº›æ“ä½œçš„å˜åŒ–å½±å“å¯¹è±¡çš„ç»“æ„ã€‚ å¯¹è±¡ç»“æ„åŒ…å«å¾ˆå¤šç±»å‹çš„å¯¹è±¡ï¼Œå¸Œæœ›å¯¹è¿™äº›å¯¹è±¡å®æ–½ä¸€äº›ä¾èµ–äºå…¶å…·ä½“ç±»å‹çš„æ“ä½œã€‚ JAVAå®ç°ï¼š1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374import java.util.*;public class VisitorPattern { public static void main(String[] args) { ObjectStructure os = new ObjectStructure(); os.add(new ConcreteElementA()); os.add(new ConcreteElementB()); Visitor visitor = new ConcreteVisitorA(); os.accept(visitor); System.out.println(&quot;------------------------&quot;); visitor = new ConcreteVisitorB(); os.accept(visitor); }}//æŠ½è±¡è®¿é—®è€…interface Visitor { void visit(ConcreteElementA element); void visit(ConcreteElementB element);}//å…·ä½“è®¿é—®è€…Aç±»class ConcreteVisitorA implements Visitor { public void visit(ConcreteElementA element) { System.out.println(&quot;å…·ä½“è®¿é—®è€…Aè®¿é—®--&gt;&quot; + element.operationA()); } public void visit(ConcreteElementB element) { System.out.println(&quot;å…·ä½“è®¿é—®è€…Aè®¿é—®--&gt;&quot; + element.operationB()); }}//å…·ä½“è®¿é—®è€…Bç±»class ConcreteVisitorB implements Visitor { public void visit(ConcreteElementA element) { System.out.println(&quot;å…·ä½“è®¿é—®è€…Bè®¿é—®--&gt;&quot; + element.operationA()); } public void visit(ConcreteElementB element) { System.out.println(&quot;å…·ä½“è®¿é—®è€…Bè®¿é—®--&gt;&quot; + element.operationB()); }}//æŠ½è±¡å…ƒç´ ç±»interface Element { void accept(Visitor visitor);}//å…·ä½“å…ƒç´ Aç±»class ConcreteElementA implements Element { public void accept(Visitor visitor) { visitor.visit(this); } public String operationA() { return &quot;å…·ä½“å…ƒç´ Açš„æ“ä½œã€‚&quot;; }}//å…·ä½“å…ƒç´ Bç±»class ConcreteElementB implements Element { public void accept(Visitor visitor) { visitor.visit(this); } public String operationB() { return &quot;å…·ä½“å…ƒç´ Bçš„æ“ä½œã€‚&quot;; }}//å¯¹è±¡ç»“æ„è§’è‰²class ObjectStructure { private List&lt;Element&gt; list = new ArrayList&lt;Element&gt;(); public void accept(Visitor visitor) { Iterator&lt;Element&gt; i = list.iterator(); while (i.hasNext()) { ((Element) i.next()).accept(visitor); } } public void add(Element element) { list.add(element); } public void remove(Element element) { list.remove(element); }} ã€Šå¤‡å¿˜å½•/å¿«ç…§ æ¨¡å¼ Memento Patternã€‹ç‰¹ç‚¹ï¼š åœ¨ä¸ç ´åå°è£…æ€§çš„å‰æä¸‹ï¼Œæ•è·ä¸€ä¸ªå¯¹è±¡çš„å†…éƒ¨çŠ¶æ€ï¼Œå¹¶åœ¨è¯¥å¯¹è±¡ä¹‹å¤–ä¿å­˜è¿™ä¸ªçŠ¶æ€ï¼Œä»¥ä¾¿ä»¥åå½“éœ€è¦æ—¶èƒ½å°†è¯¥å¯¹è±¡æ¢å¤åˆ°åŸå…ˆä¿å­˜çš„çŠ¶æ€ã€‚è¯¥æ¨¡å¼åˆå«å¿«ç…§æ¨¡å¼ã€‚ ä¼˜ç‚¹ï¼š æä¾›äº†ä¸€ç§å¯ä»¥æ¢å¤çŠ¶æ€çš„æœºåˆ¶ã€‚å½“ç”¨æˆ·éœ€è¦æ—¶èƒ½å¤Ÿæ¯”è¾ƒæ–¹ä¾¿åœ°å°†æ•°æ®æ¢å¤åˆ°æŸä¸ªå†å²çš„çŠ¶æ€ã€‚ å®ç°äº†å†…éƒ¨çŠ¶æ€çš„å°è£…ã€‚é™¤äº†åˆ›å»ºå®ƒçš„å‘èµ·äººä¹‹å¤–ï¼Œå…¶ä»–å¯¹è±¡éƒ½ä¸èƒ½å¤Ÿè®¿é—®è¿™äº›çŠ¶æ€ä¿¡æ¯ã€‚ ç®€åŒ–äº†å‘èµ·äººç±»ã€‚å‘èµ·äººä¸éœ€è¦ç®¡ç†å’Œä¿å­˜å…¶å†…éƒ¨çŠ¶æ€çš„å„ä¸ªå¤‡ä»½ï¼Œæ‰€æœ‰çŠ¶æ€ä¿¡æ¯éƒ½ä¿å­˜åœ¨å¤‡å¿˜å½•ä¸­ï¼Œå¹¶ç”±ç®¡ç†è€…è¿›è¡Œç®¡ç†ï¼Œè¿™ç¬¦åˆå•ä¸€èŒè´£åŸåˆ™ã€‚ ç¼ºç‚¹ï¼š èµ„æºæ¶ˆè€—å¤§ã€‚å¦‚æœè¦ä¿å­˜çš„å†…éƒ¨çŠ¶æ€ä¿¡æ¯è¿‡å¤šæˆ–è€…ç‰¹åˆ«é¢‘ç¹ï¼Œå°†ä¼šå ç”¨æ¯”è¾ƒå¤§çš„å†…å­˜èµ„æºã€‚ è§’è‰²ï¼š å‘èµ·äººï¼ˆOriginatorï¼‰è§’è‰²ï¼šè®°å½•å½“å‰æ—¶åˆ»çš„å†…éƒ¨çŠ¶æ€ä¿¡æ¯ï¼Œæä¾›åˆ›å»ºå¤‡å¿˜å½•å’Œæ¢å¤å¤‡å¿˜å½•æ•°æ®çš„åŠŸèƒ½ï¼Œå®ç°å…¶ä»–ä¸šåŠ¡åŠŸèƒ½ï¼Œå®ƒå¯ä»¥è®¿é—®å¤‡å¿˜å½•é‡Œçš„æ‰€æœ‰ä¿¡æ¯ã€‚ å¤‡å¿˜å½•ï¼ˆMementoï¼‰è§’è‰²ï¼šè´Ÿè´£å­˜å‚¨å‘èµ·äººçš„å†…éƒ¨çŠ¶æ€ï¼Œåœ¨éœ€è¦çš„æ—¶å€™æä¾›è¿™äº›å†…éƒ¨çŠ¶æ€ç»™å‘èµ·äººã€‚ ç®¡ç†è€…ï¼ˆCaretakerï¼‰è§’è‰²ï¼šå¯¹å¤‡å¿˜å½•è¿›è¡Œç®¡ç†ï¼Œæä¾›ä¿å­˜ä¸è·å–å¤‡å¿˜å½•çš„åŠŸèƒ½ï¼Œä½†å…¶ä¸èƒ½å¯¹å¤‡å¿˜å½•çš„å†…å®¹è¿›è¡Œè®¿é—®ä¸ä¿®æ”¹ã€‚ å¤‡å¿˜å½•/å¿«ç…§ æ¨¡å¼çš„åº”ç”¨åœºæ™¯ï¼š JAVAå®ç°ï¼š 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152public class MementoPattern { public static void main(String[] args) { Originator or = new Originator(); Caretaker cr = new Caretaker(); or.setState(&quot;S0&quot;); System.out.println(&quot;åˆå§‹çŠ¶æ€:&quot; + or.getState()); cr.setMemento(or.createMemento()); //ä¿å­˜çŠ¶æ€ or.setState(&quot;S1&quot;); System.out.println(&quot;æ–°çš„çŠ¶æ€:&quot; + or.getState()); or.restoreMemento(cr.getMemento()); //æ¢å¤çŠ¶æ€ System.out.println(&quot;æ¢å¤çŠ¶æ€:&quot; + or.getState()); }}//å¤‡å¿˜å½•class Memento { private String state; public Memento(String state) { this.state = state; } public void setState(String state) { this.state = state; } public String getState() { return state; }}//å‘èµ·äººclass Originator { private String state; public void setState(String state) { this.state = state; } public String getState() { return state; } public Memento createMemento() { return new Memento(state); } public void restoreMemento(Memento m) { this.setState(m.getState()); }}//ç®¡ç†è€…class Caretaker { private Memento memento; public void setMemento(Memento m) { memento = m; } public Memento getMemento() { return memento; }} ã€Šè§£é‡Šå™¨æ¨¡å¼ Interpreter Patternã€‹ç‰¹ç‚¹ï¼š ç»™åˆ†æå¯¹è±¡å®šä¹‰ä¸€ä¸ªè¯­è¨€ï¼Œå¹¶å®šä¹‰è¯¥è¯­è¨€çš„æ–‡æ³•è¡¨ç¤ºï¼Œå†è®¾è®¡ä¸€ä¸ªè§£æå™¨æ¥è§£é‡Šè¯­è¨€ä¸­çš„å¥å­ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œç”¨ç¼–è¯‘è¯­è¨€çš„æ–¹å¼æ¥åˆ†æåº”ç”¨ä¸­çš„å®ä¾‹ã€‚è¿™ç§æ¨¡å¼å®ç°äº†æ–‡æ³•è¡¨è¾¾å¼å¤„ç†çš„æ¥å£ï¼Œè¯¥æ¥å£è§£é‡Šä¸€ä¸ªç‰¹å®šçš„ä¸Šä¸‹æ–‡ã€‚ ä¼˜ç‚¹ï¼š æ‰©å±•æ€§å¥½ã€‚ç”±äºåœ¨è§£é‡Šå™¨æ¨¡å¼ä¸­ä½¿ç”¨ç±»æ¥è¡¨ç¤ºè¯­è¨€çš„æ–‡æ³•è§„åˆ™ï¼Œå› æ­¤å¯ä»¥é€šè¿‡ç»§æ‰¿ç­‰æœºåˆ¶æ¥æ”¹å˜æˆ–æ‰©å±•æ–‡æ³•ã€‚ å®¹æ˜“å®ç°ã€‚åœ¨è¯­æ³•æ ‘ä¸­çš„æ¯ä¸ªè¡¨è¾¾å¼èŠ‚ç‚¹ç±»éƒ½æ˜¯ç›¸ä¼¼çš„ï¼Œæ‰€ä»¥å®ç°å…¶æ–‡æ³•è¾ƒä¸ºå®¹æ˜“ã€‚ ç¼ºç‚¹ï¼š æ‰§è¡Œæ•ˆç‡è¾ƒä½ã€‚è§£é‡Šå™¨æ¨¡å¼ä¸­é€šå¸¸ä½¿ç”¨å¤§é‡çš„å¾ªç¯å’Œé€’å½’è°ƒç”¨ï¼Œå½“è¦è§£é‡Šçš„å¥å­è¾ƒå¤æ‚æ—¶ï¼Œå…¶è¿è¡Œé€Ÿåº¦å¾ˆæ…¢ï¼Œä¸”ä»£ç çš„è°ƒè¯•è¿‡ç¨‹ä¹Ÿæ¯”è¾ƒéº»çƒ¦ã€‚ ä¼šå¼•èµ·ç±»è†¨èƒ€ã€‚è§£é‡Šå™¨æ¨¡å¼ä¸­çš„æ¯æ¡è§„åˆ™è‡³å°‘éœ€è¦å®šä¹‰ä¸€ä¸ªç±»ï¼Œå½“åŒ…å«çš„æ–‡æ³•è§„åˆ™å¾ˆå¤šæ—¶ï¼Œç±»çš„ä¸ªæ•°å°†æ€¥å‰§å¢åŠ ï¼Œå¯¼è‡´ç³»ç»Ÿéš¾ä»¥ç®¡ç†ä¸ç»´æŠ¤ã€‚ å¯åº”ç”¨çš„åœºæ™¯æ¯”è¾ƒå°‘ã€‚åœ¨è½¯ä»¶å¼€å‘ä¸­ï¼Œéœ€è¦å®šä¹‰è¯­è¨€æ–‡æ³•çš„åº”ç”¨å®ä¾‹éå¸¸å°‘ï¼Œæ‰€ä»¥è¿™ç§æ¨¡å¼å¾ˆå°‘è¢«ä½¿ç”¨åˆ°ã€‚ è§’è‰²ï¼š æ–‡æ³•ï¼ˆä¸»è°“å®¾ï¼‰ã€å¥å­ã€è¯­æ³•æ ‘ æŠ½è±¡è¡¨è¾¾å¼ï¼ˆAbstract Expressionï¼‰è§’è‰²ï¼šå®šä¹‰è§£é‡Šå™¨çš„æ¥å£ï¼Œçº¦å®šè§£é‡Šå™¨çš„è§£é‡Šæ“ä½œï¼Œä¸»è¦åŒ…å«è§£é‡Šæ–¹æ³• interpret()ã€‚ ç»ˆç»“ç¬¦è¡¨è¾¾å¼ï¼ˆTerminal Expressionï¼‰è§’è‰²ï¼šæ˜¯æŠ½è±¡è¡¨è¾¾å¼çš„å­ç±»ï¼Œç”¨æ¥å®ç°æ–‡æ³•ä¸­ä¸ç»ˆç»“ç¬¦ç›¸å…³çš„æ“ä½œï¼Œæ–‡æ³•ä¸­çš„æ¯ä¸€ä¸ªç»ˆç»“ç¬¦éƒ½æœ‰ä¸€ä¸ªå…·ä½“ç»ˆç»“è¡¨è¾¾å¼ä¸ä¹‹ç›¸å¯¹åº”ã€‚ éç»ˆç»“ç¬¦è¡¨è¾¾å¼ï¼ˆNonterminal Expressionï¼‰è§’è‰²ï¼šä¹Ÿæ˜¯æŠ½è±¡è¡¨è¾¾å¼çš„å­ç±»ï¼Œç”¨æ¥å®ç°æ–‡æ³•ä¸­ä¸éç»ˆç»“ç¬¦ç›¸å…³çš„æ“ä½œï¼Œæ–‡æ³•ä¸­çš„æ¯æ¡è§„åˆ™éƒ½å¯¹åº”äºä¸€ä¸ªéç»ˆç»“ç¬¦è¡¨è¾¾å¼ã€‚ ç¯å¢ƒï¼ˆContextï¼‰è§’è‰²ï¼šé€šå¸¸åŒ…å«å„ä¸ªè§£é‡Šå™¨éœ€è¦çš„æ•°æ®æˆ–æ˜¯å…¬å…±çš„åŠŸèƒ½ï¼Œä¸€èˆ¬ç”¨æ¥ä¼ é€’è¢«æ‰€æœ‰è§£é‡Šå™¨å…±äº«çš„æ•°æ®ï¼Œåé¢çš„è§£é‡Šå™¨å¯ä»¥ä»è¿™é‡Œè·å–è¿™äº›å€¼ã€‚ å®¢æˆ·ç«¯ï¼ˆClientï¼‰ï¼šä¸»è¦ä»»åŠ¡æ˜¯å°†éœ€è¦åˆ†æçš„å¥å­æˆ–è¡¨è¾¾å¼è½¬æ¢æˆä½¿ç”¨è§£é‡Šå™¨å¯¹è±¡æè¿°çš„æŠ½è±¡è¯­æ³•æ ‘ï¼Œç„¶åè°ƒç”¨è§£é‡Šå™¨çš„è§£é‡Šæ–¹æ³•ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥é€šè¿‡ç¯å¢ƒè§’è‰²é—´æ¥è®¿é—®è§£é‡Šå™¨çš„è§£é‡Šæ–¹æ³•ã€‚ è§£é‡Šå™¨æ¨¡å¼çš„åº”ç”¨åœºæ™¯ï¼š å½“è¯­è¨€çš„æ–‡æ³•è¾ƒä¸ºç®€å•ï¼Œä¸”æ‰§è¡Œæ•ˆç‡ä¸æ˜¯å…³é”®é—®é¢˜æ—¶ã€‚ å½“é—®é¢˜é‡å¤å‡ºç°ï¼Œä¸”å¯ä»¥ç”¨ä¸€ç§ç®€å•çš„è¯­è¨€æ¥è¿›è¡Œè¡¨è¾¾æ—¶ã€‚ å½“ä¸€ä¸ªè¯­è¨€éœ€è¦è§£é‡Šæ‰§è¡Œï¼Œå¹¶ä¸”è¯­è¨€ä¸­çš„å¥å­å¯ä»¥è¡¨ç¤ºä¸ºä¸€ä¸ªæŠ½è±¡è¯­æ³•æ ‘çš„æ—¶å€™ï¼Œå¦‚ XML æ–‡æ¡£è§£é‡Šã€‚ JAVAå®ç°ï¼š12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667import java.util.*;/*æ–‡æ³•è§„åˆ™ &lt;expression&gt; ::= &lt;city&gt;çš„&lt;person&gt; &lt;city&gt; ::= éŸ¶å…³|å¹¿å· &lt;person&gt; ::= è€äºº|å¦‡å¥³|å„¿ç«¥*/public class InterpreterPatternDemo { public static void main(String[] args) { Context bus = new Context(); bus.freeRide(&quot;éŸ¶å…³çš„è€äºº&quot;); bus.freeRide(&quot;éŸ¶å…³çš„å¹´è½»äºº&quot;); bus.freeRide(&quot;å¹¿å·çš„å¦‡å¥³&quot;); bus.freeRide(&quot;å¹¿å·çš„å„¿ç«¥&quot;); bus.freeRide(&quot;å±±ä¸œçš„å„¿ç«¥&quot;); }}//æŠ½è±¡è¡¨è¾¾å¼ç±»interface Expression { public boolean interpret(String info);}//ç»ˆç»“ç¬¦è¡¨è¾¾å¼ç±»class TerminalExpression implements Expression { private Set&lt;String&gt; set = new HashSet&lt;String&gt;(); public TerminalExpression(String[] data) { for (int i = 0; i &lt; data.length; i++) set.add(data[i]); } @Override public boolean interpret(String info) { if (set.contains(info)) { return true; } return false; }}//éç»ˆç»“ç¬¦è¡¨è¾¾å¼ç±»class AndExpression implements Expression { private Expression city = null; private Expression person = null; public AndExpression(Expression city, Expression person) { this.city = city; this.person = person; } @Override public boolean interpret(String info) { String s[] = info.split(&quot;çš„&quot;); return city.interpret(s[0]) &amp;&amp; person.interpret(s[1]); }}//ç¯å¢ƒç±»class Context { private String[] citys = {&quot;éŸ¶å…³&quot;, &quot;å¹¿å·&quot;}; private String[] persons = {&quot;è€äºº&quot;, &quot;å¦‡å¥³&quot;, &quot;å„¿ç«¥&quot;}; private Expression cityPerson; public Context() { Expression city = new TerminalExpression(citys); Expression person = new TerminalExpression(persons); cityPerson = new AndExpression(city, person); } public void freeRide(String info) { boolean ok = cityPerson.interpret(info); if (ok) { System.out.println(&quot;æ‚¨æ˜¯&quot; + info + &quot;ï¼Œæ‚¨æœ¬æ¬¡ä¹˜è½¦å…è´¹ï¼&quot;); } else { System.out.println(info + &quot;ï¼Œæ‚¨ä¸æ˜¯å…è´¹äººå‘˜ï¼Œæœ¬æ¬¡ä¹˜è½¦æ‰£è´¹2å…ƒï¼&quot;); } }} å…¨æ¨¡å¼æ€»ç»“ ä¸€å¥è¯å…¨æ¨¡å¼æ€»ç»“ åˆ†ç±» è®¾è®¡æ¨¡å¼ ç®€è¿° ä¸€å¥è¯å½’çº³ ç›®çš„ ç”Ÿæ´»æ¡ˆä¾‹ åˆ›å»ºå‹è®¾è®¡æ¨¡å¼ ï¼ˆç®€å•æ¥è¯´å°±æ˜¯ç”¨æ¥åˆ›å»ºå¯¹è±¡çš„ï¼‰ å·¥å‚æ¨¡å¼ï¼ˆFactory Patternï¼‰ ä¸åŒæ¡ä»¶ä¸‹åˆ›å»ºä¸åŒå®ä¾‹ äº§å“æ ‡å‡†åŒ–ï¼Œç”Ÿäº§æ›´é«˜æ•ˆ å°è£…åˆ›å»ºç»†èŠ‚ å®ä½“å·¥å‚ å•ä¾‹æ¨¡å¼ï¼ˆSingleton Patternï¼‰ ä¿è¯ä¸€ä¸ªç±»ä»…æœ‰ä¸€ä¸ªå®ä¾‹ï¼Œå¹¶ä¸”æä¾›ä¸€ä¸ªå…¨å±€è®¿é—®ç‚¹ ä¸–ä¸Šåªæœ‰ä¸€ä¸ªæˆ‘ ä¿è¯ç‹¬ä¸€æ— äºŒ CEO åŸå‹æ¨¡å¼ï¼ˆPrototype Patternï¼‰ é€šè¿‡æ‹·è´åŸå‹åˆ›å»ºæ–°çš„å¯¹è±¡ æ‹”ä¸€æ ¹çŒ´æ¯›ï¼Œå¹å‡ºåƒä¸‡ä¸ª é«˜æ•ˆåˆ›å»ºå¯¹è±¡ å…‹éš† å»ºé€ è€…æ¨¡å¼ï¼ˆBuilder Patternï¼‰ ç”¨æ¥åˆ›å»ºå¤æ‚çš„å¤åˆå¯¹è±¡ é«˜é…ä¸­é…å’Œä½é…ï¼Œæƒ³é€‰å“ªé…å°±å“ªé… å¼€æ”¾ä¸ªæ€§é…ç½®æ­¥éª¤ é€‰é… ç»“æ„å‹è®¾è®¡æ¨¡å¼ ï¼ˆå…³æ³¨ç±»å’Œå¯¹è±¡çš„ç»„åˆï¼‰ ä»£ç†æ¨¡å¼ï¼ˆProxy Patternï¼‰ ä¸ºå…¶ä»–å¯¹è±¡æä¾›ä¸€ç§ä»£ç†ä»¥æ§åˆ¶å¯¹è¿™ä¸ªå¯¹è±¡çš„è®¿é—® æ²¡æœ‰èµ„æºæ²¡æ—¶é—´ï¼Œå¾—æ‰¾åˆ«äººæ¥å¸®å¿™ å¢å¼ºèŒè´£ åª’å©† å¤–è§‚æ¨¡å¼ï¼ˆFacade Patternï¼‰ å¯¹å¤–æä¾›ä¸€ä¸ªç»Ÿä¸€çš„æ¥å£ç”¨æ¥è®¿é—®å­ç³»ç»Ÿ æ‰“å¼€ä¸€æ‰‡é—¨ï¼Œé€šå‘å…¨ä¸–ç•Œ ç»Ÿä¸€è®¿é—®å…¥å£ å‰å° è£…é¥°å™¨æ¨¡å¼ï¼ˆDecorator Patternï¼‰ ä¸ºå¯¹è±¡æ·»åŠ æ–°åŠŸèƒ½ ä»–å¤§èˆ…ä»–äºŒèˆ…éƒ½æ˜¯ä»–èˆ… çµæ´»æ‰©å±•ã€åŒå®—åŒæº ç…é¥¼ äº«å…ƒæ¨¡å¼ï¼ˆFlyweight Patternï¼‰ ä½¿ç”¨å¯¹è±¡æ± æ¥å‡å°‘é‡å¤å¯¹è±¡çš„åˆ›å»º ä¼˜åŒ–èµ„æºé…ç½®ï¼Œå‡å°‘é‡å¤æµªè´¹ å…±äº«èµ„æºæ±  å…¨å›½ç¤¾ä¿è”ç½‘ ç»„åˆæ¨¡å¼ï¼ˆComposite Patternï¼‰ å°†æ•´ä½“ä¸å±€éƒ¨ï¼ˆæ ‘å½¢ç»“æ„ï¼‰è¿›è¡Œé€’å½’ç»„åˆï¼Œè®©å®¢æˆ·ç«¯èƒ½å¤Ÿä»¥ä¸€ç§çš„æ–¹å¼å¯¹å…¶è¿›è¡Œå¤„ç† äººåœ¨ä¸€èµ·å«å›¢ä¼™ï¼Œå¿ƒåœ¨ä¸€èµ·å«å›¢é˜Ÿ ç»Ÿä¸€æ•´ä½“å’Œä¸ªä½“ ç»„ç»‡æ¶æ„æ ‘ é€‚é…å™¨æ¨¡å¼ï¼ˆAdapter Patternï¼‰ å°†åŸæ¥ä¸å…¼å®¹çš„ä¸¤ä¸ªç±»èåˆåœ¨ä¸€èµ· ä¸‡èƒ½å……ç”µå™¨ å…¼å®¹è½¬æ¢ ç”µæºé€‚é… æ¡¥æ¥æ¨¡å¼ï¼ˆBridge Patternï¼‰ å°†ä¸¤ä¸ªèƒ½å¤Ÿç‹¬ç«‹å˜åŒ–çš„éƒ¨åˆ†åˆ†ç¦»å¼€æ¥ çº¦å®šä¼˜äºé…ç½® ä¸å…è®¸ç”¨ç»§æ‰¿ æ¡¥ è¡Œä¸ºå‹è®¾è®¡æ¨¡å¼ ï¼ˆå…³æ³¨å¯¹è±¡ä¹‹é—´çš„é€šä¿¡ï¼‰ æ¨¡æ¿æ¨¡å¼ï¼ˆTemplate Patternï¼‰ å®šä¹‰ä¸€å¥—æµç¨‹æ¨¡æ¿ï¼Œæ ¹æ®éœ€è¦å®ç°æ¨¡æ¿ä¸­çš„æ“ä½œ æµç¨‹å…¨éƒ¨æ ‡å‡†åŒ–ï¼Œéœ€è¦å¾®è°ƒè¯·è¦†ç›– é€»è¾‘å¤ç”¨ æŠŠå¤§è±¡è£…è¿›å†°ç®± ç­–ç•¥æ¨¡å¼ï¼ˆStrategy Patternï¼‰ å°è£…ä¸åŒçš„ç®—æ³•ï¼Œç®—æ³•ä¹‹é—´èƒ½äº’ç›¸æ›¿æ¢ æ¡æ¡å¤§é“é€šç½—é©¬ï¼Œå…·ä½“å“ªæ¡ä½ æ¥å®š æŠŠé€‰æ‹©æƒäº¤ç»™ç”¨æˆ· é€‰æ‹©æ”¯ä»˜æ–¹å¼ è´£ä»»é“¾æ¨¡å¼ï¼ˆChain of Responsibility Patternï¼‰ æ‹¦æˆªçš„ç±»éƒ½å®ç°ç»Ÿä¸€æ¥å£ï¼Œæ¯ä¸ªæ¥æ”¶è€…éƒ½åŒ…å«å¯¹ä¸‹ä¸€ä¸ªæ¥æ”¶è€…çš„å¼•ç”¨ã€‚å°†è¿™äº›å¯¹è±¡è¿æ¥æˆä¸€æ¡é“¾ï¼Œå¹¶ä¸”æ²¿ç€è¿™æ¡é“¾ä¼ é€’è¯·æ±‚ï¼Œç›´åˆ°æœ‰å¯¹è±¡å¤„ç†å®ƒä¸ºæ­¢ã€‚ å„äººè‡ªæ‰«é—¨å‰é›ªï¼Œè«ç®¡ä»–ä»¬ç“¦ä¸Šéœœ è§£è€¦å¤„ç†é€»è¾‘ è¸¢çš®çƒ è¿­ä»£å™¨æ¨¡å¼ï¼ˆIterator Patternï¼‰ æä¾›ä¸€ç§æ–¹æ³•é¡ºåºè®¿é—®ä¸€ä¸ªèšåˆå¯¹è±¡ä¸­çš„å„ä¸ªå…ƒç´  æµæ°´çº¿ä¸Šåä¸€å¤©ï¼Œæ¯ä¸ªåŒ…è£¹æ‰«ä¸€é ç»Ÿä¸€å¯¹é›†åˆçš„è®¿é—®æ–¹å¼ é€ä¸ªæ£€ç¥¨è¿›ç«™ å‘½ä»¤æ¨¡å¼ï¼ˆCommand Patternï¼‰ å°†è¯·æ±‚å°è£…æˆå‘½ä»¤ï¼Œå¹¶è®°å½•ä¸‹æ¥ï¼Œèƒ½å¤Ÿæ’¤é”€ä¸é‡åš è¿ç­¹å¸·å¹„ä¹‹ä¸­ï¼Œå†³èƒœåƒé‡Œä¹‹å¤– è§£è€¦è¯·æ±‚å’Œå¤„ç† é¥æ§å™¨ çŠ¶æ€æ¨¡å¼ï¼ˆState Patternï¼‰ æ ¹æ®ä¸åŒçš„çŠ¶æ€åšå‡ºä¸åŒçš„è¡Œä¸º çŠ¶æ€é©±åŠ¨è¡Œä¸ºï¼Œè¡Œä¸ºå†³å®šçŠ¶æ€ ç»‘å®šçŠ¶æ€å’Œè¡Œä¸º è®¢å•çŠ¶æ€è·Ÿè¸ª å¤‡å¿˜å½•æ¨¡å¼ï¼ˆMemento Patternï¼‰ ä¿å­˜å¯¹è±¡çš„çŠ¶æ€ï¼Œåœ¨éœ€è¦æ—¶è¿›è¡Œæ¢å¤ å¤±è¶³ä¸æˆåƒå¤æ¨ï¼Œæƒ³é‡æ¥æ—¶å°±é‡æ¥ å¤‡ä»½ã€åæ‚”æœºåˆ¶ è‰ç¨¿ç®± ä¸­ä»‹è€…æ¨¡å¼ï¼ˆMediator Patternï¼‰ å°†å¯¹è±¡ä¹‹é—´çš„é€šä¿¡å…³è”å…³ç³»å°è£…åˆ°ä¸€ä¸ªä¸­ä»‹ç±»ä¸­å•ç‹¬å¤„ç†ï¼Œä»è€Œä½¿å…¶è€¦åˆæ¾æ•£ è”ç³»æ–¹å¼æˆ‘ç»™ä½ ï¼Œæ€ä¹ˆæå®šæˆ‘ä¸ç®¡ ç»Ÿä¸€ç®¡ç†ç½‘çŠ¶èµ„æº æœ‹å‹åœˆ è§£é‡Šå™¨æ¨¡å¼ï¼ˆInterpreter Patternï¼‰ ç»™å®šä¸€ä¸ªè¯­è¨€ï¼Œå®šä¹‰å®ƒçš„è¯­æ³•è¡¨ç¤ºï¼Œå¹¶å®šä¹‰ä¸€ä¸ªè§£é‡Šå™¨ï¼Œè¿™ä¸ªè§£é‡Šå™¨ä½¿ç”¨è¯¥æ ‡è¯†æ¥è§£é‡Šè¯­è¨€ä¸­çš„å¥å­ æˆ‘æƒ³è¯´â€æ–¹è¨€â€œï¼Œä¸€åˆ‡è§£é‡Šæƒéƒ½å½’æˆ‘ å®ç°ç‰¹å®šè¯­æ³•è§£æ æ‘©æ–¯å¯†ç  è§‚å¯Ÿè€…æ¨¡å¼ï¼ˆObserver Patternï¼‰ çŠ¶æ€å‘ç”Ÿæ”¹å˜æ—¶é€šçŸ¥è§‚å¯Ÿè€…ï¼Œä¸€å¯¹å¤šçš„å…³ç³» åˆ°ç‚¹å°±é€šçŸ¥æˆ‘ è§£è€¦è§‚å¯Ÿè€…ä¸è¢«è§‚å¯Ÿè€… é—¹é’Ÿ è®¿é—®è€…æ¨¡å¼ï¼ˆVisitor Patternï¼‰ ç¨³å®šæ•°æ®ç»“æ„ï¼Œå®šä¹‰æ–°çš„æ“ä½œè¡Œä¸º æ¨ªçœ‹æˆå²­ä¾§æˆå³°ï¼Œè¿œè¿‘é«˜ä½å„ä¸åŒ è§£è€¦æ•°æ®ç»“æ„å’Œæ•°æ®æ“ä½œ KPIè€ƒæ ¸ å§”æ´¾æ¨¡å¼ï¼ˆDelegate Patternï¼‰ å…è®¸å¯¹è±¡ç»„åˆå®ç°ä¸ç»§æ‰¿ç›¸åŒçš„ä»£ç é‡ç”¨ï¼Œè´Ÿè´£ä»»åŠ¡çš„è°ƒç”¨å’Œåˆ†é… è¿™ä¸ªéœ€æ±‚å¾ˆç®€å•ï¼Œæ€ä¹ˆå®ç°æˆ‘ä¸ç®¡ åªå¯¹ç»“æœè´Ÿè´£ æˆæƒå§”æ‰˜ä¹¦ èµ„æ–™æ¥æº ç¼–ç¨‹å¸® Refactoringguru.cn","link":"/2021/03/01/Draft/2021/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"}],"tags":[{"name":"å·¥å…·æ•™ç¨‹","slug":"å·¥å…·æ•™ç¨‹","link":"/tags/%E5%B7%A5%E5%85%B7%E6%95%99%E7%A8%8B/"},{"name":"Nginx","slug":"Nginx","link":"/tags/Nginx/"},{"name":"BUG","slug":"BUG","link":"/tags/BUG/"},{"name":"Software Engineer","slug":"Software-Engineer","link":"/tags/Software-Engineer/"},{"name":"NO GAME NO LIFE","slug":"NO-GAME-NO-LIFE","link":"/tags/NO-GAME-NO-LIFE/"},{"name":"éŸ³ä¹","slug":"éŸ³ä¹","link":"/tags/%E9%9F%B3%E4%B9%90/"},{"name":"ä¹¦å½±éŸ³","slug":"ä¹¦å½±éŸ³","link":"/tags/%E4%B9%A6%E5%BD%B1%E9%9F%B3/"},{"name":"å‰ç«¯","slug":"å‰ç«¯","link":"/tags/%E5%89%8D%E7%AB%AF/"},{"name":"å¥èº«å¤–å‹","slug":"å¥èº«å¤–å‹","link":"/tags/%E5%81%A5%E8%BA%AB%E5%A4%96%E5%9E%8B/"},{"name":"è‡ªåª’ä½“è®¡åˆ’","slug":"è‡ªåª’ä½“è®¡åˆ’","link":"/tags/%E8%87%AA%E5%AA%92%E4%BD%93%E8%AE%A1%E5%88%92/"},{"name":"å­¦ä¹ æ–¹æ³•","slug":"å­¦ä¹ æ–¹æ³•","link":"/tags/%E5%AD%A6%E4%B9%A0%E6%96%B9%E6%B3%95/"},{"name":"å¿«æŸ¥","slug":"å¿«æŸ¥","link":"/tags/%E5%BF%AB%E6%9F%A5/"},{"name":"å¾…åŠ","slug":"å¾…åŠ","link":"/tags/%E5%BE%85%E5%8A%9E/"},{"name":"æ•°æ®åº“","slug":"æ•°æ®åº“","link":"/tags/%E6%95%B0%E6%8D%AE%E5%BA%93/"},{"name":"English","slug":"English","link":"/tags/English/"},{"name":"æ¯æ—¥ç®—æ³•","slug":"æ¯æ—¥ç®—æ³•","link":"/tags/%E6%AF%8F%E6%97%A5%E7%AE%97%E6%B3%95/"},{"name":"ä¿¡æ¯ç³»ç»Ÿé¡¹ç›®ç®¡ç†å¸ˆè®ºæ–‡æ¨¡æ¿","slug":"ä¿¡æ¯ç³»ç»Ÿé¡¹ç›®ç®¡ç†å¸ˆè®ºæ–‡æ¨¡æ¿","link":"/tags/%E4%BF%A1%E6%81%AF%E7%B3%BB%E7%BB%9F%E9%A1%B9%E7%9B%AE%E7%AE%A1%E7%90%86%E5%B8%88%E8%AE%BA%E6%96%87%E6%A8%A1%E6%9D%BF/"},{"name":"æ¯æ—¥é¢é¢˜","slug":"æ¯æ—¥é¢é¢˜","link":"/tags/%E6%AF%8F%E6%97%A5%E9%9D%A2%E9%A2%98/"},{"name":"æ–‡ä»¶ä¸Šä¼ ä¸‹è½½","slug":"æ–‡ä»¶ä¸Šä¼ ä¸‹è½½","link":"/tags/%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0%E4%B8%8B%E8%BD%BD/"},{"name":"ç¼–ç¨‹è¯­è¨€","slug":"ç¼–ç¨‹è¯­è¨€","link":"/tags/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/"},{"name":"Dubbo","slug":"Dubbo","link":"/tags/Dubbo/"},{"name":"SpringCloud","slug":"SpringCloud","link":"/tags/SpringCloud/"},{"name":"è®¡ç®—æœºç½‘ç»œ","slug":"è®¡ç®—æœºç½‘ç»œ","link":"/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/"},{"name":"ä¿¡æ¯ç³»ç»Ÿé¡¹ç›®ç®¡ç†å¸ˆ","slug":"ä¿¡æ¯ç³»ç»Ÿé¡¹ç›®ç®¡ç†å¸ˆ","link":"/tags/%E4%BF%A1%E6%81%AF%E7%B3%BB%E7%BB%9F%E9%A1%B9%E7%9B%AE%E7%AE%A1%E7%90%86%E5%B8%88/"},{"name":"å¾®ä¿¡å°ç¨‹åº","slug":"å¾®ä¿¡å°ç¨‹åº","link":"/tags/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F/"},{"name":"RabbitMQ","slug":"RabbitMQ","link":"/tags/RabbitMQ/"},{"name":"åº•å±‚å­¦ä¹ ","slug":"åº•å±‚å­¦ä¹ ","link":"/tags/%E5%BA%95%E5%B1%82%E5%AD%A6%E4%B9%A0/"},{"name":"æœåŠ¡å™¨","slug":"æœåŠ¡å™¨","link":"/tags/%E6%9C%8D%E5%8A%A1%E5%99%A8/"},{"name":"Pythonå­¦ä¹ ","slug":"Pythonå­¦ä¹ ","link":"/tags/Python%E5%AD%A6%E4%B9%A0/"},{"name":"Redis","slug":"Redis","link":"/tags/Redis/"},{"name":"è®¾è®¡æ¨¡å¼","slug":"è®¾è®¡æ¨¡å¼","link":"/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"}],"categories":[{"name":"å·¥å…·æ•™ç¨‹","slug":"å·¥å…·æ•™ç¨‹","link":"/categories/%E5%B7%A5%E5%85%B7%E6%95%99%E7%A8%8B/"},{"name":"ä¸­é—´ä»¶","slug":"ä¸­é—´ä»¶","link":"/categories/%E4%B8%AD%E9%97%B4%E4%BB%B6/"},{"name":"BUGè®°å½•","slug":"BUGè®°å½•","link":"/categories/BUG%E8%AE%B0%E5%BD%95/"},{"name":"ä¸»é¢˜å·¥å…·","slug":"å·¥å…·æ•™ç¨‹/ä¸»é¢˜å·¥å…·","link":"/categories/%E5%B7%A5%E5%85%B7%E6%95%99%E7%A8%8B/%E4%B8%BB%E9%A2%98%E5%B7%A5%E5%85%B7/"},{"name":"ç¨‹åºäººç”Ÿ","slug":"ç¨‹åºäººç”Ÿ","link":"/categories/%E7%A8%8B%E5%BA%8F%E4%BA%BA%E7%94%9F/"},{"name":"æ¸¸æˆäººç”Ÿ","slug":"æ¸¸æˆäººç”Ÿ","link":"/categories/%E6%B8%B8%E6%88%8F%E4%BA%BA%E7%94%9F/"},{"name":"å…´è¶£çˆ±å¥½","slug":"å…´è¶£çˆ±å¥½","link":"/categories/%E5%85%B4%E8%B6%A3%E7%88%B1%E5%A5%BD/"},{"name":"ä¹¦å½±éŸ³","slug":"ä¹¦å½±éŸ³","link":"/categories/%E4%B9%A6%E5%BD%B1%E9%9F%B3/"},{"name":"Nginx","slug":"ä¸­é—´ä»¶/Nginx","link":"/categories/%E4%B8%AD%E9%97%B4%E4%BB%B6/Nginx/"},{"name":"åšå®¢æ­å»º","slug":"å·¥å…·æ•™ç¨‹/åšå®¢æ­å»º","link":"/categories/%E5%B7%A5%E5%85%B7%E6%95%99%E7%A8%8B/%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA/"},{"name":"ç¨‹åºåŸºç¡€","slug":"ç¨‹åºåŸºç¡€","link":"/categories/%E7%A8%8B%E5%BA%8F%E5%9F%BA%E7%A1%80/"},{"name":"BUG","slug":"BUGè®°å½•/BUG","link":"/categories/BUG%E8%AE%B0%E5%BD%95/BUG/"},{"name":"å¥åº·","slug":"å¥åº·","link":"/categories/%E5%81%A5%E5%BA%B7/"},{"name":"è®¡åˆ’","slug":"è®¡åˆ’","link":"/categories/%E8%AE%A1%E5%88%92/"},{"name":"å­¦ä¹ æ–¹æ³•","slug":"å­¦ä¹ æ–¹æ³•","link":"/categories/%E5%AD%A6%E4%B9%A0%E6%96%B9%E6%B3%95/"},{"name":"ç¼–ç¨‹å·¥å…·","slug":"ç¼–ç¨‹å·¥å…·","link":"/categories/%E7%BC%96%E7%A8%8B%E5%B7%A5%E5%85%B7/"},{"name":"Software Engineer","slug":"ç¨‹åºäººç”Ÿ/Software-Engineer","link":"/categories/%E7%A8%8B%E5%BA%8F%E4%BA%BA%E7%94%9F/Software-Engineer/"},{"name":"å¾…åŠ","slug":"å¾…åŠ","link":"/categories/%E5%BE%85%E5%8A%9E/"},{"name":"NO GAME NO LIFE","slug":"æ¸¸æˆäººç”Ÿ/NO-GAME-NO-LIFE","link":"/categories/%E6%B8%B8%E6%88%8F%E4%BA%BA%E7%94%9F/NO-GAME-NO-LIFE/"},{"name":"æ•°æ®åº“","slug":"æ•°æ®åº“","link":"/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/"},{"name":"English","slug":"English","link":"/categories/English/"},{"name":"èµ„æºç¯‡","slug":"å·¥å…·æ•™ç¨‹/èµ„æºç¯‡","link":"/categories/%E5%B7%A5%E5%85%B7%E6%95%99%E7%A8%8B/%E8%B5%84%E6%BA%90%E7%AF%87/"},{"name":"æ¯æ—¥ä»»åŠ¡","slug":"æ¯æ—¥ä»»åŠ¡","link":"/categories/%E6%AF%8F%E6%97%A5%E4%BB%BB%E5%8A%A1/"},{"name":"éŸ³ä¹","slug":"å…´è¶£çˆ±å¥½/éŸ³ä¹","link":"/categories/%E5%85%B4%E8%B6%A3%E7%88%B1%E5%A5%BD/%E9%9F%B3%E4%B9%90/"},{"name":"è€ƒè¯","slug":"è€ƒè¯","link":"/categories/%E8%80%83%E8%AF%81/"},{"name":"ä¹¦å½±éŸ³","slug":"ä¹¦å½±éŸ³/ä¹¦å½±éŸ³","link":"/categories/%E4%B9%A6%E5%BD%B1%E9%9F%B3/%E4%B9%A6%E5%BD%B1%E9%9F%B3/"},{"name":"å‰ç«¯","slug":"ç¨‹åºåŸºç¡€/å‰ç«¯","link":"/categories/%E7%A8%8B%E5%BA%8F%E5%9F%BA%E7%A1%80/%E5%89%8D%E7%AB%AF/"},{"name":"å¥èº«å¤–å‹","slug":"å¥åº·/å¥èº«å¤–å‹","link":"/categories/%E5%81%A5%E5%BA%B7/%E5%81%A5%E8%BA%AB%E5%A4%96%E5%9E%8B/"},{"name":"è‡ªåª’ä½“è®¡åˆ’","slug":"è®¡åˆ’/è‡ªåª’ä½“è®¡åˆ’","link":"/categories/%E8%AE%A1%E5%88%92/%E8%87%AA%E5%AA%92%E4%BD%93%E8%AE%A1%E5%88%92/"},{"name":"å¦‚ä½•å­¦ä¹ ä¸€ä¸ªæ–°çŸ¥è¯†","slug":"å­¦ä¹ æ–¹æ³•/å¦‚ä½•å­¦ä¹ ä¸€ä¸ªæ–°çŸ¥è¯†","link":"/categories/%E5%AD%A6%E4%B9%A0%E6%96%B9%E6%B3%95/%E5%A6%82%E4%BD%95%E5%AD%A6%E4%B9%A0%E4%B8%80%E4%B8%AA%E6%96%B0%E7%9F%A5%E8%AF%86/"},{"name":"å¿«æŸ¥","slug":"ç¼–ç¨‹å·¥å…·/å¿«æŸ¥","link":"/categories/%E7%BC%96%E7%A8%8B%E5%B7%A5%E5%85%B7/%E5%BF%AB%E6%9F%A5/"},{"name":"Everyday-TODO","slug":"å¾…åŠ/Everyday-TODO","link":"/categories/%E5%BE%85%E5%8A%9E/Everyday-TODO/"},{"name":"æ•°æ®åº“è®¾è®¡","slug":"æ•°æ®åº“/æ•°æ®åº“è®¾è®¡","link":"/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/%E6%95%B0%E6%8D%AE%E5%BA%93%E8%AE%BE%E8%AE%A1/"},{"name":"ç¨‹åºå‘˜è‹±è¯­","slug":"English/ç¨‹åºå‘˜è‹±è¯­","link":"/categories/English/%E7%A8%8B%E5%BA%8F%E5%91%98%E8%8B%B1%E8%AF%AD/"},{"name":"ç®—æ³•åŸºç¡€","slug":"æ¯æ—¥ä»»åŠ¡/ç®—æ³•åŸºç¡€","link":"/categories/%E6%AF%8F%E6%97%A5%E4%BB%BB%E5%8A%A1/%E7%AE%97%E6%B3%95%E5%9F%BA%E7%A1%80/"},{"name":"ä¿¡æ¯ç³»ç»Ÿé¡¹ç›®ç®¡ç†å¸ˆè®ºæ–‡æ¨¡æ¿","slug":"è€ƒè¯/ä¿¡æ¯ç³»ç»Ÿé¡¹ç›®ç®¡ç†å¸ˆè®ºæ–‡æ¨¡æ¿","link":"/categories/%E8%80%83%E8%AF%81/%E4%BF%A1%E6%81%AF%E7%B3%BB%E7%BB%9F%E9%A1%B9%E7%9B%AE%E7%AE%A1%E7%90%86%E5%B8%88%E8%AE%BA%E6%96%87%E6%A8%A1%E6%9D%BF/"},{"name":"æ¯æ—¥é¢é¢˜","slug":"æ¯æ—¥ä»»åŠ¡/æ¯æ—¥é¢é¢˜","link":"/categories/%E6%AF%8F%E6%97%A5%E4%BB%BB%E5%8A%A1/%E6%AF%8F%E6%97%A5%E9%9D%A2%E9%A2%98/"},{"name":"å‰ç«¯","slug":"å‰ç«¯","link":"/categories/%E5%89%8D%E7%AB%AF/"},{"name":"JAVAåº”ç”¨","slug":"JAVAåº”ç”¨","link":"/categories/JAVA%E5%BA%94%E7%94%A8/"},{"name":"ç¼–ç¨‹è¯­è¨€","slug":"ç¼–ç¨‹è¯­è¨€","link":"/categories/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/"},{"name":"Dubbo","slug":"ä¸­é—´ä»¶/Dubbo","link":"/categories/%E4%B8%AD%E9%97%B4%E4%BB%B6/Dubbo/"},{"name":"Spring","slug":"Spring","link":"/categories/Spring/"},{"name":"GIS","slug":"å‰ç«¯/GIS","link":"/categories/%E5%89%8D%E7%AB%AF/GIS/"},{"name":"ç¼–ç¨‹åŸºç¡€","slug":"ç¼–ç¨‹åŸºç¡€","link":"/categories/%E7%BC%96%E7%A8%8B%E5%9F%BA%E7%A1%80/"},{"name":"ä¸šåŠ¡æŠ€æœ¯","slug":"JAVAåº”ç”¨/ä¸šåŠ¡æŠ€æœ¯","link":"/categories/JAVA%E5%BA%94%E7%94%A8/%E4%B8%9A%E5%8A%A1%E6%8A%80%E6%9C%AF/"},{"name":"Java","slug":"ç¼–ç¨‹è¯­è¨€/Java","link":"/categories/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Java/"},{"name":"SpringCloud","slug":"Spring/SpringCloud","link":"/categories/Spring/SpringCloud/"},{"name":"è®¡ç®—æœºç½‘ç»œ","slug":"ç¼–ç¨‹åŸºç¡€/è®¡ç®—æœºç½‘ç»œ","link":"/categories/%E7%BC%96%E7%A8%8B%E5%9F%BA%E7%A1%80/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/"},{"name":"ä¿¡æ¯ç³»ç»Ÿé¡¹ç›®ç®¡ç†å¸ˆ","slug":"è€ƒè¯/ä¿¡æ¯ç³»ç»Ÿé¡¹ç›®ç®¡ç†å¸ˆ","link":"/categories/%E8%80%83%E8%AF%81/%E4%BF%A1%E6%81%AF%E7%B3%BB%E7%BB%9F%E9%A1%B9%E7%9B%AE%E7%AE%A1%E7%90%86%E5%B8%88/"},{"name":"ç¼–ç¨‹","slug":"ç¼–ç¨‹","link":"/categories/%E7%BC%96%E7%A8%8B/"},{"name":"å¾®ä¿¡å°ç¨‹åº","slug":"ç¼–ç¨‹/å¾®ä¿¡å°ç¨‹åº","link":"/categories/%E7%BC%96%E7%A8%8B/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F/"},{"name":"RabbitMQ","slug":"ä¸­é—´ä»¶/RabbitMQ","link":"/categories/%E4%B8%AD%E9%97%B4%E4%BB%B6/RabbitMQ/"},{"name":"åº•å±‚å­¦ä¹ ","slug":"åº•å±‚å­¦ä¹ ","link":"/categories/%E5%BA%95%E5%B1%82%E5%AD%A6%E4%B9%A0/"},{"name":"JVM ä¸ä¸Šå±‚æŠ€æœ¯","slug":"åº•å±‚å­¦ä¹ /JVM-ä¸ä¸Šå±‚æŠ€æœ¯","link":"/categories/%E5%BA%95%E5%B1%82%E5%AD%A6%E4%B9%A0/JVM-%E4%B8%8E%E4%B8%8A%E5%B1%82%E6%8A%80%E6%9C%AF/"},{"name":"å®æ–½ç»´æŠ¤","slug":"å®æ–½ç»´æŠ¤","link":"/categories/%E5%AE%9E%E6%96%BD%E7%BB%B4%E6%8A%A4/"},{"name":"MYSQLä¼˜åŒ–","slug":"æ•°æ®åº“/MYSQLä¼˜åŒ–","link":"/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/MYSQL%E4%BC%98%E5%8C%96/"},{"name":"Pythonå­¦ä¹ ","slug":"ç¼–ç¨‹è¯­è¨€/Pythonå­¦ä¹ ","link":"/categories/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Python%E5%AD%A6%E4%B9%A0/"},{"name":"æœåŠ¡å™¨","slug":"å®æ–½ç»´æŠ¤/æœåŠ¡å™¨","link":"/categories/%E5%AE%9E%E6%96%BD%E7%BB%B4%E6%8A%A4/%E6%9C%8D%E5%8A%A1%E5%99%A8/"},{"name":"Redis","slug":"ç¨‹åºåŸºç¡€/Redis","link":"/categories/%E7%A8%8B%E5%BA%8F%E5%9F%BA%E7%A1%80/Redis/"},{"name":"è®¾è®¡æ¨¡å¼","slug":"ç¨‹åºåŸºç¡€/è®¾è®¡æ¨¡å¼","link":"/categories/%E7%A8%8B%E5%BA%8F%E5%9F%BA%E7%A1%80/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"}]}
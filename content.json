{"pages":[{"title":"","text":"„Äê‰∏™‰∫∫ÁÆÄ‰ªã„Äë ÂàÜ‰∫´‰∏çÁü•Âá∫Â§ÑÁöÑ‰∏ÄÊÆµËØùÔºö &quot;‰Ω†ÊâÄÊúâÁöÑÁÉ¶ÊÅºÈÉΩÂú®‰∫é‰Ω†ÊÉ≥ÂæóÂ§™Â§öÔºåËÄåÂÅöÂæóÂ§™Â∞ë„ÄÇ&quot; Êó†ËÆ∫Â§ö‰πàÁ≤æÁæéÊµ©ÁÄöÁöÑÁªù‰∏ñËÆ°ÂàíÔºåÈÉΩÂ∫îËØ•ÁÇπÁÇπÊª¥Êª¥Ëµã‰∫àË°åÂä®„ÄÇ Âú®ËøôÈáå‰Ω†ÂèØ‰ª•ÂæóÂà∞‰ªÄ‰πà? üòé ÊïàÁéáÁöÑÁßçÁßçÂà©Âô®ÔºÅ üòé JavaÂÖ®Ê†àÊäÄÊúØÂ≠¶‰π†ÔºÅ üòé ‰ª£Á†Å‰πãÂ§ñÁöÑ‰∏∞ÂØåÁîüÊ¥ªÔºÅ „ÄêÊÄªÂÜÖÂÆπÂØºÂõæ„Äë „ÄêÂÖ≥‰∫éÈ≠ëÈ≠ÖÂÖàÁîü„Äë „ÄêÂä®Êº´‰∫∫Áâ©‰ªãÁªç„Äë È≠ëÈ≠ÖÈ≠çÈ≠âÔºàchƒ´ m√®i w«éng li«éngÔºâÔºåÂΩ¢ÂΩ¢Ëâ≤Ëâ≤Â¶ñÈ≠îÈ¨ºÊÄ™ÔºåÁé∞ÈÄöÊåáÂùè‰∫∫„ÄÇËÄåÈ≠ëÈ≠ÖÂÖàÁîü‰πÉÂ¶ñ‰∏≠‰πãÈ¶ñÔºåÊéåÊéßÂ¶ñÈ≠î‰∏áÁâ©Ôºå‰∏ìÂÖãÈ≠ëÈ≠ÖÈ≠çÈ≠âÔºåÂÖ∂Èù¢ÂÆπÊ∏ÖÁßÄÔºåÂçÉÂèò‰∏áÂåñÔºåÂñÑÂ≠¶Â•ΩÊÄùÁü£„ÄÇÂÖ∂Èó¥ËßÅÈú∏Êàà„ÄêBUG„ÄëÔºåÁ•∏ÂÆ≥‰∫∫‰∏ñÈó¥Ôºå‰æø‰π†ÁºñÁ®ãÊúØÔºå‰ªéÊ≠§‰∏çÂΩíË∑Ø„ÄÇ ÁªòÁîª‰ΩúËÄÖ: @YYu „ÄêËÅîÁ≥ªÊñπÂºè„Äë Â¶ÇÊúâ‰ªª‰Ωï‰∫§ÊµÅÈúÄÊ±ÇÔºåËØ∑Ê∑ªÂä†‰∏™‰∫∫ÂæÆ‰ø°Êàñ‰∏™‰∫∫ÂÖ¨‰ºóÂè∑ Ê∑ªÂä†ÂâçËØ∑Â§áÊ≥®Êù•Áî±„ÄÇ(‡πë‚Äæ Íá¥ ‚Äæ‡πë) ÂæÆ‰ø°Êâ´Á†ÅÊàñÁÇπÂáªÈìæÊé•ÂÖ≥Ê≥®ÊàëÂì¶Ô∏ø(Ôø£Ô∏∂Ôø£)Ô∏ø Âá°‰∫ãÈ¢ÑÂàôÁ´ãÔºå‰∏çÈ¢ÑÂàôÂ∫ü„ÄÇ ËÆ°Âàí 2021-PLANS DAY ËØª‰π¶ ÊØèÊó•ÁÆóÊ≥ï ÊØèÊó•Ëã±ËØ≠ ÁêÜË¥¢ÔºåËÆ∞Ë¥¶ WEEK ÁªòÁîª Âêâ‰ªñ ËøêÂä®‰∏§Ê¨° ÁªÉÂ≠ó MONTH ÊÄªÁªì YEAR ÁÜüÁªÉ‰∏Ä‰∏™‰ª•‰∏äÊäÄËÉΩ ÁõÆÊ†á 2021-GOALS ËØª‰π¶ „ÄäÁ§æ‰ºöÂøÉÁêÜÂ≠¶„Äã „ÄäÂ§ßÈóÆÈ¢òÔºöÁÆÄÊòéÂì≤Â≠¶ÂØºËÆ∫„Äã „ÄäÂ±ÄÂ§ñ‰∫∫„Äã „Ää‰∏â‰Ωì„Äã „ÄäÊàëÊòØÁå´„Äã ‰∏ì‰∏ö ËÆæËÆ°Ê®°Âºè‰ª£Á†ÅDemo ÁΩëÁªú JVM VUEÈ°πÁõÆ Linux Èü≥‰πê Âêâ‰ªñË∞±ÊâíË∞±Â≠¶‰π† ËøêÂä® ÁîªÁîª Êó∂Èó¥ËΩ¥ËÆ∞ÂΩï Êú¨Á´ôÊé®ËçêÁ¥¢Âºï ÊäÄÊúØÁü•ËØÜÁÇπ JavaÂπ∂ÂèëÁü•ËØÜÁÇπ Ê≥ïÂæãÊ≥ïËßÑ Ê≥ïÂæãÊ≥ïËßÑÊï∞ÊçÆÂ∫ì ‰∏≠Âçé‰∫∫Ê∞ëÂÖ±ÂíåÂõΩÂõΩÊóóÊ≥ï ‰∏≠Âçé‰∫∫Ê∞ëÂÖ±ÂíåÂõΩÂÆ™Ê≥ï ‰∏≠Âçé‰∫∫Ê∞ëÂÖ±ÂíåÂõΩÊ∂àË¥πËÄÖÊùÉÁõä‰øùÊä§Ê≥ï ‰∏≠Âçé‰∫∫Ê∞ëÂÖ±ÂíåÂõΩÂàë‰∫ãËØâËÆºÊ≥ï ‰∏≠Âçé‰∫∫Ê∞ëÂÖ±ÂíåÂõΩÂ©öÂßªÊ≥ï ‰∏≠Âçé‰∫∫ÂêçÂÖ±ÂíåÂõΩÁΩëÁªúÂÆâÂÖ®Ê≥ï ‰∏≠Âçé‰∫∫Ê∞ëÂÖ±ÂíåÂõΩÂä≥Âä®Ê≥ï ÂÖ∂‰ªñ ÁΩëÊòì‰∫ëÈü≥‰πêÊ≠åÂçïÂàÜ‰∫´","link":"/about/index.html"},{"title":"","text":"üéàüéàÊëÑÂΩ±-Âπ≥Èù¢ËÆæËÆ°-ÁªòÁîªÊ¨£Ëµèüéàüéà ÊØèÂ§©Áúã‰∏ÄÁÇπÔºåÂÆ°ÁæéÈ´ò‰∏ÄÁÇπ üòäËñáËñáÂÆâ¬∑ËøàÂ∞îüòä ‚Äã ËñáËñáÂÆâ¬∑ËøàÂ∞îÔºàVivian MaierÔºâÔºå1926Âπ¥2Êúà1Êó•Âá∫Áîü‰∫éÁæéÂõΩÁ∫ΩÁ∫¶ÔºåÁæéÂõΩ‰∏ö‰ΩôË°óÂ§¥ÊëÑÂΩ±Â∏à„ÄÅÂÆ∂Â∫≠‰øùÂßÜ„ÄÇËñáËñáÂÆâÊòØÊ≥ïÂõΩ‰∫∫ÂêéË£îÔºåÂá∫ÁîüÂú®Á∫ΩÁ∫¶Ôºå‰ΩÜÂú®Ê≥ïÂõΩÈïøÂ§ßÔºåÂêéÂõûÂà∞ÁæéÂõΩÂÖàÂêéÁîüÊ¥ªÂú®Á∫ΩÁ∫¶ÂíåËäùÂä†Âì•ÔºåÂ•π‰∏ÄÁîüÊãçÊëÑ‰∫ÜË∂ÖËøá10‰∏áÂº†ÁÖßÁâá„ÄÇ2007Âπ¥ÔºåËäùÂä†Âì•ÂΩìÂú∞ÂéÜÂè≤Â≠¶ÂÆ∂Á∫¶Áø∞¬∑È©¨È≤ÅÂ§´ÂèëÁé∞‰∫ÜÂ•πÁöÑÂ§ßÈáèÂ∫ïÁâáÂπ∂ÂºÄÂßãÊï¥ÁêÜÔºåÊ≠§ÂêéÂ•πÁöÑ‰ΩúÂìÅÁôª‰∏äÁæéÂõΩ‰ª•Ëá≥ÊÑèÂ§ßÂà©„ÄÅÈòøÊ†πÂª∑ÂíåËã±ÂõΩÁ≠âÂú∞ÁöÑÊä•Á∫∏„ÄÇ2009Âπ¥4Êúà21Êó•ÁóÖÈÄù‰∫éËäùÂä†Âì•„ÄÇ2010Âπ¥ÔºåËñáËñáÂÆâÁöÑ‰ΩúÂìÅÂºÄÂßãÂú®ËäùÂä†Âì•ËøõË°åÂ±ïÂá∫ÔºåÊàê‰∏∫ÊëÑÂΩ±Âúà‰∏≠ÁÉ≠ËÆÆÁöÑ‰∫∫Áâ©ÔºåÂπ∂Ë¢´ËÆ§ÂèØ‰∏∫ÁæéÂõΩÂΩì‰ª£ÊúÄÈáçË¶ÅÁöÑË°óÂ§¥ÊëÑÂΩ±Â∏à‰πã‰∏Ä„ÄÇ ÂõæÁâáÈÉ®ÂàÜÊêúÈõÜ‰∫é‰∫íËÅîÁΩëÔºå‰æµÊùÉËØ∑ÁïôË®ÄÔºåÈ©¨‰∏äÂ§ÑÁêÜüòä„ÄÇ","link":"/album/index.html"},{"title":"","text":"Áî≥ËØ∑ÂèãÈìæÈ°ªÁü• ÂéüÂàô‰∏äÂè™ÂíåÊäÄÊúØÁ±ªÂçöÂÆ¢‰∫§Êç¢Ôºå‰ΩÜ‰∏çÂåÖÊã¨Âê´ÊúâÂíåËâ≤ÊÉÖ„ÄÅÊö¥Âäõ„ÄÅÊîøÊ≤ªÊïèÊÑüÁöÑÁΩëÁ´ô„ÄÇ ‰∏çÂíåÂâΩÁ™É„ÄÅ‰æµÊùÉ„ÄÅÊó†ËØö‰ø°ÁöÑÁΩëÁ´ô‰∫§Êç¢Ôºå‰ºòÂÖàÂíåÂÖ∑ÊúâÂéüÂàõ‰ΩúÂìÅÁöÑÁΩëÁ´ô‰∫§Êç¢„ÄÇ Áî≥ËØ∑ËØ∑Êèê‰æõÔºöÁ´ôÁÇπÂêçÁß∞„ÄÅÁ´ôÁÇπÈìæÊé•„ÄÅÁ´ôÁÇπÊèèËø∞„ÄÅlogoÊàñÂ§¥ÂÉèÔºà‰∏çË¶ÅËÆæÁΩÆÈò≤ÁõóÈìæÔºâ„ÄÇ ÊéíÂêç‰∏çÂàÜÂÖàÂêéÔºåÂà∑Êñ∞ÂêéÈáçÊéíÔºåÊõ¥Êñ∞‰ø°ÊÅØÂêéËØ∑ÁïôË®ÄÂëäÁü•„ÄÇ ‰ºöÂÆöÊúüÊ∏ÖÁêÜÂæà‰πÖÂæà‰πÖ‰∏çÊõ¥Êñ∞ÁöÑ„ÄÅ‰∏çÁ¨¶ÂêàË¶ÅÊ±ÇÁöÑÂèãÈìæÔºå‰∏çÂÜçÂè¶Ë°åÈÄöÁü•„ÄÇ Êú¨Á´ô‰∏çÂ≠òÂÇ®ÂèãÈìæÂõæÁâáÔºåÂ¶ÇÊûúÂèãÈìæÂõæÁâáÊç¢‰∫ÜÊó†Ê≥ïÊõ¥Êñ∞„ÄÇÂõæÁâáË£Ç‰∫ÜÁöÑ‰ºöÊõøÊç¢ÊàêÈªòËÆ§ÂõæÔºåÈúÄË¶ÅÊõ¥Êç¢ÁöÑËØ∑ÁïôË®ÄÂëäÁü•„ÄÇ Êú¨Á´ôÂèãÈìæ‰ø°ÊÅØÂ¶Ç‰∏ãÔºåÁî≥ËØ∑ÂèãÈìæÂâçËØ∑ÂÖàÊ∑ªÂä†Êú¨Á´ô‰ø°ÊÅØÔºö ÁΩëÁ´ôÂõæÊ†áÔºöhttps://mrdemonlxl.github.io/images/avatar.jpg ÁΩëÁ´ôÂêçÁß∞ÔºöÈ≠ëÈ≠ÖÂÖàÁîü ÁΩëÁ´ôÂú∞ÂùÄÔºöhttps://mrdemonlxl.github.io/ ÁΩëÁ´ôÁÆÄ‰ªãÔºöJavaÂÖ®Ê†àÂºÄÂèëÔºåÊäÄÊúØÂàÜ‰∫´ÔºåÁ®ãÂ∫èÂëòÁöÑÁîüÊ¥ªÂàÜ‰∫´ Âä†ËΩΩ‰∏≠ÔºåÁ®çÁ≠âÂá†Áßí...","link":"/friend/index.html"},{"title":"","text":"&nbsp;&nbsp;Âê¨Âê¨Èü≥‰πê Èü≥‰πêÊí≠ÊîæÂô®Áî±mePlayerÊèê‰æõÔºåÂ∏ÉÂ±ÄÂèÇÁÖßÁΩëÂèãÂçöÂÆ¢ÊâÄ‰ΩúÔºåÊÑüË∞¢‰ΩúËÄÖÁöÑËæõÂã§‰ªòÂá∫„ÄÇÊõ¥Â§öÈü≥‰πêÂàÜ‰∫´ËØ∑Êü•ÁúãÊ≠åÂçï„ÄÇ &nbsp;&nbsp;ÁúãÁúãËßÜÈ¢ë ->ÁÇπÂáª‰ª•‰∏ãÊù°ÁõÆÂºÄÂßãÊí≠ÊîæËßÜÈ¢ë,Âêë‰∏ãÊªëÂä®Êü•ÁúãÊõ¥Â§ö","link":"/media/index.html"},{"title":"","text":"Â•ΩÈóÆÂàôË£ïÔºåËá™Áî®ÂàôÂ∞è„ÄÇ‚Äî‚Äî„ÄäÂ∞ö‰π¶¬∑‰ª≤Ëô∫‰πãËØ∞„Äã","link":"/message/index.html"},{"title":"Èü≥‰πêÊ≠åÂçïÊî∂Ëóè","text":"‰∏™‰∫∫Â≠¶‰π†È£üÁî®ÔºåÂ¶ÇÊúâÊé®ËçêËØ∑ÁïôË®ÄÊ≠åÂçïÊàñÊ≠åÊõ≤ÈìæÊé•„ÄÇÁÇπÂáªÂ∑¶‰∏ãËßíÁÆ≠Â§¥ÂèØÂÖ®Â±ÄÊí≠ÊîæÂì¶ - ü§≤üòé Ê∏©È¶®ÊèêÁ§∫ÔºöÈÄâÊã©ÂñúÊ¨¢ÁöÑÈü≥‰πêÂèåÂáªÊí≠ÊîæÔºåÁî±‰∫éÁâàÊùÉÂéüÂõ†ÈÉ®ÂàÜ‰∏çËÉΩÊí≠Êîæ„ÄÇÂ¶ÇÊûúÂñúÊ¨¢Ê≠åÂçïÊî∂Ëóè‰∏Ä‰∏ãÔºåÂéªÁΩëÊòì‰∫ëÈÉΩËÉΩÊí≠ÊîæÂìüÔºÅ","link":"/music/index.html"},{"title":"","text":"Á¢éÁ¢éÂøµÊ†ëÊ¥û tipsÔºögithubÁôªÂΩïÂêéÊåâÊó∂Èó¥Ê≠£Â∫èÊü•Áúã„ÄÅÂèØÁÇπËµûÂä†‚ù§Ô∏è„Äå+99Ê¨°Êü•Áúã„Äç Á¢éÁ¢éÂøµÂä†ËΩΩ‰∏≠ÔºåËØ∑Á®çÁ≠â... $.getScript(\"/js/gitalk_self.min.js\", function () { var gitalk = new Gitalk({ clientID: '20ef8321698ab8c0c37b', clientSecret: '237515b7faa3e1097f2980762f772c6f02dbcbbb', id: '666666', repo: 'MrDemonlxl.github.io', owner: 'MrDemonlxl', admin: \"MrDemonlxl\", createIssueManually: true, distractionFreeMode: false }); gitalk.render('comment-container1'); });","link":"/self-talking/index.html"}],"posts":[{"title":"TODO","text":"4d02fb5b32d4ff17604ac73d9008aa6207c92f8bed33bd3156da7ba1e22b4e27c0b35a0f5f9a0f030567da026ae4fe56895eb90a9cf8d0eeacbd2add2ee5db5fbcfed5c25e26077223fabd57cbafadf538bffd90b327799938974913ee4ff70fe86435cf732036b7ce04306c2ed76de8881a62810ce1fe9918378c32a11eb7a123c88c5f7c6e282a019619c1d990e93934c357797fecd8168c2330b82579784d30b2fbc5c80d9ba4c678ebd588ad337d99bb7f536f00647a6b0fda052dd842300b1f49735ad11e79b0ee38a853f4d768955044948c7c5cb3a1e3a41f5a4f3a80be3c8101aca0b0ca071aede934ecdd24651332c1a8dc8071bc2e522038675cbf2c9f59f7de6cbcc4416206d1efea3afd3006435b3262a3268a220008bcdf8cf1f4073ed7b4791e8d4b297b59b7b1986cfa6cd0c2af699b0c9f87fca7ed7d983b3a7d4ec2ae08ed7ee6e68ce653133be95dbb6deaf99d8893b3afcaafe05609c9b45e2fc5a6813deac8bec272b7295b60adde2f7f42595dc77a19bb14de42597361a9e1f1924146c778fdbff1deebd59b56639497be3cdfa44c4aa34e42ccde198b20e4bb643859a1b9f75819867ed73d45f4182572293b8106f0659b1b14543c167eed7483f03678f6424c7d6a9b6b749fa92c2116d0a6e6838069c2836ef9102721e06e55b26d25cf8e9526da66978defefd534d50d3001bd2bc6a27e47fb40b98ad7de443711107dd3787102819fb87ab473171e8ed61127107e75eb4f76102c5fd164dd3e83c8ff426886d216a0acb7e66d52cc8c98e63881ed54e69812ed3d3c218b67c217b3ef0f5553dd18a62c364b3f86b6218826f0ea3c16c8446023d6ca84bf776ba9774db2e807336d348bf390177afb783e7d0dccf249f35b8e99068a643768f1533aae48ad1c48a4279f7de93536eb5c944d675acb253c7ce0f0c62fe681147e97b3c88ea984ca517c4353a5841e36edc8a4ff8f1ffea61f469026dfb195c05afaef8734a18aaec44f53aad78375fdc6ca1accc87e4a4eb132036df6de47a4cef6e7974ccd4d8cbec9a788ae1073ad8ac31955a4a9d067d95128822fafe7ec9d831e0f2a5b7db97269ed96bd085121c5ea8f5e1ddad57e59b94b7f5ee76f1cd4f9fdaf694be8e448393e524157d2c3ace2c55b9447ba14818e263a3cac02508f95ed699677c37ace1492dfd2f9332266aadc7770b6162ccbbbfb255bd4e4710a0c6d1c8ad97ba988d2fa053d44a550ad1666c4bf6ac7a009ac829d06022e1d17976dba4101546e942aba3b0aa8400de7607579fededfd6d25a346ad1b4a1f12d2d325e1aed61eec31fdae49f07a22a86013585704222f9690ead1f15d80567bc06d9ef90574ecfd51b4cebf02891da6617281e5a3ddd6e3724f74a244e3f4836f813be71a99e067c95ecd52d808c0827dd89e09bd0574e93036b4115e894e6ed92d1a29ae6812eb5ce40c209b2d8e2bd00a28a27fe2cecacfdd3d2c2378980927df206cb39002ff6a9f3a6b16425c8d6ddd574124921c9c7bdf7e1c2157d75b5f81e814e0c5757efedfbfcc3efaa5bdce83caf09c58cae46647de3f773df37f1e4840b588852e743c3d5ca4dde2e78c8b500a2d5cd408af62d39250fafe1f7c8b8600e41034c3d346409627bc0bb865a2d441acc49a0ba21d710204a19231faea608e8351b6d8c0e0b9148d8f3108a3b6e7bc6c38f32da4f8f0763bb681fb0331e9ca8b844f5afb9357fcb00422d19f8485ce094ebf4cc9e90471b4be9e9fd1e3a5f88243c35c6cf9a60ab36bea1ae529f64cd81c03e608facd7e7e41f714e1ac5938956fe32bca7af4bce70c37487c3ad3aa863e65205fbddb2fbe09929569759ecaf0214eff4486309c7b8289c849d6ca1f678ff7c8ec2ea5fe4cf70afccad54b9a835dd01d404c15523ee266a743773b9c0bfa0531f393401b363e020c3b7216aff3ee2758c8db7acd296975f4bc979c02b1be81c76dec13f77c9f1820d29388be9d2090ddc8fbea4ba3a91982ff25d42448e127338e131fbf7ba755bb4c9ec8280b4456733fc664e094f16f300dcaaba0b1975914b872f16752a65197d1916af020e44b85d46f9b49f59bb5a8d64837dc3c511bcc0aae1ccc8e767b0e2f73a388489953a061edc09552b851229f37eebbab6c692fc1133fcb8532a02c0bde3fcd3077193aa5c46627d71ef030de3b1af24faae37bc3ef746e19dfdcb5d2e88e48160f05be669050f5da5160ab07b46ea54cec162fb974f9acdc5a85fc32bcafa2e05c5bb6380d08d053b0d876a6e87ccb2c18f495070b6f27ce03ba49bbe79ad9834edf34fadb9916f66ce53a4c3df5dc2e6b04b227d66c94d89a3632073087385ceb97ba64ad6b9800c01e4ceb8dce95a16d5848bbf40fd6f783d7486a7875b34da8d6f191ba414712b04c8c33e7ecaeb6a62be02d412fbe434428b996cfa2aee8dc6113f3d7b27f92d7c53dd06c92e347253d83bfa3b1c9b722b12decc771a80b3c2cf6938b9e52aed1c99de3dda1fc1def7ed858598a1167d327f3a5427a27526e942f53906b39e2fa46718f251891e95d157a2ab63269d1313a225c0345dffeb05ebd694b16d83c53af9122e53cf48b8872f6918ed0e5765764ca5d9102afb241dbcd0686b2a5b5febe90e8a21708c9a02f1c1abd34f4f772d96d0669634916b873375b085590c4324e0e7946290a945860eb3ce83b22539920134ee62b28c30143a907f8fce042ab5a81bfb6d0bd986314f671dbbf2008de9fe62a5cff0d2203879c0a442143fe5f6f4c0acc9fa4b98f1be016368441fb1fa7dd5031710e1c96de388397f3fdd8a5903b9127b526ecfe6e72ca89d957673e8a84bc09921762e89837afa62f4179993e7d30cdb3e6270116e37dcb5a5f379595329f7b09573b92d97d1f18efa0a71796d7742198d9e839a60dc94ade3d8a9527a285bf27972bf80eeb2c2298002366abcdc505d05c0de09aeb04e0ef127e3f7199263ee6671c33e3555ca9d6c4a0573df7dcdd8d9a72ce1b37aecb4729c6751869eb781ab713d9e7524420030220c42d9abd45da51b3f83e63ff082a2223455b9875c8dd710c9e8b94b230eeeefa0c708f2e288979b7c52aebed77f428b6975cae2b1894bfd09d0d01e3ef0ff42443793b3e28b141dbbeb947d41507edffe382128f1aa06796e9862a656bc8fc2ad2b65b3b196971f6f03de8ffd9a447b25ba72c80585d2a4f756ff28f90375781d3a06d7d137a5e093d3d221835b4b50986aa9184299e814003ec167fe1dd48ae90b0316fd5f8250c9ebf275d228f37918fcfa61ef8b13b0c7d37055b1519a07a610b0d3edb50b798a36b380c477842ec37b8e10624c61e223df78b734aa31fa62e787823b78e5f3b6e575655a09d36451118dab0e4c4da7bddbec589e36f277e120a64db9ce1aeec02343ddcb591e02a3632fb08699b5b685221b04a79d92a3c9465ab17765bef000ebf236166b99a3cf2833448487f6b9482e9b7f4f26155f5accb8099a62894032932a71ef75aae22c2a55bb73621009de4759ffb51d3bc18a9e55a6ecf5daf40d5829403dc2bf61737ef99c4c14ea719d324415305f09feea57101c19a3e1dcf9b9e8579fda514fa6c88efd11180cfd680a6d8d09f6cadfa6b075926c7c5e2cfb640952ef547fa060b238b7cf622b91cff59d6a2339fbe60c2b2f4e8cc42070ba4aca4d8411ef3b22f95fc913e602e1c7966a39070d997d632f68bc7d09eac958a03b22b7083f9fd685bc01661c7605539b2032f8f74b926de64b5325c81245947d09a1b3db54041f26916c8282cf85c108731544a7facf5eeb71a6e50230fe916b09ab3492dce06033f1e4790acfb6ddfad9d2e5947871370eb994273258357411d6d44097d0d2eff3d8dacdbcd452ab782d89a80ab008e828d9f737a236e6639fb415638113c959d714cd725363a85862dc7193c38f0c907e495c39b0b4efb882a3b567697f31785d8eacdb61f2f3d7d3993b90af0da89fe7d6be060eb6887e7a35f66b8ea6d140ac5fb6a18857db72fdd81b5a46ba6dcb393e0652126a85486377b865debf29e4e7becb9459c797a7f05ecd721c99c09a6ed5c94ec513652fa877abfee77a7bae0b3779196806836082b96eb398ddb16c53f08201ea974340163fe6e044cfd2019da7ec9f5d5989a78f4082966cd090fe44774c5c765cfcd72469da7fedac4716ab8d75aab7a2fa6c41aa8da650a441b7770d95e3d51b7a7302040be534a99fbab54e1b91934870ced6701eb1c0fb923449c4b749884b9f6edca95de312f19209f75b9318293fbbc7104fec7c43e04c8b57007bd8c6e305b797afe8ba1168b9782da2564e0ef68e17fe7211722a7205ccef3f3ee2653ef45d66a1caa363e8370949ae8314d2755ed6d27aa6d0fb6dd2f7b7c1ede7c4d6bf7c0151141c04a09d62881bb3784c4ff8a1b48afd6613836b0589ce0f6210ca149ecb302a56e24c9be3532690f7faf77adc35ff002fbbd1503892edc978b3856343de4bb2e590f9ad80db3cb8213900dfb0f69461f73ea05b8a8829c877fe4e5c34e3d53e4670eed13a5479dc8fbd95e892ab47b06b11f94f71bb3a76af85b8557e2ae2587da6510ce7981b9eaa8a63cff5d1e49601ff552ddb272dbb806fea492d3a2cd1d3a486d10d982e77a85bbaa96675784a092ccb3b99281387fc78bc237d9e91a37c39e2f4ffcc67c959f5784066769631d922796cbfde2ef260e62f424b1783b38e2f303e3e7a6fd40f27ca43b3bd46190fd1c1fac7fa4bc3061c38419a6ccbb67c27e7ad0b537dd088827644bc37f1fc6d93af0454203536bae49236e9ebfa073b862d5cd3c54d87abbedab32974228fc215987d1094460bb5aa30466661371e4133f6bd2283450072c95ecbd7afa83058295e6be8618a904b126ed871e578ac60b93b636a7848a71ed9ce32d92032f806abe2695cf3f4e16bbcaae86ebe0380805bf953e179a0d294a0c00276acb0b17778cd84f96b2debbe4cae0f8239a3a4d3710d47ce1b80a8d5834a16adabd1ef0d1f9ee9f8308b5e278325df2984b6592f34f65f2804467da9b5bd9c8031879f7543fccdfdd7a4c1778ea618556133b2bccf5db29f0c700f9212c72f57ba5f39f777b69c0e203a4540b7cd76d8725be63638433551ce96c6037ca2d63431b989e4ed312cd13b6d1ecc3b6758e6fa9e1a53dd7ba4e9f90daebff43d85e6e4fa06f719b72fe7f9d8765d3e67eff5c4ee4b3f73295797038823e0ef2dbd3bab590575fbeed70c53a2a3733497220c150083758e446759f44dd4399fab07fd7a277071f5ce1b23029b220c112da10b1e32eeee29414b035cf1cc03061704eabc489ea40094fde9a1b1bc5f51a835ca4495ef0fc1c7d5e5849516e74a4ebc32c28e5a366264dc5ff246934eff4540460aa83048ab98fb01e0651b184760dddf15d69a1a6ba00750bcd36726555998958fd5852ae90d90d80cd47a347a6468ed390e4a14baa3510c385abefd131711cb12e2d9040f45870bd537f93fa09bf690f1ee7e335b014c942daeb2394112b7e18f4f7c17cbf085a4fa5fd1784ff123464211d5da83ca012ba58edcf21ad5eb67b1dc1792bce525c291c7aba3526e33e4e9aefa927597d136331146e3b0e6a2191ab7d49233e3262d307e160c3946e5690e44e1559333728f9c38f5ac8e535fb7f39e418291dee5cfd5949fa19a303e02d4878c71f0bf2eb39c0306c2d1e02075bf31cd13ed3564d53bf2e0772e15a48fbb132e521ee489501d28e52b6f295d1c0c7d06ebfaf7880efa53d917d607b9661c8d045268152a06075134cf5a37e9595163c93fed390024977a8e3bded9c0b5e0c65794cd937bd7d71624c47fdefe3002fd125977f5d590f3a4b1c3ff66e07edcfb94e3c071d84a92d1613afb366ff97f8aa51ad9f169e68a4079a8a28a8eb73d1d43299d3a748293d4aa934aa7f9b8d7d36cd1037bbd7f38d6e09c7ecf48b46a62bb05c6d6748ad57f1f76112e564e371bcb0adcc5a6745ddaede9671802b845f15915c882b6acbb7a1d2ab71bd62ef054b6c7b8623d731c53621f574931f219847a1326e513e46475355b62d5f239f66cdf6b606c021ce7731f03ed4ca66a4caa1fe59c51e6bfba623f70a22a05a64a26ef656f84a10ceebf920b1733da9565441395617b59a5420d72fb40dcf628dec7d24b85fdfff83cc25f0b2efb71ea5d35cb938adcfe51de425eb15c87a0031f20b76503ce3de219b739fcf4469ddac10ba8344101f3ad93b5353ea46ae204334f8c6afe0a8a7ab64eb01082f3974bd7ba543d1d7eb5172190aaa1fa332c6b5dfe99989765a901596804975ba257b075e169b384eeb436bbd768ee3af5b1e82369c3614a97a31f451da483872f9e24cf22903275ccc60fe02686f29ac4b65b1b003b24e5ec0438236be3f7ed4af15a95cbd2d6aefe9f0fe06ed05f0776f8a893258a500b4b8ef8be339f868612cf915f238ba1f2102e53a2d5dfb248997769775d4a7d47e22abe3bd37940a5d24815aa47d5e7d4d8ca2b03ffb7819be809e02ebdc4b99f02eabdba55c0a866f6cccc39fd20ee5fcaadec7edd24af3f9a6a95fbf0ce7fe2f2e86e5f1df0f090da9c76a1fedfd7b3424293b4ee0dc7ea50a048e5dd5a84c60e436956026d1573beb9e2c42d8ccea20b2685e6bb2bc7ca0b746d65decc38d39f6c440752525dd9031274a9b195fbabc88b214c4214c5c5c532dc0881866e8d098aea62bf1fecef26696e51923e781059c99f9809b7964e278d14110d4e9007b50014ff52ff829c49bab11aa4a1e5f85ba858e5140bceeb8ea6ff0c960b1c779d67fb0025c1b6da73192ce829ade456a3e7780d86cebec4397f230b0de1f495c032a998f405effeeba91a062f2fc10069578e7c3361510b34f1b07b2978622769c30067bdb06eba786fdc12db95d91742af782fd8c98fed14656c7d8a316a97b396517111ed8cb72b110b6b3ecd9577898cceb0dd276dd04cf38b616fd83340a7320ab97133b62a59f1f728b1cbf7324b43aeb57ae1f0b7224f0902fb6f293250f384a12a2df417b834216e7acf502dbd4b5689b93dd24814d71ec339406f018d3887d5c150010662aed794c57e6b330f3087ebdd8d74a87c4014ce5064ed402f245c8d68bc36bc331454092bde99c5e42ed8ba0d22f7be1ca3f1a7a6c3de3ca73cec64502b77d69ef43bc44fe8c8811512bba29c18f592a1347ae375d36d4c1e789b9108075a26b0a8df89d4dcf14a6f9f6cc76ef9df7d8ad6551b94de99d996c2cb9ff07af5d17a4813d7a28544cca05cfaa391503909f91370d1c05a1e3b376a9436560d60045da4bb78d2f3f996acd56b68f48b87a4c0afd16c6d93b455488c1ebb1b3a4e065bc1bcdefdc7404aded52a57756256288ca73acedaf791dc35a7fb4f6fcf96480c3ccf7e9085e981f31a3be0b0d53b4feccbf2f4087e11bbd8101dd13291746e9e577ae7cad149b70b3c5198ed1c476a46f8178c3184e4d368f1890e145fc2eb6d7bda83da33d19e6b0320af074b0bbe5432958fa8c31b52ed366b2b3cee0e3d685f42a0e919569b3806ed92b57e16145ad4681b4decd14c524bf2d99d2fdb59f7fa1c03ed55d79f40cb1eee79dc721681af8d3691ac4c75908b482d7456d39fa31b198296622c2907c63d4badb800c122ba9d7e51ced6e7d397457e12d982b19f9cc17202f96b7e5d75d6c3699308e4ee5a8f89d63edced7884c31cbbe8fdccd4553fbd6be6e7b4d6fbedf61767a2fa727b06be55088c564b0b2dbed6380b970185ef0036767fa4ac55b02bbca888cc7f076a7e6c0ebf56559e29bcfb9ad150b615c18d799d79b1be02ded72b2410cab91c95ebcae0d5ab7f6aafe5f1284480f21b5b43e60789954c601e830d9633eb02e39a2b247dbf467917d5a4cf2536a86c52b97622be0f69fdb91c657799c8b01fe1a08f96fb53598b8c02df5c9f7d734bbb31f677a16b02375b74149abd4738c23464b66acd94d691f53fb0f7fd268ff462f5a603e5dabd07b5754f61473432c0b5b0e053160ec29d9fcf9fc8c5553c7491140d954b2f594709bad2e94cef0c3b1a9fe7cc0030cc328babf57333fe76cc710919df8c5312ff4e22d807a1cb8fe6c5c17f13e1ea7be103a599a8ced0564725313eb17c53d07e827b523e4ab6e388d6f6073331acd10608805aefaad7a23eed65b2cec30366f7184aed319f97ddf5391f2466145677a3a9a3585cadb6fc8bb1c0e127cb66e171587cde38f70b67da89c93a8f45e212de6d4a84b6b040dae305c89aef92b93bb974056e6edc68c7a7956add6f48991f8430ae3e188fa645fe1591d243b76cc3a834278be30c213b5c9b140c73ad1b5d0c695d1716ad3fdfa6dbb9acce5683f18f87737655e0e87fc692d4b2b76628b9a11cc695f97cb05a3356cea90277a19e0eb3719d6ffed7bb05f3630dbe466c09126fcbe46b286fc01f852ea73f73fb171263092221a69c4f9261e78cfb644bd0011575d8662596b92f80d3374b5aa7a1fee15230a4e3b63edc0c01948c2521ea72471bba2aab0c37db15a9d31809769a5bed3d6f08a2219fdfe88549e79906622b08137f35d5a138d5714ab02a6eb3107b2f25eda9fc4c169225493352cc578fb501a7d09c5767540675dfe041f82dc70e8173c31ff7adbc57a4e02ce2d7ae3f700f5307db616b0dfb8cfb90892c3744ed4af2ce8ab2554fabd53198e2bb7bdd5302b03a07f173fb8891be574487f68cecc5d2b959261e7aa5d7535a9577cc0d212a254eb7c879c6ab574ed6a2791f84a1ba6aa01dd5790e0de34a3ba9df761300bcc8a12f5c9bee9c49ae8643ef160383cf99d1c1d1169490a2b76b51e48ae394a593c96315d4c4e1b1be8cc47ae16c0b9ac87d7ba386216389777e65dffa1bb9e2350093d90008bcbc63424c6f62e3fce7135f0fd1958c5268ae5e6303c536c9a8552218eefebd33227951abcc38346cec0a9dce413d9569a78d02c1704cf0233289d79e2a2f574b454cb9bf80b2d30913bdfd527c3b28d3790a3ddabd7087864ad1fea2f38b680f91cc041411325c9fc1119e51f8faf286e2efa517ed05dadd52ed422474e71786fb755e3627a91fbedd75ee58864c3ff355c8e8f9d6486a984a047308ce8b58b04f1358784a7e75c6dc2011425d7f403b910686b9c94de321962763728906edad443b3cd81a750d750f62c399a9cf212f2bd12a0cb22c2df8ebcbad37ebb33885fb4e432bc59d8473ca3c86ff540b9a1593ef09c78d79295796839dd9a2e6037805b73c4ef046c8dc727e0acd4d8b486e951da8a1d4e9cb9f850a729d8ada4a967c37cfe837391c45691699e519c7a82c097cf6538f0ada2ebbc5cfb4f31386f6c137c7e22e6c8e911672a4f5995442ec298755dfddc17d7730929ac7dd93e675d55df6f1d5280fbc1ae646d99d3204239e70b467c25c28c2be386e259822c81e52848bec29b3de87f60742168e2f91c26af40b5d89cdbb5dbd1e4006a4e5e65fc071d42f4fcb254b79d15d76d1f7e2d559b84e6e01af5dc8eb17679b24e9a716ab5b076e4a6747602d9c21deeb862d3bd3c0b65629cc376b3672b9205703d6753489a46e72ec06c5d4796ef0e0a25e609a000c641b3bf16ccfa7184f9c97057041251bfbbb3d60715f9e2028fff473307002a5117f96306053f28b03ae5c23e6c391146c5e9a7d3e4902c8934113e162f25edeac8558d87b4a64ffe0a916269d48a69a56c97b88a94cee804670c09d6cb1a7199ae74fd90699eceb0abe631402e7694e547a27fbab0a91fdbee55f694e28e26e1e0997073c01c6759883c62f28b6f14ac40d8e68c11797a8236115b2310d518283f762b0e6ab3b7c920b082e168300c52e0cc12c1e24d7ec2fbb43141619d531fa66ad5e34c38831f61273ec27bfd26e411071a6829fb2bd0c915caad6f507a2329359dd6123550378d1ace79df51895033d9824e2db2e4d824db62e7315a916a774a5010fc769c665ac7f058cc59962a487305e7f89094f4bba91540cab57f32b960118594214d9ea54c9acf448d815640c26cff52e83d1a0759154b45c6d815e702791d251d6e164053e43a6a2b5c462ddb1ff769f3c28afba2ac6eb159c40db2170b9a2bcf7d4952911c2a3f6729830889f50d44103826b187ed1a5bd7c0496bd777018297b7121b41e1ec161d6e62ce15638d8b150231aaab8ea425eb0fa93842b5b39195770329a7ee9f0087600ba5303efa29267ca349b69d044a69bbd43968135e81ac13358749aa3b7fb2bc253dee05880b311d206f9431f45b87af8d48b28daa4d6c66ee8873443ea591940a7e3cced049adf02c3ce921a3d792acdc7ca8c9c15bfde4149f7a8c3c1ba06a57d247d7da626bb540d7f893992eb31dbdb55477ff8a9675a5516cefab673602261a05fbb2e8369db51da6caf3704635de0e24194ec28c7712f168a30a196ee29076c6d3d7354f349eaf70831c8c3bcab64d7c56a654843e964f2860c6b5b28ef7bcf1e0b7575e01ac1afa458ea6fecfc9697e10d202918f6630cdebbc6c209a0eb3c0ca12f0ec1de557392e0e2a882cb06a08c5764caa3f25601f1de11cb20d0b7862db72dc63989c2155f9cd6ae44776f9016241d3f6248f238c5c5a146ad9fc521bd919fa5134436f839a1f0a79fd5c67ab82bf261539cbe155740eac9fc24fdcb3691931875d7eabf6a53ddda9f651f7ab8715917ebf556fd6ddd04885fdf75f4a18c677635a5601fb292c98a2dea113a4a77ccf6267886259cac19233db5c885b041fccee3bfc6ef0b7ff7c6648de22c973b6d4553d59e80d4df952aa7ec9c309aa620bfeafefd974f0c7ead980523fb6ee8e8e76432efac117579bbcdf5be46cce67bc1ec127b80c05f642c84bb05fe560fb2f966274d98491f164bd7be72793e0e2e9b5db3844b5a1664bf6b173c5b2723af3b1324b9f24c7f2c021ca75c0285d9a68728d8e80c42f56da3934d94188cbfe715d52b7704f0f1dcae1ac2257902668668a0d4310b5c5d92168684bd430633419b3a777d8d0d42c9e0c2e78b932c4ab471330c0a399e4c7af6a138c31406934b7ef25b01d0b941d64d0135ca42d5cb722aace3a328bd3a36501bdb981f0c0952da7098a1494ca3e8787cf9f44314920d1f3f2243daef548a8de987f3c6beb29d3b931b3a82e4d1cbef48de722f7535018865194e9178418afc3698a6399858c3ff8d04ae949b3e58d5bc46cab322777fdda3034efbb863f0ed131e9b9623dc9d79320209eb5a5c45c443d5ba675999ea2d6c8e8a15a0fea6ef5ec332cab385e6007070a544b0cfdbcd67d1b4c5b91fba821e096ea8ebe22e6abde3ee4d5aee7dcdc631b308f52316b7d39fb6b3e21b9192fa0d883f88d1e7f6a8c936c5e54716867ccd742c6643ed5d2b7cd9f7450abfd7c6c33092b96bb64330c378cd2b7f848a5dfc020e4deb7397581c5e8491ffa5f1feef168b8243eba2b6b99abab60c4efd3f29d87a96b6d9d245f4f6da7ee969c97bd49404f0e3fc290e636bd4d49efeb71990cd43072a121ac234d509c556ff23ad48b8da73b2889de5da5175126513496e1cab450fb763f18e991ba73b2469c91701e5ad1683c5331930c6988720dec9c7b2327186ccaea8a526d0913eaf17cd24bb529b55c1477515e344157078c17cc60f00d84ac390b1609ac66591fbc2ea23ba2a1ad136acc4d2243063c0794f604289221f450df69b8ff7d58679a016780eeaee4173f081686f63e0ae900220ba7666071fbea4cbab3652a3acefdb08aef3102eda538f4a0b7b24634884322ace4a2b3fb8cab3384f519e5f35683b19c41f57c20879c22db022c6afe0b00b1f3bb929ee12636417ef9164894a3ef8de1971038d57099ec3669b4a235e8cfae2fc0439c27d74e7e7d627db6bb9688638a666cc815d882c962d8db1d38ead3386cabc0ce7ded9dd0c1dc86e920f0bd29852f2cddb817751a6179445f024c30f1cbf724d0c749ff927b4a4c734ce4ada8dd5538c4e3829cb586152f6a05534090d0c010dbdc688b121b37132fec852aa805220eda9f12ba45cb3ff541ba9bf84a8d9d43405b38aa2b92573f360e66cba4e42eb18fe216efc4c15cb6d8940e9cf59bba0bf0980cdf863ba1641b6a197e2921484bf261a41ee7c6829b17cf665d9dee666a7de579fb5dc34043d5d110a7b7068bfd7560433eae31b570b296fc206d637fe8c3aa18440e629fac802fc9be6cb17b0c10322c9eacbd513d904cc90731bfa306791f12f5aa08303abc793d572c860c71487e7cfbf01d95d5bb72bb85a4f5e4fd241a8ecda5467ba0092dc223b4bbbab3a6e3f1415bb8a4e9adb17e77864b748e2b4ce00add224a177827be3547fb6b1ed2cb00d6281d03c05c9350c881107807a2d1b683e498bb89965d2fcd6ecafa34db8e2908462b331a645e12a61a09a31e1dfbb4da3023d1c1e1f66c6411f712b47090394fc7f8dc44d871cab1fd23e5107e4bae3c57ca8551da9b64a55908e4b5a3682c30fdfddffdc4e0318fc5a8febb2f2611d10e5c34105e3cd4f09c45d0945c3ee538f6d444cde80e20aa5dfd79146c214fb33c3c2c53d644dab63268f56e135140bf489ddcfe52fb8f606f71973fca6d9ff25efc28c83988b3ba193a0383dbd556f38aa6390d8909ab48be0f1a1cbb9004de04dbd07d80abca1309244f298f8d371d13139134f8be8e3ff5e8ff83057c9319ae9e4498153f0ac62c8c93b96cbc86000210ea2b613cbb0e88e636118c15ddc5b1c2503374743a8d8265f49d9ddd5f85dfcf8b103b97aa083316c2bf1c2aef39da5b86aa546f05ae17c6218e2ea9f41a2431284af5be2235d0171c94429e7931810ed88dad58fbbb5f7a9804722d9d143447ab3f741225618af8fd20220c8afe72ae87bbfcf478d8da633f6a3b49516d71686e89202e5e850c83e089d9a1601f6a037d9276948ff31dca2cb5e14920370e74c49fd3b75bbd77dea3ea3e35864de233f10f7a3d75c5bba2fed77ff69c3cf1dbd0f7a6ecde0f5370d922e1e63be32f4b974e1282a329843cd724347b7f09a989b11c4083fcb399b168fa989c436c8271a37379546395649b7be0eb63cb5c472345dfab367e9b3ca01d8495a19a4ec4d46d63120e4845b39d4ed7bf47dec574ebccee59e454a408ce3e5ed41ba6f5eeb10aa70a181a8c46f1989e49acc414eb6cb536767ca8ab80f94f329374408cbdf3251f1629861af185a5ebdf5bb94f93024879908c10235590d475c7d50aaf88762ea5a08280994c8780e1923913cd09ac163bea145030353f8ad31905fafa19166660b5d3d334c8559a90a21625e4922d29e8f1e21d4afe37ba62ad218054d95c097fbbe38769b4288c89ecd28957e76c746612c593357426b8558ad77f8134b2eed1f2fb141b1e3d11e6db03950cbe5de7fbbe6f925e508f4c566384d9e6e8bf6de7838bf7d4410f27318ff9fb6d3e010c50c31bf25e9fd8d7d110024702bb043a03d8b76ae72883168eb3d32212f047454711534eb4fec46330b2307d0fc106bc412b92d495d1fd515da2b42314f79cd7ddbbf4f21506c28befa45c131aa32ba04426c697bf2462859e70974ecf1754c8537065d7b1bab8a67ae888661fd0c2b7aa5c78914d7c570a9276ad38f7d7453e27aee2afb0dae5d134ecc1ede8187632585bca0a83a392d74bde573899b2c94ad0ade51ca27236448ab31ebbaf4716a85a6a5a7aa6d78cc25299844c2912fbf6619f58d105c27c7421a9ec16bcfa73835efb509cc2af6c5e69fbf99206eb9a713dbc8df0d98941d63df3ffba6121654f25283eac28d6917af9e9506ef6a1af854843d4a2d6109759a9bd37d70f205bd5914b30cb05694208d1d28fdcc9fcd96035251e45dcda95b9fd45e1294afd2fa2cd68b923f2ac1f6c9fd742ae010e5dd525ac4a80a19d88870a8ae4abf739351ee955723b3409263f10c25769baba9f27d41c0b30014c332d6c335d6ba57cbccb67437c3614f1013b4d5f07e1605217ca8da246a4187368c262d93f13a4f63edcb44e444c3a1fdcb2200e91a081aa4f872d84a3af0818078e0b44c54444cfa679542ee0676abe1f624cc7e402e84f1793df26dfeafaf7ace44cb87a9816af25a220658f4d12d2ddd2de37ad0b62d09c9314d0a472e2afdb4dc6353a17d82dc989cd921fd5bcbb0236bfee8ff6c84812f09549c9645ffb1deab36c047e35469f476bcb81d255c9a4827fcf4e0571a8f37fbd3ce317a70b8f9964e67156673a44d07accb715a12ce37e408efb11485ac0b30033f6d48475401bf7a6d8bfcc406762fee41831e222b7f242b163dc06a0cb7abcf6ed4e3267b7c596c014687cfc61acc7c41f0294cb5764a51b5a23bc05753afc23f7cc23df6a581913f0c5fc5e0ffcf137a166f3c9e7b5c05ba4bba0712c83cd9334a9191f94327bfcf8edbe53cf955d2dc8d680aedcf5e0c4fae46d29c589503fb87f58ca8101ae5f18c7c9fbbd969053f1f46ea103fbe8c1760e42393bd886a9f392c49b8f560763c3944bae0f7f0ad8b0e6ab90dccea0e781288152aa836159a5367d83a13d46fc4c82a2caf106fc8e0bfd7650f54637dbccfa46c83dca19ef679568d8ab3ec726d1a2e47a9769918cf21a8b7314bc44fac6f03a4cc21038f8f021a13d488b8a6e97265c15349d85331e27b9cc5e8d50bc43e81bcf7853a3c74275e1b25625ed59a186fc31f7541903a5a4680d18ac1ce9a8dbc81d393803139d01cb96c24eb6273104dae58a175922d15f76e64c1cc7e2a929bc3ae4451033ec10927e4ac5abf14fedb470378ce7c1def20e9f354b3fc233545e3d41314c7bbdba53efc82c7bf3ec66545f21332517b999c9568f0266ad36ee142f9b42383b36b6ef70a50ad4b754e5a4c5106412e23af9de66250aab9de04ed03bfa485f053345b63736da1ce733d4dc781fd7f7785de6c5c6389559d0208adf95382af83262d6f5231fed6106e00a4ea75c3769d69f465fc6bc5d0a94ce490e4b662965ee769f23852b898556609bf0cf7885b13d76658b0fb22b38ad8dee454b2e869386557fa24a71b2235bbf8d28dd33315e8c390c3b7c6a348c74aca8945d6611952a814e35898de7cb1885dec58242151e152114e4114590ba081f3dc18d9e9b34c2243d9771e4a3b5e212f0e1cc3d07d22d1b93a13c40e198b17d72972e46d4c9a86f59294eabd4ad21b936cda9942af41e67e2a61148d24a56e8dbcafa4a0f387d9c46b389518077007c24827e4427502cd46a5541bc5ef90fd9c47e7340f0315c90f803b72be19a086b087ad5bfe92741195756434039540843c9da15963419660b7e528575381fdece940fcc73d545b6eab325fb29e82bd05be9f372674fc7af4a2ae94d312f00b599f7022ea65c137e73428183b21316012d274cb990748fca56d3ab5df969d42e2e84e0532f616a9ad261f9b365ef1c2c67137b65070570b16c50592bd9888db5aa85436c66b6eef368417aa826c81e286dccfcc7d454b7ac0afe7c147f4de891d8eb6e2c782b23ac305d8f6bc2e38d05921e04e0988bb5b3aae1389b34922e511b6423e11b376bfcc4d875f23b4b6b55662610fd172c0c68722ff0267be53e88792a29c9ae457ad56401e98161565f524e77fae36900bca6f13a30fdd01cc51f9a161c93358efe740ce26e99c2d2a4f41a4ba8ab302d089c503cdc442262cb0b8bbf7a0743669e5e899c7e02e92bf17330ad182c352c562424aecb512f424104a62df57d5908cfe42eeb89da47eb1073e5fd24e2905e7eb4c9186e428189e9fe7200195b152e09e0da87d7e195c2a778e136b5fb5685d2982f7dbfd8529927902b1a7ecfc075c76c4b5c38753ddbbadfbe99c2e0d62d4fbc4497107760b0008a950b46495d6a5f7a7b9e16d02abb93ac9f0a2728b3c2284ecb192502026d042551531aaa95121a9aad3e0c55fb85b8708738c47d53fb5f7bf292a6af10e3334f7b5ea3174e26d4d473f646e6f9506049ceea2f0a4daf4466ebbf9a68e4c8bdf296cc6493009bf391e880cf391b8ad32d1c9b5b715befd3b721fbeebd64db094d986333c91b049e0d37f2b8bb5a7f3d5be68b345c532f41a636a71f7105bbc9d0b6860cf62f832e23a8f93c5bf316558239487fe5a37bbf7480140e201d899dd1dc81e867ccbe6a3a72b0993e3448492af6ef3a8399f0af2d05686241bad507ac03c40968cccf00483246fbbb73355884bb5290e5eba088ffb588ee7ed53205a0367af73499d0f594864d1f448b8e41b440295b1ea1b2a9d8ad654928a411d4323b139dfbcebe105282ef153dd88e667d52e1d7e2b08935030ae92a33d656389c6b29cd0d9a329cb0d914cb47a240301dec554ae0221b975f78a305eac115610e42f151b3a557e1a238108b32beafed4c25ce4fc52e400ca78508287698cfbd043b1c049f6c983bb20ce3b32659e6ed53655ff225b5414a8c453e094aa94cc5d89e8349cd174d82a44a6537ca7f7d2df19d4c631e57ad984a6b0db766de26a3a83a4a03f21418834d29fe1982435d88120859cb8a349e3ac62636705196ae3057d9d308453ba906353d59103720a373d9cdb341142a359cb9b1c5cf0c01a0ceddd50128b786162d4cbceff363b96e8f1055b719e5d3f3af73dd7d3fb9a0dbfb6a11a0c16f32560ca4b7b8e0b22a3efb8f9be57150da944cc7205f06cb35a99972861e0fa91f621ee0722fe0d62ba48b4e1b36ffbc6a05f3b6ad0f69f52881a0f5be03b664ea0a72358e77b20df94b830b82f7e4a8796f345f62bc3a0c4f24bee0b00b26950d46f41f8cd9e32872176d8c02e9f6e2c05a9a9e996ce8d9973bb6cb475e127d6f0a1cd225385d375689ffd0b66be9760c8e14a3bfb0a500e368f0cd796288e6a752963ca7c164d965d272904a1533b3b353482727c367410ce36d81e7b5559bf6c3a542a73fbd073e50d639f4ebb75f48d1d015836a8f2c29114f87e20e6e5bd977a1d9637459a5fb727a0467a2a1752da21a9a4ca448b84fc814155e14ca553b446e8d472098e18b9899ecaec7bc1c270075837dab892aa656570977820ec58901d8076153df8376c522cf38f34358e145156c24b03271824d419ab4f8642b67c5267b3ff492db9c5b0081d3935ba2c7a10526191b3753efc5895fed114acde2dbdf3b78cfcc84eb27a0bd0e2cddd26655b1151ae62a22fcefc5265b36a7981c05cb8831e1208d32a28dd1c193bcf0bdfbb982f1fd4ff42d4868cec18c85c813435f6bc3e46c9fc980dfc998d5858a6724df4a4e5c43ea0ed11952f03e8b2e3f35a289e755adbf6339474717ffc167195fb4a5e49f3fa3424321f3f6584712d7f033191c70b3074e9b8c0802bdea6d5d81a9fcda1b5db37b71838f45d9f3c74695ed1d6c885f2f5667af1cd19bcf839c2e08ad456bfc911409d6129ec31becadea58347671eeb19859003ed867700dea96203608da5959702dba55040e6bc4e7926c7b8419a3fb8b990f08911fa86c02221be95decd22211231a85fff18eb313250e6e141ca5c399f5829c94f801ada717087b7f11ef7fa26cab8b516f9e6e5c914d4a06b5d0ac5ce4740acae675964d488353ffa15121dba993fd5607beeb020f17530a69cdeb2ff0ca333865d769da7f33021227877bdd316ba4b1bda960c54455e5ceac09be79b1888f6165319ecd34de38c22a4f7e28c5e1a06d778856efce3e08a4af0a9b1490eb3cdcdd44965e3465493b6766b589a7c100cd14898a3960b0b1eded6f65c6c038bd8a6dd8d2557466c6aee1aac6dd698b051484e03360f4dfa24d876542495e27c241bbda64946b957ea3ac8e863ffe5b05b2feb10e55ef085fd6802869a699f11148a7443e9e055f30f0564fd666fa2231ff2e9376ec02237ac6f2c1365ba37f12e95632a8b6fb9f7261445c5403d3e0ebc91f4af7f74c98114d8b4efd01e72234b6fee7b0b8e27fac66e2414d11d791efe90202f478b01187a8a6bbbf8b82aa1a2d8d1fa267a1b548d486657d27a97b1e50b77eb5d162a4207b0065f7a4f6e1db7026f20d93f561a14fbcf5453cca81847b520bce2e79ddc20de153468a129411e7552a8a66edc00bc99499eca5732b7fbdfd7d7d48fc78d8d740ad35b7488f70e537125da18c1e6eada9382eac42377fdcd40019aa7c0d779d25d5baf0761243b971f6829fa1295b033f25d81b1a7ab899405c75d0d325adc9648af1ea5ab4756d96e86e9e5ae3b0fb381696e58bf615ec3642a536dd12657c0f908ad449f6060b3ff1f5504ee05aca0d0ed8454e59c9787cef05323ad4a9bf0703266f632de0b47b5ff5966970058d229f8da0cc733d44962145b9dc517c800795cac66e78f3e59c9cad0412f4389a2b33054ec86c32a2fca73b2b2e85707d06c42476e7bca1ba7657f56b03aeb3e36e9006dbc63eac54c4f3c729fc063e82d2f2df91ddc86aab1d024ce94b66192c3f8e7b437dba1db35a6c1bd3613f4f88da2c728f8e34d28ab3bb727f4350247976f5694b3ec0153cfa090a21ae76a6d72553455851eec955efd26f20d8794db6977a17d1fc380bda3b4c2711139af3bd661050f2a7c62677208386d4885e0e6fcc8d22306973a590f1e0a5aac7743142e1e744e06f2cfff0a198187fe140e36a3eecf444b89f9c2f33f475c65582ba8a8974db3958a5934bc8d89433055b308e9ab474d53d8fb7d96845c7546236ef90b2b8a7483ba513abb4a21606d263ba2e0a591decf8a87a6a4d911616a4b7612b6a54b1372f434326139406f79b54f59301ff3e5cd6e7bf718b428a1fe0a6f5e391fade105d90fdb8a6c6775b79bc7d896655a52c3b2b5557d325f8295c853b37294ccf4ee155fb719d0c99731bd5993e73a72bcde03917a37a7de4a832c39eac9daee120a156d3179ecfe02cfd93d0731db0534e3a4040d6b9eb0a052b67254a025c8cbea7f2cafae2581570b6b828ab972f258c728a8072b8fd5df8f3f1f0a8b634b9b06310653f1ac82d09d0625a6d77719a66fb3c9235c817a3858d80357e349cca952e4e00c7abce3c0364752f969f8bac130757db0eaacd8574555468296ba70b95d6b73fd3f07efe47da33a5254d6194e4ae34c3d34b45a344b471b2077115b86962210f8e9f1a1b19d0d10afce5e9e09484ea1fbbc05ea2b92bc8bb7a4f19448e17c646b90e1280d49deaa4d50eed10bed68b0c8e1127110265d4f3c52e889aef9257454e158498c760fe6b41d2c68a145e8a6ca3203f6f34e7c888ce2f8c262078dcb41a9dd771d76e4d904b93368ca0f31450d5f1d6accb2fd82553f89164caafc74be8988dad3995a6bce03adad58aa51107014a46f00257996b9bb68836f08d48bbbcb4a277451ba3ee47c9ada8a65a5492e5fb4a560251c157c8491f83d3c6c389a5f6a0b3ab940881a28c7a255adf8e36642315c6395d60880427413045dd734f172b75fa77a7ebff07563ce7749cd642b1a60aeab2aa56ba28290f3d1581cc516041264e6f23b85019b308d765f0645e983e38b2681e05274df97cea4a345fadb98ed56f419c094aee0ef5f56a5579558d8cfc5df90c0ab9e346b943fabcc12a2c7196ca0ab31b1af89ec412e79361db5fc829a5f8fb8ac53e9e58a8cad50b30d81c5d909485683decb8d06760c0041f6b52a6b3e7a5c81b490d05468e4bda5ca1fe1ed44e0d8532b4dbc12e9c0ce3f7f48cb83b69ed12d4dd10c20ce9b96de36f94b83c414956f21fa6436c93e50a0fd3659cefc4bedc8669e9a16342fcb37bdd6f9616a514ab1c898e21121290aee7f8fc5fc3eba3114f3669650524dad7fdbfed91e7d62523acd5e228a182f161ce950094302e92f6e8ce73284e29ee25b632e1a97f4728eb7d568ba79d569ee8577d0e6360d135ab10aaf57d2b08bda7c8e2e67d6cb94d18ce752fe133485660503474f4f59cb869f0514687e8bc9d2c2a0cfc43eccdd45f870da3b563597d3eafbbf0853ed3f8199146fe68b97cb68bcc326da2e9bd196fc9ea0a51f2221018d6dc4f14b159c5e7af0fd8bdb81a21db64c8f5a3d63479fbe97abdac9d2f80410464e65bd3a9a2295a7b1f040e00e115f78e2bc992b8ad75855eeb6113aed6d53b4d90e8655fbdec69b254330a20a7b4df03bc553482a065e19f368717e89154fce7c702810be6c0533a494d314b645e37aa9a8f99026b696c9a49a68a80b60bd2efcd2d44f9503ed59ca441e5005b756632e905c83ccf809b0fdfd481ddfc017bf0c23e65799e4d811d213204d0f19e2868650580b525f83c8cee9a5f18d845a36d84bcf3fe064bb571a6be0b439b097167f58345ae570396d445499617ed73faf4748adba123861f7523871128e9c97a856de35da6dc9fb8ac7d2653073dd822a7fbb23b2dacdb38b0a48b736b69c2c40fb0e5d6c9b5d9ddc9c71b7ffd6a8850816a39b81d4412a45c167e8998ae33be17a898c454643db266898cbba4d884e5efca3f995fa3f43827e204ab58a8f4077c10238d9a4d72dadbfca23f4c2fea266db7c945962269a95db921283cecda66051779e3cb48c44e97c02f22bc6f88b5d850f016c6b80b0be7fa923882041dc1a8d146a80b05cd815dde870a595b2bf973f2a0c3fe94dce42cfef17a34e00fa3ae0dd120d030b93fb990baa4f3c5c37dc7f0ed580f7b4fbef7ea5705d039ad4c190c8cedf6190227e86eb9556578cb531eb9f86135024e2cde9aaca44a593900afa7bd3d1a2642a85ebe29c22a9c778e8b8d09e79ce26c610dc822811331e4633ed3e1f3737e91806e78a085ad1fbc4145d651a4e4aaa3148a7afe9ef103506612ef3e75d05f81a8e2ad07f6d549237a520c3d0476f85cc06a06bb714cc269240f1347321c93e1cd5de9c1435a4c65e8a83d485d53e188921685a10c9bfd2c5af81f28949bc6599ced545716ff551d2c7f5a2af99b316a251d918afd5051874ad00ca433a967cf51f268e23f039da1c7c7a1ef4de1af893d6c8151c4f18ea82da95646aa17c4e976f6ac6c9e3fb4e336bab512f119932129f2fef3f92f01b98cfcc353404c49d9f3f5c1646b1bdb206f534ae9c314bdf2833f8c17c38c32e1af3617c8ef7ff32b04d5e8ea53b092b43ee391b4354aac0d51f76822cf17a330acd8042451a32623c1ef9bd6474397c7b00e4f127dcc2f5442870bb1c0c5dda6fca130aca56ecc7c226f738e05cf8c4e6b04af2d231256121a3bc945f8fd99e1f71a039667f2399387982474e3b49fa53b71ab112b38784f90123681309799072b8d562e61cd31776b87d1f7a9350a5b8e687defb0bd34f58627401940ad88aed207f9bc0a7c05c84f35bd2f9dd994f1a4d3e19c0c51f11d56afead6d36f35c82be7a76a10a18c8a828c35290a224feab9c57f8fed5a943179bcc3210d61dd3baf3e4fba0b49d0c69da2ad1fc6b3344cec93e8c3606d9e73da5f45a0a4b392dd2a51605c7c959d00e0f969aa6d286519212eea68999640256e971e15f7602f8a7d1c5742e798de40e3294bc7457c4c9f2e41fa0936469369ecf877585d2440b18be719258bfd21affa05e7f4649da80f0cdb8621b9db0f7f893dae39ba4c6bac9568e0d4d92724d4f107f272b01bf33a7dda355899c74b3030a92d98ad8ee0bd724d83fae2e856c1468562271423d0089cea3f38d1dc041f6c03c625ed409a32afb5211e48b6c5dd314f96e3ccf95070023e4bff5b03a2ce3ce237ee40b278703645eb633ec8db421c103bef449b389dc8c717f4494c2763ea0e80a5c226498762d0e1541ea1c3ec2970699a47cead7677e15e6b471f0e36d49c6d6a48fff3243aeec56c174eaa3750a4bdd595d133a5d71538bd5dfa20608f59aed7d55e6b4d3a254edfda90197ef01a515a42ecf2a8055c658b2a35f62043d412c722bc306acd9d948b3b57c54f5bf78b37a412fe906a8e2eef4e2aab3532ff17e1b113acc3a91041d92dd90ab8c12c9d2487263c55d2eddec27463e52bfa3271730787b309a05061ab586bc86b39b4498af7ce900e68d6ba554e956cc35cdb6dcbdd990d6029388249923a262a5cfada3bffb6f75740d94e91e7a0ad21a315db2b8cacb7c5f1076edabfb80fc639258420cad52ff88b3ca5c9e184a1d0835beb16254a9e21fe133c4dfa70d7f6a57812614596d6a81b7ce26876308e7eb8c30325449bd166754649aba4c772a64120c318c1769e396d7236a7650366102ac62dd9331d5968769fe5bc31d58ce54f8fc3cceb9235fcc6f38f72f01724a233db42db4eb840baef37ccfb10e6a181a312436bf6e99eb8346f910f098a6e259dfd2e6dd2ec3554b68e02c4b2775139341c98d5e6b5919838c34226d497a1e870e1dfecd86ad87609ff0ad9fa5bea5b42c142bf3b965a29e46e112ba53de799186793369042a4f3cc0c5955261b53fbcd7b2adb23768adc0091ace4d2cf9960b4da5871943033be8a082c9160d2c167825fdac044696e8ccf8653b773cc3137016fe06f1813428a0b15eec1bd0e72bbc9b9b7d938a7075caab27f21fe2af7b01426edfa11755ddb66565abf6f4e3db1cf72a9e47ab7d17808b33acbf66edfdbc9e8b2166f039528f8ca439c20e91336be0a46a007ab478d6d68a22e44eb2cca2cc92c5b5f1069c2b325fe325a43590ae908df8827cb1105d1400c469b0b4d64785cd67064a0d6d11bca3842c6e3e04e3f6353d434f4f07bb50c2ec51d13c62ad5caf5da0fff9619356e14e3035526eee9a683c7be0fa10be476ca311664e6710a1fd7295eb24298d3689f61688cac65e498713ee8e638f864a2b325b05dc6056cfbf8bb02eed440f294160e37d688b89ceee2b59fc09bd3ace1dc25072b446f42f613e5ca568002a5a80ff0d2f444a18a4beefbd488385a012a84f25e84981e5e83414c719c7647d317e35f165a58acc9fb92fb8ddb7c1e5bba7741e75cdea19a80ff3250b0f124b449dd3406c3b8533a7a99524399776d4d955690499b2bd4c9a9d992a368e69f3d94afe5553b1d479398c5fc64251d821c178d5891fdb7d0bf00d262e08026a1afe15abe81815753b42911a492ef58f2ea7d20cde0cf4400459255e35af1bc3e29a0c2150e78127d696291aa8099b9c86a0bc2aedb082fcb5f90ea633c858522f3e8b37633d722bc686738071dde42180cf0930ef40ec63c9365aeb34d3193b3bfc511a38ddd52dac2d71eaf94b56bae2c7c0d55c939ca87359c4bd6e5aada68a4bff61e1ac2c4c8b1c7ed221588929656aec882fc50fabaf12e4bafbdae56df72bbf5e22a71751f7023560381c0f390e8c0c54736ed61164f33414caf91d4f0f6abc50e4a3daf38c322ceabf3567224b4b8047507fc4a95af733cc17e7ea8a50f38253eec63be20cb59cf7d5e00fa132d6538b771acceb8e7abf20413e321132e1d7887fa4e79fb8e7e41f0d2563ce499e7b4769e57c17abfd8fb99b8607d9d91d209432f38a4d9625c0193e0042d7edb63af107605437069135d23bc9b98edb4d12df6a657862358ade388d4ce7d84eeaef157f54c825db1b0e1402e46f4b1a858112ad88c8890278e96652a8473ad783b3e15bcc9550b8db6913cadacd1ac0d25cfa56e6f07bb20069d50f9a4b836f25e78845e3eff68e76d52f86b462b0ec4ac59ed960e287bf1a01e039dec3c386609a28d79c0f4754013289efbffb896107d95670a83adc295728dfc4508ddbd4244c0d5602d09eccc4601a57e5d0bcff52453eb4a9efeb5e8cd6f744ea0ce52fa05ccb9c72ef0753a302f7283ac10935d49fe025a2cd59979fea3769d97e02909366fc91941b6909e4e61607d9ae014a2666c999c32d6937b5b8bea8fafb2f7209ac7c6cdb36ac80278e33d6f204c5f652c2f407fb280cfb20f15f701a1cf1dbd7109002b19dbd64613eca5f36556522826732c4783e56c94b255256c674eb9e069c45bf1fd30f987a1c7b5633d4ab29a95c71435d0404d51f52fa19221e9e5395be39890a5b162f22defb8153b9bc0f4f18aefadfb831264c9a6d9a00ec4f66aac1fc3ef31971c792892990f306079a33c20e3407020c5e91d20594e7933b82fadf16427ced843842c676ffd5cd90aa6952f2539aa160e090743bbe0269a1605c4f41247e5aeeea40a9600efc7bc94a8fa2e45da11f580dc1caf85218090c2ae9c70f4effbcfcdf28ee6699aced16e7c454ef6ea760816967b6f01c856e33b1a7ba750c99022bc55fb1c192df179bb43ca57d24b2a9138e3a918cb7f8361cdc889e27c8477ebb364b7ffdd11163a210399934c5c03c9cb07e6b2fea817e5a2f2eef7184920e66f202f5d7d0079cc893f86dcda5da85c7bff0270c0121c3072c02decf3efb738c8ab7cc84cf51b1b7fed7d71e20da6cd004fad6bba0f49642fc4433aa45fdc225e459e40a090c1c3e0272139b69f560739f2d25e10d2f9223fd462d57aabd846ddec7f58647e6639449593d004673e9c94dfa6e36bc9f8bc059a5b521a68400dcc9c0d1311f740cedc868d91430160722cbb7835a8c077e0b94efd2342971cde1643786ecd01ba77aad078b272714214f40cf5e6f82691d37d1b66ef41cfe5eeac7c3edeeb346bcb27a9a5768a740bc9da7c76789344d1d1a6f89b680e0ec51fe249980f6c6147c6cb9dc22cf5456b89c2c1b0eed84e245c09ef10ea10200ebc4d22aef1f7b9801e3116164dd09b9d519c1f80a84bf72328632fc5abe322d950eb04f566dab5569920dff785292bf62615e58fef52972bd13a625527b4871ea6b2959fe8addc44a6df19e865fa80fcfccd94ca777715e04e2d27f8b0deb79e82a89b6678617a3f64c476ce9b4e28ff0664f1f1a20044ddf91496f1658511e6d7798e0b9cc9048ad93248a68daa0ed0ac34c6aaae075947580962e17681f7eb429c443c5ac36123cf53c562af521582f5f7c8a766af996f89a7411d945bbec6bf4cce16893a18bbfe9e01fe3aff9e01a3e2731e180e042f6d33b67d2df79fc53906b6a26a42413c13ab4e4ed21a103edcc1937f8b56bac4622610787840ff5715dd55be7f6778b77fef5e7d7e0c59c5384ee2f6918a946eb5f513cfca0013a3f6016c9a5f5dd5b98a361cccf77f7ab4e047accf82ee3b53278a30a3243080d73b489443f46c8c4d8570ce43ee5e14ce773beff7206266fea374f044b8d6f7993883c554e806e44e3a1137ec1204530756c6ddcc7a8ce008f99fed57568e90c969a7ba61fe7bc1f361744ffcf8342ac884d2fd92c8ecec4e203ae472536586dff4c5de1f6135b14ec0eb31b9b995b02532c40be50c02af80781127a9b765ac8cce480218af0c753f98ffd1136a537bced26314f582c0a7bc9871fb1dea5d487e20a9e3c02320bbeb098ee3804913c9a091ae5875ce6db7090e855c094b8a1a8ac4d31b2382e154bcdb8e7a28963e1718618bb2622ea2eb069595ae36ac33549d914a173ce8575ea49d0ba85580b53a172165c1d86203b659562225609e8b9b6b62a1c5577d8c82e65d63ab67a7e023698eeb9439d7fd48b10018ad5a07303dd6ab6b9e20267a3097d2644a5cc8f4a1069ee99b8978601eaa63b75bb27b04f03125402a391a4ee661f183da3df10b93b62bd162d0f15c101e9e596bc892b73e2fcd7399484be32ab70e1ce3ece34a804d28b73d0c6c94fb9afceae1d7d980e8418c6814f6bc4347e9301b26d123ac12e8e7b4d1bbbb8dbe21f35dcf041ddd9a3b802f408ded82d758896b8432775365227f73c476f7d5ce7130fbbc2960c1833ddca95cd8962e64f5351d5947cf7fd3680b3fc73872a809f806d964666780023c3e9c6053b3c7ef8e4e20333b159b4625fa4ac9e1466882d2b1d3451fb2d93be32062b1fe1864810cf2ad0204ac27b3ad2189f0958ea417b32b5757717cb66dabd3a80524c419a49b0892a3afa17618524aea27934c4df86fdfbe56bd19fe98b4a1ba262809d260697a9f7139699160e50c0046644910962fcb6f57267cd5bb994e7c354294d571713e5373b750dfc0c629c5342d24e9ca34bd226cf007c67d997e87b9e41d143c6d01c89a55d7a288b103461aea546f62d847f489258574a966b97f17fd264b1a9223ddecddb9490abaa74c45bc6e9a672a64dd38fd8be79596c42d80443557427569f7e5fe9c02a8aa66d14d3c22655c97710082d451e0919725213cd0f96bb343bffd2e8ce01f17ac5533058fe59bb38282e16a89c38830bf5e662215f814e6d031cbbdb01964f4f26d7ee0008d21ddb588302557d87ce87ed9cadc1f3757f67933b75e369c9eb5397fb9aee78968a664ab2d0227a3561645a0c6a9a2fd21660e3f1e4d89bcc7c1df19d8484885b61e02c01e08b8e413acf2d6c0ad45b753d046efc5b0959f2f3b1e2e9086f67f82a34a2a71b87e99c0b9efb19e384d90734a56adbb6d09cf1eaac832c9872486006e2b900118e6cf510c6570205f8f393bc6ed3aeb3adb25cff4ee8705a906471bbe11ea17ddc24c948dccba286a27ee19c8ee127062d85e1105ed8bcbc997455a8207ee8971c5bb00e3b0cf85b914f67467b87990504986d26c9cd799582cebce56c2e9035d5a7560995ac6a91eceb75b117bfd83662d41ee116479cf184497590abeccf15616e99c2cf721e9939d168870443af20c6aee4831fe160101c42e2ec88718c8b65c53cc71a0a07d7b36ba23b2c10a1f42a54ff60a32f523d9759cf87c67eb3bd2ae730f7fafe110f28d592d78d7f9b5982de44b9a810fe3033773c2d4344b701e94670e2c29e9710b1b27f14f8b7a46b6cd60d50b8b93dd9e259be28bedfe51cb1cabd72c38252107de4610de50b8d547e1e6af141906f04937566b53b3da821e6e817cf0a45af42225c4bc06be054abbc71360841917b61eadbe1fead3e49bec9d34aa01eeca1bf44bcb86a7adced815e953228628604aa23e0f5d5ae67ed47caf7b18b97b8f3ddf3f8e76bb3c2be99b1f0ea049cbd15731b5035cd1efca0eadd25e155a3c7387188203b60dc027afcddb16dbdf4bb1c6f75431323a24f5880b7995a517d3e67bcaba19b243044a6d825f1d043c7446e6af0b3d3e0962b4fc237e8e10594b6169ea99c5dcc60905fccd3cf156757e06947c4a7cbe2cd5656e796ca1901c5b93366cf78b978a6557f940148fbe7867768dde4781f138a968ce327b0212263cb98e47ca3c227b931173a9dd0b3927843b24f32c65c0651ed93ab06db1c7afb5a63580bbf5aa44280a4be61286316ac5f9c8deca056d6dc2b8e36a5c3e7e5a0007d0a57139850425f423a95dba26e07a0cfffbf83ed237ce0f0a89aa2f761a0d7dc005a5a327ced6e0a98fc421a490ac352655103100bb384ada22090c094e804fb02799a5019f034da6c56a49269b3990088e5ff30c4516f2af5e0bc6c1dce27a0c96facc3888cef8d8b9cbd68106e58f9d8b37b583457de83f35ccda20a4e384837e1c31fa2aa5cc37aa6651b4ed2f188b17108bd7eeb1e13a51f86ffed6aba5a6fc5570f91bd70ee89b1da13b91bea66f8fc6466cb60cd1396007152c2d35b9c0ff6117ad03fa8be388341517e141c63cc163a237709c4886cd76c0363c6700138a46f2663e3f54bb579408153ca3710a4213c6c60f27ec0eea498de7d5922c01cba8c6e7e04ae517ad68e8c3bf94cff761c8794f4e370ef271c8b72f9877688811c2e64e0c220848ff97824220d9257e61f6b6f432f7033eaab6bc80a059abcd2c9751bc1caf57e7407096f035159fa9c3049e1d034b438b5200af33c1a52eafb63e2ed9ffbdf07db5c588cb31259543d3297011a7e4fbbc35cdb0e7c633f31763325cb81adb529b313a28cbe78fea9b470e5318a0bc5e0368003599a62f68d16fb8b403c756b154a9fd5ae3c468cdb0358aafaf6650e622b95d02f58ad4d9c02936f482fbb23ec1d60eb459437c345fcb61d631869208e7926d09e6a639fcedf285d61797522414b8fe3a4a7fa205e2185acfb783df6cc4aa8a819554204ed566131d47389e247d4c2800f6583caf7e4c5111f529609d03613401daaba3002a216208181a669c15f4c3b313783dca1668b0153efa98446339156baba0c65ec8ded8f77a6061db0e0bd83df84012a5bc926613257028b8d54815771b377c776a01a2239e0ef4fc4fc235ba54bcd5bbb1383f0eb67a5b9361273c3bec426f9de68e965bed4c5d4e07b774dc2ad5626f3d27262857229fd59701051d6d089470dd8b87fa9e4dcb98255e3fa549d5ff62904dbf41ec48e1076771b900e733be6c8a3e3707844cd6a424630bd31a4a47fbaf63791aae51f8002b247e4b0a772a66a68f211e276960b4ca4752098be9cf2b93202f130b4032ddd1369c4d1044fe719a746b5bab8bab60f4bbbdf7f43152726c3e407c61ef30d24cdef295be796901a16cad5752e4bf5f2a71c59a6cbb5d94bba12d1267b09f5b046696f5e13654eee5f95cc63e942889cc63310d2ce6af2fd4f4b1015a29afc00abdc8789b55d59fee065897e715182fa0c7c2b926c69f043967a54e1bb61b3dbebbb14944f7a92149955d511e4458a973072ed1a765e3ee37681c7f5d72a5a7d6b1e2a2c159b0f6a3b38523147285a63796cdac42beb65338a6ff4cc9ac981432994fff2170c2967c2a9ecf693cc53ae8a614dff8b070f870b81bcf3eb20172b0dcdd034b9b607354741faffd98ae60d2758e2360d3535f43b85100000266636e0b3bc3050f7473287129dacd14e4e387125bf7c77b62cb53b72c0f2604a0f40da9de45a010981c39985a52addd645686adee2457c6f04e7e98a4de85c2e0c1e1e9d641b660b9349bd22ac0a671da9ce73b88e308e3a7efbeab01c3a3acf9b065e9578665e01b668c4b519818a3c35ec17814099d8c92c194a812a2640c7b6db4007095521d66ba390f4d4442e041fdb93c9d8cf96402703c1d2c85aa37ac536b806f42baf68d79d01cb86371e7803857d771ff6730a29c1da160267583ae4315b7325a7587769ac483486bbfc4aa9f967ca6fcfff77036317b665753217ca7ec05f43a05fd6f7e741888f4571cde90292f2de7f28ee226257db302fc35b9a3c3231b51321f1efd72374592f4f880eaf8eceeb7de1e83a5219ae42012da47f60f829ef4d95c28544ddb7ffa73275df903d967eb0ab4236f5c3a0fdbe96858c8a97e80cae8964d69839ff28970081bbad5023caff186d0d0218fc81295137f8c0230cfed0f2f7eb811cbcb07aa0cfa6e965d9f281f95f37473cfe8d4e960354d05afb249be717fadcc0ec32e07bb295bf74f7e0387ff5a1a82052d0004f0a0e17efbb6a10c30a4a1037e6a88aa0a60d50b87e548495c669bdd702b1de1759d76debe268c24d5ba8bcae18c14b899c48852e5f65277107e93fb25a0f53cc8720331b83bec7cd19594ce2e1092b4f1c099cb49d8a628567fb28161f58e3859f3f4015598849fa56ba0f5098030bdf3579f6bf408e9e1e855d6e12f8cc1e74d0f9520e2607019b552511ceeac0cff12ecbfd9c484d72409e9ae110a3cbf4783ca0f05d126d4b9da1332c7f3e7e8357d27efeeb756bebd8a1c27c2ba56bee99ee4bd6f933cea2fc2a4c08ae189aa9e811fc663d7fbf1bfb34004a63c8c3280963c2faa3bee11df778a555829e8d13cb6e8039403ec0a3ae11f7cbe8057eaf92dfdd4a49e3ad639d7f6fa256e9d6f1b56623cad638dbebc09acbb272f22bf91f5c7d39ff7694430246d2a0733dd93bf84f8468584c9d34f2a448f65dc241aa0102e4701241f98e6f66ab5ba55e00af7fd793fcbb914e983013ebd938ca03bbf0ddb6e77e48f2b927acafc6ed03eb73e91253e3e98a32e7c91ec3318e0075970fc98c282e9de633476112d1856e333a77d40f41aeda5630eb608481a0a465b972f5c857a9971a7be9ab25ea318b80ef565dd21d108aefbe56cd3ce5b10a0113f08bbee44742cf4601853e8a2a9b24692ca5c4fa43552564045eb1c603a7e98090843eb04a139ba89a9e7fd37aebd3e250342e82c475da0331ee2f7f2a2ec5996e300f4560940422a6f5944eae8fc498298defc9e779d5ea2541736fed85859c9c8215023804b05fcee9b7b3ca880d6e727fc96dc4a807e74399fc44969d4b5887f16b752558e34f741d9dbb1988f7d953cee0d2f6abac2338199b72bbf9da9e970e14db4470ffeb9826e9642636d961ab105a55dc3b5c9172a9c1c8ded61f6ad90bc52462a1e89cc6df3b03b3094ebe04c623e8c98f083c39da7218c3f98b1a8f729d4bb753c2822f5d77a2a442c7523beeef6d4173a42bd21735db8445e70e7073c0c8a443021f12fb652f615e8d762aa6bff7a744c12d068a66f0c46316bfc0007d1ba1a0a2c82f8700a7125a3528c91c9494bf41f4b9d69015d9d43cdc42fa2454bfafced6d51ed6c3528173ff2f9563b6f621ab1863f115a21d7db1753dd7b4ba5c2d22407608f0198c6b8c76ce628bcc0c488b1541272818e0a49b1526442102514ae10c54bdd79af302234a84be17f398106d12d1bf84fac9b05b34e597fb4df89cc471041f4d560ef0261f103542f2d3524d0d649d5a2aa1c0c508500be3a71ee16d2150b375af5dd112ff48285e0e3ac99e497d08e4e353df748475b3ca3125c76ea3df3b34d5b5053748357e717d47b26ee8dd21a9ef519471ec3afbd0a4a02c07589a9e4cfadd7ad8647657b1a85c6205d508cce8b5bfde711161dec555f01df06dfd51973db6759e9f1eccd2676ade161e2a3384c0d91fb9eb4723b388c53d55e733e68f7303a7353dd4205767b609fdda11d19bd14547baeaa1e298 Âó®ÔºåËØ∑ÂáÜÁ°ÆÊó†ËØØÂú∞ËæìÂÖ•ÂØÜÁ†ÅÊü•ÁúãÂìüÔºÅ","link":"/2021/02/24/Draft/2021/TODO/"},{"title":"JVM ‰∏é‰∏äÂ±ÇÊäÄÊúØ","text":"Âêë‰∏ãÊâéÊ∑±ÔºåÂêë‰∏äÊâ©Â±ï Êñ∞Â≠¶ÂõõÈóÆ WHY„Äê‰∏éÂâç‰ª£‰ºòÂåñ‰∫Ü‰ªÄ‰πàÔºåÂº•Ë°•‰∫Ü‰ªÄ‰πàÁ©∫ÁôΩ„ÄëÔºö‰∫ÜËß£Â∫ïÂ±ÇÔºå‰ºòÂåñÔºåÈù¢ËØïÔºåËß£ÂÜ≥Â∫ïÂ±ÇBUG WHAT„ÄêÊ°ÜÊû∂ÔºåÊÄùÁª¥ÂØºÂõæÔºå‰∏ªÈ¢òÊ°ÜÊû∂„ÄëÔºöÁªìÊûÑÔºå HOW„ÄêÂ¶Ç‰ΩïËÆ∞ÂøÜÔºåÂ≠¶‰π†ËµÑÊ∫ê„ÄëÔºöÂ≠¶‰π†ËµÑÊ∫êÔºöÂ∞öÁ°ÖË∞∑JVMÔºåANKIËÆ∞ÂøÜÔºåÊñáÊ°£ LEVEL„Äê‰∏çÊòØÊØè‰∏™ÈÉΩÂ≠¶Á≤æ„ÄëÔºö‰∫ÜËß£ ËøõÂ∫¶Ôºö‰∏äÁØá „ÄêÂÆå12.19„Äë ÁªºÂêàÈóÆÈ¢ò Á±ªÂä†ËΩΩËøáÁ®ã Êï¥‰ΩìÁªìÊûÑ Â¶Ç‰ΩïÂà§Êñ≠‰∏Ä‰∏™ÂØπË±°ÊòØÂê¶Â≠òÊ¥ª ÂûÉÂúæÂõûÊî∂ÁÆóÊ≥ï ÂûÉÂúæÂõûÊî∂Âô® Ê∑±Êã∑Ë¥ùÊµÖÊã∑Ë¥ù Âèå‰∫≤ÂßîÊ¥æÊú∫Âà∂ StringTable ‰ºòÂåñÊñπÊ≥ï ‰∏äÁØáÔºöÂÜÖÂ≠ò‰∏éÂûÉÂúæÂõûÊî∂ ÈÄüÊü• -XXÈÄâÈ°πË°® Â†Ü ÈÄâÈ°πÂêç ÈÄâÈ°π‰ΩúÁî® ÈªòËÆ§ÂÄº Â§áÊ≥® -XX: +PrintFlagsInitial Êü•ÁúãÊâÄÊúâÁöÑÂèÇÊï∞ÁöÑÈªòËÆ§ÂàùÂßãÂÄº -XX: +PrintFlagsFinal Êü•ÁúãÊâÄÊúâÁöÑÂèÇÊï∞ÁöÑÊúÄÁªàÂÄºÔºàÂèØËÉΩ‰ºöÂ≠òÂú®‰øÆÊîπÔºå‰∏çÂÜçÊòØÂàùÂßãÂÄº) jps Êü•ÁúãÂΩìÂâçËøêË°å‰∏≠ÁöÑËøõÁ®ã jinfo -flag ÂèÇÊï∞Âêç ËøõÁ®ãid ÂΩìÂâçËøõÁ®ã‰∏≠ÂèÇÊï∞ÂÄº -Xms ÂàùÂßãÈõÑÁ©∫ÂêëÂÜÖÂ≠ò Áâ©ÁêÜÂÜÖÂ≠òÁöÑ1/64 -Xmx :ÊúÄÂ§ßÈõÑÁ©∫Èó¥ÂÜÖÂ≠ò Áâ©ÁêÜÂÜÖÂ≠òÁöÑ1/4 -Xmn :ËÆæÁΩÆÊñ∞Áîü‰ª£ÁöÑÂ§ßÂ∞è„ÄÇÔºàÂàùÂßãÂÄºÂèäÊúÄÂ§ßÂÄºÔºâ -XX: NewRatio :ÈÖçÁΩÆÊñ∞Áîü‰ª£‰∏éËÄÅÂπ¥‰ª£Âú®Â†ÜÁªìÊûÑÁöÑÂç†ÊØî Êñ∞ËÄÅÊØîÔºö1:2 -XX: SurvivorRatio :ËÆæÁΩÆÊñ∞Áîü‰ª£‰∏≠EdenÂíåS0/S1Á©∫Èó¥ÊØî‰æã 8 -XX: MaxTenuringThreshold :ËÆæÁΩÆÊñ∞Áîü‰ª£ÂûÉÊâ±ÁöÑÊúÄÂ§ßÂπ¥ÈæÑ -XX: +PrintGCdetails :ËæìÂá∫ËØ¶ÁªÜGCÂ§ÑÁêÜÊó•Âøó üåû -XX: +PrintGC üåû - verbose:GC :ÊâìÂç∞Á≠íË¶Å‰ø°ÊÅØ -XX: HandlePromotionFailure :ÊòØÂê¶ËÆæÁΩÆÁ©∫ÈóÆÂàÜÈÖçÊãÖ‰øù -XX: Doescapeanalysis ÊòæÂºèÂºÄÂêØÈÄÉÈÄ∏ÂàÜÊûê JDK 6u23ÂêéÈªòËÆ§ÂºÄÂêØ -XX: Printescapeanalysis Êü•ÁúãÈÄÉÈÄ∏ÂàÜÊûêÁöÑÁ≠õÈÄâÁªìÊûú -XX:+EliminateAllocations :ÂºÄÂêØÊ†áÈáèÊõøÊç¢ÔºåÂÖÅËÆ∏Â∞ÜÂØπË±°ÊâìÊï£ÂàÜÈÖçÂú®Ê†à‰∏ä„ÄÇ ÈªòËÆ§ÊâìÂºÄ ÊñπÊ≥ïÂå∫ ÈÄâÈ°πÂêç ÈÄâÈ°π‰ΩúÁî® ÈªòËÆ§ÂÄº Â§áÊ≥® ÂûÉÂúæÂõûÊî∂Âô® ÈÄâÈ°πÂêç ÈÄâÈ°π‰ΩúÁî® ÈªòËÆ§ÂÄº Â§áÊ≥® ‰∏Ä„ÄÅJVM‰∏éJAVA‰ΩìÁ≥ªÁªìÊûÑ 1.JAVA‰∏éJVM JavaÂ§ß‰∫ã‰ª∂ 1990Âπ¥ÔºåÂú®sunÂÖ¨Âè∏‰∏≠ÔºåÁî±Patrick naughton„ÄÅmikesheridan‰ª•Âèäjames GoslingÈ¢ÜÂØºÁöÑÂ∞èÁªÑGreen TeamÔºåÂºÄÂèëÂá∫Êñ∞ÁöÑÁ®ãÂ∫èËØ≠Ë®ÄÔºåÂëΩÂêç‰∏∫OAKÔºåÂêéÊúüÊõ¥Âêç‰∏∫Java 1995Âπ¥ÔºåsunÊ≠£ÂºèÂèëÂ∏ÉJavaÂíåhotJAVA‰∫ßÂìÅÔºåJavaÈ¶ñÊ¨°ÂÖ¨ÂºÄ‰∫ÆÁõ∏„ÄÇ 1996Âπ¥1Êúà23Êó•sun MicrosystemsÂèëÂ∏É‰∫ÜJDK1.0. 1998Âπ¥ÔºåJDK1.2ÁâàÊú¨ÂèëÂ∏É„ÄÇÂêåÊó∂ÔºåsunÂèëÂ∏É‰∫ÜJSP/Servlet„ÄÅEJBËßÑËåÉÔºå‰ª•ÂèäÂ∞ÜJavaÂàÜÊàê‰∫ÜJ2EE„ÄÅJ2SEÂíåJ2ME„ÄÇËøôË°®ÊòéJavaÂºÄÂßãÂêë‰ºÅ‰∏ö„ÄÅÊ°åÈù¢Â∫îÁî®ÂíåÁßªÂä®ËÆæÂ§áÂ∫îÁî®3Â§ßÈ¢ÜÂüüÊå∫Ëøõ„ÄÇ 2000Âπ¥ÔºåJDK1.3ÂèëÂ∏ÉÔºåJava HotSpot Virtual MachineÊ≠£ÂºèÂèëÂ∏ÉÔºåÊàê‰∏∫JavaÈªòËÆ§ÁöÑËôöÊãüÊú∫„ÄÇ 2002Âπ¥ÔºåJDK 1.4ÂèëÂ∏ÉÔºåÂè§ËÄÅÁöÑclassicËôöÊãüÊú∫ÈÄÄÂá∫ÂéÜÂè≤ËàûÂè∞„ÄÇ 2003Âπ¥Â∫ïÔºåJavaÂπ≥Âè∞ÁöÑscalaÊ≠£ÂºèÂèëÂ∏ÉÔºåÂêåÂπ¥Groovy‰πüÂä†ÂÖ•‰∫ÜJavaÈòµËê•„ÄÇ 2004Âπ¥ÔºåJDK1.5ÂèëÂ∏ÉÔºåÂêåÊó∂JDK1.5ÊîπÂêç‰∏∫JavaSE5.0. 2006Âπ¥ÔºåJDK 6ÂèëÂ∏ÉÔºåÂêåÂπ¥JavaÂºÄÊ∫êÂπ∂Âª∫Á´ã‰∫ÜopenJDKÔºåÈ°∫ÁêÜÊàêÁ´†ÔºåHotspotËôöÊãüÊú∫Êàê‰∏∫‰∫ÜOpenJDK‰∏≠ÈªòËÆ§ÁöÑËôöÊãüÊú∫„ÄÇ 2007Âπ¥ÔºåJavaÂπ≥Âè∞ËøéÊù•‰∫ÜÊñ∞‰ºô‰º¥Clojure„ÄÇ 2008Âπ¥ÔºåOracleÊî∂Ë¥≠‰∫ÜBEAÔºåÂæóÂà∞‰∫ÜJRockitËôöÊãüÊú∫„ÄÇ 2009Âπ¥ÔºåTwitterÂÆ£Â∏ÉÂ∞ÜÂêéÂè∞Â§ßÈÉ®ÂàÜÁ®ãÂ∫è‰ªérubyËøÅÁßªÂà∞ScalaÔºåËøôÊòØJavaÂπ≥Âè∞ÁöÑÊúâ‰∏ÄÊ¨°Â§ßËßÑÊ®°Â∫îÁî®„ÄÇ 2010Âπ¥ÔºåOracleÊî∂Ë¥≠‰∫ÜsunÔºåËé∑ÂæóJavaÂïÜÊ†áÂíåÊúÄÂÖ∑‰ª∑ÂÄºÁöÑhotspotËôöÊãüÊú∫„ÄÇÊ≠§Êó∂OracleÊã•ÊúâÂ∏ÇÂú∫Âç†Áî®ÁéáÊúÄÈ´òÁöÑ‰∏§Ê¨æËôöÊãüÊú∫hotspotÂíåJRockitÔºåÂπ∂‰∏îËÆ°ÂàíÊú™Êù•ËøõË°åÊï¥ÂêàÔºöHotRockit„ÄÇ 2011Âπ¥ÔºåJDK7ÂèëÂ∏ÉÔºåÂú®JDKÔºë.7ÔΩï4‰∏≠ÔºåÊ≠£ÂºèÂêØÁî®‰∫ÜÊñ∞ÁöÑÂûÉÂúæÂõûÊî∂Âô®G1. 2017Âπ¥ÔºåJDK9ÂèëÂ∏ÉÔºåÂ∞ÜG1ËÆæÁΩÆ‰∏∫ÈªòËÆ§GCÔºåÊõø‰ª£CMS„ÄÇ 2017ÂêåÂπ¥ÔºåIBMÁöÑJ9ÂºÄÊ∫êÔºåÂΩ¢Êàê‰∫ÜÁé∞Âú®ÁöÑopen J9Á§æÂå∫„ÄÇ 2018Âπ¥ÔºåAndroidÁöÑJava‰æµÊùÉÊ°àÂà§ÂÜ≥ÔºåGoogleÂÖ¨Âè∏ËµîÂÅøOracleÊÄªËÆ°88‰∫øÁæéÂÖÉ„ÄÇ 2018ÂêåÂπ¥ÔºåOracleÂÆ£Â∏ÉJavaEEÊàê‰∏∫ÂéÜÂè≤ÂêçËØçÔºåJDBC„ÄÅJMS„ÄÅServletËµ†‰∏éEclipseÂü∫Èáë‰ºö„ÄÇ 2018ÂêåÂπ¥ÔºåJDK11ÂèëÂ∏ÉÔºåLTSÁâàÊú¨ÁöÑJDKÔºåÂèëÂ∏ÉÈù©ÂëΩÊÄßÁöÑZGCÔºåË∞ÉÊï¥JDKÊéàÊùÉËÆ∏ÂèØ„ÄÇ 2019Âπ¥ÔºåJDK12ÂèëÂ∏ÉÔºåÂä†ÂÖ•RedHatÈ¢ÜÂØºÂºÄÂèëÁöÑshenandoah GC„ÄÇ Âú®JDK11‰πãÂâçÔºåOracleJDKËøò‰ºöÂ≠òÂú®‰∏Ä‰∫õopenJDK‰∏≠Ê≤°ÊúâÁöÑ„ÄÅÈó≠Ê∫êÁöÑÂäüËÉΩ„ÄÇ‰ΩÜÂú®JDK11‰∏≠ÔºåopenJDKÂíåOracleJDK‰ª£Á†ÅÂÆûË¥®‰∏äÂ∑≤ÁªèËææÂà∞ÂÆåÂÖ®‰∏ÄËá¥ÁöÑÁ®ãÂ∫¶„ÄÇ JVM‰ªãÁªç ‚Äã ÊâÄË∞ìËôöÊãüÊú∫(Virtual Machine)ÔºåÂ∞±ÊòØ‰∏ÄÂè∞ËôöÊãüÁöÑËÆ°ÁÆóÊú∫„ÄÇÂÆÉÊòØ‰∏ÄÊ¨æËΩØ‰ª∂ÔºåÁî®Êù•ÊâßË°å‰∏ÄÁ≥ªÂàóËôöÊãüËÆ°ÁÆóÊú∫Êåá‰ª§„ÄÇÂ§ß‰Ωì‰∏äÔºåËôöÊãüÊú∫ÂèØ‰ª•ÂàÜ‰∏∫Á≥ªÁªüËôöÊãüÊú∫ÂíåÁ®ãÂ∫èËôöÊãüÊú∫„ÄÇÂ§ßÂêçÈºéÈºéÁöÑVisual Box,VMwareÂ∞±Â±û‰∫éÁ≥ªÁªüËôöÊãüÊú∫ÔºåÂÆÉ‰ª¨ÂÆåÂÖ®ÊòØÂØπÁâ©ÁêÜËÆ°ÁÆóÊú∫ÁöÑ‰ªøÁúüÔºåÊèê‰æõ‰∫Ü‰∏Ä‰∏™ÂèØËøêË°åÂÆåÊï¥Êìç‰ΩúÁ≥ªÁªüÁöÑËΩØ‰ª∂Âπ≥Âè∞„ÄÇÁ®ãÂ∫èËôöÊãüÊú∫ÁöÑÂÖ∏Âûã‰ª£Ë°®Â∞±ÊòØJavaËôöÊãüÊú∫ÔºåÂÆÉ‰∏ìÈó®‰∏∫ÊâßË°åÂçï‰∏™ËÆ°ÁÆóÊú∫Á®ãÂ∫èËÄåËÆæËÆ°ÔºåÂú®JavaËôöÊãüÊú∫‰∏≠ÊâßË°åÁöÑÊåá‰ª§Êàë‰ª¨Áß∞‰∏∫JavaÂ≠óËäÇÁ†ÅÊåá‰ª§„ÄÇÊó†ËÆ∫ÊòØÁ≥ªÁªüËôöÊãüÊú∫ËøòÊòØÁ®ãÂ∫èËôöÊãüÊú∫ÔºåÂú®‰∏äÈù¢ËøêË°åÁöÑËΩØ‰ª∂ÈÉΩË¢´ÈôêÂà∂‰∫éËôöÊãüÊú∫Êèê‰æõÁöÑËµÑÊ∫ê‰∏≠„ÄÇ ‚Äã JavaËôöÊãüÊú∫ÊòØ‰∏ÄÂè∞ÊâßË°åJavaÂ≠óËäÇÁ†ÅÁöÑËôöÊãüËÆ°ÁÆóÊú∫ÔºåÂÆÉÊã•ÊúâÁã¨Á´ãÁöÑËøêË°åÊú∫Âà∂,ÂÖ∂ËøêË°åÁöÑJavaÂ≠óËäÇÁ†Å‰πüÊú™ÂøÖÁî±JavaËØ≠Ë®ÄÁºñËØëËÄåÊàê„ÄÇJVMÂπ≥Âè∞ÁöÑÂêÑÁßçËØ≠Ë®ÄÂèØ‰ª•ÂÖ±‰∫´JavaËôöÊãüÊú∫Â∏¶Êù•ÁöÑË∑®Âπ≥Âè∞ÊÄß„ÄÅ‰ºòÁßÄÁöÑÂûÉÂúæÂõûÂô®Ôºå‰ª•ÂèäÂèØÈù†ÁöÑÂç≥Êó∂ÁºñËØëÂô®„ÄÇJavaÊäÄÊúØÁöÑÊ†∏ÂøÉÂ∞±ÊòØJavaËôöÊãüÊú∫ÔºàJVMÔºåJava Virtual Machine) ,Âõ†‰∏∫ÊâÄÊúâÁöÑJavaÁ®ãÂ∫èÈÉΩËøêË°åÂú®JavaËôöÊãüÊú∫ÂÜÖÈÉ®„ÄÇ **‰ΩúÁî®Ôºö**JavaËôöÊãüÊú∫Â∞±ÊòØ‰∫åËøõÂà∂Â≠óËäÇÁ†ÅÁöÑËøêË°åÁéØÂ¢ÉÔºåË¥üË¥£Ë£ÖËΩΩÂ≠óËäÇÁ†ÅÂà∞ÂÖ∂ÂÜÖÈÉ®ÔºåËß£Èáä/ÁºñËØë‰∏∫ÂØπÂ∫îÂπ≥Âè∞‰∏äÁöÑÊú∫Âô®Êåá‰ª§ÊâßË°å„ÄÇÊØè‰∏ÄÊù°JavaÊåá‰ª§ÔºåJavaËôöÊãüÊú∫ËßÑËåÉÈÉΩÊúâËØ¶ÁªÜÂÆö‰πâÔºåÂ¶ÇÊÄé‰πàÂèñÊìç‰ΩúÊï∞ÔºåÊÄé‰πàÂ§ÑÁêÜÊìç‰ΩúÊï∞ÔºåÂ§ÑÁêÜÁªìÊûúÊîæÂú®Âì™Èáå„ÄÇ **ÁâπÁÇπÔºö**‰∏ÄÊ¨°ÁºñËØëÔºåÂà∞Â§ÑËøêË°åÔºõËá™Âä®ÂÜÖÂ≠òÁÆ°ÁêÜÔºõËá™Âä®ÂûÉÂúæÂõûÊî∂ÂäüËÉΩ ‰ΩçÁΩÆÔºö JVMÊï¥‰ΩìÁªìÊûÑ Java‰ª£Á†ÅÊâßË°åÊµÅÁ®ã ‚Äã JVMÊû∂ÊûÑÊ®°Âûã JavaÁºñËØëÂô®ËæìÂÖ•ÁöÑÊåá‰ª§ÊµÅÂü∫Êú¨‰∏äÊòØ‰∏ÄÁßçÂü∫‰∫éÊ†àÁöÑÊåá‰ª§ÈõÜÊû∂ÊûÑÔºåÂè¶Â§ñ‰∏ÄÁßçÊåá‰ª§ÈõÜÊû∂ÊûÑÂàôÊòØÂü∫‰∫éÂØÑÂ≠òÂô®ÁöÑÊåá‰ª§ÈõÜÊû∂ÊûÑ„ÄÇ Âå∫Âà´: ¬∑Âü∫‰∫éÊ†àÂºèÊû∂ÊûÑÁöÑÁâπÁÇπ ËÆæËÆ°ÂíåÂÆûÁé∞Êõ¥ÁÆÄÂçïÔºåÈÄÇÁî®‰∫éËµÑÊ∫êÂèóÈôêÁöÑÁ≥ªÁªü; ÈÅøÂºÄ‰∫ÜÂØÑÂ≠òÂô®ÁöÑÂàÜÈÖçÈöæÈ¢ò:‰ΩøÁî®Èõ∂Âú∞ÂùÄÊåá‰ª§ÊñπÂºèÂàÜÈÖç„ÄÇ Êåá‰ª§ÊµÅ‰∏≠ÁöÑÊåá‰ª§Â§ßÈÉ®ÂàÜÊòØÈõ∂Âú∞ÂùÄÊåá‰ª§ÔºåÂÖ∂ÊâßË°åËøáÁ®ã‰æùËµñ‰∫éÊìç‰ΩúÊ†à„ÄÇÊåá‰ª§ÈõÜÊõ¥Â∞èÔºåÁºñËØëÂô®ÂÆπÊòìÂÆûÁé∞„ÄÇ ‰∏çÈúÄË¶ÅÁ°¨‰ª∂ÊîØÊåÅÔºåÂèØÁßªÊ§çÊÄßÊõ¥Â•ΩÔºåÊõ¥Â•ΩÂÆûÁé∞Ë∑®Âπ≥Âè∞ Âü∫‰∫éÂØÑÂ≠òÂô®Êû∂ÊûÑÁöÑÁâπÁÇπ ÂÖ∏ÂûãÁöÑÂ∫îÁî®ÊòØx86ÁöÑ‰∫åËøõÂà∂Êåá‰ª§ÈõÜ:ÊØîÂ¶Ç‰º†ÁªüÁöÑPC‰ª•ÂèäAndroidÁöÑDavlikËôöÊãüÊú∫„ÄÇ Êåá‰ª§ÈõÜÊû∂ÊûÑÂàôÂÆåÂÖ®‰æùËµñÁ°¨‰ª∂,ÂèØÁßªÊ§çÊÄßÂ∑Æ ÊÄßËÉΩ‰ºòÁßÄÂíåÊâßË°åÊõ¥È´òÊïà; Ëä±Ë¥πÊõ¥Â∞ëÁöÑÊåá‰ª§ÂéªÂÆåÊàê‰∏ÄÈ°πÊìç‰Ωú„ÄÇ Âú®Â§ßÈÉ®ÂàÜÊÉÖÂÜµ‰∏ãÔºåÂü∫‰∫éÂØÑÂ≠òÂô®Êû∂ÊûÑÁöÑÊåá‰ª§ÈõÜÂæÄÂæÄÈÉΩ‰ª•‰∏ÄÂú∞ÂùÄÊåá‰ª§„ÄÅ‰∫åÂú∞ÂùÄÊåá‰ª§Âíå‰∏âÂú∞ÂùÄÊåá‰ª§‰∏∫‰∏ªÔºåËÄåÂü∫‰∫éÊ†àÂºèÊû∂ÊûÑÁöÑÊåá‰ª§ÈõÜÂç¥ÊòØ‰ª•Èõ∂Âú∞ÂùÄÊåá‰ª§‰∏∫‰∏ª„ÄÇ ÊÄªÁªì: Áî±‰∫éË∑®Âπ≥Âè∞ÊÄßÁöÑËÆæËÆ°ÔºåJavaÁöÑÊåá‰ª§ÈÉΩÊòØÊ†πÊçÆÊ†àÊù•ËÆæËÆ°ÁöÑ„ÄÇ‰∏çÂêåÂπ≥Âè∞CPUÊû∂ÊûÑ‰∏çÂêåÔºåÊâÄ‰ª•‰∏çËÉΩËÆæËÆ°‰∏∫Âü∫‰∫éÂØÑÂ≠òÂô®ÁöÑ„ÄÇ‰ºòÁÇπÊòØË∑®Âπ≥Âè∞ÔºåÊåá‰ª§ÈõÜÂ∞èÔºåÁºñËØëÂô®ÂÆπÊòìÂÆûÁé∞ÔºåÁº∫ÁÇπÊòØÊÄßËÉΩ‰∏ãÈôçÔºåÂÆûÁé∞ÂêåÊ†∑ÁöÑÂäüËÉΩÈúÄË¶ÅÊõ¥Â§öÁöÑÊåá‰ª§„ÄÇÊó∂Ëá≥‰ªäÊó•ÔºåÂ∞ΩÁÆ°ÂµåÂÖ•ÂºèÂπ≥Âè∞Â∑≤Áªè‰∏çÊòØJavaÁ®ãÂ∫èÁöÑ‰∏ªÊµÅËøêË°åÂπ≥Âè∞‰∫ÜÔºàÂáÜÁ°ÆÁöÑÊù•ËØ¥HotSpotVMÁöÑÂÆø‰∏ªÁéØÂ¢ÉÂ∑≤Áªè‰∏çÂ±ÄÈôê‰∫éÂµåÂÖ•ÂºèÂπ≥Âè∞‰∫Ü)ÔºåÈÇ£‰πà‰∏∫‰ªÄ‰πà‰∏çÂ∞ÜÊû∂ÊûÑÊõ¥Êç¢‰∏∫Âü∫‰∫éÂØÑÂ≠òÂô®ÁöÑÊû∂ÊûÑÂë¢? Ê†à: Ë∑®Âπ≥Âè∞ÊÄß„ÄÅÊåá‰ª§ÈõÜÂ∞è„ÄÅÊåá‰ª§Â§ö;ÊâßË°åÊÄßËÉΩÊØîÂØÑÂ≠òÂô®Â∑Æ JVMÁîüÂëΩÂë®Êúü ÂêØÂä® JavaËôöÊãüÊú∫ÁöÑÂêØÂä®ÊòØÈÄöËøáÂºïÂØºÁ±ªÂä†ËΩΩÂô®(bootstrap class loader)ÂàõÂª∫‰∏Ä‰∏™ÂàùÂßãÁ±ª(initial class)Êù•ÂÆåÊàêÁöÑÔºåËøô‰∏™Á±ªÊòØÁî±ËôöÊãüÊú∫ÁöÑÂÖ∑‰ΩìÂÆûÁé∞ÊåáÂÆöÁöÑ ÊâßË°å ‰∏Ä‰∏™ËøêË°å‰∏≠ÁöÑJavaËôöÊãüÊú∫ÊúâÁùÄ‰∏Ä‰∏™Ê∏ÖÊô∞ÁöÑ‰ªªÂä°:ÊâßË°åJavaÁ®ãÂ∫è„ÄÇ Á®ãÂ∫èÂºÄÂßãÊâßË°åÊó∂‰ªñÊâçËøêË°åÔºåÁ®ãÂ∫èÁªìÊùüÊó∂‰ªñÂ∞±ÂÅúÊ≠¢„ÄÇ ÊâßË°å‰∏Ä‰∏™ÊâÄË∞ìÁöÑJavaÁ®ãÂ∫èÁöÑÊó∂ÂÄôÔºåÁúüÁúüÊ≠£Ê≠£Âú®ÊâßË°åÁöÑÊòØ‰∏Ä‰∏™Âè´ÂÅöJavaËôöÊãüÊú∫ÁöÑËøõÁ®ã„ÄÇ ÈÄÄÂá∫ ÊúâÂ¶Ç‰∏ãÁöÑÂá†ÁßçÊÉÖÂÜµ:„ÄÇÁ®ãÂ∫èÊ≠£Â∏∏ÊâßË°åÁªìÊùü ¬∑Á®ãÂ∫èÂú®ÊâßË°åËøáÁ®ã‰∏≠ÈÅáÂà∞‰∫ÜÂºÇÂ∏∏ÊàñÈîôËØØËÄåÂºÇÂ∏∏ÁªàÊ≠¢¬∑Áî±‰∫éÊìç‰ΩúÁ≥ªÁªüÂá∫Áé∞ÈîôËØØËÄåÂØºËá¥JavaËôöÊãüÊú∫ËøõÁ®ãÁªàÊ≠¢ ¬∑ÊüêÁ∫øÁ®ãË∞ÉÁî®RuntimeÁ±ªÊàñsystemÁ±ªÁöÑexitÊñπÊ≥ïÔºåÊàñRuntimeÁ±ªÁöÑhaltÊñπÊ≥ïÔºåÂπ∂‰∏îJavaÂÆâÂÖ®ÁÆ°ÁêÜÂô®‰πüÂÖÅËÆ∏ËøôÊ¨°exitÊàñhaltÊìç‰Ωú„ÄÇ ¬∑Èô§Ê≠§‰πãÂ§ñÔºåJNI ( Java Native Interface)ËßÑËåÉÊèèËø∞‰∫ÜÁî®JNI Invocation APIÊù•Âä†ËΩΩÊàñÂç∏ËΩΩJavaËôöÊãüÊú∫Êó∂ÔºåJavaËôöÊãüÊú∫ÁöÑÈÄÄÂá∫ÊÉÖÂÜµ„ÄÇ JVMÂèëÂ±ïÂéÜÁ®ã SUN Classic VM ¬∑Êó©Âú®1996Âπ¥Java1.0ÁâàÊú¨ÁöÑÊó∂ÂÄôÔºåsunÂÖ¨Âè∏ÂèëÂ∏É‰∫Ü‰∏ÄÊ¨æÂêç‰∏∫Sun Classic VMÁöÑJavaËôöÊãüÊú∫ÔºåÂÆÉÂêåÊó∂‰πüÊòØ‰∏ñÁïå‰∏äÁ¨¨‰∏ÄÊ¨æÂïÜÁî®JavaËôöÊãüÊú∫ÔºåJDK1.4Êó∂ÂÆåÂÖ®Ë¢´Ê∑òÊ±∞„ÄÇ ¬∑ËøôÊ¨æËôöÊãüÊú∫ÂÜÖÈÉ®Âè™Êèê‰æõËß£ÈáäÂô®„ÄÇ ¬∑Â¶ÇÊûú‰ΩøÁî®JITÁºñËØëÂô®ÔºåÂ∞±ÈúÄË¶ÅËøõË°åÂ§ñÊåÇ„ÄÇ‰ΩÜÊòØ‰∏ÄÊó¶‰ΩøÁî®‰∫ÜJITÁºñËØëÂô®JITÂ∞±‰ºöÊé•ÁÆ°ËôöÊãüÊú∫ÁöÑÊâßË°åÁ≥ªÁªü„ÄÇËß£ÈáäÂô®Â∞±‰∏çÂÜçÂ∑•‰Ωú„ÄÇËß£ÈáäÂô®ÂíåÁºñËØëÂô®‰∏çËÉΩÈÖçÂêàÂ∑•‰Ωú„ÄÇ ¬∑Áé∞Âú®hotspotÂÜÖÁΩÆ‰∫ÜÊ≠§ËôöÊãüÊú∫„ÄÇ Exact VM ¬∑‰∏∫‰∫ÜËß£ÂÜ≥‰∏ä‰∏Ä‰∏™ËôöÊãüÊú∫ÈóÆÈ¢òÔºåjdk1.2Êó∂ÔºåsunÊèê‰æõ‰∫ÜÊ≠§ËôöÊãüÊú∫„ÄÇ Exact Memory Management:ÂáÜÁ°ÆÂºèÂÜÖÂ≠òÁÆ°ÁêÜ ¬∑‰πüÂèØ‰ª•Âè´Non-conservative/Accurate Memory ManagementÔºöËôöÊãüÊú∫ÂèØ‰ª•Áü•ÈÅìÂÜÖÂ≠ò‰∏≠Êüê‰∏™‰ΩçÁΩÆÁöÑÊï∞ÊçÆÂÖ∑‰ΩìÊòØ‰ªÄ‰πàÁ±ªÂûã„ÄÇ ÂÖ∑Â§áÁé∞‰ª£È´òÊÄßËÉΩËôöÊãüÊú∫ÁöÑÈõèÂΩ¢ ¬∑ÁÉ≠ÁÇπÊé¢Êµã ¬∑ÁºñËØëÂô®‰∏éËß£ÈáäÂô®Ê∑∑ÂêàÂ∑•‰ΩúÊ®°ÂºèI Âè™Âú®solarisÂπ≥Âè∞Áü≠ÊöÇ‰ΩøÁî®ÔºåÂÖ∂‰ªñÂπ≥Âè∞‰∏äËøòÊòØclassic vm ¬∑Ëã±ÈõÑÊ∞îÁü≠ÔºåÁªàË¢´HotspotËôöÊãüÊú∫ÊõøÊç¢ SUNÂÖ¨Âè∏ÁöÑ HotSpot VM HotSpotÂéÜÂè≤ ¬∑ÊúÄÂàùÁî±‰∏ÄÂÆ∂Âêç‰∏∫‚ÄúLongview Technologies&quot;ÁöÑÂ∞èÂÖ¨Âè∏ËÆæËÆ°1997Âπ¥ÔºåÊ≠§ÂÖ¨Âè∏Ë¢´sunÊî∂Ë¥≠;2009Âπ¥ÔºåsunÂÖ¨Âè∏Ë¢´Áî≤È™®ÊñáÊî∂Ë¥≠„ÄÇ ¬∑JDK1.3Êó∂ÔºåHotSpot VMÊàê‰∏∫ÈªòËÆ§ËôöÊãüÊú∫ ¬∑ÁõÆÂâçHotspotÂç†ÊúâÁªùÂØπÁöÑÂ∏ÇÂú∫Âú∞‰ΩçÔºåÁß∞Èú∏Ê≠¶Êûó„ÄÇ ‰∏çÁÆ°ÊòØÁé∞Âú®‰ªçÂú®ÂπøÊ≥õ‰ΩøÁî®ÁöÑJDK6ÔºåËøòÊòØ‰ΩøÁî®ÊØî‰æãËæÉÂ§öÁöÑJDK8‰∏≠ÔºåÈªòËÆ§ÁöÑËôöÊãüÊú∫ÈÉΩÊòØHotSpot sun/ oracle JDK Âíå OpenJDKÁöÑÈªòËÆ§ËôöÊãüÊú∫ Âõ†Ê≠§Êú¨ËØæÁ®ã‰∏≠ÈªòËÆ§‰ªãÁªçÁöÑËôöÊãüÊú∫ÈÉΩÊòØHotSpotÔºåÁõ∏ÂÖ≥Êú∫Âà∂‰πü‰∏ªË¶ÅÊòØÊåáHotSpotÁöÑGCÊú∫Âà∂„ÄÇ(ÊØîÂ¶ÇÂÖ∂‰ªñ‰∏§‰∏™ÂïÜÁî®ËôöÊãüÊú∫ÈÉΩÊ≤°ÊúâÊñπÊ≥ïÂå∫ÁöÑÊ¶ÇÂøµ) ¬∑‰ªéÊúçÂä°Âô®„ÄÅÊ°åÈù¢Âà∞ÁßªÂä®Á´Ø„ÄÅÂµåÂÖ•ÂºèÈÉΩÊúâÂ∫îÁî®„ÄÇ ¬∑ÂêçÁß∞‰∏≠ÁöÑHotSpotÊåáÁöÑÂ∞±ÊòØÂÆÉÁöÑÁÉ≠ÁÇπ‰ª£Á†ÅÊé¢ÊµãÊäÄÊúØ„ÄÇ ÈÄöËøáËÆ°Êï∞Âô®ÊâæÂà∞ÊúÄÂÖ∑ÁºñËØë‰ª∑ÂÄº‰ª£Á†ÅÔºåËß¶ÂèëÂç≥Êó∂ÁºñËØëÊàñÊ†à‰∏äÊõøÊç¢ ÈÄöËøáÁºñËØëÂô®‰∏éËß£ÈáäÂô®ÂçèÂêåÂ∑•‰ΩúÔºåÂú®ÊúÄ‰ºòÂåñÁöÑÁ®ãÂ∫èÂìçÂ∫îÊó∂Èó¥‰∏éÊúÄ‰Ω≥ÊâßË°åÊÄßËÉΩ‰∏≠ÂèñÂæóÂπ≥Ë°° BEA ÁöÑJRockit ¬∑‰∏ìÊ≥®‰∫éÊúçÂä°Âô®Á´ØÂ∫îÁî® ÂÆÉÂèØ‰ª•‰∏çÂ§™ÂÖ≥Ê≥®Á®ãÂ∫èÂêØÂä®ÈÄüÂ∫¶ÔºåÂõ†Ê≠§JRockitÂÜÖÈÉ®‰∏çÂåÖÂê´Ëß£ÊûêÂô®ÂÆûÁé∞ÔºåÂÖ®ÈÉ®‰ª£Á†ÅÈÉΩÈù†Âç≥Êó∂ÁºñËØëÂô®ÁºñËØëÂêéÊâßË°å„ÄÇ ¬∑Â§ßÈáèÁöÑË°å‰∏öÂü∫ÂáÜÊµãËØïÊòæÁ§∫ÔºåJRockit JVMÊòØ‰∏ñÁïå‰∏äÊúÄÂø´ÁöÑJVM„ÄÇ ‰ΩøÁî®JRockit‰∫ßÂìÅÔºåÂÆ¢Êà∑Â∑≤Áªè‰ΩìÈ™åÂà∞‰∫ÜÊòæËëóÁöÑÊÄßËÉΩÊèêÈ´òÔºà‰∏Ä‰∫õË∂ÖËøá‰∫Ü70% ÔºâÂíåÁ°¨‰ª∂ÊàêÊú¨ÁöÑÂáèÂ∞ë(Ëææ50%Ôºâ„ÄÇ ¬∑‰ºòÂäø:ÂÖ®Èù¢ÁöÑJavaËøêË°åÊó∂Ëß£ÂÜ≥ÊñπÊ°àÁªÑÂêà JRockitÈù¢ÂêëÂª∂ËøüÊïèÊÑüÂûãÂ∫îÁî®ÁöÑËß£ÂÜ≥ÊñπÊ°àJRockit Real TimeÊèê‰æõ‰ª•ÊØ´ÁßíÊàñÂæÆÁßíÁ∫ßÁöÑJVMÂìçÂ∫îÊó∂Èó¥ÔºåÈÄÇÂêàË¥¢Âä°„ÄÅÂÜõ‰∫ãÊåáÊå•„ÄÅÁîµ‰ø°ÁΩëÁªúÁöÑÈúÄË¶ÅMissionControlÊúçÂä°Â•ó‰ª∂ÔºåÂÆÉÊòØ‰∏ÄÁªÑ‰ª•ÊûÅ‰ΩéÁöÑÂºÄÈîÄÊù•ÁõëÊéß„ÄÅÁÆ°ÁêÜÂíåÂàÜÊûêÁîü‰∫ßÁéØÂ¢É‰∏≠ÁöÑÂ∫îÁî®Á®ãÂ∫èÁöÑÂ∑•ÂÖ∑„ÄÇ 2008Âπ¥ÔºåBEAË¢´oracleÊî∂Ë¥≠„ÄÇ oracleË°®Ëææ‰∫ÜÊï¥Âêà‰∏§Â§ß‰ºòÁßÄËôöÊãüÊú∫ÁöÑÂ∑•‰ΩúÔºåÂ§ßËá¥Âú®JDK 8‰∏≠ÂÆåÊàê„ÄÇÊï¥ÂêàÁöÑÊñπÂºèÊòØÂú®HotSpotÁöÑÂü∫Á°Ä‰∏äÔºåÁßªÊ§çJRockitÁöÑ‰ºòÁßÄÁâπÊÄß„ÄÇ ¬∑È´òÊñØÊûó:ÁõÆÂâçÂ∞±ËÅå‰∫éË∞∑Ê≠åÔºåÁ†îÁ©∂‰∫∫Â∑•Êô∫ËÉΩÂíåÊ∞¥‰∏ãÊú∫Âô®‰∫∫ IBM ÁöÑJ9 ÂÖ®Áß∞:IBM Technology for Java virtual MachineÔºåÁÆÄÁß∞IT4JÔºåÂÜÖÈÉ®‰ª£Âè∑:J9 ¬∑Â∏ÇÂú∫ÂÆö‰Ωç‰∏éHotSpotÊé•ËøëÔºåÊúçÂä°Âô®Á´Ø„ÄÅÊ°åÈù¢Â∫îÁî®„ÄÅÂµåÂÖ•ÂºèÁ≠âÂ§öÁî®ÈÄîVM„ÄÇ ¬∑ÂπøÊ≥õÁî®‰∫éIBMÁöÑÂêÑÁßçJava‰∫ßÂìÅ„ÄÇ ¬∑ÁõÆÂâçÔºåÊúâÂΩ±ÂìçÂäõÁöÑ‰∏âÂ§ßÂïÜÁî®ËôöÊãüÊú∫‰πã‰∏ÄÔºå‰πüÂè∑Áß∞ÊòØ‰∏ñÁïå‰∏äÊúÄÂø´ÁöÑJavaËôöÊãüÊú∫„ÄÇ ¬∑2017Âπ¥Â∑¶Âè≥ÔºåIBMÂèëÂ∏É‰∫ÜÂºÄÊ∫êJ9 VMÔºåÂëΩÂêç‰∏∫openJ9Ôºå‰∫§ÁªôEclipseÂü∫Èáë‰ºöÁÆ°ÁêÜÔºå‰πüÁß∞‰∏∫Eclipse OpenJ9 KVMÂíåcDC/CL.DC Hotspot oracleÂú®Java ME‰∫ßÂìÅÁ∫ø‰∏äÁöÑ‰∏§Ê¨æËôöÊãüÊú∫‰∏∫:CDC/CLDC HotSpot Implementation VM KVM (KilobyteÔºâÊòØCLDC-HIÊó©Êúü‰∫ßÂìÅ ¬∑ÁõÆÂâçÁßªÂä®È¢ÜÂüüÂú∞‰ΩçÂ∞¥Â∞¨ÔºåÊô∫ËÉΩÊâãÊú∫Ë¢´AndroidÂíåioS‰∫åÂàÜÂ§©‰∏ã„ÄÇ .KVMÁÆÄÂçï„ÄÅËΩªÈáè„ÄÅÈ´òÂ∫¶ÂèØÁßªÊ§çÔºåÈù¢ÂêëÊõ¥‰ΩéÁ´ØÁöÑËÆæÂ§á‰∏äËøòÁª¥ÊåÅËá™Â∑±ÁöÑ‰∏ÄÁâáÂ∏ÇÂú∫ Êô∫ËÉΩÊéßÂà∂Âô®„ÄÅ‰º†ÊÑüÂô®ËÄÅ‰∫∫ÊâãÊú∫„ÄÅÁªèÊµéÊ¨†ÂèëËææÂú∞Âå∫ÁöÑÂäüËÉΩÊâãÊú∫ .ÊâÄÊúâÁöÑËôöÊãüÊú∫ÁöÑÂéüÂàô:‰∏ÄÊ¨°ÁºñËØëÔºåÂà∞Â§ÑËøêË°å„ÄÇ Azul VM ¬∑ÂâçÈù¢‰∏âÂ§ß‚ÄúÈ´òÊÄßËÉΩJavaËôöÊãüÊú∫‚Äù‰ΩøÁî®Âú®ÈÄöÁî®Á°¨‰ª∂Âπ≥Âè∞‰∏ä ¬∑ËøôÈáåAzul VMÂíåBEA Liquid VMÊòØ‰∏éÁâπÂÆöÁ°¨‰ª∂Âπ≥Âè∞ÁªëÂÆö„ÄÅËΩØÁ°¨‰ª∂ÈÖçÂêàÁöÑ‰∏ìÊúâËôöÊãüÊú∫ È´òÊÄßËÉΩJavaËôöÊãüÊú∫‰∏≠ÁöÑÊàòÊñóÊú∫„ÄÇ Azul VMÊòØAzul systemsÂÖ¨Âè∏Âú®HotSpotÂü∫Á°Ä‰∏äËøõË°åÂ§ßÈáèÊîπËøõÔºåËøêË°å‰∫éAzul systemsÂÖ¨Âè∏ÁöÑ‰∏ìÊúâÁ°¨‰ª∂vegaÁ≥ªÁªü‰∏äÁöÑJavaËôöÊãüÊú∫„ÄÇ ¬∑ÊØè‰∏™Azul VMÂÆû‰æãÈÉΩÂèØ‰ª•ÁÆ°ÁêÜËá≥Â∞ëÊï∞ÂçÅ‰∏™CPUÂíåÊï∞ÁôæGBÂÜÖÂ≠òÁöÑÁ°¨‰ª∂ËµÑÊ∫êÔºåÂπ∂Êèê‰æõÂú®Â∑®Â§ßÂÜÖÂ≠òËåÉÂõ¥ÂÜÖÂÆûÁé∞ÂèØÊéßÁöÑGCÊó∂Èó¥ÁöÑÂûÉÂúæÊî∂ÈõÜÂô®„ÄÅ‰∏ìÊúâÁ°¨‰ª∂‰ºòÂåñÁöÑÁ∫øÁ®ãË∞ÉÂ∫¶Á≠â‰ºòÁßÄÁâπÊÄß„ÄÇ 2010Âπ¥ÔºåAzul systemsÂÖ¨Âè∏ÂºÄÂßã‰ªéÁ°¨‰ª∂ËΩ¨ÂêëËΩØ‰ª∂ÔºåÂèëÂ∏É‰∫ÜËá™Â∑±ÁöÑZingJVMÔºåÂèØ‰ª•Âú®ÈÄöÁî®x86Âπ≥Âè∞‰∏äÊèê‰æõÊé•Ëøë‰∫éVegaÁ≥ªÁªüÁöÑÁâπÊÄß„ÄÇ Liquid VM ¬∑È´òÊÄßËÉΩJavaËôöÊãüÊú∫‰∏≠ÁöÑÊàòÊñóÊú∫„ÄÇ ¬∑BEAÂÖ¨Âè∏ÂºÄÂèëÁöÑÔºåÁõ¥Êé•ËøêË°åÂú®Ëá™ÂÆ∂HypervisorÁ≥ªÁªü‰∏ä ¬∑Liquid VMÂç≥ÊòØÁé∞Âú®ÁöÑJRockit VE(Virtual EditionÔºâ ,LiquidVM‰∏çÈúÄË¶ÅÊìç‰ΩúÁ≥ªÁªüÁöÑÊîØÊåÅÔºåÊàñËÄÖËØ¥ÂÆÉËá™Â∑±Êú¨Ë∫´ÂÆûÁé∞‰∫Ü‰∏Ä‰∏™‰∏ìÁî®Êìç‰ΩúÁ≥ªÁªüÁöÑÂøÖË¶ÅÂäüËÉΩÔºåÂ¶ÇÁ∫øÁ®ãË∞ÉÂ∫¶„ÄÅÊñá‰ª∂Á≥ªÁªü„ÄÅÁΩëÁªúÊîØÊåÅÁ≠â„ÄÇ ¬∑ÈöèÁùÄJRockitËôöÊãüÊú∫ÁªàÊ≠¢ÂºÄÂèëÔºåLiquid VMÈ°πÁõÆ‰πüÂÅúÊ≠¢‰∫Ü„ÄÇ Apache Harmony Apache‰πüÊõæÁªèÊé®Âá∫Ëøá‰∏éJDK 1.5ÂíåJDK 1.6ÂÖºÂÆπÁöÑJavaËøêË°åÂπ≥Âè∞Apache Harmony„ÄÇ ¬∑ÂÆÉÊòØIBMÂíåIntelËÅîÂêàÂºÄÂèëÁöÑÂºÄÊ∫êJVMÔºåÂèóÂà∞ÂêåÊ†∑ÂºÄÊ∫êÁöÑopenJDKÁöÑÂéãÂà∂ÔºåsunÂùöÂÜ≥‰∏çËÆ©HarmonyËé∑ÂæóJCPËÆ§ËØÅÔºåÊúÄÁªà‰∫é2011Âπ¥ÈÄÄÂΩπÔºåIBMËΩ¨ËÄåÂèÇ‰∏éOpenJDK ¬∑ËôΩÁÑ∂ÁõÆÂâçÂπ∂Ê≤°ÊúâApache HarmonyË¢´Â§ßËßÑÊ®°ÂïÜÁî®ÁöÑÊ°à‰æãÔºå‰ΩÜÊòØÂÆÉÁöÑJavaÁ±ªÂ∫ì‰ª£Á†ÅÂê∏Á∫≥Ëøõ‰∫ÜAndroid SDK„ÄÇ Microsoft JVM ¬∑ÂæÆËΩØ‰∏∫‰∫ÜÂú®IE3ÊµèËßàÂô®‰∏≠ÊîØÊåÅJava AppletsÔºåÂºÄÂèë‰∫ÜMicrosoft JVM„ÄÇ¬∑Âè™ËÉΩÂú®windowÂπ≥Âè∞‰∏ãËøêË°å„ÄÇ‰ΩÜÁ°ÆÊòØÂΩìÊó∂windows‰∏ãÊÄßËÉΩÊúÄÂ•ΩÁöÑJava VM.. 1997Âπ¥Ôºåsun‰ª•‰æµÁäØÂïÜÊ†á„ÄÅ‰∏çÊ≠£ÂΩìÁ´û‰∫âÁΩ™ÂêçÊåáÊéßÂæÆËΩØÊàêÂäüÔºåËµî‰∫ÜsunÂæàÂ§öÈí±„ÄÇÂæÆËΩØÂú®windowsXP SP3‰∏≠ÊäπÊéâ‰∫ÜÂÖ∂VM„ÄÇÁé∞Âú®windows‰∏äÂÆâË£ÖÁöÑjdkÈÉΩÊòØHotSpot„ÄÇ TaobaoJVM ¬∑Áî±AliJVMÂõ¢ÈòüÂèëÂ∏É„ÄÇÈòøÈáåÔºåÂõΩÂÜÖ‰ΩøÁî®JavaÊúÄÂº∫Â§ßÁöÑÂÖ¨Âè∏ÔºåË¶ÜÁõñ‰∫ëËÆ°ÁÆó„ÄÅÈáëÈõ∑ÁîüÂàá‰∏ÄÁîµÂïÜÁ≠â‰ºóÂ§öÈ¢ÜÂüüÔºåÈúÄË¶ÅËß£ÂÜ≥È´òÂπ∂Âèë„ÄÅÈ´òÂèØÁî®„ÄÅÂàÜÂ∏ÉÂºèÁöÑÂ§çÂêàÈóÆÈ¢ò„ÄÇÊúâÂ§ßÈáçÁöÑÂºÄÊ∫êÂπøÁöÑ„ÄÇ ¬∑Âü∫‰∫éopenJDKÂºÄÂèë‰∫ÜËá™Â∑±ÁöÑÂÆöÂà∂ÁâàÊú¨AlibabaJDKÔºåÁÆÄÁß∞AJDK„ÄÇÊòØÊï¥‰∏™ÈòøÈáåJava‰ΩìÁ≥ªÁöÑÂü∫Áü≥„ÄÇ ¬∑Âü∫‰∫éopenJDK HotSpot VM ÂèëÂ∏ÉÁöÑÂõΩÂÜÖÁ¨¨‰∏Ä‰∏™‰ºòÂåñ„ÄÅÊ∑±Â∫¶ÂÆöÂà∂‰∏îÂºÄÊ∫êÁöÑÈ´òÊÄßËÉΩÊúçÂä°Âô®ÁâàJavaËôöÊãüÊú∫„ÄÇ ÂàõÊñ∞ÁöÑGCIH (GC invisible heap ÔºâÊäÄÊúØÂÆûÁé∞‰∫Üoff-heap ÔºåÂç≥Â∞ÜÁîüÂëΩÂë®ÊúüËæÉÈïøÁöÑJavaÂØπË±°‰ªéheap‰∏≠ÁßªÂà∞heap‰πãÂ§ñÔºåÂπ∂‰∏îGC‰∏çËÉΩÁÆ°ÁêÜGCIHÂÜÖÈÉ®ÁöÑJava ÂØπË±°Ôºå‰ª•Ê≠§ËææÂà∞Èôç‰ΩéGCÁöÑÂõûÊî∂È¢ëÁéáÂíåÊèêÂçáGC ÁöÑÂõûÊî∂ÊïàÁéáÁöÑÁõÆÁöÑ„ÄÇ GCIH ‰∏≠ÁöÑÂØπË±°ËøòËÉΩÂ§üÂú®Â§ö‰∏™JavaËôöÊãüÊú∫ËøõÁ®ã‰∏≠ÂÆûÁé∞ÂÖ±‰∫´ ‰ΩøÁî®crc32Êåá‰ª§ÂÆûÁé∞JVM intrinsicÈôç‰ΩéJNI ÁöÑË∞ÉÁî®ÂºÄÈîÄ PMU hardware ÁöÑJava profiling toolÂíåËØäÊñ≠ÂçèÂä©ÂäüËÉΩ ÈíàÂØπÂ§ßÊï∞ÊçÆÂú∫ÊôØÁöÑZenGC . taobao vmÂ∫îÁî®Âú®ÈòøÈáå‰∫ßÂìÅ‰∏äÊÄßËÉΩÈ´òÔºåÁ°¨‰ª∂‰∏•Èáç‰æùËµñintelÁöÑcpuÔºåÊçüÂ§±‰∫ÜÂÖºÂÆπÊÄßÔºå‰ΩÜÊèêÈ´ò‰∫ÜÊÄßËÉΩ ÁõÆÂâçÂ∑≤ÁªèÂú®Ê∑òÂÆù„ÄÅÂ§©Áå´‰∏äÁ∫øÔºåÊääoracle ÂÆòÊñπJVMÁâàÊú¨ÂÖ®ÈÉ®ÊõøÊç¢‰∫Ü„ÄÇ Dalvik VM : ¬∑Ë∞∑Ê≠åÂºÄÂèëÁöÑÔºåÂ∫îÁî®‰∫éAndroidÁ≥ªÁªüÔºåÂπ∂Âú®Android2.2‰∏≠Êèê‰æõ‰∫ÜJITÔºåÂèëÂ±ïËøÖÁåõ„ÄÇ.Dalvik VMÂè™ËÉΩÁß∞‰ΩúËôöÊãüÊú∫ÔºåËÄå‰∏çËÉΩÁß∞‰Ωú‚ÄúJavaËôöÊãüÊú∫‚ÄùÔºåÂÆÉÊ≤°ÊúâÈÅµÂæ™ JavaËôöÊãüÊú∫ËßÑËåÉ ¬∑‰∏çËÉΩÁõ¥Êé•ÊâßË°åJava ÁöÑclass Êñá‰ª∂¬∑Âü∫‰∫éÂØÑÂ≠òÂô®Êû∂ÊûÑÔºå‰∏çÊòØjvmÁöÑÊ†àÊû∂ÊûÑ„ÄÇ ¬∑ÊâßË°åÁöÑÊòØÁºñËØë‰ª•ÂêéÁöÑdex(Dalvik ExecutableÔºâÊñá‰ª∂„ÄÇÊâßË°åÊïàÁéáÊØîËæÉÈ´ò ÂÆÉÊâßË°åÁöÑdex (Dalvik ExecutableÔºâÊñá‰ª∂ÂèØ‰ª•ÈÄöËøáclassÊñá‰ª∂ËΩ¨ÂåñËÄåÊù•Ôºå‰ΩøÁî®JavaËØ≠Ê≥ïÁºñÂÜôÂ∫îÁî®Á®ãÂ∫èÔºåÂèØ‰ª•Áõ¥Êé•‰ΩøÁî®Â§ßÈÉ®ÂàÜÁöÑJava APIÁ≠â„ÄÇ ¬∑Android 5.0‰ΩøÁî®ÊîØÊåÅÊèêÂâçÁºñËØë(Ahead of Time CompilationÔºåAOTÔºâÁöÑARTVMÊõøÊç¢Dalvik VM„ÄÇ Graal VM . 2018Âπ¥4ÊúàÔºåoracle LabsÂÖ¨ÂºÄ‰∫ÜGraal VMÔºåÂè∑Áß∞&quot;Run Programs Faster Anywhere&quot;ÔºåÂãÉÂãÉÈáéÂøÉ„ÄÇ‰∏é1995Âπ¥javaÁöÑ‚Äùwrite onceÔºårun anywhere&quot;ÈÅ•Áõ∏ÂëºÂ∫î„ÄÇ Graal VMÂú®HotSpot VMÂü∫Á°Ä‰∏äÂ¢ûÂº∫ËÄåÊàêÁöÑË∑®ËØ≠Ë®ÄÂÖ®Ê†àËôöÊãüÊú∫ÔºåÂèØ‰ª•‰Ωú‰∏∫‚Äú‰ªª‰ΩïËØ≠Ë®Ä‚ÄùÁöÑËøêË°åÂπ≥Âè∞‰ΩøÁî®„ÄÇËØ≠Ë®ÄÂåÖÊã¨: Java„ÄÅScala„ÄÅGroovy„ÄÅKotlin;C„ÄÅC++ Javascript„ÄÅRuby„ÄÅPython„ÄÅRÁ≠â ¬∑ÊîØÊåÅ‰∏çÂêåËØ≠Ë®Ä‰∏≠Ê∑∑Áî®ÂØπÊñπÁöÑÊé•Âè£ÂíåÂØπË±°ÔºåÊîØÊåÅËøô‰∫õËØ≠Ë®Ä‰ΩøÁî®Â∑≤ÁªèÁºñÂÜôÂ•ΩÁöÑÊú¨Âú∞Â∫ìÊñá‰ª∂Â∑•‰ΩúÂéüÁêÜÊòØÂ∞ÜËøô‰∫õËØ≠Ë®ÄÁöÑÊ∫ê‰ª£Á†ÅÊàñÊ∫ê‰ª£Á†ÅÁºñËØëÂêéÁöÑ‰∏≠Èó¥Ê†ºÂºèÔºåÈÄöËøáËß£ÈáäÂô®ËΩ¨Êç¢‰∏∫ËÉΩË¢´Graal VMÊé•ÂèóÁöÑ‰∏≠Èó¥Ë°®Á§∫„ÄÇGraal VMÊèê‰æõTruffleÂ∑•ÂÖ∑ÈõÜÂø´ÈÄüÊûÑÂª∫Èù¢Âêë‰∏ÄÁßçÊñ∞ËØ≠Ë®ÄÁöÑËß£ÈáäÂô®„ÄÇÂú®ËøêË°åÊó∂ËøòËÉΩËøõË°åÂç≥Êó∂ÁºñËØë‰ºòÂåñÔºåËé∑ÂæóÊØîÂéüÁîüÁºñËØëÂô®Êõ¥‰ºòÁßÄÁöÑÊâßË°åÊïàÁéá„ÄÇ Â¶ÇÊûúËØ¥HotSpotÊúâ‰∏ÄÂ§©ÁúüÁöÑË¢´Âèñ‰ª£ÔºåGraal VMÂ∏åÊúõÊúÄÂ§ß„ÄÇ‰ΩÜÊòØJavaÁöÑËΩØ‰ª∂ÁîüÊÄÅÊ≤°Êúâ‰∏ùÊØ´ÂèòÂåñ„ÄÇ ‰∫å„ÄÅÁ±ªÂä†ËΩΩÂ≠êÁ≥ªÁªü 1.ÂÜÖÂ≠òÁÆÄÂõæ 2.Á±ªÂä†ËΩΩÂô® ‚Äã Á±ªÂä†ËΩΩÂô®Â≠êÁ≥ªÁªüË¥üË¥£‰ªéÊñá‰ª∂Á≥ªÁªüÊàñËÄÖÁΩëÁªú‰∏≠Âä†ËΩΩclassÊñá‰ª∂ÔºåclassÊñá‰ª∂Âú®Êñá‰ª∂ÂºÄÂ§¥ÊúâÁâπÂÆöÁöÑÊñá‰ª∂Ê†áËØÜ„ÄÇ ClassLoaderÂè™Ë¥üË¥£classÊñá‰ª∂ÁöÑÂä†ËΩΩÔºåËá≥‰∫éÂÆÉÊòØÂê¶ÂèØ‰ª•ËøêË°åÔºåÂàôÁî±ExecutionEngineÂÜ≥ÂÆö„ÄÇ Âä†ËΩΩÁöÑÁ±ª‰ø°ÊÅØÂ≠òÊîæ‰∫é‰∏ÄÂùóÁß∞‰∏∫ÊñπÊ≥ïÂå∫ÁöÑÂÜÖÂ≠òÁ©∫Èó¥„ÄÇÈô§‰∫ÜÁ±ªÁöÑ‰ø°ÊÅØÂ§ñÔºåÊñπÊ≥ïÂå∫‰∏≠Ëøò‰ºöÂ≠òÊîæËøêË°åÊó∂Â∏∏ÈáèÊ±†‰ø°ÊÅØÔºåÂèØËÉΩËøòÂåÖÊã¨Â≠óÁ¨¶‰∏≤Â≠óÈù¢ÈáèÂíåÊï∞Â≠óÂ∏∏ÈáèÔºàËøôÈÉ®ÂàÜÂ∏∏Èáè‰ø°ÊÅØÊòØClassÊñá‰ª∂‰∏≠Â∏∏ÈáèÊ±†ÈÉ®ÂàÜÁöÑÂÜÖÂ≠òÊò†Â∞Ñ) 3.Á±ªÂä†ËΩΩÂô®ClassLoaderËßíËâ≤ class file Â≠òÂú®‰∫éÊú¨Âú∞Á°¨Áõò‰∏äÔºåÂèØ‰ª•ÁêÜËß£‰∏∫ËÆæËÆ°Â∏àÁîªÂú®Á∫∏‰∏äÁöÑÊ®°ÊùøÔºåËÄåÊúÄÁªàËøô‰∏™Ê®°ÊùøÂú®ÊâßË°åÁöÑÊó∂ÂÄôÊòØË¶ÅÂä†ËΩΩÂà∞JVMÂΩì‰∏≠Êù•ÔºåÊ†πÊçÆËøô‰∏™Êñá‰ª∂ÂÆû‰æãÂåñÂá∫n‰∏™‰∏ÄÊ®°‰∏ÄÊ†∑ÁöÑÂÆû‰æã„ÄÇ class file Âä†ËΩΩÂà∞JVM‰∏≠ÔºåË¢´Áß∞‰∏∫DNAÂÖÉÊï∞ÊçÆÊ®°ÊùøÔºåÊîæÂú®ÊñπÊ≥ïÂå∫„ÄÇ Âú®.classÊñá‰ª∂-&gt; JVM -&gt;ÊúÄÁªàÊàê‰∏∫ÂÖÉÊï∞ÊçÆÊ®°ÊùøÔºåÊ≠§ËøáÁ®ãÂ∞±Ë¶Å‰∏Ä‰∏™ËøêËæìÂ∑•ÂÖ∑(Á±ªË£ÖËΩΩÂô®class Loader)ÔºåÊâÆÊºî‰∏Ä‰∏™Âø´ÈÄíÂëòÁöÑËßíËâ≤„ÄÇ Ëé∑ÂèñClassLoaderÈÄîÁªè 4.Á±ªÂä†ËΩΩËøáÁ®ã Âä†ËΩΩ(Loading): 1ÔºéÈÄöËøá‰∏Ä‰∏™Á±ªÁöÑÂÖ®ÈôêÂÆöÂêçËé∑ÂèñÂÆö‰πâÊ≠§Á±ªÁöÑ‰∫åËøõÂà∂Â≠óËäÇÊµÅ 2ÔºéÂ∞ÜËøô‰∏™Â≠óËäÇÊµÅÊâÄ‰ª£Ë°®ÁöÑÈùôÊÄÅÂ≠òÂÇ®ÁªìÊûÑËΩ¨Âåñ‰∏∫ÊñπÊ≥ïÂå∫ÁöÑËøêË°åÊó∂Êï∞ÊçÆÁªìÊûÑ 3ÔºéÂú®ÂÜÖÂ≠ò‰∏≠ÁîüÊàê‰∏Ä‰∏™‰ª£Ë°®Ëøô‰∏™Á±ªÁöÑ java.lang.Class ÂØπË±°Ôºå‰Ωú‰∏∫ÊñπÊ≥ïÂå∫Ëøô‰∏™Á±ªÁöÑÂêÑÁßçÊï∞ÊçÆÁöÑËÆøÈóÆÂÖ•Âè£ Ë°•ÂÖÖ:Âä†ËΩΩ.classÊñá‰ª∂ÁöÑÊñπÂºè ¬∑‰ªéÊú¨Âú∞Á≥ªÁªü‰∏≠Áõ¥Êé•Âä†ËΩΩ ¬∑ÈÄöËøáÁΩëÁªúËé∑ÂèñÔºåÂÖ∏ÂûãÂú∫ÊôØ: web Applet ¬∑‰ªézipÂéãÁº©ÂåÖ‰∏≠ËØªÂèñÔºåÊàê‰∏∫Êó•Âêéjar„ÄÅ warÊ†ºÂºèÁöÑÂü∫Á°Ä¬∑ËøêË°åÊó∂ËÆ°ÁÆóÁîüÊàêÔºå‰ΩøÁî®ÊúÄÂ§öÁöÑÊòØ:Âä®ÊÄÅ‰ª£ÁêÜÊäÄÊúØ ¬∑Áî±ÂÖ∂‰ªñÊñá‰ª∂ÁîüÊàêÔºåÂÖ∏ÂûãÂú∫ÊôØ:JSPÂ∫îÁî® ¬∑‰ªé‰∏ìÊúâÊï∞ÊçÆÂ∫ì‰∏≠ÊèêÂèñ.classÊñá‰ª∂,ÊØîËæÉÂ∞ëËßÅ ¬∑‰ªéÂä†ÂØÜÊñá‰ª∂‰∏≠Ëé∑ÂèñÔºåÂÖ∏ÂûãÁöÑÈò≤classÊñá‰ª∂Ë¢´ÂèçÁºñËØëÁöÑ‰øùÊä§Êé™ÊñΩ ÈìæÊé• È™åËØÅ(Verify): ¬∑ÁõÆÁöÑÂú®‰∫éÁ°Æ‰øùclassÊñá‰ª∂ÁöÑÂ≠óËäÇÊµÅ‰∏≠ÂåÖÂê´‰ø°ÊÅØÁ¨¶ÂêàÂΩìÂâçËôöÊãüÊú∫Ë¶ÅÊ±ÇÔºå‰øùËØÅË¢´Âä†ËΩΩÁ±ªÁöÑÊ≠£Á°ÆÊÄßÔºå‰∏ç‰ºöÂç±ÂÆ≥ËôöÊãüÊú∫Ëá™Ë∫´ÂÆâÂÖ®„ÄÇ ¬∑‰∏ªË¶ÅÂåÖÊã¨ÂõõÁßçÈ™åËØÅÔºåÊñá‰ª∂Ê†ºÂºèÈ™åËØÅÔºåÂÖÉÊï∞ÊçÆÈ™åËØÅÔºåÂ≠óËäÇÁ†ÅÈ™åËØÅÔºåÁ¨¶Âè∑ÂºïÁî®È™åËØÅ„ÄÇ ÂáÜÂ§á(Prepare): ¬∑‰∏∫Á±ªÂèòÈáèÂàÜÈÖçÂÜÖÂ≠òÂπ∂‰∏îËÆæÁΩÆËØ•Á±ªÂèòÈáèÁöÑÈªòËÆ§ÂàùÂßãÂÄºÔºåÂç≥Èõ∂ÂÄº„ÄÇ ËøôÈáå‰∏çÂåÖÂê´Áî®final‰øÆÈ•∞ÁöÑstaticÔºåÂõ†‰∏∫finalÂú®ÁºñËØëÁöÑÊó∂ÂÄôÂ∞±‰ºöÂàÜÈÖç‰∫ÜÔºåÂáÜÂ§áÈò∂ÊÆµ‰ºöÊòæÂºèÈìæÂàùÂßãÂåñ; ¬∑ËøôÈáå‰∏ç‰ºö‰∏∫ÂÆû‰æãÂèòÈáèÂàÜÈÖçÂàùÂßãÂåñÔºåÁ±ªÂèòÈáè‰ºöÂàÜÈÖçÂú®ÊñπÊ≥ïÂå∫‰∏≠ÔºåËÄåÂÆû‰æãÂèòÈáèÊòØ‰ºöÈöèÁùÄÂØπË±°‰∏ÄËµ∑ÂàÜÈÖçÂà∞JavaÂ†Ü‰∏≠„ÄÇ Ëß£Êûê(Resolve) : ¬∑Â∞ÜÂ∏∏ÈáèÊ±†ÂÜÖÁöÑÁ¨¶Âè∑ÂºïÁî®ËΩ¨Êç¢‰∏∫Áõ¥Êé•ÂºïÁî®ÁöÑËøáÁ®ã„ÄÇ ¬∑‰∫ãÂÆû‰∏äÔºåËß£ÊûêÊìç‰ΩúÂæÄÂæÄ‰ºö‰º¥ÈöèÁùÄJVMÂú®ÊâßË°åÂÆåÂàùÂßãÂåñ‰πãÂêéÂÜçÊâßË°å„ÄÇ ¬∑Á¨¶Âè∑ÂºïÁî®Â∞±ÊòØ‰∏ÄÁªÑÁ¨¶Âè∑Êù•ÊèèËø∞ÊâÄÂºïÁî®ÁöÑÁõÆÊ†á„ÄÇÁ¨¶Âè∑ÂºïÁî®ÁöÑÂ≠óÈù¢ÈáèÂΩ¢ÂºèÊòéÁ°ÆÂÆö‰πâÂú®„ÄäjavaËôöÊãüÊú∫ËßÑËåÉ„ÄãÁöÑclassÊñá‰ª∂Ê†ºÂºè‰∏≠„ÄÇÁõ¥Êé•ÂºïÁî®Â∞±ÊòØÁõ¥Êé•ÊåáÂêëÁõÆÊ†áÁöÑÊåáÈíà„ÄÅÁõ∏ÂØπÂÅèÁßªÈáèÊàñ‰∏Ä‰∏™Èó¥Êé•ÂÆö‰ΩçÂà∞ÁõÆÊ†áÁöÑÂè•ÊüÑ„ÄÇ ¬∑Ëß£ÊûêÂä®‰Ωú‰∏ªË¶ÅÈíàÂØπÁ±ªÊàñÊé•Âè£„ÄÅÂ≠óÊÆµ„ÄÅÁ±ªÊñπÊ≥ï„ÄÅÊé•Âè£ÊñπÊ≥ï„ÄÅÊñπÊ≥ïÁ±ªÂûãÁ≠â„ÄÇÂØπÂ∫îÂ∏∏ÈáèÊ±†‰∏≠ÁöÑ CONSTANT Class info„ÄÅCONSTANT Fieldref_info„ÄÅCONSTANT _Methodref_infoÁ≠â.„ÄÇ ÂàùÂßãÂåñ: ¬∑ÂàùÂßãÂåñÈò∂ÊÆµÂ∞±ÊòØÊâßË°åÁ±ªÊûÑÈÄ†Âô®ÊñπÊ≥ï ()ÁöÑËøáÁ®ã„ÄÇ ¬∑Ê≠§ÊñπÊ≥ï‰∏çÈúÄÂÆö‰πâÔºåÊòØjavacÁºñËØëÂô®Ëá™Âä®Êî∂ÈõÜÁ±ª‰∏≠ÁöÑÊâÄÊúâÁ±ªÂèòÈáèÁöÑËµãÂÄºÂä®‰ΩúÂíåÈùôÊÄÅ‰ª£Á†ÅÂùó‰∏≠ÁöÑËØ≠Âè•ÂêàÂπ∂ËÄåÊù•„ÄÇ ¬∑ÊûÑÈÄ†Âô®ÊñπÊ≥ï‰∏≠Êåá‰ª§ÊåâËØ≠Âè•Âú®Ê∫êÊñá‰ª∂‰∏≠Âá∫Áé∞ÁöÑÈ°∫Â∫èÊâßË°å„ÄÇ . ()‰∏çÂêå‰∫éÁ±ªÁöÑÊûÑÈÄ†Âô®„ÄÇ(ÂÖ≥ËÅî:ÊûÑÈÄ†Âô®ÊòØËôöÊãüÊú∫ËßÜËßí‰∏ãÁöÑ( ))¬∑Ëã•ËØ•Á±ªÂÖ∑ÊúâÁà∂Á±ªÔºåJVM‰ºö‰øùËØÅÂ≠êÁ±ªÁöÑ()ÊâßË°åÂâçÔºåÁà∂Á±ªÁöÑ ()Â∑≤ÁªèÊâßË°åÂÆåÊØï„ÄÇ ¬∑ËôöÊãüÊú∫ÂøÖÈ°ª‰øùËØÅ‰∏Ä‰∏™Á±ªÁöÑ ()ÊñπÊ≥ïÂú®Â§öÁ∫øÁ®ã‰∏ãË¢´ÂêåÊ≠•Âä†ÈîÅ„ÄÇ 5.Á±ªÂä†ËΩΩÂô®ÂàÜÁ±ª JVMÊîØÊåÅ‰∏§ÁßçÁ±ªÂûãÁöÑÁ±ªÂä†ËΩΩÂô®ÔºåÂàÜÂà´‰∏∫ÂºïÂØºÁ±ªÂä†ËΩΩÂô®ÔºàBootstrap ClassLoaderÔºâÂíåËá™ÂÆö‰πâÁ±ªÂä†ËΩΩÂô®(User-Defined ClassLoader)„ÄÇ ¬∑‰ªéÊ¶ÇÂøµ‰∏äÊù•ËÆ≤ÔºåËá™ÂÆö‰πâÁ±ªÂä†ËΩΩÂô®‰∏ÄËà¨ÊåáÁöÑÊòØÁ®ãÂ∫è‰∏≠Áî±ÂºÄÂèë‰∫∫ÂëòËá™ÂÆö‰πâÁöÑ‰∏ÄÁ±ªÁ±ªÂä†ËΩΩÂô®Ôºå‰ΩÜÊòØJavaËôöÊãüÊú∫ËßÑËåÉÂç¥Ê≤°ÊúâËøô‰πàÂÆö‰πâÔºåËÄåÊòØÂ∞ÜÊâÄÊúâÊ¥æÁîü‰∫éÊäΩË±°Á±ªClassLoaderÁöÑÁ±ªÂä†ËΩΩÂô®ÈÉΩÂàíÂàÜ‰∏∫Ëá™ÂÆö‰πâÁ±ªÂä†ËΩΩÂô®„ÄÇ ¬∑Êó†ËÆ∫Á±ªÂä†ËΩΩÂô®ÁöÑÁ±ªÂûãÂ¶Ç‰ΩïÂàíÂàÜÔºåÂú®Á®ãÂ∫è‰∏≠Êàë‰ª¨ÊúÄÂ∏∏ËßÅÁöÑÁ±ªÂä†ËΩΩÂô®ÂßãÁªàÂè™Êúâ3‰∏™ÔºåÂ¶Ç‰∏ãÊâÄÁ§∫: ËôöÊãüÊú∫Ëá™Â∏¶ÁöÑÂä†ËΩΩÂô® ¬∑ÂêØÂä®Á±ªÂä†ËΩΩÂô®ÔºàÂºïÂØºÁ±ªÂä†ËΩΩÂô®ÔºåBootstrap classLoader) Ëøô‰∏™Á±ªÂä†ËΩΩ‰ΩøÁî®**C/C++**ËØ≠Ë®ÄÂÆûÁé∞ÁöÑÔºåÂµåÂ•óÂú®JVMÂÜÖÈÉ®„ÄÇ ÂÆÉÁî®Êù•Âä†ËΩΩJavaÁöÑÊ†∏ÂøÉÂ∫ìÔºàJAVA HOME/jre/lib/rt.jar„ÄÅresources.jarÊàñsun.boot.class.pathË∑ØÂæÑ‰∏ãÁöÑÂÜÖÂÆπÔºâÔºåÁî®‰∫éÊèê‰æõJVMËá™Ë∫´ÈúÄË¶ÅÁöÑÁ±ª Âπ∂‰∏çÁªßÊâøËá™java.lang.classLoaderÔºåÊ≤°ÊúâÁà∂Âä†ËΩΩÂô®„ÄÇÂä†ËΩΩÊâ©Â±ïÁ±ªÂíåÂ∫îÁî®Á®ãÂ∫èÁ±ªÂä†ËΩΩÂô®ÔºåÂπ∂ÊåáÂÆö‰∏∫‰ªñ‰ª¨ÁöÑÁà∂Á±ªÂä†ËΩΩÂô®„ÄÇ Âá∫‰∫éÂÆâÂÖ®ËÄÉËôëÔºåBootstrapÂêØÂä®Á±ªÂä†ËΩΩÂô®Âè™Âä†ËΩΩÂåÖÂêç‰∏∫java„ÄÅjavax„ÄÅsunÁ≠âÂºÄÂ§¥ÁöÑÁ±ª ¬∑Êâ©Â±ïÁ±ªÂä†ËΩΩÂô®ÔºàExtension ClassLoader) JavaËØ≠Ë®ÄÁºñÂÜôÔºåÁî±sun.misc.Launcher$ExtClassLoaderÂÆûÁé∞„ÄÇÊ¥æÁîü‰∫éclassLoaderÁ±ª Áà∂Á±ªÂä†ËΩΩÂô®‰∏∫ÂêØÂä®Á±ªÂä†ËΩΩÂô® ‰ªéjava.ext.dirsÁ≥ªÁªüÂ±ûÊÄßÊâÄÊåáÂÆöÁöÑÁõÆÂΩï‰∏≠Âä†ËΩΩÁ±ªÂ∫ìÔºåÊàñ‰ªéJDKÁöÑÂÆâË£ÖÁõÆÂΩïÁöÑjre/lib/extÂ≠êÁõÆÂΩïÔºàÊâ©Â±ïÁõÆÂΩï)‰∏ãÂä†ËΩΩÁ±ªÂ∫ì„ÄÇÂ¶ÇÊûúÁî®Êà∑ÂàõÂª∫ÁöÑJARÊîæÂú®Ê≠§ÁõÆÂΩï‰∏ãÔºå‰πü‰ºöËá™Âä®Áî±Êâ©Â±ïÁ±ªÂä†ËΩΩÂô®Âä†ËΩΩ„ÄÇ ¬∑Â∫îÁî®Á®ãÂ∫èÁ±ªÂä†ËΩΩÂô®ÔºàÁ≥ªÁªüÁ±ªÂä†ËΩΩÂô®ÔºåAppClassLoader) javaËØ≠Ë®ÄÁºñÂÜôÔºåÁî±sun.misc.Launcher$AppclassLoaderÂÆûÁé∞&gt;Ê¥æÁîü‰∫éclassLoaderÁ±ª Áà∂Á±ªÂä†ËΩΩÂô®‰∏∫Êâ©Â±ïÁ±ªÂä†ËΩΩÂô® ÂÆÉË¥üË¥£Âä†ËΩΩÁéØÂ¢ÉÂèòÈáèclasspathÊàñÁ≥ªÁªüÂ±ûÊÄßjava.class.pathÊåáÂÆöË∑ØÂæÑ‰∏ãÁöÑÁ±ªÂ∫ì ËØ•Á±ªÂä†ËΩΩÊòØÁ®ãÂ∫è‰∏≠ÈªòËÆ§ÁöÑÁ±ªÂä†ËΩΩÂô®Ôºå‰∏ÄËà¨Êù•ËØ¥ÔºåJavaÂ∫îÁî®ÁöÑÁ±ªÈÉΩÊòØÁî±ÂÆÉÊù•ÂÆåÊàêÂä†ËΩΩ ÈÄöËøáclassLoader#getSystemClassLoader ()ÊñπÊ≥ïÂèØ‰ª•Ëé∑ÂèñÂà∞ËØ•Á±ªÂä†ËΩΩÂô® Áî®Êà∑Ëá™ÂÆö‰πâÁ±ªÂä†ËΩΩÂô® ¬∑Âú®JavaÁöÑÊó•Â∏∏Â∫îÁî®Á®ãÂ∫èÂºÄÂèë‰∏≠ÔºåÁ±ªÁöÑÂä†ËΩΩÂá†‰πéÊòØÁî±‰∏äËø∞3ÁßçÁ±ªÂä†ËΩΩÂô®Áõ∏‰∫íÈÖçÂêàÊâßË°åÁöÑÔºåÂú®ÂøÖË¶ÅÊó∂ÔºåÊàë‰ª¨ËøòÂèØ‰ª•Ëá™ÂÆö‰πâÁ±ªÂä†ËΩΩÂô®ÔºåÊù•ÂÆöÂà∂Á±ªÁöÑÂä†ËΩΩÊñπÂºè„ÄÇ .‰∏∫‰ªÄ‰πàË¶ÅËá™ÂÆö‰πâÁ±ªÂä†ËΩΩÂô®? ÈöîÁ¶ªÂä†ËΩΩÁ±ª ‰øÆÊîπÁ±ªÂä†ËΩΩÁöÑÊñπÂºè Êâ©Â±ïÂä†ËΩΩÊ∫ê Èò≤Ê≠¢Ê∫êÁ†ÅÊ≥ÑÊºè Áî®Êà∑Ëá™ÂÆö‰πâÁ±ªÂä†ËΩΩÂô®ÂÆûÁé∞Ê≠•È™§: 1.ÂºÄÂèë‰∫∫ÂëòÂèØ‰ª•ÈÄöËøáÁªßÊâøÊäΩË±°Á±ªjava.lang.classLoaderÁ±ªÁöÑÊñπÂºèÔºåÂÆûÁé∞Ëá™Â∑±ÁöÑÁ±ªÂä†ËΩΩÂô®Ôºå‰ª•Êª°Ë∂≥‰∏Ä‰∫õÁâπÊÆäÁöÑÈúÄÊ±Ç 2.Âú®JDK1.2‰πãÂâçÔºåÂú®Ëá™ÂÆö‰πâÁ±ªÂä†ËΩΩÂô®Êó∂ÔºåÊÄª‰ºöÂéªÁªßÊâøclassLoaderÁ±ªÂπ∂ÈáçÂÜôloadClass ()ÊñπÊ≥ïÔºå‰ªéËÄåÂÆûÁé∞Ëá™ÂÆö‰πâÁöÑÁ±ªÂä†ËΩΩÁ±ªÔºå‰ΩÜÊòØÂú®JDK1.2‰πãÂêéÂ∑≤‰∏çÂÜçÂª∫ËÆÆÁî®Êà∑ÂéªË¶ÜÁõñloadclass ()ÊñπÊ≥ïÔºåËÄåÊòØÂª∫ËÆÆÊääËá™ÂÆö‰πâÁöÑÁ±ªÂä†ËΩΩÈÄªËæëÂÜôÂú®findclass ()ÊñπÊ≥ï‰∏≠ 3ÔºéÂú®ÁºñÂÜôËá™ÂÆö‰πâÁ±ªÂä†ËΩΩÂô®Êó∂ÔºåÂ¶ÇÊûúÊ≤°ÊúâÂ§™Ëøá‰∫éÂ§çÊùÇÁöÑÈúÄÊ±ÇÔºåÂèØ‰ª•Áõ¥Êé•ÁªßÊâøURLClassLoaderÁ±ªÔºåËøôÊ†∑Â∞±ÂèØ‰ª•ÈÅøÂÖçËá™Â∑±ÂéªÁºñÂÜôfindclass ()ÊñπÊ≥ïÂèäÂÖ∂Ëé∑ÂèñÂ≠óËäÇÁ†ÅÊµÅÁöÑÊñπÂºèÔºå‰ΩøËá™ÂÆö‰πâÁ±ªÂä†ËΩΩÂô®ÁºñÂÜôÊõ¥Âä†ÁÆÄÊ¥Å„ÄÇ 6.Âèå‰∫≤ÂßîÊ¥æÊú∫Âà∂ ‚Äã JavaËôöÊãüÊú∫ÂØπclassÊñá‰ª∂ÈááÁî®ÁöÑÊòØÊåâÈúÄÂä†ËΩΩÁöÑÊñπÂºèÔºå‰πüÂ∞±ÊòØËØ¥ÂΩìÈúÄË¶Å‰ΩøÁî®ËØ•Á±ªÊó∂Êâç‰ºöÂ∞ÜÂÆÉÁöÑclassÊñá‰ª∂Âä†ËΩΩÂà∞ÂÜÖÂ≠òÁîüÊàêclassÂØπË±°„ÄÇËÄå‰∏îÂä†ËΩΩÊüê‰∏™Á±ªÁöÑclassÊñá‰ª∂Êó∂ÔºåJavaËôöÊãüÊú∫ÈááÁî®ÁöÑÊòØÂèå‰∫≤ÂßîÊ¥æÊ®°ÂºèÔºåÂç≥ÊääËØ∑Ê±Ç‰∫§Áî±Áà∂Á±ªÂ§ÑÁêÜ,ÂÆÉÊòØ‰∏ÄÁßç‰ªªÂä°ÂßîÊ¥æÊ®°Âºè„ÄÇ Â∑•‰ΩúÂéüÁêÜ 1)Â¶ÇÊûú‰∏Ä‰∏™Á±ªÂä†ËΩΩÂô®Êî∂Âà∞‰∫ÜÁ±ªÂä†ËΩΩËØ∑Ê±ÇÔºåÂÆÉÂπ∂‰∏ç‰ºöËá™Â∑±ÂÖàÂéªÂä†ËΩΩÔºåËÄåÊòØÊääËøô‰∏™ËØ∑Ê±ÇÂßîÊâòÁªôÁà∂Á±ªÁöÑÂä†ËΩΩÂô®ÂéªÊâßË°å; 2)Â¶ÇÊûúÁà∂Á±ªÂä†ËΩΩÂô®ËøòÂ≠òÂú®ÂÖ∂Áà∂Á±ªÂä†ËΩΩÂô®ÔºåÂàôËøõ‰∏ÄÊ≠•Âêë‰∏äÂßîÊâòÔºå‰æùÊ¨°ÈÄíÂΩíÔºåËØ∑Ê±ÇÊúÄÁªàÂ∞ÜÂà∞ËææÈ°∂Â±ÇÁöÑÂêØÂä®Á±ªÂä†ËΩΩÂô®; 3)Â¶ÇÊûúÁà∂Á±ªÂä†ËΩΩÂô®ÂèØ‰ª•ÂÆåÊàêÁ±ªÂä†ËΩΩ‰ªªÂä°ÔºåÂ∞±ÊàêÂäüËøîÂõûÔºåÂÄòËã•Áà∂Á±ªÂä†ËΩΩÂô®Êó†Ê≥ïÂÆåÊàêÊ≠§Âä†ËΩΩ‰ªªÂä°ÔºåÂ≠êÂä†ËΩΩÂô®Êâç‰ºöÂ∞ùËØïËá™Â∑±ÂéªÂä†ËΩΩÔºåËøôÂ∞±ÊòØÂèå‰∫≤ÂßîÊ¥æÊ®°Âºè„ÄÇ Âç≥Âêë‰∏äÂßîÊâòÔºåÂêë‰∏ãÁî©ÈîÖ Âèå‰∫≤ÂßîÊ¥æ‰ºòÂäø ÈÅøÂÖçÁ±ªÁöÑÈáçÂ§çÂä†ËΩΩ ‰øùÊä§Á®ãÂ∫èÂÆâÂÖ®ÔºåÈò≤Ê≠¢Ê†∏ÂøÉAPIË¢´ÈöèÊÑèÁØ°Êîπ Ëá™ÂÆö‰πâÁ±ª:java. lang. string Ëá™ÂÆö‰πâÁ±ª: java . lang. shkStart java.lang. securityException: Prohibited package name: java.lang Ê≤ôÁÆ±ÂÆâÂÖ®Êú∫Âà∂ ‚Äã Ëá™ÂÆö‰πâstringÁ±ªÔºå‰ΩÜÊòØÂú®Âä†ËΩΩËá™ÂÆö‰πâStringÁ±ªÁöÑÊó∂ÂÄô‰ºöÁéáÂÖà‰ΩøÁî®ÂºïÂØºÁ±ªÂä†ËΩΩÂô®Âä†ËΩΩÔºåËÄåÂºïÂØºÁ±ªÂä†ËΩΩÂô®Âú®Âä†ËΩΩÁöÑËøáÁ®ã‰∏≠‰ºöÂÖàÂä†ËΩΩjdkËá™Â∏¶ÁöÑÊñá‰ª∂(rt.jarÂåÖ‰∏≠java\\lang\\String.class)ÔºåÊä•Èîô‰ø°ÊÅØËØ¥Ê≤°ÊúâmainÊñπÊ≥ïÔºåÂ∞±ÊòØÂõ†‰∏∫Âä†ËΩΩÁöÑÊòØrt.jarÂåÖ‰∏≠ÁöÑStringÁ±ª„ÄÇËøôÊ†∑ÂèØ‰ª•‰øùËØÅÂØπjavaÊ†∏ÂøÉÊ∫ê‰ª£Á†ÅÁöÑ‰øùÊä§ÔºåËøôÂ∞±ÊòØÊ≤ôÁÆ±ÂÆâÂÖ®Êú∫Âà∂„ÄÇÂç≥ÂÖàÁî®javaÊ†∏ÂøÉÊ∫êÁ†ÅÂÜçÂæÄÂ§ñÂ±ÇÁî® 7.ÂÖ∂‰ªñ ¬∑Âú®JVM‰∏≠Ë°®Á§∫‰∏§‰∏™classÂØπË±°ÊòØÂê¶‰∏∫Âêå‰∏Ä‰∏™Á±ªÂ≠òÂú®‰∏§‰∏™ÂøÖË¶ÅÊù°‰ª∂: Á±ªÁöÑÂÆåÊï¥Á±ªÂêçÂøÖÈ°ª‰∏ÄËá¥ÔºåÂåÖÊã¨ÂåÖÂêç„ÄÇ Âä†ËΩΩËøô‰∏™Á±ªÁöÑclassLoader(ÊåáclassLoaderÂÆû‰æãÂØπË±°)ÂøÖÈ°ªÁõ∏Âêå„ÄÇ ¬∑Êç¢Âè•ËØùËØ¥ÔºåÂú®VM‰∏≠ÔºåÂç≥‰ΩøËøô‰∏§‰∏™Á±ªÂØπË±°(classÂØπË±°)Êù•Ê∫êÂêå‰∏Ä‰∏™classÊñá‰ª∂ÔºåË¢´Âêå‰∏Ä‰∏™ËôöÊãüÊú∫ÊâÄÂä†ËΩΩÔºå‰ΩÜÂè™Ë¶ÅÂä†ËΩΩÂÆÉ‰ª¨ÁöÑClassLoaderÂÆû‰æãÂØπË±°‰∏çÂêåÔºåÈÇ£‰πàËøô‰∏§‰∏™Á±ªÂØπË±°‰πüÊòØ‰∏çÁõ∏Á≠âÁöÑ„ÄÇ ÂØπÁ±ªÂä†ËΩΩÂÖ∂ÁöÑÂºïÁî® JVMÂøÖÈ°ªÁü•ÈÅì‰∏Ä‰∏™Á±ªÂûãÊòØÁî±ÂêØÂä®Âä†ËΩΩÂô®Âä†ËΩΩÁöÑËøòÊòØÁî±Áî®Êà∑Á±ªÂä†ËΩΩÂô®Âä†ËΩΩÁöÑ„ÄÇÂ¶ÇÊûú‰∏Ä‰∏™Á±ªÂûãÊòØÁî±Áî®Êà∑Á±ªÂä†ËΩΩÂô®Âä†ËΩΩÁöÑÔºåÈÇ£‰πàJVM‰ºöÂ∞ÜËøô‰∏™Á±ªÂä†ËΩΩÂô®ÁöÑ‰∏Ä‰∏™ÂºïÁî®‰Ωú‰∏∫Á±ªÂûã‰ø°ÊÅØÁöÑ‰∏ÄÈÉ®ÂàÜ‰øùÂ≠òÂú®ÊñπÊ≥ïÂå∫‰∏≠„ÄÇÂΩìËß£Êûê‰∏Ä‰∏™Á±ªÂûãÂà∞Âè¶‰∏Ä‰∏™Á±ªÂûãÁöÑÂºïÁî®ÁöÑÊó∂ÂÄôÔºåJVMÈúÄË¶Å‰øùËØÅËøô‰∏§‰∏™Á±ªÂûãÁöÑÁ±ªÂä†ËΩΩÂô®ÊòØÁõ∏ÂêåÁöÑ„ÄÇ Á±ªÁöÑ‰∏ªÂä®‰ΩøÁî®ÂíåË¢´Âä®‰ΩøÁî® JavaÁ®ãÂ∫èÂØπÁ±ªÁöÑ‰ΩøÁî®ÊñπÂºèÂàÜ‰∏∫:‰∏ªÂä®‰ΩøÁî®ÂíåË¢´Âä®‰ΩøÁî®„ÄÇ¬∑‰∏ªÂä®‰ΩøÁî®ÔºåÂèàÂàÜ‰∏∫‰∏ÉÁßçÊÉÖÂÜµ: ¬∑ÂàõÂª∫Á±ªÁöÑÂÆû‰æã ¬∑ËÆøÈóÆÊüê‰∏™Á±ªÊàñÊé•Âè£ÁöÑÈùôÊÄÅÂèòÈáèÔºåÊàñËÄÖÂØπËØ•ÈùôÊÄÅÂèòÈáèËµãÂÄº ¬∑Ë∞ÉÁî®Á±ªÁöÑÈùôÊÄÅÊñπÊ≥ï ¬∑ÂèçÂ∞ÑÔºàÊØîÂ¶Ç: Class.forName ( &quot;com.atguigu . Test&quot;) )&gt; ¬∑ÂàùÂßãÂåñ‰∏Ä‰∏™Á±ªÁöÑÂ≠êÁ±ª ¬∑JavaËôöÊãüÊú∫ÂêØÂä®Êó∂Ë¢´Ê†áÊòé‰∏∫ÂêØÂä®Á±ªÁöÑÁ±ª ¬∑JDK 7ÂºÄÂßãÊèê‰æõÁöÑÂä®ÊÄÅËØ≠Ë®ÄÊîØÊåÅ:java . lang.invoke.MethodHandleÂÆû‰æãÁöÑËß£ÊûêÁªìÊûúREF getstatic„ÄÅREF putstatic„ÄÅREF_invokestaticÂè•ÊüÑÂØπÂ∫îÁöÑÁ±ªÊ≤°ÊúâÂàùÂßãÂåñÔºåÂàôÂàùÂßãÂåñ Èô§‰∫Ü‰ª•‰∏ä‰∏ÉÁßçÊÉÖÂÜµÔºåÂÖ∂‰ªñ‰ΩøÁî®JavaÁ±ªÁöÑÊñπÂºèÈÉΩË¢´Áúã‰ΩúÊòØÂØπÁ±ªÁöÑË¢´Âä®‰ΩøÁî®ÔºåÈÉΩ‰∏ç‰ºöÂØºËá¥Á±ªÁöÑÂàùÂßãÂåñ„ÄÇ ‰∏â„ÄÅËøêË°åÊó∂Êï∞ÊçÆÂå∫Ê¶ÇËø∞ÂèäÁ∫øÁ®ã 1.ËøêË°åÊó∂Êï∞ÊçÆÂå∫ÂÜÖÈÉ®ÁªìÊûÑ ‚Äã ÂÜÖÂ≠òÊòØÈùûÂ∏∏ÈáçË¶ÅÁöÑÁ≥ªÁªüËµÑÊ∫êÔºåÊòØÁ°¨ÁõòÂíåCPUÁöÑ‰∏≠Èó¥‰ªìÂ∫ìÂèäÊ°•Ê¢ÅÔºåÊâøËΩΩÁùÄÊìç‰ΩúÁ≥ªÁªüÂíåÂ∫îÁî®Á®ãÂ∫èÁöÑÂÆûÊó∂ËøêË°å„ÄÇJVMÂÜÖÂ≠òÂ∏ÉÂ±ÄËßÑÂÆö‰∫ÜJavaÂú®ËøêË°åËøáÁ®ã‰∏≠ÂÜÖÂ≠òÁî≥ËØ∑„ÄÅÂàÜÈÖç„ÄÅÁÆ°ÁêÜÁöÑÁ≠ñÁï•Ôºå‰øùËØÅ‰∫ÜJVMÁöÑÈ´òÊïàÁ®≥ÂÆöËøêË°å„ÄÇ‰∏çÂêåÁöÑJVMÂØπ‰∫éÂÜÖÂ≠òÁöÑÂàíÂàÜÊñπÂºèÂíåÁÆ°ÁêÜÊú∫Âà∂Â≠òÂú®ÁùÄÈÉ®ÂàÜÂ∑ÆÂºÇ„ÄÇÁªìÂêàJVMËôöÊãüÊú∫ËßÑËåÉÔºåÊù•Êé¢ËÆ®‰∏Ä‰∏ãÁªèÂÖ∏ÁöÑJVMÂÜÖÂ≠òÂ∏ÉÂ±Ä„ÄÇ Error GC(Garbage Collection) OOM(OutOfMemoryError) StackOverflowError Á®ãÂ∫èËÆ°Êï∞Âô® ‚ùå ‚ùå ‚ùå Êú¨Âú∞ÊñπÊ≥ïÊ†à ‚úîÔ∏è ‚ùå ‚úîÔ∏è ‚úîÔ∏è ËôöÊãüÊú∫Ê†à ‚úîÔ∏è ‚ùå ‚úîÔ∏è ‚úîÔ∏è Â†Ü ‚úîÔ∏è ‚úîÔ∏è ‚úîÔ∏è ÊñπÊ≥ïÂå∫ ‚úîÔ∏è ‚úîÔ∏è ‚úîÔ∏è ‚Äã JavaËôöÊãüÊú∫ÂÆö‰πâ‰∫ÜËã•Âπ≤ÁßçÁ®ãÂ∫èËøêË°åÊúüÈó¥‰ºö‰ΩøÁî®Âà∞ÁöÑËøêË°åÊó∂Êï∞ÊçÆÂå∫ÔºåÂÖ∂‰∏≠Êúâ‰∏Ä‰∫õ‰ºöÈöèÁùÄËôöÊãüÊú∫ÂêØÂä®ËÄåÂàõÂª∫ÔºåÈöèÁùÄËôöÊãüÊú∫ÈÄÄÂá∫ËÄåÈîÄÊØÅ„ÄÇÂè¶Â§ñ‰∏Ä‰∫õÂàôÊòØ‰∏éÁ∫øÁ®ã‰∏Ä‰∏ÄÂØπÂ∫îÁöÑÔºåËøô‰∫õ‰∏éÁ∫øÁ®ãÂØπÂ∫îÁöÑÊï∞ÊçÆÂå∫Âüü‰ºöÈöèÁùÄÁ∫øÁ®ãÂºÄÂßãÂíåÁªìÊùüËÄåÂàõÂª∫ÂíåÈîÄÊØÅ„ÄÇÁÅ∞Ëâ≤ÁöÑ‰∏∫ÂçïÁã¨Á∫øÁ®ãÁßÅÊúâÁöÑÔºåÁ∫¢Ëâ≤ÁöÑ‰∏∫Â§ö‰∏™Á∫øÁ®ãÂÖ±‰∫´ÁöÑ„ÄÇÂç≥:ÊØè‰∏™Á∫øÁ®ãÁã¨Á´ãÔºöÂåÖÊã¨Á®ãÂ∫èËÆ°Êï∞Âô®„ÄÅÊ†à„ÄÅÊú¨Âú∞Ê†à„ÄÇÊØè‰∏™Á∫øÁ®ãÂÖ±‰∫´ÔºöÂ†Ü„ÄÅÊñπÊ≥ïÂå∫ 2.Á∫øÁ®ã ‚Äã Á∫øÁ®ãÊòØ‰∏Ä‰∏™Á®ãÂ∫èÈáåÁöÑËøêË°åÂçïÂÖÉ„ÄÇJVMÂÖÅËÆ∏‰∏Ä‰∏™Â∫îÁî®ÊúâÂ§ö‰∏™Á∫øÁ®ãÂπ∂Ë°åÁöÑÊâßË°å„ÄÇÂú®Hotspot JVMÈáåÔºåÊØè‰∏™Á∫øÁ®ãÈÉΩ‰∏éÊìç‰ΩúÁ≥ªÁªüÁöÑÊú¨Âú∞Á∫øÁ®ãÁõ¥Êé•Êò†Â∞Ñ„ÄÇ ‚Äã ÂΩì‰∏Ä‰∏™JavaÁ∫øÁ®ãÂáÜÂ§áÂ•ΩÊâßË°å‰ª•ÂêéÔºåÊ≠§Êó∂‰∏Ä‰∏™Êìç‰ΩúÁ≥ªÁªüÁöÑÊú¨Âú∞Á∫øÁ®ã‰πüÂêåÊó∂ÂàõÂª∫„ÄÇJavaÁ∫øÁ®ãÊâßË°åÁªàÊ≠¢ÂêéÔºåÊú¨Âú∞Á∫øÁ®ã‰πü‰ºöÂõûÊî∂„ÄÇÊìç‰ΩúÁ≥ªÁªüË¥üË¥£ÊâÄÊúâÁ∫øÁ®ãÁöÑÂÆâÊéíË∞ÉÂ∫¶Âà∞‰ªª‰Ωï‰∏Ä‰∏™ÂèØÁî®ÁöÑCPU‰∏ä„ÄÇ‰∏ÄÊó¶Êú¨Âú∞Á∫øÁ®ãÂàùÂßãÂåñÊàêÂäüÔºåÂÆÉÂ∞±‰ºöË∞ÉÁî®JavaÁ∫øÁ®ã‰∏≠ÁöÑrun ()ÊñπÊ≥ï„ÄÇ ‚Äã Â¶ÇÊûú‰Ω†‰ΩøÁî®jconsoleÊàñËÄÖÊòØ‰ªª‰Ωï‰∏Ä‰∏™Ë∞ÉËØïÂ∑•ÂÖ∑ÔºåÈÉΩËÉΩÁúãÂà∞Âú®ÂêéÂè∞ÊúâËÆ∏Â§öÁ∫øÁ®ãÂú®ËøêË°å„ÄÇËøô‰∫õÂêéÂè∞Á∫øÁ®ã‰∏çÂåÖÊã¨Ë∞ÉÁî®public static void main (string[])ÁöÑmainÁ∫øÁ®ã‰ª•ÂèäÊâÄÊúâËøô‰∏™mainÁ∫øÁ®ãËá™Â∑±ÂàõÂª∫ÁöÑÁ∫øÁ®ã„ÄÇËøô‰∫õ‰∏ªË¶ÅÁöÑÂêéÂè∞Á≥ªÁªüÁ∫øÁ®ãÂú®Hotspot JVMÈáå‰∏ªË¶ÅÊòØ‰ª•‰∏ãÂá†‰∏™: **ËôöÊãüÊú∫Á∫øÁ®ã:**ËøôÁßçÁ∫øÁ®ãÁöÑÊìç‰ΩúÊòØÈúÄË¶ÅJVMËææÂà∞ÂÆâÂÖ®ÁÇπÊâç‰ºöÂá∫Áé∞„ÄÇËøô‰∫õÊìç‰ΩúÂøÖÈ°ªÂú®‰∏çÂêåÁöÑÁ∫øÁ®ã‰∏≠ÂèëÁîüÁöÑÂéüÂõ†ÊòØ‰ªñ‰ª¨ÈÉΩÈúÄË¶ÅJVMËææÂà∞ÂÆâÂÖ®ÁÇπÔºåËøôÊ†∑Â†ÜÊâç‰∏ç‰ºöÂèòÂåñ„ÄÇËøôÁßç Á∫øÁ®ãÁöÑÊâßË°åÁ±ªÂûãÂåÖÊã¨&quot;stop-the-world&quot;ÁöÑÂûÉÂúæÊî∂ÈõÜÔºåÁ∫øÁ®ãÊ†àÊî∂ÈõÜÔºåÁ∫øÁ®ãÊåÇËµ∑‰ª•ÂèäÂÅèÂêëÈîÅÊí§ÈîÄ„ÄÇ **Âë®Êúü‰ªªÂä°Á∫øÁ®ã:**ËøôÁßçÁ∫øÁ®ãÊòØÊó∂Èó¥Âë®Êúü‰∫ã‰ª∂ÁöÑ‰ΩìÁé∞(ÊØîÂ¶Ç‰∏≠Êñ≠)Ôºå‰ªñ‰ª¨‰∏ÄËà¨Áî®‰∫éÂë®ÊúüÊÄßÊìç‰ΩúÁöÑË∞ÉÂ∫¶ÊâßË°å„ÄÇ **GCÁ∫øÁ®ã:**ËøôÁßçÁ∫øÁ®ãÂØπÂú®JVMÈáå‰∏çÂêåÁßçÁ±ªÁöÑÂûÉÂúæÊî∂ÈõÜË°å‰∏∫Êèê‰æõ‰∫ÜÊîØÊåÅ„ÄÇ&gt;ÁºñËØëÁ∫øÁ®ã:ËøôÁßçÁ∫øÁ®ãÂú®ËøêË°åÊó∂‰ºöÂ∞ÜÂ≠óËäÇÁ†ÅÁºñËØëÊàêÂà∞Êú¨Âú∞‰ª£Á†Å„ÄÇ **‰ø°Âè∑Ë∞ÉÂ∫¶Á∫øÁ®ã:**ËøôÁßçÁ∫øÁ®ãÊé•Êî∂‰ø°Âè∑Âπ∂ÂèëÈÄÅÁªôJVMÔºåÂú®ÂÆÉÂÜÖÈÉ®ÈÄöËøáË∞ÉÁî®ÈÄÇÂΩìÁöÑÊñπÊ≥ïËøõË°åÂ§ÑÁêÜ„ÄÇ ¬∑Á∫øÁ®ãÊòØ‰∏Ä‰∏™Á®ãÂ∫èÈáåÁöÑËøêË°åÂçïÂÖÉ„ÄÇJVMÂÖÅËÆ∏‰∏Ä‰∏™Â∫îÁî®ÊúâÂ§ö‰∏™Á∫øÁ®ãÂπ∂Ë°åÁöÑÊâßË°å„ÄÇ .Âú®Hotspot JVMÈáåÔºåÊØè‰∏™Á∫øÁ®ãÈÉΩ‰∏éÊìç‰ΩúÁ≥ªÁªüÁöÑÊú¨Âú∞Á∫øÁ®ãÁõ¥Êé•Êò†Â∞Ñ„ÄÇ ÂΩì‰∏Ä‰∏™JavaÁ∫øÁ®ãÂáÜÂ§áÂ•ΩÊâßË°å‰ª•ÂêéÔºåÊ≠§Êó∂‰∏Ä‰∏™Êìç‰ΩúÁ≥ªÁªüÁöÑÊú¨Âú∞Á∫øÁ®ã‰πüÂêåÊó∂ÂàõÂª∫„ÄÇJavaÁ∫øÁ®ãÊâßË°åÁªàÊ≠¢ÂêéÔºåÊú¨Âú∞Á∫øÁ®ã‰πü‰ºöÂõûÊî∂„ÄÇ ¬∑Êìç‰ΩúÁ≥ªÁªüË¥üË¥£ÊâÄÊúâÁ∫øÁ®ãÁöÑÂÆâÊéíË∞ÉÂ∫¶Âà∞‰ªª‰Ωï‰∏Ä‰∏™ÂèØÁî®ÁöÑCPU‰∏ä„ÄÇ‰∏ÄÊó¶Êú¨Âú∞Á∫øÁ®ãÂàùÂßãÂåñÊàêÂäüÔºåÂÆÉÂ∞±‰ºöË∞ÉÁî®JavaÁ∫øÁ®ã‰∏≠ÁöÑrun ()ÊñπÊ≥ï„ÄÇ ‚óèÂÆàÊä§Á∫øÁ®ã„ÄÅÊôÆÈÄöÁ∫øÁ®ã Âõõ„ÄÅÁ®ãÂ∫èËÆ°Êï∞Âô® 1.Program Counter Register‰ªãÁªç ‚Äã JVM‰∏≠ÁöÑÁ®ãÂ∫èËÆ°Êï∞ÂØÑÂ≠òÂô®(Program counter Register)‰∏≠Ôºå RegisterÁöÑÂëΩÂêçÊ∫ê‰∫éCPUÁöÑÂØÑÂ≠òÂô®ÔºåÂØÑÂ≠òÂô®Â≠òÂÇ®Êåá‰ª§Áõ∏ÂÖ≥ÁöÑÁé∞Âú∫‰ø°ÊÅØ„ÄÇCPUÂè™ÊúâÊääÊï∞ÊçÆË£ÖËΩΩÂà∞ÂØÑÂ≠òÂô®ÊâçËÉΩÂ§üËøêË°å„ÄÇËøôÈáåÔºåÂπ∂ÈùûÊòØÂπø‰πâ‰∏äÊâÄÊåáÁöÑÁâ©ÁêÜÂØÑÂ≠òÂô®ÔºåÊàñËÆ∏Â∞ÜÂÖ∂ÁøªËØë‰∏∫PCËÆ°Êï∞Âô®ÔºàÊàñÊåá‰ª§ËÆ°Êï∞Âô®Ôºâ‰ºöÊõ¥Âä†Ë¥¥Âàá(‰πüÁß∞‰∏∫Á®ãÂ∫èÈí©Â≠ê)ÔºåÂπ∂‰∏î‰πü‰∏çÂÆπÊòìÂºïËµ∑‰∏Ä‰∫õ‰∏çÂøÖË¶ÅÁöÑËØØ‰ºö„ÄÇJVM‰∏≠ÁöÑPCÂØÑÂ≠òÂô®ÊòØÂØπÁâ©ÁêÜPCÂØÑÂ≠òÂô®ÁöÑ‰∏ÄÁßçÊäΩË±°Ê®°Êãü„ÄÇ ‰ΩúÁî®: PCÂØÑÂ≠òÂô®Áî®Êù•Â≠òÂÇ®ÊåáÂêë‰∏ã‰∏ÄÊù°Êåá‰ª§ÁöÑÂú∞ÂùÄ,‰πüÂç≥Â∞ÜË¶ÅÊâßË°åÁöÑÊåá‰ª§‰ª£Á†Å„ÄÇÁî±ÊâßË°åÂºïÊìéËØªÂèñ‰∏ã‰∏ÄÊù°Êåá‰ª§(Êåá‰ª§‰ª£Á†ÅÂú®javaÊ†à‰∏≠ÂØπÂ∫îÁöÑÊåá‰ª§)„ÄÇ ÂÆÉÊòØ‰∏ÄÂùóÂæàÂ∞èÁöÑÂÜÖÂ≠òÁ©∫Èó¥ÔºåÂá†‰πéÂèØ‰ª•ÂøΩÁï•‰∏çËÆ∞„ÄÇ‰πüÊòØËøêË°åÈÄüÂ∫¶ÊúÄÂø´ÁöÑÂ≠òÂÇ®Âå∫Âüü„ÄÇ Âú®JVMËßÑËåÉ‰∏≠ÔºåÊØè‰∏™Á∫øÁ®ãÈÉΩÊúâÂÆÉËá™Â∑±ÁöÑÁ®ãÂ∫èËÆ°Êï∞Âô®ÔºåÊòØÁ∫øÁ®ãÁßÅÊúâÁöÑÔºåÁîüÂëΩÂë®Êúü‰∏éÁ∫øÁ®ãÁöÑÁîüÂëΩÂë®Êúü‰øùÊåÅ‰∏ÄËá¥„ÄÇ ‰ªª‰ΩïÊó∂Èó¥‰∏Ä‰∏™Á∫øÁ®ãÈÉΩÂè™Êúâ‰∏Ä‰∏™ÊñπÊ≥ïÂú®ÊâßË°åÔºå‰πüÂ∞±ÊòØÊâÄË∞ìÁöÑÂΩìÂâçÊñπÊ≥ï„ÄÇÁ®ãÂ∫èËÆ°Êï∞Âô®‰ºöÂ≠òÂÇ®ÂΩìÂâçÁ∫øÁ®ãÊ≠£Âú®ÊâßË°åÁöÑJavaÊñπÊ≥ïÁöÑTVMÊåá‰ª§Âú∞ÂùÄ;ÊàñËÄÖÔºåÂ¶ÇÊûúÊòØÂú®ÊâßË°ånativeÊñπÊ≥ïÔºåÂàôÊòØÊú™ÊåáÂÆöÂÄºÔºàundefned) „ÄÇ ÂÆÉÊòØÁ®ãÂ∫èÊéßÂà∂ÊµÅÁöÑÊåáÁ§∫Âô®ÔºåÂàÜÊîØ„ÄÅÂæ™ÁéØ„ÄÅË∑≥ËΩ¨„ÄÅÂºÇÂ∏∏Â§ÑÁêÜ„ÄÅÁ∫øÁ®ãÊÅ¢Â§çÁ≠âÂü∫Á°ÄÂäüËÉΩÈÉΩÈúÄË¶Å‰æùËµñËøô‰∏™ËÆ°Êï∞Âô®Êù•ÂÆåÊàê„ÄÇ Â≠óËäÇÁ†ÅËß£ÈáäÂô®Â∑•‰ΩúÊó∂Â∞±ÊòØÈÄöËøáÊîπÂèòËøô‰∏™ËÆ°Êï∞Âô®ÁöÑÂÄºÊù•ÈÄâÂèñ‰∏ã‰∏ÄÊù°ÈúÄË¶ÅÊâßË°åÁöÑÂ≠óËäÇÁ†ÅÊåá‰ª§„ÄÇ ÂÆÉÊòØÂîØ‰∏Ä‰∏Ä‰∏™Âú®JavaËôöÊãüÊú∫ËßÑËåÉ‰∏≠Ê≤°ÊúâËßÑÂÆö‰ªª‰ΩïOutOfMemoryErrorÊÉÖÂÜµÁöÑÂå∫Âüü„ÄÇ 2.Á®ãÂ∫èÁ§∫‰æã 1javap -v/verbose ÔºàclassÂêçÔºâ //ÂèçÁºñËØë 3.‰∏§‰∏™ÈóÆÈ¢ò Ôºà1Ôºâ‰ΩøÁî®PCÂØÑÂ≠òÂô®Â≠òÂÇ®Â≠óËäÇÁ†ÅÊåá‰ª§Âú∞ÂùÄÊúâ‰ªÄ‰πàÁî®Âë¢?‰∏∫‰ªÄ‰πà‰ΩøÁî®PCÂØÑÂ≠òÂô®ËÆ∞ÂΩïÂΩìÂâçÁ∫øÁ®ãÁöÑÊâßË°åÂú∞ÂùÄÂë¢Ôºü Âõ†‰∏∫CPUÈúÄË¶Å‰∏çÂÅúÁöÑÂàáÊç¢ÂêÑ‰∏™Á∫øÁ®ãÔºåËøôÊó∂ÂÄôÂàáÊç¢ÂõûÊù•‰ª•ÂêéÔºåÂ∞±ÂæóÁü•ÈÅìÊé•ÁùÄ‰ªéÂì™ÂºÄÂßãÁªßÁª≠ÊâßË°å„ÄÇ JVMÁöÑÂ≠óËäÇÁ†ÅËß£ÈáäÂô®Â∞±ÈúÄË¶ÅÈÄöËøáÊîπÂèòPCÂØÑÂ≠òÂô®ÁöÑÂÄºÊù•ÊòéÁ°Æ‰∏ã‰∏ÄÊù°Â∫îËØ•ÊâßË°å‰ªÄ‰πàÊ†∑ÁöÑÂ≠óËäÇÁ†ÅÊåá‰ª§„ÄÇ (2)PCÂØÑÂ≠òÂô®‰∏∫‰ªÄ‰πà‰ºöË¢´ËÆæÂÆö‰∏∫Á∫øÁ®ãÁßÅÊúâ? ‚Äã Êàë‰ª¨ÈÉΩÁü•ÈÅìÊâÄË∞ìÁöÑÂ§öÁ∫øÁ®ãÂú®‰∏Ä‰∏™ÁâπÂÆöÁöÑÊó∂Èó¥ÊÆµÂÜÖÂè™‰ºöÊâßË°åÂÖ∂‰∏≠Êüê‰∏Ä‰∏™Á∫øÁ®ãÁöÑÊñπÊ≥ïÔºåCPU‰ºö‰∏çÂÅúÂú∞ÂÅö‰ªªÂä°ÂàáÊç¢ÔºåËøôÊ†∑ÂøÖÁÑ∂ÂØºËá¥ÁªèÂ∏∏‰∏≠Êñ≠ÊàñÊÅ¢Â§çÔºåÂ¶Ç‰Ωï‰øùËØÅÂàÜÊØ´Êó†Â∑ÆÂë¢?‰∏∫‰∫ÜËÉΩÂ§üÂáÜÁ°ÆÂú∞ËÆ∞ÂΩïÂêÑ‰∏™Á∫øÁ®ãÊ≠£Âú®ÊâßË°åÁöÑÂΩìÂâçÂ≠óËäÇÁ†ÅÊåá‰ª§Âú∞ÂùÄÔºåÊúÄÂ•ΩÁöÑÂäûÊ≥ïËá™ÁÑ∂ÊòØ‰∏∫ÊØè‰∏Ä‰∏™Á∫øÁ®ãÈÉΩÂàÜÈÖç‰∏Ä‰∏™PCÂØÑÂ≠òÂô®ÔºåËøôÊ†∑‰∏ÄÊù•ÂêÑ‰∏™Á∫øÁ®ã‰πãÈó¥‰æøÂèØ‰ª•ËøõË°åÁã¨Á´ãËÆ°ÁÆóÔºå‰ªéËÄå‰∏ç‰ºöÂá∫Áé∞Áõ∏‰∫íÂçÉÊâ∞ÁöÑÊÉÖÂÜµ„ÄÇ ‚Äã CPUÊó∂Èó¥ÁâáÂç≥CPUÂàÜÈÖçÁªôÂêÑ‰∏™Á®ãÂ∫èÁöÑÊó∂Èó¥ÔºåÊØè‰∏™Á∫øÁ®ãË¢´ÂàÜÈÖç‰∏Ä‰∏™Êó∂Èó¥ÊÆµÔºåÁß∞‰ΩúÂÆÉÁöÑÊó∂Èó¥Áâá„ÄÇÂú®ÂÆèËßÇ‰∏ä:Êàë‰ª¨ÂèØ‰ª•ÂêåÊó∂ÊâìÂºÄÂ§ö‰∏™Â∫îÁî®Á®ãÂ∫èÔºåÊØè‰∏™Á®ãÂ∫èÂπ∂Ë°å‰∏çÊÇñÔºåÂêåÊó∂ËøêË°å„ÄÇ‰ΩÜÂú®ÂæÆËßÇ‰∏ä:Áî±‰∫éÂè™Êúâ‰∏Ä‰∏™CPUÔºå‰∏ÄÊ¨°Âè™ËÉΩÂ§ÑÁêÜÁ®ãÂ∫èË¶ÅÊ±ÇÁöÑ‰∏ÄÈÉ®ÂàÜÔºåÂ¶Ç‰ΩïÂ§ÑÁêÜÂÖ¨Âπ≥Ôºå‰∏ÄÁßçÊñπÊ≥ïÂ∞±ÊòØÂºïÂÖ•Êó∂Èó¥ÁâáÔºåÊØè‰∏™Á®ãÂ∫èËΩÆÊµÅÊâßË°å„ÄÇ ‰∫î„ÄÅËôöÊãüÊú∫Ê†à 1.Ê†à‰∏ªË¶ÅÁâπÁÇπ ‚Äã Áî±‰∫éË∑®ÂçäÂè∞ÊÄßÁöÑËÆæËÆ°ÔºåJavaÁöÑÊåá‰ª§ÈÉΩÊòØÊ†πÊçÆÊ†àÊù•ËÆæËÆ°ÁöÑ„ÄÇ‰∏çÂêåÂπ≥Âè∞CPUÊû∂ÊûÑ‰∏çÂêåÔºåÊâÄ‰ª•‰∏çËÉΩËÆæËÆ°‰∏∫Âü∫‰∫éÂØÑÂ≠òÂô®ÁöÑ„ÄÇ‰ºòÁÇπÊòØË∑®Âπ≥Âè∞ÔºåÊåá‰ª§ÈõÜÂ∞èÔºåÁºñËØëÂô®ÂÆπÊòìÂÆûÁé∞ÔºåÁº∫ÁÇπÊòØÊÄßËÉΩ‰∏ãÈôçÔºåÂÆûÁé∞ÂêåÊ†∑ÁöÑÂäüËÉΩÈúÄË¶ÅÊõ¥Â§öÁöÑÊåá‰ª§„ÄÇ**Ê†àÊòØËøêË°åÊó∂ÁöÑÂçï‰ΩçÔºåËÄåÂ†ÜÊòØÂ≠òÂÇ®ÁöÑÂçï‰Ωç„ÄÇ**Âç≥ÔºöÊ†àËß£ÂÜ≥Á®ãÂ∫èÁöÑËøêË°åÈóÆÈ¢òÔºåÂç≥Á®ãÂ∫èÂ¶Ç‰ΩïÊâßË°åÔºåÊàñËÄÖËØ¥Â¶Ç‰ΩïÂ§ÑÁêÜÊï∞ÊçÆ„ÄÇÂ†ÜËß£ÂÜ≥ÁöÑÊòØÊï∞ÊçÆÂ≠òÂÇ®ÁöÑÈóÆÈ¢òÔºåÂç≥Êï∞ÊçÆÊÄé‰πàÊîæ„ÄÅÊîæÂú®Âì™ÂÑø„ÄÇ „ÉªJavaËôöÊãüÊú∫Ê†àÊòØ‰ªÄ‰πàÔºü JavaËôöÊãüÊú∫Ê†à( Java Virtual Machine Stack),Êó©Êúü‰πüÂè´JavaÊ†à„ÄÇÊØè‰∏™Á∫øÁ®ãÂú®ÂàõÂª∫Êó∂ÈÉΩ‰ºöÂàõÂª∫‰∏Ä‰∏™ËôöÊãüÊú∫Ê†àÔºåÂÖ∂ÂÜÖÈÉ®‰øùÂ≠ò‰∏Ä‰∏™‰∏™ÁöÑÊ†àÂ∏ß( Stack Frame),ÂØπÂ∫îÁùÄ‰∏ÄÊ¨°Ê¨°ÁöÑJavaÊñπÊ≥ïË∞ÉÁî®ÔºåÊòØÁ∫øÁ®ãÁßÅÊúâÁöÑ„ÄÇÁîüÂëΩÂë®ÊúüÂíåÁ∫øÁ®ã‰∏ÄËá¥„ÄÇ „Éª‰ΩúÁî® ‰∏ªÁÆ°JavaÁ®ãÂ∫èÁöÑËøêË°åÔºåÂÆÉ‰øùÂ≠òÊñπÊ≥ïÁöÑÂ±ÄÈÉ®ÂèòÈáè(8ÁßçÂü∫Êú¨Êï∞ÊçÆÁ±ªÂûã„ÄÅÂØπË±°ÁöÑÂºïÁî®Âú∞ÂùÄ)„ÄÅÈÉ®ÂàÜÁªìÊûúÔºåÂπ∂ÂèÇ‰∏éÊñπÊ≥ïÁöÑË∞ÉÁî®ÂíåËøîÂõû„ÄÇ Â±ÄÈÉ®ÂèòÈáèvsÊàêÂëòÂèòÈáèÔºàÊàñÂ±ûÊÄßÔºâ Âü∫Êú¨Êï∞ÊçÆÂèòÈáèvsÂºïÁî®Á±ªÂûãÂèòÈáè(Á±ª„ÄÅÊï∞ÁªÑ„ÄÅÊé•Âè£) „ÉªÊ†àÁöÑÁâπÁÇπÔºà‰ºòÁÇπÔºâ Ê†àÊòØ‰∏ÄÁßçÂø´ÈÄüÊúâÊïàÁöÑÂàÜÈÖçÂ≠òÂÇ®ÊñπÂºèÔºåËÆøÈóÆÈÄüÂ∫¶‰ª™Ê¨°‰∫éÁ®ãÂ∫èËÆ°Êï∞Âô®„ÄÇ JVMÁõ¥Êé•ÂØπJavaÊ†àÁöÑÊìç‰ΩúÂè™Êúâ‰∏§‰∏™Ôºö ÊØè‰∏™ÊñπÊ≥ïÊâßË°åÔºå‰º¥ÈöèÁùÄËøõÊ†à(ÂÖ•Ê†à„ÄÅÂéãÊ†à) ÊâßË°åÁªìÊùüÂêéÁöÑÂá∫Ê†àÂ∑•‰Ωú ÂØπ‰∫éÊ†àÊù•ËØ¥‰∏çÂ≠òÂú®ÂûÉÂúæÂõûÊî∂ÈóÆÈ¢ò 2.Ê†à‰∏≠ÂèØËÉΩÂá∫Áé∞ÁöÑÂºÇÂ∏∏ ‚Äã JavaËôöÊãüÊú∫ËßÑËåÉÂÖÅËÆ∏JavaÊ†àÁöÑÂ§ßÂ∞èÊòØÂä®ÊÄÅÁöÑÊàñËÄÖÊòØÂõ∫ÂÆö‰∏çÂèòÁöÑ„ÄÇ ‚Äã Â¶ÇÊûúÈááÁî®Âõ∫ÂÆöÂ§ßÂ∞èÁöÑJavaËôöÊãüÊú∫Ê†àÔºåÈÇ£ÊØè‰∏Ä‰∏™Á∫øÁ®ãÁöÑJavaËôöÊãüÊú∫Ê†àÂÆπÈáèÂèØ‰ª•Âú®Á∫øÁ®ãÂàõÂª∫ÁöÑÊó∂ÂÄôÁã¨Á´ãÈÄâÂÆö„ÄÇÂ¶ÇÊûúÁ∫øÁ®ãËØ∑Ê±ÇÂàÜÈÖçÁöÑÊ†àÂÆπÈáèË∂ÖËøáJavaËôöÊãüÊú∫Ê†àÂÖÅËÆ∏ÁöÑÊúÄÂ§ßÂÆπÈáèÔºåJavaËôöÊãüÊú∫Â∞Ü‰ºöÊäõÂá∫‰∏Ä‰∏™StackOverflowErrorÂºÇÂ∏∏„ÄÇ ‚Äã Â¶ÇÊûúJavaËôöÊãüÊú∫Ê†àÂèØ‰ª•Âä®ÊÄÅÊâ©Â±ïÔºåÂπ∂‰∏îÂú®Â∞ùËØïÊâ©Â±ïÁöÑÊó∂ÂÄôÊó†Ê≥ï‰∏≠ËØ∑Âà∞Ë∂≥Â§üÁöÑÂÜÖÂ≠òÔºåÊàñËÄÖÂú®ÂàõÂª∫Êñ∞ÁöÑÁ∫øÁ®ãÊó∂Ê≤°ÊúâË∂≥Â§üÁöÑÂÜÖÂ≠òÂéªÂàõÂª∫ÂØπÂ∫îÁöÑËôöÊãüÊú∫Ê†àÔºåÈÇ£JavaËôöÊãüÊú∫Â∞Ü‰ºöÊäõÂá∫‰∏Ä‰∏™ OutOfMemoryErrorÂºÇÂ∏∏„ÄÇ ËÆæÁΩÆÊ†àÂ§ßÂ∞è Xss size Sets the thread stack size( in bytes). Append the letter k or K to indicate KB, m or M to indicate MB, and g or G to indicate GB. The default value depends on the platform Linux/x64(64-bit): 1024 KB macos(64-bit): 1024 KB Oracle Solaris/x64(64-bit): 1024 KB Windows: The default value depends on virtual memory The following examples set the thread stack size to 1024 KB in different units -Xss1m -Xss1024k Xss1048576 3.Ê†àÂ≠òÂÇ®Âçï‰Ωç Ê†à‰∏≠Â≠òÂÇ®‰ªÄ‰πà „ÉªÊØè‰∏™Á∫øÁ®ãÈÉΩÊúâËá™Â∑±ÁöÑÊ†àÔºåÊ†à‰∏≠ÁöÑÊï∞ÊçÆÈÉΩÊòØ‰ª•Ê†àÂ∏ß( Stack Frame)ÁöÑÊ†ºÂºèÂ≠òÂú®„ÄÇ „ÉªÂú®Ëøô‰∏™Á∫øÁ®ã‰∏äÊ≠£Âú®ÊâßË°åÁöÑÊ†àÂ∏ß( Stack Frame) Ê†àÂ∏ßÊòØ‰∏Ä‰∏™ÂÜÖÂ≠òÂå∫ÂùóÔºåÊòØ‰∏Ä‰∏™Êï∞ÊçÆÈõÜÔºåÁª¥Á≥ªÁùÄÊñπÊ≥ïÊâßË°åËøáÁ®ã‰∏≠ÁöÑÂêÑÁßçÊï∞ÊçÆ‰ø°ÊÅØ Â§ç‰π† „ÉªOOPÁöÑÂü∫Êú¨Ê¶ÇÂøµÔºöÁ±ª„ÄÅÂØπË±° „ÉªÁ±ª‰∏≠Âü∫Êú¨ÁªìÊûÑÔºöfield(Â±ûÊÄß„ÄÅÂ≠óÊÆµ„ÄÅÂüü)„ÄÅ method JVMÁõ¥Êé•ÂØπJavaÊ†àÁöÑÊìç‰ΩúÂè™Êúâ‰∏§‰∏™ÔºåÂ∞±ÊòØÂØπÊ†àÂ∏ßÁöÑÊ†àÂíåÂá∫Ê†àÔºåÈÅµÂæ™‚ÄúÂÖàËøõÂêéÂá∫‚Äù/‚ÄúÂêéËøõÂÖàÂá∫‚ÄùÂéüÂàô„ÄÇ Âú®‰∏ÄÊù°Ê¥ªÂä®Á∫øÁ®ã‰∏≠Ôºå‰∏Ä‰∏™Êó∂Èó¥ÁÇπ‰∏äÔºåÂè™‰ºöÊúâ‰∏Ä‰∏™Ê¥ªÂä®ÁöÑÊ†àÂ∏ß„ÄÇÂç≥Âè™ÊúâÂΩìÂâçÊ≠£Âú®ÊâßË°åÁöÑÊñπÊ≥ïÁöÑÊ†àÂ∏ßÔºàÊ†àÈ°∂Ê†àÂ∏ßÔºâÊòØÊúâÊïàÁöÑÔºåËøô‰∏™Ê†àÂ∏ßË¢´Áß∞‰∏∫ÂΩìÂâçÊ†àÂ∏ß( Current Frame),‰∏éÂΩìÂâçÊ†àÂ∏ßÁõ∏ÂØπÂ∫îÁöÑÊñπÊ≥ïÂ∞±ÊòØÂΩìÂâçÊñπÊ≥ïÔºà Current Method),ÂÆö‰πâËøô‰∏™ÊñπÊ≥ïÁöÑÁ±ªÂ∞±ÊòØÂΩìÂâçÁ±ª( Current Class). ÊâßË°åÂºïÊìéËøêË°åÁöÑÊâÄÊúâÂ≠óËäÇÁ†ÅÊåá‰ª§Âè™ÈíàÂØπÂΩìÂâçÊ†àÂ∏ßËøõË°åÊìç‰Ωú„ÄÇ Â¶ÇÊûúÂú®ËØ•ÊñπÊ≥ï‰∏≠Ë∞ÉÁî®‰∫ÜÂÖ∂‰ªñÊñπÊ≥ïÔºåÂØπÂ∫îÁöÑÊñ∞ÁöÑÊ†àÂ∏ß‰ºöË¢´ÂàõÂª∫Âá∫Êù•ÔºåÊîæÂú®Ê†àÁöÑÈ°∂Á´ØÔºåÊàê‰∏∫Êñ∞ÁöÑÂΩìÂâçÂ∏ß„ÄÇ „Éª‰∏çÂêåÁ∫øÁ®ã‰∏≠ÊâÄÂåÖÂê´ÁöÑÊ†àÂ∏ßÊòØ‰∏çÂÖÅËÆ∏Â≠òÂú®Áõ∏‰∫íÂºïÁî®ÁöÑÔºåÂç≥‰∏çÂèØËÉΩÂú®‰∏Ä‰∏™Ê†àÂ∏ß‰πã‰∏≠ÂºïÁî®Âè¶Â§ñ‰∏Ä‰∏™Á∫øÁ®ãÁöÑÊ†àÂ∏ß „ÉªÂ¶ÇÊûúÂΩìÂâçÊñπÊ≥ïË∞ÉÁî®‰∫ÜÂÖ∂‰ªñÊñπÊ≥ïÔºåÊñπÊ≥ïËøîÂõû‰πãÈôÖÔºåÂΩìÂâçÊ†àÂ∏ß‰ºö‰º†ÂõûÊ≠§ÊñπÊ≥ïÁöÑÊâßË°åÁªìÊûúÁªôÂâç‰∏Ä‰∏™Ê†àÂ∏ßÔºåÊé•ÁùÄÔºåËôöÊãüÊú∫‰ºö‰∏¢ÂºÉÂΩìÂâçÊ†àÂ∏ßÔºå‰ΩøÂæóÂâç‰∏Ä‰∏™Ê†àÂ∏ßÈáçÊñ∞Êàê‰∏∫ÂΩìÂâçÊ†àÂ∏ß„ÄÇ „ÉªJavaÊñπÊ≥ïÊúâ‰∏§ÁßçËøîÂõûÂáΩÊï∞ÁöÑÊñπÂºèÔºå‰∏ÄÁßçÊòØÊ≠£Â∏∏ÁöÑÂáΩÊï∞ËøîÂõûÔºå‰ΩøÁî® returnÊåá‰ª§ÔºõÂè¶Â§ñ‰∏ÄÁßçÊòØÊäõÂá∫ÂºÇÂ∏∏„ÄÇ‰∏çÁÆ°‰ΩøÁî®Âì™ÁßçÊñπÂºèÔºåÈÉΩ‰ºöÂØºËá¥Ê†àÂ∏ßË¢´ÂºπÂá∫„ÄÇ 4.Ê†àÂ∏ßÁªìÊûÑ „ÉªÂ±ÄÈÉ®ÂèòÈáèË°®(Local variables) „ÉªÊìç‰ΩúÊï∞Ê†à( Operand Stack)ÔºàÊàñË°®ËææÂºèÊ†àÔºâ „ÉªÂä®ÊÄÅÈìæÊé•( Dynamic Linking)ÔºàÊàñÊåáÂêëËøêË°åÊó∂Â∏∏ÈáèÊ±†ÁöÑÊñπÊ≥ïÂºïÁî®Ôºâ „ÉªÊñπÊ≥ïËøîÂõûÂú∞ÂùÄ( Return Address)ÔºàÊàñÊñπÊ≥ïÊ≠£Â∏∏ÈÄÄÂá∫ÊàñËÄÖÂºÇÂ∏∏ÈÄÄÂá∫ÁöÑÂÆö‰πâÔºâ „Éª‰∏Ä‰∫õÈôÑÂä†‰ø°ÊÅØ 1.Â±ÄÈÉ®ÂèòÈáèË°® „ÉªÂ±ÄÈÉ®ÂèòÈáèË°®‰πüË¢´Áß∞‰πã‰∏∫Â±ÄÈÉ®ÂèòÈáèÊï∞ÁªÑÊàñÊú¨Âú∞ÂèòÈáèË°® „ÉªÂÆö‰πâ‰∏∫‰∏Ä‰∏™Êï∞Â≠óÊï∞ÁªÑÔºå‰∏ªË¶ÅÁî®‰∫éÂ≠òÂÇ®ÊñπÊ≥ïÂèÇÊï∞ÂíåÂÆö‰πâÂú®ÊñπÊ≥ï‰ΩìÂÜÖÁöÑÂ±ÄÈÉ®ÂèòÈáè,Ëøô‰∫õÊï∞ÊçÆÁ±ªÂûãÂåÖÊã¨ÂêÑÁ±ªÂü∫Êú¨Êï∞ÊçÆÁ±ªÂûã„ÄÅÂØπË±°ÂºïÁî®( reference),‰ª•ÂèäreturnAddressÁ±ªÂûã„ÄÇ „ÉªÁî±‰∫éÂ±ÄÈÉ®ÂèòÈáèË°®ÊòØÂª∫Á´ãÂú®Á∫øÁ®ãÁöÑÊ†à‰∏äÔºåÊòØÁ∫øÁ®ãÁöÑÁßÅÊúâÊï∞ÊçÆÔºåÂõ†Ê≠§‰∏çÂ≠òÂú®Êï∞ÊçÆÂÆâÂÖ®ÈóÆÈ¢ò „ÉªÂ±ÄÈÉ®ÂèòÈáèË°®ÊâÄÈúÄÁöÑÂÆπÈáèÂ§ßÂ∞èÊòØÂú®ÁºñËØëÊúüÁ°ÆÂÆö‰∏ãÊù•ÁöÑÔºåÂπ∂‰øùÂ≠òÂú®ÊñπÊ≥ïÁöÑcodeÂ±ûÊÄßÁöÑ maximuim local variablesÊï∞ÊçÆÈ°π‰∏≠„ÄÇÂú®ÊñπÊ≥ïËøêË°åÊúüÈó¥ÊòØ‰∏ç‰ºöÊîπÂèòÂ±ÄÈÉ®ÂèòÈáèË°®ÁöÑÂ§ßÂ∞èÁöÑ„ÄÇ „ÉªÊñπÊ≥ïÂµåÂ•óË∞ÉÁî®ÁöÑÊ¨°Êï∞Áî±Ê†àÁöÑÂ§ßÂ∞èÂÜ≥ÂÆö„ÄÇ‰∏ÄËà¨Êù•ËØ¥ÔºåÊ†àË∂äÂ§ßÔºåÊñπÊ≥ïÂµåÂ•óË∞ÉÁî®Ê¨°Êï∞Ë∂äÂ§ö„ÄÇÂØπ‰∏Ä‰∏™ÂáΩÊï∞ËÄåË®ÄÔºåÂÆÉÁöÑÂèÇÊï∞ÂíåÂ±ÄÈÉ®ÂèòÈáèË∂äÂ§öÔºå‰ΩøÂæóÂ±ÄÈÉ®ÂèòÈáèË°®ËÜ®ËÉÄÔºåÂÆÉÁöÑÊ†àÂ∏ßÂ∞±Ë∂äÂ§ßÔºå‰ª•Êª°Ë∂≥ÊñπÊ≥ïË∞ÉÁî®ÊâÄÈúÄ‰º†ÈÄíÁöÑ‰ø°ÊÅØÂ¢óÂ§ßÁöÑÈúÄÊ±Ç„ÄÇËøõËÄåÂáΩÊï∞Ë∞ÉÁî®Â∞±‰ºöÂç†Áî®Êõ¥Â§öÁöÑÊ†àÁ©∫Èó¥ÔºåÂØºËá¥ÂÖ∂ÂµåÂ•óË∞ÉÁî®Ê¨°Êï∞Â∞±‰ºöÂáèÂ∞ë„ÄÇ „ÉªÂ±ÄÈÉ®ÂèòÈáèË°®‰∏≠ÁöÑÂèòÈáèÂè™Âú®ÂΩìÂâçÊñπÊ≥ïË∞ÉÁî®‰∏≠ÊúâÊïà„ÄÇÂú®ÊñπÊ≥ïÊâßË°åÊó∂ÔºåËôöÊãüÊú∫ÈÄöËøá‰ΩøÁî®Â±ÄÈÉ®ÂèòÈáèË°®ÂÆåÊàêÂèÇÊï∞ÂÄºÂà∞ÂèÇÊï∞ÂèòÈáèÂàóË°®ÁöÑ‰º†ÈÄíËøáÁ®ã„ÄÇÂΩìÊñπÊ≥ïË∞ÉÁî®ÁªìÊùüÂêéÔºåÈöèÁùÄÊñπÊ≥ïÊ†àÂ∏ßÁöÑÈîÄÊØÅÔºåÂ±ÄÈÉ®ÂèòÈáèË°®‰πü‰ºöÈöè‰πãÈîÄÊØÅ„ÄÇ 2.Â≠óËäÇÁ†Å‰∏≠ÊñπÊ≥ïÂÜÖÈÉ®ÁªìÊûÑËß£Êûê 3.Slot „ÉªÂèÇÊï∞ÂÄºÁöÑÂ≠òÊîæÊÄªÊòØÂú®Â±ÄÈÉ®ÂèòÈáèÊï∞ÁªÑÁöÑ index0ÂºÄÂßãÔºåÂà∞Êï∞ÁªÑÈïøÂ∫¶-1ÁöÑÁ¥¢ÂºïÁªìÊùü „ÉªÂ±ÄÈÉ®ÂèòÈáèË°®ÔºåÊúÄÂü∫Êú¨ÁöÑÂ≠òÂÇ®ÂçïÂÖÉÊòØSlotÔºàÂèòÈáèÊßΩÔºâ „ÉªÂ±ÄÈÉ®ÂèòÈáèË°®‰∏≠Â≠òÊîæÁºñËØëÊúüÂèØÁü•ÁöÑÂêÑÁßçÂü∫Êú¨Êï∞ÊçÆÁ±ªÂûã(8Áßç)ÔºåÂºïÁî®Á±ªÂûã( reference), returnAddressaÁ±ªÂûã„ÄÇ „ÉªÂú®Â±ÄÈÉ®ÂèòÈáèË°®ÈáåÔºå32‰Ωç‰ª•ÂÜÖÁöÑÁ±ªÂûãÂè™Âç†Áî®‰∏Ä‰∏™slot(ÂåÖÊã¨returnAddressaÁ±ªÂûãÔºâÔºå64‰ΩçÁöÑÁ±ªÂûã(longÂíå double)Âç†Áî®‰∏§‰∏™slot. byte„ÄÅ short„ÄÅcharÂú®Â≠òÂÇ®ÂâçË¢´ËΩ¨Êç¢‰∏∫int, boolean‰πüË¢´ËΩ¨Êç¢‰∏∫int,0Ë°®Á§∫ false,Èùû0Ë°®Á§∫true„ÄÇ longÂíådoubleÂàôÂç†ÊçÆ‰∏§‰∏™Slot„ÄÇ „ÉªJVM‰ºö‰∏∫Â±ÄÈÉ®ÂèòÈáèË°®‰∏≠ÁöÑÊØè‰∏Ä‰∏™SlotÈÉΩÂàÜÈÖç‰∏Ä‰∏™ËÆøÈóÆÁ¥†ÂºïÔºåÈÄöËøáËøô‰∏™Á¥†ÂºïÂç≥ÂèØÊàêÂäüËÆøÈóÆÂà∞Â±ÄÈÉ®ÂèòÈáèË°®‰∏≠ÊåáÂÆöÁöÑÂ±ÄÈÉ®ÂèòÈáèÂÄº. „ÉªÂΩì‰∏Ä‰∏™ÂÆû‰æãÊñπÊ≥ïË¢´Ë∞ÉÁî®ÁöÑÊó∂ÂÄôÔºåÂÆÉÁöÑÊñπÊ≥ïÂèÇÊï∞ÂíåÊñπÊ≥ï‰ΩìÂÜÖÈÉ®ÂÆö‰πâÁöÑÂ±ÄÈÉ®ÂèòÈáèÂ∞Ü‰ºöÊåâÁÖßÈ°∫Â∫èË¢´Â§çÂà∂Âà∞Â±ÄÈÉ®ÂèòÈáèË°®‰∏≠ÁöÑÊØè‰∏Ä‰∏™Slot‰∏ä. „ÉªÂ¶ÇÊûúÈúÄË¶ÅËÆøÈóÆÂ±ÄÈÉ®ÂèòÈáèË°®‰∏≠„Éº‰∏™64bitÁöÑÂ±ÄÈÉ®ÂèòÈáèÂÄºÊó∂ÔºåÂè™ÈúÄË¶Å‰ΩøÁî®Ââç‰∏Ä‰∏™Á¥†ÂºïÂç≥ÂèØ„ÄÇ(ÊØîÂ¶ÇÔºöËÆøÈóÆ1ongÊàñdoub1eÁ±ªÂûãÂèòÈáè). „ÉªÂ¶ÇÊûúÂΩìÂâçÂ∏ßÊòØÁî±ÊûÑÈÄ†ÊñπÊ≥ïÊàñËÄÖÂÆû‰æãÊñπÊ≥ïÂàõÂª∫ÁöÑÔºåÈÇ£‰πàËØ•ÂØπË±°ÂºïÁî®thisÂ∞Ü‰ºöÂ≠òÊîæÂú® index‰∏∫0ÁöÑslotÂ§ÑÔºåÂÖ∂‰ΩôÁöÑÂèÇÊï∞ÊåâÁÖßÂèÇÊï∞Ë°®È°∫Â∫èÁªßÁª≠ÊéíÂàó. ‚Äã Ê†àÂ∏ß‰∏≠ÁöÑÂ±ÄÈÉ®ÂèòÈáèË°®‰∏≠ÁöÑÊßΩ‰ΩçÊòØÂèØ‰ª•ÈáçÁî®ÁöÑÔºåÂ¶ÇÊûú‰∏Ä‰∏™Â±ÄÈÉ®ÂèòÈáèËøá‰∫ÜÂÖ∂‰ΩúÁî®ÂüüÔºåÈÇ£‰πàÂú®ÂÖ∂‰ΩúÁî®Âüü‰πãÂêéÁî≥ÊòéÁöÑÊñ∞ÁöÑÂ±ÄÈÉ®ÂèòÈáèÂ∞±ÂæàÊúâÂèØËÉΩ‰ºöÂ§çÁî®ËøáÊúüÂ±ÄÈÉ®ÂèòÈáèÁöÑÊßΩ‰ΩçÔºå‰ªéËÄåËææÂà∞ËäÇÁúÅËµÑÊ∫êÁöÑÁõÆÁöÑ„ÄÇ 7.ÈùôÊÄÅÂèòÈáèÂíåÂ±ÄÈÉ®ÂèòÈáèÂØπÊØî $\\triangleright$ ÂèÇÊï∞Ë°®ÂàÜÈÖçÂÆåÊØï‰πãÂêéÔºåÂÜçÊ†πÊçÆÊñπÊ≥ï‰ΩìÂÜÖÂÆö‰πâÁöÑÂèòÈáèÁöÑÈ°∫Â∫èÂíå‰ΩúÁî®ÂüüÂàÜÈÖç $\\triangleright$ Êàë‰ª¨Áü•ÈÅìÁ±ªÂèòÈáèË°®Êúâ‰∏§Ê¨°ÂàùÂßãÂåñÁöÑÊú∫‰ºöÔºåÁ¨¨‰∏ÄÊ¨°ÊòØÂú®‚ÄúÂáÜÂ§áÈò∂ÊÆµ‚ÄùÔºåÊâßË°åÁ≥ªÁªüÂàùÂßãÂåñÔºåÂØπÁ±ªÂèòÈáèËÆæÁΩÆÈõ∂ÂÄºÔºåÂè¶‰∏ÄÊ¨°ÂàôÊòØÂú®‚ÄúÂàùÂßãÂåñ‚ÄùÈò∂ÊÆµÔºåËµã‰∫àÁ®ãÂ∫èÂëòÂú®‰ª£Á†Å‰∏≠ÂÆö‰πâÁöÑÂàùÂßãÂÄº. $\\triangleright$ ÂíåÁ±ªÂèòÈáèÂàùÂßãÂåñ‰∏çÂêåÁöÑÊòØÔºåÂ±ÄÈÉ®ÂèòÈáèË°®‰∏çÂ≠òÂú®Á≥ªÁªüÂàùÂßãÂåñÁöÑËøáÁ®ãÔºåËøôÊÑèÂë≥ÁùÄ‰∏ÄÊó¶ÂÆö‰πâ‰∫ÜÂ±ÄÈÉ®ÂèòÈáèÂàôÂøÖÈ°ª‰∫∫‰∏∫ÁöÑÂàùÂßãÂåñÔºåÂê¶ÂàôÊó†Ê≥ï‰ΩøÁî®„ÄÇ 12345//ËøôÊ†∑ÁöÑ‰ª£Á†ÅÊòØÈîôËØØÁöÑÔºåÊ≤°ÊúâËµãÂÄº‰∏çËÉΩÂ§ü‰ΩøÁî®public void test() {int i;System.out .println(i);} ÂèòÈáèÁöÑÂàÜÁ±ªÔºö $\\triangleright$ ÊåâÁÖßÊï∞ÊçÆÁ±ªÂûãÂàÜÔºöÂü∫Êú¨Êï∞ÊçÆÁ±ªÂûã„ÄÅÂºïÁî®Êï∞ÊçÆÁ±ªÂûã $\\triangleright$ ÊåâÁÖßÂú®Á±ª‰∏≠Â£∞ÊòéÁöÑ‰ΩçÁΩÆÂàÜÔºöÊàêÂëòÂèòÈáèÔºöÂú®‰ΩøÁî®ÂâçÔºåÈÉΩÁªèÂéÜËøáÈªòËÆ§ÂàùÂßãÂåñËµãÂÄº Á±ªÂèòÈáèÔºö LinkingÁöÑ prepareÈò∂ÊÆµÔºöÁªôÁ±ªÂèòÈáèÈªòËÆ§ËµãÂÄº‚Äì&gt;initialÈò∂ÊÆµÔºöÁªôÈùôÊÄÅ‰ª£Á†ÅÂùóËµãÂÄº ÂÆû‰æãÂèòÈáèÔºöÈöèÁùÄÂØπË±°ÁöÑÂàõÂª∫Ôºå‰ºöÂú®Â†ÜÁ©∫Èó¥‰∏≠ÂàÜÈÖçÂÆû‰æãÂèòÈáèÁ©∫Èó¥ÔºåÂπ∂ËøõË°åÈªòËÆ§ËµãÂÄº $\\triangleright$ Â±ÄÈÉ®ÂèòÈáèÔºöÂú®‰ΩøÁî®ÂâçÔºåÂøÖÈ°ªË¶ÅËøõË°åÊòæÂºèËµãÂÄºÁöÑÔºÅÂê¶ÂàôÔºåÁºñËØë‰∏çÈÄöËøá„ÄÇ Ë°•ÂÖÖËØ¥Êòé $\\triangleright$ Âú®Ê†àÂ∏ß‰∏≠ Ôºå ‰∏éÊÄßËÉΩË∞É‰ºòÂÖ≥Á≥ªÊúÄ‰∏∫ÂØÜÂàáÁöÑÈÉ®ÂàÜÂ∞±ÊòØÂâçÈù¢ÊèêÂà∞ÁöÑÂ±ÄÈÉ®ÂèòÈáèË°® „ÄÇÂú®ÊñπÊ≥ïÊâßË°åÊó∂ Ôºå ËôöÊãüÊú∫‰ΩøÁî®Â±ÄÈÉ®ÂèòÈáèË°®ÂÆåÊàêÊñπÊ≥ïÁöÑ‰º†ÈÄí „ÄÇ $\\triangleright$ Â±ÄÈÉ®ÂèòÈáèË°®‰∏≠ÁöÑÂèòÈáè‰πüÊòØÈáçË¶ÅÁöÑÂûÉÂúæÂõûÊî∂Ê†πËäÇÁÇπ Ôºå Âè™Ë¶ÅË¢´Â±ÄÈÉ®ÂèòÈáèË°®‰∏≠Áõ¥Êé•ÊàñÈó¥Êé•ÂºïÁî®ÁöÑÂØπË±°ÈÉΩ‰∏ç‰ºöË¢´ÂõûÊî∂ „ÄÇ 8.Êìç‰ΩúÊï∞Ê†à $\\triangleright$ ÊØè‰∏Ä‰∏™Áã¨Á´ãÁöÑÊ†àÂ∏ß‰∏≠Èô§‰∫ÜÂåÖÂê´Â±ÄÈÉ®ÂèòÈáèË°®‰ª•Â§ñÔºåËøòÂåÖÂê´‰∏Ä‰∏™ÂêéËøõÂÖàÂá∫(Last-In-First-0ut)ÁöÑÊìç‰ΩúÊï∞Ê†àÔºå‰πüÂèØ‰ª•Áß∞‰πã‰∏∫Ë°®ËææÂºèÊ†à(Expression Stack). $\\triangleright$ Êìç‰ΩúÊï∞Ê†àÔºåÂú®ÊñπÊ≥ïÊâßË°åËøáÁ®ã‰∏≠ÔºåÊ†πÊçÆÂ≠óËäÇÁ†ÅÊåá‰ª§ÔºåÂæÄÊ†à‰∏≠ÂÜôÂÖ•Êï∞ÊçÆÊàñÊèêÂèñÊï∞ÊçÆÔºåÂç≥ÂÖ•Ê†à(push)/Âá∫Ê†à(pop). Êüê‰∫õÂ≠óËäÇÁ†ÅÊåá‰ª§Â∞ÜÂÄºÂéãÂÖ•Êìç‰ΩúÊï∞Ê†àÔºåÂÖ∂‰ΩôÁöÑÂ≠óËäÇÁ†ÅÊåá‰ª§Â∞ÜÊìç‰ΩúÊï∞ÂèñÂá∫Ê†à„ÄÇ‰ΩøÁî®ÂÆÉ‰ª¨ÂêéÂÜçÊääÁªìÊûúÂéãÂÖ•Ê†à„ÄÇÊØîÂ¶ÇÔºöÊâßË°åÂ§çÂà∂„ÄÅ‰∫§Êç¢„ÄÅÊ±ÇÂíåÁ≠âÊìç‰Ωú $\\triangleright$ Â¶ÇÊûúË¢´Ë∞ÉÁî®ÁöÑÊñπÊ≥ïÂ∏¶ÊúâËøîÂõûÂÄºÁöÑËØùÔºåÂÖ∂ËøîÂõûÂÄºÂ∞Ü‰ºöË¢´ÂéãÂÖ•ÂΩìÂâçÊ†àÂ∏ßÁöÑÊìç‰ΩúÊï∞Ê†à‰∏≠ÔºåÂπ∂Êõ¥Êñ∞PCÂØÑÂ≠òÂô®‰∏≠‰∏ã‰∏ÄÊù°ÈúÄË¶ÅÊâßË°åÁöÑÂ≠óËäÇÁ†ÅÊåá‰ª§„ÄÇ $\\triangleright$ Êìç‰ΩúÊï∞Ê†à‰∏≠ÂÖÉÁ¥†ÁöÑÊï∞ÊçÆÁ±ªÂûãÂøÖÈ°ª‰∏éÂ≠óËäÇÁ†ÅÊåá‰ª§ÁöÑÂ∫èÂàó‰∏•Ê†ºÂåπÈÖçÔºåËøôÁî±ÁºñËØëÂô®Âú®ÁºñËØëÂô®ÊúüÈó¥ËøõË°åÈ™åËØÅÔºåÂêåÊó∂Âú®Á±ªÂä†ËΩΩËøáÁ®ã‰∏≠ÁöÑÁ±ªÊ£ÄÈ™åÈò∂ÊÆµÁöÑÊï∞ÊçÆÊµÅÂàÜÊûêÈò∂ÊÆµË¶ÅÂÜçÊ¨°È™åËØÅ„ÄÇ $\\triangleright$ Âè¶Â§ñÔºåÊàë‰ª¨ËØ¥JavaËôöÊãüÊú∫ÁöÑËß£ÈáäÂºïÊìéÊòØÂü∫‰∫éÊ†àÁöÑÊâßË°åÂºïÊìéÔºåÂÖ∂‰∏≠ÁöÑÊ†àÊåáÁöÑÂ∞±ÊòØÊìç‰ΩúÊï∞Ê†à„ÄÇ $\\triangleright$ Êìç‰ΩúÊï∞Ê†àÔºå‰∏ªË¶ÅÁî®‰∫é‰øùÂ≠òËÆ°ÁÆóËøáÁ®ãÁöÑ‰∏≠Èó¥ÁªìÊûúÔºåÂêåÊó∂‰Ωú‰∏∫ËÆ°ÁÆóËøáÁ®ã‰∏≠ÂèòÈáè‰∏¥Êó∂ÁöÑÂ≠òÂÇ®Á©∫Èó¥„ÄÇ $\\triangleright$ Êìç‰ΩúÊï∞Ê†àÂ∞±ÊòØJVMÊâßË°åÂºïÊìéÁöÑ-‰∏Ä‰∏™Â∑•‰ΩúÂå∫ÔºåÂΩì‰∏Ä‰∏™ÊñπÊ≥ïÂàöÂºÄÂßãÊâßË°åÁöÑÊó∂ÂÄôÔºå‰∏Ä‰∏™Êñ∞ÁöÑÊ†àÂ∏ß‰πü‰ºöÈöè‰πãË¢´ÂàõÂª∫Âá∫Êù•ÔºåËøô‰∏™ÊñπÊ≥ïÁöÑÊìç‰ΩúÊï∞Ê†àÊòØÁ©∫ÁöÑ„ÄÇ $\\triangleright$ ÊØè‰∏Ä‰∏™Êìç‰ΩúÊï∞Ê†àÈÉΩ‰ºöÊã•Êúâ‰∏Ä‰∏™ÊòéÁ°ÆÁöÑÊ†àÊ∑±Â∫¶Áî®‰∫éÂ≠òÂÇ®Êï∞ÂÄºÔºåÂÖ∂ÊâÄÈúÄÁöÑÊúÄÂ§ßÊ∑±Â∫¶Âú®ÁºñËØëÊúüÂ∞±ÂÆö‰πâÂ•Ω‰∫ÜÔºå‰øùÂ≠òÂú®ÊñπÊ≥ïÁöÑCodeÂ±ûÊÄß‰∏≠Ôºå‰∏∫max stackÁöÑÂÄº„ÄÇ $\\triangleright$ Ê†à‰∏≠ÁöÑ‰ªª‰Ωï‰∏Ä‰∏™ÂÖÉÁ¥†ÈÉΩÊòØÂèØ‰ª•‰ªªÊÑèÁöÑJavaÊï∞ÊçÆÁ±ªÂûã„ÄÇ ‚û¢32bitÁöÑÁ±ªÂûãÂç†Áî®‰∏Ä‰∏™Ê†àÂçï‰ΩçÊ∑±Â∫¶ ‚û¢64bitÁöÑÁ±ªÂûãÂç†Áî®‰∏§‰∏™Ê†àÂçï‰ΩçÊ∑±Â∫¶ $\\triangleright$ Êìç‰ΩúÊï∞Ê†àÂπ∂ÈùûÈááÁî®ËÆøÈóÆÁ¥¢ÂºïÁöÑÊñπÂºèÊù•ËøõË°åÊï∞ÊçÆËÆøÈóÆÁöÑÔºåËÄåÊòØÂè™ËÉΩÈÄöËøáÊ†áÂáÜÁöÑÂÖ•Ê†à(push) ÂíåÂá∫Ê†à(pop)Êìç‰ΩúÊù•ÂÆåÊàê‰∏ÄÊ¨°Êï∞ÊçÆËÆøÈóÆ„ÄÇ ‰ª£Á†ÅÁ§∫‰æãÔºö 12345public void testAddOperation(){byte i=15;int j=8;int k=i + j;} Âõæ‰æãÔºö 9.Ê†àÈ°∂ÁºìÂ≠òÔºàTop-of-Stack-CashingÔºâÊäÄÊúØ $\\star$ ÂâçÈù¢ÊèêËøáÔºåÂü∫‰∫éÊ†àÂºèÊû∂ÊûÑÁöÑËôõÊãüÊú∫ÊâÄ‰ΩøÁî®ÁöÑÈõ∂Âú∞ÂùÄÊåá‰ª§Êõ¥Âä†Á¥ßÂáëÔºå‰ΩÜÂÆåÊàê‰∏ÄÈ°πÊìç‰ΩúÁöÑÊó∂ÂÄôÂøÖÁÑ∂ÈúÄË¶Å‰ΩøÁî®Êõ¥Â§öÁöÑÂÖ•Ê†àÂíåÂá∫Ê†àÊåá‰ª§ÔºåËøôÂêåÊó∂‰πüÂ∞±ÊÑèÂë≥ÁùÄÂ∞ÜÈúÄË¶ÅÊõ¥Â§öÁöÑÊåá‰ª§ÂàÜÊ¥æ( instruction dispatch)Ê¨°Êï∞ÂíåÂÜÖÂ≠òËØª/ÂÜôÊ¨°Êï∞„ÄÇ $\\star$ Áî±‰∫éÊìç‰ΩúÊï∞ÊòØÂ≠òÂÇ®Âú®ÂÜÖÂ≠ò‰∏≠ÁöÑÔºåÂõ†Ê≠§È¢ëÁπÅÂú∞ÊâßË°åÂÜÖÂ≠òËØª/ÂÜôÊìç‰ΩúÂøÖÁÑ∂‰ºöÂΩ±ÂìçÊâßË°åÈÄüÂ∫¶„ÄÇ‰∏∫‰∫ÜËß£ÂÜ≥Ëøô‰∏™ÈóÆÈ¢òÔºå Hotspot JVMÁöÑËÆæËÆ°ËÄÖ‰ª¨ÊèêÂá∫‰∫ÜÊ†àÈ°∂ÁºìÂ≠ò(ToS,Top-of- Stack Cashing)ÊäÄÊúØÔºåÂ∞ÜÊ†àÈ°∂ÂÖÉÁ¥†ÂÖ®ÈÉ®ÁºìÂ≠òÂú®Áâ©ÁêÜCPUÁöÑÂØÑÂ≠òÂô®‰∏≠Ôºå‰ª•Ê≠§Èôç‰ΩéÂØπÂÜÖÂ≠òÁöÑËØª/ÂÜôÊ¨°Êï∞ÔºåÊèêÂçáÊâßË°åÂºïÊìéÁöÑÊâßË°åÊïàÁéá„ÄÇ 10.Âä®ÊÄÅÈìæÊé• $\\star$ ÊØè‰∏Ä‰∏™Ê†àÂ∏ßÂÜÖÈÉ®ÈÉΩÂåÖÂê´‰∏Ä‰∏™ÊåáÂêëËøêË°åÊó∂Â∏∏ÈáèÊ±†‰∏≠ËØ•Ê†àÂ∏ßÊâÄÂ±ûÊñπÊ≥ïÁöÑÂºïÁî®,ÂåÖÂê´Ëøô‰∏™ÂºïÁî®ÁöÑÁõÆÁöÑÂ∞±ÊòØ‰∏∫‰∫ÜÊîØÊåÅÂΩìÂâçÊñπÊ≥ïÁöÑ‰ª£Á†ÅËÉΩÂ§üÂÆûÁé∞Âä®ÊÄÅÈìæÊé•( Dynamic Linking)„ÄÇÊØîÂ¶ÇÔºöinvoke dynamic Êåá‰ª§„ÄÇ $\\star$ Âú®JavaÊ∫êÊñá‰ª∂Ë¢´ÁºñËØëÂà∞Â≠óËäÇÁ†ÅÊñá‰ª∂‰∏≠Êó∂ÔºåÊâÄÊúâÁöÑÂèòÈáèÂíåÊñπÊ≥ïÂºïÁî®ÈÉΩ‰Ωú‰∏∫Á¨¶Âè∑ÂºïÁî®( Symbolic Reference)‰øùÂ≠òÂú®classÊñá‰ª∂ÁöÑÂ∏∏ÈáèÊ±†Èáå„ÄÇÊØîÂ¶ÇÔºöÊèèËø∞‰∏Ä‰∏™ÊñπÊ≥ïË∞ÉÁî®‰∫ÜÂè¶Â§ñÁöÑÂÖ∂‰ªñÊñπÊ≥ïÊó∂ÔºåÂ∞±ÊòØÈÄöËøáÂ∏∏ÈáèÊ±†‰∏≠ÊåáÂêëÊñπÊ≥ïÁöÑÁ¨¶Âè∑ÂºïÁî®Êù•Ë°®Á§∫ÁöÑÔºåÈÇ£‰πàÂä®ÊÄÅÈìæÊé•ÁöÑ‰ΩúÁî®Â∞±ÊòØ‰∏∫‰∫ÜÂ∞ÜËøô‰∫õÁ¨¶Âè∑ÂºïÁî®ËΩ¨Êç¢‰∏∫Ë∞ÉÁî®ÊñπÊ≥ïÁöÑÁõ¥Êé•ÂºïÁî®„ÄÇ 11.ÊñπÊ≥ïÁöÑË∞ÉÁî® Âú®JVM‰∏≠ÔºåÂ∞ÜÁ¨¶Âè∑ÂºïÁî®ËΩ¨Êç¢‰∏∫Ë∞ÉÁî®ÊñπÊ≥ïÁöÑÁõ¥Êé•ÂºïÁî®‰∏éÊñπÊ≥ïÁöÑÁªëÂÆöÊú∫Âà∂Áõ∏ÂÖ≥„ÄÇ ÈùôÊÄÅÈìæÊé•Ôºö $\\star$ ÂΩì‰∏Ä‰∏™Â≠óËäÇÁ†ÅÊñá‰ª∂Ë¢´Ë£ÖËΩΩËøõJVMÂÜÖÈÉ®Êó∂ÔºåÂ¶ÇÊûúË¢´Ë∞ÉÁî®ÁöÑÁõÆÊ†áÊñπÊ≥ïÂú®ÁºñËØëÊúüÂèØÁü•Ôºå‰∏îËøêË°åÊúü‰øùÊåÅ‰∏çÂèòÊó∂„ÄÇËøôÁßçÊÉÖÂÜµ‰∏ãÂ∞ÜË∞ÉÁî®ÊñπÊ≥ïÁöÑÁ¨¶Âè∑ÂºïÁî®ËΩ¨Êç¢‰∏∫Áõ¥Êé•ÂºïÁî®ÁöÑËøáÁ®ãÁß∞‰πã‰∏∫ÈùôÊÄÅÈìæÊé• Âä®ÊÄÅÈìæÊé•Ôºö $\\star$ Â¶ÇÊûúË¢´Ë∞ÉÁî®ÁöÑÊñπÊ≥ïÂú®ÁºñËØëÊúüÊó†Ê≥ïË¢´Á°ÆÂÆö‰∏ãÊù•Ôºå‰πüÂ∞±ÊòØËØ¥ÔºåÂè™ËÉΩÂ§üÂú®Á®ãÂ∫èËøêË°åÊúüÂ∞ÜË∞ÉÁî®ÊñπÊ≥ïÁöÑÁ¨¶Âè∑ÂºïÁî®ËΩ¨Êç¢‰∏∫Áõ¥Êé•ÂºïÁî®ÔºåÁî±‰∫éËøôÁßçÂºïÁî®ËΩ¨Êç¢ËøáÁ®ãÂÖ∑Â§áÂä®ÊÄÅÊÄßÔºåÂõ†Ê≠§‰πüÂ∞±Ë¢´Áß∞‰πã‰∏∫Âä®ÊÄÅÈìæÊé•„ÄÇ ÂØπÂ∫îÁöÑÊñπÊ≥ïÁöÑÁªëÂÆöÊú∫Âà∂‰∏∫ÔºöÊó©ÊúüÁªëÂÆö(Early Binding)ÂíåÊôöÊúüÁªëÂÆö( Late Binding)„ÄÇÁªëÂÆöÊòØ‰∏Ä‰∏™Â≠óÊÆµ„ÄÅÊñπÊ≥ïÊàñËÄÖÁ±ªÂú®Á¨¶Âè∑ÂºïÁî®Ë¢´ÊõøÊç¢‰∏∫Áõ¥Êé•ÂºïÁî®ÁöÑËøáÁ®ãÔºåËøô‰ªÖ‰ªÖÂèëÁîü‰∏ÄÊ¨°„ÄÇ Êó©ÊúüÁªëÂÆöÔºö $\\star$ Êó©ÊúüÁªëÂÆöÂ∞±ÊòØÊåáË¢´Ë∞ÉÁî®ÁöÑÁõÆÊ†áÊñπÊ≥ïÂ¶ÇÊûúÂú®ÁºñËØëÊúüÂèØÁü•Ôºå‰∏îËøêË°åÊúü‰øùÊåÅ‰∏çÂèòÊó∂ÔºåÂç≥ÂèØÂ∞ÜËøô‰∏™ÊñπÊ≥ï‰∏éÊâÄÂ±ûÁöÑÁ±ªÂûãËøõË°åÁªëÂÆöÔºåËøôÊ†∑‰∏ÄÊù•ÔºåÁî±‰∫éÊòéÁ°Æ‰∫ÜË¢´Ë∞ÉÁî®ÁöÑÁõÆÊ†áÊñπÊ≥ïÁ©∂Á´üÊòØÂì™‰∏Ä‰∏™ÔºåÂõ†Ê≠§‰πüÂ∞±ÂèØ‰ª•‰ΩøÁî®ÈùôÊÄÅÈìæÊé•ÁöÑÊñπÂºèÂ∞ÜÁ¨¶Âè∑ÂºïÁî®ËΩ¨Êç¢‰∏∫Áõ¥Êé•ÂºïÁî®„ÄÇ ÊôöÊúüÁªëÂÆöÔºö $\\star$ Â¶ÇÊûúË¢´Ë∞ÉÁî®ÁöÑÊñπÊ≥ïÂú®ÁºñËØëÊúüÊó†Ê≥ïË¢´Á°ÆÂÆö‰∏ãÊù•ÔºåÂè™ËÉΩÂ§üÂú®Á®ãÂ∫èËøêË°åÊúüÊ†πÊçÆÂÆûÈôÖÁöÑÁ±ªÂûãÁªëÂÆöÁõ∏ÂÖ≥ÁöÑÊñπÊ≥ïÔºåËøôÁßçÁªëÂÆöÊñπÂºè‰πüÂ∞±Ë¢´Áß∞‰πã‰∏∫ÊôöÊúüÁªëÂÆö„ÄÇ 12.ËôöÊñπÊ≥ï„ÄÅÈùûËôöÊñπÊ≥ï ÈùûËôöÊñπÊ≥ïÔºö Â¶ÇÊûúÊñπÊ≥ïÂú®ÁºñËØëÊúüÂ∞±Á°ÆÂÆö‰∫ÜÂÖ∑‰ΩìÁöÑË∞ÉÁî®ÁâàÊú¨ÔºåËøô‰∏™ÁâàÊú¨Âú®ËøêË°åÊó∂ÊòØ‰∏çÂèØÂèòÁöÑ„ÄÇËøôÊ†∑ÁöÑÊñπÊ≥ïÁß∞‰∏∫ÈùûËôöÊñπÊ≥ï„ÄÇÈùôÊÄÅÊñπÊ≥ï„ÄÅÁßÅÊúâÊñπÊ≥ï„ÄÅfinalÊñπÊ≥ï„ÄÅÂÆû‰æãÊûÑÈÄ†Âô®„ÄÅÁà∂Á±ªÊñπÊ≥ïÈÉΩÊòØÈùûËôöÊñπÊ≥ïÔºåÂÖ∂‰ªñÊñπÊ≥ïÁß∞‰∏∫ËôöÊñπÊ≥ï„ÄÇ ‚Äã ÈöèÁùÄÈ´òÁ∫ßËØ≠Ë®ÄÁöÑÊ®™Á©∫Âá∫‰∏ñÔºåÁ±ª‰ºº‰∫éJava„ÉºÊ†∑ÁöÑÂü∫‰∫éÈù¢ÂêëÂØπË±°ÁöÑÁºñÁ®ãËØ≠Ë®ÄÂ¶Ç‰ªäË∂äÊù•Ë∂äÂ§öÔºåÂ∞ΩÁÆ°ËøôÁ±ªÁºñÁ®ãËØ≠Ë®ÄÂú®ËØ≠Ê≥ïÈ£éÊ†º‰∏äÂ≠òÂú®‰∏ÄÂÆöÁöÑÂ∑ÆÂà´Ôºå‰ΩÜÊòØÂÆÉ‰ª¨ÂΩºÊ≠§‰πãÈó¥ÂßãÁªà‰øùÊåÅÁùÄ‰∏Ä‰∏™ÂÖ±ÊÄßÔºåÈÇ£Â∞±ÊòØÈÉΩÊîØÊåÅÂ∞ÅË£Ö„ÄÅÁªßÊâøÂíåÂ§öÊÄÅÁ≠âÈù¢ÂêëÂØπË±°ÁâπÊÄßÔºåÊó¢ÁÑ∂Ëøô‰∏ÄÁ±ªÁöÑÁºñÁ®ãËØ≠Ë®ÄÂÖ∑Â§áÂ§öÊÄÅÁâπÊÄßÔºåÈÇ£‰πàËá™ÁÑ∂‰πüÂ∞±ÂÖ∑Â§áÊó©ÊúüÁªëÂÆöÂíåÊôöÊúüÁªëÂÆö‰∏§ÁßçÁªëÂÆöÊñπÂºè„ÄÇ ‚Äã Java‰∏≠‰ªª‰Ωï‰∏Ä‰∏™ÊôÆÈÄöÁöÑÊñπÊ≥ïÂÖ∂ÂÆûÈÉΩÂÖ∑Â§áËôöÂáΩÊï∞ÁöÑÁâπÂæÅÔºåÂÆÉ‰ª¨Áõ∏ÂΩì‰∫éCËØ≠Ë®Ä‰∏≠ÁöÑËôöÂáΩÊï∞(C‰∏≠ÂàôÈúÄË¶Å‰ΩøÁî®ÂÖ≥ÈîÆÂ≠ó virtualÊù•ÊòæÂºèÂÆö‰πâ)„ÄÇÂ¶ÇÊûúÂú®JavaÁ®ãÂ∫è‰∏≠‰∏çÂ∏åÊúõÊüê‰∏™ÊñπÊ≥ïÊã•ÊúâËôöÂáΩÊï∞ÁöÑÁâπÂæÅÊó∂ÔºåÂàôÂèØ‰ª•‰ΩøÁî®ÂÖ≥ÈîÆÂ≠ófinalÊù•Ê†áËÆ∞Ëøô‰∏™ÊñπÊ≥ï„ÄÇ ËôöÊãüÊú∫‰∏≠Êèê‰æõ‰∫Ü‰ª•‰∏ãÂá†Êù°ÊñπÊ≥ïË∞ÉÁî®Êåá‰ª§ ÊôÆÈÄöË∞ÉÁî®Êåá‰ª§ invokestatic:Ë∞ÉÁî®ÈùôÊÄÅÊñπÊ≥ïÔºåËß£ÊûêÈò∂ÊÆµÁ°ÆÂÆöÂîØ‰∏ÄÊñπÊ≥ïÁâàÊú¨ invokespecial:Ë∞ÉÁî®****ÊñπÊ≥ï„ÄÅÁßÅÊúâÂèäÁà∂Á±ªÊñπÊ≥ïÔºåËß£ÊûêÈò∂ÊÆµÁ°ÆÂÆöÂîØ‰∏ÄÊñπÊ≥ïÁâàÊú¨ involkevirtual:Ë∞ÉÁî®ÊâÄÊúâËôöÊñπÊ≥ï invokeinterface:Ë∞ÉÁî®Êé•Âè£ÊñπÊ≥ï Âä®ÊÄÅË∞ÉÁî®Êåá‰ª§ invokedynamic:Âä®ÊÄÅËß£ÊûêÂá∫ÈúÄË¶ÅË∞ÉÁî®ÁöÑÊñπÊ≥ïÔºåÁÑ∂ÂêéÊâßË°åÂâçÂõõÊù°Êåá‰ª§Âõ∫ÂåñÂú®ËôöÊãüÊú∫ÂÜÖÈÉ®ÔºåÊñπÊ≥ïÁöÑË∞ÉÁî®ÊâßË°å‰∏çÂèØ‰∫∫‰∏∫Âπ≤È¢ÑÔºåËÄå invokedynamicÊåá‰ª§ÂàôÊîØÊåÅÁî±Áî®Êà∑Á°ÆÂÆöÊñπÊ≥ïÁâàÊú¨„ÄÇÂÖ∂‰∏≠ invokestatic Êåá‰ª§Âíå invokespecial Êåá‰ª§Ë∞ÉÁî®ÁöÑÊñπÊ≥ïÁß∞‰∏∫ÈùûËôöÊñπÊ≥ïÔºåÂÖ∂‰ΩôÁöÑ( final ‰øÆÈ•∞ÁöÑÈô§Â§ñ)Áß∞‰∏∫ËôöÊñπÊ≥ï„ÄÇ 13.Invokedynamic $\\star$ JVMÂ≠óËäÇÁ†ÅÊåá‰ª§ÈõÜ‰∏ÄÁõ¥ÊØîËæÉÁ®≥ÂÆöÔºå‰∏ÄÁõ¥Âà∞Java7‰∏≠„Ç™Â¢óÂä†‰∫Ü‰∏Ä‰∏™ invokedynamic Êåá‰ª§ÔºåËøôÊòØ Java ‰∏∫‰∫ÜÂÆûÁé∞„ÄåÂä®ÊÄÅÁ±ªÂûãËØ≠Ë®Ä„ÄçÊîØÊåÅËÄåÂÅöÁöÑÁßçÊîπËøõ„ÄÇ $\\star$ ‰ΩÜÊòØÂú® Java7 ‰∏≠Âπ∂Ê≤°ÊúâÊèê‰æõÁõ¥Êé•ÁîüÊàê invokedynamic Êåá‰ª§ÁöÑÊñπÊ≥ïÔºåÈúÄË¶ÅÂÄüÂä© ASM ËøôÁßçÂ∫ïÂ±ÇÂ≠óËäÇÁ†ÅÂ∑•ÂÖ∑Êù•‰∫ßÁîü invokedynamic Êåá‰ª§„ÄÇÁõ¥Âà∞ Java8 ÁöÑ Lambda Ë°®ËææÂºèÁöÑÂá∫Áé∞Ôºånvokedynamic Êåá‰ª§ÁöÑÁîüÊàêÔºåÂú® Java ‰∏≠ÊâçÊúâ‰∫ÜÁõ¥Êé•ÁöÑÁîüÊàêÊñπÂºè„ÄÇ $\\star$ Java7 ‰∏≠Â¢ûÂä†ÁöÑÂä®ÊÄÅËØ≠Ë®ÄÁ±ªÂûãÊîØÊåÅÁöÑÊú¨Ë¥®ÊòØÂØπ Java ËôöÊãüÊú∫ËßÑËåÉÁöÑ‰øÆÊîπÔºåËÄå‰∏çÊòØÂØπ Java ËØ≠Ë®ÄËßÑÂàôÁöÑ‰øÆÊîπÔºåËøô‰∏ÄÂùóÁõ∏ÂØπÊù•ËÆ≤ÊØîËæÉÂ§çÊùÇÔºåÂ¢ûÂä†‰∫ÜËôöÊãüÊú∫‰∏≠ÁöÑÊñπÊ≥ïË∞ÉÁî®ÔºåÊúÄÁõ¥Êé•ÁöÑÂèóÁõäËÄÖÂ∞±ÊòØËøêË°åÂú® Java Âπ≥Âè∞ÁöÑÂä®ÊÄÅËØ≠Ë®ÄÁöÑÁºñËØëÂô®„ÄÇ Âä®ÊÄÅÁ±ªÂûãËØ≠Ë®ÄÂíåÈùôÊÄÅÁ±ªÂûãËØ≠Ë®Ä Âä®ÊÄÅÁ±ªÂûãËØ≠Ë®ÄÂíåÈùôÊÄÅÁ±ªÂûãËØ≠Ë®Ä‰∏§ËÄÖÁöÑÂå∫Âà´Â∞±Âú®‰∫éÂØπÁ±ªÂûãÁöÑÊ£ÄÊü•ÊòØÂú®ÁºñËØëÊúüËøòÊòØÂú®ËøêË°åÊúüÔºåÊª°Ë∂≥ÂâçËÄÖÂ∞±ÊòØÈùôÊÄÅÁ±ªÂûãËØ≠Ë®ÄÔºåÂèç‰πãÊòØÂä®ÊÄÅÁ±ªÂûãËØ≠Ë®Ä„ÄÇÈùôÊÄÅÁ±ªÂûãËØ≠Ë®ÄÊòØÂà§Êñ≠ÂèòÈáèËá™Ë∫´ÁöÑÁ±ªÂûã‰ø°ÊÅØÔºõÂä®ÊÄÅÁ±ªÂûãËØ≠Ë®ÄÊòØÂà§Êñ≠ÂèòÈáèÂÄºÁöÑÁ±ªÂûã‰ø°ÊÅØÔºåÂèòÈáèÊ≤°ÊúâÁ±ªÂûã‰ø°ÊÅØÔºåÂèòÈáèÂÄºÊâçÊúâÁ±ªÂûã‰ø°ÊÅØÔºåËøôÊòØÂä®ÊÄÅËØ≠Ë®ÄÔºàÊØîÂ¶ÇPythonÔºâÁöÑ‰∏Ä‰∏™ÈáçË¶ÅÁâπÂæÅ„ÄÇ 14.ÊñπÊ≥ïÈáçÂÜôÊú¨Ë¥® JavaËØ≠Ë®Ä‰∏≠ÊñπÊ≥ïÈáçÂÜôÁöÑÊú¨Ë¥® 1.ÊâæÂà∞Êìç‰ΩúÊï∞Ê†àÈ°∂ÁöÑÁ¨¨‰∏Ä‰∏™ÂÖÉÁ¥†ÊâÄÊâßË°åÁöÑÂØπË±°ÁöÑÂÆûÈôÖÁ±ªÂûãÔºåËÆ∞‰ΩúC 2.Â¶ÇÊûúÂú®Á±ªÂûãC‰∏≠ÊâæÂà∞‰∏éÂ∏∏Èáè‰∏≠ÁöÑÊèèËø∞Á¨¶ÂêàÁÆÄÂçïÂêçÁß∞ÈÉΩÁõ∏Á¨¶ÁöÑÊñπÊ≥ïÔºåÂàôËøõË°åËÆøÈóÆÊùÉÈôêÊ†°È™åÔºåÂ¶ÇÊûúÈÄöËøáÂàôËøîÂõûËøô‰∏™ÊñπÊ≥ïÁöÑÁõ¥Êé•ÂºïÁî®ÔºåÊüªÊâæËøáÁ®ãÁªìÊùüÔºõÂ¶ÇÊûú‰∏çÈÄöËøáÔºåÂàôËøîÂõûjava.lang.Illegal AccessErrorÂºÇÂ∏∏„ÄÇ 3.Âê¶ÂàôÔºåÊåâÁÖßÁªßÊâøÂÖ≥Á≥ª‰ªé‰∏ãÂæÄ‰∏ä‰æùÊ¨°ÂØπCÁöÑÂêÑ‰∏™Áà∂Á±ªËøõË°åÁ¨¨2Ê≠•ÁöÑÊêúÁ¥¢ÂíåÈ™åËØÅËøáÁ®ã„ÄÇ 4.Â¶ÇÊûúÂßãÁªàÊ≤°ÊúâÊâæÂà∞ÂêàÈÄÇÁöÑÊñπÊ≥ïÔºåÂàôÊäõÂá∫java.lang. AbstractMethodErrorÂºÇÂ∏∏„ÄÇ Illegal Accessarror‰ªãÁªçÔºö Á®ãÂ∫èËØïÂõæËÆøÈóÆÊàñ‰øÆÊîπ‰∏Ä‰∏™Â±ûÊÄßÊàñË∞ÉÁî®‰∏Ä‰∏™ÊñπÊ≥ïÔºåËøô‰∏™Â±ûÊÄßÊàñÊñπÊ≥ïÔºå‰Ω†Ê≤°ÊúâÊùÉÈôêËÆøÈóÆ„ÄÇ‰∏ÄËà¨ÁöÑÔºåËøô‰∏™‰ºöÂºïËµ∑ÁºñËØëÂô®ÂºÇÂ∏∏„ÄÇËøô‰∏™ÈîôËØØÂ¶ÇÊûúÂèëÁîüÂú®ËøêË°åÊó∂ÔºåÂ∞±ËØ¥Êòé‰∏Ä‰∏™Á±ªÂèëÁîü‰∫Ü‰∏çÂÖºÂÆπÁöÑÊîπÂèò„ÄÇ „ÉªÂú®Èù¢ÂêëÂØπË±°ÁöÑÁºñÁ®ã‰∏≠Ôºå‰ºöÂæàÈ¢ëÁπÅÁöÑ‰ΩøÁî®Âà∞Âä®ÊÄÅÂàÜÊ¥æÔºåÂ¶ÇÊûúÂú®ÊØèÊ¨°Âä®ÊÄÅÂàÜÊ¥æÁöÑËøáÁ®ã‰∏≠ÈÉΩË¶ÅÈáçÊñ∞Âú®Á±ªÁöÑÊñπÊ≥ïÂÖÉÊï∞ÊçÆ‰∏≠ÊêúÁ¥¢ÂêàÈÄÇÁöÑÁõÆÊ†áÁöÑËØùÂ∞±ÂèØËÉΩÂΩ±ÂìçÂà∞ÊâßË°åÊïàÁéá„ÄÇÂõ†Ê≠§Ôºå‰∏∫‰∫ÜÊèêÈ´òÊÄßËÉΩÔºåJVMÈááÁî®Âú®Á±ªÁöÑÊñπÊ≥ïÂå∫Âª∫Á´ã‰∏Ä‰∏™ËôöÊñπÊ≥ïË°®( virtual method tabble)ÔºàÈùûËôöÊñπÊ≥ï‰∏ç‰ºöÂá∫Áé∞Âú®Ë°®‰∏≠ÔºâÊù•ÂÆûÁé∞„ÄÇ‰ΩøÁî®Á¥¢ÂºïË°®Êù•‰ª£ÊõøÊü•Êâæ„ÄÇ „ÉªÊØè‰∏™Á±ª‰∏≠ÈÉΩÊúâ‰∏Ä‰∏™ËôöÊñπÊ≥ïË°®ÔºåË°®‰∏≠Â≠òÊîæÁùÄÂêÑ‰∏™ÊñπÊ≥ïÁöÑÂÆûÈôÖÂÖ•Âè£ „ÉªÈÇ£‰πàËôöÊñπÊ≥ïË°®‰ªÄ‰πàÊó∂ÂÄôË¢´ÂàõÂª∫Ôºü ËôöÊñπÊ≥ïË°®‰ºöÂú®Á±ªÂä†ËΩΩÁöÑÈìæÊé•Èò∂ÊÆµË¢´ÂàõÂª∫Âπ∂ÂºÄÂßãÂàùÂßãÂåñÔºåÁ±ªÁöÑÂèòÈáèÂàùÂßãÂÄºÂáÜÂ§áÂÆåÊàê‰πãÂêéÔºåJVM‰ºöÊääËØ•Á±ªÁöÑÊñπÊ≥ïË°®‰πüÂàùÂßãÂåñÂÆåÊØï„ÄÇ 15.ÊñπÊ≥ïËøîÂõûÂú∞ÂùÄ Â≠òÊîæË∞ÉÁî®ËØ•ÊñπÊ≥ïÁöÑPCÂØÑÂ≠òÂô®ÁöÑÂÄº„ÄÇ **‰∏Ä‰∏™ÊñπÊ≥ïÁöÑÁªìÊùüÔºåÊúâ‰∏§ÁßçÊñπÂºèÔºö**1.Ê≠£Â∏∏ÊâßË°åÂÆåÊàê„ÄÇ2.Âá∫Áé∞Êú™Â§ÑÁêÜÁöÑÂºÇÂ∏∏ÔºåÈùûÊ≠£Â∏∏ÈÄÄÂá∫ ‚Äã Êó†ËÆ∫ÈÄöËøáÂì™ÁßçÊñπÂºèÈÄÄÂá∫ÔºåÂú®ÊñπÊ≥ïÈÄÄÂá∫ÂêéÈÉΩËøîÂõûÂà∞ËØ•ÊñπÊ≥ïË¢´Ë∞ÉÁî®ÁöÑ‰ΩçÁΩÆ„ÄÇÊñπÊ≥ïÊ≠£Â∏∏ÈÄÄÂá∫Êó∂ÔºåË∞ÉÁî®ËÄÖÁöÑPCËÆ°Êï∞Âô®ÁöÑÂÄº‰Ωú‰∏∫ËøîÂõûÂú∞ÂùÄÔºåÂç≥Ë∞ÉÁî®ËØ•ÊñπÊ≥ïÁöÑÊåá‰ª§ÁöÑ‰∏ã‰∏ÄÊù°Êåá‰ª§ÁöÑÂú∞ÂùÄ„ÄÇËÄåÈÄöËøáÂºÇÂ∏∏ÈÄÄÂá∫ÁöÑÔºåËøîÂõûÂú∞ÂùÄÊòØË¶ÅÈÄöËøáÂºÇÂ∏∏Ë°®Êù•Á°ÆÂÆöÔºåÊ†àÂ∏ß‰∏≠‰∏ÄËà¨‰∏ç‰ºö‰øùÂ≠òËøôÈÉ®ÂàÜ‰ø°ÊÅØ„ÄÇ ‚Äã Êú¨Ë¥®‰∏äÔºåÊñπÊ≥ïÁöÑÈÄÄÂá∫Â∞±ÊòØÂΩìÂâçÊ†àÂ∏ßÂá∫Ê†àÁöÑËøáÁ®ã„ÄÇÊ≠§Êó∂ÔºåÈúÄË¶ÅÊÅ¢Â§ç‰∏äÂ±ÇÊñπÊ≥ïÁöÑÂ±ÄÈÉ®ÂèòÈáèË°®„ÄÅÊìç‰ΩúÊï∞Ê†à„ÄÅÂ∞ÜËøîÂõûÂÄºÂéãÂÖ•Ë∞ÉÁî®ËÄÖÊ†àÂ∏ßÁöÑÊìç‰ΩúÊï∞Ê†à„ÄÅËÆæÁΩÆPCÂØÑÂ≠òÂô®ÂÄºÁ≠âÔºåËÆ©Ë∞ÉÁî®ËÄÖÊñπÊ≥ïÁªßÁª≠ÊâßË°å‰∏ãÂéª„ÄÇ ‚Äã Ê≠£Â∏∏ÂÆåÊàêÂá∫Âè£ÂíåÂºÇÂ∏∏ÂÆåÊàêÂá∫Âè£ÁöÑÂå∫Âà´Âú®‰∫éÔºöÈÄöËøáÂºÇÂ∏∏ÂÆåÊàêÂá∫Âè£ÈÄÄÂá∫ÁöÑ‰∏ç‰ºöÁªô‰ªñÁöÑ‰∏äÂ±ÇË∞ÉÁî®ËÄÖ‰∫ßÁîü‰ªª‰ΩïÁöÑËøîÂõûÂÄº„ÄÇ ÂΩì‰∏Ä‰∏™ÊñπÊ≥ïÂºÄÂßãÊâßË°åÂêéÔºåÂè™Êúâ‰∏§ÁßçÊñπÂºèÂèØ‰ª•ÈÄÄÂá∫Ëøô‰∏™ÊñπÊ≥ï 1„ÄÅÊâßË°åÂºïÊìéÈÅáÂà∞‰ªªÊÑè‰∏Ä‰∏™ÊñπÊ≥ïËøîÂõûÁöÑÂ≠óËäÇÁ†ÅÊåá‰ª§( return),‰ºöÊúâËøîÂõûÂÄº‰º†ÈÄíÁªô‰∏äÂ±ÇÁöÑÊñπÊ≥ïË∞ÉÁî®ËÄÖÔºåÁÆÄÁß∞Ê≠£Â∏∏ÂÆåÊàêÂá∫Âè£ ‚Äã ‰∏Ä‰∏™ÊñπÊ≥ïÂú®Ê≠£Â∏∏Ë∞ÉÁî®ÂÆåÊàê‰πãÂêéÁ©∂Á´üÈúÄË¶Å‰ΩøÁî®Âì™‰∏Ä‰∏™ËøîÂõûÊåá‰ª§ËøòÈúÄË¶ÅÊ†πÊçÆÊñπÊ≥ïËøîÂõûÂÄºÁöÑÂÆûÈôÖÊï∞ÊçÆÁ±ªÂûãËÄåÂÆö„ÄÇ ‚Äã Âú®Â≠óËäÇÁ†ÅÊåá‰ª§‰∏≠ÔºåËøîÂõûÊåá‰ª§ÂåÖÂê´ lreturn(ÂΩìËøîÂõûÂÄºÊòØ boolean„ÄÅbyte„ÄÅchar„ÄÅshorthÂíåintÁ±ªÂûãÊó∂‰ΩøÁî®)„ÄÅlreturn„ÄÅ freturn„ÄÅ dreturn‰ª•Âèä areturn,Âè¶Â§ñËøòÊúâ‰∏Ä‰∏™ returnÊåá‰ª§‰æõÂ£∞Êòé‰∏∫voidÁöÑÊñπÊ≥ï„ÄÅÂÆû‰æãÂàùÂßãÂåñÊñπÊ≥ï„ÄÅÁ±ªÂíåÊé•Âè£ÁöÑÂàùÂßãÂåñÊñπÊ≥ï‰ΩøÁî®„ÄÇ 2„ÄÅÂú®ÊñπÊ≥ïÊâßË°åÁöÑËøáÁ®ã‰∏≠ÈÅáÂà∞‰∫ÜÂºÇÂ∏∏( Exception),Âπ∂‰∏îËøô‰∏™ÂºÇÂ∏∏Ê≤°ÊúâÂú®ÊñπÊ≥ïÂÜÖËøõË°åÂ§ÑÁêÜÔºå‰πüÂ∞±ÊòØÂè™Ë¶ÅÂú®Êú¨ÊñπÊ≥ïÁöÑÂºÇÂ∏∏Ë°®‰∏≠Ê≤°ÊúâÊêúÁ¥¢Âà∞ÂåπÈÖçÁöÑÂºÇÂ∏∏Â§ÑÁêÜÂô®ÔºåÂ∞±‰ºöÂØºËá¥ÊñπÊ≥ïÈÄÄÂá∫„ÄÇÁÆÄÁß∞ÂºÇÂ∏∏ÂÆåÊàêÂá∫Âè£„ÄÇ ÊñπÊ≥ïÊâßË°åËøáÁ®ã‰∏≠ÊäõÂá∫ÂºÇÂ∏∏Êó∂ÁöÑÂºÇÂ∏∏Â§ÑÁêÜÔºåÂ≠òÂÇ®Âú®‰∏Ä‰∏™ÂºÇÂ∏∏Â§ÑÁêÜË°®ÔºåÊñπ‰æøÂú®ÂèëÁîüÂºÇÂ∏∏ÁöÑÊó∂ÂÄôÊâæÂà∞Â§ÑÁêÜÂºÇÂ∏∏ÁöÑ‰ª£Á†Å„ÄÇ 16.‰∏Ä‰∫õÈôÑÂä†‰ø°ÊÅØ(Áï•) 17.Èù¢ËØïÈ¢ò ‰∏æ‰æãÊ†àÊ∫¢Âá∫ÁöÑÊÉÖÂÜµÔºü( StackOverflowError):2.Ê†à‰∏≠ÂèØËÉΩÂá∫Áé∞ÁöÑÂºÇÂ∏∏ ÈÄöËøá-XssËÆæÁΩÆÊ†àÁöÑÂ§ßÂ∞èÔºõOOM Ë∞ÉÊï¥Ê†àÂ§ßÂ∞èÔºåÂ∞±ËÉΩ‰øùËØÅ‰∏çÂá∫Áé∞Ê∫¢Âá∫ÂêóÔºü‰∏çËÉΩ ÂàÜÈÖçÁöÑÊ†àÂÜÖÂ≠òË∂äÂ§ßË∂äÂ•ΩÂêóÔºü‰∏çÊòØ ÂûÉÂúæÂõûÊî∂ÊòØÂê¶‰ºöÊ∂âÂèäÂà∞ËôöÊãüÊú∫Ê†àÔºü‰∏ç‰ºöÁöÑÔºÅ ÊñπÊ≥ï‰∏≠ÂÆö‰πâÁöÑÂ±ÄÈÉ®ÂèòÈáèÊòØÂê¶Á∫øÁ®ãÂÆâÂÖ®Ôºü1.Â±ÄÈÉ®ÂèòÈáèË°® ÂÖ≠„ÄÅÊú¨Âú∞ÊñπÊ≥ïÊé•Âè£ ‰ªÄ‰πàÊòØÊú¨Âú∞ÊñπÊ≥ïÔºü ÁÆÄÂçïÂú∞ËÆ≤Ôºå‰∏Ä‰∏™ Native Method Â∞±ÊòØ‰∏Ä‰∏™JavaË∞ÉÁî®ÈùûJava‰ª£Á†ÅÁöÑÊé•Âè£„ÄÇ‰∏Ä‰∏™Native MethodÊòØËøôÊ†∑‰∏Ä‰∏™JavaÊñπÊ≥ïÔºöËØ•ÊñπÊ≥ïÁöÑÂÆûÁé∞Áî±ÈùûJavaËØ≠Ë®ÄÂÆûÁé∞ÔºåÊØîÂ¶ÇC.Ëøô‰∏™ÁâπÂæÅÂπ∂ÈùûJavaÊâÄÁâπÊúâÔºåÂæàÂ§öÂÖ∂ÂÆÉÁöÑÁºñÁ®ãËØ≠Ë®ÄÈÉΩÊúâËøô‰∏ÄÊú∫Âà∂ÔºåÊØîÂ¶ÇÂú® C ‰∏≠Ôºå‰Ω†ÂèØ‰ª•Áî® extern&quot;c&quot;ÂëäÁü•C ÁºñËØëÂô®ÂéªË∞ÉÁî®‰∏Ä‰∏™CÁöÑÂáΩÊï∞„ÄÇ A native method is a Java method whose Implementation is provided by non-java code Âú®ÂÆö‰πâ„Éº‰∏™ native method Êó∂ÔºåÂπ∂‰∏çÊèê‰æõÂÆûÁé∞‰Ωì(Êúâ‰∫õÂÉèÂÆö‰πâ„Éº‰∏™Javai nterface),Âõ†‰∏∫ÂÖ∂ÂÆûÁé∞‰ΩìÊòØÁî±ÈùûjavaËØ≠Ë®ÄÂú®Â§ñÈù¢ÂÆûÁé∞ÁöÑ„ÄÇ Êú¨Âú∞Êé•Âè£ÁöÑ‰ΩúÁî®ÊòØËûçÂêà‰∏çÂêåÁöÑÁºñÁ®ãËØ≠Ë®Ä‰∏∫JavaÊâÄÁî®ÔºåÂÆÉÁöÑÂàùË°∑ÊòØËûçÂêàC/C++Á®ãÂ∫è„ÄÇ ‰∏∫‰ªÄ‰πàË¶Å‰ΩøÁî® Native Method? Java‰ΩøÁî®Ëµ∑Êù•ÈùûÂ∏∏Êñπ‰æøÔºåÁÑ∂ËÄåÊúâ‰∫õÂ±ÇÊ¨°ÁöÑ‰ªªÂä°Áî®JavaÂÆûÁé∞Ëµ∑Êù•‰∏çÂÆπÊòìÔºåÊàñËÄÖÊàë‰ª¨ÂØπÁ®ãÂ∫èÁöÑÊïàÁéáÂæàÂú®ÊÑèÊó∂ÔºåÈóÆÈ¢òÂ∞±Êù•‰∫Ü„ÄÇ „Éª‰∏éJavaÁéØÂ¢ÉÂ§ñ‰∫§‰∫íÔºö**ÊúâÊó∂JavaÂ∫îÁî®ÈúÄË¶Å‰∏éJavaÂ§ñÈù¢ÁöÑÁéØÂ¢É‰∫§‰∫íÔºåËøôÊòØÊú¨Âú∞ÊñπÊ≥ïÂ≠òÂú®ÁöÑ‰∏ªË¶ÅÂéüÂõ†„ÄÇ**‰Ω†ÂèØ‰ª•ÊÉ≥ÊÉ≥JavaÈúÄË¶Å‰∏é‰∏Ä‰∫õÂ∫ïÂ±ÇÁ≥ªÁªüÔºåÂ¶ÇÊìç‰ΩúÁ≥ªÁªüÊàñÊüê‰∫õÁ°¨‰ª∂‰∫§Êç¢‰ø°ÊÅØÊó∂ÁöÑÊÉÖÂÜµ„ÄÇÊú¨Âú∞ÊñπÊ≥ïÊ≠£ÊòØËøôÊ†∑‰∏ÄÁßç‰∫§ÊµÅÊú∫Âà∂ÔºöÂÆÉ‰∏∫Êàë‰ª¨Êèê‰æõ‰∫Ü‰∏Ä‰∏™ÈùûÂ∏∏ÁÆÄÊ¥ÅÁöÑÊé•Âè£ËÄå‰∏îÊàë‰ª¨Êó†ÈúÄÂéª‰∫ÜËß£JavaÂ∫îÁî®‰πãÂ§ñÁöÑÁπÅÁêêÁöÑÁªÜËäÇ„ÄÇ ‰∏éÊìç‰ΩúÁ≥ªÁªü‰∫§‰∫í JVMÊîØÊåÅÁùÄJavaËØ≠Ë®ÄÊú¨Ë∫´ÂíåËøêË°åÊó∂Â∫ìÔºåÂÆÉÊòØJavaÁ®ãÂ∫èËµñ‰ª•ÁîüÂ≠òÁöÑÂπ≥Âè∞ÔºåÂÆÉÁî±‰∏Ä‰∏™Ëß£ÈáäÂô®ÔºàËß£ÈáäÂ≠óËäÇÁ†ÅÔºâÂíå‰∏Ä‰∫õËøûÊé•Âà∞Êú¨Âú∞‰ª£Á†ÅÁöÑÂ∫ìÁªÑÊàê„ÄÇÁÑ∂ËÄå‰∏çÁÆ°ÊÄéÊ†∑ÔºåÂÆÉÊØïÁ´ü‰∏çÊòØ‰∏Ä‰∏™ÂÆåÊï¥ÁöÑÁ≥ªÁªüÔºåÂÆÉÁªèÂ∏∏‰æùËµñ‰∫é‰∏Ä‰∫õÂ∫ïÂ±ÇÁ≥ªÁªüÁöÑÊîØÊåÅ„ÄÇËøô‰∫õÂ∫ïÂ±ÇÁ≥ªÁªüÂ∏∏Â∏∏ÊòØÂº∫Â§ßÁöÑÊìç‰ΩúÁ≥ªÁªü„ÄÇÈÄöËøá‰ΩøÁî®Êú¨Âú∞ÊñπÊ≥ïÔºåÊàë‰ª¨Âæó‰ª•Áî®JavaÂÆûÁé∞‰∫ÜjreÁöÑ‰∏éÂ∫ïÂ±ÇÁ≥ªÁªüÁöÑ‰∫§‰∫íÔºåÁîöËá≥JVMÁöÑ‰∏Ä‰∫õÈÉ®ÂàÜÂ∞±ÊòØÁî®CÂÜôÁöÑ„ÄÇËøòÊúâÔºåÂ¶ÇÊûúÊàë‰ª¨Ë¶Å‰ΩøÁî®‰∏Ä‰∫õJavaËØ≠Ë®ÄÊú¨Ë∫´Ê≤°ÊúâÊèê‰æõÂ∞ÅË£ÖÁöÑÊìç‰ΩúÁ≥ªÁªüÁöÑÁâπÊÄßÊó∂ÔºåÊàë‰ª¨‰πüÈúÄË¶Å‰ΩøÁî®Êú¨Âú∞ÊñπÊ≥ï„ÄÇ Sun‚Äôs Java **SunÁöÑËß£ÈáäÂô®ÊòØÁî®CÂÆûÁé∞ÁöÑÔºåËøô‰ΩøÂæóÂÆÉËÉΩÂÉè‰∏Ä‰∫õÊôÆÈÄöÁöÑC‰∏ÄÊ†∑‰∏éÂ§ñÈÉ®‰∫§‰∫í„ÄÇ**jreÂ§ßÈÉ®ÂàÜÊòØÁî®JavaÂÆûÁé∞ÁöÑÔºåÂÆÉ‰πüÈÄöËøá‰∏Ä‰∫õÊú¨Âú∞ÊñπÊ≥ï‰∏éÂ§ñÁïå‰∫§‰∫í„ÄÇ‰æãÂ¶ÇÔºöÁ±ªjava.lang. hreadÁöÑ setpriorityÔºàÔºâÊñπÊ≥ïÊòØÁî®JavaÂÆûÁé∞ÁöÑÔºå‰ΩÜÊòØÂÆÉÂÆûÁé∞Ë∞ÉÁî®ÁöÑÊòØËØ•Á±ªÈáåÁöÑÊú¨Âú∞ÊñπÊ≥ïsetprlority0ÔºàÔºâ„ÄÇËøô‰∏™Êú¨Âú∞ÊñπÊ≥ïÊòØÁî®CÂÆûÁé∞ÁöÑÔºåÂπ∂Ë¢´Ê§çÂÖ•JVMÂÜÖÈÉ®ÔºåÂú®Windows 95ÁöÑÂπ≥Âè∞‰∏äÔºåËøô‰∏™Êú¨Âú∞ÊñπÊ≥ïÊúÄÁªàÂ∞ÜË∞ÉÁî®Win32 SetpriorityÔºàÔºâAPI„ÄÇËøôÊòØ‰∏Ä‰∏™Êú¨Âú∞ÊñπÊ≥ïÁöÑÂÖ∑‰ΩìÂÆûÁé∞Áî±JVMÁõ¥Êé•Êèê‰æõÔºåÊõ¥Â§öÁöÑÊÉÖÂÜµÊòØÊú¨Âú∞ÊñπÊ≥ïÁî±Â§ñÈÉ®ÁöÑÂä®ÊÄÅÈìæÊé•Â∫ì( external dynamic link library)Êèê‰æõÔºåÁÑ∂ÂêéË¢´JVMË∞ÉÁî®„ÄÇ Áé∞Áä∂ ÁõÆÂâçËØ•ÊñπÊ≥ï‰ΩøÁî®ÁöÑË∂äÊù•Ë∂äÂ∞ë‰∫ÜÔºåÈô§ÈùûÊòØ‰∏éÁ°¨‰ª∂ÊúâÂÖ≥ÁöÑÂ∫îÁî®ÔºåÊØîÂ¶ÇÈÄöËøáJavaÁ®ãÂ∫èÈ©±Âä®ÊâìÂç∞Êú∫ÊàñËÄÖJavaÁ≥ªÁªüÁÆ°ÁêÜÁîü‰∫ßËÆæÂ§áÔºåÂú®‰ºÅ‰∏öÁ∫ßÂ∫îÁî®‰∏≠Â∑≤ÁªèÊØîËæÉÂ∞ëËßÅ„ÄÇÂõ†‰∏∫Áé∞Âú®ÁöÑÂºÇÊûÑÈ¢ÜÂüüÈó¥ÁöÑÈÄö‰ø°ÂæàÂèëËææÔºåÊØîÂ¶ÇÂèØ‰ª•‰ΩøÁî® SocketÈÄö‰ø°Ôºå‰πüÂèØ‰ª•‰ΩøÁî®ÁΩë Web ServiceÁ≠âÁ≠âÔºå‰∏çÂ§öÂÅö‰ªãÁªç„ÄÇ ‰∏É„ÄÅÊú¨Âú∞ÊñπÊ≥ïÊ†à Êú¨Âú∞ÊñπÊ≥ïÊ†à( Native Method Stack) „ÉªJavaËôöÊãüÊú∫Ê†àÁî®‰∫éÁÆ°ÁêÜJavaÊñπÊ≥ïÁöÑË∞ÉÁî®ÔºåËÄåÊú¨Âú∞ÊñπÊ≥ïÊ†àÁî®‰∫éÁÆ°ÁêÜÊú¨Âú∞ÊñπÊ≥ïÁöÑË∞ÉÁî®„ÄÇ „ÉªÊú¨Âú∞ÊñπÊ≥ïÊ†àÔºå‰πüÊòØÁ∫øÁ®ãÁßÅÊúâÁöÑ„ÄÇ „ÉªÂÖÅËÆ∏Ë¢´ÂÆûÁé∞ÊàêÂõ∫ÂÆöÊàñËÄÖÊòØÂèØÂä®ÊÄÅÊâ©Â±ïÁöÑÂÜÖÂ≠òÂ§ßÂ∞è„ÄÇÔºàÂú®ÂÜÖÂ≠òÊ∫¢Âá∫ÊñπÈù¢ÊòØÁõ∏ÂêåÁöÑÔºâ ‚Äã Â¶ÇÊûúÁ∫øÁ®ãËØ∑Ê±ÇÂàÜÈÖçÁöÑÊ†àÂÆπÈáèË∂ÖËøáÊú¨Âú∞ÊñπÊ≥ïÊ†àÂÖÅËÆ∏ÁöÑÊúÄÂ§ßÂÆπÈáèÔºåJavaËôöÊãüÊú∫Â∞Ü‰ºöÊäõÂá∫‰∏Ä‰∏™ StackOverflowErrorÂºÇÂ∏∏„ÄÇ ‚Äã Â¶ÇÊûúÊú¨Âú∞ÊñπÊ≥ïÊ†àÂèØ‰ª•Âä®ÊÄÅÊâ©Â±ïÔºåÂπ∂‰∏îÂú®Â∞ùËØïÊâ©Â±ïÁöÑÊó∂ÂÄôÊó†Ê≥ïÁî≥ËØ∑Âà∞Ë∂≥Â§üÁöÑÂÜÖÂ≠òÔºåÊàñËÄÖÂú®ÂàõÂª∫Êñ∞ÁöÑÁ∫øÁ®ãÊó∂Ê≤°ÊúâË∂≥Â§üÁöÑÂÜÖÂ≠òÂéªÂàõÂª∫ÂØπÂ∫îÁöÑÊú¨Âú∞ÊñπÊ≥ïÊ†àÔºåÈÇ£‰πàJavaËôöÊãüÊú∫Â∞Ü‰ºöÊäõÂá∫‰∏Ä‰∏™ OutOfMemoryErrorÂºÇÂ∏∏„ÄÇ „ÉªÊú¨Âú∞ÊñπÊ≥ïÊ†àÊòØ‰ΩøÁî®CËØ≠Ë®ÄÂÆûÁé∞ÁöÑ „ÉªÂÆÉÁöÑÂÖ∑‰ΩìÂÅöÊ≥ïÊòØ Native Method Stack‰∏≠ÁôªËÆ∞ native ÊñπÊ≥ïÔºåÂú® Execution Engine ÊâßË°åÊó∂Âä†ËΩΩÊú¨Âú∞ÊñπÊ≥ïÂ∫ì„ÄÇ „ÉªÂΩìÊüê‰∏™Á∫øÁ®ãË∞ÉÁî®‰∏Ä‰∏™Êú¨Âú∞ÊñπÊ≥ïÊó∂ÔºåÂÆÉÂ∞±ËøõÂÖ•‰∫Ü‰∏Ä‰∏™ÂÖ®Êñ∞ÁöÑÂπ∂‰∏î‰∏çÂÜçÂèóËôöÊãüÊú∫ÈôêÂà∂ÁöÑ‰∏ñÁïå„ÄÇÂÆÉÂíåËôöÊãüÊú∫Êã•ÊúâÂêåÊ†∑ÁöÑÊùÉÈôê„ÄÇ Êú¨Âú∞ÊñπÊ≥ïÊ†àÂèØ‰ª•ÈÄöËøáÊú¨Âú∞ÊñπÊ≥ïÊé•Âè£Êù•ËÆøÈóÆËôöÊãüÊú∫ÂÜÖÈÉ®ÁöÑËøêË°åÊó∂Êï∞ÊçÆÂå∫„ÄÇ ÂÆÉÁîöËá≥ÂèØ‰ª•Áõ¥Êé•‰ΩøÁî®Êú¨Âú∞Â§ÑÁêÜÂô®‰∏≠ÁöÑÂØÑÂ≠òÂô® Áõ¥Êé•‰ªéÊú¨Âú∞ÂÜÖÂ≠òÁöÑÂ†Ü‰∏≠ÂàÜÈÖç‰ªªÊÑèÊï∞ÈáèÁöÑÂÜÖÂ≠ò„ÄÇ Âπ∂‰∏çÊòØÊâÄÊúâÁöÑJVMÈÉΩÊîØÊåÅÊú¨Âú∞ÊñπÊ≥ï„ÄÇÂõ†‰∏∫JavaËôöÊãüÊú∫ËßÑËåÉÂπ∂Ê≤°ÊúâÊòéÁ°ÆË¶ÅÊ±ÇÊú¨Âú∞ÊñπÊ≥ïÊ†àÁöÑ‰ΩøÁî®ËØ≠Ë®Ä„ÄÅÂÖ∑‰ΩìÂÆûÁé∞ÊñπÂºè„ÄÅÊï∞ÊçÆÁªìÊûÑÁ≠â„ÄÇÂ¶ÇÊûúJVM‰∫ßÂìÅ‰∏çÊâìÁÆóÊîØÊåÅ nativeÊñπÊ≥ïÔºå‰πüÂèØ‰ª•Êó†ÈúÄÂÆûÁé∞Êú¨Âú∞ÊñπÊ≥ïÊ†à„ÄÇ „ÉªÂú® Hotspot JVM‰∏≠ÔºåÁõ¥Êé•Â∞ÜÊú¨Âú∞ÊñπÊ≥ïÊ†àÂíåËôöÊãüÊú∫Ê†àÂêà‰∫å‰∏∫‰∏Ä„ÄÇ ÂÖ´„ÄÅÂ†Ü 1.Â†ÜÁöÑÊ†∏ÂøÉÊ¶ÇËø∞ „Éª‰∏Ä‰∏™JVMÂÆû‰æãÂè™Â≠òÂú®‰∏Ä‰∏™Â†ÜÂÜÖÂ≠òÔºåÂ†Ü‰πüÊòØJavaÂÜÖÂ≠òÁÆ°ÁêÜÁöÑÊ†∏ÂøÉÂå∫Âüü„ÄÇ „ÉªJavaÂ†ÜÂå∫Âú®JVMÂêØÂä®ÁöÑÊó∂ÂÄôÂç≥Ë¢´ÂàõÂª∫ÔºåÂÖ∂Á©∫Èó¥Â§ßÂ∞è‰πüÂ∞±Á°ÆÂÆö‰∫Ü„ÄÇÊòØJVMÁÆ°ÁêÜÁöÑÊúÄÂ§ß‰∏ÄÂùóÂÜÖÂ≠òÁ©∫Èó¥„ÄÇÂ†ÜÂÜÖÂ≠òÁöÑÂ§ßÂ∞èÊòØÂèØ‰ª•Ë∞ÉËäÇÁöÑ„ÄÇ„ÄäJavaËôöÊãüÊú∫ËßÑËåÉ„ÄãËßÑÂÆöÔºåÂ†ÜÂèØ‰ª•Â§Ñ‰∫éÁâ©ÁêÜ‰∏ä‰∏çËøûÁª≠ÁöÑÂÜÖÂ≠òÁ©∫Èó¥‰∏≠Ôºå‰ΩÜÂú®ÈÄªËæë‰∏äÂÆÉÂ∫îËØ•Ë¢´ËßÜ‰∏∫ËøûÁª≠ÁöÑ„ÄÇ „ÉªÊâÄÊúâÁöÑÁ∫øÁ®ãÂÖ±‰∫´JavaÂ†ÜÔºåÂú®ËøôÈáåËøòÂèØ‰ª•ÂàíÂàÜÁ∫øÁ®ãÁßÅÊúâÁöÑÁºìÂÜ≤Âå∫Ôºà Thread Local Allocation Buffer, TLAB) „Éª„ÄäJavaËôöÊãüÊú∫ËßÑËåÉ„Äã‰∏≠ÂØπJavaÂ†ÜÁöÑÊèèËø∞ÊòØÔºöÊâÄÊúâÁöÑÂØπË±°ÂÆû‰æã‰ª•ÂèäÊï∞ÁªÑÈÉΩÂ∫îÂΩìÂú®ËøêË°åÊó∂ÂàÜÈÖçÂú®Â†Ü‰∏ä„ÄÇÔºà The heap is the run-time data area fromwhich memcry for all class instances and arrays is allocated)ÊàëË¶ÅËØ¥ÁöÑÊòØÔºö‚ÄúÂá†‰πé‚ÄùÊâÄÊúâÁöÑÂØπË±°ÂÆû‰æãÈÉΩÂú®ËøôÈáåÂàÜÈÖçÂÜÖÂ≠ò„ÄÇ‰∏Ä‰ªéÂÆûÈôÖ‰ΩøÁî®ËßíÂ∫¶ÁúãÁöÑ„ÄÇ „ÉªÊï∞ÁªÑÂíåÂØπË±°ÂèØËÉΩÊ∞∏Ëøú‰∏ç‰ºöÂ≠òÂÇ®Âú®Ê†à‰∏äÔºåÂõ†‰∏∫Ê†àÂ∏ß‰∏≠‰øùÂ≠òÂºïÁî®ÔºåËøô‰∏™ÂºïÁî®ÊåáÂêëÂØπË±°ÊàñËÄÖÊï∞ÁªÑÂú®Â†Ü‰∏≠ÁöÑ‰ΩçÁΩÆ„ÄÇ „ÉªÂú®ÊñπÊ≥ïÁªìÊùüÂêéÔºåÂ†Ü‰∏≠ÁöÑÂØπË±°‰∏ç‰ºöÈ©¨‰∏äË¢´ÁßªÈô§Ôºå‰ªÖ‰ªÖÂú®ÂûÉÂúæÊî∂ÈõÜÁöÑÊó∂ÂÄôÊâç‰ºöË¢´ÁßªÈô§„ÄÇ „ÉªÂ†ÜÔºåÊòØGC( Garbage Collection,ÂûÉÂúæÊî∂ÈõÜÂô®)ÊâßË°åÂûÉÂúæÂõûÊî∂ÁöÑÈáçÁÇπÂå∫Âüü„ÄÇ 2.Â†ÜÁöÑÁªÜÂàÜÂÜÖÂ≠òÁªìÊûÑ 3.ËÆæÁΩÆÂ†ÜÂÜÖÂ≠òÂ§ßÂ∞è‰∏éOOM 1.ËÆæÁΩÆÂ†ÜÂÜÖÂ≠ò JavaÂ†ÜÂå∫Áî®‰∫éÂ≠òÂÇ®JavaÂØπË±°ÂÆû‰æãÔºåÈÇ£‰πàÂ†ÜÁöÑÂ§ßÂ∞èÂú®JVMÂêØÂä®Êó∂Â∞±Â∑≤ÁªèËÆæÂÆöÂ•Ω‰∫ÜÔºåÂ§ßÂÆ∂ÂèØ‰ª•ÈÄöËøáÈÄâÈ°π&quot;-Xmx&quot;Âíå&quot;-Xms&quot;Êù•ËøõË°åËÆæÁΩÆ ‚Äã ‚Äú-Xms&quot;Áî®‰∫éË°®Á§∫Â†ÜÂå∫ÁöÑËµ∑ÂßãÂÜÖÂ≠òÔºåÁ≠â‰ª∑‰∫é„ÉºXX: Initialheapsize ‚Äã ‚Äú-Xmx&quot;ÂàôÁî®‰∫éË°®Á§∫Â†ÜÂå∫ÁöÑÊúÄÂ§ßÂÜÖÂ≠òÔºåÁ≠â‰ª∑‰∫é„ÉºXX: Maxheapsize ‰∏ÄÊó¶Â†ÜÂå∫‰∏≠ÁöÑÂÜÖÂ≠òÂ§ßÂ∞èË∂ÖËøá‚Äú-Xmx&quot;ÊâÄÊåáÂÆöÁöÑÊúÄÂ§ßÂÜÖÂ≠òÊó∂ÔºåÂ∞Ü‰ºöÊäõÂá∫ OutOfMemoryError ÂºÇÂ∏∏„ÄÇ „ÉªÈÄöÂ∏∏‰ºöÂ∞Ü -Xms Âíå -Xmx ‰∏§‰∏™ÂèÇÊï∞ÈÖçÁΩÆÁõ∏ÂêåÁöÑÂÄºÔºåÂÖ∂ÁõÆÁöÑÊòØ‰∏∫‰∫ÜËÉΩÂ§üÂú®javaÂûÉÂúæÂõûÊî∂Êú∫Âà∂Ê∏ÖÁêÜÂÆåÂ†ÜÂå∫Âêé‰∏çÈúÄË¶ÅÈáçÊñ∞ÂàÜÈöîËÆ°ÁÆóÂ†ÜÂå∫ÁöÑÂ§ßÂ∞èÔºå‰ªéËÄåÊèêÈ´òÊÄßËÉΩ„ÄÇÈªòËÆ§ÊÉÖÂÜµ‰∏ãÔºöÂàùÂßãÂÜÖÂ≠òÂ§ßÂ∞èÔºöÁâ©ÁêÜÁîµËÑëÂÜÖÂ≠òÂ§ßÂ∞è/64ÔºåÊúÄÂ§ßÂÜÖÂ≠òÂ§ßÂ∞èÔºöÁâ©ÁêÜÁîµËÑëÂÜÖÂ≠òÂ§ßÂ∞è/4 4.Êü•ÁúãËÆæÁΩÆÁöÑÂèÇÊï∞ÔºöÊñπÂºè‰∏ÄÔºöjps/jstat -GC ËøõÁ®ãid ÊñπÂºè‰∫åÔºö-XX: +PrintGCdetails 2.OOMËØ¥Êòé‰∏é‰∏æ‰æã Â∑•ÂÖ∑Ôºö jvisualvmÔºöÊü•ÁúãÂÜÖÂ≠òÊÉÖÂÜµÔºåjvisualvmÂëΩ‰ª§ÂèØÁõ¥Êé•ÊâìÂºÄ ÂÆâË£ÖÊèí‰ª∂ 1234567891011121314151617181920212223public class OOMInstance { public static void main(String[] args){ ArrayList&lt;Picture1&gt; list=new ArrayList&lt;&gt;(); while(true) { try { Thread.sleep(20); } catch (InterruptedException e) { e.printStackTrace(); } list.add(new Picture1(new Random().nextInt(1024*1024))); } }}class Picture1{ private byte[] pixels; public Picture1(int length){ this.pixels = new byte[length]; }} ÁºñËØëÁ®ãÂ∫è ‰øÆÊîπÂ†ÜÂ§ßÂ∞è ËøêË°åÁ®ãÂ∫èÊü•Áúã jvisualvm Exception in thread &quot;main&quot; java.lang.OutOfMemoryError: Java heap space at pers.lxl.mylearnproject.programbase.jvm.Picture1.(OOMInstance.java:27) at pers.lxl.mylearnproject.programbase.jvm.OOMInstance.main(OOMInstance.java:19) 4.Âπ¥ËΩª‰ª£‰∏éËÄÅÂπ¥‰ª£ „ÉªÂ≠òÂÇ®Âú®JVM‰∏≠ÁöÑJavaÂØπË±°ÂèØ‰ª•Ë¢´ÂàíÂàÜ‰∏∫‰∏§Á±ª ‰∏ÄÁ±ªÊòØÁîüÂëΩÂë®ÊúüËæÉÁü≠ÁöÑÁû¨Êó∂ÂØπË±°ÔºåËøôÁ±ªÂØπË±°ÁöÑÂàõÂª∫ÂíåÊ∂à‰∫°ÈÉΩÈùûÂ∏∏ËøÖÈÄü Âè¶Â§ñ‰∏ÄÁ±ªÂØπË±°ÁöÑÁîüÂëΩÂë®ÊúüÂç¥ÈùûÂ∏∏ÈïøÔºåÂú®Êüê‰∫õÊûÅÁ´ØÁöÑÊÉÖÂÜµ‰∏ãËøòËÉΩÂ§ü‰∏éJVMÁöÑÁîüÂëΩÂë®Êúü‰øùÊåÅ‰∏ÄËá¥„ÄÇ „ÉªJavaÂ†ÜÂå∫Ëøõ‰∏ÄÊ≠•ÁªÜÂàÜÁöÑËØùÔºåÂèØ‰ª•ÂàíÂàÜ‰∏∫Âπ¥ËΩª‰ª£( YoungGen)ÂíåËÄÅÂπ¥‰ª£( OldGen) „ÉªÂÖ∂‰∏≠Âπ¥ËΩª‰ª£ÂèàÂèØ‰ª•ÂàíÂàÜ‰∏∫EdenÁ©∫Èó¥„ÄÅ Survivor0Á©∫Èó¥Âíå Survivor1Á©∫Èó¥(ÊúâÊó∂‰πüÂè´ÂÅöfromÂå∫„ÄÅtoÂå∫)„ÄÇ ÂèÇÊï∞ËÆæÁΩÆÔºö ÈÖçÁΩÆÊñ∞Áîü‰ª£‰∏éËÄÅÂπ¥‰ª£Âú®Â†ÜÁªìÊûÑÁöÑÂç†ÊØî„ÄÇ ÈªòËÆ§**-XX: NewRatio=2**,Ë°®Á§∫Êñ∞Áîü‰ª£Âç†1,ËÄÅÂπ¥‰ª£Âç†2,Êñ∞Áîü‰ª£Âç†Êï¥‰∏™Â†ÜÁöÑ1/3 ÂèØ‰ª•‰øÆÊîπ-XX: Newratio=4,Ë°®Á§∫Êñ∞Áîü‰ª£Âç†1,ËÄÅÂπ¥‰ª£Âç†4,Êñ∞Áîü‰ª£Âç†Êï¥‰∏™Â†ÜÁöÑ1/5 Âú® Hot Spot‰∏≠ÔºåEdenÁ©∂Èó¥ÂíåÂè¶Â§ñ‰∏§‰∏™ Survivor'Á©∫Èó¥Áº∫ÁúÅÊâÄÂç†ÁöÑÊØî‰æãÊòØ8:1:1ÂΩìÁÑ∂ÂºÄÂèë‰∫∫ÂëòÂèØ‰ª•ÈÄöËøáÈÄâÈ°π‚Äú-Xx: SurvivorRatio‚ÄùË∞ÉÊï¥Ëøô‰∏™Á©∫Èó¥ÊØî‰æã„ÄÇÊØîÂ¶ÇXX: Survivorratio=8,ÈªòËÆ§8 Âá†‰πéÊâÄÊúâÁöÑJavaÂØπË±°ÈÉΩÊòØÂú®EdenÂå∫Ë¢´newÂá∫Êù•ÁöÑÁªùÂ§ßÈÉ®ÂàÜÁöÑJavaÂØπË±°ÁöÑÈîÄÊØÅÈÉΩÂú®Êñ∞Áîü‰ª£ËøõË°å‰∫Ü„ÄÇIBMÂÖ¨Âè∏ÁöÑ‰∏ìÈó®Á†îÁ©∂Ë°®ÊòéÔºåÊñ∞Áîü‰ª£‰∏≠80%ÁöÑÂØπË±°ÈÉΩÊòØ‚ÄúÊúùÁîüÂ§ïÊ≠ª‚ÄùÁöÑ„ÄÇ ÂèØ‰ª•‰ΩøÁî®ÈÄâÈ°π&quot;-Xmn'&quot;ËÆæÁΩÆÊñ∞Áîü‰ª£ÊúÄÂ§ßÂÜÖÂ≠òÂ§ßÂ∞è&gt;Ëøô‰∏™ÂèÇÊï∞‰∏ÄËà¨‰ΩøÁî®ÈªòËÆ§ÂÄºÂ∞±ÂèØ‰ª•‰∫Ü„ÄÇ ÂØπË±°ÊµÅÁ®ãÔºö 5.ÂØπË±°ÂàÜÈÖçËøáÁ®ã 1.‰∏ÄËà¨ËøáÁ®ã ‚Äã Eden Êª°Ëß¶Âèë YGC/Minor GC ÂØπ Eden‰∏é From Âå∫ÂõûÊî∂ÔºåËøòÂú®Áî®ÁöÑÂØπË±°ÊîæÂà∞ From Âå∫ÔºåAgeËÆæ‰∏∫1Ôºå‰∏ãÊ¨°ÂõûÊî∂Ëß¶ÂèëÊó∂Â§çÂà∂ From Âå∫ËΩ¨Âà∞ To Âå∫ÔºàÁ©∫ÁöÑÂå∫ÔºâÔºåAge+1ÔºåAge ËææÂà∞ÈòàÂÄºÔºàÂèØÈÄöËøáËÆæÁΩÆ -XX: MaxTenuringThreshold=ÔºâÊîæÂÖ•Old„ÄÇ ‰∏∫Êñ∞ÂØπË±°ÂàÜÈÖçÂÜÖÂ≠òÊòØ‰∏Ä‰ª∂ÈùûÂ∏∏‰∏•Ë∞®ÂíåÂ§çÊùÇÁöÑ‰ªªÂä°ÔºåJVMÁöÑËÆæËÆ°ËÄÖ‰ª¨‰∏ç‰ªÖÈúÄË¶ÅËÄÉËôëÂÜÖÂ≠òÂ¶Ç‰ΩïÂàÜÈÖç„ÄÅÂú®Âì™ÈáåÂàÜÈÖçÁ≠âÈóÆÈ¢òÔºåÂπ∂‰∏îÁî±‰∫éÂÜÖÂ≠òÂàÜÈÖçÁÆóÊ≥ï‰∏éÂÜÖÂ≠òÂõûÊî∂ÁÆóÊ≥ïÂØÜÂàáÁõ∏ÂÖ≥ÔºåÊâÄ‰ª•ËøòÈúÄË¶ÅËÄÉËôëGCÊâßË°åÂÆåÂÜÖÂ≠òÂõûÊî∂ÂêéÊòØÂê¶‰ºöÂú®ÂÜÖÂ≠òÁ©∫Èó¥‰∏≠Áà¨ÁîüÂÜÖÂ≠òÁ¢éÁâá„ÄÇ 1.newÁöÑÂØπË±°ÂÖàÊîæ‰ºäÁî∏Âõ≠Âå∫„ÄÇÊ≠§Âå∫ÊúâÂ§ßÂ∞èÈôêÂà∂„ÄÇ 2.ÂΩì‰ºäÁî∏Âõ≠ÁöÑÁ©∫Èó¥Â°´Êª°Êó∂ÔºåÁ®ãÂ∫èÂèàÈúÄË¶ÅÂàõÂª∫ÂØπË±°ÔºåJVMÁöÑÂûÉÂúæÂõûÊî∂Âô®Â∞ÜÂØπ‰ºäÁî∏Âõ≠Âå∫ËøõË°åÂûÉÂúæÂõûÊî∂( Minor GC),Â∞Ü‰ºäÁî∏Âõ≠Âå∫‰∏≠ÁöÑ‰∏çÂÜçË¢´ÂÖ∂‰ªñÂØπË±°ÊâÄÂºïÁî®ÁöÑÂØπË±°ËøõË°åÈîÄÊØÅ„ÄÇÂÜçÂä†ËΩΩÊñ∞ÁöÑÂØπË±°ÊîæÂà∞‰ºäÁî∏Âõ≠Âå∫„ÄÇ 3.ÁÑ∂ÂêéÂ∞Ü‰ºäÁî∏Âõ≠‰∏≠ÁöÑÂâ©‰ΩôÂØπË±°ÁßªÂä®Âà∞Âπ∏Â≠òËÄÖ0Âå∫ 4.Â¶ÇÊûúÂÜçÊ¨°Ëß¶ÂèëÂûÉÂúæÂõûÊî∂ÔºåÊ≠§Êó∂‰∏äÊ¨°Âπ∏Â≠ò‰∏ãÊù•ÁöÑÊîæÂà∞Âπ∏Â≠òËÄÖ0Âå∫ÁöÑÔºåÂ¶ÇÊûúÊ≤°ÊúâÂõûÊî∂ÔºåÂ∞±‰ºöÊîæÂà∞Âπ∏Â≠òËÄÖ1Âå∫„ÄÇ 5.Â¶ÇÊûúÂÜçÊ¨°ÁªèÂéÜÂûÉÂúæÂõûÊî∂ÔºåÊ≠§Êó∂‰ºöÈáçÊñ∞ÊîæÂõûÂπ∏Â≠òËÄÖ0Âå∫ÔºåÊé•ÁùÄÂÜçÂéªÂπ∏Â≠òËÄÖ1Âå∫ 6.Âï•Êó∂ÂÄôËÉΩÂéªÂÖªËÄÅÂå∫Âë¢ÔºüÂèØ‰ª•ËÆæÁΩÆÊ¨°Êï∞„ÄÇÈªòËÆ§ÊòØ15Ê¨°„ÄÇÂèØ‰ª•ËÆæÁΩÆÂèÇÊï∞Ôºö-XX: MaxTenuringThreshold=ËøõË°åËÆæÁΩÆ„ÄÇ ÊÄªÁªì ÈíàÂØπÂπ∏Â≠òËÄÖs0,s1Âå∫ÁöÑÊÄªÁªìÔºöÂ§çÂà∂‰πãÂêéÊúâ‰∫§Êç¢ÔºåË∞ÅÁ©∫Ë∞ÅÊòØTo ÂÖ≥‰∫éÂûÉÂúæÂõûÊî∂ÔºöÈ¢ëÁπÅÂú®Êñ∞ÁîüÂå∫Êî∂ÈõÜÔºåÂæàÂ∞ëÂú®ÂÖªËÄÅÂå∫Êî∂ÈõÜÔºåÂá†‰πé‰∏çÂú®Ê∞∏‰πÖÂå∫/ÂÖÉÁ©∫Èó¥Êî∂ÈõÜ„ÄÇ 2.ÁâπÊÆäÊÉÖÂÜµ 6.Â∏∏Áî®Ë∞É‰ºòÂ∑•ÂÖ∑ „ÉªJDKÂëΩ‰ª§Ë°å Ecllpse: Memory Analyzer Tool Jconsole Visualvm Jprofiler Java Flight Recorder GCVlewer GC Easy 7.Minor GC„ÄÅ Maior GC„ÄÅ Full GC JVMÂú®ËøõË°åGCÊó∂ÔºåÂπ∂ÈùûÊØèÊ¨°ÈÉΩÂØπ‰∏äÈù¢‰∏â‰∏™ÂÜÖÂ≠ò(Êñ∞Áîü‰ª£„ÄÅËÄÅÂπ¥‰ª£„ÄÅÊñπÊ≥ïÂå∫)Âå∫Âüü‰∏ÄËµ∑ÂõûÊî∂ÁöÑÔºåÂ§ßÈÉ®ÂàÜÊó∂ÂÄôÂõûÊî∂ÁöÑÈÉΩÊòØÊåáÊñ∞Áîü‰ª£„ÄÇ ÈíàÂØπ HotSpot VMÁöÑÂÆûÁé∞ÔºåÂÆÉÈáåÈù¢ÁöÑGCÊåâÁÖßÂõûÊî∂Âå∫ÂüüÂèàÂàÜ‰∏∫‰∏§Â§ßÁßçÁ±ªÂûãÔºö‰∏ÄÁßçÊòØÈÉ®ÂàÜÊî∂ÈõÜ( Partial GC),‰∏ÄÁßçÊòØÊï¥Â†ÜÊî∂ÈõÜ(Full GC) ÈÉ®ÂàÜÊî∂ÈõÜÔºö‰∏çÊòØÂÆåÊï¥Êî∂ÈõÜÊï¥‰∏™JAVAÂ†ÜÁöÑÂûÉÂúæÊî∂ÈõÜ„ÄÇÂÖ∂‰∏≠ÂèàÂàÜ‰∏∫Ôºö Êñ∞Áîü‰ª£Êî∂ÈõÜ( Minor GC / Young GC):Âè™ÊòØÊñ∞Áîü‰ª£ÁöÑÂûÉÂúæÊî∂ÈõÜ ËÄÅÂπ¥‰ª£Êî∂ÈõÜ( Major GC / Old GC):Âè™ÊòØËÄÅÂπ¥‰ª£ÁöÑÂûÉÂúæÊî∂ÈõÜ ÁõÆÂâçÔºåÂè™Êúâ CMS GC‰ºöÊúâÂçïÁã¨Êî∂ÈõÜËÄÅÂπ¥‰ª£ÁöÑË°å‰∏∫„ÄÇ Ê≥®ÊÑèÔºåÂæàÂ§öÊó∂ÂÄô Major GC ‰ºöÂíå Full GCÊ∑∑Ê∑Ü‰ΩøÁî®ÔºåÈúÄË¶ÅÂÖ∑‰ΩìÂàÜËæ®ÊòØËÄÅÂπ¥‰ª£ÂõûÊî∂ËøòÊòØÊï¥Â†ÜÂõûÊî∂„ÄÇ Ê∑∑ÂêàÊî∂ÈõÜ( Mixed GC):Êî∂ÈõÜÊï¥‰∏™Êñ∞Áîü‰ª£‰ª•ÂèäÈÉ®ÂàÜËÄÅÂπ¥‰ª£ÁöÑÂûÉÂúæÊî∂ÈõÜ„ÄÇ ÁõÆÂâçÔºåÂè™ÊúâG1 GC‰ºöÊúâËøôÁßçË°å‰∏∫ Êï¥Â†ÜÊî∂ÈõÜ(Full GC):Êî∂ÈõÜÊï¥‰∏™javaÂ†ÜÂíåÊñπÊ≥ïÂå∫ÁöÑÂûÉÂúæÊî∂ÈõÜ„ÄÇ 1.Âπ¥ËΩª‰ª£GC( Minor GC)Ëß¶ÂèëÊú∫Âà∂Ôºö ‚Äã ÂΩìÂπ¥ËΩª‰ª£Á©∫Èó¥‰∏çË∂≥Êó∂ÔºåÂ∞±‰ºöËß¶Âèë Minor GC,ËøôÈáåÁöÑÂπ¥ËΩª‰ª£Êª°ÊåáÁöÑÊòØ Eden‰ª£Êª°Ôºå SurvivorÊª°‰∏ç‰ºöÂºïÂèëGC.(ÊØèÊ¨° Minor GC‰ºöÊ∏ÖÁêÜÂπ¥ËΩª‰ª£ÁöÑÂÜÖÂ≠ò„ÄÇÔºâ ‚Äã Âõ†‰∏∫JavaÂØπË±°Â§ßÂ§öÈÉΩÂÖ∑Â§áÊúùÁîüÂ§ïÁÅ≠ÁöÑÁâπÊÄßÔºåÊâÄ‰ª• Minor GCÈùûÂ∏∏È¢ëÁπÅÔºå‰∏ÄËà¨ÂõûÊî∂ÈÄüÂ∫¶‰πüÊØîËæÉÂø´„ÄÇËøô‰∏ÄÂÆö‰πâÊó¢Ê∏ÖÊô∞ÂèàÊòì‰∫éÁêÜËß£„ÄÇ ‚Äã Minor GC‰ºöÂºïÂèëSTW,ÊöÇÂÅúÂÖ∂ÂÆÉÁî®Êà∑ÁöÑÁ∫øÁ®ãÔºåÁ≠âÂûÉÂúæÂõûÊî∂ÁªìÊù±ÔºåÁî®Êà∑Á∫øÁ®ãÊâçÊÅ¢Â§çËøêË°å„ÄÇ 2.ËÄÅÂπ¥‰ª£GC( Major GC / Full GC) Ëß¶ÂèëÊú∫Âà∂ ÊåáÂèëÁîüÂú®ËÄÅÂπ¥‰ª£ÁöÑGC,ÂØπË±°‰ªéËÄÅÂπ¥‰ª£Ê∂àÂ§±Êó∂ÔºåÊàë‰ª¨ËØ¥‚Äú Major GC‚ÄùÊàñ‚ÄúFull GC‚ÄùÂèëÁîü‰∫Ü„ÄÇ Âá∫Áé∞‰∫Ü Major GC,ÁªèÂ∏∏‰ºö‰º¥ÈöèËá≥Â∞ë‰∏ÄÊ¨°ÁöÑ Minor GC(‰ΩÜÈùûÁªùÂØπÁöÑÔºåÂú®Parallel ScavengeÊî∂ÈõÜÂô®ÁöÑÊî∂ÈõÜÁ≠ñÁï•ÈáåÂ∞±ÊúâÁõ¥Êé•ËøõË°å Major GCEÁöÑÁ≠ñÁï•ÈÄâÊã©ËøáÁ®ãÔºâ ‰πüÂ∞±ÊòØÂú®ËÄÅÂπ¥‰ª£Á©∫Èó¥‰∏çË∂≥Êó∂Ôºå‰ºöÂÖàÂ∞ùËØïËß¶Âèë Minor GC„ÄÇÂ¶ÇÊûú‰πãÂêéÁ©∫Èó¥Ëøò‰∏çË∂≥ÔºåÂàôËß¶Âèë Major GC„ÄÇ Major GCÁöÑÈÄüÂ∫¶‰∏ÄËà¨‰ºöÊØî Minor GC ÊÖ¢10ÂÄç‰ª•‰∏äÔºåSTW ÁöÑÊó∂Èó¥Êõ¥Èïø„ÄÇ Â¶ÇÊûú Major GCÂêéÔºåÂÜÖÂ≠òËøò‰∏çË∂≥ÔºåÂ∞±Êä•OOM‰∫Ü Major GC ÁöÑÈÄüÂ∫¶‰∏ÄËà¨‰ºöÊØî Minor GCÊÖ¢10ÂÄç‰ª•‰∏ä„ÄÇ 3.Full GC Ëß¶ÂèëÊú∫Âà∂ÔºöÔºàÂêéÈù¢ÁªÜËÆ≤Ëß¶ÂèëFull GCÊâßË°åÁöÑÊÉÖÂÜµÊúâÂ¶Ç‰∏ã‰∫îÁßçÔºö (1)Ë∞ÉÁî® System.GCÔºàÔºâÊó∂ÔºåÁ≥ªÁªüÂª∫ËÆÆÊâßË°åFull GC,‰ΩÜÊòØ‰∏çÂøÖÁÑ∂ÊâßË°å (2)ËÄÅÂπ¥‰ª£Á©∫Èó¥‰∏çË∂≥ (3)ÊñπÊ≥ïÂå∫Á©∫Èó¥‰∏çË∂≥ (4)ÈÄöËøá Minor GCÂêéËøõÂÖ•ËÄÅÂπ¥‰ª£ÁöÑÂπ≥ÂùáÂ§ßÂ∞èÂ§ß‰∫éËÄÅÂπ¥‰ª£ÁöÑÂèØÁî®ÂÜÖÂ≠ò (5)Áî±EdenÂå∫„ÄÅ survivor space0( From Space)Âå∫Âêë survivor space1(To Space)Âå∫Â§çÂà∂Êó∂ÔºåÂØπË±°Â§ßÂ∞èÂ§ß‰∫é To SpaceÂèØÁî®ÂÜÖÂ≠òÔºåÂàôÊääËØ•ÂØπË±°ËΩ¨Â≠òÂà∞ËÄÅÂπ¥‰ª£Ôºå‰∏îËÄÅÂπ¥‰ª£ÁöÑÂèØÁî®ÂÜÖÂ≠òÂ∞è‰∫éËØ•ÂØπË±°Â§ßÂ∞è ËØ¥ÊòéÔºöFull GCÊòØÂºÄÂèëÊàñË∞É‰ºò‰∏≠Â∞ΩÈáèË¶ÅÈÅøÂÖçÁöÑ„ÄÇËøôÊ†∑ÊöÇÊó∂Êó∂Èó¥‰ºöÁü≠‰∏Ä‰∫õ„ÄÇ 8.GC‰∏æ‰æã‰∏éÊó•ÂøóÂàÜÊûê Ê∑ªÂä†ÂèÇÊï∞Ôºö-XX:PrintGCDetails Êü•ÁúãÊó•ÂøóÔºö 9.Â†ÜÁ©∫Èó¥ÂàÜ‰ª£ÊÄùÊÉ≥ ‰∏∫‰ªÄ‰πàÈúÄË¶ÅÊääJavaÂ†ÜÂàÜ‰ª£Ôºü‰∏çÂàÜ‰ª£Â∞±‰∏çËÉΩÊ≠£Â∏∏Â∑•‰Ωú‰∫ÜÂêóÔºü ÂÖ∂ÂÆû‰∏çÂàÜ‰ª£ÂÆåÂÖ®ÂèØ‰ª•ÔºåÂàÜ‰ª£ÁöÑÂîØ‰∏ÄÁêÜÁî±Â∞±ÊòØ‰ºòÂåñGCÊÄßËÉΩ„ÄÇÂ¶ÇÊûúÊ≤°ÊúâÂàÜ‰ª£ÔºåÈÇ£ÊâÄÊúâÁöÑÂØπË±°ÈÉΩÂú®‰∏ÄÂùóÔºåÂ∞±Â¶ÇÂêåÊää‰∏Ä‰∏™Â≠¶Ê†°ÁöÑ‰∫∫ÈÉΩÂÖ≥Âú®‰∏Ä‰∏™ÊïôÂÆ§„ÄÇGCÁöÑÊó∂ÂÄôË¶ÅÊâæÂà∞Âì™‰∫õÂØπË±°Ê≤°Áî®ÔºåËøôÊ†∑Â∞±‰ºöÂØπÂ†ÜÁöÑÊâÄÊúâÂå∫ÂüüËøõË°åÊâ´Êèè„ÄÇËÄåÂæàÂ§öÂØπË±°ÈÉΩÊòØÊúùÁîüÂ§ïÊ≠ªÁöÑÔºåÂ¶ÇÊûúÂàÜ‰ª£ÁöÑËØùÔºåÊääÊñ∞ÂàõÂª∫ÁöÑÂØπË±°ÊîæÂà∞Êüê‰∏ÄÂú∞ÊñπÔºåÂΩìGCÁöÑÊó∂ÂÄôÂÖàÊääËøôÂùóÂ≠òÂÇ®‚ÄúÊúùÁîüÂ§ïÊ≠ª‚ÄùÂØπË±°ÁöÑÂå∫ÂüüËøõË°åÂõûÊî∂ÔºåËøôÊ†∑Â∞±‰ºöËÖæÂá∫ÂæàÂ§ßÁöÑÁ©∫Èó¥Âá∫Êù•„ÄÇ 10.ÂÜÖÂ≠òÂàÜÈÖçÁ≠ñÁï•ÔºàÂØπË±°ÊèêÂçá„ÄêPromotion„ÄëËßÑÂàôÔºâ ‚Äã Â¶ÇÊûúÂØπË±°Âú® Eden Âá∫ÁîüÂπ∂ÁªèËøáÁ¨¨‰∏ÄÊ¨° Miinor GC Âêé‰ªçÁÑ∂Â≠òÊ¥ªÔºåÂπ∂‰∏îËÉΩË¢´ Survivor ÂÆπÁ∫≥ÁöÑËØùÔºåÂ∞ÜË¢´ÁßªÂä®Âà∞ Survivor Á©∫Èó¥‰∏≠ÔºåÂπ∂Â∞ÜÂØπË±°Âπ¥ÈæÑËÆæ‰∏∫1„ÄÇÂØπË±° SurvivorÂå∫‰∏≠ÊØèÁÜ¨Ëøá‰∏ÄÊ¨° MInorGC,Âπ¥ÈæÑÂ∞±Â¢ûÂä†1Â≤ÅÔºåÂΩìÂÆÉÁöÑÂπ¥ÈæÑÂ¢ûÂä†Âà∞‰∏ÄÂÆöÁ®ãÂ∫¶(ÈªòËÆ§‰∏∫15Â≤ÅÔºåÂÖ∂ÂÆûÊØè‰∏™JVM„ÄÅÊØè‰∏™GCÈÉΩÊúâÊâÄ‰∏çÂêå)Êó∂ÔºåÂ∞±‰ºöË¢´ÊôãÂçáÂà∞ËÄÅÂπ¥‰ª£‰∏≠„ÄÇÂØπË±°ÊôãÂçáËÄÅÂπ¥‰ª£ÁöÑÂπ¥ÈæÑÈòàÂÄºÔºåÂèØ‰ª•ÈÄöËøáÈÄâÈ°π**-XX: MaxTenuringThreshold**Êù•ËÆæÁΩÆ„ÄÇ ÈíàÂØπ‰∏çÂêåÂπ¥ÈæÑÊÆµÁöÑÂØπË±°ÂàÜÈÖçÂéüÂàôÂ¶Ç‰∏ãÊâÄÁ§∫Ôºö ‰ºòÂÖàÂàÜÈÖçÂà∞Eden„ÄÇ Â§ßÂØπË±°Áõ¥Êé•ÂàÜÈÖçÂà∞ËÄÅÂπ¥‰ª£„ÄÇ Â∞ΩÈáèÈÅøÂÖîÁ®ãÂ∫è‰∏≠Âá∫Áé∞ËøáÂ§öÁöÑÂ§ßÂØπË±°„ÄÇ ÈïøÊúüÂ≠òÊ¥ªÁöÑÂØπË±°ÂàÜÈÖçÂà∞ËÄÅÂπ¥‰ª£„ÄÇ Âä®ÊÄÅÂØπË±°Âπ¥ÈæÑÂà§Êñ≠ Â¶ÇÊûú SurvivorÂå∫‰∏≠Áõ∏ÂêåÂπ¥ÈæÑÁöÑÊâÄÊúâÂØπË±°Â§ßÂ∞èÁöÑÊÄªÂíåÂ§ß‰∫é SurvivorÁ©∫Èó¥ÁöÑ‰∏ÄÂçäÔºåÂπ¥ÈæÑÂ§ß‰∫éÊàñÁ≠â‰∫éËØ•Âπ¥ÈæÑÁöÑÂØπË±°ÂèØ‰ª•Áõ¥Êé•ËøõÂÖ•ËÄÅÂπ¥‰ª£ÔºåÊó†È°ªÁ≠âÂà∞ MaxTenuringThreshold‰∏≠Ë¶ÅÊ±ÇÁöÑÂπ¥ÈæÑ Á©∫Èó¥ÂàÜÈÖçÊãÖ‰øùÔºö -XX: HandlePromotionFailure 11.ÂØπË±°ÂàÜÈÖçËøáÁ®ãÔºöTLAB 1.‰∏∫‰ªÄ‰πàÊúâTLAB( Thread Local Allocation Buffer)? üéß Â†ÜÂå∫ÊòØÁ∫øÁ®ãÂÖ±‰∫´Âå∫ÂüüÔºå‰ªª‰ΩïÁ∫øÁ®ãÈÉΩÂèØ‰ª•ËÆøÈóÆÂà∞Â†ÜÂå∫‰∏≠ÁöÑÂÖ±‰∫´Êï∞ÊçÆ üéß Áî±‰∫éÂØπË±°ÂÆû‰æãÁöÑÂàõÂª∫Âú®JVM‰∏≠ÈùûÂ∏∏È¢ëÁπÅÔºåÂõ†Ê≠§Âú®Âπ∂ÂèëÁéØÂ¢É‰∏ã‰ªéÂ†ÜÂå∫‰∏≠ÂàíÂàÜÂÜÖÂ≠òÁ©∫Èó¥ÊòØÁ∫øÁ®ã‰∏çÂÆâÂÖ®ÁöÑ üéß ‰∏∫ÈÅøÂÖçÂ§ö‰∏™Á∫øÁ®ãÊìç‰ΩúÂêå‰∏ÄÂú∞ÂùÄÔºåÈúÄË¶Å‰ΩøÁî®Âä†ÈîÅÁ≠âÊú∫Âà∂ÔºåËøõËÄåÂΩ±ÂìçÂàÜÈÖçÈÄüÂ∫¶„ÄÇ 2.‰ªÄ‰πàÊòØTLAB? üêú ‰ªéÂÜÖÂ≠òÊ®°ÂûãËÄå‰∏çÊòØÂûÉÂúæÊî∂ÈõÜÁöÑËßíÂ∫¶ÔºåÂØπEdenÂå∫ÂüüÁªßÁª≠ËøõË°åÂàíÂàÜÔºåJVM‰∏∫ÊØè‰∏™Á∫øÁ®ãÂàÜÈÖç‰∫Ü‰∏Ä‰∏™ÁßÅÊúâÁºìÂ≠òÂå∫ÂüüÔºåÂÆÉÂåÖÂê´Âú®EdenÁ©∫Èó¥ÂÜÖ üêú Â§öÁ∫øÁ®ãÂêåÊó∂ÂàÜÈÖçÂÜÖÂ≠òÊó∂Ôºå‰ΩøÁî®TLABÂèØ‰ª•ÈÅøÂÖç‰∏ÄÁ≥ªÂàóÁöÑÈùûÁ∫øÁ®ãÂÆâÂÖ®ÈóÆÈ¢òÔºåÂêåÊó∂ËøòËÉΩÂ§üÊèêÂçáÂÜÖÂ≠òÂàÜÈÖçÁöÑÂêûÂêêÈáèÔºåÂõ†Ê≠§Êàë‰ª¨ÂèØ‰ª•Â∞ÜËøôÁßçÂÜÖÂ≠òÂàÜÈÖçÊñπÂºèÁß∞‰πã‰∏∫Âø´ÈÄüÂàÜÈÖçÁ≠ñÁï•„ÄÇ üêú ÊçÆÊàëÊâÄÁü•ÊâÄÊúâ OPENJDKË°åÁîüÂá∫Êù•ÁöÑJVMÈÉΩÊèê‰æõ‰∫ÜTLABÁöÑËÆæËÆ° üêú Â∞ΩÁÆ°‰∏çÊòØÊâÄÊúâÁöÑÂØπË±°ÂÆû‰æãÈÉΩËÉΩÂ§üÂú®TLAB‰∏≠ÊàêÂäüÂàÜÈÖçÂÜÖÂ≠òÔºå‰ΩÜJVMÁ°ÆÂÆûÊòØÂ∞ÜTLAB‰Ωú‰∏∫ÂÜÖÂ≠òÂàÜÈÖçÁöÑÈ¶ñÈÄâ„ÄÇ üêú Âú®Á®ãÂ∫è‰∏≠ÔºåÂºÄÂèë‰∫∫ÂëòÂèØ‰ª•ÈÄöËøáÈÄâÈ°π‚Äú-XX: USETLAB‚ÄùËÆæÁΩÆÊòØÂê¶ÂºÄÂêØTLABÁ©∫Èó¥„ÄÇ üêú ÈªòËÆ§ÊÉÖÂÜµ‰∏ãÔºåTLABÁ©∫Èó¥ÁöÑÂÜÖÂ≠òÈùûÂ∏∏Â∞èÔºå‰ªÖÂç†ÊúâÊï¥‰∏™EdenÁ©∫Èó¥ÁöÑ1%,ÂΩìÁÑ∂Êàë‰ª¨ÂèØ‰ª•ÈÄöËøáÈÄâÈ°π‚Äú-XX: TLABWasteTargetPercent‚ÄùËÆæÁΩÆTLABÁ©∫Èó¥ÊâÄÂç†Áî®EdenÁ©∫Èó¥ÁöÑÁôæÂàÜÊØîÂ§ßÂ∞è„ÄÇ üêú ‰∏ÄÊó¶ÂØπË±°Âú®ABÁ©∫Èó¥ÂàÜÈÖçÂÜÖÂ≠òÂ§±Ë¥•Êó∂ÔºåJVMÂ∞±‰ºöÂ∞ùËØïÁùÄÈÄöËøá‰ΩøÁî®Âä†ÈîÅÊú∫Âà∂Á°Æ‰øùÊï∞ÊçÆÊìç‰ΩúÁöÑÂéüÂ≠êÊÄßÔºå‰ªéËÄåÁõ¥Êé•Âú®EdenÁ©∫Èó¥‰∏≠ÂàÜÈÖçÂÜÖÂ≠ò„ÄÇ 12.Â†ÜÁ©∫Èó¥Â∏∏ËßÅÂèÇÊï∞ -XX: +PrintFlagsInitial:Êü•ÁúãÊâÄÊúâÁöÑÂèÇÊï∞ÁöÑÈªòËÆ§ÂàùÂßãÂÄº -XX: +PrintFlagsFinal:Êü•ÁúãÊâÄÊúâÁöÑÂèÇÊï∞ÁöÑÊúÄÁªàÂÄºÔºàÂèØËÉΩ‰ºöÂ≠òÂú®‰øÆÊîπÔºå‰∏çÂÜçÊòØÂàùÂßãÂÄº) -Xms:ÂàùÂßãÈõÑÁ©∫ÂêëÂÜÖÂ≠ò(ÈªòËÆ§‰∏∫Áâ©ÁêÜÂÜÖÂ≠òÁöÑ1/64) -Xmx:ÊúÄÂ§ßÈõÑÁ©∫Èó¥ÂÜÖÂ≠ò(ÈªòËÆ§‰∏∫Áâ©ÁêÜÂÜÖÂ≠òÁöÑ1/4) -Xmn:ËÆæÁΩÆÊñ∞Áîü‰ª£ÁöÑÂ§ßÂ∞è„ÄÇÔºàÂàùÂßãÂÄºÂèäÊúÄÂ§ßÂÄºÔºâ -XX: NewRatio:ÈÖçÁΩÆÊñ∞Áîü‰ª£‰∏éËÄÅÂπ¥‰ª£Âú®Â†ÜÁªìÊûÑÁöÑÂç†ÊØî -XX: SurvivorRatio:ËÆæÁΩÆÊñ∞Áîü‰ª£‰∏≠EdenÂíåS0/S1Á©∫Èó¥ÊØî‰æã -XX: MaxTenuringThreshold:ËÆæÁΩÆÊñ∞Áîü‰ª£ÂûÉÊâ±ÁöÑÊúÄÂ§ßÂπ¥ÈæÑ -XX: +PrintGCdetails:ËæìÂá∫ËØ¶ÁªÜGCÂ§ÑÁêÜÊó•Âøó ÊâìÂç∞Á≠íË¶Å‰ø°ÊÅØÔºöüåû -XX: +PrintGC üåû - verbose:GC -XX: HandlePromotionFailure:ÊòØÂê¶ËÆæÁΩÆÁ©∫ÈóÆÂàÜÈÖçÊãÖ‰øù ÊòØÂê¶ËÆæÁΩÆÁ©∫ÈóÆÂàÜÈÖçÊãÖ‰øùÔºüÔºö Âú®ÂèëÁîü Minor GC‰πãÂâçÔºåËôöÊãüÊú∫‰ºöÊ£ÄÊü•ËÄÅÂπ¥‰ª£ÊúÄÂ§ßÂèØÁî®ÁöÑËøûÁª≠Á©∫Èó¥ÊòØÂê¶Â§ß‰∫éÊñ∞Áîü‰ª£ÊâÄÊúâÂØπË±°ÁöÑÊÄªÁ©∫Èó¥„ÄÇ Â¶ÇÊûúÂ§ß‰∫éÔºåÂàôÊ≠§Ê¨° Minor GCÊòØÂÆâÂÖ®ÁöÑ Â¶ÇÊûúÂ∞è‰∫éÔºåÂàôËôöÊãüÊú∫‰ºöÊü•Áúã„ÉºXX: HandlePromotionFailureËÆæÁΩÆÂÄºÊòØÂê¶ÂÖÅËÆ∏ÊãÖ‰øùÂ§±Ë¥•„ÄÇ Â¶ÇÊûú HandlepromotionFailure=true,ÈÇ£‰πà‰ºöÁªßÁª≠Ê£ÄÊü•ËÄÅÂπ¥‰ª£ÊúÄÂ§ßÂèØÁî®ËøûÁª≠Á©∫Èó¥ÊòØÂê¶Â§ß‰∫éÂéÜÊ¨°ÊôãÂçáÂà∞ËÄÅÂπ¥‰ª£ÁöÑÂØπË±°ÁöÑÂπ≥ÂùáÂ§ßÂ∞è„ÄÇ Â¶ÇÊûúÂ§ß‰∫éÔºåÂàôÂ∞ùËØïËøõË°å‰∏ÄÊ¨° Minor GC,‰ΩÜËøôÊ¨° Minor GC‰æùÁÑ∂ÊòØÊúâÈ£éÈô©ÁöÑ„ÄÇ Â¶ÇÊûúÂ∞è‰∫éÔºåÂàôÊîπ‰∏∫ËøõË°å‰∏ÄÊ¨°Full GC„ÄÇ Â¶ÇÊûú HandlePromotionFalure= false,ÂàôÊîπ‰∏∫ËøõË°å‰∏ÄÊ¨°Full GC„ÄÇ Âú®JDK6 Update24‰πãÂêéÔºå HandlePromotionFailure ÂèÇÊï∞‰∏ç‰ºöÂÜçÂΩ±ÂìçÂà∞ËôöÊãüÊú∫ÁöÑÁ©∫Èó¥ÂàÜÈÖçÊãÖ‰øùÁ≠ñÁï•ÔºåËßÇÂØü OpenJDK‰∏≠ÁöÑÊ∫êÁ†ÅÂèòÂåñÔºåËôΩÁÑ∂Ê∫êÁ†Å‰∏≠ËøòÂÆö‰πâ‰∫ÜHandlePromotionFailure ÂèÇÊï∞Ôºå‰ΩÜÊòØÂú®‰ª£Á†Å‰∏≠Â∑≤Áªè‰∏ç‰ºöÂÜç‰ΩøÁî®ÂÆÉ„ÄÇJDK6 Update24‰πãÂêéÁöÑËßÑÂàôÂèò‰∏∫ Âè™Ë¶ÅËÄÅÂπ¥‰ª£ÁöÑËøûÁª≠Á©∫Èó¥Â§ß‰∫éÊñ∞Áîü‰ª£ÂØπË±°ÊÄªÂ§ßÂ∞èÊàñËÄÖÂéÜÊ¨°ÊôãÂçáÁöÑÂπ≥ÂùáÂ§ßÂ∞è Â∞±‰ºöËøõË°å Minor GC,Âê¶ÂàôÂ∞ÜËøõË°åFull GC„ÄÇ 13.ÈÄöËøáÈÄÉÈÄ∏ÂàÜÊûêÁúãÂ†ÜÁ©∫Èó¥ÁöÑÂØπË±°ÂàÜÈÖç Â†ÜÊòØÂàÜÈÖçÂØπË±°Â≠òÂÇ®ÁöÑÂîØ‰∏ÄÈÄâÊã©ÂêóÔºü ‚Äã Âú®„ÄäÊ∑±ÂÖ•ÁêÜËß£JavaËôöÊãüÊú∫„Äã‰∏≠ÂÖ≥‰∫éJavaÂ†ÜÂÜÖÂ≠òÊúâËøôÊ†∑‰∏ÄÊÆµÊèèËø∞ÔºöÈöèÁùÄJITÁºñËØëÊúüÁöÑÂèëÂ±ï‰∏éÈÄÉÈÄ∏ÂàÜÊûêÊäÄÊúØÈÄêÊ∏êÊàêÁÜüÔºåÊ†à‰∏äÂàÜÈÖç„ÄÅÊ†áÈáèÊõøÊç¢‰ºòÂåñÊäÄÊúØÂ∞Ü‰ºöÂØºËá¥‰∏Ä‰∫õÂæÆÂ¶ôÁöÑÂèòÂåñÔºåÊâÄÊúâÁöÑÂØπË±°ÈÉΩÂàÜÈÖçÂà∞Â†Ü‰∏ä‰πüÊ∏êÊ∏êÂèòÂæó‰∏çÈÇ£‰πà‚ÄúÁªùÂØπ‚Äù‰∫Ü„ÄÇÂú®JavaËôöÊãüÊú∫‰∏≠ÔºåÂØπË±°ÊòØÂú®JavaÂ†Ü‰∏≠ÂàÜÈÖçÂÜÖÂ≠òÁöÑÔºåËøôÊòØ‰∏Ä‰∏™ÊôÆÈÅçÁöÑÂ∏∏ËØÜ„ÄÇ‰ΩÜÊòØÔºåÊúâÁßçÁâπÊÆäÊÉÖÂÜµÔºåÈÇ£Â∞±ÊòØÂ¶ÇÊûúÁªèËøáÈÄÉÈÄ∏ÂàÜÊûê( Escape Analysis)ÂêéÂèëÁé∞Ôºå‰∏Ä‰∏™ÂØπË±°Âπ∂Ê≤°ÊúâÈÄÉÈÄ∏Âá∫ÊñπÊ≥ï**„ÄêNEWÁöÑÂØπË±°ÊòØÂê¶ÊúâÂèØËÉΩÂú®ÊñπÊ≥ïÂ§ñË¢´Ë∞ÉÁî®ÔºåË∞ÉÁî®ÂàôÂèëÁîüÈÄÉÈÄ∏„Äë**ÁöÑËØùÔºåÈÇ£‰πàÂ∞±ÂèØËÉΩË¢´‰ºòÂåñÊàêÊ†à‰∏äÂàÜÈÖç„ÄÇËøôÊ†∑Â∞±Êó†ÈúÄÂú®Â†Ü‰∏äÂàÜÈÖçÂÜÖÂ≠òÔºå‰πüÊó†È°ªËøõË°åÂûÉÂúæÂõûÊî∂‰∫Ü„ÄÇËøô‰πüÊòØÊúÄÂ∏∏ËßÅÁöÑÂ†ÜÂ§ñÂ≠òÂÇ®ÊäÄÊúØ„ÄÇ ‚Äã Ê≠§Â§ñÔºåÂâçÈù¢ÊèêÂà∞ÁöÑÂü∫‰∫é OPENJDKÊ∑±Â∫¶ÂÆöÂà∂ÁöÑ TaoBaoVM,ÂÖ∂‰∏≠ÂàõÊñ∞ÁöÑGCIH(GCinvisible heap)ÊäÄÊúØÂÆûÁé∞„ÄÇoff-heap,Â∞ÜÁîüÂëΩÂë®ÊúüËæÉÈïøÁöÑJavaÂØπË±°‰ªéheap‰∏≠ÁßªËá≥heapÂ§ñÔºåÂπ∂‰∏îGC‰∏çËÉΩÁÆ°ÁêÜGCIHÂÜÖÈÉ®ÁöÑJavaÂØπË±°Ôºå‰ª•Ê≠§ËææÂà∞Èôç‰ΩéGCÁöÑÂõûÊî∂È¢ëÁéáÂíåÊèêÂçáGCÁöÑÂõûÊî∂ÊïàÁéáÁöÑÁõÆÁöÑ„ÄÇ [Â†Ü‰∏çÊòØÂàÜÈÖçÂØπË±°Â≠òÂÇ®ÁöÑÂîØ‰∏ÄÈÄâÊã©Âêó](# 4.Â†Ü‰∏çÊòØÂàÜÈÖçÂØπË±°Â≠òÂÇ®ÁöÑÂîØ‰∏ÄÈÄâÊã©Âêó) Â¶Ç‰ΩïÂ∞ÜÂ†Ü‰∏äÁöÑÂØπË±°ÂàÜÈÖçÂà∞Ê†àÔºåÈúÄË¶Å‰ΩøÁî®ÈÄÉÈÄ∏ÂàÜÊûêÊâãÊÆµ„ÄÇ ËøôÊòØ‰∏ÄÁßçÂèØ‰ª•ÊúâÊïàÂáèÂ∞ëJavaÁ®ãÂ∫è‰∏≠ÂêåÊ≠•Ë¥üËΩΩÂíåÂÜÖÂ≠òÂ†ÜÂàÜÈÖçÂéãÂäõÁöÑË∑®ÂáΩÊï∞ÂÖ®Â±ÄÊï∞ÊçÆÊµÅÂàÜÊûêÁÆóÊ≥ï„ÄÇÈÄöËøáÈÄÉÈÄ∏ÂàÜÊûêÔºå Java HotspotÁºñËØëÂô®ËÉΩÂ§üÂàÜÊûêÂá∫‰∏Ä‰∏™Êñ∞ÁöÑÂØπË±°ÁöÑÂºïÁî®ÁöÑ‰ΩøÁî®ËåÉÂõ¥‰ªéËÄåÂÜ≥ÂÆöÊòØÂê¶Ë¶ÅÂ∞ÜËøô‰∏™ÂØπË±°ÂàÜÈÖçÂà∞Â†Ü‰∏ä„ÄÇ ÈÄÉÈÄ∏ÂàÜÊûêÁöÑÂü∫Êú¨Ë°å‰∏∫Â∞±ÊòØÂàÜÊûêÂØπË±°Âä®ÊÄÅ‰ΩúÁî®ÂüüÔºö ÂΩì‰∏Ä‰∏™ÂØπË±°Âú®ÊñπÊ≥ï‰∏≠Ë¢´ÂÆö‰πâÂêéÔºåÂØπË±°Âè™Âú®ÊñπÊ≥ïÂÜÖÈÉ®‰ΩøÁî®ÔºåÂàôËÆ§‰∏∫Ê≤°ÊúâÂèëÁîüÈÄÉÈÄ∏„ÄÇ ÂΩì‰∏Ä‰∏™ÂØπË±°Âú®ÊñπÊ≥ï‰∏≠Ë¢´ÂÆö‰πâÂêéÔºåÂÆÉË¢´Â§ñÈÉ®ÊñπÊ≥ïÊâÄÂºïÁî®ÔºåÂàôËÆ§‰∏∫ÂèëÁîüÈÄÉÈÄ∏„ÄÇ‰æãÂ¶Ç‰Ωú‰∏∫Ë∞ÉÁî®ÂèÇÊï∞‰º†ÈÄíÂà∞ÂÖ∂‰ªñÂú∞Êñπ‰∏≠„ÄÇ ÂèÇÊï∞ËÆæÁΩÆÔºö „ÉªÂú®JDK6u23ÁâàÊú¨‰πãÂêéÔºå HotSpot‰∏≠ÈªòËÆ§Â∞±Â∑≤ÁªèÂºÄÂêØ‰∫ÜÈÄÉÈÄ∏ÂàÜÊûê„ÄÇÂ¶ÇÊûú‰ΩøÁî®ÁöÑÊòØËæÉÊó©ÁöÑÁâàÊú¨ÔºåÂºÄÂèë‰∫∫ÂëòÂàôÂèØ‰ª•ÈÄöËøá ÈÄâÈ°π‚Äú-XX: Doescapeanalysis&quot;ÊòæÂºèÂºÄÂêØÈÄÉÈÄ∏ÂàÜÊûê ÈÄöËøáÈÄâÈ°π‚Äú-X: Printescapeanalysis&quot;Êü•ÁúãÈÄÉÈÄ∏ÂàÜÊûêÁöÑÁ≠õÈÄâÁªìÊûú ÁªìËÆ∫Ôºö ÂºÄÂèë‰∏≠ËÉΩ‰ΩøÁî®Â±ÄÈÉ®ÂèòÈáèÁöÑÔºåÂ∞±‰∏çË¶Å‰ΩøÁî®Âú®ÊñπÊ≥ïÂ§ñÂÆö‰πâ„ÄÇ 14.ÈÄÉÈÄ∏ÂàÜÊûêÔºö‰ª£Á†Å‰ºòÂåñ ‚Äã ‰ΩøÁî®ÈÄÉÈÄ∏ÂàÜÊûêÔºåÁºñËØëÂô®ÂèØ‰ª•ÂØπ‰ª£Á†ÅÂÅöÂ¶Ç‰∏ã‰ºòÂåñÔºö ‰∏Ä„ÄÅÊ†à‰∏äÂàÜÈÖç„ÄÇÂ∞ÜÂ†ÜÂàÜÈÖçËΩ¨Âåñ‰∏∫Ê†àÂàÜÈÖç„ÄÇÂ¶ÇÊûú‰∏Ä‰∏™ÂØπË±°Âú®Â≠êÁ®ãÂ∫è‰∏≠Ë¢´ÂàÜÈÖçÔºåË¶Å‰ΩøÊåáÂêëËØ•ÂØπË±°ÁöÑÊåáÈíàÊ∞∏Ëøú‰∏ç‰ºöÈÄÉÈÄ∏ÔºåÂØπË±°ÂèØËÉΩÊòØÊ†àÂàÜÈÖçÁöÑÂÄôÈÄâÔºåËÄå‰∏çÊòØÂ†ÜÂàÜÈÖç„ÄÇ ‰∫å„ÄÅÂêåÊ≠•ÁúÅÁï•„ÄÇÂ¶ÇÊûú‰∏Ä‰∏™ÂØπË±°Ë¢´ÂèëÁé∞Âè™ËÉΩ‰ªé‰∏Ä‰∏™Á∫øÁ®ãË¢´ËÆøÈóÆÂà∞ÔºåÈÇ£‰πàÂØπ‰∫éËøô‰∏™ÂØπË±°ÁöÑÊìç‰ΩúÂèØ‰ª•‰∏çËÄÉËôëÂêåÊ≠•„ÄÇ ‰∏â„ÄÅÂàÜÁ¶ªÂØπË±°ÊàñÊ†áÈáèÊõøÊç¢„ÄÇÊúâÁöÑÂØπË±°ÂèØËÉΩ‰∏çÈúÄË¶Å‰Ωú‰∏∫‰∏Ä‰∏™ËøûÁª≠ÁöÑÂÜÖÂ≠òÁªìÊûÑÂ≠òÂú®‰πüÂèØ‰ª•Ë¢´ËÆøÈóÆÂà∞ÔºåÈÇ£‰πàÂØπË±°ÁöÑÈÉ®ÂàÜÔºàÊàñÂÖ®ÈÉ®ÔºâÂèØ‰ª•‰∏çÂ≠òÂÇ®Âú®ÂÜÖÂ≠òÔºåËÄåÊòØÂ≠òÂÇ®Âú®CPUÂØÑÂ≠òÂô®‰∏≠„ÄÇ 1.Ê†à‰∏äÂàÜÈÖç ÂÆûÈ™åÔºö 1.-Xmx1G -Xms1G -XX:-DoEscapeAnalysis -XX:+PrintGCDetails 2.-Xmx1G -Xms1G -XX:+DoEscapeAnalysis -XX:+PrintGCDetails 3.-Xmx256m -Xms256m -XX:-DoEscapeAnalysis -XX:+PrintGCDetails 4.-Xmx256m -Xms256m -XX:+DoEscapeAnalysis -XX:+PrintGCDetails 1234567891011121314151617181920212223242526272829303132/** * Ê†à‰∏äÂàÜÈÖçÊµãËØï * -Xmx1G -Xms1G -XX:-DoEscapeAnalysis -XX:+PrintGCDetails * @author shkstart shkstart@126.com * @create 2020 10:31 */public class StackAllocation { public static void main(String[] args) { long start = System.currentTimeMillis(); for (int i = 0; i &lt; 10000000; i++) { alloc(); } // Êü•ÁúãÊâßË°åÊó∂Èó¥ long end = System.currentTimeMillis(); System.out.println(&quot;Ëä±Ë¥πÁöÑÊó∂Èó¥‰∏∫Ôºö &quot; + (end - start) + &quot; ms&quot;); // ‰∏∫‰∫ÜÊñπ‰æøÊü•ÁúãÂ†ÜÂÜÖÂ≠ò‰∏≠ÂØπË±°‰∏™Êï∞ÔºåÁ∫øÁ®ãsleep try { Thread.sleep(1000000); } catch (InterruptedException e1) { e1.printStackTrace(); } } private static void alloc() { User user = new User();//Êú™ÂèëÁîüÈÄÉÈÄ∏ } static class User { }} 2.ÂêåÊ≠•ÁúÅÁï•ÔºàÈîÅÊ∂àÈô§Ôºâ ‚Äã Á∫øÁ®ãÂêåÊ≠•ÁöÑ‰ª£‰ª∑ÊòØÁõ∏ÂΩìÈ´òÁöÑÔºåÂêåÊ≠•ÁöÑÂêéÊûúÊòØÈôç‰ΩéÂπ∂ÂèëÊÄßÂíåÊÄßËÉΩ„ÄÇ ‚Äã Âú®Âä®ÊÄÅÁºñËØëÂêåÊ≠•ÂùóÁöÑÊó∂ÂÄôÔºåJITÁºñËØëÂô®ÂèØ‰ª•ÂÄüÂä©ÈÄÉÈÄ∏ÂàÜÊûêÊù•Âà§Êñ≠ÂêåÊ≠•ÂùóÊâÄ‰ΩøÁî®ÁöÑÈîÅÂØπË±°ÊòØÂê¶Âè™ËÉΩÂ§üË¢´‰∏Ä‰∏™Á∫øÁ®ãËÆøÈóÆËÄåÊ≤°ÊúâË¢´ÂèëÂ∏ÉÂà∞ÂÖ∂‰ªñÁ∫øÁ®ã„ÄÇÂ¶ÇÊûúÊ≤°ÊúâÔºåÈÇ£‰πàJITÁºñËØëÂô®Âú®ÁºñËØëËøô‰∏™ÂêåÊ≠•ÂùóÁöÑÊó∂ÂÄôÂ∞±‰ºöÂèñÊ∂àÂØπËøôÈÉ®ÂàÜ‰ª£Á†ÅÁöÑÂêåÊ≠•„ÄÇËøôÊ†∑Â∞±ËÉΩÂ§ßÂ§ßÊèêÈ´òÂπ∂ÂèëÊÄßÂíåÊÄßËÉΩ„ÄÇËøô‰∏™ÂèñÊ∂àÂêåÊ≠•ÁöÑËøáÁ®ãÂ∞±Âè´ÂêåÊ≠•ÁúÅÁï•Ôºå‰πüÂè´ÈîÅÊ∂àÈô§„ÄÇ 3.ÂàÜÁ¶ªÂØπË±°ÊàñÊ†áÈáèÊõøÊç¢ ‚Äã Ê†áÈáè(Scalar)ÊòØÊåá‰∏Ä‰∏™Êó†Ê≥ïÂÜçÂàÜËß£ÊàêÊõ¥Â∞èÁöÑÊï∞ÊçÆÁöÑÊï∞ÊçÆ„ÄÇJava‰∏≠ÁöÑÂéüÂßãÊï∞ÊçÆÁ±ªÂûãÂ∞±ÊòØÊ†áÈáè„ÄÇÁõ∏ÂØπÁöÑÔºåÈÇ£‰∫õËøòÂèØ‰ª•ÂàÜËß£ÁöÑÊï∞ÊçÆÂè´ÂÅöËÅöÂêàÈáè( Aggregate),Java‰∏≠ÁöÑÂØπË±°Â∞±ÊòØËÅöÂêàÈáèÔºåÂõ†‰∏∫‰ªñÂèØ‰ª•ÂàÜËß£ÊàêÂÖ∂‰ªñËÅöÂêàÊöàÂíåÊ†áÈáè ‚Äã Âú®JITÈò∂ÊÆµÔºåÂ¶ÇÊûúÁªèËøáÈÄÉÈÄ∏ÂàÜÊûêÔºåÂèëÁé∞‰∏Ä‰∏™ÂØπË±°‰∏ç‰ºöË¢´Â§ñÁïåËÆøÈóÆÁöÑËØùÔºåÈÇ£‰πàÁªèËøáJIT‰ºòÂåñÔºåÂ∞±‰ºöÊääËøô‰∏™ÂØπË±°ÊãÜËß£ÊàêËã•Âπ≤‰∏™ÂÖ∂‰∏≠ÂåÖÂê´ÁöÑËã•Âπ≤‰∏™ÊàêÂëòÂèòÈáèÊù•‰ª£Êõø„ÄÇËøô‰∏™ËøáÁ®ãÂ∞±ÊòØÊ†áÈáèÊõøÊç¢„ÄÇ Ê†áÈáèÊõøÊç¢ÂèÇÊï∞ËÆæÁΩÆÔºö ÂèÇÊï∞-XX:+EliminateAllocations:ÂºÄÂêØÊ†áÈáèÊõøÊèõÔºàÈªòËÆ§ÊâìÂºÄÔºâÔºåÂÖÅËÆ∏Â∞ÜÂØπË±°ÊâìÊï£ÂàÜÈÖçÂú®Ê†à‰∏ä„ÄÇ 4.Â†Ü‰∏çÊòØÂàÜÈÖçÂØπË±°Â≠òÂÇ®ÁöÑÂîØ‰∏ÄÈÄâÊã©ÂêóÔºü ‰∏äËø∞‰ª£Á†ÅÂú®‰∏ªÂáΩÊï∞‰∏≠ËøõË°å‰∫Ü1‰∫øÊ¨°alloc„ÄÇË∞ÉÁî®ËøõË°åÂØπË±°ÂàõÂª∫ÔºåÁî±‰∫éUserÂØπË±°ÂÆû‰æãÈúÄË¶ÅÂç†ÊçÆÁ∫¶16Â≠óËäÇÁöÑÁ©∫Èó¥ÔºåÂõ†Ê≠§Á¥ØËÆ°ÂàÜÈÖçÁ©∫Èó¥ËææÂà∞Â∞ÜËøë1.5GB„ÄÇÂ¶ÇÊûúÂ†ÜÁ©∫Èó¥Â∞è‰∫éËøô‰∏™ÂÄºÔºåÂ∞±ÂøÖÁÑ∂‰ºöÂèëÁîüGC„ÄÇ‰ΩøÁî®Â¶Ç‰∏ãÂèÇÊï∞ËøêË°å‰∏äËø∞‰ª£Á†Å -server -Xmx100m -xms100m -xx:+DoEscapeAnalvsis -XX: Print GC -XX:+EliminateAllocations ËøôÈáå‰ΩøÁî®ÂèÇÊï∞Â¶Ç‰∏ã „ÉªÂèÇÊï∞- server:ÂêØÂä® serverÊ®°ÂºèÔºåÂõ†‰∏∫Âú® ServerÊ®°Âºè‰∏ãÔºå„Ç™ÂèØ‰ª•ÂêØÁî®ÈÄÉÈÄ∏ÂàÜÊûê„ÄÇ „ÉªÂèÇÊï∞-XX: +DoEscapeAnalysis:ÂêØÁî®ÈÄÉÈÄ∏ÂàÜÊûê „ÉªÂèÇÊï∞-Xmx10m:ÊåáÂÆö‰∫ÜÂ†ÜÁ©∫Èó¥ÊúÄÂ§ß‰∏∫10MB „ÉªÂèÇÊï∞-XX: Print GC:Â∞ÜÊâìÂç∞GCÊó•Âøó„ÄÇ „ÉªÂèÇÊï∞-XX: EliminateAllocations:ÂºÄÂêØ‰∫ÜÊ†áÈáèÊõøÊç¢ÔºàÈªòËÆ§ÊâìÂºÄÔºâÔºåÂÖÅËÆ∏Â∞ÜÂØπË±°ÊâìÊï£ÂàÜÈÖçÂú®Ê†à‰∏äÔºåÊØîÂ¶ÇÂØπË±°Êã•ÊúâidÂíåname‰∏§‰∏™Â≠óÊÆµÔºåÈÇ£‰πàËøô‰∏§‰∏™Â≠óÊÆµÂ∞Ü‰ºöË¢´ËßÜ‰∏∫‰∏§‰∏™Áã¨Á´ãÁöÑÂ±ÄÈÉ®ÂèòÈáèËøõË°åÂàÜÈÖç„ÄÇ ‚Äã ÂÖ≥‰∫éÈÄÉÈÄ∏ÂàÜÊûêÁöÑËÆ∫ÊñáÂú®1999Âπ¥Â∞±Â∑≤ÁªèÂèëË°®‰∫ÜÔºå‰ΩÜÁõ¥Âà∞JDK1.6„Ç™ÊúâÂÆûÁé∞ÔºåËÄå‰∏îËøôÈ°πÊäÄÊúØÂà∞Â¶Ç‰ªä‰πüÂπ∂‰∏çÊòØÂçÅÂàÜÊàêÁÜüÁöÑ„ÄÇ ‚Äã ÂÖ∂Ê†πÊú¨ÂéüÂõ†Â∞±ÊòØÊó†Ê≥ï‰øùËØÅÈÄÉÈÄ∏ÂàÜÊûêÁöÑÊÄßËÉΩÊ∂àËÄó‰∏ÄÂÆöËÉΩÈ´ò‰∫é‰ªñÁöÑÊ∂àËÄó„ÄÇËôΩÁÑ∂ÁªèËøáÈÄÉÈÄ∏ÂàÜÊûêÂèØ‰ª•ÂÅöÊ†áÈáèÊõøÊç¢„ÄÅÊ†à‰∏äÂàÜÈÖç„ÄÅÂíåÈîÅÊ∂àÈô§„ÄÇ‰ΩÜÊòØÈÄÉÈÄ∏ÂàÜÊûêËá™Ë∫´‰πüÊòØÈúÄË¶ÅËøõË°å‰∏ÄÁ≥ªÂàóÂ§çÊùÇÁöÑÂàÜÊûêÁöÑÔºåËøôÂÖ∂ÂÆû‰πüÊòØ‰∏Ä‰∏™Áõ∏ÂØπËÄóÊó∂ÁöÑËøáÁ®ã„ÄÇ ‚Äã ‰∏Ä‰∏™ÊûÅÁ´ØÁöÑ‰æãÂ≠êÔºåÂ∞±ÊòØÁªèËøáÈÄÉÈÄ∏ÂàÜÊûê‰πãÂêéÔºåÂèëÁé∞Ê≤°Êúâ‰∏Ä‰∏™ÂØπË±°ÊòØ‰∏çÈÄÉÈÄ∏ÁöÑ„ÄÇÈÇ£Ëøô‰∏™ÈÄÉÈÄ∏ÂàÜÊûêÁöÑËøáÁ®ãÂ∞±ÁôΩÁôΩÊµ™Ë¥πÊéâ‰∫Ü ‚Äã ËôΩÁÑ∂ËøôÈ°πÊäÄÊúØÂπ∂‰∏çÂçÅÂàÜÊàêÁÜüÔºå‰ΩÜÊòØÂÆÉ‰πüÊòØÂç≥Êó∂ÁºñËØëÂô®‰ºòÂåñÊäÄÊúØ‰∏≠‰∏Ä‰∏™ÂçÅÂàÜÈáçË¶ÅÁöÑÊâãÊÆµ„ÄÇÊ≥®ÊÑèÂà∞Êúâ‰∏Ä‰∫õËßÇÁÇπÔºåËÆ§‰∏∫ÈÄöËøáÈÄÉÈÄ∏ÂàÜÊûêÔºåJVM‰ºöÂú®Ê†à‰∏äÂàÜÈÖçÈÇ£‰∫õ‰∏ç‰ºöÈÄÉÈÄ∏ÁöÑÂØπË±°ÔºåËøôÂú®ÁêÜËÆ∫‰∏äÊòØÂèØË°åÁöÑÔºå‰ΩÜÊòØÂèñÂÜ≥‰∫éJVMËÆæËÆ°ËÄÖÁöÑÈÄâÊã©„ÄÇÊçÆÊàëÊâÄÁü•Ôºå Oracle Hotspot JVM‰∏≠Âπ∂Êú™Ëøô‰πàÂÅöÔºåËøô‰∏ÄÁÇπÂú®ÈÄÉÈÄ∏ÂàÜÊûêÁõ∏ÂÖ≥ÁöÑÊñáÊ°£ÈáåÂ∑≤ÁªèËØ¥ÊòéÔºåÊâÄ‰ª•ÂèØ‰ª•ÊòéÁ°ÆÊâÄÊúâÁöÑÂØπË±°ÂÆû‰æãÈÉΩÊòØÂàõÂª∫Âú®Â†Ü‰∏ä„ÄÇ ‚Äã ÁõÆÂâçÂæàÂ§ö‰π¶Á±çËøòÊòØÂü∫‰∫éJDK7‰ª•ÂâçÁöÑÁâàÊú¨ÔºåJDKÂ∑≤ÁªèÂèëÁîü‰∫ÜÂæàÂ§ßÂèòÂåñÔºå internÂ≠óÁ¨¶‰∏≤ÁöÑÁºìÂ≠òÂíåÈùôÊÄÅÂèòÈáèÊõæÁªèÈÉΩË¢´ÂàÜÈÖçÂú®Ê∞∏‰πÖ‰ª£‰∏äÔºåËÄåÊ∞∏‰πÖ‰ª£Â∑≤ÁªèË¢´ÂÖÉÊï∞ÊçÆÂå∫Âèñ‰ª£„ÄÇ‰ΩÜÊòØÔºåintern:Â≠óÁ¨¶‰∏≤ÁºìÂ≠òÂíåÈùôÊÄÅÂèòÈáèÂπ∂‰∏çÊòØË¢´ËΩ¨ÁßªÂà∞ÂÖÉÊï∞ÊçÆÂå∫ÔºåËÄåÊòØÁõ¥Êé•Âú®Â†Ü‰∏äÂàÜÈÖçÔºåÊâÄ‰ª•Ëøô‰∏ÄÁÇπÂêåÊ†∑Á¨¶ÂêàÂâçÈù¢‰∏ÄÁÇπÁöÑÁªìËÆ∫ÔºöÂØπË±°ÂÆû‰æãÈÉΩÊòØÂàÜÈÖçÂú®Â†Ü‰∏ä„ÄÇ ‰πù„ÄÅÊñπÊ≥ïÂå∫ 1.Ê†à„ÄÅÂ†Ü„ÄÅÊñπÊ≥ïÂå∫Èó¥ÁöÑ‰∫§‰∫íÂÖ≥Á≥ª 2.ÊñπÊ≥ïÂå∫Âü∫Êú¨ÁêÜËß£ ‚Äã „ÄäJavaËôöÊãüÊú∫ËßÑËåÉ„Äã‰∏≠ÊòéÁ°ÆËØ¥ÊòéÔºö&quot;Â∞ΩÁÆ°ÊâÄÊúâÁöÑÊñπÊ≥ïÂå∫Âú®ÈÄªËæë‰∏äÊòØÂ±û‰∫éÂ†ÜÁöÑ‰∏ÄÈÉ®ÂàÜÔºå‰ΩÜ‰∫õÁÆÄÂçïÁöÑÂÆûÁé∞ÂèØËÉΩ‰∏ç‰ºöÈÄâÊã©ÂéªËøõË°åÂûÉÂúæÊî∂ÈõÜÊàñËÄÖËøõË°åÂéãÁº©„ÄÇ‚Äù‰ΩÜÂØπ‰∫é HotSpotJVMËÄåË®ÄÔºåÊñπÊ≥ïÂå∫ËøòÊúâ‰∏Ä‰∏™Âà´ÂêçÂè´ÂÅöNon-HeapÔºàÈùûÂ†ÜÔºâÔºåÁõÆÁöÑÂ∞±ÊòØË¶ÅÂíåÂ†ÜÂàÜÂºÄ„ÄÇÊâÄ‰ª•ÔºåÊñπÊ≥ïÂå∫Áúã‰ΩúÊòØ‰∏ÄÂùóÁã¨Á´ã‰∫éJavaÂ†ÜÁöÑÂÜÖÂ≠òÁ©∫Èó¥„ÄÇ „ÉªÊñπÊ≥ïÂå∫( Method Area)‰∏éJAVAÂ†Ü‰∏ÄÊ†∑ÔºåÊòØÂêÑ‰∏™Á∫øÁ®ãÂÖ±‰∫´ÁöÑÂÜÖÂ≠òÂå∫Âüü„ÄÇ „ÉªÊñπÊ≥ïÂå∫Âú®JVMÂêØÂä®ÁöÑÊó∂‰æØË¢´ÂàõÂª∫ÔºåÂπ∂‰∏îÂÆÉÁöÑÂÆûÈôÖÁöÑÁâ©ÁêÜÂÜÖÂ≠òÁ©∫Èó¥‰∏≠ÂíåJavaÂ†ÜÂå∫‰∏ÄÊ†∑ÈÉΩÂèØ‰ª•ÊòØ‰∏çËøûÁª≠ÁöÑ„ÄÇ „ÉªÊñπÊ≥ïÂå∫ÁöÑÂ§ßÂ∞èÔºåË∑üÂ†ÜÁ©∫Èó¥‰∏ÄÊ†∑ÔºåÂèØ‰ª•ÈÄâÊã©Âõ∫ÂÆöÂ§ßÂ∞èÊàñËÄÖÂèØÊâ©Â±ï„ÄÇ „ÉªÊñπÊ≥ïÂå∫ÁöÑÂ§ßÂ∞èÂÜ≥ÂÆö‰∫ÜÁ≥ªÁªüÂèØ‰ª•‰øùÂ≠òÂ§öÂ∞ë‰∏™Á±ªÔºåÂ¶ÇÊûúÁ≥ªÁªüÂÆö‰πâ‰∫ÜÂ§™Â§öÁöÑÁ±ª„ÄêÊØîÂ¶ÇÂä†ËΩΩÂ§ßÈáèÁöÑÁ¨¨‰∏âÊñπÁöÑjarÂåÖÔºõ TomcatÈÉ®ÁΩ≤ÁöÑÂ∑•Á®ãËøáÂ§ö(30-50‰∏™)ÔºõÂ§ßÈáèÂä®ÊÄÅÁöÑÁîüÊàêÂèçÂ∞ÑÁ±ª„ÄëÔºåÂØºËá¥ÊñπÊ≥ïÂå∫Ê∫¢Âá∫ÔºåËôöÊãüÊú∫ÂêåÊ†∑‰ºöÊäõÂá∫ÂÜÖÂ≠òÊ∫¢Âá∫ÈîôËØØÔºöjava.lang. OutOfMemoryError: PermGen space ÊàñËÄÖ java. lang.OutOfMemoryError: Metaspace „ÉªÂÖ≥Èó≠JVMÂ∞±‰ºöÈáäÊîæËøô‰∏™Âå∫ÂüüÁöÑÂÜÖÂ≠ò„ÄÇ 3.HotSpot‰∏≠ÊñπÊ≥ïÂå∫ÁöÑÊºîËøõ Âú®jdk7Âèä‰ª•ÂâçÔºå‰π†ÊÉØ‰∏äÊääÊñπÊ≥ïÂå∫ÔºåÁß∞‰∏∫Ê∞∏‰πÖ‰ª£„ÄÇjdk8ÂºÄÂßãÔºå‰ΩøÁî®ÂÖÉÁ©∫Èó¥Âèñ‰ª£‰∫ÜÊ∞∏‰πÖ‰ª£„ÄÇ In JDK8, classes metadata is now stored in the native heap and this space is called Metaspace Êú¨Ë¥®‰∏äÔºåÊñπÊ≥ïÂå∫ÂíåÊ∞∏‰πÖ‰ª£Âπ∂‰∏çÁ≠â‰ª∑„ÄÇ‰ªÖÊòØÂØπ HotSpotËÄåË®ÄÁöÑ„ÄÇ„ÄäJavaËôöÊãüÊú∫ËßÑËåÉ„ÄãÂØπÂ¶Ç‰ΩïÂÆûÁé∞ÊñπÊ≥ïÂå∫Ôºå‰∏çÂÅöÁªü‰∏ÄË¶ÅÊ±Ç„ÄÇ‰æãÂ¶ÇÔºö BEA JRockit / IBM J9‰∏≠‰∏çÂ≠òÂú®Ê∞∏‰πÖ‰ª£ÁöÑÊ¶ÇÂøµ„ÄÇÁé∞Âú®Êù•ÁúãÔºåÂΩìÂπ¥‰ΩøÁî®Ê∞∏‰πÖ‰ª£Ôºå‰∏çÊòØÂ•ΩÁöÑidea„ÄÇÂØºËá¥JavaÁ®ãÂ∫èÊõ¥ÂÆπÊòìOOM(Ë∂ÖËøáXX: MaxPermSize‰∏äÈôê) ËÄåÂà∞‰∫ÜJDK8,Áªà‰∫éÂÆåÂÖ®Â∫üÂºÉ‰∫ÜÊ∞∏‰πÖ‰ª£ÁöÑÊ¶ÇÂøµÔºåÊîπÁî®‰∏é Jrockit„ÄÅJ9‰∏ÄÊ†∑Âú®Êú¨Âú∞ÂÜÖÂ≠ò‰∏≠ÂÆûÁé∞ÁöÑÂÖÉÁ©∫Èó¥( Metaspace)Êù•‰ª£Êõø ÂÖÉÁ©∫Èó¥ÁöÑÊú¨Ë¥®ÂíåÊ∞∏‰πÖ‰ª£Á±ª‰ººÔºåÈÉΩÊòØÂØπJVMËßÑËåÉ‰∏≠ÊñπÊ≥ïÂå∫ÁöÑÂÆûÁé∞„ÄÇ‰∏çËøá**ÂÖÉÁ©∫Èó¥‰∏éÊ∞∏‰πÖ‰ª£ÊúÄÂ§ßÁöÑÂå∫Âà´Âú®‰∫éÔºöÂÖÉÁ©∫Èó¥‰∏çÂú®ËôöÊãüÊú∫ËÆæÁΩÆÁöÑÂÜÖÂ≠ò‰∏≠ÔºåËÄåÊòØ‰ΩøÁî®Êú¨Âú∞ÂÜÖÂ≠ò„ÄÇ**Ê∞∏‰πÖ‰ª£„ÄÅÂÖÉÁ©∫Èó¥‰∫åËÄÖÂπ∂‰∏çÂè™ÊòØÂêçÂ≠óÂèò‰∫ÜÔºåÂÜÖÈÉ®ÁªìÊûÑ‰πüË∞ÉÊï¥‰∫Ü„ÄÇÊ†πÊçÆ„ÄäJavaËôöÊãüÊú∫ËßÑËåÉ„ÄãÁöÑËßÑÂÆöÔºåÂ¶ÇÊûúÊñπÊ≥ïÂå∫Êó†Ê≥ïÊª°Ë∂≥Êñ∞ÁöÑÂÜÖÂ≠òÂàÜÈÖçÈúÄÊ±ÇÊó∂ÔºåÂ∞ÜÊäõÂá∫OOMÂºÇÂ∏∏„ÄÇ 4.ËÆæÁΩÆÊñπÊ≥ïÂå∫Â§ßÂ∞è ÊñπÊ≥ïÂå∫ÁöÑÂ§ßÂ∞è‰∏çÂøÖÊòØÂõ∫ÂÆöÁöÑÔºåJVMÂèØ‰ª•Ê†πÊçÆÂ∫îÁî®ÁöÑÈúÄË¶ÅÂä®ÊÄÅË∞ÉÊï¥„ÄÇ jdk7Âèä‰ª•ÂâçÔºö ÈÄöËøá**-XX: PermSize**Êù•ËÆæÁΩÆÊ∞∏‰πÖ‰ª£ÂàùÂßãÂàÜÈÖçÁ©∫Èó¥„ÄÇÈªòËÆ§ÂÄºÊòØ20.75M -XX: MaxPermSizeÊù•ËÆæÂÆöÊ∞∏‰πÖ‰ª£ÊúÄÂ§ßÂèØÂàÜÈÖçÁ©∫Èó¥„ÄÇ32‰ΩçÊú∫Âô®ÈªòËÆ§ÊòØ64M,64‰ΩçÊú∫Âô®Ê®°ÂºèÊòØ82M ÂΩìJVMÂä†ËΩΩÁöÑÁ±ª‰ø°ÊÅØÂÆπÈáèË∂ÖËøá‰∫ÜËøô‰∏™ÂÄºÔºå‰ºöÊä•ÂºÇÂ∏∏ OutOfMemoryError: Permgen Space„ÄÇ ÂèØÈÄöËøáÂëΩ‰ª§Ë°åÊü•ÁúãÔºöjps‚Äî‚Äî‚Äî‚Äî„Äãjinfo -flag PermSize/MaxPermSize ‚Äônum‚Äò jdk8Âèä‰ª•ÂêéÔºö ‚Äã ÂÖÉÊï∞ÊçÆÂå∫Â§ßÂ∞èÂèØ‰ª•‰ΩøÁî®ÂèÇÊï∞**-XX: MetaspaceSizeÂíå-XX: MaxMetaspacesSize**ÊåáÂÆöÔºåÊõø‰ª£‰∏äËø∞ÂéüÊúâÁöÑ‰∏§‰∏™ÂèÇÊï∞„ÄÇ ‚Äã ÈªòËÆ§ÂÄº‰æùËµñ‰∫éÂπ≥Âè∞„ÄÇ windows‰∏ãÔºå-XX: MetaspaceSizeÊòØ21M,-XX: MaxMetaspaceSizeÁöÑÂÄºÊòØ-1,Âç≥Ê≤°ÊúâÈôêÂà∂„ÄÇ ‚Äã ‰∏éÊ∞∏‰πÖ‰ª£‰∏çÂêåÔºåÂ¶ÇÊûú‰∏çÊåáÂÆöÂ§ßÂ∞èÔºåÈªòËÆ§ÊÉÖÂÜµ‰∏ãÔºåËôöÊãüÊú∫‰ºöËÄóÂ∞ΩÊâÄÊúâÁöÑÂèØÁî®Á≥ªÁªüÂÜÖÂ≠ò„ÄÇÂ¶ÇÊûúÂÖÉÊï∞ÊçÆÂå∫ÂèëÁîüÊ∫¢Âá∫ÔºåËôöÊãüÊú∫‰∏ÄÊ†∑‰ºöÊäõÂá∫ÂºÇÂ∏∏OutOfMemoryError:Metaspace ‚Äã -XX: MetaspaceSize:ËÆæÁΩÆÂàùÂßãÁöÑÂÖÉÁ©∫Èó¥Â§ßÂ∞è„ÄÇÂØπ‰∫é„Éº‰∏™64‰ΩçÁöÑÊúçÂä°Âô®Á´ØJVMÊù•ËØ¥ÔºåÂÖ∂ÈªòËÆ§ÁöÑ-XX: MetaspaceSizeÂÄº‰∏∫21MB„ÄÇËøôÂ∞±ÊòØÂàùÂßãÁöÑÈ´òÊ∞¥‰ΩçÁ∫øÔºå‰∏ÄÊó¶Ëß¶ÂèäËøô‰∏™Ê∞¥‰ΩçÁ∫øÔºåFull GCÂ∞Ü‰ºöË¢´Ëß¶ÂèëÂπ∂Âç∏ËΩΩÊ≤°Áî®ÁöÑÁ±ªÔºàÂç≥Ëøô‰∫õÁ±ªÂØπÂ∫îÁöÑÁ±ªÂä†ËΩΩÂô®‰∏çÂÜçÂ≠òÊ¥ªÔºâÔºåÁÑ∂ÂêéËøô‰∏™È´òÊ∞¥‰ΩçÁ∫øÂ∞Ü‰ºöÈáçÁΩÆ„ÄÇÊñ∞ÁöÑÈ´òÊ∞¥‰ΩçÁ∫øÁöÑÂÄºÂèñÂÜ≥‰∫éGCÂêéÈáäÊîæ‰∫ÜÂ§öÂ∞ëÂÖÉÁ©∫Èó¥„ÄÇÂ¶ÇÊûúÈáäÊîæÁöÑÁ©∫Èó¥‰∏çË∂≥ÔºåÈÇ£‰πàÂú®‰∏çË∂ÖËøá MaxMetaspaceSizeÊó∂ÔºåÈÄÇÂΩìÊèêÈ´òËØ•ÂÄº„ÄÇÂ¶ÇÊûúÈáäÊîæÁ©∫Èó¥ËøáÂ§öÔºåÂàôÈÄÇÂΩìÈôç‰ΩéËØ•ÂÄº„ÄÇ ‚Äã Â¶ÇÊûúÂàùÂßãÂåñÁöÑÈ´òÊ∞¥‰ΩçÁ∫øËÆæÁΩÆËøá‰ΩéÔºå‰∏äËø∞È´òÊ∞¥‰ΩçÁ∫øË∞ÉÊï¥ÊÉÖÂÜµ‰ºöÂèëÁîüÂæàÂ§öÊ¨°„ÄÇÈÄöËøáÂûÉÂúæÂõûÊî∂Âô®ÁöÑÊó•ÂøóÂèØ‰ª•ËßÇÂØüÂà∞FullGCÂ§öÊ¨°Ë∞ÉÁî®„ÄÇ‰∏∫‰∫ÜÈÅøÂÖçÈ¢ëÁπÅÂú∞GC,Âª∫ËÆÆÂ∞Ü -XX: MetaspaceSizeËÆæÁΩÆ‰∏∫‰∏Ä‰∏™Áõ∏ÂØπËæÉÈ´òÁöÑÂÄº„ÄÇ 5.OOM‰∏æ‰æã 1234567891011121314151617181920212223242526272829303132333435import com.sun.xml.internal.ws.org.objectweb.asm.ClassWriter;import jdk.internal.org.objectweb.asm.Opcodes;/** * jdk6/7‰∏≠Ôºö * -XX:PermSize=10m -XX:MaxPermSize=10m * * jdk8‰∏≠Ôºö * -XX:MetaspaceSize=10m -XX:MaxMetaspaceSize=10m * * @author shkstart shkstart@126.com * @create 2020 22:24 */public class OOMTest extends ClassLoader { public static void main(String[] args) { int j = 0; try { OOMTest test = new OOMTest(); for (int i = 0; i &lt; 10000; i++) { //ÂàõÂª∫ClassWriterÂØπË±°ÔºåÁî®‰∫éÁîüÊàêÁ±ªÁöÑ‰∫åËøõÂà∂Â≠óËäÇÁ†Å ClassWriter classWriter = new ClassWriter(0); //ÊåáÊòéÁâàÊú¨Âè∑Ôºå‰øÆÈ•∞Á¨¶ÔºåÁ±ªÂêçÔºåÂåÖÂêçÔºåÁà∂Á±ªÔºåÊé•Âè£ classWriter.visit(Opcodes.V1_6, Opcodes.ACC_PUBLIC, &quot;Class&quot; + i, null, &quot;java/lang/Object&quot;, null); //ËøîÂõûbyte[] byte[] code = classWriter.toByteArray(); //Á±ªÁöÑÂä†ËΩΩ test.defineClass(&quot;Class&quot; + i, code, 0, code.length);//ClassÂØπË±° j++; } } finally { System.out.println(j); } }} Â¶Ç‰ΩïËß£ÂÜ≥Ëøô‰∫õOOMÔºü 1„ÄÅË¶ÅËß£ÂÜ≥OOMÂºÇÂ∏∏Êàñ heap spaceÁöÑÂºÇÂ∏∏Ôºå‰∏ÄËà¨ÁöÑÊâãÊÆµÊòØÈ¶ñÂÖàÈÄöËøáÂÜÖÂ≠òÊò†ÂÉèÂàÜÊûêÂ∑•ÂÖ∑(Â¶ÇEclipse Memory Analyzer)ÂØπdumpÂá∫Êù•ÁöÑÂ†ÜËΩ¨ÂÇ®Âø´ÁÖßËøõË°åÂàÜÊûêÔºåÈáçÁÇπÊòØÁ°ÆËÆ§ÂÜÖÂ≠ò‰∏≠ÁöÑÂØπË±°ÊòØÂê¶ÊòØÂøÖË¶ÅÁöÑÔºå‰πüÂ∞±ÊòØË¶ÅÂÖàÂàÜÊ∏ÖÊ•öÂà∞Â∫ïÊòØÂá∫Áé∞‰∫ÜÂÜÖÂ≠òÊ≥ÑÊºèÔºà Memory Leak)ËøòÊòØÂÜÖÂ≠òÊ∫¢Âá∫( Memory Overflow) 2„ÄÅÂ¶ÇÊûúÊòØÂÜÖÂ≠òÊ≥ÑÊºèÔºåÂèØËøõ‰∏ÄÊ≠•ÈÄöËøáÂ∑•ÂÖ∑ÊüªÁúãÊ≥ÑÊºèÂØπË±°Âà∞ GC RootsÁöÑÂºïÁî®Èìæ„ÄÇ‰∫éÊòØÂ∞±ËÉΩÊâæÂà∞Ê≥ÑÊºèÂØπË±°ÊòØÈÄöËøáÊÄéÊ†∑ÁöÑË∑ØÂæÑ‰∏é GC RootsÁõ∏ÂÖ≥ËÅîÂπ∂ÂØºËá¥ÂûÉÂúæÊî∂ÈõÜÂô®Êó†Ê≥ïËá™Âä®ÂõûÊî∂ÂÆÉ‰ª¨ÁöÑ„ÄÇÊéåÊè°‰∫ÜÊ≥ÑÊºèÂØπË±°ÁöÑÁ±ªÂûã‰ø°ÊÅØÔºå‰ª•Âèä GC RootsÂºïÁî®ÈìæÁöÑ‰ø°ÊÅØÔºåÂ∞±ÂèØ‰ª•ÊØîËæÉÂáÜÁ°ÆÂú∞ÂÆö‰ΩçÂá∫Ê≥ÑÊºè‰ª£Á†ÅÁöÑ‰ΩçÁΩÆ„ÄÇ 3„ÄÅÂ¶ÇÊûú‰∏çÂ≠òÂú®ÂÜÖÂ≠òÊ≥ÑÊºèÔºåÊç¢Âè•ËØùËØ¥Â∞±ÊòØÂÜÖÂ≠ò‰∏≠ÁöÑÂØπË±°Á°ÆÂÆûÈÉΩËøòÂøÖÈ°ªÂ≠òÊ¥ªÁùÄÔºåÈÇ£Â∞±Â∫îÂΩìÊ£ÄÊüªËôöÊãüÊú∫ÁöÑÂ†ÜÂèÇÊï∞(-Xmx‰∏é-Xms),‰∏éÊú∫Âô®Áâ©ÁêÜÂÜÖÂ≠òÂØπÊØîÁúãÊòØÂê¶ËøòÂèØ‰ª•Ë∞ÉÂ§ßÔºå‰ªé‰ª£Á†Å‰∏äÊ£ÄÊü•ÊòØÂê¶Â≠òÂú®Êüê‰∫õÂØπË±°ÁîüÂëΩÂë®ÊúüËøáÈïø„ÄÅÊåÅÊúâÁä∂ÊÄÅÊó∂Èó¥ËøáÈïøÁöÑÊÉÖÂÜµÔºåÂ∞ùËØïÂáèÂ∞ëÁ®ãÂ∫èËøêË°åÊúüÁöÑÂÜÖÂ≠òÊ∂àËÄó„ÄÇ 6.ÊñπÊ≥ïÂå∫ÂÜÖÈÉ®ÁªìÊûÑ ‚Äã „ÄäÊ∑±ÂÖ•ÁêÜËß£JavaËôöÊãüÊú∫„Äã‰π¶‰∏≠ÂØπÊñπÊ≥ïÂå∫( Method Area)Â≠òÂÇ®ÂÜÖÂÆπÊèèËø∞Â¶Ç‰∏ãÂÆÉÁî®‰∫éÂ≠òÂÇ®Â∑≤Ë¢´ËôöÊãüÊú∫Âä†ËΩΩÁöÑÁ±ªÂûã‰ø°ÊÅØ„ÄÅÂ∏∏Èáè„ÄÅÈùôÊÄÅÂèòÈáè„ÄÅÂç≥Êó∂ÁºñËØëÂô®ÁºñËØëÂêéÁöÑ‰ª£Á†ÅÁºìÂ≠òÁ≠â„ÄÇ Á±ªÂûã‰ø°ÊÅØÔºö ÂØπÊØè‰∏™Âä†ËΩΩÁöÑÁ±ªÂûã(Á±ªclass„ÄÅÊé•Âè£ interface„ÄÅÊûö‰∏æenum„ÄÅÊ≥®Ëß£ annotation),JVMÂøÖÈ°ªÂú®ÊñπÊ≥ïÂå∫‰∏≠Â≠òÂÇ®‰ª•‰∏ãÁ±ªÂûã‰ø°ÊÅØÔºö ‚ë†Ëøô‰∏™Á±ªÂûãÁöÑÂÆåÊï¥ÊúâÊïàÂêçÁß∞(ÂÖ®Âêç=ÂåÖÂêç.Á±ªÂêç) ‚ë°)Ëøô‰∏™Á±ªÂûãÁõ¥Êé•Áà∂Á±ªÁöÑÂÆåÊï¥ÊúâÊïàÂêçÔºàÂØπ‰∫é interfaceÊàñÊòØjava.lang.Object,ÈÉΩÊ≤°ÊúâÁà∂Á±ª) ‚ë¢Ëøô‰∏™Á±ªÂûãÁöÑ‰øÆÈ•∞Á¨¶Ôºàpulblic, abstract,finaÁöÑÊüê‰∏™Â≠êÈõÜ) ‚ë£Ëøô‰∏™Á±ªÂûãÁõ¥Êé•Êé•Âè£ÁöÑ‰∏Ä‰∏™ÊúâÂ∫èÂàóË°® ÂüüÔºàFiledÔºâ‰ø°ÊÅØ JVMÂøÖÈ°ªÂú®ÊñπÊ≥ïÂå∫‰∏≠‰øùÂ≠òÁ±ªÂûãÁöÑÊâÄÊúâÂüüÁöÑÁõ∏ÂÖ≥‰ø°ÊÅØ‰ª•ÂèäÂüüÁöÑÂ£∞ÊòéÈ°∫Â∫è„ÄÇ ÂüüÁöÑÁõ∏ÂÖ≥‰ø°ÊÅØÂåÖÊã¨ÔºöÂüüÂêçÁß∞„ÄÅÂüüÁ±ªÂûã„ÄÅÂüü‰øÆÈ•∞Á¨¶Ôºà publicÔºåprivateÔºåprotectedÔºåstaticÔºåfinaÔºå volatileÔºåtransientÁöÑÊüê‰∏™Â≠êÈõÜÔºâ ÊñπÊ≥ïÔºàMethodÔºâ‰ø°ÊÅØ JTVMÂøÖÈ°ª‰øùÂ≠òÊâÄÊúâÊñπÊ≥ïÁöÑ‰ª•‰∏ã‰ø°ÊÅØÔºåÂêåÂüü‰ø°ÊÅØ‰∏ÄÊ†∑ÂåÖÊã¨Â£∞ÊòéÈ°∫Â∫è üîº ÊñπÊ≥ïÂêçÁß∞ üîº ÊñπÊ≥ïÁöÑËøîÂõûÁ±ªÂûã(Êàñvoid)ÊñπÊ≥ïÂèÇÊï∞ÁöÑÊï∞ÈáèÂíåÁ±ªÂûãÔºàÊåâÈ°∫Â∫è üîº ÊñπÊ≥ïÁöÑ‰øÆÈ•∞Á¨¶Ôºà public, private, protected, static, final,synchronized, native, abstractÁöÑ‰∏Ä‰∏™Â≠êÈõÜ) üîº ÊñπÊ≥ïÁöÑÂ≠óËäÇÁ†Å( bytecodes)„ÄÅÊìç‰ΩúÊï∞Ê†à„ÄÅÂ±ÄÈÉ®ÂèòÈáèË°®ÂèäÂ§ßÂ∞è( abstractÂíånativeÊñπÊ≥ïÈô§Â§ñ) üîº ÂºÇÂ∏∏Ë°®( abstractÂíå nativeÊñπÊ≥ïÈô§Â§ñ)ÔºöÊØè‰∏™ÂºÇÂ∏∏Â§ÑÁêÜÁöÑÂºÄÂßã‰ΩçÁΩÆ„ÄÅÁªìÊùü‰ΩçÁΩÆ„ÄÅ‰ª£Á†ÅÂ§ÑÁêÜÂú®Á®ãÂ∫èËÆ°Êï∞Âô®‰∏≠ÁöÑÂÅèÁßªÂú∞ÂùÄË¢´ÊçïËé∑ÁöÑÂºÇÂ∏∏Á±ªÁöÑÂ∏∏ÈáèÊ±†Á¥¢Âºï non- finalÁöÑÁ±ªÂèòÈáè ÈùôÊÄÅÂèòÈáèÂíåÁ±ªÂÖ≥ËÅîÂú®‰∏ÄËµ∑ÔºåÈöèÁùÄÁ±ªÁöÑÂä†ËΩΩËÄåÂä†ËΩΩÔºåÂÆÉ‰ª¨Êàê‰∏∫Á±ªÊï∞ÊçÆÂú®ÈÄªËæë‰∏äÁöÑ‰∏ÄÈÉ®ÂàÜ„ÄÇ Á±ªÂèòÈáèË¢´Á±ªÁöÑÊâÄÊúâÂÆû‰æãÂÖ±‰∫´ÔºåÂç≥‰ΩøÊ≤°ÊúâÁ±ªÂÆû‰æãÊó∂‰Ω†‰πüÂèØ‰ª•ËÆøÈóÆÂÆÉ„ÄÇ ÂÖ®Â±ÄÂ∏∏ÈáèÔºö static final Ë¢´Â£∞Êòé‰∏∫ finalÁöÑÁ±ªÂèòÈáèÁöÑÂ§ÑÁêÜÊñπÊ≥ïÂàô‰∏çÂêåÔºåÊØè‰∏™ÂÖ®Â±ÄÂ∏∏ÈáèÂú®ÁºñËØëÁöÑÊó∂ÂÄôÂ∞±‰ºöË¢´ÂàÜÈÖç‰∫Ü„ÄÇ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215216217218219220221222223224225226227228229230231232233234235236237238239240241242243244245246247248249250251252253254255256257258259260261262263264265266267268269270271272273274275276import java.io.Serializable;/** * ÊµãËØïÊñπÊ≥ïÂå∫ÁöÑÂÜÖÈÉ®ÊûÑÊàê * @author shkstart shkstart@126.com * @create 2020 23:39 */public class MethodInnerStrucTest extends Object implements Comparable&lt;String&gt;,Serializable { //Â±ûÊÄß public int num = 10; private static String str = &quot;ÊµãËØïÊñπÊ≥ïÁöÑÂÜÖÈÉ®ÁªìÊûÑ&quot;; //ÊûÑÈÄ†Âô® //ÊñπÊ≥ï public void test1(){ int count = 20; System.out.println(&quot;count = &quot; + count); } public static int test2(int cal){ int result = 0; try { int value = 30; result = value / cal; } catch (Exception e) { e.printStackTrace(); } return result; } @Override public int compareTo(String o) { return 0; }}//ËøêË°åjavap-v-p MethodInnerStrucTest.class &gt; test.txtClassfile /D:/workspace_idea5/JVMDemo/out/production/chapter09/com/atguigu/java/MethodInnerStrucTest.class Last modified 2020-4-22; size 1626 bytes MD5 checksum 69643a16925bb67a96f54050375c75d0 Compiled from &quot;MethodInnerStrucTest.java&quot; //Á±ªÂûã‰ø°ÊÅØpublic class com.atguigu.java.MethodInnerStrucTest extends java.lang.Object implements java.lang.Comparable&lt;java.lang.String&gt;, java.io.Serializable minor version: 0 major version: 51 flags: ACC_PUBLIC, ACC_SUPERConstant pool: #1 = Methodref #18.#52 // java/lang/Object.&quot;&lt;init&gt;&quot;:()V #2 = Fieldref #17.#53 // com/atguigu/java/MethodInnerStrucTest.num:I #3 = Fieldref #54.#55 // java/lang/System.out:Ljava/io/PrintStream; #4 = Class #56 // java/lang/StringBuilder #5 = Methodref #4.#52 // java/lang/StringBuilder.&quot;&lt;init&gt;&quot;:()V #6 = String #57 // count = #7 = Methodref #4.#58 // java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder; #8 = Methodref #4.#59 // java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder; #9 = Methodref #4.#60 // java/lang/StringBuilder.toString:()Ljava/lang/String; #10 = Methodref #61.#62 // java/io/PrintStream.println:(Ljava/lang/String;)V #11 = Class #63 // java/lang/Exception #12 = Methodref #11.#64 // java/lang/Exception.printStackTrace:()V #13 = Class #65 // java/lang/String #14 = Methodref #17.#66 // com/atguigu/java/MethodInnerStrucTest.compareTo:(Ljava/lang/String;)I #15 = String #67 // ÊµãËØïÊñπÊ≥ïÁöÑÂÜÖÈÉ®ÁªìÊûÑ #16 = Fieldref #17.#68 // com/atguigu/java/MethodInnerStrucTest.str:Ljava/lang/String; #17 = Class #69 // com/atguigu/java/MethodInnerStrucTest #18 = Class #70 // java/lang/Object #19 = Class #71 // java/lang/Comparable #20 = Class #72 // java/io/Serializable #21 = Utf8 num #22 = Utf8 I #23 = Utf8 str #24 = Utf8 Ljava/lang/String; #25 = Utf8 &lt;init&gt; #26 = Utf8 ()V #27 = Utf8 Code #28 = Utf8 LineNumberTable #29 = Utf8 LocalVariableTable #30 = Utf8 this #31 = Utf8 Lcom/atguigu/java/MethodInnerStrucTest; #32 = Utf8 test1 #33 = Utf8 count #34 = Utf8 test2 #35 = Utf8 (I)I #36 = Utf8 value #37 = Utf8 e #38 = Utf8 Ljava/lang/Exception; #39 = Utf8 cal #40 = Utf8 result #41 = Utf8 StackMapTable #42 = Class #63 // java/lang/Exception #43 = Utf8 compareTo #44 = Utf8 (Ljava/lang/String;)I #45 = Utf8 o #46 = Utf8 (Ljava/lang/Object;)I #47 = Utf8 &lt;clinit&gt; #48 = Utf8 Signature #49 = Utf8 Ljava/lang/Object;Ljava/lang/Comparable&lt;Ljava/lang/String;&gt;;Ljava/io/Serializable; #50 = Utf8 SourceFile #51 = Utf8 MethodInnerStrucTest.java #52 = NameAndType #25:#26 // &quot;&lt;init&gt;&quot;:()V #53 = NameAndType #21:#22 // num:I #54 = Class #73 // java/lang/System #55 = NameAndType #74:#75 // out:Ljava/io/PrintStream; #56 = Utf8 java/lang/StringBuilder #57 = Utf8 count = #58 = NameAndType #76:#77 // append:(Ljava/lang/String;)Ljava/lang/StringBuilder; #59 = NameAndType #76:#78 // append:(I)Ljava/lang/StringBuilder; #60 = NameAndType #79:#80 // toString:()Ljava/lang/String; #61 = Class #81 // java/io/PrintStream #62 = NameAndType #82:#83 // println:(Ljava/lang/String;)V #63 = Utf8 java/lang/Exception #64 = NameAndType #84:#26 // printStackTrace:()V #65 = Utf8 java/lang/String #66 = NameAndType #43:#44 // compareTo:(Ljava/lang/String;)I #67 = Utf8 ÊµãËØïÊñπÊ≥ïÁöÑÂÜÖÈÉ®ÁªìÊûÑ #68 = NameAndType #23:#24 // str:Ljava/lang/String; #69 = Utf8 com/atguigu/java/MethodInnerStrucTest #70 = Utf8 java/lang/Object #71 = Utf8 java/lang/Comparable #72 = Utf8 java/io/Serializable #73 = Utf8 java/lang/System #74 = Utf8 out #75 = Utf8 Ljava/io/PrintStream; #76 = Utf8 append #77 = Utf8 (Ljava/lang/String;)Ljava/lang/StringBuilder; #78 = Utf8 (I)Ljava/lang/StringBuilder; #79 = Utf8 toString #80 = Utf8 ()Ljava/lang/String; #81 = Utf8 java/io/PrintStream #82 = Utf8 println #83 = Utf8 (Ljava/lang/String;)V #84 = Utf8 printStackTrace{ //Âüü‰ø°ÊÅØ public int num; descriptor: I flags: ACC_PUBLIC private static java.lang.String str; descriptor: Ljava/lang/String; flags: ACC_PRIVATE, ACC_STATIC //ÊñπÊ≥ï‰ø°ÊÅØ public com.atguigu.java.MethodInnerStrucTest(); descriptor: ()V flags: ACC_PUBLIC Code: stack=2, locals=1, args_size=1 0: aload_0 1: invokespecial #1 // Method java/lang/Object.&quot;&lt;init&gt;&quot;:()V 4: aload_0 5: bipush 10 7: putfield #2 // Field num:I 10: return LineNumberTable: line 10: 0 line 12: 4 LocalVariableTable: Start Length Slot Name Signature 0 11 0 this Lcom/atguigu/java/MethodInnerStrucTest; public void test1(); descriptor: ()V flags: ACC_PUBLIC Code: stack=3, locals=2, args_size=1 0: bipush 20 2: istore_1 3: getstatic #3 // Field java/lang/System.out:Ljava/io/PrintStream; 6: new #4 // class java/lang/StringBuilder 9: dup 10: invokespecial #5 // Method java/lang/StringBuilder.&quot;&lt;init&gt;&quot;:()V 13: ldc #6 // String count = 15: invokevirtual #7 // Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder; 18: iload_1 19: invokevirtual #8 // Method java/lang/StringBuilder.append:(I)Ljava/lang/StringBuilder; 22: invokevirtual #9 // Method java/lang/StringBuilder.toString:()Ljava/lang/String; 25: invokevirtual #10 // Method java/io/PrintStream.println:(Ljava/lang/String;)V 28: return LineNumberTable: line 17: 0 line 18: 3 line 19: 28 LocalVariableTable: Start Length Slot Name Signature 0 29 0 this Lcom/atguigu/java/MethodInnerStrucTest; 3 26 1 count I public static int test2(int); descriptor: (I)I flags: ACC_PUBLIC, ACC_STATIC Code: stack=2, locals=3, args_size=1 0: iconst_0 1: istore_1 2: bipush 30 4: istore_2 5: iload_2 6: iload_0 7: idiv 8: istore_1 9: goto 17 12: astore_2 13: aload_2 14: invokevirtual #12 // Method java/lang/Exception.printStackTrace:()V 17: iload_1 18: ireturn Exception table: from to target type 2 9 12 Class java/lang/Exception LineNumberTable: line 21: 0 line 23: 2 line 24: 5 line 27: 9 line 25: 12 line 26: 13 line 28: 17 LocalVariableTable: Start Length Slot Name Signature 5 4 2 value I 13 4 2 e Ljava/lang/Exception; 0 19 0 cal I 2 17 1 result I StackMapTable: number_of_entries = 2 frame_type = 255 /* full_frame */ offset_delta = 12 locals = [ int, int ] stack = [ class java/lang/Exception ] frame_type = 4 /* same */ public int compareTo(java.lang.String); descriptor: (Ljava/lang/String;)I flags: ACC_PUBLIC Code: stack=1, locals=2, args_size=2 0: iconst_0 1: ireturn LineNumberTable: line 33: 0 LocalVariableTable: Start Length Slot Name Signature 0 2 0 this Lcom/atguigu/java/MethodInnerStrucTest; 0 2 1 o Ljava/lang/String; public int compareTo(java.lang.Object); descriptor: (Ljava/lang/Object;)I flags: ACC_PUBLIC, ACC_BRIDGE, ACC_SYNTHETIC Code: stack=2, locals=2, args_size=2 0: aload_0 1: aload_1 2: checkcast #13 // class java/lang/String 5: invokevirtual #14 // Method compareTo:(Ljava/lang/String;)I 8: ireturn LineNumberTable: line 10: 0 LocalVariableTable: Start Length Slot Name Signature 0 9 0 this Lcom/atguigu/java/MethodInnerStrucTest; static {}; descriptor: ()V flags: ACC_STATIC Code: stack=1, locals=0, args_size=0 0: ldc #15 // String ÊµãËØïÊñπÊ≥ïÁöÑÂÜÖÈÉ®ÁªìÊûÑ 2: putstatic #16 // Field str:Ljava/lang/String; 5: return LineNumberTable: line 13: 0}Signature: #49 // Ljava/lang/Object;Ljava/lang/Comparable&lt;Ljava/lang/String;&gt;;Ljava/io/Serializable;SourceFile: &quot;MethodInnerStrucTest.java&quot; ËøêË°åÊó∂Â∏∏ÈáèÊ±†VSÂ∏∏ÈáèÊ±† Â∏∏ÈáèÊ±† ÊñπÊ≥ïÂå∫ÂÜÖÈÉ®ÂåÖÂê´‰∫ÜËøêË°åÊó∂Â∏∏ÈáèÊ±† „ÉªÂ≠óËäÇÁ†ÅÊñá‰ª∂ÔºåÂÜÖÈÉ®ÂåÖÂê´‰∫ÜÂ∏∏ÈáèÊ±†„ÄÇ „ÉªË¶ÅÂºÑÊ∏ÖÊ•öÊñπÊ≥ïÂå∫ÔºåÈúÄË¶ÅÁêÜËß£Ê∏ÖÊ•öClassFile,Âõ†‰∏∫Âä†ËΩΩÁ±ªÁöÑ‰ø°ÊÅØÈÉΩÂú®ÊñπÊ≥ïÂå∫„ÄÇ „ÉªË¶ÅÂºÑÊ∏ÖÊ•öÊñπÊ≥ïÂå∫ÁöÑËøêË°åÊó∂Â∏∏ÈáèÊ±†ÔºåÈúÄË¶ÅÁêÜËß£Ê∏ÖÊ•öClassFile‰∏≠ÁöÑÂ∏∏ÈáèÊ±†https://docs.oracle.com/javase/specs/ivms/se8/htm1/jvms-4.htmlÂ¶Ç‰∏ãÔºö ‰∏Ä‰∏™ÊúâÊïàÁöÑÂ≠óËäÇÁ†ÅÊñá‰ª∂‰∏≠Èô§‰∫ÜÂåÖÂê´Á±ªÁöÑÁâàÊú¨‰ø°ÊÅØ„ÄÅÂ≠óÊÆµ„ÄÅÊñπÊ≥ï‰ª•ÂèäÊé•Âè£Á≠âÊèèËø∞‰ø°ÊÅØÂ§ñÔºåËøòÂåÖÂê´‰∏ÄÈ°π‰ø°ÊÅØÈÇ£Â∞±ÊòØÂ∏∏ÈáèÊ±†Ë°®( Constant Pool Table),ÂåÖÊã¨ÂêÑÁßçÂ≠óÈù¢ÈáèÂíåÂØπÁ±ªÂûã„ÄÅÂüüÂíåÊñπÊ≥ïÁöÑÁ¨¶Âè∑ÂºïÁî®„ÄÇ ‰∏∫‰ªÄ‰πàÈúÄË¶ÅÂ∏∏ÈáèÊ±†Ôºü ‰∏Ä‰∏™javaÊ∫êÊñá‰ª∂‰∏≠ÁöÑÁ±ª„ÄÅÊé•Âè£ÔºåÁºñËØëÂêé‰∫ßÁîü‰∏Ä‰∏™Â≠óËäÇÁ†ÅÊñá‰ª∂„ÄÇËÄåJava‰∏≠ÁöÑÂ≠óËäÇÁ†ÅÈúÄË¶ÅÊï∞ÊçÆÊîØÊåÅÔºåÈÄöÂ∏∏ËøôÁßçÊï∞ÊçÆ‰ºöÂæàÂ§ß‰ª•Ëá≥‰∫é‰∏çËÉΩÁõ¥Êé•Â≠òÂà∞Â≠óËäÇÁ†ÅÈáåÔºåÊç¢Âè¶‰∏ÄÁßçÊñπÂºèÔºåÂèØ‰ª•Â≠òÂà∞Â∏∏ÈáèÊ±†ÔºåËøô‰∏™Â≠óËäÇÁ†ÅÂåÖÂê´‰∫ÜÊåáÂêëÂ∏∏ÈáèÊ±†ÁöÑÂºïÁî®„ÄÇÂú®Âä®ÊÄÅÈìæÊé•ÁöÑÊó∂ÂÄô‰ºöÁî®Âà∞ËøêË°åÊó∂Â∏∏ÈáèÊ±†Ôºå‰πãÂâçÊúâ‰ªãÁªç„ÄÇ Â∞èÁªì Â∏∏ÈáèÊ±†ÔºåÂèØ‰ª•ÁúãÂÅöÊòØ‰∏ÄÂº†Ë°®ÔºåËôöÊãüÊú∫Êåá‰ª§Ê†πÊçÆËøôÂº†Â∏∏ÈáèË°®ÊâæÂà∞Ë¶ÅÊâßË°åÁöÑÁ±ªÂêç„ÄÅÊñπÊ≥ïÂêç„ÄÅÂèÇÊï∞Á±ªÂûã„ÄÅÂ≠óÈù¢ÈáèÁ≠âÁ±ªÂûã„ÄÇ ËøêË°åÊó∂Â∏∏ÈáèÊ±† ü•ë ËøêË°åÊó∂Â∏∏ÈáèÊ±†( Runtime Constant Pool)ÊòØÊñπÊ≥ïÂå∫ÁöÑ‰∏ÄÈÉ®ÂàÜ„ÄÇ ü•ë Â∏∏ÈáèÊ±†Ë°®( Constant Pool Table)ÊòØClassÊñá‰ª∂ÁöÑ‰∏ÄÈÉ®ÂàÜÔºåÁî®‰∫éÂ≠òÊîæÁºñËØëÊúüÁîüÊàêÁöÑÂêÑÁßçÂ≠óÈù¢Èáè‰∏éÁ¨¶Âè∑ÂºïÁî®ÔºåËøôÈÉ®ÂàÜÂÜÖÂÆπÂ∞ÜÂú®Á±ªÂä†ËΩΩÂêéÂ≠òÊîæÂà∞ÊñπÊ≥ïÂå∫ÁöÑËøêË°åÊó∂Â∏∏ÈáèÊ±†‰∏≠„ÄÇ ü•ë ËøêË°åÊó∂Â∏∏ÈáèÊ±†ÔºåÂú®Âä†ËΩΩÁ±ªÂíåÊé•Âè£Âà∞ËôöÊãüÊú∫ÂêéÔºåÂ∞±‰ºöÂàõÂª∫ÂØπÂ∫îÁöÑËøêË°åÊó∂Â∏∏ÈáèÊ±†„ÄÇ ü•ë JVM‰∏∫ÊØè‰∏™Â∑≤Âä†ËΩΩÁöÑÁ±ªÂûãÔºàÁ±ªÊàñÊé•Âè£ÔºâÈÉΩÁª¥Êä§‰∏Ä‰∏™Â∏∏ÈáèÊ±†„ÄÇÊ±†‰∏≠ÁöÑÊï∞ÊçÆÈ°πÂÉèÊï∞ÁªÑÈ°π‰∏ÄÊ†∑ÔºåÊòØÈÄöËøáÁ¥¢ÂºïËÆøÈóÆÁöÑ„ÄÇ ü•ë ËøêË°åÊó∂Â∏∏ÈáèÊ±†‰∏≠ÂåÖÂê´Â§öÁßç‰∏çÂêåÁöÑÂ∏∏ÈáèÔºåÂåÖÊã¨ÁºñËØëÊúüÂ∞±Â∑≤ÁªèÊòéÁ°ÆÁöÑÊï∞ÂÄºÂ≠óÈù¢ÈáèÔºå‰πüÂåÖÊã¨Âà∞ËøêË°åÊúüËß£ÊûêÂêéÊâçËÉΩÂ§üËé∑ÂæóÁöÑÊñπÊ≥ïÊàñËÄÖÂ≠óÊÆµÂºïÁî®„ÄÇÊ≠§Êó∂‰∏çÂÜçÊòØÂ∏∏ÈáèÊ±†‰∏≠ÁöÑÁ¨¶Âè∑Âú∞ÂùÄ‰∫ÜÔºåËøôÈáåÊç¢‰∏∫ÁúüÂÆûÂú∞ÂùÄ„ÄÇ ü•ë ËøêË°åÊó∂Â∏∏ÈáèÊ±†ÔºåÁõ∏ÂØπ‰∫éClassÊñá‰ª∂Â∏∏ÈáèÊ±†ÁöÑÂè¶‰∏ÄÈáçË¶ÅÁâπÂæÅÊòØÔºöÂÖ∑Â§áÂä®ÊÄÅÊÄß„ÄÇËøêË°åÊó∂Â∏∏ÈáèÊ±†Á±ª‰ºº‰∫é‰º†ÁªüÁºñÁ®ãËØ≠Ë®Ä‰∏≠ÁöÑÁ¨¶Âè∑Ë°®( symol table),‰ΩÜÊòØÂÆÉÊâÄÂåÖÂê´ÁöÑÊï∞ÊçÆÂç¥ÊØîÁ¨¶Âè∑Ë°®Ë¶ÅÊõ¥Âä†‰∏∞ÂØå‰∏Ä‰∫õ„ÄÇ ü•ë ÂΩìÂàõÂª∫Á±ªÊàñÊé•Âè£ÁöÑËøêË°åÊó∂Â∏∏ÈáèÊ±†Êó∂ÔºåÂ¶ÇÊûúÊûÑÈÄ†ËøêË°åÊó∂Â∏∏ÈáèÊ±†ÊâÄÈúÄÁöÑÂÜÖÂ≠òÁ©∫Èó¥Ë∂ÖËøá‰∫ÜÊñπÊ≥ïÂå∫ÊâÄËÉΩÊèê‰æõÁöÑÊúÄÂ§ßÂÄºÔºåÂàôJVM‰ºöÊäõ OutOfMemoryErrorÂºÇÂ∏∏„ÄÇ 7.ÊñπÊ≥ïÂå∫ÁöÑÊºîËøõÁªÜËäÇ 1.È¶ñÂÖàÊòéÁ°ÆÔºöÂè™Êúâ HotSpot„Ç™ÊúâÊ∞∏‰πÖ‰ª£„ÄÇ BEA JRockit„ÄÅIBM J9Á≠âÊù•ËØ¥ÔºåÊòØ‰∏çÂ≠òÂú®Ê∞∏‰πÖ‰ª£ÁöÑÊ¶ÇÂøµÁöÑ„ÄÇÂéüÂàô‰∏äÂ¶Ç‰ΩïÂÆûÁé∞ÊñπÊ≥ïÂå∫Â±û‰∫éËôöÊãüÊú∫ÂÆûÁé∞ÁªÜËäÇÔºå‰∏çÂèó„ÄäJavaËôöÊãüÊú∫ËßÑËåÉ„ÄãÁÆ°ÊùüÔºåÂπ∂‰∏çË¶ÅÊ±ÇÁªü‰∏Ä„ÄÇ 2, HotSpot‰∏≠ÊñπÊ≥ïÂå∫ÁöÑÂèòÂåñÔºö jak1.6Âèä‰πãÂâç ÊúâÊ∞∏‰πÖ‰ª£( permanent generation),ÈùôÊÄÅÂèòÈáèÔºàÂèòÈáèÂêçÔºâÂ≠òÊîæÂú®Ê∞∏‰πÖ‰ª£‰∏ä jdk. 7 ÊúâÊ∞∏‰πÖ‰ª£Ôºå‰ΩÜÂ∑≤ÁªèÈÄêÊ≠•‚ÄúÂéªÊ∞∏‰πÖ‰ª£‚ÄùÔºåÂ≠óÁ¨¶‰∏≤Â∏∏ÈáèÊ±†„ÄÅÈùôÊÄÅÂèòÈáèÁßªÈô§Ôºå‰øùÂ≠òÂú®Â†Ü‰∏≠ jak1.8Âèä‰πãÂêé Êó†Ê∞∏‰πÖ‰ª£ÔºåÁ±ªÂûã‰ø°ÊÅØ„ÄÅÂ≠óÊÆµ„ÄÅÊñπÊ≥ï„ÄÅÂ∏∏Èáè‰øùÂ≠òÂú®Êú¨Âú∞ÂÜÖÂ≠òÁöÑÂÖÉÁ©∫Èó¥Ôºå‰ΩÜÂ≠óÁ¨¶‰∏≤Â∏∏ÈáèÊ±†„ÄÅÈùôÊÄÅÂèòÈáè‰ªçÂú®Â†Ü 3.Ê∞∏‰πÖ‰ª£‰∏∫‰ªÄ‰πàË¶ÅË¢´ÂÖÉÁ©∫Èó¥ÊõøÊç¢Ôºü „ÉªÈöèÁùÄJava8ÁöÑÂà∞Êù•Ôºå Hotspot Vy‰∏≠ÂÜç‰πüËßÅ‰∏çÂà∞Ê∞∏‰πÖ‰ª£‰∫Ü„ÄÇ‰ΩÜÊòØËøôÂπ∂‰∏çÊÑèÂë≥ÁùÄÁ±ªÁöÑÂÖÉÊï∞ÊçÆ‰ø°ÊÅØ‰πüÊ∂àÂ§±‰∫Ü„ÄÇËøô‰∫õÊï∞ÊçÆË¢´ÁßªÂà∞‰∫Ü‰∏Ä‰∏™‰∏éÂ†Ü‰∏çÁõ∏ËøûÁöÑÊú¨Âú∞ÂÜÖÂ≠òÂå∫ÂüüÔºåËøô‰∏™Âå∫ÂüüÂè´ÂÅöÂÖÉÁ©∫Èó¥( Metaspace). „ÉªÁî±‰∫éÁ±ªÁöÑÂÖÉÊï∞ÊçÆÂàÜÈÖçÂú®Êú¨Âú∞ÂÜÖÂ≠ò‰∏≠ÔºåÂÖÉÁ©∫Èó¥ÁöÑÊúÄÂ§ßÂèØÂàÜÈÖçÁ©∫Èó¥Â∞±ÊòØÁ≥ªÁªüÂèØÁî®ÂÜÖÂ≠òÁ©∫ „ÉªËøôÈ°πÊîπÂä®ÊòØÂæàÊúâÂøÖË¶ÅÁöÑÔºåÂéüÂõ†ÊúâÔºö 1)‰∏∫Ê∞∏‰πÖ‰ª£ËÆæÁΩÆÁ©∫Èó¥Â§ßÂ∞èÊòØÂæàÈöæÁ°ÆÂÆöÁöÑ ‚Äã Âú®Êüê‰∫õÂú∫ÊôØ‰∏ãÔºåÂ¶ÇÊûúÂä®ÊÄÅÂä†ËΩΩÁ±ªËøáÂ§öÔºåÂÆπÊòì‰∫ßÁîüPerm Âå∫ÁöÑOOM„ÄÇÊØîÂ¶ÇÊüê‰∏™ÂÆûÈôÖWebÂ∑•Á®ã‰∏≠ÔºåÂõ†‰∏∫ÂäüËÉΩÁÇπÊØîËæÉÂ§öÔºåÂú®ËøêË°åËøáÁ®ã‰∏≠ÔºåË¶Å‰∏çÊñ≠Âä®ÊÄÅÂä†ËΩΩÂæàÂ§öÁ±ªÔºåÁªèÂ∏∏Âá∫Áé∞Ëá¥ÂëΩÈîôËØØ„ÄÇÊØîÂ¶ÇException in thread ‚Äòdubbo client x.x conner‚Äô java. lang. Outommemoryemor PermGen space ËÄåÂÖÉÁ©∫Èó¥ÂíåÊ∞∏‰πÖ‰ª£‰πãÈó¥ÊúÄÂ§ßÁöÑÂå∫Âà´Âú®‰∫éÔºöÂÖÉÁ©∫Èó¥Âπ∂‰∏çÂú®ËôöÊãüÊú∫‰∏≠ÔºåËÄåÊòØ‰ΩøÁî®Êú¨Âú∞ÂÜÖÂ≠ò„ÄÇÂõ†Ê≠§ÔºåÈªòËÆ§ÊÉÖÂÜµ‰∏ãÔºåÂÖÉÁ©∫Èó¥ÁöÑÂ§ßÂ∞è‰ªÖÂèóÊú¨Âú∞ÂÜÖÂ≠òÈôêÂà∂„ÄÇ 2)ÂØπÊ∞∏‰πÖ‰ª£ËøõË°åË∞É‰ºòÊòØÂæàÂõ∞ÈöæÁöÑ„ÄÇ „ÉªÂà§ÂÆö‰∏Ä‰∏™Â∏∏ÈáèÊòØÂê¶‚ÄúÂ∫üÂºÉ‚ÄùËøòÊòØÁõ∏ÂØπÁÆÄÂçïÔºåËÄåË¶ÅÂà§ÂÆö‰∏Ä‰∏™Á±ªÂûãÊòØÂê¶Â±û‰∫é‚Äú‰∏çÂÜçË¢´‰ΩøÁî®ÁöÑÁ±ª‚ÄùÁöÑÊù°‰ª∂Â∞±ÊØîËæÉËãõÂàª‰∫Ü„ÄÇÈúÄË¶ÅÂêåÊó∂Êª°Ë∂≥‰∏ãÈù¢‰∏â‰∏™Êù°‰ª∂Ôºö ËØ•Á±ªÊâÄÊúâÁöÑÂÆû‰æãÈÉΩÂ∑≤ÁªèË¢´ÂõûÊî∂Ôºå‰πüÂ∞±ÊòØJAVAÂ†Ü‰∏≠‰∏çÂ≠òÂú®ËØ•Á±ªÂèäÂÖ∂‰ªª‰ΩïÊ¥æÁîüÂ≠êÁ±ªÁöÑÂÆû‰æã„ÄÇ Âä†ËΩΩËØ•Á±ªÁöÑÁ±ªÂä†ËΩΩÂô®Â∑≤ÁªèË¢´ÂõûÊî∂ÔºåËøô‰∏™Êù°‰ª∂Èô§ÈùûÊòØÁªèËøáÁ≤æÂøÉËÆæËÆ°ÁöÑÂèØÊõøÊç¢Á±ªÂä†ËΩΩÂô®ÁöÑÂú∫ÊôØÔºåÂ¶ÇOSGi„ÄÅJSPÁöÑÈáçÂä†ËΩΩÁ≠âÔºåÂê¶ÂàôÈÄöÂ∏∏ÊòØÂæàÈöæËææÊàêÁöÑ„ÄÇ ËØ•Á±ªÂØπÂ∫îÁöÑjava.lang.ClassÂØπË±°Ê≤°ÊúâÂú®‰ªª‰ΩïÂú∞ÊñπË¢´ÂºïÁî®ÔºåÊó†Ê≥ïÂú®‰ªª‰ΩïÂú∞ÊñπÈÄöËøáÂèçÂ∞ÑËÆøÈóÆËØ•Á±ªÁöÑÊñπÊ≥ï„ÄÇ „ÉªJAVAËôöÊãüÊú∫Ë¢´ÂÖÅËÆ∏ÂØπÊª°Ë∂≥‰∏äËø∞‰∏â‰∏™Êù°‰ª∂ÁöÑÊó†Áî®Á±ªËøõË°åÂõûÊî∂ÔºåËøôÈáåËØ¥ÁöÑ‰ªÖ‰ªÖÊòØ‚ÄúË¢´ÂÖÅËÆ∏‚ÄùÔºåËÄåÂπ∂‰∏çÊòØÂíåÂØπË±°‰∏ÄÊ†∑ÔºåÊ≤°ÊúâÂºïÁî®‰∫ÜÂ∞±ÂøÖÁÑ∂‰ºöÂõûÊî∂„ÄÇÂÖ≥‰∫éÊòØÂê¶Ë¶ÅÂØπÁ±ªÂûãËøõË°åÂõûÊî∂ÔºåHotSpotËôöÊãüÊú∫Êèê‰æõ‰∫Ü-XnoclasscÂèÇÊï∞ËøõË°åÊéßÂà∂ÔºåËøòÂèØ‰ª•‰ΩøÁî® -verbose:class ‰ª•Âèä -XX: TracedClass - Loading„ÄÅ-XX: +TraceClassUnLoadingÊü•ÁúãÁ±ªÂä†ËΩΩÂíåÂç∏ËΩΩ‰ø°ÊÅØ„ÄÇ „ÉªÂú®Â§ßÈáè‰ΩøÁî®ÂèçÂ∞Ñ„ÄÅÂä®ÊÄÅ‰ª£ÁêÜ„ÄÅCGLibÁ≠âÂ≠óËäÇÁ†ÅÊ°ÜÊû∂ÔºåÂä®ÊÄÅÁîüÊàêJSP‰ª•ÂèäOSGiËøôÁ±ªÈ¢ëÁπÅËá™ÂÆö‰πâÁ±ªÂä†ËΩΩÂô®ÁöÑÂú∫ÊôØ‰∏≠ÔºåÈÄöÂ∏∏ÈÉΩÈúÄË¶ÅJavaËôöÊãüÊú∫ÂÖ∑Â§áÁ±ªÂûãÂç∏ËΩΩÁöÑËÉΩÂäõÔºå‰ª•‰øùËØÅ‰∏ç‰ºöÂØπÊñπÊ≥ïÂå∫ÈÄ†ÊàêËøáÂ§ßÁöÑÂÜÖÂ≠òÂéãÂäõ„ÄÇ 4„ÄÅStringtable‰∏∫‰ªÄ‰πàË¶ÅË∞ÉÊï¥Ôºü ‚Äã jdk7‰∏≠Â∞Ü string TableÊîæÂà∞‰∫ÜÂ†ÜÁ©∫Èó¥‰∏≠„ÄÇÂõ†‰∏∫Ê∞∏‰πÖ‰ª£ÁöÑÂõûÊî∂ÊïàÁéáÂæà‰ΩéÔºåÂú®full GCÁöÑÊó∂ÂÄôÊâç‰ºöËß¶Âèë„ÄÇËÄåfull GCÊòØËÄÅÂπ¥‰ª£ÁöÑÁ©∫Èó¥‰∏çË∂≥„ÄÅÊ∞∏‰πÖ‰ª£‰∏çË∂≥Êó∂Êâç‰ºöËß¶Âèë ËøôÂ∞±ÂØºËá¥ StringTableÂõûÊî∂ÊïàÁéá‰∏çÈ´ò„ÄÇËÄåÊàë‰ª¨ÂºÄÂèë‰∏≠‰ºöÊúâÂ§ßÈáèÁöÑÂ≠óÁ¨¶‰∏≤Ë¢´ÂàõÂª∫ÔºåÂõûÊî∂ÊïàÁéá‰ΩéÔºåÂØºËá¥Ê∞∏‰πÖ‰ª£ÂÜÖÂ≠ò‰∏çË∂≥„ÄÇÊîæÂà∞Â†ÜÈáåÔºåËÉΩÂèäÊó∂ÂõûÊî∂ÂÜÖÂ≠ò„ÄÇ 8.ÈùôÊÄÅÂèòÈáèÂ≠òÂú®Âì™ Â∑•ÂÖ∑Ôºö 12345678910111213141516public class StaticObjTest { static class Test { static ObjectHolder staticObj = new ObjectHolder(); ObjectHolder instanceObj = new ObjectHolder(); void foo { ObjectHolder localObj = new ObjectH01der(); System.out.println(&quot;done&quot;); private static class ObjectHolder { } public static void main (String[]args){ Test test = new StaticObjTest.Test(); test.foo(); } } staticOBJÈöèÁùÄTestÁöÑÁ±ªÂûã‰ø°ÊÅØÂ≠òÊîæÂú®ÊñπÊ≥ïÂå∫Ôºå instanceOBJÈöèÁùÄTestÁöÑÂØπË±°ÂÆû‰æãÂ≠òÊîæÂú®JAVAÂ†ÜÔºålocalObjectÂàôÊòØÂ≠òÊîæÂú®foo()ÊñπÊ≥ïÊ†àÂ∏ßÁöÑÂ±ÄÈÉ®ÂèòÈáèË°®‰∏≠„ÄÇ 1234hsdb&gt;scanoops 0x00007f32c7800000 0x00007f32c7b50000 JHSDB_TestCase$ObjectHolder0x00007f32c7a7c458 JHSDB_TestCase$ObjectHolder0x00007f32c7a7c480 JHSDB_TestCase$ObjectHolder0x00007f32c7a7c490 JHSDB_TestCase$ObjectHolder ÊµãËØïÂèëÁé∞Ôºö‰∏â‰∏™ÂØπË±°ÁöÑÊï∞ÊçÆÂú®ÂÜÖÂ≠ò‰∏≠ÁöÑÂú∞ÂùÄÈÉΩËêΩÂú®EdenÂå∫ËåÉÂõ¥ÂÜÖÔºåÊâÄ‰ª•ÁªìËÆ∫ÔºöÂè™Ë¶ÅÊòØÂØπË±°ÂÆû‰æãÂøÖÁÑ∂‰ºöÂú®JavaÂ†Ü‰∏≠ÂàÜÈÖç Êé•ÁùÄÔºåÊâæÂà∞‰∫Ü‰∏Ä‰∏™ÂºïÁî®ËØ• staticon&gt;ÂØπË±°ÁöÑÂú∞ÊñπÔºåÊòØÂú®‰∏Ä‰∏™java.1ang.C1assÁöÑÂÆû‰æãÈáåÔºåÂπ∂‰∏îÁªôÂá∫‰∫ÜËøô‰∏™ÂÆû‰æãÁöÑÂú∞ÂùÄÔºåÈÄöËøáÂ∑• nspectorÊü•ÁúãËØ•ÂØπË±°ÂÆû‰æãÔºåÂèØ‰ª•Ê∏ÖÊ•öÁúãÂà∞ËøôÁ°ÆÂÆûÊòØ‰∏Ä‰∏™java.1ang.C1assÁ±ªÂûãÁöÑÂØπË±°ÂÆû‰æãÔºåÈáåÈù¢Êúâ‰∏Ä‰∏™Âêç‰∏∫ statical]ÁöÑÂÆû‰æãÂ≠óÊÆµÔºö ‚Äã ‰ªé„ÄäJavaËôöÊãüÊú∫ËßÑËåÉ„ÄãÊâÄÂÆö‰πâÁöÑÊ¶ÇÂøµÊ®°ÂûãÊù•ÁúãÔºåÊâÄÊúâClassÁõ∏ÂÖ≥ÁöÑ‰ø°ÊÅØÈÉΩÂ∫îËØ•Â≠òÊîæÂú®ÊñπÊ≥ïÂå∫‰πã‰∏≠Ôºå‰ΩÜÊñπÊ≥ïÂå∫ËØ•Â¶Ç‰ΩïÂÆûÁé∞Ôºå„ÄäJAVAËôöÊãüÊú∫ËßÑËåÉ„ÄãÂπ∂Êú™ÂÅöÂá∫ËßÑÂÆöÔºåËøôÂ∞±Êàê‰∫Ü‰∏Ä‰ª∂ÂÖÅËÆ∏‰∏çÂêåËôöÊãüÊú∫Ëá™Â∑±ÁÅµÊ¥ªÊääÊè°ÁöÑ‰∫ãÊÉÖ„ÄÇJDK7ÂèäÂÖ∂‰ª•ÂêéÁâàÊú¨ÁöÑ HotSpotËôöÊãüÊú∫ÈÄâÊã©ÊääÈùôÊÄÅÂèòÈáè‰∏éÁ±ªÂûãÂú®JavaËØ≠Ë®Ä‰∏ÄÁ´ØÁöÑÊò†Â∞ÑclassÂØπË±°Â≠òÊîæÂú®‰∏ÄËµ∑ÔºåÂ≠òÂÇ®‰∫éJavaÂ†Ü‰πã‰∏≠Ôºå‰ªéÊàë‰ª¨ÁöÑÂÆûÈ™å‰∏≠‰πüÊòéÁ°ÆÈ™åËØÅ‰∫ÜËøô‰∏ÄÁÇπ„ÄÇ 9.ÊñπÊ≥ïÂå∫ÂûÉÂúæÂõûÊî∂ ‚Äã Êúâ‰∫õ‰∫∫ËÆ§‰∏∫ÊñπÊ≥ïÂå∫(Â¶Ç HotSpotËôöÊãüÊú∫‰∏≠ÁöÑÂÖÉÁ©∫Èó¥ÊàñËÄÖÊ∞∏‰πÖ)ÊòØÊ≤°ÊúâÂûÉÂúæÊî∂ÈõÜË°å‰∏∫ÁöÑÔºåÂÖ∂ÂÆû‰∏çÁÑ∂„ÄÇ„ÄäJavaËôöÊãüÊú∫ËßÑËåÉ„ÄãÂØπÊñπÊ≥ïÂå∫ÁöÑÁ∫¶ÊùüÊòØÈùûÂ∏∏ÂÆΩÊùæÁöÑÔºåÊèêÂà∞ËøáÂèØ‰ª•‰∏çË¶ÅÊ±ÇËôöÊãüÊú∫Âú®ÊñπÊ≥ïÂå∫‰∏≠ÂÆûÁé∞ÂûÉÂúæÊî∂ÈõÜ„ÄÇ‰∫ãÂÆû‰∏ä‰πüÁ°ÆÂÆûÊúâÊú™ÂÆûÁé∞ÊàñÊú™ËÉΩÂÆåÊï¥ÂÆûÁé∞ÊñπÊ≥ïÂå∫Á±ªÂûãÂç∏ËΩΩÁöÑÊî∂ÈõÜÂô®Â≠òÂú®(Â¶ÇJDK11Êó∂ÊúüÁöÑZGCÊî∂ÈõÜÂô®Â∞±‰∏çÊîØÊåÅÁ±ªÂç∏ËΩΩ)„ÄÇ ‚Äã ‰∏ÄËà¨Êù•ËØ¥Ëøô‰∏™Âå∫ÂüüÁöÑÂõûÊî∂ÊïàÊûúÊØîËæÉÈöæ‰ª§‰∫∫Êª°ÊÑèÔºåÂ∞§ÂÖ∂ÊòØÁ±ªÂûãÁöÑÂç∏ËΩΩÔºåÊù°‰ª∂Áõ∏ÂΩìËãõÂàª„ÄÇ‰ΩÜÊòØËøôÈÉ®ÂàÜÂå∫ÂüüÁöÑÂõûÊî∂ÊúâÊó∂ÂèàÁ°ÆÂÆûÊòØÂøÖË¶ÅÁöÑ„ÄÇ‰ª•ÂâçSunÂÖ¨Âè∏ÁöÑBugÂàóË°®‰∏≠ÔºåÊõæÂá∫Áé∞ËøáÁöÑËã•Âπ≤‰∏™‰∏•ÈáçÁöÑBugÂ∞±ÊòØÁî±‰∫é‰ΩéÁâàÊú¨ÁöÑ HotSpotËôöÊãüÊú∫ÂØπÊ≠§Âå∫ÂüüÊú™ÂÆåÂÖ®ÂõûÊî∂ËÄåÂØºËá¥ÂÜÖÂ≠òÊ≥ÑÊºè„ÄÇ ‚Äã ÊñπÊ≥ïÂå∫ÁöÑÂûÉÂúæÊî∂ÈõÜ‰∏ªË¶ÅÂõûÊî∂‰∏§ÈÉ®ÂàÜÂÜÖÂÆπÔºöÂ∏∏ÈáèÊ±†‰∏≠Â∫üÂºÉÁöÑÂ∏∏ÈáèÂíå‰∏çÂÜç‰ΩøÁî®ÁöÑÁ±ªÂûã„ÄÇ ‚Äã ÂÖàÊù•ËØ¥ËØ¥ÊñπÊ≥ïÂå∫ÂÜÖÂ∏∏ÈáèÊ±†‰πã‰∏≠‰∏ªË¶ÅÂ≠òÊîæÁöÑ‰∏§Â§ßÁ±ªÂ∏∏ÈáèÔºöÂ≠óÈù¢ÈáèÂíåÁ¨¶Âè∑ÂºïÁî®Â≠óÈù¢ÈáèÊØîËæÉÊé•ËøëJAVAËØ≠Ë®ÄÂ±ÇÊ¨°ÁöÑÂ∏∏ÈáèÊ¶ÇÂøµÔºåÂ¶ÇÊñáÊú¨Â≠óÁ¨¶‰∏≤„ÄÅË¢´Â£∞Êòé‰∏∫finalÁöÑÂ∏∏ÈáèÂÄºÁ≠â„ÄÇËÄåÁ¨¶Âè∑ÂºïÁî®ÂàôÂ±û‰∫éÁºñËØëÂéüÁêÜÊñπÈù¢ÁöÑÊ¶ÇÂøµÔºåÂåÖÊã¨‰∏ãÈù¢‰∏âÁ±ªÂ∏∏ÈáèÔºö ‚Äã 1„ÄÅÁ±ªÂíåÊé•Âè£ÁöÑÂÖ®ÈôêÂÆöÂêç ‚Äã 2„ÄÅÂ≠óÊÆµÁöÑÂêçÁß∞ÂíåÊèèËø∞Á¨¶ ‚Äã 3„ÄÅÊñπÊ≥ïÁöÑÂêçÁß∞ÂíåÊèèËø∞Á¨¶ ‚Äã HotSpot,ËôöÊãüÊú∫ÂØπÂ∏∏ÈáèÊ±†ÁöÑÂõûÊî∂Á≠ñÁï•ÊòØÂæàÊòéÁ°ÆÁöÑÔºåÂè™Ë¶ÅÂ∏∏ÈáèÊ±†‰∏≠ÁöÑÂ∏∏ÈáèÊ≤°ÊúâË¢´‰ªª‰ΩïÂú∞ÊñπÂºïÁî®ÔºåÂ∞±ÂèØ‰ª•Ë¢´ÂõûÊî∂„ÄÇ ‚Äã ÂõûÊî∂Â∫üÂºÉÂ∏∏Èáè‰∏éÂõûÊî∂JAVAÂ†Ü‰∏≠ÁöÑÂØπË±°ÈùûÂ∏∏Á±ª‰ºº ‚Äã Âà§ÂÆö‰∏Ä‰∏™Â∏∏ÈáèÊòØÂê¶‚ÄúÂ∫üÂºÉ‚ÄùËøòÊòØÁõ∏ÂØπÁÆÄÂçïÔºåËÄåË¶ÅÂà§ÂÆö‰∏Ä‰∏™Á±ªÂûãÊòØÂê¶Â±û‰∫é‚Äú‰∏çÂÜçË¢´‰ΩøÁî®ÁöÑÁ±ª‚ÄùÁöÑÊù°‰ª∂Â∞±ÊØîËæÉËãõÂàª‰∫Ü„ÄÇÈúÄË¶ÅÂêåÊó∂Êª°Ë∂≥‰∏ãÈù¢‰∏â‰∏™Êù°‰ª∂ ‚Äã ËØ•Á±ªÊâÄÊúâÁöÑÂÆû‰æãÈÉΩÂ∑≤ÁªèË¢´ÂõûÊî∂Ôºå‰πüÂ∞±ÊòØJavaÂ†Ü‰∏≠‰∏çÂ≠òÂú®ËØ•Á±ªÂèäÂÖ∂‰ªª‰ΩïÊ¥æÁîüÂ≠êÁ±ªÁöÑÂÆû‰æã„ÄÇ ‚Äã Âä†ËΩΩËØ•Á±ªÁöÑÁ±ªÂä†ËΩΩÂô®Â∑≤ÁªèË¢´ÂõûÊî∂ÔºåËøô‰∏™Êù°‰ª∂Èô§ÈùûÊòØÁªèËøáÁ≤æÂøÉËÆæËÆ°ÁöÑÂèØÊõøÊç¢Á±ªÂä†ËΩΩÂô®ÁöÑÂú∫ÊôØÔºåÂ¶ÇOSGi„ÄÅJSPÁöÑÈáçÂä†ËΩΩÁ≠âÔºåÂê¶ÂàôÈÄöÂ∏∏ÊòØÂæàÈöæËææÊàêÁöÑ„ÄÇ ‚Äã ËØ•Á±ªÂØπÂ∫îÁöÑjava.lang.ClassÂØπË±°Ê≤°ÊúâÂú®‰ªª‰ΩïÂú∞ÊñπË¢´ÂºïÁî®ÔºåÊó†Ê≥ïÂú®‰ªª‰ΩïÂú∞ÊñπÈÄöËøáÂèçÂ∞ÑËÆøÈóÆËØ•Á±ªÁöÑÊñπÊ≥ï„ÄÇ ‚Äã JavaËôöÊãüÊú∫Ë¢´ÂÖÅËÆ∏ÂØπÊª°Ë∂≥‰∏äËø∞‰∏â‰∏™Êù°‰ª∂ÁöÑÊó†Áî®Á±ªËøõË°åÂõûÊî∂ÔºåËøôÈáåËØ¥ÁöÑ‰ªÖ‰ªÖÊòØ‚ÄúË¢´ÂÖÅËÆ∏‚ÄùÔºåËÄåÂπ∂‰∏çÊòØÂíåÂØπË±°‰∏ÄÊ†∑ÔºåÊ≤°ÊúâÂºïÁî®‰∫ÜÂ∞±ÂøÖÁÑ∂‰ºöÂõûÊî∂„ÄÇÂÖ≥‰∫éÊòØÂê¶Ë¶ÅÂØπÁ±ªÂûãËøõË°åÂõûÊî∂ÔºåHotSpotËôöÊãüÊú∫Êèê‰æõ‰∫Ü-XnoclasscÂèÇÊï∞ËøõË°åÊéßÂà∂ÔºåËøòÂèØ‰ª•‰ΩøÁî® -cverbose:class‰ª•Âèä -XX: +TracedClass- Loading„ÄÅ-XX: TracedClassUnLoadingÊü•ÁúãÁ±ªÂä†ËΩΩÂíåÂç∏ËΩΩ‰ø°ÊÅØ„ÄÇ ‚Äã Âú®Â§ßÈáè‰ΩøÁî®ÂèçÂ∞Ñ„ÄÅÂä®ÊÄÅ‰ª£ÁêÜ„ÄÅCGLibÁ≠âÂ≠óËäÇÁ†ÅÊ°ÜÊû∂ÔºåÂä®ÊÄÅÁîüÊàêJSP‰ª•ÂèäSGiËøôÁ±ªÈ¢ëÁπÅËá™ÂÆö‰πâÁ±ªÂä†ËΩΩÂô®ÁöÑÂú∫ÊôØ‰∏≠ÔºåÈÄöÂ∏∏ÈÉΩÈúÄË¶ÅJavaËôöÊãüÊú∫ÂÖ∑Â§áÁ±ªÂûãÂç∏ËΩΩÁöÑËÉΩÂäõÔºå‰ª•‰øùËØÅ‰∏ç‰ºöÂØπÊñπÊ≥ïÂå∫ÈÄ†ÊàêËøáÂ§ßÁöÑÂÜÖÂ≠òÂéãÂäõ„ÄÇ ÂçÅ„ÄÅÂØπË±°ÁöÑÂÆû‰æãÂåñÂÜÖÂ≠ò Â∏ÉÂ±Ä‰∏éËÆøÈóÆÂÆö‰Ωç 1.ÂØπË±°ÂÆû‰æãÂåñÁöÑÂá†ÁßçÊñπÂºè 2.ÂàõÂª∫ÂØπË±°ÁöÑÊ≠•È™§ 1.Âà§Êñ≠ÂØπË±°ÂØπÂ∫îÁöÑÁ±ªÊòØÂê¶Âä†ËΩΩ„ÄÅÈìæÊé•„ÄÅÂàùÂßãÂåñ ‚Äã ËôöÊãüÊú∫ÈÅáÂà∞‰∏ÄÊù°newÊåá‰ª§ÔºåÈ¶ñÂÖàÂéªÊ£ÄÊüªËøô‰∏™Êåá‰ª§ÁöÑÂèÇÊï∞ËÉΩÂê¶Âú® MetaspaceÁöÑÂ∏∏ÈáèÊ±†‰∏≠ÂÆö‰ΩçÂà∞‰∏Ä‰∏™Á±ªÁöÑÁ¨¶Âè∑ÂºïÁî®ÔºåÂπ∂‰∏îÊ£ÄÊü•Ëøô‰∏™Á¨¶Âè∑ÂºïÁî®‰ª£Ë°®ÁöÑÁ±ªÊòØÂê¶Â∑≤ÁªèË¢´Âä†ËΩΩ„ÄÅËß£ÊûêÂíåÂàùÂßãÂåñ„ÄÇÔºàÂç≥Âà§Êñ≠Á±ªÂÖÉ‰ø°ÊÅØÊòØÂê¶Â≠òÂú®Ôºâ„ÄÇÂ¶ÇÊûúÊ≤°ÊúâÔºåÈÇ£‰πàÂú®Âèå‰∫≤ÂßîÊ¥æÊ®°Âºè‰∏ãÔºå‰ΩøÁî®ÂΩìÂâçÁ±ªÂä†ËΩΩÂô®‰ª•classloader ÂåÖÂêç Á±ªÂêç‰∏∫KeyËøõË°åÊü•ÊâæÂØπÂ∫îÁöÑÔºåclassÊñá‰ª∂„ÄÇÂ¶ÇÊûúÊ≤°ÊúâÊâæÂà∞Êñá‰ª∂ÔºåÂàôÊäõÂá∫Classnotfound ExceptionÂºÇÂ∏∏ÔºåÂ¶ÇÊûúÊâæÂà∞ÔºåÂàôËøõË°åÁ±ªÂä†ËΩΩÔºåÂπ∂ÁîüÊàêÂØπÂ∫îÁöÑclassÁ±ªÂØπË±° 2.‰∏∫ÂØπË±°ÂàÜÈÖçÂÜÖÂ≠ò ‚Äã È¶ñÂÖàËÆ°ÁÆóÂØπË±°Âç†Áî®Á©∫Èó¥Â§ßÂ∞èÔºåÊé•ÁùÄÂú®Â†Ü‰∏≠ÂàíÂàÜ‰∏ÄÂùóÂÜÖÂ≠òÁªôÊñ∞ÂØπË±°„ÄÇÂ¶ÇÊûúÂÆû‰æãÊàêÂëòÂèòÈáèÊòØÂºïÁî®ÂèòÈáèÔºå‰ªÖÂàÜÈÖçÂºïÁî®ÂèòÈáèÁ©∫Èó¥Âç≥ÂèØÔºåÂç≥4‰∏™Â≠óËäÇÂ§ßÂ∞è„ÄÇ Â¶ÇÊûúÂÜÖÂ≠òËßÑÊï¥Ôºå‰ΩøÁî®ÊåáÈíàÁ¢∞Êíû ‚Äã Â¶ÇÊûúÂÜÖÂ≠òÊòØËßÑÊï¥ÁöÑÔºåÈÇ£‰πàËôöÊãüÊú∫Â∞ÜÈááÁî®ÁöÑÊòØÊåáÈíàÁ¢∞ÊíûÊ≥ï( Bump The Pointer)Êù•‰∏∫ÂØπË±°ÂàÜÈÖçÂÜÖÂ≠ò„ÄÇÊÑèÊÄùÊòØÊâÄÊúâÁî®ËøáÁöÑÂÜÖÂ≠òÂú®‰∏ÄËæπÔºåÁ©∫Èó≤ÁöÑÂÜÖÂ≠òÂú®Âè¶Â§ñ‰∏ÄËæπÔºå‰∏≠Èó¥ÊîæÁùÄ‰∏Ä‰∏™ÊåáÈíà‰Ωú‰∏∫ÂàÜÁïåÁÇπÁöÑÊåáÁ§∫Âô®ÔºåÂàÜÈÖçÂÜÖÂ≠òÂ∞±‰ªÖ‰ªÖÊòØÊääÊåáÈíàÂêëÁ©∫Èó≤ÈÇ£ËæπÊå™Âä®‰∏ÄÊÆµ‰∏éÂØπË±°Â§ßÂ∞èÁõ∏Á≠âÁöÑË∑ùÁ¶ªÁΩ¢‰∫Ü„ÄÇÂ¶ÇÊûúÂûÉÂúæÊî∂ÈõÜÂô®ÈÄâÊã©ÁöÑÊòØ Serial„ÄÅ PardewËøôÁßçÂü∫‰∫éÂéãÁº©ÁÆóÊ≥ïÁöÑÔºåËôöÊãüÊú∫ÈááÁî®ËøôÁßçÂàÜÈÖçÊñπÂºè„ÄÇËà¨‰ΩøÁî®Â∏¶Êúâ compactÔºàÊï¥ÁêÜÔºâËøáÁ®ãÁöÑÊî∂ÈõÜÂô®Êó∂Ôºå‰ΩøÁî®ÊåáÈíàÁ¢∞Êíû„ÄÇ Â¶ÇÊûúÂÜÖÂ≠ò‰∏çËßÑÊï¥ÔºåËôöÊãüÊú∫ÈúÄË¶ÅÁª¥Êä§‰∏Ä‰∏™ÂàóË°®Ôºå‰ΩøÁî®Á©∫Èó≤ÂàóË°®ÂàÜÈÖç ‚Äã Â¶ÇÊûúÂÜÖÂ≠ò‰∏çÊòØËßÑÊï¥ÁöÑÔºåÂ∑≤‰ΩøÁî®ÁöÑÂÜÖÂ≠òÂíåÊú™‰ΩøÁî®ÁöÑÂÜÖÂ≠òÁõ∏‰∫í‰∫§ÈîôÔºåÈÇ£‰πàËôöÊãüÊú∫Â∞ÜÈááÁî®ÁöÑÊòØÁ©∫Èó≤ÂàóË°®Ê≥ïÊù•‰∏∫ÂØπË±°ÂàÜÈÖçÂÜÖÂ≠ò„ÄÇÊÑèÊÄùÊòØËôöÊãüÊú∫Áª¥Êä§‰∫Ü‰∏Ä‰∏™ÂàóË°®ÔºåËÆ∞ÂΩï‰∏äÂì™‰∫õÂÜÖÂ≠òÂùóÊòØÂèØÁî®ÁöÑÔºåÂÜçÂàÜÈÖçÁöÑÊó∂ÂÄô‰ªéÂàóË°®‰∏≠ÊâæÂà∞‰∏ÄÂùóË∂≥Â§üÂ§ßÁöÑÁ©∫Èó¥ÂàíÂàÜÁªôÂØπË±°ÂÆû‰æãÔºåÂπ∂Êõ¥Êñ∞ÂàóË°®‰∏äÁöÑÂÜÖÂÆπ„ÄÇËøôÁßçÂàÜÈÖçÊñπÂºèÊàê‰∏∫‚ÄúÁ©∫Èó≤ÂàóË°®( Free List)‚Äù ËØ¥ÊòéÔºöÈÄâÊã©Âì™ÁßçÂàÜÈÖçÊñπÂºèÁî±JavaÂ†ÜÊòØÂê¶ËßÑÊï¥ÂÜ≥ÂÆöÔºåËÄåJAVAÂ†ÜÊòØÂê¶ËßÑÊï¥ÂèàÁî±ÊâÄÈááÁî®ÁöÑÂûÉÂúæÊî∂ÈõÜÂô®ÊòØÂê¶Â∏¶ÊúâÂéãÁº©Êï¥ÁêÜÂäüËÉΩÂÜ≥ÂÆö„ÄÇ 3.Â§ÑÁêÜÂπ∂ÂèëÂÆâÂÖ®ÈóÆÈ¢ò ‚Äã Âú®ÂàÜÈÖçÂÜÖÂ≠òÁ©∫Èó¥Êó∂ÔºåÂè¶Â§ñ‰∏Ä‰∏™ÈóÆÈ¢òÊòØÂèäÊó∂‰øùËØÅnewÂØπË±°Êó∂ÂÄôÁöÑÁ∫øÁ®ãÂÆâÂÖ®ÊÄßÔºöÂàõÂª∫ÂØπË±°ÊòØÈùûÂ∏∏È¢ëÁπÅÁöÑÊìç‰ΩúÔºåËôöÊãüÊú∫ÈúÄË¶ÅËß£ÂÜ≥Âπ∂ÂèëÈóÆÈ¢ò„ÄÇËôöÊãüÊú∫ÈááÁî®‰∫Ü‰∏§ÁßçÊñπÂºèËß£ÂÜ≥Âπ∂ÂèëÈóÆÈ¢ò: „ÉªCAS( Compare And Swap)Â§±Ë¥•ÈáçËØï„ÄÅÂå∫ÂüüÂä†ÈîÅÔºö‰øùËØÅÊåáÈíàÊõ¥Êñ∞Êìç‰ΩúÁöÑÂéüÂ≠êÊÄßÔºõ „ÉªTLABÊääÂÜÖÂ≠òÂàÜÈÖçÁöÑÂä®‰ΩúÊåâÁÖßÁ∫øÁ®ãÂàíÂàÜÂú®‰∏çÂêåÁöÑÁ©∫Èó¥‰πã‰∏≠ËøõË°åÔºåÂç≥ÊØè‰∏™Á∫øÁ®ãÂú®JAVAÂ†Ü‰∏≠È¢ÑÂÖàÂàÜÈÖç‰∏ÄÂ∞èÂùóÂÜÖÂ≠òÔºåÁß∞‰∏∫Êú¨Âú∞Á∫øÁ®ãÂàÜÈÖçÁºìÂÜ≤Âå∫ÔºåÔºàTLAB, Thread Local All ocation Buffer)ËôöÊãüÊú∫ÊòØÂê¶‰ΩøÁî®TLAB,ÂèØ‰ª•ÈÄöËøá-XX:+/- UseTLABÂèÇÊï∞Êù•ËÆæÂÆö„ÄÇ 4,ÂàùÂßãÂåñÂàÜÈÖçÂà∞ÁöÑÁ©∫Èó¥ ‚Äã ÂÜÖÂ≠òÂàÜÈÖçÁªìÊùüÔºåËôöÊãüÊú∫Â∞ÜÂàÜÈÖçÂà∞ÁöÑÂÜÖÂ≠òÁ©∫Èó¥ÈÉΩÂàùÂßãÂåñ‰∏∫Èõ∂ÂÄºÔºà‰∏çÂåÖÊã¨ÂØπË±°Â§¥Ôºâ„ÄÇËøô‰∏ÄÊ≠•‰øùËØÅ‰∫ÜÂØπË±°ÁöÑÂÆû‰æãÂ≠óÊÆµÂú®JAVA‰ª£Á†Å‰∏≠ÂèØ‰ª•‰∏çÁî®ËµãÂàùÂßãÂÄºÂ∞±ÂèØ‰ª•Áõ¥Êé•‰ΩøÁî®ÔºåÁ®ãÂ∫èËÉΩËÆøÈóÆÂà∞Ëøô‰∫õÂ≠óÊÆµÁöÑÊï∞ÊçÆÁ±ªÂûãÊâÄÂØπÂ∫îÁöÑÈõ∂ÂÄº„ÄÇ 5,ËÆæÁΩÆÂØπË±°ÁöÑÂØπË±°Â§¥ ‚Äã Â∞ÜÂØπË±°ÁöÑÊâÄÂ±ûÁ±ªÔºàÂç≥Á±ªÁöÑÂÖÉÊï∞ÊçÆ‰ø°ÊÅØÔºâ„ÄÅÂØπË±°ÁöÑ Hashcode,ÂíåÂØπË±°ÁöÑGC‰ø°ÊÅØ„ÄÅÈîÅ‰ø°ÊÅØÁ≠âÊï∞ ÊçÆÂ≠òÂÇ®Âú®ÂØπË±°ÁöÑÂØπË±°Â§¥‰∏≠„ÄÇËøô‰∏™ËøáÁ®ãÁöÑÂÖ∑‰ΩìËÆæÁΩÆÊñπÂºèÂèñÂÜ≥‰∫éJVMÂÆûÁé∞„ÄÇ 6,ÊâßË°åinitÊñπÊ≥ïËøõË°åÂàùÂßãÂåñ ‚Äã Âú®JavaÁ®ãÂ∫èÁöÑËßÜËßíÁúãÊù•ÔºåÂàùÂßãÂåñÊâçÊ≠£ÂºèÂºÄÂßã„ÄÇÂàùÂßãÂåñÊàêÂëòÂèòÈáèÔºåÊâßË°åÂÆû‰æãÂåñ‰ª£Á†ÅÂùóÔºåË∞ÉÁî®Á±ªÁöÑÊûÑÈÄ†ÊñπÊ≥ïÔºåÂπ∂ÊääÂ†ÜÂÜÖÂØπË±°ÁöÑÈ¶ñÂú∞ÂùÄËµãÂÄºÁªôÂºïÁî®ÂèòÈáè„ÄÇÂõ†Ê≠§‰∏ÄËà¨Êù•ËØ¥(Áî±Â≠óËäÇÁ†Å‰∏≠ÊòØÂê¶Ë∑üÈöèÊúâinvokespecialÊåá‰ª§ÊâÄÂÜ≥ÂÆö)ÔºånewÊåá‰ª§‰πãÂêé‰ºöÊé•ÁùÄÂ∞±ÊòØÊâßË°åÊñπÊ≥ïÔºåÊääÂØπË±°ÊåâÁÖßÁ®ãÂ∫èÂëòÁöÑÊÑèÊÑøËøõË°åÂàùÂßãÂåñÔºåËøôÊ†∑‰∏Ä‰∏™ÁúüÊ≠£ÂèØÁî®ÁöÑÂØπË±°ÊâçÁÆóÂÆåÂÖ®ÂàõÂª∫Âá∫Êù•„ÄÇ 3.ÂØπË±°ÁöÑÂÜÖÂ≠òÂ∏ÉÂ±Ä 4.ÂØπË±°ËÆøÈóÆÂÆö‰Ωç ÂçÅ‰∏Ä„ÄÅÁõ¥Êé•ÂÜÖÂ≠ò „Éª‰∏çÊòØËôöÊãüÊú∫ËøêË°åÊó∂Êï∞ÊçÆÂå∫ÁöÑ‰∏ÄÈÉ®ÂàÜÔºå‰πü‰∏çÊòØ„ÄäJavaËôöÊãüÊú∫ËßÑËåÉ„Äã‰∏≠ÂÆö‰πâÁöÑÂÜÖÂ≠òÂå∫Âüü„ÄÇ „ÉªÁõ¥Êé•ÂÜÖÂ≠òÊòØÂú®JavaÂ†ÜÂ§ñÁöÑ„ÄÅÁõ¥Êé•ÂêëÁ≥ªÁªüÁî≥ËØ∑ÁöÑÂÜÖÂ≠òÂå∫Èó¥„ÄÇ Êù•Ê∫ê‰∫éNIO,ÈÄöËøáÂ≠òÂú®Â†Ü‰∏≠ÁöÑ DirectbytebufferÊìç‰Ωú NativeÂÜÖÂ≠ò „ÉªÈÄöÂ∏∏ÔºåËÆøÈóÆÁõ¥Êé•ÂÜÖÂ≠òÁöÑÈÄüÂ∫¶‰ºö‰ºò‰∫éJavaÂ†Ü„ÄÇÂç≥ËØªÂÜôÊÄßËÉΩÈ´ò„ÄÇÂõ†Ê≠§Âá∫‰∫éÊÄßËÉΩËÄÉËôëÔºåËØªÂÜôÈ¢ëÁπÅÁöÑÂú∫ÂêàÂèØËÉΩ‰ºöËÄÉËôë‰ΩøÁî®Áõ¥Êé•ÂÜÖÂ≠ò„ÄÇ JavaÁöÑNIOÂ∫ìÂÖÅËÆ∏JavaÁ®ãÂ∫è‰ΩøÁî®Áõ¥Êé•ÂÜÖÂ≠òÔºåÁî®‰∫éÊï∞ÊçÆÁºìÂÜ≤Âå∫ ÈùûÁõ¥Êé•ÁºìÂ≠òÔºöËØªÂÜôÊñá‰ª∂ÔºåÈúÄË¶Å‰∏éÁ£ÅÁõò‰∫§‰∫íÔºåÈúÄË¶ÅÁî±Áî®Êà∑ÊÄÅÂàáÊç¢Âà∞ÂÜÖÊ†∏ÊÄÅ„ÄÇÂú®ÂÜÖÊ†∏ÊÄÅÊó∂ÔºåÈúÄË¶ÅÂÜÖÂ≠òÂ¶ÇÂè≥ÂõæÁöÑÊìç‰Ωú„ÄÇ ‰ΩøÁî®ÔΩ¥O,ËßÅÂè≥Âõæ„ÄÇËøôÈáåÈúÄË¶Å‰∏§‰ªΩÂÜÖÂ≠òÂ≠òÂÇ®ÈáçÂ§çÊï∞ÊçÆÔºåÊïàÁéá‰Ωé„ÄÇ Áõ¥Êé•ÁºìÂ≠òÔºö‰ΩøÁî®NIOÊó∂ÔºåÂ¶ÇÂõæ„ÄÇÊìç‰ΩúÁ≥ªÁªüÂàíÂá∫ÁöÑÁõ¥Êé•ÁºìÂ≠òÂå∫ÂèØ‰ª•Ë¢´java‰ª£Á†ÅÁõ¥Êé•ËÆøÈóÆÔºåÂè™Êúâ‰∏Ä‰ªΩ„ÄÇNIOÈÄÇÂêàÂØπÂ§ßÊñá‰ª∂ÁöÑËØªÂÜôÊìç‰Ωú„ÄÇ Áõ¥Êé•ÂÜÖÂ≠ò‰πüÂèØËÉΩÂØºËá¥ OutofmemoryerrorÂºÇÂ∏∏ÔºåÁî±‰∫éÁõ¥Êé•ÂÜÖÂ≠òÂú®JavaÂ†ÜÂ§ñÔºåÂõ†Ê≠§ÂÆÉÁöÑÂ§ßÂ∞è‰∏ç‰ºöÁõ¥Êé•ÂèóÈôê‰∫é-XmxÊåáÂÆöÁöÑÊúÄÂ§ßÂ†ÜÂ§ßÂ∞èÔºå‰ΩÜÊòØÁ≥ªÁªüÂÜÖÂ≠òÊòØÊúâÈôêÁöÑÔºåJavaÂ†ÜÂíåÁõ¥Êé•ÂÜÖÂ≠òÁöÑÊÄªÂíå‰æùÁÑ∂ÂèóÈôê‰∫éÊìç‰ΩúÁ≥ªÁªüËÉΩÁªôÂá∫ÁöÑÊúÄÂ§ßÂÜÖÂ≠ò„ÄÇ Áº∫ÁÇπÔºö ÂàÜÈÖçÂõûÊî∂ÊàêÊú¨ËæÉÈ´ò ‰∏çÂèóJVMÂÜÖÂ≠òÂõûÊî∂ÁÆ°ÁêÜ Áõ¥Êé•ÂÜÖÂ≠òÂ§ßÂ∞èÂèØ‰ª•ÈÄöËøá MaxDlrectMemorySizeÂ¶ÇÊûú‰∏çÊåáÂÆöÔºåÈªòËÆ§‰∏éÂ†ÜÁöÑÊúÄÂ§ßÂÄº‰∏ÄXmxÂèÇÊï∞ÂÄº‰∏ÄËá¥ ÂçÅ‰∫å„ÄÅÊâßË°åÂºïÊìé ÂçÅ‰∏â„ÄÅStringTable 1.StringÁöÑÂü∫Êú¨ÁâπÊÄß String:Â≠óÁ¨¶‰∏≤,‰ΩøÁî®‰∏ÄÂØπ&quot; &quot;ÂºïËµ∑Êù•Ë°®Á§∫. „Éª string s1=&quot; atgulqu&quot;;//Â≠óÈù¢ÈáèÁöÑÂÆö‰πâÊñπÂºè „Éª string s2= new String(&quot;hello&quot;)Ôºõ stringÂ£∞Êòé‰∏∫finalÁöÑ,‰∏çÂèØË¢´ÁªßÊâø „Éª stringÂÆûÁé∞‰∫Ü SerializableÊé•Âè£:Ë°®Á§∫Â≠óÁ¨¶‰∏≤ÊòØÊîØÊåÅÂ∫èÂàóÂåñÁöÑ. ÂÆûÁé∞‰∫Ü ComparableÊé•Âè£:Ë°®Á§∫ stringÂèØ‰ª•ÊØîËæÉÂ§ßÂ∞è „Éª StringÂú®jdk8Âèä‰ª•ÂâçÂÜÖÈÉ®ÂÆö‰πâ‰∫Ü final char„Äê„Äë valueÁî®‰∫éÂ≠òÂÇ®Â≠óÁ¨¶‰∏≤Êï∞ÊçÆ.jk9Êó∂Êîπ‰∏∫byte„Äê„ÄëÂä†‰∏äÁºñÁ†ÅÊ†áËÆ∞ ‰ª•ËäÇÁ∫¶Á©∫Èó¥„ÄÇStringBuffer‰∏éStringBuilderÂêåÊ≠•‰øÆÊîπ„ÄÇ string:‰ª£Ë°®‰∏çÂèØÂèòÁöÑÂ≠óÁ¨¶Â∫èÂàó.ÁÆÄÁß∞:‰∏çÂèØÂèòÊÄß. ÂΩìÂØπÂ≠óÁ¨¶‰∏≤ÈáçÊñ∞ËµãÂÄºÊó∂,ÈúÄË¶ÅÈáçÂÜôÊåáÂÆöÂÜÖÂ≠òÂå∫ÂüüËµãÂÄº,‰∏çËÉΩ‰ΩøÁî®ÂéüÊúâÁöÑvalueËøõË°åËµãÂÄº. ÂΩìÂØπÁé∞ÊúâÁöÑÂ≠óÁ¨¶‰∏≤ËøõË°åËøûÊé•Êìç‰ΩúÊó∂,‰πüÈúÄË¶ÅÈáçÊñ∞ÊåáÂÆöÂÜÖÂ≠òÂå∫ÂüüËµãÂÄº,‰∏çËÉΩ‰ΩøÁî®ÂéüÊúâÁöÑvalueËøõË°åËµãÂÄº. ÂΩìË∞ÉÁî® stringÁöÑ replace()ÊñπÊ≥ï‰øÆÊîπÊåáÂÆöÂ≠óÁ¨¶ÊàñÂ≠óÁ¨¶‰∏≤Êó∂,‰πüÈúÄË¶ÅÈáçÊñ∞ÊåáÂÆöÂÜÖÂ≠òÂå∫ÂüüËµãÂÄº,‰∏çËÉΩ‰ΩøÁî®ÂéüÊúâÁöÑvalueËøõË°åËµãÂÄº ÈÄöËøáÂ≠óÈù¢ÈáèÁöÑÊñπÂºè(Âå∫Âà´‰∫énew)Áªô‰∏Ä‰∏™Â≠óÁ¨¶‰∏≤ËµãÂÄº,Ê≠§Êó∂ÁöÑÂ≠óÁ¨¶‰∏≤ÂÄºÂ£∞ÊòéÂú®Â≠óÁ¨¶‰∏≤Â∏∏ÈáèÊ±†‰∏≠. Â≠óÁ¨¶‰∏≤Â∏∏ÈáèÊ±†‰∏≠ÊòØ‰∏ç‰ºöÂ≠òÂÇ®Áõ∏ÂêåÂÜÖÂÆπÁöÑÂ≠óÁ¨¶‰∏≤ÁöÑ StringlÁöÑ String PoolÊòØ‰∏Ä‰∏™Âõ∫ÂÆöÂ§ßÂ∞èÁöÑ Hashtable,ÈªòËÆ§ÂÄºÂ§ßÂ∞èÈïøÂ∫¶ÊòØ1009.Â¶ÇÊûúÊîæËøõ string PoolÁöÑStringÈùûÂ∏∏Â§ö,Â∞±‰ºöÈÄ†ÊàêHashÂÜ≤‰∏•Èáç,‰ªéËÄåÂØºËá¥ÈìæË°®‰ºöÂæàÈïø,ËÄåÈìæË°®Èïø‰∫ÜÂêéÁõ¥Êé•‰ºöÈÄ†ÊàêÁöÑÂΩ±ÂìçÂ∞±ÊòØÂΩìË∞ÉÁî® String. internlÊó∂ÊÄßËÉΩ‰ºöÂ§ßÂπÖ‰∏ãÈôç. ‰ΩøÁî®-XX: StringTableSizeÂèØËÆæÁΩÆ StringTableÁöÑÈïøÂ∫¶ Âú®jdk6‰∏≠ StringTableÊòØÂõ∫ÂÆöÁöÑ,Â∞±ÊòØ1009ÁöÑÈïøÂ∫¶,ÊâÄ‰ª•Â¶ÇÊûúÂ∏∏ÈáèÊ±†‰∏≠ÁöÑÂ≠óÁ¨¶‰∏≤ËøáÂ§öÂ∞±‰ºöÂØºËá¥ÊïàÁéá‰∏ãÈôçÂæàÂø´. StringTableSizeËÆæÁΩÆÊ≤°ÊúâË¶ÅÊ±Ç Âú®jdk7‰∏≠Ôºå StringtableÁöÑÈïøÂ∫¶ÈªòËÆ§ÂÄºÊòØ60013, StringTableSizeËÆæÁΩÆÊ≤°ÊúâË¶ÅÊ±Ç Jdk8ÂºÄÂßãÔºåËÆæÁΩÆ StringTableÁöÑÈïøÂ∫¶ÁöÑËØùÔºå1009ÊòØÂèØËÆæÁΩÆÁöÑÊúÄÂ∞èÂÄº„ÄÇ 2.StringÁöÑÂÜÖÂ≠òÂàÜÈÖç ‚Äã Âú®JavaËØ≠Ë®Ä‰∏≠Êúâ8ÁßçÂü∫Êú¨Êï∞ÊçÆÁ±ªÂûãÂíå‰∏ÄÁßçÊØîËæÉÁâπÊÆäÁöÑÁ±ªÂûã string„ÄÇËøô‰∫õÁ±ªÂûã‰∏∫‰∫Ü‰ΩøÂÆÉ‰ª¨Âú®ËøêË°åËøáÁ®ã‰∏≠ÈÄüÂ∫¶Êõ¥Âø´„ÄÅÊõ¥ËäÇÁúÅÂÜÖÂ≠òÔºåÈÉΩÊèê‰æõ‰∫Ü‰∏ÄÁßçÂ∏∏ÈáèÊ±†ÁöÑÊ¶ÇÂøµ„ÄÇÂ∏∏ÈáèÊ±†Â∞±Á±ª‰ºº‰∏Ä‰∏™JavaÁ≥ªÁªüÁ∫ßÂà´Êèê‰æõÁöÑÁºìÂ≠ò„ÄÇ8ÁßçÂü∫Êú¨Êï∞ÊçÆÁ±ªÂûãÁöÑÂ∏∏ÈáèÊ±†ÈÉΩÊòØÁ≥ªÁªüÂçèË∞ÉÁöÑÔºåStringÁ±ªÂûãÁöÑÂ∏∏ÈáèÊ±†ÊØîËæÉÁâπÊÆä„ÄÇÂÆÉÁöÑ‰∏ªË¶Å‰ΩøÁî®ÊñπÊ≥ïÊúâ‰∏§ÁßçÔºö Áõ¥Êé•‰ΩøÁî®ÂèåÂºïÂè∑Â£∞ÊòéÂá∫Êù•ÁöÑ stringÂØπË±°‰ºöÁõ¥Êé•Â≠òÂÇ®Âú®Â∏∏ÈáèÊ±†‰∏≠„ÄÇÊØîÂ¶ÇÔºöStringinfo=&quot;atqulgu.com&quot;; Â¶ÇÊûú‰∏çÊòØÁî®ÂèåÂºïÂè∑Â£∞ÊòéÁöÑ stringÂØπË±°ÔºåÂèØ‰ª•‰ΩøÁî® stringÊèê‰æõÁöÑ InternÔºàÔºâÊñπÊ≥ï„ÄÇ Java6Âèä‰ª•ÂâçÔºåÂ≠óÁ¨¶‰∏≤Â∏∏ÈáèÊ±†Â≠òÊîæÂú®Ê∞∏‰πÖ‰ª£„ÄÇ Java7 ‰∏≠ OracleÁöÑÂ∑•Á®ãÂ∏àÂØπÂ≠óÁ¨¶‰∏≤Ê±†ÁöÑÈÄªËæëÂÅö‰∫ÜÂæàÂ§ßÁöÑÊîπÂèòÔºåÂç≥Â∞ÜÂ≠óÁ¨¶‰∏≤Â∏∏ÈáèÊ±†ÁöÑ‰ΩçÁΩÆË∞ÉÊï¥Âà∞JavaÂ†ÜÂÜÖ„ÄÇ ÊâÄÊúâÁöÑÂ≠óÁ¨¶‰∏≤ÈÉΩ‰øùÂ≠òÂú®Â†Ü(Heap)‰∏≠ÔºåÂíåÂÖ∂‰ªñÊôÆÈÄöÂØπË±°‰∏ÄÊ†∑ÔºåËøôÊ†∑ÂèØ‰ª•ËÆ©‰Ω†Âú®ËøõË°åË∞É‰ºòÂ∫îÁî®Êó∂‰ªÖÈúÄË¶ÅË∞ÉÊï¥Â†ÜÂ§ßÂ∞èÂ∞±ÂèØ‰ª•‰∫Ü„ÄÇ Â≠óÁ¨¶‰∏≤Â∏∏ÈáèÊ±†Ê¶ÇÂøµÂéüÊú¨‰ΩøÁî®ÂæóÊØîËæÉÂ§öÔºå‰ΩÜÊòØËøô‰∏™ÊîπÂä®‰ΩøÂæóÊàë‰ª¨ÊúâË∂≥Â§üÁöÑÁêÜÁî±ËÆ©Êàë‰ª¨ÈáçÊñ∞ËÄÉËôëÂú®Java7‰∏≠‰ΩøÁî® string.internÔºàÔºâ Java8ÂÖÉÁ©∫Èó¥ÔºåÂ≠óÁ¨¶‰∏≤Â∏∏ÈáèÂú®Â†Ü„ÄÇ 3.StringÁöÑÂü∫Êú¨Êìç‰Ωú 4.Â≠óÁ¨¶‰∏≤ÊãºÊé•Êìç‰Ωú Â∏∏Èáè‰∏éÂ∏∏ÈáèÁöÑÊãºÊé•ÁªìÊûúÂú®Â∏∏ÈáèÊ±†ÔºåÂéüÁêÜÊòØÁºñËØëÊúü‰ºòÂåñ 2.Â∏∏ÈáèÊ±†‰∏≠‰∏ç‰ºöÂ≠òÂú®Áõ∏ÂêåÂÜÖÂÆπÁöÑÂ∏∏Èáè„ÄÇ 3.Âè™Ë¶ÅÂÖ∂‰∏≠Êúâ‰∏Ä‰∏™ÊòØÂèòÈáèÔºåÁªìÊûúÂ∞±Âú®Â†Ü‰∏≠„ÄÇÂèòÈáèÊãºÊé•ÁöÑÂéüÁêÜÊòØ String Builder 4.Â¶ÇÊûúÊãºÊé•ÁöÑÁªìÊûúË∞ÉÁî® internÔºàÔºâÊñπÊ≥ïÔºåÂàô‰∏ªÂä®Â∞ÜÂ∏∏ÈáèÊ±†‰∏≠ËøòÊ≤°ÊúâÁöÑÂ≠óÁ¨¶‰∏≤ÂØπË±°ÊîæÂÖ•Ê±†‰∏≠ÔºåÂπ∂ËøîÂõûÊ≠§ÂØπË±°Âú∞ÂùÄ„ÄÇ Â≠óÁ¨¶‰∏≤Â¶Ç‰ΩïÊãºÊé•Ôºü Â≠óÁ¨¶ÂÆ°ÊãºÊé•Êìç‰Ωú‰∏ç‰∏ÄÂÆö‰ΩøÁî®ÁöÑÊòØ Stringbuilder! Â¶ÇÊûúÊãºÊé•Á¨¶Âè∑Â∑¶Âè≥‰∏§ËæπÈÉ®ÊòØÂ≠óÁ¨¶ÂÆ°Â∏∏ÈáèÊà¶Â∏∏ÈáèÂºïÁî®ÔºåÂàô‰ªçÁÑ∂‰ΩøÁºñËØëÊúü‰ºòÂåñÔºåÂç≥Èùû StringBuilderÁöÑÊñπÂºèÂàÜÂØπ‰∫é final‰øÆÈ£æÁ±ª„ÄÅÊñπÊ≥ï„ÄÅËí∏Êú¨Êï∞Á±ªÁéá„ÄÅÂºïÁî®Êï∞ÊçÆÁ±ªÂûãÁöÑÈáèÁöÑÁªìÊûÑÊó∂ÔºåËÉΩ‰ΩøÁî®‰∏ä finalÁöÑÊó∂ÂÄôÂª∫ËÆÆ‰ΩøÁî®‰∏ä„ÄÇ ‰Ωì‰ºöÊâßË°åÊïàÁéáÔºöÈÄöËøá StringBuilderÁöÑappendÔºàÔºâÁöÑÊñπÂºèÊ∑ªÂä†Â≠óÁ¨¶ÂÆáÁöÑÊïôÁéáË¶ÅËøúÈ´ò‰∫é‰ΩøÁî® stringÁöÑÂ≠óÁ¨¶ÂÆáÊãºÊé•ÊñπÂºèÔºÅ Ê¥ãÊÉÖÔºö StringBuilderÁöÑ appendÔºàÔºâÁöÑÊñπÂºèÔºöËá™ÂßãËá≥ÁµÇ‰∏≠Âè™ÂàõÂª∫Ëøá‰∏Ä‰∏™StringBuilderÁöÑÂØπË±° ‰ΩøÁî®StringÁöÑÂ≠óÁ¨¶‰∏≤ÊãºÊé•ÊñπÂºèÔºöÂª∫ËøáÂ§ö‰∏™ StringBuilderÂíå StringÁöÑÂØπË±° ‰ΩøÁî® StringÁöÑÂ≠óÁ¨¶‰∏≤ÊãºÊé•ÊñπÂºèÔºöÂÜÖÂ≠ò‰∏≠Âá∫‰∫éÂàõÂª∫‰∫ÜËæÉÂ§ö StringBuilderÂíå StringÁöÑÂØπË±°ÔºåÂÜÖÂ≠òÂç†Áî®Êõ¥Â§ßÔºõÂ¶ÇÊûúËøõË°åGC,ÈúÄË¶ÅËä±Ë¥πÈ¢ùÂ§ñÁöÑÊó∂Èó¥„ÄÇ ÊîπËøõÁ©∫Èó¥ÔºöÂú®ÂÆûÈôÖÂºÄÂèë‰∏≠ÔºåÂ¶ÇÊûúÂü∫Êú¨Á°ÆÂÆöË¶ÅÂâçÂâçÂêéÂêéÊ∑ªÂä†ÁöÑÂ≠óÁ¨¶‰∏≤ÈïøÂ∫¶‰∏çÈ´òÊâãÊüê‰∏™ÈôêÂÆöÂÄº highlevelÁöÑÂÜµ‰∏ãÔºåÂª∫ËÆÆ‰ΩøÁî®ÊûÑÈÄ†Âô®ÂÆû‰æãÂåñ StringBuilder s=new StringBuilder(highlevel);//new char[highlevel] 12345678String s1=&quot;a&quot;;String s2=&quot;b&quot;;String s3=&quot;ab&quot;;//s1+s2ÁªÜËäÇÔºö//1.StringBuilder s=new StringBuilder();//s.append(&quot;a&quot;);//s.append(&quot;b&quot;);//s.toString()//---&gt;Á∫¶Á≠â‰∫é new String(&quot;ab&quot;) 5.internÔºàÔºâÁöÑ‰ΩøÁî® ‚Äã Â¶ÇÊûú‰∏çÊòØÁî®ÂèåÂºïÂè∑Â£∞ÊòéÁöÑ stringÂØπË±°ÔºåÂèØ‰ª•‰ΩøÁî® stringÊèê‰æõÁöÑ internÊñπÊ≥ïÔºö internÊñπÊ≥ï‰ºö‰ªéÂ≠óÁ¨¶‰∏≤Â∏∏ÈáèÊ±†‰∏≠ÊüªËØ¢ÂΩìÂâçÂ≠óÁ¨¶‰∏≤ÊòØÂê¶Â≠òÂú®ÔºåËã•‰∏çÂ≠òÂú®Â∞±‰ºöÂ∞ÜÂΩìÂâçÂ≠óÁ¨¶‰∏≤ÊîæÂÖ•Â∏∏ÈáèÊ±†‰∏≠„ÄÇ ÊØîÂ¶ÇÔºöString myinfo = new string(&quot;I love atguigu&quot;).intern(Ôºâ ‚Äã ‰πüÂ∞±ÊòØËØ¥ÔºåÂ¶ÇÊûúÂú®‰ªªÊÑèÂ≠óÁ¨¶‰∏≤‰∏äË∞ÉÁî® string. internÊñπÊ≥ïÔºåÈÇ£‰πàÂÖ∂ËøîÂõûÁªìÊûúÊâÄÊåáÂêëÁöÑÈÇ£‰∏™Á±ªÂÆû‰æãÔºåÂøÖÈ°ªÂíåÁõ¥Êé•‰ª•Â∏∏ÈáèÂΩ¢ÂºèÂá∫Áé∞ÁöÑÂ≠óÁ¨¶‰∏≤ÂÆû‰æãÂÆåÂÖ®Áõ∏Âêå„ÄÇÂõ†Ê≠§Ôºå‰∏ãÂàóË°®ËææÂºèÁöÑÂÄºÂøÖÂÆöÊòØtrue: ‚Äã (‚Äúa‚Äù+‚Äúb‚Äù+‚Äúc‚Äù).intern() ==&quot;abc&quot; ‚Äã ÈÄö‰øóÁÇπËÆ≤Ôºå Interned String/Â∞±ÊòØÁ°Æ‰øùÂ≠óÁ¨¶‰∏≤Âú®ÂÜÖÂ≠òÈáåÂè™Êúâ‰∏Ä‰ªΩÊã∑Ë¥ùÔºåËøôÊ†∑ÂèØ‰ª•ËäÇÁ∫¶ÂÜÖÂ≠òÁ©∫Èó¥ÔºåÂä†Âø´Â≠óÁ¨¶‰∏≤Êìç‰Ωú‰ªªÂä°ÁöÑÊâßË°åÈÄüÂ∫¶„ÄÇÊ≥®ÊÑèÔºåËøô‰∏™ÂÄº‰ºöË¢´Â≠òÊîæÂú®Â≠óÁ¨¶‰∏≤ÂÜÖÈÉ®Ê±†(String Intern Pool) ÈóÆÈ¢ò new StringÔºà‚Äúab‚ÄùÔºâ‰ºöÂàõÂª∫Âá†‰∏™ÂØπË±°,new String(&quot;a&quot;) + new String(&quot;b&quot;)Âë¢Ôºü 1234567891011121314151617181920212223242526/** * È¢òÁõÆÔºö * new String(&quot;ab&quot;)‰ºöÂàõÂª∫Âá†‰∏™ÂØπË±°ÔºüÁúãÂ≠óËäÇÁ†ÅÔºåÂ∞±Áü•ÈÅìÊòØ‰∏§‰∏™„ÄÇ * ‰∏Ä‰∏™ÂØπË±°ÊòØÔºönewÂÖ≥ÈîÆÂ≠óÂú®Â†ÜÁ©∫Èó¥ÂàõÂª∫ÁöÑ * Âè¶‰∏Ä‰∏™ÂØπË±°ÊòØÔºöÂ≠óÁ¨¶‰∏≤Â∏∏ÈáèÊ±†‰∏≠ÁöÑÂØπË±°&quot;ab&quot;„ÄÇ Â≠óËäÇÁ†ÅÊåá‰ª§Ôºöldc * * * ÊÄùËÄÉÔºö * new String(&quot;a&quot;) + new String(&quot;b&quot;)Âë¢Ôºü * ÂØπË±°1Ôºönew StringBuilder() * ÂØπË±°2Ôºö new String(&quot;a&quot;) * ÂØπË±°3Ôºö Â∏∏ÈáèÊ±†‰∏≠ÁöÑ&quot;a&quot; * ÂØπË±°4Ôºö new String(&quot;b&quot;) * ÂØπË±°5Ôºö Â∏∏ÈáèÊ±†‰∏≠ÁöÑ&quot;b&quot; * * Ê∑±ÂÖ•ÂâñÊûêÔºö StringBuilderÁöÑtoString(): * ÂØπË±°6 Ôºönew String(&quot;ab&quot;) * Âº∫Ë∞É‰∏Ä‰∏ãÔºåtoString()ÁöÑË∞ÉÁî®ÔºåÂú®Â≠óÁ¨¶‰∏≤Â∏∏ÈáèÊ±†‰∏≠ÔºåÊ≤°ÊúâÁîüÊàê&quot;ab&quot; */public class StringNewTest { public static void main(String[] args) {// String str = new String(&quot;ab&quot;); String str = new String(&quot;a&quot;) + new String(&quot;b&quot;); }} Â¶Ç‰Ωï‰øùËØÅÂèòÈáèsÊåáÂêëÁöÑÊòØÂ≠óÁ¨¶‰∏≤Â∏∏ÈáèÊ±†‰∏≠ÁöÑÊï∞ÊçÆÂë¢Ôºü 123456789101112131415161718192021222324252627/** * Â¶Ç‰Ωï‰øùËØÅÂèòÈáèsÊåáÂêëÁöÑÊòØÂ≠óÁ¨¶‰∏≤Â∏∏ÈáèÊ±†‰∏≠ÁöÑÊï∞ÊçÆÂë¢Ôºü * Êúâ‰∏§ÁßçÊñπÂºèÔºö * ÊñπÂºè‰∏ÄÔºö String s = &quot;shkstart&quot;;//Â≠óÈù¢ÈáèÂÆö‰πâÁöÑÊñπÂºè * ÊñπÂºè‰∫åÔºö Ë∞ÉÁî®intern() * String s = new String(&quot;shkstart&quot;).intern(); * String s = new StringBuilder(&quot;shkstart&quot;).toString().intern(); */public class StringIntern { public static void main(String[] args) { String s = new String(&quot;1&quot;); s.intern();//Ë∞ÉÁî®Ê≠§ÊñπÊ≥ï‰πãÂâçÔºåÂ≠óÁ¨¶‰∏≤Â∏∏ÈáèÊ±†‰∏≠Â∑≤ÁªèÂ≠òÂú®‰∫Ü&quot;1&quot; String s2 = &quot;1&quot;; System.out.println(s == s2);//jdk6Ôºöfalse jdk7/8Ôºöfalse String s3 = new String(&quot;1&quot;) + new String(&quot;1&quot;);//s3ÂèòÈáèËÆ∞ÂΩïÁöÑÂú∞ÂùÄ‰∏∫Ôºönew String(&quot;11&quot;) //ÊâßË°åÂÆå‰∏ä‰∏ÄË°å‰ª£Á†Å‰ª•ÂêéÔºåÂ≠óÁ¨¶‰∏≤Â∏∏ÈáèÊ±†‰∏≠ÔºåÊòØÂê¶Â≠òÂú®&quot;11&quot;Âë¢ÔºüÁ≠îÊ°àÔºö‰∏çÂ≠òÂú®ÔºÅÔºÅ s3.intern();//Âú®Â≠óÁ¨¶‰∏≤Â∏∏ÈáèÊ±†‰∏≠ÁîüÊàê&quot;11&quot;„ÄÇÂ¶Ç‰ΩïÁêÜËß£Ôºöjdk6:ÂàõÂª∫‰∫Ü‰∏Ä‰∏™Êñ∞ÁöÑÂØπË±°&quot;11&quot;,‰πüÂ∞±ÊúâÊñ∞ÁöÑÂú∞ÂùÄ„ÄÇ // jdk7:Ê≠§Êó∂Â∏∏Èáè‰∏≠Âπ∂Ê≤°ÊúâÂàõÂª∫&quot;11&quot;,ËÄåÊòØÂàõÂª∫‰∏Ä‰∏™ÊåáÂêëÂ†ÜÁ©∫Èó¥‰∏≠new String(&quot;11&quot;)ÁöÑÂú∞ÂùÄ String s4 = &quot;11&quot;;//s4ÂèòÈáèËÆ∞ÂΩïÁöÑÂú∞ÂùÄÔºö‰ΩøÁî®ÁöÑÊòØ‰∏ä‰∏ÄË°å‰ª£Á†Å‰ª£Á†ÅÊâßË°åÊó∂ÔºåÂú®Â∏∏ÈáèÊ±†‰∏≠ÁîüÊàêÁöÑ&quot;11&quot;ÁöÑÂú∞ÂùÄ System.out.println(s3 == s4);//jdk6Ôºöfalse jdk7/8Ôºötrue }} 12345678910public class StringIntern1 { public static void main(String[] args) { String s3 = new String(&quot;1&quot;) + new String(&quot;1&quot;);//new String(&quot;11&quot;) //ÊâßË°åÂÆå‰∏ä‰∏ÄË°å‰ª£Á†Å‰ª•ÂêéÔºåÂ≠óÁ¨¶‰∏≤Â∏∏ÈáèÊ±†‰∏≠ÔºåÊòØÂê¶Â≠òÂú®&quot;11&quot;Âë¢ÔºüÁ≠îÊ°àÔºö‰∏çÂ≠òÂú®ÔºÅÔºÅ String s4 = &quot;11&quot;;//Âú®Â≠óÁ¨¶‰∏≤Â∏∏ÈáèÊ±†‰∏≠ÁîüÊàêÂØπË±°&quot;11&quot; String s5 = s3.intern(); System.out.println(s3 == s4);//false System.out.println(s5 == s4);//true }} ÊÄªÁªì stringlÁöÑ internÔºàÔºâÁöÑ‰ΩøÁî® „Éªjdk1.6‰∏≠ÔºåÂ∞ÜËøô‰∏™Â≠óÁ¨¶‰∏≤ÂØπË±°Â∞ùËØïÊîæÂÖ•‰∏≤Ê±†„ÄÇ Â¶ÇÊûú‰∏≤Ê±†‰∏≠ÊúâÔºåÂàôÂπ∂‰∏ç‰ºöÊîæÂÖ•„ÄÇËøîÂõûÂ∑≤ÊúâÁöÑ‰∏≤Ê±†‰∏≠ÁöÑÂØπË±°ÁöÑÂú∞ÂùÄ„ÄÇÂ¶ÇÊûúÊ≤°ÊúâÔºå‰ºöÊääÊ≠§ÂØπË±°Â§çÂà∂‰∏Ä‰ªΩÔºåÊîæÂÖ•‰∏≤Ê±†ÔºåÂπ∂ËøîÂõû‰∏≤Ê±†‰∏≠ÁöÑÂØπË±°Âú∞ÂùÄ „ÉªJdk1.7Ëµ∑ÔºåÂ∞ÜËøô‰∏™Â≠óÁ¨¶‰∏≤ÂØπË±°Â∞ùËØïÊîæÂÖ•‰∏≤Ê±†„ÄÇ Â¶ÇÊûú‰∏≤Ê±†‰∏≠ÊúâÔºåÂàôÂπ∂‰∏ç‰ºöÊîæÂÖ•„ÄÇËøîÂõûÂ∑≤ÊúâÁöÑ‰∏≤Ê±†‰∏≠ÁöÑÂØπË±°ÁöÑÂú∞ÂùÄ„ÄÇÂ¶ÇÊûúÊ≤°ÊúâÔºåÂàô‰ºöÊääÂØπË±°ÁöÑÂºïÁî®Âú∞ÂùÄÂ§çÂà∂‰∏Ä‰ªΩÔºåÊîæÂÖ•‰∏≤Ê±†ÔºåÂπ∂ËøîÂõû‰∏≤Ê±†‰∏≠ÁöÑÂºïÁî®Âú∞ÂùÄ 12345678910111213public class StringExer1 { public static void main(String[] args) { String x = &quot;ab&quot;; String s = new String(&quot;a&quot;) + new String(&quot;b&quot;);//new String(&quot;ab&quot;) //Âú®‰∏ä‰∏ÄË°å‰ª£Á†ÅÊâßË°åÂÆå‰ª•ÂêéÔºåÂ≠óÁ¨¶‰∏≤Â∏∏ÈáèÊ±†‰∏≠Âπ∂Ê≤°Êúâ&quot;ab&quot; String s2 = s.intern();//jdk6‰∏≠ÔºöÂú®‰∏≤Ê±†‰∏≠ÂàõÂª∫‰∏Ä‰∏™Â≠óÁ¨¶‰∏≤&quot;ab&quot; //jdk8‰∏≠Ôºö‰∏≤Ê±†‰∏≠Ê≤°ÊúâÂàõÂª∫Â≠óÁ¨¶‰∏≤&quot;ab&quot;,ËÄåÊòØÂàõÂª∫‰∏Ä‰∏™ÂºïÁî®ÔºåÊåáÂêënew String(&quot;ab&quot;)ÔºåÂ∞ÜÊ≠§ÂºïÁî®ËøîÂõû System.out.println(s2 == &quot;ab&quot;);//jdk6:true jdk8:true System.out.println(s == &quot;ab&quot;);//jdk6:false jdk8:true }} 123456789public class StringExer2 { public static void main(String[] args) { String s1 = new String(&quot;ab&quot;);//ÊâßË°åÂÆå‰ª•ÂêéÔºå‰ºöÂú®Â≠óÁ¨¶‰∏≤Â∏∏ÈáèÊ±†‰∏≠‰ºöÁîüÊàê&quot;ab&quot;// String s1 = new String(&quot;a&quot;) + new String(&quot;b&quot;);////ÊâßË°åÂÆå‰ª•ÂêéÔºå‰∏ç‰ºöÂú®Â≠óÁ¨¶‰∏≤Â∏∏ÈáèÊ±†‰∏≠‰ºöÁîüÊàê&quot;ab&quot; s1.intern(); String s2 = &quot;ab&quot;; System.out.println(s1 == s2); }} Á©∫Èó¥ÊïàÁéáÊµãËØï 123456789101112131415161718192021222324252627282930/** * ‰ΩøÁî®intern()ÊµãËØïÊâßË°åÊïàÁéáÔºöÁ©∫Èó¥‰ΩøÁî®‰∏ä * * ÁªìËÆ∫ÔºöÂØπ‰∫éÁ®ãÂ∫è‰∏≠Â§ßÈáèÂ≠òÂú®Â≠òÂú®ÁöÑÂ≠óÁ¨¶‰∏≤ÔºåÂ∞§ÂÖ∂ÂÖ∂‰∏≠Â≠òÂú®ÂæàÂ§öÈáçÂ§çÂ≠óÁ¨¶‰∏≤Êó∂Ôºå‰ΩøÁî®intern()ÂèØ‰ª•ËäÇÁúÅÂÜÖÂ≠òÁ©∫Èó¥„ÄÇ * Â§ßÁöÑÁΩëÁ´ôÂπ≥Âè∞ÔºåÈúÄË¶ÅÂÜÖÂ≠ò‰∏≠Â≠òÂÇ®Â§ßÈáèÁöÑÂ≠óÁ¨¶‰∏≤„ÄÇÊØîÂ¶ÇÁ§æ‰∫§ÁΩëÁ´ôÔºåÂæàÂ§ö‰∫∫ÈÉΩÂ≠òÂÇ®ÔºöÂåó‰∫¨Â∏Ç„ÄÅÊµ∑Ê∑ÄÂå∫Á≠â‰ø°ÊÅØ„ÄÇËøôÊó∂‰æØÂ¶ÇÊûúÂ≠óÁ¨¶‰∏≤ÈÉΩË∞ÉÁî®internÔºàÔºâÊñπ * * Ê≥ïÔºåÂ∞±‰ºöÊòéÊòæÈôç‰ΩéÂÜÖÂ≠òÁöÑÂ§ßÂ∞è„ÄÇ */public class StringIntern2 { static final int MAX_COUNT = 1000 * 10000; static final String[] arr = new String[MAX_COUNT]; public static void main(String[] args) { Integer[] data = new Integer[]{1,2,3,4,5,6,7,8,9,10}; long start = System.currentTimeMillis(); for (int i = 0; i &lt; MAX_COUNT; i++) {// arr[i] = new String(String.valueOf(data[i % data.length])); arr[i] = new String(String.valueOf(data[i % data.length])).intern(); } long end = System.currentTimeMillis(); System.out.println(&quot;Ëä±Ë¥πÁöÑÊó∂Èó¥‰∏∫Ôºö&quot; + (end - start)); try { Thread.sleep(1000000); } catch (InterruptedException e) { e.printStackTrace(); } System.GC(); }} ÂûÉÂúæÂõûÊî∂ÊµãËØï 1234567891011121314/** * StringÁöÑÂûÉÂúæÂõûÊî∂: * -Xms15m -Xmx15m -XX:+PrintStringTableStatistics -XX:+PrintGCDetails * * @author shkstart shkstart@126.com * @create 2020 21:27 */public class StringGCTest { public static void main(String[] args) { for (int j = 0; j &lt; 100000; j++) { String.valueOf(j).intern(); } }} G1ÁöÑStringÂéªÈáçÊìç‰Ωú ËÉåÊôØÔºö ÂØπËÆ∏Â§öJavaÂ∫îÁî®ÔºàÊúâÂ§ßÁöÑ‰πüÊúâÂ∞èÁöÑÔºâÂÅöÁöÑÊµãËØïÂæóÂá∫‰ª•‰∏ãÁªìÊûúÔºö Â†ÜÂ≠òÊ¥ªÊï∞ÊçÆÈõÜÂêàÈáåÈù¢ string,ÂØπË±°Âç†‰∫Ü25% Â†ÜÂ≠òÊ¥ªÊï∞ÊçÆÈõÜÂêàÈáåÈù¢ÈáçÂ§çÁöÑ stringÂØπË±°Êúâ13.5% StringÂØπË±°ÁöÑÂπ≥ÂùáÈïøÂ∫¶ÊòØ45 ËÆ∏Â§öÂ§ßËßÑÊ®°ÁöÑJavaÂ∫îÁî®ÁöÑÁì∂È¢àÂú®‰∫éÂÜÖÂ≠òÔºåÊµãËØïË°®ÊòéÔºåÂú®Ëøô‰∫õÁ±ªÂûãÁöÑÂ∫îÁî®ÈáåÈù¢ÔºåJavaÂ†Ü‰∏≠Â≠òÊ¥ªÁöÑÊï∞ÊçÆÈõÜÂêàÂ∑Æ‰∏çÂ§ö25%ÊòØ stringÂØπË±°„ÄÇÊõ¥Ëøõ‰∏ÄÊ≠•ÔºåËøôÈáåÈù¢Â∑Æ‰∏çÂ§ö‰∏ÄÂçä stringÂØπË±°ÊòØÈáçÂ§çÁöÑÔºåÈáçÂ§çÁöÑÊÑèÊÄùÊòØËØ¥: strinG1. equals( string2)=true„ÄÇÂ†Ü‰∏äÂ≠òÂú®ÈáçÂ§çÁöÑ StringÂØπË±°ÂøÖÁÑ∂ÊòØ‰∏ÄÁßçÂÜÖÂ≠òÁöÑÊµ™Ë¥π„ÄÇËøô‰∏™È°πÁõÆÂ∞ÜÂú®G1ÂûÉÂúæÊî∂ÈõÜÂô®‰∏≠ÂÆûÁé∞Ëá™Âä®ÊåÅÁª≠ÂØπÈáçÂ§çÁöÑ stringÂØπË±°ËøõË°åÂéªÈáçÔºåËøôÊ†∑Â∞±ËÉΩÈÅøÂÖçÊµ™Ë¥πÂÜÖÂ≠ò„ÄÇ ÂÆûÁé∞ ÂΩìÂûÉÂúæÊî∂ÈõÜÂô®Â∑•‰ΩúÁöÑÊó∂ÂÄôÔºå‰ºöËÆøÈóÆÂ†Ü‰∏äÂ≠òÊ¥ªÁöÑÂØπË±°„ÄÇÂØπÊØè‰∏Ä‰∏™ËÆøÈóÆÁöÑÂØπË±°ÈÉΩ‰ºöÊ£ÄÊü•ÊòØÂê¶ÊòØÂÄôÈÄâÁöÑË¶ÅÂéªÈáçÁöÑStringÂØπË±°„ÄÇ Â¶ÇÊûúÊòØÔºåÊääËøô‰∏™ÂØπË±°ÁöÑ‰∏Ä‰∏™ÂºïÁî®ÊèíÂÖ•Âà∞ÈòüÂàó‰∏≠Á≠âÂæÖÂêéÁª≠ÁöÑÂ§ÑÁêÜ„ÄÇ‰∏Ä‰∏™ÂéªÈáçÁöÑÁ∫øÁ®ãÂú®ÂêéÂè∞ËøêË°åÔºåÂ§ÑÁêÜËøô‰∏™ÈòüÂàó„ÄÇÂ§ÑÁêÜÈòüÂàóÁöÑ‰∏Ä‰∏™ÂÖÉÁ¥†ÊÑèÂë≥ÁùÄ‰ªéÈòüÂàóÂà†Èô§Ëøô‰∏™ÂÖÉÁ¥†ÔºåÁÑ∂ÂêéÂ∞ùËØïÂéªÈáçÂÆÉÂºïÁî®ÁöÑStringÂØπË±°„ÄÇ ‰ΩøÁî®‰∏Ä‰∏™ hashtableÊù•ËÆ∞ÂΩïÊâÄÊúâÁöÑË¢´ StringÂØπË±°‰ΩøÁî®ÁöÑ‰∏çÈáçÂ§çÁöÑcharÊï∞ÁªÑ„ÄÇÂΩìÂéªÈáçÁöÑÊó∂ÂÄôÔºå‰ºöÊüªËøô‰∏™ hashtable,Êù•ÁúãÂ†Ü‰∏äÊòØÂê¶Â∑≤ÁªèÂ≠òÂú®‰∏Ä‰∏™‰∏ÄÊ®°‰∏ÄÊ†∑ÁöÑcharÊï∞ÁªÑ„ÄÇ Â¶ÇÊûúÂ≠òÂú®Ôºå stringÂØπË±°‰ºöË¢´Ë∞ÉÊï¥ÂºïÁî®ÈÇ£‰∏™Êï∞ÁªÑÔºåÈáäÊîæÂØπÂéüÊù•ÁöÑÊï∞ÁªÑÁöÑÂºïÁî®ÔºåÊúÄÁªà‰ºöË¢´ÂûÉÂúæÊî∂ÈõÜÂô®ÂõûÊî∂Êéâ„ÄÇ Â¶ÇÊûúÊü•ÊâæÂ§±Ë¥•ÔºåcharÊï∞ÁªÑ‰ºöË¢´ÊèíÂÖ•Âà∞ hashtable,ËøôÊ†∑‰ª•ÂêéÁöÑÊó∂ÂÄôÂ∞±ÂèØ‰ª•ÂÖ±‰∫´Ëøô‰∏™Êï∞ÁªÑ‰∫Ü„ÄÇ ÂëΩ‰ª§Ë°åÈÄâÈ°π UsestringDeduplication(bool):ÂºÄÂêØ StringÂéªÈáçÔºåÈªòËÆ§ÊòØ‰∏çÂºÄÂêØÁöÑÔºåÈúÄË¶ÅÊâãÂä®ÂºÄÂêØ„ÄÇ PrintstringDeduplicationStatistics(bool):ÊâìÂç∞ËØ¶ÁªÜÁöÑÂéªÈáçÁªüËÆ°‰ø°ÊÅØ StringdeduplicationAgethreshold( uintx):ËææÂà∞Ëøô‰∏™Âπ¥ÈæÑÁöÑ stringÂØπË±°Ë¢´ËÆ§‰∏∫ÊòØÂéªÈáçÁöÑÂÄôÈÄâÂØπË±° ÂçÅÂõõ„ÄÅÂûÉÂúæÂõûÊî∂Ê¶ÇËø∞ ÂûÉÂúæÊî∂ÈõÜÔºå‰∏çÊòØJavaËØ≠Ë®ÄÁöÑ‰º¥Áîü‰∫ßÁâ©„ÄÇÊó©Âú®1960Âπ¥ÔºåÁ¨¨‰∏ÄÈó®ÂºÄÂßã‰ΩøÁî®ÂÜÖÂ≠òÂä®ÊÄÅÂàÜÈÖçÂíåÂûÉÂúæÊî∂ÈõÜÊäÄÊúØÁöÑLispËØ≠Ë®ÄËØûÁîü ÂÖ≥‰∫éÂûÉÂúæÊî∂ÈõÜÊúâ‰∏â‰∏™ÁªèÂÖ∏ÈóÆÈ¢òÔºöÂì™‰∫õÂÜÖÂ≠òÈúÄË¶ÅÂõûÊî∂Ôºü&gt;‰ªÄ‰πàÊó∂ÂÄôÂõûÊî∂ÔºüÂ¶Ç‰ΩïÂõûÊî∂Ôºü ÂûÉÂúæÊî∂ÈõÜÊú∫Âà∂ÊòØJavaÁöÑÊãõÁâåËÉΩÂäõÔºåÊûÅÂ§ßÂú∞ÊèêÈ´ò‰∫ÜÂºÄÂèëÊïàÁéá„ÄÇÂ¶Ç‰ªäÔºåÂûÉÂúæÊî∂ÈõÜÂá†‰πéÊàê‰∏∫Áé∞‰ª£ËØ≠Ë®ÄÁöÑÊ†áÈÖçÔºåÂç≥‰ΩøÁªèËøáÂ¶ÇÊ≠§ÈïøÊó∂Èó¥ÁöÑÂèëÂ±ïÔºåJavaÁöÑÂûÉÂúæÊî∂ÈõÜÊú∫Âà∂‰ªçÁÑ∂Âú®‰∏çÊñ≠ÁöÑÊºîËøõ‰∏≠Ôºå‰∏çÂêåÂ§ßÂ∞èÁöÑËÆæÂ§á„ÄÅ‰∏çÂêåÁâπÂæÅÁöÑÂ∫îÁî®Âú∫ÊôØÔºåÂØπÂûÉÂúæÊî∂ÈõÜÊèêÂá∫‰∫ÜÊñ∞ÁöÑÊåëÊàòÔºåËøôÂΩìÁÑ∂‰πüÊòØÈù¢ËØïÁöÑÁÉ≠ÁÇπ„ÄÇ È¢ò‰æãÔºö ËöÇËöÅÈáëÊúçÔºö ‰Ω†Áü•ÈÅìÂì™Âá†ÁßçÂûÉÂúæÂõûÊî∂Âô®ÔºåÂêÑËá™ÁöÑ‰ºòÁº∫ÁÇπÔºåÈáçÁÇπËÆ≤‰∏Ä‰∏ãCMSÂíåG1 Èù¢Ôºö JVM GCÁÆóÊ≥ïÊúâÂì™‰∫õÔºåÁõÆÂâçÁöÑJDKÁâàÊú¨ÈááÁî®‰ªÄ‰πàÂõûÊî∂ÁÆóÊ≥ï Èù¢ÔºöG1ÂõûÊî∂Âô®ËÆ≤‰∏ãÂõûÊî∂ËøáÁ®ã GCÊòØ‰ªÄ‰πàÔºü‰∏∫‰ªÄ‰πàË¶ÅÊúâGC? Èù¢ÔºöGCÁöÑ‰∏§ÁßçÂà§ÂÆöÊñπÊ≥ï?CMSÊî∂ÈõÜÂô®‰∏éG1Êî∂ÈõÜÂô®ÁöÑÁâπÁÇπ„ÄÇ ÁôæÂ∫¶Ôºö ËØ¥‰∏Ä‰∏ãGCÁÆóÊ≥ïÔºåÂàÜ‰ª£ÂõûÊî∂ËØ¥‰∏ãÂûÉÂúæÊî∂ÈõÜÁ≠ñÁï•ÂíåÁÆóÊ≥ï Â§©Áå´Ôºö Èù¢Ôºö JVM GCÂéüÁêÜÔºåJVMÊÄé‰πàÂõûÊî∂ÂÜÖÂ≠ò ‰∏ÄÈù¢ÔºöCMSÁâπÁÇπÔºåÂûÉÂúæÂõûÊî∂ÁÆóÊ≥ïÊúâÂì™‰∫õÔºüÂêÑËá™ÁöÑ‰ºòÁº∫ÁÇπÔºå‰ªñ‰ª¨ÂÖ±ÂêåÁöÑÁº∫ÁÇπÊòØ‰ªÄ‰πàÔºü Êª¥Êª¥ Èù¢ÔºöjavaÁöÑÂûÉÂúæÂõûÊî∂Âô®ÈÉΩÊúâÂì™‰∫õÔºåËØ¥‰∏ãG1ÁöÑÂ∫îÁî®Âú∫ÊôØÔºåÂπ≥Êó∂‰Ω†ÊòØÂ¶Ç‰ΩïÊê≠ÈÖç‰ΩøÁî®ÂûÉÂúæÂõûÊî∂Âô®ÁöÑ„ÄÇ ‰∫¨‰∏úÔºö ‰Ω†Áü•ÈÅìÂì™Âá†ÁßçÂûÉÂúæÊî∂ÈõÜÂô®ÔºåÂêÑËá™ÁöÑ‰ºòÁº∫ÁÇπÔºåÈáçÁÇπËÆ≤‰∏ãCMSÂíåG1,ÂåÖÊã¨ÂéüÁêÜÔºåÊµÅÁ®ãÔºå‰ºòÁº∫ÁÇπ„ÄÇÂûÉÂúæÂõûÊî∂ÁÆóÊ≥ïÁöÑÂÆûÁé∞ÂéüÁêÜÈòøÈáåÔºö ËÆ≤‰∏ÄËÆ≤ÂûÉÂúæÂõûÊî∂ÁÆóÊ≥ï„ÄÇ‰ªÄ‰πàÊÉÖÂÜµ‰∏ãËß¶ÂèëÂûÉÂúæÂõûÊî∂ÔºüÂ¶Ç‰ΩïÈÄâÊã©ÂêàÈÄÇÁöÑÂûÉÂúæÊî∂ÈõÜÁÆóÊ≥ïÔºü JVMÊúâÂì™‰∏âÁßçÂûÉÂúæÂõûÊî∂Âô®Ôºü Â≠óËäÇË∑≥Âä®Ôºö Â∏∏ËßÅÁöÑÂûÉÂúæÂõûÊî∂Âô®ÁÆóÊ≥ïÊúâÂì™‰∫õÔºåÂêÑÊúâ‰ªÄ‰πà‰ºòÂä£Ôºüsystem.GCÔºàÔºâÂíå runtime.GCÔºàÔºâ‰ºöÂÅö‰ªÄ‰πà‰∫ãÊÉÖÔºüÈù¢Ôºö Java GCÊú∫Âà∂Ôºü GC RootsÊúâÂì™‰∫õÔºü ‰∫åÈù¢ÔºöJavaÂØπË±°ÁöÑÂõûÊî∂ÊñπÂºèÔºåÂõûÊî∂ÁÆóÊ≥ï CMSÂíåG1‰∫ÜËß£‰πàÔºåCMSËß£ÂÜ≥‰ªÄ‰πàÈóÆÈ¢òÔºåËØ¥‰∏Ä‰∏ãÂõûÊî∂ÁöÑËøáÁ®ã„ÄÇ CMSÂõûÊî∂ÂÅúÈ°ø‰∫ÜÂá†Ê¨°Ôºå‰∏∫‰ªÄ‰πàË¶ÅÂÅúÈ°ø‰∏§Ê¨°„ÄÇ 1.‰ªÄ‰πàÊòØÂûÉÂúæ ‰ªÄ‰πàÊòØÂûÉÂúæ( Garbage)Âë¢Ôºü ÂûÉÂúæÊòØÊåáÂú®ËøêË°åÁ®ãÂ∫è‰∏≠Ê≤°Êúâ‰ªª‰ΩïÊåáÈíàÊåáÂêëÁöÑÂØπË±°ÔºåËøô‰∏™ÂØπË±°Â∞±ÊòØÈúÄË¶ÅË¢´ÂõûÊî∂ÁöÑÂûÉÂúæ„ÄÇ An object is considered garbage when it can nolonger be reached from any pointer in the runningprogram Â¶ÇÊûú‰∏çÂèäÊó∂ÂØπÂÜÖÂ≠ò‰∏≠ÁöÑÂûÉÂúæËøõË°åÊ∏ÖÁêÜÔºåÈÇ£‰πàÔºåËøô‰∫õÂûÉÂúæÂØπË±°ÊâÄÂç†ÁöÑÂÜÖÂ≠òÁ©∫Èó¥‰ºö‰∏ÄÁõ¥‰øùÁïôÂà∞Â∫îÁî®Á®ãÂ∫èÁªìÊùüÔºåË¢´‰øùÁïôÁöÑÁ©∫Èó¥Êó†Ê≥ïË¢´ÂÖ∂‰ªñÂØπË±°‰ΩøÁî®„ÄÇÁîöËá≥ÂèØËÉΩÂØºËá¥ÂÜÖÂ≠òÊ∫¢Âá∫„ÄÇ 2.ÊÉ≥Ë¶ÅÂ≠¶‰π†GC,È¶ñÂÖàÈúÄË¶ÅÁêÜËß£‰∏∫‰ªÄ‰πàÈúÄË¶ÅGC? ‚Äã ÂØπ‰∫éÈ´òÁ∫ßËØ≠Ë®ÄÊù•ËØ¥Ôºå‰∏Ä‰∏™Âü∫Êú¨ËÆ§Áü•ÊòØÂ¶ÇÊûú‰∏çËøõË°åÂûÉÂúæÂõûÊî∂ÔºåÂÜÖÂ≠òËøüÊó©ÈÉΩ‰ºöË¢´Ê∂àËÄóÂÆåÂõ†‰∏∫‰∏çÊñ≠Âú∞ÂàÜÈÖçÂÜÖÂ≠òÁ©∫Èó¥ËÄå‰∏çËøõË°åÂõûÊî∂ÔºåÂ∞±Â•ΩÂÉè‰∏çÂÅúÂú∞Áîü‰∫ßÁîüÊ¥ªÂûÉÂúæËÄå‰ªéÊù•‰∏çÊâìÊâ´‰∏ÄÊ†∑„ÄÇ ‚Äã Èô§‰∫ÜÈáäÊîæÊ≤°Áî®ÁöÑÂØπË±°ÔºåÂûÉÂúæÂõûÊî∂‰πüÂèØ‰ª•Ê∏ÖÈô§ÂÜÖÂ≠òÈáåÁöÑËÆ∞ÂΩïÁ¢éÁâá„ÄÇÁ¢éÁâáÊï¥ÁêÜÂ∞ÜÊâÄÂç†Áî®ÁöÑÂ†ÜÂÜÖÂ≠òÁßªÂà∞Â†ÜÁöÑ‰∏ÄÁ´ØÔºå‰ª•‰æøJVMÂ∞ÜÊï¥ÁêÜÂá∫ÁöÑÂÜÖÂ≠òÂàÜÈÖçÁªôÊñ∞ÁöÑÂØπË±°„ÄÇ ‚Äã ÈöèÁùÄÂ∫îÁî®Á®ãÂ∫èÊâÄÂ∫î‰ªòÁöÑ‰∏öÂä°Ë∂äÊù•Ë∂äÂ∫ûÂ§ß„ÄÅÂ§çÊùÇÔºåÁî®Êà∑Ë∂äÊù•Ë∂äÂ§öÔºåÊ≤°ÊúâGCÂ∞±‰∏çËÉΩ‰øùËØÅÂ∫îÁî®Á®ãÂ∫èÁöÑÊ≠£Â∏∏ËøõË°å„ÄÇËÄåÁªèÂ∏∏ÈÄ†ÊàêSTWÁöÑGCÂèàË∑ü‰∏ç‰∏äÂÆûÈôÖÁöÑÈúÄÊ±ÇÔºåÊâÄ‰ª•Êâç‰ºö‰∏çÊñ≠Âú∞Â∞ùËØïÂØπGCËøõË°å‰ºòÂåñ„ÄÇ Êó©ÊúüÂûÉÂúæÂõûÊî∂ ‚Äã Âú®Êó©ÊúüÁöÑC/C Êó∂‰ª£ÔºåÂûÉÂúæÂõûÊî∂Âü∫Êú¨‰∏äÊòØÊâãÂ∑•ËøõË°åÁöÑ„ÄÇÂºÄÂèë‰∫∫ÂëòÂèØ‰ª•‰ΩøÁî®newÂÖ≥ÈîÆÂ≠óËøõË°åÂÜÖÂ≠òÁî≥ËØ∑ÔºåÂπ∂‰ΩøÁî® deleteÂÖ≥ÈîÆÂ≠óËøõË°åÂÜÖÂ≠òÈáäÊîæ„ÄÇÊØîÂ¶Ç‰ª•‰∏ã‰ª£Á†Å„ÄÇ ‚Äã ËøôÁßçÊñπÂºèÂèØ‰ª•ÁÅµÊ¥ªÊéßÂà∂ÂÜÖÂ≠òÈáäÊîæÁöÑÊó∂Èó¥Ôºå‰ΩÜÊòØ‰ºöÁªôÂºÄÂèë‰∫∫ÂëòÂ∏¶Êù•È¢ëÁπÅÁî≥ËØ∑ÂíåÈáäÊîæÂÜÖÂ≠òÁöÑÁÆ°ÁêÜË¥üÊãÖ„ÄÇÂÄòËã•Êúâ‰∏ÄÂ§ÑÂÜÖÂ≠òÂå∫Èó¥Áî±‰∫éÁ®ãÂ∫èÂëòÁºñÁ†ÅÁöÑÈóÆÈ¢òÂøòËÆ∞Ë¢´ÂõûÊî∂ÔºåÈÇ£‰πàÂ∞±‰ºö‰∫ßÁîüÂÜÖÂ≠òÊ≥ÑÊºèÔºåÂûÉÂúæÂØπË±°Ê∞∏ËøúÊó†Ê≥ïË¢´Ê∏ÖÈô§ÔºåÈöèÁùÄÁ≥ªÁªüËøêË°åÊó∂Èó¥ÁöÑ‰∏çÊñ≠Â¢ûÈïøÔºåÂûÉÂúæÂØπË±°ÊâÄËÄóÂÜÖÂ≠òÂèØËÉΩÊåÅÁª≠‰∏äÂçáÔºåÁõ¥Âà∞Âá∫Áé∞ÂÜÖÂ≠òÊ∫¢Âá∫Âπ∂ÈÄ†ÊàêÂ∫îÁî®Á®ãÂ∫èÂ¥©Ê∫É„ÄÇÁé∞Âú®ÔºåÈô§‰∫ÜJava‰ª•Â§ñÔºåC#„ÄÅ python„ÄÅRubyÁ≠âËØ≠Ë®ÄÈÉΩ‰ΩøÁî®‰∫ÜËá™Âä®ÂûÉÂúæÂõûÊî∂ÁöÑÊÄùÊÉ≥Ôºå‰πüÊòØÊú™Êù•ÂèëÂ±ïË∂ãÂäø„ÄÇÂèØ‰ª•ËØ¥ÔºåËøôÁßçËá™Âä®ÂåñÁöÑÂÜÖÂ≠òÂàÜÈÖçÂíåÂûÉÂúæÂõûÊî∂ÁöÑÊñπÂºèÂ∑±ÁªèÊàê‰∏∫Áé∞‰ª£ÂºÄÂèëËØ≠Ë®ÄÂøÖÂ§áÁöÑÊ†áÂáÜ„ÄÇ JavaÂûÉÂúæÂõûÊî∂Êú∫Âà∂ ‚Äã Ëá™Âä®ÂÜÖÂ≠òÁÆ°ÁêÜÔºåÊó†ÈúÄÂºÄÂèë‰∫∫ÂëòÊâãÂä®ÂèÇ‰∏éÂÜÖÂ≠òÁöÑÂàÜÈÖç‰∏éÂõûÊî∂ÔºåËøôÊ†∑Èôç‰ΩéÂÜÖÂ≠òÊ≥ÑÊºèÂíåÂÜÖÂ≠òÊ∫¢Âá∫ÁöÑÈ£éÈô©„ÄÇÊ≤°ÊúâÂûÉÂúæÂõûÊî∂Âô®Ôºåjava‰πü‰ºöÂíåcpp‰∏ÄÊ†∑ÔºåÂêÑÁßçÊÇ¨ÂûÇÊåáÈíàÔºåÈáéÊåáÈíàÔºåÊ≥ÑÈú≤ÈóÆÈ¢òËÆ©‰Ω†Â§¥Áñº‰∏çÂ∑≤„ÄÇ ‚Äã Ëá™Âä®ÂÜÖÂ≠òÁÆ°ÁêÜÊú∫Âà∂ÔºåÂ∞ÜÁ®ãÂ∫èÂëò‰ªéÁπÅÈáçÁöÑÂÜÖÂ≠òÁÆ°ÁêÜ‰∏≠ÈáäÊîæÂá∫Êù•ÔºåÂèØ‰ª•Êõ¥‰∏ìÂøÉÂú∞‰∏ìÊ≥®‰∫é‰∏öÂä°ÂºÄÂèë oracleÂÆòÁΩëÂÖ≥‰∫éÂûÉÂúæÂõûÊî∂ÁöÑ‰ªãÁªçÔºöhttps://docs.oracle.com/javase/8/docs/technotes/guides/vm/GCtuning/toc.html ‚Äã ÂØπ‰∫éJavaÂºÄÂèë‰∫∫ÂëòËÄåË®ÄÔºåËá™Âä®ÂÜÖÂ≠òÁÆ°ÁêÜÂ∞±ÂÉèÊòØ‰∏Ä‰∏™ÈªëÂå£Â≠êÔºåÂ¶ÇÊûúËøáÂ∫¶‰æùËµñ‰∫é‚ÄúËá™Âä®‚ÄùÔºåÈÇ£‰πàËøôÂ∞Ü‰ºöÊòØ‰∏ÄÂú∫ÁÅæÈöæÔºåÊúÄ‰∏•ÈáçÁöÑÂ∞±‰ºöÂº±ÂåñJavaÂºÄÂèë‰∫∫ÂëòÂú®Á®ãÂ∫èÂá∫Áé∞ÂÜÖÂ≠òÊ∫¢Âá∫Êó∂ÂÆö‰ΩçÈóÆÈ¢òÂíåËß£ÂÜ≥ÈóÆÈ¢òÁöÑËÉΩÂäõ„ÄÇ ‚Äã Ê≠§Êó∂Ôºå‰∫ÜËß£JVMÁöÑËá™Âä®ÂÜÖÂ≠òÂàÜÈÖçÂíåÂÜÖÂ≠òÂõûÊî∂ÂéüÁêÜÂ∞±ÊòæÂæóÈùûÂ∏∏ÈáçË¶ÅÔºåÂè™ÊúâÂú®ÁúüÊ≠£‰∫ÜËß£JVMÊòØÂ¶Ç‰ΩïÁÆ°ÁêÜÂÜÖÂ≠òÂêéÔºåÊàë‰ª¨ÊâçËÉΩÂ§üÂú®ÈÅáËßÅ OutOfMemoryErrorÊó∂ÔºåÂø´ÈÄüÂú∞Ê†πÊçÆÈîôËØØÂºÇÂ∏∏Êó•ÂøóÂÆö‰ΩçÈóÆÈ¢òÂíåËß£ÂÜ≥ÈóÆÈ¢ò„ÄÇ ‚Äã ÂΩìÈúÄË¶ÅÊéíÊü•ÂêÑÁßçÂÜÖÂ≠òÊ∫¢Âá∫„ÄÅÂÜÖÂ≠òÊ≥ÑÊºèÈóÆÈ¢òÊó∂ÔºåÂΩìÂûÉÂúæÊî∂ÈõÜÊàê‰∏∫Á≥ªÁªüËææÂà∞Êõ¥È´òÂπ∂ÂèëÈáèÁöÑÁì∂È¢àÊó∂ÔºåÊàë‰ª¨Â∞±ÂøÖÈ°ªÂØπËøô‰∫õ‚ÄúËá™Âä®Âåñ‚ÄùÁöÑÊäÄÊúØÂÆûÊñΩÂøÖË¶ÅÁöÑÁõëÊéßÂíåË∞ÉËäÇ„ÄÇ ÂûÉÂúæÂõûÊî∂Âô®ÂèØ‰ª•ÂØπÂπ¥ËΩª‰ª£ÂõûÊî∂Ôºå‰πüÂèØ‰ª•ÂØπËÄÅÂπ¥‰ª£ÂõûÊî∂ÔºåÁîöËá≥ÊòØÂÖ®Â†ÜÂíåÊñπÊ≥ïÂå∫ÁöÑÂõûÊî∂„ÄÇ ÂÖ∂‰∏≠ÔºåJavaÂ†ÜÊòØÂûÉÂúæÊî∂ÈõÜÂô®ÁöÑÂ∑•‰ΩúÈáçÁÇπ„ÄÇ ‰ªéÊ¨°Êï∞‰∏äËÆ≤ È¢ëÁπÅÊî∂ÈõÜ YoungÂå∫ ËæÉÂ∞ëÊî∂ÈõÜoldÂå∫ Âü∫Êú¨‰∏çÂä®PermÂå∫ ÂçÅ‰∫î„ÄÅÂûÉÂúæÂõûÊî∂Áõ∏ÂÖ≥ÁÆóÊ≥ï 1.ÂûÉÂúæÊ†áËÆ∞Èò∂ÊÆµÁöÑÁÆóÊ≥ï 1.ÂûÉÂúæÊ†áËÆ∞Èò∂ÊÆµÔºöÂØπË±°Â≠òÊ¥ªÂà§Êñ≠ ‚Äã Âú®Â†ÜÈáåÂ≠òÊîæÁùÄÂá†‰πéÊâÄÊúâÁöÑJavaÂØπË±°ÂÆû‰æãÔºåÂú®GCÊâßË°åÂûÉÂúæÂõûÊî∂‰πãÂâçÔºåÈ¶ñÂÖàÈúÄË¶ÅÂå∫ÂàÜÂá∫ÂÜÖÂ≠ò‰∏≠Âì™‰∫õÊòØÂ≠òÊ¥ªÂØπË±°ÔºåÂì™‰∫õÊòØÂ∑≤ÁªèÊ≠ª‰∫°ÁöÑÂØπË±°„ÄÇÂè™ÊúâË¢´Ê†áËÆ∞‰∏∫Â∑±ÁªèÊ≠ª‰∫°ÁöÑÂØπË±°ÔºåGC„Ç™‰ºöÂú®ÊâßË°åÂûÉÂúæÂõûÊî∂Êó∂ÔºåÈáäÊîæÊéâÂÖ∂ÊâÄÂç†Áî®ÁöÑÂÜÖÂ≠òÁ©∫Èó¥ÔºåÂõ†Ê≠§Ëøô‰∏™ËøáÁ®ãÊàë‰ª¨ÂèØ‰ª•Áß∞‰∏∫ÂûÉÂúæÊ†áËÆ∞Èò∂ÊÆµ„ÄÇ ÈÇ£‰πàÂú®JVM‰∏≠Á©∂Á´üÊòØÂ¶Ç‰ΩïÊ†áËÆ∞‰∏Ä‰∏™Ê≠ª‰∫°ÂØπË±°Âë¢ÔºüÁÆÄÂçïÊù•ËØ¥ÔºåÂΩì‰∏Ä‰∏™ÂØπË±°Â∑≤Áªè‰∏çÂÜçË¢´‰ªª‰ΩïÁöÑÂ≠òÊ¥ªÂØπË±°ÁªßÁª≠ÂºïÁî®Êó∂ÔºåÂ∞±ÂèØ‰ª•ÂÆ£Âà§‰∏∫Â∑≤ÁªèÊ≠ª‰∫°„ÄÇÂà§Êñ≠ÂØπË±°Â≠òÊ¥ª‰∏ÄËà¨Êúâ‰∏§ÁßçÊñπÂºèÔºöÂºïÁî®ËÆ°Êï∞ÁÆóÊ≥ïÂíåÂèØËææÊÄßÂàÜÊûêÁÆóÊ≥ï„ÄÇ ÊñπÂºè‰∏ÄÔºöÂºïÁî®ËÆ°Êï∞ÁÆóÊ≥ï ÂºïÁî®ËÆ°Êï∞ÁÆóÊ≥ï( Reference Counting)ÊØîËæÉÁÆÄÂçïÔºåÂØπÊØè‰∏™ÂØπË±°‰øùÂ≠ò‰∏Ä‰∏™Êï¥ÂûãÁöÑÂºïÁî®ËÆ°Êï∞Âô®Â±ûÊÄß„ÄÇÁî®‰∫éËÆ∞ÂΩïÂØπË±°Ë¢´ÂºïÁî®ÁöÑÊÉÖÂÜµ„ÄÇ ÂØπ‰∫é‰∏Ä‰∏™ÂØπË±°A,Âè™Ë¶ÅÊúâ‰ªª‰Ωï‰∏Ä‰∏™ÂØπË±°ÂºïÁî®‰∫ÜA,ÂàôAÁöÑÂºïÁî®ËÆ°Êï∞Âô®Â∞±Âä†1;ÂΩìÂºïÁî®Â§±ÊïàÊó∂ÔºåÂºïÁî®ËÆ°Êï∞Âô®Â∞±Âáè1„ÄÇÂè™Ë¶ÅÂØπË±°AÁöÑÂºïÁî®ËÆ°Êï∞Âô®ÁöÑÂÄº‰∏∫0,Âç≥Ë°®Á§∫ÂØπË±°A‰∏çÂèØËÉΩÂÜçË¢´‰ΩøÁî®ÔºåÂèØËøõË°åÂõûÊî∂„ÄÇ ‰ºòÁÇπÔºöÂÆûÁé∞ÁÆÄÂçïÔºåÂûÉÂúæÂØπË±°‰æø‰∫éËæ®ËØÜÔºõÂà§ÂÆöÊïàÁéáÈ´òÔºåÂõûÊî∂Ê≤°ÊúâÂª∂ÈÄÄÊÄß„ÄÇ Áº∫ÁÇπÔºöÂÆÉÈúÄË¶ÅÂçïÁã¨ÁöÑÂ≠óÊÆµÂ≠òÂÇ®ËÆ°Êï∞Âô®ÔºåËøôÊ†∑ÁöÑÂÅöÊ≥ïÂ¢ûÂä†‰∫ÜÂ≠òÂÇ®Á©∫Èó¥ÁöÑÂºÄÈîÄ„ÄÇÊØèÊ¨°ËµãÂÄºÈÉΩÈúÄË¶ÅÊõ¥Êñ∞ËÆ°Êï∞Âô®Ôºå‰º¥ÈöèÁùÄÂä†Ê≥ïÂíåÂáèÊ≥ïÊìç‰ΩúÔºåËøôÂ¢ûÂä†‰∫ÜÊó∂Èó¥ÂºÄÈîÄ„ÄÇÂºïÁî®ËÆ°Êï∞Âô®Êúâ‰∏Ä‰∏™‰∏•ÈáçÁöÑÈóÆÈ¢òÔºåÂç≥Êó†Ê≥ïÂ§ÑÁêÜÂæ™ÁéØÂºïÁî®ÁöÑÊÉÖÂÜµ„ÄÇËøôÊòØ‰∏ÄÊù°Ëá¥ÂëΩÁº∫Èô∑ÔºåÂØºËá¥Âú®JavaÁöÑÂûÉÂúæÂõûÊî∂Âô®‰∏≠Ê≤°Êúâ‰ΩøÁî®ËøôÁ±ªÁÆóÊ≥ï„ÄÇ ÊñπÂºè‰∫åÔºöÂèØËææÊÄßÂàÜÊûê(ÊàñÊ†πÊêúÁ¥¢ÁÆóÊ≥ï„ÄÅËøΩË∏™ÊÄßÂûÉÂúæÊî∂ÈõÜ) Áõ∏ÂØπ‰∫éÂºïÁî®ËÆ°Êï∞ÁÆóÊ≥ïËÄåË®ÄÔºåÂèØËææÊÄßÂàÜÊûêÁÆóÊ≥ï‰∏ç‰ªÖÂêåÊ†∑ÂÖ∑Â§áÂÆûÁé∞ÁÆÄÂçïÂíåÊâßË°åÈ´òÊïàÁ≠âÁâπÁÇπÔºåÊõ¥ÈáçË¶ÅÁöÑÊòØËØ•ÁÆóÊ≥ïÂèØ‰ª•ÊúâÊïàÂú∞Ëß£ÂÜ≥Âú®ÂºïÁî®ËÆ°Êï∞ÁÆóÊ≥ï‰∏≠Âæ™ÁéØÂºïÁî®ÁöÑÈóÆÈ¢òÔºåÈò≤Ê≠¢ÂÜÖÂ≠òÊ≥ÑÊºèÁöÑÂèëÁîü„ÄÇ Áõ∏ËæÉ‰∫éÂºïÁî®ËÆ°Êï∞ÁÆóÊ≥ïÔºåËøôÈáåÁöÑÂèØËææÊÄßÂàÜÊûêÂ∞±ÊòØJava„ÄÅC#ÈÄâÊã©ÁöÑ„ÄÇËøôÁßçÁ±ªÂûãÁöÑÂûÉÂúæÊî∂ÈõÜÈÄöÂ∏∏‰πüÂè´‰ΩúËøΩË∏™ÊÄßÂûÉÂúæÊî∂ÈõÜÔºà Tracing Garbage Collection)„ÄÇ ÊâÄË∞ì&quot; GC Roots&quot;Ê†πÈõÜÂêàÂ∞±ÊòØ‰∏ÄÁªÑÂøÖÈ°ªÊ¥ªË∑ÉÁöÑÂºïÁî®„ÄÇ Âü∫Êú¨ÊÄùË∑ØÔºö ÂèØËææÊÄßÂàÜÊûêÁÆóÊ≥ïÊòØ‰ª•Ê†πÂØπË±°ÈõÜÂêà( GC Roots)‰∏∫Ëµ∑ÂßãÁÇπÔºåÊåâÁÖß‰ªé‰∏äËá≥‰∏ãÁöÑÊñπÂºèÊêúÁ¥¢Ë¢´Ê†πÂØπË±°ÈõÜÂêàÊâÄËøûÊé•ÁöÑÁõÆÊ†áÂØπË±°ÊòØÂê¶ÂèØËææ„ÄÇ ‰ΩøÁî®ÂèØËææÊÄßÂàÜÊûêÁÆóÊ≥ïÂêéÔºåÂÜÖÂ≠ò‰∏≠ÁöÑÂ≠òÊ¥ªÂØπË±°ÈÉΩ‰ºöË¢´Ê†πÂØπË±°ÈõÜÂêàÁõ¥Êé•ÊàñÈó¥Êé•ËøûÊé•ÁùÄÔºåÊêúÁ¥¢ÊâÄËµ∞ËøáÁöÑË∑ØÂæÑÁß∞‰∏∫ÂºïÁî®Èìæ( Reference Chain) Â¶ÇÊûúÁõÆÊ†áÂØπË±°Ê≤°Êúâ‰ªª‰ΩïÂºïÁî®ÈìæÁõ∏ËøûÔºåÂàôÊòØ‰∏çÂèØËææÁöÑÔºåÂ∞±ÊÑèÂë≥ÁùÄËØ•ÂØπË±°Â∑±ÁªèÊ≠ª‰∫°ÔºåÂèØ‰ª•Ê†áËÆ∞‰∏∫ÂûÉÂúæÂØπË±°„ÄÇ Âú®ÂèØËææÊÄßÂàÜÊûêÁÆóÊ≥ï‰∏≠ÔºåÂè™ÊúâËÉΩÂ§üË¢´Ê†πÂØπË±°ÈõÜÂêàÁõ¥Êé•ÊàñËÄÖÈó¥Êé•ËøûÊé•ÁöÑÂØπË±°ÊâçÊòØÂ≠òÊ¥ªÂØπË±°„ÄÇ GC ROOT Âú®JavaËØ≠Ë®Ä‰∏≠Ôºå GC RootsÂåÖÊã¨‰ª•‰∏ãÂá†Á±ªÂÖÉÁ¥†Ôºö ËôöÊãüÊú∫Ê†à‰∏≠ÂºïÁî®ÁöÑÂØπË±°„ÄÇÊØîÂ¶ÇÔºöÂêÑ‰∏™Á∫øÁ®ãË¢´Ë∞ÉÁî®ÁöÑÊñπÊ≥ï‰∏≠‰ΩøÁî®Âà∞ÁöÑÂèÇÊï∞„ÄÅÂ±ÄÈÉ®ÂèòÈáèÁ≠â„ÄÇ Êú¨Âú∞ÊñπÊ≥ïÊ†àÂÜÖJNIÔºàÈÄöÂ∏∏ËØ¥ÁöÑÊú¨Âú∞ÊñπÊ≥ïÔºâÂºïÁî®ÁöÑÂØπË±° ÊñπÊ≥ïÂå∫‰∏≠Á±ªÈùôÊÄÅÂ±ûÊÄßÂºïÁî®ÁöÑÂØπË±°&gt;ÊØîÂ¶ÇÔºöJavaÁ±ªÁöÑÂºïÁî®Á±ªÂûãÈùôÊÄÅÂèòÈáèÊñπÊ≥ïÂå∫‰∏≠Â∏∏ÈáèÂºïÁî®ÁöÑÂØπË±°„ÄÇÊØîÂ¶ÇÔºöÂ≠óÁ¨¶‰∏≤Â∏∏ÈáèÊ±†( String Table)ÈáåÁöÑÂºïÁî®ÊâÄÊúâË¢´ÂêåÊ≠•ÈîÅ synchronizedÊåÅÊúâÁöÑÂØπË±° JavaËôöÊãüÊú∫ÂÜÖÈÉ®ÁöÑÂºïÁî®„ÄÇÂü∫Êú¨Êï∞ÊçÆÁ±ªÂûãÂØπÂ∫îÁöÑclassÂØπË±°Ôºå‰∏Ä‰∫õÂ∏∏È©ªÁöÑÂºÇÂ∏∏ÂØπË±°ÔºàÂ¶ÇÔºöNull Pointerexception„ÄÅ OutOfMemoryError),Á≥ªÁªüÁ±ªÂä†ËΩΩÂô®„ÄÇ ÂèçÊò†javaËôöÊãüÊú∫ÂÜÖÈÉ®ÊÉÖÂÜµÁöÑ JMXbeam„ÄÅJVMTI‰∏≠Ê≥®ÂÜåÁöÑÂõûË∞É„ÄÅÊú¨Âú∞‰ª£Á†ÅÁºìÂ≠òÁ≠â„ÄÇ Èô§‰∫ÜËøô‰∫õÂõ∫ÂÆöÁöÑ GC RootsÈõÜÂêà‰ª•Â§ñÔºåÊ†πÊçÆÁî®Êà∑ÊâÄÈÄâÁî®ÁöÑÂûÉÂúæÊî∂ÈõÜÂô®‰ª•ÂèäÂΩìÂâçÂõûÊî∂ÁöÑÂÜÖÂ≠òÂå∫Âüü‰∏çÂêåÔºåËøòÂèØ‰ª•ÊúâÂÖ∂‰ªñÂØπË±°‚Äú‰∏¥Êó∂ÊÄß‚ÄùÂú∞Âä†ÂÖ•ÔºåÂÖ±ÂêåÊûÑÊàêÂÆåÊï¥ GC RootsÈõÜÂêà„ÄÇÊØîÂ¶ÇÔºöÂàÜ‰ª£Êî∂ÈõÜÂíåÂ±ÄÈÉ®ÂõûÊî∂( Partial GC)„ÄÇÂ¶ÇÊûúÂè™ÈíàÂØπJavaÂ†Ü‰∏≠ÁöÑÊüê‰∏ÄÂùóÂå∫ÂüüËøõË°åÂûÉÂúæÂõûÊî∂(ÊØîÂ¶ÇÔºöÂÖ∏ÂûãÁöÑÂè™ÈíàÂØπÊñ∞Áîü‰ª£)ÔºåÂøÖÈ°ªËÄÉËôëÂà∞ÂÜÖÂ≠òÂå∫ÂüüÊòØËôöÊãüÊú∫Ëá™Â∑±ÁöÑÂÆûÁé∞ÁªÜËäÇÔºåÊõ¥‰∏çÊòØÂ≠§Á´ãÂ∞ÅÈó≠ÁöÑÔºåËøô‰∏™Âå∫ÂüüÁöÑÂØπË±°ÂÆåÂÖ®ÊúâÂèØËÉΩË¢´ÂÖ∂‰ªñÂå∫ÂüüÁöÑÂØπË±°ÊâÄÂºïÁî®ÔºåËøôÊó∂ÂÄôÂ∞±ÈúÄË¶Å‰∏ÄÂπ∂Â∞ÜÂÖ≥ËÅîÁöÑÂå∫ÂüüÂØπË±°‰πüÂä†ÂÖ• GC Roots ÈõÜÂêà‰∏≠ÂéªËÄÉËôëÔºåÊâçËÉΩ‰øùËØÅÂèØËææÊÄßÂàÜÊûêÁöÑÂáÜÁ°ÆÊÄß Â∞èÊäÄÂ∑ßÔºöÁî±‰∫éRootÈááÁî®Ê†àÊñπÂºèÂ≠òÊîæÂèòÈáèÂíåÊåáÈíàÔºåÊâÄ‰ª•Â¶ÇÊûú‰∏Ä‰∏™ÊåáÈíàÔºåÂÆÉ‰øùÂ≠ò‰∫ÜÂ†ÜÂÜÖÂ≠òÈáåÈù¢ÁöÑÂØπË±°Ôºå‰ΩÜÊòØËá™Â∑±Âèà‰∏çÂ≠òÊîæÂú®Â†ÜÂÜÖÂ≠òÈáåÈù¢ÔºåÈÇ£ÂÆÉÂ∞±ÊòØ‰∏Ä‰∏™Root Â¶ÇÊûúË¶Å‰ΩøÁî®ÂèØËææÊÄßÂàÜÊûêÁÆóÊ≥ïÊù•Âà§Êñ≠ÂÜÖÂ≠òÊòØÂê¶ÂèØÂõûÊî∂ÔºåÈÇ£‰πàÂàÜÊûêÂ∑•‰ΩúÂøÖÈ°ªÂú®‰∏™ËÉΩ‰øùÈöú‰∏ÄËá¥ÊÄßÁöÑÂø´ÁÖß‰∏≠ËøõË°å„ÄÇËøôÁÇπ‰∏çÊª°Ë∂≥ÁöÑËØùÂàÜÊûêÁªìÊûúÁöÑÂáÜÁ°ÆÊÄßÂ∞±Êó†Ê≥ï‰øùËØÅ„ÄÇ ËøôÁÇπ‰πüÊòØÂØºËá¥GCËøõË°åÊó∂ÂøÖÈ°ª ‚ÄúStop The World&quot;ÁöÑ‰∏Ä‰∏™ÈáçË¶ÅÂéüÂõ†„ÄÇÂç≥‰ΩøÊòØÂè∑Áß∞ÔºàÂá†‰πéÔºâ‰∏ç‰ºöÂèëÁîüÂÅúÈ°øÁöÑCMSÊî∂ÈõÜÂô®‰∏≠ÔºåÊûö‰∏æÊ†πËäÇÁÇπÊó∂‰πüÊòØÂøÖÈ°ªË¶ÅÂÅúÈ°øÁöÑ„ÄÇ 2.ÂØπË±°ÁöÑ finalizationÊú∫Âà∂ JavaËØ≠Ë®ÄÊèê‰æõ‰∫ÜÂØπË±°ÁªàÊ≠¢( finalization)Êú∫Âà∂Êù•ÂÖÅËÆ∏ÂºÄÂèë‰∫∫ÂëòÊèê‰æõÂØπË±°Ë¢´ÈîÄÊØÅ‰πãÂâçÁöÑËá™ÂÆö‰πâÂ§ÑÁêÜÈÄªËæë„ÄÇ ÂΩìÂûÉÂúæÂõûÊî∂Âô®ÂèëÁé∞Ê≤°ÊúâÂºïÁî®ÊåáÂêë‰∏Ä‰∏™ÂØπË±°ÔºåÂç≥ÔºöÂûÉÂúæÂõûÊî∂Ê≠§ÂØπË±°‰πãÂâçÔºåÊÄª‰ºöÂÖàË∞ÉÁî®Ëøô‰∏™ÂØπË±°ÁöÑ finallizeÔºàÔºâÊñπÊ≥ï finalize()ÊñπÊ≥ïÂÖÅËÆ∏Âú®Â≠êÁ±ª‰∏≠Ë¢´ÈáçÂÜôÔºåÁî®‰∫éÂú®ÂØπË±°Ë¢´ÂõûÊî∂Êó∂ËøõË°åËµÑÊ∫êÈáäÊîæ„ÄÇÈÄöÂ∏∏Âú®Ëøô‰∏™ÊñπÊ≥ï‰∏≠ËøõË°å‰∏Ä‰∫õËµÑÊ∫êÈáäÊîæÂíåÊ∏ÖÁêÜÁöÑÂ∑•‰ΩúÔºåÊØîÂ¶ÇÂÖ≥Èó≠Êñá‰ª∂„ÄÅÂ•óÊé•Â≠óÂíåÊï∞ÊçÆÂ∫ìËøûÊé•Á≠â„ÄÇ Ê∞∏Ëøú‰∏çË¶Å‰∏ªÂä®Ë∞ÉÁî®Êüê‰∏™ÂØπË±°ÁöÑfinalize()ÊñπÊ≥ïÔºåÂ∫îËØ•‰∫§ÁªôÂûÉÂúæÂõûÊî∂Êú∫Âà∂Ë∞ÉÁî®„ÄÇÁêÜÁî±ÂåÖÊã¨‰∏ãÈù¢‰∏âÁÇπÔºö finalize() Êó∂ÂèØËÉΩ‰ºöÂØºËá¥ÂØπË±°Â§çÊ¥ª„ÄÇ finalize() ÊñπÊ≥ïÁöÑÊâßË°åÊó∂Èó¥ÊòØÊ≤°Êúâ‰øùÈöúÁöÑÔºåÂÆÉÂÆåÂÖ®Áî±GCÁ∫øÁ®ãÂÜ≥ÂÆöÔºåÊûÅÁ´ØÊÉÖÂÜµ‰∏ãÔºåËã•‰∏çÂèëÁîüGC,Âàôfinalize()ÊñπÊ≥ïÂ∞ÜÊ≤°ÊúâÊâßË°åÊú∫‰ºö„ÄÇ ‰∏Ä‰∏™Á≥üÁ≥ïÁöÑ finalize() ‰ºö‰∏•ÈáçÂΩ±ÂìçGCÁöÑÊÄßËÉΩ ‰ªéÂäüËÉΩ‰∏äÊù•ËØ¥Ôºå finalize() ÊñπÊ≥ï‰∏é C ‰∏≠ÁöÑÊûêÊûÑÂáΩÊï∞ÊØîËæÉÁõ∏‰ººÔºå‰ΩÜÊòØJavaÈááÁî®ÁöÑÊòØÂü∫‰∫éÂûÉÂúæÂõûÊî∂Âô®ÁöÑËá™Âä®ÂÜÖÂ≠òÁÆ°ÁêÜÊú∫Âà∂ÔºåÊâÄ‰ª• finalize() ÊñπÊ≥ïÂú®Êú¨Ë¥®‰∏ä‰∏çÂêå‰∫éC‰∏≠ÁöÑÊûêÊûÑÂáΩÊï∞„ÄÇÁî±‰∫é finalize() ÊñπÊ≥ïÁöÑÂ≠òÂú®ÔºåËôöÊãüÊú∫‰∏≠ÁöÑÂØπË±°‰∏ÄËà¨Â§Ñ‰∫é‰∏âÁßçÂèØËÉΩÁöÑÁä∂ÊÄÅ„ÄÇ Â¶ÇÊûú‰ªéÊâÄÊúâÁöÑÊ†πËäÇÁÇπÈÉΩÊó†Ê≥ïËÆøÈóÆÂà∞Êüê‰∏™ÂØπË±°ÔºåËØ¥ÊòéÂØπË±°Â∑±Áªè‰∏çÂÜç‰ΩøÁî®‰∫Ü„ÄÇ‰∏ÄËà¨Êù•ËØ¥ÔºåÊ≠§ÂØπË±°ÈúÄË¶ÅË¢´ÂõûÊî∂„ÄÇ‰ΩÜ‰∫ãÂÆû‰∏äÔºå‰πüÂπ∂ÈùûÊòØ‚ÄúÈùûÊ≠ª‰∏çÂèØ‚ÄùÁöÑÔºåËøôÊó∂ÂÄôÂÆÉ‰ª¨ÊöÇÊó∂Â§Ñ‰∫é‚ÄúÁºìÂàë‚ÄùÈò∂ÊÆµ„ÄÇ‰∏Ä‰∏™Êó†Ê≥ïËß¶ÂèäÁöÑÂØπË±°ÊúâÂèØËÉΩÂú®Êüê‰∏Ä‰∏™Êù°‰ª∂‰∏ã‚ÄúÂ§çÊ¥ª‚ÄùËá™Â∑±ÔºåÂ¶ÇÊûúËøôÊ†∑ÔºåÈÇ£‰πàÂØπÂÆÉÁöÑÂõûÊî∂Â∞±ÊòØ‰∏çÂêàÁêÜÁöÑÔºå‰∏∫Ê≠§ÔºåÂÆö‰πâËôöÊãüÊú∫‰∏≠ÁöÑÂØπË±°ÂèØËÉΩÁöÑ‰∏âÁßçÁä∂ÊÄÅ„ÄÇÂ¶Ç‰∏ãÔºö ÂèØËß¶ÂèäÁöÑÔºö‰ªéÊ†πËäÇÁÇπÂºÄÂßãÔºåÂèØ‰ª•Âà∞ËææËøô‰∏™ÂØπË±°„ÄÇ ÂèØÂ§çÊ¥ªÁöÑÔºöÂØπË±°ÁöÑÊâÄÊúâÂºïÁî®ÈÉΩË¢´ÈáäÊîæÔºå‰ΩÜÊòØÂØπË±°ÊúâÂèØËÉΩ finalize() ‰∏≠Â§çÊ¥ª„ÄÇ ‰∏çÂèØËß¶ÂèäÁöÑÔºöÂØπË±°ÁöÑ finalize() Ë¢´Ë∞ÉÁî®ÔºåÂπ∂‰∏îÊ≤°ÊúâÂ§çÊ¥ªÔºåÈÇ£‰πàÂ∞±‰ºöËøõÂÖ•‰∏çÂèØËß¶ÂèäÁä∂ÊÄÅ„ÄÇ‰∏çÂèØËß¶ÂèäÁöÑÂØπË±°‰∏çÂèØËÉΩË¢´Â§çÊ¥ªÔºåÂõ†‰∏∫ finalize() Âè™‰ºöË¢´Ë∞ÉÁî®‰∏ÄÊ¨°„ÄÇ ‰ª•‰∏ä3ÁßçÁä∂ÊÄÅ‰∏≠ÔºåÊòØÁî±‰∫éfina1izeÔºàÔºâÊñπÊ≥ïÁöÑÂ≠òÂú®ÔºåËøõË°åÁöÑÂå∫ÂàÜ„ÄÇÂè™ÊúâÂú®ÂØπË±°‰∏çÂèØËß¶ÂèäÊó∂ÊâçÂèØ‰ª•Ë¢´ÂõûÊî∂„ÄÇ ÂÖ∑‰ΩìËøáÁ®ãÔºö Âà§ÂÆö‰∏Ä‰∏™ÂØπË±° objA ÊòØÂê¶ÂèØÂõûÊî∂ÔºåËá≥Â∞ëË¶ÅÁªèÂéÜ‰∏§Ê¨°Ê†áËÆ∞ËøáÁ®ã 1.Â¶ÇÊûúÂØπË±°„ÄÇobjAÂà∞ GC RootsÊ≤°ÊúâÂºïÁî®ÈìæÔºåÂàôËøõË°åÁ¨¨‰∏ÄÊ¨°Ê†áËÆ∞„ÄÇ 2.ËøõË°åÁ≠õÈÄâÔºåÂà§Êñ≠Ê≠§ÂØπË±°ÊòØÂê¶ÊúâÂøÖË¶ÅÊâßË°åfinalize()ÊñπÊ≥ï„ÄÇ ‚ë†Â¶ÇÊûúÂØπË±°objAÊ≤°ÊúâÈáçÂÜô finalize()ÊñπÊ≥ïÔºåÊàñËÄÖ finalize() ÊñπÊ≥ïÂ∑≤ÁªèË¢´ËôöÊãüÊú∫Ë∞ÉÁî®ËøáÔºåÂàôËôöÊãüÊú∫ËßÜ‰∏∫‚ÄúÊ≤°ÊúâÂøÖË¶ÅÊâßË°å‚ÄùÔºåobjAË¢´Âà§ÂÆö‰∏∫‰∏çÂèØËß¶ÂèäÁöÑ„ÄÇ ‚ë°Â¶ÇÊûúÂØπË±°objAÈáçÂÜô‰∫Üfinalize() ÊñπÊ≥ïÔºå‰∏îËøòÊú™ÊâßË°åËøáÔºåÈÇ£‰πàobjA‰ºöË¢´ÊèíÂÖ•Âà∞F- QueueÈòüÂàó‰∏≠ÔºåÁî±‰∏Ä‰∏™ËôöÊãüÊú∫Ëá™Âä®ÂàõÂª∫ÁöÑ„ÄÅ‰Ωé‰ºòÂÖàÁ∫ßÁöÑFinalizerÁ∫øÁ®ãËß¶ÂèëÂÖ∂ finalize() ÊñπÊ≥ïÊâßË°å„ÄÇ ‚ë¢ finalize() ÊñπÊ≥ïÊòØÂØπË±°ÈÄÉËÑ±Ê≠ª‰∫°ÁöÑÊúÄÂêéÊú∫‰ºöÔºåÁ®çÂêéGC‰ºöÂØπF- QueueÈòüÂàó‰∏≠ÁöÑÂØπË±°ËøõË°åÁ¨¨‰∫åÊ¨°Ê†áËÆ∞„ÄÇÂ¶ÇÊûúobjAÂú®finalize() ÊñπÊ≥ï‰∏≠‰∏éÂºïÁî®Èìæ‰∏äÁöÑ‰ªª‰Ωï‰∏Ä‰∏™ÂØπË±°Âª∫Á´ã‰∫ÜËÅîÁ≥ªÔºåÈÇ£‰πàÂú®Á¨¨‰∫åÊ¨°Ê†áËÆ∞Êó∂ÔºåobjA‰ºöË¢´ÁßªÂá∫‚ÄúÂç≥Â∞ÜÂõûÊî∂‚ÄùÈõÜÂêà„ÄÇ‰πãÂêéÔºåÂØπË±°‰ºöÂÜçÊ¨°Âá∫Áé∞Ê≤°ÊúâÂºïÁî®Â≠òÂú®ÁöÑÊÉÖÂÜµ„ÄÇÂú®Ëøô‰∏™ÊÉÖÂÜµ‰∏ãÔºåfinalizeÊñπÊ≥ï‰∏ç‰ºöË¢´ÂÜçÊ¨°Ë∞ÉÁî®ÔºåÂØπË±°‰ºöÁõ¥Êé•ÂèòÊàê‰∏çÂèØËß¶ÂèäÁöÑÁä∂ÊÄÅÔºå‰πüÂ∞±ÊòØËØ¥Ôºå‰∏Ä‰∏™ÂØπË±°ÁöÑfinalizeÊñπÊ≥ïÂè™‰ºöË¢´Ë∞ÉÁî®‰∏ÄÊ¨°„ÄÇ 3.MAT‰∏é JprofilerÁöÑGC RootsÊπñÊ∫ê MAT MATÊòØ Memory AnalyzerÁöÑÁÆÄÁß∞ÔºåÂÆÉÊòØ‰∏ÄÊ¨æÂäüËÉΩÂº∫Â§ßÁöÑJavaÂ†ÜÂÜÖÂ≠òÂàÜÊûêÂô®„ÄÇÁî®‰∫éÊüªÊâæÂÜÖÂ≠òÊ≥ÑÊºè‰ª•ÂèäÊüªÁúãÂÜÖÂ≠òÊ∂àËÄóÊÉÖÂÜµ„ÄÇMATÊòØÂü∫‰∫é EclipseÂºÄÂèëÁöÑÔºåÊòØ‰∏ÄÊ¨æÂÖçË¥πÁöÑÊÄßËÉΩÂàÜÊûêÂ∑•ÂÖ∑Â§ßÂÆ∂ÂèØ‰ª•Âú®https://www.eclipse.org/mat/‰∏ãËΩΩÂπ∂‰ΩøÁî®MAT„ÄÇ ‚Äã Ëé∑Âèñ dump Êñá‰ª∂ Jprofiler 4.ÂûÉÂúæÊ∏ÖÈô§Èò∂ÊÆµÁÆóÊ≥ï‰πãÊ†áËÆ∞‰∏ÄÊ∏ÖÈô§ÁÆóÊ≥ï ÂΩìÊàêÂäüÂå∫ÂàÜÂá∫ÂÜÖÂ≠ò‰∏≠Â≠òÊ¥ªÂØπË±°ÂíåÊ≠ª‰∫°ÂØπË±°ÂêéÔºåGCÊé•‰∏ãÊù•ÁöÑ‰ªªÂä°Â∞±ÊòØÊâßË°åÂûÉÂúæÂõûÊî∂ÔºåÈáäÊîæÊéâÊó†Áî®ÂØπË±°ÊâÄÂç†Áî®ÁöÑÂÜÖÂ≠òÁ©∫Èó¥Ôºå‰ª•‰æøÊúâË∂≥Â§üÁöÑÂèØÁî®ÂÜÖÂ≠òÁ©∫Èó¥‰∏∫Êñ∞ÂØπË±°ÂàÜÈÖçÂÜÖÂ≠ò„ÄÇ ÁõÆÂâçÂú®JVM‰∏≠ÊØîËæÉÂ∏∏ËßÅÁöÑ‰∏âÁßçÂûÉÂúæÊî∂ÈõÜÁÆóÊ≥ïÊòØÊ†áËÆ∞ - Ê∏ÖÈô§ÁÆóÊ≥ïÔºàMark Sweep)„ÄÅÂ§çÂà∂ÁÆóÊ≥ï( Copying)„ÄÅÊ†áËÆ∞ - ÂéãÁº©ÁÆóÊ≥ïÔºàMark CompactÔºâ Ê†áËÆ∞ - Ê∏ÖÈô§ÁÆóÊ≥ïÔºàMark Sweep) ÂÅúÊ≠¢-Ê†áËÆ∞-Ê∏ÖÈô§ ËÉåÊôØÔºöÊ†áËÆ∞‰∏ÄÊ∏ÖÈô§ÁÆóÊ≥ï(Mark- Sweep)ÊòØ‰∏ÄÁßçÈùûÂ∏∏Âü∫Á°ÄÂíåÂ∏∏ËßÅÁöÑÂûÉÂúæÊî∂ÈõÜÁÆóÊ≥ïÔºåËØ•ÁÆóÊ≥ïË¢´J. MccarthyÁ≠â‰∫∫Âú®1960Âπ¥ÊèêÂá∫Âπ∂Âπ∂Â∫îÁî®‰∫éLispËØ≠Ë®Ä„ÄÇ ÊâßË°åËøáÁ®ãÔºöÂΩìÂ†Ü‰∏≠ÁöÑÊúâÊïàÂÜÖÂ≠òÁ©∫Èó¥(avail able memory)Ë¢´ËÄóÂ∞ΩÁöÑÊó∂ÂÄôÔºåÂ∞±‰ºöÂÅúÊ≠¢Êï¥‰∏™Á®ãÂ∫è(‰πüË¢´Áß∞‰∏∫ stop the world),ÁÑ∂ÂêéËøõË°å‰∏§È°πÂ∑•‰ΩúÔºåÁ¨¨‰∏ÄÈ°πÂàôÊòØÊ†áËÆ∞ÔºåÁ¨¨‰∫åÈ°πÂàôÊòØÊ∏ÖÈô§„ÄÇ Ê†áËÆ∞ÔºöCollector‰ªéÂºïÁî®Ê†πËäÇÁÇπÂºÄÂßãÈÅçÂéÜÔºåÊ†áËÆ∞ÊâÄÊúâË¢´ÂºïÁî®ÁöÑÂØπË±°„ÄÇ‰∏ÄËà¨ÊòØÂú®ÂØπË±°ÁöÑ Header‰∏≠ËÆ∞ÂΩï‰∏∫ÂèØËææÂØπË±°„ÄÇ Ê∏ÖÈô§ÔºöCollectorÂØπÂ†ÜÂÜÖÂ≠ò‰ªéÂ§¥Âà∞Â∞æËøõË°åÁ∫øÊÄßÁöÑÈÅçÂéÜÔºåÂ¶ÇÊûúÂèëÁé∞Êüê‰∏™ÂØπË±°Âú®ÂÖ∂ Headerl‰∏≠Ê≤°ÊúâÊ†áËÆ∞‰∏∫ÂèØËææÂØπË±°ÔºåÂàôÂ∞ÜÂÖ∂ÂõûÊî∂. Áº∫ÁÇπ ÊïàÁéá‰∏çÁÆóÈ´ò Âú®ËøõË°åGCÁöÑÊó∂ÂÄôÔºåÈúÄË¶ÅÂÅúÊ≠¢Êï¥‰∏™Â∫îÁî®Á®ãÂ∫èÔºåÂØºËá¥Áî®Êà∑‰ΩìÈ™åÂ∑Æ„ÄÇ ËøôÁßçÊñπÂºèÊ∏ÖÁêÜÂá∫Êù•ÁöÑÁ©∫Èó≤ÂÜÖÂ≠òÊòØ‰∏çËøûÁª≠ÁöÑÔºå‰∫ßÁîüÂÜÖÂ≠òÁ¢éÁâá„ÄÇÈúÄË¶ÅÁª¥Êä§‰∏Ä‰∏™Á©∫Èó≤ÂàóË°®Ê≥®ÊÑè„ÄÇ ‰Ωï‰∏∫Ê∏ÖÈô§Ôºü ËøôÈáåÊâÄË∞ìÁöÑÊ∏ÖÈô§Âπ∂‰∏çÊòØÁúüÁöÑÁΩÆÁ©∫ÔºåËÄåÊòØÊääÈúÄË¶ÅÊ∏ÖÈô§ÁöÑÂØπË±°Âú∞ÂùÄ‰øùÂ≠òÂú®Á©∫Èó≤ÁöÑÂú∞ÂùÄÂàóË°®Èáå„ÄÇ‰∏ãÊ¨°ÊúâÊñ∞ÂØπË±°ÈúÄË¶ÅÂä†ËΩΩÊó∂ÔºåÂà§Êñ≠ÂûÉÂúæÁöÑ‰ΩçÁΩÆÁ©∫Èó¥ÊòØÂê¶Â§üÂ¶ÇÊûúÂ§üÔºåÂ∞±Â≠òÊîæ„ÄÇ Â§çÂà∂ÁÆóÊ≥ï( Copying) ‰∏§Âùó-Ê¥ªËøûÁª≠Â§çÂà∂Âà∞Âè¶‰∏ÄÂùó-Ê∏ÖÈô§ ËÉåÊôØ ‰∏∫‰∫ÜËß£ÂÜ≥Ê†áËÆ∞‰∏ÄÊ∏ÖÈô§ÁÆóÊ≥ïÂú®ÂûÉÂúæÊî∂ÈõÜÊïàÁéáÊñπÈù¢ÁöÑÁº∫Èô∑,M,Â∑•. Minsky‰∫é1963Âπ¥ÂèëË°®‰∫ÜËëóÂêçÁöÑËÆ∫Êñá,&quot;‰ΩøÁî®ÂèåÂ≠òÂÇ®Âå∫ÁöÑLispËØ≠Ë®ÄÂûÉÂúæÊî∂ÈõÜÂô®CALISP Garbage Collector Algorithm Using Serial Secondary Storage)&quot;„ÄÇM.L. MinskyÂú®ËØ•ËÆ∫Êñá‰∏≠ÊèèËø∞ÁöÑÁÆóÊ≥ïË¢´‰∫∫‰ª¨]Áß∞‰∏∫Â§çÂà∂( Copying)ÁÆóÊ≥ï,ÂÆÉ‰πüË¢´M.L. MinskyÊú¨‰∫∫ÊàêÂäüÂú∞ÂºïÂÖ•Âà∞‰∫ÜLispËØ≠Ë®ÄÁöÑ‰∏Ä‰∏™ÂÆûÁé∞ÁâàÊú¨‰∏≠„ÄÇ ÊâßË°åËøáÁ®ã Â∞ÜÊ¥ªÁùÄÁöÑÂÜÖÂ≠òÁ©∫Èó¥ÂàÜ‰∏∫‰∏§Âùó,ÊØèÊ¨°Âè™‰ΩøÁî®ÂÖ∂‰∏≠‰∏ÄÂùó,Âú®ÂûÉÂúæÂõûÊî∂Êó∂Â∞ÜÊ≠£Âú®‰ΩøÁî®ÁöÑÂÜÖÂ≠ò‰∏≠ÁöÑÂ≠òÊ¥ªÂØπË±°Â§çÂà∂Âà∞Êú™Ë¢´‰ΩøÁî®ÁöÑÂÜÖÂ≠òÂùó‰∏≠,‰πãÂêéÊ∏ÖÈô§Ê≠£Âú®‰ΩøÁî®ÁöÑÂÜÖÂ≠òÂùó‰∏≠ÁöÑÊâÄÊúâÂØπË±°,‰∫§Êç¢‰∏§‰∏™ÂÜÖÂ≠òÁöÑËßíËâ≤,ÊúÄÂêéÂÆåÊàêÂûÉÂúæÂõûÊî∂. ‰ºòÁÇπÔºö Ê≤°ÊúâÊ†áËÆ∞ÂíåÊ∏ÖÈô§ËøáÁ®ãÔºåÂÆûÁé∞ÁÆÄÂçïÔºåËøêË°åÈ´òÊïà Â§çÂà∂ËøáÂéª‰ª•Âêé‰øùËØÅÁ©∫Èó¥ÁöÑËøûÁª≠ÊÄßÔºå‰∏ç‰ºöÂá∫Áé∞‚ÄúÁ¢éÁâá‚ÄùÈóÆÈ¢òÁº∫ÁÇπ Áº∫ÁÇπÔºöÈúÄË¶Å‰∏§ÂÄçÁöÑÂÜÖÂ≠òÁ©∫Èó¥„ÄÇ ÂØπ‰∫éG1ËøôÁßçÂàÜÊãÜÊàê‰∏∫Â§ßÈáè regionÁöÑGC,Â§çÂà∂ËÄå‰∏çÊòØÁßªÂä®ÔºåÊÑèÂë≥ÁùÄGCÈúÄË¶ÅÁª¥Êä§ region‰πãÈó¥ÂØπË±°ÂºïÁî®ÂÖ≥Á≥ªÔºå‰∏çÁÆ°ÊòØÂÜÖÂ≠òÂç†Áî®ÊàñËÄÖÊó∂Èó¥ÂºÄÈîÄ‰πü‰∏çÂ∞è„ÄÇ ÁâπÂà´ÁöÑÔºöÂ¶ÇÊûúÁ≥ªÁªü‰∏≠ÁöÑÂûÉÂúæÂØπË±°ÂæàÂ§öÔºåÂ§çÂà∂ÁÆóÊ≥ï‰∏ç‰ºöÂæàÁêÜÊÉ≥ÔºåÂõ†‰∏∫Â§çÂà∂ÁÆóÊ≥ïÈúÄË¶ÅÂ§çÂà∂ÁöÑÂ≠òÊ¥ªÂØπË±°Êï∞ÈáèÂπ∂‰∏ç‰ºöÂ§™Â§ßÊàñËÄÖËØ¥ÈùûÂ∏∏‰ΩéÊâçË°å„ÄÇ Ê†áËÆ∞ - ÂéãÁº©ÁÆóÊ≥ïÔºàMark CompactÔºâ Ê†áËÆ∞-ÂºïÁî®ÂØπË±°ÂéãÁº©Âà∞‰∏ÄÁ´Ø-Ê∏ÖÈô§ ËÉåÊôØ Â§çÂà∂ÁÆóÊ≥ïÁöÑÈ´òÊïàÊÄßÊòØÂª∫Á´ãÂú®Â≠òÊ¥ªÂØπË±°Â∞ë„ÄÅÂûÉÂúæÂØπË±°Â§öÁöÑÂâçÊèê‰∏ãÁöÑ„ÄÇËøôÁßçÊÉÖÂÜµÂú®Êñ∞Áîü‰ª£ÁªèÂ∏∏ÂèëÁîüÔºå‰ΩÜÊòØÂú®ËÄÅÂπ¥‰ª£ÔºåÊõ¥Â∏∏ËßÅÁöÑÊÉÖÂÜµÊòØÂ§ßÈÉ®ÂàÜÂØπË±°ÈÉΩÊòØÂ≠òÊ¥ªÂØπË±°„ÄÇÂ¶ÇÊûú‰æùÁÑ∂‰ΩøÁî®Â§çÂà∂ÁÆóÊ≥ïÔºåÁî±‰∫éÂ≠òÊ¥ªÂØπË±°ËæÉÂ§öÔºåÂ§çÂà∂ÁöÑÊàêÊú¨‰πüÂ∞ÜÂæàÈ´ò„ÄÇÂõ†Ê≠§ÔºåÂü∫‰∫éËÄÅÂπ¥‰ª£ÂûÉÂúæÂõûÊî∂ÁöÑÁâπÊÄßÔºåÈúÄË¶Å‰ΩøÁî®ÂÖ∂‰ªñÁöÑÁÆóÊ≥ï„ÄÇ Ê†áËÆ∞‰∏ÄÊ∏ÖÈô§ÁÆóÊ≥ïÁöÑÁ°ÆÂèØ‰ª•Â∫îÁî®Âú®ËÄÅÂπ¥‰ª£‰∏≠Ôºå‰ΩÜÊòØËØ•ÁÆóÊ≥ï‰∏ç‰ªÖÊâßË°åÊïàÁéá‰Ωé‰∏ãÔºåËÄå‰∏îÂú®ÊâßË°åÂÆåÂÜÖÂ≠òÂõûÊî∂ÂêéËøò‰ºö‰∫ßÁîüÂÜÖÂ≠òÁ¢éÁâáÔºåÊâÄ‰ª•JMÁöÑËÆæËÆ°ËÄÖÈúÄË¶ÅÂú®Ê≠§Âü∫Á°Ä‰πã‰∏äËøõË°åÊîπËøõ„ÄÇÊ†áËÆ∞ÂéãÁº©(Mark- Compact)ÁÆóÊ≥ïÁî±Ê≠§ËØûÁîü„ÄÇ 1970Âπ¥ÂâçÂêéÔºåG.L. Steele„ÄÅC.J. CheneÂíåD.S.WiseÁ≠âÁ†îÁ©∂ËÄÖÂèëÂ∏ÉÊ†áËÆ∞ÂéãÁº©ÁÆóÊ≥ï„ÄÇÂú®ËÆ∏Â§öÁé∞‰ª£ÁöÑÂûÉÂúæÊî∂ÈõÜÂô®‰∏≠Ôºå‰∫∫‰ª¨ÈÉΩ‰ΩøÁî®‰∫ÜÊ†áËÆ∞-ÂéãÁº©ÁÆóÊ≥ïÊàñÂÖ∂ÊîπËøõÁâàÊú¨„ÄÇ ÊâßË°åËøáÁ®ã Á¨¨‰∏ÄÈò∂ÊÆµÂíåÊ†áËÆ∞Ê∏ÖÈô§ÁÆóÊ≥ï‰∏ÄÊ†∑‰ªéÊ†πËäÇÁÇπÂºÄÂßãÊ†áËÆ∞ÊâÄÊúâË¢´ÂºïÁî®ÂØπË±° Á¨¨‰∫åÈò∂ÊÆµÂ∞ÜÊâÄÊúâÁöÑÂ≠òÊ¥ªÂØπË±°ÂéãÁº©Âà∞ÂÜÖÂ≠òÁöÑ‰∏ÄÁ´ØÔºåÊåâÈ°∫Â∫èÊéíÊîæ„ÄÇ ‰πãÂêéÔºåÊ∏ÖÁêÜËæπÁïåÂ§ñÊâÄÊúâÁöÑÁ©∫Èó¥„ÄÇ ‚Äã Ê†áËÆ∞‰∏ÄÂéãÁº©ÁÆóÊ≥ïÁöÑÊúÄÁªàÊïàÊûúÁ≠âÂêå‰∫éÊ†áËÆ∞‰∏ÄÊ∏ÖÈô§ÁÆóÊ≥ïÊâßË°åÂÆåÊàêÂêéÔºåÂÜçËøõË°å‰∏ÄÊ¨°ÂÜÖÂ≠òÁ¢éÁâáÊï¥ÁêÜÔºåÂõ†Ê≠§Ôºå‰πüÂèØ‰ª•ÊääÂÆÉÁß∞‰∏∫Ê†áËÆ∞‰∏ÄÊ∏ÖÈô§‰∏ÄÂéãÁº©ÔºàMark- Sweep- Compact)ÁÆóÊ≥ï„ÄÇ‰∫åËÄÖÁöÑÊú¨Ë¥®Â∑ÆÂºÇÂú®‰∫éÊ†áËÆ∞‰∏ÄÊ∏ÖÈô§ÁÆóÊ≥ïÊòØ‰∏ÄÁßçÈùûÁßªÂä®ÂºèÁöÑÂõûÊî∂ÁÆóÊ≥ïÔºåÊ†áËÆ∞-ÂéãÁº©ÊòØÁßªÂä®ÂºèÁöÑ„ÄÇÊòØÂê¶ÁßªÂä®ÂõûÊî∂ÂêéÁöÑÂ≠òÊ¥ªÂØπË±°ÊòØ‰∏ÄÈ°π‰ºòÁº∫ÁÇπÂπ∂Â≠òÁöÑÈ£éÈô©ÂÜ≥Á≠ñ„ÄÇÂèØ‰ª•ÁúãÂà∞ÔºåÊ†áËÆ∞ÁöÑÂ≠òÊ¥ªÂØπË±°Â∞Ü‰ºöË¢´Êï¥ÁêÜÔºåÊåâÁÖßÂÜÖÂ≠òÂú∞ÂùÄ‰æùÊ¨°ÊéíÂàóÔºåËÄåÊú™Ë¢´Ê†áËÆ∞ÁöÑÂÜÖÂ≠ò‰ºöË¢´Ê∏ÖÁêÜÊéâ„ÄÇÂ¶ÇÊ≠§‰∏ÄÊù•ÔºåÂΩìÊàë‰ª¨ÈúÄË¶ÅÁªôÊñ∞ÂØπË±°ÂàÜÈÖçÂÜÖÂ≠òÊó∂ÔºåJVMÂè™ÈúÄË¶ÅÊåÅÊúâ‰∏Ä‰∏™ÂÜÖÂ≠òÁöÑËµ∑ÂßãÂú∞ÂùÄÂç≥ÂèØÔºåËøôÊØîÁª¥Êä§‰∏Ä‰∏™Á©∫Èó≤ÂàóË°®ÊòæÁÑ∂Â∞ë‰∫ÜËÆ∏Â§öÂºÄÈîÄ„ÄÇ ‰ºòÁÇπÔºö Ê∂àÈô§‰∫ÜÊ†áËÆ∞‰∏ÄÊ∏ÖÈô§ÁÆóÊ≥ïÂΩì‰∏≠ÔºåÂÜÖÂ≠òÂå∫ÂüüÂàÜÊï£ÁöÑÁº∫ÁÇπÔºåÊàë‰ª¨ÈúÄË¶ÅÁªôÊñ∞ÂØπË±°ÂàÜÈÖçÂÜÖÂ≠òÊó∂ÔºåJVMÂè™ÈúÄË¶ÅÊåÅÊúâ‰∏Ä‰∏™ÂÜÖÂ≠òÁöÑËµ∑ÂßãÂú∞ÂùÄÂç≥ÂèØ„ÄÇÊ∂àÈô§‰∫ÜÂ§çÂà∂ÁÆóÊ≥ïÂΩì‰∏≠ÔºåÂÜÖÂ≠òÂáèÂçäÁöÑÈ´òÈ¢ù‰ª£‰ª∑ Áº∫ÁÇπÔºö ‰ªéÊïàÁéá‰∏äÊù•ËØ¥ÔºåÊ†áËÆ∞‰∏ÄÊï¥ÁêÜÁÆóÊ≥ïË¶Å‰Ωé‰∫éÂ§çÂà∂ÁÆóÊ≥ïÁßªÂä®ÂØπË±°ÁöÑÂêåÊó∂ÔºåÂ¶ÇÊûúÂØπË±°Ë¢´ÂÖ∂‰ªñÂØπË±°ÂºïÁî®ÔºåÂàôËøòÈúÄË¶ÅË∞ÉÊï¥ÂºïÁî®ÁöÑÂú∞ÂùÄ„ÄÇÁßªÂä®ËøáÁ®ã‰∏≠ÔºåÈúÄË¶ÅÂÖ®Á®ãÊöÇÂÅúÁî®Êà∑Â∫îÁî®Á®ãÂ∫è„ÄÇÂç≥ÔºöSTW ÊÄªÁªì ‚Äã ÊïàÁéá‰∏äÊù•ËØ¥ÔºåÂ§çÂà∂ÁÆóÊ≥ïÊòØÂΩì‰πãÊó†ÊÑßÁöÑËÄÅÂ§ßÔºå‰ΩÜÊòØÂç¥Êµ™Ë¥π‰∫ÜÂ§™Â§öÂÜÖÂ≠ò„ÄÇËÄå‰∏∫‰∫ÜÂ∞ΩÈáèÂÖºÈ°æ‰∏äÈù¢ÊèêÂà∞ÁöÑ‰∏â‰∏™ÊåáÊ†áÔºåÊ†áËÆ∞‰∏ÄÊï¥ÁêÜÁÆóÊ≥ïÁõ∏ÂØπÊù•ËØ¥Êõ¥Âπ≥Êªë‰∏Ä‰∫õÔºå‰ΩÜÊòØÊïàÁéá‰∏ä‰∏çÂ∞ΩÂ¶Ç‰∫∫ÊÑèÔºåÂÆÉÊØîÂ§çÂà∂ÁÆóÊ≥ïÂ§ö‰∫Ü‰∏Ä‰∏™Ê†áËÆ∞ÁöÑÈò∂ÊÆµÔºåÊØîÊ†áËÆ∞‰∏ÄÊ∏ÖÈô§Â§ö‰∫Ü‰∏Ä‰∏™Êï¥ÁêÜÂÜÖÂ≠òÁöÑÈò∂ÊÆµ„ÄÇ ÂâçÈù¢ÊâÄÊúâËøô‰∫õÁÆóÊ≥ï‰∏≠ÔºåÂπ∂Ê≤°Êúâ‰∏ÄÁßçÁÆóÊ≥ïÂèØ‰ª•ÂÆåÂÖ®Êõø‰ª£ÂÖ∂‰ªñÁÆóÊ≥ïÔºåÂÆÉ‰ª¨ÈÉΩÂÖ∑ÊúâËá™Â∑±Áã¨ÁâπÁöÑ‰ºòÂäøÂíåÁâπÁÇπ„ÄÇÂàÜ‰ª£Êî∂ÈõÜÁÆóÊ≥ïÂ∫îËøêËÄåÁîü„ÄÇ ÂàÜ‰ª£Êî∂ÈõÜÁÆóÊ≥ïÔºåÊòØÂü∫‰∫éËøôÊ†∑‰∏Ä‰∏™‰∫ãÂÆûÔºö‰∏çÂêåÁöÑÂØπË±°ÁöÑÁîüÂëΩÂë®ÊúüÊòØ‰∏ç‰∏ÄÊ†∑ÁöÑ„ÄÇÂõ†Ê≠§Ôºå‰∏çÂêåÁîüÂëΩÂë®ÊúüÁöÑÂØπË±°ÂèØ‰ª•ÈááÂèñ‰∏çÂêåÁöÑÊî∂ÈõÜÊñπÂºèÔºå‰ª•‰æøÊèêÈ´òÂõûÊî∂ÊïàÁéá„ÄÇ‰∏ÄËà¨ÊòØÊääJavaÂ†ÜÂàÜ‰∏∫Êñ∞Áîü‰ª£ÂíåËÄÅÂπ¥‰ª£ÔºåËøôÊ†∑Â∞±ÂèØ‰ª•Ê†πÊçÆÂêÑ‰∏™Âπ¥‰ª£ÁöÑÁâπÁÇπ‰ΩøÁî®‰∏çÂêåÁöÑÂõûÊî∂ÁÆóÊ≥ïÔºå‰ª•ÊèêÈ´òÂûÉÂúæÂõûÊî∂ÁöÑÊïàÁéá Âú®JavaÁ®ãÂ∫èËøêË°åÁöÑËøáÁ®ã‰∏≠Ôºå‰ºö‰∫ßÁîüÂ§ßÈáèÁöÑÂØπË±°ÔºåÂÖ∂‰∏≠Êúâ‰∫õÂØπË±°ÊòØ‰∏é‰∏öÂä°‰ø°ÊÅØÁõ∏ÂÖ≥ÔºåÊØîÂ¶ÇHttpËØ∑Ê±Ç‰∏≠ÁöÑ SessionÂØπË±°„ÄÅÁ∫øÁ®ã„ÄÅ SocketËøûÊé•ÔºåËøôÁ±ªÂØπË±°Ë∑ü‰∏öÂä°Áõ¥Êé•ÊåÇÈí©ÔºåÂõ†Ê≠§ÁîüÂëΩÂë®ÊúüÊØîËæÉÈïø„ÄÇ‰ΩÜÊòØËøòÊúâ‰∏Ä‰∫õÂØπË±°Ôºå‰∏ªË¶ÅÊòØÁ®ãÂ∫èËøêË°åËøáÁ®ã‰∏≠ÁîüÊàêÁöÑ‰∏¥Êó∂ÂèòÈáèÔºåËøô‰∫õÂØπË±°ÁîüÂëΩÂë®Êúü‰ºöÊØîËæÉÁü≠ÔºåÊØîÂ¶ÇÔºö string,ÂØπË±°ÔºåÁî±‰∫éÂÖ∂‰∏çÂèòÁ±ªÁöÑÁâπÊÄßÔºåÁ≥ªÁªü‰ºö‰∫ßÁîüÂ§ßÈáèÁöÑËøô‰∫õÂØπË±°ÔºåÊúâ‰∫õÂØπË±°ÁîöËá≥Âè™Áî®‰∏ÄÊ¨°Âç≥ÂèØÂõûÊî∂„ÄÇ ‚Äã ÁõÆÂâçÂá†‰πéÊâÄÊúâÁöÑGCÈÉΩÊòØÈááÁî®ÂàÜ‰ª£Êî∂ÈõÜ( Generational Collecting)ÁÆóÊ≥ïÊâßË°åÂûÉÂúæÂõûÊî∂ÁöÑ„ÄÇÂú® Hotspot‰∏≠ÔºåÂü∫‰∫éÂàÜ‰ª£ÁöÑÊ¶ÇÂøµÔºåGCÊâÄ‰ΩøÁî®ÁöÑÂÜÖÂ≠òÂõûÊî∂ÁÆóÊ≥ïÂøÖÈ°ªÁªìÂêàÂπ¥ËΩª‰ª£ÂíåËÄÅÂπ¥‰ª£ÂêÑËá™ÁöÑÁâπÁÇπ„ÄÇ Âπ¥ËΩª‰ª£( Young Gen) ‚Äã Âπ¥ËΩª‰ª£ÁâπÁÇπÔºöÂå∫ÂüüÁõ∏ÂØπËÄÅÂπ¥‰ª£ËæÉÂ∞èÔºåÂØπË±°ÁîüÂëΩÂë®ÊúüÁü≠„ÄÅÂ≠òÊ¥ªÁéá‰ΩéÔºåÂõûÊî∂È¢ëÁπÅ„ÄÇËøôÁßçÊÉÖÂÜµÂ§çÂà∂ÁÆóÊ≥ïÁöÑÂõûÊî∂Êï¥ÁêÜÔºåÈÄüÂ∫¶ÊòØÊúÄÂø´ÁöÑ„ÄÇÂ§çÂà∂ÁÆóÊ≥ïÁöÑÊïàÁéáÂè™ÂíåÂΩìÂâçÂ≠òÊ¥ªÂØπË±°Â§ßÂ∞èÊúâÂÖ≥ÔºåÂõ†Ê≠§ÂæàÈÄÇÁî®‰∫éÂπ¥ËΩª‰ª£ÁöÑÂõûÊî∂„ÄÇËÄåÂ§çÂà∂ÁÆóÊ≥ïÂÜÖÂ≠òÂà©Áî®Áéá‰∏çÈ´òÁöÑÈóÆÈ¢òÔºåÈÄöËøá hotspot‰∏≠ÁöÑ‰∏§‰∏™ survivorÁöÑËÆæËÆ°ÂæóÂà∞ÁºìËß£„ÄÇ ËÄÅÂπ¥‰ª£( Tensured Gen) ‚Äã ËÄÅÂπ¥‰ª£ÁâπÁÇπÔºöÂå∫ÂüüËæÉÂ§ßÔºåÂØπË±°ÁîüÂëΩÂë®ÊúüÈïø„ÄÅÂ≠òÊ¥ªÁéáÈ´òÔºåÂõûÊî∂‰∏çÂèäÂπ¥ËΩª‰ª£È¢ëÁπÅ„ÄÇËøôÁßçÊÉÖÂÜµÂ≠òÂú®Â§ßÈáèÂ≠òÊ¥ªÁéáÈ´òÁöÑÂØπË±°ÔºåÂ§çÂà∂ÁÆóÊ≥ïÊòéÊòæÂèòÂæó‰∏çÂêàÈÄÇ„ÄÇ‰∏ÄËà¨ÊòØÁî±Ê†áËÆ∞‰∏ÄÊ∏ÖÈô§ÊàñËÄÖÊòØÊ†áËÆ∞‰∏ÄÊ∏ÖÈô§‰∏éÊ†áËÆ∞Êï¥ÁêÜÁöÑÊ∑∑ÂêàÂÆûÁé∞„ÄÇMarkÈò∂ÊÆµÁöÑÂºÄÈîÄ‰∏éÂ≠òÊ¥ªÂØπË±°ÁöÑÊï∞ÈáèÊàêÊ≠£ÊØî„ÄÇSweepÈò∂ÊÆµÁöÑÂºÄÈîÄ‰∏éÊâÄÁÆ°ÁêÜÂå∫ÂüüÁöÑÂ§ßÂ∞èÊàêÊ≠£Áõ∏ÂÖ≥„ÄÇCompactÈò∂ÊÆµÁöÑÂºÄÈîÄ‰∏éÂ≠òÊ¥ªÂØπË±°ÁöÑÊï∞ÊçÆÊàêÊ≠£ÊØî„ÄÇ ‚Äã ‰ª• Hotspot‰∏≠ÁöÑCMSÂõûÊî∂Âô®‰∏∫‰æãÔºåCMSÊòØÂü∫‰∫éMark- SweepÂÆûÁé∞ÁöÑÔºåÂØπ‰∫éÂØπË±°ÁöÑÂõûÊî∂ÊïàÁéáÂæàÈ´ò„ÄÇËÄåÂØπ‰∫éÁ¢éÁâáÈóÆÈ¢òÔºåCMSÈááÁî®Âü∫‰∫éMark- CompactÁÆóÊ≥ïÁöÑ Serial old ÂõûÊî∂Âô®‰Ωú‰∏∫Ë°•ÂÅøÊé™ÊñΩÔºöÂΩìÂÜÖÂ≠òÂõûÊî∂‰∏ç‰Ω≥ÔºàÁ¢éÁâáÂØºËá¥ÁöÑ Concurrent Mode FailureÊó∂ÔºâÔºåÂ∞ÜÈááÁî® SeraloldÊâßË°åFullGC‰ª•ËææÂà∞ÂØπËÄÅÂπ¥‰ª£ÂÜÖÂ≠òÁöÑÊï¥ÁêÜ„ÄÇÂàÜ‰ª£ÁöÑÊÄùÊÉ≥Ë¢´Áé∞ÊúâÁöÑËôöÊãüÊú∫ÂπøÊ≥õ‰ΩøÁî®„ÄÇÂá†‰πéÊâÄÊúâÁöÑÂûÉÂúæÂõûÊî∂Âô®ÈÉΩÂå∫ÂàÜÊñ∞Áîü‰ª£ÂíåËÄÅÂπ¥‰ª£„ÄÇ ÂàÜÂå∫ÁÆóÊ≥ï ‚Äã ‰∏ÄËà¨Êù•ËØ¥ÔºåÂú®Áõ∏ÂêåÊù°‰ª∂‰∏ãÔºåÂ†ÜÁ©∫Èó¥Ë∂äÂ§ßÔºå‰∏ÄÊ¨°GCÊó∂ÊâÄÈúÄË¶ÅÁöÑÊó∂Èó¥Â∞±Ë∂äÈïøÔºåÊúâÂÖ≥GC‰∫ßÁîüÁöÑÂÅúÈ°ø‰πüË∂äÈïø„ÄÇ‰∏∫‰∫ÜÊõ¥Â•ΩÂú∞ÊéßÂà∂GC‰∫ßÁîüÁöÑÂÅúÈ°øÊó∂Èó¥ÔºåÂ∞Ü‰∏ÄÂùóÂ§ßÁöÑÂÜÖÂ≠òÂå∫ÂüüÂàÜÂâ≤ÊàêÂ§ö‰∏™Â∞èÂùóÔºåÊ†πÊçÆÁõÆÊ†áÁöÑÂÅúÈ°øÊó∂Èó¥ÔºåÊØèÊ¨°ÂêàÁêÜÂú∞ÂõûÊî∂Ëã•Âπ≤‰∏™Â∞èÂå∫Èó¥ÔºåËÄå‰∏çÊòØÊï¥‰∏™Â†ÜÁ©∫Èó¥Ôºå‰ªéËÄåÂáèÂ∞ë„ÉºÊ¨°GCÊâÄ‰∫ßÁîüÁöÑÂÅúÈ°ø„ÄÇÂàÜ‰ª£ÁÆóÊ≥ïÂ∞ÜÊåâÁÖßÂØπË±°ÁöÑÁîüÂëΩÂë®ÊúüÈïøÁü≠ÂàíÂàÜÊàê‰∏§‰∏™ÈÉ®ÂàÜÔºåÂàÜÂå∫ÁÆóÊ≥ïÂ∞ÜÊï¥‰∏™Â†ÜÁ©∫Èó¥ÂàíÂàÜÊàêËøûÁª≠ÁöÑ‰∏çÂêåÂ∞èÂå∫Èó¥„ÄÇÊØè‰∏Ä‰∏™Â∞èÂå∫Èó¥ÈÉΩÁã¨Á´ã‰ΩøÁî®ÔºåÁã¨Á´ãÂõûÊî∂„ÄÇËøôÁßçÁÆóÊ≥ïÁöÑÂ•ΩÂ§ÑÊòØÂèØ‰ª•ÊéßÂà∂‰∏ÄÊ¨°ÂõûÊî∂Â§öÂ∞ë‰∏™Â∞èÂå∫Èó¥„ÄÇ Â¢ûÈáèÊî∂ÈõÜÁÆóÊ≥ï Áº∫ÁÇπ ‰ΩøÁî®ËøôÁßçÊñπÂºèÔºåÁî±‰∫éÂú®ÂûÉÂúæÂõûÊî∂ËøáÁ®ã‰∏≠ÔºåÈó¥Êñ≠ÊÄßÂú∞ËøòÊâßË°å‰∫ÜÂ∫îÁî®Á®ãÂ∫è‰ª£Á†ÅÔºåÊâÄ‰ª•ËÉΩÂáèÂ∞ëÁ≥ªÁªüÁöÑÂÅúÈ°øÊó∂Èó¥„ÄÇ‰ΩÜÊòØÔºåÂõ†‰∏∫Á∫øÁ®ãÂàáÊç¢Âíå‰∏ä‰∏ãÊñáËΩ¨Êç¢ÁöÑÊ∂àËÄóÔºå‰ºö‰ΩøÂæóÂûÉÂúæÂõûÊî∂ÁöÑÊÄª‰ΩìÊàêÊú¨‰∏äÂçáÔºåÈÄ†ÊàêÁ≥ªÁªüÂêûÂêêÈáèÁöÑ‰∏ãÈôç„ÄÇ ÂçÅÂÖ≠„ÄÅÂûÉÂúæÂõûÊî∂Áõ∏ÂÖ≥Ê¶ÇÂøµ 1.System.GC()ÁöÑÁêÜËß£ Âú®ÈªòËÆ§ÊÉÖÂÜµ‰∏ãÔºåÈÄöËøá System.GC)ÊàñËÄÖ Runtime. getruntimeÔºàÔºâ.GCÔºàÔºâÁöÑË∞ÉÁî®Ôºå‰ºöÊòæÂºèËß¶ÂèëFull GC,ÂêåÊó∂ÂØπËÄÅÂπ¥‰ª£ÂíåÊñ∞Áîü‰ª£ËøõË°åÂõûÊî∂ÔºåÂ∞ùËØïÈáäÊîæË¢´‰∏¢ÂºÉÂØπË±°Âç†Áî®ÁöÑÂÜÖÂ≠ò„ÄÇ ÁÑ∂ËÄå system.GCÔºàÔºâË∞ÉÁî®ÈôÑÂ∏¶‰∏Ä‰∏™ÂÖçË¥£Â£∞ÊòéÔºåÊó†Ê≥ï‰øùËØÅÂØπÂûÉÂúæÊî∂ÈõÜÂô®ÁöÑË∞ÉÁî®„ÄÇ JVMÂÆûÁé∞ËÄÖÂèØ‰ª•ÈÄöËøá System.GCÔºàÔºâË∞ÉÁî®Êù•ÂÜ≥ÂÆöJVMÁöÑGCË°å‰∏∫„ÄÇËÄå‰∏ÄËà¨ÊÉÖÂÜµ‰∏ãÔºåÂûÉÂúæÂõûÊî∂Â∫îËØ•ÊòØËá™Âä®ËøõË°åÁöÑÔºåÊó†È°ªÊâãÂä®Ëß¶ÂèëÔºåÂê¶ÂàôÂ∞±Â§™Ëøá‰∫éÈ∫ªÁÉ¶‰∫Ü„ÄÇÂú®‰∏Ä‰∫õÁâπÊÆäÊÉÖÂÜµ‰∏ãÔºåÂ¶ÇÊàë‰ª¨Ê≠£Âú®ÁºñÂÜô‰∏Ä‰∏™ÊÄßËÉΩÂü∫ÂáÜÔºåÊàë‰ª¨ÂèØ‰ª•Âú®ËøêË°å‰πãÈó¥Ë∞ÉÁî®System.GCÔºàÔºâ„ÄÇ 2.ÂÜÖÂ≠òÊ∫¢Âá∫‰∏éÂÜÖÂ≠òÊ≥ÑÊºè ÂÜÖÂ≠òÊ∫¢Âá∫ (Êª°‰∫Ü) ÂÜÖÂ≠òÊ∫¢Âá∫Áõ∏ÂØπ‰∫éÂÜÖÂ≠òÊ≥ÑÊºèÊù•ËØ¥ÔºåÂ∞ΩÁÆ°Êõ¥ÂÆπÊòìË¢´ÁêÜËß£Ôºå‰ΩÜÊòØÂêåÊ†∑ÁöÑÔºåÂÜÖÂ≠òÊ∫¢Âá∫‰πüÊòØÂºïÂèëÁ®ãÂ∫èÂ¥©Ê∫ÉÁöÑÁΩ™È≠ÅÁ•∏È¶ñ‰πã‰∏Ä„ÄÇ Áî±‰∫éGC‰∏ÄÁõ¥Âú®ÂèëÂ±ïÔºåÊâÄÊúâ‰∏ÄËà¨ÊÉÖÊ≥Å‰∏ãÔºåÈô§ÈùûÂ∫îÁî®Á®ãÂ∫èÂç†Áî®ÁöÑÂÜÖÂ≠òÂ¢ûÈïøÈÄüÂ∫¶ÈùûÂ∏∏Âø´ÔºåÈÄ†ÊàêÂûÉÂúæÂõûÊî∂Â∑≤ÁªèË∑ü‰∏ç‰∏äÂÜÖÂ≠òÊ∂àËÄóÁöÑÈÄüÂ∫¶ÔºåÂê¶Âàô‰∏çÂ§™ÂÆπÊòìÂá∫Áé∞OOMÁöÑÊÉÖÂÜµ„ÄÇ Â§ßÂ§öÊï∞ÊÉÖÂÜµ‰∏ãÔºåGC‰ºöËøõË°åÂêÑÁßçÂπ¥ÈæÑÊÆµÁöÑÂûÉÂúæÂõûÊî∂ÔºåÂÆûÂú®‰∏çË°å‰∫ÜÂ∞±ÊîæÂ§ßÊãõÔºåÊù•‰∏ÄÊ¨°Áã¨Âç†ÂºèÁöÑFull GCÊìç‰ΩúÔºåËøôÊó∂ÂÄô‰ºöÂõûÊî∂Â§ßÈáèÁöÑÂÜÖÂ≠òÔºå‰æõÂ∫îÁî®Á®ãÂ∫èÁªßÁª≠‰ΩøÁî®„ÄÇ javadoc‰∏≠ÂØπ OutOfMemoryErrorÁöÑËß£ÈáäÊòØÔºåÊ≤°ÊúâÁ©∫Èó≤ÂÜÖÂ≠òÔºåÂπ∂‰∏îÂûÉÂúæÊî∂ÈõÜÂô®‰πüÊó†Ê≥ïÊèê‰æõÊõ¥Â§öÂÜÖÂ≠ò„ÄÇ „ÉªÊ≤°ÊúâÁ©∫Èó≤ÂÜÖÂ≠òÁöÑÊÉÖÂÜµ:ËØ¥ÊòéjavaËôöÊãüÊú∫ÁöÑÂ†ÜÂÜÖÂ≠ò‰∏çÂ§ü.ÂéüÂõ†Êúâ‰∫åÔºö (1)JavaËôöÊãüÊú∫ÁöÑÂ†ÜÂÜÖÂ≠òËÆæÁΩÆ‰∏çÂ§ü ÊØîÂ¶Ç:ÂèØËÉΩÂ≠òÂú®ÂÜÖÂ≠òÊ≥ÑÊºèÈóÆÈ¢ò:Âú∞ÂæàÊúâÂèØËÉΩÂ∞±ÊòØÂ†ÜÁöÑÂ§ßÂ∞è‰∏çÂêàÁêÜ,ÊØîÂ¶ÇÊàë‰ª¨Ë¶ÅÂ§ÑÁêÜÊØîËæÉÂèØËßÇÁöÑÊï∞ÊçÆÈáè,‰ΩÜÊòØÊ≤°ÊúâÊòæÂºèÊåáÂÆöJVMÂ†ÜÂ§ßÂ∞èÊàñËÄÖÊåáÂÆöÊï∞ÂÄºÂÅèÂ∞è.Êàë‰ª¨ÂèØ‰ª•ÈÄöËøáÂèÇÊï∞-Xms„ÄÅXmxÊù•Ë∞ÉÊï¥. (2)‰ª£Á†Å‰∏≠ÂàõÂª∫‰∫ÜÂ§ßÈáèÂ§ßÂØπË±°,Âπ∂‰∏îÈïøÊó∂Èó¥‰∏çËÉΩË¢´ÂûÉÂúæÊî∂ÈõÜÂô®Êî∂ÈõÜ(Â≠òÂú®Ë¢´ÂºïÁî®) sÂØπ‰∫éËÄÅÁâàÊú¨ÁöÑ Oracle JDK,Âõ†‰∏∫Ê∞∏‰πÖ‰ª£ÁöÑÂ§ßÂ∞èÊòØÊúâÈôêÁöÑ,Âπ∂‰∏îJVMÂØπÊ∞∏‰πÖ‰ª£ÂûÉÂúæÂõûÊî∂(Â¶Ç,Â∏∏ÈáèÊ±†ÂõûÊî∂„ÄÅÂç∏ËΩΩ‰∏çÂÜçÈúÄË¶ÅÁöÑÁ±ªÂûã)ÈùûÂ∏∏‰∏çÁßØÊûÅ,ÊâÄ‰ª•ÂΩìÊàë‰ª¨‰∏çÊñ≠Ê∑ªÂä†Êñ∞Á±ªÂûãÁöÑÊó∂ÂÄô,Ê∞∏‰πÖ‰ª£Âá∫Áé∞ OutOfMemoryError‰πüÈùûÂ∏∏Â§öËßÅ,Â∞§ÂÖ∂ÊòØÂú®ËøêË°åÊó∂Â≠òÂú®Â§ßÈáèÂä®ÊÄÅÁ±ªÂûãÁîüÊàêÁöÑÂú∫Âêà;Á±ª‰ºº l ternÂ≠óÁ¨¶‰∏≤ÁºìÂ≠òÂç†Áî®Â§™Â§öÁ©∫Èó¥,‰πü‰ºöÂØºËá¥OOMÈóÆÈ¢ò.ÂØπÂ∫îÁöÑÂºÇÂ∏∏‰ø°ÊÅØ,‰ºöÊ†áËÆ∞Âá∫Êù•ÂíåÊ∞∏‰πÖ‰ª£Áõ∏ÂÖ≥:&quot;java.lang.OutOfMemoryError: Permgen space&quot;. ÈöèÁùÄÂÖÉÊï∞ÊçÆÂå∫ÁöÑÂºïÂÖ•,ÊñπÊ≥ïÂå∫ÂÜÖÂ≠òÂ∑≤Áªè‰∏çÂÜçÈÇ£‰πàÁ™òËø´,ÊâÄ‰ª•Áõ∏Â∫îÁöÑOOMÊúâÊâÄÊîπËßÇ,Âá∫Áé∞OOM,ÂºÇÂ∏∏‰ø°ÊÅØÂàôÂèòÊàê‰∫Ü:&quot;java.lang. OutOfMemoryError: Metaspace&quot;.Áõ¥Êé•ÂÜÖÂ≠ò‰∏çË∂≥,‰πü‰ºöÂØºËá¥OOM. ‚Äã ËøôÈáåÈù¢ÈöêÂê´ÁùÄ‰∏ÄÂ±ÇÊÑèÊÄùÊòØ,Âú®ÊäõÂá∫ OutOfMemoryError‰πãÂâç,ÈÄöÂ∏∏ÂûÉÂúæÊî∂ÈõÜÂô®‰ºöË¢´Ëß¶Âèë,Â∞ΩÂÖ∂ÊâÄËÉΩÂéªÊ∏ÖÁêÜÂá∫Á©∫Èó¥„ÄÇ‰æãÂ¶Ç:Âú®ÂºïÁî®Êú∫Âà∂ÂàÜÊûê‰∏≠,Ê∂âÂèäÂà∞JVM‰ºöÂéªÂ∞ùËØïÂõûÊî∂ËΩØÂºïÁî®ÊåáÂêëÁöÑÂØπË±°Á≠â„ÄÇÂú®java.nio.BTts. reservememory()ÊñπÊ≥ï‰∏≠,Êàë‰ª¨ËÉΩÊ∏ÖÊ•öÁöÑÁúãÂà∞, System.GC()‰ºöË¢´Ë∞ÉÁî®,‰ª•Ê∏ÖÁêÜÁ©∫Èó¥. ‚Äã ÂΩìÁÑ∂,‰πü‰∏çÊòØÂú®‰ªª‰ΩïÊÉÖÂÜµ‰∏ãÂûÉÂúæÊî∂ÈõÜÂô®ÈÉΩ‰ºöË¢´Ëß¶ÂèëÁöÑ„ÄÇÊØîÂ¶Ç,Êàë‰ª¨ÂéªÂàÜÈÖç‰∏Ä‰∏™Ë∂ÖÂ§ßÂØπË±°,Á±ª‰ºº‰∏Ä‰∏™Ë∂ÖÂ§ßÊï∞ÁªÑË∂ÖËøáÂ†ÜÁöÑÊúÄÂ§ßÂÄº,JVMÂèØ‰ª•Âà§Êñ≠Âá∫ÂûÉÂúæÊî∂ÈõÜÂπ∂‰∏çËÉΩËß£ÂÜ≥Ëøô‰∏™ÈóÆÈ¢ò,ÊâÄ‰ª•Áõ¥Êé•ÊäõÂá∫ OutOfMemoryError. ÂÜÖÂ≠òÊ≥ÑÊºèÔºà‰∏çËÉΩÂõûÊî∂Ôºâ ‚Äã ‰πüÁß∞‰Ωú‚ÄúÂ≠òÂÇ®Ê∏óÊºè‚Äù„ÄÇ‰∏•Ê†ºÊù•ËØ¥ÔºåÂè™ÊúâÂØπË±°‰∏ç‰ºöÂÜçË¢´Á®ãÂ∫èÁî®Âà∞‰∫ÜÔºå‰ΩÜÊòØGCÂèà‰∏çËÉΩÂõûÊî∂‰ªñ‰ª¨ÁöÑÊÉÖÂÜµÔºåÊâçÂè´ÂÜÖÂ≠òÊ≥ÑÊºè„ÄÇ‰ΩÜÂÆûÈôÖÊÉÖÂÜµÂæàÂ§öÊó∂ÂÄô‰∏Ä‰∫õ‰∏çÂ§™Â•ΩÁöÑÂÆûË∑µÔºàÊàñÁñèÂøΩÔºâ‰ºöÂØºËá¥ÂØπË±°ÁöÑÁîüÂëΩÂë®ÊúüÂèòÂæóÂæàÈïøÁîöËá≥ÂØºËá¥OOM,‰πüÂèØ‰ª•Âè´ÂÅöÂÆΩÊ≥õÊÑè‰πâ‰∏äÁöÑ‚ÄúÂÜÖÂ≠òÊ≥ÑÊºè‚Äù„ÄÇ ‚Äã Â∞ΩÁÆ°ÂÜÖÂ≠òÊ≥ÑÊºèÂπ∂‰∏ç‰ºöÁ´ãÂàªÂºïËµ∑Á®ãÂ∫èÂ¥©Ê∫ÉÔºå‰ΩÜÊòØ‰∏ÄÊó¶ÂèëÁîüÂÜÖÂ≠òÊ≥ÑÊºèÔºåÁ®ãÂ∫è‰∏≠ÁöÑÂèØÁî®ÂÜÖÂ≠òÂ∞±‰ºöË¢´ÈÄêÊ≠•ËöïÈ£üÔºåÁõ¥Ëá≥ËÄóÂ∞ΩÊâÄÊúâÂÜÖÂ≠òÔºåÊúÄÁªàÂá∫Áé∞ OutOfMemoryÂºÇÂ∏∏ÔºåÂØºËá¥Á®ãÂ∫èÂ¥©Ê∫É„ÄÇÊ≥®ÊÑèÔºåËøôÈáåÁöÑÂ≠òÂÇ®Á©∫Èó¥Âπ∂‰∏çÊòØÊåáÁâ©ÁêÜÂÜÖÂ≠òÔºåËÄåÊòØÊåáËôöÊãüÂÜÖÂ≠òÂ§ßÂ∞èÔºåËøô‰∏™ËôöÊãüÂÜÖÂ≠òÂ§ßÂ∞èÂèñÂÜ≥‰∫éÁ£ÅÁõò‰∫§Êç¢Âå∫ËÆæÂÆöÁöÑÂ§ßÂ∞è„ÄÇ ‰∏æ‰æã 1„ÄÅÂçï‰æãÊ®°Âºè Âçï‰æãÁöÑÁîüÂëΩÂë®ÊúüÂíåÂ∫îÁî®Á®ãÂ∫èÊòØ‰∏ÄÊ†∑ÈïøÁöÑÔºåÊâÄ‰ª•Âçï‰æãÁ®ãÂ∫è‰∏≠ÔºåÂ¶ÇÊûúÊåÅÊúâÂØπÂ§ñÈÉ®ÂØπË±°ÁöÑÂºïÁî®ÁöÑËØùÔºåÈÇ£‰πàËøô‰∏™Â§ñÈÉ®ÂØπË±°ÊòØ‰∏çËÉΩË¢´ÂõûÊî∂ÁöÑÔºåÂàô‰ºöÂØºËá¥ÂÜÖÂ≠òÊ≥ÑÊºèÁöÑ‰∫ßÁîü„ÄÇ 2„ÄÅ‰∏Ä‰∫õÊèê‰æõcloseÁöÑËµÑÊ∫êÊú™ÂÖ≥Èó≠ÂØºËá¥ÂÜÖÂ≠òÊ≥ÑÊºè Êï∞ÊçÆÂ∫ìËøûÊé•( datasource. getconnectionÔºàÔºâ),ÁΩëÁªúËøûÊé•( socket)ÂíåioËøûÊé•ÂøÖÈ°ªÊâãÂä®close,Âê¶ÂàôÊòØ‰∏çËÉΩË¢´ÂõûÊî∂ÁöÑ„ÄÇ 3.Stop The World Stop-the-World,ÁÆÄÁß∞ STW,ÊåáÁöÑÊòØGC‰∫ã‰ª∂ÂèëÁîüËøáÁ®ã‰∏≠Ôºå‰ºö‰∫ßÁîüÂ∫îÁî®Á®ãÂ∫èÁöÑÂÅúÈ°ø„ÄÇÂÅúÈ°ø‰∫ßÁîüÊó∂Êï¥‰∏™Â∫îÁî®Á®ãÂ∫èÁ∫øÁ®ãÈÉΩ‰ºöË¢´ÊöÇÂÅúÔºåÊ≤°Êúâ‰ªª‰ΩïÂìçÂ∫îÔºåÊúâÁÇπÂÉèÂç°Ê≠ªÁöÑÊÑüËßâÔºåËøô‰∏™ÂÅúÈ°øÁß∞‰∏∫STW. ÂèØËææÊÄßÂàÜÊûêÁÆóÊ≥ï‰∏≠Êûö‰∏æÊ†πËäÇÁÇπ( GC Roots)‰ºöÂØºËá¥ÊâÄÊúâJavaÊâßË°åÁ∫øÁ®ãÂÅúÈ°ø„ÄÇÂàÜÊûêÂ∑•‰ΩúÂøÖÈ°ªÂú®‰∏Ä‰∏™ËÉΩÁ°Æ‰øù‰∏ÄËá¥ÊÄßÁöÑÂø´ÁÖß‰∏≠ËøõË°å„ÄÇ‰∏ÄËá¥ÊÄßÊåáÊï¥‰∏™ÂàÜÊûêÊúüÈó¥Êï¥‰∏™ÊâßË°åÁ≥ªÁªüÁúãËµ∑Êù•ÂÉèË¢´ÂÜªÁªìÂú®Êüê‰∏™Êó∂Èó¥ÁÇπ‰∏äÂ¶ÇÊûúÂá∫Áé∞ÂàÜÊûêËøáÁ®ã‰∏≠ÂØπË±°ÂºïÁî®ÂÖ≥Á≥ªËøòÂú®‰∏çÊñ≠ÂèòÂåñÔºåÂàôÂàÜÊûêÁªìÊûúÁöÑÂáÜÁ°ÆÊÄßÊó†Ê≥ï‰øùËØÅ„ÄÇ Ë¢´STW‰∏≠Êñ≠ÁöÑÂ∫îÁî®Á®ãÂ∫èÁ∫øÁ®ã‰ºöÂú®ÂÆåÊàêGC‰πãÂêéÊÅ¢Â§çÔºåÈ¢ëÁπÅ‰∏≠Êñ≠‰ºöËÆ©Áî®Êà∑ÊÑüËßâÂÉèÊòØÁΩëÈÄü‰∏çÂø´ÈÄ†ÊàêÁîµÂΩ±Âç°Â∏¶‰∏ÄÊ†∑ÔºåÊâÄ‰ª•Êàë‰ª¨ÈúÄË¶ÅÂáèÂ∞ëSTWÁöÑÂèëÁîü STW‰∫ã‰ª∂ÂíåÈááÁî®Âì™Ê¨æGCÊó†ÂÖ≥ÔºåÊâÄÊúâÁöÑGCÈÉΩÊúâËøô‰∏™‰∫ã‰ª∂„ÄÇÂì™ÊÄïÊòØG1‰πü‰∏çËÉΩÂÆåÂÖ®ÈÅøÂÖçStop-the-worldÊÉÖÂÜµÂèëÁîüÔºåÂè™ËÉΩËØ¥ÂûÉÂúæÂõûÊî∂Âô®Ë∂äÊù•Ë∂ä‰ºòÁßÄÔºåÂõûÊî∂ÊïàÁéáË∂äÊù•Ë∂äÈ´òÔºåÂ∞ΩÂèØËÉΩÂú∞Áº©Áü≠‰∫ÜÊöÇÂÅúÊó∂Èó¥„ÄÇ STWÊòØJVMÂú®ÂêéÂè∞Ëá™Âä®ÂèëËµ∑ÂíåËá™Âä®ÂÆåÊàêÁöÑ„ÄÇÂú®Áî®Êà∑‰∏çÂèØËßÅÁöÑÊÉÖÂÜµ‰∏ãÔºåÊääÁî®Êà∑Ê≠£Â∏∏ÁöÑÂ∑•‰ΩúÁ∫øÁ®ãÂÖ®ÈÉ®ÂÅúÊéâ„ÄÇ ÂºÄÂèë‰∏≠‰∏çË¶ÅÁî® system.GC() ‰ºöÂØºËá¥Stop-the- worldÁöÑÂèëÁîü„ÄÇ 4.ÂûÉÂúæÂõûÊî∂ÁöÑÂπ∂Âèë‰∏éÂπ∂Ë°å Âπ∂ÂèëÂíåÂπ∂Ë°åÔºåÂú®Ë∞àËÆ∫ÂûÉÂúæÊî∂ÈõÜÂô®ÁöÑ‰∏ä‰∏ãÊñáËØ≠Â¢É‰∏≠ÔºåÂÆÉ‰ª¨ÂèØ‰ª•Ëß£ÈáäÂ¶Ç‰∏ãÔºö **Âπ∂Ë°å( Parallel)üòó*ÊåáÂ§öÊù°ÂûÉÂúæÊî∂ÈõÜÁ∫øÁ®ãÂπ∂Ë°åÂ∑•‰ΩúÔºå‰ΩÜÊ≠§Êó∂Áî®Êà∑Á∫øÁ®ã‰ªçÂ§Ñ‰∫éÁ≠âÂæÖÁä∂ÊÄÅ„ÄÇÂ¶Ç Pardew„ÄÅ Parallel Scavenge„ÄÅ Parallel Old **‰∏≤Ë°å( Serial)üòó*Áõ∏ËæÉ‰∫éÂπ∂Ë°åÁöÑÊ¶ÇÂøµÔºåÂçïÁ∫øÁ®ãÊâßË°å„ÄÇÂ¶ÇÊûúÂÜÖÂ≠ò‰∏çÂ§üÔºåÂàôÁ®ãÂ∫èÊöÇÂÅúÔºåÂêØÂä®JVMÂûÉÂúæÂõûÊî∂Âô®ËøõË°åÂûÉÂúæÂõûÊî∂„ÄÇÂõûÊî∂ÂÆåÔºåÂÜçÂêØÂä®Á®ãÂ∫èÁöÑÁ∫øÁ®ã„ÄÇ Âπ∂ÂèëÂíåÂπ∂Ë°å,Âú®Ë∞àËÆ∫ÂûÉÂúæÊî∂ÈõÜÂô®ÁöÑ‰∏ä‰∏ãÊñáËØ≠Â¢É‰∏≠,ÂÆÉ‰ª¨ÂèØ‰ª•Ëß£ÈáäÂ¶Ç‰∏ã: Âπ∂Âèë( Concurrent):ÊåáÁî®Êà∑Á∫øÁ®ã‰∏éÂûÉÂúæÊî∂ÈõÜÁ∫øÁ®ãÂêåÊó∂ÊâßË°å(‰ΩÜ‰∏ç‰∏ÄÂÆöÊòØÂπ∂Ë°åÁöÑ,ÂèØËÉΩ‰ºö‰∫§ÊõøÊâßË°å),ÂûÉÂúæÂõûÊî∂Á∫øÁ®ãÂú®ÊâßË°åÊó∂‰∏ç‰ºöÂÅúÈ°øÁî®Êà∑Á®ãÂ∫èÁöÑËøêË°å„ÄÇÁî®Êà∑Á®ãÂ∫èÂú®ÁªßÁª≠ËøêË°å,ËÄåÂûÉÂúæÊî∂ÈõÜÁ®ãÂ∫èÁ∫øÁ®ãËøêË°å‰∫éÂè¶„Éº‰∏™CPU‰∏äÔºåÂ¶Ç:CMS„ÄÅG1„ÄÇ 5.ÂÆâÂÖ®ÁÇπ‰∏éÂÆâÂÖ®Âå∫Âüü ÂÆâÂÖ®ÁÇπ Á®ãÂ∫èÊâßË°åÊó∂Âπ∂ÈùûÂú®ÊâÄÊúâÂú∞ÊñπÈÉΩËÉΩÂÅúÈ°ø‰∏ãÊù•ÂºÄÂßãGC,Âè™ÊúâÂú®ÁâπÂÆöÁöÑ‰ΩçÁΩÆÊâçËÉΩÂÅúÈ°ø‰∏ãÊù•ÂºÄÂßãGC,Ëøô‰∫õ‰ΩçÁΩÆÁß∞‰∏∫‚ÄúÂÆâÂÖ®ÁÇπ( Safepoint)‚Äù„ÄÇ Safe PointlÁöÑÈÄâÊã©ÂæàÈáçË¶ÅÔºåÂ¶ÇÊûúÂ§™Â∞ëÂèØËÉΩÂØºËá¥GCÁ≠âÂæÖÁöÑÊó∂Èó¥Â§™ÈïøÔºåÂ¶ÇÊûúÂ§™È¢ëÁπÅÂèØËÉΩÂØºËá¥ËøêË°åÊó∂ÁöÑÊÄßËÉΩÈóÆÈ¢ò„ÄÇÂ§ßÈÉ®ÂàÜÊåá‰ª§ÁöÑÊâßË°åÊó∂Èó¥ÈÉΩÈùûÂ∏∏Áü≠ÊöÇÈÄöÂ∏∏‰ºöÊ†πÊçÆ‚ÄúÊòØÂê¶ÂÖ∑ÊúâËÆ©Á®ãÂ∫èÈïøÊó∂Èó¥ÊâßË°åÁöÑÁâπÂæÅ‚Äù‰∏∫Ê†áÂáÜ„ÄÇÊØîÂ¶ÇÔºöÈÄâÊã©‰∫õÊâßË°åÊó∂Èó¥ËæÉÈïøÁöÑÊåá‰ª§‰Ωú‰∏∫ Safe Point,Â¶ÇÊñπÊ≥ïË∞ÉÁî®„ÄÅÂæ™ÁéØË∑≥ËΩ¨ÂíåÂºÇÂ∏∏Ë∑≥ËΩ¨Á≠â„ÄÇ Â¶Ç‰ΩïÂú®GCÂèëÁîüÊó∂ÔºåÊ£ÄÊüªÊâÄÊúâÁ∫øÁ®ãÈÉΩË∑ëÂà∞ÊúÄËøëÁöÑÂÆâÂÖ®ÁÇπÂÅúÈ°ø‰∏ãÊù•Âë¢Ôºü Êä¢ÂÖàÂºè‰∏≠Êñ≠ÔºöÔºàÁõÆÂâçÊ≤°ÊúâËôöÊãüÊú∫ÈááÁî®‰∫Ü) È¶ñÂÖà‰∏≠Êñ≠ÊâÄÊúâÁ∫øÁ®ã„ÄÇÂ¶ÇÊûúËøòÊúâÁ∫øÁ®ã‰∏çÂú®ÂÆâÂÖ®ÁÇπÔºåÂ∞±ÊÅ¢Â§çÁ∫øÁ®ãÔºåËÆ©Á∫øÁ®ãË∑ëÂà∞ÂÆâÂÖ®ÁÇπ„ÄÇ ‰∏ªÂä®Âºè‰∏≠Êñ≠ ËÆæÁΩÆ‰∏Ä‰∏™‰∏≠Êñ≠Ê†áÂøóÔºåÂêÑ‰∏™Á∫øÁ®ãËøêË°åÂà∞ Safe PointÁöÑÊó∂ÂÄô‰∏ªÂä®ËΩÆËØ¢Ëøô‰∏™Ê†áÂøóÔºåÂ¶ÇÊûú‰∏≠Êñ≠Ê†áÂøó‰∏∫ÁúüÔºåÂàôÂ∞ÜËá™Â∑±ËøõË°å‰∏≠Êñ≠ÊåÇËµ∑„ÄÇ ÂÆâÂÖ®Âå∫Âüü SafepointÊú∫Âà∂‰øùËØÅ‰∫ÜÁ®ãÂ∫èÊâßË°åÊó∂ÔºåÂú®‰∏çÂ§™ÈïøÁöÑÊó∂Èó¥ÂÜÖÂ∞±‰ºöÈÅáÂà∞ÂèØËøõÂÖ•GCÁöÑ Safepoint„ÄÇ‰ΩÜÊòØÔºåÁ®ãÂ∫è‚Äú‰∏çÊâßË°å‚ÄùÁöÑÊó∂ÂÄôÂë¢Ôºü‰æãÂ¶ÇÁ∫øÁ®ãÂ§Ñ‰∫éSleepÁä∂ÊÄÅÊàñBlockedÁä∂ÊÄÅÔºåËøôÊó∂ÂÄôÁ∫øÁ®ãÊó†Ê≥ïÂìçÂ∫îJVMÁöÑ‰∏≠Êñ≠ËØ∑Ê±ÇÔºå‚ÄúËµ∞‚ÄùÂà∞ÂÆâÂÖ®ÁÇπÂéª‰∏≠Êñ≠ÊåÇËµ∑ÔºåJVM‰πü‰∏çÂ§™ÂèØËÉΩÁ≠âÂæÖÁ∫øÁ®ãË¢´Âî§ÈÜí„ÄÇÂØπ‰∫éËøôÁßçÊÉÖÂÜµÔºåÂ∞±ÈúÄË¶ÅÂÆâÂÖ®Âå∫Âüü( Safe Region)Êù•Ëß£ÂÜ≥„ÄÇ ÂÆâÂÖ®Âå∫ÂüüÊòØÊåáÂú®‰∏ÄÊÆµ‰ª£Á†ÅÁâáÊÆµ‰∏≠ÔºåÂØπË±°ÁöÑÂºïÁî®ÂÖ≥Á≥ª‰∏ç‰ºöÂèëÁîüÂèòÂåñÔºåÂú®Ëøô‰∏™Âå∫Âüü‰∏≠ÁöÑ‰ªª‰Ωï‰ΩçÁΩÆÂºÄÂßãGCÈÉΩÊòØÂÆâÂÖ®ÁöÑ„ÄÇÊàë‰ª¨‰πüÂèØ‰ª•Êää Safe RegionÁúãÂÅöÊòØË¢´Êâ©Â±ï‰∫ÜÁöÑ Safepoint„ÄÇ ÂÆûÈôÖÊâßË°åÊó∂Ôºö 1„ÄÅÂΩìÁ∫øÁ®ãËøêË°åÂà∞ Safe RegionÁöÑ‰ª£Á†ÅÊó∂ÔºåÈ¶ñÂÖàÊ†áËØÜÂ∑≤ÁªèËøõÂÖ•‰∫Ü Safe Region,Â¶ÇÊûúËøôÊÆµÊó∂Èó¥ÂÜÖÂèëÁîüGC,JVM‰ºöÂøΩÁï•Ê†áËØÜ‰∏∫ Safe RegionÁä∂ÊÄÅÁöÑÁ∫øÁ®ã 2„ÄÅÂΩìÁ∫øÁ®ãÂç≥Â∞ÜÁ¶ªÂºÄ Safe RegionÊó∂Ôºå‰ºöÊ£ÄÊüªJVMÊòØÂê¶Â∑≤ÁªèÂÆåÊàêGC,Â¶ÇÊûúÂÆåÊàê‰∫ÜÔºåÂàôÁªßÁª≠ËøêË°åÔºåÂê¶ÂàôÁ∫øÁ®ãÂøÖÈ°ªÁ≠âÂæÖÁõ¥Âà∞Êî∂Âà∞ÂèØ‰ª•ÂÆâÂÖ®Á¶ªÂºÄ Safe RegiongÁöÑ‰ø°Âè∑‰∏∫Ê≠¢Ôºõ 6.ÂºïÁî® ‚Äã Êàë‰ª¨Â∏åÊúõËÉΩÊèèËø∞ËøôÊ†∑‰∏ÄÁ±ªÂØπË±°ÔºöÂΩìÂÜÖÂ≠òÁ©∫Èó¥ËøòË∂≥Â§üÊó∂ÔºåÂàôËÉΩ‰øùÁïôÂú®ÂÜÖÂ≠ò‰∏≠ÔºõÂ¶ÇÊûúÂÜÖÂ≠òÁ©∫Èó¥Âú®ËøõË°åÂûÉÂúæÊî∂ÈõÜÂêéËøòÊòØÂæàÁ¥ßÂº†ÔºåÂàôÂèØ‰ª•ÊäõÂºÉËøô‰∫õÂØπË±°„ÄÇ „ÄêÊó¢ÂÅèÈó®ÂèàÈùûÂ∏∏È´òÈ¢ëÁöÑÈù¢ËØïÈ¢ò„ÄëÂº∫ÂºïÁî®„ÄÅËΩØÂºïÁî®„ÄÅÂº±ÂºïÁî®„ÄÅËôöÂºïÁî®Êúâ‰ªÄ‰πàÂå∫Âà´ÔºüÂÖ∑‰Ωì‰ΩøÁî®Âú∫ÊôØÊòØ‰ªÄ‰πàÔºü ‚Äã Âú®JDK1.2Áâà‰πãÂêéÔºåJavaÂØπÂºïÁî®ÁöÑÊ¶ÇÂøµËøõË°å‰∫ÜÊâ©ÂÖÖÔºåÂ∞ÜÂºïÁî®ÂàÜ‰∏∫Âº∫ÂºïÁî®Ôºà Strong Reference)„ÄÅËΩØÂºïÁî®( Soft Reference)„ÄÅÂº±ÂºïÁî®( Weak Reference)ÂíåËôöÂºïÁî®(Phantom Reference)4ÁßçÔºåËøô4ÁßçÂºïÁî®Âº∫Â∫¶‰æùÊ¨°ÈÄêÊ∏êÂáèÂº±„ÄÇ ‚Äã Èô§Âº∫ÂºïÁî®Â§ñÔºåÂÖ∂‰ªñ3ÁßçÂºïÁî®ÂùáÂèØ‰ª•Âú®java.lang. refÂåÖ‰∏≠ÊâæÂà∞ÂÆÉ‰ª¨ÁöÑË∫´ÂΩ±„ÄÇÂ¶Ç‰∏ãÂõæÔºåÊòæÁ§∫‰∫ÜËøô3ÁßçÂºïÁî®Á±ªÂûãÂØπÂ∫îÁöÑÁ±ªÔºåÂºÄÂèë‰∫∫ÂëòÂèØ‰ª•Âú®Â∫îÁî®Á®ãÂ∫è‰∏≠Áõ¥Êé•‰ΩøÁî®ÂÆÉ‰ª¨„ÄÇ ReferenceÂ≠êÁ±ª‰∏≠Âè™ÊúâÁªàÁªìÂô®ÂºïÁî®ÊòØÂåÖÂÜÖÂèØËßÅÁöÑÔºåÂÖ∂‰ªñ3ÁßçÂºïÁî®Á±ªÂûãÂùá‰∏∫publicÂèØ‰ª•Âú®Â∫îÁî®Á®ãÂ∫è‰∏≠Áõ¥Êé•‰ΩøÁî® Âº∫ÂºïÁî®( StrongReference)üòó*„ÄêÂºïÁî®Âú®Â∞±Âà´ÁÆ°Êàë„Äë**ÊúÄ‰º†ÁªüÁöÑ‚ÄúÂºïÁî®‚ÄùÁöÑÂÆö‰πâÔºåÊòØÊåáÂú®Á®ãÂ∫è‰ª£Á†Å‰πã‰∏≠ÊôÆÈÅçÂ≠òÂú®ÁöÑÂºïÁî®ËµãÂÄºÔºåÂç≥Á±ª‰ºº‚Äú Object obj= new ObjectÔºàÔºâ‚ÄùËøôÁßçÂºïÁî®ÂÖ≥Á≥ª„ÄÇÊó†ËÆ∫‰ªª‰ΩïÊÉÖÂÜµ‰∏ãÔºåÂè™Ë¶ÅÂº∫ÂºïÁî®ÂÖ≥Á≥ªËøòÂ≠òÂú®ÔºåÂûÉÂúæÊî∂ÈõÜÂô®Â∞±Ê∞∏Ëøú‰∏ç‰ºöÂõûÊî∂ÊéâË¢´ÂºïÁî®ÁöÑÂØπË±°„ÄÇ ËΩØÂºïÁî®( SoftReference)üòó*„ÄêÂø´Êª°‰∫ÜÂõûÊî∂Êàë„Äë**Âú®Á≥ªÁªüÂ∞ÜË¶ÅÂèëÁîüÂÜÖÂ≠òÊ∫¢Âá∫‰πãÂâçÔºåÂ∞Ü‰ºöÊääËøô‰∫õÂØπË±°ÂàóÂÖ•ÂõûÊî∂ËåÉÂõ¥‰πã‰∏≠ËøõË°åÁ¨¨‰∫åÊ¨°ÂõûÊî∂„ÄÇÂ¶ÇÊûúËøôÊ¨°ÂõûÊî∂ÂêéËøòÊ≤°ÊúâË∂≥Â§üÁöÑÂÜÖÂ≠òÔºåÊâç‰ºöÊäõÂá∫ÂÜÖÂ≠òÊ∫¢Âá∫ÂºÇÂ∏∏„ÄÇ Âº±ÂºïÁî®( WeakReference)üòó*„ÄêÁúãÂà∞Â∞±ÂõûÊî∂Êàë„Äë**Ë¢´Âº±ÂºïÁî®ÂÖ≥ËÅîÁöÑÂØπË±°Âè™ËÉΩÁîüÂ≠òÂà∞‰∏ã‰∏ÄÊ¨°ÂûÉÂúæÊî∂ÈõÜ‰πãÂâç„ÄÇÂΩìÂûÉÂúæÊî∂ÈõÜÂô®Â∑•‰ΩúÊó∂ÔºåÊó†ËÆ∫ÂÜÖÂ≠òÁ©∫Èó¥ÊòØÂê¶Ë∂≥Â§ü,ÈÉΩ‰ºöÂõûÊî∂ÊéâË¢´Âº±ÂºïÁî®ÂÖ≥ËÅîÁöÑÂØπË±°. ËôöÂºïÁî®( PhantomReference)üòó*„Äê‰∏çÂΩ±Âìç‰Ω†„Äë**‰∏Ä‰∏™ÂØπË±°ÊòØÂê¶ÊúâËôöÂºïÁî®ÁöÑÂ≠òÂú®,ÂÆåÂÖ®‰∏ç‰ºöÂØπÂÖ∂ÁîüÂ≠òÊó∂Èó¥ÊûÑÊàêÂΩ±Âìç,‰πüÊó†Ê≥ïÈÄöËøáËôöÂºïÁî®Êù•Ëé∑Âæó‰∏Ä‰∏™ÂØπË±°ÁöÑÂÆû‰æã.‰∏∫‰∏Ä‰∏™ÂØπË±°ËÆæÁΩÆËôöÂºïÁî®ÂÖ≥ËÅîÁöÑÂîØ‰∏ÄÁõÆÁöÑÂ∞±ÊòØËÉΩÂú®Ëøô‰∏™ÂØπË±°Ë¢´Êî∂ÈõÜÂô®ÂõûÊî∂Êó∂Êî∂Âà∞‰∏Ä‰∏™Á≥ªÁªüÈÄöÁü• Âº∫ÂºïÁî® Âú®JavaÁ®ãÂ∫è‰∏≠ÔºåÊúÄÂ∏∏ËßÅÁöÑÂºïÁî®Á±ªÂûãÊòØÂº∫ÂºïÁî®(ÊôÆÈÄöÁ≥ªÁªü99%‰ª•‰∏äÈÉΩÊòØÂº∫ÂºïÁî®)Ôºå‰πüÂ∞±ÊòØÊàë‰ª¨ÊúÄÂ∏∏ËßÅÁöÑÊôÆÈÄöÂØπË±°ÂºïÁî®Ôºå‰πüÊòØÈªòËÆ§ÁöÑÂºïÁî®Á±ªÂûã„ÄÇ ÂΩìÂú®JAVAËØ≠Ë®Ä‰∏≠‰ΩøÁî®newÊìç‰ΩúÁ¨¶ÂàõÂª∫‰∏Ä‰∏™Êñ∞ÁöÑÂØπË±°ÔºåÂπ∂Â∞ÜÂÖ∂ËµãÂÄºÁªô‰∏Ä‰∏™ÂèòÈáèÁöÑÊó∂ÂÄôÔºåËøô‰∏™ÂèòÈáèÂ∞±Êàê‰∏∫ÊåáÂêëËØ•ÂØπË±°ÁöÑ‰∏Ä‰∏™Âº∫ÂºïÁî®„ÄÇ Âº∫ÂºïÁî®ÁöÑÂØπË±°ÊòØÂèØËß¶ÂèäÁöÑÔºåÂûÉÂúæÊî∂ÈõÜÂô®Â∞±Ê∞∏Ëøú‰∏ç‰ºöÂõûÊî∂ÊéâË¢´ÂºïÁî®ÁöÑÂØπË±° ÂØπ‰∫é‰∏Ä‰∏™ÊôÆÈÄöÁöÑÂØπË±°ÔºåÂ¶ÇÊûúÊ≤°ÊúâÂÖ∂‰ªñÁöÑÂºïÁî®ÂÖ≥Á≥ªÔºåÂè™Ë¶ÅË∂ÖËøá‰∫ÜÂºïÁî®ÁöÑ‰ΩúÁî®ÂüüÊàñËÄÖÊòæÂºèÂú∞Â∞ÜÁõ∏Â∫îÔºàÂº∫ÔºâÂºïÁî®ËµãÂÄº‰∏∫null,Â∞±ÊòØÂèØ‰ª•ÂΩìÂÅöÂûÉÂúæË¢´Êî∂ÈõÜ‰∫ÜÔºåÂΩìÁÑ∂ÂÖ∑‰ΩìÂõûÊî∂Êó∂Êú∫ËøòÊòØË¶ÅÁúãÂûÉÂúæÊî∂ÈõÜÁ≠ñÁï•„ÄÇ Áõ∏ÂØπÁöÑÔºåËΩØÂºïÁî®„ÄÅÂº±ÂºïÁî®ÂíåËôöÂºïÁî®ÁöÑÂØπË±°ÊòØËΩØÂèØËß¶Âèä„ÄÅÂº±ÂèØËß¶ÂèäÂíåËôöÂèØËß¶ÂèäÁöÑÔºåÂú®‰∏ÄÂÆöÊù°‰ª∂‰∏ãÔºåÈÉΩÊòØÂèØ‰ª•Ë¢´ÂõûÊî∂ÁöÑ„ÄÇÊâÄ‰ª•ÔºåÂº∫ÂºïÁî®ÊòØÈÄ†ÊàêJavaÂÜÖÂ≠òÊ≥ÑÊºèÁöÑ‰∏ªË¶ÅÂéüÂõ†‰πã ËΩØÂºïÁî® ËΩØÂºïÁî®ÊòØÁî®Êù•ÊèèËø∞‰∏Ä‰∫õËøòÊúâÁî®Ôºå‰ΩÜÈùûÂøÖÈúÄÁöÑÂØπË±°„ÄÇÂè™Ë¢´ËΩØÂºïÁî®ÂÖ≥ËÅîÁùÄÁöÑÂØπË±°ÔºåÂú®Á≥ªÁªüÂ∞ÜË¶ÅÂèëÁîüÂÜÖÂ≠òÊ∫¢Âá∫ÂºÇÂ∏∏ÂâçÔºå‰ºöÊääËøô‰∫õÂØπË±°ÂàóËøõÂõûÊî∂ËåÉÂõ¥‰πã‰∏≠ËøõË°åÁ¨¨‰∫åÊ¨°ÂõûÊî∂ÔºåÂ¶ÇÊûúËøôÊ¨°ÂõûÊî∂ËøòÊ≤°ÊúâË∂≥Â§üÁöÑÂÜÖÂ≠òÔºå„Ç™‰ºöÊäõÂá∫ÂÜÖÂ≠òÊ∫¢Âá∫ÂºÇÂ∏∏„ÄÇ ËΩØÂºïÁî®ÈÄöÂ∏∏Áî®Êù•ÂÆûÁé∞ÂÜÖÂ≠òÊïèÊÑüÁöÑÁºìÂ≠ò„ÄÇÊØîÂ¶ÇÔºöÈ´òÈÄüÁºìÂ≠òÂ∞±ÊúâÁî®Âà∞ËΩØÂºïÁî®„ÄÇÂ¶ÇÊûúËøòÊúâÁ©∫Èó≤ÂÜÖÂ≠òÔºåÂ∞±ÂèØ‰ª•ÊöÇÊó∂‰øùÁïôÁºìÂ≠òÔºåÂΩìÂÜÖÂ≠ò‰∏çË∂≥Êó∂Ê∏ÖÁêÜÊéâÔºåËøôÊ†∑Â∞±‰øùËØÅ‰∫Ü‰ΩøÁî®ÁºìÂ≠òÁöÑÂêåÊó∂Ôºå‰∏ç‰ºöËÄóÂ∞ΩÂÜÖÂ≠ò„ÄÇ ÂûÉÂúæÂõûÊî∂Âô®Âú®Êüê‰∏™Êó∂ÂàªÂÜ≥ÂÆöÂõûÊî∂ËΩØÂèØËææÁöÑÂØπË±°ÁöÑÊó∂ÂÄôÔºå‰ºöÊ∏ÖÁêÜËΩØÂºïÁî®ÔºåÂπ∂ÂèØÈÄâÂú∞ÊääÂºïÁî®Â≠òÊîæÂà∞‰∏Ä‰∏™ÂºïÁî®ÈòüÂàó( Reference Queue)„ÄÇ Á±ª‰ººÂº±ÂºïÁî®ÔºåÂè™‰∏çËøáJavaËôöÊãüÊú∫‰ºöÂ∞ΩÈáèËÆ©ËΩØÂºïÁî®ÁöÑÂ≠òÊ¥ªÊó∂Èó¥Èïø‰∏Ä‰∫õÔºåËø´‰∏çÂæóÂ∑≤ÊâçÊ∏ÖÁêÜ„ÄÇ Âº±ÂºïÁî® Âº±ÂºïÁî®‰πüÊòØÁî®Êù•ÊèèËø∞ÈÇ£‰∫õÈùûÂøÖÈúÄÂØπË±°ÔºåË¢´Âº±ÂºïÁî®ÂÖ≥ËÅîÁöÑÂØπË±°Âè™ËÉΩÁîüÂ≠òÂà∞‰∏ã‰∏ÄÊ¨°ÂûÉÂúæÊî∂ÈõÜÂèëÁîü‰∏∫Ê≠¢„ÄÇÂú®Á≥ªÁªüGCÊó∂ÔºåÂè™Ë¶ÅÂèëÁé∞Âº±ÂºïÁî®Ôºå‰∏çÁÆ°Á≥ªÁªüÂ†ÜÁ©∫Èó¥‰ΩøÁî®ÊòØÂê¶ÂÖÖË∂≥ÔºåÈÉΩ‰ºöÂõûÊî∂ÊéâÂè™Ë¢´Âº±ÂºïÁî®ÂÖ≥ËÅîÁöÑÂØπË±° ‰ΩÜÊòØÔºåÁî±‰∫éÂûÉÂúæÂõûÊî∂Âô®ÁöÑÁ∫øÁ®ãÈÄöÂ∏∏‰ºòÂÖàÁ∫ßÂæà‰ΩéÔºåÂõ†Ê≠§ÔºåÂπ∂‰∏ç‰∏ÄÂÆöËÉΩÂæàÂø´Âú∞ÂèëÁé∞ÊåÅÊúâÂº±ÂºïÁî®ÁöÑÂØπË±°„ÄÇÂú®ËøôÁßçÊÉÖÂÜµ‰∏ãÔºåÂº±ÂºïÁî®ÂØπË±°ÂèØ‰ª•Â≠òÂú®ËæÉÈïøÁöÑÊó∂Èó¥„ÄÇ Âº±ÂºïÁî®ÂíåËΩØÂºïÁî®‰∏ÄÊ†∑ÔºåÂú®ÊûÑÈÄ†Âº±ÂºïÁî®Êó∂Ôºå‰πüÂèØ‰ª•ÊåáÂÆö‰∏Ä‰∏™ÂºïÁî®ÈòüÂàóÔºåÂΩìÂº±ÂºïÁî®ÂØπË±°Ë¢´ÂõûÊî∂Êó∂ÔºåÂ∞±‰ºöÂä†ÂÖ•ÊåáÂÆöÁöÑÂºïÁî®ÈòüÂàóÔºåÈÄöËøáËøô‰∏™ÈòüÂàóÂèØ‰ª•Ë∑üË∏™ÂØπË±°ÁöÑÂõûÊî∂ÊÉÖÂÜµ„ÄÇ ËΩØÂºïÁî®„ÄÅÂº±ÂºïÁî®ÈÉΩÈùûÂ∏∏ÈÄÇÂêàÊù•‰øùÂ≠òÈÇ£‰∫õÂèØÊúâÂèØÊó†ÁöÑÁºìÂ≠òÊï∞ÊçÆ„ÄÇÂ¶ÇÊûúËøô‰πàÂÅöÔºåÂΩìÁ≥ªÁªüÂÜÖÂ≠ò‰∏çË∂≥Êó∂ÔºåËøô‰∫õÁºìÂ≠òÊï∞ÊçÆ‰ºöË¢´ÂõûÊî∂Ôºå‰∏ç‰ºöÂØºËá¥ÂÜÖÂ≠òÊ∫¢Âá∫„ÄÇËÄåÂΩìÂÜÖÂ≠òËµÑÊ∫êÂÖÖË∂≥Êó∂ÔºåËøô‰∫õÁºìÂ≠òÊï∞ÊçÆÂèàÂèØ‰ª•Â≠òÂú®Áõ∏ÂΩìÈïøÁöÑÊó∂Èó¥Ôºå‰ªéËÄåËµ∑Âà∞Âä†ÈÄüÁ≥ªÁªüÁöÑ‰ΩúÁî®„ÄÇ Âº±ÂºïÁî®ÂØπË±°‰∏éËΩØÂºïÁî®ÂØπË±°ÁöÑÊúÄÂ§ß‰∏çÂêåÂ∞±Âú®‰∫éÔºåÂΩìGCÂú®ËøõË°åÂõûÊî∂Êó∂ÔºåÈúÄË¶ÅÈÄöËøáÁÆóÊ≥ïÊ£ÄÊü•ÊòØÂê¶ÂõûÊî∂ËΩØÂºïÁî®ÂØπË±°ÔºåËÄåÂØπ‰∫éÂº±ÂºïÁî®ÂØπË±°ÔºåGCÊÄªÊòØËøõË°åÂõûÊî∂„ÄÇÂº±ÂºïÁî®ÂØπË±°Êõ¥ÂÆπÊòì„ÄÅÊõ¥Âø´Ë¢´GCÂõûÊî∂„ÄÇÈù¢ËØïÈ¢òÔºö‰Ω†ÂºÄÂèë‰∏≠‰ΩøÁî®Ëøá WeakHashMapÂêóÔºü ËôöÂºïÁî® ‚Äã ‰πüÁß∞‰∏∫‚ÄúÂπΩÁÅµÂºïÁî®‚ÄùÊàñËÄÖ‚ÄúÂπªÂΩ±ÂºïÁî®‚ÄùÔºåÊòØÊâÄÊúâÂºïÁî®Á±ªÂûã‰∏≠ÊúÄÂº±ÁöÑ‰∏Ä‰∏™„ÄÇ‰∏Ä‰∏™ÂØπË±°ÊòØÂê¶ÊúâËôöÂºïÁî®ÁöÑÂ≠òÂú®ÔºåÂÆåÂÖ®‰∏ç‰ºöÂÜ≥ÂÆöÂØπË±°ÁöÑÁîüÂëΩÂë®Êúü„ÄÇÂ¶ÇÊûú‰∏Ä‰∏™ÂØπË±°‰ªÖÊåÅÊúâËôöÂºïÁî®ÔºåÈÇ£‰πàÂÆÉÂíåÊ≤°ÊúâÂºïÁî®Âá†‰πéÊòØ‰∏ÄÊ†∑ÁöÑÔºåÈöèÊó∂ÈÉΩÂèØËÉΩË¢´ÂûÉÂúæÂõûÊî∂Âô®ÂõûÊî∂„ÄÇÂÆÉ‰∏çËÉΩÂçïÁã¨‰ΩøÁî®Ôºå‰πüÊó†Ê≥ïÈÄöËøáËôöÂºïÁî®Êù•Ëé∑ÂèñË¢´ÂºïÁî®ÁöÑÂØπË±°„ÄÇÂΩìËØïÂõæÈÄöËøáËôöÂºïÁî®ÁöÑgetÔºàÔºâÊñπÊ≥ïÂèñÂæóÂØπË±°Êó∂ÔºåÊÄªÊòØnull„ÄÇ‰∏∫‰∏Ä‰∏™ÂØπË±°ËÆæÁΩÆËôöÂºïÁî®ÂÖ≥ËÅîÁöÑÂîØ‰∏ÄÁõÆÁöÑÂú®‰∫éË∑üË∏™ÂûÉÂúæÂõûÊî∂ËøáÁ®ã„ÄÇÊØîÂ¶ÇÔºöËÉΩÂú®Ëøô‰∏™ÂØπË±°Ë¢´Êî∂ÈõÜÂô®ÂõûÊî∂Êó∂Êî∂Âà∞‰∏Ä‰∏™Á≥ªÁªüÈÄöÁü•„ÄÇ ‚Äã ËôöÂºïÁî®ÂøÖÈ°ªÂíåÂºïÁî®ÈòüÂàó‰∏ÄËµ∑‰ΩøÁî®„ÄÇËôöÂºïÁî®Âú®ÂàõÂª∫Êó∂ÂøÖÈ°ªÊèê‰æõ‰∏Ä‰∏™ÂºïÁî®ÈòüÂàó‰Ωú‰∏∫ÂèÇÊï∞„ÄÇÂΩìÂûÉÂúæÂõûÊî∂Âô®ÂáÜÂ§áÂõûÊî∂‰∏Ä‰∏™ÂØπË±°Êó∂ÔºåÂ¶ÇÊûúÂèëÁé∞ÂÆÉËøòÊúâËôöÂºïÁî®ÔºåÂ∞±‰ºöÂú®ÂõûÊî∂ÂØπË±°ÂêéÔºåÂ∞ÜËøô‰∏™ËôöÂºïÁî®Âä†ÂÖ•ÂºïÁî®ÈòüÂàóÔºå‰ª•ÈÄöÁü•Â∫îÁî®Á®ãÂ∫èÂØπË±°ÁöÑÂõûÊî∂ÊÉÖÂÜµ„ÄÇÁî±‰∫éËôöÂºïÁî®ÂèØ‰ª•Ë∑üË∏™ÂØπË±°ÁöÑÂõûÊî∂Êó∂Èó¥ÔºåÂõ†Ê≠§Ôºå‰πüÂèØ‰ª•Â∞Ü‰∏Ä‰∫õËµÑÊ∫êÈáäÊîæÊìç‰ΩúÊîæÁΩÆÂú®ËôöÂºïÁî®‰∏≠ÊâßË°åÂíåËÆ∞ÂΩï„ÄÇÂú®JDK1.2Áâà‰πãÂêéÊèê‰æõ‰∫Ü PhantomReferenceÁ±ªÊù•ÂÆûÁé∞ËôöÂºïÁî®„ÄÇ ÁªàÁªìÂô®ÂºïÁî® ‚Äã ÂÆÉÁî®‰ª•ÂÆûÁé∞ÂØπË±°ÁöÑfinalize()ÊñπÊ≥ïÔºå‰πüÂèØ‰ª•Áß∞‰∏∫ÁªàÁªìÂô®ÂºïÁî®„ÄÇÊó†ÈúÄÊâãÂä®ÁºñÁ†ÅÔºåÂÖ∂ÂÜÖÈÉ®ÈÖçÂêàÂºïÁî®ÈòüÂàó‰ΩøÁî®„ÄÇÂú®GCÊó∂ÔºåÁªàÁªìÂô®ÂºïÁî®ÂÖ•Èòü„ÄÇÁî±FinalizerÁ∫øÁ®ãÈÄöËøáÁªàÁªìÂô®ÂºïÁî®ÊâæÂà∞Ë¢´ÂºïÁî®ÂØπË±°Âπ∂Ë∞ÉÁî®ÂÆÉÁöÑfinalize()ÊñπÊ≥ïÔºåÁ¨¨‰∫åÊ¨°GCÊó∂ÊâçËÉΩÂõûÊî∂Ë¢´ÂºïÁî®ÂØπË±°„ÄÇ ÂçÅ‰∏É„ÄÅÂûÉÂúæÂõûÊî∂Âô® 1.GCÂàÜÁ±ª ‚Äã ÂûÉÂúæÊî∂ÈõÜÂô®Ê≤°ÊúâÂú®ËßÑËåÉ‰∏≠ËøõË°åËøáÂ§öÁöÑËßÑÂÆöÔºåÂèØ‰ª•Áî±‰∏çÂêåÁöÑÂéÇÂïÜ„ÄÅ‰∏çÂêåÁâàÊú¨ÁöÑJVMÊù•ÂÆûÁé∞„ÄÇÁî±‰∫éJDKÁöÑÁâàÊú¨Â§Ñ‰∫éÈ´òÈÄüÈÄÅ‰ª£ËøáÁ®ã‰∏≠ÔºåÂõ†Ê≠§JavaÂèëÂ±ïËá≥‰ªäÂ∑≤ÁªèË°çÁîü‰∫Ü‰ºóÂ§öÁöÑGCÁâàÊú¨„ÄÇ‰ªé‰∏çÂêåËßíÂ∫¶ÂàÜÊûêÂûÉÂúæÊî∂ÈõÜÂô®ÔºåÂèØ‰ª•Â∞ÜGCÂàÜ‰∏∫‰∏çÂêåÁöÑÁ±ªÂûã„ÄÇ ‚Äã ÊåâÁ∫øÁ®ãÊï∞ÂàÜÔºåÂèØ‰ª•ÂàÜ‰∏∫‰∏≤Ë°åÂûÉÂúæÂõûÊî∂Âô®ÂíåÂπ∂Ë°åÂûÉÂúæÂõûÊî∂Âô®„ÄÇ ‚Äã ‰∏≤Ë°åÂõûÊî∂ÊåáÁöÑÊòØÂú®Âêå‰∏ÄÊó∂Èó¥ÊÆµÂÜÖÂè™ÂÖÅËÆ∏Êúâ‰∏Ä‰∏™CPUÁî®‰∫éÊâßË°åÂûÉÂúæÂõûÊî∂Êìç‰ΩúÔºåÊ≠§Êó∂Â∑•‰ΩúÁ∫øÁ®ãË¢´ÊöÇÂÅúÔºåÁõ¥Ëá≥ÂûÉÂúæÊî∂ÈõÜÂ∑•‰ΩúÁªìÊùü„ÄÇÂú®ËØ∏Â¶ÇÂçïCPUÂ§ÑÁêÜÂô®ÊàñËÄÖËæÉÂ∞èÁöÑÂ∫îÁî®ÂÜÖÂ≠òÁ≠âÁ°¨‰ª∂Âπ≥Âè∞‰∏çÊòØÁâπÂà´‰ºòË∂äÁöÑÂú∫ÂêàÔºå‰∏≤Ë°åÂõûÊî∂Âô®ÁöÑÊÄßËÉΩË°®Áé∞ÂèØ‰ª•Ë∂ÖËøáÂπ∂Ë°åÂõûÊî∂Âô®ÂíåÂπ∂ÂèëÂõûÊî∂Âô®„ÄÇÊâÄ‰ª•Ôºå‰∏≤Ë°åÂõûÊî∂ÈªòËÆ§Ë¢´Â∫îÁî®Âú®ÂÆ¢Êà∑Á´ØÁöÑClientÊ®°Âºè‰∏ãÁöÑJVM‰∏≠Âú®Âπ∂ÂèëËÉΩÂäõÊØîËæÉÂº∫ÁöÑCPU‰∏äÔºåÂπ∂Ë°åÂõûÊî∂Âô®‰∫ßÁîüÁöÑÂÅúÈ°øÊó∂Èó¥Ë¶ÅÁü≠‰∫é‰∏≤Ë°åÂõûÊî∂Âô®„ÄÇ ‚Äã Âíå‰∏≤Ë°åÂõûÊî∂Áõ∏ÂèçÔºåÂπ∂Ë°åÊî∂ÈõÜÂèØ‰ª•ËøêÁî®Â§ö‰∏™CPUÂêåÊó∂ÊâßË°åÂûÉÂúæÂõûÊî∂ÔºåÂõ†Ê≠§ÊèêÂçá‰∫ÜÂ∫îÁî®ÁöÑÂêûÂêêÈáèÔºå‰∏çËøáÂπ∂Ë°åÂõûÊî∂‰ªçÁÑ∂‰∏é‰∏≤Ë°åÂõûÊî∂‰∏ÄÊ†∑ÔºåÈááÁî®Áã¨Âç†ÂºèÔºå‰ΩøÁî®‰∫Ü‚ÄúStop-the- world‚ÄùÊú∫Âà∂„ÄÇ ‚Äã **ÊåâÁÖßÂ∑•‰ΩúÊ®°ÂºèÂàÜÔºå**ÂèØ‰ª•ÂàÜ‰∏∫Âπ∂ÂèëÂºèÂûÉÂúæÂõûÊî∂Âô®ÂíåÁã¨Âç†ÂºèÂûÉÂúæÂõûÊî∂Âô®„ÄÇ ‚Äã Âπ∂ÂèëÂºèÂûÉÂúæÂõûÊî∂Âô®‰∏éÂ∫îÁî®Á®ãÂ∫èÁ∫øÁ®ã‰∫§ÊõøÂ∑•‰ΩúÔºå‰ª•Â∞ΩÂèØËÉΩÂáèÂ∞ëÂ∫îÁî®Á®ãÂ∫èÁöÑÂÅúÈ°øÊó∂Èó¥„ÄÇÁã¨Âç†ÂºèÂûÉÂúæÂõûÊî∂Âô®( Stop the world)‰∏ÄÊó¶ËøêË°åÔºåÂ∞±ÂÅúÊ≠¢Â∫îÁî®Á®ãÂ∫è‰∏≠ÁöÑÊâÄÊúâÁî®Êà∑Á∫øÁ®ãÔºåÁõ¥Âà∞ÂûÉÂúæÂõûÊî∂ËøáÁ®ãÂÆåÂÖ®ÁªìÊùü ‚Äã ÊåâÁ¢éÁâáÂ§ÑÁêÜÊñπÂºèÂàÜÔºåÂèØÂàÜ‰∏∫ÂéãÁº©ÂºèÂûÉÂúæÂõûÊî∂Âô®ÂíåÈùûÂéãÁº©ÂºèÂûÉÂúæÂõûÊî∂Âô® ‚Äã ÂéãÁº©ÂºèÂûÉÂúæÂõûÊî∂Âô®‰ºöÂú®ÂõûÊî∂ÂÆåÊàêÂêéÔºåÂØπÂ≠òÊ¥ªÂØπË±°ËøõË°åÂéãÁº©Êï¥ÁêÜÔºåÊ∂àÈô§ÂõûÊî∂ÂêéÁöÑÁ¢éÁâá„ÄÇÈùûÂéãÁº©ÂºèÁöÑÂûÉÂúæÂõûÊî∂Âô®‰∏çËøõË°åËøôÊ≠•Êìç‰Ωú„ÄÇ ‚Äã ÊåâÂ∑•‰ΩúÁöÑÂÜÖÂ≠òÂå∫Èó¥ÂàÜÔºåÂèàÂèØÂàÜ‰∏∫Âπ¥ËΩª‰ª£ÂûÉÂúæÂõûÊî∂Âô®ÂíåËÄÅÂπ¥‰ª£ÂûÉÂúæÂõûÊî∂Âô®„ÄÇ 2.GCÊÄßËÉΩËØÑ‰º∞ÊåáÊ†á ÂêûÂêêÈáèÔºöËøêË°åÁî®Êà∑‰ª£Á†ÅÁöÑÊó∂Èó¥Âç†ÊÄªËøêË°åÊó∂Èó¥ÁöÑÊØî‰æã(ÊÄªËøêË°åÊó∂Èó¥ÔºöÁ®ãÂ∫èÁöÑËøêË°åÊó∂Èó¥ÂçÅÂÜÖÂ≠òÂõûÊî∂ÁöÑÊó∂Èó¥) ÂûÉÂúæÊî∂ÈõÜÂºÄÈîÄÔºöÂêûÂêêÈáèÁöÑË°•Êï∞ÔºåÂûÉÂúæÊî∂ÈõÜÊâÄÁî®Êó∂Èó¥‰∏éÊÄªËøêË°åÊó∂Èó¥ÁöÑÊØî‰æã ÊöÇÂÅúÊó∂Èó¥ÔºöÊâßË°åÂûÉÂúæÊî∂ÈõÜÊó∂ÔºåÁ®ãÂ∫èÁöÑÂ∑•‰ΩúÁ∫øÁ®ãË¢´ÊöÇÂÅúÁöÑÊó∂Èó¥ Êî∂ÈõÜÈ¢ëÁéáÔºöÁõ∏ÂØπ‰∫éÂ∫îÁî®Á®ãÂ∫èÁöÑÊâßË°åÔºåÊî∂ÈõÜÊìç‰ΩúÂèëÁîüÁöÑÈ¢ëÁéá„ÄÇ ÂÜÖÂ≠òÂç†Áî®ÔºöJAVAÂ†ÜÂå∫ÊâÄÂç†ÁöÑÂÜÖÂ≠òÂ§ßÂ∞è„ÄÇ Âø´ÈÄüÔºö‰∏Ä‰∏™ÂØπË±°‰ªéËØûÁîüÂà∞Ë¢´ÂõûÊî∂ÊâÄÁªèÂéÜÁöÑÊó∂Èó¥„ÄÇ ‚Äã Ëøô‰∏âËÄÖÂÖ±ÂêåÊûÑÊàê‰∏Ä‰∏™‚Äú‰∏çÂèØËÉΩ‰∏âËßí‚Äù„ÄÇ‰∏âËÄÖÊÄª‰ΩìÁöÑË°®Áé∞‰ºöÈöèÁùÄÊäÄÊúØËøõÊ≠•ËÄåË∂äÊù•Ë∂äÂ•Ω„ÄÇ‰∏ÄÊ¨æ‰ºòÁßÄÁöÑÊî∂ÈõÜÂô®ÈÄöÂ∏∏ÊúÄÂ§öÂêåÊó∂Êª°Ë∂≥ÂÖ∂‰∏≠ÁöÑ‰∏§È°π„ÄÇ ‚Äã Ëøô‰∏âÈ°πÈáåÔºåÊöÇÂÅúÊó∂Èó¥ÁöÑÈáçË¶ÅÊÄßÊó•ÁõäÂá∏Êòæ„ÄÇÂõ†‰∏∫ÈöèÁùÄÁ°¨‰ª∂ÂèëÂ±ïÔºåÂÜÖÂ≠òÂç†Áî®Â§ö‰∫õË∂äÊù•Ë∂äËÉΩÂÆπÂøçÔºåÁ°¨‰ª∂ÊÄßËÉΩÁöÑÊèêÂçá‰πüÊúâÂä©‰∫éÈôç‰ΩéÊî∂ÈõÜÂô®ËøêË°åÊó∂ÂØπÂ∫îÁî®Á®ãÂ∫èÁöÑÂΩ±ÂìçÔºåÂç≥ÊèêÈ´ò‰∫ÜÂêûÂêêÈáè„ÄÇËÄåÂÜÖÂ≠òÁöÑÊâ©Â§ßÔºåÂØπÂª∂ÈÄÄÂèçËÄåÂ∏¶Êù•Ë¥üÈù¢ÊïàÊûú„ÄÇÁÆÄÂçïÊù•ËØ¥Ôºå‰∏ªË¶ÅÊäì‰Ωè‰∏§ÁÇπÔºöÂêûÂêêÈáè„ÄÅÊöÇÂÅúÊó∂Èó¥„ÄÇ 3.ÂêûÂêêÈáè‰∏éÊöÇÂÅúÊó∂Èó¥ ‚Äã ÂêûÂêêÈáèÂ∞±ÊòØCPUÁî®‰∫éËøêË°åÁî®Êà∑‰ª£Á†ÅÁöÑÊó∂Èó¥‰∏éCPUÊÄªÊ∂àËÄóÊó∂Èó¥ÁöÑÊØîÂÄºÔºåÂç≥ÂêûÂêêÈáè=ËøêË°åÁî®Êà∑‰ª£Á†ÅÊó∂Èó¥/(ËøêË°åÁî®Êà∑‰ª£Á†ÅÊó∂Èó¥+ÂûÉÂúæÊî∂ÈõÜÊó∂Èó¥)„ÄÇÊØîÂ¶ÇÔºöËôöÊãüÊú∫ÊÄªÂÖ±ËøêË°å‰∫Ü180ÂàÜÈíüÔºåÂÖ∂‰∏≠ÂûÉÂúæÊî∂ÈõÜËä±Êéâ1ÂàÜÈíüÔºåÈÇ£ÂêûÂêêÈáèÂ∞±ÊòØ99%„ÄÇ ËøôÁßçÊÉÖÂÜµ‰∏ãÔºåÂ∫îÁî®Á®ãÂ∫èËÉΩÂÆπÂøçËæÉÈ´òÁöÑÊöÇÂÅúÊó∂Èó¥ÔºåÂõ†Ê≠§ÔºåÈ´òÂêûÂêêÈáèÁöÑÂ∫îÁî®Á®ãÂ∫èÊúâÊõ¥ÈïøÁöÑÊó∂Èó¥Âü∫ÂáÜÔºåÂø´ÈÄüÂìçÂ∫îÊòØ‰∏çÂøÖËÄÉËôëÁöÑÂêûÂêêÈáè‰ºòÂÖàÔºåÊÑèÂë≥ÁùÄÂú®Âçï‰ΩçÊó∂Èó¥ÂÜÖÔºåSTWÁöÑÊó∂Èó¥ÊúÄÁü≠„ÄÇ ‚Äã ‚ÄúÊöÇÂÅúÊó∂Èó¥‚ÄùÊòØÊåá‰∏Ä‰∏™Êó∂Èó¥ÊÆµÂÜÖÂ∫îÁî®Á®ãÂ∫èÁ∫øÁ®ãÊöÇÂÅúÔºåËÆ©GCÁ∫øÁ®ãÊâßË°åÁöÑÁä∂ÊÄÅ„ÄÇ‰æãÂ¶ÇÔºåGCÊúüÈó¥100ÊØ´ÁßíÁöÑÊöÇÂÅúÊó∂Èó¥ÊÑèÂë≥ÁùÄÂú®Ëøô100ÊØ´ÁßíÊúüÈó¥ÂÜÖÊ≤°ÊúâÂ∫îÁî®Á®ãÂ∫èÁ∫øÁ®ãÊòØÊ¥ªÂä®ÁöÑ„ÄÇÊöÇÂÅúÊó∂Èó¥‰ºòÂÖàÔºåÊÑèÂë≥ÁùÄÂ∞ΩÂèØËÉΩËÆ©ÂçïÊ¨°STWÁöÑÊó∂Èó¥ÊúÄÁü≠„ÄÇ ‚Äã È´òÂêûÂêêÈáèËæÉÂ•ΩÂõ†‰∏∫Ëøô‰ºöËÆ©Â∫îÁî®Á®ãÂ∫èÁöÑÊúÄÁªàÁî®Êà∑ÊÑüËßâÂè™ÊúâÂ∫îÁî®Á®ãÂ∫èÁ∫øÁ®ãÂú®ÂÅö‚ÄúÁîü‰∫ßÊÄß‚ÄùÂ∑•‰Ωú„ÄÇÁõ¥Ëßâ‰∏äÔºåÂêûÂêêÈáèË∂äÈ´òÁ®ãÂ∫èËøêË°åË∂äÂø´„ÄÇ ‚Äã ‰ΩéÊöÇÂÅúÊó∂Èó¥Ôºà‰ΩéÂª∂ËøüÔºâËæÉÂ•ΩÂõ†‰∏∫‰ªéÊúÄÁªàÁî®Êà∑ÁöÑËßíÂ∫¶Êù•Áúã‰∏çÁÆ°ÊòØGCËøòÊòØÂÖ∂‰ªñÂéüÂõ†ÂØºËá¥‰∏Ä‰∏™Â∫îÁî®Ë¢´ÊåÇËµ∑ÂßãÁªàÊòØ‰∏çÂ•ΩÁöÑ„ÄÇËøôÂèñÂÜ≥‰∫éÂ∫îÁî®Á®ãÂ∫èÁöÑÁ±ªÂûãÔºåÊúâÊó∂ÂÄôÁîöËá≥Áü≠ÊöÇÁöÑ260ÊØ´ÁßíÊöÇÂÅúÈÉΩÂèØËÉΩÊâìÊñ≠ÁªàÁ´ØÁî®Êà∑‰ΩìÈ™å„ÄÇÂõ†Ê≠§ÔºåÂÖ∑Êúâ‰ΩéÁöÑËæÉÂ§ßÊöÇÂÅúÊó∂Èó¥ÊòØÈùûÂ∏∏ÈáçË¶ÅÁöÑÔºåÁâπÂà´ÊòØÂØπ‰∫é‰∏Ä‰∏™‰∫§‰∫íÂºèÂ∫îÁî®Á®ãÂ∫è„ÄÇ ‚Äã ‰∏çÂπ∏ÁöÑÊòØ‚ÄùÈ´òÂêûÂêêÈáè‚ÄùÂíå‚Äù‰ΩéÊöÇÂÅúÊó∂Èó¥‚ÄùÊòØ‰∏ÄÂØπÁõ∏‰∫íÁ´û‰∫âÁöÑÁõÆÊ†áÔºàÁüõÁõæÔºâÂõ†‰∏∫Â¶ÇÊûúÈÄâÊã©‰ª•ÂêûÂêêÈáè‰ºòÂÖàÔºåÈÇ£‰πàÂøÖÁÑ∂ÈúÄË¶ÅÈôç‰ΩéÂÜÖÂ≠òÂõûÊî∂ÁöÑÊâßË°åÈ¢ëÁéáÔºå‰ΩÜÊòØËøôÊ†∑‰ºöÂØºËá¥GCÈúÄË¶ÅÊõ¥ÈïøÁöÑÊöÇÂÅúÊó∂Èó¥Êù•ÊâßË°åÂÜÖÂ≠òÂõûÊî∂„ÄÇÁõ∏ÂèçÁöÑÔºåÂ¶ÇÊûúÈÄâÊã©‰ª•‰ΩéÂª∂Ëøü‰ºòÂÖà‰∏∫ÂéüÂàôÔºåÈÇ£‰πà‰∏∫‰∫ÜÈôç‰ΩéÊØèÊ¨°ÊâßË°åÂÜÖÂ≠òÂõûÊî∂Êó∂ÁöÑÊöÇÂÅúÊó∂Èó¥Ôºå‰πüÂè™ËÉΩÈ¢ëÁπÅÂú∞ÊâßË°åÂÜÖÂ≠òÂõûÊî∂Ôºå‰ΩÜËøôÂèàÂºïËµ∑‰∫ÜÂπ¥ËΩª‰ª£ÂÜÖÂ≠òÁöÑÁº©ÂáèÂíåÂØºËá¥Á®ãÂ∫èÂêûÂêêÈáèÁöÑ‰∏ãÈôç„ÄÇ ‚Äã Âú®ËÆæËÆ°ÔºàÊàñ‰ΩøÁî®ÔºâGCÁÆóÊ≥ïÊó∂ÔºåÊàë‰ª¨ÂøÖÈ°ªÁ°ÆÂÆöÊàë‰ª¨ÁöÑÁõÆÊ†áÔºö‰∏Ä‰∏™GCÁÆóÊ≥ïÂè™ÂèØËÉΩÈíàÂØπ‰∏§‰∏™ÁõÆÊ†á‰πã‰∏ÄÔºàÂç≥Âè™‰∏ìÊ≥®‰∫éËæÉÂ§ßÂêûÂêêÈáèÊàñÊúÄÂ∞èÊöÇÂÅúÊó∂Èó¥ÔºâÔºåÊàñÂ∞ùËØïÊâæÂà∞‰∏Ä‰∏™‰∫åËÄÖÁöÑÊäòË°∑„ÄÇÁé∞Âú®Ê†áÂáÜÔºöÂú®ÊúÄÂ§ßÂêûÂêêÈáè‰ºòÂÖàÁöÑÊÉÖÂÜµ‰∏ãÔºåÈôç‰ΩéÂÅúÈ°øÊó∂Èó¥„ÄÇ 4ÔºåÂûÉÂúæÂõûÊî∂Âô®ÂèëÂ±ïÂè≤ Êúâ‰∫ÜËôöÊãüÊú∫ÔºåÂ∞±‰∏ÄÂÆöÈúÄË¶ÅÊî∂ÈõÜÂûÉÂúæÁöÑÊú∫Âà∂ÔºåËøôÂ∞±ÊòØ Garbage Collection,ÂØπÂ∫îÁöÑ‰∫ßÂìÅÊàë‰ª¨Áß∞‰∏∫ Garbage Collector. „Éª1999Âπ¥ÈöèJDK1.3.1‰∏ÄËµ∑Êù•ÁöÑÊòØ‰∏≤Ë°åÊñπÂºèÁöÑ Serial GC,ÂÆÉÊòØÁ¨¨‰∏ÄÊ¨æGC. PardewÂûÉÂúæÊî∂ÈõÜÂô®ÊòØ SeriaÊî∂ÈõÜÂô®ÁöÑÂ§öÁ∫øÁ®ãÁâàÊú¨ „Éª2002Âπ¥2Êúà26Êó•ÔºåParalle GCÂíå Concurrent Mark Sweep GCË∑üÈöèJDK1.4.2Ëµ∑ÂèëÂ∏ÉParallel GCÂú®JDK6‰πãÂêéÊàê‰∏∫ HotspotÈªòËÆ§GC.2012Âπ¥ÔºåÂú®JDK1.7u4ÁâàÊú¨‰∏≠ÔºåG1ÂèØÁî®„ÄÇ „Éª2017Âπ¥ÔºåJDK9‰∏≠G1ÂèòÊàêÈªòËÆ§ÁöÑÂûÉÂúæÊî∂ÈõÜÂô®Ôºå‰ª•Êõø‰ª£CMS. „Éª2018Âπ¥3ÊúàÔºåJDK10‰∏≠G1ÂûÉÂúæÂõûÊî∂Âô®ÁöÑÂπ∂Ë°åÂÆåÊï¥ÂûÉÂúæÂõûÊî∂ÔºåÂÆûÁé∞Âπ∂Ë°åÊÄßÊù•ÊîπÂñÑÊúÄÂùèÊÉÖÂÜµ‰∏ãÁöÑÂª∂Ëøü„ÄÇ „Éª2018Âπ¥9ÊúàÔºåJDK11ÂèëÂ∏É„ÄÇÂºïÂÖ•Bpsi1onÂûÉÂúæÂõûÊî∂Âô®ÔºåÂèàË¢´Áß∞‰∏∫&quot;No-OpÔºàÊó†Êìç‰ΩúÔºâÂõûÊî∂Âô®„ÄÇÂêåÊó∂ÔºåÂºïÂÖ•zGC:ÂèØ‰º∏Áº©ÁöÑ‰ΩéÂª∂ËøüÂûÉÂúæÂõûÊî∂Âô®( Experimental). „Éª2019Âπ¥3ÊúàÔºåJDK12ÂèëÂ∏É„ÄÇÂ¢ûÂº∫G1,Ëá™Âä®ËøîÂõûÊú™Áî®Â†ÜÂÜÖÂ≠òÁªôÊìç‰ΩúÁ≥ªÁªü„ÄÇÂêåÊó∂ÔºåÂºïÂÖ•Sh. enandoah GC:‰ΩéÂÅúÈ°øÊó∂Èó¥ÁöÑGC( Experimenta1). „Éª2019Âπ¥9ÊúàÔºåJDK13ÂèëÂ∏É„ÄÇÂ¢ûÂº∫ZGC,Ëá™Âä®ËøîÂõûÊú™Áî®Â†ÜÂÜÖÂ≠òÁªôÊìç‰ΩúÁ≥ªÁªü „Éª2020Âπ¥3ÊúàÔºåJDK14ÂèëÂ∏É„ÄÇÂà†Èô§CMSÂûÉÂúæÂõûÊî∂Âô®„ÄÇÊâ©Â±ïzGCÂú® macos,Âíå Windows‰∏äÁöÑÂ∫îÁî® ‰∏≤Ë°åÂõûÊî∂Âô®Ôºö Serial„ÄÅ Serial Old Âπ∂Ë°åÂõûÊî∂Âô®Ôºö Pa rnew„ÄÅParallel Scavenge„ÄÅ Parallel Old Âπ∂ÂèëÂõûÊî∂Âô®ÔºöCMS„ÄÅG1 ÂûÉÂúæÊî∂ÈõÜÂô®ÁöÑÁªÑÂêàÂÖ≥Á≥ª Êñ∞Áîü‰ª£Êî∂ÈõÜÂô®Ôºö Serial„ÄÅ Pardew„ÄÅParallel Scavenge ËÄÅÂπ¥‰ª£Êî∂ÈõÜÂô®Ôºö Serial 0ld„ÄÅParallel 0ld„ÄÅCMS Êï¥Â†ÜÊî∂ÈõÜÂô®ÔºöG1 JDK 8‚Äî&gt;JDK 9 ÂÆûÁ∫ø----„ÄãÁ∫¢ËôöÁ∫ø ‚Äî&gt;JDK 14 ÂÆûÁ∫ø----„ÄãÁªøËôöÁ∫ø Âπ∂Â∫üÂºÉCMS ÈªòËÆ§G1 ‚Äã ‰∏∫‰ªÄ‰πàË¶ÅÊúâÂæàÂ§öÊî∂ÈõÜÂô®Ôºå‰∏Ä‰∏™‰∏çÂ§üÂêóÔºüÂõ†‰∏∫JavaÁöÑ‰ΩøÁî®Âú∫ÊôØÂæàÂ§öÔºåÁßªÂä®Á´ØÔºåÊúçÂä°Âô®Á≠â„ÄÇÊâÄ‰ª•Â∞±ÈúÄË¶ÅÈíàÂØπ‰∏çÂêåÁöÑÂú∫ÊôØÔºåÊèê‰æõ‰∏çÂêåÁöÑÂûÉÂúæÊî∂ÈõÜÂô®ÔºåÊèêÈ´òÂûÉÂúæÊî∂ÈõÜÁöÑÊÄßËÉΩ„ÄÇ ‚Äã ËôΩÁÑ∂Êàë‰ª¨‰ºöÂØπÂêÑ‰∏™Êî∂ÈõÜÂô®ËøõË°åÊØîËæÉÔºå‰ΩÜÂπ∂Èùû‰∏∫‰∫ÜÊåëÈÄâ‰∏Ä‰∏™ÊúÄÂ•ΩÁöÑÊî∂ÈõÜÂô®Âá∫Êù•„ÄÇÊ≤°Êúâ‰∏ÄÁßçÊîæ‰πãÂõõÊµ∑ÁöÜÂáÜ„ÄÅ‰ªª‰ΩïÂú∫ÊôØ‰∏ãÈÉΩÈÄÇÁî®ÁöÑÂÆåÁæéÊî∂ÈõÜÂô®Â≠òÂú®Êõ¥Âä†Ê≤°Êúâ‰∏áËÉΩÁöÑÊî∂ÈõÜÂô®„ÄÇÊâÄ‰ª•Êàë‰ª¨ÈÄâÊã©ÁöÑÂè™ÊòØÂØπÂÖ∑‰ΩìÂ∫îÁî®ÊúÄÂêàÈÄÇÁöÑÊî∂ÈõÜÂô®„ÄÇ 5.Êü•ÁúãÈªòËÆ§ÂûÉÂúæÂõûÊî∂Âô® **-XX: PrintCommandLineFlags:**Êü•ÁúãÂëΩ‰ª§Ë°åÁõ∏ÂÖ≥ÂèÇÊï∞ÔºàÂåÖÂê´‰ΩøÁî®ÁöÑÂûÉÂúæÊî∂ÈõÜÂô®Ôºâ ‰ΩøÁî®ÂëΩ‰ª§Ë°åÊåá‰ª§Ôºöjinfo -flag Áõ∏ÂÖ≥ÂûÉÂúæÂõûÊî∂Âô®ÂèÇÊï∞ ËøõÁ®ãID Serial ‰∏≤Ë°åÂõûÊî∂ Serial Êî∂ÈõÜÂô®ÊòØÊúÄÂü∫Êú¨„ÄÅÂéÜÂè≤ÊúÄÊÇ†‰πÖÁöÑÂûÉÂúæÊî∂ÈõÜÂô®‰∫Ü„ÄÇJDK1.3‰πãÂâçÂõûÊî∂Êñ∞Áîü‰ª£ÂîØ‰∏ÄÁöÑÈÄâÊã©„ÄÇ Serial Êî∂ÈõÜÂô®‰Ωú‰∏∫ Hotspot‰∏≠ClientÊ®°Âºè‰∏ãÁöÑÈªòËÆ§Êñ∞Áîü‰ª£ÂûÉÂúæÊî∂ÈõÜÂô®„ÄÇ SerialÊî∂ÈõÜÂô®ÈááÁî®Â§çÂà∂ÁÆóÊ≥ï„ÄÅ‰∏≤Ë°åÂõûÊî∂Âíå&quot;Stop-the-World&quot;Êú∫Âà∂ÁöÑÊñπÂºèÊâßË°åÂÜÖÂ≠òÂõûÊî∂„ÄÇ Èô§‰∫ÜÂπ¥ËΩª‰ª£‰πãÂ§ñÔºå Serial Êî∂ÈõÜÂô®ËøòÊèê‰æõÁî®‰∫éÊâßË°åËÄÅÂπ¥‰ª£ÂûÉÂúæÊî∂ÈõÜÁöÑ Serial OldÊî∂ÈõÜÂô®„ÄÇ Serial OldÊî∂ÈõÜÂô®ÂêåÊ†∑‰πüÈááÁî®‰∫Ü‰∏≤Ë°åÂõûÊî∂Âíå&quot; Stop the World&quot;Êú∫Âà∂ÔºåÂè™‰∏çËøáÂÜÖÂ≠òÂõûÊî∂ÁÆóÊ≥ï‰ΩøÁî®ÁöÑÊòØÊ†áËÆ∞‰∏ÄÂéãÁº©ÁÆóÊ≥ï„ÄÇ Serial OldÊòØËøêË°åÂú®Client Ê®°Âºè‰∏ãÈªòËÆ§ÁöÑËÄÅÂπ¥‰ª£ÁöÑÂûÉÂúæÂõûÊî∂Âô®„ÄÇ Serial OldÂú® Server,Ê®°Âºè‰∏ã‰∏ªË¶ÅÊúâ‰∏§‰∏™Áî®ÈÄîÔºö‚ë†‰∏éÊñ∞Áîü‰ª£ÁöÑParallel ScavengeÈÖçÂêà‰ΩøÁî®„ÄÇ‚ë°‰Ωú‰∏∫ËÄÅÂπ¥‰ª£CMSÊî∂ÈõÜÂô®ÁöÑÂêéÂ§áÂûÉÂúæÊî∂ÈõÜÊñπÊ°à„ÄÇ ‰ºòÂäøÔºöÁÆÄÂçïËÄåÈ´òÊïàÔºà‰∏éÂÖ∂‰ªñÊî∂ÈõÜÂô®ÁöÑÂçïÁ∫øÁ®ãÊØîÔºâÔºåÂØπ‰∫éÈôêÂÆöÂçï‰∏™CPUÁöÑÁéØÂ¢ÉÊù•ËØ¥Ôºå Serial Êî∂ÈõÜÂô®Áî±‰∫éÊ≤°ÊúâÁ∫øÁ®ã‰∫§‰∫íÁöÑÂºÄÈîÄÔºå‰∏ìÂøÉÂÅöÂûÉÂúæÊî∂ÈõÜËá™ÁÑ∂ÂèØ‰ª•Ëé∑ÂæóÊúÄÈ´òÁöÑÂçïÁ∫øÁ®ãÊî∂ÈõÜÊïàÁéá„ÄÇËøêË°åÂú®Client Ê®°Âºè‰∏ãÁöÑËôöÊãüÊú∫ÊòØ‰∏™‰∏çÈîôÁöÑÈÄâÊã©„ÄÇ Âú®Áî®Êà∑ÁöÑÊ°åÈù¢Â∫îÁî®Âú∫ÊôØ‰∏≠ÔºåÂèØÁî®ÂÜÖÂ≠ò‰∏ÄËà¨‰∏çÂ§ß(Âá†ÂçÅMBËá≥‰∏Ä‰∏§ÁôæMB),ÂèØ‰ª•Âú®ËæÉÁü≠Êó∂Èó¥ÂÜÖÂÆåÊàêÂûÉÂúæÊî∂ÈõÜ(Âá†ÂçÅmsËá≥‰∏ÄÁôæÂ§öms),Âè™Ë¶Å‰∏çÈ¢ëÁπÅÂèëÁîü‰ΩøÁî®‰∏≤Ë°åÂõûÊî∂Âô®ÊòØÂèØ‰ª•Êé•ÂèóÁöÑ„ÄÇ Âú® HotspotËôöÊãüÊú∫‰∏≠Ôºå‰ΩøÁî® -XX: UseSerialGCÂèÇÊï∞ÂèØ‰ª•ÊåáÂÆöÂπ¥ËΩª‰ª£ÂíåËÄÅÂπ¥‰ª£ÈÉΩ‰ΩøÁî®‰∏≤Ë°åÊî∂ÈõÜÂô®„ÄÇÁ≠â‰ª∑‰∫éÊñ∞Áîü‰ª£Áî® Seral GC,‰∏îËÄÅÂπ¥‰ª£Áî® Serial Old GC ÊÄªÁªìÔºöËøôÁßçÂûÉÂúæÊî∂ÈõÜÂô®Â§ßÂÆ∂‰∫ÜËß£ÔºåÁé∞Âú®Â∑≤Áªè‰∏çÁî®‰∏≤Ë°åÁöÑ‰∫Ü„ÄÇËÄå‰∏îÂú®ÈôêÂÆöÂçïÊ†∏cpu„Ç™ÂèØ‰ª•Áî®„ÄÇÁé∞Âú®ÈÉΩ‰∏çÊòØÂçïÊ†∏ÁöÑ‰∫Ü„ÄÇÂØπ‰∫é‰∫§‰∫íËæÉÂº∫ÁöÑÂ∫îÁî®ËÄåË®ÄÔºåËøôÁßçÂûÉÂúæÊî∂ÈõÜÂô®ÊòØ‰∏çËÉΩÊé•ÂèóÁöÑ„ÄÇ‰∏ÄËà¨Âú®Java WebÂ∫îÁî®Á®ãÂ∫è‰∏≠ÊòØ‰∏ç‰ºöÈááÁî®‰∏≤Ë°åÂûÉÂúæÊî∂ÈõÜÂô®ÁöÑ„ÄÇ ParNew Âπ∂Ë°åÂõûÊî∂ ‚Äã Â¶ÇÊûúËØ¥ Serial GCÊòØÂπ¥ËΩª‰ª£‰∏≠ÁöÑÂçïÁ∫øÁ®ãÂûÉÂúæÊî∂ÈõÜÂô®ÔºåÈÇ£‰πà ParNewlÊî∂ÈõÜÂô®ÂàôÊòØ Seral Êî∂ÈõÜÂô®ÁöÑÂ§öÁ∫øÁ®ãÁâàÊú¨„ÄÇParÊòØ Parallel ÁöÑÁº©ÂÜôÔºåNew:Âè™ËÉΩÂ§ÑÁêÜÁöÑÊòØÊñ∞Áîü‰ª£„ÄÇParNewÊî∂ÈõÜÂô®Èô§‰∫ÜÈááÁî®Âπ∂Ë°åÂõûÊî∂ÁöÑÊñπÂºèÊâßË°åÂÜÖÂ≠òÂõûÊî∂Â§ñÔºå‰∏§Ê¨æÂûÉÂúæÊî∂ÈõÜÂô®‰πãÈó¥Âá†‰πéÊ≤°Êúâ‰ªª‰ΩïÂå∫Âà´„ÄÇ ParNewÊî∂ÈõÜÂô®Âú®Âπ¥ËΩª‰ª£‰∏≠ÂêåÊ†∑‰πüÊòØÈááÁî®Â§çÂà∂ÁÆóÊ≥ï„ÄÅ&quot;Stop-the-world&quot;Êú∫Âà∂„ÄÇParNewÊòØÂæàÂ§öJVMËøêË°åÂú® ServerÊ®°Âºè‰∏ãÊñ∞Áîü‰ª£ÁöÑÈªòËÆ§ÂûÉÂúæÊî∂ÈõÜÂô®„ÄÇ ÂØπ‰∫éÊñ∞Áîü‰ª£ÔºåÂõûÊî∂Ê¨°Êï∞È¢ëÁπÅÔºå‰ΩøÁî®Âπ∂Ë°åÊñπÂºèÈ´òÊïà„ÄÇ ÂØπ‰∫éËÄÅÂπ¥‰ª£ÔºåÂõûÊî∂Ê¨°Êï∞Â∞ëÔºå‰ΩøÁî®‰∏≤Ë°åÊñπÂºèËäÇÁúÅËµÑÊ∫ê„ÄÇÔºàCPUÂπ∂Ë°åÈúÄË¶ÅÂàáÊç¢Á∫øÁ®ãÔºå‰∏≤Ë°åÂèØ‰ª•ÁúÅÂéªÂàáÊç¢Á∫øÁ®ãÁöÑËµÑÊ∫êÔºâ Áî±‰∫é PardewÊî∂ÈõÜÂô®ÊòØÂü∫‰∫éÂπ∂Ë°åÂõûÊî∂ÔºåÈÇ£‰πàÊòØÂê¶ÂèØ‰ª•Êñ≠ÂÆö ParnewlÊî∂ÈõÜÂô®ÁöÑÂõûÊî∂ÊïàÁéáÂú®‰ªª‰ΩïÂú∫ÊôØ‰∏ãÈÉΩ‰ºöÊØî Seral Êî∂ÈõÜÂô®Êõ¥È´òÊïàÔºü ParnewÊî∂ÈõÜÂô®ËøêË°åÂú®Â§öCPUÁöÑÁéØÂ¢É‰∏ãÔºåÁî±‰∫éÂèØ‰ª•ÂÖÖÂàÜÂà©Áî®Â§öCPU„ÄÅÂ§öÊ†∏ÂøÉÁ≠âÁâ©ÁêÜÁ°¨‰ª∂ËµÑÊ∫ê‰ºòÂäøÔºåÂèØ‰ª•Êõ¥Âø´ÈÄüÂú∞ÂÆåÊàêÂûÉÂúæÊî∂ÈõÜÔºåÊèêÂçáÁ®ãÂ∫èÁöÑÂêûÂêêÈáè„ÄÇ ‰ΩÜÊòØÂú®Âçï‰∏™CPUÁöÑÁéØÂ¢É‰∏ãÔºå ParnewlÊî∂ÈõÜÂô®‰∏çÊØî Seral Êî∂ÈõÜÂô®Êõ¥È´òÊïà„ÄÇËôΩÁÑ∂ SerlalÊî∂ÈõÜÂô®ÊòØÂü∫‰∫é‰∏≤Ë°åÂõûÊî∂Ôºå‰ΩÜÊòØÁî±‰∫éCPU‰∏çÈúÄË¶ÅÈ¢ëÁπÅÂú∞ÂÅö‰ªªÂä°ÂàáÊç¢ÔºåÂõ†Ê≠§ÂèØ‰ª•ÊúâÊïàÈÅøÂÖçÂ§öÁ∫øÁ®ã‰∫§‰∫íËøáÁ®ã‰∏≠‰∫ßÁîüÁöÑ‰∏Ä‰∫õÈ¢ùÂ§ñÂºÄÈîÄ„ÄÇ Âõ†‰∏∫Èô§ SeralÂ§ñÔºåÁõÆÂâçÂè™Êúâ PardNew GCËÉΩ‰∏éCMSÊî∂ÈõÜÂô®ÈÖçÂêàÂ∑•‰Ωú„ÄÇ Âú®Á®ãÂ∫è‰∏≠ÔºåÂºÄÂèë‰∫∫ÂëòÂèØ‰ª•ÈÄöËøáÈÄâÈ°π‚Äù-XX: UseParNewGC&quot;ÊâãÂä®ÊåáÂÆö‰ΩøÁî®ParNewlÊî∂ÈõÜÂô®ÊâßË°åÂÜÖÂ≠òÂõûÊî∂‰ªªÂä°„ÄÇÂÆÉË°®Á§∫Âπ¥ËΩª‰ª£‰ΩøÁî®Âπ∂Ë°åÊî∂ÈõÜÂô®Ôºå‰∏çÂΩ±ÂìçËÄÅÂπ¥‰ª£„ÄÇ -XX: ParallelGCThreadsÈôêÂà∂Á∫øÁ®ãÊï∞ÈáèÔºåÈªòËÆ§ÂºÄÂêØÂíåCPUÊï∞ÊçÆÁõ∏ÂêåÁöÑÁ∫øÁ®ãÊï∞„ÄÇ Parallel Scavenge ÂêûÂêêÈáè‰ºòÂÖà HotSpotÁöÑÂπ¥ËΩª‰ª£‰∏≠Èô§‰∫ÜÊã•Êúâ ParNewÊî∂ÈõÜÂô®ÊòØÂü∫‰∫éÂπ∂Ë°åÂõûÊî∂ÁöÑ‰ª•Â§ñÔºåParallel ScavengeÊî∂ÈõÜÂô®ÂêåÊ†∑‰πüÈááÁî®‰∫ÜÂ§çÂà∂ÁÆóÊ≥ï„ÄÅÂπ∂Ë°åÂõûÊî∂Âíå&quot;Stop The World&quot;Êú∫Âà∂„ÄÇ ÈÇ£‰πà Parallel Êî∂ÈõÜÂô®ÁöÑÂá∫Áé∞ÊòØÂê¶Â§öÊ≠§‰∏Ä‰∏æÔºü Âíå PardewÊî∂ÈõÜÂô®‰∏çÂêåÔºå Parallel ScavengeÊî∂ÈõÜÂô®ÁöÑÁõÆÊ†áÂàôÊòØËææÂà∞‰∏™ÂèØÊéßÂà∂ÁöÑÂêûÂêêÈáè( Throughput),ÂÆÉ‰πüË¢´Áß∞‰∏∫ÂêûÂêêÈáè‰ºòÂÖàÁöÑÂûÉÂúæÊî∂ÈõÜÂô®„ÄÇ Ëá™ÈÄÇÂ∫îË∞ÉËäÇÁ≠ñÁï•‰πüÊòØ Parallel Scavenge‰∏é ParNew‰∏Ä‰∏™ÈáçË¶ÅÂå∫Âà´„ÄÇ È´òÂêûÂêêÈáèÂàôÂèØ‰ª•È´òÊïàÁéáÂú∞Âà©Áî®CPUÊó∂Èó¥ÔºåÂ∞ΩÂø´ÂÆåÊàêÁ®ãÂ∫èÁöÑËøêÁÆó‰ªªÂä°Ôºå‰∏ªË¶ÅÈÄÇÂêàÂú®ÂêéÂè∞ËøêÁÆóËÄå‰∏çÈúÄË¶ÅÂ§™Â§ö‰∫§‰∫íÁöÑ‰ªªÂä°„ÄÇÂõ†Ê≠§ÔºåÂ∏∏ËßÅÂú®ÊúçÂä°Âô®ÁéØÂ¢É‰∏≠‰ΩøÁî®„ÄÇ‰æãÂ¶ÇÔºåÈÇ£‰∫õÊâßË°åÊâπÈáèÂ§ÑÁêÜ„ÄÅËÆ¢ÂçïÂ§ÑÁêÜ„ÄÅÂ∑•ËµÑÊîØ‰ªò„ÄÅÁßëÂ≠¶ËÆ°ÁÆóÁöÑÂ∫îÁî®Á®ãÂ∫è„ÄÇ Parallel Êî∂ÈõÜÂô®Âú®JDK1.6Êó∂Êèê‰æõ‰∫ÜÁî®‰∫éÊâßË°åËÄÅÂπ¥‰ª£ÂûÉÂúæÊî∂ÈõÜÁöÑ Parallel Old Êî∂ÈõÜÂô®ÔºåÁî®Êù•‰ª£ÊõøËÄÅÂπ¥‰ª£ÁöÑ Seral OldÊî∂ÈõÜÂô®„ÄÇ Parallel Old Êî∂ÈõÜÂô®ÈááÁî®‰∫ÜÊ†áËÆ∞-ÂéãÁº©ÁÆóÊ≥ïÔºå‰ΩÜÂêåÊ†∑‰πüÊòØÂü∫‰∫éÂπ∂Ë°åÂõûÊî∂Âíå&quot;Stop-the- World&quot;Êú∫Âà∂„ÄÇ ‚Äã ÂêûÂêêÈáèÂ∞±ÊòØCPUÁî®‰∫éËøêË°åÁî®Êà∑‰ª£Á†ÅÁöÑÊó∂Èó¥‰∏éCPUÊÄªÊ∂àËÄóÊó∂Èó¥ÁöÑÊØîÂÄºÔºåÂç≥ÂêûÂêêÈáè=ËøêË°åÁî®Êà∑‰ª£Á†ÅÊó∂Èó¥/(ËøêË°åÁî®Êà∑‰ª£Á†ÅÊó∂Èó¥ ÂûÉÂúæÊî∂ÈõÜÊó∂Èó¥)„ÄÇÊØîÂ¶ÇÔºöËôöÊãüÊú∫ÊÄªÂÖ±ËøêË°å‰∫Ü160ÂàÜÈíüÔºåÂÖ∂‰∏≠ÂûÉÂúæÊî∂ÈõÜËä±Êéâ1ÂàÜÈíüÔºåÈÇ£ÂêûÂêêÈáèÂ∞±ÊòØ99%„ÄÇ ‚Äã ËøôÁßçÊÉÖÂÜµ‰∏ãÔºåÂ∫îÁî®Á®ãÂ∫èËÉΩÂÆπÂøçËæÉÈ´òÁöÑÊöÇÂÅúÊó∂Èó¥ÔºåÂõ†Ê≠§ÔºåÈ´òÂêûÂêêÈáèÁöÑÂ∫îÁî®Á®ãÂ∫èÊúâÊõ¥ÈïøÁöÑÊó∂Èó¥Âü∫ÂáÜÔºåÂø´ÈÄüÂìçÂ∫îÊòØ‰∏çÂøÖËÄÉËôëÁöÑ„ÄÇÂêûÂêêÈáè‰ºòÂÖàÔºåÊÑèÂë≥ÁùÄÂú®Âçï‰ΩçÊó∂Èó¥ÂÜÖÔºåSTÁöÑÊó∂Èó¥ÊúÄÁü≠„ÄÇÂú®Á®ãÂ∫èÂêûÂêêÈáè‰ºòÂÖàÁöÑÂ∫îÁî®Âú∫ÊôØ‰∏≠ÔºåParallel Êî∂ÈõÜÂô®Âíå Parallel OldÊî∂ÈõÜÂô®ÁöÑÁªÑÂêàÔºåÂú® ServerÊ®°Âºè‰∏ãÁöÑÂÜÖÂ≠òÂõûÊî∂ÊÄßËÉΩÂæà‰∏çÈîô„ÄÇÂú®Java8‰∏≠ÔºåÈªòËÆ§ÊòØÊ≠§ÂûÉÂúæÊî∂ÈõÜÂô®„ÄÇ ÂèÇÊï∞ËÆæÁΩÆ: -XX: +UseParallelGCÊâãÂä®ÊåáÂÆöÂπ¥ËΩª‰ª£‰ΩøÁî®Para1le1Âπ∂Ë°åÊî∂ÈõÜÂô®ÊâßË°åÂÜÖÂ≠òÂõûÊî∂‰ªªÂä° -XX: +UseParallelOldGCÊâãÂä®ÊåáÂÆöËÄÅÂπ¥‰ª£ÈÉΩÊòØ‰ΩøÁî®Âπ∂Ë°åÂõûÊî∂Êî∂ÈõÜÂô®„ÄÇÂàÜÂà´ÈÄÇÁî®‰∫éÊñ∞Áîü‰ª£ÂíåËÄÅÂπ¥‰ª£„ÄÇÈªòËÆ§jdk8ÊòØÂºÄÂêØÁöÑ„ÄÇ‰∏äÈù¢‰∏§‰∏™ÂèÇÊï∞ÔºåÈªòËÆ§ÂºÄÂêØ‰∏Ä‰∏™ÔºåÂè¶‰∏Ä‰∏™‰πü‰ºöË¢´ÂºÄÂêØ„ÄÇÔºà‰∫íÁõ∏ÊøÄÊ¥ªÔºâ -XX: +ParallelGCThreadsËÆæÁΩÆÂπ¥ËΩª‰ª£Âπ∂Ë°åÊî∂ÈõÜÂô®ÁöÑÁ∫øÁ®ãÊï∞„ÄÇ‰∏ÄËà¨Âú∞ÔºåÊúÄÂ•Ω‰∏éCPUÊï∞ÈáèÁõ∏Á≠âÔºå‰ª•ÈÅøÂÖçËøáÂ§öÁöÑÁ∫øÁ®ãÊï∞ÂΩ±ÂìçÂûÉÂúæÊî∂ÈõÜÊÄßËÉΩ„ÄÇÂú®ÈªòËÆ§ÊÉÖÂÜµ‰∏ãÔºåÂΩìCPUÊï∞ÈáèÂ∞è‰∫é8‰∏™ÔºåParallelGCThreadsÁöÑÂÄºÁ≠â‰∫éCPUÊï∞Èáè„ÄÇÂΩìCPUÊï∞ÈáèÂ§ß‰∫é8‰∏™ÔºåParallelGCThreadsÁöÑÂÄºÁ≠â‰∫é3+[5*CPU_Count] / 8]„ÄÇ -XX: MaxGCPauseMillis ËÆæÁΩÆÂûÉÂúæÊî∂ÈõÜÂô®ÊúÄÂ§ßÂÅúÈ°øÊó∂Èó¥(Âç≥STWÁöÑÊó∂Èó¥)„ÄÇÂçï‰ΩçÊòØÊØ´Áßí„ÄÇ ‰∏∫‰∫ÜÂ∞ΩÂèØËÉΩÂú∞ÊääÂÅúÈ°øÊó∂Èó¥ÊéßÂà∂Âú® MaxGCPauseMillis ‰ª•ÂÜÖÔºåÊî∂ÈõÜÂô®Âú®Â∑•‰ΩúÊó∂‰ºöË∞ÉÊï¥JavaÂ†ÜÂ§ßÂ∞èÊàñËÄÖÂÖ∂‰ªñ‰∏Ä‰∫õÂèÇÊï∞„ÄÇÂØπ‰∫éÁî®Êà∑Êù•ËÆ≤ÔºåÂÅúÈ°øÊó∂Èó¥Ë∂äÁü≠‰ΩìÈ™åË∂äÂ•Ω„ÄÇ‰ΩÜÊòØÂú®ÊúçÂä°Âô®Á´ØÔºåÊàë‰ª¨Ê≥®ÈáçÈ´òÂπ∂ÂèëÔºåÊï¥‰ΩìÁöÑÂêûÂêêÈáè„ÄÇÊâÄ‰ª•ÊúçÂä°Âô®Á´ØÈÄÇÂêà Paralle1,ËøõË°åÊéßÂà∂„ÄÇËØ•ÂèÇÊï∞‰ΩøÁî®ÈúÄË∞®ÊÖé„ÄÇ -XX: GCTimeRatio ÂûÉÂúæÊî∂ÈõÜÊó∂Èó¥Âç†ÊÄªÊó∂Èó¥ÁöÑÊØî‰æã (=1/(N+1))Áî®‰∫éË°°ÈáèÂêûÂêêÈáèÁöÑÂ§ßÂ∞è„ÄÇ ÂèñÂÄºËåÉÂõ¥(0,100)„ÄÇÈªòËÆ§ÂÄº99,‰πüÂ∞±ÊòØÂûÉÂúæÂõûÊî∂Êó∂Èó¥‰∏çË∂ÖËøá1%„ÄÇ‰∏éÂâç‰∏Ä‰∏™ -XX: MaxGCPauseMillisÂèÇÊï∞Êúâ‰∏ÄÂÆöÁüõÁõæÊÄß„ÄÇÊöÇÂÅúÊó∂Èó¥Ë∂äÈïøÔºå RadioÂèÇÊï∞Â∞±ÂÆπÊòìË∂ÖËøáËÆæÂÆöÁöÑÊØî‰æã„ÄÇ -XX: UseAdaptiveSizePoltcy ËÆæÁΩÆ Parallel ScavengeÊî∂ÈõÜÂô®ÂÖ∑ÊúâËá™ÈÄÇÂ∫îË∞ÉËäÇÁ≠ñÁï• Âú®ËøôÁßçÊ®°Âºè‰∏ãÔºåÂπ¥ËΩª‰ª£ÁöÑÂ§ßÂ∞è„ÄÅEdenÂíå SurvivorÁöÑÊØî‰æã„ÄÅÊôãÂçáËÄÅÂπ¥‰ª£ÁöÑÂØπË±°Âπ¥ÈæÑÁ≠âÂèÇÊï∞‰ºöË¢´Ëá™Âä®Ë∞ÉÊï¥ÔºåÂ∑≤ËææÂà∞Âú®Â†ÜÂ§ßÂ∞è„ÄÅÂêûÂêêÈáèÂíåÂÅúÈ°øÊó∂Èó¥‰πãÈó¥ÁöÑÂπ≥Ë°°ÁÇπ„ÄÇÂú®ÊâãÂä®Ë∞É‰ºòÊØîËæÉÂõ∞ÈöæÁöÑÂú∫ÂêàÔºåÂèØ‰ª•Áõ¥Êé•‰ΩøÁî®ËøôÁßçËá™ÈÄÇÂ∫îÁöÑÊñπÂºèÔºå‰ªÖÊåáÂÆöËôöÊãüÊú∫ÁöÑÊúÄÂ§ßÂ†Ü„ÄÅÊó•Ê†áÁöÑÂêûÂêêÈáè( GCTimeRatio )ÂíåÂÅúÈ°øÊó∂Èó¥( MaxGCPauseMillis ),ËÆ©ËôöÊãüÊú∫Ëá™Â∑±ÂÆåÊàêË∞É‰ºòÂ∑•‰Ωú„ÄÇ CMS ‰ΩéÂª∂Ëøü Âú®JDK1.5Êó∂ÊúüÔºå HotSpotÊé®Âá∫‰∫Ü‰∏ÄÊ¨æÂú®Âº∫‰∫§‰∫íÂ∫îÁî®‰∏≠Âá†‰πéÂèØËÆ§‰∏∫ÊúâÂàíÊó∂‰ª£ÊÑè‰πâÁöÑÂûÉÂúæÊî∂ÈõÜÂô®ÔºöCMS( Concurrent - Mark - Sweep)Êî∂ÈõÜÂô®ÔºåËøôÊ¨æÊî∂ÈõÜÂô®ÊòØ HotSpotËôöÊãüÊú∫‰∏≠Á¨¨‰∏ÄÊ¨æÁúüÊ≠£ÊÑè‰πâ‰∏äÁöÑÂπ∂ÂèëÊî∂ÈõÜÂô®ÔºåÂÆÉÁ¨¨‰∏ÄÊ¨°ÂÆûÁé∞‰∫ÜËÆ©ÂûÉÂúæÊî∂ÈõÜÁ∫øÁ®ã‰∏éÁî®Êà∑Á∫øÁ®ãÂêåÊó∂Â∑•‰Ωú„ÄÇ CMSÊî∂ÈõÜÂô®ÁöÑÂÖ≥Ê≥®ÁÇπÊòØÂ∞ΩÂèØËÉΩÁº©Áü≠ÂûÉÂúæÊî∂ÈõÜÊó∂Áî®Êà∑Á∫øÁ®ãÁöÑÂÅúÈ°øÊó∂Èó¥„ÄÇÂÅúÈ°øÊó∂Èó¥Ë∂äÁü≠Ôºà‰ΩéÂª∂ËøüÔºâÂ∞±Ë∂äÈÄÇÂêà‰∏éÁî®Êà∑‰∫§‰∫íÁöÑÁ®ãÂ∫èÔºåËâØÂ•ΩÁöÑÂìçÂ∫îÈÄüÂ∫¶ËÉΩÊèêÂçáÁî®Êà∑‰ΩìÈ™å„ÄÇÁõÆÂâçÂæàÂ§ß‰∏ÄÈÉ®ÂàÜÁöÑJavaÂ∫îÁî®ÈõÜ‰∏≠Âú®‰∫íËÅîÁΩëÁ´ôÊàñËÄÖB/SÁ≥ªÁªüÁöÑÊúçÂä°Á´Ø‰∏äÔºåËøôÁ±ªÂ∫îÁî®Â∞§ÂÖ∂ÈáçËßÜÊúçÂä°ÁöÑÂìçÂ∫îÈÄüÂ∫¶ÔºåÂ∏åÊúõÁ≥ªÁªüÂÅúÈ°øÊó∂Èó¥ÊúÄÁü≠Ôºå‰ª•ÁªôÁî®Êà∑Â∏¶Êù•ËæÉÂ•ΩÁöÑ‰ΩìÈ™å„ÄÇCMSÊî∂ÈõÜÂô®Â∞±ÈùûÂ∏∏Á¨¶ÂêàËøôÁ±ªÂ∫îÁî®ÁöÑÈúÄÊ±Ç„ÄÇ CMSÁöÑÂûÉÂúæÊî∂ÈõÜÁÆóÊ≥ïÈááÁî®Ê†áËÆ∞‰∏ÄÊ∏ÖÈô§ÁÆóÊ≥ïÔºåÂπ∂‰∏î‰πü‰ºö&quot;Stop-the-world ‰∏çÂπ∏ÁöÑÊòØÔºåCMS‰Ωú‰∏∫ËÄÅÂπ¥‰ª£ÁöÑÊî∂ÈõÜÂô®ÔºåÂç¥Êó†Ê≥ï‰∏éJDK1.4.8‰∏≠Â∑≤ÁªèÂ≠òÂú®ÁöÑÊñ∞Áîü‰ª£Êî∂ÈõÜÂô®Parallel ScavengeÈÖçÂêàÂ∑•‰ΩúÔºåÊâÄ‰ª•Âú®JDK1.5‰∏≠‰ΩøÁî®CMSÊù•Êî∂ÈõÜËÄÅÂπ¥‰ª£ÁöÑÊó∂ÂÄôÔºåÊñ∞Áîü‰ª£Âè™ËÉΩÈÄâÊã© PardewÊàñËÄÖ Sera1Êî∂ÈõÜÂô®‰∏≠ÁöÑ‰∏Ä‰∏™„ÄÇÂú®G1Âá∫Áé∞‰πãÂâçÔºåCMS‰ΩøÁî®ËøòÊòØÈùûÂ∏∏ÂπøÊ≥õÁöÑ„ÄÇ‰∏ÄÁõ¥Âà∞‰ªäÂ§©Ôºå‰ªçÁÑ∂ÊúâÂæàÂ§öÁ≥ªÁªü‰ΩøÁî® CMS GC„ÄÇ Â∑•‰ΩúÂéüÁêÜ CMSÊï¥‰∏™ËøáÁ®ãÊØî‰πãÂâçÁöÑÊî∂ÈõÜÂô®Ë¶ÅÂ§çÊùÇÔºåÊï¥‰∏™ËøáÁ®ãÂàÜ‰∏∫4‰∏™‰∏ªË¶ÅÈò∂ÊÆµÔºåÂç≥ÂàùÂßãÊ†áËÆ∞Èò∂ÊÆµ„ÄÅÂπ∂ÂèëÊ†áËÆ∞Èò∂ÊÆµ„ÄÅÈáçÊñ∞Ê†áËÆ∞Èò∂ÊÆµÂíåÂπ∂ÂèëÊ∏ÖÈô§Èò∂ÊÆµ„ÄÇ **ÂàùÂßãÊ†áËÆ∞( Initial-Mark)Èò∂ÊÆµÔºö**Âú®Ëøô‰∏™Èò∂ÊÆµ‰∏≠ÔºåÁ®ãÂ∫è‰∏≠ÊâÄÊúâÁöÑÂ∑•‰ΩúÁ∫øÁ®ãÈÉΩÂ∞Ü‰ºöÂõ†‰∏∫‚ÄúStop-the-World‚ÄùÊú∫Âà∂ËÄåÂá∫Áé∞Áü≠ÊöÇÁöÑÊöÇÂÅúÔºåËøô‰∏™Èò∂ÊÆµÁöÑ‰∏ªË¶Å‰ªªÂä°‰ªÖ‰ªÖÂè™ÊòØÊ†áËÆ∞Âá∫GC RootsËÉΩÁõ¥Êé•ÂÖ≥ËÅîÂà∞ÁöÑÂØπË±°„ÄÇ‰∏ÄÊó¶Ê†áËÆ∞ÂÆåÊàê‰πãÂêéÂ∞±‰ºöÊÅ¢Â§ç‰πãÂâçË¢´ÊöÇÂÅúÁöÑÊâÄÊúâÂ∫îÁî®Á∫øÁ®ã„ÄÇÁî±‰∫éÁõ¥Êé•ÂÖ≥ËÅîÂØπË±°ÊØîËæÉÂ∞èÔºåÊâÄ‰ª•ËøôÈáåÁöÑÈÄüÂ∫¶ÈùûÂ∏∏Âø´„ÄÇ **Âπ∂ÂèëÊ†áËÆ∞( Concurrent-Mark)Èò∂ÊÆµÔºö**‰ªé GC RootsÁöÑÁõ¥Êé•ÂÖ≥ËÅîÂØπË±°ÂºÄÂßãÈÅçÂéÜÊï¥‰∏™ÂØπË±°ÂõæÁöÑËøáÁ®ãÔºåËøô‰∏™ËøáÁ®ãËÄóÊó∂ËæÉÈïø‰ΩÜÊòØ‰∏çÈúÄË¶ÅÂÅúÈ°øÁî®Êà∑Á∫øÁ®ãÔºåÂèØ‰ª•‰∏éÂûÉÂúæÊî∂ÈõÜÁ∫øÁ®ã‰∏ÄËµ∑Âπ∂ÂèëËøêË°å„ÄÇ **ÈáçÊñ∞Ê†áËÆ∞( Remark)Èò∂ÊÆµÔºö**Áî±‰∫éÂú®Âπ∂ÂèëÊ†áËÆ∞Èò∂ÊÆµ‰∏≠ÔºåÁ®ãÂ∫èÁöÑÂ∑•‰ΩúÁ∫øÁ®ã‰ºöÂíåÂûÉÂúæÊî∂ÈõÜÁ∫øÁ®ãÂêåÊó∂ËøêË°åÊàñËÄÖ‰∫§ÂèâËøêË°åÔºåÂõ†Ê≠§‰∏∫‰∫Ü‰øÆÊ≠£Âπ∂ÂèëÊ†áËÆ∞ÊúüÈó¥ÔºåÂõ†Áî®Êà∑Á®ãÂ∫èÁªßÁª≠Ëøê‰ΩúËÄåÂØºËá¥Ê†áËÆ∞‰∫ßÁîüÂèòÂä®ÁöÑÈÇ£‰∏ÄÈÉ®ÂàÜÂØπË±°ÁöÑÊ†áËÆ∞ËÆ∞ÂΩïÔºåËøô‰∏™Èò∂ÊÆµÁöÑÂÅúÈ°øÊó∂Èó¥ÈÄöÂ∏∏‰ºöÊØîÂàùÂßãÊ†áËÆ∞Èò∂ÊÆµÁ®çÈïø‰∏Ä‰∫õÔºå‰ΩÜ‰πüËøúÊØîÂπ∂ÂèëÊ†áËÆ∞Èò∂ÊÆµÁöÑÊó∂Èó¥Áü≠„ÄÇ **Âπ∂ÂèëÊ∏ÖÈô§( Concurrent- Sweep)Èò∂ÊÆµÔºö**Ê≠§Èò∂ÊÆµÊ∏ÖÁêÜÂà†Èô§ÊéâÊ†áËÆ∞Èò∂ÊÆµÂà§Êñ≠ÁöÑÂ∑±ÁªèÊ≠ª‰∫°ÁöÑÂØπË±°ÔºåÈáäÊîæÂÜÖÂ≠òÁ©∫Èó¥„ÄÇÁî±‰∫é‰∏çÈúÄË¶ÅÁßªÂä®Â≠òÊ¥ªÂØπË±°ÔºåÊâÄ‰ª•Ëøô‰∏™Èò∂ÊÆµ‰πüÊòØÂèØ‰ª•‰∏éÁî®Êà∑Á∫øÁ®ãÂêåÊó∂Âπ∂ÂèëÁöÑ„ÄÇ ÁâπÁÇπ‰∏éÂºäÁ´Ø Â∞ΩÁÆ°CMSÊî∂ÈõÜÂô®ÈááÁî®ÁöÑÊòØÂπ∂ÂèëÂõûÊî∂ÔºàÈùûÁã¨Âç†ÂºèÔºâÔºå‰ΩÜÊòØÂú®ÂÖ∂ÂàùÂßãÂåñÊ†áËÆ∞ÂíåÂÜçÊ¨°Ê†áËÆ∞Ëøô‰∏§‰∏™Èò∂ÊÆµ‰∏≠‰ªçÁÑ∂ÈúÄË¶ÅÊâßË°å‚ÄúStop-The-Wolrd‚ÄùÊú∫Âà∂ÊöÇÂÅúÁ®ãÂ∫è‰∏≠ÁöÑÂ∑•‰ΩúÁ∫øÁ®ãÔºå‰∏çËøáÊöÇÂÅúÊó∂Èó¥Âπ∂‰∏ç‰ºöÂ§™ÈïøÔºåÂõ†Ê≠§ÂèØ‰ª•ËØ¥ÊòéÁõÆÂâçÊâÄÊúâÁöÑÂûÉÂúæÊî∂ÈõÜÂô®ÈÉΩÂÅö‰∏çÂà∞ÂÆåÂÖ®‰∏çÈúÄË¶Å ‚ÄúStop-The-Wolrd‚ÄùÔºåÂè™ÊòØÂ∞ΩÂèØËÉΩÂú∞Áº©Áü≠ÊöÇÂÅúÊó∂Èó¥„ÄÇ Áî±‰∫éÊúÄËÄóË¥πÊó∂Èó¥ÁöÑÂπ∂ÂèëÊ†áËÆ∞‰∏éÂπ∂ÂèëÊ∏ÖÈô§Èò∂ÊÆµÈÉΩ‰∏çÈúÄË¶ÅÊöÇÂÅúÂ∑•‰ΩúÔºåÊâÄ‰ª•Êï¥‰ΩìÁöÑÂõûÊî∂ÊòØ‰ΩéÂÅúÈ°øÁöÑ„ÄÇ Âè¶Â§ñÔºåÁî±‰∫éÂú®ÂûÉÂúæÊî∂ÈõÜÈò∂ÊÆµÁî®Êà∑Á∫øÁ®ãÊ≤°Êúâ‰∏≠Êñ≠ÔºåÊâÄ‰ª•Âú®CMSÂõûÊî∂ËøáÁ®ã‰∏≠ÔºåËøòÂ∫îËØ•Á°Æ‰øùÂ∫îÁî®Á®ãÂ∫èÁî®Êà∑Á∫øÁ®ãÊúâË∂≥Â§üÁöÑÂÜÖÂ≠òÂèØÁî®„ÄÇÂõ†Ê≠§ÔºåCMSÊî∂ÈõÜÂô®‰∏çËÉΩÂÉèÂÖ∂‰ªñÊî∂ÈõÜÂô®ÈÇ£Ê†∑Á≠âÂà∞ËÄÅÂπ¥‰ª£Âá†‰πéÂÆåÂÖ®Ë¢´Â°´Êª°‰∫ÜÂÜçËøõË°åÊî∂ÈõÜÔºåËÄåÊòØÂΩìÂ†ÜÂÜÖÂ≠ò‰ΩøÁî®ÁéáËææÂà∞Êüê‰∏ÄÈòàÂÄºÊó∂Ôºå‰æøÂºÄÂßãËøõË°åÂõûÊî∂Ôºå‰ª•Á°Æ‰øùÂ∫îÁî®Á®ãÂ∫èÂú®CMSÂ∑•‰ΩúËøáÁ®ã‰∏≠‰æùÁÑ∂ÊúâË∂≥Â§üÁöÑÁ©∫Èó¥ÊîØÊåÅÂ∫îÁî®Á®ãÂ∫èËøêË°å„ÄÇË¶ÅÊòØCMSËøêË°åÊúüÈó¥È¢ÑÁïôÁöÑÂÜÖÂ≠òÊó†Ê≥ïÊª°Ë∂≥Á®ãÂ∫èÈúÄË¶ÅÔºåÂ∞±‰ºöÂá∫Áé∞‰∏ÄÊ¨°‚Äú Concurrent Mode Failure‚ÄùÂ§±Ë¥•ÔºåËøôÊó∂ËôöÊãüÊú∫Â∞ÜÂêØÂä®ÂêéÂ§áÈ¢ÑÊ°àÔºö‰∏¥Êó∂ÂêØÁî® Seral OldÊî∂ÈõÜÂô®Êù•ÈáçÊñ∞ËøõË°åËÄÅÂπ¥‰ª£ÁöÑÂûÉÂúæÊî∂ÈõÜÔºåËøôÊ†∑ÂÅúÈ°øÊó∂Èó¥Â∞±ÂæàÈïø‰∫Ü„ÄÇ CMSÊî∂ÈõÜÂô®ÁöÑÂûÉÂúæÊî∂ÈõÜÁÆóÊ≥ïÈááÁî®ÁöÑÊòØÊ†áËÆ∞‰∏ÄÊ∏ÖÈô§ÁÆóÊ≥ïÔºåËøôÊÑèÂë≥ÁùÄÊØèÊ¨°ÊâßË°åÂÆåÂÜÖÂ≠òÂõûÊî∂ÂêéÔºåÁî±‰∫éË¢´ÊâßË°åÂÜÖÂ≠òÂõûÊî∂ÁöÑÊó†Áî®ÂØπË±°ÊâÄÂç†Áî®ÁöÑÂÜÖÂ≠òÁ©∫Èó¥ÊûÅÊúâÂèØËÉΩÊòØ‰∏çËøûÁª≠ÁöÑ‰∏Ä‰∫õÂÜÖÂ≠òÂùóÔºå‰∏çÂèØÈÅøÂÖçÂú∞Â∞Ü‰ºö‰∫ßÁîü‰∏Ä‰∫õÂÜÖÂ≠òÁ¢éÁâá„ÄÇÈÇ£‰πàCMSÂú®‰∏∫Êñ∞ÂØπË±°ÂàÜÈÖçÂÜÖÂ≠òÁ©∫Èó¥Êó∂ÔºåÂ∞ÜÊó†Ê≥ï‰ΩøÁî®ÊåáÈíàÁ¢∞Êíû( Bump the Pointer)ÊäÄÊúØÔºåËÄåÂè™ËÉΩÂ§üÈÄâÊã©Á©∫Èó≤ÂàóË°®( Free List)ÊâßË°åÂÜÖÂ≠òÂàÜÈÖç„ÄÇ‰∏∫‰ªÄ‰πà‰∏ç‰ΩøÁî®Mark CompactÔºüÂõ†‰∏∫ÂΩìÂπ∂ÂèëÊ∏ÖÈô§ÁöÑÊó∂ÂÄôÔºåÁî® Compact Êï¥ÁêÜÂÜÖÂ≠òÁöÑËØùÔºåÂéüÊù•ÁöÑÁî®Êà∑Á∫øÁ®ã‰ΩøÁî®ÁöÑÂÜÖÂ≠òËøòÊÄé‰πàÁî®Âë¢ÔºüË¶Å‰øùËØÅÁî®Êà∑Á∫øÁ®ãËÉΩÁªßÁª≠ÊâßË°åÔºåÂâçÊèêÊòØÂÆÉËøêË°åÁöÑËµÑÊ∫ê‰∏çÂèóÂΩ±Âìç„ÄÇ Mark CompactÊõ¥ÈÄÇÂêà‚Äú Stop the World‚ÄùËøôÁßçÂú∫ÊôØ‰∏ã‰ΩøÁî®„ÄÇ CMSÁöÑ‰ºòÁÇπÔºö Âπ∂ÂèëÊî∂ÈõÜ„ÄÅ‰ΩéÂª∂Ëøü CMSÁöÑÂºäÁ´ØÔºö **1)‰ºö‰∫ßÁîüÂÜÖÂ≠òÁ¢éÁâáÔºå**ÂØºËá¥Âπ∂ÂèëÊ∏ÖÈô§ÂêéÔºåÁî®Êà∑Á∫øÁ®ãÂèØÁî®ÁöÑÁ©∫Èó¥‰∏çË∂≥„ÄÇÂú®Êó†Ê≥ïÂàÜÈÖçÂ§ßÂØπË±°ÁöÑÊÉÖÂÜµ‰∏ãÔºå‰∏çÂæó‰∏çÊèêÂâçËß¶ÂèëFull GC„ÄÇ **2)CMSÊî∂ÈõÜÂô®ÂØπCPUËµÑÊ∫êÈùûÂ∏∏ÊïèÊÑü„ÄÇ**Âú®Âπ∂ÂèëÈò∂ÊÆµÔºåÂÆÉËôΩÁÑ∂‰∏ç‰ºöÂØºËá¥Áî®Êà∑ÂÅúÈ°øÔºå‰ΩÜÊòØ‰ºöÂõ†‰∏∫Âç†Áî®‰∫Ü‰∏ÄÈÉ®ÂàÜÁ∫øÁ®ãËÄåÂØºËá¥Â∫îÁî®Á®ãÂ∫èÂèòÊÖ¢ÔºåÊÄªÂêûÂêêÈáè‰ºöÈôç‰Ωé„ÄÇ **3)CMSÊî∂ÈõÜÂô®Êó†Ê≥ïÂ§ÑÁêÜÊµÆÂä®ÂûÉÂúæ„ÄÇ**ÂèØËÉΩÂá∫Áé∞‚Äú Concurrent Mode Failure&quot;Â§±Ë¥•ËÄåÂØºËá¥Âè¶‰∏ÄÊ¨°Full GCÁöÑ‰∫ßÁîü„ÄÇÂú®Âπ∂ÂèëÊ†áËÆ∞Èò∂ÊÆµÁî±‰∫éÁ®ãÂ∫èÁöÑÂ∑•‰ΩúÁ∫øÁ®ãÂíåÂûÉÂúæÊî∂ÈõÜÁ∫øÁ®ãÊòØÂêåÊó∂ËøêË°åÊàñËÄÖ‰∫§ÂèâËøêË°åÁöÑÔºåÈÇ£‰πàÂú®Âπ∂ÂèëÊ†áËÆ∞Èò∂ÊÆµÂ¶ÇÊûú‰∫ßÁîüÊñ∞ÁöÑÂûÉÂúæÂØπË±°ÔºåCMSÂ∞ÜÊó†Ê≥ïÂØπËøô‰∫õÂûÉÂúæÂØπË±°ËøõË°åÊ†áËÆ∞ÔºåÊúÄÁªà‰ºöÂØºËá¥Ëøô‰∫õÊñ∞‰∫ßÁîüÁöÑÂûÉÂúæÂØπË±°Ê≤°ÊúâË¢´ÂèäÊó∂ÂõûÊî∂Ôºå‰ªéËÄåÂè™ËÉΩÂú®‰∏ã‰∏ÄÊ¨°ÊâßË°åGCÊó∂ÈáäÊîæËøô‰∫õ‰πãÂâçÊú™Ë¢´ÂõûÊî∂ÁöÑÂÜÖÂ≠òÁ©∫Èó¥„ÄÇ ÂèÇÊï∞ËÆæÁΩÆ **-XX: UseConcMarkSweepGC **ÊâãÂä®ÊåáÂÆö‰ΩøÁî®CMSÊî∂ÈõÜÂô®ÊâßË°åÂÜÖÂ≠òÂõûÊî∂‰ªªÂä°„ÄÇÂºÄÂêØËØ•ÂèÇÊï∞Âêé‰ºöËá™Âä®Â∞Ü -XX: UseParNEWGCÊâìÂºÄ„ÄÇÂç≥Ôºö ParNew( YoungÂå∫Áî®) +CMS(OldÂå∫Áî®) Serial OldÁöÑÁªÑÂêà„ÄÇ -XX: CMSLnitiatingOccupanyFraction ËÆæÁΩÆÂ†ÜÂÜÖÂ≠ò‰ΩøÁî®ÁéáÁöÑÈòàÂÄºÔºå‰∏ÄÊó¶ËææÂà∞ËØ•ÈòàÂÄºÔºå‰æøÂºÄÂßãËøõË°åÂõûÊî∂„ÄÇJDK5Âèä‰ª•ÂâçÁâàÊú¨ÁöÑÈªòËÆ§ÂÄº‰∏∫68,Âç≥ÂΩìËÄÅÂπ¥‰ª£ÁöÑÁ©∫Èó¥‰ΩøÁî®ÁéáËææÂà∞68%Êó∂Ôºå‰ºöÊâßË°å‰∏ÄÊ¨°CMSÂõûÊî∂„ÄÇJDK6Âèä‰ª•‰∏äÁâàÊú¨ÈªòËÆ§ÂÄº‰∏∫92%„ÄÇÂ¶ÇÊûúÂÜÖÂ≠òÂ¢ûÈïøÁºìÊÖ¢ÔºåÂàôÂèØ‰ª•ËÆæÁΩÆ‰∏Ä‰∏™Á®çÂ§ßÁöÑÂÄºÔºåÂ§ßÁöÑÈòàÂÄºÂèØ‰ª•ÊúâÊïàÈôç‰ΩéCMSÁöÑËß¶ÂèëÈ¢ëÁéáÔºåÂáèÂ∞ëËÄÅÂπ¥‰ª£ÂõûÊî∂ÁöÑÊ¨°Êï∞ÂèØ‰ª•ËæÉ‰∏∫ÊòéÊòæÂú∞ÊîπÂñÑÂ∫îÁî®Á®ãÂ∫èÊÄßËÉΩ„ÄÇÂèç‰πãÔºåÂ¶ÇÊûúÂ∫îÁî®Á®ãÂ∫èÂÜÖÂ≠ò‰ΩøÁî®ÁéáÂ¢ûÈïøÂæàÂø´ÔºåÂàôÂ∫îËØ•Èôç‰ΩéËøô‰∏™ÈòàÂÄºÔºå‰ª•ÈÅøÂÖçÈ¢ëÁπÅËß¶ÂèëËÄÅÂπ¥‰ª£‰∏≤Ë°åÊî∂ÈõÜÂô®„ÄÇÂõ†Ê≠§ÈÄöËøáËØ•ÈÄâÈ°π‰æøÂèØ‰ª•ÊúâÊïàÈôç‰ΩéFull GCÁöÑÊâßË°åÊ¨°Êï∞„ÄÇ **-XX: UseCMSCompactAtFullCollection **Áî®‰∫éÊåáÂÆöÂú®ÊâßË°åÂÆåFull GCÂêéÂØπÂÜÖÂ≠òÁ©∫Èó¥ËøõË°åÂéãÁº©Êï¥ÁêÜÔºå‰ª•Ê≠§ÈÅøÂÖçÂÜÖÂ≠òÁ¢éÁâáÁöÑ‰∫ßÁîü„ÄÇ‰∏çËøáÁî±‰∫éÂÜÖÂ≠òÂéãÁº©Êï¥ÁêÜËøáÁ®ãÊó†Ê≥ïÂπ∂ÂèëÊâßË°åÔºåÊâÄÂ∏¶Êù•ÁöÑÈóÆÈ¢òÂ∞±ÊòØÂÅúÈ°øÊó∂Èó¥ÂèòÂæóÊõ¥Èïø‰∫Ü„ÄÇ -XX: CMSFullGCsBeforeCompaction ËÆæÁΩÆÂú®ÊâßË°åÂ§öÂ∞ëÊ¨°Full GCÂêéÂØπÂÜÖÂ≠òÁ©∫Èó¥ËøõË°åÂéãÁº©Êï¥ÁêÜ„ÄÇ -XX: ParalellCMSThreads ËÆæÁΩÆCMSÁöÑÁ∫øÁ®ãÊï∞Èáè„ÄÇCMSÈªòËÆ§ÂêØÂä®ÁöÑÁ∫øÁ®ãÊï∞ÊòØ(ParalellCMSThreads+3)/4„ÄÇParalellCMSThreadsÊòØÂπ¥ËΩª‰ª£Âπ∂Ë°åÊî∂ÈõÜÂô®ÁöÑÁ∫øÁ®ãÊï∞„ÄÇÂΩìCPUËµÑÊ∫êÊØîËæÉÁ¥ßÂº†Êó∂ÔºåÂèóÂà∞CMSÊî∂ÈõÜÂô®Á∫øÁ®ãÁöÑÂΩ±ÂìçÔºåÂ∫îÁî®Á®ãÂ∫èÁöÑÊÄßËÉΩÂú®ÂûÉÂúæÂõûÊî∂Èò∂ÊÆµÂèØËÉΩ‰ºöÈùûÂ∏∏Á≥üÁ≥ï„ÄÇ ÊÄªÁªì Â∞èÁªìÔºö HotSpotÊúâËøô‰πàÂ§öÁöÑÂûÉÂúæÂõûÊî∂Âô®ÔºåÈÇ£‰πàÂ¶ÇÊûúÊúâ‰∫∫ÈóÆÔºå Serial GC„ÄÅParalleGC„ÄÅConcurrent Mark Sweep GC.Ëøô‰∏â‰∏™GCÊúâ‰ªÄ‰πà‰∏çÂêåÂë¢Ôºü ËØ∑ËÆ∞‰Ωè‰ª•‰∏ãÂè£‰ª§Ôºö Â¶ÇÊûú‰Ω†ÊÉ≥Ë¶ÅÊúÄÂ∞èÂåñÂú∞‰ΩøÁî®ÂÜÖÂ≠òÂíåÂπ∂Ë°åÂºÄÈîÄÔºåËØ∑ÈÄâ Serial GC; Â¶ÇÊûú‰Ω†ÊÉ≥Ë¶ÅÊúÄÂ§ßÂåñÂ∫îÁî®Á®ãÂ∫èÁöÑÂêûÂêêÈáèÔºåËØ∑ÈÄâ Paralle GC; Â¶ÇÊûú‰Ω†ÊÉ≥Ë¶ÅÊúÄÂ∞èÂåñGCÁöÑ‰∏≠Êñ≠ÊàñÂÅúÈ°øÊó∂Èó¥ÔºåËØ∑ÈÄâ CMS GC„ÄÇ JDK9Êñ∞ÁâπÊÄßÔºöCMS Ë¢´Ê†áËÆ∞‰∏∫ Deprecate(JEP291)„ÄÇÂ¶ÇÊûúÂØπJDK9Âèä‰ª•‰∏äÁâàÊú¨ÁöÑ Hotspot,ËôöÊãüÊú∫‰ΩøÁî®ÂèÇÊï∞ -XX: UseConcMarkSweepGC Êù•ÂºÄÂêØCMSÊî∂ÈõÜÂô®ÁöÑËØùÔºåÁî®Êà∑‰ºöÊî∂Âà∞‰∏Ä‰∏™Ë≠¶Âëä‰ø°ÊÅØÔºåÊèêÁ§∫CMSÊú™Êù•Â∞Ü‰ºöË¢´Â∫üÂºÉ„ÄÇ DK14Êñ∞ÁâπÊÄßÔºöÂà†Èô§CMSÂûÉÂúæÂõûÊî∂Âô®(JEP363)ÁßªÈô§‰∫ÜCMSÂûÉÂúæÊî∂ÈõÜÂô®ÔºåÂ¶ÇÊûúÂú®JDK14‰∏≠‰ΩøÁî® -XX: UseConcMarkSweepGCÁöÑËØùÔºåJVM‰∏ç‰ºöÊä•ÈîôÔºåÂè™ÊòØÁªôÂá∫‰∏Ä‰∏™warning‰ø°ÊÅØÔºå‰ΩÜÊòØ‰∏ç‰ºöexit„ÄÇJVM‰ºöËá™Âä®ÂõûÈÄÄ‰ª•ÈªòËÆ§GCÊñπÂºèÂêØÂä®JVM„ÄÇ G1 Âå∫ÂüüÂàÜ‰ª£Âåñ ‰∏∫‰ªÄ‰πàÂêçÂ≠óÂè´ÂÅö Garbage First(G1)Âë¢Ôºü Âõ†‰∏∫G1ÊòØ‰∏Ä‰∏™Âπ∂Ë°åÂõûÊî∂Âô®ÔºåÂÆÉÊääÂ†ÜÂÜÖÂ≠òÂàÜÂâ≤‰∏∫ÂæàÂ§ö‰∏çÁõ∏ÂÖ≥ÁöÑÂå∫Âüü( Region)ÔºàÁâ©ÁêÜ‰∏ä‰∏çËøûÁª≠ÁöÑÔºâ„ÄÇ‰ΩøÁî®‰∏çÂêåÁöÑ RegionÊù•Ë°®Á§∫Eden„ÄÅÂπ∏Â≠òËÄÖ0Âå∫ÔºåÂπ∏Â≠òËÄÖ1Âå∫ÔºåËÄÅÂπ¥‰ª£Á≠â„ÄÇ G1 GCÊúâËÆ°ÂàíÂú∞ÈÅøÂÖçÂú®Êï¥‰∏™JavaÂ†Ü‰∏≠ËøõË°åÂÖ®Âå∫ÂüüÁöÑÂûÉÂúæÊî∂ÈõÜ„ÄÇG1Ë∑üË∏™ÂêÑ‰∏™ RegionÈáåÈù¢ÁöÑÂûÉÂúæÂ†ÜÁßØÁöÑ‰ª∑ÂÄºÂ§ßÂ∞èÔºàÂõûÊî∂ÊâÄËé∑ÂæóÁöÑÁ©∫Èó¥Â§ßÂ∞è‰ª•ÂèäÂõûÊî∂ÊâÄÈúÄÊó∂Èó¥ÁöÑÁªèÈ™åÂÄºÔºâÔºåÂú®ÂêéÂè∞Áª¥Êä§‰∏Ä‰∏™‰ºòÂÖàÂàóË°®ÔºåÊØèÊ¨°Ê†πÊçÆÂÖÅËÆ∏ÁöÑÊî∂ÈõÜÊó∂Èó¥Ôºå‰ºòÂÖàÂõûÊî∂‰ª∑ÂÄºÊúÄÂ§ßÁöÑ RegionÁî±‰∫éËøôÁßçÊñπÂºèÁöÑ‰æßÈáçÁÇπÂú®‰∫éÂõûÊî∂ÂûÉÂúæÊúÄÂ§ßÈáèÁöÑÂå∫Èó¥( Region),ÊâÄ‰ª•Êàë‰ª¨ÁªôG1‰∏Ä‰∏™ÂêçÂ≠óÔºöÂûÉÂúæ‰ºòÂÖà(Garbage First)„ÄÇ Êó¢ÁÑ∂Êàë‰ª¨Â∑≤ÁªèÊúâ‰∫ÜÂâçÈù¢Âá†‰∏™Âº∫Â§ßÁöÑGC,‰∏∫‰ªÄ‰πàËøòË¶ÅÂèëÂ∏É Garbage First(G1)GC? ÂéüÂõ†Â∞±Âú®‰∫éÂ∫îÁî®Á®ãÂ∫èÊâÄÂ∫îÂØπÁöÑ‰∏öÂä°Ë∂äÊù•Ë∂äÂ∫ûÂ§ß„ÄÅÂ§çÊùÇÔºåÁî®Êà∑Ë∂äÊù•Ë∂äÂ§öÔºåÊ≤°ÊúâGCÂ∞±‰∏çËÉΩ‰øùËØÅÂ∫îÁî®Á®ãÂ∫èÊ≠£Â∏∏ËøõË°åÔºåËÄåÁªèÂ∏∏ÈÄ†ÊàêSTWÁöÑGCÂèàË∑ü‰∏ç‰∏äÂÆûÈôÖÁöÑÈúÄÊ±ÇÔºåÊâÄ‰ª•Êâç‰ºö‰∏çÊñ≠Âú∞Â∞ùËØïÂØπGCËøõË°å‰ºòÂåñ„ÄÇG1( Garbage- First)ÂûÉÂúæÂõûÊî∂Âô®ÊòØÂú®Java7 update4‰πãÂêéÂºïÂÖ•ÁöÑ‰∏Ä‰∏™Êñ∞ÁöÑÂûÉÂúæÂõûÊî∂Âô®ÔºåÊòØÂΩì‰ªäÊî∂ÈõÜÂô®ÊäÄÊúØÂèëÂ±ïÁöÑÊúÄÂâçÊ≤øÊàêÊûú‰πã‰∏Ä„ÄÇ ‰∏éÊ≠§ÂêåÊó∂Ôºå‰∏∫‰∫ÜÈÄÇÂ∫îÁé∞Âú®‰∏çÊñ≠Êâ©Â§ßÁöÑÂÜÖÂ≠òÂíå‰∏çÊñ≠Â¢ûÂä†ÁöÑÂ§ÑÁêÜÂô®Êï∞ÈáèÔºåËøõ‰∏ÄÊ≠•Èôç‰ΩéÊöÇÂÅúÊó∂Èó¥( pause time),ÂêåÊó∂ÂÖºÈ°æËâØÂ•ΩÁöÑÂêûÂêêÈáè„ÄÇÂÆòÊñπÁªôG1ËÆæÂÆöÁöÑÁõÆÊ†áÊòØÂú®Âª∂ÈÄÄÂèØÊéßÁöÑÊÉÖÂÜµ‰∏ãËé∑ÂæóÂ∞ΩÂèØËÉΩÈ´òÁöÑÂêûÂêêÈáèÔºåÊâÄ‰ª•ÊâçÊãÖÂΩìËµ∑‚ÄúÂÖ®ÂäüËÉΩÊî∂ÈõÜÂô®‚ÄùÁöÑÈáç‰ªª‰∏éÊúüÊúõ„ÄÇ ‚Äã G1( Garbage- First)ÊòØ‰∏ÄÊ¨æÈù¢ÂêëÊúçÂä°Á´ØÂ∫îÁî®ÁöÑÂûÉÂúæÊî∂ÈõÜÂô®Ôºå‰∏ªË¶ÅÈíàÂØπÈÖçÂ§áÂ§öÊ†∏CPUÂèäÂ§ßÂÆπÈáèÂÜÖÂ≠òÁöÑÊú∫Âô®Ôºå‰ª•ÊûÅÈ´òÊ¶ÇÁéáÊª°Ë∂≥GCÂÅúÈ°øÊó∂Èó¥ÁöÑÂêåÊó∂ÔºåËøòÂÖºÂÖ∑È´òÂêûÂêêÈáèÁöÑÊÄßËÉΩÁâπÂæÅ„ÄÇ ‚Äã Âú®JDK1.7ÁâàÊú¨Ê≠£ÂºèÂêØÁî®ÔºåÁßªÈô§‰∫Ü ExperimentalÁöÑÊ†áËØÜÔºåÊòØJDK9‰ª•ÂêéÁöÑÈªòËÆ§ÂûÉÂúæÂõûÊî∂Âô®ÔºåÂèñ‰ª£‰∫ÜCMSÂõûÊî∂Âô®‰ª•ÂèäParalel Parallel OldÁªÑÂêà„ÄÇË¢´ OracleÂÆòÊñπÁß∞‰∏∫‚ÄúÂÖ®ÂäüËÉΩÁöÑÂûÉÂúæÊî∂ÈõÜÂô®‚Äù„ÄÇ‰∏éÊ≠§ÂêåÊó∂ÔºåCMSÂ∑≤ÁªèÂú®JDK9‰∏≠Ë¢´Ê†áËÆ∞‰∏∫Â∫üÂºÉ( deprecated)„ÄÇÂú®jdk8‰∏≠Ëøò‰∏çÊòØÈªòËÆ§ÁöÑÂûÉÂúæÂõûÊî∂Âô®ÔºåÈúÄË¶Å‰ΩøÁî® -XX: UseG1GCÊù•ÂêØÁî®„ÄÇ ‰ºòÂäø ‰∏éÂÖ∂‰ªñGCÊî∂ÈõÜÂô®Áõ∏ÊØîÔºåG1‰ΩøÁî®‰∫ÜÂÖ®Êñ∞ÁöÑÂàÜÂå∫ÁÆóÊ≥ïÔºåÂÖ∂ÁâπÁÇπÂ¶Ç‰∏ãÊâÄÁ§∫Ôºö Âπ∂Ë°å‰∏éÂπ∂Âèë Âπ∂Ë°åÊÄßÔºöG1Âú®ÂõûÊî∂ÊúüÈó¥ÔºåÂèØ‰ª•ÊúâÂ§ö‰∏™GCÁ∫øÁ®ãÂêåÊó∂Â∑•‰ΩúÔºåÊúâÊïàÂà©Áî®Â§öÊ†∏ËÆ°ÁÆóËÉΩÂäõ„ÄÇÊ≠§Êó∂Áî®Êà∑Á∫øÁ®ãSTW Âπ∂ÂèëÊÄßÔºöG1Êã•Êúâ‰∏éÂ∫îÁî®Á®ãÂ∫è‰∫§ÊõøÊâßË°åÁöÑËÉΩÂäõÔºåÈÉ®ÂàÜÂ∑•‰ΩúÂèØ‰ª•ÂíåÂ∫îÁî®Á®ãÂ∫èÂêåÊó∂ÊâßË°åÔºåÂõ†Ê≠§Ôºå‰∏ÄËà¨Êù•ËØ¥Ôºå‰∏ç‰ºöÂú®Êï¥‰∏™ÂõûÊî∂Èò∂ÊÆµÂèëÁîüÂÆåÂÖ®ÈòªÂ°ûÂ∫îÁî®Á®ãÂ∫èÁöÑÊÉÖÂÜµ„ÄÇ ÂàÜ‰ª£Êî∂ÈõÜ ‰ªéÂàÜ‰ª£‰∏äÁúãÔºåG1‰æùÁÑ∂Â±û‰∫éÂàÜ‰ª£ÂûãÂûÉÂúæÂõûÊî∂Âô®ÔºåÂÆÉ‰ºöÂå∫ÂàÜÂπ¥ËΩª‰ª£ÂíåËÄÅÂπ¥‰ª£ÔºåÂπ¥ËΩª‰ª£‰æùÁÑ∂ÊúâEdenÂå∫Âíå SurvivorÂå∫„ÄÇ‰ΩÜ‰ªéÂ†ÜÁöÑÁªìÊûÑ‰∏äÁúãÔºåÂÆÉ‰∏çË¶ÅÊ±ÇÊï¥‰∏™EdenÂå∫„ÄÅÂπ¥ËΩª‰ª£ÊàñËÄÖËÄÅÂπ¥‰ª£ÈÉΩÊòØËøûÁª≠ÁöÑÔºå‰πü‰∏çÂÜçÂùöÊåÅÂõ∫ÂÆöÂ§ßÂ∞èÂíåÂõ∫ÂÆöÊï∞Èáè„ÄÇÂ∞ÜÂ†ÜÁ©∫Èó¥ÂàÜ‰∏∫Ëã•Âπ≤‰∏™Âå∫Âüü( Region),Ëøô‰∫õÂå∫Âüü‰∏≠ÂåÖÂê´‰∫ÜÈÄªËæë‰∏äÁöÑÂπ¥ËΩª‰ª£ÂíåËÄÅÂπ¥‰ª£„ÄÇÂíå‰πãÂâçÁöÑÂêÑÁ±ªÂõûÊî∂Âô®‰∏çÂêåÔºåÂÆÉÂêåÊó∂ÂÖºÈ°æÂπ¥ËΩª‰ª£ÂíåËÄÅÂπ¥‰ª£„ÄÇÂØπÊØîÂÖ∂‰ªñÂõûÊî∂Âô®ÔºåÊàñËÄÖÂ∑•‰ΩúÂú®Âπ¥ËΩª‰ª£ÔºåÊàñËÄÖÂ∑•‰ΩúÂú®ËÄÅÂπ¥‰ª£Ôºõ Á©∫Èó¥Êï¥Âêà ‚Äã CMS:‚ÄúÊ†áËÆ∞-Ê∏ÖÈô§‚ÄùÁÆóÊ≥ï„ÄÅÂÜÖÂ≠òÁ¢éÁâá„ÄÅËã•Âπ≤Ê¨°GCÂêéËøõË°å‰∏ÄÊ¨°Á¢éÁâáÊï¥ÁêÜ„ÄÇG1Â∞ÜÂÜÖÂ≠òÂàíÂàÜ‰∏∫‰∏Ä‰∏™‰∏™ÁöÑ region„ÄÇÂÜÖÂ≠òÁöÑÂõûÊî∂ÊòØ‰ª• regiont‰Ωú‰∏∫Âü∫Êú¨Âçï‰ΩçÁöÑ„ÄÇRegion‰πãÈó¥ÊòØÂ§çÂà∂ÁÆóÊ≥ïÔºå‰ΩÜÊï¥‰Ωì‰∏äÂÆûÈôÖÂèØÁúã‰ΩúÊòØÊ†áËÆ∞‰∏ÄÂéãÁº©ÔºàMark- CompactÁÆóÊ≥ïÔºå‰∏§ÁßçÁÆóÊ≥ïÈÉΩÂèØ‰ª•ÈÅøÂÖçÂÜÖÂ≠òÁ¢éÁâá„ÄÇËøôÁßçÁâπÊÄßÊúâÂà©‰∫éÁ®ãÂ∫èÈïøÊó∂Èó¥ËøêË°åÔºåÂàÜÈÖçÂ§ßÂØπË±°Êó∂‰∏ç‰ºöÂõ†‰∏∫Êó†Ê≥ïÊâæÂà∞ËøûÁª≠ÂÜÖÂ≠òÁ©∫Èó¥ËÄåÊèêÂâçËß¶Âèë‰∏ã‰∏ÄÊ¨°GC„ÄÇÂ∞§ÂÖ∂ÊòØÂΩìJavaÂ†ÜÈùûÂ∏∏Â§ßÁöÑÊó∂ÂÄôÔºåG1ÁöÑ‰ºòÂäøÊõ¥Âä†ÊòéÊòæ„ÄÇ ÂèØÈ¢ÑÊµãÁöÑÂÅúÈ°øÊó∂Èó¥Ê®°Âûã(Âç≥ÔºöËΩØÂÆûÊó∂ soft real-time) ‚Äã ËøôÊòØG1Áõ∏ÂØπ‰∫éCMSÁöÑÂè¶‰∏ÄÂ§ß‰ºòÂäøÔºåG1Èô§‰∫ÜËøΩÊ±Ç‰ΩéÂÅúÈ°øÂ§ñÔºåËøòËÉΩÂª∫Á´ãÂèØÈ¢ÑÊµãÁöÑÂÅúÈ°øÊó∂Èó¥Ê®°ÂûãÔºåËÉΩËÆ©‰ΩøÁî®ËÄÖÊòéÁ°ÆÊåáÂÆöÂú®‰∏Ä‰∏™ÈïøÂ∫¶‰∏∫MÊØ´ÁßíÁöÑÊó∂Èó¥ÁâáÊÆµÂÜÖÔºåÊ∂àËÄóÂú®ÂûÉÂúæÊî∂ÈõÜ‰∏äÁöÑÊó∂Èó¥‰∏çÂæóË∂ÖËøáNÊØ´Áßí„ÄÇÁî±‰∫éÂàÜÂå∫ÁöÑÂéüÂõ†ÔºåG1ÂèØ‰ª•Âè™ÈÄâÂèñÈÉ®ÂàÜÂå∫ÂüüËøõË°åÂÜÖÂ≠òÂõûÊî∂ÔºåËøôÊ†∑Áº©Â∞è‰∫ÜÂõûÊî∂ÁöÑËåÉÂõ¥ÔºåÂõ†Ê≠§ÂØπ‰∫éÂÖ®Â±ÄÂÅúÈ°øÊÉÖÂÜµÁöÑÂèëÁîü‰πüËÉΩÂæóÂà∞ËæÉÂ•ΩÁöÑÊéßÂà∂„ÄÇ ‚Äã G1Ë∑üË∏™ÂêÑ‰∏™ Region ÈáåÈù¢ÁöÑÂûÉÂúæÂ†ÜÁßØÁöÑ‰ª∑ÂÄºÂ§ßÂ∞èÔºàÂõûÊî∂ÊâÄËé∑ÂæóÁöÑÁ©∫Èó¥Â§ßÂ∞è‰ª•ÂèäÂõûÊî∂ÊâÄÈúÄÊó∂Èó¥ÁöÑÁªèÈ™åÂÄºÔºâÔºåÂú®ÂêéÂè∞Áª¥Êä§‰∏Ä‰∏™‰ºòÂÖàÂàóË°®ÔºåÊØèÊ¨°Ê†πÊçÆÂÖÅËÆ∏ÁöÑÊî∂ÈõÜÊó∂Èó¥Ôºå‰ºòÂÖàÂõûÊî∂‰ª∑ÂÄºÊúÄÂ§ßÁöÑ Region„ÄÇ‰øùËØÅ‰∫ÜG1Êî∂ÈõÜÂô®Âú®ÊúâÈôêÁöÑÊó∂Èó¥ÂÜÖÂèØ‰ª•Ëé∑ÂèñÂ∞ΩÂèØËÉΩÈ´òÁöÑÊî∂ÈõÜÊïàÁéá„ÄÇÁõ∏ÊØî‰∫é CMS GC,G1Êú™ÂøÖËÉΩÂÅöÂà∞CMSÂú®ÊúÄÂ•ΩÊÉÖÂÜµ‰∏ãÁöÑÂª∂Êó∂ÂÅúÈ°øÔºå‰ΩÜÊòØÊúÄÂ∑ÆÊÉÖÂÜµË¶ÅÂ•ΩÂæàÂ§ö„ÄÇ ‚Äã Áõ∏ËæÉ‰∫éCMS,G1Ëøò‰∏çÂÖ∑Â§áÂÖ®Êñπ‰Ωç„ÄÅÂéãÂÄíÊÄß‰ºòÂäø„ÄÇÊØîÂ¶ÇÂú®Áî®Êà∑Á®ãÂ∫èËøêË°åËøáÁ®ã‰∏≠ÔºåG1Êó†ËÆ∫ÊòØ‰∏∫‰∫ÜÂûÉÂúæÊî∂ÈõÜ‰∫ßÁîüÁöÑÂÜÖÂ≠òÂç†Áî®( Footprint)ËøòÊòØÁ®ãÂ∫èËøêË°åÊó∂ÁöÑÈ¢ùÂ§ñÊâßË°åË¥üËΩΩ( overload)ÈÉΩË¶ÅÊØîCMSË¶ÅÈ´ò„ÄÇ‰ªéÁªèÈ™å‰∏äÊù•ËØ¥ÔºåÂú®Â∞èÂÜÖÂ≠òÂ∫îÁî®‰∏äCMSÁöÑË°®Áé∞Â§ßÊ¶ÇÁéá‰ºö‰ºò‰∫éG1,ËÄåG1Âú®Â§ßÂÜÖÂ≠òÂ∫îÁî®‰∏äÂàôÂèëÊå•ÂÖ∂‰ºòÂäø„ÄÇÂπ≥Ë°°ÁÇπÂú®6-8GB‰πãÈó¥„ÄÇ ÂèÇÊï∞ËÆæÁΩÆ -XX:+UseG1GCÊâãÂä®ÊåáÂÆö‰ΩøÁî®G1Êî∂ÈõÜÂô®ÊâßË°åÂÜÖÂ≠òÂõûÊî∂‰ªªÂä° -XX:G1HeapRegionSizeËÆæÁΩÆÊØè‰∏™ RegionlÁöÑÂ§ßÂ∞è„ÄÇÂÄºÊòØ2ÁöÑÂπÇÔºåËåÉÂõ¥ÊòØ1MBÂà∞32MB‰πãÈó¥ÔºåÁõÆÊ†áÊòØÊ†πÊçÆÊúÄÂ∞èÁöÑJavaÂ†ÜÂ§ßÂ∞èÂàíÂàÜÂá∫Á∫¶2048‰∏™Âå∫Âüü„ÄÇÈªòËÆ§ÊòØÂ†ÜÂÜÖÂ≠òÁöÑ1/2000 -XX: MaxGCPauseMilllisËÆæÁΩÆÊúüÊúõËææÂà∞ÁöÑÊúÄÂ§ßGCÂÅúÈ°øÊó∂Èó¥ÊåáÊ†áÔºàJVM‰ºöÂ∞ΩÂäõÂÆûÁé∞Ôºå‰ΩÜ‰∏ç‰øùËØÅËææÂà∞Ôºâ,ÈªòËÆ§ÂÄºÊòØ200ms„ÄÇ -XX:ParallelGCThreadsËÆæÁΩÆSTWÂ∑•‰ΩúÁ∫øÁ®ãÊï∞ÁöÑÂÄº„ÄÇÊúÄÂ§öËÆæÁΩÆ‰∏∫8„ÄÇ -XX:ConcGCThreadsËÆæÁΩÆÂπ∂ÂèëÊ†áËÆ∞ÁöÑÁ∫øÁ®ãÊï∞„ÄÇÂ∞ÜnËÆæÁΩÆ‰∏∫Âπ∂Ë°åÂûÉÂúæÂõûÊî∂Á∫øÁ®ãÊï∞(ParallelGCThreadS)ÁöÑ1/4Â∑¶Âè≥„ÄÇ -XX: InitiatingHeapOccupancyPercentËÆæÁΩÆËß¶ÂèëÂπ∂ÂèëGCÂë®ÊúüÁöÑJava„ÄÇÂ†ÜÂç†Áî®ÁéáÈòàÂÄº„ÄÇË∂ÖËøáÊ≠§ÂÄºÔºåÂ∞±Ëß¶ÂèëGC„ÄÇÈªòËÆ§ÂÄºÊòØ45„ÄÇ G1ÂõûÊî∂Âô®Â∏∏ËßÅÊ≠•È™§ G1ÁöÑËÆæËÆ°ÂéüÂàôÂ∞±ÊòØÁÆÄÂåñJVMÊÄßËÉΩË∞É‰ºòÔºåÂºÄÂèë‰∫∫ÂëòÂè™ÈúÄË¶ÅÁÆÄÂçïÁöÑ‰∏âÊ≠•Âç≥ÂèØÂÆåÊàêË∞É‰ºò Á¨¨‰∏ÄÊ≠•ÔºöÂºÄÂêØG1ÂûÉÂúæÊî∂ÈõÜÂô® Á¨¨‰∫åÊ≠•ÔºöËÆæÁΩÆÂ†ÜÁöÑÊúÄÂ§ßÂÜÖÂ≠ò Á¨¨‰∏âÊ≠•ÔºöËÆæÁΩÆÊúÄÂ§ßÁöÑÂÅúÈ°øÊó∂Èó¥ G1‰∏≠Êèê‰æõ‰∫Ü‰∏âÁßçÂûÉÂúæÂõûÊî∂Ê®°ÂºèÔºö YoungGC„ÄÅ Mixed GCÂíåFullGC,Âú®‰∏çÂêåÁöÑÊù°‰ª∂‰∏ãË¢´Ëß¶Âèë„ÄÇ ‰ΩøÁî®Âú∫ÊôØ Èù¢ÂêëÊúçÂä°Á´ØÂ∫îÁî®ÔºåÈíàÂØπÂÖ∑ÊúâÂ§ßÂÜÖÂ≠ò„ÄÅÂ§öÂ§ÑÁêÜÂô®ÁöÑÊú∫Âô®„ÄÇÔºàÂú®ÊôÆÈÄöÂ§ßÂ∞èÁöÑÂ†ÜÈáåË°®Áé∞Âπ∂‰∏çÊÉäÂñúÔºâ ÊúÄ‰∏ªË¶ÅÁöÑÂ∫îÁî®ÊòØÈúÄË¶Å‰ΩéGCÂª∂ËøüÔºåÂπ∂ÂÖ∑ÊúâÂ§ßÂ†ÜÁöÑÂ∫îÁî®Á®ãÂ∫èÊèê‰æõËß£ÂÜ≥ÊñπÊ°àÔºõÂ¶ÇÔºöÂú®Â†ÜÂ§ßÂ∞èÁ∫¶6GBÊàñÊõ¥Â§ßÊó∂ÔºåÂèØÈ¢ÑÊµãÁöÑÊöÇÂÅúÊó∂Èó¥ÂèØ‰ª•‰Ωé‰∫é8.5ÁßíÔºõÔºàG1ÈÄöËøáÊØèÊ¨°Âè™Ê∏ÖÁêÜ‰∏ÄÈÉ®ÂàÜËÄå‰∏çÊòØÂÖ®ÈÉ®ÁöÑ RegionÁöÑÂ¢ûÈáèÂºèÊ∏ÖÁêÜÊù•‰øùËØÅÊØèÊ¨°GÂÅúÈ°øÊó∂Èó¥‰∏ç‰ºöËøáÈïøÔºâÁî®Êù•ÊõøÊç¢ÊéâJDK1.5‰∏≠ÁöÑCMSÊî∂ÈõÜÂô® Âú®‰∏ãÈù¢ÁöÑÊÉÖÂÜµÊó∂Ôºå‰ΩøÁî®G1ÂèØËÉΩÊØîCMSÂ•ΩÔºö ‚ë†Ë∂ÖËøá50%ÁöÑJavaÂ†ÜË¢´Ê¥ªÂä®Êï∞ÊçÆÂç†Áî®Ôºõ ‚ë°ÂØπË±°ÂàÜÈÖçÈ¢ëÁéáÊàñÂπ¥‰ª£ÊèêÂçáÈ¢ëÁéáÂèòÂåñÂæàÂ§ßÔºõ ‚ë¢GCÂÅúÈ°øÊó∂Èó¥ËøáÈïø(Èïø‰∫é6.5Ëá≥1Áßí)Ôºõ HotspotÂûÉÂúæÊî∂ÈõÜÂô®ÈáåÔºåÈô§‰∫ÜG1‰ª•Â§ñÔºåÂÖ∂‰ªñÁöÑÂûÉÂúæÊî∂ÈõÜÂô®‰ΩøÁî®ÂÜÖÁΩÆÁöÑJVMÁ∫øÁ®ãÊâßË°å„ÄÇGCÁöÑÂ§öÁ∫øÁ®ãÊìç‰ΩúÔºåËÄåG1GCÂèØ‰ª•ÈááÁî®Â∫îÁî®Á∫øÁ®ãÊâøÊãÖÂêéÂè∞ËøêË°åÁöÑGCÂ∑•‰ΩúÔºåÂç≥ÂΩìJVMÁöÑGCÁ∫øÁ®ãÂ§ÑÁêÜÈÄüÂ∫¶ÊÖ¢Êó∂ÔºåÁ≥ªÁªü‰ºöË∞ÉÁî®Â∫îÁî®Á®ãÂ∫èÁ∫øÁ®ãÂ∏ÆÂä©Âä†ÈÄüÂûÉÂúæÂõûÊî∂ËøáÁ®ã„ÄÇ Region ‚Äã ‰ΩøÁî®G1Êî∂ÈõÜÂô®Êó∂ÔºåÂÆÉÂ∞ÜÊï¥‰∏™JavaÂ†ÜÂàíÂàÜÊàêÁ∫¶2048‰∏™Â§ßÂ∞èÁõ∏ÂêåÁöÑÁã¨Á´ã RegionÂùóÔºåÊØè‰∏™ RegionÂùóÂ§ßÂ∞èÊ†πÊçÆÂ†ÜÁ©∫Èó¥ÁöÑÂÆûÈôÖÂ§ßÂ∞èËÄåÂÆöÔºåÊï¥‰ΩìË¢´ÊéßÂà∂Âú®1MBÂà∞32MB‰πãÈó¥Ôºå‰∏î‰∏∫2ÁöÑNÊ¨°ÂπÇÔºåÂç≥1MB,2MB,4MB,8MB,16MB,32MB„ÄÇÂèØ‰ª•ÈÄöËøá**-XX:G1HeapRegionSize**ËÆæÂÆö„ÄÇÊâÄÊúâÁöÑ RegionÂ§ßÂ∞èÁõ∏ÂêåÔºå‰∏îÂú®JVMÁîüÂëΩÂë®ÊúüÂÜÖ‰∏ç‰ºöË¢´ÊîπÂèò„ÄÇ ‚Äã ËôΩÁÑ∂Ëøò‰øùÁïôÊúâÊñ∞Áîü‰ª£ÂíåËÄÅÂπ¥‰ª£ÁöÑÊ¶ÇÂøµÔºå‰ΩÜÊñ∞Áîü‰ª£ÂíåËÄÅÂπ¥‰ª£‰∏çÂÜçÊòØÁâ©ÁêÜÈöîÁ¶ªÁöÑ‰∫ÜÔºåÂÆÉ‰ª¨ÈÉΩÊòØ‰∏ÄÈÉ®ÂàÜ RegionÔºà‰∏çÈúÄË¶ÅËøûÁª≠ÔºâÁöÑÈõÜÂêà„ÄÇÈÄöËøá RegionÁöÑÂä®ÊÄÅÂàÜÈÖçÊñπÂºèÂÆûÁé∞ÈÄªËæë‰∏äÁöÑËøûÁª≠„ÄÇ ‚Äã ‰∏Ä‰∏™ regionÊúâÂèØËÉΩÂ±û‰∫éEden, SurvivorÊàñËÄÖOld/ TenuredÂÜÖÂ≠òÂå∫Âüü„ÄÇ‰ΩÜÊòØ ‰∏Ä‰∏™ regionÂè™ÂèØËÉΩÂ±û‰∫é‰∏Ä‰∏™ËßíËâ≤„ÄÇÂõæ‰∏≠ÁöÑEË°®Á§∫ËØ• regionÂ±û‰∫éEdenÂÜÖÂ≠òÂå∫ÂüüÔºåSË°®Á§∫Â±û‰∫é SurvivorÂÜÖÂ≠òÂå∫ÂüüÔºåOË°®Á§∫Â±û‰∫éOldÂÜÖÂ≠òÂå∫Âüü„ÄÇÂõæ‰∏≠Á©∫ÁôΩÁöÑË°®Á§∫Êú™‰ΩøÁî®ÁöÑÂÜÖÂ≠òÁ©∫Èó¥„ÄÇ ‚Äã G1ÂûÉÂúæÊî∂ÈõÜÂô®ËøòÂ¢ûÂä†‰∫Ü‰∏ÄÁßçÊñ∞ÁöÑÂÜÖÂ≠òÂå∫ÂüüÔºåÂè´ÂÅö HumongousÂÜÖÂ≠òÂå∫ÂüüÔºåÂ¶ÇÂõæ‰∏≠ÁöÑHÂùó„ÄÇ‰∏ªË¶ÅÁî®‰∫éÂ≠òÂÇ®Â§ßÂØπË±°ÔºåÂ¶ÇÊûúË∂ÖËøá1.5‰∏™ region,Â∞±ÊîæÂà∞H„ÄÇ **ËÆæÁΩÆHÁöÑÂéüÂõ†Ôºö**ÂØπ‰∫éÂ†Ü‰∏≠ÁöÑÂ§ßÂØπË±°ÔºåÈªòËÆ§Áõ¥Êé•‰ºöË¢´ÂàÜÈÖçÂà∞ËÄÅÂπ¥‰ª£Ôºå‰ΩÜÊòØÂ¶ÇÊûúÂÆÉÊòØ‰∏Ä‰∏™Áü≠ÊúüÂ≠òÂú®ÁöÑÂ§ßÂØπË±°ÔºåÂ∞±‰ºöÂØπÂûÉÂúæÊî∂ÈõÜÂô®ÈÄ†ÊàêË¥üÈù¢ÂΩ±Âìç„ÄÇ‰∏∫‰∫ÜËß£ÂÜ≥Ëøô‰∏™ÈóÆÈ¢òÔºåG1ÂàíÂàÜ‰∫Ü‰∏Ä‰∏™ HumongousÂå∫„ÄÇÂÆÉÁî®Êù•‰∏ìÈó®Â≠òÊîæÂ§ßÂØπË±°„ÄÇÂ¶ÇÊûú‰∏Ä‰∏™HÂå∫Ë£Ö‰∏ç‰∏ã„Éº‰∏™Â§ßÂØπË±°ÔºåÈÇ£‰πàG1‰ºöÂØªÊâæËøûÁª≠ÁöÑHÂå∫Êù•Â≠òÂÇ®„ÄÇ‰∏∫‰∫ÜËÉΩÊâæÂà∞ËøûÁª≠ÁöÑHÂå∫ÔºåÊúâÊó∂ÂÄô‰∏çÂæó‰∏çÂêØÂä®Full GC.G1ÁöÑÂ§ßÂ§öÊï∞Ë°å‰∏∫ÈÉΩÊääHÂå∫‰Ωú‰∏∫ËÄÅÂπ¥‰ª£ÁöÑ‰∏ÄÈÉ®ÂàÜÊù•ÁúãÂæÖ„ÄÇ G1 ÂõûÊî∂ËøáÁ®ã G1 GCÁöÑÂûÉÂúæÂõûÊî∂ËøáÁ®ã‰∏ªË¶ÅÂåÖÊã¨Â¶Ç‰∏ã‰∏â‰∏™ÁéØËäÇ Âπ¥ËΩª‰ª£GC( Young GC) ËÄÅÂπ¥‰ª£Âπ∂ÂèëÊ†áËÆ∞ËøáÁ®ã( Concurrent Marking) Ê∑∑ÂêàÂõûÊî∂( Mixed GC) (Â¶ÇÊûúÈúÄË¶ÅÔºåÂçïÁ∫øÁ®ã„ÄÅÁã¨Âç†Âºè„ÄÅÈ´òÂº∫Â∫¶ÁöÑFullGCËøòÊòØÁªßÁª≠Â≠òÂú®ÁöÑ„ÄÇÂÆÉÈíàÂØπGCÁöÑËØÑ‰º∞Â§±Ë¥•Êèê‰æõ‰∫Ü‰∏ÄÁßçÂ§±Ë¥•‰øùÊä§Êú∫Âà∂ÔºåÂç≥Âº∫ÂäõÂõûÊî∂„ÄÇÔºâ ‚Äã Â∫îÁî®Á®ãÂ∫èÂàÜÈÖçÂÜÖÂ≠òÔºåÂΩìÂπ¥ËΩª‰ª£ÁöÑEdenÂå∫Áî®Â∞ΩÊó∂ÂºÄÂßãÂπ¥ËΩª‰ª£ÂõûÊî∂ËøáÁ®ãÔºõG1ÁöÑÂπ¥ËΩª‰ª£Êî∂ÈõÜÈò∂ÊÆµÊòØ‰∏Ä‰∏™Âπ∂Ë°åÁöÑÁã¨Âç†ÂºèÊî∂ÈõÜÂô®„ÄÇÂú®Âπ¥ËΩª‰ª£ÂõûÊî∂ÊúüÔºåG1GCÊöÇÂÅúÊâÄÊúâÂ∫îÁî®Á®ãÂ∫èÁ∫øÁ®ãÔºåÂêØÂä®Â§öÁ∫øÁ®ãÊâßË°åÂπ¥ËΩª‰ª£ÂõûÊî∂„ÄÇÁÑ∂Âêé‰ªéÂπ¥ËΩª‰ª£Âå∫Èó¥ÁßªÂä®Â≠òÊ¥ªÂØπË±°Âà∞ SurvivorÂå∫Èó¥ÊàñËÄÖËÄÅÂπ¥Âå∫Èó¥Ôºå‰πüÊúâÂèØËÉΩÊòØ‰∏§‰∏™Âå∫Èó¥ÈÉΩ‰ºöÊ∂âÂèä„ÄÇ ÂΩìÂ†ÜÂÜÖÂ≠ò‰ΩøÁî®ËææÂà∞‰∏ÄÂÆöÂÄº(ÈªòËÆ§45%)Êó∂ÔºåÂºÄÂßãËÄÅÂπ¥‰ª£Âπ∂ÂèëÊ†áËÆ∞ËøáÁ®ã„ÄÇÊ†áËÆ∞ÂÆåÊàêÈ©¨‰∏äÂºÄÂßãÊ∑∑ÂêàÂõûÊî∂ËøáÁ®ã„ÄÇÂØπ‰∫é‰∏Ä‰∏™Ê∑∑ÂêàÂõûÊî∂ÊúüÔºåG1GC‰ªéËÄÅÂπ¥Âå∫Èó¥ÁßªÂä®Â≠òÊ¥ªÂØπË±°Âà∞Á©∫Èó≤Âå∫Èó¥ÔºåËøô‰∫õÁ©∫Èó≤Âå∫Èó¥‰πüÂ∞±Êàê‰∏∫‰∫ÜËÄÅÂπ¥‰ª£ÁöÑ‰∏ÄÈÉ®ÂàÜ„ÄÇÂíåÂπ¥ËΩª‰ª£‰∏çÂêåÔºåËÄÅÂπ¥‰ª£ÁöÑG1ÂõûÊî∂Âô®ÂíåÂÖ∂‰ªñGC‰∏çÂêåÔºåG1ÁöÑËÄÅÂπ¥‰ª£ÂõûÊî∂Âô®‰∏çÈúÄË¶ÅÊï¥‰∏™ËÄÅÂπ¥‰ª£Ë¢´ÂõûÊî∂Ôºå‰∏ÄÊ¨°Âè™ÈúÄË¶ÅÊâ´Êèè/ÂõûÊî∂Â∞èÈÉ®ÂàÜËÄÅÂπ¥‰ª£ÁöÑ RegionÂ∞±ÂèØ‰ª•‰∫Ü„ÄÇÂêåÊó∂ÔºåËøô‰∏™ËÄÅÂπ¥‰ª£ RegionÊòØÂíåÂπ¥ËΩª‰ª£‰∏ÄËµ∑Ë¢´ÂõûÊî∂ÁöÑ„ÄÇ‰∏æ‰∏™‰æãÂ≠êÔºö‰∏Ä‰∏™WebÊúçÂä°Âô®ÔºåJavaËøõÁ®ãÊúÄÂ§ßÂ†ÜÂÜÖÂ≠ò‰∏∫4G,ÊØèÂàÜÈíüÂìçÂ∫î1500‰∏™ËØ∑Ê±ÇÔºåÊØè45ÁßíÈíü‰ºöÊñ∞ÂàÜÈÖçÂ§ßÁ∫¶2GÁöÑÂÜÖÂ≠ò„ÄÇG1‰ºöÊØè45ÁßíÈíüËøõË°å‰∏ÄÊ¨°Âπ¥ËΩª‰ª£ÂõûÊî∂ÔºåÊØè31‰∏™Â∞èÊó∂Êï¥‰∏™Â†ÜÁöÑ‰ΩøÁî®Áéá‰ºöËææÂà∞45%,‰ºöÂºÄÂßãËÄÅÂπ¥‰ª£Âπ∂ÂèëÊ†áËÆ∞ËøáÁ®ãÔºåÊ†áËÆ∞ÂÆåÊàêÂêéÂºÄÂßãÂõõÂà∞‰∫îÊ¨°ÁöÑÊ∑∑ÂêàÂõûÊî∂„ÄÇ Remembered Set ‰∏Ä‰∏™ÂØπË±°Ë¢´‰∏çÂêåÂå∫ÂüüÂºïÁî®ÁöÑÈóÆÈ¢ò„ÄÇ‰∏Ä‰∏™ Region‰∏çÂèØËÉΩÊòØÂ≠§Á´ãÁöÑÔºå‰∏Ä‰∏™ Region‰∏≠ÁöÑÂØπË±°ÂèØËÉΩË¢´ÂÖ∂‰ªñ‰ªªÊÑè Region‰∏≠ÂØπË±°ÂºïÁî®ÔºåÂà§Êñ≠ÂØπË±°Â≠òÊ¥ªÊó∂ÔºåÊòØÂê¶ÈúÄË¶ÅÊâ´ÊèèÊï¥‰∏™JavaÂ†ÜÊâçËÉΩ‰øùËØÅÂáÜÁ°Æ„ÄÇÂú®ÂÖ∂‰ªñÁöÑÂàÜ‰ª£Êî∂ÈõÜÂô®Ôºå‰πüÂ≠òÂú®ËøôÊ†∑ÁöÑÈóÆÈ¢ò(ËÄåG1Êõ¥Á™ÅÂá∫)„ÄÇÂõûÊî∂Êñ∞Áîü‰ª£‰πü‰∏çÂæó‰∏çÂêåÊó∂Êâ´ÊèèËÄÅÂπ¥‰ª£ÔºüËøôÊ†∑ÁöÑËØù‰ºöÈôç‰Ωé Minor GCÁöÑÊïàÁéá„ÄÇ Ëß£ÂÜ≥ÊñπÊ≥ïÔºö Êó†ËÆ∫G1ËøòÊòØÂÖ∂‰ªñÂàÜ‰ª£Êî∂ÈõÜÂô®ÔºåJVMÈÉΩÊòØ‰ΩøÁî® Remembered SetÊù•ÈÅøÂÖçÂÖ®Â±ÄÊâ´ÊèèÔºöÊØè‰∏™ RegionÈÉΩÊúâ‰∏Ä‰∏™ÂØπÂ∫îÁöÑ Remembered Set;ÊØèÊ¨° ReferenceÁ±ªÂûãÊï∞ÊçÆÂÜôÊìç‰ΩúÊó∂ÔºåÈÉΩ‰ºö‰∫ßÁîü‰∏Ä‰∏™ Write BarrierÊöÇÊó∂‰∏≠Êñ≠Êìç‰ΩúÔºõÁÑ∂ÂêéÊ£ÄÊü•Â∞ÜË¶ÅÂÜôÂÖ•ÁöÑÂºïÁî®ÊåáÂêëÁöÑÂØπË±°ÊòØÂê¶ÂíåËØ• ReferenceaÁ±ªÂûãÊï∞ÊçÆÂú®‰∏çÂêåÁöÑ Region(ÂÖ∂‰ªñÊî∂ÈõÜÂô®ÔºöÊ£ÄÊüªËÄÅÂπ¥‰ª£ÂØπË±°ÊòØÂê¶ÂºïÁî®‰∫ÜÊñ∞Áîü‰ª£ÂØπË±°ÔºâÔºõÂ¶ÇÊûú‰∏çÂêåÔºåÈÄöËøá CardtableÊääÁõ∏ÂÖ≥ÂºïÁî®‰ø°ÊÅØËÆ∞ÂΩïÂà∞ÂºïÁî®ÊåáÂêëÂØπË±°ÁöÑÊâÄÂú® RegionÂØπÂ∫îÁöÑ Remembered Set‰∏≠ÔºõÂΩìËøõË°åÂûÉÂúæÊî∂ÈõÜÊó∂ÔºåÂú®GCÊ†πËäÇÁÇπÁöÑÊûö‰∏æËåÉÂõ¥Âä†ÂÖ• Remembered Set:Â∞±ÂèØ‰ª•‰øùËØÅ‰∏çËøõË°åÂÖ®Â±ÄÊâ´ÊèèÔºå‰πü‰∏ç‰ºöÊúâÈÅóÊºè„ÄÇ ÂõûÊî∂ËøáÁ®ã‰∏ÄÔºöÂπ¥ËΩª‰ª£GC ‚Äã JVMÂêØÂä®Êó∂ÔºåG1ÂÖàÂáÜÂ§áÂ•ΩEdenÂå∫ÔºåÁ®ãÂ∫èÂú®ËøêË°åËøáÁ®ã‰∏≠‰∏çÊñ≠ÂàõÂª∫ÂØπË±°Âà∞EdenÂå∫ÔºåÂΩìEdenÁ©∫Èó¥ËÄóÂ∞ΩÊó∂ÔºåG1‰ºöÂêØÂä®‰∏ÄÊ¨°Âπ¥ËΩª‰ª£ÂûÉÂúæÂõûÊî∂ËøáÁ®ã„ÄÇÂπ¥ËΩª‰ª£ÂûÉÂúæÂõûÊî∂Âè™‰ºöÂõûÊî∂EdenÂå∫Âíå SurvivorÂå∫„ÄÇÈ¶ñÂÖà61ÂÅúÊ≠¢Â∫îÁî®Á®ãÂ∫èÁöÑÊâßË°å(Stop-The-World),G1ÂàõÂª∫ÂõûÊî∂ÈõÜ(Collection Set),ÂõûÊî∂ÈõÜÊòØÊåáÈúÄË¶ÅË¢´ÂõûÊî∂ÁöÑÂÜÖÂ≠òÂàÜÊÆµÁöÑÈõÜÂêàÔºåÂπ¥ËΩª‰ª£ÂõûÊî∂ËøáÁ®ãÁöÑÂõûÊî∂ÈõÜÂåÖÂê´Âπ¥ËΩª‰ª£EdenÂå∫Âíå SurvivorÂå∫ÊâÄÊúâÁöÑÂÜÖÂ≠òÂàÜÊÆµ„ÄÇ ÁÑ∂ÂêéÂºÄÂßãÂ¶Ç‰∏ãÂõûÊî∂ËøáÁ®ãÔºö Á¨¨‰∏ÄÈò∂ÊÆµÔºåÊâ´ÊèèÊ†π„ÄÇ Ê†πÊòØÊåá staticÂèòÈáèÊåáÂêëÁöÑÂØπË±°ÔºåÊ≠£Âú®ÊâßË°åÁöÑÊñπÊ≥ïË∞ÉÁî®ÈìæÊù°‰∏äÁöÑÂ±ÄÈÉ®ÂèòÈáèÁ≠â„ÄÇÊ†πÂºïÁî®ËøûÂêåRSetËÆ∞ÂΩïÁöÑÂ§ñÈÉ®ÂºïÁî®‰Ωú‰∏∫Êâ´ÊèèÂ≠òÊ¥ªÂØπË±°ÁöÑÂÖ•Âè£ Á¨¨‰∫åÈò∂ÊÆµÔºåÊõ¥Êñ∞RSet. Â§ÑÁêÜ dirty card queueÔºàËßÅÂ§áÊ≥®Ôºâ‰∏≠ÁöÑcard,Êõ¥Êñ∞RSet„ÄÇÊ≠§Èò∂ÊÆµÂÆåÊàêÂêéÔºåRSetÂèØ‰ª•ÂáÜÁ°ÆÁöÑÂèçÊò†ËÄÅÂπ¥‰ª£ÂØπÊâÄÂú®ÁöÑÂÜÖÂ≠òÂàÜÊÆµ‰∏≠ÂØπË±°ÁöÑÂºïÁî®„ÄÇ Á¨¨‰∏âÈò∂ÊÆµÔºåÂ§ÑÁêÜRSet. ËØÜÂà´Ë¢´ËÄÅÂπ¥‰ª£ÂØπË±°ÊåáÂêëÁöÑEden‰∏≠ÁöÑÂØπË±°ÔºåËøô‰∫õË¢´ÊåáÂêëÁöÑEden‰∏≠ÁöÑÂØπË±°Ë¢´ËÆ§‰∏∫ÊòØÂ≠òÊ¥ªÁöÑÂØπË±°„ÄÇ Á¨¨ÂõõÈò∂ÊÆµÔºåÂ§çÂà∂ÂØπË±°„ÄÇ Ê≠§Èò∂ÊÆµÔºåÂØπË±°Ê†ëË¢´ÈÅçÂéÜÔºåEdenÂå∫ÂÜÖÂ≠òÊÆµ‰∏≠Â≠òÊ¥ªÁöÑÂØπË±°‰ºöË¢´Â§çÂà∂Âà∞ SurvivorÂå∫‰∏≠Á©∫ÁöÑÂÜÖÂ≠òÂàÜÊÆµÔºåSurvivorÂå∫ÂÜÖÂ≠òÊÆµ‰∏≠Â≠òÊ¥ªÁöÑÂØπË±°Â¶ÇÊûúÂπ¥ÈæÑÊú™ËææÈòàÂÄºÔºåÂπ¥ÈæÑ‰ºöÂä†1,ËææÂà∞ÈòÄÂÄº‰ºöË¢´‰ºöË¢´Â§çÂà∂Âà∞0ldÂå∫‰∏≠Á©∫ÁöÑÂÜÖÂ≠òÂàÜÊÆµ„ÄÇÂ¶ÇÊûú SurvivorÁ©∫Èó¥‰∏çÂ§üÔºåEdenÁ©∫Èó¥ÁöÑÈÉ®ÂàÜÊï∞ÊçÆ‰ºöÁõ¥Êé•ÊôãÂçáÂà∞ËÄÅÂπ¥‰ª£Á©∫Èó¥„ÄÇ Á¨¨‰∫îÈò∂ÊÆµÔºåÂ§ÑÁêÜÂºïÁî®„ÄÇ Â§ÑÁêÜSoft,Weak, Phantom,Fina1, JNI WeakÁ≠âÂºïÁî®„ÄÇÊúÄÁªàEdenÁ©∫Èó¥ÁöÑÊï∞ÊçÆ‰∏∫Á©∫ÔºåGCÂÅúÊ≠¢Â∑•‰ΩúÔºåËÄåÁõÆÊ†áÂÜÖÂ≠ò‰∏≠ÁöÑÂØπË±°ÈÉΩÊòØËøûÁª≠Â≠òÂÇ®ÁöÑÔºåÊ≤°ÊúâÁ¢éÁâáÔºåÊâÄ‰ª•Â§çÂà∂ËøáÁ®ãÂèØ‰ª•ËææÂà∞ÂÜÖÂ≠òÊï¥ÁêÜÁöÑÊïàÊûúÔºåÂáèÂ∞ëÁ¢éÁâá„ÄÇ ÂõûÊî∂ËøáÁ®ã‰∫åÔºöÂπ∂ÂèëÊ†áËÆ∞ËøáÁ®ã ÂàùÂßãÊ†áËÆ∞Èò∂ÊÆµÔºöÊ†áËÆ∞‰ªéÊ†πËäÇÁÇπÁõ¥Êé•ÂèØËææÁöÑÂØπË±°„ÄÇËøô‰∏™Èò∂ÊÆµÊòØSTWÁöÑÔºåÂπ∂‰∏î‰ºöËß¶Âèë‰∏ÄÊ¨°Âπ¥ËΩª‰ª£GC. Ê†πÂå∫ÂüüÊâ´Êèè( Root Region Scanning):G1 GCÊâ´Êèè SurvivorÂå∫Áõ¥Êé•ÂèØËææÁöÑËÄÅÂπ¥‰ª£Âå∫ÂüüÂØπË±°ÔºåÂπ∂Ê†áËÆ∞Ë¢´ÂºïÁî®ÁöÑÂØπË±°„ÄÇËøô‰∏ÄËøáÁ®ãÂøÖÈ°ªÂú® young GC‰πãÂâçÂÆåÊàê Âπ∂ÂèëÊ†áËÆ∞( Concurrent Marking):Âú®Êï¥‰∏™Â†Ü‰∏≠ËøõË°åÂπ∂ÂèëÊ†áËÆ∞ÔºàÂíåÂ∫îÁî®Á®ãÂ∫èÂπ∂ÂèëÊâßË°åÔºâÔºåÊ≠§ËøáÁ®ãÂèØËÉΩË¢´ young GC‰∏≠Êñ≠„ÄÇÂú®Âπ∂ÂèëÊ†áËÆ∞Èò∂ÊÆµÔºåËã•ÂèëÁé∞Âå∫ÂüüÂØπË±°‰∏≠ÁöÑÊâÄÊúâÂØπË±°ÈÉΩÊòØÂûÉÂúæÔºåÈÇ£Ëøô‰∏™Âå∫Âüü‰ºöË¢´Á´ãÂç≥ÂõûÊî∂„ÄÇÂêåÊó∂ÔºåÂπ∂ÂèëÊ†áËÆ∞ËøáÁ®ã‰∏≠Ôºå‰ºöËÆ°ÁÆóÊØè‰∏™Âå∫ÂüüÁöÑÂØπË±°Ê¥ªÊÄßÔºàÂå∫Âüü‰∏≠Â≠òÊ¥ªÂØπË±°ÁöÑÊØî‰æãÔºâ„ÄÇ ÂÜçÊ¨°Ê†áËÆ∞( Remark):Áî±‰∫éÂ∫îÁî®Á®ãÂ∫èÊåÅÁª≠ËøõË°åÔºåÈúÄË¶Å‰øÆÊ≠£‰∏ä‰∏ÄÊ¨°ÁöÑÊ†áËÆ∞ÁªìÊûú„ÄÇÊòØSTWÁöÑ„ÄÇG1‰∏≠ÈááÁî®‰∫ÜÊØîCMSÊõ¥Âø´ÁöÑÂàùÂßãÂø´ÁÖßÁÆóÊ≥ïÔºö snapshot-at-the- beginning(SATB)„ÄÇ Áã¨Âç†Ê∏ÖÁêÜ(cleanup,STW):ËÆ°ÁÆóÂêÑ‰∏™Âå∫ÂüüÁöÑÂ≠òÊ¥ªÂØπË±°ÂíåGCÂõûÊî∂ÊØî‰æãÔºåÂπ∂ËøõË°åÊéíÂ∫èÔºåËØÜÂà´ÂèØ‰ª•Ê∑∑ÂêàÂõûÊî∂ÁöÑÂå∫Âüü„ÄÇ‰∏∫‰∏ãÈò∂ÊÆµÂÅöÈì∫Âû´„ÄÇÊòØSTÁöÑ„ÄÇËøô‰∏™Èò∂ÊÆµÂπ∂‰∏ç‰ºöÂÆûÈôÖ‰∏äÂéªÂÅöÂûÉÂúæÁöÑÊî∂ÈõÜÂπ∂ÂèëÊ∏ÖÁêÜÈò∂ÊÆµÔºöËØÜÂà´Âπ∂Ê∏ÖÁêÜÂÆåÂÖ®Á©∫Èó≤ÁöÑÂå∫Âüü„ÄÇ ÂõûÊî∂Èò∂ÊÆµ‰∏âÔºöÊ∑∑ÂêàÂõûÊî∂ ‚Äã ÂΩìË∂äÊù•Ë∂äÂ§öÁöÑÂØπË±°ÊôãÂçáÂà∞ËÄÅÂπ¥‰ª£„ÄÇold regionÊó∂Ôºå‰∏∫‰∫ÜÈÅøÂÖçÂ†ÜÂÜÖÂ≠òË¢´ËÄóÂ∞ΩÔºåËôöÊãüÊú∫‰ºöËß¶Âèë‰∏Ä‰∏™Ê∑∑ÂêàÁöÑÂûÉÂúæÊî∂ÈõÜÂô®ÔºåÂç≥ Mixed GC,ËØ•ÁÆóÊ≥ïÂπ∂‰∏çÊòØ‰∏Ä‰∏™Old GC,Èô§‰∫ÜÂõûÊî∂Êï¥‰∏™ Young Region,Ëøò‰ºöÂõûÊî∂‰∏ÄÈÉ®ÂàÜÁöÑOld Region„ÄÇËøôÈáåÈúÄË¶ÅÊ≥®ÊÑèÔºöÊòØ‰∏ÄÈÉ®ÂàÜËÄÅÂπ¥‰ª£ÔºåËÄå‰∏çÊòØÂÖ®ÈÉ®ËÄÅÂπ¥‰ª£„ÄÇÂèØ‰ª•ÈÄâÊã©Âì™‰∫õOld RegionËøõË°åÊî∂ÈõÜÔºå‰ªéËÄåÂèØ‰ª•ÂØπÂûÉÂúæÂõûÊî∂ÁöÑËÄóÊó∂Êó∂Èó¥ËøõË°åÊéßÂà∂„ÄÇ‰πüË¶ÅÊ≥®ÊÑèÁöÑÊòØ Mixed GCÂπ∂‰∏çÊòØFull GC„ÄÇ Âπ∂ÂèëÊ†áËÆ∞ÁªìÊùü‰ª•ÂêéÔºåËÄÅÂπ¥‰ª£‰∏≠ÁôæÂàÜÁôæ‰∏∫ÂûÉÂúæÁöÑÂÜÖÂ≠òÂàÜÊÆµË¢´ÂõûÊî∂‰∫ÜÔºåÈÉ®ÂàÜ‰∏∫ÂûÉÂúæÁöÑÂÜÖÂ≠òÂàÜÊÆµË¢´ËÆ°ÁÆó‰∫ÜÂá∫Êù•„ÄÇÈªòËÆ§ÊÉÖÂÜµ‰∏ãÔºåËøô‰∫õËÄÅÂπ¥‰ª£ÁöÑÂÜÖÂ≠òÂàÜÊÆµ‰ºöÂàÜ8Ê¨°(ÂèØ‰ª•ÈÄöËøáXX:G1 MixedGCCountTargetËÆæÁΩÆ)Ë¢´ÂõûÊî∂„ÄÇ Ê∑∑ÂêàÂõûÊî∂ÁöÑÂõûÊî∂ÈõÜ(Collection Set)ÂåÖÊã¨ÂÖ´ÂàÜ‰πã‰∏ÄÁöÑËÄÅÂπ¥‰ª£ÂÜÖÂ≠òÂàÜÊÆµÔºåEdenÂå∫ÂÜÖÂ≠òÂàÜÊÆµÔºå SurvivorÂå∫ÂÜÖÂ≠òÂàÜÊÆµ„ÄÇÊ∑∑ÂêàÂõûÊî∂ÁöÑÁÆóÊ≥ïÂíåÂπ¥ËΩª‰ª£ÂõûÊî∂ÁöÑÁÆóÊ≥ïÂÆåÂÖ®‰∏ÄÊ†∑ÔºåÂè™ÊòØÂõûÊî∂ÈõÜÂ§ö‰∫ÜËÄÅÂπ¥‰ª£ÁöÑÂÜÖÂ≠òÂàÜÊÆµ„ÄÇÂÖ∑‰ΩìËøáÁ®ãËØ∑ÂèÇËÄÉ‰∏äÈù¢ÁöÑÂπ¥ËΩª‰ª£ÂõûÊî∂ËøáÁ®ã„ÄÇ Áî±‰∫éËÄÅÂπ¥‰ª£‰∏≠ÁöÑÂÜÖÂ≠òÂàÜÊÆµÈªòËÆ§ÂàÜ8Ê¨°ÂõûÊî∂ÔºåG1‰ºö‰ºòÂÖàÂõûÊî∂ÂûÉÂúæÂ§öÁöÑÂÜÖÂ≠òÂàÜÊÆµ„ÄÇÂûÉÂúæÂç†ÂÜÖÂ≠òÂàÜÊÆµÊØî‰æãË∂äÈ´òÁöÑÔºåË∂ä‰ºöË¢´ÂÖàÂõûÊî∂„ÄÇÂπ∂‰∏îÊúâ‰∏Ä‰∏™ÈòàÂÄº‰ºöÂÜ≥ÂÆöÂÜÖÂ≠òÂàÜÊÆµÊòØÂê¶Ë¢´ÂõûÊî∂Ôºå-XX:G1 MixedGCliveThresholPercent,ÈªòËÆ§‰∏∫65%,ÊÑèÊÄùÊòØÂûÉÂúæÂç†ÂÜÖÂ≠òÂàÜÊÆµÊØî‰æãË¶ÅËææÂà∞65%Êâç‰ºöË¢´ÂõûÊî∂„ÄÇÂ¶ÇÊûúÂûÉÂúæÂç†ÊØîÂ§™‰ΩéÔºåÊÑèÂë≥ÁùÄÂ≠òÊ¥ªÁöÑÂØπË±°Âç†ÊØîÈ´òÔºåÂú®Â§çÂà∂ÁöÑÊó∂ÂÄô‰ºöËä±Ë¥πÊõ¥Â§öÁöÑÊó∂Èó¥„ÄÇ Ê∑∑ÂêàÂõûÊî∂Âπ∂‰∏ç‰∏ÄÂÆöË¶ÅËøõË°å8Ê¨°„ÄÇÊúâ‰∏Ä‰∏™ÈòàÂÄº-XX:G1HeapWastePercent,ÈªòËÆ§ÂÄº‰∏∫10%,ÊÑèÊÄùÊòØÂÖÅËÆ∏Êï¥‰∏™Â†ÜÂÜÖÂ≠ò‰∏≠Êúâ10%ÁöÑÁ©∫Èó¥Ë¢´Êµ™Ë¥πÔºåÊÑèÂë≥ÁùÄÂ¶ÇÊûúÂèëÁé∞ÂèØ‰ª•ÂõûÊî∂ÁöÑÂûÉÂúæÂç†Â†ÜÂÜÖÂ≠òÁöÑÊØî‰æã‰Ωé‰∫é10%,Âàô‰∏çÂÜçËøõË°åÊ∑∑ÂêàÂõûÊî∂„ÄÇÂõ†‰∏∫GC‰ºöËä±Ë¥πÂæàÂ§öÁöÑÊó∂Èó¥‰ΩÜÊòØÂõûÊî∂Âà∞ÁöÑÂÜÖÂ≠òÂç¥ÂæàÂ∞ë„ÄÇ ÊÄªÁªì G1ÁöÑÂàùË°∑Â∞±ÊòØË¶ÅÈÅøÂÖçFull GCÁöÑÂá∫Áé∞„ÄÇ‰ΩÜÊòØÂ¶ÇÊûú‰∏äËø∞ÊñπÂºè‰∏çËÉΩÊ≠£Â∏∏Â∑•‰ΩúÔºåG1‰ºöÂÅúÊ≠¢Â∫îÁî®Á®ãÂ∫èÁöÑÊâßË°å(Stop-The-World),‰ΩøÁî®ÂçïÁ∫øÁ®ãÁöÑÂÜÖÂ≠òÂõûÊî∂ÁÆóÊ≥ïËøõË°åÂûÉÂúæÂõûÊî∂ÔºåÊÄßËÉΩ‰ºöÈùûÂ∏∏Â∑ÆÔºåÂ∫îÁî®Á®ãÂ∫èÂÅúÈ°øÊó∂Èó¥‰ºöÂæàÈïøË¶ÅÈÅøÂÖçFull GCÁöÑÂèëÁîüÔºå‰∏ÄÊó¶ÂèëÁîüÈúÄË¶ÅËøõË°åË∞ÉÊï¥„ÄÇ‰ªÄ‰πàÊó∂ÂÄô‰ºöÂèëÁîüFull GCÂë¢ÔºüÊØîÂ¶ÇÂ†ÜÂÜÖÂ≠òÂ§™Â∞èÔºåÂΩìG1Âú®Â§çÂà∂Â≠òÊ¥ªÂØπË±°ÁöÑÊó∂ÂÄôÊ≤°ÊúâÁ©∫ÁöÑÂÜÖÂ≠òÂàÜÊÆµÂèØÁî®Âàô‰ºöÂõûÈÄÄÂà∞Full GC,ËøôÁßçÊÉÖÂÜµÂèØ‰ª•ÈÄöËøáÂ¢óÂ§ßÂÜÖÂ≠òËß£ÂÜ≥„ÄÇÂØºËá¥G1 Full GCÁöÑÂéüÂõ†ÂèØËÉΩÊúâ‰∏§‰∏™ÔºöEvacuationÁöÑÊó∂ÂÄôÊ≤°ÊúâË∂≥Â§üÁöÑto- spaceÊù•Â≠òÊîæÊôãÂçáÁöÑÂØπË±°„ÄÇÂπ∂ÂèëÂ§ÑÁêÜËøáÁ®ãÂÆåÊàê‰πãÂâçÁ©∫Èó¥ËÄóÂ∞Ω„ÄÇ ‚Äã ‰ªé OracleÂÆòÊñπÈÄèÈú≤Âá∫Êù•ÁöÑ‰ø°ÊÅØÂèØËé∑Áü•ÔºåÂõûÊî∂Èò∂ÊÆµ( Evacuation)ÂÖ∂ÂÆûÊú¨‰πüÊúâÊÉ≥ËøáËÆæËÆ°Êàê‰∏éÁî®Êà∑Á®ãÂ∫è‰∏ÄËµ∑Âπ∂ÂèëÊâßË°åÔºå‰ΩÜËøô‰ª∂‰∫ãÊÉÖÂÅöËµ∑Êù•ÊØîËæÉÂ§çÊùÇÔºåËÄÉËôëÂà∞G1Âè™ÊòØÂõûÊî∂‰∏ÄÈÉ®ÂàÜ Reglon,ÂÅúÈ°øÊó∂Èó¥ÊòØÁî®Êà∑ÂèØÊéßÂà∂ÁöÑÔºåÊâÄ‰ª•Âπ∂‰∏çËø´ÂàáÂéªÂÆûÁé∞ÔºåËÄåÈÄâÊã©ÊääËøô‰∏™ÁâπÊÄßÊîæÂà∞‰∫ÜG1‰πãÂêéÂá∫Áé∞ÁöÑ‰ΩéÂª∂ËøüÂûÉÂúæÊî∂ÈõÜÂô®(Âç≥ZGC)‰∏≠„ÄÇÂè¶Â§ñÔºåËøòËÄÉËôëÂà∞G1‰∏çÊòØ‰ªÖ‰ªÖÈù¢Âêë‰ΩéÂª∂ËøüÔºåÂÅúÈ°øÁî®Êà∑Á∫øÁ®ãËÉΩÂ§üÊúÄÂ§ßÂπÖÂ∫¶ÊèêÈ´òÂûÉÂúæÊî∂ÈõÜÊïàÁéáÔºå‰∏∫‰∫Ü‰øùËØÅÂêûÂêêÈáèÊâÄ‰ª•ÊâçÈÄâÊã©‰∫ÜÂÆåÂÖ®ÊöÇÂÅúÁî®Êà∑Á∫øÁ®ãÁöÑÂÆûÁé∞ÊñπÊ°à„ÄÇ ‰ºòÂåñÂª∫ËÆÆ Âπ¥ËΩª‰ª£Â§ßÂ∞è ÈÅøÂÖç‰ΩøÁî®-XmnÊàñ-XX: NewRatioÁ≠âÁõ∏ÂÖ≥ÈÄâÈ°πÊòæÂºèËÆæÁΩÆÂπ¥ËΩª‰ª£Â§ßÂ∞è„ÄÇÂõ∫ÂÆöÂπ¥ËΩª‰ª£ÁöÑÂ§ßÂ∞è‰ºöË¶ÜÁõñÊöÇÂÅúÊó∂Èó¥ÁõÆÊ†áÊöÇÂÅúÊó∂Èó¥ÁõÆÊ†á‰∏çË¶ÅÂ§™Ëøá‰∏•Ëãõ G1 GCÁöÑÂêûÂêêÈáèÁõÆÊ†áÊòØ90%ÁöÑÂ∫îÁî®Á®ãÂ∫èÊó∂Èó¥Âíå1%ÁöÑÂûÉÂúæÂõûÊî∂Êó∂Èó¥ËØÑ‰º∞G1GCÁöÑÂêûÂêêÈáèÊó∂ÔºåÊöÇÂÅúÊó∂Èó¥ÁõÆÊ†á‰∏çË¶ÅÂ§™‰∏•Ëãõ„ÄÇÁõÆÊ†áÂ§™Ëøá‰∏•ËãõË°® Á§∫‰Ω†ÊÑøÊÑèÊâøÂèóÊõ¥Â§öÁöÑÂûÉÂúæÂõûÊî∂ÂºÄÈîÄÔºåËÄåËøô‰∫õ‰ºöÁõ¥Êé•ÂΩ±ÂìçÂà∞ÂêûÂêêÈáè„ÄÇ ÂûÉÂúæÂõûÊî∂Âô®ÊÄªÁªì JavaÂûÉÂúæÊî∂ÈõÜÂô®ÁöÑÈÖçÁΩÆÂØπ‰∫é]WÏç®‰ºòÂåñÊù•ËØ¥ÊòØ‰∏Ä‰∏™ÂæàÈáçË¶ÅÁöÑÈÄâÊã©ÔºåÈÄâÊã©ÂêàÈÄÇÁöÑÂûÉÂúæÊî∂ÈõÜÂô®ÂèØ‰ª•ËÆ©VÁöÑÊÄßËÉΩÊúâ‰∏Ä‰∏™ÂæàÂ§ßÁöÑÊèêÂçá„ÄÇ ÊÄé‰πàÈÄâÊã©ÂûÉÂúæÊî∂ÈõÜÂô®Ôºü ‰ºòÂÖàË∞ÉÊï¥Â†ÜÁöÑÂ§ßÂ∞èËÆ©JVMËá™ÈÄÇÂ∫îÂÆåÊàê Â¶ÇÊûúÂÜÖÂ≠òÂ∞è‰∫é100M,‰ΩøÁî®‰∏≤Ë°åÊî∂ÈõÜÂô® Â¶ÇÊûúÊòØÂçïÊ†∏„ÄÅÂçïÊú∫Á®ãÂ∫èÔºåÂπ∂‰∏îÊ≤°ÊúâÂÅúÈ°øÊó∂Èó¥ÁöÑË¶ÅÊ±ÇÔºå‰∏≤Ë°åÊî∂ÈõÜÂô® Â¶ÇÊûúÊòØÂ§öCPU„ÄÅÈúÄË¶ÅÈ´òÂêûÂêêÈáè„ÄÅÂÖÅËÆ∏ÂÅúÈ°øÊó∂Èó¥Ë∂ÖËøá1ÁßíÔºåÈÄâÊã©Âπ∂Ë°åÊàñËÄÖJVMËá™Â∑±ÈÄâÊã© Â¶ÇÊûúÊòØÂ§öCPU„ÄÅËøΩÊ±Ç‰ΩéÂÅúÈ°øÊó∂Èó¥ÔºåÈúÄÂø´ÈÄüÂìçÂ∫îÔºàÊØîÂ¶ÇÂª∂Ëøü‰∏çËÉΩË∂ÖËøá1ÁßíÔºåÂ¶Ç‰∫íËÅîÁΩëÂ∫îÁî®ÔºâÔºå‰ΩøÁî®Âπ∂ÂèëÊî∂ÈõÜÂô® ÂÆòÊñπÊé®ËçêG1,ÊÄßËÉΩÈ´ò„ÄÇÁé∞Âú®‰∫íËÅîÁΩëÁöÑÈ°πÁõÆÔºåÂü∫Êú¨ÈÉΩÊòØ‰ΩøÁî®G1„ÄÇ ÊúÄÂêéÈúÄË¶ÅÊòéÁ°Æ‰∏Ä‰∏™ËßÇÁÇπ 1.Ê≤°ÊúâÊúÄÂ•ΩÁöÑÊî∂ÈõÜÂô®ÔºåÊõ¥Ê≤°Êúâ‰∏áËÉΩÁöÑÊî∂ÈõÜÔºõ 2.Ë∞É‰ºòÊ∞∏ËøúÊòØÈíàÂØπÁâπÂÆöÂú∫ÊôØ„ÄÅÁâπÂÆöÈúÄÊ±ÇÔºå‰∏çÂ≠òÂú®‰∏ÄÂä≥Ê∞∏ÈÄ∏ÁöÑÊî∂ÈõÜÂô® ÂØπ‰∫éÂûÉÂúæÊî∂ÈõÜÔºåÈù¢ËØïÂÆòÂèØ‰ª•Âæ™Â∫èÊ∏êËøõ‰ªéÁêÜËÆ∫„ÄÅÂÆûË∑µÂêÑÁßçËßíÂ∫¶Ê∑±ÂÖ•Ôºå‰πüÊú™ÂøÖÊòØË¶ÅÊ±ÇÈù¢ËØïËÄÖ‰ªÄ‰πàÈÉΩÊáÇ„ÄÇ‰ΩÜÂ¶ÇÊûú‰Ω†ÊáÇÂæóÂéüÁêÜÔºå‰∏ÄÂÆö‰ºöÊàê‰∏∫Èù¢ËØï‰∏≠ÁöÑÂä†ÂàÜÈ°π„ÄÇ ËøôÈáåËæÉÈÄöÁî®„ÄÅÂü∫Á°ÄÊÄßÁöÑÈÉ®ÂàÜÂ¶Ç‰∏ã ÂûÉÂúæÊî∂ÈõÜÁöÑÁÆóÊ≥ïÊúâÂì™‰∫õÔºüÂ¶Ç‰ΩïÂà§Êñ≠‰∏Ä‰∏™ÂØπË±°ÊòØÂê¶ÂèØ‰ª•ÂõûÊî∂Ôºü ÂûÉÂúæÊî∂ÈõÜÂô®Â∑•‰ΩúÁöÑÂü∫Êú¨ÊµÅÁ®ã„ÄÇ Âè¶Â§ñÔºåÂ§ßÂÆ∂ÈúÄË¶ÅÂ§öÂÖ≥Ê≥®ÂûÉÂúæÂõûÊî∂Âô®Ëøô‰∏ÄÁ´†ÁöÑÂêÑÁßçÂ∏∏Áî®ÁöÑÂèÇÊï∞„ÄÇ GCÊó•ÂøóÂàÜÊûê ÈÄöËøáÈòÖËØªGCÊó•ÂøóÔºåÊàë‰ª¨ÂèØ‰ª•‰∫ÜËß£JavaËôöÊãüÊú∫ÂÜÖÂ≠òÂàÜÈÖç‰∏éÂõûÊî∂Á≠ñÁï•„ÄÇ ÂÜÖÂ≠òÂàÜÈÖç‰∏éÂûÉÂúæÂõûÊî∂ÁöÑÂèÇÊï∞ÂàóË°® -XX:+PriintGC ËæìÂá∫GCÊó•Âøó„ÄÇÁ±ª‰ººÔºö- verbose:GC -XX:+ PrintGCDetails ËæìÂá∫GCÁöÑËØ¶ÁªÜÊó•Âøó -XX:+PrintGCTimeStampsËæìÂá∫GCÁöÑÊó∂Èó¥Êà≥Ôºà‰ª•Âü∫ÂáÜÊó∂Èó¥ÁöÑÂΩ¢ÂºèÔºâ -XX:+ PrintGCDateStampsËæìÂá∫GCÁöÑÊó∂Èó¥Êà≥Ôºà‰ª•Êó•ÊúüÁöÑÂΩ¢ÂºèÔºåÂ¶Ç2013-05-04T21:53:59.234+0800) -XX:+PrintHeapAtGC Âú®ËøõË°åGCÁöÑÂâçÂêéÊâìÂç∞Âá∫Â†ÜÁöÑ‰ø°ÊÅØ -XlogGC:../logs/GC.logÊó•ÂøóÊñá‰ª∂ÁöÑËæìÂá∫Ë∑ØÂæÑ &quot;[GC&quot;Âíå&quot;[Full GC&quot;ËØ¥Êòé‰∫ÜËøôÊ¨°ÂûÉÂúæÊî∂ÈõÜÁöÑÂÅúÈ°øÁ±ªÂûã,Â¶ÇÊûúÊúâ&quot;Full&quot;ÂàôËØ¥ÊòéGCÂèëÁîü‰∫ÜStop The World ‰ΩøÁî® SerialÊî∂ÈõÜÂô®Âú®Êñ∞Áîü‰ª£ÁöÑÂêçÂ≠óÊòØ Default New Generation,Âõ†Ê≠§ÊòæÁ§∫ÁöÑÊòØ&quot;[ ParNew ‰ΩøÁî® ParNewÊî∂ÈõÜÂô®Âú®Êñ∞Áîü‰ª£ÁöÑÂêçÂ≠ó‰ºöÂèòÊàê&quot;[Pardew&quot;,ÊÑèÊÄùÊòØ&quot; Parallel New Generation&quot; ‰ΩøÁî®Parallel ScavengeÊî∂ÈõÜÂô®Âú®Êñ∞Áîü‰ª£ÁöÑÂêçÂ≠óÊòØ&quot;Psyounggen&quot; ËÄÅÂπ¥‰ª£ÁöÑÊî∂ÈõÜÂíåÊñ∞Áîü‰ª£ÈÅìÁêÜ‰∏ÄÊ†∑,ÂêçÂ≠ó‰πüÊòØÊî∂ÈõÜÂô®ÂÜ≥ÂÆöÁöÑ ‰ΩøÁî®G1Êî∂ÈõÜÂô®ÁöÑËØù,‰ºöÊòæÁ§∫‰∏∫&quot; garbage- first heap&quot; Allocation Failure Ë°®ÊòéÊú¨Ê¨°ÂºïËµ∑GCÁöÑÂéüÂõ†ÊòØÂõ†‰∏∫Âú®Âπ¥ËΩª‰ª£‰∏≠Ê≤°ÊúâË∂≥Â§üÁöÑÁ©∫Èó¥ËÉΩÂ§üÂ≠òÂÇ®Êñ∞ÁöÑÊï∞ÊçÆ‰∫Ü„ÄÇ [ PSZoungGen:5986K-&gt;696K(8704K)]5986K--704K(9216K) ‰∏≠Êã¨Âè∑ÂÜÖÔºöGCÂõûÊî∂ÂâçÂπ¥ËΩª‰ª£Â§ßÂ∞èÔºåÂõûÊî∂ÂêéÂ§ßÂ∞èÔºåÔºàÂπ¥ËΩª‰ª£ÊÄªÂ§ßÂ∞èÔºâ Êã¨Âè∑Â§ñÔºöGCÂõûÊî∂ÂâçÂπ¥ËΩª‰ª£ÂíåËÄÅÂπ¥‰ª£Â§ßÂ∞èÔºåÂõûÊî∂ÂêéÂ§ßÂ∞èÔºåÔºàÂπ¥ËΩª‰ª£ÂíåËÄÅÂπ¥‰ª£ÊÄªÂ§ßÂ∞èÔºâ user‰ª£Ë°®Áî®Êà∑ÊÄÅÂõûÊî∂ËÄóÊó∂ÔºåsysÂÜÖÊ†∏ÊÄÅÂõûÊî∂ËÄóÊó∂ÔºåreaÂÆûÈôÖËÄóÊó∂„ÄÇÁî±‰∫éÂ§öÊ†∏ÁöÑÂéüÂõ†ÔºåÊó∂Èó¥ÊÄªÂíåÂèØËÉΩ‰ºöË∂ÖËøárealÊó∂Èó¥ Êó•ÂøóÂàÜÊûêÂ∑•ÂÖ∑ ÂèØ‰ª•Áî®‰∏Ä‰∫õÂ∑•ÂÖ∑ÂéªÂàÜÊûêËøô‰∫õGCÊó•Âøó„ÄÇÂ∏∏Áî®ÁöÑÊó•ÂøóÂàÜÊûêÂ∑•ÂÖ∑ÊúâÔºö GCVlewer„ÄÅ GCEsay„ÄÅ GCHisto„ÄÅ GCCLogViewer„ÄÅHpjmeter„ÄÅ garbagecatÁ≠â„ÄÇ ÂûÉÂúæÂõûÊî∂Âô®ÁöÑÊñ∞Êó∂‰ª£ÂèëÂ±ï GC‰ªçÁÑ∂Â§Ñ‰∫éÈ£ûÈÄüÂèëÂ±ï‰πã‰∏≠ÔºåÁõÆÂâçÁöÑÈªòËÆ§ÈÄâÈ°πG1GCÂú®‰∏çÊñ≠ÁöÑËøõË°åÊîπËøõÔºåÂæàÂ§öÊàë‰ª¨ÂéüÊù•ËÆ§‰∏∫ÁöÑÁº∫ÁÇπÔºå‰æãÂ¶Ç‰∏≤Ë°åÁöÑFullGC„ÄÅ Card TableÊâ´ÊèèÁöÑ‰ΩéÊïàÁ≠âÔºåÈÉΩÂ∑≤ÁªèË¢´Â§ßÂπÖÊîπËøõÔºå‰æãÂ¶ÇÔºåJDK10‰ª•ÂêéÔºåFullGCÂ∑≤ÁªèÊòØÂπ∂Ë°åËøêË°åÔºåÂú®ÂæàÂ§öÂú∫ÊôØ‰∏ãÔºåÂÖ∂Ë°®Áé∞ËøòÁï•‰ºò‰∫é ParallelGCÁöÑÂπ∂Ë°åFullGCÂÆûÁé∞„ÄÇÂç≥‰ΩøÊòØ SerialGC,ËôΩÁÑ∂ÊØîËæÉÂè§ËÄÅÔºå‰ΩÜÊòØÁÆÄÂçïÁöÑËÆæËÆ°ÂíåÂÆûÁé∞Êú™ÂøÖÂ∞±ÊòØËøáÊó∂ÁöÑÔºåÂÆÉÊú¨Ë∫´ÁöÑÂºÄÈîÄÔºå‰∏çÁÆ°ÊòØGCÁõ∏ÂÖ≥Êï∞ÊçÆÁªìÊûÑÁöÑÂºÄÈîÄÔºåËøòÊòØÁ∫øÁ®ãÁöÑÂºÄÈîÄÔºåÈÉΩÊòØÈùûÂ∏∏Â∞èÁöÑÔºåÊâÄ‰ª•ÈöèÁùÄ‰∫ëËÆ°ÁÆóÁöÑÂÖ¥Ëµ∑ÔºåÂú® Serverless:Á≠âÊñ∞ÁöÑÂ∫îÁî®Âú∫ÊôØ‰∏ãÔºå SeralGCÊâæÂà∞‰∫ÜÊñ∞ÁöÑËàûÂè∞„ÄÇÊØîËæÉ‰∏çÂπ∏ÁöÑÊòØ CMS GC,Âõ†‰∏∫ÂÖ∂ÁÆóÊ≥ïÁöÑÁêÜËÆ∫Áº∫Èô∑Á≠âÂéüÂõ†ÔºåËôΩÁÑ∂Áé∞Âú®ËøòÊúâÈùûÂ∏∏Â§ßÁöÑÁî®Êà∑Áæ§‰ΩìÔºå‰ΩÜÂú®3DK9‰∏≠Â∑≤ÁªèË¢´Ê†áËÆ∞‰∏∫Â∫üÂºÉÔºåÂπ∂Âú®JDK14ÁâàÊú¨‰∏≠ÁßªÈô§„ÄÇ Open JDK12ÁöÑ Shenandoah GC:‰ΩéÂÅúÈ¢†Êó∂Èó¥ÁöÑccÔºàÂÆûÈ™åÊÄßÔºâ Shenandoah,Êó†ÁñëÊòØ‰ºóÂ§öGC‰∏≠ÊúÄÂ≠§Áã¨ÁöÑ‰∏Ä‰∏™„ÄÇÊòØÁ¨¨‰∏ÄÊ¨æ‰∏çÁî± OracleÂÖ¨Âè∏Âõ¢ÈòüÈ¢ÜÂØºÂºÄÂèëÁöÑ HotspotÂûÉÂúæÊî∂ÈõÜÂô®„ÄÇ‰∏çÂèØÈÅøÂÖçÁöÑÂèóÂà∞ÂÆòÊñπÁöÑÊéíÊå§„ÄÇÊØîÂ¶ÇÂè∑Áß∞openJDKÂíåoracleJDKÊ≤°ÊúâÂå∫Âà´ÁöÑoracleÂÖ¨Âè∏‰ªçÊãíÁªùÂú®oracleJDK12‰∏≠ÊîØÊåÅ Shenandoah„ÄÇShenandoahÂûÉÂúæÂõûÊî∂Âô®ÊúÄÂàùÁî± RedhatËøõË°åÁöÑ‰∏ÄÈ°πÂûÉÂúæÊî∂ÈõÜÂô®Á†îÁ©∂È°πÁõÆ Pauseless GCÁöÑÂÆûÁé∞ÔºåÊó®Âú®ÈíàÂØπ]WM‰∏äÁöÑÂÜÖÂ≠òÂõûÊî∂ÂÆûÁé∞‰ΩéÂÅúÈ°øÁöÑÈúÄÊ±Ç„ÄÇÂú®2014Âπ¥Ë¥°ÁåÆÁªôOPENJDK. Red HatÁ†îÂèë ShenandoahÂõ¢ÈòüÂØπÂ§ñÂÆ£Áß∞Ôºå ShenandoahÂûÉÂúæÂõûÊî∂Âô®ÁöÑÊöÇÂÅúÊó∂Èó¥‰∏éÂ†ÜÂ§ßÂ∞èÊó†ÂÖ≥ÔºåËøôÊÑèÂë≥ÁùÄÊó†ËÆ∫Â∞ÜÂ†ÜËÆæÁΩÆ‰∏∫200MBËøòÊòØ200GB,99.9%ÁöÑÁõÆÊ†áÈÉΩÂèØ‰ª•ÊääÂûÉÂúæÊî∂ÈõÜÁöÑÂÅúÈ°øÊó∂Èó¥ÈôêÂà∂Âú®ÂçÅÊØ´Áßí‰ª•ÂÜÖ„ÄÇ‰∏çËøáÂÆûÈôÖ‰ΩøÁî®ÊÄßËÉΩÂ∞ÜÂèñÂÜ≥‰∫éÂÆûÈôÖÂ∑•‰ΩúÂ†ÜÁöÑÂ§ßÂ∞èÂíåÂ∑•‰ΩúË¥üËΩΩ„ÄÇ ÊÄªÁªìÔºö Shenandoah GCÁöÑÂº±È°πÔºöÈ´òËøêË°åË¥üÊãÖ‰∏ãÁöÑÂêûÂêêÈáè‰∏ãÈôç„ÄÇ Shenandoah GCÁöÑÂº∫È°πÔºö‰ΩéÂª∂ËøüÊó∂Èó¥„ÄÇ Shenandoah GCÁöÑÂ∑•‰ΩúËøáÁ®ãÂ§ßËá¥ÂàÜ‰∏∫‰πù‰∏™Èò∂ÊÆµÔºåËøôÈáåÂ∞±‰∏çÂÜçËµòËø∞„ÄÇÂú®‰πãÂâç Java12Êñ∞ÁâπÊÄßËßÜÈ¢ëÈáåÊúâËøá‰ªãÁªç„ÄÇ ZGC ‚Äã ZGC‰∏é ShenandoahÁõÆÊ†áÈ´òÂ∫¶Áõ∏‰ººÔºåÂú®Â∞ΩÂèØËÉΩÂØπÂêûÂêêÈáèÂΩ±Âìç‰∏çÂ§ßÁöÑÂâçÊèê‰∏ãÂÆûÁé∞Âú®‰ªªÊÑèÂ†ÜÂÜÖÂ≠òÂ§ßÂ∞è‰∏ãÈÉΩÂèØ‰ª•ÊääÂûÉÂúæÊî∂ÈõÜÁöÑÂÅúÈ°øÊó∂Èó¥ÈôêÂà∂Âú®ÂçÅÊØ´Áßí‰ª•ÂÜÖÁöÑ‰ΩéÂª∂Ëøü„ÄÇ„ÄäÊ∑±ÂÖ•ÁêÜËß£JavaËôöÊãüÊú∫„Äã‰∏Ä‰π¶‰∏≠ËøôÊ†∑ÂÆö‰πâzGC:2GCÊî∂ÈõÜÂô®ÊòØ‰∏ÄÊ¨æÂü∫‰∫éRegionÂÜÖÂ≠òÂ∏ÉÂ±ÄÁöÑÔºåÔºàÊöÇÊó∂Ôºâ‰∏çËÆæÂàÜ‰ª£ÁöÑÔºå‰ΩøÁî®‰∫ÜËØªÂ±èÈöú„ÄÅÊüìËâ≤ÊåáÈíàÂíåÂÜÖÂ≠òÂ§öÈáçÊò†Â∞ÑÁ≠âÊäÄÊúØÊù•ÂÆûÁé∞ÂèØÂπ∂ÂèëÁöÑÊ†áËÆ∞‰∏ÄÂéãÁº©ÁÆóÊ≥ïÁöÑÔºå‰ª•‰ΩéÂª∂Ëøü‰∏∫È¶ñË¶ÅÁõÆÊ†áÁöÑ‰∏ÄÊ¨æÂûÉÂúæÊî∂ÈõÜÂô®2GCÁöÑÂ∑•‰ΩúËøáÁ®ãÂèØ‰ª•ÂàÜ‰∏∫4‰∏™Èò∂ÊÆµÔºöÂπ∂ÂèëÊ†áËÆ∞‰∏ÄÂπ∂ÂèëÈ¢ÑÂ§áÈáçÂàÜÈÖç‰∏ÄÂπ∂ÂèëÈáçÂàÜÈÖçÂπ∂ÂèëÈáçÊò†Â∞ÑÁ≠â„ÄÇZGCÂá†‰πéÂú®ÊâÄÊúâÂú∞ÊñπÂπ∂ÂèëÊâßË°åÁöÑÔºåÈô§‰∫ÜÂàùÂßãÊ†áËÆ∞ÁöÑÊòØSTWÁöÑ„ÄÇÊâÄ‰ª•ÂÅúÈ°øÊó∂Èó¥Âá†‰πéÂ∞±ËÄóË¥πÂú®ÂàùÂßãÊ†áËÆ∞‰∏äÔºåËøôÈÉ®ÂàÜÁöÑÂÆûÈôÖÊó∂Èó¥ÊòØÈùûÂ∏∏Â∞ëÁöÑ„ÄÇ JBP364:ZGCÂ∫îÁî®Âú® macos‰∏ä JEP365:ZGCÂ∫îÁî®Âú® Windows‰∏ä JDK14‰πãÂâçÔºåZGC‰ªÖinux„Ç™ÊîØÊåÅ„ÄÇ „ÉªÂ∞ΩÁÆ°ËÆ∏Â§ö‰ΩøÁî®ZGCÁöÑÁî®Êà∑ÈÉΩ‰ΩøÁî®Á±ª„Ç®inuxÁöÑÁéØÂ¢ÉÔºå‰ΩÜÂú® WindowsÂíå macos‰∏äÔºå‰∫∫‰ª¨‰πüÈúÄË¶ÅZGCËøõË°åÂºÄÂèëÈÉ®ÁΩ≤ÂíåÊµãËØï„ÄÇËÆ∏Â§öÊ°åÈù¢Â∫îÁî®‰πüÂèØ‰ª•‰ªéZGC‰∏≠ÂèóÁõä„ÄÇÂõ†Ê≠§ÔºåZGCÁâπÊÄßË¢´ÁßªÊ§çÂà∞‰∫Ü WindowsÂíå macos‰∏ä„ÄÇ „ÉªÁé∞Âú®macÊàñ Windows‰∏ä‰πüËÉΩ‰ΩøÁî®ZGC‰∫ÜÔºåÁ§∫‰æãÂ¶Ç‰∏ãÔºöXX: +UnlockExperimentalVMOptions -XX: +UseZGC Â§ç‰π†„Äêprocesson‰ΩúÂõæÔºåÂÆåÂñÑÊµÅÁ®ãËøáÁ®ã‰∏≠ÂÜçÊ¨°ÁÜüÊÇâ„Äë ÂÆåÊàêÔºöJVMÊÄªÂõæ - ProcessOn","link":"/2021/11/10/Draft/2021/JVM%20%E4%B8%8E%E4%B8%8A%E5%B1%82%E6%8A%80%E6%9C%AF/"},{"title":"È≠ëÈ≠ÖÂÖàÁîü | ÂâçÁ´Ø","text":"VUE„ÄÅHTML„ÄÅJS„ÄÅ„ÄÅ„ÄÅ„ÄÅ VUE ÂáÜÂ§á ÊïôÁ®ãÔºöÂ∞öÁ°ÖË∞∑Vue2.0+Vue3.0ÂÖ®Â•óÊïôÁ®ã‰∏®vuejs‰ªéÂÖ•Èó®Âà∞Á≤æÈÄö_ÂìîÂì©ÂìîÂì©_bilibili ÁÆÄ‰ªã ÂÆâË£Ö ÂàõÂª∫Êñ∞È°πÁõÆ vue init ÊòØvue-cli2.xÁöÑÂàùÂßãÂåñÊñπÂºèÔºåÂèØ‰ª•‰ΩøÁî®github‰∏äÈù¢ÁöÑ‰∏Ä‰∫õÊ®°ÊùøÊù•ÂàùÂßãÂåñÈ°πÁõÆ webpackÊòØÂÆòÊñπÊé®ËçêÁöÑÊ†áÂáÜÊ®°ÊùøÂêç ‰ΩøÁî®ÊñπÂºèÔºövue init webpack È°πÁõÆÂêçÁß∞ electron-vueÁöÑÊ®°Êùø ‰ΩøÁî®ÊñπÂºèÔºövue init simulatedgreg/electron-vue È°πÁõÆÂêçÁß∞ vue create ÊòØvue-cli3.xÁöÑÂàùÂßãÂåñÊñπÂºèÔºåÊ®°ÊùøÊòØÂõ∫ÂÆöÁöÑÔºåÊ®°ÊùøÈÄâÈ°πÂèØËá™Áî±ÈÖçÁΩÆ ‰ΩøÁî®ÊñπÂºèÔºövue create È°πÁõÆÂêçÁß∞ ÂàùÂßãÂåñÈ°πÁõÆÊñá‰ª∂ÁªìÊûÑËØ¥Êòé 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263‚îÇ .babelrc‚îÇ .editorconfig‚îÇ .eslintignore‚îÇ .eslintrc.js‚îÇ .gitignore‚îÇ .postcssrc.js‚îÇ index.html‚îÇ package-lock.json‚îÇ package.json‚îÇ README.md‚îÇ‚îú‚îÄbuild‚îÇ build.js‚îÇ check-versions.js‚îÇ logo.png‚îÇ utils.js‚îÇ vue-loader.conf.js‚îÇ webpack.base.conf.js‚îÇ webpack.dev.conf.js‚îÇ webpack.prod.conf.js‚îÇ‚îú‚îÄconfig‚îÇ dev.env.js‚îÇ index.js‚îÇ prod.env.js‚îÇ test.env.js‚îÇ‚îú‚îÄnode_modules‚îú‚îÄsrc‚îÇ ‚îÇ App.vue‚îÇ ‚îÇ main.js‚îÇ ‚îÇ‚îÇ ‚îú‚îÄassets‚îÇ ‚îÇ logo.png‚îÇ ‚îÇ‚îÇ ‚îú‚îÄcomponents‚îÇ ‚îÇ HelloWorld.vue‚îÇ ‚îÇ‚îÇ ‚îî‚îÄrouter‚îÇ index.js‚îÇ‚îú‚îÄstatic‚îÇ .gitkeep‚îÇ‚îî‚îÄtest ‚îú‚îÄe2e ‚îÇ ‚îÇ nightwatch.conf.js ‚îÇ ‚îÇ runner.js ‚îÇ ‚îÇ ‚îÇ ‚îú‚îÄcustom-assertions ‚îÇ ‚îÇ elementCount.js ‚îÇ ‚îÇ ‚îÇ ‚îî‚îÄspecs ‚îÇ test.js ‚îÇ ‚îî‚îÄunit ‚îÇ .eslintrc ‚îÇ jest.conf.js ‚îÇ setup.js ‚îÇ ‚îî‚îÄspecs HelloWorld.spec.js SrcÂ∑•Á®ãÂåñÊñá‰ª∂ÁõÆÂΩïÁªìÊûÑ 1234567891011121314151617‚îú‚îÄsrc‚îÇ ‚îÇ App.vue‚îÇ ‚îÇ main.js‚îÇ ‚îÇ‚îÇ ‚îú‚îÄapi‚îÇ ‚îú‚îÄassets‚îÇ ‚îÇ logo.png‚îÇ ‚îÇ‚îÇ ‚îú‚îÄcomponents‚îÇ ‚îÇ HelloWorld.vue‚îÇ ‚îÇ‚îÇ ‚îú‚îÄlayout‚îÇ ‚îú‚îÄrouter‚îÇ ‚îÇ index.js‚îÇ ‚îÇ‚îÇ ‚îú‚îÄutils‚îÇ ‚îî‚îÄviews È°µÈù¢Ë∑≥ËΩ¨ 12341Ôºörouter-linkË∑≥ËΩ¨2Ôºöthis.$router.push() 3Ôºöthis.$router.replace() 4Ôºöthis.$router.go(n) ÁªÑ‰ª∂‰πãÈó¥‰º†ÂÄº ÁîüÂëΩÂë®Êúü ES6 ÂèòÈáèÂÆö‰πâ ES5 varÂÆö‰πâÁöÑÂèòÈáèÔºåÊ≤°ÊúâÂùóÁöÑÊ¶ÇÂøµÔºåÂèØ‰ª•Ë∑®Âùó{}ËÆøÈóÆ, ‰∏çËÉΩË∑®ÂáΩÊï∞ËÆøÈóÆÔºåÂèØÂ§öÊ¨°ÈáçÂ§çÂÆö‰πâÁõ∏ÂêåÂèòÈáèÔºåÂÆö‰πâÁöÑÂèòÈáèÊèêÂâçÁî®ÊòæÁ§∫undefine ES6 letÂÆö‰πâÁöÑÂèòÈáèÔºåÂè™ËÉΩÂú®Âùó‰ΩúÁî®ÂüüÈáåËÆøÈóÆÔºå‰∏çËÉΩË∑®ÂùóËÆøÈóÆÔºå‰πü‰∏çËÉΩË∑®ÂáΩÊï∞ËÆøÈóÆÔºå‰∏çÂèØÂ§öÊ¨°ÈáçÂ§çÂÆö‰πâÁõ∏ÂêåÂèòÈáèÔºåÂÆö‰πâÁöÑÂèòÈáèÊèêÂâçÁî®ÊòæÁ§∫Êä•ÈîôÊú™ÂÆö‰πâ constÁî®Êù•ÂÆö‰πâÂè™ËØªÂ∏∏ÈáèÔºå‰ΩøÁî®Êó∂ÂøÖÈ°ªÂàùÂßãÂåñ(Âç≥ÂøÖÈ°ªËµãÂÄº)ÔºåÂè™ËÉΩÂú®Âùó‰ΩúÁî®ÂüüÈáåËÆøÈóÆÔºåËÄå‰∏î‰∏çËÉΩ‰øÆÊîπÊåáÈíà„ÄÇ this.$nextTick(()=&gt;{ÂàõÂª∫Âú∞ÂõæÂØπË±°‰ª£Á†Å})È°∫Â∫èÂä†ËΩΩDOM Yarn/NPM UniApp https://uniapp.dcloud.io/ ‰∏ÄÊÆµÂºÄÂèëÂ§öÁ´ØËøêË°åÔºåÂü∫‰∫éVUEÔºåÂèØÂºÄÂèëÂ∞èÁ®ãÂ∫è MiniProgram HTML5 Javascript Bootstrap CSS Ajax JQuery Axios vue-axios ÂáÜÂ§á 123456npm install --save axios vue-axiosimport Vue from 'vue'import axios from 'axios'import VueAxios from 'vue-axios'Vue.use(VueAxios, axios) ‚Äã axios ‰ΩøÁî® post ÂèëÈÄÅÊï∞ÊçÆÊó∂ÔºåÈªòËÆ§ÊòØÁõ¥Êé•Êää json ÊîæÂà∞ËØ∑Ê±Ç‰Ωì‰∏≠Êèê‰∫§Âà∞ÂêéÁ´ØÁöÑ„ÄÇ‰πüÂ∞±ÊòØËØ¥ÔºåÊàë‰ª¨ÁöÑ Content-Type ÂèòÊàê‰∫Ü application/json;charset=utf-8 ,ËøôÊòØaxiosÈªòËÆ§ÁöÑËØ∑Ê±ÇÂ§¥content-typeÁ±ªÂûã„ÄÇ‰ΩÜÊòØÂÆûÈôÖÊàë‰ª¨ÂêéÁ´ØË¶ÅÊ±ÇÁöÑ 'Content-Type': 'application/x-www-form-urlencoded' ‰∏∫Â§öËßÅ. 1234567891011121314151617181920212223//POST: let data = Qs.stringify({ a: 2, b: &quot;11&quot;, }); await axios .post(url, params, { headers: { &quot;Content-Type&quot;: &quot;application/x-www-form-urlencoded&quot;, Host: &quot;172.0.0.1:0000&quot;, }, }) .then((res) =&gt; { console.log(&quot;ÁªìÊûú&quot;, res); if ( ) { } }) .catch((err) =&gt; { console.log(err); });//GET: axios.get(url) CLI webpack querystring A querystring parsing and stringifying library with some added security. ÂÆâË£ÖÔºönpm install qs // ÊàñËÄÖ npm install querystring ES6ÂºïÂÖ•Ôºöimport querystring from 'querystring' parse„ÄÅdecode Â∞ÜqueryÂ≠óÁ¨¶‰∏≤Ëß£ÊûêÊàêÂØπË±° escape ÂèÇÊï∞ÁºñÁ†Å unescape ÂèÇÊï∞Ëß£Á†Å encode„ÄÅstringify Â∞ÜÂØπË±°ËΩ¨Êç¢ÊàêqueryÂ≠óÁ¨¶‰∏≤„ÄÇÂ¶ÇÊûúÂ±ûÊÄßÂÄº‰∏çÊòØstring„ÄÅbooleanÂíånumber‰∏≠ÁöÑ‰∏ÄÁßçÔºåÂÆÉÂ∞±‰∏çËÉΩÂ∫èÂàóÂåñÔºåËøîÂõûÂÜÖÂÆπ‰∏≠ÁöÑÂÖ≥ÈîÆÂ≠óÂØπÂ∫îÁöÑÂÄº‰∏∫Á©∫ Element-UI 123456789101112131415161718192021//ÂÆâË£Önpm i element-ui -S//ÂºïÂÖ•&lt;!-- ÂºïÂÖ•Ê†∑Âºè --&gt; &lt;link rel=&quot;stylesheet&quot; href=&quot;https://unpkg.com/element-ui/lib/theme-chalk/index.css&quot;&gt; &lt;!-- ÂºïÂÖ•ÁªÑ‰ª∂Â∫ì --&gt; &lt;script src=&quot;https://unpkg.com/element-ui/lib/index.js&quot;&gt;&lt;/script&gt;//VUE main.jsimport Vue from 'vue';import ElementUI from 'element-ui';import 'element-ui/lib/theme-chalk/index.css';import App from './App.vue';Vue.use(ElementUI);new Vue({ el: '#app', render: h =&gt; h(App)});//‰ΩøÁî®ÔºöÂ§çÂà∂ ÁªÑ‰ª∂ treeÂä®ÊÄÅÊñ∞Â¢ûÂ≠êËäÇÁÇπ iconfont-ÈòøÈáåÂ∑¥Â∑¥Áü¢ÈáèÂõæÊ†áÂ∫ì vue create Âíåvue init webpackÁöÑÂå∫Âà´ vue create ÊòØvue-cli3.xÁöÑÂàùÂßãÂåñÊñπÂºè vue init ÊòØvue-cli2.xÁöÑÂàùÂßãÂåñÊñπÂºèÔºåÂèØ‰ª•‰ΩøÁî®github‰∏äÈù¢ÁöÑ‰∏Ä‰∫õÊ®°ÊùøÊù•ÂàùÂßãÂåñÈ°πÁõÆÔºåwebpackÊòØÂÆòÊñπÊé®ËçêÁöÑÊ†áÂáÜÊ®°ÊùøÂêç„ÄÇ vue cli2ÂçáÁ∫ßÂà∞vue cli3 1.ÂÖàÂçáÁ∫ßnpmÁöÑÁâàÊú¨ npm install -g npm 2.ÂÜçÂç∏ËΩΩ‰πãÂâçÁöÑvue cli 2.9.6 npm uninstall -g @vue/cli 3.‰∏ãËΩΩÊúÄÊñ∞ÁöÑvue cliÁâàÊú¨ npm install -g @vue/cli Âå∫Âà´ 1.ÊâìÂåÖÊñπÂºèÔºö cli2 ËøêË°å:npm run dev cli3 ËøêË°åÔºönpm run serve Ëá≥‰∫é‰∏∫‰ªÄ‰πà‰ºöÂèòÔºåÊù•Áúã‰∏Ä‰∏ãpackage.json 2.Êñá‰ª∂Â§πÁõÆÂΩïÔºö 3.cli3 Êñá‰ª∂ÁõÆÂΩïÔºöÂèñÊ∂àÊéâ‰∫ÜconfigÁõÆÂΩï„ÄÅbuildÁõÆÂΩï„ÄÅstaticÁõÆÂΩï ,ËøòÊúâÊúÄÈáçË¶ÅÁöÑ‰∏ÄÁÇπÔºå3.0ÁöÑÂÆâË£ÖÈ°πÁõÆÊó∂Ëá™Âä®‰∏ãËΩΩnode-modelÔºåvue.config.js‰πüÊ≤°‰∫ÜÔºåÈúÄË¶ÅÊâãÂä®Ê∑ªÂä†„ÄÇ 3.ÂàõÂª∫È°πÁõÆÊñπÂºèÔºö 3.cli3ÁöÑÂÆâË£ÖÔºövue create project 2.cli2ÁöÑÂÆâË£ÖÔºövue init webpack project ÂÖ∂‰ªñ AjaxÔºöajaxÊúÄÊó©Âá∫Áé∞ÁöÑÂèëÈÄÅÂêéÁ´ØËØ∑Ê±ÇÊäÄÊúØÔºåÈö∂Â±û‰∫éÂéüÂßãjs‰∏≠ÔºåÊ†∏ÂøÉ‰ΩøÁî®XMLHttpRequestÂØπË±°ÔºåÂ§ö‰∏™ËØ∑Ê±Ç‰πãÈó¥Â¶ÇÊûúÊúâÂÖàÂêéÂÖ≥Á≥ªÁöÑËØùÔºåÂ∞±‰ºöÂá∫Áé∞ÂõûË∞ÉÂú∞Áã±„ÄÇ Jquery AjaxÔºöÊòØjQueryÊ°ÜÊû∂‰∏≠ÁöÑÂèëÈÄÅÂêéÁ´ØËØ∑Ê±ÇÊäÄÊúØÔºåÁî±‰∫éjQueryÊòØÂü∫‰∫éÂéüÂßãÁöÑÂü∫Á°Ä‰∏äÂÅöÁöÑÂ∞ÅË£ÖÔºåÊâÄ‰ª•Ôºåjquery AjaxËá™ÁÑ∂‰πüÊòØÂéüÂßãajaxÁöÑÂ∞ÅË£Ö„ÄÇ Promise:Promise‰∏ªË¶ÅÁî®‰∫éËß£ÂÜ≥ÂºÇÊ≠•ÂõûË∞ÉÂµåÂ•óÁöÑÈóÆÈ¢ò„ÄÇ FetchÔºöfetchÂè∑Áß∞ÊòØAJAXÁöÑÊõø‰ª£ÂìÅÔºåÊòØÂú®ES6Âá∫Áé∞ÁöÑÔºå‰ΩøÁî®‰∫ÜES6‰∏≠ÁöÑpromiseÂØπË±°„ÄÇFetchÊòØÂü∫‰∫épromiseËÆæËÆ°ÁöÑ„ÄÇFetchÁöÑ‰ª£Á†ÅÁªìÊûÑÊØîËµ∑ajaxÁÆÄÂçïÂ§ö‰∫ÜÔºåÂèÇÊï∞ÊúâÁÇπÂÉèjQuery ajax„ÄÇ‰ΩÜÊòØÔºå‰∏ÄÂÆöËÆ∞‰Ωèfetch‰∏çÊòØajaxÁöÑËøõ‰∏ÄÊ≠•Â∞ÅË£ÖÔºåËÄåÊòØÂéüÁîüjs„ÄÇFetchÂáΩÊï∞Â∞±ÊòØÂéüÁîüjsÔºåÊ≤°Êúâ‰ΩøÁî®XMLHttpRequestÂØπË±°„ÄÇ axiosÔºöaxiosÊòØÈÄöËøápromiseÂÆûÁé∞ÂØπajaxÊäÄÊúØÁöÑ‰∏ÄÁßçÂ∞ÅË£ÖÔºåÂ∞±ÂÉèjQueryÂÆûÁé∞ajaxÂ∞ÅË£Ö‰∏ÄÊ†∑„ÄÇÂç≥ajaxÊäÄÊúØÂÆûÁé∞‰∫ÜÁΩëÈ°µÁöÑÂ±ÄÈÉ®Êï∞ÊçÆÂà∑Êñ∞ÔºåaxiosÂÆûÁé∞‰∫ÜÂØπajaxÁöÑÂ∞ÅË£Ö„ÄÇÂÆÉ‰∏ç‰ªÖÂèØ‰ª•Âú®ÂÆ¢Êà∑Á´Ø‰ΩøÁî®Ôºå‰πüÂèØ‰ª•Âú®nodejsÁ´Ø‰ΩøÁî®Ôºå‰πüÂèØ‰ª•Âú®ËØ∑Ê±ÇÂíåÂìçÂ∫îÈò∂ÊÆµËøõË°åÊã¶Êà™ ÂºÄÂèëÊäÄÂ∑ß VsCode‰ª£Á†ÅÁâáÊÆµÊ®°Êùø Ê∑ªÂä†Ë∑ØÂæÑÔºöWindows/Linux: File‚ÜíPreferences‚ÜíUser Snippets macOS: Code‚ÜíPreferences‚ÜíUser Snippets Á§∫‰æãÔºöVUE 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576&quot;Print to console&quot;: { &quot;prefix&quot;: &quot;vue&quot;, &quot;body&quot;: [ &quot;&lt;!-- $1 --&gt;&quot;, &quot;&lt;template&gt;&quot;, &quot;&lt;div class='$2'&gt;$5&lt;/div&gt;&quot;, &quot;&lt;/template&gt;&quot;, &quot;&quot;, &quot;&lt;script&gt;&quot;, &quot;//ËøôÈáåÂèØ‰ª•ÂØºÂÖ•ÂÖ∂‰ªñÊñá‰ª∂ÔºàÊØîÂ¶ÇÔºöÁªÑ‰ª∂ÔºåÂ∑•ÂÖ∑jsÔºåÁ¨¨‰∏âÊñπÊèí‰ª∂jsÔºåjsonÊñá‰ª∂ÔºåÂõæÁâáÊñá‰ª∂Á≠âÁ≠âÔºâ&quot;, &quot;//‰æãÂ¶ÇÔºöimport „ÄäÁªÑ‰ª∂ÂêçÁß∞„Äã from '„ÄäÁªÑ‰ª∂Ë∑ØÂæÑ„Äã';&quot;, &quot;&quot;, &quot;export default {&quot;, &quot;//importÂºïÂÖ•ÁöÑÁªÑ‰ª∂ÈúÄË¶ÅÊ≥®ÂÖ•Âà∞ÂØπË±°‰∏≠ÊâçËÉΩ‰ΩøÁî®&quot;, &quot;components: {},&quot;, &quot;data() {&quot;, &quot;//ËøôÈáåÂ≠òÊîæÊï∞ÊçÆ&quot;, &quot;return {&quot;, &quot;&quot;, &quot;};&quot;, &quot;},&quot;, &quot;//ÁõëÂê¨Â±ûÊÄß Á±ª‰ºº‰∫édataÊ¶ÇÂøµ&quot;, &quot;computed: {},&quot;, &quot;//ÁõëÊéßdata‰∏≠ÁöÑÊï∞ÊçÆÂèòÂåñ&quot;, &quot;watch: {},&quot;, &quot;//ÊñπÊ≥ïÈõÜÂêà&quot;, &quot;methods: {&quot;, &quot;&quot;, &quot;},&quot;, &quot;//ÁîüÂëΩÂë®Êúü - ÂàõÂª∫ÂÆåÊàêÔºàÂèØ‰ª•ËÆøÈóÆÂΩìÂâçthisÂÆû‰æãÔºâ&quot;, &quot;created() {&quot;, &quot;&quot;, &quot;},&quot;, &quot;//ÁîüÂëΩÂë®Êúü - ÊåÇËΩΩÂÆåÊàêÔºàÂèØ‰ª•ËÆøÈóÆDOMÂÖÉÁ¥†Ôºâ&quot;, &quot;mounted() {&quot;, &quot;&quot;, &quot;},&quot;, &quot;beforeCreate() {}, //ÁîüÂëΩÂë®Êúü - ÂàõÂª∫‰πãÂâç&quot;, &quot;beforeMount() {}, //ÁîüÂëΩÂë®Êúü - ÊåÇËΩΩ‰πãÂâç&quot;, &quot;beforeUpdate() {}, //ÁîüÂëΩÂë®Êúü - Êõ¥Êñ∞‰πãÂâç&quot;, &quot;updated() {}, //ÁîüÂëΩÂë®Êúü - Êõ¥Êñ∞‰πãÂêé&quot;, &quot;beforeDestroy() {}, //ÁîüÂëΩÂë®Êúü - ÈîÄÊØÅ‰πãÂâç&quot;, &quot;destroyed() {}, //ÁîüÂëΩÂë®Êúü - ÈîÄÊØÅÂÆåÊàê&quot;, &quot;activated() {}, //Â¶ÇÊûúÈ°µÈù¢Êúâkeep-aliveÁºìÂ≠òÂäüËÉΩÔºåËøô‰∏™ÂáΩÊï∞‰ºöËß¶Âèë&quot;, &quot;}&quot;, &quot;&lt;/script&gt;&quot;, &quot;&lt;style scoped&gt;&quot;, &quot;//@import url($3); ÂºïÂÖ•ÂÖ¨ÂÖ±cssÁ±ª&quot;, &quot;$4&quot;, &quot;&lt;/style&gt;&quot; ], &quot;description&quot;: &quot;ÁîüÊàêvueÊ®°Êùø&quot; }, &quot;http-getËØ∑Ê±Ç&quot;: { &quot;prefix&quot;: &quot;httpget&quot;, &quot;body&quot;: [ &quot;this.\\\\$http({&quot;, &quot;url: this.\\\\$http.adornUrl(''),&quot;, &quot;method: 'get',&quot;, &quot;params: this.\\\\$http.adornParams({})&quot;, &quot;}).then(({ data }) =&gt; {&quot;, &quot;})&quot; ], &quot;description&quot;: &quot;httpGETËØ∑Ê±Ç&quot; }, &quot;http-postËØ∑Ê±Ç&quot;: { &quot;prefix&quot;: &quot;httppost&quot;, &quot;body&quot;: [ &quot;this.\\\\$http({&quot;, &quot;url: this.\\\\$http.adornUrl(''),&quot;, &quot;method: 'post',&quot;, &quot;data: this.\\\\$http.adornData(data, false)&quot;, &quot;}).then(({ data }) =&gt; { });&quot; ], &quot;description&quot;: &quot;httpPOSTËØ∑Ê±Ç&quot; } Ë∞ÉËØïÊäÄÂ∑ß ‰æµÂÖ•ÂºèÔºö‰ª£Á†Å‰∏≠Ê∑ªÂä†debuggerÔºõ ‰æµÂÖ•ÂºèÔºö‰ª£Á†Å‰∏≠ÊàñÊéßÂà∂Âè∞ËæìÂÖ•consoleÔºàVS‰∏≠clÂø´Êç∑ÊñπÂºèÔºâÔºå‰ª£Á†Å‰∏≠‰ΩøÁî®alertÂºπÂá∫‰ø°ÊÅØ„ÄÇ Èùû‰æµÂÖ•ÂºèÔºöË∞∑Ê≠åÊµèËßàÂô®Êù•Ê∫êË∞ÉËØïÔºåÁΩëÁªú‰∏≠Êü•ÁúãÁΩëÁªúËØ∑Ê±ÇÁõ∏ÂÖ≥‰ø°ÊÅØÔºåÂÖÉÁ¥†Ê†èËøõË°åÂÖÉÁ¥†ÂÆö‰ΩçÂêåÂ∑¶‰∏äËßíicon‰ΩúÁî®ÔºåÂ∫îÁî®Êü•ÁúãÁºìÂ≠òÁ≠â Ë∞∑Ê≠åÊµèËßàÂô® ctrl+F5Âº∫Âà∂Âà∑Êñ∞ÁºìÂ≠ò ËÆæËÆ°‰πãÁæé ÊäÄÊúØÂ∫îÁî® iframe iframe Áà∂Â≠êÈó¥‰º†ÂÄºÈÄö‰ø° 1„ÄÅÂêåÂüü iframe Áà∂Â≠êÈó¥‰º†ÂÄº Ôºà1ÔºâÁà∂È°µÈù¢ 1234567891011121314151617&lt;html&gt;&lt;head&gt; &lt;script type=&quot;text/javascript&quot;&gt; function say(){ alert(&quot;parent.html&quot;); } function callChild(){ myFrame.window.say(); myFrame.window.document.getElementById(&quot;button&quot;).value=&quot;Ë∞ÉÁî®ÁªìÊùü&quot;; } &lt;/script&gt;&lt;/head&gt;&lt;body&gt; &lt;input id=&quot;button&quot; type=&quot;button&quot; value=&quot;Ë∞ÉÁî®child.html‰∏≠ÁöÑÂáΩÊï∞say()&quot; onclick=&quot;callChild()&quot;/&gt; &lt;iframe name=&quot;myFrame&quot; src=&quot;child.html&quot;&gt;&lt;/iframe&gt;&lt;/body&gt;&lt;/html&gt; Ôºà2ÔºâÂ≠êÈ°µÈù¢ 12345678910111213141516&lt;html&gt;&lt;head&gt; &lt;script type=&quot;text/javascript&quot;&gt; function say(){ alert(&quot;child.html&quot;); } function callParent(){ parent.say(); parent.window.document.getElementById(&quot;button&quot;).value=&quot;Ë∞ÉÁî®ÁªìÊùü&quot;; } &lt;/script&gt;&lt;/head&gt;&lt;body&gt; &lt;input id=&quot;button&quot; type=&quot;button&quot; value=&quot;Ë∞ÉÁî®parent.html‰∏≠ÁöÑsay()ÂáΩÊï∞&quot; onclick=&quot;callParent()&quot;/&gt;&lt;/body&gt;&lt;/html&gt; ÊÄªÁªìÔºöÊñπÊ≥ïË∞ÉÁî® 123Áà∂È°µÈù¢Ë∞ÉÁî®Â≠êÈ°µÈù¢ÊñπÊ≥ïÔºöFrameName.window.childMethod();Â≠êÈ°µÈù¢Ë∞ÉÁî®Áà∂È°µÈù¢ÊñπÊ≥ïÔºöparent.window.parentMethod(); 2„ÄÅË∑®Âüü iframe Áà∂Â≠êÈó¥‰º†ÂÄº Ôºà1ÔºâÁà∂È°µÈù¢ 12345678910111213141516171819202122232425262728293031323334&lt;template&gt; &lt;div&gt; &lt;iframe :src=&quot;iframesrc&quot; id=&quot;a-page&quot;&gt;&lt;/iframe&gt; &lt;/div&gt;&lt;/template&gt;&lt;script&gt;export default { computed:{ iframesrc:function(){ let iframesrc = &quot;http://b.com&quot; return iframesrc } }, created () { // ÂæóÂà∞B‰º†Êù•ÁöÑÂÄº window.addEventListener('message',function(e){ console.log(&quot;B DOMÁöÑÈ´òÂ∫¶&quot;, e.data) },false); // ÁõëÂê¨AÈ°µÈù¢ÁöÑ‰∫ã‰ª∂ÔºåÂèëÈÄÅÁªôB window.addEventListener('scroll', function () { let iframe = document.getElementById('a-page'); let json = { scrollTop: scrollTop, windowHeight: windowHeight, }; iframe.contentWindow.postMessage(json, '*'); }); }}&lt;/script&gt; Ôºà2ÔºâÂ≠êÈ°µÈù¢ 123456789101112131415161718192021&lt;template&gt; &lt;div&gt; &lt;div id=&quot;b-page&quot;&gt;&lt;/div&gt; &lt;/div&gt;&lt;/template&gt;&lt;script&gt;export default { mounted() { // Ëé∑ÂèñÂà∞BÈ°µÈù¢ÁöÑÂÄºÔºåÂèëÈÄÅÁªôA let _this = this let b_pageH = document.getElementById('b-page').scrollHeight; window.parent.postMessage(b_pageH, '*'); // ÂæóÂà∞AÈ°µÈù¢ÁöÑÂÄº window.addEventListener('message',function(e){ console.log(&quot;e.data.scrollTop&quot;, e.data.scrollTop) console.log(&quot;e.data.windowHeight&quot;, e.data.windowHeight) },false); }}&lt;/script&gt; Êé•Âè£ 1234567891011121314151617181920//ÂØºÂÖ•$ npm install axiosimport axios from &quot;axios&quot;;&lt;script src=&quot;https://unpkg.com/axios/dist/axios.min.js&quot;&gt;&lt;/script&gt;‰ΩøÁî®axios.request(config)axios.get(url[, config])axios.delete(url[, config])axios.head(url[, config])axios.options(url[, config])axios.post(url[, data[, config]])axios.put(url[, data[, config]])axios.patch(url[, data[, config]])//Á§∫‰æã axios.get(&quot;http://172.18.109.13:8083/512834d664a4d3407b4c18ba3e8b3b66373945ec/ArcGIS/MapService/Catalog/SDE.L2021PS.gis/query?&amp;f=json&quot;).then((res) =&gt; { console.log(&quot;res&quot;, res); }); VUEÊ∑±Êã∑Ë¥ùÊµÖÊã∑Ë¥ù","link":"/2021/03/01/Draft/2021/%E5%89%8D%E7%AB%AF/"},{"title":"È≠ëÈ≠ÖÂÖàÁîü | ‰∏öÂä°ÊäÄÊúØ","text":"ÊâÄÊúâÁöÑÊäÄÊúØÈÉΩÊòØ‰∏∫‰∫ÜÊõ¥Â•ΩÁöÑËß£ÂÜ≥‰∏öÂä° ËèúÈ∏ü‰∏ÄÁ´ôÔºö Âõæ‰æãÔºö ËÆ∞ÂΩï ËøõË°å‰∏≠ ÂÆåÊàê JSR303Êï∞ÊçÆÊ†°È™åÔºöjavax.validation.constraints cronË°®ËææÂºè„ÄÅÊ≠£ÂàôË°®ËææÂºè Êó•ÂøóËÆ∞ÂΩïÔºàtomcat„ÄÅmysqlÔºâ ExcelÊï∞ÊçÆÊìç‰Ωú Êñá‰ª∂‰∏ä‰º†‰∏ãËΩΩËß£ÊûêÂà∞Êï∞ÊçÆÂ∫ì ÈõÜÊàêËá™Â∑±ÁöÑJavaÂâçÂêéÂè∞Ê°ÜÊû∂ CURDÔºàÊâÄÊúâÊ°ÜÊû∂Ôºâ ÁΩëÁªúÈÄö‰ø° ÂçïÂÖÉÊµãËØï Â∏∏Áî®Â∑•ÂÖ∑Á±ª ÂÆûÈôÖ‰∏öÂä° Âä†ÂØÜËß£ÂØÜ„ÄêAES(CBC)„Äë ÁºìÂ≠ò Ëá™ÂÆö‰πâÊ≥®Ëß£ Âçï‰∏™ÈÖçÁΩÆÁ±ªÂûã hutoolÔºàJAVAÂ∑•ÂÖ∑Á±ªÂåÖÔºâ Êâ´Á†ÅÁôªÂΩï JAVAÂ∏∏Áî®‰∏ì‰∏öÂêçËØç ÂõæÁâáÂ§ÑÁêÜ jeekins‰∏éÈÉ®ÁΩ≤ÂÆûÊñΩ Âä®ÊÄÅË°®ÂçïËÆæËÆ°‰∏éÂÆûÁé∞ È™åËØÅÁ†Å Â§ñÈÉ®Êé•Âè£Â∫îÁî® Â∑•‰ΩúÊµÅ JWT spring security ‰ª£Á†ÅÁîüÊàê Êï∞ÊçÆÂ∫ìËÆæËÆ°(ËßÅMySQL‰ºòÂåñ) Êñá‰ª∂Ê†ºÂºèËΩ¨Êç¢Ôºàword--„ÄãpdfÔºâ Êï∞ÊçÆÊ†ºÂºèËΩ¨Êç¢ Â∑•ÂÖ∑Á±ªÂêàÈõÜ ÂàÜÈ°µ Ë∑®Âüü ÂçïÁÇπÁôªÂΩï Â§ñÂèëÊé•Âè£ËßÑËåÉtokenÈ™åËØÅ ÊîØ‰ªò Áü≠‰ø° ÂêéÂè∞ÂàõÂª∫Êï∞ÊçÆ„ÄêÂàõÂª∫Êó∂Èó¥ÔºåidÔºåÂàùÂßãÊï∞ÊçÆ„Äë ÁõÆÂΩïÂèØÂèÇËÄÉkuangstudy Êï∞ÊçÆÊ†ºÂºè ÊùÉÈôêÁÆ°ÁêÜ JDKÈ´òÁâàÊú¨ Â∫èÂàóÂåñÂèçÂ∫èÂàóÂåñ ÂºÄÊ∫êÁõ∏ÂÖ≥ Â∏∏Áî®ÁªÑ‰ª∂ÔºöÊó•ÂøóÔºàÁôªÂΩï„ÄÅÊìç‰ΩúÔºâËÆ∞ÂΩï„ÄÅËßíËâ≤ÊùÉÈôê„ÄÅÊÄßËÉΩÁõëÊéßÔºàÂú®Á∫øÁî®Êà∑„ÄÅÊï∞ÊçÆÊµÅËΩ¨„ÄÅÊúçÂä°Âô®ÊÄßËÉΩÔºâ„ÄÅÂ≠óÂÖ∏ÁÆ°ÁêÜ„ÄÅÂèÇÊï∞ËÆæÁΩÆ„ÄÅÂÖ¨ÂëäËÅäÂ§©Á≥ªÁªü„ÄÅ‰ª£Á†ÅÁîüÊàê„ÄÅÂÆöÊó∂‰ªªÂä° ÂºÄÊ∫êÈ°πÁõÆÁ†îÁ©∂ÔºöJEECG BOOT ‰Ωé‰ª£Á†ÅÂºÄÂèëÂπ≥Âè∞„ÄêÂ≠¶‰π†‰∏öÂä°Ôºö‰ª£Á†ÅÁîüÊàêÔºåÂ∑•‰ΩúÊµÅÔºåÊñá‰ª∂ÁÆ°ÁêÜÔºåÂçïÁÇπÁôªÂΩïÔºåÊï∞ÊçÆÊÄßËÉΩÁõëÊéßÔºåÊ∂àÊÅØ‰∏≠ÂøÉ„ÄëÊñáÊ°£ Â∑•ÂÖ∑Á±ª„ÄêÊñá‰ª∂„ÄêExcel„ÄÅÂõæÁâá„ÄÅWordÁ≠â„Äë„ÄÅÁΩëÁªú„ÄÅÂÆâÂÖ®„ÄêXss„Äë„ÄÅÊ†ºÂºè„ÄÅÁ∫øÁ®ã„ÄÅÊñáÊú¨„ÄêÊó•ÊúüÔºåjson„Äë„ÄÅÊó•Âøó„ÄÅ„Äë ÂâçÁ´ØÔºöÂ§ßÂ±èÔºåÂ∏∏Áî®ÁªÑ‰ª∂ÔºàÔºâ ÂºÄÊ∫êÈòÖËØª ÂºÄÊ∫êÈ°πÁõÆ JEECG ÁéØÂ¢ÉÔºö 123456789101112npm i yarn -gyarn config set registry https://registry.npm.taobao.org --globalyarn config set disturl https://npm.taobao.org/dist --globalyarn install yarnÂ∏∏Áî®ÂëΩ‰ª§yarn / yarn install Á≠âÂêå‰∫énpm install ÊâπÈáèÂÆâË£Ö‰æùËµñyarn add xxx Á≠âÂêå‰∫é npm install xxx ‚Äîsave ÂÆâË£ÖÊåáÂÆöÂåÖÂà∞ÊåáÂÆö‰ΩçÁΩÆyarn remove xxx Á≠âÂêå‰∫é npm uninstall xxx ‚Äîsave Âç∏ËΩΩÊåáÂÆöÂåÖyarn add xxx ‚Äîdev Á≠âÂêå‰∫é npm install xxx ‚Äîsave-devyarn upgrade Á≠âÂêå‰∫é npm update ÂçáÁ∫ßÂÖ®ÈÉ®ÂåÖyarn global add xxx Á≠âÂêå‰∫é npm install xxx -g ÂÖ®Â±ÄÂÆâË£ÖÊåáÂÆöÂåÖ CRUD ÊâÄÊúâÁü•ËØÜ‰ªéCRUDÂºÄÂßã SSM SpringBoot SpringCloud Êñá‰ª∂‰∏ä‰º†‰∏ãËΩΩ Áõ∏ÂÖ≥ÂØπË±°Ôºö 1„ÄÅMultipartFile Âíå CommonsMultipartFileÈÉΩÊòØÁî®Êù•Êé•Êî∂‰∏ä‰º†ÁöÑÊñá‰ª∂ÊµÅÁöÑ ÔºÅ 2„ÄÅMultipartFileÊòØ‰∏Ä‰∏™Êé•Âè£ÔºåCommonsMultipartFileÊòØMultipartFileÊé•Âè£ÁöÑÂÆûÁé∞Á±ª ÔºÅ 3„ÄÅ‰ΩøÁî®MultipartFile‰Ωú‰∏∫ÂΩ¢ÂèÇÊé•Êî∂‰∏ä‰º†Êñá‰ª∂Êó∂ÔºåÁõ¥Êé•Áî®Âç≥ÂèØ„ÄÇCommonsMultipartFile‰Ωú‰∏∫ÂΩ¢ÂèÇÊé•Êî∂‰∏ä‰º†Êñá‰ª∂Êó∂ÔºåÂøÖÈúÄÊ∑ªÂä†@RequestParamÊ≥®Ëß£ÔºàÂê¶Âàô‰ºöÊä•ÈîôÔºöexception is java.lang.NoSuchMethodException: org.springframework.web.multipart.commons.CommonsMultipartFileÔºâ 12MultipartFile Êñá‰ª∂Ë∑ØÂæÑÔºö 1HttpServletRequest req ServletËé∑ÂèñÂΩìÂâçÈ°πÁõÆÁöÑ‰∏ä‰∏ãÊñáË∑ØÂæÑÔºàwebÊñá‰ª∂‰∏ãÁöÑË∑ØÂæÑÔºâÔºö 1req.getContextPath() ServletËé∑ÂèñÂΩìÂâçÈ°πÁõÆÁöÑ‰∏ä‰∏ãÊñáÁöÑÁªùÂØπË∑ØÂæÑÔºàwebÊñá‰ª∂‰∏ãÁöÑË∑ØÂæÑÔºâÔºö 1req.getServletContext().getRealPath(); Ëé∑ÂèñJavaÁ®ãÂ∫è‰∏≠ÁöÑresourcesÊñá‰ª∂Ë∑ØÂæÑÔºö 1Resources.getResourceAsStream() ÂâçÂêéÁ´Ø‰∫§‰∫íÔºö Ë∑®Âüü Ëß£ÂÜ≥Ê†πÊú¨ÂéüÁêÜ ‰ªÄ‰πàÊÉÖÂÜµ‰ºöË∑®Âüü Âêå‰∏ÄÂçèËÆÆÔºå Â¶ÇhttpÊàñhttps Âêå‰∏ÄIPÂú∞ÂùÄ, Â¶Ç127.0.0.1 Âêå‰∏ÄÁ´ØÂè£, Â¶Ç8080 ‰ª•‰∏ä‰∏â‰∏™Êù°‰ª∂‰∏≠Êúâ‰∏Ä‰∏™Êù°‰ª∂‰∏çÂêåÂ∞±‰ºö‰∫ßÁîüË∑®ÂüüÈóÆÈ¢ò„ÄÇ Ëß£ÂÜ≥ÊñπÊ°à ÂâçÁ´ØËß£ÂÜ≥ÊñπÊ°à ‰ΩøÁî®JSONPÊñπÂºèÂÆûÁé∞Ë∑®ÂüüË∞ÉÁî®Ôºõ ‰ΩøÁî®NodeJSÊúçÂä°Âô®ÂÅö‰∏∫ÊúçÂä°‰ª£ÁêÜÔºåÂâçÁ´ØÂèëËµ∑ËØ∑Ê±ÇÂà∞NodeJSÊúçÂä°Âô®Ôºå NodeJSÊúçÂä°Âô®‰ª£ÁêÜËΩ¨ÂèëËØ∑Ê±ÇÂà∞ÂêéÁ´ØÊúçÂä°Âô®Ôºõ ÂêéÁ´ØËß£ÂÜ≥ÊñπÊ°à nginxÂèçÂêë‰ª£ÁêÜËß£ÂÜ≥Ë∑®Âüü ÊúçÂä°Á´ØËÆæÁΩÆResponse Header(ÂìçÂ∫îÂ§¥ÈÉ®)ÁöÑAccess-Control-Allow-Origin Âú®ÈúÄË¶ÅË∑®ÂüüËÆøÈóÆÁöÑÁ±ªÂíåÊñπÊ≥ï‰∏≠ËÆæÁΩÆÂÖÅËÆ∏Ë∑®ÂüüËÆøÈóÆÔºàÂ¶ÇSpring‰∏≠‰ΩøÁî®@CrossOriginÊ≥®Ëß£ÔºâÔºõ ÁªßÊâø‰ΩøÁî®Spring WebÁöÑCorsFilterÔºàÈÄÇÁî®‰∫éSpring MVC„ÄÅSpring BootÔºâ ÂÆûÁé∞WebMvcConfigurerÊé•Âè£ÔºàÈÄÇÁî®‰∫éSpring BootÔºâ WebService ÁÆÄ‰ªã Ë∑®ÁºñÁ®ãËØ≠Ë®ÄÂíåË∑®Êìç‰ΩúÁ≥ªÁªüÂπ≥Âè∞ÁöÑËøúÁ®ãË∞ÉÁî®ÊäÄÊúØ ÂéüÁêÜ XML,SOAPÂíåWSDLÂ∞±ÊòØÊûÑÊàêWebServiceÂπ≥Âè∞ÁöÑ‰∏âÂ§ßÊäÄÊúØ „ÄÇ WebServiceÈááÁî®HttpÂçèËÆÆÊù•Âú®ÂÆ¢Êà∑Á´ØÂíåÊúçÂä°Á´Ø‰πãÈó¥‰º†ËæìÊï∞ÊçÆ„ÄÇWebService‰ΩøÁî®XMLÊù•Â∞ÅË£ÖÊï∞ÊçÆÔºåXML‰∏ªË¶ÅÁöÑ‰ºòÁÇπÂú®‰∫éÂÆÉÊòØË∑®Âπ≥Âè∞ÁöÑ„ÄÇ WebServiceÈÄöËøáHTTPÂçèËÆÆÂèëÈÄÅËØ∑Ê±ÇÂíåÊé•Êî∂ÁªìÊûúÊó∂ÔºåÂèëÈÄÅÁöÑËØ∑Ê±ÇÂÜÖÂÆπÂíåÁªìÊûúÂÜÖÂÆπÈÉΩÈááÁî®XMLÊ†ºÂºèÂ∞ÅË£ÖÔºåÂπ∂Â¢ûÂä†‰∫Ü‰∏Ä‰∫õÁâπÂÆöÁöÑHTTPÊ∂àÊÅØÂ§¥Ôºå‰ª•ËØ¥ÊòéHTTPÊ∂àÊÅØÁöÑÂÜÖÂÆπÊ†ºÂºèÔºåËøô‰∫õÁâπÂÆöÁöÑHTTPÊ∂àÊÅØÂ§¥ÂíåXMLÂÜÖÂÆπÊ†ºÂºèÂ∞±ÊòØSOAPÂçèËÆÆËßÑÂÆöÁöÑ„ÄÇ WebServiceÊúçÂä°Âô®Á´ØÈ¶ñÂÖàË¶ÅÈÄöËøá‰∏Ä‰∏™WSDLÊñá‰ª∂Êù•ËØ¥ÊòéËá™Â∑±Êúâ‰ªÄ‰πàÊúçÂä°ÂèØ‰ª•ÂØπÂ§ñË∞ÉÁî®„ÄÇÁÆÄÂçïÁöÑËØ¥ÔºåWSDLÂ∞±ÂÉèÊòØ‰∏Ä‰∏™ËØ¥Êòé‰π¶ÔºåÁî®‰∫éÊèèËø∞WebServiceÂèäÂÖ∂ÊñπÊ≥ï„ÄÅÂèÇÊï∞ÂíåËøîÂõûÂÄº„ÄÇ WSDLÊñá‰ª∂‰øùÂ≠òÂú®WebÊúçÂä°Âô®‰∏äÔºåÈÄöËøá‰∏Ä‰∏™urlÂú∞ÂùÄÂ∞±ÂèØ‰ª•ËÆøÈóÆÂà∞ÂÆÉ„ÄÇÂÆ¢Êà∑Á´ØË¶ÅË∞ÉÁî®‰∏Ä‰∏™WebServiceÊúçÂä°‰πãÂâçÔºåË¶ÅÁü•ÈÅìËØ•ÊúçÂä°ÁöÑWSDLÊñá‰ª∂ÁöÑÂú∞ÂùÄ„ÄÇWebServiceÊúçÂä°Êèê‰æõÂïÜÂèØ‰ª•ÈÄöËøá‰∏§ÁßçÊñπÂºèÊù•Êö¥Èú≤ÂÆÉÁöÑWSDLÊñá‰ª∂Âú∞ÂùÄÔºö1.Ê≥®ÂÜåÂà∞UDDIÊúçÂä°Âô®Ôºå‰ª•‰æøË¢´‰∫∫Êü•ÊâæÔºõ2.Áõ¥Êé•ÂëäËØâÁªôÂÆ¢Êà∑Á´ØË∞ÉÁî®ËÄÖ„ÄÇ RESTful ÁÆÄ‰ªã Êï∞ÊçÆÊ†ºÂºè JSON Êï∞ÊçÆÁ§∫‰æã 1234567{ &quot;sites&quot;: [ { &quot;name&quot;:&quot;a&quot; , &quot;url&quot;:&quot;www.runoob.com&quot; }, { &quot;name&quot;:&quot;b&quot; , &quot;url&quot;:&quot;www.google.com&quot; }, { &quot;name&quot;:&quot;c&quot; , &quot;url&quot;:&quot;www.weibo.com&quot; } ]} ‰∏çÂêåÊï∞ÊçÆÁõ∏‰∫íËΩ¨Êç¢ÊñπÂºè Â≠óÁ¨¶‰∏≤ÔºåMapÔºåÂØπË±°ÔºåJSONObjectÔºàÊó†Â∫èÔºâÔºåJSONArrayÔºàÊúâÂ∫èÔºâÔºåJavaÊï∞ÁªÑ Â≠óÁ¨¶‰∏≤2Json 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849```### Âà§Êñ≠ÊòØÂê¶ÂåÖÂê´.has### CRUD### ÂèñÂÄº```javastatic Map analysisJsonResultMap = new HashMap(); public static Map analysisJson(Object objJson) { //Â¶ÇÊûúobj‰∏∫jsonÊï∞ÁªÑ if (objJson instanceof JSONArray) { JSONArray objArray = (JSONArray) objJson; for (int i = 0; i &lt; objArray.size(); i++) { analysisJson(objArray.get(i)); } } //Â¶ÇÊûú‰∏∫jsonÂØπË±° else if (objJson instanceof JSONObject) { JSONObject jsonObject = (JSONObject) objJson; Iterator it = jsonObject.keySet().iterator(); while (it.hasNext()) { String key = it.next().toString(); Object object = jsonObject.get(key); //Â¶ÇÊûúÂæóÂà∞ÁöÑÊòØÊï∞ÁªÑ if (object instanceof JSONArray) { JSONArray objArray = (JSONArray) object; analysisJson(objArray); } //Â¶ÇÊûúkey‰∏≠ÊòØ‰∏Ä‰∏™jsonÂØπË±° else if (object instanceof JSONObject) { analysisJson((JSONObject) object); } //Â¶ÇÊûúkey‰∏≠ÊòØÂÖ∂‰ªñ else { System.out.println(&quot;[&quot; + key + &quot;]:&quot; + object.toString() + &quot; &quot;); analysisJsonResultMap.put(key, object.toString()); } } } return analysisJsonResultMap; } ÂºÄÊ∫êÁõ∏ÂÖ≥ https://www.runoob.com/w3cnote/open-source-license.html ÂçïÂÖÉÊµãËØï ÂàÜÂ±ÇÊµãËØï SpringBootÂø´Êç∑ÊµãËØï Èº†Ê†áÊîæÂú®Ë¶ÅÊµãËØïÁöÑÁ±ªÂêç‰∏äcommand+shift+T DAO Service Controller JUnit ÈùûÂ∏∏ÁÆÄÂçïÂú∞ÁªÑÁªáÊµãËØï‰ª£Á†ÅÔºåÂπ∂ÈöèÊó∂ËøêË°åÂÆÉ‰ª¨ÔºåJUnitÂ∞±‰ºöÁªôÂá∫ÊàêÂäüÁöÑÊµãËØïÂíåÂ§±Ë¥•ÁöÑÊµãËØïÔºå ËøòÂèØ‰ª•ÁîüÊàêÊµãËØïÊä•ÂëäÔºå‰∏ç‰ªÖÂåÖÂê´ÊµãËØïÁöÑÊàêÂäüÁéáÔºåËøòÂèØ‰ª•ÁªüËÆ°ÊµãËØïÁöÑ‰ª£Á†ÅË¶ÜÁõñÁéáÔºåÂç≥Ë¢´ÊµãËØïÁöÑ‰ª£Á†ÅÊú¨Ë∫´ÊúâÂ§öÂ∞ëÁªèËøá‰∫ÜÊµãËØï„ÄÇ ÂØπ‰∫éÈ´òË¥®ÈáèÁöÑ‰ª£Á†ÅÊù•ËØ¥ÔºåÊµãËØïË¶ÜÁõñÁéáÂ∫îËØ•Âú®80%‰ª•‰∏ä„ÄÇ Ê≠§Â§ñÔºåÂá†‰πéÊâÄÊúâÁöÑIDEÂ∑•ÂÖ∑ÈÉΩÈõÜÊàê‰∫ÜJUnitÔºåËøôÊ†∑Êàë‰ª¨Â∞±ÂèØ‰ª•Áõ¥Êé•Âú®IDE‰∏≠ÁºñÂÜôÂπ∂ËøêË°åJUnitÊµãËØï„ÄÇ ‰∏ÄÊòØÂçïÂÖÉÊµãËØï‰ª£Á†ÅÊú¨Ë∫´ÂøÖÈ°ªÈùûÂ∏∏ÁÆÄÂçïÔºåËÉΩ‰∏Ä‰∏ãÁúãÊòéÁôΩÔºåÂÜ≥‰∏çËÉΩÂÜç‰∏∫ÊµãËØï‰ª£Á†ÅÁºñÂÜôÊµãËØïÔºõ ‰∫åÊòØÊØè‰∏™ÂçïÂÖÉÊµãËØïÂ∫îÂΩì‰∫íÁõ∏Áã¨Á´ãÔºå‰∏ç‰æùËµñËøêË°åÁöÑÈ°∫Â∫èÔºõ ‰∏âÊòØÊµãËØïÊó∂‰∏ç‰ΩÜË¶ÅË¶ÜÁõñÂ∏∏Áî®ÊµãËØïÁî®‰æãÔºåËøòË¶ÅÁâπÂà´Ê≥®ÊÑèÊµãËØïËæπÁïåÊù°‰ª∂Ôºå‰æãÂ¶ÇËæìÂÖ•‰∏∫0ÔºånullÔºåÁ©∫Â≠óÁ¨¶‰∏≤&quot;&quot;Á≠âÊÉÖÂÜµ„ÄÇ ÊµãËØïÂèØÂõûÊªö Junit4 or 5 ? 1234567891011121314151617181920212223242526272829303132333435//junit5 Spring Boot 2.2.X‰ª•Âêéimport org.junit.jupiter.api.Test;//junit4 Spring Boot 2.2.X‰ª•Âêéimport org.junit.Test;//POM//junit4&lt;dependency&gt; &lt;groupId&gt;junit&lt;/groupId&gt; &lt;artifactId&gt;junit&lt;/artifactId&gt; &lt;version&gt;4.13.1&lt;/version&gt; &lt;scope&gt;test&lt;/scope&gt;&lt;/dependency&gt;//junit5&lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt; &lt;scope&gt;test&lt;/scope&gt; &lt;exclusions&gt; &lt;exclusion&gt; &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt; &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt; &lt;/exclusion&gt; &lt;/exclusions&gt;&lt;/dependency&gt;- JUnit ‚Äî The de-facto standard for unit testing Java applications.- Spring Test &amp; Spring Boot Test ‚Äî Utilities and integration test support for Spring Boot applications.- AssertJ ‚Äî A fluent assertion library.- Hamcrest ‚Äî A library of matcher objects (also known as constraints or predicates).- Mockito ‚Äî A Java mocking framework.- JSONassert ‚Äî An assertion library for JSON.- JsonPath ‚Äî XPath for JSON. Spring Boot 2.2 ‰πãÂêéÁöÑ pom.xml IDEA Ctrl+Shift+T (Window) ÂàõÂª∫ÊµãËØïÁ±ª Ê≥®Ëß£ÂèòÂåñ @RunWith(SpringRunner.class) + @SpringBootTest =====„Äã @SpringBootTest 123456//JUnit4@RunWith(SpringRunner.class)@SpringBootTest//JUnit5//@RunWithË¢´@ExtendWithÊõøÊç¢„ÄÇÂêåÊó∂Êúâ‰∏ã@SpringBootTestÊ∫êÁ†ÅÂæóÁü•@SpringBootTestÂåÖÂê´@ExtendWith@SpringBootTest 1234567@Target({ElementType.TYPE})@Retention(RetentionPolicy.RUNTIME)@Documented@Inherited@BootstrapWith(SpringBootTestContextBootstrapper.class)@ExtendWith({SpringExtension.class})public @interface SpringBootTest { ÊÄªÁªì Junit4 Junit5 Before BeforeEach After AfterEach BeforeClass BeforeAll AfterClass AfterAll Category Tag RunWith ExtendWith Rule ExtendWith ClassRule RegisterExtension Junit5Â∏∏Áî®Ê≥®Ëß£ @BeforeClassÔºöÈíàÂØπÊâÄÊúâÊµãËØïÔºåÂè™ÊâßË°å‰∏ÄÊ¨°Ôºå‰∏îÂøÖÈ°ª‰∏∫static void @BeforeÔºöÂàùÂßãÂåñÊñπÊ≥ïÔºåÊâßË°åÂΩìÂâçÊµãËØïÁ±ªÁöÑÊØè‰∏™ÊµãËØïÊñπÊ≥ïÂâçÊâßË°å„ÄÇ @TestÔºöÊµãËØïÊñπÊ≥ïÔºåÂú®ËøôÈáåÂèØ‰ª•ÊµãËØïÊúüÊúõÂºÇÂ∏∏ÂíåË∂ÖÊó∂Êó∂Èó¥ @AfterÔºöÈáäÊîæËµÑÊ∫êÔºåÊâßË°åÂΩìÂâçÊµãËØïÁ±ªÁöÑÊØè‰∏™ÊµãËØïÊñπÊ≥ïÂêéÊâßË°å @AfterClassÔºöÈíàÂØπÊâÄÊúâÊµãËØïÔºåÂè™ÊâßË°å‰∏ÄÊ¨°Ôºå‰∏îÂøÖÈ°ª‰∏∫static void @IgnoreÔºöÂøΩÁï•ÁöÑÊµãËØïÊñπÊ≥ïÔºàÂè™Âú®ÊµãËØïÁ±ªÁöÑÊó∂ÂÄôÁîüÊïàÔºåÂçïÁã¨ÊâßË°åËØ•ÊµãËØïÊñπÊ≥ïÊó†ÊïàÔºâ @RunWith:ÂèØ‰ª•Êõ¥ÊîπÊµãËØïËøêË°åÂô® ÔºåÁº∫ÁúÅÂÄº org.junit.runner.Runner ‰∏Ä‰∏™ÂçïÂÖÉÊµãËØïÁ±ªÊâßË°åÈ°∫Â∫è‰∏∫Ôºö @BeforeClass ‚Äì&gt; @Before ‚Äì&gt; @Test ‚Äì&gt; @After ‚Äì&gt; @AfterClass ÊØè‰∏Ä‰∏™ÊµãËØïÊñπÊ≥ïÁöÑË∞ÉÁî®È°∫Â∫è‰∏∫Ôºö @Before ‚Äì&gt; @Test ‚Äì&gt; @After Êñ≠Ë®Ä(assertThat) Âü∫Á°ÄËØ≠Ê≥ï assertThat( [value], [matcher statement] ); value ÊòØÊé•‰∏ãÊù•ÊÉ≥Ë¶ÅÊµãËØïÁöÑÂèòÈáèÂÄºÔºõ matcher statement ÊòØ‰ΩøÁî® Hamcrest ÂåπÈÖçÁ¨¶Êù•Ë°®ËææÁöÑÂØπÂâçÈù¢ÂèòÈáèÊâÄÊúüÊúõÁöÑÂÄºÁöÑÂ£∞ÊòéÔºåÂ¶ÇÊûú value ÂÄº‰∏é matcher statement ÊâÄË°®ËææÁöÑÊúüÊúõÂÄºÁõ∏Á¨¶ÔºåÂàôÊµãËØïÊàêÂäüÔºåÂê¶ÂàôÊµãËØïÂ§±Ë¥•„ÄÇ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960import static org.junit.Assert.*;Â≠óÁ¨¶Áõ∏ÂÖ≥ÂåπÈÖçÁ¨¶/**equalToÂåπÈÖçÁ¨¶Êñ≠Ë®ÄË¢´ÊµãÁöÑtestedValueÁ≠â‰∫éexpectedValueÔºå* equalToÂèØ‰ª•Êñ≠Ë®ÄÊï∞ÂÄº‰πãÈó¥ÔºåÂ≠óÁ¨¶‰∏≤‰πãÈó¥ÂíåÂØπË±°‰πãÈó¥ÊòØÂê¶Áõ∏Á≠âÔºåÁõ∏ÂΩì‰∫éObjectÁöÑequalsÊñπÊ≥ï*/assertThat(testedValue, equalTo(expectedValue));/**equalToIgnoringCaseÂåπÈÖçÁ¨¶Êñ≠Ë®ÄË¢´ÊµãÁöÑÂ≠óÁ¨¶‰∏≤testedString*Âú®ÂøΩÁï•Â§ßÂ∞èÂÜôÁöÑÊÉÖÂÜµ‰∏ãÁ≠â‰∫éexpectedString*/assertThat(testedString, equalToIgnoringCase(expectedString));/**equalToIgnoringWhiteSpaceÂåπÈÖçÁ¨¶Êñ≠Ë®ÄË¢´ÊµãÁöÑÂ≠óÁ¨¶‰∏≤testedString*Âú®ÂøΩÁï•Â§¥Â∞æÁöÑ‰ªªÊÑè‰∏™Á©∫Ê†ºÁöÑÊÉÖÂÜµ‰∏ãÁ≠â‰∫éexpectedStringÔºå*Ê≥®ÊÑèÔºöÂ≠óÁ¨¶‰∏≤‰∏≠ÁöÑÁ©∫Ê†º‰∏çËÉΩË¢´ÂøΩÁï•*/assertThat(testedString, equalToIgnoringWhiteSpace(expectedString);/**containsStringÂåπÈÖçÁ¨¶Êñ≠Ë®ÄË¢´ÊµãÁöÑÂ≠óÁ¨¶‰∏≤testedStringÂåÖÂê´Â≠êÂ≠óÁ¨¶‰∏≤subString**/assertThat(testedString, containsString(subString) );/**endsWithÂåπÈÖçÁ¨¶Êñ≠Ë®ÄË¢´ÊµãÁöÑÂ≠óÁ¨¶‰∏≤testedString‰ª•Â≠êÂ≠óÁ¨¶‰∏≤suffixÁªìÂ∞æ*/assertThat(testedString, endsWith(suffix));/**startsWithÂåπÈÖçÁ¨¶Êñ≠Ë®ÄË¢´ÊµãÁöÑÂ≠óÁ¨¶‰∏≤testedString‰ª•Â≠êÂ≠óÁ¨¶‰∏≤prefixÂºÄÂßã*/assertThat(testedString, startsWith(prefix));‰∏ÄËà¨ÂåπÈÖçÁ¨¶/**nullValue()ÂåπÈÖçÁ¨¶Êñ≠Ë®ÄË¢´ÊµãobjectÁöÑÂÄº‰∏∫null*/assertThat(object,nullValue());/**notNullValue()ÂåπÈÖçÁ¨¶Êñ≠Ë®ÄË¢´ÊµãobjectÁöÑÂÄº‰∏ç‰∏∫null*/assertThat(object,notNullValue());/**isÂåπÈÖçÁ¨¶Êñ≠Ë®ÄË¢´ÊµãÁöÑobjectÁ≠â‰∫éÂêéÈù¢ÁªôÂá∫ÂåπÈÖçË°®ËææÂºè*/assertThat(testedString, is(equalTo(expectedValue)));/**isÂåπÈÖçÁ¨¶ÁÆÄÂÜôÂ∫îÁî®‰πã‰∏ÄÔºåis(equalTo(x))ÁöÑÁÆÄÂÜôÔºåÊñ≠Ë®ÄtestedValueÁ≠â‰∫éexpectedValue*/assertThat(testedValue, is(expectedValue));/**isÂåπÈÖçÁ¨¶ÁÆÄÂÜôÂ∫îÁî®‰πã‰∫åÔºåis(instanceOf(SomeClass.class))ÁöÑÁÆÄÂÜôÔºå*Êñ≠Ë®ÄtestedObject‰∏∫CheddarÁöÑÂÆû‰æã*/assertThat(testedObject, is(Cheddar.class));/**notÂåπÈÖçÁ¨¶ÂíåisÂåπÈÖçÁ¨¶Ê≠£Â•ΩÁõ∏ÂèçÔºåÊñ≠Ë®ÄË¢´ÊµãÁöÑobject‰∏çÁ≠â‰∫éÂêéÈù¢ÁªôÂá∫ÁöÑobject*/assertThat(testedString, not(expectedString));/**allOfÂåπÈÖçÁ¨¶Êñ≠Ë®ÄÁ¨¶ÂêàÊâÄÊúâÊù°‰ª∂ÔºåÁõ∏ÂΩì‰∫é‚Äú‰∏é‚ÄùÔºà&amp;&amp;Ôºâ*/assertThat(testedNumber, allOf( greaterThan(8), lessThan(16) ) );/**anyOfÂåπÈÖçÁ¨¶Êñ≠Ë®ÄÁ¨¶ÂêàÊù°‰ª∂‰πã‰∏ÄÔºåÁõ∏ÂΩì‰∫é‚ÄúÊàñ‚ÄùÔºà||Ôºâ*/assertThat(testedNumber, anyOf( greaterThan(16), lessThan(8) ) );Êï∞ÂÄºÁõ∏ÂÖ≥ÂåπÈÖçÁ¨¶/**closeToÂåπÈÖçÁ¨¶Êñ≠Ë®ÄË¢´ÊµãÁöÑÊµÆÁÇπÂûãÊï∞testedDoubleÂú®20.0¬°√Ä0.5ËåÉÂõ¥‰πãÂÜÖ*/assertThat(testedDouble, closeTo( 20.0, 0.5 ));/**greaterThanÂåπÈÖçÁ¨¶Êñ≠Ë®ÄË¢´ÊµãÁöÑÊï∞ÂÄºtestedNumberÂ§ß‰∫é16.0*/assertThat(testedNumber, greaterThan(16.0));/** lessThanÂåπÈÖçÁ¨¶Êñ≠Ë®ÄË¢´ÊµãÁöÑÊï∞ÂÄºtestedNumberÂ∞è‰∫é16.0*/assertThat(testedNumber, lessThan (16.0));/** greaterThanOrEqualToÂåπÈÖçÁ¨¶Êñ≠Ë®ÄË¢´ÊµãÁöÑÊï∞ÂÄºtestedNumberÂ§ß‰∫éÁ≠â‰∫é16.0*/assertThat(testedNumber, greaterThanOrEqualTo (16.0));/** lessThanOrEqualToÂåπÈÖçÁ¨¶Êñ≠Ë®ÄË¢´ÊµãÁöÑtestedNumberÂ∞è‰∫éÁ≠â‰∫é16.0*/assertThat(testedNumber, lessThanOrEqualTo (16.0));ÈõÜÂêàÁõ∏ÂÖ≥ÂåπÈÖçÁ¨¶/**hasEntryÂåπÈÖçÁ¨¶Êñ≠Ë®ÄË¢´ÊµãÁöÑMapÂØπË±°mapObjectÂê´Êúâ‰∏Ä‰∏™ÈîÆÂÄº‰∏∫&quot;key&quot;ÂØπÂ∫îÂÖÉÁ¥†ÂÄº‰∏∫&quot;value&quot;ÁöÑEntryÈ°π*/assertThat(mapObject, hasEntry(&quot;key&quot;, &quot;value&quot; ) );/**hasItemÂåπÈÖçÁ¨¶Ë°®ÊòéË¢´ÊµãÁöÑËø≠‰ª£ÂØπË±°iterableObjectÂê´ÊúâÂÖÉÁ¥†elementÈ°πÂàôÊµãËØïÈÄöËøá*/assertThat(iterableObject, hasItem (element));/** hasKeyÂåπÈÖçÁ¨¶Êñ≠Ë®ÄË¢´ÊµãÁöÑMapÂØπË±°mapObjectÂê´ÊúâÈîÆÂÄº‚Äúkey‚Äù*/assertThat(mapObject, hasKey (&quot;key&quot;));/** hasValueÂåπÈÖçÁ¨¶Êñ≠Ë®ÄË¢´ÊµãÁöÑMapÂØπË±°mapObjectÂê´ÊúâÂÖÉÁ¥†ÂÄºvalue*/assertThat(mapObject, hasValue(value)); ÂèØË°®ËææÂÖ®ÈÉ®ÁöÑÊµãËØïÊÄùÊÉ≥„ÄÇ Springboot ÂèØËá™Âä®ÁîüÊàêÊµãËØï‰ª£Á†Å IDEA Ctrl + Shift +T ÁîüÊàêÊµãËØïÁ±ª Service 123456789101112131415161718192021import org.junit.Assert;import org.junit.Test;import org.junit.runner.RunWith;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.boot.test.context.SpringBootTest;import org.springframework.test.context.junit4.SpringRunner;import static org.hamcrest.CoreMatchers.*;@RunWith(SpringRunner.class)@SpringBootTestpublic class LearnServiceTest { @Autowired private LearnService learnService; @Test public void getLearn(){ LearnResource learnResource=learnService.selectByKey(1001L); Assert.assertThat(learnResource.getAuthor(),is(&quot;ÂòüÂòüMDÁã¨Á´ãÂçöÂÆ¢&quot;)); }} Controller MockMvcÔºöÂèØ‰ª•‰∏çÂêØÂä®Â∑•Á®ãÊµãËØïÊé•Âè£ÔºåMockMvc ÂÆûÁé∞‰∫ÜÂØπ Http ËØ∑Ê±ÇÁöÑÊ®°ÊãüÔºåËÉΩÂ§üÁõ¥Êé•‰ΩøÁî®ÁΩëÁªúÁöÑÂΩ¢ÂºèÔºåËΩ¨Êç¢Âà∞ Controller ÁöÑË∞ÉÁî®ÔºåËøôÊ†∑ÂèØ‰ª•‰ΩøÂæóÊµãËØïÈÄüÂ∫¶Âø´„ÄÅ‰∏ç‰æùËµñÁΩëÁªúÁéØÂ¢ÉÔºåËÄå‰∏îÊèê‰æõ‰∫Ü‰∏ÄÂ•óÈ™åËØÅÁöÑÂ∑•ÂÖ∑ÔºåËøôÊ†∑ÂèØ‰ª•‰ΩøÂæóËØ∑Ê±ÇÁöÑÈ™åËØÅÁªü‰∏ÄËÄå‰∏îÂæàÊñπ‰æø„ÄÇ mockMvc.performÊâßË°å‰∏Ä‰∏™ËØ∑Ê±Ç MockMvcRequestBuilders.get(‚Äú/user/1‚Äù)ÊûÑÈÄ†‰∏Ä‰∏™ËØ∑Ê±ÇÔºåPostËØ∑Ê±ÇÂ∞±Áî®.postÊñπÊ≥ï contentType(MediaType.APPLICATION_JSON_UTF8)‰ª£Ë°®ÂèëÈÄÅÁ´ØÂèëÈÄÅÁöÑÊï∞ÊçÆÊ†ºÂºèÊòØapplication/json;charset=UTF-8 accept(MediaType.APPLICATION_JSON_UTF8)‰ª£Ë°®ÂÆ¢Êà∑Á´ØÂ∏åÊúõÊé•ÂèóÁöÑÊï∞ÊçÆÁ±ªÂûã‰∏∫application/json;charset=UTF-8 session(session)Ê≥®ÂÖ•‰∏Ä‰∏™sessionÔºåËøôÊ†∑Êã¶Êà™Âô®ÊâçÂèØ‰ª•ÈÄöËøá ResultActions.andExpectÊ∑ªÂä†ÊâßË°åÂÆåÊàêÂêéÁöÑÊñ≠Ë®Ä ResultActions.andExpect(MockMvcResultMatchers.status().isOk())ÊñπÊ≥ïÁúãËØ∑Ê±ÇÁöÑÁä∂ÊÄÅÂìçÂ∫îÁ†ÅÊòØÂê¶‰∏∫200Â¶ÇÊûú‰∏çÊòØÂàôÊäõÂºÇÂ∏∏ÔºåÊµãËØï‰∏çÈÄöËøá andExpect(MockMvcResultMatchers.jsonPath(‚Äú$.author‚Äù).value(‚ÄúÂòüÂòüMDÁã¨Á´ãÂçöÂÆ¢‚Äù))ËøôÈáåjsonPathÁî®Êù•Ëé∑ÂèñauthorÂ≠óÊÆµÊØîÂØπÊòØÂê¶‰∏∫ÂòüÂòüMDÁã¨Á´ãÂçöÂÆ¢,‰∏çÊòØÂ∞±ÊµãËØï‰∏çÈÄöËøá ResultActions.andDoÊ∑ªÂä†‰∏Ä‰∏™ÁªìÊûúÂ§ÑÁêÜÂô®ÔºåË°®Á§∫Ë¶ÅÂØπÁªìÊûúÂÅöÁÇπ‰ªÄ‰πà‰∫ãÊÉÖÔºåÊØîÂ¶ÇÊ≠§Â§Ñ‰ΩøÁî®MockMvcResultHandlers.print()ËæìÂá∫Êï¥‰∏™ÂìçÂ∫îÁªìÊûú‰ø°ÊÅØ ÂçïÂÖÉÊµãËØïÂõûÊªö ÊµãËØïÁöÑÂûÉÂúæÊï∞ÊçÆÊ∏ÖÁêÜÔºåÊ∑ªÂä†Ê≥®Ëß£ @Transactional ÈªòËÆ§ÂºïÊìéÊòØInnoDBÊúâÊïàÔºåMyISAMÔºàMySQL5.5‰πãÂâçÈªòËÆ§ÂºïÊìéÔºâ‰∏çÊîØÊåÅ‰∫ãÂä°„ÄÅ‰πü‰∏çÊîØÊåÅÂ§ñÈîÆ ÊÉ≥ÂÖ≥Èó≠ÂõûÊªöÔºåÂè™Ë¶ÅÂä†‰∏ä@Rollback(false)Ê≥®Ëß£Âç≥ÂèØ„ÄÇ@RollbackË°®Á§∫‰∫ãÂä°ÊâßË°åÂÆåÂõûÊªöÔºåÊîØÊåÅ‰º†ÂÖ•‰∏Ä‰∏™ÂèÇÊï∞valueÔºåÈªòËÆ§trueÂç≥ÂõûÊªöÔºåfalse‰∏çÂõûÊªö„ÄÇ ‰øÆÊîπÈªòËÆ§Êï∞ÊçÆÂ∫ìÂºïÊìéÁöÑÊ≠•È™§ MyISAMÈÄÇÂêàÔºö(1)ÂÅöÂæàÂ§öcount ÁöÑËÆ°ÁÆóÔºõ(2)ÊèíÂÖ•‰∏çÈ¢ëÁπÅÔºåÊü•ËØ¢ÈùûÂ∏∏È¢ëÁπÅÔºõ(3)Ê≤°Êúâ‰∫ãÂä°„ÄÇ InnoDBÈÄÇÂêàÔºö(1)ÂèØÈù†ÊÄßË¶ÅÊ±ÇÊØîËæÉÈ´òÔºåÊàñËÄÖË¶ÅÊ±Ç‰∫ãÂä°Ôºõ(2)Ë°®Êõ¥Êñ∞ÂíåÊü•ËØ¢ÈÉΩÁõ∏ÂΩìÁöÑÈ¢ëÁπÅÔºåÂπ∂‰∏îË°®ÈîÅÂÆöÁöÑÊú∫‰ºöÊØîËæÉÂ§ßÁöÑÊÉÖÂÜµ„ÄÇ(4)ÊÄßËÉΩËæÉÂ•ΩÁöÑÊúçÂä°Âô®ÔºåÊØîÂ¶ÇÂçïÁã¨ÁöÑÊï∞ÊçÆÂ∫ìÊúçÂä°Âô®ÔºåÂÉèÈòøÈáå‰∫ëÁöÑÂÖ≥Á≥ªÂûãÊï∞ÊçÆÂ∫ìRDSÂ∞±Êé®Ëçê‰ΩøÁî®InnoDBÂºïÊìé„ÄÇ show variables like '%storage_engine%'; show create table user; ALTER TABLE user ENGINE=INNODB; TextNG Ê≥®Ëß£Ë∑üjunitÂ∑Æ‰∏çÂ§öÔºå‰ΩÜÊòØÂäüËÉΩÊõ¥Â§ö„ÄÇ Swagger UI Êé•Âè£ÊñáÊ°£ÔºåÊé•Âè£ÊµãËØï ÂêØÂä®Á±ªÊ∑ªÂä†Ê≥®Ëß£@EnableSwagger2Doc 123456789101112131415161718192021222324252627282930313233343536@ApiÔºöÁî®Âú®ËØ∑Ê±ÇÁöÑÁ±ª‰∏äÔºåË°®Á§∫ÂØπÁ±ªÁöÑËØ¥Êòé tags=&quot;ËØ¥ÊòéËØ•Á±ªÁöÑ‰ΩúÁî®ÔºåÂèØ‰ª•Âú®UIÁïåÈù¢‰∏äÁúãÂà∞ÁöÑÊ≥®Ëß£&quot; value=&quot;ËØ•ÂèÇÊï∞Ê≤°‰ªÄ‰πàÊÑè‰πâÔºåÂú®UIÁïåÈù¢‰∏ä‰πüÁúãÂà∞ÔºåÊâÄ‰ª•‰∏çÈúÄË¶ÅÈÖçÁΩÆ&quot; @ApiOperationÔºöÁî®Âú®ËØ∑Ê±ÇÁöÑÊñπÊ≥ï‰∏äÔºåËØ¥ÊòéÊñπÊ≥ïÁöÑÁî®ÈÄî„ÄÅ‰ΩúÁî® value=&quot;ËØ¥ÊòéÊñπÊ≥ïÁöÑÁî®ÈÄî„ÄÅ‰ΩúÁî®&quot; notes=&quot;ÊñπÊ≥ïÁöÑÂ§áÊ≥®ËØ¥Êòé&quot; @ApiImplicitParamsÔºöÁî®Âú®ËØ∑Ê±ÇÁöÑÊñπÊ≥ï‰∏äÔºåË°®Á§∫‰∏ÄÁªÑÂèÇÊï∞ËØ¥Êòé @ApiImplicitParamÔºöÁî®Âú®@ApiImplicitParamsÊ≥®Ëß£‰∏≠ÔºåÊåáÂÆö‰∏Ä‰∏™ËØ∑Ê±ÇÂèÇÊï∞ÁöÑÂêÑ‰∏™ÊñπÈù¢ nameÔºöÂèÇÊï∞Âêç valueÔºöÂèÇÊï∞ÁöÑÊ±âÂ≠óËØ¥Êòé„ÄÅËß£Èáä requiredÔºöÂèÇÊï∞ÊòØÂê¶ÂøÖÈ°ª‰º† paramTypeÔºöÂèÇÊï∞ÊîæÂú®Âì™‰∏™Âú∞Êñπ ¬∑ header --&gt; ËØ∑Ê±ÇÂèÇÊï∞ÁöÑËé∑ÂèñÔºö@RequestHeader ¬∑ query --&gt; ËØ∑Ê±ÇÂèÇÊï∞ÁöÑËé∑ÂèñÔºö@RequestParam ¬∑ pathÔºàÁî®‰∫érestfulÊé•Âè£Ôºâ--&gt; ËØ∑Ê±ÇÂèÇÊï∞ÁöÑËé∑ÂèñÔºö@PathVariable ¬∑ bodyÔºà‰∏çÂ∏∏Áî®Ôºâ ¬∑ formÔºà‰∏çÂ∏∏Áî®Ôºâ dataTypeÔºöÂèÇÊï∞Á±ªÂûãÔºåÈªòËÆ§StringÔºåÂÖ∂ÂÆÉÂÄºdataType=&quot;Integer&quot; defaultValueÔºöÂèÇÊï∞ÁöÑÈªòËÆ§ÂÄº @ApiResponsesÔºöÁî®Âú®ËØ∑Ê±ÇÁöÑÊñπÊ≥ï‰∏äÔºåË°®Á§∫‰∏ÄÁªÑÂìçÂ∫î @ApiResponseÔºöÁî®Âú®@ApiResponses‰∏≠Ôºå‰∏ÄËà¨Áî®‰∫éË°®Ëææ‰∏Ä‰∏™ÈîôËØØÁöÑÂìçÂ∫î‰ø°ÊÅØ codeÔºöÊï∞Â≠óÔºå‰æãÂ¶Ç400 messageÔºö‰ø°ÊÅØÔºå‰æãÂ¶Ç&quot;ËØ∑Ê±ÇÂèÇÊï∞Ê≤°Â°´Â•Ω&quot; responseÔºöÊäõÂá∫ÂºÇÂ∏∏ÁöÑÁ±ª @ApiModelÔºöÁî®‰∫éÂìçÂ∫îÁ±ª‰∏äÔºåË°®Á§∫‰∏Ä‰∏™ËøîÂõûÂìçÂ∫îÊï∞ÊçÆÁöÑ‰ø°ÊÅØ ÔºàËøôÁßç‰∏ÄËà¨Áî®Âú®postÂàõÂª∫ÁöÑÊó∂ÂÄôÔºå‰ΩøÁî®@RequestBodyËøôÊ†∑ÁöÑÂú∫ÊôØÔºå ËØ∑Ê±ÇÂèÇÊï∞Êó†Ê≥ï‰ΩøÁî®@ApiImplicitParamÊ≥®Ëß£ËøõË°åÊèèËø∞ÁöÑÊó∂ÂÄôÔºâ @ApiModelPropertyÔºöÁî®Âú®Â±ûÊÄß‰∏äÔºåÊèèËø∞ÂìçÂ∫îÁ±ªÁöÑÂ±ûÊÄß httpËΩ¨https ‰∏§ËÄÖÂå∫Âà´Ôºö httpsÔºö‰ºòÔºö 1.Êï∞ÊçÆÂä†ÂØÜ 2.SSLÂÆâÂÖ®Êú∫Âà∂„ÄêÂÆ¢Êà∑Á´ØËÆøÈóÆÊúçÂä°Âô®-&gt;ÊúçÂä°Âô®ÊääÊï∞Â≠óËØÅ‰π¶+ÂÖ¨Áî®ÂØÜÂåô ÂèëÁªôÂÆ¢Êà∑Á´Ø-&gt;ÂÆ¢Êà∑Á´ØÈ™åËØÅÊúçÂä°Âô®ÔºåÁ°Æ‰øùËÆøÈóÆÁöÑÊòØÊ≠£Á°ÆÁöÑÊúçÂä°Âô®Ôºà‰∏çÊòØÈíìÈ±ºÁΩëÁ´ôÔºâ-&gt;ÂÆ¢Êà∑Á´ØÁîü‰∫ß‰ºöËØùÂØÜÂåôÂπ∂Áî®ÂÖ¨Áî®ÂØÜÂåôËøõË°åÂä†ÂØÜÂÜçÊ¨°ÂèëÁªôÊúçÂä°Âô®-&gt;ÊúçÂä°Âô®Áî®ÁßÅ‰∫∫ÂØÜÂåôËøõË°åËß£ÂØÜÔºà‰πüÂ∞±Áõ∏ÂΩì‰∫éÈ™åËØÅÂÆ¢Êà∑Á´ØÔºâÔºåÈ™åËØÅÊàêÂäüÂª∫Á´ãËµ∑‰∏ÄÊù°ÂÆâÂÖ®ÁöÑÊï∞ÊçÆ‰º†ÈÄíÈÄöÈÅì-&gt;ÊúçÂä°Âô®ÊääÂÆ¢Êà∑Á´ØËØ∑Ê±ÇÁöÑÊï∞ÊçÆÊâìÂåÖÂä†ÂØÜÂèëÈÄÅÁªôÂÆ¢Êà∑Á´Ø-&gt;ÂÆ¢Êà∑Á´ØÊµèËßàÂô®Êé•Êî∂Êï∞ÊçÆÂπ∂Ëß£Êûê 3.ÂÆâÂÖ®Ê†áËØÜÔºåÊèêÈ´òÁî®Êà∑‰ø°‰ªªÊÑü Ê≠•È™§Ôºö Áî≥ËØ∑SSLËØÅ‰π¶ ÂÆâË£ÖËØÅ‰π¶„ÄÇ Êï¥ÊîπÁΩëÁ´ôÈìæÊé• ÂÖ®Á´ôÂÅö301ËΩ¨ÂêëÔºåÂáèÂ∞ëÁΩëÁ´ôÊùÉÈáçÁöÑÊµÅÂ§± Áõ∏ÂÖ≥ ÊúçÂä°Âô® ÁöÑ 80„ÄÅ8080„ÄÅ443ÔºàhttpsÈªòËÆ§ÔºâÁ´ØÂè£ÂºÄÊîæÈúÄË¶ÅÂ§áÊ°à„ÄÇ nginx „Äêwin„Äë Ë¥≠‰π∞sslËØÅ‰π¶Ëé∑ÂæókeyÂíåpemÊñá‰ª∂ 123456789101112131415161718192021222324252627server { listen 8080 ssl; server_name aaa.bbb.com; ssl on; ssl_certificate E:/tys/nginx-1.12.2/key_pem//hzsgis.pem; ssl_certificate_key E:/tys/nginx-1.12.2/key_pem/hzsgis.key; ssl_session_cache shared:SSL:1m; ssl_session_timeout 20m; ssl_ciphers ECDHE-RSA-AES128-GCM-SHA256:ECDHE:ECDH:AES:HIGH:!aNULL:!MD5:!ADH:!RC4; ssl_protocols TLSv1 TLSv1.1 TLSv1.2; ssl_prefer_server_ciphers on; #charset koi8-r; #access_log logs/host.access.log main; location /main/map3d/rest { #add_header 'Access-Control-Allow-Headers' '*'; proxy_pass http://111.111.11.11:1111/main/map3d/rest; } #error_page 404 /404.html; # redirect server error pages to the static page /50x.html # error_page 500 502 503 504 /50x.html; location = /50x.html { root html; }} nginx „ÄêLinux„Äë Ë¥≠‰π∞sslËØÅ‰π¶Ëé∑ÂæókeyÂíåpemÊñá‰ª∂Âπ∂Ê∑ªÂä†Âà∞nginxÁõÆÂΩï‰∏ã Êîπ443Á´ØÂè£ÈÖçÁΩÆ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215216217218219220221222223224#user nobody;worker_processes 1;#error_log logs/error.log;#error_log logs/error.log notice;#error_log logs/error.log info;#pid logs/nginx.pid;events { worker_connections 1024;}http { include mime.types; default_type application/octet-stream; #log_format main '$remote_addr - $remote_user [$time_local] &quot;$request&quot; ' # '$status $body_bytes_sent &quot;$http_referer&quot; ' # '&quot;$http_user_agent&quot; &quot;$http_x_forwarded_for&quot;'; #access_log logs/access.log main; sendfile on; #tcp_nopush on; #keepalive_timeout 0; keepalive_timeout 65; #gzip on; upstream jq_one{server 10.32.250.176:8080 weight=5;server 10.32.250.177:8080 weight=5;}upstream jq_two{server 10.32.250.178:8080 weight=5;server 10.32.250.179:8080 weight=5;}server {listen 8080;server_name localhost;#charset koi8-r;#access_log logs/host.access.log main;location / {root html;index index.html index.htm;proxy_pass http://jq_two;proxy_set_header Host $http_host;proxy_set_header X-Real-IP $remote_addr;proxy_set_header REMOTE-HOST $remote_addr;proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;}} server { listen 80; server_name localhost; #charset koi8-r; #access_log logs/host.access.log main; location / { root html; index index.html index.htm; proxy_pass http://jq_one; proxy_set_header Host $http_host; proxy_set_header X-Real-IP $remote_addr; proxy_set_header REMOTE-HOST $remote_addr; proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for; } #error_page 404 /404.html; # redirect server error pages to the static page /50x.html # error_page 500 502 503 504 /50x.html; location = /50x.html { root html; } # proxy the PHP scripts to Apache listening on 127.0.0.1:80 # #location ~ \\.php$ { # proxy_pass http://127.0.0.1; #} # pass the PHP scripts to FastCGI server listening on 127.0.0.1:9000 # #location ~ \\.php$ { # root html; # fastcgi_pass 127.0.0.1:9000; # fastcgi_index index.php; # fastcgi_param SCRIPT_FILENAME /scripts$fastcgi_script_name; # include fastcgi_params; #} # deny access to .htaccess files, if Apache's document root # concurs with nginx's one # #location ~ /\\.ht { # deny all; #} } server { listen 443 ssl; server_name fyditu.fuyang.gov.cn; ssl_certificate /usr/local/nginx/key_pem//fyditu.fuyang.gov.cn_bundle.pem; ssl_certificate_key /usr/local/nginx/key_pem//fyditu.fuyang.gov.cn.key; ssl_session_cache shared:SSL:1m; ssl_session_timeout 20m; ssl_ciphers ECDHE-RSA-AES128-GCM-SHA256:ECDHE:ECDH:AES:HIGH:!aNULL:!MD5:!ADH:!RC4; ssl_protocols TLSv1 TLSv1.1 TLSv1.2; ssl_prefer_server_ciphers on; #charset koi8-r; #access_log logs/host.access.log main; location / { root html; index index.html index.htm; proxy_pass http://jq_one; proxy_set_header Host $http_host; proxy_set_header X-Real-IP $remote_addr; proxy_set_header REMOTE-HOST $remote_addr; proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for; } #error_page 404 /404.html; # redirect server error pages to the static page /50x.html # error_page 500 502 503 504 /50x.html; location = /50x.html { root html; } # proxy the PHP scripts to Apache listening on 127.0.0.1:80 # #location ~ \\.php$ { # proxy_pass http://127.0.0.1; #} # pass the PHP scripts to FastCGI server listening on 127.0.0.1:9000 # #location ~ \\.php$ { # root html; # fastcgi_pass 127.0.0.1:9000; # fastcgi_index index.php; # fastcgi_param SCRIPT_FILENAME /scripts$fastcgi_script_name; # include fastcgi_params; #} # deny access to .htaccess files, if Apache's document root # concurs with nginx's one # #location ~ /\\.ht { # deny all; #} } # another virtual host using mix of IP-, name-, and port-based configuration # #server { # listen 8000; # listen somename:8080; # server_name somename alias another.alias; # location / { # root html; # index index.html index.htm; # } #} # HTTPS server # #server { # listen 443 ssl; # server_name localhost; # ssl_certificate cert.pem; # ssl_certificate_key cert.key; # ssl_session_cache shared:SSL:1m; # ssl_session_timeout 5m; # ssl_ciphers HIGH:!aNULL:!MD5; # ssl_prefer_server_ciphers on; # location / { # root html; # index index.html index.htm; # } #}} Ê£ÄÈ™åÈÖçÁΩÆÊñá‰ª∂ 12/usr/local/nginx/sbin ÂÆâË£ÖÁõÆÂΩï‰∏ãÊâßË°å./nginx -t nginxÂÆâË£ÖSSLÊ®°Âùó 123456#ËøõÂÖ•nginxÊ∫êÁ†ÅÊñá‰ª∂Â§πÊâßË°åÔºå/usr/local/nginx‰∏∫ÂÆâË£ÖÊñá‰ª∂Â§π./configure --prefix=/usr/local/nginx --with-http_stub_status_module --with-http_ssl_module#ÊõøÊç¢ÂÆâË£Ö Èùûmake installË¶ÜÁõñÂÆâË£Ömake#Â§á‰ªΩcp /usr/local/nginx/sbin/nginx /usr/local/nginx/sbin/nginx.bak ÈáçÂêØ 12345678910111213#Êü•ÁúãnginxÁ´ØÂè£Âè∑ps -ef|grep nginx#ÂÖ≥Èó≠ËøõÁ®ãkill -QUIT Á´ØÂè£Âè∑#‰ªéÊ∫êÁ†ÅÊñá‰ª∂Â§πÂ§çÂà∂Âà∞ÂÆâË£ÖÊñá‰ª∂Â§πcp ./objs/nginx /usr/local/nginx/sbin/#ÂÖàÂàáÊç¢Âà∞sbinÁõÆÂΩïcd /usr/local/nginx/sbin/#Ê£ÄÊµãnginxÁöÑÈÖçÁΩÆÊñá‰ª∂ÊòØÂê¶ÊúâÈîôËØØ./niginx -t#ÂêØÂä®/usr/local/nginx/sbin/nginx -c /usr/local/nginx/conf/nginx.conf ÂºÄÈÄö443Á´ØÂè£ 123456789101112131415161718#1.ÂÖàÊü•ÁúãÊúçÂä°Âô®Èò≤ÁÅ´Â¢ôÂºÄÊîæÁöÑÁ´ØÂè£firewall-cmd --zone=public --list-ports //Êü•ÁúãÈò≤ÁÅ´Â¢ôÁöÑÂºÄÊîæÁ´ØÂè£#2.ÂÖÅËÆ∏Èò≤ÁÅ´Â¢ôÊîæË°å443Á´ØÂè£# ÂëΩ‰ª§Âê´‰πâÔºö# --zone #‰ΩúÁî®Âüü# --add-port=443/tcp #Ê∑ªÂä†Á´ØÂè£ÔºåÊ†ºÂºè‰∏∫ÔºöÁ´ØÂè£/ÈÄöËÆØÂçèËÆÆ# --permanent #‰ª£Ë°®Ê∞∏‰πÖÁîüÊïàÔºåÊ≤°ÊúâÊ≠§ÂèÇÊï∞ÈáçÂêØÂêéÂ§±Êïàfirewall-cmd --zone=public --add-port=443/tcp --permanent#3.ÈáçÂêØÈò≤ÁÅ´Â¢ôfirewall-cmd --reload1.systemctl start firewalld.serviceÔºàÂºÄÂêØÈò≤ÁÅ´Â¢ôÔºâ2.systemctl stop firewalld.serviceÔºàÂºÄÂêØÈò≤ÁÅ´Â¢ôÔºâ3.service firewalld restartÔºàÈáçÂêØÈò≤ÁÅ´Â¢ôÔºâ4.firewall-cmd --zone=public --add-port=4400-4600/udp --permanen(ÊåáÂÆöÁ´ØÂè£ËåÉÂõ¥‰∏∫4400-4600ÈÄöËøáÈò≤ÁÅ´Â¢ô)Warning: ALREADY_ENABLED: 3306:tcpÔºàËØ¥Êòé3306Á´ØÂè£ÈÄöËøáÊàêÂäüÔºâ5.firewall-cmd --zone=public --remove-port=80/tcp --permanentÔºàÂÖ≥Èó≠ÊåáÂÆöÁ´ØÂè£Ôºâ6.firewall-cmd --zone=public --list-portsÔºàÊü•ÁúãÈÄöËøáÁöÑÁ´ØÂè£Ôºâ7.Êü•ÁúãÈò≤ÁÅ´Â¢ôÁä∂ÊÄÅ Ôºöfirewall-cmd --state ÂÆöÊó∂‰ªªÂä° SpringBoot @ScheduledÊ≥®Ëß£ÔºåÊé•Âè£SchedulingConfigurer,Quartz Â∑•‰ΩúÊµÅ Activit ÂàÜÂ∫ìÂàÜË°® Âú®ËÆøÈóÆÈáèËøûÊé•Êï∞ÊàñËÄÖÊï∞ÊçÆÈáèÂ§ßÁöÑÁªÑÂêàÊÉÖÂÜµ‰∏ãÈÄâÊã©‰∏çÂêåÂàÜÂ∫ìÂàÜË°®ÊñπÊ°à„ÄÇÊ†πÊçÆÊï∞ÊçÆËÆøÈóÆÈáèÔºåÂçïÂ∫ìÊâøÂèóÈáèÈÄâÊã©ÂàÜÂ§öÂ∞ë„ÄÇÊ†πÊçÆË°®‰ø°ÊÅØÈÄâÊã©Ê∞¥Âπ≥„ÄêÊØîÂ¶Ç‰∏çÂêåÁ≠âÁ∫ß„ÄëÊàñÂûÇÁõ¥ÊãÜÂàÜÔºàÊØîÂ¶Ç‰π∞ÂÆ∂‰π∞ÂÆ∂‰ø°ÊÅØÔºâÔºå Â§öÊï∞ÊçÆÊ∫êÔºå‰∏ª‰ªéÂ§çÂà∂ Â∫èÂàóÂåñÂèçÂ∫èÂàóÂåñ 12345678//Java Â∫èÂàóÂåñÊòØÊåáÔºöÂ∞ÜÂØπË±°ËΩ¨ÂåñÊàê‰∏Ä‰∏™Â≠óËäÇÂ∫èÂàó(‰∫åËøõÂà∂Êï∞ÊçÆ)ÁöÑËøáÁ®ã„ÄÇ//Â∞ÜÂ∫èÂàóÂåñÂØπË±°ÂÜôÂÖ•Êñá‰ª∂‰πãÂêéÔºåÂèØ‰ª•‰ªéÊñá‰ª∂‰∏≠ËØªÂèñÂá∫Êù•ÔºåÂπ∂‰∏îÂØπÂÆÉËøõË°åÂèçÂ∫èÂàóÂåñ„ÄÇ//Java ÂèçÂ∫èÂàóÂåñÊòØÊåáÔºöÂ∞Ü‰∏Ä‰∏™ÂØπË±°ÁöÑÂ≠óËäÇÂ∫èÂàóÊÅ¢Â§çÊàê Java ÂØπË±°ÁöÑËøáÁ®ã„ÄÇ//‰∏Ä‰∏™Âπ≥Âè∞‰∏≠Â∫èÂàóÂåñÁöÑÂØπË±°ÔºåÂèØ‰ª•Âú®Âè¶‰∏Ä‰∏™Âπ≥Âè∞‰∏≠ËøõË°åÂèçÂ∫èÂàóÂåñÔºåÂõ†‰∏∫Ëøô‰∏™ËøáÁ®ãÊòØÂú® JVM ‰∏≠Áã¨Á´ãÂÆåÊàêÁöÑÔºåÂèØ‰ª•‰æùËµñ‰∫é Java ÁöÑÂèØÁßªÊ§çÊÄß„ÄÇpublic class BaseEntity implements Serializable{ private static final long serialVersionUID = 1L;} JAVAÂ∏∏Áî®‰∏ì‰∏öÂêçËØç È¢ÜÂüüÊ®°Âûã VO ÔºàView ObjectÔºâËßÜÂõæÂØπË±° Áî®‰∫éÂ±ïÁ§∫Â±ÇÔºåÂÆÉÁöÑ‰ΩúÁî®ÊòØÊääÊüê‰∏™ÊåáÂÆöÈ°µÈù¢ÔºàÊàñÁªÑ‰ª∂ÔºâÁöÑÊâÄÊúâÊï∞ÊçÆÂ∞ÅË£ÖËµ∑Êù•„ÄÇÈÄöÂ∏∏Áî®‰∫é‰∏öÂä°Â±Ç‰πãÈó¥ÁöÑÊï∞ÊçÆ‰º†ÈÄíÔºåÂíå PO ‰∏ÄÊ†∑‰πüÊòØ‰ªÖ‰ªÖÂåÖÂê´Êï∞ÊçÆËÄåÂ∑≤Ôºå‰ΩÜÂ∫îÊòØÊäΩË±°Âá∫ÁöÑ‰∏öÂä°ÂØπË±°ÔºåÂèØ‰ª•ÂíåË°®ÂØπÂ∫îÔºå‰πüÂèØ‰ª•‰∏çÔºåËøôÊ†πÊçÆ‰∏öÂä°ÁöÑÈúÄË¶ÅÔºåÁî® new ÂÖ≥ÈîÆÂ≠óÂàõÂª∫ÔºåÁî± GC ÂõûÊî∂ view Object ËØïÂõæÂØπË±° Êé•ÂèóÈ°µÈù¢‰º†ÈÄíÊù•ÁöÑÊï∞ÊçÆÔºåÂ∞ÅË£ÖÂØπË±°ÔºåÂ∞ÅË£ÖÈ°µÈù¢ÈúÄË¶ÅÁî®ÁöÑÊï∞ÊçÆ DTOÔºàData Transfer ObjectÔºâÊï∞ÊçÆ‰º†ËæìÂØπË±° ‰∏ªË¶ÅÁî®‰∫éÂ±ïÁ§∫Â±Ç‰∏éÊúçÂä°Â±Ç‰πãÈó¥ÁöÑÊï∞ÊçÆ‰º†ËæìÂØπË±°„ÄÇËøô‰∏™Ê¶ÇÂøµÊù•Ê∫ê‰∫é J2EE ÁöÑËÆæËÆ°Ê®°ÂºèÔºåÂéüÊù•ÁöÑÁõÆÁöÑÊòØ‰∏∫‰∫Ü EJBÁöÑÂàÜÂ∏ÉÂºèÂ∫îÁî®Êèê‰æõÁ≤óÁ≤íÂ∫¶ÁöÑÊï∞ÊçÆÂÆû‰ΩìÔºå‰ª•ÂáèÂ∞ëÂàÜÂ∏ÉÂºèË∞ÉÁî®ÁöÑÊ¨°Êï∞Ôºå‰ªéËÄåÊèêÈ´òÂàÜÊï∞Ë∞ÉÁî®ÁöÑÊÄßËÉΩÂíåÈôç‰ΩéÁΩëÁªúË¥üËΩΩÔºå‰ΩÜÂú®ËøôÈáåÔºåÊ≥õÊåáÁî®‰∫éÂ±ïÁ§∫Â±Ç‰∏éÊúçÂä°Â±Ç‰πãÈó¥ÁöÑÊï∞ÊçÆ‰º†ËæìÂØπË±° DOÔºàDomain ObjectÔºâÈ¢ÜÂüüÂØπË±° Â∞±ÊòØ‰ªéÁé∞ÂÆû‰∏ñÁïå‰∏≠ÊäΩË±°Âá∫Êù•ÁöÑÊúâÂΩ¢ÊàñÊó†ÂΩ¢ÁöÑ‰∏öÂä°ÂÆû‰Ωì„ÄÇ POÔºàPersistent ObjectÔºâÔºöÊåÅ‰πÖÂåñÂØπË±° ÂÆÉË∑üÊåÅ‰πÖÂ±ÇÔºàÈÄöÂ∏∏ÊòØÂÖ≥Á≥ªÂûãÊï∞ÊçÆÂ∫ìÔºâÁöÑÊï∞ÊçÆÁªìÊûÑÂΩ¢Êàê‰∏Ä‰∏ÄÂØπÂ∫îÁöÑÊò†Â∞ÑÂÖ≥Á≥ªÔºåÂ¶ÇÊûúÊåÅ‰πÖÂ±ÇÊòØÂÖ≥Á≥ªÂûãÊï∞ÊçÆÂ∫ìÔºåÈÇ£‰πàÔºåÊï∞ÊçÆË°®‰∏≠ÁöÑÊØè‰∏™Â≠óÊÆµÂ∞±ÂØπÂ∫îPOÁöÑ‰∏Ä‰∏™Â±ûÊÄß„ÄÇpo Â∞±ÊòØÂØπÂ∫îÊï∞ÊçÆÂ∫ì‰∏≠Êüê‰∏Ä‰∏™Ë°®ÁöÑ‰∏ÄÊù°ËÆ∞ÂΩïÔºåÂ§ö‰∏™ËÆ∞ÂΩïÂèØ‰ª•Áî® PO ÁöÑÈõÜÂêàÔºåPO ‰∏≠Â∫îËØ•‰∏çÂåÖÂê´‰ªª‰ΩïÂØπÊï∞ÊçÆÂ∫ìÂà∞Êìç‰Ωú TO (Transfer Object) Êï∞ÊçÆ‰º†ËæìÂØπË±° ‰∏çÂêåÁöÑÂ∫îÁî®Á®ãÂ∫è‰πãÈó¥‰º†ËæìÁöÑÂØπË±° BO(business object) ‰∏öÂä°ÂØπË±° ‰ªé‰∏öÂä°Ê®°ÂûãÁöÑËßíÂ∫¶ÁúãÔºåËßÅ UML Âéü‰ª∂È¢ÜÂüüÊ®°Âûã‰∏≠ÁöÑÈ¢ÜÂüüÂØπË±°ÔºåÂ∞ÅË£Ö‰∏öÂä°ÈÄªËæëÁöÑÔºå java ÂØπË±°ÔºåÈÄöËøáË∞ÉÁî® DAO ÊñπÊ≥ïÔºåÁªìÂêà PO VO,ËøõË°å‰∏öÂä°Êìç‰ΩúÔºåbusiness object ‰∏öÂä°ÂØπË±°Ôºå‰∏ªË¶Å‰ΩúÁî®ÊòØÊää‰∏öÂä°ÈÄªËæëÂ∞ÅË£ÖÊàê‰∏Ä‰∏™ÂØπË±°ÔºåËøô‰∏™ÂØπË±°ÂåÖÊã¨‰∏Ä‰∏™ÊàñÂ§ö‰∏™ÂØπË±°ÔºåÊØîÂ¶Ç‰∏Ä‰∏™ÁÆÄÂéÜÔºåÊúâÊïôËÇ≤ÁªèÂéÜÔºåÂ∑•‰ΩúÁªèÂéÜÔºåÁ§æ‰ºöÂÖ≥Á≥ªÁ≠âÁ≠âÔºåÊàë‰ª¨ÂèØ‰ª•ÊääÊïôËÇ≤ÁªèÂéÜÂØπÂ∫î‰∏Ä‰∏™ PO „ÄÅÂ∑•‰ΩúÁªèÈ™åÂØπÂ∫î‰∏Ä‰∏™ PO„ÄÅ Á§æ‰ºöÂÖ≥Á≥ªÂØπÂ∫î‰∏Ä‰∏™ PO, Âª∫Á´ã‰∏Ä‰∏™ÂØπÂ∫îÁÆÄÂéÜÁöÑÁöÑ BO ÂØπË±°Â§ÑÁêÜÁÆÄÂéÜÔºåÊØè ‰∏™ BO ÂåÖÂê´Ëøô‰∫õ PO ,ËøôÊ†∑Â§ÑÁêÜ‰∏öÂä°ÈÄªËæëÊó∂ÔºåÊàë‰ª¨Â∞±ÂèØ‰ª•ÈíàÂØπ BO ÂéªÂ§ÑÁêÜ POJO ( plain ordinary java object) ÁÆÄÂçïÊó†ËßÑÂàô java ÂØπË±° ‰º†ÁªüÊÑè‰πâÁöÑ java ÂØπË±°ÔºåÂ∞±ÊòØËØ¥‰∏Ä‰∫õ Object/Relation Mapping Â∑•ÂÖ∑‰∏≠ÔºåËÉΩÂ§üÂÅöÂà∞Áª¥Êä§Êï∞ÊçÆÂ∫ìË°®ËÆ∞ÂΩïÁöÑ persisent object ÂÆåÂÖ®ÊòØ‰∏Ä‰∏™Á¨¶Âêà Java Bean ËßÑËåÉÁöÑ Á∫Ø java ÂØπË±°ÔºåÊ≤°ÊúâÂ¢ûÂä†Âà´ÁöÑÂ±ûÊÄßÂíåÊñπÊ≥ïÔºåÊàë‰ª¨ÁöÑÁêÜËß£Â∞±ÊòØÊúÄÂü∫Êú¨ÁöÑ Java bean Âè™ÊúâÂ±ûÊÄßÂ≠óÊÆµ setter Âíå getter ÊñπÊ≥ï POJO Êó∂ÊòØ DO/DTO/BO/VO ÁöÑÁªüÁß∞ DAOÔºàdata access objectÔºâ Êï∞ÊçÆËÆøÈóÆÂØπË±° ÊòØ‰∏Ä‰∏™ sun ÁöÑ‰∏Ä‰∏™Ê†áÂáÜ j2ee ËÆæËÆ°Ê®°ÂºèÔºåËøô‰∏™Ê®°ÂºèÊúâ‰∏™Êé•Âè£Â∞±ÊòØ DAO Ôºå‰ªñË¥üÊåÅ‰πÖÂ±ÇÁöÑÊìç‰ΩúÔºå‰∏∫‰∏öÂä°Â±ÇÊèê‰æõÊé•Âè£ÔºåÊ≠§ÂØπË±°Áî®‰∫éËÆøÈóÆÊï∞ÊçÆÂ∫ìÔºåÈÄöÂ∏∏Âíå PO ÁªìÂêà‰ΩøÁî®ÔºåDAO ‰∏≠ÂåÖÂê´‰∫ÜÂêÑÁßçÊï∞ÊçÆÂ∫ìÁöÑÊìç‰ΩúÊñπÊ≥ïÔºåÈÄöËøáÂÆÉÁöÑÊñπÊ≥ïÔºåÁªìÂêà PO ÂØπÊï∞ÊçÆÂ∫ìËøõË°åÁõ∏ÂÖ≥Êìç‰ΩúÔºåÂ§πÂú®‰∏öÂä°ÈÄªËæë‰∏éÊï∞ÊçÆÂ∫ìËµÑÊ∫ê‰∏≠Èó¥ÔºåÈÖçÂêàVO Êèê‰æõÊï∞ÊçÆÂ∫ìÁöÑ CRUD ÂäüËÉΩ VO ‰∏é DTO ÁöÑÂå∫Âà´ DTO Âíå VO ÁöÑÂ±ûÊÄßÂÄºÂü∫Êú¨ÊòØ‰∏ÄËá¥ÁöÑÔºåËÄå‰∏î‰ªñ‰ª¨ÈÄöÂ∏∏ÈÉΩÊòØ POJO„ÄêÁÆÄÂçïÁöÑ Java ÂØπË±°ÔºàPlain Old Java ObjectÔºâ„Äë,‰ΩÜ‰∏§ËÄÖÂ≠òÂú®Êú¨Ë¥®‰∏äÁöÑÂå∫Âà´ÔºõDTO ‰ª£Ë°®ÊúçÂä°Â±ÇÈúÄË¶ÅÊé•Êî∂ÁöÑÊï∞ÊçÆÂíåËøîÂõûÁöÑÊï∞ÊçÆÔºåËÄåVO ‰ª£Ë°®Â±ïÁ§∫Â±ÇÈúÄË¶ÅÊòæÁ§∫ÁöÑÊï∞ÊçÆ„ÄÇ DTO ‰∏é DO ÁöÑÂå∫Âà´ È¶ñÂÖàÊòØÊ¶ÇÂøµ‰∏äÁöÑÂå∫Âà´ÔºåDTO ÊòØÂ±ïÁ§∫Â±ÇÂíåÊúçÂä°Â±Ç‰πãÈó¥ÁöÑÊï∞ÊçÆ‰º†ËæìÂØπË±°ÔºàÂèØ‰ª•ËÆ§‰∏∫ÊòØ‰∏§ËÄÖ‰πãÈó¥ÁöÑÂçèËÆÆÔºâÔºåËÄå DOÊòØÂØπÁé∞ÂÆû‰∏ñÁïåÂêÑÁßç‰∏öÂä°ËßíËâ≤ÁöÑÊäΩË±°ÔºåËøôÂ∞±ÂºïÂá∫‰∫Ü‰∏§ËÄÖÂú®Êï∞ÊçÆ‰∏äÁöÑÂå∫Âà´„ÄÇ DO ‰∏é PO ÁöÑÂå∫Âà´ DO Âíå PO Âú®ÁªùÂ§ßÈÉ®ÂàÜÊÉÖÂÜµ‰∏ãÊòØ‰∏Ä‰∏ÄÂØπÂ∫îÁöÑÔºåPOÊòØÂè™Âê´Êúâ get/set ÊñπÊ≥ïÁöÑPOJOÔºå‰ΩÜÊüê‰∫õÂú∫ÊôØËøòÊòØËÉΩÂèçÊò†Âá∫‰∏§ËÄÖÂú®Ê¶ÇÂøµ‰∏äÂ≠òÂú®Êú¨Ë¥®Âå∫Âà´Ôºö DOÂú®Êüê‰∫õÂú∫ÊôØ‰∏ã‰∏çÈúÄË¶ÅËøõË°åÊòæÂºèÁöÑÊåÅ‰πÖÂåñÔºå‰æãÂ¶ÇÂà©Áî®Á≠ñÁï•Ê®°ÂºèËÆæËÆ°ÁöÑÂïÜÂìÅÊäòÊâ£Á≠ñÁï•Ôºå‰ºöË°çÁîüÂá∫ÊäòÊâ£Á≠ñÁï•ÁöÑÊé•Âè£Âíå‰∏çÂêåÊäòÊâ£Á≠ñÁï•ÂÆûÁé∞Á±ªÔºåËøô‰∫õÊäòÊâ£Á≠ñÁï•ÂÆûÁé∞Á±ªÂèØ‰ª•ÁÆóÊòØDOÔºå‰ΩÜÂÆÉ‰ª¨Âè™‰ºöÈ©ªÁïôÂú®ÈùôÊÄÅÂÜÖÂ≠òÊ±†Ôºå‰∏çÈúÄË¶ÅÊåÅ‰πÖÂåñÂà∞ÊåÅ‰πÖÂ±ÇÔºåÂõ†Ê≠§ÔºåËøôÁ±ª DO ÊòØ‰∏çÂ≠òÂú®ÂØπÂ∫îÁöÑ POÁöÑ„ÄÇ ÂêåÊ†∑ÁöÑÈÅìÁêÜÔºåÊüê‰∫õÂú∫ÊôØ‰∏ãÔºåPO‰πüÊ≤°ÊúâÂØπÂ∫îÁöÑDOÔºå‰æãÂ¶ÇËÄÅÂ∏àTeacherÂíåÂ≠¶ÁîüStudentÂ≠òÂú®Â§öÂØπÂ§öÁöÑÂÖ≥Á≥ªÔºåÂú®ÂÖ≥Á≥ªÊï∞ÊçÆÂ∫ì‰∏≠ÔºåËøôÁßçÂÖ≥Á≥ªÈúÄË¶ÅË°®Áé∞‰∏∫‰∏Ä‰∏™‰∏≠Èó¥Ë°®Ôºå‰πüÂ∞±ÂØπÂ∫îÊúâ‰∏Ä‰∏™TeacherAndStudentPOÁöÑPOÔºå‰ΩÜËøô‰∏™POÂú®‰∏öÂä°È¢ÜÂüüÊ≤°Êúâ‰ªª‰ΩïÁé∞ÂÆûÁöÑÊÑè‰πâÔºåÂÆÉÂÆåÂÖ®‰∏çËÉΩ‰∏é‰ªª‰ΩïDOÂØπÂ∫î‰∏ä„ÄÇ Êó•ÂøóËÆ∞ÂΩï‰ª•ÂèäËØ¶Ëß£ Tomcat ‰∏Ä.tomcatÊó•ÂøóÊñá‰ª∂Ë∑ØÂæÑ tomcat/logs ‰∫å.tomcatÊó•ÂøóÈÖçÁΩÆÊñá‰ª∂ tomcatÂØπÂ∫îÊó•ÂøóÁöÑÈÖçÁΩÆÊñá‰ª∂ÔºötomcatÁõÆÂΩï‰∏ãÁöÑ/conf/logging.properties tomcatÁöÑÊó•ÂøóÁ≠âÁ∫ßÊúâÔºöSEVERE (ÊúÄÈ´òÁ∫ßÂà´) &gt; WARNING &gt; INFO &gt; CONFIG &gt; FINE &gt; FINER(Á≤æÂøÉ) &gt; FINEST (ÊâÄÊúâÂÜÖÂÆπ,ÊúÄ‰ΩéÁ∫ßÂà´) ‰∏â.tomcatÊó•ÂøóÊñá‰ª∂ÈÉΩÊúâÂì™‰∫õ tomcatÊúâ‰∫îÁ±ªÊó•ÂøóÔºöcatalina„ÄÅlocalhost„ÄÅmanager„ÄÅadmin„ÄÅhost-manager Âõõ.‰ΩøÁî®ÁéáËæÉÈ´òÁöÑÊó•ÂøóÊñá‰ª∂ÊòØÂì™‰∫õÔºü 4.1 catalina.out/ÂÆûÊó∂ËøêË°åÊó•Âøó Âç≥Ê†áÂáÜËæìÂá∫ÂíåÊ†áÂáÜÂá∫ÈîôÔºåÊâÄÊúâËæìÂá∫Âà∞Ëøô‰∏§‰∏™‰ΩçÁΩÆÁöÑÈÉΩ‰ºöËøõÂÖ•catalina.outÔºåËøôÈáåÂåÖÂê´tomcatËøêË°åËá™Â∑±ËæìÂá∫ÁöÑÊó•Âøó‰ª•ÂèäÂ∫îÁî®ÈáåÂêëconsoleËæìÂá∫ÁöÑÊó•Âøó„ÄÇÈªòËÆ§Ëøô‰∏™Êó•ÂøóÊñá‰ª∂ÊòØ‰∏ç‰ºöËøõË°åËá™Âä®ÂàáÂâ≤ÁöÑÔºåÊàë‰ª¨ÈúÄË¶ÅÂÄüÂä©ÂÖ∂‰ªñÂ∑•ÂÖ∑ËøõË°åÂàáÂâ≤ÔºàÊ≥®ÊÑèÔºöcatalina.outÊñá‰ª∂Â¶ÇÊûúËøáÂ§ß‰ºöÂΩ±ÂìçÔºâ 4.2 catalina.yy-mm-dd.log/tomcatËøêË°åÊó•Âøó catalina.{yyyy-MM-dd}.logÊòØtomcatËá™Â∑±ËøêË°åÁöÑ‰∏Ä‰∫õÊó•ÂøóÔºåËøô‰∫õÊó•ÂøóËøò‰ºöËæìÂá∫Âà∞catalina.outÔºå‰ΩÜÊòØÂ∫îÁî®ÂêëconsoleËæìÂá∫ÁöÑÊó•Âøó‰∏ç‰ºöËæìÂá∫Âà∞catalina.{yyyy-MM-dd}.log,ÂÆÉÊòØtomcatÁöÑÂêØÂä®ÂíåÊöÇÂÅúÊó∂ÁöÑËøêË°åÊó•ÂøóÔºåÊ≥®ÊÑèÔºåÂÆÉÂíåcatalina.outÊòØÈáåÈù¢ÁöÑÂÜÖÂÆπÊòØ‰∏ç‰∏ÄÊ†∑ÁöÑ„ÄÇ ‰∫î.ÂÖ∂‰ªñÊó•ÂøóÊñá‰ª∂ËØ¥Êòé 5.1 localhost.yy-mm-dd.log localhost.{yyyy-MM-dd}.log‰∏ªË¶ÅÊòØÂ∫îÁî®ÂàùÂßãÂåñ(listener, filter, servlet)Êú™Â§ÑÁêÜÁöÑÂºÇÂ∏∏ÊúÄÂêéË¢´tomcatÊçïËé∑ËÄåËæìÂá∫ÁöÑÊó•Âøó,ÂÆÉ‰πüÊòØÂåÖÂê´tomcatÁöÑÂêØÂä®ÂíåÊöÇÂÅúÊó∂ÁöÑËøêË°åÊó•Âøó,‰ΩÜÂÆÉÊ≤°Êúâcatalina.2018-09-19.log Êó•ÂøóÂÖ®„ÄÇÂÆÉÂè™ÊòØËÆ∞ÂΩï‰∫ÜÈÉ®ÂàÜÊó•Âøó„ÄÇ 5.2 localhost_access_log.yy-mm-dd.txt Ëøô‰∏™ÊòØËÆøÈóÆ tomcat ÁöÑÊó•ÂøóÔºåËØ∑Ê±ÇÊó∂Èó¥ÂíåËµÑÊ∫êÔºåÁä∂ÊÄÅÁ†ÅÈÉΩÊúâËÆ∞ÂΩï„ÄÇ 5.3 manager.yy-mm-dd.log Ëøô‰∏™ÊòØ tomcat manager È°πÁõÆ‰∏ìÊúâÁöÑÊó•ÂøóÊñá‰ª∂. 5.4 host-manager.yy-mm-dd.log Ëøô‰∏™‰º∞ËÆ°ÊòØÊîæ tomcat ÁöÑËá™Â∏¶ÁöÑ manager È°πÁõÆÁöÑÊó•Âøó‰ø°ÊÅØÁöÑÔºåÊú™ÁúãÂà∞Êúâ‰ªÄ‰πàÈáçË¶ÅÁöÑÊó•Âøó‰ø°ÊÅØ„ÄÇ ÂÖ≠.tomcatÊó•ÂøóÊñá‰ª∂ÂàáÂâ≤ tomcat ÁöÑ catalina.out Êñá‰ª∂ tomcat ÊòØ‰∏ç‰ºöËøõË°åÊó•ÂøóÂàáÂâ≤ÁöÑÔºåÂΩìËøô‰∏™Êñá‰ª∂Â§ß‰∫é2G Êó∂Ôºå‰ºöÂΩ±ÂìçtomcatÁöÑËøêË°å„ÄÇÈÇ£‰πàÊàë‰ª¨ÈúÄË¶ÅÂØπËøô‰∏™Êñá‰ª∂ËøõË°åÊó•ÂøóÂàáÂâ≤ÔºåÂàáÂâ≤ÁöÑÊñπÊ≥ïÊúâÂæàÂ§öÁßçÔºö Á¨¨‰∏ÄÁßçÔºöÈÄöËøáÁ≥ªÁªüËá™Â∏¶ÁöÑÂàáÂâ≤Â∑•ÂÖ∑ÔºölogrotateÊù•ËøõË°åÂàáÂâ≤„ÄÇ Á¨¨‰∫åÁßç:‰ΩøÁî®logj4ËøõË°åÂàáÂâ≤Êó•Âøó„ÄÇ Á¨¨‰∏âÁßçÔºö‰ΩøÁî®Áî®cronologÂàÜÂâ≤tomcatÁöÑcatalina.outÊñá‰ª∂ „ÄÇ ‰ª•‰∏ä‰∏âÁßçÊñπÊ≥ïËßÅÔºöhttps://www.cnblogs.com/happy-king/p/9193401.html Â∏∏Áî®Â∑•ÂÖ∑Á±ª Á±ªÂûãËΩ¨Êç¢ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215216217218219220221222223224225226227228229230231232233234235236237238239240241242243244245246247248249250251252253254255256257258259260261262263264265266267268269270271272273274275276277278279280281282283284285286287288289290291292293294295296297298299300301302303304305306307308309310311312313314315316317318319320321322323324325326327328329330331332333334335336337338339340341342343344345346347348349350351352353354355356357358359360361362363364365366367368369370371372373374375376377378379380381382383384385386387388389390391392393394395396397398399400401402403404405406407408409410411412413414415416417418419420421422423424425426427428429430431432433434435436437438439440441442443444445446447448449450451452453454455456457458459460461462463464465466467468469470471472473474475476477478479480481482483484485486487488489490491492493494495496497498499500501502503504505506507508509510511512513514515516517518519520521522523524525526527528529530531532533534535536537538539540541542543544545546547548549550551552553554555556557558559560561562563564565566567568569570571572573574575576577578579580581582583584585586587588589590591592593594595596597598599600601602603604605606607608609610611612613614615616617618619620621622623624625626627628629630631632633634635636637638639640641642643644645646647648649650651652653654655656657658659660661662663664665666667668669670671672673674675676677678679680681682683684685686687688689690691692693694695696697698699700701702703704705706707708709710711712713714715716717718719720721722723724725726727728729730731732733734735736737738739740741742743744745746747748749750751752753754755756757758759760761762763764765766767768769770771772773774775776777778779780781782783784785786787788789790791792793794795796797798799800801802803804805806807808809810811812813814815816817818819820821822823824825826827828829830831832833834835836837838839840841842843844845846847848849850851852853854855856857858859860861862863864865866867868869870871872873874875876877878879880881882883884885886887888889890891892893894895896897898899900901902903904905906907908909910911912913914915916917918919920921922923924925926927928929930931932933934935936937938939940941942943944945946947948949950951952953954955956957958959960961962963964965966967968969970971972973974975976977978979980981982983984985986987988989990991992993994995996997import java.math.BigDecimal;import java.math.BigInteger;import java.nio.ByteBuffer;import java.nio.charset.Charset;import java.text.NumberFormat;import java.util.Set;import com.jeethink.common.utils.StringUtils;/** * Á±ªÂûãËΩ¨Êç¢Âô® * */public class Convert{ /** * ËΩ¨Êç¢‰∏∫Â≠óÁ¨¶‰∏≤&lt;br&gt; * Â¶ÇÊûúÁªôÂÆöÁöÑÂÄº‰∏∫nullÔºåÊàñËÄÖËΩ¨Êç¢Â§±Ë¥•ÔºåËøîÂõûÈªòËÆ§ÂÄº&lt;br&gt; * ËΩ¨Êç¢Â§±Ë¥•‰∏ç‰ºöÊä•Èîô * * @param value Ë¢´ËΩ¨Êç¢ÁöÑÂÄº * @param defaultValue ËΩ¨Êç¢ÈîôËØØÊó∂ÁöÑÈªòËÆ§ÂÄº * @return ÁªìÊûú */ public static String toStr(Object value, String defaultValue) { if (null == value) { return defaultValue; } if (value instanceof String) { return (String) value; } return value.toString(); } /** * ËΩ¨Êç¢‰∏∫Â≠óÁ¨¶‰∏≤&lt;br&gt; * Â¶ÇÊûúÁªôÂÆöÁöÑÂÄº‰∏∫&lt;code&gt;null&lt;/code&gt;ÔºåÊàñËÄÖËΩ¨Êç¢Â§±Ë¥•ÔºåËøîÂõûÈªòËÆ§ÂÄº&lt;code&gt;null&lt;/code&gt;&lt;br&gt; * ËΩ¨Êç¢Â§±Ë¥•‰∏ç‰ºöÊä•Èîô * * @param value Ë¢´ËΩ¨Êç¢ÁöÑÂÄº * @return ÁªìÊûú */ public static String toStr(Object value) { return toStr(value, null); } /** * ËΩ¨Êç¢‰∏∫Â≠óÁ¨¶&lt;br&gt; * Â¶ÇÊûúÁªôÂÆöÁöÑÂÄº‰∏∫nullÔºåÊàñËÄÖËΩ¨Êç¢Â§±Ë¥•ÔºåËøîÂõûÈªòËÆ§ÂÄº&lt;br&gt; * ËΩ¨Êç¢Â§±Ë¥•‰∏ç‰ºöÊä•Èîô * * @param value Ë¢´ËΩ¨Êç¢ÁöÑÂÄº * @param defaultValue ËΩ¨Êç¢ÈîôËØØÊó∂ÁöÑÈªòËÆ§ÂÄº * @return ÁªìÊûú */ public static Character toChar(Object value, Character defaultValue) { if (null == value) { return defaultValue; } if (value instanceof Character) { return (Character) value; } final String valueStr = toStr(value, null); return StringUtils.isEmpty(valueStr) ? defaultValue : valueStr.charAt(0); } /** * ËΩ¨Êç¢‰∏∫Â≠óÁ¨¶&lt;br&gt; * Â¶ÇÊûúÁªôÂÆöÁöÑÂÄº‰∏∫&lt;code&gt;null&lt;/code&gt;ÔºåÊàñËÄÖËΩ¨Êç¢Â§±Ë¥•ÔºåËøîÂõûÈªòËÆ§ÂÄº&lt;code&gt;null&lt;/code&gt;&lt;br&gt; * ËΩ¨Êç¢Â§±Ë¥•‰∏ç‰ºöÊä•Èîô * * @param value Ë¢´ËΩ¨Êç¢ÁöÑÂÄº * @return ÁªìÊûú */ public static Character toChar(Object value) { return toChar(value, null); } /** * ËΩ¨Êç¢‰∏∫byte&lt;br&gt; * Â¶ÇÊûúÁªôÂÆöÁöÑÂÄº‰∏∫&lt;code&gt;null&lt;/code&gt;ÔºåÊàñËÄÖËΩ¨Êç¢Â§±Ë¥•ÔºåËøîÂõûÈªòËÆ§ÂÄº&lt;br&gt; * ËΩ¨Êç¢Â§±Ë¥•‰∏ç‰ºöÊä•Èîô * * @param value Ë¢´ËΩ¨Êç¢ÁöÑÂÄº * @param defaultValue ËΩ¨Êç¢ÈîôËØØÊó∂ÁöÑÈªòËÆ§ÂÄº * @return ÁªìÊûú */ public static Byte toByte(Object value, Byte defaultValue) { if (value == null) { return defaultValue; } if (value instanceof Byte) { return (Byte) value; } if (value instanceof Number) { return ((Number) value).byteValue(); } final String valueStr = toStr(value, null); if (StringUtils.isEmpty(valueStr)) { return defaultValue; } try { return Byte.parseByte(valueStr); } catch (Exception e) { return defaultValue; } } /** * ËΩ¨Êç¢‰∏∫byte&lt;br&gt; * Â¶ÇÊûúÁªôÂÆöÁöÑÂÄº‰∏∫&lt;code&gt;null&lt;/code&gt;ÔºåÊàñËÄÖËΩ¨Êç¢Â§±Ë¥•ÔºåËøîÂõûÈªòËÆ§ÂÄº&lt;code&gt;null&lt;/code&gt;&lt;br&gt; * ËΩ¨Êç¢Â§±Ë¥•‰∏ç‰ºöÊä•Èîô * * @param value Ë¢´ËΩ¨Êç¢ÁöÑÂÄº * @return ÁªìÊûú */ public static Byte toByte(Object value) { return toByte(value, null); } /** * ËΩ¨Êç¢‰∏∫Short&lt;br&gt; * Â¶ÇÊûúÁªôÂÆöÁöÑÂÄº‰∏∫&lt;code&gt;null&lt;/code&gt;ÔºåÊàñËÄÖËΩ¨Êç¢Â§±Ë¥•ÔºåËøîÂõûÈªòËÆ§ÂÄº&lt;br&gt; * ËΩ¨Êç¢Â§±Ë¥•‰∏ç‰ºöÊä•Èîô * * @param value Ë¢´ËΩ¨Êç¢ÁöÑÂÄº * @param defaultValue ËΩ¨Êç¢ÈîôËØØÊó∂ÁöÑÈªòËÆ§ÂÄº * @return ÁªìÊûú */ public static Short toShort(Object value, Short defaultValue) { if (value == null) { return defaultValue; } if (value instanceof Short) { return (Short) value; } if (value instanceof Number) { return ((Number) value).shortValue(); } final String valueStr = toStr(value, null); if (StringUtils.isEmpty(valueStr)) { return defaultValue; } try { return Short.parseShort(valueStr.trim()); } catch (Exception e) { return defaultValue; } } /** * ËΩ¨Êç¢‰∏∫Short&lt;br&gt; * Â¶ÇÊûúÁªôÂÆöÁöÑÂÄº‰∏∫&lt;code&gt;null&lt;/code&gt;ÔºåÊàñËÄÖËΩ¨Êç¢Â§±Ë¥•ÔºåËøîÂõûÈªòËÆ§ÂÄº&lt;code&gt;null&lt;/code&gt;&lt;br&gt; * ËΩ¨Êç¢Â§±Ë¥•‰∏ç‰ºöÊä•Èîô * * @param value Ë¢´ËΩ¨Êç¢ÁöÑÂÄº * @return ÁªìÊûú */ public static Short toShort(Object value) { return toShort(value, null); } /** * ËΩ¨Êç¢‰∏∫Number&lt;br&gt; * Â¶ÇÊûúÁªôÂÆöÁöÑÂÄº‰∏∫Á©∫ÔºåÊàñËÄÖËΩ¨Êç¢Â§±Ë¥•ÔºåËøîÂõûÈªòËÆ§ÂÄº&lt;br&gt; * ËΩ¨Êç¢Â§±Ë¥•‰∏ç‰ºöÊä•Èîô * * @param value Ë¢´ËΩ¨Êç¢ÁöÑÂÄº * @param defaultValue ËΩ¨Êç¢ÈîôËØØÊó∂ÁöÑÈªòËÆ§ÂÄº * @return ÁªìÊûú */ public static Number toNumber(Object value, Number defaultValue) { if (value == null) { return defaultValue; } if (value instanceof Number) { return (Number) value; } final String valueStr = toStr(value, null); if (StringUtils.isEmpty(valueStr)) { return defaultValue; } try { return NumberFormat.getInstance().parse(valueStr); } catch (Exception e) { return defaultValue; } } /** * ËΩ¨Êç¢‰∏∫Number&lt;br&gt; * Â¶ÇÊûúÁªôÂÆöÁöÑÂÄº‰∏∫Á©∫ÔºåÊàñËÄÖËΩ¨Êç¢Â§±Ë¥•ÔºåËøîÂõûÈªòËÆ§ÂÄº&lt;code&gt;null&lt;/code&gt;&lt;br&gt; * ËΩ¨Êç¢Â§±Ë¥•‰∏ç‰ºöÊä•Èîô * * @param value Ë¢´ËΩ¨Êç¢ÁöÑÂÄº * @return ÁªìÊûú */ public static Number toNumber(Object value) { return toNumber(value, null); } /** * ËΩ¨Êç¢‰∏∫int&lt;br&gt; * Â¶ÇÊûúÁªôÂÆöÁöÑÂÄº‰∏∫Á©∫ÔºåÊàñËÄÖËΩ¨Êç¢Â§±Ë¥•ÔºåËøîÂõûÈªòËÆ§ÂÄº&lt;br&gt; * ËΩ¨Êç¢Â§±Ë¥•‰∏ç‰ºöÊä•Èîô * * @param value Ë¢´ËΩ¨Êç¢ÁöÑÂÄº * @param defaultValue ËΩ¨Êç¢ÈîôËØØÊó∂ÁöÑÈªòËÆ§ÂÄº * @return ÁªìÊûú */ public static Integer toInt(Object value, Integer defaultValue) { if (value == null) { return defaultValue; } if (value instanceof Integer) { return (Integer) value; } if (value instanceof Number) { return ((Number) value).intValue(); } final String valueStr = toStr(value, null); if (StringUtils.isEmpty(valueStr)) { return defaultValue; } try { return Integer.parseInt(valueStr.trim()); } catch (Exception e) { return defaultValue; } } /** * ËΩ¨Êç¢‰∏∫int&lt;br&gt; * Â¶ÇÊûúÁªôÂÆöÁöÑÂÄº‰∏∫&lt;code&gt;null&lt;/code&gt;ÔºåÊàñËÄÖËΩ¨Êç¢Â§±Ë¥•ÔºåËøîÂõûÈªòËÆ§ÂÄº&lt;code&gt;null&lt;/code&gt;&lt;br&gt; * ËΩ¨Êç¢Â§±Ë¥•‰∏ç‰ºöÊä•Èîô * * @param value Ë¢´ËΩ¨Êç¢ÁöÑÂÄº * @return ÁªìÊûú */ public static Integer toInt(Object value) { return toInt(value, null); } /** * ËΩ¨Êç¢‰∏∫IntegerÊï∞ÁªÑ&lt;br&gt; * * @param str Ë¢´ËΩ¨Êç¢ÁöÑÂÄº * @return ÁªìÊûú */ public static Integer[] toIntArray(String str) { return toIntArray(&quot;,&quot;, str); } /** * ËΩ¨Êç¢‰∏∫LongÊï∞ÁªÑ&lt;br&gt; * * @param str Ë¢´ËΩ¨Êç¢ÁöÑÂÄº * @return ÁªìÊûú */ public static Long[] toLongArray(String str) { return toLongArray(&quot;,&quot;, str); } /** * ËΩ¨Êç¢‰∏∫IntegerÊï∞ÁªÑ&lt;br&gt; * * @param split ÂàÜÈöîÁ¨¶ * @param split Ë¢´ËΩ¨Êç¢ÁöÑÂÄº * @return ÁªìÊûú */ public static Integer[] toIntArray(String split, String str) { if (StringUtils.isEmpty(str)) { return new Integer[] {}; } String[] arr = str.split(split); final Integer[] ints = new Integer[arr.length]; for (int i = 0; i &lt; arr.length; i++) { final Integer v = toInt(arr[i], 0); ints[i] = v; } return ints; } /** * ËΩ¨Êç¢‰∏∫LongÊï∞ÁªÑ&lt;br&gt; * * @param split ÂàÜÈöîÁ¨¶ * @param str Ë¢´ËΩ¨Êç¢ÁöÑÂÄº * @return ÁªìÊûú */ public static Long[] toLongArray(String split, String str) { if (StringUtils.isEmpty(str)) { return new Long[] {}; } String[] arr = str.split(split); final Long[] longs = new Long[arr.length]; for (int i = 0; i &lt; arr.length; i++) { final Long v = toLong(arr[i], null); longs[i] = v; } return longs; } /** * ËΩ¨Êç¢‰∏∫StringÊï∞ÁªÑ&lt;br&gt; * * @param str Ë¢´ËΩ¨Êç¢ÁöÑÂÄº * @return ÁªìÊûú */ public static String[] toStrArray(String str) { return toStrArray(&quot;,&quot;, str); } /** * ËΩ¨Êç¢‰∏∫StringÊï∞ÁªÑ&lt;br&gt; * * @param split ÂàÜÈöîÁ¨¶ * @param split Ë¢´ËΩ¨Êç¢ÁöÑÂÄº * @return ÁªìÊûú */ public static String[] toStrArray(String split, String str) { return str.split(split); } /** * ËΩ¨Êç¢‰∏∫long&lt;br&gt; * Â¶ÇÊûúÁªôÂÆöÁöÑÂÄº‰∏∫Á©∫ÔºåÊàñËÄÖËΩ¨Êç¢Â§±Ë¥•ÔºåËøîÂõûÈªòËÆ§ÂÄº&lt;br&gt; * ËΩ¨Êç¢Â§±Ë¥•‰∏ç‰ºöÊä•Èîô * * @param value Ë¢´ËΩ¨Êç¢ÁöÑÂÄº * @param defaultValue ËΩ¨Êç¢ÈîôËØØÊó∂ÁöÑÈªòËÆ§ÂÄº * @return ÁªìÊûú */ public static Long toLong(Object value, Long defaultValue) { if (value == null) { return defaultValue; } if (value instanceof Long) { return (Long) value; } if (value instanceof Number) { return ((Number) value).longValue(); } final String valueStr = toStr(value, null); if (StringUtils.isEmpty(valueStr)) { return defaultValue; } try { // ÊîØÊåÅÁßëÂ≠¶ËÆ°Êï∞Ê≥ï return new BigDecimal(valueStr.trim()).longValue(); } catch (Exception e) { return defaultValue; } } /** * ËΩ¨Êç¢‰∏∫long&lt;br&gt; * Â¶ÇÊûúÁªôÂÆöÁöÑÂÄº‰∏∫&lt;code&gt;null&lt;/code&gt;ÔºåÊàñËÄÖËΩ¨Êç¢Â§±Ë¥•ÔºåËøîÂõûÈªòËÆ§ÂÄº&lt;code&gt;null&lt;/code&gt;&lt;br&gt; * ËΩ¨Êç¢Â§±Ë¥•‰∏ç‰ºöÊä•Èîô * * @param value Ë¢´ËΩ¨Êç¢ÁöÑÂÄº * @return ÁªìÊûú */ public static Long toLong(Object value) { return toLong(value, null); } /** * ËΩ¨Êç¢‰∏∫double&lt;br&gt; * Â¶ÇÊûúÁªôÂÆöÁöÑÂÄº‰∏∫Á©∫ÔºåÊàñËÄÖËΩ¨Êç¢Â§±Ë¥•ÔºåËøîÂõûÈªòËÆ§ÂÄº&lt;br&gt; * ËΩ¨Êç¢Â§±Ë¥•‰∏ç‰ºöÊä•Èîô * * @param value Ë¢´ËΩ¨Êç¢ÁöÑÂÄº * @param defaultValue ËΩ¨Êç¢ÈîôËØØÊó∂ÁöÑÈªòËÆ§ÂÄº * @return ÁªìÊûú */ public static Double toDouble(Object value, Double defaultValue) { if (value == null) { return defaultValue; } if (value instanceof Double) { return (Double) value; } if (value instanceof Number) { return ((Number) value).doubleValue(); } final String valueStr = toStr(value, null); if (StringUtils.isEmpty(valueStr)) { return defaultValue; } try { // ÊîØÊåÅÁßëÂ≠¶ËÆ°Êï∞Ê≥ï return new BigDecimal(valueStr.trim()).doubleValue(); } catch (Exception e) { return defaultValue; } } /** * ËΩ¨Êç¢‰∏∫double&lt;br&gt; * Â¶ÇÊûúÁªôÂÆöÁöÑÂÄº‰∏∫Á©∫ÔºåÊàñËÄÖËΩ¨Êç¢Â§±Ë¥•ÔºåËøîÂõûÈªòËÆ§ÂÄº&lt;code&gt;null&lt;/code&gt;&lt;br&gt; * ËΩ¨Êç¢Â§±Ë¥•‰∏ç‰ºöÊä•Èîô * * @param value Ë¢´ËΩ¨Êç¢ÁöÑÂÄº * @return ÁªìÊûú */ public static Double toDouble(Object value) { return toDouble(value, null); } /** * ËΩ¨Êç¢‰∏∫Float&lt;br&gt; * Â¶ÇÊûúÁªôÂÆöÁöÑÂÄº‰∏∫Á©∫ÔºåÊàñËÄÖËΩ¨Êç¢Â§±Ë¥•ÔºåËøîÂõûÈªòËÆ§ÂÄº&lt;br&gt; * ËΩ¨Êç¢Â§±Ë¥•‰∏ç‰ºöÊä•Èîô * * @param value Ë¢´ËΩ¨Êç¢ÁöÑÂÄº * @param defaultValue ËΩ¨Êç¢ÈîôËØØÊó∂ÁöÑÈªòËÆ§ÂÄº * @return ÁªìÊûú */ public static Float toFloat(Object value, Float defaultValue) { if (value == null) { return defaultValue; } if (value instanceof Float) { return (Float) value; } if (value instanceof Number) { return ((Number) value).floatValue(); } final String valueStr = toStr(value, null); if (StringUtils.isEmpty(valueStr)) { return defaultValue; } try { return Float.parseFloat(valueStr.trim()); } catch (Exception e) { return defaultValue; } } /** * ËΩ¨Êç¢‰∏∫Float&lt;br&gt; * Â¶ÇÊûúÁªôÂÆöÁöÑÂÄº‰∏∫Á©∫ÔºåÊàñËÄÖËΩ¨Êç¢Â§±Ë¥•ÔºåËøîÂõûÈªòËÆ§ÂÄº&lt;code&gt;null&lt;/code&gt;&lt;br&gt; * ËΩ¨Êç¢Â§±Ë¥•‰∏ç‰ºöÊä•Èîô * * @param value Ë¢´ËΩ¨Êç¢ÁöÑÂÄº * @return ÁªìÊûú */ public static Float toFloat(Object value) { return toFloat(value, null); } /** * ËΩ¨Êç¢‰∏∫boolean&lt;br&gt; * StringÊîØÊåÅÁöÑÂÄº‰∏∫Ôºötrue„ÄÅfalse„ÄÅyes„ÄÅok„ÄÅnoÔºå1,0 Â¶ÇÊûúÁªôÂÆöÁöÑÂÄº‰∏∫Á©∫ÔºåÊàñËÄÖËΩ¨Êç¢Â§±Ë¥•ÔºåËøîÂõûÈªòËÆ§ÂÄº&lt;br&gt; * ËΩ¨Êç¢Â§±Ë¥•‰∏ç‰ºöÊä•Èîô * * @param value Ë¢´ËΩ¨Êç¢ÁöÑÂÄº * @param defaultValue ËΩ¨Êç¢ÈîôËØØÊó∂ÁöÑÈªòËÆ§ÂÄº * @return ÁªìÊûú */ public static Boolean toBool(Object value, Boolean defaultValue) { if (value == null) { return defaultValue; } if (value instanceof Boolean) { return (Boolean) value; } String valueStr = toStr(value, null); if (StringUtils.isEmpty(valueStr)) { return defaultValue; } valueStr = valueStr.trim().toLowerCase(); switch (valueStr) { case &quot;true&quot;: return true; case &quot;false&quot;: return false; case &quot;yes&quot;: return true; case &quot;ok&quot;: return true; case &quot;no&quot;: return false; case &quot;1&quot;: return true; case &quot;0&quot;: return false; default: return defaultValue; } } /** * ËΩ¨Êç¢‰∏∫boolean&lt;br&gt; * Â¶ÇÊûúÁªôÂÆöÁöÑÂÄº‰∏∫Á©∫ÔºåÊàñËÄÖËΩ¨Êç¢Â§±Ë¥•ÔºåËøîÂõûÈªòËÆ§ÂÄº&lt;code&gt;null&lt;/code&gt;&lt;br&gt; * ËΩ¨Êç¢Â§±Ë¥•‰∏ç‰ºöÊä•Èîô * * @param value Ë¢´ËΩ¨Êç¢ÁöÑÂÄº * @return ÁªìÊûú */ public static Boolean toBool(Object value) { return toBool(value, null); } /** * ËΩ¨Êç¢‰∏∫EnumÂØπË±°&lt;br&gt; * Â¶ÇÊûúÁªôÂÆöÁöÑÂÄº‰∏∫Á©∫ÔºåÊàñËÄÖËΩ¨Êç¢Â§±Ë¥•ÔºåËøîÂõûÈªòËÆ§ÂÄº&lt;br&gt; * * @param clazz EnumÁöÑClass * @param value ÂÄº * @param defaultValue ÈªòËÆ§ÂÄº * @return Enum */ public static &lt;E extends Enum&lt;E&gt;&gt; E toEnum(Class&lt;E&gt; clazz, Object value, E defaultValue) { if (value == null) { return defaultValue; } if (clazz.isAssignableFrom(value.getClass())) { @SuppressWarnings(&quot;unchecked&quot;) E myE = (E) value; return myE; } final String valueStr = toStr(value, null); if (StringUtils.isEmpty(valueStr)) { return defaultValue; } try { return Enum.valueOf(clazz, valueStr); } catch (Exception e) { return defaultValue; } } /** * ËΩ¨Êç¢‰∏∫EnumÂØπË±°&lt;br&gt; * Â¶ÇÊûúÁªôÂÆöÁöÑÂÄº‰∏∫Á©∫ÔºåÊàñËÄÖËΩ¨Êç¢Â§±Ë¥•ÔºåËøîÂõûÈªòËÆ§ÂÄº&lt;code&gt;null&lt;/code&gt;&lt;br&gt; * * @param clazz EnumÁöÑClass * @param value ÂÄº * @return Enum */ public static &lt;E extends Enum&lt;E&gt;&gt; E toEnum(Class&lt;E&gt; clazz, Object value) { return toEnum(clazz, value, null); } /** * ËΩ¨Êç¢‰∏∫BigInteger&lt;br&gt; * Â¶ÇÊûúÁªôÂÆöÁöÑÂÄº‰∏∫Á©∫ÔºåÊàñËÄÖËΩ¨Êç¢Â§±Ë¥•ÔºåËøîÂõûÈªòËÆ§ÂÄº&lt;br&gt; * ËΩ¨Êç¢Â§±Ë¥•‰∏ç‰ºöÊä•Èîô * * @param value Ë¢´ËΩ¨Êç¢ÁöÑÂÄº * @param defaultValue ËΩ¨Êç¢ÈîôËØØÊó∂ÁöÑÈªòËÆ§ÂÄº * @return ÁªìÊûú */ public static BigInteger toBigInteger(Object value, BigInteger defaultValue) { if (value == null) { return defaultValue; } if (value instanceof BigInteger) { return (BigInteger) value; } if (value instanceof Long) { return BigInteger.valueOf((Long) value); } final String valueStr = toStr(value, null); if (StringUtils.isEmpty(valueStr)) { return defaultValue; } try { return new BigInteger(valueStr); } catch (Exception e) { return defaultValue; } } /** * ËΩ¨Êç¢‰∏∫BigInteger&lt;br&gt; * Â¶ÇÊûúÁªôÂÆöÁöÑÂÄº‰∏∫Á©∫ÔºåÊàñËÄÖËΩ¨Êç¢Â§±Ë¥•ÔºåËøîÂõûÈªòËÆ§ÂÄº&lt;code&gt;null&lt;/code&gt;&lt;br&gt; * ËΩ¨Êç¢Â§±Ë¥•‰∏ç‰ºöÊä•Èîô * * @param value Ë¢´ËΩ¨Êç¢ÁöÑÂÄº * @return ÁªìÊûú */ public static BigInteger toBigInteger(Object value) { return toBigInteger(value, null); } /** * ËΩ¨Êç¢‰∏∫BigDecimal&lt;br&gt; * Â¶ÇÊûúÁªôÂÆöÁöÑÂÄº‰∏∫Á©∫ÔºåÊàñËÄÖËΩ¨Êç¢Â§±Ë¥•ÔºåËøîÂõûÈªòËÆ§ÂÄº&lt;br&gt; * ËΩ¨Êç¢Â§±Ë¥•‰∏ç‰ºöÊä•Èîô * * @param value Ë¢´ËΩ¨Êç¢ÁöÑÂÄº * @param defaultValue ËΩ¨Êç¢ÈîôËØØÊó∂ÁöÑÈªòËÆ§ÂÄº * @return ÁªìÊûú */ public static BigDecimal toBigDecimal(Object value, BigDecimal defaultValue) { if (value == null) { return defaultValue; } if (value instanceof BigDecimal) { return (BigDecimal) value; } if (value instanceof Long) { return new BigDecimal((Long) value); } if (value instanceof Double) { return new BigDecimal((Double) value); } if (value instanceof Integer) { return new BigDecimal((Integer) value); } final String valueStr = toStr(value, null); if (StringUtils.isEmpty(valueStr)) { return defaultValue; } try { return new BigDecimal(valueStr); } catch (Exception e) { return defaultValue; } } /** * ËΩ¨Êç¢‰∏∫BigDecimal&lt;br&gt; * Â¶ÇÊûúÁªôÂÆöÁöÑÂÄº‰∏∫Á©∫ÔºåÊàñËÄÖËΩ¨Êç¢Â§±Ë¥•ÔºåËøîÂõûÈªòËÆ§ÂÄº&lt;br&gt; * ËΩ¨Êç¢Â§±Ë¥•‰∏ç‰ºöÊä•Èîô * * @param value Ë¢´ËΩ¨Êç¢ÁöÑÂÄº * @return ÁªìÊûú */ public static BigDecimal toBigDecimal(Object value) { return toBigDecimal(value, null); } /** * Â∞ÜÂØπË±°ËΩ¨‰∏∫Â≠óÁ¨¶‰∏≤&lt;br&gt; * 1„ÄÅByteÊï∞ÁªÑÂíåByteBuffer‰ºöË¢´ËΩ¨Êç¢‰∏∫ÂØπÂ∫îÂ≠óÁ¨¶‰∏≤ÁöÑÊï∞ÁªÑ 2„ÄÅÂØπË±°Êï∞ÁªÑ‰ºöË∞ÉÁî®Arrays.toStringÊñπÊ≥ï * * @param obj ÂØπË±° * @return Â≠óÁ¨¶‰∏≤ */ public static String utf8Str(Object obj) { return str(obj, CharsetKit.CHARSET_UTF_8); } /** * Â∞ÜÂØπË±°ËΩ¨‰∏∫Â≠óÁ¨¶‰∏≤&lt;br&gt; * 1„ÄÅByteÊï∞ÁªÑÂíåByteBuffer‰ºöË¢´ËΩ¨Êç¢‰∏∫ÂØπÂ∫îÂ≠óÁ¨¶‰∏≤ÁöÑÊï∞ÁªÑ 2„ÄÅÂØπË±°Êï∞ÁªÑ‰ºöË∞ÉÁî®Arrays.toStringÊñπÊ≥ï * * @param obj ÂØπË±° * @param charsetName Â≠óÁ¨¶ÈõÜ * @return Â≠óÁ¨¶‰∏≤ */ public static String str(Object obj, String charsetName) { return str(obj, Charset.forName(charsetName)); } /** * Â∞ÜÂØπË±°ËΩ¨‰∏∫Â≠óÁ¨¶‰∏≤&lt;br&gt; * 1„ÄÅByteÊï∞ÁªÑÂíåByteBuffer‰ºöË¢´ËΩ¨Êç¢‰∏∫ÂØπÂ∫îÂ≠óÁ¨¶‰∏≤ÁöÑÊï∞ÁªÑ 2„ÄÅÂØπË±°Êï∞ÁªÑ‰ºöË∞ÉÁî®Arrays.toStringÊñπÊ≥ï * * @param obj ÂØπË±° * @param charset Â≠óÁ¨¶ÈõÜ * @return Â≠óÁ¨¶‰∏≤ */ public static String str(Object obj, Charset charset) { if (null == obj) { return null; } if (obj instanceof String) { return (String) obj; } else if (obj instanceof byte[] || obj instanceof Byte[]) { return str((Byte[]) obj, charset); } else if (obj instanceof ByteBuffer) { return str((ByteBuffer) obj, charset); } return obj.toString(); } /** * Â∞ÜbyteÊï∞ÁªÑËΩ¨‰∏∫Â≠óÁ¨¶‰∏≤ * * @param bytes byteÊï∞ÁªÑ * @param charset Â≠óÁ¨¶ÈõÜ * @return Â≠óÁ¨¶‰∏≤ */ public static String str(byte[] bytes, String charset) { return str(bytes, StringUtils.isEmpty(charset) ? Charset.defaultCharset() : Charset.forName(charset)); } /** * Ëß£Á†ÅÂ≠óËäÇÁ†Å * * @param data Â≠óÁ¨¶‰∏≤ * @param charset Â≠óÁ¨¶ÈõÜÔºåÂ¶ÇÊûúÊ≠§Â≠óÊÆµ‰∏∫Á©∫ÔºåÂàôËß£Á†ÅÁöÑÁªìÊûúÂèñÂÜ≥‰∫éÂπ≥Âè∞ * @return Ëß£Á†ÅÂêéÁöÑÂ≠óÁ¨¶‰∏≤ */ public static String str(byte[] data, Charset charset) { if (data == null) { return null; } if (null == charset) { return new String(data); } return new String(data, charset); } /** * Â∞ÜÁºñÁ†ÅÁöÑbyteBufferÊï∞ÊçÆËΩ¨Êç¢‰∏∫Â≠óÁ¨¶‰∏≤ * * @param data Êï∞ÊçÆ * @param charset Â≠óÁ¨¶ÈõÜÔºåÂ¶ÇÊûú‰∏∫Á©∫‰ΩøÁî®ÂΩìÂâçÁ≥ªÁªüÂ≠óÁ¨¶ÈõÜ * @return Â≠óÁ¨¶‰∏≤ */ public static String str(ByteBuffer data, String charset) { if (data == null) { return null; } return str(data, Charset.forName(charset)); } /** * Â∞ÜÁºñÁ†ÅÁöÑbyteBufferÊï∞ÊçÆËΩ¨Êç¢‰∏∫Â≠óÁ¨¶‰∏≤ * * @param data Êï∞ÊçÆ * @param charset Â≠óÁ¨¶ÈõÜÔºåÂ¶ÇÊûú‰∏∫Á©∫‰ΩøÁî®ÂΩìÂâçÁ≥ªÁªüÂ≠óÁ¨¶ÈõÜ * @return Â≠óÁ¨¶‰∏≤ */ public static String str(ByteBuffer data, Charset charset) { if (null == charset) { charset = Charset.defaultCharset(); } return charset.decode(data).toString(); } // ----------------------------------------------------------------------- ÂÖ®ËßíÂçäËßíËΩ¨Êç¢ /** * ÂçäËßíËΩ¨ÂÖ®Ëßí * * @param input String. * @return ÂÖ®ËßíÂ≠óÁ¨¶‰∏≤. */ public static String toSBC(String input) { return toSBC(input, null); } /** * ÂçäËßíËΩ¨ÂÖ®Ëßí * * @param input String * @param notConvertSet ‰∏çÊõøÊç¢ÁöÑÂ≠óÁ¨¶ÈõÜÂêà * @return ÂÖ®ËßíÂ≠óÁ¨¶‰∏≤. */ public static String toSBC(String input, Set&lt;Character&gt; notConvertSet) { char c[] = input.toCharArray(); for (int i = 0; i &lt; c.length; i++) { if (null != notConvertSet &amp;&amp; notConvertSet.contains(c[i])) { // Ë∑≥Ëøá‰∏çÊõøÊç¢ÁöÑÂ≠óÁ¨¶ continue; } if (c[i] == ' ') { c[i] = '\\u3000'; } else if (c[i] &lt; '\\177') { c[i] = (char) (c[i] + 65248); } } return new String(c); } /** * ÂÖ®ËßíËΩ¨ÂçäËßí * * @param input String. * @return ÂçäËßíÂ≠óÁ¨¶‰∏≤ */ public static String toDBC(String input) { return toDBC(input, null); } /** * ÊõøÊç¢ÂÖ®Ëßí‰∏∫ÂçäËßí * * @param text ÊñáÊú¨ * @param notConvertSet ‰∏çÊõøÊç¢ÁöÑÂ≠óÁ¨¶ÈõÜÂêà * @return ÊõøÊç¢ÂêéÁöÑÂ≠óÁ¨¶ */ public static String toDBC(String text, Set&lt;Character&gt; notConvertSet) { char c[] = text.toCharArray(); for (int i = 0; i &lt; c.length; i++) { if (null != notConvertSet &amp;&amp; notConvertSet.contains(c[i])) { // Ë∑≥Ëøá‰∏çÊõøÊç¢ÁöÑÂ≠óÁ¨¶ continue; } if (c[i] == '\\u3000') { c[i] = ' '; } else if (c[i] &gt; '\\uFF00' &amp;&amp; c[i] &lt; '\\uFF5F') { c[i] = (char) (c[i] - 65248); } } String returnString = new String(c); return returnString; } /** * Êï∞Â≠óÈáëÈ¢ùÂ§ßÂÜôËΩ¨Êç¢ ÂÖàÂÜô‰∏™ÂÆåÊï¥ÁöÑÁÑ∂ÂêéÂ∞ÜÂ¶ÇÈõ∂ÊãæÊõøÊç¢ÊàêÈõ∂ * * @param n Êï∞Â≠ó * @return ‰∏≠ÊñáÂ§ßÂÜôÊï∞Â≠ó */ public static String digitUppercase(double n) { String[] fraction = { &quot;Ëßí&quot;, &quot;ÂàÜ&quot; }; String[] digit = { &quot;Èõ∂&quot;, &quot;Â£π&quot;, &quot;Ë¥∞&quot;, &quot;ÂèÅ&quot;, &quot;ËÇÜ&quot;, &quot;‰ºç&quot;, &quot;ÈôÜ&quot;, &quot;Êüí&quot;, &quot;Êçå&quot;, &quot;Áéñ&quot; }; String[][] unit = { { &quot;ÂÖÉ&quot;, &quot;‰∏á&quot;, &quot;‰∫ø&quot; }, { &quot;&quot;, &quot;Êãæ&quot;, &quot;‰Ω∞&quot;, &quot;‰ªü&quot; } }; String head = n &lt; 0 ? &quot;Ë¥ü&quot; : &quot;&quot;; n = Math.abs(n); String s = &quot;&quot;; for (int i = 0; i &lt; fraction.length; i++) { s += (digit[(int) (Math.floor(n * 10 * Math.pow(10, i)) % 10)] + fraction[i]).replaceAll(&quot;(Èõ∂.)+&quot;, &quot;&quot;); } if (s.length() &lt; 1) { s = &quot;Êï¥&quot;; } int integerPart = (int) Math.floor(n); for (int i = 0; i &lt; unit[0].length &amp;&amp; integerPart &gt; 0; i++) { String p = &quot;&quot;; for (int j = 0; j &lt; unit[1].length &amp;&amp; n &gt; 0; j++) { p = digit[integerPart % 10] + unit[1][j] + p; integerPart = integerPart / 10; } s = p.replaceAll(&quot;(Èõ∂.)*Èõ∂$&quot;, &quot;&quot;).replaceAll(&quot;^$&quot;, &quot;Èõ∂&quot;) + unit[0][i] + s; } return head + s.replaceAll(&quot;(Èõ∂.)*Èõ∂ÂÖÉ&quot;, &quot;ÂÖÉ&quot;).replaceFirst(&quot;(Èõ∂.)+&quot;, &quot;&quot;).replaceAll(&quot;(Èõ∂.)+&quot;, &quot;Èõ∂&quot;).replaceAll(&quot;^Êï¥$&quot;, &quot;Èõ∂ÂÖÉÊï¥&quot;); }} UUID 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215216217218219220221222223224225226227228229230231232233234235236237238239240241242243244245246247248249250251252253254255256257258259260261262263264265266267268269270271272273274275276277278279280281282283284285286287288289290291292293294295296297298299300301302303304305306307308309310311312313314315316317318319320321322323324325326327328329330331332333334335336337338339340341342343344345346347348349350351352353354355356357358359360361362363364365366367368369370371372373374375376377378379380381382383384385386387388389390391392393394395396397398399400401402403404405406407408409410411412413414415416417418419420421422423424425426427428429430431432433434435436437438439440441442443444445446447448449450451452453454455456457458459460461462463464465466467468469470471472473474475476477478479480481482483484485486487package com.jeethink.common.core.lang;import java.security.MessageDigest;import java.security.NoSuchAlgorithmException;import java.security.SecureRandom;import java.util.Random;import java.util.concurrent.ThreadLocalRandom;import com.jeethink.common.exception.UtilException;/** * Êèê‰æõÈÄöÁî®ÂîØ‰∏ÄËØÜÂà´Á†ÅÔºàuniversally unique identifierÔºâÔºàUUIDÔºâÂÆûÁé∞ * @author ÂÆòÊñπÁΩëÂùÄ */public final class UUID implements java.io.Serializable, Comparable&lt;UUID&gt;{ private static final long serialVersionUID = -1185015143654744140L; /** * SecureRandom ÁöÑÂçï‰æã * */ private static class Holder { static final SecureRandom numberGenerator = getSecureRandom(); } /** Ê≠§UUIDÁöÑÊúÄÈ´ò64ÊúâÊïà‰Ωç */ private final long mostSigBits; /** Ê≠§UUIDÁöÑÊúÄ‰Ωé64ÊúâÊïà‰Ωç */ private final long leastSigBits; /** * ÁßÅÊúâÊûÑÈÄ† * * @param data Êï∞ÊçÆ */ private UUID(byte[] data) { long msb = 0; long lsb = 0; assert data.length == 16 : &quot;data must be 16 bytes in length&quot;; for (int i = 0; i &lt; 8; i++) { msb = (msb &lt;&lt; 8) | (data[i] &amp; 0xff); } for (int i = 8; i &lt; 16; i++) { lsb = (lsb &lt;&lt; 8) | (data[i] &amp; 0xff); } this.mostSigBits = msb; this.leastSigBits = lsb; } /** * ‰ΩøÁî®ÊåáÂÆöÁöÑÊï∞ÊçÆÊûÑÈÄ†Êñ∞ÁöÑ UUID„ÄÇ * * @param mostSigBits Áî®‰∫é {@code UUID} ÁöÑÊúÄÈ´òÊúâÊïà 64 ‰Ωç * @param leastSigBits Áî®‰∫é {@code UUID} ÁöÑÊúÄ‰ΩéÊúâÊïà 64 ‰Ωç */ public UUID(long mostSigBits, long leastSigBits) { this.mostSigBits = mostSigBits; this.leastSigBits = leastSigBits; } /** * Ëé∑ÂèñÁ±ªÂûã 4Ôºà‰º™ÈöèÊú∫ÁîüÊàêÁöÑÔºâUUID ÁöÑÈùôÊÄÅÂ∑•ÂéÇ„ÄÇ ‰ΩøÁî®Âä†ÂØÜÁöÑÊú¨Âú∞Á∫øÁ®ã‰º™ÈöèÊú∫Êï∞ÁîüÊàêÂô®ÁîüÊàêËØ• UUID„ÄÇ * * @return ÈöèÊú∫ÁîüÊàêÁöÑ {@code UUID} */ public static UUID fastUUID() { return randomUUID(false); } /** * Ëé∑ÂèñÁ±ªÂûã 4Ôºà‰º™ÈöèÊú∫ÁîüÊàêÁöÑÔºâUUID ÁöÑÈùôÊÄÅÂ∑•ÂéÇ„ÄÇ ‰ΩøÁî®Âä†ÂØÜÁöÑÂº∫‰º™ÈöèÊú∫Êï∞ÁîüÊàêÂô®ÁîüÊàêËØ• UUID„ÄÇ * * @return ÈöèÊú∫ÁîüÊàêÁöÑ {@code UUID} */ public static UUID randomUUID() { return randomUUID(true); } public static void main(String[] args) { System.out.println(randomUUID()); System.out.println(fastUUID()); } /** * Ëé∑ÂèñÁ±ªÂûã 4Ôºà‰º™ÈöèÊú∫ÁîüÊàêÁöÑÔºâUUID ÁöÑÈùôÊÄÅÂ∑•ÂéÇ„ÄÇ ‰ΩøÁî®Âä†ÂØÜÁöÑÂº∫‰º™ÈöèÊú∫Êï∞ÁîüÊàêÂô®ÁîüÊàêËØ• UUID„ÄÇ * * @param isSecure ÊòØÂê¶‰ΩøÁî®{@link SecureRandom}Â¶ÇÊûúÊòØÂèØ‰ª•Ëé∑ÂæóÊõ¥ÂÆâÂÖ®ÁöÑÈöèÊú∫Á†ÅÔºåÂê¶ÂàôÂèØ‰ª•ÂæóÂà∞Êõ¥Â•ΩÁöÑÊÄßËÉΩ * @return ÈöèÊú∫ÁîüÊàêÁöÑ {@code UUID} */ public static UUID randomUUID(boolean isSecure) { final Random ng = isSecure ? Holder.numberGenerator : getRandom(); byte[] randomBytes = new byte[16]; ng.nextBytes(randomBytes); randomBytes[6] &amp;= 0x0f; /* clear version */ randomBytes[6] |= 0x40; /* set to version 4 */ randomBytes[8] &amp;= 0x3f; /* clear variant */ randomBytes[8] |= 0x80; /* set to IETF variant */ return new UUID(randomBytes); } /** * Ê†πÊçÆÊåáÂÆöÁöÑÂ≠óËäÇÊï∞ÁªÑËé∑ÂèñÁ±ªÂûã 3ÔºàÂü∫‰∫éÂêçÁß∞ÁöÑÔºâUUID ÁöÑÈùôÊÄÅÂ∑•ÂéÇ„ÄÇ * * @param name Áî®‰∫éÊûÑÈÄ† UUID ÁöÑÂ≠óËäÇÊï∞ÁªÑ„ÄÇ * * @return Ê†πÊçÆÊåáÂÆöÊï∞ÁªÑÁîüÊàêÁöÑ {@code UUID} */ public static UUID nameUUIDFromBytes(byte[] name) { MessageDigest md; try { md = MessageDigest.getInstance(&quot;MD5&quot;); } catch (NoSuchAlgorithmException nsae) { throw new InternalError(&quot;MD5 not supported&quot;); } byte[] md5Bytes = md.digest(name); md5Bytes[6] &amp;= 0x0f; /* clear version */ md5Bytes[6] |= 0x30; /* set to version 3 */ md5Bytes[8] &amp;= 0x3f; /* clear variant */ md5Bytes[8] |= 0x80; /* set to IETF variant */ return new UUID(md5Bytes); } /** * Ê†πÊçÆ {@link #toString()} ÊñπÊ≥ï‰∏≠ÊèèËø∞ÁöÑÂ≠óÁ¨¶‰∏≤Ê†áÂáÜË°®Á§∫ÂΩ¢ÂºèÂàõÂª∫{@code UUID}„ÄÇ * * @param name ÊåáÂÆö {@code UUID} Â≠óÁ¨¶‰∏≤ * @return ÂÖ∑ÊúâÊåáÂÆöÂÄºÁöÑ {@code UUID} * @throws IllegalArgumentException Â¶ÇÊûú name ‰∏é {@link #toString} ‰∏≠ÊèèËø∞ÁöÑÂ≠óÁ¨¶‰∏≤Ë°®Á§∫ÂΩ¢Âºè‰∏çÁ¨¶ÊäõÂá∫Ê≠§ÂºÇÂ∏∏ * */ public static UUID fromString(String name) { String[] components = name.split(&quot;-&quot;); if (components.length != 5) { throw new IllegalArgumentException(&quot;Invalid UUID string: &quot; + name); } for (int i = 0; i &lt; 5; i++) { components[i] = &quot;0x&quot; + components[i]; } long mostSigBits = Long.decode(components[0]).longValue(); mostSigBits &lt;&lt;= 16; mostSigBits |= Long.decode(components[1]).longValue(); mostSigBits &lt;&lt;= 16; mostSigBits |= Long.decode(components[2]).longValue(); long leastSigBits = Long.decode(components[3]).longValue(); leastSigBits &lt;&lt;= 48; leastSigBits |= Long.decode(components[4]).longValue(); return new UUID(mostSigBits, leastSigBits); } /** * ËøîÂõûÊ≠§ UUID ÁöÑ 128 ‰ΩçÂÄº‰∏≠ÁöÑÊúÄ‰ΩéÊúâÊïà 64 ‰Ωç„ÄÇ * * @return Ê≠§ UUID ÁöÑ 128 ‰ΩçÂÄº‰∏≠ÁöÑÊúÄ‰ΩéÊúâÊïà 64 ‰Ωç„ÄÇ */ public long getLeastSignificantBits() { return leastSigBits; } /** * ËøîÂõûÊ≠§ UUID ÁöÑ 128 ‰ΩçÂÄº‰∏≠ÁöÑÊúÄÈ´òÊúâÊïà 64 ‰Ωç„ÄÇ * * @return Ê≠§ UUID ÁöÑ 128 ‰ΩçÂÄº‰∏≠ÊúÄÈ´òÊúâÊïà 64 ‰Ωç„ÄÇ */ public long getMostSignificantBits() { return mostSigBits; } /** * ‰∏éÊ≠§ {@code UUID} Áõ∏ÂÖ≥ËÅîÁöÑÁâàÊú¨Âè∑. ÁâàÊú¨Âè∑ÊèèËø∞Ê≠§ {@code UUID} ÊòØÂ¶Ç‰ΩïÁîüÊàêÁöÑ„ÄÇ * &lt;p&gt; * ÁâàÊú¨Âè∑ÂÖ∑Êúâ‰ª•‰∏ãÂê´ÊÑè: * &lt;ul&gt; * &lt;li&gt;1 Âü∫‰∫éÊó∂Èó¥ÁöÑ UUID * &lt;li&gt;2 DCE ÂÆâÂÖ® UUID * &lt;li&gt;3 Âü∫‰∫éÂêçÁß∞ÁöÑ UUID * &lt;li&gt;4 ÈöèÊú∫ÁîüÊàêÁöÑ UUID * &lt;/ul&gt; * * @return Ê≠§ {@code UUID} ÁöÑÁâàÊú¨Âè∑ */ public int version() { // Version is bits masked by 0x000000000000F000 in MS long return (int) ((mostSigBits &gt;&gt; 12) &amp; 0x0f); } /** * ‰∏éÊ≠§ {@code UUID} Áõ∏ÂÖ≥ËÅîÁöÑÂèò‰ΩìÂè∑„ÄÇÂèò‰ΩìÂè∑ÊèèËø∞ {@code UUID} ÁöÑÂ∏ÉÂ±Ä„ÄÇ * &lt;p&gt; * Âèò‰ΩìÂè∑ÂÖ∑Êúâ‰ª•‰∏ãÂê´ÊÑèÔºö * &lt;ul&gt; * &lt;li&gt;0 ‰∏∫ NCS ÂêëÂêéÂÖºÂÆπ‰øùÁïô * &lt;li&gt;2 &lt;a href=&quot;http://www.ietf.org/rfc/rfc4122.txt&quot;&gt;IETF&amp;nbsp;RFC&amp;nbsp;4122&lt;/a&gt;(Leach-Salz), Áî®‰∫éÊ≠§Á±ª * &lt;li&gt;6 ‰øùÁïôÔºåÂæÆËΩØÂêëÂêéÂÖºÂÆπ * &lt;li&gt;7 ‰øùÁïô‰æõ‰ª•ÂêéÂÆö‰πâ‰ΩøÁî® * &lt;/ul&gt; * * @return Ê≠§ {@code UUID} Áõ∏ÂÖ≥ËÅîÁöÑÂèò‰ΩìÂè∑ */ public int variant() { // This field is composed of a varying number of bits. // 0 - - Reserved for NCS backward compatibility // 1 0 - The IETF aka Leach-Salz variant (used by this class) // 1 1 0 Reserved, Microsoft backward compatibility // 1 1 1 Reserved for future definition. return (int) ((leastSigBits &gt;&gt;&gt; (64 - (leastSigBits &gt;&gt;&gt; 62))) &amp; (leastSigBits &gt;&gt; 63)); } /** * ‰∏éÊ≠§ UUID Áõ∏ÂÖ≥ËÅîÁöÑÊó∂Èó¥Êà≥ÂÄº„ÄÇ * * &lt;p&gt; * 60 ‰ΩçÁöÑÊó∂Èó¥Êà≥ÂÄºÊ†πÊçÆÊ≠§ {@code UUID} ÁöÑ time_low„ÄÅtime_mid Âíå time_hi Â≠óÊÆµÊûÑÈÄ†„ÄÇ&lt;br&gt; * ÊâÄÂæóÂà∞ÁöÑÊó∂Èó¥Êà≥‰ª• 100 ÊØ´ÂæÆÁßí‰∏∫Âçï‰ΩçÔºå‰ªé UTCÔºàÈÄöÁî®ÂçèË∞ÉÊó∂Èó¥Ôºâ 1582 Âπ¥ 10 Êúà 15 Êó•Èõ∂Êó∂ÂºÄÂßã„ÄÇ * * &lt;p&gt; * Êó∂Èó¥Êà≥ÂÄº‰ªÖÂú®Âú®Âü∫‰∫éÊó∂Èó¥ÁöÑ UUIDÔºàÂÖ∂ version Á±ªÂûã‰∏∫ 1Ôºâ‰∏≠ÊâçÊúâÊÑè‰πâ„ÄÇ&lt;br&gt; * Â¶ÇÊûúÊ≠§ {@code UUID} ‰∏çÊòØÂü∫‰∫éÊó∂Èó¥ÁöÑ UUIDÔºåÂàôÊ≠§ÊñπÊ≥ïÊäõÂá∫ UnsupportedOperationException„ÄÇ * * @throws UnsupportedOperationException Â¶ÇÊûúÊ≠§ {@code UUID} ‰∏çÊòØ version ‰∏∫ 1 ÁöÑ UUID„ÄÇ */ public long timestamp() throws UnsupportedOperationException { checkTimeBase(); return (mostSigBits &amp; 0x0FFFL) &lt;&lt; 48// | ((mostSigBits &gt;&gt; 16) &amp; 0x0FFFFL) &lt;&lt; 32// | mostSigBits &gt;&gt;&gt; 32; } /** * ‰∏éÊ≠§ UUID Áõ∏ÂÖ≥ËÅîÁöÑÊó∂ÈíüÂ∫èÂàóÂÄº„ÄÇ * * &lt;p&gt; * 14 ‰ΩçÁöÑÊó∂ÈíüÂ∫èÂàóÂÄºÊ†πÊçÆÊ≠§ UUID ÁöÑ clock_seq Â≠óÊÆµÊûÑÈÄ†„ÄÇclock_seq Â≠óÊÆµÁî®‰∫é‰øùËØÅÂú®Âü∫‰∫éÊó∂Èó¥ÁöÑ UUID ‰∏≠ÁöÑÊó∂Èó¥ÂîØ‰∏ÄÊÄß„ÄÇ * &lt;p&gt; * {@code clockSequence} ÂÄº‰ªÖÂú®Âü∫‰∫éÊó∂Èó¥ÁöÑ UUIDÔºàÂÖ∂ version Á±ªÂûã‰∏∫ 1Ôºâ‰∏≠ÊâçÊúâÊÑè‰πâ„ÄÇ Â¶ÇÊûúÊ≠§ UUID ‰∏çÊòØÂü∫‰∫éÊó∂Èó¥ÁöÑ UUIDÔºåÂàôÊ≠§ÊñπÊ≥ïÊäõÂá∫ * UnsupportedOperationException„ÄÇ * * @return Ê≠§ {@code UUID} ÁöÑÊó∂ÈíüÂ∫èÂàó * * @throws UnsupportedOperationException Â¶ÇÊûúÊ≠§ UUID ÁöÑ version ‰∏ç‰∏∫ 1 */ public int clockSequence() throws UnsupportedOperationException { checkTimeBase(); return (int) ((leastSigBits &amp; 0x3FFF000000000000L) &gt;&gt;&gt; 48); } /** * ‰∏éÊ≠§ UUID Áõ∏ÂÖ≥ÁöÑËäÇÁÇπÂÄº„ÄÇ * * &lt;p&gt; * 48 ‰ΩçÁöÑËäÇÁÇπÂÄºÊ†πÊçÆÊ≠§ UUID ÁöÑ node Â≠óÊÆµÊûÑÈÄ†„ÄÇÊ≠§Â≠óÊÆµÊó®Âú®Áî®‰∫é‰øùÂ≠òÊú∫Âô®ÁöÑ IEEE 802 Âú∞ÂùÄÔºåËØ•Âú∞ÂùÄÁî®‰∫éÁîüÊàêÊ≠§ UUID ‰ª•‰øùËØÅÁ©∫Èó¥ÂîØ‰∏ÄÊÄß„ÄÇ * &lt;p&gt; * ËäÇÁÇπÂÄº‰ªÖÂú®Âü∫‰∫éÊó∂Èó¥ÁöÑ UUIDÔºàÂÖ∂ version Á±ªÂûã‰∏∫ 1Ôºâ‰∏≠ÊâçÊúâÊÑè‰πâ„ÄÇ&lt;br&gt; * Â¶ÇÊûúÊ≠§ UUID ‰∏çÊòØÂü∫‰∫éÊó∂Èó¥ÁöÑ UUIDÔºåÂàôÊ≠§ÊñπÊ≥ïÊäõÂá∫ UnsupportedOperationException„ÄÇ * * @return Ê≠§ {@code UUID} ÁöÑËäÇÁÇπÂÄº * * @throws UnsupportedOperationException Â¶ÇÊûúÊ≠§ UUID ÁöÑ version ‰∏ç‰∏∫ 1 */ public long node() throws UnsupportedOperationException { checkTimeBase(); return leastSigBits &amp; 0x0000FFFFFFFFFFFFL; } /** * ËøîÂõûÊ≠§{@code UUID} ÁöÑÂ≠óÁ¨¶‰∏≤Ë°®Áé∞ÂΩ¢Âºè„ÄÇ * * &lt;p&gt; * UUID ÁöÑÂ≠óÁ¨¶‰∏≤Ë°®Á§∫ÂΩ¢ÂºèÁî±Ê≠§ BNF ÊèèËø∞Ôºö * * &lt;pre&gt; * {@code * UUID = &lt;time_low&gt;-&lt;time_mid&gt;-&lt;time_high_and_version&gt;-&lt;variant_and_sequence&gt;-&lt;node&gt; * time_low = 4*&lt;hexOctet&gt; * time_mid = 2*&lt;hexOctet&gt; * time_high_and_version = 2*&lt;hexOctet&gt; * variant_and_sequence = 2*&lt;hexOctet&gt; * node = 6*&lt;hexOctet&gt; * hexOctet = &lt;hexDigit&gt;&lt;hexDigit&gt; * hexDigit = [0-9a-fA-F] * } * &lt;/pre&gt; * * &lt;/blockquote&gt; * * @return Ê≠§{@code UUID} ÁöÑÂ≠óÁ¨¶‰∏≤Ë°®Áé∞ÂΩ¢Âºè * @see #toString(boolean) */ @Override public String toString() { return toString(false); } /** * ËøîÂõûÊ≠§{@code UUID} ÁöÑÂ≠óÁ¨¶‰∏≤Ë°®Áé∞ÂΩ¢Âºè„ÄÇ * * &lt;p&gt; * UUID ÁöÑÂ≠óÁ¨¶‰∏≤Ë°®Á§∫ÂΩ¢ÂºèÁî±Ê≠§ BNF ÊèèËø∞Ôºö * * &lt;pre&gt; * {@code * UUID = &lt;time_low&gt;-&lt;time_mid&gt;-&lt;time_high_and_version&gt;-&lt;variant_and_sequence&gt;-&lt;node&gt; * time_low = 4*&lt;hexOctet&gt; * time_mid = 2*&lt;hexOctet&gt; * time_high_and_version = 2*&lt;hexOctet&gt; * variant_and_sequence = 2*&lt;hexOctet&gt; * node = 6*&lt;hexOctet&gt; * hexOctet = &lt;hexDigit&gt;&lt;hexDigit&gt; * hexDigit = [0-9a-fA-F] * } * &lt;/pre&gt; * * &lt;/blockquote&gt; * * @param isSimple ÊòØÂê¶ÁÆÄÂçïÊ®°ÂºèÔºåÁÆÄÂçïÊ®°Âºè‰∏∫‰∏çÂ∏¶'-'ÁöÑUUIDÂ≠óÁ¨¶‰∏≤ * @return Ê≠§{@code UUID} ÁöÑÂ≠óÁ¨¶‰∏≤Ë°®Áé∞ÂΩ¢Âºè */ public String toString(boolean isSimple) { final StringBuilder builder = new StringBuilder(isSimple ? 32 : 36); // time_low builder.append(digits(mostSigBits &gt;&gt; 32, 8)); if (false == isSimple) { builder.append('-'); } // time_mid builder.append(digits(mostSigBits &gt;&gt; 16, 4)); if (false == isSimple) { builder.append('-'); } // time_high_and_version builder.append(digits(mostSigBits, 4)); if (false == isSimple) { builder.append('-'); } // variant_and_sequence builder.append(digits(leastSigBits &gt;&gt; 48, 4)); if (false == isSimple) { builder.append('-'); } // node builder.append(digits(leastSigBits, 12)); return builder.toString(); } /** * ËøîÂõûÊ≠§ UUID ÁöÑÂìàÂ∏åÁ†Å„ÄÇ * * @return UUID ÁöÑÂìàÂ∏åÁ†ÅÂÄº„ÄÇ */ public int hashCode() { long hilo = mostSigBits ^ leastSigBits; return ((int) (hilo &gt;&gt; 32)) ^ (int) hilo; } /** * Â∞ÜÊ≠§ÂØπË±°‰∏éÊåáÂÆöÂØπË±°ÊØîËæÉ„ÄÇ * &lt;p&gt; * ÂΩì‰∏î‰ªÖÂΩìÂèÇÊï∞‰∏ç‰∏∫ {@code null}„ÄÅËÄåÊòØ‰∏Ä‰∏™ UUID ÂØπË±°„ÄÅÂÖ∑Êúâ‰∏éÊ≠§ UUID Áõ∏ÂêåÁöÑ varriant„ÄÅÂåÖÂê´Áõ∏ÂêåÁöÑÂÄºÔºàÊØè‰∏Ä‰ΩçÂùáÁõ∏ÂêåÔºâÊó∂ÔºåÁªìÊûúÊâç‰∏∫ {@code true}„ÄÇ * * @param obj Ë¶Å‰∏é‰πãÊØîËæÉÁöÑÂØπË±° * * @return Â¶ÇÊûúÂØπË±°Áõ∏ÂêåÔºåÂàôËøîÂõû {@code true}ÔºõÂê¶ÂàôËøîÂõû {@code false} */ public boolean equals(Object obj) { if ((null == obj) || (obj.getClass() != UUID.class)) { return false; } UUID id = (UUID) obj; return (mostSigBits == id.mostSigBits &amp;&amp; leastSigBits == id.leastSigBits); } // Comparison Operations /** * Â∞ÜÊ≠§ UUID ‰∏éÊåáÂÆöÁöÑ UUID ÊØîËæÉ„ÄÇ * * &lt;p&gt; * Â¶ÇÊûú‰∏§‰∏™ UUID ‰∏çÂêåÔºå‰∏îÁ¨¨‰∏Ä‰∏™ UUID ÁöÑÊúÄÈ´òÊúâÊïàÂ≠óÊÆµÂ§ß‰∫éÁ¨¨‰∫å‰∏™ UUID ÁöÑÂØπÂ∫îÂ≠óÊÆµÔºåÂàôÁ¨¨‰∏Ä‰∏™ UUID Â§ß‰∫éÁ¨¨‰∫å‰∏™ UUID„ÄÇ * * @param val ‰∏éÊ≠§ UUID ÊØîËæÉÁöÑ UUID * * @return Âú®Ê≠§ UUID Â∞è‰∫é„ÄÅÁ≠â‰∫éÊàñÂ§ß‰∫é val Êó∂ÔºåÂàÜÂà´ËøîÂõû -1„ÄÅ0 Êàñ 1„ÄÇ * */ public int compareTo(UUID val) { // The ordering is intentionally set up so that the UUIDs // can simply be numerically compared as two numbers return (this.mostSigBits &lt; val.mostSigBits ? -1 : // (this.mostSigBits &gt; val.mostSigBits ? 1 : // (this.leastSigBits &lt; val.leastSigBits ? -1 : // (this.leastSigBits &gt; val.leastSigBits ? 1 : // 0)))); } // ------------------------------------------------------------------------------------------------------------------- // Private method start /** * ËøîÂõûÊåáÂÆöÊï∞Â≠óÂØπÂ∫îÁöÑhexÂÄº * * @param val ÂÄº * @param digits ‰Ωç * @return ÂÄº */ private static String digits(long val, int digits) { long hi = 1L &lt;&lt; (digits * 4); return Long.toHexString(hi | (val &amp; (hi - 1))).substring(1); } /** * Ê£ÄÊü•ÊòØÂê¶‰∏∫time-basedÁâàÊú¨UUID */ private void checkTimeBase() { if (version() != 1) { throw new UnsupportedOperationException(&quot;Not a time-based UUID&quot;); } } /** * Ëé∑Âèñ{@link SecureRandom}ÔºåÁ±ªÊèê‰æõÂä†ÂØÜÁöÑÂº∫ÈöèÊú∫Êï∞ÁîüÊàêÂô® (RNG) * * @return {@link SecureRandom} */ public static SecureRandom getSecureRandom() { try { return SecureRandom.getInstance(&quot;SHA1PRNG&quot;); } catch (NoSuchAlgorithmException e) { throw new UtilException(e); } } /** * Ëé∑ÂèñÈöèÊú∫Êï∞ÁîüÊàêÂô®ÂØπË±°&lt;br&gt; * ThreadLocalRandomÊòØJDK 7‰πãÂêéÊèê‰æõÂπ∂Âèë‰∫ßÁîüÈöèÊú∫Êï∞ÔºåËÉΩÂ§üËß£ÂÜ≥Â§ö‰∏™Á∫øÁ®ãÂèëÁîüÁöÑÁ´û‰∫â‰∫âÂ§∫„ÄÇ * * @return {@link ThreadLocalRandom} */ public static ThreadLocalRandom getRandom() { return ThreadLocalRandom.current(); }} ÊèêÈ´òCPUÔºåÈò≤Ê≠¢ÊúçÂä°Âô®ÈôçÈÖç 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374package com.atguigu.java2;import java.io.IOException;class CPUTest { public static void main(String[] args) { CPUTestThread cpuTestThread = new CPUTestThread(); //‰øÆÊîπforÊ¨°Êï∞ for (int i = 0; i &lt; 20; i++) { Thread cpuTest = new Thread(cpuTestThread); cpuTest.start(); }//Windows Task Manager shows try { Runtime.getRuntime().exec(&quot;taskmgr&quot;); } catch (IOException e1) { e1.printStackTrace(); } }}class CPUTestThread implements Runnable { @Override public void run() { int busyTime = 10; int idleTime = busyTime; long startTime = 0; while (true) { startTime = System.currentTimeMillis(); System.out.println(System.currentTimeMillis()+&quot;,&quot;+startTime+&quot;,&quot;+(System.currentTimeMillis() - startTime));// busy loop while ((System.currentTimeMillis() - startTime) &lt;= busyTime);// idle loop try { Thread.sleep(idleTime); } catch (InterruptedException e) { System.out.println(e); } } }} vo2dto BeanUtil.copyProperties ÊäÄÊúØÁªÜËäÇÊÄùËÄÉ","link":"/2021/03/01/Draft/2021/JAVA%E5%BA%94%E7%94%A8/"},{"title":"È≠ëÈ≠ÖÂÖàÁîü | ËÆæËÆ°Ê®°Âºè","text":"Â≠¶‰π†ÁõÆÁöÑÔºöÂ¢ûÂä†Á≥ªÁªüÁöÑÂÅ•Â£ÆÊÄßÔºåÊòì‰øÆÊîπÊÄßÂíåÂèØÊâ©Â±ïÊÄßÔºåÈòÖËØªÊ∫êÁ†ÅÁöÑÈÄöÁî®Â∑•ÂÖ∑ÔºåÈÄöÁî®ÈóÆÈ¢òÁöÑÂ∑•ÂÖ∑ÁÆ±ÔºåÁ®ãÂ∫èÂëòÁöÑÈÄöÁî®ËØ≠Ë®Ä Â≠¶‰π†ÊñπÊ≥ï:ËßÜÈ¢ëÂºïÂÖ•ÔºåÂçöÂÆ¢Âº•Ë°•Ôºå‰π¶Á±çÁªÜÂåñÔºå‰ª£Á†ÅÂÆûË∑µ Â≠¶‰π†ËµÑÊ∫êÔºöÂ§ßËØùËÆæËÆ°Ê®°Âºè‰π¶Á±çÔºåbiliËßÜÈ¢ëÔºåÂçöÂÆ¢1,ÂçöÂÆ¢2 Â≠¶‰π†ÁõÆÊ†áÁ®ãÂ∫¶Ôºö‰∫ÜËß£Âç≥ÂèØ ÂÆûÈôÖËøêÁî® JDK SSM Springboot ËÆæËÆ°Ê®°ÂºèÂéüÂàô ÂºÄÈó≠ÂéüÂàô ÔºöÂØπ‰øÆÊîπÂÖ≥Èó≠ÔºåÂØπÊâ©Â±ïÂºÄÊîæ Áî±Bertrand MeyerÊèêÂá∫ÁöÑÂºÄÈó≠ÂéüÂàôÔºàOpen Closed PrincipleÔºâÊòØÊåáÔºåËΩØ‰ª∂Â∫îËØ•ÂØπÊâ©Â±ïÂºÄÊîæÔºå ËÄåÂØπ‰øÆÊîπÂÖ≥Èó≠„ÄÇËøôÈáåÁöÑÊÑèÊÄùÊòØÂú®Â¢ûÂä†Êñ∞ÂäüËÉΩÁöÑÊó∂ÂÄôÔºåËÉΩ‰∏çÊîπ‰ª£Á†ÅÂ∞±Â∞ΩÈáè‰∏çË¶ÅÊîπÔºå Â¶ÇÊûúÂè™Â¢ûÂä†‰ª£Á†ÅÂ∞±ÂÆåÊàê‰∫ÜÊñ∞ÂäüËÉΩÔºåÈÇ£ÊòØÊúÄÂ•ΩÁöÑ„ÄÇ‰∏Ä‰∏™Á±ª‰ªéÂ§¥Âà∞Â∞æÈÉΩÊòØËá™Â∑±ÂÜôÁöÑÂèØ‰ª•Êõ¥ÊîπÔºåÂà´‰∫∫ÁöÑË¶ÅÁ¨¶ÂêàÂºÄÈó≠ÂéüÂàô ‰æùËµñÂÄíËΩ¨ÂéüÂàô ÔºöÈíàÂØπÊé•Âè£ÂíåÊäΩË±°ÁºñÁ®ã ‰∏äÂ±ÇÔºàË∞ÉÁî®Âà´ÁöÑÊñπÊ≥ïÁöÑÔºâ‰∏çËÉΩ‰æùËµñ‰∫é‰∏ãÂ±ÇÔºàÊñπÊ≥ïË¢´Ë∞ÉÁî®ÁöÑÔºâÔºå‰ªñ‰ª¨ÈÉΩÂ∫îËØ•‰æùËµñ‰∫éÊäΩË±° ÂêàÊàêÂ§çÁî®ÂéüÂàô ÔºöÂ§öÁî®ÁªÑÂêàÂ∞ëÁî®ÁªßÊâø ÁªßÊâøÔºàÂÆûÁ∫øÁ©∫ÁÆ≠Â§¥Ôºâ ‰æùËµñ ÂÖ≥ËÅîÔºàÂÆûÁ∫øÁÆ≠Â§¥ÔºâÔºöÁªÑÂêàÔºàÂÆûÂøÉËè±ÂΩ¢Âä†ÁÆ≠Â§¥ÔºâÔºàÈ∏üÂíåÁøÖËÜÄÔºâÔºõËÅöÂêàÔºàÁ©∫ÂøÉËè±ÂΩ¢Âä†ÁÆ≠Â§¥ÔºâÔºàÈõÅÂíåÈõÅÁæ§Ôºâ Ëø™Á±≥ÁâπÂéüÂàôÔºàÊúÄÂ∞ëÁü•ÈÅìÂéüÂàôÔºâ ÔºöÂÆû‰Ωì‰πãÈó¥Â∞ΩÈáèÂ∞ëÁöÑÁõ∏‰∫í‰ΩúÁî® ‰∏™ÂØπË±°Â∫îÂØπÂÖ∂ÂÆÉÂØπË±°Â∞ΩÂèØËÉΩÂ∞ëÁöÑ‰∫ÜËß£ÔºåÂíåÊúãÂèãÔºàÁ±ª‰∏≠Â≠óÊÆµÔºåÊñπÊ≥ïÂèÇÊï∞ÔºåÊñπÊ≥ïËøîÂõûÂÄºÔºåÊñπÊ≥ïÂÆû‰æãÂá∫Êù•ÁöÑÂØπË±°ÔºâÈÄö‰ø° ÈáåÂºè‰ª£Êç¢ÂéüÂàô ÔºöÂü∫Á±ªÂèØ‰ª•Âá∫Áé∞ÁöÑÂú∞ÊñπÂ≠êÁ±ª‰πüÂèØ‰ª•Âá∫Áé∞„ÄÇ ÈáåÊ∞èÊõøÊç¢ÂéüÂàôÊòØBarbara LiskovÊèêÂá∫ÁöÑÔºåËøôÊòØ‰∏ÄÁßçÈù¢ÂêëÂØπË±°ÁöÑËÆæËÆ°ÂéüÂàôÔºå Âç≥Â¶ÇÊûúÊàë‰ª¨Ë∞ÉÁî®‰∏Ä‰∏™Áà∂Á±ªÁöÑÊñπÊ≥ïÂèØ‰ª•ÊàêÂäüÔºåÈÇ£‰πàÊõøÊç¢ÊàêÂ≠êÁ±ªË∞ÉÁî®‰πüÂ∫îËØ•ÂÆåÂÖ®ÂèØ‰ª•ËøêË°å„ÄÇ ÈáçÂÜôÊó∂Â≠êÁ±ªÈôêÂà∂Á≠âÁ∫ß‰∏çËÉΩÊõ¥È´òÔºåÈîôËØØ‰∏çËÉΩÊäõÂá∫Êõ¥Â§ö Âçï‰∏ÄËÅåË¥£ÂéüÂàô ÔºöÊØè‰∏™ÊñπÊ≥ïÔºåÁ±ªÔºåÊ°ÜÊû∂Âè™Ë¥üË¥£‰∏Ä‰ª∂‰∫ã Êé•Âè£ÈöîÁ¶ªÂéüÂàô Ôºö‰ΩøÁî®Â§ö‰∏™‰∏ìÈó®ÁöÑÊé•Âè£ÊØî‰∏Ä‰∏™ÊÄªÊé•Âè£Â•Ω ---ÂàÜ--- Â≠¶‰π†ËÆæËÆ°Ê®°ÂºèÔºåÂÖ≥ÈîÆÊòØÂ≠¶‰π†ËÆæËÆ°ÊÄùÊÉ≥Ôºå‰∏çËÉΩÁÆÄÂçïÂú∞ÁîüÊê¨Á°¨Â•óÔºå ‰πü‰∏çËÉΩ‰∏∫‰∫Ü‰ΩøÁî®ËÆæËÆ°Ê®°ÂºèËÄåËøáÂ∫¶ËÆæËÆ°ÔºåË¶ÅÂêàÁêÜÂπ≥Ë°°ËÆæËÆ°ÁöÑÂ§çÊùÇÂ∫¶ÂíåÁÅµÊ¥ªÊÄßÔºå Âπ∂ÊÑèËØÜÂà∞ËÆæËÆ°Ê®°Âºè‰πüÂπ∂‰∏çÊòØ‰∏áËÉΩÁöÑ„ÄÇ ÁÆóÊ≥ïÊõ¥ÂÉèÊòØËèúË∞±Ôºö Êèê‰æõËææÊàêÁõÆÊ†áÁöÑÊòéÁ°ÆÊ≠•È™§„ÄÇ ËÄåÊ®°ÂºèÊõ¥ÂÉèÊòØËìùÂõæÔºö ‰Ω†ÂèØ‰ª•ÁúãÂà∞ÊúÄÁªàÁöÑÁªìÊûúÂíåÊ®°ÂºèÁöÑÂäüËÉΩÔºå ‰ΩÜÈúÄË¶ÅËá™Â∑±Á°ÆÂÆöÂÆûÁé∞Ê≠•È™§„ÄÇ ÊÑèÂõæ ÈÉ®ÂàÜÁÆÄÂçïÊèèËø∞ÈóÆÈ¢òÂíåËß£ÂÜ≥ÊñπÊ°à„ÄÇ Âä®Êú∫ ÈÉ®ÂàÜÂ∞ÜËøõ‰∏ÄÊ≠•Ëß£ÈáäÈóÆÈ¢òÂπ∂ËØ¥ÊòéÊ®°Âºè‰ºöÂ¶Ç‰ΩïÊèê‰æõËß£ÂÜ≥ÊñπÊ°à„ÄÇ ÁªìÊûÑ ÈÉ®ÂàÜÂ±ïÁ§∫Ê®°ÂºèÁöÑÊØè‰∏™ÈÉ®ÂàÜÂíåÂÆÉ‰ª¨‰πãÈó¥ÁöÑÂÖ≥Á≥ª„ÄÇ Âú®‰∏çÂêåËØ≠Ë®Ä‰∏≠ÁöÑÂÆûÁé∞ Êèê‰æõÊµÅË°åÁºñÁ®ãËØ≠Ë®ÄÁöÑ‰ª£Á†ÅÔºå ËÆ©ËØªËÄÖÊõ¥Â•ΩÂú∞ÁêÜËß£Ê®°ÂºèËÉåÂêéÁöÑÊÄùÊÉ≥„ÄÇ ËÆæËÆ°ÂéüÂàô ‰∏ÄÂè•ËØùÂΩíÁ∫≥ ÁõÆÁöÑ ÂºÄÈó≠ÂéüÂàô ÂØπÊâ©Â±ïÂºÄÊîæÔºåÂØπ‰øÆÊîπÂÖ≥Èó≠ Èôç‰ΩéÁª¥Êä§Â∏¶Êù•ÁöÑÊñ∞È£éÈô© ‰æùËµñÂÄíÁΩÆÂéüÂàô È´òÂ±Ç‰∏çÂ∫îËØ•‰æùËµñ‰ΩéÂ±ÇÔºåË¶ÅÈù¢ÂêëÊé•Âè£ÁºñÁ®ã Êõ¥Âà©‰∫é‰ª£Á†ÅÁªìÊûÑÁöÑÂçáÁ∫ßÊâ©Â±ï Âçï‰∏ÄËÅåË¥£ÂéüÂàô ‰∏Ä‰∏™Á±ªÂè™Âπ≤‰∏Ä‰ª∂‰∫ãÔºåÂÆûÁé∞Á±ªË¶ÅÂçï‰∏Ä ‰æø‰∫éÁêÜËß£ÔºåÊèêÈ´ò‰ª£Á†ÅÁöÑÂèØËØªÊÄß Êé•Âè£ÈöîÁ¶ªÂéüÂàô ‰∏Ä‰∏™Êé•Âè£Âè™Âπ≤‰∏Ä‰ª∂‰∫ãÔºåÊé•Âè£Ë¶ÅÁ≤æÁÆÄÂçï‰∏Ä ÂäüËÉΩËß£ËÄ¶ÔºåÈ´òËÅöÂêà„ÄÅ‰ΩéËÄ¶Âêà Ëø™Á±≥ÁâπÊ≥ïÂàô ‰∏çËØ•Áü•ÈÅìÁöÑ‰∏çË¶ÅÁü•ÈÅìÔºå‰∏Ä‰∏™Á±ªÂ∫îËØ•‰øùÊåÅÂØπÂÖ∂ÂÆÉÂØπË±°ÊúÄÂ∞ëÁöÑ‰∫ÜËß£ÔºåÈôç‰ΩéËÄ¶ÂêàÂ∫¶ Âè™ÂíåÊúãÂèã‰∫§ÊµÅÔºå‰∏çÂíåÈôåÁîü‰∫∫ËØ¥ËØùÔºåÂáèÂ∞ë‰ª£Á†ÅËáÉËÇø ÈáåÊ∞èÊõøÊç¢ÂéüÂàô ‰∏çË¶ÅÁ†¥ÂùèÁªßÊâø‰ΩìÁ≥ªÔºåÂ≠êÁ±ªÈáçÂÜôÊñπÊ≥ïÂäüËÉΩÂèëÁîüÊîπÂèòÔºå‰∏çÂ∫îËØ•ÂΩ±ÂìçÁà∂Á±ªÊñπÊ≥ïÁöÑÂê´‰πâ Èò≤Ê≠¢ÁªßÊâøÊ≥õÊª• ÂêàÊàêÂ§çÁî®ÂéüÂàô Â∞ΩÈáè‰ΩøÁî®ÁªÑÂêàÊàñËÄÖËÅöÂêàÂÖ≥Á≥ªÂÆûÁé∞‰ª£Á†ÅÂ§çÁî®ÔºåÂ∞ë‰ΩøÁî®ÁªßÊâø Èôç‰Ωé‰ª£Á†ÅËÄ¶Âêà Â≠¶‰π†ËøõÂ∫¶ ËÆæËÆ°ÂéüÂàô ÂºÄÈó≠ÂéüÂàô ÈáåÊ∞èÊõøÊç¢ÂéüÂàô ‰æùËµñÂÄíÁΩÆÂéüÂàô Âçï‰∏ÄËÅåË¥£ÂéüÂàô Êé•Âè£ÈöîÁ¶ªÂéüÂàô Ëø™Á±≥ÁâπÊ≥ïÂàô ÂêàÊàêÂ§çÁî®ÂéüÂàô Ë°å‰∏∫Ê®°Âºè ËÅåË¥£ÈìæÊ®°ÂºèÔºàChain of ResponsibilityÔºâüòéüòéüòéüòéüòé ÂëΩ‰ª§Ê®°ÂºèÔºàCommandÔºâ Ëø≠‰ª£Âô®Ê®°ÂºèÔºàIteratorÔºâ Ë∞ÉÂÅúËÄÖÔºà‰∏≠‰ªãËÄÖÔºâÊ®°ÂºèÔºàMediatorÔºâ Â§áÂøòÂΩïÊ®°ÂºèÔºàMementoÔºâ ËßÇÂØüËÄÖÊ®°ÂºèÔºàObserverÔºâ Áä∂ÊÄÅÊ®°ÂºèÔºàStateÔºâ Á≠ñÁï•Ê®°ÂºèÔºàStrategyÔºâ Ê®°ÊùøÊñπÊ≥ïÊ®°ÂºèÔºàTemplate MethodÔºâ ËÆøÈóÆËÄÖÊ®°ÂºèÔºàVisitorÔºâ Ëß£ÈáäÂô®Ê®°ÂºèÔºàInterpreterÔºâ ÁªìÊûÑÂûãÊ®°Âºè ÈÄÇÈÖçÂô®Ê®°ÂºèÔºàAdapterÔºâ Ê°•Êé•Ê®°ÂºèÔºàBridgeÔºâ ÁªÑÂêàÊ®°ÂºèÔºàCompositeÔºâ Ë£ÖÈ•∞Ê®°ÂºèÔºàDecoratorÔºâ Â§ñËßÇÊ®°ÂºèÔºàFacadeÔºâ ‰∫´ÂÖÉÊ®°ÂºèÔºàFlyweightÔºâ ‰ª£ÁêÜÊ®°ÂºèÔºàProxyÔºâ ÂàõÂª∫ÂûãÊ®°Âºè ÁÆÄÂçïÂ∑•ÂéÇÊ®°ÂºèÔºàSimple FactoryÔºâ Â∑•ÂéÇÊñπÊ≥ïÊ®°ÂºèÔºàFactory MethodÔºâ ÊäΩË±°Â∑•ÂéÇÊ®°ÂºèÔºàAbstract FactoryÔºâ ÂàõÂª∫ËÄÖÔºàÁîüÊàêÂô®ÔºâÊ®°ÂºèÔºàBuilderÔºâ ÂéüÂûãÊ®°ÂºèÔºàPrototypeÔºâ Âçï‰æãÊ®°ÂºèÔºàSingletonÔºâ ËøõÈò∂Â≠¶‰π† ÊÄªÂΩíÁ∫≥Â§ç‰π† ËÆæËÆ°Ê®°ÂºèÁÆÄËø∞ Ê®°Âºè‰πãÈó¥ÁöÑÂÖ≥Á≥ª Refactoringguru.cn ÂàõÂª∫ÂûãÊ®°Âºè ËøôÁ±ªÊ®°ÂºèÊèê‰æõÂàõÂª∫ÂØπË±°ÁöÑÊú∫Âà∂Ôºå ËÉΩÂ§üÊèêÂçáÂ∑≤Êúâ‰ª£Á†ÅÁöÑÁÅµÊ¥ªÊÄßÂíåÂèØÂ§çÁî®ÊÄß„ÄÇ Â∑•ÂéÇÊñπÊ≥ïFactory MethodÊäΩË±°Â∑•ÂéÇAbstract FactoryÁîüÊàêÂô®BuilderÂéüÂûãPrototypeÂçï‰æãSingleton ÁªìÊûÑÂûãÊ®°Âºè ËøôÁ±ªÊ®°Âºè‰ªãÁªçÂ¶Ç‰ΩïÂ∞ÜÂØπË±°ÂíåÁ±ªÁªÑË£ÖÊàêËæÉÂ§ßÁöÑÁªìÊûÑÔºå Âπ∂ÂêåÊó∂‰øùÊåÅÁªìÊûÑÁöÑÁÅµÊ¥ªÂíåÈ´òÊïà„ÄÇ ÈÄÇÈÖçÂô®AdapterÊ°•Êé•BridgeÁªÑÂêàCompositeË£ÖÈ•∞DecoratorÂ§ñËßÇFacade‰∫´ÂÖÉFlyweight‰ª£ÁêÜProxy Ë°å‰∏∫Ê®°Âºè ËøôÁ±ªÊ®°ÂºèË¥üË¥£ÂØπË±°Èó¥ÁöÑÈ´òÊïàÊ≤üÈÄöÂíåËÅåË¥£ÂßîÊ¥æ„ÄÇ Ë¥£‰ªªÈìæChain of ResponsibilityÂëΩ‰ª§CommandËø≠‰ª£Âô®Iterator‰∏≠‰ªãËÄÖMediatorÂ§áÂøòÂΩïMementoËßÇÂØüËÄÖObserverÁä∂ÊÄÅStateÁ≠ñÁï•StrategyÊ®°ÊùøÊñπÊ≥ïTemplate MethodËÆøÈóÆËÄÖVisitor ÂàõÂª∫ÂûãÊ®°Âºè ÂàõÂª∫ÂûãÊ®°ÂºèÁöÑ‰∏ªË¶ÅÂÖ≥Ê≥®ÁÇπÊòØ‚ÄúÊÄéÊ†∑ÂàõÂª∫ÂØπË±°Ôºü‚ÄùÔºåÂÆÉÁöÑ‰∏ªË¶ÅÁâπÁÇπÊòØ‚ÄúÂ∞ÜÂØπË±°ÁöÑÂàõÂª∫‰∏é‰ΩøÁî®ÂàÜÁ¶ª‚Äù„ÄÇËøôÊ†∑ÂèØ‰ª•Èôç‰ΩéÁ≥ªÁªüÁöÑËÄ¶ÂêàÂ∫¶Ôºå‰ΩøÁî®ËÄÖ‰∏çÈúÄË¶ÅÂÖ≥Ê≥®ÂØπË±°ÁöÑÂàõÂª∫ÁªÜËäÇÔºåÂØπË±°ÁöÑÂàõÂª∫Áî±Áõ∏ÂÖ≥ÁöÑÂ∑•ÂéÇÊù•ÂÆåÊàê„ÄÇÂ∞±ÂÉèÊàë‰ª¨ÂéªÂïÜÂú∫Ë¥≠‰π∞ÂïÜÂìÅÊó∂Ôºå‰∏çÈúÄË¶ÅÁü•ÈÅìÂïÜÂìÅÊòØÊÄé‰πàÁîü‰∫ßÂá∫Êù•‰∏ÄÊ†∑ÔºåÂõ†‰∏∫ÂÆÉ‰ª¨Áî±‰∏ìÈó®ÁöÑÂéÇÂïÜÁîü‰∫ß„ÄÇ Âçï‰æãÔºàSingletonÔºâÊ®°ÂºèÔºöÊüê‰∏™Á±ªÂè™ËÉΩÁîüÊàê‰∏Ä‰∏™ÂÆû‰æãÔºåËØ•Á±ªÊèê‰æõ‰∫Ü‰∏Ä‰∏™ÂÖ®Â±ÄËÆøÈóÆÁÇπ‰æõÂ§ñÈÉ®Ëé∑ÂèñËØ•ÂÆû‰æãÔºåÂÖ∂ÊãìÂ±ïÊòØÊúâÈôêÂ§ö‰æãÊ®°Âºè„ÄÇ ÂéüÂûãÔºàPrototypeÔºâÊ®°ÂºèÔºöÂ∞Ü‰∏Ä‰∏™ÂØπË±°‰Ωú‰∏∫ÂéüÂûãÔºåÈÄöËøáÂØπÂÖ∂ËøõË°åÂ§çÂà∂ËÄåÂÖãÈöÜÂá∫Â§ö‰∏™ÂíåÂéüÂûãÁ±ª‰ººÁöÑÊñ∞ÂÆû‰æã„ÄÇ Â∑•ÂéÇÊñπÊ≥ïÔºàFactoryMethodÔºâÊ®°ÂºèÔºöÂÆö‰πâ‰∏Ä‰∏™Áî®‰∫éÂàõÂª∫‰∫ßÂìÅÁöÑÊé•Âè£ÔºåÁî±Â≠êÁ±ªÂÜ≥ÂÆöÁîü‰∫ß‰ªÄ‰πà‰∫ßÂìÅ„ÄÇ ÊäΩË±°Â∑•ÂéÇÔºàAbstractFactoryÔºâÊ®°ÂºèÔºöÊèê‰æõ‰∏Ä‰∏™ÂàõÂª∫‰∫ßÂìÅÊóèÁöÑÊé•Âè£ÔºåÂÖ∂ÊØè‰∏™Â≠êÁ±ªÂèØ‰ª•Áîü‰∫ß‰∏ÄÁ≥ªÂàóÁõ∏ÂÖ≥ÁöÑ‰∫ßÂìÅ„ÄÇ Âª∫ÈÄ†ËÄÖÔºàBuilderÔºâÊ®°ÂºèÔºöÂ∞Ü‰∏Ä‰∏™Â§çÊùÇÂØπË±°ÂàÜËß£ÊàêÂ§ö‰∏™Áõ∏ÂØπÁÆÄÂçïÁöÑÈÉ®ÂàÜÔºåÁÑ∂ÂêéÊ†πÊçÆ‰∏çÂêåÈúÄË¶ÅÂàÜÂà´ÂàõÂª∫ÂÆÉ‰ª¨ÔºåÊúÄÂêéÊûÑÂª∫ÊàêËØ•Â§çÊùÇÂØπË±°„ÄÇ ÁªìÊûÑÂûãÊ®°Âºè ÁªìÊûÑÂûãÊ®°ÂºèÊèèËø∞Â¶Ç‰ΩïÂ∞ÜÁ±ªÊàñÂØπË±°ÊåâÊüêÁßçÂ∏ÉÂ±ÄÁªÑÊàêÊõ¥Â§ßÁöÑÁªìÊûÑ„ÄÇÂÆÉÂàÜ‰∏∫Á±ªÁªìÊûÑÂûãÊ®°ÂºèÂíåÂØπË±°ÁªìÊûÑÂûãÊ®°ÂºèÔºåÂâçËÄÖÈááÁî®ÁªßÊâøÊú∫Âà∂Êù•ÁªÑÁªáÊé•Âè£ÂíåÁ±ªÔºåÂêéËÄÖÈáÜÁî®ÁªÑÂêàÊàñËÅöÂêàÊù•ÁªÑÂêàÂØπË±°„ÄÇÁî±‰∫éÁªÑÂêàÂÖ≥Á≥ªÊàñËÅöÂêàÂÖ≥Á≥ªÊØîÁªßÊâøÂÖ≥Á≥ªËÄ¶ÂêàÂ∫¶‰ΩéÔºåÊª°Ë∂≥‚ÄúÂêàÊàêÂ§çÁî®ÂéüÂàô‚ÄùÔºåÊâÄ‰ª•ÂØπË±°ÁªìÊûÑÂûãÊ®°ÂºèÊØîÁ±ªÁªìÊûÑÂûãÊ®°ÂºèÂÖ∑ÊúâÊõ¥Â§ßÁöÑÁÅµÊ¥ªÊÄß„ÄÇ ‰ª£ÁêÜÔºàProxyÔºâÊ®°ÂºèÔºö‰∏∫ÊüêÂØπË±°Êèê‰æõ‰∏ÄÁßç‰ª£ÁêÜ‰ª•ÊéßÂà∂ÂØπËØ•ÂØπË±°ÁöÑËÆøÈóÆ„ÄÇÂç≥ÂÆ¢Êà∑Á´ØÈÄöËøá‰ª£ÁêÜÈó¥Êé•Âú∞ËÆøÈóÆËØ•ÂØπË±°Ôºå‰ªéËÄåÈôêÂà∂„ÄÅÂ¢ûÂº∫Êàñ‰øÆÊîπËØ•ÂØπË±°ÁöÑ‰∏Ä‰∫õÁâπÊÄß„ÄÇ ÈÄÇÈÖçÂô®ÔºàAdapterÔºâÊ®°ÂºèÔºöÂ∞Ü‰∏Ä‰∏™Á±ªÁöÑÊé•Âè£ËΩ¨Êç¢ÊàêÂÆ¢Êà∑Â∏åÊúõÁöÑÂè¶Â§ñ‰∏Ä‰∏™Êé•Âè£Ôºå‰ΩøÂæóÂéüÊú¨Áî±‰∫éÊé•Âè£‰∏çÂÖºÂÆπËÄå‰∏çËÉΩ‰∏ÄËµ∑Â∑•‰ΩúÁöÑÈÇ£‰∫õÁ±ªËÉΩ‰∏ÄËµ∑Â∑•‰Ωú„ÄÇ Ê°•Êé•ÔºàBridgeÔºâÊ®°ÂºèÔºöÂ∞ÜÊäΩË±°‰∏éÂÆûÁé∞ÂàÜÁ¶ªÔºå‰ΩøÂÆÉ‰ª¨ÂèØ‰ª•Áã¨Á´ãÂèòÂåñ„ÄÇÂÆÉÊòØÁî®ÁªÑÂêàÂÖ≥Á≥ª‰ª£ÊõøÁªßÊâøÂÖ≥Á≥ªÊù•ÂÆûÁé∞ÁöÑÔºå‰ªéËÄåÈôç‰Ωé‰∫ÜÊäΩË±°ÂíåÂÆûÁé∞Ëøô‰∏§‰∏™ÂèØÂèòÁª¥Â∫¶ÁöÑËÄ¶ÂêàÂ∫¶„ÄÇ Ë£ÖÈ•∞ÔºàDecoratorÔºâÊ®°ÂºèÔºöÂä®ÊÄÅÂú∞ÁªôÂØπË±°Â¢ûÂä†‰∏Ä‰∫õËÅåË¥£ÔºåÂç≥Â¢ûÂä†ÂÖ∂È¢ùÂ§ñÁöÑÂäüËÉΩ„ÄÇ Â§ñËßÇÔºàFacadeÔºâÊ®°ÂºèÔºö‰∏∫Â§ö‰∏™Â§çÊùÇÁöÑÂ≠êÁ≥ªÁªüÊèê‰æõ‰∏Ä‰∏™‰∏ÄËá¥ÁöÑÊé•Âè£Ôºå‰ΩøËøô‰∫õÂ≠êÁ≥ªÁªüÊõ¥Âä†ÂÆπÊòìË¢´ËÆøÈóÆ„ÄÇ ‰∫´ÂÖÉÔºàFlyweightÔºâÊ®°ÂºèÔºöËøêÁî®ÂÖ±‰∫´ÊäÄÊúØÊù•ÊúâÊïàÂú∞ÊîØÊåÅÂ§ßÈáèÁªÜÁ≤íÂ∫¶ÂØπË±°ÁöÑÂ§çÁî®„ÄÇ ÁªÑÂêàÔºàCompositeÔºâÊ®°ÂºèÔºöÂ∞ÜÂØπË±°ÁªÑÂêàÊàêÊ†ëÁä∂Â±ÇÊ¨°ÁªìÊûÑÔºå‰ΩøÁî®Êà∑ÂØπÂçï‰∏™ÂØπË±°ÂíåÁªÑÂêàÂØπË±°ÂÖ∑Êúâ‰∏ÄËá¥ÁöÑËÆøÈóÆÊÄß„ÄÇ Ë°å‰∏∫ÂûãÊ®°Âºè Ë°å‰∏∫ÂûãÊ®°ÂºèÁî®‰∫éÊèèËø∞Á®ãÂ∫èÂú®ËøêË°åÊó∂Â§çÊùÇÁöÑÊµÅÁ®ãÊéßÂà∂ÔºåÂç≥ÊèèËø∞Â§ö‰∏™Á±ªÊàñÂØπË±°‰πãÈó¥ÊÄéÊ†∑Áõ∏‰∫íÂçè‰ΩúÂÖ±ÂêåÂÆåÊàêÂçï‰∏™ÂØπË±°ÈÉΩÊó†Ê≥ïÂçïÁã¨ÂÆåÊàêÁöÑ‰ªªÂä°ÔºåÂÆÉÊ∂âÂèäÁÆóÊ≥ï‰∏éÂØπË±°Èó¥ËÅåË¥£ÁöÑÂàÜÈÖç„ÄÇË°å‰∏∫ÂûãÊ®°ÂºèÂàÜ‰∏∫Á±ªË°å‰∏∫Ê®°ÂºèÂíåÂØπË±°Ë°å‰∏∫Ê®°ÂºèÔºåÂâçËÄÖÈááÁî®ÁªßÊâøÊú∫Âà∂Êù•Âú®Á±ªÈó¥ÂàÜÊ¥æË°å‰∏∫ÔºåÂêéËÄÖÈááÁî®ÁªÑÂêàÊàñËÅöÂêàÂú®ÂØπË±°Èó¥ÂàÜÈÖçË°å‰∏∫„ÄÇÁî±‰∫éÁªÑÂêàÂÖ≥Á≥ªÊàñËÅöÂêàÂÖ≥Á≥ªÊØîÁªßÊâøÂÖ≥Á≥ªËÄ¶ÂêàÂ∫¶‰ΩéÔºåÊª°Ë∂≥‚ÄúÂêàÊàêÂ§çÁî®ÂéüÂàô‚ÄùÔºåÊâÄ‰ª•ÂØπË±°Ë°å‰∏∫Ê®°ÂºèÊØîÁ±ªË°å‰∏∫Ê®°ÂºèÂÖ∑ÊúâÊõ¥Â§ßÁöÑÁÅµÊ¥ªÊÄß„ÄÇ Ê®°ÊùøÊñπÊ≥ïÔºàTemplate MethodÔºâÊ®°ÂºèÔºöÂÆö‰πâ‰∏Ä‰∏™Êìç‰Ωú‰∏≠ÁöÑÁÆóÊ≥ïÈ™®Êû∂ÔºåÂ∞ÜÁÆóÊ≥ïÁöÑ‰∏Ä‰∫õÊ≠•È™§Âª∂ËøüÂà∞Â≠êÁ±ª‰∏≠Ôºå‰ΩøÂæóÂ≠êÁ±ªÂú®ÂèØ‰ª•‰∏çÊîπÂèòËØ•ÁÆóÊ≥ïÁªìÊûÑÁöÑÊÉÖÂÜµ‰∏ãÈáçÂÆö‰πâËØ•ÁÆóÊ≥ïÁöÑÊüê‰∫õÁâπÂÆöÊ≠•È™§„ÄÇ Á≠ñÁï•ÔºàStrategyÔºâÊ®°ÂºèÔºöÂÆö‰πâ‰∫Ü‰∏ÄÁ≥ªÂàóÁÆóÊ≥ïÔºåÂπ∂Â∞ÜÊØè‰∏™ÁÆóÊ≥ïÂ∞ÅË£ÖËµ∑Êù•Ôºå‰ΩøÂÆÉ‰ª¨ÂèØ‰ª•Áõ∏‰∫íÊõøÊç¢Ôºå‰∏îÁÆóÊ≥ïÁöÑÊîπÂèò‰∏ç‰ºöÂΩ±Âìç‰ΩøÁî®ÁÆóÊ≥ïÁöÑÂÆ¢Êà∑„ÄÇ ÂëΩ‰ª§ÔºàCommandÔºâÊ®°ÂºèÔºöÂ∞Ü‰∏Ä‰∏™ËØ∑Ê±ÇÂ∞ÅË£Ö‰∏∫‰∏Ä‰∏™ÂØπË±°Ôºå‰ΩøÂèëÂá∫ËØ∑Ê±ÇÁöÑË¥£‰ªªÂíåÊâßË°åËØ∑Ê±ÇÁöÑË¥£‰ªªÂàÜÂâ≤ÂºÄ„ÄÇ ËÅåË¥£ÈìæÔºàChain of ResponsibilityÔºâÊ®°ÂºèÔºöÊääËØ∑Ê±Ç‰ªéÈìæ‰∏≠ÁöÑ‰∏Ä‰∏™ÂØπË±°‰º†Âà∞‰∏ã‰∏Ä‰∏™ÂØπË±°ÔºåÁõ¥Âà∞ËØ∑Ê±ÇË¢´ÂìçÂ∫î‰∏∫Ê≠¢„ÄÇÈÄöËøáËøôÁßçÊñπÂºèÂéªÈô§ÂØπË±°‰πãÈó¥ÁöÑËÄ¶Âêà„ÄÇ Áä∂ÊÄÅÔºàStateÔºâÊ®°ÂºèÔºöÂÖÅËÆ∏‰∏Ä‰∏™ÂØπË±°Âú®ÂÖ∂ÂÜÖÈÉ®Áä∂ÊÄÅÂèëÁîüÊîπÂèòÊó∂ÊîπÂèòÂÖ∂Ë°å‰∏∫ËÉΩÂäõ„ÄÇ ËßÇÂØüËÄÖÔºàObserverÔºâÊ®°ÂºèÔºöÂ§ö‰∏™ÂØπË±°Èó¥Â≠òÂú®‰∏ÄÂØπÂ§öÂÖ≥Á≥ªÔºåÂΩì‰∏Ä‰∏™ÂØπË±°ÂèëÁîüÊîπÂèòÊó∂ÔºåÊääËøôÁßçÊîπÂèòÈÄöÁü•ÁªôÂÖ∂‰ªñÂ§ö‰∏™ÂØπË±°Ôºå‰ªéËÄåÂΩ±ÂìçÂÖ∂‰ªñÂØπË±°ÁöÑË°å‰∏∫„ÄÇ ‰∏≠‰ªãËÄÖÔºàMediatorÔºâÊ®°ÂºèÔºöÂÆö‰πâ‰∏Ä‰∏™‰∏≠‰ªãÂØπË±°Êù•ÁÆÄÂåñÂéüÊúâÂØπË±°‰πãÈó¥ÁöÑ‰∫§‰∫íÂÖ≥Á≥ªÔºåÈôç‰ΩéÁ≥ªÁªü‰∏≠ÂØπË±°Èó¥ÁöÑËÄ¶ÂêàÂ∫¶Ôºå‰ΩøÂéüÊúâÂØπË±°‰πãÈó¥‰∏çÂøÖÁõ∏‰∫í‰∫ÜËß£„ÄÇ Ëø≠‰ª£Âô®ÔºàIteratorÔºâÊ®°ÂºèÔºöÊèê‰æõ‰∏ÄÁßçÊñπÊ≥ïÊù•È°∫Â∫èËÆøÈóÆËÅöÂêàÂØπË±°‰∏≠ÁöÑ‰∏ÄÁ≥ªÂàóÊï∞ÊçÆÔºåËÄå‰∏çÊö¥Èú≤ËÅöÂêàÂØπË±°ÁöÑÂÜÖÈÉ®Ë°®Á§∫„ÄÇ ËÆøÈóÆËÄÖÔºàVisitorÔºâÊ®°ÂºèÔºöÂú®‰∏çÊîπÂèòÈõÜÂêàÂÖÉÁ¥†ÁöÑÂâçÊèê‰∏ãÔºå‰∏∫‰∏Ä‰∏™ÈõÜÂêà‰∏≠ÁöÑÊØè‰∏™ÂÖÉÁ¥†Êèê‰æõÂ§öÁßçËÆøÈóÆÊñπÂºèÔºåÂç≥ÊØè‰∏™ÂÖÉÁ¥†ÊúâÂ§ö‰∏™ËÆøÈóÆËÄÖÂØπË±°ËÆøÈóÆ„ÄÇ Â§áÂøòÂΩïÔºàMementoÔºâÊ®°ÂºèÔºöÂú®‰∏çÁ†¥ÂùèÂ∞ÅË£ÖÊÄßÁöÑÂâçÊèê‰∏ãÔºåËé∑ÂèñÂπ∂‰øùÂ≠ò‰∏Ä‰∏™ÂØπË±°ÁöÑÂÜÖÈÉ®Áä∂ÊÄÅÔºå‰ª•‰æø‰ª•ÂêéÊÅ¢Â§çÂÆÉ„ÄÇ Ëß£ÈáäÂô®ÔºàInterpreterÔºâÊ®°ÂºèÔºöÊèê‰æõÂ¶Ç‰ΩïÂÆö‰πâËØ≠Ë®ÄÁöÑÊñáÊ≥ïÔºå‰ª•ÂèäÂØπËØ≠Ë®ÄÂè•Â≠êÁöÑËß£ÈáäÊñπÊ≥ïÔºåÂç≥Ëß£ÈáäÂô®„ÄÇ UML Â∑•ÂÖ∑Ôºöprocesson ÊñπÊ≥ïÂíåÂ±ûÊÄßÁöÑËÆøÈóÆÊùÉÈôê - private # protected + public ~ package private ÂÖ≥Á≥ª Ê¶ÇËßà ÁªßÊâø | Ê≥õÂåñ„ÄêÁªßÊâøÂπ∂ÁâπÊÆä„Äë 12„ÄêÊ≥õÂåñÂÖ≥Á≥ª„ÄëÔºöÊòØ‰∏ÄÁßçÁªßÊâøÂÖ≥Á≥ªÔºåË°®Á§∫‰∏ÄËà¨‰∏éÁâπÊÆäÁöÑÂÖ≥Á≥ªÔºåÂÆÉÊåáÂÆö‰∫ÜÂ≠êÁ±ªÂ¶Ç‰ΩïÁâπÂåñÁà∂Á±ªÁöÑÊâÄÊúâÁâπÂæÅÂíåË°å‰∏∫„ÄÇ‰æãÂ¶ÇÔºöËÄÅËôéÊòØÂä®Áâ©ÁöÑ‰∏ÄÁßçÔºåÂç≥ÊúâËÄÅËôéÁöÑÁâπÊÄß‰πüÊúâÂä®Áâ©ÁöÑÂÖ±ÊÄß„ÄÇ„ÄêÁÆ≠Â§¥ÊåáÂêë„ÄëÔºöÂ∏¶‰∏âËßíÁÆ≠Â§¥ÁöÑÂÆûÁ∫øÔºåÁÆ≠Â§¥ÊåáÂêëÁà∂Á±ª ÂÆûÁé∞„ÄêÊé•Âè£ÂÖ®ÂÆûÁé∞„Äë 123„ÄêÂÆûÁé∞ÂÖ≥Á≥ª„ÄëÔºöÊòØ‰∏ÄÁßçÁ±ª‰∏éÊé•Âè£ÁöÑÂÖ≥Á≥ªÔºåË°®Á§∫Á±ªÊòØÊé•Âè£ÊâÄÊúâÁâπÂæÅÂíåË°å‰∏∫ÁöÑÂÆûÁé∞„ÄêÁÆ≠Â§¥ÊåáÂêë„ÄëÔºöÂ∏¶‰∏âËßíÁÆ≠Â§¥ÁöÑËôöÁ∫øÔºåÁÆ≠Â§¥ÊåáÂêëÊé•Âè£ ÂÖ≥ËÅî„ÄêÊàëÁü•‰Ω†‰∫õÂ±û„Äë 1234„ÄêÂÖ≥ËÅîÂÖ≥Á≥ª„ÄëÔºöÊòØ‰∏ÄÁßçÊã•ÊúâÁöÑÂÖ≥Á≥ª,ÂÆÉ‰Ωø‰∏Ä‰∏™Á±ªÁü•ÈÅìÂè¶‰∏Ä‰∏™Á±ªÁöÑÂ±ûÊÄßÂíåÊñπÊ≥ïÔºõÂ¶ÇÔºöËÄÅÂ∏à‰∏éÂ≠¶ÁîüÔºå‰∏àÂ§´‰∏éÂ¶ªÂ≠êÂÖ≥ËÅîÂèØ‰ª•ÊòØÂèåÂêëÁöÑÔºå‰πüÂèØ‰ª•ÊòØÂçïÂêëÁöÑ„ÄÇÂèåÂêëÁöÑÂÖ≥ËÅîÂèØ‰ª•Êúâ‰∏§‰∏™ÁÆ≠Â§¥ÊàñËÄÖÊ≤°ÊúâÁÆ≠Â§¥ÔºåÂçïÂêëÁöÑÂÖ≥ËÅîÊúâ‰∏Ä‰∏™ÁÆ≠Â§¥„ÄÇ„Äê‰ª£Á†Å‰ΩìÁé∞„ÄëÔºöÊàêÂëòÂèòÈáè„ÄêÁÆ≠Â§¥ÂèäÊåáÂêë„ÄëÔºöÂ∏¶ÊôÆÈÄöÁÆ≠Â§¥ÁöÑÂÆûÂøÉÁ∫øÔºåÊåáÂêëË¢´Êã•ÊúâËÄÖ ËÅöÂêà„Äê‰∏ÄÂõ¢ÂàÜÂá†‰∏™„Äë 1234„ÄêËÅöÂêàÂÖ≥Á≥ª„ÄëÔºöÊòØÊï¥‰Ωì‰∏éÈÉ®ÂàÜÁöÑÂÖ≥Á≥ªÔºå‰∏îÈÉ®ÂàÜÂèØ‰ª•Á¶ªÂºÄÊï¥‰ΩìËÄåÂçïÁã¨Â≠òÂú®„ÄÇÂ¶ÇËΩ¶ÂíåËΩÆËÉéÊòØÊï¥‰ΩìÂíåÈÉ®ÂàÜÁöÑÂÖ≥Á≥ª.ËÅöÂêàÂÖ≥Á≥ªÊòØÂÖ≥ËÅîÂÖ≥Á≥ªÁöÑ‰∏ÄÁßçÔºåÊòØÂº∫ÁöÑÂÖ≥ËÅîÂÖ≥Á≥ªÔºõÂÖ≥ËÅîÂíåËÅöÂêàÂú®ËØ≠Ê≥ï‰∏äÊó†Ê≥ïÂå∫ÂàÜÔºåÂøÖÈ°ªËÄÉÂØüÂÖ∑‰ΩìÁöÑÈÄªËæëÂÖ≥Á≥ª„ÄÇ„Äê‰ª£Á†Å‰ΩìÁé∞„ÄëÔºöÊàêÂëòÂèòÈáè„ÄêÁÆ≠Â§¥ÂèäÊåáÂêë„ÄëÔºöÂ∏¶Á©∫ÂøÉËè±ÂΩ¢ÁöÑÂÆûÂøÉÁ∫øÔºåËè±ÂΩ¢ÊåáÂêëÊï¥‰Ωì ÁªÑÂêà„Äê‰∏Ä‰∏™ÂàáÂá†‰∏™„Äë 123„ÄêÁªÑÂêàÂÖ≥Á≥ª„ÄëÔºöÊòØÊï¥‰Ωì‰∏éÈÉ®ÂàÜÁöÑÂÖ≥Á≥ªÔºå‰ΩÜÈÉ®ÂàÜ‰∏çËÉΩÁ¶ªÂºÄÊï¥‰ΩìËÄåÂçïÁã¨Â≠òÂú®„ÄÇÊ≤°ÊúâÂÖ¨Âè∏Â∞±‰∏çÂ≠òÂú®ÈÉ®Èó® ÁªÑÂêàÂÖ≥Á≥ªÊòØÂÖ≥ËÅîÂÖ≥Á≥ªÁöÑ‰∏ÄÁßçÔºåÊòØÊØîËÅöÂêàÂÖ≥Á≥ªËøòË¶ÅÂº∫ÁöÑÂÖ≥Á≥ªÔºåÂÆÉË¶ÅÊ±ÇÊôÆÈÄöÁöÑËÅöÂêàÂÖ≥Á≥ª‰∏≠‰ª£Ë°®Êï¥‰ΩìÁöÑÂØπË±°Ë¥üË¥£‰ª£Ë°®ÈÉ®ÂàÜÁöÑÂØπË±°ÁöÑÁîüÂëΩÂë®Êúü„Äê‰ª£Á†Å‰ΩìÁé∞„ÄëÔºöÊàêÂëòÂèòÈáè„ÄêÁÆ≠Â§¥ÂèäÊåáÂêë„ÄëÔºöÂ∏¶ÂÆûÂøÉËè±ÂΩ¢ÁöÑÂÆûÁ∫øÔºåËè±ÂΩ¢ÊåáÂêëÊï¥‰Ωì ‰æùËµñ„ÄêÊàëË¶ÅÁî®‰Ω†ÁöÑ„Äë 12345„Äê‰æùËµñÂÖ≥Á≥ª„ÄëÔºöÊòØ‰∏ÄÁßç‰ΩøÁî®ÁöÑÂÖ≥Á≥ª,ÊâÄ‰ª•Ë¶ÅÂ∞ΩÈáè‰∏ç‰ΩøÁî®ÂèåÂêëÁöÑ‰∫íÁõ∏‰æùËµñ„ÄÇ„Äê‰ª£Á†ÅË°®Áé∞„ÄëÔºöÂ±ÄÈÉ®ÂèòÈáè„ÄÅÊñπÊ≥ïÁöÑÂèÇÊï∞ÊàñËÄÖÂØπÈùôÊÄÅÊñπÊ≥ïÁöÑË∞ÉÁî®„ÄêÁÆ≠Â§¥ÂèäÊåáÂêë„ÄëÔºöÂ∏¶ÁÆ≠Â§¥ÁöÑËôöÁ∫øÔºåÊåáÂêëË¢´‰ΩøÁî®ËÄÖ ÂêÑÁßçÂÖ≥Á≥ªÁöÑÂº∫Âº±È°∫Â∫èÔºö Ê≥õÂåñ= ÂÆûÁé∞&gt; ÁªÑÂêà&gt; ËÅöÂêà&gt; ÂÖ≥ËÅî&gt; ‰æùËµñ ËÆæËÆ°Ê®°ÂºèÈáçÁÇπËØ¶Ëß£ MybatisÔºà 1„ÄÅBuilderÊ®°Âºè5„ÄÅÁªÑÂêàÊ®°Âºè9„ÄÅËø≠‰ª£Âô®Ê®°Âºè2„ÄÅÂ∑•ÂéÇÊ®°Âºè3„ÄÅÂçï‰æãÊ®°Âºè4„ÄÅ‰ª£ÁêÜ6„ÄÅÊ®°ÊùøÊñπÊ≥ïÊ®°Âºè7„ÄÅÈÄÇÈÖçÂô®Ê®°Âºè8„ÄÅË£ÖÈ•∞ËÄÖÊ®°ÂºèÔºâ SpringÔºà1.ÁÆÄÂçïÂ∑•ÂéÇ2.Â∑•ÂéÇÊñπÊ≥ï3.Âçï‰æãÊ®°Âºè4.ÈÄÇÈÖçÂô®Ê®°Âºè5.Ë£ÖÈ•∞Âô®Ê®°Âºè6.‰ª£ÁêÜÊ®°Âºè7.ËßÇÂØüËÄÖÊ®°Âºè8.Á≠ñÁï•Ê®°Âºè9.Ê®°ÁâàÊñπÊ≥ïÊ®°ÂºèÔºâ ÂàõÂª∫ÂûãÊ®°Âºè „ÄäÂçï‰æãÊ®°ÂºèSingleton„Äã ÁâπÁÇπÔºö Âçï‰æãÁ±ªÂè™Êúâ‰∏Ä‰∏™ÂÆû‰æãÂØπË±°Ôºõ ËØ•Âçï‰æãÂØπË±°ÂøÖÈ°ªÁî±Âçï‰æãÁ±ªËá™Ë°åÂàõÂª∫Ôºõ Âçï‰æãÁ±ªÂØπÂ§ñÊèê‰æõ‰∏Ä‰∏™ËÆøÈóÆËØ•Âçï‰æãÁöÑÂÖ®Â±ÄËÆøÈóÆÁÇπ„ÄÇ ‰ºòÁÇπÔºö Âçï‰æãÊ®°ÂºèÂèØ‰ª•‰øùËØÅÂÜÖÂ≠òÈáåÂè™Êúâ‰∏Ä‰∏™ÂÆû‰æãÔºåÂáèÂ∞ë‰∫ÜÂÜÖÂ≠òÁöÑÂºÄÈîÄ„ÄÇ ÂèØ‰ª•ÈÅøÂÖçÂØπËµÑÊ∫êÁöÑÂ§öÈáçÂç†Áî®„ÄÇ Âçï‰æãÊ®°ÂºèËÆæÁΩÆÂÖ®Â±ÄËÆøÈóÆÁÇπÔºåÂèØ‰ª•‰ºòÂåñÂíåÂÖ±‰∫´ËµÑÊ∫êÁöÑËÆøÈóÆ„ÄÇ Áº∫ÁÇπÔºö Âçï‰æãÊ®°Âºè‰∏ÄËà¨Ê≤°ÊúâÊé•Âè£ÔºåÊâ©Â±ïÂõ∞Èöæ„ÄÇÂ¶ÇÊûúË¶ÅÊâ©Â±ïÔºåÂàôÈô§‰∫Ü‰øÆÊîπÂéüÊù•ÁöÑ‰ª£Á†ÅÔºåÊ≤°ÊúâÁ¨¨‰∫åÁßçÈÄîÂæÑÔºåËøùËÉåÂºÄÈó≠ÂéüÂàô„ÄÇ Âú®Âπ∂ÂèëÊµãËØï‰∏≠ÔºåÂçï‰æãÊ®°Âºè‰∏çÂà©‰∫é‰ª£Á†ÅË∞ÉËØï„ÄÇÂú®Ë∞ÉËØïËøáÁ®ã‰∏≠ÔºåÂ¶ÇÊûúÂçï‰æã‰∏≠ÁöÑ‰ª£Á†ÅÊ≤°ÊúâÊâßË°åÂÆåÔºå‰πü‰∏çËÉΩÊ®°ÊãüÁîüÊàê‰∏Ä‰∏™Êñ∞ÁöÑÂØπË±°„ÄÇ Âçï‰æãÊ®°ÂºèÁöÑÂäüËÉΩ‰ª£Á†ÅÈÄöÂ∏∏ÂÜôÂú®‰∏Ä‰∏™Á±ª‰∏≠ÔºåÂ¶ÇÊûúÂäüËÉΩËÆæËÆ°‰∏çÂêàÁêÜÔºåÂàôÂæàÂÆπÊòìËøùËÉåÂçï‰∏ÄËÅåË¥£ÂéüÂàô„ÄÇ Âçï‰æãÊ®°ÂºèÁöÑÂ∫îÁî®Âú∫ÊôØÔºö ÈúÄË¶ÅÈ¢ëÁπÅÂàõÂª∫ÁöÑ‰∏Ä‰∫õÁ±ªÔºå‰ΩøÁî®Âçï‰æãÂèØ‰ª•Èôç‰ΩéÁ≥ªÁªüÁöÑÂÜÖÂ≠òÂéãÂäõÔºåÂáèÂ∞ë GC„ÄÇ ÊüêÁ±ªÂè™Ë¶ÅÊ±ÇÁîüÊàê‰∏Ä‰∏™ÂØπË±°ÁöÑÊó∂ÂÄôÔºåÂ¶Ç‰∏Ä‰∏™Áè≠‰∏≠ÁöÑÁè≠Èïø„ÄÅÊØè‰∏™‰∫∫ÁöÑË∫´‰ªΩËØÅÂè∑Á≠â„ÄÇ Êüê‰∫õÁ±ªÂàõÂª∫ÂÆû‰æãÊó∂Âç†Áî®ËµÑÊ∫êËæÉÂ§öÔºåÊàñÂÆû‰æãÂåñËÄóÊó∂ËæÉÈïøÔºå‰∏îÁªèÂ∏∏‰ΩøÁî®„ÄÇ ÊüêÁ±ªÈúÄË¶ÅÈ¢ëÁπÅÂÆû‰æãÂåñÔºåËÄåÂàõÂª∫ÁöÑÂØπË±°ÂèàÈ¢ëÁπÅË¢´ÈîÄÊØÅÁöÑÊó∂ÂÄôÔºåÂ¶ÇÂ§öÁ∫øÁ®ãÁöÑÁ∫øÁ®ãÊ±†„ÄÅÁΩëÁªúËøûÊé•Ê±†Á≠â„ÄÇ È¢ëÁπÅËÆøÈóÆÊï∞ÊçÆÂ∫ìÊàñÊñá‰ª∂ÁöÑÂØπË±°„ÄÇ ÂØπ‰∫é‰∏Ä‰∫õÊéßÂà∂Á°¨‰ª∂Á∫ßÂà´ÁöÑÊìç‰ΩúÔºåÊàñËÄÖ‰ªéÁ≥ªÁªü‰∏äÊù•ËÆ≤Â∫îÂΩìÊòØÂçï‰∏ÄÊéßÂà∂ÈÄªËæëÁöÑÊìç‰ΩúÔºåÂ¶ÇÊûúÊúâÂ§ö‰∏™ÂÆû‰æãÔºåÂàôÁ≥ªÁªü‰ºöÂÆåÂÖ®‰π±Â•ó„ÄÇ ÂΩìÂØπË±°ÈúÄË¶ÅË¢´ÂÖ±‰∫´ÁöÑÂú∫Âêà„ÄÇÁî±‰∫éÂçï‰æãÊ®°ÂºèÂè™ÂÖÅËÆ∏ÂàõÂª∫‰∏Ä‰∏™ÂØπË±°ÔºåÂÖ±‰∫´ËØ•ÂØπË±°ÂèØ‰ª•ËäÇÁúÅÂÜÖÂ≠òÔºåÂπ∂Âä†Âø´ÂØπË±°ËÆøÈóÆÈÄüÂ∫¶„ÄÇÂ¶Ç Web ‰∏≠ÁöÑÈÖçÁΩÆÂØπË±°„ÄÅÊï∞ÊçÆÂ∫ìÁöÑËøûÊé•Ê±†Á≠â„ÄÇ ÂàÜÁ±ªJAVAÂÆûÁé∞Ôºö ÊáíÊ±âÂºèÔºöÁ±ªÂä†ËΩΩÊó∂Ê≤°ÊúâÁîüÊàêÂçï‰æãÔºåÂè™ÊúâÂΩìÁ¨¨‰∏ÄÊ¨°Ë∞ÉÁî® getlnstance ÊñπÊ≥ïÊó∂ÊâçÂéªÂàõÂª∫Ëøô‰∏™Âçï‰æã ‚Äã Â¶ÇÊûúÁºñÂÜôÁöÑÊòØÂ§öÁ∫øÁ®ãÁ®ãÂ∫èÔºåÂàô‰∏çË¶ÅÂà†Èô§‰∏ä‰æã‰ª£Á†Å‰∏≠ÁöÑÂÖ≥ÈîÆÂ≠ó volatile Âíå synchronizedÔºåÂê¶ÂàôÂ∞ÜÂ≠òÂú®Á∫øÁ®ãÈùûÂÆâÂÖ®ÁöÑÈóÆÈ¢ò„ÄÇÂ¶ÇÊûú‰∏çÂà†Èô§Ëøô‰∏§‰∏™ÂÖ≥ÈîÆÂ≠óÂ∞±ËÉΩ‰øùËØÅÁ∫øÁ®ãÂÆâÂÖ®Ôºå‰ΩÜÊòØÊØèÊ¨°ËÆøÈóÆÊó∂ÈÉΩË¶ÅÂêåÊ≠•Ôºå‰ºöÂΩ±ÂìçÊÄßËÉΩÔºå‰∏îÊ∂àËÄóÊõ¥Â§öÁöÑËµÑÊ∫êÔºåËøôÊòØÊáíÊ±âÂºèÂçï‰æãÁöÑÁº∫ÁÇπ„ÄÇ 123456789101112public class LazySingleton { private static volatile LazySingleton instance = null; //‰øùËØÅ instance Âú®ÊâÄÊúâÁ∫øÁ®ã‰∏≠ÂêåÊ≠• private LazySingleton() { } //private ÈÅøÂÖçÁ±ªÂú®Â§ñÈÉ®Ë¢´ÂÆû‰æãÂåñ public static synchronized LazySingleton getInstance() { //getInstance ÊñπÊ≥ïÂâçÂä†ÂêåÊ≠• if (instance == null) { instance = new LazySingleton(); } return instance; }} È•øÊ±âÂºèÔºöÁ±ª‰∏ÄÊó¶Âä†ËΩΩÂ∞±ÂàõÂª∫‰∏Ä‰∏™Âçï‰æãÔºå‰øùËØÅÂú®Ë∞ÉÁî® getInstance ÊñπÊ≥ï‰πãÂâçÂçï‰æãÂ∑≤ÁªèÂ≠òÂú®‰∫Ü„ÄÇ 12345678public class HungrySingleton { private static final HungrySingleton instance = new HungrySingleton(); private HungrySingleton() { } public static HungrySingleton getInstance() { return instance; }} ‚Äã È•øÊ±âÂºèÂçï‰æãÂú®Á±ªÂàõÂª∫ÁöÑÂêåÊó∂Â∞±Â∑≤ÁªèÂàõÂª∫Â•Ω‰∏Ä‰∏™ÈùôÊÄÅÁöÑÂØπË±°‰æõÁ≥ªÁªü‰ΩøÁî®Ôºå‰ª•Âêé‰∏çÂÜçÊîπÂèòÔºåÊâÄ‰ª•ÊòØÁ∫øÁ®ãÂÆâÂÖ®ÁöÑÔºåÂèØ‰ª•Áõ¥Êé•Áî®‰∫éÂ§öÁ∫øÁ®ãËÄå‰∏ç‰ºöÂá∫Áé∞ÈóÆÈ¢ò„ÄÇ „ÄäÂéüÂûãÊ®°ÂºèPrototype„Äã ÁâπÁÇπÔºö Áî®‰∏Ä‰∏™Â∑≤ÁªèÂàõÂª∫ÁöÑÂÆû‰æã‰Ωú‰∏∫ÂéüÂûãÔºåÈÄöËøáÂ§çÂà∂ËØ•ÂéüÂûãÂØπË±°Êù•ÂàõÂª∫‰∏Ä‰∏™ÂíåÂéüÂûãÁõ∏ÂêåÊàñÁõ∏‰ººÁöÑÊñ∞ÂØπË±°„ÄÇ ÂéüÂûãÂÆû‰æãÊåáÂÆö‰∫ÜË¶ÅÂàõÂª∫ÁöÑÂØπË±°ÁöÑÁßçÁ±ª„ÄÇÁî®ËøôÁßçÊñπÂºèÂàõÂª∫ÂØπË±°ÈùûÂ∏∏È´òÊïàÔºåÊ†πÊú¨Êó†È°ªÁü•ÈÅìÂØπË±°ÂàõÂª∫ÁöÑÁªÜËäÇ„ÄÇ ‰ºòÁÇπÔºö JavaËá™Â∏¶ÁöÑÂéüÂûãÊ®°ÂºèÂü∫‰∫éÂÜÖÂ≠ò‰∫åËøõÂà∂ÊµÅÁöÑÂ§çÂà∂ÔºåÂú®ÊÄßËÉΩ‰∏äÊØîÁõ¥Êé• new ‰∏Ä‰∏™ÂØπË±°Êõ¥Âä†‰ºòËâØ„ÄÇ Ê∑±ÂÖãÈöÜÊñπÂºè‰øùÂ≠òÂØπË±°ÁöÑÁä∂ÊÄÅÔºå‰ΩøÁî®ÂéüÂûãÊ®°ÂºèÂ∞ÜÂØπË±°Â§çÂà∂‰∏Ä‰ªΩÔºåÂπ∂Â∞ÜÂÖ∂Áä∂ÊÄÅ‰øùÂ≠òËµ∑Êù•ÔºåÁÆÄÂåñÂàõÂª∫ÂØπË±°ËøáÁ®ãÔºå‰ª•‰æøÂú®ÈúÄË¶ÅÁöÑÊó∂ÂÄô‰ΩøÁî®Ôºà‰æãÂ¶ÇÊÅ¢Â§çÂà∞ÂéÜÂè≤Êüê‰∏ÄÁä∂ÊÄÅÔºâÔºåÂèØËæÖÂä©ÂÆûÁé∞Êí§ÈîÄÊìç‰Ωú„ÄÇ Áº∫ÁÇπÔºö ÈúÄË¶Å‰∏∫ÊØè‰∏Ä‰∏™Á±ªÈÉΩÈÖçÁΩÆ‰∏Ä‰∏™ clone ÊñπÊ≥ï clone ÊñπÊ≥ï‰Ωç‰∫éÁ±ªÁöÑÂÜÖÈÉ®ÔºåÂΩìÂØπÂ∑≤ÊúâÁ±ªËøõË°åÊîπÈÄ†ÁöÑÊó∂ÂÄôÔºåÈúÄË¶Å‰øÆÊîπ‰ª£Á†ÅÔºåËøùËÉå‰∫ÜÂºÄÈó≠ÂéüÂàô„ÄÇ ÂΩìÂÆûÁé∞Ê∑±ÂÖãÈöÜÊó∂ÔºåÈúÄË¶ÅÁºñÂÜôËæÉ‰∏∫Â§çÊùÇÁöÑ‰ª£Á†ÅÔºåËÄå‰∏îÂΩìÂØπË±°‰πãÈó¥Â≠òÂú®Â§öÈáçÂµåÂ•óÂºïÁî®Êó∂Ôºå‰∏∫‰∫ÜÂÆûÁé∞Ê∑±ÂÖãÈöÜÔºåÊØè‰∏ÄÂ±ÇÂØπË±°ÂØπÂ∫îÁöÑÁ±ªÈÉΩÂøÖÈ°ªÊîØÊåÅÊ∑±ÂÖãÈöÜÔºåÂÆûÁé∞Ëµ∑Êù•‰ºöÊØîËæÉÈ∫ªÁÉ¶„ÄÇÂõ†Ê≠§ÔºåÊ∑±ÂÖãÈöÜ„ÄÅÊµÖÂÖãÈöÜÈúÄË¶ÅËøêÁî®ÂæóÂΩì„ÄÇ ËßíËâ≤Ôºö ÊäΩË±°ÂéüÂûãÁ±ªÔºöËßÑÂÆö‰∫ÜÂÖ∑‰ΩìÂéüÂûãÂØπË±°ÂøÖÈ°ªÂÆûÁé∞ÁöÑÊé•Âè£„ÄÇ ÂÖ∑‰ΩìÂéüÂûãÁ±ªÔºöÂÆûÁé∞ÊäΩË±°ÂéüÂûãÁ±ªÁöÑ clone() ÊñπÊ≥ïÔºåÂÆÉÊòØÂèØË¢´Â§çÂà∂ÁöÑÂØπË±°„ÄÇ ËÆøÈóÆÁ±ªÔºö‰ΩøÁî®ÂÖ∑‰ΩìÂéüÂûãÁ±ª‰∏≠ÁöÑ clone() ÊñπÊ≥ïÊù•Â§çÂà∂Êñ∞ÁöÑÂØπË±°„ÄÇ ÊµÖÂÖãÈöÜÔºöÂàõÂª∫‰∏Ä‰∏™Êñ∞ÂØπË±°ÔºåÊñ∞ÂØπË±°ÁöÑÂ±ûÊÄßÂíåÂéüÊù•ÂØπË±°ÂÆåÂÖ®Áõ∏ÂêåÔºåÂØπ‰∫éÈùûÂü∫Êú¨Á±ªÂûãÂ±ûÊÄßÔºå‰ªçÊåáÂêëÂéüÊúâÂ±ûÊÄßÊâÄÊåáÂêëÁöÑÂØπË±°ÁöÑÂÜÖÂ≠òÂú∞ÂùÄ„ÄÇ Ê∑±ÂÖãÈöÜÔºöÂàõÂª∫‰∏Ä‰∏™Êñ∞ÂØπË±°ÔºåÂ±ûÊÄß‰∏≠ÂºïÁî®ÁöÑÂÖ∂‰ªñÂØπË±°‰πü‰ºöË¢´ÂÖãÈöÜÔºå‰∏çÂÜçÊåáÂêëÂéüÊúâÂØπË±°Âú∞ÂùÄ„ÄÇ ÂéüÂûãÊ®°ÂºèÁöÑÂ∫îÁî®Âú∫ÊôØÔºö ÂØπË±°‰πãÈó¥Áõ∏ÂêåÊàñÁõ∏‰ººÔºåÂç≥Âè™ÊòØ‰∏™Âà´ÁöÑÂá†‰∏™Â±ûÊÄß‰∏çÂêåÁöÑÊó∂ÂÄô„ÄÇ ÂàõÂª∫ÂØπË±°ÊàêÊú¨ËæÉÂ§ßÔºå‰æãÂ¶ÇÂàùÂßãÂåñÊó∂Èó¥ÈïøÔºåÂç†Áî®CPUÂ§™Â§öÔºåÊàñËÄÖÂç†Áî®ÁΩëÁªúËµÑÊ∫êÂ§™Â§öÁ≠âÔºåÈúÄË¶Å‰ºòÂåñËµÑÊ∫ê„ÄÇ ÂàõÂª∫‰∏Ä‰∏™ÂØπË±°ÈúÄË¶ÅÁπÅÁêêÁöÑÊï∞ÊçÆÂáÜÂ§áÊàñËÆøÈóÆÊùÉÈôêÁ≠âÔºåÈúÄË¶ÅÊèêÈ´òÊÄßËÉΩÊàñËÄÖÊèêÈ´òÂÆâÂÖ®ÊÄß„ÄÇ Á≥ªÁªü‰∏≠Â§ßÈáè‰ΩøÁî®ËØ•Á±ªÂØπË±°Ôºå‰∏îÂêÑ‰∏™Ë∞ÉÁî®ËÄÖÈÉΩÈúÄË¶ÅÁªôÂÆÉÁöÑÂ±ûÊÄßÈáçÊñ∞ËµãÂÄº„ÄÇ JAVAÂÆûÁé∞Ôºö ÊµÖÂÖãÈöÜÔºöÂàõÂª∫‰∏Ä‰∏™Êñ∞ÂØπË±°ÔºåÊñ∞ÂØπË±°ÁöÑÂ±ûÊÄßÂíåÂéüÊù•ÂØπË±°ÂÆåÂÖ®Áõ∏ÂêåÔºåÂØπ‰∫éÈùûÂü∫Êú¨Á±ªÂûãÂ±ûÊÄßÔºå‰ªçÊåáÂêëÂéüÊúâÂ±ûÊÄßÊâÄÊåáÂêëÁöÑÂØπË±°ÁöÑÂÜÖÂ≠òÂú∞ÂùÄ„ÄÇ Ê∑±ÂÖãÈöÜÔºöÂàõÂª∫‰∏Ä‰∏™Êñ∞ÂØπË±°ÔºåÂ±ûÊÄß‰∏≠ÂºïÁî®ÁöÑÂÖ∂‰ªñÂØπË±°‰πü‰ºöË¢´ÂÖãÈöÜÔºå‰∏çÂÜçÊåáÂêëÂéüÊúâÂØπË±°Âú∞ÂùÄ„ÄÇ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364import java.util.*;interface Shape extends Cloneable { public Object clone(); //Êã∑Ë¥ù public void countArea(); //ËÆ°ÁÆóÈù¢ÁßØ}class Circle implements Shape { public Object clone() { Circle w = null; try { w = (Circle) super.clone(); } catch (CloneNotSupportedException e) { System.out.println(&quot;Êã∑Ë¥ùÂúÜÂ§±Ë¥•!&quot;); } return w; } public void countArea() { int r = 0; System.out.print(&quot;ËøôÊòØ‰∏Ä‰∏™ÂúÜÔºåËØ∑ËæìÂÖ•ÂúÜÁöÑÂçäÂæÑÔºö&quot;); Scanner input = new Scanner(System.in); r = input.nextInt(); System.out.println(&quot;ËØ•ÂúÜÁöÑÈù¢ÁßØ=&quot; + 3.1415 * r * r + &quot;\\n&quot;); }}class Square implements Shape { public Object clone() { Square b = null; try { b = (Square) super.clone(); } catch (CloneNotSupportedException e) { System.out.println(&quot;Êã∑Ë¥ùÊ≠£ÊñπÂΩ¢Â§±Ë¥•!&quot;); } return b; } public void countArea() { int a = 0; System.out.print(&quot;ËøôÊòØ‰∏Ä‰∏™Ê≠£ÊñπÂΩ¢ÔºåËØ∑ËæìÂÖ•ÂÆÉÁöÑËæπÈïøÔºö&quot;); Scanner input = new Scanner(System.in); a = input.nextInt(); System.out.println(&quot;ËØ•Ê≠£ÊñπÂΩ¢ÁöÑÈù¢ÁßØ=&quot; + a * a + &quot;\\n&quot;); }}class ProtoTypeManager { private HashMap&lt;String, Shape&gt; ht = new HashMap&lt;String, Shape&gt;(); public ProtoTypeManager() { ht.put(&quot;Circle&quot;, new Circle()); ht.put(&quot;Square&quot;, new Square()); } public void addshape(String key, Shape obj) { ht.put(key, obj); } public Shape getShape(String key) { Shape temp = ht.get(key); return (Shape) temp.clone(); }}public class ProtoTypeShape { public static void main(String[] args) { ProtoTypeManager pm = new ProtoTypeManager(); Shape obj1 = (Circle) pm.getShape(&quot;Circle&quot;); obj1.countArea(); Shape obj2 = (Shape) pm.getShape(&quot;Square&quot;); obj2.countArea(); }} „ÄäÁÆÄÂçïÂ∑•ÂéÇÊ®°ÂºèSimple Factory Pattern„Äã ÁâπÁÇπÔºö ÂÆö‰πâ‰∏Ä‰∏™ÂàõÂª∫‰∫ßÂìÅÂØπË±°ÁöÑÂ∑•ÂéÇÊé•Âè£ÔºåÂ∞Ü‰∫ßÂìÅÂØπË±°ÁöÑÂÆûÈôÖÂàõÂª∫Â∑•‰ΩúÊé®ËøüÂà∞ÂÖ∑‰ΩìÂ≠êÂ∑•ÂéÇÁ±ªÂΩì‰∏≠„ÄÇËøôÊª°Ë∂≥ÂàõÂª∫ÂûãÊ®°Âºè‰∏≠ÊâÄË¶ÅÊ±ÇÁöÑ‚ÄúÂàõÂª∫‰∏é‰ΩøÁî®Áõ∏ÂàÜÁ¶ª‚ÄùÁöÑÁâπÁÇπ ÈúÄË¶ÅÁîüÊàêÂ§çÊùÇÂØπË±°ÁöÑÂú∞ÊñπÔºåÈÉΩÂèØ‰ª•Â∞ùËØïËÄÉËôë‰ΩøÁî®Â∑•ÂéÇÊ®°Âºè„ÄÇÂ§çÊùÇÂØπË±°ÊåáÁöÑÊòØÁ±ªÁöÑÊûÑÈÄ†ÂáΩÊï∞ÂèÇÊï∞ËøáÂ§öÁ≠âÂØπÁ±ªÁöÑÊûÑÈÄ†ÊúâÂΩ±ÂìçÁöÑÊÉÖÂÜµÔºåÂõ†‰∏∫Á±ªÁöÑÊûÑÈÄ†Ëøá‰∫éÂ§çÊùÇÔºåÂ¶ÇÊûúÁõ¥Êé•Âú®ÂÖ∂‰ªñ‰∏öÂä°Á±ªÂÜÖ‰ΩøÁî®ÔºåÂàô‰∏§ËÄÖÁöÑËÄ¶ÂêàËøáÈáçÔºåÂêéÁª≠‰∏öÂä°Êõ¥ÊîπÔºåÂ∞±ÈúÄË¶ÅÂú®‰ªª‰ΩïÂºïÁî®ËØ•Á±ªÁöÑÊ∫ê‰ª£Á†ÅÂÜÖËøõË°åÊõ¥ÊîπÔºåÂÖâÊòØÊü•ÊâæÊâÄÊúâ‰æùËµñÂ∞±ÂæàÊ∂àËÄóÊó∂Èó¥‰∫ÜÔºåÊõ¥Âà´ËØ¥Ë¶Å‰∏Ä‰∏™‰∏Ä‰∏™‰øÆÊîπ‰∫Ü„ÄÇ ‰ºòÁÇπÔºö Â∑•ÂéÇÁ±ªÂåÖÂê´ÂøÖË¶ÅÁöÑÈÄªËæëÂà§Êñ≠ÔºåÂèØ‰ª•ÂÜ≥ÂÆöÂú®‰ªÄ‰πàÊó∂ÂÄôÂàõÂª∫Âì™‰∏Ä‰∏™‰∫ßÂìÅÁöÑÂÆû‰æã„ÄÇÂÆ¢Êà∑Á´ØÂèØ‰ª•ÂÖçÈô§Áõ¥Êé•ÂàõÂª∫‰∫ßÂìÅÂØπË±°ÁöÑËÅåË¥£ÔºåÂæàÊñπ‰æøÁöÑÂàõÂª∫Âá∫Áõ∏Â∫îÁöÑ‰∫ßÂìÅ„ÄÇÂ∑•ÂéÇÂíå‰∫ßÂìÅÁöÑËÅåË¥£Âå∫ÂàÜÊòéÁ°Æ„ÄÇ ÂÆ¢Êà∑Á´ØÊó†ÈúÄÁü•ÈÅìÊâÄÂàõÂª∫ÂÖ∑‰Ωì‰∫ßÂìÅÁöÑÁ±ªÂêçÔºåÂè™ÈúÄÁü•ÈÅìÂèÇÊï∞Âç≥ÂèØ„ÄÇ ‰πüÂèØ‰ª•ÂºïÂÖ•ÈÖçÁΩÆÊñá‰ª∂ÔºåÂú®‰∏ç‰øÆÊîπÂÆ¢Êà∑Á´Ø‰ª£Á†ÅÁöÑÊÉÖÂÜµ‰∏ãÊõ¥Êç¢ÂíåÊ∑ªÂä†Êñ∞ÁöÑÂÖ∑‰Ωì‰∫ßÂìÅÁ±ª„ÄÇ Áº∫ÁÇπÔºö ÁÆÄÂçïÂ∑•ÂéÇÊ®°ÂºèÁöÑÂ∑•ÂéÇÁ±ªÂçï‰∏ÄÔºåË¥üË¥£ÊâÄÊúâ‰∫ßÂìÅÁöÑÂàõÂª∫ÔºåËÅåË¥£ËøáÈáçÔºå‰∏ÄÊó¶ÂºÇÂ∏∏ÔºåÊï¥‰∏™Á≥ªÁªüÂ∞ÜÂèóÂΩ±Âìç„ÄÇ‰∏îÂ∑•ÂéÇÁ±ª‰ª£Á†Å‰ºöÈùûÂ∏∏ËáÉËÇøÔºåËøùËÉåÈ´òËÅöÂêàÂéüÂàô„ÄÇ ‰ΩøÁî®ÁÆÄÂçïÂ∑•ÂéÇÊ®°Âºè‰ºöÂ¢ûÂä†Á≥ªÁªü‰∏≠Á±ªÁöÑ‰∏™Êï∞ÔºàÂºïÂÖ•Êñ∞ÁöÑÂ∑•ÂéÇÁ±ªÔºâÔºåÂ¢ûÂä†Á≥ªÁªüÁöÑÂ§çÊùÇÂ∫¶ÂíåÁêÜËß£ÈöæÂ∫¶ Á≥ªÁªüÊâ©Â±ïÂõ∞ÈöæÔºå‰∏ÄÊó¶Â¢ûÂä†Êñ∞‰∫ßÂìÅ‰∏çÂæó‰∏ç‰øÆÊîπÂ∑•ÂéÇÈÄªËæëÔºåÂú®‰∫ßÂìÅÁ±ªÂûãËæÉÂ§öÊó∂ÔºåÂèØËÉΩÈÄ†ÊàêÈÄªËæëËøá‰∫éÂ§çÊùÇ ÁÆÄÂçïÂ∑•ÂéÇÊ®°Âºè‰ΩøÁî®‰∫Ü static Â∑•ÂéÇÊñπÊ≥ïÔºåÈÄ†ÊàêÂ∑•ÂéÇËßíËâ≤Êó†Ê≥ïÂΩ¢ÊàêÂü∫‰∫éÁªßÊâøÁöÑÁ≠âÁ∫ßÁªìÊûÑ„ÄÇ ËßíËâ≤Ôºö ÁÆÄÂçïÂ∑•ÂéÇÔºàSimpleFactoryÔºâÔºöÊòØÁÆÄÂçïÂ∑•ÂéÇÊ®°ÂºèÁöÑÊ†∏ÂøÉÔºåË¥üË¥£ÂÆûÁé∞ÂàõÂª∫ÊâÄÊúâÂÆû‰æãÁöÑÂÜÖÈÉ®ÈÄªËæë„ÄÇÂ∑•ÂéÇÁ±ªÁöÑÂàõÂª∫‰∫ßÂìÅÁ±ªÁöÑÊñπÊ≥ïÂèØ‰ª•Ë¢´Â§ñÁïåÁõ¥Êé•Ë∞ÉÁî®ÔºåÂàõÂª∫ÊâÄÈúÄÁöÑ‰∫ßÂìÅÂØπË±°„ÄÇ ÊäΩË±°‰∫ßÂìÅÔºàProductÔºâÔºöÊòØÁÆÄÂçïÂ∑•ÂéÇÂàõÂª∫ÁöÑÊâÄÊúâÂØπË±°ÁöÑÁà∂Á±ªÔºåË¥üË¥£ÊèèËø∞ÊâÄÊúâÂÆû‰æãÂÖ±ÊúâÁöÑÂÖ¨ÂÖ±Êé•Âè£„ÄÇ ÂÖ∑‰Ωì‰∫ßÂìÅÔºàConcreteProductÔºâÔºöÊòØÁÆÄÂçïÂ∑•ÂéÇÊ®°ÂºèÁöÑÂàõÂª∫ÁõÆÊ†á„ÄÇ ÁÆÄÂçïÂ∑•ÂéÇÊ®°ÂºèÁöÑÂ∫îÁî®Âú∫ÊôØÔºö ÁîüÊàêÂ§çÊùÇÂØπË±° JAVAÂÆûÁé∞ 123456789101112131415161718192021222324252627282930313233343536public class Client { public static void main(String[] args) { } //ÊäΩË±°‰∫ßÂìÅ public interface Product { void show(); } //ÂÖ∑‰Ωì‰∫ßÂìÅÔºöProductA static class ConcreteProduct1 implements Product { public void show() { System.out.println(&quot;ÂÖ∑‰Ωì‰∫ßÂìÅ1ÊòæÁ§∫...&quot;); } } //ÂÖ∑‰Ωì‰∫ßÂìÅÔºöProductB static class ConcreteProduct2 implements Product { public void show() { System.out.println(&quot;ÂÖ∑‰Ωì‰∫ßÂìÅ2ÊòæÁ§∫...&quot;); } } final class Const { static final int PRODUCT_A = 0; static final int PRODUCT_B = 1; static final int PRODUCT_C = 2; } static class SimpleFactory { public static Product makeProduct(int kind) { switch (kind) { case Const.PRODUCT_A: return new ConcreteProduct1(); case Const.PRODUCT_B: return new ConcreteProduct2(); } return null; } }} „ÄäÂ∑•ÂéÇÊ®°ÂºèFactory Pattern„Äã ÁâπÁÇπÔºö ÂèØ‰ª•‰ΩøÁ≥ªÁªüÂú®‰∏ç‰øÆÊîπÂéüÊù•‰ª£Á†ÅÁöÑÊÉÖÂÜµ‰∏ãÂºïËøõÊñ∞ÁöÑ‰∫ßÂìÅÔºåÂç≥Êª°Ë∂≥ÂºÄÈó≠ÂéüÂàô„ÄÇ ‰ºòÁÇπÔºö Áî®Êà∑Âè™ÈúÄË¶ÅÁü•ÈÅìÂÖ∑‰ΩìÂ∑•ÂéÇÁöÑÂêçÁß∞Â∞±ÂèØÂæóÂà∞ÊâÄË¶ÅÁöÑ‰∫ßÂìÅÔºåÊó†È°ªÁü•ÈÅì‰∫ßÂìÅÁöÑÂÖ∑‰ΩìÂàõÂª∫ËøáÁ®ã„ÄÇ ÁÅµÊ¥ªÊÄßÂ¢ûÂº∫ÔºåÂØπ‰∫éÊñ∞‰∫ßÂìÅÁöÑÂàõÂª∫ÔºåÂè™ÈúÄÂ§öÂÜô‰∏Ä‰∏™Áõ∏Â∫îÁöÑÂ∑•ÂéÇÁ±ª„ÄÇ ÂÖ∏ÂûãÁöÑËß£ËÄ¶Ê°ÜÊû∂„ÄÇÈ´òÂ±ÇÊ®°ÂùóÂè™ÈúÄË¶ÅÁü•ÈÅì‰∫ßÂìÅÁöÑÊäΩË±°Á±ªÔºåÊó†È°ªÂÖ≥ÂøÉÂÖ∂‰ªñÂÆûÁé∞Á±ªÔºåÊª°Ë∂≥Ëø™Á±≥ÁâπÊ≥ïÂàô„ÄÅ‰æùËµñÂÄíÁΩÆÂéüÂàôÂíåÈáåÊ∞èÊõøÊç¢ÂéüÂàô„ÄÇ Áº∫ÁÇπÔºö Á±ªÁöÑ‰∏™Êï∞ÂÆπÊòìËøáÂ§öÔºåÂ¢ûÂä†Â§çÊùÇÂ∫¶ Â¢ûÂä†‰∫ÜÁ≥ªÁªüÁöÑÊäΩË±°ÊÄßÂíåÁêÜËß£ÈöæÂ∫¶ ÊäΩË±°‰∫ßÂìÅÂè™ËÉΩÁîü‰∫ß‰∏ÄÁßç‰∫ßÂìÅÔºåÊ≠§ÂºäÁ´ØÂèØ‰ΩøÁî®ÊäΩË±°Â∑•ÂéÇÊ®°ÂºèËß£ÂÜ≥„ÄÇ ËßíËâ≤Ôºö ÊäΩË±°Â∑•ÂéÇÔºàAbstract FactoryÔºâÔºöÊèê‰æõ‰∫ÜÂàõÂª∫‰∫ßÂìÅÁöÑÊé•Âè£ÔºåË∞ÉÁî®ËÄÖÈÄöËøáÂÆÉËÆøÈóÆÂÖ∑‰ΩìÂ∑•ÂéÇÁöÑÂ∑•ÂéÇÊñπÊ≥ï newProduct() Êù•ÂàõÂª∫‰∫ßÂìÅ„ÄÇ ÂÖ∑‰ΩìÂ∑•ÂéÇÔºàConcreteFactoryÔºâÔºö‰∏ªË¶ÅÊòØÂÆûÁé∞ÊäΩË±°Â∑•ÂéÇ‰∏≠ÁöÑÊäΩË±°ÊñπÊ≥ïÔºåÂÆåÊàêÂÖ∑‰Ωì‰∫ßÂìÅÁöÑÂàõÂª∫„ÄÇ ÊäΩË±°‰∫ßÂìÅÔºàProductÔºâÔºöÂÆö‰πâ‰∫Ü‰∫ßÂìÅÁöÑËßÑËåÉÔºåÊèèËø∞‰∫Ü‰∫ßÂìÅÁöÑ‰∏ªË¶ÅÁâπÊÄßÂíåÂäüËÉΩ„ÄÇ ÂÖ∑‰Ωì‰∫ßÂìÅÔºàConcreteProductÔºâÔºöÂÆûÁé∞‰∫ÜÊäΩË±°‰∫ßÂìÅËßíËâ≤ÊâÄÂÆö‰πâÁöÑÊé•Âè£ÔºåÁî±ÂÖ∑‰ΩìÂ∑•ÂéÇÊù•ÂàõÂª∫ÔºåÂÆÉÂêåÂÖ∑‰ΩìÂ∑•ÂéÇ‰πãÈó¥‰∏Ä‰∏ÄÂØπÂ∫î„ÄÇ Â∑•ÂéÇÊ®°ÂºèÁöÑÂ∫îÁî®Âú∫ÊôØÔºö ÂÆ¢Êà∑Âè™Áü•ÈÅìÂàõÂª∫‰∫ßÂìÅÁöÑÂ∑•ÂéÇÂêçÔºåËÄå‰∏çÁü•ÈÅìÂÖ∑‰ΩìÁöÑ‰∫ßÂìÅÂêç„ÄÇÂ¶Ç TCL ÁîµËßÜÂ∑•ÂéÇ„ÄÅÊµ∑‰ø°ÁîµËßÜÂ∑•ÂéÇÁ≠â„ÄÇ ÂàõÂª∫ÂØπË±°ÁöÑ‰ªªÂä°Áî±Â§ö‰∏™ÂÖ∑‰ΩìÂ≠êÂ∑•ÂéÇ‰∏≠ÁöÑÊüê‰∏Ä‰∏™ÂÆåÊàêÔºåËÄåÊäΩË±°Â∑•ÂéÇÂè™Êèê‰æõÂàõÂª∫‰∫ßÂìÅÁöÑÊé•Âè£„ÄÇ ÂÆ¢Êà∑‰∏çÂÖ≥ÂøÉÂàõÂª∫‰∫ßÂìÅÁöÑÁªÜËäÇÔºåÂè™ÂÖ≥ÂøÉ‰∫ßÂìÅÁöÑÂìÅÁâå JAVAÂÆûÁé∞ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849package FactoryMethod;public class AbstractFactoryTest { public static void main(String[] args) { try { Product a; AbstractFactory af; af = (AbstractFactory) ReadXML1.getObject(); a = af.newProduct(); a.show(); } catch (Exception e) { System.out.println(e.getMessage()); } }}//ÊäΩË±°‰∫ßÂìÅÔºöÊèê‰æõ‰∫Ü‰∫ßÂìÅÁöÑÊé•Âè£interface Product { public void show();}//ÂÖ∑‰Ωì‰∫ßÂìÅ1ÔºöÂÆûÁé∞ÊäΩË±°‰∫ßÂìÅ‰∏≠ÁöÑÊäΩË±°ÊñπÊ≥ïclass ConcreteProduct1 implements Product { public void show() { System.out.println(&quot;ÂÖ∑‰Ωì‰∫ßÂìÅ1ÊòæÁ§∫...&quot;); }}//ÂÖ∑‰Ωì‰∫ßÂìÅ2ÔºöÂÆûÁé∞ÊäΩË±°‰∫ßÂìÅ‰∏≠ÁöÑÊäΩË±°ÊñπÊ≥ïclass ConcreteProduct2 implements Product { public void show() { System.out.println(&quot;ÂÖ∑‰Ωì‰∫ßÂìÅ2ÊòæÁ§∫...&quot;); }}//ÊäΩË±°Â∑•ÂéÇÔºöÊèê‰æõ‰∫ÜÂéÇÂìÅÁöÑÁîüÊàêÊñπÊ≥ïinterface AbstractFactory { public Product newProduct();}//ÂÖ∑‰ΩìÂ∑•ÂéÇ1ÔºöÂÆûÁé∞‰∫ÜÂéÇÂìÅÁöÑÁîüÊàêÊñπÊ≥ïclass ConcreteFactory1 implements AbstractFactory { public Product newProduct() { System.out.println(&quot;ÂÖ∑‰ΩìÂ∑•ÂéÇ1ÁîüÊàê--&gt;ÂÖ∑‰Ωì‰∫ßÂìÅ1...&quot;); return new ConcreteProduct1(); }}//ÂÖ∑‰ΩìÂ∑•ÂéÇ2ÔºöÂÆûÁé∞‰∫ÜÂéÇÂìÅÁöÑÁîüÊàêÊñπÊ≥ïclass ConcreteFactory2 implements AbstractFactory { public Product newProduct() { System.out.println(&quot;ÂÖ∑‰ΩìÂ∑•ÂéÇ2ÁîüÊàê--&gt;ÂÖ∑‰Ωì‰∫ßÂìÅ2...&quot;); return new ConcreteProduct2(); }} 12345678910111213141516171819202122232425262728package FactoryMethod;import javax.xml.parsers.*;import org.w3c.dom.*;import java.io.*;class ReadXML1 { //ËØ•ÊñπÊ≥ïÁî®‰∫é‰ªéXMLÈÖçÁΩÆÊñá‰ª∂‰∏≠ÊèêÂèñÂÖ∑‰ΩìÁ±ªÁ±ªÂêçÔºåÂπ∂ËøîÂõû‰∏Ä‰∏™ÂÆû‰æãÂØπË±° public static Object getObject() { try { //ÂàõÂª∫ÊñáÊ°£ÂØπË±° DocumentBuilderFactory dFactory = DocumentBuilderFactory.newInstance(); DocumentBuilder builder = dFactory.newDocumentBuilder(); Document doc; doc = builder.parse(new File(&quot;src/FactoryMethod/config1.xml&quot;)); //Ëé∑ÂèñÂåÖÂê´Á±ªÂêçÁöÑÊñáÊú¨ËäÇÁÇπ NodeList nl = doc.getElementsByTagName(&quot;className&quot;); Node classNode = nl.item(0).getFirstChild(); String cName = &quot;FactoryMethod.&quot; + classNode.getNodeValue(); //System.out.println(&quot;Êñ∞Á±ªÂêçÔºö&quot;+cName); //ÈÄöËøáÁ±ªÂêçÁîüÊàêÂÆû‰æãÂØπË±°Âπ∂Â∞ÜÂÖ∂ËøîÂõû Class&lt;?&gt; c = Class.forName(cName); Object obj = c.newInstance(); return obj; } catch (Exception e) { e.printStackTrace(); return null; } }} „ÄäÊäΩË±°Â∑•ÂéÇÊ®°ÂºèAbstract Factory Pattern„Äã ÁâπÁÇπÔºö ‰∏ÄÁßç‰∏∫ËÆøÈóÆÁ±ªÊèê‰æõ‰∏Ä‰∏™ÂàõÂª∫‰∏ÄÁªÑÁõ∏ÂÖ≥ÊàñÁõ∏‰∫í‰æùËµñÂØπË±°ÁöÑÊé•Âè£Ôºå‰∏îËÆøÈóÆÁ±ªÊó†È°ªÊåáÂÆöÊâÄË¶Å‰∫ßÂìÅÁöÑÂÖ∑‰ΩìÁ±ªÂ∞±ËÉΩÂæóÂà∞ÂêåÊóèÁöÑ‰∏çÂêåÁ≠âÁ∫ßÁöÑ‰∫ßÂìÅÁöÑÊ®°ÂºèÁªìÊûÑ„ÄÇ ÊäΩË±°Â∑•ÂéÇÊ®°ÂºèÊòØÂ∑•ÂéÇÊñπÊ≥ïÊ®°ÂºèÁöÑÂçáÁ∫ßÁâàÊú¨ÔºåÂ∑•ÂéÇÊñπÊ≥ïÊ®°ÂºèÂè™Áîü‰∫ß‰∏Ä‰∏™Á≠âÁ∫ßÁöÑ‰∫ßÂìÅÔºåËÄåÊäΩË±°Â∑•ÂéÇÊ®°ÂºèÂèØÁîü‰∫ßÂ§ö‰∏™Á≠âÁ∫ßÁöÑ‰∫ßÂìÅ„ÄÇ ‰ΩøÁî®ÊäΩË±°Â∑•ÂéÇÊ®°Âºè‰∏ÄËà¨Ë¶ÅÊª°Ë∂≥‰ª•‰∏ãÊù°‰ª∂„ÄÇ Á≥ªÁªü‰∏≠ÊúâÂ§ö‰∏™‰∫ßÂìÅÊóèÔºåÊØè‰∏™ÂÖ∑‰ΩìÂ∑•ÂéÇÂàõÂª∫Âêå‰∏ÄÊóè‰ΩÜÂ±û‰∫é‰∏çÂêåÁ≠âÁ∫ßÁªìÊûÑÁöÑ‰∫ßÂìÅ„ÄÇ Á≥ªÁªü‰∏ÄÊ¨°Âè™ÂèØËÉΩÊ∂àË¥πÂÖ∂‰∏≠Êüê‰∏ÄÊóè‰∫ßÂìÅÔºåÂç≥ÂêåÊóèÁöÑ‰∫ßÂìÅ‰∏ÄËµ∑‰ΩøÁî®„ÄÇ ‰ºòÁÇπÔºö Áî®Êà∑Âè™ÈúÄË¶ÅÁü•ÈÅìÂÖ∑‰ΩìÂ∑•ÂéÇÁöÑÂêçÁß∞Â∞±ÂèØÂæóÂà∞ÊâÄË¶ÅÁöÑ‰∫ßÂìÅÔºåÊó†È°ªÁü•ÈÅì‰∫ßÂìÅÁöÑÂÖ∑‰ΩìÂàõÂª∫ËøáÁ®ã„ÄÇ ÁÅµÊ¥ªÊÄßÂ¢ûÂº∫ÔºåÂØπ‰∫éÊñ∞‰∫ßÂìÅÁöÑÂàõÂª∫ÔºåÂè™ÈúÄÂ§öÂÜô‰∏Ä‰∏™Áõ∏Â∫îÁöÑÂ∑•ÂéÇÁ±ª„ÄÇ ÂÖ∏ÂûãÁöÑËß£ËÄ¶Ê°ÜÊû∂„ÄÇÈ´òÂ±ÇÊ®°ÂùóÂè™ÈúÄË¶ÅÁü•ÈÅì‰∫ßÂìÅÁöÑÊäΩË±°Á±ªÔºåÊó†È°ªÂÖ≥ÂøÉÂÖ∂‰ªñÂÆûÁé∞Á±ªÔºåÊª°Ë∂≥Ëø™Á±≥ÁâπÊ≥ïÂàô„ÄÅ‰æùËµñÂÄíÁΩÆÂéüÂàôÂíåÈáåÊ∞èÊõøÊç¢ÂéüÂàô„ÄÇ ÂèØ‰ª•Âú®Á±ªÁöÑÂÜÖÈÉ®ÂØπ‰∫ßÂìÅÊóè‰∏≠Áõ∏ÂÖ≥ËÅîÁöÑÂ§öÁ≠âÁ∫ß‰∫ßÂìÅÂÖ±ÂêåÁÆ°ÁêÜÔºåËÄå‰∏çÂøÖ‰∏ìÈó®ÂºïÂÖ•Â§ö‰∏™Êñ∞ÁöÑÁ±ªÊù•ËøõË°åÁÆ°ÁêÜ„ÄÇ ÂΩìÈúÄË¶Å‰∫ßÂìÅÊóèÊó∂ÔºåÊäΩË±°Â∑•ÂéÇÂèØ‰ª•‰øùËØÅÂÆ¢Êà∑Á´ØÂßãÁªàÂè™‰ΩøÁî®Âêå‰∏Ä‰∏™‰∫ßÂìÅÁöÑ‰∫ßÂìÅÁªÑ„ÄÇ ÊäΩË±°Â∑•ÂéÇÂ¢ûÂº∫‰∫ÜÁ®ãÂ∫èÁöÑÂèØÊâ©Â±ïÊÄßÔºåÂΩìÂ¢ûÂä†‰∏Ä‰∏™Êñ∞ÁöÑ‰∫ßÂìÅÊóèÊó∂Ôºå‰∏çÈúÄË¶Å‰øÆÊîπÂéü‰ª£Á†ÅÔºåÊª°Ë∂≥ÂºÄÈó≠ÂéüÂàô„ÄÇ Áº∫ÁÇπÔºö Á±ªÁöÑ‰∏™Êï∞ÂÆπÊòìËøáÂ§öÔºåÂ¢ûÂä†Â§çÊùÇÂ∫¶ Â¢ûÂä†‰∫ÜÁ≥ªÁªüÁöÑÊäΩË±°ÊÄßÂíåÁêÜËß£ÈöæÂ∫¶ ÊäΩË±°‰∫ßÂìÅÂè™ËÉΩÁîü‰∫ß‰∏ÄÁßç‰∫ßÂìÅÔºåÊ≠§ÂºäÁ´ØÂèØ‰ΩøÁî®ÊäΩË±°Â∑•ÂéÇÊ®°ÂºèËß£ÂÜ≥„ÄÇ ÂΩì‰∫ßÂìÅÊóè‰∏≠ÈúÄË¶ÅÂ¢ûÂä†‰∏Ä‰∏™Êñ∞ÁöÑ‰∫ßÂìÅÊó∂ÔºåÊâÄÊúâÁöÑÂ∑•ÂéÇÁ±ªÈÉΩÈúÄË¶ÅËøõË°å‰øÆÊîπ„ÄÇÂ¢ûÂä†‰∫ÜÁ≥ªÁªüÁöÑÊäΩË±°ÊÄßÂíåÁêÜËß£ÈöæÂ∫¶„ÄÇ ËßíËâ≤Ôºö ÊäΩË±°Â∑•ÂéÇ‰∏≠ÊñπÊ≥ï‰∏™Êï∞‰∏çÂêåÔºåÊäΩË±°‰∫ßÂìÅÁöÑ‰∏™Êï∞‰πü‰∏çÂêå ÊäΩË±°Â∑•ÂéÇÔºàAbstract FactoryÔºâÔºöÊèê‰æõ‰∫ÜÂàõÂª∫‰∫ßÂìÅÁöÑÊé•Âè£ÔºåÂÆÉÂåÖÂê´Â§ö‰∏™ÂàõÂª∫‰∫ßÂìÅÁöÑÊñπÊ≥ï newProduct()ÔºåÂèØ‰ª•ÂàõÂª∫Â§ö‰∏™‰∏çÂêåÁ≠âÁ∫ßÁöÑ‰∫ßÂìÅ„ÄÇ ÂÖ∑‰ΩìÂ∑•ÂéÇÔºàConcrete FactoryÔºâÔºö‰∏ªË¶ÅÊòØÂÆûÁé∞ÊäΩË±°Â∑•ÂéÇ‰∏≠ÁöÑÂ§ö‰∏™ÊäΩË±°ÊñπÊ≥ïÔºåÂÆåÊàêÂÖ∑‰Ωì‰∫ßÂìÅÁöÑÂàõÂª∫„ÄÇ ÊäΩË±°‰∫ßÂìÅÔºàProductÔºâÔºöÂÆö‰πâ‰∫Ü‰∫ßÂìÅÁöÑËßÑËåÉÔºåÊèèËø∞‰∫Ü‰∫ßÂìÅÁöÑ‰∏ªË¶ÅÁâπÊÄßÂíåÂäüËÉΩÔºåÊäΩË±°Â∑•ÂéÇÊ®°ÂºèÊúâÂ§ö‰∏™ÊäΩË±°‰∫ßÂìÅ„ÄÇ ÂÖ∑‰Ωì‰∫ßÂìÅÔºàConcreteProductÔºâÔºöÂÆûÁé∞‰∫ÜÊäΩË±°‰∫ßÂìÅËßíËâ≤ÊâÄÂÆö‰πâÁöÑÊé•Âè£ÔºåÁî±ÂÖ∑‰ΩìÂ∑•ÂéÇÊù•ÂàõÂª∫ÔºåÂÆÉÂêåÂÖ∑‰ΩìÂ∑•ÂéÇ‰πãÈó¥ÊòØÂ§öÂØπ‰∏ÄÁöÑÂÖ≥Á≥ª„ÄÇ ÊäΩË±°Â∑•ÂéÇÊ®°ÂºèÁöÑÂ∫îÁî®Âú∫ÊôØÔºö ÊäΩË±°Â∑•ÂéÇÊ®°ÂºèÊúÄÊó©ÁöÑÂ∫îÁî®ÊòØÁî®‰∫éÂàõÂª∫Â±û‰∫é‰∏çÂêåÊìç‰ΩúÁ≥ªÁªüÁöÑËßÜÁ™óÊûÑ‰ª∂„ÄÇÂ¶Ç Java ÁöÑ AWT ‰∏≠ÁöÑ Button Âíå Text Á≠âÊûÑ‰ª∂Âú® Windows Âíå UNIX ‰∏≠ÁöÑÊú¨Âú∞ÂÆûÁé∞ÊòØ‰∏çÂêåÁöÑ„ÄÇ ÊäΩË±°Â∑•ÂéÇÊ®°ÂºèÈÄöÂ∏∏ÈÄÇÁî®‰∫é‰ª•‰∏ãÂú∫ÊôØÔºö ÂΩìÈúÄË¶ÅÂàõÂª∫ÁöÑÂØπË±°ÊòØ‰∏ÄÁ≥ªÂàóÁõ∏‰∫íÂÖ≥ËÅîÊàñÁõ∏‰∫í‰æùËµñÁöÑ‰∫ßÂìÅÊóèÊó∂ÔºåÂ¶ÇÁîµÂô®Â∑•ÂéÇ‰∏≠ÁöÑÁîµËßÜÊú∫„ÄÅÊ¥óË°£Êú∫„ÄÅÁ©∫Ë∞ÉÁ≠â„ÄÇ Á≥ªÁªü‰∏≠ÊúâÂ§ö‰∏™‰∫ßÂìÅÊóèÔºå‰ΩÜÊØèÊ¨°Âè™‰ΩøÁî®ÂÖ∂‰∏≠ÁöÑÊüê‰∏ÄÊóè‰∫ßÂìÅ„ÄÇÂ¶ÇÊúâ‰∫∫Âè™ÂñúÊ¨¢Á©øÊüê‰∏Ä‰∏™ÂìÅÁâåÁöÑË°£ÊúçÂíåÈûã„ÄÇ Á≥ªÁªü‰∏≠Êèê‰æõ‰∫Ü‰∫ßÂìÅÁöÑÁ±ªÂ∫ìÔºå‰∏îÊâÄÊúâ‰∫ßÂìÅÁöÑÊé•Âè£Áõ∏ÂêåÔºåÂÆ¢Êà∑Á´Ø‰∏ç‰æùËµñ‰∫ßÂìÅÂÆû‰æãÁöÑÂàõÂª∫ÁªÜËäÇÂíåÂÜÖÈÉ®ÁªìÊûÑ„ÄÇ JAVAÂÆûÁé∞ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849package FactoryMethod;public class AbstractFactoryTest { public static void main(String[] args) { try { Product a; AbstractFactory af; af = (AbstractFactory) ReadXML1.getObject(); a = af.newProduct(); a.show(); } catch (Exception e) { System.out.println(e.getMessage()); } }}//ÊäΩË±°‰∫ßÂìÅÔºöÊèê‰æõ‰∫Ü‰∫ßÂìÅÁöÑÊé•Âè£interface Product { public void show();}//ÂÖ∑‰Ωì‰∫ßÂìÅ1ÔºöÂÆûÁé∞ÊäΩË±°‰∫ßÂìÅ‰∏≠ÁöÑÊäΩË±°ÊñπÊ≥ïclass ConcreteProduct1 implements Product { public void show() { System.out.println(&quot;ÂÖ∑‰Ωì‰∫ßÂìÅ1ÊòæÁ§∫...&quot;); }}//ÂÖ∑‰Ωì‰∫ßÂìÅ2ÔºöÂÆûÁé∞ÊäΩË±°‰∫ßÂìÅ‰∏≠ÁöÑÊäΩË±°ÊñπÊ≥ïclass ConcreteProduct2 implements Product { public void show() { System.out.println(&quot;ÂÖ∑‰Ωì‰∫ßÂìÅ2ÊòæÁ§∫...&quot;); }}//ÊäΩË±°Â∑•ÂéÇÔºöÊèê‰æõ‰∫ÜÂéÇÂìÅÁöÑÁîüÊàêÊñπÊ≥ïinterface AbstractFactory { public Product newProduct();}//ÂÖ∑‰ΩìÂ∑•ÂéÇ1ÔºöÂÆûÁé∞‰∫ÜÂéÇÂìÅÁöÑÁîüÊàêÊñπÊ≥ïclass ConcreteFactory1 implements AbstractFactory { public Product newProduct() { System.out.println(&quot;ÂÖ∑‰ΩìÂ∑•ÂéÇ1ÁîüÊàê--&gt;ÂÖ∑‰Ωì‰∫ßÂìÅ1...&quot;); return new ConcreteProduct1(); }}//ÂÖ∑‰ΩìÂ∑•ÂéÇ2ÔºöÂÆûÁé∞‰∫ÜÂéÇÂìÅÁöÑÁîüÊàêÊñπÊ≥ïclass ConcreteFactory2 implements AbstractFactory { public Product newProduct() { System.out.println(&quot;ÂÖ∑‰ΩìÂ∑•ÂéÇ2ÁîüÊàê--&gt;ÂÖ∑‰Ωì‰∫ßÂìÅ2...&quot;); return new ConcreteProduct2(); }} 12345678910111213141516171819202122232425262728package FactoryMethod;import javax.xml.parsers.*;import org.w3c.dom.*;import java.io.*;class ReadXML1 { //ËØ•ÊñπÊ≥ïÁî®‰∫é‰ªéXMLÈÖçÁΩÆÊñá‰ª∂‰∏≠ÊèêÂèñÂÖ∑‰ΩìÁ±ªÁ±ªÂêçÔºåÂπ∂ËøîÂõû‰∏Ä‰∏™ÂÆû‰æãÂØπË±° public static Object getObject() { try { //ÂàõÂª∫ÊñáÊ°£ÂØπË±° DocumentBuilderFactory dFactory = DocumentBuilderFactory.newInstance(); DocumentBuilder builder = dFactory.newDocumentBuilder(); Document doc; doc = builder.parse(new File(&quot;src/FactoryMethod/config1.xml&quot;)); //Ëé∑ÂèñÂåÖÂê´Á±ªÂêçÁöÑÊñáÊú¨ËäÇÁÇπ NodeList nl = doc.getElementsByTagName(&quot;className&quot;); Node classNode = nl.item(0).getFirstChild(); String cName = &quot;FactoryMethod.&quot; + classNode.getNodeValue(); //System.out.println(&quot;Êñ∞Á±ªÂêçÔºö&quot;+cName); //ÈÄöËøáÁ±ªÂêçÁîüÊàêÂÆû‰æãÂØπË±°Âπ∂Â∞ÜÂÖ∂ËøîÂõû Class&lt;?&gt; c = Class.forName(cName); Object obj = c.newInstance(); return obj; } catch (Exception e) { e.printStackTrace(); return null; } }} „ÄäÂª∫ÈÄ†ËÄÖÊ®°Âºè Bulider„Äã ÁâπÁÇπÔºö Â∞Ü‰∏Ä‰∏™Â§çÊùÇÂØπË±°ÁöÑÊûÑÈÄ†‰∏éÂÆÉÁöÑË°®Á§∫ÂàÜÁ¶ªÔºå‰ΩøÂêåÊ†∑ÁöÑÊûÑÂª∫ËøáÁ®ãÂèØ‰ª•ÂàõÂª∫‰∏çÂêåÁöÑË°®Á§∫ ÂÆÉÊòØÂ∞Ü‰∏Ä‰∏™Â§çÊùÇÁöÑÂØπË±°ÂàÜËß£‰∏∫Â§ö‰∏™ÁÆÄÂçïÁöÑÂØπË±°ÔºåÁÑ∂Âêé‰∏ÄÊ≠•‰∏ÄÊ≠•ÊûÑÂª∫ËÄåÊàê„ÄÇÂÆÉÂ∞ÜÂèò‰∏é‰∏çÂèòÁõ∏ÂàÜÁ¶ªÔºåÂç≥‰∫ßÂìÅÁöÑÁªÑÊàêÈÉ®ÂàÜÊòØ‰∏çÂèòÁöÑÔºå‰ΩÜÊØè‰∏ÄÈÉ®ÂàÜÊòØÂèØ‰ª•ÁÅµÊ¥ªÈÄâÊã©ÁöÑ„ÄÇ ‰ºòÁÇπÔºö Â∞ÅË£ÖÊÄßÂ•ΩÔºåÊûÑÂª∫ÂíåË°®Á§∫ÂàÜÁ¶ª„ÄÇ Êâ©Â±ïÊÄßÂ•ΩÔºåÂêÑ‰∏™ÂÖ∑‰ΩìÁöÑÂª∫ÈÄ†ËÄÖÁõ∏‰∫íÁã¨Á´ãÔºåÊúâÂà©‰∫éÁ≥ªÁªüÁöÑËß£ËÄ¶„ÄÇ ÂÆ¢Êà∑Á´Ø‰∏çÂøÖÁü•ÈÅì‰∫ßÂìÅÂÜÖÈÉ®ÁªÑÊàêÁöÑÁªÜËäÇÔºåÂª∫ÈÄ†ËÄÖÂèØ‰ª•ÂØπÂàõÂª∫ËøáÁ®ãÈÄêÊ≠•ÁªÜÂåñÔºåËÄå‰∏çÂØπÂÖ∂ÂÆÉÊ®°Âùó‰∫ßÁîü‰ªª‰ΩïÂΩ±ÂìçÔºå‰æø‰∫éÊéßÂà∂ÁªÜËäÇÈ£éÈô©„ÄÇ Áº∫ÁÇπÔºö ‰∫ßÂìÅÁöÑÁªÑÊàêÈÉ®ÂàÜÂøÖÈ°ªÁõ∏ÂêåÔºåËøôÈôêÂà∂‰∫ÜÂÖ∂‰ΩøÁî®ËåÉÂõ¥„ÄÇ Â¶ÇÊûú‰∫ßÂìÅÁöÑÂÜÖÈÉ®ÂèòÂåñÂ§çÊùÇÔºåÂ¶ÇÊûú‰∫ßÂìÅÂÜÖÈÉ®ÂèëÁîüÂèòÂåñÔºåÂàôÂª∫ÈÄ†ËÄÖ‰πüË¶ÅÂêåÊ≠•‰øÆÊîπÔºåÂêéÊúüÁª¥Êä§ÊàêÊú¨ËæÉÂ§ß„ÄÇ ËßíËâ≤Ôºö ‰∫ßÂìÅËßíËâ≤ÔºàProductÔºâÔºöÂÆÉÊòØÂåÖÂê´Â§ö‰∏™ÁªÑÊàêÈÉ®‰ª∂ÁöÑÂ§çÊùÇÂØπË±°ÔºåÁî±ÂÖ∑‰ΩìÂª∫ÈÄ†ËÄÖÊù•ÂàõÂª∫ÂÖ∂ÂêÑ‰∏™Èõ∂ÈÉ®‰ª∂„ÄÇ ÊäΩË±°Âª∫ÈÄ†ËÄÖÔºàBuilderÔºâÔºöÂÆÉÊòØ‰∏Ä‰∏™ÂåÖÂê´ÂàõÂª∫‰∫ßÂìÅÂêÑ‰∏™Â≠êÈÉ®‰ª∂ÁöÑÊäΩË±°ÊñπÊ≥ïÁöÑÊé•Âè£ÔºåÈÄöÂ∏∏ËøòÂåÖÂê´‰∏Ä‰∏™ËøîÂõûÂ§çÊùÇ‰∫ßÂìÅÁöÑÊñπÊ≥ï getResult()„ÄÇ ÂÖ∑‰ΩìÂª∫ÈÄ†ËÄÖ(Concrete BuilderÔºâÔºöÂÆûÁé∞ Builder Êé•Âè£ÔºåÂÆåÊàêÂ§çÊùÇ‰∫ßÂìÅÁöÑÂêÑ‰∏™ÈÉ®‰ª∂ÁöÑÂÖ∑‰ΩìÂàõÂª∫ÊñπÊ≥ï„ÄÇ ÊåáÊå•ËÄÖÔºàDirectorÔºâÔºöÂÆÉË∞ÉÁî®Âª∫ÈÄ†ËÄÖÂØπË±°‰∏≠ÁöÑÈÉ®‰ª∂ÊûÑÈÄ†‰∏éË£ÖÈÖçÊñπÊ≥ïÂÆåÊàêÂ§çÊùÇÂØπË±°ÁöÑÂàõÂª∫ÔºåÂú®ÊåáÊå•ËÄÖ‰∏≠‰∏çÊ∂âÂèäÂÖ∑‰Ωì‰∫ßÂìÅÁöÑ‰ø°ÊÅØ„ÄÇ Âª∫ÈÄ†ËÄÖÊ®°ÂºèÁöÑÂ∫îÁî®Âú∫ÊôØÔºö Áõ∏ÂêåÁöÑÊñπÊ≥ïÔºå‰∏çÂêåÁöÑÊâßË°åÈ°∫Â∫èÔºå‰∫ßÁîü‰∏çÂêåÁöÑÁªìÊûú„ÄÇ Â§ö‰∏™ÈÉ®‰ª∂ÊàñÈõ∂‰ª∂ÔºåÈÉΩÂèØ‰ª•Ë£ÖÈÖçÂà∞‰∏Ä‰∏™ÂØπË±°‰∏≠Ôºå‰ΩÜÊòØ‰∫ßÁîüÁöÑÁªìÊûúÂèà‰∏çÁõ∏Âêå„ÄÇ ‰∫ßÂìÅÁ±ªÈùûÂ∏∏Â§çÊùÇÔºåÊàñËÄÖ‰∫ßÂìÅÁ±ª‰∏≠‰∏çÂêåÁöÑË∞ÉÁî®È°∫Â∫è‰∫ßÁîü‰∏çÂêåÁöÑ‰ΩúÁî®„ÄÇ ÂàùÂßãÂåñ‰∏Ä‰∏™ÂØπË±°ÁâπÂà´Â§çÊùÇÔºåÂèÇÊï∞Â§öÔºåËÄå‰∏îÂæàÂ§öÂèÇÊï∞ÈÉΩÂÖ∑ÊúâÈªòËÆ§ÂÄº„ÄÇ JAVAÂÆûÁé∞Ôºö 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970package pers.lxl.mylearnproject.programbase.designpatterns.creationalpattern.bulider;/**‰∫ßÂìÅËßíËâ≤ÔºàProductÔºâÔºöÂÆÉÊòØÂåÖÂê´Â§ö‰∏™ÁªÑÊàêÈÉ®‰ª∂ÁöÑÂ§çÊùÇÂØπË±°ÔºåÁî±ÂÖ∑‰ΩìÂª∫ÈÄ†ËÄÖÊù•ÂàõÂª∫ÂÖ∂ÂêÑ‰∏™Èõ∂ÈÉ®‰ª∂„ÄÇ*/class Product { private String partA; private String partB; private String partC; public void setPartA(String partA) { this.partA = partA; } public void setPartB(String partB) { this.partB = partB; } public void setPartC(String partC) { this.partC = partC; } public void show() { System.out.println(partA+' '+partB+' '+partC); }}/**ÊäΩË±°Âª∫ÈÄ†ËÄÖÔºàBuilderÔºâÔºöÂÆÉÊòØ‰∏Ä‰∏™ÂåÖÂê´ÂàõÂª∫‰∫ßÂìÅÂêÑ‰∏™Â≠êÈÉ®‰ª∂ÁöÑÊäΩË±°ÊñπÊ≥ïÁöÑÊé•Âè£ÔºåÈÄöÂ∏∏ËøòÂåÖÂê´‰∏Ä‰∏™ËøîÂõûÂ§çÊùÇ‰∫ßÂìÅÁöÑÊñπÊ≥ï getResult()„ÄÇ*/abstract class Builder { //ÂàõÂª∫‰∫ßÂìÅÂØπË±° protected Product product = new Product(); public abstract void buildPartA(); public abstract void buildPartB(); public abstract void buildPartC(); //ËøîÂõû‰∫ßÂìÅÂØπË±° public Product getResult() { return product; }}/**ÂÖ∑‰ΩìÂª∫ÈÄ†ËÄÖ(Concrete BuilderÔºâÔºöÂÆûÁé∞ Builder Êé•Âè£ÔºåÂÆåÊàêÂ§çÊùÇ‰∫ßÂìÅÁöÑÂêÑ‰∏™ÈÉ®‰ª∂ÁöÑÂÖ∑‰ΩìÂàõÂª∫ÊñπÊ≥ï„ÄÇ*/class ConcreteBuilder1 extends Builder { @Override public void buildPartA() { product.setPartA(&quot;Âª∫ÈÄ† PartA&quot;); } @Override public void buildPartB() { product.setPartB(&quot;Âª∫ÈÄ† PartB&quot;); } @Override public void buildPartC() { product.setPartC(&quot;Âª∫ÈÄ† PartC&quot;); }}/**ÊåáÊå•ËÄÖÔºàDirectorÔºâÔºöÂÆÉË∞ÉÁî®Âª∫ÈÄ†ËÄÖÂØπË±°‰∏≠ÁöÑÈÉ®‰ª∂ÊûÑÈÄ†‰∏éË£ÖÈÖçÊñπÊ≥ïÂÆåÊàêÂ§çÊùÇÂØπË±°ÁöÑÂàõÂª∫ÔºåÂú®ÊåáÊå•ËÄÖ‰∏≠‰∏çÊ∂âÂèäÂÖ∑‰Ωì‰∫ßÂìÅÁöÑ‰ø°ÊÅØ„ÄÇ*/class Director { private Builder builder; public Director(Builder builder) { this.builder = builder; } //‰∫ßÂìÅÊûÑÂª∫‰∏éÁªÑË£ÖÊñπÊ≥ï public Product construct() { builder.buildPartA(); builder.buildPartB(); builder.buildPartC(); return builder.getResult(); }}public class ConcreteBuilder { public static void main(String[] args) { Builder builder = new ConcreteBuilder1(); Director director = new Director(builder); Product product = director.construct(); product.show(); }} ÁªìÊûÑÂûãÊ®°Âºè „Ää‰ª£ÁêÜÊ®°Âºè Proxy „Äã ÁâπÁÇπÔºö ‰∏≠‰ªã Áî±‰∫éÊüê‰∫õÂéüÂõ†ÈúÄË¶ÅÁªôÊüêÂØπË±°Êèê‰æõ‰∏Ä‰∏™‰ª£ÁêÜ‰ª•ÊéßÂà∂ÂØπËØ•ÂØπË±°ÁöÑËÆøÈóÆ„ÄÇËøôÊó∂ÔºåËÆøÈóÆÂØπË±°‰∏çÈÄÇÂêàÊàñËÄÖ‰∏çËÉΩÁõ¥Êé•ÂºïÁî®ÁõÆÊ†áÂØπË±°Ôºå‰ª£ÁêÜÂØπË±°‰Ωú‰∏∫ËÆøÈóÆÂØπË±°ÂíåÁõÆÊ†áÂØπË±°‰πãÈó¥ÁöÑ‰∏≠‰ªã„ÄÇ ‰ºòÁÇπÔºö ‰ª£ÁêÜÊ®°ÂºèÂú®ÂÆ¢Êà∑Á´Ø‰∏éÁõÆÊ†áÂØπË±°‰πãÈó¥Ëµ∑Âà∞‰∏Ä‰∏™‰∏≠‰ªã‰ΩúÁî®Âíå‰øùÊä§ÁõÆÊ†áÂØπË±°ÁöÑ‰ΩúÁî®Ôºõ ‰ª£ÁêÜÂØπË±°ÂèØ‰ª•Êâ©Â±ïÁõÆÊ†áÂØπË±°ÁöÑÂäüËÉΩÔºõ ‰ª£ÁêÜÊ®°ÂºèËÉΩÂ∞ÜÂÆ¢Êà∑Á´Ø‰∏éÁõÆÊ†áÂØπË±°ÂàÜÁ¶ªÔºåÂú®‰∏ÄÂÆöÁ®ãÂ∫¶‰∏äÈôç‰Ωé‰∫ÜÁ≥ªÁªüÁöÑËÄ¶ÂêàÂ∫¶ÔºåÂ¢ûÂä†‰∫ÜÁ®ãÂ∫èÁöÑÂèØÊâ©Â±ïÊÄß Áº∫ÁÇπÔºö(Âä®ÊÄÅ‰ª£ÁêÜÊñπÂºèËß£ÂÜ≥) ‰ª£ÁêÜÊ®°Âºè‰ºöÈÄ†ÊàêÁ≥ªÁªüËÆæËÆ°‰∏≠Á±ªÁöÑÊï∞ÈáèÂ¢ûÂä† Âú®ÂÆ¢Êà∑Á´ØÂíåÁõÆÊ†áÂØπË±°‰πãÈó¥Â¢ûÂä†‰∏Ä‰∏™‰ª£ÁêÜÂØπË±°Ôºå‰ºöÈÄ†ÊàêËØ∑Ê±ÇÂ§ÑÁêÜÈÄüÂ∫¶ÂèòÊÖ¢Ôºõ Â¢ûÂä†‰∫ÜÁ≥ªÁªüÁöÑÂ§çÊùÇÂ∫¶Ôºõ ËßíËâ≤Ôºö ÊäΩË±°‰∏ªÈ¢òÔºàSubjectÔºâÁ±ªÔºöÈÄöËøáÊé•Âè£ÊàñÊäΩË±°Á±ªÂ£∞ÊòéÁúüÂÆû‰∏ªÈ¢òÂíå‰ª£ÁêÜÂØπË±°ÂÆûÁé∞ÁöÑ‰∏öÂä°ÊñπÊ≥ï„ÄÇ ÁúüÂÆû‰∏ªÈ¢òÔºàReal SubjectÔºâÁ±ªÔºöÂÆûÁé∞‰∫ÜÊäΩË±°‰∏ªÈ¢ò‰∏≠ÁöÑÂÖ∑‰Ωì‰∏öÂä°ÔºåÊòØ‰ª£ÁêÜÂØπË±°ÊâÄ‰ª£Ë°®ÁöÑÁúüÂÆûÂØπË±°ÔºåÊòØÊúÄÁªàË¶ÅÂºïÁî®ÁöÑÂØπË±°„ÄÇ ‰ª£ÁêÜÔºàProxyÔºâÁ±ªÔºöÊèê‰æõ‰∫Ü‰∏éÁúüÂÆû‰∏ªÈ¢òÁõ∏ÂêåÁöÑÊé•Âè£ÔºåÂÖ∂ÂÜÖÈÉ®Âê´ÊúâÂØπÁúüÂÆû‰∏ªÈ¢òÁöÑÂºïÁî®ÔºåÂÆÉÂèØ‰ª•ËÆøÈóÆ„ÄÅÊéßÂà∂ÊàñÊâ©Â±ïÁúüÂÆû‰∏ªÈ¢òÁöÑÂäüËÉΩ„ÄÇ Ê†πÊçÆ‰ª£ÁêÜÁöÑÂàõÂª∫Êó∂ÊúüÔºå‰ª£ÁêÜÊ®°ÂºèÂàÜ‰∏∫ÈùôÊÄÅ‰ª£ÁêÜÂíåÂä®ÊÄÅ‰ª£ÁêÜ„ÄÇ ÈùôÊÄÅÔºöÁî±Á®ãÂ∫èÂëòÂàõÂª∫‰ª£ÁêÜÁ±ªÊàñÁâπÂÆöÂ∑•ÂÖ∑Ëá™Âä®ÁîüÊàêÊ∫ê‰ª£Á†ÅÂÜçÂØπÂÖ∂ÁºñËØëÔºåÂú®Á®ãÂ∫èËøêË°åÂâç‰ª£ÁêÜÁ±ªÁöÑ .class Êñá‰ª∂Â∞±Â∑≤ÁªèÂ≠òÂú®‰∫Ü„ÄÇ Âä®ÊÄÅÔºöÂú®Á®ãÂ∫èËøêË°åÊó∂ÔºåËøêÁî®ÂèçÂ∞ÑÊú∫Âà∂Âä®ÊÄÅÂàõÂª∫ËÄåÊàê ‰ª£ÁêÜÊ®°ÂºèÁöÑÂ∫îÁî®Âú∫ÊôØÔºö ËøúÁ®ã‰ª£ÁêÜÔºåËøôÁßçÊñπÂºèÈÄöÂ∏∏ÊòØ‰∏∫‰∫ÜÈöêËóèÁõÆÊ†áÂØπË±°Â≠òÂú®‰∫é‰∏çÂêåÂú∞ÂùÄÁ©∫Èó¥ÁöÑ‰∫ãÂÆûÔºåÊñπ‰æøÂÆ¢Êà∑Á´ØËÆøÈóÆ„ÄÇ‰æãÂ¶ÇÔºåÁî®Êà∑Áî≥ËØ∑Êüê‰∫õÁΩëÁõòÁ©∫Èó¥Êó∂Ôºå‰ºöÂú®Áî®Êà∑ÁöÑÊñá‰ª∂Á≥ªÁªü‰∏≠Âª∫Á´ã‰∏Ä‰∏™ËôöÊãüÁöÑÁ°¨ÁõòÔºåÁî®Êà∑ËÆøÈóÆËôöÊãüÁ°¨ÁõòÊó∂ÂÆûÈôÖËÆøÈóÆÁöÑÊòØÁΩëÁõòÁ©∫Èó¥„ÄÇ ËôöÊãü‰ª£ÁêÜÔºåËøôÁßçÊñπÂºèÈÄöÂ∏∏Áî®‰∫éË¶ÅÂàõÂª∫ÁöÑÁõÆÊ†áÂØπË±°ÂºÄÈîÄÂæàÂ§ßÊó∂„ÄÇ‰æãÂ¶ÇÔºå‰∏ãËΩΩ‰∏ÄÂπÖÂæàÂ§ßÁöÑÂõæÂÉèÈúÄË¶ÅÂæàÈïøÊó∂Èó¥ÔºåÂõ†ÊüêÁßçËÆ°ÁÆóÊØîËæÉÂ§çÊùÇËÄåÁü≠Êó∂Èó¥Êó†Ê≥ïÂÆåÊàêÔºåËøôÊó∂ÂèØ‰ª•ÂÖàÁî®Â∞èÊØî‰æãÁöÑËôöÊãü‰ª£ÁêÜÊõøÊç¢ÁúüÂÆûÁöÑÂØπË±°ÔºåÊ∂àÈô§Áî®Êà∑ÂØπÊúçÂä°Âô®ÊÖ¢ÁöÑÊÑüËßâ„ÄÇ ÂÆâÂÖ®‰ª£ÁêÜÔºåËøôÁßçÊñπÂºèÈÄöÂ∏∏Áî®‰∫éÊéßÂà∂‰∏çÂêåÁßçÁ±ªÂÆ¢Êà∑ÂØπÁúüÂÆûÂØπË±°ÁöÑËÆøÈóÆÊùÉÈôê„ÄÇ Êô∫ËÉΩÊåáÂºïÔºå‰∏ªË¶ÅÁî®‰∫éË∞ÉÁî®ÁõÆÊ†áÂØπË±°Êó∂Ôºå‰ª£ÁêÜÈôÑÂä†‰∏Ä‰∫õÈ¢ùÂ§ñÁöÑÂ§ÑÁêÜÂäüËÉΩ„ÄÇ‰æãÂ¶ÇÔºåÂ¢ûÂä†ËÆ°ÁÆóÁúüÂÆûÂØπË±°ÁöÑÂºïÁî®Ê¨°Êï∞ÁöÑÂäüËÉΩÔºåËøôÊ†∑ÂΩìËØ•ÂØπË±°Ê≤°ÊúâË¢´ÂºïÁî®Êó∂ÔºåÂ∞±ÂèØ‰ª•Ëá™Âä®ÈáäÊîæÂÆÉ„ÄÇ Âª∂ËøüÂä†ËΩΩÔºåÊåá‰∏∫‰∫ÜÊèêÈ´òÁ≥ªÁªüÁöÑÊÄßËÉΩÔºåÂª∂ËøüÂØπÁõÆÊ†áÁöÑÂä†ËΩΩ„ÄÇ‰æãÂ¶ÇÔºåHibernate ‰∏≠Â∞±Â≠òÂú®Â±ûÊÄßÁöÑÂª∂ËøüÂä†ËΩΩÂíåÂÖ≥ËÅîË°®ÁöÑÂª∂Êó∂Âä†ËΩΩ„ÄÇ JAVAÂÆûÁé∞Ôºö 1234567891011121314151617181920212223242526272829303132333435package proxy;public class ProxyTest { public static void main(String[] args) { Proxy proxy = new Proxy(); proxy.Request(); }}//ÊäΩË±°‰∏ªÈ¢òinterface Subject { void Request();}//ÁúüÂÆû‰∏ªÈ¢òclass RealSubject implements Subject { public void Request() { System.out.println(&quot;ËÆøÈóÆÁúüÂÆû‰∏ªÈ¢òÊñπÊ≥ï...&quot;); }}//‰ª£ÁêÜclass Proxy implements Subject { private RealSubject realSubject; public void Request() { if (realSubject == null) { realSubject = new RealSubject(); } preRequest(); realSubject.Request(); postRequest(); } public void preRequest() { System.out.println(&quot;ËÆøÈóÆÁúüÂÆû‰∏ªÈ¢ò‰πãÂâçÁöÑÈ¢ÑÂ§ÑÁêÜ„ÄÇ&quot;); } public void postRequest() { System.out.println(&quot;ËÆøÈóÆÁúüÂÆû‰∏ªÈ¢ò‰πãÂêéÁöÑÂêéÁª≠Â§ÑÁêÜ„ÄÇ&quot;); }} „ÄäÈÄÇÈÖçÂô®Ê®°Âºè Adapter „Äã ÁâπÁÇπÔºö Â∞Ü‰∏Ä‰∏™Á±ªÁöÑÊé•Âè£ËΩ¨Êç¢ÊàêÂÆ¢Êà∑Â∏åÊúõÁöÑÂè¶Â§ñ‰∏Ä‰∏™Êé•Âè£Ôºå‰ΩøÂæóÂéüÊú¨Áî±‰∫éÊé•Âè£‰∏çÂÖºÂÆπËÄå‰∏çËÉΩ‰∏ÄËµ∑Â∑•‰ΩúÁöÑÈÇ£‰∫õÁ±ªËÉΩ‰∏ÄËµ∑Â∑•‰Ωú„ÄÇ ÈÄÇÈÖçÂô®Ê®°ÂºèÂàÜ‰∏∫Á±ªÁªìÊûÑÂûãÊ®°ÂºèÂíåÂØπË±°ÁªìÊûÑÂûãÊ®°Âºè‰∏§ÁßçÔºåÂâçËÄÖÁ±ª‰πãÈó¥ÁöÑËÄ¶ÂêàÂ∫¶ÊØîÂêéËÄÖÈ´òÔºå‰∏îË¶ÅÊ±ÇÁ®ãÂ∫èÂëò‰∫ÜËß£Áé∞ÊúâÁªÑ‰ª∂Â∫ì‰∏≠ÁöÑÁõ∏ÂÖ≥ÁªÑ‰ª∂ÁöÑÂÜÖÈÉ®ÁªìÊûÑÔºåÊâÄ‰ª•Â∫îÁî®Áõ∏ÂØπËæÉÂ∞ë‰∫õ„ÄÇ ‰ºòÁÇπÔºö ÂÆ¢Êà∑Á´ØÈÄöËøáÈÄÇÈÖçÂô®ÂèØ‰ª•ÈÄèÊòéÂú∞Ë∞ÉÁî®ÁõÆÊ†áÊé•Âè£„ÄÇ Â§çÁî®‰∫ÜÁé∞Â≠òÁöÑÁ±ªÔºåÁ®ãÂ∫èÂëò‰∏çÈúÄË¶Å‰øÆÊîπÂéüÊúâ‰ª£Á†ÅËÄåÈáçÁî®Áé∞ÊúâÁöÑÈÄÇÈÖçËÄÖÁ±ª„ÄÇ Â∞ÜÁõÆÊ†áÁ±ªÂíåÈÄÇÈÖçËÄÖÁ±ªËß£ËÄ¶ÔºåËß£ÂÜ≥‰∫ÜÁõÆÊ†áÁ±ªÂíåÈÄÇÈÖçËÄÖÁ±ªÊé•Âè£‰∏ç‰∏ÄËá¥ÁöÑÈóÆÈ¢ò„ÄÇ Âú®ÂæàÂ§ö‰∏öÂä°Âú∫ÊôØ‰∏≠Á¨¶ÂêàÂºÄÈó≠ÂéüÂàô„ÄÇ Áº∫ÁÇπÔºö ÈÄÇÈÖçÂô®ÁºñÂÜôËøáÁ®ãÈúÄË¶ÅÁªìÂêà‰∏öÂä°Âú∫ÊôØÂÖ®Èù¢ËÄÉËôëÔºåÂèØËÉΩ‰ºöÂ¢ûÂä†Á≥ªÁªüÁöÑÂ§çÊùÇÊÄß„ÄÇ Â¢ûÂä†‰ª£Á†ÅÈòÖËØªÈöæÂ∫¶ÔºåÈôç‰Ωé‰ª£Á†ÅÂèØËØªÊÄßÔºåËøáÂ§ö‰ΩøÁî®ÈÄÇÈÖçÂô®‰ºö‰ΩøÁ≥ªÁªü‰ª£Á†ÅÂèòÂæóÂáå‰π±„ÄÇ ËßíËâ≤Ôºö ÁõÆÊ†áÔºàTargetÔºâÊé•Âè£ÔºöÂΩìÂâçÁ≥ªÁªü‰∏öÂä°ÊâÄÊúüÂæÖÁöÑÊé•Âè£ÔºåÂÆÉÂèØ‰ª•ÊòØÊäΩË±°Á±ªÊàñÊé•Âè£„ÄÇ ÈÄÇÈÖçËÄÖÔºàAdapteeÔºâÁ±ªÔºöÂÆÉÊòØË¢´ËÆøÈóÆÂíåÈÄÇÈÖçÁöÑÁé∞Â≠òÁªÑ‰ª∂Â∫ì‰∏≠ÁöÑÁªÑ‰ª∂Êé•Âè£„ÄÇ ÈÄÇÈÖçÂô®ÔºàAdapterÔºâÁ±ªÔºöÂÆÉÊòØ‰∏Ä‰∏™ËΩ¨Êç¢Âô®ÔºåÈÄöËøáÁªßÊâøÊàñÂºïÁî®ÈÄÇÈÖçËÄÖÁöÑÂØπË±°ÔºåÊääÈÄÇÈÖçËÄÖÊé•Âè£ËΩ¨Êç¢ÊàêÁõÆÊ†áÊé•Âè£ÔºåËÆ©ÂÆ¢Êà∑ÊåâÁõÆÊ†áÊé•Âè£ÁöÑÊ†ºÂºèËÆøÈóÆÈÄÇÈÖçËÄÖ„ÄÇ ÈÄÇÈÖçÂô®Ê®°ÂºèÁöÑÂ∫îÁî®Âú∫ÊôØÔºö ‰ª•ÂâçÂºÄÂèëÁöÑÁ≥ªÁªüÂ≠òÂú®Êª°Ë∂≥Êñ∞Á≥ªÁªüÂäüËÉΩÈúÄÊ±ÇÁöÑÁ±ªÔºå‰ΩÜÂÖ∂Êé•Âè£ÂêåÊñ∞Á≥ªÁªüÁöÑÊé•Âè£‰∏ç‰∏ÄËá¥„ÄÇ ‰ΩøÁî®Á¨¨‰∏âÊñπÊèê‰æõÁöÑÁªÑ‰ª∂Ôºå‰ΩÜÁªÑ‰ª∂Êé•Âè£ÂÆö‰πâÂíåËá™Â∑±Ë¶ÅÊ±ÇÁöÑÊé•Âè£ÂÆö‰πâ‰∏çÂêå„ÄÇ JAVAÂÆûÁé∞Ôºö ÂØπË±°ÈÄÇÈÖçÂô® 1234567891011121314151617181920212223242526package pers.lxl.mylearnproject.programbase.designpatterns.structuralpattern.adapter;//ÂØπË±°ÈÄÇÈÖçÂô®Á±ªclass ObjectAdapter implements Target{ private Adaptee adaptee; public ObjectAdapter(Adaptee adaptee) { this.adaptee=adaptee; } @Override public void request() { adaptee.specificRequest(); }}//ÂÆ¢Êà∑Á´Ø‰ª£Á†Åpublic class objectAdapterPattern{ public static void main(String[] args) { System.out.println(&quot;ÂØπË±°ÈÄÇÈÖçÂô®Ê®°ÂºèÊµãËØïÔºö&quot;); Adaptee adaptee = new Adaptee(); Target target = new ObjectAdapter(adaptee); target.request(); }} Á±ªÈÄÇÈÖçÂô® 1234567891011121314151617181920212223242526272829303132333435package pers.lxl.mylearnproject.programbase.designpatterns.structuralpattern.adapter;//ÁõÆÊ†áÊé•Âè£interface Target{ public void request();}//ÈÄÇÈÖçËÄÖÊé•Âè£class Adaptee{ public void specificRequest() { System.out.println(&quot;ÈÄÇÈÖçËÄÖ‰∏≠ÁöÑ‰∏öÂä°‰ª£Á†ÅË¢´Ë∞ÉÁî®ÔºÅ&quot;); }}//Á±ªÈÄÇÈÖçÂô®Á±ª extends Adaptee implements Targetclass ClassAdapter extends Adaptee implements Target{ @Override public void request() { specificRequest(); }}//ÂÆ¢Êà∑Á´Ø‰ª£Á†Åpublic class ClassAdapterPattern{ public static void main(String[] args) { System.out.println(&quot;Á±ªÈÄÇÈÖçÂô®Ê®°ÂºèÊµãËØïÔºö&quot;); Target target = new ClassAdapter(); target.request(); }} ÈÄÇÈÖçÂô®Ê®°ÂºèÔºàAdapterÔºâÂèØÊâ©Â±ï‰∏∫ÂèåÂêëÈÄÇÈÖçÂô®Ê®°ÂºèÔºåÂèåÂêëÈÄÇÈÖçÂô®Á±ªÊó¢ÂèØ‰ª•ÊääÈÄÇÈÖçËÄÖÊé•Âè£ËΩ¨Êç¢ÊàêÁõÆÊ†áÊé•Âè£Ôºå‰πüÂèØ‰ª•ÊääÁõÆÊ†áÊé•Âè£ËΩ¨Êç¢ÊàêÈÄÇÈÖçËÄÖÊé•Âè£ÔºåÂÖ∂ÁªìÊûÑÂõæÂ¶ÇÂõæÊâÄÁ§∫„ÄÇ „ÄäÊ°•Êé•Ê®°Âºè Bridge„Äã ÁâπÁÇπÔºö Â∞ÜÊäΩË±°‰∏éÂÆûÁé∞ÂàÜÁ¶ªÔºå‰ΩøÂÆÉ‰ª¨ÂèØ‰ª•Áã¨Á´ãÂèòÂåñ„ÄÇÂÆÉÊòØÁî®ÁªÑÂêàÂÖ≥Á≥ª‰ª£ÊõøÁªßÊâøÂÖ≥Á≥ªÊù•ÂÆûÁé∞Ôºå‰ªéËÄåÈôç‰Ωé‰∫ÜÊäΩË±°ÂíåÂÆûÁé∞Ëøô‰∏§‰∏™ÂèØÂèòÁª¥Â∫¶ÁöÑËÄ¶ÂêàÂ∫¶„ÄÇ ‰ºòÁÇπÔºö ÊäΩË±°‰∏éÂÆûÁé∞ÂàÜÁ¶ªÔºåÊâ©Â±ïËÉΩÂäõÂº∫ Á¨¶ÂêàÂºÄÈó≠ÂéüÂàô Á¨¶ÂêàÂêàÊàêÂ§çÁî®ÂéüÂàô ÂÖ∂ÂÆûÁé∞ÁªÜËäÇÂØπÂÆ¢Êà∑ÈÄèÊòé Áº∫ÁÇπÔºö Áî±‰∫éËÅöÂêàÂÖ≥Á≥ªÂª∫Á´ãÂú®ÊäΩË±°Â±ÇÔºåË¶ÅÊ±ÇÂºÄÂèëËÄÖÈíàÂØπÊäΩË±°ÂåñËøõË°åËÆæËÆ°‰∏éÁºñÁ®ãÔºåËÉΩÊ≠£Á°ÆÂú∞ËØÜÂà´Âá∫Á≥ªÁªü‰∏≠‰∏§‰∏™Áã¨Á´ãÂèòÂåñÁöÑÁª¥Â∫¶ÔºåËøôÂ¢ûÂä†‰∫ÜÁ≥ªÁªüÁöÑÁêÜËß£‰∏éËÆæËÆ°ÈöæÂ∫¶„ÄÇ ËßíËâ≤Ôºö ÊäΩË±°ÂåñÔºàAbstractionÔºâËßíËâ≤ÔºöÂÆö‰πâÊäΩË±°Á±ªÔºåÂπ∂ÂåÖÂê´‰∏Ä‰∏™ÂØπÂÆûÁé∞ÂåñÂØπË±°ÁöÑÂºïÁî®„ÄÇ Êâ©Â±ïÊäΩË±°ÂåñÔºàRefined AbstractionÔºâËßíËâ≤ÔºöÊòØÊäΩË±°ÂåñËßíËâ≤ÁöÑÂ≠êÁ±ªÔºåÂÆûÁé∞Áà∂Á±ª‰∏≠ÁöÑ‰∏öÂä°ÊñπÊ≥ïÔºåÂπ∂ÈÄöËøáÁªÑÂêàÂÖ≥Á≥ªË∞ÉÁî®ÂÆûÁé∞ÂåñËßíËâ≤‰∏≠ÁöÑ‰∏öÂä°ÊñπÊ≥ï„ÄÇ ÂÆûÁé∞ÂåñÔºàImplementorÔºâËßíËâ≤ÔºöÂÆö‰πâÂÆûÁé∞ÂåñËßíËâ≤ÁöÑÊé•Âè£Ôºå‰æõÊâ©Â±ïÊäΩË±°ÂåñËßíËâ≤Ë∞ÉÁî®„ÄÇ ÂÖ∑‰ΩìÂÆûÁé∞ÂåñÔºàConcrete ImplementorÔºâËßíËâ≤ÔºöÁªôÂá∫ÂÆûÁé∞ÂåñËßíËâ≤Êé•Âè£ÁöÑÂÖ∑‰ΩìÂÆûÁé∞„ÄÇ Ê°•Êé•Ê®°ÂºèÁöÑÂ∫îÁî®Âú∫ÊôØÔºö ÂΩì‰∏Ä‰∏™Á±ªÂ≠òÂú®‰∏§‰∏™Áã¨Á´ãÂèòÂåñÁöÑÁª¥Â∫¶Ôºå‰∏îËøô‰∏§‰∏™Áª¥Â∫¶ÈÉΩÈúÄË¶ÅËøõË°åÊâ©Â±ïÊó∂„ÄÇ ÂΩì‰∏Ä‰∏™Á≥ªÁªü‰∏çÂ∏åÊúõ‰ΩøÁî®ÁªßÊâøÊàñÂõ†‰∏∫Â§öÂ±ÇÊ¨°ÁªßÊâøÂØºËá¥Á≥ªÁªüÁ±ªÁöÑ‰∏™Êï∞ÊÄ•ÂâßÂ¢ûÂä†Êó∂„ÄÇ ÂΩì‰∏Ä‰∏™Á≥ªÁªüÈúÄË¶ÅÂú®ÊûÑ‰ª∂ÁöÑÊäΩË±°ÂåñËßíËâ≤ÂíåÂÖ∑‰ΩìÂåñËßíËâ≤‰πãÈó¥Â¢ûÂä†Êõ¥Â§öÁöÑÁÅµÊ¥ªÊÄßÊó∂„ÄÇ JAVAÂÆûÁé∞Ôºö 123456789101112131415161718192021222324252627282930313233343536package bridge;public class BridgeTest { public static void main(String[] args) { Implementor imple = new ConcreteImplementorA(); Abstraction abs = new RefinedAbstraction(imple); abs.Operation(); }}//ÂÆûÁé∞ÂåñËßíËâ≤interface Implementor { public void OperationImpl();}//ÂÖ∑‰ΩìÂÆûÁé∞ÂåñËßíËâ≤class ConcreteImplementorA implements Implementor { public void OperationImpl() { System.out.println(&quot;ÂÖ∑‰ΩìÂÆûÁé∞Âåñ(Concrete Implementor)ËßíËâ≤Ë¢´ËÆøÈóÆ&quot;); }}//ÊäΩË±°ÂåñËßíËâ≤abstract class Abstraction { protected Implementor imple; protected Abstraction(Implementor imple) { this.imple = imple; } public abstract void Operation();}//Êâ©Â±ïÊäΩË±°ÂåñËßíËâ≤class RefinedAbstraction extends Abstraction { protected RefinedAbstraction(Implementor imple) { super(imple); } public void Operation() { System.out.println(&quot;Êâ©Â±ïÊäΩË±°Âåñ(Refined Abstraction)ËßíËâ≤Ë¢´ËÆøÈóÆ&quot;); imple.OperationImpl(); }} „ÄäË£ÖÈ•∞Âô®Ê®°Âºè Decorator Pattern„Äã ÁâπÁÇπÔºö ‰∏çÊîπÂèòÁé∞ÊúâÂØπË±°ÁªìÊûÑÁöÑÊÉÖÂÜµ‰∏ãÔºåÂä®ÊÄÅÂú∞ÁªôËØ•ÂØπË±°Â¢ûÂä†‰∏Ä‰∫õËÅåË¥£ÔºàÂç≥Â¢ûÂä†ÂÖ∂È¢ùÂ§ñÂäüËÉΩÔºâÁöÑÊ®°ÂºèÔºåÂÆÉÂ±û‰∫éÂØπË±°ÁªìÊûÑÂûãÊ®°Âºè„ÄÇ ÁªìÊûÑ‰øÆÈ•∞ ‰ºòÁÇπÔºö Ë£ÖÈ•∞Âô®ÊòØÁªßÊâøÁöÑÊúâÂäõË°•ÂÖÖÔºåÊØîÁªßÊâøÁÅµÊ¥ªÔºåÂú®‰∏çÊîπÂèòÂéüÊúâÂØπË±°ÁöÑÊÉÖÂÜµ‰∏ãÔºåÂä®ÊÄÅÁöÑÁªô‰∏Ä‰∏™ÂØπË±°Êâ©Â±ïÂäüËÉΩÔºåÂç≥ÊèíÂç≥Áî® ÈÄöËøá‰ΩøÁî®‰∏çÁî®Ë£ÖÈ•∞Á±ªÂèäËøô‰∫õË£ÖÈ•∞Á±ªÁöÑÊéíÂàóÁªÑÂêàÔºåÂèØ‰ª•ÂÆûÁé∞‰∏çÂêåÊïàÊûú Ë£ÖÈ•∞Âô®Ê®°ÂºèÂÆåÂÖ®ÈÅµÂÆàÂºÄÈó≠ÂéüÂàô Áº∫ÁÇπÔºö Ë£ÖÈ•∞Âô®Ê®°Âºè‰ºöÂ¢ûÂä†ËÆ∏Â§öÂ≠êÁ±ªÔºåËøáÂ∫¶‰ΩøÁî®‰ºöÂ¢ûÂä†Á®ãÂ∫èÂæóÂ§çÊùÇÊÄß ËßíËâ≤Ôºö ÊäΩË±°ÊûÑ‰ª∂ÔºàComponentÔºâËßíËâ≤ÔºöÂÆö‰πâ‰∏Ä‰∏™ÊäΩË±°Êé•Âè£‰ª•ËßÑËåÉÂáÜÂ§áÊé•Êî∂ÈôÑÂä†Ë¥£‰ªªÁöÑÂØπË±°„ÄÇ ÂÖ∑‰ΩìÊûÑ‰ª∂ÔºàConcreteComponentÔºâËßíËâ≤ÔºöÂÆûÁé∞ÊäΩË±°ÊûÑ‰ª∂ÔºåÈÄöËøáË£ÖÈ•∞ËßíËâ≤‰∏∫ÂÖ∂Ê∑ªÂä†‰∏Ä‰∫õËÅåË¥£„ÄÇ ÊäΩË±°Ë£ÖÈ•∞ÔºàDecoratorÔºâËßíËâ≤ÔºöÁªßÊâøÊäΩË±°ÊûÑ‰ª∂ÔºåÂπ∂ÂåÖÂê´ÂÖ∑‰ΩìÊûÑ‰ª∂ÁöÑÂÆû‰æãÔºåÂèØ‰ª•ÈÄöËøáÂÖ∂Â≠êÁ±ªÊâ©Â±ïÂÖ∑‰ΩìÊûÑ‰ª∂ÁöÑÂäüËÉΩ„ÄÇ ÂÖ∑‰ΩìË£ÖÈ•∞ÔºàConcreteDecoratorÔºâËßíËâ≤ÔºöÂÆûÁé∞ÊäΩË±°Ë£ÖÈ•∞ÁöÑÁõ∏ÂÖ≥ÊñπÊ≥ïÔºåÂπ∂ÁªôÂÖ∑‰ΩìÊûÑ‰ª∂ÂØπË±°Ê∑ªÂä†ÈôÑÂä†ÁöÑË¥£‰ªª„ÄÇ Ë£ÖÈ•∞ËÄÖÊ®°ÂºèÁöÑÂ∫îÁî®Âú∫ÊôØÔºö ÂΩìÈúÄË¶ÅÁªô‰∏Ä‰∏™Áé∞ÊúâÁ±ªÊ∑ªÂä†ÈôÑÂä†ËÅåË¥£ÔºåËÄåÂèà‰∏çËÉΩÈááÁî®ÁîüÊàêÂ≠êÁ±ªÁöÑÊñπÊ≥ïËøõË°åÊâ©ÂÖÖÊó∂„ÄÇ‰æãÂ¶ÇÔºåËØ•Á±ªË¢´ÈöêËóèÊàñËÄÖËØ•Á±ªÊòØÁªàÊûÅÁ±ªÊàñËÄÖÈááÁî®ÁªßÊâøÊñπÂºè‰ºö‰∫ßÁîüÂ§ßÈáèÁöÑÂ≠êÁ±ª„ÄÇ ÂΩìÈúÄË¶ÅÈÄöËøáÂØπÁé∞ÊúâÁöÑ‰∏ÄÁªÑÂü∫Êú¨ÂäüËÉΩËøõË°åÊéíÂàóÁªÑÂêàËÄå‰∫ßÁîüÈùûÂ∏∏Â§öÁöÑÂäüËÉΩÊó∂ÔºåÈááÁî®ÁªßÊâøÂÖ≥Á≥ªÂæàÈöæÂÆûÁé∞ÔºåËÄåÈááÁî®Ë£ÖÈ•∞Âô®Ê®°ÂºèÂç¥ÂæàÂ•ΩÂÆûÁé∞„ÄÇ ÂΩìÂØπË±°ÁöÑÂäüËÉΩË¶ÅÊ±ÇÂèØ‰ª•Âä®ÊÄÅÂú∞Ê∑ªÂä†Ôºå‰πüÂèØ‰ª•ÂÜçÂä®ÊÄÅÂú∞Êí§ÈîÄÊó∂„ÄÇ JAVAÂÆûÁé∞Ôºö 12345678910111213141516171819202122232425262728293031323334353637383940414243444546package decorator;public class DecoratorPattern { public static void main(String[] args) { Component p = new ConcreteComponent(); p.operation(); System.out.println(&quot;---------------------------------&quot;); Component d = new ConcreteDecorator(p); d.operation(); }}//ÊäΩË±°ÊûÑ‰ª∂ËßíËâ≤interface Component { public void operation();}//ÂÖ∑‰ΩìÊûÑ‰ª∂ËßíËâ≤class ConcreteComponent implements Component { public ConcreteComponent() { System.out.println(&quot;ÂàõÂª∫ÂÖ∑‰ΩìÊûÑ‰ª∂ËßíËâ≤&quot;); } public void operation() { System.out.println(&quot;Ë∞ÉÁî®ÂÖ∑‰ΩìÊûÑ‰ª∂ËßíËâ≤ÁöÑÊñπÊ≥ïoperation()&quot;); }}//ÊäΩË±°Ë£ÖÈ•∞ËßíËâ≤class Decorator implements Component { private Component component; public Decorator(Component component) { this.component = component; } public void operation() { component.operation(); }}//ÂÖ∑‰ΩìË£ÖÈ•∞ËßíËâ≤class ConcreteDecorator extends Decorator { public ConcreteDecorator(Component component) { super(component); } public void operation() { super.operation(); addedFunction(); } public void addedFunction() { System.out.println(&quot;‰∏∫ÂÖ∑‰ΩìÊûÑ‰ª∂ËßíËâ≤Â¢ûÂä†È¢ùÂ§ñÁöÑÂäüËÉΩaddedFunction()&quot;); }} „ÄäÂ§ñËßÇÊ®°Âºè Facade Pattern„Äã ÁâπÁÇπÔºö Èó®Èù¢Ê®°ÂºèÔºåÊòØ‰∏ÄÁßçÈÄöËøá‰∏∫Â§ö‰∏™Â§çÊùÇÁöÑÂ≠êÁ≥ªÁªüÊèê‰æõ‰∏Ä‰∏™‰∏ÄËá¥ÁöÑÊé•Âè£ÔºåËÄå‰ΩøËøô‰∫õÂ≠êÁ≥ªÁªüÊõ¥Âä†ÂÆπÊòìË¢´ËÆøÈóÆÁöÑÊ®°Âºè„ÄÇËØ•Ê®°ÂºèÂØπÂ§ñÊúâ‰∏Ä‰∏™Áªü‰∏ÄÊé•Âè£ÔºåÂ§ñÈÉ®Â∫îÁî®Á®ãÂ∫è‰∏çÁî®ÂÖ≥ÂøÉÂÜÖÈÉ®Â≠êÁ≥ªÁªüÁöÑÂÖ∑‰ΩìÁªÜËäÇÔºåËøôÊ†∑‰ºöÂ§ßÂ§ßÈôç‰ΩéÂ∫îÁî®Á®ãÂ∫èÁöÑÂ§çÊùÇÂ∫¶ÔºåÊèêÈ´ò‰∫ÜÁ®ãÂ∫èÁöÑÂèØÁª¥Êä§ÊÄß„ÄÇ ÁªìÊûÑ‰øÆÈ•∞ ‰ºòÁÇπÔºö Èôç‰Ωé‰∫ÜÂ≠êÁ≥ªÁªü‰∏éÂÆ¢Êà∑Á´Ø‰πãÈó¥ÁöÑËÄ¶ÂêàÂ∫¶Ôºå‰ΩøÂæóÂ≠êÁ≥ªÁªüÁöÑÂèòÂåñ‰∏ç‰ºöÂΩ±ÂìçË∞ÉÁî®ÂÆÉÁöÑÂÆ¢Êà∑Á±ª„ÄÇ ÂØπÂÆ¢Êà∑Â±èËîΩ‰∫ÜÂ≠êÁ≥ªÁªüÁªÑ‰ª∂ÔºåÂáèÂ∞ë‰∫ÜÂÆ¢Êà∑Â§ÑÁêÜÁöÑÂØπË±°Êï∞ÁõÆÔºåÂπ∂‰ΩøÂæóÂ≠êÁ≥ªÁªü‰ΩøÁî®Ëµ∑Êù•Êõ¥Âä†ÂÆπÊòì„ÄÇ Èôç‰Ωé‰∫ÜÂ§ßÂûãËΩØ‰ª∂Á≥ªÁªü‰∏≠ÁöÑÁºñËØë‰æùËµñÊÄßÔºåÁÆÄÂåñ‰∫ÜÁ≥ªÁªüÂú®‰∏çÂêåÂπ≥Âè∞‰πãÈó¥ÁöÑÁßªÊ§çËøáÁ®ãÔºåÂõ†‰∏∫ÁºñËØë‰∏Ä‰∏™Â≠êÁ≥ªÁªü‰∏ç‰ºöÂΩ±ÂìçÂÖ∂‰ªñÁöÑÂ≠êÁ≥ªÁªüÔºå‰πü‰∏ç‰ºöÂΩ±ÂìçÂ§ñËßÇÂØπË±°„ÄÇ Áº∫ÁÇπÔºö ‰∏çËÉΩÂæàÂ•ΩÂú∞ÈôêÂà∂ÂÆ¢Êà∑‰ΩøÁî®Â≠êÁ≥ªÁªüÁ±ªÔºåÂæàÂÆπÊòìÂ∏¶Êù•Êú™Áü•È£éÈô©„ÄÇ Â¢ûÂä†Êñ∞ÁöÑÂ≠êÁ≥ªÁªüÂèØËÉΩÈúÄË¶Å‰øÆÊîπÂ§ñËßÇÁ±ªÊàñÂÆ¢Êà∑Á´ØÁöÑÊ∫ê‰ª£Á†ÅÔºåËøùËÉå‰∫Ü‚ÄúÂºÄÈó≠ÂéüÂàô‚Äù ËßíËâ≤Ôºö Â§ñËßÇÔºàFacadeÔºâËßíËâ≤Ôºö‰∏∫Â§ö‰∏™Â≠êÁ≥ªÁªüÂØπÂ§ñÊèê‰æõ‰∏Ä‰∏™ÂÖ±ÂêåÁöÑÊé•Âè£„ÄÇ Â≠êÁ≥ªÁªüÔºàSub SystemÔºâËßíËâ≤ÔºöÂÆûÁé∞Á≥ªÁªüÁöÑÈÉ®ÂàÜÂäüËÉΩÔºåÂÆ¢Êà∑ÂèØ‰ª•ÈÄöËøáÂ§ñËßÇËßíËâ≤ËÆøÈóÆÂÆÉ„ÄÇ ÂÆ¢Êà∑ÔºàClientÔºâËßíËâ≤ÔºöÈÄöËøá‰∏Ä‰∏™Â§ñËßÇËßíËâ≤ËÆøÈóÆÂêÑ‰∏™Â≠êÁ≥ªÁªüÁöÑÂäüËÉΩ„ÄÇ Â§ñËßÇ Ê®°ÂºèÁöÑÂ∫îÁî®Âú∫ÊôØÔºö ÂØπÂàÜÂ±ÇÁªìÊûÑÁ≥ªÁªüÊûÑÂª∫Êó∂Ôºå‰ΩøÁî®Â§ñËßÇÊ®°ÂºèÂÆö‰πâÂ≠êÁ≥ªÁªü‰∏≠ÊØèÂ±ÇÁöÑÂÖ•Âè£ÁÇπÂèØ‰ª•ÁÆÄÂåñÂ≠êÁ≥ªÁªü‰πãÈó¥ÁöÑ‰æùËµñÂÖ≥Á≥ª„ÄÇ ÂΩì‰∏Ä‰∏™Â§çÊùÇÁ≥ªÁªüÁöÑÂ≠êÁ≥ªÁªüÂæàÂ§öÊó∂ÔºåÂ§ñËßÇÊ®°ÂºèÂèØ‰ª•‰∏∫Á≥ªÁªüËÆæËÆ°‰∏Ä‰∏™ÁÆÄÂçïÁöÑÊé•Âè£‰æõÂ§ñÁïåËÆøÈóÆ„ÄÇ ÂΩìÂÆ¢Êà∑Á´Ø‰∏éÂ§ö‰∏™Â≠êÁ≥ªÁªü‰πãÈó¥Â≠òÂú®ÂæàÂ§ßÁöÑËÅîÁ≥ªÊó∂ÔºåÂºïÂÖ•Â§ñËßÇÊ®°ÂºèÂèØÂ∞ÜÂÆÉ‰ª¨ÂàÜÁ¶ªÔºå‰ªéËÄåÊèêÈ´òÂ≠êÁ≥ªÁªüÁöÑÁã¨Á´ãÊÄßÂíåÂèØÁßªÊ§çÊÄß„ÄÇ JAVAÂÆûÁé∞Ôºö 1234567891011121314151617181920212223242526272829303132333435public class FacadePattern { public static void main(String[] args) { Facade f = new Facade(); f.method(); }}//Â§ñËßÇËßíËâ≤class Facade { private SubSystem01 obj1 = new SubSystem01(); private SubSystem02 obj2 = new SubSystem02(); private SubSystem03 obj3 = new SubSystem03(); public void method() { obj1.method1(); obj2.method2(); obj3.method3(); }}//Â≠êÁ≥ªÁªüËßíËâ≤class SubSystem01 { public void method1() { System.out.println(&quot;Â≠êÁ≥ªÁªü01ÁöÑmethod1()Ë¢´Ë∞ÉÁî®ÔºÅ&quot;); }}//Â≠êÁ≥ªÁªüËßíËâ≤class SubSystem02 { public void method2() { System.out.println(&quot;Â≠êÁ≥ªÁªü02ÁöÑmethod2()Ë¢´Ë∞ÉÁî®ÔºÅ&quot;); }}//Â≠êÁ≥ªÁªüËßíËâ≤class SubSystem03 { public void method3() { System.out.println(&quot;Â≠êÁ≥ªÁªü03ÁöÑmethod3()Ë¢´Ë∞ÉÁî®ÔºÅ&quot;); }} „Ää‰∫´ÂÖÉÊ®°Âºè Flyweight Pattern„Äã ÁâπÁÇπÔºö ËøêÁî®ÂÖ±‰∫´ÊäÄÊúØÊù•ÊúâÊïàÂú∞ÊîØÊåÅÂ§ßÈáèÁªÜÁ≤íÂ∫¶ÂØπË±°ÁöÑÂ§çÁî®„ÄÇÂÆÉÈÄöËøáÂÖ±‰∫´Â∑≤ÁªèÂ≠òÂú®ÁöÑÂØπË±°Êù•Â§ßÂπÖÂ∫¶ÂáèÂ∞ëÈúÄË¶ÅÂàõÂª∫ÁöÑÂØπË±°Êï∞Èáè„ÄÅÈÅøÂÖçÂ§ßÈáèÁõ∏‰ººÁ±ªÁöÑÂºÄÈîÄÔºå‰ªéËÄåÊèêÈ´òÁ≥ªÁªüËµÑÊ∫êÁöÑÂà©Áî®Áéá„ÄÇ ‰ºòÁÇπÔºö Áõ∏ÂêåÂØπË±°Âè™Ë¶Å‰øùÂ≠ò‰∏Ä‰ªΩÔºåËøôÈôç‰Ωé‰∫ÜÁ≥ªÁªü‰∏≠ÂØπË±°ÁöÑÊï∞ÈáèÔºå‰ªéËÄåÈôç‰Ωé‰∫ÜÁ≥ªÁªü‰∏≠ÁªÜÁ≤íÂ∫¶ÂØπË±°ÁªôÂÜÖÂ≠òÂ∏¶Êù•ÁöÑÂéãÂäõ„ÄÇ Áº∫ÁÇπÔºö ‰∏∫‰∫Ü‰ΩøÂØπË±°ÂèØ‰ª•ÂÖ±‰∫´ÔºåÈúÄË¶ÅÂ∞Ü‰∏Ä‰∫õ‰∏çËÉΩÂÖ±‰∫´ÁöÑÁä∂ÊÄÅÂ§ñÈÉ®ÂåñÔºåËøôÂ∞ÜÂ¢ûÂä†Á®ãÂ∫èÁöÑÂ§çÊùÇÊÄß„ÄÇ ËØªÂèñ‰∫´ÂÖÉÊ®°ÂºèÁöÑÂ§ñÈÉ®Áä∂ÊÄÅ‰ºö‰ΩøÂæóËøêË°åÊó∂Èó¥Á®çÂæÆÂèòÈïø„ÄÇ ËßíËâ≤Ôºö ‚Äã ‰∫´ÂÖÉÊ®°ÂºèÁöÑÂÆö‰πâÊèêÂá∫‰∫Ü‰∏§‰∏™Ë¶ÅÊ±ÇÔºåÁªÜÁ≤íÂ∫¶ÂíåÂÖ±‰∫´ÂØπË±°„ÄÇÂõ†‰∏∫Ë¶ÅÊ±ÇÁªÜÁ≤íÂ∫¶ÔºåÊâÄ‰ª•‰∏çÂèØÈÅøÂÖçÂú∞‰ºö‰ΩøÂØπË±°Êï∞ÈáèÂ§ö‰∏îÊÄßË¥®Áõ∏ËøëÔºåÊ≠§Êó∂Êàë‰ª¨Â∞±Â∞ÜËøô‰∫õÂØπË±°ÁöÑ‰ø°ÊÅØÂàÜ‰∏∫‰∏§‰∏™ÈÉ®ÂàÜÔºöÂÜÖÈÉ®Áä∂ÊÄÅÂíåÂ§ñÈÉ®Áä∂ÊÄÅ„ÄÇ ‚Äã ÂÜÖÈÉ®Áä∂ÊÄÅÊåáÂØπË±°ÂÖ±‰∫´Âá∫Êù•ÁöÑ‰ø°ÊÅØÔºåÂ≠òÂÇ®Âú®‰∫´ÂÖÉ‰ø°ÊÅØÂÜÖÈÉ®ÔºåÂπ∂‰∏î‰∏çÂõûÈöèÁéØÂ¢ÉÁöÑÊîπÂèòËÄåÊîπÂèòÔºõ ‚Äã Â§ñÈÉ®Áä∂ÊÄÅÊåáÂØπË±°Âæó‰ª•‰æùËµñÁöÑ‰∏Ä‰∏™Ê†áËÆ∞ÔºåÈöèÁéØÂ¢ÉÁöÑÊîπÂèòËÄåÊîπÂèòÔºå‰∏çÂèØÂÖ±‰∫´„ÄÇ ÊØîÂ¶ÇÔºåËøûÊé•Ê±†‰∏≠ÁöÑËøûÊé•ÂØπË±°Ôºå‰øùÂ≠òÂú®ËøûÊé•ÂØπË±°‰∏≠ÁöÑÁî®Êà∑Âêç„ÄÅÂØÜÁ†Å„ÄÅËøûÊé•URLÁ≠â‰ø°ÊÅØÔºåÂú®ÂàõÂª∫ÂØπË±°ÁöÑÊó∂ÂÄôÂ∞±ËÆæÁΩÆÂ•Ω‰∫ÜÔºå‰∏ç‰ºöÈöèÁéØÂ¢ÉÁöÑÊîπÂèòËÄåÊîπÂèòÔºåËøô‰∫õ‰∏∫ÂÜÖÈÉ®Áä∂ÊÄÅ„ÄÇËÄåÂΩìÊØè‰∏™ËøûÊé•Ë¶ÅË¢´ÂõûÊî∂Âà©Áî®Êó∂ÔºåÊàë‰ª¨ÈúÄË¶ÅÂ∞ÜÂÆÉÊ†áËÆ∞‰∏∫ÂèØÁî®Áä∂ÊÄÅÔºåËøô‰∫õ‰∏∫Â§ñÈÉ®Áä∂ÊÄÅ„ÄÇ‰∫´ÂÖÉÊ®°ÂºèÁöÑÊú¨Ë¥®ÊòØÁºìÂ≠òÂÖ±‰∫´ÂØπË±°ÔºåÈôç‰ΩéÂÜÖÂ≠òÊ∂àËÄó„ÄÇ ÊäΩË±°‰∫´ÂÖÉËßíËâ≤ÔºàFlyweightÔºâÔºöÊòØÊâÄÊúâÁöÑÂÖ∑‰Ωì‰∫´ÂÖÉÁ±ªÁöÑÂü∫Á±ªÔºå‰∏∫ÂÖ∑‰Ωì‰∫´ÂÖÉËßÑËåÉÈúÄË¶ÅÂÆûÁé∞ÁöÑÂÖ¨ÂÖ±Êé•Âè£ÔºåÈùû‰∫´ÂÖÉÁöÑÂ§ñÈÉ®Áä∂ÊÄÅ‰ª•ÂèÇÊï∞ÁöÑÂΩ¢ÂºèÈÄöËøáÊñπÊ≥ï‰º†ÂÖ•„ÄÇ ÂÖ∑‰Ωì‰∫´ÂÖÉÔºàConcrete FlyweightÔºâËßíËâ≤ÔºöÂÆûÁé∞ÊäΩË±°‰∫´ÂÖÉËßíËâ≤‰∏≠ÊâÄËßÑÂÆöÁöÑÊé•Âè£„ÄÇ Èùû‰∫´ÂÖÉÔºàUnsharable Flyweight)ËßíËâ≤ÔºöÊòØ‰∏çÂèØ‰ª•ÂÖ±‰∫´ÁöÑÂ§ñÈÉ®Áä∂ÊÄÅÔºåÂÆÉ‰ª•ÂèÇÊï∞ÁöÑÂΩ¢ÂºèÊ≥®ÂÖ•ÂÖ∑‰Ωì‰∫´ÂÖÉÁöÑÁõ∏ÂÖ≥ÊñπÊ≥ï‰∏≠„ÄÇ ‰∫´ÂÖÉÂ∑•ÂéÇÔºàFlyweight FactoryÔºâËßíËâ≤ÔºöË¥üË¥£ÂàõÂª∫ÂíåÁÆ°ÁêÜ‰∫´ÂÖÉËßíËâ≤„ÄÇÂΩìÂÆ¢Êà∑ÂØπË±°ËØ∑Ê±Ç‰∏Ä‰∏™‰∫´ÂÖÉÂØπË±°Êó∂Ôºå‰∫´ÂÖÉÂ∑•ÂéÇÊ£ÄÊüªÁ≥ªÁªü‰∏≠ÊòØÂê¶Â≠òÂú®Á¨¶ÂêàË¶ÅÊ±ÇÁöÑ‰∫´ÂÖÉÂØπË±°ÔºåÂ¶ÇÊûúÂ≠òÂú®ÂàôÊèê‰æõÁªôÂÆ¢Êà∑ÔºõÂ¶ÇÊûú‰∏çÂ≠òÂú®ÁöÑËØùÔºåÂàôÂàõÂª∫‰∏Ä‰∏™Êñ∞ÁöÑ‰∫´ÂÖÉÂØπË±°„ÄÇ ‰∫´ÂÖÉÊ®°ÂºèÁöÑÂ∫îÁî®Âú∫ÊôØÔºö Á≥ªÁªü‰∏≠Â≠òÂú®Â§ßÈáèÁõ∏ÂêåÊàñÁõ∏‰ººÁöÑÂØπË±°ÔºåËøô‰∫õÂØπË±°ËÄóË¥πÂ§ßÈáèÁöÑÂÜÖÂ≠òËµÑÊ∫ê„ÄÇ Â§ßÈÉ®ÂàÜÁöÑÂØπË±°ÂèØ‰ª•ÊåâÁÖßÂÜÖÈÉ®Áä∂ÊÄÅËøõË°åÂàÜÁªÑÔºå‰∏îÂèØÂ∞Ü‰∏çÂêåÈÉ®ÂàÜÂ§ñÈÉ®ÂåñÔºåËøôÊ†∑ÊØè‰∏Ä‰∏™ÁªÑÂè™ÈúÄ‰øùÂ≠ò‰∏Ä‰∏™ÂÜÖÈÉ®Áä∂ÊÄÅ„ÄÇ Áî±‰∫é‰∫´ÂÖÉÊ®°ÂºèÈúÄË¶ÅÈ¢ùÂ§ñÁª¥Êä§‰∏Ä‰∏™‰øùÂ≠ò‰∫´ÂÖÉÁöÑÊï∞ÊçÆÁªìÊûÑÔºåÊâÄ‰ª•Â∫îÂΩìÂú®ÊúâË∂≥Â§üÂ§öÁöÑ‰∫´ÂÖÉÂÆû‰æãÊó∂ÊâçÂÄºÂæó‰ΩøÁî®‰∫´ÂÖÉÊ®°Âºè„ÄÇ JAVAÂÆûÁé∞Ôºö 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758public class FlyweightPattern { public static void main(String[] args) { FlyweightFactory factory = new FlyweightFactory(); Flyweight f01 = factory.getFlyweight(&quot;a&quot;); Flyweight f02 = factory.getFlyweight(&quot;a&quot;); Flyweight f03 = factory.getFlyweight(&quot;a&quot;); Flyweight f11 = factory.getFlyweight(&quot;b&quot;); Flyweight f12 = factory.getFlyweight(&quot;b&quot;); f01.operation(new UnsharedConcreteFlyweight(&quot;Á¨¨1Ê¨°Ë∞ÉÁî®a„ÄÇ&quot;)); f02.operation(new UnsharedConcreteFlyweight(&quot;Á¨¨2Ê¨°Ë∞ÉÁî®a„ÄÇ&quot;)); f03.operation(new UnsharedConcreteFlyweight(&quot;Á¨¨3Ê¨°Ë∞ÉÁî®a„ÄÇ&quot;)); f11.operation(new UnsharedConcreteFlyweight(&quot;Á¨¨1Ê¨°Ë∞ÉÁî®b„ÄÇ&quot;)); f12.operation(new UnsharedConcreteFlyweight(&quot;Á¨¨2Ê¨°Ë∞ÉÁî®b„ÄÇ&quot;)); }}//Èùû‰∫´ÂÖÉËßíËâ≤class UnsharedConcreteFlyweight { private String info; UnsharedConcreteFlyweight(String info) { this.info = info; } public String getInfo() { return info; } public void setInfo(String info) { this.info = info; }}//ÊäΩË±°‰∫´ÂÖÉËßíËâ≤interface Flyweight { public void operation(UnsharedConcreteFlyweight state);}//ÂÖ∑‰Ωì‰∫´ÂÖÉËßíËâ≤class ConcreteFlyweight implements Flyweight { private String key; ConcreteFlyweight(String key) { this.key = key; System.out.println(&quot;ÂÖ∑‰Ωì‰∫´ÂÖÉ&quot; + key + &quot;Ë¢´ÂàõÂª∫ÔºÅ&quot;); } public void operation(UnsharedConcreteFlyweight outState) { System.out.print(&quot;ÂÖ∑‰Ωì‰∫´ÂÖÉ&quot; + key + &quot;Ë¢´Ë∞ÉÁî®Ôºå&quot;); System.out.println(&quot;Èùû‰∫´ÂÖÉ‰ø°ÊÅØÊòØ:&quot; + outState.getInfo()); }}//‰∫´ÂÖÉÂ∑•ÂéÇËßíËâ≤class FlyweightFactory { private HashMap&lt;String, Flyweight&gt; flyweights = new HashMap&lt;String, Flyweight&gt;(); public Flyweight getFlyweight(String key) { Flyweight flyweight = (Flyweight) flyweights.get(key); if (flyweight != null) { System.out.println(&quot;ÂÖ∑‰Ωì‰∫´ÂÖÉ&quot; + key + &quot;Â∑≤ÁªèÂ≠òÂú®ÔºåË¢´ÊàêÂäüËé∑ÂèñÔºÅ&quot;); } else { flyweight = new ConcreteFlyweight(key); flyweights.put(key, flyweight); } return flyweight; }} 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106import javax.swing.*;import java.awt.*;import java.awt.event.MouseAdapter;import java.awt.event.MouseEvent;import java.util.ArrayList;public class WzqGame { public static void main(String[] args) { new Chessboard(); }}//Ê£ãÁõòclass Chessboard extends MouseAdapter { WeiqiFactory wf; JFrame f; Graphics g; JRadioButton wz; JRadioButton bz; private final int x = 50; private final int y = 50; private final int w = 40; //Â∞èÊñπÊ†ºÂÆΩÂ∫¶ÂíåÈ´òÂ∫¶ private final int rw = 400; //Ê£ãÁõòÂÆΩÂ∫¶ÂíåÈ´òÂ∫¶ Chessboard() { wf = new WeiqiFactory(); f = new JFrame(&quot;‰∫´ÂÖÉÊ®°ÂºèÂú®‰∫îÂ≠êÊ£ãÊ∏∏Êàè‰∏≠ÁöÑÂ∫îÁî®&quot;); f.setBounds(100, 100, 500, 550); f.setVisible(true); f.setResizable(false); f.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE); JPanel SouthJP = new JPanel(); f.add(&quot;South&quot;, SouthJP); wz = new JRadioButton(&quot;ÁôΩÂ≠ê&quot;); bz = new JRadioButton(&quot;ÈªëÂ≠ê&quot;, true); ButtonGroup group = new ButtonGroup(); group.add(wz); group.add(bz); SouthJP.add(wz); SouthJP.add(bz); JPanel CenterJP = new JPanel(); CenterJP.setLayout(null); CenterJP.setSize(500, 500); CenterJP.addMouseListener(this); f.add(&quot;Center&quot;, CenterJP); try { Thread.sleep(500); } catch (InterruptedException e) { e.printStackTrace(); } g = CenterJP.getGraphics(); g.setColor(Color.BLUE); g.drawRect(x, y, rw, rw); for (int i = 1; i &lt; 10; i++) { //ÁªòÂà∂Á¨¨iÊù°Á´ñÁõ¥Á∫ø g.drawLine(x + (i * w), y, x + (i * w), y + rw); //ÁªòÂà∂Á¨¨iÊù°Ê∞¥Âπ≥Á∫ø g.drawLine(x, y + (i * w), x + rw, y + (i * w)); } } public void mouseClicked(MouseEvent e) { Point pt = new Point(e.getX() - 15, e.getY() - 15); if (wz.isSelected()) { ChessPieces c1 = wf.getChessPieces(&quot;w&quot;); c1.DownPieces(g, pt); } else if (bz.isSelected()) { ChessPieces c2 = wf.getChessPieces(&quot;b&quot;); c2.DownPieces(g, pt); } }}//ÊäΩË±°‰∫´ÂÖÉËßíËâ≤ÔºöÊ£ãÂ≠êinterface ChessPieces { public void DownPieces(Graphics g, Point pt); //‰∏ãÂ≠ê}//ÂÖ∑‰Ωì‰∫´ÂÖÉËßíËâ≤ÔºöÁôΩÂ≠êclass WhitePieces implements ChessPieces { public void DownPieces(Graphics g, Point pt) { g.setColor(Color.WHITE); g.fillOval(pt.x, pt.y, 30, 30); }}//ÂÖ∑‰Ωì‰∫´ÂÖÉËßíËâ≤ÔºöÈªëÂ≠êclass BlackPieces implements ChessPieces { public void DownPieces(Graphics g, Point pt) { g.setColor(Color.BLACK); g.fillOval(pt.x, pt.y, 30, 30); }}//‰∫´ÂÖÉÂ∑•ÂéÇËßíËâ≤class WeiqiFactory { private ArrayList&lt;ChessPieces&gt; qz; public WeiqiFactory() { qz = new ArrayList&lt;ChessPieces&gt;(); ChessPieces w = new WhitePieces(); qz.add(w); ChessPieces b = new BlackPieces(); qz.add(b); } public ChessPieces getChessPieces(String type) { if (type.equalsIgnoreCase(&quot;w&quot;)) { return (ChessPieces) qz.get(0); } else if (type.equalsIgnoreCase(&quot;b&quot;)) { return (ChessPieces) qz.get(1); } else { return null; } }} „ÄäÁªÑÂêàÊ®°Âºè Composite Pattern„Äã ÁâπÁÇπÔºö Â∞ÜÂØπË±°ÁªÑÂêàÊàêÊ†ëÁä∂ÁöÑÂ±ÇÊ¨°ÁªìÊûÑÁöÑÊ®°ÂºèÔºåÁî®Êù•Ë°®Á§∫‚ÄúÊï¥‰Ωì-ÈÉ®ÂàÜ‚ÄùÁöÑÂÖ≥Á≥ªÔºå‰ΩøÁî®Êà∑ÂØπÂçï‰∏™ÂØπË±°ÂíåÁªÑÂêàÂØπË±°ÂÖ∑Êúâ‰∏ÄËá¥ÁöÑËÆøÈóÆÊÄß ÈÉ®ÂàÜ-Êï¥‰Ωì ‰ºòÁÇπÔºö ÁªÑÂêàÊ®°Âºè‰ΩøÂæóÂÆ¢Êà∑Á´Ø‰ª£Á†ÅÂèØ‰ª•‰∏ÄËá¥Âú∞Â§ÑÁêÜÂçï‰∏™ÂØπË±°ÂíåÁªÑÂêàÂØπË±°ÔºåÊó†È°ªÂÖ≥ÂøÉËá™Â∑±Â§ÑÁêÜÁöÑÊòØÂçï‰∏™ÂØπË±°ÔºåËøòÊòØÁªÑÂêàÂØπË±°ÔºåËøôÁÆÄÂåñ‰∫ÜÂÆ¢Êà∑Á´Ø‰ª£Á†ÅÔºõ Êõ¥ÂÆπÊòìÂú®ÁªÑÂêà‰ΩìÂÜÖÂä†ÂÖ•Êñ∞ÁöÑÂØπË±°ÔºåÂÆ¢Êà∑Á´Ø‰∏ç‰ºöÂõ†‰∏∫Âä†ÂÖ•‰∫ÜÊñ∞ÁöÑÂØπË±°ËÄåÊõ¥ÊîπÊ∫ê‰ª£Á†ÅÔºåÊª°Ë∂≥‚ÄúÂºÄÈó≠ÂéüÂàô‚ÄùÔºõ Áº∫ÁÇπÔºö ËÆæËÆ°ËæÉÂ§çÊùÇÔºåÂÆ¢Êà∑Á´ØÈúÄË¶ÅËä±Êõ¥Â§öÊó∂Èó¥ÁêÜÊ∏ÖÁ±ª‰πãÈó¥ÁöÑÂ±ÇÊ¨°ÂÖ≥Á≥ªÔºõ ‰∏çÂÆπÊòìÈôêÂà∂ÂÆπÂô®‰∏≠ÁöÑÊûÑ‰ª∂Ôºõ ‰∏çÂÆπÊòìÁî®ÁªßÊâøÁöÑÊñπÊ≥ïÊù•Â¢ûÂä†ÊûÑ‰ª∂ÁöÑÊñ∞ÂäüËÉΩÔºõ ËßíËâ≤Ôºö ÂàÜÁ±ªÔºö ÈÄèÊòéÊñπÂºè ÂÆâÂÖ®ÊñπÂºè ÊäΩË±°ÊûÑ‰ª∂ÔºàComponentÔºâËßíËâ≤ÔºöÂÆÉÁöÑ‰∏ªË¶Å‰ΩúÁî®ÊòØ‰∏∫Ê†ëÂè∂ÊûÑ‰ª∂ÂíåÊ†ëÊûùÊûÑ‰ª∂Â£∞ÊòéÂÖ¨ÂÖ±Êé•Âè£ÔºåÂπ∂ÂÆûÁé∞ÂÆÉ‰ª¨ÁöÑÈªòËÆ§Ë°å‰∏∫„ÄÇÂú®ÈÄèÊòéÂºèÁöÑÁªÑÂêàÊ®°Âºè‰∏≠ÊäΩË±°ÊûÑ‰ª∂ËøòÂ£∞ÊòéËÆøÈóÆÂíåÁÆ°ÁêÜÂ≠êÁ±ªÁöÑÊé•Âè£ÔºõÂú®ÂÆâÂÖ®ÂºèÁöÑÁªÑÂêàÊ®°Âºè‰∏≠‰∏çÂ£∞ÊòéËÆøÈóÆÂíåÁÆ°ÁêÜÂ≠êÁ±ªÁöÑÊé•Âè£ÔºåÁÆ°ÁêÜÂ∑•‰ΩúÁî±Ê†ëÊûùÊûÑ‰ª∂ÂÆåÊàê„ÄÇÔºàÊÄªÁöÑÊäΩË±°Á±ªÊàñÊé•Âè£ÔºåÂÆö‰πâ‰∏Ä‰∫õÈÄöÁî®ÁöÑÊñπÊ≥ïÔºåÊØîÂ¶ÇÊñ∞Â¢û„ÄÅÂà†Èô§Ôºâ Ê†ëÂè∂ÊûÑ‰ª∂ÔºàLeafÔºâËßíËâ≤ÔºöÊòØÁªÑÂêà‰∏≠ÁöÑÂè∂ËäÇÁÇπÂØπË±°ÔºåÂÆÉÊ≤°ÊúâÂ≠êËäÇÁÇπÔºåÁî®‰∫éÁªßÊâøÊàñÂÆûÁé∞ÊäΩË±°ÊûÑ‰ª∂„ÄÇ Ê†ëÊûùÊûÑ‰ª∂ÔºàCompositeÔºâËßíËâ≤ / ‰∏≠Èó¥ÊûÑ‰ª∂ÔºöÊòØÁªÑÂêà‰∏≠ÁöÑÂàÜÊîØËäÇÁÇπÂØπË±°ÔºåÂÆÉÊúâÂ≠êËäÇÁÇπÔºåÁî®‰∫éÁªßÊâøÂíåÂÆûÁé∞ÊäΩË±°ÊûÑ‰ª∂„ÄÇÂÆÉÁöÑ‰∏ªË¶Å‰ΩúÁî®ÊòØÂ≠òÂÇ®ÂíåÁÆ°ÁêÜÂ≠êÈÉ®‰ª∂ÔºåÈÄöÂ∏∏ÂåÖÂê´ Add()„ÄÅRemove()„ÄÅGetChild() Á≠âÊñπÊ≥ï„ÄÇ ÁªÑÂêàÊ®°ÂºèÁöÑÂ∫îÁî®Âú∫ÊôØÔºö Âú®ÈúÄË¶ÅË°®Á§∫‰∏Ä‰∏™ÂØπË±°Êï¥‰Ωì‰∏éÈÉ®ÂàÜÁöÑÂ±ÇÊ¨°ÁªìÊûÑÁöÑÂú∫Âêà„ÄÇ Ë¶ÅÊ±ÇÂØπÁî®Êà∑ÈöêËóèÁªÑÂêàÂØπË±°‰∏éÂçï‰∏™ÂØπË±°ÁöÑ‰∏çÂêåÔºåÁî®Êà∑ÂèØ‰ª•Áî®Áªü‰∏ÄÁöÑÊé•Âè£‰ΩøÁî®ÁªÑÂêàÁªìÊûÑ‰∏≠ÁöÑÊâÄÊúâÂØπË±°ÁöÑÂú∫Âêà„ÄÇ JAVAÂÆûÁé∞Ôºö ÂÆâÂÖ®ÁªÑÂêà 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960import java.util.ArrayList;public class Safe { public static void main(String[] args) { Composite c0 = new Composite(); Composite c1 = new Composite(); Component leaf1 = new Leaf(&quot;1&quot;); Component leaf2 = new Leaf(&quot;2&quot;); Component leaf3 = new Leaf(&quot;3&quot;); c0.add(leaf1); c0.add(c1); c1.add(leaf2); c1.add(leaf3); c0.operation(); }}//ÊäΩË±°ÊûÑ‰ª∂interface Component {// public void add(Component c);// public void remove(Component c);// public Component getChild(int i); public void operation();}//Ê†ëÂè∂ÊûÑ‰ª∂class Leaf implements Component { private String name; public Leaf(String name) { this.name = name; } public void add(Component c) { } public void remove(Component c) { } public Component getChild(int i) { return null; } @Override public void operation() { System.out.println(&quot;Ê†ëÂè∂&quot; + name + &quot;ÔºöË¢´ËÆøÈóÆÔºÅ&quot;); }}//Ê†ëÊûùÊûÑ‰ª∂class Composite implements Component { private ArrayList&lt;Component&gt; children = new ArrayList&lt;Component&gt;(); public void add(Component c) { children.add(c); } public void remove(Component c) { children.remove(c); } public Component getChild(int i) { return children.get(i); } @Override public void operation() { for (Object obj : children) { ((Component) obj).operation(); } }} ÈÄèÊòéÁªÑÂêà 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566import java.util.ArrayList;public class transparent { public static void main(String[] args) { Component c0 = new Composite(); Component c1 = new Composite(); Component leaf1 = new Leaf(&quot;1&quot;); Component leaf2 = new Leaf(&quot;2&quot;); Component leaf3 = new Leaf(&quot;3&quot;); c0.add(leaf1); c0.add(c1); c1.add(leaf2); c1.add(leaf3); c0.operation(); }}//ÊäΩË±°ÊûÑ‰ª∂interface Component { public void add(Component c); public void remove(Component c); public Component getChild(int i); public void operation();}//Ê†ëÂè∂ÊûÑ‰ª∂class Leaf implements Component { private String name; public Leaf(String name) { this.name = name; } @Override public void add(Component c) { } @Override public void remove(Component c) { } @Override public Component getChild(int i) { return null; } @Override public void operation() { System.out.println(&quot;Ê†ëÂè∂&quot; + name + &quot;ÔºöË¢´ËÆøÈóÆÔºÅ&quot;); }}//Ê†ëÊûùÊûÑ‰ª∂class Composite implements Component { private ArrayList&lt;Component&gt; children = new ArrayList&lt;Component&gt;(); @Override public void add(Component c) { children.add(c); } @Override public void remove(Component c) { children.remove(c); } @Override public Component getChild(int i) { return children.get(i); } @Override public void operation() { for (Object obj : children) { ((Component) obj).operation(); } }} Ë°å‰∏∫ÂûãÊ®°Âºè „Ää**Ê®°ÊùøÊñπÊ≥ïÊ®°Âºè **Template method pattern„Äã ÁâπÁÇπÔºö ÂÆö‰πâ‰∏Ä‰∏™Êìç‰Ωú‰∏≠ÁöÑÁÆóÊ≥ïÈ™®Êû∂ÔºåËÄåÂ∞ÜÁÆóÊ≥ïÁöÑ‰∏Ä‰∫õÊ≠•È™§Âª∂ËøüÂà∞Â≠êÁ±ª‰∏≠Ôºå‰ΩøÂæóÂ≠êÁ±ªÂèØ‰ª•‰∏çÊîπÂèòËØ•ÁÆóÊ≥ïÁªìÊûÑÁöÑÊÉÖÂÜµ‰∏ãÈáçÂÆö‰πâËØ•ÁÆóÊ≥ïÁöÑÊüê‰∫õÁâπÂÆöÊ≠•È™§„ÄÇ ‰ºòÁÇπÔºö ÂÆÉÂ∞ÅË£Ö‰∫Ü‰∏çÂèòÈÉ®ÂàÜÔºåÊâ©Â±ïÂèØÂèòÈÉ®ÂàÜ„ÄÇÂÆÉÊääËÆ§‰∏∫ÊòØ‰∏çÂèòÈÉ®ÂàÜÁöÑÁÆóÊ≥ïÂ∞ÅË£ÖÂà∞Áà∂Á±ª‰∏≠ÂÆûÁé∞ÔºåËÄåÊääÂèØÂèòÈÉ®ÂàÜÁÆóÊ≥ïÁî±Â≠êÁ±ªÁªßÊâøÂÆûÁé∞Ôºå‰æø‰∫éÂ≠êÁ±ªÁªßÁª≠Êâ©Â±ï„ÄÇ ÂÆÉÂú®Áà∂Á±ª‰∏≠ÊèêÂèñ‰∫ÜÂÖ¨ÂÖ±ÁöÑÈÉ®ÂàÜ‰ª£Á†ÅÔºå‰æø‰∫é‰ª£Á†ÅÂ§çÁî®„ÄÇ ÈÉ®ÂàÜÊñπÊ≥ïÊòØÁî±Â≠êÁ±ªÂÆûÁé∞ÁöÑÔºåÂõ†Ê≠§Â≠êÁ±ªÂèØ‰ª•ÈÄöËøáÊâ©Â±ïÊñπÂºèÂ¢ûÂä†Áõ∏Â∫îÁöÑÂäüËÉΩÔºåÁ¨¶ÂêàÂºÄÈó≠ÂéüÂàô„ÄÇ Áº∫ÁÇπÔºö ÂØπÊØè‰∏™‰∏çÂêåÁöÑÂÆûÁé∞ÈÉΩÈúÄË¶ÅÂÆö‰πâ‰∏Ä‰∏™Â≠êÁ±ªÔºåËøô‰ºöÂØºËá¥Á±ªÁöÑ‰∏™Êï∞Â¢ûÂä†ÔºåÁ≥ªÁªüÊõ¥Âä†Â∫ûÂ§ßÔºåËÆæËÆ°‰πüÊõ¥Âä†ÊäΩË±°ÔºåÈó¥Êé•Âú∞Â¢ûÂä†‰∫ÜÁ≥ªÁªüÂÆûÁé∞ÁöÑÂ§çÊùÇÂ∫¶„ÄÇ Áà∂Á±ª‰∏≠ÁöÑÊäΩË±°ÊñπÊ≥ïÁî±Â≠êÁ±ªÂÆûÁé∞ÔºåÂ≠êÁ±ªÊâßË°åÁöÑÁªìÊûú‰ºöÂΩ±ÂìçÁà∂Á±ªÁöÑÁªìÊûúÔºåËøôÂØºËá¥‰∏ÄÁßçÂèçÂêëÁöÑÊéßÂà∂ÁªìÊûÑÔºåÂÆÉÊèêÈ´ò‰∫Ü‰ª£Á†ÅÈòÖËØªÁöÑÈöæÂ∫¶„ÄÇ Áî±‰∫éÁªßÊâøÂÖ≥Á≥ªËá™Ë∫´ÁöÑÁº∫ÁÇπÔºåÂ¶ÇÊûúÁà∂Á±ªÊ∑ªÂä†Êñ∞ÁöÑÊäΩË±°ÊñπÊ≥ïÔºåÂàôÊâÄÊúâÂ≠êÁ±ªÈÉΩË¶ÅÊîπ‰∏ÄÈÅç„ÄÇ ËßíËâ≤Ôºö 1ÔºâÊäΩË±°Á±ª/ÊäΩË±°Ê®°ÊùøÔºàAbstract ClassÔºâ ÊäΩË±°Ê®°ÊùøÁ±ªÔºåË¥üË¥£ÁªôÂá∫‰∏Ä‰∏™ÁÆóÊ≥ïÁöÑËΩÆÂªìÂíåÈ™®Êû∂„ÄÇÂÆÉÁî±‰∏Ä‰∏™Ê®°ÊùøÊñπÊ≥ïÂíåËã•Âπ≤‰∏™Âü∫Êú¨ÊñπÊ≥ïÊûÑÊàê„ÄÇËøô‰∫õÊñπÊ≥ïÁöÑÂÆö‰πâÂ¶Ç‰∏ã„ÄÇ ‚ë† Ê®°ÊùøÊñπÊ≥ïÔºöÂÆö‰πâ‰∫ÜÁÆóÊ≥ïÁöÑÈ™®Êû∂ÔºåÊåâÊüêÁßçÈ°∫Â∫èË∞ÉÁî®ÂÖ∂ÂåÖÂê´ÁöÑÂü∫Êú¨ÊñπÊ≥ï„ÄÇ ‚ë° Âü∫Êú¨ÊñπÊ≥ïÔºöÊòØÊï¥‰∏™ÁÆóÊ≥ï‰∏≠ÁöÑ‰∏Ä‰∏™Ê≠•È™§ÔºåÂåÖÂê´‰ª•‰∏ãÂá†ÁßçÁ±ªÂûã„ÄÇ ÊäΩË±°ÊñπÊ≥ïÔºöÂú®ÊäΩË±°Á±ª‰∏≠Â£∞ÊòéÔºåÁî±ÂÖ∑‰ΩìÂ≠êÁ±ªÂÆûÁé∞„ÄÇ ÂÖ∑‰ΩìÊñπÊ≥ïÔºöÂú®ÊäΩË±°Á±ª‰∏≠Â∑≤ÁªèÂÆûÁé∞ÔºåÂú®ÂÖ∑‰ΩìÂ≠êÁ±ª‰∏≠ÂèØ‰ª•ÁªßÊâøÊàñÈáçÂÜôÂÆÉ„ÄÇ Èí©Â≠êÊñπÊ≥ïÔºöÂú®ÊäΩË±°Á±ª‰∏≠Â∑≤ÁªèÂÆûÁé∞ÔºåÂåÖÊã¨Áî®‰∫éÂà§Êñ≠ÁöÑÈÄªËæëÊñπÊ≥ïÂíåÈúÄË¶ÅÂ≠êÁ±ªÈáçÂÜôÁöÑÁ©∫ÊñπÊ≥ï‰∏§Áßç„ÄÇ 2ÔºâÂÖ∑‰ΩìÂ≠êÁ±ª/ÂÖ∑‰ΩìÂÆûÁé∞ÔºàConcrete ClassÔºâ ÂÖ∑‰ΩìÂÆûÁé∞Á±ªÔºåÂÆûÁé∞ÊäΩË±°Á±ª‰∏≠ÊâÄÂÆö‰πâÁöÑÊäΩË±°ÊñπÊ≥ïÂíåÈí©Â≠êÊñπÊ≥ïÔºåÂÆÉ‰ª¨ÊòØ‰∏Ä‰∏™È°∂Á∫ßÈÄªËæëÁöÑ‰∏Ä‰∏™ÁªÑÊàêÊ≠•È™§„ÄÇ Ê®°ÊùøÊñπÊ≥ïÊ®°ÂºèÁöÑÂ∫îÁî®Âú∫ÊôØÔºö ÁÆóÊ≥ïÁöÑÊï¥‰ΩìÊ≠•È™§ÂæàÂõ∫ÂÆöÔºå‰ΩÜÂÖ∂‰∏≠‰∏™Âà´ÈÉ®ÂàÜÊòìÂèòÊó∂ÔºåËøôÊó∂ÂÄôÂèØ‰ª•‰ΩøÁî®Ê®°ÊùøÊñπÊ≥ïÊ®°ÂºèÔºåÂ∞ÜÂÆπÊòìÂèòÁöÑÈÉ®ÂàÜÊäΩË±°Âá∫Êù•Ôºå‰æõÂ≠êÁ±ªÂÆûÁé∞„ÄÇ ÂΩìÂ§ö‰∏™Â≠êÁ±ªÂ≠òÂú®ÂÖ¨ÂÖ±ÁöÑË°å‰∏∫Êó∂ÔºåÂèØ‰ª•Â∞ÜÂÖ∂ÊèêÂèñÂá∫Êù•Âπ∂ÈõÜ‰∏≠Âà∞‰∏Ä‰∏™ÂÖ¨ÂÖ±Áà∂Á±ª‰∏≠‰ª•ÈÅøÂÖç‰ª£Á†ÅÈáçÂ§ç„ÄÇÈ¶ñÂÖàÔºåË¶ÅËØÜÂà´Áé∞Êúâ‰ª£Á†Å‰∏≠ÁöÑ‰∏çÂêå‰πãÂ§ÑÔºåÂπ∂‰∏îÂ∞Ü‰∏çÂêå‰πãÂ§ÑÂàÜÁ¶ª‰∏∫Êñ∞ÁöÑÊìç‰Ωú„ÄÇÊúÄÂêéÔºåÁî®‰∏Ä‰∏™Ë∞ÉÁî®Ëøô‰∫õÊñ∞ÁöÑÊìç‰ΩúÁöÑÊ®°ÊùøÊñπÊ≥ïÊù•ÊõøÊç¢Ëøô‰∫õ‰∏çÂêåÁöÑ‰ª£Á†Å„ÄÇ ÂΩìÈúÄË¶ÅÊéßÂà∂Â≠êÁ±ªÁöÑÊâ©Â±ïÊó∂ÔºåÊ®°ÊùøÊñπÊ≥ïÂè™Âú®ÁâπÂÆöÁÇπË∞ÉÁî®Èí©Â≠êÊìç‰ΩúÔºåËøôÊ†∑Â∞±Âè™ÂÖÅËÆ∏Âú®Ëøô‰∫õÁÇπËøõË°åÊâ©Â±ï„ÄÇ JAVAÂÆûÁé∞Ôºö 12345678910111213141516171819202122232425262728293031323334public class TemplateMethodPattern { public static void main(String[] args) { AbstractClass tm = new ConcreteClass(); tm.TemplateMethod(); }}//ÊäΩË±°Á±ªabstract class AbstractClass { //Ê®°ÊùøÊñπÊ≥ï public void TemplateMethod() { SpecificMethod(); abstractMethod1(); abstractMethod2(); } //ÂÖ∑‰ΩìÊñπÊ≥ï public void SpecificMethod() { System.out.println(&quot;ÊäΩË±°Á±ª‰∏≠ÁöÑÂÖ∑‰ΩìÊñπÊ≥ïË¢´Ë∞ÉÁî®...&quot;); } //ÊäΩË±°ÊñπÊ≥ï1 public abstract void abstractMethod1(); //ÊäΩË±°ÊñπÊ≥ï2 public abstract void abstractMethod2();}//ÂÖ∑‰ΩìÂ≠êÁ±ªclass ConcreteClass extends AbstractClass { @Override public void abstractMethod1() { System.out.println(&quot;ÊäΩË±°ÊñπÊ≥ï1ÁöÑÂÆûÁé∞Ë¢´Ë∞ÉÁî®...&quot;); } @Override public void abstractMethod2() { System.out.println(&quot;ÊäΩË±°ÊñπÊ≥ï2ÁöÑÂÆûÁé∞Ë¢´Ë∞ÉÁî®...&quot;); }} „Ää**Á≠ñÁï•Ê®°Âºè **Strategy Pattern„Äã ÁâπÁÇπÔºö ËØ•Ê®°ÂºèÂÆö‰πâ‰∫Ü‰∏ÄÁ≥ªÂàóÁÆóÊ≥ïÔºåÂπ∂Â∞ÜÊØè‰∏™ÁÆóÊ≥ïÂ∞ÅË£ÖËµ∑Êù•Ôºå‰ΩøÂÆÉ‰ª¨ÂèØ‰ª•Áõ∏‰∫íÊõøÊç¢Ôºå‰∏îÁÆóÊ≥ïÁöÑÂèòÂåñ‰∏ç‰ºöÂΩ±Âìç‰ΩøÁî®ÁÆóÊ≥ïÁöÑÂÆ¢Êà∑„ÄÇÁ≠ñÁï•Ê®°ÂºèÂ±û‰∫éÂØπË±°Ë°å‰∏∫Ê®°ÂºèÔºåÂÆÉÈÄöËøáÂØπÁÆóÊ≥ïËøõË°åÂ∞ÅË£ÖÔºåÊää‰ΩøÁî®ÁÆóÊ≥ïÁöÑË¥£‰ªªÂíåÁÆóÊ≥ïÁöÑÂÆûÁé∞ÂàÜÂâ≤ÂºÄÊù•ÔºåÂπ∂ÂßîÊ¥æÁªô‰∏çÂêåÁöÑÂØπË±°ÂØπËøô‰∫õÁÆóÊ≥ïËøõË°åÁÆ°ÁêÜ„ÄÇ ‰ºòÁÇπÔºö Â§öÈáçÊù°‰ª∂ËØ≠Âè•‰∏çÊòìÁª¥Êä§ÔºåËÄå‰ΩøÁî®Á≠ñÁï•Ê®°ÂºèÂèØ‰ª•ÈÅøÂÖç‰ΩøÁî®Â§öÈáçÊù°‰ª∂ËØ≠Âè•ÔºåÂ¶Ç if...else ËØ≠Âè•„ÄÅswitch...case ËØ≠Âè•„ÄÇ Á≠ñÁï•Ê®°ÂºèÊèê‰æõ‰∫Ü‰∏ÄÁ≥ªÂàóÁöÑÂèØ‰æõÈáçÁî®ÁöÑÁÆóÊ≥ïÊóèÔºåÊÅ∞ÂΩì‰ΩøÁî®ÁªßÊâøÂèØ‰ª•ÊääÁÆóÊ≥ïÊóèÁöÑÂÖ¨ÂÖ±‰ª£Á†ÅËΩ¨ÁßªÂà∞Áà∂Á±ªÈáåÈù¢Ôºå‰ªéËÄåÈÅøÂÖçÈáçÂ§çÁöÑ‰ª£Á†Å„ÄÇ Á≠ñÁï•Ê®°ÂºèÂèØ‰ª•Êèê‰æõÁõ∏ÂêåË°å‰∏∫ÁöÑ‰∏çÂêåÂÆûÁé∞ÔºåÂÆ¢Êà∑ÂèØ‰ª•Ê†πÊçÆ‰∏çÂêåÊó∂Èó¥ÊàñÁ©∫Èó¥Ë¶ÅÊ±ÇÈÄâÊã©‰∏çÂêåÁöÑ„ÄÇ Á≠ñÁï•Ê®°ÂºèÊèê‰æõ‰∫ÜÂØπÂºÄÈó≠ÂéüÂàôÁöÑÂÆåÁæéÊîØÊåÅÔºåÂèØ‰ª•Âú®‰∏ç‰øÆÊîπÂéü‰ª£Á†ÅÁöÑÊÉÖÂÜµ‰∏ãÔºåÁÅµÊ¥ªÂ¢ûÂä†Êñ∞ÁÆóÊ≥ï„ÄÇ Á≠ñÁï•Ê®°ÂºèÊääÁÆóÊ≥ïÁöÑ‰ΩøÁî®ÊîæÂà∞ÁéØÂ¢ÉÁ±ª‰∏≠ÔºåËÄåÁÆóÊ≥ïÁöÑÂÆûÁé∞ÁßªÂà∞ÂÖ∑‰ΩìÁ≠ñÁï•Á±ª‰∏≠ÔºåÂÆûÁé∞‰∫Ü‰∫åËÄÖÁöÑÂàÜÁ¶ª„ÄÇ Áº∫ÁÇπÔºö ÂÆ¢Êà∑Á´ØÂøÖÈ°ªÁêÜËß£ÊâÄÊúâÁ≠ñÁï•ÁÆóÊ≥ïÁöÑÂå∫Âà´Ôºå‰ª•‰æøÈÄÇÊó∂ÈÄâÊã©ÊÅ∞ÂΩìÁöÑÁÆóÊ≥ïÁ±ª„ÄÇ Á≠ñÁï•Ê®°ÂºèÈÄ†ÊàêÂæàÂ§öÁöÑÁ≠ñÁï•Á±ªÔºåÂ¢ûÂä†Áª¥Êä§ÈöæÂ∫¶„ÄÇ ËßíËâ≤Ôºö ÊäΩË±°Á≠ñÁï•ÔºàStrategyÔºâÁ±ªÔºöÂÆö‰πâ‰∫Ü‰∏Ä‰∏™ÂÖ¨ÂÖ±Êé•Âè£ÔºåÂêÑÁßç‰∏çÂêåÁöÑÁÆóÊ≥ï‰ª•‰∏çÂêåÁöÑÊñπÂºèÂÆûÁé∞Ëøô‰∏™Êé•Âè£ÔºåÁéØÂ¢ÉËßíËâ≤‰ΩøÁî®Ëøô‰∏™Êé•Âè£Ë∞ÉÁî®‰∏çÂêåÁöÑÁÆóÊ≥ïÔºå‰∏ÄËà¨‰ΩøÁî®Êé•Âè£ÊàñÊäΩË±°Á±ªÂÆûÁé∞„ÄÇ ÂÖ∑‰ΩìÁ≠ñÁï•ÔºàConcrete StrategyÔºâÁ±ªÔºöÂÆûÁé∞‰∫ÜÊäΩË±°Á≠ñÁï•ÂÆö‰πâÁöÑÊé•Âè£ÔºåÊèê‰æõÂÖ∑‰ΩìÁöÑÁÆóÊ≥ïÂÆûÁé∞„ÄÇ ÁéØÂ¢ÉÔºàContextÔºâÁ±ªÔºöÊåÅÊúâ‰∏Ä‰∏™Á≠ñÁï•Á±ªÁöÑÂºïÁî®ÔºåÊúÄÁªàÁªôÂÆ¢Êà∑Á´ØË∞ÉÁî®„ÄÇ Á≠ñÁï•Ê®°ÂºèÁöÑÂ∫îÁî®Âú∫ÊôØÔºö ‰∏Ä‰∏™Á≥ªÁªüÈúÄË¶ÅÂä®ÊÄÅÂú∞Âú®Âá†ÁßçÁÆóÊ≥ï‰∏≠ÈÄâÊã©‰∏ÄÁßçÊó∂ÔºåÂèØÂ∞ÜÊØè‰∏™ÁÆóÊ≥ïÂ∞ÅË£ÖÂà∞Á≠ñÁï•Á±ª‰∏≠„ÄÇ ‰∏Ä‰∏™Á±ªÂÆö‰πâ‰∫ÜÂ§öÁßçË°å‰∏∫ÔºåÂπ∂‰∏îËøô‰∫õË°å‰∏∫Âú®Ëøô‰∏™Á±ªÁöÑÊìç‰Ωú‰∏≠‰ª•Â§ö‰∏™Êù°‰ª∂ËØ≠Âè•ÁöÑÂΩ¢ÂºèÂá∫Áé∞ÔºåÂèØÂ∞ÜÊØè‰∏™Êù°‰ª∂ÂàÜÊîØÁßªÂÖ•ÂÆÉ‰ª¨ÂêÑËá™ÁöÑÁ≠ñÁï•Á±ª‰∏≠‰ª•‰ª£ÊõøËøô‰∫õÊù°‰ª∂ËØ≠Âè•„ÄÇ Á≥ªÁªü‰∏≠ÂêÑÁÆóÊ≥ïÂΩºÊ≠§ÂÆåÂÖ®Áã¨Á´ãÔºå‰∏îË¶ÅÊ±ÇÂØπÂÆ¢Êà∑ÈöêËóèÂÖ∑‰ΩìÁÆóÊ≥ïÁöÑÂÆûÁé∞ÁªÜËäÇÊó∂„ÄÇ Á≥ªÁªüË¶ÅÊ±Ç‰ΩøÁî®ÁÆóÊ≥ïÁöÑÂÆ¢Êà∑‰∏çÂ∫îËØ•Áü•ÈÅìÂÖ∂Êìç‰ΩúÁöÑÊï∞ÊçÆÊó∂ÔºåÂèØ‰ΩøÁî®Á≠ñÁï•Ê®°ÂºèÊù•ÈöêËóè‰∏éÁÆóÊ≥ïÁõ∏ÂÖ≥ÁöÑÊï∞ÊçÆÁªìÊûÑ„ÄÇ Â§ö‰∏™Á±ªÂè™Âå∫Âà´Âú®Ë°®Áé∞Ë°å‰∏∫‰∏çÂêåÔºåÂèØ‰ª•‰ΩøÁî®Á≠ñÁï•Ê®°ÂºèÔºåÂú®ËøêË°åÊó∂Âä®ÊÄÅÈÄâÊã©ÂÖ∑‰ΩìË¶ÅÊâßË°åÁöÑË°å‰∏∫„ÄÇ JAVAÂÆûÁé∞Ôºö 1234567891011121314151617181920212223242526272829303132333435363738394041public class StrategyPattern { public static void main(String[] args) { Context c = new Context(); Strategy s = new ConcreteStrategyA(); c.setStrategy(s); c.strategyMethod(); System.out.println(&quot;-----------------&quot;); s = new ConcreteStrategyB(); c.setStrategy(s); c.strategyMethod(); }}//ÊäΩË±°Á≠ñÁï•Á±ªinterface Strategy { public void strategyMethod(); //Á≠ñÁï•ÊñπÊ≥ï}//ÂÖ∑‰ΩìÁ≠ñÁï•Á±ªAclass ConcreteStrategyA implements Strategy { public void strategyMethod() { System.out.println(&quot;ÂÖ∑‰ΩìÁ≠ñÁï•AÁöÑÁ≠ñÁï•ÊñπÊ≥ïË¢´ËÆøÈóÆÔºÅ&quot;); }}//ÂÖ∑‰ΩìÁ≠ñÁï•Á±ªBclass ConcreteStrategyB implements Strategy { public void strategyMethod() { System.out.println(&quot;ÂÖ∑‰ΩìÁ≠ñÁï•BÁöÑÁ≠ñÁï•ÊñπÊ≥ïË¢´ËÆøÈóÆÔºÅ&quot;); }}//ÁéØÂ¢ÉÁ±ªclass Context { private Strategy strategy; public Strategy getStrategy() { return strategy; } public void setStrategy(Strategy strategy) { this.strategy = strategy; } public void strategyMethod() { strategy.strategyMethod(); }} „Ää**ÂëΩ‰ª§Ê®°Âºè **Command Pattern„Äã ÁâπÁÇπÔºö Â∞Ü‰∏Ä‰∏™ËØ∑Ê±ÇÂ∞ÅË£Ö‰∏∫‰∏Ä‰∏™ÂØπË±°Ôºå‰ΩøÂèëÂá∫ËØ∑Ê±ÇÁöÑË¥£‰ªªÂíåÊâßË°åËØ∑Ê±ÇÁöÑË¥£‰ªªÂàÜÂâ≤ÂºÄ„ÄÇËøôÊ†∑‰∏§ËÄÖ‰πãÈó¥ÈÄöËøáÂëΩ‰ª§ÂØπË±°ËøõË°åÊ≤üÈÄöÔºåËøôÊ†∑Êñπ‰æøÂ∞ÜÂëΩ‰ª§ÂØπË±°ËøõË°åÂÇ®Â≠ò„ÄÅ‰º†ÈÄí„ÄÅË∞ÉÁî®„ÄÅÂ¢ûÂä†‰∏éÁÆ°ÁêÜ„ÄÇ ‰ºòÁÇπÔºö ÈÄöËøáÂºïÂÖ•‰∏≠Èó¥‰ª∂ÔºàÊäΩË±°Êé•Âè£ÔºâÈôç‰ΩéÁ≥ªÁªüÁöÑËÄ¶ÂêàÂ∫¶„ÄÇ Êâ©Â±ïÊÄßËâØÂ•ΩÔºåÂ¢ûÂä†ÊàñÂà†Èô§ÂëΩ‰ª§ÈùûÂ∏∏Êñπ‰æø„ÄÇÈááÁî®ÂëΩ‰ª§Ê®°ÂºèÂ¢ûÂä†‰∏éÂà†Èô§ÂëΩ‰ª§‰∏ç‰ºöÂΩ±ÂìçÂÖ∂‰ªñÁ±ªÔºå‰∏îÊª°Ë∂≥‚ÄúÂºÄÈó≠ÂéüÂàô‚Äù„ÄÇ ÂèØ‰ª•ÂÆûÁé∞ÂÆèÂëΩ‰ª§„ÄÇÂëΩ‰ª§Ê®°ÂºèÂèØ‰ª•‰∏éÁªÑÂêàÊ®°ÂºèÁªìÂêàÔºåÂ∞ÜÂ§ö‰∏™ÂëΩ‰ª§Ë£ÖÈÖçÊàê‰∏Ä‰∏™ÁªÑÂêàÂëΩ‰ª§ÔºåÂç≥ÂÆèÂëΩ‰ª§„ÄÇ Êñπ‰æøÂÆûÁé∞ Undo Âíå Redo Êìç‰Ωú„ÄÇÂëΩ‰ª§Ê®°ÂºèÂèØ‰ª•‰∏éÂêéÈù¢‰ªãÁªçÁöÑÂ§áÂøòÂΩïÊ®°ÂºèÁªìÂêàÔºåÂÆûÁé∞ÂëΩ‰ª§ÁöÑÊí§ÈîÄ‰∏éÊÅ¢Â§ç„ÄÇ ÂèØ‰ª•Âú®Áé∞ÊúâÂëΩ‰ª§ÁöÑÂü∫Á°Ä‰∏äÔºåÂ¢ûÂä†È¢ùÂ§ñÂäüËÉΩ„ÄÇÊØîÂ¶ÇÊó•ÂøóËÆ∞ÂΩïÔºåÁªìÂêàË£ÖÈ•∞Âô®Ê®°Âºè‰ºöÊõ¥Âä†ÁÅµÊ¥ª„ÄÇ Áº∫ÁÇπÔºö ÂèØËÉΩ‰∫ßÁîüÂ§ßÈáèÂÖ∑‰ΩìÁöÑÂëΩ‰ª§Á±ª„ÄÇÂõ†‰∏∫ÊØè‰∏Ä‰∏™ÂÖ∑‰ΩìÊìç‰ΩúÈÉΩÈúÄË¶ÅËÆæËÆ°‰∏Ä‰∏™ÂÖ∑‰ΩìÂëΩ‰ª§Á±ªÔºåËøô‰ºöÂ¢ûÂä†Á≥ªÁªüÁöÑÂ§çÊùÇÊÄß„ÄÇ ÂëΩ‰ª§Ê®°ÂºèÁöÑÁªìÊûúÂÖ∂ÂÆûÂ∞±ÊòØÊé•Êî∂ÊñπÁöÑÊâßË°åÁªìÊûúÔºå‰ΩÜÊòØ‰∏∫‰∫Ü‰ª•ÂëΩ‰ª§ÁöÑÂΩ¢ÂºèËøõË°åÊû∂ÊûÑ„ÄÅËß£ËÄ¶ËØ∑Ê±Ç‰∏éÂÆûÁé∞ÔºåÂºïÂÖ•‰∫ÜÈ¢ùÂ§ñÁ±ªÂûãÁªìÊûÑÔºàÂºïÂÖ•‰∫ÜËØ∑Ê±ÇÊñπ‰∏éÊäΩË±°ÂëΩ‰ª§Êé•Âè£ÔºâÔºåÂ¢ûÂä†‰∫ÜÁêÜËß£‰∏äÁöÑÂõ∞Èöæ„ÄÇ‰∏çËøáËøô‰πüÊòØËÆæËÆ°Ê®°ÂºèÁöÑÈÄöÁóÖÔºåÊäΩË±°ÂøÖÁÑ∂‰ºöÈ¢ùÂ§ñÂ¢ûÂä†Á±ªÁöÑÊï∞ÈáèÔºå‰ª£Á†ÅÊäΩÁ¶ªËÇØÂÆöÊØî‰ª£Á†ÅËÅöÂêàÊõ¥Âä†ÈöæÁêÜËß£ ËßíËâ≤Ôºö ÊäΩË±°ÂëΩ‰ª§Á±ªÔºàCommandÔºâËßíËâ≤ÔºöÂ£∞ÊòéÊâßË°åÂëΩ‰ª§ÁöÑÊé•Âè£ÔºåÊã•ÊúâÊâßË°åÂëΩ‰ª§ÁöÑÊäΩË±°ÊñπÊ≥ï execute()„ÄÇ ÂÖ∑‰ΩìÂëΩ‰ª§Á±ªÔºàConcrete CommandÔºâËßíËâ≤ÔºöÊòØÊäΩË±°ÂëΩ‰ª§Á±ªÁöÑÂÖ∑‰ΩìÂÆûÁé∞Á±ªÔºåÂÆÉÊã•ÊúâÊé•Êî∂ËÄÖÂØπË±°ÔºåÂπ∂ÈÄöËøáË∞ÉÁî®Êé•Êî∂ËÄÖÁöÑÂäüËÉΩÊù•ÂÆåÊàêÂëΩ‰ª§Ë¶ÅÊâßË°åÁöÑÊìç‰Ωú„ÄÇ ÂÆûÁé∞ËÄÖ/Êé•Êî∂ËÄÖÔºàReceiverÔºâËßíËâ≤ÔºöÊâßË°åÂëΩ‰ª§ÂäüËÉΩÁöÑÁõ∏ÂÖ≥Êìç‰ΩúÔºåÊòØÂÖ∑‰ΩìÂëΩ‰ª§ÂØπË±°‰∏öÂä°ÁöÑÁúüÊ≠£ÂÆûÁé∞ËÄÖ„ÄÇ Ë∞ÉÁî®ËÄÖ/ËØ∑Ê±ÇËÄÖÔºàInvokerÔºâËßíËâ≤ÔºöÊòØËØ∑Ê±ÇÁöÑÂèëÈÄÅËÄÖÔºåÂÆÉÈÄöÂ∏∏Êã•ÊúâÂæàÂ§öÁöÑÂëΩ‰ª§ÂØπË±°ÔºåÂπ∂ÈÄöËøáËÆøÈóÆÂëΩ‰ª§ÂØπË±°Êù•ÊâßË°åÁõ∏ÂÖ≥ËØ∑Ê±ÇÔºåÂÆÉ‰∏çÁõ¥Êé•ËÆøÈóÆÊé•Êî∂ËÄÖ„ÄÇ ÂëΩ‰ª§Ê®°ÂºèÁöÑÂ∫îÁî®Âú∫ÊôØÔºö ËØ∑Ê±ÇË∞ÉÁî®ËÄÖÈúÄË¶Å‰∏éËØ∑Ê±ÇÊé•Êî∂ËÄÖËß£ËÄ¶Êó∂ÔºåÂëΩ‰ª§Ê®°ÂºèÂèØ‰ª•‰ΩøË∞ÉÁî®ËÄÖÂíåÊé•Êî∂ËÄÖ‰∏çÁõ¥Êé•‰∫§‰∫í„ÄÇ Á≥ªÁªüÈöèÊú∫ËØ∑Ê±ÇÂëΩ‰ª§ÊàñÁªèÂ∏∏Â¢ûÂä†„ÄÅÂà†Èô§ÂëΩ‰ª§Êó∂ÔºåÂëΩ‰ª§Ê®°ÂºèÂèØ‰ª•Êñπ‰æøÂú∞ÂÆûÁé∞Ëøô‰∫õÂäüËÉΩ„ÄÇ ÂΩìÁ≥ªÁªüÈúÄË¶ÅÊâßË°å‰∏ÄÁªÑÊìç‰ΩúÊó∂ÔºåÂëΩ‰ª§Ê®°ÂºèÂèØ‰ª•ÂÆö‰πâÂÆèÂëΩ‰ª§Êù•ÂÆûÁé∞ËØ•ÂäüËÉΩ„ÄÇ ÂΩìÁ≥ªÁªüÈúÄË¶ÅÊîØÊåÅÂëΩ‰ª§ÁöÑÊí§ÈîÄÔºàUndoÔºâÊìç‰ΩúÂíåÊÅ¢Â§çÔºàRedoÔºâÊìç‰ΩúÊó∂ÔºåÂèØ‰ª•Â∞ÜÂëΩ‰ª§ÂØπË±°Â≠òÂÇ®Ëµ∑Êù•ÔºåÈááÁî®Â§áÂøòÂΩïÊ®°ÂºèÊù•ÂÆûÁé∞„ÄÇ JAVAÂÆûÁé∞Ôºö 1234567891011121314151617181920212223242526272829303132333435363738394041public class StrategyPattern { public static void main(String[] args) { Context c = new Context(); Strategy s = new ConcreteStrategyA(); c.setStrategy(s); c.strategyMethod(); System.out.println(&quot;-----------------&quot;); s = new ConcreteStrategyB(); c.setStrategy(s); c.strategyMethod(); }}//ÊäΩË±°Á≠ñÁï•Á±ªinterface Strategy { public void strategyMethod(); //Á≠ñÁï•ÊñπÊ≥ï}//ÂÖ∑‰ΩìÁ≠ñÁï•Á±ªAclass ConcreteStrategyA implements Strategy { public void strategyMethod() { System.out.println(&quot;ÂÖ∑‰ΩìÁ≠ñÁï•AÁöÑÁ≠ñÁï•ÊñπÊ≥ïË¢´ËÆøÈóÆÔºÅ&quot;); }}//ÂÖ∑‰ΩìÁ≠ñÁï•Á±ªBclass ConcreteStrategyB implements Strategy { public void strategyMethod() { System.out.println(&quot;ÂÖ∑‰ΩìÁ≠ñÁï•BÁöÑÁ≠ñÁï•ÊñπÊ≥ïË¢´ËÆøÈóÆÔºÅ&quot;); }}//ÁéØÂ¢ÉÁ±ªclass Context { private Strategy strategy; public Strategy getStrategy() { return strategy; } public void setStrategy(Strategy strategy) { this.strategy = strategy; } public void strategyMethod() { strategy.strategyMethod(); }} „Ää**Ë¥£‰ªª/ËÅåË¥£ ÈìæÊ®°Âºè **Chain of Responsibility pattern„Äã ÁâπÁÇπÔºö ‰∏∫‰∫ÜÈÅøÂÖçËØ∑Ê±ÇÂèëÈÄÅËÄÖ‰∏éÂ§ö‰∏™ËØ∑Ê±ÇÂ§ÑÁêÜËÄÖËÄ¶ÂêàÂú®‰∏ÄËµ∑Ôºå‰∫éÊòØÂ∞ÜÊâÄÊúâËØ∑Ê±ÇÁöÑÂ§ÑÁêÜËÄÖÈÄöËøáÂâç‰∏ÄÂØπË±°ËÆ∞‰ΩèÂÖ∂‰∏ã‰∏Ä‰∏™ÂØπË±°ÁöÑÂºïÁî®ËÄåËøûÊàê‰∏ÄÊù°ÈìæÔºõÂΩìÊúâËØ∑Ê±ÇÂèëÁîüÊó∂ÔºåÂèØÂ∞ÜËØ∑Ê±ÇÊ≤øÁùÄËøôÊù°Èìæ‰º†ÈÄíÔºåÁõ¥Âà∞ÊúâÂØπË±°Â§ÑÁêÜÂÆÉ‰∏∫Ê≠¢„ÄÇ ‰ºòÁÇπÔºö Èôç‰Ωé‰∫ÜÂØπË±°‰πãÈó¥ÁöÑËÄ¶ÂêàÂ∫¶„ÄÇËØ•Ê®°Âºè‰ΩøÂæó‰∏Ä‰∏™ÂØπË±°Êó†È°ªÁü•ÈÅìÂà∞Â∫ïÊòØÂì™‰∏Ä‰∏™ÂØπË±°Â§ÑÁêÜÂÖ∂ËØ∑Ê±Ç‰ª•ÂèäÈìæÁöÑÁªìÊûÑÔºåÂèëÈÄÅËÄÖÂíåÊé•Êî∂ËÄÖ‰πüÊó†È°ªÊã•ÊúâÂØπÊñπÁöÑÊòéÁ°Æ‰ø°ÊÅØ„ÄÇ Â¢ûÂº∫‰∫ÜÁ≥ªÁªüÁöÑÂèØÊâ©Â±ïÊÄß„ÄÇÂèØ‰ª•Ê†πÊçÆÈúÄË¶ÅÂ¢ûÂä†Êñ∞ÁöÑËØ∑Ê±ÇÂ§ÑÁêÜÁ±ªÔºåÊª°Ë∂≥ÂºÄÈó≠ÂéüÂàô„ÄÇ Â¢ûÂº∫‰∫ÜÁªôÂØπË±°ÊåáÊ¥æËÅåË¥£ÁöÑÁÅµÊ¥ªÊÄß„ÄÇÂΩìÂ∑•‰ΩúÊµÅÁ®ãÂèëÁîüÂèòÂåñÔºåÂèØ‰ª•Âä®ÊÄÅÂú∞ÊîπÂèòÈìæÂÜÖÁöÑÊàêÂëòÊàñËÄÖË∞ÉÂä®ÂÆÉ‰ª¨ÁöÑÊ¨°Â∫èÔºå‰πüÂèØÂä®ÊÄÅÂú∞Êñ∞Â¢ûÊàñËÄÖÂà†Èô§Ë¥£‰ªª„ÄÇ Ë¥£‰ªªÈìæÁÆÄÂåñ‰∫ÜÂØπË±°‰πãÈó¥ÁöÑËøûÊé•„ÄÇÊØè‰∏™ÂØπË±°Âè™ÈúÄ‰øùÊåÅ‰∏Ä‰∏™ÊåáÂêëÂÖ∂ÂêéÁªßËÄÖÁöÑÂºïÁî®Ôºå‰∏çÈúÄ‰øùÊåÅÂÖ∂‰ªñÊâÄÊúâÂ§ÑÁêÜËÄÖÁöÑÂºïÁî®ÔºåËøôÈÅøÂÖç‰∫Ü‰ΩøÁî®‰ºóÂ§öÁöÑ if ÊàñËÄÖ if¬∑¬∑¬∑else ËØ≠Âè•„ÄÇ Ë¥£‰ªªÂàÜÊãÖ„ÄÇÊØè‰∏™Á±ªÂè™ÈúÄË¶ÅÂ§ÑÁêÜËá™Â∑±ËØ•Â§ÑÁêÜÁöÑÂ∑•‰ΩúÔºå‰∏çËØ•Â§ÑÁêÜÁöÑ‰º†ÈÄíÁªô‰∏ã‰∏Ä‰∏™ÂØπË±°ÂÆåÊàêÔºåÊòéÁ°ÆÂêÑÁ±ªÁöÑË¥£‰ªªËåÉÂõ¥ÔºåÁ¨¶ÂêàÁ±ªÁöÑÂçï‰∏ÄËÅåË¥£ÂéüÂàô„ÄÇ Áº∫ÁÇπÔºö ‰∏çËÉΩ‰øùËØÅÊØè‰∏™ËØ∑Ê±Ç‰∏ÄÂÆöË¢´Â§ÑÁêÜ„ÄÇÁî±‰∫é‰∏Ä‰∏™ËØ∑Ê±ÇÊ≤°ÊúâÊòéÁ°ÆÁöÑÊé•Êî∂ËÄÖÔºåÊâÄ‰ª•‰∏çËÉΩ‰øùËØÅÂÆÉ‰∏ÄÂÆö‰ºöË¢´Â§ÑÁêÜÔºåËØ•ËØ∑Ê±ÇÂèØËÉΩ‰∏ÄÁõ¥‰º†Âà∞ÈìæÁöÑÊú´Á´ØÈÉΩÂæó‰∏çÂà∞Â§ÑÁêÜ„ÄÇ ÂØπÊØîËæÉÈïøÁöÑËÅåË¥£ÈìæÔºåËØ∑Ê±ÇÁöÑÂ§ÑÁêÜÂèØËÉΩÊ∂âÂèäÂ§ö‰∏™Â§ÑÁêÜÂØπË±°ÔºåÁ≥ªÁªüÊÄßËÉΩÂ∞ÜÂèóÂà∞‰∏ÄÂÆöÂΩ±Âìç„ÄÇ ËÅåË¥£ÈìæÂª∫Á´ãÁöÑÂêàÁêÜÊÄßË¶ÅÈù†ÂÆ¢Êà∑Á´ØÊù•‰øùËØÅÔºåÂ¢ûÂä†‰∫ÜÂÆ¢Êà∑Á´ØÁöÑÂ§çÊùÇÊÄßÔºåÂèØËÉΩ‰ºöÁî±‰∫éËÅåË¥£ÈìæÁöÑÈîôËØØËÆæÁΩÆËÄåÂØºËá¥Á≥ªÁªüÂá∫ÈîôÔºåÂ¶ÇÂèØËÉΩ‰ºöÈÄ†ÊàêÂæ™ÁéØË∞ÉÁî®„ÄÇ ËßíËâ≤Ôºö ÊäΩË±°Â§ÑÁêÜËÄÖÔºàHandlerÔºâËßíËâ≤ÔºöÂÆö‰πâ‰∏Ä‰∏™Â§ÑÁêÜËØ∑Ê±ÇÁöÑÊé•Âè£ÔºåÂåÖÂê´ÊäΩË±°Â§ÑÁêÜÊñπÊ≥ïÂíå‰∏Ä‰∏™ÂêéÁªßËøûÊé•„ÄÇ ÂÖ∑‰ΩìÂ§ÑÁêÜËÄÖÔºàConcrete HandlerÔºâËßíËâ≤ÔºöÂÆûÁé∞ÊäΩË±°Â§ÑÁêÜËÄÖÁöÑÂ§ÑÁêÜÊñπÊ≥ïÔºåÂà§Êñ≠ËÉΩÂê¶Â§ÑÁêÜÊú¨Ê¨°ËØ∑Ê±ÇÔºåÂ¶ÇÊûúÂèØ‰ª•Â§ÑÁêÜËØ∑Ê±ÇÂàôÂ§ÑÁêÜÔºåÂê¶ÂàôÂ∞ÜËØ•ËØ∑Ê±ÇËΩ¨ÁªôÂÆÉÁöÑÂêéÁªßËÄÖ„ÄÇ ÂÆ¢Êà∑Á±ªÔºàClientÔºâËßíËâ≤ÔºöÂàõÂª∫Â§ÑÁêÜÈìæÔºåÂπ∂ÂêëÈìæÂ§¥ÁöÑÂÖ∑‰ΩìÂ§ÑÁêÜËÄÖÂØπË±°Êèê‰∫§ËØ∑Ê±ÇÔºåÂÆÉ‰∏çÂÖ≥ÂøÉÂ§ÑÁêÜÁªÜËäÇÂíåËØ∑Ê±ÇÁöÑ‰º†ÈÄíËøáÁ®ã„ÄÇ Ë¥£‰ªª/ËÅåË¥£ ÈìæÊ®°ÂºèÁöÑÂ∫îÁî®Âú∫ÊôØÔºö Â§ö‰∏™ÂØπË±°ÂèØ‰ª•Â§ÑÁêÜ‰∏Ä‰∏™ËØ∑Ê±ÇÔºå‰ΩÜÂÖ∑‰ΩìÁî±Âì™‰∏™ÂØπË±°Â§ÑÁêÜËØ•ËØ∑Ê±ÇÂú®ËøêË°åÊó∂Ëá™Âä®Á°ÆÂÆö„ÄÇ ÂèØÂä®ÊÄÅÊåáÂÆö‰∏ÄÁªÑÂØπË±°Â§ÑÁêÜËØ∑Ê±ÇÔºåÊàñÊ∑ªÂä†Êñ∞ÁöÑÂ§ÑÁêÜËÄÖ„ÄÇ ÈúÄË¶ÅÂú®‰∏çÊòéÁ°ÆÊåáÂÆöËØ∑Ê±ÇÂ§ÑÁêÜËÄÖÁöÑÊÉÖÂÜµ‰∏ãÔºåÂêëÂ§ö‰∏™Â§ÑÁêÜËÄÖ‰∏≠ÁöÑ‰∏Ä‰∏™Êèê‰∫§ËØ∑Ê±Ç„ÄÇ JAVAÂÆûÁé∞Ôºö 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253public class ChainOfResponsibilityPattern { public static void main(String[] args) { //ÁªÑË£ÖË¥£‰ªªÈìæ Handler handler1 = new ConcreteHandler1(); Handler handler2 = new ConcreteHandler2(); handler1.setNext(handler2); //Êèê‰∫§ËØ∑Ê±Ç handler1.handleRequest(&quot;two&quot;); }}//ÊäΩË±°Â§ÑÁêÜËÄÖËßíËâ≤abstract class Handler { private Handler next; public void setNext(Handler next) { this.next = next; } public Handler getNext() { return next; } //Â§ÑÁêÜËØ∑Ê±ÇÁöÑÊñπÊ≥ï public abstract void handleRequest(String request);}//ÂÖ∑‰ΩìÂ§ÑÁêÜËÄÖËßíËâ≤1class ConcreteHandler1 extends Handler { @Override public void handleRequest(String request) { if (request.equals(&quot;one&quot;)) { System.out.println(&quot;ÂÖ∑‰ΩìÂ§ÑÁêÜËÄÖ1Ë¥üË¥£Â§ÑÁêÜËØ•ËØ∑Ê±ÇÔºÅ&quot;); } else { if (getNext() != null) { getNext().handleRequest(request); } else { System.out.println(&quot;Ê≤°Êúâ‰∫∫Â§ÑÁêÜËØ•ËØ∑Ê±ÇÔºÅ&quot;); } } }}//ÂÖ∑‰ΩìÂ§ÑÁêÜËÄÖËßíËâ≤2class ConcreteHandler2 extends Handler { @Override public void handleRequest(String request) { if (request.equals(&quot;two&quot;)) { System.out.println(&quot;ÂÖ∑‰ΩìÂ§ÑÁêÜËÄÖ2Ë¥üË¥£Â§ÑÁêÜËØ•ËØ∑Ê±ÇÔºÅ&quot;); } else { if (getNext() != null) { getNext().handleRequest(request); } else { System.out.println(&quot;Ê≤°Êúâ‰∫∫Â§ÑÁêÜËØ•ËØ∑Ê±ÇÔºÅ&quot;); } } }} „Ää**Áä∂ÊÄÅÊ®°Âºè **State pattern„Äã ÁâπÁÇπÔºö ÂØπÊúâÁä∂ÊÄÅÁöÑÂØπË±°ÔºåÊääÂ§çÊùÇÁöÑ‚ÄúÂà§Êñ≠ÈÄªËæë‚ÄùÊèêÂèñÂà∞‰∏çÂêåÁöÑÁä∂ÊÄÅÂØπË±°‰∏≠ÔºåÂÖÅËÆ∏Áä∂ÊÄÅÂØπË±°Âú®ÂÖ∂ÂÜÖÈÉ®Áä∂ÊÄÅÂèëÁîüÊîπÂèòÊó∂ÊîπÂèòÂÖ∂Ë°å‰∏∫„ÄÇ ‰ºòÁÇπÔºö ÁªìÊûÑÊ∏ÖÊô∞ÔºåÁä∂ÊÄÅÊ®°ÂºèÂ∞Ü‰∏éÁâπÂÆöÁä∂ÊÄÅÁõ∏ÂÖ≥ÁöÑË°å‰∏∫Â±ÄÈÉ®ÂåñÂà∞‰∏Ä‰∏™Áä∂ÊÄÅ‰∏≠ÔºåÂπ∂‰∏îÂ∞Ü‰∏çÂêåÁä∂ÊÄÅÁöÑË°å‰∏∫ÂàÜÂâ≤ÂºÄÊù•ÔºåÊª°Ë∂≥‚ÄúÂçï‰∏ÄËÅåË¥£ÂéüÂàô‚Äù„ÄÇ Â∞ÜÁä∂ÊÄÅËΩ¨Êç¢ÊòæÁ§∫ÂåñÔºåÂáèÂ∞ëÂØπË±°Èó¥ÁöÑÁõ∏‰∫í‰æùËµñ„ÄÇÂ∞Ü‰∏çÂêåÁöÑÁä∂ÊÄÅÂºïÂÖ•Áã¨Á´ãÁöÑÂØπË±°‰∏≠‰ºö‰ΩøÂæóÁä∂ÊÄÅËΩ¨Êç¢ÂèòÂæóÊõ¥Âä†ÊòéÁ°ÆÔºå‰∏îÂáèÂ∞ëÂØπË±°Èó¥ÁöÑÁõ∏‰∫í‰æùËµñ„ÄÇ Áä∂ÊÄÅÁ±ªËÅåË¥£ÊòéÁ°ÆÔºåÊúâÂà©‰∫éÁ®ãÂ∫èÁöÑÊâ©Â±ï„ÄÇÈÄöËøáÂÆö‰πâÊñ∞ÁöÑÂ≠êÁ±ªÂæàÂÆπÊòìÂú∞Â¢ûÂä†Êñ∞ÁöÑÁä∂ÊÄÅÂíåËΩ¨Êç¢„ÄÇ Áº∫ÁÇπÔºö Áä∂ÊÄÅÊ®°ÂºèÁöÑ‰ΩøÁî®ÂøÖÁÑ∂‰ºöÂ¢ûÂä†Á≥ªÁªüÁöÑÁ±ª‰∏éÂØπË±°ÁöÑ‰∏™Êï∞„ÄÇ Áä∂ÊÄÅÊ®°ÂºèÁöÑÁªìÊûÑ‰∏éÂÆûÁé∞ÈÉΩËæÉ‰∏∫Â§çÊùÇÔºåÂ¶ÇÊûú‰ΩøÁî®‰∏çÂΩì‰ºöÂØºËá¥Á®ãÂ∫èÁªìÊûÑÂíå‰ª£Á†ÅÁöÑÊ∑∑‰π±„ÄÇ Áä∂ÊÄÅÊ®°ÂºèÂØπÂºÄÈó≠ÂéüÂàôÁöÑÊîØÊåÅÂπ∂‰∏çÂ§™Â•ΩÔºåÂØπ‰∫éÂèØ‰ª•ÂàáÊç¢Áä∂ÊÄÅÁöÑÁä∂ÊÄÅÊ®°ÂºèÔºåÂ¢ûÂä†Êñ∞ÁöÑÁä∂ÊÄÅÁ±ªÈúÄË¶Å‰øÆÊîπÈÇ£‰∫õË¥üË¥£Áä∂ÊÄÅËΩ¨Êç¢ÁöÑÊ∫êÁ†ÅÔºåÂê¶ÂàôÊó†Ê≥ïÂàáÊç¢Âà∞Êñ∞Â¢ûÁä∂ÊÄÅÔºåËÄå‰∏î‰øÆÊîπÊüê‰∏™Áä∂ÊÄÅÁ±ªÁöÑË°å‰∏∫‰πüÈúÄË¶Å‰øÆÊîπÂØπÂ∫îÁ±ªÁöÑÊ∫êÁ†Å„ÄÇ ËßíËâ≤Ôºö ÁéØÂ¢ÉÁ±ªÔºàContextÔºâËßíËâ≤Ôºö‰πüÁß∞‰∏∫‰∏ä‰∏ãÊñáÔºåÂÆÉÂÆö‰πâ‰∫ÜÂÆ¢Êà∑Á´ØÈúÄË¶ÅÁöÑÊé•Âè£ÔºåÂÜÖÈÉ®Áª¥Êä§‰∏Ä‰∏™ÂΩìÂâçÁä∂ÊÄÅÔºåÂπ∂Ë¥üË¥£ÂÖ∑‰ΩìÁä∂ÊÄÅÁöÑÂàáÊç¢„ÄÇ ÊäΩË±°Áä∂ÊÄÅÔºàStateÔºâËßíËâ≤ÔºöÂÆö‰πâ‰∏Ä‰∏™Êé•Âè£ÔºåÁî®‰ª•Â∞ÅË£ÖÁéØÂ¢ÉÂØπË±°‰∏≠ÁöÑÁâπÂÆöÁä∂ÊÄÅÊâÄÂØπÂ∫îÁöÑË°å‰∏∫ÔºåÂèØ‰ª•Êúâ‰∏Ä‰∏™ÊàñÂ§ö‰∏™Ë°å‰∏∫„ÄÇ ÂÖ∑‰ΩìÁä∂ÊÄÅÔºàConcrete StateÔºâËßíËâ≤ÔºöÂÆûÁé∞ÊäΩË±°Áä∂ÊÄÅÊâÄÂØπÂ∫îÁöÑË°å‰∏∫ÔºåÂπ∂‰∏îÂú®ÈúÄË¶ÅÁöÑÊÉÖÂÜµ‰∏ãËøõË°åÁä∂ÊÄÅÂàáÊç¢„ÄÇ Áä∂ÊÄÅÊ®°ÂºèÁöÑÂ∫îÁî®Âú∫ÊôØÔºö ÂΩì‰∏Ä‰∏™ÂØπË±°ÁöÑË°å‰∏∫ÂèñÂÜ≥‰∫éÂÆÉÁöÑÁä∂ÊÄÅÔºåÂπ∂‰∏îÂÆÉÂøÖÈ°ªÂú®ËøêË°åÊó∂Ê†πÊçÆÁä∂ÊÄÅÊîπÂèòÂÆÉÁöÑË°å‰∏∫Êó∂ÔºåÂ∞±ÂèØ‰ª•ËÄÉËôë‰ΩøÁî®Áä∂ÊÄÅÊ®°Âºè„ÄÇ ‰∏Ä‰∏™Êìç‰Ωú‰∏≠Âê´ÊúâÂ∫ûÂ§ßÁöÑÂàÜÊîØÁªìÊûÑÔºåÂπ∂‰∏îËøô‰∫õÂàÜÊîØÂÜ≥ÂÆö‰∫éÂØπË±°ÁöÑÁä∂ÊÄÅÊó∂„ÄÇ JAVAÂÆûÁé∞Ôºö 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758public class StatePatternClient { public static void main(String[] args) { Context context = new Context(); //ÂàõÂª∫ÁéØÂ¢É context.Handle(); //Â§ÑÁêÜËØ∑Ê±Ç context.Handle(); context.Handle(); context.Handle(); }}//ÁéØÂ¢ÉÁ±ªclass Context { private State state; //ÂÆö‰πâÁéØÂ¢ÉÁ±ªÁöÑÂàùÂßãÁä∂ÊÄÅ public Context() { this.state = new ConcreteStateA(); } //ËÆæÁΩÆÊñ∞Áä∂ÊÄÅ public void setState(State state) { this.state = state; } //ËØªÂèñÁä∂ÊÄÅ public State getState() { return (state); } //ÂØπËØ∑Ê±ÇÂÅöÂ§ÑÁêÜ public void Handle() { state.Handle(this); }}//ÊäΩË±°Áä∂ÊÄÅÁ±ªabstract class State { public abstract void Handle(Context context);}//ÂÖ∑‰ΩìÁä∂ÊÄÅAÁ±ªclass ConcreteStateA extends State { @Override public void Handle(Context context) { System.out.println(&quot;ÂΩìÂâçÁä∂ÊÄÅÊòØ A.&quot;); context.setState(new ConcreteStateB()); }}//ÂÖ∑‰ΩìÁä∂ÊÄÅBÁ±ªclass ConcreteStateB extends State { @Override public void Handle(Context context) { System.out.println(&quot;ÂΩìÂâçÁä∂ÊÄÅÊòØ B.&quot;); context.setState(new ConcreteStateA()); }} „ÄäËßÇÂØüËÄÖÊ®°Âºè Observer pattern„Äã ÁâπÁÇπÔºö ÊåáÂ§ö‰∏™ÂØπË±°Èó¥Â≠òÂú®‰∏ÄÂØπÂ§öÁöÑ‰æùËµñÂÖ≥Á≥ªÔºåÂΩì‰∏Ä‰∏™ÂØπË±°ÁöÑÁä∂ÊÄÅÂèëÁîüÊîπÂèòÊó∂ÔºåÊâÄÊúâ‰æùËµñ‰∫éÂÆÉÁöÑÂØπË±°ÈÉΩÂæóÂà∞ÈÄöÁü•Âπ∂Ë¢´Ëá™Âä®Êõ¥Êñ∞„ÄÇËøôÁßçÊ®°ÂºèÊúâÊó∂ÂèàÁß∞‰ΩúÂèëÂ∏É-ËÆ¢ÈòÖÊ®°Âºè„ÄÅÊ®°Âûã-ËßÜÂõæÊ®°Âºè„ÄÇ ‰ºòÁÇπÔºö Èôç‰Ωé‰∫ÜÁõÆÊ†á‰∏éËßÇÂØüËÄÖ‰πãÈó¥ÁöÑËÄ¶ÂêàÂÖ≥Á≥ªÔºå‰∏§ËÄÖ‰πãÈó¥ÊòØÊäΩË±°ËÄ¶ÂêàÂÖ≥Á≥ª„ÄÇÁ¨¶Âêà‰æùËµñÂÄíÁΩÆÂéüÂàô„ÄÇ ÁõÆÊ†á‰∏éËßÇÂØüËÄÖ‰πãÈó¥Âª∫Á´ã‰∫Ü‰∏ÄÂ•óËß¶ÂèëÊú∫Âà∂„ÄÇ Áº∫ÁÇπÔºö ÁõÆÊ†á‰∏éËßÇÂØüËÄÖ‰πãÈó¥ÁöÑ‰æùËµñÂÖ≥Á≥ªÂπ∂Ê≤°ÊúâÂÆåÂÖ®Ëß£Èô§ÔºåËÄå‰∏îÊúâÂèØËÉΩÂá∫Áé∞Âæ™ÁéØÂºïÁî®„ÄÇ ÂΩìËßÇÂØüËÄÖÂØπË±°ÂæàÂ§öÊó∂ÔºåÈÄöÁü•ÁöÑÂèëÂ∏É‰ºöËä±Ë¥πÂæàÂ§öÊó∂Èó¥ÔºåÂΩ±ÂìçÁ®ãÂ∫èÁöÑÊïàÁéá„ÄÇ ËßíËâ≤Ôºö ÊäΩË±°‰∏ªÈ¢òÔºàSubjectÔºâËßíËâ≤Ôºö‰πüÂè´ÊäΩË±°ÁõÆÊ†áÁ±ªÔºåÂÆÉÊèê‰æõ‰∫Ü‰∏Ä‰∏™Áî®‰∫é‰øùÂ≠òËßÇÂØüËÄÖÂØπË±°ÁöÑËÅöÈõÜÁ±ªÂíåÂ¢ûÂä†„ÄÅÂà†Èô§ËßÇÂØüËÄÖÂØπË±°ÁöÑÊñπÊ≥ïÔºå‰ª•ÂèäÈÄöÁü•ÊâÄÊúâËßÇÂØüËÄÖÁöÑÊäΩË±°ÊñπÊ≥ï„ÄÇ ÂÖ∑‰Ωì‰∏ªÈ¢òÔºàConcrete SubjectÔºâËßíËâ≤Ôºö‰πüÂè´ÂÖ∑‰ΩìÁõÆÊ†áÁ±ªÔºåÂÆÉÂÆûÁé∞ÊäΩË±°ÁõÆÊ†á‰∏≠ÁöÑÈÄöÁü•ÊñπÊ≥ïÔºåÂΩìÂÖ∑‰Ωì‰∏ªÈ¢òÁöÑÂÜÖÈÉ®Áä∂ÊÄÅÂèëÁîüÊîπÂèòÊó∂ÔºåÈÄöÁü•ÊâÄÊúâÊ≥®ÂÜåËøáÁöÑËßÇÂØüËÄÖÂØπË±°„ÄÇ ÊäΩË±°ËßÇÂØüËÄÖÔºàObserverÔºâËßíËâ≤ÔºöÂÆÉÊòØ‰∏Ä‰∏™ÊäΩË±°Á±ªÊàñÊé•Âè£ÔºåÂÆÉÂåÖÂê´‰∫Ü‰∏Ä‰∏™Êõ¥Êñ∞Ëá™Â∑±ÁöÑÊäΩË±°ÊñπÊ≥ïÔºåÂΩìÊé•Âà∞ÂÖ∑‰Ωì‰∏ªÈ¢òÁöÑÊõ¥ÊîπÈÄöÁü•Êó∂Ë¢´Ë∞ÉÁî®„ÄÇ ÂÖ∑‰ΩìËßÇÂØüËÄÖÔºàConcrete ObserverÔºâËßíËâ≤ÔºöÂÆûÁé∞ÊäΩË±°ËßÇÂØüËÄÖ‰∏≠ÂÆö‰πâÁöÑÊäΩË±°ÊñπÊ≥ïÔºå‰ª•‰æøÂú®ÂæóÂà∞ÁõÆÊ†áÁöÑÊõ¥ÊîπÈÄöÁü•Êó∂Êõ¥Êñ∞Ëá™Ë∫´ÁöÑÁä∂ÊÄÅ„ÄÇ ËßÇÂØüËÄÖÊ®°ÂºèÁöÑÂ∫îÁî®Âú∫ÊôØÔºö ÂØπË±°Èó¥Â≠òÂú®‰∏ÄÂØπÂ§öÂÖ≥Á≥ªÔºå‰∏Ä‰∏™ÂØπË±°ÁöÑÁä∂ÊÄÅÂèëÁîüÊîπÂèò‰ºöÂΩ±ÂìçÂÖ∂‰ªñÂØπË±°„ÄÇ ÂΩì‰∏Ä‰∏™ÊäΩË±°Ê®°ÂûãÊúâ‰∏§‰∏™ÊñπÈù¢ÔºåÂÖ∂‰∏≠‰∏Ä‰∏™ÊñπÈù¢‰æùËµñ‰∫éÂè¶‰∏ÄÊñπÈù¢Êó∂ÔºåÂèØÂ∞ÜËøô‰∫åËÄÖÂ∞ÅË£ÖÂú®Áã¨Á´ãÁöÑÂØπË±°‰∏≠‰ª•‰ΩøÂÆÉ‰ª¨ÂèØ‰ª•ÂêÑËá™Áã¨Á´ãÂú∞ÊîπÂèòÂíåÂ§çÁî®„ÄÇ ÂÆûÁé∞Á±ª‰ººÂπøÊí≠Êú∫Âà∂ÁöÑÂäüËÉΩÔºå‰∏çÈúÄË¶ÅÁü•ÈÅìÂÖ∑‰ΩìÊî∂Âê¨ËÄÖÔºåÂè™ÈúÄÂàÜÂèëÂπøÊí≠ÔºåÁ≥ªÁªü‰∏≠ÊÑüÂÖ¥Ë∂£ÁöÑÂØπË±°‰ºöËá™Âä®Êé•Êî∂ËØ•ÂπøÊí≠„ÄÇ Â§öÂ±ÇÁ∫ßÂµåÂ•ó‰ΩøÁî®ÔºåÂΩ¢Êàê‰∏ÄÁßçÈìæÂºèËß¶ÂèëÊú∫Âà∂Ôºå‰ΩøÂæó‰∫ã‰ª∂ÂÖ∑Â§áË∑®ÂüüÔºàË∑®Ë∂ä‰∏§ÁßçËßÇÂØüËÄÖÁ±ªÂûãÔºâÈÄöÁü•„ÄÇ JAVAÂÆûÁé∞Ôºö 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758public class StatePatternClient { public static void main(String[] args) { Context context = new Context(); //ÂàõÂª∫ÁéØÂ¢É context.Handle(); //Â§ÑÁêÜËØ∑Ê±Ç context.Handle(); context.Handle(); context.Handle(); }}//ÁéØÂ¢ÉÁ±ªclass Context { private State state; //ÂÆö‰πâÁéØÂ¢ÉÁ±ªÁöÑÂàùÂßãÁä∂ÊÄÅ public Context() { this.state = new ConcreteStateA(); } //ËÆæÁΩÆÊñ∞Áä∂ÊÄÅ public void setState(State state) { this.state = state; } //ËØªÂèñÁä∂ÊÄÅ public State getState() { return (state); } //ÂØπËØ∑Ê±ÇÂÅöÂ§ÑÁêÜ public void Handle() { state.Handle(this); }}//ÊäΩË±°Áä∂ÊÄÅÁ±ªabstract class State { public abstract void Handle(Context context);}//ÂÖ∑‰ΩìÁä∂ÊÄÅAÁ±ªclass ConcreteStateA extends State { @Override public void Handle(Context context) { System.out.println(&quot;ÂΩìÂâçÁä∂ÊÄÅÊòØ A.&quot;); context.setState(new ConcreteStateB()); }}//ÂÖ∑‰ΩìÁä∂ÊÄÅBÁ±ªclass ConcreteStateB extends State { @Override public void Handle(Context context) { System.out.println(&quot;ÂΩìÂâçÁä∂ÊÄÅÊòØ B.&quot;); context.setState(new ConcreteStateA()); }} „Ää‰∏≠‰ªãËÄÖÊ®°Âºè Mediator Pattern„Äã ÁâπÁÇπÔºö ÂÆö‰πâ‰∏Ä‰∏™‰∏≠‰ªãÂØπË±°Êù•Â∞ÅË£Ö‰∏ÄÁ≥ªÂàóÂØπË±°‰πãÈó¥ÁöÑ‰∫§‰∫íÔºå‰ΩøÂéüÊúâÂØπË±°‰πãÈó¥ÁöÑËÄ¶ÂêàÊùæÊï£Ôºå‰∏îÂèØ‰ª•Áã¨Á´ãÂú∞ÊîπÂèòÂÆÉ‰ª¨‰πãÈó¥ÁöÑ‰∫§‰∫í„ÄÇ‰∏≠‰ªãËÄÖÊ®°ÂºèÂèàÂè´Ë∞ÉÂÅúÊ®°ÂºèÔºåÂÆÉÊòØËø™Á±≥ÁâπÊ≥ïÂàôÁöÑÂÖ∏ÂûãÂ∫îÁî®„ÄÇ ‰ºòÁÇπÔºö Á±ª‰πãÈó¥ÂêÑÂè∏ÂÖ∂ËÅåÔºåÁ¨¶ÂêàËø™Á±≥ÁâπÊ≥ïÂàô„ÄÇ Èôç‰Ωé‰∫ÜÂØπË±°‰πãÈó¥ÁöÑËÄ¶ÂêàÊÄßÔºå‰ΩøÂæóÂØπË±°Êòì‰∫éÁã¨Á´ãÂú∞Ë¢´Â§çÁî®„ÄÇ Â∞ÜÂØπË±°Èó¥ÁöÑ‰∏ÄÂØπÂ§öÂÖ≥ËÅîËΩ¨Âèò‰∏∫‰∏ÄÂØπ‰∏ÄÁöÑÂÖ≥ËÅîÔºåÊèêÈ´òÁ≥ªÁªüÁöÑÁÅµÊ¥ªÊÄßÔºå‰ΩøÂæóÁ≥ªÁªüÊòì‰∫éÁª¥Êä§ÂíåÊâ©Â±ï„ÄÇ Áº∫ÁÇπÔºö ‰∏≠‰ªãËÄÖÊ®°ÂºèÂ∞ÜÂéüÊú¨Â§ö‰∏™ÂØπË±°Áõ¥Êé•ÁöÑÁõ∏‰∫í‰æùËµñÂèòÊàê‰∫Ü‰∏≠‰ªãËÄÖÂíåÂ§ö‰∏™Âêå‰∫ãÁ±ªÁöÑ‰æùËµñÂÖ≥Á≥ª„ÄÇÂΩìÂêå‰∫ãÁ±ªË∂äÂ§öÊó∂Ôºå‰∏≠‰ªãËÄÖÂ∞±‰ºöË∂äËáÉËÇøÔºåÂèòÂæóÂ§çÊùÇ‰∏îÈöæ‰ª•Áª¥Êä§„ÄÇ ËßíËâ≤Ôºö ÊäΩË±°‰∏≠‰ªãËÄÖÔºàMediatorÔºâËßíËâ≤ÔºöÂÆÉÊòØ‰∏≠‰ªãËÄÖÁöÑÊé•Âè£ÔºåÊèê‰æõ‰∫ÜÂêå‰∫ãÂØπË±°Ê≥®ÂÜå‰∏éËΩ¨ÂèëÂêå‰∫ãÂØπË±°‰ø°ÊÅØÁöÑÊäΩË±°ÊñπÊ≥ï„ÄÇ ÂÖ∑‰Ωì‰∏≠‰ªãËÄÖÔºàConcrete MediatorÔºâËßíËâ≤ÔºöÂÆûÁé∞‰∏≠‰ªãËÄÖÊé•Âè£ÔºåÂÆö‰πâ‰∏Ä‰∏™ List Êù•ÁÆ°ÁêÜÂêå‰∫ãÂØπË±°ÔºåÂçèË∞ÉÂêÑ‰∏™Âêå‰∫ãËßíËâ≤‰πãÈó¥ÁöÑ‰∫§‰∫íÂÖ≥Á≥ªÔºåÂõ†Ê≠§ÂÆÉ‰æùËµñ‰∫éÂêå‰∫ãËßíËâ≤„ÄÇ ÊäΩË±°Âêå‰∫ãÁ±ªÔºàColleagueÔºâËßíËâ≤ÔºöÂÆö‰πâÂêå‰∫ãÁ±ªÁöÑÊé•Âè£Ôºå‰øùÂ≠ò‰∏≠‰ªãËÄÖÂØπË±°ÔºåÊèê‰æõÂêå‰∫ãÂØπË±°‰∫§‰∫íÁöÑÊäΩË±°ÊñπÊ≥ïÔºåÂÆûÁé∞ÊâÄÊúâÁõ∏‰∫íÂΩ±ÂìçÁöÑÂêå‰∫ãÁ±ªÁöÑÂÖ¨ÂÖ±ÂäüËÉΩ„ÄÇ ÂÖ∑‰ΩìÂêå‰∫ãÁ±ªÔºàConcrete ColleagueÔºâËßíËâ≤ÔºöÊòØÊäΩË±°Âêå‰∫ãÁ±ªÁöÑÂÆûÁé∞ËÄÖÔºåÂΩìÈúÄË¶Å‰∏éÂÖ∂‰ªñÂêå‰∫ãÂØπË±°‰∫§‰∫íÊó∂ÔºåÁî±‰∏≠‰ªãËÄÖÂØπË±°Ë¥üË¥£ÂêéÁª≠ÁöÑ‰∫§‰∫í„ÄÇ ‰∏≠‰ªãËÄÖÊ®°ÂºèÁöÑÂ∫îÁî®Âú∫ÊôØÔºö ÂΩìÂØπË±°‰πãÈó¥Â≠òÂú®Â§çÊùÇÁöÑÁΩëÁä∂ÁªìÊûÑÂÖ≥Á≥ªËÄåÂØºËá¥‰æùËµñÂÖ≥Á≥ªÊ∑∑‰π±‰∏îÈöæ‰ª•Â§çÁî®Êó∂„ÄÇ ÂΩìÊÉ≥ÂàõÂª∫‰∏Ä‰∏™ËøêË°å‰∫éÂ§ö‰∏™Á±ª‰πãÈó¥ÁöÑÂØπË±°ÔºåÂèà‰∏çÊÉ≥ÁîüÊàêÊñ∞ÁöÑÂ≠êÁ±ªÊó∂ JAVAÂÆûÁé∞Ôºö 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465import java.util.*;public class MediatorPattern { public static void main(String[] args) { Mediator md = new ConcreteMediator(); Colleague c1, c2; c1 = new ConcreteColleague1(); c2 = new ConcreteColleague2(); md.register(c1); md.register(c2); c1.send(); System.out.println(&quot;-------------&quot;); c2.send(); }}//ÊäΩË±°‰∏≠‰ªãËÄÖabstract class Mediator { public abstract void register(Colleague colleague); public abstract void relay(Colleague cl); //ËΩ¨Âèë}//ÂÖ∑‰Ωì‰∏≠‰ªãËÄÖclass ConcreteMediator extends Mediator { private List&lt;Colleague&gt; colleagues = new ArrayList&lt;Colleague&gt;(); public void register(Colleague colleague) { if (!colleagues.contains(colleague)) { colleagues.add(colleague); colleague.setMedium(this); } } public void relay(Colleague cl) { for (Colleague ob : colleagues) { if (!ob.equals(cl)) { ((Colleague) ob).receive(); } } }}//ÊäΩË±°Âêå‰∫ãÁ±ªabstract class Colleague { protected Mediator mediator; public void setMedium(Mediator mediator) { this.mediator = mediator; } public abstract void receive(); public abstract void send();}//ÂÖ∑‰ΩìÂêå‰∫ãÁ±ªclass ConcreteColleague1 extends Colleague { public void receive() { System.out.println(&quot;ÂÖ∑‰ΩìÂêå‰∫ãÁ±ª1Êî∂Âà∞ËØ∑Ê±Ç„ÄÇ&quot;); } public void send() { System.out.println(&quot;ÂÖ∑‰ΩìÂêå‰∫ãÁ±ª1ÂèëÂá∫ËØ∑Ê±Ç„ÄÇ&quot;); mediator.relay(this); //ËØ∑‰∏≠‰ªãËÄÖËΩ¨Âèë }}//ÂÖ∑‰ΩìÂêå‰∫ãÁ±ªclass ConcreteColleague2 extends Colleague { public void receive() { System.out.println(&quot;ÂÖ∑‰ΩìÂêå‰∫ãÁ±ª2Êî∂Âà∞ËØ∑Ê±Ç„ÄÇ&quot;); } public void send() { System.out.println(&quot;ÂÖ∑‰ΩìÂêå‰∫ãÁ±ª2ÂèëÂá∫ËØ∑Ê±Ç„ÄÇ&quot;); mediator.relay(this); //ËØ∑‰∏≠‰ªãËÄÖËΩ¨Âèë }} „ÄäËø≠‰ª£Âô®Ê®°Âºè Iterator Pattern„Äã ÁâπÁÇπÔºö Êèê‰æõ‰∏Ä‰∏™ÂØπË±°Êù•È°∫Â∫èËÆøÈóÆËÅöÂêàÂØπË±°‰∏≠ÁöÑ‰∏ÄÁ≥ªÂàóÊï∞ÊçÆÔºåËÄå‰∏çÊö¥Èú≤ËÅöÂêàÂØπË±°ÁöÑÂÜÖÈÉ®Ë°®Á§∫„ÄÇ ‰ºòÁÇπÔºö ËÆøÈóÆ‰∏Ä‰∏™ËÅöÂêàÂØπË±°ÁöÑÂÜÖÂÆπËÄåÊó†È°ªÊö¥Èú≤ÂÆÉÁöÑÂÜÖÈÉ®Ë°®Á§∫„ÄÇ ÈÅçÂéÜ‰ªªÂä°‰∫§Áî±Ëø≠‰ª£Âô®ÂÆåÊàêÔºåËøôÁÆÄÂåñ‰∫ÜËÅöÂêàÁ±ª„ÄÇ ÂÆÉÊîØÊåÅ‰ª•‰∏çÂêåÊñπÂºèÈÅçÂéÜ‰∏Ä‰∏™ËÅöÂêàÔºåÁîöËá≥ÂèØ‰ª•Ëá™ÂÆö‰πâËø≠‰ª£Âô®ÁöÑÂ≠êÁ±ª‰ª•ÊîØÊåÅÊñ∞ÁöÑÈÅçÂéÜ„ÄÇ Â¢ûÂä†Êñ∞ÁöÑËÅöÂêàÁ±ªÂíåËø≠‰ª£Âô®Á±ªÈÉΩÂæàÊñπ‰æøÔºåÊó†È°ª‰øÆÊîπÂéüÊúâ‰ª£Á†Å„ÄÇ Â∞ÅË£ÖÊÄßËâØÂ•ΩÔºå‰∏∫ÈÅçÂéÜ‰∏çÂêåÁöÑËÅöÂêàÁªìÊûÑÊèê‰æõ‰∏Ä‰∏™Áªü‰∏ÄÁöÑÊé•Âè£„ÄÇ Áº∫ÁÇπÔºö Â¢ûÂä†‰∫ÜÁ±ªÁöÑ‰∏™Êï∞ÔºåËøôÂú®‰∏ÄÂÆöÁ®ãÂ∫¶‰∏äÂ¢ûÂä†‰∫ÜÁ≥ªÁªüÁöÑÂ§çÊùÇÊÄß„ÄÇ ËßíËâ≤Ôºö ÊäΩË±°ËÅöÂêàÔºàAggregateÔºâËßíËâ≤ÔºöÂÆö‰πâÂ≠òÂÇ®„ÄÅÊ∑ªÂä†„ÄÅÂà†Èô§ËÅöÂêàÂØπË±°‰ª•ÂèäÂàõÂª∫Ëø≠‰ª£Âô®ÂØπË±°ÁöÑÊé•Âè£„ÄÇ ÂÖ∑‰ΩìËÅöÂêàÔºàConcreteAggregateÔºâËßíËâ≤ÔºöÂÆûÁé∞ÊäΩË±°ËÅöÂêàÁ±ªÔºåËøîÂõû‰∏Ä‰∏™ÂÖ∑‰ΩìËø≠‰ª£Âô®ÁöÑÂÆû‰æã„ÄÇ ÊäΩË±°Ëø≠‰ª£Âô®ÔºàIteratorÔºâËßíËâ≤ÔºöÂÆö‰πâËÆøÈóÆÂíåÈÅçÂéÜËÅöÂêàÂÖÉÁ¥†ÁöÑÊé•Âè£ÔºåÈÄöÂ∏∏ÂåÖÂê´ hasNext()„ÄÅfirst()„ÄÅnext() Á≠âÊñπÊ≥ï„ÄÇ ÂÖ∑‰ΩìËø≠‰ª£Âô®ÔºàConcretelteratorÔºâËßíËâ≤ÔºöÂÆûÁé∞ÊäΩË±°Ëø≠‰ª£Âô®Êé•Âè£‰∏≠ÊâÄÂÆö‰πâÁöÑÊñπÊ≥ïÔºåÂÆåÊàêÂØπËÅöÂêàÂØπË±°ÁöÑÈÅçÂéÜÔºåËÆ∞ÂΩïÈÅçÂéÜÁöÑÂΩìÂâç‰ΩçÁΩÆ„ÄÇ ‰∏≠‰ªãËÄÖÊ®°ÂºèÁöÑÂ∫îÁî®Âú∫ÊôØÔºö ÂΩìÈúÄË¶Å‰∏∫ËÅöÂêàÂØπË±°Êèê‰æõÂ§öÁßçÈÅçÂéÜÊñπÂºèÊó∂„ÄÇ ÂΩìÈúÄË¶Å‰∏∫ÈÅçÂéÜ‰∏çÂêåÁöÑËÅöÂêàÁªìÊûÑÊèê‰æõ‰∏Ä‰∏™Áªü‰∏ÄÁöÑÊé•Âè£Êó∂„ÄÇ ÂΩìËÆøÈóÆ‰∏Ä‰∏™ËÅöÂêàÂØπË±°ÁöÑÂÜÖÂÆπËÄåÊó†È°ªÊö¥Èú≤ÂÖ∂ÂÜÖÈÉ®ÁªÜËäÇÁöÑË°®Á§∫Êó∂„ÄÇ JAVAÂÆûÁé∞Ôºö 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677import java.util.*;public class IteratorPattern { public static void main(String[] args) { Aggregate ag = new ConcreteAggregate(); ag.add(&quot;‰∏≠Â±±Â§ßÂ≠¶&quot;); ag.add(&quot;ÂçéÂçóÁêÜÂ∑•&quot;); ag.add(&quot;Èü∂ÂÖ≥Â≠¶Èô¢&quot;); System.out.print(&quot;ËÅöÂêàÁöÑÂÜÖÂÆπÊúâÔºö&quot;); Iterator it = ag.getIterator(); while (it.hasNext()) { Object ob = it.next(); System.out.print(ob.toString() + &quot;\\t&quot;); } Object ob = it.first(); System.out.println(&quot;\\nFirstÔºö&quot; + ob.toString()); }}//ÊäΩË±°ËÅöÂêà ÂÆö‰πâÂ≠òÂÇ®„ÄÅÊ∑ªÂä†„ÄÅÂà†Èô§ËÅöÂêàÂØπË±°‰ª•ÂèäÂàõÂª∫Ëø≠‰ª£Âô®ÂØπË±°ÁöÑÊé•Âè£„ÄÇinterface Aggregate { public void add(Object obj); public void remove(Object obj); public Iterator getIterator();}//ÂÖ∑‰ΩìËÅöÂêà ÂÆûÁé∞ÊäΩË±°ËÅöÂêàÁ±ªÔºåËøîÂõû‰∏Ä‰∏™ÂÖ∑‰ΩìËø≠‰ª£Âô®ÁöÑÂÆû‰æã„ÄÇclass ConcreteAggregate implements Aggregate { private List&lt;Object&gt; list = new ArrayList&lt;Object&gt;(); @Override public void add(Object obj) { list.add(obj); } @Override public void remove(Object obj) { list.remove(obj); } @Override public Iterator getIterator() { return (new ConcreteIterator(list)); }}//ÊäΩË±°Ëø≠‰ª£Âô®interface Iterator { Object first(); Object next(); boolean hasNext();}//ÂÖ∑‰ΩìËø≠‰ª£Âô®class ConcreteIterator implements Iterator { private List&lt;Object&gt; list = null; private int index = -1; public ConcreteIterator(List&lt;Object&gt; list) { this.list = list; } @Override public boolean hasNext() { if (index &lt; list.size() - 1) { return true; } else { return false; } } @Override public Object first() { index = 0; Object obj = list.get(index); ; return obj; } @Override public Object next() { Object obj = null; if (this.hasNext()) { obj = list.get(++index); } return obj; }} „ÄäËÆøÈóÆËÄÖÊ®°Âºè Visitor Pattern„Äã ÁâπÁÇπÔºö Â∞Ü‰ΩúÁî®‰∫éÊüêÁßçÊï∞ÊçÆÁªìÊûÑ‰∏≠ÁöÑÂêÑÂÖÉÁ¥†ÁöÑÊìç‰ΩúÂàÜÁ¶ªÂá∫Êù•Â∞ÅË£ÖÊàêÁã¨Á´ãÁöÑÁ±ªÔºå‰ΩøÂÖ∂Âú®‰∏çÊîπÂèòÊï∞ÊçÆÁªìÊûÑÁöÑÂâçÊèê‰∏ãÂèØ‰ª•Ê∑ªÂä†‰ΩúÁî®‰∫éËøô‰∫õÂÖÉÁ¥†ÁöÑÊñ∞ÁöÑÊìç‰ΩúÔºå‰∏∫Êï∞ÊçÆÁªìÊûÑ‰∏≠ÁöÑÊØè‰∏™ÂÖÉÁ¥†Êèê‰æõÂ§öÁßçËÆøÈóÆÊñπÂºè„ÄÇÂÆÉÂ∞ÜÂØπÊï∞ÊçÆÁöÑÊìç‰Ωú‰∏éÊï∞ÊçÆÁªìÊûÑËøõË°åÂàÜÁ¶ªÔºåÊòØË°å‰∏∫Á±ªÊ®°Âºè‰∏≠ÊúÄÂ§çÊùÇÁöÑ‰∏ÄÁßçÊ®°Âºè„ÄÇ ‰ºòÁÇπÔºö Êâ©Â±ïÊÄßÂ•Ω„ÄÇËÉΩÂ§üÂú®‰∏ç‰øÆÊîπÂØπË±°ÁªìÊûÑ‰∏≠ÁöÑÂÖÉÁ¥†ÁöÑÊÉÖÂÜµ‰∏ãÔºå‰∏∫ÂØπË±°ÁªìÊûÑ‰∏≠ÁöÑÂÖÉÁ¥†Ê∑ªÂä†Êñ∞ÁöÑÂäüËÉΩ„ÄÇ Â§çÁî®ÊÄßÂ•Ω„ÄÇÂèØ‰ª•ÈÄöËøáËÆøÈóÆËÄÖÊù•ÂÆö‰πâÊï¥‰∏™ÂØπË±°ÁªìÊûÑÈÄöÁî®ÁöÑÂäüËÉΩÔºå‰ªéËÄåÊèêÈ´òÁ≥ªÁªüÁöÑÂ§çÁî®Á®ãÂ∫¶„ÄÇ ÁÅµÊ¥ªÊÄßÂ•Ω„ÄÇËÆøÈóÆËÄÖÊ®°ÂºèÂ∞ÜÊï∞ÊçÆÁªìÊûÑ‰∏é‰ΩúÁî®‰∫éÁªìÊûÑ‰∏äÁöÑÊìç‰ΩúËß£ËÄ¶Ôºå‰ΩøÂæóÊìç‰ΩúÈõÜÂêàÂèØÁõ∏ÂØπËá™Áî±Âú∞ÊºîÂåñËÄå‰∏çÂΩ±ÂìçÁ≥ªÁªüÁöÑÊï∞ÊçÆÁªìÊûÑ„ÄÇ Á¨¶ÂêàÂçï‰∏ÄËÅåË¥£ÂéüÂàô„ÄÇËÆøÈóÆËÄÖÊ®°ÂºèÊääÁõ∏ÂÖ≥ÁöÑË°å‰∏∫Â∞ÅË£ÖÂú®‰∏ÄËµ∑ÔºåÊûÑÊàê‰∏Ä‰∏™ËÆøÈóÆËÄÖÔºå‰ΩøÊØè‰∏Ä‰∏™ËÆøÈóÆËÄÖÁöÑÂäüËÉΩÈÉΩÊØîËæÉÂçï‰∏Ä„ÄÇ Áº∫ÁÇπÔºö Â¢ûÂä†Êñ∞ÁöÑÂÖÉÁ¥†Á±ªÂæàÂõ∞Èöæ„ÄÇÂú®ËÆøÈóÆËÄÖÊ®°Âºè‰∏≠ÔºåÊØèÂ¢ûÂä†‰∏Ä‰∏™Êñ∞ÁöÑÂÖÉÁ¥†Á±ªÔºåÈÉΩË¶ÅÂú®ÊØè‰∏Ä‰∏™ÂÖ∑‰ΩìËÆøÈóÆËÄÖÁ±ª‰∏≠Â¢ûÂä†Áõ∏Â∫îÁöÑÂÖ∑‰ΩìÊìç‰ΩúÔºåËøôËøùËÉå‰∫Ü‚ÄúÂºÄÈó≠ÂéüÂàô‚Äù„ÄÇ Á†¥ÂùèÂ∞ÅË£Ö„ÄÇËÆøÈóÆËÄÖÊ®°Âºè‰∏≠ÂÖ∑‰ΩìÂÖÉÁ¥†ÂØπËÆøÈóÆËÄÖÂÖ¨Â∏ÉÁªÜËäÇÔºåËøôÁ†¥Âùè‰∫ÜÂØπË±°ÁöÑÂ∞ÅË£ÖÊÄß„ÄÇ ËøùÂèç‰∫Ü‰æùËµñÂÄíÁΩÆÂéüÂàô„ÄÇËÆøÈóÆËÄÖÊ®°Âºè‰æùËµñ‰∫ÜÂÖ∑‰ΩìÁ±ªÔºåËÄåÊ≤°Êúâ‰æùËµñÊäΩË±°Á±ª„ÄÇ ËßíËâ≤Ôºö ÊäΩË±°ËÆøÈóÆËÄÖÔºàVisitorÔºâËßíËâ≤ÔºöÂÆö‰πâ‰∏Ä‰∏™ËÆøÈóÆÂÖ∑‰ΩìÂÖÉÁ¥†ÁöÑÊé•Âè£Ôºå‰∏∫ÊØè‰∏™ÂÖ∑‰ΩìÂÖÉÁ¥†Á±ªÂØπÂ∫î‰∏Ä‰∏™ËÆøÈóÆÊìç‰Ωú visit() ÔºåËØ•Êìç‰Ωú‰∏≠ÁöÑÂèÇÊï∞Á±ªÂûãÊ†áËØÜ‰∫ÜË¢´ËÆøÈóÆÁöÑÂÖ∑‰ΩìÂÖÉÁ¥†„ÄÇ ÂÖ∑‰ΩìËÆøÈóÆËÄÖÔºàConcreteVisitorÔºâËßíËâ≤ÔºöÂÆûÁé∞ÊäΩË±°ËÆøÈóÆËÄÖËßíËâ≤‰∏≠Â£∞ÊòéÁöÑÂêÑ‰∏™ËÆøÈóÆÊìç‰ΩúÔºåÁ°ÆÂÆöËÆøÈóÆËÄÖËÆøÈóÆ‰∏Ä‰∏™ÂÖÉÁ¥†Êó∂ËØ•ÂÅö‰ªÄ‰πà„ÄÇ ÊäΩË±°ÂÖÉÁ¥†ÔºàElementÔºâËßíËâ≤ÔºöÂ£∞Êòé‰∏Ä‰∏™ÂåÖÂê´Êé•ÂèóÊìç‰Ωú accept() ÁöÑÊé•Âè£ÔºåË¢´Êé•ÂèóÁöÑËÆøÈóÆËÄÖÂØπË±°‰Ωú‰∏∫ accept() ÊñπÊ≥ïÁöÑÂèÇÊï∞„ÄÇ ÂÖ∑‰ΩìÂÖÉÁ¥†ÔºàConcreteElementÔºâËßíËâ≤ÔºöÂÆûÁé∞ÊäΩË±°ÂÖÉÁ¥†ËßíËâ≤Êèê‰æõÁöÑ accept() Êìç‰ΩúÔºåÂÖ∂ÊñπÊ≥ï‰ΩìÈÄöÂ∏∏ÈÉΩÊòØ visitor.visit(this) ÔºåÂè¶Â§ñÂÖ∑‰ΩìÂÖÉÁ¥†‰∏≠ÂèØËÉΩËøòÂåÖÂê´Êú¨Ë∫´‰∏öÂä°ÈÄªËæëÁöÑÁõ∏ÂÖ≥Êìç‰Ωú„ÄÇ ÂØπË±°ÁªìÊûÑÔºàObject StructureÔºâËßíËâ≤ÔºöÊòØ‰∏Ä‰∏™ÂåÖÂê´ÂÖÉÁ¥†ËßíËâ≤ÁöÑÂÆπÂô®ÔºåÊèê‰æõËÆ©ËÆøÈóÆËÄÖÂØπË±°ÈÅçÂéÜÂÆπÂô®‰∏≠ÁöÑÊâÄÊúâÂÖÉÁ¥†ÁöÑÊñπÊ≥ïÔºåÈÄöÂ∏∏Áî± List„ÄÅSet„ÄÅMap Á≠âËÅöÂêàÁ±ªÂÆûÁé∞„ÄÇ ËÆøÈóÆËÄÖÊ®°ÂºèÁöÑÂ∫îÁî®Âú∫ÊôØÔºö ÂØπË±°ÁªìÊûÑÁõ∏ÂØπÁ®≥ÂÆöÔºå‰ΩÜÂÖ∂Êìç‰ΩúÁÆóÊ≥ïÁªèÂ∏∏ÂèòÂåñÁöÑÁ®ãÂ∫è„ÄÇ ÂØπË±°ÁªìÊûÑ‰∏≠ÁöÑÂØπË±°ÈúÄË¶ÅÊèê‰æõÂ§öÁßç‰∏çÂêå‰∏î‰∏çÁõ∏ÂÖ≥ÁöÑÊìç‰ΩúÔºåËÄå‰∏îË¶ÅÈÅøÂÖçËÆ©Ëøô‰∫õÊìç‰ΩúÁöÑÂèòÂåñÂΩ±ÂìçÂØπË±°ÁöÑÁªìÊûÑ„ÄÇ ÂØπË±°ÁªìÊûÑÂåÖÂê´ÂæàÂ§öÁ±ªÂûãÁöÑÂØπË±°ÔºåÂ∏åÊúõÂØπËøô‰∫õÂØπË±°ÂÆûÊñΩ‰∏Ä‰∫õ‰æùËµñ‰∫éÂÖ∂ÂÖ∑‰ΩìÁ±ªÂûãÁöÑÊìç‰Ωú„ÄÇ JAVAÂÆûÁé∞Ôºö 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374import java.util.*;public class VisitorPattern { public static void main(String[] args) { ObjectStructure os = new ObjectStructure(); os.add(new ConcreteElementA()); os.add(new ConcreteElementB()); Visitor visitor = new ConcreteVisitorA(); os.accept(visitor); System.out.println(&quot;------------------------&quot;); visitor = new ConcreteVisitorB(); os.accept(visitor); }}//ÊäΩË±°ËÆøÈóÆËÄÖinterface Visitor { void visit(ConcreteElementA element); void visit(ConcreteElementB element);}//ÂÖ∑‰ΩìËÆøÈóÆËÄÖAÁ±ªclass ConcreteVisitorA implements Visitor { public void visit(ConcreteElementA element) { System.out.println(&quot;ÂÖ∑‰ΩìËÆøÈóÆËÄÖAËÆøÈóÆ--&gt;&quot; + element.operationA()); } public void visit(ConcreteElementB element) { System.out.println(&quot;ÂÖ∑‰ΩìËÆøÈóÆËÄÖAËÆøÈóÆ--&gt;&quot; + element.operationB()); }}//ÂÖ∑‰ΩìËÆøÈóÆËÄÖBÁ±ªclass ConcreteVisitorB implements Visitor { public void visit(ConcreteElementA element) { System.out.println(&quot;ÂÖ∑‰ΩìËÆøÈóÆËÄÖBËÆøÈóÆ--&gt;&quot; + element.operationA()); } public void visit(ConcreteElementB element) { System.out.println(&quot;ÂÖ∑‰ΩìËÆøÈóÆËÄÖBËÆøÈóÆ--&gt;&quot; + element.operationB()); }}//ÊäΩË±°ÂÖÉÁ¥†Á±ªinterface Element { void accept(Visitor visitor);}//ÂÖ∑‰ΩìÂÖÉÁ¥†AÁ±ªclass ConcreteElementA implements Element { public void accept(Visitor visitor) { visitor.visit(this); } public String operationA() { return &quot;ÂÖ∑‰ΩìÂÖÉÁ¥†AÁöÑÊìç‰Ωú„ÄÇ&quot;; }}//ÂÖ∑‰ΩìÂÖÉÁ¥†BÁ±ªclass ConcreteElementB implements Element { public void accept(Visitor visitor) { visitor.visit(this); } public String operationB() { return &quot;ÂÖ∑‰ΩìÂÖÉÁ¥†BÁöÑÊìç‰Ωú„ÄÇ&quot;; }}//ÂØπË±°ÁªìÊûÑËßíËâ≤class ObjectStructure { private List&lt;Element&gt; list = new ArrayList&lt;Element&gt;(); public void accept(Visitor visitor) { Iterator&lt;Element&gt; i = list.iterator(); while (i.hasNext()) { ((Element) i.next()).accept(visitor); } } public void add(Element element) { list.add(element); } public void remove(Element element) { list.remove(element); }} „ÄäÂ§áÂøòÂΩï/Âø´ÁÖß Ê®°Âºè Memento Pattern„Äã ÁâπÁÇπÔºö Âú®‰∏çÁ†¥ÂùèÂ∞ÅË£ÖÊÄßÁöÑÂâçÊèê‰∏ãÔºåÊçïËé∑‰∏Ä‰∏™ÂØπË±°ÁöÑÂÜÖÈÉ®Áä∂ÊÄÅÔºåÂπ∂Âú®ËØ•ÂØπË±°‰πãÂ§ñ‰øùÂ≠òËøô‰∏™Áä∂ÊÄÅÔºå‰ª•‰æø‰ª•ÂêéÂΩìÈúÄË¶ÅÊó∂ËÉΩÂ∞ÜËØ•ÂØπË±°ÊÅ¢Â§çÂà∞ÂéüÂÖà‰øùÂ≠òÁöÑÁä∂ÊÄÅ„ÄÇËØ•Ê®°ÂºèÂèàÂè´Âø´ÁÖßÊ®°Âºè„ÄÇ ‰ºòÁÇπÔºö Êèê‰æõ‰∫Ü‰∏ÄÁßçÂèØ‰ª•ÊÅ¢Â§çÁä∂ÊÄÅÁöÑÊú∫Âà∂„ÄÇÂΩìÁî®Êà∑ÈúÄË¶ÅÊó∂ËÉΩÂ§üÊØîËæÉÊñπ‰æøÂú∞Â∞ÜÊï∞ÊçÆÊÅ¢Â§çÂà∞Êüê‰∏™ÂéÜÂè≤ÁöÑÁä∂ÊÄÅ„ÄÇ ÂÆûÁé∞‰∫ÜÂÜÖÈÉ®Áä∂ÊÄÅÁöÑÂ∞ÅË£Ö„ÄÇÈô§‰∫ÜÂàõÂª∫ÂÆÉÁöÑÂèëËµ∑‰∫∫‰πãÂ§ñÔºåÂÖ∂‰ªñÂØπË±°ÈÉΩ‰∏çËÉΩÂ§üËÆøÈóÆËøô‰∫õÁä∂ÊÄÅ‰ø°ÊÅØ„ÄÇ ÁÆÄÂåñ‰∫ÜÂèëËµ∑‰∫∫Á±ª„ÄÇÂèëËµ∑‰∫∫‰∏çÈúÄË¶ÅÁÆ°ÁêÜÂíå‰øùÂ≠òÂÖ∂ÂÜÖÈÉ®Áä∂ÊÄÅÁöÑÂêÑ‰∏™Â§á‰ªΩÔºåÊâÄÊúâÁä∂ÊÄÅ‰ø°ÊÅØÈÉΩ‰øùÂ≠òÂú®Â§áÂøòÂΩï‰∏≠ÔºåÂπ∂Áî±ÁÆ°ÁêÜËÄÖËøõË°åÁÆ°ÁêÜÔºåËøôÁ¨¶ÂêàÂçï‰∏ÄËÅåË¥£ÂéüÂàô„ÄÇ Áº∫ÁÇπÔºö ËµÑÊ∫êÊ∂àËÄóÂ§ß„ÄÇÂ¶ÇÊûúË¶Å‰øùÂ≠òÁöÑÂÜÖÈÉ®Áä∂ÊÄÅ‰ø°ÊÅØËøáÂ§öÊàñËÄÖÁâπÂà´È¢ëÁπÅÔºåÂ∞Ü‰ºöÂç†Áî®ÊØîËæÉÂ§ßÁöÑÂÜÖÂ≠òËµÑÊ∫ê„ÄÇ ËßíËâ≤Ôºö ÂèëËµ∑‰∫∫ÔºàOriginatorÔºâËßíËâ≤ÔºöËÆ∞ÂΩïÂΩìÂâçÊó∂ÂàªÁöÑÂÜÖÈÉ®Áä∂ÊÄÅ‰ø°ÊÅØÔºåÊèê‰æõÂàõÂª∫Â§áÂøòÂΩïÂíåÊÅ¢Â§çÂ§áÂøòÂΩïÊï∞ÊçÆÁöÑÂäüËÉΩÔºåÂÆûÁé∞ÂÖ∂‰ªñ‰∏öÂä°ÂäüËÉΩÔºåÂÆÉÂèØ‰ª•ËÆøÈóÆÂ§áÂøòÂΩïÈáåÁöÑÊâÄÊúâ‰ø°ÊÅØ„ÄÇ Â§áÂøòÂΩïÔºàMementoÔºâËßíËâ≤ÔºöË¥üË¥£Â≠òÂÇ®ÂèëËµ∑‰∫∫ÁöÑÂÜÖÈÉ®Áä∂ÊÄÅÔºåÂú®ÈúÄË¶ÅÁöÑÊó∂ÂÄôÊèê‰æõËøô‰∫õÂÜÖÈÉ®Áä∂ÊÄÅÁªôÂèëËµ∑‰∫∫„ÄÇ ÁÆ°ÁêÜËÄÖÔºàCaretakerÔºâËßíËâ≤ÔºöÂØπÂ§áÂøòÂΩïËøõË°åÁÆ°ÁêÜÔºåÊèê‰æõ‰øùÂ≠ò‰∏éËé∑ÂèñÂ§áÂøòÂΩïÁöÑÂäüËÉΩÔºå‰ΩÜÂÖ∂‰∏çËÉΩÂØπÂ§áÂøòÂΩïÁöÑÂÜÖÂÆπËøõË°åËÆøÈóÆ‰∏é‰øÆÊîπ„ÄÇ Â§áÂøòÂΩï/Âø´ÁÖß Ê®°ÂºèÁöÑÂ∫îÁî®Âú∫ÊôØÔºö JAVAÂÆûÁé∞Ôºö 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152public class MementoPattern { public static void main(String[] args) { Originator or = new Originator(); Caretaker cr = new Caretaker(); or.setState(&quot;S0&quot;); System.out.println(&quot;ÂàùÂßãÁä∂ÊÄÅ:&quot; + or.getState()); cr.setMemento(or.createMemento()); //‰øùÂ≠òÁä∂ÊÄÅ or.setState(&quot;S1&quot;); System.out.println(&quot;Êñ∞ÁöÑÁä∂ÊÄÅ:&quot; + or.getState()); or.restoreMemento(cr.getMemento()); //ÊÅ¢Â§çÁä∂ÊÄÅ System.out.println(&quot;ÊÅ¢Â§çÁä∂ÊÄÅ:&quot; + or.getState()); }}//Â§áÂøòÂΩïclass Memento { private String state; public Memento(String state) { this.state = state; } public void setState(String state) { this.state = state; } public String getState() { return state; }}//ÂèëËµ∑‰∫∫class Originator { private String state; public void setState(String state) { this.state = state; } public String getState() { return state; } public Memento createMemento() { return new Memento(state); } public void restoreMemento(Memento m) { this.setState(m.getState()); }}//ÁÆ°ÁêÜËÄÖclass Caretaker { private Memento memento; public void setMemento(Memento m) { memento = m; } public Memento getMemento() { return memento; }} „ÄäËß£ÈáäÂô®Ê®°Âºè Interpreter Pattern„Äã ÁâπÁÇπÔºö ÁªôÂàÜÊûêÂØπË±°ÂÆö‰πâ‰∏Ä‰∏™ËØ≠Ë®ÄÔºåÂπ∂ÂÆö‰πâËØ•ËØ≠Ë®ÄÁöÑÊñáÊ≥ïË°®Á§∫ÔºåÂÜçËÆæËÆ°‰∏Ä‰∏™Ëß£ÊûêÂô®Êù•Ëß£ÈáäËØ≠Ë®Ä‰∏≠ÁöÑÂè•Â≠ê„ÄÇ‰πüÂ∞±ÊòØËØ¥ÔºåÁî®ÁºñËØëËØ≠Ë®ÄÁöÑÊñπÂºèÊù•ÂàÜÊûêÂ∫îÁî®‰∏≠ÁöÑÂÆû‰æã„ÄÇËøôÁßçÊ®°ÂºèÂÆûÁé∞‰∫ÜÊñáÊ≥ïË°®ËææÂºèÂ§ÑÁêÜÁöÑÊé•Âè£ÔºåËØ•Êé•Âè£Ëß£Èáä‰∏Ä‰∏™ÁâπÂÆöÁöÑ‰∏ä‰∏ãÊñá„ÄÇ ‰ºòÁÇπÔºö Êâ©Â±ïÊÄßÂ•Ω„ÄÇÁî±‰∫éÂú®Ëß£ÈáäÂô®Ê®°Âºè‰∏≠‰ΩøÁî®Á±ªÊù•Ë°®Á§∫ËØ≠Ë®ÄÁöÑÊñáÊ≥ïËßÑÂàôÔºåÂõ†Ê≠§ÂèØ‰ª•ÈÄöËøáÁªßÊâøÁ≠âÊú∫Âà∂Êù•ÊîπÂèòÊàñÊâ©Â±ïÊñáÊ≥ï„ÄÇ ÂÆπÊòìÂÆûÁé∞„ÄÇÂú®ËØ≠Ê≥ïÊ†ë‰∏≠ÁöÑÊØè‰∏™Ë°®ËææÂºèËäÇÁÇπÁ±ªÈÉΩÊòØÁõ∏‰ººÁöÑÔºåÊâÄ‰ª•ÂÆûÁé∞ÂÖ∂ÊñáÊ≥ïËæÉ‰∏∫ÂÆπÊòì„ÄÇ Áº∫ÁÇπÔºö ÊâßË°åÊïàÁéáËæÉ‰Ωé„ÄÇËß£ÈáäÂô®Ê®°Âºè‰∏≠ÈÄöÂ∏∏‰ΩøÁî®Â§ßÈáèÁöÑÂæ™ÁéØÂíåÈÄíÂΩíË∞ÉÁî®ÔºåÂΩìË¶ÅËß£ÈáäÁöÑÂè•Â≠êËæÉÂ§çÊùÇÊó∂ÔºåÂÖ∂ËøêË°åÈÄüÂ∫¶ÂæàÊÖ¢Ôºå‰∏î‰ª£Á†ÅÁöÑË∞ÉËØïËøáÁ®ã‰πüÊØîËæÉÈ∫ªÁÉ¶„ÄÇ ‰ºöÂºïËµ∑Á±ªËÜ®ËÉÄ„ÄÇËß£ÈáäÂô®Ê®°Âºè‰∏≠ÁöÑÊØèÊù°ËßÑÂàôËá≥Â∞ëÈúÄË¶ÅÂÆö‰πâ‰∏Ä‰∏™Á±ªÔºåÂΩìÂåÖÂê´ÁöÑÊñáÊ≥ïËßÑÂàôÂæàÂ§öÊó∂ÔºåÁ±ªÁöÑ‰∏™Êï∞Â∞ÜÊÄ•ÂâßÂ¢ûÂä†ÔºåÂØºËá¥Á≥ªÁªüÈöæ‰ª•ÁÆ°ÁêÜ‰∏éÁª¥Êä§„ÄÇ ÂèØÂ∫îÁî®ÁöÑÂú∫ÊôØÊØîËæÉÂ∞ë„ÄÇÂú®ËΩØ‰ª∂ÂºÄÂèë‰∏≠ÔºåÈúÄË¶ÅÂÆö‰πâËØ≠Ë®ÄÊñáÊ≥ïÁöÑÂ∫îÁî®ÂÆû‰æãÈùûÂ∏∏Â∞ëÔºåÊâÄ‰ª•ËøôÁßçÊ®°ÂºèÂæàÂ∞ëË¢´‰ΩøÁî®Âà∞„ÄÇ ËßíËâ≤Ôºö ÊñáÊ≥ïÔºà‰∏ªË∞ìÂÆæÔºâ„ÄÅÂè•Â≠ê„ÄÅËØ≠Ê≥ïÊ†ë ÊäΩË±°Ë°®ËææÂºèÔºàAbstract ExpressionÔºâËßíËâ≤ÔºöÂÆö‰πâËß£ÈáäÂô®ÁöÑÊé•Âè£ÔºåÁ∫¶ÂÆöËß£ÈáäÂô®ÁöÑËß£ÈáäÊìç‰ΩúÔºå‰∏ªË¶ÅÂåÖÂê´Ëß£ÈáäÊñπÊ≥ï interpret()„ÄÇ ÁªàÁªìÁ¨¶Ë°®ËææÂºèÔºàTerminal ExpressionÔºâËßíËâ≤ÔºöÊòØÊäΩË±°Ë°®ËææÂºèÁöÑÂ≠êÁ±ªÔºåÁî®Êù•ÂÆûÁé∞ÊñáÊ≥ï‰∏≠‰∏éÁªàÁªìÁ¨¶Áõ∏ÂÖ≥ÁöÑÊìç‰ΩúÔºåÊñáÊ≥ï‰∏≠ÁöÑÊØè‰∏Ä‰∏™ÁªàÁªìÁ¨¶ÈÉΩÊúâ‰∏Ä‰∏™ÂÖ∑‰ΩìÁªàÁªìË°®ËææÂºè‰∏é‰πãÁõ∏ÂØπÂ∫î„ÄÇ ÈùûÁªàÁªìÁ¨¶Ë°®ËææÂºèÔºàNonterminal ExpressionÔºâËßíËâ≤Ôºö‰πüÊòØÊäΩË±°Ë°®ËææÂºèÁöÑÂ≠êÁ±ªÔºåÁî®Êù•ÂÆûÁé∞ÊñáÊ≥ï‰∏≠‰∏éÈùûÁªàÁªìÁ¨¶Áõ∏ÂÖ≥ÁöÑÊìç‰ΩúÔºåÊñáÊ≥ï‰∏≠ÁöÑÊØèÊù°ËßÑÂàôÈÉΩÂØπÂ∫î‰∫é‰∏Ä‰∏™ÈùûÁªàÁªìÁ¨¶Ë°®ËææÂºè„ÄÇ ÁéØÂ¢ÉÔºàContextÔºâËßíËâ≤ÔºöÈÄöÂ∏∏ÂåÖÂê´ÂêÑ‰∏™Ëß£ÈáäÂô®ÈúÄË¶ÅÁöÑÊï∞ÊçÆÊàñÊòØÂÖ¨ÂÖ±ÁöÑÂäüËÉΩÔºå‰∏ÄËà¨Áî®Êù•‰º†ÈÄíË¢´ÊâÄÊúâËß£ÈáäÂô®ÂÖ±‰∫´ÁöÑÊï∞ÊçÆÔºåÂêéÈù¢ÁöÑËß£ÈáäÂô®ÂèØ‰ª•‰ªéËøôÈáåËé∑ÂèñËøô‰∫õÂÄº„ÄÇ ÂÆ¢Êà∑Á´ØÔºàClientÔºâÔºö‰∏ªË¶Å‰ªªÂä°ÊòØÂ∞ÜÈúÄË¶ÅÂàÜÊûêÁöÑÂè•Â≠êÊàñË°®ËææÂºèËΩ¨Êç¢Êàê‰ΩøÁî®Ëß£ÈáäÂô®ÂØπË±°ÊèèËø∞ÁöÑÊäΩË±°ËØ≠Ê≥ïÊ†ëÔºåÁÑ∂ÂêéË∞ÉÁî®Ëß£ÈáäÂô®ÁöÑËß£ÈáäÊñπÊ≥ïÔºåÂΩìÁÑ∂‰πüÂèØ‰ª•ÈÄöËøáÁéØÂ¢ÉËßíËâ≤Èó¥Êé•ËÆøÈóÆËß£ÈáäÂô®ÁöÑËß£ÈáäÊñπÊ≥ï„ÄÇ Ëß£ÈáäÂô®Ê®°ÂºèÁöÑÂ∫îÁî®Âú∫ÊôØÔºö ÂΩìËØ≠Ë®ÄÁöÑÊñáÊ≥ïËæÉ‰∏∫ÁÆÄÂçïÔºå‰∏îÊâßË°åÊïàÁéá‰∏çÊòØÂÖ≥ÈîÆÈóÆÈ¢òÊó∂„ÄÇ ÂΩìÈóÆÈ¢òÈáçÂ§çÂá∫Áé∞Ôºå‰∏îÂèØ‰ª•Áî®‰∏ÄÁßçÁÆÄÂçïÁöÑËØ≠Ë®ÄÊù•ËøõË°åË°®ËææÊó∂„ÄÇ ÂΩì‰∏Ä‰∏™ËØ≠Ë®ÄÈúÄË¶ÅËß£ÈáäÊâßË°åÔºåÂπ∂‰∏îËØ≠Ë®Ä‰∏≠ÁöÑÂè•Â≠êÂèØ‰ª•Ë°®Á§∫‰∏∫‰∏Ä‰∏™ÊäΩË±°ËØ≠Ê≥ïÊ†ëÁöÑÊó∂ÂÄôÔºåÂ¶Ç XML ÊñáÊ°£Ëß£Èáä„ÄÇ JAVAÂÆûÁé∞Ôºö 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667import java.util.*;/*ÊñáÊ≥ïËßÑÂàô &lt;expression&gt; ::= &lt;city&gt;ÁöÑ&lt;person&gt; &lt;city&gt; ::= Èü∂ÂÖ≥|ÂπøÂ∑û &lt;person&gt; ::= ËÄÅ‰∫∫|Â¶áÂ•≥|ÂÑøÁ´•*/public class InterpreterPatternDemo { public static void main(String[] args) { Context bus = new Context(); bus.freeRide(&quot;Èü∂ÂÖ≥ÁöÑËÄÅ‰∫∫&quot;); bus.freeRide(&quot;Èü∂ÂÖ≥ÁöÑÂπ¥ËΩª‰∫∫&quot;); bus.freeRide(&quot;ÂπøÂ∑ûÁöÑÂ¶áÂ•≥&quot;); bus.freeRide(&quot;ÂπøÂ∑ûÁöÑÂÑøÁ´•&quot;); bus.freeRide(&quot;Â±±‰∏úÁöÑÂÑøÁ´•&quot;); }}//ÊäΩË±°Ë°®ËææÂºèÁ±ªinterface Expression { public boolean interpret(String info);}//ÁªàÁªìÁ¨¶Ë°®ËææÂºèÁ±ªclass TerminalExpression implements Expression { private Set&lt;String&gt; set = new HashSet&lt;String&gt;(); public TerminalExpression(String[] data) { for (int i = 0; i &lt; data.length; i++) set.add(data[i]); } @Override public boolean interpret(String info) { if (set.contains(info)) { return true; } return false; }}//ÈùûÁªàÁªìÁ¨¶Ë°®ËææÂºèÁ±ªclass AndExpression implements Expression { private Expression city = null; private Expression person = null; public AndExpression(Expression city, Expression person) { this.city = city; this.person = person; } @Override public boolean interpret(String info) { String s[] = info.split(&quot;ÁöÑ&quot;); return city.interpret(s[0]) &amp;&amp; person.interpret(s[1]); }}//ÁéØÂ¢ÉÁ±ªclass Context { private String[] citys = {&quot;Èü∂ÂÖ≥&quot;, &quot;ÂπøÂ∑û&quot;}; private String[] persons = {&quot;ËÄÅ‰∫∫&quot;, &quot;Â¶áÂ•≥&quot;, &quot;ÂÑøÁ´•&quot;}; private Expression cityPerson; public Context() { Expression city = new TerminalExpression(citys); Expression person = new TerminalExpression(persons); cityPerson = new AndExpression(city, person); } public void freeRide(String info) { boolean ok = cityPerson.interpret(info); if (ok) { System.out.println(&quot;ÊÇ®ÊòØ&quot; + info + &quot;ÔºåÊÇ®Êú¨Ê¨°‰πòËΩ¶ÂÖçË¥πÔºÅ&quot;); } else { System.out.println(info + &quot;ÔºåÊÇ®‰∏çÊòØÂÖçË¥π‰∫∫ÂëòÔºåÊú¨Ê¨°‰πòËΩ¶Êâ£Ë¥π2ÂÖÉÔºÅ&quot;); } }} ÂÖ®Ê®°ÂºèÊÄªÁªì ‰∏ÄÂè•ËØùÂÖ®Ê®°ÂºèÊÄªÁªì ÂàÜÁ±ª ËÆæËÆ°Ê®°Âºè ÁÆÄËø∞ ‰∏ÄÂè•ËØùÂΩíÁ∫≥ ÁõÆÁöÑ ÁîüÊ¥ªÊ°à‰æã ÂàõÂª∫ÂûãËÆæËÆ°Ê®°Âºè ÔºàÁÆÄÂçïÊù•ËØ¥Â∞±ÊòØÁî®Êù•ÂàõÂª∫ÂØπË±°ÁöÑÔºâ [Â∑•ÂéÇÊ®°ÂºèÔºàFactory PatternÔºâ](#„ÄäÂ∑•ÂéÇÊ®°ÂºèFactory Pattern„Äã) ‰∏çÂêåÊù°‰ª∂‰∏ãÂàõÂª∫‰∏çÂêåÂÆû‰æã ‰∫ßÂìÅÊ†áÂáÜÂåñÔºåÁîü‰∫ßÊõ¥È´òÊïà Â∞ÅË£ÖÂàõÂª∫ÁªÜËäÇ ÂÆû‰ΩìÂ∑•ÂéÇ Âçï‰æãÊ®°ÂºèÔºàSingleton PatternÔºâ ‰øùËØÅ‰∏Ä‰∏™Á±ª‰ªÖÊúâ‰∏Ä‰∏™ÂÆû‰æãÔºåÂπ∂‰∏îÊèê‰æõ‰∏Ä‰∏™ÂÖ®Â±ÄËÆøÈóÆÁÇπ ‰∏ñ‰∏äÂè™Êúâ‰∏Ä‰∏™Êàë ‰øùËØÅÁã¨‰∏ÄÊó†‰∫å CEO ÂéüÂûãÊ®°ÂºèÔºàPrototype PatternÔºâ ÈÄöËøáÊã∑Ë¥ùÂéüÂûãÂàõÂª∫Êñ∞ÁöÑÂØπË±° Êãî‰∏ÄÊ†πÁå¥ÊØõÔºåÂêπÂá∫ÂçÉ‰∏á‰∏™ È´òÊïàÂàõÂª∫ÂØπË±° ÂÖãÈöÜ Âª∫ÈÄ†ËÄÖÊ®°ÂºèÔºàBuilder PatternÔºâ Áî®Êù•ÂàõÂª∫Â§çÊùÇÁöÑÂ§çÂêàÂØπË±° È´òÈÖç‰∏≠ÈÖçÂíå‰ΩéÈÖçÔºåÊÉ≥ÈÄâÂì™ÈÖçÂ∞±Âì™ÈÖç ÂºÄÊîæ‰∏™ÊÄßÈÖçÁΩÆÊ≠•È™§ ÈÄâÈÖç ÁªìÊûÑÂûãËÆæËÆ°Ê®°Âºè ÔºàÂÖ≥Ê≥®Á±ªÂíåÂØπË±°ÁöÑÁªÑÂêàÔºâ [‰ª£ÁêÜÊ®°ÂºèÔºàProxy PatternÔºâ](#„Ää‰ª£ÁêÜÊ®°Âºè Proxy „Äã) ‰∏∫ÂÖ∂‰ªñÂØπË±°Êèê‰æõ‰∏ÄÁßç‰ª£ÁêÜ‰ª•ÊéßÂà∂ÂØπËøô‰∏™ÂØπË±°ÁöÑËÆøÈóÆ Ê≤°ÊúâËµÑÊ∫êÊ≤°Êó∂Èó¥ÔºåÂæóÊâæÂà´‰∫∫Êù•Â∏ÆÂøô Â¢ûÂº∫ËÅåË¥£ Â™íÂ©Ü [Â§ñËßÇÊ®°ÂºèÔºàFacade PatternÔºâ](#„ÄäÂ§ñËßÇÊ®°Âºè Facade Pattern„Äã) ÂØπÂ§ñÊèê‰æõ‰∏Ä‰∏™Áªü‰∏ÄÁöÑÊé•Âè£Áî®Êù•ËÆøÈóÆÂ≠êÁ≥ªÁªü ÊâìÂºÄ‰∏ÄÊâáÈó®ÔºåÈÄöÂêëÂÖ®‰∏ñÁïå Áªü‰∏ÄËÆøÈóÆÂÖ•Âè£ ÂâçÂè∞ [Ë£ÖÈ•∞Âô®Ê®°ÂºèÔºàDecorator PatternÔºâ](#„ÄäË£ÖÈ•∞Âô®Ê®°Âºè Decorator Pattern„Äã) ‰∏∫ÂØπË±°Ê∑ªÂä†Êñ∞ÂäüËÉΩ ‰ªñÂ§ßËàÖ‰ªñ‰∫åËàÖÈÉΩÊòØ‰ªñËàÖ ÁÅµÊ¥ªÊâ©Â±ï„ÄÅÂêåÂÆóÂêåÊ∫ê ÁÖéÈ•º [‰∫´ÂÖÉÊ®°ÂºèÔºàFlyweight PatternÔºâ](#„Ää‰∫´ÂÖÉÊ®°Âºè Flyweight Pattern„Äã) ‰ΩøÁî®ÂØπË±°Ê±†Êù•ÂáèÂ∞ëÈáçÂ§çÂØπË±°ÁöÑÂàõÂª∫ ‰ºòÂåñËµÑÊ∫êÈÖçÁΩÆÔºåÂáèÂ∞ëÈáçÂ§çÊµ™Ë¥π ÂÖ±‰∫´ËµÑÊ∫êÊ±† ÂÖ®ÂõΩÁ§æ‰øùËÅîÁΩë [ÁªÑÂêàÊ®°ÂºèÔºàComposite PatternÔºâ](#„ÄäÁªÑÂêàÊ®°Âºè Composite Pattern„Äã) Â∞ÜÊï¥‰Ωì‰∏éÂ±ÄÈÉ®ÔºàÊ†ëÂΩ¢ÁªìÊûÑÔºâËøõË°åÈÄíÂΩíÁªÑÂêàÔºåËÆ©ÂÆ¢Êà∑Á´ØËÉΩÂ§ü‰ª•‰∏ÄÁßçÁöÑÊñπÂºèÂØπÂÖ∂ËøõË°åÂ§ÑÁêÜ ‰∫∫Âú®‰∏ÄËµ∑Âè´Âõ¢‰ºôÔºåÂøÉÂú®‰∏ÄËµ∑Âè´Âõ¢Èòü Áªü‰∏ÄÊï¥‰ΩìÂíå‰∏™‰Ωì ÁªÑÁªáÊû∂ÊûÑÊ†ë [ÈÄÇÈÖçÂô®Ê®°ÂºèÔºàAdapter PatternÔºâ](#„ÄäÈÄÇÈÖçÂô®Ê®°Âºè Adapter „Äã) Â∞ÜÂéüÊù•‰∏çÂÖºÂÆπÁöÑ‰∏§‰∏™Á±ªËûçÂêàÂú®‰∏ÄËµ∑ ‰∏áËÉΩÂÖÖÁîµÂô® ÂÖºÂÆπËΩ¨Êç¢ ÁîµÊ∫êÈÄÇÈÖç [Ê°•Êé•Ê®°ÂºèÔºàBridge PatternÔºâ](#„ÄäÊ°•Êé•Ê®°Âºè Bridge„Äã) Â∞Ü‰∏§‰∏™ËÉΩÂ§üÁã¨Á´ãÂèòÂåñÁöÑÈÉ®ÂàÜÂàÜÁ¶ªÂºÄÊù• Á∫¶ÂÆö‰ºò‰∫éÈÖçÁΩÆ ‰∏çÂÖÅËÆ∏Áî®ÁªßÊâø Ê°• Ë°å‰∏∫ÂûãËÆæËÆ°Ê®°Âºè ÔºàÂÖ≥Ê≥®ÂØπË±°‰πãÈó¥ÁöÑÈÄö‰ø°Ôºâ Ê®°ÊùøÊ®°ÂºèÔºàTemplate PatternÔºâ ÂÆö‰πâ‰∏ÄÂ•óÊµÅÁ®ãÊ®°ÊùøÔºåÊ†πÊçÆÈúÄË¶ÅÂÆûÁé∞Ê®°Êùø‰∏≠ÁöÑÊìç‰Ωú ÊµÅÁ®ãÂÖ®ÈÉ®Ê†áÂáÜÂåñÔºåÈúÄË¶ÅÂæÆË∞ÉËØ∑Ë¶ÜÁõñ ÈÄªËæëÂ§çÁî® ÊääÂ§ßË±°Ë£ÖËøõÂÜ∞ÁÆ± Á≠ñÁï•Ê®°ÂºèÔºàStrategy PatternÔºâ Â∞ÅË£Ö‰∏çÂêåÁöÑÁÆóÊ≥ïÔºåÁÆóÊ≥ï‰πãÈó¥ËÉΩ‰∫íÁõ∏ÊõøÊç¢ Êù°Êù°Â§ßÈÅìÈÄöÁΩóÈ©¨ÔºåÂÖ∑‰ΩìÂì™Êù°‰Ω†Êù•ÂÆö ÊääÈÄâÊã©ÊùÉ‰∫§ÁªôÁî®Êà∑ ÈÄâÊã©ÊîØ‰ªòÊñπÂºè Ë¥£‰ªªÈìæÊ®°ÂºèÔºàChain of Responsibility PatternÔºâ Êã¶Êà™ÁöÑÁ±ªÈÉΩÂÆûÁé∞Áªü‰∏ÄÊé•Âè£ÔºåÊØè‰∏™Êé•Êî∂ËÄÖÈÉΩÂåÖÂê´ÂØπ‰∏ã‰∏Ä‰∏™Êé•Êî∂ËÄÖÁöÑÂºïÁî®„ÄÇÂ∞ÜËøô‰∫õÂØπË±°ËøûÊé•Êàê‰∏ÄÊù°ÈìæÔºåÂπ∂‰∏îÊ≤øÁùÄËøôÊù°Èìæ‰º†ÈÄíËØ∑Ê±ÇÔºåÁõ¥Âà∞ÊúâÂØπË±°Â§ÑÁêÜÂÆÉ‰∏∫Ê≠¢„ÄÇ ÂêÑ‰∫∫Ëá™Êâ´Èó®ÂâçÈõ™ÔºåËé´ÁÆ°‰ªñ‰ª¨Áì¶‰∏äÈúú Ëß£ËÄ¶Â§ÑÁêÜÈÄªËæë Ë∏¢ÁöÆÁêÉ Ëø≠‰ª£Âô®Ê®°ÂºèÔºàIterator PatternÔºâ Êèê‰æõ‰∏ÄÁßçÊñπÊ≥ïÈ°∫Â∫èËÆøÈóÆ‰∏Ä‰∏™ËÅöÂêàÂØπË±°‰∏≠ÁöÑÂêÑ‰∏™ÂÖÉÁ¥† ÊµÅÊ∞¥Á∫ø‰∏äÂùê‰∏ÄÂ§©ÔºåÊØè‰∏™ÂåÖË£πÊâ´‰∏ÄÈÅç Áªü‰∏ÄÂØπÈõÜÂêàÁöÑËÆøÈóÆÊñπÂºè ÈÄê‰∏™Ê£ÄÁ•®ËøõÁ´ô ÂëΩ‰ª§Ê®°ÂºèÔºàCommand PatternÔºâ Â∞ÜËØ∑Ê±ÇÂ∞ÅË£ÖÊàêÂëΩ‰ª§ÔºåÂπ∂ËÆ∞ÂΩï‰∏ãÊù•ÔºåËÉΩÂ§üÊí§ÈîÄ‰∏éÈáçÂÅö ËøêÁ≠πÂ∏∑ÂπÑ‰πã‰∏≠ÔºåÂÜ≥ËÉúÂçÉÈáå‰πãÂ§ñ Ëß£ËÄ¶ËØ∑Ê±ÇÂíåÂ§ÑÁêÜ ÈÅ•ÊéßÂô® Áä∂ÊÄÅÊ®°ÂºèÔºàState PatternÔºâ Ê†πÊçÆ‰∏çÂêåÁöÑÁä∂ÊÄÅÂÅöÂá∫‰∏çÂêåÁöÑË°å‰∏∫ Áä∂ÊÄÅÈ©±Âä®Ë°å‰∏∫ÔºåË°å‰∏∫ÂÜ≥ÂÆöÁä∂ÊÄÅ ÁªëÂÆöÁä∂ÊÄÅÂíåË°å‰∏∫ ËÆ¢ÂçïÁä∂ÊÄÅË∑üË∏™ Â§áÂøòÂΩïÊ®°ÂºèÔºàMemento PatternÔºâ ‰øùÂ≠òÂØπË±°ÁöÑÁä∂ÊÄÅÔºåÂú®ÈúÄË¶ÅÊó∂ËøõË°åÊÅ¢Â§ç Â§±Ë∂≥‰∏çÊàêÂçÉÂè§ÊÅ®ÔºåÊÉ≥ÈáçÊù•Êó∂Â∞±ÈáçÊù• Â§á‰ªΩ„ÄÅÂêéÊÇîÊú∫Âà∂ ËçâÁ®øÁÆ± ‰∏≠‰ªãËÄÖÊ®°ÂºèÔºàMediator PatternÔºâ Â∞ÜÂØπË±°‰πãÈó¥ÁöÑÈÄö‰ø°ÂÖ≥ËÅîÂÖ≥Á≥ªÂ∞ÅË£ÖÂà∞‰∏Ä‰∏™‰∏≠‰ªãÁ±ª‰∏≠ÂçïÁã¨Â§ÑÁêÜÔºå‰ªéËÄå‰ΩøÂÖ∂ËÄ¶ÂêàÊùæÊï£ ËÅîÁ≥ªÊñπÂºèÊàëÁªô‰Ω†ÔºåÊÄé‰πàÊêûÂÆöÊàë‰∏çÁÆ° Áªü‰∏ÄÁÆ°ÁêÜÁΩëÁä∂ËµÑÊ∫ê ÊúãÂèãÂúà Ëß£ÈáäÂô®Ê®°ÂºèÔºàInterpreter PatternÔºâ ÁªôÂÆö‰∏Ä‰∏™ËØ≠Ë®ÄÔºåÂÆö‰πâÂÆÉÁöÑËØ≠Ê≥ïË°®Á§∫ÔºåÂπ∂ÂÆö‰πâ‰∏Ä‰∏™Ëß£ÈáäÂô®ÔºåËøô‰∏™Ëß£ÈáäÂô®‰ΩøÁî®ËØ•Ê†áËØÜÊù•Ëß£ÈáäËØ≠Ë®Ä‰∏≠ÁöÑÂè•Â≠ê ÊàëÊÉ≥ËØ¥‚ÄùÊñπË®Ä‚ÄúÔºå‰∏ÄÂàáËß£ÈáäÊùÉÈÉΩÂΩíÊàë ÂÆûÁé∞ÁâπÂÆöËØ≠Ê≥ïËß£Êûê Êë©ÊñØÂØÜÁ†Å ËßÇÂØüËÄÖÊ®°ÂºèÔºàObserver PatternÔºâ Áä∂ÊÄÅÂèëÁîüÊîπÂèòÊó∂ÈÄöÁü•ËßÇÂØüËÄÖÔºå‰∏ÄÂØπÂ§öÁöÑÂÖ≥Á≥ª Âà∞ÁÇπÂ∞±ÈÄöÁü•Êàë Ëß£ËÄ¶ËßÇÂØüËÄÖ‰∏éË¢´ËßÇÂØüËÄÖ ÈóπÈíü ËÆøÈóÆËÄÖÊ®°ÂºèÔºàVisitor PatternÔºâ Á®≥ÂÆöÊï∞ÊçÆÁªìÊûÑÔºåÂÆö‰πâÊñ∞ÁöÑÊìç‰ΩúË°å‰∏∫ Ê®™ÁúãÊàêÂ≤≠‰æßÊàêÂ≥∞ÔºåËøúËøëÈ´ò‰ΩéÂêÑ‰∏çÂêå Ëß£ËÄ¶Êï∞ÊçÆÁªìÊûÑÂíåÊï∞ÊçÆÊìç‰Ωú KPIËÄÉÊ†∏ ÂßîÊ¥æÊ®°ÂºèÔºàDelegate PatternÔºâ ÂÖÅËÆ∏ÂØπË±°ÁªÑÂêàÂÆûÁé∞‰∏éÁªßÊâøÁõ∏ÂêåÁöÑ‰ª£Á†ÅÈáçÁî®ÔºåË¥üË¥£‰ªªÂä°ÁöÑË∞ÉÁî®ÂíåÂàÜÈÖç Ëøô‰∏™ÈúÄÊ±ÇÂæàÁÆÄÂçïÔºåÊÄé‰πàÂÆûÁé∞Êàë‰∏çÁÆ° Âè™ÂØπÁªìÊûúË¥üË¥£ ÊéàÊùÉÂßîÊâò‰π¶ ËµÑÊñôÊù•Ê∫ê ÁºñÁ®ãÂ∏Æ Refactoringguru.cn","link":"/2021/03/01/Draft/2021/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"},{"title":"È≠ëÈ≠ÖÂÖàÁîü | Redis","text":"ÁÆÄ‰ªã RedisÔºàRemote Dictionary ServerÔºâËøúÁ®ãÂ≠óÂÖ∏ÊúçÂä° ÂÖçË¥πÂºÄÊ∫êÁöÑÔºåCËØ≠Ë®ÄÁºñÂÜôÔºåÊèê‰æõÂ§öÁßçËØ≠Ë®Ä‰ΩøÁî®ÔºåÊîØÊåÅÁΩëÁªúÔºåÂèØÊåÅ‰πÖÂåñÔºåÈÅµÂÆà BSD ÂçèËÆÆÔºåÊòØ‰∏Ä‰∏™È´òÊÄßËÉΩÁöÑ key-value Êï∞ÊçÆÂ∫ì„ÄÇ Redis ‰∏éÂÖ∂‰ªñ key - value ÁºìÂ≠ò‰∫ßÂìÅÊúâ‰ª•‰∏ã‰∏â‰∏™ÁâπÁÇπÔºö RedisÊîØÊåÅÊï∞ÊçÆÁöÑÊåÅ‰πÖÂåñÔºåÂèØ‰ª•Â∞ÜÂÜÖÂ≠ò‰∏≠ÁöÑÊï∞ÊçÆ‰øùÂ≠òÂú®Á£ÅÁõò‰∏≠ÔºåÈáçÂêØÁöÑÊó∂ÂÄôÂèØ‰ª•ÂÜçÊ¨°Âä†ËΩΩËøõË°å‰ΩøÁî®„ÄÇ Redis‰∏ç‰ªÖ‰ªÖÊîØÊåÅÁÆÄÂçïÁöÑkey-valueÁ±ªÂûãÁöÑÊï∞ÊçÆÔºåÂêåÊó∂ËøòÊèê‰æõlistÔºåsetÔºåzsetÔºåhashÁ≠âÊï∞ÊçÆÁªìÊûÑÁöÑÂ≠òÂÇ®„ÄÇ RedisÊîØÊåÅÊï∞ÊçÆÁöÑÂ§á‰ªΩÔºåÂç≥master-slaveÊ®°ÂºèÁöÑÊï∞ÊçÆÂ§á‰ªΩ„ÄÇ ÁªºÂêàÈóÆÈ¢ò RedisÂ§öÁ∫øÁ®ãËøòÊòØÂçïÁ∫øÁ®ãÔºü‰∏∫‰ªÄ‰πàËøôÊ†∑Ôºü ‚Äã ÂçïÁ∫øÁ®ãÔºåRedis 6.0ÁâàÊú¨‰πãÂêéÂºÄÂßãÂºïÂÖ•‰∫ÜÂ§öÁ∫øÁ®ãÂ§ÑÁêÜÁΩëÁªúËØ∑Ê±ÇÔºåÂ∞ÜËØªÂèñÁΩëÁªúÊï∞ÊçÆÂà∞ËæìÂÖ•ÁºìÂÜ≤Âå∫„ÄÅÂçèËÆÆËß£ÊûêÂíåÂ∞ÜÊâßË°åÁªìÊûúÂÜôÂÖ•ËæìÂá∫ÁºìÂÜ≤Âå∫ÁöÑËøáÁ®ãÂèò‰∏∫‰∫ÜÂ§öÁ∫øÁ®ãÔºåÊâßË°åÂëΩ‰ª§‰ªçÁÑ∂ÊòØÂçïÁ∫øÁ®ã„ÄÇ ‚Äã ‰∏∫‰ªÄ‰πà‰∏ç‰ΩøÁî®Â§öÁ∫øÁ®ãÔºüÂõ†‰∏∫RedisÊï∞ÊçÆÂú®ÂÜÖÂ≠ò‰∏≠ÔºåÂ§öÁ∫øÁ®ã‰ºöÂ¢ûÂä†‰∏ä‰∏ãÊñáÂàáÊç¢ÁöÑ‰ª£‰ª∑ÔºåÊ≤°ÊúâÊâçÊòØÊïàÁéáÊúÄÈ´òÁöÑ„ÄÇÂçïÁ∫øÁ®ãÊ≤°ÊúâÊï∞ÊçÆ‰∏ÄËá¥ÊÄßÈóÆÈ¢òÔºå‰∏çÈúÄË¶ÅÁ´û‰∫âÈîÅÂíåCASÊìç‰Ωú„ÄÇ Êï∞ÊçÆÁ±ªÂûãÔºü Â∏∏Áî®ÁöÑ‰∫îÁßçÊï∞ÊçÆÁ±ªÂûãÔºö StringÔºöÂèØ‰ª•Â≠òÂÇ®Â≠óÁ¨¶‰∏≤„ÄÅÊï¥Êï∞„ÄÅÊµÆÁÇπÊï∞ÔºåÂÖÅËÆ∏ËÆæÁΩÆËøáÊúüÊó∂Èó¥Ëá™Âä®Âà†Èô§„ÄÇ HashÔºöÂåÖÂê´ÈîÆÂÄºÂØπÁöÑÊó†Â∫èÊï£ÂàóË°®„ÄÇÈÄöËøá ‚ÄúÊï∞ÁªÑ + ÈìæË°®‚Äù ÁöÑÈìæÂú∞ÂùÄÊ≥ïÊù•Ëß£ÂÜ≥ÈÉ®ÂàÜÂìàÂ∏åÂÜ≤Á™ÅÔºåvalue Âè™ËÉΩÊòØÂ≠óÁ¨¶‰∏≤„ÄÇ ListÔºöÂèåÂêëÈìæË°®ÔºåÂèØ‰ª•ÂÖÖÂΩìÈòüÂàóÂíåÊ†àÁöÑËßíËâ≤„ÄÇ SetÔºöÁõ∏ÂΩì‰∫éJava ‰∏≠ÁöÑ HashSet ÔºåÂÜÖÈÉ®ÁöÑÈîÆÂÄºÂØπÊòØÊó†Â∫è„ÄÅÂîØ‰∏ÄÁöÑ„ÄÇkey Â∞±ÊòØÂÖÉÁ¥†ÁöÑÂÄºÔºåvalue ‰∏∫ null„ÄÇ ZsetÔºöÁõ∏ÂΩì‰∫é Java ‰∏≠ÁöÑ SortedSet Âíå HashMap ÁöÑÁªìÂêà‰ΩìÔºåÂÜÖÈÉ®ÁöÑÈîÆÂÄºÂØπÊòØÊúâÂ∫è„ÄÅÂîØ‰∏ÄÁöÑ„ÄÇÂèØ‰ª•‰∏∫ÊØè‰∏™ÂÖÉÁ¥†Ëµã‰∫à‰∏Ä‰∏™ score ÂÄºÔºåÁî®Êù•‰ª£Ë°®ÊéíÂ∫èÁöÑÊùÉÈáç„ÄÇ ‰∏çÂ∏∏Áî®ÁöÑ4ÁßçÊï∞ÊçÆÁ±ªÂûãÔºö BitMapÔºöÂç≥‰ΩçÂõæÔºåÂÖ∂ÂÆû‰πüÂ∞±ÊòØ byte Êï∞ÁªÑÔºåÁî®‰∫åËøõÂà∂Ë°®Á§∫ÔºåÂè™Êúâ 0 Âíå 1 ‰∏§‰∏™Êï∞Â≠ó„ÄÇÂÆûÈôÖ‰∏äÊù•ËØ¥ÊòØÂΩíÂ±û‰∫é String Á±ªÂûã‰∏ãÈù¢„ÄÇ HyperloglogsÔºöÁî®Êù•ÂÅöÂü∫Êï∞ÁªüËÆ°ÁöÑÁÆóÊ≥ï„ÄÇ GeospatialÔºöÂ∞ÜÁî®Êà∑ÁªôÂÆöÁöÑÂú∞ÁêÜ‰ΩçÁΩÆ‰ø°ÊÅØÂÇ®Â≠òËµ∑Êù•Ôºå Âπ∂ÂØπËøô‰∫õ‰ø°ÊÅØËøõË°åÊìç‰Ωú„ÄÇ Pub/SubÔºöÊîØÊåÅÂ§öÊí≠ÁöÑÂèØÊåÅ‰πÖÂåñÁöÑÊ∂àÊÅØÈòüÂàóÔºåÁî®‰∫éÂÆûÁé∞ÂèëÂ∏ÉËÆ¢ÈòÖÂäüËÉΩ„ÄÇ RedisÁºìÂ≠òÂºÇÂ∏∏ÊñπÊ°à ÁºìÂ≠òË°ÄÂ¥©Ôºü ÁºìÂ≠òË°ÄÂ¥©ÊòØ‰ªÄ‰πàÔºåÂ¶Ç‰ΩïËß£ÂÜ≥Ôºü ÁºìÂ≠òÈ¢ÑÁÉ≠Ôºü ÁºìÂ≠òÁ©øÈÄèÔºü ÁºìÂ≠òÂáªÁ©øÔºü ÁºìÂ≠òÈôçÁ∫ßÔºü Redis‰∫ãÂä°Ôºü Redis‰∫ãÂä°ÊòØÂê¶ÊúâÂéüÂ≠êÊÄßÔºåÁõ∏ÂÖ≥ÂëΩ‰ª§Ôºü Redis ÊåÅ‰πÖÂåñÊú∫Âà∂ ÔºüAOF Âíå RDB Êúâ‰ªÄ‰πàÂå∫Âà´Ôºü Redis Ê∑òÊ±∞Á≠ñÁï•ÊúâÂì™‰∫õÔºü RedisÈõÜÁæ§Êû∂ÊûÑÔºå‰∏ª‰ªéÂ§çÂà∂Ôºü springmvcÁöÑÊéßÂà∂Âô®ÊòØÂçï‰æãÁöÑÂêó?ÊòØÁ∫øÁ®ãÂÆâÂÖ®ÁöÑÂêóÔºü Â≠¶‰π†Â∑•ÂÖ∑ ÂëΩ‰ª§Êü•ËØ¢ ÁãÇÁ•ûËßÜÈ¢ë Redis ÊúÄÂÖ®Èù¢ËØïÈ¢òÂèäÁ≠îÊ°à_Â≤ÅÊúàÂÆâÁÑ∂-CSDNÂçöÂÆ¢_redisÈ¢òÂ∫ì Êï∞ÊçÆÁ±ªÂûãÊ¶ÇËßà Êï∞ÊçÆÁ±ªÂûã String Hash List Set ZSet Geospatial Hyperloglog Bitmap [Stream 5.0](#Redis Stream) ÁâπÁÇπ Â≠óÁ¨¶‰∏≤ÔºåÊï¥Êï∞ÊàñÊµÆÁÇπÊï∞Ôºå‰∫åËøõÂà∂ÂÆâÂÖ® ÂìàÂ∏åÔºåÂåÖÂê´ÈîÆÔºàstring ÔºâÂÄºÂØπÁöÑÊó†Â∫èÊï£ÂàóË°®ÔºåÈÄÇÂêàÂ≠òÂÇ®ÂØπË±° ÂàóË°®ÔºåÈìæË°®‰∏äÁöÑËäÇÁÇπÂ≠óÁ¨¶‰∏≤ÂÖÉÁ¥†ÔºåÊèíÂÖ•ÊúâÂ∫è ÈõÜÂêàÔºå‰∏çÂêåÊó†Â∫èÂ≠óÁ¨¶‰∏≤ÂÖÉÁ¥†,ÂìàÂ∏åË°® ÊúâÂ∫èÈõÜÂêàÔºå‰∏çÂêåÂ≠óÁ¨¶‰∏≤ÔºåËøòÊúâÂ∏¶doubleÁ±ªÂûãÁöÑÂèØÈáçÂ§çÂàÜÊï∞ÁöÑÊúâÂ∫èÈõÜÂêà Âú∞ÁêÜ‰ΩçÁΩÆ Âü∫Êï∞ÁªüËÆ°‰∏çÂç†ÂÜÖÂ≠òËÆ∞ÂΩïÁΩëÁ´ôUV Bitmap ‰ΩçÂõæÔºåÊï∞ÊçÆÁªìÊûÑÔºÅ‰∫åËøõÂà∂‰ΩçËÆ∞ÂΩïÔºå0 Âíå 1 ‰∏§‰∏™Áä∂ÊÄÅ Âº•Ë°•ÂèëÂ∏ÉËÆ¢ÈòÖÊó†Ê≥ïÊåÅ‰πÖÂåñÁöÑÁº∫ÁÇπ ÂÆπÈáè 512MB 232 -1 ÈîÆÂÄºÂØπÔºà40Â§ö‰∫øÔºâ 232 -1 232 -1 232 -1 Â¢û set hset/hmset lpushÔºårpush sadd zadd geoadd pfadd setbit Âèñ get hget ÔºàÂèñÂçï‰∏™Ôºâ/hmget (ÂèñÂ§ö‰∏™) lrangeÂèñÂå∫Èó¥ÂÄºlpopÂ∑¶Âèñrpop Âè≥Âèñ smembers ÂèñÊâÄÊúâ zscoreÂçïÂèñ zrange ËåÉÂõ¥Âèñ zrevrange ÂçáÂ∫èÂèñzrangebyscore ÊâÄÊúâÈôçÂ∫èÂèñzrevrangebyscore ÊâÄÊúâÂçáÂ∫èÂèñ geoposgeodistÔºà‰∏§ÁÇπË∑ùÁ¶ªÔºâgeoradiusÔºàÁÇπÈôÑËøëÁÇπÔºåÂèØÊï∞ÈáèÈôêÂà∂Ôºâ getbit Âà† del hdel Lpop„ÄÅRpop„ÄÅlrem srem zrem ÂèñÊóßÊîπÊñ∞ getset Ëá™Â¢û incr ÔºàÂèØÊåáÂÆö HINCRBYÂ¢ûÂä†ÊåáÂÆöÊ≠•Èïø Ëá™Âáè decr ÔºàÂèØÊåáÂÆö ËøΩÂä† append ÈïøÂ∫¶ strlen hlen llen zcard pfcountÔºà‰∏çÈáçÂ§çÊï∞ÈáèÔºâ bitcount(ËÆ°ÁÆóÁä∂ÊÄÅÊï∞Èáè) ÊâπÈáèÂêåÊó∂ËÆæÁΩÆ‰∏Ä‰∏™ÊàñÂ§ö‰∏™ key-value ÂØπ mset hmset ËøîÂõûÊâÄÊúâ‰∏Ä‰∏™ÊàñÂ§ö‰∏™ÁªôÂÆö key ÁöÑÂÄº mget hmget Ëé∑ÂèñÂØπË±°‰∏≠ÊâÄÊúâÁöÑÈîÆÂÄºÂØπ hgetall ÔºàÂèñÊâÄÊúâÔºâ Âà§Êñ≠ÂÖÉÁ¥†ÊòØÂê¶Â≠òÂú® hexists sismember Ëé∑ÂèñÂ≠óÊÆµÂêç hkeys Ëé∑ÂèñÂ≠óÊÆµÂÄº hvals ÈõÜÂêàËøêÁÆó sunion Âπ∂ÈõÜÔºåsinter ‰∫§ÈõÜÔºåsdiff ‰∫§Â∑Æ pfmerge(ÂêàÂπ∂) Â∫îÁî®Âú∫ÊôØ ‰∏éMongoDBÂØπÊØî MongoDB Redis NosqlÁî±Êù• ÂçïÊú∫mysql mysql+ÁºìÂ≠ò+ÂûÇÁõ¥ÊãÜÂàÜ ‰∏ª‰ªéËØªÂÜôÂàÜÁ¶ª ÂàÜË°®ÂàÜÂ∫ì+Ê∞¥Âπ≥ÊãÜÂàÜ+mysqlÈõÜÁæ§ Áé∞Âú®Áî®Êà∑Á§æ‰∫§ÁΩëÁªúÊï∞ÊçÆÊàêÂÄçÂ¢ûÈïøÔºåsqlÈöæ‰ª•ÊîØÊíë NoSQLÔºàNot Only SQLÔºâÈùûÂÖ≥Á≥ªÂûãÊï∞ÊçÆÂ∫ìÔºå‰∏çÈúÄË¶ÅÂõ∫ÂÆöÊ®°ÂºèÔºåÊó†ÈúÄÂ§ö‰∫éÊìç‰ΩúÂ∞±ÂèØ‰ª•Ê®™ÂêëÊìç‰Ωú ÁÆÄ‰ªã RedisÔºàRemote Dictionary ServerÔºâËøúÁ®ãÂ≠óÂÖ∏ÊúçÂä° ÂÖçË¥πÂºÄÊ∫êÔºåCËØ≠Ë®ÄÁºñÂÜôÔºåÊèê‰æõÂ§öÁßçËØ≠Ë®Ä‰ΩøÁî®ÔºåÊîØÊåÅÁΩëÁªúÔºåÂèØÊåÅ‰πÖÂåñÔºåÈÅµÂÆà BSD ÂçèËÆÆÔºåÊòØ‰∏Ä‰∏™È´òÊÄßËÉΩÁöÑ key-value Êï∞ÊçÆÂ∫ì„ÄÇ Á±ªÂûãÂ§öÊ†∑Ôºå‰∏ç‰ªÖ‰ªÖÊîØÊåÅÁÆÄÂçïÁöÑkey-valueÁ±ªÂûãÁöÑÊï∞ÊçÆÔºåÂêåÊó∂ËøòÊèê‰æõlistÔºåsetÔºåzsetÔºåhashÁ≠âÊï∞ÊçÆÁªìÊûÑÁöÑÂ≠òÂÇ®„ÄÇ Redis ‰ºòÂäø ÊÄßËÉΩÊûÅÈ´ò ‚Äì RedisËÉΩËØªÁöÑÈÄüÂ∫¶ÊòØ110000Ê¨°/s,ÂÜôÁöÑÈÄüÂ∫¶ÊòØ81000Ê¨°/s „ÄÇ Êï∞ÊçÆÁöÑÊåÅ‰πÖÂåñÔºåÂèØ‰ª•Â∞ÜÂÜÖÂ≠ò‰∏≠ÁöÑÊï∞ÊçÆ‰øùÂ≠òÂú®Á£ÅÁõò‰∏≠ÔºåÈáçÂêØÁöÑÊó∂ÂÄôÂèØ‰ª•ÂÜçÊ¨°Âä†ËΩΩËøõË°å‰ΩøÁî®„ÄÇ Êï∞ÊçÆÁ±ªÂûãÂ§öÊ†∑ ‚Äì RedisÊîØÊåÅ‰∫åËøõÂà∂ÁöÑ Strings, Lists, Hashes, Sets Âèä Ordered Sets Êï∞ÊçÆÁ±ªÂûãÊìç‰Ωú„ÄÇ ÂéüÂ≠ê ‚Äì RedisÁöÑÊâÄÊúâÊìç‰ΩúÈÉΩÊòØÂéüÂ≠êÊÄßÁöÑÔºåÊÑèÊÄùÂ∞±ÊòØË¶Å‰πàÊàêÂäüÊâßË°åË¶Å‰πàÂ§±Ë¥•ÂÆåÂÖ®‰∏çÊâßË°å„ÄÇÂçï‰∏™Êìç‰ΩúÊòØÂéüÂ≠êÊÄßÁöÑ„ÄÇÂ§ö‰∏™Êìç‰Ωú‰πüÊîØÊåÅ‰∫ãÂä°ÔºåÂç≥ÂéüÂ≠êÊÄßÔºåÈÄöËøáMULTIÂíåEXECÊåá‰ª§ÂåÖËµ∑Êù•„ÄÇ ‰∏∞ÂØåÁöÑÁâπÊÄß ‚Äì RedisËøòÊîØÊåÅ publish/subscribe, ÈÄöÁü•, key ËøáÊúüÁ≠âÁ≠âÁâπÊÄß„ÄÇ Êï∞ÊçÆÁöÑÂ§á‰ªΩÔºåÂç≥master-slaveÊ®°ÂºèÁöÑÊï∞ÊçÆÂ§á‰ªΩ„ÄÇ Redis‰∏éÂÖ∂‰ªñkey-valueÂ≠òÂÇ®Êúâ‰ªÄ‰πà‰∏çÂêåÔºü RedisÊúâÁùÄÊõ¥‰∏∫Â§çÊùÇÁöÑÊï∞ÊçÆÁªìÊûÑÂπ∂‰∏îÊèê‰æõÂØπ‰ªñ‰ª¨ÁöÑÂéüÂ≠êÊÄßÊìç‰ΩúÔºåËøôÊòØ‰∏Ä‰∏™‰∏çÂêå‰∫éÂÖ∂‰ªñÊï∞ÊçÆÂ∫ìÁöÑËøõÂåñË∑ØÂæÑ„ÄÇRedisÁöÑÊï∞ÊçÆÁ±ªÂûãÈÉΩÊòØÂü∫‰∫éÂü∫Êú¨Êï∞ÊçÆÁªìÊûÑÁöÑÂêåÊó∂ÂØπÁ®ãÂ∫èÂëòÈÄèÊòéÔºåÊó†ÈúÄËøõË°åÈ¢ùÂ§ñÁöÑÊäΩË±°„ÄÇRedisËøêË°åÂú®ÂÜÖÂ≠ò‰∏≠‰ΩÜÊòØÂèØ‰ª•ÊåÅ‰πÖÂåñÂà∞Á£ÅÁõòÔºåÊâÄ‰ª•Âú®ÂØπ‰∏çÂêåÊï∞ÊçÆÈõÜËøõË°åÈ´òÈÄüËØªÂÜôÊó∂ÈúÄË¶ÅÊùÉË°°ÂÜÖÂ≠òÔºåÂõ†‰∏∫Êï∞ÊçÆÈáè‰∏çËÉΩÂ§ß‰∫éÁ°¨‰ª∂ÂÜÖÂ≠ò„ÄÇÂú®ÂÜÖÂ≠òÊï∞ÊçÆÂ∫ìÊñπÈù¢ÁöÑÂè¶‰∏Ä‰∏™‰ºòÁÇπÊòØÔºåÁõ∏ÊØîÂú®Á£ÅÁõò‰∏äÁõ∏ÂêåÁöÑÂ§çÊùÇÁöÑÊï∞ÊçÆÁªìÊûÑÔºåÂú®ÂÜÖÂ≠ò‰∏≠Êìç‰ΩúËµ∑Êù•ÈùûÂ∏∏ÁÆÄÂçïÔºåËøôÊ†∑RedisÂèØ‰ª•ÂÅöÂæàÂ§öÂÜÖÈÉ®Â§çÊùÇÊÄßÂæàÂº∫ÁöÑ‰∫ãÊÉÖ„ÄÇÂêåÊó∂ÔºåÂú®Á£ÅÁõòÊ†ºÂºèÊñπÈù¢‰ªñ‰ª¨ÊòØÁ¥ßÂáëÁöÑ‰ª•ËøΩÂä†ÁöÑÊñπÂºè‰∫ßÁîüÁöÑÔºåÂõ†‰∏∫‰ªñ‰ª¨Âπ∂‰∏çÈúÄË¶ÅËøõË°åÈöèÊú∫ËÆøÈóÆ„ÄÇ redisÁöÑÂ∫îÁî®Âú∫ÊôØ ‚Äã 1„ÄÅ‰ºöËØùÈ´òÈÄüÁºìÂ≠òÔºàÊúÄÂ∏∏Áî®Ôºâ ‚Äã 2„ÄÅÊ∂àÊÅØÈòüÂàóÔºåÊØîÂ¶ÇÊîØ‰ªò ‚Äã 3„ÄÅÊ¥ªÂä®ÊéíË°åÊ¶úÊàñËÆ°Êï∞ ‚Äã 4„ÄÅÂèëÂ∏É„ÄÅËÆ¢ÈòÖÊ∂àÊÅØÔºàÊ∂àÊÅØÈÄöÁü•Ôºâ ‚Äã 5„ÄÅÂïÜÂìÅÂàóË°®„ÄÅËØÑËÆ∫ÂàóË°®„ÄÅËÆ°Êó∂Âô®„ÄÅËÆ°Êï∞Âô® ‚Äã 6„ÄÅÂú∞Âõæ‰ø°ÊÅØÂàÜÊûê ‚Äã 7„ÄÅÂÜÖÂ≠òÂ≠òÂÇ®„ÄÅÊåÅ‰πÖÂåñÔºàrdbÔºåaofÔºâ 3V+3È´ò Â§ßÊï∞ÊçÆÊó∂‰ª£3VÔºàÊèèËø∞ÈóÆÈ¢òÔºâ Êµ∑ÈáèVolume Â§öÊ†∑Variety ÂÆûÊó∂Velocity ‰∫íËÅîÁΩëÈúÄÊ±Ç3È´òÔºàÂØπÁ®ãÂ∫èË¶ÅÊ±ÇÔºâ È´òÂπ∂Âèë È´òÂèØÊâ© È´òÊÄßËÉΩ ÁªèÂÖ∏Â∫îÁî® ÈòøÈáåÂ∑¥Â∑¥ Êï∞ÊçÆÂ∫ìÂõõÂ§ßÂàÜÁ±ª KVÈîÆÂÄºÂØπ ÊñáÊ°£ÂûãÊï∞ÊçÆÂ∫ì ÂàóÂ≠òÂÇ®Êï∞ÊçÆÂ∫ì ÂõæÂÖ≥Á≥ªÊï∞ÊçÆÂ∫ìÔºàÂõæÁªìÊûÑÔºâ CAP CÔºöConsistencyÔºàÂº∫‰∏ÄËá¥ÊÄßÔºâ AÔºöAvailabilityÔºàÂèØÁî®ÊÄßÔºâ PÔºöPartition toleranceÔºàÂàÜÂå∫ÂÆπÈîôÊÄßÔºâ ‰∏âËøõ‰∫åÔºàCÂøÖÂÆûÁé∞Ôºâ CA ÂçïÁÇπÈõÜÁæ§ÔºåÊª°Ë∂≥‰∏ÄËá¥ÊÄß CP AP BASE Âü∫Êú¨ÂèØÁî®ÔºàBasically AvailableÔºâ ËΩØÁä∂ÊÄÅÔºàSoft stateÔºâ ÊúÄÁªà‰∏ÄËá¥ÊÄßÔºàEventually consistentÔºâ ÂàÜÂ∏ÉÂºè‰∏éÈõÜÁæ§ ACIDÂÖ≥Á≥ªÂûãÊï∞ÊçÆÂ∫ì Redis ÂÆâË£Ö windows ‰ºÅ‰∏öÈáåÈù¢Âá†‰πé‰∏çÁî®windowsÂºÄÂèëRedis https://github.com/tporadowski/redis/releases redis-server.exe redis.windows.conf Âè¶ÂêØ‰∏Ä‰∏™ cmd Á™óÂè£ÔºåÂéüÊù•ÁöÑ‰∏çË¶ÅÂÖ≥Èó≠Ôºå‰∏çÁÑ∂Â∞±Êó†Ê≥ïËÆøÈóÆÊúçÂä°Á´Ø‰∫ÜÔºàÂèØÁõ¥Êé•ËÆæÁΩÆ‰∏∫ÊúçÂä°Ëá™ÂêØÂä®Â¶Ç‰∏ãÔºâ ËÆæÁΩÆredisÁéØÂ¢ÉÂèòÈáè‰πãÂêéÂú®Ëß£ÂéãÊñá‰ª∂Â§π‰∏≠ÊâßË°åÂëΩ‰ª§ redis-server.exe --service-install redis.windows.conf --loglevel verbose ‰øÆÊîπÊúçÂä°‰∏∫Ëá™Âä®ÂêØÂä® redis-cli.exe -h 127.0.0.1 -p 6379 set myKey abc get myKey Linux ‚Äã ‰∏ãËΩΩ == Ëß£ÂéãÔºàoptÔºâ == Âü∫Êú¨ÁéØÂ¢ÉÂÆâË£Ö„Äêyum install gcc-c++„Äë== make == make install == redisÈªòËÆ§ÂÆâË£ÖË∑ØÂæÑ/usr/local/bin == Êã∑Ë¥ùredisÁöÑconfÊñá‰ª∂‰ΩøÁî®Êã∑Ë¥ùÈÖçÁΩÆÊñá‰ª∂ÂêØÂä® == daemonizeÊîπ‰∏∫yesÊîπ‰∏∫ÂêéÂè∞ÂêØÂä® == ÂêØÂä®ÊúçÂä°redis-server redisconfig/redis.conf == ÂÆ¢Êà∑Á´ØËøûÊé• redis-cli -p 6379 == ping ÊµãËØïËøûÊé• === Êü•ÁúãredisËøõÁ®ãÊòØÂê¶ÂºÄÂêØ ps -ef|grep redis == shutdownÂÖ≥Èó≠ÊúçÂä° 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187####Êñ∞Âª∫Êñá‰ª∂Â§π[root@iZpwlt9baenyc8Z ~]# mkdir /usr/local/redis[root@iZpwlt9baenyc8Z ~]# cd /usr/local/redis[root@iZpwlt9baenyc8Z redis]# ls####‰∏ãËΩΩÊ∫êÁ†Å[root@iZpwlt9baenyc8Z redis]# wget http://download.redis.io/releases/redis-6.0.5.tar.gz--2022-02-10 14:00:45-- http://download.redis.io/releases/redis-6.0.5.tar.gzredis-6.0.5.tar.gz 100%[==================================================================================&gt;] 2.11M 42.0KB/s in 57s „ÄÇ„ÄÇ„ÄÇ####Ëß£ÂéãÁº©[root@iZpwlt9baenyc8Z redis]# tar -zxvf redis-6.0.5.tar.gz####ÂÆâË£Ö[root@iZpwlt9baenyc8Z redis]# lsredis-6.0.5 redis-6.0.5.tar.gz[root@iZpwlt9baenyc8Z redis]# cd redis-6.0.5[root@iZpwlt9baenyc8Z redis-6.0.5]# ls00-RELEASENOTES CONTRIBUTING deps Makefile README.md runtest runtest-moduleapi sentinel.conf tests utilsBUGS COPYING INSTALL MANIFESTO redis.conf runtest-cluster runtest-sentinel src TLS.md[root@iZpwlt9baenyc8Z redis-6.0.5]# makecd src &amp;&amp; make allmake[1]: Entering directory '/usr/local/redis/redis-6.0.5/src' „ÄÇ„ÄÇ„ÄÇHint: It's a good idea to run 'make test' ;)make[1]: Leaving directory '/usr/local/redis/redis-6.0.5/src'[root@iZpwlt9baenyc8Z redis-6.0.5]# ls00-RELEASENOTES CONTRIBUTING deps Makefile README.md runtest runtest-moduleapi sentinel.conf tests utilsBUGS COPYING INSTALL MANIFESTO redis.conf runtest-cluster runtest-sentinel src TLS.md[root@iZpwlt9baenyc8Z redis-6.0.5]# cd src####ËøÅÂá∫ÂèØÊâßË°åÁ®ãÂ∫èÔºå‰∏éÊ∫êÁ†ÅÂàÜÁ¶ª[root@iZpwlt9baenyc8Z src]# make install PREFIX=/opt/redis6 CC Makefile.depHint: It's a good idea to run 'make test' ;)####ÂàõÂª∫redisÈÖçÁΩÆÊñá‰ª∂ÁõÆÂΩïÂπ∂Â§çÂà∂ÈÖçÁΩÆÊñá‰ª∂[root@iZpwlt9baenyc8Z src]# mkdir /etc/redis[root@iZpwlt9baenyc8Z src]# cd ..[root@iZpwlt9baenyc8Z redis-6.0.5]# cd ..[root@iZpwlt9baenyc8Z redis]# lsredis-6.0.5 redis-6.0.5.tar.gz[root@iZpwlt9baenyc8Z redis]# cd ..[root@iZpwlt9baenyc8Z local]# lsaegis bin etc games include lib lib64 libexec redis sbin share src[root@iZpwlt9baenyc8Z local]# cd etc[root@iZpwlt9baenyc8Z etc]# ls[root@iZpwlt9baenyc8Z etc]# cd /etc[root@iZpwlt9baenyc8Z etc]# cd redis[root@iZpwlt9baenyc8Z redis]# ls[root@iZpwlt9baenyc8Z redis]# cp /usr/local/redis/redis-6.0.5/redis.conf /etc/redis/6379.conf[root@iZpwlt9baenyc8Z redis]# cd ..[root@iZpwlt9baenyc8Z etc]# cd ..[root@iZpwlt9baenyc8Z /]# lsbin boot dev etc home lib lib64 media mnt opt proc root run sbin srv sys tmp usr var[root@iZpwlt9baenyc8Z ~]# cd /etc/redis/[root@iZpwlt9baenyc8Z redis]# ls6379.conf[root@iZpwlt9baenyc8Z redis]# cd /opt/redis6[root@iZpwlt9baenyc8Z redis6]# lsbin###ÂàõÂª∫redisÊúçÂä°ÔºåÂ§çÂà∂redisÁ§∫‰æãÊúçÂä°Âπ∂‰øÆÊîπ[root@iZpwlt9baenyc8Z bin]# cp /usr/local/redis/redis-6.0.5/utils/systemd-redis_server.service /lib/systemd/system/redis_6379.service[root@iZpwlt9baenyc8Z bin]# cd /lib/systemd/system/[root@iZpwlt9baenyc8Z system]# vim /lib/systemd/system/redis_6379.service########################### example systemd service unit file for redis-server## In order to use this as a template for providing a redis service in your# environment, _at the very least_ make sure to adapt the redis configuration# file you intend to use as needed (make sure to set &quot;supervised systemd&quot;), and# to set sane TimeoutStartSec and TimeoutStopSec property values in the unit's# &quot;[Service]&quot; section to fit your needs.## Some properties, such as User= and Group=, are highly desirable for virtually# all deployments of redis, but cannot be provided in a manner that fits all# expectable environments. Some of these properties have been commented out in# this example service unit file, but you are highly encouraged to set them to# fit your needs.## Please refer to systemd.unit(5), systemd.service(5), and systemd.exec(5) for# more information.[Unit]Description=Redis_6379After=network.target#Documentation=https://redis.io/documentation#Before=your_application.service another_example_application.service#AssertPathExists=/var/lib/redis[Service]Type=forkingPIDFile=/var/run/redis_6379.pidExecStart=/opt/redis6/bin/redis-server /etc/redis/6379.confExecReload=/bin/kill -s HUP $MAINPIDExecStop=/bin/kill -s QUIT $MAINPIDPrivateTmp=true## Alternatively, have redis-server load a configuration file:#ExecStart=/usr/local/bin/redis-server /path/to/your/redis.conf#LimitNOFILE=10032#NoNewPrivileges=yes#OOMScoreAdjust=-900#PrivateTmp=yes#TimeoutStartSec=infinity#TimeoutStopSec=infinity#UMask=0077#User=redis#Group=redis#WorkingDirectory=/var/lib/redis[Install]WantedBy=multi-user.target:wq!#######[root@iZpwlt9baenyc8Z system]# cd /###‰ΩøÁî®systemctl ÂºÄÂêØÂÖ≥Èó≠ÊúçÂä°#Â¶ÇÊûúÊä•ÈîôÔºöJob for redis-server.service failed because a timeout was exceeded.[root@iZpwlt9baenyc8Z ~]# systemctl status redis_6379‚óè redis_6379.service - Redis_6379 ‚îî‚îÄ151178 /opt/redis6/bin/redis-server 127.0.0.1:6379Feb 10 14:28:06 iZpwlt9baenyc8Z redis-server[151178]: `-.__.-'„ÄÇ„ÄÇ„ÄÇFeb 10 14:28:06 iZpwlt9baenyc8Z redis-server[151178]: 151178:M 10 Feb 2022 14:28:06.493 * Ready to accept connectionslines 1-19/19 (END)[root@iZpwlt9baenyc8Z /]# cd /opt/redis6[root@iZpwlt9baenyc8Z redis6]# lsbin[root@iZpwlt9baenyc8Z redis6]# cd bin[root@iZpwlt9baenyc8Z bin]# lsredis-benchmark redis-check-aof redis-check-rdb redis-cli redis-sentinel redis-server###cd /opt/redis6/bin Ë∑≥ËΩ¨Âà∞ÂëΩ‰ª§ÁõÆÂΩïÂêé‰ΩøÁî®redis-serverÂºÄÂêØÊúçÂä°##ÂÖ®Â±Ä‰ΩøÁî®redisÂëΩ‰ª§Ëß£ÂÜ≥ÊñπÊ≥ï#‰øÆÊîπprofileÊñá‰ª∂Ôºö #vi /etc/profile #Âú®ÊúÄÂêéË°åÊ∑ªÂä†: #export PATH=$PATH:/opt/redis6/bin#Ê≥®ÊÑèÔºö/opt/software/redis/src Ë°®Á§∫ÁöÑÊòØredis-cli ÂëΩ‰ª§Â≠òÂú®ÁöÑÁõÆÂΩïË∑ØÂæÑ#ÈáçÊñ∞Âä†ËΩΩ/etc/profile #source /etc/profile [root@iZpwlt9baenyc8Z bin]# redis-server151212:C 10 Feb 2022 14:38:14.346 # oO0OoO0OoO0Oo Redis is starting oO0OoO0OoO0Oo151212:C 10 Feb 2022 14:38:14.346 # Redis version=6.0.5, bits=64, commit=00000000, modified=0, pid=151212, just started151212:C 10 Feb 2022 14:38:14.346 # Warning: no config file specified, using the default config. In order to specify a config file use ./redis-server /path/to/redis.conf _._ _.-``__ ''-._ _.-`` `. `_. ''-._ Redis 6.0.5 (00000000/0) 64 bit .-`` .-```. ```\\/ _.,_ ''-._ ( ' , .-` | `, ) Running in standalone mode |`-._`-...-` __...-.``-._|'` _.-'| Port: 6379 | `-._ `._ / _.-' | PID: 151212 `-._ `-._ `-./ _.-' _.-' |`-._`-._ `-.__.-' _.-'_.-'| | `-._`-._ _.-'_.-' | http://redis.io `-._ `-._`-.__.-'_.-' _.-' |`-._`-._ `-.__.-' _.-'_.-'| | `-._`-._ _.-'_.-' | `-._ `-._`-.__.-'_.-' _.-' `-._ `-.__.-' _.-' `-._ _.-' `-.__.-' 151212:M 10 Feb 2022 14:38:14.347 # WARNING: The TCP backlog setting of 511 cannot be enforced because /proc/sys/net/core/somaxconn is set to the lower value of 128.151212:M 10 Feb 2022 14:38:14.347 # Server initialized151212:M 10 Feb 2022 14:38:14.347 # WARNING overcommit_memory is set to 0! Background save may fail under low memory condition. To fix this issue add 'vm.overcommit_memory = 1' to /etc/sysctl.conf and then reboot or run the command 'sysctl vm.overcommit_memory=1' for this to take effect.151212:M 10 Feb 2022 14:38:14.347 # WARNING you have Transparent Huge Pages (THP) support enabled in your kernel. This will create latency and memory usage issues with Redis. To fix this issue run the command 'echo never &gt; /sys/kernel/mm/transparent_hugepage/enabled' as root, and add it to your /etc/rc.local in order to retain the setting after a reboot. Redis must be restarted after THP is disabled.151212:M 10 Feb 2022 14:38:14.348 * Ready to accept connections[root@iZpwlt9baenyc8Z ~]# cd /opt/redis6/bin#‰ΩøÁî® ./redis-cli ÊâìÂºÄÁªàÁ´Ø[root@iZpwlt9baenyc8Z bin]# ./redis-cli ###Ê£ÄÊµãÊúçÂä°ÊòØÂê¶ÂêØÂä®127.0.0.1:6379&gt; pingPONG redis-benchmarkÊÄßËÉΩÊµãËØï ÂèØÈÄâÂèÇÊï∞Ôºö ÊµãËØïÔºö100‰∏™Âπ∂ÂèëËøûÊé• 100000ËØ∑Ê±Ç ./redis-benchmark -h localhost -p 6379 -c 100 -n 100000 Âü∫Á°ÄÁü•ËØÜ redisÈªòËÆ§Êúâ16‰∏™Êï∞ÊçÆÂ∫ìÔºåÈªòËÆ§‰ΩøÁî®ÁöÑÊòØÁ¨¨0‰∏™ ÂèØ‰ª•‰ΩøÁî® select ËøõË°åÂàáÊç¢Êï∞ÊçÆÂ∫ìÔºÅselect 3 DBSIZE # Êü•ÁúãDBÂ§ßÂ∞èÔºÅ keys * # Êü•ÁúãÊï∞ÊçÆÂ∫ìÊâÄÊúâÁöÑkey Ê∏ÖÈô§ÂΩìÂâçÊï∞ÊçÆÂ∫ì flushdb Ê∏ÖÈô§ÂÖ®ÈÉ®Êï∞ÊçÆÂ∫ìÁöÑÂÜÖÂÆπ FLUSHALL Redis ‰∏∫‰ªÄ‰πàÂçïÁ∫øÁ®ãËøòËøô‰πàÂø´Ôºü 1„ÄÅËØØÂå∫1ÔºöÈ´òÊÄßËÉΩÁöÑÊúçÂä°Âô®‰∏ÄÂÆöÊòØÂ§öÁ∫øÁ®ãÁöÑÔºü 2„ÄÅËØØÂå∫2ÔºöÂ§öÁ∫øÁ®ãÔºàCPU‰∏ä‰∏ãÊñá‰ºöÂàáÊç¢ÔºÅÔºâ‰∏ÄÂÆöÊØîÂçïÁ∫øÁ®ãÊïàÁéáÈ´òÔºÅ ÂÖàÂéªCPU&gt;ÂÜÖÂ≠ò&gt;Á°¨ÁõòÁöÑÈÄüÂ∫¶Ë¶ÅÊúâÊâÄ‰∫ÜËß£ÔºÅ Ê†∏ÂøÉÔºöredis ÊòØÂ∞ÜÊâÄÊúâÁöÑÊï∞ÊçÆÂÖ®ÈÉ®ÊîæÂú®ÂÜÖÂ≠ò‰∏≠ÁöÑÔºåÊâÄ‰ª•ËØ¥‰ΩøÁî®ÂçïÁ∫øÁ®ãÂéªÊìç‰ΩúÊïàÁéáÂ∞±ÊòØÊúÄÈ´òÁöÑÔºåÂ§öÁ∫øÁ®ã ÔºàCPU‰∏ä‰∏ãÊñá‰ºöÂàáÊç¢ÔºöËÄóÊó∂ÁöÑÊìç‰ΩúÔºÅÔºÅÔºÅÔºâÔºåÂØπ‰∫éÂÜÖÂ≠òÁ≥ªÁªüÊù•ËØ¥ÔºåÂ¶ÇÊûúÊ≤°Êúâ‰∏ä‰∏ãÊñáÂàáÊç¢ÊïàÁéáÂ∞±ÊòØÊúÄÈ´ò ÁöÑÔºÅÂ§öÊ¨°ËØªÂÜôÈÉΩÊòØÂú®‰∏Ä‰∏™CPU‰∏äÁöÑÔºåÂú®ÂÜÖÂ≠òÊÉÖÂÜµ‰∏ãÔºåËøô‰∏™Â∞±ÊòØÊúÄ‰Ω≥ÁöÑÊñπÊ°àÔºÅ IOÂ§öË∑ØÂ§çÁî®ÔºàEpollÔºâÂéüÁêÜ ÁÆÄÂçïÊèèËø∞Ôºö ‚Äã ÊâßË°å epoll_create ÂáΩÊï∞‰ºöÂú®ÂÜÖÊ†∏ÁöÑÈ´òÈÄüÁºìÂ≠òÂå∫‰∏≠Âª∫Á´ã‰∏ÄÈ¢óÁ∫¢ÈªëÊ†ë‰ª•ÂèäÂ∞±Áª™ÈìæË°®(ËØ•ÈìæË°®Â≠òÂÇ®Â∑≤ÁªèÂ∞±Áª™ÁöÑÊñá‰ª∂ÊèèËø∞Á¨¶)„ÄÇÊé•ÁùÄÂ∫îÁî®Á®ãÂ∫èÊâßË°å epoll_ctl ÂáΩÊï∞Ê∑ªÂä†Êñá‰ª∂ÊèèËø∞Á¨¶‰ºöÂú®Á∫¢ÈªëÊ†ë‰∏äÂ¢ûÂä†Áõ∏Â∫îÁöÑÁªìÁÇπ„ÄÇ ‚Äã ÊâßË°å epoll_ctl ÁöÑ add Êìç‰ΩúÊó∂Ôºå‰∏ç‰ªÖÂ∞ÜÊñá‰ª∂ÊèèËø∞Á¨¶ÊîæÂà∞Á∫¢ÈªëÊ†ë‰∏äÔºåËÄå‰∏î‰πüÊ≥®ÂÜå‰∫Ü callBack ÂáΩÊï∞„ÄÇÂÜÖÊ†∏Âú®Ê£ÄÊµãÂà∞ÊüêÊñá‰ª∂ÊèèËø∞Á¨¶ÂèØËØª/ÂèØÂÜôÊó∂‰ºöË∞ÉÁî®ÂõûË∞ÉÂáΩÊï∞ÔºåËØ•ÂõûË∞ÉÂáΩÊï∞Â∞ÜÊñá‰ª∂ÊèèËø∞Á¨¶ÊîæÂú®Â∞±Áª™ÈìæË°®‰∏≠„ÄÇ ‚Äã ÊâßË°å epoll_wait ÂáΩÊï∞Âè™Áî®ËßÇÂØüÂ∞±Áª™ÈìæË°®‰∏≠ÊúâÊó†Êï∞ÊçÆÂç≥ÂèØÔºåÊúÄÂêéÂ∞ÜÈìæË°®ÁöÑÊï∞ÊçÆÂèäÂ∞±Áª™ÁöÑÊï∞ÈáèËøîÂõûÁªôÂ∫îÁî®Á®ãÂ∫èÔºåÂ∫îÁî®Á®ãÂ∫èÂè™ÈúÄË¶ÅÈÅçÂéÜ‰æùÊ¨°Â§ÑÁêÜÂç≥ÂèØ„ÄÇËøôÈáåËøîÂõûÁöÑÊñá‰ª∂ÊèèËø∞Á¨¶ÊòØÈÄöËøáÂÜÖÂ≠òÊò†Â∞ÑÂáΩÊï∞ mmap ËÆ©ÂÜÖÊ†∏ÂíåÁî®Êà∑Á©∫Èó¥ÂÖ±‰∫´Âêå‰∏ÄÂùóÂÜÖÂ≠òÂÆûÁé∞‰º†ÈÄíÁöÑÔºåÂáèÂ∞ë‰∫Ü‰∏çÂøÖË¶ÅÁöÑÊã∑Ë¥ù„ÄÇ ‚Äã mmapÔºöÂ∞ÜÁî®Êà∑Á©∫Èó¥ÁöÑ‰∏ÄÊÆµÂÜÖÂ≠òÂå∫ÂüüÊò†Â∞ÑÂà∞ÂÜÖÊ†∏Á©∫Èó¥ÔºåÊò†Â∞ÑÊàêÂäüÂêéÔºåÁî®Êà∑ÂØπËøôÊÆµÂÜÖÂ≠òÂå∫ÂüüÁöÑ‰øÆÊîπÂèØ‰ª•Áõ¥Êé•ÂèçÊò†Âà∞ÂÜÖÊ†∏Á©∫Èó¥„ÄÇÂêåÊ†∑ÔºåÂÜÖÊ†∏Á©∫Èó¥ÂØπËøôÊÆµÂå∫ÂüüÁöÑ‰øÆÊîπ‰πüÁõ¥Êé•ÂèçÊò†Áî®Êà∑Á©∫Èó¥„ÄÇÈÇ£‰πàÂØπ‰∫éÂÜÖÊ†∏Á©∫Èó¥„ÄÅÁî®Êà∑Á©∫Èó¥‰∏§ËÄÖ‰πãÈó¥ÈúÄË¶ÅÂ§ßÈáèÊï∞ÊçÆ‰º†ËæìÁ≠âÊìç‰ΩúÁöÑËØùÊïàÁéáÊòØÈùûÂ∏∏È´òÁöÑ„ÄÇ ÂÖ∑‰ΩìÂéüÁêÜÂèØ‰ª•Êü•Áúã‰∏ãÈù¢ËøôÁØáÂçöÂÆ¢Ôºö https://blog.csdn.net/armlinuxww/article/details/92803381 Redis ÈÖçÁΩÆ Redis ÁöÑÈÖçÁΩÆÊñá‰ª∂‰Ωç‰∫é Redis ÂÆâË£ÖÁõÆÂΩï‰∏ãÔºåÊñá‰ª∂Âêç‰∏∫ redis.conf(Windows Âêç‰∏∫ redis.windows.conf)„ÄÇ ‰Ω†ÂèØ‰ª•ÈÄöËøá CONFIG ÂëΩ‰ª§Êü•ÁúãÊàñËÆæÁΩÆÈÖçÁΩÆÈ°π„ÄÇ CONFIG GET CONFIG_SETTING_NAME CONFIG GET loglevel CONFIG GET * ÁºñËæëÈÖçÁΩÆ ÂèØ‰ª•ÈÄöËøá‰øÆÊîπ redis.conf Êñá‰ª∂Êàñ‰ΩøÁî® CONFIG set ÂëΩ‰ª§Êù•‰øÆÊîπÈÖçÁΩÆ„ÄÇ CONFIG SET CONFIG_SETTING_NAME NEW_CONFIG_VALUE CONFIG SET loglevel &quot;notice&quot; ÂèÇÊï∞ËØ¥Êòé redis.conf ÈÖçÁΩÆÈ°πËØ¥ÊòéÂ¶Ç‰∏ãÔºö https://www.runoob.com/redis/redis-conf.html Redis Êï∞ÊçÆÁ±ªÂûã 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950ËÆæÁΩÆÂØÜÁ†ÅÔºöconfig set requirepass 123456ÊéàÊùÉÂØÜÁ†ÅÔºöauth 123456127.0.0.1:6379&gt; keys * # Êü•ÁúãÊâÄÊúâÁöÑkey(empty list or set)127.0.0.1:6379&gt; set name xiaobai # set keyOK127.0.0.1:6379&gt; keys *1) &quot;name&quot;127.0.0.1:6379&gt; set age 1OK127.0.0.1:6379&gt; keys *1) &quot;age&quot;2) &quot;name&quot;127.0.0.1:6379&gt; EXISTS name # Âà§Êñ≠ÂΩìÂâçÁöÑkeyÊòØÂê¶Â≠òÂú®(integer) 1127.0.0.1:6379&gt; EXISTS name1(integer) 0127.0.0.1:6379&gt; move name 1 # ÁßªÈô§ÂΩìÂâçÁöÑkey(integer) 1127.0.0.1:6379&gt; keys *1) &quot;age&quot;127.0.0.1:6379&gt; set name qinjiangOK127.0.0.1:6379&gt; keys *1) &quot;age&quot;2) &quot;name&quot;127.0.0.1:6379&gt; clear127.0.0.1:6379&gt; keys *1) &quot;age&quot;2) &quot;name&quot;127.0.0.1:6379&gt; get name&quot;qinjiang&quot;127.0.0.1:6379&gt; EXPIRE name 10 # ËÆæÁΩÆkeyÁöÑËøáÊúüÊó∂Èó¥ÔºåÂçï‰ΩçÊòØÁßí(integer) 1127.0.0.1:6379&gt; ttl name # Êü•ÁúãÂΩìÂâçkeyÁöÑÂâ©‰ΩôÊó∂Èó¥(integer) 4127.0.0.1:6379&gt; ttl name(integer) 3127.0.0.1:6379&gt; ttl name(integer) 2127.0.0.1:6379&gt; ttl name(integer) 1127.0.0.1:6379&gt; ttl name(integer) -2127.0.0.1:6379&gt; get name(nil)127.0.0.1:6379&gt; type name # Êü•ÁúãÂΩìÂâçkeyÁöÑ‰∏Ä‰∏™Á±ªÂûãÔºÅstring127.0.0.1:6379&gt; type agestring StringÔºàÂ≠óÁ¨¶‰∏≤Ôºâ string ÊòØ redis ÊúÄÂü∫Êú¨ÁöÑÁ±ªÂûãÔºå‰Ω†ÂèØ‰ª•ÁêÜËß£Êàê‰∏é Memcached ‰∏ÄÊ®°‰∏ÄÊ†∑ÁöÑÁ±ªÂûãÔºå‰∏Ä‰∏™ key ÂØπÂ∫î‰∏Ä‰∏™ value„ÄÇ string Á±ªÂûãÊòØ‰∫åËøõÂà∂ÂÆâÂÖ®ÁöÑ„ÄÇÊÑèÊÄùÊòØ redis ÁöÑ string ÂèØ‰ª•ÂåÖÂê´‰ªª‰ΩïÊï∞ÊçÆ„ÄÇÊØîÂ¶ÇjpgÂõæÁâáÊàñËÄÖÂ∫èÂàóÂåñÁöÑÂØπË±°„ÄÇ string Á±ªÂûãÊòØ Redis ÊúÄÂü∫Êú¨ÁöÑÊï∞ÊçÆÁ±ªÂûãÔºåstring Á±ªÂûãÁöÑÂÄºÊúÄÂ§ßËÉΩÂ≠òÂÇ® 512MB„ÄÇ SET runoob &quot;ËèúÈ∏üÊïôÁ®ã&quot; GET runoob 123456keys Ê≠£ÂàôÔºöËé∑ÂèñÁ¨¶ÂêàÊ≠£ÂàôÁöÑÈîÆÁöÑÂÄºexistÔºöÊòØÂê¶Â≠òÂú®typeÔºöÂÄºÁ±ªÂûãdelÔºöÂà†Èô§expireÔºöËÆæÁΩÆËøáÊúüÊó∂Èó¥ttlÔºöÊü•ÁúãÊúâÊïàÊó∂Èó¥ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131##########################################################################127.0.0.1:6379&gt; set key1 v1 # ËÆæÁΩÆÂÄºOK127.0.0.1:6379&gt; get key1 # Ëé∑ÂæóÂÄº&quot;v1&quot;127.0.0.1:6379&gt; keys * # Ëé∑ÂæóÊâÄÊúâÁöÑkey1) &quot;key1&quot;127.0.0.1:6379&gt; EXISTS key1 # Âà§Êñ≠Êüê‰∏Ä‰∏™keyÊòØÂê¶Â≠òÂú®(integer) 1127.0.0.1:6379&gt; APPEND key1 &quot;hello&quot; # ËøΩÂä†Â≠óÁ¨¶‰∏≤ÔºåÂ¶ÇÊûúÂΩìÂâçkey‰∏çÂ≠òÂú®ÔºåÂ∞±Áõ∏ÂΩì‰∫éset key(integer) 7127.0.0.1:6379&gt; get key1&quot;v1hello&quot;127.0.0.1:6379&gt; STRLEN key1 # Ëé∑ÂèñÂ≠óÁ¨¶‰∏≤ÁöÑÈïøÂ∫¶ÔºÅ(integer) 7127.0.0.1:6379&gt; APPEND key1 &quot;,xiaobai&quot;(integer) 17127.0.0.1:6379&gt; STRLEN key1(integer) 17127.0.0.1:6379&gt; get key1&quot;v1hello,xiaobai&quot;########################################################################### i++# Ê≠•Èïø i+=127.0.0.1:6379&gt; set views 0 # ÂàùÂßãÊµèËßàÈáè‰∏∫0OK127.0.0.1:6379&gt; get views&quot;0&quot;127.0.0.1:6379&gt; incr views # Ëá™Â¢û1 ÊµèËßàÈáèÂèò‰∏∫1(integer) 1127.0.0.1:6379&gt; incr views(integer) 2127.0.0.1:6379&gt; get views&quot;2&quot;127.0.0.1:6379&gt; decr views # Ëá™Âáè1 ÊµèËßàÈáè-1(integer) 1127.0.0.1:6379&gt; decr views(integer) 0127.0.0.1:6379&gt; decr views(integer) -1127.0.0.1:6379&gt; get views&quot;-1&quot;127.0.0.1:6379&gt; INCRBY views 10 # ÂèØ‰ª•ËÆæÁΩÆÊ≠•ÈïøÔºåÊåáÂÆöÂ¢ûÈáèÔºÅ(integer) 9127.0.0.1:6379&gt; INCRBY views 10(integer) 19127.0.0.1:6379&gt; DECRBY views 5(integer) 14########################################################################### Â≠óÁ¨¶‰∏≤ËåÉÂõ¥ range127.0.0.1:6379&gt; set key1 &quot;hello,xiaobai&quot; # ËÆæÁΩÆ key1 ÁöÑÂÄºOK127.0.0.1:6379&gt; get key1&quot;hello,xiaobai&quot;127.0.0.1:6379&gt; GETRANGE key1 0 3 # Êà™ÂèñÂ≠óÁ¨¶‰∏≤ [0,3]&quot;hell&quot;127.0.0.1:6379&gt; GETRANGE key1 0 -1 # Ëé∑ÂèñÂÖ®ÈÉ®ÁöÑÂ≠óÁ¨¶‰∏≤ Âíå get keyÊòØ‰∏ÄÊ†∑ÁöÑ&quot;hello,xiaobai&quot;# ÊõøÊç¢ÔºÅ127.0.0.1:6379&gt; set key2 abcdefgOK127.0.0.1:6379&gt; get key2&quot;abcdefg&quot;127.0.0.1:6379&gt; SETRANGE key2 1 xx # ÊõøÊç¢ÊåáÂÆö‰ΩçÁΩÆÂºÄÂßãÁöÑÂ≠óÁ¨¶‰∏≤ÔºÅ(integer) 7127.0.0.1:6379&gt; get key2&quot;axxdefg&quot;########################################################################### setex (set with expire) # ËÆæÁΩÆËøáÊúüÊó∂Èó¥# setnx (set if not exist) # ‰∏çÂ≠òÂú®Âú®ËÆæÁΩÆ ÔºàÂú®ÂàÜÂ∏ÉÂºèÈîÅ‰∏≠‰ºöÂ∏∏Â∏∏‰ΩøÁî®ÔºÅÔºâ127.0.0.1:6379&gt; setex key3 30 &quot;hello&quot; # ËÆæÁΩÆkey3 ÁöÑÂÄº‰∏∫ hello,30ÁßíÂêéËøáÊúüOK127.0.0.1:6379&gt; ttl key3(integer) 26127.0.0.1:6379&gt; get key3&quot;hello&quot;127.0.0.1:6379&gt; setnx mykey &quot;redis&quot; # Â¶ÇÊûúmykey ‰∏çÂ≠òÂú®ÔºåÂàõÂª∫mykey(integer) 1127.0.0.1:6379&gt; keys *1) &quot;key2&quot;2) &quot;mykey&quot;3) &quot;key1&quot;127.0.0.1:6379&gt; ttl key3(integer) -2127.0.0.1:6379&gt; setnx mykey &quot;MongoDB&quot; # Â¶ÇÊûúmykeyÂ≠òÂú®ÔºåÂàõÂª∫Â§±Ë¥•ÔºÅ(integer) 0127.0.0.1:6379&gt; get mykey&quot;redis&quot;##########################################################################msetmget127.0.0.1:6379&gt; mset k1 v1 k2 v2 k3 v3 # ÂêåÊó∂ËÆæÁΩÆÂ§ö‰∏™ÂÄºOK127.0.0.1:6379&gt; keys *1) &quot;k1&quot;2) &quot;k2&quot;3) &quot;k3&quot;127.0.0.1:6379&gt; mget k1 k2 k3 # ÂêåÊó∂Ëé∑ÂèñÂ§ö‰∏™ÂÄº1) &quot;v1&quot;2) &quot;v2&quot;3) &quot;v3&quot;127.0.0.1:6379&gt; msetnx k1 v1 k4 v4 # msetnx ÊòØ‰∏Ä‰∏™ÂéüÂ≠êÊÄßÁöÑÊìç‰ΩúÔºåË¶Å‰πà‰∏ÄËµ∑ÊàêÂäüÔºåË¶Å‰πà‰∏ÄËµ∑Â§±Ë¥•ÔºÅ(integer) 0127.0.0.1:6379&gt; get k4(nil)# ÂØπË±°set user:1 {name:zhangsan,age:3} # ËÆæÁΩÆ‰∏Ä‰∏™user:1 ÂØπË±° ÂÄº‰∏∫ jsonÂ≠óÁ¨¶Êù•‰øùÂ≠ò‰∏Ä‰∏™ÂØπË±°ÔºÅ# ËøôÈáåÁöÑkeyÊòØ‰∏Ä‰∏™Â∑ßÂ¶ôÁöÑËÆæËÆ°Ôºö user:{id}:{filed} , Â¶ÇÊ≠§ËÆæËÆ°Âú®Redis‰∏≠ÊòØÂÆåÂÖ®OK‰∫ÜÔºÅ127.0.0.1:6379&gt; mset user:1:name zhangsan user:1:age 2OK127.0.0.1:6379&gt; mget user:1:name user:1:age1) &quot;zhangsan&quot;2) &quot;2&quot;##########################################################################getset # ÂÖàgetÁÑ∂ÂêéÂú®set127.0.0.1:6379&gt; getset db redis # Â¶ÇÊûú‰∏çÂ≠òÂú®ÂÄºÔºåÂàôËøîÂõû nil(nil)127.0.0.1:6379&gt; get db&quot;redis127.0.0.1:6379&gt; getset db mongodb # Â¶ÇÊûúÂ≠òÂú®ÂÄºÔºåËé∑ÂèñÂéüÊù•ÁöÑÂÄºÔºåÂπ∂ËÆæÁΩÆÊñ∞ÁöÑÂÄº&quot;redis&quot;127.0.0.1:6379&gt; get db&quot;mongodb&quot; Êï∞ÊçÆÁªìÊûÑÊòØÁõ∏ÂêåÁöÑÔºÅ StringÁ±ª‰ººÁöÑ‰ΩøÁî®Âú∫ÊôØÔºövalueÈô§‰∫ÜÊòØÊàë‰ª¨ÁöÑÂ≠óÁ¨¶‰∏≤ËøòÂèØ‰ª•ÊòØÊàë‰ª¨ÁöÑÊï∞Â≠óÔºÅ ËÆ°Êï∞Âô® ÁªüËÆ°Â§öÂçï‰ΩçÁöÑÊï∞Èáè Á≤â‰∏ùÊï∞ ÂØπË±°ÁºìÂ≠òÂ≠òÂÇ®ÔºÅ HashÔºàÂìàÂ∏åÔºâ Redis hash ÊòØ‰∏Ä‰∏™ÈîÆÂÄº(key=&gt;value)ÂØπÈõÜÂêà„ÄÇ Redis hash ÊòØ‰∏Ä‰∏™ string Á±ªÂûãÁöÑ field Âíå value ÁöÑÊò†Â∞ÑË°®Ôºåhash ÁâπÂà´ÈÄÇÂêàÁî®‰∫éÂ≠òÂÇ®ÂØπË±°„ÄÇ - DEL runoob Áî®‰∫éÂà†Èô§ÂâçÈù¢ÊµãËØïÁî®ËøáÁöÑ keyÔºå‰∏çÁÑ∂‰ºöÊä•ÈîôÔºö(error) WRONGTYPE Operation against a key holding the wrong kind of value - HMSET ËÆæÁΩÆ‰∫Ü‰∏§‰∏™ field=&gt;value ÂØπ, HGET Ëé∑ÂèñÂØπÂ∫î field ÂØπÂ∫îÁöÑ value„ÄÇ ÊØè‰∏™ hash ÂèØ‰ª•Â≠òÂÇ® 232 -1 ÈîÆÂÄºÂØπÔºà40Â§ö‰∫øÔºâ„ÄÇ HMSET runoob field1 &quot;Hello&quot; field2 &quot;World&quot; HGET runoob field1 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748MapÈõÜÂêàÔºåkey-map! Êó∂ÂÄôËøô‰∏™ÂÄºÊòØ‰∏Ä‰∏™mapÈõÜÂêàÔºÅ Êú¨Ë¥®ÂíåStringÁ±ªÂûãÊ≤°ÊúâÂ§™Â§ßÂå∫Âà´ÔºåËøòÊòØ‰∏Ä‰∏™ÁÆÄÂçïÁöÑkey-vlaueÔºÅset myhash field xiaobai5) &quot;d&quot;##########################################################################127.0.0.1:6379&gt; hset myhash field1 xiaobai # set‰∏Ä‰∏™ÂÖ∑‰Ωì key-vlaue(integer) 1127.0.0.1:6379&gt; hget myhash field1 # Ëé∑Âèñ‰∏Ä‰∏™Â≠óÊÆµÂÄº&quot;xiaobai&quot;127.0.0.1:6379&gt; hmset myhash field1 hello field2 world # setÂ§ö‰∏™ key-vlaueOK127.0.0.1:6379&gt; hmget myhash field1 field2 # Ëé∑ÂèñÂ§ö‰∏™Â≠óÊÆµÂÄº1) &quot;hello&quot;2) &quot;world&quot;127.0.0.1:6379&gt; hgetall myhash # Ëé∑ÂèñÂÖ®ÈÉ®ÁöÑÊï∞ÊçÆÔºå1) &quot;field1&quot;2) &quot;hello&quot;3) &quot;field2&quot;4) &quot;world&quot;127.0.0.1:6379&gt; hdel myhash field1 # Âà†Èô§hashÊåáÂÆökeyÂ≠óÊÆµÔºÅÂØπÂ∫îÁöÑvalueÂÄº‰πüÂ∞±Ê∂àÂ§±‰∫ÜÔºÅ(integer) 1127.0.0.1:6379&gt; hgetall myhash1) &quot;field2&quot;2) &quot;world&quot;##########################################################################hlen127.0.0.1:6379&gt; hmset myhash field1 hello field2 worldOK127.0.0.1:6379&gt; HGETALL myhash1) &quot;field2&quot;2) &quot;world&quot;3) &quot;field1&quot;4) &quot;hello&quot;127.0.0.1:6379&gt; hlen myhash # Ëé∑ÂèñhashË°®ÁöÑÂ≠óÊÆµÊï∞ÈáèÔºÅ(integer) 2##########################################################################127.0.0.1:6379&gt; HEXISTS myhash field1 # Âà§Êñ≠hash‰∏≠ÊåáÂÆöÂ≠óÊÆµÊòØÂê¶Â≠òÂú®ÔºÅ(integer) 1127.0.0.1:6379&gt; HEXISTS myhash field3(integer) 0########################################################################### Âè™Ëé∑ÂæóÊâÄÊúâfield# Âè™Ëé∑ÂæóÊâÄÊúâvalue127.0.0.1:6379&gt; hkeys myhash # Âè™Ëé∑ÂæóÊâÄÊúâfield1) &quot;field2&quot;2) &quot;field1&quot;hashÂèòÊõ¥ÁöÑÊï∞ÊçÆ user name age,Â∞§ÂÖ∂ÊòØÊòØÁî®Êà∑‰ø°ÊÅØ‰πãÁ±ªÁöÑÔºåÁªèÂ∏∏ÂèòÂä®ÁöÑ‰ø°ÊÅØÔºÅ hash Êõ¥ÈÄÇÂêà‰∫éÂØπË±°ÁöÑÂ≠òÂÇ®ÔºåStringÊõ¥Âä†ÈÄÇÂêàÂ≠óÁ¨¶‰∏≤Â≠òÂÇ®ÔºÅ ListÔºàÂàóË°®Ôºâ Redis ÂàóË°®ÊòØÁÆÄÂçïÁöÑÂ≠óÁ¨¶‰∏≤ÂàóË°®ÔºåÊåâÁÖßÊèíÂÖ•È°∫Â∫èÊéíÂ∫è„ÄÇ‰Ω†ÂèØ‰ª•Ê∑ªÂä†‰∏Ä‰∏™ÂÖÉÁ¥†Âà∞ÂàóË°®ÁöÑÂ§¥ÈÉ®ÔºàÂ∑¶ËæπÔºâÊàñËÄÖÂ∞æÈÉ®ÔºàÂè≥ËæπÔºâ„ÄÇ ÂàóË°®ÊúÄÂ§öÂèØÂ≠òÂÇ®232 -1ÂÖÉÁ¥† (4294967295, ÊØè‰∏™ÂàóË°®ÂèØÂ≠òÂÇ®40Â§ö‰∫ø)„ÄÇ lpush runoob redis lpush runoob mongodb lrange runoob 0 10 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180Âü∫Êú¨ÁöÑÊï∞ÊçÆÁ±ªÂûãÔºåÂàóË°®127.0.0.1:6379&gt; msetnx k1 v1 k4 v4 # msetnx ÊòØ‰∏Ä‰∏™ÂéüÂ≠êÊÄßÁöÑÊìç‰ΩúÔºåË¶Å‰πà‰∏ÄËµ∑ÊàêÂäüÔºåË¶Å‰πà‰∏ÄËµ∑Â§±Ë¥•ÔºÅ(integer) 0127.0.0.1:6379&gt; get k4(nil)# ÂØπË±°set user:1 {name:zhangsan,age:3} # ËÆæÁΩÆ‰∏Ä‰∏™user:1 ÂØπË±° ÂÄº‰∏∫ jsonÂ≠óÁ¨¶Êù•‰øùÂ≠ò‰∏Ä‰∏™ÂØπË±°ÔºÅ# ËøôÈáåÁöÑkeyÊòØ‰∏Ä‰∏™Â∑ßÂ¶ôÁöÑËÆæËÆ°Ôºö user:{id}:{filed} , Â¶ÇÊ≠§ËÆæËÆ°Âú®Redis‰∏≠ÊòØÂÆåÂÖ®OK‰∫ÜÔºÅ127.0.0.1:6379&gt; mset user:1:name zhangsan user:1:age 2OK127.0.0.1:6379&gt; mget user:1:name user:1:age1) &quot;zhangsan&quot;2) &quot;2&quot;##########################################################################getset # ÂÖàgetÁÑ∂ÂêéÂú®set127.0.0.1:6379&gt; getset db redis # Â¶ÇÊûú‰∏çÂ≠òÂú®ÂÄºÔºåÂàôËøîÂõû nil(nil)127.0.0.1:6379&gt; get db&quot;redis127.0.0.1:6379&gt; getset db mongodb # Â¶ÇÊûúÂ≠òÂú®ÂÄºÔºåËé∑ÂèñÂéüÊù•ÁöÑÂÄºÔºåÂπ∂ËÆæÁΩÆÊñ∞ÁöÑÂÄº&quot;redis&quot;127.0.0.1:6379&gt; get db&quot;mongodb&quot;Âú®redisÈáåÈù¢ÔºåÊàë‰ª¨ÂèØ‰ª•ÊäälistÁé©Êàê ÔºåÊ†à„ÄÅÈòüÂàó„ÄÅÈòªÂ°ûÈòüÂàóÔºÅÊâÄÊúâÁöÑlistÂëΩ‰ª§ÈÉΩÊòØÁî®lÂºÄÂ§¥ÁöÑÔºåRedis‰∏çÂå∫ÂàÜÂ§ßÂ∞èÂëΩ‰ª§##########################################################################127.0.0.1:6379&gt; LPUSH list one # Â∞Ü‰∏Ä‰∏™ÂÄºÊàñËÄÖÂ§ö‰∏™ÂÄºÔºåÊèíÂÖ•Âà∞ÂàóË°®Â§¥ÈÉ® ÔºàÂ∑¶Ôºâ(integer) 1127.0.0.1:6379&gt; LPUSH list two(integer) 2127.0.0.1:6379&gt; LPUSH list three(integer) 3127.0.0.1:6379&gt; LRANGE list 0 -1 # Ëé∑Âèñlist‰∏≠ÂÄºÔºÅ1) &quot;three&quot;2) &quot;two&quot;3) &quot;one&quot;127.0.0.1:6379&gt; LRANGE list 0 1 # ÈÄöËøáÂå∫Èó¥Ëé∑ÂèñÂÖ∑‰ΩìÁöÑÂÄºÔºÅ1) &quot;three&quot;2) &quot;two&quot;127.0.0.1:6379&gt; Rpush list righr # Â∞Ü‰∏Ä‰∏™ÂÄºÊàñËÄÖÂ§ö‰∏™ÂÄºÔºåÊèíÂÖ•Âà∞ÂàóË°®‰ΩçÈÉ® ÔºàÂè≥Ôºâ(integer) 4127.0.0.1:6379&gt; LRANGE list 0 -11) &quot;three&quot;2) &quot;two&quot;3) &quot;one&quot;4) &quot;righr&quot;##########################################################################LPOPRPOP127.0.0.1:6379&gt; LRANGE list 0 -11) &quot;three&quot;2) &quot;two&quot;3) &quot;one&quot;4) &quot;righr&quot;127.0.0.1:6379&gt; Lpop list # ÁßªÈô§listÁöÑÁ¨¨‰∏Ä‰∏™ÂÖÉÁ¥†&quot;three&quot;127.0.0.1:6379&gt; Rpop list # ÁßªÈô§listÁöÑÊúÄÂêé‰∏Ä‰∏™ÂÖÉÁ¥†&quot;righr&quot;127.0.0.1:6379&gt; LRANGE list 0 -11) &quot;two&quot;2) &quot;one&quot;##########################################################################Lindex127.0.0.1:6379&gt; LRANGE list 0 -11) &quot;two&quot;2) &quot;one&quot;127.0.0.1:6379&gt; lindex list 1 # ÈÄöËøá‰∏ãÊ†áËé∑Âæó list ‰∏≠ÁöÑÊüê‰∏Ä‰∏™ÂÄºÔºÅ&quot;one&quot;127.0.0.1:6379&gt; lindex list 0&quot;two&quot;##########################################################################Llen127.0.0.1:6379&gt; Lpush list one(integer) 1127.0.0.1:6379&gt; Lpush list two(integer) 2127.0.0.1:6379&gt; Lpush list three(integer) 3127.0.0.1:6379&gt; Llen list # ËøîÂõûÂàóË°®ÁöÑÈïøÂ∫¶(integer) 3##########################################################################ÁßªÈô§ÊåáÂÆöÁöÑÂÄºÔºÅÂèñÂÖ≥ uidLrem127.0.0.1:6379&gt; LRANGE list 0 -11) &quot;three&quot;2) &quot;three&quot;3) &quot;two&quot;4) &quot;one&quot;127.0.0.1:6379&gt; lrem list 1 one # ÁßªÈô§listÈõÜÂêà‰∏≠ÊåáÂÆö‰∏™Êï∞ÁöÑvalueÔºåÁ≤æÁ°ÆÂåπÈÖç(integer) 1127.0.0.1:6379&gt; LRANGE list 0 -11) &quot;three&quot;2) &quot;three&quot;3) &quot;two&quot;127.0.0.1:6379&gt; lrem list 1 three(integer) 1127.0.0.1:6379&gt; LRANGE list 0 -11) &quot;three&quot;2) &quot;two&quot;127.0.0.1:6379&gt; Lpush list three(integer) 3127.0.0.1:6379&gt; lrem list 2 three(integer) 2127.0.0.1:6379&gt; LRANGE list 0 -11) &quot;two&quot;##########################################################################trim ‰øÆÂâ™„ÄÇÔºõ list Êà™Êñ≠!127.0.0.1:6379&gt; keys *(empty list or set)127.0.0.1:6379&gt; Rpush mylist &quot;hello&quot;(integer) 1127.0.0.1:6379&gt; Rpush mylist &quot;hello1&quot;(integer) 2127.0.0.1:6379&gt; Rpush mylist &quot;hello2&quot;(integer) 3127.0.0.1:6379&gt; Rpush mylist &quot;hello3&quot;(integer) 4127.0.0.1:6379&gt; ltrim mylist 1 2 # ÈÄöËøá‰∏ãÊ†áÊà™ÂèñÊåáÂÆöÁöÑÈïøÂ∫¶ÔºåËøô‰∏™listÂ∑≤ÁªèË¢´ÊîπÂèò‰∫ÜÔºåÊà™Êñ≠‰∫ÜÂè™Ââ©‰∏ãÊà™ÂèñÁöÑÂÖÉÁ¥†ÔºÅOK127.0.0.1:6379&gt; LRANGE mylist 0 -11) &quot;hello1&quot;2) &quot;hello2&quot;##########################################################################rpoplpush # ÁßªÈô§ÂàóË°®ÁöÑÊúÄÂêé‰∏Ä‰∏™ÂÖÉÁ¥†ÔºåÂ∞Ü‰ªñÁßªÂä®Âà∞Êñ∞ÁöÑÂàóË°®‰∏≠ÔºÅ127.0.0.1:6379&gt; rpush mylist &quot;hello&quot;(integer) 1127.0.0.1:6379&gt; rpush mylist &quot;hello1&quot;(integer) 2127.0.0.1:6379&gt; rpush mylist &quot;hello2&quot;(integer) 3127.0.0.1:6379&gt; rpoplpush mylist myotherlist # ÁßªÈô§ÂàóË°®ÁöÑÊúÄÂêé‰∏Ä‰∏™ÂÖÉÁ¥†ÔºåÂ∞Ü‰ªñÁßªÂä®Âà∞Êñ∞ÁöÑÂàóË°®‰∏≠ÔºÅ&quot;hello2&quot;127.0.0.1:6379&gt; lrange mylist 0 -1 # Êü•ÁúãÂéüÊù•ÁöÑÂàóË°®1) &quot;hello&quot;2) &quot;hello1&quot;127.0.0.1:6379&gt; lrange myotherlist 0 -1 # Êü•ÁúãÁõÆÊ†áÂàóË°®‰∏≠ÔºåÁ°ÆÂÆûÂ≠òÂú®ÊîπÂÄºÔºÅ1) &quot;hello2&quot;###########################################################################lset Â∞ÜÂàóË°®‰∏≠ÊåáÂÆö‰∏ãÊ†áÁöÑÂÄºÊõøÊç¢‰∏∫Âè¶Â§ñ‰∏Ä‰∏™ÂÄºÔºåÊõ¥Êñ∞Êìç‰Ωú127.0.0.1:6379&gt; EXISTS list # Âà§Êñ≠Ëøô‰∏™ÂàóË°®ÊòØÂê¶Â≠òÂú®(integer) 0127.0.0.1:6379&gt; lset list 0 item # Â¶ÇÊûú‰∏çÂ≠òÂú®ÂàóË°®Êàë‰ª¨ÂéªÊõ¥Êñ∞Â∞±‰ºöÊä•Èîô(error) ERR no such key127.0.0.1:6379&gt; lpush list value1(integer) 1127.0.0.1:6379&gt; LRANGE list 0 01) &quot;value1&quot;127.0.0.1:6379&gt; lset list 0 item # Â¶ÇÊûúÂ≠òÂú®ÔºåÊõ¥Êñ∞ÂΩìÂâç‰∏ãÊ†áÁöÑÂÄºOK127.0.0.1:6379&gt; LRANGE list 0 01) &quot;item&quot;127.0.0.1:6379&gt; lset list 1 other # Â¶ÇÊûú‰∏çÂ≠òÂú®ÔºåÂàô‰ºöÊä•ÈîôÔºÅ(error) ERR index out of range##########################################################################linsert # Â∞ÜÊüê‰∏™ÂÖ∑‰ΩìÁöÑvalueÊèíÂÖ•Âà∞ÂàóÊää‰Ω†‰∏≠Êüê‰∏™ÂÖÉÁ¥†ÁöÑÂâçÈù¢ÊàñËÄÖÂêéÈù¢ÔºÅ127.0.0.1:6379&gt; Rpush mylist &quot;hello&quot;(integer) 1127.0.0.1:6379&gt; Rpush mylist &quot;world&quot;(integer) 2127.0.0.1:6379&gt; LINSERT mylist before &quot;world&quot; &quot;other&quot;(integer) 3127.0.0.1:6379&gt; LRANGE mylist 0 -11) &quot;hello&quot;2) &quot;other&quot;3) &quot;world&quot;127.0.0.1:6379&gt; LINSERT mylist after world new(integer) 4127.0.0.1:6379&gt; LRANGE mylist 0 -11) &quot;hello&quot;2) &quot;other&quot;3) &quot;world&quot;4) &quot;new&quot;#Â∞èÁªì#‰ªñÂÆûÈôÖ‰∏äÊòØ‰∏Ä‰∏™ÈìæË°®Ôºåbefore Node after Ôºå leftÔºåright ÈÉΩÂèØ‰ª•ÊèíÂÖ•ÂÄº#Â¶ÇÊûúkey ‰∏çÂ≠òÂú®ÔºåÂàõÂª∫Êñ∞ÁöÑÈìæË°®#Â¶ÇÊûúkeyÂ≠òÂú®ÔºåÊñ∞Â¢ûÂÜÖÂÆπ SetÔºàÈõÜÂêàÔºâ Redis ÁöÑ Set ÊòØ string Á±ªÂûãÁöÑÊó†Â∫èÈõÜÂêà„ÄÇ ÈõÜÂêàÊòØÈÄöËøáÂìàÂ∏åË°®ÂÆûÁé∞ÁöÑÔºåÊâÄ‰ª•Ê∑ªÂä†ÔºåÂà†Èô§ÔºåÊü•ÊâæÁöÑÂ§çÊùÇÂ∫¶ÈÉΩÊòØ O(1)„ÄÇ sadd ÂëΩ‰ª§ Ê∑ªÂä†‰∏Ä‰∏™ string ÂÖÉÁ¥†Âà∞ key ÂØπÂ∫îÁöÑ set ÈõÜÂêà‰∏≠ÔºåÊàêÂäüËøîÂõû 1ÔºåÂ¶ÇÊûúÂÖÉÁ¥†Â∑≤ÁªèÂú®ÈõÜÂêà‰∏≠ËøîÂõû 0„ÄÇ sadd key member ÈõÜÂêà‰∏≠ÊúÄÂ§ßÁöÑÊàêÂëòÊï∞‰∏∫ 232 - 1(4294967295, ÊØè‰∏™ÈõÜÂêàÂèØÂ≠òÂÇ®40Â§ö‰∫ø‰∏™ÊàêÂëò)„ÄÇ sadd runoob redis smembers runoob 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100set‰∏≠ÁöÑÂÄºÊòØ‰∏çËÉΩÈáçËØªÁöÑÔºÅ##########################################################################127.0.0.1:6379&gt; sadd myset &quot;hello&quot; # setÈõÜÂêà‰∏≠Ê∑ªÂä†ÂåÄÈÄü(integer) 1127.0.0.1:6379&gt; sadd myset &quot;xiaobai&quot;(integer) 1127.0.0.1:6379&gt; sadd myset &quot;lovexiaobai&quot;(integer) 1127.0.0.1:6379&gt; SMEMBERS myset # Êü•ÁúãÊåáÂÆösetÁöÑÊâÄÊúâÂÄº1) &quot;hello&quot;2) &quot;lovexiaobai&quot;3) &quot;xiaobai&quot;127.0.0.1:6379&gt; SISMEMBER myset hello # Âà§Êñ≠Êüê‰∏Ä‰∏™ÂÄºÊòØ‰∏çÊòØÂú®setÈõÜÂêà‰∏≠ÔºÅ(integer) 1127.0.0.1:6379&gt; SISMEMBER myset world(integer) 0##########################################################################127.0.0.1:6379&gt; scard myset # Ëé∑ÂèñsetÈõÜÂêà‰∏≠ÁöÑÂÜÖÂÆπÂÖÉÁ¥†‰∏™Êï∞ÔºÅ(integer) 4##########################################################################rem127.0.0.1:6379&gt; srem myset hello # ÁßªÈô§setÈõÜÂêà‰∏≠ÁöÑÊåáÂÆöÂÖÉÁ¥†(integer) 1127.0.0.1:6379&gt; scard myset(integer) 3127.0.0.1:6379&gt; SMEMBERS myset1) &quot;lovexiaobai2&quot;2) &quot;lovexiaobai&quot;3) &quot;xiaobai&quot;##########################################################################set Êó†Â∫è‰∏çÈáçÂ§çÈõÜÂêà„ÄÇÊäΩÈöèÊú∫ÔºÅ127.0.0.1:6379&gt; SMEMBERS myset1) &quot;lovexiaobai2&quot;2) &quot;lovexiaobai&quot;3) &quot;xiaobai&quot;127.0.0.1:6379&gt; SRANDMEMBER myset # ÈöèÊú∫ÊäΩÈÄâÂá∫‰∏Ä‰∏™ÂÖÉÁ¥†&quot;xiaobai&quot;127.0.0.1:6379&gt; SRANDMEMBER myset&quot;xiaobai&quot;127.0.0.1:6379&gt; SRANDMEMBER myset&quot;xiaobai&quot;127.0.0.1:6379&gt; SRANDMEMBER myset&quot;xiaobai&quot;127.0.0.1:6379&gt; SRANDMEMBER myset 2 # ÈöèÊú∫ÊäΩÈÄâÂá∫ÊåáÂÆö‰∏™Êï∞ÁöÑÂÖÉÁ¥†1) &quot;lovexiaobai&quot;2) &quot;lovexiaobai2&quot;127.0.0.1:6379&gt; SRANDMEMBER myset 21) &quot;lovexiaobai&quot;2) &quot;lovexiaobai2&quot;127.0.0.1:6379&gt; SRANDMEMBER myset # ÈöèÊú∫ÊäΩÈÄâÂá∫‰∏Ä‰∏™ÂÖÉÁ¥†&quot;lovexiaobai2&quot;##########################################################################Âà†Èô§ÂÆöÁöÑkeyÔºåÈöèÊú∫Âà†Èô§keyÔºÅ127.0.0.1:6379&gt; SMEMBERS myset1) &quot;lovexiaobai2&quot;2) &quot;lovexiaobai&quot;3) &quot;xiaobai&quot;127.0.0.1:6379&gt; spop myset # ÈöèÊú∫Âà†Èô§‰∏Ä‰∫õsetÈõÜÂêà‰∏≠ÁöÑÂÖÉÁ¥†ÔºÅ&quot;lovexiaobai2&quot;127.0.0.1:6379&gt; spop myset&quot;lovexiaobai&quot;127.0.0.1:6379&gt; SMEMBERS myset1) &quot;xiaobai&quot;##########################################################################Â∞Ü‰∏Ä‰∏™ÊåáÂÆöÁöÑÂÄºÔºåÁßªÂä®Âà∞Âè¶Â§ñ‰∏Ä‰∏™setÈõÜÂêàÔºÅ127.0.0.1:6379&gt; sadd myset &quot;hello&quot;(integer) 1127.0.0.1:6379&gt; sadd myset &quot;world&quot;(integer) 1127.0.0.1:6379&gt; sadd myset &quot;xiaobai&quot;(integer) 1127.0.0.1:6379&gt; sadd myset2 &quot;set2&quot;(integer) 1127.0.0.1:6379&gt; smove myset myset2 &quot;xiaobai&quot; # Â∞Ü‰∏Ä‰∏™ÊåáÂÆöÁöÑÂÄºÔºåÁßªÂä®Âà∞Âè¶Â§ñ‰∏Ä‰∏™setÈõÜÂêàÔºÅ(integer) 1127.0.0.1:6379&gt; SMEMBERS myset1) &quot;world&quot;2) &quot;hello&quot;127.0.0.1:6379&gt; SMEMBERS myset21) &quot;xiaobai&quot;2) &quot;set2&quot;##########################################################################Êï∞Â≠óÈõÜÂêàÁ±ªÔºö- Â∑ÆÈõÜ SDIFF- ‰∫§ÈõÜ- Âπ∂ÈõÜ127.0.0.1:6379&gt; SDIFF key1 key2 # Â∑ÆÈõÜ1) &quot;b&quot;2) &quot;a&quot;127.0.0.1:6379&gt; SINTER key1 key2 # ‰∫§ÈõÜ ÂÖ±ÂêåÂ•ΩÂèãÂ∞±ÂèØ‰ª•ËøôÊ†∑ÂÆûÁé∞1) &quot;c&quot;127.0.0.1:6379&gt; SUNION key1 key2 # Âπ∂ÈõÜ1) &quot;b&quot;2) &quot;c&quot;3) &quot;e&quot;4) &quot;a&quot;ÂæÆÂçöÔºåAÁî®Êà∑Â∞ÜÊâÄÊúâÂÖ≥Ê≥®ÁöÑ‰∫∫ÊîæÂú®‰∏Ä‰∏™setÈõÜÂêà‰∏≠ÔºÅÂ∞ÜÂÆÉÁöÑÁ≤â‰∏ù‰πüÊîæÂú®‰∏Ä‰∏™ÈõÜÂêà‰∏≠ÔºÅÂÖ±ÂêåÂÖ≥Ê≥®ÔºåÂÖ±ÂêåÁà±Â•ΩÔºå‰∫åÂ∫¶Â•ΩÂèãÔºåÊé®ËçêÂ•ΩÂèãÔºÅÔºàÂÖ≠Â∫¶ÂàÜÂâ≤ÁêÜËÆ∫Ôºâ ZSet(ÊúâÂ∫èÈõÜÂêà) Redis zset (sorted setÔºöÊúâÂ∫èÈõÜÂêà)Âíå set ‰∏ÄÊ†∑‰πüÊòØstringÁ±ªÂûãÂÖÉÁ¥†ÁöÑÈõÜÂêà,‰∏î‰∏çÂÖÅËÆ∏ÈáçÂ§çÁöÑÊàêÂëò„ÄÇ‰∏çÂêåÁöÑÊòØÊØè‰∏™ÂÖÉÁ¥†ÈÉΩ‰ºöÂÖ≥ËÅî‰∏Ä‰∏™doubleÁ±ªÂûãÁöÑÂàÜÊï∞„ÄÇredisÊ≠£ÊòØÈÄöËøáÂàÜÊï∞Êù•‰∏∫ÈõÜÂêà‰∏≠ÁöÑÊàêÂëòËøõË°å‰ªéÂ∞èÂà∞Â§ßÁöÑÊéíÂ∫è„ÄÇ zsetÁöÑÊàêÂëòÊòØÂîØ‰∏ÄÁöÑ,‰ΩÜ**ÂàÜÊï∞(score)**Âç¥ÂèØ‰ª•ÈáçÂ§ç„ÄÇ zadd ÂëΩ‰ª§ Ê∑ªÂä†ÂÖÉÁ¥†Âà∞ÈõÜÂêàÔºåÂÖÉÁ¥†Âú®ÈõÜÂêà‰∏≠Â≠òÂú®ÂàôÊõ¥Êñ∞ÂØπÂ∫îscore zadd key score member zadd runoob 0 redis ZRANGEBYSCORE runoob 0 1000 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879Âú®setÁöÑÂü∫Á°Ä‰∏äÔºåÂ¢ûÂä†‰∫Ü‰∏Ä‰∏™ÂÄºÔºåset k1 v1 zset k1 score1 v1127.0.0.1:6379&gt; hvals myhash # Âè™Ëé∑ÂæóÊâÄÊúâvalue1) &quot;world&quot;2) &quot;hello&quot;##########################################################################incr decr127.0.0.1:6379&gt; hset myhash field3 5 #ÊåáÂÆöÂ¢ûÈáèÔºÅ(integer) 1127.0.0.1:6379&gt; HINCRBY myhash field3 1(integer) 6127.0.0.1:6379&gt; HINCRBY myhash field3 -1(integer) 5127.0.0.1:6379&gt; hsetnx myhash field4 hello # Â¶ÇÊûú‰∏çÂ≠òÂú®ÂàôÂèØ‰ª•ËÆæÁΩÆ(integer) 1127.0.0.1:6379&gt; hsetnx myhash field4 world # Â¶ÇÊûúÂ≠òÂú®Âàô‰∏çËÉΩËÆæÁΩÆ(integer) 0127.0.0.1:6379&gt; zadd myset 1 one # Ê∑ªÂä†‰∏Ä‰∏™ÂÄº(integer) 1127.0.0.1:6379&gt; zadd myset 2 two 3 three # Ê∑ªÂä†Â§ö‰∏™ÂÄº(integer) 2127.0.0.1:6379&gt; ZRANGE myset 0 -11) &quot;one&quot;2) &quot;two&quot;3) &quot;three&quot;##########################################################################ÊéíÂ∫èÂ¶Ç‰ΩïÂÆûÁé∞127.0.0.1:6379&gt; zadd salary 2500 xiaohong # Ê∑ªÂä†‰∏â‰∏™Áî®Êà∑(integer) 1127.0.0.1:6379&gt; zadd salary 5000 zhangsan(integer) 1127.0.0.1:6379&gt; zadd salary 500 xiaobai(integer) 1# ZRANGEBYSCORE key min max127.0.0.1:6379&gt; ZRANGEBYSCORE salary -inf +inf # ÊòæÁ§∫ÂÖ®ÈÉ®ÁöÑÁî®Êà∑ ‰ªéÂ∞èÂà∞Â§ßÔºÅ1) &quot;xiaobai&quot;2) &quot;xiaohong&quot;3) &quot;zhangsan&quot;127.0.0.1:6379&gt; ZREVRANGE salary 0 -1 # ‰ªéÂ§ßÂà∞ËøõË°åÊéíÂ∫èÔºÅ1) &quot;zhangsan&quot;2) &quot;xiaobai&quot;127.0.0.1:6379&gt; ZRANGEBYSCORE salary -inf +inf withscores # ÊòæÁ§∫ÂÖ®ÈÉ®ÁöÑÁî®Êà∑Âπ∂‰∏îÈôÑÂ∏¶ÊàêÁª©1) &quot;xiaobai&quot;2) &quot;500&quot;3) &quot;xiaohong&quot;4) &quot;2500&quot;5) &quot;zhangsan&quot;6) &quot;5000&quot;127.0.0.1:6379&gt; ZRANGEBYSCORE salary -inf 2500 withscores # ÊòæÁ§∫Â∑•ËµÑÂ∞è‰∫é2500ÂëòÂ∑•ÁöÑÂçáÂ∫èÊéíÂ∫èÔºÅ1) &quot;xiaobai&quot;2) &quot;500&quot;3) &quot;xiaohong&quot;4) &quot;2500&quot;########################################################################### ÁßªÈô§rem‰∏≠ÁöÑÂÖÉÁ¥†127.0.0.1:6379&gt; zrange salary 0 -11) &quot;xiaobai&quot;2) &quot;xiaohong&quot;3) &quot;zhangsan&quot;127.0.0.1:6379&gt; zrem salary xiaohong # ÁßªÈô§ÊúâÂ∫èÈõÜÂêà‰∏≠ÁöÑÊåáÂÆöÂÖÉÁ¥†(integer) 1127.0.0.1:6379&gt; zrange salary 0 -11) &quot;xiaobai&quot;2) &quot;zhangsan&quot;127.0.0.1:6379&gt; zcard salary # Ëé∑ÂèñÊúâÂ∫èÈõÜÂêà‰∏≠ÁöÑ‰∏™Êï∞(integer) 2##########################################################################127.0.0.1:6379&gt; zadd myset 1 hello(integer) 1127.0.0.1:6379&gt; zadd myset 2 world 3 xiaobai(integer) 2127.0.0.1:6379&gt; zcount myset 1 3 # Ëé∑ÂèñÊåáÂÆöÂå∫Èó¥ÁöÑÊàêÂëòÊï∞ÈáèÔºÅ(integer) 3127.0.0.1:6379&gt; zcount myset 1 2(integer) 2Ê°à‰æãÊÄùË∑ØÔºöset ÊéíÂ∫è Â≠òÂÇ®Áè≠Á∫ßÊàêÁª©Ë°®ÔºåÂ∑•ËµÑË°®ÊéíÂ∫èÔºÅÊôÆÈÄöÊ∂àÊÅØÔºå1Ôºå ÈáçË¶ÅÊ∂àÊÅØ 2ÔºåÂ∏¶ÊùÉÈáçËøõË°åÂà§Êñ≠ÔºÅÊéíË°åÊ¶úÂ∫îÁî®ÂÆûÁé∞ÔºåÂèñTop N ÊµãËØïÔºÅ Geospatial ÔºàÂú∞ÁêÜ‰ΩçÁΩÆÔºâ ÊúãÂèãÁöÑÂÆö‰ΩçÔºåÈôÑËøëÁöÑ‰∫∫ÔºåÊâìËΩ¶Ë∑ùÁ¶ªËÆ°ÁÆóÔºü Redis ÁöÑ Geo Âú®Redis3.2 ÁâàÊú¨Â∞±Êé®Âá∫‰∫ÜÔºÅ Ëøô‰∏™ÂäüËÉΩÂèØ‰ª•Êé®ÁÆóÂú∞ÁêÜ‰ΩçÁΩÆÁöÑ‰ø°ÊÅØÔºå‰∏§Âú∞‰πãÈó¥ÁöÑË∑ùÁ¶ªÔºåÊñπÂúÜÂá†ÈáåÁöÑ‰∫∫ÔºÅ ÂèØ‰ª•Êü•ËØ¢‰∏Ä‰∫õÊµãËØïÊï∞ÊçÆÔºöhttp://www.jsons.cn/lngcodeinfo/0706D99C19A781A3/ Âè™Êúâ ÂÖ≠‰∏™ÂëΩ‰ª§Ôºö ÂÆòÊñπÊñáÊ°£Ôºöhttps://www.redis.net.cn/order/3685.html getadd getpos Ëé∑ÂæóÂΩìÂâçÂÆö‰ΩçÔºö‰∏ÄÂÆöÊòØ‰∏Ä‰∏™ÂùêÊ†áÂÄºÔºÅ GEODIST GeohashÂ≠óÁ¨¶‰∏≤Â±ûÊÄß ËØ•ÂëΩ‰ª§Â∞ÜËøîÂõû11‰∏™Â≠óÁ¨¶ÁöÑGeohashÂ≠óÁ¨¶‰∏≤ÔºåÊâÄ‰ª•Ê≤°ÊúâÁ≤æÂ∫¶GeohashÔºåÊçüÂ§±Áõ∏ÊØîÔºå‰ΩøÁî®ÂÜÖÈÉ®52‰ΩçË°®Á§∫„ÄÇËøîÂõûÁöÑgeohashesÂÖ∑Êúâ‰ª•‰∏ãÁâπÊÄßÔºö ‰ªñ‰ª¨ÂèØ‰ª•Áº©Áü≠‰ªéÂè≥ËæπÁöÑÂ≠óÁ¨¶„ÄÇÂÆÉÂ∞ÜÂ§±ÂéªÁ≤æÂ∫¶Ôºå‰ΩÜ‰ªçÂ∞ÜÊåáÂêëÂêå‰∏ÄÂú∞Âå∫„ÄÇ ÂÆÉÂèØ‰ª•Âú® geohash.org ÁΩëÁ´ô‰ΩøÁî®ÔºåÁΩëÂùÄ http://geohash.org/&lt;geohash-string&gt;„ÄÇÊü•ËØ¢‰æãÂ≠êÔºöhttp://geohash.org/sqdtr74hyu0. ‰∏éÁ±ª‰ººÁöÑÂâçÁºÄÂ≠óÁ¨¶‰∏≤ÊòØÈôÑËøëÔºå‰ΩÜÁõ∏ÂèçÁöÑÊòØ‰∏çÊ≠£Á°ÆÁöÑÔºåËøôÊòØÂèØËÉΩÁöÑÔºåÁî®‰∏çÂêåÁöÑÂâçÁºÄÂ≠óÁ¨¶‰∏≤ÈôÑËøë„ÄÇ 123456GEOHASH ËøîÂõû‰∏Ä‰∏™ÊàñÂ§ö‰∏™ geohash GEOPOS ËøîÂõû‰∏Ä‰∏™ÊàñÂ§ö‰∏™ÂùêÊ†áÊï∞ÁªÑÔºå‰∏çÂ≠òÂú®‰∏∫Á©∫GEODIST ËøîÂõûÊâÄÊü•‰∏§‰∏™ÁÇπÁöÑË∑ùÁ¶ªÔºåÂèØÊåáÂÆöÂçï‰ΩçGEORADIUS Ê†πÊçÆÊâÄÁªôÁÇπÔºàÈùûÂ≠òÂú®Êï∞ÊçÆÔºâ‰ª•ÂèäË¶ÅÊ±ÇËåÉÂõ¥ÂíåËøîÂõûÊï∞ÊçÆÔºåËøîÂõûÂØπÂ∫îËåÉÂõ¥ÂÜÖÁõ∏ÂÖ≥ÁÇπ‰ø°ÊÅØGEOADD Ê∑ªÂä†‰∏Ä‰∏™ËøáÂ§ö‰∏™ÁÇπ‰ø°ÊÅØÔºàÁªèÁ∫¨Â∫¶ÂíåÔºåÂêçÁß∞ÔºâGEORADIUSBYMEMBER Ê†πÊçÆÂ∑≤ÊúâÁÇπ‰ª•ÂèäÊâÄÁªôËåÉÂõ¥Êü•ËØ¢ËåÉÂõ¥ÂÜÖÊâÄÊúâ‰ΩçÁΩÆÂÖÉÁ¥† 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879# getadd Ê∑ªÂä†Âú∞ÁêÜ‰ΩçÁΩÆ# ËßÑÂàôÔºö‰∏§Á∫ßÊó†Ê≥ïÁõ¥Êé•Ê∑ªÂä†ÔºåÊàë‰ª¨‰∏ÄËà¨‰ºö‰∏ãËΩΩÂüéÂ∏ÇÊï∞ÊçÆÔºåÁõ¥Êé•ÈÄöËøájavaÁ®ãÂ∫è‰∏ÄÊ¨°ÊÄßÂØºÂÖ•ÔºÅ# ÊúâÊïàÁöÑÁªèÂ∫¶‰ªé-180Â∫¶Âà∞180Â∫¶„ÄÇ# ÊúâÊïàÁöÑÁ∫¨Â∫¶‰ªé-85.05112878Â∫¶Âà∞85.05112878Â∫¶„ÄÇ# ÂΩìÂùêÊ†á‰ΩçÁΩÆË∂ÖÂá∫‰∏äËø∞ÊåáÂÆöËåÉÂõ¥Êó∂ÔºåËØ•ÂëΩ‰ª§Â∞Ü‰ºöËøîÂõû‰∏Ä‰∏™ÈîôËØØ„ÄÇ# 127.0.0.1:6379&gt; geoadd china:city 39.90 116.40 beijing(error) ERR invalid longitude,latitude pair 39.900000,116.400000# ÂèÇÊï∞ key ÂÄºÔºàÔºâ127.0.0.1:6379&gt; geoadd china:city 116.40 39.90 beijing(integer) 1127.0.0.1:6379&gt; geoadd china:city 121.47 31.23 shanghai(integer) 1127.0.0.1:6379&gt; geoadd china:city 106.50 29.53 chongqi 114.05 22.52 shengzhen(integer) 2127.0.0.1:6379&gt; geoadd china:city 120.16 30.24 hangzhou 108.96 34.26 xian(integer) 2127.0.0.1:6379&gt; GEOPOS china:city beijing # Ëé∑ÂèñÊåáÂÆöÁöÑÂüéÂ∏ÇÁöÑÁªèÂ∫¶ÂíåÁ∫¨Â∫¶ÔºÅ1) 1) &quot;116.39999896287918091&quot;2) &quot;39.90000009167092543&quot;127.0.0.1:6379&gt; GEOPOS china:city beijing chongqi1) 1) &quot;116.39999896287918091&quot;2) &quot;39.90000009167092543&quot;2) 1) &quot;106.49999767541885376&quot;2) &quot;29.52999957900659211&quot;#‰∏§‰∫∫‰πãÈó¥ÁöÑË∑ùÁ¶ªÔºÅ#Âçï‰ΩçÔºö#m Ë°®Á§∫Âçï‰Ωç‰∏∫Á±≥„ÄÇ#km Ë°®Á§∫Âçï‰Ωç‰∏∫ÂçÉÁ±≥„ÄÇ#mi Ë°®Á§∫Âçï‰Ωç‰∏∫Ëã±Èáå„ÄÇ#ft Ë°®Á§∫Âçï‰Ωç‰∏∫Ëã±Â∞∫„ÄÇ#georadius ‰ª•ÁªôÂÆöÁöÑÁªèÁ∫¨Â∫¶‰∏∫‰∏≠ÂøÉÔºå ÊâæÂá∫Êüê‰∏ÄÂçäÂæÑÂÜÖÁöÑÂÖÉÁ¥†#ÊàëÈôÑËøëÁöÑ‰∫∫Ôºü ÔºàËé∑ÂæóÊâÄÊúâÈôÑËøëÁöÑ‰∫∫ÁöÑÂú∞ÂùÄÔºåÂÆö‰ΩçÔºÅÔºâÈÄöËøáÂçäÂæÑÊù•Êü•ËØ¢ÔºÅ#Ëé∑ÂæóÊåáÂÆöÊï∞ÈáèÁöÑ‰∫∫Ôºå200#ÊâÄÊúâÊï∞ÊçÆÂ∫îËØ•ÈÉΩÂΩïÂÖ•Ôºöchina:city ÔºåÊâç‰ºöËÆ©ÁªìÊûúÊõ¥Âä†ËØ∑Ê±ÇÔºÅ127.0.0.1:6379&gt; GEODIST china:city beijing shanghai km # Êü•Áúã‰∏äÊµ∑Âà∞Âåó‰∫¨ÁöÑÁõ¥Á∫øË∑ùÁ¶ª&quot;1067.3788&quot;127.0.0.1:6379&gt; GEODIST china:city beijing chongqi km # Êü•ÁúãÈáçÂ∫ÜÂà∞Âåó‰∫¨ÁöÑÁõ¥Á∫øË∑ùÁ¶ª&quot;1464.0708&quot;127.0.0.1:6379&gt; GEORADIUS china:city 110 30 1000 km # ‰ª•110Ôºå30 Ëøô‰∏™ÁªèÁ∫¨Â∫¶‰∏∫‰∏≠ÂøÉÔºåÂØª#ÊâæÊñπÂúÜ1000kmÂÜÖÁöÑÂüéÂ∏Ç1) &quot;chongqi&quot;2) &quot;xian&quot;3) &quot;shengzhen&quot;4) &quot;hangzhou&quot;127.0.0.1:6379&gt; GEORADIUS china:city 110 30 500 km1) &quot;chongqi&quot;2) &quot;xian&quot;127.0.0.1:6379&gt; GEORADIUS china:city 110 30 500 km withdist # ÊòæÁ§∫Âà∞‰∏≠Èó¥Ë∑ùÁ¶ªÁöÑ‰ΩçÁΩÆ1) 1) &quot;chongqi&quot;2) &quot;341.9374&quot;2) 1) &quot;xian&quot;2) &quot;483.8340&quot;127.0.0.1:6379&gt; GEORADIUS china:city 110 30 500 km withcoord # ÊòæÁ§∫‰ªñ‰∫∫ÁöÑÂÆö‰Ωç‰ø°ÊÅØ1) 1) &quot;chongqi&quot;2) 1) &quot;106.49999767541885376&quot;2) &quot;29.52999957900659211&quot;2) 1) &quot;xian&quot;2) 1) &quot;108.96000176668167114&quot;2) &quot;34.25999964418929977&quot;127.0.0.1:6379&gt; GEORADIUS china:city 110 30 500 km withdist withcoord count 1 ##Á≠õÈÄâÂá∫ÊåáÂÆöÁöÑÁªìÊûúÔºÅ1) 1) &quot;chongqi&quot;2) &quot;341.9374&quot;3) 1) &quot;106.49999767541885376&quot;2) &quot;29.52999957900659211&quot;127.0.0.1:6379&gt; GEORADIUS china:city 110 30 500 km withdist withcoord count 21) 1) &quot;chongqi&quot;2) &quot;341.9374&quot;3) 1) &quot;106.49999767541885376&quot;2) &quot;29.52999957900659211&quot;2) 1) &quot;xian&quot;2) &quot;483.8340&quot;3) 1) &quot;108.96000176668167114&quot;2) &quot;34.25999964418929977&quot;#GEORADIUSBYMEMBER#GEOHASH ÂëΩ‰ª§ - ËøîÂõû‰∏Ä‰∏™ÊàñÂ§ö‰∏™‰ΩçÁΩÆÂÖÉÁ¥†ÁöÑ Geohash Ë°®Á§∫#ËØ•ÂëΩ‰ª§Â∞ÜËøîÂõû11‰∏™Â≠óÁ¨¶ÁöÑGeohashÂ≠óÁ¨¶‰∏≤!#GEO Â∫ïÂ±ÇÁöÑÂÆûÁé∞ÂéüÁêÜÂÖ∂ÂÆûÂ∞±ÊòØ ZsetÔºÅÊàë‰ª¨ÂèØ‰ª•‰ΩøÁî®ZsetÂëΩ‰ª§Êù•Êìç‰ΩúgeoÔºÅ HyperloglogÔºàÂü∫Êï∞ÁªüËÆ°Ôºâ ‰ªÄ‰πàÊòØÂü∫Êï∞Ôºü A B Âü∫Êï∞Ôºà‰∏çÈáçÂ§çÁöÑÂÖÉÁ¥†Ôºâ = 5ÔºåÂèØ‰ª•Êé•ÂèóËØØÂ∑ÆÔºÅ ÁÆÄ‰ªã Redis 2.8.9 ÁâàÊú¨Â∞±Êõ¥Êñ∞‰∫Ü Hyperloglog Êï∞ÊçÆÁªìÊûÑÔºÅ Redis Hyperloglog Âü∫Êï∞ÁªüËÆ°ÁöÑÁÆóÊ≥ïÔºÅ ‰ºòÁÇπÔºöÂç†Áî®ÁöÑÂÜÖÂ≠òÊòØÂõ∫ÂÆöÔºå2^64 ‰∏çÂêåÁöÑÂÖÉÁ¥†ÁöÑÊäÄÊúØÔºåÂè™ÈúÄË¶ÅÂ∫ü 12KBÂÜÖÂ≠òÔºÅÂ¶ÇÊûúË¶Å‰ªéÂÜÖÂ≠òËßíÂ∫¶Êù•ÊØîËæÉÁöÑËØù Hyperloglog È¶ñÈÄâÔºÅ ÁΩëÈ°µÁöÑ UV Ôºà‰∏Ä‰∏™‰∫∫ËÆøÈóÆ‰∏Ä‰∏™ÁΩëÁ´ôÂ§öÊ¨°Ôºå‰ΩÜÊòØËøòÊòØÁÆó‰Ωú‰∏Ä‰∏™‰∫∫ÔºÅÔºâ ‰º†ÁªüÁöÑÊñπÂºèÔºå set ‰øùÂ≠òÁî®Êà∑ÁöÑidÔºåÁÑ∂ÂêéÂ∞±ÂèØ‰ª•ÁªüËÆ° set ‰∏≠ÁöÑÂÖÉÁ¥†Êï∞Èáè‰Ωú‰∏∫Ê†áÂáÜÂà§Êñ≠ ! Ëøô‰∏™ÊñπÂºèÂ¶ÇÊûú‰øùÂ≠òÂ§ßÈáèÁöÑÁî®Êà∑idÔºåÂ∞±‰ºöÊØîËæÉÈ∫ªÁÉ¶ÔºÅÊàë‰ª¨ÁöÑÁõÆÁöÑÊòØ‰∏∫‰∫ÜËÆ°Êï∞ÔºåËÄå‰∏çÊòØ‰øùÂ≠òÁî®Êà∑idÔºõ 0.81% ÈîôËØØÁéáÔºÅ ÁªüËÆ°UV‰ªªÂä°ÔºåÂèØ‰ª•ÂøΩÁï•‰∏çËÆ°ÁöÑÔºÅ ÊµãËØï‰ΩøÁî® 1234567891011121314127.0.0.1:6379&gt; PFadd mykey a b c d e f g h i j # ÂàõÂª∫Á¨¨‰∏ÄÁªÑÂÖÉÁ¥† mykey(integer) 1127.0.0.1:6379&gt; PFCOUNT mykey # ÁªüËÆ° mykey ÂÖÉÁ¥†ÁöÑÂü∫Êï∞Êï∞Èáè(integer) 10127.0.0.1:6379&gt; PFadd mykey2 i j z x c v b n m # ÂàõÂª∫Á¨¨‰∫åÁªÑÂÖÉÁ¥† mykey2(integer) 1127.0.0.1:6379&gt; PFCOUNT mykey2(integer) 9127.0.0.1:6379&gt; PFMERGE mykey3 mykey mykey2 # ÂêàÂπ∂‰∏§ÁªÑ mykey mykey2 =&gt; mykey3 Âπ∂ÈõÜOK127.0.0.1:6379&gt; PFCOUNT mykey3 # ÁúãÂπ∂ÈõÜÁöÑÊï∞ÈáèÔºÅ(integer) 15Â¶ÇÊûúÂÖÅËÆ∏ÂÆπÈîôÔºåÈÇ£‰πà‰∏ÄÂÆöÂèØ‰ª•‰ΩøÁî® Hyperloglog ÔºÅÂ¶ÇÊûú‰∏çÂÖÅËÆ∏ÂÆπÈîôÔºåÂ∞±‰ΩøÁî® set ÊàñËÄÖËá™Â∑±ÁöÑÊï∞ÊçÆÁ±ªÂûãÂç≥ÂèØÔºÅ BitmapÔºà‰ΩçÂõæÔºâ ‰ΩçÂ≠òÂÇ® ÁªüËÆ°Áî®Êà∑‰ø°ÊÅØÔºåÊ¥ªË∑ÉÔºå‰∏çÊ¥ªË∑ÉÔºÅ ÁôªÂΩï „ÄÅ Êú™ÁôªÂΩïÔºÅ ÊâìÂç°Ôºå365ÊâìÂç°ÔºÅ ‰∏§‰∏™Áä∂ÊÄÅÁöÑÔºåÈÉΩÂèØ‰ª•‰ΩøÁî® BitmapsÔºÅ Bitmap ‰ΩçÂõæÔºåÊï∞ÊçÆÁªìÊûÑÔºÅ ÈÉΩÊòØÊìç‰Ωú‰∫åËøõÂà∂‰ΩçÊù•ËøõË°åËÆ∞ÂΩïÔºåÂ∞±Âè™Êúâ0 Âíå 1 ‰∏§‰∏™Áä∂ÊÄÅÔºÅ 365 Â§© = 365 bit 1Â≠óËäÇ = 8bit 46 ‰∏™Â≠óËäÇÂ∑¶Âè≥ÔºÅ 123456789101112#Â≠òsetbit key offset value#Âèñgetbit key#andÔºåorÔºåxor, notÊìç‰Ωúbitop operation„Äêand, or, xor, not„Äë destkey key [key]#ÁªüËÆ°1‰∏™Êï∞bitcount key [start end] #ËøîÂõûÁ¨¨‰∏Ä‰∏™0Êàñ1ÁöÑ‰ΩçÁΩÆbitpos key bit [start end]#ÂØπ‰∫åËøõÂà∂‰ΩçÂÆΩÊìç‰Ωúbitfield Redis ÂëΩ‰ª§ Redis ÂëΩ‰ª§ ËØ≠Ê≥ï Redis ÂÆ¢Êà∑Á´ØÁöÑÂü∫Êú¨ËØ≠Ê≥ï‰∏∫Ôºö $ redis-cli ‰ª•‰∏ãÂÆû‰æãËÆ≤Ëß£‰∫ÜÂ¶Ç‰ΩïÂêØÂä® redis ÂÆ¢Êà∑Á´ØÔºö ÂêØÂä® redis ÊúçÂä°Âô®ÔºåÊâìÂºÄÁªàÁ´ØÂπ∂ËæìÂÖ•ÂëΩ‰ª§ redis-cliÔºåËØ•ÂëΩ‰ª§‰ºöËøûÊé•Êú¨Âú∞ÁöÑ redis ÊúçÂä°„ÄÇ $ redis-cli redis 127.0.0.1:6379&gt; redis 127.0.0.1:6379&gt; PING PONG Âú®‰ª•‰∏äÂÆû‰æã‰∏≠Êàë‰ª¨ËøûÊé•Âà∞Êú¨Âú∞ÁöÑ redis ÊúçÂä°Âπ∂ÊâßË°å PING ÂëΩ‰ª§ÔºåËØ•ÂëΩ‰ª§Áî®‰∫éÊ£ÄÊµã redis ÊúçÂä°ÊòØÂê¶ÂêØÂä®„ÄÇ Âú®ËøúÁ®ãÊúçÂä°‰∏äÊâßË°åÂëΩ‰ª§ $ redis-cli -h host -p port -a password Redis keys ÂëΩ‰ª§Â§ßÂÖ® https://redis.io/commands Redis Psubscribe ÂëΩ‰ª§_ËÆ¢ÈòÖ‰∏Ä‰∏™ÊàñÂ§ö‰∏™Á¨¶ÂêàÁªôÂÆöÊ®°ÂºèÁöÑÈ¢ëÈÅì„ÄÇ Redis HyperLogLog Redis Âú® 2.8.9 ÁâàÊú¨Ê∑ªÂä†‰∫Ü HyperLogLog ÁªìÊûÑ„ÄÇ Redis HyperLogLog ÊòØÁî®Êù•ÂÅöÂü∫Êï∞ÁªüËÆ°ÁöÑÁÆóÊ≥ïÔºåHyperLogLog ÁöÑ‰ºòÁÇπÊòØÔºåÂú®ËæìÂÖ•ÂÖÉÁ¥†ÁöÑÊï∞ÈáèÊàñËÄÖ‰ΩìÁßØÈùûÂ∏∏ÈùûÂ∏∏Â§ßÊó∂ÔºåËÆ°ÁÆóÂü∫Êï∞ÊâÄÈúÄÁöÑÁ©∫Èó¥ÊÄªÊòØÂõ∫ÂÆö ÁöÑ„ÄÅÂπ∂‰∏îÊòØÂæàÂ∞èÁöÑ„ÄÇ Âú® Redis ÈáåÈù¢ÔºåÊØè‰∏™ HyperLogLog ÈîÆÂè™ÈúÄË¶ÅËä±Ë¥π 12 KB ÂÜÖÂ≠òÔºåÂ∞±ÂèØ‰ª•ËÆ°ÁÆóÊé•Ëøë 2^64 ‰∏™‰∏çÂêåÂÖÉÁ¥†ÁöÑÂü∫ Êï∞„ÄÇËøôÂíåËÆ°ÁÆóÂü∫Êï∞Êó∂ÔºåÂÖÉÁ¥†Ë∂äÂ§öËÄóË¥πÂÜÖÂ≠òÂ∞±Ë∂äÂ§öÁöÑÈõÜÂêàÂΩ¢ÊàêÈ≤úÊòéÂØπÊØî„ÄÇ ‰ΩÜÊòØÔºåÂõ†‰∏∫ HyperLogLog Âè™‰ºöÊ†πÊçÆËæìÂÖ•ÂÖÉÁ¥†Êù•ËÆ°ÁÆóÂü∫Êï∞ÔºåËÄå‰∏ç‰ºöÂÇ®Â≠òËæìÂÖ•ÂÖÉÁ¥†Êú¨Ë∫´ÔºåÊâÄ‰ª• HyperLogLog ‰∏çËÉΩÂÉèÈõÜÂêàÈÇ£Ê†∑ÔºåËøîÂõûËæìÂÖ•ÁöÑÂêÑ‰∏™ÂÖÉÁ¥†„ÄÇ ‰ªÄ‰πàÊòØÂü∫Êï∞? ÊØîÂ¶ÇÊï∞ÊçÆÈõÜ {1, 3, 5, 7, 5, 7, 8}Ôºå ÈÇ£‰πàËøô‰∏™Êï∞ÊçÆÈõÜÁöÑÂü∫Êï∞ÈõÜ‰∏∫ {1, 3, 5 ,7, 8}, Âü∫Êï∞(‰∏çÈáçÂ§çÂÖÉÁ¥†)‰∏∫5„ÄÇ Âü∫Êï∞‰º∞ËÆ°Â∞±ÊòØÂú®ËØØÂ∑ÆÂèØÊé•ÂèóÁöÑËåÉÂõ¥ÂÜÖÔºåÂø´ÈÄüËÆ°ÁÆóÂü∫Êï∞„ÄÇ PFADD runoobkey &quot;redis&quot; PFCOUNT runoobkey Redis ÂèëÂ∏ÉËÆ¢ÈòÖ 123456Unsubscribe ÂèñÊ∂àËÆ¢ÈòÖ‰∏Ä‰∏™ÊàñÂ§ö‰∏™Subscribe ËÆ¢ÈòÖ‰∏Ä‰∏™ÊàñÂ§ö‰∏™Pubsub Êü•ÁúãËÆ¢ÈòÖ‰∏éÂèëÂ∏ÉÁä∂ÊÄÅPunsubscribe ÈÄÄËÆ¢ÊâÄÊúâÁªôÂÆöÁöÑÈ¢ëÈÅìPublish ÂèëÈÄÅÁõ∏ÂÖ≥‰ø°ÊÅØÂà∞ÊâÄÁªôÁöÑÈ¢ëÈÅìPsubscribe ËÆ¢ÈòÖ‰∏Ä‰∏™ÊàñÂ§ö‰∏™ ÂèØÁî®ÂåπÈÖçÁ¨¶ * Redis ÂèëÂ∏ÉËÆ¢ÈòÖ (pub/sub) ÊòØ‰∏ÄÁßçÊ∂àÊÅØÈÄö‰ø°Ê®°ÂºèÔºöÂèëÈÄÅËÄÖ (pub) ÂèëÈÄÅÊ∂àÊÅØÔºåËÆ¢ÈòÖËÄÖ (sub) Êé•Êî∂Ê∂àÊÅØ„ÄÇ Redis ÂÆ¢Êà∑Á´ØÂèØ‰ª•ËÆ¢ÈòÖ‰ªªÊÑèÊï∞ÈáèÁöÑÈ¢ëÈÅì„ÄÇ ËÆ¢ÈòÖ/ÂèëÂ∏ÉÊ∂àÊÅØÂõæÔºö Á¨¨‰∏Ä‰∏™ÔºöÊ∂àÊÅØÂèëÈÄÅËÄÖÔºå Á¨¨‰∫å‰∏™ÔºöÈ¢ëÈÅì Á¨¨‰∏â‰∏™ÔºöÊ∂àÊÅØËÆ¢ÈòÖËÄÖÔºÅ ‰∏ãÂõæÂ±ïÁ§∫‰∫ÜÈ¢ëÈÅì channel1 Ôºå ‰ª•ÂèäËÆ¢ÈòÖËøô‰∏™È¢ëÈÅìÁöÑ‰∏â‰∏™ÂÆ¢Êà∑Á´Ø ‚Äî‚Äî client2 „ÄÅ client5 Âíå client1 ‰πãÈó¥ÁöÑ ÂÖ≥Á≥ªÔºö ÂΩìÊúâÊñ∞Ê∂àÊÅØÈÄöËøá PUBLISH ÂëΩ‰ª§ÂèëÈÄÅÁªôÈ¢ëÈÅì channel1 Êó∂Ôºå Ëøô‰∏™Ê∂àÊÅØÂ∞±‰ºöË¢´ÂèëÈÄÅÁªôËÆ¢ÈòÖÂÆÉÁöÑ‰∏â‰∏™ÂÆ¢Êà∑ Á´ØÔºö ÂëΩ‰ª§ Ëøô‰∫õÂëΩ‰ª§Ë¢´ÂπøÊ≥õÁî®‰∫éÊûÑÂª∫Âç≥Êó∂ÈÄö‰ø°Â∫îÁî®ÔºåÊØîÂ¶ÇÁΩëÁªúËÅäÂ§©ÂÆ§(chatroom)ÂíåÂÆûÊó∂ÂπøÊí≠„ÄÅÂÆûÊó∂ÊèêÈÜíÁ≠â ÊµãËØï 123456789101112131415161718192021ËÆ¢ÈòÖÁ´ØÔºö127.0.0.1:6379&gt; SUBSCRIBE xiaobaishuo # ËÆ¢ÈòÖ‰∏Ä‰∏™È¢ëÈÅì xiaobaishuoReading messages... (press Ctrl-C to quit)1) &quot;subscribe&quot;2) &quot;xiaobaishuo&quot;3) (integer) 1# Á≠âÂæÖËØªÂèñÊé®ÈÄÅÁöÑ‰ø°ÊÅØ1) &quot;message&quot; # Ê∂àÊÅØ2) &quot;xiaobaishuo&quot; # ÈÇ£‰∏™È¢ëÈÅìÁöÑÊ∂àÊÅØ3) &quot;hello,xiaobai&quot; # Ê∂àÊÅØÁöÑÂÖ∑‰ΩìÂÜÖÂÆπ1) &quot;message&quot;2) &quot;xiaobaishuo&quot;3) &quot;hello,redis&quot;ÂèëÈÄÅÁ´ØÔºö127.0.0.1:6379&gt; PUBLISH xiaobaishuo &quot;hello,xiaobai&quot; # ÂèëÂ∏ÉËÄÖÂèëÂ∏ÉÊ∂àÊÅØÂà∞È¢ëÈÅìÔºÅ(integer) 1127.0.0.1:6379&gt; PUBLISH xiaobaishuo &quot;hello,redis&quot; # ÂèëÂ∏ÉËÄÖÂèëÂ∏ÉÊ∂àÊÅØÂà∞È¢ëÈÅìÔºÅ(integer) 1127.0.0.1:6379&gt; ÂéüÁêÜ RedisÊòØ‰ΩøÁî®CÂÆûÁé∞ÁöÑÔºåÈÄöËøáÂàÜÊûê Redis Ê∫êÁ†ÅÈáåÁöÑ pubsub.c Êñá‰ª∂Ôºå‰∫ÜËß£ÂèëÂ∏ÉÂíåËÆ¢ÈòÖÊú∫Âà∂ÁöÑÂ∫ïÂ±ÇÂÆûÁé∞ÔºåÂÄüÊ≠§Âä†Ê∑±ÂØπ Redis ÁöÑÁêÜËß£„ÄÇ Redis ÈÄöËøá PUBLISH „ÄÅSUBSCRIBE Âíå PSUBSCRIBE Á≠âÂëΩ‰ª§ÂÆûÁé∞ÂèëÂ∏ÉÂíåËÆ¢ÈòÖÂäüËÉΩ„ÄÇ ÂæÆ‰ø°Ôºö ÈÄöËøá SUBSCRIBE ÂëΩ‰ª§ËÆ¢ÈòÖÊüêÈ¢ëÈÅìÂêéÔºåredis-server ÈáåÁª¥Êä§‰∫Ü‰∏Ä‰∏™Â≠óÂÖ∏ÔºåÂ≠óÂÖ∏ÁöÑÈîÆÂ∞±ÊòØ‰∏Ä‰∏™‰∏™ È¢ëÈÅìÔºÅÔºå ËÄåÂ≠óÂÖ∏ÁöÑÂÄºÂàôÊòØ‰∏Ä‰∏™ÈìæË°®ÔºåÈìæË°®‰∏≠‰øùÂ≠ò‰∫ÜÊâÄÊúâËÆ¢ÈòÖËøô‰∏™ channel ÁöÑÂÆ¢Êà∑Á´Ø„ÄÇSUBSCRIBE ÂëΩ‰ª§ÁöÑÂÖ≥ÈîÆÔºå Â∞±ÊòØÂ∞ÜÂÆ¢Êà∑Á´ØÊ∑ªÂä†Âà∞ÁªôÂÆö channel ÁöÑËÆ¢ÈòÖÈìæË°®‰∏≠„ÄÇ ÈÄöËøá PUBLISH ÂëΩ‰ª§ÂêëËÆ¢ÈòÖËÄÖÂèëÈÄÅÊ∂àÊÅØÔºåredis-server ‰ºö‰ΩøÁî®ÁªôÂÆöÁöÑÈ¢ëÈÅì‰Ωú‰∏∫ÈîÆÔºåÂú®ÂÆÉÊâÄÁª¥Êä§ÁöÑ channel Â≠óÂÖ∏‰∏≠Êü•ÊâæËÆ∞ÂΩï‰∫ÜËÆ¢ÈòÖËøô‰∏™È¢ëÈÅìÁöÑÊâÄÊúâÂÆ¢Êà∑Á´ØÁöÑÈìæË°®ÔºåÈÅçÂéÜËøô‰∏™ÈìæË°®ÔºåÂ∞ÜÊ∂àÊÅØÂèëÂ∏ÉÁªôÊâÄÊúâËÆ¢ÈòÖËÄÖ„ÄÇPub/Sub ‰ªéÂ≠óÈù¢‰∏äÁêÜËß£Â∞±ÊòØÂèëÂ∏ÉÔºàPublishÔºâ‰∏éËÆ¢ÈòÖÔºàSubscribeÔºâÔºåÂú®Redis‰∏≠Ôºå‰Ω†ÂèØ‰ª•ËÆæÂÆöÂØπÊüê‰∏Ä‰∏™ keyÂÄºËøõË°åÊ∂àÊÅØÂèëÂ∏ÉÂèäÊ∂àÊÅØËÆ¢ÈòÖÔºåÂΩì‰∏Ä‰∏™keyÂÄº‰∏äËøõË°å‰∫ÜÊ∂àÊÅØÂèëÂ∏ÉÂêéÔºåÊâÄÊúâËÆ¢ÈòÖÂÆÉÁöÑÂÆ¢Êà∑Á´ØÈÉΩ‰ºöÊî∂Âà∞Áõ∏Â∫î ÁöÑÊ∂àÊÅØ„ÄÇËøô‰∏ÄÂäüËÉΩÊúÄÊòéÊòæÁöÑÁî®Ê≥ïÂ∞±ÊòØÁî®‰ΩúÂÆûÊó∂Ê∂àÊÅØÁ≥ªÁªüÔºåÊØîÂ¶ÇÊôÆÈÄöÁöÑÂç≥Êó∂ËÅäÂ§©ÔºåÁæ§ËÅäÁ≠âÂäüËÉΩ„ÄÇ ‰ΩøÁî®Âú∫ÊôØÔºö 1„ÄÅÂÆûÊó∂Ê∂àÊÅØÁ≥ªÁªüÔºÅ 2„ÄÅ‰∫ãÂÆûËÅäÂ§©ÔºÅÔºàÈ¢ëÈÅìÂΩìÂÅöËÅäÂ§©ÂÆ§ÔºåÂ∞Ü‰ø°ÊÅØÂõûÊòæÁªôÊâÄÊúâ‰∫∫Âç≥ÂèØÔºÅÔºâ 3„ÄÅËÆ¢ÈòÖÔºåÂÖ≥Ê≥®Á≥ªÁªüÈÉΩÊòØÂèØ‰ª•ÁöÑÔºÅ Á®çÂæÆÂ§çÊùÇÁöÑÂú∫ÊôØÊàë‰ª¨Â∞±‰ºö‰ΩøÁî® Ê∂àÊÅØ‰∏≠Èó¥‰ª∂ MQ ÔºàÔºâ SUBSCRIBE runoobChat PUBLISH runoobChat &quot;Redis PUBLISH test&quot; ÈáçÊñ∞ÂºÄÂêØ‰∏™ redis ÂÆ¢Êà∑Á´ØÂú®Âêå‰∏Ä‰∏™È¢ëÈÅì runoobChat ÂèëÂ∏É‰∏§Ê¨°Ê∂àÊÅØÔºåËÆ¢ÈòÖËÄÖÂ∞±ËÉΩÊé•Êî∂Âà∞Ê∂àÊÅØ„ÄÇ Redis ‰∫ãÂä°(‰∏çÂõûÊªöÔºåÊâπÈáèÊâßË°å‰ΩúÁî®) Redis ‰∫ãÂä°ÂèØ‰ª•‰∏ÄÊ¨°ÊâßË°åÂ§ö‰∏™ÂëΩ‰ª§Ôºå Âπ∂‰∏îÂ∏¶Êúâ‰ª•‰∏ã‰∏â‰∏™ÈáçË¶ÅÁöÑ‰øùËØÅÔºö ÊâπÈáèÊìç‰ΩúÂú®ÂèëÈÄÅ EXEC ÂëΩ‰ª§ÂâçË¢´ÊîæÂÖ•ÈòüÂàóÁºìÂ≠ò„ÄÇ Êî∂Âà∞ EXEC ÂëΩ‰ª§ÂêéËøõÂÖ•‰∫ãÂä°ÊâßË°åÔºå‰∫ãÂä°‰∏≠‰ªªÊÑèÂëΩ‰ª§ÊâßË°åÂ§±Ë¥•ÔºåÂÖ∂‰ΩôÁöÑÂëΩ‰ª§‰æùÁÑ∂Ë¢´ÊâßË°å,‰ª£Á†ÅÈîôËØØÔºåÊâÄÊúâÂëΩ‰ª§ÈÉΩ‰∏ç‰ºöÊâßË°å„ÄÇ Âú®‰∫ãÂä°ÊâßË°åËøáÁ®ãÔºåÂÖ∂‰ªñÂÆ¢Êà∑Á´ØÊèê‰∫§ÁöÑÂëΩ‰ª§ËØ∑Ê±Ç‰∏ç‰ºöÊèíÂÖ•Âà∞‰∫ãÂä°ÊâßË°åÂëΩ‰ª§Â∫èÂàó‰∏≠„ÄÇ DISCARDÊîæÂºÉ‰∫ãÁâ©ÔºåÊâÄÊúâ‰∏çÊâßË°å‰∏Ä‰∏™‰∫ãÂä°‰ªéÂºÄÂßãÂà∞ÊâßË°å‰ºöÁªèÂéÜ‰ª•‰∏ã‰∏â‰∏™Èò∂ÊÆµÔºö ÂºÄÂßã‰∫ãÂä°„ÄÇ ÂëΩ‰ª§ÂÖ•Èòü„ÄÇ ÊâßË°å‰∫ãÂä°„ÄÇ MULTI ÂºÄÂßã‰∏Ä‰∏™‰∫ãÂä° Â∞ÜÂ§ö‰∏™ÂëΩ‰ª§ÂÖ•ÈòüÂà∞‰∫ãÂä°‰∏≠ SET book-name &quot;Mastering C++ in 21 days&quot; GET book-name SADD tag &quot;C++&quot; &quot;Programming&quot; &quot;Mastering Series&quot; SMEMBERS tag EXEC/DISCARD Âçï‰∏™ Redis ÂëΩ‰ª§ÁöÑÊâßË°åÊòØÂéüÂ≠êÊÄßÁöÑÔºå‰ΩÜ Redis Ê≤°ÊúâÂú®‰∫ãÂä°‰∏äÂ¢ûÂä†‰ªª‰ΩïÁª¥ÊåÅÂéüÂ≠êÊÄßÁöÑÊú∫Âà∂ÔºåÊâÄ‰ª• Redis ‰∫ãÂä°ÁöÑÊâßË°åÂπ∂‰∏çÊòØÂéüÂ≠êÊÄßÁöÑ„ÄÇ ‰∫ãÂä°ÂèØ‰ª•ÁêÜËß£‰∏∫‰∏Ä‰∏™ÊâìÂåÖÁöÑÊâπÈáèÊâßË°åËÑöÊú¨Ôºå‰ΩÜÊâπÈáèÊåá‰ª§Âπ∂ÈùûÂéüÂ≠êÂåñÁöÑÊìç‰ΩúÔºå‰∏≠Èó¥ÊüêÊù°Êåá‰ª§ÁöÑÂ§±Ë¥•‰∏ç‰ºöÂØºËá¥ÂâçÈù¢Â∑≤ÂÅöÊåá‰ª§ÁöÑÂõûÊªöÔºå‰πü‰∏ç‰ºöÈÄ†ÊàêÂêéÁª≠ÁöÑÊåá‰ª§‰∏çÂÅö„ÄÇ ÊÇ≤ËßÇÈîÅÔºö ÂæàÊÇ≤ËßÇÔºåËÆ§‰∏∫‰ªÄ‰πàÊó∂ÂÄôÈÉΩ‰ºöÂá∫ÈóÆÈ¢òÔºåÊó†ËÆ∫ÂÅö‰ªÄ‰πàÈÉΩ‰ºöÂä†ÈîÅÔºÅ ‰πêËßÇÈîÅÔºö Âæà‰πêËßÇÔºåËÆ§‰∏∫‰ªÄ‰πàÊó∂ÂÄôÈÉΩ‰∏ç‰ºöÂá∫ÈóÆÈ¢òÔºåÊâÄ‰ª•‰∏ç‰ºö‰∏äÈîÅÔºÅ Êõ¥Êñ∞Êï∞ÊçÆÁöÑÊó∂ÂÄôÂéªÂà§Êñ≠‰∏Ä‰∏ãÔºåÂú®Ê≠§ÊúüÈó¥ÊòØÂê¶Êúâ‰∫∫‰øÆÊîπËøáËøô‰∏™Êï∞ÊçÆÔºå Ëé∑Âèñversion Êõ¥Êñ∞ÁöÑÊó∂ÂÄôÊØîËæÉ version RedisÊµãÁõëËßÜÊµãËØï Ê≠£Â∏∏ÊâßË°åÊàêÂäüÔºÅ ÊµãËØïÂ§öÁ∫øÁ®ã‰øÆÊîπÂÄº , ‰ΩøÁî®watch ÂèØ‰ª•ÂΩìÂÅöredisÁöÑ‰πêËßÇÈîÅÊìç‰ΩúÔºÅ 123456789101112131415127.0.0.1:6379&gt; set money 100OK127.0.0.1:6379&gt; set out 0OK127.0.0.1:6379&gt; watch money # ÁõëËßÜ money ÂØπË±°OK127.0.0.1:6379&gt; multi # ‰∫ãÂä°Ê≠£Â∏∏ÁªìÊùüÔºåÊï∞ÊçÆÊúüÈó¥Ê≤°ÊúâÂèëÁîüÂèòÂä®ÔºåËøô‰∏™Êó∂ÂÄôÂ∞±Ê≠£Â∏∏ÊâßË°åÊàêÂäüÔºÅOK127.0.0.1:6379&gt; DECRBY money 20QUEUED127.0.0.1:6379&gt; INCRBY out 20QUEUED127.0.0.1:6379&gt; exec1) (integer) 802) (integer) 20 ÊµãËØïÂ§öÁ∫øÁ®ã‰øÆÊîπÂÄº , ‰ΩøÁî®watch ÂèØ‰ª•ÂΩìÂÅöredisÁöÑ‰πêËßÇÈîÅÊìç‰ΩúÔºÅ 1234567891011127.0.0.1:6379&gt; watch money # ÁõëËßÜ moneyOK127.0.0.1:6379&gt; multiOK127.0.0.1:6379&gt; DECRBY money 10QUEUED127.0.0.1:6379&gt; INCRBY out 10QUEUED127.0.0.1:6379&gt; exec # ÊâßË°å‰πãÂâçÔºåÂè¶Â§ñ‰∏Ä‰∏™Á∫øÁ®ãÔºå‰øÆÊîπ‰∫ÜÊàë‰ª¨ÁöÑÂÄºÔºåËøô‰∏™Êó∂ÂÄôÔºåÂ∞±‰ºöÂØºËá¥‰∫ãÂä°ÊâßË°åÂ§±Ë¥•ÔºÅ(nil) Redis ËÑöÊú¨ Redis ËÑöÊú¨‰ΩøÁî® Lua Ëß£ÈáäÂô®Êù•ÊâßË°åËÑöÊú¨„ÄÇ Redis 2.6 ÁâàÊú¨ÈÄöËøáÂÜÖÂµåÊîØÊåÅ Lua ÁéØÂ¢É„ÄÇÊâßË°åËÑöÊú¨ÁöÑÂ∏∏Áî®ÂëΩ‰ª§‰∏∫ EVAL„ÄÇ EVAL script numkeys key [key ...] arg [arg ...] EVAL &quot;return {KEYS[1],KEYS[2],ARGV[1],ARGV[2]}&quot; 2 key1 key2 first second Redis ËøûÊé• Redis ËøûÊé•ÂëΩ‰ª§‰∏ªË¶ÅÊòØÁî®‰∫éËøûÊé• redis ÊúçÂä°„ÄÇ ÂÆ¢Êà∑Á´ØÂ¶Ç‰ΩïÈÄöËøáÂØÜÁ†ÅÈ™åËØÅËøûÊé•Âà∞ redis ÊúçÂä°ÔºåÂπ∂Ê£ÄÊµãÊúçÂä°ÊòØÂê¶Âú®ËøêË°åÔºö AUTH &quot;password&quot; PING È™åËØÅÂØÜÁ†ÅÊòØÂê¶Ê≠£Á°Æ 1 AUTH password ÊâìÂç∞Â≠óÁ¨¶‰∏≤ 2 ECHO message Êü•ÁúãÊúçÂä°ÊòØÂê¶ËøêË°å 3 PING ÂÖ≥Èó≠ÂΩìÂâçËøûÊé• 4 QUIT ÂàáÊç¢Âà∞ÊåáÂÆöÁöÑÊï∞ÊçÆÂ∫ì 5 SELECT index RedisÊúçÂä°Âô® RedisÊúçÂä°Âô®ÂëΩ‰ª§‰∏ªË¶ÅÊòØÁî®‰∫éÁÆ°ÁêÜredisÊúçÂä° Redis GEO Redis GEO ‰∏ªË¶ÅÁî®‰∫éÂ≠òÂÇ®Âú∞ÁêÜ‰ΩçÁΩÆ‰ø°ÊÅØÔºåÂπ∂ÂØπÂ≠òÂÇ®ÁöÑ‰ø°ÊÅØËøõË°åÊìç‰ΩúÔºåËØ•ÂäüËÉΩÂú® Redis 3.2 ÁâàÊú¨Êñ∞Â¢û„ÄÇ Redis GEO Êìç‰ΩúÊñπÊ≥ïÊúâÔºö geoaddÔºöÊ∑ªÂä†Âú∞ÁêÜ‰ΩçÁΩÆÁöÑÂùêÊ†á„ÄÇ geoposÔºöËé∑ÂèñÂú∞ÁêÜ‰ΩçÁΩÆÁöÑÂùêÊ†á„ÄÇ geodistÔºöËÆ°ÁÆó‰∏§‰∏™‰ΩçÁΩÆ‰πãÈó¥ÁöÑË∑ùÁ¶ª„ÄÇ georadiusÔºöÊ†πÊçÆÁî®Êà∑ÁªôÂÆöÁöÑÁªèÁ∫¨Â∫¶ÂùêÊ†áÊù•Ëé∑ÂèñÊåáÂÆöËåÉÂõ¥ÂÜÖÁöÑÂú∞ÁêÜ‰ΩçÁΩÆÈõÜÂêà„ÄÇ georadiusbymemberÔºöÊ†πÊçÆÂÇ®Â≠òÂú®‰ΩçÁΩÆÈõÜÂêàÈáåÈù¢ÁöÑÊüê‰∏™Âú∞ÁÇπËé∑ÂèñÊåáÂÆöËåÉÂõ¥ÂÜÖÁöÑÂú∞ÁêÜ‰ΩçÁΩÆÈõÜÂêà„ÄÇ geohashÔºöËøîÂõû‰∏Ä‰∏™ÊàñÂ§ö‰∏™‰ΩçÁΩÆÂØπË±°ÁöÑ geohash ÂÄº„ÄÇ geoadd geoadd Áî®‰∫éÂ≠òÂÇ®ÊåáÂÆöÁöÑÂú∞ÁêÜÁ©∫Èó¥‰ΩçÁΩÆÔºåÂèØ‰ª•Â∞Ü‰∏Ä‰∏™ÊàñÂ§ö‰∏™ÁªèÂ∫¶(longitude)„ÄÅÁ∫¨Â∫¶(latitude)„ÄÅ‰ΩçÁΩÆÂêçÁß∞(member)Ê∑ªÂä†Âà∞ÊåáÂÆöÁöÑ key ‰∏≠„ÄÇ geoadd ËØ≠Ê≥ïÊ†ºÂºèÂ¶Ç‰∏ãÔºö GEOADD key longitude latitude member [longitude latitude member ...] - GEOADD Sicily 13.361389 38.115556 &quot;Palermo&quot; 15.087269 37.502669 &quot;Catania&quot; - GEODIST Sicily Palermo Catania - geodist Áî®‰∫éËøîÂõû‰∏§‰∏™ÁªôÂÆö‰ΩçÁΩÆ‰πãÈó¥ÁöÑË∑ùÁ¶ª„ÄÇ geodist ËØ≠Ê≥ïÊ†ºÂºèÂ¶Ç‰∏ãÔºö GEODIST key member1 member2 [m|km|ft|mi] member1 member2 ‰∏∫‰∏§‰∏™Âú∞ÁêÜ‰ΩçÁΩÆ„ÄÇ ÊúÄÂêé‰∏Ä‰∏™Ë∑ùÁ¶ªÂçï‰ΩçÂèÇÊï∞ËØ¥ÊòéÔºö m ÔºöÁ±≥ÔºåÈªòËÆ§Âçï‰Ωç„ÄÇ km ÔºöÂçÉÁ±≥„ÄÇ mi ÔºöËã±Èáå„ÄÇ ft ÔºöËã±Â∞∫„ÄÇ - GEORADIUS Sicily 15 37 100 km - georadius ‰ª•ÁªôÂÆöÁöÑÁªèÁ∫¨Â∫¶‰∏∫‰∏≠ÂøÉÔºå ËøîÂõûÈîÆÂåÖÂê´ÁöÑ‰ΩçÁΩÆÂÖÉÁ¥†ÂΩì‰∏≠Ôºå ‰∏é‰∏≠ÂøÉÁöÑË∑ùÁ¶ª‰∏çË∂ÖËøáÁªôÂÆöÊúÄÂ§ßË∑ùÁ¶ªÁöÑÊâÄÊúâ‰ΩçÁΩÆÂÖÉÁ¥†„ÄÇ georadiusbymember Âíå GEORADIUS ÂëΩ‰ª§‰∏ÄÊ†∑Ôºå ÈÉΩÂèØ‰ª•ÊâæÂá∫‰Ωç‰∫éÊåáÂÆöËåÉÂõ¥ÂÜÖÁöÑÂÖÉÁ¥†Ôºå ‰ΩÜÊòØ georadiusbymember ÁöÑ‰∏≠ÂøÉÁÇπÊòØÁî±ÁªôÂÆöÁöÑ‰ΩçÁΩÆÂÖÉÁ¥†ÂÜ≥ÂÆöÁöÑÔºå ËÄå‰∏çÊòØ‰ΩøÁî®ÁªèÂ∫¶ÂíåÁ∫¨Â∫¶Êù•ÂÜ≥ÂÆö‰∏≠ÂøÉÁÇπ„ÄÇ georadius ‰∏é georadiusbymember ËØ≠Ê≥ïÊ†ºÂºèÂ¶Ç‰∏ãÔºö GEORADIUS key longitude latitude radius m|km|ft|mi [WITHCOORD] [WITHDIST] [WITHHASH] [COUNT count] [ASC|DESC] [STORE key] [STOREDIST key] GEORADIUSBYMEMBER key member radius m|km|ft|mi [WITHCOORD] [WITHDIST] [WITHHASH] [COUNT count] [ASC|DESC] [STORE key] [STOREDIST key] ÂèÇÊï∞ËØ¥ÊòéÔºö m ÔºöÁ±≥ÔºåÈªòËÆ§Âçï‰Ωç„ÄÇ km ÔºöÂçÉÁ±≥„ÄÇ mi ÔºöËã±Èáå„ÄÇ ft ÔºöËã±Â∞∫„ÄÇ WITHDIST: Âú®ËøîÂõû‰ΩçÁΩÆÂÖÉÁ¥†ÁöÑÂêåÊó∂Ôºå Â∞Ü‰ΩçÁΩÆÂÖÉÁ¥†‰∏é‰∏≠ÂøÉ‰πãÈó¥ÁöÑË∑ùÁ¶ª‰πü‰∏ÄÂπ∂ËøîÂõû„ÄÇ WITHCOORD: Â∞Ü‰ΩçÁΩÆÂÖÉÁ¥†ÁöÑÁªèÂ∫¶ÂíåÁª¥Â∫¶‰πü‰∏ÄÂπ∂ËøîÂõû„ÄÇ WITHHASH: ‰ª• 52 ‰ΩçÊúâÁ¨¶Âè∑Êï¥Êï∞ÁöÑÂΩ¢ÂºèÔºå ËøîÂõû‰ΩçÁΩÆÂÖÉÁ¥†ÁªèËøáÂéüÂßã geohash ÁºñÁ†ÅÁöÑÊúâÂ∫èÈõÜÂêàÂàÜÂÄº„ÄÇ Ëøô‰∏™ÈÄâÈ°π‰∏ªË¶ÅÁî®‰∫éÂ∫ïÂ±ÇÂ∫îÁî®ÊàñËÄÖË∞ÉËØïÔºå ÂÆûÈôÖ‰∏≠ÁöÑ‰ΩúÁî®Âπ∂‰∏çÂ§ß„ÄÇ COUNT ÈôêÂÆöËøîÂõûÁöÑËÆ∞ÂΩïÊï∞„ÄÇ ASC: Êü•ÊâæÁªìÊûúÊ†πÊçÆË∑ùÁ¶ª‰ªéËøëÂà∞ËøúÊéíÂ∫è„ÄÇ DESC: Êü•ÊâæÁªìÊûúÊ†πÊçÆ‰ªéËøúÂà∞ËøëÊéíÂ∫è„ÄÇ - GEOPOS Sicily Palermo Catania NonExisting - geopos Áî®‰∫é‰ªéÁªôÂÆöÁöÑ key ÈáåËøîÂõûÊâÄÊúâÊåáÂÆöÂêçÁß∞(member)ÁöÑ‰ΩçÁΩÆÔºàÁªèÂ∫¶ÂíåÁ∫¨Â∫¶ÔºâÔºå‰∏çÂ≠òÂú®ÁöÑËøîÂõû nil„ÄÇ geopos ËØ≠Ê≥ïÊ†ºÂºèÂ¶Ç‰∏ãÔºö GEOPOS key member [member ...] - GEOHASH Sicily Palermo Catania - geohash Redis GEO ‰ΩøÁî® geohash Êù•‰øùÂ≠òÂú∞ÁêÜ‰ΩçÁΩÆÁöÑÂùêÊ†á„ÄÇ geohash Áî®‰∫éËé∑Âèñ‰∏Ä‰∏™ÊàñÂ§ö‰∏™‰ΩçÁΩÆÂÖÉÁ¥†ÁöÑ geohash ÂÄº„ÄÇ geohash ËØ≠Ê≥ïÊ†ºÂºèÂ¶Ç‰∏ãÔºö GEOHASH key member [member ...] Redis Stream Redis Stream ÊòØ Redis 5.0 ÁâàÊú¨Êñ∞Â¢ûÂä†ÁöÑÊï∞ÊçÆÁªìÊûÑ„ÄÇ Redis Stream ‰∏ªË¶ÅÁî®‰∫éÊ∂àÊÅØÈòüÂàóÔºàMQÔºåMessage QueueÔºâÔºåRedis Êú¨Ë∫´ÊòØÊúâ‰∏Ä‰∏™ Redis ÂèëÂ∏ÉËÆ¢ÈòÖ (pub/sub) Êù•ÂÆûÁé∞Ê∂àÊÅØÈòüÂàóÁöÑÂäüËÉΩÔºå‰ΩÜÂÆÉÊúâ‰∏™Áº∫ÁÇπÂ∞±ÊòØÊ∂àÊÅØÊó†Ê≥ïÊåÅ‰πÖÂåñÔºåÂ¶ÇÊûúÂá∫Áé∞ÁΩëÁªúÊñ≠ÂºÄ„ÄÅRedis ÂÆïÊú∫Á≠âÔºåÊ∂àÊÅØÂ∞±‰ºöË¢´‰∏¢ÂºÉ„ÄÇ ÁÆÄÂçïÊù•ËØ¥ÂèëÂ∏ÉËÆ¢ÈòÖ (pub/sub) ÂèØ‰ª•ÂàÜÂèëÊ∂àÊÅØÔºå‰ΩÜÊó†Ê≥ïËÆ∞ÂΩïÂéÜÂè≤Ê∂àÊÅØ„ÄÇ ËÄå Redis Stream Êèê‰æõ‰∫ÜÊ∂àÊÅØÁöÑÊåÅ‰πÖÂåñÂíå‰∏ªÂ§áÂ§çÂà∂ÂäüËÉΩÔºåÂèØ‰ª•ËÆ©‰ªª‰ΩïÂÆ¢Êà∑Á´ØËÆøÈóÆ‰ªª‰ΩïÊó∂ÂàªÁöÑÊï∞ÊçÆÔºåÂπ∂‰∏îËÉΩËÆ∞‰ΩèÊØè‰∏Ä‰∏™ÂÆ¢Êà∑Á´ØÁöÑËÆøÈóÆ‰ΩçÁΩÆÔºåËøòËÉΩ‰øùËØÅÊ∂àÊÅØ‰∏ç‰∏¢Â§±„ÄÇ Redis Stream ÁöÑÁªìÊûÑÂ¶Ç‰∏ãÊâÄÁ§∫ÔºåÂÆÉÊúâ‰∏Ä‰∏™Ê∂àÊÅØÈìæË°®ÔºåÂ∞ÜÊâÄÊúâÂä†ÂÖ•ÁöÑÊ∂àÊÅØÈÉΩ‰∏≤Ëµ∑Êù•ÔºåÊØè‰∏™Ê∂àÊÅØÈÉΩÊúâ‰∏Ä‰∏™ÂîØ‰∏ÄÁöÑ ID ÂíåÂØπÂ∫îÁöÑÂÜÖÂÆπÔºö ÊØè‰∏™ Stream ÈÉΩÊúâÂîØ‰∏ÄÁöÑÂêçÁß∞ÔºåÂÆÉÂ∞±ÊòØ Redis ÁöÑ keyÔºåÂú®Êàë‰ª¨È¶ñÊ¨°‰ΩøÁî® xadd Êåá‰ª§ËøΩÂä†Ê∂àÊÅØÊó∂Ëá™Âä®ÂàõÂª∫„ÄÇ ‰∏äÂõæËß£ÊûêÔºö Consumer Group ÔºöÊ∂àË¥πÁªÑÔºå‰ΩøÁî® XGROUP CREATE ÂëΩ‰ª§ÂàõÂª∫Ôºå‰∏Ä‰∏™Ê∂àË¥πÁªÑÊúâÂ§ö‰∏™Ê∂àË¥πËÄÖ(Consumer)„ÄÇ last_delivered_id ÔºöÊ∏∏Ê†áÔºåÊØè‰∏™Ê∂àË¥πÁªÑ‰ºöÊúâ‰∏™Ê∏∏Ê†á last_delivered_idÔºå‰ªªÊÑè‰∏Ä‰∏™Ê∂àË¥πËÄÖËØªÂèñ‰∫ÜÊ∂àÊÅØÈÉΩ‰ºö‰ΩøÊ∏∏Ê†á last_delivered_id ÂæÄÂâçÁßªÂä®„ÄÇ pending_ids ÔºöÊ∂àË¥πËÄÖ(Consumer)ÁöÑÁä∂ÊÄÅÂèòÈáèÔºå‰ΩúÁî®ÊòØÁª¥Êä§Ê∂àË¥πËÄÖÁöÑÊú™Á°ÆËÆ§ÁöÑ id„ÄÇ pending_ids ËÆ∞ÂΩï‰∫ÜÂΩìÂâçÂ∑≤ÁªèË¢´ÂÆ¢Êà∑Á´ØËØªÂèñÁöÑÊ∂àÊÅØÔºå‰ΩÜÊòØËøòÊ≤°Êúâ ack (Acknowledge characterÔºöÁ°ÆËÆ§Â≠óÁ¨¶Ôºâ„ÄÇ Ê∂àÊÅØÈòüÂàóÁõ∏ÂÖ≥ÂëΩ‰ª§Ôºö XADD - Ê∑ªÂä†Ê∂àÊÅØÂà∞Êú´Â∞æ XTRIM - ÂØπÊµÅËøõË°å‰øÆÂâ™ÔºåÈôêÂà∂ÈïøÂ∫¶ XDEL - Âà†Èô§Ê∂àÊÅØ XLEN - Ëé∑ÂèñÊµÅÂåÖÂê´ÁöÑÂÖÉÁ¥†Êï∞ÈáèÔºåÂç≥Ê∂àÊÅØÈïøÂ∫¶ XRANGE - Ëé∑ÂèñÊ∂àÊÅØÂàóË°®Ôºå‰ºöËá™Âä®ËøáÊª§Â∑≤ÁªèÂà†Èô§ÁöÑÊ∂àÊÅØ XREVRANGE - ÂèçÂêëËé∑ÂèñÊ∂àÊÅØÂàóË°®ÔºåID ‰ªéÂ§ßÂà∞Â∞è XREAD - ‰ª•ÈòªÂ°ûÊàñÈùûÈòªÂ°ûÊñπÂºèËé∑ÂèñÊ∂àÊÅØÂàóË°® Ê∂àË¥πËÄÖÁªÑÁõ∏ÂÖ≥ÂëΩ‰ª§Ôºö XGROUP CREATE - ÂàõÂª∫Ê∂àË¥πËÄÖÁªÑ XREADGROUP GROUP - ËØªÂèñÊ∂àË¥πËÄÖÁªÑ‰∏≠ÁöÑÊ∂àÊÅØ XACK - Â∞ÜÊ∂àÊÅØÊ†áËÆ∞‰∏∫&quot;Â∑≤Â§ÑÁêÜ&quot; XGROUP SETID - ‰∏∫Ê∂àË¥πËÄÖÁªÑËÆæÁΩÆÊñ∞ÁöÑÊúÄÂêéÈÄíÈÄÅÊ∂àÊÅØID XGROUP DELCONSUMER - Âà†Èô§Ê∂àË¥πËÄÖ XGROUP DESTROY - Âà†Èô§Ê∂àË¥πËÄÖÁªÑ XPENDING - ÊòæÁ§∫ÂæÖÂ§ÑÁêÜÊ∂àÊÅØÁöÑÁõ∏ÂÖ≥‰ø°ÊÅØ XCLAIM - ËΩ¨ÁßªÊ∂àÊÅØÁöÑÂΩíÂ±ûÊùÉ XINFO - Êü•ÁúãÊµÅÂíåÊ∂àË¥πËÄÖÁªÑÁöÑÁõ∏ÂÖ≥‰ø°ÊÅØÔºõ XINFO GROUPS - ÊâìÂç∞Ê∂àË¥πËÄÖÁªÑÁöÑ‰ø°ÊÅØÔºõ XINFO STREAM - ÊâìÂç∞ÊµÅ‰ø°ÊÅØ XADD ‰ΩøÁî® XADD ÂêëÈòüÂàóÊ∑ªÂä†Ê∂àÊÅØÔºåÂ¶ÇÊûúÊåáÂÆöÁöÑÈòüÂàó‰∏çÂ≠òÂú®ÔºåÂàôÂàõÂª∫‰∏Ä‰∏™ÈòüÂàóÔºåXADD ËØ≠Ê≥ïÊ†ºÂºèÔºö XADD key ID field value [field value ...] key ÔºöÈòüÂàóÂêçÁß∞ÔºåÂ¶ÇÊûú‰∏çÂ≠òÂú®Â∞±ÂàõÂª∫ ID ÔºöÊ∂àÊÅØ idÔºåÊàë‰ª¨‰ΩøÁî® * Ë°®Á§∫Áî± redis ÁîüÊàêÔºåÂèØ‰ª•Ëá™ÂÆö‰πâÔºå‰ΩÜÊòØË¶ÅËá™Â∑±‰øùËØÅÈÄíÂ¢ûÊÄß„ÄÇ field value Ôºö ËÆ∞ÂΩï„ÄÇ - XADD mystream * name Sara surname OConnor - XADD mystream * field1 value1 field2 value2 field3 value3 - XLEN mystream - XRANGE mystream - + XTRIM ‰ΩøÁî® XTRIM ÂØπÊµÅËøõË°å‰øÆÂâ™ÔºåÈôêÂà∂ÈïøÂ∫¶Ôºå ËØ≠Ê≥ïÊ†ºÂºèÔºö XTRIM key MAXLEN [~] count key ÔºöÈòüÂàóÂêçÁß∞ MAXLEN ÔºöÈïøÂ∫¶ count ÔºöÊï∞Èáè - XADD mystream * field1 A field2 B field3 C field4 D - XTRIM mystream MAXLEN 2 - XRANGE mystream - + XDEL ‰ΩøÁî® XDEL Âà†Èô§Ê∂àÊÅØÔºåËØ≠Ê≥ïÊ†ºÂºèÔºö XDEL key ID [ID ...] keyÔºöÈòüÂàóÂêçÁß∞ ID ÔºöÊ∂àÊÅØ ID ‰ΩøÁî® XDEL Âà†Èô§Ê∂àÊÅØÔºåËØ≠Ê≥ïÊ†ºÂºèÔºö XLEN ‰ΩøÁî® XLEN Ëé∑ÂèñÊµÅÂåÖÂê´ÁöÑÂÖÉÁ¥†Êï∞ÈáèÔºåÂç≥Ê∂àÊÅØÈïøÂ∫¶ÔºåËØ≠Ê≥ïÊ†ºÂºèÔºö XLEN key keyÔºöÈòüÂàóÂêçÁß∞ - XADD mystream * item 1 - XLEN mystream XRANGE ‰ΩøÁî® XRANGE Ëé∑ÂèñÊ∂àÊÅØÂàóË°®Ôºå‰ºöËá™Âä®ËøáÊª§Â∑≤ÁªèÂà†Èô§ÁöÑÊ∂àÊÅØ ÔºåËØ≠Ê≥ïÊ†ºÂºèÔºö XRANGE key start end [COUNT count] key ÔºöÈòüÂàóÂêç start ÔºöÂºÄÂßãÂÄºÔºå - Ë°®Á§∫ÊúÄÂ∞èÂÄº end ÔºöÁªìÊùüÂÄºÔºå + Ë°®Á§∫ÊúÄÂ§ßÂÄº count ÔºöÊï∞Èáè - XADD writers * name Ngozi surname Adichie - XLEN writers - XRANGE writers - + COUNT 2 XREVRANGE ‰ΩøÁî® XREVRANGE Ëé∑ÂèñÊ∂àÊÅØÂàóË°®Ôºå‰ºöËá™Âä®ËøáÊª§Â∑≤ÁªèÂà†Èô§ÁöÑÊ∂àÊÅØ ÔºåËØ≠Ê≥ïÊ†ºÂºèÔºö XREVRANGE key end start [COUNT count] key ÔºöÈòüÂàóÂêç end ÔºöÁªìÊùüÂÄºÔºå + Ë°®Á§∫ÊúÄÂ§ßÂÄº start ÔºöÂºÄÂßãÂÄºÔºå - Ë°®Á§∫ÊúÄÂ∞èÂÄº count ÔºöÊï∞Èáè - XADD writers * name Virginia surname Woolf - XLEN writers - XREVRANGE writers + - COUNT 1 XREAD ‰ΩøÁî® XREAD ‰ª•ÈòªÂ°ûÊàñÈùûÈòªÂ°ûÊñπÂºèËé∑ÂèñÊ∂àÊÅØÂàóË°® ÔºåËØ≠Ê≥ïÊ†ºÂºèÔºö XREAD [COUNT count] [BLOCK milliseconds] STREAMS key [key ...] id [id ...] count ÔºöÊï∞Èáè milliseconds ÔºöÂèØÈÄâÔºåÈòªÂ°ûÊØ´ÁßíÊï∞ÔºåÊ≤°ÊúâËÆæÁΩÆÂ∞±ÊòØÈùûÈòªÂ°ûÊ®°Âºè key ÔºöÈòüÂàóÂêç id ÔºöÊ∂àÊÅØ ID - # ‰ªé Stream Â§¥ÈÉ®ËØªÂèñ‰∏§Êù°Ê∂àÊÅØ XREAD COUNT 2 STREAMS mystream writers 0-0 0-0 XGROUP CREATE ‰ΩøÁî® XGROUP CREATE ÂàõÂª∫Ê∂àË¥πËÄÖÁªÑÔºåËØ≠Ê≥ïÊ†ºÂºèÔºö XGROUP [CREATE key groupname id-or-$] [SETID key groupname id-or-$] [DESTROY key groupname] [DELCONSUMER key groupname consumername] key ÔºöÈòüÂàóÂêçÁß∞ÔºåÂ¶ÇÊûú‰∏çÂ≠òÂú®Â∞±ÂàõÂª∫ groupname ÔºöÁªÑÂêç„ÄÇ $ Ôºö Ë°®Á§∫‰ªéÂ∞æÈÉ®ÂºÄÂßãÊ∂àË¥πÔºåÂè™Êé•ÂèóÊñ∞Ê∂àÊÅØÔºåÂΩìÂâç Stream Ê∂àÊÅØ‰ºöÂÖ®ÈÉ®ÂøΩÁï•„ÄÇ ‰ªéÂ§¥ÂºÄÂßãÊ∂àË¥π: XGROUP CREATE mystream consumer-group-name 0-0 ‰ªéÂ∞æÈÉ®ÂºÄÂßãÊ∂àË¥π: XGROUP CREATE mystream consumer-group-name $ XREADGROUP GROUP ‰ΩøÁî® XREADGROUP GROUP ËØªÂèñÊ∂àË¥πÁªÑ‰∏≠ÁöÑÊ∂àÊÅØÔºåËØ≠Ê≥ïÊ†ºÂºèÔºö XREADGROUP GROUP group consumer [COUNT count] [BLOCK milliseconds] [NOACK] STREAMS key [key ...] ID [ID ...] group ÔºöÊ∂àË¥πÁªÑÂêç consumer ÔºöÊ∂àË¥πËÄÖÂêç„ÄÇ count Ôºö ËØªÂèñÊï∞Èáè„ÄÇ milliseconds Ôºö ÈòªÂ°ûÊØ´ÁßíÊï∞„ÄÇ key Ôºö ÈòüÂàóÂêç„ÄÇ ID Ôºö Ê∂àÊÅØ ID„ÄÇ XREADGROUP GROUP consumer-group-name consumer-name COUNT 1 STREAMS mystream &gt; Redis È´òÁ∫ßÊïôÁ®ã Redis‰∏ª‰ªéÂ§çÂà∂ Ê¶ÇÂøµ ‰∏ª‰ªéÂ§çÂà∂ÔºåÊòØÊåáÂ∞Ü‰∏ÄÂè∞RedisÊúçÂä°Âô®ÁöÑÊï∞ÊçÆÔºåÂ§çÂà∂Âà∞ÂÖ∂‰ªñÁöÑRedisÊúçÂä°Âô®„ÄÇÂâçËÄÖÁß∞‰∏∫‰∏ªËäÇÁÇπ (master/leader)ÔºåÂêéËÄÖÁß∞‰∏∫‰ªéËäÇÁÇπ(slave/follower)ÔºõÊï∞ÊçÆÁöÑÂ§çÂà∂ÊòØÂçïÂêëÁöÑÔºåÂè™ËÉΩÁî±‰∏ªËäÇÁÇπÂà∞‰ªéËäÇÁÇπ„ÄÇ Master‰ª•ÂÜô‰∏∫‰∏ªÔºåSlave ‰ª•ËØª‰∏∫‰∏ª„ÄÇ ÈªòËÆ§ÊÉÖÂÜµ‰∏ãÔºåÊØèÂè∞RedisÊúçÂä°Âô®ÈÉΩÊòØ‰∏ªËäÇÁÇπÔºõ ‰∏î‰∏Ä‰∏™‰∏ªËäÇÁÇπÂèØ‰ª•ÊúâÂ§ö‰∏™‰ªéËäÇÁÇπ(ÊàñÊ≤°Êúâ‰ªéËäÇÁÇπ)Ôºå‰ΩÜ‰∏Ä‰∏™‰ªéËäÇÁÇπÂè™ËÉΩÊúâ‰∏Ä‰∏™‰∏ªËäÇÁÇπ„ÄÇ ‰∏ª‰ªéÂ§çÂà∂ÁöÑ‰ΩúÁî®Ôºö 1„ÄÅÊï∞ÊçÆÂÜó‰ΩôÔºö‰∏ª‰ªéÂ§çÂà∂ÂÆûÁé∞‰∫ÜÊï∞ÊçÆÁöÑÁÉ≠Â§á‰ªΩÔºåÊòØÊåÅ‰πÖÂåñ‰πãÂ§ñÁöÑ‰∏ÄÁßçÊï∞ÊçÆÂÜó‰ΩôÊñπÂºè„ÄÇ 2„ÄÅÊïÖÈöúÊÅ¢Â§çÔºöÂΩì‰∏ªËäÇÁÇπÂá∫Áé∞ÈóÆÈ¢òÊó∂ÔºåÂèØ‰ª•Áî±‰ªéËäÇÁÇπÊèê‰æõÊúçÂä°ÔºåÂÆûÁé∞Âø´ÈÄüÁöÑÊïÖÈöúÊÅ¢Â§çÔºõÂÆûÈôÖ‰∏äÊòØ‰∏ÄÁßçÊúçÂä° ÁöÑÂÜó‰Ωô„ÄÇ 3„ÄÅË¥üËΩΩÂùáË°°ÔºöÂú®‰∏ª‰ªéÂ§çÂà∂ÁöÑÂü∫Á°Ä‰∏äÔºåÈÖçÂêàËØªÂÜôÂàÜÁ¶ªÔºåÂèØ‰ª•Áî±‰∏ªËäÇÁÇπÊèê‰æõÂÜôÊúçÂä°ÔºåÁî±‰ªéËäÇÁÇπÊèê‰æõËØªÊúçÂä° ÔºàÂç≥ÂÜôRedisÊï∞ÊçÆÊó∂Â∫îÁî®ËøûÊé•‰∏ªËäÇÁÇπÔºåËØªRedisÊï∞ÊçÆÊó∂Â∫îÁî®ËøûÊé•‰ªéËäÇÁÇπÔºâÔºåÂàÜÊãÖÊúçÂä°Âô®Ë¥üËΩΩÔºõÂ∞§ÂÖ∂ÊòØÂú®ÂÜô Â∞ëËØªÂ§öÁöÑÂú∫ÊôØ‰∏ãÔºåÈÄöËøáÂ§ö‰∏™‰ªéËäÇÁÇπÂàÜÊãÖËØªË¥üËΩΩÔºåÂèØ‰ª•Â§ßÂ§ßÊèêÈ´òRedisÊúçÂä°Âô®ÁöÑÂπ∂ÂèëÈáè„ÄÇ 4„ÄÅÈ´òÂèØÁî®ÔºàÈõÜÁæ§ÔºâÂü∫Áü≥ÔºöÈô§‰∫Ü‰∏äËø∞‰ΩúÁî®‰ª•Â§ñÔºå‰∏ª‰ªéÂ§çÂà∂ËøòÊòØÂì®ÂÖµÂíåÈõÜÁæ§ËÉΩÂ§üÂÆûÊñΩÁöÑÂü∫Á°ÄÔºåÂõ†Ê≠§ËØ¥‰∏ª‰ªéÂ§çÂà∂ÊòØRedisÈ´òÂèØÁî®ÁöÑÂü∫Á°Ä„ÄÇ ‰∏ÄËà¨Êù•ËØ¥ÔºåË¶ÅÂ∞ÜRedisËøêÁî®‰∫éÂ∑•Á®ãÈ°πÁõÆ‰∏≠ÔºåÂè™‰ΩøÁî®‰∏ÄÂè∞RedisÊòØ‰∏á‰∏á‰∏çËÉΩÁöÑÔºàÂÆïÊú∫ÔºâÔºåÂéüÂõ†Â¶Ç‰∏ãÔºö 1„ÄÅ‰ªéÁªìÊûÑ‰∏äÔºåÂçï‰∏™RedisÊúçÂä°Âô®‰ºöÂèëÁîüÂçïÁÇπÊïÖÈöúÔºåÂπ∂‰∏î‰∏ÄÂè∞ÊúçÂä°Âô®ÈúÄË¶ÅÂ§ÑÁêÜÊâÄÊúâÁöÑËØ∑Ê±ÇË¥üËΩΩÔºåÂéãÂäõËæÉÂ§ßÔºõ 2„ÄÅ‰ªéÂÆπÈáè‰∏äÔºåÂçï‰∏™RedisÊúçÂä°Âô®ÂÜÖÂ≠òÂÆπÈáèÊúâÈôêÔºåÂ∞±ÁÆó‰∏ÄÂè∞RedisÊúçÂä°Âô®ÂÜÖÂ≠òÂÆπÈáè‰∏∫256GÔºå‰πü‰∏çËÉΩÂ∞ÜÊâÄÊúâ ÂÜÖÂ≠òÁî®‰ΩúRedisÂ≠òÂÇ®ÂÜÖÂ≠òÔºå‰∏ÄËà¨Êù•ËØ¥ÔºåÂçïÂè∞RedisÊúÄÂ§ß‰ΩøÁî®ÂÜÖÂ≠ò‰∏çÂ∫îËØ•Ë∂ÖËøá20G„ÄÇ ÁîµÂïÜÁΩëÁ´ô‰∏äÁöÑÂïÜÂìÅÔºå‰∏ÄËà¨ÈÉΩÊòØ‰∏ÄÊ¨°‰∏ä‰º†ÔºåÊó†Êï∞Ê¨°ÊµèËßàÁöÑÔºåËØ¥‰∏ì‰∏öÁÇπ‰πüÂ∞±ÊòØ&quot;Â§öËØªÂ∞ëÂÜô&quot;„ÄÇ ÂØπ‰∫éËøôÁßçÂú∫ÊôØÔºåÊàë‰ª¨ÂèØ‰ª•‰ΩøÂ¶Ç‰∏ãËøôÁßçÊû∂ÊûÑÔºö ‰∏ª‰ªéÂ§çÂà∂ÔºåËØªÂÜôÂàÜÁ¶ªÔºÅ 80% ÁöÑÊÉÖÂÜµ‰∏ãÈÉΩÊòØÂú®ËøõË°åËØªÊìç‰ΩúÔºÅÂáèÁºìÊúçÂä°Âô®ÁöÑÂéãÂäõÔºÅÊû∂ÊûÑ‰∏≠ÁªèÂ∏∏‰ΩøÁî®ÔºÅ ‰∏Ä‰∏ª‰∫å‰ªéÔºÅ Âè™Ë¶ÅÂú®ÂÖ¨Âè∏‰∏≠Ôºå‰∏ª‰ªéÂ§çÂà∂Â∞±ÊòØÂøÖÈ°ªË¶Å‰ΩøÁî®ÁöÑÔºåÂõ†‰∏∫Âú®ÁúüÂÆûÁöÑÈ°πÁõÆ‰∏≠‰∏çÂèØËÉΩÂçïÊú∫‰ΩøÁî®RedisÔºÅ ÁéØÂ¢ÉÈÖçÁΩÆ Âè™ÈÖçÁΩÆ‰ªéÂ∫ìÔºå‰∏çÁî®ÈÖçÁΩÆ‰∏ªÂ∫ìÔºÅ 123456789101112127.0.0.1:6379&gt; info replication # Êü•ÁúãÂΩìÂâçÂ∫ìÁöÑ‰ø°ÊÅØ# Replicationrole:master # ËßíËâ≤ masterconnected_slaves:0 # Ê≤°Êúâ‰ªéÊú∫master_replid:b63c90e6c501143759cb0e7f450bd1eb0c70882amaster_replid2:0000000000000000000000000000000000000000master_repl_offset:0second_repl_offset:-1repl_backlog_active:0repl_backlog_size:1048576repl_backlog_first_byte_offset:0repl_backlog_histlen:0 Â§çÂà∂3‰∏™ÈÖçÁΩÆÊñá‰ª∂ÔºåÁÑ∂Âêé‰øÆÊîπÂØπÂ∫îÁöÑ‰ø°ÊÅØ 1„ÄÅÁ´ØÂè£ 2„ÄÅpid ÂêçÂ≠ó 3„ÄÅlogÊñá‰ª∂ÂêçÂ≠ó 4„ÄÅdump.rdb ÂêçÂ≠ó ‰øÆÊîπÂÆåÊØï‰πãÂêéÔºåÂêØÂä®Êàë‰ª¨ÁöÑ3‰∏™redisÊúçÂä°Âô®ÔºåÂèØ‰ª•ÈÄöËøáËøõÁ®ã‰ø°ÊÅØÊü•ÁúãÔºÅ ‰∏Ä‰∏ª‰∫å‰ªé SLAVEOF 127.0.0.1 6379 # SLAVEOF host 6379 ÊâæË∞ÅÂΩìËá™Â∑±ÁöÑËÄÅÂ§ßÔºÅ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152ÈªòËÆ§ÊÉÖÂÜµ‰∏ãÔºåÊØèÂè∞RedisÊúçÂä°Âô®ÈÉΩÊòØ‰∏ªËäÇÁÇπÔºõ Êàë‰ª¨‰∏ÄËà¨ÊÉÖÂÜµ‰∏ãÂè™Áî®ÈÖçÁΩÆ‰ªéÊú∫Â∞±Â•Ω‰∫ÜÔºÅËÆ§ËÄÅÂ§ßÔºÅ ‰∏Ä‰∏ª Ôºà79Ôºâ‰∫å‰ªéÔºà80Ôºå81Ôºâ127.0.0.1:6379&gt; info replication # Êü•ÁúãÂΩìÂâçÂ∫ìÁöÑ‰ø°ÊÅØ# Replicationrole:master # ËßíËâ≤ masterconnected_slaves:0 # Ê≤°Êúâ‰ªéÊú∫master_replid:b63c90e6c501143759cb0e7f450bd1eb0c70882amaster_replid2:0000000000000000000000000000000000000000master_repl_offset:0second_repl_offset:-1repl_backlog_active:0repl_backlog_size:1048576repl_backlog_first_byte_offset:0repl_backlog_histlen:0127.0.0.1:6380&gt; SLAVEOF 127.0.0.1 6379 # SLAVEOF host 6379 ÊâæË∞ÅÂΩìËá™Â∑±ÁöÑËÄÅÂ§ßÔºÅOK127.0.0.1:6380&gt; info replication# Replicationrole:slave # ÂΩìÂâçËßíËâ≤ÊòØ‰ªéÊú∫master_host:127.0.0.1 # ÂèØ‰ª•ÁöÑÁúãÂà∞‰∏ªÊú∫ÁöÑ‰ø°ÊÅØmaster_port:6379master_link_status:upmaster_last_io_seconds_ago:3master_sync_in_progress:0slave_repl_offset:14slave_priority:100slave_read_only:1connected_slaves:0master_replid:a81be8dd257636b2d3e7a9f595e69d73ff03774emaster_replid2:0000000000000000000000000000000000000000master_repl_offset:14second_repl_offset:-1repl_backlog_active:1repl_backlog_size:1048576repl_backlog_first_byte_offset:1repl_backlog_histlen:14# Âú®‰∏ªÊú∫‰∏≠Êü•ÁúãÔºÅ127.0.0.1:6379&gt; info replication# Replicationrole:masterconnected_slaves:1 # Â§ö‰∫Ü‰ªéÊú∫ÁöÑÈÖçÁΩÆslave0:ip=127.0.0.1,port=6380,state=online,offset=42,lag=1 # Â§ö‰∫Ü‰ªéÊú∫ÁöÑÈÖçÁΩÆmaster_replid:a81be8dd257636b2d3e7a9f595e69d73ff03774emaster_replid2:0000000000000000000000000000000000000000master_repl_offset:42second_repl_offset:-1repl_backlog_active:1repl_backlog_size:1048576repl_backlog_first_byte_offset:1repl_backlog_histlen:42Â¶ÇÊûú‰∏§‰∏™ÈÉΩÈÖçÁΩÆÂÆå‰∫ÜÔºåÂ∞±ÊòØÊúâ‰∏§‰∏™‰ªéÊú∫ÁöÑÁúüÂÆûÁöÑ‰ªé‰∏ªÈÖçÁΩÆÂ∫îËØ•Âú®ÈÖçÁΩÆÊñá‰ª∂‰∏≠ÈÖçÁΩÆÔºåËøôÊ†∑ÁöÑËØùÊòØÊ∞∏‰πÖÁöÑÔºåÊàë‰ª¨ËøôÈáå‰ΩøÁî®ÁöÑÊòØÂëΩ‰ª§ÔºåÊöÇÊó∂ÁöÑÔºÅ ÁªÜËäÇ ‰∏ªÊú∫ÂèØ‰ª•ÂÜôÔºå‰ªéÊú∫‰∏çËÉΩÂÜôÂè™ËÉΩËØªÔºÅ‰∏ªÊú∫‰∏≠ÁöÑÊâÄÊúâ‰ø°ÊÅØÂíåÊï∞ÊçÆÔºåÈÉΩ‰ºöËá™Âä®Ë¢´‰ªéÊú∫‰øùÂ≠òÔºÅ ÊµãËØïÔºö‰∏ªÊú∫Êñ≠ÂºÄËøûÊé•Ôºå‰ªéÊú∫‰æùÊóßËøûÊé•Âà∞‰∏ªÊú∫ÁöÑÔºå‰ΩÜÊòØÊ≤°ÊúâÂÜôÊìç‰ΩúÔºåËøô‰∏™Êó∂ÂÄôÔºå‰∏ªÊú∫Â¶ÇÊûúÂõûÊù•‰∫ÜÔºå‰ªéÊú∫‰æùÊóßÂèØ‰ª•Áõ¥Êé•Ëé∑ÂèñÂà∞‰∏ªÊú∫ÂÜôÁöÑ‰ø°ÊÅØÔºÅ Â¶ÇÊûúÊòØ‰ΩøÁî®ÂëΩ‰ª§Ë°åÔºåÊù•ÈÖçÁΩÆÁöÑ‰∏ª‰ªéÔºåËøô‰∏™Êó∂ÂÄôÂ¶ÇÊûúÈáçÂêØ‰∫ÜÔºåÂ∞±‰ºöÂèòÂõû‰∏ªÊú∫ÔºÅÂè™Ë¶ÅÂèò‰∏∫‰ªéÊú∫ÔºåÁ´ãÈ©¨Â∞±‰ºö‰ªé‰∏ªÊú∫‰∏≠Ëé∑ÂèñÂÄºÔºÅ Â§çÂà∂ÂéüÁêÜ Slave ÂêØÂä®ÊàêÂäüËøûÊé•Âà∞ master Âêé‰ºöÂèëÈÄÅ‰∏Ä‰∏™syncÂêåÊ≠•ÂëΩ‰ª§ Master Êé•Âà∞ÂëΩ‰ª§ÔºåÂêØÂä®ÂêéÂè∞ÁöÑÂ≠òÁõòËøõÁ®ãÔºåÂêåÊó∂Êî∂ÈõÜÊâÄÊúâÊé•Êî∂Âà∞ÁöÑÁî®‰∫é‰øÆÊîπÊï∞ÊçÆÈõÜÂëΩ‰ª§ÔºåÂú®ÂêéÂè∞ËøõÁ®ãÊâßË°å ÂÆåÊØï‰πãÂêéÔºåmasterÂ∞Ü‰º†ÈÄÅÊï¥‰∏™Êï∞ÊçÆÊñá‰ª∂Âà∞slaveÔºåÂπ∂ÂÆåÊàê‰∏ÄÊ¨°ÂÆåÂÖ®ÂêåÊ≠•„ÄÇ ÂÖ®ÈáèÂ§çÂà∂ÔºöËÄåslaveÊúçÂä°Âú®Êé•Êî∂Âà∞Êï∞ÊçÆÂ∫ìÊñá‰ª∂Êï∞ÊçÆÂêéÔºåÂ∞ÜÂÖ∂Â≠òÁõòÂπ∂Âä†ËΩΩÂà∞ÂÜÖÂ≠ò‰∏≠„ÄÇ Â¢ûÈáèÂ§çÂà∂ÔºöMaster ÁªßÁª≠Â∞ÜÊñ∞ÁöÑÊâÄÊúâÊî∂ÈõÜÂà∞ÁöÑ‰øÆÊîπÂëΩ‰ª§‰æùÊ¨°‰º†ÁªôslaveÔºåÂÆåÊàêÂêåÊ≠• ‰ΩÜÊòØÂè™Ë¶ÅÊòØÈáçÊñ∞ËøûÊé•masterÔºå‰∏ÄÊ¨°ÂÆåÂÖ®ÂêåÊ≠•ÔºàÂÖ®ÈáèÂ§çÂà∂ÔºâÂ∞ÜË¢´Ëá™Âä®ÊâßË°åÔºÅ Êàë‰ª¨ÁöÑÊï∞ÊçÆ‰∏ÄÂÆöÂèØ‰ª•Âú®‰ªéÊú∫‰∏≠ ÁúãÂà∞ÔºÅ Â±ÇÂ±ÇÈìæË∑Ø ‰∏ä‰∏Ä‰∏™MÈìæÊé•‰∏ã‰∏Ä‰∏™ SÔºÅËøôÊó∂ÂÄô‰πüÂèØ‰ª•ÂÆåÊàêÊàë‰ª¨ÁöÑ‰∏ª‰ªéÂ§çÂà∂ÔºÅÂ¶ÇÊûúÊ≤°ÊúâËÄÅÂ§ß‰∫ÜÔºåËøô‰∏™Êó∂ÂÄôËÉΩ‰∏çËÉΩÈÄâÊã©‰∏Ä‰∏™ËÄÅÂ§ßÂá∫Êù•Âë¢Ôºü ÊâãÂä®ÔºÅË∞ãÊúùÁØ°‰Ωç Â¶ÇÊûú‰∏ªÊú∫Êñ≠ÂºÄ‰∫ÜËøûÊé•ÔºåÊàë‰ª¨ÂèØ‰ª•‰ΩøÁî® SLAVEOF no one ËÆ©Ëá™Â∑±ÂèòÊàê‰∏ªÊú∫ÔºÅÂÖ∂‰ªñÁöÑËäÇÁÇπÂ∞±ÂèØ‰ª•ÊâãÂä®Ëøû Êé•Âà∞ÊúÄÊñ∞ÁöÑËøô‰∏™‰∏ªËäÇÁÇπÔºàÊâãÂä®ÔºâÔºÅÂ¶ÇÊûúËøô‰∏™Êó∂ÂÄôËÄÅÂ§ß‰øÆÂ§ç‰∫ÜÔºåÈÇ£Â∞±ÈáçÊñ∞ËøûÊé•ÔºÅ Âì®ÂÖµÊ®°Âºè Ê¶ÇËø∞ ÔºàËá™Âä®ÈÄâ‰∏æËÄÅÂ§ßÁöÑÊ®°ÂºèÔºâ ‰∏ª‰ªéÂàáÊç¢ÊäÄÊúØÁöÑÊñπÊ≥ïÊòØÔºöÂΩì‰∏ªÊúçÂä°Âô®ÂÆïÊú∫ÂêéÔºåÈúÄË¶ÅÊâãÂä®Êää‰∏ÄÂè∞‰ªéÊúçÂä°Âô®ÂàáÊç¢‰∏∫‰∏ªÊúçÂä°Âô®ÔºåËøôÂ∞±ÈúÄË¶Å‰∫∫Â∑•Âπ≤È¢ÑÔºåË¥π‰∫ãË¥πÂäõÔºåËøò‰ºöÈÄ†Êàê‰∏ÄÊÆµÊó∂Èó¥ÂÜÖÊúçÂä°‰∏çÂèØÁî®„ÄÇËøô‰∏çÊòØ‰∏ÄÁßçÊé®ËçêÁöÑÊñπÂºèÔºåÊõ¥Â§öÊó∂ÂÄôÔºåÊàë‰ª¨‰ºòÂÖàËÄÉËôë Âì®ÂÖµÊ®°Âºè„ÄÇRedis‰ªé2.8ÂºÄÂßãÊ≠£ÂºèÊèê‰æõ‰∫ÜSentinelÔºàÂì®ÂÖµÔºâ Êû∂ÊûÑÊù•Ëß£ÂÜ≥Ëøô‰∏™ÈóÆÈ¢ò„ÄÇ Ë∞ãÊúùÁØ°‰ΩçÁöÑËá™Âä®ÁâàÔºåËÉΩÂ§üÂêéÂè∞ÁõëÊéß‰∏ªÊú∫ÊòØÂê¶ÊïÖÈöúÔºåÂ¶ÇÊûúÊïÖÈöú‰∫ÜÊ†πÊçÆÊäïÁ•®Êï∞Ëá™Âä®Â∞Ü‰ªéÂ∫ìËΩ¨Êç¢‰∏∫‰∏ªÂ∫ì„ÄÇ Âì®ÂÖµÊ®°ÂºèÊòØ‰∏ÄÁßçÁâπÊÆäÁöÑÊ®°ÂºèÔºåÈ¶ñÂÖàRedisÊèê‰æõ‰∫ÜÂì®ÂÖµÁöÑÂëΩ‰ª§ÔºåÂì®ÂÖµÊòØ‰∏Ä‰∏™Áã¨Á´ãÁöÑËøõÁ®ãÔºå‰Ωú‰∏∫ËøõÁ®ãÔºåÂÆÉ‰ºöÁã¨ Á´ãËøêË°å„ÄÇÂÖ∂ÂéüÁêÜÊòØÂì®ÂÖµÈÄöËøáÂèëÈÄÅÂëΩ‰ª§ÔºåÁ≠âÂæÖRedisÊúçÂä°Âô®ÂìçÂ∫îÔºå‰ªéËÄåÁõëÊéßËøêË°åÁöÑÂ§ö‰∏™RedisÂÆû‰æã„ÄÇ ËøôÈáåÁöÑÂì®ÂÖµÊúâ‰∏§‰∏™‰ΩúÁî® ÈÄöËøáÂèëÈÄÅÂëΩ‰ª§ÔºåËÆ©RedisÊúçÂä°Âô®ËøîÂõûÁõëÊéßÂÖ∂ËøêË°åÁä∂ÊÄÅÔºåÂåÖÊã¨‰∏ªÊúçÂä°Âô®Âíå‰ªéÊúçÂä°Âô®„ÄÇ ÂΩìÂì®ÂÖµÁõëÊµãÂà∞masterÂÆïÊú∫Ôºå‰ºöËá™Âä®Â∞ÜslaveÂàáÊç¢ÊàêmasterÔºåÁÑ∂ÂêéÈÄöËøáÂèëÂ∏ÉËÆ¢ÈòÖÊ®°ÂºèÈÄöÁü•ÂÖ∂‰ªñÁöÑ‰ªéÊúç Âä°Âô®Ôºå‰øÆÊîπÈÖçÁΩÆÊñá‰ª∂ÔºåËÆ©ÂÆÉ‰ª¨ÂàáÊç¢‰∏ªÊú∫„ÄÇ ÁÑ∂ËÄå‰∏Ä‰∏™Âì®ÂÖµËøõÁ®ãÂØπRedisÊúçÂä°Âô®ËøõË°åÁõëÊéßÔºåÂèØËÉΩ‰ºöÂá∫Áé∞ÈóÆÈ¢òÔºå‰∏∫Ê≠§ÔºåÊàë‰ª¨ÂèØ‰ª•‰ΩøÁî®Â§ö‰∏™Âì®ÂÖµËøõË°åÁõëÊéß„ÄÇ ÂêÑ‰∏™Âì®ÂÖµ‰πãÈó¥Ëøò‰ºöËøõË°åÁõëÊéßÔºåËøôÊ†∑Â∞±ÂΩ¢Êàê‰∫ÜÂ§öÂì®ÂÖµÊ®°Âºè„ÄÇ ÂÅáËÆæ‰∏ªÊúçÂä°Âô®ÂÆïÊú∫ÔºåÂì®ÂÖµ1ÂÖàÊ£ÄÊµãÂà∞Ëøô‰∏™ÁªìÊûúÔºåÁ≥ªÁªüÂπ∂‰∏ç‰ºöÈ©¨‰∏äËøõË°åfailoverËøáÁ®ãÔºå‰ªÖ‰ªÖÊòØÂì®ÂÖµ1‰∏ªËßÇÁöÑËÆ§ ‰∏∫‰∏ªÊúçÂä°Âô®‰∏çÂèØÁî®ÔºåËøô‰∏™Áé∞Ë±°Êàê‰∏∫‰∏ªËßÇ‰∏ãÁ∫ø„ÄÇÂΩìÂêéÈù¢ÁöÑÂì®ÂÖµ‰πüÊ£ÄÊµãÂà∞‰∏ªÊúçÂä°Âô®‰∏çÂèØÁî®ÔºåÂπ∂‰∏îÊï∞ÈáèËææÂà∞‰∏Ä ÂÆöÂÄºÊó∂ÔºåÈÇ£‰πàÂì®ÂÖµ‰πãÈó¥Â∞±‰ºöËøõË°å‰∏ÄÊ¨°ÊäïÁ•®ÔºåÊäïÁ•®ÁöÑÁªìÊûúÁî±‰∏Ä‰∏™Âì®ÂÖµÂèëËµ∑ÔºåËøõË°åfailover[ÊïÖÈöúËΩ¨Áßª]Êìç‰Ωú„ÄÇ ÂàáÊç¢ÊàêÂäüÂêéÔºåÂ∞±‰ºöÈÄöËøáÂèëÂ∏ÉËÆ¢ÈòÖÊ®°ÂºèÔºåËÆ©ÂêÑ‰∏™Âì®ÂÖµÊääËá™Â∑±ÁõëÊéßÁöÑ‰ªéÊúçÂä°Âô®ÂÆûÁé∞ÂàáÊç¢‰∏ªÊú∫ÔºåËøô‰∏™ËøáÁ®ãÁß∞‰∏∫ ÂÆ¢ËßÇ‰∏ãÁ∫ø„ÄÇ ÊµãËØï Êàë‰ª¨ÁõÆÂâçÁöÑÁä∂ÊÄÅÊòØ ‰∏Ä‰∏ª‰∫å‰ªéÔºÅ 1„ÄÅÈÖçÁΩÆÂì®ÂÖµÈÖçÁΩÆÊñá‰ª∂ sentinel.conf 12# sentinel monitor Ë¢´ÁõëÊéßÁöÑÂêçÁß∞ host port 1sentinel monitor myredis 127.0.0.1 6379 1 ÂêéÈù¢ÁöÑËøô‰∏™Êï∞Â≠ó1Ôºå‰ª£Ë°®‰∏ªÊú∫ÊåÇ‰∫ÜÔºåslaveÊäïÁ•®ÁúãËÆ©Ë∞ÅÊé•ÊõøÊàê‰∏∫‰∏ªÊú∫ÔºåÁ•®Êï∞ÊúÄÂ§öÁöÑÔºåÂ∞±‰ºöÊàê‰∏∫‰∏ªÊú∫ÔºÅ 2„ÄÅÂêØÂä®Âì®ÂÖµÔºÅ 123456789101112131415161718192021222324252627282930313233[root@xiaobai bin]# redis-sentinel kconfig/sentinel.conf26607:X 31 Mar 2020 21:13:10.027 # oO0OoO0OoO0Oo Redis is starting oO0OoO0OoO0Oo26607:X 31 Mar 2020 21:13:10.027 # Redis version=5.0.8, bits=64,commit=00000000, modified=0, pid=26607, just started26607:X 31 Mar 2020 21:13:10.027 # Configuration loaded_.__.-``__ ''-.__.-`` `. `_. ''-._ Redis 5.0.8 (00000000/0) 64 bit.-`` .-```. ```\\/ _.,_ ''-._( ' , .-` | `, ) Running in sentinel mode|`-._`-...-` __...-.``-._|'` _.-'| Port: 26379| `-._ `._ / _.-' | PID: 26607`-._ `-._ `-./ _.-' _.-'|`-._`-._ `-.__.-' _.-'_.-'|| `-._`-._ _.-'_.-' | http://redis.io`-._ `-._`-.__.-'_.-' _.-'|`-._`-._ `-.__.-' _.-'_.-'|| `-._`-._ _.-'_.-' |`-._ `-._`-.__.-'_.-' _.-'`-._ `-.__.-' _.-'`-._ _.-'`-.__.-'26607:X 31 Mar 2020 21:13:10.029 # WARNING: The TCP backlog setting of 511cannot be enforced because /proc/sys/net/core/somaxconn is set to the lower valueof 128.26607:X 31 Mar 2020 21:13:10.031 # Sentinel ID is4c780da7e22d2aebe3bc20c333746f202ce7299626607:X 31 Mar 2020 21:13:10.031 # +monitor master myredis 127.0.0.1 6379 quorum126607:X 31 Mar 2020 21:13:10.031 * +slave slave 127.0.0.1:6380 127.0.0.1 6380 @myredis 127.0.0.1 637926607:X 31 Mar 2020 21:13:10.033 * +slave slave 127.0.0.1:6381 127.0.0.1 6381 @myredis 127.0.0.1 6379 Â¶ÇÊûúMaster ËäÇÁÇπÊñ≠ÂºÄ‰∫ÜÔºåËøô‰∏™Êó∂ÂÄôÂ∞±‰ºö‰ªé‰ªéÊú∫‰∏≠ÈöèÊú∫ÈÄâÊã©‰∏Ä‰∏™ÊúçÂä°Âô®ÔºÅ ÔºàËøôÈáåÈù¢Êúâ‰∏Ä‰∏™ÊäïÁ•®ÁÆóÊ≥ïÔºÅÔºâ Âì®ÂÖµÊ®°Âºè ‰ºòÁÇπÔºö 1„ÄÅÂì®ÂÖµÈõÜÁæ§ÔºåÂü∫‰∫é‰∏ª‰ªéÂ§çÂà∂Ê®°ÂºèÔºåÊâÄÊúâÁöÑ‰∏ª‰ªéÈÖçÁΩÆ‰ºòÁÇπÔºåÂÆÉÂÖ®Êúâ 2„ÄÅ ‰∏ª‰ªéÂèØ‰ª•ÂàáÊç¢ÔºåÊïÖÈöúÂèØ‰ª•ËΩ¨ÁßªÔºåÁ≥ªÁªüÁöÑÂèØÁî®ÊÄßÂ∞±‰ºöÊõ¥Â•Ω 3„ÄÅÂì®ÂÖµÊ®°ÂºèÂ∞±ÊòØ‰∏ª‰ªéÊ®°ÂºèÁöÑÂçáÁ∫ßÔºåÊâãÂä®Âà∞Ëá™Âä®ÔºåÊõ¥Âä†ÂÅ•Â£ÆÔºÅ Áº∫ÁÇπÔºö 1„ÄÅRedis ‰∏çÂ•ΩÂïäÂú®Á∫øÊâ©ÂÆπÁöÑÔºåÈõÜÁæ§ÂÆπÈáè‰∏ÄÊó¶Âà∞Ëææ‰∏äÈôêÔºåÂú®Á∫øÊâ©ÂÆπÂ∞±ÂçÅÂàÜÈ∫ªÁÉ¶ÔºÅ 2„ÄÅÂÆûÁé∞Âì®ÂÖµÊ®°ÂºèÁöÑÈÖçÁΩÆÂÖ∂ÂÆûÊòØÂæàÈ∫ªÁÉ¶ÁöÑÔºåÈáåÈù¢ÊúâÂæàÂ§öÈÄâÊã©ÔºÅ Âì®ÂÖµÊ®°ÂºèÁöÑÂÖ®ÈÉ®ÈÖçÁΩÆÔºÅ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465# Example sentinel.conf# Âì®ÂÖµsentinelÂÆû‰æãËøêË°åÁöÑÁ´ØÂè£ ÈªòËÆ§26379port 26379# Âì®ÂÖµsentinelÁöÑÂ∑•‰ΩúÁõÆÂΩïdir /tmp# Âì®ÂÖµsentinelÁõëÊéßÁöÑredis‰∏ªËäÇÁÇπÁöÑ ip port# master-name ÂèØ‰ª•Ëá™Â∑±ÂëΩÂêçÁöÑ‰∏ªËäÇÁÇπÂêçÂ≠ó Âè™ËÉΩÁî±Â≠óÊØçA-z„ÄÅÊï∞Â≠ó0-9 „ÄÅËøô‰∏â‰∏™Â≠óÁ¨¶&quot;.-_&quot;ÁªÑÊàê„ÄÇ# quorum ÈÖçÁΩÆÂ§öÂ∞ë‰∏™sentinelÂì®ÂÖµÁªü‰∏ÄËÆ§‰∏∫master‰∏ªËäÇÁÇπÂ§±ËÅî ÈÇ£‰πàËøôÊó∂ÂÆ¢ËßÇ‰∏äËÆ§‰∏∫‰∏ªËäÇÁÇπÂ§±ËÅî‰∫Ü# sentinel monitor &lt;master-name&gt; &lt;ip&gt; &lt;redis-port&gt; &lt;quorum&gt;sentinel monitor mymaster 127.0.0.1 6379 2# ÂΩìÂú®RedisÂÆû‰æã‰∏≠ÂºÄÂêØ‰∫Ürequirepass foobared ÊéàÊùÉÂØÜÁ†Å ËøôÊ†∑ÊâÄÊúâËøûÊé•RedisÂÆû‰æãÁöÑÂÆ¢Êà∑Á´ØÈÉΩË¶ÅÊèê‰æõÂØÜÁ†Å# ËÆæÁΩÆÂì®ÂÖµsentinel ËøûÊé•‰∏ª‰ªéÁöÑÂØÜÁ†Å Ê≥®ÊÑèÂøÖÈ°ª‰∏∫‰∏ª‰ªéËÆæÁΩÆ‰∏ÄÊ†∑ÁöÑÈ™åËØÅÂØÜÁ†Å# sentinel auth-pass &lt;master-name&gt; &lt;password&gt;sentinel auth-pass mymaster MySUPER--secret-0123passw0rd# ÊåáÂÆöÂ§öÂ∞ëÊØ´Áßí‰πãÂêé ‰∏ªËäÇÁÇπÊ≤°ÊúâÂ∫îÁ≠îÂì®ÂÖµsentinel Ê≠§Êó∂ Âì®ÂÖµ‰∏ªËßÇ‰∏äËÆ§‰∏∫‰∏ªËäÇÁÇπ‰∏ãÁ∫ø ÈªòËÆ§30Áßí# sentinel down-after-milliseconds &lt;master-name&gt; &lt;milliseconds&gt;sentinel down-after-milliseconds mymaster 30000# Ëøô‰∏™ÈÖçÁΩÆÈ°πÊåáÂÆö‰∫ÜÂú®ÂèëÁîüfailover‰∏ªÂ§áÂàáÊç¢Êó∂ÊúÄÂ§öÂèØ‰ª•ÊúâÂ§öÂ∞ë‰∏™slaveÂêåÊó∂ÂØπÊñ∞ÁöÑmasterËøõË°å ÂêåÊ≠•ÔºåËøô‰∏™Êï∞Â≠óË∂äÂ∞èÔºåÂÆåÊàêfailoverÊâÄÈúÄÁöÑÊó∂Èó¥Â∞±Ë∂äÈïøÔºå‰ΩÜÊòØÂ¶ÇÊûúËøô‰∏™Êï∞Â≠óË∂äÂ§ßÔºåÂ∞±ÊÑèÂë≥ÁùÄË∂ä Â§öÁöÑslaveÂõ†‰∏∫replicationËÄå‰∏çÂèØÁî®„ÄÇÂèØ‰ª•ÈÄöËøáÂ∞ÜËøô‰∏™ÂÄºËÆæ‰∏∫ 1 Êù•‰øùËØÅÊØèÊ¨°Âè™Êúâ‰∏Ä‰∏™slave Â§Ñ‰∫é‰∏çËÉΩÂ§ÑÁêÜÂëΩ‰ª§ËØ∑Ê±ÇÁöÑÁä∂ÊÄÅ„ÄÇ# sentinel parallel-syncs &lt;master-name&gt; &lt;numslaves&gt;sentinel parallel-syncs mymaster 1# ÊïÖÈöúËΩ¨ÁßªÁöÑË∂ÖÊó∂Êó∂Èó¥ failover-timeout ÂèØ‰ª•Áî®Âú®‰ª•‰∏ãËøô‰∫õÊñπÈù¢Ôºö#1. Âêå‰∏Ä‰∏™sentinelÂØπÂêå‰∏Ä‰∏™master‰∏§Ê¨°failover‰πãÈó¥ÁöÑÈó¥ÈöîÊó∂Èó¥„ÄÇ#2. ÂΩì‰∏Ä‰∏™slave‰ªé‰∏Ä‰∏™ÈîôËØØÁöÑmasterÈÇ£ÈáåÂêåÊ≠•Êï∞ÊçÆÂºÄÂßãËÆ°ÁÆóÊó∂Èó¥„ÄÇÁõ¥Âà∞slaveË¢´Á∫†Ê≠£‰∏∫ÂêëÊ≠£Á°ÆÁöÑmasterÈÇ£ÈáåÂêåÊ≠•Êï∞ÊçÆÊó∂„ÄÇ#3.ÂΩìÊÉ≥Ë¶ÅÂèñÊ∂à‰∏Ä‰∏™Ê≠£Âú®ËøõË°åÁöÑfailoverÊâÄÈúÄË¶ÅÁöÑÊó∂Èó¥„ÄÇ#4.ÂΩìËøõË°åfailoverÊó∂ÔºåÈÖçÁΩÆÊâÄÊúâslavesÊåáÂêëÊñ∞ÁöÑmasterÊâÄÈúÄÁöÑÊúÄÂ§ßÊó∂Èó¥„ÄÇ‰∏çËøáÔºåÂç≥‰ΩøËøá‰∫ÜËøô‰∏™Ë∂ÖÊó∂Ôºåslaves‰æùÁÑ∂‰ºöË¢´Ê≠£Á°ÆÈÖçÁΩÆ‰∏∫ÊåáÂêëmasterÔºå‰ΩÜÊòØÂ∞±‰∏çÊåâparallel-syncsÊâÄÈÖçÁΩÆÁöÑËßÑÂàôÊù•‰∫Ü# ÈªòËÆ§‰∏âÂàÜÈíü# sentinel failover-timeout &lt;master-name&gt; &lt;milliseconds&gt;sentinel failover-timeout mymaster 180000# SCRIPTS EXECUTION#ÈÖçÁΩÆÂΩìÊüê‰∏Ä‰∫ã‰ª∂ÂèëÁîüÊó∂ÊâÄÈúÄË¶ÅÊâßË°åÁöÑËÑöÊú¨ÔºåÂèØ‰ª•ÈÄöËøáËÑöÊú¨Êù•ÈÄöÁü•ÁÆ°ÁêÜÂëòÔºå‰æãÂ¶ÇÂΩìÁ≥ªÁªüËøêË°å‰∏çÊ≠£Â∏∏Êó∂ÂèëÈÇÆ‰ª∂ÈÄöÁü•Áõ∏ÂÖ≥‰∫∫Âëò„ÄÇ#ÂØπ‰∫éËÑöÊú¨ÁöÑËøêË°åÁªìÊûúÊúâ‰ª•‰∏ãËßÑÂàôÔºö#Ëã•ËÑöÊú¨ÊâßË°åÂêéËøîÂõû1ÔºåÈÇ£‰πàËØ•ËÑöÊú¨Á®çÂêéÂ∞Ü‰ºöË¢´ÂÜçÊ¨°ÊâßË°åÔºåÈáçÂ§çÊ¨°Êï∞ÁõÆÂâçÈªòËÆ§‰∏∫10#Ëã•ËÑöÊú¨ÊâßË°åÂêéËøîÂõû2ÔºåÊàñËÄÖÊØî2Êõ¥È´òÁöÑ‰∏Ä‰∏™ËøîÂõûÂÄºÔºåËÑöÊú¨Â∞Ü‰∏ç‰ºöÈáçÂ§çÊâßË°å„ÄÇ#Â¶ÇÊûúËÑöÊú¨Âú®ÊâßË°åËøáÁ®ã‰∏≠Áî±‰∫éÊî∂Âà∞Á≥ªÁªü‰∏≠Êñ≠‰ø°Âè∑Ë¢´ÁªàÊ≠¢‰∫ÜÔºåÂàôÂêåËøîÂõûÂÄº‰∏∫1Êó∂ÁöÑË°å‰∏∫Áõ∏Âêå„ÄÇ#‰∏Ä‰∏™ËÑöÊú¨ÁöÑÊúÄÂ§ßÊâßË°åÊó∂Èó¥‰∏∫60sÔºåÂ¶ÇÊûúË∂ÖËøáËøô‰∏™Êó∂Èó¥ÔºåËÑöÊú¨Â∞Ü‰ºöË¢´‰∏Ä‰∏™SIGKILL‰ø°Âè∑ÁªàÊ≠¢Ôºå‰πãÂêéÈáçÊñ∞ÊâßË°å„ÄÇ#ÈÄöÁü•ÂûãËÑöÊú¨:ÂΩìsentinelÊúâ‰ªª‰ΩïË≠¶ÂëäÁ∫ßÂà´ÁöÑ‰∫ã‰ª∂ÂèëÁîüÊó∂ÔºàÊØîÂ¶ÇËØ¥redisÂÆû‰æãÁöÑ‰∏ªËßÇÂ§±ÊïàÂíåÂÆ¢ËßÇÂ§±ÊïàÁ≠âÁ≠âÔºâÔºåÂ∞Ü‰ºöÂéªË∞ÉÁî®Ëøô‰∏™ËÑöÊú¨ÔºåËøôÊó∂Ëøô‰∏™ËÑöÊú¨Â∫îËØ•ÈÄöËøáÈÇÆ‰ª∂ÔºåSMSÁ≠âÊñπÂºèÂéªÈÄöÁü•Á≥ªÁªüÁÆ°ÁêÜÂëòÂÖ≥‰∫éÁ≥ªÁªü‰∏çÊ≠£Â∏∏ËøêË°åÁöÑ‰ø°ÊÅØ„ÄÇË∞ÉÁî®ËØ•ËÑöÊú¨Êó∂ÔºåÂ∞Ü‰º†ÁªôËÑöÊú¨‰∏§‰∏™ÂèÇÊï∞Ôºå‰∏Ä‰∏™ÊòØ‰∫ã‰ª∂ÁöÑÁ±ªÂûãÔºå‰∏Ä‰∏™ÊòØ‰∫ã‰ª∂ÁöÑÊèèËø∞„ÄÇÂ¶ÇÊûúsentinel.confÈÖçÁΩÆÊñá‰ª∂‰∏≠ÈÖçÁΩÆ‰∫ÜËøô‰∏™ËÑöÊú¨Ë∑ØÂæÑÔºåÈÇ£‰πàÂøÖÈ°ª‰øùËØÅËøô‰∏™ËÑöÊú¨Â≠òÂú®‰∫éËøô‰∏™Ë∑ØÂæÑÔºåÂπ∂‰∏îÊòØÂèØÊâßË°åÁöÑÔºåÂê¶ÂàôsentinelÊó†Ê≥ïÊ≠£Â∏∏ÂêØÂä®ÊàêÂäü„ÄÇ#ÈÄöÁü•ËÑöÊú¨# shellÁºñÁ®ã# sentinel notification-script &lt;master-name&gt; &lt;script-path&gt;sentinel notification-script mymaster /var/redis/notify.sh# ÂÆ¢Êà∑Á´ØÈáçÊñ∞ÈÖçÁΩÆ‰∏ªËäÇÁÇπÂèÇÊï∞ËÑöÊú¨# ÂΩì‰∏Ä‰∏™masterÁî±‰∫éfailoverËÄåÂèëÁîüÊîπÂèòÊó∂ÔºåËøô‰∏™ËÑöÊú¨Â∞Ü‰ºöË¢´Ë∞ÉÁî®ÔºåÈÄöÁü•Áõ∏ÂÖ≥ÁöÑÂÆ¢Êà∑Á´ØÂÖ≥‰∫émasterÂú∞ÂùÄÂ∑≤ÁªèÂèëÁîüÊîπÂèòÁöÑ‰ø°ÊÅØ„ÄÇ# ‰ª•‰∏ãÂèÇÊï∞Â∞Ü‰ºöÂú®Ë∞ÉÁî®ËÑöÊú¨Êó∂‰º†ÁªôËÑöÊú¨:# &lt;master-name&gt; &lt;role&gt; &lt;state&gt; &lt;from-ip&gt; &lt;from-port&gt; &lt;to-ip&gt; &lt;to-port&gt;# ÁõÆÂâç&lt;state&gt;ÊÄªÊòØ‚Äúfailover‚Äù,# &lt;role&gt;ÊòØ‚Äúleader‚ÄùÊàñËÄÖ‚Äúobserver‚Äù‰∏≠ÁöÑ‰∏Ä‰∏™„ÄÇ# ÂèÇÊï∞ from-ip, from-port, to-ip, to-portÊòØÁî®Êù•ÂíåÊóßÁöÑmasterÂíåÊñ∞ÁöÑmaster(Âç≥ÊóßÁöÑslave)ÈÄö‰ø°ÁöÑ# Ëøô‰∏™ËÑöÊú¨Â∫îËØ•ÊòØÈÄöÁî®ÁöÑÔºåËÉΩË¢´Â§öÊ¨°Ë∞ÉÁî®Ôºå‰∏çÊòØÈíàÂØπÊÄßÁöÑ„ÄÇ# sentinel client-reconfig-script &lt;master-name&gt; &lt;script-path&gt;sentinel client-reconfig-script mymaster /var/redis/reconfig.sh # ‰∏ÄËà¨ÈÉΩÊòØÁî±ËøêÁª¥Êù•ÈÖçÁΩÆÔºÅ RedisÁºìÂ≠òÁ©øÈÄèÂíåÈõ™Â¥© ÊúçÂä°ÁöÑÈ´òÂèØÁî®ÈóÆÈ¢òÔºÅ Âú®ËøôÈáåÊàë‰ª¨‰∏ç‰ºöËØ¶ÁªÜÁöÑÂå∫ÂàÜÊûêËß£ÂÜ≥ÊñπÊ°àÁöÑÂ∫ïÂ±ÇÔºÅ RedisÁºìÂ≠òÁöÑ‰ΩøÁî®ÔºåÊûÅÂ§ßÁöÑÊèêÂçá‰∫ÜÂ∫îÁî®Á®ãÂ∫èÁöÑÊÄßËÉΩÂíåÊïàÁéáÔºåÁâπÂà´ÊòØÊï∞ÊçÆÊü•ËØ¢ÊñπÈù¢„ÄÇ‰ΩÜÂêåÊó∂ÔºåÂÆÉ‰πüÂ∏¶Êù•‰∫Ü‰∏Ä ‰∫õÈóÆÈ¢ò„ÄÇÂÖ∂‰∏≠ÔºåÊúÄË¶ÅÂÆ≥ÁöÑÈóÆÈ¢òÔºåÂ∞±ÊòØÊï∞ÊçÆÁöÑ‰∏ÄËá¥ÊÄßÈóÆÈ¢òÔºå‰ªé‰∏•Ê†ºÊÑè‰πâ‰∏äËÆ≤ÔºåËøô‰∏™ÈóÆÈ¢òÊó†Ëß£„ÄÇÂ¶ÇÊûúÂØπÊï∞ÊçÆ ÁöÑ‰∏ÄËá¥ÊÄßË¶ÅÊ±ÇÂæàÈ´òÔºåÈÇ£‰πàÂ∞±‰∏çËÉΩ‰ΩøÁî®ÁºìÂ≠ò„ÄÇ Âè¶Â§ñÁöÑ‰∏Ä‰∫õÂÖ∏ÂûãÈóÆÈ¢òÂ∞±ÊòØÔºåÁºìÂ≠òÁ©øÈÄè„ÄÅÁºìÂ≠òÈõ™Â¥©ÂíåÁºìÂ≠òÂáªÁ©ø„ÄÇÁõÆÂâçÔºå‰∏öÁïå‰πüÈÉΩÊúâÊØîËæÉÊµÅË°åÁöÑËß£ÂÜ≥ÊñπÊ°à„ÄÇ ÁºìÂ≠òÁ©øÈÄèÔºàÊü•‰∏çÂà∞Ôºâ Ê¶ÇÂøµ **„ÄêÊü•‰∏çÂà∞ÁöÑÊï∞ÊçÆÂéªÊü•Êï∞ÊçÆÂ∫ì„Äë**ÁºìÂ≠òÁ©øÈÄèÁöÑÊ¶ÇÂøµÂæàÁÆÄÂçïÔºåÁî®Êà∑ÊÉ≥Ë¶ÅÊü•ËØ¢‰∏Ä‰∏™Êï∞ÊçÆÔºåÂèëÁé∞redisÂÜÖÂ≠òÊï∞ÊçÆÂ∫ìÊ≤°ÊúâÔºå‰πüÂ∞±ÊòØÁºìÂ≠òÊ≤°ÊúâÂëΩ‰∏≠Ôºå‰∫éÊòØÂêëÊåÅ‰πÖÂ±ÇÊï∞ÊçÆÂ∫ìÊü•ËØ¢„ÄÇÂèëÁé∞‰πüÊ≤°ÊúâÔºå‰∫éÊòØÊú¨Ê¨°Êü•ËØ¢Â§±Ë¥•„ÄÇÂΩìÁî®Êà∑ÂæàÂ§öÁöÑÊó∂ÂÄôÔºåÁºìÂ≠òÈÉΩÊ≤°ÊúâÂëΩ‰∏≠ÔºàÁßíÊùÄÔºâÔºå‰∫éÊòØÈÉΩÂéªËØ∑Ê±Ç‰∫ÜÊåÅ‰πÖÂ±ÇÊï∞ÊçÆÂ∫ì„ÄÇËøô‰ºöÁªôÊåÅ‰πÖÂ±ÇÊï∞ÊçÆÂ∫ìÈÄ†ÊàêÂæàÂ§ßÁöÑÂéãÂäõÔºåËøôÊó∂ÂÄôÂ∞±Áõ∏ÂΩì‰∫éÂá∫Áé∞‰∫ÜÁºìÂ≠òÁ©øÈÄè„ÄÇ Ëß£ÂÜ≥ÊñπÊ°à Â∏ÉÈöÜËøáÊª§Âô® Â∏ÉÈöÜËøáÊª§Âô®ÊòØ‰∏ÄÁßçÊï∞ÊçÆÁªìÊûÑÔºåÂØπÊâÄÊúâÂèØËÉΩÊü•ËØ¢ÁöÑÂèÇÊï∞‰ª•hashÂΩ¢ÂºèÂ≠òÂÇ®ÔºåÂú®ÊéßÂà∂Â±ÇÂÖàËøõË°åÊ†°È™åÔºå‰∏çÁ¨¶ÂêàÂàô‰∏¢ÂºÉÔºå‰ªéËÄåÈÅøÂÖç‰∫ÜÂØπÂ∫ïÂ±ÇÂ≠òÂÇ®Á≥ªÁªüÁöÑÊü•ËØ¢ÂéãÂäõÔºõ ÁºìÂ≠òÁ©∫ÂØπË±° ÂΩìÂ≠òÂÇ®Â±Ç‰∏çÂëΩ‰∏≠ÂêéÔºåÂç≥‰ΩøËøîÂõûÁöÑÁ©∫ÂØπË±°‰πüÂ∞ÜÂÖ∂ÁºìÂ≠òËµ∑Êù•ÔºåÂêåÊó∂‰ºöËÆæÁΩÆ‰∏Ä‰∏™ËøáÊúüÊó∂Èó¥Ôºå‰πãÂêéÂÜçËÆøÈóÆËøô‰∏™Êï∞ ÊçÆÂ∞Ü‰ºö‰ªéÁºìÂ≠ò‰∏≠Ëé∑ÂèñÔºå‰øùÊä§‰∫ÜÂêéÁ´ØÊï∞ÊçÆÊ∫êÔºõ ‰ΩÜÊòØËøôÁßçÊñπÊ≥ï‰ºöÂ≠òÂú®‰∏§‰∏™ÈóÆÈ¢òÔºö 1„ÄÅÂ¶ÇÊûúÁ©∫ÂÄºËÉΩÂ§üË¢´ÁºìÂ≠òËµ∑Êù•ÔºåËøôÂ∞±ÊÑèÂë≥ÁùÄÁºìÂ≠òÈúÄË¶ÅÊõ¥Â§öÁöÑÁ©∫Èó¥Â≠òÂÇ®Êõ¥Â§öÁöÑÈîÆÔºåÂõ†‰∏∫ËøôÂΩì‰∏≠ÂèØËÉΩ‰ºöÊúâÂæàÂ§ö ÁöÑÁ©∫ÂÄºÁöÑÈîÆÔºõ 2„ÄÅÂç≥‰ΩøÂØπÁ©∫ÂÄºËÆæÁΩÆ‰∫ÜËøáÊúüÊó∂Èó¥ÔºåËøòÊòØ‰ºöÂ≠òÂú®ÁºìÂ≠òÂ±ÇÂíåÂ≠òÂÇ®Â±ÇÁöÑÊï∞ÊçÆ‰ºöÊúâ‰∏ÄÊÆµÊó∂Èó¥Á™óÂè£ÁöÑ‰∏ç‰∏ÄËá¥ÔºåËøôÂØπ‰∫éÈúÄË¶Å‰øùÊåÅ‰∏ÄËá¥ÊÄßÁöÑ‰∏öÂä°‰ºöÊúâÂΩ±Âìç„ÄÇ Ëß£ÂÜ≥Ôºö Êü•ËØ¢ÂâçÂÖàÂÅöËßÑÂàôÊ†°È™åÔºå‰∏çÂêàÊ≥ïÁöÑÊï∞ÊçÆÁõ¥Êé•Êã¶Êà™ËøîÂõû Êü•ËØ¢Êï∞ÊçÆÂ∫ìÊ≤°ÊúâÊï∞ÊçÆ‰πüÂÜô‰∏Ä‰∏™ NULL ÂÄºÂà∞ÁºìÂ≠òÈáåÈù¢Âπ∂ËÆæÁΩÆ‰∏Ä‰∏™ËøáÊúüÊó∂Èó¥(‰∏çË¶ÅË∂ÖËøá1ÂàÜÈíüÔºåÈÅøÂÖçÊ≠£Â∏∏ÊÉÖÂÜµ‰∏ã‰πü‰∏çËÉΩ‰ΩøÁî®)Ôºå‰∏ã‰∏ÄÊ¨°Êü•ËØ¢Âú®ÁºìÂ≠òÂ§±ÊïàÂâçÂ∞±ËÉΩÂëΩ‰∏≠ÁºìÂ≠òÁõ¥Êé•ËøîÂõû ‰ΩøÁî®Â∏ÉÈöÜËøáÊª§Âô®ÔºåÂà©Áî®È´òÊïàÁöÑÊï∞ÊçÆÁªìÊûÑÂíåÁÆóÊ≥ïÂø´ÈÄüÂà§Êñ≠Âá∫Ëøô‰∏™ Key ÊòØÂê¶Âú®Êï∞ÊçÆÂ∫ì‰∏≠Â≠òÂú®ÔºàÈúÄË¶ÅÊèêÂâçÂ∞ÜÊï∞ÊçÆÂ∫ìÊâÄÊúâÊï∞ÊçÆÊîæÂÖ•Âà∞Â∏ÉÈöÜËøáÊª§Âô®ÁöÑÈõÜÂêà‰∏äÔºå‰∏îÂ∏ÉÈöÜËøáÊª§Âô®ÊúÄÂ§ßÁº∫ÁÇπÂ∞±ÊòØÊó†Ê≥ïÂà†Èô§Êï∞ÊçÆ„ÄÇÊõøÊç¢ÊñπÊ°àÔºöÂ∏ÉË∞∑È∏üËøáÊª§Âô®Ôºâ ÁºìÂ≠òÂáªÁ©øÔºàÊü•Â¥©‰∫ÜÔºâ Ê¶ÇËø∞ **„ÄêËøáÈ¢ëÁπÅËÆøÈóÆÁÉ≠ÁÇπÊï∞ÊçÆ„Äë**ËøôÈáåÈúÄË¶ÅÊ≥®ÊÑèÂíåÁºìÂ≠òÂáªÁ©øÁöÑÂå∫Âà´ÔºåÁºìÂ≠òÂáªÁ©øÔºåÊòØÊåá‰∏Ä‰∏™keyÈùûÂ∏∏ÁÉ≠ÁÇπÔºåÂú®‰∏çÂÅúÁöÑÊâõÁùÄÂ§ßÂπ∂ÂèëÔºåÂ§ßÂπ∂ÂèëÈõÜ‰∏≠ ÂØπËøô‰∏Ä‰∏™ÁÇπËøõË°åËÆøÈóÆÔºåÂΩìËøô‰∏™keyÂú®Â§±ÊïàÁöÑÁû¨Èó¥ÔºåÊåÅÁª≠ÁöÑÂ§ßÂπ∂ÂèëÂ∞±Á©øÁ†¥ÁºìÂ≠òÔºåÁõ¥Êé•ËØ∑Ê±ÇÊï∞ÊçÆÂ∫ìÔºåÂ∞±ÂÉèÂú®‰∏Ä ‰∏™Â±èÈöú‰∏äÂáøÂºÄ‰∫Ü‰∏Ä‰∏™Ê¥û„ÄÇ ÂΩìÊüê‰∏™keyÂú®ËøáÊúüÁöÑÁû¨Èó¥ÔºåÊúâÂ§ßÈáèÁöÑËØ∑Ê±ÇÂπ∂ÂèëËÆøÈóÆÔºåËøôÁ±ªÊï∞ÊçÆ‰∏ÄËà¨ÊòØÁÉ≠ÁÇπÊï∞ÊçÆÔºåÁî±‰∫éÁºìÂ≠òËøáÊúüÔºå‰ºöÂêåÊó∂ËÆø ÈóÆÊï∞ÊçÆÂ∫ìÊù•Êü•ËØ¢ÊúÄÊñ∞Êï∞ÊçÆÔºåÂπ∂‰∏îÂõûÂÜôÁºìÂ≠òÔºå‰ºöÂØº‰ΩøÊï∞ÊçÆÂ∫ìÁû¨Èó¥ÂéãÂäõËøáÂ§ß„ÄÇ Ëß£ÂÜ≥ÊñπÊ°à ËÆæÁΩÆÁÉ≠ÁÇπÊï∞ÊçÆÊ∞∏‰∏çËøáÊúü ‰ªéÁºìÂ≠òÂ±ÇÈù¢Êù•ÁúãÔºåÊ≤°ÊúâËÆæÁΩÆËøáÊúüÊó∂Èó¥ÔºåÊâÄ‰ª•‰∏ç‰ºöÂá∫Áé∞ÁÉ≠ÁÇπ key ËøáÊúüÂêé‰∫ßÁîüÁöÑÈóÆÈ¢ò„ÄÇ Âä†‰∫íÊñ•ÈîÅ ÂàÜÂ∏ÉÂºèÈîÅÔºö‰ΩøÁî®ÂàÜÂ∏ÉÂºèÈîÅÔºå‰øùËØÅÂØπ‰∫éÊØè‰∏™keyÂêåÊó∂Âè™Êúâ‰∏Ä‰∏™Á∫øÁ®ãÂéªÊü•ËØ¢ÂêéÁ´ØÊúçÂä°ÔºåÂÖ∂‰ªñÁ∫øÁ®ãÊ≤°ÊúâËé∑ÂæóÂàÜÂ∏ÉÂºèÈîÅÁöÑÊùÉÈôêÔºåÂõ†Ê≠§Âè™ÈúÄË¶ÅÁ≠âÂæÖÂç≥ÂèØ„ÄÇËøôÁßçÊñπÂºèÂ∞ÜÈ´òÂπ∂ÂèëÁöÑÂéãÂäõËΩ¨ÁßªÂà∞‰∫ÜÂàÜÂ∏ÉÂºèÈîÅÔºåÂõ†Ê≠§ÂØπÂàÜÂ∏ÉÂºèÈîÅÁöÑËÄÉÈ™åÂæàÂ§ß„ÄÇ Ëß£ÂÜ≥Ôºö ÁÉ≠ÁÇπÊï∞ÊçÆÂèØ‰ª•ËÆæÁΩÆÊ∞∏‰∏çËøáÊúü Â¢ûÂä†ÂàÜÂ∏ÉÂºèÈîÅÔºåÁ≠âÂæÖÊä¢Âà∞ÈîÅÁöÑËØ∑Ê±ÇÊûÑÂª∫ÂÆåÁºìÂ≠òÂêéÂÜçÈáäÊîæÈîÅ„ÄÇÂÖ∂‰ªñÊú™Êä¢Âà∞ÈîÅÁöÑËØ∑Ê±ÇËøõË°åÈòªÂ°ûÁ≠âÂæÖÔºåË¢´Âî§ÈÜíÂêéÈáçÊñ∞ËØ∑Ê±ÇÁºìÂ≠òËé∑ÂèñÊï∞ÊçÆ ÁºìÂ≠òÈõ™Â¥©Ôºà‰∏ÄÁâáËπ¶Ôºâ Ê¶ÇÂøµ **„ÄêÂ§ßÈáèÂ§±Êïà„Äë**ÁºìÂ≠òÈõ™Â¥©ÔºåÊòØÊåáÂú®Êüê‰∏Ä‰∏™Êó∂Èó¥ÊÆµÔºåÁºìÂ≠òÈõÜ‰∏≠ËøáÊúüÂ§±Êïà„ÄÇRedis ÂÆïÊú∫ÔºÅ ‰∫ßÁîüÈõ™Â¥©ÁöÑÂéüÂõ†‰πã‰∏ÄÔºåÊØîÂ¶ÇÂú®ÂÜôÊú¨ÊñáÁöÑÊó∂ÂÄôÔºåÈ©¨‰∏äÂ∞±Ë¶ÅÂà∞ÂèåÂçÅ‰∫åÈõ∂ÁÇπÔºåÂæàÂø´Â∞±‰ºöËøéÊù•‰∏ÄÊ≥¢Êä¢Ë¥≠ÔºåËøôÊ≥¢ÂïÜÂìÅÊó∂Èó¥ÊØîËæÉÈõÜ‰∏≠ÁöÑÊîæÂÖ•‰∫ÜÁºìÂ≠òÔºåÂÅáËÆæÁºìÂ≠ò‰∏Ä‰∏™Â∞èÊó∂„ÄÇÈÇ£‰πàÂà∞‰∫ÜÂáåÊô®‰∏ÄÁÇπÈíüÁöÑÊó∂ÂÄôÔºåËøôÊâπÂïÜÂìÅÁöÑÁºìÂ≠òÂ∞±ÈÉΩËøáÊúü‰∫Ü„ÄÇËÄåÂØπËøôÊâπÂïÜÂìÅÁöÑËÆøÈóÆÊü•ËØ¢ÔºåÈÉΩËêΩÂà∞‰∫ÜÊï∞ÊçÆÂ∫ì‰∏äÔºåÂØπ‰∫éÊï∞ÊçÆÂ∫ìËÄåË®ÄÔºåÂ∞±‰ºö‰∫ßÁîüÂë®ÊúüÊÄßÁöÑÂéãÂäõÊ≥¢Â≥∞„ÄÇ‰∫éÊòØÊâÄÊúâÁöÑËØ∑Ê±ÇÈÉΩ‰ºöËææÂà∞Â≠òÂÇ®Â±ÇÔºåÂ≠òÂÇ®Â±ÇÁöÑË∞ÉÁî®Èáè‰ºöÊö¥Â¢ûÔºåÈÄ†ÊàêÂ≠òÂÇ®Â±Ç‰πü‰ºöÊåÇÊéâÁöÑÊÉÖÂÜµ„ÄÇ ÂÖ∂ÂÆûÈõÜ‰∏≠ËøáÊúüÔºåÂÄí‰∏çÊòØÈùûÂ∏∏Ëá¥ÂëΩÔºåÊØîËæÉËá¥ÂëΩÁöÑÁºìÂ≠òÈõ™Â¥©ÔºåÊòØÁºìÂ≠òÊúçÂä°Âô®Êüê‰∏™ËäÇÁÇπÂÆïÊú∫ÊàñÊñ≠ÁΩë„ÄÇÂõ†‰∏∫Ëá™ÁÑ∂ ÂΩ¢ÊàêÁöÑÁºìÂ≠òÈõ™Â¥©Ôºå‰∏ÄÂÆöÊòØÂú®Êüê‰∏™Êó∂Èó¥ÊÆµÈõÜ‰∏≠ÂàõÂª∫ÁºìÂ≠òÔºåËøô‰∏™Êó∂ÂÄôÔºåÊï∞ÊçÆÂ∫ì‰πüÊòØÂèØ‰ª•È°∂‰ΩèÂéãÂäõÁöÑ„ÄÇÊó†ÈùûÂ∞± ÊòØÂØπÊï∞ÊçÆÂ∫ì‰∫ßÁîüÂë®ÊúüÊÄßÁöÑÂéãÂäõËÄåÂ∑≤„ÄÇËÄåÁºìÂ≠òÊúçÂä°ËäÇÁÇπÁöÑÂÆïÊú∫ÔºåÂØπÊï∞ÊçÆÂ∫ìÊúçÂä°Âô®ÈÄ†ÊàêÁöÑÂéãÂäõÊòØ‰∏çÂèØÈ¢ÑÁü• ÁöÑÔºåÂæàÊúâÂèØËÉΩÁû¨Èó¥Â∞±ÊääÊï∞ÊçÆÂ∫ìÂéãÂûÆ„ÄÇ Ëß£ÂÜ≥ÊñπÊ°à redisÈ´òÂèØÁî® Ëøô‰∏™ÊÄùÊÉ≥ÁöÑÂê´‰πâÊòØÔºåÊó¢ÁÑ∂redisÊúâÂèØËÉΩÊåÇÊéâÔºåÈÇ£ÊàëÂ§öÂ¢ûËÆæÂá†Âè∞redisÔºåËøôÊ†∑‰∏ÄÂè∞ÊåÇÊéâ‰πãÂêéÂÖ∂‰ªñÁöÑËøòÂèØ‰ª•ÁªßÁª≠ Â∑•‰ΩúÔºåÂÖ∂ÂÆûÂ∞±ÊòØÊê≠Âª∫ÁöÑÈõÜÁæ§„ÄÇÔºàÂºÇÂú∞Â§öÊ¥ªÔºÅÔºâ ÈôêÊµÅÈôçÁ∫ßÔºàÂú®SpringCloudËÆ≤Ëß£ËøáÔºÅÔºâ Ëøô‰∏™Ëß£ÂÜ≥ÊñπÊ°àÁöÑÊÄùÊÉ≥ÊòØÔºåÂú®ÁºìÂ≠òÂ§±ÊïàÂêéÔºåÈÄöËøáÂä†ÈîÅÊàñËÄÖÈòüÂàóÊù•ÊéßÂà∂ËØªÊï∞ÊçÆÂ∫ìÂÜôÁºìÂ≠òÁöÑÁ∫øÁ®ãÊï∞Èáè„ÄÇÊØîÂ¶ÇÂØπ Êüê‰∏™keyÂè™ÂÖÅËÆ∏‰∏Ä‰∏™Á∫øÁ®ãÊü•ËØ¢Êï∞ÊçÆÂíåÂÜôÁºìÂ≠òÔºåÂÖ∂‰ªñÁ∫øÁ®ãÁ≠âÂæÖ„ÄÇ Êï∞ÊçÆÈ¢ÑÁÉ≠ Êï∞ÊçÆÂä†ÁÉ≠ÁöÑÂê´‰πâÂ∞±ÊòØÂú®Ê≠£ÂºèÈÉ®ÁΩ≤‰πãÂâçÔºåÊàëÂÖàÊääÂèØËÉΩÁöÑÊï∞ÊçÆÂÖàÈ¢ÑÂÖàËÆøÈóÆ‰∏ÄÈÅçÔºåËøôÊ†∑ÈÉ®ÂàÜÂèØËÉΩÂ§ßÈáèËÆøÈóÆÁöÑÊï∞ ÊçÆÂ∞±‰ºöÂä†ËΩΩÂà∞ÁºìÂ≠ò‰∏≠„ÄÇÂú®Âç≥Â∞ÜÂèëÁîüÂ§ßÂπ∂ÂèëËÆøÈóÆÂâçÊâãÂä®Ëß¶ÂèëÂä†ËΩΩÁºìÂ≠ò‰∏çÂêåÁöÑkeyÔºåËÆæÁΩÆ‰∏çÂêåÁöÑËøáÊúüÊó∂Èó¥ÔºåËÆ© ÁºìÂ≠òÂ§±ÊïàÁöÑÊó∂Èó¥ÁÇπÂ∞ΩÈáèÂùáÂåÄ„ÄÇ Ëß£ÂÜ≥Ôºö ËÆæÁΩÆÈöèÊú∫ËøáÊúüÊó∂Èó¥ÔºåÈÅøÂÖçÂêå‰∏ÄÊó∂Èó¥Â§ßÈù¢ÁßØÂ§±Êïà Â¶ÇÊûúÊòØÈõÜÁæ§ÈÉ®ÁΩ≤ÔºåÂ∞ÜÁÉ≠ÁÇπÊï∞ÊçÆÂùáÂåÄÂàÜÂ∏ÉÂú®‰∏çÂêåÁöÑ Redis Â∫ì‰∏äÈÅøÂÖçÂÖ®ÈÉ®Â§±Êïà ËÆæÁΩÆÁÉ≠ÁÇπÊï∞ÊçÆÊ∞∏‰∏çËøáÊúüÔºåÊúâÊõ¥Êñ∞ÁºìÂ≠ò ÂØπÊ∫êÊúçÂä°ËÆøÈóÆËøõË°åÈôêÊµÅ„ÄÅËµÑÊ∫êÈöîÁ¶ªÔºàÁÜîÊñ≠Ôºâ„ÄÅÈôçÁ∫ßÁ≠â Â¶ÇÊûúÊòØÊó∂ÁÇπÊï∞ÊçÆÔºåÂèØ‰ª•ËøõË°åÈ¢ÑÂä†ËΩΩ„ÄÇÁ≠âÊó∂ÁÇπËææÂà∞ÂêéÔºåËøõË°åÂàáÊç¢ RedisÊåÅ‰πÖÂåñ Èù¢ËØïÂíåÂ∑•‰ΩúÔºåÊåÅ‰πÖÂåñÈÉΩÊòØÈáçÁÇπÔºÅ Redis ÊòØÂÜÖÂ≠òÊï∞ÊçÆÂ∫ìÔºåÂ¶ÇÊûú‰∏çÂ∞ÜÂÜÖÂ≠ò‰∏≠ÁöÑÊï∞ÊçÆÂ∫ìÁä∂ÊÄÅ‰øùÂ≠òÂà∞Á£ÅÁõòÔºåÈÇ£‰πà‰∏ÄÊó¶ÊúçÂä°Âô®ËøõÁ®ãÈÄÄÂá∫ÔºåÊúçÂä°Âô®‰∏≠ ÁöÑÊï∞ÊçÆÂ∫ìÁä∂ÊÄÅ‰πü‰ºöÊ∂àÂ§±„ÄÇÊâÄ‰ª• Redis Êèê‰æõ‰∫ÜÊåÅ‰πÖÂåñÂäüËÉΩÔºÅ RDB**ÔºàRedis DataBaseÔºâ** ‰ªÄ‰πàÊòØRDB ÔºöÂú®‰∏ª‰ªéÂ§çÂà∂‰∏≠ÔºårdbÂ∞±ÊòØÂ§áÁî®‰∫ÜÔºÅ‰ªéÊú∫‰∏äÈù¢ÔºÅ Âú®ÊåáÂÆöÁöÑÊó∂Èó¥Èó¥ÈöîÂÜÖÂ∞ÜÂÜÖÂ≠ò‰∏≠ÁöÑÊï∞ÊçÆÈõÜÂø´ÁÖßÂÜôÂÖ•Á£ÅÁõòÔºå‰πüÂ∞±ÊòØË°åËØùËÆ≤ÁöÑSnapshotÂø´ÁÖßÔºåÂÆÉÊÅ¢Â§çÊó∂ÊòØÂ∞ÜÂø´ÁÖßÊñá‰ª∂Áõ¥Êé•ËØªÂà∞ÂÜÖÂ≠òÈáå„ÄÇ Redis‰ºöÂçïÁã¨ÂàõÂª∫ÔºàforkÔºâ‰∏Ä‰∏™Â≠êËøõÁ®ãÊù•ËøõË°åÊåÅ‰πÖÂåñÔºå‰ºöÂÖàÂ∞ÜÊï∞ÊçÆÂÜôÂÖ•Âà∞‰∏Ä‰∏™‰∏¥Êó∂Êñá‰ª∂‰∏≠ÔºåÂæÖÊåÅ‰πÖÂåñËøáÁ®ã ÈÉΩÁªìÊùü‰∫ÜÔºåÂÜçÁî®Ëøô‰∏™‰∏¥Êó∂Êñá‰ª∂ÊõøÊç¢‰∏äÊ¨°ÊåÅ‰πÖÂåñÂ•ΩÁöÑÊñá‰ª∂„ÄÇÊï¥‰∏™ËøáÁ®ã‰∏≠Ôºå‰∏ªËøõÁ®ãÊòØ‰∏çËøõË°å‰ªª‰ΩïIOÊìç‰ΩúÁöÑ„ÄÇ ËøôÂ∞±Á°Æ‰øù‰∫ÜÊûÅÈ´òÁöÑÊÄßËÉΩ„ÄÇÂ¶ÇÊûúÈúÄË¶ÅËøõË°åÂ§ßËßÑÊ®°Êï∞ÊçÆÁöÑÊÅ¢Â§çÔºå‰∏îÂØπ‰∫éÊï∞ÊçÆÊÅ¢Â§çÁöÑÂÆåÊï¥ÊÄß‰∏çÊòØÈùûÂ∏∏ÊïèÊÑüÔºåÈÇ£ RDBÊñπÂºèË¶ÅÊØîAOFÊñπÂºèÊõ¥Âä†ÁöÑÈ´òÊïà„ÄÇRDBÁöÑÁº∫ÁÇπÊòØÊúÄÂêé‰∏ÄÊ¨°ÊåÅ‰πÖÂåñÂêéÁöÑÊï∞ÊçÆÂèØËÉΩ‰∏¢Â§±„ÄÇÊàë‰ª¨ÈªòËÆ§ÁöÑÂ∞±ÊòØ RDBÔºå‰∏ÄËà¨ÊÉÖÂÜµ‰∏ã‰∏çÈúÄË¶Å‰øÆÊîπËøô‰∏™ÈÖçÁΩÆÔºÅ ÊúâÊó∂ÂÄôÂú®Áîü‰∫ßÁéØÂ¢ÉÊàë‰ª¨‰ºöÂ∞ÜËøô‰∏™Êñá‰ª∂ËøõË°åÂ§á‰ªΩÔºÅ rdb‰øùÂ≠òÁöÑÊñá‰ª∂ÊòØdump.rdb ÈÉΩÊòØÂú®Êàë‰ª¨ÁöÑÈÖçÁΩÆÊñá‰ª∂‰∏≠Âø´ÁÖß‰∏≠ËøõË°åÈÖçÁΩÆÁöÑÔºÅ Ëß¶ÂèëÊú∫Âà∂ 1„ÄÅsaveÁöÑËßÑÂàôÊª°Ë∂≥ÁöÑÊÉÖÂÜµ‰∏ãÔºå‰ºöËá™Âä®Ëß¶ÂèërdbËßÑÂàô 2„ÄÅÊâßË°å flushall ÂëΩ‰ª§Ôºå‰πü‰ºöËß¶ÂèëÊàë‰ª¨ÁöÑrdbËßÑÂàôÔºÅ 3„ÄÅÈÄÄÂá∫redisÔºå‰πü‰ºö‰∫ßÁîü rdb Êñá‰ª∂ÔºÅ Â§á‰ªΩÂ∞±Ëá™Âä®ÁîüÊàê‰∏Ä‰∏™ dump.rdb Â¶Ç‰ΩïÊÅ¢Â§çrdbÊñá‰ª∂ 1„ÄÅÂè™ÈúÄË¶ÅÂ∞ÜrdbÊñá‰ª∂ÊîæÂú®Êàë‰ª¨redisÂêØÂä®ÁõÆÂΩïÂ∞±ÂèØ‰ª•ÔºåredisÂêØÂä®ÁöÑÊó∂ÂÄô‰ºöËá™Âä®Ê£ÄÊü•dump.rdb ÊÅ¢Â§çÂÖ∂‰∏≠ ÁöÑÊï∞ÊçÆÔºÅ 2„ÄÅÊü•ÁúãÈúÄË¶ÅÂ≠òÂú®ÁöÑ‰ΩçÁΩÆ Âá†‰πéÂ∞±‰ªñËá™Â∑±ÈªòËÆ§ÁöÑÈÖçÁΩÆÂ∞±Â§üÁî®‰∫ÜÔºå‰ΩÜÊòØÊàë‰ª¨ËøòÊòØÈúÄË¶ÅÂéªÂ≠¶‰π†ÔºÅ RDB‰ºòÁÇπÔºö 1„ÄÅÈÄÇÂêàÂ§ßËßÑÊ®°ÁöÑÊï∞ÊçÆÊÅ¢Â§çÔºÅ 2„ÄÅÂØπÊï∞ÊçÆÁöÑÂÆåÊï¥ÊÄßË¶Å‰∏çÈ´òÔºÅ RDBÁº∫ÁÇπÔºö 1„ÄÅÈúÄË¶Å‰∏ÄÂÆöÁöÑÊó∂Èó¥Èó¥ÈöîËøõÁ®ãÊìç‰ΩúÔºÅÂ¶ÇÊûúredisÊÑèÂ§ñÂÆïÊú∫‰∫ÜÔºåËøô‰∏™ÊúÄÂêé‰∏ÄÊ¨°‰øÆÊîπÊï∞ÊçÆÂ∞±Ê≤°ÊúâÁöÑ‰∫ÜÔºÅ 2„ÄÅforkËøõÁ®ãÁöÑÊó∂ÂÄôÔºå‰ºöÂç†Áî®‰∏ÄÂÆöÁöÑÂÜÖÂÆπÁ©∫Èó¥ÔºÅÔºÅ AOF**ÔºàAppend Only FileÔºâ** Â∞ÜÊàë‰ª¨ÁöÑÊâÄÊúâÂëΩ‰ª§ÈÉΩËÆ∞ÂΩï‰∏ãÊù•ÔºåhistoryÔºåÊÅ¢Â§çÁöÑÊó∂ÂÄôÂ∞±ÊääËøô‰∏™Êñá‰ª∂ÂÖ®ÈÉ®Âú®ÊâßË°å‰∏ÄÈÅçÔºÅ ÊòØ‰ªÄ‰πà 127.0.0.1:6379&gt; config get dir 1) &quot;dir&quot; 2) &quot;/usr/local/bin&quot; # Â¶ÇÊûúÂú®Ëøô‰∏™ÁõÆÂΩï‰∏ãÂ≠òÂú® dump.rdb Êñá‰ª∂ÔºåÂêØÂä®Â∞±‰ºöËá™Âä®ÊÅ¢Â§çÂÖ∂‰∏≠ÁöÑÊï∞ÊçÆ ‰ª•Êó•ÂøóÁöÑÂΩ¢ÂºèÊù•ËÆ∞ÂΩïÊØè‰∏™ÂÜôÊìç‰ΩúÔºåÂ∞ÜRedisÊâßË°åËøáÁöÑÊâÄÊúâÊåá‰ª§ËÆ∞ÂΩï‰∏ãÊù•ÔºàËØªÊìç‰Ωú‰∏çËÆ∞ÂΩïÔºâÔºåÂè™ËÆ∏ËøΩÂä†Êñá‰ª∂ ‰ΩÜ‰∏çÂèØ‰ª•ÊîπÂÜôÊñá‰ª∂ÔºåredisÂêØÂä®‰πãÂàù‰ºöËØªÂèñËØ•Êñá‰ª∂ÈáçÊñ∞ÊûÑÂª∫Êï∞ÊçÆÔºåÊç¢Ë®Ä‰πãÔºåredisÈáçÂêØÁöÑËØùÂ∞±Ê†πÊçÆÊó•ÂøóÊñá‰ª∂ ÁöÑÂÜÖÂÆπÂ∞ÜÂÜôÊåá‰ª§‰ªéÂâçÂà∞ÂêéÊâßË°å‰∏ÄÊ¨°‰ª•ÂÆåÊàêÊï∞ÊçÆÁöÑÊÅ¢Â§çÂ∑•‰Ωú Aof‰øùÂ≠òÁöÑÊòØ appendonly.aof Êñá‰ª∂ ÈªòËÆ§ÊòØ‰∏çÂºÄÂêØÁöÑÔºåÊàë‰ª¨ÈúÄË¶ÅÊâãÂä®ËøõË°åÈÖçÁΩÆÔºÅÊàë‰ª¨Âè™ÈúÄË¶ÅÂ∞Ü appendonly Êîπ‰∏∫yesÂ∞±ÂºÄÂêØ‰∫Ü aofÔºÅ ÂÜçÈáçÂêØredis Â∞±ÂèØ‰ª•ÁîüÊïà‰∫ÜÔºÅ Â¶ÇÊûúËøô‰∏™ aof Êñá‰ª∂ÊúâÈîô‰ΩçÔºåËøôÊó∂ÂÄô redis ÊòØÂêØÂä®‰∏çËµ∑Êù•ÁöÑÂêóÔºåÊàë‰ª¨ÈúÄË¶Å‰øÆÂ§çËøô‰∏™aofÊñá‰ª∂ redis ÁªôÊàë‰ª¨Êèê‰æõ‰∫Ü‰∏Ä‰∏™Â∑•ÂÖ∑ redis-check-aof --fix aof ÈªòËÆ§Â∞±ÊòØÊñá‰ª∂ÁöÑÊó†ÈôêËøΩÂä†ÔºåÊñá‰ª∂‰ºöË∂äÊù•Ë∂äÂ§ßÔºÅ Â¶ÇÊûú aof Êñá‰ª∂Â§ß‰∫é 64mÔºåÂ§™Â§ß‰∫ÜÔºÅ fork‰∏Ä‰∏™Êñ∞ÁöÑËøõÁ®ãÊù•Â∞ÜÊàë‰ª¨ÁöÑÊñá‰ª∂ËøõË°åÈáçÂÜôÔºÅ ‰ºòÁÇπÂíåÁº∫ÁÇπÔºÅ 123456appendonly no # ÈªòËÆ§ÊòØ‰∏çÂºÄÂêØaofÊ®°ÂºèÁöÑÔºåÈªòËÆ§ÊòØ‰ΩøÁî®rdbÊñπÂºèÊåÅ‰πÖÂåñÁöÑÔºåÂú®Â§ßÈÉ®ÂàÜÊâÄÊúâÁöÑÊÉÖÂÜµ‰∏ãÔºårdbÂÆåÂÖ®Â§üÁî®ÔºÅappendfilename &quot;appendonly.aof&quot; # ÊåÅ‰πÖÂåñÁöÑÊñá‰ª∂ÁöÑÂêçÂ≠ó# appendfsync always # ÊØèÊ¨°‰øÆÊîπÈÉΩ‰ºö sync„ÄÇÊ∂àËÄóÊÄßËÉΩappendfsync everysec # ÊØèÁßíÊâßË°å‰∏ÄÊ¨° syncÔºåÂèØËÉΩ‰ºö‰∏¢Â§±Ëøô1sÁöÑÊï∞ÊçÆÔºÅ# appendfsync no # ‰∏çÊâßË°å syncÔºåËøô‰∏™Êó∂ÂÄôÊìç‰ΩúÁ≥ªÁªüËá™Â∑±ÂêåÊ≠•Êï∞ÊçÆÔºåÈÄüÂ∫¶ÊúÄÂø´ÔºÅ# rewrite ÈáçÂÜôÔºå AOF‰ºòÁÇπÔºö 1„ÄÅÊØè‰∏ÄÊ¨°‰øÆÊîπÈÉΩÂêåÊ≠•ÔºåÊñá‰ª∂ÁöÑÂÆåÊï¥‰ºöÊõ¥Âä†Â•ΩÔºÅ 2„ÄÅÊØèÁßíÂêåÊ≠•‰∏ÄÊ¨°ÔºåÂèØËÉΩ‰ºö‰∏¢Â§±‰∏ÄÁßíÁöÑÊï∞ÊçÆ 3„ÄÅ‰ªé‰∏çÂêåÊ≠•ÔºåÊïàÁéáÊúÄÈ´òÁöÑÔºÅ AOFÁº∫ÁÇπÔºö 1„ÄÅÁõ∏ÂØπ‰∫éÊï∞ÊçÆÊñá‰ª∂Êù•ËØ¥ÔºåaofËøúËøúÂ§ß‰∫é rdbÔºå‰øÆÂ§çÁöÑÈÄüÂ∫¶‰πüÊØî rdbÊÖ¢ÔºÅ 2„ÄÅAof ËøêË°åÊïàÁéá‰πüË¶ÅÊØî rdb ÊÖ¢ÔºåÊâÄ‰ª•Êàë‰ª¨redisÈªòËÆ§ÁöÑÈÖçÁΩÆÂ∞±ÊòØrdbÊåÅ‰πÖÂåñÔºÅ Êâ©Â±ïÔºö 1„ÄÅRDB ÊåÅ‰πÖÂåñÊñπÂºèËÉΩÂ§üÂú®ÊåáÂÆöÁöÑÊó∂Èó¥Èó¥ÈöîÂÜÖÂØπ‰Ω†ÁöÑÊï∞ÊçÆËøõË°åÂø´ÁÖßÂ≠òÂÇ® 2„ÄÅAOF ÊåÅ‰πÖÂåñÊñπÂºèËÆ∞ÂΩïÊØèÊ¨°ÂØπÊúçÂä°Âô®ÂÜôÁöÑÊìç‰ΩúÔºåÂΩìÊúçÂä°Âô®ÈáçÂêØÁöÑÊó∂ÂÄô‰ºöÈáçÊñ∞ÊâßË°åËøô‰∫õÂëΩ‰ª§Êù•ÊÅ¢Â§çÂéüÂßã ÁöÑÊï∞ÊçÆÔºåAOFÂëΩ‰ª§‰ª•Redis ÂçèËÆÆËøΩÂä†‰øùÂ≠òÊØèÊ¨°ÂÜôÁöÑÊìç‰ΩúÂà∞Êñá‰ª∂Êú´Â∞æÔºåRedisËøòËÉΩÂØπAOFÊñá‰ª∂ËøõË°åÂêéÂè∞ÈáçÂÜôÔºå‰ΩøÂæóAOFÊñá‰ª∂ÁöÑ‰ΩìÁßØ‰∏çËá≥‰∫éËøáÂ§ß„ÄÇ 3„ÄÅÂè™ÂÅöÁºìÂ≠òÔºåÂ¶ÇÊûú‰Ω†Âè™Â∏åÊúõ‰Ω†ÁöÑÊï∞ÊçÆÂú®ÊúçÂä°Âô®ËøêË°åÁöÑÊó∂ÂÄôÂ≠òÂú®Ôºå‰Ω†‰πüÂèØ‰ª•‰∏ç‰ΩøÁî®‰ªª‰ΩïÊåÅ‰πÖÂåñ 4„ÄÅÂêåÊó∂ÂºÄÂêØ‰∏§ÁßçÊåÅ‰πÖÂåñÊñπÂºè Âú®ËøôÁßçÊÉÖÂÜµ‰∏ãÔºåÂΩìredisÈáçÂêØÁöÑÊó∂ÂÄô‰ºö‰ºòÂÖàËΩΩÂÖ•AOFÊñá‰ª∂Êù•ÊÅ¢Â§çÂéüÂßãÁöÑÊï∞ÊçÆÔºåÂõ†‰∏∫Âú®ÈÄöÂ∏∏ÊÉÖÂÜµ‰∏ãAOF Êñá‰ª∂‰øùÂ≠òÁöÑÊï∞ÊçÆÈõÜË¶ÅÊØîRDBÊñá‰ª∂‰øùÂ≠òÁöÑÊï∞ÊçÆÈõÜË¶ÅÂÆåÊï¥„ÄÇ RDB ÁöÑÊï∞ÊçÆ‰∏çÂÆûÊó∂ÔºåÂêåÊó∂‰ΩøÁî®‰∏§ËÄÖÊó∂ÊúçÂä°Âô®ÈáçÂêØ‰πüÂè™‰ºöÊâæAOFÊñá‰ª∂ÔºåÈÇ£Ë¶Å‰∏çË¶ÅÂè™‰ΩøÁî®AOFÂë¢Ôºü‰ΩúËÄÖ Âª∫ËÆÆ‰∏çË¶ÅÔºåÂõ†‰∏∫RDBÊõ¥ÈÄÇÂêàÁî®‰∫éÂ§á‰ªΩÊï∞ÊçÆÂ∫ìÔºàAOFÂú®‰∏çÊñ≠ÂèòÂåñ‰∏çÂ•ΩÂ§á‰ªΩÔºâÔºåÂø´ÈÄüÈáçÂêØÔºåËÄå‰∏î‰∏ç‰ºöÊúâ AOFÂèØËÉΩÊΩúÂú®ÁöÑBugÔºåÁïôÁùÄ‰Ωú‰∏∫‰∏Ä‰∏™‰∏á‰∏ÄÁöÑÊâãÊÆµ„ÄÇ 5„ÄÅÊÄßËÉΩÂª∫ËÆÆ Âõ†‰∏∫RDBÊñá‰ª∂Âè™Áî®‰ΩúÂêéÂ§áÁî®ÈÄîÔºåÂª∫ËÆÆÂè™Âú®Slave‰∏äÊåÅ‰πÖÂåñRDBÊñá‰ª∂ÔºåËÄå‰∏îÂè™Ë¶Å15ÂàÜÈíüÂ§á‰ªΩ‰∏ÄÊ¨°Â∞±Â§ü ‰∫ÜÔºåÂè™‰øùÁïô save 900 1 ËøôÊù°ËßÑÂàô„ÄÇ Â¶ÇÊûúEnable AOF ÔºåÂ•ΩÂ§ÑÊòØÂú®ÊúÄÊÅ∂Âä£ÊÉÖÂÜµ‰∏ã‰πüÂè™‰ºö‰∏¢Â§±‰∏çË∂ÖËøá‰∏§ÁßíÊï∞ÊçÆÔºåÂêØÂä®ËÑöÊú¨ËæÉÁÆÄÂçïÂè™loadËá™ Â∑±ÁöÑAOFÊñá‰ª∂Â∞±ÂèØ‰ª•‰∫ÜÔºå‰ª£‰ª∑‰∏ÄÊòØÂ∏¶Êù•‰∫ÜÊåÅÁª≠ÁöÑIOÔºå‰∫åÊòØAOF rewrite ÁöÑÊúÄÂêéÂ∞Ü rewrite ËøáÁ®ã‰∏≠‰∫ß ÁîüÁöÑÊñ∞Êï∞ÊçÆÂÜôÂà∞Êñ∞Êñá‰ª∂ÈÄ†ÊàêÁöÑÈòªÂ°ûÂá†‰πéÊòØ‰∏çÂèØÈÅøÂÖçÁöÑ„ÄÇÂè™Ë¶ÅÁ°¨ÁõòËÆ∏ÂèØÔºåÂ∫îËØ•Â∞ΩÈáèÂáèÂ∞ëAOF rewrite ÁöÑÈ¢ëÁéáÔºåAOFÈáçÂÜôÁöÑÂü∫Á°ÄÂ§ßÂ∞èÈªòËÆ§ÂÄº64MÂ§™Â∞è‰∫ÜÔºåÂèØ‰ª•ËÆæÂà∞5G‰ª•‰∏äÔºåÈªòËÆ§Ë∂ÖËøáÂéüÂ§ßÂ∞è100%Â§ßÂ∞èÈáç ÂÜôÂèØ‰ª•ÊîπÂà∞ÈÄÇÂΩìÁöÑÊï∞ÂÄº„ÄÇ Â¶ÇÊûú‰∏çEnable AOF Ôºå‰ªÖÈù† Master-Slave Repllcation ÂÆûÁé∞È´òÂèØÁî®ÊÄß‰πüÂèØ‰ª•ÔºåËÉΩÁúÅÊéâ‰∏ÄÂ§ßÁ¨îIOÔºå‰πüÂáèÂ∞ë‰∫ÜrewriteÊó∂Â∏¶Êù•ÁöÑÁ≥ªÁªüÊ≥¢Âä®„ÄÇ‰ª£‰ª∑ÊòØÂ¶ÇÊûúMaster/Slave ÂêåÊó∂ÂÄíÊéâÔºå‰ºö‰∏¢Â§±ÂçÅÂá†ÂàÜÈíüÁöÑÊï∞ÊçÆÔºå ÂêØÂä®ËÑöÊú¨‰πüË¶ÅÊØîËæÉ‰∏§‰∏™ Master/Slave ‰∏≠ÁöÑ RDBÊñá‰ª∂ÔºåËΩΩÂÖ•ËæÉÊñ∞ÁöÑÈÇ£‰∏™ÔºåÂæÆÂçöÂ∞±ÊòØËøôÁßçÊû∂ÊûÑ„ÄÇ ÂëΩ‰ª§ 1234567891011121314151617181920ÊµãËØïËÆ¢ÈòÖÁ´ØÔºö127.0.0.1:6379&gt; SUBSCRIBE xiaobaishuo # ËÆ¢ÈòÖ‰∏Ä‰∏™È¢ëÈÅì xiaobaishuoReading messages... (press Ctrl-C to quit)1) &quot;subscribe&quot;2) &quot;xiaobaishuo&quot;3) (integer) 1# Á≠âÂæÖËØªÂèñÊé®ÈÄÅÁöÑ‰ø°ÊÅØ1) &quot;message&quot; # Ê∂àÊÅØ2) &quot;xiaobaishuo&quot; # ÈÇ£‰∏™È¢ëÈÅìÁöÑÊ∂àÊÅØ3) &quot;hello,xiaobai&quot; # Ê∂àÊÅØÁöÑÂÖ∑‰ΩìÂÜÖÂÆπ1) &quot;message&quot;2) &quot;xiaobaishuo&quot;3) &quot;hello,redis&quot;ÂèëÈÄÅÁ´ØÔºö127.0.0.1:6379&gt; PUBLISH xiaobaishuo &quot;hello,xiaobai&quot; # ÂèëÂ∏ÉËÄÖÂèëÂ∏ÉÊ∂àÊÅØÂà∞È¢ëÈÅìÔºÅ(integer) 1127.0.0.1:6379&gt; PUBLISH xiaobaishuo &quot;hello,redis&quot; # ÂèëÂ∏ÉËÄÖÂèëÂ∏ÉÊ∂àÊÅØÂà∞È¢ëÈÅìÔºÅ(integer) 1127.0.0.1:6379&gt; ÂéüÁêÜ RedisÊòØ‰ΩøÁî®CÂÆûÁé∞ÁöÑÔºåÈÄöËøáÂàÜÊûê Redis Ê∫êÁ†ÅÈáåÁöÑ pubsub.c Êñá‰ª∂Ôºå‰∫ÜËß£ÂèëÂ∏ÉÂíåËÆ¢ÈòÖÊú∫Âà∂ÁöÑÂ∫ïÂ±ÇÂÆûÁé∞ÔºåÂÄüÊ≠§Âä†Ê∑±ÂØπ Redis ÁöÑÁêÜËß£„ÄÇ Redis ÈÄöËøá PUBLISH „ÄÅSUBSCRIBE Âíå PSUBSCRIBE Á≠âÂëΩ‰ª§ÂÆûÁé∞ÂèëÂ∏ÉÂíåËÆ¢ÈòÖÂäüËÉΩ„ÄÇ ÂæÆ‰ø°Ôºö ÈÄöËøá SUBSCRIBE ÂëΩ‰ª§ËÆ¢ÈòÖÊüêÈ¢ëÈÅìÂêéÔºåredis-server ÈáåÁª¥Êä§‰∫Ü‰∏Ä‰∏™Â≠óÂÖ∏ÔºåÂ≠óÂÖ∏ÁöÑÈîÆÂ∞±ÊòØ‰∏Ä‰∏™‰∏™ È¢ëÈÅìÔºÅÔºå ËÄåÂ≠óÂÖ∏ÁöÑÂÄºÂàôÊòØ‰∏Ä‰∏™ÈìæË°®ÔºåÈìæË°®‰∏≠‰øùÂ≠ò‰∫ÜÊâÄÊúâËÆ¢ÈòÖËøô‰∏™ channel ÁöÑÂÆ¢Êà∑Á´Ø„ÄÇSUBSCRIBE ÂëΩ‰ª§ÁöÑÂÖ≥ÈîÆÔºå Â∞±ÊòØÂ∞ÜÂÆ¢Êà∑Á´ØÊ∑ªÂä†Âà∞ÁªôÂÆö channel ÁöÑËÆ¢ÈòÖÈìæË°®‰∏≠„ÄÇ Pub/Sub ‰ªéÂ≠óÈù¢‰∏äÁêÜËß£Â∞±ÊòØÂèëÂ∏ÉÔºàPublishÔºâ‰∏éËÆ¢ÈòÖÔºàSubscribeÔºâÔºåÂú®Redis‰∏≠Ôºå‰Ω†ÂèØ‰ª•ËÆæÂÆöÂØπÊüê‰∏Ä‰∏™ keyÂÄºËøõË°åÊ∂àÊÅØÂèëÂ∏ÉÂèäÊ∂àÊÅØËÆ¢ÈòÖÔºåÂΩì‰∏Ä‰∏™keyÂÄº‰∏äËøõË°å‰∫ÜÊ∂àÊÅØÂèëÂ∏ÉÂêéÔºåÊâÄÊúâËÆ¢ÈòÖÂÆÉÁöÑÂÆ¢Êà∑Á´ØÈÉΩ‰ºöÊî∂Âà∞Áõ∏Â∫î ÁöÑÊ∂àÊÅØ„ÄÇËøô‰∏ÄÂäüËÉΩÊúÄÊòéÊòæÁöÑÁî®Ê≥ïÂ∞±ÊòØÁî®‰ΩúÂÆûÊó∂Ê∂àÊÅØÁ≥ªÁªüÔºåÊØîÂ¶ÇÊôÆÈÄöÁöÑÂç≥Êó∂ËÅäÂ§©ÔºåÁæ§ËÅäÁ≠âÂäüËÉΩ„ÄÇ ‰ΩøÁî®Âú∫ÊôØÔºö 1„ÄÅÂÆûÊó∂Ê∂àÊÅØÁ≥ªÁªüÔºÅ 2„ÄÅ‰∫ãÂÆûËÅäÂ§©ÔºÅÔºàÈ¢ëÈÅìÂΩìÂÅöËÅäÂ§©ÂÆ§ÔºåÂ∞Ü‰ø°ÊÅØÂõûÊòæÁªôÊâÄÊúâ‰∫∫Âç≥ÂèØÔºÅÔºâ 3„ÄÅËÆ¢ÈòÖÔºåÂÖ≥Ê≥®Á≥ªÁªüÈÉΩÊòØÂèØ‰ª•ÁöÑÔºÅ Á®çÂæÆÂ§çÊùÇÁöÑÂú∫ÊôØÊàë‰ª¨Â∞±‰ºö‰ΩøÁî® Ê∂àÊÅØ‰∏≠Èó¥‰ª∂ MQ ÔºàÔºâ Redis Êï∞ÊçÆÊ∑òÊ±∞Á≠ñÁï• redis Êèê‰æõ 6ÁßçÊï∞ÊçÆÊ∑òÊ±∞Á≠ñÁï•Ôºö voltile-lruÔºövoltileÔºàÊå•ÂèëÊÄßÁöÑÔºâ‰ªéÂ∑≤ËÆæÁΩÆËøáÊúüÊó∂Èó¥ÁöÑÊï∞ÊçÆÈõÜÔºàserver.db[i].expiresÔºâ‰∏≠ÊåëÈÄâÊúÄËøëÊúÄÂ∞ë‰ΩøÁî®ÁöÑÊï∞ÊçÆÊ∑òÊ±∞ volatile-ttlÔºö(Time to Live)‰ªéÂ∑≤ËÆæÁΩÆËøáÊúüÊó∂Èó¥ÁöÑÊï∞ÊçÆÈõÜÔºàserver.db[i].expiresÔºâ‰∏≠ÊåëÈÄâÂ∞ÜË¶ÅËøáÊúüÁöÑÊï∞ÊçÆÊ∑òÊ±∞ volatile-randomÔºö‰ªéÂ∑≤ËÆæÁΩÆËøáÊúüÊó∂Èó¥ÁöÑÊï∞ÊçÆÈõÜÔºàserver.db[i].expiresÔºâ‰∏≠‰ªªÊÑèÈÄâÊã©Êï∞ÊçÆÊ∑òÊ±∞ allkeys-lruÔºö‰ªéÊï∞ÊçÆÈõÜÔºàserver.db[i].dictÔºâ‰∏≠ÊåëÈÄâÊúÄËøëÊúÄÂ∞ë‰ΩøÁî®ÁöÑÊï∞ÊçÆÊ∑òÊ±∞ allkeys-randomÔºö‰ªéÊï∞ÊçÆÈõÜÔºàserver.db[i].dictÔºâ‰∏≠‰ªªÊÑèÈÄâÊã©Êï∞ÊçÆÊ∑òÊ±∞ no-envictionÔºàÈ©±ÈÄêÔºâÔºöÁ¶ÅÊ≠¢È©±ÈÄêÊï∞ÊçÆ Â∏∏Áî®ÁöÑÊ∑òÊ±∞ÁÆóÊ≥ïÔºö 1.FIFOÔºöFirst In First OutÔºåÂÖàËøõÂÖàÂá∫„ÄÇÂà§Êñ≠Ë¢´Â≠òÂÇ®ÁöÑÊó∂Èó¥ÔºåÁ¶ªÁõÆÂâçÊúÄËøúÁöÑÊï∞ÊçÆ‰ºòÂÖàË¢´Ê∑òÊ±∞„ÄÇ 2.LRUÔºöLeast Recently UsedÔºåÊúÄËøëÊúÄÂ∞ë‰ΩøÁî®„ÄÇÂà§Êñ≠ÊúÄËøëË¢´‰ΩøÁî®ÁöÑÊó∂Èó¥ÔºåÁõÆÂâçÊúÄËøúÁöÑÊï∞ÊçÆ‰ºòÂÖàË¢´Ê∑òÊ±∞„ÄÇ 3.LFUÔºöLeast Frequently UsedÔºåÊúÄ‰∏çÁªèÂ∏∏‰ΩøÁî®„ÄÇÂú®‰∏ÄÊÆµÊó∂Èó¥ÂÜÖÔºåÊï∞ÊçÆË¢´‰ΩøÁî®Ê¨°Êï∞ÊúÄÂ∞ëÁöÑÔºå‰ºòÂÖàË¢´Ê∑òÊ±∞„ÄÇ Redis‰øùÊåÅÊï∞ÊçÆÂ∫ì‰∏ÄËá¥ÊÄß Cache Aside Pattern ÊúÄÁªèÂÖ∏ÁöÑÁºìÂ≠ò+Êï∞ÊçÆÂ∫ìËØªÂÜôÁöÑÊ®°ÂºèÔºåÂ∞±ÊòØ Cache Aside Pattern„ÄÇ ËØªÁöÑÊó∂ÂÄôÔºåÂÖàËØªÁºìÂ≠òÔºåÁºìÂ≠òÊ≤°ÊúâÁöÑËØùÔºåÂ∞±ËØªÊï∞ÊçÆÂ∫ìÔºåÁÑ∂ÂêéÂèñÂá∫Êï∞ÊçÆÂêéÊîæÂÖ•ÁºìÂ≠òÔºåÂêåÊó∂ËøîÂõûÂìçÂ∫î„ÄÇ Êõ¥Êñ∞ÁöÑÊó∂ÂÄôÔºåÂÖàÊõ¥Êñ∞Êï∞ÊçÆÂ∫ìÔºåÁÑ∂ÂêéÂÜçÂà†Èô§ÁºìÂ≠ò„ÄÇ ‰∏∫‰ªÄ‰πàÊòØÂà†Èô§ÁºìÂ≠òÔºåËÄå‰∏çÊòØÊõ¥Êñ∞ÁºìÂ≠òÔºü ÂéüÂõ†ÂæàÁÆÄÂçïÔºåÂæàÂ§öÊó∂ÂÄôÔºåÂú®Â§çÊùÇÁÇπÁöÑÁºìÂ≠òÂú∫ÊôØÔºåÁºìÂ≠ò‰∏çÂçïÂçïÊòØÊï∞ÊçÆÂ∫ì‰∏≠Áõ¥Êé•ÂèñÂá∫Êù•ÁöÑÂÄº„ÄÇ ÊØîÂ¶ÇÂèØËÉΩÊõ¥Êñ∞‰∫ÜÊüê‰∏™Ë°®ÁöÑ‰∏Ä‰∏™Â≠óÊÆµÔºåÁÑ∂ÂêéÂÖ∂ÂØπÂ∫îÁöÑÁºìÂ≠òÔºåÊòØÈúÄË¶ÅÊü•ËØ¢Âè¶Â§ñ‰∏§‰∏™Ë°®ÁöÑÊï∞ÊçÆÂπ∂ËøõË°åËøêÁÆóÔºåÊâçËÉΩËÆ°ÁÆóÂá∫ÁºìÂ≠òÊúÄÊñ∞ÁöÑÂÄºÁöÑ„ÄÇ Âè¶Â§ñÊõ¥Êñ∞ÁºìÂ≠òÁöÑ‰ª£‰ª∑ÊúâÊó∂ÂÄôÊòØÂæàÈ´òÁöÑ„ÄÇÊòØ‰∏çÊòØËØ¥ÔºåÊØèÊ¨°‰øÆÊîπÊï∞ÊçÆÂ∫ìÁöÑÊó∂ÂÄôÔºåÈÉΩ‰∏ÄÂÆöË¶ÅÂ∞ÜÂÖ∂ÂØπÂ∫îÁöÑÁºìÂ≠òÊõ¥Êñ∞‰∏Ä‰ªΩÔºü‰πüËÆ∏ÊúâÁöÑÂú∫ÊôØÊòØËøôÊ†∑Ôºå‰ΩÜÊòØÂØπ‰∫éÊØîËæÉÂ§çÊùÇÁöÑÁºìÂ≠òÊï∞ÊçÆËÆ°ÁÆóÁöÑÂú∫ÊôØÔºåÂ∞±‰∏çÊòØËøôÊ†∑‰∫Ü„ÄÇÂ¶ÇÊûú‰Ω†È¢ëÁπÅ‰øÆÊîπ‰∏Ä‰∏™ÁºìÂ≠òÊ∂âÂèäÁöÑÂ§ö‰∏™Ë°®ÔºåÁºìÂ≠ò‰πüÈ¢ëÁπÅÊõ¥Êñ∞„ÄÇ‰ΩÜÊòØÈóÆÈ¢òÂú®‰∫éÔºåËøô‰∏™ÁºìÂ≠òÂà∞Â∫ï‰ºö‰∏ç‰ºöË¢´È¢ëÁπÅËÆøÈóÆÂà∞Ôºü ‰∏æ‰∏™Ê†óÂ≠êÔºå‰∏Ä‰∏™ÁºìÂ≠òÊ∂âÂèäÁöÑË°®ÁöÑÂ≠óÊÆµÔºåÂú® 1 ÂàÜÈíüÂÜÖÂ∞±‰øÆÊîπ‰∫Ü 20 Ê¨°ÔºåÊàñËÄÖÊòØ 100 Ê¨°ÔºåÈÇ£‰πàÁºìÂ≠òÊõ¥Êñ∞ 20 Ê¨°„ÄÅ100 Ê¨°Ôºõ‰ΩÜÊòØËøô‰∏™ÁºìÂ≠òÂú® 1 ÂàÜÈíüÂÜÖÂè™Ë¢´ËØªÂèñ‰∫Ü 1 Ê¨°ÔºåÊúâÂ§ßÈáèÁöÑÂÜ∑Êï∞ÊçÆ„ÄÇÂÆûÈôÖ‰∏äÔºåÂ¶ÇÊûú‰Ω†Âè™ÊòØÂà†Èô§ÁºìÂ≠òÁöÑËØùÔºåÈÇ£‰πàÂú® 1 ÂàÜÈíüÂÜÖÔºåËøô‰∏™ÁºìÂ≠ò‰∏çËøáÂ∞±ÈáçÊñ∞ËÆ°ÁÆó‰∏ÄÊ¨°ËÄåÂ∑≤ÔºåÂºÄÈîÄÂ§ßÂπÖÂ∫¶Èôç‰Ωé„ÄÇÁî®Âà∞ÁºìÂ≠òÊâçÂéªÁÆóÁºìÂ≠ò„ÄÇ ÂÖ∂ÂÆûÂà†Èô§ÁºìÂ≠òÔºåËÄå‰∏çÊòØÊõ¥Êñ∞ÁºìÂ≠òÔºåÂ∞±ÊòØ‰∏Ä‰∏™ lazy ËÆ°ÁÆóÁöÑÊÄùÊÉ≥Ôºå‰∏çË¶ÅÊØèÊ¨°ÈÉΩÈáçÊñ∞ÂÅöÂ§çÊùÇÁöÑËÆ°ÁÆóÔºå‰∏çÁÆ°ÂÆÉ‰ºö‰∏ç‰ºöÁî®Âà∞ÔºåËÄåÊòØËÆ©ÂÆÉÂà∞ÈúÄË¶ÅË¢´‰ΩøÁî®ÁöÑÊó∂ÂÄôÂÜçÈáçÊñ∞ËÆ°ÁÆó„ÄÇÂÉè mybatisÔºåhibernateÔºåÈÉΩÊúâÊáíÂä†ËΩΩÊÄùÊÉ≥„ÄÇÊü•ËØ¢‰∏Ä‰∏™ÈÉ®Èó®ÔºåÈÉ®Èó®Â∏¶‰∫Ü‰∏Ä‰∏™ÂëòÂ∑•ÁöÑ listÔºåÊ≤°ÊúâÂøÖË¶ÅËØ¥ÊØèÊ¨°Êü•ËØ¢ÈÉ®Èó®ÔºåÈÉΩÊääÈáåÈù¢ÁöÑ 1000 ‰∏™ÂëòÂ∑•ÁöÑÊï∞ÊçÆ‰πüÂêåÊó∂Êü•Âá∫Êù•Âïä„ÄÇ80% ÁöÑÊÉÖÂÜµÔºåÊü•Ëøô‰∏™ÈÉ®Èó®ÔºåÂ∞±Âè™ÊòØË¶ÅËÆøÈóÆËøô‰∏™ÈÉ®Èó®ÁöÑ‰ø°ÊÅØÂ∞±ÂèØ‰ª•‰∫Ü„ÄÇÂÖàÊü•ÈÉ®Èó®ÔºåÂêåÊó∂Ë¶ÅËÆøÈóÆÈáåÈù¢ÁöÑÂëòÂ∑•ÔºåÈÇ£‰πàËøô‰∏™Êó∂ÂÄôÂè™ÊúâÂú®‰Ω†Ë¶ÅËÆøÈóÆÈáåÈù¢ÁöÑÂëòÂ∑•ÁöÑÊó∂ÂÄôÔºåÊâç‰ºöÂéªÊï∞ÊçÆÂ∫ìÈáåÈù¢Êü•ËØ¢ 1000 ‰∏™ÂëòÂ∑•„ÄÇ ÊúÄÂàùÁ∫ßÁöÑÁºìÂ≠ò‰∏ç‰∏ÄËá¥ÈóÆÈ¢òÂèäËß£ÂÜ≥ÊñπÊ°à ÈóÆÈ¢òÔºöÂÖàÊõ¥Êñ∞Êï∞ÊçÆÂ∫ìÔºåÂÜçÂà†Èô§ÁºìÂ≠ò„ÄÇÂ¶ÇÊûúÂà†Èô§ÁºìÂ≠òÂ§±Ë¥•‰∫ÜÔºåÈÇ£‰πà‰ºöÂØºËá¥Êï∞ÊçÆÂ∫ì‰∏≠ÊòØÊñ∞Êï∞ÊçÆÔºåÁºìÂ≠ò‰∏≠ÊòØÊóßÊï∞ÊçÆÔºåÊï∞ÊçÆÂ∞±Âá∫Áé∞‰∫Ü‰∏ç‰∏ÄËá¥„ÄÇ Ëß£ÂÜ≥ÊÄùË∑ØÔºöÂÖàÂà†Èô§ÁºìÂ≠òÔºåÂÜçÊõ¥Êñ∞Êï∞ÊçÆÂ∫ì„ÄÇÂ¶ÇÊûúÊï∞ÊçÆÂ∫ìÊõ¥Êñ∞Â§±Ë¥•‰∫ÜÔºåÈÇ£‰πàÊï∞ÊçÆÂ∫ì‰∏≠ÊòØÊóßÊï∞ÊçÆÔºåÁºìÂ≠ò‰∏≠ÊòØÁ©∫ÁöÑÔºåÈÇ£‰πàÊï∞ÊçÆ‰∏ç‰ºö‰∏ç‰∏ÄËá¥„ÄÇÂõ†‰∏∫ËØªÁöÑÊó∂ÂÄôÁºìÂ≠òÊ≤°ÊúâÔºåÊâÄ‰ª•ÂéªËØª‰∫ÜÊï∞ÊçÆÂ∫ì‰∏≠ÁöÑÊóßÊï∞ÊçÆÔºåÁÑ∂ÂêéÊõ¥Êñ∞Âà∞ÁºìÂ≠ò‰∏≠„ÄÇ ÊØîËæÉÂ§çÊùÇÁöÑÊï∞ÊçÆ‰∏ç‰∏ÄËá¥ÈóÆÈ¢òÂàÜÊûê Êï∞ÊçÆÂèëÁîü‰∫ÜÂèòÊõ¥ÔºåÂÖàÂà†Èô§‰∫ÜÁºìÂ≠òÔºåÁÑ∂ÂêéË¶ÅÂéª‰øÆÊîπÊï∞ÊçÆÂ∫ìÔºåÊ≠§Êó∂ËøòÊ≤°‰øÆÊîπ„ÄÇ‰∏Ä‰∏™ËØ∑Ê±ÇËøáÊù•ÔºåÂéªËØªÁºìÂ≠òÔºåÂèëÁé∞ÁºìÂ≠òÁ©∫‰∫ÜÔºåÂéªÊü•ËØ¢Êï∞ÊçÆÂ∫ìÔºåÊü•Âà∞‰∫Ü‰øÆÊîπÂâçÁöÑÊóßÊï∞ÊçÆÔºåÊîæÂà∞‰∫ÜÁºìÂ≠ò‰∏≠„ÄÇÈöèÂêéÊï∞ÊçÆÂèòÊõ¥ÁöÑÁ®ãÂ∫èÂÆåÊàê‰∫ÜÊï∞ÊçÆÂ∫ìÁöÑ‰øÆÊîπ„ÄÇÂÆå‰∫ÜÔºåÊï∞ÊçÆÂ∫ìÂíåÁºìÂ≠ò‰∏≠ÁöÑÊï∞ÊçÆ‰∏ç‰∏ÄÊ†∑‰∫Ü... ‰∏∫‰ªÄ‰πà‰∏ä‰∫øÊµÅÈáèÈ´òÂπ∂ÂèëÂú∫ÊôØ‰∏ãÔºåÁºìÂ≠ò‰ºöÂá∫Áé∞Ëøô‰∏™ÈóÆÈ¢òÔºü Âè™ÊúâÂú®ÂØπ‰∏Ä‰∏™Êï∞ÊçÆÂú®Âπ∂ÂèëÁöÑËøõË°åËØªÂÜôÁöÑÊó∂ÂÄôÔºåÊâçÂèØËÉΩ‰ºöÂá∫Áé∞ËøôÁßçÈóÆÈ¢ò„ÄÇÂÖ∂ÂÆûÂ¶ÇÊûúËØ¥‰Ω†ÁöÑÂπ∂ÂèëÈáèÂæà‰ΩéÁöÑËØùÔºåÁâπÂà´ÊòØËØªÂπ∂ÂèëÂæà‰ΩéÔºåÊØèÂ§©ËÆøÈóÆÈáèÂ∞± 1 ‰∏áÊ¨°ÔºåÈÇ£‰πàÂæàÂ∞ëÁöÑÊÉÖÂÜµ‰∏ãÔºå‰ºöÂá∫Áé∞ÂàöÊâçÊèèËø∞ÁöÑÈÇ£Áßç‰∏ç‰∏ÄËá¥ÁöÑÂú∫ÊôØ„ÄÇ‰ΩÜÊòØÈóÆÈ¢òÊòØÔºåÂ¶ÇÊûúÊØèÂ§©ÁöÑÊòØ‰∏ä‰∫øÁöÑÊµÅÈáèÔºåÊØèÁßíÂπ∂ÂèëËØªÊòØÂá†‰∏áÔºåÊØèÁßíÂè™Ë¶ÅÊúâÊï∞ÊçÆÊõ¥Êñ∞ÁöÑËØ∑Ê±ÇÔºåÂ∞±ÂèØËÉΩ‰ºöÂá∫Áé∞‰∏äËø∞ÁöÑÊï∞ÊçÆÂ∫ì+ÁºìÂ≠ò‰∏ç‰∏ÄËá¥ÁöÑÊÉÖÂÜµ„ÄÇ Ëß£ÂÜ≥ÊñπÊ°àÂ¶Ç‰∏ãÔºö Êõ¥Êñ∞Êï∞ÊçÆÁöÑÊó∂ÂÄôÔºåÊ†πÊçÆÊï∞ÊçÆÁöÑÂîØ‰∏ÄÊ†áËØÜÔºåÂ∞ÜÊìç‰ΩúË∑ØÁî±‰πãÂêéÔºåÂèëÈÄÅÂà∞‰∏Ä‰∏™ jvm ÂÜÖÈÉ®ÈòüÂàó‰∏≠„ÄÇËØªÂèñÊï∞ÊçÆÁöÑÊó∂ÂÄôÔºåÂ¶ÇÊûúÂèëÁé∞Êï∞ÊçÆ‰∏çÂú®ÁºìÂ≠ò‰∏≠ÔºåÈÇ£‰πàÂ∞ÜÈáçÊñ∞ËØªÂèñÊï∞ÊçÆ+Êõ¥Êñ∞ÁºìÂ≠òÁöÑÊìç‰ΩúÔºåÊ†πÊçÆÂîØ‰∏ÄÊ†áËØÜË∑ØÁî±‰πãÂêéÔºå‰πüÂèëÈÄÅÂêå‰∏Ä‰∏™ jvm ÂÜÖÈÉ®ÈòüÂàó‰∏≠„ÄÇ ‰∏Ä‰∏™ÈòüÂàóÂØπÂ∫î‰∏Ä‰∏™Â∑•‰ΩúÁ∫øÁ®ãÔºåÊØè‰∏™Â∑•‰ΩúÁ∫øÁ®ã‰∏≤Ë°åÊãøÂà∞ÂØπÂ∫îÁöÑÊìç‰ΩúÔºåÁÑ∂Âêé‰∏ÄÊù°‰∏ÄÊù°ÁöÑÊâßË°å„ÄÇËøôÊ†∑ÁöÑËØùÔºå‰∏Ä‰∏™Êï∞ÊçÆÂèòÊõ¥ÁöÑÊìç‰ΩúÔºåÂÖàÂà†Èô§ÁºìÂ≠òÔºåÁÑ∂ÂêéÂÜçÂéªÊõ¥Êñ∞Êï∞ÊçÆÂ∫ìÔºå‰ΩÜÊòØËøòÊ≤°ÂÆåÊàêÊõ¥Êñ∞„ÄÇÊ≠§Êó∂Â¶ÇÊûú‰∏Ä‰∏™ËØªËØ∑Ê±ÇËøáÊù•ÔºåÊ≤°ÊúâËØªÂà∞ÁºìÂ≠òÔºåÈÇ£‰πàÂèØ‰ª•ÂÖàÂ∞ÜÁºìÂ≠òÊõ¥Êñ∞ÁöÑËØ∑Ê±ÇÂèëÈÄÅÂà∞ÈòüÂàó‰∏≠ÔºåÊ≠§Êó∂‰ºöÂú®ÈòüÂàó‰∏≠ÁßØÂéãÔºåÁÑ∂ÂêéÂêåÊ≠•Á≠âÂæÖÁºìÂ≠òÊõ¥Êñ∞ÂÆåÊàê„ÄÇ ËøôÈáåÊúâ‰∏Ä‰∏™‰ºòÂåñÁÇπÔºå‰∏Ä‰∏™ÈòüÂàó‰∏≠ÔºåÂÖ∂ÂÆûÂ§ö‰∏™Êõ¥Êñ∞ÁºìÂ≠òËØ∑Ê±Ç‰∏≤Âú®‰∏ÄËµ∑ÊòØÊ≤°ÊÑè‰πâÁöÑÔºåÂõ†Ê≠§ÂèØ‰ª•ÂÅöËøáÊª§ÔºåÂ¶ÇÊûúÂèëÁé∞ÈòüÂàó‰∏≠Â∑≤ÁªèÊúâ‰∏Ä‰∏™Êõ¥Êñ∞ÁºìÂ≠òÁöÑËØ∑Ê±Ç‰∫ÜÔºåÈÇ£‰πàÂ∞±‰∏çÁî®ÂÜçÊîæ‰∏™Êõ¥Êñ∞ËØ∑Ê±ÇÊìç‰ΩúËøõÂéª‰∫ÜÔºåÁõ¥Êé•Á≠âÂæÖÂâçÈù¢ÁöÑÊõ¥Êñ∞Êìç‰ΩúËØ∑Ê±ÇÂÆåÊàêÂç≥ÂèØ„ÄÇ ÂæÖÈÇ£‰∏™ÈòüÂàóÂØπÂ∫îÁöÑÂ∑•‰ΩúÁ∫øÁ®ãÂÆåÊàê‰∫Ü‰∏ä‰∏Ä‰∏™Êìç‰ΩúÁöÑÊï∞ÊçÆÂ∫ìÁöÑ‰øÆÊîπ‰πãÂêéÔºåÊâç‰ºöÂéªÊâßË°å‰∏ã‰∏Ä‰∏™Êìç‰ΩúÔºå‰πüÂ∞±ÊòØÁºìÂ≠òÊõ¥Êñ∞ÁöÑÊìç‰ΩúÔºåÊ≠§Êó∂‰ºö‰ªéÊï∞ÊçÆÂ∫ì‰∏≠ËØªÂèñÊúÄÊñ∞ÁöÑÂÄºÔºåÁÑ∂ÂêéÂÜôÂÖ•ÁºìÂ≠ò‰∏≠„ÄÇ Â¶ÇÊûúËØ∑Ê±ÇËøòÂú®Á≠âÂæÖÊó∂Èó¥ËåÉÂõ¥ÂÜÖÔºå‰∏çÊñ≠ËΩÆËØ¢ÂèëÁé∞ÂèØ‰ª•ÂèñÂà∞ÂÄº‰∫ÜÔºåÈÇ£‰πàÂ∞±Áõ¥Êé•ËøîÂõûÔºõÂ¶ÇÊûúËØ∑Ê±ÇÁ≠âÂæÖÁöÑÊó∂Èó¥Ë∂ÖËøá‰∏ÄÂÆöÊó∂ÈïøÔºåÈÇ£‰πàËøô‰∏ÄÊ¨°Áõ¥Êé•‰ªéÊï∞ÊçÆÂ∫ì‰∏≠ËØªÂèñÂΩìÂâçÁöÑÊóßÂÄº„ÄÇ È´òÂπ∂ÂèëÁöÑÂú∫ÊôØ‰∏ãÔºåËØ•Ëß£ÂÜ≥ÊñπÊ°àË¶ÅÊ≥®ÊÑèÁöÑÈóÆÈ¢òÔºö ËØªËØ∑Ê±ÇÈïøÊó∂ÈòªÂ°û Áî±‰∫éËØªËØ∑Ê±ÇËøõË°å‰∫ÜÈùûÂ∏∏ËΩªÂ∫¶ÁöÑÂºÇÊ≠•ÂåñÔºåÊâÄ‰ª•‰∏ÄÂÆöË¶ÅÊ≥®ÊÑèËØªË∂ÖÊó∂ÁöÑÈóÆÈ¢òÔºåÊØè‰∏™ËØªËØ∑Ê±ÇÂøÖÈ°ªÂú®Ë∂ÖÊó∂Êó∂Èó¥ËåÉÂõ¥ÂÜÖËøîÂõû„ÄÇ ËØ•Ëß£ÂÜ≥ÊñπÊ°àÔºåÊúÄÂ§ßÁöÑÈ£éÈô©ÁÇπÂú®‰∫éËØ¥ÔºåÂèØËÉΩÊï∞ÊçÆÊõ¥Êñ∞ÂæàÈ¢ëÁπÅÔºåÂØºËá¥ÈòüÂàó‰∏≠ÁßØÂéã‰∫ÜÂ§ßÈáèÊõ¥Êñ∞Êìç‰ΩúÂú®ÈáåÈù¢ÔºåÁÑ∂ÂêéËØªËØ∑Ê±Ç‰ºöÂèëÁîüÂ§ßÈáèÁöÑË∂ÖÊó∂ÔºåÊúÄÂêéÂØºËá¥Â§ßÈáèÁöÑËØ∑Ê±ÇÁõ¥Êé•Ëµ∞Êï∞ÊçÆÂ∫ì„ÄÇÂä°ÂøÖÈÄöËøá‰∏Ä‰∫õÊ®°ÊãüÁúüÂÆûÁöÑÊµãËØïÔºåÁúãÁúãÊõ¥Êñ∞Êï∞ÊçÆÁöÑÈ¢ëÁéáÊòØÊÄéÊ†∑ÁöÑ„ÄÇ Âè¶Â§ñ‰∏ÄÁÇπÔºåÂõ†‰∏∫‰∏Ä‰∏™ÈòüÂàó‰∏≠ÔºåÂèØËÉΩ‰ºöÁßØÂéãÈíàÂØπÂ§ö‰∏™Êï∞ÊçÆÈ°πÁöÑÊõ¥Êñ∞Êìç‰ΩúÔºåÂõ†Ê≠§ÈúÄË¶ÅÊ†πÊçÆËá™Â∑±ÁöÑ‰∏öÂä°ÊÉÖÂÜµËøõË°åÊµãËØïÔºåÂèØËÉΩÈúÄË¶ÅÈÉ®ÁΩ≤Â§ö‰∏™ÊúçÂä°ÔºåÊØè‰∏™ÊúçÂä°ÂàÜÊëä‰∏Ä‰∫õÊï∞ÊçÆÁöÑÊõ¥Êñ∞Êìç‰Ωú„ÄÇÂ¶ÇÊûú‰∏Ä‰∏™ÂÜÖÂ≠òÈòüÂàóÈáåÂ±ÖÁÑ∂‰ºöÊå§Âéã 100 ‰∏™ÂïÜÂìÅÁöÑÂ∫ìÂ≠ò‰øÆÊîπÊìç‰ΩúÔºåÊØè‰∏™Â∫ìÂ≠ò‰øÆÊîπÊìç‰ΩúË¶ÅËÄóË¥π 10ms ÂéªÂÆåÊàêÔºåÈÇ£‰πàÊúÄÂêé‰∏Ä‰∏™ÂïÜÂìÅÁöÑËØªËØ∑Ê±ÇÔºåÂèØËÉΩÁ≠âÂæÖ 10 * 100 = 1000ms = 1s ÂêéÔºåÊâçËÉΩÂæóÂà∞Êï∞ÊçÆÔºåËøô‰∏™Êó∂ÂÄôÂ∞±ÂØºËá¥ËØªËØ∑Ê±ÇÁöÑÈïøÊó∂ÈòªÂ°û„ÄÇ ‰∏ÄÂÆöË¶ÅÂÅöÊ†πÊçÆÂÆûÈôÖ‰∏öÂä°Á≥ªÁªüÁöÑËøêË°åÊÉÖÂÜµÔºåÂéªËøõË°å‰∏Ä‰∫õÂéãÂäõÊµãËØïÔºåÂíåÊ®°ÊãüÁ∫ø‰∏äÁéØÂ¢ÉÔºåÂéªÁúãÁúãÊúÄÁπÅÂøôÁöÑÊó∂ÂÄôÔºåÂÜÖÂ≠òÈòüÂàóÂèØËÉΩ‰ºöÊå§ÂéãÂ§öÂ∞ëÊõ¥Êñ∞Êìç‰ΩúÔºåÂèØËÉΩ‰ºöÂØºËá¥ÊúÄÂêé‰∏Ä‰∏™Êõ¥Êñ∞Êìç‰ΩúÂØπÂ∫îÁöÑËØªËØ∑Ê±ÇÔºå‰ºö hang Â§öÂ∞ëÊó∂Èó¥ÔºåÂ¶ÇÊûúËØªËØ∑Ê±ÇÂú® 200ms ËøîÂõûÔºåÂ¶ÇÊûú‰Ω†ËÆ°ÁÆóËøáÂêéÔºåÂì™ÊÄïÊòØÊúÄÁπÅÂøôÁöÑÊó∂ÂÄôÔºåÁßØÂéã 10 ‰∏™Êõ¥Êñ∞Êìç‰ΩúÔºåÊúÄÂ§öÁ≠âÂæÖ 200msÔºåÈÇ£ËøòÂèØ‰ª•ÁöÑ„ÄÇ Â¶ÇÊûú‰∏Ä‰∏™ÂÜÖÂ≠òÈòüÂàó‰∏≠ÂèØËÉΩÁßØÂéãÁöÑÊõ¥Êñ∞Êìç‰ΩúÁâπÂà´Â§öÔºåÈÇ£‰πà‰Ω†Â∞±Ë¶ÅÂä†Êú∫Âô®ÔºåËÆ©ÊØè‰∏™Êú∫Âô®‰∏äÈÉ®ÁΩ≤ÁöÑÊúçÂä°ÂÆû‰æãÂ§ÑÁêÜÊõ¥Â∞ëÁöÑÊï∞ÊçÆÔºåÈÇ£‰πàÊØè‰∏™ÂÜÖÂ≠òÈòüÂàó‰∏≠ÁßØÂéãÁöÑÊõ¥Êñ∞Êìç‰ΩúÂ∞±‰ºöË∂äÂ∞ë„ÄÇ ÂÖ∂ÂÆûÊ†πÊçÆ‰πãÂâçÁöÑÈ°πÁõÆÁªèÈ™åÔºå‰∏ÄËà¨Êù•ËØ¥ÔºåÊï∞ÊçÆÁöÑÂÜôÈ¢ëÁéáÊòØÂæà‰ΩéÁöÑÔºåÂõ†Ê≠§ÂÆûÈôÖ‰∏äÊ≠£Â∏∏Êù•ËØ¥ÔºåÂú®ÈòüÂàó‰∏≠ÁßØÂéãÁöÑÊõ¥Êñ∞Êìç‰ΩúÂ∫îËØ•ÊòØÂæàÂ∞ëÁöÑ„ÄÇÂÉèËøôÁßçÈíàÂØπËØªÈ´òÂπ∂Âèë„ÄÅËØªÁºìÂ≠òÊû∂ÊûÑÁöÑÈ°πÁõÆÔºå‰∏ÄËà¨Êù•ËØ¥ÂÜôËØ∑Ê±ÇÊòØÈùûÂ∏∏Â∞ëÁöÑÔºåÊØèÁßíÁöÑ QPS ËÉΩÂà∞Âá†ÁôæÂ∞±‰∏çÈîô‰∫Ü„ÄÇ Êàë‰ª¨Êù•ÂÆûÈôÖÁ≤óÁï•ÊµãÁÆó‰∏Ä‰∏ã„ÄÇ Â¶ÇÊûú‰∏ÄÁßíÊúâ 500 ÁöÑÂÜôÊìç‰ΩúÔºåÂ¶ÇÊûúÂàÜÊàê 5 ‰∏™Êó∂Èó¥ÁâáÔºåÊØè 200ms Â∞± 100 ‰∏™ÂÜôÊìç‰ΩúÔºåÊîæÂà∞ 20 ‰∏™ÂÜÖÂ≠òÈòüÂàó‰∏≠ÔºåÊØè‰∏™ÂÜÖÂ≠òÈòüÂàóÔºåÂèØËÉΩÂ∞±ÁßØÂéã 5 ‰∏™ÂÜôÊìç‰Ωú„ÄÇÊØè‰∏™ÂÜôÊìç‰ΩúÊÄßËÉΩÊµãËØïÂêéÔºå‰∏ÄËà¨ÊòØÂú® 20ms Â∑¶Âè≥Â∞±ÂÆåÊàêÔºåÈÇ£‰πàÈíàÂØπÊØè‰∏™ÂÜÖÂ≠òÈòüÂàóÁöÑÊï∞ÊçÆÁöÑËØªËØ∑Ê±ÇÔºå‰πüÂ∞±ÊúÄÂ§ö hang ‰∏Ä‰ºöÂÑøÔºå200ms ‰ª•ÂÜÖËÇØÂÆöËÉΩËøîÂõû‰∫Ü„ÄÇ ÁªèËøáÂàöÊâçÁÆÄÂçïÁöÑÊµãÁÆóÔºåÊàë‰ª¨Áü•ÈÅìÔºåÂçïÊú∫ÊîØÊíëÁöÑÂÜô QPS Âú®Âá†ÁôæÊòØÊ≤°ÈóÆÈ¢òÁöÑÔºåÂ¶ÇÊûúÂÜô QPS Êâ©Â§ß‰∫Ü 10 ÂÄçÔºåÈÇ£‰πàÂ∞±Êâ©ÂÆπÊú∫Âô®ÔºåÊâ©ÂÆπ 10 ÂÄçÁöÑÊú∫Âô®ÔºåÊØè‰∏™Êú∫Âô® 20 ‰∏™ÈòüÂàó„ÄÇ ËØªËØ∑Ê±ÇÂπ∂ÂèëÈáèËøáÈ´ò ËøôÈáåËøòÂøÖÈ°ªÂÅöÂ•ΩÂéãÂäõÊµãËØïÔºåÁ°Æ‰øùÊÅ∞Â∑ßÁ¢∞‰∏ä‰∏äËø∞ÊÉÖÂÜµÁöÑÊó∂ÂÄôÔºåËøòÊúâ‰∏Ä‰∏™È£éÈô©ÔºåÂ∞±ÊòØÁ™ÅÁÑ∂Èó¥Â§ßÈáèËØªËØ∑Ê±Ç‰ºöÂú®Âá†ÂçÅÊØ´ÁßíÁöÑÂª∂Êó∂ hang Âú®ÊúçÂä°‰∏äÔºåÁúãÊúçÂä°ËÉΩ‰∏çËÉΩÊâõÁöÑ‰ΩèÔºåÈúÄË¶ÅÂ§öÂ∞ëÊú∫Âô®ÊâçËÉΩÊâõ‰ΩèÊúÄÂ§ßÁöÑÊûÅÈôêÊÉÖÂÜµÁöÑÂ≥∞ÂÄº„ÄÇ ‰ΩÜÊòØÂõ†‰∏∫Âπ∂‰∏çÊòØÊâÄÊúâÁöÑÊï∞ÊçÆÈÉΩÂú®Âêå‰∏ÄÊó∂Èó¥Êõ¥Êñ∞ÔºåÁºìÂ≠ò‰πü‰∏ç‰ºöÂêå‰∏ÄÊó∂Èó¥Â§±ÊïàÔºåÊâÄ‰ª•ÊØèÊ¨°ÂèØËÉΩ‰πüÂ∞±ÊòØÂ∞ëÊï∞Êï∞ÊçÆÁöÑÁºìÂ≠òÂ§±Êïà‰∫ÜÔºåÁÑ∂ÂêéÈÇ£‰∫õÊï∞ÊçÆÂØπÂ∫îÁöÑËØªËØ∑Ê±ÇËøáÊù•ÔºåÂπ∂ÂèëÈáèÂ∫îËØ•‰πü‰∏ç‰ºöÁâπÂà´Â§ß„ÄÇ Â§öÊúçÂä°ÂÆû‰æãÈÉ®ÁΩ≤ÁöÑËØ∑Ê±ÇË∑ØÁî± ÂèØËÉΩËøô‰∏™ÊúçÂä°ÈÉ®ÁΩ≤‰∫ÜÂ§ö‰∏™ÂÆû‰æãÔºåÈÇ£‰πàÂøÖÈ°ª‰øùËØÅËØ¥ÔºåÊâßË°åÊï∞ÊçÆÊõ¥Êñ∞Êìç‰ΩúÔºå‰ª•ÂèäÊâßË°åÁºìÂ≠òÊõ¥Êñ∞Êìç‰ΩúÁöÑËØ∑Ê±ÇÔºåÈÉΩÈÄöËøá Nginx ÊúçÂä°Âô®Ë∑ØÁî±Âà∞Áõ∏ÂêåÁöÑÊúçÂä°ÂÆû‰æã‰∏ä„ÄÇ ÊØîÂ¶ÇËØ¥ÔºåÂØπÂêå‰∏Ä‰∏™ÂïÜÂìÅÁöÑËØªÂÜôËØ∑Ê±ÇÔºåÂÖ®ÈÉ®Ë∑ØÁî±Âà∞Âêå‰∏ÄÂè∞Êú∫Âô®‰∏ä„ÄÇÂèØ‰ª•Ëá™Â∑±ÂéªÂÅöÊúçÂä°Èó¥ÁöÑÊåâÁÖßÊüê‰∏™ËØ∑Ê±ÇÂèÇÊï∞ÁöÑ hash Ë∑ØÁî±Ôºå‰πüÂèØ‰ª•Áî® Nginx ÁöÑ hash Ë∑ØÁî±ÂäüËÉΩÁ≠âÁ≠â„ÄÇ ÁÉ≠ÁÇπÂïÜÂìÅÁöÑË∑ØÁî±ÈóÆÈ¢òÔºåÂØºËá¥ËØ∑Ê±ÇÁöÑÂÄæÊñú ‰∏á‰∏ÄÊüê‰∏™ÂïÜÂìÅÁöÑËØªÂÜôËØ∑Ê±ÇÁâπÂà´È´òÔºåÂÖ®ÈÉ®ÊâìÂà∞Áõ∏ÂêåÁöÑÊú∫Âô®ÁöÑÁõ∏ÂêåÁöÑÈòüÂàóÈáåÈù¢Âéª‰∫ÜÔºåÂèØËÉΩ‰ºöÈÄ†ÊàêÊüêÂè∞Êú∫Âô®ÁöÑÂéãÂäõËøáÂ§ß„ÄÇÂ∞±ÊòØËØ¥ÔºåÂõ†‰∏∫Âè™ÊúâÂú®ÂïÜÂìÅÊï∞ÊçÆÊõ¥Êñ∞ÁöÑÊó∂ÂÄôÊâç‰ºöÊ∏ÖÁ©∫ÁºìÂ≠òÔºåÁÑ∂ÂêéÊâç‰ºöÂØºËá¥ËØªÂÜôÂπ∂ÂèëÔºåÊâÄ‰ª•ÂÖ∂ÂÆûË¶ÅÊ†πÊçÆ‰∏öÂä°Á≥ªÁªüÂéªÁúãÔºåÂ¶ÇÊûúÊõ¥Êñ∞È¢ëÁéá‰∏çÊòØÂ§™È´òÁöÑËØùÔºåËøô‰∏™ÈóÆÈ¢òÁöÑÂΩ±ÂìçÂπ∂‰∏çÊòØÁâπÂà´Â§ßÔºå‰ΩÜÊòØÁöÑÁ°ÆÂèØËÉΩÊüê‰∫õÊú∫Âô®ÁöÑË¥üËΩΩ‰ºöÈ´ò‰∏Ä‰∫õ„ÄÇ Session„ÄÅCookie„ÄÅRedisÁºìÂ≠òÂØπÊØî Redis ËøáÊúüËÆæÁΩÆ EXPIRE key PERSIST key Redis Êï∞ÊçÆÂ§á‰ªΩ‰∏éÊÅ¢Â§ç SAVE ËØ•ÂëΩ‰ª§Â∞ÜÂú® redis ÂÆâË£ÖÁõÆÂΩï‰∏≠ÂàõÂª∫dump.rdbÊñá‰ª∂„ÄÇ Â¶ÇÊûúÈúÄË¶ÅÊÅ¢Â§çÊï∞ÊçÆÔºåÂè™ÈúÄÂ∞ÜÂ§á‰ªΩÊñá‰ª∂ (dump.rdb) ÁßªÂä®Âà∞ redis ÂÆâË£ÖÁõÆÂΩïÂπ∂ÂêØÂä®ÊúçÂä°Âç≥ÂèØ„ÄÇËé∑Âèñ redis ÁõÆÂΩïÂèØ‰ª•‰ΩøÁî® CONFIG ÂëΩ‰ª§ CONFIG GET dir ‰ª•‰∏äÂëΩ‰ª§ CONFIG GET dir ËæìÂá∫ÁöÑ redis ÂÆâË£ÖÁõÆÂΩï‰∏∫ /usr/local/redis/bin„ÄÇ Bgsave ÂàõÂª∫ redis Â§á‰ªΩÊñá‰ª∂‰πüÂèØ‰ª•‰ΩøÁî®ÂëΩ‰ª§ BGSAVEÔºåËØ•ÂëΩ‰ª§Âú®ÂêéÂè∞ÊâßË°å„ÄÇ ÂÆû‰æã 127.0.0.1:6379&gt; BGSAVE Background saving started Redis ÂÆâÂÖ® ÈÄöËøá redis ÁöÑÈÖçÁΩÆÊñá‰ª∂ËÆæÁΩÆÂØÜÁ†ÅÂèÇÊï∞ÔºåËøôÊ†∑ÂÆ¢Êà∑Á´ØËøûÊé•Âà∞ redis ÊúçÂä°Â∞±ÈúÄË¶ÅÂØÜÁ†ÅÈ™åËØÅÔºåËøôÊ†∑ÂèØ‰ª•ËÆ©‰Ω†ÁöÑ redis ÊúçÂä°Êõ¥ÂÆâÂÖ®„ÄÇ Êü•ÁúãÊòØÂê¶ËÆæÁΩÆ‰∫ÜÂØÜÁ†ÅÈ™åËØÅÔºö CONFIG get requirepassÈªòËÆ§ÊÉÖÂÜµ‰∏ã requirepass ÂèÇÊï∞ÊòØÁ©∫ÁöÑÔºåËøôÂ∞±ÊÑèÂë≥ÁùÄ‰Ω†Êó†ÈúÄÈÄöËøáÂØÜÁ†ÅÈ™åËØÅÂ∞±ÂèØ‰ª•ËøûÊé•Âà∞ redis ÊúçÂä°„ÄÇ CONFIG set requirepass &quot;runoob&quot; AUTH &quot;runoob&quot; SET mykey &quot;Test value&quot; GET mykey Redis ÊÄßËÉΩÊµãËØï Redis ÊÄßËÉΩÊµãËØïÊòØÈÄöËøáÂêåÊó∂ÊâßË°åÂ§ö‰∏™ÂëΩ‰ª§ÂÆûÁé∞ÁöÑ„ÄÇ redis-benchmark [option] [option value] Ê≥®ÊÑèÔºöËØ•ÂëΩ‰ª§ÊòØÂú® redis ÁöÑÁõÆÂΩï‰∏ãÊâßË°åÁöÑÔºåËÄå‰∏çÊòØ redis ÂÆ¢Êà∑Á´ØÁöÑÂÜÖÈÉ®Êåá‰ª§ ‰ª•‰∏ãÂÆû‰æãÂêåÊó∂ÊâßË°å 10000 ‰∏™ËØ∑Ê±ÇÊù•Ê£ÄÊµãÊÄßËÉΩÔºö redis-benchmark -n 10000 -q - redis ÊÄßËÉΩÊµãËØïÂ∑•ÂÖ∑ÂèØÈÄâÂèÇÊï∞Â¶Ç‰∏ãÊâÄÁ§∫Ôºö Â∫èÂè∑ ÈÄâÈ°π ÊèèËø∞ ÈªòËÆ§ÂÄº 1 -h ÊåáÂÆöÊúçÂä°Âô®‰∏ªÊú∫Âêç 127.0.0.1 2 -p ÊåáÂÆöÊúçÂä°Âô®Á´ØÂè£ 6379 3 -s ÊåáÂÆöÊúçÂä°Âô® socket 4 -c ÊåáÂÆöÂπ∂ÂèëËøûÊé•Êï∞ 50 5 -n ÊåáÂÆöËØ∑Ê±ÇÊï∞ 10000 6 -d ‰ª•Â≠óËäÇÁöÑÂΩ¢ÂºèÊåáÂÆö SET/GET ÂÄºÁöÑÊï∞ÊçÆÂ§ßÂ∞è 2 7 -k 1=keep alive 0=reconnect 1 8 -r SET/GET/INCR ‰ΩøÁî®ÈöèÊú∫ key, SADD ‰ΩøÁî®ÈöèÊú∫ÂÄº 9 -P ÈÄöËøáÁÆ°ÈÅì‰º†Ëæì ËØ∑Ê±Ç 1 10 -q Âº∫Âà∂ÈÄÄÂá∫ redis„ÄÇ‰ªÖÊòæÁ§∫ query/sec ÂÄº 11 --csv ‰ª• CSV Ê†ºÂºèËæìÂá∫ 12 -l ÁîüÊàêÂæ™ÁéØÔºåÊ∞∏‰πÖÊâßË°åÊµãËØï 13 -t ‰ªÖËøêË°å‰ª•ÈÄóÂè∑ÂàÜÈöîÁöÑÊµãËØïÂëΩ‰ª§ÂàóË°®„ÄÇ 14 -I Idle Ê®°Âºè„ÄÇ‰ªÖÊâìÂºÄ N ‰∏™ idle ËøûÊé•Âπ∂Á≠âÂæÖ„ÄÇ - redis-benchmark -h 127.0.0.1 -p 6379 -t set,lpush -n 10000 -q Redis ÂÆ¢Êà∑Á´ØËøûÊé• Redis ÈÄöËøáÁõëÂê¨‰∏Ä‰∏™ TCP Á´ØÂè£ÊàñËÄÖ Unix socket ÁöÑÊñπÂºèÊù•Êé•Êî∂Êù•Ëá™ÂÆ¢Êà∑Á´ØÁöÑËøûÊé•ÔºåÂΩì‰∏Ä‰∏™ËøûÊé•Âª∫Á´ãÂêéÔºåRedis ÂÜÖÈÉ®‰ºöËøõË°å‰ª•‰∏ã‰∏Ä‰∫õÊìç‰ΩúÔºö È¶ñÂÖàÔºåÂÆ¢Êà∑Á´Ø socket ‰ºöË¢´ËÆæÁΩÆ‰∏∫ÈùûÈòªÂ°ûÊ®°ÂºèÔºåÂõ†‰∏∫ Redis Âú®ÁΩëÁªú‰∫ã‰ª∂Â§ÑÁêÜ‰∏äÈááÁî®ÁöÑÊòØÈùûÈòªÂ°ûÂ§öË∑ØÂ§çÁî®Ê®°Âûã„ÄÇ ÁÑ∂Âêé‰∏∫Ëøô‰∏™ socket ËÆæÁΩÆ TCP_NODELAY Â±ûÊÄßÔºåÁ¶ÅÁî® Nagle ÁÆóÊ≥ï ÁÑ∂ÂêéÂàõÂª∫‰∏Ä‰∏™ÂèØËØªÁöÑÊñá‰ª∂‰∫ã‰ª∂Áî®‰∫éÁõëÂê¨Ëøô‰∏™ÂÆ¢Êà∑Á´Ø socket ÁöÑÊï∞ÊçÆÂèëÈÄÅ ÊúÄÂ§ßËøûÊé•Êï∞ Âú® Redis2.4 ‰∏≠ÔºåÊúÄÂ§ßËøûÊé•Êï∞ÊòØË¢´Áõ¥Êé•Á°¨ÁºñÁ†ÅÂú®‰ª£Á†ÅÈáåÈù¢ÁöÑÔºåËÄåÂú®2.6ÁâàÊú¨‰∏≠Ëøô‰∏™ÂÄºÂèòÊàêÂèØÈÖçÁΩÆÁöÑ„ÄÇ maxclients ÁöÑÈªòËÆ§ÂÄºÊòØ 10000Ôºå‰Ω†‰πüÂèØ‰ª•Âú® redis.conf ‰∏≠ÂØπËøô‰∏™ÂÄºËøõË°å‰øÆÊîπ„ÄÇ config get maxclients redis-server --maxclients 100000 S.N. ÂëΩ‰ª§ ÊèèËø∞ 1 CLIENT LIST ËøîÂõûËøûÊé•Âà∞ redis ÊúçÂä°ÁöÑÂÆ¢Êà∑Á´ØÂàóË°® 2 CLIENT SETNAME ËÆæÁΩÆÂΩìÂâçËøûÊé•ÁöÑÂêçÁß∞ 3 CLIENT GETNAME Ëé∑ÂèñÈÄöËøá CLIENT SETNAME ÂëΩ‰ª§ËÆæÁΩÆÁöÑÊúçÂä°ÂêçÁß∞ 4 CLIENT PAUSE ÊåÇËµ∑ÂÆ¢Êà∑Á´ØËøûÊé•ÔºåÊåáÂÆöÊåÇËµ∑ÁöÑÊó∂Èó¥‰ª•ÊØ´ÁßíËÆ° 5 CLIENT KILL ÂÖ≥Èó≠ÂÆ¢Êà∑Á´ØËøûÊé• RedisÁÆ°ÈÅìÊäÄÊúØ RedisÊòØ‰∏ÄÁßçÂü∫‰∫éÂÆ¢Êà∑Á´Ø-ÊúçÂä°Á´ØÊ®°Âûã‰ª•ÂèäËØ∑Ê±Ç/ÂìçÂ∫îÂçèËÆÆÁöÑTCPÊúçÂä°„ÄÇËøôÊÑèÂë≥ÁùÄÈÄöÂ∏∏ÊÉÖÂÜµ‰∏ã‰∏Ä‰∏™ËØ∑Ê±Ç‰ºöÈÅµÂæ™‰ª•‰∏ãÊ≠•È™§Ôºö ÂÆ¢Êà∑Á´ØÂêëÊúçÂä°Á´ØÂèëÈÄÅ‰∏Ä‰∏™Êü•ËØ¢ËØ∑Ê±ÇÔºåÂπ∂ÁõëÂê¨Â•óÊé•Â≠óËøîÂõûÔºåÈÄöÂ∏∏‰ª•‰∏ÄÂØπÊ®°ÂºèÔºåÁ≠âÂæÖÊúçÂä°Á´ØÂìçÂ∫î„ÄÇ ÊúçÂä°Á´ØÂ§ÑÁêÜÂëΩ‰ª§ÔºåÂèØ‰ª•ÁªìÊûúËøîÂõûÁªôÂÆ¢Êà∑Á´Ø„ÄÇ RedisÁÆ°ÈÅìÊäÄÊúØÂèØ‰ª•Âú®ÊúçÂä°Á´ØÊú™ÂìçÂ∫îÊó∂ÔºåÂÆ¢Êà∑Á´ØÂèØ‰ª•ÁªßÁª≠ÂêëÊúçÂä°Á´ØÂèëÈÄÅËØ∑Ê±ÇÔºåÂπ∂ÊúÄÁªà‰∏ÄÊ¨°ÊÄßËØªÂèñÊâÄÊúâÊúçÂä°Á´ØÁöÑÂìçÂ∫î„ÄÇ Êü•ÁúãredisÁÆ°ÈÅìÔºåÂè™ÈúÄË¶ÅÂêØÂä®redisÂÆû‰æãÂπ∂ËæìÂÖ•‰ª•‰∏ãÂëΩ‰ª§Ôºö $Ôºàecho -en‚Äú PING \\ r \\ n SET runoobkey redis \\ r \\ nGET runoobkey \\ r \\ nINCRËÆøÈóÆËÄÖ\\ r \\ nINCRËÆøÈóÆËÄÖ\\ r \\ nINCRËÆøÈóÆËÄÖ\\ r \\ n‚ÄùÔºõÁù°Áú†10Ôºâ| Êï∞ÊéßÊú¨Âú∞‰∏ªÊú∫6379Ôºàecho - zh - cn ‚Äú PING \\ r \\ n SET redoobkey redis \\ r \\ nGET runoobkey \\ r \\ nINCRËÆøÈóÆËÄÖ\\ r \\ nINCRËÆøÈóÆËÄÖ\\ r \\ nINCRËÆøÈóÆËÄÖ\\ r \\ n‚Äù ÔºõÁù°Áú†10 Ôºâ| Êï∞ÊéßÊú¨Âú∞‰∏ªÊú∫6379 ‰ª•‰∏äÂÆû‰æã‰∏≠Êàë‰ª¨ÈÄöËøá‰ΩøÁî®PINGÂëΩ‰ª§Êü•ÁúãredisÊúçÂä°ÊòØÂê¶ÂèØÁî®Ôºå‰πãÂêéÊàë‰ª¨ËÆæÁΩÆ‰∫ÜrunoobkeyÁöÑÂèòÈáèredisÔºåÁÑ∂ÂêéÊàë‰ª¨Ëé∑ÂèñrunoobkeyÁöÑÂÄºÂπ∂‰ΩøÂÖ∂ËÆøÂÆ¢Ëá™Â¢û3Ê¨°„ÄÇ Âú®ËøîÂõûÁöÑÁªìÊûú‰∏≠Êàë‰ª¨ÂèØ‰ª•ÁúãÂà∞Ëøô‰∫õÂëΩ‰ª§‰∏ÄÊ¨°ÊÄßÂêëredisÊúçÂä°Êèê‰∫§ÔºåÂπ∂ÊúÄÁªà‰∏ÄÊ¨°ÊÄßËØªÂèñÊâÄÊúâÊúçÂä°Á´ØÁöÑÂìçÂ∫î ÁÆ°ÈÅìÊäÄÊúØÁöÑ‰ºòÂäø ÁÆ°ÈÅìÊäÄÊúØÊúÄÊòæÁùÄÁöÑ‰ºòÂäøÊòØÊèêÈ´ò‰∫ÜredisÊúçÂä°ÁöÑÊÄßËÉΩ„ÄÇ Redis ÂàÜÂå∫ ÂàÜÂå∫ÊòØÂàÜÂâ≤Êï∞ÊçÆÂà∞Â§ö‰∏™RedisÂÆû‰æãÁöÑÂ§ÑÁêÜËøáÁ®ãÔºåÂõ†Ê≠§ÊØè‰∏™ÂÆû‰æãÂè™‰øùÂ≠òkeyÁöÑ‰∏Ä‰∏™Â≠êÈõÜ„ÄÇ ÂàÜÂå∫ÁöÑ‰ºòÂäø ÈÄöËøáÂà©Áî®Â§öÂè∞ËÆ°ÁÆóÊú∫ÂÜÖÂ≠òÁöÑÂíåÂÄºÔºåÂÖÅËÆ∏Êàë‰ª¨ÊûÑÈÄ†Êõ¥Â§ßÁöÑÊï∞ÊçÆÂ∫ì„ÄÇ ÈÄöËøáÂ§öÊ†∏ÂíåÂ§öÂè∞ËÆ°ÁÆóÊú∫ÔºåÂÖÅËÆ∏Êàë‰ª¨Êâ©Â±ïËÆ°ÁÆóËÉΩÂäõÔºõÈÄöËøáÂ§öÂè∞ËÆ°ÁÆóÊú∫ÂíåÁΩëÁªúÈÄÇÈÖçÂô®ÔºåÂÖÅËÆ∏Êàë‰ª¨Êâ©Â±ïÁΩëÁªúÂ∏¶ÂÆΩ„ÄÇ ÂàÜÂå∫ÁöÑ‰∏çË∂≥ redisÁöÑ‰∏Ä‰∫õÁâπÊÄßÂú®ÂàÜÂå∫ÊñπÈù¢Ë°®Áé∞ÁöÑ‰∏çÊòØÂæàÂ•ΩÔºö Ê∂âÂèäÂ§ö‰∏™keyÁöÑÊìç‰ΩúÈÄöÂ∏∏ÊòØ‰∏çË¢´ÊîØÊåÅÁöÑ„ÄÇ‰∏æ‰æãÊù•ËØ¥ÔºåÂΩì‰∏§‰∏™setÊò†Â∞ÑÂà∞‰∏çÂêåÁöÑredisÂÆû‰æã‰∏äÊó∂Ôºå‰Ω†Â∞±‰∏çËÉΩÂØπËøô‰∏§‰∏™setÊâßË°å‰∫§ÈõÜÊìç‰Ωú„ÄÇ Ê∂âÂèäÂ§ö‰∏™keyÁöÑredis‰∫ãÂä°‰∏çËÉΩ‰ΩøÁî®„ÄÇ ÂΩì‰ΩøÁî®ÂàÜÂå∫Êó∂ÔºåÊï∞ÊçÆÂ§ÑÁêÜËæÉ‰∏∫Â§çÊùÇÔºåÊØîÂ¶Ç‰Ω†ÈúÄË¶ÅÂ§ÑÁêÜÂ§ö‰∏™rdb/aofÊñá‰ª∂ÔºåÂπ∂‰∏î‰ªéÂ§ö‰∏™ÂÆû‰æãÂíå‰∏ªÊú∫Â§á‰ªΩÊåÅ‰πÖÂåñÊñá‰ª∂„ÄÇ Â¢ûÂä†ÊàñÂà†Èô§ÂÆπÈáè‰πüÊØîËæÉÂ§çÊùÇ„ÄÇredisÈõÜÁæ§Â§ßÂ§öÊï∞ÊîØÊåÅÂú®ËøêË°åÊó∂Â¢ûÂä†„ÄÅÂà†Èô§ËäÇÁÇπÁöÑÈÄèÊòéÊï∞ÊçÆÂπ≥Ë°°ÁöÑËÉΩÂäõÔºå‰ΩÜÊòØÁ±ª‰ºº‰∫éÂÆ¢Êà∑Á´ØÂàÜÂå∫„ÄÅ‰ª£ÁêÜÁ≠âÂÖ∂‰ªñÁ≥ªÁªüÂàô‰∏çÊîØÊåÅËøôÈ°πÁâπÊÄß„ÄÇÁÑ∂ËÄåÔºå‰∏ÄÁßçÂè´ÂÅöpreshardingÁöÑÊäÄÊúØÂØπÊ≠§ÊòØÊúâÂ∏ÆÂä©ÁöÑ„ÄÇ ÂàÜÂå∫Á±ªÂûã Redis Êúâ‰∏§ÁßçÁ±ªÂûãÂàÜÂå∫„ÄÇ ÂÅáËÆæÊúâ4‰∏™RedisÂÆû‰æã R0ÔºåR1ÔºåR2ÔºåR3ÔºåÂíåÁ±ª‰ººuser:1Ôºåuser:2ËøôÊ†∑ÁöÑË°®Á§∫Áî®Êà∑ÁöÑÂ§ö‰∏™keyÔºåÂØπÊó¢ÂÆöÁöÑkeyÊúâÂ§öÁßç‰∏çÂêåÊñπÂºèÊù•ÈÄâÊã©Ëøô‰∏™keyÂ≠òÊîæÂú®Âì™‰∏™ÂÆû‰æã‰∏≠„ÄÇ‰πüÂ∞±ÊòØËØ¥ÔºåÊúâ‰∏çÂêåÁöÑÁ≥ªÁªüÊù•Êò†Â∞ÑÊüê‰∏™keyÂà∞Êüê‰∏™RedisÊúçÂä°„ÄÇ ËåÉÂõ¥ÂàÜÂå∫ ÊúÄÁÆÄÂçïÁöÑÂàÜÂå∫ÊñπÂºèÊòØÊåâËåÉÂõ¥ÂàÜÂå∫ÔºåÂ∞±ÊòØÊò†Â∞Ñ‰∏ÄÂÆöËåÉÂõ¥ÁöÑÂØπË±°Âà∞ÁâπÂÆöÁöÑRedisÂÆû‰æã„ÄÇ ÊØîÂ¶ÇÔºåID‰ªé0Âà∞10000ÁöÑÁî®Êà∑‰ºö‰øùÂ≠òÂà∞ÂÆû‰æãR0ÔºåID‰ªé10001Âà∞ 20000ÁöÑÁî®Êà∑‰ºö‰øùÂ≠òÂà∞R1Ôºå‰ª•Ê≠§Á±ªÊé®„ÄÇ ËøôÁßçÊñπÂºèÊòØÂèØË°åÁöÑÔºåÂπ∂‰∏îÂú®ÂÆûÈôÖ‰∏≠‰ΩøÁî®Ôºå‰∏çË∂≥Â∞±ÊòØË¶ÅÊúâ‰∏Ä‰∏™Âå∫Èó¥ËåÉÂõ¥Âà∞ÂÆû‰æãÁöÑÊò†Â∞ÑË°®„ÄÇËøô‰∏™Ë°®Ë¶ÅË¢´ÁÆ°ÁêÜÔºåÂêåÊó∂ËøòÈúÄË¶ÅÂêÑ ÁßçÂØπË±°ÁöÑÊò†Â∞ÑË°®ÔºåÈÄöÂ∏∏ÂØπRedisÊù•ËØ¥Âπ∂ÈùûÊòØÂ•ΩÁöÑÊñπÊ≥ï„ÄÇ ÂìàÂ∏åÂàÜÂå∫ Âè¶Â§ñ‰∏ÄÁßçÂàÜÂå∫ÊñπÊ≥ïÊòØhashÂàÜÂå∫„ÄÇËøôÂØπ‰ªª‰ΩïkeyÈÉΩÈÄÇÁî®Ôºå‰πüÊó†ÈúÄÊòØobject_name:ËøôÁßçÂΩ¢ÂºèÔºåÂÉè‰∏ãÈù¢ÊèèËø∞ÁöÑ‰∏ÄÊ†∑ÁÆÄÂçïÔºö Áî®‰∏Ä‰∏™hashÂáΩÊï∞Â∞ÜkeyËΩ¨Êç¢‰∏∫‰∏Ä‰∏™Êï∞Â≠óÔºåÊØîÂ¶Ç‰ΩøÁî®crc32 hashÂáΩÊï∞„ÄÇÂØπkey foobarÊâßË°åcrc32(foobar)‰ºöËæìÂá∫Á±ª‰ºº93024922ÁöÑÊï¥Êï∞„ÄÇ ÂØπËøô‰∏™Êï¥Êï∞ÂèñÊ®°ÔºåÂ∞ÜÂÖ∂ËΩ¨Âåñ‰∏∫0-3‰πãÈó¥ÁöÑÊï∞Â≠óÔºåÂ∞±ÂèØ‰ª•Â∞ÜËøô‰∏™Êï¥Êï∞Êò†Â∞ÑÂà∞4‰∏™RedisÂÆû‰æã‰∏≠ÁöÑ‰∏Ä‰∏™‰∫Ü„ÄÇ93024922 % 4 = 2ÔºåÂ∞±ÊòØËØ¥key foobarÂ∫îËØ•Ë¢´Â≠òÂà∞R2ÂÆû‰æã‰∏≠„ÄÇÊ≥®ÊÑèÔºöÂèñÊ®°Êìç‰ΩúÊòØÂèñÈô§ÁöÑ‰ΩôÊï∞ÔºåÈÄöÂ∏∏Âú®Â§öÁßçÁºñÁ®ãËØ≠Ë®Ä‰∏≠Áî®%Êìç‰ΩúÁ¨¶ÂÆûÁé∞„ÄÇ Redis Êâ©ÂÆπ ‚Äã ÂΩìÂÅöÁºìÂ≠ò‰ΩøÁî®Ôºå‰ΩøÁî®‰∏ÄËá¥ÊÄßÂìàÂ∏åÂÆûÁé∞Âä®ÊÄÅÊâ©ÂÆπÁº©ÂÆπ„ÄÇ ÂΩìÂÅö‰∏Ä‰∏™**ÊåÅ‰πÖÂåñÂ≠òÂÇ®**‰ΩøÁî®ÔºåÂøÖÈ°ª‰ΩøÁî®**Âõ∫ÂÆöÁöÑ keys-to-nodes Êò†Â∞ÑÂÖ≥Á≥ª**ÔºåËäÇÁÇπÁöÑÊï∞Èáè‰∏ÄÊó¶Á°ÆÂÆö‰∏çËÉΩÂèòÂåñ„ÄÇÂê¶ÂàôÁöÑËØù(Âç≥ Redis ËäÇÁÇπÈúÄË¶ÅÂä®ÊÄÅÂèòÂåñÁöÑÊÉÖÂÜµÔºâÔºåÂøÖÈ°ª‰ΩøÁî®ÂèØ‰ª•Âú®ËøêË°åÊó∂ËøõË°åÊï∞ÊçÆÂÜçÂπ≥Ë°°ÁöÑ‰∏ÄÂ•óÁ≥ªÁªüÔºåËÄåÂΩìÂâçÂè™Êúâ Redis ÈõÜÁæ§ÂèØ‰ª•ÂÅöÂà∞ËøôÊ†∑„ÄÇ Java ‰ΩøÁî® Redis jedis ÂÆâË£Ö ÂºÄÂßãÂú® Java ‰∏≠‰ΩøÁî® Redis ÂâçÔºå Êàë‰ª¨ÈúÄË¶ÅÁ°Æ‰øùÂ∑≤ÁªèÂÆâË£Ö‰∫Ü redis ÊúçÂä°Âèä Java redis È©±Âä®Ôºå‰∏î‰Ω†ÁöÑÊú∫Âô®‰∏äËÉΩÊ≠£Â∏∏‰ΩøÁî® Java„ÄÇ JavaÁöÑÂÆâË£ÖÈÖçÁΩÆÂèØ‰ª•ÂèÇËÄÉÊàë‰ª¨ÁöÑ Java ÂºÄÂèëÁéØÂ¢ÉÈÖçÁΩÆ Êé•‰∏ãÊù•ËÆ©Êàë‰ª¨ÂÆâË£Ö Java redis È©±Âä®Ôºö È¶ñÂÖà‰Ω†ÈúÄË¶Å‰∏ãËΩΩÈ©±Âä®ÂåÖ ‰∏ãËΩΩ jedis.jarÔºåÁ°Æ‰øù‰∏ãËΩΩÊúÄÊñ∞È©±Âä®ÂåÖ„ÄÇ Âú®‰Ω†ÁöÑ classpath ‰∏≠ÂåÖÂê´ËØ•È©±Âä®ÂåÖ„ÄÇ maven jedis ËøûÊé•Âà∞ redis ÊúçÂä° 12345678910111213- import redis.clients.jedis.Jedis;public class RedisJava { public static void main(String[] args) { //ËøûÊé•Êú¨Âú∞ÁöÑ Redis ÊúçÂä° Jedis jedis = new Jedis(&quot;localhost&quot;); // Â¶ÇÊûú Redis ÊúçÂä°ËÆæÁΩÆÊù•ÂØÜÁ†ÅÔºåÈúÄË¶Å‰∏ãÈù¢ËøôË°åÔºåÊ≤°ÊúâÂ∞±‰∏çÈúÄË¶Å // jedis.auth(&quot;123456&quot;); System.out.println(&quot;ËøûÊé•ÊàêÂäü&quot;); //Êü•ÁúãÊúçÂä°ÊòØÂê¶ËøêË°å System.out.println(&quot;ÊúçÂä°Ê≠£Âú®ËøêË°å: &quot;+jedis.ping()); }} Redis Java String(Â≠óÁ¨¶‰∏≤) ÂÆû‰æã 12345678910111213- import redis.clients.jedis.Jedis;public class RedisStringJava { public static void main(String[] args) { //ËøûÊé•Êú¨Âú∞ÁöÑ Redis ÊúçÂä° Jedis jedis = new Jedis(&quot;localhost&quot;); System.out.println(&quot;ËøûÊé•ÊàêÂäü&quot;); //ËÆæÁΩÆ redis Â≠óÁ¨¶‰∏≤Êï∞ÊçÆ jedis.set(&quot;runoobkey&quot;, &quot;www.runoob.com&quot;); // Ëé∑ÂèñÂ≠òÂÇ®ÁöÑÊï∞ÊçÆÂπ∂ËæìÂá∫ System.out.println(&quot;redis Â≠òÂÇ®ÁöÑÂ≠óÁ¨¶‰∏≤‰∏∫: &quot;+ jedis.get(&quot;runoobkey&quot;)); }} Redis Java List(ÂàóË°®) ÂÆû‰æã 12345678910111213141516171819- import java.util.List; import redis.clients.jedis.Jedis;public class RedisListJava { public static void main(String[] args) { //ËøûÊé•Êú¨Âú∞ÁöÑ Redis ÊúçÂä° Jedis jedis = new Jedis(&quot;localhost&quot;); System.out.println(&quot;ËøûÊé•ÊàêÂäü&quot;); //Â≠òÂÇ®Êï∞ÊçÆÂà∞ÂàóË°®‰∏≠ jedis.lpush(&quot;site-list&quot;, &quot;Runoob&quot;); jedis.lpush(&quot;site-list&quot;, &quot;Google&quot;); jedis.lpush(&quot;site-list&quot;, &quot;Taobao&quot;); // Ëé∑ÂèñÂ≠òÂÇ®ÁöÑÊï∞ÊçÆÂπ∂ËæìÂá∫ List&lt;String&gt; list = jedis.lrange(&quot;site-list&quot;, 0 ,2); for(int i=0; i&lt;list.size(); i++) { System.out.println(&quot;ÂàóË°®È°π‰∏∫: &quot;+list.get(i)); } }} Redis Java Keys ÂÆû‰æã 1234567891011121314151617 - import java.util.Iterator; import java.util.Set; import redis.clients.jedis.Jedis;public class RedisKeyJava { public static void main(String[] args) { //ËøûÊé•Êú¨Âú∞ÁöÑ Redis ÊúçÂä° Jedis jedis = new Jedis(&quot;localhost&quot;); System.out.println(&quot;ËøûÊé•ÊàêÂäü&quot;); // Ëé∑ÂèñÊï∞ÊçÆÂπ∂ËæìÂá∫ Set&lt;String&gt; keys = jedis.keys(&quot;*&quot;); Iterator&lt;String&gt; it=keys.iterator() ; while(it.hasNext()){ String key = it.next(); System.out.println(key); }}} Jedis‰∫ãÂä° 12345678910111213141516171819202122232425public static void main(String[] args) {Jedis jedis = new Jedis(&quot;127.0.0.1&quot;, 6379);jedis.flushDB();JSONObject jsonObject = new JSONObject();jsonObject.put(&quot;hello&quot;,&quot;world&quot;);jsonObject.put(&quot;name&quot;,&quot;xiaobai&quot;);// ÂºÄÂêØ‰∫ãÂä°Transaction multi = jedis.multi();String result = jsonObject.toJSONString();// jedis.watch(result)try {multi.set(&quot;user1&quot;,result);multi.set(&quot;user2&quot;,result);int i = 1/0 ; // ‰ª£Á†ÅÊäõÂá∫ÂºÇÂ∏∏‰∫ãÂä°ÔºåÊâßË°åÂ§±Ë¥•ÔºÅmulti.exec(); // ÊâßË°å‰∫ãÂä°ÔºÅ} catch (Exception e) {multi.discard(); // ÊîæÂºÉ‰∫ãÂä°e.printStackTrace();} finally {System.out.println(jedis.get(&quot;user1&quot;));System.out.println(jedis.get(&quot;user2&quot;));jedis.close(); // ÂÖ≥Èó≠ËøûÊé•}} SpringBootÊï¥ÂêàRedis SpringBoot Êìç‰ΩúÊï∞ÊçÆÔºöspring-data jpa jdbc mongodb redisÔºÅ SpringData ‰πüÊòØÂíå SpringBoot ÈΩêÂêçÁöÑÈ°πÁõÆÔºÅ ËØ¥ÊòéÔºö Âú® SpringBoot2.x ‰πãÂêéÔºåÂéüÊù•‰ΩøÁî®ÁöÑjedis Ë¢´ÊõøÊç¢‰∏∫‰∫Ü lettuce? jedis : ÈááÁî®ÁöÑÁõ¥ËøûÔºåÂ§ö‰∏™Á∫øÁ®ãÊìç‰ΩúÁöÑËØùÔºåÊòØ‰∏çÂÆâÂÖ®ÁöÑÔºåÂ¶ÇÊûúÊÉ≥Ë¶ÅÈÅøÂÖç‰∏çÂÆâÂÖ®ÁöÑÔºå‰ΩøÁî® jedis pool ËøûÊé•Ê±†ÔºÅ Êõ¥ÂÉè BIO Ê®°Âºè lettuce : ÈááÁî®nettyÔºåÂÆû‰æãÂèØ‰ª•ÂÜçÂ§ö‰∏™Á∫øÁ®ã‰∏≠ËøõË°åÂÖ±‰∫´Ôºå‰∏çÂ≠òÂú®Á∫øÁ®ã‰∏çÂÆâÂÖ®ÁöÑÊÉÖÂÜµÔºÅÂèØ‰ª•ÂáèÂ∞ëÁ∫øÁ®ãÊï∞ÊçÆ‰∫ÜÔºåÊõ¥ÂÉè NIO Ê®°Âºè Ê∫êÁ†ÅÂàÜÊûêÔºö 12345678910111213141516171819202122@Bean@ConditionalOnMissingBean(name = &quot;redisTemplate&quot;) // Êàë‰ª¨ÂèØ‰ª•Ëá™Â∑±ÂÆö‰πâ‰∏Ä‰∏™redisTemplateÊù•ÊõøÊç¢Ëøô‰∏™ÈªòËÆ§ÁöÑÔºÅpublic RedisTemplate&lt;Object, Object&gt; redisTemplate(RedisConnectionFactoryredisConnectionFactory)throws UnknownHostException {// ÈªòËÆ§ÁöÑ RedisTemplate Ê≤°ÊúâËøáÂ§öÁöÑËÆæÁΩÆÔºåredis ÂØπË±°ÈÉΩÊòØÈúÄË¶ÅÂ∫èÂàóÂåñÔºÅ// ‰∏§‰∏™Ê≥õÂûãÈÉΩÊòØ Object, Object ÁöÑÁ±ªÂûãÔºåÊàë‰ª¨Âêé‰ΩøÁî®ÈúÄË¶ÅÂº∫Âà∂ËΩ¨Êç¢ &lt;String, Object&gt;RedisTemplate&lt;Object, Object&gt; template = new RedisTemplate&lt;&gt;();template.setConnectionFactory(redisConnectionFactory);return template;}@Bean@ConditionalOnMissingBean // Áî±‰∫é String ÊòØredis‰∏≠ÊúÄÂ∏∏‰ΩøÁî®ÁöÑÁ±ªÂûãÔºåÊâÄ‰ª•ËØ¥ÂçïÁã¨ÊèêÂá∫Êù•‰∫Ü‰∏Ä‰∏™beanÔºÅpublic StringRedisTemplate stringRedisTemplate(RedisConnectionFactoryredisConnectionFactory)throws UnknownHostException {StringRedisTemplate template = new StringRedisTemplate();template.setConnectionFactory(redisConnectionFactory);return template;} 1234567891011121314151617181920212223242526272829303132333435361„ÄÅÂØºÂÖ•‰æùËµñ&lt;!-- Êìç‰Ωúredis --&gt;&lt;dependency&gt;&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;&lt;artifactId&gt;spring-boot-starter-data-redis&lt;/artifactId&gt;&lt;/dependency&gt;2„ÄÅÈÖçÁΩÆËøûÊé•# ÈÖçÁΩÆredisspring.redis.host=127.0.0.1spring.redis.port=63793„ÄÅÊµãËØïÔºÅ@SpringBootTestclass Redis02SpringbootApplicationTests {@Autowiredprivate RedisTemplate redisTemplate;@Testvoid contextLoads() {// redisTemplate Êìç‰Ωú‰∏çÂêåÁöÑÊï∞ÊçÆÁ±ªÂûãÔºåapiÂíåÊàë‰ª¨ÁöÑÊåá‰ª§ÊòØ‰∏ÄÊ†∑ÁöÑ// opsForValue Êìç‰ΩúÂ≠óÁ¨¶‰∏≤ Á±ª‰ººString// opsForList Êìç‰ΩúList Á±ª‰ººList// opsForSet// opsForHash// opsForZSet// opsForGeo// opsForHyperLogLog// Èô§‰∫ÜËøõÊú¨ÁöÑÊìç‰ΩúÔºåÊàë‰ª¨Â∏∏Áî®ÁöÑÊñπÊ≥ïÈÉΩÂèØ‰ª•Áõ¥Êé•ÈÄöËøáredisTemplateÊìç‰ΩúÔºåÊØîÂ¶Ç‰∫ãÂä°ÔºåÂíåÂü∫Êú¨ÁöÑCRUD// Ëé∑ÂèñredisÁöÑËøûÊé•ÂØπË±°// RedisConnection connection =redisTemplate.getConnectionFactory().getConnection();// connection.flushDb();// connection.flushAll();redisTemplate.opsForValue().set(&quot;mykey&quot;,&quot;ÂÖ≥Ê≥®ÁãÇÁ•ûËØ¥ÂÖ¨‰ºóÂè∑&quot;);System.out.println(redisTemplate.opsForValue().get(&quot;mykey&quot;));}} Â∫îÁî®Âú∫ÊôØ ËÆ°ÁÆóÂô®„ÄÅÈôêÈÄüÂô®„ÄÅÂ•ΩÂèãÂÖ≥Á≥ª ÁºìÂ≠ò‚Äî‚ÄîÊèêÂçáÁÉ≠ÁÇπÊï∞ÊçÆÁöÑËÆøÈóÆÈÄüÂ∫¶ ÂÖ±‰∫´Êï∞ÊçÆ‚Äî‚ÄîÊï∞ÊçÆÁöÑÂ≠òÂÇ®ÂíåÂÖ±‰∫´ÁöÑÈóÆÈ¢ò ÂÖ®Â±Ä ID ‚Äî‚Äî ÂàÜÂ∏ÉÂºèÂÖ®Â±Ä ID ÁöÑÁîüÊàêÊñπÊ°àÔºàÂàÜÂ∫ìÂàÜË°®Ôºâ ÂàÜÂ∏ÉÂºèÈîÅ‚Äî‚ÄîËøõÁ®ãÈó¥ÂÖ±‰∫´Êï∞ÊçÆÁöÑÂéüÂ≠êÊìç‰Ωú‰øùËØÅ Âú®Á∫øÁî®Êà∑ÁªüËÆ°ÂíåËÆ°Êï∞ ‚Äî‚Äî ‰ΩøÁî®‰ΩçÂõæËøõË°å‰ΩçËøêÁÆó ÈòüÂàó„ÄÅÊ†à‚Äî‚ÄîË∑®ËøõÁ®ãÁöÑÈòüÂàó/Ê†à Ê∂àÊÅØÈòüÂàó‚Äî‚ÄîÂºÇÊ≠•Ëß£ËÄ¶ÁöÑÊ∂àÊÅØÊú∫Âà∂ ÊúçÂä°Ê≥®ÂÜå‰∏éÂèëÁé∞ ‚Äî‚Äî RPC ÈÄö‰ø°Êú∫Âà∂ÁöÑÊúçÂä°ÂçèË∞É‰∏≠ÂøÉÔºàDubbo ÊîØÊåÅ RedisÔºâ ÂÖ±‰∫´Áî®Êà∑ Session ‚Äî‚Äî Áî®Êà∑SessionÁöÑÊõ¥Êñ∞ÂíåËé∑ÂèñÈÉΩÂèØ‰ª•Âø´ÈÄüÂÆåÊàê ÊéíË°åÊ¶ú‚Äî‚Äî ÈÄöËøáÂàÜÈÖçÂÖÉÁ¥† score ÂÄºËøõË°åÊéíÂ∫è Ôºà1Ôºâ„ÄÅ‰ºöËØùÁºìÂ≠òÔºàSession CacheÔºâ ÊúÄÂ∏∏Áî®ÁöÑ‰∏ÄÁßç‰ΩøÁî® Redis ÁöÑÊÉÖÊôØÊòØ‰ºöËØùÁºìÂ≠òÔºàsession cacheÔºâ„ÄÇÁî® Redis ÁºìÂ≠ò‰ºöËØùÊØîÂÖ∂‰ªñ Â≠òÂÇ®ÔºàÂ¶Ç MemcachedÔºâÁöÑ‰ºòÂäøÂú®‰∫éÔºöRedis Êèê‰æõÊåÅ‰πÖÂåñ„ÄÇÂΩìÁª¥Êä§‰∏Ä‰∏™‰∏çÊòØ‰∏•Ê†ºË¶ÅÊ±Ç‰∏ÄËá¥ÊÄß ÁöÑÁºìÂ≠òÊó∂ÔºåÂ¶ÇÊûúÁî®Êà∑ÁöÑË¥≠Áâ©ËΩ¶‰ø°ÊÅØÂÖ®ÈÉ®‰∏¢Â§±ÔºåÂ§ßÈÉ®ÂàÜ‰∫∫ÈÉΩ‰ºö‰∏çÈ´òÂÖ¥ÁöÑÔºåÁé∞Âú®Ôºå‰ªñ‰ª¨Ëøò‰ºöËøôÊ†∑ ÂêóÔºü Âπ∏ËøêÁöÑÊòØÔºåÈöèÁùÄ Redis Ëøô‰∫õÂπ¥ÁöÑÊîπËøõÔºåÂæàÂÆπÊòìÊâæÂà∞ÊÄé‰πàÊÅ∞ÂΩìÁöÑ‰ΩøÁî® Redis Êù•ÁºìÂ≠ò‰ºöËØùÁöÑÊñá Ê°£„ÄÇÁîöËá≥Âπø‰∏∫‰∫∫Áü•ÁöÑÂïÜ‰∏öÂπ≥Âè∞ Magento ‰πüÊèê‰æõ Redis ÁöÑÊèí‰ª∂„ÄÇ Ôºà2Ôºâ„ÄÅÂÖ®È°µÁºìÂ≠òÔºàFPCÔºâ Èô§Âü∫Êú¨ÁöÑ‰ºöËØù token ‰πãÂ§ñÔºåRedis ËøòÊèê‰æõÂæàÁÆÄ‰æøÁöÑ FPC Âπ≥Âè∞„ÄÇÂõûÂà∞‰∏ÄËá¥ÊÄßÈóÆÈ¢òÔºåÂç≥‰ΩøÈáçÂêØ ‰∫Ü Redis ÂÆû‰æãÔºåÂõ†‰∏∫ÊúâÁ£ÅÁõòÁöÑÊåÅ‰πÖÂåñÔºåÁî®Êà∑‰πü‰∏ç‰ºöÁúãÂà∞È°µÈù¢Âä†ËΩΩÈÄüÂ∫¶ÁöÑ‰∏ãÈôçÔºåËøôÊòØ‰∏Ä‰∏™ÊûÅ Â§ßÊîπËøõÔºåÁ±ª‰ºº PHP Êú¨Âú∞ FPC„ÄÇ ÂÜçÊ¨°‰ª• Magento ‰∏∫‰æãÔºåMagento Êèê‰æõ‰∏Ä‰∏™Êèí‰ª∂Êù•‰ΩøÁî® Redis ‰Ωú‰∏∫ÂÖ®È°µÁºìÂ≠òÂêéÁ´Ø„ÄÇ Ê≠§Â§ñÔºåÂØπ WordPress ÁöÑÁî®Êà∑Êù•ËØ¥ÔºåPantheon Êúâ‰∏Ä‰∏™ÈùûÂ∏∏Â•ΩÁöÑÊèí‰ª∂ wp-RedisÔºåËøô‰∏™Êèí‰ª∂ ËÉΩÂ∏ÆÂä©‰Ω†‰ª•ÊúÄÂø´ÈÄüÂ∫¶Âä†ËΩΩ‰Ω†ÊõæÊµèËßàËøáÁöÑÈ°µÈù¢„ÄÇ Ôºà3Ôºâ„ÄÅÈòüÂàó Reids Âú®ÂÜÖÂ≠òÂ≠òÂÇ®ÂºïÊìéÈ¢ÜÂüüÁöÑ‰∏ÄÂ§ß‰ºòÁÇπÊòØÊèê‰æõ list Âíå set Êìç‰ΩúÔºåËøô‰ΩøÂæó Redis ËÉΩ‰Ωú‰∏∫‰∏Ä‰∏™ ÂæàÂ•ΩÁöÑÊ∂àÊÅØÈòüÂàóÂπ≥Âè∞Êù•‰ΩøÁî®„ÄÇRedis ‰Ωú‰∏∫ÈòüÂàó‰ΩøÁî®ÁöÑÊìç‰ΩúÔºåÂ∞±Á±ª‰ºº‰∫éÊú¨Âú∞Á®ãÂ∫èËØ≠Ë®ÄÔºàÂ¶Ç PythonÔºâÂØπ list ÁöÑ push/pop Êìç‰Ωú„ÄÇ Â¶ÇÊûú‰Ω†Âø´ÈÄüÁöÑÂú® Google ‰∏≠ÊêúÁ¥¢‚ÄúRedis queues‚ÄùÔºå‰Ω†È©¨‰∏äÂ∞±ËÉΩÊâæÂà∞Â§ßÈáèÁöÑÂºÄÊ∫êÈ°πÁõÆÔºåËøô‰∫õ È°πÁõÆÁöÑÁõÆÁöÑÂ∞±ÊòØÂà©Áî® Redis ÂàõÂª∫ÈùûÂ∏∏Â•ΩÁöÑÂêéÁ´ØÂ∑•ÂÖ∑Ôºå‰ª•Êª°Ë∂≥ÂêÑÁßçÈòüÂàóÈúÄÊ±Ç„ÄÇ‰æãÂ¶ÇÔºåCelery Êúâ‰∏Ä‰∏™ÂêéÂè∞Â∞±ÊòØ‰ΩøÁî® Redis ‰Ωú‰∏∫ brokerÔºå‰Ω†ÂèØ‰ª•‰ªéËøôÈáåÂéªÊü•Áúã„ÄÇ Ôºà4Ôºâ„ÄÅÊéíË°åÊ¶ú/ËÆ°Êï∞Âô® RedisÂú®ÂÜÖÂ≠ò‰∏≠ÂØπÊï∞Â≠óËøõË°åÈÄíÂ¢ûÊàñÈÄíÂáèÁöÑÊìç‰ΩúÂÆûÁé∞ÁöÑÈùûÂ∏∏Â•Ω„ÄÇÈõÜÂêàÔºàSetÔºâÂíåÊúâÂ∫èÈõÜÂêàÔºàSorted SetÔºâ‰πü‰ΩøÂæóÊàë‰ª¨Âú®ÊâßË°åËøô‰∫õÊìç‰ΩúÁöÑÊó∂ÂÄôÂèòÁöÑÈùûÂ∏∏ÁÆÄÂçïÔºåRedis Âè™ÊòØÊ≠£Â•ΩÊèê‰æõ‰∫ÜËøô‰∏§ÁßçÊï∞ÊçÆ ÁªìÊûÑ„ÄÇÊâÄ‰ª•ÔºåÊàë‰ª¨Ë¶Å‰ªéÊéíÂ∫èÈõÜÂêà‰∏≠Ëé∑ÂèñÂà∞ÊéíÂêçÊúÄÈù†ÂâçÁöÑ 10 ‰∏™Áî®Êà∑‚ÄìÊàë‰ª¨Áß∞‰πã‰∏∫ ‚Äúuser_scores‚ÄùÔºåÊàë‰ª¨Âè™ÈúÄË¶ÅÂÉè‰∏ãÈù¢‰∏ÄÊ†∑ÊâßË°åÂç≥ÂèØÔºö ÂΩìÁÑ∂ÔºåËøôÊòØÂÅáÂÆö‰Ω†ÊòØÊ†πÊçÆ‰Ω†Áî®Êà∑ÁöÑÂàÜÊï∞ÂÅöÈÄíÂ¢ûÁöÑÊéíÂ∫è„ÄÇÂ¶ÇÊûú‰Ω†ÊÉ≥ËøîÂõûÁî®Êà∑ÂèäÁî®Êà∑ÁöÑÂàÜÊï∞Ôºå‰Ω† ÂÖ≥Ê≥®ÂæÆ‰ø°ÂÖ¨‰ºóÂè∑ÔºöÁâõÁâõÊû∂ÊûÑÂ∏àÔºåÂõûÂ§çÔºöÈù¢ËØïÈ¢òÔºåËé∑ÂèñÊúÄÊñ∞ÁâàÈù¢ËØïÈ¢ò ÈúÄË¶ÅËøôÊ†∑ÊâßË°åÔºö ZRANGE user_scores 0 10 WITHSCORES Agora Games Â∞±ÊòØ‰∏Ä‰∏™ÂæàÂ•ΩÁöÑ‰æãÂ≠êÔºåÁî® Ruby ÂÆûÁé∞ÁöÑÔºåÂÆÉÁöÑÊéíË°åÊ¶úÂ∞±ÊòØ‰ΩøÁî® Redis Êù•Â≠òÂÇ® Êï∞ÊçÆÁöÑÔºå‰Ω†ÂèØ‰ª•Âú®ËøôÈáåÁúãÂà∞„ÄÇ Ôºà5Ôºâ„ÄÅÂèëÂ∏É/ËÆ¢ÈòÖ ÊúÄÂêéÔºà‰ΩÜËÇØÂÆö‰∏çÊòØÊúÄ‰∏çÈáçË¶ÅÁöÑÔºâÊòØ Redis ÁöÑÂèëÂ∏É/ËÆ¢ÈòÖÂäüËÉΩ„ÄÇÂèëÂ∏É/ËÆ¢ÈòÖÁöÑ‰ΩøÁî®Âú∫ÊôØÁ°ÆÂÆûÈùû Â∏∏Â§ö„ÄÇÊàëÂ∑≤ÁúãËßÅ‰∫∫‰ª¨Âú®Á§æ‰∫§ÁΩëÁªúËøûÊé•‰∏≠‰ΩøÁî®ÔºåËøòÂèØ‰Ωú‰∏∫Âü∫‰∫éÂèëÂ∏É/ËÆ¢ÈòÖÁöÑËÑöÊú¨Ëß¶ÂèëÂô®ÔºåÁîöËá≥ Áî® Redis ÁöÑÂèëÂ∏É/ËÆ¢ÈòÖÂäüËÉΩÊù•Âª∫Á´ãËÅäÂ§©Á≥ªÁªüÔºÅÔºà‰∏çÔºåËøôÊòØÁúüÁöÑÔºå‰Ω†ÂèØ‰ª•ÂéªÊ†∏ÂÆûÔºâ","link":"/2021/03/01/Draft/2021/Redis/"},{"title":"Âø´Êü•","text":"Linux,Shell,ËΩØ‰ª∂Á≠âÂ∏∏Áî®ÂëΩ‰ª§Âø´Êç∑ÈîÆ ÊäÄÊúØÂÆòÊñπÊñáÊ°£ JAVA SpringÂÖ®ÂÆ∂Ê°∂ MYSQL JAVA 1234567891011121314151617181920212223242526272829303132333435java -ÈÄâÈ°πÂÖ∂‰∏≠ÈÄâÈ°πÂåÖÊã¨: -d32 ‰ΩøÁî® 32 ‰ΩçÊï∞ÊçÆÊ®°Âûã (Â¶ÇÊûúÂèØÁî®) -d64 ‰ΩøÁî® 64 ‰ΩçÊï∞ÊçÆÊ®°Âûã (Â¶ÇÊûúÂèØÁî®) -server ÈÄâÊã© &quot;server&quot; VM ÈªòËÆ§ VM ÊòØ server. -cp &lt;ÁõÆÂΩïÂíå zip/jar Êñá‰ª∂ÁöÑÁ±ªÊêúÁ¥¢Ë∑ØÂæÑ&gt; -classpath &lt;ÁõÆÂΩïÂíå zip/jar Êñá‰ª∂ÁöÑÁ±ªÊêúÁ¥¢Ë∑ØÂæÑ&gt; Áî® ; ÂàÜÈöîÁöÑÁõÆÂΩï, JAR Ê°£Ê°à Âíå ZIP Ê°£Ê°àÂàóË°®, Áî®‰∫éÊêúÁ¥¢Á±ªÊñá‰ª∂„ÄÇ -D&lt;ÂêçÁß∞&gt;=&lt;ÂÄº&gt; ËÆæÁΩÆÁ≥ªÁªüÂ±ûÊÄß -verbose:[class|gc|jni] ÂêØÁî®ËØ¶ÁªÜËæìÂá∫ -version ËæìÂá∫‰∫ßÂìÅÁâàÊú¨Âπ∂ÈÄÄÂá∫ -showversion ËæìÂá∫‰∫ßÂìÅÁâàÊú¨Âπ∂ÁªßÁª≠ -ea[:&lt;packagename&gt;...|:&lt;classname&gt;] -enableassertions[:&lt;packagename&gt;...|:&lt;classname&gt;] ÊåâÊåáÂÆöÁöÑÁ≤íÂ∫¶ÂêØÁî®Êñ≠Ë®Ä -da[:&lt;packagename&gt;...|:&lt;classname&gt;] -disableassertions[:&lt;packagename&gt;...|:&lt;classname&gt;] Á¶ÅÁî®ÂÖ∑ÊúâÊåáÂÆöÁ≤íÂ∫¶ÁöÑÊñ≠Ë®Ä -esa | -enablesystemassertions ÂêØÁî®Á≥ªÁªüÊñ≠Ë®Ä -dsa | -disablesystemassertions Á¶ÅÁî®Á≥ªÁªüÊñ≠Ë®Ä -agentlib:&lt;libname&gt;[=&lt;ÈÄâÈ°π&gt;] Âä†ËΩΩÊú¨Êú∫‰ª£ÁêÜÂ∫ì &lt;libname&gt;, ‰æãÂ¶Ç -agentlib:hprof Âè¶ËØ∑ÂèÇÈòÖ -agentlib:jdwp=help Âíå -agentlib:hprof=help -agentpath:&lt;pathname&gt;[=&lt;ÈÄâÈ°π&gt;] ÊåâÂÆåÊï¥Ë∑ØÂæÑÂêçÂä†ËΩΩÊú¨Êú∫‰ª£ÁêÜÂ∫ì -javaagent:&lt;jarpath&gt;[=&lt;ÈÄâÈ°π&gt;] Âä†ËΩΩ Java ÁºñÁ®ãËØ≠Ë®Ä‰ª£ÁêÜ, ËØ∑ÂèÇÈòÖ java.lang.instrument -splash:&lt;imagepath&gt; ‰ΩøÁî®ÊåáÂÆöÁöÑÂõæÂÉèÊòæÁ§∫ÂêØÂä®Â±èÂπïÊúâÂÖ≥ËØ¶ÁªÜ‰ø°ÊÅØ, ËØ∑ÂèÇÈòÖ http://www.oracle.com/technetwork/java/javase/documentation/index.html„ÄÇ Â∏∏Áî® 123#Êü•ÁúãJDKÂÆâË£ÖË∑ØÂæÑ ÁªìÊûúÁ¨¨‰∏ÄË°åjava -verbose#[Opened C:\\Program Files\\Java\\jdk1.8.0_181\\jre\\lib\\rt.jar] CMD ÁîµËÑë‰ø°ÊÅØ 1234#Êü•ÁúãÁîµËÑë‰ø°ÊÅØsysteminfo#Êü•ÁúãÂºÄÊú∫ÂêØÂä®Êñá‰ª∂Â§πshell:common startup Êñá‰ª∂‰ø°ÊÅØ 12#Êü•ÁúãÊñá‰ª∂Ê†ë‰∏çÂä†/f‰∏∫Êü•ÁúãÊñá‰ª∂ÁõÆÂΩïÊ†ëtree /f cmdÁ™óÂè£ÁÇπÂáªÂÜÖÂÆπ‰ºöÊöÇÂÅúÔºåÂè≥ÈîÆÂ±ûÊÄßÂÖ≥Èó≠Âø´ÈÄüÁºñËæëÂç≥ÂèØÔºå‰ΩÜÊòØÂÖ≥Èó≠ÂêéÊó†Ê≥ïÂ§çÂà∂cmdÂÜÖÂÆπ„ÄÇ ÁΩëÁªú 123456789101112131415161718#Êü•ÊâæÂØπÂ∫îÁ´ØÂè£pidnetstat -aon|findstr &quot;59207&quot;#Êü•ÁúãÂØπÂ∫îpidÁ®ãÂ∫ètasklist|findstr &quot;1396&quot;#ÂÖ≥Èó≠ÂØπÂ∫îÁ´ØÂè£taskkill /t /f /pid &quot;8888&quot;#ÂêØÂä®ËøúÁ®ãÊ°åÈù¢mstsc #Á≠ñÁï•ÁªÑgpedit.msc#ÁªôÂêåÂ±ÄÂüüÁΩëÂèëÈÄÅÊ∂àÊÅØÂºπÁ™ómsg /server:126.11.9.213 * Ê∂àÊÅØ #Êü•ÁúãÂüüÂêçIPnslookup ÂüüÂêç#Êü•ÁúãÁ´ØÂè£ÊòØÂê¶‰∫íÈÄöÔºåÈúÄË¶ÅÊéßÂà∂Èù¢ÊùøÊâìÂºÄ telnetÂäüËÉΩtelnet ip Á´ØÂè£#Êü•Áúã‰∏ªÊùøÊîØÊåÅÊúÄÂ§ßÂÜÖÂ≠òwmic memphysical get maxcapacity ÁΩëÁªúÂàáÊç¢ 12345678@ echo off%1 %2ver|find &quot;5.&quot;&gt;nul&amp;&amp;goto :Adminmshta vbscript:createobject(&quot;shell.application&quot;).shellexecute(&quot;%~s0&quot;,&quot;goto :Admin&quot;,&quot;&quot;,&quot;runas&quot;,1)(window.close)&amp;goto :eof:Adminnetsh interface set interface &quot;WLAN&quot; enablednetsh interface set interface &quot;INSEIDE&quot; disabled windowsÂø´Êç∑ÂºπÁ™ó 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950#ËÆ°ÁÆóÂô® calc#Ââ™Ë¥¥Á∞øÊü•ÁúãÂô® clipbrd#ËÆæÂ§áÁÆ°ÁêÜÂô® devmgmt.msc#ÊòæÁ§∫Â±ûÊÄß control desktop (desk.cpl)#InternetÂ±ûÊÄß inetcpl.cpl#IPÈÖçÁΩÆÂÆûÁî®Á®ãÂ∫è(ÊòæÁ§∫ËøûÊé•ÈÖçÁΩÆ) ipconfig /all#IPÈÖçÁΩÆÂÆûÁî®Á®ãÂ∫è(ÊòæÁ§∫DNSÁºìÂ≠òÂÜÖÂÆπ) ipconfig /displaydns#IPÈÖçÁΩÆÂÆûÁî®Á®ãÂ∫è(Âà†Èô§DNSÁºìÂ≠òÂÜÖÂÆπ) ipconfig /flushdns#IPÈÖçÁΩÆÂÆûÁî®Á®ãÂ∫è(ÈáäÊîæÂÖ®ÈÉ®(ÊàñÊåáÂÆö)ÈÄÇÈÖçÂô®ÁöÑÁî±DHCPÂàÜÈÖçÁöÑÂä®ÊÄÅIPÂú∞ÂùÄ) ipconfig /release#IPÈÖçÁΩÆÂÆûÁî®Á®ãÂ∫è(‰∏∫ÂÖ®ÈÉ®ÈÄÇÈÖçÂô®ÈáçÊñ∞ÂàÜÈÖçIPÂú∞ÂùÄ) ipconfig /renew#IPÈÖçÁΩÆÂÆûÁî®Á®ãÂ∫è(Âà∑Êñ∞DHCPÂπ∂ÈáçÊñ∞Ê≥®ÂÜåDNS) ipconfig /registerdns#IPÈÖçÁΩÆÂÆûÁî®Á®ãÂ∫è(ÊòæÁ§∫DHCP Class ID) ipconfig /showclassid#IPÈÖçÁΩÆÂÆûÁî®Á®ãÂ∫è(‰øÆÊîπDHCP Class ID) ipconfig /setclassid#JavaÊéßÂà∂Èù¢Êùø(Â¶ÇÊûúÂ∑≤ÁªèÂÆâË£Ö) jpicpl32.cpl#Êú¨Âú∞ÂÆâÂÖ®ËÆæÁΩÆ secpol.msc#‰ªéWindowsÊ≥®ÈîÄ logoff#ÁΩëÁªúËøûÊé• control netconnections (ncpa.cpl)#ËÆ∞‰∫ãÊú¨ notepad#ËøúÁ®ãÊ°åÈù¢ mstsc#WindowsÂÆâÂÖ®‰∏≠ÂøÉ wscui.cpl#ÊúçÂä° services.msc#ÂÖ±‰∫´Êñá‰ª∂Â§π fsmgmt.msc#Â£∞Èü≥ÂíåÈü≥È¢ëËÆæÂ§áÂ±ûÊÄß mmsys.cpl#Á≥ªÁªüÈÖçÁΩÆÂÆûÁî®Á®ãÂ∫è msconfig#‰ªªÂä°ÁÆ°ÁêÜÂô® taskmgr HEXO Hexo c Ê∏ÖÁêÜ Hexo gÁºñËØë Hexo sËøêË°å Hexo dÈÉ®ÁΩ≤ hexo new draftÔºàscaffolds‰∏≠Ê®°ÊùøÂêçÂ≠óÔºâ‚ÄúÊ†áÈ¢ò‚ÄùÊñ∞Âª∫ËçâÁ®ø Âú®source/_draftsÁõÆÂΩï hexo new ‚ÄúÊ†áÈ¢ò‚ÄùÊñ∞Âª∫ÊñáÊ°£ hexo publish ‚ÄúÊ†áÈ¢ò‚ÄùËçâÁ®øÁßªÂä®Âà∞source/_postÁõÆÂΩï IDEA ctrl +R ÊõøÊç¢ ctrl +shift + Êï∞Â≠óÊ†áËÆ∞Êñá‰ª∂ÂÜÖ‰ΩçÁΩÆ ctrl+Êï∞Â≠óÂõûÂà∞ÂØπÂ∫î‰ΩçÁΩÆ ÂèåÂáªshiftÂÖ®Â±ÄÊêúÁ¥¢ ctrl + shift +F ÂÖ®Â±ÄÊñáÂ≠óÊêúÁ¥¢ ctrl + shift +y ÊêúÁ¥¢Êèí‰ª∂ÁøªËØëÈÄâ‰∏≠ÊñáÂ≠ó ctrl + shift +o codotaÊêúÁ¥¢ÊâÄÈÄâ‰ª£Á†ÅÁ§∫‰æã ‰∏çÈÄâ‰∏≠‰ª£Á†ÅÊó∂ÊòæÁ§∫ÁøªËØëËæìÂÖ•Ê°Ü alt + F7 Âø´ÈÄüÂåπÈÖçÈ°πÁõÆ‰∏≠ÊâÄÊúâÊ≠§Áî®Ê≥ï Ctrl+Alt+Shift+U UMLÂõæ Shift+Alt ÈÄâ‰∏≠Êñá‰ª∂Ê±áÊÄªÊâÄÊúâÂΩìÂâçÂ≠óÁ¨¶ Ctrl+Shift+E ÂèØËé∑ÂèñÊúÄËøëÊü•ÁúãÊàñÊõ¥ÊîπÁöÑ‰ª£Á†ÅÊÆµÁöÑÂàóË°® Ëá™ÂÆö‰πâÊ®°ÊùøÂêéÔºåÊñπÊ≥ïÂêç‰∏ä/* ÁÑ∂Âêétab Ê∑ªÂä†Ê≥®Èáä WINDOWS alt + tab ‰∏§Â∫îÁî®‰πãÈó¥ÂàáÊç¢ ctrl+wÂÖ≥Èó≠ÂΩìÂâçÁ™óÂè£ ÊúçÂä°Ëá™Âä®ÈáçÂêØ 12345678910111213141516171819202122#nginxhttps://www.jb51.net/article/211867.htm#Redisredis-server --service-install redis.windows-service.conf --loglevel verbose#tomcat1„ÄÅËøõÂÖ•Âà∞tomcat\\binÁõÆÂΩï‰∏ãÔºåÊâìÂºÄcmdÂëΩ‰ª§Á™óÂè£2„ÄÅËæìÂÖ• service install tomcatÊúçÂä°Âêç(ÊúçÂä°ÂêçÁß∞Ëá™ÂÆö‰πâÔºâÂú®ËøêË°åÁ™óÂè£ËæìÂÖ•Ôºönet start ÊúçÂä°ÂêçÁß∞ËøôÊ†∑tomcatÊúçÂä°Â∞±ÂêØÂä®‰∫ÜÂÅöÊàêÂºÄÊú∫‰∏ªÂêØÂä®Âú®ÊàëÁöÑÁîµËÑëÂè≥Âáª--&gt;ÁÆ°ÁêÜ--&gt;ÊúçÂä°ÂíåÂ∫îÁî®Á®ãÂ∫è--&gt;ÈÄâÊã©ÊúçÂä°ÊàñÂú®cmdÂëΩ‰ª§Á™óÂè£ËæìÂÖ•Ôºöservice.mscÊâæÂà∞Apache Tomcat XXXX [ÊúçÂä°ÂêçÁß∞]Â∞ÜÊâãÂä®‰øÆÊîπÊàêËá™Âä®ÂêéÂ∞±ÂèØ‰ª•ÂºÄÊú∫Ëá™ÂêØÂä®‰∫Ü„ÄÇÂ¶ÇÊûúË¶ÅÂà†Èô§ÔºåÂíå‰øÆÊîπÊúçÂä°ÔºÅÂú®cmdÂëΩ‰ª§Á™óÂè£ËæìÂÖ•ÔºöÂà†Èô§Ôºösc delete ÊúçÂä°Âêç‰øÆÊîπÔºösc config ÊúçÂä°Âêç [ÂèÇÊï∞] LINUX yum install net-tools ÂÆâË£ÖÁΩëÁªúÂ∑•ÂÖ∑ linuxÂèØÁõ¥Êé•Â§çÂà∂ÁªôÂà´‰∫∫ÔºåÂ§çÂà∂VMwareÂ∑•‰ΩúÁõÆÂΩïÁÑ∂ÂêéÁõ¥Êé•ÊâìÂºÄ su ÂõûËΩ¶ËæìÂÖ•ÂØÜÁ†ÅËΩ¨Êç¢‰∏∫Ë∂ÖÁ∫ßÁÆ°ÁêÜÂëò ifconfigÊü•ËØ¢ÁΩëÁªúÁõ∏ÂÖ≥ clearÊ∏ÖÁ©∫ÊòæÁ§∫ ifconfig eth0 192.16.„ÄÇ„ÄÇ„ÄÇËÆæÁΩÆIPÂú∞ÂùÄ ÂëΩ‰ª§Â§öÊï∞‰∏∫‰∏¥Êó∂ÁîüÊïàÔºåÂÜôÂÖ•ÈÖçÁΩÆÊñá‰ª∂‰∏∫Ê∞∏‰πÖÁîüÊïà ls [-ÈÄâÈ°π][ÂèÇÊï∞]Ôºöls -la /etc ÁõÆÂΩïÂ§ÑÁêÜÂëΩ‰ª§ÔºàlistÔºâ ls -a/l/lh/ld/i ÈöêËóèÊñá‰ª∂/Êñá‰ª∂ËØ¶ÁªÜ‰ø°ÊÅØ/Â§ßÂ∞èÂçï‰ΩçÊòæÁ§∫/Êü•ÁúãÁõÆÂΩï‰ø°ÊÅØ/Êü•ÁúãÊñá‰ª∂id d l Êñá‰ª∂ÂºÄÂ§¥ Êñá‰ª∂„ÄÅÁõÆÂΩï„ÄÅËΩØËøûÊé• ÊùÉÈôê mkdir„Äêmake directories„Äë ÂàõÂª∫ÁõÆÂΩï -pÈÄíÂΩíÂàõÂª∫ ÂàõÂª∫Ê≤°ÊúâÊ≠§ÁõÆÂΩï‰∏ãÁöÑÁõÆÂΩïÔºåÂèØÂêåÊó∂ÂàõÂª∫Â§ö‰∏™mkdir /tmp/a/b /tmp/a/c cd „Äêchange directory„ÄëÂàáÊç¢ÁõÆÂΩï cd ..ËøîÂõû‰∏ä‰∏ÄÁ∫ßÁõÆÂΩï pwd„Äêprint working directory„Äë cd ./.. ÂΩìÂâçÁõÆÂΩï/‰∏äÁ∫ßÁõÆÂΩï remdir„Äêremove empty dirctories„Äë Âà†Èô§Á©∫ÁõÆÂΩï cp„Äêcopy„ÄëÂ§çÂà∂ Ê∫êÊñá‰ª∂ ÁõÆÂΩï -rÂ§çÂà∂ÁõÆÂΩï -pÂ§çÂà∂Âπ∂‰øùÁïôÊñá‰ª∂Â±ûÊÄßÔºàÊØîÂ¶ÇÂàõÂª∫Êó∂Èó¥Ôºâ Â§çÂà∂Âπ∂ÊîπÂêç mv„Äêmove„Äë Ââ™Âàá rm„Äêremove„ÄëÂà†Èô§Êñá‰ª∂ÔºåÁõÆÂΩï -rÂà†Èô§ÁõÆÂΩï -fÂº∫Âà∂Âà†Èô§ -rfÁõ¥Êé•Âà†Èô§ ctrl+cÁªàÊ≠¢Êìç‰Ωú touch ÂàõÂª∫Êñá‰ª∂ ÂèØÂàõÂª∫Â§ö‰∏™ÔºåÂàõÂª∫Á©∫Ê†ºÊñá‰ª∂Âêç‰ΩøÁî®ÂèåÂºïÂè∑‰ΩÜÊòØ‰∏çÂª∫ËÆÆ cat ÊµèËßàÊñá‰ª∂ÂÜÖÂÆπ -nÊòæÁ§∫Ë°åÂè∑ tac ÂÄíÁΩÆÊµèËßàÊñá‰ª∂ÂÜÖÂÆπ more ÂàÜÈ°µÊòæÁ§∫ÈïøÊñá‰ª∂ Á©∫Ê†ºÁøªÈ°µÔºåÂõûËΩ¶Êç¢Ë°åÔºåqÈÄÄÂá∫Ôºå less ÊòæÁ§∫Êñá‰ª∂ÂÜÖÂÆπÔºåÂèØÂêë‰∏äÁøªÈ°µpageupÔºåÂèØÊêúÁ¥¢Ôºö/ÂÖ≥ÈîÆËØç nÊòæÁ§∫‰∏ã‰∏Ä‰∏™ÊêúÁ¥¢ÁªìÊûú head Âè™ÁúãÊñá‰ª∂ÂâçÂá†Ë°å -n 7 Êñá‰ª∂ ÊòæÁ§∫Ââç7Ë°åÔºåÈªòËÆ§ÂâçÂçÅË°å tail Âêå‰∏ä -fÂä®ÊÄÅÊòæÁ§∫ÂèòÂåñ ctrl+cÈÄÄÂá∫ ln„Äêlink„Äë -sÂàõÂª∫ËΩØËøûÊé• ‰∏çÂÜô-sÂàõÂª∫Á°¨ÈìæÊé•„ÄêËΩØËøûÊé•Áõ∏ÂΩì‰∫éÂø´Êç∑ÊñπÂºèrwxrwxrwxÔºåÊùÉÈôêË∑üÊ∫êÊñá‰ª∂ÊùÉÈôêÊó†ÂÖ≥ÔºåÁ°¨ÈìæÊé•Áõ∏ÂΩì‰∫éÊã∑Ë¥ùcp -pÂπ∂‰∏îÂêåÊ≠•Êõ¥Êñ∞ÔºåÁ°¨ÈìæÊé•ÈÄöËøáiËäÇÁÇπÂå∫ÂàÜÔºå‰∏çËÉΩË∑®ÂàÜÂå∫ÔºàÁõ∏ÂΩì‰∫é‰∏çËÉΩcÁõòÂ§çÂà∂Âà∞dÁõòÔºâÔºå‰∏çËÉΩÈíàÂØπÁõÆÂΩï‰ΩøÁî®„Äë yum -y install git sudo -s1Ëé∑ÂæóÁÆ°ÁêÜÂëòÊùÉÈôê ÂëΩ‰ª§Ôºösudo -sÂõûËΩ¶ ËæìÂÖ•ÂØÜÁ†Å ÁºñËæë‰øùÂ≠òÊñá‰ª∂----------------------------------- Á¨¨‰∏ÄÊ≠•ÔºöcdÂà∞ËØ•Êñá‰ª∂ÁöÑÁõÆÂΩï‰∏ã Á¨¨‰∫åÊ≠•Ôºövi Ë¶ÅÁºñËæëÁöÑÊñá‰ª∂ÂêçÔºåËøõÂÖ•ÊôÆÈÄöÊ®°ÂºèÔºåÔºàÂèØ‰ª•Êü•ÁúãÊñá‰ª∂ÂÜÖÂÆπÔºâ sudo gedit /etc/apt/sources.list ÂèØËßÜÂåñÁºñËæë Á¨¨‰∏âÊ≠•ÔºöËæìÂÖ• i ËøõÂÖ•ÁºñËæëÊ®°ÂºèÔºåÂºÄÂßãÁºñËæëÊñáÊú¨ Á¨¨ÂõõÊ≠•ÔºöÁºñËæë‰πãÂêéÔºåÊåâESCÈÄÄÂá∫Âà∞ÊôÆÈÄöÊ®°Âºè„ÄÇ Á¨¨‰∫îÊ≠•ÔºöÂú®ÊôÆÈÄöÊ®°Âºè‰∏ãÔºåËæìÂÖ• : ËøõÂÖ•ÂëΩ‰ª§Ê®°Âºè Á¨¨ÂÖ≠Ê≠•ÔºöÂú®ÂëΩ‰ª§Ê®°Âºè‰∏ãËæìÂÖ•wq, Âç≥ÂèØ‰øùÂ≠òÂπ∂ÈÄÄÂá∫ „Äê#„Äë‰ª£Ë°® rootÊùÉÈôê „Äê$„Äë‰ª£Ë°®ÊôÆÈÄöÁî®Êà∑ rebootÈáçÂêØ BUG‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äì centos7 cannot find a valid baseurl for repo¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑ https://blog.csdn.net/jiankunking/article/details/82770502 zlib.h: No such file or directory¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑ yum install zlib-devel CentOS Name or service not known¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑ vi /etc/sysconfig/network-scripts/ifcfg-ens33ÂëΩ‰ª§Êù•ÁºñËæëÈÖçÁΩÆÊñá‰ª∂ Job for network.service failed because the control process exited with error code¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑ ÂÖ≥Èó≠ NetworkManger ÊúçÂä°Â∞±Â•Ω‰∫ÜÔºå service NetworkManager stop Á¶ÅÊ≠¢ÂºÄÊú∫ÂêØÂä® chkconfig NetworkManager off su: Authentication failure¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑ sudo passwd root ÁΩëÁªú‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî ÁΩëÁªú‰∏çË°åÈÉΩÁî®Ê°•Êé• 1systemctl restart network //ÈáçÂêØÁΩëÂç° ====ifup eth0ÔºàÁΩëÂç°ÂêçÁß∞Ôºâ ip addrÊü•ËØ¢ÁΩëÁªú‰ø°ÊÅØ postgresql‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî- sudo -u postgres psql ËøõÂÖ•psql‰∫§‰∫íÁéØÂ¢É alter user postgres with password'ÂØÜÁ†Å'; ‰øÆÊîπpostgresÁî®Êà∑ÁöÑÂØÜÁ†Å \\q ÈÄÄÂá∫Êï∞ÊçÆÂ∫ì ? \\passwordÔºöËÆæÁΩÆÂØÜÁ†Å \\hÔºöÊü•ÁúãSQLÂëΩ‰ª§ÁöÑËß£ÈáäÔºåÊØîÂ¶Ç\\h select„ÄÇ ?ÔºöÊü•ÁúãpsqlÂëΩ‰ª§ÂàóË°®„ÄÇ \\lÔºöÂàóÂá∫ÊâÄÊúâÊï∞ÊçÆÂ∫ì„ÄÇ \\c [database_name]ÔºöËøûÊé•ÂÖ∂‰ªñÊï∞ÊçÆÂ∫ì„ÄÇ \\dÔºöÂàóÂá∫ÂΩìÂâçÊï∞ÊçÆÂ∫ìÁöÑÊâÄÊúâÂØπË±°ÔºåÂ¶ÇTable,ViewÁ≠â„ÄÇ \\dt: ÂàóÂá∫ÂΩìÂâçÊï∞ÊçÆÂ∫ìÁöÑÊâÄÊúâTable„ÄÇ \\d [table_name]ÔºöÂàóÂá∫Êüê‰∏ÄÂº†Ë°®Ê†ºÁöÑÁªìÊûÑ„ÄÇ \\duÔºöÂàóÂá∫ÊâÄÊúâÁî®Êà∑„ÄÇ \\eÔºöÊâìÂºÄÊñáÊú¨ÁºñËæëÂô®„ÄÇ \\conninfoÔºöÂàóÂá∫ÂΩìÂâçÊï∞ÊçÆÂ∫ìÂíåËøûÊé•ÁöÑ‰ø°ÊÅØ„ÄÇ df ÂëΩ‰ª§ Êù•Ê£ÄÊü•ÂΩìÂâçÁ£ÅÁõòÂà©Áî®Áéá SecureCRT============================== alt+pËøõÂÖ•sftp put -r Ë∑ØÂæÑ‰º†ÁõÆÂΩï shpÂØºÂÖ•Âà∞postgresql‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî shp2pgsql -s 4544 -c -W &quot;UTF-8&quot; ADDRESS.shp public.rrrrr| psql -h 192.168.22.128 -d postgres -U postgres -W ËΩ¨Êç¢Ê†ºÂºè‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî ogr2ogr -f &quot;GeoJSON&quot; ./natural.json PG:&quot;host=localhost dbname=postgres user=postgres password=724111&quot; -sql &quot;select * from natural&quot; ÂàáÁâá‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî tippecanoe -z 14 -Z 5 -ps -Bg -o buildings.mbtiles buildings.json tippecanoe -e lakepbf -pC -Z1 -z17 -f natural.json ÂêÑÁßçÂ∏∏Áî®ËΩØ‰ª∂ÁéØÂ¢ÉÂÆâË£Ö NPM npm install ---install dependencies npm run dev---serve with hot reload at localhost:8080 npm run build---build for production with minification npm run build --report----build for production and view the bundle analyzer report npm run unit---run unit tests npm run e2e---run e2e tests npm test----run all tests REDIDS ./redis-server redis.windows.conf ÂêØÂä®ÊúçÂä° server.exe --service-install redis.windows.conf --loglevel verbose ÂºÄÊú∫ÂêØÂä® windows redis-server --service-install redis.windows-service.conf --loglevel verbose VSCODE ctrl+~ ÔºöÊâìÂºÄÁªàÁ´Ø F1 Êàñ Ctrl+Shift+PÔºà‰øóÁß∞‰∏áËÉΩÈîÆÔºâ ÔºöÊâìÂºÄÂëΩ‰ª§Èù¢Êùø„ÄÇÂú®ÊâìÂºÄÁöÑËæìÂÖ•Ê°ÜÂÜÖÔºåÂèØ‰ª•ËæìÂÖ•‰ªª‰ΩïÂëΩ‰ª§ ‰ª£Á†ÅÊ†ºÂºèÂåñ: Shift+Alt+F VUE ËÑöÊâãÊû∂ npm config set registry https://registry.npm.taobao.org vue init webpack projectName cd projectName npm install npm run dev npm i element-ui -S npm install axios GIT GitÂ∏∏Áî®ÂëΩ‰ª§ÂèäÊñπÊ≥ïÂ§ßÂÖ® ‰∏ãÈù¢ÊòØÊàëÊï¥ÁêÜÁöÑÂ∏∏Áî® Git ÂëΩ‰ª§Ê∏ÖÂçï„ÄÇÂá†‰∏™‰∏ìÁî®ÂêçËØçÁöÑËØëÂêçÂ¶Ç‰∏ã„ÄÇ WorkspaceÔºöÂ∑•‰ΩúÂå∫ Index / StageÔºöÊöÇÂ≠òÂå∫ RepositoryÔºö‰ªìÂ∫ìÂå∫ÔºàÊàñÊú¨Âú∞‰ªìÂ∫ìÔºâ RemoteÔºöËøúÁ®ã‰ªìÂ∫ì Êú¨Âú∞ÂàÜÊîØÂÖ≥ËÅîËøúÁ®ã 1git branch --set-upstream-to=origin/ÂàÜÊîØÂêç ÂàÜÊîØÂêç ‰ª£Á†ÅÂ∫ì‰øÆÊîπÂØÜÁ†ÅÂêépush‰∏ç‰∏äÂéªÊÄé‰πàÂäûÔºü 1234// ÈáçÊñ∞ËæìÂÖ•ÂØÜÁ†Ågit config --system --unset credential.helper// ÂØÜÁ†ÅÂ≠òÂÇ®ÂêåÊ≠•git config --global credential.helper store ‰∏Ä„ÄÅÊñ∞Âª∫‰ª£Á†ÅÂ∫ì 123456# Âú®ÂΩìÂâçÁõÆÂΩïÊñ∞Âª∫‰∏Ä‰∏™Git‰ª£Á†ÅÂ∫ì$ git init# Êñ∞Âª∫‰∏Ä‰∏™ÁõÆÂΩïÔºåÂ∞ÜÂÖ∂ÂàùÂßãÂåñ‰∏∫Git‰ª£Á†ÅÂ∫ì$ git init [project-name]# ‰∏ãËΩΩ‰∏Ä‰∏™È°πÁõÆÂíåÂÆÉÁöÑÊï¥‰∏™‰ª£Á†ÅÂéÜÂè≤$ git clone [url] ‰∫å„ÄÅÈÖçÁΩÆ GitÁöÑËÆæÁΩÆÊñá‰ª∂‰∏∫.gitconfigÔºåÂÆÉÂèØ‰ª•Âú®Áî®Êà∑‰∏ªÁõÆÂΩï‰∏ãÔºàÂÖ®Â±ÄÈÖçÁΩÆÔºâÔºå‰πüÂèØ‰ª•Âú®È°πÁõÆÁõÆÂΩï‰∏ãÔºàÈ°πÁõÆÈÖçÁΩÆÔºâ„ÄÇ 1234567# ÊòæÁ§∫ÂΩìÂâçÁöÑGitÈÖçÁΩÆ$ git config --list# ÁºñËæëGitÈÖçÁΩÆÊñá‰ª∂$ git config -e [--global]# ËÆæÁΩÆÊèê‰∫§‰ª£Á†ÅÊó∂ÁöÑÁî®Êà∑‰ø°ÊÅØ$ git config [--global] user.name &quot;[name]&quot;$ git config [--global] user.email &quot;[email address]&quot; ‰∏â„ÄÅÂ¢ûÂä†/Âà†Èô§Êñá‰ª∂ 12345678910111213141516# Ê∑ªÂä†ÊåáÂÆöÊñá‰ª∂Âà∞ÊöÇÂ≠òÂå∫$ git add [file1] [file2] ...# Ê∑ªÂä†ÊåáÂÆöÁõÆÂΩïÂà∞ÊöÇÂ≠òÂå∫ÔºåÂåÖÊã¨Â≠êÁõÆÂΩï$ git add [dir]# Ê∑ªÂä†ÂΩìÂâçÁõÆÂΩïÁöÑÊâÄÊúâÊñá‰ª∂Âà∞ÊöÇÂ≠òÂå∫$ git add .# Ê∑ªÂä†ÊØè‰∏™ÂèòÂåñÂâçÔºåÈÉΩ‰ºöË¶ÅÊ±ÇÁ°ÆËÆ§# ÂØπ‰∫éÂêå‰∏Ä‰∏™Êñá‰ª∂ÁöÑÂ§öÂ§ÑÂèòÂåñÔºåÂèØ‰ª•ÂÆûÁé∞ÂàÜÊ¨°Êèê‰∫§ $ git add -p# Âà†Èô§Â∑•‰ΩúÂå∫Êñá‰ª∂ÔºåÂπ∂‰∏îÂ∞ÜËøôÊ¨°Âà†Èô§ÊîæÂÖ•ÊöÇÂ≠òÂå∫$ git rm [file1] [file2] ...# ÂÅúÊ≠¢ËøΩË∏™ÊåáÂÆöÊñá‰ª∂Ôºå‰ΩÜËØ•Êñá‰ª∂‰ºö‰øùÁïôÂú®Â∑•‰ΩúÂå∫$ git rm --cached [file]# ÊîπÂêçÊñá‰ª∂ÔºåÂπ∂‰∏îÂ∞ÜËøô‰∏™ÊîπÂêçÊîæÂÖ•ÊöÇÂ≠òÂå∫$ git mv [file-original] [file-renamed] Âõõ„ÄÅ‰ª£Á†ÅÊèê‰∫§ 12345678910111213# Êèê‰∫§ÊöÇÂ≠òÂå∫Âà∞‰ªìÂ∫ìÂå∫$ git commit -m [message]# Êèê‰∫§ÊöÇÂ≠òÂå∫ÁöÑÊåáÂÆöÊñá‰ª∂Âà∞‰ªìÂ∫ìÂå∫$ git commit [file1] [file2] ... -m [message]# Êèê‰∫§Â∑•‰ΩúÂå∫Ëá™‰∏äÊ¨°commit‰πãÂêéÁöÑÂèòÂåñÔºåÁõ¥Êé•Âà∞‰ªìÂ∫ìÂå∫$ git commit -a# Êèê‰∫§Êó∂ÊòæÁ§∫ÊâÄÊúâdiff‰ø°ÊÅØ$ git commit -v # ‰ΩøÁî®‰∏ÄÊ¨°Êñ∞ÁöÑcommitÔºåÊõø‰ª£‰∏ä‰∏ÄÊ¨°Êèê‰∫§# Â¶ÇÊûú‰ª£Á†ÅÊ≤°Êúâ‰ªª‰ΩïÊñ∞ÂèòÂåñÔºåÂàôÁî®Êù•ÊîπÂÜô‰∏ä‰∏ÄÊ¨°commitÁöÑÊèê‰∫§‰ø°ÊÅØ$ git commit --amend -m [message]# ÈáçÂÅö‰∏ä‰∏ÄÊ¨°commitÔºåÂπ∂ÂåÖÊã¨ÊåáÂÆöÊñá‰ª∂ÁöÑÊñ∞ÂèòÂåñ$ git commit --amend [file1] [file2] ... ‰∫î„ÄÅÂàÜÊîØ 1234567891011121314151617181920212223242526272829# ÂàóÂá∫ÊâÄÊúâÊú¨Âú∞ÂàÜÊîØ$ git branch# ÂàóÂá∫ÊâÄÊúâËøúÁ®ãÂàÜÊîØ$ git branch -r# ÂàóÂá∫ÊâÄÊúâÊú¨Âú∞ÂàÜÊîØÂíåËøúÁ®ãÂàÜÊîØ$ git branch -a# Êñ∞Âª∫‰∏Ä‰∏™ÂàÜÊîØÔºå‰ΩÜ‰æùÁÑ∂ÂÅúÁïôÂú®ÂΩìÂâçÂàÜÊîØ$ git branch [branch-name] # ‰ª•ËøúÁ®ãÂàÜÊîØ‰∏∫Âü∫Á°ÄÊñ∞Âª∫‰∏Ä‰∏™ÂàÜÊîØÔºåÂπ∂ÂàáÊç¢Âà∞ËØ•ÂàÜÊîØ$ git checkout -b [branch] origin/[remote-branch]# Êñ∞Âª∫‰∏Ä‰∏™ÂàÜÊîØÔºåÊåáÂêëÊåáÂÆöcommit$ git branch [branch] [commit]# Êñ∞Âª∫‰∏Ä‰∏™ÂàÜÊîØÔºå‰∏éÊåáÂÆöÁöÑËøúÁ®ãÂàÜÊîØÂª∫Á´ãËøΩË∏™ÂÖ≥Á≥ª$ git branch --track [branch] [remote-branch]# ÂàáÊç¢Âà∞ÊåáÂÆöÂàÜÊîØÔºåÂπ∂Êõ¥Êñ∞Â∑•‰ΩúÂå∫$ git checkout [branch-name]# ÂàáÊç¢Âà∞‰∏ä‰∏Ä‰∏™ÂàÜÊîØ$ git checkout -# Âª∫Á´ãËøΩË∏™ÂÖ≥Á≥ªÔºåÂú®Áé∞ÊúâÂàÜÊîØ‰∏éÊåáÂÆöÁöÑËøúÁ®ãÂàÜÊîØ‰πãÈó¥$ git branch --set-upstream [branch] [remote-branch] # ÂêàÂπ∂ÊåáÂÆöÂàÜÊîØÂà∞ÂΩìÂâçÂàÜÊîØ$ git merge [branch]# ÈÄâÊã©‰∏Ä‰∏™commitÔºåÂêàÂπ∂ËøõÂΩìÂâçÂàÜÊîØ$ git cherry-pick [commit]# Âà†Èô§ÂàÜÊîØ$ git branch -d [branch-name]# Âà†Èô§ËøúÁ®ãÂàÜÊîØ$ git push origin --delete [branch-name]$ git branch -dr [remote/branch] ÂÖ≠„ÄÅÊ†áÁ≠æ 123456789101112131415161718# ÂàóÂá∫ÊâÄÊúâtag$ git tag# Êñ∞Âª∫‰∏Ä‰∏™tagÂú®ÂΩìÂâçcommit$ git tag [tag]# Êñ∞Âª∫‰∏Ä‰∏™tagÂú®ÊåáÂÆöcommit$ git tag [tag] [commit]# Âà†Èô§Êú¨Âú∞tag$ git tag -d [tag] # Âà†Èô§ËøúÁ®ãtag$ git push origin :refs/tags/[tagName]# Êü•Áúãtag‰ø°ÊÅØ$ git show [tag]# Êèê‰∫§ÊåáÂÆötag$ git push [remote] [tag]# Êèê‰∫§ÊâÄÊúâtag$ git push [remote] --tags# Êñ∞Âª∫‰∏Ä‰∏™ÂàÜÊîØÔºåÊåáÂêëÊüê‰∏™tag$ git checkout -b [branch] [tag] ‰∏É„ÄÅÊü•Áúã‰ø°ÊÅØ 1234567891011121314151617181920212223242526272829303132333435363738394041# ÊòæÁ§∫ÊúâÂèòÊõ¥ÁöÑÊñá‰ª∂$ git status# ÊòæÁ§∫ÂΩìÂâçÂàÜÊîØÁöÑÁâàÊú¨ÂéÜÂè≤$ git log# ÊòæÁ§∫commitÂéÜÂè≤Ôºå‰ª•ÂèäÊØèÊ¨°commitÂèëÁîüÂèòÊõ¥ÁöÑÊñá‰ª∂$ git log --stat# ÊêúÁ¥¢Êèê‰∫§ÂéÜÂè≤ÔºåÊ†πÊçÆÂÖ≥ÈîÆËØç$ git log -S [keyword] # ÊòæÁ§∫Êüê‰∏™commit‰πãÂêéÁöÑÊâÄÊúâÂèòÂä®ÔºåÊØè‰∏™commitÂç†ÊçÆ‰∏ÄË°å$ git log [tag] HEAD --pretty=format:%s# ÊòæÁ§∫Êüê‰∏™commit‰πãÂêéÁöÑÊâÄÊúâÂèòÂä®ÔºåÂÖ∂&quot;Êèê‰∫§ËØ¥Êòé&quot;ÂøÖÈ°ªÁ¨¶ÂêàÊêúÁ¥¢Êù°‰ª∂$ git log [tag] HEAD --grep feature# ÊòæÁ§∫Êüê‰∏™Êñá‰ª∂ÁöÑÁâàÊú¨ÂéÜÂè≤ÔºåÂåÖÊã¨Êñá‰ª∂ÊîπÂêç$ git log --follow [file]$ git whatchanged [file]# ÊòæÁ§∫ÊåáÂÆöÊñá‰ª∂Áõ∏ÂÖ≥ÁöÑÊØè‰∏ÄÊ¨°diff$ git log -p [file]# ÊòæÁ§∫ËøáÂéª5Ê¨°Êèê‰∫§$ git log -5 --pretty --oneline# ÊòæÁ§∫ÊâÄÊúâÊèê‰∫§ËøáÁöÑÁî®Êà∑ÔºåÊåâÊèê‰∫§Ê¨°Êï∞ÊéíÂ∫è $ git shortlog -sn# ÊòæÁ§∫ÊåáÂÆöÊñá‰ª∂ÊòØ‰ªÄ‰πà‰∫∫Âú®‰ªÄ‰πàÊó∂Èó¥‰øÆÊîπËøá$ git blame [file]# ÊòæÁ§∫ÊöÇÂ≠òÂå∫ÂíåÂ∑•‰ΩúÂå∫ÁöÑÂ∑ÆÂºÇ$ git diff# ÊòæÁ§∫ÊöÇÂ≠òÂå∫Âíå‰∏ä‰∏Ä‰∏™commitÁöÑÂ∑ÆÂºÇ$ git diff --cached [file]# ÊòæÁ§∫Â∑•‰ΩúÂå∫‰∏éÂΩìÂâçÂàÜÊîØÊúÄÊñ∞commit‰πãÈó¥ÁöÑÂ∑ÆÂºÇ$ git diff HEAD# ÊòæÁ§∫‰∏§Ê¨°Êèê‰∫§‰πãÈó¥ÁöÑÂ∑ÆÂºÇ$ git diff [first-branch]...[second-branch]# ÊòæÁ§∫‰ªäÂ§©‰Ω†ÂÜô‰∫ÜÂ§öÂ∞ëË°å‰ª£Á†Å $ git diff --shortstat &quot;@{0 day ago}&quot;# ÊòæÁ§∫ÊüêÊ¨°Êèê‰∫§ÁöÑÂÖÉÊï∞ÊçÆÂíåÂÜÖÂÆπÂèòÂåñ$ git show [commit]# ÊòæÁ§∫ÊüêÊ¨°Êèê‰∫§ÂèëÁîüÂèòÂåñÁöÑÊñá‰ª∂$ git show --name-only [commit]# ÊòæÁ§∫ÊüêÊ¨°Êèê‰∫§Êó∂ÔºåÊüê‰∏™Êñá‰ª∂ÁöÑÂÜÖÂÆπ$ git show [commit]:[filename]# ÊòæÁ§∫ÂΩìÂâçÂàÜÊîØÁöÑÊúÄËøëÂá†Ê¨°Êèê‰∫§$ git reflog ÂÖ´„ÄÅËøúÁ®ãÂêåÊ≠• 12345678910111213141516# ‰∏ãËΩΩËøúÁ®ã‰ªìÂ∫ìÁöÑÊâÄÊúâÂèòÂä®$ git fetch [remote]# ÊòæÁ§∫ÊâÄÊúâËøúÁ®ã‰ªìÂ∫ì$ git remote -v# ÊòæÁ§∫Êüê‰∏™ËøúÁ®ã‰ªìÂ∫ìÁöÑ‰ø°ÊÅØ$ git remote show [remote]# Â¢ûÂä†‰∏Ä‰∏™Êñ∞ÁöÑËøúÁ®ã‰ªìÂ∫ìÔºåÂπ∂ÂëΩÂêç$ git remote add [shortname] [url] # ÂèñÂõûËøúÁ®ã‰ªìÂ∫ìÁöÑÂèòÂåñÔºåÂπ∂‰∏éÊú¨Âú∞ÂàÜÊîØÂêàÂπ∂$ git pull [remote] [branch]# ‰∏ä‰º†Êú¨Âú∞ÊåáÂÆöÂàÜÊîØÂà∞ËøúÁ®ã‰ªìÂ∫ì$ git push [remote] [branch]# Âº∫Ë°åÊé®ÈÄÅÂΩìÂâçÂàÜÊîØÂà∞ËøúÁ®ã‰ªìÂ∫ìÔºåÂç≥‰ΩøÊúâÂÜ≤Á™Å$ git push [remote] --force# Êé®ÈÄÅÊâÄÊúâÂàÜÊîØÂà∞ËøúÁ®ã‰ªìÂ∫ì$ git push [remote] --all ‰πù„ÄÅÊí§ÈîÄ 123456789101112131415161718192021# ÊÅ¢Â§çÊöÇÂ≠òÂå∫ÁöÑÊåáÂÆöÊñá‰ª∂Âà∞Â∑•‰ΩúÂå∫$ git checkout [file]# ÊÅ¢Â§çÊüê‰∏™commitÁöÑÊåáÂÆöÊñá‰ª∂Âà∞ÊöÇÂ≠òÂå∫ÂíåÂ∑•‰ΩúÂå∫$ git checkout [commit] [file]# ÊÅ¢Â§çÊöÇÂ≠òÂå∫ÁöÑÊâÄÊúâÊñá‰ª∂Âà∞Â∑•‰ΩúÂå∫$ git checkout .# ÈáçÁΩÆÊöÇÂ≠òÂå∫ÁöÑÊåáÂÆöÊñá‰ª∂Ôºå‰∏é‰∏ä‰∏ÄÊ¨°commit‰øùÊåÅ‰∏ÄËá¥Ôºå‰ΩÜÂ∑•‰ΩúÂå∫‰∏çÂèò$ git reset [file] # ÈáçÁΩÆÊöÇÂ≠òÂå∫‰∏éÂ∑•‰ΩúÂå∫Ôºå‰∏é‰∏ä‰∏ÄÊ¨°commit‰øùÊåÅ‰∏ÄËá¥$ git reset --hard# ÈáçÁΩÆÂΩìÂâçÂàÜÊîØÁöÑÊåáÈíà‰∏∫ÊåáÂÆöcommitÔºåÂêåÊó∂ÈáçÁΩÆÊöÇÂ≠òÂå∫Ôºå‰ΩÜÂ∑•‰ΩúÂå∫‰∏çÂèò$ git reset [commit]# ÈáçÁΩÆÂΩìÂâçÂàÜÊîØÁöÑHEAD‰∏∫ÊåáÂÆöcommitÔºåÂêåÊó∂ÈáçÁΩÆÊöÇÂ≠òÂå∫ÂíåÂ∑•‰ΩúÂå∫Ôºå‰∏éÊåáÂÆöcommit‰∏ÄËá¥$ git reset --hard [commit]# ÈáçÁΩÆÂΩìÂâçHEAD‰∏∫ÊåáÂÆöcommitÔºå‰ΩÜ‰øùÊåÅÊöÇÂ≠òÂå∫ÂíåÂ∑•‰ΩúÂå∫‰∏çÂèò$ git reset --keep [commit]# Êñ∞Âª∫‰∏Ä‰∏™commitÔºåÁî®Êù•Êí§ÈîÄÊåáÂÆöcommit# ÂêéËÄÖÁöÑÊâÄÊúâÂèòÂåñÈÉΩÂ∞ÜË¢´ÂâçËÄÖÊäµÊ∂àÔºåÂπ∂‰∏îÂ∫îÁî®Âà∞ÂΩìÂâçÂàÜÊîØ$ git revert [commit]# ÊöÇÊó∂Â∞ÜÊú™Êèê‰∫§ÁöÑÂèòÂåñÁßªÈô§ÔºåÁ®çÂêéÂÜçÁßªÂÖ•$ git stash $ git stash pop ÂçÅ„ÄÅÂÖ∂‰ªñ 12# ÁîüÊàê‰∏Ä‰∏™ÂèØ‰æõÂèëÂ∏ÉÁöÑÂéãÁº©ÂåÖ$ git archive GitÂàÜÊîØÁÆ°ÁêÜÁ≠ñÁï• ‰∏Ä„ÄÅ‰∏ªÂàÜÊîØMaster È¶ñÂÖàÔºå‰ª£Á†ÅÂ∫ìÂ∫îËØ•Êúâ‰∏Ä‰∏™„ÄÅ‰∏î‰ªÖÊúâ‰∏Ä‰∏™‰∏ªÂàÜÊîØ„ÄÇÊâÄÊúâÊèê‰æõÁªôÁî®Êà∑‰ΩøÁî®ÁöÑÊ≠£ÂºèÁâàÊú¨ÔºåÈÉΩÂú®Ëøô‰∏™‰∏ªÂàÜÊîØ‰∏äÂèëÂ∏É„ÄÇ Git‰∏ªÂàÜÊîØÁöÑÂêçÂ≠óÔºåÈªòËÆ§Âè´ÂÅöMaster„ÄÇÂÆÉÊòØËá™Âä®Âª∫Á´ãÁöÑÔºåÁâàÊú¨Â∫ìÂàùÂßãÂåñ‰ª•ÂêéÔºåÈªòËÆ§Â∞±ÊòØÂú®‰∏ªÂàÜÊîØÂú®ËøõË°åÂºÄÂèë„ÄÇ ‰∫å„ÄÅÂºÄÂèëÂàÜÊîØDevelop ‰∏ªÂàÜÊîØÂè™Áî®Êù•ÂàÜÂ∏ÉÈáçÂ§ßÁâàÊú¨ÔºåÊó•Â∏∏ÂºÄÂèëÂ∫îËØ•Âú®Âè¶‰∏ÄÊù°ÂàÜÊîØ‰∏äÂÆåÊàê„ÄÇÊàë‰ª¨ÊääÂºÄÂèëÁî®ÁöÑÂàÜÊîØÔºåÂè´ÂÅöDevelop„ÄÇ Ëøô‰∏™ÂàÜÊîØÂèØ‰ª•Áî®Êù•ÁîüÊàê‰ª£Á†ÅÁöÑÊúÄÊñ∞ÈöîÂ§úÁâàÊú¨ÔºànightlyÔºâ„ÄÇÂ¶ÇÊûúÊÉ≥Ê≠£ÂºèÂØπÂ§ñÂèëÂ∏ÉÔºåÂ∞±Âú®MasterÂàÜÊîØ‰∏äÔºåÂØπDevelopÂàÜÊîØËøõË°å&quot;ÂêàÂπ∂&quot;ÔºàmergeÔºâ„ÄÇ GitÂàõÂª∫DevelopÂàÜÊîØÁöÑÂëΩ‰ª§Ôºö git checkout -b develop master Â∞ÜDevelopÂàÜÊîØÂèëÂ∏ÉÂà∞MasterÂàÜÊîØÁöÑÂëΩ‰ª§Ôºö # ÂàáÊç¢Âà∞MasterÂàÜÊîØ git checkout master # ÂØπDevelopÂàÜÊîØËøõË°åÂêàÂπ∂ git merge --no-ff develop ËøôÈáåÁ®çÂæÆËß£Èáä‰∏Ä‰∏ãÔºå‰∏ä‰∏ÄÊù°ÂëΩ‰ª§ÁöÑ--no-ffÂèÇÊï∞ÊòØ‰ªÄ‰πàÊÑèÊÄù„ÄÇÈªòËÆ§ÊÉÖÂÜµ‰∏ãÔºåGitÊâßË°å&quot;Âø´ËøõÂºèÂêàÂπ∂&quot;Ôºàfast-farward mergeÔºâÔºå‰ºöÁõ¥Êé•Â∞ÜMasterÂàÜÊîØÊåáÂêëDevelopÂàÜÊîØ„ÄÇ ‰ΩøÁî®--no-ffÂèÇÊï∞ÂêéÔºå‰ºöÊâßË°åÊ≠£Â∏∏ÂêàÂπ∂ÔºåÂú®MasterÂàÜÊîØ‰∏äÁîüÊàê‰∏Ä‰∏™Êñ∞ËäÇÁÇπ„ÄÇ‰∏∫‰∫Ü‰øùËØÅÁâàÊú¨ÊºîËøõÁöÑÊ∏ÖÊô∞ÔºåÊàë‰ª¨Â∏åÊúõÈááÁî®ËøôÁßçÂÅöÊ≥ï„ÄÇÂÖ≥‰∫éÂêàÂπ∂ÁöÑÊõ¥Â§öËß£ÈáäÔºåËØ∑ÂèÇËÄÉBenjamin SandofskyÁöÑ„ÄäUnderstanding the Git Workflow„Äã„ÄÇ ‰∏â„ÄÅ‰∏¥Êó∂ÊÄßÂàÜÊîØ ÂâçÈù¢ËÆ≤Âà∞ÁâàÊú¨Â∫ìÁöÑ‰∏§Êù°‰∏ªË¶ÅÂàÜÊîØÔºöMasterÂíåDevelop„ÄÇÂâçËÄÖÁî®‰∫éÊ≠£ÂºèÂèëÂ∏ÉÔºåÂêéËÄÖÁî®‰∫éÊó•Â∏∏ÂºÄÂèë„ÄÇÂÖ∂ÂÆûÔºåÂ∏∏ËÆæÂàÜÊîØÂè™ÈúÄË¶ÅËøô‰∏§Êù°Â∞±Â§ü‰∫ÜÔºå‰∏çÈúÄË¶ÅÂÖ∂‰ªñ‰∫Ü„ÄÇ ‰ΩÜÊòØÔºåÈô§‰∫ÜÂ∏∏ËÆæÂàÜÊîØ‰ª•Â§ñÔºåËøòÊúâ‰∏Ä‰∫õ‰∏¥Êó∂ÊÄßÂàÜÊîØÔºåÁî®‰∫éÂ∫îÂØπ‰∏Ä‰∫õÁâπÂÆöÁõÆÁöÑÁöÑÁâàÊú¨ÂºÄÂèë„ÄÇ‰∏¥Êó∂ÊÄßÂàÜÊîØ‰∏ªË¶ÅÊúâ‰∏âÁßçÔºö * ÂäüËÉΩÔºàfeatureÔºâÂàÜÊîØ * È¢ÑÂèëÂ∏ÉÔºàreleaseÔºâÂàÜÊîØ * ‰øÆË°•bugÔºàfixbugÔºâÂàÜÊîØ Ëøô‰∏âÁßçÂàÜÊîØÈÉΩÂ±û‰∫é‰∏¥Êó∂ÊÄßÈúÄË¶ÅÔºå‰ΩøÁî®ÂÆå‰ª•ÂêéÔºåÂ∫îËØ•Âà†Èô§Ôºå‰ΩøÂæó‰ª£Á†ÅÂ∫ìÁöÑÂ∏∏ËÆæÂàÜÊîØÂßãÁªàÂè™ÊúâMasterÂíåDevelop„ÄÇ Âõõ„ÄÅ ÂäüËÉΩÂàÜÊîØ Êé•‰∏ãÊù•Ôºå‰∏Ä‰∏™‰∏™Êù•ÁúãËøô‰∏âÁßç&quot;‰∏¥Êó∂ÊÄßÂàÜÊîØ&quot;„ÄÇ Á¨¨‰∏ÄÁßçÊòØÂäüËÉΩÂàÜÊîØÔºåÂÆÉÊòØ‰∏∫‰∫ÜÂºÄÂèëÊüêÁßçÁâπÂÆöÂäüËÉΩÔºå‰ªéDevelopÂàÜÊîØ‰∏äÈù¢ÂàÜÂá∫Êù•ÁöÑ„ÄÇÂºÄÂèëÂÆåÊàêÂêéÔºåË¶ÅÂÜçÂπ∂ÂÖ•Develop„ÄÇ ÂäüËÉΩÂàÜÊîØÁöÑÂêçÂ≠óÔºåÂèØ‰ª•ÈááÁî®feature-*ÁöÑÂΩ¢ÂºèÂëΩÂêç„ÄÇ ÂàõÂª∫‰∏Ä‰∏™ÂäüËÉΩÂàÜÊîØÔºö git checkout -b feature-x develop ÂºÄÂèëÂÆåÊàêÂêéÔºåÂ∞ÜÂäüËÉΩÂàÜÊîØÂêàÂπ∂Âà∞developÂàÜÊîØÔºö git checkout develop git merge --no-ff feature-x Âà†Èô§featureÂàÜÊîØÔºö git branch -d feature-x ‰∫î„ÄÅÈ¢ÑÂèëÂ∏ÉÂàÜÊîØ Á¨¨‰∫åÁßçÊòØÈ¢ÑÂèëÂ∏ÉÂàÜÊîØÔºåÂÆÉÊòØÊåáÂèëÂ∏ÉÊ≠£ÂºèÁâàÊú¨‰πãÂâçÔºàÂç≥ÂêàÂπ∂Âà∞MasterÂàÜÊîØ‰πãÂâçÔºâÔºåÊàë‰ª¨ÂèØËÉΩÈúÄË¶ÅÊúâ‰∏Ä‰∏™È¢ÑÂèëÂ∏ÉÁöÑÁâàÊú¨ËøõË°åÊµãËØï„ÄÇ È¢ÑÂèëÂ∏ÉÂàÜÊîØÊòØ‰ªéDevelopÂàÜÊîØ‰∏äÈù¢ÂàÜÂá∫Êù•ÁöÑÔºåÈ¢ÑÂèëÂ∏ÉÁªìÊùü‰ª•ÂêéÔºåÂøÖÈ°ªÂêàÂπ∂ËøõDevelopÂíåMasterÂàÜÊîØ„ÄÇÂÆÉÁöÑÂëΩÂêçÔºåÂèØ‰ª•ÈááÁî®release-*ÁöÑÂΩ¢Âºè„ÄÇ ÂàõÂª∫‰∏Ä‰∏™È¢ÑÂèëÂ∏ÉÂàÜÊîØÔºö git checkout -b release-1.2 develop Á°ÆËÆ§Ê≤°ÊúâÈóÆÈ¢òÂêéÔºåÂêàÂπ∂Âà∞masterÂàÜÊîØÔºö git checkout master git merge --no-ff release-1.2 # ÂØπÂêàÂπ∂ÁîüÊàêÁöÑÊñ∞ËäÇÁÇπÔºåÂÅö‰∏Ä‰∏™Ê†áÁ≠æ git tag -a 1.2 ÂÜçÂêàÂπ∂Âà∞developÂàÜÊîØÔºö git checkout develop git merge --no-ff release-1.2 ÊúÄÂêéÔºåÂà†Èô§È¢ÑÂèëÂ∏ÉÂàÜÊîØÔºö git branch -d release-1.2 ÂÖ≠„ÄÅ‰øÆË°•bugÂàÜÊîØ ÊúÄÂêé‰∏ÄÁßçÊòØ‰øÆË°•bugÂàÜÊîØ„ÄÇËΩØ‰ª∂Ê≠£ÂºèÂèëÂ∏É‰ª•ÂêéÔºåÈöæÂÖç‰ºöÂá∫Áé∞bug„ÄÇËøôÊó∂Â∞±ÈúÄË¶ÅÂàõÂª∫‰∏Ä‰∏™ÂàÜÊîØÔºåËøõË°åbug‰øÆË°•„ÄÇ ‰øÆË°•bugÂàÜÊîØÊòØ‰ªéMasterÂàÜÊîØ‰∏äÈù¢ÂàÜÂá∫Êù•ÁöÑ„ÄÇ‰øÆË°•ÁªìÊùü‰ª•ÂêéÔºåÂÜçÂêàÂπ∂ËøõMasterÂíåDevelopÂàÜÊîØ„ÄÇÂÆÉÁöÑÂëΩÂêçÔºåÂèØ‰ª•ÈááÁî®fixbug-*ÁöÑÂΩ¢Âºè„ÄÇ ÂàõÂª∫‰∏Ä‰∏™‰øÆË°•bugÂàÜÊîØÔºö git checkout -b fixbug-0.1 master ‰øÆË°•ÁªìÊùüÂêéÔºåÂêàÂπ∂Âà∞masterÂàÜÊîØÔºö git checkout master git merge --no-ff fixbug-0.1 git tag -a 0.1.1 ÂÜçÂêàÂπ∂Âà∞developÂàÜÊîØÔºö git checkout develop git merge --no-ff fixbug-0.1 ÊúÄÂêéÔºåÂà†Èô§&quot;‰øÆË°•bugÂàÜÊîØ&quot;Ôºö git branch -d fixbug-0.1 ÁâàÊú¨ÂõûÈÄÄ-Êí§ÈîÄÊñá‰ª∂‰øÆÊîπ Â∑•‰ΩúÂå∫‰øÆÊîπ‰∏Ä‰∏™Êñá‰ª∂ÂêéÔºåÂèàÊÉ≥ÂõûÂà∞‰øÆÊîπÂâç(git addÂâç) \\1. ÂΩìÁÑ∂ÂèØ‰ª•Áõ¥Êé•ÊâãÂä®ÂÜçÂú®Â∑•‰ΩúÂå∫‰∏≠Â∞ÜÊñá‰ª∂‰øÆÊîπÂõûÂéª \\2. ‰øÆÊîπÂêéÔºåÈÄöËøáÂëΩ‰ª§git statusÊü•Áúã 123456789101112131415161718192021222324252627282930313233$ git status# On branch master# Changes not staged for commit:# (use &quot;git add &lt;file&gt;...&quot; to update what will be committed)# (use &quot;git checkout -- &lt;file&gt;...&quot; to discard changes in working directory)## modified: readme.txt#no changes added to commit (use &quot;git add&quot; and/or &quot;git commit -a&quot;) ËøôÊó∂Git‰ºöÂëäËØâ‰Ω†Ôºågit checkout -- fileÂèØ‰ª•‰∏¢ÂºÉÂ∑•‰ΩúÂå∫ÁöÑ‰øÆÊîπÔºö 1$ git checkout -- readme.txt Note: \\1. git checkout -- fileÂëΩ‰ª§‰∏≠ÁöÑ--ÂæàÈáçË¶ÅÔºåÊ≤°Êúâ--ÔºåÂ∞±ÂèòÊàê‰∫Ü‚ÄúÂàáÊç¢Âà∞Âè¶‰∏Ä‰∏™ÂàÜÊîØ‚ÄùÁöÑÂëΩ‰ª§ÔºåÊàë‰ª¨Âú®ÂêéÈù¢ÁöÑÂàÜÊîØÁÆ°ÁêÜ‰∏≠‰ºöÂÜçÊ¨°ÈÅáÂà∞git checkoutÂëΩ‰ª§„ÄÇ \\2. ÂëΩ‰ª§git checkout -- readme.txtÊÑèÊÄùÂ∞±ÊòØÔºåÊääreadme.txtÊñá‰ª∂Âú®Â∑•‰ΩúÂå∫ÁöÑ‰øÆÊîπÂÖ®ÈÉ®Êí§ÈîÄÔºåËøôÈáåÊúâ‰∏§ÁßçÊÉÖÂÜµÔºö ‰∏ÄÁßçÊòØreadme.txtËá™‰øÆÊîπÂêéËøòÊ≤°ÊúâË¢´ÊîæÂà∞ÊöÇÂ≠òÂå∫ÔºåÁé∞Âú®ÔºåÊí§ÈîÄ‰øÆÊîπÂ∞±ÂõûÂà∞ÂíåÁâàÊú¨Â∫ì‰∏ÄÊ®°‰∏ÄÊ†∑ÁöÑÁä∂ÊÄÅÔºõ‰∏ÄÁßçÊòØreadme.txtÂ∑≤ÁªèÊ∑ªÂä†Âà∞ÊöÇÂ≠òÂå∫ÂêéÔºåÂèà‰Ωú‰∫Ü‰øÆÊîπÔºåÁé∞Âú®ÔºåÊí§ÈîÄ‰øÆÊîπÂ∞±ÂõûÂà∞Ê∑ªÂä†Âà∞ÊöÇÂ≠òÂå∫ÂêéÁöÑÁä∂ÊÄÅ„ÄÇÊÄª‰πãÔºåÂ∞±ÊòØËÆ©Ëøô‰∏™Êñá‰ª∂ÂõûÂà∞ÊúÄËøë‰∏ÄÊ¨°git commitÊàñgit addÊó∂ÁöÑÁä∂ÊÄÅ„ÄÇ \\3. Â∑•‰ΩúÂå∫„ÄÅÊöÇÂ≠òÂå∫ÁöÑÊ¶ÇÂøµ‰∏çÊ∏ÖÊ•öÁöÑÂèØËßÅ‰∫éGitÁâàÊú¨ÊéßÂà∂ÊïôÁ®ã - GitÊú¨Âú∞‰ªìÂ∫ì Â¶ÇÊûúÂú®Â∑•‰ΩúÂå∫‰∏≠‰øÆÊîπ‰∫ÜÊñá‰ª∂Ëøògit addÂà∞ÊöÇÂ≠òÂå∫Ôºà‰ΩÜÊòØÂú®commit‰πãÂâçÔºâ Áî®git statusÊü•Áúã‰∏Ä‰∏ãÔºå‰øÆÊîπÂè™ÊòØÊ∑ªÂä†Âà∞‰∫ÜÊöÇÂ≠òÂå∫ÔºåËøòÊ≤°ÊúâÊèê‰∫§Ôºö 12345678910111213141516171819202122232425$ git status# On branch master# Changes to be committed:# (use &quot;git reset HEAD &lt;file&gt;...&quot; to unstage)## modified: readme.txt# GitÂêåÊ†∑ÂëäËØâÊàë‰ª¨ÔºåÁî®ÂëΩ‰ª§git reset HEAD fileÂèØ‰ª•ÊääÊöÇÂ≠òÂå∫ÁöÑ‰øÆÊîπÊí§ÈîÄÊéâÔºàunstageÔºâÔºåÈáçÊñ∞ÊîæÂõûÂ∑•‰ΩúÂå∫Ôºö 123456789$ git reset HEAD readme.txtUnstaged changes after reset:M readme.txt git resetÂëΩ‰ª§Êó¢ÂèØ‰ª•ÂõûÈÄÄÁâàÊú¨Ôºå‰πüÂèØ‰ª•ÊääÊöÇÂ≠òÂå∫ÁöÑ‰øÆÊîπÂõûÈÄÄÂà∞Â∑•‰ΩúÂå∫„ÄÇÂΩìÊàë‰ª¨Áî®HEADÊó∂ÔºåË°®Á§∫ÊúÄÊñ∞ÁöÑÁâàÊú¨„ÄÇ ÂÜçÁî®git statusÊü•Áúã‰∏Ä‰∏ãÔºåÁé∞Âú®ÊöÇÂ≠òÂå∫ÊòØÂπ≤ÂáÄÁöÑÔºåÂ∑•‰ΩúÂå∫Êúâ‰øÆÊîπ„ÄÇ ÁÑ∂Âêé‰∏¢ÂºÉÂ∑•‰ΩúÂå∫ÁöÑ‰øÆÊîπ 1234567891011121314151617$ git checkout -- readme.txt $ git status# On branch masternothing to commit (working directory clean) ‰∏ç‰ΩÜ‰øÆÊîπ‰∫ÜÊñá‰ª∂Ëøò‰ªéÊöÇÂ≠òÂå∫Êèê‰∫§commitÂà∞‰∫ÜÁâàÊú¨Â∫ì - ÁâàÊú¨ÂõûÈÄÄ ÁâàÊú¨ÂõûÈÄÄÂèØ‰ª•ÂõûÈÄÄÂà∞‰∏ä‰∏Ä‰∏™ÁâàÊú¨„ÄÇ‰∏çËøáÔºåËøôÊòØÊúâÊù°‰ª∂ÁöÑÔºåÂ∞±ÊòØ‰Ω†ËøòÊ≤°ÊúâÊääËá™Â∑±ÁöÑÊú¨Âú∞ÁâàÊú¨Â∫ìÊé®ÈÄÅÂà∞ËøúÁ®ã„ÄÇGitÊòØÂàÜÂ∏ÉÂºèÁâàÊú¨ÊéßÂà∂Á≥ªÁªü„ÄÇ Âú®Â∑•‰Ωú‰∏≠ÂØπÊüê‰∏™Êñá‰ª∂ÔºàÂ¶Çreadme.txtÔºâËøõË°åÂ§öÊ¨°‰øÆÊîπ‰∫§commit„ÄÇ ÂèØ‰ª•ÈÄöËøáÁâàÊú¨ÊéßÂà∂Á≥ªÁªüÂëΩ‰ª§ÂëäËØâÊàë‰ª¨Êèê‰∫§ÁöÑÂéÜÂè≤ËÆ∞ÂΩïÔºåÂú®Git‰∏≠ÔºåÊàë‰ª¨Áî®git logÂëΩ‰ª§Êü•ÁúãÔºö 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869$ git logcommit 3628164fb26d48395383f8f31179f24e0882e1e0Author: Michael Liao &lt;askxuefeng@gmail.com&gt;Date: Tue Aug 20 15:11:49 2013 +0800 append GPL commit ea34578d5496d7dd233c827ed32a8cd576c5ee85Author: Michael Liao &lt;askxuefeng@gmail.com&gt;Date: Tue Aug 20 14:53:12 2013 +0800 add distributed commit cb926e7ea50ad11b8f9e909c05226233bf755030Author: Michael Liao &lt;askxuefeng@gmail.com&gt;Date: Mon Aug 19 17:51:55 2013 +0800 wrote a readme file Note: \\1. git logÂëΩ‰ª§ÊòæÁ§∫‰ªéÊúÄËøëÂà∞ÊúÄËøúÁöÑÊèê‰∫§Êó•ÂøóÔºåÊàë‰ª¨ÂèØ‰ª•ÁúãÂà∞3Ê¨°Êèê‰∫§ÔºåÊúÄËøëÁöÑ‰∏ÄÊ¨°ÊòØappend GPLÔºå‰∏ä‰∏ÄÊ¨°ÊòØadd distributedÔºåÊúÄÊó©ÁöÑ‰∏ÄÊ¨°ÊòØwrote a readme file„ÄÇ \\2. Â¶ÇÊûúÂ´åËæìÂá∫‰ø°ÊÅØÂ§™Â§öÔºåÁúãÂæóÁúºËä±Áº≠‰π±ÁöÑÔºåÂèØ‰ª•ËØïËØïÂä†‰∏ä--pretty=onelineÂèÇÊï∞Ôºö 12345678910111213$ git log --pretty=oneline3628164fb26d48395383f8f31179f24e0882e1e0 append GPLea34578d5496d7dd233c827ed32a8cd576c5ee85 add distributedcb926e7ea50ad11b8f9e909c05226233bf755030 wrote a readme file \\3. ‰Ω†ÁúãÂà∞ÁöÑ‰∏ÄÂ§ß‰∏≤Á±ª‰ºº3628164...882e1e0ÁöÑÊòØcommit idÔºàÁâàÊú¨Âè∑ÔºâÔºåÂíåSVN‰∏ç‰∏ÄÊ†∑ÔºåGitÁöÑcommit id‰∏çÊòØ1Ôºå2Ôºå3‚Ä¶‚Ä¶ÈÄíÂ¢ûÁöÑÊï∞Â≠óÔºåËÄåÊòØ‰∏Ä‰∏™SHA1ËÆ°ÁÆóÂá∫Êù•ÁöÑ‰∏Ä‰∏™ÈùûÂ∏∏Â§ßÁöÑÊï∞Â≠óÔºåÁî®ÂçÅÂÖ≠ËøõÂà∂Ë°®Á§∫ÔºåËÄå‰∏î‰Ω†ÁúãÂà∞ÁöÑcommit idÂíåÊàëÁöÑËÇØÂÆö‰∏ç‰∏ÄÊ†∑Ôºå‰ª•‰Ω†Ëá™Â∑±ÁöÑ‰∏∫ÂáÜ„ÄÇ‰∏∫‰ªÄ‰πàcommit idÈúÄË¶ÅÁî®Ëøô‰πà‰∏ÄÂ§ß‰∏≤Êï∞Â≠óË°®Á§∫Âë¢ÔºüÂõ†‰∏∫GitÊòØÂàÜÂ∏ÉÂºèÁöÑÁâàÊú¨ÊéßÂà∂Á≥ªÁªüÔºåÂêéÈù¢Êàë‰ª¨ËøòË¶ÅÁ†îÁ©∂Â§ö‰∫∫Âú®Âêå‰∏Ä‰∏™ÁâàÊú¨Â∫ìÈáåÂ∑•‰ΩúÔºåÂ¶ÇÊûúÂ§ßÂÆ∂ÈÉΩÁî®1Ôºå2Ôºå3‚Ä¶‚Ä¶‰Ωú‰∏∫ÁâàÊú¨Âè∑ÔºåÈÇ£ËÇØÂÆöÂ∞±ÂÜ≤Á™Å‰∫Ü„ÄÇ \\4. ÊØèÊèê‰∫§‰∏Ä‰∏™Êñ∞ÁâàÊú¨ÔºåÂÆûÈôÖ‰∏äGitÂ∞±‰ºöÊääÂÆÉ‰ª¨Ëá™Âä®‰∏≤Êàê‰∏ÄÊù°Êó∂Èó¥Á∫ø„ÄÇÂ¶ÇÊûú‰ΩøÁî®ÂèØËßÜÂåñÂ∑•ÂÖ∑ÔºàÂ¶ÇGitX„ÄÅgithubÁöÑÂÆ¢Êà∑Á´Ø„ÄÅpycharmÔºâÊü•ÁúãGitÂéÜÂè≤ÔºåÂ∞±ÂèØ‰ª•Êõ¥Ê∏ÖÊ•öÂú∞ÁúãÂà∞Êèê‰∫§ÂéÜÂè≤ÁöÑÊó∂Èó¥Á∫ø„ÄÇ Áé∞Âú®Êàë‰ª¨ÊÉ≥Ë¶ÅÊääreadme.txtÂõûÈÄÄÂà∞‰∏ä‰∏Ä‰∏™ÁâàÊú¨ Â¶Ç‚Äúadd distributed‚ÄùÁöÑÈÇ£‰∏™ÁâàÊú¨ÔºåÊÄé‰πàÂÅöÂë¢ÔºüÈ¶ñÂÖàÔºåGitÂøÖÈ°ªÁü•ÈÅìÂΩìÂâçÁâàÊú¨ÊòØÂì™‰∏™ÁâàÊú¨ÔºåÂú®Git‰∏≠ÔºåÁî®HEADË°®Á§∫ÂΩìÂâçÁâàÊú¨Ôºå‰πüÂ∞±ÊòØÊúÄÊñ∞ÁöÑÊèê‰∫§3628164...882e1e0ÔºàÊ≥®ÊÑèÊàëÁöÑÊèê‰∫§IDÂíå‰Ω†ÁöÑËÇØÂÆö‰∏ç‰∏ÄÊ†∑ÔºâÔºå‰∏ä‰∏Ä‰∏™ÁâàÊú¨Â∞±ÊòØHEADÔºå‰∏ä‰∏ä‰∏Ä‰∏™ÁâàÊú¨Â∞±ÊòØHEADÔºåÂΩìÁÑ∂ÂæÄ‰∏ä100‰∏™ÁâàÊú¨ÂÜô100‰∏™ÊØîËæÉÂÆπÊòìÊï∞‰∏çËøáÊù•ÔºåÊâÄ‰ª•ÂÜôÊàêHEAD~100„ÄÇ Áé∞Âú®ÔºåÊàë‰ª¨Ë¶ÅÊääÂΩìÂâçÁâàÊú¨‚Äúappend GPL‚ÄùÂõûÈÄÄÂà∞‰∏ä‰∏Ä‰∏™ÁâàÊú¨‚Äúadd distributed‚ÄùÔºåÂ∞±ÂèØ‰ª•‰ΩøÁî®git resetÂëΩ‰ª§Ôºö 12345$ git reset --hard HEAD^HEAD is now at ea34578 add distributed ËøôÊó∂readme.txtÁöÑÂÜÖÂÆπÂ∞±Êàê‰∫ÜÁâàÊú¨add distributed Êàë‰ª¨Áî®git logÂÜçÁúãÁúãÁé∞Âú®ÁâàÊú¨Â∫ìÁöÑÁä∂ÊÄÅÔºö 123456789101112131415161718192021222324252627282930313233343536373839404142434445$ git logcommit ea34578d5496d7dd233c827ed32a8cd576c5ee85Author: Michael Liao &lt;askxuefeng@gmail.com&gt;Date: Tue Aug 20 14:53:12 2013 +0800 add distributed commit cb926e7ea50ad11b8f9e909c05226233bf755030Author: Michael Liao &lt;askxuefeng@gmail.com&gt;Date: Mon Aug 19 17:51:55 2013 +0800 wrote a readme file ÊúÄÊñ∞ÁöÑÈÇ£‰∏™ÁâàÊú¨append GPLÂ∑≤ÁªèÁúã‰∏çÂà∞‰∫ÜÔºÅ ÊÅ¢Â§çÊñá‰ª∂ÂêéÔºåË¶ÅÊòØÊàë‰ª¨ÂèàÊÉ≥ÂõûÂà∞‰øÆÊîπÂêéÁöÑÊñá‰ª∂Âë¢ÔºüÔºàÂëΩ‰ª§Ë°åÁ™óÂè£ËøòÊ≤°ÊúâË¢´ÂÖ≥ÊéâÔºâ Âè™Ë¶Å‰∏äÈù¢ÁöÑÂëΩ‰ª§Ë°åÁ™óÂè£ËøòÊ≤°ÊúâË¢´ÂÖ≥ÊéâÔºå‰Ω†Â∞±ÂèØ‰ª•È°∫ÁùÄÂæÄ‰∏äÊâæÂïäÊâæÂïäÔºåÊâæÂà∞ÈÇ£‰∏™append GPLÁöÑcommit idÊòØ3628164...Ôºå‰∫éÊòØÂ∞±ÂèØ‰ª•ÊåáÂÆöÂõûÂà∞Êú™Êù•ÁöÑÊüê‰∏™ÁâàÊú¨Ôºö 12345$ git reset --hard 3628164HEAD is now at 3628164 append GPL ÁâàÊú¨Âè∑Ê≤°ÂøÖË¶ÅÂÜôÂÖ®ÔºåÂâçÂá†‰ΩçÂ∞±ÂèØ‰ª•‰∫ÜÔºåGit‰ºöËá™Âä®ÂéªÊâæ„ÄÇ GitÁöÑÁâàÊú¨ÂõûÈÄÄÈÄüÂ∫¶ÈùûÂ∏∏Âø´ÔºåÂõ†‰∏∫GitÂú®ÂÜÖÈÉ®Êúâ‰∏™ÊåáÂêëÂΩìÂâçÁâàÊú¨ÁöÑHEADÊåáÈíàÔºåÂΩì‰Ω†ÂõûÈÄÄÁâàÊú¨ÁöÑÊó∂ÂÄôÔºåGit‰ªÖ‰ªÖÊòØÊääHEAD‰ªéÊåáÂêëappend GPLÔºö Êîπ‰∏∫ÊåáÂêëadd distributedÔºö ÁÑ∂ÂêéÈ°∫‰æøÊääÂ∑•‰ΩúÂå∫ÁöÑÊñá‰ª∂Êõ¥Êñ∞‰∫Ü„ÄÇÊâÄ‰ª•‰Ω†ËÆ©HEADÊåáÂêëÂì™‰∏™ÁâàÊú¨Âè∑Ôºå‰Ω†Â∞±ÊääÂΩìÂâçÁâàÊú¨ÂÆö‰ΩçÂú®Âì™„ÄÇ ÊÅ¢Â§çÊñá‰ª∂ÂêéÔºåË¶ÅÊòØÊàë‰ª¨ÂèàÊÉ≥ÂõûÂà∞‰øÆÊîπÂêéÁöÑÊñá‰ª∂Âë¢ÔºüÔºàÂëΩ‰ª§Ë°åÁ™óÂè£Êó©Â∞±ÂÖ≥Êéâ‰∫ÜÔºâ ÊÉ≥ÊÅ¢Â§çÂà∞Êñ∞ÁâàÊú¨ÊÄé‰πàÂäûÔºüÊâæ‰∏çÂà∞Êñ∞ÁâàÊú¨ÁöÑcommit idÊÄé‰πàÂäûÔºüÂΩì‰Ω†Áî®$ git reset --hard HEAD^ÂõûÈÄÄÂà∞add distributedÁâàÊú¨Êó∂ÔºåÂÜçÊÉ≥ÊÅ¢Â§çÂà∞append GPLÔºåÂ∞±ÂøÖÈ°ªÊâæÂà∞append GPLÁöÑcommit id„ÄÇ GitÊèê‰æõ‰∫Ü‰∏Ä‰∏™ÂëΩ‰ª§git reflogÁî®Êù•ËÆ∞ÂΩï‰Ω†ÁöÑÊØè‰∏ÄÊ¨°ÂëΩ‰ª§Ôºö[GitÈ´òÁ∫ßÊïôÁ®ã:git log‰∏égit reflog] 1234567891011121314151617$ git reflogea34578 HEAD@{0}: reset: moving to HEAD^3628164 HEAD@{1}: commit: append GPLea34578 HEAD@{2}: commit: add distributedcb926e7 HEAD@{3}: commit (initial): wrote a readme file Á¨¨‰∫åË°åÊòæÁ§∫append GPLÁöÑcommit idÊòØ3628164ÔºåÁé∞Âú®Ôºå‰Ω†ÂèàÂèØ‰ª•‰πòÂùêÊó∂ÂÖâÊú∫ÂõûÂà∞Êú™Êù•‰∫Ü„ÄÇ","link":"/2021/02/25/Draft/2021/%E5%BF%AB%E6%9F%A5/"},{"title":"MYSQL‰ºòÂåñ","text":"MySqlÁü•ËØÜÂèä‰ºòÂåñ Áõ∏ÂÖ≥ËµÑÊ∫êÔºö‰ºòÂåñËßÜÈ¢ë„ÄÅÂÆòÊñπÊñáÊ°£„ÄÅÂü∫Á°ÄËßÜÈ¢ë MySQLÂü∫Á°Ä ‰∏∫‰ªÄ‰πàË¶Å‰ΩøÁî®Êï∞ÊçÆÂ∫ì ÂÜÖÂ≠ò ‰ºòÔºö Â≠òÂèñÈÄüÂ∫¶Âø´ÔºõÁº∫Ôºö Êï∞ÊçÆ‰∏çËÉΩÊ∞∏‰πÖ‰øùÂ≠ò Êñá‰ª∂ ‰ºòÔºö Êï∞ÊçÆÊ∞∏‰πÖ‰øùÂ≠òÔºõÁº∫Ôºö1ÔºâÈÄüÂ∫¶ÊØîÂÜÖÂ≠òÊìç‰ΩúÊÖ¢ÔºåÈ¢ëÁπÅÁöÑIOÊìç‰Ωú 2ÔºâÊü•ËØ¢‰∏çÊñπ‰æø Êï∞ÊçÆÂ∫ì 1ÔºâÊï∞ÊçÆÊ∞∏‰πÖ‰øùÂ≠ò 2Ôºâ‰ΩøÁî®SQLËØ≠Âè•ÔºåÊü•ËØ¢Êñπ‰æøÊïàÁéáÈ´ò„ÄÇ3ÔºâÁÆ°ÁêÜÊï∞ÊçÆÊñπ‰æø ‰ªÄ‰πàÊòØSQLÔºü ÁªìÊûÑÂåñÊü•ËØ¢ËØ≠Ë®Ä(Structured Query Language)ÔºåÁî®‰∫éÂ≠òÂèñÊï∞ÊçÆ„ÄÅÊü•ËØ¢„ÄÅÊõ¥Êñ∞ÂíåÁÆ°ÁêÜÂÖ≥Á≥ªÊï∞ÊçÆÂ∫ìÁ≥ªÁªüÁöÑÊï∞ÊçÆÂ∫ìÊü•ËØ¢ËØ≠Ë®Ä ‰ªÄ‰πàÊòØMySQL? ÂÖ≥Á≥ªÂûãÊï∞ÊçÆÂ∫ìÁÆ°ÁêÜÁ≥ªÁªü Êï∞ÊçÆÂ∫ì‰∏âÂ§ßËåÉÂºèÊòØ‰ªÄ‰πà Á¨¨‰∏ÄËåÉÂºèÔºöÊØè‰∏™ÂàóÈÉΩ‰∏çÂèØ‰ª•ÂÜçÊãÜÂàÜ„ÄÇ Á¨¨‰∫åËåÉÂºèÔºöÂú®Á¨¨‰∏ÄËåÉÂºèÁöÑÂü∫Á°Ä‰∏äÔºåÈùû‰∏ªÈîÆÂàóÂÆåÂÖ®‰æùËµñ‰∫é‰∏ªÈîÆÔºåËÄå‰∏çËÉΩÊòØ‰æùËµñ‰∫é‰∏ªÈîÆÁöÑ‰∏ÄÈÉ®ÂàÜ„ÄÇ Á¨¨‰∏âËåÉÂºèÔºöÂú®Á¨¨‰∫åËåÉÂºèÁöÑÂü∫Á°Ä‰∏äÔºåÈùû‰∏ªÈîÆÂàóÂè™‰æùËµñ‰∫é‰∏ªÈîÆÔºå‰∏ç‰æùËµñ‰∫éÂÖ∂‰ªñÈùû‰∏ªÈîÆ„ÄÇ Âú®ËÆæËÆ°Êï∞ÊçÆÂ∫ìÁªìÊûÑÁöÑÊó∂ÂÄôÔºåË¶ÅÂ∞ΩÈáèÈÅµÂÆà‰∏âËåÉÂºèÔºåÂ¶ÇÊûú‰∏çÈÅµÂÆàÔºåÂøÖÈ°ªÊúâË∂≥Â§üÁöÑÁêÜÁî±„ÄÇÊØîÂ¶ÇÊÄßËÉΩ„ÄÇ‰∫ãÂÆû‰∏äÊàë‰ª¨ÁªèÂ∏∏‰ºö‰∏∫‰∫ÜÊÄßËÉΩËÄåÂ¶•ÂçèÊï∞ÊçÆÂ∫ìÁöÑËÆæËÆ°„ÄÇ mysqlÊúâÂÖ≥ÊùÉÈôêÁöÑË°®ÈÉΩÊúâÂì™Âá†‰∏™ MySQLÊúçÂä°Âô®ÈÄöËøáÊùÉÈôêË°®Êù•ÊéßÂà∂Áî®Êà∑ÂØπÊï∞ÊçÆÂ∫ìÁöÑËÆøÈóÆÔºåÊùÉÈôêË°®Â≠òÊîæÂú®mysqlÊï∞ÊçÆÂ∫ìÈáåÔºåÁî±mysql_install_dbËÑöÊú¨ÂàùÂßãÂåñ„ÄÇËøô‰∫õÊùÉÈôêË°®ÂàÜÂà´userÔºådbÔºåtable_privÔºåcolumns_privÂíåhost„ÄÇ‰∏ãÈù¢ÂàÜÂà´‰ªãÁªç‰∏Ä‰∏ãËøô‰∫õË°®ÁöÑÁªìÊûÑÂíåÂÜÖÂÆπÔºö userÊùÉÈôêË°®ÔºöËÆ∞ÂΩïÂÖÅËÆ∏ËøûÊé•Âà∞ÊúçÂä°Âô®ÁöÑÁî®Êà∑Â∏êÂè∑‰ø°ÊÅØÔºåÈáåÈù¢ÁöÑÊùÉÈôêÊòØÂÖ®Â±ÄÁ∫ßÁöÑ„ÄÇ dbÊùÉÈôêË°®ÔºöËÆ∞ÂΩïÂêÑ‰∏™Â∏êÂè∑Âú®ÂêÑ‰∏™Êï∞ÊçÆÂ∫ì‰∏äÁöÑÊìç‰ΩúÊùÉÈôê„ÄÇ table_privÊùÉÈôêË°®ÔºöËÆ∞ÂΩïÊï∞ÊçÆË°®Á∫ßÁöÑÊìç‰ΩúÊùÉÈôê„ÄÇ columns_privÊùÉÈôêË°®ÔºöËÆ∞ÂΩïÊï∞ÊçÆÂàóÁ∫ßÁöÑÊìç‰ΩúÊùÉÈôê„ÄÇ hostÊùÉÈôêË°®ÔºöÈÖçÂêàdbÊùÉÈôêË°®ÂØπÁªôÂÆö‰∏ªÊú∫‰∏äÊï∞ÊçÆÂ∫ìÁ∫ßÊìç‰ΩúÊùÉÈôê‰ΩúÊõ¥ÁªÜËá¥ÁöÑÊéßÂà∂„ÄÇËøô‰∏™ÊùÉÈôêË°®‰∏çÂèóGRANTÂíåREVOKEËØ≠Âè•ÁöÑÂΩ±Âìç„ÄÇ MySQLÁöÑbinlogÊúâÊúâÂá†ÁßçÂΩïÂÖ•Ê†ºÂºèÔºüÂàÜÂà´Êúâ‰ªÄ‰πàÂå∫Âà´Ôºü Êúâ‰∏âÁßçÊ†ºÂºèÔºåstatementÔºårowÂíåmixed„ÄÇ statementÊ®°Âºè‰∏ãÔºåÊØè‰∏ÄÊù°‰ºö‰øÆÊîπÊï∞ÊçÆÁöÑsqlÈÉΩ‰ºöËÆ∞ÂΩïÂú®binlog‰∏≠„ÄÇ‰∏çÈúÄË¶ÅËÆ∞ÂΩïÊØè‰∏ÄË°åÁöÑÂèòÂåñÔºåÂáèÂ∞ë‰∫ÜbinlogÊó•ÂøóÈáèÔºåËäÇÁ∫¶‰∫ÜIOÔºåÊèêÈ´òÊÄßËÉΩ„ÄÇÁî±‰∫ésqlÁöÑÊâßË°åÊòØÊúâ‰∏ä‰∏ãÊñáÁöÑÔºåÂõ†Ê≠§Âú®‰øùÂ≠òÁöÑÊó∂ÂÄôÈúÄË¶Å‰øùÂ≠òÁõ∏ÂÖ≥ÁöÑ‰ø°ÊÅØÔºåÂêåÊó∂ËøòÊúâ‰∏Ä‰∫õ‰ΩøÁî®‰∫ÜÂáΩÊï∞‰πãÁ±ªÁöÑËØ≠Âè•Êó†Ê≥ïË¢´ËÆ∞ÂΩïÂ§çÂà∂„ÄÇ rowÁ∫ßÂà´‰∏ãÔºå‰∏çËÆ∞ÂΩïsqlËØ≠Âè•‰∏ä‰∏ãÊñáÁõ∏ÂÖ≥‰ø°ÊÅØÔºå‰ªÖ‰øùÂ≠òÂì™Êù°ËÆ∞ÂΩïË¢´‰øÆÊîπ„ÄÇËÆ∞ÂΩïÂçïÂÖÉ‰∏∫ÊØè‰∏ÄË°åÁöÑÊîπÂä®ÔºåÂü∫Êú¨ÊòØÂèØ‰ª•ÂÖ®ÈÉ®ËÆ∞‰∏ãÊù•‰ΩÜÊòØÁî±‰∫éÂæàÂ§öÊìç‰ΩúÔºå‰ºöÂØºËá¥Â§ßÈáèË°åÁöÑÊîπÂä®(ÊØîÂ¶Çalter table)ÔºåÂõ†Ê≠§ËøôÁßçÊ®°ÂºèÁöÑÊñá‰ª∂‰øùÂ≠òÁöÑ‰ø°ÊÅØÂ§™Â§öÔºåÊó•ÂøóÈáèÂ§™Â§ß„ÄÇ mixedÔºå‰∏ÄÁßçÊäò‰∏≠ÁöÑÊñπÊ°àÔºåÊôÆÈÄöÊìç‰Ωú‰ΩøÁî®statementËÆ∞ÂΩïÔºåÂΩìÊó†Ê≥ï‰ΩøÁî®statementÁöÑÊó∂ÂÄô‰ΩøÁî®row„ÄÇ Ê≠§Â§ñÔºåÊñ∞ÁâàÁöÑMySQL‰∏≠ÂØπrowÁ∫ßÂà´‰πüÂÅö‰∫Ü‰∏Ä‰∫õ‰ºòÂåñÔºåÂΩìË°®ÁªìÊûÑÂèëÁîüÂèòÂåñÁöÑÊó∂ÂÄôÔºå‰ºöËÆ∞ÂΩïËØ≠Âè•ËÄå‰∏çÊòØÈÄêË°åËÆ∞ÂΩï„ÄÇ ÊâßË°åÈ°∫Â∫è ![desc](file:///C:/Users/ADMINI~1/AppData/Local/Temp/msohtmlclip1/01/clip_image002.png) CREATEÔºàdropÔºåuseÔºâ DATABASE Êï∞ÊçÆÂ∫ìÂêç; CREATE TABLE IF NOT EXISTS runoob_tbl( runoob_id INT UNSIGNED AUTO_INCREMENT, runoob_title VARCHAR(100) NOT NULL, runoob_author VARCHAR(40) NOT NULL, submission_date DATE, PRIMARY KEY ( runoob_id ) )ENGINE=InnoDB DEFAULT CHARSET=utf8; Â¢ûÂà†ÊîπÊü• ‚Ä¢ INSERT INTO table_name ( field1, field2,...fieldN ) VALUES ( value1, value2,...valueN )Ôºå ( value11, value22,...valueNN ); ‚Ä¢ SELECT column_name,column_name FROM table_name [WHERE condition1 [AND [OR]] condition2 field1 LIKE condition1 [AND [OR]] filed2 = 'somevalue'][LIMIT N][ OFFSET M] Êü•ËØ¢ËØ≠Âè•‰∏≠‰Ω†ÂèØ‰ª•‰ΩøÁî®‰∏Ä‰∏™ÊàñËÄÖÂ§ö‰∏™Ë°®ÔºåË°®‰πãÈó¥‰ΩøÁî®ÈÄóÂè∑(,)ÂàÜÂâ≤ÔºåÂπ∂‰ΩøÁî®WHEREËØ≠Âè•Êù•ËÆæÂÆöÊü•ËØ¢Êù°‰ª∂„ÄÇ SELECT ÂëΩ‰ª§ÂèØ‰ª•ËØªÂèñ‰∏ÄÊù°ÊàñËÄÖÂ§öÊù°ËÆ∞ÂΩï„ÄÇ ‰Ω†ÂèØ‰ª•‰ΩøÁî®ÊòüÂè∑Ôºà*ÔºâÊù•‰ª£ÊõøÂÖ∂‰ªñÂ≠óÊÆµÔºåSELECTËØ≠Âè•‰ºöËøîÂõûË°®ÁöÑÊâÄÊúâÂ≠óÊÆµÊï∞ÊçÆ ‰Ω†ÂèØ‰ª•‰ΩøÁî® WHERE ËØ≠Âè•Êù•ÂåÖÂê´‰ªª‰ΩïÊù°‰ª∂Ôºå‰ΩøÁî® AND ÊàñËÄÖ OR ÊåáÂÆö‰∏Ä‰∏™ÊàñÂ§ö‰∏™Êù°‰ª∂„ÄÇ ‰Ω†ÂèØ‰ª•‰ΩøÁî®LIKEÂ≠êÂè•‰ª£ÊõøÁ≠âÂè∑ =„ÄÇ- ‰ª£Ë°®Âçï‰∏™Ôºå% Ë°®Á§∫‰ªªÊÑè 0 ‰∏™ÊàñÂ§ö‰∏™Â≠óÁ¨¶„ÄÇÂèØÂåπÈÖç‰ªªÊÑèÁ±ªÂûãÂíåÈïøÂ∫¶ÁöÑÂ≠óÁ¨¶ÔºåÊúâ‰∫õÊÉÖÂÜµ‰∏ãËã•ÊòØ‰∏≠ÊñáÔºåËØ∑‰ΩøÁî®‰∏§‰∏™ÁôæÂàÜÂè∑Ôºà%%ÔºâË°®Á§∫„ÄÇ[]ÔºöË°®Á§∫Êã¨Âè∑ÂÜÖÊâÄÂàóÂ≠óÁ¨¶‰∏≠ÁöÑ‰∏Ä‰∏™ÔºàÁ±ª‰ººÊ≠£ÂàôË°®ËææÂºèÔºâ„ÄÇÊåáÂÆö‰∏Ä‰∏™Â≠óÁ¨¶„ÄÅÂ≠óÁ¨¶‰∏≤ÊàñËåÉÂõ¥ÔºåË¶ÅÊ±ÇÊâÄÂåπÈÖçÂØπË±°‰∏∫ÂÆÉ‰ª¨‰∏≠ÁöÑ‰ªª‰∏Ä‰∏™„ÄÇ[^] ÔºöË°®Á§∫‰∏çÂú®Êã¨Âè∑ÊâÄÂàó‰πãÂÜÖÁöÑÂçï‰∏™Â≠óÁ¨¶„ÄÇÂÖ∂ÂèñÂÄºÂíå [] Áõ∏ÂêåÔºå‰ΩÜÂÆÉË¶ÅÊ±ÇÊâÄÂåπÈÖçÂØπË±°‰∏∫ÊåáÂÆöÂ≠óÁ¨¶‰ª•Â§ñÁöÑ‰ªª‰∏Ä‰∏™Â≠óÁ¨¶„ÄÇ Êü•ËØ¢ÂÜÖÂÆπÂåÖÂê´ÈÄöÈÖçÁ¨¶Êó∂,Áî±‰∫éÈÄöÈÖçÁ¨¶ÁöÑÁºòÊïÖÔºåÂØºËá¥Êàë‰ª¨Êü•ËØ¢ÁâπÊÆäÂ≠óÁ¨¶ ‚Äú%‚Äù„ÄÅ‚Äú_‚Äù„ÄÅ‚Äú[‚Äù ÁöÑËØ≠Âè•Êó†Ê≥ïÊ≠£Â∏∏ÂÆûÁé∞ÔºåËÄåÊääÁâπÊÆäÂ≠óÁ¨¶Áî® ‚Äú[ ]‚Äù Êã¨Ëµ∑‰æøÂèØÊ≠£Â∏∏Êü•ËØ¢„ÄÇ ‰Ω†ÂèØ‰ª•‰ΩøÁî® LIMIT Â±ûÊÄßÊù•ËÆæÂÆöËøîÂõûÁöÑËÆ∞ÂΩïÊï∞„ÄÇ ‰Ω†ÂèØ‰ª•ÈÄöËøáOFFSETÊåáÂÆöSELECTËØ≠Âè•ÂºÄÂßãÊü•ËØ¢ÁöÑÊï∞ÊçÆÂÅèÁßªÈáè„ÄÇÈªòËÆ§ÊÉÖÂÜµ‰∏ãÂÅèÁßªÈáè‰∏∫0„ÄÇ ‚Ä¢ SELECT expression1, expression2, ... expression_n FROM tables [WHERE conditions] UNION [ALL | DISTINCT] SELECT expression1, expression2, ... expression_n FROM tables [WHERE conditions]; UNION Êìç‰ΩúÁ¨¶Áî®‰∫éËøûÊé•‰∏§‰∏™‰ª•‰∏äÁöÑ SELECT ËØ≠Âè•ÁöÑÁªìÊûúÁªÑÂêàÂà∞‰∏Ä‰∏™ÁªìÊûúÈõÜÂêà‰∏≠„ÄÇÂ§ö‰∏™ SELECT ËØ≠Âè•‰ºöÂà†Èô§ÈáçÂ§çÁöÑÊï∞ÊçÆ„ÄÇ expression1, expression2, ... expression_n: Ë¶ÅÊ£ÄÁ¥¢ÁöÑÂàó„ÄÇ tables: Ë¶ÅÊ£ÄÁ¥¢ÁöÑÊï∞ÊçÆË°®„ÄÇ WHERE conditions: ÂèØÈÄâÔºå Ê£ÄÁ¥¢Êù°‰ª∂„ÄÇ DISTINCT: ÂèØÈÄâÔºåÂà†Èô§ÁªìÊûúÈõÜ‰∏≠ÈáçÂ§çÁöÑÊï∞ÊçÆ„ÄÇÈªòËÆ§ÊÉÖÂÜµ‰∏ã UNION Êìç‰ΩúÁ¨¶Â∑≤ÁªèÂà†Èô§‰∫ÜÈáçÂ§çÊï∞ÊçÆÔºåÊâÄ‰ª• DISTINCT ‰øÆÈ•∞Á¨¶ÂØπÁªìÊûúÊ≤°Âï•ÂΩ±Âìç„ÄÇ ALL: ÂèØÈÄâÔºåËøîÂõûÊâÄÊúâÁªìÊûúÈõÜÔºåÂåÖÂê´ÈáçÂ§çÊï∞ÊçÆ„ÄÇ ‚Ä¢ SELECT field1, field2,...fieldN FROM table_name1, table_name2...ORDER BY field1 [ASC [DESC][ÈªòËÆ§ ASC]], [field2...] [ASC [DESC][ÈªòËÆ§ ASC]] ‚Ä¢ SELECT column_name, function(column_name) FROM table_name WHERE column_name operator value GROUP BY column_name; ‚Ä¢ Ê†πÊçÆ‰∏Ä‰∏™ÊàñÂ§ö‰∏™ÂàóÂØπÁªìÊûúÈõÜËøõË°åÂàÜÁªÑ„ÄÇ Âú®ÂàÜÁªÑÁöÑÂàó‰∏äÊàë‰ª¨ÂèØ‰ª•‰ΩøÁî® COUNT, SUM, AVG,Á≠âÂáΩÊï∞„ÄÇ WITH ROLLUP ÂèØ‰ª•ÂÆûÁé∞Âú®ÂàÜÁªÑÁªüËÆ°Êï∞ÊçÆÂü∫Á°Ä‰∏äÂÜçËøõË°åÁõ∏ÂêåÁöÑÁªüËÆ°ÔºàSUM,AVG,COUNT‚Ä¶Ôºâ ‚Ä¢ ‰ΩøÁî®ËÅöÂêàÂáΩÊï∞ÂêéÈúÄË¶Ågroup byÂàÜÁªÑÔºåhavingÂè™ËÉΩÁî®‰∫égroup by ÂêéÈù¢ ‚Ä¢ INNER JOINÔºàÂÜÖËøûÊé•,ÊàñÁ≠âÂÄºËøûÊé•Ôºâ„Äê‰∫§ÈõÜ„ÄëÔºöËé∑Âèñ‰∏§‰∏™Ë°®‰∏≠Â≠óÊÆµÂåπÈÖçÂÖ≥Á≥ªÁöÑËÆ∞ÂΩï„ÄÇ LEFT JOINÔºàÂ∑¶ËøûÊé•Ôºâ„ÄêÂ∑¶‰∫§„ÄëÔºöËé∑ÂèñÂ∑¶Ë°®ÊâÄÊúâËÆ∞ÂΩïÔºåÂç≥‰ΩøÂè≥Ë°®Ê≤°ÊúâÂØπÂ∫îÂåπÈÖçÁöÑËÆ∞ÂΩï„ÄÇ RIGHT JOINÔºàÂè≥ËøûÊé•Ôºâ„ÄêÂ∑¶‰∫§„ÄëÔºö ‰∏é LEFT JOIN Áõ∏ÂèçÔºåÁî®‰∫éËé∑ÂèñÂè≥Ë°®ÊâÄÊúâËÆ∞ÂΩïÔºåÂç≥‰ΩøÂ∑¶Ë°®Ê≤°ÊúâÂØπÂ∫îÂåπÈÖçÁöÑËÆ∞ÂΩï„ÄÇ ‚Ä¢ select p.id,p.name,t.content from person p left join task t on p.id=t.person_id order by p.id ‚Ä¢ UPDATE table_name SET field1=new-value1, field2=new-value2 [WHERE Clause] ‰Ω†ÂèØ‰ª•ÂêåÊó∂Êõ¥Êñ∞‰∏Ä‰∏™ÊàñÂ§ö‰∏™Â≠óÊÆµ„ÄÇ ‰Ω†ÂèØ‰ª•Âú® WHERE Â≠êÂè•‰∏≠ÊåáÂÆö‰ªª‰ΩïÊù°‰ª∂„ÄÇ ‰Ω†ÂèØ‰ª•Âú®‰∏Ä‰∏™ÂçïÁã¨Ë°®‰∏≠ÂêåÊó∂Êõ¥Êñ∞Êï∞ÊçÆ„ÄÇ ‚Ä¢ update titles_test set emp_no=replace(emp_no,'10001','10005') where id=5 ‚Ä¢ DELETE FROM table_name [WHERE Clause] Â¶ÇÊûúÊ≤°ÊúâÊåáÂÆö WHERE Â≠êÂè•ÔºåMySQL Ë°®‰∏≠ÁöÑÊâÄÊúâËÆ∞ÂΩïÂ∞ÜË¢´Âà†Èô§„ÄÇ ‰Ω†ÂèØ‰ª•Âú® WHERE Â≠êÂè•‰∏≠ÊåáÂÆö‰ªª‰ΩïÊù°‰ª∂ ÊÇ®ÂèØ‰ª•Âú®Âçï‰∏™Ë°®‰∏≠‰∏ÄÊ¨°ÊÄßÂà†Èô§ËÆ∞ÂΩï„ÄÇ DROP TABLE table_name ; ALTER TABLE table_name DROP i; ADD i INT ; Âà†Èô§ÔºåÊ∑ªÂä†Êàñ‰øÆÊîπË°®Â≠óÊÆµ MODIFY c CHAR(10) ; CHANGE i j BIGINT; ‰øÆÊîπÂ≠óÊÆµÁ±ªÂûãÂèäÂêçÁß∞ ALTER i SET DEFAULT 1000; ALTER i DROP DEFAULT; ‰øÆÊîπ,Âà†Èô§Â≠óÊÆµÁöÑÈªòËÆ§ÂÄº ALTER TABLE testalter_tbl RENAME TO alter_tbl;ÊîπË°®Âêç ¬∑ Ë°®‰∏≠Âè™Ââ©‰Ωô‰∏Ä‰∏™Â≠óÊÆµÂàôÊó†Ê≥ï‰ΩøÁî®DROPÊù•Âà†Èô§Â≠óÊÆµ SQLËØ≠Âè•‰∏ªË¶ÅÂàÜ‰∏∫Âì™Âá†Á±ª **Êï∞ÊçÆÂÆö‰πâËØ≠Ë®Ä DDLÔºàData Ddefinition LanguageÔºâ**CREATEÔºåDROPÔºåALTER ÂØπÈÄªËæëÁªìÊûÑÁ≠âÊúâÊìç‰ΩúÁöÑÔºåÂÖ∂‰∏≠ÂåÖÊã¨Ë°®ÁªìÊûÑÔºåËßÜÂõæÂíåÁ¥¢Âºï„ÄÇ Êï∞ÊçÆÊü•ËØ¢ËØ≠Ë®Ä DQLÔºàData Query LanguageÔºâSELECT Êü•ËØ¢Êìç‰ΩúÔºå‰ª• select ÂÖ≥ÈîÆÂ≠ó„ÄÇÁÆÄÂçïÊü•ËØ¢ÔºåËøûÊé•Êü•ËØ¢Á≠â ÈÉΩÂ±û‰∫é DQL„ÄÇ **Êï∞ÊçÆÊìçÁ∫µËØ≠Ë®Ä DMLÔºàData Manipulation LanguageÔºâ**INSERTÔºåUPDATEÔºåDELETE Êï∞ÊçÆÊìç‰ΩúÔºåÂØπÂ∫î‰∏äÈù¢ÊâÄËØ¥ÁöÑÊü•ËØ¢Êìç‰Ωú DQL ‰∏é DML ÂÖ±ÂêåÊûÑÂª∫‰∫ÜÂ§öÊï∞ÂàùÁ∫ßÁ®ãÂ∫èÂëòÂ∏∏Áî®ÁöÑÂ¢ûÂà†ÊîπÊü•Êìç‰Ωú„ÄÇÊü•ËØ¢ËæÉ‰∏∫ÁâπÊÆäÂàíÂàÜÂà∞ DQL ‰∏≠„ÄÇ **Êï∞ÊçÆÊéßÂà∂ÂäüËÉΩ DCLÔºàData Control LanguageÔºâ**GRANTÔºåREVOKEÔºåCOMMITÔºåROLLBACK ÂØπÊï∞ÊçÆÂ∫ìÂÆâÂÖ®ÊÄßÂÆåÊï¥ÊÄßÁ≠âÊúâÊìç‰ΩúÁöÑÔºåÊùÉÈôêÊéßÂà∂Á≠â DQMC Ë∂ÖÈîÆ„ÄÅÂÄôÈÄâÈîÆ„ÄÅ‰∏ªÈîÆ„ÄÅÂ§ñÈîÆÂàÜÂà´ÊòØ‰ªÄ‰πàÔºü Ë∂ÖÈîÆÔºöÂú®ÂÖ≥Á≥ª‰∏≠ËÉΩÂîØ‰∏ÄÊ†áËØÜÂÖÉÁªÑÁöÑÂ±ûÊÄßÈõÜÁß∞‰∏∫ÂÖ≥Á≥ªÊ®°ÂºèÁöÑË∂ÖÈîÆ„ÄÇ‰∏Ä‰∏™Â±ûÊÄßÂèØ‰ª•‰∏∫‰Ωú‰∏∫‰∏Ä‰∏™Ë∂ÖÈîÆÔºåÂ§ö‰∏™Â±ûÊÄßÁªÑÂêàÂú®‰∏ÄËµ∑‰πüÂèØ‰ª•‰Ωú‰∏∫‰∏Ä‰∏™Ë∂ÖÈîÆ„ÄÇË∂ÖÈîÆÂåÖÂê´ÂÄôÈÄâÈîÆÂíå‰∏ªÈîÆ„ÄÇ ÂÄôÈÄâÈîÆÔºöÊòØÊúÄÂ∞èË∂ÖÈîÆÔºåÂç≥Ê≤°ÊúâÂÜó‰ΩôÂÖÉÁ¥†ÁöÑË∂ÖÈîÆ„ÄÇ ‰∏ªÈîÆÔºöÊï∞ÊçÆÂ∫ìË°®‰∏≠ÂØπÂÇ®Â≠òÊï∞ÊçÆÂØπË±°‰∫à‰ª•ÂîØ‰∏ÄÂíåÂÆåÊï¥Ê†áËØÜÁöÑÊï∞ÊçÆÂàóÊàñÂ±ûÊÄßÁöÑÁªÑÂêà„ÄÇ‰∏Ä‰∏™Êï∞ÊçÆÂàóÂè™ËÉΩÊúâ‰∏Ä‰∏™‰∏ªÈîÆÔºå‰∏î‰∏ªÈîÆÁöÑÂèñÂÄº‰∏çËÉΩÁº∫Â§±ÔºåÂç≥‰∏çËÉΩ‰∏∫Á©∫ÂÄºÔºàNullÔºâ„ÄÇ Â§ñÈîÆÔºöÂú®‰∏Ä‰∏™Ë°®‰∏≠Â≠òÂú®ÁöÑÂè¶‰∏Ä‰∏™Ë°®ÁöÑ‰∏ªÈîÆÁß∞Ê≠§Ë°®ÁöÑÂ§ñÈîÆ„ÄÇ SQL Á∫¶ÊùüÊúâÂì™Âá†ÁßçÔºü NOT NULL: Áî®‰∫éÊéßÂà∂Â≠óÊÆµÁöÑÂÜÖÂÆπ‰∏ÄÂÆö‰∏çËÉΩ‰∏∫Á©∫ÔºàNULLÔºâ„ÄÇ UNIQUE: Êéß‰ª∂Â≠óÊÆµÂÜÖÂÆπ‰∏çËÉΩÈáçÂ§çÔºå‰∏Ä‰∏™Ë°®ÂÖÅËÆ∏ÊúâÂ§ö‰∏™ Unique Á∫¶Êùü„ÄÇ PRIMARY KEY: ‰πüÊòØÁî®‰∫éÊéß‰ª∂Â≠óÊÆµÂÜÖÂÆπ‰∏çËÉΩÈáçÂ§çÔºå‰ΩÜÂÆÉÂú®‰∏Ä‰∏™Ë°®Âè™ÂÖÅËÆ∏Âá∫Áé∞‰∏Ä‰∏™„ÄÇ FOREIGN KEY: Áî®‰∫éÈ¢ÑÈò≤Á†¥ÂùèË°®‰πãÈó¥ËøûÊé•ÁöÑÂä®‰ΩúÔºå‰πüËÉΩÈò≤Ê≠¢ÈùûÊ≥ïÊï∞ÊçÆÊèíÂÖ•Â§ñÈîÆÂàóÔºåÂõ†‰∏∫ÂÆÉÂøÖÈ°ªÊòØÂÆÉÊåáÂêëÁöÑÈÇ£‰∏™Ë°®‰∏≠ÁöÑÂÄº‰πã‰∏Ä„ÄÇ CHECK: Áî®‰∫éÊéßÂà∂Â≠óÊÆµÁöÑÂÄºËåÉÂõ¥„ÄÇ ÂÖ≠ÁßçÂÖ≥ËÅîÊü•ËØ¢ ‰∫§ÂèâËøûÊé•ÔºàCROSS JOINÔºâ ÂÜÖËøûÊé•ÔºàINNER JOINÔºâ Â§ñËøûÊé•ÔºàLEFT JOIN/RIGHT JOINÔºâ ËÅîÂêàÊü•ËØ¢ÔºàUNION ‰∏é UNION ALLÔºâ ÂÖ®ËøûÊé•ÔºàFULL JOINÔºâ ¬∑ ‰∫§ÂèâËøûÊé•ÔºàCROSS JOINÔºâ SELECT * FROM A,B(,C) ÊàñËÄÖ SELECT * FROM A CROSS JOIN B (CROSS JOIN C) #Ê≤°Êúâ‰ªª‰ΩïÂÖ≥ËÅîÊù°‰ª∂ÔºåÁªìÊûúÊòØÁ¨õÂç°Â∞îÁßØÔºåÁªìÊûúÈõÜ‰ºöÂæàÂ§ßÔºåÊ≤°ÊúâÊÑè‰πâÔºåÂæàÂ∞ë‰ΩøÁî®ÂÜÖËøûÊé•ÔºàINNER JOINÔºâSELECT * FROM A,B WHERE A.id=B.idÊàñËÄÖSELECT * FROM A INNER JOIN B ON A.id=B.idÂ§öË°®‰∏≠ÂêåÊó∂Á¨¶ÂêàÊüêÁßçÊù°‰ª∂ÁöÑÊï∞ÊçÆËÆ∞ÂΩïÁöÑÈõÜÂêàÔºåINNER JOINÂèØ‰ª•Áº©ÂÜô‰∏∫JOIN ¬∑ ÂÜÖËøûÊé•ÂàÜ‰∏∫‰∏âÁ±ª Á≠âÂÄºËøûÊé•ÔºöON A.id=B.id ‰∏çÁ≠âÂÄºËøûÊé•ÔºöON A.id &gt; B.id Ëá™ËøûÊé•ÔºöSELECT * FROM A T1 INNER JOIN A T2 ON T1.id=T2.pid ¬∑ Â§ñËøûÊé•ÔºàLEFT JOIN/RIGHT JOINÔºâ Â∑¶Â§ñËøûÊé•ÔºöLEFT OUTER JOIN, ‰ª•Â∑¶Ë°®‰∏∫‰∏ªÔºåÂÖàÊü•ËØ¢Âá∫Â∑¶Ë°®ÔºåÊåâÁÖß ON ÂêéÁöÑÂÖ≥ËÅîÊù°‰ª∂ÂåπÈÖçÂè≥Ë°®ÔºåÊ≤°ÊúâÂåπÈÖçÂà∞ÁöÑÁî® NULL Â°´ÂÖÖÔºåÂèØ‰ª•ÁÆÄÂÜôÊàê LEFT JOIN Âè≥Â§ñËøûÊé•ÔºöRIGHT OUTER JOIN, ‰ª•Âè≥Ë°®‰∏∫‰∏ªÔºåÂÖàÊü•ËØ¢Âá∫Âè≥Ë°®ÔºåÊåâÁÖß ON ÂêéÁöÑÂÖ≥ËÅîÊù°‰ª∂ÂåπÈÖçÂ∑¶Ë°®ÔºåÊ≤°ÊúâÂåπÈÖçÂà∞ÁöÑÁî® NULL Â°´ÂÖÖÔºåÂèØ‰ª•ÁÆÄÂÜôÊàê RIGHT JOIN ¬∑ ËÅîÂêàÊü•ËØ¢ÔºàUNION ‰∏é UNION ALLÔºâ SELECT * FROM A UNION SELECT * FROM B UNION ... Â∞±ÊòØÊääÂ§ö‰∏™ÁªìÊûúÈõÜÈõÜ‰∏≠Âú®‰∏ÄËµ∑ÔºåUNION ÂâçÁöÑÁªìÊûú‰∏∫Âü∫ÂáÜÔºåÈúÄË¶ÅÊ≥®ÊÑèÁöÑÊòØËÅîÂêàÊü•ËØ¢ÁöÑÂàóÊï∞Ë¶ÅÁõ∏Á≠âÔºåÁõ∏ÂêåÁöÑËÆ∞ÂΩïË°å‰ºöÂêàÂπ∂ Â¶ÇÊûú‰ΩøÁî® UNION ALLÔºå‰∏ç‰ºöÂêàÂπ∂ÈáçÂ§çÁöÑËÆ∞ÂΩïË°å ÊïàÁéá UNION È´ò‰∫é UNION ALL ¬∑ ÂÖ®ËøûÊé•ÔºàFULL JOINÔºâ MySQL ‰∏çÊîØÊåÅÂÖ®ËøûÊé• ÂèØ‰ª•‰ΩøÁî® LEFT JOIN Âíå UNION Âíå RIGHT JOIN ËÅîÂêà‰ΩøÁî® SELECT * FROM A LEFT JOIN B ON A.id=B.id UNIONSELECT * FROM A RIGHT JOIN B ON A.id=B.id ‰ªÄ‰πàÊòØÂ≠êÊü•ËØ¢ Êù°‰ª∂Ôºö‰∏ÄÊù° SQL ËØ≠Âè•ÁöÑÊü•ËØ¢ÁªìÊûúÂÅö‰∏∫Âè¶‰∏ÄÊù°Êü•ËØ¢ËØ≠Âè•ÁöÑÊù°‰ª∂ÊàñÊü•ËØ¢ÁªìÊûú ÂµåÂ•óÔºöÂ§öÊù° SQL ËØ≠Âè•ÂµåÂ•ó‰ΩøÁî®ÔºåÂÜÖÈÉ®ÁöÑ SQL Êü•ËØ¢ËØ≠Âè•Áß∞‰∏∫Â≠êÊü•ËØ¢„ÄÇ Â≠êÊü•ËØ¢ÁöÑ‰∏âÁßçÊÉÖÂÜµ Â≠êÊü•ËØ¢ÊòØÂçïË°åÂçïÂàóÁöÑÊÉÖÂÜµÔºöÁªìÊûúÈõÜÊòØ‰∏Ä‰∏™ÂÄºÔºåÁà∂Êü•ËØ¢‰ΩøÁî®Ôºö=„ÄÅ &lt;„ÄÅ&gt; Á≠âËøêÁÆóÁ¨¶ -- Êü•ËØ¢Â∑•ËµÑÊúÄÈ´òÁöÑÂëòÂ∑•ÊòØË∞ÅÔºü select * from employee where salary=(select max(salary) from employee); Â≠êÊü•ËØ¢ÊòØÂ§öË°åÂçïÂàóÁöÑÊÉÖÂÜµÔºöÁªìÊûúÈõÜÁ±ª‰ºº‰∫é‰∏Ä‰∏™Êï∞ÁªÑÔºåÁà∂Êü•ËØ¢‰ΩøÁî®Ôºöin ËøêÁÆóÁ¨¶ -- Êü•ËØ¢Â∑•ËµÑÊúÄÈ´òÁöÑÂëòÂ∑•ÊòØË∞ÅÔºü select * from employee where salary=(select max(salary) from employee); Â≠êÊü•ËØ¢ÊòØÂ§öË°åÂ§öÂàóÁöÑÊÉÖÂÜµÔºöÁªìÊûúÈõÜÁ±ª‰ºº‰∫é‰∏ÄÂº†ËôöÊãüË°®Ôºå‰∏çËÉΩÁî®‰∫é where Êù°‰ª∂ÔºåÁî®‰∫é select Â≠êÂè•‰∏≠ÂÅö‰∏∫Â≠êË°® -- 1) Êü•ËØ¢Âá∫2011Âπ¥‰ª•ÂêéÂÖ•ËÅåÁöÑÂëòÂ∑•‰ø°ÊÅØ -- 2) Êü•ËØ¢ÊâÄÊúâÁöÑÈÉ®Èó®‰ø°ÊÅØÔºå‰∏é‰∏äÈù¢ÁöÑËôöÊãüË°®‰∏≠ÁöÑ‰ø°ÊÅØÊØîÂØπÔºåÊâæÂá∫ÊâÄÊúâÈÉ®Èó®IDÁõ∏Á≠âÁöÑÂëòÂ∑•„ÄÇ select * from dept d, (select * from employee where join_date &gt; '2011-1-1') e where e.dept_id = d.id; -- ‰ΩøÁî®Ë°®ËøûÊé•Ôºö select d., e. from dept d inner join employee e on d.id = e.dept_id where e.join_date &gt; '2011-1-1' mysql‰∏≠ in Âíå exists Âå∫Âà´ mysql ‰∏≠ÁöÑ in ËØ≠Âè•ÊòØÊääÂ§ñË°®ÂíåÂÜÖË°®‰Ωú hash ËøûÊé•ÔºåËÄå exists ËØ≠Âè•ÊòØÂØπÂ§ñË°®‰Ωú loop Âæ™ÁéØÔºåÊØèÊ¨° loop Âæ™ÁéØÂÜçÂØπÂÜÖË°®ËøõË°åÊü•ËØ¢„ÄÇ‰∏ÄÁõ¥Â§ßÂÆ∂ÈÉΩËÆ§‰∏∫ exists ÊØî in ËØ≠Âè•ÁöÑÊïàÁéáË¶ÅÈ´òÔºåËøôÁßçËØ¥Ê≥ïÂÖ∂ÂÆûÊòØ‰∏çÂáÜÁ°ÆÁöÑ„ÄÇËøô‰∏™ÊòØË¶ÅÂå∫ÂàÜÁéØÂ¢ÉÁöÑ„ÄÇ Â¶ÇÊûúÊü•ËØ¢ÁöÑ‰∏§‰∏™Ë°®Â§ßÂ∞èÁõ∏ÂΩìÔºåÈÇ£‰πàÁî® in Âíå exists Â∑ÆÂà´‰∏çÂ§ß„ÄÇ Â¶ÇÊûú‰∏§‰∏™Ë°®‰∏≠‰∏Ä‰∏™ËæÉÂ∞èÔºå‰∏Ä‰∏™ÊòØÂ§ßË°®ÔºåÂàôÂ≠êÊü•ËØ¢Ë°®Â§ßÁöÑÁî® existsÔºåÂ≠êÊü•ËØ¢Ë°®Â∞èÁöÑÁî® in„ÄÇ not in Âíå not existsÔºöÂ¶ÇÊûúÊü•ËØ¢ËØ≠Âè•‰ΩøÁî®‰∫Ü not inÔºåÈÇ£‰πàÂÜÖÂ§ñË°®ÈÉΩËøõË°åÂÖ®Ë°®Êâ´ÊèèÔºåÊ≤°ÊúâÁî®Âà∞Á¥¢ÂºïÔºõËÄå not extsts ÁöÑÂ≠êÊü•ËØ¢‰æùÁÑ∂ËÉΩÁî®Âà∞Ë°®‰∏äÁöÑÁ¥¢Âºï„ÄÇÊâÄ‰ª•Êó†ËÆ∫ÈÇ£‰∏™Ë°®Â§ßÔºåÁî® not exists ÈÉΩÊØî not in Ë¶ÅÂø´„ÄÇ varchar‰∏écharÁöÑÂå∫Âà´ char ÁöÑÁâπÁÇπ char Ë°®Á§∫ÂÆöÈïøÂ≠óÁ¨¶‰∏≤ÔºåÈïøÂ∫¶ÊòØÂõ∫ÂÆöÁöÑÔºõ Â¶ÇÊûúÊèíÂÖ•Êï∞ÊçÆÁöÑÈïøÂ∫¶Â∞è‰∫é char ÁöÑÂõ∫ÂÆöÈïøÂ∫¶Êó∂ÔºåÂàôÁî®Á©∫Ê†ºÂ°´ÂÖÖÔºõ Âõ†‰∏∫ÈïøÂ∫¶Âõ∫ÂÆöÔºåÊâÄ‰ª•Â≠òÂèñÈÄüÂ∫¶Ë¶ÅÊØî varchar Âø´ÂæàÂ§öÔºåÁîöËá≥ËÉΩÂø´ 50%Ôºå‰ΩÜÊ≠£Âõ†‰∏∫ÂÖ∂ÈïøÂ∫¶Âõ∫ÂÆöÔºåÊâÄ‰ª•‰ºöÂç†ÊçÆÂ§ö‰ΩôÁöÑÁ©∫Èó¥ÔºåÊòØÁ©∫Èó¥Êç¢Êó∂Èó¥ÁöÑÂÅöÊ≥ïÔºõ ÂØπ‰∫é char Êù•ËØ¥ÔºåÊúÄÂ§öËÉΩÂ≠òÊîæÁöÑÂ≠óÁ¨¶‰∏™Êï∞‰∏∫ 255ÔºåÂíåÁºñÁ†ÅÊó†ÂÖ≥ varchar ÁöÑÁâπÁÇπ varchar Ë°®Á§∫ÂèØÂèòÈïøÂ≠óÁ¨¶‰∏≤ÔºåÈïøÂ∫¶ÊòØÂèØÂèòÁöÑÔºõ ÊèíÂÖ•ÁöÑÊï∞ÊçÆÊòØÂ§öÈïøÔºåÂ∞±ÊåâÁÖßÂ§öÈïøÊù•Â≠òÂÇ®Ôºõ varchar Âú®Â≠òÂèñÊñπÈù¢‰∏é char Áõ∏ÂèçÔºåÂÆÉÂ≠òÂèñÊÖ¢ÔºåÂõ†‰∏∫ÈïøÂ∫¶‰∏çÂõ∫ÂÆöÔºå‰ΩÜÊ≠£Âõ†Â¶ÇÊ≠§Ôºå‰∏çÂç†ÊçÆÂ§ö‰ΩôÁöÑÁ©∫Èó¥ÔºåÊòØÊó∂Èó¥Êç¢Á©∫Èó¥ÁöÑÂÅöÊ≥ïÔºõ ÂØπ‰∫é varchar Êù•ËØ¥ÔºåÊúÄÂ§öËÉΩÂ≠òÊîæÁöÑÂ≠óÁ¨¶‰∏™Êï∞‰∏∫ 65532 ÊÄª‰πãÔºåÁªìÂêàÊÄßËÉΩËßíÂ∫¶Ôºàchar Êõ¥Âø´ÔºâÂíåËäÇÁúÅÁ£ÅÁõòÁ©∫Èó¥ËßíÂ∫¶Ôºàvarchar Êõ¥Â∞èÔºâÔºåÂÖ∑‰ΩìÊÉÖÂÜµËøòÈúÄÂÖ∑‰ΩìÊù•ËÆæËÆ°Êï∞ÊçÆÂ∫ìÊâçÊòØÂ¶•ÂΩìÁöÑÂÅöÊ≥ï„ÄÇ varchar(50)‰∏≠50ÁöÑÊ∂µ‰πâ ÊúÄÂ§öÂ≠òÊîæ 50 ‰∏™Â≠óÁ¨¶Ôºåvarchar(50)Âíå (200) Â≠òÂÇ® hello ÊâÄÂç†Á©∫Èó¥‰∏ÄÊ†∑Ôºå‰ΩÜÂêéËÄÖÂú®ÊéíÂ∫èÊó∂‰ºöÊ∂àËÄóÊõ¥Â§öÂÜÖÂ≠òÔºåÂõ†‰∏∫ order by col ÈááÁî® fixed_length ËÆ°ÁÆó col ÈïøÂ∫¶(memory ÂºïÊìé‰πü‰∏ÄÊ†∑)„ÄÇÂú®Êó©Êúü MySQL ÁâàÊú¨‰∏≠Ôºå 50 ‰ª£Ë°®Â≠óËäÇÊï∞ÔºåÁé∞Âú®‰ª£Ë°®Â≠óÁ¨¶Êï∞„ÄÇ int(20)‰∏≠20ÁöÑÊ∂µ‰πâ ÊòØÊåáÊòæÁ§∫Â≠óÁ¨¶ÁöÑÈïøÂ∫¶„ÄÇ20 Ë°®Á§∫ÊúÄÂ§ßÊòæÁ§∫ÂÆΩÂ∫¶‰∏∫ 20Ôºå‰ΩÜ‰ªçÂç† 4 Â≠óËäÇÂ≠òÂÇ®ÔºåÂ≠òÂÇ®ËåÉÂõ¥‰∏çÂèòÔºõ ‰∏çÂΩ±ÂìçÂÜÖÈÉ®Â≠òÂÇ®ÔºåÂè™ÊòØÂΩ±ÂìçÂ∏¶ zerofill ÂÆö‰πâÁöÑ int Êó∂ÔºåÂâçÈù¢Ë°•Â§öÂ∞ë‰∏™ 0ÔºåÊòì‰∫éÊä•Ë°®Â±ïÁ§∫ mysql‰∏∫‰ªÄ‰πàËøô‰πàËÆæËÆ° ÂØπÂ§ßÂ§öÊï∞Â∫îÁî®Ê≤°ÊúâÊÑè‰πâÔºåÂè™ÊòØËßÑÂÆö‰∏Ä‰∫õÂ∑•ÂÖ∑Áî®Êù•ÊòæÁ§∫Â≠óÁ¨¶ÁöÑ‰∏™Êï∞Ôºõint(1) Âíå int(20) Â≠òÂÇ®ÂíåËÆ°ÁÆóÂùá‰∏ÄÊ†∑Ôºõ mysql‰∏≠int(10)Âíåchar(10)‰ª•Âèävarchar(10)ÁöÑÂå∫Âà´ int(10) ÁöÑ 10 Ë°®Á§∫ÊòæÁ§∫ÁöÑÊï∞ÊçÆÁöÑÈïøÂ∫¶Ôºå‰∏çÊòØÂ≠òÂÇ®Êï∞ÊçÆÁöÑÂ§ßÂ∞èÔºõchart(10) Âíå varchar(10) ÁöÑ 10 Ë°®Á§∫Â≠òÂÇ®Êï∞ÊçÆÁöÑÂ§ßÂ∞èÔºåÂç≥Ë°®Á§∫Â≠òÂÇ®Â§öÂ∞ë‰∏™Â≠óÁ¨¶„ÄÇ int(10) 10 ‰ΩçÁöÑÊï∞ÊçÆÈïøÂ∫¶ 9999999999ÔºåÂç† 32 ‰∏™Â≠óËäÇÔºåint Âûã 4 ‰Ωç char(10) 10 ‰ΩçÂõ∫ÂÆöÂ≠óÁ¨¶‰∏≤Ôºå‰∏çË∂≥Ë°•Á©∫Ê†º ÊúÄÂ§ö 10 ‰∏™Â≠óÁ¨¶ varchar(10) 10 ‰ΩçÂèØÂèòÂ≠óÁ¨¶‰∏≤Ôºå‰∏çË∂≥Ë°•Á©∫Ê†º ÊúÄÂ§ö 10 ‰∏™Â≠óÁ¨¶ char(10) Ë°®Á§∫Â≠òÂÇ®ÂÆöÈïøÁöÑ 10 ‰∏™Â≠óÁ¨¶Ôºå‰∏çË∂≥ 10 ‰∏™Â∞±Áî®Á©∫Ê†ºË°•ÈΩêÔºåÂç†Áî®Êõ¥Â§öÁöÑÂ≠òÂÇ®Á©∫Èó¥ varchar(10) Ë°®Á§∫Â≠òÂÇ® 10 ‰∏™ÂèòÈïøÁöÑÂ≠óÁ¨¶ÔºåÂ≠òÂÇ®Â§öÂ∞ë‰∏™Â∞±ÊòØÂ§öÂ∞ë‰∏™ÔºåÁ©∫Ê†º‰πüÊåâ‰∏Ä‰∏™Â≠óÁ¨¶Â≠òÂÇ®ÔºåËøô‰∏ÄÁÇπÊòØÂíå char(10) ÁöÑÁ©∫Ê†º‰∏çÂêåÁöÑÔºåchar(10) ÁöÑÁ©∫Ê†ºË°®Á§∫Âç†‰Ωç‰∏çÁÆó‰∏Ä‰∏™Â≠óÁ¨¶ FLOATÂíåDOUBLEÁöÑÂå∫Âà´ÊòØ‰ªÄ‰πàÔºü FLOAT Á±ªÂûãÊï∞ÊçÆÂèØ‰ª•Â≠òÂÇ®Ëá≥Â§ö 8 ‰ΩçÂçÅËøõÂà∂Êï∞ÔºåÂπ∂Âú®ÂÜÖÂ≠ò‰∏≠Âç† 4 Â≠óËäÇ„ÄÇ DOUBLE Á±ªÂûãÊï∞ÊçÆÂèØ‰ª•Â≠òÂÇ®Ëá≥Â§ö 18 ‰ΩçÂçÅËøõÂà∂Êï∞ÔºåÂπ∂Âú®ÂÜÖÂ≠ò‰∏≠Âç† 8 Â≠óËäÇ„ÄÇ drop„ÄÅdelete‰∏étruncateÁöÑÂå∫Âà´ ‚Äã Delete Truncate Drop Á±ªÂûã Â±û‰∫é DML Â±û‰∫é DDL Â±û‰∫é DDL ÂõûÊªö ÂèØÂõûÊªö ‰∏çÂèØÂõûÊªö ‰∏çÂèØÂõûÊªö Âà†Èô§ÂÜÖÂÆπ Ë°®ÁªìÊûÑËøòÂú®ÔºåÂà†Èô§Ë°®ÁöÑÂÖ®ÈÉ®ÊàñËÄÖ‰∏ÄÈÉ®ÂàÜÊï∞ÊçÆË°å Ë°®ÁªìÊûÑËøòÂú®ÔºåÂà†Èô§Ë°®‰∏≠ÁöÑÊâÄÊúâÊï∞ÊçÆ ‰ªéÊï∞ÊçÆÂ∫ì‰∏≠Âà†Èô§Ë°®ÔºåÊâÄÊúâÁöÑÊï∞ÊçÆË°åÔºåÁ¥¢ÂºïÂíåÊùÉÈôê‰πü‰ºöË¢´Âà†Èô§ Âà†Èô§ÈÄüÂ∫¶ Âà†Èô§ÈÄüÂ∫¶ÊÖ¢ÔºåÈúÄË¶ÅÈÄêË°åÂà†Èô§ Âà†Èô§ÈÄüÂ∫¶Âø´ Âà†Èô§ÈÄüÂ∫¶ÊúÄÂø´ Âõ†Ê≠§ÔºåÂú®‰∏çÂÜçÈúÄË¶Å‰∏ÄÂº†Ë°®ÁöÑÊó∂ÂÄôÔºåÁî® dropÔºõÂú®ÊÉ≥Âà†Èô§ÈÉ®ÂàÜÊï∞ÊçÆË°åÊó∂ÂÄôÔºåÁî® deleteÔºõÂú®‰øùÁïôË°®ËÄåÂà†Èô§ÊâÄÊúâÊï∞ÊçÆÁöÑÊó∂ÂÄôÁî® truncate„ÄÇ UNION‰∏éUNION ALLÁöÑÂå∫Âà´Ôºü Â¶ÇÊûú‰ΩøÁî® UNION ALLÔºå‰∏ç‰ºöÂêàÂπ∂ÈáçÂ§çÁöÑËÆ∞ÂΩïË°å ÊïàÁéá UNION È´ò‰∫é UNION ALL Êï∞ÊçÆÁ±ªÂûã 1bit ‰Ωç 1Â≠óËäÇ=8bit 1k=1024Â≠óËäÇ 1ÂÖÜ=1024k 1G=1023M 1T=1024G ÂºïÊìé MySQLÂ≠òÂÇ®ÂºïÊìéMyISAM‰∏éInnoDBÂå∫Âà´ Â≠òÂÇ®ÂºïÊìé Storage engineÔºöMySQL ‰∏≠ÁöÑÊï∞ÊçÆ„ÄÅÁ¥¢Âºï‰ª•ÂèäÂÖ∂‰ªñÂØπË±°ÊòØÂ¶Ç‰ΩïÂ≠òÂÇ®ÁöÑÔºåÊòØ‰∏ÄÂ•óÊñá‰ª∂Á≥ªÁªüÁöÑÂÆûÁé∞„ÄÇ MyISAMÁ¥¢Âºï‰∏éInnoDBÁ¥¢ÂºïÁöÑÂå∫Âà´Ôºü Innodb ÂºïÊìéÔºöInnodb ÂºïÊìéÊèê‰æõ‰∫ÜÂØπÊï∞ÊçÆÂ∫ì ACID ‰∫ãÂä°ÁöÑÊîØÊåÅ„ÄÇÂπ∂‰∏îËøòÊèê‰æõ‰∫ÜË°åÁ∫ßÈîÅÂíåÂ§ñÈîÆÁöÑÁ∫¶Êùü„ÄÇÂÆÉÁöÑËÆæËÆ°ÁöÑÁõÆÊ†áÂ∞±ÊòØÂ§ÑÁêÜÂ§ßÊï∞ÊçÆÂÆπÈáèÁöÑÊï∞ÊçÆÂ∫ìÁ≥ªÁªü„ÄÇ MyIASM ÂºïÊìé (ÂéüÊú¨ Mysql ÁöÑÈªòËÆ§ÂºïÊìé)Ôºö‰∏çÊèê‰æõ‰∫ãÂä°ÁöÑÊîØÊåÅÔºå‰πü‰∏çÊîØÊåÅË°åÁ∫ßÈîÅÂíåÂ§ñÈîÆ„ÄÇ MEMORY ÂºïÊìéÔºöÊâÄÊúâÁöÑÊï∞ÊçÆÈÉΩÂú®ÂÜÖÂ≠ò‰∏≠ÔºåÊï∞ÊçÆÁöÑÂ§ÑÁêÜÈÄüÂ∫¶Âø´Ôºå‰ΩÜÊòØÂÆâÂÖ®ÊÄß‰∏çÈ´ò„ÄÇ InnoDB Á¥¢ÂºïÊòØËÅöÁ∞áÁ¥¢ÂºïÔºåMyISAM Á¥¢ÂºïÊòØÈùûËÅöÁ∞áÁ¥¢Âºï„ÄÇ InnoDB ÁöÑ‰∏ªÈîÆÁ¥¢ÂºïÁöÑÂè∂Â≠êËäÇÁÇπÂ≠òÂÇ®ÁùÄË°åÊï∞ÊçÆÔºåÂõ†Ê≠§‰∏ªÈîÆÁ¥¢ÂºïÈùûÂ∏∏È´òÊïà„ÄÇ MyISAM Á¥¢ÂºïÁöÑÂè∂Â≠êËäÇÁÇπÂ≠òÂÇ®ÁöÑÊòØË°åÊï∞ÊçÆÂú∞ÂùÄÔºåÈúÄË¶ÅÂÜçÂØªÂùÄ‰∏ÄÊ¨°ÊâçËÉΩÂæóÂà∞Êï∞ÊçÆ„ÄÇ InnoDB Èùû‰∏ªÈîÆÁ¥¢ÂºïÁöÑÂè∂Â≠êËäÇÁÇπÂ≠òÂÇ®ÁöÑÊòØ‰∏ªÈîÆÂíåÂÖ∂‰ªñÂ∏¶Á¥¢ÂºïÁöÑÂàóÊï∞ÊçÆÔºåÂõ†Ê≠§Êü•ËØ¢Êó∂ÂÅöÂà∞Ë¶ÜÁõñÁ¥¢Âºï‰ºöÈùûÂ∏∏È´òÊïà„ÄÇ InnoDBÂºïÊìéÁöÑ4Â§ßÁâπÊÄß ÊèíÂÖ•ÁºìÂÜ≤Ôºàinsert buffer) ‰∫åÊ¨°ÂÜô (double write) Ëá™ÈÄÇÂ∫îÂìàÂ∏åÁ¥¢Âºï (ahi) È¢ÑËØª (read ahead) Â≠òÂÇ®ÂºïÊìéÈÄâÊã© Â¶ÇÊûúÊ≤°ÊúâÁâπÂà´ÁöÑÈúÄÊ±ÇÔºå‰ΩøÁî®ÈªòËÆ§ÁöÑInnodbÂç≥ÂèØ„ÄÇ MyISAMÔºö‰ª•ËØªÂÜôÊèíÂÖ•‰∏∫‰∏ªÁöÑÂ∫îÁî®Á®ãÂ∫èÔºåÊØîÂ¶ÇÂçöÂÆ¢Á≥ªÁªü„ÄÅÊñ∞ÈóªÈó®Êà∑ÁΩëÁ´ô„ÄÇ InnodbÔºöÊõ¥Êñ∞ÔºàÂà†Èô§ÔºâÊìç‰ΩúÈ¢ëÁéá‰πüÈ´òÔºåÊàñËÄÖË¶Å‰øùËØÅÊï∞ÊçÆÁöÑÂÆåÊï¥ÊÄßÔºõÂπ∂ÂèëÈáèÈ´òÔºåÊîØÊåÅ‰∫ãÂä°ÂíåÂ§ñÈîÆ„ÄÇÊØîÂ¶Ç OA Ëá™Âä®ÂåñÂäûÂÖ¨Á≥ªÁªü„ÄÇ Á¥¢Âºï ‰ªÄ‰πàÊòØÁ¥¢ÂºïÔºü Á¥¢ÂºïÊòØ‰∏ÄÁßçÁâπÊÆäÁöÑÊñá‰ª∂ (InnoDB Êï∞ÊçÆË°®‰∏äÁöÑÁ¥¢ÂºïÊòØË°®Á©∫Èó¥ÁöÑ‰∏Ä‰∏™ÁªÑÊàêÈÉ®ÂàÜ)ÔºåÂÆÉ‰ª¨ÂåÖÂê´ÁùÄÂØπÊï∞ÊçÆË°®ÈáåÊâÄÊúâËÆ∞ÂΩïÁöÑÂºïÁî®ÊåáÈíà„ÄÇ Á¥¢ÂºïÊòØ‰∏ÄÁßçÊï∞ÊçÆÁªìÊûÑ„ÄÇÊï∞ÊçÆÂ∫ìÁ¥¢ÂºïÔºåÊòØÊï∞ÊçÆÂ∫ìÁÆ°ÁêÜÁ≥ªÁªü‰∏≠‰∏Ä‰∏™ÊéíÂ∫èÁöÑÊï∞ÊçÆÁªìÊûÑÔºå‰ª•ÂçèÂä©Âø´ÈÄüÊü•ËØ¢„ÄÅÊõ¥Êñ∞Êï∞ÊçÆÂ∫ìË°®‰∏≠Êï∞ÊçÆ„ÄÇÁ¥¢ÂºïÁöÑÂÆûÁé∞ÈÄöÂ∏∏‰ΩøÁî® B Ê†ëÂèäÂÖ∂ÂèòÁßç B + Ê†ë„ÄÇ Êõ¥ÈÄö‰øóÁöÑËØ¥ÔºåÁ¥¢ÂºïÂ∞±Áõ∏ÂΩì‰∫éÁõÆÂΩï„ÄÇ‰∏∫‰∫ÜÊñπ‰æøÊü•Êâæ‰π¶‰∏≠ÁöÑÂÜÖÂÆπÔºåÈÄöËøáÂØπÂÜÖÂÆπÂª∫Á´ãÁ¥¢ÂºïÂΩ¢ÊàêÁõÆÂΩï„ÄÇÁ¥¢ÂºïÊòØ‰∏Ä‰∏™Êñá‰ª∂ÔºåÂÆÉÊòØË¶ÅÂç†ÊçÆÁâ©ÁêÜÁ©∫Èó¥ÁöÑ„ÄÇ Á¥¢ÂºïÊúâÂì™‰∫õ‰ºòÁº∫ÁÇπÔºü ‰ºò ÂèØ‰ª•Â§ßÂ§ßÂä†Âø´Êï∞ÊçÆÁöÑÊ£ÄÁ¥¢ÈÄüÂ∫¶ÔºåËøô‰πüÊòØÂàõÂª∫Á¥¢ÂºïÁöÑÊúÄ‰∏ªË¶ÅÁöÑÂéüÂõ†„ÄÇ ÈÄöËøá‰ΩøÁî®Á¥¢ÂºïÔºåÂèØ‰ª•Âú®Êü•ËØ¢ÁöÑËøáÁ®ã‰∏≠Ôºå‰ΩøÁî®‰ºòÂåñÈöêËóèÂô®ÔºåÊèêÈ´òÁ≥ªÁªüÁöÑÊÄßËÉΩ„ÄÇ Áº∫ Êó∂Èó¥ÊñπÈù¢ÔºöÂàõÂª∫Á¥¢ÂºïÂíåÁª¥Êä§Á¥¢ÂºïË¶ÅËÄóË¥πÊó∂Èó¥ÔºåÂÖ∑‰ΩìÂú∞ÔºåÂΩìÂØπË°®‰∏≠ÁöÑÊï∞ÊçÆËøõË°åÂ¢ûÂä†„ÄÅÂà†Èô§Âíå‰øÆÊîπÁöÑÊó∂ÂÄôÔºåÁ¥¢Âºï‰πüË¶ÅÂä®ÊÄÅÁöÑÁª¥Êä§Ôºå‰ºöÈôç‰ΩéÂ¢û / Êîπ / Âà†ÁöÑÊâßË°åÊïàÁéáÔºõ Á©∫Èó¥ÊñπÈù¢ÔºöÁ¥¢ÂºïÈúÄË¶ÅÂç†Áâ©ÁêÜÁ©∫Èó¥ Á¥¢Âºï‰ΩøÁî®Âú∫ÊôØÔºàÈáçÁÇπÔºâ where ÂèØ‰ª•Â∞ùËØïÂú®‰∏Ä‰∏™Â≠óÊÆµÊú™Âª∫Á´ãÁ¥¢ÂºïÊó∂ÔºåÊ†πÊçÆËØ•Â≠óÊÆµÊü•ËØ¢ÁöÑÊïàÁéáÔºåÁÑ∂ÂêéÂØπËØ•Â≠óÊÆµÂª∫Á´ãÁ¥¢ÂºïÔºàalter table Ë°®Âêç add index(Â≠óÊÆµÂêç)ÔºâÔºåÂêåÊ†∑ÁöÑ SQL ÊâßË°åÁöÑÊïàÁéáÔºå‰Ω†‰ºöÂèëÁé∞Êü•ËØ¢ÊïàÁéá‰ºöÊúâÊòéÊòæÁöÑÊèêÂçáÔºàÊï∞ÊçÆÈáèË∂äÂ§ßË∂äÊòéÊòæÔºâ„ÄÇ order by ‰ΩøÁî®order byÂ∞ÜÊü•ËØ¢ÁªìÊûúÊåâÁÖßÊüê‰∏™Â≠óÊÆµÊéíÂ∫èÊó∂ÔºåÂ¶ÇÊûúËØ•Â≠óÊÆµÊ≤°ÊúâÂª∫Á´ãÁ¥¢ÂºïÔºåÈÇ£‰πàÊâßË°åËÆ°Âàí‰ºöÂ∞ÜÊü•ËØ¢Âá∫ÁöÑÊâÄÊúâÊï∞ÊçÆ‰ΩøÁî®Â§ñÈÉ®ÊéíÂ∫èÔºàÂ∞ÜÊï∞ÊçÆ‰ªéÁ°¨ÁõòÂàÜÊâπËØªÂèñÂà∞ÂÜÖÂ≠ò‰ΩøÁî®ÂÜÖÈÉ®ÊéíÂ∫èÔºåÊúÄÂêéÂêàÂπ∂ÊéíÂ∫èÁªìÊûúÔºâÔºåËøôÊìç‰ΩúÂæàÂΩ±ÂìçÊÄßËÉΩÁöÑÔºåÂõ†‰∏∫ÈúÄË¶ÅÂ∞ÜÊü•ËØ¢Ê∂âÂèäÂà∞ÁöÑÊâÄÊúâÊï∞ÊçÆ‰ªéÁ£ÅÁõò‰∏≠ËØªÂà∞ÂÜÖÂ≠òÔºàÂ¶ÇÊûúÂçïÊù°Êï∞ÊçÆËøáÂ§ßÊàñËÄÖÊï∞ÊçÆÈáèËøáÂ§öÈÉΩ‰ºöÈôç‰ΩéÊïàÁéáÔºâÔºåÊõ¥Êó†ËÆ∫ËØªÂà∞ÂÜÖÂ≠ò‰πãÂêéÁöÑÊéíÂ∫è‰∫Ü„ÄÇ ‰ΩÜÊòØÂ¶ÇÊûúÊàë‰ª¨ÂØπËØ•Â≠óÊÆµÂª∫Á´ãÁ¥¢Âºïalter table Ë°®Âêç add index(Â≠óÊÆµÂêç)ÔºåÈÇ£‰πàÁî±‰∫éÁ¥¢ÂºïÊú¨Ë∫´ÊòØÊúâÂ∫èÁöÑÔºåÂõ†Ê≠§Áõ¥Êé•ÊåâÁÖßÁ¥¢ÂºïÁöÑÈ°∫Â∫èÂíåÊò†Â∞ÑÂÖ≥Á≥ªÈÄêÊù°ÂèñÂá∫Êï∞ÊçÆÂç≥ÂèØ„ÄÇËÄå‰∏îÂ¶ÇÊûúÂàÜÈ°µÁöÑÔºåÈÇ£‰πàÂè™Áî®ÂèñÂá∫Á¥¢ÂºïË°®Êüê‰∏™ËåÉÂõ¥ÂÜÖÁöÑÁ¥¢ÂºïÂØπÂ∫îÁöÑÊï∞ÊçÆÔºåËÄå‰∏çÁî®ÂÉè‰∏äËø∞ÈÇ£ÂèñÂá∫ÊâÄÊúâÊï∞ÊçÆËøõË°åÊéíÂ∫èÂÜçËøîÂõûÊüê‰∏™ËåÉÂõ¥ÂÜÖÁöÑÊï∞ÊçÆ„ÄÇÔºà‰ªéÁ£ÅÁõòÂèñÊï∞ÊçÆÊòØÊúÄÂΩ±ÂìçÊÄßËÉΩÁöÑÔºâ join ÂØπjoinËØ≠Âè•ÂåπÈÖçÂÖ≥Á≥ªÔºàonÔºâÊ∂âÂèäÁöÑÂ≠óÊÆµÂª∫Á´ãÁ¥¢ÂºïËÉΩÂ§üÊèêÈ´òÊïàÁéá Á¥¢ÂºïË¶ÜÁõñ Â¶ÇÊûúË¶ÅÊü•ËØ¢ÁöÑÂ≠óÊÆµÈÉΩÂª∫Á´ãËøáÁ¥¢ÂºïÔºåÈÇ£‰πàÂºïÊìé‰ºöÁõ¥Êé•Âú®Á¥¢ÂºïË°®‰∏≠Êü•ËØ¢ËÄå‰∏ç‰ºöËÆøÈóÆÂéüÂßãÊï∞ÊçÆÔºàÂê¶ÂàôÂè™Ë¶ÅÊúâ‰∏Ä‰∏™Â≠óÊÆµÊ≤°ÊúâÂª∫Á´ãÁ¥¢ÂºïÂ∞±‰ºöÂÅöÂÖ®Ë°®Êâ´ÊèèÔºâÔºåËøôÂè´Á¥¢ÂºïË¶ÜÁõñ„ÄÇÂõ†Ê≠§Êàë‰ª¨ÈúÄË¶ÅÂ∞ΩÂèØËÉΩÁöÑÂú®selectÂêéÂè™ÂÜôÂøÖË¶ÅÁöÑÊü•ËØ¢Â≠óÊÆµÔºå‰ª•Â¢ûÂä†Á¥¢ÂºïË¶ÜÁõñÁöÑÂá†Áéá„ÄÇ ËøôÈáåÂÄºÂæóÊ≥®ÊÑèÁöÑÊòØ‰∏çË¶ÅÊÉ≥ÁùÄ‰∏∫ÊØè‰∏™Â≠óÊÆµÂª∫Á´ãÁ¥¢ÂºïÔºåÂõ†‰∏∫‰ºòÂÖà‰ΩøÁî®Á¥¢ÂºïÁöÑ‰ºòÂäøÂ∞±Âú®‰∫éÂÖ∂‰ΩìÁßØÂ∞è„ÄÇ Á¥¢ÂºïÊúâÂì™Âá†ÁßçÁ±ªÂûãÔºü 1Ôºâ‰ªéÂ≠òÂÇ®ÁªìÊûÑ‰∏äÊù•ÂàíÂàÜ ¬∑ Btree Á¥¢ÂºïÔºàB+treeÔºåB-tree) ¬∑ ÂìàÂ∏åÁ¥¢Âºï ¬∑ full-index ÂÖ®ÊñáÁ¥¢Âºï ¬∑ RTree 2Ôºâ‰ªéÂ∫îÁî®Â±ÇÊ¨°‰∏äÊù•ÂàíÂàÜ ¬∑ ÊôÆÈÄöÁ¥¢Âºï: Âü∫Êú¨ÁöÑÁ¥¢ÂºïÁ±ªÂûãÔºåÊ≤°ÊúâÂîØ‰∏ÄÊÄßÁöÑÈôêÂà∂ÔºåÂÖÅËÆ∏‰∏∫ NULL ÂÄº„ÄÇ CREATE INDEX indexName ON table_name (column_name)Êàñ ALTER TABLE table_name ADD INDEX index_name (column);ÂàõÂª∫ÊôÆÈÄöÁ¥¢Âºï ALTER TABLE table_name ADD INDEX index_name(column1, column2, column3);ÂàõÂª∫ÁªÑÂêàÁ¥¢Âºï ‚Ä¢ ALTER TABLE testalter_tbl ADD/DROP INDEX (c); ¬∑ ÂîØ‰∏ÄÁ¥¢Âºï: Êï∞ÊçÆÂàó‰∏çÂÖÅËÆ∏ÈáçÂ§çÔºåÂÖÅËÆ∏‰∏∫ NULL ÂÄºÔºå‰∏Ä‰∏™Ë°®ÂÖÅËÆ∏Â§ö‰∏™ÂàóÂàõÂª∫ÂîØ‰∏ÄÁ¥¢Âºï„ÄÇ ÂèØ‰ª•ÈÄöËøá ALTER TABLE table_name ADD UNIQUE (column); ÂàõÂª∫ÂîØ‰∏ÄÁ¥¢Âºï ÂèØ‰ª•ÈÄöËøá ALTER TABLE table_name ADD UNIQUE (column1,column2); ÂàõÂª∫ÂîØ‰∏ÄÁªÑÂêàÁ¥¢Âºï ¬∑ ‰∏ªÈîÆÁ¥¢Âºï: Êï∞ÊçÆÂàó‰∏çÂÖÅËÆ∏ÈáçÂ§çÔºå‰∏çÂÖÅËÆ∏‰∏∫ NULLÔºå‰∏Ä‰∏™Ë°®Âè™ËÉΩÊúâ‰∏Ä‰∏™‰∏ªÈîÆ„ÄÇ ALTER TABLE table_name ADD PRIMARY KEY ( column ) 3Ôºâ‰ªéË°®ËÆ∞ÂΩïÁöÑÊéíÂàóÈ°∫Â∫èÂíåÁ¥¢ÂºïÁöÑÊéíÂàóÈ°∫Â∫èÊòØÂê¶‰∏ÄËá¥Êù•ÂàíÂàÜ ¬∑ **ËÅöÈõÜÁ¥¢ÂºïÔºö**Ë°®ËÆ∞ÂΩïÁöÑÊéíÂàóÈ°∫Â∫èÂíåÁ¥¢ÂºïÁöÑÊéíÂàóÈ°∫Â∫è‰∏ÄËá¥„ÄÇ ‚Ä¢ Â∞±ÊòØ‰ª•‰∏ªÈîÆÂàõÂª∫ÁöÑÁ¥¢Âºï„ÄÇ ¬∑ **ÈùûËÅöÈõÜÁ¥¢ÂºïÔºö**Ë°®ËÆ∞ÂΩïÁöÑÊéíÂàóÈ°∫Â∫èÂíåÁ¥¢ÂºïÁöÑÊéíÂàóÈ°∫Â∫è‰∏ç‰∏ÄËá¥„ÄÇ ‚Ä¢ ‰ª•Èùû‰∏ªÈîÆÂàõÂª∫ÁöÑÁ¥¢ÂºïÔºà‰πüÂè´ÂÅö‰∫åÁ∫ßÁ¥¢ÂºïÔºâ„ÄÇ Á¥¢ÂºïÁöÑÊï∞ÊçÆÁªìÊûÑÔºàbÊ†ëÔºåhashÔºâ Êàë‰ª¨ÁªèÂ∏∏‰ΩøÁî®ÁöÑ InnoDB Â≠òÂÇ®ÂºïÊìéÁöÑÈªòËÆ§Á¥¢ÂºïÂÆûÁé∞‰∏∫ÔºöB + Ê†ëÁ¥¢Âºï„ÄÇÂØπ‰∫éÂìàÂ∏åÁ¥¢ÂºïÊù•ËØ¥ÔºåÂ∫ïÂ±ÇÁöÑÊï∞ÊçÆÁªìÊûÑÂ∞±ÊòØÂìàÂ∏åË°®ÔºåÂõ†Ê≠§Âú®ÁªùÂ§ßÂ§öÊï∞ÈúÄÊ±Ç‰∏∫ÂçïÊù°ËÆ∞ÂΩïÊü•ËØ¢ÁöÑÊó∂ÂÄôÔºåÂèØ‰ª•ÈÄâÊã©ÂìàÂ∏åÁ¥¢ÂºïÔºåÊü•ËØ¢ÊÄßËÉΩÊúÄÂø´ÔºõÂÖ∂‰ΩôÂ§ßÈÉ®ÂàÜÂú∫ÊôØÔºåÂª∫ËÆÆÈÄâÊã© BTree Á¥¢Âºï„ÄÇ B Ê†ëÁ¥¢Âºï ¬∑ mysql ÈÄöËøáÂ≠òÂÇ®ÂºïÊìéÂèñÊï∞ÊçÆÔºåÂü∫Êú¨‰∏ä 90% ÁöÑ‰∫∫Áî®ÁöÑÂ∞±ÊòØ InnoDB ‰∫ÜÔºåÊåâÁÖßÂÆûÁé∞ÊñπÂºèÂàÜÔºåInnoDB ÁöÑÁ¥¢ÂºïÁ±ªÂûãÁõÆÂâçÂè™Êúâ‰∏§ÁßçÔºöBTREEÔºàB Ê†ëÔºâÁ¥¢ÂºïÂíå HASH Á¥¢Âºï„ÄÇB Ê†ëÁ¥¢ÂºïÊòØ Mysql Êï∞ÊçÆÂ∫ì‰∏≠‰ΩøÁî®ÊúÄÈ¢ëÁπÅÁöÑÁ¥¢ÂºïÁ±ªÂûãÔºåÂü∫Êú¨ÊâÄÊúâÂ≠òÂÇ®ÂºïÊìéÈÉΩÊîØÊåÅ BTree Á¥¢Âºï„ÄÇÈÄöÂ∏∏Êàë‰ª¨ËØ¥ÁöÑÁ¥¢Âºï‰∏çÂá∫ÊÑèÂ§ñÊåáÁöÑÂ∞±ÊòØÔºàB Ê†ëÔºâÁ¥¢ÂºïÔºàÂÆûÈôÖÊòØÁî® B + Ê†ëÂÆûÁé∞ÁöÑÔºåÂõ†‰∏∫Âú®Êü•ÁúãË°®Á¥¢ÂºïÊó∂Ôºåmysql ‰∏ÄÂæãÊâìÂç∞ BTREEÔºåÊâÄ‰ª•ÁÆÄÁß∞‰∏∫ B Ê†ëÁ¥¢ÂºïÔºâ ‚Ä¢ Êü•ËØ¢ÊñπÂºèÔºö ‰∏ªÈîÆÁ¥¢ÂºïÂå∫: PI(ÂÖ≥ËÅî‰øùÂ≠òÁöÑÊó∂Êï∞ÊçÆÁöÑÂú∞ÂùÄ) Êåâ‰∏ªÈîÆÊü•ËØ¢, ÊôÆÈÄöÁ¥¢ÂºïÂå∫: si(ÂÖ≥ËÅîÁöÑ id ÁöÑÂú∞ÂùÄ, ÁÑ∂ÂêéÂÜçÂà∞Ëææ‰∏äÈù¢ÁöÑÂú∞ÂùÄ)„ÄÇÊâÄ‰ª•Êåâ‰∏ªÈîÆÊü•ËØ¢, ÈÄüÂ∫¶ÊúÄÂø´ B+tree ÊÄßË¥®Ôºö 1.Ôºân Ê£µÂ≠ê tree ÁöÑËäÇÁÇπÂåÖÂê´ n ‰∏™ÂÖ≥ÈîÆÂ≠óÔºå‰∏çÁî®Êù•‰øùÂ≠òÊï∞ÊçÆËÄåÊòØ‰øùÂ≠òÊï∞ÊçÆÁöÑÁ¥¢Âºï„ÄÇ 2.ÔºâÊâÄÊúâÁöÑÂè∂Â≠êÁªìÁÇπ‰∏≠ÂåÖÂê´‰∫ÜÂÖ®ÈÉ®ÂÖ≥ÈîÆÂ≠óÁöÑ‰ø°ÊÅØÔºåÂèäÊåáÂêëÂê´Ëøô‰∫õÂÖ≥ÈîÆÂ≠óËÆ∞ÂΩïÁöÑÊåáÈíàÔºå‰∏îÂè∂Â≠êÁªìÁÇπÊú¨Ë∫´‰æùÂÖ≥ÈîÆÂ≠óÁöÑÂ§ßÂ∞èËá™Â∞èËÄåÂ§ßÈ°∫Â∫èÈìæÊé•„ÄÇ 3.ÔºâÊâÄÊúâÁöÑÈùûÁªàÁ´ØÁªìÁÇπÂèØ‰ª•ÁúãÊàêÊòØÁ¥¢ÂºïÈÉ®ÂàÜÔºåÁªìÁÇπ‰∏≠‰ªÖÂê´ÂÖ∂Â≠êÊ†ë‰∏≠ÁöÑÊúÄÂ§ßÔºàÊàñÊúÄÂ∞èÔºâÂÖ≥ÈîÆÂ≠ó„ÄÇ 4.ÔºâB+ Ê†ë‰∏≠ÔºåÊï∞ÊçÆÂØπË±°ÁöÑÊèíÂÖ•ÂíåÂà†Èô§‰ªÖÂú®Âè∂ËäÇÁÇπ‰∏äËøõË°å„ÄÇ 5.ÔºâB + Ê†ëÊúâ 2 ‰∏™Â§¥ÊåáÈíàÔºå‰∏Ä‰∏™ÊòØÊ†ëÁöÑÊ†πËäÇÁÇπÔºå‰∏Ä‰∏™ÊòØÊúÄÂ∞èÂÖ≥ÈîÆÁ†ÅÁöÑÂè∂ËäÇÁÇπ„ÄÇ ÂìàÂ∏åÁ¥¢Âºï ![desc](file:///C:/Users/ADMINI~1/AppData/Local/Temp/msohtmlclip1/01/clip_image008.png) ÁÆÄË¶ÅËØ¥‰∏ãÔºåÁ±ª‰ºº‰∫éÊï∞ÊçÆÁªìÊûÑ‰∏≠ÁÆÄÂçïÂÆûÁé∞ÁöÑ HASH Ë°®ÔºàÊï£ÂàóË°®Ôºâ‰∏ÄÊ†∑ÔºåÂΩìÊàë‰ª¨Âú® mysql ‰∏≠Áî®ÂìàÂ∏åÁ¥¢ÂºïÊó∂Ôºå‰∏ªË¶ÅÂ∞±ÊòØÈÄöËøá Hash ÁÆóÊ≥ïÔºàÂ∏∏ËßÅÁöÑ Hash ÁÆóÊ≥ïÊúâÁõ¥Êé•ÂÆöÂùÄÊ≥ï„ÄÅÂπ≥ÊñπÂèñ‰∏≠Ê≥ï„ÄÅÊäòÂè†Ê≥ï„ÄÅÈô§Êï∞Âèñ‰ΩôÊ≥ï„ÄÅÈöèÊú∫Êï∞Ê≥ïÔºâÔºåÂ∞ÜÊï∞ÊçÆÂ∫ìÂ≠óÊÆµÊï∞ÊçÆËΩ¨Êç¢ÊàêÂÆöÈïøÁöÑ Hash ÂÄºÔºå‰∏éËøôÊù°Êï∞ÊçÆÁöÑË°åÊåáÈíà‰∏ÄÂπ∂Â≠òÂÖ• Hash Ë°®ÁöÑÂØπÂ∫î‰ΩçÁΩÆÔºõÂ¶ÇÊûúÂèëÁîü Hash Á¢∞ÊíûÔºà‰∏§‰∏™‰∏çÂêåÂÖ≥ÈîÆÂ≠óÁöÑ Hash ÂÄºÁõ∏ÂêåÔºâÔºåÂàôÂú®ÂØπÂ∫î Hash ÈîÆ‰∏ã‰ª•ÈìæË°®ÂΩ¢ÂºèÂ≠òÂÇ®„ÄÇÂΩìÁÑ∂ËøôÂè™ÊòØÁÆÄÁï•Ê®°ÊãüÂõæ„ÄÇ Á¥¢ÂºïÁöÑÂü∫Êú¨ÂéüÁêÜ Á¥¢ÂºïÁî®Êù•Âø´ÈÄüÂú∞ÂØªÊâæÈÇ£‰∫õÂÖ∑ÊúâÁâπÂÆöÂÄºÁöÑËÆ∞ÂΩï„ÄÇÂ¶ÇÊûúÊ≤°ÊúâÁ¥¢ÂºïÔºå‰∏ÄËà¨Êù•ËØ¥ÊâßË°åÊü•ËØ¢Êó∂ÈÅçÂéÜÊï¥Âº†Ë°®„ÄÇ Á¥¢ÂºïÁöÑÂéüÁêÜÂæàÁÆÄÂçïÔºåÂ∞±ÊòØÊääÊó†Â∫èÁöÑÊï∞ÊçÆÂèòÊàêÊúâÂ∫èÁöÑÊü•ËØ¢ ÊääÂàõÂª∫‰∫ÜÁ¥¢ÂºïÁöÑÂàóÁöÑÂÜÖÂÆπËøõË°åÊéíÂ∫è ÂØπÊéíÂ∫èÁªìÊûúÁîüÊàêÂÄíÊéíË°® Âú®ÂÄíÊéíË°®ÂÜÖÂÆπ‰∏äÊãº‰∏äÊï∞ÊçÆÂú∞ÂùÄÈìæ Âú®Êü•ËØ¢ÁöÑÊó∂ÂÄôÔºåÂÖàÊãøÂà∞ÂÄíÊéíË°®ÂÜÖÂÆπÔºåÂÜçÂèñÂá∫Êï∞ÊçÆÂú∞ÂùÄÈìæÔºå‰ªéËÄåÊãøÂà∞ÂÖ∑‰ΩìÊï∞ÊçÆ Á¥¢ÂºïÁÆóÊ≥ïÊúâÂì™‰∫õÔºü BTree ÁÆóÊ≥ï BTree ÊòØÊúÄÂ∏∏Áî®ÁöÑ mysql Êï∞ÊçÆÂ∫ìÁ¥¢ÂºïÁÆóÊ≥ïÔºå‰πüÊòØ mysql ÈªòËÆ§ÁöÑÁÆóÊ≥ï„ÄÇÂõ†‰∏∫ÂÆÉ‰∏ç‰ªÖÂèØ‰ª•Ë¢´Áî®Âú® =,&gt;,&gt;=,&lt;,&lt;= Âíå between Ëøô‰∫õÊØîËæÉÊìç‰ΩúÁ¨¶‰∏äÔºåËÄå‰∏îËøòÂèØ‰ª•Áî®‰∫é like Êìç‰ΩúÁ¨¶ÔºåÂè™Ë¶ÅÂÆÉÁöÑÊü•ËØ¢Êù°‰ª∂ÊòØ‰∏Ä‰∏™‰∏ç‰ª•ÈÄöÈÖçÁ¨¶ÂºÄÂ§¥ÁöÑÂ∏∏ÈáèÔºå ‰æãÂ¶ÇÔºö -- Âè™Ë¶ÅÂÆÉÁöÑÊü•ËØ¢Êù°‰ª∂ÊòØ‰∏Ä‰∏™‰∏ç‰ª•ÈÄöÈÖçÁ¨¶ÂºÄÂ§¥ÁöÑÂ∏∏Èáè select * from user where name like 'jack%'; -- Â¶ÇÊûú‰∏ÄÈÄöÈÖçÁ¨¶ÂºÄÂ§¥ÔºåÊàñËÄÖÊ≤°Êúâ‰ΩøÁî®Â∏∏ÈáèÔºåÂàô‰∏ç‰ºö‰ΩøÁî®Á¥¢ÂºïÔºå‰æãÂ¶ÇÔºö select * from user where name like '%jack'; Hash ÁÆóÊ≥ï Hash Hash Á¥¢ÂºïÂè™ËÉΩÁî®‰∫éÂØπÁ≠âÊØîËæÉÔºå‰æãÂ¶Ç =,&lt;=&gt;ÔºàÁõ∏ÂΩì‰∫é =ÔºâÊìç‰ΩúÁ¨¶„ÄÇÁî±‰∫éÊòØ‰∏ÄÊ¨°ÂÆö‰ΩçÊï∞ÊçÆÔºå‰∏çÂÉè BTree Á¥¢ÂºïÈúÄË¶Å‰ªéÊ†πËäÇÁÇπÂà∞ÊûùËäÇÁÇπÔºåÊúÄÂêéÊâçËÉΩËÆøÈóÆÂà∞È°µËäÇÁÇπËøôÊ†∑Â§öÊ¨° IO ËÆøÈóÆÔºåÊâÄ‰ª•Ê£ÄÁ¥¢ÊïàÁéáËøúÈ´ò‰∫é BTree Á¥¢Âºï„ÄÇ Á¥¢ÂºïËÆæËÆ°ÁöÑÂéüÂàôÔºü ÈÄÇÂêàÁ¥¢ÂºïÁöÑÂàóÊòØÂá∫Áé∞Âú® where Â≠êÂè•‰∏≠ÁöÑÂàóÔºåÊàñËÄÖËøûÊé•Â≠êÂè•‰∏≠ÊåáÂÆöÁöÑÂàó Âü∫Êï∞ËæÉÂ∞èÁöÑÁ±ªÔºåÁ¥¢ÂºïÊïàÊûúËæÉÂ∑ÆÔºåÊ≤°ÊúâÂøÖË¶ÅÂú®Ê≠§ÂàóÂª∫Á´ãÁ¥¢Âºï ‰ΩøÁî®Áü≠Á¥¢ÂºïÔºåÂ¶ÇÊûúÂØπÈïøÂ≠óÁ¨¶‰∏≤ÂàóËøõË°åÁ¥¢ÂºïÔºåÂ∫îËØ•ÊåáÂÆö‰∏Ä‰∏™ÂâçÁºÄÈïøÂ∫¶ÔºåËøôÊ†∑ËÉΩÂ§üËäÇÁúÅÂ§ßÈáèÁ¥¢ÂºïÁ©∫Èó¥ ‰∏çË¶ÅËøáÂ∫¶Á¥¢Âºï„ÄÇÁ¥¢ÂºïÈúÄË¶ÅÈ¢ùÂ§ñÁöÑÁ£ÅÁõòÁ©∫Èó¥ÔºåÂπ∂Èôç‰ΩéÂÜôÊìç‰ΩúÁöÑÊÄßËÉΩ„ÄÇÂú®‰øÆÊîπË°®ÂÜÖÂÆπÁöÑÊó∂ÂÄôÔºåÁ¥¢Âºï‰ºöËøõË°åÊõ¥Êñ∞ÁîöËá≥ÈáçÊûÑÔºåÁ¥¢ÂºïÂàóË∂äÂ§öÔºåËøô‰∏™Êó∂Èó¥Â∞±‰ºöË∂äÈïø„ÄÇÊâÄ‰ª•Âè™‰øùÊåÅÈúÄË¶ÅÁöÑÁ¥¢ÂºïÊúâÂà©‰∫éÊü•ËØ¢Âç≥ÂèØ„ÄÇ ÂàõÂª∫Á¥¢ÂºïÁöÑÂéüÂàôÔºàÈáç‰∏≠‰πãÈáçÔºâ Á¥¢ÂºïËôΩÂ•ΩÔºå‰ΩÜ‰πü‰∏çÊòØÊó†ÈôêÂà∂ÁöÑ‰ΩøÁî®ÔºåÊúÄÂ•ΩÁ¨¶Âêà‰∏Ä‰∏ãÂá†‰∏™ÂéüÂàô 1Ôºâ ÊúÄÂ∑¶ÂâçÁºÄÂåπÈÖçÂéüÂàôÔºåÁªÑÂêàÁ¥¢ÂºïÈùûÂ∏∏ÈáçË¶ÅÁöÑÂéüÂàôÔºåmysql ‰ºö‰∏ÄÁõ¥ÂêëÂè≥ÂåπÈÖçÁõ¥Âà∞ÈÅáÂà∞ËåÉÂõ¥Êü•ËØ¢ (&gt;„ÄÅ&lt;„ÄÅbetween„ÄÅlike) Â∞±ÂÅúÊ≠¢ÂåπÈÖçÔºåÊØîÂ¶Ç a = 1 and b = 2 and c &gt; 3 and d = 4 Â¶ÇÊûúÂª∫Á´ã (a,b,c,d) È°∫Â∫èÁöÑÁ¥¢ÂºïÔºåd ÊòØÁî®‰∏çÂà∞Á¥¢ÂºïÁöÑÔºåÂ¶ÇÊûúÂª∫Á´ã (a,b,d,c) ÁöÑÁ¥¢ÂºïÂàôÈÉΩÂèØ‰ª•Áî®Âà∞Ôºåa,b,d ÁöÑÈ°∫Â∫èÂèØ‰ª•‰ªªÊÑèË∞ÉÊï¥„ÄÇ 2ÔºâËæÉÈ¢ëÁπÅ‰Ωú‰∏∫Êü•ËØ¢Êù°‰ª∂ÁöÑÂ≠óÊÆµÊâçÂéªÂàõÂª∫Á¥¢Âºï 3ÔºâÊõ¥Êñ∞È¢ëÁπÅÂ≠óÊÆµ‰∏çÈÄÇÂêàÂàõÂª∫Á¥¢Âºï 4ÔºâËã•ÊòØ‰∏çËÉΩÊúâÊïàÂå∫ÂàÜÊï∞ÊçÆÁöÑÂàó‰∏çÈÄÇÂêàÂÅöÁ¥¢ÂºïÂàó (Â¶ÇÊÄßÂà´ÔºåÁî∑Â•≥Êú™Áü•ÔºåÊúÄÂ§ö‰πüÂ∞±‰∏âÁßçÔºåÂå∫ÂàÜÂ∫¶ÂÆûÂú®Â§™‰Ωé) 5ÔºâÂ∞ΩÈáèÁöÑÊâ©Â±ïÁ¥¢ÂºïÔºå‰∏çË¶ÅÊñ∞Âª∫Á¥¢Âºï„ÄÇÊØîÂ¶ÇË°®‰∏≠Â∑≤ÁªèÊúâ a ÁöÑÁ¥¢ÂºïÔºåÁé∞Âú®Ë¶ÅÂä† (a,b) ÁöÑÁ¥¢ÂºïÔºåÈÇ£‰πàÂè™ÈúÄË¶Å‰øÆÊîπÂéüÊù•ÁöÑÁ¥¢ÂºïÂç≥ÂèØ„ÄÇ 6ÔºâÂÆö‰πâÊúâÂ§ñÈîÆÁöÑÊï∞ÊçÆÂàó‰∏ÄÂÆöË¶ÅÂª∫Á´ãÁ¥¢Âºï„ÄÇ 7ÔºâÂØπ‰∫éÈÇ£‰∫õÊü•ËØ¢‰∏≠ÂæàÂ∞ëÊ∂âÂèäÁöÑÂàóÔºåÈáçÂ§çÂÄºÊØîËæÉÂ§öÁöÑÂàó‰∏çË¶ÅÂª∫Á´ãÁ¥¢Âºï„ÄÇ 8ÔºâÂØπ‰∫éÂÆö‰πâ‰∏∫ text„ÄÅimage Âíå bit ÁöÑÊï∞ÊçÆÁ±ªÂûãÁöÑÂàó‰∏çË¶ÅÂª∫Á´ãÁ¥¢Âºï„ÄÇ ÂàõÂª∫Á¥¢ÂºïÁöÑ‰∏âÁßçÊñπÂºèÔºåÂà†Èô§Á¥¢Âºï Á¨¨‰∏ÄÁßçÊñπÂºèÔºöÂú®ÊâßË°å CREATE TABLE Êó∂ÂàõÂª∫Á¥¢Âºï CREATE TABLE user_index2 ( id INT auto_increment PRIMARY KEY, first_name VARCHAR (16), last_name VARCHAR (16), id_card VARCHAR (18), information text, KEY name (first_name, last_name), FULLTEXT KEY (information), UNIQUE KEY (id_card) ); Á¨¨‰∫åÁßçÊñπÂºèÔºö‰ΩøÁî® ALTER TABLE ÂëΩ‰ª§ÂéªÂ¢ûÂä†Á¥¢Âºï ALTER TABLE table_name ADD INDEX index_name (column_list); ALTER TABLE Áî®Êù•ÂàõÂª∫ÊôÆÈÄöÁ¥¢Âºï„ÄÅUNIQUE Á¥¢ÂºïÊàñ PRIMARY KEY Á¥¢Âºï„ÄÇ ÂÖ∂‰∏≠ table_name ÊòØË¶ÅÂ¢ûÂä†Á¥¢ÂºïÁöÑË°®ÂêçÔºåcolumn_list ÊåáÂá∫ÂØπÂì™‰∫õÂàóËøõË°åÁ¥¢ÂºïÔºåÂ§öÂàóÊó∂ÂêÑÂàó‰πãÈó¥Áî®ÈÄóÂè∑ÂàÜÈöî„ÄÇ Á¥¢ÂºïÂêç index_name ÂèØËá™Â∑±ÂëΩÂêçÔºåÁº∫ÁúÅÊó∂ÔºåMySQL Â∞ÜÊ†πÊçÆÁ¨¨‰∏Ä‰∏™Á¥¢ÂºïÂàóËµã‰∏Ä‰∏™ÂêçÁß∞„ÄÇÂè¶Â§ñÔºåALTER TABLE ÂÖÅËÆ∏Âú®Âçï‰∏™ËØ≠Âè•‰∏≠Êõ¥ÊîπÂ§ö‰∏™Ë°®ÔºåÂõ†Ê≠§ÂèØ‰ª•Âú®ÂêåÊó∂ÂàõÂª∫Â§ö‰∏™Á¥¢Âºï„ÄÇ Á¨¨‰∏âÁßçÊñπÂºèÔºö‰ΩøÁî® CREATE INDEX ÂëΩ‰ª§ÂàõÂª∫ CREATE INDEX index_name ON table_name (column_list); CREATE INDEX ÂèØÂØπË°®Â¢ûÂä†ÊôÆÈÄöÁ¥¢ÂºïÊàñ UNIQUE Á¥¢Âºï„ÄÇÔºà‰ΩÜÊòØÔºå‰∏çËÉΩÂàõÂª∫ PRIMARY KEY Á¥¢ÂºïÔºâ Âà†Èô§Á¥¢Âºï Ê†πÊçÆÁ¥¢ÂºïÂêçÂà†Èô§ÊôÆÈÄöÁ¥¢Âºï„ÄÅÂîØ‰∏ÄÁ¥¢Âºï„ÄÅÂÖ®ÊñáÁ¥¢ÂºïÔºöalter table Ë°®Âêç drop KEY Á¥¢ÂºïÂêç alter table user_index drop KEY name; alter table user_index drop KEY id_card; alter table user_index drop KEY information; Âà†Èô§‰∏ªÈîÆÁ¥¢ÂºïÔºöalter table Ë°®Âêç drop primary keyÔºàÂõ†‰∏∫‰∏ªÈîÆÂè™Êúâ‰∏Ä‰∏™Ôºâ„ÄÇËøôÈáåÂÄºÂæóÊ≥®ÊÑèÁöÑÊòØÔºåÂ¶ÇÊûú‰∏ªÈîÆËá™Â¢ûÈïøÔºåÈÇ£‰πà‰∏çËÉΩÁõ¥Êé•ÊâßË°åÊ≠§Êìç‰ΩúÔºàËá™Â¢ûÈïø‰æùËµñ‰∫é‰∏ªÈîÆÁ¥¢ÂºïÔºâÔºö ÈúÄË¶ÅÂèñÊ∂àËá™Â¢ûÈïøÂÜçË°åÂà†Èô§Ôºö alter table user_index -- ÈáçÊñ∞ÂÆö‰πâÂ≠óÊÆµ MODIFY id int, drop PRIMARY KEY ‰ΩÜÈÄöÂ∏∏‰∏ç‰ºöÂà†Èô§‰∏ªÈîÆÔºåÂõ†‰∏∫ËÆæËÆ°‰∏ªÈîÆ‰∏ÄÂÆö‰∏é‰∏öÂä°ÈÄªËæëÊó†ÂÖ≥„ÄÇ ![desc](file:///C:/Users/ADMINI~1/AppData/Local/Temp/msohtmlclip1/01/clip_image010.png) ÂàõÂª∫Á¥¢ÂºïÊó∂ÈúÄË¶ÅÊ≥®ÊÑè‰ªÄ‰πàÔºü ÈùûÁ©∫Â≠óÊÆµÔºöÂ∫îËØ•ÊåáÂÆöÂàó‰∏∫ NOT NULLÔºåÈô§Èùû‰Ω†ÊÉ≥Â≠òÂÇ® NULL„ÄÇÂú® mysql ‰∏≠ÔºåÂê´ÊúâÁ©∫ÂÄºÁöÑÂàóÂæàÈöæËøõË°åÊü•ËØ¢‰ºòÂåñÔºåÂõ†‰∏∫ÂÆÉ‰ª¨‰ΩøÂæóÁ¥¢Âºï„ÄÅÁ¥¢ÂºïÁöÑÁªüËÆ°‰ø°ÊÅØ‰ª•ÂèäÊØîËæÉËøêÁÆóÊõ¥Âä†Â§çÊùÇ„ÄÇ‰Ω†Â∫îËØ•Áî® 0„ÄÅ‰∏Ä‰∏™ÁâπÊÆäÁöÑÂÄºÊàñËÄÖ‰∏Ä‰∏™Á©∫‰∏≤‰ª£ÊõøÁ©∫ÂÄºÔºõ ÂèñÂÄºÁ¶ªÊï£Â§ßÁöÑÂ≠óÊÆµÔºöÔºàÂèòÈáèÂêÑ‰∏™ÂèñÂÄº‰πãÈó¥ÁöÑÂ∑ÆÂºÇÁ®ãÂ∫¶ÔºâÁöÑÂàóÊîæÂà∞ËÅîÂêàÁ¥¢ÂºïÁöÑÂâçÈù¢ÔºåÂèØ‰ª•ÈÄöËøá count() ÂáΩÊï∞Êü•ÁúãÂ≠óÊÆµÁöÑÂ∑ÆÂºÇÂÄºÔºåËøîÂõûÂÄºË∂äÂ§ßËØ¥ÊòéÂ≠óÊÆµÁöÑÂîØ‰∏ÄÂÄºË∂äÂ§öÂ≠óÊÆµÁöÑÁ¶ªÊï£Á®ãÂ∫¶È´òÔºõ Á¥¢ÂºïÂ≠óÊÆµË∂äÂ∞èË∂äÂ•ΩÔºöÊï∞ÊçÆÂ∫ìÁöÑÊï∞ÊçÆÂ≠òÂÇ®‰ª•È°µ‰∏∫Âçï‰Ωç‰∏ÄÈ°µÂ≠òÂÇ®ÁöÑÊï∞ÊçÆË∂äÂ§ö‰∏ÄÊ¨° IO Êìç‰ΩúËé∑ÂèñÁöÑÊï∞ÊçÆË∂äÂ§ßÊïàÁéáË∂äÈ´ò„ÄÇ ‰ΩøÁî®Á¥¢ÂºïÊü•ËØ¢‰∏ÄÂÆöËÉΩÊèêÈ´òÊü•ËØ¢ÁöÑÊÄßËÉΩÂêóÔºü‰∏∫‰ªÄ‰πà ÈÄöÂ∏∏ÔºåÈÄöËøáÁ¥¢ÂºïÊü•ËØ¢Êï∞ÊçÆÊØîÂÖ®Ë°®Êâ´ÊèèË¶ÅÂø´„ÄÇ‰ΩÜÊòØÊàë‰ª¨‰πüÂøÖÈ°ªÊ≥®ÊÑèÂà∞ÂÆÉÁöÑ‰ª£‰ª∑„ÄÇ Á¥¢ÂºïÈúÄË¶ÅÁ©∫Èó¥Êù•Â≠òÂÇ®Ôºå‰πüÈúÄË¶ÅÂÆöÊúüÁª¥Êä§Ôºå ÊØèÂΩìÊúâËÆ∞ÂΩïÂú®Ë°®‰∏≠Â¢ûÂáèÊàñÁ¥¢ÂºïÂàóË¢´‰øÆÊîπÊó∂ÔºåÁ¥¢ÂºïÊú¨Ë∫´‰πü‰ºöË¢´‰øÆÊîπ„ÄÇ ËøôÊÑèÂë≥ÁùÄÊØèÊù°ËÆ∞ÂΩïÁöÑ INSERTÔºåDELETEÔºåUPDATE Â∞Ü‰∏∫Ê≠§Â§ö‰ªòÂá∫ 4Ôºå5 Ê¨°ÁöÑÁ£ÅÁõò I/O„ÄÇ Âõ†‰∏∫Á¥¢ÂºïÈúÄË¶ÅÈ¢ùÂ§ñÁöÑÂ≠òÂÇ®Á©∫Èó¥ÂíåÂ§ÑÁêÜÔºåÈÇ£‰∫õ‰∏çÂøÖË¶ÅÁöÑÁ¥¢ÂºïÂèçËÄå‰ºö‰ΩøÊü•ËØ¢ÂèçÂ∫îÊó∂Èó¥ÂèòÊÖ¢„ÄÇ‰ΩøÁî®Á¥¢ÂºïÊü•ËØ¢‰∏ç‰∏ÄÂÆöËÉΩÊèêÈ´òÊü•ËØ¢ÊÄßËÉΩÔºåÁ¥¢ÂºïËåÉÂõ¥Êü•ËØ¢ (INDEX RANGE SCAN) ÈÄÇÁî®‰∫é‰∏§ÁßçÊÉÖÂÜµ: Âü∫‰∫é‰∏Ä‰∏™ËåÉÂõ¥ÁöÑÊ£ÄÁ¥¢Ôºå‰∏ÄËà¨Êü•ËØ¢ËøîÂõûÁªìÊûúÈõÜÂ∞è‰∫éË°®‰∏≠ËÆ∞ÂΩïÊï∞ÁöÑ 30% Âü∫‰∫éÈùûÂîØ‰∏ÄÊÄßÁ¥¢ÂºïÁöÑÊ£ÄÁ¥¢ Á¥¢ÂºïÂ§±ÊïàÁöÑÂá†ÁßçÊÉÖÂÜµ ‰ªÄ‰πàÊó∂ÂÄôÊ≤°Áî® orÔºå%ÔºåÁÆóÔºåÂáΩÊï∞ÔºåËΩ¨Êç¢ÔºåÂ§çÂêàÁ¥¢Âºï 1.ÊúâorÂøÖÂÖ®ÊúâÁ¥¢Âºï; 2.Â§çÂêàÁ¥¢ÂºïÊú™Áî®Â∑¶ÂàóÂ≠óÊÆµ; 3.like‰ª•%ÂºÄÂ§¥; 4.ÈúÄË¶ÅÁ±ªÂûãËΩ¨Êç¢; 5.where‰∏≠Á¥¢ÂºïÂàóÊúâËøêÁÆó; 6.where‰∏≠Á¥¢ÂºïÂàó‰ΩøÁî®‰∫ÜÂáΩÊï∞; 7.Â¶ÇÊûúmysqlËßâÂæóÂÖ®Ë°®Êâ´ÊèèÊõ¥Âø´Êó∂ÔºàÊï∞ÊçÆÂ∞ëÔºâ; ‰ªÄ‰πàÊó∂Ê≤°ÂøÖË¶ÅÁî® 1.ÂîØ‰∏ÄÊÄßÂ∑Æ; 2.È¢ëÁπÅÊõ¥Êñ∞ÁöÑÂ≠óÊÆµ‰∏çÁî®ÔºàÊõ¥Êñ∞Á¥¢ÂºïÊ∂àËÄóÔºâ; 3.where‰∏≠‰∏çÁî®ÁöÑÂ≠óÊÆµ; 4.Á¥¢Âºï‰ΩøÁî®&lt;&gt;Êó∂ÔºåÊïàÊûú‰∏ÄËà¨; ËØ¶Ëø∞ÔºàËΩ¨Ôºâ Á¥¢ÂºïÂπ∂‰∏çÊòØÊó∂Êó∂ÈÉΩ‰ºöÁîüÊïàÁöÑÔºåÊØîÂ¶Ç‰ª•‰∏ãÂá†ÁßçÊÉÖÂÜµÔºåÂ∞ÜÂØºËá¥Á¥¢ÂºïÂ§±ÊïàÔºö Â¶ÇÊûúÊù°‰ª∂‰∏≠ÊúâorÔºåÂç≥‰ΩøÂÖ∂‰∏≠ÊúâÈÉ®ÂàÜÊù°‰ª∂Â∏¶Á¥¢Âºï‰πü‰∏ç‰ºö‰ΩøÁî®(Ëøô‰πüÊòØ‰∏∫‰ªÄ‰πàÂ∞ΩÈáèÂ∞ëÁî®orÁöÑÂéüÂõ†)Ôºå‰æãÂ≠ê‰∏≠user_idÊó†Á¥¢Âºï Ê≥®ÊÑèÔºöË¶ÅÊÉ≥‰ΩøÁî®orÔºåÂèàÊÉ≥ËÆ©Á¥¢ÂºïÁîüÊïàÔºåÂè™ËÉΩÂ∞ÜorÊù°‰ª∂‰∏≠ÁöÑÊØè‰∏™ÂàóÈÉΩÂä†‰∏äÁ¥¢Âºï ÂØπ‰∫éÂ§çÂêàÁ¥¢ÂºïÔºåÂ¶ÇÊûú‰∏ç‰ΩøÁî®ÂâçÂàóÔºåÂêéÁª≠Âàó‰πüÂ∞ÜÊó†Ê≥ï‰ΩøÁî®ÔºåÁ±ªÁîµËØùÁ∞ø„ÄÇ likeÊü•ËØ¢ÊòØ‰ª•%ÂºÄÂ§¥ Â≠òÂú®Á¥¢ÂºïÂàóÁöÑÊï∞ÊçÆÁ±ªÂûãÈöêÂΩ¢ËΩ¨Êç¢ÔºåÂàôÁî®‰∏ç‰∏äÁ¥¢ÂºïÔºåÊØîÂ¶ÇÂàóÁ±ªÂûãÊòØÂ≠óÁ¨¶‰∏≤ÔºåÈÇ£‰∏ÄÂÆöË¶ÅÂú®Êù°‰ª∂‰∏≠Â∞ÜÊï∞ÊçÆ‰ΩøÁî®ÂºïÂè∑ÂºïÁî®Ëµ∑Êù•,Âê¶Âàô‰∏ç‰ΩøÁî®Á¥¢Âºï where Â≠êÂè•ÈáåÂØπÁ¥¢ÂºïÂàó‰∏äÊúâÊï∞Â≠¶ËøêÁÆóÔºåÁî®‰∏ç‰∏äÁ¥¢Âºï where Â≠êÂè•ÈáåÂØπÊúâÁ¥¢ÂºïÂàó‰ΩøÁî®ÂáΩÊï∞ÔºåÁî®‰∏ç‰∏äÁ¥¢Âºï Â¶ÇÊûúmysql‰º∞ËÆ°‰ΩøÁî®ÂÖ®Ë°®Êâ´ÊèèË¶ÅÊØî‰ΩøÁî®Á¥¢ÂºïÂø´,Âàô‰∏ç‰ΩøÁî®Á¥¢Âºï ÊØîÂ¶ÇÊï∞ÊçÆÈáèÊûÅÂ∞ëÁöÑË°® ‰ªÄ‰πàÊÉÖÂÜµ‰∏ã‰∏çÊé®Ëçê‰ΩøÁî®Á¥¢ÂºïÔºü \\1) Êï∞ÊçÆÂîØ‰∏ÄÊÄßÂ∑ÆÔºà‰∏Ä‰∏™Â≠óÊÆµÁöÑÂèñÂÄºÂè™ÊúâÂá†ÁßçÊó∂ÔºâÁöÑÂ≠óÊÆµ‰∏çË¶Å‰ΩøÁî®Á¥¢Âºï ÊØîÂ¶ÇÊÄßÂà´ÔºåÂè™Êúâ‰∏§ÁßçÂèØËÉΩÊï∞ÊçÆ„ÄÇÊÑèÂë≥ÁùÄÁ¥¢ÂºïÁöÑ‰∫åÂèâÊ†ëÁ∫ßÂà´Â∞ëÔºåÂ§öÊòØÂπ≥Á∫ß„ÄÇËøôÊ†∑ÁöÑ‰∫åÂèâÊ†ëÊü•ÊâæÊó†ÂºÇ‰∫éÂÖ®Ë°®Êâ´Êèè„ÄÇ \\2) È¢ëÁπÅÊõ¥Êñ∞ÁöÑÂ≠óÊÆµ‰∏çË¶Å‰ΩøÁî®Á¥¢Âºï ÊØîÂ¶ÇlogincountÁôªÂΩïÊ¨°Êï∞ÔºåÈ¢ëÁπÅÂèòÂåñÂØºËá¥Á¥¢Âºï‰πüÈ¢ëÁπÅÂèòÂåñÔºåÂ¢ûÂ§ßÊï∞ÊçÆÂ∫ìÂ∑•‰ΩúÈáèÔºåÈôç‰ΩéÊïàÁéá„ÄÇ \\3) Â≠óÊÆµ‰∏çÂú®whereËØ≠Âè•Âá∫Áé∞Êó∂‰∏çË¶ÅÊ∑ªÂä†Á¥¢Âºï,Â¶ÇÊûúwhereÂêéÂê´IS NULL /IS NOT NULL/ like ‚Äò%ËæìÂÖ•Á¨¶%‚ÄôÁ≠âÊù°‰ª∂Ôºå‰∏çÂª∫ËÆÆ‰ΩøÁî®Á¥¢Âºï Âè™ÊúâÂú®whereËØ≠Âè•Âá∫Áé∞ÔºåmysqlÊâç‰ºöÂéª‰ΩøÁî®Á¥¢Âºï 4Ôºâ where Â≠êÂè•ÈáåÂØπÁ¥¢ÂºïÂàó‰ΩøÁî®‰∏çÁ≠â‰∫éÔºà&lt;&gt;ÔºâÔºå‰ΩøÁî®Á¥¢ÂºïÊïàÊûú‰∏ÄËà¨ Áôæ‰∏áÁ∫ßÂà´Êàñ‰ª•‰∏äÁöÑÊï∞ÊçÆÂ¶Ç‰ΩïÂà†Èô§ ÂÖ≥‰∫éÁ¥¢ÂºïÔºöÁî±‰∫éÁ¥¢ÂºïÈúÄË¶ÅÈ¢ùÂ§ñÁöÑÁª¥Êä§ÊàêÊú¨ÔºåÂõ†‰∏∫Á¥¢ÂºïÊñá‰ª∂ÊòØÂçïÁã¨Â≠òÂú®ÁöÑÊñá‰ª∂, ÊâÄ‰ª•ÂΩìÊàë‰ª¨ÂØπÊï∞ÊçÆÁöÑÂ¢ûÂä†, ‰øÆÊîπ, Âà†Èô§, ÈÉΩ‰ºö‰∫ßÁîüÈ¢ùÂ§ñÁöÑÂØπÁ¥¢ÂºïÊñá‰ª∂ÁöÑÊìç‰Ωú, Ëøô‰∫õÊìç‰ΩúÈúÄË¶ÅÊ∂àËÄóÈ¢ùÂ§ñÁöÑ IO, ‰ºöÈôç‰ΩéÂ¢û / Êîπ / Âà†ÁöÑÊâßË°åÊïàÁéá„ÄÇÊâÄ‰ª•ÔºåÂú®Êàë‰ª¨Âà†Èô§Êï∞ÊçÆÂ∫ìÁôæ‰∏áÁ∫ßÂà´Êï∞ÊçÆÁöÑÊó∂ÂÄôÔºåÊü•ËØ¢ MySQL ÂÆòÊñπÊâãÂÜåÂæóÁü•Âà†Èô§Êï∞ÊçÆÁöÑÈÄüÂ∫¶ÂíåÂàõÂª∫ÁöÑÁ¥¢ÂºïÊï∞ÈáèÊòØÊàêÊ≠£ÊØîÁöÑ„ÄÇ ÊâÄ‰ª•Êàë‰ª¨ÊÉ≥Ë¶ÅÂà†Èô§Áôæ‰∏áÊï∞ÊçÆÁöÑÊó∂ÂÄôÂèØ‰ª•ÂÖàÂà†Èô§Á¥¢ÂºïÔºàÊ≠§Êó∂Â§ßÊ¶ÇËÄóÊó∂‰∏âÂàÜÂ§öÈíüÔºâ ÁÑ∂ÂêéÂà†Èô§ÂÖ∂‰∏≠Êó†Áî®Êï∞ÊçÆÔºàÊ≠§ËøáÁ®ãÈúÄË¶Å‰∏çÂà∞‰∏§ÂàÜÈíüÔºâ Âà†Èô§ÂÆåÊàêÂêéÈáçÊñ∞ÂàõÂª∫Á¥¢Âºï (Ê≠§Êó∂Êï∞ÊçÆËæÉÂ∞ë‰∫Ü) ÂàõÂª∫Á¥¢Âºï‰πüÈùûÂ∏∏Âø´ÔºåÁ∫¶ÂçÅÂàÜÈíüÂ∑¶Âè≥„ÄÇ ‰∏é‰πãÂâçÁöÑÁõ¥Êé•Âà†Èô§ÁªùÂØπÊòØË¶ÅÂø´ÈÄüÂæàÂ§öÔºåÊõ¥Âà´ËØ¥‰∏á‰∏ÄÂà†Èô§‰∏≠Êñ≠, ‰∏ÄÂàáÂà†Èô§‰ºöÂõûÊªö„ÄÇÈÇ£Êõ¥ÊòØÂùë‰∫Ü„ÄÇ ÂâçÁºÄÁ¥¢Âºï ËØ≠Ê≥ïÔºöindex(field(10))Ôºå‰ΩøÁî®Â≠óÊÆµÂÄºÁöÑÂâç 10 ‰∏™Â≠óÁ¨¶Âª∫Á´ãÁ¥¢ÂºïÔºåÈªòËÆ§ÊòØ‰ΩøÁî®Â≠óÊÆµÁöÑÂÖ®ÈÉ®ÂÜÖÂÆπÂª∫Á´ãÁ¥¢Âºï„ÄÇ ÂâçÊèêÔºöÂâçÁºÄÁöÑÊ†áËØÜÂ∫¶È´ò„ÄÇÊØîÂ¶ÇÂØÜÁ†ÅÂ∞±ÈÄÇÂêàÂª∫Á´ãÂâçÁºÄÁ¥¢ÂºïÔºåÂõ†‰∏∫ÂØÜÁ†ÅÂá†‰πéÂêÑ‰∏çÁõ∏Âêå„ÄÇ ÂÆûÊìçÁöÑÈöæÂ∫¶ÔºöÂú®‰∫éÂâçÁºÄÊà™ÂèñÁöÑÈïøÂ∫¶„ÄÇ Êàë‰ª¨ÂèØ‰ª•Âà©Áî®select count(*)/count(distinct left(password,prefixLen));ÔºåÈÄöËøá‰ªéË∞ÉÊï¥prefixLenÁöÑÂÄºÔºà‰ªé 1 Ëá™Â¢ûÔºâÊü•Áúã‰∏çÂêåÂâçÁºÄÈïøÂ∫¶ÁöÑ‰∏Ä‰∏™Âπ≥ÂùáÂåπÈÖçÂ∫¶ÔºåÊé•Ëøë 1 Êó∂Â∞±ÂèØ‰ª•‰∫ÜÔºàË°®Á§∫‰∏Ä‰∏™ÂØÜÁ†ÅÁöÑÂâçprefixLen‰∏™Â≠óÁ¨¶Âá†‰πéËÉΩÁ°ÆÂÆöÂîØ‰∏Ä‰∏ÄÊù°ËÆ∞ÂΩïÔºâ ‰ªÄ‰πàÊòØÊúÄÂ∑¶ÂâçÁºÄÂéüÂàôÔºü‰ªÄ‰πàÊòØÊúÄÂ∑¶ÂåπÈÖçÂéüÂàô È°æÂêçÊÄù‰πâÔºåÂ∞±ÊòØÊúÄÂ∑¶‰ºòÂÖàÔºåÂú®ÂàõÂª∫Â§öÂàóÁ¥¢ÂºïÊó∂ÔºåË¶ÅÊ†πÊçÆ‰∏öÂä°ÈúÄÊ±ÇÔºåwhere Â≠êÂè•‰∏≠‰ΩøÁî®ÊúÄÈ¢ëÁπÅÁöÑ‰∏ÄÂàóÊîæÂú®ÊúÄÂ∑¶Ëæπ„ÄÇ ÊúÄÂ∑¶ÂâçÁºÄÂåπÈÖçÂéüÂàôÔºåÈùûÂ∏∏ÈáçË¶ÅÁöÑÂéüÂàôÔºåmysql ‰ºö‰∏ÄÁõ¥ÂêëÂè≥ÂåπÈÖçÁõ¥Âà∞ÈÅáÂà∞ËåÉÂõ¥Êü•ËØ¢ (&gt;„ÄÅ&lt;„ÄÅbetween„ÄÅlike) Â∞±ÂÅúÊ≠¢ÂåπÈÖçÔºåÊØîÂ¶Ç a = 1 and b = 2 and c &gt; 3 and d = 4 Â¶ÇÊûúÂª∫Á´ã (a,b,c,d) È°∫Â∫èÁöÑÁ¥¢ÂºïÔºåd ÊòØÁî®‰∏çÂà∞Á¥¢ÂºïÁöÑÔºåÂ¶ÇÊûúÂª∫Á´ã (a,b,d,c) ÁöÑÁ¥¢ÂºïÂàôÈÉΩÂèØ‰ª•Áî®Âà∞Ôºåa,b,d ÁöÑÈ°∫Â∫èÂèØ‰ª•‰ªªÊÑèË∞ÉÊï¥„ÄÇ = Âíå in ÂèØ‰ª•‰π±Â∫èÔºåÊØîÂ¶Ç a = 1 and b = 2 and c = 3 Âª∫Á´ã (a,b,c) Á¥¢ÂºïÂèØ‰ª•‰ªªÊÑèÈ°∫Â∫èÔºåmysql ÁöÑÊü•ËØ¢‰ºòÂåñÂô®‰ºöÂ∏Æ‰Ω†‰ºòÂåñÊàêÁ¥¢ÂºïÂèØ‰ª•ËØÜÂà´ÁöÑÂΩ¢Âºè BÊ†ëÂíåB+Ê†ëÁöÑÂå∫Âà´ Âú® B Ê†ë‰∏≠Ôºå‰Ω†ÂèØ‰ª•Â∞ÜÈîÆÂíåÂÄºÂ≠òÊîæÂú®ÂÜÖÈÉ®ËäÇÁÇπÂíåÂè∂Â≠êËäÇÁÇπÔºõ‰ΩÜÂú® B + Ê†ë‰∏≠ÔºåÂÜÖÈÉ®ËäÇÁÇπÈÉΩÊòØÈîÆÔºåÊ≤°ÊúâÂÄºÔºåÂè∂Â≠êËäÇÁÇπÂêåÊó∂Â≠òÊîæÈîÆÂíåÂÄº„ÄÇ B + Ê†ëÁöÑÂè∂Â≠êËäÇÁÇπÊúâ‰∏ÄÊù°ÈìæÁõ∏ËøûÔºåËÄå B Ê†ëÁöÑÂè∂Â≠êËäÇÁÇπÂêÑËá™Áã¨Á´ã„ÄÇ ¬∑ ![desc](file:///C:/Users/ADMINI~1/AppData/Local/Temp/msohtmlclip1/01/clip_image012.png) ‰ΩøÁî®BÊ†ëÁöÑÂ•ΩÂ§Ñ B Ê†ëÂèØ‰ª•Âú®ÂÜÖÈÉ®ËäÇÁÇπÂêåÊó∂Â≠òÂÇ®ÈîÆÂíåÂÄºÔºåÂõ†Ê≠§ÔºåÊääÈ¢ëÁπÅËÆøÈóÆÁöÑÊï∞ÊçÆÊîæÂú®Èù†ËøëÊ†πËäÇÁÇπÁöÑÂú∞ÊñπÂ∞Ü‰ºöÂ§ßÂ§ßÊèêÈ´òÁÉ≠ÁÇπÊï∞ÊçÆÁöÑÊü•ËØ¢ÊïàÁéá„ÄÇËøôÁßçÁâπÊÄß‰ΩøÂæó B Ê†ëÂú®ÁâπÂÆöÊï∞ÊçÆÈáçÂ§çÂ§öÊ¨°Êü•ËØ¢ÁöÑÂú∫ÊôØ‰∏≠Êõ¥Âä†È´òÊïà„ÄÇ ‰ΩøÁî®B+Ê†ëÁöÑÂ•ΩÂ§Ñ Áî±‰∫é B + Ê†ëÁöÑÂÜÖÈÉ®ËäÇÁÇπÂè™Â≠òÊîæÈîÆÔºå‰∏çÂ≠òÊîæÂÄºÔºåÂõ†Ê≠§Ôºå‰∏ÄÊ¨°ËØªÂèñÔºåÂèØ‰ª•Âú®ÂÜÖÂ≠òÈ°µ‰∏≠Ëé∑ÂèñÊõ¥Â§öÁöÑÈîÆÔºåÊúâÂà©‰∫éÊõ¥Âø´Âú∞Áº©Â∞èÊü•ÊâæËåÉÂõ¥„ÄÇ B + Ê†ëÁöÑÂè∂ËäÇÁÇπÁî±‰∏ÄÊù°ÈìæÁõ∏ËøûÔºåÂõ†Ê≠§ÔºåÂΩìÈúÄË¶ÅËøõË°å‰∏ÄÊ¨°ÂÖ®Êï∞ÊçÆÈÅçÂéÜÁöÑÊó∂ÂÄôÔºåB + Ê†ëÂè™ÈúÄË¶Å‰ΩøÁî® O(logN) Êó∂Èó¥ÊâæÂà∞ÊúÄÂ∞èÁöÑ‰∏Ä‰∏™ËäÇÁÇπÔºåÁÑ∂ÂêéÈÄöËøáÈìæËøõË°å O(N) ÁöÑÈ°∫Â∫èÈÅçÂéÜÂç≥ÂèØ„ÄÇËÄå B Ê†ëÂàôÈúÄË¶ÅÂØπÊ†ëÁöÑÊØè‰∏ÄÂ±ÇËøõË°åÈÅçÂéÜÔºåËøô‰ºöÈúÄË¶ÅÊõ¥Â§öÁöÑÂÜÖÂ≠òÁΩÆÊç¢Ê¨°Êï∞ÔºåÂõ†Ê≠§‰πüÂ∞±ÈúÄË¶ÅËä±Ë¥πÊõ¥Â§öÁöÑÊó∂Èó¥ HashÁ¥¢ÂºïÂíåB+Ê†ëÊâÄÊúâÊúâ‰ªÄ‰πàÂå∫Âà´ÊàñËÄÖËØ¥‰ºòÂä£Âë¢? È¶ñÂÖàË¶ÅÁü•ÈÅì Hash Á¥¢ÂºïÂíå B + Ê†ëÁ¥¢ÂºïÁöÑÂ∫ïÂ±ÇÂÆûÁé∞ÂéüÁêÜÔºö hash Á¥¢ÂºïÂ∫ïÂ±ÇÂ∞±ÊòØ hash Ë°®ÔºåËøõË°åÊü•ÊâæÊó∂ÔºåË∞ÉÁî®‰∏ÄÊ¨° hash ÂáΩÊï∞Â∞±ÂèØ‰ª•Ëé∑ÂèñÂà∞Áõ∏Â∫îÁöÑÈîÆÂÄºÔºå‰πãÂêéËøõË°åÂõûË°®Êü•ËØ¢Ëé∑ÂæóÂÆûÈôÖÊï∞ÊçÆ„ÄÇB + Ê†ëÂ∫ïÂ±ÇÂÆûÁé∞ÊòØÂ§öË∑ØÂπ≥Ë°°Êü•ÊâæÊ†ë„ÄÇÂØπ‰∫éÊØè‰∏ÄÊ¨°ÁöÑÊü•ËØ¢ÈÉΩÊòØ‰ªéÊ†πËäÇÁÇπÂá∫ÂèëÔºåÊü•ÊâæÂà∞Âè∂Â≠êËäÇÁÇπÊñπÂèØ‰ª•Ëé∑ÂæóÊâÄÊü•ÈîÆÂÄºÔºåÁÑ∂ÂêéÊ†πÊçÆÊü•ËØ¢Âà§Êñ≠ÊòØÂê¶ÈúÄË¶ÅÂõûË°®Êü•ËØ¢Êï∞ÊçÆ„ÄÇ ÈÇ£‰πàÂèØ‰ª•ÁúãÂá∫‰ªñ‰ª¨Êúâ‰ª•‰∏ãÁöÑ‰∏çÂêåÔºö hash Á¥¢ÂºïËøõË°åÁ≠âÂÄºÊü•ËØ¢Êõ¥Âø´ (‰∏ÄËà¨ÊÉÖÂÜµ‰∏ã)Ôºå‰ΩÜÊòØÂç¥Êó†Ê≥ïËøõË°åËåÉÂõ¥Êü•ËØ¢„ÄÇ Âõ†‰∏∫Âú® hash Á¥¢Âºï‰∏≠ÁªèËøá hash ÂáΩÊï∞Âª∫Á´ãÁ¥¢Âºï‰πãÂêéÔºåÁ¥¢ÂºïÁöÑÈ°∫Â∫è‰∏éÂéüÈ°∫Â∫èÊó†Ê≥ï‰øùÊåÅ‰∏ÄËá¥Ôºå‰∏çËÉΩÊîØÊåÅËåÉÂõ¥Êü•ËØ¢„ÄÇËÄå B + Ê†ëÁöÑÁöÑÊâÄÊúâËäÇÁÇπÁöÜÈÅµÂæ™ (Â∑¶ËäÇÁÇπÂ∞è‰∫éÁà∂ËäÇÁÇπÔºåÂè≥ËäÇÁÇπÂ§ß‰∫éÁà∂ËäÇÁÇπÔºåÂ§öÂèâÊ†ë‰πüÁ±ª‰ºº)ÔºåÂ§©ÁÑ∂ÊîØÊåÅËåÉÂõ¥„ÄÇ hash Á¥¢Âºï‰∏çÊîØÊåÅ‰ΩøÁî®Á¥¢ÂºïËøõË°åÊéíÂ∫èÔºåÂéüÁêÜÂêå‰∏ä„ÄÇ hash Á¥¢Âºï‰∏çÊîØÊåÅÊ®°Á≥äÊü•ËØ¢‰ª•ÂèäÂ§öÂàóÁ¥¢ÂºïÁöÑÊúÄÂ∑¶ÂâçÁºÄÂåπÈÖç„ÄÇÂéüÁêÜ‰πüÊòØÂõ†‰∏∫ hash ÂáΩÊï∞ÁöÑ‰∏çÂèØÈ¢ÑÊµã„ÄÇAAAA Âíå AAAAB ÁöÑÁ¥¢ÂºïÊ≤°ÊúâÁõ∏ÂÖ≥ÊÄß„ÄÇ hash Á¥¢Âºï‰ªª‰ΩïÊó∂ÂÄôÈÉΩÈÅøÂÖç‰∏ç‰∫ÜÂõûË°®Êü•ËØ¢Êï∞ÊçÆÔºåËÄå B + Ê†ëÂú®Á¨¶ÂêàÊüê‰∫õÊù°‰ª∂ (ËÅöÁ∞áÁ¥¢ÂºïÔºåË¶ÜÁõñÁ¥¢ÂºïÁ≠â) ÁöÑÊó∂ÂÄôÂèØ‰ª•Âè™ÈÄöËøáÁ¥¢ÂºïÂÆåÊàêÊü•ËØ¢„ÄÇ hash Á¥¢ÂºïËôΩÁÑ∂Âú®Á≠âÂÄºÊü•ËØ¢‰∏äËæÉÂø´Ôºå‰ΩÜÊòØ‰∏çÁ®≥ÂÆö„ÄÇÊÄßËÉΩ‰∏çÂèØÈ¢ÑÊµãÔºåÂΩìÊüê‰∏™ÈîÆÂÄºÂ≠òÂú®Â§ßÈáèÈáçÂ§çÁöÑÊó∂ÂÄôÔºåÂèëÁîü hash Á¢∞ÊíûÔºåÊ≠§Êó∂ÊïàÁéáÂèØËÉΩÊûÅÂ∑Æ„ÄÇËÄå B + Ê†ëÁöÑÊü•ËØ¢ÊïàÁéáÊØîËæÉÁ®≥ÂÆöÔºåÂØπ‰∫éÊâÄÊúâÁöÑÊü•ËØ¢ÈÉΩÊòØ‰ªéÊ†πËäÇÁÇπÂà∞Âè∂Â≠êËäÇÁÇπÔºå‰∏îÊ†ëÁöÑÈ´òÂ∫¶ËæÉ‰Ωé„ÄÇ Âõ†Ê≠§ÔºåÂú®Â§ßÂ§öÊï∞ÊÉÖÂÜµ‰∏ãÔºåÁõ¥Êé•ÈÄâÊã© B + Ê†ëÁ¥¢ÂºïÂèØ‰ª•Ëé∑ÂæóÁ®≥ÂÆö‰∏îËæÉÂ•ΩÁöÑÊü•ËØ¢ÈÄüÂ∫¶„ÄÇËÄå‰∏çÈúÄË¶Å‰ΩøÁî® hash Á¥¢Âºï„ÄÇ Êï∞ÊçÆÂ∫ì‰∏∫‰ªÄ‰πà‰ΩøÁî®B+Ê†ëËÄå‰∏çÊòØBÊ†ë B Ê†ëÂè™ÈÄÇÂêàÈöèÊú∫Ê£ÄÁ¥¢ÔºåËÄå B + Ê†ëÂêåÊó∂ÊîØÊåÅÈöèÊú∫Ê£ÄÁ¥¢ÂíåÈ°∫Â∫èÊ£ÄÁ¥¢Ôºõ B + Ê†ëÁ©∫Èó¥Âà©Áî®ÁéáÊõ¥È´òÔºåÂèØÂáèÂ∞ë I/O Ê¨°Êï∞ÔºåÁ£ÅÁõòËØªÂÜô‰ª£‰ª∑Êõ¥‰Ωé„ÄÇ‰∏ÄËà¨Êù•ËØ¥ÔºåÁ¥¢ÂºïÊú¨Ë∫´‰πüÂæàÂ§ßÔºå‰∏çÂèØËÉΩÂÖ®ÈÉ®Â≠òÂÇ®Âú®ÂÜÖÂ≠ò‰∏≠ÔºåÂõ†Ê≠§Á¥¢ÂºïÂæÄÂæÄ‰ª•Á¥¢ÂºïÊñá‰ª∂ÁöÑÂΩ¢ÂºèÂ≠òÂÇ®ÁöÑÁ£ÅÁõò‰∏ä„ÄÇËøôÊ†∑ÁöÑËØùÔºåÁ¥¢ÂºïÊü•ÊâæËøáÁ®ã‰∏≠Â∞±Ë¶Å‰∫ßÁîüÁ£ÅÁõò I/O Ê∂àËÄó„ÄÇB + Ê†ëÁöÑÂÜÖÈÉ®ÁªìÁÇπÂπ∂Ê≤°ÊúâÊåáÂêëÂÖ≥ÈîÆÂ≠óÂÖ∑‰Ωì‰ø°ÊÅØÁöÑÊåáÈíàÔºåÂè™ÊòØ‰Ωú‰∏∫Á¥¢Âºï‰ΩøÁî®ÔºåÂÖ∂ÂÜÖÈÉ®ÁªìÁÇπÊØî B Ê†ëÂ∞èÔºåÁõòÂùóËÉΩÂÆπÁ∫≥ÁöÑÁªìÁÇπ‰∏≠ÂÖ≥ÈîÆÂ≠óÊï∞ÈáèÊõ¥Â§öÔºå‰∏ÄÊ¨°ÊÄßËØªÂÖ•ÂÜÖÂ≠ò‰∏≠ÂèØ‰ª•Êü•ÊâæÁöÑÂÖ≥ÈîÆÂ≠ó‰πüÂ∞±Ë∂äÂ§öÔºåÁõ∏ÂØπÁöÑÔºåIO ËØªÂÜôÊ¨°Êï∞‰πüÂ∞±Èôç‰Ωé‰∫Ü„ÄÇËÄå IO ËØªÂÜôÊ¨°Êï∞ÊòØÂΩ±ÂìçÁ¥¢ÂºïÊ£ÄÁ¥¢ÊïàÁéáÁöÑÊúÄÂ§ßÂõ†Á¥†Ôºõ B + Ê†ëÁöÑÊü•ËØ¢ÊïàÁéáÊõ¥Âä†Á®≥ÂÆö„ÄÇB Ê†ëÊêúÁ¥¢ÊúâÂèØËÉΩ‰ºöÂú®ÈùûÂè∂Â≠êÁªìÁÇπÁªìÊùüÔºåË∂äÈù†ËøëÊ†πËäÇÁÇπÁöÑËÆ∞ÂΩïÊü•ÊâæÊó∂Èó¥Ë∂äÁü≠ÔºåÂè™Ë¶ÅÊâæÂà∞ÂÖ≥ÈîÆÂ≠óÂç≥ÂèØÁ°ÆÂÆöËÆ∞ÂΩïÁöÑÂ≠òÂú®ÔºåÂÖ∂ÊÄßËÉΩÁ≠â‰ª∑‰∫éÂú®ÂÖ≥ÈîÆÂ≠óÂÖ®ÈõÜÂÜÖÂÅö‰∏ÄÊ¨°‰∫åÂàÜÊü•Êâæ„ÄÇËÄåÂú® B + Ê†ë‰∏≠ÔºåÈ°∫Â∫èÊ£ÄÁ¥¢ÊØîËæÉÊòéÊòæÔºåÈöèÊú∫Ê£ÄÁ¥¢Êó∂Ôºå‰ªª‰ΩïÂÖ≥ÈîÆÂ≠óÁöÑÊü•ÊâæÈÉΩÂøÖÈ°ªËµ∞‰∏ÄÊù°‰ªéÊ†πËäÇÁÇπÂà∞Âè∂ËäÇÁÇπÁöÑË∑ØÔºåÊâÄÊúâÂÖ≥ÈîÆÂ≠óÁöÑÊü•ÊâæË∑ØÂæÑÈïøÂ∫¶Áõ∏ÂêåÔºåÂØºËá¥ÊØè‰∏Ä‰∏™ÂÖ≥ÈîÆÂ≠óÁöÑÊü•ËØ¢ÊïàÁéáÁõ∏ÂΩì„ÄÇ B - Ê†ëÂú®ÊèêÈ´ò‰∫ÜÁ£ÅÁõò IO ÊÄßËÉΩÁöÑÂêåÊó∂Âπ∂Ê≤°ÊúâËß£ÂÜ≥ÂÖÉÁ¥†ÈÅçÂéÜÁöÑÊïàÁéá‰Ωé‰∏ãÁöÑÈóÆÈ¢ò„ÄÇB + Ê†ëÁöÑÂè∂Â≠êËäÇÁÇπ‰ΩøÁî®ÊåáÈíàÈ°∫Â∫èËøûÊé•Âú®‰∏ÄËµ∑ÔºåÂè™Ë¶ÅÈÅçÂéÜÂè∂Â≠êËäÇÁÇπÂ∞±ÂèØ‰ª•ÂÆûÁé∞Êï¥Ê£µÊ†ëÁöÑÈÅçÂéÜ„ÄÇËÄå‰∏îÂú®Êï∞ÊçÆÂ∫ì‰∏≠Âü∫‰∫éËåÉÂõ¥ÁöÑÊü•ËØ¢ÊòØÈùûÂ∏∏È¢ëÁπÅÁöÑÔºåËÄå B Ê†ë‰∏çÊîØÊåÅËøôÊ†∑ÁöÑÊìç‰Ωú„ÄÇ Â¢ûÂà†Êñá‰ª∂ÔºàËäÇÁÇπÔºâÊó∂ÔºåÊïàÁéáÊõ¥È´ò„ÄÇÂõ†‰∏∫ B + Ê†ëÁöÑÂè∂Â≠êËäÇÁÇπÂåÖÂê´ÊâÄÊúâÂÖ≥ÈîÆÂ≠óÔºåÂπ∂‰ª•ÊúâÂ∫èÁöÑÈìæË°®ÁªìÊûÑÂ≠òÂÇ®ÔºåËøôÊ†∑ÂèØÂæàÂ•ΩÊèêÈ´òÂ¢ûÂà†ÊïàÁéá„ÄÇ B+Ê†ëÂú®Êª°Ë∂≥ËÅöÁ∞áÁ¥¢ÂºïÂíåË¶ÜÁõñÁ¥¢ÂºïÁöÑÊó∂ÂÄô‰∏çÈúÄË¶ÅÂõûË°®Êü•ËØ¢Êï∞ÊçÆÔºå Âú® B + Ê†ëÁöÑÁ¥¢Âºï‰∏≠ÔºåÂè∂Â≠êËäÇÁÇπÂèØËÉΩÂ≠òÂÇ®‰∫ÜÂΩìÂâçÁöÑ key ÂÄºÔºå‰πüÂèØËÉΩÂ≠òÂÇ®‰∫ÜÂΩìÂâçÁöÑ key ÂÄº‰ª•ÂèäÊï¥Ë°åÁöÑÊï∞ÊçÆÔºåËøôÂ∞±ÊòØËÅöÁ∞áÁ¥¢ÂºïÂíåÈùûËÅöÁ∞áÁ¥¢Âºï„ÄÇ Âú® InnoDB ‰∏≠ÔºåÂè™Êúâ‰∏ªÈîÆÁ¥¢ÂºïÊòØËÅöÁ∞áÁ¥¢ÂºïÔºåÂ¶ÇÊûúÊ≤°Êúâ‰∏ªÈîÆÔºåÂàôÊåëÈÄâ‰∏Ä‰∏™ÂîØ‰∏ÄÈîÆÂª∫Á´ãËÅöÁ∞áÁ¥¢Âºï„ÄÇÂ¶ÇÊûúÊ≤°ÊúâÂîØ‰∏ÄÈîÆÔºåÂàôÈöêÂºèÁöÑÁîüÊàê‰∏Ä‰∏™ÈîÆÊù•Âª∫Á´ãËÅöÁ∞áÁ¥¢Âºï„ÄÇ ÂΩìÊü•ËØ¢‰ΩøÁî®ËÅöÁ∞áÁ¥¢ÂºïÊó∂ÔºåÂú®ÂØπÂ∫îÁöÑÂè∂Â≠êËäÇÁÇπÔºåÂèØ‰ª•Ëé∑ÂèñÂà∞Êï¥Ë°åÊï∞ÊçÆÔºåÂõ†Ê≠§‰∏çÁî®ÂÜçÊ¨°ËøõË°åÂõûË°®Êü•ËØ¢„ÄÇ ‰ªÄ‰πàÊòØËÅöÁ∞áÁ¥¢ÂºïÔºü‰ΩïÊó∂‰ΩøÁî®ËÅöÁ∞áÁ¥¢Âºï‰∏éÈùûËÅöÁ∞áÁ¥¢Âºï ËÅöÁ∞áÁ¥¢ÂºïÔºöÂ∞ÜÊï∞ÊçÆÂ≠òÂÇ®‰∏éÁ¥¢ÂºïÊîæÂà∞‰∫Ü‰∏ÄÂùóÔºåÊâæÂà∞Á¥¢Âºï‰πüÂ∞±ÊâæÂà∞‰∫ÜÊï∞ÊçÆ ÈùûËÅöÁ∞áÁ¥¢ÂºïÔºöÂ∞ÜÊï∞ÊçÆÂ≠òÂÇ®‰∫éÁ¥¢ÂºïÂàÜÂºÄÁªìÊûÑÔºåÁ¥¢ÂºïÁªìÊûÑÁöÑÂè∂Â≠êËäÇÁÇπÊåáÂêë‰∫ÜÊï∞ÊçÆÁöÑÂØπÂ∫îË°åÔºåmyisam ÈÄöËøá key_buffer ÊääÁ¥¢ÂºïÂÖàÁºìÂ≠òÂà∞ÂÜÖÂ≠ò‰∏≠ÔºåÂΩìÈúÄË¶ÅËÆøÈóÆÊï∞ÊçÆÊó∂ÔºàÈÄöËøáÁ¥¢ÂºïËÆøÈóÆÊï∞ÊçÆÔºâÔºåÂú®ÂÜÖÂ≠ò‰∏≠Áõ¥Êé•ÊêúÁ¥¢Á¥¢ÂºïÔºåÁÑ∂ÂêéÈÄöËøáÁ¥¢ÂºïÊâæÂà∞Á£ÅÁõòÁõ∏Â∫îÊï∞ÊçÆÔºåËøô‰πüÂ∞±ÊòØ‰∏∫‰ªÄ‰πàÁ¥¢Âºï‰∏çÂú® key buffer ÂëΩ‰∏≠Êó∂ÔºåÈÄüÂ∫¶ÊÖ¢ÁöÑÂéüÂõ† ÊæÑÊ∏Ö‰∏Ä‰∏™Ê¶ÇÂøµÔºöinnodb ‰∏≠ÔºåÂú®ËÅöÁ∞áÁ¥¢Âºï‰πã‰∏äÂàõÂª∫ÁöÑÁ¥¢ÂºïÁß∞‰πã‰∏∫ËæÖÂä©Á¥¢ÂºïÔºåËæÖÂä©Á¥¢ÂºïËÆøÈóÆÊï∞ÊçÆÊÄªÊòØÈúÄË¶Å‰∫åÊ¨°Êü•ÊâæÔºåÈùûËÅöÁ∞áÁ¥¢ÂºïÈÉΩÊòØËæÖÂä©Á¥¢ÂºïÔºåÂÉèÂ§çÂêàÁ¥¢Âºï„ÄÅÂâçÁºÄÁ¥¢Âºï„ÄÅÂîØ‰∏ÄÁ¥¢ÂºïÔºåËæÖÂä©Á¥¢ÂºïÂè∂Â≠êËäÇÁÇπÂ≠òÂÇ®ÁöÑ‰∏çÂÜçÊòØË°åÁöÑÁâ©ÁêÜ‰ΩçÁΩÆÔºåËÄåÊòØ‰∏ªÈîÆÂÄº ‰ΩïÊó∂‰ΩøÁî®ËÅöÁ∞áÁ¥¢Âºï‰∏éÈùûËÅöÁ∞áÁ¥¢Âºï ¬∑ ![desc](file:///C:/Users/ADMINI~1/AppData/Local/Temp/msohtmlclip1/01/clip_image014.png) ÈùûËÅöÁ∞áÁ¥¢Âºï‰∏ÄÂÆö‰ºöÂõûË°®Êü•ËØ¢ÂêóÔºü ‰∏ç‰∏ÄÂÆöÔºåËøôÊ∂âÂèäÂà∞Êü•ËØ¢ËØ≠Âè•ÊâÄË¶ÅÊ±ÇÁöÑÂ≠óÊÆµÊòØÂê¶ÂÖ®ÈÉ®ÂëΩ‰∏≠‰∫ÜÁ¥¢ÂºïÔºåÂ¶ÇÊûúÂÖ®ÈÉ®ÂëΩ‰∏≠‰∫ÜÁ¥¢ÂºïÔºåÈÇ£‰πàÂ∞±‰∏çÂøÖÂÜçËøõË°åÂõûË°®Êü•ËØ¢„ÄÇ ‰∏æ‰∏™ÁÆÄÂçïÁöÑ‰æãÂ≠êÔºåÂÅáËÆæÊàë‰ª¨Âú®ÂëòÂ∑•Ë°®ÁöÑÂπ¥ÈæÑ‰∏äÂª∫Á´ã‰∫ÜÁ¥¢ÂºïÔºåÈÇ£‰πàÂΩìËøõË°åselect age from employee where age &lt; 20ÁöÑÊü•ËØ¢Êó∂ÔºåÂú®Á¥¢ÂºïÁöÑÂè∂Â≠êËäÇÁÇπ‰∏äÔºåÂ∑≤ÁªèÂåÖÂê´‰∫Ü age ‰ø°ÊÅØÔºå‰∏ç‰ºöÂÜçÊ¨°ËøõË°åÂõûË°®Êü•ËØ¢„ÄÇ ËÅîÂêàÁ¥¢ÂºïÊòØ‰ªÄ‰πàÔºü‰∏∫‰ªÄ‰πàÈúÄË¶ÅÊ≥®ÊÑèËÅîÂêàÁ¥¢Âºï‰∏≠ÁöÑÈ°∫Â∫èÔºü MySQL ÂèØ‰ª•‰ΩøÁî®Â§ö‰∏™Â≠óÊÆµÂêåÊó∂Âª∫Á´ã‰∏Ä‰∏™Á¥¢ÂºïÔºåÂè´ÂÅöËÅîÂêàÁ¥¢Âºï„ÄÇÂú®ËÅîÂêàÁ¥¢Âºï‰∏≠ÔºåÂ¶ÇÊûúÊÉ≥Ë¶ÅÂëΩ‰∏≠Á¥¢ÂºïÔºåÈúÄË¶ÅÊåâÁÖßÂª∫Á´ãÁ¥¢ÂºïÊó∂ÁöÑÂ≠óÊÆµÈ°∫Â∫èÊå®‰∏™‰ΩøÁî®ÔºåÂê¶ÂàôÊó†Ê≥ïÂëΩ‰∏≠Á¥¢Âºï„ÄÇ ÂÖ∑‰ΩìÂéüÂõ†‰∏∫: MySQL ‰ΩøÁî®Á¥¢ÂºïÊó∂ÈúÄË¶ÅÁ¥¢ÂºïÊúâÂ∫èÔºåÂÅáËÆæÁé∞Âú®Âª∫Á´ã‰∫Ü &quot;nameÔºåageÔºåschool&quot; ÁöÑËÅîÂêàÁ¥¢ÂºïÔºåÈÇ£‰πàÁ¥¢ÂºïÁöÑÊéíÂ∫è‰∏∫: ÂÖàÊåâÁÖß name ÊéíÂ∫èÔºåÂ¶ÇÊûú name Áõ∏ÂêåÔºåÂàôÊåâÁÖß age ÊéíÂ∫èÔºåÂ¶ÇÊûú age ÁöÑÂÄº‰πüÁõ∏Á≠âÔºåÂàôÊåâÁÖß school ËøõË°åÊéíÂ∫è„ÄÇ ÂΩìËøõË°åÊü•ËØ¢Êó∂ÔºåÊ≠§Êó∂Á¥¢Âºï‰ªÖ‰ªÖÊåâÁÖß name ‰∏•Ê†ºÊúâÂ∫èÔºåÂõ†Ê≠§ÂøÖÈ°ªÈ¶ñÂÖà‰ΩøÁî® name Â≠óÊÆµËøõË°åÁ≠âÂÄºÊü•ËØ¢Ôºå‰πãÂêéÂØπ‰∫éÂåπÈÖçÂà∞ÁöÑÂàóËÄåË®ÄÔºåÂÖ∂ÊåâÁÖß age Â≠óÊÆµ‰∏•Ê†ºÊúâÂ∫èÔºåÊ≠§Êó∂ÂèØ‰ª•‰ΩøÁî® age Â≠óÊÆµÁî®ÂÅöÁ¥¢ÂºïÊü•ÊâæÔºå‰ª•Ê≠§Á±ªÊé®„ÄÇÂõ†Ê≠§Âú®Âª∫Á´ãËÅîÂêàÁ¥¢ÂºïÁöÑÊó∂ÂÄôÂ∫îËØ•Ê≥®ÊÑèÁ¥¢ÂºïÂàóÁöÑÈ°∫Â∫èÔºå‰∏ÄËà¨ÊÉÖÂÜµ‰∏ãÔºåÂ∞ÜÊü•ËØ¢ÈúÄÊ±ÇÈ¢ëÁπÅÊàñËÄÖÂ≠óÊÆµÈÄâÊã©ÊÄßÈ´òÁöÑÂàóÊîæÂú®ÂâçÈù¢„ÄÇÊ≠§Â§ñÂèØ‰ª•Ê†πÊçÆÁâπ‰æãÁöÑÊü•ËØ¢ÊàñËÄÖË°®ÁªìÊûÑËøõË°åÂçïÁã¨ÁöÑË∞ÉÊï¥„ÄÇ ‰∫ãÂä° ‰ªÄ‰πàÊòØÊï∞ÊçÆÂ∫ì‰∫ãÂä°Ôºü 1„ÄÅÁî® BEGIN, ROLLBACK, COMMITÊù•ÂÆûÁé∞ BEGIN ÂºÄÂßã‰∏Ä‰∏™‰∫ãÂä° ROLLBACK ‰∫ãÂä°ÂõûÊªö COMMIT ‰∫ãÂä°Á°ÆËÆ§ 2„ÄÅÁõ¥Êé•Áî® SET Êù•ÊîπÂèò MySQL ÁöÑËá™Âä®Êèê‰∫§Ê®°Âºè: SET AUTOCOMMIT=0 Á¶ÅÊ≠¢Ëá™Âä®Êèê‰∫§ SET AUTOCOMMIT=1 ÂºÄÂêØËá™Âä®Êèê‰∫§ Âú® MySQL ‰∏≠Âè™Êúâ‰ΩøÁî®‰∫Ü Innodb Êï∞ÊçÆÂ∫ìÂºïÊìéÁöÑÊï∞ÊçÆÂ∫ìÊàñË°®ÊâçÊîØÊåÅ‰∫ãÂä°„ÄÇ ‰∫ãÂä°Â§ÑÁêÜÂèØ‰ª•Áî®Êù•Áª¥Êä§Êï∞ÊçÆÂ∫ìÁöÑÂÆåÊï¥ÊÄßÔºå‰øùËØÅÊàêÊâπÁöÑ SQL ËØ≠Âè•Ë¶Å‰πàÂÖ®ÈÉ®ÊâßË°åÔºåË¶Å‰πàÂÖ®ÈÉ®‰∏çÊâßË°å„ÄÇ ‰∫ãÂä°Áî®Êù•ÁÆ°ÁêÜ insert,update,delete ËØ≠Âè• ‰∫ãÁâ©ÁöÑÂõõÂ§ßÁâπÊÄß(ACID)‰ªãÁªç‰∏Ä‰∏ã? **ÂéüÂ≠êÊÄß (Atomicity)Ôºö**‰∏Ä‰∏™‰∫ãÂä°ÔºàtransactionÔºâ‰∏≠ÁöÑÊâÄÊúâÊìç‰ΩúÔºåË¶Å‰πàÂÖ®ÈÉ®ÂÆåÊàêÔºåË¶Å‰πàÂÖ®ÈÉ®‰∏çÂÆåÊàêÔºå‰∏ç‰ºöÁªìÊùüÂú®‰∏≠Èó¥Êüê‰∏™ÁéØËäÇ„ÄÇ‰∫ãÂä°Âú®ÊâßË°åËøáÁ®ã‰∏≠ÂèëÁîüÈîôËØØÔºå‰ºöË¢´ÂõûÊªöÔºàRollbackÔºâÂà∞‰∫ãÂä°ÂºÄÂßãÂâçÁöÑÁä∂ÊÄÅÔºåÂ∞±ÂÉèËøô‰∏™‰∫ãÂä°‰ªéÊù•Ê≤°ÊúâÊâßË°åËøá‰∏ÄÊ†∑„ÄÇ **‰∏ÄËá¥ÊÄßÔºàConsistencyÔºâÔºö**Âú®‰∫ãÂä°ÂºÄÂßã‰πãÂâçÂíå‰∫ãÂä°ÁªìÊùü‰ª•ÂêéÔºåÊï∞ÊçÆÂ∫ìÁöÑÂÆåÊï¥ÊÄßÊ≤°ÊúâË¢´Á†¥Âùè„ÄÇËøôË°®Á§∫ÂÜôÂÖ•ÁöÑËµÑÊñôÂøÖÈ°ªÂÆåÂÖ®Á¨¶ÂêàÊâÄÊúâÁöÑÈ¢ÑËÆæËßÑÂàôÔºåËøôÂåÖÂê´ËµÑÊñôÁöÑÁ≤æÁ°ÆÂ∫¶„ÄÅ‰∏≤ËÅîÊÄß‰ª•ÂèäÂêéÁª≠Êï∞ÊçÆÂ∫ìÂèØ‰ª•Ëá™ÂèëÊÄßÂú∞ÂÆåÊàêÈ¢ÑÂÆöÁöÑÂ∑•‰Ωú„ÄÇ **ÈöîÁ¶ªÊÄßÔºàIsolationÔºâÔºö**Êï∞ÊçÆÂ∫ìÂÖÅËÆ∏Â§ö‰∏™Âπ∂Âèë‰∫ãÂä°ÂêåÊó∂ÂØπÂÖ∂Êï∞ÊçÆËøõË°åËØªÂÜôÂíå‰øÆÊîπÁöÑËÉΩÂäõÔºåÈöîÁ¶ªÊÄßÂèØ‰ª•Èò≤Ê≠¢Â§ö‰∏™‰∫ãÂä°Âπ∂ÂèëÊâßË°åÊó∂Áî±‰∫é‰∫§ÂèâÊâßË°åËÄåÂØºËá¥Êï∞ÊçÆÁöÑ‰∏ç‰∏ÄËá¥„ÄÇ‰∫ãÂä°ÈöîÁ¶ªÂàÜ‰∏∫‰∏çÂêåÁ∫ßÂà´ÔºåÂåÖÊã¨ËØªÊú™Êèê‰∫§ÔºàRead uncommittedÔºâ„ÄÅËØªÊèê‰∫§Ôºàread committedÔºâ„ÄÅÂèØÈáçÂ§çËØªÔºàrepeatable readÔºâÂíå‰∏≤Ë°åÂåñÔºàSerializableÔºâ„ÄÇ **ÊåÅ‰πÖÊÄßÔºàDurabilityÔºâÔºö**‰∫ãÂä°Â§ÑÁêÜÁªìÊùüÂêéÔºåÂØπÊï∞ÊçÆÁöÑ‰øÆÊîπÂ∞±ÊòØÊ∞∏‰πÖÁöÑÔºåÂç≥‰æøÁ≥ªÁªüÊïÖÈöú‰πü‰∏ç‰ºö‰∏¢Â§±„ÄÇ ‰ªÄ‰πàÊòØËÑèËØªÔºüÂπªËØªÔºü‰∏çÂèØÈáçÂ§çËØªÔºü ‰ªÄ‰πàÊòØ‰∫ãÂä°ÁöÑÈöîÁ¶ªÁ∫ßÂà´ÔºüMySQLÁöÑÈªòËÆ§ÈöîÁ¶ªÁ∫ßÂà´ÊòØ‰ªÄ‰πàÔºü ÈîÅ ÂØπMySQLÁöÑÈîÅ‰∫ÜËß£Âêó ÈöîÁ¶ªÁ∫ßÂà´‰∏éÈîÅÁöÑÂÖ≥Á≥ª ÊåâÁÖßÈîÅÁöÑÁ≤íÂ∫¶ÂàÜÊï∞ÊçÆÂ∫ìÈîÅÊúâÂì™‰∫õÔºüÈîÅÊú∫Âà∂‰∏éInnoDBÈîÅÁÆóÊ≥ï ‰ªéÈîÅÁöÑÁ±ªÂà´‰∏äÂàÜMySQLÈÉΩÊúâÂì™‰∫õÈîÅÂë¢ÔºüÂÉè‰∏äÈù¢ÈÇ£Ê†∑Â≠êËøõË°åÈîÅÂÆöÂ≤Ç‰∏çÊòØÊúâÁÇπÈòªÁ¢çÂπ∂ÂèëÊïàÁéá‰∫Ü MySQL‰∏≠InnoDBÂºïÊìéÁöÑË°åÈîÅÊòØÊÄé‰πàÂÆûÁé∞ÁöÑÔºü InnoDBÂ≠òÂÇ®ÂºïÊìéÁöÑÈîÅÁöÑÁÆóÊ≥ïÊúâ‰∏âÁßç ‰ªÄ‰πàÊòØÊ≠ªÈîÅÔºüÊÄé‰πàËß£ÂÜ≥Ôºü Êï∞ÊçÆÂ∫ìÁöÑ‰πêËßÇÈîÅÂíåÊÇ≤ËßÇÈîÅÊòØ‰ªÄ‰πàÔºüÊÄé‰πàÂÆûÁé∞ÁöÑÔºü ËßÜÂõæ 1234567#ÂàõÂª∫ËßÜÂõæcreate view ËßÜÂõæÂêçÁß∞ as selectËØ≠Âè•;#--Êü•ÁúãËßÜÂõæÁªìÊûÑÔºödesc user_view; show create view user_view;#--Êü•ÁúãËßÜÂõæÂÜÖÂÆπÔºöselect * from user_view; ‰∏∫‰ªÄ‰πàË¶Å‰ΩøÁî®ËßÜÂõæÔºü‰ªÄ‰πàÊòØËßÜÂõæÔºü Áî±Âü∫Ë°®ÈÄöËøáSQLÂä®ÊÄÅÁîüÊàêÁöÑËôöÊãüË°®ÔºåÊú¨Ë∫´‰∏çÂåÖÂê´Êï∞ÊçÆÔºåÂü∫Ë°®ÂíåËßÜÂõæÊï∞ÊçÆ‰ºö‰∫íÁõ∏ÂΩ±Âìç„ÄÇÂè™ÊúâÂü∫Ë°®ÂíåËßÜÂõæÂ≠óÊÆµ‰∏Ä‰∏ÄÂØπÂ∫îÊâçÂèØ‰ª•Â¢ûÂà†ÊîπÊü•„ÄÇ Âú®Mysql‰∏≠ËßÜÂõæÁöÑÁ±ªÂûãÂàÜ‰∏∫Ôºö 1„ÄÅMERGE Â∞ÜËßÜÂõæÁöÑsqlËØ≠Âè•ÂíåÂºïÁî®ËßÜÂõæÁöÑsqlËØ≠Âè•ÂêàÂπ∂Âú®‰∏ÄËµ∑ÔºåÊúÄÂêé‰∏ÄËµ∑ÊâßË°å„ÄÇ 2„ÄÅTEMPTABLE Â∞ÜËßÜÂõæÁöÑÁªìÊûúÈõÜÂ≠òÊîæÂú®‰∏¥Êó∂Ë°®‰∏≠ÔºåÊØèÊ¨°ÊâßË°åÊó∂‰ªé‰∏¥Êó∂Ë°®‰∏≠Êìç‰Ωú„ÄÇ 3„ÄÅUNDEFINED ÈªòËÆ§ÁöÑËßÜÂõæÁ±ªÂûãÔºåDBMSÂÄæÂêë‰∫éÈÄâÊã©ËÄå‰∏çÊòØÂøÖÂÆöÈÄâÊã©MERGEÔºåÂõ†‰∏∫MERGEÁöÑÊïàÁéáÊõ¥È´òÔºåÊõ¥ÈáçË¶ÅÁöÑÊòØ‰∏¥Êó∂Ë°®ËßÜÂõæ‰∏çËÉΩÊõ¥Êñ∞„ÄÇ ÊâÄ‰ª•ÔºåËøôÈáåÊé®Ëçê‰ΩøÁî®MERGEÁÆóÊ≥ïÁ±ªÂûãËßÜÂõæ„ÄÇ ËßÜÂõæÊúâÂì™‰∫õÁâπÁÇπÔºü 1ÔºâÁÆÄÂçïÔºö‰ΩøÁî®ËßÜÂõæÁöÑÁî®Êà∑ÂÆåÂÖ®‰∏çÈúÄË¶ÅÂÖ≥ÂøÉÂêéÈù¢ÂØπÂ∫îÁöÑË°®ÁöÑÁªìÊûÑ„ÄÅÂÖ≥ËÅîÊù°‰ª∂ÂíåÁ≠õÈÄâÊù°‰ª∂ÔºåÂØπÁî®Êà∑Êù•ËØ¥Â∑≤ÁªèÊòØËøáÊª§Â•ΩÁöÑÂ§çÂêàÊù°‰ª∂ÁöÑÁªìÊûúÈõÜ„ÄÇ 2ÔºâÂÆâÂÖ®Ôºö‰ΩøÁî®ËßÜÂõæÁöÑÁî®Êà∑Âè™ËÉΩËÆøÈóÆ‰ªñ‰ª¨Ë¢´ÂÖÅËÆ∏Êü•ËØ¢ÁöÑÁªìÊûúÈõÜÔºåÂØπË°®ÁöÑÊùÉÈôêÁÆ°ÁêÜÂπ∂‰∏çËÉΩÈôêÂà∂Âà∞Êüê‰∏™Ë°åÊüê‰∏™ÂàóÔºå‰ΩÜÊòØÈÄöËøáËßÜÂõæÂ∞±ÂèØ‰ª•ÁÆÄÂçïÁöÑÂÆûÁé∞„ÄÇ 3ÔºâÊï∞ÊçÆÁã¨Á´ãÔºö‰∏ÄÊó¶ËßÜÂõæÁöÑÁªìÊûÑÁ°ÆÂÆö‰∫ÜÔºåÂèØ‰ª•Â±èËîΩË°®ÁªìÊûÑÂèòÂåñÂØπÁî®Êà∑ÁöÑÂΩ±ÂìçÔºåÊ∫êË°®Â¢ûÂä†ÂàóÂØπËßÜÂõæÊ≤°ÊúâÂΩ±ÂìçÔºõÊ∫êË°®‰øÆÊîπÂàóÂêçÔºåÂàôÂèØ‰ª•ÈÄöËøá‰øÆÊîπËßÜÂõæÊù•Ëß£ÂÜ≥Ôºå‰∏ç‰ºöÈÄ†ÊàêÂØπËÆøÈóÆËÄÖÁöÑÂΩ±Âìç„ÄÇ ÊÄªËÄåË®Ä‰πãÔºå‰ΩøÁî®ËßÜÂõæÁöÑÂ§ßÈÉ®ÂàÜÊÉÖÂÜµÊòØ‰∏∫‰∫Ü‰øùÈöúÊï∞ÊçÆÂÆâÂÖ®ÊÄßÔºåÊèêÈ´òÊü•ËØ¢ÊïàÁéá„ÄÇ ËßÜÂõæÁöÑ‰ΩøÁî®Âú∫ÊôØÊúâÂì™‰∫õÔºü ÂàÜË°® ÂêØÁî®ËÆ°ÁÆóÂàó Â¶ÇÊúâËÆ¢ÂçïÊï∞ÈáèÂíåÂçï‰ª∑Ôºå‰∏ÄËà¨Êï∞ÊçÆÂ∫ìËÆæËÆ°‰∏ç‰ºöÊúâÊÄª‰ª∑Â≠óÊÆµÔºåËßÜÂõæÂèØÊúâ ÂØºÂÖ•ÂØºÂá∫Ë°® ‰ΩøÁî®ËßÜÂõæÂØºÂÖ•ÂØºÂá∫Êï∞ÊçÆ ÊùÉÈôêÊéßÂà∂ÔºåÊèêÈ´òÂÆâÂÖ®ÊÄß ÂàõÂª∫ËßÜÂõæÊéßÂà∂ÊòæÁ§∫Â≠óÊÆµÔºåÁî®Êà∑‰ªéËßÜÂõæÊü•ËØ¢Âè™‰ºöÊòæÁ§∫ÊéßÂà∂ÁöÑÂ≠óÊÆµÔºåÂèØ‰ª•ÊääÊùÉÈôêÈôêÂÆöÂà∞Ë°åÂàóÁ∫ßÂà´ Ëß£ËÄ¶Âêà ÂàõÂª∫ËßÜÂõæÂêéÂü∫Ë°®ÁªìÊûÑÊîπÂèò‰∏çÂΩ±ÂìçËßÜÂõæÔºåÈáçÊûÑÊï∞ÊçÆÂ∫ì‰∏çÂΩ±ÂìçÁ®ãÂ∫èÔºåÂêëÂêéÂÖºÂÆπ„ÄÇ ÁÆÄÂåñÊï∞ÊçÆÊìç‰Ωú Â∞ÜÂ§çÊùÇÁöÑËÅîÂêàÁ≠âÊü•ËØ¢ÂàõÂª∫‰∏∫ËßÜÂõæÔºåÂèØÂè™Êü•ËØ¢ËßÜÂõæÊù•ÁÆÄÂåñÊìç‰Ωú ËßÜÂõæÁöÑ‰ºòÁÇπ ËßÜÂõæÁöÑÁº∫ÁÇπ Êü•ËØ¢ÊÄßËÉΩÈôç‰ΩéÔºå‰øÆÊîπËßÜÂõæ‰ºöÁõ¥Êé•‰øÆÊîπÂéüÊï∞ÊçÆÔºåÂü∫Ë°®ËßÜÂõæÁõ∏‰∫í‰æùËµñ„ÄÇ ‰ªÄ‰πàÊòØÊ∏∏Ê†áÔºü Ê∏∏Ê†áÁöÑÁâπÊÄß ‰∏çÊïèÊÑüÔºöÊï∞ÊçÆÂ∫ìÂèØ‰ª•ÈÄâÊã©‰∏çÂ§çÂà∂ÁªìÊûúÈõÜ Âè™ËØª ‰∏çÊªöÂä®ÔºöÊ∏∏Ê†áÂè™ËÉΩÂêë‰∏ÄÊñπÂêëÂâçËøõÔºåÂπ∂‰∏î‰∏çÂèØ‰ª•Ë∑≥Ëøá‰ªª‰Ωï‰∏ÄË°åÊï∞ÊçÆ Ê∏∏Ê†áÁöÑ‰ºòÁÇπ Ê∏∏Ê†áÊòØÈíàÂØπË°åÊìç‰ΩúÁöÑÔºåÂØπ‰ªéÊï∞ÊçÆÂ∫ì‰∏≠ select Êü•ËØ¢ÂæóÂà∞ÁöÑÁªìÊûúÈõÜÁöÑ ÊØè‰∏ÄË°åÂèØ‰ª• ËøõË°åÂàÜÂºÄÁöÑÁã¨Á´ãÁöÑÁõ∏ÂêåÊàñËÄÖ‰∏çÁõ∏ÂêåÁöÑÊìç‰ΩúÔºåÊòØ‰∏ÄÁßçÂàÜÁ¶ªÁöÑÊÄùÊÉ≥„ÄÇ Ê∏∏Ê†áÁöÑÁº∫ÁÇπ ÊÄßËÉΩ‰∏çÈ´ò Âè™ËÉΩ‰∏ÄË°å‰∏ÄË°åÊìç‰Ωú ‰ΩøÁî®Ê∏∏Ê†á‰ºö‰∫ßÁîüÊ≠ªÈîÅÔºåÈÄ†ÊàêÂÜÖÂ≠òÂºÄÈîÄÂ§ß Ê∏∏Ê†áÁöÑÈÄÇÁî®Âú∫ÊôØ Â≠òÂÇ®ËøáÁ®ã ÂáΩÊï∞ Ëß¶ÂèëÂô® ‰∫ã‰ª∂ Ê∏∏Ê†áÁöÑÊìç‰Ωú 1„ÄÅÊ∏∏Ê†áÁöÑÂÆö‰πâ DECLARE ÂÖâÊ†áÂêçÁß∞ CURSOR FOR Êü•ËØ¢ËØ≠Ê≥ï declare cursor_name cursor for select_statement 2„ÄÅÊâìÂºÄÊ∏∏Ê†á OPEN ÂÖâÊ†áÂêçÁß∞ open cursor_name 3„ÄÅÂèñÊ∏∏Ê†á‰∏≠ÁöÑÊï∞ÊçÆ FETCH ÂÖâÊ†áÂêçÁß∞ INFO var_name [Ôºåvar_name ]..... fetch cursor_name info var_name 4„ÄÅÂÖ≥Èó≠Ê∏∏Ê†á CLOSE curso_name; close ÂÖâÊ†áÂêçÁß∞ 5„ÄÅÈáäÊîæÊ∏∏Ê†á DEALLOCATE ÂÖâÊ†áÂêçÁß∞ deallocate cursor_name; Â≠òÂÇ®ËøáÁ®ã‰∏éÂáΩÊï∞ ‰ªÄ‰πàÊòØÂ≠òÂÇ®ËøáÁ®ãÔºüÊúâÂì™‰∫õ‰ºòÁº∫ÁÇπÔºü Ëß¶ÂèëÂô® ‰ªÄ‰πàÊòØËß¶ÂèëÂô®ÔºüËß¶ÂèëÂô®ÁöÑ‰ΩøÁî®Âú∫ÊôØÊúâÂì™‰∫õÔºü Ëß¶ÂèëÂô®ÊòØÈíàÂØπÊØè‰∏ÄË°åÁöÑÔºõÂØπÂ¢ûÂà†ÊîπÈùûÂ∏∏È¢ëÁπÅÁöÑË°®‰∏äÂàáËÆ∞‰∏çË¶Å‰ΩøÁî®Ëß¶ÂèëÂô®ÔºåÂõ†‰∏∫ÂÆÉ‰ºöÈùûÂ∏∏Ê∂àËÄóËµÑÊ∫ê„ÄÇ Ëß¶ÂèëÂô®ÊòØÈíàÂØπÊØè‰∏ÄË°åÁöÑÔºõÂØπÂ¢ûÂà†ÊîπÈùûÂ∏∏È¢ëÁπÅÁöÑË°®‰∏äÂàáËÆ∞‰∏çË¶Å‰ΩøÁî®Ëß¶ÂèëÂô®ÔºåÂõ†‰∏∫ÂÆÉ‰ºöÈùûÂ∏∏Ê∂àËÄóËµÑÊ∫ê„ÄÇ 1234567891011121314151617181920212223242526CREATE [DEFINER = { user | CURRENT_USER }]TRIGGER trigger_nametrigger_time trigger_eventON tbl_name FOR EACH ROW [trigger_order]trigger_bodytrigger_time: { BEFORE | AFTER }trigger_event: { INSERT | UPDATE | DELETE }trigger_order: { FOLLOWS | PRECEDES } other_trigger_name&gt; BEFOREÂíåAFTERÂèÇÊï∞ÊåáÂÆö‰∫ÜËß¶ÂèëÊâßË°åÁöÑÊó∂Èó¥ÔºåÂú®‰∫ã‰ª∂‰πãÂâçÊàñÊòØ‰πãÂêé„ÄÇ&gt; FOR EACH ROWË°®Á§∫‰ªª‰Ωï‰∏ÄÊù°ËÆ∞ÂΩï‰∏äÁöÑÊìç‰ΩúÊª°Ë∂≥Ëß¶Âèë‰∫ã‰ª∂ÈÉΩ‰ºöËß¶ÂèëËØ•Ëß¶ÂèëÂô®Ôºå‰πüÂ∞±ÊòØËØ¥Ëß¶ÂèëÂô®ÁöÑËß¶ÂèëÈ¢ëÁéáÊòØÈíàÂØπÊØè‰∏ÄË°åÊï∞ÊçÆËß¶Âèë‰∏ÄÊ¨°„ÄÇ&gt; tigger_eventËØ¶Ëß£Ôºö ‚ë†INSERTÂûãËß¶ÂèëÂô®ÔºöÊèíÂÖ•Êüê‰∏ÄË°åÊó∂ÊøÄÊ¥ªËß¶ÂèëÂô®ÔºåÂèØËÉΩÈÄöËøáINSERT„ÄÅLOAD DATA„ÄÅREPLACE ËØ≠Âè•Ëß¶Âèë(LOAD DATËØ≠Âè•Áî®‰∫éÂ∞Ü‰∏Ä‰∏™Êñá‰ª∂Ë£ÖÂÖ•Âà∞‰∏Ä‰∏™Êï∞ÊçÆË°®‰∏≠ÔºåÁõ∏ÂΩì‰∏é‰∏ÄÁ≥ªÂàóÁöÑINSERTÊìç‰Ωú)Ôºõ ‚ë°UPDATEÂûãËß¶ÂèëÂô®ÔºöÊõ¥ÊîπÊüê‰∏ÄË°åÊó∂ÊøÄÊ¥ªËß¶ÂèëÂô®ÔºåÂèØËÉΩÈÄöËøáUPDATEËØ≠Âè•Ëß¶ÂèëÔºõ ‚ë¢DELETEÂûãËß¶ÂèëÂô®ÔºöÂà†Èô§Êüê‰∏ÄË°åÊó∂ÊøÄÊ¥ªËß¶ÂèëÂô®ÔºåÂèØËÉΩÈÄöËøáDELETE„ÄÅREPLACEËØ≠Âè•Ëß¶Âèë„ÄÇ&gt; trigger_orderÊòØMySQL5.7‰πãÂêéÁöÑ‰∏Ä‰∏™ÂäüËÉΩÔºåÁî®‰∫éÂÆö‰πâÂ§ö‰∏™Ëß¶ÂèëÂô®Ôºå‰ΩøÁî®follows(Â∞æÈöè)Êàñprecedes(Âú®‚Ä¶‰πãÂÖà)Êù•ÈÄâÊã©Ëß¶ÂèëÂô®ÊâßË°åÁöÑÂÖàÂêéÈ°∫Â∫è„ÄÇ NEW‰∏éOLDËØ¶Ëß£ MySQL ‰∏≠ÂÆö‰πâ‰∫Ü NEW Âíå OLDÔºåÁî®Êù•Ë°®Á§∫Ëß¶ÂèëÂô®ÁöÑÊâÄÂú®Ë°®‰∏≠ÔºåËß¶Âèë‰∫ÜËß¶ÂèëÂô®ÁöÑÈÇ£‰∏ÄË°åÊï∞ÊçÆÔºåÊù•ÂºïÁî®Ëß¶ÂèëÂô®‰∏≠ÂèëÁîüÂèòÂåñÁöÑËÆ∞ÂΩïÂÜÖÂÆπÔºåÂÖ∑‰ΩìÂú∞Ôºö ‚ë†Âú®INSERTÂûãËß¶ÂèëÂô®‰∏≠ÔºåNEWÁî®Êù•Ë°®Á§∫Â∞ÜË¶ÅÔºàBEFOREÔºâÊàñÂ∑≤ÁªèÔºàAFTERÔºâÊèíÂÖ•ÁöÑÊñ∞Êï∞ÊçÆÔºõ ‚ë°Âú®UPDATEÂûãËß¶ÂèëÂô®‰∏≠ÔºåOLDÁî®Êù•Ë°®Á§∫Â∞ÜË¶ÅÊàñÂ∑≤ÁªèË¢´‰øÆÊîπÁöÑÂéüÊï∞ÊçÆÔºåNEWÁî®Êù•Ë°®Á§∫Â∞ÜË¶ÅÊàñÂ∑≤Áªè‰øÆÊîπ‰∏∫ÁöÑÊñ∞Êï∞ÊçÆÔºõ ‚ë¢Âú®DELETEÂûãËß¶ÂèëÂô®‰∏≠ÔºåOLDÁî®Êù•Ë°®Á§∫Â∞ÜË¶ÅÊàñÂ∑≤ÁªèË¢´Âà†Èô§ÁöÑÂéüÊï∞ÊçÆÔºõ Êü•ÁúãËß¶ÂèëÂô® 1select * from information_schema.triggers MySQL‰∏≠ÈÉΩÊúâÂì™‰∫õËß¶ÂèëÂô®Ôºü Linux‰∏ãRPMÁâàMYSQLÂÆâË£Ö„ÄÅÂêØÂÅú MySQLÂêØÂä®ÈóÆÈ¢ò„ÄÅÈÖçÁΩÆÊñá‰ª∂„ÄÅÁºñÁ†ÅÈóÆÈ¢ò MYSQLÂàÜÂ±Ç„ÄÅÂ≠òÂÇ®ÂºïÊìé ËøûÊé•Â±ÇÔºàÊèê‰æõ‰∏éÂÆ¢Êà∑Á´ØËøûÊé•ÁöÑÊúçÂä°Ôºâ ÊúçÂä°Â±ÇÔºàÊèê‰æõÂêÑÁßçÁî®Êà∑‰ΩøÁî®ÁöÑÊé•Âè£ÔºåÊèê‰æõSQL‰ºòÂåñÂô®„ÄêMySQL Query Optimizer„ÄëÔºâÔºâ ÂºïÊìéÂ±ÇÔºàÊèê‰æõÂêÑÁßçÂ≠òÂÇ®Êï∞ÊçÆÁöÑÊñπÂºè„ÄêInnoDBÔºö‰∫ãÁâ©‰ºòÂÖàÔºåÈÄÇÂêàÈ´òÂπ∂ÂèëÔºåË°åÈîÅÔºõMyISAMÔºöÊÄßËÉΩ‰ºòÂÖàÔºåË°®ÈîÅ„ÄëÔºâ show engines; ÊòæÁ§∫ÊîØÊåÅÂºïÊìé +--------------------+---------+----------------------------------------------------------------+--------------+------+------------+ | Engine | Support | Comment | Transactions | XA | Savepoints | +--------------------+---------+----------------------------------------------------------------+--------------+------+------------+ | MEMORY | YES | Hash based, stored in memory, useful for temporary tables | NO | NO | NO | | MRG_MYISAM | YES | Collection of identical MyISAM tables | NO | NO | NO | | CSV | YES | CSV storage engine | NO | NO | NO | | FEDERATED | NO | Federated MySQL storage engine | NULL | NULL | NULL | | PERFORMANCE_SCHEMA | YES | Performance Schema | NO | NO | NO | | MyISAM | YES | MyISAM storage engine | NO | NO | NO | | InnoDB | DEFAULT | Supports transactions, row-level locking, and foreign keys | YES | YES | YES | | BLACKHOLE | YES | /dev/null storage engine (anything you write to it disappears) | NO | NO | NO | | ARCHIVE | YES | Archive storage engine | NO | NO | NO | +--------------------+---------+----------------------------------------------------------------+--------------+------+------------+ show variables like ‚Äò%storage_engine%‚Äô; Êü•ÁúãÂΩìÂâç‰ΩøÁî®ÂºïÊìé 12345678-- ÊåáÂÆöÊï∞ÊçÆÂ∫ìÂºïÊìécreate table tb(‚Äã id int(4) auto_increment,‚Äã name varchar(5),‚Äã dept varchar(5),‚Äã primary key(id))ENGINE=MyISAM AUTO_INCREMENT=1DEFAULT CHARSET=utf-8 Â≠òÂÇ®Â±ÇÔºàÂ≠òÂÇ®Êï∞ÊçÆÔºâ SQLËß£ÊûêËøáÁ®ã„ÄÅÁ¥¢Âºï„ÄÅBÊ†ë sql‰ºòÂåñÔºö ÂéüÂõ†ÔºöÊÄßËÉΩ‰ΩéÔºåÊâßË°åÊàñÁ≠âÂæÖÊó∂Èó¥Â§™ÈïøÔºåSQLËØ≠Âè•Ê¨†‰Ω≥ÔºàËøûÊé•Êü•ËØ¢Ôºâ„ÄÅÁ¥¢ÂºïÂ§±Êïà„ÄÅÊúçÂä°Âô®ÂèÇÊï∞ËÆæÁΩÆ‰∏çÂØπ SQLÁºñÂÜôËøáÁ®ã‰∏éËß£ÊûêËøáÁ®ãÔºö ÁºñÂÜô:select dinstinct ..from ‚Ä¶join ..on ..where ..group by ..having ..order by ..limit Ëß£Êûê:form ..on ..join ..where ..group by ..having ..select dinstinct ..order by limit.. ‰ªéÂì™‰∫õË°®ÊûÑÊàêÁöÑÊÄªË°®‰∏≠ÔºåÈÄöËøáÂ≠óÊÆµÁ≠õÈÄâÂá∫Áõ∏Â∫îÊï∞ÊçÆÁÑ∂ÂêéÂàÜÁªÑ„ÄÅÊéíÂ∫è„ÄÅÈôêÂà∂Êï∞Èáè„ÄÇ Á¥¢Âºï ÁÆÄ‰ªã sql‰ºòÂåñ‰∏ªË¶ÅÊòØ‰ºòÂåñÁ¥¢ÂºïÔºåÁ¥¢ÂºïÔºàindexÔºâÁõ∏ÂΩì‰∫é‰π¶ÁöÑÁõÆÂΩï„ÄÇÁ¥¢ÂºïÊòØÊï∞ÊçÆÁªìÊûÑÔºàÈªòËÆ§BÊ†ë„ÄêÂ∞èÂ∑¶Â§ßÂè≥„ÄëÔºâ ‰ºòÁÇπ ÊèêÈ´òÊü•ËØ¢ÊïàÁéáÔºàÈôç‰ΩéIO„ÄÅCPU‰ΩøÁî®ÁéáÔºâ Áº∫ÁÇπ Á¥¢ÂºïÊú¨Ë∫´ÂæàÂ§ßÔºàÂèØ‰ª•Â≠òÊîæÂú®ÂÜÖÂ≠ò/Á°¨ÁõòÔºâ Á¥¢Âºï‰∏çÊòØÊâÄÊúâÊÉÖÂÜµÈÉΩÈÄÇÁî®ÔºöÂ∞ëÈáèÊï∞ÊçÆÔºåÈ¢ëÁπÅÊõ¥Êñ∞Â≠óÊÆµÔºåÂæàÂ∞ë‰ΩøÁî®ÁöÑÂ≠óÊÆµ Á¥¢Âºï‰ºöÈôç‰ΩéÂ¢ûÂà†ÊîπÊü•ÊïàÁéá ÂàÜÁ±ª ÂçïÂÄºÁ¥¢ÂºïÔºöÂçïÂ≠óÊÆµ ÂîØ‰∏ÄÁ¥¢ÂºïÔºö‰∏çËÉΩÈáçÂ§ç ‰∏ªÈîÆÁ¥¢ÂºïÔºö‰∏çËÉΩÈáçÂ§çÔºå‰∏çËÉΩ‰∏∫nullÔºå‰∏ªÈîÆÈªòËÆ§ÊòØ‰∏ªÈîÆÁ¥¢Âºï Â§çÂêàÁ¥¢ÂºïÔºöÁõ∏ÂΩì‰∫é‰∫åÁ∫ßÁõÆÂΩïÔºànameÔºåageÔºâ ÂàõÂª∫Á¥¢Âºï ÊñπÂºè‰∏Ä create Á¥¢ÂºïÁ±ªÂûã Á¥¢ÂºïÂêç on Ë°®ÔºàÂ≠óÊÆµÔºâ ÂçïÂÄºÁ¥¢ÂºïÔºöcreate index dept_index on tb(dept); ÂîØ‰∏ÄÁ¥¢ÂºïÔºöcreate unique index name-index on tb(name) Â§çÂêàÁ¥¢ÂºïÔºöcreate index dept_name_index on tb(dept,name); ÊñπÂºè‰∫å alter table Ë°®Âêç add Á¥¢ÂºïÁ±ªÂûã Á¥¢ÂºïÂêçÔºàÂ≠óÊÆµÔºâ ÂçïÂÄºÁ¥¢ÂºïÔºöalter table tb add index dept_index(dept); ÂîØ‰∏ÄÁ¥¢ÂºïÔºöalter table tb add unique index name-index(name) Â§çÂêàÁ¥¢ÂºïÔºöalter table tb add index dept_name_index(dept,name); Âà†Èô§Á¥¢Âºï drop index Á¥¢ÂºïÂêç on Ë°®Âêç Êü•ËØ¢Á¥¢Âºï show index from Ë°®Âêç\\G SQL‰ºòÂåñ ‰∏∫‰ªÄ‰πàË¶Å‰ºòÂåñ Êï∞ÊçÆÂ∫ìÁªìÊûÑ‰ºòÂåñ MySQLÊï∞ÊçÆÂ∫ìcpuÈ£ôÂçáÂà∞500%ÁöÑËØùÊÄé‰πàÂ§ÑÁêÜÔºü Â§ßË°®ÊÄé‰πà‰ºòÂåñÔºüÊüê‰∏™Ë°®ÊúâËøëÂçÉ‰∏áÊï∞ÊçÆÔºåCRUDÊØîËæÉÊÖ¢ÔºåÂ¶Ç‰Ωï‰ºòÂåñÔºüÂàÜÂ∫ìÂàÜË°®‰∫ÜÊòØÊÄé‰πàÂÅöÁöÑÔºüÂàÜË°®ÂàÜÂ∫ì‰∫ÜÊúâ‰ªÄ‰πàÈóÆÈ¢òÔºüÊúâÁî®Âà∞‰∏≠Èó¥‰ª∂‰πàÔºü‰ªñ‰ª¨ÁöÑÂéüÁêÜÁü•ÈÅì‰πàÔºü ÂûÇÁõ¥ÂàÜË°® ÈÄÇÁî®Âú∫ÊôØ Áº∫ÁÇπ Ê∞¥Âπ≥ÂàÜË°®Ôºö ÈÄÇÁî®Âú∫ÊôØ Ê∞¥Âπ≥ÂàáÂàÜÁöÑÁº∫ÁÇπ MySQLÁöÑÂ§çÂà∂ÂéüÁêÜ‰ª•ÂèäÊµÅÁ®ã ËØªÂÜôÂàÜÁ¶ªÊúâÂì™‰∫õËß£ÂÜ≥ÊñπÊ°àÔºü Â§á‰ªΩËÆ°ÂàíÔºåmysqldump‰ª•ÂèäxtranbackupÁöÑÂÆûÁé∞ÂéüÁêÜ Êï∞ÊçÆË°®ÊçüÂùèÁöÑ‰øÆÂ§çÊñπÂºèÊúâÂì™‰∫õÔºü Â¶Ç‰ΩïÂÆö‰ΩçÂèä‰ºòÂåñSQLËØ≠Âè•ÁöÑÊÄßËÉΩÈóÆÈ¢òÔºüÂàõÂª∫ÁöÑÁ¥¢ÂºïÊúâÊ≤°ÊúâË¢´‰ΩøÁî®Âà∞?ÊàñËÄÖËØ¥ÊÄé‰πàÊâçÂèØ‰ª•Áü•ÈÅìËøôÊù°ËØ≠Âè•ËøêË°åÂæàÊÖ¢ÁöÑÂéüÂõ†Ôºü SQLÁöÑÁîüÂëΩÂë®ÊúüÔºü Â§ßË°®Êï∞ÊçÆÊü•ËØ¢ÔºåÊÄé‰πà‰ºòÂåñ Ë∂ÖÂ§ßÂàÜÈ°µÊÄé‰πàÂ§ÑÁêÜÔºü mysql ÂàÜÈ°µ ÊÖ¢Êü•ËØ¢Êó•Âøó ÂÖ≥ÂøÉËøá‰∏öÂä°Á≥ªÁªüÈáåÈù¢ÁöÑsqlËÄóÊó∂ÂêóÔºüÁªüËÆ°ËøáÊÖ¢Êü•ËØ¢ÂêóÔºüÂØπÊÖ¢Êü•ËØ¢ÈÉΩÊÄé‰πà‰ºòÂåñËøáÔºü ‰∏∫‰ªÄ‰πàË¶ÅÂ∞ΩÈáèËÆæÂÆö‰∏Ä‰∏™‰∏ªÈîÆÔºü ‰∏ªÈîÆ‰ΩøÁî®Ëá™Â¢ûIDËøòÊòØUUIDÔºüÂêÑËá™‰ºòÁº∫ÁÇπÔºü Â≠óÊÆµ‰∏∫‰ªÄ‰πàË¶ÅÊ±ÇÂÆö‰πâ‰∏∫not nullÔºü Â¶ÇÊûúË¶ÅÂ≠òÂÇ®Áî®Êà∑ÁöÑÂØÜÁ†ÅÊï£ÂàóÔºåÂ∫îËØ•‰ΩøÁî®‰ªÄ‰πàÂ≠óÊÆµËøõË°åÂ≠òÂÇ®Ôºü ‰ºòÂåñÊü•ËØ¢ËøáÁ®ã‰∏≠ÁöÑÊï∞ÊçÆËÆøÈóÆ ‰ºòÂåñÈïøÈöæÁöÑÊü•ËØ¢ËØ≠Âè• ‰ºòÂåñÁâπÂÆöÁ±ªÂûãÁöÑÊü•ËØ¢ËØ≠Âè• ‰ºòÂåñÂÖ≥ËÅîÊü•ËØ¢ ‰ºòÂåñÂ≠êÊü•ËØ¢ ‰ºòÂåñLIMITÂàÜÈ°µ ‰ºòÂåñUNIONÊü•ËØ¢ ‰ºòÂåñWHEREÂ≠êÂè• SQL‰ºòÂåñÂáÜÂ§á ÂàÜÊûêSQLÁöÑÊâßË°åËÆ°ÂàíÔºöexplain+sqlËØ≠Âè•ÔºåÊ®°Êãüsql‰ºòÂåñÂô®ÊâßË°åsqlËØ≠Âè•Ôºå‰ªéËÄåËÆ©ÂºÄÂèë‰∫∫ÂëòÁü•ÈÅìËá™Â∑±SQLËØ≠Âè•ÊÉÖÂÜµ id select_type table partitions type possible_keys key key_len ref rows filtered Extra 1 SIMPLE user const PRIMARY PRIMARY 152 const 1 100.00 id ÁºñÂè∑ Â≠êÊü•ËØ¢id‰∏çÂêåÔºåÂÖ≥ËÅîÊü•ËØ¢Áõ∏Âêå **select_type ** Êü•ËØ¢Á±ªÂûã **table ** Êü•ËØ¢Ë°® idÁõ∏ÂêåÊï∞ÊçÆÈáèË∂äÂ∞ëË∂ä‰ºòÂÖàÊü•ËØ¢Ôºåid‰∏çÈÄöidË∂äÂ§ßË∂ä‰ºòÂÖà partitions **type ** Á±ªÂûã **possible_keys ** È¢ÑÊµãÁî®Âà∞ÁöÑÁ¥¢Âºï **key ** ÂÆûÈôÖÁî®Âà∞ÁöÑÁ¥¢Âºï **key_len ** ÂÆûÈôÖ‰ΩøÁî®Á¥¢ÂºïÁöÑÈïøÂ∫¶ **ref ** Ë°®‰πãÈó¥ÁöÑÂºïÁî® **rows ** ÈÄöËøáÁ¥¢ÂºïÊü•ËØ¢Âà∞ÁöÑÊï∞ÊçÆÈáè filtered **Extra ** È¢ùÂ§ñÁöÑ‰ø°ÊÅØ id„ÄÅtable ÂÖàÊü•ÂÜÖÂ±ÇÔºåÂÜçÊü•Â§ñÂ±Ç„ÄÇÂ≠êÊü•ËØ¢id‰∏çÂêåÔºåÂÖ≥ËÅîÊü•ËØ¢idÁõ∏Âêå„ÄÇ idÁõ∏ÂêåÊï∞ÊçÆÈáèË∂äÂ∞ëË∂ä‰ºòÂÖàÊü•ËØ¢Ôºåid‰∏çÂêåidË∂äÂ§ßË∂ä‰ºòÂÖà explain SELECT * from teacher where tid=(select tid from course where cid='2') or tcid=(select tcid from teachercard where tcid='3') explain select t.* from teacher t,course c,teacherCard tc where t.tid=c.tid and t.tcid=tc.tcid and (c.cid='2' or tc.tcid='3') select_typeÔºàÊü•ËØ¢Á±ªÂûãÔºâ PRIMARYÔºöÂåÖÂê´Â≠êÊü•ËØ¢SQL‰∏≠ÁöÑ ‰∏ªÊü•ËØ¢ÔºàÊúÄÂ§ñÂ±ÇÔºâ SUBQUERYÔºöÂåÖÂê´Â≠êÊü•ËØ¢SQL‰∏≠ÁöÑÂ≠êÊü•ËØ¢ÔºàÈùûÊúÄÂ§ñÂ±ÇÔºâ SIMPLEÔºöÁÆÄÂçïÊü•ËØ¢Ôºà‰∏çÂåÖÂê´Â≠êÊü•ËØ¢„ÄÅunionÔºâ unionÔºö derivedÔºöË°çÁîüÊü•ËØ¢Ôºà‰ΩøÁî®Âà∞‰∫Ü‰∏¥Êó∂Ë°®Ôºâ Âú®formÂ≠êÊü•ËØ¢‰∏≠Âè™Êúâ‰∏ÄÂº†Ë°® explain select cr.cname from (select * from course where tid in (1,2)) cr; formÂ≠êÊü•ËØ¢‰∏≠ÔºåÂ¶ÇÊûúÊúâtable1 union table2ÔºåÂàôtable1 Â∞±ÊòØÁöÑriverd explain select cr.cname from (select * from course where tid =1 union select * from course where tid =2) cr; typeÔºàÁ¥¢ÂºïÁ±ªÂûãÔºâ system &gt; const &gt; eq_ref &gt; ref &gt; range &gt; index &gt; all ÂØπTYPE‰ºòÂåñÂâçÊèêÔºöÊúâÁ¥¢Âºï systemÔºåconstÁü•ËØÜÁêÜÊÉ≥ÊÉÖÂÜµÔºåÂÆûÈôÖËÉΩËææÂà∞ ref &gt;range systemÔºàÂøΩÁï•ÔºâÔºöÂè™Êúâ‰∏ÄÊù°Êï∞ÊçÆÁöÑÁ≥ªÁªüË°®ÔºõÊàñË°çÁîüË°®Âè™Êúâ‰∏ÄÊù°Êï∞ÊçÆÁöÑ‰∏ªÊü•ËØ¢ constÔºö‰ªÖ‰ªÖËÉΩÊü•Âà∞‰∏ÄÊù°Êï∞ÊçÆÁöÑSQLÔºåÁî®‰∫éPrimayr key ÊàñuniqueÁ¥¢ÂºïÔºàÁ±ªÂûã‰∏éÁ¥¢ÂºïÁ±ªÂûãÊúâÂÖ≥Ôºâ eq_refÔºöÂîØ‰∏ÄÊÄßÁ¥¢ÂºïÔºöÂØπ‰∫éÊØè‰∏™Á¥¢ÂºïÂª∫ÁöÑÊü•ËØ¢ÔºåËøîÂõûÂåπÈÖçÂîØ‰∏ÄË°åÊï∞ÊçÆÔºàÊúâ‰∏îÂè™Êúâ1‰∏™Ôºå‰∏çËÉΩÂ§ö„ÄÅ‰∏çËÉΩ0Ôºâ select ¬∑¬∑ from ¬∑¬∑where name=¬∑¬∑¬∑Â∏∏ËßÅÂîØ‰∏ÄÁ¥¢ÂºïÂíå‰∏ªÈîÆÁ¥¢Âºï refÔºöÈùûÂîØ‰∏ÄÊÄßÁ¥¢ÂºïÔºåÂØπ‰∫éÊØè‰∏™Á¥¢ÂºïÂª∫ÁöÑÊü•ËØ¢ÔºåËøîÂõûÂåπÈÖçÁöÑÊâÄÊúâË°åÔºà0ÔºåÂ§öÔºâ rangeÔºöÊ£ÄÁ¥¢ÊåáÂÆöËåÉÂõ¥ÁöÑË°åÔºåwhereÂêéÈù¢ÊòØ‰∏Ä‰∏™ËåÉÂõ¥Êü•ËØ¢ÔºàbetweenÔºåinÔºå&gt; &lt; &gt;=ÔºåinÊúâÊó∂ÂÄô‰ºöÂ§±ÊïàÔºå‰ªéËÄåËΩ¨‰∏∫allÔºâ indexÔºöÊü•ËØ¢ÂÖ®ÈÉ®Á¥¢Âºï‰∏≠ÁöÑÊï∞ÊçÆÔºåÂè™ÈúÄË¶ÅÊâ´ÊèèÁ¥¢ÂºïË°®Ôºå‰∏çÈúÄË¶ÅÊâÄÊúâË°®‰∏≠ÁöÑÊâÄÊúâÊï∞ÊçÆ allÔºöÊü•ËØ¢ÂÖ®ÈÉ®Ë°®‰∏≠ÁöÑÊï∞ÊçÆÔºåÈúÄË¶ÅÂÖ®Ë°®ÊâÄÊúâÔºåÂç≥ÈúÄË¶ÅÊâÄÊúâË°®‰∏≠ÁöÑÊâÄÊúâÊï∞ÊçÆ possible_keys ÂèØËÉΩÁî®Âà∞ÁöÑÁ¥¢ÂºïÔºåÊòØ‰∏ÄÁßçÈ¢ÑÊµãÔºå‰∏çÂáÜ key ÂÆûÈôÖÁî®Âà∞ÁöÑÁ¥¢Âºï key_lenÔºö Á¥¢ÂºïÈïøÂ∫¶ÔºåÁî®‰∫éÂà§Êñ≠Â§çÂêàÁ¥¢ÂºïÊòØÂê¶ÂÆåÂÖ®‰ΩøÁî®ÔºåÂ¶ÇÊûúÁ¥¢ÂºïÂ≠óÊÆµÂèØ‰∏∫nullÔºåÂàô‰ºö‰ΩøÁî®1‰∏™Â≠óËäÇÁî®‰∫éÊ†áËØÜÔºåÁ¥¢ÂºïÂ≠óÊÆµ‰∏∫ÂèØÂèòÈïøÂ∫¶ÔºåÂàô‰ºö‰ΩøÁî®2‰∏™Â≠óËäÇ ref Ê≥®ÊÑè‰∏étypeÂÄº‰∏≠ÁöÑrefÂÄºÂå∫ÂàÜ ‰ΩúÁî®ÔºöÊåáÊòéÂΩìÂâçË°®ÊâÄÂèÇÁÖßÁöÑÂ≠óÊÆµ select „ÄÇ„ÄÇ„ÄÇ where a.c=b.x ÔºàÔºâ rows Ë¢´Á¥¢Âºï‰ºòÂåñÊü•ËØ¢ÁöÑÊï∞ÊçÆ‰∏™Êï∞ÔºàÂÆûÈôÖÈÄöËøáÁ¥¢ÂºïËÄåÊü•ËØ¢Âà∞ÁöÑÊï∞ÊçÆ‰∏™Êï∞Ôºâ extra using filesortÔºöÊÄßËÉΩÊ∂àËÄóÂ§ß,ÈúÄË¶ÅÈ¢ùÂ§ñÁöÑ‰∏ÄÊ¨°ÊéíÂ∫èÔºàÊü•ËØ¢Ôºâ ÂçïÁ¥¢ÂºïÔºöÂ¶ÇÊûúÊéíÂ∫èÂíåÊü•ÊâæÊòØÂêå‰∏Ä‰∏™Â≠óÊÆµÔºåÂàô‰∏ç‰ºöÂá∫Áé∞using filesort ÔºõÂ¶ÇÊûúÊéíÂ∫èÂíåÊü•Êâæ‰∏çÊòØÂêå‰∏Ä‰∏™Â≠óÊÆµÔºåÂàô‰ºöÂá∫Áé∞„ÄÇ ÈÅøÂÖçÔºöwhereÂì™‰∫õÂ≠óÊÆµÂ∞±order byÂì™‰∫õÂ≠óÊÆµ Â§çÂêàÁ¥¢ÂºïÔºö‰∏çËÉΩË∑®ÂàóÔºàÊúÄ‰Ω≥Â∑¶ÂâçÁºÄÔºâ ÈÅøÂÖçÔºöwhereÂíåorder by ÊåâÁÖßÂ§çÂêàÁ¥¢ÂºïÁöÑÈ°∫Â∫èÈÄÇÂ∫îÔºå‰∏çË¶ÅË∑®ÂàóÊàñÊó†Â∫è‰ΩøÁî® using temporaryÔºöÊÄßËÉΩÊçüËÄóËæÉÂ§ßÔºåÁî®Âà∞‰∫Ü‰∏¥Êó∂Ë°®„ÄÇ‰∏ÄËà¨Âá∫Áé∞Âú® group by ËØ≠Âè•‰∏≠Ôºõ explain select a1 from test02 where a1 in(‚Äò1‚Äô,‚Äô2‚Äô,‚Äô3‚Äô) group by a1; explain select a1 from test02 where a1 in(‚Äò1‚Äô,‚Äô2‚Äô,‚Äô3‚Äô) group by a2; ‚Äî‚Äìusing tempporary ÈÅøÂÖçÔºöÊü•ËØ¢Âì™‰∫õÂàóÔºåÂ∞±Ê†πÊçÆÂì™‰∫õÂàógroup by using temporaryÔºöÊÄßËÉΩÊèêÂçáÔºåÁ¥¢ÂºïË¶ÜÁõñÔºåÂéüÂõ†Ôºö‰∏çËØªÂèñÊ∫êÊñá‰ª∂ÔºåÂè™‰ªéÁ¥¢Âºï‰∏≠Ëé∑ÂèñÊï∞ÊçÆÔºå‰ΩøÁî®Âà∞ÁöÑÂàóÂÖ®ÈÉ®ÈÉΩÂú®Á¥¢Âºï‰∏≠ using whereÔºöÈúÄË¶ÅÂõûÂéüË°®Êü•ËØ¢ impossible whereÔºöwhereÂ≠êÂè•Ê∞∏Ëøú‰∏∫false ‰ºòÂåñÁ§∫‰æã create table test03 (a1 int(4) not null, a2 int(4) not null, a3 int(4) not null, a4 int(4) not null ) alter table test03 add index idx_a1_a2_a3_a4(a1,a2,a3,a4); explain select a1,a2,a3,a4 from test03 where a1=1 and a2=2 and a3=3 and a4=4;‚Äî-Êé®ËçêÂÜôÊ≥ï explain select a1,a2,a3,a4 from test03 where a4=1 and a2=2 and a1=3 and a4=4;‚Äî-ËôΩÁÑ∂ÁºñÂÜôÂêéÁöÑÈ°∫Â∫èÂíåÁ¥¢ÂºïÈ°∫Â∫è‰∏ç‰∏ÄËá¥Ôºå‰ΩÜÊòØsqlÊâßË°åÂâçÁªèËøá‰∫Üsql‰ºòÂåñÂô®ÁöÑË∞ÉÊï¥ÔºåÁªìÊûú‰∏é‰∏äÊù°sqlÊòØ‰∏ÄËá¥ÁöÑ„ÄÇ ‚Äî‚Äì‰ª•‰∏ä‰∏§‰∏™sql‰ΩøÁî®‰∫ÜÂÖ®ÈÉ®ÁöÑÁ¥¢Âºï explain select a1,a2,a3,a4 from test03 where a4=1 and a2=2 and a4=4 order by and a1; ‚Äî-‰ª•‰∏äSQLÁî®Âà∞‰∫Üa1 a2‰∏§‰∏™Á¥¢ÂºïÔºåËØ•‰∏§‰∏™Â≠óÊÆµ ‰∏çÈúÄË¶ÅÂõûË°®Êü•ËØ¢using index Ôºõa4Ë∑®Âàó‰ΩøÁî®ÈÄ†Êàê‰∫ÜËØ•Á¥¢ÂºïÂ§±ÊïàÔºåÊâÄ‰ª•ÈúÄË¶ÅÂõûË°®Êü•ËØ¢ÔºåÂõ†Ê≠§ÊòØusing where Ôºå‰ª•‰∏äÂèØ‰ª•ÈÄöËøákey_lenÈ™åËØÅ explain select a1,a2,a3,a4 from test03 where a4=1 and a4=4 order by and a3; ‚Äî-‰ª•‰∏äSQLÂá∫Áé∞‰∫Üusing filesortÔºàÊñá‰ª∂ÂÜÖÊéíÂ∫èÔºå‚ÄùÂ§ö‰∫Ü‰∏ÄÊ¨°È¢ùÂ§ñÁöÑÊü•Êâæ/ÊéíÂ∫è‚ÄúÔºâ‰∏çË¶ÅË∑®Âàó‰ΩøÁî®Ôºàwhere Âíåorder byÊãºÊé•Ëµ∑Êù•‰ΩøÁî®Ôºâ explain select a1,a2,a3,a4 from test03 where a4=1 and a4=4 order by and a2,a3; ===ËøôÊ†∑‰æø‰∏ç‰ºöÂá∫Áé∞ using filesortÔºåÂ¶ÇÊûúÂ§çÂêàÁ¥¢ÂºïÂíå‰ΩøÁî®È°∫Â∫èÂÖ®ÈÉ®‰∏ÄËá¥ÔºåÂàôÂ§çÂêàÁ¥¢ÂºïÂÖ®ÈÉ®‰ΩøÁî®ÔºåÈÉ®ÂàÜ‰∏ÄËá¥Âàô‰ΩøÁî®ÈÉ®ÂàÜÁ¥¢Âºï„ÄÇ ÂçïË°®‰ºòÂåñÂèäÊÄªÁªì Ôºà1ÔºâÂçïË°®‰ºòÂåñ create table book ( bid int(4) primary key, name varchar(20) not null, authorid int(4) not null, publicid int(4) not null, typeid int(4) not null ); insert into book values(1,'tjava',1,1,2) ; insert into book values(2,'tc',2,1,2) ; insert into book values(3,'wx',3,2,1) ; insert into book values(4,'math',4,2,3) ; commit; Êü•ËØ¢authorid=1‰∏î typeid‰∏∫2Êàñ3ÁöÑ bid explain select bid from book where typeid in(2,3) and authorid=1 order by typeid desc ; (a,b,c) (a,b) ‰ºòÂåñÔºöÂä†Á¥¢Âºï alter table book add index idx_bta (bid,typeid,authorid); Á¥¢Âºï‰∏ÄÊó¶ËøõË°å ÂçáÁ∫ß‰ºòÂåñÔºåÈúÄË¶ÅÂ∞Ü‰πãÂâçÂ∫üÂºÉÁöÑÁ¥¢ÂºïÂà†ÊéâÔºåÈò≤Ê≠¢Âπ≤Êâ∞„ÄÇ drop index idx_bta on book; Ê†πÊçÆSQLÂÆûÈôÖËß£ÊûêÁöÑÈ°∫Â∫èÔºåË∞ÉÊï¥Á¥¢ÂºïÁöÑÈ°∫Â∫èÔºö alter table book add index idx_tab (typeid,authorid,bid); --ËôΩÁÑ∂ÂèØ‰ª•ÂõûË°®Êü•ËØ¢bidÔºå‰ΩÜÊòØÂ∞ÜbidÊîæÂà∞Á¥¢Âºï‰∏≠ ÂèØ‰ª•ÊèêÂçá‰ΩøÁî®using index ; ÂÜçÊ¨°‰ºòÂåñÔºà‰πãÂâçÊòØindexÁ∫ßÂà´ÔºâÔºöÊÄùË∑Ø„ÄÇÂõ†‰∏∫ËåÉÂõ¥Êü•ËØ¢inÊúâÊó∂‰ºöÂÆûÁé∞ÔºåÂõ†Ê≠§‰∫§Êç¢ Á¥¢ÂºïÁöÑÈ°∫Â∫èÔºåÂ∞Ütypeid in(2,3) ÊîæÂà∞ÊúÄÂêé„ÄÇ drop index idx_tab on book; alter table book add index idx_atb (authorid,typeid,bid); explain select bid from book where authorid=1 and typeid in(2,3) order by typeid desc ; ‚Äã ‚Äã --Â∞èÁªìÔºö a.ÊúÄ‰Ω≥ÂÅöÂâçÁºÄÔºå‰øùÊåÅÁ¥¢ÂºïÁöÑÂÆö‰πâÂíå‰ΩøÁî®ÁöÑÈ°∫Â∫è‰∏ÄËá¥ÊÄß b.Á¥¢ÂºïÈúÄË¶ÅÈÄêÊ≠•‰ºòÂåñ c.Â∞ÜÂê´InÁöÑËåÉÂõ¥Êü•ËØ¢ ÊîæÂà∞whereÊù°‰ª∂ÁöÑÊúÄÂêéÔºåÈò≤Ê≠¢Â§±Êïà„ÄÇ ‚Äã ‚Äã Êú¨‰æã‰∏≠ÂêåÊó∂Âá∫Áé∞‰∫ÜUsing whereÔºàÈúÄË¶ÅÂõûÂéüË°®Ôºâ; Using indexÔºà‰∏çÈúÄË¶ÅÂõûÂéüË°®ÔºâÔºöÂéüÂõ†Ôºåwhere authorid=1 and typeid in(2,3)‰∏≠authoridÂú®Á¥¢Âºï(authorid,typeid,bid)‰∏≠ÔºåÂõ†Ê≠§‰∏çÈúÄË¶ÅÂõûÂéüË°®ÔºàÁõ¥Êé•Âú®Á¥¢ÂºïË°®‰∏≠ËÉΩÊü•Âà∞ÔºâÔºõËÄåtypeidËôΩÁÑ∂‰πüÂú®Á¥¢Âºï(authorid,typeid,bid)‰∏≠Ôºå‰ΩÜÊòØÂê´inÁöÑËåÉÂõ¥Êü•ËØ¢Â∑≤Áªè‰ΩøËØ•typeidÁ¥¢ÂºïÂ§±ÊïàÔºåÂõ†Ê≠§Áõ∏ÂΩì‰∫éÊ≤°ÊúâtypeidËøô‰∏™Á¥¢ÂºïÔºåÊâÄ‰ª•ÈúÄË¶ÅÂõûÂéüË°®Ôºàusing whereÔºâÔºõ ‚Äã ‰æãÂ¶Ç‰ª•‰∏ãÊ≤°Êúâ‰∫ÜInÔºåÂàô‰∏ç‰ºöÂá∫Áé∞using where ‚Äã explain select bid from book where authorid=1 and typeid =3 order by typeid desc ; ‚Äã ‚Äã ËøòÂèØ‰ª•ÈÄöËøákey_lenËØÅÊòéInÂèØ‰ª•‰ΩøÁ¥¢ÂºïÂ§±Êïà„ÄÇ ‚Äã Ôºà2Ôºâ‰∏§Ë°®‰ºòÂåñ create table teacher2 ( tid int(4) primary key, cid int(4) not null ); insert into teacher2 values(1,2); insert into teacher2 values(2,1); insert into teacher2 values(3,3); create table course2 ( cid int(4) , cname varchar(20) ); insert into course2 values(1,'java'); insert into course2 values(2,'python'); insert into course2 values(3,'kotlin'); commit; Â∑¶ËøûÊé•Ôºö explain select *from teacher2 t left outer join course2 c on t.cid=c.cid where c.cname='java'; Á¥¢ÂºïÂæÄÂì™Âº†Ë°®Âä†Ôºü -Â∞èË°®È©±Âä®Â§ßË°® -Á¥¢ÂºïÂª∫Á´ãÁªèÂ∏∏‰ΩøÁî®ÁöÑÂ≠óÊÆµ‰∏ä ÔºàÊú¨È¢ò t.cid=c.cidÂèØÁü•Ôºåt.cidÂ≠óÊÆµ‰ΩøÁî®È¢ëÁπÅÔºåÂõ†Ê≠§ÁªôËØ•Â≠óÊÆµÂä†Á¥¢ÂºïÔºâ [‰∏ÄËà¨ÊÉÖÂÜµÂØπ‰∫éÂ∑¶Â§ñËøûÊé•ÔºåÁªôÂ∑¶Ë°®Âä†Á¥¢ÂºïÔºõÂè≥Â§ñËøûÊé•ÔºåÁªôÂè≥Ë°®Âä†Á¥¢Âºï] Â∞èË°®Ôºö10 Â§ßË°®Ôºö300 where Â∞èË°®.x 10 = Â§ßË°®.y 300; --Âæ™ÁéØ‰∫ÜÂá†Ê¨°Ôºü10 Â§ßË°®.y 300=Â∞èË°®.x 10 --Âæ™ÁéØ‰∫Ü300Ê¨° Â∞èË°®:10 Â§ßË°®:300 select ...where Â∞èË°®.x10=Â§ßË°®.x300 ; for(int i=0;i&lt;Â∞èË°®.length10;i++) { for(int j=0;j&lt;Â§ßË°®.length300;j++) { ... } } select ...where Â§ßË°®.x300=Â∞èË°®.x10 ; for(int i=0;i&lt;Â§ßË°®.length300;i++) { for(int j=0;j&lt;Â∞èË°®.length10;j++) { ... } } --‰ª•‰∏ä2‰∏™FORÂæ™ÁéØÔºåÊúÄÁªàÈÉΩ‰ºöÂæ™ÁéØ3000Ê¨°Ôºõ‰ΩÜÊòØ ÂØπ‰∫éÂèåÂ±ÇÂæ™ÁéØÊù•ËØ¥Ôºö‰∏ÄËà¨Âª∫ËÆÆ Â∞ÜÊï∞ÊçÆÂ∞èÁöÑÂæ™ÁéØ ÊîæÂ§ñÂ±ÇÔºõÊï∞ÊçÆÂ§ßÁöÑÂæ™ÁéØÊîæÂÜÖÂ≠ò„ÄÇ --ÂΩìÁºñÂÜô ..on t.cid=c.cid Êó∂ÔºåÂ∞ÜÊï∞ÊçÆÈáèÂ∞èÁöÑË°® ÊîæÂ∑¶ËæπÔºàÂÅáËÆæÊ≠§Êó∂tË°®Êï∞ÊçÆÈáèÂ∞èÔºâ alter table teacher2 add index index_teacher2_cid(cid) ; alter table course2 add index index_course2_cname(cname); Using join buffer:extra‰∏≠ÁöÑ‰∏Ä‰∏™ÈÄâÈ°πÔºå‰ΩúÁî®ÔºöMysqlÂºïÊìé‰ΩøÁî®‰∫Ü ËøûÊé•ÁºìÂ≠ò„ÄÇ Ôºà3Ôºâ‰∏âÂº†Ë°®‰ºòÂåñ ‚Äã a.Â∞èË°®È©±Âä®Â§ßË°® b.Á¥¢ÂºïÂª∫Á´ãÂú®ÁªèÂ∏∏Êü•ËØ¢ÁöÑÂ≠óÊÆµ‰∏ä Á§∫‰æãÔºö create table test03 ( a1 int(4) not null, a2 int(4) not null, a3 int(4) not null, a4 int(4) not null ); alter table test03 add index idx_a1_a2_a3_4(a1,a2,a3,a4) ; 12345678910explain select a1,a2,a3,a4 from test03 where a1=1 and a2=2 and a3=3 and a4 =4 ; --Êé®ËçêÂÜôÊ≥ïÔºåÂõ†‰∏∫ Á¥¢ÂºïÁöÑ‰ΩøÁî®È°∫Â∫èÔºàwhereÂêéÈù¢ÁöÑÈ°∫Â∫èÔºâ Âíå Â§çÂêàÁ¥¢ÂºïÁöÑÈ°∫Â∫è‰∏ÄËá¥explain select a1,a2,a3,a4 from test03 where a4=1 and a3=2 and a2=3 and a1 =4 ; --ËôΩÁÑ∂ÁºñÂÜôÁöÑÈ°∫Â∫è ÂíåÁ¥¢ÂºïÈ°∫Â∫è‰∏ç‰∏ÄËá¥Ôºå‰ΩÜÊòØ sqlÂú®ÁúüÊ≠£ÊâßË°åÂâç ÁªèËøá‰∫ÜSQL‰ºòÂåñÂô®ÁöÑË∞ÉÊï¥ÔºåÁªìÊûú‰∏é‰∏äÊù°SQLÊòØ‰∏ÄËá¥ÁöÑ„ÄÇ--‰ª•‰∏ä 2‰∏™SQLÔºå‰ΩøÁî®‰∫Ü ÂÖ®ÈÉ®ÁöÑÂ§çÂêàÁ¥¢Âºïexplain select a1,a2,a3,a4 from test03 where a1=1 and a2=2 and a4=4 order by a3; --‰ª•‰∏äSQLÁî®Âà∞‰∫Üa1 a2‰∏§‰∏™Á¥¢ÂºïÔºåËØ•‰∏§‰∏™Â≠óÊÆµ ‰∏çÈúÄË¶ÅÂõûË°®Êü•ËØ¢using index ;ËÄåa4Âõ†‰∏∫Ë∑®Âàó‰ΩøÁî®ÔºåÈÄ†Êàê‰∫ÜËØ•Á¥¢ÂºïÂ§±ÊïàÔºåÈúÄË¶ÅÂõûË°®Êü•ËØ¢ Âõ†Ê≠§ÊòØusing whereÔºõ‰ª•‰∏äÂèØ‰ª•ÈÄöËøá key_lenËøõË°åÈ™åËØÅexplain select a1,a2,a3,a4 from test03 where a1=1 and a4=4 order by a3; --‰ª•‰∏äSQLÂá∫Áé∞‰∫Ü using filesort(Êñá‰ª∂ÂÜÖÊéíÂ∫èÔºå‚ÄúÂ§ö‰∫Ü‰∏ÄÊ¨°È¢ùÂ§ñÁöÑÊü•Êâæ/ÊéíÂ∫è‚Äù) Ôºö‰∏çË¶ÅË∑®Âàó‰ΩøÁî®( whereÂíåorder by ÊãºËµ∑Êù•Ôºå‰∏çË¶ÅË∑®Âàó‰ΩøÁî®) 1explain select a1,a2,a3,a4 from test03 where a1=1 and a4=4 order by a2 , a3; --‰∏ç‰ºöusing filesort 123--ÊÄªÁªìÔºöi.Â¶ÇÊûú (a,b,c,d)Â§çÂêàÁ¥¢Âºï Âíå‰ΩøÁî®ÁöÑÈ°∫Â∫èÂÖ®ÈÉ®‰∏ÄËá¥(‰∏î‰∏çË∑®Âàó‰ΩøÁî®)ÔºåÂàôÂ§çÂêàÁ¥¢ÂºïÂÖ®ÈÉ®‰ΩøÁî®„ÄÇÂ¶ÇÊûúÈÉ®ÂàÜ‰∏ÄËá¥(‰∏î‰∏çË∑®Âàó‰ΩøÁî®)ÔºåÂàô‰ΩøÁî®ÈÉ®ÂàÜÁ¥¢Âºï„ÄÇselect a,c where a = and b= and d= ii.whereÂíåorder by ÊãºËµ∑Êù•Ôºå‰∏çË¶ÅË∑®Âàó‰ΩøÁî® 1using temporary:ÈúÄË¶ÅÈ¢ùÂ§ñÂÜçÂ§ö‰ΩøÁî®‰∏ÄÂº†Ë°®. ‰∏ÄËà¨Âá∫Áé∞Âú®group byËØ≠Âè•‰∏≠ÔºõÂ∑≤ÁªèÊúâË°®‰∫ÜÔºå‰ΩÜ‰∏çÈÄÇÁî®ÔºåÂøÖÈ°ªÂÜçÊù•‰∏ÄÂº†Ë°®„ÄÇ Ëß£ÊûêËøáÁ®ãÔºö from .. on.. join ..where ..group by ....having ...select dinstinct ..order by limit ... a. explain select * from test03 where a2=2 and a4=4 group by a2,a4 ;--Ê≤°Êúâusing temporary b. explain select * from test03 where a2=2 and a4=4 group by a3 ; Á¥¢ÂºïÂ§±Êïà‰∏ÉÁßçÊÉÖÂÜµ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859#Ôºà1ÔºâÂ§çÂêàÁ¥¢Âºï# a.Â§çÂêàÁ¥¢ÂºïÔºå‰∏çË¶ÅË∑®ÂàóÊàñÊó†Â∫è‰ΩøÁî®ÔºàÊúÄ‰Ω≥Â∑¶ÂâçÁºÄÔºâ# (a,b,c) # b.Â§çÂêàÁ¥¢ÂºïÔºåÂ∞ΩÈáè‰ΩøÁî®ÂÖ®Á¥¢ÂºïÂåπÈÖç# (a,b,c) #Ôºà2Ôºâ‰∏çË¶ÅÂú®Á¥¢Âºï‰∏äËøõË°å‰ªª‰ΩïÊìç‰ΩúÔºàËÆ°ÁÆó„ÄÅÂáΩÊï∞„ÄÅÁ±ªÂûãËΩ¨Êç¢ÔºâÔºåÂê¶ÂàôÁ¥¢ÂºïÂ§±Êïà# select ..where A.x = .. ; --ÂÅáËÆæA.xÊòØÁ¥¢Âºï# ‰∏çË¶ÅÔºöselect ..where A.x*3 = .. ; explain select * from book where authorid = 1 and typeid = 2 ;--Áî®Âà∞‰∫Üat2‰∏™Á¥¢Âºï explain select * from book where authorid = 1 and typeid*2 = 2 ;--Áî®Âà∞‰∫Üa1‰∏™Á¥¢Âºï explain select * from book where authorid*2 = 1 and typeid*2 = 2 ;----Áî®Âà∞‰∫Ü0‰∏™Á¥¢Âºï explain select * from book where authorid*2 = 1 and typeid = 2 ;----Áî®Âà∞‰∫Ü0‰∏™Á¥¢Âºï,ÂéüÂõ†ÔºöÂØπ‰∫éÂ§çÂêàÁ¥¢ÂºïÔºåÂ¶ÇÊûúÂ∑¶ËæπÂ§±ÊïàÔºå#Âè≥‰æßÂÖ®ÈÉ®Â§±Êïà„ÄÇ(a,b,c)Ôºå‰æãÂ¶ÇÂ¶ÇÊûú bÂ§±ÊïàÔºåÂàôb cÂêåÊó∂Â§±Êïà„ÄÇ drop index idx_atb on book ; alter table book add index idx_authroid (authorid) ; alter table book add index idx_typeid (typeid) ; explain select * from book where authorid*2 = 1 and typeid = 2 ;#Ôºà3ÔºâÂ§çÂêàÁ¥¢Âºï‰∏çËÉΩ‰ΩøÁî®‰∏çÁ≠â‰∫éÔºà!= &lt;&gt;ÔºâÊàñis null (is not null)ÔºåÂê¶ÂàôËá™Ë∫´‰ª•ÂèäÂè≥‰æßÊâÄÊúâÂÖ®ÈÉ®Â§±Êïà„ÄÇ# Â§çÂêàÁ¥¢Âºï‰∏≠Â¶ÇÊûúÊúâ&gt;ÔºåÂàôËá™Ë∫´ÂíåÂè≥‰æßÁ¥¢ÂºïÂÖ®ÈÉ®Â§±Êïà„ÄÇexplain select * from book where authorid = 1 and typeid =2 ;# SQL‰ºòÂåñÔºåÊòØ‰∏ÄÁßçÊ¶ÇÁéáÂ±ÇÈù¢ÁöÑ‰ºòÂåñ„ÄÇËá≥‰∫éÊòØÂê¶ÂÆûÈôÖ‰ΩøÁî®‰∫ÜÊàë‰ª¨ÁöÑ‰ºòÂåñÔºåÈúÄË¶ÅÈÄöËøáexplainËøõË°åÊé®Êµã„ÄÇexplain select * from book where authorid != 1 and typeid =2 ;explain select * from book where authorid != 1 and typeid !=2 ;#‰ΩìÈ™åÊ¶ÇÁéáÊÉÖÂÜµ(&lt; &gt; =)ÔºöÂéüÂõ†ÊòØÊúçÂä°Â±Ç‰∏≠ÊúâSQL‰ºòÂåñÂô®ÔºåÂèØËÉΩ‰ºöÂΩ±ÂìçÊàë‰ª¨ÁöÑ‰ºòÂåñ„ÄÇdrop index idx_typeid on book;drop index idx_authroid on book;alter table book add index idx_book_at (authorid,typeid);explain select * from book where authorid = 1 and typeid =2 ;--Â§çÂêàÁ¥¢ÂºïatÂÖ®ÈÉ®‰ΩøÁî®explain select * from book where authorid &gt; 1 and typeid =2 ; --Â§çÂêàÁ¥¢Âºï‰∏≠Â¶ÇÊûúÊúâ&gt;ÔºåÂàôËá™Ë∫´ÂíåÂè≥‰æßÁ¥¢ÂºïÂÖ®ÈÉ®Â§±Êïà„ÄÇexplain select * from book where authorid = 1 and typeid &gt;2 ;--Â§çÂêàÁ¥¢ÂºïatÂÖ®ÈÉ®‰ΩøÁî®#----ÊòéÊòæÁöÑÊ¶ÇÁéáÈóÆÈ¢ò---explain select * from book where authorid &lt; 1 and typeid =2 ;--Â§çÂêàÁ¥¢ÂºïatÂè™Áî®Âà∞‰∫Ü1‰∏™Á¥¢Âºïexplain select * from book where authorid &lt; 4 and typeid =2 ;--Â§çÂêàÁ¥¢ÂºïÂÖ®ÈÉ®Â§±Êïà-- Êàë‰ª¨Â≠¶‰π†Á¥¢Âºï‰ºòÂåñ ÔºåÊòØ‰∏Ä‰∏™Â§ßÈÉ®ÂàÜÊÉÖÂÜµÈÄÇÁî®ÁöÑÁªìËÆ∫Ôºå‰ΩÜÁî±‰∫éSQL‰ºòÂåñÂô®Á≠âÂéüÂõ† ËØ•ÁªìËÆ∫‰∏çÊòØ100%Ê≠£Á°Æ„ÄÇ-- ‰∏ÄËà¨ËÄåË®ÄÔºå ËåÉÂõ¥Êü•ËØ¢Ôºà&gt; &lt; inÔºâÔºå‰πãÂêéÁöÑÁ¥¢ÂºïÂ§±Êïà„ÄÇ#Ôºà4ÔºâË°•Êïë„ÄÇÂ∞ΩÈáè‰ΩøÁî®Á¥¢ÂºïË¶ÜÁõñÔºàusing indexÔºâ# Ôºàa,b,cÔºâselect a,b,c from xx..where a= .. and b =.. ;#(5) likeÂ∞ΩÈáè‰ª•‚ÄúÂ∏∏Èáè‚ÄùÂºÄÂ§¥Ôºå‰∏çË¶Å‰ª•'%'ÂºÄÂ§¥ÔºåÂê¶ÂàôÁ¥¢ÂºïÂ§±Êïàselect * from xx where name like '%x%' ; --nameÁ¥¢ÂºïÂ§±Êïàexplain select * from teacher where tname like '%x%'; --tnameÁ¥¢ÂºïÂ§±Êïàexplain select * from teacher where tname like 'x%'; explain select tname from teacher where tname like '%x%'; --Â¶ÇÊûúÂøÖÈ°ª‰ΩøÁî®like '%x%'ËøõË°åÊ®°Á≥äÊü•ËØ¢ÔºåÂèØ‰ª•‰ΩøÁî®Á¥¢ÂºïË¶ÜÁõñ ÊåΩÊïë‰∏ÄÈÉ®ÂàÜ„ÄÇ#Ôºà6ÔºâÂ∞ΩÈáè‰∏çË¶Å‰ΩøÁî®Á±ªÂûãËΩ¨Êç¢ÔºàÊòæÁ§∫„ÄÅÈöêÂºèÔºâÔºåÂê¶ÂàôÁ¥¢ÂºïÂ§±Êïàexplain select * from teacher where tname = 'abc' ;explain select * from teacher where tname = 123 ;//Á®ãÂ∫èÂ∫ïÂ±ÇÂ∞Ü 123 -&gt; '123'ÔºåÂç≥ËøõË°å‰∫ÜÁ±ªÂûãËΩ¨Êç¢ÔºåÂõ†Ê≠§Á¥¢ÂºïÂ§±Êïà#Ôºà7ÔºâÂ∞ΩÈáè‰∏çË¶Å‰ΩøÁî®orÔºåÂê¶ÂàôÁ¥¢ÂºïÂ§±Êïàexplain select * from teacher where tname ='' or tcid &gt;1 ; --Â∞ÜorÂ∑¶‰æßÁöÑtname Â§±Êïà„ÄÇ Â∏∏ËßÅ‰ºòÂåñÊñπÊ≥ïÂèäÊÖ¢Êü•ËØ¢SQLÊéíÊü• existÂíå in select „ÄÇ„ÄÇfrom table where exist/in(Â≠êÊü•ËØ¢)Ôºõ Â¶ÇÊûú‰∏ªÊü•ËØ¢ÁöÑÊï∞ÊçÆÈõÜÂ§ßÔºåÂàô‰ΩøÁî®InÊïàÁéáÊõ¥È´ò Â¶ÇÊûúÂ≠êÊü•ËØ¢ÁöÑÊï∞ÊçÆÈõÜÂ§ßÔºåÂàô‰ΩøÁî®existÊïàÁéáÊõ¥È´ò existËØ≠Ê≥ïÔºöÂ∞Ü‰∏ªÊü•ËØ¢ÁöÑÁªìÊûúÔºåÊîæÂà∞Â≠êÊü•ËØ¢ÁªìÊûú‰∏≠ËøõË°åÊù°‰ª∂Ê†°È™åÔºàÁúãÂ≠êÊü•ËØ¢ÊòØÂê¶ÊúâÊï∞ÊçÆÔºåÂ¶ÇÊûúÊúâÊï∞ÊçÆÔºåÂàôÊ†°È™åÊàêÂäüÔºå‰øùÁïôÊï∞ÊçÆÔºâ order by using filesort Êúâ‰∏§ÁßçÁÆóÊ≥ïÔºöÂèåË∑ØÊéíÂ∫è„ÄÅÂçïË∑ØÊéíÂ∫è ÔºàÊ†πÊçÆIOÁöÑÊ¨°Êï∞Ôºâ MySQL4.1‰πãÂâç ÈªòËÆ§‰ΩøÁî® ÂèåË∑ØÊéíÂ∫èÔºõÂèåË∑ØÔºöÊâ´Êèè2Ê¨°Á£ÅÁõòÔºà1Ôºö‰ªéÁ£ÅÁõòËØªÂèñÊéíÂ∫èÂ≠óÊÆµ ,ÂØπÊéíÂ∫èÂ≠óÊÆµËøõË°åÊéíÂ∫èÔºàÂú®buffer‰∏≠ËøõË°åÁöÑÊéíÂ∫èÔºâ 2ÔºöÊâ´ÊèèÂÖ∂‰ªñÂ≠óÊÆµ Ôºâ --IOËæÉÊ∂àËÄóÊÄßËÉΩ MySQL4.1‰πãÂêé ÈªòËÆ§‰ΩøÁî® ÂçïË∑ØÊéíÂ∫è Ôºö Âè™ËØªÂèñ‰∏ÄÊ¨°ÔºàÂÖ®ÈÉ®Â≠óÊÆµÔºâÔºåÂú®buffer‰∏≠ËøõË°åÊéíÂ∫è„ÄÇ‰ΩÜÁßçÂçïË∑ØÊéíÂ∫è ‰ºöÊúâ‰∏ÄÂÆöÁöÑÈöêÊÇ£ Ôºà‰∏ç‰∏ÄÂÆöÁúüÁöÑÊòØ‚ÄúÂçïË∑Ø|1Ê¨°IO‚ÄùÔºåÊúâÂèØËÉΩÂ§öÊ¨°IOÔºâ„ÄÇÂéüÂõ†ÔºöÂ¶ÇÊûúÊï∞ÊçÆÈáèÁâπÂà´Â§ßÔºåÂàôÊó†Ê≥ï Â∞ÜÊâÄÊúâÂ≠óÊÆµÁöÑÊï∞ÊçÆ ‰∏ÄÊ¨°ÊÄßËØªÂèñÂÆåÊØïÔºåÂõ†Ê≠§ ‰ºöËøõË°å‚ÄúÂàÜÁâáËØªÂèñ„ÄÅÂ§öÊ¨°ËØªÂèñ‚Äù„ÄÇ Ê≥®ÊÑèÔºöÂçïË∑ØÊéíÂ∫è ÊØîÂèåË∑ØÊéíÂ∫è ‰ºöÂç†Áî®Êõ¥Â§öÁöÑbuffer„ÄÇ ÂçïË∑ØÊéíÂ∫èÂú®‰ΩøÁî®Êó∂ÔºåÂ¶ÇÊûúÊï∞ÊçÆÂ§ßÔºåÂèØ‰ª•ËÄÉËôëË∞ÉÂ§ßbufferÁöÑÂÆπÈáèÂ§ßÂ∞èÔºö set max_length_for_sort_data = 1024 Âçï‰Ωçbyte Â¶ÇÊûúmax_length_for_sort_dataÂÄºÂ§™‰ΩéÔºåÂàômysql‰ºöËá™Âä®‰ªé ÂçïË∑Ø-&gt;ÂèåË∑Ø ÔºàÂ§™‰ΩéÔºöÈúÄË¶ÅÊéíÂ∫èÁöÑÂàóÁöÑÊÄªÂ§ßÂ∞èË∂ÖËøá‰∫Ümax_length_for_sort_dataÂÆö‰πâÁöÑÂ≠óËäÇÊï∞Ôºâ ÊèêÈ´òorder byÊü•ËØ¢ÁöÑÁ≠ñÁï•Ôºö a.ÈÄâÊã©‰ΩøÁî®ÂçïË∑Ø„ÄÅÂèåË∑Ø ÔºõË∞ÉÊï¥bufferÁöÑÂÆπÈáèÂ§ßÂ∞èÔºõ b.ÈÅøÂÖçselect * ... Ôºà*‰ºöÂ§öËä±‰∏Ä‰∫õÊó∂Èó¥Ôºå‰∏îÊó†Ê≥ïÁ¥¢ÂºïË¶ÜÁõñÔºâ c.Â§çÂêàÁ¥¢Âºï ‰∏çË¶ÅË∑®Âàó‰ΩøÁî® ÔºåÈÅøÂÖçusing filesort d.‰øùËØÅÂÖ®ÈÉ®ÁöÑÊéíÂ∫èÂ≠óÊÆµ ÊéíÂ∫èÁöÑ‰∏ÄËá¥ÊÄßÔºàÈÉΩÊòØÂçáÂ∫è Êàñ ÈôçÂ∫èÔºâ ÊÖ¢Êü•ËØ¢ÈòÄÂÄºÂíåmysqldumpslowÂ∑•ÂÖ∑ :MySQLÊèê‰æõÁöÑ‰∏ÄÁßçÊó•ÂøóËÆ∞ÂΩïÔºåÁî®‰∫éËÆ∞ÂΩïMySQLÁßçÂìçÂ∫îÊó∂Èó¥Ë∂ÖËøáÈòÄÂÄºÁöÑSQLËØ≠Âè• Ôºàlong_query_timeÔºåÈªòËÆ§10ÁßíÔºâ ÊÖ¢Êü•ËØ¢Êó•ÂøóÈªòËÆ§ÊòØÂÖ≥Èó≠ÁöÑÔºõÂª∫ËÆÆÔºöÂºÄÂèëË∞É‰ºòÊòØ ÊâìÂºÄÔºåËÄå ÊúÄÁªàÈÉ®ÁΩ≤Êó∂ÂÖ≥Èó≠„ÄÇ Ê£ÄÊü•ÊòØÂê¶ÂºÄÂêØ‰∫Ü ÊÖ¢Êü•ËØ¢Êó•Âøó Ôºö show variables like '%slow_query_log%' ; ‰∏¥Êó∂ÂºÄÂêØÔºö set global slow_query_log = 1 ; --Âú®ÂÜÖÂ≠òÁßçÂºÄÂêØ exit service mysql restart Ê∞∏‰πÖÂºÄÂêØÔºö /etc/my.cnf ‰∏≠ËøΩÂä†ÈÖçÁΩÆÔºö vi /etc/my.cnf [mysqld] slow_query_log=1 slow_query_log_file=/var/lib/mysql/localhost-slow.log ‚Äã ‚Äã ÊÖ¢Êü•ËØ¢ÈòÄÂÄºÔºö ‚Äã show variables like '%long_query_time%' ; ‚Äã ‚Äã ‰∏¥Êó∂ËÆæÁΩÆÈòÄÂÄºÔºö ‚Äã set global long_query_time = 5 ; --ËÆæÁΩÆÂÆåÊØïÂêéÔºåÈáçÊñ∞ÁôªÈôÜÂêéËµ∑Êïà Ôºà‰∏çÈúÄË¶ÅÈáçÂêØÊúçÂä°Ôºâ ‚Äã ‚Äã Ê∞∏‰πÖËÆæÁΩÆÈòÄÂÄºÔºö ‚Äã ‚Äã /etc/my.cnf ‰∏≠ËøΩÂä†ÈÖçÁΩÆÔºö ‚Äã vi /etc/my.cnf ‚Äã [mysqld] ‚Äã long_query_time=3 select sleep(4); select sleep(5); select sleep(3); select sleep(3); --Êü•ËØ¢Ë∂ÖËøáÈòÄÂÄºÁöÑSQLÊï∞ÈáèÔºö show global status like '%slow_queries%' ; (1)ÊÖ¢Êü•ËØ¢ÁöÑsqlË¢´ËÆ∞ÂΩïÂú®‰∫ÜÊó•Âøó‰∏≠ÔºåÂõ†Ê≠§ÂèØ‰ª•ÈÄöËøáÊó•Âøó Êü•ÁúãÂÖ∑‰ΩìÁöÑÊÖ¢SQL„ÄÇ cat /var/lib/mysql/localhost-slow.log (2)ÈÄöËøámysqldumpslowÂ∑•ÂÖ∑Êü•ÁúãÊÖ¢SQL,ÂèØ‰ª•ÈÄöËøá‰∏Ä‰∫õËøáÊª§Êù°‰ª∂ Âø´ÈÄüÊü•ÊâæÂá∫ÈúÄË¶ÅÂÆö‰ΩçÁöÑÊÖ¢SQL mysqldumpslow --help sÔºöÊéíÂ∫èÊñπÂºè r:ÈÄÜÂ∫è l:ÈîÅÂÆöÊó∂Èó¥ g:Ê≠£ÂàôÂåπÈÖçÊ®°Âºè --Ëé∑ÂèñËøîÂõûËÆ∞ÂΩïÊúÄÂ§öÁöÑ3‰∏™SQL mysqldumpslow -s r -t 3 /var/lib/mysql/localhost-slow.log --Ëé∑ÂèñËÆøÈóÆÊ¨°Êï∞ÊúÄÂ§öÁöÑ3‰∏™SQL mysqldumpslow -s c -t 3 /var/lib/mysql/localhost-slow.log --ÊåâÁÖßÊó∂Èó¥ÊéíÂ∫èÔºåÂâç10Êù°ÂåÖÂê´left joinÊü•ËØ¢ËØ≠Âè•ÁöÑSQL mysqldumpslow -s t -t 10 -g &quot;left join&quot; /var/lib/mysql/localhost-slow.log ËØ≠Ê≥ïÔºö mysqldumpslow ÂêÑÁßçÂèÇÊï∞ ÊÖ¢Êü•ËØ¢Êó•ÂøóÁöÑÊñá‰ª∂ Ê®°ÊãüÂπ∂ÈÄöËøáprofilesÂàÜÊûêÊµ∑ÈáèÊï∞ÊçÆ a.Ê®°ÊãüÊµ∑ÈáèÊï∞ÊçÆ a.Ê®°ÊãüÊµ∑ÈáèÊï∞ÊçÆ Â≠òÂÇ®ËøáÁ®ãÔºàÊó†returnÔºâ/Â≠òÂÇ®ÂáΩÊï∞ÔºàÊúâreturnÔºâ create database testdata ; use testdata 1234567891011121314151617create table dept(dno int(5) primary key default 0,dname varchar(20) not null default '',loc varchar(30) default '')engine=innodb default charset=utf8;create table emp(eid int(5) primary key,ename varchar(20) not null default '',job varchar(20) not null default '',deptno int(5) not null default 0)engine=innodb default charset=utf8; ÈÄöËøáÂ≠òÂÇ®ÂáΩÊï∞ ÊèíÂÖ•Êµ∑ÈáèÊï∞ÊçÆÔºö ÂàõÂª∫Â≠òÂÇ®ÂáΩÊï∞Ôºö randstring(6) -&gt;aXiayx Áî®‰∫éÊ®°ÊãüÂëòÂ∑•ÂêçÁß∞ 1234567891011121314delimiter $ #Â£∞ÊòéÂàÜÂè∑‰∏çÊòØÁªìÊùüÁ¨¶create function randstring(n int) returns varchar(255) begin declare all_str varchar(100) default 'abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ' ; declare return_str varchar(255) default '' ; declare i int default 0 ; while i&lt;n do set return_str = concat( return_str, substring(all_str, FLOOR(1+rand()*52) ,1) ); set i=i+1 ; end while ; return return_str; end $ --Â¶ÇÊûúÊä•ÈîôÔºöYou have an error in your SQL syntaxÔºåËØ¥ÊòéSQLËØ≠Âè•ËØ≠Ê≥ïÊúâÈîôÔºåÈúÄË¶Å‰øÆÊîπSQLËØ≠Âè•Ôºõ Â¶ÇÊûúÊä•ÈîôThis function has none of DETERMINISTIC, NO SQL, or READS SQL DATA in its declaration and binary logging is enabled (you might want to use the less safe log_bin_trust_function_creators variable) ÊòØÂõ†‰∏∫ Â≠òÂÇ®ËøáÁ®ã/Â≠òÂÇ®ÂáΩÊï∞Âú®ÂàõÂª∫Êó∂ ‰∏é‰πãÂâçÁöÑ ÂºÄÂêØÊÖ¢Êü•ËØ¢Êó•ÂøóÂÜ≤Á™Å‰∫Ü Ëß£ÂÜ≥ÂÜ≤Á™ÅÔºö ‰∏¥Êó∂Ëß£ÂÜ≥( ÂºÄÂêØlog_bin_trust_function_creators ) show variables like '%log_bin_trust_function_creators%'; set global log_bin_trust_function_creators = 1; Ê∞∏‰πÖËß£ÂÜ≥Ôºö /etc/my.cnf [mysqld] log_bin_trust_function_creators = 1 12345678--‰∫ßÁîüÈöèÊú∫Êï¥Êï∞create function ran_num() returns int(5)begin declare i int default 0; set i =floor( rand()*100 ) ; return i ;end $ 1234567891011121314--ÈÄöËøáÂ≠òÂÇ®ËøáÁ®ãÊèíÂÖ•Êµ∑ÈáèÊï∞ÊçÆÔºöempË°®‰∏≠ Ôºå 10000, 100000create procedure insert_emp( in eid_start int(10),in data_times int(10))begin declare i int default 0; set autocommit = 0 ; repeat insert into emp values(eid_start + i, randstring(5) ,'other' ,ran_num()) ; set i=i+1 ; until i=data_times end repeat ; commit ;end $ 12345678910111213--ÈÄöËøáÂ≠òÂÇ®ËøáÁ®ãÊèíÂÖ•Êµ∑ÈáèÊï∞ÊçÆÔºödeptË°®‰∏≠ create procedure insert_dept(in dno_start int(10) ,in data_times int(10)) begin declare i int default 0; set autocommit = 0 ; repeat insert into dept values(dno_start+i ,randstring(6),randstring(8)) ; set i=i+1 ; until i=data_times end repeat ; commit ; end$ 1234--ÊèíÂÖ•Êï∞ÊçÆ delimiter ; call insert_emp(1000,800000) ; call insert_dept(10,30) ; ‚Äã b.ÂàÜÊûêÊµ∑ÈáèÊï∞ÊçÆ: ‚Äã Ôºà1Ôºâprofiles ‚Äã show profiles ; --ÈªòËÆ§ÂÖ≥Èó≠ ‚Äã show variables like '%profiling%'; ‚Äã set profiling = on ; ‚Äã show profiles Ôºö‰ºöËÆ∞ÂΩïÊâÄÊúâprofilingÊâìÂºÄ‰πãÂêéÁöÑ ÂÖ®ÈÉ®SQLÊü•ËØ¢ËØ≠Âè•ÊâÄËä±Ë¥πÁöÑÊó∂Èó¥„ÄÇÁº∫ÁÇπÔºö‰∏çÂ§üÁ≤æÁ°ÆÔºåÂè™ËÉΩÁúãÂà∞ ÊÄªÂÖ±Ê∂àË¥πÁöÑÊó∂Èó¥Ôºå‰∏çËÉΩÁúãÂà∞ÂêÑ‰∏™Á°¨‰ª∂Ê∂àË¥πÁöÑÊó∂Èó¥Ôºàcpu io Ôºâ ‚Äã ‚Äã (2)Á≤æÁ°ÆÂàÜÊûê:sqlËØäÊñ≠ ‚Äã show profile all for query ‰∏ä‰∏ÄÊ≠•Êü•ËØ¢ÁöÑÁöÑQuery_Id ‚Äã show profile cpu,block io for query ‰∏ä‰∏ÄÊ≠•Êü•ËØ¢ÁöÑÁöÑQuery_Id ‚Äã ‚Äã (3)ÂÖ®Â±ÄÊü•ËØ¢Êó•Âøó ÔºöËÆ∞ÂΩïÂºÄÂêØ‰πãÂêéÁöÑ ÂÖ®ÈÉ®SQLËØ≠Âè•„ÄÇ ÔºàËøôÊ¨°ÂÖ®Â±ÄÁöÑËÆ∞ÂΩïÊìç‰Ωú ‰ªÖ‰ªÖÂú®Ë∞É‰ºò„ÄÅÂºÄÂèëËøáÁ®ã‰∏≠ÊâìÂºÄÂç≥ÂèØÔºåÂú®ÊúÄÁªàÁöÑÈÉ®ÁΩ≤ÂÆûÊñΩÊó∂ ‰∏ÄÂÆöÂÖ≥Èó≠Ôºâ ‚Äã show variables like '%general_log%'; ‚Äã 12345678--ÊâßË°åÁöÑÊâÄÊúâSQLËÆ∞ÂΩïÂú®Ë°®‰∏≠set global general_log = 1 ;--ÂºÄÂêØÂÖ®Â±ÄÊó•Âøóset global log_output='table' ; --ËÆæÁΩÆ Â∞ÜÂÖ®ÈÉ®ÁöÑSQL ËÆ∞ÂΩïÂú®Ë°®‰∏≠--ÊâßË°åÁöÑÊâÄÊúâSQLËÆ∞ÂΩïÂú®Êñá‰ª∂‰∏≠set global log_output='file' ;set global general_log = on ;set global general_log_file='/tmp/general.log' ; 12ÂºÄÂêØÂêéÔºå‰ºöËÆ∞ÂΩïÊâÄÊúâSQL Ôºö ‰ºöË¢´ËÆ∞ÂΩï mysql.general_logË°®‰∏≠„ÄÇ select * from mysql.general_log ; ÈîÅÊú∫Âà∂ËØ¶Ëß£ ÈîÅÊú∫Âà∂ ÔºöËß£ÂÜ≥Âõ†ËµÑÊ∫êÂÖ±‰∫´ ËÄåÈÄ†ÊàêÁöÑÂπ∂ÂèëÈóÆÈ¢ò„ÄÇ Á§∫‰æãÔºö‰π∞ÊúÄÂêé‰∏Ä‰ª∂Ë°£ÊúçX A: X ‰π∞ Ôºö XÂä†ÈîÅ -&gt;ËØïË°£Êúç...‰∏ãÂçï..‰ªòÊ¨æ..ÊâìÂåÖ -&gt;XËß£ÈîÅ B: X ‰π∞ÔºöÂèëÁé∞XÂ∑≤Ë¢´Âä†ÈîÅÔºåÁ≠âÂæÖXËß£ÈîÅÔºå XÂ∑≤ÂîÆÁ©∫ ÂàÜÁ±ªÔºö Êìç‰ΩúÁ±ªÂûãÔºö a.ËØªÈîÅÔºàÂÖ±‰∫´ÈîÅÔºâÔºö ÂØπÂêå‰∏Ä‰∏™Êï∞ÊçÆÔºàË°£ÊúçÔºâÔºåÂ§ö‰∏™ËØªÊìç‰ΩúÂèØ‰ª•ÂêåÊó∂ËøõË°åÔºå‰∫í‰∏çÂπ≤Êâ∞„ÄÇ b.ÂÜôÈîÅÔºà‰∫íÊñ•ÈîÅÔºâÔºö Â¶ÇÊûúÂΩìÂâçÂÜôÊìç‰ΩúÊ≤°ÊúâÂÆåÊØïÔºà‰π∞Ë°£ÊúçÁöÑ‰∏ÄÁ≥ªÂàóÊìç‰ΩúÔºâÔºåÂàôÊó†Ê≥ïËøõË°åÂÖ∂‰ªñÁöÑËØªÊìç‰Ωú„ÄÅÂÜôÊìç‰Ωú Êìç‰ΩúËåÉÂõ¥Ôºö a.Ë°®ÈîÅ Ôºö‰∏ÄÊ¨°ÊÄßÂØπ‰∏ÄÂº†Ë°®Êï¥‰ΩìÂä†ÈîÅ„ÄÇÂ¶ÇMyISAMÂ≠òÂÇ®ÂºïÊìé‰ΩøÁî®Ë°®ÈîÅÔºåÂºÄÈîÄÂ∞è„ÄÅÂä†ÈîÅÂø´ÔºõÊó†Ê≠ªÈîÅÔºõ‰ΩÜÈîÅÁöÑËåÉÂõ¥Â§ßÔºåÂÆπÊòìÂèëÁîüÈîÅÂÜ≤Á™Å„ÄÅÂπ∂ÂèëÂ∫¶‰Ωé„ÄÇ b.Ë°åÈîÅ Ôºö‰∏ÄÊ¨°ÊÄßÂØπ‰∏ÄÊù°Êï∞ÊçÆÂä†ÈîÅ„ÄÇÂ¶ÇInnoDBÂ≠òÂÇ®ÂºïÊìé‰ΩøÁî®Ë°åÈîÅÔºåÂºÄÈîÄÂ§ßÔºåÂä†ÈîÅÊÖ¢ÔºõÂÆπÊòìÂá∫Áé∞Ê≠ªÈîÅÔºõÈîÅÁöÑËåÉÂõ¥ËæÉÂ∞èÔºå‰∏çÊòìÂèëÁîüÈîÅÂÜ≤Á™ÅÔºåÂπ∂ÂèëÂ∫¶È´òÔºàÂæàÂ∞èÊ¶ÇÁéá ÂèëÁîüÈ´òÂπ∂ÂèëÈóÆÈ¢òÔºöËÑèËØª„ÄÅÂπªËØª„ÄÅ‰∏çÂèØÈáçÂ§çÂ∫¶„ÄÅ‰∏¢Â§±Êõ¥Êñ∞Á≠âÈóÆÈ¢òÔºâ„ÄÇ c.È°µÈîÅ Á§∫‰æãÔºö Ôºà1ÔºâË°®ÈîÅ Ôºö --Ëá™Â¢ûÊìç‰Ωú MYSQL/SQLSERVER ÊîØÊåÅÔºõoracleÈúÄË¶ÅÂÄüÂä©‰∫éÂ∫èÂàóÊù•ÂÆûÁé∞Ëá™Â¢û create table tablelock ( id int primary key auto_increment , name varchar(20) )engine myisam; insert into tablelock(name) values('a1'); insert into tablelock(name) values('a2'); insert into tablelock(name) values('a3'); insert into tablelock(name) values('a4'); insert into tablelock(name) values('a5'); commit; 1234567891011121314151617181920212223Â¢ûÂä†ÈîÅÔºölocak table Ë°®1 read/write ,Ë°®2 read/write ,...Êü•ÁúãÂä†ÈîÅÁöÑË°®Ôºöshow open tables ;‰ºöËØùÔºösession :ÊØè‰∏Ä‰∏™ËÆøÈóÆÊï∞ÊçÆÁöÑdosÂëΩ‰ª§Ë°å„ÄÅÊï∞ÊçÆÂ∫ìÂÆ¢Êà∑Á´ØÂ∑•ÂÖ∑ ÈÉΩÊòØ‰∏Ä‰∏™‰ºöËØù===Âä†ËØªÈîÅÔºö ‰ºöËØù0Ôºö lock table tablelock read ; select * from tablelock; --ËØªÔºàÊü•ÔºâÔºåÂèØ‰ª• delete from tablelock where id =1 ; --ÂÜôÔºàÂ¢ûÂà†ÊîπÔºâÔºå‰∏çÂèØ‰ª• select * from emp ; --ËØªÔºå‰∏çÂèØ‰ª• delete from emp where eid = 1; --ÂÜôÔºå‰∏çÂèØ‰ª• ÁªìËÆ∫1Ôºö --Â¶ÇÊûúÊüê‰∏Ä‰∏™‰ºöËØù ÂØπAË°®Âä†‰∫ÜreadÈîÅÔºåÂàô ËØ•‰ºöËØù ÂèØ‰ª•ÂØπAË°®ËøõË°åËØªÊìç‰Ωú„ÄÅ‰∏çËÉΩËøõË°åÂÜôÊìç‰ΩúÔºõ ‰∏î ËØ•‰ºöËØù‰∏çËÉΩÂØπÂÖ∂‰ªñË°®ËøõË°åËØª„ÄÅÂÜôÊìç‰Ωú„ÄÇ --Âç≥Â¶ÇÊûúÁªôAË°®Âä†‰∫ÜËØªÈîÅÔºåÂàôÂΩìÂâç‰ºöËØùÂè™ËÉΩÂØπAË°®ËøõË°åËØªÊìç‰Ωú„ÄÇ ‰ºöËØù1ÔºàÂÖ∂‰ªñ‰ºöËØùÔºâÔºö select * from tablelock; --ËØªÔºàÊü•ÔºâÔºåÂèØ‰ª• delete from tablelock where id =1 ; --ÂÜôÔºå‰ºö‚ÄúÁ≠âÂæÖ‚Äù‰ºöËØù0Â∞ÜÈîÅÈáäÊîæ ‰ºöËØù1ÔºàÂÖ∂‰ªñ‰ºöËØùÔºâÔºö select * from emp ; --ËØªÔºàÊü•ÔºâÔºåÂèØ‰ª• delete from emp where eno = 1; --ÂÜôÔºåÂèØ‰ª• ÁªìËÆ∫2Ôºö --ÊÄªÁªìÔºö ‰ºöËØù0ÁªôAË°®Âä†‰∫ÜÈîÅÔºõÂÖ∂‰ªñ‰ºöËØùÁöÑÊìç‰ΩúÔºöa.ÂèØ‰ª•ÂØπÂÖ∂‰ªñË°®ÔºàAË°®‰ª•Â§ñÁöÑË°®ÔºâËøõË°åËØª„ÄÅÂÜôÊìç‰Ωú b.ÂØπAË°®ÔºöËØª-ÂèØ‰ª•Ôºõ ÂÜô-ÈúÄË¶ÅÁ≠âÂæÖÈáäÊîæÈîÅ„ÄÇ ÈáäÊîæÈîÅ: unlock tables ; ÂÜôÈîÅÁ§∫‰æã‰∏éMyISAMÊ®°ÂºèÁâπÂæÅ ===Âä†ÂÜôÈîÅÔºö ‰ºöËØù0Ôºö lock table tablelock write ; ÂΩìÂâç‰ºöËØùÔºà‰ºöËØù0Ôºâ ÂèØ‰ª•ÂØπÂä†‰∫ÜÂÜôÈîÅÁöÑË°® ËøõË°å‰ªª‰ΩïÊìç‰ΩúÔºàÂ¢ûÂà†ÊîπÊü•ÔºâÔºõ‰ΩÜÊòØ‰∏çËÉΩ Êìç‰ΩúÔºàÂ¢ûÂà†ÊîπÊü•ÔºâÂÖ∂‰ªñË°® ÂÖ∂‰ªñ‰ºöËØùÔºö ÂØπ‰ºöËØù0‰∏≠Âä†ÂÜôÈîÅÁöÑË°® ÂèØ‰ª•ËøõË°åÂ¢ûÂà†ÊîπÊü•ÁöÑÂâçÊèêÊòØÔºöÁ≠âÂæÖ‰ºöËØù0ÈáäÊîæÂÜôÈîÅ MySQLË°®Á∫ßÈîÅÁöÑÈîÅÊ®°Âºè MyISAMÂú®ÊâßË°åÊü•ËØ¢ËØ≠Âè•ÔºàSELECTÔºâÂâçÔºå‰ºöËá™Âä®ÁªôÊ∂âÂèäÁöÑÊâÄÊúâË°®Âä†ËØªÈîÅÔºå Âú®ÊâßË°åÊõ¥Êñ∞Êìç‰ΩúÔºàDMLÔºâÂâçÔºå‰ºöËá™Âä®ÁªôÊ∂âÂèäÁöÑË°®Âä†ÂÜôÈîÅ„ÄÇ ÊâÄ‰ª•ÂØπMyISAMË°®ËøõË°åÊìç‰ΩúÔºå‰ºöÊúâ‰ª•‰∏ãÊÉÖÂÜµÔºö a„ÄÅÂØπMyISAMË°®ÁöÑËØªÊìç‰ΩúÔºàÂä†ËØªÈîÅÔºâÔºå‰∏ç‰ºöÈòªÂ°ûÂÖ∂‰ªñËøõÁ®ãÔºà‰ºöËØùÔºâÂØπÂêå‰∏ÄË°®ÁöÑËØªËØ∑Ê±ÇÔºå ‰ΩÜ‰ºöÈòªÂ°ûÂØπÂêå‰∏ÄË°®ÁöÑÂÜôËØ∑Ê±Ç„ÄÇÂè™ÊúâÂΩìËØªÈîÅÈáäÊîæÂêéÔºåÊâç‰ºöÊâßË°åÂÖ∂ÂÆÉËøõÁ®ãÁöÑÂÜôÊìç‰Ωú„ÄÇ b„ÄÅÂØπMyISAMË°®ÁöÑÂÜôÊìç‰ΩúÔºàÂä†ÂÜôÈîÅÔºâÔºå‰ºöÈòªÂ°ûÂÖ∂‰ªñËøõÁ®ãÔºà‰ºöËØùÔºâÂØπÂêå‰∏ÄË°®ÁöÑËØªÂíåÂÜôÊìç‰ΩúÔºå Âè™ÊúâÂΩìÂÜôÈîÅÈáäÊîæÂêéÔºåÊâç‰ºöÊâßË°åÂÖ∂ÂÆÉËøõÁ®ãÁöÑËØªÂÜôÊìç‰Ωú„ÄÇ Ë°®ÈîÅÊÉÖÂÜµÂàÜÊûêÂèäË°åÈîÅËß£Êûê ÂàÜÊûêË°®ÈîÅÂÆöÔºö Êü•ÁúãÂì™‰∫õË°®Âä†‰∫ÜÈîÅÔºö show open tables ; 1‰ª£Ë°®Ë¢´Âä†‰∫ÜÈîÅ ÂàÜÊûêË°®ÈîÅÂÆöÁöÑ‰∏•ÈáçÁ®ãÂ∫¶Ôºö show status like 'table%' ; Table_locks_immediate :Á´ãÂàªËÉΩËé∑ÂèñÂà∞ÁöÑÈîÅÊï∞ Table_locks_waitedÔºöÈúÄË¶ÅÁ≠âÂæÖÁöÑË°®ÈîÅÊï∞(Â¶ÇÊûúËØ•ÂÄºË∂äÂ§ßÔºåËØ¥ÊòéÂ≠òÂú®Ë∂äÂ§ßÁöÑÈîÅÁ´û‰∫â) ‰∏ÄËà¨Âª∫ËÆÆÔºö Table_locks_immediate/Table_locks_waited &gt; 5000Ôºå Âª∫ËÆÆÈááÁî®InnoDBÂºïÊìéÔºåÂê¶ÂàôMyISAMÂºïÊìé ‚Äã Ôºà2ÔºâË°åË°®ÔºàInnoDBÔºâ create table linelock( id int(5) primary key auto_increment, name varchar(20) )engine=innodb ; insert into linelock(name) values('1') ; insert into linelock(name) values('2') ; insert into linelock(name) values('3') ; insert into linelock(name) values('4') ; insert into linelock(name) values('5') ; --mysqlÈªòËÆ§Ëá™Âä®commit; oracleÈªòËÆ§‰∏ç‰ºöËá™Âä®commit ; ‰∏∫‰∫ÜÁ†îÁ©∂Ë°åÈîÅÔºåÊöÇÊó∂Â∞ÜËá™Âä®commitÂÖ≥Èó≠; set autocommit =0 ; ‰ª•ÂêéÈúÄË¶ÅÈÄöËøácommit ‰ºöËØù0Ôºö ÂÜôÊìç‰Ωú insert into linelock values( 'a6') ; ‰ºöËØù1Ôºö ÂÜôÊìç‰Ωú ÂêåÊ†∑ÁöÑÊï∞ÊçÆ update linelock set name='ax' where id = 6; ÂØπË°åÈîÅÊÉÖÂÜµÔºö 1.Â¶ÇÊûú‰ºöËØùxÂØπÊüêÊù°Êï∞ÊçÆaËøõË°å DMLÊìç‰ΩúÔºàÁ†îÁ©∂Êó∂ÔºöÂÖ≥Èó≠‰∫ÜËá™Âä®commitÁöÑÊÉÖÂÜµ‰∏ãÔºâÔºåÂàôÂÖ∂‰ªñ‰ºöËØùÂøÖÈ°ªÁ≠âÂæÖ‰ºöËØùxÁªìÊùü‰∫ãÂä°(commit/rollback)Âêé ÊâçËÉΩÂØπÊï∞ÊçÆaËøõË°åÊìç‰Ωú„ÄÇ 2.Ë°®ÈîÅ ÊòØÈÄöËøáunlock tablesÔºå‰πüÂèØ‰ª•ÈÄöËøá‰∫ãÂä°Ëß£ÈîÅ ; Ë°åÈîÅ ÊòØÈÄöËøá‰∫ãÂä°Ëß£ÈîÅ„ÄÇ ‚Äã Ë°åÈîÅÔºåÊìç‰Ωú‰∏çÂêåÊï∞ÊçÆÔºö ‰ºöËØù0Ôºö ÂÜôÊìç‰Ωú insert into linelock values(8,'a8') ; ‰ºöËØù1Ôºö ÂÜôÊìç‰ΩúÔºå ‰∏çÂêåÁöÑÊï∞ÊçÆ update linelock set name='ax' where id = 5; Ë°åÈîÅÔºå‰∏ÄÊ¨°ÈîÅ‰∏ÄË°åÊï∞ÊçÆÔºõÂõ†Ê≠§ Â¶ÇÊûúÊìç‰ΩúÁöÑÊòØ‰∏çÂêåÊï∞ÊçÆÔºåÂàô‰∏çÂπ≤Êâ∞„ÄÇ Ë°åÈîÅÁöÑÊ≥®ÊÑè‰∫ãÈ°πÂèä‰ΩøÁî®ÊÉÖÂÜµÂàÜÊûê ‚Äã Ë°åÈîÅÁöÑÊ≥®ÊÑè‰∫ãÈ°πÔºö ‚Äã a.Â¶ÇÊûúÊ≤°ÊúâÁ¥¢ÂºïÔºåÂàôË°åÈîÅ‰ºöËΩ¨‰∏∫Ë°®ÈîÅ ‚Äã show index from linelock ; ‚Äã alter table linelock add index idx_linelock_name(name); ‚Äã ‰ºöËØù0Ôºö ÂÜôÊìç‰Ωú ‚Äã update linelock set name = 'ai' where name = '3' ; ‚Äã ‚Äã ‰ºöËØù1Ôºö ÂÜôÊìç‰ΩúÔºå ‰∏çÂêåÁöÑÊï∞ÊçÆ ‚Äã update linelock set name = 'aiX' where name = '4' ; ‚Äã ‰ºöËØù0Ôºö ÂÜôÊìç‰Ωú ‚Äã update linelock set name = 'ai' where name = 3 ; ‚Äã ‚Äã ‰ºöËØù1Ôºö ÂÜôÊìç‰ΩúÔºå ‰∏çÂêåÁöÑÊï∞ÊçÆ ‚Äã update linelock set name = 'aiX' where name = 4 ; ‚Äã ‚Äã --ÂèØ‰ª•ÂèëÁé∞ÔºåÊï∞ÊçÆË¢´ÈòªÂ°û‰∫ÜÔºàÂä†ÈîÅÔºâ ‚Äã -- ÂéüÂõ†ÔºöÂ¶ÇÊûúÁ¥¢ÂºïÁ±ª ÂèëÁîü‰∫ÜÁ±ªÂûãËΩ¨Êç¢ÔºåÂàôÁ¥¢ÂºïÂ§±Êïà„ÄÇ Âõ†Ê≠§ Ê≠§Ê¨°Êìç‰ΩúÔºå‰ºö‰ªéË°åÈîÅ ËΩ¨‰∏∫Ë°®ÈîÅ„ÄÇ ‚Äã ‚Äã b.Ë°åÈîÅÁöÑ‰∏ÄÁßçÁâπÊÆäÊÉÖÂÜµÔºöÈó¥ÈöôÈîÅÔºöÂÄºÂú®ËåÉÂõ¥ÂÜÖÔºå‰ΩÜÂç¥‰∏çÂ≠òÂú® ‚Äã --Ê≠§Êó∂linelockË°®‰∏≠ Ê≤°Êúâid=7ÁöÑÊï∞ÊçÆ ‚Äã update linelock set name ='x' where id &gt;1 and id&lt;9 ; --Âç≥Âú®Ê≠§whereËåÉÂõ¥‰∏≠ÔºåÊ≤°Êúâid=7ÁöÑÊï∞ÊçÆÔºåÂàôid=7ÁöÑÊï∞ÊçÆÊàê‰∏∫Èó¥Èöô„ÄÇ ‚Äã Èó¥ÈöôÔºöMysql‰ºöËá™Âä®Áªô Èó¥Èöô Âä†Á¥¢ -&gt;Èó¥ÈöôÈîÅ„ÄÇÂç≥ Êú¨È¢ò ‰ºöËá™Âä®Áªôid=7ÁöÑÊï∞ÊçÆÂä† Èó¥ÈöôÈîÅÔºàË°åÈîÅÔºâ„ÄÇ ‚Äã Ë°åÈîÅÔºöÂ¶ÇÊûúÊúâwhereÔºåÂàôÂÆûÈôÖÂä†Á¥¢ÁöÑËåÉÂõ¥ Â∞±ÊòØwhereÂêéÈù¢ÁöÑËåÉÂõ¥Ôºà‰∏çÊòØÂÆûÈôÖÁöÑÂÄºÔºâ Êü•ËØ¢Ë°åÈîÅ ‚Äã Â¶Ç‰Ωï‰ªÖ‰ªÖÊòØÊü•ËØ¢Êï∞ÊçÆÔºåËÉΩÂê¶Âä†ÈîÅÔºü ÂèØ‰ª• for update ‚Äã Á†îÁ©∂Â≠¶‰π†Êó∂ÔºåÂ∞ÜËá™Âä®Êèê‰∫§ÂÖ≥Èó≠Ôºö ‚Äã set autocommit =0 ; ‚Äã start transaction ; ‚Äã begin ; ‚Äã select * from linelock where id =2 for update ; ‚Äã ‚Äã ÈÄöËøáfor updateÂØπqueryËØ≠Âè•ËøõË°åÂä†ÈîÅ„ÄÇ ‚Äã ‚Äã Ë°åÈîÅÔºö ‚Äã InnoDBÈªòËÆ§ÈááÁî®Ë°åÈîÅÔºõ ‚Äã Áº∫ÁÇπÔºö ÊØîË°®ÈîÅÊÄßËÉΩÊçüËÄóÂ§ß„ÄÇ ‚Äã ‰ºòÁÇπÔºöÂπ∂ÂèëËÉΩÂäõÂº∫ÔºåÊïàÁéáÈ´ò„ÄÇ ‚Äã Âõ†Ê≠§Âª∫ËÆÆÔºåÈ´òÂπ∂ÂèëÁî®InnoDBÔºåÂê¶ÂàôÁî®MyISAM„ÄÇ ‚Äã ‚Äã Ë°åÈîÅÂàÜÊûêÔºö ‚Äã show status like '%innodb_row_lock%' ; ‚Äã Innodb_row_lock_current_waits :ÂΩìÂâçÊ≠£Âú®Á≠âÂæÖÈîÅÁöÑÊï∞Èáè ‚Äã Innodb_row_lock_timeÔºöÁ≠âÂæÖÊÄªÊó∂Èïø„ÄÇ‰ªéÁ≥ªÁªüÂêØÂà∞Áé∞Âú® ‰∏ÄÂÖ±Á≠âÂæÖÁöÑÊó∂Èó¥ ‚Äã Innodb_row_lock_time_avg ÔºöÂπ≥ÂùáÁ≠âÂæÖÊó∂Èïø„ÄÇ‰ªéÁ≥ªÁªüÂêØÂà∞Áé∞Âú®Âπ≥ÂùáÁ≠âÂæÖÁöÑÊó∂Èó¥ ‚Äã Innodb_row_lock_time_max ÔºöÊúÄÂ§ßÁ≠âÂæÖÊó∂Èïø„ÄÇ‰ªéÁ≥ªÁªüÂêØÂà∞Áé∞Âú®ÊúÄÂ§ß‰∏ÄÊ¨°Á≠âÂæÖÁöÑÊó∂Èó¥ ‚Äã Innodb_row_lock_waits Ôºö Á≠âÂæÖÊ¨°Êï∞„ÄÇ‰ªéÁ≥ªÁªüÂêØÂà∞Áé∞Âú®‰∏ÄÂÖ±Á≠âÂæÖÁöÑÊ¨°Êï∞ ‰∏ª‰ªéÂ§çÂà∂ ‚Äã windows:mysql ‰∏ª ‚Äã linux:mysql‰ªé ÂÆâË£ÖwindowsÁâàmysql: Â¶ÇÊûú‰πãÂâçËÆ°ÁÆóÊú∫‰∏≠ÂÆâË£ÖËøáMysqlÔºåË¶ÅÈáçÊñ∞ÂÜçÂÆâË£Ö ÂàôÈúÄË¶ÅÔºöÂÖàÂç∏ËΩΩ ÂÜçÂÆâË£Ö ÂÖàÂç∏ËΩΩÔºö ÈÄöËøáÁîµËÑëËá™Â∏¶Âç∏ËΩΩÂ∑•ÂÖ∑Âç∏ËΩΩMysql (ÁîµËÑëÁÆ°ÂÆ∂‰πüÂèØ‰ª•) Âà†Èô§‰∏Ä‰∏™mysqlÁºìÂ≠òÊñá‰ª∂C:\\ProgramData\\MySQL Âà†Èô§Ê≥®ÂÜåË°®regedit‰∏≠ÊâÄÊúâmysqlÁõ∏ÂÖ≥ÈÖçÁΩÆ --ÈáçÂêØËÆ°ÁÆóÊú∫ ÂÆâË£ÖMYSQLÔºö ÂÆâË£ÖÊó∂ÔºåÂ¶ÇÊûúÂá∫Áé∞Êú™ÂìçÂ∫îÔºö ÂàôÈáçÊñ∞ÊâìÂºÄD:\\MySQL\\MySQL Server 5.5\\bin\\MySQLInstanceConfig.exe ÂõæÂΩ¢ÂåñÂÆ¢Êà∑Á´ØÔºö SQLyog, Navicat Â¶ÇÊûúË¶ÅËøúÁ®ãËøûÊé•Êï∞ÊçÆÂ∫ìÔºåÂàôÈúÄË¶ÅÊéàÊùÉËøúÁ®ãËÆøÈóÆ„ÄÇ ÊéàÊùÉËøúÁ®ãËÆøÈóÆ :(A-&gt;B,ÂàôÂÜçBËÆ°ÁÆóÊú∫ÁöÑMysql‰∏≠ÊâßË°å‰ª•‰∏ãÂëΩ‰ª§) GRANT ALL PRIVILEGES ON *.* TO 'root'@'%' IDENTIFIED BY 'root' WITH GRANT OPTION; FLUSH PRIVILEGES; Â¶ÇÊûú‰ªçÁÑ∂Êä•ÈîôÔºöÂèØËÉΩÊòØÈò≤ÁÅ´Â¢ôÊ≤°ÂÖ≥Èó≠ Ôºö Âú®BÂÖ≥Èó≠Èò≤ÁÅ´Â¢ô service iptables stop ÂÆûÁé∞‰∏ª‰ªéÂêåÊ≠•Ôºà‰∏ª‰ªéÂ§çÂà∂ÔºâÔºöÂõæ 1.masterÂ∞ÜÊîπÂèòÁöÑÊï∞ ËÆ∞ÂΩïÂú®Êú¨Âú∞ÁöÑ ‰∫åËøõÂà∂Êó•Âøó‰∏≠Ôºàbinary logÔºâ ÔºõËØ•ËøáÁ®ã Áß∞‰πã‰∏∫Ôºö‰∫åËøõÂà∂Êó•Âøó‰ª∂‰∫ã 2.slaveÂ∞ÜmasterÁöÑbinary logÊã∑Ë¥ùÂà∞Ëá™Â∑±ÁöÑ relay logÔºà‰∏≠ÁªßÊó•ÂøóÊñá‰ª∂Ôºâ‰∏≠ 3.‰∏≠ÁªßÊó•Âøó‰∫ã‰ª∂ÔºåÂ∞ÜÊï∞ÊçÆËØªÂèñÂà∞Ëá™Â∑±ÁöÑÊï∞ÊçÆÂ∫ì‰πã‰∏≠ MYSQL‰∏ª‰ªéÂ§çÂà∂ ÊòØÂºÇÊ≠•ÁöÑÔºå‰∏≤Ë°åÂåñÁöÑÔºå ÊúâÂª∂Ëøü master:slave = 1:n ÈÖçÁΩÆÔºö windows(mysql: my.ini) linux(mysql: my.cnf) ÈÖçÁΩÆÂâçÔºå‰∏∫‰∫ÜÊó†ËØØÔºåÂÖàÂ∞ÜÊùÉÈôê(ËøúÁ®ãËÆøÈóÆ)„ÄÅÈò≤ÁÅ´Â¢ôÁ≠âÂ§ÑÁêÜÔºö ÂÖ≥Èó≠windows/linuxÈò≤ÁÅ´Â¢ôÔºö windowsÔºöÂè≥ÈîÆ‚ÄúÁΩëÁªú‚Äù ,linux: service iptables stop MysqlÂÖÅËÆ∏ËøúÁ®ãËøûÊé•(windowos/linux)Ôºö GRANT ALL PRIVILEGES ON *.* TO 'root'@'%' IDENTIFIED BY 'root' WITH GRANT OPTION; FLUSH PRIVILEGES; ‰∏ªÊú∫Ôºà‰ª•‰∏ã‰ª£Á†ÅÂíåÊìç‰Ωú ÂÖ®ÈÉ®Âú®‰∏ªÊú∫windows‰∏≠Êìç‰ΩúÔºâÔºö my.ini [mysqld] #id server-id=1 #‰∫åËøõÂà∂Êó•ÂøóÊñá‰ª∂ÔºàÊ≥®ÊÑèÊòØ/ ‰∏çÊòØ\\Ôºâ log-bin=&quot;D:/MySQL/MySQL Server 5.5/data/mysql-bin&quot; #ÈîôËØØËÆ∞ÂΩïÊñá‰ª∂ log-error=&quot;D:/MySQL/MySQL Server 5.5/data/mysql-error&quot; #‰∏ª‰ªéÂêåÊ≠•Êó∂ ÂøΩÁï•ÁöÑÊï∞ÊçÆÂ∫ì binlog-ignore-db=mysql #(ÂèØÈÄâ)ÊåáÂÆö‰∏ª‰ªéÂêåÊ≠•Êó∂ÔºåÂêåÊ≠•Âì™‰∫õÊï∞ÊçÆÂ∫ì binlog-do-db=test windows‰∏≠ÁöÑÊï∞ÊçÆÂ∫ì ÊéàÊùÉÂì™Âè∞ËÆ°ÁÆóÊú∫‰∏≠ÁöÑÊï∞ÊçÆÂ∫ì ÊòØËá™Â∑±ÁöÑ‰ªéÊï∞ÊçÆÂ∫ìÔºö GRANT REPLICATION slave,reload,super ON . TO 'root'@'192.168.2.%' IDENTIFIED BY 'root'; flush privileges ; Êü•Áúã‰∏ªÊï∞ÊçÆÂ∫ìÁöÑÁä∂ÊÄÅÔºàÊØèÊ¨°Âú®Â∑¶‰∏ª‰ªéÂêåÊ≠•ÂâçÔºåÈúÄË¶ÅËßÇÂØü ‰∏ªÊú∫Áä∂ÊÄÅÁöÑÊúÄÊñ∞ÂÄºÔºâ show master status; Ôºàmysql-bin.000001„ÄÅ 107Ôºâ ‰ªéÊú∫Ôºà‰ª•‰∏ã‰ª£Á†ÅÂíåÊìç‰Ωú ÂÖ®ÈÉ®Âú®‰ªéÊú∫linux‰∏≠Êìç‰ΩúÔºâÔºö my.cnf [mysqld] server-id=2 log-bin=mysql-bin replicate-do-db=test linux‰∏≠ÁöÑÊï∞ÊçÆ ÊéàÊùÉÂì™Âè∞ËÆ°ÁÆóÊú∫‰∏≠ÁöÑÊï∞Êéß ÊòØËá™Â∑±ÁöÑ‰∏ªËÆ°ÁÆóÊú∫ CHANGE MASTER TO MASTER_HOST = '192.168.2.2', MASTER_USER = 'root', MASTER_PASSWORD = 'root', MASTER_PORT = 3306, master_log_file='mysql-bin.000001', master_log_pos=107; Â¶ÇÊûúÊä•ÈîôÔºöThis operation cannot be performed with a running slave; run STOP SLAVE first Ëß£ÂÜ≥ÔºöSTOP SLAVE ;ÂÜçÊ¨°ÊâßË°å‰∏äÊù°ÊéàÊùÉËØ≠Âè• ÂºÄÂêØ‰∏ª‰ªéÂêåÊ≠•Ôºö ‰ªéÊú∫linux: start slave ; Ê£ÄÈ™å show slave status \\G ‰∏ªË¶ÅËßÇÂØüÔºö Slave_IO_RunningÂíå Slave_SQL_RunningÔºåÁ°Æ‰øù‰∫åËÄÖÈÉΩÊòØyesÔºõÂ¶ÇÊûú‰∏çÈÉΩÊòØyesÔºåÂàôÁúã‰∏ãÊñπÁöÑ Last_IO_Error„ÄÇ Êú¨Ê¨° ÈÄöËøá Last_IO_ErrorÂèëÁé∞ÈîôËØØÁöÑÂéüÂõ†ÊòØ ‰∏ª‰ªé‰ΩøÁî®‰∫ÜÁõ∏ÂêåÁöÑserver-idÔºå Ê£ÄÊü•:Âú®‰∏ª‰ªé‰∏≠ÂàÜÂà´Êü•Áúãserverid: show variables like 'server_id' ; ÂèØ‰ª•ÂèëÁé∞ÔºåÂú®Linux‰∏≠ÁöÑmy.cnf‰∏≠ËÆæÁΩÆ‰∫Üserver-id=2Ôºå‰ΩÜÂÆûÈôÖÊâßË°åÊó∂ Á°ÆÂÆûserver-id=1ÔºåÂéüÂõ†ÔºöÂèØËÉΩÊòØ linuxÁâàMysqlÁöÑ‰∏Ä‰∏™bugÔºå‰πüÂèØËÉΩÊòØ windowsÂíåLinuxÁâàÊú¨‰∏ç‰∏ÄËá¥ÈÄ†ÊàêÁöÑÂÖºÂÆπÊÄßÈóÆÈ¢ò„ÄÇ Ëß£ÂÜ≥ÊîπbugÔºö set global server_id =2 ; stop slave ; set global server_id =2 ; start slave ; show slave status \\G ÊºîÁ§∫Ôºö ‰∏ªwindows =&gt;‰ªé windows: Â∞ÜË°®ÔºåÊèíÂÖ•Êï∞ÊçÆ ËßÇÂØü‰ªéÊï∞ÊçÆÂ∫ì‰∏≠ËØ•Ë°®ÁöÑÊï∞ÊçÆ Êï∞ÊçÆÂ∫ì+ÂêéÁ´Ø spring bootÔºà‰ºÅ‰∏öÁ∫ßÊ°ÜÊû∂,ÁõÆÂâç‰ΩøÁî®ËæÉÂ§öÔºâ ÂëΩ‰ª§ÈõÜÂêà mysql -u root -p ÁôªÂΩï show engines; ÊòæÁ§∫ÊîØÊåÅÂºïÊìé show variables like ‚Äò%storage_engine%‚Äô; Êü•ÁúãÂΩìÂâç‰ΩøÁî®ÂºïÊìé 12345678-- ÊåáÂÆöÊï∞ÊçÆÂ∫ìÂºïÊìécreate table tb(‚Äã id int(4) auto_increment,‚Äã name varchar(5),‚Äã dept varchar(5),‚Äã primary key(id))ENGINE=MyISAM AUTO_INCREMENT=1DEFAULT CHARSET=utf-8 Â∏∏Áî®ËØ≠Âè• Êï∞ÊçÆÂ∫ì 1234567891011121314151617181920212223#1.Êü•ÁúãÂ∑≤ÊúâÂ∫ì show databases;#2.ÂàõÂª∫Â∫ì(ÊåáÂÆöÂ≠óÁ¨¶ÈõÜ) create database Â∫ìÂêç character set utf8 ÔºõÊàñ charset=utf8; create database Â∫ìÂêç default charset utf8 collate utf8_general_ci;#Ê°à‰æãÔºöÂàõÂª∫stuÊï∞ÊçÆÂ∫ìÔºåÁºñÁ†Å‰∏∫utf8 create database stu character set utf8; create database stu charset=utf8;#3.Êü•ÁúãÂàõÂª∫Â∫ìÁöÑËØ≠Âè•(Â≠óÁ¨¶ÈõÜ) show create database Â∫ìÂêç;#Ê°à‰æãÔºöÊü•ÁúãstuÂàõÂª∫ÊñπÊ≥ï show create database stu;#4.Êü•ÁúãÂΩìÂâçÊâÄÂú®Â∫ì select database();#5.ÂàáÊç¢Â∫ì use Â∫ìÂêç;#Ê°à‰æãÔºö‰ΩøÁî®stuÊï∞ÊçÆÂ∫ì use stu;#6.Âà†Èô§Â∫ì drop database Â∫ìÂêç;#Ê°à‰æãÔºöÂà†Èô§testÊï∞ÊçÆÂ∫ì drop database test; #7.Â∫ìÂêçÁöÑÂëΩÂêçËßÑÂàô##Êï∞Â≠ó„ÄÅÂ≠óÊØç„ÄÅ‰∏ãÂàíÁ∫ø,‰ΩÜ‰∏çËÉΩ‰ΩøÁî®Á∫ØÊï∞Â≠ó##Â∫ìÂêçÂå∫ÂàÜÂ≠óÊØçÂ§ßÂ∞èÂÜô##‰∏çËÉΩ‰ΩøÁî®ÁâπÊÆäÂ≠óÁ¨¶ÂíåmysqlÂÖ≥ÈîÆÂ≠ó Ë°® 12345678910111213141516#ÂàõÂª∫CREATE TABLE IF NOT EXISTS `Ë°®Âêç`( `Â≠óÊÆµÂêç` INT UNSIGNED AUTO_INCREMENT, `Â≠óÊÆµÂêç` VARCHAR(100) NOT NULL, `Â≠óÊÆµÂêç` VARCHAR(40) NOT NULL, `Â≠óÊÆµÂêç` DATE, PRIMARY KEY ( `‰∏ªÈîÆÂ≠óÊÆµÂêç` ))ENGINE=InnoDB DEFAULT CHARSET=utf8;#ÂØπÂàõÂª∫ÂêéÁöÑË°®Ê∑ªÂä†Âàóalter table Ë°®Âêç add column Êñ∞Â¢ûÂàóÂêç Á±ªÂûã not null DEFAULT ÈªòËÆ§ÂÄº after Ââç‰∏Ä‰∏™ÂàóÂêç#ÂØπÂàõÂª∫Ë°®ÂêéÊ∑ªÂä†‰∏ªÂ§ñÈîÆalter table Ë°®Âêç add constraint primary key Ë°®ÂêçÔºà‰∏ªÈîÆÂ≠óÊÆµÂêçÔºâforeign key (Â§ñÂª∫Âêç) references Â§ñÂª∫Â≠óÊÆµÊâÄÂú®Ë°®Âêç (Â§ñÂª∫Â≠óÊÆµÂêç) on delete cascade; #on delete cascade Á∫ßËÅîÂà†Èô§ Êï∞ÊçÆ 1234#Â¢û#Âà†#Êîπ#Êü• ËøûÊé• 1234567#ÂÜÖËøûÊé• inner join on ‰∫§ÈõÜ#Â§ñËøûÊé•##Â∑¶ËøûÊé• left join on / left outer join on Â∑¶Ë°®+Âè≥Ë°®Á¨¶ÂêàÊù°‰ª∂Êï∞ÊçÆÔºåËÆ∞ÂΩï‰∏çË∂≥ÁöÑÂú∞Êñπ‰∏∫null##Âè≥ËøûÊé• right join on / right outer join on Âè≥Ë°®+Â∑¶Ë°®Á¨¶ÂêàÊù°‰ª∂Êï∞ÊçÆÔºåËÆ∞ÂΩï‰∏çË∂≥ÁöÑÂú∞Êñπ‰∏∫null#ÂÖ®ËøûÊé• union /union all Á¥¢Âºï 123456#ÂàõÂª∫Á¥¢Âºïcreate Á¥¢ÂºïÁ±ªÂûã Á¥¢ÂºïÂêç on Ë°®Âêç(Â≠óÊÆµÂêç);alter table Ë°®Âêç add Á¥¢ÂºïÁ±ªÂûã Á¥¢ÂºïÂêç(Â≠óÊÆµÂêç);#‰ΩøÁî®Âº∫Âà∂Á¥¢Âºïselect * from Ë°®Âêç FORCE INDEX (Á¥¢ÂºïÂêç) where Êù°‰ª∂; ËßÜÂõæ 1234567#ÂàõÂª∫ËßÜÂõæcreate view ËßÜÂõæÂêçÁß∞ as selectËØ≠Âè•;#--Êü•ÁúãËßÜÂõæÁªìÊûÑÔºödesc user_view; show create view user_view;#--Êü•ÁúãËßÜÂõæÂÜÖÂÆπÔºöselect * from user_view; Ê∏∏Ê†á 12345678910111213141516171819#ÂÆö‰πâDECLARE ÂÖâÊ†áÂêçÁß∞ CURSOR FOR Êü•ËØ¢ËØ≠Ê≥ïdeclare cursor_name cursor for select_statement#ÊâìÂºÄOPEN ÂÖâÊ†áÂêçÁß∞open cursor_name#ÂèñÊ∏∏Ê†á‰∏≠ÁöÑÊï∞ÊçÆFETCH ÂÖâÊ†áÂêçÁß∞ INFO var_name [Ôºåvar_name ].....fetch cursor_name info var_name#ÂÖ≥Èó≠Ê∏∏Ê†áCLOSE curso_name;close ÂÖâÊ†áÂêçÁß∞#ÈáäÊîæÊ∏∏Ê†áDEALLOCATE ÂÖâÊ†áÂêçÁß∞deallocate cursor_name; Ëß¶ÂèëÂô® 1234567891011121314#ÂàõÂª∫##Âè™Êúâ‰∏Ä‰∏™ÊâßË°åËØ≠Âè•CREATE TRIGGER Ëß¶ÂèëÂô®Âêç BEFORE|AFTER Ëß¶Âèë‰∫ã‰ª∂ ON Ë°®Âêç FOR EACH ROW ÊâßË°åËØ≠Âè•;##Â§ö‰∏™‰∏™ÊâßË°åËØ≠Âè•CREATE TRIGGER Ëß¶ÂèëÂô®Âêç BEFORE|AFTER Ëß¶Âèë‰∫ã‰ª∂ON Ë°®Âêç FOR EACH ROWBEGIN ÊâßË°åËØ≠Âè•ÂàóË°®END;#Á§∫‰æãcreate TRIGGER audit_log after INSERT on employees_test for each row begin INSERT INTO audit VALUES (NEW.ID, NEW.NAME);end ÂÖ∂‰ªñ 1234#Êü•ÁúãË°®Â≠óÊÆµ‰ø°ÊÅØdesc Ë°®Âêç#Êü•ÁúãÂàõÂª∫Ë°®sqlÔºàË°®ÊâÄÊúâ‰ø°ÊÅØÔºâshow create table Ë°®Âêç; 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384#ËæìÂá∫Ê†ºÂºèdate_format(date,&quot;%Y-%m&quot;) #ÊèíÂÖ•Â≠òÂú®ÂøΩÁï•insert ignoreÂ≠òÂú®ÂøΩÁï•#ÂéªÈô§ÈáçÂ§çdistinctÂ≠óÊÆµÂéªÈáç#ÂàÜÁªÑgroup by „ÄÇ„ÄÇhaving##group by Âú®where ÊúÄÂêé‰∏Ä‰∏™ÈôêÂà∂Êù°‰ª∂ÂêéÈù¢Ôºå‰∏çËÉΩÂú®ÈôêÂà∂Êù°‰ª∂‰∏≠Èó¥ÔºåHAVINGÊòØÂú®ÂàÜÁªÑÂêéÊâæÂà∞ÁâπÂÆöÁöÑÂàÜÁªÑ„ÄÇselect user_id from order_info where date &gt; '2025-10-15' and product_name in ('C++','Java','Python') and status='completed' group by user_id HAVING count(user_id)&gt;1 order by user_id # in exists##inÂÖàÂÜÖÂÜçÂ§ñnot in##EXISTSÂÖàÂ§ñÂÜçÂÜÖSELECT Â≠óÊÆµ from Ë°®Âêç where not EXISTS (select emp_no from dept_emp where employees.emp_no = dept_emp.emp_no)#ËøûÊé•,concat(last_name,'\\'',first_name)SELECT dept_no,GROUP_CONCAT(emp_no SEPARATOR ',') as employees from dept_emp group by dept_no#ËØ≠Ê≥ï: group_concat([distinct] Â≠óÊÆµ [order by ÊéíÂ∫èÂ≠óÊÆµ asc/desc] separator 'ÂàÜÈöîÁ¨¶')#ÂáΩÊï∞ÈªòËÆ§ÁöÑÂàÜÈöîÁ¨¶ÊòØ &quot;,&quot;ÔºåÈªòËÆ§ÂèØ‰ª•ÁúÅÁï•#ÊõøÊç¢replaceupdate titles_test set emp_no=replace(emp_no,'10001','10005') where id=5#Êõ¥Êç¢Ë°®Âêçalter table titles_test rename to titles_2017round(avg(score),3)#Ê≠£ÂàôÂåπÈÖçÔºåÊõøÊç¢ÔºåËÆ°ÁÆóÈïøÂ∫¶select id,length( regexp_replace(STRING, '[A-Z0-9]', '')) from strings#Êà™Âèñselect Â≠óÊÆµ from Ë°®Âêç order by right/left(Â≠óÊÆµ,2)substring(str,index)substring_index(str,delim,count)subdate(date,day)subtime(expr1,expr2)#ÂàÜÈ°µselect * from employees LIMIT 5 offset 5select * from employees LIMIT 5,5#Á™óÂè£ÂáΩÊï∞# ÊéíÂ∫èÂáΩÊï∞#mysql‚ÄîÊéíÂ∫èÂáΩÊï∞rank() over()„ÄÅdense_rank() over()„ÄÅrow_num() over()#Êù°‰ª∂Áõ∏ÂêåÊéíÂêçÁõ∏ÂêåÔºå Èó¥Êñ≠‰∏çËøûÁª≠ rank() over() Ë∑≥ËøáÈáçÂ§çÔºåÊØîÂ¶Ç 113446#Êù°‰ª∂Áõ∏ÂêåÊéíÂêçÁõ∏ÂêåÔºå Èó¥Êñ≠ËøûÁª≠ dense_rank() over() ‰∏çË∑≥ËøáÈáçÂ§çÔºåÊØîÂ¶Ç 112334#Êù°‰ª∂Áõ∏ÂêåÊéíÂêç‰∏çÁõ∏ÂêåÔºå‰∏çÈó¥Êñ≠ËøûÁª≠ row_num() over() ‰æùÊ¨°Áõ∏Âä†ÔºåÊØîÂ¶Ç 123456select id,number,dense_rank() over(order by number desc) as 'rank' from passing_number #‰ª•gradeÊéíÂ∫èÔºånumberÊåâÈ°∫Â∫è‰ª•ÂèägradeÂàÜÁªÑÁ¥ØÂä†#grade number#A 2#D 1#C 2#B 2select grade,sum(number) over(order by grade) t_rank from class_grade#Êó∂Èó¥##ÂΩìÂâçÊó∂Èó¥current_date/curdate() now()current_timestamp, current_timestamp()#Ê†ºÂºèËΩ¨Êç¢ Â≠óÁ¨¶‰∏≤ËΩ¨Êó∂Èó¥str_to_date('08/09/2008', '%m/%d/%Y'); -- 2008-08-09str_to_date('08/09/08' , '%m/%d/%y'); -- 2008-08-09str_to_date('08.09.2008', '%m.%d.%Y'); -- 2008-08-09str_to_date('08:09:30', '%h:%i:%s'); -- 08:09:30str_to_date('08.09.2008 08:09:30', '%m.%d.%Y %h:%i:%s'); -- 2008-08-09 08:09:30#Êó∂Èó¥Â¢ûÂáè#Êù°‰ª∂ÂàÜÊîØ(case when Êù°‰ª∂ then ËØ≠Âè• when Êù°‰ª∂ then ËØ≠Âè• else ËØ≠Âè• end) as bonusselect e.emp_no,e.first_name,e.last_name,eb.btype,s.salary,(case when eb.btype = 1 then s.salary*0.1 when eb.btype= 2 then s.salary*0.2 else s.salary*0.3 end) as bonus from employees e INNER join emp_bonus eb on e.emp_no=eb.emp_no INNER join salaries s on e.emp_no=s.emp_no where s.to_date='9999-01-01'; Á™óÂè£ÂáΩÊï∞ 1.Á™óÂè£ÂáΩÊï∞ËØ≠Ê≥ï 12&lt;Á™óÂè£ÂáΩÊï∞&gt; over (partition by &lt;Áî®‰∫éÂàÜÁªÑÁöÑÂàóÂêç&gt; order by &lt;Áî®‰∫éÊéíÂ∫èÁöÑÂàóÂêç&gt;) &lt;Á™óÂè£ÂáΩÊï∞&gt;ÁöÑ‰ΩçÁΩÆÔºåÂèØ‰ª•Êîæ‰ª•‰∏ã‰∏§ÁßçÂáΩÊï∞Ôºö 1Ôºâ ‰∏ìÁî®Á™óÂè£ÂáΩÊï∞ÔºåÊØîÂ¶Ç Â∫èÂè∑ÂáΩÊï∞ rank, dense_rank, row_number„ÄÅ ÂàÜÂ∏ÉÂáΩÊï∞ÔºöPERCENT_RANK()„ÄÅCUME_DIST()„ÄÅPERCENT_RANK() ÂâçÂêéÂáΩÊï∞ÔºöLAG(expr,n)„ÄÅLEAD(expr,n) ÂâçÂêéÂáΩÊï∞ÔºöLAG(expr,n)„ÄÅLEAD(expr,n) ÂÖ∂ÂÆÉÂáΩÊï∞ÔºöNTH_VALUE(expr, n)„ÄÅNTILE(n)„ÄÅNTH_VALUE(expr,n) 2Ôºâ ËÅöÂêàÂáΩÊï∞ÔºåÂ¶Çsum. avg, count, max, minÁ≠â 2.Á™óÂè£ÂáΩÊï∞Êúâ‰ª•‰∏ãÂäüËÉΩÔºö 1ÔºâÂêåÊó∂ÂÖ∑ÊúâÂàÜÁªÑÔºàpartition byÔºâÂíåÊéíÂ∫èÔºàorder byÔºâÁöÑÂäüËÉΩ 2Ôºâ‰∏çÂáèÂ∞ëÂéüË°®ÁöÑË°åÊï∞ÔºåÊâÄ‰ª•ÁªèÂ∏∏Áî®Êù•Âú®ÊØèÁªÑÂÜÖÊéíÂêç 3.Ê≥®ÊÑè‰∫ãÈ°π Á™óÂè£ÂáΩÊï∞ÂéüÂàô‰∏äÂè™ËÉΩÂÜôÂú®selectÂ≠êÂè•‰∏≠ 4.Á™óÂè£ÂáΩÊï∞‰ΩøÁî®Âú∫ÊôØ 1Ôºâ‰∏öÂä°ÈúÄÊ±Ç‚ÄúÂú®ÊØèÁªÑÂÜÖÊéíÂêç‚Äù mysqlÊà™ÂèñÂ≠óÁ¨¶‰∏≤ÂáΩÊï∞ 1„ÄÅleft(str,length) ‰ªéÂ∑¶ËæπÊà™Âèñlength 2„ÄÅright(str,length)‰ªéÂè≥ËæπÊà™Âèñlength 3„ÄÅsubstring(str,index)ÂΩìindex&gt;0‰ªéÂ∑¶ËæπÂºÄÂßãÊà™ÂèñÁõ¥Âà∞ÁªìÊùü ÂΩìindex&lt;0‰ªéÂè≥ËæπÂºÄÂßãÊà™ÂèñÁõ¥Âà∞ÁªìÊùü ÂΩìindex=0ËøîÂõûÁ©∫ 4„ÄÅsubstring(str,index,len) Êà™Âèñstr,‰ªéindexÂºÄÂßãÔºåÊà™ÂèñlenÈïøÂ∫¶ 5„ÄÅsubstring_index(str,delim,count)ÔºåstrÊòØË¶ÅÊà™ÂèñÁöÑÂ≠óÁ¨¶‰∏≤ÔºådelimÊòØÊà™ÂèñÁöÑÂ≠óÊÆµ countÊòØ‰ªéÂì™ÈáåÂºÄÂßãÊà™Âèñ(‰∏∫0ÂàôÊòØÂ∑¶ËæπÁ¨¨0‰∏™ÂºÄÂßãÔºå1‰ΩçÂ∑¶ËæπÂºÄÂßãÁ¨¨‰∏Ä‰∏™ÈÄâÂèñÂ∑¶ËæπÁöÑÔºå-1‰ªéÂè≥ËæπÁ¨¨‰∏Ä‰∏™ÂºÄÂßãÈÄâÂèñÂè≥ËæπÁöÑ 6„ÄÅsubdate(date,day)Êà™ÂèñÊó∂Èó¥ÔºåÊó∂Èó¥ÂáèÂéªÂêéÈù¢ÁöÑday 7„ÄÅsubtime(expr1,expr2) Êó∂ÂàÜÁßíexpr1-expr2 8„ÄÅmysqlÁ¥¢Âºï‰ªé1ÂºÄÂßã ÂÖ®ÊñáÁ¥¢ÂºïÔºö ÊòØÁõÆÂâçÊêúÁ¥¢ÂºïÊìé‰ΩøÁî®ÁöÑ‰∏ÄÁßçÂÖ≥ÈîÆÊäÄÊúØ„ÄÇ ÂèØ‰ª•ÈÄöËøáALTER TABLE table_name ADD FULLTEXT (column);ÂàõÂª∫ÂÖ®ÊñáÁ¥¢Âºï Êü•ËØ¢Êï∞ÊçÆÂ∫ì‰∏≠Ë°®‰ø°ÊÅØ 123456SELECT *FROM information_schema.`TABLES`WHERE TABLE_SCHEMA = 'hz_hbzy'; Postgres Â≠óÊÆµÊò†Â∞Ñ Postgres‰∏éMysql‰∏çÂêå Êü•ËØ¢Â≠óÊÆµÂ§áÊ≥® 12select a.attnum,a.attname,concat_ws('',t.typname,SUBSTRING(format_type(a.atttypid,a.atttypmod) from '\\(.*\\)')) as type,d.description from pg_class c,pg_attribute a,pg_type t,pg_description dwhere c.relname='com_capture' and a.attnum&gt;0 and a.attrelid=c.oid and a.atttypid=t.oid and d.objoid=a.attrelid and d.objsubid=a.attnum; ÂèñgeomÊï∞ÊçÆ 12select st_astext(geom) from ttt # testÂΩ¢ÂºèSELECT st_asgeojson(geom) FROM &quot;ygjcgd&quot; # geojsonÂΩ¢Âºè Â≠ògeom 12ÁÇπINSERT into ttt values ('1',ST_GeomFromText('POINT(119.104393005 29.3091735840001)',4490))Èù¢INSERT into ttt values ('2',ST_GeomFromText('POLYGON((120.489420304 30.2855081450001,120.48927819 30.2855092200001,120.489034534 30.2855205130001,120.488415416 30.2855540510001,120.488238647 30.285563627,120.487775051 30.2856122420001,120.487543209 30.2856365540001,120.48696129 30.28571928,120.486939727 30.285722842,120.486661766 30.2857687420001,120.48676176 30.2859599880001,120.486786439 30.2860551310001,120.486803289 30.286632664,120.487353662 30.2866268860001,120.487351682 30.2864715210001,120.487351632 30.286467605,120.487350721 30.2863964210001,120.487346937 30.2860998030001,120.487342737 30.285770433,120.487400427 30.2857633680001,120.487405079 30.285760184,120.48740623 30.285961001,120.487409165 30.2864727900001,120.487409564 30.286542108,120.487409728 30.2865708910001,120.487410051 30.2866269530001,120.487415064 30.2866269360001,120.487781689 30.2866291820001,120.488148313 30.286631426,120.488229104 30.286631782,120.488646675 30.2866336280001,120.488672652 30.2866335310001,120.489108909 30.286635501,120.489545164 30.286637469,120.489554908 30.2866377670001,120.489587466 30.2866073650001,120.489631665 30.286574779,120.489633218 30.2865468840001,120.489635952 30.286497766,120.489630193 30.2864750590001,120.489620367 30.286436291,120.489576415 30.2862629480001,120.489538252 30.286111927,120.489518579 30.286034075,120.489490667 30.2859208350001,120.489445946 30.285699532,120.489442796 30.285683949,120.489435137 30.2856060400001,120.489420304 30.2855081450001))',4490)) Ê∑ªÂä†geomÊâ©Â±ï 12345CREATE EXTENSION postgis;CREATE EXTENSION fuzzystrmatch;CREATE EXTENSION postgis_tiger_geocoder;CREATE EXTENSION address_standardizer;CREATE EXTENSION postgis_topology; PostgREST ÊúçÂä°ÂèëÂ∏É Â∏∏Áî®ÂáΩÊï∞ ÂõæÂΩ¢ÂíåÂú∞ÁêÜ‰ΩçÁΩÆ ST_GeometryType(geometry) ‚Äî‚Äî ËøîÂõûÂá†‰ΩïÂõæÂΩ¢ÁöÑÁ±ªÂûã ST_Transform(geometry, srid)‚Äî‚ÄîÂ∞ÜÂá†‰ΩïÂõæÂΩ¢ÊäïÂΩ±‰∏∫Âú∞ÁêÜÂùêÊ†áÊï∞ÊçÆ Êàñ ËΩ¨Êç¢‰∏∫‰∏çÂêåsridÂùêÊ†áÁ≥ªÁªüÁöÑÂùêÊ†áÊï∞ÊçÆ Geography(geometry)‚Äî‚ÄîÂ∞ÜÂü∫‰∫éEPSG:4326(srid=4326)ÁöÑgeometryÊï∞ÊçÆÁ±ªÂûãËΩ¨Êç¢‰∏∫geographyÊï∞ÊçÆÁ±ªÂûã ST_NDims(geometry) ‚Äî‚Äî ËøîÂõûÂá†‰ΩïÂõæÂΩ¢ÁöÑÁª¥Êï∞ ST_SRID(geometry) ‚Äî‚Äî ËøîÂõûÂá†‰ΩïÂõæÂΩ¢ÁöÑÁ©∫Èó¥ÂèÇËÄÉÊ†áËØÜÁ†Å srid ST_SetSRID(geometryÔºåSRIDÔºâ‚Äî‚ÄîËÆæÁΩÆsrid sum(expression) ‚Äî‚ÄîËøîÂõû‰∏Ä‰∏™ËÆ°ÁÆóÂºè/Ë°®ËææÂºèÁöÑÂíå count(expression) ‚Äî‚ÄîËøîÂõû‰∏Ä‰∏™Ë°®ËææÂºè‰∏≠ÁöÑÊ¨°Êï∞ PS : geometryÔºåÊòØÂá†‰ΩïÁ±ªÂûãÁöÑÂàóÁöÑÂàóÂêç sridÔºå‰∏çÂêåÁöÑsridÂ∞±ÊòØ‰∏çÂêåÊ†áÂáÜÁöÑÂùêÊ†áÁ≥ª ÁÇπÁ©∫Èó¥ÂáΩÊï∞Ôºö ST_X(geometry) ‚Äî‚Äî ËøîÂõûXÂùêÊ†á ST_Y(geometry) ‚Äî‚Äî ËøîÂõûYÂùêÊ†á Á∫ø‰∏≤Á©∫Èó¥ÂáΩÊï∞Ôºö ST_Length(geometry) ‚Äî‚Äî ËøîÂõûÁ∫ø‰∏≤ÁöÑÈïøÂ∫¶ ST_StartPoint(geometry) ‚Äî‚Äî Â∞ÜÁ∫ø‰∏≤ÁöÑÁ¨¨‰∏Ä‰∏™ÂùêÊ†á‰Ωú‰∏∫ÁÇπËøîÂõû ST_EndPoint(geometryÔºâ ‚Äî‚Äî Â∞ÜÁ∫ø‰∏≤ÁöÑÊúÄÂêé‰∏Ä‰∏™ÂùêÊ†á‰Ωú‰∏∫ÁÇπËøîÂõû ST_NPoints(geometry) ‚Äî‚Äî ËøîÂõûÁ∫ø‰∏≤ÁöÑÂùêÊ†áÊï∞Èáè Â§öËæπÂΩ¢Á©∫Èó¥ÂáΩÊï∞Ôºö ST_Area(geometry) ‚Äî‚Äî ËøîÂõûÂ§öËæπÂΩ¢ÁöÑÈù¢ÁßØ ST_NRings(geometry) ‚Äî‚Äî ËøîÂõûÂ§öËæπÂΩ¢‰∏≠ÁéØÁöÑÊï∞ÈáèÔºàÈÄöÂ∏∏‰∏∫1‰∏™ÔºåÂÖ∂‰ªñÊòØÂ≠îÔºâ ST_ExteriorRing(geometry) ‚Äî‚Äî ‰ª•Á∫ø‰∏≤ÁöÑÂΩ¢ÂºèËøîÂõûÂ§öËæπÂΩ¢ÊúÄÂ§ñÈù¢ÁöÑÁéØ ST_InteriorRingN(geometry, n) ‚Äî‚Äî ‰ª•Á∫ø‰∏≤ÂΩ¢ÂºèËøîÂõûÊåáÂÆöÁöÑÂÜÖÈÉ®ÁéØ ST_Perimeter(geometry) ‚Äî‚Äî ËøîÂõûÊâÄÊúâÁéØÁöÑÈïøÂ∫¶ ÈõÜÂêàÁ©∫Èó¥ÂáΩÊï∞(Â§öÁÇπ„ÄÅÂ§öÁ∫ø„ÄÅÂ§öÈù¢„ÄÅ‰ªªÊÑèÂõæÂΩ¢ÁªÑÂêà)Ôºö ST_NumGeometries(geometry) ‚Äî‚Äî ËøîÂõûÈõÜÂêà‰∏≠ÁöÑÁªÑÊàêÈÉ®ÂàÜÁöÑÊï∞Èáè ST_GeometryN(geometry, n) ‚Äî‚Äî ËøîÂõûÈõÜÂêà‰∏≠ÊåáÂÆöÁöÑÁªÑÊàêÈÉ®ÂàÜ ST_Area(geometry) ‚Äî‚Äî ËøîÂõûÈõÜÂêà‰∏≠ÊâÄÊúâÂ§öËæπÂΩ¢ÁªÑÊàêÈÉ®ÂàÜÁöÑÊÄªÈù¢ÁßØ ST_Length(geometry) ‚Äî‚Äî ËøîÂõûÊâÄÊúâÁ∫øÊÆµÁªÑÊàêÈÉ®ÂàÜÁöÑÊÄªÈïøÂ∫¶ Âá†‰ΩïÂõæÂΩ¢ËæìÂÖ•ÂíåËæìÂá∫ Âú®Êï∞ÊçÆÂ∫ì‰∏≠ÔºåÂá†‰ΩïÂõæÂΩ¢ÔºàGeometryÔºâ‰ª•‰ªÖ‰æõPostGIS‰ΩøÁî®ÁöÑÊ†ºÂºèÂ≠òÂÇ®Âú®Á£ÅÁõò‰∏ä„ÄÇ‰∏∫‰∫ÜËÆ©Â§ñÈÉ®Á®ãÂ∫èÊèíÂÖ•ÂíåÊ£ÄÁ¥¢ÊúâÁî®ÁöÑÂá†‰ΩïÂõæÂΩ¢‰ø°ÊÅØÔºåÈúÄË¶ÅÂ∞ÜÂÆÉ‰ª¨ËΩ¨Êç¢‰∏∫ÂÖ∂‰ªñÂ∫îÁî®Á®ãÂ∫èÂèØ‰ª•ÁêÜËß£ÁöÑÊ†ºÂºè„ÄÇ ‚ë†Well-known textÔºàWKTÔºâ ST_GeomFromText(text, srid) ‚Äî‚Äî ËøîÂõûgeometryÔºåÈô§ÈùûÊåáÂÆöSRIDÔºåÂê¶ÂàôÂ∞ÜÂæóÂà∞‰∏Ä‰∏™ÂåÖÂê´Êú™Áü•SRIDÁöÑÂá†‰ΩïÂõæÂΩ¢ ST_GeographyFromText(text)‚Äî‚ÄîËøîÂõûGeography ST_AsText(geometry) ‚Äî‚Äî ËøîÂõûtext ST_AsEWKT(geometry) ‚Äî‚Äî ËøîÂõûtext ‚ë°Well-known binaryÔºàWKBÔºâ ST_GeomFromWKB(bytea) ‚Äî‚Äî ËøîÂõûgeometry ST_AsBinary(geometry) ‚Äî‚Äî ËøîÂõûbytea ST_AsEWKB(geometry) ‚Äî‚Äî ËøîÂõûbytea ‚ë¢Geographic Mark-up LanguageÔºàGMLÔºâ ST_GeomFromGML(text) ‚Äî‚Äî ËøîÂõûgeometry ST_ASGML(geometry) ‚Äî‚Äî ËøîÂõûtext ‚ë£Keyhole Mark-up LanguageÔºàKMLÔºâ ST_GeomFromKML(text) ‚Äî‚Äî ËøîÂõûgeometry ST_ASKML(geometry) ‚Äî‚Äî ËøîÂõûtext ‚ë§GeoJson ST_AsGeoJSON(geometry) ‚Äî‚Äî ËøîÂõûtext ‚ë•Scalable Vector Graphics(SVGÔºâ ST_AsSVG(geometry) ‚Äî‚Äî ËøîÂõûtext ‰ª•‰∏äÂáΩÊï∞ÊúÄÂ∏∏ËßÅÁöÑÁî®Ê≥ïÊòØÂ∞ÜÂá†‰ΩïÂõæÂΩ¢ÁöÑÊñáÊú¨ÔºàtextÔºâË°®Á§∫ÂΩ¢ÂºèËΩ¨Êç¢‰∏∫ÂÜÖÈÉ®Ë°®Á§∫ÂΩ¢Âºè ËØ∑Ê≥®ÊÑèÔºåÈô§‰∫ÜÂÖ∑ÊúâÂá†‰ΩïÂõæÂΩ¢Ë°®Á§∫ÂΩ¢ÂºèÁöÑÊñáÊú¨ÂèÇÊï∞Â§ñÔºåËøòÂèØ‰ª•ÊåáÂÆö‰∏Ä‰∏™Êèê‰æõÂá†‰ΩïÂõæÂΩ¢SRIDÁöÑÊï∞Â≠óÂèÇÊï∞„ÄÇ ÂõæÂΩ¢ÂÖ≥Á≥ª ST_Equals(geometry A, geometry B) Áî®‰∫éÊµãËØï‰∏§‰∏™ÂõæÂΩ¢ÁöÑÁ©∫Èó¥Áõ∏Á≠âÊÄß„ÄÇ Â¶ÇÊûú‰∏§‰∏™Áõ∏ÂêåÁ±ªÂûãÁöÑÂá†‰ΩïÂõæÂΩ¢ÂÖ∑ÊúâÁõ∏ÂêåÁöÑx„ÄÅyÂùêÊ†áÂÄºÔºåÂç≥Â¶ÇÊûúÁ¨¨‰∫å‰∏™ÂõæÂΩ¢‰∏éÁ¨¨‰∏Ä‰∏™ÂõæÂΩ¢ÁöÑÂùêÊ†á‰ø°ÊÅØÁõ∏Á≠âÔºàÁõ∏ÂêåÔºâÔºåÂàôST_Equals()ËøîÂõûTRUE„ÄÇ ST_Intersects„ÄÅST_Disjoint„ÄÅST_CrossesÂíåST_Overlaps ST_Intersects„ÄÅST_CrossesÂíåST_OverlapsÊµãËØïÂá†‰ΩïÂõæÂΩ¢ÊòØÂê¶Áõ∏‰∫§„ÄÇ Â¶ÇÊûú‰∏§‰∏™ÂõæÂΩ¢ÊúâÈáçÂêàÁöÑÈÉ®ÂàÜÔºåÂç≥Â¶ÇÊûúÂÆÉ‰ª¨ÁöÑËæπÁïåÊàñÂÜÖÈÉ®Áõ∏‰∫§ÔºåÂàô**ST_Intersects(geometry A, geometry B)**ËøîÂõûTRUE ST_Disjoint(geometry A, geometry B)ÔºåÂ¶ÇÊûú‰∏§‰∏™Âá†‰ΩïÂõæÂΩ¢Ê≤°ÊúâÈáçÂêàÁöÑÈÉ®ÂàÜÔºåÂàôÂÆÉ‰ª¨‰∏çÁõ∏‰∫§ÔºåÂèç‰πã‰∫¶ÁÑ∂„ÄÇ‰∫ãÂÆû‰∏äÊµãËØï&quot;not intersect&quot;ÈÄöÂ∏∏ÊØîÊµãËØï&quot;disjoint&quot;Êõ¥ÊúâÊïàÔºåÂõ†‰∏∫intersectÊµãËØïÂèØ‰ª•‰ΩøÁî®Á©∫Èó¥Á¥¢Âºï ÂØπ‰∫émultipoint/polygon„ÄÅmultipoint/linestring„ÄÅlinestring/linestring„ÄÅlinestring/polygonÂíålinestring/multipolygonÁöÑÊØîËæÉÔºåÂ¶ÇÊûúÁõ∏‰∫§ÁîüÊàêÁöÑÂá†‰ΩïÂõæÂΩ¢ÁöÑÁª¥Â∫¶Â∞è‰∫é‰∏§‰∏™Ê∫êÂá†‰ΩïÂõæÂΩ¢ÁöÑÊúÄÂ§ßÁª¥Â∫¶Ôºå‰∏îÁõ∏‰∫§ÈõÜ‰Ωç‰∫é‰∏§‰∏™Ê∫êÂá†‰ΩïÂõæÂΩ¢ÁöÑÂÜÖÈÉ®ÔºåÂàô**ST_Crosses(geometry A, geometry B)**Â∞ÜËøîÂõûTRUE„ÄÇ ST_Overlaps(geometry A, geometry B)ÊØîËæÉ‰∏§‰∏™Áõ∏ÂêåÁª¥Â∫¶ÁöÑÂá†‰ΩïÂõæÂΩ¢ÔºåÂ¶ÇÊûúÂÆÉ‰ª¨ÁöÑÁªìÊûúÈõÜ‰∏é‰∏§‰∏™Ê∫êÂá†‰ΩïÂõæÂΩ¢ÈÉΩ‰∏çÂêå‰ΩÜÂÖ∑ÊúâÁõ∏ÂêåÁª¥Â∫¶ÔºåÂàôËøîÂõûTRUE„ÄÇ ST_Touches() ÊµãËØï‰∏§‰∏™Âá†‰ΩïÂõæÂΩ¢ÊòØÂê¶Âú®ÂÆÉ‰ª¨ÁöÑËæπÁïå‰∏äÊé•Ëß¶Ôºå‰ΩÜÂú®ÂÆÉ‰ª¨ÁöÑÂÜÖÈÉ®‰∏çÁõ∏‰∫§ Â¶ÇÊûú‰∏§‰∏™Âá†‰ΩïÂõæÂΩ¢ÁöÑËæπÁïåÁõ∏‰∫§ÔºåÊàñËÄÖÂè™Êúâ‰∏Ä‰∏™Âá†‰ΩïÂõæÂΩ¢ÁöÑÂÜÖÈÉ®‰∏éÂè¶‰∏Ä‰∏™Âá†‰ΩïÂõæÂΩ¢ÁöÑËæπÁïåÁõ∏‰∫§ÔºåÂàô**ST_Touches(geometry A, geometry B)**Â∞ÜËøîÂõûTRUE ST_WithinÂíåST_Contains ST_Within()ÂíåST_Contains()ÊµãËØï‰∏Ä‰∏™Âá†‰ΩïÂõæÂΩ¢ÊòØÂê¶ÂÆåÂÖ®‰Ωç‰∫éÂè¶‰∏Ä‰∏™Âá†‰ΩïÂõæÂΩ¢ÂÜÖ Â¶ÇÊûúÁ¨¨‰∏Ä‰∏™Âá†‰ΩïÂõæÂΩ¢ÂÆåÂÖ®‰Ωç‰∫éÁ¨¨‰∫å‰∏™Âá†‰ΩïÂõæÂΩ¢ÂÜÖÔºåÂàôST_Within(geometry A, geometry B)ËøîÂõûTRUEÔºåST_Within()ÊµãËØïÁöÑÁªìÊûú‰∏éST_Contains()ÂÆåÂÖ®Áõ∏Âèç Â¶ÇÊûúÁ¨¨‰∫å‰∏™Âá†‰ΩïÂõæÂΩ¢ÂÆåÂÖ®ÂåÖÂê´Âú®Á¨¨‰∏Ä‰∏™Âá†‰ΩïÂõæÂΩ¢ÂÜÖÔºåÂàôST_Contains(geometry A, geometry B)ËøîÂõûTRUE ST_DistanceÂíåST_DWithin **ST_Distance(geometry A, geometry B)**ËÆ°ÁÆó‰∏§‰∏™Âá†‰ΩïÂõæÂΩ¢‰πãÈó¥ÁöÑÊúÄÁü≠Ë∑ùÁ¶ªÔºåÂπ∂Â∞ÜÂÖ∂‰Ωú‰∏∫ÊµÆÁÇπÊï∞ËøîÂõû„ÄÇËøôÂØπ‰∫éÂÆûÈôÖÊä•ÂëäÂá†‰ΩïÂõæÂΩ¢‰πãÈó¥ÁöÑË∑ùÁ¶ªÈùûÂ∏∏ÊúâÁî® ST_DWithin()ÔºåÊµãËØï‰∏§‰∏™Âá†‰ΩïÂõæÂΩ¢‰πãÈó¥ÁöÑË∑ùÁ¶ªÊòØÂê¶Âú®Êüê‰∏™ËåÉÂõ¥‰πãÂÜÖÔºå geographyÁ±ªÂûã ST_AsText(geography) returns text ST_GeographyFromText(text) returns geography ST_AsBinary(geography) returns bytea ST_GeogFromWKB(bytea) returns geography ST_AsSVG(geography) returns text ST_AsGML(geography) returns text ST_AsKML(geography) returns text ST_AsGeoJson(geography) returns text ST_Distance(geography, geography) returns double ST_DWithin(geography, geography, float8) returns boolean ST_Area(geography) returns double ST_Length(geography) returns double ST_Covers(geography, geography) returns boolean ST_CoveredBy(geography, geography) returns boolean ST_Intersects(geography, geography) returns boolean ST_Buffer(geography, float8) returns geography[1] ST_Intersection(geography, geography) returns geography[1] geographyËΩ¨Êç¢‰∏∫geometry PostgreSQLÁöÑÁ±ªÂûãËΩ¨Êç¢ËØ≠Ê≥ïÊòØÂ∞Ü ::typename ÈôÑÂä†Âà∞Â∏åÊúõËΩ¨Êç¢ÁöÑÂÄºÁöÑÊú´Â∞æ„ÄÇÂõ†Ê≠§Ôºå2::textÂ∞ÜÊï∞Â≠ó2ËΩ¨Êç¢‰∏∫ÊñáÊú¨Â≠óÁ¨¶‰∏≤&quot;2&quot;Ôºõ'POINT(0 0)' :: geometryÂ∞ÜÁÇπÁöÑÊñáÊú¨Ë°®Á§∫ÂΩ¢ÂºèËΩ¨Êç¢‰∏∫geometryÁÇπ ‰∏äÂ•Ω‰æãÈ¢ò Êó∂Èó¥Ê†ºÂºèÔºåÊà™ÂèñÂåπÈÖçÔºåÂàÜÁªÑÔºåÊéíÂ∫è 1select job,date_format(date,&quot;%Y-%m&quot;) as mon,sum(num) as cnt from resume_info where left(date,4)= '2025' group by job,mon order by mon desc,cnt desc ÂçïËæìÂÖ•ÔºåÂ§öÂ≠óÊÆµÊü•ËØ¢ 123&lt;if test=&quot;text!=null and text!=''&quot;&gt; and CONCAT(t.city,t.bh,t.cun,t.jsztmc,t.xmxmmc) like concat ('%',#{text},'%')&lt;/if&gt; ÊúâÊ≤°ÊúâËøõË°åËøáÂàÜÂ∫ìÂàÜË°®Êìç‰ΩúÔºüÂàÜÂ∫ì‰πãÂêéÂ¶Ç‰Ωï‰øùÊåÅ‰∫ãÂä°‰∏ÄËá¥Ôºü JavaÂ≠óÊÆµÊò†Â∞Ñ ÂÖ®Â≠óÊÆµËØ¶Ë°® Êï∞ÂÄº ÂèÇËÄÉ Á±ªÂûã Â§ßÂ∞è ËåÉÂõ¥ÔºàÊúâÁ¨¶Âè∑Ôºâ ËåÉÂõ¥ÔºàÊó†Á¨¶Âè∑UNSIGNEDÔºâ Áî®ÈÄî TINYINT 1 Bytes (-128Ôºå127) (0Ôºå255) Â∞èÊï¥Êï∞ÂÄº SMALLINT 2 Bytes (-32 768Ôºå32 767) (0Ôºå65 535) Â§ßÊï¥Êï∞ÂÄº MEDIUMINT 3 Bytes (-8 388 608Ôºå8 388 607) (0Ôºå16 777 215) Â§ßÊï¥Êï∞ÂÄº INTÊàñINTEGER 4 Bytes (-2 147 483 648Ôºå2 147 483 647) (0Ôºå4 294 967 295) Â§ßÊï¥Êï∞ÂÄº BIGINT 8 Bytes (-9,223,372,036,854,775,808Ôºå9 223 372 036 854 775 807) (0Ôºå18 446 744 073 709 551 615) ÊûÅÂ§ßÊï¥Êï∞ÂÄº FLOAT 4 Bytes (-3.402 823 466 E+38Ôºå-1.175 494 351 E-38)Ôºå0Ôºå(1.175 494 351 E-38Ôºå3.402 823 466 351 E+38) 0Ôºå(1.175 494 351 E-38Ôºå3.402 823 466 E+38) ÂçïÁ≤æÂ∫¶ ÊµÆÁÇπÊï∞ÂÄº DOUBLE 8 Bytes (-1.797 693 134 862 315 7 E+308Ôºå-2.225 073 858 507 201 4 E-308)Ôºå0Ôºå(2.225 073 858 507 201 4 E-308Ôºå1.797 693 134 862 315 7 E+308) 0Ôºå(2.225 073 858 507 201 4 E-308Ôºå1.797 693 134 862 315 7 E+308) ÂèåÁ≤æÂ∫¶ ÊµÆÁÇπÊï∞ÂÄº DECIMAL ÂØπDECIMAL(M,D) ÔºåÂ¶ÇÊûúM&gt;DÔºå‰∏∫M+2Âê¶Âàô‰∏∫D+2 ‰æùËµñ‰∫éMÂíåDÁöÑÂÄº ‰æùËµñ‰∫éMÂíåDÁöÑÂÄº Â∞èÊï∞ÂÄº Êó∂Èó¥ Á±ªÂûã Â§ßÂ∞è ( bytes) ËåÉÂõ¥ Ê†ºÂºè Áî®ÈÄî DATE 3 1000-01-01/9999-12-31 YYYY-MM-DD Êó•ÊúüÂÄº TIME 3 '-838:59:59'/'838:59:59' HH:MM:SS Êó∂Èó¥ÂÄºÊàñÊåÅÁª≠Êó∂Èó¥ YEAR 1 1901/2155 YYYY Âπ¥‰ªΩÂÄº DATETIME 8 1000-01-01 00:00:00/9999-12-31 23:59:59 YYYY-MM-DD HH:MM:SS Ê∑∑ÂêàÊó•ÊúüÂíåÊó∂Èó¥ÂÄº TIMESTAMP 4 1970-01-01 00:00:00/2038ÁªìÊùüÊó∂Èó¥ÊòØÁ¨¨ 2147483647 ÁßíÔºåÂåó‰∫¨Êó∂Èó¥ 2038-1-19 11:14:07ÔºåÊ†ºÊûóÂ∞ºÊ≤ªÊó∂Èó¥ 2038Âπ¥1Êúà19Êó• ÂáåÊô® 03:14:07 YYYYMMDD HHMMSS Ê∑∑ÂêàÊó•ÊúüÂíåÊó∂Èó¥ÂÄºÔºåÊó∂Èó¥Êà≥ Â≠óÁ¨¶‰∏≤ Á±ªÂûã Â§ßÂ∞è Áî®ÈÄî CHAR 0-255 bytes ÂÆöÈïøÂ≠óÁ¨¶‰∏≤ VARCHAR 0-65535 bytes ÂèòÈïøÂ≠óÁ¨¶‰∏≤ TINYBLOB 0-255 bytes ‰∏çË∂ÖËøá 255 ‰∏™Â≠óÁ¨¶ÁöÑ‰∫åËøõÂà∂Â≠óÁ¨¶‰∏≤ TINYTEXT 0-255 bytes Áü≠ÊñáÊú¨Â≠óÁ¨¶‰∏≤ BLOB 0-65 535 bytes ‰∫åËøõÂà∂ÂΩ¢ÂºèÁöÑÈïøÊñáÊú¨Êï∞ÊçÆ TEXT 0-65 535 bytes ÈïøÊñáÊú¨Êï∞ÊçÆ MEDIUMBLOB 0-16 777 215 bytes ‰∫åËøõÂà∂ÂΩ¢ÂºèÁöÑ‰∏≠Á≠âÈïøÂ∫¶ÊñáÊú¨Êï∞ÊçÆ MEDIUMTEXT 0-16 777 215 bytes ‰∏≠Á≠âÈïøÂ∫¶ÊñáÊú¨Êï∞ÊçÆ LONGBLOB 0-4 294 967 295 bytes ‰∫åËøõÂà∂ÂΩ¢ÂºèÁöÑÊûÅÂ§ßÊñáÊú¨Êï∞ÊçÆ LONGTEXT 0-4 294 967 295 bytes ÊûÅÂ§ßÊñáÊú¨Êï∞ÊçÆ 1bit ‰Ωç 1Â≠óËäÇ=8bit 1k=1024Â≠óËäÇ 1ÂÖÜ=1024k 1G=1023M 1T=1024G Â∏∏Áî®JavaÊò†Â∞Ñ Mysql Java ÂåÖ Â≠óÊÆµÂêç Â§áÊ≥® datetime Date Êï∞ÊçÆÂ∫ìËÆæËÆ° ÂêçÁß∞ **Ë°®ÊòØÂê¶Ôºö**is_xxx Á±ªÂûãÔºö‰ªª‰ΩïÂ≠óÊÆµÈùûË¥üÊï∞ÂøÖÈ°ªÊòØ unsigned tinyint (1ÊòØ 0Âê¶) POJO‰∏≠ÈúÄË¶Å‰ªéis_xxx ÂéªÊéâisÂâçÁºÄÊò†Â∞ÑÂà∞ xxx **Ë°®Âêç„ÄÅÂ≠óÊÆµÂêçÔºö**ÂÖ®Â∞èÂÜô„Äêwindows‰∏çÂå∫ÂàÜÂ§ßÂ∞èÂÜôÔºålinuxÂå∫ÂàÜ„Äë„ÄÅÈùûÊï∞Â≠óÂºÄÂ§¥„ÄÅ‰∏§‰∏™‰∏ãÂàíÁ∫ø‰∏≠‰∏çËÉΩÂè™ÊòØÊï∞Â≠ó„ÄÅË°®Âêç‰∏ç‰ΩøÁî®Â§çÊï∞„ÄÇ‰∏ç‰ΩøÁî®‰øùÁïôÂ≠ó„ÄÇË°®ÂêçÁß∞Âª∫ËÆÆÔºö‰∏öÂä°ÂêçÁß∞_Ë°®ÁöÑ‰ΩúÁî®„ÄÇ **Á¥¢ÂºïÂêçÔºö**‰∏ªÈîÆÁ¥¢ÂºïÔºöpk_xxx„ÄÅÂîØ‰∏ÄÁ¥¢ÂºïÂêçÔºöuk_xxx„ÄÅÊôÆÈÄöÁ¥¢ÂºïÔºöidx_xxx **Â∞èÊï∞Ôºö**decimal ÔºàË∂ÖËøáÂÖ∂ËåÉÂõ¥Âª∫ËÆÆÊãÜÊàêÊï¥Êï∞ÂíåÂ∞èÊï∞ÂàÜÂºÄÂ≠òÂÇ®ÔºâÔºåÁ¶ÅÁî®float„ÄÅdouble „ÄêÁ≤æÂ∫¶ÈóÆÈ¢ò„Äë **Â≠óÁ¨¶‰∏≤Ôºö**Êï∞ÊçÆÈïøÂ∫¶Âá†‰πéÁõ∏Á≠âÁî®charÂÆöÈïøÔºåvachar‰∏∫ÂèØÂèòÈïøÂ≠óÁ¨¶‰∏≤ÔºåÈïøÂ∫¶Ë∂ÖËøá5000 Êó∂ ‰ΩøÁî®textÁ±ªÂûãÁã¨Á´ãË°®Â≠òÂÇ® **Ë°®ÂçïÂøÖÂ§á‰∏âÂ≠óÊÆµÔºö**idÔºàbigint unsignedÔºâÊó†Á¨¶Âè∑Âç≥Ê≠£ÂÄºËåÉÂõ¥Êõ¥Â§ß„ÄÅgmt_create / gmt_modified(datetime,ÂâçËÄÖÁé∞Âú®Êó∂Ë°®Á§∫‰∏ªÂä®ÂºèÂàõÂª∫ÔºåÂêéËÄÖËøáÂéªÂàÜËØçË°®Á§∫Ë¢´Âä®ÂºèÊõ¥Êñ∞) **Â∫ìÂêçÔºö**Âª∫ËÆÆÂêåÂ∫îÁî®Âêç **Â§áÊ≥®Ôºö**‰øÆÊîπÂ≠óÊÆµÂê´‰πâ‰∏éÁä∂ÊÄÅÊ∑ªÂä†Êó∂ÂèäÊó∂Êõ¥Êñ∞Â§áÊ≥®„ÄÇ **ÂÖ∂‰ªñÔºö**Â≠óÊÆµÈÄÇÂΩìÈïøÂ∫¶ÂÜó‰ΩôÔºåÂçïÊ†áÊï∞ÊçÆË∂ÖËøá500‰∏áË°åÊàñÂÆπÈáèË∂ÖËøá2GBÊâçÂª∫ËÆÆÂàÜÂ∫ìÂàÜË°®„ÄÇ‰∏âÂπ¥ÁöÑÊó∂Èó¥‰º∞ËÆ°„ÄÇ Á¥¢Âºï ÂÖ∑ÊúâÂîØ‰∏ÄÁâπÊÄßÁöÑÂ≠óÊÆµÔºåÂç≥‰ΩøÊòØÁªÑÂêàÂ≠óÊÆµÔºå‰πüÂøÖÈ°ªÂª∫ÊàêÂîØ‰∏ÄÁ¥¢Âºï Ë∂ÖËøá‰∏â‰∏™Ë°®Á¶ÅÊ≠¢join„ÄÇÈúÄË¶ÅjoinÁöÑÂ≠óÊÆµÔºåÊï∞ÊçÆÁ±ªÂûã‰øùÊåÅÁªùÂØπ‰∏ÄËá¥ÔºõÂ§öË°®ÂÖ≥ËÅîÊü•ËØ¢Êó∂Ôºå‰øùËØÅË¢´ÂÖ≥ËÅîÁöÑÂ≠óÊÆµÈúÄË¶ÅÊúâÁ¥¢Âºï„ÄÇ Âú®varcharÂ≠óÊÆµ‰∏äÂª∫Á´ãÁ¥¢ÂºïÊó∂ÔºåÂøÖÈ°ªÊåáÂÆöÁ¥¢ÂºïÈïøÂ∫¶ÔºåÊ≤°ÂøÖË¶ÅÂØπÂÖ®Â≠óÊÆµÂª∫Á´ãÁ¥¢ÂºïÔºåÊ†πÊçÆÂÆûÈôÖÊñáÊú¨Âå∫ÂàÜÂ∫¶ÂÜ≥ÂÆöÁ¥¢ÂºïÈïøÂ∫¶ È°µÈù¢ÊêúÁ¥¢‰∏•Á¶ÅÂ∑¶Ê®°Á≥äÊàñËÄÖÂÖ®Ê®°Á≥äÔºåÂ¶ÇÊûúÈúÄË¶ÅËØ∑Ëµ∞ÊêúÁ¥¢ÂºïÊìéÊù•Ëß£ÂÜ≥„ÄÇ Â¶ÇÊûúÊúâorder byÁöÑÂú∫ÊôØÔºåËØ∑Ê≥®ÊÑèÂà©Áî®Á¥¢ÂºïÁöÑÊúâÂ∫èÊÄß„ÄÇorder by ÊúÄÂêéÁöÑÂ≠óÊÆµÊòØÁªÑÂêàÁ¥¢ÂºïÁöÑ‰∏ÄÈÉ®ÂàÜÔºåÂπ∂‰∏îÊîæÂú®Á¥¢ÂºïÁªÑÂêàÈ°∫Â∫èÁöÑÊúÄÂêéÔºåÈÅøÂÖçÂá∫Áé∞file_sortÁöÑÊÉÖÂÜµÔºåÂΩ±ÂìçÊü•ËØ¢ÊÄßËÉΩ„ÄÇ Âà©Áî®Ë¶ÜÁõñÁ¥¢ÂºïÊù•ËøõË°åÊü•ËØ¢Êìç‰ΩúÔºåÈÅøÂÖçÂõûË°®„ÄÇ Âà©Áî®Âª∂ËøüÂÖ≥ËÅîÊàñËÄÖÂ≠êÊü•ËØ¢‰ºòÂåñË∂ÖÂ§öÂàÜÈ°µÂú∫ÊôØ„ÄÇ SQLÊÄßËÉΩ‰ºòÂåñÁöÑÁõÆÊ†áÔºöËá≥Â∞ëË¶ÅËææÂà∞ range Á∫ßÂà´ÔºåË¶ÅÊ±ÇÊòØrefÁ∫ßÂà´ÔºåÂ¶ÇÊûúÂèØ‰ª•ÊòØconstsÊúÄÂ•Ω„ÄÇ Âª∫ÁªÑÂêàÁ¥¢ÂºïÁöÑÊó∂ÂÄôÔºåÂå∫ÂàÜÂ∫¶ÊúÄÈ´òÁöÑÂú®ÊúÄÂ∑¶Ëæπ„ÄÇ Èò≤Ê≠¢Âõ†Â≠óÊÆµÁ±ªÂûã‰∏çÂêåÈÄ†ÊàêÁöÑÈöêÂºèËΩ¨Êç¢ÔºåÂØºËá¥Á¥¢ÂºïÂ§±Êïà„ÄÇ ËØ≠Âè• ‰∏çË¶Å‰ΩøÁî®count(ÂàóÂêç)Êàñcount(Â∏∏Èáè)Êù•Êõø‰ª£count()Ôºåcount()ÊòØSQL92ÂÆö‰πâÁöÑÊ†áÂáÜÁªüËÆ°Ë°åÊï∞ÁöÑËØ≠Ê≥ïÔºåË∑üÊï∞ÊçÆÂ∫ìÊó†ÂÖ≥ÔºåË∑üNULLÂíåÈùûNULLÊó†ÂÖ≥„ÄÇ ËØ¥ÊòéÔºöcount(*)‰ºöÁªüËÆ°ÂÄº‰∏∫NULLÁöÑË°åÔºåËÄåcount(ÂàóÂêç)‰∏ç‰ºöÁªüËÆ°Ê≠§Âàó‰∏∫NULLÂÄºÁöÑË°å„ÄÇ „Äëcount(distinct col) ËÆ°ÁÆóËØ•ÂàóÈô§NULL‰πãÂ§ñÁöÑ‰∏çÈáçÂ§çË°åÊï∞ÔºåÊ≥®ÊÑè count(distinct col1, col2) Â¶ÇÊûúÂÖ∂‰∏≠‰∏ÄÂàóÂÖ®‰∏∫NULLÔºåÈÇ£‰πàÂç≥‰ΩøÂè¶‰∏ÄÂàóÊúâ‰∏çÂêåÁöÑÂÄºÔºå‰πüËøîÂõû‰∏∫0„ÄÇ ÂΩìÊüê‰∏ÄÂàóÁöÑÂÄºÂÖ®ÊòØNULLÊó∂Ôºåcount(col)ÁöÑËøîÂõûÁªìÊûú‰∏∫0Ôºå‰ΩÜsum(col)ÁöÑËøîÂõûÁªìÊûú‰∏∫NULLÔºåÂõ†Ê≠§‰ΩøÁî®sum()Êó∂ÈúÄÊ≥®ÊÑèNPEÈóÆÈ¢ò„ÄÇ Ê≠£‰æãÔºöÂèØ‰ª•‰ΩøÁî®Â¶Ç‰∏ãÊñπÂºèÊù•ÈÅøÂÖçsumÁöÑNPEÈóÆÈ¢òÔºöSELECT IFNULL(SUM(column), 0) FROM table; ‰ΩøÁî®ISNULL()Êù•Âà§Êñ≠ÊòØÂê¶‰∏∫NULLÂÄº„ÄÇ ËØ¥ÊòéÔºöNULL‰∏é‰ªª‰ΩïÂÄºÁöÑÁõ¥Êé•ÊØîËæÉÈÉΩ‰∏∫NULL„ÄÇ 1Ôºâ NULL&lt;&gt;NULLÁöÑËøîÂõûÁªìÊûúÊòØNULLÔºåËÄå‰∏çÊòØfalse„ÄÇ 2Ôºâ NULL=NULLÁöÑËøîÂõûÁªìÊûúÊòØNULLÔºåËÄå‰∏çÊòØtrue„ÄÇ 3Ôºâ NULL&lt;&gt;1ÁöÑËøîÂõûÁªìÊûúÊòØNULLÔºåËÄå‰∏çÊòØtrue„ÄÇ ‰ª£Á†Å‰∏≠ÂÜôÂàÜÈ°µÊü•ËØ¢ÈÄªËæëÊó∂ÔºåËã•count‰∏∫0Â∫îÁõ¥Êé•ËøîÂõûÔºåÈÅøÂÖçÊâßË°åÂêéÈù¢ÁöÑÂàÜÈ°µËØ≠Âè•„ÄÇ ‰∏çÂæó‰ΩøÁî®Â§ñÈîÆ‰∏éÁ∫ßËÅîÔºå‰∏ÄÂàáÂ§ñÈîÆÊ¶ÇÂøµÂøÖÈ°ªÂú®Â∫îÁî®Â±ÇËß£ÂÜ≥„ÄÇ Á¶ÅÊ≠¢‰ΩøÁî®Â≠òÂÇ®ËøáÁ®ãÔºåÂ≠òÂÇ®ËøáÁ®ãÈöæ‰ª•Ë∞ÉËØïÂíåÊâ©Â±ïÔºåÊõ¥Ê≤°ÊúâÁßªÊ§çÊÄß„ÄÇ Êï∞ÊçÆËÆ¢Ê≠£ÔºàÁâπÂà´ÊòØÂà†Èô§Êàñ‰øÆÊîπËÆ∞ÂΩïÊìç‰ΩúÔºâÊó∂ÔºåË¶ÅÂÖàselectÔºåÈÅøÂÖçÂá∫Áé∞ËØØÂà†Èô§ÔºåÁ°ÆËÆ§Êó†ËØØÊâçËÉΩÊâßË°åÊõ¥Êñ∞ËØ≠Âè•„ÄÇ ÂØπ‰∫éÊï∞ÊçÆÂ∫ì‰∏≠Ë°®ËÆ∞ÂΩïÁöÑÊü•ËØ¢ÂíåÂèòÊõ¥ÔºåÂè™Ë¶ÅÊ∂âÂèäÂ§ö‰∏™Ë°®ÔºåÈÉΩÈúÄË¶ÅÂú®ÂàóÂêçÂâçÂä†Ë°®ÁöÑÂà´ÂêçÔºàÊàñË°®ÂêçÔºâËøõË°åÈôêÂÆöÔºåÂê¶ÂàôÂêåÂêçÂ≠óÊÆµÂ≠òÂú®Â§öË°®‰∏≠‰ºöÊä•Èîô„ÄÇÂà´ÂêçÂâçÂä†as‰ΩøÂà´ÂêçÊõ¥ÂÆπÊòìËØÜÂà´„ÄÇ nÊìç‰ΩúËÉΩÈÅøÂÖçÂàôÈÅøÂÖçÔºåËã•ÂÆûÂú®ÈÅøÂÖç‰∏ç‰∫ÜÔºåÈúÄË¶Å‰ªîÁªÜËØÑ‰º∞inÂêéËæπÁöÑÈõÜÂêàÂÖÉÁ¥†Êï∞ÈáèÔºåÊéßÂà∂Âú®1000‰∏™‰πãÂÜÖ„ÄÇ ORMÊò†Â∞Ñ ‰∏ÄÂæã‰∏çË¶Å‰ΩøÁî® * ‰Ωú‰∏∫Êü•ËØ¢ÁöÑÂ≠óÊÆµÂàóË°®ÔºåÈúÄË¶ÅÂì™‰∫õÂ≠óÊÆµÂøÖÈ°ªÊòéÁ°ÆÂÜôÊòé„ÄÇÂõ†‰∏∫‰ºö 1ÔºâÂ¢ûÂä†Êü•ËØ¢ÂàÜÊûêÂô®Ëß£ÊûêÊàêÊú¨„ÄÇ2ÔºâÂ¢ûÂáèÂ≠óÊÆµÂÆπÊòì‰∏éresultMapÈÖçÁΩÆ‰∏ç‰∏ÄËá¥„ÄÇ3ÔºâÊó†Áî®Â≠óÊÆµÂ¢ûÂä†ÁΩëÁªúÊ∂àËÄóÔºåÂ∞§ÂÖ∂ÊòØtextÁ±ªÂûãÁöÑÂ≠óÊÆµ„ÄÇ POJOÁ±ªÁöÑÂ∏ÉÂ∞îÂ±ûÊÄß‰∏çËÉΩÂä†isÔºåËÄåÊï∞ÊçÆÂ∫ìÂ≠óÊÆµÂøÖÈ°ªÂä†is_ÔºåË¶ÅÊ±ÇÂú®resultMap‰∏≠ËøõË°åÂ≠óÊÆµ‰∏éÂ±ûÊÄß‰πãÈó¥ÁöÑÊò†Â∞Ñ„ÄÇ ‰∏çË¶ÅÁî®resultClassÂΩìËøîÂõûÂèÇÊï∞ÔºåÂç≥‰ΩøÊâÄÊúâÁ±ªÂ±ûÊÄßÂêç‰∏éÊï∞ÊçÆÂ∫ìÂ≠óÊÆµ‰∏Ä‰∏ÄÂØπÂ∫îÔºå‰πüÈúÄË¶ÅÂÆö‰πâÔºõÂèçËøáÊù•ÔºåÊØè‰∏Ä‰∏™Ë°®‰πüÂøÖÁÑ∂Êúâ‰∏Ä‰∏™‰∏é‰πãÂØπÂ∫î„ÄÇÈÖçÁΩÆÊò†Â∞ÑÂÖ≥Á≥ªÔºå‰ΩøÂ≠óÊÆµ‰∏éDOÁ±ªËß£ËÄ¶ÔºåÊñπ‰æøÁª¥Êä§„ÄÇ sql.xmlÈÖçÁΩÆÂèÇÊï∞‰ΩøÁî®Ôºö#{}Ôºå#param# ‰∏çË¶Å‰ΩøÁî®${} Ê≠§ÁßçÊñπÂºèÂÆπÊòìÂá∫Áé∞SQLÊ≥®ÂÖ• iBATISËá™Â∏¶ÁöÑqueryForList(String statementName,int start,int size)‰∏çÊé®Ëçê‰ΩøÁî®„ÄÇ ‰∏çÂÖÅËÆ∏Áõ¥Êé•ÊãøHashMap‰∏éHashtable‰Ωú‰∏∫Êü•ËØ¢ÁªìÊûúÈõÜÁöÑËæìÂá∫„ÄÇ Êõ¥Êñ∞Êï∞ÊçÆË°®ËÆ∞ÂΩïÊó∂ÔºåÂøÖÈ°ªÂêåÊó∂Êõ¥Êñ∞ËÆ∞ÂΩïÂØπÂ∫îÁöÑgmt_modifiedÂ≠óÊÆµÂÄº‰∏∫ÂΩìÂâçÊó∂Èó¥„ÄÇ ÊâßË°åSQLÊó∂Ôºå‰∏çË¶ÅÊõ¥Êñ∞Êó†ÊîπÂä®ÁöÑÂ≠óÊÆµÔºå‰∏ÄÊòØÊòìÂá∫ÈîôÔºõ‰∫åÊòØÊïàÁéá‰ΩéÔºõ‰∏âÊòØÂ¢ûÂä†binlogÂ≠òÂÇ® @Transactional‰∫ãÂä°‰∏çË¶ÅÊª•Áî®„ÄÇ‰∫ãÂä°‰ºöÂΩ±ÂìçÊï∞ÊçÆÂ∫ìÁöÑQPSÔºåÂè¶Â§ñ‰ΩøÁî®‰∫ãÂä°ÁöÑÂú∞ÊñπÈúÄË¶ÅËÄÉËôëÂêÑÊñπÈù¢ÁöÑÂõûÊªöÊñπÊ°àÔºåÂåÖÊã¨ÁºìÂ≠òÂõûÊªö„ÄÅÊêúÁ¥¢ÂºïÊìéÂõûÊªö„ÄÅÊ∂àÊÅØË°•ÂÅø„ÄÅÁªüËÆ°‰øÆÊ≠£Á≠â„ÄÇ ‰∏≠ÁöÑcompareValueÊòØ‰∏éÂ±ûÊÄßÂÄºÂØπÊØîÁöÑÂ∏∏ÈáèÔºå‰∏ÄËà¨ÊòØÊï∞Â≠óÔºåË°®Á§∫Áõ∏Á≠âÊó∂Â∏¶‰∏äÊ≠§Êù°‰ª∂ÔºõË°®Á§∫‰∏ç‰∏∫Á©∫‰∏î‰∏ç‰∏∫nullÊó∂ÊâßË°åÔºõË°®Á§∫‰∏ç‰∏∫nullÂÄºÊó∂ÊâßË°å„ÄÇ ‰∏ªÈîÆUUID or INT Ëá™Â¢ûÔºü ÈòøÈáåËßÑËåÉÊëòË¶Å Êï∞ÊçÆÂ∫ìÂ≠óÊÆµËÆæËÆ°ÂèäÂØπÂ∫îÂÖ≥Á≥ª Êï∞ÊçÆÂ∫ì‰∏âÂéüÂàô Êï∞ÊçÆÂ∫ìËÆæËÆ°Â∑•ÂÖ∑ Â¶Ç‰ΩïËÆæËÆ°Êï∞ÊçÆÂ∫ì Â∫îÁî® ÂàÜÂ∫ìÂàÜË°®Mycat ÈòøÈáåÂ∑¥Â∑¥ËßÑËåÉÊâãÂÜåÔºö„ÄêÊé®Ëçê„ÄëÂçïË°®Ë°åÊï∞Ë∂ÖËøá500‰∏áË°åÊàñËÄÖÂçïË°®ÂÆπÈáèË∂ÖËøá2GBÔºåÊâçÊé®ËçêËøõË°åÂàÜÂ∫ìÂàÜË°®„ÄÇ ËØ¥ÊòéÔºöÂ¶ÇÊûúÈ¢ÑËÆ°‰∏âÂπ¥ÂêéÁöÑÊï∞ÊçÆÈáèÊ†πÊú¨Ëææ‰∏çÂà∞Ëøô‰∏™Á∫ßÂà´ÔºåËØ∑‰∏çË¶ÅÂú®ÂàõÂª∫Ë°®Êó∂Â∞±ÂàÜÂ∫ìÂàÜË°®„ÄÇ","link":"/2021/02/24/Draft/2021/MYSQL%E4%BC%98%E5%8C%96/"},{"title":"Ëá™Â™í‰Ωì","text":"Ëá™Â™í‰ΩìÁªèÈ™å„ÄÅËìùÂõæ 2022-GOALS „ÄêGISFSDE„Äë-GIS Full Stack Developer. GISÂºÄÂèëÔºåJAVAÂÖ®Ê†àÂºÄÂèëÔºåËΩØ‰ª∂Â∑•Á®ãÔºåÈ°πÁõÆÁÆ°ÁêÜÁü•ËØÜÂàÜ‰∫´„ÄÇ ‰∏™‰∫∫ÂçöÂÆ¢Ôºögisfsde.com ÂºïÊµÅËæìÂá∫ Ê†∏ÂøÉ‰∫ßÂìÅÔºàÁ¨îËÆ∞Á≠âÊúâ‰ª∑ÂÄºÁâ©Ôºâ ÊëÑÂΩ±ÊëÑÂÉèÁ¨îËÆ∞ Á°ÆÂÆöIP ‰∏ÉÁâõÂõæÂ∫ä ÂüüÂêçÁ°ÆÂÆö ÂçöÂÆ¢Ê°ÜÊû∂Á°ÆÂÆöÔºàËá™ÂÜôËøòÊòØ‰ªñ‰∫∫Ê°ÜÊû∂Ôºâ Ê®°‰ªøÁ¨îËÆ∞ 2021-GOALS ÂâçÁ´ØÊ†èÁõÆ JavaÊ†èÁõÆ PythonÊ†èÁõÆ ÊØèÊó•ÁÆóÊ≥ïÊ†èÁõÆ ËÆæËÆ°Ê®°ÂºèÊ†èÁõÆ ÁΩëÁªúÁü•ËØÜÊ†èÁõÆ Èü≥‰πê‰πêÁêÜÊ†èÁõÆ ËÅåÂú∫ÁªèÈ™åÊ†èÁõÆ Ëâ∫ÊúØÊ¨£ËµèÊ†èÁõÆ ËÆæËÆ°Ê†èÁõÆ Â∑•ÂÖ∑Ê†èÁõÆ ËØ≠Ë®ÄÊ†èÁõÆ Ëá™Â™í‰ΩìÁü©Èòµ‰∏éÂàÜÊûê Âèó‰ºó„ÄÅÊñπÂêë„ÄÅ ÊäñÈü≥„ÄêËâ∫ÊúØÔºåÁîüÊ¥ªÔºåÂâ™ËæëÔºåVlog„ÄëÁü≠ËßÜÈ¢ë VUE„ÄêVlog„ÄëÈïøËßÜÈ¢ë bilibili„ÄêÂêàÈõÜ„ÄëÈïøËßÜÈ¢ë Â§¥Êù°„ÄêÁü•ËØÜÔºåÊñ∞Èóª„Äë Áü•‰πé„ÄêÁîüÊ¥ª„ÄÅÁü•ËØÜ„Äë CSDN„Äê‰∏ì‰∏öÁü•ËØÜ„Äë ÂæÆÂçö„ÄêÂÆ£‰º†„Äë ÁÆÄ‰π¶„ÄêÊñáÂ≠ó„Äë Â∞èÁ∫¢‰π¶„ÄêÊó∂Â∞ö„ÄÅÁîüÊ¥ª„Äë Ë±ÜÁì£„ÄêËÆ∞ÂΩïËâ∫ÊúØ„Äë ÂÖ¨‰ºóÂè∑„ÄêËæìÂá∫„Äë Ê†∏ÂøÉÊñπÂêë ÊäÄÊúØÂàÜ‰∫´„ÄÅ‰∫§ÊµÅ„ÄÅÁîüÊ¥ªÂàÜ‰∫´ Ëá™Â™í‰ΩìÁü•ËØÜ ÊéíÁâà ÂºïÊµÅ ÂèòÁé∞ Ëá™Â™í‰ΩìÁªèÈ™å","link":"/2021/02/09/Draft/2021/%E8%87%AA%E5%AA%92%E4%BD%93/"},{"title":"","text":"title: Draft top: 0 toc: true recommend: 1 keywords: categories-Draft date: 2021-01-20 22:10:43 thumbnail: http://rcy276gfy.hd-bkt.clouddn.com/webp.png tags: Draft categories: [Draft,Draft] #‰ª•‰∏ã‰∏∫ÊñáÁ´†Âä†ÂØÜ‰ø°ÊÅØ #encrypt: true #password: 123456 #Ê≠§Â§Ñ‰∏∫ÊñáÁ´†ÂØÜÁ†Å #abstract: Âí¶ÔºåËøôÊòØ‰∏ÄÁØáÂä†ÂØÜÊñáÁ´†ÔºåÂ•ΩÂÉèÈúÄË¶ÅËæìÂÖ•ÂØÜÁ†ÅÊâçËÉΩÊü•ÁúãÂë¢ÔºÅ #message: Âó®ÔºåËØ∑ÂáÜÁ°ÆÊó†ËØØÂú∞ËæìÂÖ•ÂØÜÁ†ÅÊü•ÁúãÂìüÔºÅ #wrong_pass_message: ‰∏çÂ•ΩÊÑèÊÄùÔºåÂØÜÁ†ÅÊ≤°ÂØπÂì¶ÔºåÂú®Ê£ÄÊü•Ê£ÄÊü•Âë¢ÔºÅ #wrong_hash_message: ‰∏çÂ•ΩÊÑèÊÄùÔºå‰ø°ÊÅØÊó†Ê≥ïÈ™åËØÅÔºÅ ‰ªãÁªç","link":"/2022/05/22/Draft/2021/Draft/"},{"title":"MyBatis-Plus","text":"MyBatis-Plus Êñ∞Â≠¶ÂõõÈóÆ WHY„Äê‰∏éÂâç‰ª£‰ºòÂåñ‰∫Ü‰ªÄ‰πàÔºåÂº•Ë°•‰∫Ü‰ªÄ‰πàÁ©∫ÁôΩ„ÄëÔºö WHAT„ÄêÊ°ÜÊû∂ÔºåÊÄùÁª¥ÂØºÂõæÔºå‰∏ªÈ¢òÊ°ÜÊû∂„ÄëÔºö HOW„ÄêÂ¶Ç‰ΩïËÆ∞ÂøÜÔºåÂ≠¶‰π†ËµÑÊ∫ê„ÄëÔºö LEVEL„Äê‰∏çÊòØÊØè‰∏™ÈÉΩÂ≠¶Á≤æ„ÄëÔºö ËøõÂ∫¶Ôºö‰∏äÁØá „Äê„Äë Âø´Êü• ÂºïÁî®Ôºö","link":"/2021/10/20/Draft/2021/MyBatis-Plus/"},{"title":"ÊÄùÁª¥Èó™ÂÖâ","text":"Èó™Áé∞ÁöÑÁÅµÊÑüËÆ∞ÂΩï„ÄÇ Á¢éÁâá ‰∏Ä‰∏™Áü•ËØÜÂè£Ë¢ãÔºåÊØèÂ§©‰∏Ä‰∏™ÈóÆÈ¢òÂíåÁ≠îÊ°àÔºåÂπ∂ËøõË°åÁõ∏ÂÖ≥Ë°çÁîü„ÄÇ ‰ºóÊñá Èó™ÂÖâÔºöÂÖ¨‰ºóÊñáÊ°£ÔºåÂÖ±ÂêåÁºñÂÜô‰∏Ä‰∏™Á¨îËÆ∞ÔºåÊØè‰∫∫ÂèØ‰∏ä‰∫§Á¨îËÆ∞ÂÆåÂñÑÔºåÈÄöËøáÊäïÁ•®ÂÜ≥ÂÆöÊòØÂê¶‰øÆÊîπÔºå‰ª•Ê≠§‰∏çÂÜçÊØè‰∏™‰∫∫ÈÉΩÂÅöÁõ∏ÂêåÁöÑÁ¨îËÆ∞ÔºåÂ§ö‰∫∫ÂÆåÂñÑÂêå‰∏Ä‰∏™Á¨îËÆ∞„ÄÇ ÊäÄÊúØÔºö È¶ñÈ°µ Áé∞Âú®ÁöÑÈ¶ñÈ°µÈÉΩ‰∏ëÔºå‰π¶Á≠æÊî∂ËóèÔºåÂä®ÊÄÅÊéíÂêçÔºå‰π¶Á≠æÂàÜÁ±ªÔºåTODOÁªÑ‰ª∂ÔºåÊûÅÁæéUI","link":"/2021/07/20/Draft/2021/%E9%97%AA%E5%85%89/"},{"title":"Python Â≠¶‰π†","text":"Python3Â≠¶‰π† ÁÆÄ‰ªã Python is powerful... and fast; plays well with others; runs everywhere; is friendly &amp; easy to learn; is Open. Python ÂèëÂ±ïÂéÜÂè≤ Python ÁâπÁÇπ Python Â∫îÁî® Â∑•ÂÖ∑ ÂºÄÂèëÂπ≥Âè∞ÔºöPYCharm ËØ≠Ê≥ïÂü∫Á°Ä 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215216217218219220221222223224225226227228229230231232233234235236237238239240241242243244245246247248249250251252253254255256257258259260261262263264265266267268269270271272273274275276277278279280281282283284285286287288289290291292293294295296297298299300301302303304305306307308309310311312313314315316317318319320321322323324325326327328329330331332333334335336337338339340341342343344345346347348349350351352353354355356357358359360361362363364365366367368369370371372373374375376377378379380381382383384385386387388389390391392393394395396397398399400401402403404405406407408409410411412413414415416417418419420421422423424425426427428429430431432433434435436437438439440441442443444445446447448449450451452453454455456457458459460461462463464465466467468469470471472473474475476477478479480481482483484485486487488489490491492493494495496497498499500501502503504505506507508509510511512513514515516517518519520521522523524525526527528529530531532533534535536537538539540541542543544545546547548549550551552553554555556557558559560561562563564565566567568569570571572573574575576577578579580581582583584585586587588589590591592593594595596597598599600601602603604605606607608609610611612613614615616617618619620621622623624625626627628629630631632633634635636637638639640641642643644645646647648649650651652653654655656657658659660661662663664665666667668669670671672673674675676677678679680681682683684685686687688689690691692693694695696697698699700701702703704705706707708709710711712713714715716717718719'''=============Âü∫Êú¨ËØ≠Ê≥ï============='''import keyword# from modname import name1[, name2[, ... nameN]]# Python Êèê‰æõ‰∫Ü‰∏Ä‰∏™ÂäûÊ≥ïÔºåÊääËøô‰∫õÂÆö‰πâÂ≠òÊîæÂú®Êñá‰ª∂‰∏≠Ôºå‰∏∫‰∏Ä‰∫õËÑöÊú¨ÊàñËÄÖ‰∫§‰∫íÂºèÁöÑËß£ÈáäÂô®ÂÆû‰æã‰ΩøÁî®ÔºåËøô‰∏™Êñá‰ª∂Ë¢´Áß∞‰∏∫Ê®°Âùó„ÄÇ# Ê®°ÂùóÊòØ‰∏Ä‰∏™ÂåÖÂê´ÊâÄÊúâ‰Ω†ÂÆö‰πâÁöÑÂáΩÊï∞ÂíåÂèòÈáèÁöÑÊñá‰ª∂ÔºåÂÖ∂ÂêéÁºÄÂêçÊòØ.py„ÄÇÊ®°ÂùóÂèØ‰ª•Ë¢´Âà´ÁöÑÁ®ãÂ∫èÂºïÂÖ•Ôºå‰ª•‰ΩøÁî®ËØ•Ê®°Âùó‰∏≠ÁöÑÂáΩÊï∞Á≠âÂäüËÉΩ„ÄÇËøô‰πüÊòØ‰ΩøÁî® python Ê†áÂáÜÂ∫ìÁöÑÊñπÊ≥ï„ÄÇ# ‰ªéÊüê‰∏™Ê®°Âùó‰∏≠ÂØºÂÖ•Â§ö‰∏™ÂáΩÊï∞,Ê†ºÂºè‰∏∫Ôºö from somemodule import firstfunc, secondfunc, thirdfunc# ====__name__Â±ûÊÄß====# ‰∏Ä‰∏™Ê®°ÂùóË¢´Âè¶‰∏Ä‰∏™Á®ãÂ∫èÁ¨¨‰∏ÄÊ¨°ÂºïÂÖ•Êó∂ÔºåÂÖ∂‰∏ªÁ®ãÂ∫èÂ∞ÜËøêË°å„ÄÇÂ¶ÇÊûúÊàë‰ª¨ÊÉ≥Âú®Ê®°ÂùóË¢´ÂºïÂÖ•Êó∂ÔºåÊ®°Âùó‰∏≠ÁöÑÊüê‰∏ÄÁ®ãÂ∫èÂùó‰∏çÊâßË°åÔºåÊàë‰ª¨ÂèØ‰ª•Áî®__name__Â±ûÊÄßÊù•‰ΩøËØ•Á®ãÂ∫èÂùó‰ªÖÂú®ËØ•Ê®°ÂùóËá™Ë∫´ËøêË°åÊó∂ÊâßË°å„ÄÇ# #!/usr/bin/python3# # Filename: using_name.py# if __name__ == '__main__':# print('Á®ãÂ∫èËá™Ë∫´Âú®ËøêË°å')# else:# print('ÊàëÊù•Ëá™Âè¶‰∏ÄÊ®°Âùó')# ====dir() ÂáΩÊï∞====# ÂÜÖÁΩÆÁöÑÂáΩÊï∞ dir() ÂèØ‰ª•ÊâæÂà∞Ê®°ÂùóÂÜÖÂÆö‰πâÁöÑÊâÄÊúâÂêçÁß∞„ÄÇ‰ª•‰∏Ä‰∏™Â≠óÁ¨¶‰∏≤ÂàóË°®ÁöÑÂΩ¢ÂºèËøîÂõû:'''ËæìÂÖ•ÂíåËæìÂá∫'''# Python‰∏§ÁßçËæìÂá∫ÂÄºÁöÑÊñπÂºè: Ë°®ËææÂºèËØ≠Âè•Âíå print() ÂáΩÊï∞„ÄÇ# Á¨¨‰∏âÁßçÊñπÂºèÊòØ‰ΩøÁî®Êñá‰ª∂ÂØπË±°ÁöÑ write() ÊñπÊ≥ïÔºåÊ†áÂáÜËæìÂá∫Êñá‰ª∂ÂèØ‰ª•Áî® sys.stdout ÂºïÁî®„ÄÇ# Â¶ÇÊûú‰Ω†Â∏åÊúõËæìÂá∫ÁöÑÂΩ¢ÂºèÊõ¥Âä†Â§öÊ†∑ÔºåÂèØ‰ª•‰ΩøÁî® str.format() ÂáΩÊï∞Êù•Ê†ºÂºèÂåñËæìÂá∫ÂÄº„ÄÇ# Â¶ÇÊûú‰Ω†Â∏åÊúõÂ∞ÜËæìÂá∫ÁöÑÂÄºËΩ¨ÊàêÂ≠óÁ¨¶‰∏≤ÔºåÂèØ‰ª•‰ΩøÁî® repr() Êàñ str() ÂáΩÊï∞Êù•ÂÆûÁé∞„ÄÇ# str()Ôºö ÂáΩÊï∞ËøîÂõû‰∏Ä‰∏™Áî®Êà∑ÊòìËØªÁöÑË°®ËææÂΩ¢Âºè„ÄÇ# repr()Ôºö ‰∫ßÁîü‰∏Ä‰∏™Ëß£ÈáäÂô®ÊòìËØªÁöÑË°®ËææÂΩ¢Âºè„ÄÇprint(&quot;Hello word!&quot;)print('{}ÁΩëÂùÄÔºö &quot;{}!&quot;'.format('ËèúÈ∏üÊïôÁ®ã', 'www.runoob.com'))print('{0} Âíå {1}'.format('Google', 'Runoob'))print('Á´ôÁÇπÂàóË°® {0}, {1}, Âíå {other}„ÄÇ'.format('Google', 'Runoob', other='Taobao'))# ËØªÂèñÈîÆÁõòËæìÂÖ•str = input(&quot;ËØ∑ËæìÂÖ•Ôºö&quot;);print (&quot;‰Ω†ËæìÂÖ•ÁöÑÂÜÖÂÆπÊòØ: &quot;, str)# ËØªÂíåÂÜôÊñá‰ª∂# open(filename, mode)# filenameÔºöÂåÖÂê´‰∫Ü‰Ω†Ë¶ÅËÆøÈóÆÁöÑÊñá‰ª∂ÂêçÁß∞ÁöÑÂ≠óÁ¨¶‰∏≤ÂÄº„ÄÇ# modeÔºöÂÜ≥ÂÆö‰∫ÜÊâìÂºÄÊñá‰ª∂ÁöÑÊ®°ÂºèÔºöÂè™ËØªÔºåÂÜôÂÖ•ÔºåËøΩÂä†Á≠â„ÄÇÊâÄÊúâÂèØÂèñÂÄºËßÅÂ¶Ç‰∏ãÁöÑÂÆåÂÖ®ÂàóË°®„ÄÇËøô‰∏™ÂèÇÊï∞ÊòØÈùûÂº∫Âà∂ÁöÑÔºåÈªòËÆ§Êñá‰ª∂ËÆøÈóÆÊ®°Âºè‰∏∫Âè™ËØª(r)„ÄÇ# Ê®°Âºè ÊèèËø∞# r ‰ª•Âè™ËØªÊñπÂºèÊâìÂºÄÊñá‰ª∂„ÄÇÊñá‰ª∂ÁöÑÊåáÈíàÂ∞Ü‰ºöÊîæÂú®Êñá‰ª∂ÁöÑÂºÄÂ§¥„ÄÇËøôÊòØÈªòËÆ§Ê®°Âºè„ÄÇ# rb ‰ª•‰∫åËøõÂà∂Ê†ºÂºèÊâìÂºÄ‰∏Ä‰∏™Êñá‰ª∂Áî®‰∫éÂè™ËØª„ÄÇÊñá‰ª∂ÊåáÈíàÂ∞Ü‰ºöÊîæÂú®Êñá‰ª∂ÁöÑÂºÄÂ§¥„ÄÇ# r+ ÊâìÂºÄ‰∏Ä‰∏™Êñá‰ª∂Áî®‰∫éËØªÂÜô„ÄÇÊñá‰ª∂ÊåáÈíàÂ∞Ü‰ºöÊîæÂú®Êñá‰ª∂ÁöÑÂºÄÂ§¥„ÄÇ# rb+ ‰ª•‰∫åËøõÂà∂Ê†ºÂºèÊâìÂºÄ‰∏Ä‰∏™Êñá‰ª∂Áî®‰∫éËØªÂÜô„ÄÇÊñá‰ª∂ÊåáÈíàÂ∞Ü‰ºöÊîæÂú®Êñá‰ª∂ÁöÑÂºÄÂ§¥„ÄÇ# w ÊâìÂºÄ‰∏Ä‰∏™Êñá‰ª∂Âè™Áî®‰∫éÂÜôÂÖ•„ÄÇÂ¶ÇÊûúËØ•Êñá‰ª∂Â∑≤Â≠òÂú®ÂàôÊâìÂºÄÊñá‰ª∂ÔºåÂπ∂‰ªéÂºÄÂ§¥ÂºÄÂßãÁºñËæëÔºåÂç≥ÂéüÊúâÂÜÖÂÆπ‰ºöË¢´Âà†Èô§„ÄÇÂ¶ÇÊûúËØ•Êñá‰ª∂‰∏çÂ≠òÂú®ÔºåÂàõÂª∫Êñ∞Êñá‰ª∂„ÄÇ# wb ‰ª•‰∫åËøõÂà∂Ê†ºÂºèÊâìÂºÄ‰∏Ä‰∏™Êñá‰ª∂Âè™Áî®‰∫éÂÜôÂÖ•„ÄÇÂ¶ÇÊûúËØ•Êñá‰ª∂Â∑≤Â≠òÂú®ÂàôÊâìÂºÄÊñá‰ª∂ÔºåÂπ∂‰ªéÂºÄÂ§¥ÂºÄÂßãÁºñËæëÔºåÂç≥ÂéüÊúâÂÜÖÂÆπ‰ºöË¢´Âà†Èô§„ÄÇÂ¶ÇÊûúËØ•Êñá‰ª∂‰∏çÂ≠òÂú®ÔºåÂàõÂª∫Êñ∞Êñá‰ª∂„ÄÇ# w+ ÊâìÂºÄ‰∏Ä‰∏™Êñá‰ª∂Áî®‰∫éËØªÂÜô„ÄÇÂ¶ÇÊûúËØ•Êñá‰ª∂Â∑≤Â≠òÂú®ÂàôÊâìÂºÄÊñá‰ª∂ÔºåÂπ∂‰ªéÂºÄÂ§¥ÂºÄÂßãÁºñËæëÔºåÂç≥ÂéüÊúâÂÜÖÂÆπ‰ºöË¢´Âà†Èô§„ÄÇÂ¶ÇÊûúËØ•Êñá‰ª∂‰∏çÂ≠òÂú®ÔºåÂàõÂª∫Êñ∞Êñá‰ª∂„ÄÇ# wb+ ‰ª•‰∫åËøõÂà∂Ê†ºÂºèÊâìÂºÄ‰∏Ä‰∏™Êñá‰ª∂Áî®‰∫éËØªÂÜô„ÄÇÂ¶ÇÊûúËØ•Êñá‰ª∂Â∑≤Â≠òÂú®ÂàôÊâìÂºÄÊñá‰ª∂ÔºåÂπ∂‰ªéÂºÄÂ§¥ÂºÄÂßãÁºñËæëÔºåÂç≥ÂéüÊúâÂÜÖÂÆπ‰ºöË¢´Âà†Èô§„ÄÇÂ¶ÇÊûúËØ•Êñá‰ª∂‰∏çÂ≠òÂú®ÔºåÂàõÂª∫Êñ∞Êñá‰ª∂„ÄÇ# a ÊâìÂºÄ‰∏Ä‰∏™Êñá‰ª∂Áî®‰∫éËøΩÂä†„ÄÇÂ¶ÇÊûúËØ•Êñá‰ª∂Â∑≤Â≠òÂú®ÔºåÊñá‰ª∂ÊåáÈíàÂ∞Ü‰ºöÊîæÂú®Êñá‰ª∂ÁöÑÁªìÂ∞æ„ÄÇ‰πüÂ∞±ÊòØËØ¥ÔºåÊñ∞ÁöÑÂÜÖÂÆπÂ∞Ü‰ºöË¢´ÂÜôÂÖ•Âà∞Â∑≤ÊúâÂÜÖÂÆπ‰πãÂêé„ÄÇÂ¶ÇÊûúËØ•Êñá‰ª∂‰∏çÂ≠òÂú®ÔºåÂàõÂª∫Êñ∞Êñá‰ª∂ËøõË°åÂÜôÂÖ•„ÄÇ# ab ‰ª•‰∫åËøõÂà∂Ê†ºÂºèÊâìÂºÄ‰∏Ä‰∏™Êñá‰ª∂Áî®‰∫éËøΩÂä†„ÄÇÂ¶ÇÊûúËØ•Êñá‰ª∂Â∑≤Â≠òÂú®ÔºåÊñá‰ª∂ÊåáÈíàÂ∞Ü‰ºöÊîæÂú®Êñá‰ª∂ÁöÑÁªìÂ∞æ„ÄÇ‰πüÂ∞±ÊòØËØ¥ÔºåÊñ∞ÁöÑÂÜÖÂÆπÂ∞Ü‰ºöË¢´ÂÜôÂÖ•Âà∞Â∑≤ÊúâÂÜÖÂÆπ‰πãÂêé„ÄÇÂ¶ÇÊûúËØ•Êñá‰ª∂‰∏çÂ≠òÂú®ÔºåÂàõÂª∫Êñ∞Êñá‰ª∂ËøõË°åÂÜôÂÖ•„ÄÇ# a+ ÊâìÂºÄ‰∏Ä‰∏™Êñá‰ª∂Áî®‰∫éËØªÂÜô„ÄÇÂ¶ÇÊûúËØ•Êñá‰ª∂Â∑≤Â≠òÂú®ÔºåÊñá‰ª∂ÊåáÈíàÂ∞Ü‰ºöÊîæÂú®Êñá‰ª∂ÁöÑÁªìÂ∞æ„ÄÇÊñá‰ª∂ÊâìÂºÄÊó∂‰ºöÊòØËøΩÂä†Ê®°Âºè„ÄÇÂ¶ÇÊûúËØ•Êñá‰ª∂‰∏çÂ≠òÂú®ÔºåÂàõÂª∫Êñ∞Êñá‰ª∂Áî®‰∫éËØªÂÜô„ÄÇ# ab+ ‰ª•‰∫åËøõÂà∂Ê†ºÂºèÊâìÂºÄ‰∏Ä‰∏™Êñá‰ª∂Áî®‰∫éËøΩÂä†„ÄÇÂ¶ÇÊûúËØ•Êñá‰ª∂Â∑≤Â≠òÂú®ÔºåÊñá‰ª∂ÊåáÈíàÂ∞Ü‰ºöÊîæÂú®Êñá‰ª∂ÁöÑÁªìÂ∞æ„ÄÇÂ¶ÇÊûúËØ•Êñá‰ª∂‰∏çÂ≠òÂú®ÔºåÂàõÂª∫Êñ∞Êñá‰ª∂Áî®‰∫éËØªÂÜô„ÄÇ# ÊâìÂºÄ‰∏Ä‰∏™Êñá‰ª∂f = open(&quot;/tmp/foo.txt&quot;, &quot;w&quot;)f.write( &quot;Python ÊòØ‰∏Ä‰∏™ÈùûÂ∏∏Â•ΩÁöÑËØ≠Ë®Ä„ÄÇ\\nÊòØÁöÑÔºåÁöÑÁ°ÆÈùûÂ∏∏Â•Ω!!\\n&quot; )# f.read(size), ËøôÂ∞ÜËØªÂèñ‰∏ÄÂÆöÊï∞ÁõÆÁöÑÊï∞ÊçÆ, ÁÑ∂Âêé‰Ωú‰∏∫Â≠óÁ¨¶‰∏≤ÊàñÂ≠óËäÇÂØπË±°ËøîÂõû„ÄÇsize ÊòØ‰∏Ä‰∏™ÂèØÈÄâÁöÑÊï∞Â≠óÁ±ªÂûãÁöÑÂèÇÊï∞„ÄÇ ÂΩì size Ë¢´ÂøΩÁï•‰∫ÜÊàñËÄÖ‰∏∫Ë¥ü, ÈÇ£‰πàËØ•Êñá‰ª∂ÁöÑÊâÄÊúâÂÜÖÂÆπÈÉΩÂ∞ÜË¢´ËØªÂèñÂπ∂‰∏îËøîÂõû„ÄÇprint(f.read())# ËøîÂõû‰∏Ä‰∏™Á©∫Â≠óÁ¨¶‰∏≤, ËØ¥ÊòéÂ∑≤ÁªèÂ∑≤ÁªèËØªÂèñÂà∞ÊúÄÂêé‰∏ÄË°å„ÄÇprint(f.readline())# ËøîÂõûÊâÄÊúâË°å„ÄÇprint(f.readlines())# Â∞Ü string ÂÜôÂÖ•Âà∞Êñá‰ª∂‰∏≠, ÁÑ∂ÂêéËøîÂõûÂÜôÂÖ•ÁöÑÂ≠óÁ¨¶Êï∞„ÄÇf.write(&quot;string&quot;)# ËøîÂõûÊñá‰ª∂ÂØπË±°ÂΩìÂâçÊâÄÂ§ÑÁöÑ‰ΩçÁΩÆ, ÂÆÉÊòØ‰ªéÊñá‰ª∂ÂºÄÂ§¥ÂºÄÂßãÁÆóËµ∑ÁöÑÂ≠óËäÇÊï∞„ÄÇf.tell()# ÊîπÂèòÊñá‰ª∂ÂΩìÂâçÁöÑ‰ΩçÁΩÆ, ÂèØ‰ª•‰ΩøÁî® f.seek(offset, from_what) ÂáΩÊï∞„ÄÇ# from_what ÁöÑÂÄº, Â¶ÇÊûúÊòØ 0 Ë°®Á§∫ÂºÄÂ§¥, Â¶ÇÊûúÊòØ 1 Ë°®Á§∫ÂΩìÂâç‰ΩçÁΩÆ, 2 Ë°®Á§∫Êñá‰ª∂ÁöÑÁªìÂ∞æÔºå‰æãÂ¶ÇÔºö# seek(x,0) Ôºö ‰ªéËµ∑Âßã‰ΩçÁΩÆÂç≥Êñá‰ª∂È¶ñË°åÈ¶ñÂ≠óÁ¨¶ÂºÄÂßãÁßªÂä® x ‰∏™Â≠óÁ¨¶# seek(x,1) Ôºö Ë°®Á§∫‰ªéÂΩìÂâç‰ΩçÁΩÆÂæÄÂêéÁßªÂä®x‰∏™Â≠óÁ¨¶# seek(-x,2)ÔºöË°®Á§∫‰ªéÊñá‰ª∂ÁöÑÁªìÂ∞æÂæÄÂâçÁßªÂä®x‰∏™Â≠óÁ¨¶# from_what ÂÄº‰∏∫ÈªòËÆ§‰∏∫0ÔºåÂç≥Êñá‰ª∂ÂºÄÂ§¥# ÂÖ≥Èó≠ÊâìÂºÄÁöÑÊñá‰ª∂f.close()# pickle Ê®°Âùó ÂÆûÁé∞‰∫ÜÂü∫Êú¨ÁöÑÊï∞ÊçÆÂ∫èÂàóÂíåÂèçÂ∫èÂàóÂåñ„ÄÇimport pickle# ‰ΩøÁî®pickleÊ®°ÂùóÂ∞ÜÊï∞ÊçÆÂØπË±°‰øùÂ≠òÂà∞Êñá‰ª∂data1 = {'a': [1, 2.0, 3, 4+6j], 'b': ('string', u'Unicode string'), 'c': None}selfref_list = [1, 2, 3]selfref_list.append(selfref_list)output = open('data.pkl', 'wb')# Pickle dictionary using protocol 0.pickle.dump(data1, output)# Pickle the list using the highest protocol available.pickle.dump(selfref_list, output, -1)output.close()''' Ê≥®Èáä '''&quot;&quot;&quot;Ê≥®Èáä&quot;&quot;&quot;# ‰øùÁïôÂ≠ó ÂÖ≥ÈîÆÂ≠óendÂèØ‰ª•Áî®‰∫éÂ∞ÜÁªìÊûúËæìÂá∫Âà∞Âêå‰∏ÄË°åÔºåÊàñËÄÖÂú®ËæìÂá∫ÁöÑÊú´Â∞æÊ∑ªÂä†‰∏çÂêåÁöÑÂ≠óÁ¨¶print(b, end=',')print(&quot;‰øùÁïôÂ≠ó&quot;, keyword.kwlist)# Áº©ËøõÁöÑÁ©∫Ê†ºÊï∞ÊòØÂèØÂèòÁöÑÔºå‰ΩÜÊòØÂêå‰∏Ä‰∏™‰ª£Á†ÅÂùóÁöÑËØ≠Âè•ÂøÖÈ°ªÂåÖÂê´Áõ∏ÂêåÁöÑÁº©ËøõÁ©∫Ê†ºÊï∞if True: print(&quot;ture&quot;)else: print('false')# Â§öË°åËØ≠Âè•ÔºåËØ≠Âè•ÂæàÈïøÔºåÊàë‰ª¨ÂèØ‰ª•‰ΩøÁî®ÂèçÊñúÊù†(\\)Êù•ÂÆûÁé∞Â§öË°åËØ≠Âè•ÔºåÂú® [], {}, Êàñ () ‰∏≠ÁöÑÂ§öË°åËØ≠Âè•Ôºå‰∏çÈúÄË¶Å‰ΩøÁî®ÂèçÊñúÊù†(\\)total = 'item_one' + \\ 'item_two' + \\ 'item_three'total1 = ['item_one', 'item_two', 'item_three', 'item_four', 'item_five']print(total)print(total1)''' ================Âü∫Êú¨Êï∞ÊçÆÁ±ªÂûã===================Python3 ‰∏≠ÊúâÂÖ≠‰∏™Ê†áÂáÜÁöÑÊï∞ÊçÆÁ±ªÂûãÔºöNumberÔºàÊï∞Â≠óÔºâÔºöint„ÄÅfloat„ÄÅbool„ÄÅcomplexÔºàÂ§çÊï∞ÔºâStringÔºàÂ≠óÁ¨¶‰∏≤ÔºâListÔºàÂàóË°®ÔºâTupleÔºàÂÖÉÁªÑÔºâSetÔºàÈõÜÂêàÔºâDictionaryÔºàÂ≠óÂÖ∏ÔºâPython3 ÁöÑÂÖ≠‰∏™Ê†áÂáÜÊï∞ÊçÆÁ±ªÂûã‰∏≠Ôºö‰∏çÂèØÂèòÊï∞ÊçÆÔºà3 ‰∏™ÔºâÔºöNumberÔºàÊï∞Â≠óÔºâ„ÄÅStringÔºàÂ≠óÁ¨¶‰∏≤Ôºâ„ÄÅTupleÔºàÂÖÉÁªÑÔºâÔºõÂèØÂèòÊï∞ÊçÆÔºà3 ‰∏™ÔºâÔºöListÔºàÂàóË°®Ôºâ„ÄÅDictionaryÔºàÂ≠óÂÖ∏Ôºâ„ÄÅSetÔºàÈõÜÂêàÔºâ„ÄÇ type()Êü•ÁúãÊï∞ÊçÆÁ±ªÂûãÔºåisinstance(a, int)ËøõË°åÂà§Êñ≠'''# NumberÔºàÊï∞Â≠óÔºâ------------------------------------------------------------------------# int(x) Â∞ÜxËΩ¨Êç¢‰∏∫‰∏Ä‰∏™Êï¥Êï∞„ÄÇ# float(x) Â∞ÜxËΩ¨Êç¢Âà∞‰∏Ä‰∏™ÊµÆÁÇπÊï∞„ÄÇ# complex(x) Â∞ÜxËΩ¨Êç¢Âà∞‰∏Ä‰∏™Â§çÊï∞ÔºåÂÆûÊï∞ÈÉ®ÂàÜ‰∏∫ xÔºåËôöÊï∞ÈÉ®ÂàÜ‰∏∫ 0„ÄÇ# complex(x, y) Â∞Ü x Âíå y ËΩ¨Êç¢Âà∞‰∏Ä‰∏™Â§çÊï∞ÔºåÂÆûÊï∞ÈÉ®ÂàÜ‰∏∫ xÔºåËôöÊï∞ÈÉ®ÂàÜ‰∏∫ y„ÄÇx Âíå y ÊòØÊï∞Â≠óË°®ËææÂºè„ÄÇ# ==Êï∞Â≠¶ÂáΩÊï∞==# ÂáΩÊï∞ ËøîÂõûÂÄº ( ÊèèËø∞ )# abs(x) ËøîÂõûÊï∞Â≠óÁöÑÁªùÂØπÂÄºÔºåÂ¶Çabs(-10) ËøîÂõû 10# ceil(x) ËøîÂõûÊï∞Â≠óÁöÑ‰∏äÂÖ•Êï¥Êï∞ÔºåÂ¶Çmath.ceil(4.1) ËøîÂõû 5# cmp(x, y) Â¶ÇÊûú x &lt; y ËøîÂõû -1, Â¶ÇÊûú x == y ËøîÂõû 0, Â¶ÇÊûú x &gt; y ËøîÂõû 1„ÄÇ Python 3 Â∑≤Â∫üÂºÉÔºå‰ΩøÁî® (x&gt;y)-(x&lt;y) ÊõøÊç¢„ÄÇ# exp(x) ËøîÂõûeÁöÑxÊ¨°ÂπÇ(ex),Â¶Çmath.exp(1) ËøîÂõû2.718281828459045# fabs(x) ËøîÂõûÊï∞Â≠óÁöÑÁªùÂØπÂÄºÔºåÂ¶Çmath.fabs(-10) ËøîÂõû10.0# floor(x) ËøîÂõûÊï∞Â≠óÁöÑ‰∏ãËàçÊï¥Êï∞ÔºåÂ¶Çmath.floor(4.9)ËøîÂõû 4# log(x) Â¶Çmath.log(math.e)ËøîÂõû1.0,math.log(100,10)ËøîÂõû2.0# log10(x) ËøîÂõû‰ª•10‰∏∫Âü∫Êï∞ÁöÑxÁöÑÂØπÊï∞ÔºåÂ¶Çmath.log10(100)ËøîÂõû 2.0# max(x1, x2,...) ËøîÂõûÁªôÂÆöÂèÇÊï∞ÁöÑÊúÄÂ§ßÂÄºÔºåÂèÇÊï∞ÂèØ‰ª•‰∏∫Â∫èÂàó„ÄÇ# min(x1, x2,...) ËøîÂõûÁªôÂÆöÂèÇÊï∞ÁöÑÊúÄÂ∞èÂÄºÔºåÂèÇÊï∞ÂèØ‰ª•‰∏∫Â∫èÂàó„ÄÇ# modf(x) ËøîÂõûxÁöÑÊï¥Êï∞ÈÉ®ÂàÜ‰∏éÂ∞èÊï∞ÈÉ®ÂàÜÔºå‰∏§ÈÉ®ÂàÜÁöÑÊï∞ÂÄºÁ¨¶Âè∑‰∏éxÁõ∏ÂêåÔºåÊï¥Êï∞ÈÉ®ÂàÜ‰ª•ÊµÆÁÇπÂûãË°®Á§∫„ÄÇ# pow(x, y) x**y ËøêÁÆóÂêéÁöÑÂÄº„ÄÇ# round(x [,n]) ËøîÂõûÊµÆÁÇπÊï∞ x ÁöÑÂõõËàç‰∫îÂÖ•ÂÄºÔºåÂ¶ÇÁªôÂá∫ n ÂÄºÔºåÂàô‰ª£Ë°®ËàçÂÖ•Âà∞Â∞èÊï∞ÁÇπÂêéÁöÑ‰ΩçÊï∞„ÄÇÂÖ∂ÂÆûÂáÜÁ°ÆÁöÑËØ¥ÊòØ‰øùÁïôÂÄºÂ∞Ü‰øùÁïôÂà∞Á¶ª‰∏ä‰∏Ä‰ΩçÊõ¥ËøëÁöÑ‰∏ÄÁ´Ø„ÄÇ# sqrt(x) ËøîÂõûÊï∞Â≠óxÁöÑÂπ≥ÊñπÊ†π„ÄÇ# ==ÈöèÊú∫Êï∞ÂáΩÊï∞==# choice(seq) ‰ªéÂ∫èÂàóÁöÑÂÖÉÁ¥†‰∏≠ÈöèÊú∫ÊåëÈÄâ‰∏Ä‰∏™ÂÖÉÁ¥†ÔºåÊØîÂ¶Çrandom.choice(range(10))Ôºå‰ªé0Âà∞9‰∏≠ÈöèÊú∫ÊåëÈÄâ‰∏Ä‰∏™Êï¥Êï∞„ÄÇ# randrange ([start,] stop [,step]) ‰ªéÊåáÂÆöËåÉÂõ¥ÂÜÖÔºåÊåâÊåáÂÆöÂü∫Êï∞ÈÄíÂ¢ûÁöÑÈõÜÂêà‰∏≠Ëé∑Âèñ‰∏Ä‰∏™ÈöèÊú∫Êï∞ÔºåÂü∫Êï∞ÈªòËÆ§ÂÄº‰∏∫ 1# random() ÈöèÊú∫ÁîüÊàê‰∏ã‰∏Ä‰∏™ÂÆûÊï∞ÔºåÂÆÉÂú®[0,1)ËåÉÂõ¥ÂÜÖ„ÄÇ# seed([x]) ÊîπÂèòÈöèÊú∫Êï∞ÁîüÊàêÂô®ÁöÑÁßçÂ≠êseed„ÄÇÂ¶ÇÊûú‰Ω†‰∏ç‰∫ÜËß£ÂÖ∂ÂéüÁêÜÔºå‰Ω†‰∏çÂøÖÁâπÂà´ÂéªËÆæÂÆöseedÔºåPython‰ºöÂ∏Æ‰Ω†ÈÄâÊã©seed„ÄÇ# shuffle(lst) Â∞ÜÂ∫èÂàóÁöÑÊâÄÊúâÂÖÉÁ¥†ÈöèÊú∫ÊéíÂ∫è# uniform(x, y) ÈöèÊú∫ÁîüÊàê‰∏ã‰∏Ä‰∏™ÂÆûÊï∞ÔºåÂÆÉÂú®[x,y]ËåÉÂõ¥ÂÜÖ# ==‰∏âËßíÂáΩÊï∞==# PythonÂåÖÊã¨‰ª•‰∏ã‰∏âËßíÂáΩÊï∞Ôºö# ÂáΩÊï∞ ÊèèËø∞# acos(x) ËøîÂõûxÁöÑÂèç‰ΩôÂº¶ÂºßÂ∫¶ÂÄº„ÄÇ# asin(x) ËøîÂõûxÁöÑÂèçÊ≠£Âº¶ÂºßÂ∫¶ÂÄº„ÄÇ# atan(x) ËøîÂõûxÁöÑÂèçÊ≠£ÂàáÂºßÂ∫¶ÂÄº„ÄÇ# atan2(y, x) ËøîÂõûÁªôÂÆöÁöÑ X Âèä Y ÂùêÊ†áÂÄºÁöÑÂèçÊ≠£ÂàáÂÄº„ÄÇ# cos(x) ËøîÂõûxÁöÑÂºßÂ∫¶ÁöÑ‰ΩôÂº¶ÂÄº„ÄÇ# hypot(x, y) ËøîÂõûÊ¨ßÂá†ÈáåÂæ∑ËåÉÊï∞ sqrt(x*x + y*y)„ÄÇ# sin(x) ËøîÂõûÁöÑxÂºßÂ∫¶ÁöÑÊ≠£Âº¶ÂÄº„ÄÇ# tan(x) ËøîÂõûxÂºßÂ∫¶ÁöÑÊ≠£ÂàáÂÄº„ÄÇ# degrees(x) Â∞ÜÂºßÂ∫¶ËΩ¨Êç¢‰∏∫ËßíÂ∫¶,Â¶Çdegrees(math.pi/2) Ôºå ËøîÂõû90.0# radians(x) Â∞ÜËßíÂ∫¶ËΩ¨Êç¢‰∏∫ÂºßÂ∫¶# ==Êï∞Â≠¶Â∏∏Èáè==# Â∏∏Èáè ÊèèËø∞# pi Êï∞Â≠¶Â∏∏Èáè piÔºàÂúÜÂë®ÁéáÔºå‰∏ÄËà¨‰ª•œÄÊù•Ë°®Á§∫Ôºâ# e Êï∞Â≠¶Â∏∏Èáè eÔºåeÂç≥Ëá™ÁÑ∂Â∏∏Êï∞ÔºàËá™ÁÑ∂Â∏∏Êï∞Ôºâ„ÄÇa = b = c = counter = 100 # ÂêåÊó∂‰∏∫Â§ö‰∏™ÂèòÈáèËµãÂÄºÊï¥ÂûãÂèòÈáèd, e, f = 1, 2, &quot;runoob&quot; # ÂêåÊó∂‰∏∫Â§ö‰∏™ÂèòÈáèËµãÂÄº‰∏çÂêåÁöÑÂÄºmiles = 1000.0 # ÊµÆÁÇπÂûãÂèòÈáèname = &quot;runoob&quot; # Â≠óÁ¨¶‰∏≤# delËØ≠Âè•Âà†Èô§‰∏Ä‰∫õÂØπË±°ÂºïÁî®del a# Êï∞ÂÄºËøêÁÆóDivision = 2 / 4 # Èô§Ê≥ïÔºåÂæóÂà∞‰∏Ä‰∏™ÊµÆÁÇπÊï∞Division2 = 2 // 4 # Èô§Ê≥ïÔºåÂæóÂà∞‰∏Ä‰∏™Êï¥Êï∞remainder = 17 % 3 # Âèñ‰Ωôinvolution = 2 ** 5 # ‰πòÊñπprint(Division, 'Division')print(Division2, 'Division2')# StringÔºàÂ≠óÁ¨¶‰∏≤Ôºâ------------------------------------------------------------------------------# ‰ªéÂêéÈù¢Á¥¢Âºï01234567# ‰ªéÂâçÈù¢Á¥¢Âºï-8-7-6-5-4-3-2-1# Good boy# ‰ªéÂâçÈù¢Êà™Âèñ:123456:# ‰ªéÂêéÈù¢Êà™Âèñ:-6-5-4-3-2-1:# ÂèçÊñúÊù†(\\)ÂèØ‰ª•‰Ωú‰∏∫Áª≠Ë°åÁ¨¶ÔºåË°®Á§∫‰∏ã‰∏ÄË°åÊòØ‰∏ä‰∏ÄË°åÁöÑÂª∂Áª≠„ÄÇ‰πüÂèØ‰ª•‰ΩøÁî® &quot;&quot;&quot;...&quot;&quot;&quot; ÊàñËÄÖ '''...''' Ë∑®Ë∂äÂ§öË°å# Áî®+ËøêÁÆóÁ¨¶ËøûÊé•Âú®‰∏ÄËµ∑ÔºåÁî®*ËøêÁÆóÁ¨¶ÈáçÂ§ç# ==ËΩ¨‰πâÂ≠óÁ¨¶==# \\(Âú®Ë°åÂ∞æÊó∂) Áª≠Ë°åÁ¨¶# &gt;&gt;&gt; print(&quot;line1 \\# ... line2 \\# ... line3&quot;)# line1 line2 line3# \\\\ ÂèçÊñúÊù†Á¨¶Âè∑# &gt;&gt;&gt; print(&quot;\\\\&quot;)# \\# \\' ÂçïÂºïÂè∑# &gt;&gt;&gt; print('\\'')# '# \\&quot; ÂèåÂºïÂè∑# &gt;&gt;&gt; print(&quot;\\&quot;&quot;)# &quot;# \\a ÂìçÈìÉ# &gt;&gt;&gt; print(&quot;\\a&quot;)ÊâßË°åÂêéÁîµËÑëÊúâÂìçÂ£∞„ÄÇ# \\b ÈÄÄÊ†º(Backspace)# &gt;&gt;&gt; print(&quot;Hello \\b World!&quot;)# Hello World!# \\000 Á©∫# &gt;&gt;&gt; print(&quot;\\000&quot;)## &gt;&gt;&gt;# \\n Êç¢Ë°å# &gt;&gt;&gt; print(&quot;\\n&quot;)## &gt;&gt;&gt;# \\v Á∫µÂêëÂà∂Ë°®Á¨¶# &gt;&gt;&gt; print(&quot;Hello \\v World!&quot;)# Hello# World!# &gt;&gt;&gt;# \\t Ê®™ÂêëÂà∂Ë°®Á¨¶# &gt;&gt;&gt; print(&quot;Hello \\t World!&quot;)# Hello World!# &gt;&gt;&gt;# \\r ÂõûËΩ¶ÔºåÂ∞Ü \\r ÂêéÈù¢ÁöÑÂÜÖÂÆπÁßªÂà∞Â≠óÁ¨¶‰∏≤ÂºÄÂ§¥ÔºåÂπ∂ÈÄê‰∏ÄÊõøÊç¢ÂºÄÂ§¥ÈÉ®ÂàÜÁöÑÂ≠óÁ¨¶ÔºåÁõ¥Ëá≥Â∞Ü \\r ÂêéÈù¢ÁöÑÂÜÖÂÆπÂÆåÂÖ®ÊõøÊç¢ÂÆåÊàê„ÄÇ# &gt;&gt;&gt; print(&quot;Hello\\rWorld!&quot;)# World!# &gt;&gt;&gt; print('google runoob taobao\\r123456')# 123456 runoob taobao# \\f Êç¢È°µ# &gt;&gt;&gt; print(&quot;Hello \\f World!&quot;)# Hello# World!# &gt;&gt;&gt;# \\yyy ÂÖ´ËøõÂà∂Êï∞Ôºåy ‰ª£Ë°® 0~7 ÁöÑÂ≠óÁ¨¶Ôºå‰æãÂ¶ÇÔºö\\012 ‰ª£Ë°®Êç¢Ë°å„ÄÇ# &gt;&gt;&gt; print(&quot;\\110\\145\\154\\154\\157\\40\\127\\157\\162\\154\\144\\41&quot;)# Hello World!# \\xyy ÂçÅÂÖ≠ËøõÂà∂Êï∞Ôºå‰ª• \\x ÂºÄÂ§¥Ôºåy ‰ª£Ë°®ÁöÑÂ≠óÁ¨¶Ôºå‰æãÂ¶ÇÔºö\\x0a ‰ª£Ë°®Êç¢Ë°å# &gt;&gt;&gt; print(&quot;\\x48\\x65\\x6c\\x6c\\x6f\\x20\\x57\\x6f\\x72\\x6c\\x64\\x21&quot;)# Hello World!# \\other ÂÖ∂ÂÆÉÁöÑÂ≠óÁ¨¶‰ª•ÊôÆÈÄöÊ†ºÂºèËæìÂá∫# ==Â≠óÁ¨¶‰∏≤ËøêÁÆóÁ¨¶==# + Â≠óÁ¨¶‰∏≤ËøûÊé• a + b ËæìÂá∫ÁªìÊûúÔºö HelloPython# * ÈáçÂ§çËæìÂá∫Â≠óÁ¨¶‰∏≤ a*2 ËæìÂá∫ÁªìÊûúÔºöHelloHello# [] ÈÄöËøáÁ¥¢ÂºïËé∑ÂèñÂ≠óÁ¨¶‰∏≤‰∏≠Â≠óÁ¨¶ a[1] ËæìÂá∫ÁªìÊûú e# [ : ] Êà™ÂèñÂ≠óÁ¨¶‰∏≤‰∏≠ÁöÑ‰∏ÄÈÉ®ÂàÜÔºåÈÅµÂæ™Â∑¶Èó≠Âè≥ÂºÄÂéüÂàôÔºåstr[0:2] ÊòØ‰∏çÂåÖÂê´Á¨¨ 3 ‰∏™Â≠óÁ¨¶ÁöÑ„ÄÇ a[1:4] ËæìÂá∫ÁªìÊûú ell# in ÊàêÂëòËøêÁÆóÁ¨¶ - Â¶ÇÊûúÂ≠óÁ¨¶‰∏≤‰∏≠ÂåÖÂê´ÁªôÂÆöÁöÑÂ≠óÁ¨¶ËøîÂõû True 'H' in a ËæìÂá∫ÁªìÊûú True# not in ÊàêÂëòËøêÁÆóÁ¨¶ - Â¶ÇÊûúÂ≠óÁ¨¶‰∏≤‰∏≠‰∏çÂåÖÂê´ÁªôÂÆöÁöÑÂ≠óÁ¨¶ËøîÂõû True 'M' not in a ËæìÂá∫ÁªìÊûú True# r/R ÂéüÂßãÂ≠óÁ¨¶‰∏≤ - ÂéüÂßãÂ≠óÁ¨¶‰∏≤ÔºöÊâÄÊúâÁöÑÂ≠óÁ¨¶‰∏≤ÈÉΩÊòØÁõ¥Êé•ÊåâÁÖßÂ≠óÈù¢ÁöÑÊÑèÊÄùÊù•‰ΩøÁî®ÔºåÊ≤°ÊúâËΩ¨‰πâÁâπÊÆäÊàñ‰∏çËÉΩÊâìÂç∞ÁöÑÂ≠óÁ¨¶„ÄÇ ÂéüÂßãÂ≠óÁ¨¶‰∏≤Èô§Âú®Â≠óÁ¨¶‰∏≤ÁöÑÁ¨¨‰∏Ä‰∏™ÂºïÂè∑ÂâçÂä†‰∏äÂ≠óÊØç rÔºàÂèØ‰ª•Â§ßÂ∞èÂÜôÔºâ‰ª•Â§ñÔºå‰∏éÊôÆÈÄöÂ≠óÁ¨¶‰∏≤ÊúâÁùÄÂá†‰πéÂÆåÂÖ®Áõ∏ÂêåÁöÑËØ≠Ê≥ï„ÄÇ print( r'\\n' ) print( R'\\n' )# % Ê†ºÂºèÂ≠óÁ¨¶‰∏≤# ==Â≠óÁ¨¶‰∏≤Ê†ºÂºèÂåñ==# % c Ê†ºÂºèÂåñÂ≠óÁ¨¶ÂèäÂÖ∂ASCIIÁ†Å# % s Ê†ºÂºèÂåñÂ≠óÁ¨¶‰∏≤# % d Ê†ºÂºèÂåñÊï¥Êï∞# % u Ê†ºÂºèÂåñÊó†Á¨¶Âè∑Êï¥Âûã# % o Ê†ºÂºèÂåñÊó†Á¨¶Âè∑ÂÖ´ËøõÂà∂Êï∞# % x Ê†ºÂºèÂåñÊó†Á¨¶Âè∑ÂçÅÂÖ≠ËøõÂà∂Êï∞# % X Ê†ºÂºèÂåñÊó†Á¨¶Âè∑ÂçÅÂÖ≠ËøõÂà∂Êï∞ÔºàÂ§ßÂÜôÔºâ# % f Ê†ºÂºèÂåñÊµÆÁÇπÊï∞Â≠óÔºåÂèØÊåáÂÆöÂ∞èÊï∞ÁÇπÂêéÁöÑÁ≤æÂ∫¶# % e Áî®ÁßëÂ≠¶ËÆ°Êï∞Ê≥ïÊ†ºÂºèÂåñÊµÆÁÇπÊï∞# % E ‰ΩúÁî®Âêå % eÔºåÁî®ÁßëÂ≠¶ËÆ°Êï∞Ê≥ïÊ†ºÂºèÂåñÊµÆÁÇπÊï∞# % g % fÂíå % eÁöÑÁÆÄÂÜô# % G % f Âíå % E ÁöÑÁÆÄÂÜô# % p Áî®ÂçÅÂÖ≠ËøõÂà∂Êï∞Ê†ºÂºèÂåñÂèòÈáèÁöÑÂú∞ÂùÄ# Ê†ºÂºèÂåñÊìç‰ΩúÁ¨¶ËæÖÂä©Êåá‰ª§:# Á¨¶Âè∑ ÂäüËÉΩ# * ÂÆö‰πâÂÆΩÂ∫¶ÊàñËÄÖÂ∞èÊï∞ÁÇπÁ≤æÂ∫¶# - Áî®ÂÅöÂ∑¶ÂØπÈΩê# + Âú®Ê≠£Êï∞ÂâçÈù¢ÊòæÁ§∫Âä†Âè∑( + )# &lt;sp&gt; Âú®Ê≠£Êï∞ÂâçÈù¢ÊòæÁ§∫Á©∫Ê†º# # Âú®ÂÖ´ËøõÂà∂Êï∞ÂâçÈù¢ÊòæÁ§∫Èõ∂('0')ÔºåÂú®ÂçÅÂÖ≠ËøõÂà∂ÂâçÈù¢ÊòæÁ§∫'0x'ÊàñËÄÖ'0X'(ÂèñÂÜ≥‰∫éÁî®ÁöÑÊòØ'x'ËøòÊòØ'X')# 0 ÊòæÁ§∫ÁöÑÊï∞Â≠óÂâçÈù¢Â°´ÂÖÖ'0'ËÄå‰∏çÊòØÈªòËÆ§ÁöÑÁ©∫Ê†º# % '%%'ËæìÂá∫‰∏Ä‰∏™Âçï‰∏ÄÁöÑ'%'# (var) Êò†Â∞ÑÂèòÈáè(Â≠óÂÖ∏ÂèÇÊï∞)# m.n. m ÊòØÊòæÁ§∫ÁöÑÊúÄÂ∞èÊÄªÂÆΩÂ∫¶,n ÊòØÂ∞èÊï∞ÁÇπÂêéÁöÑ‰ΩçÊï∞(Â¶ÇÊûúÂèØÁî®ÁöÑËØù)# ==f-string==name = 'Runoob'f'Hello {name}' # ÊõøÊç¢ÂèòÈáè'Hello Runoob'f'{1 + 2}' # ‰ΩøÁî®Ë°®ËææÂºè'3'w = {'name': 'Runoob', 'url': 'www.runoob.com'}f'{w[&quot;name&quot;]}: {w[&quot;url&quot;]}''Runoob: www.runoob.com'para_str = &quot;&quot;&quot;ËøôÊòØ‰∏Ä‰∏™Â§öË°åÂ≠óÁ¨¶‰∏≤ÁöÑÂÆû‰æãÂ§öË°åÂ≠óÁ¨¶‰∏≤ÂèØ‰ª•‰ΩøÁî®Âà∂Ë°®Á¨¶TAB ( \\t )„ÄÇ‰πüÂèØ‰ª•‰ΩøÁî®Êç¢Ë°åÁ¨¶ [ \\n ]„ÄÇ&quot;&quot;&quot;# ==Â≠óÁ¨¶‰∏≤ÂÜÖÂª∫ÂáΩÊï∞==# capitalize()# Â∞ÜÂ≠óÁ¨¶‰∏≤ÁöÑÁ¨¨‰∏Ä‰∏™Â≠óÁ¨¶ËΩ¨Êç¢‰∏∫Â§ßÂÜô# center(width, fillchar)# ËøîÂõû‰∏Ä‰∏™ÊåáÂÆöÁöÑÂÆΩÂ∫¶ width Â±Ö‰∏≠ÁöÑÂ≠óÁ¨¶‰∏≤Ôºåfillchar ‰∏∫Â°´ÂÖÖÁöÑÂ≠óÁ¨¶ÔºåÈªòËÆ§‰∏∫Á©∫Ê†º„ÄÇ# count(str, beg= 0,end=len(string))# ËøîÂõû str Âú® string ÈáåÈù¢Âá∫Áé∞ÁöÑÊ¨°Êï∞ÔºåÂ¶ÇÊûú beg ÊàñËÄÖ end ÊåáÂÆöÂàôËøîÂõûÊåáÂÆöËåÉÂõ¥ÂÜÖ str Âá∫Áé∞ÁöÑÊ¨°Êï∞# bytes.decode(encoding=&quot;utf-8&quot;, errors=&quot;strict&quot;)# Python3 ‰∏≠Ê≤°Êúâ decode ÊñπÊ≥ïÔºå‰ΩÜÊàë‰ª¨ÂèØ‰ª•‰ΩøÁî® bytes ÂØπË±°ÁöÑ decode() ÊñπÊ≥ïÊù•Ëß£Á†ÅÁªôÂÆöÁöÑ bytes ÂØπË±°ÔºåËøô‰∏™ bytes ÂØπË±°ÂèØ‰ª•Áî± str.encode() Êù•ÁºñÁ†ÅËøîÂõû„ÄÇ# encode(encoding='UTF-8',errors='strict')# ‰ª• encoding ÊåáÂÆöÁöÑÁºñÁ†ÅÊ†ºÂºèÁºñÁ†ÅÂ≠óÁ¨¶‰∏≤ÔºåÂ¶ÇÊûúÂá∫ÈîôÈªòËÆ§Êä•‰∏Ä‰∏™ValueError ÁöÑÂºÇÂ∏∏ÔºåÈô§Èùû errors ÊåáÂÆöÁöÑÊòØ'ignore'ÊàñËÄÖ'replace'# endswith(suffix, beg=0, end=len(string))# Ê£ÄÊü•Â≠óÁ¨¶‰∏≤ÊòØÂê¶‰ª• obj ÁªìÊùüÔºåÂ¶ÇÊûúbeg ÊàñËÄÖ end ÊåáÂÆöÂàôÊ£ÄÊü•ÊåáÂÆöÁöÑËåÉÂõ¥ÂÜÖÊòØÂê¶‰ª• obj ÁªìÊùüÔºåÂ¶ÇÊûúÊòØÔºåËøîÂõû True,Âê¶ÂàôËøîÂõû False.# expandtabs(tabsize=8)# ÊääÂ≠óÁ¨¶‰∏≤ string ‰∏≠ÁöÑ tab Á¨¶Âè∑ËΩ¨‰∏∫Á©∫Ê†ºÔºåtab Á¨¶Âè∑ÈªòËÆ§ÁöÑÁ©∫Ê†ºÊï∞ÊòØ 8 „ÄÇ# find(str, beg=0, end=len(string))# Ê£ÄÊµã str ÊòØÂê¶ÂåÖÂê´Âú®Â≠óÁ¨¶‰∏≤‰∏≠ÔºåÂ¶ÇÊûúÊåáÂÆöËåÉÂõ¥ beg Âíå end ÔºåÂàôÊ£ÄÊü•ÊòØÂê¶ÂåÖÂê´Âú®ÊåáÂÆöËåÉÂõ¥ÂÜÖÔºåÂ¶ÇÊûúÂåÖÂê´ËøîÂõûÂºÄÂßãÁöÑÁ¥¢ÂºïÂÄºÔºåÂê¶ÂàôËøîÂõû-1# index(str, beg=0, end=len(string))# Ë∑üfind()ÊñπÊ≥ï‰∏ÄÊ†∑ÔºåÂè™‰∏çËøáÂ¶ÇÊûústr‰∏çÂú®Â≠óÁ¨¶‰∏≤‰∏≠‰ºöÊä•‰∏Ä‰∏™ÂºÇÂ∏∏„ÄÇ# isalnum()# Â¶ÇÊûúÂ≠óÁ¨¶‰∏≤Ëá≥Â∞ëÊúâ‰∏Ä‰∏™Â≠óÁ¨¶Âπ∂‰∏îÊâÄÊúâÂ≠óÁ¨¶ÈÉΩÊòØÂ≠óÊØçÊàñÊï∞Â≠óÂàôËøî Âõû TrueÔºåÂê¶ÂàôËøîÂõû False# isalpha()# Â¶ÇÊûúÂ≠óÁ¨¶‰∏≤Ëá≥Â∞ëÊúâ‰∏Ä‰∏™Â≠óÁ¨¶Âπ∂‰∏îÊâÄÊúâÂ≠óÁ¨¶ÈÉΩÊòØÂ≠óÊØçÊàñ‰∏≠ÊñáÂ≠óÂàôËøîÂõû True, Âê¶ÂàôËøîÂõû False# isdigit()# Â¶ÇÊûúÂ≠óÁ¨¶‰∏≤Âè™ÂåÖÂê´Êï∞Â≠óÂàôËøîÂõû True Âê¶ÂàôËøîÂõû False..# islower()# Â¶ÇÊûúÂ≠óÁ¨¶‰∏≤‰∏≠ÂåÖÂê´Ëá≥Â∞ë‰∏Ä‰∏™Âå∫ÂàÜÂ§ßÂ∞èÂÜôÁöÑÂ≠óÁ¨¶ÔºåÂπ∂‰∏îÊâÄÊúâËøô‰∫õ(Âå∫ÂàÜÂ§ßÂ∞èÂÜôÁöÑ)Â≠óÁ¨¶ÈÉΩÊòØÂ∞èÂÜôÔºåÂàôËøîÂõû TrueÔºåÂê¶ÂàôËøîÂõû False# isnumeric()# Â¶ÇÊûúÂ≠óÁ¨¶‰∏≤‰∏≠Âè™ÂåÖÂê´Êï∞Â≠óÂ≠óÁ¨¶ÔºåÂàôËøîÂõû TrueÔºåÂê¶ÂàôËøîÂõû False# isspace()# Â¶ÇÊûúÂ≠óÁ¨¶‰∏≤‰∏≠Âè™ÂåÖÂê´Á©∫ÁôΩÔºåÂàôËøîÂõû TrueÔºåÂê¶ÂàôËøîÂõû False.# istitle()# Â¶ÇÊûúÂ≠óÁ¨¶‰∏≤ÊòØÊ†áÈ¢òÂåñÁöÑ(ËßÅ title())ÂàôËøîÂõû TrueÔºåÂê¶ÂàôËøîÂõû False# isupper()# Â¶ÇÊûúÂ≠óÁ¨¶‰∏≤‰∏≠ÂåÖÂê´Ëá≥Â∞ë‰∏Ä‰∏™Âå∫ÂàÜÂ§ßÂ∞èÂÜôÁöÑÂ≠óÁ¨¶ÔºåÂπ∂‰∏îÊâÄÊúâËøô‰∫õ(Âå∫ÂàÜÂ§ßÂ∞èÂÜôÁöÑ)Â≠óÁ¨¶ÈÉΩÊòØÂ§ßÂÜôÔºåÂàôËøîÂõû TrueÔºåÂê¶ÂàôËøîÂõû False# join(seq)# ‰ª•ÊåáÂÆöÂ≠óÁ¨¶‰∏≤‰Ωú‰∏∫ÂàÜÈöîÁ¨¶ÔºåÂ∞Ü seq ‰∏≠ÊâÄÊúâÁöÑÂÖÉÁ¥†(ÁöÑÂ≠óÁ¨¶‰∏≤Ë°®Á§∫)ÂêàÂπ∂‰∏∫‰∏Ä‰∏™Êñ∞ÁöÑÂ≠óÁ¨¶‰∏≤# len(string)# ËøîÂõûÂ≠óÁ¨¶‰∏≤ÈïøÂ∫¶# ljust(width[, fillchar])# ËøîÂõû‰∏Ä‰∏™ÂéüÂ≠óÁ¨¶‰∏≤Â∑¶ÂØπÈΩê,Âπ∂‰ΩøÁî® fillchar Â°´ÂÖÖËá≥ÈïøÂ∫¶ width ÁöÑÊñ∞Â≠óÁ¨¶‰∏≤Ôºåfillchar ÈªòËÆ§‰∏∫Á©∫Ê†º„ÄÇ# lower()# ËΩ¨Êç¢Â≠óÁ¨¶‰∏≤‰∏≠ÊâÄÊúâÂ§ßÂÜôÂ≠óÁ¨¶‰∏∫Â∞èÂÜô.# lstrip()# Êà™ÊéâÂ≠óÁ¨¶‰∏≤Â∑¶ËæπÁöÑÁ©∫Ê†ºÊàñÊåáÂÆöÂ≠óÁ¨¶„ÄÇ# maketrans()# ÂàõÂª∫Â≠óÁ¨¶Êò†Â∞ÑÁöÑËΩ¨Êç¢Ë°®ÔºåÂØπ‰∫éÊé•Âèó‰∏§‰∏™ÂèÇÊï∞ÁöÑÊúÄÁÆÄÂçïÁöÑË∞ÉÁî®ÊñπÂºèÔºåÁ¨¨‰∏Ä‰∏™ÂèÇÊï∞ÊòØÂ≠óÁ¨¶‰∏≤ÔºåË°®Á§∫ÈúÄË¶ÅËΩ¨Êç¢ÁöÑÂ≠óÁ¨¶ÔºåÁ¨¨‰∫å‰∏™ÂèÇÊï∞‰πüÊòØÂ≠óÁ¨¶‰∏≤Ë°®Á§∫ËΩ¨Êç¢ÁöÑÁõÆÊ†á„ÄÇ# max(str)# ËøîÂõûÂ≠óÁ¨¶‰∏≤ str ‰∏≠ÊúÄÂ§ßÁöÑÂ≠óÊØç„ÄÇ# min(str)# ËøîÂõûÂ≠óÁ¨¶‰∏≤ str ‰∏≠ÊúÄÂ∞èÁöÑÂ≠óÊØç„ÄÇ# replace(old, new [, max])# Êää Â∞ÜÂ≠óÁ¨¶‰∏≤‰∏≠ÁöÑ old ÊõøÊç¢Êàê new,Â¶ÇÊûú max ÊåáÂÆöÔºåÂàôÊõøÊç¢‰∏çË∂ÖËøá max Ê¨°„ÄÇ# rfind(str, beg=0,end=len(string))# Á±ª‰ºº‰∫é find()ÂáΩÊï∞Ôºå‰∏çËøáÊòØ‰ªéÂè≥ËæπÂºÄÂßãÊü•Êâæ.# rindex( str, beg=0, end=len(string))# Á±ª‰ºº‰∫é index()Ôºå‰∏çËøáÊòØ‰ªéÂè≥ËæπÂºÄÂßã.# rjust(width,[, fillchar])# ËøîÂõû‰∏Ä‰∏™ÂéüÂ≠óÁ¨¶‰∏≤Âè≥ÂØπÈΩê,Âπ∂‰ΩøÁî®fillchar(ÈªòËÆ§Á©∫Ê†ºÔºâÂ°´ÂÖÖËá≥ÈïøÂ∫¶ width ÁöÑÊñ∞Â≠óÁ¨¶‰∏≤# rstrip()# Âà†Èô§Â≠óÁ¨¶‰∏≤Êú´Â∞æÁöÑÁ©∫Ê†ºÊàñÊåáÂÆöÂ≠óÁ¨¶„ÄÇ# split(str=&quot;&quot;, num=string.count(str))# ‰ª• str ‰∏∫ÂàÜÈöîÁ¨¶Êà™ÂèñÂ≠óÁ¨¶‰∏≤ÔºåÂ¶ÇÊûú num ÊúâÊåáÂÆöÂÄºÔºåÂàô‰ªÖÊà™Âèñ num+1 ‰∏™Â≠êÂ≠óÁ¨¶‰∏≤# splitlines([keepends])# ÊåâÁÖßË°å('\\r', '\\r\\n', \\n')ÂàÜÈöîÔºåËøîÂõû‰∏Ä‰∏™ÂåÖÂê´ÂêÑË°å‰Ωú‰∏∫ÂÖÉÁ¥†ÁöÑÂàóË°®ÔºåÂ¶ÇÊûúÂèÇÊï∞ keepends ‰∏∫ FalseÔºå‰∏çÂåÖÂê´Êç¢Ë°åÁ¨¶ÔºåÂ¶ÇÊûú‰∏∫ TrueÔºåÂàô‰øùÁïôÊç¢Ë°åÁ¨¶„ÄÇ# startswith(substr, beg=0,end=len(string))# Ê£ÄÊü•Â≠óÁ¨¶‰∏≤ÊòØÂê¶ÊòØ‰ª•ÊåáÂÆöÂ≠êÂ≠óÁ¨¶‰∏≤ substr ÂºÄÂ§¥ÔºåÊòØÂàôËøîÂõû TrueÔºåÂê¶ÂàôËøîÂõû False„ÄÇÂ¶ÇÊûúbeg Âíå end ÊåáÂÆöÂÄºÔºåÂàôÂú®ÊåáÂÆöËåÉÂõ¥ÂÜÖÊ£ÄÊü•„ÄÇ# strip([chars])# Âú®Â≠óÁ¨¶‰∏≤‰∏äÊâßË°å lstrip()Âíå rstrip()# swapcase()# Â∞ÜÂ≠óÁ¨¶‰∏≤‰∏≠Â§ßÂÜôËΩ¨Êç¢‰∏∫Â∞èÂÜôÔºåÂ∞èÂÜôËΩ¨Êç¢‰∏∫Â§ßÂÜô# title()# ËøîÂõû&quot;Ê†áÈ¢òÂåñ&quot;ÁöÑÂ≠óÁ¨¶‰∏≤,Â∞±ÊòØËØ¥ÊâÄÊúâÂçïËØçÈÉΩÊòØ‰ª•Â§ßÂÜôÂºÄÂßãÔºåÂÖ∂‰ΩôÂ≠óÊØçÂùá‰∏∫Â∞èÂÜô(ËßÅ istitle())# translate(table, deletechars=&quot;&quot;)# Ê†πÊçÆ str ÁªôÂá∫ÁöÑË°®(ÂåÖÂê´ 256 ‰∏™Â≠óÁ¨¶)ËΩ¨Êç¢ string ÁöÑÂ≠óÁ¨¶, Ë¶ÅËøáÊª§ÊéâÁöÑÂ≠óÁ¨¶ÊîæÂà∞ deletechars ÂèÇÊï∞‰∏≠# upper()# ËΩ¨Êç¢Â≠óÁ¨¶‰∏≤‰∏≠ÁöÑÂ∞èÂÜôÂ≠óÊØç‰∏∫Â§ßÂÜô# zfill (width)# ËøîÂõûÈïøÂ∫¶‰∏∫ width ÁöÑÂ≠óÁ¨¶‰∏≤ÔºåÂéüÂ≠óÁ¨¶‰∏≤Âè≥ÂØπÈΩêÔºåÂâçÈù¢Â°´ÂÖÖ0# isdecimal()# Ê£ÄÊü•Â≠óÁ¨¶‰∏≤ÊòØÂê¶Âè™ÂåÖÂê´ÂçÅËøõÂà∂Â≠óÁ¨¶ÔºåÂ¶ÇÊûúÊòØËøîÂõû trueÔºåÂê¶ÂàôËøîÂõû false„ÄÇstr = 'Lxl is a good boy'print(str) # ËæìÂá∫Â≠óÁ¨¶‰∏≤print(str[0:-1]) # ËæìÂá∫Á¨¨‰∏Ä‰∏™Âà∞ÂÄíÊï∞Á¨¨‰∫å‰∏™ÁöÑÊâÄÊúâÂ≠óÁ¨¶print(str[0]) # ËæìÂá∫Â≠óÁ¨¶‰∏≤Á¨¨‰∏Ä‰∏™Â≠óÁ¨¶print(str[2:5]) # ËæìÂá∫‰ªéÁ¨¨‰∏â‰∏™ÂºÄÂßãÂà∞Á¨¨‰∫î‰∏™ÁöÑÂ≠óÁ¨¶print(str[2:]) # ËæìÂá∫‰ªéÁ¨¨‰∏â‰∏™ÂºÄÂßãÁöÑÂêéÁöÑÊâÄÊúâÂ≠óÁ¨¶print(str * 2) # ËæìÂá∫Â≠óÁ¨¶‰∏≤‰∏§Ê¨°Ôºå‰πüÂèØ‰ª•ÂÜôÊàê print (2 * str)print(str + &quot;TEST&quot;) # ËøûÊé•Â≠óÁ¨¶‰∏≤# ËΩ¨‰πâprint('Ru\\noob')# ‰∏çËΩ¨‰πâÂ≠óÁ¨¶‰∏≤ÂâçÂä†rprint(2 * r'Ru\\noob')# ListÔºàÂàóË°®Ôºâ------------------------------------------------------------------------------# ÂàõÂª∫ÂàóË°®Âè™ÈúÄË¶ÅÊñπÊã¨Âè∑Êã¨Ëµ∑Êù•ÔºåÈáåÈù¢Êï∞ÊçÆÁ±ªÂûãÂèØ‰∏ç‰∏ÄËá¥ÔºåÁ¥¢ÂºïÊ≠£0Âèç-1Ôºå# ÂàóË°®‰∏≠ÁöÑÂÖÉÁ¥†ÊòØÂèØ‰ª•ÊîπÂèòÁöÑ# append() ËøΩÂä† del Âà†Èô§# ==ÂàóË°®ËÑöÊú¨Êìç‰ΩúÁ¨¶==# Python Ë°®ËææÂºè ÁªìÊûú ÊèèËø∞# len([1, 2, 3]) 3 ÈïøÂ∫¶# [1, 2, 3] + [4, 5, 6] [1, 2, 3, 4, 5, 6] ÁªÑÂêà# ['Hi!'] * 4 ['Hi!', 'Hi!', 'Hi!', 'Hi!'] ÈáçÂ§ç# 3 in [1, 2, 3] True ÂÖÉÁ¥†ÊòØÂê¶Â≠òÂú®‰∫éÂàóË°®‰∏≠# for x in [1, 2, 3]: print(x, end=&quot; &quot;) 1 2 3 Ëø≠‰ª£# ==ÂáΩÊï∞&amp;ÊñπÊ≥ï==# len(list) ÂàóË°®ÂÖÉÁ¥†‰∏™Êï∞# max(list) ËøîÂõûÂàóË°®ÂÖÉÁ¥†ÊúÄÂ§ßÂÄº# min(list) ËøîÂõûÂàóË°®ÂÖÉÁ¥†ÊúÄÂ∞èÂÄº# list(seq) Â∞ÜÂÖÉÁªÑËΩ¨Êç¢‰∏∫ÂàóË°®# 1 list.append(obj) Âú®ÂàóË°®Êú´Â∞æÊ∑ªÂä†Êñ∞ÁöÑÂØπË±°# 2 list.count(obj) ÁªüËÆ°Êüê‰∏™ÂÖÉÁ¥†Âú®ÂàóË°®‰∏≠Âá∫Áé∞ÁöÑÊ¨°Êï∞# 3 list.extend(seq) Âú®ÂàóË°®Êú´Â∞æ‰∏ÄÊ¨°ÊÄßËøΩÂä†Âè¶‰∏Ä‰∏™Â∫èÂàó‰∏≠ÁöÑÂ§ö‰∏™ÂÄºÔºàÁî®Êñ∞ÂàóË°®Êâ©Â±ïÂéüÊù•ÁöÑÂàóË°®Ôºâ# 4 list.index(obj) ‰ªéÂàóË°®‰∏≠ÊâæÂá∫Êüê‰∏™ÂÄºÁ¨¨‰∏Ä‰∏™ÂåπÈÖçÈ°πÁöÑÁ¥¢Âºï‰ΩçÁΩÆ# 5 list.insert(index, obj) Â∞ÜÂØπË±°ÊèíÂÖ•ÂàóË°®# 6 list.pop([index=-1]) ÁßªÈô§ÂàóË°®‰∏≠ÁöÑ‰∏Ä‰∏™ÂÖÉÁ¥†ÔºàÈªòËÆ§ÊúÄÂêé‰∏Ä‰∏™ÂÖÉÁ¥†ÔºâÔºåÂπ∂‰∏îËøîÂõûËØ•ÂÖÉÁ¥†ÁöÑÂÄº# 7 list.remove(obj) ÁßªÈô§ÂàóË°®‰∏≠Êüê‰∏™ÂÄºÁöÑÁ¨¨‰∏Ä‰∏™ÂåπÈÖçÈ°π# 8 list.reverse() ÂèçÂêëÂàóË°®‰∏≠ÂÖÉÁ¥†# 9 list.sort( key=None, reverse=False) ÂØπÂéüÂàóË°®ËøõË°åÊéíÂ∫è# 10 list.clear() Ê∏ÖÁ©∫ÂàóË°®# 11 list.copy() Â§çÂà∂ÂàóË°®lists = ['1', '2', '3', '4', '5']print(lists[:])print(lists[:3])print(lists[1:3])print(lists[4:])print(lists[-1:])print(lists[:-2])print(lists * 3) # ËæìÂá∫Â§öÊ¨°ÂàóË°®print(lists + lists) # ËøûÊé•ÂàóË°®for i, v in enumerate(['tic', 'tac', 'toe']): print(i, v)def reverseWords(input): # ÈÄöËøáÁ©∫Ê†ºÂ∞ÜÂ≠óÁ¨¶‰∏≤ÂàÜÈöîÁ¨¶ÔºåÊääÂêÑ‰∏™ÂçïËØçÂàÜÈöî‰∏∫ÂàóË°® inputWords = input.split(&quot; &quot;) # ÁøªËΩ¨Â≠óÁ¨¶‰∏≤ # ÂÅáËÆæÂàóË°® list = [1,2,3,4], # list[0]=1, list[1]=2 ÔºåËÄå -1 Ë°®Á§∫ÊúÄÂêé‰∏Ä‰∏™ÂÖÉÁ¥† list[-1]=4 ( ‰∏é list[3]=4 ‰∏ÄÊ†∑) # inputWords[-1::-1] Êúâ‰∏â‰∏™ÂèÇÊï∞ # Á¨¨‰∏Ä‰∏™ÂèÇÊï∞ -1 Ë°®Á§∫ÊúÄÂêé‰∏Ä‰∏™ÂÖÉÁ¥† # Á¨¨‰∫å‰∏™ÂèÇÊï∞‰∏∫Á©∫ÔºåË°®Á§∫ÁßªÂä®Âà∞ÂàóË°®Êú´Â∞æ # Á¨¨‰∏â‰∏™ÂèÇÊï∞‰∏∫Ê≠•ÈïøÔºå-1 Ë°®Á§∫ÈÄÜÂêë inputWords = inputWords[-1::-1] # ÈáçÊñ∞ÁªÑÂêàÂ≠óÁ¨¶‰∏≤ output = ' '.join(inputWords) return outputif __name__ == &quot;__main__&quot;: input = 'I like runoob' rw = reverseWords(input) print(rw)# TupleÔºàÂÖÉÁªÑÔºâ--------------------------------------------------------------------# ÂÖÉÁªÑÔºàtupleÔºâ‰∏éÂàóË°®Á±ª‰ººÔºå‰∏çÂêå‰πãÂ§ÑÂú®‰∫éÂÖÉÁªÑÁöÑÂÖÉÁ¥†‰∏çËÉΩ‰øÆÊîπÔºåÂÖ∂‰ΩøÁî®Â∞èÊã¨Âè∑ÔºàÔºâÊàñ‰∏çË¶ÅÊã¨Âè∑Ôºå# ‰ΩÜÂÆÉÂèØ‰ª•ÂåÖÂê´ÂèØÂèòÁöÑÂØπË±°ÔºåÂèØ‰ª•ËøûÊé•ÁªÑÂêàÊàêÊñ∞ÂÖÉÁ•ñÔºåÂÖÉÁ¥†‰∏çÂÖÅËÆ∏Âà†Èô§‰ΩÜÂèØ‰ª•‰ΩøÁî®delÂà†Èô§Êï¥‰∏™ÂÖÉÁ•ñ„ÄÇ# string„ÄÅlist Âíå tuple ÈÉΩÂ±û‰∫é sequenceÔºàÂ∫èÂàóÔºâ„ÄÇ# ÂΩìÂÖÉÁ•ñÂè™Êúâ‰∏Ä‰∏™ÂÖÉÁ¥†Êó∂ÔºåÂêéÈù¢Ê∑ªÂä†ÈÄóÂè∑ÔºåÂê¶ÂàôÊã¨Âè∑‰ºöË¢´ÂΩìÂÅöËøêÁÆóÁ¨¶‰ΩøÁî®Ôºåtup1 = (50)‰∏∫Êï¥ÂûãÔºåtup1 = (50Ôºå)‰∏∫ÂÖÉÁ•ñ# ==ÂÖÉÁ•ñËøêÁÆóÁ¨¶==# Python Ë°®ËææÂºè ÁªìÊûú ÊèèËø∞# len((1, 2, 3)) 3 ËÆ°ÁÆóÂÖÉÁ¥†‰∏™Êï∞# (1, 2, 3) + (4, 5, 6) (1, 2, 3, 4, 5, 6) ËøûÊé•# ('Hi!',) * 4 ('Hi!', 'Hi!', 'Hi!', 'Hi!') Â§çÂà∂# 3 in (1, 2, 3) True ÂÖÉÁ¥†ÊòØÂê¶Â≠òÂú®# for x in (1, 2, 3): print (x,) 1 2 3 Ëø≠‰ª£# ==ÂÜÖÁΩÆÂáΩÊï∞==# len(tuple) ËÆ°ÁÆóÂÖÉÁªÑÂÖÉÁ¥†‰∏™Êï∞„ÄÇ# max(tuple) ËøîÂõûÂÖÉÁªÑ‰∏≠ÂÖÉÁ¥†ÊúÄÂ§ßÂÄº„ÄÇ# min(tuple) ËøîÂõûÂÖÉÁªÑ‰∏≠ÂÖÉÁ¥†ÊúÄÂ∞èÂÄº„ÄÇ# tuple(iterable) Â∞ÜÂèØËø≠‰ª£Á≥ªÂàóËΩ¨Êç¢‰∏∫ÂÖÉÁªÑ„ÄÇtuple = ('abcd', 786, 2.23, 'runoob', 70.2)tinytuple = (123, 'runoob')print(tuple) # ËæìÂá∫ÂÆåÊï¥ÂÖÉÁªÑprint(tuple[0]) # ËæìÂá∫ÂÖÉÁªÑÁöÑÁ¨¨‰∏Ä‰∏™ÂÖÉÁ¥†print(tuple[1:3]) # ËæìÂá∫‰ªéÁ¨¨‰∫å‰∏™ÂÖÉÁ¥†ÂºÄÂßãÂà∞Á¨¨‰∏â‰∏™ÂÖÉÁ¥†print(tuple[2:]) # ËæìÂá∫‰ªéÁ¨¨‰∏â‰∏™ÂÖÉÁ¥†ÂºÄÂßãÁöÑÊâÄÊúâÂÖÉÁ¥†print(tinytuple * 2) # ËæìÂá∫‰∏§Ê¨°ÂÖÉÁªÑprint(tuple + tinytuple) # ËøûÊé•ÂÖÉÁªÑ# SetÔºàÈõÜÂêàÔºâ----------------------------------------------------------------------# ÂàõÂª∫‰∏Ä‰∏™Á©∫ÈõÜÂêàÂøÖÈ°ªÁî® set() ËÄå‰∏çÊòØ { }ÔºåÂõ†‰∏∫ { } ÊòØÁî®Êù•ÂàõÂª∫‰∏Ä‰∏™Á©∫Â≠óÂÖ∏sites = {'Google', 'Taobao', 'Runoob', 'Facebook', 'Zhihu', 'Baidu'}sites1 = {}sites2 = ()set()# # Ê∑ªÂä†ÂÖÉÁ¥†ÔºåÈáçÂ§ç‰∏çÊìç‰Ωú# sites1.add(&quot;1&quot;)# # ÂèØ‰ª•Ê∑ªÂä†ÂàóË°®ÔºåÂÖÉÁ•ñÂ≠óÂÖ∏Á≠â# sites1.update(&quot;1&quot;)# print(sites) # ËæìÂá∫ÈõÜÂêàÔºåÈáçÂ§çÁöÑÂÖÉÁ¥†Ë¢´Ëá™Âä®ÂéªÊéâ# # ÁßªÈô§Ôºå‰∏çÂ≠òÂú®Êä•Èîô# sites1.remove( x )# # ÁßªÈô§Ôºå‰∏çÂ≠òÂú®‰∏çÊä•Èîô# sites1.discard( x )# # ÈöèÊú∫Âà†Èô§# sites1.pop()# # ÈïøÂ∫¶# len(sites1)# # Ê∏ÖÁ©∫# sites1.clear()# # Âà§Êñ≠ÊòØÂê¶Â≠òÂú®# x in s# ==ÂÜÖÁΩÆÊñπÊ≥ïÂÆåÊï¥ÂàóË°®==# add() ‰∏∫ÈõÜÂêàÊ∑ªÂä†ÂÖÉÁ¥†# clear() ÁßªÈô§ÈõÜÂêà‰∏≠ÁöÑÊâÄÊúâÂÖÉÁ¥†# copy() Êã∑Ë¥ù‰∏Ä‰∏™ÈõÜÂêà# difference() ËøîÂõûÂ§ö‰∏™ÈõÜÂêàÁöÑÂ∑ÆÈõÜ# difference_update() ÁßªÈô§ÈõÜÂêà‰∏≠ÁöÑÂÖÉÁ¥†ÔºåËØ•ÂÖÉÁ¥†Âú®ÊåáÂÆöÁöÑÈõÜÂêà‰πüÂ≠òÂú®„ÄÇ# discard() Âà†Èô§ÈõÜÂêà‰∏≠ÊåáÂÆöÁöÑÂÖÉÁ¥†# intersection() ËøîÂõûÈõÜÂêàÁöÑ‰∫§ÈõÜ# intersection_update() ËøîÂõûÈõÜÂêàÁöÑ‰∫§ÈõÜ„ÄÇ# isdisjoint() Âà§Êñ≠‰∏§‰∏™ÈõÜÂêàÊòØÂê¶ÂåÖÂê´Áõ∏ÂêåÁöÑÂÖÉÁ¥†ÔºåÂ¶ÇÊûúÊ≤°ÊúâËøîÂõû TrueÔºåÂê¶ÂàôËøîÂõû False„ÄÇ# issubset() Âà§Êñ≠ÊåáÂÆöÈõÜÂêàÊòØÂê¶‰∏∫ËØ•ÊñπÊ≥ïÂèÇÊï∞ÈõÜÂêàÁöÑÂ≠êÈõÜ„ÄÇ# issuperset() Âà§Êñ≠ËØ•ÊñπÊ≥ïÁöÑÂèÇÊï∞ÈõÜÂêàÊòØÂê¶‰∏∫ÊåáÂÆöÈõÜÂêàÁöÑÂ≠êÈõÜ# pop() ÈöèÊú∫ÁßªÈô§ÂÖÉÁ¥†# remove() ÁßªÈô§ÊåáÂÆöÂÖÉÁ¥†# symmetric_difference() ËøîÂõû‰∏§‰∏™ÈõÜÂêà‰∏≠‰∏çÈáçÂ§çÁöÑÂÖÉÁ¥†ÈõÜÂêà„ÄÇ# symmetric_difference_update() ÁßªÈô§ÂΩìÂâçÈõÜÂêà‰∏≠Âú®Âè¶Â§ñ‰∏Ä‰∏™ÊåáÂÆöÈõÜÂêàÁõ∏ÂêåÁöÑÂÖÉÁ¥†ÔºåÂπ∂Â∞ÜÂè¶Â§ñ‰∏Ä‰∏™ÊåáÂÆöÈõÜÂêà‰∏≠‰∏çÂêåÁöÑÂÖÉÁ¥†ÊèíÂÖ•Âà∞ÂΩìÂâçÈõÜÂêà‰∏≠„ÄÇ# union() ËøîÂõû‰∏§‰∏™ÈõÜÂêàÁöÑÂπ∂ÈõÜ# update() ÁªôÈõÜÂêàÊ∑ªÂä†ÂÖÉÁ¥†# ÊàêÂëòÊµãËØïif 'Runoob' in sites: print('Runoob Âú®ÈõÜÂêà‰∏≠')else: print('Runoob ‰∏çÂú®ÈõÜÂêà‰∏≠')# setÂèØ‰ª•ËøõË°åÈõÜÂêàËøêÁÆóa = set('abracadabra')b = set('alacazam')print(a)print(a - b) # a Âíå b ÁöÑÂ∑ÆÈõÜprint(a | b) # a Âíå b ÁöÑÂπ∂ÈõÜprint(a &amp; b) # a Âíå b ÁöÑ‰∫§ÈõÜprint(a ^ b) # a Âíå b ‰∏≠‰∏çÂêåÊó∂Â≠òÂú®ÁöÑÂÖÉÁ¥†# DictionaryÔºàÂ≠óÂÖ∏Ôºâ------------------------------------------------------------------# Â≠óÂÖ∏ÔºàdictionaryÔºâÊòØPython‰∏≠Âè¶‰∏Ä‰∏™ÈùûÂ∏∏ÊúâÁî®ÁöÑÂÜÖÁΩÆÊï∞ÊçÆÁ±ªÂûã„ÄÇ# ÂàóË°®ÊòØÊúâÂ∫èÁöÑÂØπË±°ÈõÜÂêàÔºåÂ≠óÂÖ∏ÊòØÊó†Â∫èÁöÑÂØπË±°ÈõÜÂêà„ÄÇ‰∏§ËÄÖ‰πãÈó¥ÁöÑÂå∫Âà´Âú®‰∫éÔºöÂ≠óÂÖ∏ÂΩì‰∏≠ÁöÑÂÖÉÁ¥†ÊòØÈÄöËøáÈîÆÊù•Â≠òÂèñÁöÑÔºåËÄå‰∏çÊòØÈÄöËøáÂÅèÁßªÂ≠òÂèñ„ÄÇ# Â≠óÂÖ∏ÊòØ‰∏ÄÁßçÊò†Â∞ÑÁ±ªÂûãÔºåÂ≠óÂÖ∏Áî® { } Ê†áËØÜÔºåÂÆÉÊòØ‰∏Ä‰∏™Êó†Â∫èÁöÑ ÈîÆ(key) : ÂÄº(value) ÁöÑÈõÜÂêà„ÄÇ# ÈîÆ(key)ÂèØ‰ª•ÊòØ‰ªªÊÑèÁ±ªÂûãÔºå‰ΩÜÂøÖÈ°ª‰ΩøÁî®‰∏çÂèØÂèòÁ±ªÂûã„ÄÇ# Âú®Âêå‰∏Ä‰∏™Â≠óÂÖ∏‰∏≠ÔºåÈîÆ(key)ÂøÖÈ°ªÊòØÂîØ‰∏ÄÁöÑ„ÄÇ# ==ÂÜÖÁΩÆÂáΩÊï∞==# len(dict) ËÆ°ÁÆóÂ≠óÂÖ∏ÂÖÉÁ¥†‰∏™Êï∞ÔºåÂç≥ÈîÆÁöÑÊÄªÊï∞„ÄÇ# str(dict) ËæìÂá∫Â≠óÂÖ∏Ôºå‰ª•ÂèØÊâìÂç∞ÁöÑÂ≠óÁ¨¶‰∏≤Ë°®Á§∫„ÄÇ# type(variable) ËøîÂõûËæìÂÖ•ÁöÑÂèòÈáèÁ±ªÂûãÔºåÂ¶ÇÊûúÂèòÈáèÊòØÂ≠óÂÖ∏Â∞±ËøîÂõûÂ≠óÂÖ∏Á±ªÂûã„ÄÇ# ==ÂÜÖÁΩÆÊñπÊ≥ï==# 1 radiansdict.clear() Âà†Èô§Â≠óÂÖ∏ÂÜÖÊâÄÊúâÂÖÉÁ¥†# 2 radiansdict.copy() ËøîÂõû‰∏Ä‰∏™Â≠óÂÖ∏ÁöÑÊµÖÂ§çÂà∂# 3 radiansdict.fromkeys() ÂàõÂª∫‰∏Ä‰∏™Êñ∞Â≠óÂÖ∏Ôºå‰ª•Â∫èÂàóseq‰∏≠ÂÖÉÁ¥†ÂÅöÂ≠óÂÖ∏ÁöÑÈîÆÔºåval‰∏∫Â≠óÂÖ∏ÊâÄÊúâÈîÆÂØπÂ∫îÁöÑÂàùÂßãÂÄº# 4 radiansdict.get(key, default=None) ËøîÂõûÊåáÂÆöÈîÆÁöÑÂÄºÔºåÂ¶ÇÊûúÈîÆ‰∏çÂú®Â≠óÂÖ∏‰∏≠ËøîÂõû default ËÆæÁΩÆÁöÑÈªòËÆ§ÂÄº# 5 key in dict Â¶ÇÊûúÈîÆÂú®Â≠óÂÖ∏dictÈáåËøîÂõûtrueÔºåÂê¶ÂàôËøîÂõûfalse# 6 radiansdict.items() ‰ª•ÂàóË°®ËøîÂõû‰∏Ä‰∏™ËßÜÂõæÂØπË±°# 7 radiansdict.keys() ËøîÂõû‰∏Ä‰∏™ËßÜÂõæÂØπË±°# 8 radiansdict.setdefault(key, default=None) Âíåget()Á±ª‰ºº, ‰ΩÜÂ¶ÇÊûúÈîÆ‰∏çÂ≠òÂú®‰∫éÂ≠óÂÖ∏‰∏≠ÔºåÂ∞Ü‰ºöÊ∑ªÂä†ÈîÆÂπ∂Â∞ÜÂÄºËÆæ‰∏∫default# 9 radiansdict.update(dict2) ÊääÂ≠óÂÖ∏dict2ÁöÑÈîÆ/ÂÄºÂØπÊõ¥Êñ∞Âà∞dictÈáå# 10 radiansdict.values() ËøîÂõû‰∏Ä‰∏™ËßÜÂõæÂØπË±°# 11 pop(key[,default]) Âà†Èô§Â≠óÂÖ∏ÁªôÂÆöÈîÆ key ÊâÄÂØπÂ∫îÁöÑÂÄºÔºåËøîÂõûÂÄº‰∏∫Ë¢´Âà†Èô§ÁöÑÂÄº„ÄÇkeyÂÄºÂøÖÈ°ªÁªôÂá∫„ÄÇ Âê¶ÂàôÔºåËøîÂõûdefaultÂÄº„ÄÇ# 12 popitem() ÈöèÊú∫ËøîÂõûÂπ∂Âà†Èô§Â≠óÂÖ∏‰∏≠ÁöÑÊúÄÂêé‰∏ÄÂØπÈîÆÂíåÂÄºdict = {}dict['one'] = &quot;1 - ËèúÈ∏üÊïôÁ®ã&quot;dict[2] = &quot;2 - ËèúÈ∏üÂ∑•ÂÖ∑&quot;tinydict = {'name': 'runoob', 'code': 1, 'site': 'www.runoob.com'}for k, v in knights.items(): print(k, v)print(dict['one']) # ËæìÂá∫ÈîÆ‰∏∫ 'one' ÁöÑÂÄºprint(dict[2]) # ËæìÂá∫ÈîÆ‰∏∫ 2 ÁöÑÂÄºprint(tinydict) # ËæìÂá∫ÂÆåÊï¥ÁöÑÂ≠óÂÖ∏print(tinydict.keys()) # ËæìÂá∫ÊâÄÊúâÈîÆprint(tinydict.values()) # ËæìÂá∫ÊâÄÊúâÂÄºdel tinydict['name'] # Âà†Èô§ÈîÆ 'name'dict.clear() # Ê∏ÖÁ©∫Â≠óÂÖ∏del tinydict # Âà†Èô§Â≠óÂÖ∏# ÊûÑÈÄ†ÂáΩÊï∞ dict() ÂèØ‰ª•Áõ¥Êé•‰ªéÈîÆÂÄºÂØπÂ∫èÂàó‰∏≠ÊûÑÂª∫Â≠óÂÖ∏Â¶Ç‰∏ã'''============Êï∞ÊçÆÁ±ªÂûãËΩ¨Êç¢==============='''# int(x [,projects]) Â∞ÜxËΩ¨Êç¢‰∏∫‰∏Ä‰∏™Êï¥Êï∞# float(x)Â∞ÜxËΩ¨Êç¢Âà∞‰∏Ä‰∏™ÊµÆÁÇπÊï∞# complex(real [,imag])ÂàõÂª∫‰∏Ä‰∏™Â§çÊï∞# str(x)Â∞ÜÂØπË±° x ËΩ¨Êç¢‰∏∫Â≠óÁ¨¶‰∏≤# repr(x)Â∞ÜÂØπË±° x ËΩ¨Êç¢‰∏∫Ë°®ËææÂºèÂ≠óÁ¨¶‰∏≤# eval(str)Áî®Êù•ËÆ°ÁÆóÂú®Â≠óÁ¨¶‰∏≤‰∏≠ÁöÑÊúâÊïàPythonË°®ËææÂºè,Âπ∂ËøîÂõû‰∏Ä‰∏™ÂØπË±°# tuple(s)Â∞ÜÂ∫èÂàó s ËΩ¨Êç¢‰∏∫‰∏Ä‰∏™ÂÖÉÁªÑ# list(s)Â∞ÜÂ∫èÂàó s ËΩ¨Êç¢‰∏∫‰∏Ä‰∏™ÂàóË°®# set(s)ËΩ¨Êç¢‰∏∫ÂèØÂèòÈõÜÂêà# dict(d)ÂàõÂª∫‰∏Ä‰∏™Â≠óÂÖ∏„ÄÇd ÂøÖÈ°ªÊòØ‰∏Ä‰∏™ (key, value)ÂÖÉÁªÑÂ∫èÂàó„ÄÇ# frozenset(s)ËΩ¨Êç¢‰∏∫‰∏çÂèØÂèòÈõÜÂêà# chr(x)Â∞Ü‰∏Ä‰∏™Êï¥Êï∞ËΩ¨Êç¢‰∏∫‰∏Ä‰∏™Â≠óÁ¨¶# ord(x)Â∞Ü‰∏Ä‰∏™Â≠óÁ¨¶ËΩ¨Êç¢‰∏∫ÂÆÉÁöÑÊï¥Êï∞ÂÄº# hex(x)Â∞Ü‰∏Ä‰∏™Êï¥Êï∞ËΩ¨Êç¢‰∏∫‰∏Ä‰∏™ÂçÅÂÖ≠ËøõÂà∂Â≠óÁ¨¶‰∏≤# oct(x)Â∞Ü‰∏Ä‰∏™Êï¥Êï∞ËΩ¨Êç¢‰∏∫‰∏Ä‰∏™ÂÖ´ËøõÂà∂Â≠óÁ¨¶‰∏≤'''============Python3ËøêÁÆóÁ¨¶==============='''# ÁÆóÊúØËøêÁÆóÁ¨¶„Äêa‰∏∫10Ôºåb‰∏∫21„Äë----------------------------------# + Âä† - ‰∏§‰∏™ÂØπË±°Áõ∏Âä† a + b ËæìÂá∫ÁªìÊûú 31# - Âáè - ÂæóÂà∞Ë¥üÊï∞ÊàñÊòØ‰∏Ä‰∏™Êï∞ÂáèÂéªÂè¶‰∏Ä‰∏™Êï∞ a - b ËæìÂá∫ÁªìÊûú -11# * ‰πò - ‰∏§‰∏™Êï∞Áõ∏‰πòÊàñÊòØËøîÂõû‰∏Ä‰∏™Ë¢´ÈáçÂ§çËã•Âπ≤Ê¨°ÁöÑÂ≠óÁ¨¶‰∏≤ a * b ËæìÂá∫ÁªìÊûú 210# / Èô§ - x Èô§‰ª• y b / a ËæìÂá∫ÁªìÊûú 2.1# % ÂèñÊ®° - ËøîÂõûÈô§Ê≥ïÁöÑ‰ΩôÊï∞ b % a ËæìÂá∫ÁªìÊûú 1# ** ÂπÇ - ËøîÂõûxÁöÑyÊ¨°ÂπÇ a**b ‰∏∫10ÁöÑ21Ê¨°Êñπ# // ÂèñÊï¥Èô§ - Âêë‰∏ãÂèñÊé•ËøëÂïÜÁöÑÊï¥Êï∞ÔºåÈô§ÂêéÂèñÂ∞è 9//2=4 -9//2=-5# ÊØîËæÉÔºàÂÖ≥Á≥ªÔºâËøêÁÆóÁ¨¶„Äêa‰∏∫10Ôºåb‰∏∫20„Äë-----------------------------# == Á≠â‰∫é - ÊØîËæÉÂØπË±°ÊòØÂê¶Áõ∏Á≠â (a == b) ËøîÂõû False„ÄÇ# != ‰∏çÁ≠â‰∫é - ÊØîËæÉ‰∏§‰∏™ÂØπË±°ÊòØÂê¶‰∏çÁõ∏Á≠â (a != b) ËøîÂõû True„ÄÇ# &gt; Â§ß‰∫é - ËøîÂõûxÊòØÂê¶Â§ß‰∫éy (a &gt; b) ËøîÂõû False„ÄÇ# &lt; Â∞è‰∫é - ËøîÂõûxÊòØÂê¶Â∞è‰∫éy„ÄÇÊâÄÊúâÊØîËæÉËøêÁÆóÁ¨¶ËøîÂõû1Ë°®Á§∫ÁúüÔºåËøîÂõû0Ë°®Á§∫ÂÅá„ÄÇËøôÂàÜÂà´‰∏éÁâπÊÆäÁöÑÂèòÈáèTrueÂíåFalseÁ≠â‰ª∑„ÄÇÊ≥®ÊÑèÔºåËøô‰∫õÂèòÈáèÂêçÁöÑÂ§ßÂÜô„ÄÇ (a &lt; b) ËøîÂõû True„ÄÇ# &gt;= Â§ß‰∫éÁ≠â‰∫é - ËøîÂõûxÊòØÂê¶Â§ß‰∫éÁ≠â‰∫éy„ÄÇ (a &gt;= b) ËøîÂõû False„ÄÇ# &lt;= Â∞è‰∫éÁ≠â‰∫é - ËøîÂõûxÊòØÂê¶Â∞è‰∫éÁ≠â‰∫éy„ÄÇ (a &lt;= b) ËøîÂõû True„ÄÇ# ËµãÂÄºËøêÁÆóÁ¨¶„Äêa‰∏∫10Ôºåb‰∏∫20„Äë----------------------------------# = ÁÆÄÂçïÁöÑËµãÂÄºËøêÁÆóÁ¨¶ c = a + b Â∞Ü a + b ÁöÑËøêÁÆóÁªìÊûúËµãÂÄº‰∏∫ c# += Âä†Ê≥ïËµãÂÄºËøêÁÆóÁ¨¶ c += a Á≠âÊïà‰∫é c = c + a# -= ÂáèÊ≥ïËµãÂÄºËøêÁÆóÁ¨¶ c -= a Á≠âÊïà‰∫é c = c - a# *= ‰πòÊ≥ïËµãÂÄºËøêÁÆóÁ¨¶ c *= a Á≠âÊïà‰∫é c = c * a# /= Èô§Ê≥ïËµãÂÄºËøêÁÆóÁ¨¶ c /= a Á≠âÊïà‰∫é c = c / a# %= ÂèñÊ®°ËµãÂÄºËøêÁÆóÁ¨¶ c %= a Á≠âÊïà‰∫é c = c % a# **= ÂπÇËµãÂÄºËøêÁÆóÁ¨¶ c **= a Á≠âÊïà‰∫é c = c ** a# //= ÂèñÊï¥Èô§ËµãÂÄºËøêÁÆóÁ¨¶ c //= a Á≠âÊïà‰∫é c = c // a# := Êµ∑Ë±°ËøêÁÆóÁ¨¶ÔºåÂèØÂú®Ë°®ËææÂºèÂÜÖÈÉ®‰∏∫ÂèòÈáèËµãÂÄº„ÄÇPython3.8 ÁâàÊú¨Êñ∞Â¢ûËøêÁÆóÁ¨¶„ÄÇ# Âú®Ëøô‰∏™Á§∫‰æã‰∏≠ÔºåËµãÂÄºË°®ËææÂºèÂèØ‰ª•ÈÅøÂÖçË∞ÉÁî® len() ‰∏§Ê¨°:# if (n := len(a)) &gt; 10:# print(f&quot;List is too long ({n} elements, expected &lt;= 10)&quot;)# ÈÄªËæëËøêÁÆóÁ¨¶-----------------------------------------------------# and x and y Â∏ÉÂ∞î&quot;‰∏é&quot; - Â¶ÇÊûú x ‰∏∫ FalseÔºåx and y ËøîÂõû x ÁöÑÂÄºÔºåÂê¶ÂàôËøîÂõû y ÁöÑËÆ°ÁÆóÂÄº„ÄÇ (a and b) ËøîÂõû 20„ÄÇ# or x or y Â∏ÉÂ∞î&quot;Êàñ&quot; - Â¶ÇÊûú x ÊòØ TrueÔºåÂÆÉËøîÂõû x ÁöÑÂÄºÔºåÂê¶ÂàôÂÆÉËøîÂõû y ÁöÑËÆ°ÁÆóÂÄº„ÄÇ (a or b) ËøîÂõû 10„ÄÇ# not not x Â∏ÉÂ∞î&quot;Èùû&quot; - Â¶ÇÊûú x ‰∏∫ TrueÔºåËøîÂõû False „ÄÇÂ¶ÇÊûú x ‰∏∫ FalseÔºåÂÆÉËøîÂõû True„ÄÇ not(a and b) ËøîÂõû False# ‰ΩçËøêÁÆóÁ¨¶-------------------------------------------------------# &amp; Êåâ‰Ωç‰∏éËøêÁÆóÁ¨¶ÔºöÂèÇ‰∏éËøêÁÆóÁöÑ‰∏§‰∏™ÂÄº,Â¶ÇÊûú‰∏§‰∏™Áõ∏Â∫î‰ΩçÈÉΩ‰∏∫1,ÂàôËØ•‰ΩçÁöÑÁªìÊûú‰∏∫1,Âê¶Âàô‰∏∫0 (a &amp; b) ËæìÂá∫ÁªìÊûú 12 Ôºå‰∫åËøõÂà∂Ëß£ÈáäÔºö 0000 1100# | Êåâ‰ΩçÊàñËøêÁÆóÁ¨¶ÔºöÂè™Ë¶ÅÂØπÂ∫îÁöÑ‰∫å‰∏™‰∫åËøõ‰ΩçÊúâ‰∏Ä‰∏™‰∏∫1Êó∂ÔºåÁªìÊûú‰ΩçÂ∞±‰∏∫1„ÄÇ (a | b) ËæìÂá∫ÁªìÊûú 61 Ôºå‰∫åËøõÂà∂Ëß£ÈáäÔºö 0011 1101# ^ Êåâ‰ΩçÂºÇÊàñËøêÁÆóÁ¨¶ÔºöÂΩì‰∏§ÂØπÂ∫îÁöÑ‰∫åËøõ‰ΩçÁõ∏ÂºÇÊó∂ÔºåÁªìÊûú‰∏∫1 (a ^ b) ËæìÂá∫ÁªìÊûú 49 Ôºå‰∫åËøõÂà∂Ëß£ÈáäÔºö 0011 0001# ~ Êåâ‰ΩçÂèñÂèçËøêÁÆóÁ¨¶ÔºöÂØπÊï∞ÊçÆÁöÑÊØè‰∏™‰∫åËøõÂà∂‰ΩçÂèñÂèç,Âç≥Êää1Âèò‰∏∫0,Êää0Âèò‰∏∫1„ÄÇ~x Á±ª‰ºº‰∫é -x-1 (~a ) ËæìÂá∫ÁªìÊûú -61 Ôºå‰∫åËøõÂà∂Ëß£ÈáäÔºö 1100 0011Ôºå Âú®‰∏Ä‰∏™ÊúâÁ¨¶Âè∑‰∫åËøõÂà∂Êï∞ÁöÑË°•Á†ÅÂΩ¢Âºè„ÄÇ# &lt;&lt; Â∑¶ÁßªÂä®ËøêÁÆóÁ¨¶ÔºöËøêÁÆóÊï∞ÁöÑÂêÑ‰∫åËøõ‰ΩçÂÖ®ÈÉ®Â∑¶ÁßªËã•Âπ≤‰ΩçÔºåÁî±&quot;&lt;&lt;&quot;Âè≥ËæπÁöÑÊï∞ÊåáÂÆöÁßªÂä®ÁöÑ‰ΩçÊï∞ÔºåÈ´ò‰Ωç‰∏¢ÂºÉÔºå‰Ωé‰ΩçË°•0„ÄÇ a &lt;&lt; 2 ËæìÂá∫ÁªìÊûú 240 Ôºå‰∫åËøõÂà∂Ëß£ÈáäÔºö 1111 0000# &gt;&gt; Âè≥ÁßªÂä®ËøêÁÆóÁ¨¶ÔºöÊää&quot;&gt;&gt;&quot;Â∑¶ËæπÁöÑËøêÁÆóÊï∞ÁöÑÂêÑ‰∫åËøõ‰ΩçÂÖ®ÈÉ®Âè≥ÁßªËã•Âπ≤‰ΩçÔºå&quot;&gt;&gt;&quot;Âè≥ËæπÁöÑÊï∞ÊåáÂÆöÁßªÂä®ÁöÑ‰ΩçÊï∞ a &gt;&gt; 2 ËæìÂá∫ÁªìÊûú 15 Ôºå‰∫åËøõÂà∂Ëß£ÈáäÔºö 0000 1111# ÊàêÂëòËøêÁÆóÁ¨¶----------------------------------------------------------# in Â¶ÇÊûúÂú®ÊåáÂÆöÁöÑÂ∫èÂàó‰∏≠ÊâæÂà∞ÂÄºËøîÂõû TrueÔºåÂê¶ÂàôËøîÂõû False„ÄÇ x Âú® y Â∫èÂàó‰∏≠ , Â¶ÇÊûú x Âú® y Â∫èÂàó‰∏≠ËøîÂõû True„ÄÇ# not in Â¶ÇÊûúÂú®ÊåáÂÆöÁöÑÂ∫èÂàó‰∏≠Ê≤°ÊúâÊâæÂà∞ÂÄºËøîÂõû TrueÔºåÂê¶ÂàôËøîÂõû False„ÄÇ x ‰∏çÂú® y Â∫èÂàó‰∏≠ , Â¶ÇÊûú x ‰∏çÂú® y Â∫èÂàó‰∏≠ËøîÂõû True„ÄÇ# Ë∫´‰ªΩËøêÁÆóÁ¨¶------------------------------------------------------------# is is ÊòØÂà§Êñ≠‰∏§‰∏™Ê†áËØÜÁ¨¶ÊòØ‰∏çÊòØÂºïÁî®Ëá™‰∏Ä‰∏™ÂØπË±° x is y, Á±ª‰ºº id(x) == id(y) , Â¶ÇÊûúÂºïÁî®ÁöÑÊòØÂêå‰∏Ä‰∏™ÂØπË±°ÂàôËøîÂõû TrueÔºåÂê¶ÂàôËøîÂõû False# is not is not ÊòØÂà§Êñ≠‰∏§‰∏™Ê†áËØÜÁ¨¶ÊòØ‰∏çÊòØÂºïÁî®Ëá™‰∏çÂêåÂØπË±° x is not y Ôºå Á±ª‰ºº id(a) != id(b)„ÄÇÂ¶ÇÊûúÂºïÁî®ÁöÑ‰∏çÊòØÂêå‰∏Ä‰∏™ÂØπË±°ÂàôËøîÂõûÁªìÊûú TrueÔºåÂê¶ÂàôËøîÂõû False„ÄÇ# ËøêÁÆóÁ¨¶‰ºòÂÖàÁ∫ß# ** ÊåáÊï∞ (ÊúÄÈ´ò‰ºòÂÖàÁ∫ß)# ~ + - Êåâ‰ΩçÁøªËΩ¨, ‰∏ÄÂÖÉÂä†Âè∑ÂíåÂáèÂè∑ (ÊúÄÂêé‰∏§‰∏™ÁöÑÊñπÊ≥ïÂêç‰∏∫ +@ Âíå -@)# * / % // ‰πòÔºåÈô§ÔºåÊ±Ç‰ΩôÊï∞ÂíåÂèñÊï¥Èô§# + - Âä†Ê≥ïÂáèÊ≥ï# &gt;&gt; &lt;&lt; Âè≥ÁßªÔºåÂ∑¶ÁßªËøêÁÆóÁ¨¶# &amp; ‰Ωç 'AND'# ^ | ‰ΩçËøêÁÆóÁ¨¶# &lt;= &lt; &gt; &gt;= ÊØîËæÉËøêÁÆóÁ¨¶# == != Á≠â‰∫éËøêÁÆóÁ¨¶# = %= /= //= -= += *= **= ËµãÂÄºËøêÁÆóÁ¨¶# is is not Ë∫´‰ªΩËøêÁÆóÁ¨¶# in not in ÊàêÂëòËøêÁÆóÁ¨¶# not and or ÈÄªËæëËøêÁÆóÁ¨¶ ÊµÅÁ®ãÊéßÂà∂ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879808182838485'''ÊµÅÁ®ãÊéßÂà∂'''# ifif condition_1: statement_block_1elif condition_2: statement_block_2else: statement_block_3# while whlieÂêéÈù¢‰∏∫falseÊó∂ÂàôÊâßË°åelseËØ≠Âè•Âùówhile counter &lt;= n: sum = sum + counter counter += 1else: additional_statement(s)# for range()ÂáΩÊï∞„ÄÇÂÆÉ‰ºöÁîüÊàêÊï∞Âàó# break ËØ≠Âè•ÂèØ‰ª•Ë∑≥Âá∫ for Âíå while ÁöÑÂæ™ÁéØ‰Ωì„ÄÇÂ¶ÇÊûú‰Ω†‰ªé for Êàñ while Âæ™ÁéØ‰∏≠ÁªàÊ≠¢Ôºå‰ªª‰ΩïÂØπÂ∫îÁöÑÂæ™ÁéØ else ÂùóÂ∞Ü‰∏çÊâßË°å„ÄÇ# continue ËØ≠Âè•Ë¢´Áî®Êù•ÂëäËØâ Python Ë∑≥ËøáÂΩìÂâçÂæ™ÁéØÂùó‰∏≠ÁöÑÂâ©‰ΩôËØ≠Âè•ÔºåÁÑ∂ÂêéÁªßÁª≠ËøõË°å‰∏ã‰∏ÄËΩÆÂæ™ÁéØ„ÄÇfor i in range(5,9) : print(i)# pass ‰∏çÂÅö‰ªª‰Ωï‰∫ãÊÉÖÔºå‰∏ÄËà¨Áî®ÂÅöÂç†‰ΩçËØ≠Âè•for letter in 'Runoob': if letter == 'o': pass print('ÊâßË°å pass Âùó') print('ÂΩìÂâçÂ≠óÊØç :', letter)print(&quot;Good bye!&quot;)'''Ëø≠‰ª£Âô®‰∏éÁîüÊàêÂô® iter()ÂàõÂª∫Ëø≠‰ª£Âô®ÂØπË±° Âíå next()ËæìÂá∫Ëø≠‰ª£Âô®‰∏ã‰∏Ä‰∏™ÂÖÉÁ¥† Python ÁöÑÊûÑÈÄ†ÂáΩÊï∞‰∏∫ __init__(),__iter__() ÊñπÊ≥ïËøîÂõû‰∏Ä‰∏™ÁâπÊÆäÁöÑËø≠‰ª£Âô®ÂØπË±°Ôºå Ëøô‰∏™Ëø≠‰ª£Âô®ÂØπË±°ÂÆûÁé∞‰∫Ü __next__() ÊñπÊ≥ïÂπ∂ÈÄöËøá StopIteration ÂºÇÂ∏∏Ê†áËØÜËø≠‰ª£ÁöÑÂÆåÊàê„ÄÇ__next__() ÊñπÊ≥ïÔºàPython 2 ÈáåÊòØ next()Ôºâ‰ºöËøîÂõû‰∏ã‰∏Ä‰∏™Ëø≠‰ª£Âô®ÂØπË±°„ÄÇ'''# StopIteration ÂºÇÂ∏∏Áî®‰∫éÊ†áËØÜËø≠‰ª£ÁöÑÂÆåÊàêÔºåÈò≤Ê≠¢Âá∫Áé∞Êó†ÈôêÂæ™ÁéØÁöÑÊÉÖÂÜµÔºåÂú® __next__() ÊñπÊ≥ï‰∏≠Êàë‰ª¨ÂèØ‰ª•ËÆæÁΩÆÂú®ÂÆåÊàêÊåáÂÆöÂæ™ÁéØÊ¨°Êï∞ÂêéËß¶Âèë StopIteration ÂºÇÂ∏∏Êù•ÁªìÊùüËø≠‰ª£„ÄÇclass MyNumbers: def __iter__(self): self.a = 1 return self def __next__(self): if self.a &lt;= 20: x = self.a self.a += 1 return x else: raise StopIterationmyclass = MyNumbers()myiter = iter(myclass)for x in myiter: print(x)# ‰ΩøÁî®‰∫Ü yield ÁöÑÂáΩÊï∞Ë¢´Áß∞‰∏∫ÁîüÊàêÂô®ÔºàgeneratorÔºâ„ÄÇ# Ë∑üÊôÆÈÄöÂáΩÊï∞‰∏çÂêåÁöÑÊòØÔºåÁîüÊàêÂô®ÊòØ‰∏Ä‰∏™ËøîÂõûËø≠‰ª£Âô®ÁöÑÂáΩÊï∞ÔºåÂè™ËÉΩÁî®‰∫éËø≠‰ª£Êìç‰ΩúÔºåÊõ¥ÁÆÄÂçïÁÇπÁêÜËß£ÁîüÊàêÂô®Â∞±ÊòØ‰∏Ä‰∏™Ëø≠‰ª£Âô®„ÄÇ## Âú®Ë∞ÉÁî®ÁîüÊàêÂô®ËøêË°åÁöÑËøáÁ®ã‰∏≠ÔºåÊØèÊ¨°ÈÅáÂà∞ yield Êó∂ÂáΩÊï∞‰ºöÊöÇÂÅúÂπ∂‰øùÂ≠òÂΩìÂâçÊâÄÊúâÁöÑËøêË°å‰ø°ÊÅØÔºåËøîÂõû yield ÁöÑÂÄº, Âπ∂Âú®‰∏ã‰∏ÄÊ¨°ÊâßË°å next() ÊñπÊ≥ïÊó∂‰ªéÂΩìÂâç‰ΩçÁΩÆÁªßÁª≠ËøêË°å„ÄÇ## Ë∞ÉÁî®‰∏Ä‰∏™ÁîüÊàêÂô®ÂáΩÊï∞ÔºåËøîÂõûÁöÑÊòØ‰∏Ä‰∏™Ëø≠‰ª£Âô®ÂØπË±°„ÄÇimport sysdef fibonacci(n): # ÁîüÊàêÂô®ÂáΩÊï∞ - ÊñêÊ≥¢ÈÇ£Â•ë a, b, counter = 0, 1, 0 while True: if (counter &gt; n): return yield a a, b = b, a + b counter += 1f = fibonacci(10) # f ÊòØ‰∏Ä‰∏™Ëø≠‰ª£Âô®ÔºåÁî±ÁîüÊàêÂô®ËøîÂõûÁîüÊàêwhile True: try: print(next(f), end=&quot; &quot;) except StopIteration: sys.exit() Êó∂Èó¥ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778&quot;&quot;&quot;Êó∂Èó¥&quot;&quot;&quot;# Python Êèê‰æõ‰∫Ü‰∏Ä‰∏™ time Âíå calendar Ê®°ÂùóÂèØ‰ª•Áî®‰∫éÊ†ºÂºèÂåñÊó•ÊúüÂíåÊó∂Èó¥„ÄÇ# Êó∂Èó¥Èó¥ÈöîÊòØ‰ª•Áßí‰∏∫Âçï‰ΩçÁöÑÊµÆÁÇπÂ∞èÊï∞„ÄÇ# ÊØè‰∏™Êó∂Èó¥Êà≥ÈÉΩ‰ª•Ëá™‰ªé 1970 Âπ¥ 1 Êúà 1 Êó•ÂçàÂ§úÔºàÂéÜÂÖÉÔºâÁªèËøá‰∫ÜÂ§öÈïøÊó∂Èó¥Êù•Ë°®Á§∫„ÄÇimport time # ÂºïÂÖ•timeÊ®°Âùóticks = time.time()print (&quot;ÂΩìÂâçÊó∂Èó¥Êà≥‰∏∫:&quot;, ticks)# Êó∂Èó¥ÂÖÉÁªÑ# ÂæàÂ§öPythonÂáΩÊï∞Áî®‰∏Ä‰∏™ÂÖÉÁªÑË£ÖËµ∑Êù•ÁöÑ9ÁªÑÊï∞Â≠óÂ§ÑÁêÜÊó∂Èó¥:## Â∫èÂè∑ Â≠óÊÆµ ÂÄº# 0 4‰ΩçÊï∞Âπ¥ 2008# 1 Êúà 1 Âà∞ 12# 2 Êó• 1Âà∞31# 3 Â∞èÊó∂ 0Âà∞23# 4 ÂàÜÈíü 0Âà∞59# 5 Áßí 0Âà∞61 (60Êàñ61 ÊòØÈó∞Áßí)# 6 ‰∏ÄÂë®ÁöÑÁ¨¨Âá†Êó• 0Âà∞6 (0ÊòØÂë®‰∏Ä)# 7 ‰∏ÄÂπ¥ÁöÑÁ¨¨Âá†Êó• 1Âà∞366 (ÂÑíÁï•ÂéÜ)# 8 Â§è‰ª§Êó∂ -1, 0, 1, -1ÊòØÂÜ≥ÂÆöÊòØÂê¶‰∏∫Â§è‰ª§Êó∂ÁöÑÊóóÂ∏ú# ‰∏äËø∞‰πüÂ∞±ÊòØstruct_timeÂÖÉÁªÑ„ÄÇËøôÁßçÁªìÊûÑÂÖ∑ÊúâÂ¶Ç‰∏ãÂ±ûÊÄßÔºö# Â∫èÂè∑ Â±ûÊÄß ÂÄº# 0 tm_year 2008# 1 tm_mon 1 Âà∞ 12# 2 tm_mday 1 Âà∞ 31# 3 tm_hour 0 Âà∞ 23# 4 tm_min 0 Âà∞ 59# 5 tm_sec 0 Âà∞ 61 (60Êàñ61 ÊòØÈó∞Áßí)# 6 tm_wday 0Âà∞6 (0ÊòØÂë®‰∏Ä)# 7 tm_yday ‰∏ÄÂπ¥‰∏≠ÁöÑÁ¨¨Âá†Â§©Ôºå1 Âà∞ 366# 8 tm_isdst ÊòØÂê¶‰∏∫Â§è‰ª§Êó∂ÔºåÂÄºÊúâÔºö1(Â§è‰ª§Êó∂)„ÄÅ0(‰∏çÊòØÂ§è‰ª§Êó∂)„ÄÅ-1(Êú™Áü•)ÔºåÈªòËÆ§ -1# Ëé∑ÂèñÂΩìÂâçÊó∂Èó¥localtime = time.asctime( time.localtime(time.time()) )print (&quot;Êú¨Âú∞Êó∂Èó¥‰∏∫ :&quot;, localtime)# Ê†ºÂºèÂåñ# %y ‰∏§‰ΩçÊï∞ÁöÑÂπ¥‰ªΩË°®Á§∫Ôºà00-99Ôºâ# %Y Âõõ‰ΩçÊï∞ÁöÑÂπ¥‰ªΩË°®Á§∫Ôºà000-9999Ôºâ# %m Êúà‰ªΩÔºà01-12Ôºâ# %d ÊúàÂÜÖ‰∏≠ÁöÑ‰∏ÄÂ§©Ôºà0-31Ôºâ# %H 24Â∞èÊó∂Âà∂Â∞èÊó∂Êï∞Ôºà0-23Ôºâ# %I 12Â∞èÊó∂Âà∂Â∞èÊó∂Êï∞Ôºà01-12Ôºâ# %M ÂàÜÈíüÊï∞Ôºà00=59Ôºâ# %S ÁßíÔºà00-59Ôºâ# %a Êú¨Âú∞ÁÆÄÂåñÊòüÊúüÂêçÁß∞# %A Êú¨Âú∞ÂÆåÊï¥ÊòüÊúüÂêçÁß∞# %b Êú¨Âú∞ÁÆÄÂåñÁöÑÊúà‰ªΩÂêçÁß∞# %B Êú¨Âú∞ÂÆåÊï¥ÁöÑÊúà‰ªΩÂêçÁß∞# %c Êú¨Âú∞Áõ∏Â∫îÁöÑÊó•ÊúüË°®Á§∫ÂíåÊó∂Èó¥Ë°®Á§∫# %j Âπ¥ÂÜÖÁöÑ‰∏ÄÂ§©Ôºà001-366Ôºâ# %p Êú¨Âú∞A.M.ÊàñP.M.ÁöÑÁ≠â‰ª∑Á¨¶# %U ‰∏ÄÂπ¥‰∏≠ÁöÑÊòüÊúüÊï∞Ôºà00-53ÔºâÊòüÊúüÂ§©‰∏∫ÊòüÊúüÁöÑÂºÄÂßã# %w ÊòüÊúüÔºà0-6ÔºâÔºåÊòüÊúüÂ§©‰∏∫ÊòüÊúüÁöÑÂºÄÂßã# %W ‰∏ÄÂπ¥‰∏≠ÁöÑÊòüÊúüÊï∞Ôºà00-53ÔºâÊòüÊúü‰∏Ä‰∏∫ÊòüÊúüÁöÑÂºÄÂßã# %x Êú¨Âú∞Áõ∏Â∫îÁöÑÊó•ÊúüË°®Á§∫# %X Êú¨Âú∞Áõ∏Â∫îÁöÑÊó∂Èó¥Ë°®Á§∫# %Z ÂΩìÂâçÊó∂Âå∫ÁöÑÂêçÁß∞# %% %Âè∑Êú¨Ë∫´print(time.strftime(&quot;%Y-%m-%d %H:%M:%S&quot;, time.localtime()))# Ê†ºÂºèÂåñÊàêSat Mar 28 22:24:24 2016ÂΩ¢Âºèprint(time.strftime(&quot;%a %b %d %H:%M:%S %Y&quot;, time.localtime()))# Â∞ÜÊ†ºÂºèÂ≠óÁ¨¶‰∏≤ËΩ¨Êç¢‰∏∫Êó∂Èó¥Êà≥a = &quot;Sat Mar 28 22:24:24 2016&quot;print(time.mktime(time.strptime(a, &quot;%a %b %d %H:%M:%S %Y&quot;)))# Ëé∑ÂèñÊüêÊúàÊó•ÂéÜimport calendarcal = calendar.month(2016, 1)print (&quot;‰ª•‰∏ãËæìÂá∫2016Âπ¥1Êúà‰ªΩÁöÑÊó•ÂéÜ:&quot;)print (cal) JSON 123456789101112131415161718192021222324252627282930313233343536373839404142434445&quot;&quot;&quot;JSON&quot;&quot;&quot;# json.dumps(): ==ÁºñÁ†Å==# dict object# list, tuple array# str string# int, float, int- &amp; float-derived Enums number# True true# False false# None null# json.loads(): ==Ëß£Á†Å==# object dict# array list# string str# number (int) int# number (real) float# true True# false False# null Noneimport json# Python Â≠óÂÖ∏Á±ªÂûãËΩ¨Êç¢‰∏∫ JSON ÂØπË±°data = { 'no': 1, 'name': 'Runoob', 'url': 'http://www.runoob.com'}json_str = json.dumps(data)print(&quot;Python ÂéüÂßãÊï∞ÊçÆÔºö&quot;, repr(data))print(&quot;JSON ÂØπË±°Ôºö&quot;, json_str)# Â∞Ü JSON ÂØπË±°ËΩ¨Êç¢‰∏∫ Python Â≠óÂÖ∏data2 = json.loads(json_str)print (&quot;data2['name']: &quot;, data2['name'])print (&quot;data2['url']: &quot;, data2['url'])# Êñá‰ª∂Â§ÑÁêÜ# ÂÜôÂÖ• JSON Êï∞ÊçÆwith open('data.json', 'w') as f: json.dump(data, f)# ËØªÂèñÊï∞ÊçÆwith open('data.json', 'r') as f: data = json.load(f) Ê†áÂáÜÂ∫ìÊ¶ÇËßà 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102&quot;&quot;&quot;Ê†áÂáÜÂ∫ìÊ¶ÇËßà&quot;&quot;&quot;# Êìç‰ΩúÁ≥ªÁªüÊé•Âè£-----------------------------import osos.getcwd() # ËøîÂõûÂΩìÂâçÁöÑÂ∑•‰ΩúÁõÆÂΩïos.chdir('/server/accesslogs') # ‰øÆÊîπÂΩìÂâçÁöÑÂ∑•‰ΩúÁõÆÂΩïos.system('mkdir today') # ÊâßË°åÁ≥ªÁªüÂëΩ‰ª§ mkdirimport shutilshutil.copyfile('data.db', 'archive.db')shutil.move('/build/executables', 'installdir')# Êñá‰ª∂ÈÄöÈÖçÁ¨¶ ---------------------------------------------# Áî®‰∫é‰ªéÁõÆÂΩïÈÄöÈÖçÁ¨¶ÊêúÁ¥¢‰∏≠ÁîüÊàêÊñá‰ª∂ÂàóË°®import globglob.glob('*.py')# ÂëΩ‰ª§Ë°åÂèÇÊï∞------------------------------------import sysprint(sys.argv)# ÈîôËØØËæìÂá∫ÈáçÂÆöÂêëÂíåÁ®ãÂ∫èÁªàÊ≠¢-------------------------------# sys ËøòÊúâ stdinÔºåstdout Âíå stderr Â±ûÊÄßÔºåÂç≥‰ΩøÂú® stdout Ë¢´ÈáçÂÆöÂêëÊó∂ÔºåÂêéËÄÖ‰πüÂèØ‰ª•Áî®‰∫éÊòæÁ§∫Ë≠¶ÂëäÂíåÈîôËØØ‰ø°ÊÅØ„ÄÇsys.stderr.write('Warning, log file not found starting a new one\\n')# Â≠óÁ¨¶‰∏≤Ê≠£ÂàôÂåπÈÖç-----------------------------------------------import rere.findall(r'\\bf[a-z]*', 'which foot or hand fell fastest')re.sub(r'(\\b[a-z]+) \\1', r'\\1', 'cat in the the hat')# Êï∞Â≠¶-----------------------------------------------import mathmath.cos(math.pi / 4)math.log(1024, 2)import randomrandom.choice(['apple', 'pear', 'banana'])random.sample(range(100), 10) # sampling without replacementrandom.random() # random floatrandom.randrange(6)# ‰∫íËÅîÁΩë-----------------------------------------------from urllib.request import urlopenfor line in urlopen('http://tycho.usno.navy.mil/cgi-bin/timer.pl'): line = line.decode('utf-8') # Decoding the binary data to text. if 'EST' in line or 'EDT' in line: # look for Eastern Time print(line)import smtplibserver = smtplib.SMTP('localhost')server.sendmail('soothsayer@example.org', 'jcaesar@example.org',&quot;&quot;&quot;To: jcaesar@example.org...From: soothsayer@example.org...... Beware the Ides of March.... &quot;&quot;&quot;)server.quit()# Êó•ÊúüÂíåÊó∂Èó¥-----------------------------------------------from datetime import datenow = date.today()print(now)now.strftime(&quot;%m-%d-%y. %d %b %Y is a %A on the %d day of %B.&quot;)# dates support calendar arithmeticbirthday = date(1964, 7, 31)age = now - birthdayage.days# Êï∞ÊçÆÂéãÁº©import zlibs = b'witch which has which witches wrist watch'len(s)t = zlib.compress(s)len(t)zlib.decompress(t)zlib.crc32(s)# ÊÄßËÉΩÂ∫¶Èáèfrom timeit import TimerTimer('t=a; a=b; b=t', 'a=1; b=2').timeit()Timer('a,b = b,a', 'a=1; b=2').timeit()# ÊµãËØïÊ®°Âùódef average(values): &quot;&quot;&quot;Computes the arithmetic mean of a list of numbers. &gt;&gt;&gt; print(average([20, 30, 70])) 40.0 &quot;&quot;&quot; return sum(values) / len(values)import doctestdoctest.testmod() # Ëá™Âä®È™åËØÅÂµåÂÖ•ÊµãËØï# unittestÊ®°Âùó‰∏çÂÉè doctestÊ®°ÂùóÈÇ£‰πàÂÆπÊòì‰ΩøÁî®Ôºå‰∏çËøáÂÆÉÂèØ‰ª•Âú®‰∏Ä‰∏™Áã¨Á´ãÁöÑÊñá‰ª∂ÈáåÊèê‰æõ‰∏Ä‰∏™Êõ¥ÂÖ®Èù¢ÁöÑÊµãËØïÈõÜ:import unittestclass TestStatisticalFunctions(unittest.TestCase): def test_average(self): self.assertEqual(average([20, 30, 70]), 40.0) self.assertEqual(round(average([1, 5, 7]), 1), 4.3) self.assertRaises(ZeroDivisionError, average, []) self.assertRaises(TypeError, average, 20, 30, 70)unittest.main() # Calling from the command line invokes all tests OOP 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129&quot;&quot;&quot;OOP&quot;&quot;&quot;# ===Á±ª===# class ClassName:# &lt;statement-1&gt;# .# .# &lt;statement-N&gt;# ===Á±ªÂØπË±°===# Â±ûÊÄßÂºïÁî®ÂíåÂÆû‰æãÂåñclass MyClass: &quot;&quot;&quot;‰∏Ä‰∏™ÁÆÄÂçïÁöÑÁ±ªÂÆû‰æã&quot;&quot;&quot; i = 12345 def f(self): return 'hello world'# ===ÂÆû‰æãÂåñÁ±ª===x = MyClass()# ===ËÆøÈóÆÁ±ªÁöÑÂ±ûÊÄßÂíåÊñπÊ≥ï===print(&quot;MyClass Á±ªÁöÑÂ±ûÊÄß i ‰∏∫Ôºö&quot;, x.i)print(&quot;MyClass Á±ªÁöÑÊñπÊ≥ï f ËæìÂá∫‰∏∫Ôºö&quot;, x.f())# Á±ªÊúâ‰∏Ä‰∏™Âêç‰∏∫ __init__() ÁöÑÁâπÊÆäÊñπÊ≥ïÔºàÊûÑÈÄ†ÊñπÊ≥ïÔºâÔºåËØ•ÊñπÊ≥ïÂú®Á±ªÂÆû‰æãÂåñÊó∂‰ºöËá™Âä®Ë∞ÉÁî®ÔºåÂÉè‰∏ãÈù¢ËøôÊ†∑Ôºö# __init__() ÊñπÊ≥ïÂèØ‰ª•ÊúâÂèÇÊï∞ÔºåÂèÇÊï∞ÈÄöËøá __init__() ‰º†ÈÄíÂà∞Á±ªÁöÑÂÆû‰æãÂåñÊìç‰Ωú‰∏äÔºåself‰ª£Ë°®Á±ªÁöÑÂÆû‰æãÔºåËÄåÈùûÁ±ªdef __init__(self): self.data = []class Test: def prt(self): print(self) print(self.__class__)t = Test()t.prt()# ===ÊñπÊ≥ï===# defÂÆö‰πâÊñπÊ≥ï,‰∏é‰∏ÄËà¨ÂáΩÊï∞ÂÆö‰πâ‰∏çÂêåÔºåÁ±ªÊñπÊ≥ïÂøÖÈ°ªÂåÖÂê´selfÂèÇÊï∞‰∏î‰Ωú‰∏∫Á¨¨‰∏Ä‰∏™ÂèÇÊï∞Ôºåself‰ª£Ë°®Á±ªÁöÑÂÆû‰æã# Á±ªÂÆö‰πâclass people: # ÂÆö‰πâÂü∫Êú¨Â±ûÊÄß name = '' age = 0 # ÂÆö‰πâÁßÅÊúâÂ±ûÊÄß,ÁßÅÊúâÂ±ûÊÄßÂú®Á±ªÂ§ñÈÉ®Êó†Ê≥ïÁõ¥Êé•ËøõË°åËÆøÈóÆ __weight = 0 # ÂÆö‰πâÊûÑÈÄ†ÊñπÊ≥ï def __init__(self, n, a, w): self.name = n self.age = a self.__weight = w def speak(self): print(&quot;%s ËØ¥: Êàë %d Â≤Å„ÄÇ&quot; % (self.name, self.age))# ÂÆû‰æãÂåñÁ±ªp = people('runoob', 10, 30)p.speak()# ===ÁªßÊâø===# Â≠êÁ±ªÔºàÊ¥æÁîüÁ±ª DerivedClassNameÔºâ‰ºöÁªßÊâøÁà∂Á±ªÔºàÂü∫Á±ª BaseClassNameÔºâÁöÑÂ±ûÊÄßÂíåÊñπÊ≥ï„ÄÇ# class DerivedClassName(BaseClassName):# &lt;statement-1&gt;# .# .# .# &lt;statement-N&gt;# ===Â§öÁªßÊâø===# class DerivedClassName(Base1, Base2, Base3):# &lt;statement-1&gt;# .# .# .# &lt;statement-N&gt;# Ëã•ÊòØÁà∂Á±ª‰∏≠ÊúâÁõ∏ÂêåÁöÑÊñπÊ≥ïÂêçÔºåËÄåÂú®Â≠êÁ±ª‰ΩøÁî®Êó∂Êú™ÊåáÂÆöÔºåpython‰ªéÂ∑¶Ëá≥Âè≥ÊêúÁ¥¢ Âç≥ÊñπÊ≥ïÂú®Â≠êÁ±ª‰∏≠Êú™ÊâæÂà∞Êó∂Ôºå‰ªéÂ∑¶Âà∞Âè≥Êü•ÊâæÁà∂Á±ª‰∏≠ÊòØÂê¶ÂåÖÂê´ÊñπÊ≥ï# ===ÊñπÊ≥ïÈáçÂÜô===class Parent: # ÂÆö‰πâÁà∂Á±ª def myMethod(self): print('Ë∞ÉÁî®Áà∂Á±ªÊñπÊ≥ï')class Child(Parent): # ÂÆö‰πâÂ≠êÁ±ª def myMethod(self): print('Ë∞ÉÁî®Â≠êÁ±ªÊñπÊ≥ï')c = Child() # Â≠êÁ±ªÂÆû‰æãc.myMethod() # Â≠êÁ±ªË∞ÉÁî®ÈáçÂÜôÊñπÊ≥ïsuper(Child, c).myMethod() # Áî®Â≠êÁ±ªÂØπË±°Ë∞ÉÁî®Áà∂Á±ªÂ∑≤Ë¢´Ë¶ÜÁõñÁöÑÊñπÊ≥ï# ===Á±ªÂ±ûÊÄß‰∏éÊñπÊ≥ï===# Á±ªÁöÑÁßÅÊúâÂ±ûÊÄß# __private_attrsÔºö‰∏§‰∏™‰∏ãÂàíÁ∫øÂºÄÂ§¥ÔºåÂ£∞ÊòéËØ•Â±ûÊÄß‰∏∫ÁßÅÊúâÔºå‰∏çËÉΩÂú®Á±ªÁöÑÂ§ñÈÉ®Ë¢´‰ΩøÁî®ÊàñÁõ¥Êé•ËÆøÈóÆ„ÄÇÂú®Á±ªÂÜÖÈÉ®ÁöÑÊñπÊ≥ï‰∏≠‰ΩøÁî®Êó∂ self.__private_attrs„ÄÇ## Á±ªÁöÑÊñπÊ≥ï# Âú®Á±ªÁöÑÂÜÖÈÉ®Ôºå‰ΩøÁî® def ÂÖ≥ÈîÆÂ≠óÊù•ÂÆö‰πâ‰∏Ä‰∏™ÊñπÊ≥ïÔºå‰∏é‰∏ÄËà¨ÂáΩÊï∞ÂÆö‰πâ‰∏çÂêåÔºåÁ±ªÊñπÊ≥ïÂøÖÈ°ªÂåÖÂê´ÂèÇÊï∞ selfÔºå‰∏î‰∏∫Á¨¨‰∏Ä‰∏™ÂèÇÊï∞Ôºåself ‰ª£Ë°®ÁöÑÊòØÁ±ªÁöÑÂÆû‰æã„ÄÇ# self ÁöÑÂêçÂ≠óÂπ∂‰∏çÊòØËßÑÂÆöÊ≠ªÁöÑÔºå‰πüÂèØ‰ª•‰ΩøÁî® thisÔºå‰ΩÜÊòØÊúÄÂ•ΩËøòÊòØÊåâÁÖßÁ∫¶ÂÆö‰ΩøÁî® self„ÄÇ## Á±ªÁöÑÁßÅÊúâÊñπÊ≥ï# __private_methodÔºö‰∏§‰∏™‰∏ãÂàíÁ∫øÂºÄÂ§¥ÔºåÂ£∞ÊòéËØ•ÊñπÊ≥ï‰∏∫ÁßÅÊúâÊñπÊ≥ïÔºåÂè™ËÉΩÂú®Á±ªÁöÑÂÜÖÈÉ®Ë∞ÉÁî® Ôºå‰∏çËÉΩÂú®Á±ªÁöÑÂ§ñÈÉ®Ë∞ÉÁî®„ÄÇself.__private_methods„ÄÇ# ==ÈáçËΩΩ==class Vector: def __init__(self, a, b): self.a = a self.b = b def __str__(self): return 'Vector (%d, %d)' % (self.a, self.b) def __add__(self, other): return Vector(self.a + other.a, self.b + other.b)v1 = Vector(2, 10)v2 = Vector(5, -2)print(v1 + v2) ÂáΩÊï∞ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859'''ÂáΩÊï∞'''# ‰Ω†ÂèØ‰ª•ÂÆö‰πâ‰∏Ä‰∏™Áî±Ëá™Â∑±ÊÉ≥Ë¶ÅÂäüËÉΩÁöÑÂáΩÊï∞Ôºå‰ª•‰∏ãÊòØÁÆÄÂçïÁöÑËßÑÂàôÔºö## ÂáΩÊï∞‰ª£Á†ÅÂùó‰ª• def ÂÖ≥ÈîÆËØçÂºÄÂ§¥ÔºåÂêéÊé•ÂáΩÊï∞Ê†áËØÜÁ¨¶ÂêçÁß∞ÂíåÂúÜÊã¨Âè∑ ()„ÄÇ# ‰ªª‰Ωï‰º†ÂÖ•ÂèÇÊï∞ÂíåËá™ÂèòÈáèÂøÖÈ°ªÊîæÂú®ÂúÜÊã¨Âè∑‰∏≠Èó¥ÔºåÂúÜÊã¨Âè∑‰πãÈó¥ÂèØ‰ª•Áî®‰∫éÂÆö‰πâÂèÇÊï∞„ÄÇ# ÂáΩÊï∞ÁöÑÁ¨¨‰∏ÄË°åËØ≠Âè•ÂèØ‰ª•ÈÄâÊã©ÊÄßÂú∞‰ΩøÁî®ÊñáÊ°£Â≠óÁ¨¶‰∏≤‚ÄîÁî®‰∫éÂ≠òÊîæÂáΩÊï∞ËØ¥Êòé„ÄÇ# ÂáΩÊï∞ÂÜÖÂÆπ‰ª•ÂÜíÂè∑ : Ëµ∑ÂßãÔºåÂπ∂‰∏îÁº©Ëøõ„ÄÇ# return [Ë°®ËææÂºè] ÁªìÊùüÂáΩÊï∞ÔºåÈÄâÊã©ÊÄßÂú∞ËøîÂõû‰∏Ä‰∏™ÂÄºÁªôË∞ÉÁî®ÊñπÔºå‰∏çÂ∏¶Ë°®ËææÂºèÁöÑ return Áõ∏ÂΩì‰∫éËøîÂõû None„ÄÇdef max(a, b): if a &gt; b: return a else: return b# python ÂáΩÊï∞ÁöÑÂèÇÊï∞‰º†ÈÄíÔºö# ‰∏çÂèØÂèòÁ±ªÂûãÔºöÁ±ª‰ºº C++ ÁöÑÂÄº‰º†ÈÄíÔºåÂ¶ÇÊï¥Êï∞„ÄÅÂ≠óÁ¨¶‰∏≤„ÄÅÂÖÉÁªÑ„ÄÇÂ¶Ç fun(a)Ôºå‰º†ÈÄíÁöÑÂè™ÊòØ a ÁöÑÂÄºÔºåÊ≤°ÊúâÂΩ±Âìç a ÂØπË±°Êú¨Ë∫´„ÄÇÂ¶ÇÊûúÂú® fun(a) ÂÜÖÈÉ®‰øÆÊîπ a ÁöÑÂÄºÔºåÂàôÊòØÊñ∞ÁîüÊàê‰∏Ä‰∏™ a ÁöÑÂØπË±°„ÄÇ# ÂèØÂèòÁ±ªÂûãÔºöÁ±ª‰ºº C++ ÁöÑÂºïÁî®‰º†ÈÄíÔºåÂ¶Ç ÂàóË°®ÔºåÂ≠óÂÖ∏„ÄÇÂ¶Ç fun(la)ÔºåÂàôÊòØÂ∞Ü la ÁúüÊ≠£ÁöÑ‰º†ËøáÂéªÔºå‰øÆÊîπÂêé fun Â§ñÈÉ®ÁöÑ la ‰πü‰ºöÂèóÂΩ±Âìç# python ‰∏≠‰∏ÄÂàáÈÉΩÊòØÂØπË±°Ôºå‰∏•Ê†ºÊÑè‰πâÊàë‰ª¨‰∏çËÉΩËØ¥ÂÄº‰º†ÈÄíËøòÊòØÂºïÁî®‰º†ÈÄíÔºåÊàë‰ª¨Â∫îËØ•ËØ¥‰º†‰∏çÂèØÂèòÂØπË±°Âíå‰º†ÂèØÂèòÂØπË±°„ÄÇ# ÂèØÈÄöËøáid()ÂáΩÊï∞Êü•ÁúãÂØπË±°ÂÜÖÂ≠òÂú∞ÂùÄ# ÂèÇÊï∞# ‰ª•‰∏ãÊòØË∞ÉÁî®ÂáΩÊï∞Êó∂ÂèØ‰ΩøÁî®ÁöÑÊ≠£ÂºèÂèÇÊï∞Á±ªÂûãÔºö# ÂøÖÈúÄÂèÇÊï∞„ÄêË∞ÉÁî®Êó∂ÁöÑÊï∞ÈáèÂøÖÈ°ªÂíåÂ£∞ÊòéÊó∂ÁöÑ‰∏ÄÊ†∑„Äë def printme( str ):# ÂÖ≥ÈîÆÂ≠óÂèÇÊï∞„ÄêÂÖÅËÆ∏ÂáΩÊï∞Ë∞ÉÁî®Êó∂ÂèÇÊï∞ÁöÑÈ°∫Â∫è‰∏éÂ£∞ÊòéÊó∂‰∏ç‰∏ÄËá¥ÔºåÂõ†‰∏∫ Python Ëß£ÈáäÂô®ËÉΩÂ§üÁî®ÂèÇÊï∞ÂêçÂåπÈÖçÂèÇÊï∞ÂÄº„Äëdef printinfo( name, age ):# ÈªòËÆ§ÂèÇÊï∞„ÄêÂ¶ÇÊûúÊ≤°Êúâ‰º†ÈÄíÂèÇÊï∞ÔºåÂàô‰ºö‰ΩøÁî®ÈªòËÆ§ÂèÇÊï∞„Äëdef printinfo( name, age = 35 ):# ‰∏çÂÆöÈïøÂèÇÊï∞ „ÄêÂä†‰∫ÜÊòüÂè∑ * ÁöÑÂèÇÊï∞‰ºö‰ª•ÂÖÉÁªÑ(tuple)ÁöÑÂΩ¢ÂºèÂØºÂÖ•ÔºåÂ≠òÊîæÊâÄÊúâÊú™ÂëΩÂêçÁöÑÂèòÈáèÂèÇÊï∞ÔºåÊ≤°ÊúâÊåáÂÆöÂèÇÊï∞ÔºåÂÆÉÂ∞±ÊòØ‰∏Ä‰∏™Á©∫ÂÖÉÁªÑ„ÄÇÊàë‰ª¨‰πüÂèØ‰ª•‰∏çÂêëÂáΩÊï∞‰º†ÈÄíÊú™ÂëΩÂêçÁöÑÂèòÈáèÔºåÂä†‰∫Ü‰∏§‰∏™ÊòüÂè∑ ** ÁöÑÂèÇÊï∞‰ºö‰ª•Â≠óÂÖ∏ÁöÑÂΩ¢ÂºèÂØºÂÖ•ÔºåÂ¶ÇÊûúÂçïÁã¨Âá∫Áé∞ÊòüÂè∑ * ÂêéÁöÑÂèÇÊï∞ÂøÖÈ°ªÁî®ÂÖ≥ÈîÆÂ≠ó‰º†ÂÖ•„Äëdef functionname([formal_args,] *var_args_tuple ):'''ÂåøÂêçÂáΩÊï∞'''# lambda [arg1 [,arg2,.....argn]]:expression# ÂèØÂÜôÂáΩÊï∞ËØ¥Êòésum = lambda arg1, arg2: arg1 + arg2# Ë∞ÉÁî®sumÂáΩÊï∞print(&quot;Áõ∏Âä†ÂêéÁöÑÂÄº‰∏∫ : &quot;, sum(10, 20))print(&quot;Áõ∏Âä†ÂêéÁöÑÂÄº‰∏∫ : &quot;, sum(20, 20))'''Âº∫Âà∂‰ΩçÁΩÆÂèÇÊï∞'''# Âú®‰ª•‰∏ãÁöÑ‰æãÂ≠ê‰∏≠ÔºåÂΩ¢ÂèÇ a Âíå b ÂøÖÈ°ª‰ΩøÁî®ÊåáÂÆö‰ΩçÁΩÆÂèÇÊï∞Ôºåc Êàñ d ÂèØ‰ª•ÊòØ‰ΩçÁΩÆÂΩ¢ÂèÇÊàñÂÖ≥ÈîÆÂ≠óÂΩ¢ÂèÇÔºåËÄå e Êàñ f Ë¶ÅÊ±Ç‰∏∫ÂÖ≥ÈîÆÂ≠óÂΩ¢ÂèÇ:def f(a, b, /, c, d, *, e, f): print(a, b, c, d, e, f)# ‰ª•‰∏ã‰ΩøÁî®ÊñπÊ≥ïÊòØÊ≠£Á°ÆÁöÑ:f(10, 20, 30, d=40, e=50, f=60)# ‰ª•‰∏ã‰ΩøÁî®ÊñπÊ≥ï‰ºöÂèëÁîüÈîôËØØ:f(10, b=20, c=30, d=40, e=50, f=60) # b ‰∏çËÉΩ‰ΩøÁî®ÂÖ≥ÈîÆÂ≠óÂèÇÊï∞ÁöÑÂΩ¢Âºèf(10, 20, 30, 40, 50, f=60) # e ÂøÖÈ°ª‰ΩøÁî®ÂÖ≥ÈîÆÂ≠óÂèÇÊï∞ÁöÑÂΩ¢Âºè Êñá‰ª∂ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119&quot;&quot;&quot;Êñá‰ª∂&quot;&quot;&quot;# ÊâìÂºÄÊñá‰ª∂ËøîÂõûÊñá‰ª∂ÂØπË±°# file: ÂøÖÈúÄÔºåÊñá‰ª∂Ë∑ØÂæÑÔºàÁõ∏ÂØπÊàñËÄÖÁªùÂØπË∑ØÂæÑÔºâ„ÄÇ# mode: ÂèØÈÄâÔºåÊñá‰ª∂ÊâìÂºÄÊ®°Âºè# buffering: ËÆæÁΩÆÁºìÂÜ≤# encoding: ‰∏ÄËà¨‰ΩøÁî®utf8# errors: Êä•ÈîôÁ∫ßÂà´# newline: Âå∫ÂàÜÊç¢Ë°åÁ¨¶# closefd: ‰º†ÂÖ•ÁöÑfileÂèÇÊï∞Á±ªÂûã# opener: ËÆæÁΩÆËá™ÂÆö‰πâÂºÄÂêØÂô®ÔºåÂºÄÂêØÂô®ÁöÑËøîÂõûÂÄºÂøÖÈ°ªÊòØ‰∏Ä‰∏™ÊâìÂºÄÁöÑÊñá‰ª∂ÊèèËø∞Á¨¶„ÄÇ# mode ÂèÇÊï∞ÊúâÔºö# Ê®°Âºè ÊèèËø∞# t ÊñáÊú¨Ê®°Âºè (ÈªòËÆ§)„ÄÇ# x ÂÜôÊ®°ÂºèÔºåÊñ∞Âª∫‰∏Ä‰∏™Êñá‰ª∂ÔºåÂ¶ÇÊûúËØ•Êñá‰ª∂Â∑≤Â≠òÂú®Âàô‰ºöÊä•Èîô„ÄÇ# b ‰∫åËøõÂà∂Ê®°Âºè„ÄÇ# + ÊâìÂºÄ‰∏Ä‰∏™Êñá‰ª∂ËøõË°åÊõ¥Êñ∞(ÂèØËØªÂèØÂÜô)„ÄÇ# U ÈÄöÁî®Êç¢Ë°åÊ®°ÂºèÔºàPython 3 ‰∏çÊîØÊåÅÔºâ„ÄÇ# r ‰ª•Âè™ËØªÊñπÂºèÊâìÂºÄÊñá‰ª∂„ÄÇÊñá‰ª∂ÁöÑÊåáÈíàÂ∞Ü‰ºöÊîæÂú®Êñá‰ª∂ÁöÑÂºÄÂ§¥„ÄÇËøôÊòØÈªòËÆ§Ê®°Âºè„ÄÇ# rb ‰ª•‰∫åËøõÂà∂Ê†ºÂºèÊâìÂºÄ‰∏Ä‰∏™Êñá‰ª∂Áî®‰∫éÂè™ËØª„ÄÇÊñá‰ª∂ÊåáÈíàÂ∞Ü‰ºöÊîæÂú®Êñá‰ª∂ÁöÑÂºÄÂ§¥„ÄÇËøôÊòØÈªòËÆ§Ê®°Âºè„ÄÇ‰∏ÄËà¨Áî®‰∫éÈùûÊñáÊú¨Êñá‰ª∂Â¶ÇÂõæÁâáÁ≠â„ÄÇ# r+ ÊâìÂºÄ‰∏Ä‰∏™Êñá‰ª∂Áî®‰∫éËØªÂÜô„ÄÇÊñá‰ª∂ÊåáÈíàÂ∞Ü‰ºöÊîæÂú®Êñá‰ª∂ÁöÑÂºÄÂ§¥„ÄÇ# rb+ ‰ª•‰∫åËøõÂà∂Ê†ºÂºèÊâìÂºÄ‰∏Ä‰∏™Êñá‰ª∂Áî®‰∫éËØªÂÜô„ÄÇÊñá‰ª∂ÊåáÈíàÂ∞Ü‰ºöÊîæÂú®Êñá‰ª∂ÁöÑÂºÄÂ§¥„ÄÇ‰∏ÄËà¨Áî®‰∫éÈùûÊñáÊú¨Êñá‰ª∂Â¶ÇÂõæÁâáÁ≠â„ÄÇ# w ÊâìÂºÄ‰∏Ä‰∏™Êñá‰ª∂Âè™Áî®‰∫éÂÜôÂÖ•„ÄÇÂ¶ÇÊûúËØ•Êñá‰ª∂Â∑≤Â≠òÂú®ÂàôÊâìÂºÄÊñá‰ª∂ÔºåÂπ∂‰ªéÂºÄÂ§¥ÂºÄÂßãÁºñËæëÔºåÂç≥ÂéüÊúâÂÜÖÂÆπ‰ºöË¢´Âà†Èô§„ÄÇÂ¶ÇÊûúËØ•Êñá‰ª∂‰∏çÂ≠òÂú®ÔºåÂàõÂª∫Êñ∞Êñá‰ª∂„ÄÇ# wb ‰ª•‰∫åËøõÂà∂Ê†ºÂºèÊâìÂºÄ‰∏Ä‰∏™Êñá‰ª∂Âè™Áî®‰∫éÂÜôÂÖ•„ÄÇÂ¶ÇÊûúËØ•Êñá‰ª∂Â∑≤Â≠òÂú®ÂàôÊâìÂºÄÊñá‰ª∂ÔºåÂπ∂‰ªéÂºÄÂ§¥ÂºÄÂßãÁºñËæëÔºåÂç≥ÂéüÊúâÂÜÖÂÆπ‰ºöË¢´Âà†Èô§„ÄÇÂ¶ÇÊûúËØ•Êñá‰ª∂‰∏çÂ≠òÂú®ÔºåÂàõÂª∫Êñ∞Êñá‰ª∂„ÄÇ‰∏ÄËà¨Áî®‰∫éÈùûÊñáÊú¨Êñá‰ª∂Â¶ÇÂõæÁâáÁ≠â„ÄÇ# w+ ÊâìÂºÄ‰∏Ä‰∏™Êñá‰ª∂Áî®‰∫éËØªÂÜô„ÄÇÂ¶ÇÊûúËØ•Êñá‰ª∂Â∑≤Â≠òÂú®ÂàôÊâìÂºÄÊñá‰ª∂ÔºåÂπ∂‰ªéÂºÄÂ§¥ÂºÄÂßãÁºñËæëÔºåÂç≥ÂéüÊúâÂÜÖÂÆπ‰ºöË¢´Âà†Èô§„ÄÇÂ¶ÇÊûúËØ•Êñá‰ª∂‰∏çÂ≠òÂú®ÔºåÂàõÂª∫Êñ∞Êñá‰ª∂„ÄÇ# wb+ ‰ª•‰∫åËøõÂà∂Ê†ºÂºèÊâìÂºÄ‰∏Ä‰∏™Êñá‰ª∂Áî®‰∫éËØªÂÜô„ÄÇÂ¶ÇÊûúËØ•Êñá‰ª∂Â∑≤Â≠òÂú®ÂàôÊâìÂºÄÊñá‰ª∂ÔºåÂπ∂‰ªéÂºÄÂ§¥ÂºÄÂßãÁºñËæëÔºåÂç≥ÂéüÊúâÂÜÖÂÆπ‰ºöË¢´Âà†Èô§„ÄÇÂ¶ÇÊûúËØ•Êñá‰ª∂‰∏çÂ≠òÂú®ÔºåÂàõÂª∫Êñ∞Êñá‰ª∂„ÄÇ‰∏ÄËà¨Áî®‰∫éÈùûÊñáÊú¨Êñá‰ª∂Â¶ÇÂõæÁâáÁ≠â„ÄÇ# a ÊâìÂºÄ‰∏Ä‰∏™Êñá‰ª∂Áî®‰∫éËøΩÂä†„ÄÇÂ¶ÇÊûúËØ•Êñá‰ª∂Â∑≤Â≠òÂú®ÔºåÊñá‰ª∂ÊåáÈíàÂ∞Ü‰ºöÊîæÂú®Êñá‰ª∂ÁöÑÁªìÂ∞æ„ÄÇ‰πüÂ∞±ÊòØËØ¥ÔºåÊñ∞ÁöÑÂÜÖÂÆπÂ∞Ü‰ºöË¢´ÂÜôÂÖ•Âà∞Â∑≤ÊúâÂÜÖÂÆπ‰πãÂêé„ÄÇÂ¶ÇÊûúËØ•Êñá‰ª∂‰∏çÂ≠òÂú®ÔºåÂàõÂª∫Êñ∞Êñá‰ª∂ËøõË°åÂÜôÂÖ•„ÄÇ# ab ‰ª•‰∫åËøõÂà∂Ê†ºÂºèÊâìÂºÄ‰∏Ä‰∏™Êñá‰ª∂Áî®‰∫éËøΩÂä†„ÄÇÂ¶ÇÊûúËØ•Êñá‰ª∂Â∑≤Â≠òÂú®ÔºåÊñá‰ª∂ÊåáÈíàÂ∞Ü‰ºöÊîæÂú®Êñá‰ª∂ÁöÑÁªìÂ∞æ„ÄÇ‰πüÂ∞±ÊòØËØ¥ÔºåÊñ∞ÁöÑÂÜÖÂÆπÂ∞Ü‰ºöË¢´ÂÜôÂÖ•Âà∞Â∑≤ÊúâÂÜÖÂÆπ‰πãÂêé„ÄÇÂ¶ÇÊûúËØ•Êñá‰ª∂‰∏çÂ≠òÂú®ÔºåÂàõÂª∫Êñ∞Êñá‰ª∂ËøõË°åÂÜôÂÖ•„ÄÇ# a+ ÊâìÂºÄ‰∏Ä‰∏™Êñá‰ª∂Áî®‰∫éËØªÂÜô„ÄÇÂ¶ÇÊûúËØ•Êñá‰ª∂Â∑≤Â≠òÂú®ÔºåÊñá‰ª∂ÊåáÈíàÂ∞Ü‰ºöÊîæÂú®Êñá‰ª∂ÁöÑÁªìÂ∞æ„ÄÇÊñá‰ª∂ÊâìÂºÄÊó∂‰ºöÊòØËøΩÂä†Ê®°Âºè„ÄÇÂ¶ÇÊûúËØ•Êñá‰ª∂‰∏çÂ≠òÂú®ÔºåÂàõÂª∫Êñ∞Êñá‰ª∂Áî®‰∫éËØªÂÜô„ÄÇ# ab+ ‰ª•‰∫åËøõÂà∂Ê†ºÂºèÊâìÂºÄ‰∏Ä‰∏™Êñá‰ª∂Áî®‰∫éËøΩÂä†„ÄÇÂ¶ÇÊûúËØ•Êñá‰ª∂Â∑≤Â≠òÂú®ÔºåÊñá‰ª∂ÊåáÈíàÂ∞Ü‰ºöÊîæÂú®Êñá‰ª∂ÁöÑÁªìÂ∞æ„ÄÇÂ¶ÇÊûúËØ•Êñá‰ª∂‰∏çÂ≠òÂú®ÔºåÂàõÂª∫Êñ∞Êñá‰ª∂Áî®‰∫éËØªÂÜô„ÄÇfile = open('filetest.txt', mode='r', buffering=-1, encoding=None, errors=None, newline=None, closefd=True, opener=None)# file ÂØπË±°Â∏∏Áî®ÁöÑÂáΩÊï∞Ôºö# file.close() ÂÖ≥Èó≠Êñá‰ª∂„ÄÇÂÖ≥Èó≠ÂêéÊñá‰ª∂‰∏çËÉΩÂÜçËøõË°åËØªÂÜôÊìç‰Ωú„ÄÇ# file.flush() Âà∑Êñ∞Êñá‰ª∂ÂÜÖÈÉ®ÁºìÂÜ≤ÔºåÁõ¥Êé•ÊääÂÜÖÈÉ®ÁºìÂÜ≤Âå∫ÁöÑÊï∞ÊçÆÁ´ãÂàªÂÜôÂÖ•Êñá‰ª∂, ËÄå‰∏çÊòØË¢´Âä®ÁöÑÁ≠âÂæÖËæìÂá∫ÁºìÂÜ≤Âå∫ÂÜôÂÖ•„ÄÇ# file.fileno() ËøîÂõû‰∏Ä‰∏™Êï¥ÂûãÁöÑÊñá‰ª∂ÊèèËø∞Á¨¶(file descriptor FD Êï¥Âûã), ÂèØ‰ª•Áî®Âú®Â¶ÇosÊ®°ÂùóÁöÑreadÊñπÊ≥ïÁ≠â‰∏Ä‰∫õÂ∫ïÂ±ÇÊìç‰Ωú‰∏ä„ÄÇ# file.isatty() Â¶ÇÊûúÊñá‰ª∂ËøûÊé•Âà∞‰∏Ä‰∏™ÁªàÁ´ØËÆæÂ§áËøîÂõû TrueÔºåÂê¶ÂàôËøîÂõû False„ÄÇ# file.next() Python 3 ‰∏≠ÁöÑ File ÂØπË±°‰∏çÊîØÊåÅ next() ÊñπÊ≥ï„ÄÇ ËøîÂõûÊñá‰ª∂‰∏ã‰∏ÄË°å„ÄÇ# file.read([size]) ‰ªéÊñá‰ª∂ËØªÂèñÊåáÂÆöÁöÑÂ≠óËäÇÊï∞ÔºåÂ¶ÇÊûúÊú™ÁªôÂÆöÊàñ‰∏∫Ë¥üÂàôËØªÂèñÊâÄÊúâ„ÄÇ# file.readline([size]) ËØªÂèñÊï¥Ë°åÔºåÂåÖÊã¨ &quot;\\n&quot; Â≠óÁ¨¶„ÄÇ# file.readlines([sizeint]) ËØªÂèñÊâÄÊúâË°åÂπ∂ËøîÂõûÂàóË°®ÔºåËã•ÁªôÂÆösizeint&gt;0ÔºåËøîÂõûÊÄªÂíåÂ§ßÁ∫¶‰∏∫sizeintÂ≠óËäÇÁöÑË°å, ÂÆûÈôÖËØªÂèñÂÄºÂèØËÉΩÊØî sizeint ËæÉÂ§ß, Âõ†‰∏∫ÈúÄË¶ÅÂ°´ÂÖÖÁºìÂÜ≤Âå∫„ÄÇ# file.seek(offset[, whence]) ÁßªÂä®Êñá‰ª∂ËØªÂèñÊåáÈíàÂà∞ÊåáÂÆö‰ΩçÁΩÆ# file.tell() ËøîÂõûÊñá‰ª∂ÂΩìÂâç‰ΩçÁΩÆ„ÄÇ# file.truncate([size]) ‰ªéÊñá‰ª∂ÁöÑÈ¶ñË°åÈ¶ñÂ≠óÁ¨¶ÂºÄÂßãÊà™Êñ≠ÔºåÊà™Êñ≠Êñá‰ª∂‰∏∫ size ‰∏™Â≠óÁ¨¶ÔºåÊó† size Ë°®Á§∫‰ªéÂΩìÂâç‰ΩçÁΩÆÊà™Êñ≠ÔºõÊà™Êñ≠‰πãÂêéÂêéÈù¢ÁöÑÊâÄÊúâÂ≠óÁ¨¶Ë¢´Âà†Èô§ÔºåÂÖ∂‰∏≠ windows Á≥ªÁªü‰∏ãÁöÑÊç¢Ë°å‰ª£Ë°®2‰∏™Â≠óÁ¨¶Â§ßÂ∞è„ÄÇ# file.write(str) Â∞ÜÂ≠óÁ¨¶‰∏≤ÂÜôÂÖ•Êñá‰ª∂ÔºåËøîÂõûÁöÑÊòØÂÜôÂÖ•ÁöÑÂ≠óÁ¨¶ÈïøÂ∫¶„ÄÇ# file.writelines(sequence) ÂêëÊñá‰ª∂ÂÜôÂÖ•‰∏Ä‰∏™Â∫èÂàóÂ≠óÁ¨¶‰∏≤ÂàóË°®ÔºåÂ¶ÇÊûúÈúÄË¶ÅÊç¢Ë°åÂàôË¶ÅËá™Â∑±Âä†ÂÖ•ÊØèË°åÁöÑÊç¢Ë°åÁ¨¶„ÄÇ&quot;&quot;&quot;Êñá‰ª∂ÂíåÁõÆÂΩï&quot;&quot;&quot;# os Ê®°ÂùóÊèê‰æõ‰∫ÜÈùûÂ∏∏‰∏∞ÂØåÁöÑÊñπÊ≥ïÁî®Êù•Â§ÑÁêÜÊñá‰ª∂ÂíåÁõÆÂΩï„ÄÇÂ∏∏Áî®ÁöÑÊñπÊ≥ïÂ¶Ç‰∏ãË°®ÊâÄÁ§∫Ôºö## Â∫èÂè∑ ÊñπÊ≥ïÂèäÊèèËø∞# os.access(path, mode) Ê£ÄÈ™åÊùÉÈôêÊ®°Âºè# os.chdir(path) ÊîπÂèòÂΩìÂâçÂ∑•‰ΩúÁõÆÂΩï# os.chflags(path, flags) ËÆæÁΩÆË∑ØÂæÑÁöÑÊ†áËÆ∞‰∏∫Êï∞Â≠óÊ†áËÆ∞„ÄÇ# os.chmod(path, mode) Êõ¥ÊîπÊùÉÈôê# os.chown(path, uid, gid) Êõ¥ÊîπÊñá‰ª∂ÊâÄÊúâËÄÖ# os.chroot(path) ÊîπÂèòÂΩìÂâçËøõÁ®ãÁöÑÊ†πÁõÆÂΩï# os.close(fd) ÂÖ≥Èó≠Êñá‰ª∂ÊèèËø∞Á¨¶ fd# os.closerange(fd_low, fd_high) ÂÖ≥Èó≠ÊâÄÊúâÊñá‰ª∂ÊèèËø∞Á¨¶Ôºå‰ªé fd_low (ÂåÖÂê´) Âà∞ fd_high (‰∏çÂåÖÂê´), ÈîôËØØ‰ºöÂøΩÁï•# os.dup(fd) Â§çÂà∂Êñá‰ª∂ÊèèËø∞Á¨¶ fd# os.dup2(fd, fd2) Â∞Ü‰∏Ä‰∏™Êñá‰ª∂ÊèèËø∞Á¨¶ fd Â§çÂà∂Âà∞Âè¶‰∏Ä‰∏™ fd2# os.fchdir(fd) ÈÄöËøáÊñá‰ª∂ÊèèËø∞Á¨¶ÊîπÂèòÂΩìÂâçÂ∑•‰ΩúÁõÆÂΩï# os.fchmod(fd, mode) ÊîπÂèò‰∏Ä‰∏™Êñá‰ª∂ÁöÑËÆøÈóÆÊùÉÈôêÔºåËØ•Êñá‰ª∂Áî±ÂèÇÊï∞fdÊåáÂÆöÔºåÂèÇÊï∞modeÊòØUnix‰∏ãÁöÑÊñá‰ª∂ËÆøÈóÆÊùÉÈôê„ÄÇ# os.fchown(fd, uid, gid) ‰øÆÊîπ‰∏Ä‰∏™Êñá‰ª∂ÁöÑÊâÄÊúâÊùÉÔºåËøô‰∏™ÂáΩÊï∞‰øÆÊîπ‰∏Ä‰∏™Êñá‰ª∂ÁöÑÁî®Êà∑IDÂíåÁî®Êà∑ÁªÑIDÔºåËØ•Êñá‰ª∂Áî±Êñá‰ª∂ÊèèËø∞Á¨¶fdÊåáÂÆö„ÄÇ# os.fdatasync(fd) Âº∫Âà∂Â∞ÜÊñá‰ª∂ÂÜôÂÖ•Á£ÅÁõòÔºåËØ•Êñá‰ª∂Áî±Êñá‰ª∂ÊèèËø∞Á¨¶fdÊåáÂÆöÔºå‰ΩÜÊòØ‰∏çÂº∫Âà∂Êõ¥Êñ∞Êñá‰ª∂ÁöÑÁä∂ÊÄÅ‰ø°ÊÅØ„ÄÇ# os.fdopen(fd[, mode[, bufsize]]) ÈÄöËøáÊñá‰ª∂ÊèèËø∞Á¨¶ fd ÂàõÂª∫‰∏Ä‰∏™Êñá‰ª∂ÂØπË±°ÔºåÂπ∂ËøîÂõûËøô‰∏™Êñá‰ª∂ÂØπË±°# os.fpathconf(fd, name) ËøîÂõû‰∏Ä‰∏™ÊâìÂºÄÁöÑÊñá‰ª∂ÁöÑÁ≥ªÁªüÈÖçÁΩÆ‰ø°ÊÅØ„ÄÇname‰∏∫Ê£ÄÁ¥¢ÁöÑÁ≥ªÁªüÈÖçÁΩÆÁöÑÂÄºÔºåÂÆÉ‰πüËÆ∏ÊòØ‰∏Ä‰∏™ÂÆö‰πâÁ≥ªÁªüÂÄºÁöÑÂ≠óÁ¨¶‰∏≤ÔºåËøô‰∫õÂêçÂ≠óÂú®ÂæàÂ§öÊ†áÂáÜ‰∏≠ÊåáÂÆöÔºàPOSIX.1, Unix 95, Unix 98, ÂíåÂÖ∂ÂÆÉÔºâ„ÄÇ# os.fstat(fd) ËøîÂõûÊñá‰ª∂ÊèèËø∞Á¨¶fdÁöÑÁä∂ÊÄÅÔºåÂÉèstat()„ÄÇ# os.fstatvfs(fd) ËøîÂõûÂåÖÂê´Êñá‰ª∂ÊèèËø∞Á¨¶fdÁöÑÊñá‰ª∂ÁöÑÊñá‰ª∂Á≥ªÁªüÁöÑ‰ø°ÊÅØÔºåPython 3.3 Áõ∏Á≠â‰∫é statvfs()„ÄÇ# os.fsync(fd) Âº∫Âà∂Â∞ÜÊñá‰ª∂ÊèèËø∞Á¨¶‰∏∫fdÁöÑÊñá‰ª∂ÂÜôÂÖ•Á°¨Áõò„ÄÇ# os.ftruncate(fd, length) Ë£ÅÂâ™Êñá‰ª∂ÊèèËø∞Á¨¶fdÂØπÂ∫îÁöÑÊñá‰ª∂, ÊâÄ‰ª•ÂÆÉÊúÄÂ§ß‰∏çËÉΩË∂ÖËøáÊñá‰ª∂Â§ßÂ∞è„ÄÇ# os.getcwd() ËøîÂõûÂΩìÂâçÂ∑•‰ΩúÁõÆÂΩï# os.getcwdb() ËøîÂõû‰∏Ä‰∏™ÂΩìÂâçÂ∑•‰ΩúÁõÆÂΩïÁöÑUnicodeÂØπË±°# os.isatty(fd) Â¶ÇÊûúÊñá‰ª∂ÊèèËø∞Á¨¶fdÊòØÊâìÂºÄÁöÑÔºåÂêåÊó∂‰∏étty(-like)ËÆæÂ§áÁõ∏ËøûÔºåÂàôËøîÂõûtrue, Âê¶ÂàôFalse„ÄÇ# os.lchflags(path, flags) ËÆæÁΩÆË∑ØÂæÑÁöÑÊ†áËÆ∞‰∏∫Êï∞Â≠óÊ†áËÆ∞ÔºåÁ±ª‰ºº chflags()Ôºå‰ΩÜÊòØÊ≤°ÊúâËΩØÈìæÊé•# os.lchmod(path, mode) ‰øÆÊîπËøûÊé•Êñá‰ª∂ÊùÉÈôê# os.lchown(path, uid, gid) Êõ¥ÊîπÊñá‰ª∂ÊâÄÊúâËÄÖÔºåÁ±ª‰ºº chownÔºå‰ΩÜÊòØ‰∏çËøΩË∏™ÈìæÊé•„ÄÇ# os.link(src, dst) ÂàõÂª∫Á°¨ÈìæÊé•ÔºåÂêç‰∏∫ÂèÇÊï∞ dstÔºåÊåáÂêëÂèÇÊï∞ src# os.listdir(path) ËøîÂõûpathÊåáÂÆöÁöÑÊñá‰ª∂Â§πÂåÖÂê´ÁöÑÊñá‰ª∂ÊàñÊñá‰ª∂Â§πÁöÑÂêçÂ≠óÁöÑÂàóË°®„ÄÇ# os.lseek(fd, pos, how) ËÆæÁΩÆÊñá‰ª∂ÊèèËø∞Á¨¶ fdÂΩìÂâç‰ΩçÁΩÆ‰∏∫pos, howÊñπÂºè‰øÆÊîπ: SEEK_SET ÊàñËÄÖ 0 ËÆæÁΩÆ‰ªéÊñá‰ª∂ÂºÄÂßãÁöÑËÆ°ÁÆóÁöÑpos; SEEK_CURÊàñËÄÖ 1 Âàô‰ªéÂΩìÂâç‰ΩçÁΩÆËÆ°ÁÆó; os.SEEK_ENDÊàñËÄÖ2Âàô‰ªéÊñá‰ª∂Â∞æÈÉ®ÂºÄÂßã. Âú®unixÔºåWindows‰∏≠ÊúâÊïà# os.lstat(path) ÂÉèstat(),‰ΩÜÊòØÊ≤°ÊúâËΩØÈìæÊé•# os.major(device) ‰ªéÂéüÂßãÁöÑËÆæÂ§áÂè∑‰∏≠ÊèêÂèñËÆæÂ§ámajorÂè∑Á†Å (‰ΩøÁî®stat‰∏≠ÁöÑst_devÊàñËÄÖst_rdev field)„ÄÇ# os.makedev(major, minor) ‰ª•majorÂíåminorËÆæÂ§áÂè∑ÁªÑÊàê‰∏Ä‰∏™ÂéüÂßãËÆæÂ§áÂè∑# os.makedirs(path[, mode]) ÈÄíÂΩíÊñá‰ª∂Â§πÂàõÂª∫ÂáΩÊï∞„ÄÇÂÉèmkdir(), ‰ΩÜÂàõÂª∫ÁöÑÊâÄÊúâintermediate-levelÊñá‰ª∂Â§πÈúÄË¶ÅÂåÖÂê´Â≠êÊñá‰ª∂Â§π„ÄÇ# os.minor(device) ‰ªéÂéüÂßãÁöÑËÆæÂ§áÂè∑‰∏≠ÊèêÂèñËÆæÂ§áminorÂè∑Á†Å (‰ΩøÁî®stat‰∏≠ÁöÑst_devÊàñËÄÖst_rdev field )„ÄÇ# os.mkdir(path[, mode]) ‰ª•Êï∞Â≠ómodeÁöÑmodeÂàõÂª∫‰∏Ä‰∏™Âêç‰∏∫pathÁöÑÊñá‰ª∂Â§π.ÈªòËÆ§ÁöÑ mode ÊòØ 0777 (ÂÖ´ËøõÂà∂)„ÄÇ# os.mkfifo(path[, mode]) ÂàõÂª∫ÂëΩÂêçÁÆ°ÈÅìÔºåmode ‰∏∫Êï∞Â≠óÔºåÈªòËÆ§‰∏∫ 0666 (ÂÖ´ËøõÂà∂)# os.mknod(filename[, mode=0600, device]) ÂàõÂª∫‰∏Ä‰∏™Âêç‰∏∫filenameÊñá‰ª∂Á≥ªÁªüËäÇÁÇπÔºàÊñá‰ª∂ÔºåËÆæÂ§áÁâπÂà´Êñá‰ª∂ÊàñËÄÖÂëΩÂêçpipeÔºâ„ÄÇ# os.open(file, flags[, mode]) ÊâìÂºÄ‰∏Ä‰∏™Êñá‰ª∂ÔºåÂπ∂‰∏îËÆæÁΩÆÈúÄË¶ÅÁöÑÊâìÂºÄÈÄâÈ°πÔºåmodeÂèÇÊï∞ÊòØÂèØÈÄâÁöÑ# os.openpty() ÊâìÂºÄ‰∏Ä‰∏™Êñ∞ÁöÑ‰º™ÁªàÁ´ØÂØπ„ÄÇËøîÂõû pty Âíå ttyÁöÑÊñá‰ª∂ÊèèËø∞Á¨¶„ÄÇ# os.pathconf(path, name) ËøîÂõûÁõ∏ÂÖ≥Êñá‰ª∂ÁöÑÁ≥ªÁªüÈÖçÁΩÆ‰ø°ÊÅØ„ÄÇ# os.pipe() ÂàõÂª∫‰∏Ä‰∏™ÁÆ°ÈÅì. ËøîÂõû‰∏ÄÂØπÊñá‰ª∂ÊèèËø∞Á¨¶(r, w) ÂàÜÂà´‰∏∫ËØªÂíåÂÜô# os.popen(command[, mode[, bufsize]]) ‰ªé‰∏Ä‰∏™ command ÊâìÂºÄ‰∏Ä‰∏™ÁÆ°ÈÅì# os.read(fd, n) ‰ªéÊñá‰ª∂ÊèèËø∞Á¨¶ fd ‰∏≠ËØªÂèñÊúÄÂ§ö n ‰∏™Â≠óËäÇÔºåËøîÂõûÂåÖÂê´ËØªÂèñÂ≠óËäÇÁöÑÂ≠óÁ¨¶‰∏≤ÔºåÊñá‰ª∂ÊèèËø∞Á¨¶ fdÂØπÂ∫îÊñá‰ª∂Â∑≤ËææÂà∞ÁªìÂ∞æ, ËøîÂõû‰∏Ä‰∏™Á©∫Â≠óÁ¨¶‰∏≤„ÄÇ# os.readlink(path) ËøîÂõûËΩØÈìæÊé•ÊâÄÊåáÂêëÁöÑÊñá‰ª∂# os.remove(path) Âà†Èô§Ë∑ØÂæÑ‰∏∫pathÁöÑÊñá‰ª∂„ÄÇÂ¶ÇÊûúpath ÊòØ‰∏Ä‰∏™Êñá‰ª∂Â§πÔºåÂ∞ÜÊäõÂá∫OSError; Êü•Áúã‰∏ãÈù¢ÁöÑrmdir()Âà†Èô§‰∏Ä‰∏™ directory„ÄÇ# os.removedirs(path) ÈÄíÂΩíÂà†Èô§ÁõÆÂΩï„ÄÇ# os.rename(src, dst) ÈáçÂëΩÂêçÊñá‰ª∂ÊàñÁõÆÂΩïÔºå‰ªé src Âà∞ dst# os.renames(old, new) ÈÄíÂΩíÂú∞ÂØπÁõÆÂΩïËøõË°åÊõ¥ÂêçÔºå‰πüÂèØ‰ª•ÂØπÊñá‰ª∂ËøõË°åÊõ¥Âêç„ÄÇ# os.rmdir(path) Âà†Èô§pathÊåáÂÆöÁöÑÁ©∫ÁõÆÂΩïÔºåÂ¶ÇÊûúÁõÆÂΩïÈùûÁ©∫ÔºåÂàôÊäõÂá∫‰∏Ä‰∏™OSErrorÂºÇÂ∏∏„ÄÇ# os.stat(path) Ëé∑ÂèñpathÊåáÂÆöÁöÑË∑ØÂæÑÁöÑ‰ø°ÊÅØÔºåÂäüËÉΩÁ≠âÂêå‰∫éC API‰∏≠ÁöÑstat()Á≥ªÁªüË∞ÉÁî®„ÄÇ# os.stat_float_times([newvalue]) ÂÜ≥ÂÆöstat_resultÊòØÂê¶‰ª•floatÂØπË±°ÊòæÁ§∫Êó∂Èó¥Êà≥# os.statvfs(path) Ëé∑ÂèñÊåáÂÆöË∑ØÂæÑÁöÑÊñá‰ª∂Á≥ªÁªüÁªüËÆ°‰ø°ÊÅØ# os.symlink(src, dst) ÂàõÂª∫‰∏Ä‰∏™ËΩØÈìæÊé•# os.tcgetpgrp(fd) ËøîÂõû‰∏éÁªàÁ´ØfdÔºà‰∏Ä‰∏™Áî±os.open()ËøîÂõûÁöÑÊâìÂºÄÁöÑÊñá‰ª∂ÊèèËø∞Á¨¶ÔºâÂÖ≥ËÅîÁöÑËøõÁ®ãÁªÑ# os.tcsetpgrp(fd, pg) ËÆæÁΩÆ‰∏éÁªàÁ´ØfdÔºà‰∏Ä‰∏™Áî±os.open()ËøîÂõûÁöÑÊâìÂºÄÁöÑÊñá‰ª∂ÊèèËø∞Á¨¶ÔºâÂÖ≥ËÅîÁöÑËøõÁ®ãÁªÑ‰∏∫pg„ÄÇ# os.tempnam([dir[, prefix]]) Python3 ‰∏≠Â∑≤Âà†Èô§„ÄÇËøîÂõûÂîØ‰∏ÄÁöÑË∑ØÂæÑÂêçÁî®‰∫éÂàõÂª∫‰∏¥Êó∂Êñá‰ª∂„ÄÇ# os.tmpfile() Python3 ‰∏≠Â∑≤Âà†Èô§„ÄÇËøîÂõû‰∏Ä‰∏™ÊâìÂºÄÁöÑÊ®°Âºè‰∏∫(w+b)ÁöÑÊñá‰ª∂ÂØπË±° .ËøôÊñá‰ª∂ÂØπË±°Ê≤°ÊúâÊñá‰ª∂Â§πÂÖ•Âè£ÔºåÊ≤°ÊúâÊñá‰ª∂ÊèèËø∞Á¨¶ÔºåÂ∞Ü‰ºöËá™Âä®Âà†Èô§„ÄÇ# os.tmpnam() Python3 ‰∏≠Â∑≤Âà†Èô§„ÄÇ‰∏∫ÂàõÂª∫‰∏Ä‰∏™‰∏¥Êó∂Êñá‰ª∂ËøîÂõû‰∏Ä‰∏™ÂîØ‰∏ÄÁöÑË∑ØÂæÑ# os.ttyname(fd) ËøîÂõû‰∏Ä‰∏™Â≠óÁ¨¶‰∏≤ÔºåÂÆÉË°®Á§∫‰∏éÊñá‰ª∂ÊèèËø∞Á¨¶fd ÂÖ≥ËÅîÁöÑÁªàÁ´ØËÆæÂ§á„ÄÇÂ¶ÇÊûúfd Ê≤°Êúâ‰∏éÁªàÁ´ØËÆæÂ§áÂÖ≥ËÅîÔºåÂàôÂºïÂèë‰∏Ä‰∏™ÂºÇÂ∏∏„ÄÇ# os.unlink(path) Âà†Èô§Êñá‰ª∂Ë∑ØÂæÑ# os.utime(path, times) ËøîÂõûÊåáÂÆöÁöÑpathÊñá‰ª∂ÁöÑËÆøÈóÆÂíå‰øÆÊîπÁöÑÊó∂Èó¥„ÄÇ# os.walk(top[, topdown=True[, onerror=None[, followlinks=False]]]) ËæìÂá∫Âú®Êñá‰ª∂Â§π‰∏≠ÁöÑÊñá‰ª∂ÂêçÈÄöËøáÂú®Ê†ë‰∏≠Ê∏∏Ëµ∞ÔºåÂêë‰∏äÊàñËÄÖÂêë‰∏ã„ÄÇ# os.write(fd, str) ÂÜôÂÖ•Â≠óÁ¨¶‰∏≤Âà∞Êñá‰ª∂ÊèèËø∞Á¨¶ fd‰∏≠. ËøîÂõûÂÆûÈôÖÂÜôÂÖ•ÁöÑÂ≠óÁ¨¶‰∏≤ÈïøÂ∫¶# os.path Ê®°Âùó Ëé∑ÂèñÊñá‰ª∂ÁöÑÂ±ûÊÄß‰ø°ÊÅØ„ÄÇ# os.pardir() Ëé∑ÂèñÂΩìÂâçÁõÆÂΩïÁöÑÁà∂ÁõÆÂΩïÔºå‰ª•Â≠óÁ¨¶‰∏≤ÂΩ¢ÂºèÊòæÁ§∫ÁõÆÂΩïÂêç„ÄÇ ËØ≠Ê≥ïÈîôËØØÂíåÂºÇÂ∏∏ 1234567891011121314151617181920212223242526&quot;&quot;&quot;ËØ≠Ê≥ïÈîôËØØÂíåÂºÇÂ∏∏&quot;&quot;&quot;# ËØ≠Ê≥ïÈîôËØØ SyntaxError# ÂºÇÂ∏∏ ZeroDivisionErrorÔºåNameError Âíå TypeError# ÂºÇÂ∏∏Â§ÑÁêÜ# ---try/except---# ‰∏Ä‰∏™exceptÂ≠êÂè•ÂèØ‰ª•ÂêåÊó∂Â§ÑÁêÜÂ§ö‰∏™ÂºÇÂ∏∏ÔºåËøô‰∫õÂºÇÂ∏∏Â∞ÜË¢´ÊîæÂú®‰∏Ä‰∏™Êã¨Âè∑ÈáåÊàê‰∏∫‰∏Ä‰∏™ÂÖÉÁªÑÔºå‰æãÂ¶Ç:# except (RuntimeError, TypeError, NameError):while True: try: x = int(input(&quot;ËØ∑ËæìÂÖ•‰∏Ä‰∏™Êï∞Â≠ó: &quot;)) break except ValueError: print(&quot;ÊÇ®ËæìÂÖ•ÁöÑ‰∏çÊòØÊï∞Â≠óÔºåËØ∑ÂÜçÊ¨°Â∞ùËØïËæìÂÖ•ÔºÅ&quot;)# ----try/except...else---else Â≠êÂè•Â∞ÜÂú® try Â≠êÂè•Ê≤°ÊúâÂèëÁîü‰ªª‰ΩïÂºÇÂ∏∏ÁöÑÊó∂ÂÄôÊâßË°å# ---try-finally----# ÊäõÂá∫ÂºÇÂ∏∏ raise [Exception [, args [, traceback]]]x = 10if x &gt; 5: raise Exception('x ‰∏çËÉΩÂ§ß‰∫é 5„ÄÇx ÁöÑÂÄº‰∏∫: {}'.format(x))# Áî®Êà∑Ëá™ÂÆö‰πâÂºÇÂ∏∏ ÈÄöËøáÂàõÂª∫‰∏Ä‰∏™Êñ∞ÁöÑÂºÇÂ∏∏Á±ªÊù•Êã•ÊúâËá™Â∑±ÁöÑÂºÇÂ∏∏„ÄÇÂºÇÂ∏∏Á±ªÁªßÊâøËá™ Exception Á±ªÔºåÂèØ‰ª•Áõ¥Êé•ÁªßÊâøÔºåÊàñËÄÖÈó¥Êé•ÁªßÊâø# with ËØ≠Âè•Â∞±ÂèØ‰ª•‰øùËØÅËØ∏Â¶ÇÊñá‰ª∂‰πãÁ±ªÁöÑÂØπË±°Âú®‰ΩøÁî®ÂÆå‰πãÂêé‰∏ÄÂÆö‰ºöÊ≠£Á°ÆÁöÑÊâßË°å‰ªñÁöÑÊ∏ÖÁêÜÊñπÊ≥ïwith open(&quot;myfile.txt&quot;) as f: for line in f: print(line, end=&quot;&quot;) Mysql 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273import mysql.connector# python -m pip install mysql-connector ÂÆâË£ÖËøûÊé•È©±Âä®# python -m pip install mysql-connector-python# pip uninstall mysql-connector Âç∏ËΩΩmydb = mysql.connector.connect( host=&quot;localhost&quot;, # Êï∞ÊçÆÂ∫ì‰∏ªÊú∫Âú∞ÂùÄ user=&quot;root&quot;, # Êï∞ÊçÆÂ∫ìÁî®Êà∑Âêç passwd=&quot;root&quot; # Êï∞ÊçÆÂ∫ìÂØÜÁ†Å # auth_plugin='mysql_native_password' # database=&quot;runoob_db&quot; #ÊúâÂàôÁõ¥Êé•ËøûÊé•Êï∞ÊçÆÂ∫ì)print(mydb)# ÂàõÂª∫Êï∞ÊçÆÂ∫ìmycursor = mydb.cursor()mycursor.execute(&quot;CREATE DATABASE runoob_db&quot;)# ËæìÂá∫ÊâÄÊúâÊï∞ÊçÆÂ∫ìÂàóË°®mycursor.execute(&quot;SHOW DATABASES&quot;)for x in mycursor: print(x)# ÂàõÂª∫Ë°®mycursor.execute(&quot;CREATE TABLE sites (name VARCHAR(255), url VARCHAR(255))&quot;)# mycursor.execute(sqlËØ≠Âè•)# Â¢ûsql = &quot;INSERT INTO sites (name, url) VALUES (%s, %s)&quot;val = (&quot;RUNOOB&quot;, &quot;https://www.runoob.com&quot;)mycursor.execute(sql, val)mydb.commit() # Êï∞ÊçÆË°®ÂÜÖÂÆπÊúâÊõ¥Êñ∞ÔºåÂøÖÈ°ª‰ΩøÁî®Âà∞ËØ•ËØ≠Âè•print(mycursor.rowcount, &quot;ËÆ∞ÂΩïÊèíÂÖ•ÊàêÂäü„ÄÇ&quot;)# ÊâπÈáèÂ¢ûsql = &quot;INSERT INTO sites (name, url) VALUES (%s, %s)&quot;val = [ ('Google', 'https://www.google.com'), ('Github', 'https://www.github.com'), ('Taobao', 'https://www.taobao.com'), ('stackoverflow', 'https://www.stackoverflow.com/')]mycursor.executemany(sql, val)mydb.commit() # Êï∞ÊçÆË°®ÂÜÖÂÆπÊúâÊõ¥Êñ∞ÔºåÂøÖÈ°ª‰ΩøÁî®Âà∞ËØ•ËØ≠Âè•print(mycursor.rowcount, &quot;ËÆ∞ÂΩïÊèíÂÖ•ÊàêÂäü, ID:&quot;, mycursor.lastrowid)# Êü•mycursor.execute(&quot;SELECT * FROM sites&quot;)myresult = mycursor.fetchall() # fetchall() Ëé∑ÂèñÊâÄÊúâËÆ∞ÂΩïmyresult = mycursor.fetchone() #Ëé∑Âèñ‰∏ÄÊù°for x in myresult: print(x)# Èò≤sqlÊ≥®ÂÖ•sql = &quot;SELECT * FROM sites WHERE name = %s&quot;na = (&quot;RUNOOB&quot;,)mycursor.execute(sql, na)myresult = mycursor.fetchall()for x in myresult: print(x)#Âà†sql = &quot;DELETE FROM sites WHERE name = 'stackoverflow'&quot;mycursor.execute(sql)mydb.commit()print(mycursor.rowcount, &quot; Êù°ËÆ∞ÂΩïÂà†Èô§&quot;)# Êîπsql = &quot;UPDATE sites SET name = 'ZH' WHERE name = 'Zhihu'&quot;mycursor.execute(sql)mydb.commit()print(mycursor.rowcount, &quot; Êù°ËÆ∞ÂΩïË¢´‰øÆÊîπ&quot;) ÁΩëÁªúÁºñÁ®ã 123456789101112131415161718192021222324252627282930313233343536373839&quot;&quot;&quot;ÁΩëÁªúÁºñÁ®ã&quot;&quot;&quot;# ‰ΩéÁ∫ßÂà´ÁöÑÁΩëÁªúÊúçÂä°ÊîØÊåÅÂü∫Êú¨ÁöÑ SocketÔºåÂÆÉÊèê‰æõ‰∫ÜÊ†áÂáÜÁöÑ BSD Sockets APIÔºåÂèØ‰ª•ËÆøÈóÆÂ∫ïÂ±ÇÊìç‰ΩúÁ≥ªÁªü Socket Êé•Âè£ÁöÑÂÖ®ÈÉ®ÊñπÊ≥ï„ÄÇ# È´òÁ∫ßÂà´ÁöÑÁΩëÁªúÊúçÂä°Ê®°Âùó SocketServerÔºå ÂÆÉÊèê‰æõ‰∫ÜÊúçÂä°Âô®‰∏≠ÂøÉÁ±ªÔºåÂèØ‰ª•ÁÆÄÂåñÁΩëÁªúÊúçÂä°Âô®ÁöÑÂºÄÂèë„ÄÇ# socket()# socket.socket([family[, type[, proto]]])# family: Â•óÊé•Â≠óÂÆ∂ÊóèÂèØ‰ª•‰Ωø AF_UNIX ÊàñËÄÖ AF_INET„ÄÇ# type:Â•óÊé•Â≠óÁ±ªÂûãÂèØ‰ª•Ê†πÊçÆÊòØÈù¢ÂêëËøûÊé•ÁöÑËøòÊòØÈùûËøûÊé•ÂàÜ‰∏∫SOCK_STREAMÊàñSOCK_DGRAM„ÄÇ# protocol: ‰∏ÄËà¨‰∏çÂ°´ÈªòËÆ§‰∏∫ 0„ÄÇ# Socket ÂØπË±°(ÂÜÖÂª∫)ÊñπÊ≥ï# ÂáΩÊï∞ ÊèèËø∞# ÊúçÂä°Âô®Á´ØÂ•óÊé•Â≠ó-----------# s.bind() ÁªëÂÆöÂú∞ÂùÄÔºàhost,portÔºâÂà∞Â•óÊé•Â≠óÔºå Âú® AF_INET‰∏ãÔºå‰ª•ÂÖÉÁªÑÔºàhost,portÔºâÁöÑÂΩ¢ÂºèË°®Á§∫Âú∞ÂùÄ„ÄÇ# s.listen() ÂºÄÂßã TCP ÁõëÂê¨„ÄÇbacklog ÊåáÂÆöÂú®ÊãíÁªùËøûÊé•‰πãÂâçÔºåÊìç‰ΩúÁ≥ªÁªüÂèØ‰ª•ÊåÇËµ∑ÁöÑÊúÄÂ§ßËøûÊé•Êï∞Èáè„ÄÇËØ•ÂÄºËá≥Â∞ë‰∏∫ 1ÔºåÂ§ßÈÉ®ÂàÜÂ∫îÁî®Á®ãÂ∫èËÆæ‰∏∫ 5 Â∞±ÂèØ‰ª•‰∫Ü„ÄÇ# s.accept() Ë¢´Âä®Êé•ÂèóTCPÂÆ¢Êà∑Á´ØËøûÊé•,(ÈòªÂ°ûÂºè)Á≠âÂæÖËøûÊé•ÁöÑÂà∞Êù•# ÂÆ¢Êà∑Á´ØÂ•óÊé•Â≠ó-----------# s.connect() ‰∏ªÂä®ÂàùÂßãÂåñTCPÊúçÂä°Âô®ËøûÊé•Ôºå„ÄÇ‰∏ÄËà¨addressÁöÑÊ†ºÂºè‰∏∫ÂÖÉÁªÑÔºàhostname,portÔºâÔºåÂ¶ÇÊûúËøûÊé•Âá∫ÈîôÔºåËøîÂõûsocket.errorÈîôËØØ„ÄÇ# s.connect_ex() connect()ÂáΩÊï∞ÁöÑÊâ©Â±ïÁâàÊú¨,Âá∫ÈîôÊó∂ËøîÂõûÂá∫ÈîôÁ†Å,ËÄå‰∏çÊòØÊäõÂá∫ÂºÇÂ∏∏# ÂÖ¨ÂÖ±Áî®ÈÄîÁöÑÂ•óÊé•Â≠óÂáΩÊï∞----------# s.recv() Êé•Êî∂ TCP Êï∞ÊçÆÔºåÊï∞ÊçÆ‰ª•Â≠óÁ¨¶‰∏≤ÂΩ¢ÂºèËøîÂõûÔºåbufsize ÊåáÂÆöË¶ÅÊé•Êî∂ÁöÑÊúÄÂ§ßÊï∞ÊçÆÈáè„ÄÇflag Êèê‰æõÊúâÂÖ≥Ê∂àÊÅØÁöÑÂÖ∂‰ªñ‰ø°ÊÅØÔºåÈÄöÂ∏∏ÂèØ‰ª•ÂøΩÁï•„ÄÇ# s.send() ÂèëÈÄÅ TCP Êï∞ÊçÆÔºåÂ∞Ü string ‰∏≠ÁöÑÊï∞ÊçÆÂèëÈÄÅÂà∞ËøûÊé•ÁöÑÂ•óÊé•Â≠ó„ÄÇËøîÂõûÂÄºÊòØË¶ÅÂèëÈÄÅÁöÑÂ≠óËäÇÊï∞ÈáèÔºåËØ•Êï∞ÈáèÂèØËÉΩÂ∞è‰∫é string ÁöÑÂ≠óËäÇÂ§ßÂ∞è„ÄÇ# s.sendall() ÂÆåÊï¥ÂèëÈÄÅ TCP Êï∞ÊçÆ„ÄÇÂ∞Ü string ‰∏≠ÁöÑÊï∞ÊçÆÂèëÈÄÅÂà∞ËøûÊé•ÁöÑÂ•óÊé•Â≠óÔºå‰ΩÜÂú®ËøîÂõû‰πãÂâç‰ºöÂ∞ùËØïÂèëÈÄÅÊâÄÊúâÊï∞ÊçÆ„ÄÇÊàêÂäüËøîÂõû NoneÔºåÂ§±Ë¥•ÂàôÊäõÂá∫ÂºÇÂ∏∏„ÄÇ# s.recvfrom() Êé•Êî∂ UDP Êï∞ÊçÆÔºå‰∏é recv() Á±ª‰ººÔºå‰ΩÜËøîÂõûÂÄºÊòØÔºàdata,addressÔºâ„ÄÇÂÖ∂‰∏≠ data ÊòØÂåÖÂê´Êé•Êî∂Êï∞ÊçÆÁöÑÂ≠óÁ¨¶‰∏≤Ôºåaddress ÊòØÂèëÈÄÅÊï∞ÊçÆÁöÑÂ•óÊé•Â≠óÂú∞ÂùÄ„ÄÇ# s.sendto() ÂèëÈÄÅ UDP Êï∞ÊçÆÔºåÂ∞ÜÊï∞ÊçÆÂèëÈÄÅÂà∞Â•óÊé•Â≠óÔºåaddress ÊòØÂΩ¢Âºè‰∏∫ÔºàipaddrÔºåportÔºâÁöÑÂÖÉÁªÑÔºåÊåáÂÆöËøúÁ®ãÂú∞ÂùÄ„ÄÇËøîÂõûÂÄºÊòØÂèëÈÄÅÁöÑÂ≠óËäÇÊï∞„ÄÇ# s.close() ÂÖ≥Èó≠Â•óÊé•Â≠ó# s.getpeername() ËøîÂõûËøûÊé•Â•óÊé•Â≠óÁöÑËøúÁ®ãÂú∞ÂùÄ„ÄÇËøîÂõûÂÄºÈÄöÂ∏∏ÊòØÂÖÉÁªÑÔºàipaddr,portÔºâ„ÄÇ# s.getsockname() ËøîÂõûÂ•óÊé•Â≠óËá™Â∑±ÁöÑÂú∞ÂùÄ„ÄÇÈÄöÂ∏∏ÊòØ‰∏Ä‰∏™ÂÖÉÁªÑ(ipaddr,port)# s.setsockopt(level,optname,value) ËÆæÁΩÆÁªôÂÆöÂ•óÊé•Â≠óÈÄâÈ°πÁöÑÂÄº„ÄÇ# s.getsockopt(level,optname[.buflen]) ËøîÂõûÂ•óÊé•Â≠óÈÄâÈ°πÁöÑÂÄº„ÄÇ# s.settimeout(timeout) ËÆæÁΩÆÂ•óÊé•Â≠óÊìç‰ΩúÁöÑË∂ÖÊó∂ÊúüÔºåtimeoutÊòØ‰∏Ä‰∏™ÊµÆÁÇπÊï∞ÔºåÂçï‰ΩçÊòØÁßí„ÄÇÂÄº‰∏∫NoneË°®Á§∫Ê≤°ÊúâË∂ÖÊó∂Êúü„ÄÇ‰∏ÄËà¨ÔºåË∂ÖÊó∂ÊúüÂ∫îËØ•Âú®ÂàöÂàõÂª∫Â•óÊé•Â≠óÊó∂ËÆæÁΩÆÔºåÂõ†‰∏∫ÂÆÉ‰ª¨ÂèØËÉΩÁî®‰∫éËøûÊé•ÁöÑÊìç‰ΩúÔºàÂ¶Çconnect()Ôºâ# s.gettimeout() ËøîÂõûÂΩìÂâçË∂ÖÊó∂ÊúüÁöÑÂÄºÔºåÂçï‰ΩçÊòØÁßíÔºåÂ¶ÇÊûúÊ≤°ÊúâËÆæÁΩÆË∂ÖÊó∂ÊúüÔºåÂàôËøîÂõûNone„ÄÇ# s.fileno() ËøîÂõûÂ•óÊé•Â≠óÁöÑÊñá‰ª∂ÊèèËø∞Á¨¶„ÄÇ# s.setblocking(flag) Â¶ÇÊûúflag‰∏∫0ÔºåÂàôÂ∞ÜÂ•óÊé•Â≠óËÆæ‰∏∫ÈùûÈòªÂ°ûÊ®°ÂºèÔºåÂê¶ÂàôÂ∞ÜÂ•óÊé•Â≠óËÆæ‰∏∫ÈòªÂ°ûÊ®°ÂºèÔºàÈªòËÆ§ÂÄºÔºâ„ÄÇÈùûÈòªÂ°ûÊ®°Âºè‰∏ãÔºåÂ¶ÇÊûúË∞ÉÁî®recv()Ê≤°ÊúâÂèëÁé∞‰ªª‰ΩïÊï∞ÊçÆÔºåÊàñsend()Ë∞ÉÁî®Êó†Ê≥ïÁ´ãÂç≥ÂèëÈÄÅÊï∞ÊçÆÔºåÈÇ£‰πàÂ∞ÜÂºïËµ∑socket.errorÂºÇÂ∏∏„ÄÇ# s.makefile() ÂàõÂª∫‰∏Ä‰∏™‰∏éËØ•Â•óÊé•Â≠óÁõ∏ÂÖ≥ËøûÁöÑÊñá‰ª∂ 123456789101112131415161718192021import socketimport sys# ÂàõÂª∫ socket ÂØπË±°s = socket.socket(socket.AF_INET, socket.SOCK_STREAM)# Ëé∑ÂèñÊú¨Âú∞‰∏ªÊú∫Âêçhost = socket.gethostname()# ËÆæÁΩÆÁ´ØÂè£Âè∑port = 9999# ËøûÊé•ÊúçÂä°ÔºåÊåáÂÆö‰∏ªÊú∫ÂíåÁ´ØÂè£s.connect((host, port))# Êé•Êî∂Â∞è‰∫é 1024 Â≠óËäÇÁöÑÊï∞ÊçÆmsg = s.recv(1024)s.close()print (msg.decode('utf-8')) 123456789101112131415161718192021222324252627import socketimport sys# ÂàõÂª∫ socket ÂØπË±°serversocket = socket.socket( socket.AF_INET, socket.SOCK_STREAM)# Ëé∑ÂèñÊú¨Âú∞‰∏ªÊú∫Âêçhost = socket.gethostname()port = 9999# ÁªëÂÆöÁ´ØÂè£Âè∑serversocket.bind((host, port))# ËÆæÁΩÆÊúÄÂ§ßËøûÊé•Êï∞ÔºåË∂ÖËøáÂêéÊéíÈòüserversocket.listen(5)while True: # Âª∫Á´ãÂÆ¢Êà∑Á´ØËøûÊé• clientsocket, addr = serversocket.accept() print(&quot;ËøûÊé•Âú∞ÂùÄ: %s&quot; % str(addr)) msg = 'Ê¨¢ËøéËÆøÈóÆËèúÈ∏üÊïôÁ®ãÔºÅ' + &quot;\\r\\n&quot; clientsocket.send(msg.encode('utf-8')) clientsocket.close() SMTP 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101&quot;&quot;&quot;SMTP&quot;&quot;&quot;# SMTPÔºàSimple Mail Transfer ProtocolÔºâÂç≥ÁÆÄÂçïÈÇÆ‰ª∂‰º†ËæìÂçèËÆÆ,ÂÆÉÊòØ‰∏ÄÁªÑÁî®‰∫éÁî±Ê∫êÂú∞ÂùÄÂà∞ÁõÆÁöÑÂú∞ÂùÄ‰º†ÈÄÅÈÇÆ‰ª∂ÁöÑËßÑÂàôÔºåÁî±ÂÆÉÊù•ÊéßÂà∂‰ø°‰ª∂ÁöÑ‰∏≠ËΩ¨ÊñπÂºè„ÄÇ# pythonÁöÑsmtplibÊèê‰æõ‰∫Ü‰∏ÄÁßçÂæàÊñπ‰æøÁöÑÈÄîÂæÑÂèëÈÄÅÁîµÂ≠êÈÇÆ‰ª∂„ÄÇÂÆÉÂØπsmtpÂçèËÆÆËøõË°å‰∫ÜÁÆÄÂçïÁöÑÂ∞ÅË£Ö„ÄÇ# PythonÂàõÂª∫ SMTP ÂØπË±°ËØ≠Ê≥ïÂ¶Ç‰∏ãÔºö# import smtplib# smtpObj = smtplib.SMTP( [host [, port [, local_hostname]]] )# ÂèÇÊï∞ËØ¥ÊòéÔºö# host: SMTP ÊúçÂä°Âô®‰∏ªÊú∫„ÄÇ ‰Ω†ÂèØ‰ª•ÊåáÂÆö‰∏ªÊú∫ÁöÑipÂú∞ÂùÄÊàñËÄÖÂüüÂêçÂ¶Ç:runoob.comÔºåËøô‰∏™ÊòØÂèØÈÄâÂèÇÊï∞„ÄÇ# port: Â¶ÇÊûú‰Ω†Êèê‰æõ‰∫Ü host ÂèÇÊï∞, ‰Ω†ÈúÄË¶ÅÊåáÂÆö SMTP ÊúçÂä°‰ΩøÁî®ÁöÑÁ´ØÂè£Âè∑Ôºå‰∏ÄËà¨ÊÉÖÂÜµ‰∏ãSMTPÁ´ØÂè£Âè∑‰∏∫25„ÄÇ# local_hostname: Â¶ÇÊûúSMTPÂú®‰Ω†ÁöÑÊú¨Êú∫‰∏äÔºå‰Ω†Âè™ÈúÄË¶ÅÊåáÂÆöÊúçÂä°Âô®Âú∞ÂùÄ‰∏∫ localhost Âç≥ÂèØ„ÄÇ# Python SMTPÂØπË±°‰ΩøÁî®sendmailÊñπÊ≥ïÂèëÈÄÅÈÇÆ‰ª∂ÔºåËØ≠Ê≥ïÂ¶Ç‰∏ãÔºö# SMTP.sendmail(from_addr, to_addrs, msg[, mail_options, rcpt_options]# ÂèÇÊï∞ËØ¥ÊòéÔºö# from_addr: ÈÇÆ‰ª∂ÂèëÈÄÅËÄÖÂú∞ÂùÄ„ÄÇ# to_addrs: Â≠óÁ¨¶‰∏≤ÂàóË°®ÔºåÈÇÆ‰ª∂ÂèëÈÄÅÂú∞ÂùÄ„ÄÇ# msg: ÂèëÈÄÅÊ∂àÊÅØ# ËøôÈáåË¶ÅÊ≥®ÊÑè‰∏Ä‰∏ãÁ¨¨‰∏â‰∏™ÂèÇÊï∞ÔºåmsgÊòØÂ≠óÁ¨¶‰∏≤ÔºåË°®Á§∫ÈÇÆ‰ª∂„ÄÇÊàë‰ª¨Áü•ÈÅìÈÇÆ‰ª∂‰∏ÄËà¨Áî±Ê†áÈ¢òÔºåÂèë‰ø°‰∫∫ÔºåÊî∂‰ª∂‰∫∫ÔºåÈÇÆ‰ª∂ÂÜÖÂÆπÔºåÈôÑ‰ª∂Á≠âÊûÑÊàêÔºåÂèëÈÄÅÈÇÆ‰ª∂ÁöÑÊó∂ÂÄôÔºåË¶ÅÊ≥®ÊÑèmsgÁöÑÊ†ºÂºè„ÄÇËøô‰∏™Ê†ºÂºèÂ∞±ÊòØsmtpÂçèËÆÆ‰∏≠ÂÆö‰πâÁöÑÊ†ºÂºè„ÄÇimport smtplibfrom email.mime.image import MIMEImagefrom email.mime.multipart import MIMEMultipartfrom email.mime.text import MIMETextfrom email.header import Headermy_sender='714416426@qq.com' # Âèë‰ª∂‰∫∫ÈÇÆÁÆ±Ë¥¶Âè∑my_pass = '11111111' # Âèë‰ª∂‰∫∫ÈÇÆÁÆ±ÂØÜÁ†Åmy_user='714416426@qq.com' # Êî∂‰ª∂‰∫∫ÈÇÆÁÆ±Ë¥¶Âè∑ÔºåÊàëËøôËæπÂèëÈÄÅÁªôËá™Â∑±sender = 'from@runoob.com'receivers = ['714416426@qq.com'] # Êé•Êî∂ÈÇÆ‰ª∂ÔºåÂèØËÆæÁΩÆ‰∏∫‰Ω†ÁöÑQQÈÇÆÁÆ±ÊàñËÄÖÂÖ∂‰ªñÈÇÆÁÆ±msgRoot = MIMEMultipart('related')msgRoot['From'] = Header(&quot;ËèúÈ∏üÊïôÁ®ã&quot;, 'utf-8')msgRoot['To'] = Header(&quot;ÊµãËØï&quot;, 'utf-8')subject = 'Python SMTP ÈÇÆ‰ª∂ÊµãËØï'msgRoot['Subject'] = Header(subject, 'utf-8')# ÂèëÈÄÅhtmlÂÜÖÂÆπmail_msg = &quot;&quot;&quot;&lt;p&gt;Python ÈÇÆ‰ª∂ÂèëÈÄÅÊµãËØï...&lt;/p&gt;&lt;p&gt;&lt;a href=&quot;http://www.runoob.com&quot;&gt;ËøôÊòØ‰∏Ä‰∏™ÈìæÊé•&lt;/a&gt;&lt;/p&gt;&quot;&quot;&quot;message = MIMEText(mail_msg, 'html', 'utf-8')# ‰∏â‰∏™ÂèÇÊï∞ÔºöÁ¨¨‰∏Ä‰∏™‰∏∫ÊñáÊú¨ÂÜÖÂÆπÔºåÁ¨¨‰∫å‰∏™ plain ËÆæÁΩÆÊñáÊú¨Ê†ºÂºèÔºåÁ¨¨‰∏â‰∏™ utf-8 ËÆæÁΩÆÁºñÁ†Åmessage = MIMEText('Python ÈÇÆ‰ª∂ÂèëÈÄÅÊµãËØï...', 'plain', 'utf-8')message['From'] = Header(&quot;ËèúÈ∏üÊïôÁ®ã&quot;, 'utf-8') # ÂèëÈÄÅËÄÖmessage['To'] = Header(&quot;ÊµãËØï&quot;, 'utf-8') # Êé•Êî∂ËÄÖsubject = 'Python SMTP ÈÇÆ‰ª∂ÊµãËØï'message['Subject'] = Header(subject, 'utf-8')# ÂèëÈÄÅÂ∏¶ÈôÑ‰ª∂ÂÜÖÂÆπ# # ÊûÑÈÄ†ÈôÑ‰ª∂1Ôºå‰º†ÈÄÅÂΩìÂâçÁõÆÂΩï‰∏ãÁöÑ test.txt Êñá‰ª∂# att1 = MIMEText(open('test.txt', 'rb').read(), 'base64', 'utf-8')# att1[&quot;Content-Type&quot;] = 'application/octet-stream'# # ËøôÈáåÁöÑfilenameÂèØ‰ª•‰ªªÊÑèÂÜôÔºåÂÜô‰ªÄ‰πàÂêçÂ≠óÔºåÈÇÆ‰ª∂‰∏≠ÊòæÁ§∫‰ªÄ‰πàÂêçÂ≠ó# att1[&quot;Content-Disposition&quot;] = 'attachment; filename=&quot;test.txt&quot;'# message.attach(att1)## # ÊûÑÈÄ†ÈôÑ‰ª∂2Ôºå‰º†ÈÄÅÂΩìÂâçÁõÆÂΩï‰∏ãÁöÑ runoob.txt Êñá‰ª∂# att2 = MIMEText(open('runoob.txt', 'rb').read(), 'base64', 'utf-8')# att2[&quot;Content-Type&quot;] = 'application/octet-stream'# att2[&quot;Content-Disposition&quot;] = 'attachment; filename=&quot;runoob.txt&quot;'# message.attach(att2)# ÊñáÊú¨‰∏≠Ê∑ªÂä†ÂõæÁâá# msgAlternative = MIMEMultipart('alternative')# msgRoot.attach(msgAlternative)# mail_msg = &quot;&quot;&quot;# &lt;p&gt;Python ÈÇÆ‰ª∂ÂèëÈÄÅÊµãËØï...&lt;/p&gt;# &lt;p&gt;&lt;a href=&quot;http://www.runoob.com&quot;&gt;ËèúÈ∏üÊïôÁ®ãÈìæÊé•&lt;/a&gt;&lt;/p&gt;# &lt;p&gt;ÂõæÁâáÊºîÁ§∫Ôºö&lt;/p&gt;# &lt;p&gt;&lt;img src=&quot;cid:image1&quot;&gt;&lt;/p&gt;# &quot;&quot;&quot;# msgAlternative.attach(MIMEText(mail_msg, 'html', 'utf-8'))## # ÊåáÂÆöÂõæÁâá‰∏∫ÂΩìÂâçÁõÆÂΩï# fp = open('test.png', 'rb')# msgImage = MIMEImage(fp.read())# fp.close()## # ÂÆö‰πâÂõæÁâá IDÔºåÂú® HTML ÊñáÊú¨‰∏≠ÂºïÁî®# msgImage.add_header('Content-ID', '&lt;image1&gt;')# msgRoot.attach(msgImage)try: smtpObj = smtplib.SMTP('localhost') smtpObj.sendmail(my_sender, receivers, message.as_string()) print(&quot;ÈÇÆ‰ª∂ÂèëÈÄÅÊàêÂäü&quot;)except smtplib.SMTPException: print(&quot;Error: Êó†Ê≥ïÂèëÈÄÅÈÇÆ‰ª∂&quot;) Â§öÁ∫øÁ®ã 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101&quot;&quot;&quot;Â§öÁ∫øÁ®ãÔºöÂáΩÊï∞ÊàñËÄÖÁî®Á±ªÊù•ÂåÖË£ÖÁ∫øÁ®ãÂØπË±°&quot;&quot;&quot;# ÂáΩÊï∞ÂºèÔºöË∞ÉÁî®threadÊ®°Âùó‰∏≠ÁöÑstart_new_thread()ÂáΩÊï∞Êù•‰∫ßÁîüÊñ∞Á∫øÁ®ã„ÄÇËØ≠Ê≥ïÂ¶Ç‰∏ã:# thread.start_new_thread ( function, args[, kwargs] )# ÂèÇÊï∞ËØ¥Êòé:# function - Á∫øÁ®ãÂáΩÊï∞„ÄÇ# args - ‰º†ÈÄíÁªôÁ∫øÁ®ãÂáΩÊï∞ÁöÑÂèÇÊï∞,‰ªñÂøÖÈ°ªÊòØ‰∏™tupleÁ±ªÂûã„ÄÇ# kwargs - ÂèØÈÄâÂèÇÊï∞„ÄÇ# ‰∏§‰∏™Ê®°Âùó# _thread# threading(Êé®Ëçê‰ΩøÁî®)import _threadimport time# ‰∏∫Á∫øÁ®ãÂÆö‰πâ‰∏Ä‰∏™ÂáΩÊï∞def print_time( threadName, delay): count = 0 while count &lt; 5: time.sleep(delay) count += 1 print (&quot;%s: %s&quot; % ( threadName, time.ctime(time.time()) ))# ÂàõÂª∫‰∏§‰∏™Á∫øÁ®ãtry: _thread.start_new_thread( print_time, (&quot;Thread-1&quot;, 2, ) ) _thread.start_new_thread( print_time, (&quot;Thread-2&quot;, 4, ) )except: print (&quot;Error: Êó†Ê≥ïÂêØÂä®Á∫øÁ®ã&quot;)while 1: pass# _thread Êèê‰æõ‰∫Ü‰ΩéÁ∫ßÂà´ÁöÑ„ÄÅÂéüÂßãÁöÑÁ∫øÁ®ã‰ª•Âèä‰∏Ä‰∏™ÁÆÄÂçïÁöÑÈîÅÔºåÂÆÉÁõ∏ÊØî‰∫é threading Ê®°ÂùóÁöÑÂäüËÉΩËøòÊòØÊØîËæÉÊúâÈôêÁöÑ„ÄÇ## threading Ê®°ÂùóÈô§‰∫ÜÂåÖÂê´ _thread Ê®°Âùó‰∏≠ÁöÑÊâÄÊúâÊñπÊ≥ïÂ§ñÔºåËøòÊèê‰æõÁöÑÂÖ∂‰ªñÊñπÊ≥ïÔºö## threading.currentThread(): ËøîÂõûÂΩìÂâçÁöÑÁ∫øÁ®ãÂèòÈáè„ÄÇ# threading.enumerate(): ËøîÂõû‰∏Ä‰∏™ÂåÖÂê´Ê≠£Âú®ËøêË°åÁöÑÁ∫øÁ®ãÁöÑlist„ÄÇÊ≠£Âú®ËøêË°åÊåáÁ∫øÁ®ãÂêØÂä®Âêé„ÄÅÁªìÊùüÂâçÔºå‰∏çÂåÖÊã¨ÂêØÂä®ÂâçÂíåÁªàÊ≠¢ÂêéÁöÑÁ∫øÁ®ã„ÄÇ# threading.activeCount(): ËøîÂõûÊ≠£Âú®ËøêË°åÁöÑÁ∫øÁ®ãÊï∞ÈáèÔºå‰∏élen(threading.enumerate())ÊúâÁõ∏ÂêåÁöÑÁªìÊûú„ÄÇ# Èô§‰∫Ü‰ΩøÁî®ÊñπÊ≥ïÂ§ñÔºåÁ∫øÁ®ãÊ®°ÂùóÂêåÊ†∑Êèê‰æõ‰∫ÜThreadÁ±ªÊù•Â§ÑÁêÜÁ∫øÁ®ãÔºåThreadÁ±ªÊèê‰æõ‰∫Ü‰ª•‰∏ãÊñπÊ≥ï:## run(): Áî®‰ª•Ë°®Á§∫Á∫øÁ®ãÊ¥ªÂä®ÁöÑÊñπÊ≥ï„ÄÇ# start():ÂêØÂä®Á∫øÁ®ãÊ¥ªÂä®„ÄÇ# join([time]): Á≠âÂæÖËá≥Á∫øÁ®ã‰∏≠Ê≠¢„ÄÇËøôÈòªÂ°ûË∞ÉÁî®Á∫øÁ®ãÁõ¥Ëá≥Á∫øÁ®ãÁöÑjoin() ÊñπÊ≥ïË¢´Ë∞ÉÁî®‰∏≠Ê≠¢-Ê≠£Â∏∏ÈÄÄÂá∫ÊàñËÄÖÊäõÂá∫Êú™Â§ÑÁêÜÁöÑÂºÇÂ∏∏-ÊàñËÄÖÊòØÂèØÈÄâÁöÑË∂ÖÊó∂ÂèëÁîü„ÄÇ# isAlive(): ËøîÂõûÁ∫øÁ®ãÊòØÂê¶Ê¥ªÂä®ÁöÑ„ÄÇ# getName(): ËøîÂõûÁ∫øÁ®ãÂêç„ÄÇ# setName(): ËÆæÁΩÆÁ∫øÁ®ãÂêç„ÄÇimport threadingexitFlag = 0class myThread (threading.Thread): def __init__(self, threadID, name, counter): threading.Thread.__init__(self) self.threadID = threadID self.name = name self.counter = counter def run(self): print (&quot;ÂºÄÂßãÁ∫øÁ®ãÔºö&quot; + self.name) print_time(self.name, self.counter, 5) print (&quot;ÈÄÄÂá∫Á∫øÁ®ãÔºö&quot; + self.name)def print_time(threadName, delay, counter): while counter: if exitFlag: threadName.exit() time.sleep(delay) print (&quot;%s: %s&quot; % (threadName, time.ctime(time.time()))) counter -= 1# ÂàõÂª∫Êñ∞Á∫øÁ®ãthread1 = myThread(1, &quot;Thread-1&quot;, 1)thread2 = myThread(2, &quot;Thread-2&quot;, 2)# ÂºÄÂêØÊñ∞Á∫øÁ®ãthread1.start()thread2.start()thread1.join()thread2.join()print (&quot;ÈÄÄÂá∫‰∏ªÁ∫øÁ®ã&quot;)# Á∫øÁ®ãÂêåÊ≠•# ‰ΩøÁî® Thread ÂØπË±°ÁöÑ Lock Âíå Rlock ÂèØ‰ª•ÂÆûÁé∞ÁÆÄÂçïÁöÑÁ∫øÁ®ãÂêåÊ≠•ÔºåËøô‰∏§‰∏™ÂØπË±°ÈÉΩÊúâ acquire ÊñπÊ≥ïÂíå release ÊñπÊ≥ïÔºåÂØπ‰∫éÈÇ£‰∫õÈúÄË¶ÅÊØèÊ¨°Âè™ÂÖÅËÆ∏‰∏Ä‰∏™Á∫øÁ®ãÊìç‰ΩúÁöÑÊï∞ÊçÆÔºåÂèØ‰ª•Â∞ÜÂÖ∂Êìç‰ΩúÊîæÂà∞ acquire Âíå release ÊñπÊ≥ï‰πãÈó¥# Á∫øÁ®ã‰ºòÂÖàÁ∫ßÈòüÂàóÔºà QueueÔºâ# Python ÁöÑ Queue Ê®°Âùó‰∏≠Êèê‰æõ‰∫ÜÂêåÊ≠•ÁöÑ„ÄÅÁ∫øÁ®ãÂÆâÂÖ®ÁöÑÈòüÂàóÁ±ªÔºåÂåÖÊã¨FIFOÔºàÂÖàÂÖ•ÂÖàÂá∫)ÈòüÂàóQueueÔºåLIFOÔºàÂêéÂÖ•ÂÖàÂá∫ÔºâÈòüÂàóLifoQueueÔºåÂíå‰ºòÂÖàÁ∫ßÈòüÂàó PriorityQueue„ÄÇ# Ëøô‰∫õÈòüÂàóÈÉΩÂÆûÁé∞‰∫ÜÈîÅÂéüËØ≠ÔºåËÉΩÂ§üÂú®Â§öÁ∫øÁ®ã‰∏≠Áõ¥Êé•‰ΩøÁî®ÔºåÂèØ‰ª•‰ΩøÁî®ÈòüÂàóÊù•ÂÆûÁé∞Á∫øÁ®ãÈó¥ÁöÑÂêåÊ≠•„ÄÇ# Queue Ê®°Âùó‰∏≠ÁöÑÂ∏∏Áî®ÊñπÊ≥ï:# Queue.qsize() ËøîÂõûÈòüÂàóÁöÑÂ§ßÂ∞è# Queue.empty() Â¶ÇÊûúÈòüÂàó‰∏∫Á©∫ÔºåËøîÂõûTrue,Âèç‰πãFalse# Queue.full() Â¶ÇÊûúÈòüÂàóÊª°‰∫ÜÔºåËøîÂõûTrue,Âèç‰πãFalse# Queue.full ‰∏é maxsize Â§ßÂ∞èÂØπÂ∫î# Queue.get([block[, timeout]])Ëé∑ÂèñÈòüÂàóÔºåtimeoutÁ≠âÂæÖÊó∂Èó¥# Queue.get_nowait() Áõ∏ÂΩìQueue.get(False)# Queue.put(item) ÂÜôÂÖ•ÈòüÂàóÔºåtimeoutÁ≠âÂæÖÊó∂Èó¥# Queue.put_nowait(item) Áõ∏ÂΩìQueue.put(item, False)# Queue.task_done() Âú®ÂÆåÊàê‰∏ÄÈ°πÂ∑•‰Ωú‰πãÂêéÔºåQueue.task_done()ÂáΩÊï∞Âêë‰ªªÂä°Â∑≤ÁªèÂÆåÊàêÁöÑÈòüÂàóÂèëÈÄÅ‰∏Ä‰∏™‰ø°Âè∑# Queue.join() ÂÆûÈôÖ‰∏äÊÑèÂë≥ÁùÄÁ≠âÂà∞ÈòüÂàó‰∏∫Á©∫ÔºåÂÜçÊâßË°åÂà´ÁöÑÊìç‰Ωú urllib 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364&quot;&quot;&quot;urllib Â∫ìÁî®‰∫éÊìç‰ΩúÁΩëÈ°µ URLÔºåÂπ∂ÂØπÁΩëÈ°µÁöÑÂÜÖÂÆπËøõË°åÊäìÂèñÂ§ÑÁêÜ„ÄÇ&quot;&quot;&quot;# urllib.request - ÊâìÂºÄÂíåËØªÂèñ URL„ÄÇ# urllib.error - ÂåÖÂê´ urllib.request ÊäõÂá∫ÁöÑÂºÇÂ∏∏„ÄÇ# urllib.parse - Ëß£Êûê URL„ÄÇ# urllib.robotparser - Ëß£Êûê robots.txt Êñá‰ª∂# urllib.request.urlopen(url, data=None, [timeout, ]*, cafile=None, capath=None, cadefault=False, context=None)# urlÔºöurl Âú∞ÂùÄ„ÄÇ# dataÔºöÂèëÈÄÅÂà∞ÊúçÂä°Âô®ÁöÑÂÖ∂‰ªñÊï∞ÊçÆÂØπË±°ÔºåÈªòËÆ§‰∏∫ None„ÄÇ# timeoutÔºöËÆæÁΩÆËÆøÈóÆË∂ÖÊó∂Êó∂Èó¥„ÄÇ# cafile Âíå capathÔºöcafile ‰∏∫ CA ËØÅ‰π¶Ôºå capath ‰∏∫ CA ËØÅ‰π¶ÁöÑË∑ØÂæÑÔºå‰ΩøÁî® HTTPS ÈúÄË¶ÅÁî®Âà∞„ÄÇ# cadefaultÔºöÂ∑≤ÁªèË¢´ÂºÉÁî®„ÄÇ# contextÔºössl.SSLContextÁ±ªÂûãÔºåÁî®Êù•ÊåáÂÆö SSL ËÆæÁΩÆ„ÄÇfrom urllib.request import urlopenmyURL = urlopen(&quot;https://www.runoob.com/&quot;)print(myURL.read())print(myURL.read(600))print(myURL.readline())lines = myURL.readlines()for line in lines: print(line)print(myURL.getcode())f = open(&quot;runoob_urllib_test.html&quot;, &quot;wb&quot;)content = myURL.read() # ËØªÂèñÁΩëÈ°µÂÜÖÂÆπf.write(content)f.close()import urllib.requestencode_url = urllib.request.quote(&quot;https://www.runoob.com/&quot;) # ÁºñÁ†Åprint(encode_url)unencode_url = urllib.request.unquote(encode_url) # Ëß£Á†Åprint(unencode_url)# Ê®°ÊãüÂ§¥ÈÉ®‰ø°ÊÅØ# class urllib.request.Request(url, data=None, headers={}, origin_req_host=None, unverifiable=False, method=None)# urlÔºöurl Âú∞ÂùÄ„ÄÇ# dataÔºöÂèëÈÄÅÂà∞ÊúçÂä°Âô®ÁöÑÂÖ∂‰ªñÊï∞ÊçÆÂØπË±°ÔºåÈªòËÆ§‰∏∫ None„ÄÇ# headersÔºöHTTP ËØ∑Ê±ÇÁöÑÂ§¥ÈÉ®‰ø°ÊÅØÔºåÂ≠óÂÖ∏Ê†ºÂºè„ÄÇ# origin_req_hostÔºöËØ∑Ê±ÇÁöÑ‰∏ªÊú∫Âú∞ÂùÄÔºåIP ÊàñÂüüÂêç„ÄÇ# unverifiableÔºöÂæàÂ∞ëÁî®Êï¥‰∏™ÂèÇÊï∞ÔºåÁî®‰∫éËÆæÁΩÆÁΩëÈ°µÊòØÂê¶ÈúÄË¶ÅÈ™åËØÅÔºåÈªòËÆ§ÊòØFalse„ÄÇ„ÄÇ# methodÔºöËØ∑Ê±ÇÊñπÊ≥ïÔºå Â¶Ç GET„ÄÅPOST„ÄÅDELETE„ÄÅPUTÁ≠â„ÄÇimport urllib.parseurl = 'https://www.runoob.com/?s=' # ËèúÈ∏üÊïôÁ®ãÊêúÁ¥¢È°µÈù¢keyword = 'Python ÊïôÁ®ã'key_code = urllib.request.quote(keyword) # ÂØπËØ∑Ê±ÇËøõË°åÁºñÁ†Åurl_all = url+key_codeheader = { 'User-Agent':'Mozilla/5.0 (X11; Fedora; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/58.0.3029.110 Safari/537.36'} #Â§¥ÈÉ®‰ø°ÊÅØrequest = urllib.request.Request(url_all,headers=header)reponse = urllib.request.urlopen(request).read()fh = open(&quot;./urllib_test_runoob_search.html&quot;,&quot;wb&quot;) # Â∞ÜÊñá‰ª∂ÂÜôÂÖ•Âà∞ÂΩìÂâçÁõÆÂΩï‰∏≠fh.write(reponse)fh.close() XMLËß£Êûê 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143&quot;&quot;&quot;XMLËß£Êûê&quot;&quot;&quot;# SAX ÊòØ‰∏ÄÁßçÂü∫‰∫é‰∫ã‰ª∂È©±Âä®ÁöÑAPI„ÄÇ# Âà©Áî® SAX Ëß£Êûê XML ÊñáÊ°£ÁâµÊ∂âÂà∞‰∏§‰∏™ÈÉ®ÂàÜ: Ëß£ÊûêÂô®Âíå‰∫ã‰ª∂Â§ÑÁêÜÂô®„ÄÇ# Ëß£ÊûêÂô®Ë¥üË¥£ËØªÂèñ XML ÊñáÊ°£ÔºåÂπ∂Âêë‰∫ã‰ª∂Â§ÑÁêÜÂô®ÂèëÈÄÅ‰∫ã‰ª∂ÔºåÂ¶ÇÂÖÉÁ¥†ÂºÄÂßãË∑üÂÖÉÁ¥†ÁªìÊùü‰∫ã‰ª∂„ÄÇ# ËÄå‰∫ã‰ª∂Â§ÑÁêÜÂô®ÂàôË¥üË¥£ÂØπ‰∫ã‰ª∂‰ΩúÂá∫ÂìçÂ∫îÔºåÂØπ‰º†ÈÄíÁöÑ XML Êï∞ÊçÆËøõË°åÂ§ÑÁêÜ„ÄÇ# 1„ÄÅÂØπÂ§ßÂûãÊñá‰ª∂ËøõË°åÂ§ÑÁêÜÔºõ# 2„ÄÅÂè™ÈúÄË¶ÅÊñá‰ª∂ÁöÑÈÉ®ÂàÜÂÜÖÂÆπÔºåÊàñËÄÖÂè™ÈúÄ‰ªéÊñá‰ª∂‰∏≠ÂæóÂà∞ÁâπÂÆö‰ø°ÊÅØ„ÄÇ# 3„ÄÅÊÉ≥Âª∫Á´ãËá™Â∑±ÁöÑÂØπË±°Ê®°ÂûãÁöÑÊó∂ÂÄô„ÄÇ# Âú® Python ‰∏≠‰ΩøÁî® sax ÊñπÂºèÂ§ÑÁêÜ xml Ë¶ÅÂÖàÂºïÂÖ• xml.sax ‰∏≠ÁöÑ parse ÂáΩÊï∞ÔºåËøòÊúâ xml.sax.handler ‰∏≠ÁöÑ ContentHandler„ÄÇ# ContentHandler Á±ªÊñπÊ≥ï‰ªãÁªç# characters(content) ÊñπÊ≥ï# Ë∞ÉÁî®Êó∂Êú∫Ôºö# ‰ªéË°åÂºÄÂßãÔºåÈÅáÂà∞Ê†áÁ≠æ‰πãÂâçÔºåÂ≠òÂú®Â≠óÁ¨¶Ôºåcontent ÁöÑÂÄº‰∏∫Ëøô‰∫õÂ≠óÁ¨¶‰∏≤„ÄÇ# ‰ªé‰∏Ä‰∏™Ê†áÁ≠æÔºåÈÅáÂà∞‰∏ã‰∏Ä‰∏™Ê†áÁ≠æ‰πãÂâçÔºå Â≠òÂú®Â≠óÁ¨¶Ôºåcontent ÁöÑÂÄº‰∏∫Ëøô‰∫õÂ≠óÁ¨¶‰∏≤„ÄÇ# ‰ªé‰∏Ä‰∏™Ê†áÁ≠æÔºåÈÅáÂà∞Ë°åÁªìÊùüÁ¨¶‰πãÂâçÔºåÂ≠òÂú®Â≠óÁ¨¶Ôºåcontent ÁöÑÂÄº‰∏∫Ëøô‰∫õÂ≠óÁ¨¶‰∏≤„ÄÇ# Ê†áÁ≠æÂèØ‰ª•ÊòØÂºÄÂßãÊ†áÁ≠æÔºå‰πüÂèØ‰ª•ÊòØÁªìÊùüÊ†áÁ≠æ„ÄÇ# startDocument() ÊñπÊ≥ï# ÊñáÊ°£ÂêØÂä®ÁöÑÊó∂ÂÄôË∞ÉÁî®„ÄÇ# endDocument() ÊñπÊ≥ï# Ëß£ÊûêÂô®Âà∞ËææÊñáÊ°£ÁªìÂ∞æÊó∂Ë∞ÉÁî®„ÄÇ# startElement(name, attrs) ÊñπÊ≥ï# ÈÅáÂà∞XMLÂºÄÂßãÊ†áÁ≠æÊó∂Ë∞ÉÁî®Ôºåname ÊòØÊ†áÁ≠æÁöÑÂêçÂ≠óÔºåattrs ÊòØÊ†áÁ≠æÁöÑÂ±ûÊÄßÂÄºÂ≠óÂÖ∏„ÄÇ# endElement(name) ÊñπÊ≥ï# ÈÅáÂà∞XMLÁªìÊùüÊ†áÁ≠æÊó∂Ë∞ÉÁî®„ÄÇ# make_parser ÊñπÊ≥ï# ‰ª•‰∏ãÊñπÊ≥ïÂàõÂª∫‰∏Ä‰∏™Êñ∞ÁöÑËß£ÊûêÂô®ÂØπË±°Âπ∂ËøîÂõû„ÄÇ# xml.sax.make_parser( [parser_list] )# ÂèÇÊï∞ËØ¥Êòé:# parser_list - ÂèØÈÄâÂèÇÊï∞ÔºåËß£ÊûêÂô®ÂàóË°®# parser ÊñπÊ≥ï# ‰ª•‰∏ãÊñπÊ≥ïÂàõÂª∫‰∏Ä‰∏™ SAX Ëß£ÊûêÂô®Âπ∂Ëß£ÊûêxmlÊñáÊ°£Ôºö# xml.sax.parse( xmlfile, contenthandler[, errorhandler])# ÂèÇÊï∞ËØ¥Êòé:# xmlfile - xmlÊñá‰ª∂Âêç# contenthandler - ÂøÖÈ°ªÊòØ‰∏Ä‰∏™ ContentHandler ÁöÑÂØπË±°# errorhandler - Â¶ÇÊûúÊåáÂÆöËØ•ÂèÇÊï∞Ôºåerrorhandler ÂøÖÈ°ªÊòØ‰∏Ä‰∏™ SAX ErrorHandler ÂØπË±°# parseString ÊñπÊ≥ï# parseString ÊñπÊ≥ïÂàõÂª∫‰∏Ä‰∏™ XML Ëß£ÊûêÂô®Âπ∂Ëß£Êûê xml Â≠óÁ¨¶‰∏≤Ôºö# xml.sax.parseString(xmlstring, contenthandler[, errorhandler])# ÂèÇÊï∞ËØ¥Êòé:# xmlstring - xmlÂ≠óÁ¨¶‰∏≤# contenthandler - ÂøÖÈ°ªÊòØ‰∏Ä‰∏™ ContentHandler ÁöÑÂØπË±°# errorhandler - Â¶ÇÊûúÊåáÂÆöËØ•ÂèÇÊï∞Ôºåerrorhandler ÂøÖÈ°ªÊòØ‰∏Ä‰∏™ SAX ErrorHandlerÂØπË±°import xml.sax# from xml.dom.minidom import parse# import xml.dom.minidom# ‰ΩøÁî®xml.domËß£Êûêxml# Êñá‰ª∂ÂØπË±°Ê®°ÂûãÔºàDocument Object ModelÔºåÁÆÄÁß∞DOMÔºâÔºåÊòØW3CÁªÑÁªáÊé®ËçêÁöÑÂ§ÑÁêÜÂèØÊâ©Â±ïÁΩÆÊ†áËØ≠Ë®ÄÁöÑÊ†áÂáÜÁºñÁ®ãÊé•Âè£„ÄÇ# ‰∏Ä‰∏™ DOM ÁöÑËß£ÊûêÂô®Âú®Ëß£Êûê‰∏Ä‰∏™ XML ÊñáÊ°£Êó∂Ôºå‰∏ÄÊ¨°ÊÄßËØªÂèñÊï¥‰∏™ÊñáÊ°£ÔºåÊääÊñáÊ°£‰∏≠ÊâÄÊúâÂÖÉÁ¥†‰øùÂ≠òÂú®ÂÜÖÂ≠ò‰∏≠ÁöÑ‰∏Ä‰∏™Ê†ëÁªìÊûÑÈáåÔºå‰πãÂêé‰Ω†ÂèØ‰ª•Âà©Áî®DOM Êèê‰æõÁöÑ‰∏çÂêåÁöÑÂáΩÊï∞Êù•ËØªÂèñÊàñ‰øÆÊîπÊñáÊ°£ÁöÑÂÜÖÂÆπÂíåÁªìÊûÑÔºå‰πüÂèØ‰ª•Êää‰øÆÊîπËøáÁöÑÂÜÖÂÆπÂÜôÂÖ•xmlÊñá‰ª∂„ÄÇ# python‰∏≠Áî®xml.dom.minidomÊù•Ëß£ÊûêxmlÊñá‰ª∂# ‰ΩøÁî®minidomËß£ÊûêÂô®ÊâìÂºÄ XML ÊñáÊ°£# DOMTree = xml.dom.minidom.parse(&quot;movies.xml&quot;)# collection = DOMTree.documentElement# if collection.hasAttribute(&quot;shelf&quot;):# print (&quot;Root element : %s&quot; % collection.getAttribute(&quot;shelf&quot;))## # Âú®ÈõÜÂêà‰∏≠Ëé∑ÂèñÊâÄÊúâÁîµÂΩ±# movies = collection.getElementsByTagName(&quot;movie&quot;)## # ÊâìÂç∞ÊØèÈÉ®ÁîµÂΩ±ÁöÑËØ¶ÁªÜ‰ø°ÊÅØ# for movie in movies:# print (&quot;*****Movie*****&quot;)# if movie.hasAttribute(&quot;title&quot;):# print (&quot;Title: %s&quot; % movie.getAttribute(&quot;title&quot;))## type = movie.getElementsByTagName('type')[0]# print (&quot;Type: %s&quot; % type.childNodes[0].data)# format = movie.getElementsByTagName('format')[0]# print (&quot;Format: %s&quot; % format.childNodes[0].data)# rating = movie.getElementsByTagName('rating')[0]# print (&quot;Rating: %s&quot; % rating.childNodes[0].data)# description = movie.getElementsByTagName('description')[0]# print (&quot;Description: %s&quot; % description.childNodes[0].data)class MovieHandler(xml.sax.ContentHandler): def __init__(self): self.CurrentData = &quot;&quot; self.type = &quot;&quot; self.format = &quot;&quot; self.year = &quot;&quot; self.rating = &quot;&quot; self.stars = &quot;&quot; self.description = &quot;&quot; # ÂÖÉÁ¥†ÂºÄÂßãË∞ÉÁî® def startElement(self, tag, attributes): self.CurrentData = tag if tag == &quot;movie&quot;: print(&quot;*****Movie*****&quot;) title = attributes[&quot;title&quot;] print(&quot;Title:&quot;, title) # ÂÖÉÁ¥†ÁªìÊùüË∞ÉÁî® def endElement(self, tag): if self.CurrentData == &quot;type&quot;: print(&quot;Type:&quot;, self.type) elif self.CurrentData == &quot;format&quot;: print(&quot;Format:&quot;, self.format) elif self.CurrentData == &quot;year&quot;: print(&quot;Year:&quot;, self.year) elif self.CurrentData == &quot;rating&quot;: print(&quot;Rating:&quot;, self.rating) elif self.CurrentData == &quot;stars&quot;: print(&quot;Stars:&quot;, self.stars) elif self.CurrentData == &quot;description&quot;: print(&quot;Description:&quot;, self.description) self.CurrentData = &quot;&quot; # ËØªÂèñÂ≠óÁ¨¶Êó∂Ë∞ÉÁî® def characters(self, content): if self.CurrentData == &quot;type&quot;: self.type = content elif self.CurrentData == &quot;format&quot;: self.format = content elif self.CurrentData == &quot;year&quot;: self.year = content elif self.CurrentData == &quot;rating&quot;: self.rating = content elif self.CurrentData == &quot;stars&quot;: self.stars = content elif self.CurrentData == &quot;description&quot;: self.description = contentif (__name__ == &quot;__main__&quot;): # ÂàõÂª∫‰∏Ä‰∏™ XMLReader parser = xml.sax.make_parser() # ÂÖ≥Èó≠ÂëΩÂêçÁ©∫Èó¥ parser.setFeature(xml.sax.handler.feature_namespaces, 0) # ÈáçÂÜô ContextHandler Handler = MovieHandler() parser.setContentHandler(Handler) parser.parse(&quot;movies.xml&quot;) Â∫îÁî®È¢ÜÂüü Web and Internet Development Database Access Desktop GUIs Scientific &amp; Numeric Education Network Programming Software &amp; Game Development Áà¨Ëô´ WEBÂºÄÂèë ÂõæÂΩ¢Â§ÑÁêÜ Ê∑±Â∫¶Â≠¶‰π† Êï∞ÊçÆÂàÜÊûê","link":"/2021/05/31/Draft/2021/Python3%E5%AD%A6%E4%B9%A0/"},{"title":"ÂºÄÂèë‰øÆÁîµËÑë","text":"‰ªãÁªç Â∑•Ê¨≤ÂñÑÂÖ∂‰∫ãÔºåÂøÖÂÖàÂà©ÂÖ∂Âô®„ÄÇ---„ÄäËÆ∫ËØ≠¬∑Âç´ÁÅµÂÖ¨„Äã Á°¨ËΩØ‰ª∂ÂêÑÁßçÁü•ËØÜ Êñ∞Â≠¶ÂõõÈóÆ WHY„Äê‰∏éÂâç‰ª£‰ºòÂåñ‰∫Ü‰ªÄ‰πàÔºåÂº•Ë°•‰∫Ü‰ªÄ‰πàÁ©∫ÁôΩ„ÄëÔºö WHAT„ÄêÊ°ÜÊû∂ÔºåÊÄùÁª¥ÂØºÂõæÔºå‰∏ªÈ¢òÊ°ÜÊû∂„ÄëÔºö HOW„ÄêÂ¶Ç‰ΩïËÆ∞ÂøÜÔºåÂ≠¶‰π†ËµÑÊ∫ê„ÄëÔºö LEVEL„Äê‰∏çÊòØÊØè‰∏™ÈÉΩÂ≠¶Á≤æ„ÄëÔºö ËøõÂ∫¶Ôºö‰∏äÁØá „Äê„Äë Âø´Êü• ‰∏Ä„ÄÅÁ°¨‰ª∂ 1.‰∏ªÊùø ÂèÇÊï∞Ôºö 2.ÊòæÂç° 3.ÂÜÖÂ≠ò 4.Á°¨Áõò 5. ‰∫å„ÄÅÁ≥ªÁªü ‰∏â„ÄÅÂ∑•ÂÖ∑ CPU - Z Êü•ÁúãCPUÁ≠âÁõ∏ÂÖ≥‰ø°ÊÅØ AID64 Êü•ÁúãÂÖ®ÈÉ®ÁîµËÑëÁ°¨‰ª∂‰ø°ÊÅØ XTU ÊµãËØïÁ®≥ÂÆöÊÄß Âõõ„ÄÅÊúçÂä°Âô® ‰∫î„ÄÅ ÂºïÁî®Ôºö","link":"/2021/05/20/Draft/2021/%E5%BC%80%E5%8F%91%E4%BF%AE%E7%94%B5%E8%84%91/"},{"title":"‰ø°ÊÅØÁ≥ªÁªüÈ°πÁõÆÁÆ°ÁêÜÂ∏àËÆ∫ÊñáÊ®°Êùø","text":"Êû∂ÊûÑ ‰∏Ä„ÄÅÈ°πÁõÆËÉåÊôØ(È°πÁõÆÂü∫Êú¨ÊÉÖÂÜµ‰ªãÁªç„ÄÅÈ°πÁõÆÁâπÁÇπ„ÄÅË¶ÅËÆ∫Ëø∞ÁöÑËÆ∫ÁÇπ) ‰∫å„ÄÅÊèêÂá∫ËÆ∫ÁÇπ(ÊèèËø∞ÂØπ√ó√óÁÆ°ÁêÜÁöÑÈáçË¶ÅÊÄßÁöÑËÆ§ËØÜ) ‚Äã 2020Âπ¥6ÊúàÔºåÊàëÂèÇÂä†‰∫Ü‚ï≥‚ï≥Â∏ÇËµÑÊ∫êÂ±ÄÂèëËµ∑ÁöÑ‚ÄúÂüéÂ∏ÇÂ§ßËÑë‚Äù‰∏ÄÂú∞‰∏ÄÁ†ÅÂçèÂêåÂπ≥Âè∞Á≥ªÁªüÁöÑÂª∫ËÆæÂ∑•‰ΩúÔºåÊãÖ‰ªªÊâøÂª∫ÊñπÈ°πÁõÆÁªèÁêÜÔºåËØ•‰ø°ÊÅØÁªºÂêàÁÆ°ÁêÜÂπ≥Âè∞Á≥ªÁªüÁöÑ‰∏ªË¶ÅÊ®°ÂùóÂåÖÊã¨Âπ≥Âè∞Èó®Êà∑„ÄÅ‚ÄúÂ§öËßÑÂêà‰∏Ä‚Äù‰∏öÂä°ÂçèÂêåÁ≥ªÁªü‰ºòÂåñ„ÄÅË°åÊîøÂÆ°Êâπ‰∏öÂä°Êï¥Âêà„ÄÅÂúüÂú∞Á†ÅÂª∫ËÆæ„ÄÅÊï∞Â≠óÈ©æÈ©∂Ëà±ËßÑÂàíÂíåËá™ÁÑ∂ËµÑÊ∫êÁ≥ªÁªü„ÄÅÈ©æÈ©∂Ëà±ÊåáÊ†áÂ∫ìÂª∫ËÆæÁ≠â9‰∏™‰∏öÂä°ÁÆ°ÁêÜÊ®°ÂùóÔºåÂª∫ËÆæË¥πÁî®780‰∏á‰∫∫Ê∞ëÂ∏ÅÔºåËØ•È°πÁõÆ‰∫é2021Âπ¥6ÊúàÈÄöËøá‰∫Ü‰∏ö‰∏ªÊñπÁöÑÈ™åÊî∂‰∏äÁ∫øËøêË°åÂêé,Ëµ¢Âæó‰∫ÜÁî®Êà∑ÁöÑ‰∏ÄËá¥Â•ΩËØÑÔºå‰ΩøÈ°πÁõÆËé∑Âæó‰∫ÜÂúÜÊª°ÊàêÂäü„ÄÇÊú¨ÊñáÁªìÂêàÊàëÁöÑÂÆûÈôÖÁªèÈ™å,‰ª•ËØ•È°πÁõÆ‰∏∫‰æã,ËÆ®ËÆ∫‰∫Ü‰ø°ÊÅØÁ≥ªÁªüÈ°πÁõÆÂª∫ËÆæËøáÁ®ã‰∏≠ÁöÑXXÁÆ°ÁêÜ,‰∏ªË¶Å‰ªé‰ª•‰∏ãÂá†‰∏™ÊñπÈù¢ËøõË°å‰∫ÜÈòêËø∞:XXXXXÁ≠âËøáÁ®ãÂÜÖÂÆπÔºåÊúâÊïàÊèêÈ´ò‰∫ÜXXÁÆ°ÁêÜÊ∞¥Âπ≥ÔºåÊª°Ë∂≥‰∫ÜÈ°πÁõÆÂπ≤Á≥ª‰∫∫ÈúÄÊ±ÇÂíåÊúüÊúõ„ÄÇ ‚Äã 2018Âπ¥12ÊúàÔºå‚ÄúÂ§öËßÑÂêà‰∏Ä‚Äù‰∏öÂä°ÂçèÂêåÁ≥ªÁªü‰∏≠‚ÄúÂ§öËßÑÂÖ±‰∫´‚Äù„ÄÅ‚ÄúÈ°πÁõÆÁîüÊàê‚ÄùÁ≠âÊ®°Âùó‰∏∫ÂêÑÈÉ®Èó®Êèê‰æõ‰∫ÜÈùûÂ∏∏‰æøÊç∑ÂíåÂø´ÈÄüÁöÑÊúçÂä°ÔºåÂèñÂæó‰∫ÜËâØÂ•ΩÁöÑÊïàÁõä„ÄÇÈöèÁùÄÁ≥ªÁªüÂ∫îÁî®ÁöÑ‰∏çÊñ≠Ê∑±ÂÖ•ÔºåÁî®Êà∑ÂØπ‚ÄúÈ°πÁõÆÁîüÊàê‚ÄùÁ≠âÂ∫îÁî®Âú∫ÊôØÊèêÂá∫‰∫ÜÊõ¥È´òÁöÑ‰ΩøÁî®Ë¶ÅÊ±ÇÔºåÂ¶ÇÔºöÈ°πÁõÆÁ±ªÂûã„ÄÅ‰∏öÂä°Á±ªÂûãÁªÜÂåñ‰∏çË∂≥ÔºåÂØºËá¥Âú®ÂÆûÈôÖÂ∑•‰ΩúËøáÁ®ã‰∏≠Â≠òÂú®Áõ≤Âå∫ÔºåÂΩ±Âìç‰∫ÜÈÉ®ÂàÜÈ°πÁõÆÁöÑÊé®ËøõÁ≠â„ÄÇÂè¶‰∏ÄÊñπÈù¢ÔºåÈÉ®Èó®Âπ≥Âè∞ÂêÑËá™‰∏∫Êîø„ÄÅÁ≥ªÁªüÈó¥ÁöÑÊï∞ÊçÆÂ≠òÂú®Â£ÅÂûíÔºåÂØºËá¥Êó†Ê≥ïÊúâÊïàÁöÑËøõË°åÊï∞ÊçÆÂÖ±‰∫´ÔºåÊó†Ê≥ïÂÆûÁé∞È°πÁõÆÂÆ°ÊâπÂáèÊùêÊñô„ÄÅÂáèÊó∂Èó¥„ÄÅÂáèÁéØËäÇÔºåÊÄ•ÈúÄÂØπÂéüÁ≥ªÁªüÁöÑÂêÑÂ∫îÁî®Âú∫ÊôØËøõË°å‰ºòÂåñ„ÄÇÊù≠Â∑ûÂ∏ÇXXËµÑÊ∫êÂ±ÄÊàêÁ´ãÂêéÔºå‰∏∫Â∞ΩÂø´ËêΩÂÆûÊú∫ÊûÑÊîπÈù©Ë¶ÅÊ±ÇÔºåÈáäÊîæÊîπÈù©Á∫¢Âà©Ôºå‰ª•Ëá™ÁÑ∂ËµÑÊ∫ê‚Äú‰∏§Áªü‰∏Ä‚ÄùÂíå‰∏öÂä°ÈúÄÊ±Ç‰∏∫Ê†πÊú¨Âá∫ÂèëÁÇπÔºåËÅöÁÑ¶‰∏≠ÂøÉÂ∑•‰ΩúÔºåÁ´ãË∂≥Â∑≤ÊúâÂü∫Á°ÄÔºåÁªüÁ≠πÊï¥ÂêàÁé∞ÊúâËµÑÊ∫êÔºåÁßØÊûÅÂºÄÂ±ïÁ´ãË∂≥‚Äú‰∏ÄÂùóÂúüÂú∞‰∏Ä‰ª∂‰∫ã‚ÄùÂÖ®ÊúçÂä°Â∑•‰ΩúÔºåÁî±Ê≠§‰∏ÄÂú∞‰∏ÄÁ†ÅÂçèÂêåÂπ≥Âè∞Â∫îËøêËÄåÁîü„ÄÇËØ•È°πÁõÆÈááÁî®‰∫ÜÂÖ¨ÂºÄÊãõÊ†áÁöÑÊñπÂºèÔºåÊàëÂÖ¨Âè∏ÂèÇ‰∏é‰∫ÜÊäïÊ†áÂπ∂È°∫Âà©‰∏≠Ê†áÔºå‰∫é2020Âπ¥6ÊúàÁ≠æËÆ¢‰∫ÜÂêàÂêåÔºåÈöèÂêéÊàêÁ´ã‰∫Ü‰∏ìÈó®È°πÁõÆÂ∞èÁªÑÔºå‰ªªÂëΩÊàë‰∏∫È°πÁõÆÁªèÁêÜ„ÄÇÊàëÂÖ¨Âè∏ÁöÑÁªÑÁªáÊñπÂºè‰∏∫È°πÁõÆÂûãÔºåÈ°πÁõÆÊàêÂëòÁõ¥Êé•ÂΩíÂ±ûÈ°πÁõÆÁªèÁêÜÈ¢ÜÂØºÔºåÊàëÁªÑÊ†∏ÂøÉÊàêÂëòÂÖ±15‰∫∫„ÄÇËÄÉËôëÂà∞È°πÁõÆÁöÑÂ§çÊùÇÊÄß„ÄÅÂêÑÂå∫ÂéøÂú∞ÁêÜ‰ΩçÁΩÆ‰∏çÈõÜ‰∏≠Á≠âÂéüÂõ†ÔºåÁ≥ªÁªüÈááÁî®JAVAËØ≠Ë®ÄÂºÄÂèëÔºåÈ°πÁõÆÁªÑÂÜ≥ÂÆöÊ≠§È°πÁõÆÈááÁî®SSMÁöÑ‰∏âÂ±Çb/sÊû∂ÊûÑÊ®°ÂºèÔºåÂú∞ÂõæÂü∫‰∫éleafletÁöÑWebGISÂèØËßÜÂåñÔºåÊï∞ÊçÆÂ∫ì‰ΩøÁî®PostgresÔºåËøôÊ†∑ÁöÑËÆæËÆ°ÊúâÂà©‰∫éÂêéÊúüÁöÑÁª¥Êä§ÂèäÊâ©Â±ï„ÄÇÈ°πÁõÆÂÖ±ÂàÜ‰∏∫Êï∞Â≠óÈ©æÈ©∂Ëà±ËßÑÂàíÂíåËá™ÁÑ∂ËµÑÊ∫êÁ≥ªÁªü„ÄÅ‚Äú‰∏ÄÂú∞‰∏ÄÁ†Å‚ÄùÂçèÂêåÊúçÂä°Âπ≥Âè∞Á≠âÂ≠êÁ≥ªÁªü„ÄÇÁªèËøáÂÖ®ÁªÑÊàêÂëòÁöÑÂÖ±ÂêåÂä™ÂäõÔºåÈ°πÁõÆ‰∫é2021Âπ¥6ÊúàÈ°∫Âà©ÈÄöËøáÈ™åÊî∂ÔºåÁõÆÂâçËøêË°åÊÉÖÂÜµËâØÂ•Ω„ÄÇ ‚Äã Áî±‰∫éËØ•Á≥ªÁªüÂÖ∑ÊúâÂª∫ËÆæËßÑÊ®°Â§ßÔºàÊ∂µÁõñÁâ©‰ª∑ÈÉ®Èó®Âá†‰πéÊâÄÊúâ‰∏öÂä°ÔºâÔºåÂª∫ËÆæÊó∂Èó¥Á¥ßÔºàÂª∫ËÆæÊúüÈôê‰∏∫‰∏ÄÂπ¥ÔºâÔºåÊ∂âÂèäÁöÑÂπ≤Á≥ª‰∫∫Â§öÔºàÂÜÖÈÉ®Âπ≤Á≥ª‰∫∫ÂåÖÊã¨È°πÁõÆÁªÑÂêÑÁ±ªÊàêÂëò„ÄÅÂÖ¨Âè∏È¢ÜÂØºÂíåÁõ∏ÂÖ≥ÈÉ®Èó®‰∫∫ÂëòÔºåÂ§ñÈÉ®Âπ≤Á≥ª‰∫∫‰∏ç‰ªÖÂåÖÊã¨Â∏ÇÂ±ÄÂêÑÁßëÂÆ§Ôºå‰πüÂåÖÊã¨12‰∏™Âå∫ÂéøÁâ©‰ª∑Â±ÄÁöÑÁõ∏ÂÖ≥‰∫∫Âëò„ÄÅËøêËê•ÂïÜÁ≠âÔºâÔºåÂèÇ‰∏éÁöÑÈ°πÁõÆÊàêÂëòÂ§öÔºàÈ´òÂ≥∞Êó∂ËææÂà∞60‰∫∫ÔºåÊàëÂ∞ÜÂ∞èÁªÑÊàêÂëòÂàÜ‰∏∫Á°¨‰ª∂ÈõÜÊàêÈÉ®ÁΩ≤ÁªÑ„ÄÅÊï∞ÊçÆ‰∏≠ÂøÉÁªÑ„ÄÅËΩØ‰ª∂ÂºÄÂèëÁªÑ„ÄÅÂπ≥Âè∞ÊµãËØïÁªÑÔºàÂõõ‰∏™Â∞èÁªÑÔºâÔºåÂäüËÉΩÂ§çÊùÇÁ≠âÁâπÁÇπÔºå‰∏∫‰∫Ü‰øùËØÅÈ°πÁõÆÂúÜÊª°ÂÆåÊàêÔºåÊàëÁªÑÂª∫‰∫ÜÂº∫Áü©ÈòµÁöÑÈ°πÁõÆÁªÑÁªáÁªìÊûÑÔºåÈÄöËøáÊúâÊïàÁöÑÈ°πÁõÆÁÆ°ÁêÜÔºåÁâπÂà´ÊòØÂá∫Ëâ≤ÁöÑXXÁÆ°ÁêÜÔºåÂ∏¶È¢ÜÈ°πÁõÆÂõ¢ÈòüÂÖ®‰ΩìÊàêÂëòÁªèËøáÂ•ãÊàòËé∑Âæó‰∫ÜËâØÂ•ΩÁöÑÁª©ÊïàÔºåÂèñÂæó‰∫ÜÈ°πÁõÆÁöÑÊàêÂäü„ÄÇÊú¨ÊñáÂ∞ÜÂõ¥ÁªïËØ•È°πÁõÆÁöÑXXÁÆ°ÁêÜËøõË°åÈáçÁÇπËÆ®ËÆ∫„ÄÇ ‰∏â„ÄÅÊåâÁÖßÊâÄÊ∂âÂèäÁÆ°ÁêÜÈ¢ÜÂüüÁöÑËøáÁ®ãÂàÜÊÆµËøõË°åËÆ∫Ëø∞(ÂÖàÁªôÂá∫ÊØè‰∏™ËøáÁ®ãÁöÑÂÆö‰πâ„ÄÅËæìÂÖ•„ÄÅËæìÂá∫„ÄÅÂ∑•ÂÖ∑‰∏éÊñπÊ≥ïÔºåÂÜçÁªìÂêàÂÅöËøáÁöÑÈ°πÁõÆÊèèËø∞È°πÁõÆ‰∏≠ÊòØÂ¶Ç‰ΩïÂÅöÁöÑ) ‰∏Ä„ÄÅ ‰∫å„ÄÅ ‰∏â„ÄÅ Âõõ„ÄÅ ‰∫î„ÄÅ Âõõ„ÄÅÂ∞èÁªì(ÂØπ‰∏äÈù¢ÁöÑËÆ∫Ëø∞ËøõË°å‰∏Ä‰∏ãÂ∞èÁªì) ‰∫î„ÄÅÂàÜÊûêÈ°πÁõÆÂ≠òÂú®ÁöÑÈóÆÈ¢òÂèäÊîπËøõÁöÑÂª∫ËÆÆ(ÂÜôÂ§ü‰∏âÊù°Â∞±ÂèØ‰ª•‰∫Ü) ÂÖ≠„ÄÅÊÄªÁªì(‰∏ªË¶ÅÊòØÂÜôÈ°πÁõÆ‰Ωì‰ºöÔºåÊØîÂ¶ÇÈÄöËøáÈ°πÁõÆÂÆûÊñΩÔºåËá™Â∑±Ëá™ËßâÂ∫îÁî®È°πÁõÆÁÆ°ÁêÜÁü•ËØÜ„ÄÅÂ∑•ÂÖ∑„ÄÅÊäÄÊúØÔºåÂØπÊàêÂäüÂÆûÊñΩÈ°πÁõÆÊâÄËµ∑ÁöÑÁßØÊûÅ‰ΩúÁî®Á≠â)„ÄÇ ‚Äã ÁªèËøáÊàë‰ª¨Âõ¢Èòü‰∏çÊáàÁöÑÂä™ÂäõÔºåÂéÜÊó∂1 Âπ¥ÔºåÊú¨È°πÁõÆÁªà‰∫é‰∫é2021Âπ¥6ÊúàÔºåÈÄöËøá‰∫Ü‰∏ö‰∏ªÊñπÁªÑÁªáÁöÑÈ™åÊî∂ÔºåÂÆûÁé∞‰ªéËßÑÂàíÁºñÂà∂ÂíåÂÆûÊñΩ„ÄÅËµÑÊ∫ê‰øùÊä§ÂíåÂà©Áî®„ÄÅÁ°ÆÊùÉÁôªËÆ∞„ÄÅÂú∞ÁêÜËµÑÊ∫êÁ≠âÂ§öÊñπÈù¢ËøõË°å‰∏öÂä°ÂíåÊï∞ÊçÆÁöÑËûçÂêàÔºåÊ∂µÁõñ‰∫ÜËßÑËµÑÂ±ÄÁªü‰∏ÄË°å‰ΩøÂÖ®Ê∞ëÊâÄÊúâËá™ÁÑ∂ËµÑÊ∫êËµÑ‰∫ßÊâÄÊúâËÄÖËÅåË¥£ÔºåÁªü‰∏ÄË°å‰ΩøÊâÄÊúâÂõΩÂúüÁ©∫Èó¥Áî®ÈÄîÁÆ°Âà∂ÂíåÁîüÊÄÅ‰øùÊä§‰øÆÂ§çËÅåË¥£„ÄÇÈÄöËøáÈó®Êà∑‰∏≤ËÅî‚ÄúÂ§öËßÑÂêà‰∏Ä‚Äù‰∏öÂä°ÂçèÂêåÁ≥ªÁªü„ÄÅË°åÊîøÂÆ°ÊâπÁ≥ªÁªü„ÄÅ‰∏çÂä®‰∫ßÁôªËÆ∞Á≥ªÁªüÁ≠â‰∏âÂ§ßÁ≥ªÁªüÔºå‰ª•Ê®°ÂùóÂåñÂΩ¢ÂºèÔºåÊê≠Âª∫Â§öËßÑÂÖ±‰∫´„ÄÅÁºñÂà∂ÁªüÁ≠π„ÄÅÈ°πÁõÆÁîüÊàê„ÄÅÂÆûÊñΩÁõëÊµã„ÄÅÁ´ãÈ°πÁî®Âú∞ËßÑÂàíËÆ∏ÂèØ„ÄÅÂ∑•Á®ãËÆ∏ÂèØ„ÄÅÊñΩÂ∑•ËÆ∏ÂèØ„ÄÅÁ´£Â∑•È™åÊî∂„ÄÅÁ°ÆÊùÉÁôªËÆ∞Á≠â9‰∏™Â∫îÁî®Âú∫ÊôØ„ÄÇÊú¨È°πÁõÆÁöÑÊàêÂäüÂú®Êüê‰∫õÊñπÈù¢ÂæóÁõä‰∫éÊàëÊàêÂäüÁöÑxx ÁÆ°ÁêÜÔºåÂú®Ê≠§ÊàëÊÄªÁªì‰∏Ä‰∏ãÂá†Êù°ÁÆ°ÁêÜÁªèÈ™åÔºöÔºà1ÔºâÈáçËßÜÈ°πÁõÆÁöÑË∞ÉÁ†îÔºåÂÖÖÂàÜ‰∫ÜËß£È°πÁõÆÈúÄÊ±Ç‰∏éËåÉÂõ¥ÔºõÔºà2ÔºâÊ†ëÁ´ãÊ≠£Á°ÆÁöÑÊÄùÊÉ≥ÔºåÈááÁî®ÈÄÇÂΩìÁöÑÊñπÊ≥ï„ÄÅÈÅµÂæ™‰∏ÄÂÆöÁöÑÊµÅÁ®ãÔºå‰∏•Ê†ºÊåâÁÖßËøõÂ∫¶ÁÆ°ÁêÜÁöÑË¶ÅÊ±ÇÂÅöÂ•ΩÊ¥ªÂä®ÂÆö‰πâ„ÄÅÊ¥ªÂä®ÊéíÂ∫è„ÄÅÊ¥ªÂä®ÁöÑËµÑÊ∫ê‰º∞ÁÆó„ÄÅÊ¥ªÂä®ÁöÑÂéÜÊó∂‰º∞ÁÆó„ÄÅÁºñÂà∂ËøõÂ∫¶ËÆ°Âàí„ÄÅËøõÂ∫¶ÊéßÂà∂Â∑•‰ΩúÔºõÔºà3ÔºâÂª∫Á´ãÈóÆÈ¢òË∑üË∏™Êú∫Âà∂ÔºåÂØπÊØè‰∏™Èò∂ÊÆµÁöÑÈóÆÈ¢òËøõË°åËÆ∞ÂΩïÂíåË∑üË∏™ÔºåÂ∞ÜÊØè‰∏™ÈóÆÈ¢òËêΩÂÆûÂà∞ÂÖ∑‰ΩìË¥üË¥£‰∫∫„ÄÇ ‚Äã ÂΩìÁÑ∂ÔºåÂú®Êú¨È°πÁõÆ‰∏≠ÔºåËøòÊúâ‰∏Ä‰∫õ‰∏çË∂≥‰πãÂ§ÑÔºåÊØîÂ¶ÇÔºöÂú®È°πÁõÆÁöÑÂÆûÊñΩËøáÁ®ã‰∏≠ÔºåÁî±‰∫éÈ°πÁõÆÁªÑ2 ÂêçÊàêÂëòÂõ†‰∏∫Ëá™Ë∫´ÂéüÂõ†Á™ÅÁÑ∂Á¶ªËÅåÔºåÂØºËá¥È°πÁõÆÁöÑÂõ¢ÈòüÂª∫ËÆæÂá∫Áé∞‰∏Ä‰∫õÂ∞èÈóÆÈ¢òÔºåËøòÊúâÔºåÊõæÁªèÁî±‰∫éÁñ´ÊÉÖÂéüÂõ†ÂØºËá¥‰∏Ä‰ΩçÊäÄÊúØ‰∫∫ÂëòÂ±ÖÂÆ∂ÈöîÁ¶ªÂú®ÂÆ∂ÂäûÂÖ¨ÂΩ±Âìç‰∫Ü‰∫õÈ°πÁõÆËøõÂ∫¶Ôºå‰∏çËøáÔºåÁªèËøáÊàëÂêéÊúüÁöÑÁ∫†ÂÅèÔºåÂπ∂Ê≤°ÊúâÂØπÈ°πÁõÆ‰∫ßÁîü‰ªÄ‰πàÂΩ±Âìç„ÄÇÂú®ÂêéÁª≠ÁöÑÂ≠¶‰π†ÂíåÂ∑•‰Ωú‰∏≠ÔºåÊàëÂ∞Ü‰∏çÊñ≠ÁöÑÂÖÖÁîµÂ≠¶‰π†ÔºåÂíåÂêåË°åËøõË°å‰∫§ÊµÅÔºåÊèêÂçáËá™Â∑±ÁöÑ‰∏öÂä°ÂíåÁÆ°ÁêÜÊ∞¥Âπ≥ÔºåÂäõ‰∫â‰∏∫ÊàëÂõΩ‰ø°ÊÅØÂåñÂª∫ËÆæÂÅöÂá∫Ëá™Â∑±ÁöÑÂä™Âäõ„ÄÇ","link":"/2021/03/29/Draft/2021/%E9%A1%B9%E7%9B%AE%E7%AE%A1%E7%90%86%E8%AE%BA%E6%96%87%E6%A8%A1%E6%9D%BF/"},{"title":"‰ø°ÊÅØÁ≥ªÁªüÈ°πÁõÆÁÆ°ÁêÜÂ∏à","text":"Êñ∞Â≠¶ÂõõÈóÆ **WHY„Äê‰∏éÂâç‰ª£‰ºòÂåñ‰∫Ü‰ªÄ‰πàÔºåÂº•Ë°•‰∫Ü‰ªÄ‰πàÁ©∫ÁôΩ„ÄëÔºö**ÁÆ°ÁêÜÁü•ËØÜ„ÄÅËÅåÁß∞Á¶èÂà© **WHAT„ÄêÊ°ÜÊû∂ÔºåÊÄùÁª¥ÂØºÂõæÔºå‰∏ªÈ¢òÊ°ÜÊû∂„ÄëÔºö**ÊïôÊùêÂáÜÂ§á:ËßÜÈ¢ë‰∏ÄÂ•óÔºåÂéÜÂπ¥ÁúüÈ¢ò HOW„ÄêÂ¶Ç‰ΩïËÆ∞ÂøÜÔºåÂ≠¶‰π†ËµÑÊ∫ê„ÄëÔºöÂπ≥ÊùøÂÅöÁúüÈ¢òÔºåÊü•ÈòÖËÆ∞ÂΩïÈôåÁîüÊ¶ÇÂøµÔºåÁîµËÑëMarkdownËÆ∞‰∏ãÈáçË¶ÅÁ¨îËÆ∞ **LEVEL„Äê‰∏çÊòØÊØè‰∏™ÈÉΩÂ≠¶Á≤æ„ÄëÔºö**Â∫îËØïÂêéÂÆûË∑µ È°πÁõÆÁ§∫‰æãÔºöËøΩËÇñÂ∞èÂßêÁöÑÂ∑•Á®ã ÂáÜÂ§áÔºöÊ±üÂ±±ËÄÅÂ∏àÔºàËßÜÈ¢ëÔºâÔºåÂçÅÂ§ßÁÆ°ÁêÜÔºàÊâìÂç∞ÔºâÔºåÂéÜÂπ¥ÁúüÈ¢òÁ≠îÊ°àÔºàÔºâ ÊäÄÂ∑ßÔºöÂ§öÂè£ËØÄÔºå&quot;‰∏çÊã©ÊâãÊÆµËÆ∞ÂøÜ&quot;ÔºåËÆ∫ÊñáÂ≠óË¶ÅÁªÉÔºåÈîô‰∏çÊ∂ÇÔºåÂçÅÂ§ßÁÆ°ÁêÜË¶ÅÊªöÁìúÁÉÇÁÜüÔºåÈÄüÁúãËßÜÈ¢ëÔºåÈÄÇÂΩìÁ¨îËÆ∞ËÆ∞ÂøÜÔºåÂÅöÈ¢òÂØπÂ∫îÁªÜÂåñÔºåËÆ∫ÊñáÊèêÂâçÂáÜÂ§á ËÄÉËØïËÆ°ÂàíÔºö Êó∂Èó¥ÊÆµ 8.17-11.06Ôºà82ÔºâÂë®Êú´‰∏§Â§©„Äê‰∏ì‰∏öÁü•ËØÜÔºåËΩØËÄÉ„Äë Â∑•‰ΩúÊó•„Äê‰∏≠Âçà‰∏Ä‰∏™ÂçäÂ∞èÊó∂‰∏ì‰∏öÁü•ËØÜÔºå‰∏ãÁè≠7-9‰∏§‰∏™Â∞èÊó∂‰ª•‰∏äËΩØËÄÉ„Äë Èò∂ÊÆµ ËØ¶ÁªÜÊ≠•È™§ ÂÆåÊàêÊÉÖÂÜµ Áî®Êó∂ 8.17-9.15 ÂÆåÊàêÊâÄÊúâËßÜÈ¢ëÂπ∂Á¨îËÆ∞ÔºåËÉåËØµÂü∫Á°ÄÁü•ËØÜ„ÄêÈÄâÊã©ÔºåÊ°à‰æãÔºåËÆ°ÁÆóÔºåËÆ∫Êñá„Äë‰∏ìÈ°πÁ†îÁ©∂ 17„Äê2„Äë18„Äê1„Äë19„Äê„Äë20„Äê1„Äë21„Äê„Äë22„Äê„Äë23„Äê1„Äë24„Äê1„Äë25„Äê2„Äë26„Äê2„Äë27„Äê„Äë28„Äê1„Äë29„Äê„Äë30„Äê3„Äë31„Äê„Äë1„Äê2„Äë2„Äê2„Äë3„Äê2„Äë4„Äê„Äë5„Äê„Äë6„Äê3„Äë7„Äê2Âü∫Á°ÄÂçÅÂ§ßÁÆ°ÁêÜÂÆåÊàêÔºåÊ°à‰æã‰∏§ËäÇÔºåËÆ°ÁÆó‰∏§ËäÇ„Äë8„Äê3„Äë9„Äê3„ÄëÊ°à‰æãÂÆåÊàêÔºåËÆ°ÁÆóÂõõËäÇ10„ÄÅ13„Äê4ËÆ°ÁÆóÂÆå„Äë ÂÆåÊàê 9.15-9.30 16-18Âπ¥6Â•óÁúüÈ¢òÁ≤æÂÅöÂπ∂ÂàÜÁ±ªÊÄªÁªì Ôºà‰∏ÄÔºâ ÂÅöÁúüÈ¢òÂ•óÈ¢òÂπ≥ÊùøÊàñÊâìÂç∞ÔºåÂØπÂ∫îÂü∫Á°ÄÈÄüËßàÔºåÈáçÁÇπAnkiËÆ∞ÂøÜÔºåÈîôÈ¢òÂΩíÁªìÔºåËÆ∫ÊñáËØæÂºÄÂßã„ÄÇÈó≤Êó∂ËΩØ‰ª∂Âà∑È¢ò„ÄÇÊûÑÂª∫Áü•ËØÜÊ°ÜÊû∂„ÄÇ16Âπ¥‰πãÂâç20Â•óÁöÑÁõ¥Êé•ÁúãËß£ÊûêÔºåÈôåÁîüËÆ∞ÂΩï ‰∏âÂ§©‰∏ÄÂ•óÔºåÁü•ËØÜÁÇπAnki‰∏ÄÈÅçÂπ∂Ê∑ªÂä†ÔºåÁã†Ë°•Âü∫Á°Ä 16„Äê2005‰∏ä„Äë26„Äê2005‰∏ã„Äë 9.30-10.15 19Âπ¥2Â•óÁúüÈ¢òÁ≤æÂÅöÂπ∂ÂàÜÁ±ªÊÄªÁªì Ôºà‰∫åÔºâ Âêå‰∏äÔºåÂÆåÊàêÔºà‰∏ÄÔºâÊú™ÂÆåÊàêÁöÑ ÁúüÈ¢òÂ§ñÔºåËÆ∫ÊñáÊ°ÜÊû∂ÂáÜÂ§áÂπ∂ËÉåËØµ ÂÆåÊàê 10.15-10.30 20„ÄÅ21Âπ¥‰∏âÂ•óÁúüÈ¢òÂÆöÊó∂Âπ∂ÂàÜÁ±ªÊÄªÁªì Ôºà‰∏ÄÔºâ ÊÄªÁªìÔºåÊâÄÊúâÈîôÈ¢òÊéíÊü•ÔºåÊü•ÊºèË°•Áº∫ ‰∫îÂ§©Âë®Êú´‰∏ÄÊ¨°ÁúüÂÆûÊ®°ÊãüÔºåËÆ∫ÊñáÂÜôÂêéÊÄªÁªìÔºåÁªÉÁªÉÂ≠ó ÂÆåÊàê 10.30-11.05 ËÆ∫ÊñáÊ°ÜÊû∂Ê¢≥ÁêÜÔºåÊ®°ÊãüÁªÉÂ≠óÈÄüÂ∫¶ ËÄÉÂâçÂáÜÂ§áÔºàÂ∑•ÂÖ∑ÔºåËÄÉÂú∫ÔºåÊòØÂê¶ÁïôÂÆøÔºâ Âä†Ê≤πÔºÅ ÂÄíËÆ°Êó∂Ôºö3 ËÄÉËØï‰ªãÁªçÔºåÂ≠¶‰π†ÊñπÊ≥ïÔºåÈáçÈöæÁÇπÔºå10Â§ßÁü•ËØÜÂüüÊ¶ÇËø∞ ËÄÉËØï‰ªãÁªç ÈÄöËøáËÄÉËØïÁõ∏ÂΩì‰∫éÊãøÂà∞È´òÁ∫ßËÅåÁß∞ÔºåÈöæÂ∫¶‰∏äÂçàÂ§ß‰∫éËÆ∫ÊñáÂ§ß‰∫éÊ°à‰æã„ÄÇ ‰ΩúÁî® ÊñπÊ≥ï ËÅîÊÉ≥ËÆ∞ÂøÜÔºåÁü•ËØÜÊúØËØ≠Âì™‰∏™ÊùøÂùóÔºåÊùøÂùó‰∏ãÈÇ£‰∫õËøáÁ®ãÔºåËæìÂÖ•ËæìÂá∫Â∑•ÂÖ∑ÊäÄÊúØÔºåËÆ°ÁÆóÁõ∏ÂÖ≥ÔºåÈôåÁîüËØçÊ±á ÈáçËßÜÂü∫Á°ÄÔºà‰∏äÂçàÔºâÔºåËÄÉÂì™ÈáåÂ≠¶Âì™ÈáåÔºåÈáçËßÜÁúüÈ¢òÔºåË¥πÊõºÂ≠¶‰π†Ê≥ïÔºåËâæÂÆæÊµ©ÊñØËÆ∞ÂøÜÔºåÂà©Áî®Á¢éÁâáÊó∂Èó¥ÔºåËÄÉ‰∏äÂÜ≥ÂøÉÔºå2/8Ê≥ïÂàôÔºåPDCAÂæ™ÁéØÔºå‰∫∫Êú∫ÊñôÊ≥ïÁéØÔºåÊó†‰∫ã‰∏çÈ°πÁõÆÔºåÈîôÈ¢òÔºåÁü•ËØÜÁÇπANKIËÆ∞ÂΩïËÆ∞ÂøÜ ÁãóÔºàÊ≤üÈÄöÔºâÂ≠êÔºàË¥®ÈáèÔºâÊï¥ÔºàÊï¥‰ΩìÔºâËåÉÔºàËåÉÂõ¥ÔºâËøõÔºàËøõÂ∫¶ÔºâÔºåÊàêÔºàÊàêÊú¨Ôºâ‰∫∫Ôºà‰∫∫ÂäõËµÑÊ∫êÔºåÂπ≤Á≥ª‰∫∫ÔºâÈ£éÔºàÈ£éÈô©ÔºâÈááÔºàÈááË¥≠Ôºâ ‰ΩÇÂ∏ÜËøõÂüéÂøóÔºåÂäõÂ§üÈ£éÈááÂπ≤„ÄÇ ÊéåÁÆ°Ë¥®Ê£ÄËæπÁïåÔºåÈ¨ºÊøÄÈíâÂ®ÉÁº∫ÊÅêÔºåÈ¨ºÁÅ´ÁâåÂ≠êÁó¥ÊÅêÔºåÈ¨ºÊïÖÁã±ÊÅêÔºåÈ¨ºÈ£üÊÅêÔºåÈ¨ºÁ•ñËßÅÂÜ†ÔºåÈ¨ºÊ£∫Â≠îÔºåÈ¨ºÊó∂ÈÜí‰∏§Âò§Â≠îÔºåÈ¨ºËØÜÂ≠îÂßêÔºåËØÜÈ¨ºÊ£∫Â≠î Êï¥ Á´† ÁÆ° Êåá ÁõëÂèò Áªì ËåÉ ËßÑÈõÜÂÆöW Á°ÆÊéß Ëøõ ËßÑÊ¥ªÊéíËµÑÊåÅÂà∂ Êéß Êàê ËßÑ‰º∞È¢Ñ Êéß Ë¥® ËßÑ ÂÆû Êéß Âäõ ËßÑ ÁªÑÂª∫ÁÆ° Ê≤ü ËßÑ ÁÆ° Êéß È£é ËßÑËØÜÊÄßÈáèÂ∫î Êéß Èáá ËßÑÂÆû Êéß ¬∑¬∑¬∑Áªì ‰∫∫ ËØÜ ËßÑ ÁÆ° Êéß ÊâÄÊúâÁÆ°ÁêÜÁöÑÁªºÂêàÊÄßÁÆ°ÁêÜ ËÄÉÁÇπÈ¢òÂûãÔºåÂÖàÂÅöÈ¢òÂÜçÂØπÂ∫îÁúã‰π¶ÁªÜÂåñ ÈáçËßÜÂë®Êú´Â§ßÊÆµÊó∂Èó¥ ‰∏â‰ªé ‰ªéËøáÁ®ãÊÉ≥ÁªìÊûúÔºå‰ªéÁªìÊûúÁü•ËæìÂÖ•Ôºå‰ªéËæìÂÖ•ÈÄâÂ∑•ÂÖ∑ ÂõõÂæó ‰∏ÄÂæóÊñá‰ª∂ËÆ°ÂàíÔºõ‰∫åÂæóÊàêÊûúÊï∞ÊçÆÔºõ‰∏âÂæóÂèòÊõ¥ËØ∑Ê±ÇÔºõÂõõÁöÑÂõ†Á¥†ËµÑ‰∫ß ÂÖ±ÊÄßÊÄªÁªì 1„ÄÅ‰∏ä‰∏Ä‰∏™ËøáÁ®ãÁöÑËæìÂá∫Â§ßÈÉ®ÂàÜÊòØ‰∏ã‰∏Ä‰∏™ËøáÁ®ãÁöÑËæìÂÖ• 2„ÄÅËÆ°ÂàíÂíåÊñá‰ª∂ÊòØ‰∏ç‰∏ÄÊ†∑ÁöÑÔºàÊØè‰∏™ËæìÂÖ•ÈÉΩÊúâËÆ°ÂàíÂíåÊñá‰ª∂Ôºâ 3„ÄÅË¢´ÊâπÂáÜÁöÑÂèòÊõ¥ËØ∑Ê±ÇÁ∫¶Á≠â‰∫éËÆ°Âàí 4„ÄÅÂú®ÊâßË°åÂíåÁõëÊéßËøáÁ®ã‰∫ßÁîüÊñ∞ÁöÑÂèòÊõ¥ËØ∑Ê±ÇÔºàÂèòÊõ¥ËØ∑Ê±ÇÂåÖÊã¨Âèò‰ªÄ‰πàÂíåÊÄé‰πàÂèòÔºåËøôÊòØÂèòÊõ¥ËØ∑Ê±ÇÂíåÁ∫†Ê≠£„ÄÅÈ¢ÑÈò≤„ÄÅÁº∫Èô∑‰øÆÂ§çÁöÑÂÖ≥Á≥ªÔºâ 5„ÄÅÊâßË°åËøáÁ®ã‰∫ßÁîüÂ∑•‰ΩúÁª©ÊïàÊï∞ÊçÆ---Êï∞ÊçÆ+ËÉåÊôØÂú®ÁõëÊéßËøáÁ®ãÁªÑÊàê‰∏∫‰∫ÜÂ∑•‰ΩúÁª©Êïà‰ø°ÊÅØÁÑ∂ÂêéËæìÂá∫Â∑•‰ΩúÁª©ÊïàÊä•ÂëäÊ≥®ÊÑèÂ∑•‰ΩúÁª©ÊïàÊï∞ÊçÆÊòØÊâßË°åËøáÁ®ãÁöÑËæìÂá∫‚ÜíÈÇ£‰πàÂ∞±ÊòØÁõëÊéßÁöÑËæìÂÖ•‚ÜíÁõëÊéßÁöÑËæìÂá∫Â∞±Êàê‰∫ÜÂ∑•‰ΩúÁª©Êïà‰ø°ÊÅØ 6„ÄÅÈÄöËøáËøáÁ®ãÁöÑÂê´‰πâËÆ∞ÂøÜÊØè‰∏™ËøáÁ®ãÁªÑÊúÄ‰∏ªË¶ÅÁöÑÊàêÊûúÔºàËæìÂá∫ÔºâÔºÅ 7„ÄÅÁõëÊéßËøáÁ®ãÁªÑÊØè‰∏™ËøáÁ®ãÈÉΩÊúâËÆ°Âàí+Â∑•‰ΩúÁª©ÊïàÊä•ÂëäË¶ÅËÆ∞‰ΩèÊàëËØ¥ÁöÑÁõëÊéßÁöÑÈÇ£‰∫õÂéüÁêÜ Ë∑üË∏™ËøõÂ±ï‚ÜíÊãøÁùÄËÆ°ÂàíÁöÑËøôÊääÂ∞∫Â≠êÊµãÈáèÂÆûÈôÖÁöÑÂ∑•‰ΩúÁª©ÊïàÊä•Âëä‚ÜíÂÅèÂ∑ÆËÆ°ÁÆó‚ÜíÂÅèÂ∑ÆËØÑ‰º∞„ÄÅÂàÜÊûêÊòØÂê¶ÂèòÊõ¥‚ÜíÈ¢ÑÊµã‚ÜíË∂ãÂäøÂàÜÊûê 8„ÄÅÈ°πÁõÆÁÆ°ÁêÜËÆ°ÂàíÂíåÂÖ∂ÂÆÉÂ≠êËÆ°ÂàíÔºàËåÉÂõ¥ÁÆ°ÁêÜËÆ°Âàí„ÄÅËøõÂ∫¶ÁÆ°ÁêÜËÆ°Âàí„ÄÅË¥®ÈáèÁÆ°ÁêÜËÆ°ÂàíÁ≠âÔºâÂå∫Âà´ÂíåËÅîÁ≥ª‰∏ãÈù¢‰ª•È°πÁõÆÁÆ°ÁêÜËÆ°ÂàíÂíåÂÖ∂‰∏≠‰∏Ä‰∏™Â≠êËÆ°Âàí‰∏∫‰æãÂ≠êÊÄªÁªìËßÑÂæãÂ¶Ç‰∏ãÔºö‰∫ÜËß£ÂêéÂØπÂÖ∂ÂÆÉËøáÁ®ãÂ∏ÆÂä©ÁîöÂ§ö Ôºà1ÔºâÂΩìÂ≠êËÆ°ÂàíÊàñÂü∫ÂáÜÊòØ‰∏ªË¶ÅÁöÑËæìÂÖ•Êó∂‚Üí‰∏ìÈó®ÂàóÂá∫ÔºàÂ¶ÇÂÆö‰πâËåÉÂõ¥„ÄÅÊî∂ÈõÜÈúÄÊ±ÇÁ≠âËøáÁ®ãÔºâ Ôºà2ÔºâÂΩìÂ≠êËÆ°ÂàíÊàñÂü∫ÂáÜÊòØÈ¶ñÊ¨°ËæìÂá∫Êó∂‚Üí‰∏ìÈó®ÂàóÂá∫ÔºàÂ¶ÇËåÉÂõ¥ÁÆ°ÁêÜËÆ°ÂàíÔºâÔºå‰ª•ÂêéÁöÑËæìÂá∫ÈÉΩ‰ª•‚ÄúÈ°πÁõÆÁÆ°ÁêÜËÆ°ÂàíÊõ¥Êñ∞‚ÄùÁöÑÂΩ¢ÂºèÂá∫Áé∞ Ôºà3ÔºâÂ≠êËÆ°ÂàíÊàñÂü∫ÂáÜÊòØ‰Ωú‰∏∫ËæìÂá∫Êó∂ÂÄô‚ÜíÈ°πÁõÆÁÆ°ÁêÜËÆ°ÂàíÂ∞Ü‰Ωú‰∏∫ËæìÂÖ•ÔºàÂ¶ÇËßÑÂàíËåÉÂõ¥ÁÆ°ÁêÜÔºâ Ôºà4ÔºâÂØπÊéßÂà∂ËøáÁ®ãÁªÑÊù•ËØ¥ÔºåËæìÂÖ•ÂíåËæìÂá∫ÈÉΩÊòØÈ°πÁõÆÁÆ°ÁêÜËÆ°ÂàíËÄå‰∏çÊòØÂÖ∑‰ΩìÁöÑÂ≠êËÆ°Âàí ÈáçÁÇπÔºåÂçÅÂ§ßÁÆ°ÁêÜ 1.ËÆ∫ÊñáÂÜô‰ΩúÂü∫Êú¨‰ªãÁªç ‚Äã ‰∫åÈÄâ‰∏ÄÔºå‰∏§Â∞èÊó∂ÔºåÊ≥®ÊÑèÂÜôÂ≠óÊï¥Ê¥Å„ÄÇ2500Â∑¶Âè≥ ÊëòË¶Å300 Ê≠£Êñá2000„ÄÇ ‚Äã Â≠¶Â•ΩÁêÜËÆ∫ÔºåÂÜôÂ≠óÈÄüÂ∫¶Êï¥Ê¥ÅÔºåÂ§öÁúãËåÉÊñáÔºåÈÄâÂÆöÁ¥†ÊùêÔºåÂà´ÂÜôÂÖ∑‰ΩìÈ°πÁõÆÂêçÁß∞„ÄÇ 2.‰ø°ÊÅØÂåñ‰∏é‰ø°ÊÅØÁ≥ªÁªü„Äê23„Äë ÁΩëÁªú Áâ©Êï∞ÁΩë‰º†‰ºöË°®Â∫î OSI/RMÔºàOpen System Interconnection/Reference ModelÔºåÂºÄÊîæÁ≥ªÁªü‰∫íËøûÂèÇËÄÉÊ®°ÂûãÔºâ Áâ©ÁêÜÂ±ÇÔºöÊØîÁâπÔºå‰∏≤Ë°å‰º†Ëæì„ÄÇÊï∞ÊçÆÈìæË∑ØÂ±ÇÔºöÂ∏ß„ÄÇÁΩëÁªúÂ±ÇÔºöÂàÜÁªÑÔºåÂ§ÑÁêÜ‰∏éÂØªÂùÄÂíå‰º†ËæìÊúâÂÖ≥ÁöÑÁÆ°ÁêÜÈóÆÈ¢òÔºåÊèê‰æõÁÇπÂØπÁÇπÁöÑËøûÊé•„ÄÇ‰º†ËæìÂ±ÇÔºöÊä•ÊñáÔºåÂª∫Á´ã„ÄÅÁª¥Êä§ÂíåÊí§ÈîÄ‰º†ËæìËøûÊé•ÔºàÁ´ØÂØπÁ´ØÁöÑËøûÊé•ÔºâÔºåÂπ∂ËøõË°åÊµÅÈáèÊéßÂà∂ÂíåÂ∑ÆÈîôÊéßÂà∂„ÄÇ ÊµãËØïÔºåËΩØ‰ª∂ÈúÄÊ±ÇÔºåÁîüÂëΩÂë®ÊúüÔºåÈù¢ÂêëÂØπË±°Ôºå‰∏≠Èó¥‰ª∂ÔºåÊñ∞ÁΩëÁªúÊäÄÊúØ UMLÔºåÊµãËØï ÈáçÁÇπ Êñ∞‰∏Ä‰ª£‰ø°ÊÅØÊäÄÊúØÔºàËã±ËØ≠ÂçïËØçÔºâÔºåÁâ©ËÅîÁΩëÔºåÂ§ßÊï∞ÊçÆÔºå‰∫ëËÆ°ÁÆóÔºåÁßªÂä®‰∫íËÅîÁΩëÔºåÊô∫ÊÖßÂüéÂ∏ÇÔºå‰∫íËÅîÁΩë+Ôºà‰∫íËÅîÁΩë+ÂêÑÁßç‰º†ÁªüË°å‰∏öÔºâÔºåÊô∫ËÉΩÂà∂ÈÄ†2025ÔºåARÔºåVRÔºåAIÔºåÂå∫ÂùóÈìæÔºåÁâπÂà´ËÅîÁΩëÔºå5GÔºåÂçé‰∏∫È∏øËíôÈ∫íÈ∫üÔºå‰∏ÄÂ∏¶‰∏ÄË∑ØÔºå‰∏§ÂåñËûçÂêà ‰ø°ÊÅØÂÆâÂÖ®ÊäÄÊúØ 3.‰ø°ÊÅØÁ≥ªÁªüÈ°πÁõÆÁÆ°ÁêÜÂü∫Á°Ä È°πÁõÆÁâπÁÇπÔºöÔºà1Ôºâ‰∏¥Êó∂ÊÄßÔºöÊúâÊòéÁ°ÆÁöÑÂºÄÂßãÂíåÁªìÊùüÊó∂Èó¥„ÄÇ Ôºà2ÔºâÁã¨ÁâπÊÄßÔºö‰∏ñ‰∏äÊ≤°Êúâ‰∏§‰∏™ÂÆåÂÖ®Áõ∏ÂêåÁöÑÈ°πÁõÆ„ÄÇ Ôºà3ÔºâÊ∏êËøõÊòéÁªÜÊÄßÔºöÂâçÊúüÂè™ËÉΩÁ≤óÁï•ÂÆö‰πâÔºåÁÑ∂ÂêéÈÄêÊ∏êÊòéÊúó„ÄÅÂÆåÂñÑÂíåÁ≤æÁ°ÆÔºåËøô‰πüÂ∞±ÊÑèÂë≥ÁùÄÂèòÊõ¥‰∏çÂèØÈÅøÂÖçÔºåÊâÄ‰ª•Ë¶ÅÊéßÂà∂ÂèòÊõ¥„ÄÇ **È°πÁõÆÁöÑÁªÑÁªáÊñπÂºèÔºö**ËÅåËÉΩÂûã„ÄÅÈ°πÁõÆÂûã„ÄÅÁü©ÈòµÂûã 4.Á´ãÈ°πÁÆ°ÁêÜ 2 Ôºà‰∏Ä‰∏™È°πÁõÆ‰ªéÊèêÂá∫Áî≥ËØ∑Âà∞ÊâπÂáÜÁ´ãÈ°πÔºâÊãõÊäïÊ†áÔºåÂêàÂêåÔºåÈááË¥≠ È°πÁõÆÂª∫ËÆÆ‰π¶ÔºàÁ´ãÈ°πÁî≥ËØ∑)‰∏ªË¶ÅÂÜÖÂÆπÔºöÈ°πÁõÆÁöÑÂøÖË¶ÅÊÄß„ÄÅÈ°πÁõÆÁöÑÂ∏ÇÂú∫È¢ÑÊµã„ÄÅ‰∫ßÂìÅÊñπÊ°àÊàñÊúçÂä°ÁöÑÂ∏ÇÂú∫È¢ÑÊµã„ÄÅÈ°πÁõÆÂª∫ËÆæÂøÖÈúÄÁöÑÊù°‰ª∂Á≠â ËÆ°ÁÆó: Âà©Áéá Âà©ÁéáÊúâÂçïÂà©ÂíåÂ§çÂà©ÔºåÂçïÂà©ÊÅØ=Êú¨Èáë√óÂà©Áéá√óÊúüÈôêÔºåF=P√óÔºà1+iÔºân FÔºöÂ§çÂà©ÁªàÂÄº PÔºöÊú¨Èáë iÔºöÂà©Áéá NÔºöÂà©ÁéáËé∑ÂèñÊó∂Èó¥ÁöÑÊï¥Êï∞ÂÄç ÂáÄÁé∞ÂÄºÔºàNet Present ValueÔºåNPVÔºâ ÂáÄÁé∞ÂÄºÂ§ß‰∫éÈõ∂ÂàôÊñπÊ°àÂèØË°åÔºå‰∏îÂáÄÁé∞ÂÄºË∂äÂ§ßÔºåÊñπÊ°àË∂ä‰ºòÔºåÊäïËµÑÊïàÁõäË∂äÂ•Ω„ÄÇ NPV ÁöÑËÆ°ÁÆóÊ≠•È™§Â¶Ç‰∏ãÔºö Ôºà1ÔºâÊ†πÊçÆÈ°πÁõÆÁöÑËµÑÊú¨ÁªìÊûÑËÆæÂÆöÈ°πÁõÆÁöÑÊäòÁé∞Áéá„ÄÇ Ôºà2ÔºâËÆ°ÁÆóÊØèÂπ¥È°πÁõÆÁé∞ÈáëÊµÅÈáèÁöÑÂáÄÂÄº„ÄÇ Ôºà3ÔºâÊ†πÊçÆËÆæÂÆöÁöÑÊäòÁé∞ÁéáËÆ°ÁÆóÊØèÂπ¥ÁöÑÂáÄÁé∞ÂÄº„ÄÇ Ôºà4ÔºâÂ∞ÜÂáÄÁé∞ÂÄºÁ¥ØÂä†Ëµ∑Êù•„ÄÇ ÂáÄÁé∞ÂÄºÁéá ÂáÄÁé∞ÂÄºÁéáÔºàNPVRÔºâ=È°πÁõÆÁöÑÂáÄÁé∞ÂÄºÔºàNPVÔºâ/ÂéüÂßãÊäïËµÑÁöÑÁé∞ÂÄºÂêàËÆ° ÊäïËµÑÂõûÊî∂Êúü ÊãõÊ†á ÊãõÊ†áÔºàÊãõÊ†áÂÖ¨ÂëäÔºåÊãõÊ†áÊñá‰ª∂ÔºåÔºâ ‰∏≠Ê†áÈÄöÁü•‰π¶ÂèëÂá∫‰πãÊó•Ëµ∑‰∏âÂçÅÊó•ÂÜÖÂ∫îÂΩìÁ≠æËÆ¢ÂêàÂêåÔºåÊà™Ê≠¢Êó∂Èó¥15Êó•ÂâçËøõË°åÂøÖË¶ÅÁöÑÊæÑÊ∏ÖÊàñËÄÖ‰øÆÊîπÔºåÊãõÊ†á‰∫∫Â∫îÂΩìÁ°ÆÂÆöÊäïÊ†á‰∫∫ÁºñÂà∂ÊäïÊ†áÊñá‰ª∂ÊâÄÈúÄË¶ÅÁöÑÂêàÁêÜÊó∂Èó¥„ÄÇ‰ΩÜÊòØÔºå‰æùÊ≥ïÂøÖÈ°ªËøõË°åÊãõÊ†áÁöÑÈ°πÁõÆÔºåËá™ÊãõÊ†áÊñá‰ª∂ÂºÄÂßãÂèëÂá∫‰πãÊó•Ëµ∑Ëá≥ÊäïÊ†á‰∫∫Êèê‰∫§ÊäïÊ†áÊñá‰ª∂Êà™Ê≠¢‰πãÊó•Ê≠¢ÔºåÊúÄÁü≠‰∏çÂæóÂ∞ë‰∫é20Êó•„ÄÇ ÊäïÊ†á ÊäïÊ†á‰∫∫Â∞ë‰∫é‰∏â‰∏™ÁöÑÔºåÊãõÊ†á‰∫∫Â∫îÂΩìÈáçÊñ∞ÊãõÊ†á„ÄÇÂú®ÊãõÊ†áÊñá‰ª∂Ë¶ÅÊ±ÇÊèê‰∫§ÊäïÊ†áÊñá‰ª∂ÁöÑÊà™Ê≠¢Êó∂Èó¥ÂêéÈÄÅËææÁöÑÊäïÊ†áÊñá‰ª∂ÔºåÊãõÊ†á‰∫∫Â∫îÂΩìÊãíÊî∂„ÄÇ ÂºÄÊ†á ÂºÄÊ†áÂ∫îÂΩìÂú®ÊãõÊ†áÊñá‰ª∂Á°ÆÂÆöÁöÑÊèê‰∫§ÊäïÊ†áÊñá‰ª∂Êà™Ê≠¢Êó∂Èó¥ÁöÑÂêå‰∏ÄÊó∂Èó¥ÂÖ¨ÂºÄËøõË°å„ÄÇÂºÄÊ†áÂú∞ÁÇπÂ∫îÂΩì‰∏∫ÊãõÊ†áÊñá‰ª∂‰∏≠È¢ÑÂÖàÁ°ÆÂÆöÁöÑÂú∞ÁÇπ„ÄÇÂºÄÊ†áÁî±ÊãõÊ†á‰∫∫‰∏ªÊåÅÔºåÈÇÄËØ∑ÊâÄÊúâÊäïÊ†á‰∫∫ÂèÇÂä†„ÄÇ ËØÑÊ†á ËØÑÊ†áÂßîÂëò‰ºöÁî±ÊãõÊ†á‰∫∫ÁöÑ‰ª£Ë°®ÂíåÊúâÂÖ≥ÊäÄÊúØ„ÄÅÁªèÊµéÁ≠âÊñπÈù¢ÁöÑ‰∏ìÂÆ∂ÁªÑÊàêÔºåÊàêÂëò‰∫∫Êï∞‰∏∫5‰∫∫‰ª•‰∏äÂçïÊï∞ÔºåÂÖ∂‰∏≠ÊäÄÊúØ„ÄÅÁªèÊµéÁ≠âÊñπÈù¢ÁöÑ‰∏ìÂÆ∂‰∏çÂæóÂ∞ë‰∫éÊàêÂëòÊÄªÊï∞ÁöÑ‰∏âÂàÜ‰πã‰∫å„ÄÇ ‰∏≠Ê†á ‰∏≠Ê†áÈÄöÁü•‰π¶ÂèëÂá∫ÂêéÔºåÊãõÊ†á‰∫∫ÊîπÂèò‰∏≠Ê†áÁªìÊûúÁöÑÔºåÊàñËÄÖ‰∏≠Ê†á‰∫∫ÊîæÂºÉ‰∏≠Ê†áÈ°πÁõÆÁöÑÔºåÂ∫îÂΩì‰æùÊ≥ïÊâøÊãÖÊ≥ïÂæãË¥£‰ªª„ÄÇ ÂêàÂêå ÂàÜÁ±ªÔºö ËåÉÂõ¥ÔºöÈ°πÁõÆÊÄªÊâøÂåÖÂêàÂêå„ÄÅÈ°πÁõÆÂçïÈ°πÊâøÂåÖÂêàÂêå„ÄÅÈ°πÁõÆÂàÜÂåÖÂêàÂêå„ÄÇ ‰ªòÊ¨æÊñπÂºèÔºöÈ°πÁõÆÊÄª‰ª∑ÂêàÂêå„ÄÅÈ°πÁõÆÂçï‰ª∑ÂêàÂêå„ÄÅÈ°πÁõÆÊàêÊú¨Âä†ÈÖ¨ÈáëÂêàÂêå ÂêàÂêåÁöÑ‰∏ªË¶ÅÂÜÖÂÆπÂåÖÊã¨ÔºöÈ°πÁõÆÂêçÁß∞ÔºõÊ†áÁöÑÂÜÖÂÆπÂíåËåÉÂõ¥ÔºõÈ°πÁõÆÁöÑË¥®ÈáèË¶ÅÊ±ÇÔºöÈÄöÂ∏∏ÊÉÖÂÜµ‰∏ãÈááÁî®ÊäÄÊúØÊåáÊ†áÈôêÂÆöÁ≠âÂêÑÁßçÊñπÂºèÊù•ÊèèËø∞‰ø°ÊÅØÁ≥ªÁªüÂ∑•Á®ãÁöÑÊï¥‰ΩìË¥®ÈáèÊ†áÂáÜ‰ª•ÂèäÂêÑÈÉ®ÂàÜË¥®ÈáèÊ†áÂáÜÔºåÂÆÉÊòØÂà§Êñ≠Êï¥‰∏™Â∑•Á®ãÈ°πÁõÆÊàêË¥•ÁöÑÈáçË¶Å‰æùÊçÆÔºõÈ°πÁõÆÁöÑËÆ°Âàí„ÄÅËøõÂ∫¶„ÄÅÂú∞ÁÇπ„ÄÅÂú∞ÂüüÂíåÊñπÂºèÔºõÈ°πÁõÆÂª∫ËÆæËøáÁ®ã‰∏≠ÁöÑÂêÑÁßçÊúüÈôêÔºõÊäÄÊúØÊÉÖÊä•ÂíåËµÑÊñôÁöÑ‰øùÂØÜÔºõÈ£éÈô©Ë¥£‰ªªÁöÑÊâøÊãÖÔºõÊäÄÊúØÊàêÊûúÁöÑÂΩíÂ±ûÔºõÈ™åÊî∂ÁöÑÊ†áÂáÜÂíåÊñπÊ≥ïÔºõ‰ª∑Ê¨æ„ÄÅÊä•ÈÖ¨ÔºàÊàñ‰ΩøÁî®Ë¥πÔºâÂèäÂÖ∂ÊîØ‰ªòÊñπÂºèÔºõËøùÁ∫¶ÈáëÊàñËÄÖÊçüÂ§±ËµîÂÅøÁöÑËÆ°ÁÆóÊñπÊ≥ïÔºõËß£ÂÜ≥‰∫âËÆÆÁöÑÊñπÊ≥ïÔºöËØ•Êù°Ê¨æ‰∏≠Â∫îÂ∞ΩÂèØËÉΩÂú∞ÊòéÁ°ÆÂú®Âá∫Áé∞‰∫âËÆÆ‰∏éÁ∫†Á∫∑Êó∂ÈááÂèñ‰ΩïÁßçÊñπÂºèÊù•ÂçèÂïÜËß£ÂÜ≥ÔºõÂêçËØçÊúØËØ≠Ëß£ÈáäÁ≠â 8.Êï¥‰ΩìÁÆ°ÁêÜ ITO ITO ÂêçÁß∞ÂèäÂÆö‰πâ ËæìÂÖ• Â∑•ÂÖ∑ÊäÄÊúØ ËæìÂá∫ È°πÁõÆÁ´†Á®ã Ê≠£ÂºèÊâπÂáÜ‰∏Ä‰∏™È°πÁõÆÁöÑÊñáÊ°£ÔºåÂà∂ÂÆöÈ°πÁõÆÁöÑÂ§¥ÔºàÈ°πÁõÆÁªèÁêÜÔºâ È°πÁõÆÂ∑•‰ΩúËØ¥Êòé‰π¶ÂïÜ‰∏öËÆ∫ËØÅÂçèËÆÆ‰∫ã‰∏öÁéØÂ¢ÉÂõ†Á¥†ÁªÑÁªáËøáÁ®ãËµÑ‰∫ß ‰∏ìÂÆ∂Âà§Êñ≠ÂºïÂØºÊäÄÊúØ È°πÁõÆÁ´†Á®ã Âà∂ÂÆöÈ°πÁõÆÁÆ°ÁêÜËÆ°Âàí ÂåÖÊã¨ÂÆö‰πâ„ÄÅÂáÜÂ§áÂíåÂçèË∞ÉÊâÄÊúâÊûÑÊàêËÆ°ÂàíÔºåÂΩ¢ÊàêÈ°πÁõÆÁÆ°ÁêÜËÆ°ÂàíÊâÄÂøÖË¶ÅÁöÑË°åÂä® È°πÁõÆÁ´†Á®ãÂÖ∂‰ªñËøáÁ®ãËæìÂÖ•„ÄêÈ°πÁõÆÂàùÊ≠•ËåÉÂõ¥ËØ¥Êòé‰π¶ÔºåÁÆ°ÁêÜËøáÁ®ãÔºåÈ¢ÑÊµãÔºåÂ∑•‰ΩúÁª©Êïà‰ø°ÊÅØ„Äë‰∫ã‰∏öÁéØÂ¢ÉÂõ†Á¥†ÁªÑÁªáËøáÁ®ãËµÑ‰∫ß ‰∏ìÂÆ∂Âà§Êñ≠ÂºïÂØºÊäÄÊúØ È°πÁõÆÁÆ°ÁêÜËÆ°Âàí ÊåáÂØº‰∏éÁÆ°ÁêÜÈ°πÁõÆÂ∑•‰Ωú ÊèêÊÑèËßÅÔºåËÆ∞ËÄÉÊ†∏ÔºåÂÅö‰∏úË•ø È°πÁõÆÁÆ°ÁêÜËÆ°ÂàíÔºåÊâπÂáÜÁöÑÂèòÊõ¥ËØ∑Ê±ÇÔºå‰∫ã‰∏öÁéØÂ¢ÉÂõ†Á¥†ÔºåÁªÑÁªáËøáÁ®ãËµÑ‰∫ß ‰∏ìÂÆ∂Âà§Êñ≠È°πÁõÆÁÆ°ÁêÜ‰ø°ÊÅØÁ≥ªÁªü‰ºöËÆÆ ÂèØ‰∫§‰ªòÊàêÊûúÂ∑•‰ΩúÁª©ÊïàÊï∞ÊçÆÂèòÊõ¥ËØ∑Ê±ÇÈ°πÁõÆÁÆ°ÁêÜËÆ°ÂàíÊõ¥Êñ∞È°πÁõÆÊñá‰ª∂Êõ¥Êñ∞ ÁõëÊéßÈ°πÁõÆÂ∑•‰Ωú ‰ªéÈ°πÁõÆÂºÄÂßãÂà∞ÁªìÊùüÔºåÊî∂ÈõÜÔºåÊµãÈáèÂèëÂ∏ÉÁª©Êïà‰ø°ÊÅØÔºåÂèäËØÑ‰º∞‰ºöÂΩ±ÂìçËøáÁ®ãÊîπËøõÁöÑÂ∫¶ÈáèÈ°πÂíåË∂ãÂäø È°πÁõÆÁÆ°ÁêÜËÆ°Âàí‰∫ã‰∏öÁéØÂ¢ÉÂõ†Á¥†ÁªÑÁªáËøáÁ®ãËµÑ‰∫ßËøõÂ∫¶È¢ÑÊµãÊàêÊú¨È¢ÑÊµãÁ°ÆËÆ§ÁöÑÂèòÊõ¥Â∑•‰ΩúÁª©Êïà‰ø°ÊÅØ ‰∏ìÂÆ∂Âà§Êñ≠ÂàÜÊûêÊäÄÊúØÈ°πÁõÆÁÆ°ÁêÜ‰ø°ÊÅØÁ≥ªÁªü„ÄêPMIS„Äë‰ºöËÆÆ ÂèòÊõ¥ËØ∑Ê±ÇÂ∑•‰ΩúÁª©ÊïàÊä•ÂëäÈ°πÁõÆÁÆ°ÁêÜËÆ°ÂàíÊõ¥Êñ∞È°πÁõÆÊñá‰ª∂Êõ¥Êñ∞ ÂÆûÊñΩÊï¥‰ΩìÂèòÊõ¥ÊéßÂà∂ ÂÆ°ÊâπÂèòÊõ¥ÔºåÈ°πÁõÆÁªèÁêÜ‰ªòÊúÄÁªàË¥£‰ªª ÂèòÊõ¥ËØ∑Ê±ÇÔºåÂ∑•‰ΩúÁª©ÊïàÊä•ÂëäÔºåÂèòÊõ¥ËØ∑Ê±ÇÔºåÈ°πÁõÆÁÆ°ÁêÜËÆ°ÂàíÔºå‰∫ã‰∏öÁéØÂ¢ÉÂõ†Á¥†ÔºåÁªÑÁªáËøáÁ®ãËµÑ‰∫ß ‰∏ìÂÆ∂Âà§Êñ≠‰ºöËÆÆÂèòÊõ¥ÊéßÂà∂Â∑•ÂÖ∑ ÊâπÂáÜÁöÑÂèòÊõ¥ËØ∑Ê±ÇÂèòÊõ¥Êó•ÂøóÈ°πÁõÆÁÆ°ÁêÜËÆ°ÂàíÊõ¥Êñ∞È°πÁõÆÊñá‰ª∂Êõ¥Êñ∞ È°πÁõÆÊî∂Â∞æ ÊâìÂåÖ‰∫§Ë¥ß È°πÁõÆÁÆ°ÁêÜËÆ°ÂàíÈ™åÊî∂ÁöÑÂèØ‰∫§‰ªòÊàêÊûúÁªÑÁªáËøáÁ®ãËµÑ‰∫ß ‰∏ìÂÆ∂Âà§Êñ≠ÂàÜÊûêÊäÄÊúØ‰ºöËÆÆ ÊúÄÁªà‰∫ßÂìÅ„ÄÅÊúçÂä°ÊàñÊàêÊûúÁßª‰∫§ÁªÑÁªáËøáÁ®ãËµÑ‰∫ßÊõ¥Êñ∞ 9.ËåÉÂõ¥ÁÆ°ÁêÜ ITO ITO ÂêçÁß∞ÂèäÂÆö‰πâ ËæìÂÖ• Â∑•ÂÖ∑ÊäÄÊúØ ËæìÂá∫ 10.ËøõÂ∫¶ÁÆ°ÁêÜ ITO ITO ÂêçÁß∞ÂèäÂÆö‰πâ ËæìÂÖ• Â∑•ÂÖ∑ÊäÄÊúØ ËæìÂá∫ 11.ÊàêÊú¨ÁÆ°ÁêÜ ITO ITO ÂêçÁß∞ÂèäÂÆö‰πâ ËæìÂÖ• Â∑•ÂÖ∑ÊäÄÊúØ ËæìÂá∫ Êå£ÂÄºÂàÜÊûêËÆ°ÁÆó 12.Ë¥®ÈáèÁÆ°ÁêÜ ITO ITO ÂêçÁß∞ÂèäÂÆö‰πâ ËæìÂÖ• Â∑•ÂÖ∑ÊäÄÊúØ ËæìÂá∫ 13.‰∫∫ÂäõËµÑÊ∫êÁÆ°ÁêÜ ITO ITO ÂêçÁß∞ÂèäÂÆö‰πâ ËæìÂÖ• Â∑•ÂÖ∑ÊäÄÊúØ ËæìÂá∫ 14.Âπ≤Á≥ª‰∫∫ÁÆ°ÁêÜ ITO ITO ÂêçÁß∞ÂèäÂÆö‰πâ ËæìÂÖ• Â∑•ÂÖ∑ÊäÄÊúØ ËæìÂá∫ 15.Ê≤üÈÄöÁÆ°ÁêÜ ITO ITO ÂêçÁß∞ÂèäÂÆö‰πâ ËæìÂÖ• Â∑•ÂÖ∑ÊäÄÊúØ ËæìÂá∫ 16.È£éÈô©ÁÆ°ÁêÜ ITO ITO ÂêçÁß∞ÂèäÂÆö‰πâ ËæìÂÖ• Â∑•ÂÖ∑ÊäÄÊúØ ËæìÂá∫ 17.ÈááË¥≠ÁÆ°ÁêÜ ITO ITO ÂêçÁß∞ÂèäÂÆö‰πâ ËæìÂÖ• Â∑•ÂÖ∑ÊäÄÊúØ ËæìÂá∫ PPTÂä†ÊòüÁúã‰∫ÜÂ∞±ÂèØ‰ª•‰∫Ü 18.ÂêàÂêåÁÆ°ÁêÜ ‰∏äÂçà‰∏ÄÂàÜ ÂêàÂêåÁöÑÂàÜÁ±ª 19.‰ø°ÊÅØÊñáÊ°£ÂíåÈÖçÁΩÆÁÆ°ÁêÜ ‰∏äÂçà2ÂàÜ ÊñáÊ°£ÂàÜÁ±ªÔºàÂºÄÂèëÔºå‰∫ßÂìÅÔºåÁÆ°ÁêÜÔºâ ‰∏äÂçà‰∏ÄËà¨‰∏âÂàÜ 20.20-28Á´† Áü•ËØÜÁÆ°ÁêÜ ÊòæÊÄßÁü•ËØÜÔºåÈöêÊÄßÁü•ËØÜ,ÈöêÊÄßÁü•ËØÜÂàÜ‰∫´ÈÄîÁªèÔºåÁü•ËØÜ‰∫ßÊùÉ‰øùÊä§ÔºåËΩØ‰ª∂Ëëó‰ΩúÊùÉ ÊàòÁï•ÁÆ°ÁêÜ ÁªÑÁªáÊàòÁï•Âõ†Á¥†ÁªÑÊàêÔºåÊàòÁï•ÂÆûÊñΩÔºåÁ±ªÂûãÂ±ÇÊ¨°ÔºåÂπ≥Ë°°ËÆ°ÂàÜÂç° ÁªÑÁªáÁ∫ßÈ°πÁõÆÁÆ°ÁêÜ ÊµÅÁ®ãÁÆ°ÁêÜ È°πÁõÆÈõÜÔºåÈ°πÁõÆÁªÑÂêàÁÆ°ÁêÜ ‰ø°ÊÅØÂÆâÂÖ®ÁÆ°ÁêÜ ÁªºÂêàÊµãËØïÁÆ°ÁêÜ„ÄÅÈáèÂåñÈ°πÁõÆÁÆ°ÁêÜÔºåÊàêÁÜüÂ∫¶Ê®°Âûã CMMIÔºàËÉΩÂäõÊàêÁÜüÂ∫¶Ê®°ÂûãÔºâ„ÄÅ Ê≥ïÂæãÊ≥ïËßÑ ÂêàÂêåÊ≥ï 1 ÂêàÂêåÂÜÖÂÆπÔºåË¶ÅÁ∫¶ÔºåÊ†áÁöÑÔºåÊ†ºÂºèÔºàÈùûÊ†ºÂºè„ÄêÊâãÂÜô„ÄëÔºâÊù°Ê¨æÔºåËøùÂøÉÂêàÂêåÔºå ÊãõÊ†áÊ≥ï 1 ÂøÖÈ°ªËøõË°åÊãõÊ†áÁöÑÈ°πÁõÆ„ÄÅÊ†áÂ∫ïÔºàÂøÖÈ°ª‰øùÂØÜÔºâ Ëëó‰ΩúÊùÉÊ≥ï ÊîøÂ∫úÈááË¥≠Ê≥ï 2 Â∏∏Áî®ÊäÄÊúØÊ†áÂáÜ 2-3 ËΩØ‰ª∂Â∑•Á®ãÂõΩÂÆ∂Ê†áÂáÜGB/T11457-2006ÔºàÂÆ°ËÆ°-‰ª£Á†ÅÂÆ°ËÆ∞-ÈÖçÁΩÆÂÆ°ËÆ°-ËÆ§ËØÅ-Ëµ∞Êü•-Èâ¥ÂÆö-Âü∫Á∫ø-ÈÖçÁΩÆÊéßÂà∂ÂßîÂëò‰ºö-ÈÖçÁΩÆÁä∂ÊÄÅÊä•Âëä-ËÆæËÆ°ËØÑÂÆ°-Ê°åÈù¢Ê£ÄÊü•-ËØÑ‰ª∑-ÊïÖÈöú-ÂäüËÉΩÈÖçÁΩÆÂÆ°ËÆ°Ôºâ ËΩØ‰ª∂ÁîüÂ≠òÂë®ÊúüÁöÑËøáÁ®ãÔºåËΩØ‰ª∂ÁîüÂëΩÂë®ÊúüÂêÑÈò∂ÊÆµ‰∏éËΩØ‰ª∂ÊñáÊ°£ÁºñÂà∂Â∑•‰ΩúÁöÑÂÖ≥Á≥ªÔºåÂêÑÁ±ª‰∫∫Âëò‰∏éËΩØ‰ª∂ÊñáÊ°£ÁöÑ‰ΩøÁî®ÂÖ≥Á≥ªÔºåËΩØ‰ª∂‰∫ßÂìÅË¥®ÈáèÔºå6‰∏™Ë¥®ÈáèÁâπÊÄß21‰∏™Ë¥®ÈáèÂ≠êÁâπÊÄß Ê°à‰æãÂàÜÊûê ‰∫îÁßçÈ¢òÂûã ÈóÆÁ≠îÈ¢òÔºåËÆ°ÁÆóÈ¢òÔºåÂàÜÊûêÈ¢òÔºåÁêÜËÆ∫È¢òÔºåÂ°´Á©∫ÔºåÈÄâÊã©ÔºåÂà§Êñ≠È¢ò ÂàÜÊûêÈ¢ò ÂõûÁ≠îÁÆÄÁªÉÔºåÊñáÂ≠óÂ∑•Êï¥Ê∏ÖÊô∞ÔºåÁ≠îÈ¢òÊúâÂ∫èÔºåÂ§öÂÜô‰∏çÊâ£ÂàÜÔºå‰∏ì‰∏öÂåñ ‰∏áÈáëÊ≤πÔºö ÊäÄÊúØÂá∫Ë∫´ÔºöÂºÄÂèëÂíåÁÆ°ÁêÜÊâÄÈúÄÊäÄËÉΩ‰∏çÂêåÔºåÈúÄË¶ÅÂüπËÆ≠ Ë∫´ÂÖºÊï∞ËÅåÔºöÂØºËá¥Ê≤°Êó∂Èó¥ÂéªÂ≠¶‰π†ÁÆ°ÁêÜÁü•ËØÜÔºåÂ∑•‰ΩúË¥üËç∑ËøáËΩΩÔºåË∫´ÂøÉÁñ≤ÊÉ´ÔºåÂÖ®Â±ÄÂΩ±Âìç Êñ∞ÊäÄÊúØÔºöÈ£éÈô©ÔºåÈúÄÂüπËÆ≠ÔºåÂ≠¶‰π†ÔºåÁõëÊéßÊäÄÊúØÈ£éÈô©ÔºåÊâæÂà∞ÂêàÈÄÇÁöÑ‰∫∫ÔºåÂÆûÂú®‰∏çË°åÂ§ñÂåÖ Êúâ‰∫∫ÂØπÈ°πÁõÆ‰∏çÊª°ÊÑèÔºöÁÆÄÂéÜÊúâÊïàÊ≤üÈÄöÊú∫Âà∂ÊñπÂºèÂèëÊ≥ïÔºåÁº∫‰πèÊúâÊïàÁöÑÈ°πÁõÆÁª©ÊïàÁÆ°ÁêÜÊú∫Âà∂ÔºåÈúÄÂä†Âº∫Ê≤üÈÄö ÂèòÊõ¥Ôºö‰π¶Èù¢Áî≥ËØ∑ÔºåÂÆ°ÊâπÁ°ÆËÆ§ÔºåË∑üË∏™ÂèòÊõ¥Áº∫‰∏Ä‰∏çÂèØ ÂÆ¢Êà∑È™åÊî∂‰∏çÈÄöËøáÔºöËØ¥ÊòéÈ™åÊî∂Ê†áÂáÜÊ≤°ÊúâÂæóÂà∞ËÆ§ÂèØÁ°ÆËÆ§ÔºåÊ≤°ÊúâÈ™åÊî∂ÊµãËØïËßÑËåÉÂíåÊñπÊ≥ï ÊÑö‰∫∫ÊúâÂÖ≥ÈóÆÈ¢òÔºöÊ≤üÈÄö‰∏çÂà∞‰Ωç Ëøá‰∏ÄÊÆµÊó∂Èó¥ÊâçÂèëÁé∞ÈóÆÈ¢òÔºöÁõëÊéß‰∏çÂäõ ÈáåÁ®ãÁ¢ëÔºåÊó∂Èó¥Á¥ß‰øÉÔºöÊ≤°ÊúâÂÜó‰ΩôËÄÉËôëÈ£éÈô©ÁöÑÊÉ≥Ê≥ï Â§ñÈÉ®Âõ†Á¥†ÂØºËá¥Âª∂Â∑•ÔºöÊ≤°ÊúâËÄÉËôëÂ§ñÂú®Âõ†Á¥†ÂΩ±ÂìçÔºåÂèòÊõ¥5‰∏™ÁêÜÁî± ‰∫âÊâßÔºöÊ≤üÈÄöÈóÆÈ¢òÔºåËÆ°Âàí‰∏çÂ§üÂë®Êòé Â§öÂ§¥Ê±áÊä•ÔºöÈ°πÁõÆÁ´†Á®ãÔºåÂ§öÂ§¥Ê±áÊä•ÂØºËá¥‰ø°ÊÅØÊ≤üÈÄö‰∏çÁïÖÈÄöÊàñ‰∫ßÁîüÂÜ≤Á™Å Áü•ËØÜÁÇπ Â¶Ç‰ΩïÁº©Áü≠Ê¥ªÂä®ÁöÑÂ∑•ÊúüÔºåÊàêÊú¨ÊéßÂà∂ÔºåË¥®ÈáèÊñ∞ËÄÅ7Â∑•ÂÖ∑ÔºåÊèêÂçáÈ°πÁõÆË¥®ÈáèÔºå Á≠îÈ¢òÂÖ≥ÈîÆËØç Êñ∞‰∫∫ÔºöÂüπËÆ≠ Âπ∂Ë°åÂ∑•‰ΩúÔºöÊúâÈ£éÈô© ÂÆ¢Êà∑Ë¶ÅÊ±ÇÈÉΩÁ≠îÂ∫îÔºö Âè£Â§¥Ôºö‰π¶Èù¢ Â§áÂøòÂΩïÔºöÈÖçÁΩÆÁÆ°ÁêÜ ÈÉ®ÂàÜ‰∫∫ÔºöÂÖ®ÂëòÂèÇ‰∏é ÂºÄ‰ºöÂæà‰πÖÔºöÊïàÁéá‰Ωé‰∏ã ÂΩìÂú∫‰øÆÊîπÔºåËÉΩÊîπÂ∞±ÊîπÔºöÂèòÊõ¥ÁõëÊéßÂàÜÊûêËÆ∞ÂΩï ÊñáÊ°£ÈÖçÁΩÆÁÆ°ÁêÜ ‰∫∫ÂëòÁ¶ªËÅåÔºöABÊÄùÊÉ≥ÔºåÈ£éÈô© ÊÄª‰ª∑ÂêàÂêåÔºö‰πôÊñπÈ£éÈô©Â§™Â§ß ÂâçÊúüÈúÄÊ±ÇË∞ÉÁ†î‰∏çÂÖÖÂàÜÔºö ËÆ°ÁÆó ËøõÂ∫¶Á±ª EV„ÄÅAC„ÄÅPVÈúÄÈ™åÁÆóÁ°Æ‰øùÂêéÈù¢‰∏çÈîô„ÄÇ ÁÆ°ÁêÜÂÇ®Â§á‰∏çËÆ°ÂÖ•Êå£ÂÄºÂíåÂü∫ÂáÜÔºå‰ΩÜÊòØÊÄªÈ¢ÑÁÆó‰∏ÄÈÉ®ÂàÜ„ÄÇ Ê≥®ÊÑèÂÆ°È¢òÔºåÊó∂Èó¥ÂíåÂçï‰Ωç„ÄÇ ÊÄªÊó∂Â∑Æ ÊòØÊåáÂú®‰∏çÂª∂ËØØÈ°πÁõÆÂÆåÊàêÊó•ÊúüÊàñËøùÂèçËøõÂ∫¶Âõ†Á¥†ÁöÑÂâçÊèê‰∏ãÔºåÊüêÊ¥ªÂä®ÂèØ‰ª•Êé®ËøüÁöÑÊó∂Èó¥„ÄÇ ÊÄªÊó∂Â∑Æ=LS-ES=LF-EF Ëá™Áî±Êó∂Â∑Æ ÊòØÊåáÂú®‰∏çÂΩ±ÂìçÁ¥ßÂêéÊ¥ªÂä®ÊúÄÊó©ÂºÄÂßãÁöÑÊÉÖÂÜµ‰∏ãÔºåÂΩìÂâçÊ¥ªÂä®ÂèØ‰ª•Êé®ËøüÁöÑÊó∂Èó¥„ÄÇ Ëá™Áî±Êó∂Â∑Æ=(Âêé‰∏ÄÊ¥ªÂä®)ES-(Ââç‰∏ÄÊ¥ªÂä®ÁöÑ)EF ÊâÄ‰ª•ÊÄªÊó∂Â∑ÆÂΩ±ÂìçÊÄªÂ∑•ÊúüÔºåËá™Áî±Êó∂Â∑ÆÂΩ±ÂìçÁ¥ßÂêéÊ¥ªÂä®„ÄÇ Ôºà1ÔºâÊÄªÊó∂Â∑ÆÔºàTFÔºâÔºöÂΩì‰∏ÄÈ°πÊ¥ªÂä®ÁöÑÊúÄÊó©ÂºÄÂßãÊó∂Èó¥ÂíåÊúÄËøüÂºÄÂßãÊó∂Èó¥‰∏çÁõ∏ÂêåÊó∂ÔºåÂÆÉ‰ª¨‰πãÈó¥ÁöÑÂ∑ÆÂÄºÊòØËØ•Â∑•‰ΩúÁöÑÊÄªÊó∂Â∑Æ„ÄÇËÆ°ÁÆóÂÖ¨ÂºèÊòØÔºöTF=LS-ES„ÄÇ Ôºà2ÔºâËá™Áî±Êó∂Â∑ÆÔºàFFÔºâÔºöÂú®‰∏çÂΩ±ÂìçÁ¥ßÂêéÊ¥ªÂä®ÂÆåÊàêÊó∂Èó¥ÁöÑÊù°‰ª∂‰∏ãÔºå‰∏ÄÈ°πÊ¥ªÂä®ÂèØËÉΩË¢´Âª∂ËøüÁöÑÊó∂Èó¥ÊòØËØ•È°πÊ¥ªÂä®ÁöÑËá™Áî±Êó∂Â∑ÆÔºåÂÆÉÁî±ËØ•È°πÊ¥ªÂä®ÁöÑÊúÄÊó©ÂÆåÊàêÊó∂Èó¥EFÂíåÂÆÉÁöÑÁ¥ßÂêéÊ¥ªÂä®ÁöÑÊúÄÊó©ÂºÄÂßãÊó∂Èó¥ÂÜ≥ÂÆöÁöÑ„ÄÇËÆ°ÁÆóÂÖ¨ÂºèÊòØÔºöFF=min{Á¥ßÂêéÊ¥ªÂä®ÁöÑES}-EF„ÄÇ Ôºà3ÔºâÂÖ≥ÈîÆË∑ØÂæÑ„ÄÇÈ°πÁõÆÁöÑÂÖ≥ÈîÆË∑ØÂæÑÊòØÊåáËÉΩÂ§üÂÜ≥ÂÆöÈ°πÁõÆÊúÄÊó©ÂÆåÊàêÊó∂Èó¥ÁöÑ‰∏ÄÁ≥ªÂàóÊ¥ªÂä®„ÄÇÂÆÉÊòØÁΩëÁªúÂõæ‰∏≠ÁöÑÊúÄÈïøË∑ØÂæÑÔºåÂÖ∑ÊúâÊúÄÂ∞ëÁöÑÊó∂Â∑Æ„ÄÇÂú®ÂÆûÈôÖÊ±ÇÂÖ≥ÈîÆË∑ØÂæÑÊó∂Ôºå‰∏ÄËà¨ÁöÑÊñπÊ≥ïÊòØÁúãÂì™‰∫õÊ¥ªÂä®ÁöÑÊÄªÊó∂Â∑Æ‰∏∫0ÔºåÊÄªÊó∂Â∑Æ‰∏∫0ÁöÑÊ¥ªÂä®Áß∞‰∏∫ÂÖ≥ÈîÆÊ¥ªÂä®ÔºåÂÖ≥ÈîÆÊ¥ªÂä®ÁªÑÊàêÁöÑË∑ØÂæÑÁß∞‰∏∫ÂÖ≥ÈîÆË∑ØÂæÑ„ÄÇ Â∞ΩÁÆ°ÂÖ≥ÈîÆË∑ØÂæÑÊòØÊúÄÈïøÁöÑË∑ØÂæÑÔºå‰ΩÜÂÆÉ‰ª£Ë°®‰∫ÜÂÆåÊàêÈ°πÁõÆÊâÄÈúÄÁöÑÊúÄÁü≠Êó∂Èó¥„ÄÇÂõ†Ê≠§ÔºåÂÖ≥ÈîÆË∑ØÂæÑ‰∏äÂêÑÊ¥ªÂä®ÊåÅÁª≠Êó∂Èó¥ÔºàÂéÜÊó∂ÔºâÁöÑÂíåÂ∞±ÊòØÈ°πÁõÆÁöÑËÆ°ÁÆóÂ∑•Êúü„ÄÇ ÊúÄÊó©ÂºÄÂßãÊó∂Èó¥ÔºàESÔºâÔºö ‰∏ÄÈ°πÊ¥ªÂä®ÁöÑÊúÄÊó©ÂºÄÂßãÊó∂Èó¥ÂèñÂÜ≥‰∫éÂÆÉÁöÑÊâÄÊúâÁ¥ßÂâçÊ¥ªÂä®ÁöÑÂÆåÊàêÊó∂Èó¥„ÄÇÈÄöËøáËÆ°ÁÆóÂà∞ËØ•Ê¥ªÂä®Ë∑ØÂæÑ‰∏äÊâÄÊúâÊ¥ªÂä®ÁöÑÂÆåÊàêÊó∂Èó¥ÁöÑÂíåÔºåÂèØÂæóÂà∞ÊåáÂÆöÊ¥ªÂä®ÁöÑES„ÄÇÂ¶ÇÊûúÊúâÂ§öÊù°Ë∑ØÂæÑÊåáÂêëÊ≠§Ê¥ªÂä®ÔºåÂàôËÆ°ÁÆóÈúÄË¶ÅÊó∂Èó¥ÊúÄÈïøÁöÑÈÇ£Êù°Ë∑ØÂæÑÔºåÂç≥ES=max{Á¥ßÂâçÊ¥ªÂä®ÁöÑEF}„ÄÇ ÊúÄÊó©ÁªìÊùüÊó∂Èó¥ÔºàEFÔºâÔºö ‰∏ÄÈ°πÊ¥ªÂä®ÁöÑÊúÄÊó©ÂÆåÊàêÊó∂Èó¥ÂèñÂÜ≥‰∫éËØ•Â∑•‰ΩúÁöÑÊúÄÊó©ÂºÄÂßãÊó∂Èó¥ÂíåÂÆÉÁöÑÊåÅÁª≠Êó∂Èó¥ÔºàDÔºâÔºåÂç≥EF=ES+D„ÄÇ ÊúÄÊôöÁªìÊùüÊó∂Èó¥ÔºàLFÔºâÔºö Âú®‰∏çÂΩ±ÂìçÈ°πÁõÆÂÆåÊàêÊó∂Èó¥ÁöÑÊù°‰ª∂‰∏ãÔºå‰∏ÄÈ°πÊ¥ªÂä®ÂèØËÉΩÂÆåÊàêÁöÑÊúÄËøüÊó∂Èó¥„ÄÇËÆ°ÁÆóÂÖ¨ÂºèÊòØÔºöLF=min{Á¥ßÂêéÊ¥ªÂä®ÁöÑLS}„ÄÇ ÊúÄÊôöÂºÄÂßãÊó∂Èó¥ÔºàLSÔºâÔºö Âú®‰∏çÂΩ±ÂìçÈ°πÁõÆÂÆåÊàêÊó∂Èó¥ÁöÑÊù°‰ª∂‰∏ãÔºå‰∏ÄÈ°πÊ¥ªÂä®ÂèØËÉΩÂºÄÂßãÁöÑÊúÄÊôöÊó∂Èó¥„ÄÇËÆ°ÁÆóÂÖ¨ÂºèÊòØÔºöLS=LF-D„ÄÇ ÂâçÊé®Ê≥ïÊù•ËÆ°ÁÆóÊúÄÊó©Êó∂Èó¥ Êüê‰∏ÄÊ¥ªÂä®ÁöÑÊúÄÊó©ÂºÄÂßãÊó∂Èó¥ÔºàESÔºâ=ÊåáÂêëÂÆÉÁöÑÊâÄÊúâÁ¥ßÂâçÊ¥ªÂä®ÁöÑÊúÄÊó©ÁªìÊùüÊó∂Èó¥ÁöÑÊúÄÂ§ßÂÄº„ÄÇ Êüê‰∏ÄÊ¥ªÂä®ÁöÑÊúÄÊó©ÁªìÊùüÊó∂Èó¥ÔºàEFÔºâ=ES+TÔºà‰Ωú‰∏öÊó∂Èó¥Ôºâ ÈÄÜÊé®Ê≥ïÊù•ËÆ°ÁÆóÊúÄËøüÊó∂Èó¥ Êüê‰∏ÄÊ¥ªÂä®ÁöÑÊúÄËøüÁªìÊùüÊó∂Èó¥ÔºàLFÔºâ=ÊåáÂêëÂÆÉÁöÑÊâÄÊúâÁ¥ßÂêéÊ¥ªÂä®ÁöÑÊúÄËøüÂºÄÂßãÊó∂Èó¥ÁöÑÊúÄÂ∞èÂÄº„ÄÇ Êüê‰∏ÄÊ¥ªÂä®ÁöÑÊúÄËøüÂºÄÂßãÊó∂Èó¥ÔºàLSÔºâ=LF-TÔºà‰Ωú‰∏öÊó∂Èó¥Ôºâ ËÆ°ÁÆóÂÖ≥ÈîÆË∑ØÂæÑÁöÑÊ≠•È™§ **1. Áî®ÊúâÊñπÂêëÁöÑÁ∫øÊÆµÊ†áÂá∫ÂêÑÁªìÁÇπÁöÑÁ¥ßÂâçÊ¥ªÂä®ÂíåÁ¥ßÂêéÊ¥ªÂä®ÁöÑÂÖ≥Á≥ªÔºå‰Ωø‰πãÊàê‰∏∫‰∏Ä‰∏™ÊúâÊñπÂêëÁöÑÁΩëÁªúÂõæÔºàPDMÔºâ \\2. Áî®Ê≠£Êé®ÂíåÈÄÜÊé®Ê≥ïËÆ°ÁÆóÂá∫ÂêÑ‰∏™Ê¥ªÂä®ÁöÑES,LS, EF, LFÔºåÂπ∂ËÆ°ÁÆóÂá∫ÂêÑ‰∏™Ê¥ªÂä®ÁöÑËá™Áî±Êó∂Â∑Æ„ÄÇÊâæÂá∫ÊâÄÊúâÊÄªÊó∂Â∑Æ‰∏∫Èõ∂Êàñ‰∏∫Ë¥üÁöÑÊ¥ªÂä®ÔºåÂ∞±ÊòØÂÖ≥ÈîÆÊ¥ªÂä® \\3. ÂÖ≥ÈîÆË∑ØÂæÑ‰∏äÁöÑÊ¥ªÂä®ÊåÅÁª≠Êó∂Èó¥ÂÜ≥ÂÆö‰∫ÜÈ°πÁõÆÁöÑÂ∑•ÊúüÔºåÊÄªÂíåÂ∞±ÊòØÈ°πÁõÆÂ∑•Êúü„ÄÇ **Ëá™Áî±Êó∂Â∑Æ ** ËÆ°ÁÆóÂÖ¨ÂºèÔºö Ëá™Áî±Êó∂Â∑Æ=ÊâÄÊúâÁ¥ßÂêéÂ∑•‰Ωú‰∏≠ÊúÄÊó©ÂºÄÂßãÊó∂Èó¥ÊúÄÂ∞èÂÄºÔºç ÊúÄÊó©ÁªìÊùüÊó∂Èó¥ **ÊÄªÊó∂Â∑Æ ** ËÆ°ÁÆóÂÖ¨ÂºèÔºö ÊÄªÊó∂Â∑Æ=ÊúÄËøüÂºÄÂßãÊó∂Èó¥-ÊúÄÊó©ÂºÄÂßãÊó∂Èó¥=ÊúÄËøüÁªìÊùüÊó∂Èó¥-ÊúÄÊó©ÁªìÊùüÊó∂Èó¥ Âçï‰ª£Âè∑ÁΩëÁªúÂõæ Âèå‰ª£Âè∑ÁΩëÁªúÂõæ Âèå‰ª£Âè∑Êó∂Ê†áÁΩëÁªúÂõæ ÂÖ®‰∏∫ÂÆûÁ∫øÁöÑ‰∏∫ÂÖ≥ÈîÆË∑ØÂæÑÔºå ÊàêÊú¨Á±ª Êå£ÂÄºÂàÜÊûê PV [Planned Value]ËÆ°ÂàíÂÄºÔºöÂ∫îËØ•ÂÆåÊàêÂ§öÂ∞ëÂ∑•‰ΩúÔºü Ë¶ÅÂπ≤ÁöÑÊ¥ª EV [Earned Value]Êå£ÂÄºÔºöÂÆåÊàê‰∫ÜÂ§öÂ∞ëÈ¢ÑÁÆóÂ∑•‰ΩúÔºü Âπ≤ÂÆåÁöÑÊ¥ª AC [Actual Cost]ÂÆûÈôÖÊàêÊú¨ÔºöÂÆåÊàêÂ∑•‰ΩúÁöÑÂÆûÈôÖÊàêÊú¨ÊòØÂ§öÂ∞ëÔºü ÂÆûÈôÖËä±Ë¥π BAC [Budget cost at completion] Âü∫Á∫øÈ¢ÑÁÆóÊàêÊú¨ÔºöÂÖ®ÈÉ®Â∑•‰ΩúÁöÑÈ¢ÑÁÆóÊòØÂ§öÂ∞ëÔºü‰∏çÊîπÂèòÊàêÊú¨Âü∫ÂáÜÔºåBACÂ∞±‰∏ç‰ºöÂèëÁîüÂèòÂåñ CV [Cost Variance] ÊàêÊú¨ÂÅèÂ∑Æ CVÔºùEVÔºçACÔºåCV&gt;0ÔºåÊàêÊú¨ËäÇÁ∫¶ÔºåCV&lt;0ÔºåÊàêÊú¨Ë∂ÖÊîØ„ÄÇ SV [Schedule Variance] ËøõÂ∫¶ÂÅèÂ∑Æ SVÔºùEVÔºçPVÔºåSV&gt;0ÔºåËøõÂ∫¶Ë∂ÖÂâçÔºåSV&lt;0ÔºåËøõÂ∫¶ËêΩÂêé„ÄÇ CPI [Cost Performance Index] ÊàêÊú¨ÊâßË°åÊåáÊï∞CPIÔºùEV/ACÔºåCPIÔºù1ÔºåËµÑÈáë‰ΩøÁî®ÊïàÁéá‰∏ÄËà¨ÔºõCPI&gt;1ÊàêÊú¨ËäÇÁ∫¶ÔºåËµÑÈáë‰ΩøÁî®ÊïàÁéáÈ´òÔºõCPI&lt;1ÔºåÊàêÊú¨Ë∂ÖÊîØÔºåËµÑÈáë‰ΩøÁî®ÊïàÁéá‰Ωé„ÄÇ SPI [Schedule Performance Index] ËøõÂ∫¶ÊâßË°åÊåáÊï∞ SPIÔºùEV/PVÔºåSPIÔºù1ÔºåËøõÂ∫¶‰∏éËÆ°ÂàíÁõ∏Á¨¶ÔºåSPI&gt;1ÔºåËøõÂ∫¶Ë∂ÖÂâçÔºåSPI&lt;1ÔºåËøõÂ∫¶ËêΩÂêé„ÄÇ ETC [Estimate (or Estimated) To Complete] ÂÆåÂ∑•Êó∂Â∞öÈúÄÊàêÊú¨‰º∞ÁÆóÔºöÂà∞ÂÆåÊàêÊó∂ÔºåÂâ©‰ΩôÂ∑•‰ΩúÈáèËøòÈúÄË¶ÅÂ§öÂ∞ëÊàêÊú¨,ETC‰πüÂ∞±ÊòØ‰º∞ËÆ°ÂÆåÊàêÈ°πÁõÆÁöÑÂâ©‰ΩôÂ∑•‰ΩúÊàêÊú¨ BAC [Budget cost at completion] ÂÆåÂ∑•È¢ÑÁÆóÔºöÂÖ®ÈÉ®Â∑•‰ΩúÁöÑÈ¢ÑÁÆóÊòØÂ§öÂ∞ëÔºü‰∏çÊîπÂèòÊàêÊú¨Âü∫ÂáÜÔºåBACÂ∞±‰∏ç‰ºöÂèëÁîüÂèòÂåñ EAC [Estimate at completion] ÂÆåÊàêÈ¢Ñ‰º∞ÔºöÂÖ®ÈÉ®Â∑•‰ΩúÁöÑÊàêÊú¨ÊòØÂ§öÂ∞ëÔºüÊòØÊ†πÊçÆÈ°πÁõÆÁöÑÁª©ÊïàÂíåÈ£éÈô©ÈáèÂåñÂØπÈ°πÁõÆÊúÄÂèØËÉΩÁöÑÊÄªÊàêÊú¨ÊâÄÂÅöÁöÑ‰∏ÄÁßçÈ¢ÑÊµã„ÄÇ ÂÆåÂ∑•Â∑•Êúü‰º∞ÁÆó=È¢ÑÁÆóÂ∑•Êúü/SPI È¢ÑÊµãEAC ‰∏é ETCÔºö Áî±‰∫éÂ≠òÂú®ÊàêÊú¨ÂÅèÂ∑ÆÊÉÖÂÜµÔºåÊâÄ‰ª•Âú®ÂÖ∏ÂûãÂÅèÂ∑Æ‰∏éÈùûÂÖ∏ÂûãÂÅèÂ∑ÆÊó∂ÔºåËÆ°ÁÆóÈ°∫Â∫è‰∏ç‰∏ÄÊ†∑ÔºåÂ¶Ç‰∏ã: ÂÖ∏ÂûãÂÅèÂ∑ÆÔºöÊú™Êù•È°πÁõÆÁöÑCPI„ÄÅSPI‰ºö‰øùÊåÅ‰∏çÂèòÔºåÊ≠§Êó∂È¢ÑÊµãÈ°πÁõÆÂÆåÊàêÊó∂ÁöÑÊÄªÊàêÊú¨ÂíåÈ¢ÑËÆ°ÂÆåÊàêÊó∂Èó¥ÔºåÂ∫îËØ•Áî®ÂÖ∏ÂûãÂÅèÂ∑ÆÂÖ¨Âºè„ÄÇ EAC= AC+(BAC-EV) =BAC/CPI ETC=EAC-AC ÈùûÂÖ∏ÂûãÂÅèÂ∑ÆÔºöÈùûÂÖ∏ÂûãÂÅèÂ∑ÆÁöÑÂê´‰πâÊòØÈ°πÁõÆÊú™Êù•ÁöÑÂ∑•‰ΩúÁª©Êïà‰∏éÂΩìÂâçÊó†ÂÖ≥ÔºåÂíåÂéüËÆ°Âàí‰øùÊåÅ‰∏ÄÊ†∑ÔºåÂç≥È°πÁõÆÊú™Êù•ÁöÑÊàêÊú¨Áª©ÊïàÊåáÊï∞ÂíåËøõÂ∫¶Áª©ÊïàÊåáÊï∞ÈÉΩÊòØ‚Äú1‚ÄùÔºâÈúÄË¶ÅÁ∫†ÂÅè ETC=BAC-EV Âü∫Á∫øÊÄªÊàêÊú¨-Â∑≤Êå£ÂæóÈÉ®‰ªΩ EAC=ETC+AC ‰∏äÂçàÂ∞èËÆ°ÁÆó Áõà‰∫èÂπ≥Ë°°ÁÇπ ÂÜ≥Á≠ñÊ†ëËÆ°ÁÆó ËµÑÊ∫êÂπ≥Ë°°ÈóÆÈ¢ò ÁªüËÆ°ÊäΩÊ†∑ÈóÆÈ¢ò Ëá™Âà∂\\Â§ñË¥≠ÂàÜÊûê Ê≤üÈÄöÊ∏†ÈÅìÊï∞ [n(n-1)]/2 È£éÈô©ÊõùÂÖâÂ∫¶ Áé∞ÂÄº ÂáÄÁé∞ÂÄºÔºåÊäïËµÑÂõûÊî∂Êúü ËøêÁ≠πÂ≠¶ ËÆ°ÁÆóÈáèÂ§ß Ê±ÇÊúÄÁü≠ÂíåÊúÄÈïøË∑ØÂæÑ Á∫øÊÄßËßÑÂàíÈóÆÈ¢ò ÊäïËµÑÊî∂ÁõäÊúÄÂ§ßÈóÆÈ¢ò Êõ¥Êç¢ËÆæÂ§áÈóÆÈ¢ò ËΩ¶Â∫äÈì£Â∫äÈóÆÈ¢ò ÊµÅÈáèÈóÆÈ¢ò ‰∫∫ÂëòÂàÜÈÖçÈóÆÈ¢ò„ÄêÁü©ÈòµÊ≥ïÔºàË°åÂàóÂàÜÂà´Âáè‰∏ÄÊ¨°ÊúÄÂ∞èÂÄºÔºåÊ†πÊçÆË°åÈõ∂‰∏™Êï∞‰ªéÂ∞ëÂà∞Â§öÂàÜÈÖçÔºâ„Äë ‰ºèÊ†ºÂ∞îÊñπÊ≥ïËß£‰º†ËæìÈóÆÈ¢ò ËÆ∫Êñá ÊèêÂâçÂáÜÂ§áÔºåÊëòË¶Å300ÂÜÖÔºåÊ≠£Êñá‰∏çÂ∞ë‰∫é2000ÔºåÂ≠óËøπÊ∏ÖÊô∞ÔºåÊó†ÈúÄÂÜôÈ¢òÁõÆ ÂáÜÂ§á‰∏Ä‰∏™È°πÁõÆÔºàÊäïÊ†á‰π¶ÔºåÊñπÊ°à‰π¶Ôºâ ÂáÜÂ§áÊ°ÜÊû∂ Ëá™Â∑±ÂÜô‰∏Ä‰∏™","link":"/2021/03/29/Draft/2021/%E4%BF%A1%E6%81%AF%E7%B3%BB%E7%BB%9F%E9%A1%B9%E7%9B%AE%E7%AE%A1%E7%90%86%E5%B8%88/"},{"title":"RabbitMQ","text":"RabbitMQÁÆÄ‰ªã MQÂÖ®Áß∞‰∏∫Message QueueÔºåÊ∂àÊÅØÈòüÂàóÊòØÂ∫îÁî®Á®ãÂ∫èÂíåÂ∫îÁî®Á®ãÂ∫è‰πãÈó¥ÁöÑÈÄö‰ø°ÊñπÊ≥ï„ÄÇ RabbitMQÊòØÁî±erlangËØ≠Ë®ÄÂºÄÂèëÔºåÂü∫‰∫éAMQPÔºàAdvanced Message Queue È´òÁ∫ßÊ∂àÊÅØÈòüÂàóÂçèËÆÆÔºâÂçèËÆÆÂÆûÁé∞ÁöÑÊ∂àÊÅØÈòüÂàóÔºåÂÆÉÊòØ‰∏ÄÁßçÂ∫îÁî®Á®ãÂ∫è‰πãÈó¥ÁöÑÈÄö‰ø°ÊñπÊ≥ïÔºåÊ∂àÊÅØÈòüÂàóÂú®ÂàÜÂ∏ÉÂºèÁ≥ªÁªüÂºÄÂèë‰∏≠Â∫îÁî®ÈùûÂ∏∏ÂπøÊ≥õ„ÄÇRabbitMQÂÆòÊñπÂú∞ÂùÄÔºöhttp://www.rabbitmq.com/ AMQP ‰∏Ä‰∏™Êèê‰æõÁªü‰∏ÄÊ∂àÊÅØÊúçÂä°ÁöÑÂ∫îÁî®Â±ÇÊ†áÂáÜÈ´òÁ∫ßÊ∂àÊÅØÈòüÂàóÂçèËÆÆÔºåÊòØÂ∫îÁî®Â±ÇÂçèËÆÆÁöÑ‰∏Ä‰∏™ÂºÄÊîæÊ†áÂáÜÔºå‰∏∫Èù¢ÂêëÊ∂àÊÅØÁöÑ‰∏≠Èó¥‰ª∂ËÆæËÆ°„ÄÇ AMQPÊòØ‰∏Ä‰∏™‰∫åËøõÂà∂ÂçèËÆÆÔºåÊã•Êúâ‰∏Ä‰∫õÁé∞‰ª£ÂåñÁâπÁÇπÔºöÂ§ö‰ø°ÈÅì„ÄÅÂçèÂïÜÂºèÔºåÂºÇÊ≠•ÔºåÂÆâÂÖ®ÔºåÊâ©Âπ≥Âè∞Ôºå‰∏≠Á´ãÔºåÈ´òÊïà„ÄÇ RabbitMQÊòØAMQPÂçèËÆÆÁöÑErlangÁöÑÂÆûÁé∞„ÄÇ Ê¶ÇÂøµ ËØ¥Êòé ËøûÊé•Connection ‰∏Ä‰∏™ÁΩëÁªúËøûÊé•ÔºåÊØîÂ¶ÇTCP/IPÂ•óÊé•Â≠óËøûÊé•„ÄÇ ‰ºöËØùSession Á´ØÁÇπ‰πãÈó¥ÁöÑÂëΩÂêçÂØπËØù„ÄÇÂú®‰∏Ä‰∏™‰ºöËØù‰∏ä‰∏ãÊñá‰∏≠Ôºå‰øùËØÅ‚ÄúÊÅ∞Â•Ω‰º†ÈÄí‰∏ÄÊ¨°‚Äù„ÄÇ ‰ø°ÈÅìChannel Â§öË∑ØÂ§çÁî®ËøûÊé•‰∏≠ÁöÑ‰∏ÄÊù°Áã¨Á´ãÁöÑÂèåÂêëÊï∞ÊçÆÊµÅÈÄöÈÅì„ÄÇ‰∏∫‰ºöËØùÊèê‰æõÁâ©ÁêÜ‰º†Ëæì‰ªãË¥®„ÄÇ ÂÆ¢Êà∑Á´ØClient AMQPËøûÊé•ÊàñËÄÖ‰ºöËØùÁöÑÂèëËµ∑ËÄÖ„ÄÇAMQPÊòØÈùûÂØπÁß∞ÁöÑÔºåÂÆ¢Êà∑Á´ØÁîü‰∫ßÂíåÊ∂àË¥πÊ∂àÊÅØÔºåÊúçÂä°Âô®Â≠òÂÇ®ÂíåË∑ØÁî±Ëøô‰∫õÊ∂àÊÅØ„ÄÇ ÊúçÂä°ËäÇÁÇπBroker Ê∂àÊÅØ‰∏≠Èó¥‰ª∂ÁöÑÊúçÂä°ËäÇÁÇπÔºõ‰∏ÄËà¨ÊÉÖÂÜµ‰∏ãÂèØ‰ª•Â∞Ü‰∏Ä‰∏™RabbitMQ BrokerÁúã‰Ωú‰∏ÄÂè∞RabbitMQ ÊúçÂä°Âô®„ÄÇ Á´ØÁÇπ AMQPÂØπËØùÁöÑ‰ªªÊÑè‰∏ÄÊñπ„ÄÇ‰∏Ä‰∏™AMQPËøûÊé•ÂåÖÊã¨‰∏§‰∏™Á´ØÁÇπÔºà‰∏Ä‰∏™ÊòØÂÆ¢Êà∑Á´ØÔºå‰∏Ä‰∏™ÊòØÊúçÂä°Âô®Ôºâ„ÄÇ Ê∂àË¥πËÄÖConsumer ‰∏Ä‰∏™‰ªéÊ∂àÊÅØÈòüÂàóÈáåËØ∑Ê±ÇÊ∂àÊÅØÁöÑÂÆ¢Êà∑Á´ØÁ®ãÂ∫è„ÄÇ Áîü‰∫ßËÄÖProducer ‰∏Ä‰∏™Âêë‰∫§Êç¢Êú∫ÂèëÂ∏ÉÊ∂àÊÅØÁöÑÂÆ¢Êà∑Á´ØÂ∫îÁî®Á®ãÂ∫è„ÄÇ 6ÁßçÂ∑•‰ΩúÊ®°ÂºèÔºö ÁÆÄÂçïÊ®°ÂºèÔºåworkÊ®°ÂºèÔºåPublish/SubscribeÂèëÂ∏É‰∏éËÆ¢ÈòÖÊ®°ÂºèÔºåRoutingË∑ØÁî±Ê®°ÂºèÔºåTopics‰∏ªÈ¢òÊ®°ÂºèÔºåRPCËøúÁ®ãË∞ÉÁî®Ê®°ÂºèÔºàËøúÁ®ãË∞ÉÁî®Ôºå‰∏çÂ§™ÁÆóMQÔºõÊöÇ‰∏ç‰Ωú‰ªãÁªçÔºâÔºõ ÂÆòÁΩëÂØπÂ∫îÊ®°Âºè‰ªãÁªçÔºöhttps://www.rabbitmq.com/getstarted.html ‰ºòÂäøÔºö Â∫îÁî®Ëß£ËÄ¶ÔºåÊèêÂçáÂÆπÈîôÊÄßÂíåÂèØÁª¥Êä§ÊÄß ÂºÇÊ≠•ÊèêÈÄüÔºåÊèêÂçáÁî®Êà∑‰ΩìÈ™åÔºåÁ≥ªÁªüÂêûÂêêÈáè ÂâäÂ≥∞Â°´Ë∞∑ÔºåÊèêÈ´òÁ≥ªÁªüÁ®≥ÂÆöÊÄß Âä£ÂäøÔºö Á≥ªÁªüÂèØÁî®ÊÄßÈôç‰ΩéÔºàÈúÄ‰øùËØÅMQÈ´òÂèØÁî®Ôºâ Á≥ªÁªüÂ§çÊùÇÂ∫¶ÊèêÈ´òÔºà‰∏çË¢´ÈáçÂ§çÊ∂àË¥πÔºå‰øùËØÅÊ∂àÊÅØÈ°∫Â∫èÔºâ Êï∞ÊçÆ‰∏ÄËá¥ÊÄßÈóÆÈ¢ò ‰ΩøÁî®Êù°‰ª∂: Áîü‰∫ßËÄÖ‰∏çÈúÄË¶Å‰ªéÊ∂àË¥πËÄÖÂ§ÑËé∑ÂæóÂèçÈ¶à ÂÆπËÆ∏Áü≠ÊöÇÁöÑ‰∏ç‰∏ÄËá¥ÊÄß Á°ÆÂÆûÁî®‰∫ÜÊúâÊïàÊûú ÔºåÂ•ΩÂ§ÑÂ§ß‰∫éÂ§çÊùÇÊÄßÁ≠âÂä£Âäø Â∏∏ËßÅMQ‰∫ßÂìÅ JMS JMSÂç≥JavaÊ∂àÊÅØÊúçÂä°ÔºàJavaMessage ServiceÔºâÂ∫îÁî®Á®ãÂ∫èÊé•Âè£ÔºåÊòØ‰∏Ä‰∏™JavaÂπ≥Âè∞‰∏≠ÂÖ≥‰∫éÈù¢ÂêëÊ∂àÊÅØ‰∏≠Èó¥‰ª∂ÔºàMOMÔºâÁöÑAPIÔºåÁî®‰∫éÂú®‰∏§‰∏™Â∫îÁî®Á®ãÂ∫è‰πãÈó¥ÔºåÊàñÂàÜÂ∏ÉÂºèÁ≥ªÁªü‰∏≠ÂèëÈÄÅÊ∂àÊÅØÔºåËøõË°åÂºÇÊ≠•ÈÄö‰ø°„ÄÇ AMQP ‰∏é JMS Âå∫Âà´ JMSÊòØÂÆö‰πâ‰∫ÜÁªü‰∏ÄÁöÑÊé•Âè£ÔºåÊù•ÂØπÊ∂àÊÅØÊìç‰ΩúËøõË°åÁªü‰∏ÄÔºõAMQPÊòØÈÄöËøáËßÑÂÆöÂçèËÆÆÊù•Áªü‰∏ÄÊï∞ÊçÆ‰∫§‰∫íÁöÑÊ†ºÂºè JMSÈôêÂÆö‰∫ÜÂøÖÈ°ª‰ΩøÁî®JavaËØ≠Ë®ÄÔºõAMQPÂè™ÊòØÂçèËÆÆÔºå‰∏çËßÑÂÆöÂÆûÁé∞ÊñπÂºèÔºåÂõ†Ê≠§ÊòØË∑®ËØ≠Ë®ÄÁöÑ„ÄÇ JMSËßÑÂÆö‰∫Ü‰∏§ÁßçÊ∂àÊÅØÊ®°ÂºèÔºõËÄåAMQPÁöÑÊ∂àÊÅØÊ®°ÂºèÊõ¥Âä†‰∏∞ÂØå RabbitMQ ÂÆâË£ÖÈÖçÁΩÆ MQÁâàÊú¨ÈÄâÊã©ÂíåerlangÁõ∏ÂÖ≥ ‰ΩøÁî®ËµÑÊñôÈáåÊèê‰æõÁöÑCentOS-7-x86_64-DVD-1810.iso ÂÆâË£ÖËôöÊãüÊú∫. 1. ÂÆâË£Ö‰æùËµñÁéØÂ¢É Âú®Á∫øÂÆâË£Ö‰æùËµñÁéØÂ¢ÉÔºö 1yum install build-essential openssl openssl-devel unixODBC unixODBC-devel make gcc gcc-c++ kernel-devel m4 ncurses-devel tk tc xz 2. ÂÆâË£ÖErlang ‰∏ä‰º† alt+pËøõÂÖ•sftpÁïåÈù¢ erlang-18.3-1.el7.centos.x86_64.rpm socat-1.7.3.2-5.el7.lux.x86_64.rpm rabbitmq-server-3.6.5-1.noarch.rpm 12# ÂÆâË£Örpm -ivh erlang-18.3-1.el7.centos.x86_64.rpm Â¶ÇÊûúÂá∫Áé∞Â¶Ç‰∏ãÈîôËØØ ËØ¥Êòégblic ÁâàÊú¨Â§™‰Ωé„ÄÇÊàë‰ª¨ÂèØ‰ª•Êü•ÁúãÂΩìÂâçÊú∫Âô®ÁöÑgblic ÁâàÊú¨ 1strings /lib64/libc.so.6 | grep GLIBC ÂΩìÂâçÊúÄÈ´òÁâàÊú¨2.12ÔºåÈúÄË¶Å2.15.ÊâÄ‰ª•ÈúÄË¶ÅÂçáÁ∫ßglibc ‰ΩøÁî®yumÊõ¥Êñ∞ÂÆâË£Ö‰æùËµñ 1sudo yum install zlib-devel bzip2-devel openssl-devel ncurses-devel sqlite-devel readline-devel tk-devel gcc make -y ‰∏ãËΩΩrpmÂåÖ 1234567wget http://copr-be.cloud.fedoraproject.org/results/mosquito/myrepo-el6/epel-6-x86_64/glibc-2.17-55.fc20/glibc-utils-2.17-55.el6.x86_64.rpm &amp;wget http://copr-be.cloud.fedoraproject.org/results/mosquito/myrepo-el6/epel-6-x86_64/glibc-2.17-55.fc20/glibc-static-2.17-55.el6.x86_64.rpm &amp;wget http://copr-be.cloud.fedoraproject.org/results/mosquito/myrepo-el6/epel-6-x86_64/glibc-2.17-55.fc20/glibc-2.17-55.el6.x86_64.rpm &amp;wget http://copr-be.cloud.fedoraproject.org/results/mosquito/myrepo-el6/epel-6-x86_64/glibc-2.17-55.fc20/glibc-common-2.17-55.el6.x86_64.rpm &amp;wget http://copr-be.cloud.fedoraproject.org/results/mosquito/myrepo-el6/epel-6-x86_64/glibc-2.17-55.fc20/glibc-devel-2.17-55.el6.x86_64.rpm &amp;wget http://copr-be.cloud.fedoraproject.org/results/mosquito/myrepo-el6/epel-6-x86_64/glibc-2.17-55.fc20/glibc-headers-2.17-55.el6.x86_64.rpm &amp;wget http://copr-be.cloud.fedoraproject.org/results/mosquito/myrepo-el6/epel-6-x86_64/glibc-2.17-55.fc20/nscd-2.17-55.el6.x86_64.rpm &amp; ÂÆâË£ÖrpmÂåÖ 1sudo rpm -Uvh *-2.17-55.el6.x86_64.rpm --force --nodeps ÂÆâË£ÖÂÆåÊØïÂêéÂÜçÊü•ÁúãglibcÁâàÊú¨,ÂèëÁé∞glibcÁâàÊú¨Â∑≤ÁªèÂà∞2.17‰∫Ü 1strings /lib64/libc.so.6 | grep GLIBC 3. ÂÆâË£ÖRabbitMQ 123456# ÂÆâË£Örpm -ivh socat-1.7.3.2-5.el7.lux.x86_64.rpm# ÂÆâË£Örpm -ivh rabbitmq-server-3.6.5-1.noarch.rpm 12345678910111213[root@softbank126011009150 rabbitmq]# lserlang-18.3-1.el7.centos.x86_64.rpm rabbitmq-server-3.6.5-1.noarch.rpm socat-1.7.3.2-1.1.el7.x86_64.rpm[root@softbank126011009150 rabbitmq]# rpm -ivh erlang-18.3-1.el7.centos.x86_64.rpm ÂáÜÂ§á‰∏≠... ################################# [100%] ËΩØ‰ª∂ÂåÖ erlang-18.3-1.el7.centos.x86_64 Â∑≤ÁªèÂÆâË£Ö[root@softbank126011009150 rabbitmq]# rpm -ivh socat-1.7.3.2-1.1.el7.x86_64.rpm Ë≠¶ÂëäÔºösocat-1.7.3.2-1.1.el7.x86_64.rpm: Â§¥V4 RSA/SHA1 Signature, ÂØÜÈí• ID 87e360b8: NOKEYÂáÜÂ§á‰∏≠... ################################# [100%] ËΩØ‰ª∂ÂåÖ socat-1.7.3.2-1.1.el7.x86_64 Â∑≤ÁªèÂÆâË£Ö[root@softbank126011009150 rabbitmq]# rpm -ivh rabbitmq-server-3.6.5-1.noarch.rpm Ë≠¶ÂëäÔºörabbitmq-server-3.6.5-1.noarch.rpm: Â§¥V4 RSA/SHA1 Signature, ÂØÜÈí• ID 6026dfca: NOKEYÂáÜÂ§á‰∏≠... ################################# [100%] ËΩØ‰ª∂ÂåÖ rabbitmq-server-3.6.5-1.noarch Â∑≤ÁªèÂÆâË£Ö 4. ÂºÄÂêØÁÆ°ÁïåÈù¢ÂèäÈÖçÁΩÆ 123456# ÂºÄÂêØÁÆ°ÁêÜÁïåÈù¢rabbitmq-plugins enable rabbitmq_management# ‰øÆÊîπÈªòËÆ§ÈÖçÁΩÆ‰ø°ÊÅØvim /usr/lib/rabbitmq/lib/rabbitmq_server-3.6.5/ebin/rabbit.app # ÊØîÂ¶Ç‰øÆÊîπÂØÜÁ†Å„ÄÅÈÖçÁΩÆÁ≠âÁ≠âÔºå‰æãÂ¶ÇÔºöloopback_users ‰∏≠ÁöÑ &lt;&lt;&quot;guest&quot;&gt;&gt;,Âè™‰øùÁïôguesthttp://ip:15672 ËÆøÈóÆ 5. ÂêØÂä® 123456service rabbitmq-server start # ÂêØÂä®ÊúçÂä°service rabbitmq-server stop # ÂÅúÊ≠¢ÊúçÂä°service rabbitmq-server restart # ÈáçÂêØÊúçÂä°service iptables stop#ÂÖ≥Èó≠Èò≤ÁÅ´Â¢ôsystemctl stop firewalld #conos7ÂÖ≥Èó≠Èò≤ÁÅ´Â¢ôÊñπÊ≥ï ËÆæÁΩÆÈÖçÁΩÆÊñá‰ª∂ 1234cd /usr/share/doc/rabbitmq-server-3.6.5/cp rabbitmq.config.example /etc/rabbitmq/rabbitmq.config 6. ÈÖçÁΩÆËôöÊãü‰∏ªÊú∫ÂèäÁî®Êà∑ 6.1. Áî®Êà∑ËßíËâ≤ RabbitMQÂú®ÂÆâË£ÖÂ•ΩÂêéÔºåÂèØ‰ª•ËÆøÈóÆhttp://ipÂú∞ÂùÄ:15672 ÔºõÂÖ∂Ëá™Â∏¶‰∫Üguest/guestÁöÑÁî®Êà∑ÂêçÂíåÂØÜÁ†ÅÔºõÂ¶ÇÊûúÈúÄË¶ÅÂàõÂª∫Ëá™ÂÆö‰πâÁî®Êà∑ÔºõÈÇ£‰πà‰πüÂèØ‰ª•ÁôªÂΩïÁÆ°ÁêÜÁïåÈù¢ÂêéÔºåÂ¶Ç‰∏ãÊìç‰ΩúÔºö ËßíËâ≤ËØ¥ÊòéÔºö 1„ÄÅ Ë∂ÖÁ∫ßÁÆ°ÁêÜÂëò(administrator) ÂèØÁôªÈôÜÁÆ°ÁêÜÊéßÂà∂Âè∞ÔºåÂèØÊü•ÁúãÊâÄÊúâÁöÑ‰ø°ÊÅØÔºåÂπ∂‰∏îÂèØ‰ª•ÂØπÁî®Êà∑ÔºåÁ≠ñÁï•(policy)ËøõË°åÊìç‰Ωú„ÄÇ 2„ÄÅ ÁõëÊéßËÄÖ(monitoring) ÂèØÁôªÈôÜÁÆ°ÁêÜÊéßÂà∂Âè∞ÔºåÂêåÊó∂ÂèØ‰ª•Êü•ÁúãrabbitmqËäÇÁÇπÁöÑÁõ∏ÂÖ≥‰ø°ÊÅØ(ËøõÁ®ãÊï∞ÔºåÂÜÖÂ≠ò‰ΩøÁî®ÊÉÖÂÜµÔºåÁ£ÅÁõò‰ΩøÁî®ÊÉÖÂÜµÁ≠â) 3„ÄÅ Á≠ñÁï•Âà∂ÂÆöËÄÖ(policymaker) ÂèØÁôªÈôÜÁÆ°ÁêÜÊéßÂà∂Âè∞, ÂêåÊó∂ÂèØ‰ª•ÂØπpolicyËøõË°åÁÆ°ÁêÜ„ÄÇ‰ΩÜÊó†Ê≥ïÊü•ÁúãËäÇÁÇπÁöÑÁõ∏ÂÖ≥‰ø°ÊÅØ(‰∏äÂõæÁ∫¢Ê°ÜÊ†áËØÜÁöÑÈÉ®ÂàÜ)„ÄÇ 4„ÄÅ ÊôÆÈÄöÁÆ°ÁêÜËÄÖ(management) ‰ªÖÂèØÁôªÈôÜÁÆ°ÁêÜÊéßÂà∂Âè∞ÔºåÊó†Ê≥ïÁúãÂà∞ËäÇÁÇπ‰ø°ÊÅØÔºå‰πüÊó†Ê≥ïÂØπÁ≠ñÁï•ËøõË°åÁÆ°ÁêÜ„ÄÇ 5„ÄÅ ÂÖ∂‰ªñ Êó†Ê≥ïÁôªÈôÜÁÆ°ÁêÜÊéßÂà∂Âè∞ÔºåÈÄöÂ∏∏Â∞±ÊòØÊôÆÈÄöÁöÑÁîü‰∫ßËÄÖÂíåÊ∂àË¥πËÄÖ„ÄÇ 6.2. Virtual HostsÈÖçÁΩÆ ÂÉèmysqlÊã•ÊúâÊï∞ÊçÆÂ∫ìÁöÑÊ¶ÇÂøµÂπ∂‰∏îÂèØ‰ª•ÊåáÂÆöÁî®Êà∑ÂØπÂ∫ìÂíåË°®Á≠âÊìç‰ΩúÁöÑÊùÉÈôê„ÄÇRabbitMQ‰πüÊúâÁ±ª‰ººÁöÑÊùÉÈôêÁÆ°ÁêÜÔºõÂú®RabbitMQ‰∏≠ÂèØ‰ª•ËôöÊãüÊ∂àÊÅØÊúçÂä°Âô®Virtual HostÔºåÊØè‰∏™Virtual HostsÁõ∏ÂΩì‰∫é‰∏Ä‰∏™Áõ∏ÂØπÁã¨Á´ãÁöÑRabbitMQÊúçÂä°Âô®ÔºåÊØè‰∏™VirtualHost‰πãÈó¥ÊòØÁõ∏‰∫íÈöîÁ¶ªÁöÑ„ÄÇexchange„ÄÅqueue„ÄÅmessage‰∏çËÉΩ‰∫íÈÄö„ÄÇ Áõ∏ÂΩì‰∫émysqlÁöÑdb„ÄÇVirtual Name‰∏ÄËà¨‰ª•/ÂºÄÂ§¥„ÄÇ 6.2.1. ÂàõÂª∫Virtual Hosts 6.2.2. ËÆæÁΩÆVirtual HostsÊùÉÈôê Ëß£ÂÜ≥ÈÖçÁΩÆÊñá‰ª∂Êú™ÊâæÂà∞ 1234567891011121314151617181920212223242526272829[root@softbank126011009150 rabbitmq]# cd /usr/share/doc/rabbitmq-server-3.6.5/[root@softbank126011009150 rabbitmq-server-3.6.5]# lsLICENSE LICENSE-APL2-Stomp-Websocket LICENSE-EPL-OTP LICENSE-MIT-jQuery164 LICENSE-MIT-Sammy060 LICENSE-MPL-RabbitMQ set_rabbitmq_policy.sh.exampleLICENSE-APACHE2-ExplorerCanvas LICENSE-BSD-base64js LICENSE-MIT-EJS10 LICENSE-MIT-Mochi LICENSE-MIT-SockJS rabbitmq.config.exampleLICENSE-APL2-Rebar LICENSE-BSD-glMatrix LICENSE-MIT-Flot LICENSE-MIT-Mochiweb LICENSE-MPL2 README[root@softbank126011009150 rabbitmq-server-3.6.5]# llÊÄªÁî®Èáè 200-rw-r--r--. 1 root root 28945 8Êúà 5 2016 LICENSE-rw-r--r--. 1 root root 11358 8Êúà 5 2016 LICENSE-APACHE2-ExplorerCanvas-rw-r--r--. 1 root root 10175 8Êúà 5 2016 LICENSE-APL2-Rebar-rw-r--r--. 1 root root 10851 8Êúà 5 2016 LICENSE-APL2-Stomp-Websocket-rw-r--r--. 1 root root 1206 8Êúà 5 2016 LICENSE-BSD-base64js-rw-r--r--. 1 root root 1304 8Êúà 5 2016 LICENSE-BSD-glMatrix-rw-r--r--. 1 root root 14041 8Êúà 5 2016 LICENSE-EPL-OTP-rw-r--r--. 1 root root 1087 8Êúà 5 2016 LICENSE-MIT-EJS10-rw-r--r--. 1 root root 1069 8Êúà 5 2016 LICENSE-MIT-Flot-rw-r--r--. 1 root root 1075 8Êúà 5 2016 LICENSE-MIT-jQuery164-rw-r--r--. 1 root root 1087 3Êúà 31 2016 LICENSE-MIT-Mochi-rw-r--r--. 1 root root 1087 8Êúà 5 2016 LICENSE-MIT-Mochiweb-rw-r--r--. 1 root root 1076 8Êúà 5 2016 LICENSE-MIT-Sammy060-rw-r--r--. 1 root root 1056 8Êúà 5 2016 LICENSE-MIT-SockJS-rw-r--r--. 1 root root 16726 8Êúà 5 2016 LICENSE-MPL2-rw-r--r--. 1 root root 24897 8Êúà 5 2016 LICENSE-MPL-RabbitMQ-rw-r--r--. 1 root root 21023 4Êúà 11 2016 rabbitmq.config.example-rw-r--r--. 1 root root 943 3Êúà 31 2016 README-rw-r--r--. 1 root root 277 3Êúà 31 2016 set_rabbitmq_policy.sh.example[root@softbank126011009150 rabbitmq-server-3.6.5]# cp ./rabbitmq.config.example /etc/rabbitmq/rabbitmq.config[root@softbank126011009150 rabbitmq-server-3.6.5]# service rabbitmq-server restartRestarting rabbitmq-server (via systemctl): [ Á°ÆÂÆö ] Â∑•‰ΩúÊ®°Âºè ÁÆÄÂçïÊ®°Âºè Áîü‰∫ßËÄÖ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162package com.lxl.producer;import com.rabbitmq.client.Channel;import com.rabbitmq.client.Connection;import com.rabbitmq.client.ConnectionFactory;import java.io.IOException;import java.util.concurrent.TimeoutException;public class Producer_HelloWord { public static void main(String[] args) throws IOException, TimeoutException { //1.ÂàõÂª∫ËøûÊé•Â∑•ÂéÇ ConnectionFactory factory = new ConnectionFactory(); //2. ËÆæÁΩÆÂèÇÊï∞ factory.setHost(&quot;126.11.41.128&quot;);//ip ÈªòËÆ§ÂÄº localhost factory.setPort(5672); //Á´ØÂè£ ÈªòËÆ§ÂÄº 5672 factory.setVirtualHost(&quot;/lxlv&quot;);//ËôöÊãüÊú∫ ÈªòËÆ§ÂÄº/ factory.setUsername(&quot;lxl&quot;);//Áî®Êà∑Âêç ÈªòËÆ§ guest factory.setPassword(&quot;lxl&quot;);//ÂØÜÁ†Å ÈªòËÆ§ÂÄº guest //3. ÂàõÂª∫ËøûÊé• Connection Connection connection = factory.newConnection(); //4. ÂàõÂª∫Channel Channel channel = connection.createChannel(); //5. ÂàõÂª∫ÈòüÂàóQueue /* queueDeclare(String queue, boolean durable, boolean exclusive, boolean autoDelete, Map&lt;String, Object&gt; arguments) ÂèÇÊï∞Ôºö 1. queueÔºöÈòüÂàóÂêçÁß∞ 2. durable:ÊòØÂê¶ÊåÅ‰πÖÂåñÔºåÂΩìmqÈáçÂêØ‰πãÂêéÔºåËøòÂú® 3. exclusiveÔºö * ÊòØÂê¶Áã¨Âç†„ÄÇÂè™ËÉΩÊúâ‰∏Ä‰∏™Ê∂àË¥πËÄÖÁõëÂê¨ËøôÈòüÂàó * ÂΩìConnectionÂÖ≥Èó≠Êó∂ÔºåÊòØÂê¶Âà†Èô§ÈòüÂàó * 4. autoDelete:ÊòØÂê¶Ëá™Âä®Âà†Èô§„ÄÇÂΩìÊ≤°ÊúâConsumerÊó∂ÔºåËá™Âä®Âà†Èô§Êéâ 5. argumentsÔºöÂèÇÊï∞„ÄÇ */ //Â¶ÇÊûúÊ≤°Êúâ‰∏Ä‰∏™ÂêçÂ≠óÂè´hello_worldÁöÑÈòüÂàóÔºåÂàô‰ºöÂàõÂª∫ËØ•ÈòüÂàóÔºåÂ¶ÇÊûúÊúâÂàô‰∏ç‰ºöÂàõÂª∫ channel.queueDeclare(&quot;hello_world&quot;,true,false,false,null); /* basicPublish(String exchange, String routingKey, BasicProperties props, byte[] body) ÂèÇÊï∞Ôºö 1. exchangeÔºö‰∫§Êç¢Êú∫ÂêçÁß∞„ÄÇÁÆÄÂçïÊ®°Âºè‰∏ã‰∫§Êç¢Êú∫‰ºö‰ΩøÁî®ÈªòËÆ§ÁöÑ &quot;&quot; 2. routingKeyÔºöË∑ØÁî±ÂêçÁß∞ 3. propsÔºöÈÖçÁΩÆ‰ø°ÊÅØ 4. bodyÔºöÂèëÈÄÅÊ∂àÊÅØÊï∞ÊçÆ */ String body = &quot;hello rabbitmq~~~&quot;; //6. ÂèëÈÄÅÊ∂àÊÅØ channel.basicPublish(&quot;&quot;,&quot;hello_world&quot;,null,body.getBytes()); //7.ÈáäÊîæËµÑÊ∫ê// channel.close();// connection.close(); }} Ê∂àË¥πËÄÖ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475package com.lxl.consumer;import com.rabbitmq.client.*;import java.io.IOException;import java.util.concurrent.TimeoutException;public class Consumer_HelloWorld { public static void main(String[] args) throws IOException, TimeoutException { //1.ÂàõÂª∫ËøûÊé•Â∑•ÂéÇ ConnectionFactory factory = new ConnectionFactory(); //2. ËÆæÁΩÆÂèÇÊï∞ factory.setHost(&quot;126.11.41.128&quot;);//ip ÈªòËÆ§ÂÄº localhost factory.setPort(5672); //Á´ØÂè£ ÈªòËÆ§ÂÄº 5672 factory.setVirtualHost(&quot;/lxlv&quot;);//ËôöÊãüÊú∫ ÈªòËÆ§ÂÄº/ factory.setUsername(&quot;lxl&quot;);//Áî®Êà∑Âêç ÈªòËÆ§ guest factory.setPassword(&quot;lxl&quot;);//ÂØÜÁ†Å ÈªòËÆ§ÂÄº guest //3. ÂàõÂª∫ËøûÊé• Connection Connection connection = factory.newConnection(); //4. ÂàõÂª∫Channel Channel channel = connection.createChannel(); //5. ÂàõÂª∫ÈòüÂàóQueue /* queueDeclare(String queue, boolean durable, boolean exclusive, boolean autoDelete, Map&lt;String, Object&gt; arguments) ÂèÇÊï∞Ôºö 1. queueÔºöÈòüÂàóÂêçÁß∞ 2. durable:ÊòØÂê¶ÊåÅ‰πÖÂåñÔºåÂΩìmqÈáçÂêØ‰πãÂêéÔºåËøòÂú® 3. exclusiveÔºö * ÊòØÂê¶Áã¨Âç†„ÄÇÂè™ËÉΩÊúâ‰∏Ä‰∏™Ê∂àË¥πËÄÖÁõëÂê¨ËøôÈòüÂàó * ÂΩìConnectionÂÖ≥Èó≠Êó∂ÔºåÊòØÂê¶Âà†Èô§ÈòüÂàó * 4. autoDelete:ÊòØÂê¶Ëá™Âä®Âà†Èô§„ÄÇÂΩìÊ≤°ÊúâConsumerÊó∂ÔºåËá™Âä®Âà†Èô§Êéâ 5. argumentsÔºöÂèÇÊï∞„ÄÇ */ //Â¶ÇÊûúÊ≤°Êúâ‰∏Ä‰∏™ÂêçÂ≠óÂè´hello_worldÁöÑÈòüÂàóÔºåÂàô‰ºöÂàõÂª∫ËØ•ÈòüÂàóÔºåÂ¶ÇÊûúÊúâÂàô‰∏ç‰ºöÂàõÂª∫ channel.queueDeclare(&quot;hello_world&quot;,true,false,false,null); /* basicConsume(String queue, boolean autoAck, Consumer callback) ÂèÇÊï∞Ôºö 1. queueÔºöÈòüÂàóÂêçÁß∞ 2. autoAckÔºöÊòØÂê¶Ëá™Âä®Á°ÆËÆ§ 3. callbackÔºöÂõûË∞ÉÂØπË±° */ // Êé•Êî∂Ê∂àÊÅØ Consumer consumer = new DefaultConsumer(channel){ /* ÂõûË∞ÉÊñπÊ≥ïÔºåÂΩìÊî∂Âà∞Ê∂àÊÅØÂêéÔºå‰ºöËá™Âä®ÊâßË°åËØ•ÊñπÊ≥ï 1. consumerTagÔºöÊ†áËØÜ 2. envelopeÔºöËé∑Âèñ‰∏Ä‰∫õ‰ø°ÊÅØÔºå‰∫§Êç¢Êú∫ÔºåË∑ØÁî±key... 3. properties:ÈÖçÁΩÆ‰ø°ÊÅØ 4. bodyÔºöÊï∞ÊçÆ */ @Override public void handleDelivery(String consumerTag, Envelope envelope, AMQP.BasicProperties properties, byte[] body) throws IOException { System.out.println(&quot;consumerTagÔºö&quot;+consumerTag); System.out.println(&quot;ExchangeÔºö&quot;+envelope.getExchange()); System.out.println(&quot;RoutingKeyÔºö&quot;+envelope.getRoutingKey()); System.out.println(&quot;propertiesÔºö&quot;+properties); System.out.println(&quot;bodyÔºö&quot;+new String(body)); } }; channel.basicConsume(&quot;hello_world&quot;,true,consumer); //ÂÖ≥Èó≠ËµÑÊ∫êÔºü‰∏çË¶Å }} RabbitMQËøêËΩ¨ÊµÅÁ®ã Âú®ÂÖ•Èó®Ê°à‰æã‰∏≠Ôºö Áîü‰∫ßËÄÖÂèëÈÄÅÊ∂àÊÅØ Áîü‰∫ßËÄÖÂàõÂª∫ËøûÊé•ÔºàConnectionÔºâÔºåÂºÄÂêØ‰∏Ä‰∏™‰ø°ÈÅìÔºàChannelÔºâÔºåËøûÊé•Âà∞RabbitMQ BrokerÔºõ Â£∞ÊòéÈòüÂàóÂπ∂ËÆæÁΩÆÂ±ûÊÄßÔºõÊòØÂê¶ÊéíÂÆÉÔºåÊòØÂê¶ÊåÅ‰πÖÂåñÔºåÊòØÂê¶Ëá™Âä®Âà†Èô§Ôºõ Â∞ÜË∑ØÁî±ÈîÆÔºàÁ©∫Â≠óÁ¨¶‰∏≤Ôºâ‰∏éÈòüÂàóÁªëÂÆöËµ∑Êù•Ôºõ ÂèëÈÄÅÊ∂àÊÅØËá≥RabbitMQ BrokerÔºõ ÂÖ≥Èó≠‰ø°ÈÅìÔºõ ÂÖ≥Èó≠ËøûÊé•Ôºõ Ê∂àË¥πËÄÖÊé•Êî∂Ê∂àÊÅØ Ê∂àË¥πËÄÖÂàõÂª∫ËøûÊé•ÔºàConnectionÔºâÔºåÂºÄÂêØ‰∏Ä‰∏™‰ø°ÈÅìÔºàChannelÔºâÔºåËøûÊé•Âà∞RabbitMQ Broker ÂêëBroker ËØ∑Ê±ÇÊ∂àË¥πÁõ∏Â∫îÈòüÂàó‰∏≠ÁöÑÊ∂àÊÅØÔºåËÆæÁΩÆÁõ∏Â∫îÁöÑÂõûË∞ÉÂáΩÊï∞Ôºõ Á≠âÂæÖBrokerÂõûÂ∫îÈó≠ÂÖ≥ÊäïÈÄíÂìçÂ∫îÈòüÂàó‰∏≠ÁöÑÊ∂àÊÅØÔºåÊ∂àË¥πËÄÖÊé•Êî∂Ê∂àÊÅØÔºõ Á°ÆËÆ§ÔºàackÔºåËá™Âä®Á°ÆËÆ§ÔºâÊé•Êî∂Âà∞ÁöÑÊ∂àÊÅØÔºõ RabbitMQ‰ªéÈòüÂàó‰∏≠Âà†Èô§Áõ∏Â∫îÂ∑≤ÁªèË¢´Á°ÆËÆ§ÁöÑÊ∂àÊÅØÔºõ ÂÖ≥Èó≠‰ø°ÈÅìÔºõ ÂÖ≥Èó≠ËøûÊé•Ôºõ Áîü‰∫ßËÄÖÊµÅËΩ¨ËøáÁ®ãËØ¥Êòé ÂÆ¢Êà∑Á´Ø‰∏é‰ª£ÁêÜÊúçÂä°Âô®BrokerÂª∫Á´ãËøûÊé•„ÄÇ‰ºöË∞ÉÁî®newConnection() ÊñπÊ≥ï,Ëøô‰∏™ÊñπÊ≥ï‰ºöËøõ‰∏ÄÊ≠•Â∞ÅË£ÖProtocol Header 0-9-1 ÁöÑÊä•ÊñáÂ§¥ÂèëÈÄÅÁªôBroker Ôºå‰ª•Ê≠§ÈÄöÁü•Broker Êú¨Ê¨°‰∫§‰∫íÈááÁî®ÁöÑÊòØAMQPO-9-1 ÂçèËÆÆÔºåÁ¥ßÊé•ÁùÄBroker ËøîÂõûConnection.Start Êù•Âª∫Á´ãËøûÊé•ÔºåÂú®ËøûÊé•ÁöÑËøáÁ®ã‰∏≠Ê∂âÂèäConnection.Start/.Start-OK „ÄÅConnection.Tune/.Tune-Ok ÔºåConnection.Open/ .Open-Ok Ëøô6 ‰∏™ÂëΩ‰ª§ÁöÑ‰∫§‰∫í„ÄÇ ÂÆ¢Êà∑Á´ØË∞ÉÁî®connection.createChannelÊñπÊ≥ï„ÄÇÊ≠§ÊñπÊ≥ïÂºÄÂêØ‰ø°ÈÅìÔºåÂÖ∂ÂåÖË£ÖÁöÑchannel.openÂëΩ‰ª§ÂèëÈÄÅÁªôBroker,Á≠âÂæÖchannel.basicPublishÊñπÊ≥ïÔºåÂØπÂ∫îÁöÑAMQPÂëΩ‰ª§‰∏∫Basic.Publish,Ëøô‰∏™ÂëΩ‰ª§ÂåÖÂê´‰∫Ücontent Header Âíåcontent Body()„ÄÇcontent Header ÂåÖÂê´‰∫ÜÊ∂àÊÅØ‰ΩìÁöÑÂ±ûÊÄßÔºå‰æãÂ¶Ç:ÊäïÈÄíÊ®°ÂºèÔºå‰ºòÂÖàÁ∫ßÁ≠âÔºåcontent Body ÂåÖÂê´‰∫ÜÊ∂àÊÅØ‰ΩìÊú¨Ë∫´„ÄÇ ÂÆ¢Êà∑Á´ØÂèëÈÄÅÂÆåÊ∂àÊÅØÈúÄË¶ÅÂÖ≥Èó≠ËµÑÊ∫êÊó∂ÔºåÊ∂âÂèäÂà∞Channel.CloseÂíåChannl.Close-Ok ‰∏éConnetion.CloseÂíåConnection.Close-OkÁöÑÂëΩ‰ª§‰∫§‰∫í„ÄÇ Ê∂àË¥πËÄÖÊµÅËΩ¨ËøáÁ®ãËØ¥Êòé Ê∂àË¥πËÄÖÂÆ¢Êà∑Á´Ø‰∏é‰ª£ÁêÜÊúçÂä°Âô®BrokerÂª∫Á´ãËøûÊé•„ÄÇ‰ºöË∞ÉÁî®newConnection() ÊñπÊ≥ï,Ëøô‰∏™ÊñπÊ≥ï‰ºöËøõ‰∏ÄÊ≠•Â∞ÅË£ÖProtocol Header 0-9-1 ÁöÑÊä•ÊñáÂ§¥ÂèëÈÄÅÁªôBroker Ôºå‰ª•Ê≠§ÈÄöÁü•Broker Êú¨Ê¨°‰∫§‰∫íÈááÁî®ÁöÑÊòØAMQPO-9-1 ÂçèËÆÆÔºåÁ¥ßÊé•ÁùÄBroker ËøîÂõûConnection.Start Êù•Âª∫Á´ãËøûÊé•ÔºåÂú®ËøûÊé•ÁöÑËøáÁ®ã‰∏≠Ê∂âÂèäConnection.Start/.Start-OK „ÄÅConnection.Tune/.Tune-Ok ÔºåConnection.Open/ .Open-Ok Ëøô6 ‰∏™ÂëΩ‰ª§ÁöÑ‰∫§‰∫í„ÄÇ Ê∂àË¥πËÄÖÂÆ¢Êà∑Á´ØË∞ÉÁî®connection.createChannelÊñπÊ≥ï„ÄÇÂíåÁîü‰∫ßËÄÖÂÆ¢Êà∑Á´Ø‰∏ÄÊ†∑ÔºåÂçèËÆÆÊ∂âÂèäChannel . Open/Open-OkÂëΩ‰ª§„ÄÇ Âú®ÁúüÊ≠£Ê∂àË¥π‰πãÂâçÔºåÊ∂àË¥πËÄÖÂÆ¢Êà∑Á´ØÈúÄË¶ÅÂêëBroker ÂèëÈÄÅBasic.Consume ÂëΩ‰ª§(Âç≥Ë∞ÉÁî®channel.basicConsume ÊñπÊ≥ï„ÄâÂ∞ÜChannel ÁΩÆ‰∏∫Êé•Êî∂Ê®°ÂºèÔºå‰πãÂêéBroker ÂõûÊâßBasic . Consume - Ok ‰ª•ÂëäËØâÊ∂àË¥πËÄÖÂÆ¢Êà∑Á´ØÂáÜÂ§áÂ•ΩÊ∂àË¥πÊ∂àÊÅØ„ÄÇ Broker ÂêëÊ∂àË¥πËÄÖÂÆ¢Êà∑Á´ØÊé®ÈÄÅ(Push) Ê∂àÊÅØÔºåÂç≥Basic.Deliver ÂëΩ‰ª§ÔºåËøô‰∏™ÂëΩ‰ª§ÂíåBasic.Publish ÂëΩ‰ª§‰∏ÄÊ†∑‰ºöÊê∫Â∏¶Content Header ÂíåContent Body„ÄÇ Ê∂àË¥πËÄÖÊé•Êî∂Âà∞Ê∂àÊÅØÂπ∂Ê≠£Á°ÆÊ∂àË¥π‰πãÂêéÔºåÂêëBroker ÂèëÈÄÅÁ°ÆËÆ§ÔºåÂç≥Basic.Ack ÂëΩ‰ª§„ÄÇ ÂÆ¢Êà∑Á´ØÂèëÈÄÅÂÆåÊ∂àÊÅØÈúÄË¶ÅÂÖ≥Èó≠ËµÑÊ∫êÊó∂ÔºåÊ∂âÂèäÂà∞Channel.CloseÂíåChannl.Close-Ok ‰∏éConnetion.CloseÂíåConnection.Close-OkÁöÑÂëΩ‰ª§‰∫§‰∫í„ÄÇ Â∑•‰ΩúÈòüÂàóÊ®°Âºè Ê®°ÂºèËØ¥ÊòéÔºàÂè™Êúâ‰∏ÄÁõíÁ≥ñ‰Ω†‰ª¨Âá†‰∏™Êä¢Ôºâ Work Queues‰∏éÂÖ•Èó®Á®ãÂ∫èÁöÑÁÆÄÂçïÊ®°ÂºèÁõ∏ÊØîÔºåÂ§ö‰∫Ü‰∏Ä‰∏™Êàñ‰∏Ä‰∫õÊ∂àË¥πÁ´ØÔºåÂ§ö‰∏™Ê∂àË¥πÁ´ØÂÖ±ÂêåÊ∂àË¥πÂêå‰∏Ä‰∏™ÈòüÂàó‰∏≠ÁöÑÊ∂àÊÅØ„ÄÇ Â∫îÁî®Âú∫ÊôØÔºöÂØπ‰∫é ‰ªªÂä°ËøáÈáçÊàñ‰ªªÂä°ËæÉÂ§öÊÉÖÂÜµ‰ΩøÁî®Â∑•‰ΩúÈòüÂàóÂèØ‰ª•ÊèêÈ´ò‰ªªÂä°Â§ÑÁêÜÁöÑÈÄüÂ∫¶„ÄÇ ‰ª£Á†Å Work Queues‰∏éÂÖ•Èó®Á®ãÂ∫èÁöÑÁÆÄÂçïÊ®°ÂºèÁöÑ‰ª£Á†ÅÊòØÂá†‰πé‰∏ÄÊ†∑ÁöÑÔºõÂèØ‰ª•ÂÆåÂÖ®Â§çÂà∂ÔºåÂπ∂Â§çÂà∂Â§ö‰∏Ä‰∏™Ê∂àË¥πËÄÖËøõË°åÂ§ö‰∏™Ê∂àË¥πËÄÖÂêåÊó∂Ê∂àË¥πÊ∂àÊÅØÁöÑÊµãËØï„ÄÇ Áîü‰∫ßËÄÖ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748package com.itheima.rabbitmq.work;import com.itheima.rabbitmq.util.ConnectionUtil;import com.rabbitmq.client.Channel;import com.rabbitmq.client.Connection;import com.rabbitmq.client.ConnectionFactory;public class Producer { static final String QUEUE_NAME = &quot;work_queue&quot;; public static void main(String[] args) throws Exception { //ÂàõÂª∫ËøûÊé• Connection connection = ConnectionUtil.getConnection(); // ÂàõÂª∫È¢ëÈÅì Channel channel = connection.createChannel(); // Â£∞ÊòéÔºàÂàõÂª∫ÔºâÈòüÂàó /** * ÂèÇÊï∞1ÔºöÈòüÂàóÂêçÁß∞ * ÂèÇÊï∞2ÔºöÊòØÂê¶ÂÆö‰πâÊåÅ‰πÖÂåñÈòüÂàó * ÂèÇÊï∞3ÔºöÊòØÂê¶Áã¨Âç†Êú¨Ê¨°ËøûÊé• * ÂèÇÊï∞4ÔºöÊòØÂê¶Âú®‰∏ç‰ΩøÁî®ÁöÑÊó∂ÂÄôËá™Âä®Âà†Èô§ÈòüÂàó * ÂèÇÊï∞5ÔºöÈòüÂàóÂÖ∂ÂÆÉÂèÇÊï∞ */ channel.queueDeclare(QUEUE_NAME, true, false, false, null); for (int i = 1; i &lt;= 30; i++) { // ÂèëÈÄÅ‰ø°ÊÅØ String message = &quot;‰Ω†Â•ΩÔºõÂ∞èÂÖîÂ≠êÔºÅworkÊ®°Âºè--&quot; + i; /** * ÂèÇÊï∞1Ôºö‰∫§Êç¢Êú∫ÂêçÁß∞ÔºåÂ¶ÇÊûúÊ≤°ÊúâÊåáÂÆöÂàô‰ΩøÁî®ÈªòËÆ§Default Exchage * ÂèÇÊï∞2ÔºöË∑ØÁî±key,ÁÆÄÂçïÊ®°ÂºèÂèØ‰ª•‰º†ÈÄíÈòüÂàóÂêçÁß∞ * ÂèÇÊï∞3ÔºöÊ∂àÊÅØÂÖ∂ÂÆÉÂ±ûÊÄß * ÂèÇÊï∞4ÔºöÊ∂àÊÅØÂÜÖÂÆπ */ channel.basicPublish(&quot;&quot;, QUEUE_NAME, null, message.getBytes()); System.out.println(&quot;Â∑≤ÂèëÈÄÅÊ∂àÊÅØÔºö&quot; + message); } // ÂÖ≥Èó≠ËµÑÊ∫ê channel.close(); connection.close(); }} Ê∂àË¥πËÄÖ1 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465package com.itheima.rabbitmq.work;import com.itheima.rabbitmq.util.ConnectionUtil;import com.rabbitmq.client.*;import java.io.IOException;public class Consumer1 { public static void main(String[] args) throws Exception { Connection connection = ConnectionUtil.getConnection(); // ÂàõÂª∫È¢ëÈÅì Channel channel = connection.createChannel(); // Â£∞ÊòéÔºàÂàõÂª∫ÔºâÈòüÂàó /** * ÂèÇÊï∞1ÔºöÈòüÂàóÂêçÁß∞ * ÂèÇÊï∞2ÔºöÊòØÂê¶ÂÆö‰πâÊåÅ‰πÖÂåñÈòüÂàó * ÂèÇÊï∞3ÔºöÊòØÂê¶Áã¨Âç†Êú¨Ê¨°ËøûÊé• * ÂèÇÊï∞4ÔºöÊòØÂê¶Âú®‰∏ç‰ΩøÁî®ÁöÑÊó∂ÂÄôËá™Âä®Âà†Èô§ÈòüÂàó * ÂèÇÊï∞5ÔºöÈòüÂàóÂÖ∂ÂÆÉÂèÇÊï∞ */ channel.queueDeclare(Producer.QUEUE_NAME, true, false, false, null); //‰∏ÄÊ¨°Âè™ËÉΩÊé•Êî∂Âπ∂Â§ÑÁêÜ‰∏Ä‰∏™Ê∂àÊÅØ channel.basicQos(1); //ÂàõÂª∫Ê∂àË¥πËÄÖÔºõÂπ∂ËÆæÁΩÆÊ∂àÊÅØÂ§ÑÁêÜ DefaultConsumer consumer = new DefaultConsumer(channel){ @Override /** * consumerTag Ê∂àÊÅØËÄÖÊ†áÁ≠æÔºåÂú®channel.basicConsumeÊó∂ÂÄôÂèØ‰ª•ÊåáÂÆö * envelope Ê∂àÊÅØÂåÖÁöÑÂÜÖÂÆπÔºåÂèØ‰ªé‰∏≠Ëé∑ÂèñÊ∂àÊÅØidÔºåÊ∂àÊÅØroutingkeyÔºå‰∫§Êç¢Êú∫ÔºåÊ∂àÊÅØÂíåÈáç‰º†Ê†áÂøó(Êî∂Âà∞Ê∂àÊÅØÂ§±Ë¥•ÂêéÊòØÂê¶ÈúÄË¶ÅÈáçÊñ∞ÂèëÈÄÅ) * properties Â±ûÊÄß‰ø°ÊÅØ * body Ê∂àÊÅØ */ public void handleDelivery(String consumerTag, Envelope envelope, AMQP.BasicProperties properties, byte[] body) throws IOException { try { //Ë∑ØÁî±key System.out.println(&quot;Ë∑ØÁî±key‰∏∫Ôºö&quot; + envelope.getRoutingKey()); //‰∫§Êç¢Êú∫ System.out.println(&quot;‰∫§Êç¢Êú∫‰∏∫Ôºö&quot; + envelope.getExchange()); //Ê∂àÊÅØid System.out.println(&quot;Ê∂àÊÅØid‰∏∫Ôºö&quot; + envelope.getDeliveryTag()); //Êî∂Âà∞ÁöÑÊ∂àÊÅØ System.out.println(&quot;Ê∂àË¥πËÄÖ1-Êé•Êî∂Âà∞ÁöÑÊ∂àÊÅØ‰∏∫Ôºö&quot; + new String(body, &quot;utf-8&quot;)); Thread.sleep(1000); //Á°ÆËÆ§Ê∂àÊÅØ channel.basicAck(envelope.getDeliveryTag(), false); } catch (InterruptedException e) { e.printStackTrace(); } } }; //ÁõëÂê¨Ê∂àÊÅØ /** * ÂèÇÊï∞1ÔºöÈòüÂàóÂêçÁß∞ * ÂèÇÊï∞2ÔºöÊòØÂê¶Ëá™Âä®Á°ÆËÆ§ÔºåËÆæÁΩÆ‰∏∫true‰∏∫Ë°®Á§∫Ê∂àÊÅØÊé•Êî∂Âà∞Ëá™Âä®ÂêëmqÂõûÂ§çÊé•Êî∂Âà∞‰∫ÜÔºåmqÊé•Êî∂Âà∞ÂõûÂ§ç‰ºöÂà†Èô§Ê∂àÊÅØÔºåËÆæÁΩÆ‰∏∫falseÂàôÈúÄË¶ÅÊâãÂä®Á°ÆËÆ§ * ÂèÇÊï∞3ÔºöÊ∂àÊÅØÊé•Êî∂Âà∞ÂêéÂõûË∞É */ channel.basicConsume(Producer.QUEUE_NAME, false, consumer); }} Ê∂àË¥πËÄÖ2 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566package com.itheima.rabbitmq.work;import com.itheima.rabbitmq.util.ConnectionUtil;import com.rabbitmq.client.*;import java.io.IOException;public class Consumer2 { public static void main(String[] args) throws Exception { Connection connection = ConnectionUtil.getConnection(); // ÂàõÂª∫È¢ëÈÅì Channel channel = connection.createChannel(); // Â£∞ÊòéÔºàÂàõÂª∫ÔºâÈòüÂàó /** * ÂèÇÊï∞1ÔºöÈòüÂàóÂêçÁß∞ * ÂèÇÊï∞2ÔºöÊòØÂê¶ÂÆö‰πâÊåÅ‰πÖÂåñÈòüÂàó * ÂèÇÊï∞3ÔºöÊòØÂê¶Áã¨Âç†Êú¨Ê¨°ËøûÊé• * ÂèÇÊï∞4ÔºöÊòØÂê¶Âú®‰∏ç‰ΩøÁî®ÁöÑÊó∂ÂÄôËá™Âä®Âà†Èô§ÈòüÂàó * ÂèÇÊï∞5ÔºöÈòüÂàóÂÖ∂ÂÆÉÂèÇÊï∞ */ channel.queueDeclare(Producer.QUEUE_NAME, true, false, false, null); //‰∏ÄÊ¨°Âè™ËÉΩÊé•Êî∂Âπ∂Â§ÑÁêÜ‰∏Ä‰∏™Ê∂àÊÅØ channel.basicQos(1); //ÂàõÂª∫Ê∂àË¥πËÄÖÔºõÂπ∂ËÆæÁΩÆÊ∂àÊÅØÂ§ÑÁêÜ DefaultConsumer consumer = new DefaultConsumer(channel){ @Override /** * consumerTag Ê∂àÊÅØËÄÖÊ†áÁ≠æÔºåÂú®channel.basicConsumeÊó∂ÂÄôÂèØ‰ª•ÊåáÂÆö * envelope Ê∂àÊÅØÂåÖÁöÑÂÜÖÂÆπÔºåÂèØ‰ªé‰∏≠Ëé∑ÂèñÊ∂àÊÅØidÔºåÊ∂àÊÅØroutingkeyÔºå‰∫§Êç¢Êú∫ÔºåÊ∂àÊÅØÂíåÈáç‰º†Ê†áÂøó(Êî∂Âà∞Ê∂àÊÅØÂ§±Ë¥•ÂêéÊòØÂê¶ÈúÄË¶ÅÈáçÊñ∞ÂèëÈÄÅ) * properties Â±ûÊÄß‰ø°ÊÅØ * body Ê∂àÊÅØ */ public void handleDelivery(String consumerTag, Envelope envelope, AMQP.BasicProperties properties, byte[] body) throws IOException { try { //Ë∑ØÁî±key System.out.println(&quot;Ë∑ØÁî±key‰∏∫Ôºö&quot; + envelope.getRoutingKey()); //‰∫§Êç¢Êú∫ System.out.println(&quot;‰∫§Êç¢Êú∫‰∏∫Ôºö&quot; + envelope.getExchange()); //Ê∂àÊÅØid System.out.println(&quot;Ê∂àÊÅØid‰∏∫Ôºö&quot; + envelope.getDeliveryTag()); //Êî∂Âà∞ÁöÑÊ∂àÊÅØ System.out.println(&quot;Ê∂àË¥πËÄÖ2-Êé•Êî∂Âà∞ÁöÑÊ∂àÊÅØ‰∏∫Ôºö&quot; + new String(body, &quot;utf-8&quot;)); Thread.sleep(1000); //Á°ÆËÆ§Ê∂àÊÅØ channel.basicAck(envelope.getDeliveryTag(), false); } catch (InterruptedException e) { e.printStackTrace(); } } }; //ÁõëÂê¨Ê∂àÊÅØ /** * ÂèÇÊï∞1ÔºöÈòüÂàóÂêçÁß∞ * ÂèÇÊï∞2ÔºöÊòØÂê¶Ëá™Âä®Á°ÆËÆ§ÔºåËÆæÁΩÆ‰∏∫true‰∏∫Ë°®Á§∫Ê∂àÊÅØÊé•Êî∂Âà∞Ëá™Âä®ÂêëmqÂõûÂ§çÊé•Êî∂Âà∞‰∫ÜÔºåmqÊé•Êî∂Âà∞ÂõûÂ§ç‰ºöÂà†Èô§Ê∂àÊÅØÔºåËÆæÁΩÆ‰∏∫falseÂàôÈúÄË¶ÅÊâãÂä®Á°ÆËÆ§ * ÂèÇÊï∞3ÔºöÊ∂àÊÅØÊé•Êî∂Âà∞ÂêéÂõûË∞É */ channel.basicConsume(Producer.QUEUE_NAME, false, consumer); }} ÊµãËØï ÂêØÂä®‰∏§‰∏™Ê∂àË¥πËÄÖÔºåÁÑ∂ÂêéÂÜçÂêØÂä®Áîü‰∫ßËÄÖÂèëÈÄÅÊ∂àÊÅØÔºõÂà∞IDEAÁöÑ‰∏§‰∏™Ê∂àË¥πËÄÖÂØπÂ∫îÁöÑÊéßÂà∂Âè∞Êü•ÁúãÊòØÂê¶Á´û‰∫âÊÄßÁöÑÊé•Êî∂Âà∞Ê∂àÊÅØ„ÄÇ Â∞èÁªì Âú®‰∏Ä‰∏™ÈòüÂàó‰∏≠Â¶ÇÊûúÊúâÂ§ö‰∏™Ê∂àË¥πËÄÖÔºåÈÇ£‰πàÊ∂àË¥πËÄÖ‰πãÈó¥ÂØπ‰∫éÂêå‰∏Ä‰∏™Ê∂àÊÅØÁöÑÂÖ≥Á≥ªÊòØÁ´û‰∫âÁöÑÂÖ≥Á≥ª„ÄÇ Publish/SubscribeÂèëÂ∏É‰∏éËÆ¢ÈòÖÊ®°Âºè Ê®°ÂºèËØ¥ÊòéÔºàÁªôÂñúÊ¨¢ÁöÑ‰∫∫‰∏ÄÊ†∑ÁöÑÁ≥ñÔºâ„ÄêFANOUT„Äë Âú®ËÆ¢ÈòÖÊ®°Âûã‰∏≠ÔºåÂ§ö‰∫Ü‰∏Ä‰∏™ Exchange ËßíËâ≤ÔºåËÄå‰∏îËøáÁ®ãÁï•ÊúâÂèòÂåñÔºö PÔºöÁîü‰∫ßËÄÖÔºå‰πüÂ∞±ÊòØË¶ÅÂèëÈÄÅÊ∂àÊÅØÁöÑÁ®ãÂ∫èÔºå‰ΩÜÊòØ‰∏çÂÜçÂèëÈÄÅÂà∞ÈòüÂàó‰∏≠ÔºåËÄåÊòØÂèëÁªôXÔºà‰∫§Êç¢Êú∫Ôºâ 123456789//1.ÂàõÂª∫ËøûÊé•Â∑•ÂéÇ//2. ËÆæÁΩÆÂèÇÊï∞//3. ÂàõÂª∫ËøûÊé• Connection//4. ÂàõÂª∫Channel//5. ÂàõÂª∫‰∫§Êç¢Êú∫//6. ÂàõÂª∫ÈòüÂàó//7. ÁªëÂÆöÈòüÂàóÂíå‰∫§Êç¢Êú∫//8. ÂèëÈÄÅÊ∂àÊÅØ//9. ÈáäÊîæËµÑÊ∫ê CÔºöÊ∂àË¥πËÄÖÔºåÊ∂àÊÅØÁöÑÊé•Êî∂ËÄÖÔºå‰ºö‰∏ÄÁõ¥Á≠âÂæÖÊ∂àÊÅØÂà∞Êù• QueueÔºöÊ∂àÊÅØÈòüÂàóÔºåÊé•Êî∂Ê∂àÊÅØ„ÄÅÁºìÂ≠òÊ∂àÊÅØ ExchangeÔºö‰∫§Êç¢Êú∫ÔºàXÔºâ„ÄÇ‰∏ÄÊñπÈù¢ÔºåÊé•Êî∂Áîü‰∫ßËÄÖÂèëÈÄÅÁöÑÊ∂àÊÅØ„ÄÇÂè¶‰∏ÄÊñπÈù¢ÔºåÁü•ÈÅìÂ¶Ç‰ΩïÂ§ÑÁêÜÊ∂àÊÅØÔºå‰æãÂ¶ÇÈÄí‰∫§ÁªôÊüê‰∏™ÁâπÂà´ÈòüÂàó„ÄÅÈÄí‰∫§ÁªôÊâÄÊúâÈòüÂàó„ÄÅÊàñÊòØÂ∞ÜÊ∂àÊÅØ‰∏¢ÂºÉ„ÄÇÂà∞Â∫ïÂ¶Ç‰ΩïÊìç‰ΩúÔºåÂèñÂÜ≥‰∫éExchangeÁöÑÁ±ªÂûã„ÄÇExchangeÊúâÂ∏∏ËßÅ‰ª•‰∏ã3ÁßçÁ±ªÂûãÔºö FanoutÔºöÂπøÊí≠ÔºåÂ∞ÜÊ∂àÊÅØ‰∫§ÁªôÊâÄÊúâÁªëÂÆöÂà∞‰∫§Êç¢Êú∫ÁöÑÈòüÂàó DirectÔºöÂÆöÂêëÔºåÊääÊ∂àÊÅØ‰∫§ÁªôÁ¨¶ÂêàÊåáÂÆörouting key ÁöÑÈòüÂàó TopicÔºöÈÄöÈÖçÁ¨¶ÔºåÊääÊ∂àÊÅØ‰∫§ÁªôÁ¨¶Âêàrouting patternÔºàË∑ØÁî±Ê®°ÂºèÔºâ ÁöÑÈòüÂàó ExchangeÔºà‰∫§Êç¢Êú∫ÔºâÂè™Ë¥üË¥£ËΩ¨ÂèëÊ∂àÊÅØÔºå‰∏çÂÖ∑Â§áÂ≠òÂÇ®Ê∂àÊÅØÁöÑËÉΩÂäõÔºåÂõ†Ê≠§Â¶ÇÊûúÊ≤°Êúâ‰ªª‰ΩïÈòüÂàó‰∏é Exchange ÁªëÂÆöÔºåÊàñËÄÖÊ≤°ÊúâÁ¨¶ÂêàË∑ØÁî±ËßÑÂàôÁöÑÈòüÂàóÔºåÈÇ£‰πàÊ∂àÊÅØ‰ºö‰∏¢Â§±ÔºÅ RoutingË∑ØÁî±Â∑•‰ΩúÊ®°Âºè Ê®°ÂºèËØ¥ÊòéÔºöÁªôÊõ¥Áà±ÁöÑ‰∫∫Êõ¥ÁîúÁöÑÁ≥ñ„ÄêDIRECT„Äë ÈòüÂàó‰∏é‰∫§Êç¢Êú∫ÁöÑÁªëÂÆöÔºå‰∏çËÉΩÊòØ‰ªªÊÑèÁªëÂÆö‰∫ÜÔºåËÄåÊòØË¶ÅÊåáÂÆö‰∏Ä‰∏™ RoutingKeyÔºàË∑ØÁî±keyÔºâ lÊ∂àÊÅØÁöÑÂèëÈÄÅÊñπÂú®Âêë Exchange ÂèëÈÄÅÊ∂àÊÅØÊó∂Ôºå‰πüÂøÖÈ°ªÊåáÂÆöÊ∂àÊÅØÁöÑ RoutingKey lExchange ‰∏çÂÜçÊääÊ∂àÊÅØ‰∫§ÁªôÊØè‰∏Ä‰∏™ÁªëÂÆöÁöÑÈòüÂàóÔºåËÄåÊòØÊ†πÊçÆÊ∂àÊÅØÁöÑ Routing Key ËøõË°åÂà§Êñ≠ÔºåÂè™ÊúâÈòüÂàóÁöÑRoutingkey ‰∏éÊ∂àÊÅØÁöÑ Routing key ÂÆåÂÖ®‰∏ÄËá¥ÔºåÊâç‰ºöÊé•Êî∂Âà∞Ê∂àÊÅØ lPÔºöÁîü‰∫ßËÄÖÔºåÂêë Exchange ÂèëÈÄÅÊ∂àÊÅØÔºåÂèëÈÄÅÊ∂àÊÅØÊó∂Ôºå‰ºöÊåáÂÆö‰∏Ä‰∏™routing key lXÔºöExchangeÔºà‰∫§Êç¢Êú∫ÔºâÔºåÊé•Êî∂Áîü‰∫ßËÄÖÁöÑÊ∂àÊÅØÔºåÁÑ∂ÂêéÊääÊ∂àÊÅØÈÄí‰∫§Áªô‰∏é routing key ÂÆåÂÖ®ÂåπÈÖçÁöÑÈòüÂàó lC1ÔºöÊ∂àË¥πËÄÖÔºåÂÖ∂ÊâÄÂú®ÈòüÂàóÊåáÂÆö‰∫ÜÈúÄË¶Å routing key ‰∏∫ error ÁöÑÊ∂àÊÅØ lC2ÔºöÊ∂àË¥πËÄÖÔºåÂÖ∂ÊâÄÂú®ÈòüÂàóÊåáÂÆö‰∫ÜÈúÄË¶Å routing key ‰∏∫ info„ÄÅerror„ÄÅwarning ÁöÑÊ∂àÊÅØ Routing Ê®°ÂºèË¶ÅÊ±ÇÈòüÂàóÂú®ÁªëÂÆö‰∫§Êç¢Êú∫Êó∂Ë¶ÅÊåáÂÆö routing keyÔºåÊ∂àÊÅØ‰ºöËΩ¨ÂèëÂà∞Á¨¶Âêà routing key ÁöÑÈòüÂàó TopicsÈÄöÈÖçÁ¨¶Â∑•‰ΩúÊ®°Âºè Ê®°ÂºèËØ¥ÊòéÔºöÁªôÂßìÊùéÁöÑ‰∫∫Á±ªÊ£âËä±Á≥ñÔºåÂßìÊ¢ÅÁöÑ‰∫∫Á±ªÈ∏°Â±éÈ∫ªÁ≥ñ„ÄêTOPIC„Äë TopicÁ±ªÂûã‰∏éDirectÁõ∏ÊØîÔºåÈÉΩÊòØÂèØ‰ª•Ê†πÊçÆRoutingKeyÊääÊ∂àÊÅØË∑ØÁî±Âà∞‰∏çÂêåÁöÑÈòüÂàó„ÄÇÂè™‰∏çËøáTopicÁ±ªÂûãExchangeÂèØ‰ª•ËÆ©ÈòüÂàóÂú®ÁªëÂÆöRouting key ÁöÑÊó∂ÂÄô‰ΩøÁî®ÈÄöÈÖçÁ¨¶ÔºÅ Routingkey ‰∏ÄËà¨ÈÉΩÊòØÊúâ‰∏Ä‰∏™ÊàñÂ§ö‰∏™ÂçïËØçÁªÑÊàêÔºåÂ§ö‰∏™ÂçïËØç‰πãÈó¥‰ª•‚Äù.‚ÄùÂàÜÂâ≤Ôºå‰æãÂ¶ÇÔºö item.insert ÈÄöÈÖçÁ¨¶ËßÑÂàôÔºö #ÔºöÂåπÈÖç‰∏Ä‰∏™ÊàñÂ§ö‰∏™ËØç *ÔºöÂåπÈÖç‰∏çÂ§ö‰∏çÂ∞ëÊÅ∞Â•Ω1‰∏™ËØç ‰∏æ‰æãÔºö item.#ÔºöËÉΩÂ§üÂåπÈÖçitem.insert.abc ÊàñËÄÖ item.insert item.*ÔºöÂè™ËÉΩÂåπÈÖçitem.insert ÂõæËß£Ôºö Á∫¢Ëâ≤QueueÔºöÁªëÂÆöÁöÑÊòØusa.# ÔºåÂõ†Ê≠§Âá°ÊòØ‰ª• usa.ÂºÄÂ§¥ÁöÑrouting key ÈÉΩ‰ºöË¢´ÂåπÈÖçÂà∞ ÈªÑËâ≤QueueÔºöÁªëÂÆöÁöÑÊòØ#.news ÔºåÂõ†Ê≠§Âá°ÊòØ‰ª• .newsÁªìÂ∞æÁöÑ routing key ÈÉΩ‰ºöË¢´ÂåπÈÖç Spring-RabbitMQ ËØ¶ÊÉÖËßÅ‰ª£Á†Å SpringBoot-RabbitMQ RabbitMQÈ´òÁ∫ßÁâπÊÄß Âèë„ÄÅÊî∂„ÄÅÈôê„ÄÅÊó∂„ÄÅËææ„ÄÅ 1.1Ê∂àÊÅØÂèØÈù†ÊäïÈÄí „ÄêÂØÑÁöÑÁ≥ñ‰Ω†Êî∂Âà∞‰∫ÜÂêó„Äë confirmÁ°ÆËÆ§Ê®°Âºè „ÄêÊ∂àÊÅØ‰ªé producer Âà∞ exchange Êó†ËÆ∫Â¶Ç‰Ωï‰ºöËøîÂõû‰∏Ä‰∏™confirmCallback„Äë returnÈÄÄÂõûÊ®°Âºè „ÄêÊ∂àÊÅØ‰ªéproducerÂà∞ queue Â§±Ë¥•Âàô‰ºöËøîÂõû‰∏Ä‰∏™returnCallback„Äë rabbitmqÊï¥ÂêÑÊ∂àÊÅØÊäïÈÄíÁöÑË∑ØÂæÑ‰∏∫Ôºö profucer-----„Äãrabbitmq broker----„Äãexchange-----„Äãqueue----„Äãconsumer ËÆæÁΩÆConnectionFactoryÁöÑpublisher-confirm=&quot;true&quot; ÂºÄÂêØÁ°ÆËÆ§Ê®°Âºè ‰ΩøÁî®rabbitTemplate.setConfirmCallbackËÆæÁΩÆÂõûË∞ÉÂáΩÊï∞„ÄÇÂΩìÊ∂àÊÅØÂèëÈÄÅÂà∞exchangeÂêéÂõûË∞ÉconfirmÊñπÊ≥ï„ÄÇÂú®ÊñπÊ≥ï‰∏≠Âà§Êñ≠trueÔºåÂàôÂèëÈÄÅÊàêÂäüÔºåÂèç‰πãÂ§±Ë¥•ÔºåÈúÄË¶ÅÂ§ÑÁêÜ ËÆæÁΩÆConnectionFactoryÁöÑpublisher-returns=&quot;true&quot; ÂºÄÂêØÈÄÄÂõûÊ®°Âºè ‰ΩøÁî®rabbitTemplate.setReturnCallbackËÆæÁΩÆÂõûË∞ÉÂáΩÊï∞„ÄÇÂΩìÊ∂àÊÅØ‰ªéexchangeË∑ØÁî±Âà∞queueÂ§±Ë¥•ÂêéÔºåÂ¶ÇÊûúËÆæÁΩÆ‰∫ÜrabbitTemplate.setMandatory(true)ÂèÇÊï∞ÔºåÂàô‰ºöÂ∞ÜÊ∂àÊÅØÈÄÄÂõûÁªôproducer„ÄÇÂπ∂ÊâßË°åÂõûË∞ÉÂáΩÊï∞returnedMessage„ÄÇ Âú®RabbitMQ‰∏≠‰πüÊèê‰æõ‰∫Ü‰∫ãÁâ©Êú∫Âà∂Ôºå‰ΩÜÊòØÊÄßËÉΩËæÉÂ∑Æ„ÄÇ 1.2Consumer ACK „ÄêÊî∂Âà∞Á≥ñÁªô‰Ω†ÊÄé‰πàÂõûÂ§ç„Äë ackÊåáacknowledgeÔºåÁ°ÆËÆ§„ÄÇË°®Á§∫Ê∂àË¥πÁ´ØÊî∂Âà∞Ê∂àÊÅØÂêéÁöÑÁ°ÆËÆ§ÊñπÂºè ‰∏âÁßçÁ°ÆËÆ§ÊñπÂºèÔºö ‚Äã Ëá™Âä®Á°ÆËÆ§Ôºöacknowledge=&quot;none&quot;„Äê‰∏öÂä°Âá∫ÈóÆÈ¢ò‰πü‰ºöÂõûÂ§çÊî∂Âà∞„Äë ‚Äã ÊâãÂä®Á°ÆËÆ§Ôºöacknowledge=&quot;manual&quot;„ÄêÁ≠â‰∏öÂä°Â§ÑÁêÜÊ≤°ÈóÆÈ¢òÂêéÂõûÂ§çÊî∂Âà∞ÔºåÊúâÈóÆÈ¢òÂèØÂ§ÑÁêÜ„Äë ‚Äã Ê†πÊçÆÂºÇÂ∏∏ÊÉÖÂÜµÁ°ÆËÆ§Ôºöacknowledge=&quot;auto&quot; ‚Äã Ëá™Âä®Á°ÆËÆ§Ê∂àÊÅØË¢´consumerÊé•Êî∂Âà∞ÔºåÂàôËá™Âä®Á°ÆËÆ§ÔºåÂπ∂Â∞ÜÂìçÂ∫îmessage‰ªéÁºìÂ≠ò‰∏≠ÁßªÈô§ÔºåÂÆûÈôÖ‰∏öÂä°‰∏≠Â∞èÁªÜËäÇÂèóÂà∞Ôºå‰∏öÂä°Âá∫Áé∞ÂºÇÂ∏∏ÔºåÈÇ£‰πàÊ∂àÊÅØ‰ºö‰∏¢Â§±ÔºåÂ¶ÇÊûúÊòØËÆæÁΩÆÁöÑÊâãÂä®Á°ÆËÆ§ÊñπÂºèÔºåÂàôÈúÄË¶Å‰∏öÂä°Â§ÑÁêÜÊàêÂäüÂêéÔºåË∞ÉÁî®channel.basicAck(),ÊâãÂä®Á≠æÊî∂ÔºåÂ¶ÇÊûúÂá∫Áé∞ÂºÇÂ∏∏ÔºåÂàôË∞ÉÁî®channel.basicNackÔºàÔºâÊñπÊ≥ïÔºåËÆ©ÂÖ∂Ëá™Âä®ÈáçÂèëÊ∂àÊÅØ„ÄÇ 1234* 1. ËÆæÁΩÆÊâãÂä®Á≠æÊî∂„ÄÇacknowledge=&quot;manual&quot;* 2. ËÆ©ÁõëÂê¨Âô®Á±ªÂÆûÁé∞ChannelAwareMessageListenerÊé•Âè£* 3. Â¶ÇÊûúÊ∂àÊÅØÊàêÂäüÂ§ÑÁêÜÔºåÂàôË∞ÉÁî®channelÁöÑ basicAck()Á≠æÊî∂* 4. Â¶ÇÊûúÊ∂àÊÅØÂ§ÑÁêÜÂ§±Ë¥•ÔºåÂàôË∞ÉÁî®channelÁöÑbasicNack()ÊãíÁªùÁ≠æÊî∂ÔºåbrokerÈáçÊñ∞ÂèëÈÄÅÁªôconsumer 1.3Ê∂àË¥πÁ´ØÈôêÊµÅqos „ÄêÊàëÊØèÊ¨°Âè™Êî∂1000È¢óÁ≥ñ„Äë 12341. Á°Æ‰øùackÊú∫Âà∂‰∏∫ÊâãÂä®Á°ÆËÆ§„ÄÇ2. listener-containerÈÖçÁΩÆÂ±ûÊÄß perfetch = 1,Ë°®Á§∫Ê∂àË¥πÁ´ØÊØèÊ¨°‰ªémqÊãâÂéª‰∏ÄÊù°Ê∂àÊÅØÊù•Ê∂àË¥πÔºåÁõ¥Âà∞ÊâãÂä®Á°ÆËÆ§Ê∂àË¥πÂÆåÊØïÂêéÔºåÊâç‰ºöÁªßÁª≠ÊãâÂéª‰∏ã‰∏ÄÊù°Ê∂àÊÅØ„ÄÇ &lt;rabbit:listener-container connection-factory=&quot;connectionFactory&quot; acknowledge=&quot;manual&quot; prefetch=&quot;1&quot; &gt; 1.4TTL „ÄêÁ≥ñÊîæÂø´ÈÄíÁ´ôÂçÅÂπ¥Â∞±‰∏çËÉΩÂêÉ‰∫Ü„Äë 1234567* TTL:ËøáÊúüÊó∂Èó¥* 1. ÈòüÂàóÁªü‰∏ÄËøáÊúü* 2. Ê∂àÊÅØÂçïÁã¨ËøáÊúü** Â¶ÇÊûúËÆæÁΩÆ‰∫ÜÊ∂àÊÅØÁöÑËøáÊúüÊó∂Èó¥Ôºå‰πüËÆæÁΩÆ‰∫ÜÈòüÂàóÁöÑËøáÊúüÊó∂Èó¥ÔºåÂÆÉ‰ª•Êó∂Èó¥Áü≠ÁöÑ‰∏∫ÂáÜ„ÄÇ* ÈòüÂàóËøáÊúüÂêéÔºå‰ºöÂ∞ÜÈòüÂàóÊâÄÊúâÊ∂àÊÅØÂÖ®ÈÉ®ÁßªÈô§„ÄÇ* Ê∂àÊÅØËøáÊúüÂêéÔºåÂè™ÊúâÊ∂àÊÅØÂú®ÈòüÂàóÈ°∂Á´ØÔºåÊâç‰ºöÂà§Êñ≠ÂÖ∂ÊòØÂê¶ËøáÊúü(ÁßªÈô§Êéâ) 1.5Ê≠ª‰ø°ÈòüÂàó „Äê‰∏çÂ•ΩÂêÉÁöÑÁ≥ñÈÉΩÁªôÂÖ∂‰ªñ‰∫∫Âêß„Äë Ê≠ª‰ø°ÈòüÂàóÔºàDXLÔºâ„ÄÇDead Letter ExchangeÔºàÊ≠ª‰ø°ÈòüÂàó‰∫§Êç¢Êú∫ÔºâÔºåÂΩìÊ∂àÊÅØÊàê‰∏∫Dead MessageÂêéÔºåÂèØ‰ª•Ë¢´ÈáçÊñ∞ÂèëÈÄÅÂà∞Âè¶Â§ñ‰∏Ä‰∏™‰∫§Êç¢Êú∫ÔºåËøô‰∏™‰∫§Êç¢Êú∫Â∞±ÊòØDEX„ÄÇÊ≠ª‰ø°ÈòüÂàóÂíåÊ≠ª‰ø°‰∫§Êç¢Êú∫ÂíåÊôÆÈÄöÁöÑÊ≤°ÊúâÂå∫Âà´„ÄÇ ÈóÆÈ¢òÔºö 1.Ê∂àÊÅØ‰ªÄ‰πàÊó∂ÂÄôÊàê‰∏∫Ê≠ª‰ø°? Ê∂àÊÅØÊàê‰∏∫Ê≠ª‰ø°ÁöÑ‰∏âÁßçÊÉÖÂÜµÔºö 1.ÈòüÂàóÊ∂àÊÅØÁöÑÈïøÂ∫¶ËææÂà∞ÈôêÂà∂ 2.Ê∂àË¥πËÄÖÊãíÊî∂Ê∂àË¥πÊ∂àÊÅØÔºåbasicNack/basicRejectÔºåÂπ∂‰∏î‰∏çÊääÊ∂àÊÅØÈáçÊñ∞ÊîæÂÖ•ÂéüÁõÆÊ†áÈòüÂàóÔºårequeue=false 3.ÂéüÈòüÂàóÂ≠òÂú®Ê∂àÊÅØËøáÊúüËÆæÁΩÆÔºåÊ∂àÊÅØËææË∂ÖÊó∂Èó¥Êú™Ë¢´Ê∂àË¥πÔºõ 2.ÈòüÂàóÂ¶Ç‰Ωï‰∏éDEXÁªëÂÆöÔºü 1.6Âª∂ËøüÈòüÂàó „ÄêÊàëÂ¶àÂè´Êàë‰∏âÂçÅÂàÜÈíüÂêéÊâçËÉΩÂêÉËøôÈ¢óÁ≥ñ„Äë Ê∂àÊÅØËøõÂÖ•ÈòüÂàóÂêé‰∏ç‰ºöË¢´Á´ãÂç≥Ë¢´Ê∂àË¥πÔºåÂè™ÊúâËææÂà∞ÊåáÂÆöÊó∂Èó¥ÂêéÔºåÊâç‰ºöË¢´Ê∂àË¥π„ÄÇ ÈúÄÊ±ÇÔºö ‚Äã 1.‰∏ãÂçïÂêé‰∏âÂçÅÂàÜÈíüÊú™ÊîØ‰ªòÔºåÂèñÊ∂àËÆ¢ÂçïÔºåÂõûÊªöÂ∫ìÂ≠ò ‚Äã 2.Êñ∞Áî®Êà∑Ê≥®ÂÜå7Â§©ÂêéÔºåÂèëÈÄÅÁü≠‰ø°ÈóÆÂÄô ÂÆûÁé∞ÊñπÂºè ‚Äã 1.ÂÆöÊó∂Âô®ÔºàÊúâÂª∂ËøüÔºåÂØπÊï∞ÊçÆÂ∫ìÊúâÂΩ±ÂìçÔºâ ‚Äã 2.Âª∂ËøüÈòüÂàóÔºàMQ‰∏≠Êú™Áõ¥Êé•Êèê‰æõÂª∂ËøüÈòüÂàóÔºåDLX+TTLÂÆûÁé∞Ôºâ 1.7Êó•Âøó‰∏éÁõëÊéß RabbitMQÈªòËÆ§Êó•ÂøóÂ≠òÊîæË∑ØÂæÑÔºö /var/log/rabbitmq/rabbit@xxx.log Êó•ÂøóÂåÖÂê´‰∫ÜRabbitMQÁöÑÁâàÊú¨Âè∑„ÄÅErlangÁöÑÁâàÊú¨Âè∑„ÄÅRabbitMQÊúçÂä°ËäÇÁÇπÂêçÁß∞„ÄÅcookieÁöÑhashÂÄº„ÄÅRabbitMQÈÖçÁΩÆÊñá‰ª∂Âú∞ÂùÄ„ÄÅÂÜÖÂ≠òÈôêÂà∂„ÄÅÁ£ÅÁõòÈôêÂà∂„ÄÅÈªòËÆ§Ë¥¶Êà∑guestÁöÑÂàõÂª∫‰ª•ÂèäÊùÉÈôêÈÖçÁΩÆÁ≠âÁ≠â„ÄÇ 123456789101112131415161718Êü•ÁúãÈòüÂàó# rabbitmqctl list_queuesÊü•Áúãexchanges# rabbitmqctl list_exchangesÊü•ÁúãÁî®Êà∑# rabbitmqctl list_usersÊü•ÁúãËøûÊé•# rabbitmqctl list_connectionsÊü•ÁúãÊ∂àË¥πËÄÖ‰ø°ÊÅØ# rabbitmqctl list_consumersÊü•ÁúãÁéØÂ¢ÉÂèòÈáè# rabbitmqctl environmentÊü•ÁúãÊú™Ë¢´Á°ÆËÆ§ÁöÑÈòüÂàó# rabbitmqctl list_queues name messages_unacknowledgedÊü•ÁúãÂçï‰∏™ÈòüÂàóÁöÑÂÜÖÂ≠ò‰ΩøÁî®# rabbitmqctl list_queues name memoryÊü•ÁúãÂáÜÂ§áÂ∞±Áª™ÁöÑÈòüÂàó# rabbitmqctl list_queues name messages_ready 1.8 Ê∂àÊÅØËøΩË∏™ Âú®‰ΩøÁî®‰ªª‰ΩïÊ∂àÊÅØ‰∏≠Èó¥‰ª∂ÁöÑËøáÁ®ã‰∏≠ÔºåÈöæÂÖç‰ºöÂá∫Áé∞ÊüêÊù°Ê∂àÊÅØÂºÇÂ∏∏‰∏¢Â§±ÁöÑÊÉÖÂÜµ„ÄÇÂØπ‰∫éRabbitMQËÄåË®ÄÔºåÂèØËÉΩÊòØÂõ†‰∏∫Áîü‰∫ßËÄÖÊàñÊ∂àË¥πËÄÖ‰∏éRabbitMQÊñ≠ÂºÄ‰∫ÜËøûÊé•ÔºåËÄåÂÆÉ‰ª¨‰∏éRabbitMQÂèàÈááÁî®‰∫Ü‰∏çÂêåÁöÑÁ°ÆËÆ§Êú∫Âà∂Ôºõ‰πüÊúâÂèØËÉΩÊòØÂõ†‰∏∫‰∫§Êç¢Âô®‰∏éÈòüÂàó‰πãÈó¥‰∏çÂêåÁöÑËΩ¨ÂèëÁ≠ñÁï•ÔºõÁîöËá≥ÊòØ‰∫§Êç¢Âô®Âπ∂Ê≤°Êúâ‰∏é‰ªª‰ΩïÈòüÂàóËøõË°åÁªëÂÆöÔºåÁîü‰∫ßËÄÖÂèà‰∏çÊÑüÁü•ÊàñËÄÖÊ≤°ÊúâÈááÂèñÁõ∏Â∫îÁöÑÊé™ÊñΩÔºõÂè¶Â§ñRabbitMQÊú¨Ë∫´ÁöÑÈõÜÁæ§Á≠ñÁï•‰πüÂèØËÉΩÂØºËá¥Ê∂àÊÅØÁöÑ‰∏¢Â§±„ÄÇËøô‰∏™Êó∂ÂÄôÂ∞±ÈúÄË¶ÅÊúâ‰∏Ä‰∏™ËæÉÂ•ΩÁöÑÊú∫Âà∂Ë∑üË∏™ËÆ∞ÂΩïÊ∂àÊÅØÁöÑÊäïÈÄíËøáÁ®ãÔºå‰ª•Ê≠§ÂçèÂä©ÂºÄÂèëÂíåËøêÁª¥‰∫∫ÂëòËøõË°åÈóÆÈ¢òÁöÑÂÆö‰Ωç„ÄÇ Âú®RabbitMQ‰∏≠ÂèØ‰ª•‰ΩøÁî®FirehoseÂíårabbitmq_tracingÊèí‰ª∂ÂäüËÉΩÊù•ÂÆûÁé∞Ê∂àÊÅØËøΩË∏™„ÄÇ Firehose firehoseÁöÑÊú∫Âà∂ÊòØÂ∞ÜÁîü‰∫ßËÄÖÊäïÈÄíÁªôrabbitmqÁöÑÊ∂àÊÅØÔºårabbitmqÊäïÈÄíÁªôÊ∂àË¥πËÄÖÁöÑÊ∂àÊÅØÊåâÁÖßÊåáÂÆöÁöÑÊ†ºÂºèÂèëÈÄÅÂà∞ÈªòËÆ§ÁöÑexchange‰∏ä„ÄÇËøô‰∏™ÈªòËÆ§ÁöÑexchangeÁöÑÂêçÁß∞‰∏∫amq.rabbitmq.traceÔºåÂÆÉÊòØ‰∏Ä‰∏™topicÁ±ªÂûãÁöÑexchange„ÄÇÂèëÈÄÅÂà∞Ëøô‰∏™exchange‰∏äÁöÑÊ∂àÊÅØÁöÑrouting key‰∏∫ publish.exchangename Âíå deliver.queuename„ÄÇÂÖ∂‰∏≠exchangenameÂíåqueuename‰∏∫ÂÆûÈôÖexchangeÂíåqueueÁöÑÂêçÁß∞ÔºåÂàÜÂà´ÂØπÂ∫îÁîü‰∫ßËÄÖÊäïÈÄíÂà∞exchangeÁöÑÊ∂àÊÅØÔºåÂíåÊ∂àË¥πËÄÖ‰ªéqueue‰∏äËé∑ÂèñÁöÑÊ∂àÊÅØ„ÄÇ Ê≥®ÊÑèÔºöÊâìÂºÄ trace ‰ºöÂΩ±ÂìçÊ∂àÊÅØÂÜôÂÖ•ÂäüËÉΩÔºåÈÄÇÂΩìÊâìÂºÄÂêéËØ∑ÂÖ≥Èó≠„ÄÇ rabbitmqctl trace_onÔºöÂºÄÂêØFirehoseÂëΩ‰ª§ rabbitmqctl trace_offÔºöÂÖ≥Èó≠FirehoseÂëΩ‰ª§ rabbitmq_tracing rabbitmq_tracingÂíåFirehoseÂú®ÂÆûÁé∞‰∏äÂ¶ÇÂá∫‰∏ÄËæôÔºåÂè™‰∏çËøárabbitmq_tracingÁöÑÊñπÂºèÊØîFirehoseÂ§ö‰∫Ü‰∏ÄÂ±ÇGUIÁöÑÂåÖË£ÖÔºåÊõ¥ÂÆπÊòì‰ΩøÁî®ÂíåÁÆ°ÁêÜ„ÄÇ ÂêØÁî®Êèí‰ª∂Ôºörabbitmq-plugins enable rabbitmq_tracing Â∫îÁî®ÈóÆÈ¢ò 1.Ê∂àÊÅØÂèØÈù†ÊÄß‰øùÈöú------Ê∂àÊÅØË°•ÂÅø 2.Ê∂àÊÅØÂπÇÁ≠âÊÄß‰øùÈöú-----‰πêËßÇÈîÅÊú∫Âà∂ ÂπÇÁ≠âÊÄßÊåá‰∏ÄÊ¨°ÂíåÂ§öÊ¨°ËØ∑Ê±ÇÊüê‰∏Ä‰∏™ËµÑÊ∫êÔºåÂØπ‰∫éËµÑÊ∫êÊú¨Ë∫´Â∫îËØ•ÂÖ∑ÊúâÂêåÊ†∑ÁöÑÁªìÊûú„ÄÇ‰πüÂ∞±ÊòØËØ¥ÔºåÂÖ∂‰ªªÊÑèÂ§öÊ¨°ÊâßË°åÂØπËµÑÊ∫êÊú¨Ë∫´ÊâÄ‰∫ßÁîüÁöÑÂΩ±ÂìçÂùá‰∏é‰∏ÄÊ¨°ÊâßË°åÁöÑÂΩ±ÂìçÁõ∏Âêå„ÄÇ Âú®MQ‰∏≠ÊåáÔºåÊ∂àË¥πÂ§öÊù°Áõ∏ÂêåÁöÑÊ∂àÊÅØÔºåÂæóÂà∞‰∏éÊ∂àË¥πËØ•Ê∂àÊÅØ‰∏ÄÊ¨°Áõ∏ÂêåÁöÑÁªìÊûú„ÄÇ 3.RabbitMQÈõÜÁæ§Êê≠Âª∫ ÊëòË¶ÅÔºöÂÆûÈôÖÁîü‰∫ßÂ∫îÁî®‰∏≠ÈÉΩ‰ºöÈááÁî®Ê∂àÊÅØÈòüÂàóÁöÑÈõÜÁæ§ÊñπÊ°àÔºåÂ¶ÇÊûúÈÄâÊã©RabbitMQÈÇ£‰πàÊúâÂøÖË¶Å‰∫ÜËß£‰∏ãÂÆÉÁöÑÈõÜÁæ§ÊñπÊ°àÂéüÁêÜ ‰∏ÄËà¨Êù•ËØ¥ÔºåÂ¶ÇÊûúÂè™ÊòØ‰∏∫‰∫ÜÂ≠¶‰π†RabbitMQÊàñËÄÖÈ™åËØÅ‰∏öÂä°Â∑•Á®ãÁöÑÊ≠£Á°ÆÊÄßÈÇ£‰πàÂú®Êú¨Âú∞ÁéØÂ¢ÉÊàñËÄÖÊµãËØïÁéØÂ¢É‰∏ä‰ΩøÁî®ÂÖ∂ÂçïÂÆû‰æãÈÉ®ÁΩ≤Â∞±ÂèØ‰ª•‰∫ÜÔºå‰ΩÜÊòØÂá∫‰∫éMQ‰∏≠Èó¥‰ª∂Êú¨Ë∫´ÁöÑÂèØÈù†ÊÄß„ÄÅÂπ∂ÂèëÊÄß„ÄÅÂêûÂêêÈáèÂíåÊ∂àÊÅØÂ†ÜÁßØËÉΩÂäõÁ≠âÈóÆÈ¢òÁöÑËÄÉËôëÔºåÂú®Áîü‰∫ßÁéØÂ¢É‰∏ä‰∏ÄËà¨ÈÉΩ‰ºöËÄÉËôë‰ΩøÁî®RabbitMQÁöÑÈõÜÁæ§ÊñπÊ°à„ÄÇ 3.1 ÈõÜÁæ§ÊñπÊ°àÁöÑÂéüÁêÜ RabbitMQËøôÊ¨æÊ∂àÊÅØÈòüÂàó‰∏≠Èó¥‰ª∂‰∫ßÂìÅÊú¨Ë∫´ÊòØÂü∫‰∫éErlangÁºñÂÜôÔºåErlangËØ≠Ë®ÄÂ§©ÁîüÂÖ∑Â§áÂàÜÂ∏ÉÂºèÁâπÊÄßÔºàÈÄöËøáÂêåÊ≠•ErlangÈõÜÁæ§ÂêÑËäÇÁÇπÁöÑmagic cookieÊù•ÂÆûÁé∞Ôºâ„ÄÇÂõ†Ê≠§ÔºåRabbitMQÂ§©ÁÑ∂ÊîØÊåÅClustering„ÄÇËøô‰ΩøÂæóRabbitMQÊú¨Ë∫´‰∏çÈúÄË¶ÅÂÉèActiveMQ„ÄÅKafkaÈÇ£Ê†∑ÈÄöËøáZooKeeperÂàÜÂà´Êù•ÂÆûÁé∞HAÊñπÊ°àÂíå‰øùÂ≠òÈõÜÁæ§ÁöÑÂÖÉÊï∞ÊçÆ„ÄÇÈõÜÁæ§ÊòØ‰øùËØÅÂèØÈù†ÊÄßÁöÑ‰∏ÄÁßçÊñπÂºèÔºåÂêåÊó∂ÂèØ‰ª•ÈÄöËøáÊ∞¥Âπ≥Êâ©Â±ï‰ª•ËææÂà∞Â¢ûÂä†Ê∂àÊÅØÂêûÂêêÈáèËÉΩÂäõÁöÑÁõÆÁöÑ„ÄÇ 3.2 ÂçïÊú∫Â§öÂÆû‰æãÈÉ®ÁΩ≤ Áî±‰∫éÊüê‰∫õÂõ†Á¥†ÁöÑÈôêÂà∂ÔºåÊúâÊó∂ÂÄô‰Ω†‰∏çÂæó‰∏çÂú®‰∏ÄÂè∞Êú∫Âô®‰∏äÂéªÊê≠Âª∫‰∏Ä‰∏™rabbitmqÈõÜÁæ§ÔºåËøô‰∏™ÊúâÁÇπÁ±ª‰ººzookeeperÁöÑÂçïÊú∫Áâà„ÄÇÁúüÂÆûÁîüÊàêÁéØÂ¢ÉËøòÊòØË¶ÅÈÖçÊàêÂ§öÊú∫ÈõÜÁæ§ÁöÑ„ÄÇÊúâÂÖ≥ÊÄé‰πàÈÖçÁΩÆÂ§öÊú∫ÈõÜÁæ§ÁöÑÂèØ‰ª•ÂèÇËÄÉÂÖ∂‰ªñÁöÑËµÑÊñôÔºåËøôÈáå‰∏ªË¶ÅËÆ∫Ëø∞Â¶Ç‰ΩïÂú®ÂçïÊú∫‰∏≠ÈÖçÁΩÆÂ§ö‰∏™rabbitmqÂÆû‰æã„ÄÇ ‰∏ªË¶ÅÂèÇËÄÉÂÆòÊñπÊñáÊ°£Ôºöhttps://www.rabbitmq.com/clustering.html È¶ñÂÖàÁ°Æ‰øùRabbitMQËøêË°åÊ≤°ÊúâÈóÆÈ¢ò 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859[root@super ~]# rabbitmqctl statusStatus of node rabbit@super ...[{pid,10232}, {running_applications, [{rabbitmq_management,&quot;RabbitMQ Management Console&quot;,&quot;3.6.5&quot;}, {rabbitmq_web_dispatch,&quot;RabbitMQ Web Dispatcher&quot;,&quot;3.6.5&quot;}, {webmachine,&quot;webmachine&quot;,&quot;1.10.3&quot;}, {mochiweb,&quot;MochiMedia Web Server&quot;,&quot;2.13.1&quot;}, {rabbitmq_management_agent,&quot;RabbitMQ Management Agent&quot;,&quot;3.6.5&quot;}, {rabbit,&quot;RabbitMQ&quot;,&quot;3.6.5&quot;}, {os_mon,&quot;CPO CXC 138 46&quot;,&quot;2.4&quot;}, {syntax_tools,&quot;Syntax tools&quot;,&quot;1.7&quot;}, {inets,&quot;INETS CXC 138 49&quot;,&quot;6.2&quot;}, {amqp_client,&quot;RabbitMQ AMQP Client&quot;,&quot;3.6.5&quot;}, {rabbit_common,[],&quot;3.6.5&quot;}, {ssl,&quot;Erlang/OTP SSL application&quot;,&quot;7.3&quot;}, {public_key,&quot;Public key infrastructure&quot;,&quot;1.1.1&quot;}, {asn1,&quot;The Erlang ASN1 compiler version 4.0.2&quot;,&quot;4.0.2&quot;}, {ranch,&quot;Socket acceptor pool for TCP protocols.&quot;,&quot;1.2.1&quot;}, {mnesia,&quot;MNESIA CXC 138 12&quot;,&quot;4.13.3&quot;}, {compiler,&quot;ERTS CXC 138 10&quot;,&quot;6.0.3&quot;}, {crypto,&quot;CRYPTO&quot;,&quot;3.6.3&quot;}, {xmerl,&quot;XML parser&quot;,&quot;1.3.10&quot;}, {sasl,&quot;SASL CXC 138 11&quot;,&quot;2.7&quot;}, {stdlib,&quot;ERTS CXC 138 10&quot;,&quot;2.8&quot;}, {kernel,&quot;ERTS CXC 138 10&quot;,&quot;4.2&quot;}]}, {os,{unix,linux}}, {erlang_version, &quot;Erlang/OTP 18 [erts-7.3] [source] [64-bit] [async-threads:64] [hipe] [kernel-poll:true]\\n&quot;}, {memory, [{total,56066752}, {connection_readers,0}, {connection_writers,0}, {connection_channels,0}, {connection_other,2680}, {queue_procs,268248}, {queue_slave_procs,0}, {plugins,1131936}, {other_proc,18144280}, {mnesia,125304}, {mgmt_db,921312}, {msg_index,69440}, {other_ets,1413664}, {binary,755736}, {code,27824046}, {atom,1000601}, {other_system,4409505}]}, {alarms,[]}, {listeners,[{clustering,25672,&quot;::&quot;},{amqp,5672,&quot;::&quot;}]}, {vm_memory_high_watermark,0.4}, {vm_memory_limit,411294105}, {disk_free_limit,50000000}, {disk_free,13270233088}, {file_descriptors, [{total_limit,924},{total_used,6},{sockets_limit,829},{sockets_used,0}]}, {processes,[{limit,1048576},{used,262}]}, {run_queue,0}, {uptime,43651}, {kernel,{net_ticktime,60}}] ÂÅúÊ≠¢rabbitmqÊúçÂä° 123[root@super sbin]# service rabbitmq-server stopStopping rabbitmq-server: rabbitmq-server. ÂêØÂä®Á¨¨‰∏Ä‰∏™ËäÇÁÇπÔºö 12345678910[root@super sbin]# RABBITMQ_NODE_PORT=5673 RABBITMQ_NODENAME=rabbit1 rabbitmq-server start RabbitMQ 3.6.5. Copyright (C) 2007-2016 Pivotal Software, Inc. ## ## Licensed under the MPL. See http://www.rabbitmq.com/ ## ## ########## Logs: /var/log/rabbitmq/rabbit1.log ###### ## /var/log/rabbitmq/rabbit1-sasl.log ########## Starting broker... completed with 6 plugins. ÂêØÂä®Á¨¨‰∫å‰∏™ËäÇÁÇπÔºö webÁÆ°ÁêÜÊèí‰ª∂Á´ØÂè£Âç†Áî®,ÊâÄ‰ª•ËøòË¶ÅÊåáÂÆöÂÖ∂webÊèí‰ª∂Âç†Áî®ÁöÑÁ´ØÂè£Âè∑„ÄÇ 1234567891011[root@super ~]# RABBITMQ_NODE_PORT=5674 RABBITMQ_SERVER_START_ARGS=&quot;-rabbitmq_management listener [{port,15674}]&quot; RABBITMQ_NODENAME=rabbit2 rabbitmq-server start RabbitMQ 3.6.5. Copyright (C) 2007-2016 Pivotal Software, Inc. ## ## Licensed under the MPL. See http://www.rabbitmq.com/ ## ## ########## Logs: /var/log/rabbitmq/rabbit2.log ###### ## /var/log/rabbitmq/rabbit2-sasl.log ########## Starting broker... completed with 6 plugins. ÁªìÊùüÂëΩ‰ª§Ôºö 12rabbitmqctl -n rabbit1 stoprabbitmqctl -n rabbit2 stop rabbit1Êìç‰Ωú‰Ωú‰∏∫‰∏ªËäÇÁÇπÔºö 1234567[root@super ~]# rabbitmqctl -n rabbit1 stop_app Stopping node rabbit1@super ...[root@super ~]# rabbitmqctl -n rabbit1 reset Resetting node rabbit1@super ...[root@super ~]# rabbitmqctl -n rabbit1 start_appStarting node rabbit1@super ...[root@super ~]# rabbit2Êìç‰Ωú‰∏∫‰ªéËäÇÁÇπÔºö 123456789[root@super ~]# rabbitmqctl -n rabbit2 stop_appStopping node rabbit2@super ...[root@super ~]# rabbitmqctl -n rabbit2 resetResetting node rabbit2@super ...[root@super ~]# rabbitmqctl -n rabbit2 join_cluster rabbit1@'super' ###''ÂÜÖÊòØ‰∏ªÊú∫ÂêçÊç¢ÊàêËá™Â∑±ÁöÑClustering node rabbit2@super with rabbit1@super ...[root@super ~]# rabbitmqctl -n rabbit2 start_appStarting node rabbit2@super ... Êü•ÁúãÈõÜÁæ§Áä∂ÊÄÅÔºö 1234567[root@super ~]# rabbitmqctl cluster_status -n rabbit1Cluster status of node rabbit1@super ...[{nodes,[{disc,[rabbit1@super,rabbit2@super]}]}, {running_nodes,[rabbit2@super,rabbit1@super]}, {cluster_name,&lt;&lt;&quot;rabbit1@super&quot;&gt;&gt;}, {partitions,[]}, {alarms,[{rabbit2@super,[]},{rabbit1@super,[]}]}] webÁõëÊéßÔºö 3.3 ÈõÜÁæ§ÁÆ°ÁêÜ rabbitmqctl join_cluster {cluster_node} [‚Äìram] Â∞ÜËäÇÁÇπÂä†ÂÖ•ÊåáÂÆöÈõÜÁæ§‰∏≠„ÄÇÂú®Ëøô‰∏™ÂëΩ‰ª§ÊâßË°åÂâçÈúÄË¶ÅÂÅúÊ≠¢RabbitMQÂ∫îÁî®Âπ∂ÈáçÁΩÆËäÇÁÇπ„ÄÇ rabbitmqctl cluster_status ÊòæÁ§∫ÈõÜÁæ§ÁöÑÁä∂ÊÄÅ„ÄÇ rabbitmqctl change_cluster_node_type {disc|ram} ‰øÆÊîπÈõÜÁæ§ËäÇÁÇπÁöÑÁ±ªÂûã„ÄÇÂú®Ëøô‰∏™ÂëΩ‰ª§ÊâßË°åÂâçÈúÄË¶ÅÂÅúÊ≠¢RabbitMQÂ∫îÁî®„ÄÇ rabbitmqctl forget_cluster_node [‚Äìoffline] Â∞ÜËäÇÁÇπ‰ªéÈõÜÁæ§‰∏≠Âà†Èô§ÔºåÂÖÅËÆ∏Á¶ªÁ∫øÊâßË°å„ÄÇ rabbitmqctl update_cluster_nodes {clusternode} Âú®ÈõÜÁæ§‰∏≠ÁöÑËäÇÁÇπÂ∫îÁî®ÂêØÂä®ÂâçÂí®ËØ¢clusternodeËäÇÁÇπÁöÑÊúÄÊñ∞‰ø°ÊÅØÔºåÂπ∂Êõ¥Êñ∞Áõ∏Â∫îÁöÑÈõÜÁæ§‰ø°ÊÅØ„ÄÇËøô‰∏™Âíåjoin_cluster‰∏çÂêåÔºåÂÆÉ‰∏çÂä†ÂÖ•ÈõÜÁæ§„ÄÇËÄÉËôëËøôÊ†∑‰∏ÄÁßçÊÉÖÂÜµÔºåËäÇÁÇπAÂíåËäÇÁÇπBÈÉΩÂú®ÈõÜÁæ§‰∏≠ÔºåÂΩìËäÇÁÇπAÁ¶ªÁ∫ø‰∫ÜÔºåËäÇÁÇπCÂèàÂíåËäÇÁÇπBÁªÑÊàê‰∫Ü‰∏Ä‰∏™ÈõÜÁæ§ÔºåÁÑ∂ÂêéËäÇÁÇπBÂèàÁ¶ªÂºÄ‰∫ÜÈõÜÁæ§ÔºåÂΩìAÈÜíÊù•ÁöÑÊó∂ÂÄôÔºåÂÆÉ‰ºöÂ∞ùËØïËÅîÁ≥ªËäÇÁÇπBÔºå‰ΩÜÊòØËøôÊ†∑‰ºöÂ§±Ë¥•ÔºåÂõ†‰∏∫ËäÇÁÇπBÂ∑≤Áªè‰∏çÂú®ÈõÜÁæ§‰∏≠‰∫Ü„ÄÇ rabbitmqctl cancel_sync_queue [-p vhost] {queue} ÂèñÊ∂àÈòüÂàóqueueÂêåÊ≠•ÈïúÂÉèÁöÑÊìç‰Ωú„ÄÇ rabbitmqctl set_cluster_name {name} ËÆæÁΩÆÈõÜÁæ§ÂêçÁß∞„ÄÇÈõÜÁæ§ÂêçÁß∞Âú®ÂÆ¢Êà∑Á´ØËøûÊé•Êó∂‰ºöÈÄöÊä•ÁªôÂÆ¢Êà∑Á´Ø„ÄÇFederationÂíåShovelÊèí‰ª∂‰πü‰ºöÊúâÁî®Âà∞ÈõÜÁæ§ÂêçÁß∞ÁöÑÂú∞Êñπ„ÄÇÈõÜÁæ§ÂêçÁß∞ÈªòËÆ§ÊòØÈõÜÁæ§‰∏≠Á¨¨‰∏Ä‰∏™ËäÇÁÇπÁöÑÂêçÁß∞ÔºåÈÄöËøáËøô‰∏™ÂëΩ‰ª§ÂèØ‰ª•ÈáçÊñ∞ËÆæÁΩÆ„ÄÇ 3.4 RabbitMQÈïúÂÉèÈõÜÁæ§ÈÖçÁΩÆ ‰∏äÈù¢Â∑≤ÁªèÂÆåÊàêRabbitMQÈªòËÆ§ÈõÜÁæ§Ê®°ÂºèÔºå‰ΩÜÂπ∂‰∏ç‰øùËØÅÈòüÂàóÁöÑÈ´òÂèØÁî®ÊÄßÔºåÂ∞ΩÁÆ°‰∫§Êç¢Êú∫„ÄÅÁªëÂÆöËøô‰∫õÂèØ‰ª•Â§çÂà∂Âà∞ÈõÜÁæ§ÈáåÁöÑ‰ªª‰Ωï‰∏Ä‰∏™ËäÇÁÇπÔºå‰ΩÜÊòØÈòüÂàóÂÜÖÂÆπ‰∏ç‰ºöÂ§çÂà∂„ÄÇËôΩÁÑ∂ËØ•Ê®°ÂºèËß£ÂÜ≥‰∏ÄÈ°πÁõÆÁªÑËäÇÁÇπÂéãÂäõÔºå‰ΩÜÈòüÂàóËäÇÁÇπÂÆïÊú∫Áõ¥Êé•ÂØºËá¥ËØ•ÈòüÂàóÊó†Ê≥ïÂ∫îÁî®ÔºåÂè™ËÉΩÁ≠âÂæÖÈáçÂêØÔºåÊâÄ‰ª•Ë¶ÅÊÉ≥Âú®ÈòüÂàóËäÇÁÇπÂÆïÊú∫ÊàñÊïÖÈöú‰πüËÉΩÊ≠£Â∏∏Â∫îÁî®ÔºåÂ∞±Ë¶ÅÂ§çÂà∂ÈòüÂàóÂÜÖÂÆπÂà∞ÈõÜÁæ§ÈáåÁöÑÊØè‰∏™ËäÇÁÇπÔºåÂøÖÈ°ªË¶ÅÂàõÂª∫ÈïúÂÉèÈòüÂàó„ÄÇ ÈïúÂÉèÈòüÂàóÊòØÂü∫‰∫éÊôÆÈÄöÁöÑÈõÜÁæ§Ê®°ÂºèÁöÑÔºåÁÑ∂ÂêéÂÜçÊ∑ªÂä†‰∏Ä‰∫õÁ≠ñÁï•ÔºåÊâÄ‰ª•‰Ω†ËøòÊòØÂæóÂÖàÈÖçÁΩÆÊôÆÈÄöÈõÜÁæ§ÔºåÁÑ∂ÂêéÊâçËÉΩËÆæÁΩÆÈïúÂÉèÈòüÂàóÔºåÊàë‰ª¨Â∞±‰ª•‰∏äÈù¢ÁöÑÈõÜÁæ§Êé•ÁùÄÂÅö„ÄÇ ËÆæÁΩÆÁöÑÈïúÂÉèÈòüÂàóÂèØ‰ª•ÈÄöËøáÂºÄÂêØÁöÑÁΩëÈ°µÁöÑÁÆ°ÁêÜÁ´ØAdmin-&gt;PoliciesÔºå‰πüÂèØ‰ª•ÈÄöËøáÂëΩ‰ª§„ÄÇ rabbitmqctl set_policy my_ha &quot;^&quot; '{&quot;ha-mode&quot;:&quot;all&quot;}' Name:Á≠ñÁï•ÂêçÁß∞ PatternÔºöÂåπÈÖçÁöÑËßÑÂàôÔºåÂ¶ÇÊûúÊòØÂåπÈÖçÊâÄÊúâÁöÑÈòüÂàóÔºåÊòØ^. Definition:‰ΩøÁî®ha-modeÊ®°Âºè‰∏≠ÁöÑallÔºå‰πüÂ∞±ÊòØÂêåÊ≠•ÊâÄÊúâÂåπÈÖçÁöÑÈòüÂàó„ÄÇÈóÆÂè∑ÈìæÊé•Â∏ÆÂä©ÊñáÊ°£„ÄÇ 3.5 Ë¥üËΩΩÂùáË°°-HAProxy HAProxyÊèê‰æõÈ´òÂèØÁî®ÊÄß„ÄÅË¥üËΩΩÂùáË°°‰ª•ÂèäÂü∫‰∫éTCPÂíåHTTPÂ∫îÁî®ÁöÑ‰ª£ÁêÜÔºåÊîØÊåÅËôöÊãü‰∏ªÊú∫ÔºåÂÆÉÊòØÂÖçË¥π„ÄÅÂø´ÈÄüÂπ∂‰∏îÂèØÈù†ÁöÑ‰∏ÄÁßçËß£ÂÜ≥ÊñπÊ°à,ÂåÖÊã¨TwitterÔºåRedditÔºåStackOverflowÔºåGitHubÂú®ÂÜÖÁöÑÂ§öÂÆ∂Áü•Âêç‰∫íËÅîÁΩëÂÖ¨Âè∏Âú®‰ΩøÁî®„ÄÇHAProxyÂÆûÁé∞‰∫Ü‰∏ÄÁßç‰∫ã‰ª∂È©±Âä®„ÄÅÂçï‰∏ÄËøõÁ®ãÊ®°ÂûãÔºåÊ≠§Ê®°ÂûãÊîØÊåÅÈùûÂ∏∏Â§ßÁöÑÂπ∂ÂèëËøûÊé•Êï∞„ÄÇ 3.5.1 ÂÆâË£ÖHAProxy 12345678910111213141516//‰∏ãËΩΩ‰æùËµñÂåÖyum install gcc vim wget//‰∏ä‰º†haproxyÊ∫êÁ†ÅÂåÖ//Ëß£Âéãtar -zxvf haproxy-1.6.5.tar.gz -C /usr/local//ËøõÂÖ•ÁõÆÂΩï„ÄÅËøõË°åÁºñËØë„ÄÅÂÆâË£Öcd /usr/local/haproxy-1.6.5make TARGET=linux31 PREFIX=/usr/local/haproxymake install PREFIX=/usr/local/haproxymkdir /etc/haproxy//ËµãÊùÉgroupadd -r -g 149 haproxyuseradd -g haproxy -r -s /sbin/nologin -u 149 haproxy//ÂàõÂª∫haproxyÈÖçÁΩÆÊñá‰ª∂mkdir /etc/haproxyvim /etc/haproxy/haproxy.cfg 3.5.2 ÈÖçÁΩÆHAProxy ÈÖçÁΩÆÊñá‰ª∂Ë∑ØÂæÑÔºö/etc/haproxy/haproxy.cfg 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354#logging optionsglobal log 127.0.0.1 local0 info maxconn 5120 chroot /usr/local/haproxy uid 99 gid 99 daemon quiet nbproc 20 pidfile /var/run/haproxy.piddefaults log global mode tcp option tcplog option dontlognull retries 3 option redispatch maxconn 2000 contimeout 5s clitimeout 60s srvtimeout 15s #front-end IP for consumers and producterslisten rabbitmq_cluster bind 0.0.0.0:5672 mode tcp #balance url_param userid #balance url_param session_id check_post 64 #balance hdr(User-Agent) #balance hdr(host) #balance hdr(Host) use_domain_only #balance rdp-cookie #balance leastconn #balance source //ip balance roundrobin server node1 127.0.0.1:5673 check inter 5000 rise 2 fall 2 server node2 127.0.0.1:5674 check inter 5000 rise 2 fall 2listen stats bind 172.16.98.133:8100 mode http option httplog stats enable stats uri /rabbitmq-stats stats refresh 5s ÂêØÂä®HAproxyË¥üËΩΩ 123456/usr/local/haproxy/sbin/haproxy -f /etc/haproxy/haproxy.cfg//Êü•ÁúãhaproxyËøõÁ®ãÁä∂ÊÄÅps -ef | grep haproxyËÆøÈóÆÂ¶Ç‰∏ãÂú∞ÂùÄÂØπmqËäÇÁÇπËøõË°åÁõëÊéßhttp://172.16.98.133:8100/rabbitmq-stats ‰ª£Á†Å‰∏≠ËÆøÈóÆmqÈõÜÁæ§Âú∞ÂùÄÔºåÂàôÂèò‰∏∫ËÆøÈóÆhaproxyÂú∞ÂùÄ:5672 ÂèÇËÄÉÊñáÁåÆÔºöÈªëÈ©¨ËßÜÈ¢ëÁõ∏ÂÖ≥Á¨îËÆ∞","link":"/2021/03/24/Draft/2021/RabbitMQ/"},{"title":"È≠ëÈ≠ÖÂÖàÁîü | ÊØèÊó•Èù¢È¢ò","text":"‰øùÊåÅÂü∫Á°ÄÁü•ËØÜÁöÑÊïèÊÑüÂ∫¶Ôºå‰ª•Ëá≥‰∫éÂπ≥Êó∂ÁöÑ‰∏çÊñ≠Â∫îÁî®„ÄÇ JavaÂà∑È¢ò ‰∏ªË¶ÅÂàÜÁ±ªÔºö JVMÔºåÁΩëÁªúÔºåJavaÂü∫Á°ÄÔºåÁÆóÊ≥ïÊï∞ÊçÆÁªìÊûÑÔºåÊï∞ÊçÆÂ∫ìÈ´òÁ∫ßÁü•ËØÜÔºåÊ°ÜÊû∂ÂéüÁêÜÔºåËÆæËÆ°Ê®°ÂºèÔºåÂàÜÂ∏ÉÂºè JavaÂü∫Á°Ä Êü•ÁúãJAVAÂü∫Á°ÄÈ°πÁõÆÂπ∂Ë°•ÂÖÖÔºåÂåÖÂê´javaÂü∫Á°ÄÔºå JVM ÁΩëÁªú ÁÆóÊ≥ïÊï∞ÊçÆÁªìÊûÑ Êï∞ÊçÆÂ∫ìÈ´òÁ∫ßÁü•ËØÜ Ê°ÜÊû∂ÂéüÁêÜ ËÆæËÆ°Ê®°Âºè ÂàÜÂ∏ÉÂºè","link":"/2021/03/01/Draft/2021/%E6%AF%8F%E6%97%A5%E9%9D%A2%E9%A2%98/"},{"title":"È≠ëÈ≠ÖÂÖàÁîü | ÊúçÂä°Âô®","text":"LinuxÂ∏∏Áî®Áü•ËØÜ„ÄÅÊúçÂä°Âô®ÈÄâÊã©„ÄÅÊê≠Âª∫‰∏™‰∫∫ÁΩëÁõò„ÄÅJAVAÂºÄÂèëÁõ∏ÂÖ≥ËΩØ‰ª∂ÈÖçÁΩÆ„ÄÅÂçöÂÆ¢Êê≠Âª∫„ÄÅÂüüÂêçÈÖçÁΩÆ„ÄÅÁõ∏ÂÖ≥ËΩØ‰ª∂Êé®Ëçê„ÄÇ Â∏∏Áî®ÂëΩ‰ª§ Êñá‰ª∂ Êú¨Âú∞Êñá‰ª∂‰∏ä‰º†‰∏ãËΩΩ ÊñπÂºè‰∏ÄÔºölrzsz 1234567#ÂÆâË£Öyum -y install lrzsz#‰∏ä‰º†‰∏ãËΩΩÁöÑÁõÆÂΩïSecureCRTÂèØÈÖçÁΩÆ#‰∏ä‰º†„ÄêÂºπÂá∫Á™óÂè£ÈÄâÊã©Êñá‰ª∂„Äërz#‰∏ãËΩΩsz Êñá‰ª∂Âêç ÊñπÂºè‰∫åÔºösftp SecureCRT Âø´Êç∑ÈîÆalt+p 12get -r linuxÁªùÂØπË∑ØÂæÑÊñá‰ª∂ #LinuxÊñá‰ª∂‰∏ä‰º†Âà∞Windowsput -r WindowsÁªùÂØπË∑ØÂæÑÊñá‰ª∂ #WindowsÊñá‰ª∂‰∏ä‰º†Âà∞Linux ËøúÁ®ãÊñá‰ª∂‰∏ãËΩΩ 12345678#‰∏ãËΩΩÂà∞ÂΩìÂâçÁõÆÂΩïwget https://download.redis.io/releases/redis-6.0.8.tar.gz#‰∏ãËΩΩÂà∞ÊåáÂÆöÁõÆÂΩïwget -P /usr/software https://download.redis.io/releases/redis-6.0.8.tar.gz#‰∏ãËΩΩÂπ∂Êõ¥Êç¢Êñá‰ª∂Âêçwget -O redis.tar.gz https://download.redis.io/releases/redis-6.0.8.tar.gz#Êñ≠ÁÇπÁª≠‰º†„ÄêÊñ≠ÁΩëÁ≠â‰∏≠Êñ≠‰∏ãËΩΩÊÉÖÂÜµÂèØÂÄüÊ≠§Êó†ÈúÄ‰ªéÂ§¥‰∏ãËΩΩ„Äëwget -c https://download.redis.io/releases/redis-6.0.8.tar.gz ÂÖ∂‰ªñÂõæÂΩ¢ÂåñÊñπÂºè XFTP„ÄÅSecureFX„ÄÅFileZillaÁ≠â Ëß£ÂéãÁº© 1.ÂéãÁº©Êñá‰ª∂ tar -czf test.tar.gz /test1 /test2 2.ÂàóÂá∫ÂéãÁº©Êñá‰ª∂ÂàóË°® tar -tzf test.tar.gz 3.Ëß£ÂéãÊñá‰ª∂ tar -xvzf test.tar.gz Êñ∞Âª∫ touch Êñá‰ª∂Âêç Âà†Èô§ rm -rf Êñá‰ª∂Âêç ‰øÆÊîπ ÊâìÂºÄÔºövi/vim Êñá‰ª∂Âêç i:Âú®ÂÖâÊ†áÊâÄÂú®Â≠óÁ¨¶ÂâçÂºÄÂßãÊèíÂÖ• a:Âú®ÂÖâÊ†áÊâÄÂú®Â≠óÁ¨¶ÂêéÂºÄÂßãÊèíÂÖ• o:Âú®ÂÖâÊ†áÊâÄÂú®Ë°åÁöÑ‰∏ãÈù¢Âè¶Ëµ∑‰∏ÄÊñ∞Ë°åÊèíÂÖ• ‰øùÂ≠òÊñá‰ª∂Ôºö Á¨¨‰∏ÄÊ≠•ÔºöESC ËøõÂÖ•ÂëΩ‰ª§Ë°åÊ®°Âºè Á¨¨‰∫åÊ≠•Ôºö: ËøõÂÖ•Â∫ïË°åÊ®°Âºè Á¨¨‰∏âÊ≠•Ôºöwq ‰øùÂ≠òÂπ∂ÈÄÄÂá∫ÁºñËæë ÂèñÊ∂àÁºñËæëÔºö Á¨¨‰∏ÄÊ≠•ÔºöESC ËøõÂÖ•ÂëΩ‰ª§Ë°åÊ®°Âºè Á¨¨‰∫åÊ≠•Ôºö: ËøõÂÖ•Â∫ïË°åÊ®°Âºè Á¨¨‰∏âÊ≠•Ôºöq! Êí§ÈîÄÊú¨Ê¨°‰øÆÊîπÂπ∂ÈÄÄÂá∫ÁºñËæë 1) ÂëΩ‰ª§Ë°åÊ®°Âºècommand modeÔºâ ÊéßÂà∂Â±èÂπïÂÖâÊ†áÁöÑÁßªÂä®ÔºåÂ≠óÁ¨¶„ÄÅÂ≠óÊàñË°åÁöÑÂà†Èô§ÔºåÊü•ÊâæÔºåÁßªÂä®Â§çÂà∂ÊüêÂå∫ÊÆµÂèäËøõÂÖ•Insert mode‰∏ãÔºåÊàñËÄÖÂà∞ last line mode„ÄÇ ÂëΩ‰ª§Ë°åÊ®°Âºè‰∏ãÁöÑÂ∏∏Áî®ÂëΩ‰ª§Ôºö „Äê1„ÄëÊéßÂà∂ÂÖâÊ†áÁßªÂä®Ôºö‚ÜëÔºå‚ÜìÔºåj „Äê2„ÄëÂà†Èô§ÂΩìÂâçË°åÔºödd „Äê3„ÄëÊü•ÊâæÔºö/Â≠óÁ¨¶ „Äê4„ÄëËøõÂÖ•ÁºñËæëÊ®°ÂºèÔºöi o a „Äê5„ÄëËøõÂÖ•Â∫ïË°åÊ®°ÂºèÔºö: 2) ÁºñËæëÊ®°ÂºèÔºàInsert modeÔºâ Âè™ÊúâÂú®Insert mode‰∏ãÔºåÊâçÂèØ‰ª•ÂÅöÊñáÂ≠óËæìÂÖ•ÔºåÊåâ„ÄåESC„ÄçÈîÆÂèØÂõûÂà∞ÂëΩ‰ª§Ë°åÊ®°Âºè„ÄÇ ÁºñËæëÊ®°Âºè‰∏ãÂ∏∏Áî®ÂëΩ‰ª§Ôºö „Äê1„ÄëESC ÈÄÄÂá∫ÁºñËæëÊ®°ÂºèÂà∞ÂëΩ‰ª§Ë°åÊ®°ÂºèÔºõ 3) Â∫ïË°åÊ®°ÂºèÔºàlast line modeÔºâ Â∞ÜÊñá‰ª∂‰øùÂ≠òÊàñÈÄÄÂá∫viÔºå‰πüÂèØ‰ª•ËÆæÁΩÆÁºñËæëÁéØÂ¢ÉÔºåÂ¶ÇÂØªÊâæÂ≠óÁ¨¶‰∏≤„ÄÅÂàóÂá∫Ë°åÂè∑‚Ä¶‚Ä¶Á≠â„ÄÇ Â∫ïË°åÊ®°Âºè‰∏ãÂ∏∏Áî®ÂëΩ‰ª§Ôºö „Äê1„ÄëÈÄÄÂá∫ÁºñËæëÔºö :q „Äê2„ÄëÂº∫Âà∂ÈÄÄÂá∫Ôºö :q! „Äê3„Äë‰øùÂ≠òÂπ∂ÈÄÄÂá∫Ôºö :wq ÁßªÂä® mv /temp/movefile /targetFolder Â§çÂà∂ cp source dest Â§çÂà∂Êñá‰ª∂ cp -r sourceFolder targetFolder ÈÄíÂΩíÂ§çÂà∂Êï¥‰∏™Êñá‰ª∂Â§π scp sourecFile romoteUserName@remoteIp:remoteAddr ËøúÁ®ãÊã∑Ë¥ù Êü•ÁúãÂÜÖÂÆπ 12345678910111213141516171819202122232425262728catÔºöÁúãÊúÄÂêé‰∏ÄÂ±è#Á§∫‰æãÔºö‰ΩøÁî®catÊü•Áúã/etc/sudo.confÊñá‰ª∂ÔºåÂè™ËÉΩÊòæÁ§∫ÊúÄÂêé‰∏ÄÂ±èÂÜÖÂÆπ#cat sudo.confmoreÔºöÁôæÂàÜÊØîÊòæÁ§∫#Á§∫‰æãÔºö‰ΩøÁî®moreÊü•Áúã/etc/sudo.confÊñá‰ª∂ÔºåÂèØ‰ª•ÊòæÁ§∫ÁôæÂàÜÊØîÔºåÂõûËΩ¶ÂèØ‰ª•Âêë‰∏ã‰∏ÄË°åÔºåÁ©∫Ê†ºÂèØ‰ª•Âêë‰∏ã‰∏ÄÈ°µÔºåqÂèØ‰ª•ÈÄÄÂá∫Êü•Áúã#more sudo.conflessÔºöÁøªÈ°µÊü•Áúã#Á§∫‰æãÔºö‰ΩøÁî®lessÊü•Áúã/etc/sudo.confÊñá‰ª∂ÔºåÂèØ‰ª•‰ΩøÁî®ÈîÆÁõò‰∏äÁöÑPgUpÂíåPgDnÂêë‰∏ä ÂíåÂêë‰∏ãÁøªÈ°µÔºåqÁªìÊùüÊü•Áúã#less sudo.conftailÔºöÊåáÂÆöË°åÊï∞ÊàñËÄÖÂä®ÊÄÅÊü•Áúã#Á§∫‰æãÔºö‰ΩøÁî®tail -10 Êü•Áúã/etc/sudo.confÊñá‰ª∂ÁöÑÂêé10Ë°åÔºåCtrl+CÁªìÊùü #tail -10 sudo.conf#Êü•ÁúãÊñá‰ª∂Â§¥10Ë°åhead -n 10 example.txt#Êü•ÁúãÊñá‰ª∂Â∞æ10Ë°åtail -n 10 example.txt#Êü•ÁúãÊó•ÂøóÁ±ªÂûãÊñá‰ª∂tail -f exmaple.log //Ëøô‰∏™ÂëΩ‰ª§‰ºöËá™Âä®ÊòæÁ§∫Êñ∞Â¢ûÂÜÖÂÆπÔºåÂ±èÂπïÂè™ÊòæÁ§∫10Ë°åÂÜÖÂÆπÁöÑÔºàÂèØËÆæÁΩÆÔºâ„ÄÇ Êü•Êâæ find / -name filename.txt Ê†πÊçÆÂêçÁß∞Êü•Êâæ/ÁõÆÂΩï‰∏ãÁöÑfilename.txtÊñá‰ª∂„ÄÇ find . -name &quot;*.xml&quot; ÈÄíÂΩíÊü•ÊâæÊâÄÊúâÁöÑxmlÊñá‰ª∂ find . -name &quot;*.xml&quot; |xargs grep &quot;hello world&quot; ÈÄíÂΩíÊü•ÊâæÊâÄÊúâÊñá‰ª∂ÂÜÖÂÆπ‰∏≠ÂåÖÂê´hello worldÁöÑxmlÊñá‰ª∂ grep -H 'spring' *.xml Êü•ÊâæÊâÄ‰ª•ÊúâÁöÑÂåÖÂê´springÁöÑxmlÊñá‰ª∂ find ./ -size 0 | xargs rm -f &amp; Âà†Èô§Êñá‰ª∂Â§ßÂ∞è‰∏∫Èõ∂ÁöÑÊñá‰ª∂ ls -l | grep '.jar' Êü•ÊâæÂΩìÂâçÁõÆÂΩï‰∏≠ÁöÑÊâÄÊúâjarÊñá‰ª∂ grep 'test' d* ÊòæÁ§∫ÊâÄÊúâ‰ª•dÂºÄÂ§¥ÁöÑÊñá‰ª∂‰∏≠ÂåÖÂê´testÁöÑË°å„ÄÇ grep 'test' aa bb cc ÊòæÁ§∫Âú®aaÔºåbbÔºåccÊñá‰ª∂‰∏≠ÂåπÈÖçtestÁöÑË°å„ÄÇ grep '[a-z]{5}' aa ÊòæÁ§∫ÊâÄÊúâÂåÖÂê´ÊØè‰∏™Â≠óÁ¨¶‰∏≤Ëá≥Â∞ëÊúâ5‰∏™ËøûÁª≠Â∞èÂÜôÂ≠óÁ¨¶ÁöÑÂ≠óÁ¨¶‰∏≤ÁöÑË°å„ÄÇ ÈáçÂëΩÂêç mv oldNameFile newNameFile ÊùÉÈôê chmod 777 file.java //file.javaÁöÑÊùÉÈôê-rwxrwxrwxÔºårË°®Á§∫ËØª„ÄÅwË°®Á§∫ÂÜô„ÄÅxË°®Á§∫ÂèØÊâßË°å Êõ¥ÊîπÊñá‰ª∂Â±ûÊÄß ÁõÆÂΩï 1.Êü•ÁúãÊñá‰ª∂ÂàóË°®ÔºåÂåÖÂê´ÈöêËóèÊñá‰ª∂ ls -al 2.ÂΩìÂâçÂ∑•‰ΩúÁõÆÂΩï pwd 3.ÂàõÂª∫ÁõÆÂΩï mkdir newfolder 4.Âà†Èô§ÁõÆÂΩï rmdir deleteEmptyFolder Âà†Èô§Á©∫ÁõÆÂΩï rm -rf deleteFile ÈÄíÂΩíÂà†Èô§ÁõÆÂΩï‰∏≠ÊâÄÊúâÂÜÖÂÆπ 5.‰ª•Ê†ëÁä∂ÂõæÂàóÂá∫ÁõÆÂΩïÁöÑÂÜÖÂÆπ tree a ps: Mac‰∏ã‰ΩøÁî®treeÂëΩ‰ª§ Êü•Êâæ ÊùÉÈôê 1.ÂàáÊç¢Áî®Êà∑ su -username 2.‰ΩøÁî®Ë∂ÖÁ∫ßÁÆ°ÁêÜÂëòË∫´‰ªΩÊâßË°åÂëΩ‰ª§ sudo ÂëΩ‰ª§ ËøõÁ®ã 1.Êü•Áúã‰∏Ä‰∏™Á®ãÂ∫èÊòØÂê¶ËøêË°å 12345678#Êü•ÁúãÊâÄÊúâÊúâÂÖ≥tomcatÁöÑËøõÁ®ãps ‚Äìef|grep tomcat #È´ò‰∫ÆË¶ÅÊü•ËØ¢ÁöÑÂÖ≥ÈîÆÂ≠óps -ef|grep --color java #Êü•ÁúãjavaËøõÁ®ãps aux|grep java#Êü•ÁúãÊâÄÊúâËøõÁ®ãps aux 2.ÁªàÊ≠¢Á∫øÁ®ã kill -9 19979 ÁªàÊ≠¢Á∫øÁ®ãÂè∑‰Ωç19979ÁöÑËøõÁ®ã 3.Á´ØÂè£ 12345678#Êü•ÁúãÁõÆÂâçÊâÄÊúâËøêË°åÁ´ØÂè£netstat -tunlp#Êü•ÁúãÁ´ØÂè£8080ÁöÑ‰ΩøÁî®ÊÉÖÂÜµnetstat -tln | grep 8080 #Êü•ÁúãÁ´ØÂè£Â±û‰∫éÂì™‰∏™Á®ãÂ∫èlsof -i :8080 Á≥ªÁªü 1234567891011121314151617181920212223242526272829303132333435363738#ÂÖ≥Êú∫ shutdown -h now #Á´ãÂàªÂÖ≥Êú∫ shutdown -h 5 # 5ÂàÜÈíüÂêéÂÖ≥Êú∫ poweroff # Á´ãÂàªÂÖ≥Êú∫#ÈáçÂêØ shutdown -r now #Á´ãÂàªÈáçÂêØ shutdown -r 5 #5ÂàÜÈíüÂêéÈáçÂêØ reboot #Á´ãÂàªÈáçÂêØ#--helpÂëΩ‰ª§ shutdown --helpÔºö ifconfig --helpÔºö#Êü•ÁúãÁΩëÂç°‰ø°ÊÅØ#manÂëΩ‰ª§ÔºàÂëΩ‰ª§ËØ¥Êòé‰π¶Ôºâ man shutdown #Ê≥®ÊÑèÔºöman shutdownÊâìÂºÄÂëΩ‰ª§ËØ¥Êòé‰π¶‰πãÂêéÔºå‰ΩøÁî®ÊåâÈîÆqÈÄÄÂá∫ #ËøúÁ®ãÁôªÂΩïssh userName@ip#####Êü•ÁúãÁ≥ªÁªüÁ°¨‰ª∂‰ø°ÊÅØ######Êü•ÁúãÊìç‰ΩúÁ≥ªÁªüÁöÑÁâàÊú¨cat /etc/redhat-release #Êü•ÁúãÁ≥ªÁªüÂÜÖÊ†∏uname ‚Äìa#CPUlscpucat /proc/cpuinfo |grep &quot;processor&quot;|sort -u|wc -l #ÈÄªËæëcpuÊï∞Èáègrep &quot;physical id&quot; /proc/cpuinfo|sort -u|wc -l #Áâ©ÁêÜcpuÁöÑÊï∞Èáègrep &quot;cpu cores&quot; /proc/cpuinfo|uniq #ÊØè‰∏™cpuÂÜÖÊ†∏Êï∞#ÂÜÖÂ≠òfree -h #Êü•ÁúãÂÜÖÂ≠òÂç†Áî®ÊÉÖÂÜµcat /proc/meminfo#Êü•ÁúãÂÜÖÂ≠òËØ¶ÁªÜÊÉÖÂÜµ#Á°¨Áõòfdisk -l #Á°¨ÁõòÂàÜÂå∫ÊÉÖÂÜµdf -h #Á£ÅÁõò‰ΩøÁî®ÊÉÖÂÜµdu -sh #Êü•ÁúãÂΩìÂâçÁõÆÂΩïÊÄªÂÖ±Âç†ÁöÑÂÆπÈáè„ÄÇËÄå‰∏çÂçïÁã¨ÂàóÂá∫ÂêÑÂ≠êÈ°πÂç†Áî®ÁöÑÂÆπÈáè„ÄÇdu -lh --max-depth=1 #Êü•ÁúãÂΩìÂâçÁõÆÂΩï‰∏ã‰∏ÄÁ∫ßÂ≠êÊñá‰ª∂ÂíåÂ≠êÁõÆÂΩïÂç†Áî®ÁöÑÁ£ÅÁõòÂÆπÈáè„ÄÇdu -cks * | sort -rn | head -n 10 #Êü•ÁúãÊüê‰∏™ÁõÆÂΩï‰∏ãÂç†Áî®Á©∫Èó¥ÊúÄÂ§öÁöÑÊñá‰ª∂ÊàñÁõÆÂΩï„ÄÇ ÁΩëÁªú 1234#ipÁõ∏ÂÖ≥‰ø°ÊÅØÊü•ËØ¢ip addr#ÁΩëÁªúËÅîÈÄöping www.just-ping.com ÈÉ®ÁΩ≤ JAVAÂ∏∏Áî® ÊâìÂç∞‰ø°ÊÅØ echo $JAVA_HOME ÊâìÂç∞java homeÁéØÂ¢ÉÂèòÈáèÁöÑÂÄº java Â∏∏Áî®ÂëΩ‰ª§ java javac jps , jstat , jmap, jstack Â∫îÁî®Âú∫ÊôØ Á¶ªÁ∫ø/Âú®Á∫ø ÂÆâË£ÖÂêÑÁßçÂåÖ jdkÂÆâË£ÖÈÖçÁΩÆ \\1. ÂàõÂª∫ /usr/java Êñá‰ª∂Â§πÔºåÂ∞ÜÂÆâË£ÖÂåÖÊîæÂÖ•Ëß£Âéã Ëß£ÂéãÂëΩ‰ª§Ôºötar zxvf ÂéãÁº©ÂåÖÂêçÁß∞ Ôºà‰æãÂ¶ÇÔºötar zxvf jdk-8u152-linux-x64.tar.gzÔºâ Âà†Èô§ÂëΩ‰ª§Ôºörm -f ÂéãÁº©ÂåÖÂêçÁß∞ Ôºà‰æãÂ¶Ç rm -f jdk-8u152-linux-x64.tar.gzÔºâ \\2. ‰øÆÊîπÈÖçÁΩÆÊñá‰ª∂ vi /etc/profile export JAVA_HOME=/usr/java/jdk1.8.0_221 export JRE_HOME=/usr/java/jdk1.8.0_221/jre export CLASSPATH=.üòí{JAVA_HOME}/jre/lib/rt.jar:${JAVA_HOME}/lib/dt.jar:${JAVA_HOME}/lib/tools.jar export PATH=$PATH:${JAVA_HOME}/bin ÈÖçÁΩÆÊñá‰ª∂ÁîüÊïà source /etc/profile ‰øÆÊîπÈªòËÆ§jdk cd /usr/bin ln -s -f /usr/java/jdk1.8.0_221/jre/bin/java ln -s -f /usr/java/jdk1.8.0_221/bin/javac java -version redisÂÆâË£Ö 1ÔºâËøûÊé•ÊúçÂä°Âô®ÔºåÂ∞ÜredisÂÆâË£ÖÂåÖÊîæÂÖ•ÊúçÂä°Âô® 2ÔºâËß£ÂéãÂÆâË£ÖÂåÖ tar -zxvf redis-5.0.5.tar.gz 3ÔºâËß£ÂéãÂêéÁõÆÂΩï‰∏∫ 4ÔºâËøõÂÖ• redis-5.0.5 ÁõÆÂΩïÔºåÁÑ∂ÂêéÊâßË°åmakeÂëΩ‰ª§ 5ÔºâÂá∫Áé∞‰∏ãÈù¢Ê†áËØÜËØ¥ÊòéÊàêÂäü 6ÔºâÊâßË°åÂëΩ‰ª§ make install 7ÔºâÂÆâË£ÖÂÆåÊØïÔºå‰øÆÊîπÈÖçÁΩÆ Vi redis.confÔºàÊàñËÄÖÁõ¥Êé•Â∞ÜÊñá‰ª∂ÊãøÂá∫Êù•‰øÆÊîπÔºâ ‰øÆÊîπ daemonize no ‰∏∫yes (ÂäüËÉΩÔºåËÆæÁΩÆredisÂêéÂè∞ËøêË°å) ËÆæÁΩÆ ÂÖ∂‰ªñÊú∫Âô®ËÆøÈóÆ bind 127.0.0.1 ÊîπÊàê bind 0.0.0.0 ÂÖ≥Èó≠ÊåÅ‰πÖÂåñÊìç‰ΩúÔºö728Ë°åappendfsync ËÆæÁΩÆ‰∏∫no Ôºå216Ë°å save &quot;&quot; Ê≥®ÈáäÂÖ∂‰ªñ3‰∏™save ÂêØÂä®redisÂëΩ‰ª§Ôºöredis-server redis.conf ps -ef |grep redis Êü•ÁúãredisËøõÁ®ãÊòØÂê¶ÂêØÂä®ÊàêÂäü redis-cli -p 6379 ‰ΩøÁî®redis Â¶ÇÊûúËÆæÁΩÆ‰∫ÜÂØÜÁ†ÅÔºåÂàôÂÖàÁôªÂΩïÔºöauth *** ËæìÂÖ•ÂëΩ‰ª§ping ËøîÂõûpongÊàêÂäü ÈÄÄÂá∫ÂëΩ‰ª§ Âç∏ËΩΩredis ps -ef |grep redis Êü•ÁúãredisËøõÁ®ã kill -9 **** ÂÅúÊ≠¢redisÊúçÂä° ÊâßË°å ll /usr/local/bin ÊâßË°åÂà†Èô§ÂëΩ‰ª§ rm -f /usr/local/bin/redis* Êü•ÁúãÊñá‰ª∂ÊòØÂê¶Â∑≤ÁªèÂà†Èô§ÊâßË°å ll /usr/local/bin Êü•Âà∞Ê∫êÊñá‰ª∂ÊâÄÂú®ÁöÑÁõÆÂΩï ÊâßË°åÂà†Èô§ÂëΩ‰ª§ rm -rf redis-4.0.6/ Âç∏ËΩΩÂÆåÊàê RedisËÆæÁΩÆÂØÜÁ†Å ÈúÄË¶ÅÊ∞∏‰πÖÈÖçÁΩÆÂØÜÁ†ÅÁöÑËØùÂ∞±Âéªredis.confÁöÑÈÖçÁΩÆÊñá‰ª∂‰∏≠ÊâæÂà∞requirepassËøô‰∏™ÂèÇÊï∞ÔºåÂ¶Ç‰∏ãÈÖçÁΩÆÔºö ‰øÆÊîπredis.confÈÖçÁΩÆÊñá‰ª∂ # requirepass foobared requirepass 123 ÊåáÂÆöÂØÜÁ†Å123 ‰øùÂ≠òÂêéÈáçÂêØredisÂ∞±ÂèØ‰ª•‰∫Ü TomcatÂÆâË£Ö \\1. Â∞ÜÂÆâË£ÖÂåÖÊîæÂÖ•ÊúçÂä°Âô®‰∏≠ \\2. ÂëΩ‰ª§Ëß£Âéã tar -xzvf apache-tomcat-8.5.51.tar.gz \\3. ËøõÂÖ•binÁõÆÂΩïÊâßË°åÂëΩ‰ª§Â∞ÜÊñá‰ª∂ÁöÑÊùÉÈôêËÆæÁΩÆ‰Ωé chmod -R 777 startup.sh shutdown.sh catalina.sh \\4. ÂêØÂä®tomcat \\5. ÊòØÂê¶ÂêØÂä®ÊàêÂäü ps -ef|grep tomcat \\6. ÊµèËßàÂô®ËÆøÈóÆÊü•ÁúãËÉΩÂê¶ËÆøÈóÆ ËÆøÈóÆÂ§±Ë¥•ÊâßË°å firewall-cmd --zone=public --add-port=8080/tcp --permanent Â∞Ü8080Á´ØÂè£Âä†ÂÖ•Èò≤ÁÅ´Â¢ôsuccessÊàêÂäü firewall-cmd --state Èò≤ÁÅ´Â¢ôÁä∂ÊÄÅ firewall-cmd --reload ÈáçÂêØÈò≤ÁÅ´Â¢ô successÊàêÂäü firewall-cmd --zone=public --query-port=8080/tcp Êü•ËØ¢8080Á´ØÂè£ÊòØÂä†ÂÖ•ÊàêÂäü yesÊàêÂäü \\7. ÂºÄÊú∫Ëá™ÂêØ vi /etc/rc.d/rc.local ËæìÂÖ•iËøõÂÖ•ÁºñËæëÊ®°Âºè Âä†ÂÖ•‰ª£Á†Å source /etc/profile sh /opt/Tomcat/apache-tomcat-8.5.51/bin/startup.sh esc‚Äî&gt;ÈÄÄÂá∫ÁºñËæëÊ®°Âºè :wq ‰øùÂ≠òÈÄÄÂá∫ 8ÔºéÁ¨¨‰∫åÁßçÂºÄÊú∫Ëá™ÂêØ ÊØèÊ¨°ÂºÄÊú∫ÈÉΩË¶ÅÂêØÂä®tomcatÔºåÈùûÂ∏∏È∫ªÁÉ¶ÔºöÈÄöËøáÁõ¥Êé•‰øÆÊîπÁ≥ªÁªüÊñá‰ª∂ÔºåÂÆûÁé∞tomcatËá™ÂêØÂä®Ôºö \\1. ‰øÆÊîπËÑöÊú¨Êñá‰ª∂rc.localÔºövim /etc/rc.d/rc.local Ëøô‰∏™ËÑöÊú¨ÊòØ‰ΩøÁî®ËÄÖËá™ÂÆöÁöÑÂºÄÊú∫ÂêØÂä®Á®ãÂ∫èÔºåÂèØ‰ª•Âú®ÈáåÈù¢Ê∑ªÂä†ÊÉ≥Âú®Á≥ªÁªüÂêØÂä®‰πãÂêéÊâßË°åÁöÑËÑöÊú¨ÊàñËÄÖËÑöÊú¨ÊâßË°åÂëΩ‰ª§ \\2. Ê∑ªÂä†Â¶Ç‰∏ãÂÜÖÂÆπÔºö export JAVA_HOME=/usr/java/jdk1.8.0_221 /opt/tomcat/apache-tomcat-8.5.51/bin/startup.sh start \\3. esc ÈÄÄÂá∫ÁºñËæëÔºå:wq ‰øùÂ≠ò‰øÆÊîπ \\4. Â∞Ürc.local‰øÆÊîπ‰∏∫ÂèØÊâßË°å chmod 777 /etc/rc.d/rc.local Âç∏ËΩΩtomcat Âç∏ËΩΩ: ÊâæÂà∞tomcatÁöÑÂÆâË£ÖÁõÆÂΩï rm -rf /usr/java/tomcat/apache-tomcat-8.5.31 (ÂÆâË£ÖÁõÆÂΩï) ÂÆâË£Ö TomcatÁÆ°ÁêÜÈ°µÈù¢ËÆæÁΩÆÂØÜÁ†Å Tomcat-user.xml‰øÆÊîπ ‚Äã &lt;user username**=&quot;tomcat&quot;** password=&quot;123&quot;** roles=&quot;manager-gui&quot;/&gt;** 1234Manager ``‰∏ãÈù¢ÁöÑMETA-INFÈÖçÁΩÆ &lt;Context antiResourceLocking=&quot;false&quot; privileged=&quot;true&quot; &gt; &lt;Valve className=&quot;org.apache.catalina.valves.RemoteAddrValve&quot; allow=&quot;^.*$&quot; /&gt; Manager App Âú® tomcat/bin/Catalina.shÊñá‰ª∂‰∏≠ ÊâæÂà∞ -Djava.security.manager \\ -Djava.security.policy==&quot;&quot;$CATALINA_BASE/conf/catalina.policy&quot;&quot;\\ -Dcatalina.base=&quot;&quot;$CATALINA_BASE&quot;&quot; \\ -Dcatalina.home=&quot;&quot;$CATALINA_HOME&quot;&quot; \\ -Djava.io.tmpdir=&quot;&quot;$CATALINA_TMPDIR&quot;&quot;\\ Âú®ÊØèÊÆµÂêéËøΩÂä†‰∏ÄÂè• -Djava.awt.headless=true \\ ËØ•Ê≠•È™§Ëß£ÂÜ≥‰ΩøÁî®‰∏≠Êó†Ê≥ïÈÄâÊã©Êï∞ÊçÆË∑ØÂæÑÁöÑÈóÆÈ¢ò NginxÂÆâË£Ö \\1. Â∞ÜÂÆâË£ÖÂåÖÊîæÂÖ•ÊúçÂä°Âô®ÔºåËß£Âéã tar xf nginx-1.8.1.tar.gz \\2. ÂÆâË£Ö‰æùËµñ yum -y install gcc gcc-c++ automake pcre-devel zlib zlib-devel open openssl-devel \\3. ËøõÂÖ•ÁõÆÂΩïÁºñËØëÂÆâË£Ö ./configure --prefix=/opt/nginx \\4. ÂÆâË£Ö make &amp;&amp; make install \\5. Êü•Áúã/opt/nginxÁõÆÂΩï \\6. ËøõÂÖ•/opt/nginx/sbinÁõÆÂΩï ./nginx -v Êü•ÁúãnginxËøõÁ®ã ps aux | grep nginx \\7. ÂêØÂä®nginx ./nginx \\8. Â∞ÜÁ´ØÂè£Âä†ÂÖ•Èò≤ÁÅ´Â¢ô firewall-cmd --zone=public --add-port=80/tcp Âç∏ËΩΩnginx: ./nginx ‚Äìs stop ÂÅúÊ≠¢nginxÊúçÂä° find / -name nginx Êü•ÊâæÂåÖÂê´nginxÁöÑÊñá‰ª∂ ÊâßË°åÂà†Èô§ÂëΩ‰ª§ rm ‚Äìrf * yum remove nginx Êü•ÁúãnginxÊòØÂê¶ËøòÂ≠òÂú® Which nginx NginxÈÖçÁΩÆSSLÊä•Èîô nginx: [emerg] the &quot;ssl&quot; parameter requires ngx_http_ssl_module in /opt/nginx/conf/nginx.conf:130 https://blog.csdn.net/m0_37711292/article/details/85163834 MysqlÂÆâË£Ö \\1. ‰∏ä‰º†ÂÆâË£ÖÂåÖÂà∞ÊúçÂä°Âô®Âπ∂Ëß£Âéã tar -xvf MySQL-5.6.40-1.el7.x86_64.rpm-bundle.tar -C /opt/mysql \\2. Êü•ÁúãÊòØÂê¶ÊúâÂÆâË£Ömariadb rpm -qa | grep -i mariadb Âç∏ËΩΩ yum remove mariadb-server-5.5.65-1.el7.x86_64 \\3. ÂÆâË£ÖÊñá‰ª∂ rpm -ivh MySQL-shared-compat-5.6.40-1.el7.x86_64.rpm --nodeps ‚Äìforce rpm -ivh MySQL-server-5.6.40-1.el7.x86_64.rpm --nodeps ‚Äìforce rpm -ivh MySQL-client-5.6.40-1.el7.x86_64.rpm --nodeps ‚Äìforce rpm -ivh MySQL-devel-5.6.40-1.el7.x86_64.rpm --nodeps ‚Äìforce rpm -ivh MySQL-embedded-5.6.40-1.el7.x86_64.rpm --nodeps ‚Äìforce rpm -ivh MySQL-shared-5.6.40-1.el7.x86_64.rpm --nodeps ‚Äìforce Ëé∑ÂèñÂÆâË£ÖÁä∂ÊÄÅ rpm -qa | grep -i mysql \\4. Ëé∑ÂèñÈöèÊú∫ÁîüÊàêÂØÜÁ†Å cat /root/.mysql_secret ÂêØÂä®ÊúçÂä° service mysql start ÁôªÂΩï mysql -u root ‚Äìp ËæìÂÖ•ÂàöÊâçÊü•ËØ¢ÁöÑÂØÜÁ†Å ÁôªÂΩïÊàêÂäüÔºå‰øÆÊîπÂØÜÁ†Å set password for 'root'@'localhost' = password('root'); ËÆæÁΩÆËøúÁ®ãËøûÊé• grant all privileges on . to 'root'@'%' identified by 'root' with grant option; 3306Á´ØÂè£Âä†ÂÖ•Èò≤ÁÅ´Â¢ô firewall-cmd --add-port=3306/tcp --permanent ÈáçÂêØÈò≤ÁÅ´Â¢ô firewall-cmd ‚Äìreload GeoserverÂÆâË£Ö \\1. ‰∏ä‰º†ÂÆâË£ÖÂåÖÔºåËß£Âéã unzip geoserver-2.15.3-war.zip -d geoserver \\2. Â∞ÜwarÂåÖÊîæÂÖ•tomcatÁöÑwebappsÈáåÈù¢ \\3. ‰øÆÊîπtomcat/bin/catalina.shÂ¢ûÂä†ÂêØÂä®ÂèÇÊï∞ Xml‰ª£Á†Å CATALINA_OPTS=&quot;-Djava.awt.headless=true&quot; ÂêØÂä®Tomcat(tomcat/bin/startup.sh) È™åËØÅÔºöÁôªÈôÜ http://10.32.250.178:8080/ geoserver ÔºåÁúãÂà∞GeoServerÈ°µÈù¢ÔºåË¥¶Âè∑ÔºöadminÔºåÂØÜÁ†ÅÔºögeoserver ÊúçÂä°Êä•ÈîôÔºö org.springframework.web.util.NestedServletException: Handler dispatch failed; nested exception is java.lang.NoClassDefFoundError: Could not initialize class sun.awt.X11GraphicsEnvironment ‰øÆÊîπtomcat/bin/catalina.sh Âú®ÊâÄÊúâ-Djava.io.tmpdir‚Ä¶ÂêéÈù¢Â¢ûÂä†‰∏Ä‰∏™ -Djava.awt.headless=true \\ OpenfileÂÆâË£Ö https://blog.csdn.net/github_38924695/article/details/89470960 ÈÄöËøáxftp‰∏ä‰º†Âà∞linux‰∏≠„ÄÇÊàëÁöÑÁõÆÂΩïÂú®/opt/openoffice‰∏≠ Ëß£ÂéãÊñá‰ª∂Ôºötar -zxvf Apache_OpenOffice_4.1.6_Linux_x86-64_install-rpm_zh-CN.tar.gz Ëß£ÂéãÂêéËøõÂÖ•zh-CNÁõÆÂΩï‰∏≠Ôºö cd RPMS/ ÈáåÈù¢ÈÉΩÊòØrpmÊñá‰ª∂ÔºåÊàë‰ª¨ÈúÄË¶ÅÂÆâË£ÖËøô‰∫õÊñá‰ª∂ rpm -ivh *.rpm ËøõÂÖ•desktop-integration/ÁõÆÂΩïÔºöcd desktop-integration/ ÂÆâË£Öopenoffice:rpm -ivh openoffice4.1.6-redhat-menus-4.1.6-9790.noarch.rpm PostgresÂÆâË£Ö \\1. ‰∏ãËΩΩÂÆâË£ÖÂåÖ ‰∏ãËΩΩÁ¶ªÁ∫ø rpm ÂåÖÔºöhttps://yum.postgresql.org/rpmchart/ https://www.postgresql.org/download/ ‰∏ãËΩΩ4‰∏™ÂÆâË£ÖÂåÖ \\2. ‰∏ä‰º†Âà∞ÊúçÂä°Âô® \\3. ÊåâÁÖßÈ°∫Â∫èÂÆâË£Ö rpm -ivh postgresql11-libs-11.12-1PGDG.rhel7.x86_64.rpm rpm -ivh postgresql11-11.12-1PGDG.rhel7.x86_64.rpm rpm -ivh postgresql11-server-11.12-1PGDG.rhel7.x86_64.rpm rpm -ivh postgresql11-contrib-11.12-1PGDG.rhel7.x86_64.rpm Â¶ÇÊûúÊä•ÈîôÂàôÂú®ËØ≠Âè•ÂêéÈù¢Â¢ûÂä† --force ‚Äìnodeps ‰æãÔºörpm -ivh postgresql11-libs-11.12-1PGDG.rhel7.x86_64.rpm --force ‚Äìnodeps ÂÆâË£Öerror Ëß£ÂÜ≥Ôºö ‰∏ãËΩΩÂÆâË£ÖÔºö http://mirror.centos.org/centos/7/os/x86_64/Packages/libicu-50.2-4.el7_7.x86_64.rpm rpm -ivh libicu-50.2-4.el7_7.x86_64.rpm ‰∏ãËΩΩÂÆâË£ÖÔºö http://mirror.centos.org/centos/7/os/x86_64/Packages/libxslt-1.1.28-6.el7.x86_64.rpm rpm -ivh libxslt-1.1.28-6.el7.x86_64.rpm Âç∏ËΩΩÔºö #ps:Â¶ÇÊûúË¶ÅÂç∏ËΩΩÁöÑËØù, ÂÖàÂÅúÊ≠¢postgesÊúçÂä°ÔºåÁÑ∂ÂêéÊâßË°å‰∏ãÈù¢ÁöÑÂëΩ‰ª§Âç≥ÂèØ rpm -qe postgresql11-libs-11.1-1PGDG.rhel7.x86_64 rpm -qe postgresql11-11.1-1PGDG.rhel7.x86_64 rpm -qe postgresql11-server-11.1-1PGDG.rhel7.x86_64 \\4. ÂàùÂßãÂåñ /usr/pgsql-11/bin/postgresql-11-setup initdb \\5. ÂêØÂä®ÊúçÂä° 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374systemctl enable postgresql-11.servicesystemctl start postgresql-11.servicevi /var/lib/pgsql/11/data/postgresql.confÊåâÈúÄ‰øÆÊîπ‰ª•‰∏ã‰∏§Ë°åÔºö# *Ë°®Á§∫ÁõëÂê¨ÊâÄÊúâÁöÑip‰ø°ÊÅØÔºå‰πüÂèØ‰ª•‰ΩøÁî®localhost„ÄÅ127.0.0.1Á≠âlisten_addresses = '*' # ÈªòËÆ§ÁöÑÁõëÂê¨Á´ØÂè£‰∏∫5432Ôºå‰πüÂèØ‰ª•Êç¢‰∏∫ÂÖ∂ÂÆÉÁöÑport = 5432‰øÆÊîπÂêåÁõÆÂΩï‰∏ãÁöÑpg_hba.confÊñá‰ª∂ÔºåËÆæÁΩÆÂÖÅËÆ∏ËÆøÈóÆÁöÑipÔºåËøôÈáåÊàëÂõ†‰∏∫ÊòØÊµãËØïÊúçÂä°Âô®ÔºåÊâÄ‰ª•ËÆæÁΩÆÊâÄÊúâÔºöhost all all 0.0.0.0/0 trustÈáçÂêØÔºösystemctl restart postgresql-11.service # Áä∂ÊÄÅÊü•Áúãservice postgresql-11 status # ÂÅúÊ≠¢service postgresql-11 stop# ÂêØÂä®service postgresql-11 start https://blog.csdn.net/justlpf/article/details/847698135. ÁßªÂä®Êï∞ÊçÆÂ∫ìÂà∞ÊåáÂÆöÁõÆÂΩï5.1 ÁßªÂä®ÁõÆÂΩï#È°ªÂÖàÊâßË°åÂëΩ‰ª§:# 1. mkdir -p /data/pgsql/ # 2. chown postgres:postgres -R /data/pgsql[root@VMTest ~]# mv /var/lib/pgsql/11/* /data/pgsql/[root@VMTest ~]# chown -R postgres:postgres /data/pgsql/[root@VMTest ~]# chmod 700 /data/pgsql/data -R5.2 ‰øÆÊîπÈÖçÁΩÆÊñá‰ª∂#a.‰øÆÊîπÊåáÂÆöÁöÑÊï∞ÊçÆÁõÆÂΩï[root@VMTest ~]# vi /usr/lib/systemd/system/postgresql-11.service # ÊâßË°åÂâçÈ°ªÊâßË°åÂëΩ‰ª§: # 1. mkdir -p /data/pgsql/ # 2. chown postgres:postgres -R /data/pgsql# 3. chmod 700 /data/pgsql/data -R#‰øÆÊîπEnvironment=PGDATA=/var/lib/pgsql/11/data/‰∏∫Environment=PGDATA=/data/pgsql/data/ #b.‰øÆÊîπÊï∞ÊçÆÁõÆÂΩï[root@VMTest ~]# vi /data/pgsql/data/postgresql.conf#ÊâßË°åÂâçÈ°ªÊâßË°åÂëΩ‰ª§: # 1. mkdir -p /data/pgsql/ # 2. chown postgres:postgres -R /data/pgsql# 3. chmod 700 /data/pgsql/data -R#‰øÆÊîπdata_directory: data_directory = '/data/pgsql/data' ÂÖ∂ÂÆÉÈÖçÁΩÆ‰øÆÊîπ:log_directory = 'log' max_connections = 100 5.3 ÈáçÊñ∞Âä†ËΩΩÈÖçÁΩÆÊñá‰ª∂ÔºåÈáçÂêØÊï∞ÊçÆÂ∫ì[root@VMTest ~]# systemctl daemon-reload[root@VMTest ~]# systemctl restart postgresql-11[root@VMTest ~]# ps -ef | grep postgres #Á°ÆËÆ§ÂêØÂä®ÊàêÂäü6. ‰øÆÊîπÂØÜÁ†Å[root@VMTest ~]# su postgres[postgres@VMTest root]$ psqlcould not change directory to &quot;/root&quot;: Permission deniedpsql (11.1)Type &quot;help&quot; for help. postgres=# #------------------------------------------------------#ÊâßË°åÂëΩ‰ª§postgres=# ALTER ROLE postgres WITH PASSWORD '123abc'; postgresÂç∏ËΩΩyum remove postgresql*È™åËØÅÊòØÈÉΩÂç∏ËΩΩÂÆåÊØïrpm -qa | grep postgresql PostgesÂÆâË£Ö https://blog.csdn.net/qq_33554285/article/details/111135786 ‰∏ä‰º†tar.gzÂåÖ tar ‚Äìzxvf **** cd postgresql-11.5/ ./configure Â§±Ë¥•ÔºåÊèêÁ§∫ Êü•ÁúãreadlineÊòØÂê¶ÂÆâË£Ö rpm -qa | grep readline ./configure --without-readline Zlib ‰∏ãËΩΩ http://mirror.centos.org/centos/7/os/x86_64/Packages/zlib-devel-1.2.7-18.el7.x86_64.rpm rpm -ivh zlib-devel-1.2.7-18.el7.x86_64.rpm make make install vi /etc/profile export PG_HOME=/usr/local/pgsql export PATH=$PG_HOME/bin:$PATH export LD_LIBRARY_PATH=/usr/local/pgsql/lib source /etc/profile Êü•ÁúãÁâàÊú¨ psql --version mkdir data sudo groupadd postgres sudo useradd -gpostgres postgres chown postgres:postgres /opt/postgres/data/ ÂàõÂª∫Êï∞ÊçÆÂ∫ìÈõÜÁ∞á su postgres -c '/usr/local/pgsql/bin/initdb -D /opt/postgres/data/‚Äô ÂêØÂä®Êï∞ÊçÆÂ∫ìÁöÑËøõÁ®ãÊúçÂä° /usr/local/pgsql/bin/pg_ctl -D /opt/postgres/data/ -l logfile start ÂàáÊç¢Âà∞rootÂØπpostgresÁöÑ/usr/local/pgsql/bin‰∏é/opt/postgres/ËøõË°åËµãÊùÉ chown -R postgres:postgres ./ chmod -R 700 ./data/ ÂÅúÊ≠¢pg_ctl bin/pg_ctl -D /opt/postgres/data/ stop /usr/local/pgsql/bin/pg_ctl -D /opt/postgres/data/ -m fast startÂêØÂä®Êï∞ÊçÆÂ∫ì Êü•ÁúãÊï∞ÊçÆÂ∫ìÁ´ØÂè£Âπ∂ËøûÊé• netstat -nptl psql -p 5432b -U postgres ‰øÆÊîπdataÈáåÈù¢ÁöÑÈÖçÁΩÆÊñá‰ª∂ postgresql.confÔºö listen_address = ‚Äò*‚Äô port = 5432 Ê≥®ÈáäÂèñÊ∂à Âú®pg_hba.confÁ¨¨‰∏ÄË°åÊ∑ªÂä†host all all 0.0.0.0/0 md5 (md5:ÈúÄË¶ÅÂØÜÁ†Å,trustÔºöÊó†ÈúÄÂØÜÁ†Å) ÂÖàËÆæÁΩÆtrust‰øÆÊîπÂØÜÁ†ÅÔºö alter user postgres with password ‚Äòpostgres‚Äô; Âú®Êîπ‰∏∫MD5,ÈáçÂêØÊúçÂä° su postgres /usr/local/pgsql/bin/pg_ctl -D /opt/postgres/data/ stop /usr/local/pgsql/bin/pg_ctl -D /opt/postgres/data/ start Êü•ÁúãÈò≤ÁÅ´Â¢ôÁä∂ÊÄÅÔºåÂà§Êñ≠ÊòØÂê¶ÈúÄË¶ÅÊîæÂºÄÁ´ØÂè£ firewall-cmd ‚Äìstate Â¶ÇÊûúrunning firewall-cmd --zone=public --add-port=5432/tcp --permanent firewall-cmd --reload firewall-cmd --zone=public --query-port=5432/tcp postgisÂÆâË£Ö gdal tar -zxvf gdal-2.4.1.tar.gz cd gdal-2.4.1 ./configure --prefix=/opt/gdal-2.4.1 make make install ÂÆâË£ÖprojÊä•Èîô Sqllite‰∏ãËΩΩÂú∞ÂùÄ https://www.sqlite.org/chronology.html https://www.sqlite.org/index.html https://www.sqlite.org/2015/... https://blog.csdn.net/dikcychen2011/article/details/21969357 ÂçáÁ∫ßsqlite3ÁâàÊú¨Ôºö https://blog.csdn.net/weixin_39559523/article/details/116814527 Èò≤ÁÅ´Â¢ô ‰∏Ä„ÄÅiptablesÈò≤ÁÅ´Â¢ô 1„ÄÅÂü∫Êú¨Êìç‰Ωú # Êü•ÁúãÈò≤ÁÅ´Â¢ôÁä∂ÊÄÅ service iptables status # ÂÅúÊ≠¢Èò≤ÁÅ´Â¢ô service iptables stop # ÂêØÂä®Èò≤ÁÅ´Â¢ô service iptables start # ÈáçÂêØÈò≤ÁÅ´Â¢ô service iptables restart # Ê∞∏‰πÖÂÖ≥Èó≠Èò≤ÁÅ´Â¢ô chkconfig iptables off # Ê∞∏‰πÖÂÖ≥Èó≠ÂêéÈáçÂêØ chkconfig iptables on 2„ÄÅÂºÄÂêØ80Á´ØÂè£ vim /etc/sysconfig/iptables # Âä†ÂÖ•Â¶Ç‰∏ã‰ª£Á†Å -A INPUT -m state --state NEW -m tcp -p tcp --dport 80 -j ACCEPT ‰øùÂ≠òÈÄÄÂá∫ÂêéÈáçÂêØÈò≤ÁÅ´Â¢ô service iptables restart ‰∫å„ÄÅfirewallÈò≤ÁÅ´Â¢ô 1„ÄÅÊü•ÁúãfirewallÊúçÂä°Áä∂ÊÄÅ systemctl status firewalld Âá∫Áé∞Active: active (running)ÂàáÈ´ò‰∫ÆÊòæÁ§∫ÂàôË°®Á§∫ÊòØÂêØÂä®Áä∂ÊÄÅ„ÄÇ Âá∫Áé∞ Active: inactive (dead)ÁÅ∞Ëâ≤Ë°®Á§∫ÂÅúÊ≠¢ÔºåÁúãÂçïËØç‰πüË°å„ÄÇ 2„ÄÅÊü•ÁúãfirewallÁöÑÁä∂ÊÄÅ firewall-cmd --state 3„ÄÅÂºÄÂêØ„ÄÅÈáçÂêØ„ÄÅÂÖ≥Èó≠„ÄÅfirewalld.serviceÊúçÂä° # ÂºÄÂêØ service firewalld start # ÈáçÂêØ service firewalld restart # ÂÖ≥Èó≠ service firewalld stop 4„ÄÅÊü•ÁúãÈò≤ÁÅ´Â¢ôËßÑÂàô firewall-cmd --list-all 5„ÄÅÊü•ËØ¢„ÄÅÂºÄÊîæ„ÄÅÂÖ≥Èó≠Á´ØÂè£ # Êü•ËØ¢Á´ØÂè£ÊòØÂê¶ÂºÄÊîæ firewall-cmd --query-port=8080/tcp # ÂºÄÊîæ80Á´ØÂè£ firewall-cmd --permanent --add-port=80/tcp # ÁßªÈô§Á´ØÂè£ firewall-cmd --permanent --remove-port=8080/tcp #ÈáçÂêØÈò≤ÁÅ´Â¢ô(‰øÆÊîπÈÖçÁΩÆÂêéË¶ÅÈáçÂêØÈò≤ÁÅ´Â¢ô) firewall-cmd --reload # ÂèÇÊï∞Ëß£Èáä 1„ÄÅfirwall-cmdÔºöÊòØLinuxÊèê‰æõÁöÑÊìç‰ΩúfirewallÁöÑ‰∏Ä‰∏™Â∑•ÂÖ∑Ôºõ 2„ÄÅ--permanentÔºöË°®Á§∫ËÆæÁΩÆ‰∏∫ÊåÅ‰πÖÔºõ 3„ÄÅ--add-portÔºöÊ†áËØÜÊ∑ªÂä†ÁöÑÁ´ØÂè£Ôºõ ÂéüÊñáÔºöhttps://blog.csdn.net/bbwangj/article/details/74502967 Á®ãÂ∫èÈÉ®ÁΩ≤ Êñá‰ª∂Êìç‰Ωú Ê∏ÖÁêÜÈÄüÂ∫¶‰ºòÂåñ ËøõÁ®ãÁÆ°ÁêÜ ÊùÉÈôêÁÆ°ÁêÜ Êü•ÁúãÊúçÂä°Âô®ÈÖçÁΩÆ LinuxÁÆÄ‰ªã LinuxÔºåÂÖ®Áß∞GNU/LinuxÔºåÊòØ‰∏ÄÁßçÂÖçË¥π‰ΩøÁî®ÂíåËá™Áî±‰º†Êí≠ÁöÑÁ±ªUNIXÊìç‰ΩúÁ≥ªÁªü Â∫îÁî® LinuxÂ∑•ÂÖ∑ SecureCRT 7.3 rz‰∏ä‰º†Êñá‰ª∂Âà∞ÂΩìÂâçÁõÆÂΩï sz Êñá‰ª∂Âêç‰∏ãËΩΩ yum -y install bash-completionËá™Âä®Ë°•ÂÖ® tab ÂêØÂä®ËøáÁ®ã ÂÜÖÊ†∏ÁöÑÂºïÂØº„ÄÇ ÁîµÊ∫ê BIOSÂºÄÊú∫Ëá™Ê£ÄÔºåÊåâÁÖßBIOS‰∏≠ËÆæÁΩÆÁöÑÂêØÂä®ËÆæÂ§áÔºàÈÄöÂ∏∏ÊòØÁ°¨ÁõòÔºâÊù•ÂêØÂä® Êìç‰ΩúÁ≥ªÁªüÊé•ÁÆ°Á°¨‰ª∂‰ª•ÂêéÔºåÈ¶ñÂÖàËØªÂÖ• /boot ÁõÆÂΩï‰∏ãÁöÑÂÜÖÊ†∏Êñá‰ª∂„ÄÇ ËøêË°å init„ÄÇ initÁ®ãÂ∫èÁöÑÁ±ªÂûã SysV: init, CentOS 5‰πãÂâç, ÈÖçÁΩÆÊñá‰ª∂Ôºö /etc/inittab„ÄÇ Upstart: init,CentOS 6, ÈÖçÁΩÆÊñá‰ª∂Ôºö /etc/inittab, /etc/init/*.conf„ÄÇ SystemdÔºö systemd, CentOS 7,ÈÖçÁΩÆÊñá‰ª∂Ôºö /usr/lib/systemd/system„ÄÅ /etc/systemd/system„ÄÇ init ËøõÁ®ãÊòØÁ≥ªÁªüÊâÄÊúâËøõÁ®ãÁöÑËµ∑ÁÇπÔºå‰Ω†ÂèØ‰ª•ÊääÂÆÉÊØîÊãüÊàêÁ≥ªÁªüÊâÄÊúâËøõÁ®ãÁöÑËÄÅÁ•ñÂÆóÔºåÊ≤°ÊúâËøô‰∏™ËøõÁ®ãÔºåÁ≥ªÁªü‰∏≠‰ªª‰ΩïËøõÁ®ãÈÉΩ‰∏ç‰ºöÂêØÂä®„ÄÇ init Á®ãÂ∫èÈ¶ñÂÖàÊòØÈúÄË¶ÅËØªÂèñÈÖçÁΩÆÊñá‰ª∂ /etc/inittab„ÄÇ ËøêË°åÁ∫ßÂà´ Á®ãÂ∫èÈúÄË¶ÅÂºÄÊú∫ÂêØÂä®„ÄÇÂÆÉ‰ª¨Âú®WindowsÂè´ÂÅö&quot;ÊúçÂä°&quot;ÔºàserviceÔºâÔºåÂú®LinuxÂ∞±Âè´ÂÅö&quot;ÂÆàÊä§ËøõÁ®ã&quot;ÔºàdaemonÔºâ„ÄÇ initËøõÁ®ãÁöÑ‰∏ÄÂ§ß‰ªªÂä°ÔºåÂ∞±ÊòØÂéªËøêË°åËøô‰∫õÂºÄÊú∫ÂêØÂä®ÁöÑÁ®ãÂ∫è„ÄÇ ‰ΩÜÊòØÔºå‰∏çÂêåÁöÑÂú∫ÂêàÈúÄË¶ÅÂêØÂä®‰∏çÂêåÁöÑÁ®ãÂ∫èÔºåÊØîÂ¶ÇÁî®‰ΩúÊúçÂä°Âô®Êó∂ÔºåÈúÄË¶ÅÂêØÂä®ApacheÔºåÁî®‰ΩúÊ°åÈù¢Â∞±‰∏çÈúÄË¶Å„ÄÇ LinuxÂÖÅËÆ∏‰∏∫‰∏çÂêåÁöÑÂú∫ÂêàÔºåÂàÜÈÖç‰∏çÂêåÁöÑÂºÄÊú∫ÂêØÂä®Á®ãÂ∫èÔºåËøôÂ∞±Âè´ÂÅö&quot;ËøêË°åÁ∫ßÂà´&quot;ÔºàrunlevelÔºâ„ÄÇ‰πüÂ∞±ÊòØËØ¥ÔºåÂêØÂä®Êó∂Ê†πÊçÆ&quot;ËøêË°åÁ∫ßÂà´&quot;ÔºåÁ°ÆÂÆöË¶ÅËøêË°åÂì™‰∫õÁ®ãÂ∫è„ÄÇ - ËøêË°åÁ∫ßÂà´0ÔºöÁ≥ªÁªüÂÅúÊú∫Áä∂ÊÄÅÔºåÁ≥ªÁªüÈªòËÆ§ËøêË°åÁ∫ßÂà´‰∏çËÉΩËÆæ‰∏∫0ÔºåÂê¶Âàô‰∏çËÉΩÊ≠£Â∏∏ÂêØÂä® ËøêË°åÁ∫ßÂà´1ÔºöÂçïÁî®Êà∑Â∑•‰ΩúÁä∂ÊÄÅÔºårootÊùÉÈôêÔºåÁî®‰∫éÁ≥ªÁªüÁª¥Êä§ÔºåÁ¶ÅÊ≠¢ËøúÁ®ãÁôªÈôÜ ËøêË°åÁ∫ßÂà´2ÔºöÂ§öÁî®Êà∑Áä∂ÊÄÅ(Ê≤°ÊúâNFS) ËøêË°åÁ∫ßÂà´3ÔºöÂÆåÂÖ®ÁöÑÂ§öÁî®Êà∑Áä∂ÊÄÅ(ÊúâNFS)ÔºåÁôªÈôÜÂêéËøõÂÖ•ÊéßÂà∂Âè∞ÂëΩ‰ª§Ë°åÊ®°Âºè ËøêË°åÁ∫ßÂà´4ÔºöÁ≥ªÁªüÊú™‰ΩøÁî®Ôºå‰øùÁïô ËøêË°åÁ∫ßÂà´5ÔºöX11ÊéßÂà∂Âè∞ÔºåÁôªÈôÜÂêéËøõÂÖ•ÂõæÂΩ¢GUIÊ®°Âºè ËøêË°åÁ∫ßÂà´6ÔºöÁ≥ªÁªüÊ≠£Â∏∏ÂÖ≥Èó≠Âπ∂ÈáçÂêØÔºåÈªòËÆ§ËøêË°åÁ∫ßÂà´‰∏çËÉΩËÆæ‰∏∫6ÔºåÂê¶Âàô‰∏çËÉΩÊ≠£Â∏∏ÂêØÂä® Á≥ªÁªüÂàùÂßãÂåñ„ÄÇ si::sysinit:/etc/rc.d/rc.sysinit ÂÆÉË∞ÉÁî®ÊâßË°å‰∫Ü/etc/rc.d/rc.sysinitÔºåËÄårc.sysinitÊòØ‰∏Ä‰∏™bash shellÁöÑËÑöÊú¨ÔºåÂÆÉ‰∏ªË¶ÅÊòØÂÆåÊàê‰∏Ä‰∫õÁ≥ªÁªüÂàùÂßãÂåñÁöÑÂ∑•‰ΩúÔºårc.sysinitÊòØÊØè‰∏Ä‰∏™ËøêË°åÁ∫ßÂà´ÈÉΩË¶ÅÈ¶ñÂÖàËøêË°åÁöÑÈáçË¶ÅËÑöÊú¨„ÄÇ ÂÆÉ‰∏ªË¶ÅÂÆåÊàêÁöÑÂ∑•‰ΩúÊúâÔºöÊøÄÊ¥ª‰∫§Êç¢ÂàÜÂå∫ÔºåÊ£ÄÊü•Á£ÅÁõòÔºåÂä†ËΩΩÁ°¨‰ª∂Ê®°Âùó‰ª•ÂèäÂÖ∂ÂÆÉ‰∏Ä‰∫õÈúÄË¶Å‰ºòÂÖàÊâßË°å‰ªªÂä°„ÄÇ l5:5:wait:/etc/rc.d/rc 5 Ëøô‰∏ÄË°åË°®Á§∫‰ª•5‰∏∫ÂèÇÊï∞ËøêË°å/etc/rc.d/rcÔºå/etc/rc.d/rcÊòØ‰∏Ä‰∏™ShellËÑöÊú¨ÔºåÂÆÉÊé•Âèó5‰Ωú‰∏∫ÂèÇÊï∞ÔºåÂéªÊâßË°å/etc/rc.d/rc5.d/ÁõÆÂΩï‰∏ãÁöÑÊâÄÊúâÁöÑrcÂêØÂä®ËÑöÊú¨Ôºå/etc/rc.d/rc5.d/ÁõÆÂΩï‰∏≠ÁöÑËøô‰∫õÂêØÂä®ËÑöÊú¨ÂÆûÈôÖ‰∏äÈÉΩÊòØ‰∏Ä‰∫õËøûÊé•Êñá‰ª∂ÔºåËÄå‰∏çÊòØÁúüÊ≠£ÁöÑrcÂêØÂä®ËÑöÊú¨ÔºåÁúüÊ≠£ÁöÑrcÂêØÂä®ËÑöÊú¨ÂÆûÈôÖ‰∏äÈÉΩÊòØÊîæÂú®/etc/rc.d/init.d/ÁõÆÂΩï‰∏ã„ÄÇ ËÄåËøô‰∫õrcÂêØÂä®ËÑöÊú¨ÊúâÁùÄÁ±ª‰ººÁöÑÁî®Ê≥ïÔºåÂÆÉ‰ª¨‰∏ÄËà¨ËÉΩÊé•Âèóstart„ÄÅstop„ÄÅrestart„ÄÅstatusÁ≠âÂèÇÊï∞„ÄÇ /etc/rc.d/rc5.d/‰∏≠ÁöÑrcÂêØÂä®ËÑöÊú¨ÈÄöÂ∏∏ÊòØKÊàñSÂºÄÂ§¥ÁöÑËøûÊé•Êñá‰ª∂ÔºåÂØπ‰∫é‰ª• S ÂºÄÂ§¥ÁöÑÂêØÂä®ËÑöÊú¨ÔºåÂ∞Ü‰ª•startÂèÇÊï∞Êù•ËøêË°å„ÄÇ ËÄåÂ¶ÇÊûúÂèëÁé∞Â≠òÂú®Áõ∏Â∫îÁöÑËÑöÊú¨‰πüÂ≠òÂú®KÊâìÂ§¥ÁöÑËøûÊé•ÔºåËÄå‰∏îÂ∑≤ÁªèÂ§Ñ‰∫éËøêË°åÊÄÅ‰∫Ü(‰ª•/var/lock/subsys/‰∏ãÁöÑÊñá‰ª∂‰Ωú‰∏∫Ê†áÂøó)ÔºåÂàôÂ∞ÜÈ¶ñÂÖà‰ª•stop‰∏∫ÂèÇÊï∞ÂÅúÊ≠¢Ëøô‰∫õÂ∑≤ÁªèÂêØÂä®‰∫ÜÁöÑÂÆàÊä§ËøõÁ®ãÔºåÁÑ∂ÂêéÂÜçÈáçÊñ∞ËøêË°å„ÄÇ ËøôÊ†∑ÂÅöÊòØ‰∏∫‰∫Ü‰øùËØÅÊòØÂΩìinitÊîπÂèòËøêË°åÁ∫ßÂà´Êó∂ÔºåÊâÄÊúâÁõ∏ÂÖ≥ÁöÑÂÆàÊä§ËøõÁ®ãÈÉΩÂ∞ÜÈáçÂêØ„ÄÇ Ëá≥‰∫éÂú®ÊØè‰∏™ËøêË°åÁ∫ß‰∏≠Â∞ÜËøêË°åÂì™‰∫õÂÆàÊä§ËøõÁ®ãÔºåÁî®Êà∑ÂèØ‰ª•ÈÄöËøáchkconfigÊàñsetup‰∏≠ÁöÑ&quot;System Services&quot;Êù•Ëá™Ë°åËÆæÂÆö„ÄÇ Âª∫Á´ãÁªàÁ´Ø „ÄÇ rcÊâßË°åÂÆåÊØïÂêéÔºåËøîÂõûinit„ÄÇËøôÊó∂Âü∫Êú¨Á≥ªÁªüÁéØÂ¢ÉÂ∑≤ÁªèËÆæÁΩÆÂ•Ω‰∫ÜÔºåÂêÑÁßçÂÆàÊä§ËøõÁ®ã‰πüÂ∑≤ÁªèÂêØÂä®‰∫Ü„ÄÇ initÊé•‰∏ãÊù•‰ºöÊâìÂºÄ6‰∏™ÁªàÁ´ØÔºå‰ª•‰æøÁî®Êà∑ÁôªÂΩïÁ≥ªÁªü„ÄÇÂú®inittab‰∏≠ÁöÑ‰ª•‰∏ã6Ë°åÂ∞±ÊòØÂÆö‰πâ‰∫Ü6‰∏™ÁªàÁ´ØÔºö 1:2345:respawn:/sbin/mingetty tty1 2:2345:respawn:/sbin/mingetty tty2 3:2345:respawn:/sbin/mingetty tty3 4:2345:respawn:/sbin/mingetty tty4 5:2345:respawn:/sbin/mingetty tty5 6:2345:respawn:/sbin/mingetty tty6 ‰ªé‰∏äÈù¢ÂèØ‰ª•ÁúãÂá∫Âú®2„ÄÅ3„ÄÅ4„ÄÅ5ÁöÑËøêË°åÁ∫ßÂà´‰∏≠ÈÉΩÂ∞Ü‰ª•respawnÊñπÂºèËøêË°åmingettyÁ®ãÂ∫èÔºåmingettyÁ®ãÂ∫èËÉΩÊâìÂºÄÁªàÁ´Ø„ÄÅËÆæÁΩÆÊ®°Âºè„ÄÇ ÂêåÊó∂ÂÆÉ‰ºöÊòæÁ§∫‰∏Ä‰∏™ÊñáÊú¨ÁôªÂΩïÁïåÈù¢ÔºåËøô‰∏™ÁïåÈù¢Â∞±ÊòØÊàë‰ª¨ÁªèÂ∏∏ÁúãÂà∞ÁöÑÁôªÂΩïÁïåÈù¢ÔºåÂú®Ëøô‰∏™ÁôªÂΩïÁïåÈù¢‰∏≠‰ºöÊèêÁ§∫Áî®Êà∑ËæìÂÖ•Áî®Êà∑ÂêçÔºåËÄåÁî®Êà∑ËæìÂÖ•ÁöÑÁî®Êà∑Â∞Ü‰Ωú‰∏∫ÂèÇÊï∞‰º†ÁªôloginÁ®ãÂ∫èÊù•È™åËØÅÁî®Êà∑ÁöÑË∫´‰ªΩ„ÄÇ Áî®Êà∑ÁôªÂΩïÁ≥ªÁªü„ÄÇ ‰∏ÄËà¨Êù•ËØ¥ÔºåÁî®Êà∑ÁöÑÁôªÂΩïÊñπÂºèÊúâ‰∏âÁßçÔºö Ôºà1ÔºâÂëΩ‰ª§Ë°åÁôªÂΩï Ôºà2ÔºâsshÁôªÂΩï Ôºà3ÔºâÂõæÂΩ¢ÁïåÈù¢ÁôªÂΩï ÂØπ‰∫éËøêË°åÁ∫ßÂà´‰∏∫5ÁöÑÂõæÂΩ¢ÊñπÂºèÁî®Êà∑Êù•ËØ¥Ôºå‰ªñ‰ª¨ÁöÑÁôªÂΩïÊòØÈÄöËøá‰∏Ä‰∏™ÂõæÂΩ¢ÂåñÁöÑÁôªÂΩïÁïåÈù¢„ÄÇÁôªÂΩïÊàêÂäüÂêéÂèØ‰ª•Áõ¥Êé•ËøõÂÖ• KDE„ÄÅGnome Á≠âÁ™óÂè£ÁÆ°ÁêÜÂô®„ÄÇ ËÄåÊú¨Êñá‰∏ªË¶ÅËÆ≤ÁöÑËøòÊòØÊñáÊú¨ÊñπÂºèÁôªÂΩïÁöÑÊÉÖÂÜµÔºöÂΩìÊàë‰ª¨ÁúãÂà∞mingettyÁöÑÁôªÂΩïÁïåÈù¢Êó∂ÔºåÊàë‰ª¨Â∞±ÂèØ‰ª•ËæìÂÖ•Áî®Êà∑ÂêçÂíåÂØÜÁ†ÅÊù•ÁôªÂΩïÁ≥ªÁªü‰∫Ü„ÄÇ Linux ÁöÑË¥¶Âè∑È™åËØÅÁ®ãÂ∫èÊòØ loginÔºålogin ‰ºöÊé•Êî∂ mingetty ‰º†Êù•ÁöÑÁî®Êà∑Âêç‰Ωú‰∏∫Áî®Êà∑ÂêçÂèÇÊï∞„ÄÇ ÁÑ∂Âêé login ‰ºöÂØπÁî®Êà∑ÂêçËøõË°åÂàÜÊûêÔºöÂ¶ÇÊûúÁî®Êà∑Âêç‰∏çÊòØ rootÔºå‰∏îÂ≠òÂú® /etc/nologin Êñá‰ª∂Ôºålogin Â∞ÜËæìÂá∫ nologin Êñá‰ª∂ÁöÑÂÜÖÂÆπÔºåÁÑ∂ÂêéÈÄÄÂá∫„ÄÇ ËøôÈÄöÂ∏∏Áî®Êù•Á≥ªÁªüÁª¥Êä§Êó∂Èò≤Ê≠¢ÈùûrootÁî®Êà∑ÁôªÂΩï„ÄÇÂè™Êúâ/etc/securetty‰∏≠ÁôªËÆ∞‰∫ÜÁöÑÁªàÁ´ØÊâçÂÖÅËÆ∏ root Áî®Êà∑ÁôªÂΩïÔºåÂ¶ÇÊûú‰∏çÂ≠òÂú®Ëøô‰∏™Êñá‰ª∂ÔºåÂàô root Áî®Êà∑ÂèØ‰ª•Âú®‰ªª‰ΩïÁªàÁ´Ø‰∏äÁôªÂΩï„ÄÇ /etc/userttyÊñá‰ª∂Áî®‰∫éÂØπÁî®Êà∑‰ΩúÂá∫ÈôÑÂä†ËÆøÈóÆÈôêÂà∂ÔºåÂ¶ÇÊûú‰∏çÂ≠òÂú®Ëøô‰∏™Êñá‰ª∂ÔºåÂàôÊ≤°ÊúâÂÖ∂‰ªñÈôêÂà∂„ÄÇ ÂõæÂΩ¢Ê®°Âºè‰∏éÊñáÂ≠óÊ®°ÂºèÁöÑÂàáÊç¢ÊñπÂºè LinuxÈ¢ÑËÆæÊèê‰æõ‰∫ÜÂÖ≠‰∏™ÂëΩ‰ª§Á™óÂè£ÁªàÁ´ØÊú∫ËÆ©Êàë‰ª¨Êù•ÁôªÂΩï„ÄÇ ÈªòËÆ§Êàë‰ª¨ÁôªÂΩïÁöÑÂ∞±ÊòØÁ¨¨‰∏Ä‰∏™Á™óÂè£Ôºå‰πüÂ∞±ÊòØtty1ÔºåËøô‰∏™ÂÖ≠‰∏™Á™óÂè£ÂàÜÂà´‰∏∫tty1,tty2 ‚Ä¶ tty6Ôºå‰Ω†ÂèØ‰ª•Êåâ‰∏ãCtrl + Alt + F1 ~ F6 Êù•ÂàáÊç¢ÂÆÉ‰ª¨„ÄÇ Â¶ÇÊûú‰Ω†ÂÆâË£Ö‰∫ÜÂõæÂΩ¢ÁïåÈù¢ÔºåÈªòËÆ§ÊÉÖÂÜµ‰∏ãÊòØËøõÂÖ•ÂõæÂΩ¢ÁïåÈù¢ÁöÑÔºåÊ≠§Êó∂‰Ω†Â∞±ÂèØ‰ª•ÊåâCtrl + Alt + F1 ~ F6Êù•ËøõÂÖ•ÂÖ∂‰∏≠‰∏Ä‰∏™ÂëΩ‰ª§Á™óÂè£ÁïåÈù¢„ÄÇ ÂΩì‰Ω†ËøõÂÖ•ÂëΩ‰ª§Á™óÂè£ÁïåÈù¢ÂêéÂÜçËøîÂõûÂõæÂΩ¢ÁïåÈù¢Âè™Ë¶ÅÊåâ‰∏ãCtrl + Alt + F7 Â∞±ÂõûÊù•‰∫Ü„ÄÇ Â¶ÇÊûú‰Ω†Áî®ÁöÑvmware ËôöÊãüÊú∫ÔºåÂëΩ‰ª§Á™óÂè£ÂàáÊç¢ÁöÑÂø´Êç∑ÈîÆ‰∏∫ Alt + Space + F1~F6. Â¶ÇÊûú‰Ω†Âú®ÂõæÂΩ¢ÁïåÈù¢‰∏ãËØ∑ÊåâAlt + Shift + Ctrl + F1~F6 ÂàáÊç¢Ëá≥ÂëΩ‰ª§Á™óÂè£„ÄÇ Linux ÂÖ≥Êú∫ Âú®linuxÈ¢ÜÂüüÂÜÖÂ§ßÂ§öÁî®Âú®ÊúçÂä°Âô®‰∏äÔºåÂæàÂ∞ëÈÅáÂà∞ÂÖ≥Êú∫ÁöÑÊìç‰Ωú„ÄÇÊØïÁ´üÊúçÂä°Âô®‰∏äË∑ë‰∏Ä‰∏™ÊúçÂä°ÊòØÊ∞∏Êó†Ê≠¢Â¢ÉÁöÑÔºåÈô§ÈùûÁâπÊÆäÊÉÖÂÜµ‰∏ãÔºå‰∏çÂæóÂ∑≤Êâç‰ºöÂÖ≥Êú∫„ÄÇ Ê≠£Á°ÆÁöÑÂÖ≥Êú∫ÊµÅÁ®ã‰∏∫Ôºösync &gt; shutdown &gt; reboot &gt; halt ÂÖ≥Êú∫Êåá‰ª§‰∏∫Ôºöshutdown Ôºå‰Ω†ÂèØ‰ª•man shutdown Êù•Áúã‰∏Ä‰∏ãÂ∏ÆÂä©ÊñáÊ°£„ÄÇ ‰æãÂ¶Ç‰Ω†ÂèØ‰ª•ËøêË°åÂ¶Ç‰∏ãÂëΩ‰ª§ÂÖ≥Êú∫Ôºö sync Â∞ÜÊï∞ÊçÆÁî±ÂÜÖÂ≠òÂêåÊ≠•Âà∞Á°¨Áõò‰∏≠„ÄÇ shutdown ÂÖ≥Êú∫Êåá‰ª§Ôºå‰Ω†ÂèØ‰ª•man shutdown Êù•Áúã‰∏Ä‰∏ãÂ∏ÆÂä©ÊñáÊ°£„ÄÇ‰æãÂ¶Ç‰Ω†ÂèØ‰ª•ËøêË°åÂ¶Ç‰∏ãÂëΩ‰ª§ÂÖ≥Êú∫Ôºö shutdown ‚Äìh 10 ‚ÄòThis server will shutdown after 10 mins‚Äô Ëøô‰∏™ÂëΩ‰ª§ÂëäËØâÂ§ßÂÆ∂ÔºåËÆ°ÁÆóÊú∫Â∞ÜÂú®10ÂàÜÈíüÂêéÂÖ≥Êú∫ÔºåÂπ∂‰∏î‰ºöÊòæÁ§∫Âú®ÁôªÈôÜÁî®Êà∑ÁöÑÂΩìÂâçÂ±èÂπï‰∏≠„ÄÇ shutdown ‚Äìh now Á´ãÈ©¨ÂÖ≥Êú∫ shutdown ‚Äìh 20:25 Á≥ªÁªü‰ºöÂú®‰ªäÂ§©20:25ÂÖ≥Êú∫ shutdown ‚Äìh +10 ÂçÅÂàÜÈíüÂêéÂÖ≥Êú∫ shutdown ‚Äìr now Á≥ªÁªüÁ´ãÈ©¨ÈáçÂêØ shutdown ‚Äìr +10 Á≥ªÁªüÂçÅÂàÜÈíüÂêéÈáçÂêØ reboot Â∞±ÊòØÈáçÂêØÔºåÁ≠âÂêå‰∫é shutdown ‚Äìr now halt ÂÖ≥Èó≠Á≥ªÁªüÔºåÁ≠âÂêå‰∫éshutdown ‚Äìh now Âíå poweroff ÊúÄÂêéÊÄªÁªì‰∏Ä‰∏ãÔºå‰∏çÁÆ°ÊòØÈáçÂêØÁ≥ªÁªüËøòÊòØÂÖ≥Èó≠Á≥ªÁªüÔºåÈ¶ñÂÖàË¶ÅËøêË°å sync ÂëΩ‰ª§ÔºåÊääÂÜÖÂ≠ò‰∏≠ÁöÑÊï∞ÊçÆÂÜôÂà∞Á£ÅÁõò‰∏≠„ÄÇ ÂÖ≥Êú∫ÁöÑÂëΩ‰ª§Êúâ shutdown ‚Äìh now halt poweroff Âíå init 0 , ÈáçÂêØÁ≥ªÁªüÁöÑÂëΩ‰ª§Êúâ shutdown ‚Äìr now reboot init 6„ÄÇ Ê≥®ÊÑè‰∫ãÈ°π ‰∏•Ê†ºÂå∫ÂàÜÂ§ßÂ∞èÂÜô ÊâÄÊúâÂÜÖÂÆπ‰ª•Êñá‰ª∂ÂΩ¢Âºè‰øùÂ≠òÔºåÂåÖÊã¨Á°¨‰ª∂ Á°¨‰ª∂/dev/sd[a-p] ÂÖâÁõòÊñá‰ª∂/dec/sr0Á≠â ‰∏çÈù†Êâ©Â±ïÂêçÂå∫ÂàÜÊñá‰ª∂Á±ªÂûã ÊúâÊâ©Â±ïÈÉΩÊòØÁªôÁÆ°ÁêÜÂëòÁúãÁöÑ ÊâÄÊúâÂ≠òÂÇ®ËÆæÂ§áÈÉΩÈúÄË¶ÅÊåÇËΩΩ‰πãÂêéÊâçËÉΩ‰ΩøÁî® windowsÁ®ãÂ∫è‰∏çËÉΩÁõ¥Êé•Âú®linuxÂÆâË£ÖËøêË°å ÊúçÂä°Âô®‰∏çÂÖÅËÆ∏ÂÖ≥Êú∫ÔºåÂè™ËÉΩÈáçÂêØ ÈáçÂêØÊó∂Â∫îËØ•ÂÖ≥Èó≠ÊúçÂä° ÊúçÂä°Âô®ËÆøÈóÆÈ´òÂ≥∞‰∏çË¶Å‰ΩøÁî®È´òË¥üËΩΩÂëΩ‰ª§ ËøúÁ®ãÈÖçÁΩÆÈò≤ÁÅ´Â¢ôÊó∂‰∏çË¶ÅÊääËá™Â∑±Ë∏¢Âá∫ÊúçÂä°Âô® ÊåáÂÆöÂêàÁêÜÂØÜÁ†ÅËßÑËåÉÂπ∂ÂÆöÊúüÊõ¥Êñ∞ ÂêàÁêÜÂàÜÈÖçÊùÉÈôê ÂÆöÊúüÂ§á‰ªΩÈáçË¶ÅÊï∞ÊçÆÂíåÊó•Âøó Á≥ªÁªüÁõÆÂΩïÁªìÊûÑ ls / Êü•ÁúãÁõÆÂΩï /binÔºö bin ÊòØ Binaries (‰∫åËøõÂà∂Êñá‰ª∂) ÁöÑÁº©ÂÜô, Ëøô‰∏™ÁõÆÂΩïÂ≠òÊîæÁùÄÊúÄÁªèÂ∏∏‰ΩøÁî®ÁöÑÂëΩ‰ª§„ÄÇ /bootÔºö ËøôÈáåÂ≠òÊîæÁöÑÊòØÂêØÂä® Linux Êó∂‰ΩøÁî®ÁöÑ‰∏Ä‰∫õÊ†∏ÂøÉÊñá‰ª∂ÔºåÂåÖÊã¨‰∏Ä‰∫õËøûÊé•Êñá‰ª∂‰ª•ÂèäÈïúÂÉèÊñá‰ª∂„ÄÇ /dev Ôºö dev ÊòØ Device(ËÆæÂ§á) ÁöÑÁº©ÂÜô, ËØ•ÁõÆÂΩï‰∏ãÂ≠òÊîæÁöÑÊòØ Linux ÁöÑÂ§ñÈÉ®ËÆæÂ§áÔºåÂú® Linux ‰∏≠ËÆøÈóÆËÆæÂ§áÁöÑÊñπÂºèÂíåËÆøÈóÆÊñá‰ª∂ÁöÑÊñπÂºèÊòØÁõ∏ÂêåÁöÑ„ÄÇ /etcÔºö etc ÊòØ Etcetera(Á≠âÁ≠â) ÁöÑÁº©ÂÜô,Ëøô‰∏™ÁõÆÂΩïÁî®Êù•Â≠òÊîæÊâÄÊúâÁöÑÁ≥ªÁªüÁÆ°ÁêÜÊâÄÈúÄË¶ÅÁöÑÈÖçÁΩÆÊñá‰ª∂ÂíåÂ≠êÁõÆÂΩï„ÄÇ /homeÔºö Áî®Êà∑ÁöÑ‰∏ªÁõÆÂΩïÔºåÂú® Linux ‰∏≠ÔºåÊØè‰∏™Áî®Êà∑ÈÉΩÊúâ‰∏Ä‰∏™Ëá™Â∑±ÁöÑÁõÆÂΩïÔºå‰∏ÄËà¨ËØ•ÁõÆÂΩïÂêçÊòØ‰ª•Áî®Êà∑ÁöÑË¥¶Âè∑ÂëΩÂêçÁöÑÔºåÂ¶Ç‰∏äÂõæ‰∏≠ÁöÑ alice„ÄÅbob Âíå eve„ÄÇ /libÔºö lib ÊòØ Library(Â∫ì) ÁöÑÁº©ÂÜôËøô‰∏™ÁõÆÂΩïÈáåÂ≠òÊîæÁùÄÁ≥ªÁªüÊúÄÂü∫Êú¨ÁöÑÂä®ÊÄÅËøûÊé•ÂÖ±‰∫´Â∫ìÔºåÂÖ∂‰ΩúÁî®Á±ª‰ºº‰∫é Windows ÈáåÁöÑ DLL Êñá‰ª∂„ÄÇÂá†‰πéÊâÄÊúâÁöÑÂ∫îÁî®Á®ãÂ∫èÈÉΩÈúÄË¶ÅÁî®Âà∞Ëøô‰∫õÂÖ±‰∫´Â∫ì„ÄÇ /lost+foundÔºö Ëøô‰∏™ÁõÆÂΩï‰∏ÄËà¨ÊÉÖÂÜµ‰∏ãÊòØÁ©∫ÁöÑÔºåÂΩìÁ≥ªÁªüÈùûÊ≥ïÂÖ≥Êú∫ÂêéÔºåËøôÈáåÂ∞±Â≠òÊîæ‰∫Ü‰∏Ä‰∫õÊñá‰ª∂„ÄÇ /mediaÔºö linux Á≥ªÁªü‰ºöËá™Âä®ËØÜÂà´‰∏Ä‰∫õËÆæÂ§áÔºå‰æãÂ¶ÇUÁõò„ÄÅÂÖâÈ©±Á≠âÁ≠âÔºåÂΩìËØÜÂà´ÂêéÔºåLinux ‰ºöÊääËØÜÂà´ÁöÑËÆæÂ§áÊåÇËΩΩÂà∞Ëøô‰∏™ÁõÆÂΩï‰∏ã„ÄÇ /mntÔºö Á≥ªÁªüÊèê‰æõËØ•ÁõÆÂΩïÊòØ‰∏∫‰∫ÜËÆ©Áî®Êà∑‰∏¥Êó∂ÊåÇËΩΩÂà´ÁöÑÊñá‰ª∂Á≥ªÁªüÁöÑÔºåÊàë‰ª¨ÂèØ‰ª•Â∞ÜÂÖâÈ©±ÊåÇËΩΩÂú® /mnt/ ‰∏äÔºåÁÑ∂ÂêéËøõÂÖ•ËØ•ÁõÆÂΩïÂ∞±ÂèØ‰ª•Êü•ÁúãÂÖâÈ©±ÈáåÁöÑÂÜÖÂÆπ‰∫Ü„ÄÇ /optÔºö opt ÊòØ optional(ÂèØÈÄâ) ÁöÑÁº©ÂÜôÔºåËøôÊòØÁªô‰∏ªÊú∫È¢ùÂ§ñÂÆâË£ÖËΩØ‰ª∂ÊâÄÊëÜÊîæÁöÑÁõÆÂΩï„ÄÇÊØîÂ¶Ç‰Ω†ÂÆâË£Ö‰∏Ä‰∏™ORACLEÊï∞ÊçÆÂ∫ìÂàôÂ∞±ÂèØ‰ª•ÊîæÂà∞Ëøô‰∏™ÁõÆÂΩï‰∏ã„ÄÇÈªòËÆ§ÊòØÁ©∫ÁöÑ„ÄÇ /procÔºö proc ÊòØ Processes(ËøõÁ®ã) ÁöÑÁº©ÂÜôÔºå/proc ÊòØ‰∏ÄÁßç‰º™Êñá‰ª∂Á≥ªÁªüÔºà‰πüÂç≥ËôöÊãüÊñá‰ª∂Á≥ªÁªüÔºâÔºåÂ≠òÂÇ®ÁöÑÊòØÂΩìÂâçÂÜÖÊ†∏ËøêË°åÁä∂ÊÄÅÁöÑ‰∏ÄÁ≥ªÂàóÁâπÊÆäÊñá‰ª∂ÔºåËøô‰∏™ÁõÆÂΩïÊòØ‰∏Ä‰∏™ËôöÊãüÁöÑÁõÆÂΩïÔºåÂÆÉÊòØÁ≥ªÁªüÂÜÖÂ≠òÁöÑÊò†Â∞ÑÔºåÊàë‰ª¨ÂèØ‰ª•ÈÄöËøáÁõ¥Êé•ËÆøÈóÆËøô‰∏™ÁõÆÂΩïÊù•Ëé∑ÂèñÁ≥ªÁªü‰ø°ÊÅØ„ÄÇ Ëøô‰∏™ÁõÆÂΩïÁöÑÂÜÖÂÆπ‰∏çÂú®Á°¨Áõò‰∏äËÄåÊòØÂú®ÂÜÖÂ≠òÈáåÔºåÊàë‰ª¨‰πüÂèØ‰ª•Áõ¥Êé•‰øÆÊîπÈáåÈù¢ÁöÑÊüê‰∫õÊñá‰ª∂ÔºåÊØîÂ¶ÇÂèØ‰ª•ÈÄöËøá‰∏ãÈù¢ÁöÑÂëΩ‰ª§Êù•Â±èËîΩ‰∏ªÊú∫ÁöÑpingÂëΩ‰ª§Ôºå‰ΩøÂà´‰∫∫Êó†Ê≥ïping‰Ω†ÁöÑÊú∫Âô®Ôºö echo 1 &gt; /proc/sys/net/ipv4/icmp_echo_ignore_all /rootÔºö ËØ•ÁõÆÂΩï‰∏∫Á≥ªÁªüÁÆ°ÁêÜÂëòÔºå‰πüÁß∞‰ΩúË∂ÖÁ∫ßÊùÉÈôêËÄÖÁöÑÁî®Êà∑‰∏ªÁõÆÂΩï„ÄÇ /sbinÔºö s Â∞±ÊòØ Super User ÁöÑÊÑèÊÄùÔºåÊòØ Superuser Binaries (Ë∂ÖÁ∫ßÁî®Êà∑ÁöÑ‰∫åËøõÂà∂Êñá‰ª∂) ÁöÑÁº©ÂÜôÔºåËøôÈáåÂ≠òÊîæÁöÑÊòØÁ≥ªÁªüÁÆ°ÁêÜÂëò‰ΩøÁî®ÁöÑÁ≥ªÁªüÁÆ°ÁêÜÁ®ãÂ∫è„ÄÇ /selinuxÔºö Ëøô‰∏™ÁõÆÂΩïÊòØ Redhat/CentOS ÊâÄÁâπÊúâÁöÑÁõÆÂΩïÔºåSelinux ÊòØ‰∏Ä‰∏™ÂÆâÂÖ®Êú∫Âà∂ÔºåÁ±ª‰ºº‰∫é windows ÁöÑÈò≤ÁÅ´Â¢ôÔºå‰ΩÜÊòØËøôÂ•óÊú∫Âà∂ÊØîËæÉÂ§çÊùÇÔºåËøô‰∏™ÁõÆÂΩïÂ∞±ÊòØÂ≠òÊîæselinuxÁõ∏ÂÖ≥ÁöÑÊñá‰ª∂ÁöÑ„ÄÇ /srvÔºö ËØ•ÁõÆÂΩïÂ≠òÊîæ‰∏Ä‰∫õÊúçÂä°ÂêØÂä®‰πãÂêéÈúÄË¶ÅÊèêÂèñÁöÑÊï∞ÊçÆ„ÄÇ /sysÔºö ËøôÊòØ Linux2.6 ÂÜÖÊ†∏ÁöÑ‰∏Ä‰∏™ÂæàÂ§ßÁöÑÂèòÂåñ„ÄÇËØ•ÁõÆÂΩï‰∏ãÂÆâË£Ö‰∫Ü 2.6 ÂÜÖÊ†∏‰∏≠Êñ∞Âá∫Áé∞ÁöÑ‰∏Ä‰∏™Êñá‰ª∂Á≥ªÁªü sysfs „ÄÇ sysfs Êñá‰ª∂Á≥ªÁªüÈõÜÊàê‰∫Ü‰∏ãÈù¢3ÁßçÊñá‰ª∂Á≥ªÁªüÁöÑ‰ø°ÊÅØÔºöÈíàÂØπËøõÁ®ã‰ø°ÊÅØÁöÑ proc Êñá‰ª∂Á≥ªÁªü„ÄÅÈíàÂØπËÆæÂ§áÁöÑ devfs Êñá‰ª∂Á≥ªÁªü‰ª•ÂèäÈíàÂØπ‰º™ÁªàÁ´ØÁöÑ devpts Êñá‰ª∂Á≥ªÁªü„ÄÇ ËØ•Êñá‰ª∂Á≥ªÁªüÊòØÂÜÖÊ†∏ËÆæÂ§áÊ†ëÁöÑ‰∏Ä‰∏™Áõ¥ËßÇÂèçÊò†„ÄÇ ÂΩì‰∏Ä‰∏™ÂÜÖÊ†∏ÂØπË±°Ë¢´ÂàõÂª∫ÁöÑÊó∂ÂÄôÔºåÂØπÂ∫îÁöÑÊñá‰ª∂ÂíåÁõÆÂΩï‰πüÂú®ÂÜÖÊ†∏ÂØπË±°Â≠êÁ≥ªÁªü‰∏≠Ë¢´ÂàõÂª∫„ÄÇ /tmpÔºö tmp ÊòØ temporary(‰∏¥Êó∂) ÁöÑÁº©ÂÜôËøô‰∏™ÁõÆÂΩïÊòØÁî®Êù•Â≠òÊîæ‰∏Ä‰∫õ‰∏¥Êó∂Êñá‰ª∂ÁöÑ„ÄÇ /usrÔºö usr ÊòØ unix shared resources(ÂÖ±‰∫´ËµÑÊ∫ê) ÁöÑÁº©ÂÜôÔºåËøôÊòØ‰∏Ä‰∏™ÈùûÂ∏∏ÈáçË¶ÅÁöÑÁõÆÂΩïÔºåÁî®Êà∑ÁöÑÂæàÂ§öÂ∫îÁî®Á®ãÂ∫èÂíåÊñá‰ª∂ÈÉΩÊîæÂú®Ëøô‰∏™ÁõÆÂΩï‰∏ãÔºåÁ±ª‰ºº‰∫é windows ‰∏ãÁöÑ program files ÁõÆÂΩï„ÄÇ /usr/binÔºö Á≥ªÁªüÁî®Êà∑‰ΩøÁî®ÁöÑÂ∫îÁî®Á®ãÂ∫è„ÄÇ /usr/sbinÔºö Ë∂ÖÁ∫ßÁî®Êà∑‰ΩøÁî®ÁöÑÊØîËæÉÈ´òÁ∫ßÁöÑÁÆ°ÁêÜÁ®ãÂ∫èÂíåÁ≥ªÁªüÂÆàÊä§Á®ãÂ∫è„ÄÇ /usr/srcÔºö ÂÜÖÊ†∏Ê∫ê‰ª£Á†ÅÈªòËÆ§ÁöÑÊîæÁΩÆÁõÆÂΩï„ÄÇ /varÔºö var ÊòØ variable(ÂèòÈáè) ÁöÑÁº©ÂÜôÔºåËøô‰∏™ÁõÆÂΩï‰∏≠Â≠òÊîæÁùÄÂú®‰∏çÊñ≠Êâ©ÂÖÖÁùÄÁöÑ‰∏úË•øÔºåÊàë‰ª¨‰π†ÊÉØÂ∞ÜÈÇ£‰∫õÁªèÂ∏∏Ë¢´‰øÆÊîπÁöÑÁõÆÂΩïÊîæÂú®Ëøô‰∏™ÁõÆÂΩï‰∏ã„ÄÇÂåÖÊã¨ÂêÑÁßçÊó•ÂøóÊñá‰ª∂„ÄÇ /runÔºö ÊòØ‰∏Ä‰∏™‰∏¥Êó∂Êñá‰ª∂Á≥ªÁªüÔºåÂ≠òÂÇ®Á≥ªÁªüÂêØÂä®‰ª•Êù•ÁöÑ‰ø°ÊÅØ„ÄÇÂΩìÁ≥ªÁªüÈáçÂêØÊó∂ÔºåËøô‰∏™ÁõÆÂΩï‰∏ãÁöÑÊñá‰ª∂Â∫îËØ•Ë¢´Âà†ÊéâÊàñÊ∏ÖÈô§„ÄÇÂ¶ÇÊûú‰Ω†ÁöÑÁ≥ªÁªü‰∏äÊúâ /var/run ÁõÆÂΩïÔºåÂ∫îËØ•ËÆ©ÂÆÉÊåáÂêë run„ÄÇ Âú® Linux Á≥ªÁªü‰∏≠ÔºåÊúâÂá†‰∏™ÁõÆÂΩïÊòØÊØîËæÉÈáçË¶ÅÁöÑÔºåÂπ≥Êó∂ÈúÄË¶ÅÊ≥®ÊÑè‰∏çË¶ÅËØØÂà†Èô§ÊàñËÄÖÈöèÊÑèÊõ¥ÊîπÂÜÖÈÉ®Êñá‰ª∂„ÄÇ /etcÔºö ‰∏äËæπ‰πüÊèêÂà∞‰∫ÜÔºåËøô‰∏™ÊòØÁ≥ªÁªü‰∏≠ÁöÑÈÖçÁΩÆÊñá‰ª∂ÔºåÂ¶ÇÊûú‰Ω†Êõ¥Êîπ‰∫ÜËØ•ÁõÆÂΩï‰∏ãÁöÑÊüê‰∏™Êñá‰ª∂ÂèØËÉΩ‰ºöÂØºËá¥Á≥ªÁªü‰∏çËÉΩÂêØÂä®„ÄÇ /bin, /sbin, /usr/bin, /usr/sbin: ËøôÊòØÁ≥ªÁªüÈ¢ÑËÆæÁöÑÊâßË°åÊñá‰ª∂ÁöÑÊîæÁΩÆÁõÆÂΩïÔºåÊØîÂ¶Ç ls Â∞±ÊòØÂú® /bin/ls ÁõÆÂΩï‰∏ãÁöÑ„ÄÇ ÂÄºÂæóÊèêÂá∫ÁöÑÊòØÔºå/bin, /usr/bin ÊòØÁªôÁ≥ªÁªüÁî®Êà∑‰ΩøÁî®ÁöÑÊåá‰ª§ÔºàÈô§rootÂ§ñÁöÑÈÄöÁî®Êà∑ÔºâÔºåËÄå/sbin, /usr/sbin ÂàôÊòØÁªô root ‰ΩøÁî®ÁöÑÊåá‰ª§„ÄÇ /varÔºö ËøôÊòØ‰∏Ä‰∏™ÈùûÂ∏∏ÈáçË¶ÅÁöÑÁõÆÂΩïÔºåÁ≥ªÁªü‰∏äË∑ë‰∫ÜÂæàÂ§öÁ®ãÂ∫èÔºåÈÇ£‰πàÊØè‰∏™Á®ãÂ∫èÈÉΩ‰ºöÊúâÁõ∏Â∫îÁöÑÊó•Âøó‰∫ßÁîüÔºåËÄåËøô‰∫õÊó•ÂøóÂ∞±Ë¢´ËÆ∞ÂΩïÂà∞Ëøô‰∏™ÁõÆÂΩï‰∏ãÔºåÂÖ∑‰ΩìÂú® /var/log ÁõÆÂΩï‰∏ãÔºåÂè¶Â§ñ mail ÁöÑÈ¢ÑËÆæÊîæÁΩÆ‰πüÊòØÂú®ËøôÈáå„ÄÇ ÂøòËÆ∞ÂØÜÁ†ÅËß£ÂÜ≥ÊñπÊ≥ïhttps://www.runoob.com/linux/linux-forget-password.html ÈáçÂêØlinuxÁ≥ªÁªü 3 Áßí‰πãÂÜÖË¶ÅÊåâ‰∏Ä‰∏ãÂõûËΩ¶ ËæìÂÖ•e Á¨¨‰∫åË°åÊúÄÂêéËæπËæìÂÖ• singleÔºåÊúâ‰∏Ä‰∏™Á©∫Ê†º„ÄÇÂÖ∑‰ΩìÊñπÊ≥ï‰∏∫ÊåâÂêë‰∏ãÂ∞ñÂ§¥ÁßªÂä®Âà∞Á¨¨‰∫åË°åÔºåÊåâ&quot;e&quot;ËøõÂÖ•ÁºñËæëÊ®°Âºè Âú®ÂêéËæπÂä†‰∏äsingle ÂõûËΩ¶ ÊúÄÂêéÊåâ&quot;b&quot;ÂêØÂä®ÔºåÂêØÂä®ÂêéÂ∞±ËøõÂÖ•‰∫ÜÂçïÁî®Êà∑Ê®°Âºè‰∫Ü Êõ¥ÊîπrootÂØÜÁ†Å‰∫Ü„ÄÇÊõ¥ÂØÜÁ†ÅÁöÑÂëΩ‰ª§‰∏∫ passwd ÂÖâÁõòÂêØÂä®ÔºåÊåâF5 ËøõÂÖ•rescueÊ®°Âºè ËæìÂÖ•linux rescue ÂõûËΩ¶ ÈÄâÊã©Ëã±ËØ≠ ÈÄâÊã©us ÈîÆÁõò ÈóÆ‰Ω†ÊòØÂê¶ÂêØÂä®ÁΩëÁªúÔºåÊúâÊó∂ÂÄôÂèØËÉΩ‰ºöËÅîÁΩëË∞ÉËØï„ÄÇÊàë‰ª¨ÈÄâno ËøôÈáåÂëäËØâÊàë‰ª¨ÔºåÊé•‰∏ãÊù•‰ºöÊääÁ≥ªÁªüÊåÇËΩΩÂú®/mnt/sysimage ‰∏≠„ÄÇ ÂÖ∂‰∏≠Êúâ‰∏â‰∏™ÈÄâÈ°π: Continue Â∞±ÊòØÊåÇËΩΩÂêéÁªßÁª≠‰∏ã‰∏ÄÊ≠•„ÄÇ Read-Only ÊåÇËΩΩÊàêÂè™ËØªÔºåËøôÊ†∑Êõ¥ÂÆâÂÖ®ÔºåÊúâÊó∂Êñá‰ª∂Á≥ªÁªüÊçüÂùèÊó∂ÔºåÂè™ËØªÊ®°Âºè‰ºöÈò≤Ê≠¢Êñá‰ª∂Á≥ªÁªüËøë‰∏ÄÊ≠•ÊçüÂùè„ÄÇ SkipÂ∞±ÊòØ‰∏çÊåÇËΩΩÔºåËøõÂÖ•‰∏Ä‰∏™ÂëΩ‰ª§Á™óÂè£Ê®°Âºè„ÄÇ ËøôÈáåÊàë‰ª¨ÈÄâÊã©Continue„ÄÇ - Ëá≥Ê≠§ÔºåÁ≥ªÁªüÂ∑≤ÁªèÊåÇËΩΩÂà∞‰∫Ü/mnt/sysimage‰∏≠„ÄÇÊé•‰∏ãÊù•ÂõûËΩ¶ÔºåËæìÂÖ•chroot /mnt/sysimage ËøõÂÖ•ÁÆ°ÁêÜÂëòÁéØÂ¢É„ÄÇ ËøúÁ®ãÁôªÂΩï Linux ‰∏ÄËà¨‰Ωú‰∏∫ÊúçÂä°Âô®‰ΩøÁî®ÔºåËÄåÊúçÂä°Âô®‰∏ÄËà¨ÊîæÂú®Êú∫ÊàøÔºå‰Ω†‰∏çÂèØËÉΩÂú®Êú∫ÊàøÊìç‰Ωú‰Ω†ÁöÑ Linux ÊúçÂä°Âô®„ÄÇËøôÊó∂Êàë‰ª¨Â∞±ÈúÄË¶ÅËøúÁ®ãÁôªÂΩïÂà∞LinuxÊúçÂä°Âô®Êù•ÁÆ°ÁêÜÁª¥Êä§Á≥ªÁªü„ÄÇ Linux Á≥ªÁªü‰∏≠ÊòØÈÄöËøá ssh ÊúçÂä°ÂÆûÁé∞ÁöÑËøúÁ®ãÁôªÂΩïÂäüËÉΩÔºåÈªòËÆ§ ssh ÊúçÂä°Á´ØÂè£Âè∑‰∏∫ 22„ÄÇ Window Á≥ªÁªü‰∏ä Linux ËøúÁ®ãÁôªÂΩïÂÆ¢Êà∑Á´ØÊúâ SecureCRT, Putty, SSH Secure Shell Á≠âÔºåÊú¨Êñá‰ª• Putty ‰∏∫‰æãÊù•ÁôªÂΩïËøúÁ®ãÊúçÂä°Âô®„ÄÇ Putty ‰∏ãËΩΩÂú∞ÂùÄÔºöhttps://www.putty.org/ Âú®Host Name( or IP address) ‰∏ãÈù¢ÁöÑÊ°Ü‰∏≠ËæìÂÖ•‰Ω†Ë¶ÅÁôªÂΩïÁöÑËøúÁ®ãÊúçÂä°Âô®IP(ÂèØ‰ª•ÈÄöËøáifconfigÂëΩ‰ª§Êü•ÁúãÊúçÂä°Âô®ip)ÔºåÁÑ∂ÂêéÂõûËΩ¶„ÄÇ ËæìÂÖ•Ë¶ÅÁôªÂΩïÁöÑÁî®Êà∑Âêç„ÄÇ ÂÜçËæìÂÖ•ÂØÜÁ†ÅÔºåÂ∞±ËÉΩÁôªÂΩïÂà∞ËøúÁ®ãÁöÑlinuxÁ≥ªÁªü‰∫Ü ‰ΩøÁî®ÂØÜÈí•ËÆ§ËØÅÊú∫Âà∂ËøúÁ®ãÁôªÂΩïlinux SSH ‰∏∫ Secure Shell ÁöÑÁº©ÂÜôÔºåÁî± IETF ÁöÑÁΩëÁªúÂ∑•‰ΩúÂ∞èÁªÑÔºàNetwork Working GroupÔºâÊâÄÂà∂ÂÆö„ÄÇ SSH ‰∏∫Âª∫Á´ãÂú®Â∫îÁî®Â±ÇÂíå‰º†ËæìÂ±ÇÂü∫Á°Ä‰∏äÁöÑÂÆâÂÖ®ÂçèËÆÆ„ÄÇ È¶ñÂÖà‰ΩøÁî®Â∑•ÂÖ∑ PUTTYGEN.EXE ÁîüÊàêÂØÜÈí•ÂØπ„ÄÇÊâìÂºÄÂ∑•ÂÖ∑ PUTTYGEN.EXE ÂêéÂ¶Ç‰∏ãÂõæÊâÄÁ§∫Ôºö ËØ•Â∑•ÂÖ∑ÂèØ‰ª•ÁîüÊàê‰∏âÁßçÊ†ºÂºèÁöÑkey ÔºöSSH-1(RSA) SSH-2(RSA) SSH-2(DSA) ÔºåÊàë‰ª¨ÈááÁî®ÈªòËÆ§ÁöÑÊ†ºÂºèÂç≥ SSH-2(RSA)„ÄÇNumber of bits in a generated key Ëøô‰∏™ÊòØÊåáÁîüÊàêÁöÑkeyÁöÑÂ§ßÂ∞èÔºåËøô‰∏™Êï∞ÂÄºË∂äÂ§ßÔºåÁîüÊàêÁöÑkeyÂ∞±Ë∂äÂ§çÊùÇÔºåÂÆâÂÖ®ÊÄßÂ∞±Ë∂äÈ´ò„ÄÇËøôÈáåÊàë‰ª¨ÂÜô 2048„ÄÇ Generate ËøáÁ®ã‰∏≠Èº†Ê†áË¶ÅÊù•ÂõûÁöÑÂä®ÔºåÂê¶ÂàôËøô‰∏™ËøõÂ∫¶Êù°ÊòØ‰∏ç‰ºöÂä®ÁöÑ„ÄÇ ÂèØ‰ª•Áªô‰Ω†ÁöÑÂØÜÈí•ËæìÂÖ•‰∏Ä‰∏™ÂØÜÁ†ÅÔºåÔºàÂú®Key PassphraseÈÇ£ÈáåÔºâ‰πüÂèØ‰ª•ÁïôÁ©∫„ÄÇÁÑ∂ÂêéÁÇπ Save public key ‰øùÂ≠òÂÖ¨Èí•ÔºåÁÇπ Save private Key ‰øùÂ≠òÁßÅÈí•„ÄÇÁ¨îËÄÖÂª∫ËÆÆ‰Ω†ÊîæÂà∞‰∏Ä‰∏™ÊØîËæÉÂÆâÂÖ®ÁöÑÂú∞ÊñπÔºå‰∏ÄÊù•Èò≤Ê≠¢Âà´‰∫∫ÂÅ∑Á™•Ôºå‰∫åÊù•Èò≤Ê≠¢ËØØÂà†Èô§„ÄÇÊé•‰∏ãÊù•Â∞±ËØ•Âà∞ËøúÁ®ã linux ‰∏ªÊú∫‰∏äËÆæÁΩÆ‰∫Ü„ÄÇ 1ÔºâÂàõÂª∫ÁõÆÂΩï /root/.ssh Âπ∂ËÆæÁΩÆÊùÉÈôê [root@localhost ~]# mkdir /root/.ssh mkdir ÂëΩ‰ª§Áî®Êù•ÂàõÂª∫ÁõÆÂΩïÔºå‰ª•Âêé‰ºöËØ¶ÁªÜ‰ªãÁªçÔºåÊöÇÊó∂Âè™‰∫ÜËß£Âç≥ÂèØ„ÄÇ [root@localhost ~]# chmod 700 /root/.ssh chmod ÂëΩ‰ª§ÊòØÁî®Êù•‰øÆÊîπÊñá‰ª∂Â±ûÊÄßÊùÉÈôêÁöÑÔºå‰ª•Âêé‰ºöËØ¶ÁªÜ‰ªãÁªç„ÄÇ 2ÔºâÂàõÂª∫Êñá‰ª∂ / root/.ssh/authorized_keys [root@localhost ~]# vim /root/.ssh/authorized_keys vim ÂëΩ‰ª§ÊòØÁºñËæë‰∏Ä‰∏™ÊñáÊú¨Êñá‰ª∂ÁöÑÂëΩ‰ª§ÔºåÂêåÊ†∑Âú®ÂêéÁª≠Á´†ËäÇËØ¶ÁªÜ‰ªãÁªç„ÄÇ 3ÔºâÊâìÂºÄÂàöÊâçÁîüÊàêÁöÑpublic key Êñá‰ª∂ÔºåÂª∫ËÆÆ‰ΩøÁî®ÂÜôÂ≠óÊùøÊâìÂºÄÔºåËøôÊ†∑ÁúãÁùÄËàíÊúç‰∏Ä‰∫õÔºåÂ§çÂà∂‰ªéAAAAÂºÄÂ§¥Ëá≥ &quot;---- END SSH2 PUBLIC KEY ----&quot; ËØ•Ë°å‰∏äÁöÑÊâÄÊúâÂÜÖÂÆπÔºåÁ≤òË¥¥Âà∞/root/.ssh/authorized_keys Êñá‰ª∂‰∏≠ÔºåË¶Å‰øùËØÅÊâÄÊúâÂ≠óÁ¨¶Âú®‰∏ÄË°å„ÄÇÔºàÂèØ‰ª•ÂÖàÊääÂ§çÂà∂ÁöÑÂÜÖÂÆπÊã∑Ë¥ùËá≥ËÆ∞‰∫ãÊú¨ÔºåÁÑ∂ÂêéÁºñËæëÊàê‰∏ÄË°åËΩΩÁ≤òË¥¥Âà∞ËØ•Êñá‰ª∂‰∏≠Ôºâ„ÄÇ Âú®ËøôÈáåË¶ÅÁÆÄÂçï‰ªãÁªç‰∏Ä‰∏ãÔºåÂ¶Ç‰ΩïÁ≤òË¥¥ÔºåÁî®vimÊâìÂºÄÈÇ£‰∏™Êñá‰ª∂ÂêéÔºåËØ•Êñá‰ª∂‰∏çÂ≠òÂú®ÔºåÊâÄ‰ª•vim‰ºöËá™Âä®ÂàõÂª∫„ÄÇÊåâ‰∏Ä‰∏ãÂ≠óÊØç&quot;i&quot;ÁÑ∂ÂêéÂêåÊó∂Êåâshift + Insert ËøõË°åÁ≤òË¥¥ÔºàÊàñËÄÖÂçïÂáªÈº†Ê†áÂè≥ÈîÆÂç≥ÂèØÔºâÔºåÂâçÊèêÊòØÂ∑≤ÁªèÂ§çÂà∂Âà∞Ââ™ÂàáÊùø‰∏≠‰∫Ü„ÄÇÁ≤òË¥¥Â•ΩÂêéÔºåÁÑ∂ÂêéÊääÂÖâÊ†áÁßªÂä®Âà∞ËØ•Ë°åÊúÄÂâçÈù¢ËæìÂÖ• ssh-rsa ÔºåÁÑ∂ÂêéÊåâÁ©∫Ê†º„ÄÇÂÜçÊåâESCÔºåÁÑ∂ÂêéËæìÂÖ•ÂÜíÂè∑wq Âç≥ :wq Â∞±‰øùÂ≠ò‰∫Ü„ÄÇÊ†ºÂºèÂ¶Ç‰∏ãÂõæÔºö - ÂÜçËÆæÁΩÆputtyÈÄâÈ°πÔºåÁÇπÁ™óÂè£Â∑¶‰æßÁöÑSSh ‚Äì&gt; Auth ÔºåÂçïÂáªÁ™óÂè£Âè≥‰æßÁöÑBrowse‚Ä¶ ÈÄâÊã©ÂàöÂàöÁîüÊàêÁöÑÁßÅÈí•Ôºå ÂÜçÁÇπOpen ÔºåÊ≠§Êó∂ËæìÂÖ•rootÔºåÂ∞±‰∏çÁî®ËæìÂÖ•ÂØÜÁ†ÅÂ∞±ËÉΩÁôªÂΩï‰∫Ü„ÄÇÂ¶ÇÊûúÂú®ÂâçÈù¢‰Ω†ËÆæÁΩÆ‰∫ÜKey Passphrase ÔºåÈÇ£‰πàÊ≠§Êó∂Â∞±‰ºöÊèêÁ§∫‰Ω†ËæìÂÖ•ÂØÜÁ†ÅÁöÑ„ÄÇ‰∏∫‰∫ÜÊõ¥Âä†ÂÆâÂÖ®Âª∫ËÆÆÂ§ßÂÆ∂Ë¶ÅËÆæÁΩÆ‰∏Ä‰∏™Key Passphrase„ÄÇ Êñá‰ª∂Âü∫Êú¨Â±ûÊÄß Linux Á≥ªÁªüÊòØ‰∏ÄÁßçÂÖ∏ÂûãÁöÑÂ§öÁî®Êà∑Á≥ªÁªüÔºå‰∏çÂêåÁöÑÁî®Êà∑Â§Ñ‰∫é‰∏çÂêåÁöÑÂú∞‰ΩçÔºåÊã•Êúâ‰∏çÂêåÁöÑÊùÉÈôê„ÄÇ ‰∏∫‰∫Ü‰øùÊä§Á≥ªÁªüÁöÑÂÆâÂÖ®ÊÄßÔºåLinux Á≥ªÁªüÂØπ‰∏çÂêåÁöÑÁî®Êà∑ËÆøÈóÆÂêå‰∏ÄÊñá‰ª∂ÔºàÂåÖÊã¨ÁõÆÂΩïÊñá‰ª∂ÔºâÁöÑÊùÉÈôêÂÅö‰∫Ü‰∏çÂêåÁöÑËßÑÂÆö„ÄÇ Âú® Linux ‰∏≠Êàë‰ª¨ÈÄöÂ∏∏‰ΩøÁî®‰ª•‰∏ã‰∏§‰∏™ÂëΩ‰ª§Êù•‰øÆÊîπÊñá‰ª∂ÊàñÁõÆÂΩïÁöÑÊâÄÂ±ûÁî®Êà∑‰∏éÊùÉÈôêÔºö chown (change ownerp) Ôºö ‰øÆÊîπÊâÄÂ±ûÁî®Êà∑‰∏éÁªÑ„ÄÇ chmod (change mode) Ôºö ‰øÆÊîπÁî®Êà∑ÁöÑÊùÉÈôê„ÄÇ ‰ΩøÁî® ll ÊàñËÄÖ ls ‚Äìl ÂëΩ‰ª§Êù•ÊòæÁ§∫‰∏Ä‰∏™Êñá‰ª∂ÁöÑÂ±ûÊÄß‰ª•ÂèäÊñá‰ª∂ÊâÄÂ±ûÁöÑÁî®Êà∑ÂíåÁªÑÔºåÂ¶ÇÔºö [root@www /]# ls -l total 64 dr-xr-xr-x 2 root root 4096 Dec 14 2012 bin dr-xr-xr-x 4 root root 4096 Apr 19 2012 boot ‚Ä¶‚Ä¶ - ÂÆû‰æã‰∏≠Ôºåbin Êñá‰ª∂ÁöÑÁ¨¨‰∏Ä‰∏™Â±ûÊÄßÁî® d Ë°®Á§∫„ÄÇd Âú® Linux ‰∏≠‰ª£Ë°®ËØ•Êñá‰ª∂ÊòØ‰∏Ä‰∏™ÁõÆÂΩïÊñá‰ª∂„ÄÇ Âú® Linux ‰∏≠Á¨¨‰∏Ä‰∏™Â≠óÁ¨¶‰ª£Ë°®Ëøô‰∏™Êñá‰ª∂ÊòØÁõÆÂΩï„ÄÅÊñá‰ª∂ÊàñÈìæÊé•Êñá‰ª∂Á≠âÁ≠â„ÄÇ ÂΩì‰∏∫ d ÂàôÊòØÁõÆÂΩï ÂΩì‰∏∫ - ÂàôÊòØÊñá‰ª∂Ôºõ Ëã•ÊòØ l ÂàôË°®Á§∫‰∏∫ÈìæÊé•ÊñáÊ°£(link file)Ôºõ Ëã•ÊòØ b ÂàôË°®Á§∫‰∏∫Ë£ÖÁΩÆÊñá‰ª∂ÈáåÈù¢ÁöÑÂèØ‰æõÂÇ®Â≠òÁöÑÊé•Âè£ËÆæÂ§á(ÂèØÈöèÊú∫Â≠òÂèñË£ÖÁΩÆ)Ôºõ Ëã•ÊòØ c ÂàôË°®Á§∫‰∏∫Ë£ÖÁΩÆÊñá‰ª∂ÈáåÈù¢ÁöÑ‰∏≤Ë°åÁ´ØÂè£ËÆæÂ§áÔºå‰æãÂ¶ÇÈîÆÁõò„ÄÅÈº†Ê†á(‰∏ÄÊ¨°ÊÄßËØªÂèñË£ÖÁΩÆ)„ÄÇ - Êé•‰∏ãÊù•ÁöÑÂ≠óÁ¨¶‰∏≠Ôºå‰ª•‰∏â‰∏™‰∏∫‰∏ÄÁªÑÔºå‰∏îÂùá‰∏∫ rwx ÁöÑ‰∏â‰∏™ÂèÇÊï∞ÁöÑÁªÑÂêà„ÄÇÂÖ∂‰∏≠Ôºå r ‰ª£Ë°®ÂèØËØª(read)„ÄÅ w ‰ª£Ë°®ÂèØÂÜô(write)„ÄÅ x ‰ª£Ë°®ÂèØÊâßË°å(execute)„ÄÇ Ë¶ÅÊ≥®ÊÑèÁöÑÊòØÔºåËøô‰∏â‰∏™ÊùÉÈôêÁöÑ‰ΩçÁΩÆ‰∏ç‰ºöÊîπÂèòÔºåÂ¶ÇÊûúÊ≤°ÊúâÊùÉÈôêÔºåÂ∞±‰ºöÂá∫Áé∞ÂáèÂè∑ - ËÄåÂ∑≤„ÄÇ - ÊØè‰∏™Êñá‰ª∂ÁöÑÂ±ûÊÄßÁî±Â∑¶ËæπÁ¨¨‰∏ÄÈÉ®ÂàÜÁöÑ 10 ‰∏™Â≠óÁ¨¶Êù•Á°ÆÂÆöÔºàÂ¶ÇÂõæÔºâ„ÄÇ 363003_1227493859FdXT ‰ªéÂ∑¶Ëá≥Âè≥Áî® 0-9 Ëøô‰∫õÊï∞Â≠óÊù•Ë°®Á§∫„ÄÇ Á¨¨ 0 ‰ΩçÁ°ÆÂÆöÊñá‰ª∂Á±ªÂûãÔºåÁ¨¨ 1-3 ‰ΩçÁ°ÆÂÆöÂ±û‰∏ªÔºàËØ•Êñá‰ª∂ÁöÑÊâÄÊúâËÄÖÔºâÊã•ÊúâËØ•Êñá‰ª∂ÁöÑÊùÉÈôê„ÄÇ Á¨¨4-6‰ΩçÁ°ÆÂÆöÂ±ûÁªÑÔºàÊâÄÊúâËÄÖÁöÑÂêåÁªÑÁî®Êà∑ÔºâÊã•ÊúâËØ•Êñá‰ª∂ÁöÑÊùÉÈôêÔºåÁ¨¨7-9‰ΩçÁ°ÆÂÆöÂÖ∂‰ªñÁî®Êà∑Êã•ÊúâËØ•Êñá‰ª∂ÁöÑÊùÉÈôê„ÄÇ ÂÖ∂‰∏≠ÔºåÁ¨¨ 1„ÄÅ4„ÄÅ7 ‰ΩçË°®Á§∫ËØªÊùÉÈôêÔºåÂ¶ÇÊûúÁî® r Â≠óÁ¨¶Ë°®Á§∫ÔºåÂàôÊúâËØªÊùÉÈôêÔºåÂ¶ÇÊûúÁî® - Â≠óÁ¨¶Ë°®Á§∫ÔºåÂàôÊ≤°ÊúâËØªÊùÉÈôêÔºõ Á¨¨ 2„ÄÅ5„ÄÅ8 ‰ΩçË°®Á§∫ÂÜôÊùÉÈôêÔºåÂ¶ÇÊûúÁî® w Â≠óÁ¨¶Ë°®Á§∫ÔºåÂàôÊúâÂÜôÊùÉÈôêÔºåÂ¶ÇÊûúÁî® - Â≠óÁ¨¶Ë°®Á§∫Ê≤°ÊúâÂÜôÊùÉÈôêÔºõÁ¨¨ 3„ÄÅ6„ÄÅ9 ‰ΩçË°®Á§∫ÂèØÊâßË°åÊùÉÈôêÔºåÂ¶ÇÊûúÁî® x Â≠óÁ¨¶Ë°®Á§∫ÔºåÂàôÊúâÊâßË°åÊùÉÈôêÔºåÂ¶ÇÊûúÁî® - Â≠óÁ¨¶Ë°®Á§∫ÔºåÂàôÊ≤°ÊúâÊâßË°åÊùÉÈôê„ÄÇ LinuxÊñá‰ª∂Â±û‰∏ªÂíåÂ±ûÁªÑ [root@www /]# ls -l total 64 drwxr-xr-x 2 root root 4096 Feb 15 14:46 cron drwxr-xr-x 3 mysql mysql 4096 Apr 21 2014 mysql ‚Ä¶‚Ä¶ ÂØπ‰∫éÊñá‰ª∂Êù•ËØ¥ÔºåÂÆÉÈÉΩÊúâ‰∏Ä‰∏™ÁâπÂÆöÁöÑÊâÄÊúâËÄÖÔºå‰πüÂ∞±ÊòØÂØπËØ•Êñá‰ª∂ÂÖ∑ÊúâÊâÄÊúâÊùÉÁöÑÁî®Êà∑„ÄÇ ÂêåÊó∂ÔºåÂú®LinuxÁ≥ªÁªü‰∏≠ÔºåÁî®Êà∑ÊòØÊåâÁªÑÂàÜÁ±ªÁöÑÔºå‰∏Ä‰∏™Áî®Êà∑Â±û‰∫é‰∏Ä‰∏™ÊàñÂ§ö‰∏™ÁªÑ„ÄÇ Êñá‰ª∂ÊâÄÊúâËÄÖ‰ª•Â§ñÁöÑÁî®Êà∑ÂèàÂèØ‰ª•ÂàÜ‰∏∫Êñá‰ª∂ÊâÄÊúâËÄÖÁöÑÂêåÁªÑÁî®Êà∑ÂíåÂÖ∂‰ªñÁî®Êà∑„ÄÇ Âõ†Ê≠§ÔºåLinuxÁ≥ªÁªüÊåâÊñá‰ª∂ÊâÄÊúâËÄÖ„ÄÅÊñá‰ª∂ÊâÄÊúâËÄÖÂêåÁªÑÁî®Êà∑ÂíåÂÖ∂‰ªñÁî®Êà∑Êù•ËßÑÂÆö‰∫Ü‰∏çÂêåÁöÑÊñá‰ª∂ËÆøÈóÆÊùÉÈôê„ÄÇ Âú®‰ª•‰∏äÂÆû‰æã‰∏≠Ôºåmysql Êñá‰ª∂ÊòØ‰∏Ä‰∏™ÁõÆÂΩïÊñá‰ª∂ÔºåÂ±û‰∏ªÂíåÂ±ûÁªÑÈÉΩ‰∏∫ mysqlÔºåÂ±û‰∏ªÊúâÂèØËØª„ÄÅÂèØÂÜô„ÄÅÂèØÊâßË°åÁöÑÊùÉÈôêÔºõ‰∏éÂ±û‰∏ªÂêåÁªÑÁöÑÂÖ∂‰ªñÁî®Êà∑ÊúâÂèØËØªÂíåÂèØÊâßË°åÁöÑÊùÉÈôêÔºõÂÖ∂‰ªñÁî®Êà∑‰πüÊúâÂèØËØªÂíåÂèØÊâßË°åÁöÑÊùÉÈôê„ÄÇ ÂØπ‰∫é root Áî®Êà∑Êù•ËØ¥Ôºå‰∏ÄËà¨ÊÉÖÂÜµ‰∏ãÔºåÊñá‰ª∂ÁöÑÊùÉÈôêÂØπÂÖ∂‰∏çËµ∑‰ΩúÁî®„ÄÇ Êõ¥ÊîπÊñá‰ª∂Â±ûÊÄß chgrpÔºöÊõ¥ÊîπÊñá‰ª∂Â±ûÁªÑ ËØ≠Ê≥ïÔºöchgrp [-R] Â±ûÁªÑÂêç Êñá‰ª∂Âêç ÂèÇÊï∞ÈÄâÈ°π -RÔºöÈÄíÂΩíÊõ¥ÊîπÊñá‰ª∂Â±ûÁªÑÔºåÂ∞±ÊòØÂú®Êõ¥ÊîπÊüê‰∏™ÁõÆÂΩïÊñá‰ª∂ÁöÑÂ±ûÁªÑÊó∂ÔºåÂ¶ÇÊûúÂä†‰∏ä-RÁöÑÂèÇÊï∞ÔºåÈÇ£‰πàËØ•ÁõÆÂΩï‰∏ãÁöÑÊâÄÊúâÊñá‰ª∂ÁöÑÂ±ûÁªÑÈÉΩ‰ºöÊõ¥Êîπ„ÄÇ chownÔºöÊõ¥ÊîπÊñá‰ª∂Â±û‰∏ªÔºå‰πüÂèØ‰ª•ÂêåÊó∂Êõ¥ÊîπÊñá‰ª∂Â±ûÁªÑ ËØ≠Ê≥ïÔºö chown [‚ÄìR] Â±û‰∏ªÂêç Êñá‰ª∂Âêç chown [-R] Â±û‰∏ªÂêçÔºöÂ±ûÁªÑÂêç Êñá‰ª∂Âêç ËøõÂÖ• /root ÁõÆÂΩïÔºà~ÔºâÂ∞Üinstall.logÁöÑÊã•ÊúâËÄÖÊîπ‰∏∫binËøô‰∏™Ë¥¶Âè∑Ôºö [root@www ~] cd ~ [root@www ~]# chown bin install.log [root@www ~]# ls -l -rw-r--r-- 1 bin users 68495 Jun 25 08:53 install.log Â∞Üinstall.logÁöÑÊã•ÊúâËÄÖ‰∏éÁæ§ÁªÑÊîπÂõû‰∏∫rootÔºö [root@www ~]# chown root:root install.log [root@www ~]# ls -l -rw-r--r-- 1 root root 68495 Jun 25 08:53 install.log chmodÔºöÊõ¥ÊîπÊñá‰ª∂9‰∏™Â±ûÊÄß LinuxÊñá‰ª∂Â±ûÊÄßÊúâ‰∏§ÁßçËÆæÁΩÆÊñπÊ≥ïÔºå‰∏ÄÁßçÊòØÊï∞Â≠óÔºå‰∏ÄÁßçÊòØÁ¨¶Âè∑„ÄÇ Linux Êñá‰ª∂ÁöÑÂü∫Êú¨ÊùÉÈôêÂ∞±Êúâ‰πù‰∏™ÔºåÂàÜÂà´ÊòØ owner/group/others(Êã•ÊúâËÄÖ/ÁªÑ/ÂÖ∂‰ªñ) ‰∏âÁßçË∫´‰ªΩÂêÑÊúâËá™Â∑±ÁöÑ read/write/execute ÊùÉÈôê„ÄÇ ÂÖàÂ§ç‰π†‰∏Ä‰∏ãÂàöÂàö‰∏äÈù¢ÊèêÂà∞ÁöÑÊï∞ÊçÆÔºöÊñá‰ª∂ÁöÑÊùÉÈôêÂ≠óÁ¨¶‰∏∫Ôºö -rwxrwxrwx Ôºå Ëøô‰πù‰∏™ÊùÉÈôêÊòØ‰∏â‰∏™‰∏â‰∏™‰∏ÄÁªÑÁöÑÔºÅÂÖ∂‰∏≠ÔºåÊàë‰ª¨ÂèØ‰ª•‰ΩøÁî®Êï∞Â≠óÊù•‰ª£Ë°®ÂêÑ‰∏™ÊùÉÈôêÔºåÂêÑÊùÉÈôêÁöÑÂàÜÊï∞ÂØπÁÖßË°®Â¶Ç‰∏ãÔºö r:4 w:2 x:1 ÊØèÁßçË∫´‰ªΩ(owner/group/others)ÂêÑËá™ÁöÑ‰∏â‰∏™ÊùÉÈôê(r/w/x)ÂàÜÊï∞ÊòØÈúÄË¶ÅÁ¥ØÂä†ÁöÑÔºå‰æãÂ¶ÇÂΩìÊùÉÈôê‰∏∫Ôºö -rwxrwx--- ÂàÜÊï∞ÂàôÊòØÔºö owner = rwx = 4+2+1 = 7 group = rwx = 4+2+1 = 7 others= --- = 0+0+0 = 0 ÊâÄ‰ª•Á≠â‰∏Ä‰∏ãÊàë‰ª¨ËÆæÂÆöÊùÉÈôêÁöÑÂèòÊõ¥Êó∂ÔºåËØ•Êñá‰ª∂ÁöÑÊùÉÈôêÊï∞Â≠óÂ∞±ÊòØ 770„ÄÇÂèòÊõ¥ÊùÉÈôêÁöÑÊåá‰ª§ chmod ÁöÑËØ≠Ê≥ïÊòØËøôÊ†∑ÁöÑÔºö chmod [-R] xyz Êñá‰ª∂ÊàñÁõÆÂΩï ÈÄâÈ°π‰∏éÂèÇÊï∞Ôºö xyz : Â∞±ÊòØÂàöÂàöÊèêÂà∞ÁöÑÊï∞Â≠óÁ±ªÂûãÁöÑÊùÉÈôêÂ±ûÊÄßÔºå‰∏∫ rwx Â±ûÊÄßÊï∞ÂÄºÁöÑÁõ∏Âä†„ÄÇ -R : ËøõË°åÈÄíÂΩí(recursive)ÁöÑÊåÅÁª≠ÂèòÊõ¥Ôºå‰∫¶Âç≥ËøûÂêåÊ¨°ÁõÆÂΩï‰∏ãÁöÑÊâÄÊúâÊñá‰ª∂ÈÉΩ‰ºöÂèòÊõ¥ ‰∏æ‰æãÊù•ËØ¥ÔºåÂ¶ÇÊûúË¶ÅÂ∞Ü .bashrc Ëøô‰∏™Êñá‰ª∂ÊâÄÊúâÁöÑÊùÉÈôêÈÉΩËÆæÂÆöÂêØÁî®ÔºåÈÇ£‰πàÂëΩ‰ª§Â¶Ç‰∏ãÔºö [root@www ~]# ls -al .bashrc -rw-r--r-- 1 root root 395 Jul 4 11:45 .bashrc [root@www ~]# chmod 777 .bashrc [root@www ~]# ls -al .bashrc -rwxrwxrwx 1 root root 395 Jul 4 11:45 .bashrc ÈÇ£Â¶ÇÊûúË¶ÅÂ∞ÜÊùÉÈôêÂèòÊàê -rwxr-xr-- Âë¢ÔºüÈÇ£‰πàÊùÉÈôêÁöÑÂàÜÊï∞Â∞±Êàê‰∏∫ [4+2+1][4+0+1][4+0+0]=754„ÄÇ Á¨¶Âè∑Á±ªÂûãÊîπÂèòÊñá‰ª∂ÊùÉÈôê ËøòÊúâ‰∏Ä‰∏™ÊîπÂèòÊùÉÈôêÁöÑÊñπÊ≥ïÔºå‰ªé‰πãÂâçÁöÑ‰ªãÁªç‰∏≠Êàë‰ª¨ÂèØ‰ª•ÂèëÁé∞ÔºåÂü∫Êú¨‰∏äÂ∞±‰πù‰∏™ÊùÉÈôêÂàÜÂà´ÊòØÔºö userÔºöÁî®Êà∑ groupÔºöÁªÑ othersÔºöÂÖ∂‰ªñ ÈÇ£‰πàÊàë‰ª¨Â∞±ÂèØ‰ª•‰ΩøÁî® u, g, o Êù•‰ª£Ë°®‰∏âÁßçË∫´‰ªΩÁöÑÊùÉÈôê„ÄÇ Ê≠§Â§ñÔºå a Âàô‰ª£Ë°® allÔºåÂç≥ÂÖ®ÈÉ®ÁöÑË∫´‰ªΩ„ÄÇËØªÂÜôÁöÑÊùÉÈôêÂèØ‰ª•ÂÜôÊàê r, w, xÔºå‰πüÂ∞±ÊòØÂèØ‰ª•‰ΩøÁî®‰∏ãË°®ÁöÑÊñπÂºèÊù•ÁúãÔºö chmod u g o a +(Âä†ÂÖ•) -(Èô§Âéª) =(ËÆæÂÆö) r w x Êñá‰ª∂ÊàñÁõÆÂΩï Â¶ÇÊûúÊàë‰ª¨ÈúÄË¶ÅÂ∞ÜÊñá‰ª∂ÊùÉÈôêËÆæÁΩÆ‰∏∫ -rwxr-xr-- ÔºåÂèØ‰ª•‰ΩøÁî® chmod u=rwx,g=rx,o=r Êñá‰ª∂Âêç Êù•ËÆæÂÆö: touch test1 // ÂàõÂª∫ test1 Êñá‰ª∂ ls -al test1 // Êü•Áúã test1 ÈªòËÆ§ÊùÉÈôê -rw-r--r-- 1 root root 0 Nov 15 10:32 test1 chmod u=rwx,g=rx,o=r test1 // ‰øÆÊîπ test1 ÊùÉÈôê ls -al test1 -rwxr-xr-- 1 root root 0 Nov 15 10:32 test1 ËÄåÂ¶ÇÊûúÊòØË¶ÅÂ∞ÜÊùÉÈôêÂéªÊéâËÄå‰∏çÊîπÂèòÂÖ∂‰ªñÂ∑≤Â≠òÂú®ÁöÑÊùÉÈôêÂë¢Ôºü‰æãÂ¶ÇË¶ÅÊãøÊéâÂÖ®ÈÉ®‰∫∫ÁöÑÂèØÊâßË°åÊùÉÈôêÔºåÂàôÔºö chmod a-x test1 ls -al test1 -rw-r--r-- 1 root root 0 Nov 15 10:32 test1 Êñá‰ª∂‰∏éÁõÆÂΩïÁÆ°ÁêÜ LinuxÁöÑÁõÆÂΩïÁªìÊûÑ‰∏∫Ê†ëÁä∂ÁªìÊûÑÔºåÊúÄÈ°∂Á∫ßÁöÑÁõÆÂΩï‰∏∫Ê†πÁõÆÂΩï /„ÄÇ ÂÖ∂‰ªñÁõÆÂΩïÈÄöËøáÊåÇËΩΩÂèØ‰ª•Â∞ÜÂÆÉ‰ª¨Ê∑ªÂä†Âà∞Ê†ë‰∏≠ÔºåÈÄöËøáËß£Èô§ÊåÇËΩΩÂèØ‰ª•ÁßªÈô§ÂÆÉ‰ª¨„ÄÇ Âú®ÂºÄÂßãÊú¨ÊïôÁ®ãÂâçÊàë‰ª¨ÈúÄË¶ÅÂÖàÁü•ÈÅì‰ªÄ‰πàÊòØÁªùÂØπË∑ØÂæÑ‰∏éÁõ∏ÂØπË∑ØÂæÑ„ÄÇ ÁªùÂØπË∑ØÂæÑÔºö Ë∑ØÂæÑÁöÑÂÜôÊ≥ïÔºåÁî±Ê†πÁõÆÂΩï / ÂÜôËµ∑Ôºå‰æãÂ¶ÇÔºö /usr/share/doc Ëøô‰∏™ÁõÆÂΩï„ÄÇ Áõ∏ÂØπË∑ØÂæÑÔºö Ë∑ØÂæÑÁöÑÂÜôÊ≥ïÔºå‰∏çÊòØÁî± / ÂÜôËµ∑Ôºå‰æãÂ¶ÇÁî± /usr/share/doc Ë¶ÅÂà∞ /usr/share/man Â∫ï‰∏ãÊó∂ÔºåÂèØ‰ª•ÂÜôÊàêÔºö cd ../man ËøôÂ∞±ÊòØÁõ∏ÂØπË∑ØÂæÑÁöÑÂÜôÊ≥ï„ÄÇ Â§ÑÁêÜÁõÆÂΩïÁöÑÂ∏∏Áî®ÂëΩ‰ª§ lsÔºàËã±ÊñáÂÖ®ÊãºÔºölist filesÔºâ: ÂàóÂá∫ÁõÆÂΩïÂèäÊñá‰ª∂Âêç cdÔºàËã±ÊñáÂÖ®ÊãºÔºöchange directoryÔºâÔºöÂàáÊç¢ÁõÆÂΩï pwdÔºàËã±ÊñáÂÖ®ÊãºÔºöprint work directoryÔºâÔºöÊòæÁ§∫ÁõÆÂâçÁöÑÁõÆÂΩï mkdirÔºàËã±ÊñáÂÖ®ÊãºÔºömake directoryÔºâÔºöÂàõÂª∫‰∏Ä‰∏™Êñ∞ÁöÑÁõÆÂΩï rmdirÔºàËã±ÊñáÂÖ®ÊãºÔºöremove directoryÔºâÔºöÂà†Èô§‰∏Ä‰∏™Á©∫ÁöÑÁõÆÂΩï cpÔºàËã±ÊñáÂÖ®ÊãºÔºöcopy fileÔºâ: Â§çÂà∂Êñá‰ª∂ÊàñÁõÆÂΩï rmÔºàËã±ÊñáÂÖ®ÊãºÔºöremoveÔºâ: ÁßªÈô§Êñá‰ª∂ÊàñÁõÆÂΩï mvÔºàËã±ÊñáÂÖ®ÊãºÔºömove fileÔºâ: ÁßªÂä®Êñá‰ª∂‰∏éÁõÆÂΩïÔºåÊàñ‰øÆÊîπÊñá‰ª∂‰∏éÁõÆÂΩïÁöÑÂêçÁß∞ ‰Ω†ÂèØ‰ª•‰ΩøÁî® man [ÂëΩ‰ª§] Êù•Êü•ÁúãÂêÑ‰∏™ÂëΩ‰ª§ÁöÑ‰ΩøÁî®ÊñáÊ°£ÔºåÂ¶Ç Ôºöman cp„ÄÇ ls (ÂàóÂá∫ÁõÆÂΩï) Âú®LinuxÁ≥ªÁªüÂΩì‰∏≠Ôºå ls ÂëΩ‰ª§ÂèØËÉΩÊòØÊúÄÂ∏∏Ë¢´ËøêË°åÁöÑ„ÄÇ ËØ≠Ê≥ïÔºö [root@www ~]# ls [-aAdfFhilnrRSt] ÁõÆÂΩïÂêçÁß∞ [root@www ~]# ls [--color={never,auto,always}] ÁõÆÂΩïÂêçÁß∞ [root@www ~]# ls [--full-time] ÁõÆÂΩïÂêçÁß∞ ÈÄâÈ°π‰∏éÂèÇÊï∞Ôºö -a ÔºöÂÖ®ÈÉ®ÁöÑÊñá‰ª∂ÔºåËøûÂêåÈöêËóèÊñá‰ª∂( ÂºÄÂ§¥‰∏∫ . ÁöÑÊñá‰ª∂) ‰∏ÄËµ∑ÂàóÂá∫Êù•(Â∏∏Áî®) -d Ôºö‰ªÖÂàóÂá∫ÁõÆÂΩïÊú¨Ë∫´ÔºåËÄå‰∏çÊòØÂàóÂá∫ÁõÆÂΩïÂÜÖÁöÑÊñá‰ª∂Êï∞ÊçÆ(Â∏∏Áî®) -l ÔºöÈïøÊï∞ÊçÆ‰∏≤ÂàóÂá∫ÔºåÂåÖÂê´Êñá‰ª∂ÁöÑÂ±ûÊÄß‰∏éÊùÉÈôêÁ≠âÁ≠âÊï∞ÊçÆÔºõ(Â∏∏Áî®) Â∞ÜÂÆ∂ÁõÆÂΩï‰∏ãÁöÑÊâÄÊúâÊñá‰ª∂ÂàóÂá∫Êù•(Âê´Â±ûÊÄß‰∏éÈöêËóèÊ°£) [root@www ~]# ls -al ~ cd (ÂàáÊç¢ÁõÆÂΩï) cdÊòØChange DirectoryÁöÑÁº©ÂÜôÔºåËøôÊòØÁî®Êù•ÂèòÊç¢Â∑•‰ΩúÁõÆÂΩïÁöÑÂëΩ‰ª§„ÄÇ ËØ≠Ê≥ïÔºö cd [Áõ∏ÂØπË∑ØÂæÑÊàñÁªùÂØπË∑ØÂæÑ] #‰ΩøÁî® mkdir ÂëΩ‰ª§ÂàõÂª∫ runoob ÁõÆÂΩï [root@www ~]# mkdir runoob #‰ΩøÁî®ÁªùÂØπË∑ØÂæÑÂàáÊç¢Âà∞ runoob ÁõÆÂΩï [root@www ~]# cd /root/runoob/ #‰ΩøÁî®Áõ∏ÂØπË∑ØÂæÑÂàáÊç¢Âà∞ runoob ÁõÆÂΩï [root@www ~]# cd ./runoob/ Ë°®Á§∫ÂõûÂà∞Ëá™Â∑±ÁöÑÂÆ∂ÁõÆÂΩïÔºå‰∫¶Âç≥ÊòØ /root Ëøô‰∏™ÁõÆÂΩï [root@www runoob]# cd ~ Ë°®Á§∫ÂéªÂà∞ÁõÆÂâçÁöÑ‰∏ä‰∏ÄÁ∫ßÁõÆÂΩïÔºå‰∫¶Âç≥ÊòØ /root ÁöÑ‰∏ä‰∏ÄÁ∫ßÁõÆÂΩïÁöÑÊÑèÊÄùÔºõ [root@www ~]# cd .. Êé•‰∏ãÊù•Â§ßÂÆ∂Â§öÊìç‰ΩúÂá†Ê¨°Â∫îËØ•Â∞±ÂèØ‰ª•ÂæàÂ•ΩÁöÑÁêÜËß£ cd ÂëΩ‰ª§ÁöÑ„ÄÇ - pwd (ÊòæÁ§∫ÁõÆÂâçÊâÄÂú®ÁöÑÁõÆÂΩï) pwd ÊòØ Print Working Directory ÁöÑÁº©ÂÜôÔºå‰πüÂ∞±ÊòØÊòæÁ§∫ÁõÆÂâçÊâÄÂú®ÁõÆÂΩïÁöÑÂëΩ‰ª§„ÄÇ [root@www ~]# pwd [-P] ÈÄâÈ°π‰∏éÂèÇÊï∞Ôºö -P ÔºöÊòæÁ§∫Âá∫Á°ÆÂÆûÁöÑË∑ØÂæÑÔºåËÄåÈùû‰ΩøÁî®ËøûÁªì (link) Ë∑ØÂæÑ„ÄÇ ÂÆû‰æãÔºöÂçïÁ∫ØÊòæÁ§∫Âá∫ÁõÆÂâçÁöÑÂ∑•‰ΩúÁõÆÂΩïÔºö [root@www ~]# pwd /root &lt;== ÊòæÁ§∫Âá∫ÁõÆÂΩïÂï¶ÔΩû ÂÆû‰æãÊòæÁ§∫Âá∫ÂÆûÈôÖÁöÑÂ∑•‰ΩúÁõÆÂΩïÔºåËÄåÈùûËøûÁªìÊ°£Êú¨Ë∫´ÁöÑÁõÆÂΩïÂêçËÄåÂ∑≤„ÄÇ [root@www ~]# cd /var/mail &lt;==Ê≥®ÊÑèÔºå/var/mailÊòØ‰∏Ä‰∏™ËøûÁªìÊ°£ [root@www mail]# pwd /var/mail &lt;==ÂàóÂá∫ÁõÆÂâçÁöÑÂ∑•‰ΩúÁõÆÂΩï [root@www mail]# pwd -P /var/spool/mail &lt;==ÊÄé‰πàÂõû‰∫ãÔºüÊúâÊ≤°ÊúâÂä† -P Â∑ÆÂæàÂ§öÔΩû [root@www mail]# ls -ld /var/mail lrwxrwxrwx 1 root root 10 Sep 4 17:54 /var/mail -&gt; spool/mail ÁúãÂà∞ËøôÈáåÂ∫îËØ•Áü•ÈÅì‰∏∫Âï•‰∫ÜÂêßÔºüÂõ†‰∏∫ /var/mail ÊòØËøûÁªìÊ°£ÔºåËøûÁªìÂà∞ /var/spool/mail ÊâÄ‰ª•ÔºåÂä†‰∏ä pwd -P ÁöÑÈÄâÈ°πÂêéÔºå‰ºö‰∏ç‰ª•ËøûÁªìÊ°£ÁöÑÊï∞ÊçÆÊòæÁ§∫ÔºåËÄåÊòØÊòæÁ§∫Ê≠£Á°ÆÁöÑÂÆåÊï¥Ë∑ØÂæÑÂïäÔºÅ - mkdir (ÂàõÂª∫Êñ∞ÁõÆÂΩï) Â¶ÇÊûúÊÉ≥Ë¶ÅÂàõÂª∫Êñ∞ÁöÑÁõÆÂΩïÁöÑËØùÔºåÈÇ£‰πàÂ∞±‰ΩøÁî®mkdir (make directory)Âêß„ÄÇ ËØ≠Ê≥ïÔºö mkdir [-mp] ÁõÆÂΩïÂêçÁß∞ ÈÄâÈ°π‰∏éÂèÇÊï∞Ôºö -m ÔºöÈÖçÁΩÆÊñá‰ª∂ÁöÑÊùÉÈôêÂñîÔºÅÁõ¥Êé•ÈÖçÁΩÆÔºå‰∏çÈúÄË¶ÅÁúãÈªòËÆ§ÊùÉÈôê (umask) ÁöÑËÑ∏Ëâ≤ÔΩû -p ÔºöÂ∏ÆÂä©‰Ω†Áõ¥Êé•Â∞ÜÊâÄÈúÄË¶ÅÁöÑÁõÆÂΩï(ÂåÖÂê´‰∏ä‰∏ÄÁ∫ßÁõÆÂΩï)ÈÄíÂΩíÂàõÂª∫Ëµ∑Êù•ÔºÅ ÂÆû‰æãÔºöËØ∑Âà∞/tmpÂ∫ï‰∏ãÂ∞ùËØïÂàõÂª∫Êï∞‰∏™Êñ∞ÁõÆÂΩïÁúãÁúãÔºö [root@www ~]# cd /tmp [root@www tmp]# mkdir test &lt;ÂàõÂª∫‰∏ÄÂêç‰∏∫ test ÁöÑÊñ∞ÁõÆÂΩï [root@www tmp]# mkdir test1/test2/test3/test4 mkdir: cannot create directory `test1/test2/test3/test4': No such file or directory &lt; Ê≤°ÂäûÊ≥ïÁõ¥Êé•ÂàõÂª∫Ê≠§ÁõÆÂΩïÂïäÔºÅ [root@www tmp]# mkdir -p test1/test2/test3/test4 Âä†‰∫ÜËøô‰∏™ -p ÁöÑÈÄâÈ°πÔºåÂèØ‰ª•Ëá™Ë°åÂ∏Æ‰Ω†ÂàõÂª∫Â§öÂ±ÇÁõÆÂΩïÔºÅ ÂÆû‰æãÔºöÂàõÂª∫ÊùÉÈôê‰∏∫ rwx--x--x ÁöÑÁõÆÂΩï„ÄÇ [root@www tmp]# mkdir -m 711 test2 [root@www tmp]# ls -l drwxr-xr-x 3 root root 4096 Jul 18 12:50 test drwxr-xr-x 3 root root 4096 Jul 18 12:53 test1 drwx--x--x 2 root root 4096 Jul 18 12:54 test2 ‰∏äÈù¢ÁöÑÊùÉÈôêÈÉ®ÂàÜÔºåÂ¶ÇÊûúÊ≤°ÊúâÂä†‰∏ä -m Êù•Âº∫Âà∂ÈÖçÁΩÆÂ±ûÊÄßÔºåÁ≥ªÁªü‰ºö‰ΩøÁî®ÈªòËÆ§Â±ûÊÄß„ÄÇ Â¶ÇÊûúÊàë‰ª¨‰ΩøÁî® -m ÔºåÂ¶Ç‰∏ä‰æãÊàë‰ª¨Áªô‰∫à -m 711 Êù•Áªô‰∫àÊñ∞ÁöÑÁõÆÂΩï drwx--x--x ÁöÑÊùÉÈôê„ÄÇ - rmdir (Âà†Èô§Á©∫ÁöÑÁõÆÂΩï) ËØ≠Ê≥ïÔºö rmdir [-p] ÁõÆÂΩïÂêçÁß∞ ÈÄâÈ°π‰∏éÂèÇÊï∞Ôºö -p ÔºöËøûÂêå‰∏ä‰∏ÄÁ∫ß„ÄéÁ©∫ÁöÑ„ÄèÁõÆÂΩï‰πü‰∏ÄËµ∑Âà†Èô§ Âà†Èô§ runoob ÁõÆÂΩï [root@www tmp]# rmdir runoob/ Â∞Ü mkdir ÂÆû‰æã‰∏≠ÂàõÂª∫ÁöÑÁõÆÂΩï(/tmp Â∫ï‰∏ã)Âà†Èô§ÊéâÔºÅ [root@www tmp]# ls -l &lt;==ÁúãÁúãÊúâÂ§öÂ∞ëÁõÆÂΩïÂ≠òÂú®Ôºü drwxr-xr-x 3 root root 4096 Jul 18 12:50 test drwxr-xr-x 3 root root 4096 Jul 18 12:53 test1 drwx--x--x 2 root root 4096 Jul 18 12:54 test2 [root@www tmp]# rmdir test &lt;==ÂèØÁõ¥Êé•Âà†Èô§ÊéâÔºåÊ≤°ÈóÆÈ¢ò [root@www tmp]# rmdir test1 &lt;==Âõ†‰∏∫Â∞öÊúâÂÜÖÂÆπÔºåÊâÄ‰ª•Êó†Ê≥ïÂà†Èô§ÔºÅ rmdir: `test1': Directory not empty [root@www tmp]# rmdir -p test1/test2/test3/test4 [root@www tmp]# ls -l &lt;==ÊÇ®ÁúãÁúãÔºåÂ∫ï‰∏ãÁöÑËæìÂá∫‰∏≠test‰∏étest1‰∏çËßÅ‰∫ÜÔºÅ drwx--x--x 2 root root 4096 Jul 18 12:54 test2 Âà©Áî® -p Ëøô‰∏™ÈÄâÈ°πÔºåÁ´ãÂàªÂ∞±ÂèØ‰ª•Â∞Ü test1/test2/test3/test4 ‰∏ÄÊ¨°Âà†Èô§„ÄÇ ‰∏çËøáË¶ÅÊ≥®ÊÑèÁöÑÊòØÔºåËøô‰∏™ rmdir ‰ªÖËÉΩÂà†Èô§Á©∫ÁöÑÁõÆÂΩïÔºå‰Ω†ÂèØ‰ª•‰ΩøÁî® rm ÂëΩ‰ª§Êù•Âà†Èô§ÈùûÁ©∫ÁõÆÂΩï„ÄÇ - cp (Â§çÂà∂Êñá‰ª∂ÊàñÁõÆÂΩï) cp Âç≥Êã∑Ë¥ùÊñá‰ª∂ÂíåÁõÆÂΩï„ÄÇ ËØ≠Ê≥ï: [root@www ~]# cp [-adfilprsu] Êù•Ê∫êÊ°£(source) ÁõÆÊ†áÊ°£(destination) [root@www ~]# cp [options] source1 source2 source3 .... directory ÈÄâÈ°π‰∏éÂèÇÊï∞Ôºö -aÔºöÁõ∏ÂΩìÊñº -pdr ÁöÑÊÑèÊÄùÔºåËá≥Êñº pdr ËØ∑ÂèÇËÄÉ‰∏ãÂàóËØ¥ÊòéÔºõ(Â∏∏Áî®) -dÔºöËã•Êù•Ê∫êÊ°£‰∏∫ËøûÁªìÊ°£ÁöÑÂ±ûÊÄß(link file)ÔºåÂàôÂ§çÂà∂ËøûÁªìÊ°£Â±ûÊÄßËÄåÈùûÊñá‰ª∂Êú¨Ë∫´Ôºõ -fÔºö‰∏∫Âº∫Âà∂(force)ÁöÑÊÑèÊÄùÔºåËã•ÁõÆÊ†áÊñá‰ª∂Â∑≤ÁªèÂ≠òÂú®‰∏îÊó†Ê≥ïÂºÄÂêØÔºåÂàôÁßªÈô§ÂêéÂÜçÂ∞ùËØï‰∏ÄÊ¨°Ôºõ -iÔºöËã•ÁõÆÊ†áÊ°£(destination)Â∑≤ÁªèÂ≠òÂú®Êó∂ÔºåÂú®Ë¶ÜÁõñÊó∂‰ºöÂÖàËØ¢ÈóÆÂä®‰ΩúÁöÑËøõË°å(Â∏∏Áî®) -lÔºöËøõË°åÁ°¨ÂºèËøûÁªì(hard link)ÁöÑËøûÁªìÊ°£ÂàõÂª∫ÔºåËÄåÈùûÂ§çÂà∂Êñá‰ª∂Êú¨Ë∫´Ôºõ -pÔºöËøûÂêåÊñá‰ª∂ÁöÑÂ±ûÊÄß‰∏ÄËµ∑Â§çÂà∂ËøáÂéªÔºåËÄåÈùû‰ΩøÁî®ÈªòËÆ§Â±ûÊÄß(Â§á‰ªΩÂ∏∏Áî®)Ôºõ -rÔºöÈÄíÂΩíÊåÅÁª≠Â§çÂà∂ÔºåÁî®ÊñºÁõÆÂΩïÁöÑÂ§çÂà∂Ë°å‰∏∫Ôºõ(Â∏∏Áî®) -sÔºöÂ§çÂà∂Êàê‰∏∫Á¨¶Âè∑ËøûÁªìÊ°£ (symbolic link)Ôºå‰∫¶Âç≥„ÄéÊç∑ÂæÑ„ÄèÊñá‰ª∂Ôºõ -uÔºöËã• destination ÊØî source ÊóßÊâçÂçáÁ∫ß destination ÔºÅ Áî® root Ë∫´‰ªΩÔºåÂ∞Ü root ÁõÆÂΩï‰∏ãÁöÑ .bashrc Â§çÂà∂Âà∞ /tmp ‰∏ãÔºåÂπ∂ÂëΩÂêç‰∏∫ bashrc [root@www ~]# cp ~/.bashrc /tmp/bashrc [root@www ~]# cp -i ~/.bashrc /tmp/bashrc cp: overwrite `/tmp/bashrc'? n &lt;==n‰∏çË¶ÜÁõñÔºåy‰∏∫Ë¶ÜÁõñ - rm (ÁßªÈô§Êñá‰ª∂ÊàñÁõÆÂΩï) ËØ≠Ê≥ïÔºö rm [-fir] Êñá‰ª∂ÊàñÁõÆÂΩï ÈÄâÈ°π‰∏éÂèÇÊï∞Ôºö -f ÔºöÂ∞±ÊòØ force ÁöÑÊÑèÊÄùÔºåÂøΩÁï•‰∏çÂ≠òÂú®ÁöÑÊñá‰ª∂Ôºå‰∏ç‰ºöÂá∫Áé∞Ë≠¶Âëä‰ø°ÊÅØÔºõ -i Ôºö‰∫íÂä®Ê®°ÂºèÔºåÂú®Âà†Èô§Ââç‰ºöËØ¢ÈóÆ‰ΩøÁî®ËÄÖÊòØÂê¶Âä®‰Ωú -r ÔºöÈÄíÂΩíÂà†Èô§ÂïäÔºÅÊúÄÂ∏∏Áî®Âú®ÁõÆÂΩïÁöÑÂà†Èô§‰∫ÜÔºÅËøôÊòØÈùûÂ∏∏Âç±Èô©ÁöÑÈÄâÈ°πÔºÅÔºÅÔºÅ Â∞ÜÂàöÂàöÂú® cp ÁöÑÂÆû‰æã‰∏≠ÂàõÂª∫ÁöÑ bashrc Âà†Èô§ÊéâÔºÅ [root@www tmp]# rm -i bashrc rm: remove regular file `bashrc'? y Â¶ÇÊûúÂä†‰∏ä -i ÁöÑÈÄâÈ°πÂ∞±‰ºö‰∏ªÂä®ËØ¢ÈóÆÂñîÔºåÈÅøÂÖç‰Ω†Âà†Èô§Âà∞ÈîôËØØÁöÑÊ°£ÂêçÔºÅ - mv (ÁßªÂä®Êñá‰ª∂‰∏éÁõÆÂΩïÔºåÊàñ‰øÆÊîπÂêçÁß∞) ËØ≠Ê≥ïÔºö [root@www ~]# mv [-fiu] source destination [root@www ~]# mv [options] source1 source2 source3 .... directory ÈÄâÈ°π‰∏éÂèÇÊï∞Ôºö -f Ôºöforce Âº∫Âà∂ÁöÑÊÑèÊÄùÔºåÂ¶ÇÊûúÁõÆÊ†áÊñá‰ª∂Â∑≤ÁªèÂ≠òÂú®Ôºå‰∏ç‰ºöËØ¢ÈóÆËÄåÁõ¥Êé•Ë¶ÜÁõñÔºõ -i ÔºöËã•ÁõÆÊ†áÊñá‰ª∂ (destination) Â∑≤ÁªèÂ≠òÂú®Êó∂ÔºåÂ∞±‰ºöËØ¢ÈóÆÊòØÂê¶Ë¶ÜÁõñÔºÅ -u ÔºöËã•ÁõÆÊ†áÊñá‰ª∂Â∑≤ÁªèÂ≠òÂú®Ôºå‰∏î source ÊØîËæÉÊñ∞ÔºåÊâç‰ºöÂçáÁ∫ß (update) Â§çÂà∂‰∏ÄÊñá‰ª∂ÔºåÂàõÂª∫‰∏ÄÁõÆÂΩïÔºåÂ∞ÜÊñá‰ª∂ÁßªÂä®Âà∞ÁõÆÂΩï‰∏≠ [root@www ~]# cd /tmp [root@www tmp]# cp ~/.bashrc bashrc [root@www tmp]# mkdir mvtest [root@www tmp]# mv bashrc mvtest Â∞ÜÊüê‰∏™Êñá‰ª∂ÁßªÂä®Âà∞Êüê‰∏™ÁõÆÂΩïÂéªÔºåÂ∞±ÊòØËøôÊ†∑ÂÅöÔºÅ Â∞ÜÂàöÂàöÁöÑÁõÆÂΩïÂêçÁß∞Êõ¥Âêç‰∏∫ mvtest2 [root@www tmp]# mv mvtest mvtest2 - Linux Êñá‰ª∂ÂÜÖÂÆπÊü•Áúã LinuxÁ≥ªÁªü‰∏≠‰ΩøÁî®‰ª•‰∏ãÂëΩ‰ª§Êù•Êü•ÁúãÊñá‰ª∂ÁöÑÂÜÖÂÆπÔºö cat Áî±Á¨¨‰∏ÄË°åÂºÄÂßãÊòæÁ§∫Êñá‰ª∂ÂÜÖÂÆπ tac ‰ªéÊúÄÂêé‰∏ÄË°åÂºÄÂßãÊòæÁ§∫ÔºåÂèØ‰ª•ÁúãÂá∫ tac ÊòØ cat ÁöÑÂÄíÁùÄÂÜôÔºÅ nl ÊòæÁ§∫ÁöÑÊó∂ÂÄôÔºåÈ°∫ÈÅìËæìÂá∫Ë°åÂè∑ÔºÅ more ‰∏ÄÈ°µ‰∏ÄÈ°µÁöÑÊòæÁ§∫Êñá‰ª∂ÂÜÖÂÆπ less ‰∏é more Á±ª‰ººÔºå‰ΩÜÊòØÊØî more Êõ¥Â•ΩÁöÑÊòØÔºå‰ªñÂèØ‰ª•ÂæÄÂâçÁøªÈ°µÔºÅ head Âè™ÁúãÂ§¥Âá†Ë°å tail Âè™ÁúãÂ∞æÂ∑¥Âá†Ë°å ‰Ω†ÂèØ‰ª•‰ΩøÁî® man [ÂëΩ‰ª§]Êù•Êü•ÁúãÂêÑ‰∏™ÂëΩ‰ª§ÁöÑ‰ΩøÁî®ÊñáÊ°£ÔºåÂ¶Ç Ôºöman cp„ÄÇ - cat Áî±Á¨¨‰∏ÄË°åÂºÄÂßãÊòæÁ§∫Êñá‰ª∂ÂÜÖÂÆπ ËØ≠Ê≥ïÔºö cat [-AbEnTv] ÈÄâÈ°π‰∏éÂèÇÊï∞Ôºö -A ÔºöÁõ∏ÂΩìÊñº -vET ÁöÑÊï¥ÂêàÈÄâÈ°πÔºåÂèØÂàóÂá∫‰∏Ä‰∫õÁâπÊÆäÂ≠óÁ¨¶ËÄå‰∏çÊòØÁ©∫ÁôΩËÄåÂ∑≤Ôºõ -b ÔºöÂàóÂá∫Ë°åÂè∑Ôºå‰ªÖÈíàÂØπÈùûÁ©∫ÁôΩË°åÂÅöË°åÂè∑ÊòæÁ§∫ÔºåÁ©∫ÁôΩË°å‰∏çÊ†áË°åÂè∑ÔºÅ -E ÔºöÂ∞ÜÁªìÂ∞æÁöÑÊñ≠Ë°åÂ≠óËäÇ $ ÊòæÁ§∫Âá∫Êù•Ôºõ -n ÔºöÂàóÂç∞Âá∫Ë°åÂè∑ÔºåËøûÂêåÁ©∫ÁôΩË°å‰πü‰ºöÊúâË°åÂè∑Ôºå‰∏é -b ÁöÑÈÄâÈ°π‰∏çÂêåÔºõ -T ÔºöÂ∞Ü [tab] ÊåâÈîÆ‰ª• ^I ÊòæÁ§∫Âá∫Êù•Ôºõ -v ÔºöÂàóÂá∫‰∏Ä‰∫õÁúã‰∏çÂá∫Êù•ÁöÑÁâπÊÆäÂ≠óÁ¨¶ Ê£ÄÁúã /etc/issue Ëøô‰∏™Êñá‰ª∂ÁöÑÂÜÖÂÆπÔºö [root@www ~]# cat /etc/issue CentOS release 6.4 (Final) Kernel \\r on an \\m - tac tac‰∏écatÂëΩ‰ª§ÂàöÂ•ΩÁõ∏ÂèçÔºåÊñá‰ª∂ÂÜÖÂÆπ‰ªéÊúÄÂêé‰∏ÄË°åÂºÄÂßãÊòæÁ§∫ÔºåÂèØ‰ª•ÁúãÂá∫ tac ÊòØ cat ÁöÑÂÄíÁùÄÂÜôÔºÅÂ¶ÇÔºö [root@www ~]# tac /etc/issue Kernel \\r on an \\m CentOS release 6.4 (Final) - nl ÊòæÁ§∫Ë°åÂè∑ ËØ≠Ê≥ïÔºö nl [-bnw] Êñá‰ª∂ ÈÄâÈ°π‰∏éÂèÇÊï∞Ôºö -b ÔºöÊåáÂÆöË°åÂè∑ÊåáÂÆöÁöÑÊñπÂºèÔºå‰∏ªË¶ÅÊúâ‰∏§ÁßçÔºö -b a ÔºöË°®Á§∫‰∏çËÆ∫ÊòØÂê¶‰∏∫Á©∫Ë°åÔºå‰πüÂêåÊ†∑ÂàóÂá∫Ë°åÂè∑(Á±ª‰ºº cat -n)Ôºõ -b t ÔºöÂ¶ÇÊûúÊúâÁ©∫Ë°åÔºåÁ©∫ÁöÑÈÇ£‰∏ÄË°å‰∏çË¶ÅÂàóÂá∫Ë°åÂè∑(ÈªòËÆ§ÂÄº)Ôºõ -n ÔºöÂàóÂá∫Ë°åÂè∑Ë°®Á§∫ÁöÑÊñπÊ≥ïÔºå‰∏ªË¶ÅÊúâ‰∏âÁßçÔºö -n ln ÔºöË°åÂè∑Âú®ËçßÂπïÁöÑÊúÄÂ∑¶ÊñπÊòæÁ§∫Ôºõ -n rn ÔºöË°åÂè∑Âú®Ëá™Â∑±Ê†è‰ΩçÁöÑÊúÄÂè≥ÊñπÊòæÁ§∫Ôºå‰∏î‰∏çÂä† 0 Ôºõ -n rz ÔºöË°åÂè∑Âú®Ëá™Â∑±Ê†è‰ΩçÁöÑÊúÄÂè≥ÊñπÊòæÁ§∫Ôºå‰∏îÂä† 0 Ôºõ -w ÔºöË°åÂè∑Ê†è‰ΩçÁöÑÂç†Áî®ÁöÑ‰ΩçÊï∞„ÄÇ ÂÆû‰æã‰∏ÄÔºöÁî® nl ÂàóÂá∫ /etc/issue ÁöÑÂÜÖÂÆπ [root@www ~]# nl /etc/issue 1 CentOS release 6.4 (Final) 2 Kernel \\r on an \\m - more ‰∏ÄÈ°µ‰∏ÄÈ°µÁøªÂä® [root@www ~]# more /etc/man_db.config Generated automatically from man.conf.in by the configure script. man.conf from man-1.6d ....(‰∏≠Èó¥ÁúÅÁï•).... --More--(28%) &lt;== ÈáçÁÇπÂú®Ëøô‰∏ÄË°åÂñîÔºÅ‰Ω†ÁöÑÂÖâÊ†á‰πü‰ºöÂú®ËøôÈáåÁ≠âÂæÖ‰Ω†ÁöÑÂëΩ‰ª§ Âú® more Ëøô‰∏™Á®ãÂ∫èÁöÑËøêË°åËøáÁ®ã‰∏≠Ôºå‰Ω†ÊúâÂá†‰∏™ÊåâÈîÆÂèØ‰ª•ÊåâÁöÑÔºö Á©∫ÁôΩÈîÆ (space)Ôºö‰ª£Ë°®Âêë‰∏ãÁøª‰∏ÄÈ°µÔºõ Enter Ôºö‰ª£Ë°®Âêë‰∏ãÁøª„Äé‰∏ÄË°å„ÄèÔºõ /Â≠ó‰∏≤ Ôºö‰ª£Ë°®Âú®Ëøô‰∏™ÊòæÁ§∫ÁöÑÂÜÖÂÆπÂΩì‰∏≠ÔºåÂêë‰∏ãÊêúÂØª„ÄéÂ≠ó‰∏≤„ÄèËøô‰∏™ÂÖ≥ÈîÆÂ≠óÔºõ :f ÔºöÁ´ãÂàªÊòæÁ§∫Âá∫Ê°£Âêç‰ª•ÂèäÁõÆÂâçÊòæÁ§∫ÁöÑË°åÊï∞Ôºõ q Ôºö‰ª£Ë°®Á´ãÂàªÁ¶ªÂºÄ more Ôºå‰∏çÂÜçÊòæÁ§∫ËØ•Êñá‰ª∂ÂÜÖÂÆπ„ÄÇ b Êàñ [ctrl]-b Ôºö‰ª£Ë°®ÂæÄÂõûÁøªÈ°µÔºå‰∏çËøáËøôÂä®‰ΩúÂè™ÂØπÊñá‰ª∂ÊúâÁî®ÔºåÂØπÁÆ°Á∫øÊó†Áî®„ÄÇ - less ‰∏ÄÈ°µ‰∏ÄÈ°µÁøªÂä®Ôºå‰ª•‰∏ãÂÆû‰æãËæìÂá∫/etc/man.configÊñá‰ª∂ÁöÑÂÜÖÂÆπÔºö [root@www ~]# less /etc/man.config Generated automatically from man.conf.in by the configure script. man.conf from man-1.6d ....(‰∏≠Èó¥ÁúÅÁï•).... &lt;== ËøôÈáåÂèØ‰ª•Á≠âÂæÖ‰Ω†ËæìÂÖ•ÂëΩ‰ª§ÔºÅ lessËøêË°åÊó∂ÂèØ‰ª•ËæìÂÖ•ÁöÑÂëΩ‰ª§ÊúâÔºö Á©∫ÁôΩÈîÆ ÔºöÂêë‰∏ãÁøªÂä®‰∏ÄÈ°µÔºõ [pagedown]ÔºöÂêë‰∏ãÁøªÂä®‰∏ÄÈ°µÔºõ [pageup] ÔºöÂêë‰∏äÁøªÂä®‰∏ÄÈ°µÔºõ /Â≠ó‰∏≤ ÔºöÂêë‰∏ãÊêúÂØª„ÄéÂ≠ó‰∏≤„ÄèÁöÑÂäüËÉΩÔºõ ?Â≠ó‰∏≤ ÔºöÂêë‰∏äÊêúÂØª„ÄéÂ≠ó‰∏≤„ÄèÁöÑÂäüËÉΩÔºõ n ÔºöÈáçÂ§çÂâç‰∏Ä‰∏™ÊêúÂØª (‰∏é / Êàñ ? ÊúâÂÖ≥ÔºÅ) N ÔºöÂèçÂêëÁöÑÈáçÂ§çÂâç‰∏Ä‰∏™ÊêúÂØª (‰∏é / Êàñ ? ÊúâÂÖ≥ÔºÅ) q ÔºöÁ¶ªÂºÄ less Ëøô‰∏™Á®ãÂ∫èÔºõ - head ÂèñÂá∫Êñá‰ª∂ÂâçÈù¢Âá†Ë°å ËØ≠Ê≥ïÔºö head [-n number] Êñá‰ª∂ ÈÄâÈ°π‰∏éÂèÇÊï∞Ôºö -n ÔºöÂêéÈù¢Êé•Êï∞Â≠óÔºå‰ª£Ë°®ÊòæÁ§∫Âá†Ë°åÁöÑÊÑèÊÄù [root@www ~]# head /etc/man.config ÈªòËÆ§ÁöÑÊÉÖÂÜµ‰∏≠ÔºåÊòæÁ§∫ÂâçÈù¢ 10 Ë°åÔºÅËã•Ë¶ÅÊòæÁ§∫Ââç 20 Ë°åÔºåÂ∞±ÂæóË¶ÅËøôÊ†∑Ôºö [root@www ~]# head -n 20 /etc/man.config - tail ÂèñÂá∫Êñá‰ª∂ÂêéÈù¢Âá†Ë°å ËØ≠Ê≥ïÔºö tail [-n number] Êñá‰ª∂ ÈÄâÈ°π‰∏éÂèÇÊï∞Ôºö -n ÔºöÂêéÈù¢Êé•Êï∞Â≠óÔºå‰ª£Ë°®ÊòæÁ§∫Âá†Ë°åÁöÑÊÑèÊÄù -f ÔºöË°®Á§∫ÊåÅÁª≠‰æ¶ÊµãÂêéÈù¢ÊâÄÊé•ÁöÑÊ°£ÂêçÔºåË¶ÅÁ≠âÂà∞Êåâ‰∏ã[ctrl]-cÊâç‰ºöÁªìÊùütailÁöÑ‰æ¶Êµã [root@www ~]# tail /etc/man.config ÈªòËÆ§ÁöÑÊÉÖÂÜµ‰∏≠ÔºåÊòæÁ§∫ÊúÄÂêéÁöÑÂçÅË°åÔºÅËã•Ë¶ÅÊòæÁ§∫ÊúÄÂêéÁöÑ 20 Ë°åÔºåÂ∞±ÂæóË¶ÅËøôÊ†∑Ôºö [root@www ~]# tail -n 20 /etc/man.config Áî®Êà∑ÂíåÁî®Êà∑ÁªÑÁÆ°ÁêÜ LinuxÁ≥ªÁªüÊòØ‰∏Ä‰∏™Â§öÁî®Êà∑Â§ö‰ªªÂä°ÁöÑÂàÜÊó∂Êìç‰ΩúÁ≥ªÁªüÔºå‰ªª‰Ωï‰∏Ä‰∏™Ë¶Å‰ΩøÁî®Á≥ªÁªüËµÑÊ∫êÁöÑÁî®Êà∑ÔºåÈÉΩÂøÖÈ°ªÈ¶ñÂÖàÂêëÁ≥ªÁªüÁÆ°ÁêÜÂëòÁî≥ËØ∑‰∏Ä‰∏™Ë¥¶Âè∑ÔºåÁÑ∂Âêé‰ª•Ëøô‰∏™Ë¥¶Âè∑ÁöÑË∫´‰ªΩËøõÂÖ•Á≥ªÁªü„ÄÇ Áî®Êà∑ÁöÑË¥¶Âè∑‰∏ÄÊñπÈù¢ÂèØ‰ª•Â∏ÆÂä©Á≥ªÁªüÁÆ°ÁêÜÂëòÂØπ‰ΩøÁî®Á≥ªÁªüÁöÑÁî®Êà∑ËøõË°åË∑üË∏™ÔºåÂπ∂ÊéßÂà∂‰ªñ‰ª¨ÂØπÁ≥ªÁªüËµÑÊ∫êÁöÑËÆøÈóÆÔºõÂè¶‰∏ÄÊñπÈù¢‰πüÂèØ‰ª•Â∏ÆÂä©Áî®Êà∑ÁªÑÁªáÊñá‰ª∂ÔºåÂπ∂‰∏∫Áî®Êà∑Êèê‰æõÂÆâÂÖ®ÊÄß‰øùÊä§„ÄÇ ÊØè‰∏™Áî®Êà∑Ë¥¶Âè∑ÈÉΩÊã•Êúâ‰∏Ä‰∏™ÂîØ‰∏ÄÁöÑÁî®Êà∑ÂêçÂíåÂêÑËá™ÁöÑÂè£‰ª§„ÄÇ Áî®Êà∑Âú®ÁôªÂΩïÊó∂ÈîÆÂÖ•Ê≠£Á°ÆÁöÑÁî®Êà∑ÂêçÂíåÂè£‰ª§ÂêéÔºåÂ∞±ËÉΩÂ§üËøõÂÖ•Á≥ªÁªüÂíåËá™Â∑±ÁöÑ‰∏ªÁõÆÂΩï„ÄÇ ÂÆûÁé∞Áî®Êà∑Ë¥¶Âè∑ÁöÑÁÆ°ÁêÜÔºåË¶ÅÂÆåÊàêÁöÑÂ∑•‰Ωú‰∏ªË¶ÅÊúâÂ¶Ç‰∏ãÂá†‰∏™ÊñπÈù¢Ôºö Áî®Êà∑Ë¥¶Âè∑ÁöÑÊ∑ªÂä†„ÄÅÂà†Èô§‰∏é‰øÆÊîπ„ÄÇ Áî®Êà∑Âè£‰ª§ÁöÑÁÆ°ÁêÜ„ÄÇ Áî®Êà∑ÁªÑÁöÑÁÆ°ÁêÜ„ÄÇ ‰∏Ä„ÄÅLinuxÁ≥ªÁªüÁî®Êà∑Ë¥¶Âè∑ÁöÑÁÆ°ÁêÜ Áî®Êà∑Ë¥¶Âè∑ÁöÑÁÆ°ÁêÜÂ∑•‰Ωú‰∏ªË¶ÅÊ∂âÂèäÂà∞Áî®Êà∑Ë¥¶Âè∑ÁöÑÊ∑ªÂä†„ÄÅ‰øÆÊîπÂíåÂà†Èô§„ÄÇ Ê∑ªÂä†Áî®Êà∑Ë¥¶Âè∑Â∞±ÊòØÂú®Á≥ªÁªü‰∏≠ÂàõÂª∫‰∏Ä‰∏™Êñ∞Ë¥¶Âè∑ÔºåÁÑ∂Âêé‰∏∫Êñ∞Ë¥¶Âè∑ÂàÜÈÖçÁî®Êà∑Âè∑„ÄÅÁî®Êà∑ÁªÑ„ÄÅ‰∏ªÁõÆÂΩïÂíåÁôªÂΩïShellÁ≠âËµÑÊ∫ê„ÄÇÂàöÊ∑ªÂä†ÁöÑË¥¶Âè∑ÊòØË¢´ÈîÅÂÆöÁöÑÔºåÊó†Ê≥ï‰ΩøÁî®„ÄÇ 1„ÄÅÊ∑ªÂä†Êñ∞ÁöÑÁî®Êà∑Ë¥¶Âè∑‰ΩøÁî®useraddÂëΩ‰ª§ÔºåÂÖ∂ËØ≠Ê≥ïÂ¶Ç‰∏ãÔºö useradd ÈÄâÈ°π Áî®Êà∑Âêç ÂèÇÊï∞ËØ¥ÊòéÔºö ÈÄâÈ°π: -c comment ÊåáÂÆö‰∏ÄÊÆµÊ≥®ÈáäÊÄßÊèèËø∞„ÄÇ -d ÁõÆÂΩï ÊåáÂÆöÁî®Êà∑‰∏ªÁõÆÂΩïÔºåÂ¶ÇÊûúÊ≠§ÁõÆÂΩï‰∏çÂ≠òÂú®ÔºåÂàôÂêåÊó∂‰ΩøÁî®-mÈÄâÈ°πÔºåÂèØ‰ª•ÂàõÂª∫‰∏ªÁõÆÂΩï„ÄÇ -g Áî®Êà∑ÁªÑ ÊåáÂÆöÁî®Êà∑ÊâÄÂ±ûÁöÑÁî®Êà∑ÁªÑ„ÄÇ -G Áî®Êà∑ÁªÑÔºåÁî®Êà∑ÁªÑ ÊåáÂÆöÁî®Êà∑ÊâÄÂ±ûÁöÑÈôÑÂä†ÁªÑ„ÄÇ -s ShellÊñá‰ª∂ ÊåáÂÆöÁî®Êà∑ÁöÑÁôªÂΩïShell„ÄÇ -u Áî®Êà∑Âè∑ ÊåáÂÆöÁî®Êà∑ÁöÑÁî®Êà∑Âè∑ÔºåÂ¶ÇÊûúÂêåÊó∂Êúâ-oÈÄâÈ°πÔºåÂàôÂèØ‰ª•ÈáçÂ§ç‰ΩøÁî®ÂÖ∂‰ªñÁî®Êà∑ÁöÑÊ†áËØÜÂè∑„ÄÇ Áî®Êà∑Âêç: ÊåáÂÆöÊñ∞Ë¥¶Âè∑ÁöÑÁôªÂΩïÂêç„ÄÇ ÂÆû‰æã1 useradd ‚Äìd /home/sam -m sam Ê≠§ÂëΩ‰ª§ÂàõÂª∫‰∫Ü‰∏Ä‰∏™Áî®Êà∑samÔºåÂÖ∂‰∏≠-dÂíå-mÈÄâÈ°πÁî®Êù•‰∏∫ÁôªÂΩïÂêçsam‰∫ßÁîü‰∏Ä‰∏™‰∏ªÁõÆÂΩï /home/samÔºà/home‰∏∫ÈªòËÆ§ÁöÑÁî®Êà∑‰∏ªÁõÆÂΩïÊâÄÂú®ÁöÑÁà∂ÁõÆÂΩïÔºâ„ÄÇ ÂÆû‰æã2 useradd -s /bin/sh -g group ‚ÄìG adm,root gem Ê≠§ÂëΩ‰ª§Êñ∞Âª∫‰∫Ü‰∏Ä‰∏™Áî®Êà∑gemÔºåËØ•Áî®Êà∑ÁöÑÁôªÂΩïShellÊòØ /bin/shÔºåÂÆÉÂ±û‰∫égroupÁî®Êà∑ÁªÑÔºåÂêåÊó∂ÂèàÂ±û‰∫éadmÂíårootÁî®Êà∑ÁªÑÔºåÂÖ∂‰∏≠groupÁî®Êà∑ÁªÑÊòØÂÖ∂‰∏ªÁªÑ„ÄÇ ËøôÈáåÂèØËÉΩÊñ∞Âª∫ÁªÑÔºö#groupadd groupÂèägroupadd adm Â¢ûÂä†Áî®Êà∑Ë¥¶Âè∑Â∞±ÊòØÂú®/etc/passwdÊñá‰ª∂‰∏≠‰∏∫Êñ∞Áî®Êà∑Â¢ûÂä†‰∏ÄÊù°ËÆ∞ÂΩïÔºåÂêåÊó∂Êõ¥Êñ∞ÂÖ∂‰ªñÁ≥ªÁªüÊñá‰ª∂Â¶Ç/etc/shadow, /etc/groupÁ≠â„ÄÇ LinuxÊèê‰æõ‰∫ÜÈõÜÊàêÁöÑÁ≥ªÁªüÁÆ°ÁêÜÂ∑•ÂÖ∑userconfÔºåÂÆÉÂèØ‰ª•Áî®Êù•ÂØπÁî®Êà∑Ë¥¶Âè∑ËøõË°åÁªü‰∏ÄÁÆ°ÁêÜ„ÄÇ 2„ÄÅÂà†Èô§Â∏êÂè∑ Â¶ÇÊûú‰∏Ä‰∏™Áî®Êà∑ÁöÑË¥¶Âè∑‰∏çÂÜç‰ΩøÁî®ÔºåÂèØ‰ª•‰ªéÁ≥ªÁªü‰∏≠Âà†Èô§„ÄÇÂà†Èô§Áî®Êà∑Ë¥¶Âè∑Â∞±ÊòØË¶ÅÂ∞Ü/etc/passwdÁ≠âÁ≥ªÁªüÊñá‰ª∂‰∏≠ÁöÑËØ•Áî®Êà∑ËÆ∞ÂΩïÂà†Èô§ÔºåÂøÖË¶ÅÊó∂ËøòÂà†Èô§Áî®Êà∑ÁöÑ‰∏ªÁõÆÂΩï„ÄÇ Âà†Èô§‰∏Ä‰∏™Â∑≤ÊúâÁöÑÁî®Êà∑Ë¥¶Âè∑‰ΩøÁî®userdelÂëΩ‰ª§ÔºåÂÖ∂Ê†ºÂºèÂ¶Ç‰∏ãÔºö userdel ÈÄâÈ°π Áî®Êà∑Âêç Â∏∏Áî®ÁöÑÈÄâÈ°πÊòØ -rÔºåÂÆÉÁöÑ‰ΩúÁî®ÊòØÊääÁî®Êà∑ÁöÑ‰∏ªÁõÆÂΩï‰∏ÄËµ∑Âà†Èô§„ÄÇ ‰æãÂ¶ÇÔºö userdel -r sam Ê≠§ÂëΩ‰ª§Âà†Èô§Áî®Êà∑samÂú®Á≥ªÁªüÊñá‰ª∂‰∏≠Ôºà‰∏ªË¶ÅÊòØ/etc/passwd, /etc/shadow, /etc/groupÁ≠âÔºâÁöÑËÆ∞ÂΩïÔºåÂêåÊó∂Âà†Èô§Áî®Êà∑ÁöÑ‰∏ªÁõÆÂΩï„ÄÇ 3„ÄÅ‰øÆÊîπÂ∏êÂè∑ ‰øÆÊîπÁî®Êà∑Ë¥¶Âè∑Â∞±ÊòØÊ†πÊçÆÂÆûÈôÖÊÉÖÂÜµÊõ¥ÊîπÁî®Êà∑ÁöÑÊúâÂÖ≥Â±ûÊÄßÔºåÂ¶ÇÁî®Êà∑Âè∑„ÄÅ‰∏ªÁõÆÂΩï„ÄÅÁî®Êà∑ÁªÑ„ÄÅÁôªÂΩïShellÁ≠â„ÄÇ ‰øÆÊîπÂ∑≤ÊúâÁî®Êà∑ÁöÑ‰ø°ÊÅØ‰ΩøÁî®usermodÂëΩ‰ª§ÔºåÂÖ∂Ê†ºÂºèÂ¶Ç‰∏ãÔºö usermod ÈÄâÈ°π Áî®Êà∑Âêç Â∏∏Áî®ÁöÑÈÄâÈ°πÂåÖÊã¨-c, -d, -m, -g, -G, -s, -u‰ª•Âèä-oÁ≠âÔºåËøô‰∫õÈÄâÈ°πÁöÑÊÑè‰πâ‰∏éuseraddÂëΩ‰ª§‰∏≠ÁöÑÈÄâÈ°π‰∏ÄÊ†∑ÔºåÂèØ‰ª•‰∏∫Áî®Êà∑ÊåáÂÆöÊñ∞ÁöÑËµÑÊ∫êÂÄº„ÄÇ Âè¶Â§ñÔºåÊúâ‰∫õÁ≥ªÁªüÂèØ‰ª•‰ΩøÁî®ÈÄâÈ°πÔºö-l Êñ∞Áî®Êà∑Âêç Ëøô‰∏™ÈÄâÈ°πÊåáÂÆö‰∏Ä‰∏™Êñ∞ÁöÑË¥¶Âè∑ÔºåÂç≥Â∞ÜÂéüÊù•ÁöÑÁî®Êà∑ÂêçÊîπ‰∏∫Êñ∞ÁöÑÁî®Êà∑Âêç„ÄÇ ‰æãÂ¶ÇÔºö usermod -s /bin/ksh -d /home/z ‚Äìg developer sam Ê≠§ÂëΩ‰ª§Â∞ÜÁî®Êà∑samÁöÑÁôªÂΩïShell‰øÆÊîπ‰∏∫kshÔºå‰∏ªÁõÆÂΩïÊîπ‰∏∫/home/zÔºåÁî®Êà∑ÁªÑÊîπ‰∏∫developer„ÄÇ 4„ÄÅÁî®Êà∑Âè£‰ª§ÁöÑÁÆ°ÁêÜ Áî®Êà∑ÁÆ°ÁêÜÁöÑ‰∏ÄÈ°πÈáçË¶ÅÂÜÖÂÆπÊòØÁî®Êà∑Âè£‰ª§ÁöÑÁÆ°ÁêÜ„ÄÇÁî®Êà∑Ë¥¶Âè∑ÂàöÂàõÂª∫Êó∂Ê≤°ÊúâÂè£‰ª§Ôºå‰ΩÜÊòØË¢´Á≥ªÁªüÈîÅÂÆöÔºåÊó†Ê≥ï‰ΩøÁî®ÔºåÂøÖÈ°ª‰∏∫ÂÖ∂ÊåáÂÆöÂè£‰ª§ÂêéÊâçÂèØ‰ª•‰ΩøÁî®ÔºåÂç≥‰ΩøÊòØÊåáÂÆöÁ©∫Âè£‰ª§„ÄÇ ÊåáÂÆöÂíå‰øÆÊîπÁî®Êà∑Âè£‰ª§ÁöÑShellÂëΩ‰ª§ÊòØpasswd„ÄÇË∂ÖÁ∫ßÁî®Êà∑ÂèØ‰ª•‰∏∫Ëá™Â∑±ÂíåÂÖ∂‰ªñÁî®Êà∑ÊåáÂÆöÂè£‰ª§ÔºåÊôÆÈÄöÁî®Êà∑Âè™ËÉΩÁî®ÂÆÉ‰øÆÊîπËá™Â∑±ÁöÑÂè£‰ª§„ÄÇÂëΩ‰ª§ÁöÑÊ†ºÂºè‰∏∫Ôºö passwd ÈÄâÈ°π Áî®Êà∑Âêç ÂèØ‰ΩøÁî®ÁöÑÈÄâÈ°πÔºö -l ÈîÅÂÆöÂè£‰ª§ÔºåÂç≥Á¶ÅÁî®Ë¥¶Âè∑„ÄÇ -u Âè£‰ª§Ëß£ÈîÅ„ÄÇ -d ‰ΩøË¥¶Âè∑Êó†Âè£‰ª§„ÄÇ -f Âº∫Ëø´Áî®Êà∑‰∏ãÊ¨°ÁôªÂΩïÊó∂‰øÆÊîπÂè£‰ª§„ÄÇ Â¶ÇÊûúÈªòËÆ§Áî®Êà∑ÂêçÔºåÂàô‰øÆÊîπÂΩìÂâçÁî®Êà∑ÁöÑÂè£‰ª§„ÄÇ ‰æãÂ¶ÇÔºåÂÅáËÆæÂΩìÂâçÁî®Êà∑ÊòØsamÔºåÂàô‰∏ãÈù¢ÁöÑÂëΩ‰ª§‰øÆÊîπËØ•Áî®Êà∑Ëá™Â∑±ÁöÑÂè£‰ª§Ôºö $ passwd Old password:****** New password:******* Re-enter new password:******* Â¶ÇÊûúÊòØË∂ÖÁ∫ßÁî®Êà∑ÔºåÂèØ‰ª•Áî®‰∏ãÂàóÂΩ¢ÂºèÊåáÂÆö‰ªª‰ΩïÁî®Êà∑ÁöÑÂè£‰ª§Ôºö passwd sam New password:******* Re-enter new password:******* ÊôÆÈÄöÁî®Êà∑‰øÆÊîπËá™Â∑±ÁöÑÂè£‰ª§Êó∂ÔºåpasswdÂëΩ‰ª§‰ºöÂÖàËØ¢ÈóÆÂéüÂè£‰ª§ÔºåÈ™åËØÅÂêéÂÜçË¶ÅÊ±ÇÁî®Êà∑ËæìÂÖ•‰∏§ÈÅçÊñ∞Âè£‰ª§ÔºåÂ¶ÇÊûú‰∏§Ê¨°ËæìÂÖ•ÁöÑÂè£‰ª§‰∏ÄËá¥ÔºåÂàôÂ∞ÜËøô‰∏™Âè£‰ª§ÊåáÂÆöÁªôÁî®Êà∑ÔºõËÄåË∂ÖÁ∫ßÁî®Êà∑‰∏∫Áî®Êà∑ÊåáÂÆöÂè£‰ª§Êó∂ÔºåÂ∞±‰∏çÈúÄË¶ÅÁü•ÈÅìÂéüÂè£‰ª§„ÄÇ ‰∏∫‰∫ÜÁ≥ªÁªüÂÆâÂÖ®Ëµ∑ËßÅÔºåÁî®Êà∑Â∫îËØ•ÈÄâÊã©ÊØîËæÉÂ§çÊùÇÁöÑÂè£‰ª§Ôºå‰æãÂ¶ÇÊúÄÂ•Ω‰ΩøÁî®8‰ΩçÈïøÁöÑÂè£‰ª§ÔºåÂè£‰ª§‰∏≠ÂåÖÂê´ÊúâÂ§ßÂÜô„ÄÅÂ∞èÂÜôÂ≠óÊØçÂíåÊï∞Â≠óÔºåÂπ∂‰∏îÂ∫îËØ•‰∏éÂßìÂêç„ÄÅÁîüÊó•Á≠â‰∏çÁõ∏Âêå„ÄÇ ‰∏∫Áî®Êà∑ÊåáÂÆöÁ©∫Âè£‰ª§Êó∂ÔºåÊâßË°å‰∏ãÂàóÂΩ¢ÂºèÁöÑÂëΩ‰ª§Ôºö passwd -d sam Ê≠§ÂëΩ‰ª§Â∞ÜÁî®Êà∑ sam ÁöÑÂè£‰ª§Âà†Èô§ÔºåËøôÊ†∑Áî®Êà∑ sam ‰∏ã‰∏ÄÊ¨°ÁôªÂΩïÊó∂ÔºåÁ≥ªÁªüÂ∞±‰∏çÂÜçÂÖÅËÆ∏ËØ•Áî®Êà∑ÁôªÂΩï‰∫Ü„ÄÇ passwd ÂëΩ‰ª§ËøòÂèØ‰ª•Áî® -l(lock) ÈÄâÈ°πÈîÅÂÆöÊüê‰∏ÄÁî®Êà∑Ôºå‰ΩøÂÖ∂‰∏çËÉΩÁôªÂΩïÔºå‰æãÂ¶ÇÔºö passwd -l sam ‰∫å„ÄÅLinuxÁ≥ªÁªüÁî®Êà∑ÁªÑÁöÑÁÆ°ÁêÜ ÊØè‰∏™Áî®Êà∑ÈÉΩÊúâ‰∏Ä‰∏™Áî®Êà∑ÁªÑÔºåÁ≥ªÁªüÂèØ‰ª•ÂØπ‰∏Ä‰∏™Áî®Êà∑ÁªÑ‰∏≠ÁöÑÊâÄÊúâÁî®Êà∑ËøõË°åÈõÜ‰∏≠ÁÆ°ÁêÜ„ÄÇ‰∏çÂêåLinux Á≥ªÁªüÂØπÁî®Êà∑ÁªÑÁöÑËßÑÂÆöÊúâÊâÄ‰∏çÂêåÔºåÂ¶ÇLinux‰∏ãÁöÑÁî®Êà∑Â±û‰∫é‰∏éÂÆÉÂêåÂêçÁöÑÁî®Êà∑ÁªÑÔºåËøô‰∏™Áî®Êà∑ÁªÑÂú®ÂàõÂª∫Áî®Êà∑Êó∂ÂêåÊó∂ÂàõÂª∫„ÄÇ Áî®Êà∑ÁªÑÁöÑÁÆ°ÁêÜÊ∂âÂèäÁî®Êà∑ÁªÑÁöÑÊ∑ªÂä†„ÄÅÂà†Èô§Âíå‰øÆÊîπ„ÄÇÁªÑÁöÑÂ¢ûÂä†„ÄÅÂà†Èô§Âíå‰øÆÊîπÂÆûÈôÖ‰∏äÂ∞±ÊòØÂØπ/etc/groupÊñá‰ª∂ÁöÑÊõ¥Êñ∞„ÄÇ 1„ÄÅÂ¢ûÂä†‰∏Ä‰∏™Êñ∞ÁöÑÁî®Êà∑ÁªÑ‰ΩøÁî®groupaddÂëΩ‰ª§„ÄÇÂÖ∂Ê†ºÂºèÂ¶Ç‰∏ãÔºö groupadd ÈÄâÈ°π Áî®Êà∑ÁªÑ ÂèØ‰ª•‰ΩøÁî®ÁöÑÈÄâÈ°πÊúâÔºö -g GID ÊåáÂÆöÊñ∞Áî®Êà∑ÁªÑÁöÑÁªÑÊ†áËØÜÂè∑ÔºàGIDÔºâ„ÄÇ -o ‰∏ÄËà¨‰∏é-gÈÄâÈ°πÂêåÊó∂‰ΩøÁî®ÔºåË°®Á§∫Êñ∞Áî®Êà∑ÁªÑÁöÑGIDÂèØ‰ª•‰∏éÁ≥ªÁªüÂ∑≤ÊúâÁî®Êà∑ÁªÑÁöÑGIDÁõ∏Âêå„ÄÇ ÂÆû‰æã1Ôºö groupadd group1 Ê≠§ÂëΩ‰ª§ÂêëÁ≥ªÁªü‰∏≠Â¢ûÂä†‰∫Ü‰∏Ä‰∏™Êñ∞ÁªÑgroup1ÔºåÊñ∞ÁªÑÁöÑÁªÑÊ†áËØÜÂè∑ÊòØÂú®ÂΩìÂâçÂ∑≤ÊúâÁöÑÊúÄÂ§ßÁªÑÊ†áËØÜÂè∑ÁöÑÂü∫Á°Ä‰∏äÂä†1„ÄÇ ÂÆû‰æã2Ôºö groupadd -g 101 group2 Ê≠§ÂëΩ‰ª§ÂêëÁ≥ªÁªü‰∏≠Â¢ûÂä†‰∫Ü‰∏Ä‰∏™Êñ∞ÁªÑgroup2ÔºåÂêåÊó∂ÊåáÂÆöÊñ∞ÁªÑÁöÑÁªÑÊ†áËØÜÂè∑ÊòØ101„ÄÇ 2„ÄÅÂ¶ÇÊûúË¶ÅÂà†Èô§‰∏Ä‰∏™Â∑≤ÊúâÁöÑÁî®Êà∑ÁªÑÔºå‰ΩøÁî®groupdelÂëΩ‰ª§ÔºåÂÖ∂Ê†ºÂºèÂ¶Ç‰∏ãÔºö groupdel Áî®Êà∑ÁªÑ ‰æãÂ¶ÇÔºö groupdel group1 Ê≠§ÂëΩ‰ª§‰ªéÁ≥ªÁªü‰∏≠Âà†Èô§ÁªÑgroup1„ÄÇ 3„ÄÅ‰øÆÊîπÁî®Êà∑ÁªÑÁöÑÂ±ûÊÄß‰ΩøÁî®groupmodÂëΩ‰ª§„ÄÇÂÖ∂ËØ≠Ê≥ïÂ¶Ç‰∏ãÔºö groupmod ÈÄâÈ°π Áî®Êà∑ÁªÑ Â∏∏Áî®ÁöÑÈÄâÈ°πÊúâÔºö -g GID ‰∏∫Áî®Êà∑ÁªÑÊåáÂÆöÊñ∞ÁöÑÁªÑÊ†áËØÜÂè∑„ÄÇ -o ‰∏é-gÈÄâÈ°πÂêåÊó∂‰ΩøÁî®ÔºåÁî®Êà∑ÁªÑÁöÑÊñ∞GIDÂèØ‰ª•‰∏éÁ≥ªÁªüÂ∑≤ÊúâÁî®Êà∑ÁªÑÁöÑGIDÁõ∏Âêå„ÄÇ -nÊñ∞Áî®Êà∑ÁªÑ Â∞ÜÁî®Êà∑ÁªÑÁöÑÂêçÂ≠óÊîπ‰∏∫Êñ∞ÂêçÂ≠ó ÂÆû‰æã1Ôºö groupmod -g 102 group2 Ê≠§ÂëΩ‰ª§Â∞ÜÁªÑgroup2ÁöÑÁªÑÊ†áËØÜÂè∑‰øÆÊîπ‰∏∫102„ÄÇ ÂÆû‰æã2Ôºö groupmod ‚Äìg 10000 -n group3 group2 Ê≠§ÂëΩ‰ª§Â∞ÜÁªÑgroup2ÁöÑÊ†áËØÜÂè∑Êîπ‰∏∫10000ÔºåÁªÑÂêç‰øÆÊîπ‰∏∫group3„ÄÇ 4„ÄÅÂ¶ÇÊûú‰∏Ä‰∏™Áî®Êà∑ÂêåÊó∂Â±û‰∫éÂ§ö‰∏™Áî®Êà∑ÁªÑÔºåÈÇ£‰πàÁî®Êà∑ÂèØ‰ª•Âú®Áî®Êà∑ÁªÑ‰πãÈó¥ÂàáÊç¢Ôºå‰ª•‰æøÂÖ∑ÊúâÂÖ∂‰ªñÁî®Êà∑ÁªÑÁöÑÊùÉÈôê„ÄÇ Áî®Êà∑ÂèØ‰ª•Âú®ÁôªÂΩïÂêéÔºå‰ΩøÁî®ÂëΩ‰ª§newgrpÂàáÊç¢Âà∞ÂÖ∂‰ªñÁî®Êà∑ÁªÑÔºåËøô‰∏™ÂëΩ‰ª§ÁöÑÂèÇÊï∞Â∞±ÊòØÁõÆÁöÑÁî®Êà∑ÁªÑ„ÄÇ‰æãÂ¶ÇÔºö $ newgrp root ËøôÊù°ÂëΩ‰ª§Â∞ÜÂΩìÂâçÁî®Êà∑ÂàáÊç¢Âà∞rootÁî®Êà∑ÁªÑÔºåÂâçÊèêÊù°‰ª∂ÊòØrootÁî®Êà∑ÁªÑÁ°ÆÂÆûÊòØËØ•Áî®Êà∑ÁöÑ‰∏ªÁªÑÊàñÈôÑÂä†ÁªÑ„ÄÇÁ±ª‰ºº‰∫éÁî®Êà∑Ë¥¶Âè∑ÁöÑÁÆ°ÁêÜÔºåÁî®Êà∑ÁªÑÁöÑÁÆ°ÁêÜ‰πüÂèØ‰ª•ÈÄöËøáÈõÜÊàêÁöÑÁ≥ªÁªüÁÆ°ÁêÜÂ∑•ÂÖ∑Êù•ÂÆåÊàê„ÄÇ ‰∏â„ÄÅ‰∏éÁî®Êà∑Ë¥¶Âè∑ÊúâÂÖ≥ÁöÑÁ≥ªÁªüÊñá‰ª∂ ÂÆåÊàêÁî®Êà∑ÁÆ°ÁêÜÁöÑÂ∑•‰ΩúÊúâËÆ∏Â§öÁßçÊñπÊ≥ïÔºå‰ΩÜÊòØÊØè‰∏ÄÁßçÊñπÊ≥ïÂÆûÈôÖ‰∏äÈÉΩÊòØÂØπÊúâÂÖ≥ÁöÑÁ≥ªÁªüÊñá‰ª∂ËøõË°å‰øÆÊîπ„ÄÇ ‰∏éÁî®Êà∑ÂíåÁî®Êà∑ÁªÑÁõ∏ÂÖ≥ÁöÑ‰ø°ÊÅØÈÉΩÂ≠òÊîæÂú®‰∏Ä‰∫õÁ≥ªÁªüÊñá‰ª∂‰∏≠ÔºåËøô‰∫õÊñá‰ª∂ÂåÖÊã¨/etc/passwd, /etc/shadow, /etc/groupÁ≠â„ÄÇ ‰∏ãÈù¢ÂàÜÂà´‰ªãÁªçËøô‰∫õÊñá‰ª∂ÁöÑÂÜÖÂÆπ„ÄÇ 1„ÄÅ/etc/passwdÊñá‰ª∂ÊòØÁî®Êà∑ÁÆ°ÁêÜÂ∑•‰ΩúÊ∂âÂèäÁöÑÊúÄÈáçË¶ÅÁöÑ‰∏Ä‰∏™Êñá‰ª∂„ÄÇ LinuxÁ≥ªÁªü‰∏≠ÁöÑÊØè‰∏™Áî®Êà∑ÈÉΩÂú®/etc/passwdÊñá‰ª∂‰∏≠Êúâ‰∏Ä‰∏™ÂØπÂ∫îÁöÑËÆ∞ÂΩïË°åÔºåÂÆÉËÆ∞ÂΩï‰∫ÜËøô‰∏™Áî®Êà∑ÁöÑ‰∏Ä‰∫õÂü∫Êú¨Â±ûÊÄß„ÄÇ Ëøô‰∏™Êñá‰ª∂ÂØπÊâÄÊúâÁî®Êà∑ÈÉΩÊòØÂèØËØªÁöÑ„ÄÇÂÆÉÁöÑÂÜÖÂÆπÁ±ª‰ºº‰∏ãÈù¢ÁöÑ‰æãÂ≠êÔºö ÔºÉ cat /etc/passwd root‚ùå0:0:Superuser:/: daemon‚ùå1:1:System daemons:/etc: bin‚ùå2:2:Owner of system commands:/bin: sys‚ùå3:3:Owner of system files:/usr/sys: adm‚ùå4:4:System accounting:/usr/adm: uucp‚ùå5:5:UUCP administrator:/usr/lib/uucp: auth‚ùå7:21:Authentication administrator:/tcb/files/auth: cron‚ùå9:16:Cron daemon:/usr/spool/cron: listen‚ùå37:4:Network daemon:/usr/net/nls: lp‚ùå71:18:Printer administrator:/usr/spool/lp: sam‚ùå200:50:Sam san:/home/sam:/bin/sh ‰ªé‰∏äÈù¢ÁöÑ‰æãÂ≠êÊàë‰ª¨ÂèØ‰ª•ÁúãÂà∞Ôºå/etc/passwd‰∏≠‰∏ÄË°åËÆ∞ÂΩïÂØπÂ∫îÁùÄ‰∏Ä‰∏™Áî®Êà∑ÔºåÊØèË°åËÆ∞ÂΩïÂèàË¢´ÂÜíÂè∑(:)ÂàÜÈöî‰∏∫7‰∏™Â≠óÊÆµÔºåÂÖ∂Ê†ºÂºèÂíåÂÖ∑‰ΩìÂê´‰πâÂ¶Ç‰∏ãÔºö Áî®Êà∑Âêç:Âè£‰ª§:Áî®Êà∑Ê†áËØÜÂè∑:ÁªÑÊ†áËØÜÂè∑:Ê≥®ÈáäÊÄßÊèèËø∞:‰∏ªÁõÆÂΩï:ÁôªÂΩïShell 1Ôºâ&quot;Áî®Êà∑Âêç&quot;ÊòØ‰ª£Ë°®Áî®Êà∑Ë¥¶Âè∑ÁöÑÂ≠óÁ¨¶‰∏≤„ÄÇ ÈÄöÂ∏∏ÈïøÂ∫¶‰∏çË∂ÖËøá8‰∏™Â≠óÁ¨¶ÔºåÂπ∂‰∏îÁî±Â§ßÂ∞èÂÜôÂ≠óÊØçÂíå/ÊàñÊï∞Â≠óÁªÑÊàê„ÄÇÁôªÂΩïÂêç‰∏≠‰∏çËÉΩÊúâÂÜíÂè∑(üòÉÔºåÂõ†‰∏∫ÂÜíÂè∑Âú®ËøôÈáåÊòØÂàÜÈöîÁ¨¶„ÄÇ ‰∏∫‰∫ÜÂÖºÂÆπËµ∑ËßÅÔºåÁôªÂΩïÂêç‰∏≠ÊúÄÂ•Ω‰∏çË¶ÅÂåÖÂê´ÁÇπÂ≠óÁ¨¶(.)ÔºåÂπ∂‰∏î‰∏ç‰ΩøÁî®ËøûÂ≠óÁ¨¶(-)ÂíåÂä†Âè∑(+)ÊâìÂ§¥„ÄÇ 2Ôºâ‚ÄúÂè£‰ª§‚Äù‰∏Ä‰∫õÁ≥ªÁªü‰∏≠ÔºåÂ≠òÊîæÁùÄÂä†ÂØÜÂêéÁöÑÁî®Êà∑Âè£‰ª§Â≠ó„ÄÇ ËôΩÁÑ∂Ëøô‰∏™Â≠óÊÆµÂ≠òÊîæÁöÑÂè™ÊòØÁî®Êà∑Âè£‰ª§ÁöÑÂä†ÂØÜ‰∏≤Ôºå‰∏çÊòØÊòéÊñáÔºå‰ΩÜÊòØÁî±‰∫é/etc/passwdÊñá‰ª∂ÂØπÊâÄÊúâÁî®Êà∑ÈÉΩÂèØËØªÔºåÊâÄ‰ª•Ëøô‰ªçÊòØ‰∏Ä‰∏™ÂÆâÂÖ®ÈöêÊÇ£„ÄÇÂõ†Ê≠§ÔºåÁé∞Âú®ËÆ∏Â§öLinux Á≥ªÁªüÔºàÂ¶ÇSVR4ÔºâÈÉΩ‰ΩøÁî®‰∫ÜshadowÊäÄÊúØÔºåÊääÁúüÊ≠£ÁöÑÂä†ÂØÜÂêéÁöÑÁî®Êà∑Âè£‰ª§Â≠óÂ≠òÊîæÂà∞/etc/shadowÊñá‰ª∂‰∏≠ÔºåËÄåÂú®/etc/passwdÊñá‰ª∂ÁöÑÂè£‰ª§Â≠óÊÆµ‰∏≠Âè™Â≠òÊîæ‰∏Ä‰∏™ÁâπÊÆäÁöÑÂ≠óÁ¨¶Ôºå‰æãÂ¶Ç‚Äúx‚ÄùÊàñËÄÖ‚Äú*‚Äù„ÄÇ 3Ôºâ‚ÄúÁî®Êà∑Ê†áËØÜÂè∑‚ÄùÊòØ‰∏Ä‰∏™Êï¥Êï∞ÔºåÁ≥ªÁªüÂÜÖÈÉ®Áî®ÂÆÉÊù•Ê†áËØÜÁî®Êà∑„ÄÇ ‰∏ÄËà¨ÊÉÖÂÜµ‰∏ãÂÆÉ‰∏éÁî®Êà∑ÂêçÊòØ‰∏Ä‰∏ÄÂØπÂ∫îÁöÑ„ÄÇÂ¶ÇÊûúÂá†‰∏™Áî®Êà∑ÂêçÂØπÂ∫îÁöÑÁî®Êà∑Ê†áËØÜÂè∑ÊòØ‰∏ÄÊ†∑ÁöÑÔºåÁ≥ªÁªüÂÜÖÈÉ®Â∞ÜÊääÂÆÉ‰ª¨ËßÜ‰∏∫Âêå‰∏Ä‰∏™Áî®Êà∑Ôºå‰ΩÜÊòØÂÆÉ‰ª¨ÂèØ‰ª•Êúâ‰∏çÂêåÁöÑÂè£‰ª§„ÄÅ‰∏çÂêåÁöÑ‰∏ªÁõÆÂΩï‰ª•Âèä‰∏çÂêåÁöÑÁôªÂΩïShellÁ≠â„ÄÇ ÈÄöÂ∏∏Áî®Êà∑Ê†áËØÜÂè∑ÁöÑÂèñÂÄºËåÉÂõ¥ÊòØ0ÔΩû65 535„ÄÇ0ÊòØË∂ÖÁ∫ßÁî®Êà∑rootÁöÑÊ†áËØÜÂè∑Ôºå1ÔΩû99Áî±Á≥ªÁªü‰øùÁïôÔºå‰Ωú‰∏∫ÁÆ°ÁêÜË¥¶Âè∑ÔºåÊôÆÈÄöÁî®Êà∑ÁöÑÊ†áËØÜÂè∑‰ªé100ÂºÄÂßã„ÄÇÂú®LinuxÁ≥ªÁªü‰∏≠ÔºåËøô‰∏™ÁïåÈôêÊòØ500„ÄÇ 4Ôºâ‚ÄúÁªÑÊ†áËØÜÂè∑‚ÄùÂ≠óÊÆµËÆ∞ÂΩïÁöÑÊòØÁî®Êà∑ÊâÄÂ±ûÁöÑÁî®Êà∑ÁªÑ„ÄÇ ÂÆÉÂØπÂ∫îÁùÄ/etc/groupÊñá‰ª∂‰∏≠ÁöÑ‰∏ÄÊù°ËÆ∞ÂΩï„ÄÇ 5)‚ÄúÊ≥®ÈáäÊÄßÊèèËø∞‚ÄùÂ≠óÊÆµËÆ∞ÂΩïÁùÄÁî®Êà∑ÁöÑ‰∏Ä‰∫õ‰∏™‰∫∫ÊÉÖÂÜµ„ÄÇ ‰æãÂ¶ÇÁî®Êà∑ÁöÑÁúüÂÆûÂßìÂêç„ÄÅÁîµËØù„ÄÅÂú∞ÂùÄÁ≠âÔºåËøô‰∏™Â≠óÊÆµÂπ∂Ê≤°Êúâ‰ªÄ‰πàÂÆûÈôÖÁöÑÁî®ÈÄî„ÄÇÂú®‰∏çÂêåÁöÑLinux Á≥ªÁªü‰∏≠ÔºåËøô‰∏™Â≠óÊÆµÁöÑÊ†ºÂºèÂπ∂Ê≤°ÊúâÁªü‰∏Ä„ÄÇÂú®ËÆ∏Â§öLinuxÁ≥ªÁªü‰∏≠ÔºåËøô‰∏™Â≠óÊÆµÂ≠òÊîæÁöÑÊòØ‰∏ÄÊÆµ‰ªªÊÑèÁöÑÊ≥®ÈáäÊÄßÊèèËø∞ÊñáÂ≠óÔºåÁî®ÂÅöfingerÂëΩ‰ª§ÁöÑËæìÂá∫„ÄÇ 6)‚Äú‰∏ªÁõÆÂΩï‚ÄùÔºå‰πüÂ∞±ÊòØÁî®Êà∑ÁöÑËµ∑ÂßãÂ∑•‰ΩúÁõÆÂΩï„ÄÇ ÂÆÉÊòØÁî®Êà∑Âú®ÁôªÂΩïÂà∞Á≥ªÁªü‰πãÂêéÊâÄÂ§ÑÁöÑÁõÆÂΩï„ÄÇÂú®Â§ßÂ§öÊï∞Á≥ªÁªü‰∏≠ÔºåÂêÑÁî®Êà∑ÁöÑ‰∏ªÁõÆÂΩïÈÉΩË¢´ÁªÑÁªáÂú®Âêå‰∏Ä‰∏™ÁâπÂÆöÁöÑÁõÆÂΩï‰∏ãÔºåËÄåÁî®Êà∑‰∏ªÁõÆÂΩïÁöÑÂêçÁß∞Â∞±ÊòØËØ•Áî®Êà∑ÁöÑÁôªÂΩïÂêç„ÄÇÂêÑÁî®Êà∑ÂØπËá™Â∑±ÁöÑ‰∏ªÁõÆÂΩïÊúâËØª„ÄÅÂÜô„ÄÅÊâßË°åÔºàÊêúÁ¥¢ÔºâÊùÉÈôêÔºåÂÖ∂‰ªñÁî®Êà∑ÂØπÊ≠§ÁõÆÂΩïÁöÑËÆøÈóÆÊùÉÈôêÂàôÊ†πÊçÆÂÖ∑‰ΩìÊÉÖÂÜµËÆæÁΩÆ„ÄÇ 7)Áî®Êà∑ÁôªÂΩïÂêéÔºåË¶ÅÂêØÂä®‰∏Ä‰∏™ËøõÁ®ãÔºåË¥üË¥£Â∞ÜÁî®Êà∑ÁöÑÊìç‰Ωú‰º†ÁªôÂÜÖÊ†∏ÔºåËøô‰∏™ËøõÁ®ãÊòØÁî®Êà∑ÁôªÂΩïÂà∞Á≥ªÁªüÂêéËøêË°åÁöÑÂëΩ‰ª§Ëß£ÈáäÂô®ÊàñÊüê‰∏™ÁâπÂÆöÁöÑÁ®ãÂ∫èÔºåÂç≥Shell„ÄÇ ShellÊòØÁî®Êà∑‰∏éLinuxÁ≥ªÁªü‰πãÈó¥ÁöÑÊé•Âè£„ÄÇLinuxÁöÑShellÊúâËÆ∏Â§öÁßçÔºåÊØèÁßçÈÉΩÊúâ‰∏çÂêåÁöÑÁâπÁÇπ„ÄÇÂ∏∏Áî®ÁöÑÊúâsh(Bourne Shell), csh(C Shell), ksh(Korn Shell), tcsh(TENEX/TOPS-20 type C Shell), bash(Bourne Again Shell)Á≠â„ÄÇ Á≥ªÁªüÁÆ°ÁêÜÂëòÂèØ‰ª•Ê†πÊçÆÁ≥ªÁªüÊÉÖÂÜµÂíåÁî®Êà∑‰π†ÊÉØ‰∏∫Áî®Êà∑ÊåáÂÆöÊüê‰∏™Shell„ÄÇÂ¶ÇÊûú‰∏çÊåáÂÆöShellÔºåÈÇ£‰πàÁ≥ªÁªü‰ΩøÁî®sh‰∏∫ÈªòËÆ§ÁöÑÁôªÂΩïShellÔºåÂç≥Ëøô‰∏™Â≠óÊÆµÁöÑÂÄº‰∏∫/bin/sh„ÄÇ Áî®Êà∑ÁöÑÁôªÂΩïShell‰πüÂèØ‰ª•ÊåáÂÆö‰∏∫Êüê‰∏™ÁâπÂÆöÁöÑÁ®ãÂ∫èÔºàÊ≠§Á®ãÂ∫è‰∏çÊòØ‰∏Ä‰∏™ÂëΩ‰ª§Ëß£ÈáäÂô®Ôºâ„ÄÇ Âà©Áî®Ëøô‰∏ÄÁâπÁÇπÔºåÊàë‰ª¨ÂèØ‰ª•ÈôêÂà∂Áî®Êà∑Âè™ËÉΩËøêË°åÊåáÂÆöÁöÑÂ∫îÁî®Á®ãÂ∫èÔºåÂú®ËØ•Â∫îÁî®Á®ãÂ∫èËøêË°åÁªìÊùüÂêéÔºåÁî®Êà∑Â∞±Ëá™Âä®ÈÄÄÂá∫‰∫ÜÁ≥ªÁªü„ÄÇÊúâ‰∫õLinux Á≥ªÁªüË¶ÅÊ±ÇÂè™ÊúâÈÇ£‰∫õÂú®Á≥ªÁªü‰∏≠ÁôªËÆ∞‰∫ÜÁöÑÁ®ãÂ∫èÊâçËÉΩÂá∫Áé∞Âú®Ëøô‰∏™Â≠óÊÆµ‰∏≠„ÄÇ 8)Á≥ªÁªü‰∏≠Êúâ‰∏ÄÁ±ªÁî®Êà∑Áß∞‰∏∫‰º™Áî®Êà∑Ôºàpseudo usersÔºâ„ÄÇ Ëøô‰∫õÁî®Êà∑Âú®/etc/passwdÊñá‰ª∂‰∏≠‰πüÂç†Êúâ‰∏ÄÊù°ËÆ∞ÂΩïÔºå‰ΩÜÊòØ‰∏çËÉΩÁôªÂΩïÔºåÂõ†‰∏∫ÂÆÉ‰ª¨ÁöÑÁôªÂΩïShell‰∏∫Á©∫„ÄÇÂÆÉ‰ª¨ÁöÑÂ≠òÂú®‰∏ªË¶ÅÊòØÊñπ‰æøÁ≥ªÁªüÁÆ°ÁêÜÔºåÊª°Ë∂≥Áõ∏Â∫îÁöÑÁ≥ªÁªüËøõÁ®ãÂØπÊñá‰ª∂Â±û‰∏ªÁöÑË¶ÅÊ±Ç„ÄÇ Â∏∏ËßÅÁöÑ‰º™Áî®Êà∑Â¶Ç‰∏ãÊâÄÁ§∫Ôºö ‰º™ Áî® Êà∑ Âê´ ‰πâ bin Êã•ÊúâÂèØÊâßË°åÁöÑÁî®Êà∑ÂëΩ‰ª§Êñá‰ª∂ sys Êã•ÊúâÁ≥ªÁªüÊñá‰ª∂ adm Êã•ÊúâÂ∏êÊà∑Êñá‰ª∂ uucp UUCP‰ΩøÁî® lp lpÊàñlpdÂ≠êÁ≥ªÁªü‰ΩøÁî® nobody NFS‰ΩøÁî® Êã•ÊúâÂ∏êÊà∑Êñá‰ª∂ 1„ÄÅÈô§‰∫Ü‰∏äÈù¢ÂàóÂá∫ÁöÑ‰º™Áî®Êà∑Â§ñÔºåËøòÊúâËÆ∏Â§öÊ†áÂáÜÁöÑ‰º™Áî®Êà∑Ôºå‰æãÂ¶ÇÔºöaudit, cron, mail, usenetÁ≠âÔºåÂÆÉ‰ª¨‰πüÈÉΩÂêÑËá™‰∏∫Áõ∏ÂÖ≥ÁöÑËøõÁ®ãÂíåÊñá‰ª∂ÊâÄÈúÄË¶Å„ÄÇ Áî±‰∫é/etc/passwdÊñá‰ª∂ÊòØÊâÄÊúâÁî®Êà∑ÈÉΩÂèØËØªÁöÑÔºåÂ¶ÇÊûúÁî®Êà∑ÁöÑÂØÜÁ†ÅÂ§™ÁÆÄÂçïÊàñËßÑÂæãÊØîËæÉÊòéÊòæÁöÑËØùÔºå‰∏ÄÂè∞ÊôÆÈÄöÁöÑËÆ°ÁÆóÊú∫Â∞±ËÉΩÂ§üÂæàÂÆπÊòìÂú∞Â∞ÜÂÆÉÁ†¥Ëß£ÔºåÂõ†Ê≠§ÂØπÂÆâÂÖ®ÊÄßË¶ÅÊ±ÇËæÉÈ´òÁöÑLinuxÁ≥ªÁªüÈÉΩÊääÂä†ÂØÜÂêéÁöÑÂè£‰ª§Â≠óÂàÜÁ¶ªÂá∫Êù•ÔºåÂçïÁã¨Â≠òÊîæÂú®‰∏Ä‰∏™Êñá‰ª∂‰∏≠ÔºåËøô‰∏™Êñá‰ª∂ÊòØ/etc/shadowÊñá‰ª∂„ÄÇ ÊúâË∂ÖÁ∫ßÁî®Êà∑ÊâçÊã•ÊúâËØ•Êñá‰ª∂ËØªÊùÉÈôêÔºåËøôÂ∞±‰øùËØÅ‰∫ÜÁî®Êà∑ÂØÜÁ†ÅÁöÑÂÆâÂÖ®ÊÄß„ÄÇ 2„ÄÅ/etc/shadow‰∏≠ÁöÑËÆ∞ÂΩïË°å‰∏é/etc/passwd‰∏≠ÁöÑ‰∏Ä‰∏ÄÂØπÂ∫îÔºåÂÆÉÁî±pwconvÂëΩ‰ª§Ê†πÊçÆ/etc/passwd‰∏≠ÁöÑÊï∞ÊçÆËá™Âä®‰∫ßÁîü ÂÆÉÁöÑÊñá‰ª∂Ê†ºÂºè‰∏é/etc/passwdÁ±ª‰ººÔºåÁî±Ëã•Âπ≤‰∏™Â≠óÊÆµÁªÑÊàêÔºåÂ≠óÊÆµ‰πãÈó¥Áî®&quot;:&quot;ÈöîÂºÄ„ÄÇËøô‰∫õÂ≠óÊÆµÊòØÔºö ÁôªÂΩïÂêç:Âä†ÂØÜÂè£‰ª§:ÊúÄÂêé‰∏ÄÊ¨°‰øÆÊîπÊó∂Èó¥:ÊúÄÂ∞èÊó∂Èó¥Èó¥Èöî:ÊúÄÂ§ßÊó∂Èó¥Èó¥Èöî:Ë≠¶ÂëäÊó∂Èó¥:‰∏çÊ¥ªÂä®Êó∂Èó¥:Â§±ÊïàÊó∂Èó¥:Ê†áÂøó &quot;ÁôªÂΩïÂêç&quot;ÊòØ‰∏é/etc/passwdÊñá‰ª∂‰∏≠ÁöÑÁôªÂΩïÂêçÁõ∏‰∏ÄËá¥ÁöÑÁî®Êà∑Ë¥¶Âè∑ &quot;Âè£‰ª§&quot;Â≠óÊÆµÂ≠òÊîæÁöÑÊòØÂä†ÂØÜÂêéÁöÑÁî®Êà∑Âè£‰ª§Â≠óÔºåÈïøÂ∫¶‰∏∫13‰∏™Â≠óÁ¨¶„ÄÇÂ¶ÇÊûú‰∏∫Á©∫ÔºåÂàôÂØπÂ∫îÁî®Êà∑Ê≤°ÊúâÂè£‰ª§ÔºåÁôªÂΩïÊó∂‰∏çÈúÄË¶ÅÂè£‰ª§ÔºõÂ¶ÇÊûúÂê´Êúâ‰∏çÂ±û‰∫éÈõÜÂêà { ./0-9A-Za-z }‰∏≠ÁöÑÂ≠óÁ¨¶ÔºåÂàôÂØπÂ∫îÁöÑÁî®Êà∑‰∏çËÉΩÁôªÂΩï„ÄÇ &quot;ÊúÄÂêé‰∏ÄÊ¨°‰øÆÊîπÊó∂Èó¥&quot;Ë°®Á§∫ÁöÑÊòØ‰ªéÊüê‰∏™Êó∂ÂàªËµ∑ÔºåÂà∞Áî®Êà∑ÊúÄÂêé‰∏ÄÊ¨°‰øÆÊîπÂè£‰ª§Êó∂ÁöÑÂ§©Êï∞„ÄÇÊó∂Èó¥Ëµ∑ÁÇπÂØπ‰∏çÂêåÁöÑÁ≥ªÁªüÂèØËÉΩ‰∏ç‰∏ÄÊ†∑„ÄÇ‰æãÂ¶ÇÂú®SCO Linux ‰∏≠ÔºåËøô‰∏™Êó∂Èó¥Ëµ∑ÁÇπÊòØ1970Âπ¥1Êúà1Êó•„ÄÇ &quot;ÊúÄÂ∞èÊó∂Èó¥Èó¥Èöî&quot;ÊåáÁöÑÊòØ‰∏§Ê¨°‰øÆÊîπÂè£‰ª§‰πãÈó¥ÊâÄÈúÄÁöÑÊúÄÂ∞èÂ§©Êï∞„ÄÇ &quot;ÊúÄÂ§ßÊó∂Èó¥Èó¥Èöî&quot;ÊåáÁöÑÊòØÂè£‰ª§‰øùÊåÅÊúâÊïàÁöÑÊúÄÂ§ßÂ§©Êï∞„ÄÇ &quot;Ë≠¶ÂëäÊó∂Èó¥&quot;Â≠óÊÆµË°®Á§∫ÁöÑÊòØ‰ªéÁ≥ªÁªüÂºÄÂßãË≠¶ÂëäÁî®Êà∑Âà∞Áî®Êà∑ÂØÜÁ†ÅÊ≠£ÂºèÂ§±Êïà‰πãÈó¥ÁöÑÂ§©Êï∞„ÄÇ &quot;‰∏çÊ¥ªÂä®Êó∂Èó¥&quot;Ë°®Á§∫ÁöÑÊòØÁî®Êà∑Ê≤°ÊúâÁôªÂΩïÊ¥ªÂä®‰ΩÜË¥¶Âè∑‰ªçËÉΩ‰øùÊåÅÊúâÊïàÁöÑÊúÄÂ§ßÂ§©Êï∞„ÄÇ &quot;Â§±ÊïàÊó∂Èó¥&quot;Â≠óÊÆµÁªôÂá∫ÁöÑÊòØ‰∏Ä‰∏™ÁªùÂØπÁöÑÂ§©Êï∞ÔºåÂ¶ÇÊûú‰ΩøÁî®‰∫ÜËøô‰∏™Â≠óÊÆµÔºåÈÇ£‰πàÂ∞±ÁªôÂá∫Áõ∏Â∫îË¥¶Âè∑ÁöÑÁîüÂ≠òÊúü„ÄÇÊúüÊª°ÂêéÔºåËØ•Ë¥¶Âè∑Â∞±‰∏çÂÜçÊòØ‰∏Ä‰∏™ÂêàÊ≥ïÁöÑË¥¶Âè∑Ôºå‰πüÂ∞±‰∏çËÉΩÂÜçÁî®Êù•ÁôªÂΩï‰∫Ü„ÄÇ ‰∏ãÈù¢ÊòØ/etc/shadowÁöÑ‰∏Ä‰∏™‰æãÂ≠êÔºö ÔºÉ cat /etc/shadow root:Dnakfw28zf38w:8764:0:168:7::: daemon:::0:0:::: bin:::0:0:::: sys:::0:0:::: adm:::0:0:::: uucp:::0:0:::: nuucp:::0:0:::: auth:::0:0:::: cron:::0:0:::: listen:::0:0:::: lp:::0:0:::: sam:EkdiSECLWPdSa:9740:0:0:::: 3„ÄÅÁî®Êà∑ÁªÑÁöÑÊâÄÊúâ‰ø°ÊÅØÈÉΩÂ≠òÊîæÂú®/etc/groupÊñá‰ª∂‰∏≠„ÄÇ Â∞ÜÁî®Êà∑ÂàÜÁªÑÊòØLinux Á≥ªÁªü‰∏≠ÂØπÁî®Êà∑ËøõË°åÁÆ°ÁêÜÂèäÊéßÂà∂ËÆøÈóÆÊùÉÈôêÁöÑ‰∏ÄÁßçÊâãÊÆµ„ÄÇ ÊØè‰∏™Áî®Êà∑ÈÉΩÂ±û‰∫éÊüê‰∏™Áî®Êà∑ÁªÑÔºõ‰∏Ä‰∏™ÁªÑ‰∏≠ÂèØ‰ª•ÊúâÂ§ö‰∏™Áî®Êà∑Ôºå‰∏Ä‰∏™Áî®Êà∑‰πüÂèØ‰ª•Â±û‰∫é‰∏çÂêåÁöÑÁªÑ„ÄÇ ÂΩì‰∏Ä‰∏™Áî®Êà∑ÂêåÊó∂ÊòØÂ§ö‰∏™ÁªÑ‰∏≠ÁöÑÊàêÂëòÊó∂ÔºåÂú®/etc/passwdÊñá‰ª∂‰∏≠ËÆ∞ÂΩïÁöÑÊòØÁî®Êà∑ÊâÄÂ±ûÁöÑ‰∏ªÁªÑÔºå‰πüÂ∞±ÊòØÁôªÂΩïÊó∂ÊâÄÂ±ûÁöÑÈªòËÆ§ÁªÑÔºåËÄåÂÖ∂‰ªñÁªÑÁß∞‰∏∫ÈôÑÂä†ÁªÑ„ÄÇ Áî®Êà∑Ë¶ÅËÆøÈóÆÂ±û‰∫éÈôÑÂä†ÁªÑÁöÑÊñá‰ª∂Êó∂ÔºåÂøÖÈ°ªÈ¶ñÂÖà‰ΩøÁî®newgrpÂëΩ‰ª§‰ΩøËá™Â∑±Êàê‰∏∫ÊâÄË¶ÅËÆøÈóÆÁöÑÁªÑ‰∏≠ÁöÑÊàêÂëò„ÄÇ Áî®Êà∑ÁªÑÁöÑÊâÄÊúâ‰ø°ÊÅØÈÉΩÂ≠òÊîæÂú®/etc/groupÊñá‰ª∂‰∏≠„ÄÇÊ≠§Êñá‰ª∂ÁöÑÊ†ºÂºè‰πüÁ±ª‰ºº‰∫é/etc/passwdÊñá‰ª∂ÔºåÁî±ÂÜíÂè∑(:)ÈöîÂºÄËã•Âπ≤‰∏™Â≠óÊÆµÔºåËøô‰∫õÂ≠óÊÆµÊúâÔºö ÁªÑÂêç:Âè£‰ª§:ÁªÑÊ†áËØÜÂè∑:ÁªÑÂÜÖÁî®Êà∑ÂàóË°® &quot;ÁªÑÂêç&quot;ÊòØÁî®Êà∑ÁªÑÁöÑÂêçÁß∞ÔºåÁî±Â≠óÊØçÊàñÊï∞Â≠óÊûÑÊàê„ÄÇ‰∏é/etc/passwd‰∏≠ÁöÑÁôªÂΩïÂêç‰∏ÄÊ†∑ÔºåÁªÑÂêç‰∏çÂ∫îÈáçÂ§ç„ÄÇ &quot;Âè£‰ª§&quot;Â≠óÊÆµÂ≠òÊîæÁöÑÊòØÁî®Êà∑ÁªÑÂä†ÂØÜÂêéÁöÑÂè£‰ª§Â≠ó„ÄÇ‰∏ÄËà¨Linux Á≥ªÁªüÁöÑÁî®Êà∑ÁªÑÈÉΩÊ≤°ÊúâÂè£‰ª§ÔºåÂç≥Ëøô‰∏™Â≠óÊÆµ‰∏ÄËà¨‰∏∫Á©∫ÔºåÊàñËÄÖÊòØ*„ÄÇ &quot;ÁªÑÊ†áËØÜÂè∑&quot;‰∏éÁî®Êà∑Ê†áËØÜÂè∑Á±ª‰ººÔºå‰πüÊòØ‰∏Ä‰∏™Êï¥Êï∞ÔºåË¢´Á≥ªÁªüÂÜÖÈÉ®Áî®Êù•Ê†áËØÜÁªÑ„ÄÇ &quot;ÁªÑÂÜÖÁî®Êà∑ÂàóË°®&quot;ÊòØÂ±û‰∫éËøô‰∏™ÁªÑÁöÑÊâÄÊúâÁî®Êà∑ÁöÑÂàóË°®/b]Ôºå‰∏çÂêåÁî®Êà∑‰πãÈó¥Áî®ÈÄóÂè∑(,)ÂàÜÈöî„ÄÇËøô‰∏™Áî®Êà∑ÁªÑÂèØËÉΩÊòØÁî®Êà∑ÁöÑ‰∏ªÁªÑÔºå‰πüÂèØËÉΩÊòØÈôÑÂä†ÁªÑ„ÄÇ /etc/groupÊñá‰ª∂ÁöÑ‰∏Ä‰∏™‰æãÂ≠êÂ¶Ç‰∏ãÔºö root::0:root bin::2:root,bin sys::3:root,uucp adm::4:root,adm daemon::5:root,daemon lp::7:root,lp users::20:root,sam Âõõ„ÄÅÊ∑ªÂä†ÊâπÈáèÁî®Êà∑ Ê∑ªÂä†ÂíåÂà†Èô§Áî®Êà∑ÂØπÊØè‰ΩçLinuxÁ≥ªÁªüÁÆ°ÁêÜÂëòÈÉΩÊòØËΩªËÄåÊòì‰∏æÁöÑ‰∫ãÔºåÊØîËæÉÊ£òÊâãÁöÑÊòØÂ¶ÇÊûúË¶ÅÊ∑ªÂä†Âá†ÂçÅ‰∏™„ÄÅ‰∏äÁôæ‰∏™ÁîöËá≥‰∏äÂçÉ‰∏™Áî®Êà∑Êó∂ÔºåÊàë‰ª¨‰∏çÂ§™ÂèØËÉΩËøò‰ΩøÁî®useradd‰∏Ä‰∏™‰∏Ä‰∏™Âú∞Ê∑ªÂä†ÔºåÂøÖÁÑ∂Ë¶ÅÊâæ‰∏ÄÁßçÁÆÄ‰æøÁöÑÂàõÂª∫Â§ßÈáèÁî®Êà∑ÁöÑÊñπÊ≥ï„ÄÇLinuxÁ≥ªÁªüÊèê‰æõ‰∫ÜÂàõÂª∫Â§ßÈáèÁî®Êà∑ÁöÑÂ∑•ÂÖ∑ÔºåÂèØ‰ª•ËÆ©ÊÇ®Á´ãÂç≥ÂàõÂª∫Â§ßÈáèÁî®Êà∑ÔºåÊñπÊ≥ïÂ¶Ç‰∏ãÔºö Ôºà1ÔºâÂÖàÁºñËæë‰∏Ä‰∏™ÊñáÊú¨Áî®Êà∑Êñá‰ª∂„ÄÇ ÊØè‰∏ÄÂàóÊåâÁÖß/etc/passwdÂØÜÁ†ÅÊñá‰ª∂ÁöÑÊ†ºÂºè‰π¶ÂÜôÔºåË¶ÅÊ≥®ÊÑèÊØè‰∏™Áî®Êà∑ÁöÑÁî®Êà∑Âêç„ÄÅUID„ÄÅÂÆø‰∏ªÁõÆÂΩïÈÉΩ‰∏çÂèØ‰ª•Áõ∏ÂêåÔºåÂÖ∂‰∏≠ÂØÜÁ†ÅÊ†èÂèØ‰ª•ÁïôÂÅöÁ©∫ÁôΩÊàñËæìÂÖ•xÂè∑„ÄÇ‰∏Ä‰∏™ËåÉ‰æãÊñá‰ª∂user.txtÂÜÖÂÆπÂ¶Ç‰∏ãÔºö user001::600üíØuser:/home/user001:/bin/bash user002::601üíØuser:/home/user002:/bin/bash user003::602üíØuser:/home/user003:/bin/bash user004::603üíØuser:/home/user004:/bin/bash user005::604üíØuser:/home/user005:/bin/bash user006::605üíØuser:/home/user006:/bin/bash Ôºà2Ôºâ‰ª•rootË∫´‰ªΩÊâßË°åÂëΩ‰ª§ /usr/sbin/newusersÔºå‰ªéÂàöÂàõÂª∫ÁöÑÁî®Êà∑Êñá‰ª∂user.txt‰∏≠ÂØºÂÖ•Êï∞ÊçÆÔºåÂàõÂª∫Áî®Êà∑Ôºö newusers &lt; user.txt ÁÑ∂ÂêéÂèØ‰ª•ÊâßË°åÂëΩ‰ª§ vipw Êàñ vi /etc/passwd Ê£ÄÊü• /etc/passwd Êñá‰ª∂ÊòØÂê¶Â∑≤ÁªèÂá∫Áé∞Ëøô‰∫õÁî®Êà∑ÁöÑÊï∞ÊçÆÔºåÂπ∂‰∏îÁî®Êà∑ÁöÑÂÆø‰∏ªÁõÆÂΩïÊòØÂê¶Â∑≤ÁªèÂàõÂª∫„ÄÇ Ôºà3ÔºâÊâßË°åÂëΩ‰ª§/usr/sbin/pwunconv„ÄÇ Â∞Ü /etc/shadow ‰∫ßÁîüÁöÑ shadow ÂØÜÁ†ÅËß£Á†ÅÔºåÁÑ∂ÂêéÂõûÂÜôÂà∞ /etc/passwd ‰∏≠ÔºåÂπ∂Â∞Ü/etc/shadowÁöÑshadowÂØÜÁ†ÅÊ†èÂà†Êéâ„ÄÇËøôÊòØ‰∏∫‰∫ÜÊñπ‰æø‰∏ã‰∏ÄÊ≠•ÁöÑÂØÜÁ†ÅËΩ¨Êç¢Â∑•‰ΩúÔºåÂç≥ÂÖàÂèñÊ∂à shadow password ÂäüËÉΩ„ÄÇ pwunconv Ôºà4ÔºâÁºñËæëÊØè‰∏™Áî®Êà∑ÁöÑÂØÜÁ†ÅÂØπÁÖßÊñá‰ª∂„ÄÇ Ê†ºÂºè‰∏∫Ôºö Áî®Êà∑Âêç:ÂØÜÁ†Å ÂÆû‰æãÊñá‰ª∂ passwd.txt ÂÜÖÂÆπÂ¶Ç‰∏ãÔºö user001:123456 user002:123456 user003:123456 user004:123456 user005:123456 user006:123456 Ôºà5Ôºâ‰ª• root Ë∫´‰ªΩÊâßË°åÂëΩ‰ª§ /usr/sbin/chpasswd„ÄÇ ÂàõÂª∫Áî®Êà∑ÂØÜÁ†ÅÔºåchpasswd ‰ºöÂ∞ÜÁªèËøá /usr/bin/passwd ÂëΩ‰ª§ÁºñÁ†ÅËøáÁöÑÂØÜÁ†ÅÂÜôÂÖ• /etc/passwd ÁöÑÂØÜÁ†ÅÊ†è„ÄÇ chpasswd &lt; passwd.txt Ôºà6ÔºâÁ°ÆÂÆöÂØÜÁ†ÅÁªèÁºñÁ†ÅÂÜôÂÖ•/etc/passwdÁöÑÂØÜÁ†ÅÊ†èÂêé„ÄÇ ÊâßË°åÂëΩ‰ª§ /usr/sbin/pwconv Â∞ÜÂØÜÁ†ÅÁºñÁ†Å‰∏∫ shadow passwordÔºåÂπ∂Â∞ÜÁªìÊûúÂÜôÂÖ• /etc/shadow„ÄÇ pwconv ËøôÊ†∑Â∞±ÂÆåÊàê‰∫ÜÂ§ßÈáèÁî®Êà∑ÁöÑÂàõÂª∫‰∫ÜÔºå‰πãÂêéÊÇ®ÂèØ‰ª•Âà∞/home‰∏ãÊ£ÄÊü•Ëøô‰∫õÁî®Êà∑ÂÆø‰∏ªÁõÆÂΩïÁöÑÊùÉÈôêËÆæÁΩÆÊòØÂê¶ÈÉΩÊ≠£Á°ÆÔºåÂπ∂ÁôªÂΩïÈ™åËØÅÁî®Êà∑ÂØÜÁ†ÅÊòØÂê¶Ê≠£Á°Æ„ÄÇ LinuxÁ£ÅÁõòÁÆ°ÁêÜ LinuxÁ£ÅÁõòÁÆ°ÁêÜÂ•ΩÂùèÁõ¥Êé•ÂÖ≥Á≥ªÂà∞Êï¥‰∏™Á≥ªÁªüÁöÑÊÄßËÉΩÈóÆÈ¢ò„ÄÇ LinuxÁ£ÅÁõòÁÆ°ÁêÜÂ∏∏Áî®‰∏â‰∏™ÂëΩ‰ª§‰∏∫dfÔºåduÂíåfdisk„ÄÇ dfÔºöÂàóÂá∫Êñá‰ª∂Á≥ªÁªüÁöÑÊï¥‰ΩìÁ£ÅÁõò‰ΩøÁî®Èáè duÔºöÊ£ÄÊü•Á£ÅÁõòÁ©∫Èó¥‰ΩøÁî®Èáè fdiskÔºöÁî®‰∫éÁ£ÅÁõòÂàÜÂå∫ df dfÂëΩ‰ª§ÂèÇÊï∞ÂäüËÉΩÔºöÊ£ÄÊü•Êñá‰ª∂Á≥ªÁªüÁöÑÁ£ÅÁõòÁ©∫Èó¥Âç†Áî®ÊÉÖÂÜµ„ÄÇÂèØ‰ª•Âà©Áî®ËØ•ÂëΩ‰ª§Êù•Ëé∑ÂèñÁ°¨ÁõòË¢´Âç†Áî®‰∫ÜÂ§öÂ∞ëÁ©∫Èó¥ÔºåÁõÆÂâçËøòÂâ©‰∏ãÂ§öÂ∞ëÁ©∫Èó¥Á≠â‰ø°ÊÅØ„ÄÇ ËØ≠Ê≥ïÔºö df [ -ahikHTm ] [ÁõÆÂΩïÊàñÊñá‰ª∂Âêç] ÈÄâÈ°π‰∏éÂèÇÊï∞Ôºö -aÔºöÂàóÂá∫ÊâÄÊúâÁöÑÊñá‰ª∂Á≥ªÁªüÔºåÂåÖÊã¨Á≥ªÁªüÁâπÊúâÁöÑ/ procÁ≠âÊñá‰ª∂Á≥ªÁªüÔºõ -kÔºö‰ª•KBytesÁöÑÂÆπÈáèÊòæÁ§∫ÂêÑÊñá‰ª∂Á≥ªÁªüÔºõ -mÔºö‰ª•MBytesÁöÑÂÆπÈáèÊòæÁ§∫ÂêÑÊñá‰ª∂Á≥ªÁªüÔºõ -hÔºö‰ª•‰∫∫‰ª¨ËæÉÊòìÈòÖËØªÁöÑGBÔºåMBÔºåKBÁ≠âÊ†ºÂºèËá™Ë°åÊòæÁ§∫Ôºõ -HÔºö‰ª•M = 1000KÂèñ‰ª£M = 1024KÁöÑËøõ‰ΩçÊñπÂºèÔºõ -TÔºöÊòæÁ§∫Êñá‰ª∂Á≥ªÁªüÁ±ªÂûãÔºåÂπ∂ÂêàÂπ∂ËØ•ÂàÜÂå∫ÁöÑÊñá‰ª∂Á≥ªÁªüÂêçÁß∞Ôºà‰æãÂ¶Çext3Ôºâ‰πüÂàóÂá∫Ôºõ -iÔºö‰∏çÁî®Á°¨ÁõòÂÆπÈáèÔºåËÄå‰ª•inodeÁöÑÊï∞ÈáèÊù•ÊòæÁ§∫ ÂÆû‰æã1 Â∞ÜÁ≥ªÁªüÂÜÖÊâÄÊúâÁöÑÊñá‰ª∂Á≥ªÁªüÂàóÂá∫Êù•ÔºÅ [Ê†π@ WWW „Äú]ÔºÉDF Êñá‰ª∂Á≥ªÁªü1K -Âùó Áî®‰∫éÊé®‰ªã‰ΩøÁî®ÔºÖÂÆâË£Ö‰∏ä / devÁöÑ/ HDC2 9920624 3823112 5585444 41 ÔºÖ/ÁöÑ/ dev / hdc3‰∏ä 4956316 141376 4559108 4 ÔºÖ/ÂÆ∂ / devÁöÑ/ hdc1ÂàÜÂå∫ 101086 11126 84741 12 ÔºÖ/ÂºïÂØº tmpfs 371332 0 371332 0 ÔºÖ/ dev / shm Âú®LinuxÂ∫ï‰∏ãÂ¶ÇÊûúdfÊ≤°ÊúâÂä†‰ªª‰ΩïÈÄâÈ°πÔºåÈÇ£‰πàÊõøÊç¢ÈáçÂÆöÂêëÁ≥ªÁªüÂÜÖÈÉ®ÁöÑÊâÄÊúâÔºàÊéíÈô§ÁâπÊÆäÂÜÖÂ≠òÂÜÖÈÉ®ÁöÑÊñá‰ª∂Á≥ªÁªü‰∏éswapÔºâÈÉΩ‰ª•1 KBÁöÑÂÆπÈáèÊù•ÂàóÂá∫Êù•ÔºÅ ÂÆû‰æã2 Â∞ÜÂÆπÈáèÁªìÊûú‰ª•ÊòìËØªÁöÑÂÆπÈáèÊ†ºÂºèÊòæÁ§∫Âá∫Êù• [Ê†π@ WWW „Äú]ÔºÉDF - ƒß Êñá‰ª∂Á≥ªÁªüÂ§ßÂ∞èÁî®‰∫éÂ∫ìÂ≠òÁä∂ÂÜµ‰ΩøÁî®ÔºÖÂÆâË£Ö‰∏ä / devÁöÑ/ HDC2 9.5ÂÖã3.7G 5.4G 41 ÔºÖ/ÁöÑ/ dev / hdc3‰∏ä 4.8G 139M 4.4G 4 ÔºÖ/ÂÆ∂ / devÁöÑ/ hdc1ÂàÜÂå∫ 99M 11M 83M 12 ÔºÖ/ÂºÄÊú∫ tmpfs 363M 0 363M 0 ÔºÖ/ dev / shm ÂÆû‰æã3 Â∞ÜÁ≥ªÁªüÂÜÖÁöÑÊâÄÊúâÁâπÊÆäÊñá‰ª∂Ê†ºÂºèÂèäÂêçÁß∞ÈÉΩÂàóÂá∫Êù• [Ê†π@ WWW „Äú]ÔºÉDF -Âú® Êñá‰ª∂Á≥ªÁªüÁ±ªÂûã1K -Âùó Áî®‰∫éÊé®‰ªã‰ΩøÁî®ÔºÖÂÆâË£Ö‰∏ä / devÁöÑ/ HDC2 EXT3 9920624 3823112 5585444 41 ÔºÖ/ PROC PROC 0 0 0 - / PROC sysfs‰∏≠ÁöÑsysfs 0 0 0 - / SYS devpts devpts 0 0 0 -ÁöÑ/ dev / PTS / devÁöÑ/‰Ωç‰∫éhdc3 EXT3 4956316 141376 4559108 4 ÔºÖ/ÂÆ∂ / devÁöÑ/ hdc1ÂàÜÂå∫EXT3 101086 11126 84741 12 ÔºÖ/ÂºïÂØº tmpfs tmpfs 371332 0 371332 0 ÔºÖ/ dev / shm Ê≤°Êúâbinfmt_misc 0 0 0 -ÁöÑ/ proc / SYS / FS / binfmt_misc sunrpc rpc_pipefs 0 0 0 -Âú®/ var / lib‰∏≠/ NFS / rpc_pipefs ÂÆû‰æã4 Â∞Ü/ etcÂ∫ï‰∏ãÁöÑÂèØÁî®ÁöÑÁ£ÅÁõòÂÆπÈáè‰ª•ÊòìËØªÁöÑÂÆπÈáèÊ†ºÂºèÊòæÁ§∫ [Ê†π@ WWW „Äú]ÔºÉDF - ƒß /Á≠â Êñá‰ª∂Á≥ªÁªüÂ§ßÂ∞èÁî®‰∫éÂ∫ìÂ≠òÁä∂ÂÜµ‰ΩøÁî®ÔºÖÂÆâË£Ö‰∏ä / devÁöÑ/ HDC2 9.5ÂÖã3.7G 5.4G 41 ÔºÖ/ du Linux duÂëΩ‰ª§‰πüÊòØÊü•Áúã‰ΩøÁî®Á©∫Èó¥ÁöÑÔºå‰ΩÜÊòØ‰∏édfÂëΩ‰ª§‰∏çÂêåÁöÑÊòØLinux duÂëΩ‰ª§ÊòØÂØπÊñá‰ª∂ÂíåÁõÆÂΩïÁ£ÅÁõò‰ΩøÁî®ÁöÑÁ©∫Èó¥ÁöÑÊü•ÁúãÔºåËøòÊòØÂíådfÂëΩ‰ª§Êúâ‰∏Ä‰∫õÂå∫Âà´ÁöÑÔºåËøôÈáå‰ªãÁªçLinux duÂëΩ‰ª§„ÄÇ ËØ≠Ê≥ïÔºö du [ -ahskm ]Êñá‰ª∂ÊàñÁõÆÂΩïÂêçÁß∞ ÈÄâÈ°π‰∏éÂèÇÊï∞Ôºö -aÔºöÂàóÂá∫ÊâÄÊúâÁöÑÊñá‰ª∂‰∏éÁõÆÂΩïÂÆπÈáèÔºåÂõ†‰∏∫ÂîØ‰∏Ä‰ªÖÁªüËÆ°ÁõÆÂΩïÂ∫ï‰∏ãÁöÑÊñá‰ª∂ÈáèËÄåÂ∑≤„ÄÇ -hÔºö‰ª•‰∫∫‰ª¨ËæÉÊòìËØªÁöÑÂÆπÈáèÊ†ºÂºèÔºàG / MÔºâÊòæÁ§∫Ôºõ -sÔºöÂàóÂá∫ÊÄªÊï∞ËÄåÂ∑≤ÔºåËÄå‰∏çÂàóÂá∫ÊØè‰∏™ÂêÑÂà´ÁöÑÁõÆÂΩïÂç†Áî®ÂÆπÈáèÔºõ -SÔºö‰∏çÂåÖÊã¨Â≠êÁõÆÂΩï‰∏ãÁöÑÊÄªËÆ°Ôºå‰∏é-sÊúâÁÇπÂå∫Âà´„ÄÇ -kÔºö‰ª•KBytesÂàóÂá∫ÂÆπÈáèÊòæÁ§∫Ôºõ -mÔºö‰ª•MBytesÂàóÂá∫ÂÆπÈáèÊòæÁ§∫Ôºõ ÂÆû‰æã1 Âè™ÂàóÂá∫ÂΩìÂâçÁõÆÂΩï‰∏ãÁöÑÊâÄÊúâÊñá‰ª∂Â§πÂÆπÈáèÔºàÂåÖÊã¨ÈöêËóèÊñá‰ª∂Â§πÔºâÔºö [Ê†π@ WWW „Äú]ÔºÉÊùú 8 ./ TEST4 &lt;==ÊØè‰∏™ÁõÆÂΩïÈÉΩ‰ºöÂàóÂá∫Êù•8 ./ TEST2 ....‰∏≠Èó¥ÁúÅÁï•.... 12 ./„ÄÇgconfd &lt;==ÂåÖÊã¨ÈöêËóèÊñá‰ª∂ÁöÑÁõÆÂΩï220 „ÄÇ&lt;==Ëøô‰∏™ÁõÆÂΩïÔºà„ÄÇÔºâÊâÄÂç†Áî®ÁöÑÂ§ßÈáè Áõ¥Êé•ËæìÂÖ•duÊ≤°ÊúâÂä†‰ªª‰ΩïÈÄâÈ°πÊó∂ÔºåÂàôdu‰ºöÂàÜÊûêÂΩìÂâçÊâÄÂú®ÁõÆÂΩïÁöÑÊñá‰ª∂‰∏éÁõÆÂΩïÊâÄÂç†Áî®ÁöÑÁ°¨ÁõòÁ©∫Èó¥„ÄÇ ÂÆû‰æã2 Â∞ÜÊñá‰ª∂ÁöÑÂÆπÈáè‰πüÂàóÂá∫Êù• [Ê†π@ WWW „Äú]ÔºÉÊùú-‰∏Ä‰∏™ 12 ./ÂÆâË£Ö„ÄÇÊó•Âøó„ÄÇsyslog &lt;==ÊúâÊñá‰ª∂ÁöÑÂàóË°®‰∫Ü8 ./„ÄÇbash_logout 8 ./ test4 8 ./ test2 ....‰∏≠Èó¥ÁúÅÁï•.... 12 ./„ÄÇgconfd 220 „ÄÇ ÂÆû‰æã3 Ê£ÄÊü•Ê†πÁõÆÂΩïÂ∫ï‰∏ãÊØè‰∏™ÁõÆÂΩïÊâÄÂç†Áî®ÁöÑÂÆπÈáè [ root @ www„Äú]ÔºÉdu - sm / * 7 /ÁÆ± 6 /ÂêØÂä® .....‰∏≠Èó¥ÁúÅÁï•.... 0 /ËøõÁ®ã .....‰∏≠Èó¥ÁúÅÁï•.... 1 /ËΩ¨ 3859 / usr &lt;==Á≥ªÁªüÂàùÊúüÊúÄÂ§ßÂ∞±ÊòØ‰ªñ‰∫ÜÂï¶ÔºÅ 77 / var ÈÄöÈÖçÁ¨¶*Êù•‰ª£Ë°®ÊØè‰∏™ÁõÆÂΩï„ÄÇ ‰∏édf‰∏ç‰∏ÄÊ†∑ÁöÑÊòØÔºåduËøô‰∏™ÂëΩ‰ª§ÂÆûÈôÖ‰∏ä‰ºöÁõ¥Êé•Âà∞Êñá‰ª∂Á≥ªÁªüÂÜÖÂéªÊêúÂØªÊâÄÊúâÁöÑÊñá‰ª∂Êï∞ÊçÆ„ÄÇ fdisk fdiskÊòØLinuxÁöÑÁ£ÅÁõòÂàÜÂå∫Ë°®Êìç‰ΩúÂ∑•ÂÖ∑„ÄÇ ËØ≠Ê≥ïÔºö fdisk [ -l ]Ë£ÖÁΩÆÂêçÁß∞ ÈÄâÈ°π‰∏éÂèÇÊï∞Ôºö -lÔºöËæìÂá∫ÂêéÈù¢Êé•ÁöÑË£ÖÁΩÆÊâÄÊúâÁöÑÂàÜÂå∫ÂÜÖÂÆπ„ÄÇËã•‰ªÖÊúâfdisk -lÊó∂ÔºåÂàôÁ≥ªÁªüÂ∞Ü‰ºöÊääÊï¥‰∏™Á≥ªÁªüÂÜÖÈÉ®ËÉΩÂ§üÊêúÂØªÂà∞ÁöÑË£ÖÁΩÆÁöÑÂàÜÂå∫ÂùáÂàóÂá∫Êù•„ÄÇ ÂÆû‰æã1 ÂàóÂá∫ÊâÄÊúâÂàÜÂå∫‰ø°ÊÅØ [ root @ AY120919111755c246621 tmp ]ÔºÉfdisk - l Á£ÅÁõò/ dev / xvda Ôºö21.5 GB Ôºå21474836480Â≠óËäÇ 255Á£ÅÂ§¥Ôºå63ÊâáÂå∫/Á£ÅÈÅìÔºå2610‰∏™Êü±Èù¢ Âçï‰Ωç=Êü±Èù¢16065 * 512 = 8225280Â≠óËäÇ ÊâáÂå∫Â§ßÂ∞èÔºàÈÄªËæë/Áâ©ÁêÜÔºâÔºö512Â≠óËäÇ/ 512Â≠óËäÇ I / OÂ§ßÂ∞èÔºàÊúÄÂ∞è/ÊúÄ‰Ω≥ÔºâÔºö512Â≠óËäÇ/ 512Â≠óËäÇ Á£ÅÁõòÊ†áËØÜÁ¨¶Ôºö0x00000000 ËÆæÂ§áÂºïÂØºÂêØÂä®ÁªìÊùüÂùóIDÁ≥ªÁªü/ dev / xvda1 * 1 2550 20480000 83 Linux / dev / xvda2 2550 2611 490496 82 Linux swap / Solaris ‚Äã Á£ÅÁõò/ dev / xvdb Ôºö21.5 GB Ôºå21474836480Â≠óËäÇ 255Á£ÅÂ§¥Ôºå63ÊâáÂå∫/Á£ÅÈÅìÔºå2610‰∏™Êü±Èù¢ Âçï‰Ωç=Êü±Èù¢16065 * 512 = 8225280Â≠óËäÇ ÊâáÂå∫Â§ßÂ∞èÔºàÈÄªËæë/Áâ©ÁêÜÔºâÔºö512Â≠óËäÇ/ 512Â≠óËäÇ I / OÂ§ßÂ∞èÔºàÊúÄÂ∞è/ÊúÄ‰Ω≥ÔºâÔºö512Â≠óËäÇ/ 512Â≠óËäÇ Á£ÅÁõòÊ†áËØÜÁ¨¶Ôºö0x56f40944 ËÆæÂ§áÂêØÂä®ÂºÄÂßãÁ´ØÂùóIDÁ≥ªÁªü/ dev / xvdb2 1 2610 20964793 + 83 Linux ÂÆû‰æã2 ÊâæÂá∫ÊÇ®Á≥ªÁªü‰∏≠ÁöÑÊ†πÁõÆÂΩïÊâÄÂú®Á£ÅÁõòÔºåÂπ∂Êü•ÈòÖËØ•Á°¨ÁõòÂÜÖÁöÑÁõ∏ÂÖ≥‰ø°ÊÅØ [Ê†π@ WWW „Äú]ÔºÉDF / &lt;==Ê≥®ÊÑèÔºöÈáçÁÇπÂú®ÊâæÂá∫Á£ÅÁõòÊñá‰ª∂ÂêçËÄåÂ∑≤Êñá‰ª∂Á≥ªÁªü1K -Âùó Áî®‰∫éÊé®‰ªã‰ΩøÁî®ÔºÖÂÆâË£Ö‰∏ä / devÁöÑ/ HDC2 9920624 3823168 5585388 41 ÔºÖ/ [Ê†π@ WWW „Äú]ÔºÉÁöÑfdisk /ÂºÄÂèë/ HDC &lt;==‰ªîÁªÜÁúãÔºå‰∏çË¶ÅÂä†‰∏äÊï∞Â≠óÂñîÔºÅÁöÑÊ±ΩÁº∏Êï∞‰∏∫ËøôÁõòË¢´ËÆæÁΩÆÂà∞5005ÊúâÊòØÊ≤°ÊúâÈîô‰∏éÈÇ£‰∏™Ôºå‰ΩÜÊòØËøôÊòØÂ§ß‰∫é1024 ÔºåÂπ∂‰∏îÂèØ‰ª•Âú®Êüê‰∫õËÆæÁΩÆ‰ºöÂØºËá¥ÈóÆÈ¢ò‰∏éÔºö1 ÔºâËΩØ‰ª∂ÔºåÂú®Á≥ªÁªüÂêØÂä®Êó∂ËøêË°åÔºàƒì „ÄÇÊëπ„ÄÇËÄÅÁâàÊú¨ÁöÑLILO Ôºâ2 ÔºâÂºïÂØºÂíåÂàÜÂå∫ËΩØ‰ª∂‰ªéÂÖ∂ÂÆÉÊìç‰ΩúÁ≥ªÁªüÔºà√â „ÄÇÂÖã„ÄÇÔºåDOS FDISK ÔºåOS / 2 FDISK Ôºâ ÂëΩ‰ª§Ôºàm‰∏∫Â∏ÆÂä©ÔºâÔºö&lt;==Á≠âÂæÖ‰Ω†ÁöÑËæìÂÖ•ÔºÅ ËæìÂÖ•mÂêéÔºåÂ∞±‰ºöÁúãÂà∞Â∫ï‰∏ãËøô‰∫õÂëΩ‰ª§‰ªãÁªç ÂëΩ‰ª§Ôºàm‰∏∫Â∏ÆÂä©ÔºâÔºöm &lt;==ËæìÂÖ•mÂêéÔºåÂ∞±‰ºöÁúãÂà∞Â∫ï‰∏ãËøô‰∫õÂëΩ‰ª§‰ªãÁªçCommand action ÂàáÊç¢ÂèØÂêØÂä®Ê†áÂøó bÁºñËæëbsd disklabel cÂàáÊç¢dosÂÖºÂÆπÊÄßÊ†áÂøó d Âà†Èô§ÂàÜÂå∫ &lt;==Âà†Èô§‰∏Ä‰∏™ÂàÜÂå∫ lÂàóÂá∫Â∑≤Áü•ÁöÑÂàÜÂå∫Á±ªÂûã m ÊâìÂç∞Ê≠§ËèúÂçï nÊ∑ªÂä†‰∏Ä‰∏™Êñ∞ÂàÜÂå∫ &lt;==Ê∑ªÂä†‰∏Ä‰∏™ÂàÜÂå∫ oÂàõÂª∫‰∏Ä‰∏™Êñ∞ÁöÑÁ©∫DOSÂàÜÂå∫Ë°® p ÊâìÂç∞ÂàÜÂå∫Ë°® &lt;==Âú®Â±èÂπï‰∏äÊòæÁ§∫ÂàÜÂå∫Ë°® qÈÄÄÂá∫ËÄå‰∏ç‰øùÂ≠òÊõ¥Êîπ&lt;==‰∏ç‰øùÂ≠ò Á¶ªÂºÄfdiskÁ®ãÂ∫è ÂàõÂª∫‰∏Ä‰∏™Êñ∞ÁöÑÁ©∫Sun disklabel tÊõ¥ÊîπÂàÜÂå∫ÁöÑÁ≥ªÁªüID uÊõ¥ÊîπÊòæÁ§∫/ËæìÂÖ•Âçï‰Ωç vÈ™åËØÅÂàÜÂå∫Ë°® wÂ∞ÜË°®ÂÜôÂÖ•Á£ÅÁõòÂπ∂ÈÄÄÂá∫&lt;==Â∞ÜÂàöÂàöÁöÑÂä®‰ΩúÂÜôÂÖ•ÂàÜÂâ≤Ë°® xÈ¢ùÂ§ñÂäüËÉΩÔºà‰ªÖÈôê‰∏ìÂÆ∂Ôºâ Á¶ªÂºÄfdiskÊó∂ÁÇπÂáªqÔºåÈÇ£‰πàÊâÄÊúâÁöÑÂä®‰ΩúÈÉΩ‰∏ç‰ºöÁîüÊïàÔºÅÁõ∏ÂèçÁöÑÔºåÊåâ‰∏ãwÂ∞±ÊòØÂä®‰ΩúÁîüÊïàÁöÑÊÑèÊÄù„ÄÇ ÂëΩ‰ª§Ôºàm‰∏∫Â∏ÆÂä©ÔºâÔºöp &lt;==ËøôÈáåÂèØ‰ª•ËæìÂá∫ÂΩìÂâçÁ£ÅÁõòÁöÑÁä∂ÊÄÅ Á£ÅÁõò/ dev / hdc Ôºö41.1 GB Ôºå41174138880Â≠óËäÇ &lt;==Ëøô‰∏™Á£ÅÁõòÁöÑÊñá‰ª∂Âêç‰∏éÂÆπÈáè255‰∏™Á£ÅÂ§¥Ôºå63‰∏™ÊâáÂå∫/Á£ÅÈÅìÔºå5005‰∏™Á£ÅÊü± &lt;==Á£ÅÂ§¥ÔºåÂ¢ûÂ§ß‰∏éÁ£ÅÊü±Â§ßÂ∞èÂçï‰Ωç= 16065 * 512Á£ÅÊü±= 8225280Â≠óËäÇ&lt;==ÊØè‰∏™Á£ÅÊü±ÁöÑÂ§ßÂ∞è ‚Äã ËÆæÂ§áÂºïÂØºÂêØÂä®ÁªìÊùüÂùóIDÁ≥ªÁªü/ dev / hdc1 * 1 13 104391 83 Linux / dev / hdc2 14 1288 10241437 + 83 Linux / dev / hdc3 1289 1925 5116702 + 83 Linux / dev / hdc4 1926 5005 24740100 5Êâ©Â±ï/ dev / hdc5 1926 2052 1020096 82 Linux swap / Solaris ÔºÉË£ÖÁΩÆÊñá‰ª∂ÂêçÂêØÂä®Âå∫Âê¶ÂºÄÂßãÁ£ÅÊü±ÁªìÊùüÁ£ÅÊü±1KÂ§ßÂ∞èÂÆπÈáèÁ£ÅÁõòÂàÜÂå∫ÊßΩÂÜÖÁöÑÁ≥ªÁªü ÂëΩ‰ª§ÔºàmË°®Á§∫Â∏ÆÂä©ÔºâÔºöq ÊÉ≥Ë¶Å‰∏çÂÇ®Â≠òÁ¶ªÂºÄÂêóÔºüÁÇπÂáªqÂ∞±ÂØπ‰∫ÜÔºÅ‰∏çË¶ÅÈöè‰æøÊåâwÂïäÔºÅ ‰ΩøÁî®pÂèØ‰ª•ÂàóÂá∫ÁõÆÂâçËøôÈ¢óÁ£ÅÁõòÁöÑÂàÜÂâ≤Ë°®‰ø°ÊÅØÔºåËøô‰∏™‰ø°ÊÅØÁöÑ‰∏äÂçäÈÉ®Âú®ÊòæÁ§∫Êï¥‰ΩìÁ£ÅÁõòÁöÑÁä∂ÊÄÅ„ÄÇ Á£ÅÁõòÊ†ºÂºèÂåñ Á£ÅÁõòÂàÜÂâ≤ÂÆåÊàêÂêéËá™ÁÑ∂Â∞±ÊòØË¶ÅËøõË°åÊñá‰ª∂Á≥ªÁªüÁöÑÊ†ºÂºèÂåñÔºåÊ†ºÂºèÂåñÁöÑÂëΩ‰ª§ÈùûÂ∏∏ÁöÑÁÆÄÂçïÔºå‰ΩøÁî®mkfsÔºà‰ΩøÊñá‰ª∂Á≥ªÁªüÔºâÂëΩ‰ª§„ÄÇ ËØ≠Ê≥ïÔºö mkfs [ -tÊñá‰ª∂Á≥ªÁªüÊ†ºÂºè]Ë£ÖÁΩÆÊñá‰ª∂Âêç ÈÄâÈ°π‰∏éÂèÇÊï∞Ôºö -tÔºöÂèØ‰ª•Êé•Êñá‰ª∂Á≥ªÁªüÊ†ºÂºèÔºå‰æãÂ¶Çext3Ôºåext2ÔºåvfatÁ≠âÔºàÁ≥ªÁªüÊúâÊîØÊåÅÊâç‰ºöÁîüÊïàÔºâ ÂÆû‰æã1 Êü•ÁúãmkfsÊîØÊåÅÁöÑÊñá‰ª∂Ê†ºÂºè [ root @ www„Äú] ÔºÉmkfs [Ê†áÁ≠æ] [Ê†áÁ≠æ] mkfs mkfs „ÄÇcramfs mkfs „ÄÇext2 mkfs „ÄÇext3 mkfs „ÄÇmsdos mkfs „ÄÇËÉñÂ≠ê Êåâ‰∏ã‰∏§‰∏™[tab]Ôºå‰ºöÂèëÁé∞mkfsÊîØÊåÅÁöÑÊñá‰ª∂Ê†ºÂºèÂ¶Ç‰∏äÊâÄÁ§∫„ÄÇ ÂÆû‰æã2 Â∞ÜÂàÜÂå∫/ dev / hdc6ÔºàÂèØÊåáÂÆö‰Ω†Ëá™Â∑±ÁöÑÂàÜÂå∫ÔºâÊ†ºÂºèÂåñ‰∏∫ext3Êñá‰ª∂Á≥ªÁªüÔºö [ root @ www„Äú]ÔºÉmkfs - t ext3 / dev / hdc6 mke2fs 1.39 Ôºà29 - May - 2006 ÔºâÊñá‰ª∂Á≥ªÁªüÊ†áÁ≠æ= &lt;==ËøôÈáåÊåáÁöÑÊòØÂàÜÂâ≤ÊßΩÁöÑÂêçÁß∞Ôºàlabel Ôºâ Êìç‰ΩúÁ≥ªÁªüÁ±ªÂûãÔºöLinuxÂùóÂ§ßÂ∞è= 4096 Ôºàlog = 2 Ôºâ&lt;==ÂùóÁöÑÂ§ßÂ∞èÈÖçÁΩÆ‰∏∫4KÁâáÊÆµÂ§ßÂ∞è= 4096 ÔºàÊó•Âøó= 2 Ôºâ251392‰∏™iËäÇÁÇπÔºå502023Âùó &lt;==Áî±Ê≠§ÈÖçÁΩÆÂÜ≥ÂÆöÁöÑÁ¥¢ÂºïËäÇÁÇπ/ÂùóÊï∞Èáè 25101ÂùóÔºà5.00 ÔºÖÔºâ‰øùÁïôÁî®‰∫éËØ•Ë∂ÖÁ∫ßÁî®Êà∑ È¶ñÂÖàÊï∞ÊçÆÂùó= 0ÊúÄÂ§ßÊñá‰ª∂Á≥ªÁªüÂùó= 515899392‰∏™16ÂùóÁªÑ 32768‰∏™ÊØèÂùóÁªÑÔºå32768‰∏™ÊØèÁâáÊÆµÁªÑ15712‰∏™ÊØèÁ¥¢ÂºïËäÇÁÇπÁªÑÁöÑË∂ÖÁ∫ßÂùóÂ≠òÂÇ®Âú®ÂùóÁöÑÂ§á‰ªΩÔºö32768 Ôºå98304 Ôºå163840 Ôºå229376 Ôºå294912 ‚Äã ÁºñÂÜôinodeË°®ÔºöÂÆåÊàêÂàõÂª∫Êó•ÂøóÔºà8192‰∏™ÂùóÔºâÔºöÂÆåÊàê&lt;==ÊúâÊó•ÂøóËÆ∞ÂΩïÁºñÂÜôË∂ÖÁ∫ßÂùóÂíåÊñá‰ª∂Á≥ªÁªüËÆ∞Â∏ê‰ø°ÊÅØÔºöÂÆåÊàê ËØ•Êñá‰ª∂Á≥ªÁªüÂ∞ÜÊØè34ÂùêÈ™ëÊàñ180Â§©Ëá™Âä®Ê£ÄÊü•‰∏ÄÊ¨°Ôºå‰ª•ÂÖàÂà∞ËÄÖ‰∏∫ÂáÜ„ÄÇ‰ΩøÁî®tune2fs - √ßÊàñ-ÊàëË¶ÅÈáçÂÜô„ÄÇÔºÉËøôÊ†∑Â∞±ÂàõÂª∫‰∫ÜÊàë‰ª¨ÊâÄÈúÄË¶ÅÁöÑExt3Êñá‰ª∂Á≥ªÁªü‰∫ÜÔºÅÁÆÄÂçïÊòé‰∫ÜÔºÅ Á£ÅÁõòÊ£ÄÈ™å fsckÔºàÊñá‰ª∂Á≥ªÁªüÊ£ÄÊü•ÔºâÁî®Êù•Ê£ÄÊü•ÂíåÁª¥Êä§‰∫åËÄÖÁöÑÊñá‰ª∂Á≥ªÁªü„ÄÇ Ëã•Á≥ªÁªüÊéâÁîµÊàñÁ£ÅÁõòÂèëÁîüÈóÆÈ¢òÔºåÂèØÂà©Áî®fsckÂëΩ‰ª§ÂØπÊñá‰ª∂Á≥ªÁªüËøõË°åÊ£ÄÊü•„ÄÇ ËØ≠Ê≥ïÔºö fsck [ -tÊñá‰ª∂Á≥ªÁªü] [ -ACay ]Ë£ÖÁΩÆÂêçÁß∞ ÈÄâÈ°π‰∏éÂèÇÊï∞Ôºö -tÔºöÁªôÂÆöÊ°£Ê°àÁ≥ªÁªüÁöÑÂûãÂºèÔºåËã•Âú®/ etc / fstab‰∏≠Â∑≤ÊúâÂÆö‰πâÊàñkernelÊú¨Ë∫´Â∑≤ÊîØÊåÅÁöÑÂàô‰∏çÈúÄÂä†‰∏äÊ≠§ÂèÇÊï∞ -sÔºö‰æùÂ∫è‰∏Ä‰∏™‰∏Ä‰∏™Âú∞ÊâßË°åfsckÁöÑÊåá‰ª§Êù•Ê£ÄÊü• -AÔºöÂØπ/ etc / fstab‰∏≠ÊâÄÊúâÂàóÂá∫Êù•ÁöÑÂàÜÂå∫ÔºàpartitionÔºâÂÅöÊ£ÄÊü• -CÔºöÊòæÁ§∫ÂÆåÊï¥ÁöÑÊ£ÄÊü•ËøõÂ∫¶ -dÔºöÊâìÂç∞Âá∫e2fsckÁöÑË∞ÉËØïÁªìÊûú -pÔºöÂêåÊó∂Êúâ-AÊù°‰ª∂Êó∂ÔºåÂêåÊó∂ÊúâÂ§ö‰∏™fsckÁöÑÊ£ÄÊü•‰∏ÄËµ∑ÊâßË°å -RÔºöÂêåÊó∂Êúâ-AÊù°‰ª∂Êó∂ÔºåÁúÅÁï•/‰∏çÊ£ÄÊü• -VÔºöËØ¶ÁªÜÊòæÁ§∫Ê®°Âºè -aÔºöÂ¶ÇÊûúÊ£ÄÊü•ÊúâÈîôÂàôËá™Âä®‰øÆÂ§ç -rÔºöÂ¶ÇÊûúÊ£ÄÊü•ÊúâÈîôÂàôÁî±‰ΩøÁî®ËÄÖÂõûÁ≠îÊòØÂê¶ÊÅ¢Â§ç -yÔºöÈÄâÈ°πÊåáÂÆöÊ£ÄÊµãÊØè‰∏™Êñá‰ª∂ÊòØËá™Âä®ËæìÂÖ•yesÔºåÂú®‰∏çÁ°ÆÂÆöÈÇ£‰∫õÊòØ‰∏çÊ≠£Â∏∏ÁöÑÊó∂ÂÄôÔºåÂèØ‰ª•ÊâßË°åÔºÉfsck -yÂÖ®ÈÉ®Ê£ÄÊü•‰øÆÂ§ç„ÄÇ ÂÆû‰æã1 Êü•ÁúãÁ≥ªÁªüÊúâÂ§öÂ∞ëÊñá‰ª∂Á≥ªÁªüÊîØÊåÅÁöÑfsckÂëΩ‰ª§Ôºö [ root @ www„Äú] ÔºÉfsck [Ê†áÁ≠æ] [Ê†áÁ≠æ] fsck fsck „ÄÇcramfs fsck „ÄÇext2 fsck „ÄÇext3 fsck „ÄÇmsdos fsck „ÄÇËÉñÂ≠ê ÂÆû‰æã2 Âº∫Âà∂Ê£ÄÊµã/ dev / hdc6ÂàÜÂå∫Ôºö [ root @ www„Äú]ÔºÉfsck - C - f - t ext3 / dev / hdc6 fsckÁöÑ1.39 Ôºà29 -Êúà- 2006Âπ¥Ôºâ Áî®e2fsck 1.39 Ôºà29 -Êúà- 2006Âπ¥ÔºâÈÄö1 ÔºöÊ£ÄÊü•Á¥¢ÂºïËäÇÁÇπÔºåÂùóÔºåÂíåÂ∞∫ÂØ∏ ÈÄöË°åËØÅ2 ÔºöÊ£ÄÊü•ÁõÆÂΩïÁªìÊûÑ ÈÄöË°åËØÅ3 ÔºöÊ£ÄÊü•ÁõÆÂΩïÁöÑËøûÊé• ÈÄö4 ÔºöÊ£ÄÊü•ÂºïÁî®ËÆ°Êï∞ ‰º†ÈÄí5 ÔºöÊ£ÄÊü•ÁªÑ ÊëòË¶Å‰ø°ÊÅØ vbird_logical Ôºö11 /‰∫åÂçÅ‰∫î‰∏á‰∏ÄÂçÉ‰πùÁôæÂÖ≠ÂçÅÂÖ´Êñá‰ª∂Ôºà9.1 ÔºÖÈùû-ËøûÁª≠ÁöÑÔºâÔºå36926 /‰∏ÄÁôæ‰∏áÂõõÂçÉÈõ∂ÂõõÂçÅÂÖ≠Âùó Â¶ÇÊûúÊ≤°ÊúâÂä†‰∏ä-fÁöÑÈÄâÈ°πÔºåÂàôÁî±‰∫éËØ•Êñá‰ª∂Á≥ªÁªü‰∏çÊõæÂá∫Áé∞ÈóÆÈ¢òÔºåÊ£ÄÊü•ÁöÑÁªèËøáÈùûÂ∏∏Âø´ÈÄüÔºÅËã•Âä†‰∏ä-fÂº∫Âà∂Ê£ÄÊü•ÔºåÂè™‰ºöÊúâ‰∏ÄÈ°πÁöÑÊòæÁ§∫ËøáÁ®ã„ÄÇ Á£ÅÁõòÊåÇËΩΩ‰∏éÂç∏Èô§ LinuxÁöÑÁ£ÅÁõòÊåÇËΩΩ‰ΩøÁî®mountÂëΩ‰ª§ÔºåÂç∏ËΩΩ‰ΩøÁî®umountÂëΩ‰ª§„ÄÇ Á£ÅÁõòÊåÇËΩΩËØ≠Ê≥ïÔºö mount [ -tÊñá‰ª∂Á≥ªÁªü] [ -LÊ†áÁ≠æÂêç] [ -oÂÖ∂‰ªñÈÄâÈ°π] [ -n ]Ë£ÖÁΩÆÊñá‰ª∂ÂêçÊåÇËΩΩÁÇπ ÂÆû‰æã1 Áî®ÊúÄÂ∞èÁöÑÊñπÂºèÔºåÂ∞ÜÂàöÂàöÂàõÂª∫ÁöÑ/ dev / hdc6ÊåÇËΩΩÂà∞/ mnt / hdc6‰∏äÈù¢ÔºÅ [Ê†π@ WWW „Äú]ÔºÉMKDIR / MNT / hdc6 [Ê†π@ WWW „Äú]ÔºÉÂÆâË£Ö/ devÁöÑ/ hdc6 / MNT / hdc6 [Ê†π@ WWW „Äú]ÔºÉDF Êñá‰ª∂Á≥ªÁªü1K -Âùó Áî®‰∫éÊé®‰ªã‰ΩøÁî®ÔºÖÂÆâË£Ö‰∏ä .... „ÄÇ‰∏≠Èó¥ÁúÅÁï•..... / dev / hdc6 1976312 42072 1833836 3 ÔºÖ/ mnt / hdc6 Á£ÅÁõòÂç∏ËΩΩÂëΩ‰ª§umountËØ≠Ê≥ïÔºö Âç∏Èô§[ - FN ]Ë£ÖÁΩÆÊñá‰ª∂ÂêçÊàñÊåÇËΩΩÁÇπ ÈÄâÈ°π‰∏éÂèÇÊï∞Ôºö -fÔºöÂº∫Âà∂Âç∏Èô§ÔºÅÂèØÁî®Âú®Á±ª‰ººÁΩëÁªúÊñá‰ª∂Á≥ªÁªüÔºàNFSÔºâÊó†Ê≥ïËØªÂèñÂà∞ÁöÑÊÉÖÂÜµ‰∏ãÔºõ -nÔºö‰∏çÂçáÁ∫ß/ etc / mtabÊÉÖÂÜµ‰∏ãÂç∏Èô§„ÄÇ Âç∏ËΩΩ/ dev / hdc6 [Ê†π@ WWW „Äú]ÔºÉÂç∏Èô§/ devÁöÑ/ hdc6 vi/vim ÊâÄÊúâÁöÑ Unix Like Á≥ªÁªüÈÉΩ‰ºöÂÜÖÂª∫ vi Êñá‰π¶ÁºñËæëÂô®ÔºåÂÖ∂‰ªñÁöÑÊñá‰π¶ÁºñËæëÂô®Âàô‰∏ç‰∏ÄÂÆö‰ºöÂ≠òÂú®„ÄÇ‰ΩÜÊòØÁõÆÂâçÊàë‰ª¨‰ΩøÁî®ÊØîËæÉÂ§öÁöÑÊòØ vim ÁºñËæëÂô®„ÄÇvim ÂÖ∑ÊúâÁ®ãÂ∫èÁºñËæëÁöÑËÉΩÂäõÔºåÂèØ‰ª•‰∏ªÂä®ÁöÑ‰ª•Â≠ó‰ΩìÈ¢úËâ≤Ëæ®Âà´ËØ≠Ê≥ïÁöÑÊ≠£Á°ÆÊÄßÔºåÊñπ‰æøÁ®ãÂ∫èËÆæËÆ°„ÄÇ ‰ªÄ‰πàÊòØ vimÔºü VimÊòØ‰ªé vi ÂèëÂ±ïÂá∫Êù•ÁöÑ‰∏Ä‰∏™ÊñáÊú¨ÁºñËæëÂô®„ÄÇ‰ª£Á†ÅË°•ÂÆå„ÄÅÁºñËØëÂèäÈîôËØØË∑≥ËΩ¨Á≠âÊñπ‰æøÁºñÁ®ãÁöÑÂäüËÉΩÁâπÂà´‰∏∞ÂØåÔºåÂú®Á®ãÂ∫èÂëò‰∏≠Ë¢´ÂπøÊ≥õ‰ΩøÁî®„ÄÇ ÁÆÄÂçïÁöÑÊù•ËØ¥Ôºå vi ÊòØËÄÅÂºèÁöÑÂ≠óÂ§ÑÁêÜÂô®Ôºå‰∏çËøáÂäüËÉΩÂ∑≤ÁªèÂæàÈΩêÂÖ®‰∫ÜÔºå‰ΩÜÊòØËøòÊòØÊúâÂèØ‰ª•ËøõÊ≠•ÁöÑÂú∞Êñπ„ÄÇ vim ÂàôÂèØ‰ª•ËØ¥ÊòØÁ®ãÂ∫èÂºÄÂèëËÄÖÁöÑ‰∏ÄÈ°πÂæàÂ•ΩÁî®ÁöÑÂ∑•ÂÖ∑„ÄÇ Ëøû vim ÁöÑÂÆòÊñπÁΩëÁ´ô (http://www.vim.org) Ëá™Â∑±‰πüËØ¥ vim ÊòØ‰∏Ä‰∏™Á®ãÂ∫èÂºÄÂèëÂ∑•ÂÖ∑ËÄå‰∏çÊòØÊñáÂ≠óÂ§ÑÁêÜËΩØ‰ª∂„ÄÇ vim ÈîÆÁõòÂõæÔºö vi/vim ÁöÑ‰ΩøÁî® Âü∫Êú¨‰∏ä vi/vim ÂÖ±ÂàÜ‰∏∫‰∏âÁßçÊ®°ÂºèÔºåÂàÜÂà´ÊòØÂëΩ‰ª§Ê®°ÂºèÔºàCommand modeÔºâÔºåËæìÂÖ•Ê®°ÂºèÔºàInsert modeÔºâÂíåÂ∫ïÁ∫øÂëΩ‰ª§Ê®°ÂºèÔºàLast line modeÔºâ„ÄÇ Ëøô‰∏âÁßçÊ®°ÂºèÁöÑ‰ΩúÁî®ÂàÜÂà´ÊòØÔºö ÂëΩ‰ª§Ê®°ÂºèÔºö Áî®Êà∑ÂàöÂàöÂêØÂä® vi/vimÔºå‰æøËøõÂÖ•‰∫ÜÂëΩ‰ª§Ê®°Âºè„ÄÇ Ê≠§Áä∂ÊÄÅ‰∏ãÊï≤ÂáªÈîÆÁõòÂä®‰Ωú‰ºöË¢´VimËØÜÂà´‰∏∫ÂëΩ‰ª§ÔºåËÄåÈùûËæìÂÖ•Â≠óÁ¨¶„ÄÇÊØîÂ¶ÇÊàë‰ª¨Ê≠§Êó∂Êåâ‰∏ãiÔºåÂπ∂‰∏ç‰ºöËæìÂÖ•‰∏Ä‰∏™Â≠óÁ¨¶ÔºåiË¢´ÂΩì‰Ωú‰∫Ü‰∏Ä‰∏™ÂëΩ‰ª§„ÄÇ ‰ª•‰∏ãÊòØÂ∏∏Áî®ÁöÑÂá†‰∏™ÂëΩ‰ª§Ôºö i ÂàáÊç¢Âà∞ËæìÂÖ•Ê®°ÂºèÔºå‰ª•ËæìÂÖ•Â≠óÁ¨¶„ÄÇ x Âà†Èô§ÂΩìÂâçÂÖâÊ†áÊâÄÂú®Â§ÑÁöÑÂ≠óÁ¨¶„ÄÇ : ÂàáÊç¢Âà∞Â∫ïÁ∫øÂëΩ‰ª§Ê®°ÂºèÔºå‰ª•Âú®ÊúÄÂ∫ï‰∏ÄË°åËæìÂÖ•ÂëΩ‰ª§„ÄÇ Ëã•ÊÉ≥Ë¶ÅÁºñËæëÊñáÊú¨ÔºöÂêØÂä®VimÔºåËøõÂÖ•‰∫ÜÂëΩ‰ª§Ê®°ÂºèÔºåÊåâ‰∏ãiÔºåÂàáÊç¢Âà∞ËæìÂÖ•Ê®°Âºè„ÄÇ ÂëΩ‰ª§Ê®°ÂºèÂè™Êúâ‰∏Ä‰∫õÊúÄÂü∫Êú¨ÁöÑÂëΩ‰ª§ÔºåÂõ†Ê≠§‰ªçË¶Å‰æùÈù†Â∫ïÁ∫øÂëΩ‰ª§Ê®°ÂºèËæìÂÖ•Êõ¥Â§öÂëΩ‰ª§„ÄÇ ËæìÂÖ•Ê®°Âºè Âú®ÂëΩ‰ª§Ê®°Âºè‰∏ãÊåâ‰∏ãiÂ∞±ËøõÂÖ•‰∫ÜËæìÂÖ•Ê®°Âºè„ÄÇ Âú®ËæìÂÖ•Ê®°Âºè‰∏≠ÔºåÂèØ‰ª•‰ΩøÁî®‰ª•‰∏ãÊåâÈîÆÔºö Â≠óÁ¨¶ÊåâÈîÆ‰ª•ÂèäShiftÁªÑÂêàÔºåËæìÂÖ•Â≠óÁ¨¶ ENTERÔºåÂõûËΩ¶ÈîÆÔºåÊç¢Ë°å BACK SPACEÔºåÈÄÄÊ†ºÈîÆÔºåÂà†Èô§ÂÖâÊ†áÂâç‰∏Ä‰∏™Â≠óÁ¨¶ DELÔºåÂà†Èô§ÈîÆÔºåÂà†Èô§ÂÖâÊ†áÂêé‰∏Ä‰∏™Â≠óÁ¨¶ ÊñπÂêëÈîÆÔºåÂú®ÊñáÊú¨‰∏≠ÁßªÂä®ÂÖâÊ†á HOME/ENDÔºåÁßªÂä®ÂÖâÊ†áÂà∞Ë°åÈ¶ñ/Ë°åÂ∞æ Page Up/Page DownÔºå‰∏ä/‰∏ãÁøªÈ°µ InsertÔºåÂàáÊç¢ÂÖâÊ†á‰∏∫ËæìÂÖ•/ÊõøÊç¢Ê®°ÂºèÔºåÂÖâÊ†áÂ∞ÜÂèòÊàêÁ´ñÁ∫ø/‰∏ãÂàíÁ∫ø ESCÔºåÈÄÄÂá∫ËæìÂÖ•Ê®°ÂºèÔºåÂàáÊç¢Âà∞ÂëΩ‰ª§Ê®°Âºè Â∫ïÁ∫øÂëΩ‰ª§Ê®°Âºè Âú®ÂëΩ‰ª§Ê®°Âºè‰∏ãÊåâ‰∏ã:ÔºàËã±ÊñáÂÜíÂè∑ÔºâÂ∞±ËøõÂÖ•‰∫ÜÂ∫ïÁ∫øÂëΩ‰ª§Ê®°Âºè„ÄÇ Â∫ïÁ∫øÂëΩ‰ª§Ê®°ÂºèÂèØ‰ª•ËæìÂÖ•Âçï‰∏™ÊàñÂ§ö‰∏™Â≠óÁ¨¶ÁöÑÂëΩ‰ª§ÔºåÂèØÁî®ÁöÑÂëΩ‰ª§ÈùûÂ∏∏Â§ö„ÄÇ Âú®Â∫ïÁ∫øÂëΩ‰ª§Ê®°Âºè‰∏≠ÔºåÂü∫Êú¨ÁöÑÂëΩ‰ª§ÊúâÔºàÂ∑≤ÁªèÁúÅÁï•‰∫ÜÂÜíÂè∑ÔºâÔºö q ÈÄÄÂá∫Á®ãÂ∫è w ‰øùÂ≠òÊñá‰ª∂ ÊåâESCÈîÆÂèØÈöèÊó∂ÈÄÄÂá∫Â∫ïÁ∫øÂëΩ‰ª§Ê®°Âºè„ÄÇ ÁÆÄÂçïÁöÑËØ¥ÔºåÊàë‰ª¨ÂèØ‰ª•Â∞ÜËøô‰∏â‰∏™Ê®°ÂºèÊÉ≥ÊàêÂ∫ï‰∏ãÁöÑÂõæÊ†áÊù•Ë°®Á§∫ vi/vim ‰ΩøÁî®ÂÆû‰æã ‰ΩøÁî® vi/vim ËøõÂÖ•‰∏ÄËà¨Ê®°Âºè Â¶ÇÊûú‰Ω†ÊÉ≥Ë¶Å‰ΩøÁî® vi Êù•Âª∫Á´ã‰∏Ä‰∏™Âêç‰∏∫ runoob.txt ÁöÑÊñá‰ª∂Êó∂Ôºå‰Ω†ÂèØ‰ª•ËøôÊ†∑ÂÅöÔºö $ vim runoob.txt Áõ¥Êé•ËæìÂÖ• vi Êñá‰ª∂Âêç Â∞±ËÉΩÂ§üËøõÂÖ• vi ÁöÑ‰∏ÄËà¨Ê®°Âºè‰∫Ü„ÄÇËØ∑Ê≥®ÊÑèÔºåËÆ∞Âæó vi ÂêéÈù¢‰∏ÄÂÆöË¶ÅÂä†Êñá‰ª∂ÂêçÔºå‰∏çÁÆ°ËØ•Êñá‰ª∂Â≠òÂú®‰∏éÂê¶ÔºÅ - Êåâ‰∏ã i ËøõÂÖ•ËæìÂÖ•Ê®°Âºè(‰πüÁß∞‰∏∫ÁºñËæëÊ®°Âºè)ÔºåÂºÄÂßãÁºñËæëÊñáÂ≠ó Âú®‰∏ÄËà¨Ê®°Âºè‰πã‰∏≠ÔºåÂè™Ë¶ÅÊåâ‰∏ã i, o, a Á≠âÂ≠óÁ¨¶Â∞±ÂèØ‰ª•ËøõÂÖ•ËæìÂÖ•Ê®°Âºè‰∫ÜÔºÅ Âú®ÁºñËæëÊ®°ÂºèÂΩì‰∏≠Ôºå‰Ω†ÂèØ‰ª•ÂèëÁé∞Âú®Â∑¶‰∏ãËßíÁä∂ÊÄÅÊ†è‰∏≠‰ºöÂá∫Áé∞ ‚ÄìINSERT- ÁöÑÂ≠óÊ†∑ÔºåÈÇ£Â∞±ÊòØÂèØ‰ª•ËæìÂÖ•‰ªªÊÑèÂ≠óÁ¨¶ÁöÑÊèêÁ§∫„ÄÇ Ëøô‰∏™Êó∂ÂÄôÔºåÈîÆÁõò‰∏äÈô§‰∫Ü Esc Ëøô‰∏™ÊåâÈîÆ‰πãÂ§ñÔºåÂÖ∂‰ªñÁöÑÊåâÈîÆÈÉΩÂèØ‰ª•ËßÜ‰Ωú‰∏∫‰∏ÄËà¨ÁöÑËæìÂÖ•ÊåâÈíÆ‰∫ÜÔºåÊâÄ‰ª•‰Ω†ÂèØ‰ª•ËøõË°å‰ªª‰ΩïÁöÑÁºñËæë„ÄÇ - Êåâ‰∏ã ESC ÊåâÈíÆÂõûÂà∞‰∏ÄËà¨Ê®°Âºè Â•Ω‰∫ÜÔºåÂÅáËÆæÊàëÂ∑≤ÁªèÊåâÁÖß‰∏äÈù¢ÁöÑÊ†∑ÂºèÁªô‰ªñÁºñËæëÂÆåÊØï‰∫ÜÔºåÈÇ£‰πàÂ∫îËØ•Ë¶ÅÂ¶Ç‰ΩïÈÄÄÂá∫Âë¢ÔºüÊòØÁöÑÔºÅÊ≤°ÈîôÔºÅÂ∞±ÊòØÁªô‰ªñÊåâ‰∏ã Esc Ëøô‰∏™ÊåâÈíÆÂç≥ÂèØÔºÅÈ©¨‰∏ä‰Ω†Â∞±‰ºöÂèëÁé∞ÁîªÈù¢Â∑¶‰∏ãËßíÁöÑ ‚Äì INSERT ‚Äì ‰∏çËßÅ‰∫ÜÔºÅ Âú®‰∏ÄËà¨Ê®°Âºè‰∏≠Êåâ‰∏ã :wq ÂÇ®Â≠òÂêéÁ¶ªÂºÄ vi OKÔºåÊàë‰ª¨Ë¶ÅÂ≠òÊ°£‰∫ÜÔºåÂ≠òÁõòÂπ∂Á¶ªÂºÄÁöÑÊåá‰ª§ÂæàÁÆÄÂçïÔºåËæìÂÖ• :wq Âç≥ÂèØ‰øùÂ≠òÁ¶ªÂºÄÔºÅ - Linux vi_vim _ ËèúÈ∏üÊïôÁ®ã.pdf Linux yumÂëΩ‰ª§ yumÔºàYellow dog UpdaterÔºåModifiedÔºâÊòØ‰∏Ä‰∏™Âú®FedoraÂíåRedHat‰ª•ÂèäSUSE‰∏≠ÁöÑShellÂâçÁ´ØËøûÊé•ÁÆ°ÁêÜÂô®„ÄÇ Âü∫‰∫éRPMÂåÖÁÆ°ÁêÜÔºåËÉΩÂ§ü‰ªéÊåáÂÆöÁöÑÊúçÂä°Âô®Ëá™Âä®‰∏ãËΩΩRPMÂåÖÂíåÂÆâË£ÖÔºåÂèØ‰ª•Ëá™Âä®Â§ÑÁêÜÁõ∏ÂØπÂÖ≥Á≥ªÔºåÂπ∂‰∏î‰∏ÄÊ¨°ÂÆâË£ÖÊâÄÊúâ‰æùËµñÁöÑËΩØ‰ª∂ÂåÖÔºåÊó†È°ªÁπÅÁêêÂú∞‰∏ÄÊ¨°Ê¨°‰∏ãËΩΩÔºåÂÆâË£Ö„ÄÇ yumÊèê‰æõ‰∫ÜÊü•ÊâæÔºåÂÆâË£ÖÔºåÂà†Èô§Êüê‰∫∫ÔºåÂ§ö‰∏™ÁîöËá≥ÂÖ®ÈÉ®ÂÆåÂÖ®ÁöÑÂëΩ‰ª§ÔºåËÄå‰∏îÂëΩ‰ª§ÁÆÄÊ¥ÅËÄåÂèàÂ•ΩËÆ∞„ÄÇ yumËØ≠Ê≥ï yum [ÈÄâÈ°π] [ÂëΩ‰ª§] [ÂåÖ...] ÈÄâÈ°πÔºö‰ªªÈÄâÔºåÈÄâÈ°πÂåÖÊã¨-hÔºàÂ∏ÆÂä©ÔºâÔºå-yÔºàÂΩìÂÆâË£ÖËøáÁ®ãÊèêÁ§∫ÈÄâÊã©ÂÖ®ÈÉ®‰∏∫‚Äú yes‚ÄùÔºâÔºå-qÔºà‰∏çÊòæÁ§∫ÂÆâË£ÖÁöÑËøáÁ®ãÔºâÁ≠âÁ≠â„ÄÇ ÂëΩ‰ª§ÔºöË¶ÅËøõË°åÁöÑÊìç‰Ωú„ÄÇ packageÔºöÂÆâË£ÖÁöÑÂåÖÂêç„ÄÇ yumÂ∏∏Áî®ÂëΩ‰ª§ 1.ÂàóÂá∫ÊâÄÊúâÂèØÊõ¥Êñ∞ÁöÑËΩØ‰ª∂Ê∏ÖÂçïÂëΩ‰ª§Ôºöyum check-update 2.Êõ¥Êñ∞ÊâÄÊúâËΩØ‰ª∂ÂëΩ‰ª§Ôºöyum update 3.‰ªÖÂÆâË£ÖÊåáÂÆöÁöÑËΩØ‰ª∂ÂëΩ‰ª§Ôºöyum install &lt;Á®ãÂ∫èÂåÖÂêçÁß∞&gt; 4.‰ªÖÊõ¥Êñ∞ÊåáÂÆöÁöÑËΩØ‰ª∂ÂëΩ‰ª§Ôºöyum update &lt;Á®ãÂ∫èÂåÖÂêçÁß∞&gt; 5.ÂàóÂá∫ÊâÄÊúâÂèØÂÆâË£ÖÁöÑËΩØ‰ª∂Ê∏ÖÂçïÂëΩ‰ª§ÔºöÁôæËÉúÂêçÂçï 6.Âà†Èô§Âà†Èô§ÂëΩ‰ª§Ôºöyum remove &lt;package_name&gt; 7.Êü•ÊâæÊôÆÈÄöÂëΩ‰ª§Ôºöyum search &lt;ÂÖ≥ÈîÆÂ≠ó&gt; 8.Ê∏ÖÈô§ÁºìÂ≠òÂëΩ‰ª§Ôºö ÁôæËÉúÊ∏ÖÊ¥ÅÂåÖÔºöÊ∏ÖÈô§ÁºìÂ≠òÁõÆÂΩï‰∏ãÁöÑÂèåÈáç yum clean headersÔºöÊ∏ÖÈô§ÁºìÂ≠òÁõÆÂΩï‰∏ãÁöÑheaders yum clean oldheadersÔºöÊ∏ÖÈô§ÁºìÂ≠òÁõÆÂΩï‰∏ãÊóßÁöÑÊ†áÈ¢ò yum cleanÔºåyum clean allÔºà= yum clean package; yum clean oldheadersÔºâÔºöÊ∏ÖÈô§ÁºìÂ≠òÁõÆÂΩï‰∏ãÁöÑÂâØÊú¨ÂèäÊóßÁöÑÊ†áÈ¢ò ÂÆû‰æã1 ÂÆâË£Öpam-devel [Ê†π@ WWW „Äú]ÔºÉÁôæËÉúÂÆâË£ÖPAM - develÁöÑ ËÆæÁΩÆ‰∫ÜÂÆâË£ÖËøáÁ®ãËß£ÊûêÂåÖÂÆâË£ÖÂèÇÊï∞ Ëß£Êûê‰æùËµñÊÄß&lt;==ÂÖàÊ£ÄÊü•ËΩØ‰ª∂ÁöÑÂ±ûÊÄßÁõ∏‰æùÈóÆÈ¢ò- &gt;ËøêË°åÁöÑ‰∫ãÂä°Ê£ÄÊü• ---&gt;Â∞ÅË£ÖPAM - develÁöÑ„ÄÇi386 0 Ôºö0.99 „ÄÇ6.2 - 4.el5ÈõÜË¢´Êõ¥Êñ∞ Â§ÑÁêÜÁõ∏ÂÖ≥ÔºöPAM = 0.99 „ÄÇ6.2 - 4.el5ÁöÑÂåÖÔºöPAM - develÁöÑ ËøêË°å‰∫§ÊòìÊ£ÄÊü• ---&gt;ÂåÖË£ÖPAM „ÄÇi386 0 Ôºö0.99 „ÄÇ6.2 - 4.el5ÈõÜËøõË°åÊõ¥Êñ∞ Êñá‰ª∂ÂàóË°®„ÄÇxml „ÄÇgz 100 ÔºÖ| ======================== | 1.6 MB 00 Ôºö05 ÁöÑÊñá‰ª∂ÂàóË°®„ÄÇxml „ÄÇgz 100 ÔºÖ| ======================== | 138 kB 00 : 00- &gt;ÂÆåÊàêÁöÑ‰æùËµñÊÄßËß£Êûê‚Ä¶‚Ä¶ÔºàÁúÅÁï•Ôºâ ÂÆû‰æã2 ÂèØÊãÜÂç∏pam-devel [Ê†π@ WWW „Äú]ÔºÉËç´Âà†Èô§PAM - develÁöÑ ËÆæÁΩÆ‰∫ÜÂà†Èô§ËøáÁ®ãËß£ÂÜ≥‰æùËµñ&lt;==ÂêåÊ†∑ÁöÑÔºåÂÖàËß£ÂÜ≥Â±ûÊÄßÁõ∏‰æùÁöÑÈóÆÈ¢ò- &gt;ËøêË°åÁöÑ‰∫ãÂä°Ê£ÄÊü• ---&gt;Â∞ÅË£ÖPAM - develÁöÑ„ÄÇi386 0 Ôºö0.99 „ÄÇ6.2 - 4.el5ÈõÜË¢´Êì¶Èô§ ÊàêÂìÅ‰æùËµñÂÜ≥ËÆÆ Ëß£ÂÜ≥‰æùËµñÊÄß ================================================== =ËΩØ‰ª∂ÂåÖArchÁâàÊú¨Â∫ìÂ§ßÂ∞è ================================================== =Âà†Èô§Ôºö pam - devel i386 0.99 „ÄÇ6.2 - 4.el5 ÂÆâË£Ö 495 ƒ∑ ‰∫§ÊòìÊëòË¶Å================================ =============================ÂÆâË£Ö0ÂåÖÔºàÂ∞èÂè∑ÔºâÊõ¥Êñ∞0ÂåÖÔºàÂ∞èÂè∑Ôºâ‰∏≠ÂèñÂá∫1ÂåÖÔºàÂ∞èÂè∑Ôºâ&lt;==ËøòÂ•ΩÔºåÂπ∂Ê≤°ÊúâÂ±ûÊÄßÁõ∏‰æùÁöÑÈóÆÈ¢òÔºåÂçïÁ∫ØÂèØÁßªÈô§‰∏Ä‰∏™ËΩØ‰ª∂ ÊòØËØ•Ë°å[ √ø / √ë ]Ôºö≈∏ ‰∏ãËΩΩËΩØ‰ª∂ÂåÖÔºöËøêË°årpm_check_debug ËøêË°å‰∫§ÊòìÊµãËØïÂ∑≤ÂÆåÊàêÁöÑ‰∫§ÊòìÊµãËØïÁöÑ‰∫§ÊòìÊµãËØïÊàêÂäüËøêË°å‰∫§ÊòìÊì¶Èô§ÔºöPAM - develÁöÑ ################### ###### [1/1] Âà†Èô§Ôºöpam - devel „ÄÇi386 0 Ôºö0.99 „ÄÇ6.2 - 4.el5ÂÆåÊàêÔºÅ ÂÆû‰æã3 Âà©Áî®yumÁöÑÂäüËÉΩÔºåÂèëÁé∞‰ª•pam‰∏∫ÂºÄÂ§¥ÁöÑËΩØ‰ª∂ÂêçÁß∞Êúâ‰ªÄ‰πàÔºü [ root @ www„Äú] ÔºÉyum list pam *Â∑≤ÂÆâË£ÖÁöÑËΩØ‰ª∂ÂåÖ pam „ÄÇi386 0.99 „ÄÇ6.2 - 3.27 „ÄÇÂ∑≤ÂÆâË£Öel5 pam_ccreds „ÄÇI386 3 - 5 ÂÆâË£Ö pam_krb5 „ÄÇi386 2.2 „ÄÇ14 - 1 ÂÆâË£Ö pam_passwdqc „ÄÇi386 1.0 „ÄÇ2 - 1.2 „ÄÇ2 ÂÆâË£Ö pam_pkcs11 „ÄÇi386 0.5 „ÄÇ3 - 23 ÂÆâË£Ö pam_smb „ÄÇi386 1.1 „ÄÇ7 - 7.2 „ÄÇ1‰∏™ Â∑≤ÂÆâË£ÖÁöÑ ÂèØÁî®ËΩØ‰ª∂ÂåÖ&lt;==Â∫ï‰∏ãÂàôÊòØ„ÄéÂèØÂçáÁ∫ß„ÄèÁöÑÊàñ„ÄéÊú™ÂÆâË£Ö„ÄèÁöÑ pam „ÄÇi386 0.99 „ÄÇ6.2 - 4.el5Âü∫ PAM - develÁöÑ„ÄÇi386 0.99 „ÄÇ6.2 - 4.el5Âü∫ pam_krb5ÁöÑ„ÄÇi386 2.2 „ÄÇ14 - 10Âü∫ ÂõΩÂÜÖyumÊ∫ê ÁΩëÊòìÔºà163ÔºâyumÊ∫êÊòØÂõΩÂÜÖÊúÄÂ•ΩÁöÑyumÊ∫ê‰πã‰∏ÄÔºåÊó†ËÆ∫ÊòØÈÄüÂ∫¶ËøòÊòØËΩØ‰ª∂ÁâàÊú¨ÔºåÈÉΩÈùûÂ∏∏ÁöÑ‰∏çÈîô„ÄÇ Â∞ÜyumÊ∫êËÆæÁΩÆ‰∏∫163 yumÔºåÂèØ‰ª•ÊèêÈ´òÊâ©Â±ïÂÆâË£ÖÂíåÊõ¥Êñ∞ÁöÑÈÄüÂ∫¶ÔºåÂêåÊó∂ÈÅøÂÖç‰∏Ä‰∫õÂ∏∏ËßÅËΩØ‰ª∂ÁâàÊú¨Êó†Ê≥ïÊâæÂà∞„ÄÇ ÂÆâË£ÖÊ≠•È™§ È¶ñÂÖàÂ§á‰ªΩ/etc/yum.repos.d/CentOS-Base.repo mv / etc / yum „ÄÇÂõûË¥≠„ÄÇd / CentOSÁöÑ-Âü∫Á°Ä„ÄÇÂõûË¥≠/ etc / yum „ÄÇÂõûË¥≠„ÄÇd / CentOSÁöÑ-Âü∫Á°Ä„ÄÇÂõûË¥≠„ÄÇÂêéÂ§á ‰∏ãËΩΩÂØπÂ∫îÁâàÊú¨repoÊñá‰ª∂ÔºåÂä†ÂÖ•/etc/yum.repos.d/ÔºàÊìç‰ΩúÂâçËØ∑ÂÅöÂ•ΩÁõ∏Â∫îÂ§á‰ªΩÔºâ CentOS5ÔºöhttpÔºö//mirrors.163.com/.help/CentOS5-Base-163.repo CentOS6ÔºöhttpÔºö//mirrors.163.com/.help/CentOS6-Base-163.repo CentOS7ÔºöhttpÔºö//mirrors.163.com/.help/CentOS7-Base-163.repo wgetÁöÑHTTP Ôºö//mirrors.163.com/.help/CentOS6-Base-163.repo MV CentOS6 -Âü∫Âú∞- 163.repoÁöÑCentOS -Âü∫Âú∞„ÄÇÂõûË¥≠ ËøêË°å‰ª•‰∏ãÂëΩ‰ª§ÁîüÊàêÁºìÂ≠ò ÁôæËÉúÊ∏ÖÁêÜÊâÄÊúâ yum makecache Èô§‰∫ÜÁΩëÊòì‰πãÂ§ñÔºåÂõΩÂÜÖËøòÊúâÂÖ∂‰ªñ‰∏çÈîôÁöÑyumÊ∫êÔºåÊüê‰∫õ‰∏≠ÁßëÂ§ßÂíåÊêúÁãê„ÄÇ ‰∏≠ÁßëÂ§ßÁöÑyumÊ∫êÔºåÂÆâË£ÖÊñπÊ≥ïÊü•ÁúãÔºöhttps üòï/lug.ustc.edu.cn/wiki/mirrors/help/centos sohuÁöÑyumÊ∫êÂÆâË£ÖÊñπÊ≥ïÊü•ÁúãÔºöhttp : //mirrors.sohu.com/help/centos.html Linux apt ÂëΩ‰ª§ aptÔºàAdvanced Packaging ToolÔºâÊòØ‰∏Ä‰∏™Âú® Debian Âíå Ubuntu ‰∏≠ÁöÑ Shell ÂâçÁ´ØËΩØ‰ª∂ÂåÖÁÆ°ÁêÜÂô®„ÄÇ apt ÂëΩ‰ª§Êèê‰æõ‰∫ÜÊü•Êâæ„ÄÅÂÆâË£Ö„ÄÅÂçáÁ∫ß„ÄÅÂà†Èô§Êüê‰∏Ä‰∏™„ÄÅ‰∏ÄÁªÑÁîöËá≥ÂÖ®ÈÉ®ËΩØ‰ª∂ÂåÖÁöÑÂëΩ‰ª§ÔºåËÄå‰∏îÂëΩ‰ª§ÁÆÄÊ¥ÅËÄåÂèàÂ•ΩËÆ∞„ÄÇ apt ÂëΩ‰ª§ÊâßË°åÈúÄË¶ÅË∂ÖÁ∫ßÁÆ°ÁêÜÂëòÊùÉÈôê(root)„ÄÇ apt ËØ≠Ê≥ï apt [options] [command] [package ...] optionsÔºöÂèØÈÄâÔºåÈÄâÈ°πÂåÖÊã¨ -hÔºàÂ∏ÆÂä©ÔºâÔºå-yÔºàÂΩìÂÆâË£ÖËøáÁ®ãÊèêÁ§∫ÈÄâÊã©ÂÖ®ÈÉ®‰∏∫&quot;yes&quot;ÔºâÔºå-qÔºà‰∏çÊòæÁ§∫ÂÆâË£ÖÁöÑËøáÁ®ãÔºâÁ≠âÁ≠â„ÄÇ commandÔºöË¶ÅËøõË°åÁöÑÊìç‰Ωú„ÄÇ packageÔºöÂÆâË£ÖÁöÑÂåÖÂêç„ÄÇ apt Â∏∏Áî®ÂëΩ‰ª§ ÂàóÂá∫ÊâÄÊúâÂèØÊõ¥Êñ∞ÁöÑËΩØ‰ª∂Ê∏ÖÂçïÂëΩ‰ª§Ôºösudo apt update ÂçáÁ∫ßËΩØ‰ª∂ÂåÖÔºösudo apt upgrade ÂàóÂá∫ÂèØÊõ¥Êñ∞ÁöÑËΩØ‰ª∂ÂåÖÂèäÁâàÊú¨‰ø°ÊÅØÔºöapt list --upgradeable ÂçáÁ∫ßËΩØ‰ª∂ÂåÖÔºåÂçáÁ∫ßÂâçÂÖàÂà†Èô§ÈúÄË¶ÅÊõ¥Êñ∞ËΩØ‰ª∂ÂåÖÔºösudo apt full-upgrade ÂÆâË£ÖÊåáÂÆöÁöÑËΩØ‰ª∂ÂëΩ‰ª§Ôºösudo apt install &lt;package_name&gt; ÂÆâË£ÖÂ§ö‰∏™ËΩØ‰ª∂ÂåÖÔºösudo apt install &lt;package_1&gt; &lt;package_2&gt; &lt;package_3&gt; Êõ¥Êñ∞ÊåáÂÆöÁöÑËΩØ‰ª∂ÂëΩ‰ª§Ôºösudo apt update &lt;package_name&gt; ÊòæÁ§∫ËΩØ‰ª∂ÂåÖÂÖ∑‰Ωì‰ø°ÊÅØ,‰æãÂ¶ÇÔºöÁâàÊú¨Âè∑ÔºåÂÆâË£ÖÂ§ßÂ∞èÔºå‰æùËµñÂÖ≥Á≥ªÁ≠âÁ≠âÔºösudo apt show &lt;package_name&gt; Âà†Èô§ËΩØ‰ª∂ÂåÖÂëΩ‰ª§Ôºösudo apt remove &lt;package_name&gt; Ê∏ÖÁêÜ‰∏çÂÜç‰ΩøÁî®ÁöÑ‰æùËµñÂíåÂ∫ìÊñá‰ª∂: sudo apt autoremove ÁßªÈô§ËΩØ‰ª∂ÂåÖÂèäÈÖçÁΩÆÊñá‰ª∂: sudo apt purge &lt;package_name&gt; Êü•ÊâæËΩØ‰ª∂ÂåÖÂëΩ‰ª§Ôºö sudo apt search ÂàóÂá∫ÊâÄÊúâÂ∑≤ÂÆâË£ÖÁöÑÂåÖÔºöapt list --installed ÂàóÂá∫ÊâÄÊúâÂ∑≤ÂÆâË£ÖÁöÑÂåÖÁöÑÁâàÊú¨‰ø°ÊÅØÔºöapt list --all-versions ÂÆû‰æã Êü•Áúã‰∏Ä‰∫õÂèØÊõ¥Êñ∞ÁöÑÂåÖÔºö sudo apt update ÂçáÁ∫ßÂÆâË£ÖÂåÖÔºö sudo apt upgrade Âú®‰ª•‰∏ä‰∫§‰∫íÂºèËæìÂÖ•Â≠óÊØç Y Âç≥ÂèØÂºÄÂßãÂçáÁ∫ß„ÄÇ ÂèØ‰ª•Â∞Ü‰ª•‰∏ã‰∏§‰∏™ÂëΩ‰ª§ÁªÑÂêàËµ∑Êù•Ôºå‰∏ÄÈîÆÂçáÁ∫ßÔºö sudo apt update &amp;&amp; sudo apt upgrade -y ÂÆâË£Ö mplayer ÂåÖÔºö sudo apt install mplayer Â¶ÇËøá‰∏çÂ§™ËÆ∞ÂæóÂÆåÊï¥ÁöÑÂåÖÂêçÔºåÊàë‰ª¨ÂèØ‰ª•Âè™ËæìÂÖ•ÂâçÂçäÈÉ®ÂàÜÁöÑÂåÖÂêçÔºåÁÑ∂ÂêéÊåâ‰∏ã Tab ÈîÆÔºå‰ºöÂàóÂá∫Áõ∏ÂÖ≥ÁöÑÂåÖÂêçÔºö ‰ª•‰∏äÂÆû‰æãÊàë‰ª¨ËæìÂÖ•Êù• redsÔºåÁÑ∂ÂêéÊåâ‰∏ã Tab ÈîÆÔºåËæìÂá∫Êù•Âõõ‰∏™Áõ∏ÂÖ≥ÁöÑÂåÖ„ÄÇ Â¶ÇÊûúÊàë‰ª¨ÊÉ≥ÂÆâË£Ö‰∏Ä‰∏™ËΩØ‰ª∂ÂåÖÔºå‰ΩÜÂ¶ÇÊûúËΩØ‰ª∂ÂåÖÂ∑≤ÁªèÂ≠òÂú®ÔºåÂàô‰∏çË¶ÅÂçáÁ∫ßÂÆÉÔºåÂèØ‰ª•‰ΩøÁî® ‚Äìno-upgrade ÈÄâÈ°π: sudo apt install &lt;package_name&gt; --no-upgrade ÂÆâË£Ö mplayer Â¶ÇÊûúÂ≠òÂú®Âàô‰∏çË¶ÅÂçáÁ∫ßÔºö sudo apt install mplayer --no-upgrade Â¶ÇÊûúÂè™ÊÉ≥ÂçáÁ∫ßÔºå‰∏çË¶ÅÂÆâË£ÖÂèØ‰ª•‰ΩøÁî® --only-upgrade ÂèÇÊï∞Ôºö sudo apt install &lt;package_name&gt; --only-upgrade Âè™ÂçáÁ∫ß mplayerÔºåÂ¶ÇÊûú‰∏çÂ≠òÂú®Â∞±‰∏çË¶ÅÂÆâË£ÖÂÆÉÔºö sudo apt install mplayer --only-upgrade Â¶ÇÊûúÈúÄË¶ÅËÆæÁΩÆÊåáÂÆöÁâàÊú¨ÔºåËØ≠Ê≥ïÊ†ºÂºèÂ¶Ç‰∏ãÔºö sudo apt install &lt;package_name&gt;=&lt;version_number&gt; package_name ‰∏∫ÂåÖÂêçÔºåversion_number ‰∏∫ÁâàÊú¨Âè∑„ÄÇ ÁßªÈô§ÂåÖÂèØ‰ª•‰ΩøÁî® remove ÂëΩ‰ª§Ôºö sudo apt remove mplayer Êü•ÊâæÂêç‰∏∫ libimobile ÁöÑÁõ∏ÂÖ≥ÂåÖÔºö apt search libimobile Êü•Áúã pinta ÂåÖÁöÑÁõ∏ÂÖ≥‰ø°ÊÅØÔºö apt show pinta ÂàóÂá∫ÂèØÊõ¥Êñ∞ÁöÑËΩØ‰ª∂ÂåÖÔºö apt list --upgradeable Ê∏ÖÁêÜ‰∏çÂÜç‰ΩøÁî®ÁöÑ‰æùËµñÂíåÂ∫ìÊñá‰ª∂Ôºö sudo apt autoremove Âú®‰ª•‰∏ä‰∫§‰∫íÂºèËæìÂÖ•Â≠óÊØç Y Âç≥ÂèØÂºÄÂßãÊ∏ÖÁêÜ„ÄÇ","link":"/2021/03/01/Draft/2021/Linux/"},{"title":"NO GAME NO LIFE","text":"Ê∏∏Êàè‰∫∫Áîü üéàüéàüéàüòé Âêâ‰ªñÊâíË∞±--Êï∞Áªò--Ëã±ËØ≠--ÊëÑÂΩ± üòéüéàüéàüéà ÁõÆÂâçÂ≠¶‰π†Ë∑ØÁ∫øÂÜÖÂÆπ ‰ºòÂÖàÁ≠âÁ∫ß Âêâ‰ªñ‰πêÁêÜÔºåÊâíË∞± üòéüòéüòéüòéüòé Êï∞Áªò üòéüòéüòéüòéüòé Ëã±ËØ≠ üòéüòéüòéüòé ÊëÑÂΩ± üòéüòéüòéüòé ËøêÂä® üòéüòéüòéüòé Ëá™Â™í‰Ωì üòéüòéüòéüòé Âπ≥Èù¢ËÆæËÆ° üòéüòéüòéüòé ÁõÆÂâçÂ≠¶‰π†Ë∑ØÁ∫øÂÜÖÂÆπ ‰ºòÂÖàÁ≠âÁ∫ß Èü≥‰πê Âêâ‰ªñÔºåÈí¢Áê¥ÔºåÂ∞§ÂÖãÈáåÈáåÔºåÊãáÊåáÁê¥ÔºåÁÆ´ÔºåÂè£Áê¥ÔºåÊºîÂî±ÔºåËØçÊõ≤ ÁªòÁîª Êï∞Áªò ËÆæËÆ° Âπ≥Èù¢ ËøêÂä® ÁØÆÁêÉÔºåÁΩëÁêÉ ËØ≠Ë®Ä Ëã±ËØ≠ÔºåÊó•ËØ≠ ÊëÑÂΩ± ‰∫∫ÂÉèÔºåÊôØËâ≤ Ëá™Â™í‰Ωì Ââ™ËæëÔºåÁâπÊïà ‰øÆÂõæ ÂäûÂÖ¨ÊïàÁéáÂ∑•ÂÖ∑È´òÁ´ØÊìç‰Ωú OFFICE","link":"/2021/02/25/Draft/2021/NO%20GAME%20NO%20LIFE/"},{"title":"Software Engineer","text":"È´òÁ∫ßÂÖ®Ê†àËΩØ‰ª∂Â∑•Á®ãÂ∏àÂÖªÊàêËÆ∞ GISÁ†îÂèëÂ∑•Á®ãÂ∏àÔºåÂÖ®Ê†àJavaÂºÄÂèëÂ∑•Á®ãÂ∏à üéàüéàüéàüòé TODO üòéüéàüéàüéà ÊäÄÊúØ ËÆæËÆ°Ê®°Âºè Redis ÁÆóÊ≥ï ÁõÆÈ¢ò(JavaÂü∫Á°ÄÊ∑±ÂÖ•ÔºåÂÖ∂‰ªñÈù¢ËØïÈ¢ò) Springcloud ÁõÆÂâçÂ≠¶‰π†Ë∑ØÁ∫øÂÜÖÂÆπ ‰ºòÂÖàÁ≠âÁ∫ß ËÆæËÆ°Ê®°Âºè üòéüòéüòéüòéüòé Redis üòéüòéüòéüòéüòé RabbitMQ üòéüòéüòéüòé Êï∞ÊçÆÂ∫ì‰ºòÂåñ üòéüòéüòéüòé ÁΩëÁªú üòéüòéüòéüòé ÁÆóÊ≥ï üòéüòéüòéüòé SpringCloud üòéüòéüòéüòé GIS üòéüòéüòéüòé Linux üòéüòéüòé JVM üòéüòé Dubbo üòéüòé ElasticSearch üòéüòé Node.js üòéüòé ES6 üòéüòé Docker üòéüòé ÂàÜÂ∏ÉÂºè üòéüòé È´òÂπ∂Âèë üòéüòé Python üòéüòé Â≠¶‰π†ÂÜÖÂÆπ È°πÁõÆÂêçÁß∞ ËØ¶ÁªÜÂÜÖÂÆπ ËøõÂ∫¶ËÆ∞ÂΩï ËΩØ‰ª∂Â∑•Á®ã ÔºàÂæÆÊúçÂä°ÔºåÂàÜÂ∏ÉÂºèÔºåÈ´òÂπ∂ÂèëÔºåÂ§öÁ∫øÁ®ãÔºåÊÄßËÉΩË∞É‰ºòÔºåÁºìÂ≠òÔºåÊ∂àÊÅØÔºåÊêúÁ¥¢ÔºâÂÖ∂‰ªñÂ∫îÁî®ÊúçÂä°Âô®‰∫ÜËß£„ÄÇ È°πÁõÆ ‰∏™‰∫∫ÂçöÂÆ¢ ‰∏™‰∫∫ÂçöÂÆ¢ÂÆåÊàê ÂâçÁ´Ø VUEÔºåBootstrapÔºåJSÔºåHtmlÔºåJQueryÔºåAjaxÔºåThymeleaf,Axios ÂêéÁ´Ø Âü∫Á°ÄÊ∫êÁ†ÅÊ∑±ÂÖ•Ôºå‰ª£Á†ÅÂ§öÂÜôÔºåJVM Ê°ÜÊû∂ Ê°ÜÊû∂ÊâéÂÆûÊ∑±ÂÖ•ÔºåSpringCloudÂ∞ùËØï‰∫ÜËß£ Êï∞ÊçÆÂ∫ì OracleÂü∫Á°Ä‰ΩøÁî®ÔºåMySQL,Á¥¢ÂºïÔºåËß¶ÂèëÂô®ÔºåÂ≠òÂÇ®ËøáÁ®ãÔºå‰ºòÂåñÔºàÊñá‰ª∂ÂåñÔºå‰ªéËÆæËÆ°Âà∞e-rÂõæÂà∞ÂàõÂª∫ÔºâÔºåRedis,MangoDB ÁÆóÊ≥ï ÁÆóÊ≥ïÊú∫ËØïÈ¢ò ËÆæËÆ°Ê®°Âºè MybatisÔºà 1„ÄÅBuilderÊ®°Âºè5„ÄÅÁªÑÂêàÊ®°Âºè9„ÄÅËø≠‰ª£Âô®Ê®°Âºè2„ÄÅÂ∑•ÂéÇÊ®°Âºè3„ÄÅÂçï‰æãÊ®°Âºè4„ÄÅ‰ª£ÁêÜ6„ÄÅÊ®°ÊùøÊñπÊ≥ïÊ®°Âºè7„ÄÅÈÄÇÈÖçÂô®Ê®°Âºè8„ÄÅË£ÖÈ•∞ËÄÖÊ®°ÂºèÔºâSpringÔºà1.ÁÆÄÂçïÂ∑•ÂéÇ2.Â∑•ÂéÇÊñπÊ≥ï3.Âçï‰æãÊ®°Âºè4.ÈÄÇÈÖçÂô®Ê®°Âºè5.Ë£ÖÈ•∞Âô®Ê®°Âºè6.‰ª£ÁêÜÊ®°Âºè7.ËßÇÂØüËÄÖÊ®°Âºè8.Á≠ñÁï•Ê®°Âºè9.Ê®°ÁâàÊñπÊ≥ïÊ®°ÂºèÔºâ ÁΩëÁªú ÂçèËÆÆ Á≥ªÁªü LinuxÂ∏∏Áî®ÂëΩ‰ª§ Â∑•ÂÖ∑ GitÔºåSVNÈ´òÁ∫ßÊìç‰ΩúÔºåPageoffice ÂÆûÊìç Êú∫ËØïÈ¢ò ‰∏≠Èó¥‰ª∂ RabbitMQ ElasticSearch Docker Dubbo ÊµãËØï ÂçïÂÖÉÊµãËØï ÈÉ®ÁΩ≤ ÊúçÂä°Âô®Jboss Áª¥Êä§ ÂÖ∂‰ªñ Python„ÄêÁÜüÊÇâÂü∫Á°Ä„ÄëÂÆâÂçì„ÄêÊúâÊó∂Èó¥‰∫ÜËß£„Äë ÂÖ¨Âè∏ springboot+mybatis+gis+vue+redis+Ê°ÜÊû∂+Âü∫Á°ÄÂâçÂêéÁ´ØÊï∞ÊçÆ‰∫§‰∫í+springcloud„ÄêÊúâÊó∂Èó¥‰∫ÜËß£„Äë","link":"/2021/02/25/Draft/2021/Software%20Engineer/"},{"title":"È≠ëÈ≠ÖÂÖàÁîü | Á®ãÂ∫èÂëòËã±ËØ≠","text":"Êñ∞Â≠¶ÂõõÈóÆ WHY„Äê‰∏éÂâç‰ª£‰ºòÂåñ‰∫Ü‰ªÄ‰πàÔºåÂº•Ë°•‰∫Ü‰ªÄ‰πàÁ©∫ÁôΩ„ÄëÂ≠¶‰π†‰∫§ÊµÅÂ®±‰πê WHAT„ÄêÊ°ÜÊû∂ÔºåÊÄùÁª¥ÂØºÂõæÔºå‰∏ªÈ¢òÊ°ÜÊû∂„ÄëÁ®ãÂ∫èÂëò‰∏ì‰∏öËØçÊ±áÔºåÊó•Â∏∏Ëã±ËØ≠ HOW„ÄêÂ¶Ç‰ΩïËÆ∞ÂøÜÔºåÂ≠¶‰π†ËµÑÊ∫ê„Äë:GoogleÊó•Â∏∏Âåñ„ÄÅËã±ÊñáÊñáÊ°£Êó•Â∏∏Âåñ„ÄÅËØçÊ±áËÆ∞ÂøÜ LEVEL„Äê‰∏çÊòØÊØè‰∏™ÈÉΩÂ≠¶Á≤æ„ÄëÁÜüÁªÉ‰ΩøÁî® Êó•Â∏∏Ëã±ËØ≠ÂçïËØçÂõæÁ§∫ ÁîµÂΩ±„ÄÅ‰π¶Á±ç„ÄÅÊäÄÊúØËã±ÊñáÊñáÊ°£ ÈÄö‰øóÊòìÊáÇÁöÑËã±ËØ≠ËØ≠Ê≥ï ÈíàÂØπËÆ°ÁÆóÊú∫Ëã±ËØ≠ Âè£ËØ≠ÁªÉ‰π†ËÆ∞ÂΩï Ëã±ÊñáÊñáÊ°£ËÆ∞ÂΩï JAVA SpringÂÖ®ÂÆ∂Ê°∂ ËÆ°ÁÆóÊú∫ÂçïËØç","link":"/2021/02/25/Draft/2021/%E6%AF%8F%E6%97%A5%E8%8B%B1%E8%AF%AD/"},{"title":"È≠ëÈ≠ÖÂÖàÁîü | Èü≥‰πê","text":"‰πêÁêÜ„ÄÅÂêâ‰ªñ„ÄÅÂ∞§ÂÖãÈáåÈáå„ÄÅÈí¢Áê¥„ÄÅÊãáÊåáÁê¥ ‰πêÁêÜÊåáÂçó Âêâ‰ªñÊåáÂçó","link":"/2021/02/25/Draft/2021/%E9%9F%B3%E4%B9%90/"},{"title":"SpringCloud","text":"Êñ∞Â≠¶ÂõõÈóÆ WHY„Äê‰∏éÂâç‰ª£‰ºòÂåñ‰∫Ü‰ªÄ‰πàÔºåÂº•Ë°•‰∫Ü‰ªÄ‰πàÁ©∫ÁôΩ„ÄëÂæÆÊúçÂä°Ôºå‰∏ªÊµÅ WHAT„ÄêÊ°ÜÊû∂ÔºåÊÄùÁª¥ÂØºÂõæÔºå‰∏ªÈ¢òÊ°ÜÊû∂„ÄëeurekaÊ≥®ÂÜå‰∏≠ÂøÉÔºåGatewayÁΩëÂÖ≥ÔºåRibbonË¥üËΩΩÂùáË°°ÔºåFeignÊúçÂä°Ë∞ÉÁî®ÔºåHystrixÁÜîÊñ≠Âô®Á≠âÔºåspringcloudalibaba HOW„ÄêÂ¶Ç‰ΩïËÆ∞ÂøÜÔºåÂ≠¶‰π†ËµÑÊ∫ê„Äë:bilibiliÔºåÂÆòÁΩë LEVEL„Äê‰∏çÊòØÊØè‰∏™ÈÉΩÂ≠¶Á≤æ„ÄëÂΩìÂâçÈò∂ÊÆµÁÜüÁªÉËøêÁî® Spring Cloud „ÄêHoxton„Äë ÁÆÄ‰ªã 1. Á≥ªÁªüÊû∂ÊûÑÊºîÂèò ÈöèÁùÄ‰∫íËÅîÁΩëÁöÑÂèëÂ±ïÔºåÁΩëÁ´ôÂ∫îÁî®ÁöÑËßÑÊ®°‰∏çÊñ≠Êâ©Â§ß„ÄÇÈúÄÊ±ÇÁöÑÊøÄÂ¢ûÔºåÂ∏¶Êù•ÁöÑÊòØÊäÄÊúØ‰∏äÁöÑÂéãÂäõ„ÄÇÁ≥ªÁªüÊû∂ÊûÑ‰πüÂõ†Ê≠§‰πü‰∏çÊñ≠ÁöÑÊºî Ëøõ„ÄÅÂçáÁ∫ß„ÄÅËø≠‰ª£„ÄÇ‰ªéÂçï‰∏ÄÂ∫îÁî®ÔºåÂà∞ÂûÇÁõ¥ÊãÜÂàÜÔºåÂà∞ÂàÜÂ∏ÉÂºèÊúçÂä°ÔºåÂà∞SOAÔºå‰ª•ÂèäÁé∞Âú®ÁÅ´ÁÉ≠ÁöÑÂæÆÊúçÂä°Êû∂ÊûÑÔºåËøòÊúâÂú®Google Â∏¶È¢Ü‰∏ãÊù•ÂäøÊ±πÊ∂åÁöÑService Mesh„ÄÇ 1.1. ÈõÜ‰∏≠ÂºèÊû∂ÊûÑ ÂΩìÁΩëÁ´ôÊµÅÈáèÂæàÂ∞èÊó∂ÔºåÂè™ÈúÄ‰∏Ä‰∏™Â∫îÁî®ÔºåÂ∞ÜÊâÄÊúâÂäüËÉΩÈÉΩÈÉ®ÁΩ≤Âú®‰∏ÄËµ∑Ôºå‰ª•ÂáèÂ∞ëÈÉ®ÁΩ≤ËäÇÁÇπÂíåÊàêÊú¨„ÄÇ ‰ºòÁÇπÔºö Á≥ªÁªüÂºÄÂèëÈÄüÂ∫¶Âø´ Áª¥Êä§ÊàêÊú¨‰Ωé ÈÄÇÁî®‰∫éÂπ∂ÂèëË¶ÅÊ±ÇËæÉ‰ΩéÁöÑÁ≥ªÁªü Áº∫ÁÇπÔºö ‰ª£Á†ÅËÄ¶ÂêàÂ∫¶È´òÔºåÂêéÊúüÁª¥Êä§Âõ∞Èöæ Êó†Ê≥ïÈíàÂØπ‰∏çÂêåÊ®°ÂùóËøõË°åÈíàÂØπÊÄß‰ºòÂåñ Êó†Ê≥ïÊ∞¥Âπ≥Êâ©Â±ï ÂçïÁÇπÂÆπÈîôÁéá‰ΩéÔºåÂπ∂ÂèëËÉΩÂäõÂ∑Æ 1.2. ÂûÇÁõ¥ÊãÜÂàÜ ‚Äã ÂΩìËÆøÈóÆÈáèÈÄêÊ∏êÂ¢ûÂ§ßÔºåÂçï‰∏ÄÂ∫îÁî®Êó†Ê≥ïÊª°Ë∂≥ÈúÄÊ±ÇÔºåÊ≠§Êó∂‰∏∫‰∫ÜÂ∫îÂØπÊõ¥È´òÁöÑÂπ∂ÂèëÂíå‰∏öÂä°ÈúÄÊ±ÇÔºåÊàë‰ª¨Ê†πÊçÆ‰∏öÂä°ÂäüËÉΩÂØπÁ≥ªÁªüËøõË°åÊãÜ ÂàÜÔºö ‰ºòÁÇπÔºö Á≥ªÁªüÊãÜÂàÜÂÆûÁé∞‰∫ÜÊµÅÈáèÂàÜÊãÖÔºåËß£ÂÜ≥‰∫ÜÂπ∂ÂèëÈóÆÈ¢ò ÂèØ‰ª•ÈíàÂØπ‰∏çÂêåÊ®°ÂùóËøõË°å‰ºòÂåñ Êñπ‰æøÊ∞¥Âπ≥Êâ©Â±ïÔºåË¥üËΩΩÂùáË°°ÔºåÂÆπÈîôÁéáÊèêÈ´ò Áº∫ÁÇπÔºö Á≥ªÁªüÈó¥Áõ∏‰∫íÁã¨Á´ãÔºå‰ºöÊúâÂæàÂ§öÈáçÂ§çÂºÄÂèëÂ∑•‰ΩúÔºåÂΩ±ÂìçÂºÄÂèëÊïàÁéá 1.3. ÂàÜÂ∏ÉÂºèÊúçÂä° ‚Äã ÂΩìÂûÇÁõ¥Â∫îÁî®Ë∂äÊù•Ë∂äÂ§öÔºåÂ∫îÁî®‰πãÈó¥‰∫§‰∫í‰∏çÂèØÈÅøÂÖçÔºåÂ∞ÜÊ†∏ÂøÉ‰∏öÂä°ÊäΩÂèñÂá∫Êù•Ôºå‰Ωú‰∏∫Áã¨Á´ãÁöÑÊúçÂä°ÔºåÈÄêÊ∏êÂΩ¢ÊàêÁ®≥ÂÆöÁöÑÊúçÂä°‰∏≠ÂøÉÔºå‰ΩøÂâçÁ´ØÂ∫îÁî®ËÉΩÊõ¥Âø´ÈÄüÁöÑÂìçÂ∫îÂ§öÂèòÁöÑÂ∏ÇÂú∫ÈúÄÊ±Ç„ÄÇ ‰ºòÁÇπÔºö Â∞ÜÂü∫Á°ÄÊúçÂä°ËøõË°å‰∫ÜÊäΩÂèñÔºåÁ≥ªÁªüÈó¥Áõ∏‰∫íË∞ÉÁî®ÔºåÊèêÈ´ò‰∫Ü‰ª£Á†ÅÂ§çÁî®ÂíåÂºÄÂèëÊïàÁéá Áº∫ÁÇπÔºö Á≥ªÁªüÈó¥ËÄ¶ÂêàÂ∫¶ÂèòÈ´òÔºåË∞ÉÁî®ÂÖ≥Á≥ªÈîôÁªºÂ§çÊùÇÔºåÈöæ‰ª•Áª¥Êä§ 1.4. Èù¢ÂêëÊúçÂä°Êû∂ÊûÑÔºàSOAÔºâ ‚Äã SOAÔºàService Oriented ArchitectureÔºâÈù¢ÂêëÊúçÂä°ÁöÑÊû∂ÊûÑÔºöÂÆÉÊòØ‰∏ÄÁßçËÆæËÆ°ÊñπÊ≥ïÔºåÂÖ∂‰∏≠ÂåÖÂê´Â§ö‰∏™ÊúçÂä°Ôºå ÊúçÂä°‰πãÈó¥ÈÄöËøáÁõ∏‰∫í‰æùËµñÊúÄÁªàÊèê‰æõ‰∏ÄÁ≥ªÂàóÁöÑÂäüËÉΩ„ÄÇ‰∏Ä‰∏™ÊúçÂä° ÈÄöÂ∏∏‰ª•Áã¨Á´ãÁöÑÂΩ¢ÂºèÂ≠òÂú®‰∏éÊìç‰ΩúÁ≥ªÁªüËøõÁ®ã‰∏≠„ÄÇÂêÑ‰∏™ÊúçÂä°‰πãÈó¥ ÈÄöËøáÁΩëÁªúË∞ÉÁî®„ÄÇSOAÁªìÊûÑÂõæÔºö ESBÔºà‰ºÅ‰∏öÊúçÂä°ÊÄªÁ∫øÔºâÔºåÁÆÄÂçï Êù•ËØ¥ ESB Â∞±ÊòØ‰∏ÄÊ†πÁÆ°ÈÅìÔºåÁî®Êù•ËøûÊé•ÂêÑ‰∏™ÊúçÂä°ËäÇÁÇπ„ÄÇ‰∏∫‰∫ÜÈõÜ Êàê‰∏çÂêåÁ≥ªÁªüÔºå‰∏çÂêåÂçèËÆÆÁöÑÊúçÂä°ÔºåESB ÂÅö‰∫ÜÊ∂àÊÅØÁöÑËΩ¨ÂåñËß£ÈáäÂíåË∑ØÁî±Â∑•‰ΩúÔºåËÆ©‰∏çÂêåÁöÑÊúçÂä°‰∫íËÅî‰∫íÈÄö„ÄÇ SOAÁº∫ÁÇπÔºöÊØè‰∏™‰æõÂ∫îÂïÜÊèê‰æõÁöÑESB‰∫ßÂìÅÊúâÂÅèÂ∑ÆÔºåËá™Ë∫´ÂÆûÁé∞ËæÉ‰∏∫Â§çÊùÇÔºõÂ∫îÁî®ÊúçÂä°Á≤íÂ∫¶ËæÉÂ§ßÔºåESBÈõÜÊàêÊï¥ÂêàÊâÄÊúâÊúçÂä°ÂíåÂçè ËÆÆ„ÄÅÊï∞ÊçÆËΩ¨Êç¢‰ΩøÂæóËøêÁª¥„ÄÅÊµãËØïÈÉ®ÁΩ≤Âõ∞Èöæ„ÄÇÊâÄÊúâÊúçÂä°ÈÉΩÈÄöËøá‰∏Ä‰∏™ÈÄöË∑ØÈÄö‰ø°ÔºåÁõ¥Êé•Èôç‰Ωé‰∫ÜÈÄö‰ø°ÈÄüÂ∫¶„ÄÇ 1.5. ÂæÆÊúçÂä°Êû∂ÊûÑ ‚Äã ÂæÆÊúçÂä°Êû∂ÊûÑÊòØ‰ΩøÁî®‰∏ÄÂ•óÂ∞èÊúçÂä°Êù•ÂºÄÂèëÂçï‰∏™Â∫îÁî®ÁöÑÊñπÂºèÊàñÈÄîÂæÑÔºåÊØè‰∏™ÊúçÂä°Âü∫‰∫éÂçï‰∏Ä‰∏öÂä°ËÉΩÂäõÊûÑÂª∫ÔºåËøêË°åÂú®Ëá™Â∑±ÁöÑËøõÁ®ã‰∏≠ÔºåÂπ∂‰ΩøÁî®ËΩªÈáèÁ∫ßÊú∫Âà∂ÈÄö‰ø°ÔºåÈÄöÂ∏∏ÊòØHTTP APIÔºåÂπ∂ËÉΩÂ§üÈÄöËøáËá™Âä®ÂåñÈÉ®ÁΩ≤Êú∫Âà∂Êù•Áã¨Á´ãÈÉ®ÁΩ≤„ÄÇËøô‰∫õÊúçÂä°ÂèØ‰ª•‰ΩøÁî®‰∏çÂêåÁöÑÁºñÁ®ãËØ≠Ë®ÄÂÆûÁé∞Ôºå‰ª•Âèä‰∏çÂêåÊï∞ÊçÆÂ≠òÂÇ®ÊäÄÊúØÔºåÂπ∂‰øùÊåÅÊúÄ‰ΩéÈôêÂ∫¶ÁöÑÈõÜ‰∏≠ÂºèÁÆ°ÁêÜ„ÄÇÂæÆÊúçÂä°ÁªìÊûÑÂõæÔºö API GatewayÁΩëÂÖ≥ÊòØ‰∏Ä‰∏™ÊúçÂä°Âô®ÔºåÊòØÁ≥ªÁªüÁöÑÂîØ‰∏ÄÂÖ•Âè£„ÄÇ‰∏∫ÊØè‰∏™ÂÆ¢Êà∑Á´ØÊèê‰æõ‰∏Ä‰∏™ÂÆöÂà∂ÁöÑAPI„ÄÇAPIÁΩëÂÖ≥Ê†∏ÂøÉÊòØÔºåÊâÄÊúâÁöÑÂÆ¢Êà∑Á´ØÂíåÊ∂àË¥πÁ´ØÈÉΩÈÄöËøáÁªü‰∏ÄÁöÑÁΩëÂÖ≥Êé•ÂÖ•ÂæÆÊúçÂä°ÔºåÂú®ÁΩëÂÖ≥Â±ÇÂ§ÑÁêÜÊâÄÊúâÁöÑÈùû‰∏öÂä°ÂäüËÉΩ„ÄÇÂ¶ÇÂÆÉËøòÂèØ‰ª•ÂÖ∑ÊúâÂÖ∂ÂÆÉËÅåË¥£ÔºåÂ¶ÇË∫´‰ªΩÈ™åËØÅ„ÄÅÁõëÊéß„ÄÅË¥üËΩΩÂùáË°°„ÄÅÁºìÂ≠ò„ÄÅËØ∑Ê±ÇÂàÜÁâá‰∏éÁÆ°ÁêÜ„ÄÅÈùôÊÄÅÂìçÂ∫îÂ§ÑÁêÜ„ÄÇÈÄöÂ∏∏ÔºåÁΩëÂÖ≥Êèê‰æõRESTful/HTTPÁöÑÊñπÂºèËÆøÈóÆÊúçÂä°„ÄÇËÄåÊúçÂä°Á´ØÈÄöËøáÊúçÂä°Ê≥®ÂÜå‰∏≠ÂøÉËøõË°åÊúçÂä°Ê≥®ÂÜåÂíåÁÆ°ÁêÜ„ÄÇ ÂæÆÊúçÂä°ÁöÑÁâπÁÇπÔºö Âçï‰∏ÄËÅåË¥£ÔºöÂæÆÊúçÂä°‰∏≠ÊØè‰∏Ä‰∏™ÊúçÂä°ÈÉΩÂØπÂ∫îÂîØ‰∏ÄÁöÑ‰∏öÂä°ËÉΩÂäõÔºåÂÅöÂà∞Âçï‰∏ÄËÅåË¥£ ÂæÆÔºöÂæÆÊúçÂä°ÁöÑÊúçÂä°ÊãÜÂàÜÁ≤íÂ∫¶ÂæàÂ∞èÔºå‰æãÂ¶Ç‰∏Ä‰∏™Áî®Êà∑ÁÆ°ÁêÜÂ∞±ÂèØ‰ª•‰Ωú‰∏∫‰∏Ä‰∏™ÊúçÂä°„ÄÇÊØè‰∏™ÊúçÂä°ËôΩÂ∞èÔºå‰ΩÜ‚Äú‰∫îËÑè‰ø±ÂÖ®‚Äù„ÄÇ Èù¢ÂêëÊúçÂä°ÔºöÈù¢ÂêëÊúçÂä°ÊòØËØ¥ÊØè‰∏™ÊúçÂä°ÈÉΩË¶ÅÂØπÂ§ñÊö¥Èú≤RestÈ£éÊ†ºÊúçÂä°Êé•Âè£API„ÄÇÂπ∂‰∏çÂÖ≥ÂøÉÊúçÂä°ÁöÑÊäÄÊúØÂÆûÁé∞ÔºåÂÅöÂà∞‰∏éÂπ≥Âè∞ÂíåËØ≠Ë®ÄÊó†ÂÖ≥Ôºå‰πü‰∏çÈôêÂÆöÁî®‰ªÄ‰πàÊäÄÊúØÂÆûÁé∞ÔºåÂè™Ë¶ÅÊèê‰æõRestÁöÑÊé•Âè£Âç≥ÂèØ„ÄÇ Ëá™Ê≤ªÔºöËá™Ê≤ªÊòØËØ¥ÊúçÂä°Èó¥‰∫íÁõ∏Áã¨Á´ãÔºå‰∫í‰∏çÂπ≤Êâ∞ Âõ¢ÈòüÁã¨Á´ãÔºöÊØè‰∏™ÊúçÂä°ÈÉΩÊòØ‰∏Ä‰∏™Áã¨Á´ãÁöÑÂºÄÂèëÂõ¢ÈòüÔºå‰∫∫Êï∞‰∏çËÉΩËøáÂ§ö„ÄÇ ÊäÄÊúØÁã¨Á´ãÔºöÂõ†‰∏∫ÊòØÈù¢ÂêëÊúçÂä°ÔºåÊèê‰æõRestÊé•Âè£Ôºå‰ΩøÁî®‰ªÄ‰πàÊäÄÊúØÊ≤°ÊúâÂà´‰∫∫Âπ≤Ê∂â ÂâçÂêéÁ´ØÂàÜÁ¶ªÔºöÈááÁî®ÂâçÂêéÁ´ØÂàÜÁ¶ªÂºÄÂèëÔºåÊèê‰æõÁªü‰∏ÄRestÊé•Âè£ÔºåÂêéÁ´Ø‰∏çÁî®ÂÜç‰∏∫PC„ÄÅÁßªÂä®Á´ØÂºÄÂèë‰∏çÂêåÊé•Âè£ Êï∞ÊçÆÂ∫ìÂàÜÁ¶ªÔºöÊØè‰∏™ÊúçÂä°ÈÉΩ‰ΩøÁî®Ëá™Â∑±ÁöÑÊï∞ÊçÆÊ∫ê ÈÉ®ÁΩ≤Áã¨Á´ãÔºöÊúçÂä°Èó¥ËôΩÁÑ∂ÊúâË∞ÉÁî®Ôºå‰ΩÜË¶ÅÂÅöÂà∞ÊúçÂä°ÈáçÂêØ‰∏çÂΩ±ÂìçÂÖ∂ÂÆÉÊúçÂä°„ÄÇÊúâÂà©‰∫éÊåÅÁª≠ÈõÜÊàêÂíåÊåÅÁª≠‰∫§‰ªò„ÄÇÊØè‰∏™ÊúçÂä°ÈÉΩÊòØÁã¨Á´ãÁöÑÁªÑ‰ª∂ÔºåÂèØÂ§çÁî®ÔºåÂèØÊõøÊç¢ÔºåÈôç‰ΩéËÄ¶ÂêàÔºåÊòìÁª¥Êä§ ÂæÆÊúçÂä°Êû∂ÊûÑ‰∏éSOAÈÉΩÊòØÂØπÁ≥ªÁªüËøõË°åÊãÜÂàÜÔºõÂæÆÊúçÂä°Êû∂ÊûÑÂü∫‰∫éSOAÊÄùÊÉ≥ÔºåÂèØ‰ª•ÊääÂæÆÊúçÂä°ÂΩìÂÅöÂéªÈô§‰∫ÜESBÁöÑSOA„ÄÇESBÊòØSOAÊû∂ÊûÑ‰∏≠ÁöÑ‰∏≠ÂøÉÊÄªÁ∫øÔºåËÆæËÆ°ÂõæÂΩ¢Â∫îËØ•ÊòØÊòüÂΩ¢ÁöÑÔºåËÄåÂæÆÊúçÂä°ÊòØÂéª‰∏≠ÂøÉÂåñÁöÑÂàÜÂ∏ÉÂºèËΩØ‰ª∂Êû∂ÊûÑ„ÄÇ‰∏§ËÄÖÊØîËæÉÁ±ª‰ººÔºå‰ΩÜÂÖ∂ÂÆû‰πüÊúâ‰∏Ä‰∫õÂ∑ÆÂà´Ôºö 2. ÊúçÂä°Ë∞ÉÁî®ÊñπÂºè 2.1. RPCÂíåHTTP Êó†ËÆ∫ÊòØÂæÆÊúçÂä°ËøòÊòØSOAÔºåÈÉΩÈù¢‰∏¥ÁùÄÊúçÂä°Èó¥ÁöÑËøúÁ®ãË∞ÉÁî®„ÄÇÈÇ£‰πàÊúçÂä°Èó¥ÁöÑËøúÁ®ãË∞ÉÁî®ÊñπÂºèÊúâÂì™‰∫õÂë¢Ôºü Â∏∏ËßÅÁöÑËøúÁ®ãË∞ÉÁî®ÊñπÂºèÊúâ‰ª•‰∏ã2ÁßçÔºö RPCÔºöRemote Produce CallËøúÁ®ãËøáÁ®ãË∞ÉÁî®ÔºåRPCÂü∫‰∫éSocketÔºåÂ∑•‰ΩúÂú®‰ºöËØùÂ±Ç„ÄÇËá™ÂÆö‰πâÊï∞ÊçÆÊ†ºÂºèÔºåÈÄüÂ∫¶Âø´ÔºåÊïàÁéáÈ´ò„ÄÇÊó©ÊúüÁöÑwebserviceÔºåÁé∞Âú®ÁÉ≠Èó®ÁöÑdubboÔºåÈÉΩÊòØRPCÁöÑÂÖ∏Âûã‰ª£Ë°® HttpÔºöhttpÂÖ∂ÂÆûÊòØ‰∏ÄÁßçÁΩëÁªú‰º†ËæìÂçèËÆÆÔºåÂü∫‰∫éTCPÔºåÂ∑•‰ΩúÂú®Â∫îÁî®Â±ÇÔºåËßÑÂÆö‰∫ÜÊï∞ÊçÆ‰º†ËæìÁöÑÊ†ºÂºè„ÄÇÁé∞Âú®ÂÆ¢Êà∑Á´ØÊµèËßàÂô®‰∏éÊúçÂä°Á´ØÈÄö‰ø°Âü∫Êú¨ÈÉΩÊòØÈááÁî®HttpÂçèËÆÆÔºå‰πüÂèØ‰ª•Áî®Êù•ËøõË°åËøúÁ®ãÊúçÂä°Ë∞ÉÁî®„ÄÇÁº∫ÁÇπÊòØÊ∂àÊÅØÂ∞ÅË£ÖËáÉËÇøÔºå‰ºòÂäøÊòØÂØπÊúçÂä°ÁöÑÊèê‰æõÂíåË∞ÉÁî®ÊñπÊ≤°Êúâ‰ªª‰ΩïÊäÄÊúØÈôêÂÆöÔºåËá™Áî±ÁÅµÊ¥ªÔºåÊõ¥Á¨¶ÂêàÂæÆÊúçÂä°ÁêÜÂøµ„ÄÇ Áé∞Âú®ÁÉ≠Èó®ÁöÑRestÈ£éÊ†ºÔºåÂ∞±ÂèØ‰ª•ÈÄöËøáhttpÂçèËÆÆÊù•ÂÆûÁé∞„ÄÇ Âå∫Âà´ÔºöRPCÁöÑÊú∫Âà∂ÊòØÊ†πÊçÆËØ≠Ë®ÄÁöÑAPIÔºàlanguage APIÔºâÊù•ÂÆö‰πâÁöÑÔºåËÄå‰∏çÊòØÊ†πÊçÆÂü∫‰∫éÁΩëÁªúÁöÑÂ∫îÁî®Êù•ÂÆö‰πâÁöÑ„ÄÇ Â¶ÇÊûú‰Ω†‰ª¨ÂÖ¨Âè∏ÂÖ®ÈÉ®ÈááÁî®JavaÊäÄÊúØÊ†àÔºåÈÇ£‰πà‰ΩøÁî®Dubbo‰Ωú‰∏∫ÂæÆÊúçÂä°Êû∂ÊûÑÊòØ‰∏Ä‰∏™‰∏çÈîôÁöÑÈÄâÊã©„ÄÇ Áõ∏ÂèçÔºåÂ¶ÇÊûúÂÖ¨Âè∏ÁöÑÊäÄÊúØÊ†àÂ§öÊ†∑ÂåñÔºåËÄå‰∏î‰Ω†Êõ¥ÈùíÁùêSpringÂÆ∂ÊóèÔºåÈÇ£‰πàSpring CloudÊê≠Âª∫ÂæÆÊúçÂä°ÊòØ‰∏ç‰∫å‰πãÈÄâ„ÄÇÂú®Êàë‰ª¨ÁöÑÈ°πÁõÆ‰∏≠Ôºå‰ºöÈÄâÊã©Spring CloudÂ•ó‰ª∂ÔºåÂõ†Ê≠§‰ºö‰ΩøÁî®HttpÊñπÂºèÊù•ÂÆûÁé∞ÊúçÂä°Èó¥Ë∞ÉÁî®„ÄÇ 2.2. HttpÂÆ¢Êà∑Á´ØÂ∑•ÂÖ∑ Êó¢ÁÑ∂ÂæÆÊúçÂä°ÈÄâÊã©‰∫ÜHttpÔºåÈÇ£‰πàÊàë‰ª¨Â∞±ÈúÄË¶ÅËÄÉËôëËá™Â∑±Êù•ÂÆûÁé∞ÂØπËØ∑Ê±ÇÂíåÂìçÂ∫îÁöÑÂ§ÑÁêÜ„ÄÇ‰∏çËøáÂºÄÊ∫ê‰∏ñÁïåÂ∑≤ÁªèÊúâÂæàÂ§öÁöÑhttpÂÆ¢Êà∑Á´ØÂ∑•ÂÖ∑ÔºåËÉΩÂ§üÂ∏ÆÂä©Êàë‰ª¨ÂÅöËøô‰∫õ‰∫ãÊÉÖÔºå‰æãÂ¶ÇÔºö HttpClient OKHttp URLConnection ‰∏çËøáËøô‰∫õ‰∏çÂêåÁöÑÂÆ¢Êà∑Á´ØÔºåAPIÂêÑ‰∏çÁõ∏Âêå„ÄÇËÄåSpring‰πüÊúâÂØπhttpÁöÑÂÆ¢Êà∑Á´ØËøõË°åÂ∞ÅË£ÖÔºåÊèê‰æõ‰∫ÜÂ∑•ÂÖ∑Á±ªÂè´RestTemplate„ÄÇ 2.3. SpringÁöÑRestTemplate SpringÊèê‰æõ‰∫Ü‰∏Ä‰∏™RestTemplateÊ®°ÊùøÂ∑•ÂÖ∑Á±ªÔºåÂØπÂü∫‰∫éHttpÁöÑÂÆ¢Êà∑Á´ØËøõË°å‰∫ÜÂ∞ÅË£ÖÔºåÂπ∂‰∏îÂÆûÁé∞‰∫ÜÂØπË±°‰∏éjsonÁöÑÂ∫èÂàóÂåñÂíå ÂèçÂ∫èÂàóÂåñÔºåÈùûÂ∏∏Êñπ‰æø„ÄÇRestTemplateÂπ∂Ê≤°ÊúâÈôêÂÆöHttpÁöÑÂÆ¢Êà∑Á´ØÁ±ªÂûãÔºåËÄåÊòØËøõË°å‰∫ÜÊäΩË±°ÔºåÁõÆÂâçÂ∏∏Áî®ÁöÑ3ÁßçÈÉΩÊúâÊîØÊåÅÔºö HttpClient OkHttp JDKÂéüÁîüÁöÑURLConnectionÔºàÈªòËÆ§ÁöÑÔºâ 3.SpringcloudÁªºËø∞ ÁâàÊú¨ÂëΩÂêçÔºö‰º¶Êï¶Âú∞ÈìÅÁ´ôÂ≠óÊØçÈ°∫Â∫è ÂÆûÈ™åÁéØÂ¢É ÂÅúÊõ¥„ÄÅÂçáÁ∫ß„ÄÅÊõøÊç¢ Áà∂Â∑•Á®ãÂàõÂª∫ ÂàõÂª∫Â∑•Á®ãÂâçÂáÜÂ§á Á∫¶ÂÆö„ÄãÈÖçÁΩÆ„ÄãÁºñÁ†Å ÁºñÁ†ÅUTF-8ÂÖ®Â•ó ‰ΩúÁî® Ê≥®Ëß£ÁîüÊïàÊøÄÊ¥ª ‰ΩúÁî® JAVAÁºñËØëÁâàÊú¨ Êñá‰ª∂ËøáÊª§ ‰ΩúÁî®ÔºåÂÖ≥Èó≠ÂØπÂ∫îÊñá‰ª∂ideaÂèØËßÅ Eureka„ÄêÂ§ßÊ•ºËÄÅÊùø„Äë Spring Cloud [Finchley] ‚Äã ‰∏ÄÁ≥ªÂàóÊ°ÜÊû∂ÊúâÂ∫èÈõÜÂêàÔºåÂ∞ÅË£ÖÂêéÂ±èËîΩ‰∫ÜÂ§çÊùÇÁöÑÈÖçÁΩÆÂíåÂÆûÁé∞ÂéüÁêÜ„ÄÇSpring Cloud‰∏∫ÂºÄÂèë‰∫∫ÂëòÊèê‰æõ‰∫ÜÂ∑•ÂÖ∑Ôºå‰ª•Âø´ÈÄüÊûÑÂª∫ÂàÜÂ∏ÉÂºèÁ≥ªÁªü‰∏≠ÁöÑ‰∏Ä‰∫õÂ∏∏ËßÅÊ®°ÂºèÔºà‰æãÂ¶ÇÔºåÈÖçÁΩÆÁÆ°ÁêÜÔºåÊúçÂä°ÂèëÁé∞ÔºåÊñ≠Ë∑ØÂô®ÔºåÊô∫ËÉΩË∑ØÁî±ÔºåÂæÆ‰ª£ÁêÜÔºåÊéßÂà∂ÊÄªÁ∫øÔºå‰∏ÄÊ¨°ÊÄß‰ª§ÁâåÔºåÂÖ®Â±ÄÈîÅÔºåÈ¢ÜÂØºÈÄâ‰∏æÔºåÂàÜÂ∏ÉÂºè‰ºöËØùÔºåÁæ§ÈõÜÁä∂ÊÄÅÔºâ„ÄÇÂàÜÂ∏ÉÂºèÁ≥ªÁªüÁöÑÂçèË∞ÉÂØºËá¥Ê†∑ÊùøÂºèÊ†∑ÔºåÂπ∂‰∏î‰ΩøÁî®Spring CloudÂºÄÂèë‰∫∫ÂëòÂèØ‰ª•Âø´ÈÄüÁ´ôËµ∑Êù•ÂÆûÁé∞Ëøô‰∫õÊ†∑ÊùøÁöÑÊúçÂä°ÂíåÂ∫îÁî®Á®ãÂ∫è„ÄÇÂÆÉ‰ª¨Â∞ÜÂú®‰ªª‰ΩïÂàÜÂ∏ÉÂºèÁéØÂ¢É‰∏≠ÈÉΩËÉΩÂæàÂ•ΩÂú∞Â∑•‰ΩúÔºåÂåÖÊã¨ÂºÄÂèë‰∫∫ÂëòËá™Â∑±ÁöÑÁ¨îËÆ∞Êú¨ÁîµËÑëÔºåË£∏Êú∫Êï∞ÊçÆ‰∏≠ÂøÉ‰ª•ÂèäËØ∏Â¶ÇCloud Foundry‰πãÁ±ªÁöÑÊâòÁÆ°Âπ≥Âè∞„ÄÇ 1.Á≥ªÁªüÊû∂ÊûÑÊºîÂèò graph LR; 1[ÈõÜ‰∏≠ÂºèÊû∂ÊûÑ] --> 2[ÂûÇÁõ¥ÊãÜÂàÜ] 2 --> 3[ÂàÜÂ∏ÉÂºèÊúçÂä°] 3 --> 4[SOAÈù¢ÂêëÊúçÂä°Êû∂ÊûÑ] 4 --> 5[ÂæÆÊúçÂä°Êû∂ÊûÑ] ÂæÆÊúçÂä°Êû∂ÊûÑ ‰∏ÄÂ•ó‰ΩøÁî®Â∞èÊúçÂä°ÊàñËÄÖÂçï‰∏Ä‰∏öÂä°Êù•ÂºÄÂèëÂçï‰∏™Â∫îÁî®ÁöÑÊñπÂºèÊàñÈÄîÂæÑ„ÄÇ ÂæÆÊúçÂä°Êû∂ÊûÑÁâπÁÇπÔºö Âçï‰∏ÄËÅåË¥£ ÊúçÂä°Á≤íÂ∫¶Â∞è Èù¢ÂêëÊúçÂä°ÔºàÂØπÂ§ñÊö¥Èú≤REST apiÔºâ ÊúçÂä°‰πãÈó¥Áõ∏‰∫íÁã¨Á´ã ‰∏é‰ΩøÁî®ESBÁöÑSOAÊû∂ÊûÑÁöÑÂå∫Âà´Ôºö ÂæÆÊúçÂä°Êû∂ÊûÑÊ≤°Êúâ‰ΩøÁî®ESBÔºåÊúâÊúçÂä°Ê≤ªÁêÜÊ≥®ÂÜå‰∏≠ÂøÉÔºõ‰∏öÂä°Á≤íÂ∫¶Â∞è„ÄÇ 2.ÊúçÂä°Ë∞ÉÁî®ÊñπÂºè RPCÔºöÂü∫‰∫ésocketÔºåÈÄüÂ∫¶Âø´ÔºåÊïàÁéáÈ´òÔºõwebservice„ÄÅdubbo HTTPÔºöÂü∫‰∫éTCPÔºåÂ∞ÅË£ÖÊØîËæÉËáÉËÇøÔºõÂØπÊúçÂä°ÂíåË∞ÉÁî®ÊñπÊ≤°Êúâ‰ªª‰ΩïÊäÄÊúØ„ÄÅËØ≠Ë®ÄÁöÑÈôêÂÆöÔºåËá™Áî±ÁÅµÊ¥ªÔºõRESTfulÔºåSpring Cloud ‰∏ÄËà¨ÊÉÖÂÜµ‰∏ãÊúâÂ¶Ç‰∏ã‰∏âÁßçhttpÂÆ¢Êà∑Á´ØÂ∑•ÂÖ∑Á±ªÂåÖÈÉΩÂèØ‰ª•Êñπ‰æøÁöÑËøõË°åhttpÊúçÂä°Ë∞ÉÁî®Ôºö httpClient okHttp JDKÂéüÁîüURLConnection spring Êèê‰æõ‰∫ÜRestTemplateÁöÑÂ∑•ÂÖ∑Á±ªÂØπ‰∏äËø∞ÁöÑ3ÁßçhttpÂÆ¢Êà∑Á´ØÂ∑•ÂÖ∑Á±ªËøõË°å‰∫ÜÂ∞ÅË£ÖÔºåÂèØÂú®springÈ°πÁõÆ‰∏≠‰ΩøÁî®RestTemplateËøõË°åÊúçÂä°Ë∞ÉÁî®„ÄÇ Â∞èÁªìÔºö 12345678910111213141516@RunWith(SpringRunner.class)@SpringBootTestpublic class RestTemplateTest { @Autowired private RestTemplate restTemplate; @Test public void test(){ String url = &quot;http://localhost/user/8&quot;; //restTemplateÂèØ‰ª•ÂØπjsonÊ†ºÂºèÂ≠óÁ¨¶‰∏≤ËøõË°åÂèçÂ∫èÂàóÂåñ User user = restTemplate.getForObject(url, User.class); System.out.println(user); }} 3.SpringCloudÊ¶ÇËø∞ Êï¥ÂêàÁöÑÁªÑ‰ª∂ÂèØ‰ª•ÊúâÂæàÂ§öÁªÑ‰ª∂ÔºõÂ∏∏ËßÅÁöÑÁªÑ‰ª∂ÊúâÔºöeurekaÊ≥®ÂÜå‰∏≠ÂøÉÔºåGatewayÁΩëÂÖ≥ÔºåRibbonË¥üËΩΩÂùáË°°ÔºåFeignÊúçÂä°Ë∞ÉÁî®ÔºåHystrixÁÜîÊñ≠Âô®„ÄÇÂú®ÊúâÈúÄË¶ÅÁöÑÊó∂ÂÄôÈ°πÁõÆÊ∑ªÂä†ÂØπ‰∫éÁöÑÂêØÂä®Âô®‰æùËµñÂç≥ÂèØ„ÄÇ ÁâàÊú¨ÁâπÂæÅÔºö‰ª•Ëã±ÊñáÂçïËØçÂëΩÂêçÔºà‰º¶Êï¶Âú∞ÈìÅÁ´ôÂêçÔºâ 4.ÂàõÂª∫ÂæÆÊúçÂä°Â∑•Á®ã Áà∂Â∑•Á®ãspringcloudÔºöÊ∑ªÂä†spring bootÁà∂ÂùêÊ†áÂíåÁÆ°ÁêÜÂÖ∂ÂÆÉÁªÑ‰ª∂ÁöÑ‰æùËµñ Áî®Êà∑ÊúçÂä°Â∑•Á®ãuser-serviceÔºöÊï¥ÂêàmybatisÊü•ËØ¢Êï∞ÊçÆÂ∫ì‰∏≠Áî®Êà∑Êï∞ÊçÆÔºõÊèê‰æõÊü•ËØ¢Áî®Êà∑ÊúçÂä° ÊúçÂä°Ê∂àË¥πÂ∑•Á®ãconsumer-demoÔºöÂà©Áî®Êü•ËØ¢Áî®Êà∑ÊúçÂä°Ëé∑ÂèñÁî®Êà∑Êï∞ÊçÆÂπ∂ËæìÂá∫Âà∞ÊµèËßàÂô® 5.Êê≠Âª∫ÈÖçÁΩÆServiceÂ∑•Á®ã Ê∑ªÂä†ÂêØÂä®Âô®‰æùËµñÔºàweb„ÄÅÈÄöÁî®MapperÔºâÔºõ ÂàõÂª∫ÂêØÂä®ÂºïÂØºÁ±ªÂíåÈÖçÁΩÆÊñá‰ª∂Ôºõ ‰øÆÊîπÈÖçÁΩÆÊñá‰ª∂‰∏≠ÁöÑÂèÇÊï∞Ôºõ ÁºñÂÜôÊµãËØï‰ª£Á†ÅÔºàUserMapperÔºåUserServiceÔºåUserControllerÔºâÔºõ ÊµãËØï 6.Êê≠Âª∫ÈÖçÁΩÆClientÂ∑•Á®ã Ê∑ªÂä†ÂêØÂä®Âô®‰æùËµñÔºõ ÂàõÂª∫ÂêØÂä®ÂºïÂØºÁ±ªÔºàÊ≥®ÂÜåRestTemplateÔºâÂíåÈÖçÁΩÆÊñá‰ª∂Ôºõ ÁºñÂÜôÊµãËØï‰ª£Á†ÅÔºàConsumerController‰∏≠‰ΩøÁî®restTemplateËÆøÈóÆÊúçÂä°Ëé∑ÂèñÊï∞ÊçÆÔºâ ÊµãËØï 7.ÈóÆÈ¢ò ÊúçÂä°ÁÆ°ÁêÜ Â¶Ç‰ΩïËá™Âä®Ê≥®ÂÜåÂíåÂèëÁé∞ Â¶Ç‰ΩïÂÆûÁé∞Áä∂ÊÄÅÁõëÁÆ° Â¶Ç‰ΩïÂÆûÁé∞Âä®ÊÄÅË∑ØÁî± ÊúçÂä°Â¶Ç‰ΩïÂÆûÁé∞Ë¥üËΩΩÂùáË°° ÊúçÂä°Â¶Ç‰ΩïËß£ÂÜ≥ÂÆπÁÅæÈóÆÈ¢ò ÊúçÂä°Â¶Ç‰ΩïÂÆûÁé∞Áªü‰∏ÄÈÖçÁΩÆ ‰∏äËø∞ÈóÆÈ¢òÈÄöËøáspringcloudÂêÑÁßçÁªÑ‰ª∂Ëß£ÂÜ≥ 8.Eureka EurekaÁöÑ‰∏ªË¶ÅÂäüËÉΩÊòØËøõË°åÊúçÂä°ÁÆ°ÁêÜÔºåÂÆöÊúüÊ£ÄÊü•ÊúçÂä°Áä∂ÊÄÅÔºåËøîÂõûÊúçÂä°Âú∞ÂùÄÂàóË°®„ÄÇ 8.1Eureka-server EurekaÊòØÊúçÂä°Ê≥®ÂÜå‰∏≠ÂøÉÔºåÂè™ÂÅöÊúçÂä°Ê≥®ÂÜåÔºõËá™Ë∫´Âπ∂‰∏çÊèê‰æõÊúçÂä°‰πü‰∏çÊ∂àË¥πÊúçÂä°„ÄÇÂèØ‰ª•Êê≠Âª∫webÂ∑•Á®ã‰ΩøÁî®EurekaÔºåÂèØ‰ª•‰ΩøÁî®Spring BootÊñπÂºèÊê≠Âª∫„ÄÇ Êê≠Âª∫Ê≠•È™§Ôºö ÂàõÂª∫Â∑•Á®ãÔºõ Ê∑ªÂä†ÂêØÂä®Âô®‰æùËµñÔºõ ÁºñÂÜôÂêØÂä®ÂºïÂØºÁ±ªÔºàÊ∑ªÂä†EurekaÁöÑÊúçÂä°Ê≥®Ëß£ÔºâÂíåÈÖçÁΩÆÊñá‰ª∂Ôºõ ‰øÆÊîπÈÖçÁΩÆÊñá‰ª∂ÔºàÁ´ØÂè£ÔºåÂ∫îÁî®ÂêçÁß∞...ÔºâÔºõ ÂêØÂä®ÊµãËØï 8.2ÊúçÂä°Ê≥®ÂÜå‰∏éÂèëÁé∞ ÊúçÂä°Ê≥®ÂÜåÔºöÂú®ÊúçÂä°Êèê‰æõÂ∑•Á®ãuser-service‰∏äÊ∑ªÂä†EurekaÂÆ¢Êà∑Á´Ø‰æùËµñÔºõËá™Âä®Â∞ÜÊúçÂä°Ê≥®ÂÜåÂà∞EurekaServerÊúçÂä°Âú∞ÂùÄÂàóË°®„ÄÇ Ê∑ªÂä†‰æùËµñÔºõ ÊîπÈÄ†ÂêØÂä®ÂºïÂØºÁ±ªÔºõÊ∑ªÂä†ÂºÄÂêØEurekaÂÆ¢Êà∑Á´ØÂèëÁé∞ÁöÑÊ≥®Ëß£Ôºõ ‰øÆÊîπÈÖçÁΩÆÊñá‰ª∂ÔºõËÆæÁΩÆEureka ÊúçÂä°Âú∞ÂùÄ ÊúçÂä°ÂèëÁé∞ÔºöÂú®ÊúçÂä°Ê∂àË¥πÂ∑•Á®ãconsumer-demo‰∏äÊ∑ªÂä†EurekaÂÆ¢Êà∑Á´Ø‰æùËµñÔºõÂèØ‰ª•‰ΩøÁî®Â∑•ÂÖ∑Á±ªÊ†πÊçÆÊúçÂä°ÂêçÁß∞Ëé∑ÂèñÂØπÂ∫îÁöÑÊúçÂä°Âú∞ÂùÄÂàóË°®„ÄÇ Ê∑ªÂä†‰æùËµñÔºõ ÊîπÈÄ†ÂêØÂä®ÂºïÂØºÁ±ªÔºõÊ∑ªÂä†ÂºÄÂêØEurekaÂÆ¢Êà∑Á´ØÂèëÁé∞ÁöÑÊ≥®Ëß£Ôºõ ‰øÆÊîπÈÖçÁΩÆÊñá‰ª∂ÔºõËÆæÁΩÆEureka ÊúçÂä°Âú∞ÂùÄÔºõ ÊîπÈÄ†Â§ÑÁêÜÂô®Á±ªControllerÔºåÂèØ‰ª•‰ΩøÁî®Â∑•ÂÖ∑Á±ªDiscoveryClientÊ†πÊçÆÊúçÂä°ÂêçÁß∞Ëé∑ÂèñÂØπÂ∫îÊúçÂä°Âú∞ÂùÄÂàóË°®„ÄÇ 8.3È´òÂèØÁî®ÈÖçÁΩÆ ‚Äã Â∞ÜEureka Server‰Ωú‰∏∫‰∏Ä‰∏™ÊúçÂä°Ê≥®ÂÜåÂà∞ÂÖ∂ÂÆÉEureka ServerÔºåËøôÊ†∑Â§ö‰∏™Eureka Server‰πãÈó¥Â∞±ËÉΩÂ§ü‰∫íÁõ∏ÂèëÁé∞ÂØπÊñπÔºåÂêåÊ≠•ÊúçÂä°ÔºåÂÆûÁé∞Eureka ServerÈõÜÁæ§„ÄÇ 9.Ë¥üËΩΩÂùáË°°Ribbon RibbonÊèê‰æõ‰∫ÜËΩÆËØ¢„ÄÅÈöèÊú∫‰∏§ÁßçË¥üËΩΩÂùáË°°ÁÆóÊ≥ïÔºàÈªòËÆ§ÊòØËΩÆËØ¢ÔºâÂèØ‰ª•ÂÆûÁé∞‰ªéÂú∞ÂùÄÂàóË°®‰∏≠‰ΩøÁî®Ë¥üËΩΩÂùáË°°ÁÆóÊ≥ïËé∑ÂèñÂú∞ÂùÄËøõË°åÊúçÂä°Ë∞ÉÁî®„ÄÇ 9.1RibbonÂ∫îÁî® Âú®ÂÆû‰æãÂåñRestTemplateÁöÑÊó∂ÂÄô‰ΩøÁî®@LoadBalancedÔºåÊúçÂä°Âú∞ÂùÄÁõ¥Êé•ÂèØ‰ª•‰ΩøÁî®ÊúçÂä°Âêç„ÄÇ 10.ÁÜîÊñ≠Âô®HystrixÔºàË±™Áå™Ôºâ HystrixÊòØ‰∏Ä‰∏™Âª∂ËøüÂíåÂÆπÈîôÂ∫ìÔºåÁî®‰∫éÈöîÁ¶ªËÆøÈóÆËøúÁ®ãÊúçÂä°ÔºåÈò≤Ê≠¢Âá∫Áé∞Á∫ßËÅîÂ§±Ë¥•„ÄÇ 10.1Á∫øÁ®ãÈöîÁ¶ª&amp;ÊúçÂä°ÈôçÁ∫ß HystrixËß£ÂÜ≥Èõ™Â¥©ÊïàÂ∫îÔºö Á∫øÁ®ãÈöîÁ¶ªÔºöÁî®Êà∑ËØ∑Ê±Ç‰∏çÁõ¥Êé•ËÆøÈóÆÊúçÂä°ÔºåËÄåÊòØ‰ΩøÁî®Á∫øÁ®ãÊ±†‰∏≠Á©∫Èó≤ÁöÑÁ∫øÁ®ãËÆøÈóÆÊúçÂä°ÔºåÂä†ÈÄüÂ§±Ë¥•Âà§Êñ≠Êó∂Èó¥„ÄÇ ÊúçÂä°ÈôçÁ∫ßÔºöÂèäÊó∂ËøîÂõûÊúçÂä°Ë∞ÉÁî®Â§±Ë¥•ÁöÑÁªìÊûúÔºåËÆ©Á∫øÁ®ã‰∏çÂõ†‰∏∫Á≠âÂæÖÊúçÂä°ËÄåÈòªÂ°û„ÄÇ Â∞èÁªìÔºö Ê∑ªÂä†‰æùËµñ 1234&lt;dependency&gt; &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt; &lt;artifactId&gt;spring-cloud-starter-netflix-hystrix&lt;/artifactId&gt;&lt;/dependency&gt; ÂºÄÂêØÁÜîÊñ≠ ÈôçÁ∫ßÈÄªËæë 12345678910111213141516171819202122232425262728293031323334353637@RestController@RequestMapping(&quot;/consumer&quot;)@Slf4j@DefaultProperties(defaultFallback = &quot;defaultFallback&quot;)public class ConsumerController { @Autowired private RestTemplate restTemplate; @Autowired private DiscoveryClient discoveryClient; @GetMapping(&quot;/{id}&quot;) //@HystrixCommand(fallbackMethod = &quot;queryByIdFallback&quot;) @HystrixCommand public String queryById(@PathVariable Long id){ /*String url = &quot;http://localhost:9091/user/&quot;+id; //Ëé∑Âèñeureka‰∏≠Ê≥®ÂÜåÁöÑuser-serviceÁöÑÂÆû‰æã List&lt;ServiceInstance&gt; serviceInstances = discoveryClient.getInstances(&quot;user-service&quot;); ServiceInstance serviceInstance = serviceInstances.get(0); url = &quot;http://&quot; + serviceInstance.getHost() + &quot;:&quot; + serviceInstance.getPort() + &quot;/user/&quot; + id;*/ String url = &quot;http://user-service/user/&quot; + id; return restTemplate.getForObject(url, String.class); } public String queryByIdFallback(Long id){ log.error(&quot;Êü•ËØ¢Áî®Êà∑‰ø°ÊÅØÂ§±Ë¥•„ÄÇidÔºö{}&quot;, id); return &quot;ÂØπ‰∏çËµ∑ÔºåÁΩëÁªúÂ§™Êã•Êå§‰∫ÜÔºÅ&quot;; } public String defaultFallback(){ return &quot;ÈªòËÆ§ÊèêÁ§∫ÔºöÂØπ‰∏çËµ∑ÔºåÁΩëÁªúÂ§™Êã•Êå§‰∫ÜÔºÅ&quot;; }} ‰øÆÊîπË∂ÖÊó∂ÈÖçÁΩÆ 1234567hystrix: command: default: execution: isolation: thread: timeoutInMilliseconds: 2000 10.2ÊúçÂä°ÁÜîÊñ≠ ‚Äã Âú®ÊúçÂä°ÁÜîÊñ≠‰∏≠Ôºå‰ΩøÁî®ÁöÑÁÜîÊñ≠Âô®Ôºå‰πüÂè´Êñ≠Ë∑ØÂô®ÔºåÂÖ∂Ëã±ÊñáÂçïËØç‰∏∫ÔºöCircuit Breaker ‚Äã ÁÜîÊñ≠Êú∫Âà∂‰∏éÂÆ∂Èáå‰ΩøÁî®ÁöÑÁîµË∑ØÁÜîÊñ≠ÂéüÁêÜÁ±ª‰ººÔºõÂΩìÂ¶ÇÊûúÁîµË∑ØÂèëÁîüÁü≠Ë∑ØÁöÑÊó∂ÂÄôËÉΩÁ´ãÂàªÁÜîÊñ≠ÁîµË∑ØÔºåÈÅøÂÖçÂèëÁîüÁÅæÈöæ„ÄÇÂú®ÂàÜÂ∏ÉÂºèÁ≥ª Áªü‰∏≠Â∫îÁî®ÊúçÂä°ÁÜîÊñ≠ÂêéÔºõÊúçÂä°Ë∞ÉÁî®ÊñπÂèØ‰ª•Ëá™Â∑±ËøõË°åÂà§Êñ≠Âì™‰∫õÊúçÂä°ÂèçÂ∫îÊÖ¢ÊàñÂ≠òÂú®Â§ßÈáèË∂ÖÊó∂ÔºåÂèØ‰ª•ÈíàÂØπËøô‰∫õÊúçÂä°ËøõË°å‰∏ªÂä®ÁÜî Êñ≠ÔºåÈò≤Ê≠¢Êï¥‰∏™Á≥ªÁªüË¢´ÊãñÂûÆ„ÄÇ ‚Äã HystrixÁöÑÊúçÂä°ÁÜîÊñ≠Êú∫Âà∂ÔºåÂèØ‰ª•ÂÆûÁé∞ÂºπÊÄßÂÆπÈîôÔºõÂΩìÊúçÂä°ËØ∑Ê±ÇÊÉÖÂÜµÂ•ΩËΩ¨‰πãÂêéÔºåÂèØ‰ª•Ëá™Âä®ÈáçËøû„ÄÇÈÄöËøáÊñ≠Ë∑ØÁöÑÊñπÂºèÔºåÂ∞ÜÂêéÁª≠ ËØ∑Ê±ÇÁõ¥Êé•ÊãíÁªùÔºå‰∏ÄÊÆµÊó∂Èó¥ÔºàÈªòËÆ§5ÁßíÔºâ‰πãÂêéÂÖÅËÆ∏ÈÉ®ÂàÜËØ∑Ê±ÇÈÄöËøáÔºåÂ¶ÇÊûúË∞ÉÁî®ÊàêÂäüÂàôÂõûÂà∞Êñ≠Ë∑ØÂô®ÂÖ≥Èó≠Áä∂ÊÄÅÔºåÂê¶ÂàôÁªßÁª≠Êâì ÂºÄÔºåÊãíÁªùËØ∑Ê±ÇÁöÑÊúçÂä°„ÄÇ HystrixÁöÑÁÜîÊñ≠Áä∂ÊÄÅÊú∫Ê®°ÂûãÔºö Áä∂ÊÄÅÊú∫Êúâ3‰∏™Áä∂ÊÄÅÔºö ClosedÔºöÂÖ≥Èó≠Áä∂ÊÄÅÔºàÊñ≠Ë∑ØÂô®ÂÖ≥Èó≠ÔºâÔºåÊâÄÊúâËØ∑Ê±ÇÈÉΩÊ≠£Â∏∏ËÆøÈóÆ„ÄÇ OpenÔºöÊâìÂºÄÁä∂ÊÄÅÔºàÊñ≠Ë∑ØÂô®ÊâìÂºÄÔºâÔºåÊâÄÊúâËØ∑Ê±ÇÈÉΩ‰ºöË¢´ÈôçÁ∫ß„ÄÇHystrix‰ºöÂØπËØ∑Ê±ÇÊÉÖÂÜµËÆ°Êï∞ÔºåÂΩì‰∏ÄÂÆöÊó∂Èó¥ÂÜÖÂ§±Ë¥•ËØ∑Ê±ÇÁôæ ÂàÜÊØîËææÂà∞ÈòàÂÄºÔºåÂàôËß¶ÂèëÁÜîÊñ≠ÔºåÊñ≠Ë∑ØÂô®‰ºöÂÆåÂÖ®ÊâìÂºÄ„ÄÇÈªòËÆ§Â§±Ë¥•ÊØî‰æãÁöÑÈòàÂÄºÊòØ50%ÔºåËØ∑Ê±ÇÊ¨°Êï∞ÊúÄÂ∞ë‰∏ç‰Ωé‰∫é20Ê¨°„ÄÇ Half OpenÔºöÂçäÂºÄÁä∂ÊÄÅÔºå‰∏çÊòØÊ∞∏‰πÖÁöÑÔºåÊñ≠Ë∑ØÂô®ÊâìÂºÄÂêé‰ºöËøõÂÖ•‰ºëÁú†Êó∂Èó¥ÔºàÈªòËÆ§ÊòØ5SÔºâ„ÄÇÈöèÂêéÊñ≠Ë∑ØÂô®‰ºöËá™Âä®ËøõÂÖ•ÂçäÂºÄ Áä∂ÊÄÅ„ÄÇÊ≠§Êó∂‰ºöÈáäÊîæÈÉ®ÂàÜËØ∑Ê±ÇÈÄöËøáÔºåËã•Ëøô‰∫õËØ∑Ê±ÇÈÉΩÊòØÂÅ•Â∫∑ÁöÑÔºåÂàô‰ºöÂÖ≥Èó≠Êñ≠Ë∑ØÂô®ÔºåÂê¶ÂàôÁªßÁª≠‰øùÊåÅÊâìÂºÄÔºåÂÜçÊ¨°ËøõË°å‰ºë Áú†ËÆ°Êó∂„ÄÇ 11.ÊúçÂä°Ê∂àË¥πËÄÖÔºàFeignÔºâ 11.1ÁÆÄ‰ªã ‚Äã FeignÊòØ‰∏Ä‰∏™Â£∞ÊòéÂºèÁöÑ‰º™HttpÂÆ¢Êà∑Á´ØÔºåÂÆÉ‰ΩøÂæóÂÜôHttpÂÆ¢Êà∑Á´ØÂèòÂæóÊõ¥ÁÆÄÂçï„ÄÇ‰ΩøÁî®FeignÔºåÂè™ÈúÄË¶ÅÂàõÂª∫‰∏Ä‰∏™Êé•Âè£Âπ∂Ê≥®Ëß£„ÄÇÂÆÉÂÖ∑ÊúâÂèØÊèíÊãîÁöÑÊ≥®Ëß£ÁâπÊÄßÔºåÂèØ‰ΩøÁî®Feign Ê≥®Ëß£ÂíåJAX-RSÊ≥®Ëß£„ÄÇFeignÊîØÊåÅÂèØÊèíÊãîÁöÑÁºñÁ†ÅÂô®ÂíåËß£Á†ÅÂô®„ÄÇFeignÈªòËÆ§ÈõÜÊàê‰∫ÜRibbonÔºåÂπ∂ÂíåEurekaÁªìÂêàÔºåÈªòËÆ§ÂÆûÁé∞‰∫ÜË¥üËΩΩÂùáË°°ÁöÑÊïàÊûú„ÄÇ ÁÆÄËÄåË®Ä‰πãÔºö Feign ÈááÁî®ÁöÑÊòØÂü∫‰∫éÊé•Âè£ÁöÑÊ≥®Ëß£ Feign Êï¥Âêà‰∫ÜribbonÔºåÂÖ∑ÊúâË¥üËΩΩÂùáË°°ÁöÑËÉΩÂäõ Êï¥Âêà‰∫ÜHystrixÔºåÂÖ∑ÊúâÁÜîÊñ≠ÁöÑËÉΩÂäõ 12.Êñ≠Ë∑ØÂô®ÔºàHystrixÔºâ ‚Äã Âú®ÂæÆÊúçÂä°Êû∂ÊûÑ‰∏≠ÔºåÊ†πÊçÆ‰∏öÂä°Êù•ÊãÜÂàÜÊàê‰∏Ä‰∏™‰∏™ÁöÑÊúçÂä°ÔºåÊúçÂä°‰∏éÊúçÂä°‰πãÈó¥ÂèØ‰ª•Áõ∏‰∫íË∞ÉÁî®ÔºàRPCÔºâÔºåÂú®Spring CloudÂèØ‰ª•Áî®RestTemplate+RibbonÂíåFeignÊù•Ë∞ÉÁî®„ÄÇ‰∏∫‰∫Ü‰øùËØÅÂÖ∂È´òÂèØÁî®ÔºåÂçï‰∏™ÊúçÂä°ÈÄöÂ∏∏‰ºöÈõÜÁæ§ÈÉ®ÁΩ≤„ÄÇÁî±‰∫éÁΩëÁªúÂéüÂõ†ÊàñËÄÖËá™Ë∫´ÁöÑÂéüÂõ†ÔºåÊúçÂä°Âπ∂‰∏çËÉΩ‰øùËØÅ100%ÂèØÁî®ÔºåÂ¶ÇÊûúÂçï‰∏™ÊúçÂä°Âá∫Áé∞ÈóÆÈ¢òÔºåË∞ÉÁî®Ëøô‰∏™ÊúçÂä°Â∞±‰ºöÂá∫Áé∞Á∫øÁ®ãÈòªÂ°ûÔºåÊ≠§Êó∂Ëã•ÊúâÂ§ßÈáèÁöÑËØ∑Ê±ÇÊ∂åÂÖ•ÔºåServletÂÆπÂô®ÁöÑÁ∫øÁ®ãËµÑÊ∫ê‰ºöË¢´Ê∂àËÄóÂÆåÊØïÔºåÂØºËá¥ÊúçÂä°Áò´Áó™„ÄÇÊúçÂä°‰∏éÊúçÂä°‰πãÈó¥ÁöÑ‰æùËµñÊÄßÔºåÊïÖÈöú‰ºö‰º†Êí≠Ôºå‰ºöÂØπÊï¥‰∏™ÂæÆÊúçÂä°Á≥ªÁªüÈÄ†ÊàêÁÅæÈöæÊÄßÁöÑ‰∏•ÈáçÂêéÊûúÔºåËøôÂ∞±ÊòØÊúçÂä°ÊïÖÈöúÁöÑ‚ÄúÈõ™Â¥©‚ÄùÊïàÂ∫î„ÄÇ ‰∏∫‰∫ÜËß£ÂÜ≥Ëøô‰∏™ÈóÆÈ¢òÔºå‰∏öÁïåÊèêÂá∫‰∫ÜÊñ≠Ë∑ØÂô®Ê®°Âûã„ÄÇ 12.1Êñ≠Ë∑ØÂô®ÁÆÄ‰ªã ‚Äã Netflix has created a library called Hystrix that implements the circuit breaker pattern. In a microservice architecture it is common to have multiple layers of service calls.Netflix. ÂºÄÊ∫ê‰∫ÜHystrixÁªÑ‰ª∂ÔºåÂÆûÁé∞‰∫ÜÊñ≠Ë∑ØÂô®Ê®°ÂºèÔºåSpringCloudÂØπËøô‰∏ÄÁªÑ‰ª∂ËøõË°å‰∫ÜÊï¥Âêà„ÄÇ Âú®ÂæÆÊúçÂä°Êû∂ÊûÑ‰∏≠Ôºå‰∏Ä‰∏™ËØ∑Ê±ÇÈúÄË¶ÅË∞ÉÁî®Â§ö‰∏™ÊúçÂä°ÊòØÈùûÂ∏∏Â∏∏ËßÅÁöÑ„ÄÇËæÉÂ∫ïÂ±ÇÁöÑÊúçÂä°Â¶ÇÊûúÂá∫Áé∞ÊïÖÈöúÔºå‰ºöÂØºËá¥ËøûÈîÅÊïÖÈöú„ÄÇÂΩìÂØπÁâπÂÆöÁöÑÊúçÂä°ÁöÑË∞ÉÁî®ÁöÑ‰∏çÂèØÁî®ËææÂà∞‰∏Ä‰∏™ÈòÄÂÄºÔºàHystric ÊòØ5Áßí20Ê¨°Ôºâ Êñ≠Ë∑ØÂô®Â∞Ü‰ºöË¢´ÊâìÂºÄ„ÄÇÊñ≠Ë∑ØÊâìÂºÄÂêéÔºåÂèØÁî®ÈÅøÂÖçËøûÈîÅÊïÖÈöúÔºåfallbackÊñπÊ≥ïÂèØ‰ª•Áõ¥Êé•ËøîÂõû‰∏Ä‰∏™Âõ∫ÂÆöÂÄº„ÄÇ 13.Ë∑ØÁî±ÁΩëÂÖ≥(zuul) ‚Äã ZuulÁöÑ‰∏ªË¶ÅÂäüËÉΩÊòØË∑ØÁî±ËΩ¨ÂèëÂíåËøáÊª§Âô®„ÄÇË∑ØÁî±ÂäüËÉΩÊòØÂæÆÊúçÂä°ÁöÑ‰∏ÄÈÉ®ÂàÜÔºåÊØîÂ¶ÇÔºèapi/userËΩ¨ÂèëÂà∞Âà∞userÊúçÂä°Ôºå/api/shopËΩ¨ÂèëÂà∞Âà∞shopÊúçÂä°„ÄÇzuulÈªòËÆ§ÂíåRibbonÁªìÂêàÂÆûÁé∞‰∫ÜË¥üËΩΩÂùáË°°ÁöÑÂäüËÉΩ„ÄÇ zuulÊúâ‰ª•‰∏ãÂäüËÉΩÔºö Authentication Insights Stress Testing Canary Testing Dynamic Routing Service Migration Load Shedding Security Static Response handling Active/Active traffic management ÊúçÂä°ËøáÊª§ filterTypeÔºöËøîÂõû‰∏Ä‰∏™Â≠óÁ¨¶‰∏≤‰ª£Ë°®ËøáÊª§Âô®ÁöÑÁ±ªÂûãÔºåÂú®zuul‰∏≠ÂÆö‰πâ‰∫ÜÂõõÁßç‰∏çÂêåÁîüÂëΩÂë®ÊúüÁöÑËøáÊª§Âô®Á±ªÂûãÔºåÂÖ∑‰ΩìÂ¶Ç‰∏ãÔºö preÔºöË∑ØÁî±‰πãÂâç routingÔºöË∑ØÁî±‰πãÊó∂ postÔºö Ë∑ØÁî±‰πãÂêé errorÔºöÂèëÈÄÅÈîôËØØË∞ÉÁî® filterOrderÔºöËøáÊª§ÁöÑÈ°∫Â∫è shouldFilterÔºöËøôÈáåÂèØ‰ª•ÂÜôÈÄªËæëÂà§Êñ≠ÔºåÊòØÂê¶Ë¶ÅËøáÊª§ÔºåÊú¨Êñátrue,Ê∞∏ËøúËøáÊª§„ÄÇ runÔºöËøáÊª§Âô®ÁöÑÂÖ∑‰ΩìÈÄªËæë„ÄÇÂèØÁî®ÂæàÂ§çÊùÇÔºåÂåÖÊã¨Êü•sqlÔºånosqlÂéªÂà§Êñ≠ËØ•ËØ∑Ê±ÇÂà∞Â∫ïÊúâÊ≤°ÊúâÊùÉÈôêËÆøÈóÆ„ÄÇ 14.ÂàÜÂ∏ÉÂºèÈÖçÁΩÆ‰∏≠ÂøÉ(Spring Cloud Config) ‚Äã Âú®ÂàÜÂ∏ÉÂºèÁ≥ªÁªü‰∏≠ÔºåÁî±‰∫éÊúçÂä°Êï∞ÈáèÂ∑®Â§öÔºå‰∏∫‰∫ÜÊñπ‰æøÊúçÂä°ÈÖçÁΩÆÊñá‰ª∂Áªü‰∏ÄÁÆ°ÁêÜÔºåÂÆûÊó∂Êõ¥Êñ∞ÔºåÊâÄ‰ª•ÈúÄË¶ÅÂàÜÂ∏ÉÂºèÈÖçÁΩÆ‰∏≠ÂøÉÁªÑ‰ª∂„ÄÇÂú®Spring Cloud‰∏≠ÔºåÊúâÂàÜÂ∏ÉÂºèÈÖçÁΩÆ‰∏≠ÂøÉÁªÑ‰ª∂spring cloud config ÔºåÂÆÉÊîØÊåÅÈÖçÁΩÆÊúçÂä°ÊîæÂú®ÈÖçÁΩÆÊúçÂä°ÁöÑÂÜÖÂ≠ò‰∏≠ÔºàÂç≥Êú¨Âú∞ÔºâÔºå‰πüÊîØÊåÅÊîæÂú®ËøúÁ®ãGit‰ªìÂ∫ì‰∏≠„ÄÇÂú®spring cloud config ÁªÑ‰ª∂‰∏≠ÔºåÂàÜ‰∏§‰∏™ËßíËâ≤Ôºå‰∏ÄÊòØconfig serverÔºå‰∫åÊòØconfig client„ÄÇ 15. È´òÂèØÁî®ÁöÑÂàÜÂ∏ÉÂºèÈÖçÁΩÆ‰∏≠ÂøÉ(Spring Cloud Config) ‚Äã ÂΩìÊúçÂä°ÂÆû‰æãÂæàÂ§öÊó∂ÔºåÈÉΩ‰ªéÈÖçÁΩÆ‰∏≠ÂøÉËØªÂèñÊñá‰ª∂ÔºåËøôÊó∂ÂèØ‰ª•ËÄÉËôëÂ∞ÜÈÖçÁΩÆ‰∏≠ÂøÉÂÅöÊàê‰∏Ä‰∏™ÂæÆÊúçÂä°ÔºåÂ∞ÜÂÖ∂ÈõÜÁæ§ÂåñÔºå‰ªéËÄåËææÂà∞È´òÂèØÁî® 16.Ê∂àÊÅØÊÄªÁ∫ø(Spring Cloud Bus) ‚Äã Spring Cloud Bus Â∞ÜÂàÜÂ∏ÉÂºèÁöÑËäÇÁÇπÁî®ËΩªÈáèÁöÑÊ∂àÊÅØ‰ª£ÁêÜËøûÊé•Ëµ∑Êù•„ÄÇÂÆÉÂèØ‰ª•Áî®‰∫éÂπøÊí≠ÈÖçÁΩÆÊñá‰ª∂ÁöÑÊõ¥ÊîπÊàñËÄÖÊúçÂä°‰πãÈó¥ÁöÑÈÄöËÆØÔºå‰πüÂèØ‰ª•Áî®‰∫éÁõëÊéß„ÄÇÊú¨ÊñáË¶ÅËÆ≤Ëø∞ÁöÑÊòØÁî®Spring Cloud BusÂÆûÁé∞ÈÄöÁü•ÂæÆÊúçÂä°Êû∂ÊûÑÁöÑÈÖçÁΩÆÊñá‰ª∂ÁöÑÊõ¥Êîπ„ÄÇ„Äê‰øÆÊîπÈÖçÁΩÆÊñá‰ª∂ÔºåÊó†ÈúÄÈáçÂêØ„Äë ÂáÜÂ§áÔºöÂÆâË£ÖrabbitMq 17.ÊúçÂä°ÈìæË∑ØËøΩË∏™(Spring Cloud Sleuth) ‚Äã ÂæÆÊúçÂä°Êû∂ÊûÑ‰∏äÈÄöËøá‰∏öÂä°Êù•ÂàíÂàÜÊúçÂä°ÁöÑÔºåÈÄöËøáRESTË∞ÉÁî®ÔºåÂØπÂ§ñÊö¥Èú≤ÁöÑ‰∏Ä‰∏™Êé•Âè£ÔºåÂèØËÉΩÈúÄË¶ÅÂæàÂ§ö‰∏™ÊúçÂä°ÂçèÂêåÊâçËÉΩÂÆåÊàêËøô‰∏™Êé•Âè£ÂäüËÉΩÔºåÂ¶ÇÊûúÈìæË∑Ø‰∏ä‰ªª‰Ωï‰∏Ä‰∏™ÊúçÂä°Âá∫Áé∞ÈóÆÈ¢òÊàñËÄÖÁΩëÁªúË∂ÖÊó∂ÔºåÈÉΩ‰ºöÂΩ¢ÊàêÂØºËá¥Êé•Âè£Ë∞ÉÁî®Â§±Ë¥•„ÄÇÈöèÁùÄ‰∏öÂä°ÁöÑ‰∏çÊñ≠Êâ©Âº†ÔºåÊúçÂä°‰πãÈó¥‰∫íÁõ∏Ë∞ÉÁî®‰ºöË∂äÊù•Ë∂äÂ§çÊùÇ„ÄÇ ÊúØËØ≠ SpanÔºöÂü∫Êú¨Â∑•‰ΩúÂçïÂÖÉÔºå‰æãÂ¶ÇÔºåÂú®‰∏Ä‰∏™Êñ∞Âª∫ÁöÑspan‰∏≠ÂèëÈÄÅ‰∏Ä‰∏™RPCÁ≠âÂêå‰∫éÂèëÈÄÅ‰∏Ä‰∏™ÂõûÂ∫îËØ∑Ê±ÇÁªôRPCÔºåspanÈÄöËøá‰∏Ä‰∏™64‰ΩçIDÂîØ‰∏ÄÊ†áËØÜÔºåtrace‰ª•Âè¶‰∏Ä‰∏™64‰ΩçIDË°®Á§∫ÔºåspanËøòÊúâÂÖ∂‰ªñÊï∞ÊçÆ‰ø°ÊÅØÔºåÊØîÂ¶ÇÊëòË¶Å„ÄÅÊó∂Èó¥Êà≥‰∫ã‰ª∂„ÄÅÂÖ≥ÈîÆÂÄºÊ≥®Èáä(tags)„ÄÅspanÁöÑID„ÄÅ‰ª•ÂèäËøõÂ∫¶ID(ÈÄöÂ∏∏ÊòØIPÂú∞ÂùÄ) spanÂú®‰∏çÊñ≠ÁöÑÂêØÂä®ÂíåÂÅúÊ≠¢ÔºåÂêåÊó∂ËÆ∞ÂΩï‰∫ÜÊó∂Èó¥‰ø°ÊÅØÔºåÂΩì‰Ω†ÂàõÂª∫‰∫Ü‰∏Ä‰∏™spanÔºå‰Ω†ÂøÖÈ°ªÂú®Êú™Êù•ÁöÑÊüê‰∏™Êó∂ÂàªÂÅúÊ≠¢ÂÆÉ„ÄÇ TraceÔºö‰∏ÄÁ≥ªÂàóspansÁªÑÊàêÁöÑ‰∏Ä‰∏™Ê†ëÁä∂ÁªìÊûÑÔºå‰æãÂ¶ÇÔºåÂ¶ÇÊûú‰Ω†Ê≠£Âú®Ë∑ë‰∏Ä‰∏™ÂàÜÂ∏ÉÂºèÂ§ßÊï∞ÊçÆÂ∑•Á®ãÔºå‰Ω†ÂèØËÉΩÈúÄË¶ÅÂàõÂª∫‰∏Ä‰∏™trace„ÄÇ AnnotationÔºöÁî®Êù•ÂèäÊó∂ËÆ∞ÂΩï‰∏Ä‰∏™‰∫ã‰ª∂ÁöÑÂ≠òÂú®Ôºå‰∏Ä‰∫õÊ†∏ÂøÉannotationsÁî®Êù•ÂÆö‰πâ‰∏Ä‰∏™ËØ∑Ê±ÇÁöÑÂºÄÂßãÂíåÁªìÊùü cs - Client Sent -ÂÆ¢Êà∑Á´ØÂèëËµ∑‰∏Ä‰∏™ËØ∑Ê±ÇÔºåËøô‰∏™annotionÊèèËø∞‰∫ÜËøô‰∏™spanÁöÑÂºÄÂßã sr - Server Received -ÊúçÂä°Á´ØËé∑ÂæóËØ∑Ê±ÇÂπ∂ÂáÜÂ§áÂºÄÂßãÂ§ÑÁêÜÂÆÉÔºåÂ¶ÇÊûúÂ∞ÜÂÖ∂srÂáèÂéªcsÊó∂Èó¥Êà≥‰æøÂèØÂæóÂà∞ÁΩëÁªúÂª∂Ëøü ss - Server Sent -Ê≥®Ëß£Ë°®ÊòéËØ∑Ê±ÇÂ§ÑÁêÜÁöÑÂÆåÊàê(ÂΩìËØ∑Ê±ÇËøîÂõûÂÆ¢Êà∑Á´Ø)ÔºåÂ¶ÇÊûússÂáèÂéªsrÊó∂Èó¥Êà≥‰æøÂèØÂæóÂà∞ÊúçÂä°Á´ØÈúÄË¶ÅÁöÑÂ§ÑÁêÜËØ∑Ê±ÇÊó∂Èó¥ cr - Client Received -Ë°®ÊòéspanÁöÑÁªìÊùüÔºåÂÆ¢Êà∑Á´ØÊàêÂäüÊé•Êî∂Âà∞ÊúçÂä°Á´ØÁöÑÂõûÂ§çÔºåÂ¶ÇÊûúcrÂáèÂéªcsÊó∂Èó¥Êà≥‰æøÂèØÂæóÂà∞ÂÆ¢Êà∑Á´Ø‰ªéÊúçÂä°Á´ØËé∑ÂèñÂõûÂ§çÁöÑÊâÄÊúâÊâÄÈúÄÊó∂Èó¥ Â∞ÜSpanÂíåTraceÂú®‰∏Ä‰∏™Á≥ªÁªü‰∏≠‰ΩøÁî®ZipkinÊ≥®Ëß£ÁöÑËøáÁ®ãÂõæÂΩ¢ÂåñÔºö 18.È´òÂèØÁî®ÁöÑÊúçÂä°Ê≥®ÂÜå‰∏≠ÂøÉ ‚Äã ÊúçÂä°Ê≥®ÂÜå‰∏≠ÂøÉEureka ServerÔºåÊòØ‰∏Ä‰∏™ÂÆû‰æãÔºåÂΩìÊàêÂçÉ‰∏ä‰∏á‰∏™ÊúçÂä°ÂêëÂÆÉÊ≥®ÂÜåÁöÑÊó∂ÂÄôÔºåÂÆÉÁöÑË¥üËΩΩÊòØÈùûÂ∏∏È´òÁöÑÔºåËøôÂú®Áîü‰∫ßÁéØÂ¢É‰∏äÊòØ‰∏çÂ§™ÂêàÈÄÇÁöÑÔºåËøôÁØáÊñáÁ´†‰∏ªË¶Å‰ªãÁªçÊÄé‰πàÂ∞ÜEureka ServerÈõÜÁæ§Âåñ„ÄÇEurekaÈÄöËøáËøêË°åÂ§ö‰∏™ÂÆû‰æãÔºå‰ΩøÂÖ∂Êõ¥ÂÖ∑ÊúâÈ´òÂèØÁî®ÊÄß„ÄÇ‰∫ãÂÆû‰∏äÔºåËøôÊòØÂÆÉÈªòËÆ§ÁöÑÁÜüÊÄßÔºå‰Ω†ÈúÄË¶ÅÂÅöÁöÑÂ∞±ÊòØÁªôÂØπÁ≠âÁöÑÂÆû‰æã‰∏Ä‰∏™ÂêàÊ≥ïÁöÑÂÖ≥ËÅîserviceurl„ÄÇ SpringCloud Alibaba ÂèÇËÄÉÊñáÁåÆÔºöÈªëÈ©¨ËØæÁ®ãÁ¨îËÆ∞ÔºåÊñπÂøóÊúãÁöÑÂçöÂÆ¢","link":"/2021/02/25/Draft/2021/SpringCloud/"},{"title":"È≠ëÈ≠ÖÂÖàÁîü | ÂæÆ‰ø°Â∞èÁ®ãÂ∫è","text":"ÂæÆ‰ø°Â∞èÁ®ãÂ∫èÊåáÂçó Â∏∏Áî®ÂáΩÊï∞ Ë∑≥ËΩ¨ 123wx.navigateTo({ url: '../component/L-component' }) ÁÆÄ‰ªã ÂâçÁ´ØÔºåÂêéÁ´Ø‰ªªÊÑèÔºå‰∏äÁ∫øÈúÄÈÖçÁΩÆÂüüÂêç„ÄÇ WeixinJSBridgeÂØπÂÜÖ---„Äã JS-SDKÔºåÂâçËÄÖÂåÖË£ÖÔºåÂØπÂÜÖËΩ¨ÂØπÂ§ñ---„Äã Â∞èÁ®ãÂ∫èÔºåÈÄªËæëÂ±ÇÂíåÊ∏≤ÊüìÂ±ÇÊòØÂàÜÂºÄÁöÑÔºåÈÄªËæëÂ±ÇËøêË°åÂú® JSCore ‰∏≠ÔºåÂπ∂Ê≤°Êúâ‰∏Ä‰∏™ÂÆåÊï¥ÊµèËßàÂô®ÂØπË±°ÔºåÂõ†ËÄåÁº∫Â∞ëÁõ∏ÂÖ≥ÁöÑDOM APIÂíåBOM API„ÄÇÂØºËá¥Êó†Ê≥ïËøêË°åÂ∏∏Áî®ÂâçÁ´ØÂ∫ìjQuery„ÄÅ Zepto Á≠âÔºå JSCore ÁöÑÁéØÂ¢ÉÂêå NodeJS ÁéØÂ¢É‰πüÊòØ‰∏çÂ∞ΩÁõ∏ÂêåÔºåÊâÄ‰ª•‰∏Ä‰∫õ NPM ÁöÑÂåÖÂú®Â∞èÁ®ãÂ∫è‰∏≠‰πüÊòØÊó†Ê≥ïËøêË°åÁöÑ„ÄÇ **ÂàùÂßãËøáÁ®ãÔºö**Áî≥ËØ∑Â∞èÁ®ãÂ∫èË¥¶Âè∑(ÁÆ°ÁêÜÂ∞èÁ®ãÂ∫èÔºåËé∑ÂèñAppID)ÔºåÂÆâË£ÖÂ∞èÁ®ãÂ∫èÂºÄÂèëÂ∑•ÂÖ∑„ÄÅÈÖçÁΩÆÈ°πÁõÆ ÁªìÊûÑ app.json ÂÖ®Â±ÄÈÖçÁΩÆÔºåÂåÖÊã¨‰∫ÜÂ∞èÁ®ãÂ∫èÁöÑÊâÄÊúâÈ°µÈù¢Ë∑ØÂæÑ„ÄÅÁïåÈù¢Ë°®Áé∞„ÄÅÁΩëÁªúË∂ÖÊó∂Êó∂Èó¥„ÄÅÂ∫ïÈÉ® tab 1234567891011121314151617{ // ÊèèËø∞ÂΩìÂâçÂ∞èÁ®ãÂ∫èÊâÄÊúâÈ°µÈù¢Ë∑ØÂæÑÔºåËøôÊòØ‰∏∫‰∫ÜËÆ©ÂæÆ‰ø°ÂÆ¢Êà∑Á´ØÁü•ÈÅìÂΩìÂâç‰Ω†ÁöÑÂ∞èÁ®ãÂ∫èÈ°µÈù¢ÂÆö‰πâÂú®Âì™‰∏™ÁõÆÂΩï„ÄÇ &quot;pages&quot;:[ &quot;pages/index/index&quot;, &quot;pages/logs/logs&quot; ], // ÂÆö‰πâÂ∞èÁ®ãÂ∫èÊâÄÊúâÈ°µÈù¢ÁöÑÈ°∂ÈÉ®ËÉåÊôØÈ¢úËâ≤ÔºåÊñáÂ≠óÈ¢úËâ≤ÂÆö‰πâÁ≠â„ÄÇ &quot;window&quot;:{ &quot;backgroundTextStyle&quot;:&quot;light&quot;, &quot;navigationBarBackgroundColor&quot;: &quot;#fff&quot;, &quot;navigationBarTitleText&quot;: &quot;Weixin&quot;, &quot;navigationBarTextStyle&quot;:&quot;black&quot; }, &quot;style&quot;: &quot;v2&quot;, &quot;sitemapLocation&quot;: &quot;sitemap.json&quot;} project.config.json Â∞èÁ®ãÂ∫èÂºÄÂèëËÄÖÂ∑•ÂÖ∑‰∏™ÊÄßÂåñÈÖçÁΩÆÔºåÁïåÈù¢È¢úËâ≤„ÄÅÁºñËØëÈÖçÁΩÆÁ≠âÁ≠â page.json Ë°®Á§∫ pages/logs ÁõÆÂΩï‰∏ãÁöÑ logs.json ËøôÁ±ªÂíåÂ∞èÁ®ãÂ∫èÈ°µÈù¢Áõ∏ÂÖ≥ÁöÑÈÖçÁΩÆ„ÄÇÁã¨Á´ãÂÆö‰πâÊØè‰∏™È°µÈù¢ÁöÑ‰∏Ä‰∫õÂ±ûÊÄß È°µÈù¢‰∏≠ÈÖçÁΩÆÈ°π‰ºöË¶ÜÁõñ app.json ÁöÑ window ‰∏≠Áõ∏ÂêåÁöÑÈÖçÁΩÆÈ°π index.wxml WXMLÔºàWeiXin Markup LanguageÔºâÔºå 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748Êï∞ÊçÆÁªëÂÆö&lt;!--wxml--&gt;&lt;view&gt; {{message}} &lt;/view&gt;// page.jsPage({ data: { message: 'Hello MINA!' }})ÂàóË°®Ê∏≤Êüì&lt;!--wxml--&gt;&lt;view wx:for=&quot;{{array}}&quot;&gt; {{item}} &lt;/view&gt;// page.jsPage({ data: { array: [1, 2, 3, 4, 5] }})Êù°‰ª∂Ê∏≤Êüì&lt;!--wxml--&gt;&lt;view wx:if=&quot;{{view == 'WEBVIEW'}}&quot;&gt; WEBVIEW &lt;/view&gt;&lt;view wx:elif=&quot;{{view == 'APP'}}&quot;&gt; APP &lt;/view&gt;&lt;view wx:else=&quot;{{view == 'MINA'}}&quot;&gt; MINA &lt;/view&gt;// page.jsPage({ data: { view: 'MINA' }})Ê®°Êùø&lt;!--wxml--&gt;&lt;template name=&quot;staffName&quot;&gt; &lt;view&gt; FirstName: {{firstName}}, LastName: {{lastName}} &lt;/view&gt;&lt;/template&gt;&lt;template is=&quot;staffName&quot; data=&quot;{{...staffA}}&quot;&gt;&lt;/template&gt;&lt;template is=&quot;staffName&quot; data=&quot;{{...staffB}}&quot;&gt;&lt;/template&gt;&lt;template is=&quot;staffName&quot; data=&quot;{{...staffC}}&quot;&gt;&lt;/template&gt;// page.jsPage({ data: { staffA: {firstName: 'Hulk', lastName: 'Hu'}, staffB: {firstName: 'Shang', lastName: 'You'}, staffC: {firstName: 'Gideon', lastName: 'Lin'} }}) index.wxss CSS,‰ªÖÊîØÊåÅÈÉ®ÂàÜ CSS ÈÄâÊã©Âô®,Êñ∞Â¢û‰∫ÜÂ∞∫ÂØ∏Âçï‰Ωç,Êèê‰æõ‰∫ÜÂÖ®Â±ÄÁöÑÊ†∑Âºè[app.wxss]ÂíåÂ±ÄÈÉ®Ê†∑Âºè .js ÈÄªËæëÂ±Ç Èô§Ê≠§‰πãÂ§ñÔºåÂè™ÊúâÂêéÁºÄÂêçÂú®ÁôΩÂêçÂçïÂÜÖÁöÑÊñá‰ª∂ÂèØ‰ª•Ë¢´‰∏ä‰º†Ôºå‰∏çÂú®ÁôΩÂêçÂçïÂàóË°®ÂÜÖÊñá‰ª∂Âú®ÂºÄÂèëÂ∑•ÂÖ∑ËÉΩË¢´ËÆøÈóÆÂà∞Ôºå‰ΩÜÊó†Ê≥ïË¢´‰∏ä‰º†„ÄÇÂÖ∑‰ΩìÁôΩÂêçÂçïÂàóË°®Â¶Ç‰∏ãÔºö wxs png jpg jpeg gif svg json cer mp3 aac m4a mp4 wav ogg silk wasm br Âü∫Á°Ä Âú∫ÊôØÂÄºÔºö ÊèèËø∞Áî®Êà∑ËøõÂÖ•Â∞èÁ®ãÂ∫èÁöÑË∑ØÂæÑÔºåÁõÆÂâçËøòÊó†Ê≥ïËé∑ÂèñÂà∞Êåâ Home ÈîÆÈÄÄÂá∫Âà∞Ê°åÈù¢ÔºåÁÑ∂Âêé‰ªéÊ°åÈù¢ÂÜçÊ¨°ËøõÂ∞èÁ®ãÂ∫èÁöÑÂú∫ÊôØÂÄºÔºåÂØπ‰∫éËøôÁßçÊÉÖÂÜµÔºå‰ºö‰øùÁïô‰∏ä‰∏ÄÊ¨°ÁöÑÂú∫ÊôØÂÄº„ÄÇ Ëé∑ÂèñÊñπÂºèÔºöonLaunch Âíå onShowÔºåwx.getLaunchOptionsSync Âú∫ÊôØÂÄº Âú∫ÊôØ appIdÂê´‰πâ 1020 ÂÖ¨‰ºóÂè∑ profile È°µÁõ∏ÂÖ≥Â∞èÁ®ãÂ∫èÂàóË°® Êù•Ê∫êÂÖ¨‰ºóÂè∑ 1035 ÂÖ¨‰ºóÂè∑Ëá™ÂÆö‰πâËèúÂçï Êù•Ê∫êÂÖ¨‰ºóÂè∑ 1036 App ÂàÜ‰∫´Ê∂àÊÅØÂç°Áâá Êù•Ê∫êApp 1037 Â∞èÁ®ãÂ∫èÊâìÂºÄÂ∞èÁ®ãÂ∫è Êù•Ê∫êÂ∞èÁ®ãÂ∫è 1038 ‰ªéÂè¶‰∏Ä‰∏™Â∞èÁ®ãÂ∫èËøîÂõû Êù•Ê∫êÂ∞èÁ®ãÂ∫è 1043 ÂÖ¨‰ºóÂè∑Ê®°ÊùøÊ∂àÊÅØ Êù•Ê∫êÂÖ¨‰ºóÂè∑ ÈÄªËæëÂ±ÇApp Service JavaScript ÁöÑÂü∫Á°Ä‰∏äÔºåÂ¢ûÂä†‰∏Ä‰∫õÂäüËÉΩÔºåÁî±‰∫éÂπ∂ÈùûËøêË°åÂú®ÊµèËßàÂô®‰∏≠ÔºåwindowÔºådocumentÁ≠â‰∏Ä‰∫õwebËÉΩÂäõÊó†Ê≥ï‰ΩøÁî®Ôºö Â¢ûÂä† App Âíå Page ÊñπÊ≥ïÔºåËøõË°åÁ®ãÂ∫èÊ≥®ÂÜåÂíåÈ°µÈù¢Ê≥®ÂÜå„ÄÇ Â¢ûÂä† getApp Âíå getCurrentPages ÊñπÊ≥ïÔºåÂàÜÂà´Áî®Êù•Ëé∑Âèñ App ÂÆû‰æãÂíåÂΩìÂâçÈ°µÈù¢Ê†à„ÄÇ Êèê‰æõ‰∏∞ÂØåÁöÑ APIÔºåÂ¶ÇÂæÆ‰ø°Áî®Êà∑Êï∞ÊçÆÔºåÊâ´‰∏ÄÊâ´ÔºåÊîØ‰ªòÁ≠âÂæÆ‰ø°ÁâπÊúâËÉΩÂäõ„ÄÇ Êèê‰æõÊ®°ÂùóÂåñËÉΩÂäõÔºåÊØè‰∏™È°µÈù¢ÊúâÁã¨Á´ãÁöÑ‰ΩúÁî®Âüü„ÄÇ Ê≥®ÂÜåÂ∞èÁ®ãÂ∫è app.js ‰∏≠Ë∞ÉÁî® App ÊñπÊ≥ïÊ≥®ÂÜåÂ∞èÁ®ãÂ∫èÂÆû‰æãÔºåÁªëÂÆöÁîüÂëΩÂë®ÊúüÂõûË∞ÉÂáΩÊï∞„ÄÅÈîôËØØÁõëÂê¨ÂíåÈ°µÈù¢‰∏çÂ≠òÂú®ÁõëÂê¨ÂáΩÊï∞Á≠â„ÄÇ 12345Êï¥‰∏™Â∞èÁ®ãÂ∫èÂè™Êúâ‰∏Ä‰∏™ App ÂÆû‰æãÔºåÊòØÂÖ®ÈÉ®È°µÈù¢ÂÖ±‰∫´ÁöÑ„ÄÇÂºÄÂèëËÄÖÂèØ‰ª•ÈÄöËøá getApp ÊñπÊ≥ïËé∑ÂèñÂà∞ÂÖ®Â±ÄÂîØ‰∏ÄÁöÑ App ÂÆû‰æãÔºåËé∑ÂèñApp‰∏äÁöÑÊï∞ÊçÆÊàñË∞ÉÁî®ÂºÄÂèëËÄÖÊ≥®ÂÜåÂú® App ‰∏äÁöÑÂáΩÊï∞„ÄÇ// xxx.jsconst appInstance = getApp()console.log(appInstance.globalData) // I am global data Ê≥®ÂÜåÈ°µÈù¢ Page() 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253Page({ data: { text: &quot;This is page data.&quot; }, onLoad: function(options) { // È°µÈù¢ÂàõÂª∫Êó∂ÊâßË°å }, onShow: function() { // È°µÈù¢Âá∫Áé∞Âú®ÂâçÂè∞Êó∂ÊâßË°å }, onReady: function() { // È°µÈù¢È¶ñÊ¨°Ê∏≤ÊüìÂÆåÊØïÊó∂ÊâßË°å }, onHide: function() { // È°µÈù¢‰ªéÂâçÂè∞Âèò‰∏∫ÂêéÂè∞Êó∂ÊâßË°å }, onUnload: function() { // È°µÈù¢ÈîÄÊØÅÊó∂ÊâßË°å }, onPullDownRefresh: function() { // Ëß¶Âèë‰∏ãÊãâÂà∑Êñ∞Êó∂ÊâßË°å }, onReachBottom: function() { // È°µÈù¢Ëß¶Â∫ïÊó∂ÊâßË°å }, onShareAppMessage: function () { // È°µÈù¢Ë¢´Áî®Êà∑ÂàÜ‰∫´Êó∂ÊâßË°å }, onPageScroll: function() { // È°µÈù¢ÊªöÂä®Êó∂ÊâßË°å }, onResize: function() { // È°µÈù¢Â∞∫ÂØ∏ÂèòÂåñÊó∂ÊâßË°å }, onTabItemTap(item) { // tab ÁÇπÂáªÊó∂ÊâßË°å console.log(item.index) console.log(item.pagePath) console.log(item.text) }, // ‰∫ã‰ª∂ÂìçÂ∫îÂáΩÊï∞ viewTap: function() { this.setData({ text: 'Set some data for updating view.' }, function() { // this is setData callback }) }, // Ëá™Áî±Êï∞ÊçÆ customData: { hi: 'MINA' }}) behaviors 2.9.2 ÂºÄÂßãÊîØÊåÅ,‰ΩéÁâàÊú¨ÈúÄÂÅöÂÖºÂÆπÂ§ÑÁêÜ„ÄÇ behaviors ÂèØ‰ª•Áî®Êù•ËÆ©Â§ö‰∏™È°µÈù¢ÊúâÁõ∏ÂêåÁöÑÊï∞ÊçÆÂ≠óÊÆµÂíåÊñπÊ≥ï„ÄÇ 12345678910111213141516171819// my-behavior.jsmodule.exports = Behavior({ data: { sharedText: 'This is a piece of data shared between pages.' }, methods: { sharedMethod: function() { this.data.sharedText === 'This is a piece of data shared between pages.' } }})// page-a.jsvar myBehavior = require('./my-behavior.js')Page({ behaviors: [myBehavior], onLoad: function() { this.data.sharedText === 'This is a piece of data shared between pages.' }}) Component () Âü∫Á°ÄÂ∫ì 1.6.3 ÂºÄÂßãÊîØÊåÅÔºå‰ΩéÁâàÊú¨ÈúÄÂÅöÂÖºÂÆπÂ§ÑÁêÜ„ÄÇÊñπÊ≥ïÈúÄË¶ÅÊîæÂú® methods: { } ÈáåÈù¢„ÄÇÁ±ª‰ººËá™ÂÆö‰πâÁªÑ‰ª∂ÔºåÈÄÇÂêàÂ§çÊùÇÈ°µÈù¢ 1234567891011121314151617Component({ data: { text: &quot;This is page data.&quot; }, methods: { onLoad: function(options) { // È°µÈù¢ÂàõÂª∫Êó∂ÊâßË°å }, onPullDownRefresh: function() { // ‰∏ãÊãâÂà∑Êñ∞Êó∂ÊâßË°å }, // ‰∫ã‰ª∂ÂìçÂ∫îÂáΩÊï∞ viewTap: function() { // ... } }}) È°µÈù¢ÁîüÂëΩÂë®Êúü È°µÈù¢Ë∑ØÁî± Âú®Â∞èÁ®ãÂ∫è‰∏≠ÊâÄÊúâÈ°µÈù¢ÁöÑË∑ØÁî±ÂÖ®ÈÉ®Áî±Ê°ÜÊû∂ËøõË°åÁÆ°ÁêÜ„ÄÇ È°µÈù¢Ê†à Ê°ÜÊû∂‰ª•Ê†àÁöÑÂΩ¢ÂºèÁª¥Êä§‰∫ÜÂΩìÂâçÁöÑÊâÄÊúâÈ°µÈù¢„ÄÇ ÂΩìÂèëÁîüË∑ØÁî±ÂàáÊç¢ÁöÑÊó∂ÂÄôÔºåÈ°µÈù¢Ê†àÁöÑË°®Áé∞Â¶Ç‰∏ãÔºö Ë∑ØÁî±ÊñπÂºè È°µÈù¢Ê†àË°®Áé∞ ÂàùÂßãÂåñ Êñ∞È°µÈù¢ÂÖ•Ê†à ÊâìÂºÄÊñ∞È°µÈù¢ Êñ∞È°µÈù¢ÂÖ•Ê†à È°µÈù¢ÈáçÂÆöÂêë ÂΩìÂâçÈ°µÈù¢Âá∫Ê†àÔºåÊñ∞È°µÈù¢ÂÖ•Ê†à È°µÈù¢ËøîÂõû È°µÈù¢‰∏çÊñ≠Âá∫Ê†àÔºåÁõ¥Âà∞ÁõÆÊ†áËøîÂõûÈ°µ Tab ÂàáÊç¢ È°µÈù¢ÂÖ®ÈÉ®Âá∫Ê†àÔºåÂè™Áïô‰∏ãÊñ∞ÁöÑ Tab È°µÈù¢ ÈáçÂä†ËΩΩ È°µÈù¢ÂÖ®ÈÉ®Âá∫Ê†àÔºåÂè™Áïô‰∏ãÊñ∞ÁöÑÈ°µÈù¢ ÂºÄÂèëËÄÖÂèØ‰ª•‰ΩøÁî® getCurrentPages() ÂáΩÊï∞Ëé∑ÂèñÂΩìÂâçÈ°µÈù¢Ê†à„ÄÇ Ë∑ØÁî±ÊñπÂºè ÂØπ‰∫éË∑ØÁî±ÁöÑËß¶ÂèëÊñπÂºè‰ª•ÂèäÈ°µÈù¢ÁîüÂëΩÂë®ÊúüÂáΩÊï∞Â¶Ç‰∏ãÔºö Ë∑ØÁî±ÊñπÂºè Ëß¶ÂèëÊó∂Êú∫ Ë∑ØÁî±ÂâçÈ°µÈù¢ Ë∑ØÁî±ÂêéÈ°µÈù¢ ÂàùÂßãÂåñ Â∞èÁ®ãÂ∫èÊâìÂºÄÁöÑÁ¨¨‰∏Ä‰∏™È°µÈù¢ onLoad, onShow ÊâìÂºÄÊñ∞È°µÈù¢ Ë∞ÉÁî® API wx.navigateTo ‰ΩøÁî®ÁªÑ‰ª∂ `` onHide onLoad, onShow È°µÈù¢ÈáçÂÆöÂêë Ë∞ÉÁî® API wx.redirectTo ‰ΩøÁî®ÁªÑ‰ª∂ `` onUnload onLoad, onShow È°µÈù¢ËøîÂõû Ë∞ÉÁî® API wx.navigateBack ‰ΩøÁî®ÁªÑ‰ª∂`` Áî®Êà∑ÊåâÂ∑¶‰∏äËßíËøîÂõûÊåâÈíÆ onUnload onShow Tab ÂàáÊç¢ Ë∞ÉÁî® API wx.switchTab ‰ΩøÁî®ÁªÑ‰ª∂ `` Áî®Êà∑ÂàáÊç¢ Tab ÂêÑÁßçÊÉÖÂÜµËØ∑ÂèÇËÄÉ‰∏ãË°® ÈáçÂêØÂä® Ë∞ÉÁî® API wx.reLaunch ‰ΩøÁî®ÁªÑ‰ª∂ `` onUnload onLoad, onShow Tab ÂàáÊç¢ÂØπÂ∫îÁöÑÁîüÂëΩÂë®ÊúüÔºà‰ª• A„ÄÅB È°µÈù¢‰∏∫ Tabbar È°µÈù¢ÔºåC ÊòØ‰ªé A È°µÈù¢ÊâìÂºÄÁöÑÈ°µÈù¢ÔºåD È°µÈù¢ÊòØ‰ªé C È°µÈù¢ÊâìÂºÄÁöÑÈ°µÈù¢‰∏∫‰æãÔºâÔºö ÂΩìÂâçÈ°µÈù¢ Ë∑ØÁî±ÂêéÈ°µÈù¢ Ëß¶ÂèëÁöÑÁîüÂëΩÂë®ÊúüÔºàÊåâÈ°∫Â∫èÔºâ A A Nothing happend A B A.onHide(), B.onLoad(), B.onShow() A BÔºàÂÜçÊ¨°ÊâìÂºÄÔºâ A.onHide(), B.onShow() C A C.onUnload(), A.onShow() C B C.onUnload(), B.onLoad(), B.onShow() D B D.onUnload(), C.onUnload(), B.onLoad(), B.onShow() DÔºà‰ªéËΩ¨ÂèëËøõÂÖ•Ôºâ A D.onUnload(), A.onLoad(), A.onShow() DÔºà‰ªéËΩ¨ÂèëËøõÂÖ•Ôºâ B D.onUnload(), B.onLoad(), B.onShow() Ê≥®ÊÑè‰∫ãÈ°π navigateTo, redirectTo Âè™ËÉΩÊâìÂºÄÈùû tabBar È°µÈù¢„ÄÇ switchTab Âè™ËÉΩÊâìÂºÄ tabBar È°µÈù¢„ÄÇ reLaunch ÂèØ‰ª•ÊâìÂºÄ‰ªªÊÑèÈ°µÈù¢„ÄÇ È°µÈù¢Â∫ïÈÉ®ÁöÑ tabBar Áî±È°µÈù¢ÂÜ≥ÂÆöÔºåÂç≥Âè™Ë¶ÅÊòØÂÆö‰πâ‰∏∫ tabBar ÁöÑÈ°µÈù¢ÔºåÂ∫ïÈÉ®ÈÉΩÊúâ tabBar„ÄÇ Ë∞ÉÁî®È°µÈù¢Ë∑ØÁî±Â∏¶ÁöÑÂèÇÊï∞ÂèØ‰ª•Âú®ÁõÆÊ†áÈ°µÈù¢ÁöÑonLoad‰∏≠Ëé∑Âèñ„ÄÇ Ê®°ÂùóÂåñ ÂÖ¨ÂÖ±ÁöÑ‰ª£Á†ÅÊäΩÁ¶ªÊàê‰∏∫‰∏Ä‰∏™ÂçïÁã¨ÁöÑ js Êñá‰ª∂Ôºå‰Ωú‰∏∫‰∏Ä‰∏™Ê®°Âùó„ÄÇÊ®°ÂùóÂè™ÊúâÈÄöËøá module.exports ÊàñËÄÖ exports„Äêexports ÊòØ module.exports ÁöÑ‰∏Ä‰∏™ÂºïÁî®ÔºåÂõ†Ê≠§Âú®Ê®°ÂùóÈáåËæπÈöèÊÑèÊõ¥Êîπ exports ÁöÑÊåáÂêë‰ºöÈÄ†ÊàêÊú™Áü•ÁöÑÈîôËØØ„ÄÇ„Äë ÊâçËÉΩÂØπÂ§ñÊö¥Èú≤Êé•Âè£„ÄÇ‰∏çÊîØÊåÅÁõ¥Êé•ÂºïÂÖ• node_modules , ÂºÄÂèëËÄÖÈúÄË¶Å‰ΩøÁî®Âà∞ node_modules Êó∂ÂÄôÂª∫ËÆÆÊã∑Ë¥ùÂá∫Áõ∏ÂÖ≥ÁöÑ‰ª£Á†ÅÂà∞Â∞èÁ®ãÂ∫èÁöÑÁõÆÂΩï‰∏≠ÔºåÊàñËÄÖ‰ΩøÁî®Â∞èÁ®ãÂ∫èÊîØÊåÅÁöÑ npm ÂäüËÉΩ 123456789101112131415161718192021// common.jsfunction sayHello(name) { console.log(`Hello ${name} !`)}function sayGoodbye(name) { console.log(`Goodbye ${name} !`)}module.exports.sayHello = sayHelloexports.sayGoodbye = sayGoodbye‚ÄãÂú®ÈúÄË¶Å‰ΩøÁî®Ëøô‰∫õÊ®°ÂùóÁöÑÊñá‰ª∂‰∏≠Ôºå‰ΩøÁî® require Â∞ÜÂÖ¨ÂÖ±‰ª£Á†ÅÂºïÂÖ•var common = require('common.js')Page({ helloMINA: function() { common.sayHello('MINA') }, goodbyeMINA: function() { common.sayGoodbye('MINA') }}) Êñá‰ª∂‰ΩúÁî®Âüü Âú® JavaScript Êñá‰ª∂‰∏≠Â£∞ÊòéÁöÑÂèòÈáèÂíåÂáΩÊï∞Âè™Âú®ËØ•Êñá‰ª∂‰∏≠ÊúâÊïàÔºõ‰∏çÂêåÁöÑÊñá‰ª∂‰∏≠ÂèØ‰ª•Â£∞ÊòéÁõ∏ÂêåÂêçÂ≠óÁöÑÂèòÈáèÂíåÂáΩÊï∞Ôºå‰∏ç‰ºö‰∫íÁõ∏ÂΩ±Âìç„ÄÇ ÈÄöËøáÂÖ®Â±ÄÂáΩÊï∞ getApp ÂèØ‰ª•Ëé∑ÂèñÂÖ®Â±ÄÁöÑÂ∫îÁî®ÂÆû‰æãÔºåÂ¶ÇÊûúÈúÄË¶ÅÂÖ®Â±ÄÁöÑÊï∞ÊçÆÂèØ‰ª•Âú® App() ‰∏≠ËÆæÁΩÆ 1234567891011121314151617// app.jsApp({ globalData: 1})// a.js// The localValue can only be used in file a.js.var localValue = 'a'// Get the app instance.var app = getApp()// Get the global data and change it.app.globalData++// b.js// You can redefine localValue in file b.js, without interference with the localValue in a.js.var localValue = 'b'// If a.js it run before b.js, now the globalData shoule be 2.console.log(getApp().globalData) API ‰∫ã‰ª∂ÁõëÂê¨ API on ÂºÄÂ§¥,ÁõëÂê¨Êüê‰∏™‰∫ã‰ª∂ÊòØÂê¶Ëß¶Âèë,Â¶ÇÔºöwx.onSocketOpenÔºåwx.onCompassChange Á≠â„ÄÇ ÂêåÊ≠• API Sync ÁªìÂ∞æ,Â¶Ç wx.setStorageSyncÔºåwx.getSystemInfoSync Á≠â ÂºÇÊ≠• API Â¶Ç wx.requestÔºåwx.login Á≠â ‰∫ëÂºÄÂèë API ËßÜÂõæÂ±Ç View WXML WXSS (WeiXin Style Sheets) @importËØ≠Âè•ÂèØ‰ª•ÂØºÂÖ•Â§ñËÅîÊ†∑ÂºèË°® ÂÜÖËÅîÊ†∑Âºè Ê°ÜÊû∂ÁªÑ‰ª∂‰∏äÊîØÊåÅ‰ΩøÁî® style„ÄÅclass Â±ûÊÄßÊù•ÊéßÂà∂ÁªÑ‰ª∂ÁöÑÊ†∑Âºè„ÄÇ ÈÄâÊã©Âô® ÁõÆÂâçÊîØÊåÅÁöÑÈÄâÊã©Âô®ÊúâÔºö ÈÄâÊã©Âô® Ê†∑‰æã Ê†∑‰æãÊèèËø∞ .class .intro ÈÄâÊã©ÊâÄÊúâÊã•Êúâ class=&quot;intro&quot; ÁöÑÁªÑ‰ª∂ #id #firstname ÈÄâÊã©Êã•Êúâ id=&quot;firstname&quot; ÁöÑÁªÑ‰ª∂ element view ÈÄâÊã©ÊâÄÊúâ view ÁªÑ‰ª∂ element, element view, checkbox ÈÄâÊã©ÊâÄÊúâÊñáÊ°£ÁöÑ view ÁªÑ‰ª∂ÂíåÊâÄÊúâÁöÑ checkbox ÁªÑ‰ª∂ ::after view::after Âú® view ÁªÑ‰ª∂ÂêéËæπÊèíÂÖ•ÂÜÖÂÆπ ::before view::before Âú® view ÁªÑ‰ª∂ÂâçËæπÊèíÂÖ•ÂÜÖÂÆπ WXS WXSÔºàWeiXin ScriptÔºâÊòØÂ∞èÁ®ãÂ∫èÁöÑ‰∏ÄÂ•óËÑöÊú¨ËØ≠Ë®Ä WXS ‰∏ç‰æùËµñ‰∫éËøêË°åÊó∂ÁöÑÂü∫Á°ÄÂ∫ìÁâàÊú¨ÔºåÂèØ‰ª•Âú®ÊâÄÊúâÁâàÊú¨ÁöÑÂ∞èÁ®ãÂ∫è‰∏≠ËøêË°å„ÄÇ WXS ‰∏é JavaScript ÊòØ‰∏çÂêåÁöÑËØ≠Ë®ÄÔºåÊúâËá™Â∑±ÁöÑËØ≠Ê≥ïÔºåÂπ∂‰∏çÂíå JavaScript ‰∏ÄËá¥„ÄÇ WXS ÁöÑËøêË°åÁéØÂ¢ÉÂíåÂÖ∂‰ªñ JavaScript ‰ª£Á†ÅÊòØÈöîÁ¶ªÁöÑÔºåWXS ‰∏≠‰∏çËÉΩË∞ÉÁî®ÂÖ∂‰ªñ JavaScript Êñá‰ª∂‰∏≠ÂÆö‰πâÁöÑÂáΩÊï∞Ôºå‰πü‰∏çËÉΩË∞ÉÁî®Â∞èÁ®ãÂ∫èÊèê‰æõÁöÑAPI„ÄÇ WXS ÂáΩÊï∞‰∏çËÉΩ‰Ωú‰∏∫ÁªÑ‰ª∂ÁöÑ‰∫ã‰ª∂ÂõûË∞É„ÄÇ Áî±‰∫éËøêË°åÁéØÂ¢ÉÁöÑÂ∑ÆÂºÇÔºåÂú® iOS ËÆæÂ§á‰∏äÂ∞èÁ®ãÂ∫èÂÜÖÁöÑ WXS ‰ºöÊØî JavaScript ‰ª£Á†ÅÂø´ 2 ~ 20 ÂÄç„ÄÇÂú® android ËÆæÂ§á‰∏ä‰∫åËÄÖËøêË°åÊïàÁéáÊó†Â∑ÆÂºÇ„ÄÇ 1234567&lt;wxs module=&quot;m1&quot;&gt;var msg = &quot;hello world&quot;;module.exports.message = msg;&lt;/wxs&gt;&lt;view&gt; {{m1.message}} &lt;/view&gt; ‰∫ã‰ª∂Á≥ªÁªü ÁÆÄÊÑèÂèåÂêëÁªëÂÆö Âè™ËÉΩÊòØ‰∏Ä‰∏™Âçï‰∏ÄÂ≠óÊÆµÁöÑÁªëÂÆö 12&lt;input model:value=&quot;ÂÄº‰∏∫ {{value}}&quot; /&gt;&lt;input model:value=&quot;{{ a + b }}&quot; /&gt; ÈÉΩÊòØÈùûÊ≥ïÁöÑÔºõ ÁõÆÂâçÔºåÂ∞ö‰∏çËÉΩ data Ë∑ØÂæÑ 1&lt;input model:value=&quot;{{ a.b }}&quot; /&gt; ÁªÑ‰ª∂‰∏≠‰º†ÈÄíÂèåÂêëÁªëÂÆöÂπ∂Ëß¶ÂèëÊõ¥Êñ∞ 12345678910111213Component({ properties: { myValue: String }, methods: { update: function() { // Êõ¥Êñ∞ myValue this.setData({ myValue: 'leaf' }) }})&lt;input model:value=&quot;{{myValue}}&quot; /&gt; Âü∫Á°ÄÁªÑ‰ª∂ Ëé∑ÂèñÁïåÈù¢‰∏äÁöÑËäÇÁÇπ‰ø°ÊÅØ WXMLËäÇÁÇπ‰ø°ÊÅØÔºöËé∑ÂèñËäÇÁÇπÂ±ûÊÄß„ÄÅÊ†∑Âºè„ÄÅÂú®ÁïåÈù¢‰∏äÁöÑ‰ΩçÁΩÆÁ≠â‰ø°ÊÅØ WXMLËäÇÁÇπÂ∏ÉÂ±ÄÁõ∏‰∫§Áä∂ÊÄÅÔºö ÂèÇÁÖßËäÇÁÇπÔºöÁõëÂê¨ÁöÑÂèÇÁÖßËäÇÁÇπÔºåÂèñÂÆÉÁöÑÂ∏ÉÂ±ÄÂå∫Âüü‰Ωú‰∏∫ÂèÇÁÖßÂå∫Âüü„ÄÇÂ¶ÇÊûúÊúâÂ§ö‰∏™ÂèÇÁÖßËäÇÁÇπÔºåÂàô‰ºöÂèñÂÆÉ‰ª¨Â∏ÉÂ±ÄÂå∫ÂüüÁöÑ ‰∫§ÈõÜ ‰Ωú‰∏∫ÂèÇÁÖßÂå∫Âüü„ÄÇÈ°µÈù¢ÊòæÁ§∫Âå∫Âüü‰πüÂèØ‰Ωú‰∏∫ÂèÇÁÖßÂå∫Âüü‰πã‰∏Ä„ÄÇ ÁõÆÊ†áËäÇÁÇπÔºöÁõëÂê¨ÁöÑÁõÆÊ†áÔºåÈªòËÆ§Âè™ËÉΩÊòØ‰∏Ä‰∏™ËäÇÁÇπÔºà‰ΩøÁî® selectAll ÈÄâÈ°πÊó∂ÔºåÂèØ‰ª•ÂêåÊó∂ÁõëÂê¨Â§ö‰∏™ËäÇÁÇπÔºâ„ÄÇ Áõ∏‰∫§Âå∫ÂüüÔºöÁõÆÊ†áËäÇÁÇπÁöÑÂ∏ÉÂ±ÄÂå∫Âüü‰∏éÂèÇÁÖßÂå∫ÂüüÁöÑÁõ∏‰∫§Âå∫Âüü„ÄÇ Áõ∏‰∫§ÊØî‰æãÔºöÁõ∏‰∫§Âå∫ÂüüÂç†ÂèÇÁÖßÂå∫ÂüüÁöÑÊØî‰æã„ÄÇ ÈòàÂÄºÔºöÁõ∏‰∫§ÊØî‰æãÂ¶ÇÊûúËææÂà∞ÈòàÂÄºÔºåÂàô‰ºöËß¶ÂèëÁõëÂê¨Âô®ÁöÑÂõûË∞ÉÂáΩÊï∞„ÄÇÈòàÂÄºÂèØ‰ª•ÊúâÂ§ö‰∏™„ÄÇ 1234567891011121314Page({ onLoad: function(){ wx.createIntersectionObserver().relativeToViewport().observe('.target-class', (res) =&gt; { res.id // ÁõÆÊ†áËäÇÁÇπ id res.dataset // ÁõÆÊ†áËäÇÁÇπ dataset res.intersectionRatio // Áõ∏‰∫§Âå∫ÂüüÂç†ÁõÆÊ†áËäÇÁÇπÁöÑÂ∏ÉÂ±ÄÂå∫ÂüüÁöÑÊØî‰æã res.intersectionRect // Áõ∏‰∫§Âå∫Âüü res.intersectionRect.left // Áõ∏‰∫§Âå∫ÂüüÁöÑÂ∑¶ËæπÁïåÂùêÊ†á res.intersectionRect.top // Áõ∏‰∫§Âå∫ÂüüÁöÑ‰∏äËæπÁïåÂùêÊ†á res.intersectionRect.width // Áõ∏‰∫§Âå∫ÂüüÁöÑÂÆΩÂ∫¶ res.intersectionRect.height // Áõ∏‰∫§Âå∫ÂüüÁöÑÈ´òÂ∫¶ }) }}) ÂìçÂ∫îÊòæÁ§∫Âå∫ÂüüÂèòÂåñ Âú®ÊâãÊú∫‰∏äÂêØÁî®Â±èÂπïÊóãËΩ¨ÊîØÊåÅ 1app.json` ÁöÑ `window` ÊÆµ‰∏≠ËÆæÁΩÆ `&quot;pageOrientation&quot;: &quot;auto&quot;` ÔºåÊàñÂú®È°µÈù¢ json Êñá‰ª∂‰∏≠ÈÖçÁΩÆ `&quot;pageOrientation&quot;: &quot;auto&quot;, 2.5.0 ÂºÄÂßãÔºå pageOrientation ËøòÂèØ‰ª•Ë¢´ËÆæÁΩÆ‰∏∫ landscape ÔºåË°®Á§∫Âõ∫ÂÆö‰∏∫Ê®™Â±èÊòæÁ§∫ Âú® iPad ‰∏äÂêØÁî®Â±èÂπïÊóãËΩ¨ÊîØÊåÅ 1app.json` ‰∏≠Ê∑ªÂä† `&quot;resizable&quot;: trueÔºå‰∏çËÉΩÂçïÁã¨ÈÖçÁΩÆÊüê‰∏™È°µÈù¢ÊòØÂê¶ÊîØÊåÅÂ±èÂπïÊóãËΩ¨ Media Query ÂØπ‰∫é‰∏çÂêåÂ∞∫ÂØ∏ÁöÑÊòæÁ§∫Âå∫ÂüüÔºåÈ°µÈù¢ÁöÑÂ∏ÉÂ±Ä‰ºöÊúâÊâÄÂ∑ÆÂºÇ„ÄÇÊ≠§Êó∂ÂèØ‰ª•‰ΩøÁî® media query Êù•Ëß£ÂÜ≥Â§ßÂ§öÊï∞ÈóÆÈ¢ò„ÄÇ ‰ª£Á†ÅÁ§∫‰æãÔºö 12345678910.my-class { width: 40px;}@media (min-width: 480px) { /* ‰ªÖÂú® 480px ÊàñÊõ¥ÂÆΩÁöÑÂ±èÂπï‰∏äÁîüÊïàÁöÑÊ†∑ÂºèËßÑÂàô */ .my-class { width: 200px; }} Âú® WXML ‰∏≠ÔºåÂèØ‰ª•‰ΩøÁî® match-media ÁªÑ‰ª∂Êù•Ê†πÊçÆ media query ÂåπÈÖçÁä∂ÊÄÅÂ±ïÁ§∫„ÄÅÈöêËóèËäÇÁÇπ„ÄÇ Ê≠§Â§ñÔºåÂèØ‰ª•Âú®È°µÈù¢ÊàñËÄÖËá™ÂÆö‰πâÁªÑ‰ª∂ JS ‰∏≠‰ΩøÁî® this.createMediaQueryObserver() ÊñπÊ≥ïÊù•ÂàõÂª∫‰∏Ä‰∏™ MediaQueryObserver ÂØπË±°ÔºåÁî®‰∫éÁõëÂê¨ÊåáÂÆöÁöÑ media query ÁöÑÂåπÈÖçÁä∂ÊÄÅ„ÄÇ ÂàÜÊ†èÊ®°Âºè ÂêØÁî® 3.3ÁâàÊú¨‰ª•‰∏äÂú®pcÁ≠âÂ§ßÂ±èÂπï‰∏äÊîØÊåÅÂàÜÊ†èÊ®°ÂºèÔºå app.json ‰∏≠ÂêåÊó∂Ê∑ªÂä† &quot;resizable&quot;: true Âíå &quot;frameset&quot;: true ÂàÜÊ†èÂç†‰ΩçÂõæÁâá ÂΩìÊüê‰∏ÄÊ†èÊ≤°ÊúâÂ±ïÁ§∫‰ªª‰ΩïÈ°µÈù¢Êó∂Ôºå‰ºöÂ±ïÁ§∫‰∏ÄÂº†ÂõæÁâáÂú®Ê≠§Ê†èÊ≠£‰∏≠Â§Æ„ÄÇ Â¶ÇÊûú‰ª£Á†ÅÂåÖ‰∏≠ÁöÑ frameset/placeholder.png Êñá‰ª∂Â≠òÂú®ÔºåËøôÂº†ÂõæÁâáÂ∞Ü‰Ωú‰∏∫Ê≠§Êó∂Â±ïÁ§∫ÁöÑÂõæÁâá„ÄÇ Âä®Áîª ÂàùÂßãÊ∏≤ÊüìÁºìÂ≠ò Ëá™ÂÆö‰πâÁªÑ‰ª∂ ‰ªãÁªç ÂàõÂª∫Ëá™ÂÆö‰πâÁªÑ‰ª∂ Á±ª‰ºº‰∫éÈ°µÈù¢Ôºå‰∏Ä‰∏™Ëá™ÂÆö‰πâÁªÑ‰ª∂Áî± json wxml wxss js 4‰∏™Êñá‰ª∂ÁªÑÊàê„ÄÇË¶ÅÁºñÂÜô‰∏Ä‰∏™Ëá™ÂÆö‰πâÁªÑ‰ª∂ÔºåÈ¶ñÂÖàÈúÄË¶ÅÂú®ÁªÑ‰ª∂ÁöÑ json Êñá‰ª∂‰∏≠ËøõË°åËá™ÂÆö‰πâÁªÑ‰ª∂Â£∞ÊòéÔºö 123{ &quot;component&quot;: true} ÂêåÊó∂ÔºåËøòË¶ÅÂú® wxml Êñá‰ª∂‰∏≠ÁºñÂÜôÁªÑ‰ª∂Ê®°ÊùøÔºåÂú® wxss Êñá‰ª∂‰∏≠Âä†ÂÖ•ÁªÑ‰ª∂Ê†∑ÂºèÔºåÂÆÉ‰ª¨ÁöÑÂÜôÊ≥ï‰∏éÈ°µÈù¢ÁöÑÂÜôÊ≥ïÁ±ª‰ºº„ÄÇ 123456789&lt;!-- ËøôÊòØËá™ÂÆö‰πâÁªÑ‰ª∂ÁöÑÂÜÖÈÉ®WXMLÁªìÊûÑ --&gt;&lt;view class=&quot;inner&quot;&gt; {{innerText}}&lt;/view&gt;&lt;slot&gt;&lt;/slot&gt;/* ËøôÈáåÁöÑÊ†∑ÂºèÂè™Â∫îÁî®‰∫éËøô‰∏™Ëá™ÂÆö‰πâÁªÑ‰ª∂ */.inner { color: red;} ÁªÑ‰ª∂wxss‰∏≠‰∏çÂ∫î‰ΩøÁî®IDÈÄâÊã©Âô®„ÄÅÂ±ûÊÄßÈÄâÊã©Âô®ÂíåÊ†áÁ≠æÂêçÈÄâÊã©Âô®„ÄÇ Âú®Ëá™ÂÆö‰πâÁªÑ‰ª∂ÁöÑ js Êñá‰ª∂‰∏≠ÔºåÈúÄË¶Å‰ΩøÁî® Component() Êù•Ê≥®ÂÜåÁªÑ‰ª∂ÔºåÂπ∂Êèê‰æõÁªÑ‰ª∂ÁöÑÂ±ûÊÄßÂÆö‰πâ„ÄÅÂÜÖÈÉ®Êï∞ÊçÆÂíåËá™ÂÆö‰πâÊñπÊ≥ï„ÄÇ ÁªÑ‰ª∂ÁöÑÂ±ûÊÄßÂÄºÂíåÂÜÖÈÉ®Êï∞ÊçÆÂ∞ÜË¢´Áî®‰∫éÁªÑ‰ª∂ wxml ÁöÑÊ∏≤ÊüìÔºåÂÖ∂‰∏≠ÔºåÂ±ûÊÄßÂÄºÊòØÂèØÁî±ÁªÑ‰ª∂Â§ñÈÉ®‰º†ÂÖ•ÁöÑ„ÄÇ 1234567891011121314151617Component({ properties: { // ËøôÈáåÂÆö‰πâ‰∫ÜinnerTextÂ±ûÊÄßÔºåÂ±ûÊÄßÂÄºÂèØ‰ª•Âú®ÁªÑ‰ª∂‰ΩøÁî®Êó∂ÊåáÂÆö innerText: { type: String, value: 'default value', } }, data: { // ËøôÈáåÊòØ‰∏Ä‰∫õÁªÑ‰ª∂ÂÜÖÈÉ®Êï∞ÊçÆ someData: {} }, methods: { // ËøôÈáåÊòØ‰∏Ä‰∏™Ëá™ÂÆö‰πâÊñπÊ≥ï customMethod: function(){} }}) ‰ΩøÁî®Ëá™ÂÆö‰πâÁªÑ‰ª∂ ‰ΩøÁî®Â∑≤Ê≥®ÂÜåÁöÑËá™ÂÆö‰πâÁªÑ‰ª∂ÂâçÔºåÈ¶ñÂÖàË¶ÅÂú®Áî®ÁªÑ‰ª∂ÁöÑÈ°µÈù¢ÁöÑ json Êñá‰ª∂‰∏≠ËøõË°åÂºïÁî®Â£∞Êòé„ÄÇÊ≠§Êó∂ÈúÄË¶ÅÊèê‰æõÊØè‰∏™Ëá™ÂÆö‰πâÁªÑ‰ª∂ÁöÑÊ†áÁ≠æÂêçÂíåÂØπÂ∫îÁöÑËá™ÂÆö‰πâÁªÑ‰ª∂Êñá‰ª∂Ë∑ØÂæÑÔºö 12345{ &quot;usingComponents&quot;: { &quot;component-tag-name&quot;: &quot;path/to/the/custom/component&quot;//ÂêåÁõÆÂΩï‰∏ãÁõ¥Êé•ÂÜôÊñá‰ª∂Âêç }} ËøôÊ†∑ÔºåÂú®È°µÈù¢ÁöÑ wxml ‰∏≠Â∞±ÂèØ‰ª•ÂÉè‰ΩøÁî®Âü∫Á°ÄÁªÑ‰ª∂‰∏ÄÊ†∑‰ΩøÁî®Ëá™ÂÆö‰πâÁªÑ‰ª∂„ÄÇËäÇÁÇπÂêçÂç≥Ëá™ÂÆö‰πâÁªÑ‰ª∂ÁöÑÊ†áÁ≠æÂêçÔºåËäÇÁÇπÂ±ûÊÄßÂç≥‰º†ÈÄíÁªôÁªÑ‰ª∂ÁöÑÂ±ûÊÄßÂÄº„ÄÇ 1234&lt;view&gt; &lt;!-- ‰ª•‰∏ãÊòØÂØπ‰∏Ä‰∏™Ëá™ÂÆö‰πâÁªÑ‰ª∂ÁöÑÂºïÁî® --&gt; &lt;component-tag-name inner-text=&quot;Some text&quot;&gt;&lt;/component-tag-name&gt;&lt;/view&gt; ÁªÑ‰ª∂Ê®°ÊùøÂíåÊ†∑Âºè ÁªÑ‰ª∂Ê®°Êùø ÁªÑ‰ª∂Ê®°ÊùøÁöÑÂÜôÊ≥ï‰∏éÈ°µÈù¢Ê®°ÊùøÁõ∏Âêå„ÄÇÁªÑ‰ª∂Ê®°Êùø‰∏éÁªÑ‰ª∂Êï∞ÊçÆÁªìÂêàÂêéÁîüÊàêÁöÑËäÇÁÇπÊ†ëÔºåÂ∞ÜË¢´ÊèíÂÖ•Âà∞ÁªÑ‰ª∂ÁöÑÂºïÁî®‰ΩçÁΩÆ‰∏ä„ÄÇ Âú®ÁªÑ‰ª∂Ê®°Êùø‰∏≠ÂèØ‰ª•Êèê‰æõ‰∏Ä‰∏™ &lt;slot&gt; ËäÇÁÇπÔºåÁî®‰∫éÊâøËΩΩÁªÑ‰ª∂ÂºïÁî®Êó∂Êèê‰æõÁöÑÂ≠êËäÇÁÇπ„ÄÇ ‰ª£Á†ÅÁ§∫‰æãÔºö Âú®ÂºÄÂèëËÄÖÂ∑•ÂÖ∑‰∏≠È¢ÑËßàÊïàÊûú 123456789101112&lt;!-- ÁªÑ‰ª∂Ê®°Êùø --&gt;&lt;view class=&quot;wrapper&quot;&gt; &lt;view&gt;ËøôÈáåÊòØÁªÑ‰ª∂ÁöÑÂÜÖÈÉ®ËäÇÁÇπ&lt;/view&gt; &lt;slot&gt;&lt;/slot&gt;&lt;/view&gt;&lt;!-- ÂºïÁî®ÁªÑ‰ª∂ÁöÑÈ°µÈù¢Ê®°Êùø --&gt;&lt;view&gt; &lt;component-tag-name&gt; &lt;!-- ËøôÈÉ®ÂàÜÂÜÖÂÆπÂ∞ÜË¢´ÊîæÁΩÆÂú®ÁªÑ‰ª∂ &lt;slot&gt; ÁöÑ‰ΩçÁΩÆ‰∏ä --&gt; &lt;view&gt;ËøôÈáåÊòØÊèíÂÖ•Âà∞ÁªÑ‰ª∂slot‰∏≠ÁöÑÂÜÖÂÆπ&lt;/view&gt; &lt;/component-tag-name&gt;&lt;/view&gt; Ê≥®ÊÑèÔºåÂú®Ê®°Êùø‰∏≠ÂºïÁî®Âà∞ÁöÑËá™ÂÆö‰πâÁªÑ‰ª∂ÂèäÂÖ∂ÂØπÂ∫îÁöÑËäÇÁÇπÂêçÈúÄË¶ÅÂú® json Êñá‰ª∂‰∏≠ÊòæÂºèÂÆö‰πâÔºåÂê¶Âàô‰ºöË¢´ÂΩì‰Ωú‰∏Ä‰∏™Êó†ÊÑè‰πâÁöÑËäÇÁÇπ„ÄÇÈô§Ê≠§‰ª•Â§ñÔºåËäÇÁÇπÂêç‰πüÂèØ‰ª•Ë¢´Â£∞Êòé‰∏∫ÊäΩË±°ËäÇÁÇπ Ê®°ÊùøÊï∞ÊçÆÁªëÂÆö ‰∏éÊôÆÈÄöÁöÑ WXML Ê®°ÊùøÁ±ª‰ººÔºåÂèØ‰ª•‰ΩøÁî®Êï∞ÊçÆÁªëÂÆöÔºåËøôÊ†∑Â∞±ÂèØ‰ª•ÂêëÂ≠êÁªÑ‰ª∂ÁöÑÂ±ûÊÄß‰º†ÈÄíÂä®ÊÄÅÊï∞ÊçÆ„ÄÇ ‰ª£Á†ÅÁ§∫‰æãÔºö Âú®ÂºÄÂèëËÄÖÂ∑•ÂÖ∑‰∏≠È¢ÑËßàÊïàÊûú 1234567&lt;!-- ÂºïÁî®ÁªÑ‰ª∂ÁöÑÈ°µÈù¢Ê®°Êùø --&gt;&lt;view&gt; &lt;component-tag-name prop-a=&quot;{{dataFieldA}}&quot; prop-b=&quot;{{dataFieldB}}&quot;&gt; &lt;!-- ËøôÈÉ®ÂàÜÂÜÖÂÆπÂ∞ÜË¢´ÊîæÁΩÆÂú®ÁªÑ‰ª∂ &lt;slot&gt; ÁöÑ‰ΩçÁΩÆ‰∏ä --&gt; &lt;view&gt;ËøôÈáåÊòØÊèíÂÖ•Âà∞ÁªÑ‰ª∂slot‰∏≠ÁöÑÂÜÖÂÆπ&lt;/view&gt; &lt;/component-tag-name&gt;&lt;/view&gt; Âú®‰ª•‰∏ä‰æãÂ≠ê‰∏≠ÔºåÁªÑ‰ª∂ÁöÑÂ±ûÊÄß propA Âíå propB Â∞ÜÊî∂Âà∞È°µÈù¢‰º†ÈÄíÁöÑÊï∞ÊçÆ„ÄÇÈ°µÈù¢ÂèØ‰ª•ÈÄöËøá setData Êù•ÊîπÂèòÁªëÂÆöÁöÑÊï∞ÊçÆÂ≠óÊÆµ„ÄÇ Ê≥®ÊÑèÔºöËøôÊ†∑ÁöÑÊï∞ÊçÆÁªëÂÆöÂè™ËÉΩ‰º†ÈÄí JSON ÂÖºÂÆπÊï∞ÊçÆ„ÄÇËá™Âü∫Á°ÄÂ∫ìÁâàÊú¨ 2.0.9 ÂºÄÂßãÔºåËøòÂèØ‰ª•Âú®Êï∞ÊçÆ‰∏≠ÂåÖÂê´ÂáΩÊï∞Ôºà‰ΩÜËøô‰∫õÂáΩÊï∞‰∏çËÉΩÂú® WXML ‰∏≠Áõ¥Êé•Ë∞ÉÁî®ÔºåÂè™ËÉΩ‰º†ÈÄíÁªôÂ≠êÁªÑ‰ª∂Ôºâ„ÄÇ ÁªÑ‰ª∂ wxml ÁöÑ slot Âú®ÁªÑ‰ª∂ÁöÑ wxml ‰∏≠ÂèØ‰ª•ÂåÖÂê´ slot ËäÇÁÇπÔºåÁî®‰∫éÊâøËΩΩÁªÑ‰ª∂‰ΩøÁî®ËÄÖÊèê‰æõÁöÑ wxml ÁªìÊûÑ„ÄÇ ÈªòËÆ§ÊÉÖÂÜµ‰∏ãÔºå‰∏Ä‰∏™ÁªÑ‰ª∂ÁöÑ wxml ‰∏≠Âè™ËÉΩÊúâ‰∏Ä‰∏™ slot „ÄÇÈúÄË¶Å‰ΩøÁî®Â§ö slot Êó∂ÔºåÂèØ‰ª•Âú®ÁªÑ‰ª∂ js ‰∏≠Â£∞ÊòéÂêØÁî®„ÄÇ 1234567Component({ options: { multipleSlots: true // Âú®ÁªÑ‰ª∂ÂÆö‰πâÊó∂ÁöÑÈÄâÈ°π‰∏≠ÂêØÁî®Â§öslotÊîØÊåÅ }, properties: { /* ... */ }, methods: { /* ... */ }}) Ê≠§Êó∂ÔºåÂèØ‰ª•Âú®Ëøô‰∏™ÁªÑ‰ª∂ÁöÑ wxml ‰∏≠‰ΩøÁî®Â§ö‰∏™ slot Ôºå‰ª•‰∏çÂêåÁöÑ name Êù•Âå∫ÂàÜ„ÄÇ 123456&lt;!-- ÁªÑ‰ª∂Ê®°Êùø --&gt;&lt;view class=&quot;wrapper&quot;&gt; &lt;slot name=&quot;before&quot;&gt;&lt;/slot&gt; &lt;view&gt;ËøôÈáåÊòØÁªÑ‰ª∂ÁöÑÂÜÖÈÉ®ÁªÜËäÇ&lt;/view&gt; &lt;slot name=&quot;after&quot;&gt;&lt;/slot&gt;&lt;/view&gt; ‰ΩøÁî®Êó∂ÔºåÁî® slot Â±ûÊÄßÊù•Â∞ÜËäÇÁÇπÊèíÂÖ•Âà∞‰∏çÂêåÁöÑ slot ‰∏ä„ÄÇ 123456789&lt;!-- ÂºïÁî®ÁªÑ‰ª∂ÁöÑÈ°µÈù¢Ê®°Êùø --&gt;&lt;view&gt; &lt;component-tag-name&gt; &lt;!-- ËøôÈÉ®ÂàÜÂÜÖÂÆπÂ∞ÜË¢´ÊîæÁΩÆÂú®ÁªÑ‰ª∂ &lt;slot name=&quot;before&quot;&gt; ÁöÑ‰ΩçÁΩÆ‰∏ä --&gt; &lt;view slot=&quot;before&quot;&gt;ËøôÈáåÊòØÊèíÂÖ•Âà∞ÁªÑ‰ª∂slot name=&quot;before&quot;‰∏≠ÁöÑÂÜÖÂÆπ&lt;/view&gt; &lt;!-- ËøôÈÉ®ÂàÜÂÜÖÂÆπÂ∞ÜË¢´ÊîæÁΩÆÂú®ÁªÑ‰ª∂ &lt;slot name=&quot;after&quot;&gt; ÁöÑ‰ΩçÁΩÆ‰∏ä --&gt; &lt;view slot=&quot;after&quot;&gt;ËøôÈáåÊòØÊèíÂÖ•Âà∞ÁªÑ‰ª∂slot name=&quot;after&quot;‰∏≠ÁöÑÂÜÖÂÆπ&lt;/view&gt; &lt;/component-tag-name&gt;&lt;/view&gt; ÁªÑ‰ª∂Ê†∑Âºè ÁªÑ‰ª∂ÂØπÂ∫î wxss Êñá‰ª∂ÁöÑÊ†∑ÂºèÔºåÂè™ÂØπÁªÑ‰ª∂wxmlÂÜÖÁöÑËäÇÁÇπÁîüÊïà„ÄÇÁºñÂÜôÁªÑ‰ª∂Ê†∑ÂºèÊó∂ÔºåÈúÄË¶ÅÊ≥®ÊÑè‰ª•‰∏ãÂá†ÁÇπÔºö ÁªÑ‰ª∂ÂíåÂºïÁî®ÁªÑ‰ª∂ÁöÑÈ°µÈù¢‰∏çËÉΩ‰ΩøÁî®idÈÄâÊã©Âô®Ôºà#aÔºâ„ÄÅÂ±ûÊÄßÈÄâÊã©Âô®Ôºà[a]ÔºâÂíåÊ†áÁ≠æÂêçÈÄâÊã©Âô®ÔºåËØ∑ÊîπÁî®classÈÄâÊã©Âô®„ÄÇ ÁªÑ‰ª∂ÂíåÂºïÁî®ÁªÑ‰ª∂ÁöÑÈ°µÈù¢‰∏≠‰ΩøÁî®Âêé‰ª£ÈÄâÊã©Âô®Ôºà.a .bÔºâÂú®‰∏Ä‰∫õÊûÅÁ´ØÊÉÖÂÜµ‰∏ã‰ºöÊúâÈùûÈ¢ÑÊúüÁöÑË°®Áé∞ÔºåÂ¶ÇÈÅáÔºåËØ∑ÈÅøÂÖç‰ΩøÁî®„ÄÇ Â≠êÂÖÉÁ¥†ÈÄâÊã©Âô®Ôºà.a&gt;.bÔºâÂè™ËÉΩÁî®‰∫é view ÁªÑ‰ª∂‰∏éÂÖ∂Â≠êËäÇÁÇπ‰πãÈó¥ÔºåÁî®‰∫éÂÖ∂‰ªñÁªÑ‰ª∂ÂèØËÉΩÂØºËá¥ÈùûÈ¢ÑÊúüÁöÑÊÉÖÂÜµ„ÄÇ ÁªßÊâøÊ†∑ÂºèÔºåÂ¶Ç font „ÄÅ color Ôºå‰ºö‰ªéÁªÑ‰ª∂Â§ñÁªßÊâøÂà∞ÁªÑ‰ª∂ÂÜÖ„ÄÇ Èô§ÁªßÊâøÊ†∑ÂºèÂ§ñÔºå app.wxss ‰∏≠ÁöÑÊ†∑Âºè„ÄÅÁªÑ‰ª∂ÊâÄÂú®È°µÈù¢ÁöÑÁöÑÊ†∑ÂºèÂØπËá™ÂÆö‰πâÁªÑ‰ª∂Êó†ÊïàÔºàÈô§ÈùûÊõ¥ÊîπÁªÑ‰ª∂Ê†∑ÂºèÈöîÁ¶ªÈÄâÈ°πÔºâ„ÄÇ 1234#a { } /* Âú®ÁªÑ‰ª∂‰∏≠‰∏çËÉΩ‰ΩøÁî® */[a] { } /* Âú®ÁªÑ‰ª∂‰∏≠‰∏çËÉΩ‰ΩøÁî® */button { } /* Âú®ÁªÑ‰ª∂‰∏≠‰∏çËÉΩ‰ΩøÁî® */.a &gt; .b { } /* Èô§Èùû .a ÊòØ view ÁªÑ‰ª∂ËäÇÁÇπÔºåÂê¶Âàô‰∏ç‰∏ÄÂÆö‰ºöÁîüÊïà */ Èô§Ê≠§‰ª•Â§ñÔºåÁªÑ‰ª∂ÂèØ‰ª•ÊåáÂÆöÂÆÉÊâÄÂú®ËäÇÁÇπÁöÑÈªòËÆ§Ê†∑ÂºèÔºå‰ΩøÁî® :host ÈÄâÊã©Âô®ÔºàÈúÄË¶ÅÂåÖÂê´Âü∫Á°ÄÂ∫ì 1.7.2 ÊàñÊõ¥È´òÁâàÊú¨ÁöÑÂºÄÂèëËÄÖÂ∑•ÂÖ∑ÊîØÊåÅÔºâ„ÄÇ ‰ª£Á†ÅÁ§∫‰æãÔºö 123456/* ÁªÑ‰ª∂ custom-component.wxss */:host { color: yellow;}&lt;!-- È°µÈù¢ÁöÑ WXML --&gt;&lt;custom-component&gt;ËøôÊÆµÊñáÊú¨ÊòØÈªÑËâ≤ÁöÑ&lt;/custom-component&gt; ÁªÑ‰ª∂Ê†∑ÂºèÈöîÁ¶ª ÈªòËÆ§ÊÉÖÂÜµ‰∏ãÔºåËá™ÂÆö‰πâÁªÑ‰ª∂ÁöÑÊ†∑ÂºèÂè™ÂèóÂà∞Ëá™ÂÆö‰πâÁªÑ‰ª∂ wxss ÁöÑÂΩ±Âìç„ÄÇÈô§Èùû‰ª•‰∏ã‰∏§ÁßçÊÉÖÂÜµÔºö app.wxss ÊàñÈ°µÈù¢ÁöÑ wxss ‰∏≠‰ΩøÁî®‰∫ÜÊ†áÁ≠æÂêçÈÄâÊã©Âô®ÔºàÊàñ‰∏Ä‰∫õÂÖ∂‰ªñÁâπÊÆäÈÄâÊã©Âô®ÔºâÊù•Áõ¥Êé•ÊåáÂÆöÊ†∑ÂºèÔºåËøô‰∫õÈÄâÊã©Âô®‰ºöÂΩ±ÂìçÂà∞È°µÈù¢ÂíåÂÖ®ÈÉ®ÁªÑ‰ª∂„ÄÇÈÄöÂ∏∏ÊÉÖÂÜµ‰∏ãËøôÊòØ‰∏çÊé®ËçêÁöÑÂÅöÊ≥ï„ÄÇ ÊåáÂÆöÁâπÊÆäÁöÑÊ†∑ÂºèÈöîÁ¶ªÈÄâÈ°π styleIsolation „ÄÇ 12345Component({ options: { styleIsolation: 'isolated' }}) Âú®ÂºÄÂèëËÄÖÂ∑•ÂÖ∑‰∏≠È¢ÑËßàÊïàÊûú styleIsolation ÈÄâÈ°π‰ªéÂü∫Á°ÄÂ∫ìÁâàÊú¨ 2.6.5 ÂºÄÂßãÊîØÊåÅ„ÄÇÂÆÉÊîØÊåÅ‰ª•‰∏ãÂèñÂÄºÔºö isolated Ë°®Á§∫ÂêØÁî®Ê†∑ÂºèÈöîÁ¶ªÔºåÂú®Ëá™ÂÆö‰πâÁªÑ‰ª∂ÂÜÖÂ§ñÔºå‰ΩøÁî® class ÊåáÂÆöÁöÑÊ†∑ÂºèÂ∞Ü‰∏ç‰ºöÁõ∏‰∫íÂΩ±ÂìçÔºà‰∏ÄËà¨ÊÉÖÂÜµ‰∏ãÁöÑÈªòËÆ§ÂÄºÔºâÔºõ apply-shared Ë°®Á§∫È°µÈù¢ wxss Ê†∑ÂºèÂ∞ÜÂΩ±ÂìçÂà∞Ëá™ÂÆö‰πâÁªÑ‰ª∂Ôºå‰ΩÜËá™ÂÆö‰πâÁªÑ‰ª∂ wxss ‰∏≠ÊåáÂÆöÁöÑÊ†∑Âºè‰∏ç‰ºöÂΩ±ÂìçÈ°µÈù¢Ôºõ shared Ë°®Á§∫È°µÈù¢ wxss Ê†∑ÂºèÂ∞ÜÂΩ±ÂìçÂà∞Ëá™ÂÆö‰πâÁªÑ‰ª∂ÔºåËá™ÂÆö‰πâÁªÑ‰ª∂ wxss ‰∏≠ÊåáÂÆöÁöÑÊ†∑Âºè‰πü‰ºöÂΩ±ÂìçÈ°µÈù¢ÂíåÂÖ∂‰ªñËÆæÁΩÆ‰∫Ü apply-shared Êàñ shared ÁöÑËá™ÂÆö‰πâÁªÑ‰ª∂„ÄÇÔºàËøô‰∏™ÈÄâÈ°πÂú®Êèí‰ª∂‰∏≠‰∏çÂèØÁî®„ÄÇÔºâ ‰ΩøÁî®Âêé‰∏§ËÄÖÊó∂ÔºåËØ∑Âä°ÂøÖÊ≥®ÊÑèÁªÑ‰ª∂Èó¥Ê†∑ÂºèÁöÑÁõ∏‰∫íÂΩ±Âìç„ÄÇ Â¶ÇÊûúËøô‰∏™ Component ÊûÑÈÄ†Âô®Áî®‰∫éÊûÑÈÄ†È°µÈù¢ ÔºåÂàôÈªòËÆ§ÂÄº‰∏∫ shared Ôºå‰∏îËøòÊúâ‰ª•‰∏ãÂá†‰∏™È¢ùÂ§ñÁöÑÊ†∑ÂºèÈöîÁ¶ªÈÄâÈ°πÂèØÁî®Ôºö page-isolated Ë°®Á§∫Âú®Ëøô‰∏™È°µÈù¢Á¶ÅÁî® app.wxss ÔºåÂêåÊó∂ÔºåÈ°µÈù¢ÁöÑ wxss ‰∏ç‰ºöÂΩ±ÂìçÂà∞ÂÖ∂‰ªñËá™ÂÆö‰πâÁªÑ‰ª∂Ôºõ page-apply-shared Ë°®Á§∫Âú®Ëøô‰∏™È°µÈù¢Á¶ÅÁî® app.wxss ÔºåÂêåÊó∂ÔºåÈ°µÈù¢ wxss Ê†∑Âºè‰∏ç‰ºöÂΩ±ÂìçÂà∞ÂÖ∂‰ªñËá™ÂÆö‰πâÁªÑ‰ª∂Ôºå‰ΩÜËÆæ‰∏∫ shared ÁöÑËá™ÂÆö‰πâÁªÑ‰ª∂‰ºöÂΩ±ÂìçÂà∞È°µÈù¢Ôºõ page-shared Ë°®Á§∫Âú®Ëøô‰∏™È°µÈù¢Á¶ÅÁî® app.wxss ÔºåÂêåÊó∂ÔºåÈ°µÈù¢ wxss Ê†∑Âºè‰ºöÂΩ±ÂìçÂà∞ÂÖ∂‰ªñËÆæ‰∏∫ apply-shared Êàñ shared ÁöÑËá™ÂÆö‰πâÁªÑ‰ª∂Ôºå‰πü‰ºöÂèóÂà∞ËÆæ‰∏∫ shared ÁöÑËá™ÂÆö‰πâÁªÑ‰ª∂ÁöÑÂΩ±Âìç„ÄÇ ‰ªéÂ∞èÁ®ãÂ∫èÂü∫Á°ÄÂ∫ìÁâàÊú¨ 2.10.1 ÂºÄÂßãÔºå‰πüÂèØ‰ª•Âú®È°µÈù¢ÊàñËá™ÂÆö‰πâÁªÑ‰ª∂ÁöÑ json Êñá‰ª∂‰∏≠ÈÖçÁΩÆ styleIsolation ÔºàËøôÊ†∑Â∞±‰∏çÈúÄÂú® js Êñá‰ª∂ÁöÑ options ‰∏≠ÂÜçÈÖçÁΩÆÔºâ„ÄÇ‰æãÂ¶ÇÔºö 123{ &quot;styleIsolation&quot;: &quot;isolated&quot;} Ê≠§Â§ñÔºåÂ∞èÁ®ãÂ∫èÂü∫Á°ÄÂ∫ìÁâàÊú¨ 2.2.3 ‰ª•‰∏äÊîØÊåÅ addGlobalClass ÈÄâÈ°πÔºåÂç≥Âú® Component ÁöÑ options ‰∏≠ËÆæÁΩÆ addGlobalClass: true „ÄÇ Ëøô‰∏™ÈÄâÈ°πÁ≠â‰ª∑‰∫éËÆæÁΩÆ styleIsolation: apply-shared Ôºå‰ΩÜËÆæÁΩÆ‰∫Ü styleIsolation ÈÄâÈ°πÂêéËøô‰∏™ÈÄâÈ°π‰ºöÂ§±Êïà„ÄÇ ‰ª£Á†ÅÁ§∫‰æãÔºö Âú®ÂºÄÂèëËÄÖÂ∑•ÂÖ∑‰∏≠È¢ÑËßàÊïàÊûú 123456789101112/* ÁªÑ‰ª∂ custom-component.js */Component({ options: { addGlobalClass: true, }})&lt;!-- ÁªÑ‰ª∂ custom-component.wxml --&gt;&lt;text class=&quot;red-text&quot;&gt;ËøôÊÆµÊñáÊú¨ÁöÑÈ¢úËâ≤Áî± `app.wxss` ÂíåÈ°µÈù¢ `wxss` ‰∏≠ÁöÑÊ†∑ÂºèÂÆö‰πâÊù•ÂÜ≥ÂÆö&lt;/text&gt;/* app.wxss */.red-text { color: red;} Â§ñÈÉ®Ê†∑ÂºèÁ±ª Âü∫Á°ÄÂ∫ì 1.9.90 ÂºÄÂßãÊîØÊåÅÔºå‰ΩéÁâàÊú¨ÈúÄÂÅöÂÖºÂÆπÂ§ÑÁêÜ„ÄÇ ÊúâÊó∂ÔºåÁªÑ‰ª∂Â∏åÊúõÊé•ÂèóÂ§ñÈÉ®‰º†ÂÖ•ÁöÑÊ†∑ÂºèÁ±ª„ÄÇÊ≠§Êó∂ÂèØ‰ª•Âú® Component ‰∏≠Áî® externalClasses ÂÆö‰πâÊÆµÂÆö‰πâËã•Âπ≤‰∏™Â§ñÈÉ®Ê†∑ÂºèÁ±ª„ÄÇ Ëøô‰∏™ÁâπÊÄßÂèØ‰ª•Áî®‰∫éÂÆûÁé∞Á±ª‰ºº‰∫é view ÁªÑ‰ª∂ÁöÑ hover-class Â±ûÊÄßÔºöÈ°µÈù¢ÂèØ‰ª•Êèê‰æõ‰∏Ä‰∏™Ê†∑ÂºèÁ±ªÔºåËµã‰∫à view ÁöÑ hover-class ÔºåËøô‰∏™Ê†∑ÂºèÁ±ªÊú¨Ë∫´ÂÜôÂú®È°µÈù¢‰∏≠ËÄåÈùû view ÁªÑ‰ª∂ÁöÑÂÆûÁé∞‰∏≠„ÄÇ Ê≥®ÊÑèÔºöÂú®Âêå‰∏Ä‰∏™ËäÇÁÇπ‰∏ä‰ΩøÁî®ÊôÆÈÄöÊ†∑ÂºèÁ±ªÂíåÂ§ñÈÉ®Ê†∑ÂºèÁ±ªÊó∂Ôºå‰∏§‰∏™Á±ªÁöÑ‰ºòÂÖàÁ∫ßÊòØÊú™ÂÆö‰πâÁöÑÔºåÂõ†Ê≠§ÊúÄÂ•ΩÈÅøÂÖçËøôÁßçÊÉÖÂÜµ„ÄÇ ‰ª£Á†ÅÁ§∫‰æãÔºö 123456/* ÁªÑ‰ª∂ custom-component.js */Component({ externalClasses: ['my-class']})&lt;!-- ÁªÑ‰ª∂ custom-component.wxml --&gt;&lt;custom-component class=&quot;my-class&quot;&gt;ËøôÊÆµÊñáÊú¨ÁöÑÈ¢úËâ≤Áî±ÁªÑ‰ª∂Â§ñÁöÑ class ÂÜ≥ÂÆö&lt;/custom-component&gt; ËøôÊ†∑ÔºåÁªÑ‰ª∂ÁöÑ‰ΩøÁî®ËÄÖÂèØ‰ª•ÊåáÂÆöËøô‰∏™Ê†∑ÂºèÁ±ªÂØπÂ∫îÁöÑ class ÔºåÂ∞±ÂÉè‰ΩøÁî®ÊôÆÈÄöÂ±ûÊÄß‰∏ÄÊ†∑„ÄÇÂú® 2.7.1 ‰πãÂêéÔºåÂèØ‰ª•ÊåáÂÆöÂ§ö‰∏™ÂØπÂ∫îÁöÑ class „ÄÇ ‰ª£Á†ÅÁ§∫‰æãÔºö Âú®ÂºÄÂèëËÄÖÂ∑•ÂÖ∑‰∏≠È¢ÑËßàÊïàÊûú 1234567891011&lt;!-- È°µÈù¢ÁöÑ WXML --&gt;&lt;custom-component my-class=&quot;red-text&quot; /&gt;&lt;custom-component my-class=&quot;large-text&quot; /&gt;&lt;!-- ‰ª•‰∏ãÂÜôÊ≥ïÈúÄË¶ÅÂü∫Á°ÄÂ∫ìÁâàÊú¨ 2.7.1 ‰ª•‰∏ä --&gt;&lt;custom-component my-class=&quot;red-text large-text&quot; /&gt;.red-text { color: red;}.large-text { font-size: 1.5em;} ÂºïÁî®È°µÈù¢ÊàñÁà∂ÁªÑ‰ª∂ÁöÑÊ†∑Âºè Âü∫Á°ÄÂ∫ì 2.9.2 ÂºÄÂßãÊîØÊåÅÔºå‰ΩéÁâàÊú¨ÈúÄÂÅöÂÖºÂÆπÂ§ÑÁêÜ„ÄÇ Âç≥‰ΩøÂêØÁî®‰∫ÜÊ†∑ÂºèÈöîÁ¶ª isolated ÔºåÁªÑ‰ª∂‰ªçÁÑ∂ÂèØ‰ª•Âú®Â±ÄÈÉ®ÂºïÁî®ÁªÑ‰ª∂ÊâÄÂú®È°µÈù¢ÁöÑÊ†∑ÂºèÊàñÁà∂ÁªÑ‰ª∂ÁöÑÊ†∑Âºè„ÄÇ ‰æãÂ¶ÇÔºåÂ¶ÇÊûúÂú®È°µÈù¢ wxss ‰∏≠ÂÆö‰πâ‰∫ÜÔºö 123.blue-text { color: blue;} Âú®Ëøô‰∏™ÁªÑ‰ª∂‰∏≠ÂèØ‰ª•‰ΩøÁî® ~ Êù•ÂºïÁî®Ëøô‰∏™Á±ªÁöÑÊ†∑ÂºèÔºö 1&lt;view class=&quot;~blue-text&quot;&gt; ËøôÊÆµÊñáÊú¨ÊòØËìùËâ≤ÁöÑ &lt;/view&gt; Â¶ÇÊûúÂú®‰∏Ä‰∏™ÁªÑ‰ª∂ÁöÑÁà∂ÁªÑ‰ª∂ wxss ‰∏≠ÂÆö‰πâ‰∫ÜÔºö 123.red-text { color: red;} Âú®Ëøô‰∏™ÁªÑ‰ª∂‰∏≠ÂèØ‰ª•‰ΩøÁî® ^ Êù•ÂºïÁî®Ëøô‰∏™Á±ªÁöÑÊ†∑ÂºèÔºö 1&lt;view class=&quot;^red-text&quot;&gt; ËøôÊÆµÊñáÊú¨ÊòØÁ∫¢Ëâ≤ÁöÑ &lt;/view&gt; ‰πüÂèØ‰ª•ËøûÁª≠‰ΩøÁî®Â§ö‰∏™ ^ Êù•ÂºïÁî®Á•ñÂÖàÁªÑ‰ª∂‰∏≠ÁöÑÊ†∑Âºè„ÄÇ Ê≥®ÊÑèÔºöÂ¶ÇÊûúÁªÑ‰ª∂ÊòØÊØîËæÉÁã¨Á´ã„ÄÅÈÄöÁî®ÁöÑÁªÑ‰ª∂ÔºåËØ∑‰ºòÂÖà‰ΩøÁî®Â§ñÈÉ®Ê†∑ÂºèÁ±ªÁöÑÊñπÂºèÔºåËÄåÈùûÁõ¥Êé•ÂºïÁî®Áà∂ÁªÑ‰ª∂ÊàñÈ°µÈù¢ÁöÑÊ†∑Âºè„ÄÇ ËôöÊãüÂåñÁªÑ‰ª∂ËäÇÁÇπ Âü∫Á°ÄÂ∫ì 2.11.2 ÂºÄÂßãÊîØÊåÅÔºå‰ΩéÁâàÊú¨ÈúÄÂÅöÂÖºÂÆπÂ§ÑÁêÜ„ÄÇ ÈªòËÆ§ÊÉÖÂÜµ‰∏ãÔºåËá™ÂÆö‰πâÁªÑ‰ª∂Êú¨Ë∫´ÁöÑÈÇ£‰∏™ËäÇÁÇπÊòØ‰∏Ä‰∏™‚ÄúÊôÆÈÄö‚ÄùÁöÑËäÇÁÇπÔºå‰ΩøÁî®Êó∂ÂèØ‰ª•Âú®Ëøô‰∏™ËäÇÁÇπ‰∏äËÆæÁΩÆ class style „ÄÅÂä®Áîª„ÄÅ flex Â∏ÉÂ±ÄÁ≠âÔºåÂ∞±Â¶ÇÂêåÊôÆÈÄöÁöÑ view ÁªÑ‰ª∂ËäÇÁÇπ‰∏ÄÊ†∑„ÄÇ 12345&lt;!-- È°µÈù¢ÁöÑ WXML --&gt;&lt;view style=&quot;display: flex&quot;&gt; &lt;!-- ÈªòËÆ§ÊÉÖÂÜµ‰∏ãÔºåËøôÊòØ‰∏Ä‰∏™ÊôÆÈÄöÁöÑËäÇÁÇπ --&gt; &lt;custom-component style=&quot;color: blue; flex: 1&quot;&gt;ËìùËâ≤„ÄÅÊª°ÂÆΩÁöÑ&lt;/custom-component&gt;&lt;/view&gt; ‰ΩÜÊúâ‰∫õÊó∂ÂÄôÔºåËá™ÂÆö‰πâÁªÑ‰ª∂Âπ∂‰∏çÂ∏åÊúõËøô‰∏™ËäÇÁÇπÊú¨Ë∫´ÂèØ‰ª•ËÆæÁΩÆÊ†∑Âºè„ÄÅÂìçÂ∫î flex Â∏ÉÂ±ÄÁ≠âÔºåËÄåÊòØÂ∏åÊúõËá™ÂÆö‰πâÁªÑ‰ª∂ÂÜÖÈÉ®ÁöÑÁ¨¨‰∏ÄÂ±ÇËäÇÁÇπËÉΩÂ§üÂìçÂ∫î flex Â∏ÉÂ±ÄÊàñËÄÖÊ†∑ÂºèÁî±Ëá™ÂÆö‰πâÁªÑ‰ª∂Êú¨Ë∫´ÂÆåÂÖ®ÂÜ≥ÂÆö„ÄÇ ËøôÁßçÊÉÖÂÜµ‰∏ãÔºåÂèØ‰ª•Â∞ÜËøô‰∏™Ëá™ÂÆö‰πâÁªÑ‰ª∂ËÆæÁΩÆ‰∏∫‚ÄúËôöÊãüÁöÑ‚ÄùÔºö 1234567891011Component({ options: { virtualHost: true }, properties: { style: { // ÂÆö‰πâ style Â±ûÊÄßÂèØ‰ª•ÊãøÂà∞ style Â±ûÊÄß‰∏äËÆæÁΩÆÁöÑÂÄº type: String, } }, externalClasses: ['class'], // ÂèØ‰ª•Â∞Ü class ËÆæ‰∏∫ externalClasses}) ËøôÊ†∑ÔºåÂèØ‰ª•Â∞Ü flex ÊîæÂÖ•Ëá™ÂÆö‰πâÁªÑ‰ª∂ÂÜÖÔºö 12345678910&lt;!-- È°µÈù¢ÁöÑ WXML --&gt;&lt;view style=&quot;display: flex&quot;&gt; &lt;!-- Â¶ÇÊûúËÆæÁΩÆ‰∫Ü virtualHost ÔºåËäÇÁÇπ‰∏äÁöÑÊ†∑ÂºèÂ∞ÜÂ§±Êïà --&gt; &lt;custom-component style=&quot;color: blue&quot;&gt;‰∏çÊòØËìùËâ≤ÁöÑ&lt;/custom-component&gt;&lt;/view&gt;&lt;!-- custom-component.wxml --&gt;&lt;view style=&quot;flex: 1&quot;&gt; Êª°ÂÆΩÁöÑ &lt;slot&gt;&lt;/slot&gt;&lt;/view&gt; ÈúÄË¶ÅÊ≥®ÊÑèÁöÑÊòØÔºåËá™ÂÆö‰πâÁªÑ‰ª∂ËäÇÁÇπ‰∏äÁöÑ class style ÂíåÂä®ÁîªÂ∞Ü‰∏çÂÜçÁîüÊïàÔºå‰ΩÜ‰ªçÂèØ‰ª•Ôºö Â∞Ü style ÂÆö‰πâÊàê properties Â±ûÊÄßÊù•Ëé∑Âèñ style ‰∏äËÆæÁΩÆÁöÑÂÄºÔºõ Â∞Ü class ÂÆö‰πâÊàê externalClasses Â§ñÈÉ®Ê†∑ÂºèÁ±ª‰ΩøÂæóËá™ÂÆö‰πâÁªÑ‰ª∂ wxml ÂèØ‰ª•‰ΩøÁî® class ÂÄº„ÄÇ Component ÊûÑÈÄ†Âô® Component ÊûÑÈÄ†Âô®ÂèØÁî®‰∫éÂÆö‰πâÁªÑ‰ª∂ÔºåË∞ÉÁî® Component ÊûÑÈÄ†Âô®Êó∂ÂèØ‰ª•ÊåáÂÆöÁªÑ‰ª∂ÁöÑÂ±ûÊÄß„ÄÅÊï∞ÊçÆ„ÄÅÊñπÊ≥ïÁ≠â„ÄÇ ËØ¶ÁªÜÁöÑÂèÇÊï∞Âê´‰πâÂíå‰ΩøÁî®ËØ∑ÂèÇËÄÉ Component ÂèÇËÄÉÊñáÊ°£„ÄÇ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051Component({ behaviors: [], properties: { myProperty: { // Â±ûÊÄßÂêç type: String, value: '' }, myProperty2: String // ÁÆÄÂåñÁöÑÂÆö‰πâÊñπÂºè }, data: {}, // ÁßÅÊúâÊï∞ÊçÆÔºåÂèØÁî®‰∫éÊ®°ÊùøÊ∏≤Êüì lifetimes: { // ÁîüÂëΩÂë®ÊúüÂáΩÊï∞ÔºåÂèØ‰ª•‰∏∫ÂáΩÊï∞ÔºåÊàñ‰∏Ä‰∏™Âú®methodsÊÆµ‰∏≠ÂÆö‰πâÁöÑÊñπÊ≥ïÂêç attached: function () { }, moved: function () { }, detached: function () { }, }, // ÁîüÂëΩÂë®ÊúüÂáΩÊï∞ÔºåÂèØ‰ª•‰∏∫ÂáΩÊï∞ÔºåÊàñ‰∏Ä‰∏™Âú®methodsÊÆµ‰∏≠ÂÆö‰πâÁöÑÊñπÊ≥ïÂêç attached: function () { }, // Ê≠§Â§ÑattachedÁöÑÂ£∞Êòé‰ºöË¢´lifetimesÂ≠óÊÆµ‰∏≠ÁöÑÂ£∞ÊòéË¶ÜÁõñ ready: function() { }, pageLifetimes: { // ÁªÑ‰ª∂ÊâÄÂú®È°µÈù¢ÁöÑÁîüÂëΩÂë®ÊúüÂáΩÊï∞ show: function () { }, hide: function () { }, resize: function () { }, }, methods: { onMyButtonTap: function(){ this.setData({ // Êõ¥Êñ∞Â±ûÊÄßÂíåÊï∞ÊçÆÁöÑÊñπÊ≥ï‰∏éÊõ¥Êñ∞È°µÈù¢Êï∞ÊçÆÁöÑÊñπÊ≥ïÁ±ª‰ºº }) }, // ÂÜÖÈÉ®ÊñπÊ≥ïÂª∫ËÆÆ‰ª•‰∏ãÂàíÁ∫øÂºÄÂ§¥ _myPrivateMethod: function(){ // ËøôÈáåÂ∞Ü data.A[0].B ËÆæ‰∏∫ 'myPrivateData' this.setData({ 'A[0].B': 'myPrivateData' }) }, _propertyChange: function(newVal, oldVal) { } }}) ‰ΩøÁî® Component ÊûÑÈÄ†Âô®ÊûÑÈÄ†È°µÈù¢ ‰∫ãÂÆû‰∏äÔºåÂ∞èÁ®ãÂ∫èÁöÑÈ°µÈù¢‰πüÂèØ‰ª•ËßÜ‰∏∫Ëá™ÂÆö‰πâÁªÑ‰ª∂„ÄÇÂõ†ËÄåÔºåÈ°µÈù¢‰πüÂèØ‰ª•‰ΩøÁî® Component ÊûÑÈÄ†Âô®ÊûÑÈÄ†ÔºåÊã•Êúâ‰∏éÊôÆÈÄöÁªÑ‰ª∂‰∏ÄÊ†∑ÁöÑÂÆö‰πâÊÆµ‰∏éÂÆû‰æãÊñπÊ≥ï„ÄÇ‰ΩÜÊ≠§Êó∂Ë¶ÅÊ±ÇÂØπÂ∫î json Êñá‰ª∂‰∏≠ÂåÖÂê´ usingComponents ÂÆö‰πâÊÆµ„ÄÇ Ê≠§Êó∂ÔºåÁªÑ‰ª∂ÁöÑÂ±ûÊÄßÂèØ‰ª•Áî®‰∫éÊé•Êî∂È°µÈù¢ÁöÑÂèÇÊï∞ÔºåÂ¶ÇËÆøÈóÆÈ°µÈù¢ /pages/index/index?paramA=123&amp;paramB=xyz ÔºåÂ¶ÇÊûúÂ£∞ÊòéÊúâÂ±ûÊÄß paramA Êàñ paramB ÔºåÂàôÂÆÉ‰ª¨‰ºöË¢´ËµãÂÄº‰∏∫ 123 Êàñ xyz „ÄÇ È°µÈù¢ÁöÑÁîüÂëΩÂë®ÊúüÊñπÊ≥ïÔºàÂç≥ on ÂºÄÂ§¥ÁöÑÊñπÊ≥ïÔºâÔºåÂ∫îÂÜôÂú® methods ÂÆö‰πâÊÆµ‰∏≠„ÄÇ ‰ª£Á†ÅÁ§∫‰æãÔºö 123456789101112131415161718{ &quot;usingComponents&quot;: {}}Component({ properties: { paramA: Number, paramB: String, }, methods: { onLoad: function() { this.data.paramA // È°µÈù¢ÂèÇÊï∞ paramA ÁöÑÂÄº this.data.paramB // È°µÈù¢ÂèÇÊï∞ paramB ÁöÑÂÄº } }}) ‰ΩøÁî® Component ÊûÑÈÄ†Âô®Êù•ÊûÑÈÄ†È°µÈù¢ÁöÑ‰∏Ä‰∏™Â•ΩÂ§ÑÊòØÂèØ‰ª•‰ΩøÁî® behaviors Êù•ÊèêÂèñÊâÄÊúâÈ°µÈù¢‰∏≠ÂÖ¨Áî®ÁöÑ‰ª£Á†ÅÊÆµ„ÄÇ ‰æãÂ¶ÇÔºåÂú®ÊâÄÊúâÈ°µÈù¢Ë¢´ÂàõÂª∫ÂíåÈîÄÊØÅÊó∂ÈÉΩË¶ÅÊâßË°åÂêå‰∏ÄÊÆµ‰ª£Á†ÅÔºåÂ∞±ÂèØ‰ª•ÊääËøôÊÆµ‰ª£Á†ÅÊèêÂèñÂà∞ behaviors ‰∏≠„ÄÇ ‰ª£Á†ÅÁ§∫‰æãÔºö 12345678910111213141516171819202122232425// page-common-behavior.jsmodule.exports = Behavior({ attached: function() { // È°µÈù¢ÂàõÂª∫Êó∂ÊâßË°å console.info('Page loaded!') }, detached: function() { // È°µÈù¢ÈîÄÊØÅÊó∂ÊâßË°å console.info('Page unloaded!') }})// È°µÈù¢ Avar pageCommonBehavior = require('./page-common-behavior')Component({ behaviors: [pageCommonBehavior], data: { /* ... */ }, methods: { /* ... */ },})// È°µÈù¢ Bvar pageCommonBehavior = require('./page-common-behavior')Component({ behaviors: [pageCommonBehavior], data: { /* ... */ }, methods: { /* ... */ },}) ÁªÑ‰ª∂Èó¥ÈÄö‰ø°‰∏é‰∫ã‰ª∂ ÁªÑ‰ª∂Èó¥ÈÄö‰ø° ÁªÑ‰ª∂Èó¥ÁöÑÂü∫Êú¨ÈÄö‰ø°ÊñπÂºèÊúâ‰ª•‰∏ãÂá†Áßç„ÄÇ WXML Êï∞ÊçÆÁªëÂÆöÔºöÁî®‰∫éÁà∂ÁªÑ‰ª∂ÂêëÂ≠êÁªÑ‰ª∂ÁöÑÊåáÂÆöÂ±ûÊÄßËÆæÁΩÆÊï∞ÊçÆÔºå‰ªÖËÉΩËÆæÁΩÆ JSON ÂÖºÂÆπÊï∞ÊçÆÔºàËá™Âü∫Á°ÄÂ∫ìÁâàÊú¨ 2.0.9 ÂºÄÂßãÔºåËøòÂèØ‰ª•Âú®Êï∞ÊçÆ‰∏≠ÂåÖÂê´ÂáΩÊï∞Ôºâ„ÄÇÂÖ∑‰ΩìÂú® ÁªÑ‰ª∂Ê®°ÊùøÂíåÊ†∑Âºè Á´†ËäÇ‰∏≠‰ªãÁªç„ÄÇ ‰∫ã‰ª∂ÔºöÁî®‰∫éÂ≠êÁªÑ‰ª∂ÂêëÁà∂ÁªÑ‰ª∂‰º†ÈÄíÊï∞ÊçÆÔºåÂèØ‰ª•‰º†ÈÄí‰ªªÊÑèÊï∞ÊçÆ„ÄÇ Â¶ÇÊûú‰ª•‰∏ä‰∏§ÁßçÊñπÂºè‰∏çË∂≥‰ª•Êª°Ë∂≥ÈúÄË¶ÅÔºåÁà∂ÁªÑ‰ª∂ËøòÂèØ‰ª•ÈÄöËøá this.selectComponent ÊñπÊ≥ïËé∑ÂèñÂ≠êÁªÑ‰ª∂ÂÆû‰æãÂØπË±°ÔºåËøôÊ†∑Â∞±ÂèØ‰ª•Áõ¥Êé•ËÆøÈóÆÁªÑ‰ª∂ÁöÑ‰ªªÊÑèÊï∞ÊçÆÂíåÊñπÊ≥ï„ÄÇ ÁõëÂê¨‰∫ã‰ª∂ ‰∫ã‰ª∂Á≥ªÁªüÊòØÁªÑ‰ª∂Èó¥ÈÄö‰ø°ÁöÑ‰∏ªË¶ÅÊñπÂºè‰πã‰∏Ä„ÄÇËá™ÂÆö‰πâÁªÑ‰ª∂ÂèØ‰ª•Ëß¶Âèë‰ªªÊÑèÁöÑ‰∫ã‰ª∂ÔºåÂºïÁî®ÁªÑ‰ª∂ÁöÑÈ°µÈù¢ÂèØ‰ª•ÁõëÂê¨Ëøô‰∫õ‰∫ã‰ª∂„ÄÇÂÖ≥‰∫é‰∫ã‰ª∂ÁöÑÂü∫Êú¨Ê¶ÇÂøµÂíåÁî®Ê≥ïÔºåÂèÇËßÅ ‰∫ã‰ª∂ „ÄÇ ÁõëÂê¨Ëá™ÂÆö‰πâÁªÑ‰ª∂‰∫ã‰ª∂ÁöÑÊñπÊ≥ï‰∏éÁõëÂê¨Âü∫Á°ÄÁªÑ‰ª∂‰∫ã‰ª∂ÁöÑÊñπÊ≥ïÂÆåÂÖ®‰∏ÄËá¥Ôºö ‰ª£Á†ÅÁ§∫‰æãÔºö 123456789&lt;!-- ÂΩìËá™ÂÆö‰πâÁªÑ‰ª∂Ëß¶Âèë‚Äúmyevent‚Äù‰∫ã‰ª∂Êó∂ÔºåË∞ÉÁî®‚ÄúonMyEvent‚ÄùÊñπÊ≥ï --&gt;&lt;component-tag-name bindmyevent=&quot;onMyEvent&quot; /&gt;&lt;!-- ÊàñËÄÖÂèØ‰ª•ÂÜôÊàê --&gt;&lt;component-tag-name bind:myevent=&quot;onMyEvent&quot; /&gt;Page({ onMyEvent: function(e){ e.detail // Ëá™ÂÆö‰πâÁªÑ‰ª∂Ëß¶Âèë‰∫ã‰ª∂Êó∂Êèê‰æõÁöÑdetailÂØπË±° }}) Ëß¶Âèë‰∫ã‰ª∂ Ëá™ÂÆö‰πâÁªÑ‰ª∂Ëß¶Âèë‰∫ã‰ª∂Êó∂ÔºåÈúÄË¶Å‰ΩøÁî® triggerEvent ÊñπÊ≥ïÔºåÊåáÂÆö‰∫ã‰ª∂Âêç„ÄÅdetailÂØπË±°Âíå‰∫ã‰ª∂ÈÄâÈ°πÔºö ‰ª£Á†ÅÁ§∫‰æãÔºö Âú®ÂºÄÂèëËÄÖÂ∑•ÂÖ∑‰∏≠È¢ÑËßàÊïàÊûú 123456789101112&lt;!-- Âú®Ëá™ÂÆö‰πâÁªÑ‰ª∂‰∏≠ --&gt;&lt;button bindtap=&quot;onTap&quot;&gt;ÁÇπÂáªËøô‰∏™ÊåâÈíÆÂ∞ÜËß¶Âèë‚Äúmyevent‚Äù‰∫ã‰ª∂&lt;/button&gt;Component({ properties: {}, methods: { onTap: function(){ var myEventDetail = {} // detailÂØπË±°ÔºåÊèê‰æõÁªô‰∫ã‰ª∂ÁõëÂê¨ÂáΩÊï∞ var myEventOption = {} // Ëß¶Âèë‰∫ã‰ª∂ÁöÑÈÄâÈ°π this.triggerEvent('myevent', myEventDetail, myEventOption) } }}) Ëß¶Âèë‰∫ã‰ª∂ÁöÑÈÄâÈ°πÂåÖÊã¨Ôºö ÈÄâÈ°πÂêç Á±ªÂûã ÊòØÂê¶ÂøÖÂ°´ ÈªòËÆ§ÂÄº ÊèèËø∞ bubbles Boolean Âê¶ false ‰∫ã‰ª∂ÊòØÂê¶ÂÜíÊ≥° composed Boolean Âê¶ false ‰∫ã‰ª∂ÊòØÂê¶ÂèØ‰ª•Á©øË∂äÁªÑ‰ª∂ËæπÁïåÔºå‰∏∫falseÊó∂Ôºå‰∫ã‰ª∂Â∞ÜÂè™ËÉΩÂú®ÂºïÁî®ÁªÑ‰ª∂ÁöÑËäÇÁÇπÊ†ë‰∏äËß¶ÂèëÔºå‰∏çËøõÂÖ•ÂÖ∂‰ªñ‰ªª‰ΩïÁªÑ‰ª∂ÂÜÖÈÉ® capturePhase Boolean Âê¶ false ‰∫ã‰ª∂ÊòØÂê¶Êã•ÊúâÊçïËé∑Èò∂ÊÆµ ÂÖ≥‰∫éÂÜíÊ≥°ÂíåÊçïËé∑Èò∂ÊÆµÁöÑÊ¶ÇÂøµÔºåËØ∑ÈòÖËØª ‰∫ã‰ª∂ Á´†ËäÇ‰∏≠ÁöÑÁõ∏ÂÖ≥ËØ¥Êòé„ÄÇ ‰ª£Á†ÅÁ§∫‰æãÔºö Âú®ÂºÄÂèëËÄÖÂ∑•ÂÖ∑‰∏≠È¢ÑËßàÊïàÊûú 12345678910111213141516171819202122// È°µÈù¢ page.wxml&lt;another-component bindcustomevent=&quot;pageEventListener1&quot;&gt; &lt;my-component bindcustomevent=&quot;pageEventListener2&quot;&gt;&lt;/my-component&gt;&lt;/another-component&gt;// ÁªÑ‰ª∂ another-component.wxml&lt;view bindcustomevent=&quot;anotherEventListener&quot;&gt; &lt;slot /&gt;&lt;/view&gt;// ÁªÑ‰ª∂ my-component.wxml&lt;view bindcustomevent=&quot;myEventListener&quot;&gt; &lt;slot /&gt;&lt;/view&gt;// ÁªÑ‰ª∂ my-component.jsComponent({ methods: { onTap: function(){ this.triggerEvent('customevent', {}) // Âè™‰ºöËß¶Âèë pageEventListener2 this.triggerEvent('customevent', {}, { bubbles: true }) // ‰ºö‰æùÊ¨°Ëß¶Âèë pageEventListener2 „ÄÅ pageEventListener1 this.triggerEvent('customevent', {}, { bubbles: true, composed: true }) // ‰ºö‰æùÊ¨°Ëß¶Âèë pageEventListener2 „ÄÅ anotherEventListener „ÄÅ pageEventListener1 } }}) Ëé∑ÂèñÁªÑ‰ª∂ÂÆû‰æã ÂèØÂú®Áà∂ÁªÑ‰ª∂ÈáåË∞ÉÁî® this.selectComponent ÔºåËé∑ÂèñÂ≠êÁªÑ‰ª∂ÁöÑÂÆû‰æãÂØπË±°„ÄÇ Ë∞ÉÁî®Êó∂ÈúÄË¶Å‰º†ÂÖ•‰∏Ä‰∏™ÂåπÈÖçÈÄâÊã©Âô® selectorÔºåÂ¶ÇÔºöthis.selectComponent(&quot;.my-component&quot;)„ÄÇ selector ËØ¶ÁªÜËØ≠Ê≥ïÂèØÊü•Áúã selector ËØ≠Ê≥ïÂèÇËÄÉÊñáÊ°£„ÄÇ ‰ª£Á†ÅÁ§∫‰æãÔºö Âú®ÂºÄÂèëËÄÖÂ∑•ÂÖ∑‰∏≠È¢ÑËßàÊïàÊûú 12345678// Áà∂ÁªÑ‰ª∂Page({ data: {}, getChildComponent: function () { const child = this.selectComponent('.my-component'); console.log(child) }}) Âú®‰∏ä‰æã‰∏≠ÔºåÁà∂ÁªÑ‰ª∂Â∞Ü‰ºöËé∑Âèñ class ‰∏∫ my-component ÁöÑÂ≠êÁªÑ‰ª∂ÂÆû‰æãÂØπË±°ÔºåÂç≥Â≠êÁªÑ‰ª∂ÁöÑ this „ÄÇ Ê≥®ÊÑè ÔºöÈªòËÆ§ÊÉÖÂÜµ‰∏ãÔºåÂ∞èÁ®ãÂ∫è‰∏éÊèí‰ª∂‰πãÈó¥„ÄÅ‰∏çÂêåÊèí‰ª∂‰πãÈó¥ÁöÑÁªÑ‰ª∂Â∞ÜÊó†Ê≥ïÈÄöËøá selectComponent ÂæóÂà∞ÁªÑ‰ª∂ÂÆû‰æãÔºàÂ∞ÜËøîÂõû nullÔºâ„ÄÇÂ¶ÇÊûúÊÉ≥ËÆ©‰∏Ä‰∏™ÁªÑ‰ª∂Âú®‰∏äËø∞Êù°‰ª∂‰∏ã‰æùÁÑ∂ËÉΩË¢´ selectComponent ËøîÂõûÔºåÂèØ‰ª•Ëá™ÂÆö‰πâÂÖ∂ËøîÂõûÁªìÊûúÔºàËßÅ‰∏ãÔºâ„ÄÇ Ëá™ÂÆö‰πâÁöÑÁªÑ‰ª∂ÂÆû‰æãËé∑ÂèñÁªìÊûú Ëã•ÈúÄË¶ÅËá™ÂÆö‰πâ selectComponent ËøîÂõûÁöÑÊï∞ÊçÆÔºåÂèØ‰ΩøÁî®ÂÜÖÁΩÆ behavior: wx://component-export ‰ªéÂü∫Á°ÄÂ∫ìÁâàÊú¨ 2.2.3 ÂºÄÂßãÊèê‰æõÊîØÊåÅ„ÄÇ ‰ΩøÁî®ËØ• behavior Êó∂ÔºåËá™ÂÆö‰πâÁªÑ‰ª∂‰∏≠ÁöÑ export ÂÆö‰πâÊÆµÂ∞ÜÁî®‰∫éÊåáÂÆöÁªÑ‰ª∂Ë¢´ selectComponent Ë∞ÉÁî®Êó∂ÁöÑËøîÂõûÂÄº„ÄÇ ‰ª£Á†ÅÁ§∫‰æãÔºö Âú®ÂºÄÂèëËÄÖÂ∑•ÂÖ∑‰∏≠È¢ÑËßàÊïàÊûú 1234567891011// Ëá™ÂÆö‰πâÁªÑ‰ª∂ my-component ÂÜÖÈÉ®Component({ behaviors: ['wx://component-export'], export() { return { myField: 'myValue' } }})&lt;!-- ‰ΩøÁî®Ëá™ÂÆö‰πâÁªÑ‰ª∂Êó∂ --&gt;&lt;my-component id=&quot;the-id&quot; /&gt;// Áà∂ÁªÑ‰ª∂Ë∞ÉÁî®const child = this.selectComponent('#the-id') // Á≠â‰∫é { myField: 'myValue' } Âú®‰∏ä‰æã‰∏≠ÔºåÁà∂ÁªÑ‰ª∂Ëé∑Âèñ id ‰∏∫ the-id ÁöÑÂ≠êÁªÑ‰ª∂ÂÆû‰æãÁöÑÊó∂ÂÄôÔºåÂæóÂà∞ÁöÑÊòØÂØπË±° { myField: 'myValue' } „ÄÇ ÂºÄÂèëÁªèÈ™å ÂáÜÂ§á ÈúÄË¶ÅÂêéÁ´ØÊé•Âè£‰ΩøÁî®Ë¶ÅÂºÄÈÄö‰ºÅ‰∏öË¥¶Âè∑ÔºåÊ≥®ÂÜåË¥πÁî®300ÂÖÉ ÊúâÂêéÂè∞Êï∞ÊçÆÔºöÊúçÂä°Âô®„ÄÅÂüüÂêç„ÄÅÁ´ØÂè£443„ÄÅ8080„ÄÅ80 ÂºÄÈÄöÂπ∂‰∏îÂ§áÊ°à„ÄÇ 443Á´ØÂè£ ‰∏öÂä°ÂüüÂêçÈúÄË¶ÅÔºåÂÖ∂‰ªñÁ´ØÂè£ÊúçÂä°ÂüüÂêçÈúÄË¶ÅÔºåÂºÄÂèëÊó∂ÂèØÂÖ≥Èó≠ÂüüÂêçÊ†°È™å„ÄÇ ÂèØÈÄöËøá UniApp ÔºåÈÄöËøá VUE ÊñπÂºèÁÆÄ‰ªãÂèëË°åÂ∞èÁ®ãÂ∫è„ÄÇ ÂèØÈÄöËøáVSCodeÊâìÂºÄHBuilder X ËøêË°åÁöÑÈ°πÁõÆÊØîËæÉÊñπ‰æø ‰∏öÂä°ÂüüÂêçÔºåÊúçÂä°Âô®ÂüüÂêç Ê≥®ÊÑèÂàÜÂåÖÈóÆÈ¢òÔºåÊØè‰∏™ÂåÖ‰∏çÂ§ß‰∫é2M. ÂèØ‰ª•ÈÄöËøá‰ª£ÁêÜÈÄöËøá‰∏Ä‰∏™ÂüüÂêç‰ΩøÁî®Â§ö‰∏™‰ª£ÁêÜ„ÄÇ ËΩ¨ËΩΩÊï¥ÁêÜÊù•Ê∫êÔºöhttps://developers.weixin.qq.com/miniprogram/dev/framework/app-service/route.html","link":"/2021/02/25/Draft/2021/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F/"},{"title":"È≠ëÈ≠ÖÂÖàÁîü | ËÆ°ÁÆóÊú∫ÁΩëÁªú","text":"ÁΩëÁªúÂü∫Á°Ä 1. ÁΩëÁªúÂ±ÇÊ¨°ÂàíÂàÜ OSI/RMÊ®°ÂûãÔºàOpen System Interconnection/Reference ModelÔºâÂºÄÊîæÁ≥ªÁªü‰∫íËÅîÂèÇËÄÉÊ®°Âûã 2. ÁΩëÁªúÊ®°Âûã OSI‰∏ÉÂ±ÇÁΩëÁªúÊ®°Âûã 1ÔºâÁâ©ÁêÜÂ±ÇÔºàPhysical LayerÔºâ ¬∑ ÊøÄÊ¥ª„ÄÅÁª¥ÊåÅ„ÄÅÂÖ≥Èó≠ÈÄö‰ø°Á´ØÁÇπ‰πãÈó¥ÁöÑÊú∫Ê¢∞ÁâπÊÄß„ÄÅÁîµÊ∞îÁâπÊÄß„ÄÅÂäüËÉΩÁâπÊÄß‰ª•ÂèäËøáÁ®ãÁâπÊÄß„ÄÇËØ•Â±Ç‰∏∫‰∏äÂ±ÇÂçèËÆÆÊèê‰æõ‰∫Ü‰∏Ä‰∏™‰º†ËæìÊï∞ÊçÆÁöÑÂèØÈù†ÁöÑÁâ©ÁêÜÂ™í‰Ωì„ÄÇÁÆÄÂçïÁöÑËØ¥ÔºåÁâ©ÁêÜÂ±ÇÁ°Æ‰øùÂéüÂßãÁöÑÊï∞ÊçÆÂèØÂú®ÂêÑÁßçÁâ©ÁêÜÂ™í‰Ωì‰∏ä‰º†Ëæì„ÄÇ‰∏§‰∏™ÈáçË¶ÅÁöÑËÆæÂ§áÂêçÁß∞Ôºå‰∏≠ÁªßÂô®ÔºàRepeaterÔºåÊîæÂ§ßÂô®ÔºâÔºåÈõÜÁ∫øÂô®„ÄÇ 2ÔºâÊï∞ÊçÆÈìæË∑ØÂ±ÇÔºàData Link LayerÔºâ ¬∑ Êï∞ÊçÆÈìæË∑ØÂ±ÇÂú®Áâ©ÁêÜÂ±ÇÊèê‰æõÁöÑÊúçÂä°ÁöÑÂü∫Á°Ä‰∏äÂêëÁΩëÁªúÂ±ÇÊèê‰æõÊúçÂä°ÔºåÂÖ∂ÊúÄÂü∫Êú¨ÁöÑÊúçÂä°ÊòØÂ∞ÜÊ∫êËá™ÁΩëÁªúÂ±ÇÊù•ÁöÑÊï∞ÊçÆÂèØÈù†Âú∞‰º†ËæìÂà∞Áõ∏ÈÇªËäÇÁÇπÁöÑÁõÆÊ†áÊú∫ÁΩëÁªúÂ±Ç„ÄÇ‰∏∫ËææÂà∞Ëøô‰∏ÄÁõÆÁöÑÔºåÊï∞ÊçÆÈìæË∑ØÂøÖÈ°ªÂÖ∑Â§á‰∏ÄÁ≥ªÂàóÁõ∏Â∫îÁöÑÂäüËÉΩÔºå‰∏ªË¶ÅÊúâÔºöÂ¶Ç‰ΩïÂ∞ÜÊï∞ÊçÆÁªÑÂêàÊàêÊï∞ÊçÆÂùóÔºåÂú®Êï∞ÊçÆÈìæË∑ØÂ±Ç‰∏≠Áß∞ËøôÁßçÊï∞ÊçÆÂùó‰∏∫Â∏ßÔºàframeÔºâÔºåÂ∏ßÊòØÊï∞ÊçÆÈìæË∑ØÂ±ÇÁöÑ‰º†ÈÄÅÂçï‰ΩçÔºõÂ¶Ç‰ΩïÊéßÂà∂Â∏ßÂú®Áâ©ÁêÜ‰ø°ÈÅì‰∏äÁöÑ‰º†ËæìÔºåÂåÖÊã¨Â¶Ç‰ΩïÂ§ÑÁêÜ‰º†ËæìÂ∑ÆÈîôÔºåÂ¶Ç‰ΩïË∞ÉËäÇÂèëÈÄÅÈÄüÁéá‰ª•‰Ωø‰∏éÊé•Êî∂ÊñπÁõ∏ÂåπÈÖçÔºõ‰ª•ÂèäÂú®‰∏§‰∏™ÁΩëÁªúÂÆû‰Ωì‰πãÈó¥Êèê‰æõÊï∞ÊçÆÈìæË∑ØÈÄöË∑ØÁöÑÂª∫Á´ã„ÄÅÁª¥ÊåÅÂíåÈáäÊîæÁöÑÁÆ°ÁêÜ„ÄÇÊï∞ÊçÆÈìæË∑ØÂ±ÇÂú®‰∏çÂèØÈù†ÁöÑÁâ©ÁêÜ‰ªãË¥®‰∏äÊèê‰æõÂèØÈù†ÁöÑ‰º†Ëæì„ÄÇËØ•Â±ÇÁöÑ‰ΩúÁî®ÂåÖÊã¨ÔºöÁâ©ÁêÜÂú∞ÂùÄÂØªÂùÄ„ÄÅÊï∞ÊçÆÁöÑÊàêÂ∏ß„ÄÅÊµÅÈáèÊéßÂà∂„ÄÅÊï∞ÊçÆÁöÑÊ£ÄÈîô„ÄÅÈáçÂèëÁ≠â„ÄÇ ¬∑ ÊúâÂÖ≥Êï∞ÊçÆÈìæË∑ØÂ±ÇÁöÑÈáçË¶ÅÁü•ËØÜÁÇπÔºö 1&gt; Êï∞ÊçÆÈìæË∑ØÂ±Ç‰∏∫ÁΩëÁªúÂ±ÇÊèê‰æõÂèØÈù†ÁöÑÊï∞ÊçÆ‰º†ËæìÔºõ 2&gt; Âü∫Êú¨Êï∞ÊçÆÂçï‰Ωç‰∏∫Â∏ßÔºõ 3&gt; ‰∏ªË¶ÅÁöÑÂçèËÆÆÔºö‰ª•Â§™ÁΩëÂçèËÆÆÔºõ 4&gt; ‰∏§‰∏™ÈáçË¶ÅËÆæÂ§áÂêçÁß∞ÔºöÁΩëÊ°•Âíå‰∫§Êç¢Êú∫„ÄÇ 3ÔºâÁΩëÁªúÂ±ÇÔºàNetwork LayerÔºâ ¬∑ ÂÆûÁé∞‰∏§‰∏™Á´ØÁ≥ªÁªü‰πãÈó¥ÁöÑÊï∞ÊçÆÈÄèÊòé‰º†ÈÄÅÔºåÂÖ∑‰ΩìÂäüËÉΩÂåÖÊã¨ÂØªÂùÄÂíåË∑ØÁî±ÈÄâÊã©„ÄÅËøûÊé•ÁöÑÂª∫Á´ã„ÄÅ‰øùÊåÅÂíåÁªàÊ≠¢Á≠â„ÄÇÂÆÉÊèê‰æõÁöÑÊúçÂä°‰Ωø‰º†ËæìÂ±Ç‰∏çÈúÄË¶Å‰∫ÜËß£ÁΩëÁªú‰∏≠ÁöÑÊï∞ÊçÆ‰º†ËæìÂíå‰∫§Êç¢ÊäÄÊúØ„ÄÇÂ¶ÇÊûúÊÇ®ÊÉ≥Áî®Â∞ΩÈáèÂ∞ëÁöÑËØçÊù•ËÆ∞‰ΩèÁΩëÁªúÂ±ÇÔºåÈÇ£Â∞±ÊòØ&quot;Ë∑ØÂæÑÈÄâÊã©„ÄÅË∑ØÁî±ÂèäÈÄªËæëÂØªÂùÄ&quot;„ÄÇÁΩëÁªúÂ±Ç‰∏≠Ê∂âÂèä‰ºóÂ§öÁöÑÂçèËÆÆÔºåÂÖ∂‰∏≠ÂåÖÊã¨ÊúÄÈáçË¶ÅÁöÑÂçèËÆÆÔºå‰πüÊòØTCP/IPÁöÑÊ†∏ÂøÉÂçèËÆÆ‚Äî‚ÄîIPÂçèËÆÆ„ÄÇIPÂçèËÆÆÈùûÂ∏∏ÁÆÄÂçïÔºå‰ªÖ‰ªÖÊèê‰æõ‰∏çÂèØÈù†„ÄÅÊó†ËøûÊé•ÁöÑ‰º†ÈÄÅÊúçÂä°„ÄÇIPÂçèËÆÆÁöÑ‰∏ªË¶ÅÂäüËÉΩÊúâÔºöÊó†ËøûÊé•Êï∞ÊçÆÊä•‰º†Ëæì„ÄÅÊï∞ÊçÆÊä•Ë∑ØÁî±ÈÄâÊã©ÂíåÂ∑ÆÈîôÊéßÂà∂„ÄÇ‰∏éIPÂçèËÆÆÈÖçÂ•ó‰ΩøÁî®ÂÆûÁé∞ÂÖ∂ÂäüËÉΩÁöÑËøòÊúâÂú∞ÂùÄËß£ÊûêÂçèËÆÆARP„ÄÅÈÄÜÂú∞ÂùÄËß£ÊûêÂçèËÆÆRARP„ÄÅÂõ†ÁâπÁΩëÊä•ÊñáÂçèËÆÆICMP„ÄÅÂõ†ÁâπÁΩëÁªÑÁÆ°ÁêÜÂçèËÆÆIGMP„ÄÇ ¬∑ ÂÖ∑‰ΩìÁöÑÂçèËÆÆÊàë‰ª¨‰ºöÂú®Êé•‰∏ãÊù•ÁöÑÈÉ®ÂàÜËøõË°åÊÄªÁªìÔºåÊúâÂÖ≥ÁΩëÁªúÂ±ÇÁöÑÈáçÁÇπ‰∏∫Ôºö 1&gt; ÁΩëÁªúÂ±ÇË¥üË¥£ÂØπÂ≠êÁΩëÈó¥ÁöÑÊï∞ÊçÆÂåÖËøõË°åË∑ØÁî±ÈÄâÊã©„ÄÇÊ≠§Â§ñÔºåÁΩëÁªúÂ±ÇËøòÂèØ‰ª•ÂÆûÁé∞Êã•Â°ûÊéßÂà∂„ÄÅÁΩëÈôÖ‰∫íËøûÁ≠âÂäüËÉΩÔºõ 2&gt; Âü∫Êú¨Êï∞ÊçÆÂçï‰Ωç‰∏∫IPÊï∞ÊçÆÊä•Ôºõ 3&gt; ÂåÖÂê´ÁöÑ‰∏ªË¶ÅÂçèËÆÆÔºö IPÂçèËÆÆÔºàInternet ProtocolÔºåÂõ†ÁâπÁΩë‰∫íËÅîÂçèËÆÆÔºâ; ICMPÂçèËÆÆÔºàInternet Control Message ProtocolÔºåÂõ†ÁâπÁΩëÊéßÂà∂Êä•ÊñáÂçèËÆÆÔºâ; ARPÂçèËÆÆÔºàAddress Resolution ProtocolÔºåÂú∞ÂùÄËß£ÊûêÂçèËÆÆÔºâ; RARPÂçèËÆÆÔºàReverse Address Resolution ProtocolÔºåÈÄÜÂú∞ÂùÄËß£ÊûêÂçèËÆÆÔºâ„ÄÇ 4&gt; ÈáçË¶ÅÁöÑËÆæÂ§áÔºöË∑ØÁî±Âô®„ÄÇ 4Ôºâ‰º†ËæìÂ±ÇÔºàTransport LayerÔºâ ¬∑ Á¨¨‰∏Ä‰∏™Á´ØÂà∞Á´ØÔºåÂç≥‰∏ªÊú∫Âà∞‰∏ªÊú∫ÁöÑÂ±ÇÊ¨°„ÄÇ‰º†ËæìÂ±ÇË¥üË¥£Â∞Ü‰∏äÂ±ÇÊï∞ÊçÆÂàÜÊÆµÂπ∂Êèê‰æõÁ´ØÂà∞Á´ØÁöÑ„ÄÅÂèØÈù†ÁöÑÊàñ‰∏çÂèØÈù†ÁöÑ‰º†Ëæì„ÄÇÊ≠§Â§ñÔºå‰º†ËæìÂ±ÇËøòË¶ÅÂ§ÑÁêÜÁ´ØÂà∞Á´ØÁöÑÂ∑ÆÈîôÊéßÂà∂ÂíåÊµÅÈáèÊéßÂà∂ÈóÆÈ¢ò„ÄÇ ‰º†ËæìÂ±ÇÁöÑ‰ªªÂä°ÊòØÊ†πÊçÆÈÄö‰ø°Â≠êÁΩëÁöÑÁâπÊÄßÔºåÊúÄ‰Ω≥ÁöÑÂà©Áî®ÁΩëÁªúËµÑÊ∫êÔºå‰∏∫‰∏§‰∏™Á´ØÁ≥ªÁªüÁöÑ‰ºöËØùÂ±Ç‰πãÈó¥ÔºåÊèê‰æõÂª∫Á´ã„ÄÅÁª¥Êä§ÂíåÂèñÊ∂à‰º†ËæìËøûÊé•ÁöÑÂäüËÉΩÔºåË¥üË¥£Á´ØÂà∞Á´ØÁöÑÂèØÈù†Êï∞ÊçÆ‰º†Ëæì„ÄÇÂú®Ëøô‰∏ÄÂ±ÇÔºå‰ø°ÊÅØ‰º†ÈÄÅÁöÑÂçèËÆÆÊï∞ÊçÆÂçïÂÖÉÁß∞‰∏∫ÊÆµÊàñÊä•Êñá„ÄÇ ÁΩëÁªúÂ±ÇÂè™ÊòØÊ†πÊçÆÁΩëÁªúÂú∞ÂùÄÂ∞ÜÊ∫êÁªìÁÇπÂèëÂá∫ÁöÑÊï∞ÊçÆÂåÖ‰º†ÈÄÅÂà∞ÁõÆÁöÑÁªìÁÇπÔºåËÄå‰º†ËæìÂ±ÇÂàôË¥üË¥£Â∞ÜÊï∞ÊçÆÂèØÈù†Âú∞‰º†ÈÄÅÂà∞Áõ∏Â∫îÁöÑÁ´ØÂè£„ÄÇ ¬∑ ÈáçÁÇπÔºö 1&gt; ‰º†ËæìÂ±ÇË¥üË¥£Â∞Ü‰∏äÂ±ÇÊï∞ÊçÆÂàÜÊÆµÂπ∂Êèê‰æõÁ´ØÂà∞Á´ØÁöÑ„ÄÅÂèØÈù†ÁöÑÊàñ‰∏çÂèØÈù†ÁöÑ‰º†Ëæì‰ª•ÂèäÁ´ØÂà∞Á´ØÁöÑÂ∑ÆÈîôÊéßÂà∂ÂíåÊµÅÈáèÊéßÂà∂ÈóÆÈ¢òÔºõ 2&gt; ÂåÖÂê´ÁöÑ‰∏ªË¶ÅÂçèËÆÆÔºöTCPÂçèËÆÆÔºàTransmission Control ProtocolÔºå‰º†ËæìÊéßÂà∂ÂçèËÆÆÔºâ„ÄÅUDPÂçèËÆÆÔºàUser Datagram ProtocolÔºåÁî®Êà∑Êï∞ÊçÆÊä•ÂçèËÆÆÔºâÔºõ 3&gt; ÈáçË¶ÅËÆæÂ§áÔºöÁΩëÂÖ≥„ÄÇ 5Ôºâ‰ºöËØùÂ±Ç ¬∑ ‰ºöËØùÂ±ÇÁÆ°ÁêÜ‰∏ªÊú∫‰πãÈó¥ÁöÑ‰ºöËØùËøõÁ®ãÔºåÂç≥Ë¥üË¥£Âª∫Á´ã„ÄÅÁÆ°ÁêÜ„ÄÅÁªàÊ≠¢ËøõÁ®ã‰πãÈó¥ÁöÑ‰ºöËØù„ÄÇ‰ºöËØùÂ±ÇËøòÂà©Áî®Âú®Êï∞ÊçÆ‰∏≠ÊèíÂÖ•Ê†°È™åÁÇπÊù•ÂÆûÁé∞Êï∞ÊçÆÁöÑÂêåÊ≠•„ÄÇ 6ÔºâË°®Á§∫Â±Ç ¬∑ Ë°®Á§∫Â±ÇÂØπ‰∏äÂ±ÇÊï∞ÊçÆÊàñ‰ø°ÊÅØËøõË°åÂèòÊç¢‰ª•‰øùËØÅ‰∏Ä‰∏™‰∏ªÊú∫Â∫îÁî®Â±Ç‰ø°ÊÅØÂèØ‰ª•Ë¢´Âè¶‰∏Ä‰∏™‰∏ªÊú∫ÁöÑÂ∫îÁî®Á®ãÂ∫èÁêÜËß£„ÄÇË°®Á§∫Â±ÇÁöÑÊï∞ÊçÆËΩ¨Êç¢ÂåÖÊã¨Êï∞ÊçÆÁöÑÂä†ÂØÜ„ÄÅÂéãÁº©„ÄÅÊ†ºÂºèËΩ¨Êç¢Á≠â„ÄÇ 7ÔºâÂ∫îÁî®Â±Ç ¬∑ ‰∏∫Êìç‰ΩúÁ≥ªÁªüÊàñÁΩëÁªúÂ∫îÁî®Á®ãÂ∫èÊèê‰æõËÆøÈóÆÁΩëÁªúÊúçÂä°ÁöÑÊé•Âè£„ÄÇ ¬∑ ‰ºöËØùÂ±Ç„ÄÅË°®Á§∫Â±ÇÂíåÂ∫îÁî®Â±ÇÈáçÁÇπÔºö ¬∑ 1&gt; Êï∞ÊçÆ‰º†ËæìÂü∫Êú¨Âçï‰Ωç‰∏∫Êä•ÊñáÔºõ ¬∑ 2&gt; ÂåÖÂê´ÁöÑ‰∏ªË¶ÅÂçèËÆÆÔºöFTPÔºàÊñá‰ª∂‰º†ÈÄÅÂçèËÆÆÔºâ„ÄÅTelnetÔºàËøúÁ®ãÁôªÂΩïÂçèËÆÆÔºâ„ÄÅDNSÔºàÂüüÂêçËß£ÊûêÂçèËÆÆÔºâ„ÄÅSMTPÔºàÈÇÆ‰ª∂‰º†ÈÄÅÂçèËÆÆÔºâÔºåPOP3ÂçèËÆÆÔºàÈÇÆÂ±ÄÂçèËÆÆÔºâÔºåHTTPÂçèËÆÆÔºàHyper Text Transfer ProtocolÔºâ„ÄÇ TCP/IPÂõõ (‰∫î)Â±ÇÊ®°Âûã 3. IPÂú∞ÂùÄ 1ÔºâÁΩëÁªúÂú∞ÂùÄ IPÂú∞ÂùÄÁî±ÁΩëÁªúÂè∑ÔºàÂåÖÊã¨Â≠êÁΩëÂè∑ÔºâÂíå‰∏ªÊú∫Âè∑ÁªÑÊàêÔºåÁΩëÁªúÂú∞ÂùÄÁöÑ‰∏ªÊú∫Âè∑‰∏∫ÂÖ®0ÔºåÁΩëÁªúÂú∞ÂùÄ‰ª£Ë°®ÁùÄÊï¥‰∏™ÁΩëÁªú„ÄÇ 2ÔºâÂπøÊí≠Âú∞ÂùÄ ÂπøÊí≠Âú∞ÂùÄÈÄöÂ∏∏Áß∞‰∏∫Áõ¥Êé•ÂπøÊí≠Âú∞ÂùÄÔºåÊòØ‰∏∫‰∫ÜÂå∫ÂàÜÂèóÈôêÂπøÊí≠Âú∞ÂùÄ„ÄÇ ÂπøÊí≠Âú∞ÂùÄ‰∏éÁΩëÁªúÂú∞ÂùÄÁöÑ‰∏ªÊú∫Âè∑Ê≠£Â•ΩÁõ∏ÂèçÔºåÂπøÊí≠Âú∞ÂùÄ‰∏≠Ôºå‰∏ªÊú∫Âè∑‰∏∫ÂÖ®1„ÄÇÂΩìÂêëÊüê‰∏™ÁΩëÁªúÁöÑÂπøÊí≠Âú∞ÂùÄÂèëÈÄÅÊ∂àÊÅØÊó∂ÔºåËØ•ÁΩëÁªúÂÜÖÁöÑÊâÄÊúâ‰∏ªÊú∫ÈÉΩËÉΩÊî∂Âà∞ËØ•ÂπøÊí≠Ê∂àÊÅØ„ÄÇ 3ÔºâÁªÑÊí≠Âú∞ÂùÄ DÁ±ªÂú∞ÂùÄÂ∞±ÊòØÁªÑÊí≠Âú∞ÂùÄ„ÄÇ ÂÖàÂõûÂøÜ‰∏ãAÔºåBÔºåCÔºåDÁ±ªÂú∞ÂùÄÂêßÔºö AÁ±ªÂú∞ÂùÄ‰ª•0ÂºÄÂ§¥ÔºåÁ¨¨‰∏Ä‰∏™Â≠óËäÇ‰Ωú‰∏∫ÁΩëÁªúÂè∑ÔºåÂú∞ÂùÄËåÉÂõ¥‰∏∫Ôºö0.0.0.0~127.255.255.255Ôºõ(modified @2016.05.31) BÁ±ªÂú∞ÂùÄ‰ª•10ÂºÄÂ§¥ÔºåÂâç‰∏§‰∏™Â≠óËäÇ‰Ωú‰∏∫ÁΩëÁªúÂè∑ÔºåÂú∞ÂùÄËåÉÂõ¥ÊòØÔºö128.0.0.0~191.255.255.255; CÁ±ªÂú∞ÂùÄ‰ª•110ÂºÄÂ§¥ÔºåÂâç‰∏â‰∏™Â≠óËäÇ‰Ωú‰∏∫ÁΩëÁªúÂè∑ÔºåÂú∞ÂùÄËåÉÂõ¥ÊòØÔºö192.0.0.0~223.255.255.255„ÄÇ DÁ±ªÂú∞ÂùÄ‰ª•1110ÂºÄÂ§¥ÔºåÂú∞ÂùÄËåÉÂõ¥ÊòØ224.0.0.0~239.255.255.255ÔºåDÁ±ªÂú∞ÂùÄ‰Ωú‰∏∫ÁªÑÊí≠Âú∞ÂùÄÔºà‰∏ÄÂØπÂ§öÁöÑÈÄö‰ø°ÔºâÔºõ EÁ±ªÂú∞ÂùÄ‰ª•1111ÂºÄÂ§¥ÔºåÂú∞ÂùÄËåÉÂõ¥ÊòØ240.0.0.0~255.255.255.255ÔºåEÁ±ªÂú∞ÂùÄ‰∏∫‰øùÁïôÂú∞ÂùÄÔºå‰æõ‰ª•Âêé‰ΩøÁî®„ÄÇ Ê≥®ÔºöÂè™ÊúâA,B,CÊúâÁΩëÁªúÂè∑Âíå‰∏ªÊú∫Âè∑‰πãÂàÜÔºåDÁ±ªÂú∞ÂùÄÂíåEÁ±ªÂú∞ÂùÄÊ≤°ÊúâÂàíÂàÜÁΩëÁªúÂè∑Âíå‰∏ªÊú∫Âè∑„ÄÇ 4Ôºâ255.255.255.255 ËØ•IPÂú∞ÂùÄÊåáÁöÑÊòØÂèóÈôêÁöÑÂπøÊí≠Âú∞ÂùÄ„ÄÇÂèóÈôêÂπøÊí≠Âú∞ÂùÄ‰∏é‰∏ÄËà¨ÂπøÊí≠Âú∞ÂùÄÔºàÁõ¥Êé•ÂπøÊí≠Âú∞ÂùÄÔºâÁöÑÂå∫Âà´Âú®‰∫éÔºåÂèóÈôêÂπøÊí≠Âú∞ÂùÄÂè™ËÉΩÁî®‰∫éÊú¨Âú∞ÁΩëÁªúÔºåË∑ØÁî±Âô®‰∏ç‰ºöËΩ¨Âèë‰ª•ÂèóÈôêÂπøÊí≠Âú∞ÂùÄ‰∏∫ÁõÆÁöÑÂú∞ÂùÄÁöÑÂàÜÁªÑÔºõ‰∏ÄËà¨ÂπøÊí≠Âú∞ÂùÄÊó¢ÂèØÂú®Êú¨Âú∞ÂπøÊí≠Ôºå‰πüÂèØË∑®ÁΩëÊÆµÂπøÊí≠„ÄÇ‰æãÂ¶ÇÔºö‰∏ªÊú∫192.168.1.1/30‰∏äÁöÑÁõ¥Êé•ÂπøÊí≠Êï∞ÊçÆÂåÖÂêéÔºåÂè¶Â§ñ‰∏Ä‰∏™ÁΩëÊÆµ192.168.1.5/30‰πüËÉΩÊî∂Âà∞ËØ•Êï∞ÊçÆÊä•ÔºõËã•ÂèëÈÄÅÂèóÈôêÂπøÊí≠Êï∞ÊçÆÊä•ÔºåÂàô‰∏çËÉΩÊî∂Âà∞„ÄÇ Ê≥®Ôºö‰∏ÄËà¨ÁöÑÂπøÊí≠Âú∞ÂùÄÔºàÁõ¥Êé•ÂπøÊí≠Âú∞ÂùÄÔºâËÉΩÂ§üÈÄöËøáÊüê‰∫õË∑ØÁî±Âô®ÔºàÂΩìÁÑ∂‰∏çÊòØÊâÄÊúâÁöÑË∑ØÁî±Âô®ÔºâÔºåËÄåÂèóÈôêÁöÑÂπøÊí≠Âú∞ÂùÄ‰∏çËÉΩÈÄöËøáË∑ØÁî±Âô®„ÄÇ 5Ôºâ0.0.0.0 Â∏∏Áî®‰∫éÂØªÊâæËá™Â∑±ÁöÑIPÂú∞ÂùÄÔºå‰æãÂ¶ÇÂú®Êàë‰ª¨ÁöÑRARPÔºåBOOTPÂíåDHCPÂçèËÆÆ‰∏≠ÔºåËã•Êüê‰∏™Êú™Áü•IPÂú∞ÂùÄÁöÑÊó†ÁõòÊú∫ÊÉ≥Ë¶ÅÁü•ÈÅìËá™Â∑±ÁöÑIPÂú∞ÂùÄÔºåÂÆÉÂ∞±‰ª•255.255.255.255‰∏∫ÁõÆÁöÑÂú∞ÂùÄÔºåÂêëÊú¨Âú∞ËåÉÂõ¥ÔºàÂÖ∑‰ΩìËÄåË®ÄÊòØË¢´ÂêÑ‰∏™Ë∑ØÁî±Âô®Â±èËîΩÁöÑËåÉÂõ¥ÂÜÖÔºâÁöÑÊúçÂä°Âô®ÂèëÈÄÅIPËØ∑Ê±ÇÂàÜÁªÑ„ÄÇ 6ÔºâÂõûÁéØÂú∞ÂùÄ 127.0.0.0/8Ë¢´Áî®‰ΩúÂõûÁéØÂú∞ÂùÄÔºåÂõûÁéØÂú∞ÂùÄË°®Á§∫Êú¨Êú∫ÁöÑÂú∞ÂùÄÔºåÂ∏∏Áî®‰∫éÂØπÊú¨Êú∫ÁöÑÊµãËØïÔºåÁî®ÁöÑÊúÄÂ§öÁöÑÊòØ127.0.0.1„ÄÇ 7ÔºâA„ÄÅB„ÄÅCÁ±ªÁßÅÊúâÂú∞ÂùÄ ÁßÅÊúâÂú∞ÂùÄ(private address)‰πüÂè´‰∏ìÁî®Âú∞ÂùÄÔºåÂÆÉ‰ª¨‰∏ç‰ºöÂú®ÂÖ®ÁêÉ‰ΩøÁî®ÔºåÂè™ÂÖ∑ÊúâÊú¨Âú∞ÊÑè‰πâ„ÄÇ AÁ±ªÁßÅÊúâÂú∞ÂùÄÔºö10.0.0.0/8ÔºåËåÉÂõ¥ÊòØÔºö10.0.0.0~10.255.255.255 BÁ±ªÁßÅÊúâÂú∞ÂùÄÔºö172.16.0.0/12ÔºåËåÉÂõ¥ÊòØÔºö172.16.0.0~172.31.255.255 CÁ±ªÁßÅÊúâÂú∞ÂùÄÔºö192.168.0.0/16ÔºåËåÉÂõ¥ÊòØÔºö192.168.0.0~192.168.255.255 4. Â≠êÁΩëÊé©Á†ÅÂèäÁΩëÁªúÂàíÂàÜ ÈöèÁùÄ‰∫íËøûÁΩëÂ∫îÁî®ÁöÑ‰∏çÊñ≠Êâ©Â§ßÔºåÂéüÂÖàÁöÑIPv4ÁöÑÂºäÁ´Ø‰πüÈÄêÊ∏êÊö¥Èú≤Âá∫Êù•ÔºåÂç≥ÁΩëÁªúÂè∑Âç†‰ΩçÂ§™Â§öÔºåËÄå‰∏ªÊú∫Âè∑‰ΩçÂ§™Â∞ëÔºåÊâÄ‰ª•ÂÖ∂ËÉΩÊèê‰æõÁöÑ‰∏ªÊú∫Âú∞ÂùÄ‰πüË∂äÊù•Ë∂äÁ®ÄÁº∫ÔºåÁõÆÂâçÈô§‰∫Ü‰ΩøÁî®NATÂú®‰ºÅ‰∏öÂÜÖÈÉ®Âà©Áî®‰øùÁïôÂú∞ÂùÄËá™Ë°åÂàÜÈÖç‰ª•Â§ñÔºåÈÄöÂ∏∏ÈÉΩÂØπ‰∏Ä‰∏™È´òÁ±ªÂà´ÁöÑIPÂú∞ÂùÄËøõË°åÂÜçÂàíÂàÜÔºå‰ª•ÂΩ¢ÊàêÂ§ö‰∏™Â≠êÁΩëÔºåÊèê‰æõÁªô‰∏çÂêåËßÑÊ®°ÁöÑÁî®Êà∑Áæ§‰ΩøÁî®„ÄÇËøôÈáå‰∏ªË¶ÅÊòØ‰∏∫‰∫ÜÂú®ÁΩëÁªúÂàÜÊÆµÊÉÖÂÜµ‰∏ãÊúâÊïàÂú∞Âà©Áî®IPÂú∞ÂùÄÔºåÈÄöËøáÂØπ‰∏ªÊú∫Âè∑ÁöÑÈ´ò‰ΩçÈÉ®ÂàÜÂèñ‰Ωú‰∏∫Â≠êÁΩëÂè∑Ôºå‰ªéÈÄöÂ∏∏ÁöÑÁΩëÁªú‰ΩçÁïåÈôê‰∏≠Êâ©Â±ïÊàñÂéãÁº©Â≠êÁΩëÊé©Á†ÅÔºåÁî®Êù•ÂàõÂª∫ÊüêÁ±ªÂú∞ÂùÄÁöÑÊõ¥Â§öÂ≠êÁΩë„ÄÇ‰ΩÜÂàõÂª∫Êõ¥Â§öÁöÑÂ≠êÁΩëÊó∂ÔºåÂú®ÊØè‰∏™Â≠êÁΩë‰∏äÁöÑÂèØÁî®‰∏ªÊú∫Âú∞ÂùÄÊï∞ÁõÆ‰ºöÊØîÂéüÂÖàÂáèÂ∞ë„ÄÇ‰ªÄ‰πàÊòØÂ≠êÁΩëÊé©Á†ÅÔºüÂ≠êÁΩëÊé©Á†ÅÊòØÊ†áÂøó‰∏§‰∏™IPÂú∞ÂùÄÊòØÂê¶ÂêåÂ±û‰∫é‰∏Ä‰∏™Â≠êÁΩëÁöÑÔºå‰πüÊòØ32‰Ωç‰∫åËøõÂà∂Âú∞ÂùÄÔºåÂÖ∂ÊØè‰∏Ä‰∏™‰∏∫1‰ª£Ë°®ËØ•‰ΩçÊòØÁΩëÁªú‰ΩçÔºå‰∏∫0‰ª£Ë°®‰∏ªÊú∫‰Ωç„ÄÇÂÆÉÂíåIPÂú∞ÂùÄ‰∏ÄÊ†∑‰πüÊòØ‰ΩøÁî®ÁÇπÂºèÂçÅËøõÂà∂Êù•Ë°®Á§∫ÁöÑ„ÄÇÂ¶ÇÊûú‰∏§‰∏™IPÂú∞ÂùÄÂú®Â≠êÁΩëÊé©Á†ÅÁöÑÊåâ‰Ωç‰∏éÁöÑËÆ°ÁÆó‰∏ãÊâÄÂæóÁªìÊûúÁõ∏ÂêåÔºåÂç≥Ë°®ÊòéÂÆÉ‰ª¨ÂÖ±Â±û‰∫éÂêå‰∏ÄÂ≠êÁΩë‰∏≠„ÄÇÂú®ËÆ°ÁÆóÂ≠êÁΩëÊé©Á†ÅÊó∂ÔºåÊàë‰ª¨Ë¶ÅÊ≥®ÊÑèIPÂú∞ÂùÄ‰∏≠ÁöÑ‰øùÁïôÂú∞ÂùÄÔºåÂç≥&quot; 0&quot;Âú∞ÂùÄÂíåÂπøÊí≠Âú∞ÂùÄÔºåÂÆÉ‰ª¨ÊòØÊåá‰∏ªÊú∫Âú∞ÂùÄÊàñÁΩëÁªúÂú∞ÂùÄÂÖ®‰∏∫&quot; 0&quot;Êàñ&quot; 1&quot;Êó∂ÁöÑIPÂú∞ÂùÄÔºåÂÆÉ‰ª¨‰ª£Ë°®ÁùÄÊú¨ÁΩëÁªúÂú∞ÂùÄÂíåÂπøÊí≠Âú∞ÂùÄÔºå‰∏ÄËà¨ÊòØ‰∏çËÉΩË¢´ËÆ°ÁÆóÂú®ÂÜÖÁöÑ„ÄÇÂ≠êÁΩëÊé©Á†ÅÁöÑËÆ°ÁÆóÔºöÂØπ‰∫éÊó†È°ªÂÜçÂàíÂàÜÊàêÂ≠êÁΩëÁöÑIPÂú∞ÂùÄÊù•ËØ¥ÔºåÂÖ∂Â≠êÁΩëÊé©Á†ÅÈùûÂ∏∏ÁÆÄÂçïÔºåÂç≥ÊåâÁÖßÂÖ∂ÂÆö‰πâÂç≥ÂèØÂÜôÂá∫ÔºöÂ¶ÇÊüêBÁ±ªIPÂú∞ÂùÄ‰∏∫ 10.12.3.0ÔºåÊó†È°ªÂÜçÂàÜÂâ≤Â≠êÁΩëÔºåÂàôËØ•IPÂú∞ÂùÄÁöÑÂ≠êÁΩëÊé©Á†Å255.255.0.0„ÄÇÂ¶ÇÊûúÂÆÉÊòØ‰∏Ä‰∏™CÁ±ªÂú∞ÂùÄÔºåÂàôÂÖ∂Â≠êÁΩëÊé©Á†Å‰∏∫ 255.255.255.0„ÄÇÂÖ∂ÂÆÉÁ±ªÊé®Ôºå‰∏çÂÜçËØ¶Ëø∞„ÄÇ‰∏ãÈù¢Êàë‰ª¨ÂÖ≥ÈîÆË¶Å‰ªãÁªçÁöÑÊòØ‰∏Ä‰∏™IPÂú∞ÂùÄÔºåËøòÈúÄË¶ÅÂ∞ÜÂÖ∂È´ò‰Ωç‰∏ªÊú∫‰ΩçÂÜç‰Ωú‰∏∫ÂàíÂàÜÂá∫ÁöÑÂ≠êÁΩëÁΩëÁªúÂè∑ÔºåÂâ©‰∏ãÁöÑÊòØÊØè‰∏™Â≠êÁΩëÁöÑ‰∏ªÊú∫Âè∑ÔºåËøôÊó∂ËØ•Â¶Ç‰ΩïËøõË°åÊØè‰∏™Â≠êÁΩëÁöÑÊé©Á†ÅËÆ°ÁÆó„ÄÇ ‰∏ãÈù¢ÊÄªÁªì‰∏Ä‰∏ãÊúâÂÖ≥Â≠êÁΩëÊé©Á†ÅÂíåÁΩëÁªúÂàíÂàÜÂ∏∏ËßÅÁöÑÈù¢ËØïËÄÉÈ¢òÔºö 1ÔºâÂà©Áî®Â≠êÁΩëÊï∞Êù•ËÆ°ÁÆó ¬∑ Âú®Ê±ÇÂ≠êÁΩëÊé©Á†Å‰πãÂâçÂøÖÈ°ªÂÖàÊêûÊ∏ÖÊ•öË¶ÅÂàíÂàÜÁöÑÂ≠êÁΩëÊï∞ÁõÆÔºå‰ª•ÂèäÊØè‰∏™Â≠êÁΩëÂÜÖÁöÑÊâÄÈúÄ‰∏ªÊú∫Êï∞ÁõÆ„ÄÇ(1) Â∞ÜÂ≠êÁΩëÊï∞ÁõÆËΩ¨Âåñ‰∏∫‰∫åËøõÂà∂Êù•Ë°®Á§∫;Â¶ÇÊ¨≤Â∞ÜBÁ±ªIPÂú∞ÂùÄ168.195.0.0ÂàíÂàÜÊàê27‰∏™Â≠êÁΩëÔºö27=11011Ôºõ(2) ÂèñÂæóËØ•‰∫åËøõÂà∂ÁöÑ‰ΩçÊï∞Ôºå‰∏∫NÔºõËØ•‰∫åËøõÂà∂‰∏∫‰∫î‰ΩçÊï∞ÔºåN = 5(3) ÂèñÂæóËØ•IPÂú∞ÂùÄÁöÑÁ±ªÂ≠êÁΩëÊé©Á†ÅÔºåÂ∞ÜÂÖ∂‰∏ªÊú∫Âú∞ÂùÄÈÉ®ÂàÜÁöÑÁöÑÂâçN‰ΩçÁΩÆ1Âç≥ÂæóÂá∫ËØ•IPÂú∞ÂùÄÂàíÂàÜÂ≠êÁΩëÁöÑÂ≠êÁΩëÊé©Á†Å„ÄÇÂ∞ÜBÁ±ªÂú∞ÂùÄÁöÑÂ≠êÁΩëÊé©Á†Å255.255.0.0ÁöÑ‰∏ªÊú∫Âú∞ÂùÄÂâç5‰ΩçÁΩÆ 1ÔºåÂæóÂà∞ 255.255.248.0 2ÔºâÂà©Áî®‰∏ªÊú∫Êï∞Êù•ËÆ°ÁÆó ¬∑ Â¶ÇÊ¨≤Â∞ÜBÁ±ªIPÂú∞ÂùÄ168.195.0.0ÂàíÂàÜÊàêËã•Âπ≤Â≠êÁΩëÔºåÊØè‰∏™Â≠êÁΩëÂÜÖÊúâ‰∏ªÊú∫700Âè∞Ôºö(1) Â∞Ü‰∏ªÊú∫Êï∞ÁõÆËΩ¨Âåñ‰∏∫‰∫åËøõÂà∂Êù•Ë°®Á§∫Ôºõ700=1010111100(2) Â¶ÇÊûú‰∏ªÊú∫Êï∞Â∞è‰∫éÊàñÁ≠â‰∫é254ÔºàÊ≥®ÊÑèÂéªÊéâ‰øùÁïôÁöÑ‰∏§‰∏™IPÂú∞ÂùÄÔºâÔºåÂàôÂèñÂæóËØ•‰∏ªÊú∫ÁöÑ‰∫åËøõÂà∂‰ΩçÊï∞Ôºå‰∏∫NÔºåËøôÈáåËÇØÂÆö N&lt;8„ÄÇÂ¶ÇÊûúÂ§ß‰∫é254ÔºåÂàô N&gt;8ÔºåËøôÂ∞±ÊòØËØ¥‰∏ªÊú∫Âú∞ÂùÄÂ∞ÜÂç†ÊçÆ‰∏çÊ≠¢8‰ΩçÔºõËØ•‰∫åËøõÂà∂‰∏∫ÂçÅ‰ΩçÊï∞ÔºåN=10Ôºõ(3) ‰ΩøÁî®255.255.255.255Êù•Â∞ÜËØ•Á±ªIPÂú∞ÂùÄÁöÑ‰∏ªÊú∫Âú∞ÂùÄ‰ΩçÊï∞ÂÖ®ÈÉ®ÁΩÆ1ÔºåÁÑ∂Âêé‰ªéÂêéÂêëÂâçÁöÑÂ∞ÜN‰ΩçÂÖ®ÈÉ®ÁΩÆ‰∏∫ 0ÔºåÂç≥‰∏∫Â≠êÁΩëÊé©Á†ÅÂÄº„ÄÇÂ∞ÜËØ•BÁ±ªÂú∞ÂùÄÁöÑÂ≠êÁΩëÊé©Á†Å255.255.0.0ÁöÑ‰∏ªÊú∫Âú∞ÂùÄÂÖ®ÈÉ®ÁΩÆ1ÔºåÂæóÂà∞255.255.255.255ÔºåÁÑ∂ÂêéÂÜç‰ªéÂêéÂêëÂâçÂ∞ÜÂêé 10‰ΩçÁΩÆ0,Âç≥‰∏∫Ôºö11111111.11111111.11111100.00000000ÔºåÂç≥255.255.252.0„ÄÇËøôÂ∞±ÊòØËØ•Ê¨≤ÂàíÂàÜÊàê‰∏ªÊú∫‰∏∫700Âè∞ÁöÑBÁ±ªIPÂú∞ÂùÄ 168.195.0.0ÁöÑÂ≠êÁΩëÊé©Á†Å„ÄÇ 3ÔºâÊ†πÊçÆÊØè‰∏™ÁΩëÁªúÁöÑ‰∏ªÊú∫Êï∞ÈáèËøõË°åÂ≠êÁΩëÂú∞ÂùÄÁöÑËßÑÂàíÂíåËÆ°ÁÆóÂ≠êÁΩëÊé©Á†Å ¬∑ Ëøô‰πüÂèØÊåâ‰∏äËø∞ÂéüÂàôËøõË°åËÆ°ÁÆó„ÄÇÊØîÂ¶Ç‰∏Ä‰∏™Â≠êÁΩëÊúâ10Âè∞‰∏ªÊú∫ÔºåÈÇ£‰πàÂØπ‰∫éËøô‰∏™Â≠êÁΩëÈúÄË¶ÅÁöÑIPÂú∞ÂùÄÊòØÔºö10Ôºã1Ôºã1Ôºã1Ôºù13Ê≥®ÊÑèÔºöÂä†ÁöÑÁ¨¨‰∏Ä‰∏™1ÊòØÊåáËøô‰∏™ÁΩëÁªúËøûÊé•Êó∂ÊâÄÈúÄÁöÑÁΩëÂÖ≥Âú∞ÂùÄÔºåÊé•ÁùÄÁöÑ‰∏§‰∏™1ÂàÜÂà´ÊòØÊåáÁΩëÁªúÂú∞ÂùÄÂíåÂπøÊí≠Âú∞ÂùÄ„ÄÇÂõ†‰∏∫13Â∞è‰∫é16Ôºà16Á≠â‰∫é2ÁöÑ4Ê¨°ÊñπÔºâÔºåÊâÄ‰ª•‰∏ªÊú∫‰Ωç‰∏∫4‰Ωç„ÄÇËÄå256Ôºç16Ôºù240ÔºåÊâÄ‰ª•ËØ•Â≠êÁΩëÊé©Á†Å‰∏∫255.255.255.240„ÄÇÂ¶ÇÊûú‰∏Ä‰∏™Â≠êÁΩëÊúâ14Âè∞‰∏ªÊú∫Ôºå‰∏çÂ∞ë‰∫∫Â∏∏ÁäØÁöÑÈîôËØØÊòØÔºö‰æùÁÑ∂ÂàÜÈÖçÂÖ∑Êúâ16‰∏™Âú∞ÂùÄÁ©∫Èó¥ÁöÑÂ≠êÁΩëÔºåËÄåÂøòËÆ∞‰∫ÜÁªôÁΩëÂÖ≥ÂàÜÈÖçÂú∞ÂùÄ„ÄÇËøôÊ†∑Â∞±ÈîôËØØ‰∫ÜÔºåÂõ†‰∏∫14Ôºã1Ôºã1Ôºã1Ôºù17Ôºå17Â§ß‰∫é16ÔºåÊâÄ‰ª•Êàë‰ª¨Âè™ËÉΩÂàÜÈÖçÂÖ∑Êúâ32‰∏™Âú∞ÂùÄÔºà32Á≠â‰∫é2ÁöÑ5Ê¨°ÊñπÔºâÁ©∫Èó¥ÁöÑÂ≠êÁΩë„ÄÇËøôÊó∂Â≠êÁΩëÊé©Á†Å‰∏∫Ôºö255.255.255.224„ÄÇ 5. ARP/RARPÂçèËÆÆ Âú∞ÂùÄËß£ÊûêÂçèËÆÆÔºåÂç≥ARPÔºàAddress Resolution ProtocolÔºâÔºåÊòØÊ†πÊçÆIPÂú∞ÂùÄËé∑ÂèñÁâ©ÁêÜÂú∞ÂùÄÁöÑ‰∏Ä‰∏™TCP/IPÂçèËÆÆ„ÄÇ‰∏ªÊú∫ÂèëÈÄÅ‰ø°ÊÅØÊó∂Â∞ÜÂåÖÂê´ÁõÆÊ†áIPÂú∞ÂùÄÁöÑARPËØ∑Ê±ÇÂπøÊí≠Âà∞ÁΩëÁªú‰∏äÁöÑÊâÄÊúâ‰∏ªÊú∫ÔºåÂπ∂Êé•Êî∂ËøîÂõûÊ∂àÊÅØÔºå‰ª•Ê≠§Á°ÆÂÆöÁõÆÊ†áÁöÑÁâ©ÁêÜÂú∞ÂùÄÔºõÊî∂Âà∞ËøîÂõûÊ∂àÊÅØÂêéÂ∞ÜËØ•IPÂú∞ÂùÄÂíåÁâ©ÁêÜÂú∞ÂùÄÂ≠òÂÖ•Êú¨Êú∫ARPÁºìÂ≠ò‰∏≠Âπ∂‰øùÁïô‰∏ÄÂÆöÊó∂Èó¥Ôºå‰∏ãÊ¨°ËØ∑Ê±ÇÊó∂Áõ¥Êé•Êü•ËØ¢ARPÁºìÂ≠ò‰ª•ËäÇÁ∫¶ËµÑÊ∫ê„ÄÇÂú∞ÂùÄËß£ÊûêÂçèËÆÆÊòØÂª∫Á´ãÂú®ÁΩëÁªú‰∏≠ÂêÑ‰∏™‰∏ªÊú∫‰∫íÁõ∏‰ø°‰ªªÁöÑÂü∫Á°Ä‰∏äÁöÑÔºåÁΩëÁªú‰∏äÁöÑ‰∏ªÊú∫ÂèØ‰ª•Ëá™‰∏ªÂèëÈÄÅARPÂ∫îÁ≠îÊ∂àÊÅØÔºåÂÖ∂‰ªñ‰∏ªÊú∫Êî∂Âà∞Â∫îÁ≠îÊä•ÊñáÊó∂‰∏ç‰ºöÊ£ÄÊµãËØ•Êä•ÊñáÁöÑÁúüÂÆûÊÄßÂ∞±‰ºöÂ∞ÜÂÖ∂ËÆ∞ÂÖ•Êú¨Êú∫ARPÁºìÂ≠òÔºõÁî±Ê≠§ÊîªÂáªËÄÖÂ∞±ÂèØ‰ª•ÂêëÊüê‰∏Ä‰∏ªÊú∫ÂèëÈÄÅ‰º™ARPÂ∫îÁ≠îÊä•ÊñáÔºå‰ΩøÂÖ∂ÂèëÈÄÅÁöÑ‰ø°ÊÅØÊó†Ê≥ïÂà∞ËææÈ¢ÑÊúüÁöÑ‰∏ªÊú∫ÊàñÂà∞ËææÈîôËØØÁöÑ‰∏ªÊú∫ÔºåËøôÂ∞±ÊûÑÊàê‰∫Ü‰∏Ä‰∏™ARPÊ¨∫È™ó„ÄÇARPÂëΩ‰ª§ÂèØÁî®‰∫éÊü•ËØ¢Êú¨Êú∫ARPÁºìÂ≠ò‰∏≠IPÂú∞ÂùÄÂíåMACÂú∞ÂùÄÁöÑÂØπÂ∫îÂÖ≥Á≥ª„ÄÅÊ∑ªÂä†ÊàñÂà†Èô§ÈùôÊÄÅÂØπÂ∫îÂÖ≥Á≥ªÁ≠â„ÄÇ ARPÂ∑•‰ΩúÊµÅÁ®ã‰∏æ‰æãÔºö ‰∏ªÊú∫AÁöÑIPÂú∞ÂùÄ‰∏∫192.168.1.1ÔºåMACÂú∞ÂùÄ‰∏∫0A-11-22-33-44-01Ôºõ ‰∏ªÊú∫BÁöÑIPÂú∞ÂùÄ‰∏∫192.168.1.2ÔºåMACÂú∞ÂùÄ‰∏∫0A-11-22-33-44-02Ôºõ ÂΩì‰∏ªÊú∫AË¶Å‰∏é‰∏ªÊú∫BÈÄö‰ø°Êó∂ÔºåÂú∞ÂùÄËß£ÊûêÂçèËÆÆÂèØ‰ª•Â∞Ü‰∏ªÊú∫BÁöÑIPÂú∞ÂùÄÔºà192.168.1.2ÔºâËß£ÊûêÊàê‰∏ªÊú∫BÁöÑMACÂú∞ÂùÄÔºå‰ª•‰∏ã‰∏∫Â∑•‰ΩúÊµÅÁ®ãÔºö ¬∑ Ôºà1ÔºâÊ†πÊçÆ‰∏ªÊú∫A‰∏äÁöÑË∑ØÁî±Ë°®ÂÜÖÂÆπÔºåIPÁ°ÆÂÆöÁî®‰∫éËÆøÈóÆ‰∏ªÊú∫BÁöÑËΩ¨ÂèëIPÂú∞ÂùÄÊòØ192.168.1.2„ÄÇÁÑ∂ÂêéA‰∏ªÊú∫Âú®Ëá™Â∑±ÁöÑÊú¨Âú∞ARPÁºìÂ≠ò‰∏≠Ê£ÄÊü•‰∏ªÊú∫BÁöÑÂåπÈÖçMACÂú∞ÂùÄ„ÄÇ ¬∑ Ôºà2ÔºâÂ¶ÇÊûú‰∏ªÊú∫AÂú®ARPÁºìÂ≠ò‰∏≠Ê≤°ÊúâÊâæÂà∞Êò†Â∞ÑÔºåÂÆÉÂ∞ÜËØ¢ÈóÆ192.168.1.2ÁöÑÁ°¨‰ª∂Âú∞ÂùÄÔºå‰ªéËÄåÂ∞ÜARPËØ∑Ê±ÇÂ∏ßÂπøÊí≠Âà∞Êú¨Âú∞ÁΩëÁªú‰∏äÁöÑÊâÄÊúâ‰∏ªÊú∫„ÄÇÊ∫ê‰∏ªÊú∫AÁöÑIPÂú∞ÂùÄÂíåMACÂú∞ÂùÄÈÉΩÂåÖÊã¨Âú®ARPËØ∑Ê±Ç‰∏≠„ÄÇÊú¨Âú∞ÁΩëÁªú‰∏äÁöÑÊØèÂè∞‰∏ªÊú∫ÈÉΩÊé•Êî∂Âà∞ARPËØ∑Ê±ÇÂπ∂‰∏îÊ£ÄÊü•ÊòØÂê¶‰∏éËá™Â∑±ÁöÑIPÂú∞ÂùÄÂåπÈÖç„ÄÇÂ¶ÇÊûú‰∏ªÊú∫ÂèëÁé∞ËØ∑Ê±ÇÁöÑIPÂú∞ÂùÄ‰∏éËá™Â∑±ÁöÑIPÂú∞ÂùÄ‰∏çÂåπÈÖçÔºåÂÆÉÂ∞Ü‰∏¢ÂºÉARPËØ∑Ê±Ç„ÄÇ ¬∑ Ôºà3Ôºâ‰∏ªÊú∫BÁ°ÆÂÆöARPËØ∑Ê±Ç‰∏≠ÁöÑIPÂú∞ÂùÄ‰∏éËá™Â∑±ÁöÑIPÂú∞ÂùÄÂåπÈÖçÔºåÂàôÂ∞Ü‰∏ªÊú∫AÁöÑIPÂú∞ÂùÄÂíåMACÂú∞ÂùÄÊò†Â∞ÑÊ∑ªÂä†Âà∞Êú¨Âú∞ARPÁºìÂ≠ò‰∏≠„ÄÇ ¬∑ Ôºà4Ôºâ‰∏ªÊú∫BÂ∞ÜÂåÖÂê´ÂÖ∂MACÂú∞ÂùÄÁöÑARPÂõûÂ§çÊ∂àÊÅØÁõ¥Êé•ÂèëÈÄÅÂõû‰∏ªÊú∫A„ÄÇ ¬∑ Ôºà5ÔºâÂΩì‰∏ªÊú∫AÊî∂Âà∞‰ªé‰∏ªÊú∫BÂèëÊù•ÁöÑARPÂõûÂ§çÊ∂àÊÅØÊó∂Ôºå‰ºöÁî®‰∏ªÊú∫BÁöÑIPÂíåMACÂú∞ÂùÄÊò†Â∞ÑÊõ¥Êñ∞ARPÁºìÂ≠ò„ÄÇÊú¨Êú∫ÁºìÂ≠òÊòØÊúâÁîüÂ≠òÊúüÁöÑÔºåÁîüÂ≠òÊúüÁªìÊùüÂêéÔºåÂ∞ÜÂÜçÊ¨°ÈáçÂ§ç‰∏äÈù¢ÁöÑËøáÁ®ã„ÄÇ‰∏ªÊú∫BÁöÑMACÂú∞ÂùÄ‰∏ÄÊó¶Á°ÆÂÆöÔºå‰∏ªÊú∫AÂ∞±ËÉΩÂêë‰∏ªÊú∫BÂèëÈÄÅIPÈÄö‰ø°‰∫Ü„ÄÇ ÈÄÜÂú∞ÂùÄËß£ÊûêÂçèËÆÆÔºåÂç≥RARPÔºåÂäüËÉΩÂíåARPÂçèËÆÆÁõ∏ÂØπÔºåÂÖ∂Â∞ÜÂ±ÄÂüüÁΩë‰∏≠Êüê‰∏™‰∏ªÊú∫ÁöÑÁâ©ÁêÜÂú∞ÂùÄËΩ¨Êç¢‰∏∫IPÂú∞ÂùÄÔºåÊØîÂ¶ÇÂ±ÄÂüüÁΩë‰∏≠Êúâ‰∏ÄÂè∞‰∏ªÊú∫Âè™Áü•ÈÅìÁâ©ÁêÜÂú∞ÂùÄËÄå‰∏çÁü•ÈÅìIPÂú∞ÂùÄÔºåÈÇ£‰πàÂèØ‰ª•ÈÄöËøáRARPÂçèËÆÆÂèëÂá∫ÂæÅÊ±ÇËá™Ë∫´IPÂú∞ÂùÄÁöÑÂπøÊí≠ËØ∑Ê±ÇÔºåÁÑ∂ÂêéÁî±RARPÊúçÂä°Âô®Ë¥üË¥£ÂõûÁ≠î„ÄÇ RARPÂçèËÆÆÂ∑•‰ΩúÊµÅÁ®ãÔºö ¬∑ Ôºà1ÔºâÁªô‰∏ªÊú∫ÂèëÈÄÅ‰∏Ä‰∏™Êú¨Âú∞ÁöÑRARPÂπøÊí≠ÔºåÂú®Ê≠§ÂπøÊí≠ÂåÖ‰∏≠ÔºåÂ£∞ÊòéËá™Â∑±ÁöÑMACÂú∞ÂùÄÂπ∂‰∏îËØ∑Ê±Ç‰ªª‰ΩïÊî∂Âà∞Ê≠§ËØ∑Ê±ÇÁöÑRARPÊúçÂä°Âô®ÂàÜÈÖç‰∏Ä‰∏™IPÂú∞ÂùÄÔºõ ¬∑ Ôºà2ÔºâÊú¨Âú∞ÁΩëÊÆµ‰∏äÁöÑRARPÊúçÂä°Âô®Êî∂Âà∞Ê≠§ËØ∑Ê±ÇÂêéÔºåÊ£ÄÊü•ÂÖ∂RARPÂàóË°®ÔºåÊü•ÊâæËØ•MACÂú∞ÂùÄÂØπÂ∫îÁöÑIPÂú∞ÂùÄÔºõ ¬∑ Ôºà3ÔºâÂ¶ÇÊûúÂ≠òÂú®ÔºåRARPÊúçÂä°Âô®Â∞±ÁªôÊ∫ê‰∏ªÊú∫ÂèëÈÄÅ‰∏Ä‰∏™ÂìçÂ∫îÊï∞ÊçÆÂåÖÂπ∂Â∞ÜÊ≠§IPÂú∞ÂùÄÊèê‰æõÁªôÂØπÊñπ‰∏ªÊú∫‰ΩøÁî®Ôºõ ¬∑ Ôºà4ÔºâÂ¶ÇÊûú‰∏çÂ≠òÂú®ÔºåRARPÊúçÂä°Âô®ÂØπÊ≠§‰∏çÂÅö‰ªª‰ΩïÁöÑÂìçÂ∫îÔºõ 6. Ë∑ØÁî±ÈÄâÊã©ÂçèËÆÆ Â∏∏ËßÅÁöÑË∑ØÁî±ÈÄâÊã©ÂçèËÆÆÊúâÔºöRIPÂçèËÆÆ„ÄÅOSPFÂçèËÆÆ„ÄÇRIPÂçèËÆÆ ÔºöÂ∫ïÂ±ÇÊòØË¥ùÂ∞îÊõºÁ¶èÁâπÁÆóÊ≥ïÔºåÂÆÉÈÄâÊã©Ë∑ØÁî±ÁöÑÂ∫¶ÈáèÊ†áÂáÜÔºàmetric)ÊòØË∑≥Êï∞ÔºåÊúÄÂ§ßË∑≥Êï∞ÊòØ15Ë∑≥ÔºåÂ¶ÇÊûúÂ§ß‰∫é15Ë∑≥ÔºåÂÆÉÂ∞±‰ºö‰∏¢ÂºÉÊï∞ÊçÆÂåÖ„ÄÇOSPFÂçèËÆÆ ÔºöOpen Shortest Path FirstÂºÄÊîæÂºèÊúÄÁü≠Ë∑ØÂæÑ‰ºòÂÖàÔºåÂ∫ïÂ±ÇÊòØËø™Êù∞ÊñØÁâπÊãâÁÆóÊ≥ïÔºåÊòØÈìæË∑ØÁä∂ÊÄÅË∑ØÁî±ÈÄâÊã©ÂçèËÆÆÔºåÂÆÉÈÄâÊã©Ë∑ØÁî±ÁöÑÂ∫¶ÈáèÊ†áÂáÜÊòØÂ∏¶ÂÆΩÔºåÂª∂Ëøü„ÄÇ 7. TCP/IPÂçèËÆÆ TCP/IPÂçèËÆÆÊòØInternetÊúÄÂü∫Êú¨ÁöÑÂçèËÆÆ„ÄÅInternetÂõΩÈôÖ‰∫íËÅîÁΩëÁªúÁöÑÂü∫Á°ÄÔºåÁî±ÁΩëÁªúÂ±ÇÁöÑIPÂçèËÆÆÂíå‰º†ËæìÂ±ÇÁöÑTCPÂçèËÆÆÁªÑÊàê„ÄÇÈÄö‰øóËÄåË®ÄÔºöTCPË¥üË¥£ÂèëÁé∞‰º†ËæìÁöÑÈóÆÈ¢òÔºå‰∏ÄÊúâÈóÆÈ¢òÂ∞±ÂèëÂá∫‰ø°Âè∑ÔºåË¶ÅÊ±ÇÈáçÊñ∞‰º†ËæìÔºåÁõ¥Âà∞ÊâÄÊúâÊï∞ÊçÆÂÆâÂÖ®Ê≠£Á°ÆÂú∞‰º†ËæìÂà∞ÁõÆÁöÑÂú∞„ÄÇËÄåIPÊòØÁªôÂõ†ÁâπÁΩëÁöÑÊØè‰∏ÄÂè∞ËÅîÁΩëËÆæÂ§áËßÑÂÆö‰∏Ä‰∏™Âú∞ÂùÄ„ÄÇIPÂ±ÇÊé•Êî∂Áî±Êõ¥‰ΩéÂ±ÇÔºàÁΩëÁªúÊé•Âè£Â±Ç‰æãÂ¶Ç‰ª•Â§™ÁΩëËÆæÂ§áÈ©±Âä®Á®ãÂ∫èÔºâÂèëÊù•ÁöÑÊï∞ÊçÆÂåÖÔºåÂπ∂ÊääËØ•Êï∞ÊçÆÂåÖÂèëÈÄÅÂà∞Êõ¥È´òÂ±Ç---TCPÊàñUDPÂ±ÇÔºõÁõ∏ÂèçÔºåIPÂ±Ç‰πüÊää‰ªéTCPÊàñUDPÂ±ÇÊé•Êî∂Êù•ÁöÑÊï∞ÊçÆÂåÖ‰º†ÈÄÅÂà∞Êõ¥‰ΩéÂ±Ç„ÄÇIPÊï∞ÊçÆÂåÖÊòØ‰∏çÂèØÈù†ÁöÑÔºåÂõ†‰∏∫IPÂπ∂Ê≤°ÊúâÂÅö‰ªª‰Ωï‰∫ãÊÉÖÊù•Á°ÆËÆ§Êï∞ÊçÆÂåÖÊòØÂê¶ÊåâÈ°∫Â∫èÂèëÈÄÅÁöÑÊàñËÄÖÊúâÊ≤°ÊúâË¢´Á†¥ÂùèÔºåIPÊï∞ÊçÆÂåÖ‰∏≠Âê´ÊúâÂèëÈÄÅÂÆÉÁöÑ‰∏ªÊú∫ÁöÑÂú∞ÂùÄÔºàÊ∫êÂú∞ÂùÄÔºâÂíåÊé•Êî∂ÂÆÉÁöÑ‰∏ªÊú∫ÁöÑÂú∞ÂùÄÔºàÁõÆÁöÑÂú∞ÂùÄÔºâ„ÄÇTCPÊòØÈù¢ÂêëËøûÊé•ÁöÑÈÄö‰ø°ÂçèËÆÆÔºåÈÄöËøá‰∏âÊ¨°Êè°ÊâãÂª∫Á´ãËøûÊé•ÔºåÈÄöËÆØÂÆåÊàêÊó∂Ë¶ÅÊãÜÈô§ËøûÊé•ÔºåÁî±‰∫éTCPÊòØÈù¢ÂêëËøûÊé•ÁöÑÊâÄ‰ª•Âè™ËÉΩÁî®‰∫éÁ´ØÂà∞Á´ØÁöÑÈÄöËÆØ„ÄÇTCPÊèê‰æõÁöÑÊòØ‰∏ÄÁßçÂèØÈù†ÁöÑÊï∞ÊçÆÊµÅÊúçÂä°ÔºåÈááÁî®&quot;Â∏¶Èáç‰º†ÁöÑËÇØÂÆöÁ°ÆËÆ§&quot;ÊäÄÊúØÊù•ÂÆûÁé∞‰º†ËæìÁöÑÂèØÈù†ÊÄß„ÄÇTCPËøòÈááÁî®‰∏ÄÁßçÁß∞‰∏∫&quot;ÊªëÂä®Á™óÂè£&quot;ÁöÑÊñπÂºèËøõË°åÊµÅÈáèÊéßÂà∂ÔºåÊâÄË∞ìÁ™óÂè£ÂÆûÈôÖË°®Á§∫Êé•Êî∂ËÉΩÂäõÔºåÁî®‰ª•ÈôêÂà∂ÂèëÈÄÅÊñπÁöÑÂèëÈÄÅÈÄüÂ∫¶„ÄÇ TCPÊä•ÊñáÈ¶ñÈÉ®Ê†ºÂºèÔºö‰ª∂Ôºâ„ÄÅHTTPÂçèËÆÆÁ≠â„ÄÇ TCPÂçèËÆÆÁöÑ‰∏âÊ¨°Êè°ÊâãÂíåÂõõÊ¨°Êå•ÊâãÔºö Ê≥®Ôºöseq:&quot;sequance&quot;Â∫èÂàóÂè∑Ôºõack:&quot;acknowledge&quot;Á°ÆËÆ§Âè∑ÔºõSYN:&quot;synchronize&quot;ËØ∑Ê±ÇÂêåÊ≠•Ê†áÂøóÔºõÔºõACK:&quot;acknowledge&quot;Á°ÆËÆ§Ê†áÂøó&quot;ÔºõFINÔºö&quot;Finally&quot;ÁªìÊùüÊ†áÂøó„ÄÇ TCPËøûÊé•Âª∫Á´ãËøáÁ®ãÔºöÈ¶ñÂÖàClientÁ´ØÂèëÈÄÅËøûÊé•ËØ∑Ê±ÇÊä•ÊñáÔºåServerÊÆµÊé•ÂèóËøûÊé•ÂêéÂõûÂ§çACKÊä•ÊñáÔºåÂπ∂‰∏∫ËøôÊ¨°ËøûÊé•ÂàÜÈÖçËµÑÊ∫ê„ÄÇClientÁ´ØÊé•Êî∂Âà∞ACKÊä•ÊñáÂêé‰πüÂêëServerÊÆµÂèëÁîüACKÊä•ÊñáÔºåÂπ∂ÂàÜÈÖçËµÑÊ∫êÔºåËøôÊ†∑TCPËøûÊé•Â∞±Âª∫Á´ã‰∫Ü„ÄÇTCPËøûÊé•Êñ≠ÂºÄËøáÁ®ãÔºöÂÅáËÆæClientÁ´ØÂèëËµ∑‰∏≠Êñ≠ËøûÊé•ËØ∑Ê±ÇÔºå‰πüÂ∞±ÊòØÂèëÈÄÅFINÊä•Êñá„ÄÇServerÁ´ØÊé•Âà∞FINÊä•ÊñáÂêéÔºåÊÑèÊÄùÊòØËØ¥&quot;ÊàëClientÁ´ØÊ≤°ÊúâÊï∞ÊçÆË¶ÅÂèëÁªô‰Ω†‰∫Ü&quot;Ôºå‰ΩÜÊòØÂ¶ÇÊûú‰Ω†ËøòÊúâÊï∞ÊçÆÊ≤°ÊúâÂèëÈÄÅÂÆåÊàêÔºåÂàô‰∏çÂøÖÊÄ•ÁùÄÂÖ≥Èó≠SocketÔºåÂèØ‰ª•ÁªßÁª≠ÂèëÈÄÅÊï∞ÊçÆ„ÄÇÊâÄ‰ª•‰Ω†ÂÖàÂèëÈÄÅACKÔºå&quot;ÂëäËØâClientÁ´ØÔºå‰Ω†ÁöÑËØ∑Ê±ÇÊàëÊî∂Âà∞‰∫ÜÔºå‰ΩÜÊòØÊàëËøòÊ≤°ÂáÜÂ§áÂ•ΩÔºåËØ∑ÁªßÁª≠‰Ω†Á≠âÊàëÁöÑÊ∂àÊÅØ&quot;„ÄÇËøô‰∏™Êó∂ÂÄôClientÁ´ØÂ∞±ËøõÂÖ•FIN_WAITÁä∂ÊÄÅÔºåÁªßÁª≠Á≠âÂæÖServerÁ´ØÁöÑFINÊä•Êñá„ÄÇÂΩìServerÁ´ØÁ°ÆÂÆöÊï∞ÊçÆÂ∑≤ÂèëÈÄÅÂÆåÊàêÔºåÂàôÂêëClientÁ´ØÂèëÈÄÅFINÊä•ÊñáÔºå&quot;ÂëäËØâClientÁ´ØÔºåÂ•Ω‰∫ÜÔºåÊàëËøôËæπÊï∞ÊçÆÂèëÂÆå‰∫ÜÔºåÂáÜÂ§áÂ•ΩÂÖ≥Èó≠ËøûÊé•‰∫Ü&quot;„ÄÇClientÁ´ØÊî∂Âà∞FINÊä•ÊñáÂêéÔºå&quot;Â∞±Áü•ÈÅìÂèØ‰ª•ÂÖ≥Èó≠ËøûÊé•‰∫ÜÔºå‰ΩÜÊòØ‰ªñËøòÊòØ‰∏çÁõ∏‰ø°ÁΩëÁªúÔºåÊÄïServerÁ´Ø‰∏çÁü•ÈÅìË¶ÅÂÖ≥Èó≠ÔºåÊâÄ‰ª•ÂèëÈÄÅACKÂêéËøõÂÖ•TIME_WAITÁä∂ÊÄÅÔºåÂ¶ÇÊûúServerÁ´ØÊ≤°ÊúâÊî∂Âà∞ACKÂàôÂèØ‰ª•Èáç‰º†„ÄÇ&quot;ÔºåServerÁ´ØÊî∂Âà∞ACKÂêéÔºå&quot;Â∞±Áü•ÈÅìÂèØ‰ª•Êñ≠ÂºÄËøûÊé•‰∫Ü&quot;„ÄÇClientÁ´ØÁ≠âÂæÖ‰∫Ü2MSLÂêé‰æùÁÑ∂Ê≤°ÊúâÊî∂Âà∞ÂõûÂ§çÔºåÂàôËØÅÊòéServerÁ´ØÂ∑≤Ê≠£Â∏∏ÂÖ≥Èó≠ÔºåÈÇ£Â•ΩÔºåÊàëClientÁ´Ø‰πüÂèØ‰ª•ÂÖ≥Èó≠ËøûÊé•‰∫Ü„ÄÇOkÔºåTCPËøûÊé•Â∞±ËøôÊ†∑ÂÖ≥Èó≠‰∫ÜÔºÅ‰∏∫‰ªÄ‰πàË¶Å‰∏âÊ¨°Êè°ÊâãÔºüÂú®Âè™Êúâ‰∏§Ê¨°&quot;Êè°Êâã&quot;ÁöÑÊÉÖÂΩ¢‰∏ãÔºåÂÅáËÆæClientÊÉ≥Ë∑üServerÂª∫Á´ãËøûÊé•Ôºå‰ΩÜÊòØÂç¥Âõ†‰∏∫‰∏≠ÈÄîËøûÊé•ËØ∑Ê±ÇÁöÑÊï∞ÊçÆÊä•‰∏¢Â§±‰∫ÜÔºåÊïÖClientÁ´Ø‰∏çÂæó‰∏çÈáçÊñ∞ÂèëÈÄÅ‰∏ÄÈÅçÔºõËøô‰∏™Êó∂ÂÄôServerÁ´Ø‰ªÖÊî∂Âà∞‰∏Ä‰∏™ËøûÊé•ËØ∑Ê±ÇÔºåÂõ†Ê≠§ÂèØ‰ª•Ê≠£Â∏∏ÁöÑÂª∫Á´ãËøûÊé•„ÄÇ‰ΩÜÊòØÔºåÊúâÊó∂ÂÄôClientÁ´ØÈáçÊñ∞ÂèëÈÄÅËØ∑Ê±Ç‰∏çÊòØÂõ†‰∏∫Êï∞ÊçÆÊä•‰∏¢Â§±‰∫ÜÔºåËÄåÊòØÊúâÂèØËÉΩÊï∞ÊçÆ‰º†ËæìËøáÁ®ãÂõ†‰∏∫ÁΩëÁªúÂπ∂ÂèëÈáèÂæàÂ§ßÂú®ÊüêÁªìÁÇπË¢´ÈòªÂ°û‰∫ÜÔºåËøôÁßçÊÉÖÂΩ¢‰∏ãServerÁ´ØÂ∞ÜÂÖàÂêéÊî∂Âà∞2Ê¨°ËØ∑Ê±ÇÔºåÂπ∂ÊåÅÁª≠Á≠âÂæÖ‰∏§‰∏™ClientËØ∑Ê±ÇÂêë‰ªñÂèëÈÄÅÊï∞ÊçÆ...ÈóÆÈ¢òÂ∞±Âú®ËøôÈáåÔºåCientÁ´ØÂÆûÈôÖ‰∏äÂè™Êúâ‰∏ÄÊ¨°ËØ∑Ê±ÇÔºåËÄåServerÁ´ØÂç¥Êúâ2‰∏™ÂìçÂ∫îÔºåÊûÅÁ´ØÁöÑÊÉÖÂÜµÂèØËÉΩÁî±‰∫éClientÁ´ØÂ§öÊ¨°ÈáçÊñ∞ÂèëÈÄÅËØ∑Ê±ÇÊï∞ÊçÆËÄåÂØºËá¥ServerÁ´ØÊúÄÂêéÂª∫Á´ã‰∫ÜNÂ§ö‰∏™ÂìçÂ∫îÂú®Á≠âÂæÖÔºåÂõ†ËÄåÈÄ†ÊàêÊûÅÂ§ßÁöÑËµÑÊ∫êÊµ™Ë¥πÔºÅÊâÄ‰ª•Ôºå&quot;‰∏âÊ¨°Êè°Êâã&quot;ÂæàÊúâÂøÖË¶ÅÔºÅ‰∏∫‰ªÄ‰πàË¶ÅÂõõÊ¨°Êå•ÊâãÔºüËØïÊÉ≥‰∏Ä‰∏ãÔºåÂÅáÂ¶ÇÁé∞Âú®‰Ω†ÊòØÂÆ¢Êà∑Á´Ø‰Ω†ÊÉ≥Êñ≠ÂºÄË∑üServerÁöÑÊâÄÊúâËøûÊé•ËØ•ÊÄé‰πàÂÅöÔºüÁ¨¨‰∏ÄÊ≠•Ôºå‰Ω†Ëá™Â∑±ÂÖàÂÅúÊ≠¢ÂêëServerÁ´ØÂèëÈÄÅÊï∞ÊçÆÔºåÂπ∂Á≠âÂæÖServerÁöÑÂõûÂ§ç„ÄÇ‰ΩÜ‰∫ãÊÉÖËøòÊ≤°ÊúâÂÆåÔºåËôΩÁÑ∂‰Ω†Ëá™Ë∫´‰∏çÂæÄServerÂèëÈÄÅÊï∞ÊçÆ‰∫ÜÔºå‰ΩÜÊòØÂõ†‰∏∫‰Ω†‰ª¨‰πãÂâçÂ∑≤ÁªèÂª∫Á´ãÂ•ΩÂπ≥Á≠âÁöÑËøûÊé•‰∫ÜÔºåÊâÄ‰ª•Ê≠§Êó∂‰ªñ‰πüÊúâ‰∏ªÂä®ÊùÉÂêë‰Ω†ÂèëÈÄÅÊï∞ÊçÆÔºõÊïÖServerÁ´ØËøòÂæóÁªàÊ≠¢‰∏ªÂä®Âêë‰Ω†ÂèëÈÄÅÊï∞ÊçÆÔºåÂπ∂Á≠âÂæÖ‰Ω†ÁöÑÁ°ÆËÆ§„ÄÇÂÖ∂ÂÆûÔºåËØ¥ÁôΩ‰∫ÜÂ∞±ÊòØ‰øùËØÅÂèåÊñπÁöÑ‰∏Ä‰∏™ÂêàÁ∫¶ÁöÑÂÆåÊï¥ÊâßË°åÔºÅ‰ΩøÁî®TCPÁöÑÂçèËÆÆÔºöFTPÔºàÊñá‰ª∂‰º†ËæìÂçèËÆÆÔºâ„ÄÅTelnetÔºàËøúÁ®ãÁôªÂΩïÂçèËÆÆÔºâ„ÄÅSMTPÔºàÁÆÄÂçïÈÇÆ‰ª∂‰º†ËæìÂçèËÆÆÔºâ„ÄÅPOP3ÔºàÂíåSMTPÁõ∏ÂØπÔºåÁî®‰∫éÊé•Êî∂ÈÇÆ 8. UDPÂçèËÆÆ UDPÁî®Êà∑Êï∞ÊçÆÊä•ÂçèËÆÆÔºåÊòØÈù¢ÂêëÊó†ËøûÊé•ÁöÑÈÄöËÆØÂçèËÆÆÔºåUDPÊï∞ÊçÆÂåÖÊã¨ÁõÆÁöÑÁ´ØÂè£Âè∑ÂíåÊ∫êÁ´ØÂè£Âè∑‰ø°ÊÅØÔºåÁî±‰∫éÈÄöËÆØ‰∏çÈúÄË¶ÅËøûÊé•ÔºåÊâÄ‰ª•ÂèØ‰ª•ÂÆûÁé∞ÂπøÊí≠ÂèëÈÄÅ„ÄÇUDPÈÄöËÆØÊó∂‰∏çÈúÄË¶ÅÊé•Êî∂ÊñπÁ°ÆËÆ§ÔºåÂ±û‰∫é‰∏çÂèØÈù†ÁöÑ‰º†ËæìÔºåÂèØËÉΩ‰ºöÂá∫Áé∞‰∏¢ÂåÖÁé∞Ë±°ÔºåÂÆûÈôÖÂ∫îÁî®‰∏≠Ë¶ÅÊ±ÇÁ®ãÂ∫èÂëòÁºñÁ®ãÈ™åËØÅ„ÄÇUDP‰∏éTCP‰Ωç‰∫éÂêå‰∏ÄÂ±ÇÔºå‰ΩÜÂÆÉ‰∏çÁÆ°Êï∞ÊçÆÂåÖÁöÑÈ°∫Â∫è„ÄÅÈîôËØØÊàñÈáçÂèë„ÄÇÂõ†Ê≠§ÔºåUDP‰∏çË¢´Â∫îÁî®‰∫éÈÇ£‰∫õ‰ΩøÁî®ËôöÁîµË∑ØÁöÑÈù¢ÂêëËøûÊé•ÁöÑÊúçÂä°ÔºåUDP‰∏ªË¶ÅÁî®‰∫éÈÇ£‰∫õÈù¢ÂêëÊü•ËØ¢---Â∫îÁ≠îÁöÑÊúçÂä°Ôºå‰æãÂ¶ÇNFS„ÄÇÁõ∏ÂØπ‰∫éFTPÊàñTelnetÔºåËøô‰∫õÊúçÂä°ÈúÄË¶Å‰∫§Êç¢ÁöÑ‰ø°ÊÅØÈáèËæÉÂ∞è„ÄÇÊØè‰∏™UDPÊä•ÊñáÂàÜUDPÊä•Â§¥ÂíåUDPÊï∞ÊçÆÂå∫‰∏§ÈÉ®ÂàÜ„ÄÇÊä•Â§¥Áî±Âõõ‰∏™16‰ΩçÈïøÔºà2Â≠óËäÇÔºâÂ≠óÊÆµÁªÑÊàêÔºåÂàÜÂà´ËØ¥ÊòéËØ•Êä•ÊñáÁöÑÊ∫êÁ´ØÂè£„ÄÅÁõÆÁöÑÁ´ØÂè£„ÄÅÊä•ÊñáÈïøÂ∫¶‰ª•ÂèäÊ†°È™åÂÄº„ÄÇUDPÊä•Â§¥Áî±4‰∏™ÂüüÁªÑÊàêÔºåÂÖ∂‰∏≠ÊØè‰∏™ÂüüÂêÑÂç†Áî®2‰∏™Â≠óËäÇÔºåÂÖ∑‰ΩìÂ¶Ç‰∏ãÔºöÔºà1ÔºâÊ∫êÁ´ØÂè£Âè∑ÔºõÔºà2ÔºâÁõÆÊ†áÁ´ØÂè£Âè∑ÔºõÔºà3ÔºâÊï∞ÊçÆÊä•ÈïøÂ∫¶ÔºõÔºà4ÔºâÊ†°È™åÂÄº„ÄÇ‰ΩøÁî®UDPÂçèËÆÆÂåÖÊã¨ÔºöTFTPÔºàÁÆÄÂçïÊñá‰ª∂‰º†ËæìÂçèËÆÆÔºâ„ÄÅSNMPÔºàÁÆÄÂçïÁΩëÁªúÁÆ°ÁêÜÂçèËÆÆÔºâ„ÄÅDNSÔºàÂüüÂêçËß£ÊûêÂçèËÆÆÔºâ„ÄÅNFS„ÄÅBOOTP„ÄÇTCP ‰∏é UDP ÁöÑÂå∫Âà´ÔºöTCPÊòØÈù¢ÂêëËøûÊé•ÁöÑÔºåÂèØÈù†ÁöÑÂ≠óËäÇÊµÅÊúçÂä°ÔºõUDPÊòØÈù¢ÂêëÊó†ËøûÊé•ÁöÑÔºå‰∏çÂèØÈù†ÁöÑÊï∞ÊçÆÊä•ÊúçÂä°„ÄÇ 9. DNSÂçèËÆÆ DNSÊòØÂüüÂêçÁ≥ªÁªü(DomainNameSystem)ÁöÑÁº©ÂÜôÔºåËØ•Á≥ªÁªüÁî®‰∫éÂëΩÂêçÁªÑÁªáÂà∞ÂüüÂ±ÇÊ¨°ÁªìÊûÑ‰∏≠ÁöÑËÆ°ÁÆóÊú∫ÂíåÁΩëÁªúÊúçÂä°ÔºåÂèØ‰ª•ÁÆÄÂçïÂú∞ÁêÜËß£‰∏∫Â∞ÜURLËΩ¨Êç¢‰∏∫IPÂú∞ÂùÄ„ÄÇÂüüÂêçÊòØÁî±ÂúÜÁÇπÂàÜÂºÄ‰∏Ä‰∏≤ÂçïËØçÊàñÁº©ÂÜôÁªÑÊàêÁöÑÔºåÊØè‰∏Ä‰∏™ÂüüÂêçÈÉΩÂØπÂ∫î‰∏Ä‰∏™ÊÉü‰∏ÄÁöÑIPÂú∞ÂùÄÔºåÂú®Internet‰∏äÂüüÂêç‰∏éIPÂú∞ÂùÄ‰πãÈó¥ÊòØ‰∏Ä‰∏ÄÂØπÂ∫îÁöÑÔºåDNSÂ∞±ÊòØËøõË°åÂüüÂêçËß£ÊûêÁöÑÊúçÂä°Âô®„ÄÇDNSÂëΩÂêçÁî®‰∫éInternetÁ≠âTCP/IPÁΩëÁªú‰∏≠ÔºåÈÄöËøáÁî®Êà∑ÂèãÂ•ΩÁöÑÂêçÁß∞Êü•ÊâæËÆ°ÁÆóÊú∫ÂíåÊúçÂä°„ÄÇ 10. NATÂçèËÆÆ NATÁΩëÁªúÂú∞ÂùÄËΩ¨Êç¢(Network Address Translation)Â±ûÊé•ÂÖ•ÂπøÂüüÁΩë(WAN)ÊäÄÊúØÔºåÊòØ‰∏ÄÁßçÂ∞ÜÁßÅÊúâÔºà‰øùÁïôÔºâÂú∞ÂùÄËΩ¨Âåñ‰∏∫ÂêàÊ≥ïIPÂú∞ÂùÄÁöÑËΩ¨Êç¢ÊäÄÊúØÔºåÂÆÉË¢´ÂπøÊ≥õÂ∫îÁî®‰∫éÂêÑÁßçÁ±ªÂûãInternetÊé•ÂÖ•ÊñπÂºèÂíåÂêÑÁßçÁ±ªÂûãÁöÑÁΩëÁªú‰∏≠„ÄÇÂéüÂõ†ÂæàÁÆÄÂçïÔºåNAT‰∏ç‰ªÖÂÆåÁæéÂú∞Ëß£ÂÜ≥‰∫ÜlPÂú∞ÂùÄ‰∏çË∂≥ÁöÑÈóÆÈ¢òÔºåËÄå‰∏îËøòËÉΩÂ§üÊúâÊïàÂú∞ÈÅøÂÖçÊù•Ëá™ÁΩëÁªúÂ§ñÈÉ®ÁöÑÊîªÂáªÔºåÈöêËóèÂπ∂‰øùÊä§ÁΩëÁªúÂÜÖÈÉ®ÁöÑËÆ°ÁÆóÊú∫„ÄÇ 11. DHCPÂçèËÆÆ DHCPÂä®ÊÄÅ‰∏ªÊú∫ËÆæÁΩÆÂçèËÆÆÔºàDynamic Host Configuration ProtocolÔºâÊòØ‰∏Ä‰∏™Â±ÄÂüüÁΩëÁöÑÁΩëÁªúÂçèËÆÆÔºå‰ΩøÁî®UDPÂçèËÆÆÂ∑•‰ΩúÔºå‰∏ªË¶ÅÊúâ‰∏§‰∏™Áî®ÈÄîÔºöÁªôÂÜÖÈÉ®ÁΩëÁªúÊàñÁΩëÁªúÊúçÂä°‰æõÂ∫îÂïÜËá™Âä®ÂàÜÈÖçIPÂú∞ÂùÄÔºåÁªôÁî®Êà∑ÊàñËÄÖÂÜÖÈÉ®ÁΩëÁªúÁÆ°ÁêÜÂëò‰Ωú‰∏∫ÂØπÊâÄÊúâËÆ°ÁÆóÊú∫‰Ωú‰∏≠Â§ÆÁÆ°ÁêÜÁöÑÊâãÊÆµ„ÄÇ 12. HTTPÂçèËÆÆ Ë∂ÖÊñáÊú¨‰º†ËæìÂçèËÆÆÔºàHTTPÔºåHyperText Transfer Protocol)ÊòØ‰∫íËÅîÁΩë‰∏äÂ∫îÁî®ÊúÄ‰∏∫ÂπøÊ≥õÁöÑ‰∏ÄÁßçÁΩëÁªúÂçèËÆÆ„ÄÇÊâÄÊúâÁöÑWWWÊñá‰ª∂ÈÉΩÂøÖÈ°ªÈÅµÂÆàËøô‰∏™Ê†áÂáÜ„ÄÇ HTTP ÂçèËÆÆÂåÖÊã¨Âì™‰∫õËØ∑Ê±ÇÔºü GETÔºöËØ∑Ê±ÇËØªÂèñÁî±URLÊâÄÊ†áÂøóÁöÑ‰ø°ÊÅØ„ÄÇ POSTÔºöÁªôÊúçÂä°Âô®Ê∑ªÂä†‰ø°ÊÅØÔºàÂ¶ÇÊ≥®ÈáäÔºâ„ÄÇ PUTÔºöÂú®ÁªôÂÆöÁöÑURL‰∏ãÂ≠òÂÇ®‰∏Ä‰∏™ÊñáÊ°£„ÄÇ DELETEÔºöÂà†Èô§ÁªôÂÆöÁöÑURLÊâÄÊ†áÂøóÁöÑËµÑÊ∫ê„ÄÇ HTTP ‰∏≠Ôºå POST ‰∏é GET ÁöÑÂå∫Âà´ 1ÔºâGetÊòØ‰ªéÊúçÂä°Âô®‰∏äËé∑ÂèñÊï∞ÊçÆÔºåPostÊòØÂêëÊúçÂä°Âô®‰º†ÈÄÅÊï∞ÊçÆ„ÄÇ 2ÔºâGetÊòØÊääÂèÇÊï∞Êï∞ÊçÆÈòüÂàóÂä†Âà∞Êèê‰∫§Ë°®ÂçïÁöÑActionÂ±ûÊÄßÊâÄÊåáÂêëÁöÑURL‰∏≠ÔºåÂÄºÂíåË°®ÂçïÂÜÖÂêÑ‰∏™Â≠óÊÆµ‰∏Ä‰∏ÄÂØπÂ∫îÔºåÂú®URL‰∏≠ÂèØ‰ª•ÁúãÂà∞„ÄÇ 3ÔºâGet‰º†ÈÄÅÁöÑÊï∞ÊçÆÈáèÂ∞èÔºå‰∏çËÉΩÂ§ß‰∫é2KBÔºõPost‰º†ÈÄÅÁöÑÊï∞ÊçÆÈáèËæÉÂ§ßÔºå‰∏ÄËà¨Ë¢´ÈªòËÆ§‰∏∫‰∏çÂèóÈôêÂà∂„ÄÇ 4ÔºâÊ†πÊçÆHTTPËßÑËåÉÔºåGETÁî®‰∫é‰ø°ÊÅØËé∑ÂèñÔºåËÄå‰∏îÂ∫îËØ•ÊòØÂÆâÂÖ®ÁöÑÂíåÂπÇÁ≠âÁöÑ„ÄÇ I. ÊâÄË∞ì ÂÆâÂÖ®ÁöÑ ÊÑèÂë≥ÁùÄËØ•Êìç‰ΩúÁî®‰∫éËé∑Âèñ‰ø°ÊÅØËÄåÈùû‰øÆÊîπ‰ø°ÊÅØ„ÄÇÊç¢Âè•ËØùËØ¥ÔºåGETËØ∑Ê±Ç‰∏ÄËà¨‰∏çÂ∫î‰∫ßÁîüÂâØ‰ΩúÁî®„ÄÇÂ∞±ÊòØËØ¥ÔºåÂÆÉ‰ªÖ‰ªÖÊòØËé∑ÂèñËµÑÊ∫ê‰ø°ÊÅØÔºåÂ∞±ÂÉèÊï∞ÊçÆÂ∫ìÊü•ËØ¢‰∏ÄÊ†∑Ôºå‰∏ç‰ºö‰øÆÊîπÔºåÂ¢ûÂä†Êï∞ÊçÆÔºå‰∏ç‰ºöÂΩ±ÂìçËµÑÊ∫êÁöÑÁä∂ÊÄÅ„ÄÇ II. ÂπÇÁ≠â ÁöÑÊÑèÂë≥ÁùÄÂØπÂêå‰∏ÄURLÁöÑÂ§ö‰∏™ËØ∑Ê±ÇÂ∫îËØ•ËøîÂõûÂêåÊ†∑ÁöÑÁªìÊûú„ÄÇ HTTP ÂçèËÆÆÁöÑ 8 ÁßçËØ∑Ê±ÇÁ±ªÂûã‰ªãÁªç HTTP ÂçèËÆÆ‰∏≠ÂÖ±ÂÆö‰πâ‰∫ÜÂÖ´ÁßçÊñπÊ≥ïÊàñËÄÖÂè´‚ÄúÂä®‰Ωú‚ÄùÊù•Ë°®ÊòéÂØπ Request-URI ÊåáÂÆöÁöÑËµÑÊ∫êÁöÑ‰∏çÂêåÊìç‰ΩúÊñπÂºèÔºåÂÖ∑‰Ωì‰ªãÁªçÂ¶Ç‰∏ãÔºö OPTIONSÔºöËøîÂõûÊúçÂä°Âô®ÈíàÂØπÁâπÂÆöËµÑÊ∫êÊâÄÊîØÊåÅÁöÑHTTPËØ∑Ê±ÇÊñπÊ≥ï„ÄÇ‰πüÂèØ‰ª•Âà©Áî®ÂêëWebÊúçÂä°Âô®ÂèëÈÄÅ'*'ÁöÑËØ∑Ê±ÇÊù•ÊµãËØïÊúçÂä°Âô®ÁöÑÂäüËÉΩÊÄß„ÄÇ HEADÔºöÂêëÊúçÂä°Âô®Á¥¢Ë¶Å‰∏éGETËØ∑Ê±ÇÁõ∏‰∏ÄËá¥ÁöÑÂìçÂ∫îÔºåÂè™‰∏çËøáÂìçÂ∫î‰ΩìÂ∞Ü‰∏ç‰ºöË¢´ËøîÂõû„ÄÇËøô‰∏ÄÊñπÊ≥ïÂèØ‰ª•Âú®‰∏çÂøÖ‰º†ËæìÊï¥‰∏™ÂìçÂ∫îÂÜÖÂÆπÁöÑÊÉÖÂÜµ‰∏ãÔºåÂ∞±ÂèØ‰ª•Ëé∑ÂèñÂåÖÂê´Âú®ÂìçÂ∫îÊ∂àÊÅØÂ§¥‰∏≠ÁöÑÂÖÉ‰ø°ÊÅØ„ÄÇ GETÔºöÂêëÁâπÂÆöÁöÑËµÑÊ∫êÂèëÂá∫ËØ∑Ê±Ç„ÄÇ POSTÔºöÂêëÊåáÂÆöËµÑÊ∫êÊèê‰∫§Êï∞ÊçÆËøõË°åÂ§ÑÁêÜËØ∑Ê±ÇÔºà‰æãÂ¶ÇÊèê‰∫§Ë°®ÂçïÊàñËÄÖ‰∏ä‰º†Êñá‰ª∂Ôºâ„ÄÇÊï∞ÊçÆË¢´ÂåÖÂê´Âú®ËØ∑Ê±Ç‰Ωì‰∏≠„ÄÇPOSTËØ∑Ê±ÇÂèØËÉΩ‰ºöÂØºËá¥Êñ∞ÁöÑËµÑÊ∫êÁöÑÂàõÂª∫Âíå/ÊàñÂ∑≤ÊúâËµÑÊ∫êÁöÑ‰øÆÊîπ„ÄÇ PUTÔºöÂêëÊåáÂÆöËµÑÊ∫ê‰ΩçÁΩÆ‰∏ä‰º†ÂÖ∂ÊúÄÊñ∞ÂÜÖÂÆπ„ÄÇ DELETEÔºöËØ∑Ê±ÇÊúçÂä°Âô®Âà†Èô§ Request-URI ÊâÄÊ†áËØÜÁöÑËµÑÊ∫ê„ÄÇ TRACEÔºöÂõûÊòæÊúçÂä°Âô®Êî∂Âà∞ÁöÑËØ∑Ê±ÇÔºå‰∏ªË¶ÅÁî®‰∫éÊµãËØïÊàñËØäÊñ≠„ÄÇ CONNECTÔºöHTTP/1.1 ÂçèËÆÆ‰∏≠È¢ÑÁïôÁªôËÉΩÂ§üÂ∞ÜËøûÊé•Êîπ‰∏∫ÁÆ°ÈÅìÊñπÂºèÁöÑ‰ª£ÁêÜÊúçÂä°Âô®„ÄÇ ËôΩÁÑ∂ HTTP ÁöÑËØ∑Ê±ÇÊñπÂºèÊúâ 8 ÁßçÔºå‰ΩÜÊòØÊàë‰ª¨Âú®ÂÆûÈôÖÂ∫îÁî®‰∏≠Â∏∏Áî®ÁöÑ‰πüÂ∞±ÊòØ get Âíå postÔºåÂÖ∂‰ªñËØ∑Ê±ÇÊñπÂºè‰πüÈÉΩÂèØ‰ª•ÈÄöËøáËøô‰∏§ÁßçÊñπÂºèÈó¥Êé•ÁöÑÊù•ÂÆûÁé∞„ÄÇ ÁΩëÁªúÂ∏∏Áî®ÂèÇÊï∞ Content-Type Ê†ºÂºèÔºöContent-TypeÔºötype/subtype ;parameter typeÔºö‰∏ªÁ±ªÂûãÔºå‰ªªÊÑèÁöÑÂ≠óÁ¨¶‰∏≤ÔºåÂ¶ÇtextÔºåÂ¶ÇÊûúÊòØ*Âè∑‰ª£Ë°®ÊâÄÊúâÔºõ subtypeÔºöÂ≠êÁ±ªÂûãÔºå‰ªªÊÑèÁöÑÂ≠óÁ¨¶‰∏≤ÔºåÂ¶ÇhtmlÔºåÂ¶ÇÊûúÊòØ*Âè∑‰ª£Ë°®ÊâÄÊúâÔºåÁî®‚Äú/‚Äù‰∏é‰∏ªÁ±ªÂûãÈöîÂºÄÔºõ parameterÔºöÂèØÈÄâÂèÇÊï∞ÔºåÂ¶ÇcharsetÔºåboundaryÁ≠â„ÄÇ ÂèÇËÄÉÔºö1„ÄÅ2 Â∏∏ËßÅÁöÑÂ™í‰ΩìÊ†ºÂºèÁ±ªÂûãÂ¶Ç‰∏ãÔºö text/html Ôºö HTMLÊ†ºÂºè text/plain ÔºöÁ∫ØÊñáÊú¨Ê†ºÂºè text/xml Ôºö XMLÊ†ºÂºè image/gif ÔºögifÂõæÁâáÊ†ºÂºè image/jpeg ÔºöjpgÂõæÁâáÊ†ºÂºè image/pngÔºöpngÂõæÁâáÊ†ºÂºè ‰ª•applicationÂºÄÂ§¥ÁöÑÂ™í‰ΩìÊ†ºÂºèÁ±ªÂûãÔºö application/xhtml+xml ÔºöXHTMLÊ†ºÂºè application/xmlÔºö XMLÊï∞ÊçÆÊ†ºÂºè application/atom+xml ÔºöAtom XMLËÅöÂêàÊ†ºÂºè application/jsonÔºö JSONÊï∞ÊçÆÊ†ºÂºè application/pdfÔºöpdfÊ†ºÂºè application/msword Ôºö WordÊñáÊ°£Ê†ºÂºè application/octet-stream Ôºö ‰∫åËøõÂà∂ÊµÅÊï∞ÊçÆÔºàÂ¶ÇÂ∏∏ËßÅÁöÑÊñá‰ª∂‰∏ãËΩΩÔºâ application/x-www-form-urlencoded Ôºö &lt;-form encType=&quot;&quot;&gt;‰∏≠ÈªòËÆ§ÁöÑencTypeÔºåformË°®ÂçïÊï∞ÊçÆË¢´ÁºñÁ†Å‰∏∫key1=val1&amp;key2=val2Ê†ºÂºèÂèëÈÄÅÂà∞ÊúçÂä°Âô®ÔºàË°®ÂçïÈªòËÆ§ÁöÑÊèê‰∫§Êï∞ÊçÆÁöÑÊ†ºÂºèÔºâ Âè¶Â§ñ‰∏ÄÁßçÂ∏∏ËßÅÁöÑÂ™í‰ΩìÊ†ºÂºèÊòØ‰∏ä‰º†Êñá‰ª∂‰πãÊó∂‰ΩøÁî®ÁöÑÔºö multipart/form-data Ôºö ÈúÄË¶ÅÂú®Ë°®Âçï‰∏≠ËøõË°åÊñá‰ª∂‰∏ä‰º†Êó∂ÔºåÂ∞±ÈúÄË¶Å‰ΩøÁî®ËØ•Ê†ºÂºè 13. ‰∏Ä‰∏™‰∏æ‰æã Âú®ÊµèËßàÂô®‰∏≠ËæìÂÖ• http://www.baidu.com/ ÂêéÊâßË°åÁöÑÂÖ®ÈÉ®ËøáÁ®ã„ÄÇÁé∞Âú®ÂÅáËÆæÂ¶ÇÊûúÊàë‰ª¨Âú®ÂÆ¢Êà∑Á´ØÔºàÂÆ¢Êà∑Á´ØÔºâÊµèËßàÂô®‰∏≠ËæìÂÖ• http://www.baidu.comÔºå ËÄå baidu.com ‰∏∫Ë¶ÅËÆøÈóÆÁöÑÊúçÂä°Âô®ÔºàÊúçÂä°Âô®ÔºâÔºå‰∏ãÈù¢ËØ¶ÁªÜÂàÜÊûêÂÆ¢Êà∑Á´Ø‰∏∫‰∫ÜËÆøÈóÆÊúçÂä°Âô®ËÄåÊâßË°åÁöÑ‰∏ÄÁ≥ªÂàóÂÖ≥‰∫éÂçèËÆÆÁöÑÊìç‰ΩúÔºö1ÔºâÂÆ¢Êà∑Á´ØÊµèËßàÂô®ÈÄöËøáDNSËß£ÊûêÂà∞www.baidu.comÁöÑIPÂú∞ÂùÄ220.181.27.48ÔºåÈÄöËøáËøô‰∏™IPÂú∞ÂùÄÊâæÂà∞ÂÆ¢Êà∑Á´ØÂà∞ÊúçÂä°Âô®ÁöÑË∑ØÂæÑ„ÄÇÂÆ¢Êà∑Á´ØÊµèËßàÂô®ÂèëËµ∑‰∏Ä‰∏™HTTP‰ºöËØùÂà∞220.161.27.48ÔºåÁÑ∂ÂêéÈÄöËøáTCPËøõË°åÂ∞ÅË£ÖÊï∞ÊçÆÂåÖÔºåËæìÂÖ•Âà∞ÁΩëÁªúÂ±Ç„ÄÇ2ÔºâÂú®ÂÆ¢Êà∑Á´ØÁöÑ‰º†ËæìÂ±ÇÔºåÊääHTTP‰ºöËØùËØ∑Ê±ÇÂàÜÊàêÊä•ÊñáÊÆµÔºåÊ∑ªÂä†Ê∫êÂíåÁõÆÁöÑÁ´ØÂè£ÔºåÂ¶ÇÊúçÂä°Âô®‰ΩøÁî®80Á´ØÂè£ÁõëÂê¨ÂÆ¢Êà∑Á´ØÁöÑËØ∑Ê±ÇÔºåÂÆ¢Êà∑Á´ØÁî±Á≥ªÁªüÈöèÊú∫ÈÄâÊã©‰∏Ä‰∏™Á´ØÂè£Â¶Ç5000Ôºå‰∏éÊúçÂä°Âô®ËøõË°å‰∫§Êç¢ÔºåÊúçÂä°Âô®ÊääÁõ∏Â∫îÁöÑËØ∑Ê±ÇËøîÂõûÁªôÂÆ¢Êà∑Á´ØÁöÑ5000Á´ØÂè£„ÄÇÁÑ∂Âêé‰ΩøÁî®IPÂ±ÇÁöÑIPÂú∞ÂùÄÊü•ÊâæÁõÆÁöÑÁ´Ø„ÄÇ3ÔºâÂÆ¢Êà∑Á´ØÁöÑÁΩëÁªúÂ±Ç‰∏çÁî®ÂÖ≥Á≥ªÂ∫îÁî®Â±ÇÊàñËÄÖ‰º†ËæìÂ±ÇÁöÑ‰∏úË•øÔºå‰∏ªË¶ÅÂÅöÁöÑÊòØÈÄöËøáÊü•ÊâæË∑ØÁî±Ë°®Á°ÆÂÆöÂ¶Ç‰ΩïÂà∞ËææÊúçÂä°Âô®ÔºåÊúüÈó¥ÂèØËÉΩÁªèËøáÂ§ö‰∏™Ë∑ØÁî±Âô®ÔºåËøô‰∫õÈÉΩÊòØÁî±Ë∑ØÁî±Âô®Êù•ÂÆåÊàêÁöÑÂ∑•‰ΩúÔºå‰∏ç‰ΩúËøáÂ§öÁöÑÊèèËø∞ÔºåÊó†ÈùûÂ∞±ÊòØÈÄöËøáÊü•ÊâæË∑ØÁî±Ë°®ÂÜ≥ÂÆöÈÄöËøáÈÇ£‰∏™Ë∑ØÂæÑÂà∞ËææÊúçÂä°Âô®„ÄÇ4ÔºâÂÆ¢Êà∑Á´ØÁöÑÈìæË∑ØÂ±ÇÔºåÂåÖÈÄöËøáÈìæË∑ØÂ±ÇÂèëÈÄÅÂà∞Ë∑ØÁî±Âô®ÔºåÈÄöËøáÈÇªÂ±ÖÂçèËÆÆÊü•ÊâæÁªôÂÆöIPÂú∞ÂùÄÁöÑMACÂú∞ÂùÄÔºåÁÑ∂ÂêéÂèëÈÄÅARPËØ∑Ê±ÇÊü•ÊâæÁõÆÁöÑÂú∞ÂùÄÔºåÂ¶ÇÊûúÂæóÂà∞ÂõûÂ∫îÂêéÂ∞±ÂèØ‰ª•‰ΩøÁî®ARPÁöÑËØ∑Ê±ÇÂ∫îÁ≠î‰∫§Êç¢ÁöÑIPÊï∞ÊçÆÂåÖÁé∞Âú®Â∞±ÂèØ‰ª•‰º†Ëæì‰∫ÜÔºåÁÑ∂ÂêéÂèëÈÄÅIPÊï∞ÊçÆÂåÖÂà∞ËææÊúçÂä°Âô®ÁöÑÂú∞ÂùÄ„ÄÇ 14.TCP‰∏âÊ¨°Êè°Êâã/ÂõõÊ¨°Êå•Êâã TCP TCPÂ§¥ÈÉ®‰∏∫20Â≠óËäÇ Ê∫êÁ´ØÂè£Âè∑Ôºà16‰ΩçÔºâÂíåÁõÆÁöÑÁ´ØÂè£Âè∑Ôºà16‰ΩçÔºâÔºöÂÜçÂä†‰∏äIpÈ¶ñÈÉ®ÁöÑÊ∫êIPÂú∞ÂùÄÂíåÁõÆÁöÑIPÂú∞ÂùÄÂèØ‰ª•ÂîØ‰∏ÄÁ°ÆÂÆö‰∏Ä‰∏™TCPËøûÊé• Êï∞ÊçÆÂ∫èÂè∑Ôºà16‰ΩçÔºâÔºöË°®Á§∫Âú®Ëøô‰∏™Êä•ÊñáÊÆµ‰∏≠ÁöÑÁ¨¨‰∏Ä‰∏™Êï∞ÊçÆÂ≠óËäÇÂ∫èÂè∑ Á°ÆËÆ§Â∫èÂè∑Ôºö‰ªÖÂΩìACKÊ†áÂøó‰∏∫1Êó∂ÊúâÊïàÔºåÁ°ÆËÆ§Âè∑Ë°®Á§∫ÊúüÊúõÊî∂Âà∞ÁöÑ‰∏ã‰∏Ä‰∏™Â≠óËäÇÁöÑÂ∫èÂè∑ ÂÅèÁßªÔºöÂ∞±ÊòØÂ§¥ÈÉ®ÈïøÂ∫¶ÔºåÊúâ4‰ΩçÔºåË∑üIPÂ§¥ÈÉ®‰∏ÄÊ†∑Ôºå‰ª•4Â≠óËäÇ‰∏∫Âçï‰Ωç„ÄÇÊúÄÂ§ßÊòØ60‰∏™Â≠óËäÇ ‰øùÁïô‰ΩçÔºö6‰ΩçÔºåÂøÖÈ°ª‰∏∫0 6‰∏™Ê†áÂøó‰ΩçÔºöURG-Á¥ßÊÄ•ÊåáÈíàÊúâÊïàÔºõACK-Á°ÆËÆ§Â∫èÂè∑ÊúâÊïàÔºõPSH-Êé•Êî∂ÊñπÂ∫îÂ∞ΩÂø´Â∞ÜËøô‰∏™Êä•Êñá‰∫§ÁªôÂ∫îÁî®Â±ÇÔºõRST-ËøûÊé•ÈáçÁΩÆÔºõSYN-ÂêåÊ≠•Â∫èÂè∑Áî®Êù•ÂèëËµ∑‰∏Ä‰∏™ËøûÊé•ÔºõFIN-ÁªàÊ≠¢‰∏Ä‰∏™ËøûÊé•„ÄÇ Á™óÂè£Â≠óÊÆµÔºö16‰ΩçÔºå‰ª£Ë°®ÁöÑÊòØÁ™óÂè£ÁöÑÂ≠óËäÇÂÆπÈáèÔºå‰πüÂ∞±ÊòØTCPÁöÑÊ†áÂáÜÁ™óÂè£ÊúÄÂ§ß‰∏∫2^16 - 1 = 65535‰∏™Â≠óËäÇ Ê†°È™åÂíåÔºöÊ∫êÊú∫Âô®Âü∫‰∫éÊï∞ÊçÆÂÜÖÂÆπËÆ°ÁÆó‰∏Ä‰∏™Êï∞ÂÄºÔºåÊî∂‰ø°ÊÅØÊú∫Ë¶Å‰∏éÊ∫êÊú∫Âô®Êï∞ÂÄºÁªìÊûúÂÆåÂÖ®‰∏ÄÊ†∑Ôºå‰ªéËÄåËØÅÊòéÊï∞ÊçÆÁöÑÊúâÊïàÊÄß„ÄÇÊ£ÄÈ™åÂíåË¶ÜÁõñ‰∫ÜÊï¥‰∏™ÁöÑTCPÊä•ÊñáÊÆµÔºöËøôÊòØ‰∏Ä‰∏™Âº∫Âà∂ÊÄßÁöÑÂ≠óÊÆµÔºå‰∏ÄÂÆöÊòØÁî±ÂèëÈÄÅÁ´ØËÆ°ÁÆóÂíåÂ≠òÂÇ®ÔºåÂπ∂Áî±Êé•Êî∂Á´ØËøõË°åÈ™åËØÅÁöÑ„ÄÇ TCP ‰∏âÊ¨°Êè°Êâã ‰∏∫‰∫Ü‰øùËØÅÊï∞ÊçÆËÉΩÂà∞ËææÁõÆÊ†áÔºåTCPÈááÁî®‰∏âÊ¨°Êè°ÊâãÁ≠ñÁï•„ÄÇ ÂèëÈÄÅÁ´ØÈ¶ñÂÖàÂèëÈÄÅ‰∏Ä‰∏™Â∏¶SYNÔºàsynchronizeÔºâÊ†áÂøóÁöÑÊï∞ÊçÆÂåÖÁªôÊé•Êî∂Êñπ„ÄêÁ¨¨‰∏ÄÊ¨°ÁöÑseqÂ∫èÂàóÂè∑ÊòØÈöèÊú∫‰∫ßÁîüÁöÑÔºåËøôÊ†∑ÊòØ‰∏∫‰∫ÜÁΩëÁªúÂÆâÂÖ®ÔºåÂ¶ÇÊûú‰∏çÊòØÈöèÊú∫‰∫ßÁîüÂàùÂßãÂ∫èÂàóÂè∑ÔºåÈªëÂÆ¢Â∞Ü‰ºö‰ª•ÂæàÂÆπÊòìÁöÑÊñπÂºèËé∑ÂèñÂà∞‰Ω†‰∏éÂÖ∂‰ªñ‰∏ªÊú∫‰πãÈó¥ÁöÑÂàùÂßãÂåñÂ∫èÂàóÂè∑ÔºåÂπ∂‰∏î‰º™ÈÄ†Â∫èÂàóÂè∑ËøõË°åÊîªÂáª„Äë Êé•Êî∂Á´ØÊî∂Âà∞ÂêéÔºåÂõû‰º†‰∏Ä‰∏™Â∏¶ÊúâSYN/ACKÔºàacknowledgementÔºâÊ†áÂøóÁöÑÊï∞ÊçÆÂåÖ‰ª•Á§∫‰º†ËææÁ°ÆËÆ§‰ø°ÊÅØ„ÄêSYN ÊòØ‰∏∫‰∫ÜÂëäËØâÂèëÈÄÅÁ´ØÔºåÂèëÈÄÅÊñπÂà∞Êé•Êî∂ÊñπÁöÑÈÄöÈÅìÊ≤°ÈóÆÈ¢òÔºõACK Áî®Êù•È™åËØÅÊé•Êî∂ÊñπÂà∞ÂèëÈÄÅÊñπÁöÑÈÄöÈÅìÊ≤°ÈóÆÈ¢ò„Äë ÊúÄÂêéÔºåÂèëÈÄÅÁ´ØÂÜçÂõû‰º†‰∏Ä‰∏™Â∏¶ACKÊ†áÂøóÁöÑÊï∞ÊçÆÂåÖÔºå‰ª£Ë°®Êè°ÊâãÁªìÊùü Ëã•Âú®Êè°ÊâãÊüê‰∏™ËøáÁ®ã‰∏≠Êüê‰∏™Èò∂ÊÆµËé´Âêç‰∏≠Êñ≠ÔºåTCPÂçèËÆÆ‰ºöÂÜçÊ¨°‰ª•Áõ∏ÂêåÁöÑÈ°∫Â∫èÂèëÈÄÅÁõ∏ÂêåÁöÑÊï∞ÊçÆÂåÖ QÔºö‰∏∫‰ªÄ‰πàË¶Å‰∏âÊ¨°Êè°ÊâãÔºü ‰∏âÊ¨°Êè°ÊâãÁöÑÁõÆÁöÑÊòØÂª∫Á´ãÂèØÈù†ÁöÑÈÄö‰ø°‰ø°ÈÅìÔºåËØ¥Âà∞ÈÄöËÆØÔºåÁÆÄÂçïÊù•ËØ¥Â∞±ÊòØÊï∞ÊçÆÁöÑÂèëÈÄÅ‰∏éÊé•Êî∂ÔºåËÄå‰∏âÊ¨°Êè°ÊâãÊúÄ‰∏ªË¶ÅÁöÑÁõÆÁöÑÂ∞±ÊòØÂèåÊñπÁ°ÆËÆ§Ëá™Â∑±‰∏éÂØπÊñπÁöÑÂèëÈÄÅ‰∏éÊé•Êî∂ÊòØÊ≠£Â∏∏ÁöÑ Á¨¨‰∏ÄÊ¨°Êè°ÊâãÔºåÂèëÈÄÅÁ´ØÔºö‰ªÄ‰πàÈÉΩÁ°ÆËÆ§‰∏ç‰∫ÜÔºõÊé•Êî∂Á´ØÔºöÂØπÊñπÂèëÈÄÅÊ≠£Â∏∏ÔºåËá™Â∑±Êé•ÂèóÊ≠£Â∏∏ Á¨¨‰∫åÊ¨°Êè°ÊâãÔºåÂèëÈÄÅÁ´ØÔºöÂØπÊñπÂèëÈÄÅÔºåÊé•ÂèóÊ≠£Â∏∏ÔºåËá™Â∑±ÂèëÈÄÅÔºåÊé•ÂèóÊ≠£Â∏∏ ÔºõÊé•Êî∂Á´ØÔºöÂØπÊñπÂèëÈÄÅÊ≠£Â∏∏ÔºåËá™Â∑±Êé•ÂèóÊ≠£Â∏∏ Á¨¨‰∏âÊ¨°Êè°ÊâãÔºåÂèëÈÄÅÁ´ØÔºöÂØπÊñπÂèëÈÄÅÔºåÊé•ÂèóÊ≠£Â∏∏ÔºåËá™Â∑±ÂèëÈÄÅÔºåÊé•ÂèóÊ≠£Â∏∏ÔºõÊé•Êî∂Á´ØÔºöÂØπÊñπÂèëÈÄÅÔºåÊé•ÂèóÊ≠£Â∏∏ÔºåËá™Â∑±ÂèëÈÄÅÔºåÊé•ÂèóÊ≠£Â∏∏ QÔºö‰∏§Ê¨°Êè°Êâã‰∏çË°åÂêóÔºü‰∏∫‰ªÄ‰πàTCPÂÆ¢Êà∑Á´ØÊúÄÂêéËøòË¶ÅÂèëÈÄÅ‰∏ÄÊ¨°Á°ÆËÆ§Âë¢Ôºü ‰∏ªË¶ÅÈò≤Ê≠¢Â∑≤ÁªèÂ§±ÊïàÁöÑËøûÊé•ËØ∑Ê±ÇÊä•ÊñáÁ™ÅÁÑ∂Âèà‰º†ÈÄÅÂà∞‰∫ÜÊúçÂä°Âô®Ôºå‰ªéËÄå‰∫ßÁîüÈîôËØØ„ÄÇ ÁªèÂÖ∏Âú∫ÊôØÔºöÂÆ¢Êà∑Á´ØÂèëÈÄÅ‰∫ÜÁ¨¨‰∏Ä‰∏™ËØ∑Ê±ÇËøûÊé•Âπ∂‰∏îÊ≤°Êúâ‰∏¢Â§±ÔºåÂè™ÊòØÂõ†‰∏∫Âú®ÁΩëÁªúÁªìÁÇπ‰∏≠ÊªûÁïôÁöÑÊó∂Èó¥Â§™Èïø‰∫Ü Áî±‰∫éTCPÁöÑÂÆ¢Êà∑Á´ØËøüËøüÊ≤°ÊúâÊî∂Âà∞Á°ÆËÆ§Êä•ÊñáÔºå‰ª•‰∏∫ÊúçÂä°Âô®Ê≤°ÊúâÊî∂Âà∞ÔºåÊ≠§Êó∂ÈáçÊñ∞ÂêëÊúçÂä°Âô®ÂèëÈÄÅËøôÊù°Êä•ÊñáÔºåÊ≠§ÂêéÂÆ¢Êà∑Á´ØÂíåÊúçÂä°Âô®ÁªèËøá‰∏§Ê¨°Êè°ÊâãÂÆåÊàêËøûÊé•Ôºå‰º†ËæìÊï∞ÊçÆÔºåÁÑ∂ÂêéÂÖ≥Èó≠ËøûÊé•„ÄÇ Ê≠§Êó∂Ê≠§ÂâçÊªûÁïôÁöÑÈÇ£‰∏ÄÊ¨°ËØ∑Ê±ÇËøûÊé•ÔºåÁΩëÁªúÈÄöÁïÖ‰∫ÜÂà∞ËææÊúçÂä°Âô®ÔºåËøô‰∏™Êä•ÊñáÊú¨ËØ•ÊòØÂ§±ÊïàÁöÑÔºå‰ΩÜÊòØÔºå‰∏§Ê¨°Êè°ÊâãÁöÑÊú∫Âà∂Â∞Ü‰ºöËÆ©ÂÆ¢Êà∑Á´ØÂíåÊúçÂä°Âô®ÂÜçÊ¨°Âª∫Á´ãËøûÊé•ÔºåËøôÂ∞ÜÂØºËá¥‰∏çÂøÖË¶ÅÁöÑÈîôËØØÂíåËµÑÊ∫êÁöÑÊµ™Ë¥π„ÄÇ Â¶ÇÊûúÈááÁî®ÁöÑÊòØ‰∏âÊ¨°Êè°ÊâãÔºåÂ∞±ÁÆóÊòØÈÇ£‰∏ÄÊ¨°Â§±ÊïàÁöÑÊä•Êñá‰º†ÈÄÅËøáÊù•‰∫ÜÔºåÊúçÂä°Á´ØÊé•ÂèóÂà∞‰∫ÜÈÇ£Êù°Â§±ÊïàÊä•ÊñáÂπ∂‰∏îÂõûÂ§ç‰∫ÜÁ°ÆËÆ§Êä•ÊñáÔºå‰ΩÜÊòØÂÆ¢Êà∑Á´Ø‰∏ç‰ºöÂÜçÊ¨°ÂèëÂá∫Á°ÆËÆ§„ÄÇÁî±‰∫éÊúçÂä°Âô®Êî∂‰∏çÂà∞Á°ÆËÆ§ÔºåÂ∞±Áü•ÈÅìÂÆ¢Êà∑Á´ØÂπ∂Ê≤°ÊúâËØ∑Ê±ÇËøûÊé•„ÄÇ QÔºö‰∏∫‰ªÄ‰πà‰∏âÊ¨°Êè°ÊâãÔºåËøîÂõûÊó∂Ôºåack ÂÄºÊòØ seq Âä† 1Ôºàack = x+1Ôºâ ÂÅáËÆæÂØπÊñπÊé•Êî∂Âà∞Êï∞ÊçÆÔºåÊØîÂ¶Çsequence number = 1000ÔºåTCP Payload = 1000ÔºåÊï∞ÊçÆÁ¨¨‰∏Ä‰∏™Â≠óËäÇÁºñÂè∑‰∏∫1000ÔºåÊúÄÂêé‰∏Ä‰∏™‰∏∫1999ÔºåÂõûÂ∫î‰∏Ä‰∏™Á°ÆËÆ§Êä•ÊñáÔºåÁ°ÆËÆ§Âè∑‰∏∫2000ÔºåÊÑèÂë≥ÁùÄÁºñÂè∑2000ÂâçÁöÑÂ≠óËäÇÊé•Êî∂ÂÆåÊàêÔºåÂáÜÂ§áÊé•Êî∂ÁºñÂè∑‰∏∫2000ÂèäÊõ¥Â§öÁöÑÊï∞ÊçÆ Á°ÆËÆ§Êî∂Âà∞ÁöÑÂ∫èÂàóÔºåÂπ∂‰∏îÂëäËØâÂèëÈÄÅÁ´Ø‰∏ã‰∏ÄÊ¨°ÂèëÈÄÅÁöÑÂ∫èÂàóÂè∑‰ªéÂì™ÈáåÂºÄÂßãÔºà‰æø‰∫éÊé•Êî∂ÊñπÂØπÊï∞ÊçÆÊéíÂ∫èÔºå‰æø‰∫éÈÄâÊã©Èáç‰º†Ôºâ QÔºöSYNÊ¥™Ê≥õÊîªÂáª(SYN FloodÔºåÂçäÂºÄÊîæÊîªÂáª)ÔºåÊÄé‰πàËß£ÂÜ≥Ôºü ‰ªÄ‰πàÊòØSYNÊ¥™ËåÉÊ≥õÊîªÂáªÔºü SYN FloodÂà©Áî®TCPÂçèËÆÆÁº∫Èô∑ÔºåÂèëÈÄÅÂ§ßÈáè‰º™ÈÄ†ÁöÑTCPËøûÊé•ËØ∑Ê±ÇÔºåÂ∏∏Áî®ÂÅáÂÜíÁöÑIPÊàñIPÂè∑ÊÆµÂèëÊù•Êµ∑ÈáèÁöÑËØ∑Ê±ÇËøûÊé•ÁöÑÁ¨¨‰∏Ä‰∏™Êè°ÊâãÂåÖÔºàSYNÂåÖÔºâÔºåË¢´ÊîªÂáªÊúçÂä°Âô®ÂõûÂ∫îÁ¨¨‰∫å‰∏™Êè°ÊâãÂåÖÔºàSYN+ACKÂåÖÔºâÔºåÂõ†‰∏∫ÂØπÊñπÊòØÂÅáÂÜíIPÔºåÂØπÊñπÊ∞∏ËøúÊî∂‰∏çÂà∞ÂåÖ‰∏î‰∏ç‰ºöÂõûÂ∫îÁ¨¨‰∏â‰∏™Êè°ÊâãÂåÖ„ÄÇÂØºËá¥Ë¢´ÊîªÂáªÊúçÂä°Âô®‰øùÊåÅÂ§ßÈáèSYN_RECVÁä∂ÊÄÅÁöÑ‚ÄúÂçäËøûÊé•‚ÄùÔºåÂπ∂‰∏î‰ºöÈáçËØïÈªòËÆ§5Ê¨°ÂõûÂ∫îÁ¨¨‰∫å‰∏™Êè°ÊâãÂåÖÔºåÂ§ßÈáèÈöèÊú∫ÁöÑÊÅ∂ÊÑèsynÂç†Êª°‰∫ÜÊú™ÂÆåÊàêËøûÊé•ÈòüÂàóÔºåÂØºËá¥Ê≠£Â∏∏ÂêàÊ≥ïÁöÑsynÊéí‰∏ç‰∏äÈòüÂàóÔºåËÆ©Ê≠£Â∏∏ÁöÑ‰∏öÂä°ËØ∑Ê±ÇËøûÊé•‰∏çËøõÊù•„ÄÇ„ÄêÊúçÂä°Âô®Á´ØÁöÑËµÑÊ∫êÂàÜÈÖçÊòØÂú®‰∫åÊ¨°Êè°ÊâãÊó∂ÂàÜÈÖçÁöÑÔºåËÄåÂÆ¢Êà∑Á´ØÁöÑËµÑÊ∫êÊòØÂú®ÂÆåÊàê‰∏âÊ¨°Êè°ÊâãÊó∂ÂàÜÈÖçÁöÑÔºåÊâÄ‰ª•ÊúçÂä°Âô®ÂÆπÊòìÂèóÂà∞SYNÊ¥™Ê≥õÊîªÂáª„Äë Ê£ÄÊµã SYN ÊîªÂáªÈùûÂ∏∏ÁöÑÊñπ‰æøÔºåÂΩì‰Ω†Âú®ÊúçÂä°Âô®‰∏äÁúãÂà∞Â§ßÈáèÁöÑÂçäËøûÊé•Áä∂ÊÄÅÊó∂ÔºåÁâπÂà´ÊòØÊ∫êIPÂú∞ÂùÄÊòØÈöèÊú∫ÁöÑÔºåÂü∫Êú¨‰∏äÂèØ‰ª•Êñ≠ÂÆöËøôÊòØ‰∏ÄÊ¨°SYNÊîªÂáª„ÄêÂú® Linux/Unix ‰∏äÂèØ‰ª•‰ΩøÁî®Á≥ªÁªüËá™Â∏¶ÁöÑ netstats ÂëΩ‰ª§Êù•Ê£ÄÊµã SYN ÊîªÂáª„Äë ÊÄé‰πàËß£ÂÜ≥Ôºü Áº©Áü≠Ë∂ÖÊó∂ÔºàSYN TimeoutÔºâÊó∂Èó¥ Â¢ûÂä†ÊúÄÂ§ßÂçäËøûÊé•Êï∞ ËøáÊª§ÁΩëÂÖ≥Èò≤Êä§ SYN cookiesÊäÄÊúØÔºö ÂΩìÊúçÂä°Âô®Êé•ÂèóÂà∞ SYN Êä•ÊñáÊÆµÊó∂Ôºå‰∏çÁõ¥Êé•‰∏∫ËØ• TCP ÂàÜÈÖçËµÑÊ∫êÔºåËÄåÂè™ÊòØÊâìÂºÄ‰∏Ä‰∏™ÂçäÂºÄÁöÑÂ•óÊé•Â≠ó„ÄÇÊé•ÁùÄ‰ºö‰ΩøÁî® SYN Êä•ÊñáÊÆµÁöÑÊ∫ê IdÔºåÁõÆÁöÑ IdÔºåÁ´ØÂè£Âè∑‰ª•ÂèäÂè™ÊúâÊúçÂä°Âô®Ëá™Â∑±Áü•ÈÅìÁöÑ‰∏Ä‰∏™ÁßòÂØÜÂáΩÊï∞ÁîüÊàê‰∏Ä‰∏™ cookieÔºåÂπ∂Êää cookie ‰Ωú‰∏∫Â∫èÂàóÂè∑ÂìçÂ∫îÁªôÂÆ¢Êà∑Á´Ø„ÄÇ Â¶ÇÊûúÂÆ¢Êà∑Á´ØÊòØÊ≠£Â∏∏Âª∫Á´ãËøûÊé•ÔºåÂ∞Ü‰ºöËøîÂõû‰∏Ä‰∏™Á°ÆËÆ§Â≠óÊÆµ‰∏∫ cookie + 1 ÁöÑÊä•ÊñáÊÆµ„ÄÇÊé•‰∏ãÊù•ÊúçÂä°Âô®‰ºöÊ†πÊçÆÁ°ÆËÆ§Êä•ÊñáÁöÑÊ∫ê IdÔºåÁõÆÁöÑ IdÔºåÁ´ØÂè£Âè∑‰ª•ÂèäÁßòÂØÜÂáΩÊï∞ËÆ°ÁÆóÂá∫‰∏Ä‰∏™ÁªìÊûúÔºåÂ¶ÇÊûúÁªìÊûúÁöÑÂÄº + 1 Á≠â‰∫éÁ°ÆËÆ§Â≠óÊÆµÁöÑÂÄºÔºåÂàôËØÅÊòéÊòØÂàöÂàöËØ∑Ê±ÇËøûÊé•ÁöÑÂÆ¢Êà∑Á´ØÔºåËøôÊó∂ÂÄôÊâç‰∏∫ËØ• TCP ÂàÜÈÖçËµÑÊ∫ê QÔºöTCP‰∏âÊ¨°Êè°Êâã‰∏≠ÔºåÊúÄÂêé‰∏ÄÊ¨°ÂõûÂ§ç‰∏¢Â§±Ôºå‰ºöÂèëÁîü‰ªÄ‰πàÔºü Â¶ÇÊûúÊúÄÂêé‰∏ÄÊ¨°ACKÂú®ÁΩëÁªú‰∏≠‰∏¢Â§±ÔºåÈÇ£‰πàServerÁ´ØÔºàÊúçÂä°Á´ØÔºâËØ•TCPËøûÊé•ÁöÑÁä∂ÊÄÅ‰ªç‰∏∫SYN_RECVÔºåÂπ∂‰∏îÊ†πÊçÆ TCPÁöÑË∂ÖÊó∂Èáç‰º†Êú∫Âà∂‰æùÊ¨°Á≠âÂæÖ3Áßí„ÄÅ6Áßí„ÄÅ12ÁßíÂêéÈáçÊñ∞ÂèëÈÄÅ SYN+ACK ÂåÖÔºå‰ª•‰æø ClientÔºàÂÆ¢Êà∑Á´ØÔºâÈáçÊñ∞ÂèëÈÄÅACKÂåÖ Â¶ÇÊûúÈáçÂèëÊåáÂÆöÊ¨°Êï∞ÂêéÔºå‰ªçÁÑ∂Êú™Êî∂Âà∞ACKÂ∫îÁ≠îÔºåÈÇ£‰πà‰∏ÄÊÆµÊó∂Èó¥ÂêéÔºåServerÔºàÊúçÂä°Á´ØÔºâËá™Âä®ÂÖ≥Èó≠Ëøô‰∏™ËøûÊé• ‰ΩÜÊòØClientÔºàÂÆ¢Êà∑Á´ØÔºâËÆ§‰∏∫Ëøô‰∏™ËøûÊé•Â∑≤ÁªèÂª∫Á´ãÔºåÂ¶ÇÊûúClientÔºàÂÆ¢Êà∑Á´ØÔºâÁ´ØÂêëServerÔºàÊúçÂä°Á´ØÔºâÂèëÈÄÅÊï∞ÊçÆÔºåServerÁ´ØÔºàÊúçÂä°Á´ØÔºâÂ∞Ü‰ª•RSTÂåÖÔºàResetÔºåÊ†áÁ§∫Â§ç‰ΩçÔºåÁî®‰∫éÂºÇÂ∏∏ÁöÑÂÖ≥Èó≠ËøûÊé•ÔºâÂìçÂ∫îÔºåÊ≠§Êó∂ÔºåÂÆ¢Êà∑Á´ØÁü•ÈÅìÁ¨¨‰∏âÊ¨°Êè°ÊâãÂ§±Ë¥• TCPÂõõÊ¨°Êå•Êâã ‰∏ªÂä®Êñ≠ÂºÄÊñπÔºàÂÆ¢Êà∑Á´Ø/ÊúçÂä°Á´ØÔºâ-ÂèëÈÄÅ‰∏Ä‰∏™ FINÔºåÁî®Êù•ÂÖ≥Èó≠‰∏ªÂä®Êñ≠ÂºÄÊñπÔºàÂÆ¢Êà∑Á´Ø/ÊúçÂä°Á´ØÔºâÂà∞Ë¢´Âä®Êñ≠ÂºÄÊñπÔºàÂÆ¢Êà∑Á´Ø/ÊúçÂä°Á´ØÔºâÁöÑÊï∞ÊçÆ‰º†ÈÄÅ Ë¢´Âä®Êñ≠ÂºÄÊñπÔºàÂÆ¢Êà∑Á´Ø/ÊúçÂä°Á´ØÔºâ-Êî∂Âà∞Ëøô‰∏™ FINÔºåÂÆÉÂèëÂõû‰∏Ä ‰∏™ ACKÔºåÁ°ÆËÆ§Â∫èÂè∑‰∏∫Êî∂Âà∞ÁöÑÂ∫èÂè∑Âä†1 „ÄÇÂíå SYN ‰∏ÄÊ†∑Ôºå‰∏Ä‰∏™ FIN Â∞ÜÂç†Áî®‰∏Ä‰∏™Â∫èÂè∑ Ë¢´Âä®ÁÇπÂºÄÊñπÔºàÂÆ¢Êà∑Á´Ø/ÊúçÂä°Á´ØÔºâ-ÂÖ≥Èó≠‰∏é‰∏ªÂä®Êñ≠ÂºÄÊñπÔºàÂÆ¢Êà∑Á´Ø/ÊúçÂä°Á´ØÔºâÁöÑËøûÊé•ÔºåÂèëÈÄÅ‰∏Ä‰∏™FINÁªô‰∏ªÂä®Êñ≠ÂºÄÊñπÔºàÂÆ¢Êà∑Á´Ø/ÊúçÂä°Á´ØÔºâ ‰∏ªÂä®Êñ≠ÂºÄÊñπÔºàÂÆ¢Êà∑Á´Ø/ÊúçÂä°Á´ØÔºâ-ÂèëÂõû ACK Êä•ÊñáÁ°ÆËÆ§ÔºåÂπ∂Â∞ÜÁ°ÆËÆ§Â∫èÂè∑ËÆæÁΩÆ‰∏∫Êî∂Âà∞Â∫èÂè∑Âä†1 QÔºö‰∏∫‰ªÄ‰πàËøûÊé•ÁöÑÊó∂ÂÄôÊòØ‰∏âÊ¨°Êè°ÊâãÔºåÂÖ≥Èó≠ÁöÑÊó∂ÂÄôÂç¥ÊòØÂõõÊ¨°Êè°ÊâãÔºü Âª∫Á´ãËøûÊé•ÁöÑÊó∂ÂÄôÔºå ÊúçÂä°Âô®Âú®LISTENÁä∂ÊÄÅ‰∏ãÔºåÊî∂Âà∞Âª∫Á´ãËøûÊé•ËØ∑Ê±ÇÁöÑSYNÊä•ÊñáÂêéÔºåÊääACKÂíåSYNÊîæÂú®‰∏Ä‰∏™Êä•ÊñáÈáåÂèëÈÄÅÁªôÂÆ¢Êà∑Á´Ø„ÄÇ ÂÖ≥Èó≠ËøûÊé•Êó∂ÔºåÊúçÂä°Âô®Êî∂Âà∞ÂØπÊñπÁöÑFINÊä•ÊñáÊó∂Ôºå‰ªÖ‰ªÖË°®Á§∫ÂØπÊñπ‰∏çÂÜçÂèëÈÄÅÊï∞ÊçÆ‰∫Ü‰ΩÜÊòØËøòËÉΩÊé•Êî∂Êï∞ÊçÆÔºåËÄåËá™Â∑±‰πüÊú™ÂøÖÂÖ®ÈÉ®Êï∞ÊçÆÈÉΩÂèëÈÄÅÁªôÂØπÊñπ‰∫Ü,ÊâÄ‰ª•ÊúçÂä°Âô®ÂèØ‰ª•Á´ãÂç≥ÂÖ≥Èó≠Ôºå‰πüÂèØ‰ª•ÂèëÈÄÅ‰∏Ä‰∫õÊï∞ÊçÆÁªôÂØπÊñπÂêéÔºåÂÜçÂèëÈÄÅFINÊä•ÊñáÁªôÂØπÊñπÊù•Ë°®Á§∫ÂêåÊÑèÁé∞Âú®ÂÖ≥Èó≠ËøûÊé•„ÄÇÂõ†Ê≠§ÔºåÊúçÂä°Âô®ACKÂíåFIN‰∏ÄËà¨ÈÉΩ‰ºöÂàÜÂºÄÂèëÈÄÅÔºå‰ªéËÄåÂØºËá¥Â§ö‰∫Ü‰∏ÄÊ¨°„ÄÇ QÔºö‰∏∫‰ªÄ‰πàTCPÊå•ÊâãÊØè‰∏§Ê¨°‰∏≠Èó¥Êúâ‰∏Ä‰∏™ FIN-WAIT2Á≠âÂæÖÊó∂Èó¥Ôºü ‰∏ªÂä®ÂÖ≥Èó≠ÁöÑ‰∏ÄÁ´ØË∞ÉÁî®ÂÆåclose‰ª•ÂêéÔºàÂç≥ÂèëFINÁªôË¢´Âä®ÂÖ≥Èó≠ÁöÑ‰∏ÄÁ´ØÔºå Âπ∂‰∏îÊî∂Âà∞ÂÖ∂ÂØπFINÁöÑÁ°ÆËÆ§ACKÔºâÂàôËøõÂÖ•FIN_WAIT_2Áä∂ÊÄÅ„ÄÇÂ¶ÇÊûúËøô‰∏™Êó∂ÂÄôÂõ†‰∏∫ÁΩëÁªúÁ™ÅÁÑ∂Êñ≠Êéâ„ÄÅË¢´Âä®ÂÖ≥Èó≠ÁöÑ‰∏ÄÊÆµÂÆïÊú∫Á≠âÂéüÂõ†ÔºåÂØºËá¥‰∏ªÂä®ÂÖ≥Èó≠ÁöÑ‰∏ÄÁ´Ø‰∏çËÉΩÊî∂Âà∞Ë¢´Âä®ÂÖ≥Èó≠ÁöÑ‰∏ÄÁ´ØÂèëÊù•ÁöÑFINÔºàÈò≤Ê≠¢ÂØπÁ´Ø‰∏çÂèëÈÄÅÂÖ≥Èó≠ËøûÊé•ÁöÑFINÂåÖÁªôÊú¨Á´ØÔºâÔºåËøô‰∏™Êó∂ÂÄôÂ∞±ÈúÄË¶ÅFIN_WAIT_2ÂÆöÊó∂Âô®Ôºå Â¶ÇÊûúÂú®ËØ•ÂÆöÊó∂Âô®Ë∂ÖÊó∂ÁöÑÊó∂ÂÄôÔºåËøòÊòØÊ≤°Êî∂Âà∞Ë¢´Âä®ÂÖ≥Èó≠‰∏ÄÁ´ØÂèëÊù•ÁöÑFINÔºåÈÇ£‰πàÁõ¥Êé•ÈáäÊîæËøô‰∏™ÈìæÊé•ÔºåËøõÂÖ•CLOSEÁä∂ÊÄÅ QÔºö‰∏∫‰ªÄ‰πàÂÆ¢Êà∑Á´ØÊúÄÂêéËøòË¶ÅÁ≠âÂæÖ2MSLÔºü‰∏∫‰ªÄ‰πàËøòÊúâ‰∏™TIME-WAITÁöÑÊó∂Èó¥Á≠âÂæÖÔºü ‰øùËØÅÂÆ¢Êà∑Á´ØÂèëÈÄÅÁöÑÊúÄÂêé‰∏Ä‰∏™ACKÊä•ÊñáËÉΩÂ§üÂà∞ËææÊúçÂä°Âô®ÔºåÂõ†‰∏∫Ëøô‰∏™ACKÊä•ÊñáÂèØËÉΩ‰∏¢Â§±ÔºåÊúçÂä°Âô®Â∑≤ÁªèÂèëÈÄÅ‰∫ÜFIN+ACKÊä•ÊñáÔºåËØ∑Ê±ÇÊñ≠ÂºÄÔºåÂÆ¢Êà∑Á´ØÂç¥Ê≤°ÊúâÂõûÂ∫îÔºå‰∫éÊòØÊúçÂä°Âô®Âèà‰ºöÈáçÊñ∞ÂèëÈÄÅ‰∏ÄÊ¨°ÔºåËÄåÂÆ¢Êà∑Á´ØÂ∞±ËÉΩÂú®Ëøô‰∏™2MSLÊó∂Èó¥ÊÆµÂÜÖÊî∂Âà∞Ëøô‰∏™Èáç‰º†ÁöÑÊä•ÊñáÔºåÊé•ÁùÄÁªôÂá∫ÂõûÂ∫îÊä•ÊñáÔºåÂπ∂‰∏î‰ºöÈáçÂêØ2MSLËÆ°Êó∂Âô®„ÄÇ Èò≤Ê≠¢Á±ª‰ºº‰∏é‚Äú‰∏âÊ¨°Êè°Êâã‚Äù‰∏≠ÊèêÂà∞‰∫ÜÁöÑ‚ÄúÂ∑≤ÁªèÂ§±ÊïàÁöÑËøûÊé•ËØ∑Ê±ÇÊä•ÊñáÊÆµ‚ÄùÂá∫Áé∞Âú®Êú¨ËøûÊé•‰∏≠„ÄÇÂÆ¢Êà∑Á´ØÂèëÈÄÅÂÆåÊúÄÂêé‰∏Ä‰∏™Á°ÆËÆ§Êä•ÊñáÂêéÔºåÂú®Ëøô‰∏™2MSLÊó∂Èó¥‰∏≠ÔºåÂ∞±ÂèØ‰ª•‰ΩøÊú¨ËøûÊé•ÊåÅÁª≠ÁöÑÊó∂Èó¥ÂÜÖÊâÄ‰∫ßÁîüÁöÑÊâÄÊúâÊä•ÊñáÊÆµÈÉΩ‰ªéÁΩëÁªú‰∏≠Ê∂àÂ§±ÔºåËøôÊ†∑Êñ∞ÁöÑËøûÊé•‰∏≠‰∏ç‰ºöÂá∫Áé∞ÊóßËøûÊé•ÁöÑËØ∑Ê±ÇÊä•Êñá„ÄÇ 2MSLÔºåÊúÄÂ§ßÊä•ÊñáÁîüÂ≠òÊó∂Èó¥Ôºå‰∏Ä‰∏™MSL 30 ÁßíÔºå2MSL = 60s QÔºöÂÆ¢Êà∑Á´Ø TIME-WAIT Áä∂ÊÄÅËøáÂ§ö‰ºö‰∫ßÁîü‰ªÄ‰πàÂêéÊûúÔºüÊÄéÊ†∑Â§ÑÁêÜÔºü ‰Ωú‰∏∫ÊúçÂä°Âô®ÔºåÁü≠Êó∂Èó¥ÂÜÖÂÖ≥Èó≠‰∫ÜÂ§ßÈáèÁöÑClientËøûÊé•ÔºåÂ∞±‰ºöÈÄ†ÊàêÊúçÂä°Âô®‰∏äÂá∫Áé∞Â§ßÈáèÁöÑTIME_WAITËøûÊé•ÔºåÂç†ÊçÆÂ§ßÈáèÁöÑtuple /tApl/ Ôºå‰∏•ÈáçÊ∂àËÄóÁùÄÊúçÂä°Âô®ÁöÑËµÑÊ∫êÔºåÊ≠§Êó∂ÈÉ®ÂàÜÂÆ¢Êà∑Á´ØÂ∞±‰ºöÊòæÁ§∫ËøûÊé•‰∏ç‰∏ä ‰Ωú‰∏∫ÂÆ¢Êà∑Á´ØÔºåÁü≠Êó∂Èó¥ÂÜÖÂ§ßÈáèÁöÑÁü≠ËøûÊé•Ôºå‰ºöÂ§ßÈáèÊ∂àËÄóÁöÑClientÊú∫Âô®ÁöÑÁ´ØÂè£ÔºåÊØïÁ´üÁ´ØÂè£Âè™Êúâ65535‰∏™ÔºåÁ´ØÂè£Ë¢´ËÄóÂ∞Ω‰∫ÜÔºåÂêéÁª≠Â∞±Êó†Ê≥ïÂú®ÂèëËµ∑Êñ∞ÁöÑËøûÊé•‰∫Ü Âú®È´òÂπ∂ÂèëÁü≠ËøûÊé•ÁöÑTCPÊúçÂä°Âô®‰∏äÔºåÂΩìÊúçÂä°Âô®Â§ÑÁêÜÂÆåËØ∑Ê±ÇÂêéÁ´ãÂàª‰∏ªÂä®Ê≠£Â∏∏ÂÖ≥Èó≠ËøûÊé•„ÄÇËøô‰∏™Âú∫ÊôØ‰∏ã‰ºöÂá∫Áé∞Â§ßÈáèsocketÂ§Ñ‰∫éTIME_WAITÁä∂ÊÄÅ„ÄÇÂ¶ÇÊûúÂÆ¢Êà∑Á´ØÁöÑÂπ∂ÂèëÈáèÊåÅÁª≠ÂæàÈ´òÔºåÊ≠§Êó∂ÈÉ®ÂàÜÂÆ¢Êà∑Á´ØÂ∞±‰ºöÊòæÁ§∫ËøûÊé•‰∏ç‰∏ä È´òÂπ∂ÂèëÂèØ‰ª•ËÆ©ÊúçÂä°Âô®Âú®Áü≠Êó∂Èó¥ËåÉÂõ¥ÂÜÖÂêåÊó∂Âç†Áî®Â§ßÈáèÁ´ØÂè£ÔºåËÄåÁ´ØÂè£Êúâ‰∏™0~65535ÁöÑËåÉÂõ¥ÔºåÂπ∂‰∏çÊòØÂæàÂ§öÔºåÂà®Èô§Á≥ªÁªüÂíåÂÖ∂‰ªñÊúçÂä°Ë¶ÅÁî®ÁöÑÔºåÂâ©‰∏ãÁöÑÂ∞±Êõ¥Â∞ë‰∫Ü Áü≠ËøûÊé•Ë°®Á§∫‚Äú‰∏öÂä°Â§ÑÁêÜ+‰º†ËæìÊï∞ÊçÆÁöÑÊó∂Èó¥ ËøúËøúÂ∞è‰∫é TIMEWAITË∂ÖÊó∂ÁöÑÊó∂Èó¥‚ÄùÁöÑËøûÊé• Ëß£ÂÜ≥ÊñπÊ≥ïÔºö Áî®Ë¥üËΩΩÂùáË°°Êù•ÊäóËøô‰∫õÈ´òÂπ∂ÂèëÁöÑÁü≠ËØ∑Ê±ÇÔºõ ÊúçÂä°Âô®ÂèØ‰ª•ËÆæÁΩÆ SO_REUSEADDR Â•óÊé•Â≠óÈÄâÈ°πÊù•ÈÅøÂÖç TIME_WAITÁä∂ÊÄÅÔºåTIME_WAIT Áä∂ÊÄÅÂèØ‰ª•ÈÄöËøá‰ºòÂåñÊúçÂä°Âô®ÂèÇÊï∞ÂæóÂà∞Ëß£ÂÜ≥ÔºåÂõ†‰∏∫ÂèëÁîüTIME_WAITÁöÑÊÉÖÂÜµÊòØÊúçÂä°Âô®Ëá™Â∑±ÂèØÊéßÁöÑÔºåË¶Å‰πàÂ∞±ÊòØÂØπÊñπËøûÊé•ÁöÑÂºÇÂ∏∏ÔºåË¶Å‰πàÂ∞±ÊòØËá™Â∑±Ê≤°ÊúâËøÖÈÄüÂõûÊî∂ËµÑÊ∫êÔºåÊÄª‰πã‰∏çÊòØÁî±‰∫éËá™Â∑±Á®ãÂ∫èÈîôËØØÂØºËá¥ÁöÑ Âº∫Âà∂ÂÖ≥Èó≠ÔºåÂèëÈÄÅ RST ÂåÖË∂äËøáTIMEWAITÁä∂ÊÄÅÔºåÁõ¥Êé•ËøõÂÖ•CLOSEDÁä∂ÊÄÅ QÔºöÊúçÂä°Âô®Âá∫Áé∞‰∫ÜÂ§ßÈáè CLOSE_WAIT Áä∂ÊÄÅÂ¶Ç‰ΩïËß£ÂÜ≥Ôºü Â§ßÈáè CLOSE_WAIT Ë°®Á§∫Á®ãÂ∫èÂá∫Áé∞‰∫ÜÈóÆÈ¢òÔºåÂØπÊñπÁöÑ socket Â∑≤ÁªèÂÖ≥Èó≠ËøûÊé•ÔºåËÄåÊàëÊñπÂøô‰∫éËØªÊàñÂÜôÊ≤°ÊúâÂèäÊó∂ÂÖ≥Èó≠ËøûÊé•ÔºåÈúÄË¶ÅÊ£ÄÊü•‰ª£Á†ÅÔºåÁâπÂà´ÊòØÈáäÊîæËµÑÊ∫êÁöÑ‰ª£Á†ÅÔºåÊàñËÄÖÊòØÂ§ÑÁêÜËØ∑Ê±ÇÁöÑÁ∫øÁ®ãÈÖçÁΩÆ„ÄÇ QÔºöÊúçÂä°Á´Ø‰ºöÊúâ‰∏Ä‰∏™TIME_WAITÁä∂ÊÄÅÂêóÔºüÂ¶ÇÊûúÊòØÊúçÂä°Á´Ø‰∏ªÂä®Êñ≠ÂºÄËøûÊé•Âë¢Ôºü ÂèëËµ∑ÈìæÊé•ÁöÑ‰∏ªÂä®ÊñπÂü∫Êú¨ÈÉΩÊòØÂÆ¢Êà∑Á´ØÔºå‰ΩÜÊòØÊñ≠ÂºÄËøûÊé•ÁöÑ‰∏ªÂä®ÊñπÊúçÂä°Âô®ÂíåÂÆ¢Êà∑Á´ØÈÉΩÂèØ‰ª•ÂÖÖÂΩìÔºå‰πüÂ∞±ÊòØËØ¥ÔºåÂè™Ë¶ÅÊòØ‰∏ªÂä®Êñ≠ÂºÄËøûÊé•ÁöÑÔºåÂ∞±‰ºöÊúâ TIME_WAITÁä∂ÊÄÅ ÂõõÊ¨°Êå•ÊâãÊòØÊåáÊñ≠ÂºÄ‰∏Ä‰∏™TCPËøûÊé•Êó∂ÔºåÈúÄË¶ÅÂÆ¢Êà∑Á´ØÂíåÊúçÂä°Á´ØÊÄªÂÖ±ÂèëÈÄÅ4‰∏™ÂåÖ‰ª•Á°ÆËÆ§ËøûÊé•ÁöÑÊñ≠ÂºÄ„ÄÇÂú®socketÁºñÁ®ã‰∏≠ÔºåËøô‰∏ÄËøáÁ®ãÁî±ÂÆ¢Êà∑Á´ØÊàñÊúçÂä°Á´Ø‰ªª‰∏ÄÊñπÊâßË°åcloseÊù•Ëß¶Âèë Áî±‰∫éTCPËøûÊé•Êó∂ÂÖ®ÂèåÂ∑•ÁöÑÔºåÂõ†Ê≠§ÔºåÊØè‰∏™ÊñπÂêëÁöÑÊï∞ÊçÆ‰º†ËæìÈÄöÈÅìÈÉΩÂøÖÈ°ªË¶ÅÂçïÁã¨ËøõË°åÂÖ≥Èó≠„ÄÇ","link":"/2021/02/25/Draft/2021/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/"},{"title":"BUG","text":"‰∏ÄÊ¨°Áõ∏ËßÅÔºåÁªù‰∏çÂÜçËßÅ BUGÂàÜÁ±ªËß£ÂÜ≥ËÆ∞ÂΩïÔºåÂ∏∏ËßÅÊéíÊü•ÊñπÊ≥ïÔºåÂ∏∏ËßÅÈÅøÂÖçÊñπÊ≥ïÊÄªÁªì„ÄÇ MYSQL Client does not support authentication protocol requested by server; 123mysql -hlocalhost -uroot -pALTER USER 'root'@'localhost' IDENTIFIED WITH mysql_native_password BY 'root';FLUSH PRIVILEGES; Unknown initial character set index '255' received from server. Initial client character set can be forced via the 'characterEncoding' property. 12String urlÂêéÊ∑ªÂä†?useUnicode=true&amp;characterEncoding=utf8 mybatis urlÂêéÊ∑ªÂä†?useUnicode=true&amp;characterEncoding=utf8 cannot open git-upload-pack IDEA ËÆæÁΩÆ ËØ∑Ê±ÇÊúâÂèÇÊï∞ÊúâÁâπÊÆäÂ≠óÁ¨¶ postÂèÇÊï∞ÂÜôbodyÈáåÈù¢ tomcat connecterÂä†relaxedPathChars=&quot;|{}[]^&quot; relaxedQueryChars=&quot;|{}[]^&quot; 123456789101112131415161718192021222324252627package com.jeethink.framework.config;import org.apache.catalina.connector.Connector;import org.springframework.boot.web.embedded.tomcat.TomcatConnectorCustomizer;import org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory;import org.springframework.boot.web.servlet.server.ConfigurableServletWebServerFactory;import org.springframework.context.annotation.Bean;import org.springframework.context.annotation.Configuration;/** * Ëß£ÂÜ≥È´òÁâàÊú¨Tomcat‰∏çÊîØÊåÅÂú®URL‰∏≠‰º†ÂÖ•ÁâπÊÆäÂ≠óÁ¨¶ÔºàÊØîÂ¶Ç|ÔºâÁöÑÈóÆÈ¢ò */@Configurationpublic class TomcatServerConfig { @Bean public ConfigurableServletWebServerFactory webServerFactory() { TomcatServletWebServerFactory factory = new TomcatServletWebServerFactory(); factory.addConnectorCustomizers(new TomcatConnectorCustomizer() { @Override public void customize(Connector connector) { //ÂÖÅËÆ∏ÁâπÊÆäÂ≠óÁ¨¶ connector.setProperty(&quot;relaxedQueryChars&quot;, &quot;|{}[]&quot;); } }); return factory; }} Maven ‚Äòparent.relativePath‚Äô of POM 123456&lt;parent&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt; &lt;version&gt;2.2.6.RELEASE&lt;/version&gt; &lt;relativePath /&gt;&lt;!-- Âä†‰∏äËøô‰∏™--&gt; &lt;/parent&gt; JAVA ‰∏çÁºñËØëÂà∞targetÈóÆÈ¢ò 12345678910111213141516171819202122232425262728&lt;!--ÂºïÂÖ•Êú¨Âú∞ËµÑÊ∫ê--&gt; &lt;resources&gt; &lt;!--Âä†ËΩΩlibÊñá‰ª∂ÔºåÁâπÊÆäÊÉÖÂÜµ‰∏ã‰ºöÊúâlibÔºå‰ΩÜÂ§ßÈÉ®ÂàÜÈÉΩÈù†‰æùËµñ‰∏ãËΩΩ‰∫Ü--&gt; &lt;resource&gt; &lt;directory&gt;lib&lt;/directory&gt; &lt;targetPath&gt;BOOT-INF/lib/&lt;/targetPath&gt; &lt;includes&gt; &lt;include&gt;**/*.jar&lt;/include&gt; &lt;/includes&gt; &lt;/resource&gt; &lt;!--ÊâìjarÂåÖ--&gt; &lt;resource&gt; &lt;directory&gt;src/main/java&lt;/directory&gt; &lt;includes&gt; &lt;include&gt;**/*.properties&lt;/include&gt; &lt;include&gt;**/*.xml&lt;/include&gt; &lt;/includes&gt; &lt;/resource&gt; &lt;!--Â∞ÜpropertiesÂíåxmlÊñá‰ª∂ÁºñËØë--&gt; &lt;resource&gt; &lt;directory&gt;src/main/resources&lt;/directory&gt; &lt;includes&gt; &lt;include&gt;**/*.properties&lt;/include&gt; &lt;include&gt;**/*.xml&lt;/include&gt; &lt;/includes&gt; &lt;filtering&gt;false&lt;/filtering&gt; &lt;/resource&gt; &lt;/resources&gt; (1Êù°Ê∂àÊÅØ) SpringBootÈ°πÁõÆÊä•ÈîôËß£ÂÜ≥Ôºö‚ÄúError starting ApplicationContext. To display the conditions report re-run ...‚Äù_Áâõ¬∑‰∫ëËØ¥ÁöÑÂçöÂÆ¢-CSDNÂçöÂÆ¢","link":"/2021/02/24/Draft/2021/BUG/"},{"title":"Nginx","text":"Nginx(&quot;engine x&quot;)ÊòØ‰∏ÄÊ¨æÊòØÁî±‰øÑÁΩóÊñØÁöÑÁ®ãÂ∫èËÆæËÆ°Â∏àIgor SysoevÊâÄÂºÄÂèëÈ´òÊÄßËÉΩÁöÑ WebÂíå ÂèçÂêë‰ª£ÁêÜ ÊúçÂä°Âô®Ôºå‰πüÊòØ‰∏Ä‰∏™ IMAP/POP3/SMTP ‰ª£ÁêÜÊúçÂä°Âô®„ÄÇ Âú®È´òËøûÊé•Âπ∂ÂèëÁöÑÊÉÖÂÜµ‰∏ãÔºåNginxÊòØApacheÊúçÂä°Âô®‰∏çÈîôÁöÑÊõø‰ª£ÂìÅ„ÄÇ ‰∏ãËΩΩ ÂÆâË£ÖÈÉ®ÁΩ≤ ‚Äã Ëß£ÂéãÂêé‰∏çË¶ÅÁõ¥Êé•ÁÇπÂáªexeÔºå‰ºöÂØºËá¥‰øÆÊîπÈÖçÁΩÆÂêéÈáçÂêØ„ÄÅÂÅúÊ≠¢nginxÊó†ÊïàÔºåÈúÄË¶ÅÊâãÂä®ÂÖ≥Èó≠‰ªªÂä°ÁÆ°ÁêÜÂô®ÂÜÖÁöÑÊâÄÊúânginxËøõÁ®ãÔºåÂÜçÂêØÂä®ÊâçÂèØ‰ª•„ÄÇ 12345start nginx//ÂêØÂä®ÊúçÂä°nginx -s reload//ÈáçÊñ∞Âä†ËΩΩÈÖçÁΩÆÂπ∂ÂêØÂä®nginx -s stop// Âø´ÈÄüÂÅúÊ≠¢nginx -s quit//ÂÆåÊï¥ÊúâÂ∫èÁöÑÂÖ≥Èó≠nginx -t // Ê£ÄÊü•ÈÖçÁΩÆÊòØÂê¶Ê≠£Á°Æ ÈÖçÁΩÆËá™ÂÆö‰πânginx.conf Êåá‰ª§ÂøÖÈ°ª‰ª•ÂàÜÂè∑ÁªìÊùü 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215216217218219220221222223#user nobody;#==Â∑•‰ΩúËøõÁ®ãÊï∞Ôºå‰∏ÄËà¨ËÆæÁΩÆ‰∏∫cpuÊ†∏ÂøÉÊï∞worker_processes 1;#error_log logs/error.log;#error_log logs/error.log notice;#error_log logs/error.log info;#pid logs/nginx.pid;events { #==ÊúÄÂ§ßËøûÊé•Êï∞Ôºå‰∏ÄËà¨ËÆæÁΩÆ‰∏∫cpu*2048 worker_connections 1024;}http { include mime.types; default_type application/octet-stream; #log_format main '$remote_addr - $remote_user [$time_local] &quot;$request&quot; ' # '$status $body_bytes_sent &quot;$http_referer&quot; ' # '&quot;$http_user_agent&quot; &quot;$http_x_forwarded_for&quot;'; #access_log logs/access.log main; sendfile on; #tcp_nopush on; #keepalive_timeout 0; #==ÂÆ¢Êà∑Á´ØÈìæÊé•Ë∂ÖÊó∂Êó∂Èó¥ keepalive_timeout 65; #gzip on; #ÂΩìÈÖçÁΩÆÂ§ö‰∏™serverËäÇÁÇπÊó∂ÔºåÈªòËÆ§server namesÁöÑÁºìÂ≠òÂå∫Â§ßÂ∞èÂ∞±‰∏çÂ§ü‰∫ÜÔºåÈúÄË¶ÅÊâãÂä®ËÆæÁΩÆÂ§ß‰∏ÄÁÇπ server_names_hash_bucket_size 512; #serverË°®Á§∫ËôöÊãü‰∏ªÊú∫ÂèØ‰ª•ÁêÜËß£‰∏∫‰∏Ä‰∏™Á´ôÁÇπÔºåÂèØ‰ª•ÈÖçÁΩÆÂ§ö‰∏™serverËäÇÁÇπÊê≠Âª∫Â§ö‰∏™Á´ôÁÇπ #ÊØè‰∏Ä‰∏™ËØ∑Ê±ÇËøõÊù•Á°ÆÂÆö‰ΩøÁî®Âì™‰∏™serverÁî±server_nameÁ°ÆÂÆö server { #Á´ôÁÇπÁõëÂê¨Á´ØÂè£ listen 8800; #Á´ôÁÇπËÆøÈóÆÂüüÂêç server_name localhost; #ÁºñÁ†ÅÊ†ºÂºèÔºåÈÅøÂÖçurlÂèÇÊï∞‰π±Á†Å charset utf-8; #access_log logs/host.access.log main; #locationÁî®Êù•ÂåπÈÖçÂêå‰∏ÄÂüüÂêç‰∏ãÂ§ö‰∏™URIÁöÑËÆøÈóÆËßÑÂàô #ÊØîÂ¶ÇÂä®ÊÄÅËµÑÊ∫êÂ¶Ç‰ΩïË∑≥ËΩ¨ÔºåÈùôÊÄÅËµÑÊ∫êÂ¶Ç‰ΩïË∑≥ËΩ¨Á≠â #locationÂêéÈù¢Ë∑üÁùÄÁöÑ/‰ª£Ë°®ÂåπÈÖçËßÑÂàô location / { #Á´ôÁÇπÊ†πÁõÆÂΩïÔºåÂèØ‰ª•ÊòØÁõ∏ÂØπË∑ØÂæÑÔºå‰πüÂèØ‰ª•‰ΩøÁªùÂØπË∑ØÂæÑ root html; #ÈªòËÆ§‰∏ªÈ°µ index index.html index.htm; #ËΩ¨ÂèëÂêéÁ´ØÁ´ôÁÇπÂú∞ÂùÄÔºå‰∏ÄËà¨Áî®‰∫éÂÅöËΩØË¥üËΩΩÔºåËΩÆËØ¢ÂêéÁ´ØÊúçÂä°Âô® #proxy_pass http://11.11.11.11:8080; #ÊãíÁªùËØ∑Ê±ÇÔºåËøîÂõû403Ôºå‰∏ÄËà¨Áî®‰∫éÊüê‰∫õÁõÆÂΩïÁ¶ÅÊ≠¢ËÆøÈóÆ #deny all; #ÂÖÅËÆ∏ËØ∑Ê±Ç #allow all; add_header 'Access-Control-Allow-Origin' '*'; add_header 'Access-Control-Allow-Credentials' 'true'; add_header 'Access-Control-Allow-Methods' 'GET, POST, OPTIONS'; add_header 'Access-Control-Allow-Headers' 'DNT,X-CustomHeader,Keep-Alive,User-Agent,X-Requested-With,If-Modified-Since,Cache-Control,Content-Type'; #ÈáçÊñ∞ÂÆö‰πâÊàñËÄÖÊ∑ªÂä†ÂèëÂæÄÂêéÁ´ØÊúçÂä°Âô®ÁöÑËØ∑Ê±ÇÂ§¥ #ÁªôËØ∑Ê±ÇÂ§¥‰∏≠Ê∑ªÂä†ÂÆ¢Êà∑ËØ∑Ê±Ç‰∏ªÊú∫Âêç proxy_set_header Host $host; #ÁªôËØ∑Ê±ÇÂ§¥‰∏≠Ê∑ªÂä†ÂÆ¢Êà∑Á´ØIP proxy_set_header X-Real-IP $remote_addr; #Â∞Ü$remote_addrÂèòÈáèÂÄºÊ∑ªÂä†Âú®ÂÆ¢Êà∑Á´Ø‚ÄúX-Forwarded-For‚ÄùËØ∑Ê±ÇÂ§¥ÁöÑÂêéÈù¢ÔºåÂπ∂‰ª•ÈÄóÂè∑ÂàÜÈöî„ÄÇ Â¶ÇÊûúÂÆ¢Êà∑Á´ØËØ∑Ê±ÇÊú™Êê∫Â∏¶‚ÄúX-Forwarded-For‚ÄùËØ∑Ê±ÇÂ§¥Ôºå$proxy_add_x_forwarded_forÂèòÈáèÂÄºÂ∞Ü‰∏é$remote_addrÂèòÈáèÁõ∏Âêå proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for; #ÁªôËØ∑Ê±ÇÂ§¥‰∏≠Ê∑ªÂä†ÂÆ¢Êà∑Á´ØÁöÑCookie proxy_set_header Cookie $http_cookie; #Â∞Ü‰ΩøÁî®‰ª£ÁêÜÊúçÂä°Âô®ÁöÑ‰∏ªÂüüÂêçÂíåÁ´ØÂè£Âè∑Êù•ÊõøÊç¢„ÄÇÂ¶ÇÊûúÁ´ØÂè£ÊòØ80ÔºåÂèØ‰ª•‰∏çÂä†„ÄÇ proxy_redirect off; #ÊµèËßàÂô®ÂØπ Cookie ÊúâÂæàÂ§öÈôêÂà∂ÔºåÂ¶ÇÊûú Cookie ÁöÑ Domain ÈÉ®ÂàÜ‰∏éÂΩìÂâçÈ°µÈù¢ÁöÑ Domain ‰∏çÂåπÈÖçÂ∞±Êó†Ê≥ïÂÜôÂÖ•„ÄÇ #ÊâÄ‰ª•Â¶ÇÊûúËØ∑Ê±Ç A ÂüüÂêçÔºåÊúçÂä°Âô® proxy_pass Âà∞ B ÂüüÂêçÔºåÁÑ∂Âêé B ÊúçÂä°Âô®ËæìÂá∫ Domian=B ÁöÑ CookieÔºå #ÂâçÁ´ØÁöÑÈ°µÈù¢‰æùÁÑ∂ÂÅúÁïôÂú® A ÂüüÂêç‰∏äÔºå‰∫éÊòØÊµèËßàÂô®Â∞±Êó†Ê≥ïÂ∞Ü Cookie ÂÜôÂÖ•„ÄÇ #‰∏ç‰ªÖÊòØÂüüÂêçÔºåÊµèËßàÂô®ÂØπ Path ‰πüÊúâÈôêÂà∂„ÄÇÊàë‰ª¨ÁªèÂ∏∏‰ºö proxy_pass Âà∞ÁõÆÊ†áÊúçÂä°Âô®ÁöÑÊüê‰∏™ Path ‰∏ãÔºå #‰∏çÊääËøô‰∏™ Path Êö¥Èú≤ÁªôÊµèËßàÂô®„ÄÇËøôÊó∂ÂÄôÂ¶ÇÊûúÁõÆÊ†áÊúçÂä°Âô®ÁöÑ Cookie ÂÜôÊ≠ª‰∫Ü Path ‰πü‰ºöÂá∫Áé∞ Cookie Êó†Ê≥ïÂÜôÂÖ•ÁöÑÈóÆÈ¢ò„ÄÇ #ËÆæÁΩÆ‚ÄúSet-Cookie‚ÄùÂìçÂ∫îÂ§¥‰∏≠ÁöÑdomainÂ±ûÊÄßÁöÑÊõøÊç¢ÊñáÊú¨ÔºåÂÖ∂ÂÄºÂèØ‰ª•‰∏∫‰∏Ä‰∏™Â≠óÁ¨¶‰∏≤„ÄÅÊ≠£ÂàôË°®ËææÂºèÁöÑÊ®°ÂºèÊàñ‰∏Ä‰∏™ÂºïÁî®ÁöÑÂèòÈáè #ËΩ¨ÂèëÂêéÁ´ØÊúçÂä°Âô®Â¶ÇÊûúÈúÄË¶ÅCookieÂàôÈúÄË¶ÅÂ∞Ücookie domain‰πüËøõË°åËΩ¨Êç¢ÔºåÂê¶ÂàôÂâçÁ´ØÂüüÂêç‰∏éÂêéÁ´ØÂüüÂêç‰∏ç‰∏ÄËá¥cookieÂ∞±‰ºöÊó†Ê≥ïÂ≠òÂèñ #ÈÖçÁΩÆËßÑÂàôÔºöproxy_cookie_domain serverDomain(ÂêéÁ´ØÊúçÂä°Âô®Âüü) nginxDomain(nginxÊúçÂä°Âô®Âüü) proxy_cookie_domain localhost .testcaigou800.com; #ÂèñÊ∂àÂΩìÂâçÈÖçÁΩÆÁ∫ßÂà´ÁöÑÊâÄÊúâproxy_cookie_domainÊåá‰ª§ #proxy_cookie_domain off; #‰∏éÂêéÁ´ØÊúçÂä°Âô®Âª∫Á´ãËøûÊé•ÁöÑË∂ÖÊó∂Êó∂Èó¥„ÄÇ‰∏ÄËà¨‰∏çÂèØËÉΩÂ§ß‰∫é75ÁßíÔºõ proxy_connect_timeout 30; } #error_page 404 /404.html; # redirect server error pages to the static page /50x.html # error_page 500 502 503 504 /50x.html; location = /50x.html { root html; } } #ÂΩìÈúÄË¶ÅÂØπÂêå‰∏ÄÁ´ØÂè£ÁõëÂê¨Â§ö‰∏™ÂüüÂêçÊó∂Ôºå‰ΩøÁî®Â¶Ç‰∏ãÈÖçÁΩÆÔºåÁ´ØÂè£Áõ∏ÂêåÂüüÂêç‰∏çÂêåÔºåserver_name‰πüÂèØ‰ª•‰ΩøÁî®Ê≠£ÂàôËøõË°åÈÖçÁΩÆ #‰ΩÜË¶ÅÊ≥®ÊÑèserverËøáÂ§öÈúÄË¶ÅÊâãÂä®Êâ©Â§ßserver_names_hash_bucket_sizeÁºìÂ≠òÂå∫Â§ßÂ∞è server { listen 80; server_name www.abc.com; charset utf-8; location / { proxy_pass http://localhost:10001; } } server { listen 80; server_name aaa.abc.com; charset utf-8; location / { proxy_pass http://localhost:20002; } } #ÈÖçÁΩÆ https Ë∑®ÂüüËß£ÂÜ≥ server { listen 86 ssl; server_name xxx.xxx.com; ssl_certificate E://soft//nginx-1.20.1//key_pem//7585805__hzsgis.com.pem; ssl_certificate_key E://soft//nginx-1.20.1//key_pem//7585805__hzsgis.com.key; ssl_session_cache shared:SSL:1m; ssl_session_timeout 20m; ssl_ciphers ECDHE-RSA-AES128-GCM-SHA256:ECDHE:ECDH:AES:HIGH:!aNULL:!MD5:!ADH:!RC4; ssl_protocols TLSv1 TLSv1.1 TLSv1.2; ssl_prefer_server_ciphers on; #charset koi8-r; #access_log logs/host.access.log main; root E:\\lxl\\Project\\ghyzt\\dist; location / { try_files $uri $uri/ @router; index index.html index.htm; client_max_body_size 600m; } location @router { rewrite ^.*$ /index.html last; } location ^~/prod-api/ { rewrite ^/prod-api/(.*)$ /$1 break; add_header Cache-Control &quot;no-catche,no-store&quot;; if ($request_method = 'OPTIONS') { add_header 'Access-Control-Allow-Origin' '*'; add_header 'Access-Control-Allow-Credentials' 'true'; add_header 'Access-Control-Allow-Methods' 'GET, POST, PATCH, DELETE, PUT, OPTIONS'; add_header 'Access-Control-Allow-Headers' 'DNT,X-Mx-ReqToken,Keep-Alive,User-Agent,X-Requested-With,If-Modified-Since,Cache-Control,Content-Type, Access-Control-Expose-Headers, Token, Authorization'; add_header 'Access-Control-Max-Age' 1728000; add_header 'Content-Type' 'text/plain charset=UTF-8'; add_header 'Content-Length' 0; return 204; } add_header 'Access-Control-Allow-Origin' '*'; proxy_pass http://172.0.0.1:8086; proxy_buffering off; proxy_request_buffering off; } client_max_body_size 600m; #location / { #root html; #index index.html index.htm; #} #error_page 404 /404.html; # redirect server error pages to the static page /50x.html # error_page 500 502 503 504 /50x.html; location = /50x.html { root html; } # proxy the PHP scripts to Apache listening on 127.0.0.1:80 # #location ~ \\.php$ { # proxy_pass http://127.0.0.1; #} # pass the PHP scripts to FastCGI server listening on 127.0.0.1:9000 # #location ~ \\.php$ { # root html; # fastcgi_pass 127.0.0.1:9000; # fastcgi_index index.php; # fastcgi_param SCRIPT_FILENAME /scripts$fastcgi_script_name; # include fastcgi_params; #} # deny access to .htaccess files, if Apache's document root # concurs with nginx's one # #location ~ /\\.ht { # deny all; #} } ÂäüËÉΩ 1ÔºâÊ≠£ÂèçÂêë‰ª£ÁêÜ Ê≠£Âêë‰ª£ÁêÜÔºöÁâπÂÆöÊÉÖÂÜµ‰∏ãÔºå‰ª£ÁêÜÁî®Êà∑ËÆøÈóÆÊúçÂä°Âô®ÔºåÈúÄË¶ÅÁî®Êà∑ÊâãÂä®ÁöÑËÆæÁΩÆ‰ª£ÁêÜÊúçÂä°Âô®ÁöÑipÂíåÁ´ØÂè£Âè∑„ÄÇ ÂèçÂêë‰ª£ÁêÜÔºöÊòØÁî®Êù•‰ª£ÁêÜÊúçÂä°Âô®Ôºå‰ª£ÁêÜÁî®Êà∑Ë¶ÅËÆøÈóÆÁöÑÁõÆÊ†áÊúçÂä°Âô®„ÄÇ‰ª£ÁêÜÊúçÂä°Âô®Êé•ÂèóËØ∑Ê±ÇÔºåÁÑ∂ÂêéÂ∞ÜËØ∑Ê±ÇËΩ¨ÂèëÁªôÂÜÖÈÉ®ÁΩëÁªúÁöÑÊúçÂä°Âô®(ÊúçÂä°ÈõÜÁæ§Ê®°Âºè)ÔºåÂπ∂Â∞Ü‰ªéÊúçÂä°Âô®‰∏äÂæóÂà∞ÁöÑÁªìÊûúËøîÂõûÁªôÂÆ¢Êà∑Á´ØÔºåÊ≠§Êó∂‰ª£ÁêÜÊúçÂä°Âô®ÂØπÂ§ñÂ∞±Ë°®Áé∞‰∏∫‰∏Ä‰∏™ÊúçÂä°Âô®„ÄÇ NginxÂú®ÂèçÂêë‰ª£ÁêÜ‰∏äÔºåÊèê‰æõÁÅµÊ¥ªÁöÑÂäüËÉΩÔºåÂèØ‰ª•Ê†πÊçÆ‰∏çÂêåÁöÑÊ≠£ÂàôÈááÁî®‰∏çÂêåÁöÑËΩ¨ÂèëÁ≠ñÁï•ÔºåÂ¶ÇÂõæËÆæÁΩÆÂ•ΩÂêé‰∏çÂêåÁöÑËØ∑Ê±ÇÂ∞±ÂèØ‰ª•Ëµ∞‰∏çÂêåÁöÑÊúçÂä°Âô®„ÄÇ 2ÔºâË¥üËΩΩÂùáË°° Ë¥üËΩΩÂùáË°°ÔºöÂ§öÂú®È´òÂπ∂ÂèëÊÉÖÂÜµ‰∏ãÈúÄË¶Å‰ΩøÁî®„ÄÇÂÖ∂ÂéüÁêÜÂ∞±ÊòØÂ∞ÜÊï∞ÊçÆÊµÅÈáèÂàÜÊëäÂà∞Â§ö‰∏™ÊúçÂä°Âô®ÊâßË°åÔºåÂáèËΩªÊØèÂè∞ÊúçÂä°Âô®ÁöÑÂéãÂäõÔºåÂ§öÂè∞ÊúçÂä°Âô®(ÈõÜÁæ§)ÂÖ±ÂêåÂÆåÊàêÂ∑•‰Ωú‰ªªÂä°Ôºå‰ªéËÄåÊèêÈ´ò‰∫ÜÊï∞ÊçÆÁöÑÂêûÂêêÈáè„ÄÇ NginxÂèØ‰ΩøÁî®ÁöÑË¥üËΩΩÂùáË°°Á≠ñÁï•ÊúâÔºöËΩÆËØ¢ÔºàÈªòËÆ§Ôºâ„ÄÅÊùÉÈáç„ÄÅip_hash„ÄÅurl_hash(Á¨¨‰∏âÊñπ)„ÄÅfair(Á¨¨‰∏âÊñπ)„ÄÇ 3ÔºâÂä®ÈùôÂàÜÁ¶ª Â∏∏Áî®‰∫éÂâçÂêéÁ´ØÂàÜÁ¶ªÔºåNginxÊèê‰æõÁöÑÂä®ÈùôÂàÜÁ¶ªÊòØÊåáÊääÂä®ÊÄÅËØ∑Ê±ÇÂíåÈùôÊÄÅËØ∑Ê±ÇÂàÜÁ¶ªÂºÄÔºåÂêàÈÄÇÁöÑÊúçÂä°Âô®Â§ÑÁêÜÁõ∏Â∫îÁöÑËØ∑Ê±ÇÔºå‰ΩøÊï¥‰∏™ÊúçÂä°Âô®Á≥ªÁªüÁöÑÊÄßËÉΩ„ÄÅÊïàÁéáÊõ¥È´ò„ÄÇ NginxÂèØ‰ª•Ê†πÊçÆÈÖçÁΩÆÂØπ‰∏çÂêåÁöÑËØ∑Ê±ÇÂÅö‰∏çÂêåËΩ¨ÂèëÔºåËøôÊòØÂä®ÊÄÅÂàÜÁ¶ªÁöÑÂü∫Á°Ä„ÄÇÈùôÊÄÅËØ∑Ê±ÇÂØπÂ∫îÁöÑÈùôÊÄÅËµÑÊ∫êÂèØ‰ª•Áõ¥Êé•ÊîæÂú®Nginx‰∏äÂÅöÁºìÂÜ≤ÔºåÊõ¥Â•ΩÁöÑÂÅöÊ≥ïÊòØÊîæÂú®Áõ∏Â∫îÁöÑÁºìÂÜ≤ÊúçÂä°Âô®‰∏ä„ÄÇÂä®ÊÄÅËØ∑Ê±ÇÁî±Áõ∏Â∫îÁöÑÂêéÁ´ØÊúçÂä°Âô®Â§ÑÁêÜ„ÄÇ","link":"/2021/02/24/Draft/2021/Nginx/"},{"title":"‰π¶ÂΩ±Èü≥","text":"ËÆ∞ÂΩï‰∏éÂõûÂøÜÊâçËÉΩËÆ©ÈÇ£‰∫õÁæéÂ•ΩÁöÑ‰∏çÁæéÂ•ΩÁöÑÂ≠òÁïôËÑë‰∏≠ÔºåÈòµÈòµÂõûËç°‰∏éÂèëÈÖµ„ÄÇ Â∑•ÂÖ∑ÔºöKindle„ÄÅÈòøÈáå‰∫ëÁõò ÊúàÂ∫¶‰π¶Á±çÔºö„Ää‰ª£Á†ÅÊï¥Ê¥Å‰πãÈÅì„Äã ÊÉ≥ÁúãÔºö [ ] Â∑≤ÁúãÔºö BOOKS--OTHER „ÄäÁôΩÂ§úË°å„ÄãÔºà‰∏úÈáéÂ•éÂêæÔºâ „ÄäËß£ÂøßÊùÇË¥ßÈì∫„ÄãÔºà‰∏úÈáéÂ•éÂêæÔºâ „ÄäËÆ∏‰∏âËßÇÂçñË°ÄËÆ∞„ÄãÔºà‰ΩôÂçéÔºâ „ÄäÊàë‰ª¨‰ª®„ÄãÔºàÊù®ÁªõÔºâ „ÄäÊàëÁöÑÂÆ∂„ÄãÔºàÂ∑¥ÈáëÔºâ „ÄäÂ±ÄÂ§ñ‰∫∫„Äã „ÄäÂ∞èÁéãÂ≠ê„Äã „ÄäÊÅ∂ÊÑè„ÄãÔºà‰∏úÈáéÂ•éÂêæÔºâ „ÄäÊëÜÊ∏°‰∫∫„ÄãÂÖãËé±Â∞îÈ∫¶ÂÖãÁ¶èÂ∞î „ÄäÂÅ∑ÂΩ±Â≠êÁöÑ‰∫∫„ÄãÔºàÈ©¨ÂÖãÊùéÁª¥Ôºâ „ÄäÂ≤õ‰∏ä‰π¶Â∫ó„ÄãÔºà‰∏úÈáéÂ•éÂêæÔºâ „ÄäÂ´åÁñë‰∫∫XÁöÑÁåÆË∫´„Äã „ÄäÊ¥ªÁùÄ„ÄãÔºà‰ΩôÂçéÔºâ „ÄäÁ©ÜÊñØÊûóÁöÑËë¨Á§º„ÄãÔºàÈúçËææÔºâ „Ää‰πñÔºåÊë∏Êë∏Â§¥„ÄãÔºàÂ§ßÂÜ∞Ôºâ „ÄäÊ∞¥ÂΩ©‰ªéÂÖ•Èó®Âà∞Á≤æÈÄö„ÄãÔºàÈ£û‰πêÈ∏üÔºâ „Ää‰∫∫ÔºåËØóÊÑèÁöÑÊ†ñÂ±Ö„ÄãÔºàÊµ∑Âæ∑Ê†ºÂ∞îÔºâ „ÄäÊòéÊúùÈÇ£‰∫õ‰∫ã„ÄãÂΩìÂπ¥ÊòéÊúàÔºåÁü≥Èîê „ÄäÁúãËßÅ„ÄãÊü¥Èùô „ÄäÊ∑∑Ë°ÄË±πÁéã„ÄãÊ≤àÁü≥Ê∫™ „ÄäÁãºÁéãÊ¢¶„ÄãÊ≤àÁü≥Ê∫™ „ÄäÁ¨¨‰∏ÉÂ§©„Äã‰ΩôÂçé „ÄäÂú∞ÂøÉÊ∏∏ËÆ∞„Äã „ÄäÁõÆÈÄÅ„ÄãÈæôÂ∫îÂè∞ „Ää‰∫∫Èó¥Â§±Ê†º„Äã „ÄäÂà´‰∏ä‰∫ÜÊëÑÂΩ±ÁöÑÂΩì„Äã „ÄäÊãçÂá∫ÊòéÊòüËåÉ„Äã „Ää‰∫∫ÂÉèÊëÑÂΩ±ÊïôÁ®ã„Äã Âîê‰∏úÂπ≥ „ÄäÂÆâÂæíÁîüÁ´•ËØù„Äã BOOKS--MAJOR „ÄäEffective Java„Äã „ÄäJAVAÁºñÁ®ãÊÄùÊÉ≥„Äã „ÄäÂõæËß£HTTP„Äã „ÄäÊ∑±ÂÖ•ÁêÜËß£JavaËôöÊãüÊú∫3„Äã „ÄäËÆ°ÁÆóÊú∫ÁΩëÁªúËá™È°∂‰∏ã‰∏ãÊñπÊ≥ï„Äã „ÄäÁ®ãÂ∫èÂëòÁöÑËá™Êàë‰øÆÂÖª„Äã 1.ÂÆûË∑µÂá∫ÁúüÁü•ÔºåÈÄöÁî®ÊúÄÂÆùË¥µÔºåÊúÄÊñ∞‰πê‰∫éÊ±ÇÔºåÊ≤üÈÄö‰∏çÂèØÊó†ÔºåÁéØÂ¢ÉÂΩ±ÂìçÂ§ßÔºåÂàá‰øùË∫´‰ΩìÂ•ΩÔºåËñ™ÈÖ¨Á≠âÈáèÁ∫ßÔºåÂçïÈ°πÊ±ÇÂèëÂ±ïÔºåÂ£∞Ë™âÂª∫ÂìÅÁâåÔºå‰∏çÊñ≠Â≠¶ËøõÊ≠• 2.Ëã±ËØ≠ÂæàÈáçË¶ÅÔºåÈòÖËØª‰ºòÁßÄÈ°πÁõÆÔºå „ÄäÈòøÈáåÂ∑¥Â∑¥ÂºÄÂèëÊâãÂÜåÊ≥∞Â±±Áâà„Äã 1.ÊâÄÊúâÊï∞ÊçÆÂ∫ìÈÉΩË¶ÅÈÖçÁΩÆgmy_create(ÂàõÂª∫Êó∂Èó¥)„ÄÅgmt_modified(Êõ¥Êñ∞Êó∂Èó¥)‰∏îÈúÄË¶ÅËá™Âä®Âåñ MUSIC MOVIES „ÄäÈì∂Ê≤≥Êä§Âç´Èòü2„Äã „ÄäÊñ∞Êú®‰πÉ‰ºä„Äã „ÄäÂä†ÂãíÊØîÊµ∑Áõó1234„Äã „ÄäËøô‰∏™ÊùÄÊâã‰∏çÂ§™ÂÜ∑„Äã „ÄäËÇñÁî≥ÂÖãÁöÑÊïëËµé„Äã „ÄäÊ≥∞Âù¶Â∞ºÂÖãÂè∑„Äã „ÄäÊÄ¶Âà§ÂøÉÂä®„Äã „ÄäÊòüÈôÖÁ©øË∂ä„Äã „ÄäÊ∫ê‰ª£Á†Å„Äã „ÄäÈªëÂÆ¢Â∏ùÂõΩ„Äã „ÄäÊõæÁªè„Äã „ÄäÁà±‰∏Ω‰∏ùÁöÑÊ¢¶Ê∏∏‰ªôÂ¢É„Äã „ÄäÂÜà‰ªÅÊ≥¢Ê¨°„Äã „ÄäÂ§©Á©∫‰πãÂüé„Äã „ÄäÂèòÂΩ¢ÈáëÂàö5„Äã „ÄäÊú∫Âô®ÁÆ°ÂÆ∂„Äã „ÄäÁã¨Á´ãÊó•„Äã „ÄäÂπΩÁÅµË°åÂä®ÈòøÂ∞îÊ≥ïÈòü„Äã „ÄäÂ§™Á©∫ÊóÖÂÆ¢„Äã „ÄäÂ§™Á©∫‰∏ÄÂè∑„Äã „ÄäÂú∞ÂøÉÂºïÂäõ„Äã „ÄäÊöÆÂÖâ‰πãÂüé„Äã „ÄäÂºÇÂΩ¢„Äã „ÄäÁÅ´ÊòüÊïëÊè¥„Äã „ÄäÁæé‰∏Ω‰∫∫Áîü„Äã „ÄäÊ∑±Â§úÈ£üÂ†Ç„Äã „ÄäÊàòÁãº1/2„Äã „ÄäÊëÜÊ∏°‰∫∫„Äã „ÄäÂÆâÂæ∑ÂæóÊ∏∏Êàè„Äã „ÄäÂçÅ‰∫åÂè™Áå¥Â≠ê„Äã „ÄäÂ∞èÊ£ÆÊûó„Äã „ÄäÈÄÜ‰∏ñÁïå„Äã „ÄäÈáëÂàöÈ™∑È´ÖÂ≤õ„Äã „ÄäÂ§èÊ¥õÁâπÁÉ¶ÊÅº„Äã „ÄäÂ∑¶ËÄ≥„Äã „ÄäÈí¢ÈìÅÈ™ëÂ£´„Äã „ÄäÊçâÂ¶ñËÆ∞„Äã „ÄäÈáçËøî20Â≤Å„Äã „ÄäÊú∫Ê¢∞Â∏à„Äã „ÄäÊîªÂ£≥Êú∫Âä®Èòü„Äã „Ää‰∏Ä‰∏áÂÖ¨ÈáåÁöÑÁ∫¶ÂÆö„Äã „ÄäÁîüÂåñÂç±Êú∫ÂÖ®„Äã „ÄäË∞ãÊùÄ‰ººÊ∞¥Âπ¥Âçé„Äã „ÄäÁ¨¨‰πùÂå∫„Äã „Ää‰∏éÂêõÁõ∏ÊÅã100Ê¨°„Äã „ÄäÊÇüÁ©∫‰º†„Äã „ÄäÂà∫ÂÆ¢‰ø°Êù°„Äã „ÄäÁª£Êò•ÂàÄÔºå‰øÆÁΩóÂú∫„Äã „ÄäÊùÉÂà©ÁöÑÊ∏∏Êàè1234567„Äã Â´åÁñë‰∫∫XÁöÑÁåÆË∫´ ÂØªÊ¢¶ÁéØÊ∏∏ËÆ∞ ÁºùÁ∫´Êú∫‰πêÈòü Êï¶ÂàªÂ∞îÂÖã Ê¥õ‰∏ΩÂ°î È≠ÅÊãî123 Ëß£ÂøßÊùÇË¥ßÂ∫ó Ââç‰ªª3 Á•ûÂ•áÂ•≥‰æ† Ëä≥Âçé Ë¢´ÂÅ∑Ëµ∞ÁöÑÈÇ£‰∫îÂπ¥ ‰ªé‰Ω†ÁöÑÂÖ®‰∏ñÁïåË∑ØËøá ÂàÜÊâãÂêàÁ∫¶ Â§èÊ¥õÁâπÁÉ¶ÊÅº ÂåÜÂåÜÈÇ£Âπ¥ Â§±ÊÅã33Â§© Êµ∑‰∏äÈí¢Áê¥Â∏à ÂÖ¨ÁâõÂéÜÈô©ËÆ∞ 179Â∞èÊó∂ ÊúàÁêÉ ËÆ∞ÂøÜÂ§ßÂ∏à ÈªëÂ§©ÈπÖ Èì∂ÁøºÊùÄÊâã Ë°ÄÊàòÈí¢ÈîØÂ≤≠ Ëá™ÊùÄÂ∞èÈòü Áúã‰∏çËßÅÁöÑÂÆ¢‰∫∫ ‰∫å‰ª£Â¶ñÁ≤æ‰πã‰ªäÁîüÊúâÂπ∏ ÊØîÂæóÂÖî Â§©Á©∫‰πãÁúº Â∞èËêùËéâÁöÑÁå¥Á•ûÂ§ßÂèî Âº±ÁÇπ ÈòøÁîòÊ≠£‰º† ÂΩìÂπ∏Á¶èÊù•Êï≤Èó® Á°ÖË∞∑123 ÂõΩÁéãÁöÑÊºîËÆ≤ ÊàëÊòØÊ±üÂ∞èÁôΩ ÂΩ± ÁªøÁöÆ‰π¶ ÁõóÊ¢¶Á©∫Èó¥ Ë∞ÉÈü≥Â∏à Â∞ëÂπ¥Ê¥æÁöÑÂ•áÂπªÊºÇÊµÅ ÊÄ¶ÁÑ∂ÂøÉÂä® Èú∏ÁéãÂà´Âß¨ Â§ç‰ªáËÄÖËÅîÁõüÂõõ ËúòËõõ‰æ†Âπ≥Ë°åÂÆáÂÆô Â§¥Âè∑Áé©ÂÆ∂ ÊòéÊó•ËæπÁºò Â∞èÊó∂ÂÖâ ÁñØÁãÇÂä®Áâ©Âüé È©ØÈæôÈ´òÊâã12","link":"/2021/02/24/Draft/2021/%E4%B9%A6%E5%BD%B1%E9%9F%B3/"},{"title":"ÂÅ•Ë∫´Á©øÊê≠","text":"Ë∫´‰ΩìÊòØÈù©ÂëΩÁöÑÊú¨Èí± ËΩØ‰ª∂ÔºöÂ∞èÁ∫¢‰π¶ÔºåËÆ∞ÂΩïÂøÉÂæóÔºåËØª‰π¶ÁîµÂΩ±Á¨îËÆ∞ÔºåÊëÑÂΩ±ÔºåÊóÖÊ∏∏ Á¨¨‰∏Ä‰∏™Â∞èÁõÆÊ†áÔºöËÖπËÇå„ÄÅËÉ∏ËÇå ÂÅ•Ë∫´Âü∫Á°ÄÁü•ËØÜ ÊúâÊ∞ßÊó†Ê∞ßÔºü","link":"/2021/02/24/Draft/2021/%E5%81%A5%E8%BA%AB%E7%A9%BF%E6%90%AD/"},{"title":"BUG","text":"È°πÁõÆÊÄªÁªìÔºåÂºÄÂèë‰πãÂ§ñÊäÄËÉΩÊèêÂçá È°πÁõÆÁÆ°ÁêÜÊµÅÁ®ã ËµÑÊ∫êÂáÜÂ§á ÊúçÂä°Âô® „ÄêÂüüÂêç„ÄÅÂÜÖÂ§ñÁΩëÁªúËÅîÈÄöÂºÄÈÄö„ÄÅÁ´ØÂè£ÂºÄÈÄö„Äê443„ÄÅ80„ÄÅÈÉ®ÁΩ≤Á´ØÂè£Á≠â„Äë„Äë Êï¥‰Ωì ËåÉÂõ¥ ËøõÂ∫¶ ÊàêÊú¨ Ë¥®Èáè ‰∫∫Âäõ Ê≤üÈÄö È£éÈô© ÈááË¥≠ Âπ≤Á≥ª‰∫∫","link":"/2021/02/24/Draft/2021/%E9%A1%B9%E7%9B%AE%E7%AE%A1%E7%90%86/"},{"title":"Dubbo","text":"ÂàÜÂ∏ÉÂºèRPCÊ°ÜÊû∂Apache Dubbo 1. ËΩØ‰ª∂Êû∂ÊûÑÁöÑÊºîËøõËøáÁ®ã ËΩØ‰ª∂Êû∂ÊûÑÁöÑÂèëÂ±ïÁªèÂéÜ‰∫ÜÁî±Âçï‰ΩìÊû∂ÊûÑ„ÄÅÂûÇÁõ¥Êû∂ÊûÑ„ÄÅSOAÊû∂ÊûÑÂà∞ÂæÆÊúçÂä°Êû∂ÊûÑÁöÑÊºîËøõËøáÁ®ãÔºå‰∏ãÈù¢Êàë‰ª¨ÂàÜÂà´‰∫ÜËß£‰∏Ä‰∏ãËøôÂá†‰∏™Êû∂ÊûÑ„ÄÇ 1.1 Âçï‰ΩìÊû∂ÊûÑ Êû∂ÊûÑËØ¥ÊòéÔºö ‚Äã ÂÖ®ÈÉ®ÂäüËÉΩÈõÜ‰∏≠Âú®‰∏Ä‰∏™È°πÁõÆÂÜÖÔºàAll in oneÔºâ„ÄÇ Êû∂ÊûÑ‰ºòÁÇπÔºö ‚Äã Êû∂ÊûÑÁÆÄÂçïÔºåÂâçÊúüÂºÄÂèëÊàêÊú¨‰Ωé„ÄÅÂºÄÂèëÂë®ÊúüÁü≠ÔºåÈÄÇÂêàÂ∞èÂûãÈ°πÁõÆ„ÄÇ Êû∂ÊûÑÁº∫ÁÇπÔºö ‚Äã ÂÖ®ÈÉ®ÂäüËÉΩÈõÜÊàêÂú®‰∏Ä‰∏™Â∑•Á®ã‰∏≠ÔºåÂØπ‰∫éÂ§ßÂûãÈ°πÁõÆ‰∏çÊòìÂºÄÂèë„ÄÅÊâ©Â±ïÂíåÁª¥Êä§„ÄÇ ‚Äã ÊäÄÊúØÊ†àÂèóÈôêÔºåÂè™ËÉΩ‰ΩøÁî®‰∏ÄÁßçËØ≠Ë®ÄÂºÄÂèë„ÄÇ ‚Äã Á≥ªÁªüÊÄßËÉΩÊâ©Â±ïÂè™ËÉΩÈÄöËøáÊâ©Â±ïÈõÜÁæ§ËäÇÁÇπÔºåÊàêÊú¨È´ò„ÄÇ 1.2 ÂûÇÁõ¥Êû∂ÊûÑ Êû∂ÊûÑËØ¥ÊòéÔºö ‚Äã ÊåâÁÖß‰∏öÂä°ËøõË°åÂàáÂâ≤ÔºåÂΩ¢ÊàêÂ∞èÁöÑÂçï‰ΩìÈ°πÁõÆ„ÄÇ Êû∂ÊûÑ‰ºòÁÇπÔºö ‚Äã ÊäÄÊúØÊ†àÂèØÊâ©Â±ïÔºà‰∏çÂêåÁöÑÁ≥ªÁªüÂèØ‰ª•Áî®‰∏çÂêåÁöÑÁºñÁ®ãËØ≠Ë®ÄÁºñÂÜôÔºâ„ÄÇ Êû∂ÊûÑÁº∫ÁÇπÔºö ‚Äã ÂäüËÉΩÈõÜ‰∏≠Âú®‰∏Ä‰∏™È°πÁõÆ‰∏≠Ôºå‰∏çÂà©‰∫éÂºÄÂèë„ÄÅÊâ©Â±ï„ÄÅÁª¥Êä§„ÄÇ ‚Äã Á≥ªÁªüÊâ©Âº†Âè™ËÉΩÈÄöËøáÈõÜÁæ§ÁöÑÊñπÂºè„ÄÇ ‚Äã È°πÁõÆ‰πãÈó¥ÂäüËÉΩÂÜó‰Ωô„ÄÅÊï∞ÊçÆÂÜó‰Ωô„ÄÅËÄ¶ÂêàÊÄßÂº∫„ÄÇ 1.3 SOAÊû∂ÊûÑ SOAÂÖ®Áß∞‰∏∫Service-Oriented ArchitectureÔºåÂç≥Èù¢ÂêëÊúçÂä°ÁöÑÊû∂ÊûÑ„ÄÇÂÆÉÂèØ‰ª•Ê†πÊçÆÈúÄÊ±ÇÈÄöËøáÁΩëÁªúÂØπÊùæÊï£ËÄ¶ÂêàÁöÑÁ≤óÁ≤íÂ∫¶Â∫îÁî®ÁªÑ‰ª∂(ÊúçÂä°)ËøõË°åÂàÜÂ∏ÉÂºèÈÉ®ÁΩ≤„ÄÅÁªÑÂêàÂíå‰ΩøÁî®„ÄÇ‰∏Ä‰∏™ÊúçÂä°ÈÄöÂ∏∏‰ª•Áã¨Á´ãÁöÑÂΩ¢ÂºèÂ≠òÂú®‰∫éÊìç‰ΩúÁ≥ªÁªüËøõÁ®ã‰∏≠„ÄÇ Á´ôÂú®ÂäüËÉΩÁöÑËßíÂ∫¶ÔºåÊää‰∏öÂä°ÈÄªËæëÊäΩË±°ÊàêÂèØÂ§çÁî®ÁöÑÊúçÂä°ÔºåÈÄöËøáÊúçÂä°ÁöÑÁºñÊéíÂÆûÁé∞‰∏öÂä°ÁöÑÂø´ÈÄüÂÜçÁîüÔºåÁõÆÁöÑÔºöÊääÂéüÂÖàÂõ∫ÊúâÁöÑ‰∏öÂä°ÂäüËÉΩËΩ¨Âèò‰∏∫ÈÄöÁî®ÁöÑ‰∏öÂä°ÊúçÂä°ÔºåÂÆûÁé∞‰∏öÂä°ÈÄªËæëÁöÑÂø´ÈÄüÂ§çÁî®„ÄÇ Êû∂ÊûÑËØ¥ÊòéÔºö ‚Äã Â∞ÜÈáçÂ§çÂäüËÉΩÊàñÊ®°ÂùóÊäΩÂèñÊàêÁªÑ‰ª∂ÁöÑÂΩ¢ÂºèÔºåÂØπÂ§ñÊèê‰æõÊúçÂä°ÔºåÂú®È°πÁõÆ‰∏éÊúçÂä°‰πãÈó¥‰ΩøÁî®ESBÔºà‰ºÅ‰∏öÊúçÂä°ÊÄªÁ∫øÔºâÁöÑÂΩ¢Âºè‰Ωú‰∏∫ÈÄö‰ø°ÁöÑÊ°•Ê¢Å„ÄÇ Êû∂ÊûÑ‰ºòÁÇπÔºö ‚Äã ÈáçÂ§çÂäüËÉΩÊàñÊ®°ÂùóÊäΩÂèñ‰∏∫ÊúçÂä°ÔºåÊèêÈ´òÂºÄÂèëÊïàÁéá„ÄÇ ‚Äã ÂèØÈáçÁî®ÊÄßÈ´ò„ÄÇ ‚Äã ÂèØÁª¥Êä§ÊÄßÈ´ò„ÄÇ Êû∂ÊûÑÁº∫ÁÇπÔºö ‚Äã ÂêÑÁ≥ªÁªü‰πãÈó¥‰∏öÂä°‰∏çÂêåÔºåÂæàÈöæÁ°ÆËÆ§ÂäüËÉΩÊàñÊ®°ÂùóÊòØÈáçÂ§çÁöÑ„ÄÇ ‚Äã ÊäΩÂèñÊúçÂä°ÁöÑÁ≤íÂ∫¶Â§ß„ÄÇ ‚Äã Á≥ªÁªüÂíåÊúçÂä°‰πãÈó¥ËÄ¶ÂêàÂ∫¶È´ò„ÄÇ 1.4 ÂæÆÊúçÂä°Êû∂ÊûÑ Êû∂ÊûÑËØ¥ÊòéÔºö ‚Äã Â∞ÜÁ≥ªÁªüÊúçÂä°Â±ÇÂÆåÂÖ®Áã¨Á´ãÂá∫Êù•ÔºåÊäΩÂèñ‰∏∫‰∏Ä‰∏™‰∏Ä‰∏™ÁöÑÂæÆÊúçÂä°„ÄÇ ‚Äã ÊäΩÂèñÁöÑÁ≤íÂ∫¶Êõ¥ÁªÜÔºåÈÅµÂæ™Âçï‰∏ÄÂéüÂàô„ÄÇ ‚Äã ÈááÁî®ËΩªÈáèÁ∫ßÊ°ÜÊû∂ÂçèËÆÆ‰º†Ëæì„ÄÇ Êû∂ÊûÑ‰ºòÁÇπÔºö ‚Äã ÊúçÂä°ÊãÜÂàÜÁ≤íÂ∫¶Êõ¥ÁªÜÔºåÊúâÂà©‰∫éÊèêÈ´òÂºÄÂèëÊïàÁéá„ÄÇ ‚Äã ÂèØ‰ª•ÈíàÂØπ‰∏çÂêåÊúçÂä°Âà∂ÂÆöÂØπÂ∫îÁöÑ‰ºòÂåñÊñπÊ°à„ÄÇ ‚Äã ÈÄÇÁî®‰∫é‰∫íËÅîÁΩëÊó∂‰ª£Ôºå‰∫ßÂìÅËø≠‰ª£Âë®ÊúüÊõ¥Áü≠„ÄÇ Êû∂ÊûÑÁº∫ÁÇπÔºö ‚Äã Á≤íÂ∫¶Â§™ÁªÜÂØºËá¥ÊúçÂä°Â§™Â§öÔºåÁª¥Êä§ÊàêÊú¨È´ò„ÄÇ ‚Äã ÂàÜÂ∏ÉÂºèÁ≥ªÁªüÂºÄÂèëÁöÑÊäÄÊúØÊàêÊú¨È´òÔºåÂØπÂõ¢ÈòüÁöÑÊåëÊàòÂ§ß„ÄÇ 2. Apache DubboÊ¶ÇËø∞ 2.1 DubboÁÆÄ‰ªã Apache DubboÊòØ‰∏ÄÊ¨æÈ´òÊÄßËÉΩÁöÑJava RPCÊ°ÜÊû∂„ÄÇÂÖ∂ÂâçË∫´ÊòØÈòøÈáåÂ∑¥Â∑¥ÂÖ¨Âè∏ÂºÄÊ∫êÁöÑ‰∏Ä‰∏™È´òÊÄßËÉΩ„ÄÅËΩªÈáèÁ∫ßÁöÑÂºÄÊ∫êJava RPCÊ°ÜÊû∂ÔºåÂèØ‰ª•ÂíåSpringÊ°ÜÊû∂Êó†ÁºùÈõÜÊàê„ÄÇ ‰ªÄ‰πàÊòØRPCÔºü RPCÂÖ®Áß∞‰∏∫remote procedure callÔºåÂç≥ËøúÁ®ãËøáÁ®ãË∞ÉÁî®„ÄÇÊØîÂ¶Ç‰∏§Âè∞ÊúçÂä°Âô®AÂíåBÔºåAÊúçÂä°Âô®‰∏äÈÉ®ÁΩ≤‰∏Ä‰∏™Â∫îÁî®ÔºåBÊúçÂä°Âô®‰∏äÈÉ®ÁΩ≤‰∏Ä‰∏™Â∫îÁî®ÔºåAÊúçÂä°Âô®‰∏äÁöÑÂ∫îÁî®ÊÉ≥Ë∞ÉÁî®BÊúçÂä°Âô®‰∏äÁöÑÂ∫îÁî®Êèê‰æõÁöÑÊñπÊ≥ïÔºåÁî±‰∫é‰∏§‰∏™Â∫îÁî®‰∏çÂú®‰∏Ä‰∏™ÂÜÖÂ≠òÁ©∫Èó¥Ôºå‰∏çËÉΩÁõ¥Êé•Ë∞ÉÁî®ÔºåÊâÄ‰ª•ÈúÄË¶ÅÈÄöËøáÁΩëÁªúÊù•Ë°®ËææË∞ÉÁî®ÁöÑËØ≠‰πâÂíå‰º†ËææË∞ÉÁî®ÁöÑÊï∞ÊçÆ„ÄÇ ÈúÄË¶ÅÊ≥®ÊÑèÁöÑÊòØRPCÂπ∂‰∏çÊòØ‰∏Ä‰∏™ÂÖ∑‰ΩìÁöÑÊäÄÊúØÔºåËÄåÊòØÊåáÊï¥‰∏™ÁΩëÁªúËøúÁ®ãË∞ÉÁî®ËøáÁ®ã„ÄÇ RPCÊòØ‰∏Ä‰∏™Ê≥õÂåñÁöÑÊ¶ÇÂøµÔºå‰∏•Ê†ºÊù•ËØ¥‰∏ÄÂàáËøúÁ®ãËøáÁ®ãË∞ÉÁî®ÊâãÊÆµÈÉΩÂ±û‰∫éRPCËåÉÁï¥„ÄÇÂêÑÁßçÂºÄÂèëËØ≠Ë®ÄÈÉΩÊúâËá™Â∑±ÁöÑRPCÊ°ÜÊû∂„ÄÇJava‰∏≠ÁöÑRPCÊ°ÜÊû∂ÊØîËæÉÂ§öÔºåÂπøÊ≥õ‰ΩøÁî®ÁöÑÊúâRMI„ÄÅHessian„ÄÅDubboÁ≠â„ÄÇ DubboÂÆòÁΩëÂú∞ÂùÄÔºöhttp://dubbo.apache.org DubboÊèê‰æõ‰∫Ü‰∏âÂ§ßÊ†∏ÂøÉËÉΩÂäõÔºöÈù¢ÂêëÊé•Âè£ÁöÑËøúÁ®ãÊñπÊ≥ïË∞ÉÁî®ÔºåÊô∫ËÉΩÂÆπÈîôÂíåË¥üËΩΩÂùáË°°Ôºå‰ª•ÂèäÊúçÂä°Ëá™Âä®Ê≥®ÂÜåÂíåÂèëÁé∞„ÄÇ 2.2 DubboÊû∂ÊûÑ DubboÊû∂ÊûÑÂõæÔºàDubboÂÆòÊñπÊèê‰æõÔºâÂ¶Ç‰∏ãÔºö ËäÇÁÇπËßíËâ≤ËØ¥ÊòéÔºö ËäÇÁÇπ ËßíËâ≤ÂêçÁß∞ Provider Êö¥Èú≤ÊúçÂä°ÁöÑÊúçÂä°Êèê‰æõÊñπ Consumer Ë∞ÉÁî®ËøúÁ®ãÊúçÂä°ÁöÑÊúçÂä°Ê∂àË¥πÊñπ Registry ÊúçÂä°Ê≥®ÂÜå‰∏éÂèëÁé∞ÁöÑÊ≥®ÂÜå‰∏≠ÂøÉ Monitor ÁªüËÆ°ÊúçÂä°ÁöÑË∞ÉÁî®Ê¨°Êï∞ÂíåË∞ÉÁî®Êó∂Èó¥ÁöÑÁõëÊéß‰∏≠ÂøÉ Container ÊúçÂä°ËøêË°åÂÆπÂô® ËôöÁ∫øÈÉΩÊòØÂºÇÊ≠•ËÆøÈóÆÔºåÂÆûÁ∫øÈÉΩÊòØÂêåÊ≠•ËÆøÈóÆ ËìùËâ≤ËôöÁ∫ø:Âú®ÂêØÂä®Êó∂ÂÆåÊàêÁöÑÂäüËÉΩ Á∫¢Ëâ≤ËôöÁ∫ø(ÂÆûÁ∫ø)ÈÉΩÊòØÁ®ãÂ∫èËøêË°åËøáÁ®ã‰∏≠ÊâßË°åÁöÑÂäüËÉΩ Ë∞ÉÁî®ÂÖ≥Á≥ªËØ¥Êòé: ÊúçÂä°ÂÆπÂô®Ë¥üË¥£ÂêØÂä®ÔºåÂä†ËΩΩÔºåËøêË°åÊúçÂä°Êèê‰æõËÄÖ„ÄÇ ÊúçÂä°Êèê‰æõËÄÖÂú®ÂêØÂä®Êó∂ÔºåÂêëÊ≥®ÂÜå‰∏≠ÂøÉÊ≥®ÂÜåËá™Â∑±Êèê‰æõÁöÑÊúçÂä°„ÄÇ ÊúçÂä°Ê∂àË¥πËÄÖÂú®ÂêØÂä®Êó∂ÔºåÂêëÊ≥®ÂÜå‰∏≠ÂøÉËÆ¢ÈòÖËá™Â∑±ÊâÄÈúÄÁöÑÊúçÂä°„ÄÇ Ê≥®ÂÜå‰∏≠ÂøÉËøîÂõûÊúçÂä°Êèê‰æõËÄÖÂú∞ÂùÄÂàóË°®ÁªôÊ∂àË¥πËÄÖÔºåÂ¶ÇÊûúÊúâÂèòÊõ¥ÔºåÊ≥®ÂÜå‰∏≠ÂøÉÂ∞ÜÂü∫‰∫éÈïøËøûÊé•Êé®ÈÄÅÂèòÊõ¥Êï∞ÊçÆÁªôÊ∂àË¥πËÄÖ„ÄÇ ÊúçÂä°Ê∂àË¥πËÄÖÔºå‰ªéÊèê‰æõËÄÖÂú∞ÂùÄÂàóË°®‰∏≠ÔºåÂü∫‰∫éËΩØË¥üËΩΩÂùáË°°ÁÆóÊ≥ïÔºåÈÄâ‰∏ÄÂè∞Êèê‰æõËÄÖËøõË°åË∞ÉÁî®ÔºåÂ¶ÇÊûúË∞ÉÁî®Â§±Ë¥•ÔºåÂÜçÈÄâÂè¶‰∏ÄÂè∞Ë∞ÉÁî®„ÄÇ ÊúçÂä°Ê∂àË¥πËÄÖÂíåÊèê‰æõËÄÖÔºåÂú®ÂÜÖÂ≠ò‰∏≠Á¥ØËÆ°Ë∞ÉÁî®Ê¨°Êï∞ÂíåË∞ÉÁî®Êó∂Èó¥ÔºåÂÆöÊó∂ÊØèÂàÜÈíüÂèëÈÄÅ‰∏ÄÊ¨°ÁªüËÆ°Êï∞ÊçÆÂà∞ÁõëÊéß‰∏≠ÂøÉ„ÄÇ 3. ÊúçÂä°Ê≥®ÂÜå‰∏≠ÂøÉZookeeper ÈÄöËøáÂâçÈù¢ÁöÑDubboÊû∂ÊûÑÂõæÂèØ‰ª•ÁúãÂà∞ÔºåRegistryÔºàÊúçÂä°Ê≥®ÂÜå‰∏≠ÂøÉÔºâÂú®ÂÖ∂‰∏≠Ëµ∑ÁùÄËá≥ÂÖ≥ÈáçË¶ÅÁöÑ‰ΩúÁî®„ÄÇDubboÂÆòÊñπÊé®Ëçê‰ΩøÁî®Zookeeper‰Ωú‰∏∫ÊúçÂä°Ê≥®ÂÜå‰∏≠ÂøÉ„ÄÇ 3.1 Zookeeper‰ªãÁªç Zookeeper ÊòØ Apache Hadoop ÁöÑÂ≠êÈ°πÁõÆÔºåÊòØ‰∏Ä‰∏™Ê†ëÂûãÁöÑÁõÆÂΩïÊúçÂä°ÔºåÊîØÊåÅÂèòÊõ¥Êé®ÈÄÅÔºåÈÄÇÂêà‰Ωú‰∏∫ Dubbo ÊúçÂä°ÁöÑÊ≥®ÂÜå‰∏≠ÂøÉÔºåÂ∑•‰∏öÂº∫Â∫¶ËæÉÈ´òÔºåÂèØÁî®‰∫éÁîü‰∫ßÁéØÂ¢ÉÔºåÂπ∂Êé®Ëçê‰ΩøÁî® „ÄÇ ‰∏∫‰∫Ü‰æø‰∫éÁêÜËß£ZookeeperÁöÑÊ†ëÂûãÁõÆÂΩïÊúçÂä°ÔºåÊàë‰ª¨ÂÖàÊù•Áúã‰∏Ä‰∏ãÊàë‰ª¨ÁîµËÑëÁöÑÊñá‰ª∂Á≥ªÁªü(‰πüÊòØ‰∏Ä‰∏™Ê†ëÂûãÁõÆÂΩïÁªìÊûÑ)Ôºö ÊàëÁöÑÁîµËÑëÂèØ‰ª•ÂàÜ‰∏∫Â§ö‰∏™ÁõòÁ¨¶Ôºà‰æãÂ¶ÇC„ÄÅD„ÄÅEÁ≠âÔºâÔºåÊØè‰∏™ÁõòÁ¨¶‰∏ãÂèØ‰ª•ÂàõÂª∫Â§ö‰∏™ÁõÆÂΩïÔºåÊØè‰∏™ÁõÆÂΩï‰∏ãÈù¢ÂèØ‰ª•ÂàõÂª∫Êñá‰ª∂Ôºå‰πüÂèØ‰ª•ÂàõÂª∫Â≠êÁõÆÂΩïÔºåÊúÄÁªàÊûÑÊàê‰∫Ü‰∏Ä‰∏™Ê†ëÂûãÁªìÊûÑ„ÄÇÈÄöËøáËøôÁßçÊ†ëÂûãÁªìÊûÑÁöÑÁõÆÂΩïÔºåÊàë‰ª¨ÂèØ‰ª•Â∞ÜÊñá‰ª∂ÂàÜÈó®Âà´Á±ªÁöÑËøõË°åÂ≠òÊîæÔºåÊñπ‰æøÊàë‰ª¨ÂêéÊúüÊü•Êâæ„ÄÇËÄå‰∏îÁ£ÅÁõò‰∏äÁöÑÊØè‰∏™Êñá‰ª∂ÈÉΩÊúâ‰∏Ä‰∏™ÂîØ‰∏ÄÁöÑËÆøÈóÆË∑ØÂæÑÔºå‰æãÂ¶ÇÔºöC:\\Windows\\itcast\\hello.txt„ÄÇ ZookeeperÊ†ëÂûãÁõÆÂΩïÊúçÂä°Ôºö ÊµÅÁ®ãËØ¥ÊòéÔºö ÊúçÂä°Êèê‰æõËÄÖ(Provider)ÂêØÂä®Êó∂: Âêë /dubbo/com.foo.BarService/providers ÁõÆÂΩï‰∏ãÂÜôÂÖ•Ëá™Â∑±ÁöÑ URL Âú∞ÂùÄ ÊúçÂä°Ê∂àË¥πËÄÖ(Consumer)ÂêØÂä®Êó∂: ËÆ¢ÈòÖ /dubbo/com.foo.BarService/providers ÁõÆÂΩï‰∏ãÁöÑÊèê‰æõËÄÖ URL Âú∞ÂùÄ„ÄÇÂπ∂Âêë /dubbo/com.foo.BarService/consumers ÁõÆÂΩï‰∏ãÂÜôÂÖ•Ëá™Â∑±ÁöÑ URL Âú∞ÂùÄ ÁõëÊéß‰∏≠ÂøÉ(Monitor)ÂêØÂä®Êó∂: ËÆ¢ÈòÖ /dubbo/com.foo.BarService ÁõÆÂΩï‰∏ãÁöÑÊâÄÊúâÊèê‰æõËÄÖÂíåÊ∂àË¥πËÄÖ URL Âú∞ÂùÄ 3.2 ÂÆâË£ÖZookeeper ‰∏ãËΩΩÂú∞ÂùÄÔºöhttp://archive.apache.org/dist/zookeeper/ Êú¨ËØæÁ®ã‰ΩøÁî®ÁöÑZookeeperÁâàÊú¨‰∏∫3.4.6Ôºå‰∏ãËΩΩÂÆåÊàêÂêéÂèØ‰ª•Ëé∑ÂæóÂêçÁß∞‰∏∫zookeeper-3.4.6.tar.gzÁöÑÂéãÁº©Êñá‰ª∂„ÄÇ ÂÆâË£ÖÊ≠•È™§Ôºö Á¨¨‰∏ÄÊ≠•ÔºöÂÆâË£Ö jdkÔºàÁï•Ôºâ Á¨¨‰∫åÊ≠•ÔºöÊää zookeeper ÁöÑÂéãÁº©ÂåÖÔºàzookeeper-3.4.6.tar.gzÔºâ‰∏ä‰º†Âà∞ linux Á≥ªÁªü Á¨¨‰∏âÊ≠•ÔºöËß£ÂéãÁº©ÂéãÁº©ÂåÖ ‚Äã tar -zxvf zookeeper-3.4.6.tar.gz Á¨¨ÂõõÊ≠•ÔºöËøõÂÖ•zookeeper-3.4.6ÁõÆÂΩïÔºåÂàõÂª∫dataÁõÆÂΩï ‚Äã mkdir data Á¨¨‰∫îÊ≠•ÔºöËøõÂÖ•confÁõÆÂΩï ÔºåÊääzoo_sample.cfg ÊîπÂêç‰∏∫zoo.cfg ‚Äã cd conf ‚Äã mv zoo_sample.cfg zoo.cfg Á¨¨ÂÖ≠Ê≠•ÔºöÊâìÂºÄzoo.cfgÊñá‰ª∂, ‰øÆÊîπdataÂ±ûÊÄßÔºödataDir=/root/zookeeper-3.4.6/data 3.3 ÂêØÂä®„ÄÅÂÅúÊ≠¢Zookeeper ËøõÂÖ•ZookeeperÁöÑbinÁõÆÂΩïÔºåÂêØÂä®ÊúçÂä°ÂëΩ‰ª§ ./zkServer.sh start ÂÅúÊ≠¢ÊúçÂä°ÂëΩ‰ª§ ./zkServer.sh stop Êü•ÁúãÊúçÂä°Áä∂ÊÄÅÔºö ./zkServer.sh status 4. DubboÂø´ÈÄüÂÖ•Èó® Dubbo‰Ωú‰∏∫‰∏Ä‰∏™RPCÊ°ÜÊû∂ÔºåÂÖ∂ÊúÄÊ†∏ÂøÉÁöÑÂäüËÉΩÂ∞±ÊòØË¶ÅÂÆûÁé∞Ë∑®ÁΩëÁªúÁöÑËøúÁ®ãË∞ÉÁî®„ÄÇÊú¨Â∞èËäÇÂ∞±ÊòØË¶ÅÂàõÂª∫‰∏§‰∏™Â∫îÁî®Ôºå‰∏Ä‰∏™‰Ωú‰∏∫ÊúçÂä°ÁöÑÊèê‰æõÊñπÔºå‰∏Ä‰∏™‰Ωú‰∏∫ÊúçÂä°ÁöÑÊ∂àË¥πÊñπ„ÄÇÈÄöËøáDubboÊù•ÂÆûÁé∞ÊúçÂä°Ê∂àË¥πÊñπËøúÁ®ãË∞ÉÁî®ÊúçÂä°Êèê‰æõÊñπÁöÑÊñπÊ≥ï„ÄÇ 4.1 ÊúçÂä°Êèê‰æõÊñπÂºÄÂèë ÂºÄÂèëÊ≠•È™§Ôºö Ôºà1ÔºâÂàõÂª∫mavenÂ∑•Á®ãÔºàÊâìÂåÖÊñπÂºè‰∏∫warÔºâdubbodemo_providerÔºåÂú®pom.xmlÊñá‰ª∂‰∏≠ÂØºÂÖ•Â¶Ç‰∏ãÂùêÊ†á 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980818283848586878889909192&lt;properties&gt; &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt; &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt; &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt; &lt;spring.version&gt;5.0.5.RELEASE&lt;/spring.version&gt;&lt;/properties&gt;&lt;dependencies&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-context&lt;/artifactId&gt; &lt;version&gt;${spring.version}&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-beans&lt;/artifactId&gt; &lt;version&gt;${spring.version}&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt; &lt;version&gt;${spring.version}&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-jdbc&lt;/artifactId&gt; &lt;version&gt;${spring.version}&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-aspects&lt;/artifactId&gt; &lt;version&gt;${spring.version}&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-jms&lt;/artifactId&gt; &lt;version&gt;${spring.version}&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-context-support&lt;/artifactId&gt; &lt;version&gt;${spring.version}&lt;/version&gt; &lt;/dependency&gt; &lt;!-- dubboÁõ∏ÂÖ≥ --&gt; &lt;dependency&gt; &lt;groupId&gt;com.alibaba&lt;/groupId&gt; &lt;artifactId&gt;dubbo&lt;/artifactId&gt; &lt;version&gt;2.6.0&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.apache.zookeeper&lt;/groupId&gt; &lt;artifactId&gt;zookeeper&lt;/artifactId&gt; &lt;version&gt;3.4.7&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;com.github.sgroschupf&lt;/groupId&gt; &lt;artifactId&gt;zkclient&lt;/artifactId&gt; &lt;version&gt;0.1&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;javassist&lt;/groupId&gt; &lt;artifactId&gt;javassist&lt;/artifactId&gt; &lt;version&gt;3.12.1.GA&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;com.alibaba&lt;/groupId&gt; &lt;artifactId&gt;fastjson&lt;/artifactId&gt; &lt;version&gt;1.2.47&lt;/version&gt; &lt;/dependency&gt;&lt;/dependencies&gt;&lt;build&gt; &lt;plugins&gt; &lt;plugin&gt; &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt; &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt; &lt;version&gt;2.3.2&lt;/version&gt; &lt;configuration&gt; &lt;source&gt;1.8&lt;/source&gt; &lt;target&gt;1.8&lt;/target&gt; &lt;/configuration&gt; &lt;/plugin&gt; &lt;plugin&gt; &lt;groupId&gt;org.apache.tomcat.maven&lt;/groupId&gt; &lt;artifactId&gt;tomcat7-maven-plugin&lt;/artifactId&gt; &lt;configuration&gt; &lt;!-- ÊåáÂÆöÁ´ØÂè£ --&gt; &lt;port&gt;8081&lt;/port&gt; &lt;!-- ËØ∑Ê±ÇË∑ØÂæÑ --&gt; &lt;path&gt;/&lt;/path&gt; &lt;/configuration&gt; &lt;/plugin&gt; &lt;/plugins&gt;&lt;/build&gt; Ôºà2ÔºâÈÖçÁΩÆweb.xmlÊñá‰ª∂ 1234567891011121314&lt;!DOCTYPE web-app PUBLIC &quot;-//Sun Microsystems, Inc.//DTD Web Application 2.3//EN&quot; &quot;http://java.sun.com/dtd/web-app_2_3.dtd&quot; &gt;&lt;web-app&gt; &lt;display-name&gt;Archetype Created Web Application&lt;/display-name&gt; &lt;context-param&gt; &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt; &lt;param-value&gt;classpath:applicationContext*.xml&lt;/param-value&gt; &lt;/context-param&gt; &lt;listener&gt; &lt;listener-class&gt;org.springframework.web.context.ContextLoaderListener&lt;/listener-class&gt; &lt;/listener&gt;&lt;/web-app&gt; Ôºà3ÔºâÂàõÂª∫ÊúçÂä°Êé•Âè£ 1234package com.itheima.service;public interface HelloService { public String sayHello(String name);} Ôºà4ÔºâÂàõÂª∫ÊúçÂä°ÂÆûÁé∞Á±ª 12345678910package com.itheima.service.impl;import com.alibaba.dubbo.config.annotation.Service;import com.itheima.service.HelloService;@Servicepublic class HelloServiceImpl implements HelloService { public String sayHello(String name) { return &quot;hello &quot; + name; }} Ê≥®ÊÑèÔºöÊúçÂä°ÂÆûÁé∞Á±ª‰∏ä‰ΩøÁî®ÁöÑServiceÊ≥®Ëß£ÊòØDubboÊèê‰æõÁöÑÔºåÁî®‰∫éÂØπÂ§ñÂèëÂ∏ÉÊúçÂä° Ôºà5ÔºâÂú®src/main/resources‰∏ãÂàõÂª∫applicationContext-service.xml 123456789101112131415161718192021222324&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:p=&quot;http://www.springframework.org/schema/p&quot; xmlns:context=&quot;http://www.springframework.org/schema/context&quot; xmlns:dubbo=&quot;http://code.alibabatech.com/schema/dubbo&quot; xmlns:mvc=&quot;http://www.springframework.org/schema/mvc&quot; xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd http://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc.xsd http://code.alibabatech.com/schema/dubbo http://code.alibabatech.com/schema/dubbo/dubbo.xsd http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd&quot;&gt; &lt;!-- ÂΩìÂâçÂ∫îÁî®ÂêçÁß∞ÔºåÁî®‰∫éÊ≥®ÂÜå‰∏≠ÂøÉËÆ°ÁÆóÂ∫îÁî®Èó¥‰æùËµñÂÖ≥Á≥ªÔºåÊ≥®ÊÑèÔºöÊ∂àË¥πËÄÖÂíåÊèê‰æõËÄÖÂ∫îÁî®Âêç‰∏çË¶Å‰∏ÄÊ†∑ --&gt; &lt;dubbo:application name=&quot;dubbodemo_provider&quot; /&gt; &lt;!-- ËøûÊé•ÊúçÂä°Ê≥®ÂÜå‰∏≠ÂøÉzookeeper ip‰∏∫zookeeperÊâÄÂú®ÊúçÂä°Âô®ÁöÑipÂú∞ÂùÄ--&gt; &lt;dubbo:registry address=&quot;zookeeper://192.168.134.129:2181&quot;/&gt; &lt;!-- Ê≥®ÂÜå ÂçèËÆÆÂíåport Á´ØÂè£ÈªòËÆ§ÊòØ20880 --&gt; &lt;dubbo:protocol name=&quot;dubbo&quot; port=&quot;20881&quot;&gt;&lt;/dubbo:protocol&gt; &lt;!-- Êâ´ÊèèÊåáÂÆöÂåÖÔºåÂä†ÂÖ•@ServiceÊ≥®Ëß£ÁöÑÁ±ª‰ºöË¢´ÂèëÂ∏É‰∏∫ÊúçÂä° --&gt; &lt;dubbo:annotation package=&quot;com.itheima.service.impl&quot; /&gt;&lt;/beans&gt; Ôºà6ÔºâÂêØÂä®ÊúçÂä° tomcat7:run 4.2 ÊúçÂä°Ê∂àË¥πÊñπÂºÄÂèë ÂºÄÂèëÊ≠•È™§Ôºö Ôºà1ÔºâÂàõÂª∫mavenÂ∑•Á®ãÔºàÊâìÂåÖÊñπÂºè‰∏∫warÔºâdubbodemo_consumerÔºåpom.xmlÈÖçÁΩÆÂíå‰∏äÈù¢ÊúçÂä°Êèê‰æõËÄÖÁõ∏ÂêåÔºåÂè™ÈúÄË¶ÅÂ∞ÜTomcatÊèí‰ª∂ÁöÑÁ´ØÂè£Âè∑Êîπ‰∏∫8082Âç≥ÂèØ Ôºà2ÔºâÈÖçÁΩÆweb.xmlÊñá‰ª∂ 1234567891011121314151617181920&lt;!DOCTYPE web-app PUBLIC &quot;-//Sun Microsystems, Inc.//DTD Web Application 2.3//EN&quot; &quot;http://java.sun.com/dtd/web-app_2_3.dtd&quot; &gt;&lt;web-app&gt; &lt;display-name&gt;Archetype Created Web Application&lt;/display-name&gt; &lt;servlet&gt; &lt;servlet-name&gt;springmvc&lt;/servlet-name&gt; &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt; &lt;!-- ÊåáÂÆöÂä†ËΩΩÁöÑÈÖçÁΩÆÊñá‰ª∂ ÔºåÈÄöËøáÂèÇÊï∞contextConfigLocationÂä†ËΩΩ --&gt; &lt;init-param&gt; &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt; &lt;param-value&gt;classpath:applicationContext-web.xml&lt;/param-value&gt; &lt;/init-param&gt; &lt;load-on-startup&gt;1&lt;/load-on-startup&gt; &lt;/servlet&gt; &lt;servlet-mapping&gt; &lt;servlet-name&gt;springmvc&lt;/servlet-name&gt; &lt;url-pattern&gt;*.do&lt;/url-pattern&gt; &lt;/servlet-mapping&gt;&lt;/web-app&gt; Ôºà3ÔºâÂ∞ÜÊúçÂä°Êèê‰æõËÄÖÂ∑•Á®ã‰∏≠ÁöÑHelloServiceÊé•Âè£Â§çÂà∂Âà∞ÂΩìÂâçÂ∑•Á®ã Ôºà4ÔºâÁºñÂÜôController 12345678910111213141516171819202122package com.itheima.controller;import com.alibaba.dubbo.config.annotation.Reference;import com.itheima.service.HelloService;import org.springframework.stereotype.Controller;import org.springframework.web.bind.annotation.RequestMapping;import org.springframework.web.bind.annotation.ResponseBody;@Controller@RequestMapping(&quot;/demo&quot;)public class HelloController { @Reference private HelloService helloService; @RequestMapping(&quot;/hello&quot;) @ResponseBody public String getName(String name){ //ËøúÁ®ãË∞ÉÁî® String result = helloService.sayHello(name); System.out.println(result); return result; }} Ê≥®ÊÑèÔºöController‰∏≠Ê≥®ÂÖ•HelloService‰ΩøÁî®ÁöÑÊòØDubboÊèê‰æõÁöÑ@ReferenceÊ≥®Ëß£ Ôºà5ÔºâÂú®src/main/resources‰∏ãÂàõÂª∫applicationContext-web.xml 1234567891011121314151617181920212223&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:p=&quot;http://www.springframework.org/schema/p&quot; xmlns:context=&quot;http://www.springframework.org/schema/context&quot; xmlns:dubbo=&quot;http://code.alibabatech.com/schema/dubbo&quot; xmlns:mvc=&quot;http://www.springframework.org/schema/mvc&quot; xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd http://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc.xsd http://code.alibabatech.com/schema/dubbo http://code.alibabatech.com/schema/dubbo/dubbo.xsd http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd&quot;&gt; &lt;!-- ÂΩìÂâçÂ∫îÁî®ÂêçÁß∞ÔºåÁî®‰∫éÊ≥®ÂÜå‰∏≠ÂøÉËÆ°ÁÆóÂ∫îÁî®Èó¥‰æùËµñÂÖ≥Á≥ªÔºåÊ≥®ÊÑèÔºöÊ∂àË¥πËÄÖÂíåÊèê‰æõËÄÖÂ∫îÁî®Âêç‰∏çË¶Å‰∏ÄÊ†∑ --&gt; &lt;dubbo:application name=&quot;dubbodemo-consumer&quot; /&gt; &lt;!-- ËøûÊé•ÊúçÂä°Ê≥®ÂÜå‰∏≠ÂøÉzookeeper ip‰∏∫zookeeperÊâÄÂú®ÊúçÂä°Âô®ÁöÑipÂú∞ÂùÄ--&gt; &lt;dubbo:registry address=&quot;zookeeper://192.168.134.129:2181&quot;/&gt; &lt;!-- Êâ´ÊèèÁöÑÊñπÂºèÊö¥Èú≤Êé•Âè£ --&gt; &lt;dubbo:annotation package=&quot;com.itheima.controller&quot; /&gt;&lt;/beans&gt; Ôºà6ÔºâËøêË°åÊµãËØï tomcat7:runÂêØÂä® Âú®ÊµèËßàÂô®ËæìÂÖ•http://localhost:8082/demo/hello.do?name=JackÔºåÊü•ÁúãÊµèËßàÂô®ËæìÂá∫ÁªìÊûú **ÊÄùËÄÉ‰∏ÄÔºö**‰∏äÈù¢ÁöÑDubboÂÖ•Èó®Ê°à‰æã‰∏≠Êàë‰ª¨ÊòØÂ∞ÜHelloServiceÊé•Âè£‰ªéÊúçÂä°Êèê‰æõËÄÖÂ∑•Á®ã(dubbodemo_provider)Â§çÂà∂Âà∞ÊúçÂä°Ê∂àË¥πËÄÖÂ∑•Á®ã(dubbodemo_consumer)‰∏≠ÔºåËøôÁßçÂÅöÊ≥ïÊòØÂê¶ÂêàÈÄÇÔºüËøòÊúâÊ≤°ÊúâÊõ¥Â•ΩÁöÑÊñπÂºèÔºü **Á≠îÔºö**ËøôÁßçÂÅöÊ≥ïÊòæÁÑ∂ÊòØ‰∏çÂ•ΩÁöÑÔºåÂêå‰∏Ä‰∏™Êé•Âè£Ë¢´Â§çÂà∂‰∫Ü‰∏§‰ªΩÔºå‰∏çÂà©‰∫éÂêéÊúüÁª¥Êä§„ÄÇÊõ¥Â•ΩÁöÑÊñπÂºèÊòØÂçïÁã¨ÂàõÂª∫‰∏Ä‰∏™mavenÂ∑•Á®ãÔºåÂ∞ÜÊ≠§Êé•Âè£ÂàõÂª∫Âú®Ëøô‰∏™mavenÂ∑•Á®ã‰∏≠„ÄÇÈúÄË¶Å‰æùËµñÊ≠§Êé•Âè£ÁöÑÂ∑•Á®ãÂè™ÈúÄË¶ÅÂú®Ëá™Â∑±Â∑•Á®ãÁöÑpom.xmlÊñá‰ª∂‰∏≠ÂºïÂÖ•mavenÂùêÊ†áÂç≥ÂèØ„ÄÇ **ÊÄùËÄÉ‰∫åÔºö**Âú®ÊúçÂä°Ê∂àË¥πËÄÖÂ∑•Á®ã(dubbodemo_consumer)‰∏≠Âè™ÊòØÂºïÁî®‰∫ÜHelloServiceÊé•Âè£ÔºåÂπ∂Ê≤°ÊúâÊèê‰æõÂÆûÁé∞Á±ªÔºåDubboÊòØÂ¶Ç‰ΩïÂÅöÂà∞ËøúÁ®ãË∞ÉÁî®ÁöÑÔºü **Á≠îÔºö**DubboÂ∫ïÂ±ÇÊòØÂü∫‰∫é‰ª£ÁêÜÊäÄÊúØ‰∏∫HelloServiceÊé•Âè£ÂàõÂª∫‰ª£ÁêÜÂØπË±°ÔºåËøúÁ®ãË∞ÉÁî®ÊòØÈÄöËøáÊ≠§‰ª£ÁêÜÂØπË±°ÂÆåÊàêÁöÑ„ÄÇÂèØ‰ª•ÈÄöËøáÂºÄÂèëÂ∑•ÂÖ∑ÁöÑdebugÂäüËÉΩÊü•ÁúãÊ≠§‰ª£ÁêÜÂØπË±°ÁöÑÂÜÖÈÉ®ÁªìÊûÑ„ÄÇÂè¶Â§ñÔºåDubboÂÆûÁé∞ÁΩëÁªú‰º†ËæìÂ∫ïÂ±ÇÊòØÂü∫‰∫éNettyÊ°ÜÊû∂ÂÆåÊàêÁöÑ„ÄÇ **ÊÄùËÄÉ‰∏âÔºö**‰∏äÈù¢ÁöÑDubboÂÖ•Èó®Ê°à‰æã‰∏≠Êàë‰ª¨‰ΩøÁî®Zookeeper‰Ωú‰∏∫ÊúçÂä°Ê≥®ÂÜå‰∏≠ÂøÉÔºåÊúçÂä°Êèê‰æõËÄÖÈúÄË¶ÅÂ∞ÜËá™Â∑±ÁöÑÊúçÂä°‰ø°ÊÅØÊ≥®ÂÜåÂà∞ZookeeperÔºåÊúçÂä°Ê∂àË¥πËÄÖÈúÄË¶Å‰ªéZookeeperËÆ¢ÈòÖËá™Â∑±ÊâÄÈúÄË¶ÅÁöÑÊúçÂä°ÔºåÊ≠§Êó∂ZookeeperÊúçÂä°Â∞±ÂèòÂæóÈùûÂ∏∏ÈáçË¶Å‰∫ÜÔºåÈÇ£Â¶Ç‰ΩïÈò≤Ê≠¢ZookeeperÂçïÁÇπÊïÖÈöúÂë¢Ôºü **Á≠îÔºö**ZookeeperÂÖ∂ÂÆûÊòØÊîØÊåÅÈõÜÁæ§Ê®°ÂºèÁöÑÔºåÂèØ‰ª•ÈÖçÁΩÆZookeeperÈõÜÁæ§Êù•ËææÂà∞ZookeeperÊúçÂä°ÁöÑÈ´òÂèØÁî®ÔºåÈò≤Ê≠¢Âá∫Áé∞ÂçïÁÇπÊïÖÈöú„ÄÇ 5. DubboÁÆ°ÁêÜÊéßÂà∂Âè∞ Êàë‰ª¨Âú®ÂºÄÂèëÊó∂ÔºåÈúÄË¶ÅÁü•ÈÅìZookeeperÊ≥®ÂÜå‰∏≠ÂøÉÈÉΩÊ≥®ÂÜå‰∫ÜÂì™‰∫õÊúçÂä°ÔºåÊúâÂì™‰∫õÊ∂àË¥πËÄÖÊù•Ê∂àË¥πËøô‰∫õÊúçÂä°„ÄÇÊàë‰ª¨ÂèØ‰ª•ÈÄöËøáÈÉ®ÁΩ≤‰∏Ä‰∏™ÁÆ°ÁêÜ‰∏≠ÂøÉÊù•ÂÆûÁé∞„ÄÇÂÖ∂ÂÆûÁÆ°ÁêÜ‰∏≠ÂøÉÂ∞±ÊòØ‰∏Ä‰∏™webÂ∫îÁî®ÔºåÈÉ®ÁΩ≤Âà∞tomcatÂç≥ÂèØ„ÄÇ 5.1 ÂÆâË£Ö ÂÆâË£ÖÊ≠•È™§Ôºö Ôºà1ÔºâÂ∞ÜËµÑÊñô‰∏≠ÁöÑdubbo-admin-2.6.0.warÊñá‰ª∂Â§çÂà∂Âà∞tomcatÁöÑwebappsÁõÆÂΩï‰∏ã Ôºà2ÔºâÂêØÂä®tomcatÔºåÊ≠§warÊñá‰ª∂‰ºöËá™Âä®Ëß£Âéã Ôºà3Ôºâ‰øÆÊîπWEB-INF‰∏ãÁöÑdubbo.propertiesÊñá‰ª∂ÔºåÊ≥®ÊÑèdubbo.registry.addressÂØπÂ∫îÁöÑÂÄºÈúÄË¶ÅÂØπÂ∫îÂΩìÂâç‰ΩøÁî®ÁöÑZookeeperÁöÑipÂú∞ÂùÄÂíåÁ´ØÂè£Âè∑ ‚Äã dubbo.registry.address=zookeeper://192.168.134.129:2181 ‚Äã dubbo.admin.root.password=root ‚Äã dubbo.admin.guest.password=guest Ôºà4ÔºâÈáçÂêØtomcat 5.2 ‰ΩøÁî® Êìç‰ΩúÊ≠•È™§Ôºö Ôºà1ÔºâËÆøÈóÆhttp://localhost:8080/dubbo-admin-2.6.0/ÔºåËæìÂÖ•Áî®Êà∑Âêç(root)ÂíåÂØÜÁ†Å(root) Ôºà2ÔºâÂêØÂä®ÊúçÂä°Êèê‰æõËÄÖÂ∑•Á®ãÂíåÊúçÂä°Ê∂àË¥πËÄÖÂ∑•Á®ãÔºåÂèØ‰ª•Âú®Êü•ÁúãÂà∞ÂØπÂ∫îÁöÑ‰ø°ÊÅØ 6. DubboÁõ∏ÂÖ≥ÈÖçÁΩÆËØ¥Êòé 6.1 ÂåÖÊâ´Êèè 1&lt;dubbo:annotation package=&quot;com.itheima.service&quot; /&gt; ÊúçÂä°Êèê‰æõËÄÖÂíåÊúçÂä°Ê∂àË¥πËÄÖÈÉΩÈúÄË¶ÅÈÖçÁΩÆÔºåË°®Á§∫ÂåÖÊâ´ÊèèÔºå‰ΩúÁî®ÊòØÊâ´ÊèèÊåáÂÆöÂåÖ(ÂåÖÊã¨Â≠êÂåÖ)‰∏ãÁöÑÁ±ª„ÄÇ Â¶ÇÊûú‰∏ç‰ΩøÁî®ÂåÖÊâ´ÊèèÔºå‰πüÂèØ‰ª•ÈÄöËøáÂ¶Ç‰∏ãÈÖçÁΩÆÁöÑÊñπÂºèÊù•ÂèëÂ∏ÉÊúçÂä°Ôºö 12&lt;bean id=&quot;helloService&quot; class=&quot;com.itheima.service.impl.HelloServiceImpl&quot; /&gt;&lt;dubbo:service interface=&quot;com.itheima.api.HelloService&quot; ref=&quot;helloService&quot; /&gt; ‰Ωú‰∏∫ÊúçÂä°Ê∂àË¥πËÄÖÔºåÂèØ‰ª•ÈÄöËøáÂ¶Ç‰∏ãÈÖçÁΩÆÊù•ÂºïÁî®ÊúçÂä°Ôºö 12&lt;!-- ÁîüÊàêËøúÁ®ãÊúçÂä°‰ª£ÁêÜÔºåÂèØ‰ª•ÂíåÊú¨Âú∞bean‰∏ÄÊ†∑‰ΩøÁî®helloService --&gt;&lt;dubbo:reference id=&quot;helloService&quot; interface=&quot;com.itheima.api.HelloService&quot; /&gt; ‰∏äÈù¢ËøôÁßçÊñπÂºèÂèëÂ∏ÉÂíåÂºïÁî®ÊúçÂä°Ôºå‰∏Ä‰∏™ÈÖçÁΩÆÈ°π(dubbo:service„ÄÅdubbo:reference)Âè™ËÉΩÂèëÂ∏ÉÊàñËÄÖÂºïÁî®‰∏Ä‰∏™ÊúçÂä°ÔºåÂ¶ÇÊûúÊúâÂ§ö‰∏™ÊúçÂä°ÔºåËøôÁßçÊñπÂºèÂ∞±ÊØîËæÉÁπÅÁêê‰∫Ü„ÄÇÊé®Ëçê‰ΩøÁî®ÂåÖÊâ´ÊèèÊñπÂºè„ÄÇ 6.2 ÂçèËÆÆ 1&lt;dubbo:protocol name=&quot;dubbo&quot; port=&quot;20880&quot;/&gt; ‰∏ÄËà¨Âú®ÊúçÂä°Êèê‰æõËÄÖ‰∏ÄÊñπÈÖçÁΩÆÔºåÂèØ‰ª•ÊåáÂÆö‰ΩøÁî®ÁöÑÂçèËÆÆÂêçÁß∞ÂíåÁ´ØÂè£Âè∑„ÄÇ ÂÖ∂‰∏≠DubboÊîØÊåÅÁöÑÂçèËÆÆÊúâÔºödubbo„ÄÅrmi„ÄÅhessian„ÄÅhttp„ÄÅwebservice„ÄÅrest„ÄÅredisÁ≠â„ÄÇ Êé®Ëçê‰ΩøÁî®ÁöÑÊòØdubboÂçèËÆÆ„ÄÇ dubbo ÂçèËÆÆÈááÁî®Âçï‰∏ÄÈïøËøûÊé•Âíå NIO ÂºÇÊ≠•ÈÄöËÆØÔºåÈÄÇÂêà‰∫éÂ∞èÊï∞ÊçÆÈáèÂ§ßÂπ∂ÂèëÁöÑÊúçÂä°Ë∞ÉÁî®Ôºå‰ª•ÂèäÊúçÂä°Ê∂àË¥πËÄÖÊú∫Âô®Êï∞ËøúÂ§ß‰∫éÊúçÂä°Êèê‰æõËÄÖÊú∫Âô®Êï∞ÁöÑÊÉÖÂÜµ„ÄÇ‰∏çÈÄÇÂêà‰º†ÈÄÅÂ§ßÊï∞ÊçÆÈáèÁöÑÊúçÂä°ÔºåÊØîÂ¶Ç‰º†Êñá‰ª∂Ôºå‰º†ËßÜÈ¢ëÁ≠âÔºåÈô§ÈùûËØ∑Ê±ÇÈáèÂæà‰Ωé„ÄÇ ‰πüÂèØ‰ª•Âú®Âêå‰∏Ä‰∏™Â∑•Á®ã‰∏≠ÈÖçÁΩÆÂ§ö‰∏™ÂçèËÆÆÔºå‰∏çÂêåÊúçÂä°ÂèØ‰ª•‰ΩøÁî®‰∏çÂêåÁöÑÂçèËÆÆÔºå‰æãÂ¶ÇÔºö 1234567&lt;!-- Â§öÂçèËÆÆÈÖçÁΩÆ --&gt;&lt;dubbo:protocol name=&quot;dubbo&quot; port=&quot;20880&quot; /&gt;&lt;dubbo:protocol name=&quot;rmi&quot; port=&quot;1099&quot; /&gt;&lt;!-- ‰ΩøÁî®dubboÂçèËÆÆÊö¥Èú≤ÊúçÂä° --&gt;&lt;dubbo:service interface=&quot;com.itheima.api.HelloService&quot; ref=&quot;helloService&quot; protocol=&quot;dubbo&quot; /&gt;&lt;!-- ‰ΩøÁî®rmiÂçèËÆÆÊö¥Èú≤ÊúçÂä° --&gt;&lt;dubbo:service interface=&quot;com.itheima.api.DemoService&quot; ref=&quot;demoService&quot; protocol=&quot;rmi&quot; /&gt; 6.3 ÂêØÂä®Êó∂Ê£ÄÊü• 1&lt;dubbo:consumer check=&quot;false&quot;/&gt; ‰∏äÈù¢Ëøô‰∏™ÈÖçÁΩÆÈúÄË¶ÅÈÖçÁΩÆÂú®ÊúçÂä°Ê∂àË¥πËÄÖ‰∏ÄÊñπÔºåÂ¶ÇÊûú‰∏çÈÖçÁΩÆÈªòËÆ§checkÂÄº‰∏∫true„ÄÇDubbo Áº∫ÁúÅ‰ºöÂú®ÂêØÂä®Êó∂Ê£ÄÊü•‰æùËµñÁöÑÊúçÂä°ÊòØÂê¶ÂèØÁî®Ôºå‰∏çÂèØÁî®Êó∂‰ºöÊäõÂá∫ÂºÇÂ∏∏ÔºåÈòªÊ≠¢ Spring ÂàùÂßãÂåñÂÆåÊàêÔºå‰ª•‰æø‰∏äÁ∫øÊó∂ÔºåËÉΩÂèäÊó©ÂèëÁé∞ÈóÆÈ¢ò„ÄÇÂèØ‰ª•ÈÄöËøáÂ∞ÜcheckÂÄºÊîπ‰∏∫falseÊù•ÂÖ≥Èó≠Ê£ÄÊü•„ÄÇ Âª∫ËÆÆÂú®ÂºÄÂèëÈò∂ÊÆµÂ∞ÜcheckÂÄºËÆæÁΩÆ‰∏∫falseÔºåÂú®Áîü‰∫ßÁéØÂ¢É‰∏ãÊîπ‰∏∫true„ÄÇ 6.4 Ë¥üËΩΩÂùáË°° Ë¥üËΩΩÂùáË°°ÔºàLoad BalanceÔºâÔºöÂÖ∂ÂÆûÂ∞±ÊòØÂ∞ÜËØ∑Ê±ÇÂàÜÊëäÂà∞Â§ö‰∏™Êìç‰ΩúÂçïÂÖÉ‰∏äËøõË°åÊâßË°åÔºå‰ªéËÄåÂÖ±ÂêåÂÆåÊàêÂ∑•‰Ωú‰ªªÂä°„ÄÇ Âú®ÈõÜÁæ§Ë¥üËΩΩÂùáË°°Êó∂ÔºåDubbo Êèê‰æõ‰∫ÜÂ§öÁßçÂùáË°°Á≠ñÁï•ÔºàÂåÖÊã¨ÈöèÊú∫„ÄÅËΩÆËØ¢„ÄÅÊúÄÂ∞ëÊ¥ªË∑ÉË∞ÉÁî®Êï∞„ÄÅ‰∏ÄËá¥ÊÄßHashÔºâÔºåÁº∫ÁúÅ‰∏∫randomÈöèÊú∫Ë∞ÉÁî®„ÄÇ ÈÖçÁΩÆË¥üËΩΩÂùáË°°Á≠ñÁï•ÔºåÊó¢ÂèØ‰ª•Âú®ÊúçÂä°Êèê‰æõËÄÖ‰∏ÄÊñπÈÖçÁΩÆÔºå‰πüÂèØ‰ª•Âú®ÊúçÂä°Ê∂àË¥πËÄÖ‰∏ÄÊñπÈÖçÁΩÆÔºåÂ¶Ç‰∏ãÔºö 12345678910111213141516@Controller@RequestMapping(&quot;/demo&quot;)public class HelloController { //Âú®ÊúçÂä°Ê∂àË¥πËÄÖ‰∏ÄÊñπÈÖçÁΩÆË¥üËΩΩÂùáË°°Á≠ñÁï• @Reference(check = false,loadbalance = &quot;random&quot;) private HelloService helloService; @RequestMapping(&quot;/hello&quot;) @ResponseBody public String getName(String name){ //ËøúÁ®ãË∞ÉÁî® String result = helloService.sayHello(name); System.out.println(result); return result; }} 1234567//Âú®ÊúçÂä°Êèê‰æõËÄÖ‰∏ÄÊñπÈÖçÁΩÆË¥üËΩΩÂùáË°°@Service(loadbalance = &quot;random&quot;)public class HelloServiceImpl implements HelloService { public String sayHello(String name) { return &quot;hello &quot; + name; }} ÂèØ‰ª•ÈÄöËøáÂêØÂä®Â§ö‰∏™ÊúçÂä°Êèê‰æõËÄÖÊù•ËßÇÂØüDubboË¥üËΩΩÂùáË°°ÊïàÊûú„ÄÇ Ê≥®ÊÑèÔºöÂõ†‰∏∫Êàë‰ª¨ÊòØÂú®‰∏ÄÂè∞Êú∫Âô®‰∏äÂêØÂä®Â§ö‰∏™ÊúçÂä°Êèê‰æõËÄÖÔºåÊâÄ‰ª•ÈúÄË¶Å‰øÆÊîπtomcatÁöÑÁ´ØÂè£Âè∑ÂíåDubboÊúçÂä°ÁöÑÁ´ØÂè£Âè∑Êù•Èò≤Ê≠¢Á´ØÂè£ÂÜ≤Á™Å„ÄÇ Âú®ÂÆûÈôÖÁîü‰∫ßÁéØÂ¢É‰∏≠ÔºåÂ§ö‰∏™ÊúçÂä°Êèê‰æõËÄÖÊòØÂàÜÂà´ÈÉ®ÁΩ≤Âú®‰∏çÂêåÁöÑÊú∫Âô®‰∏äÔºåÊâÄ‰ª•‰∏çÂ≠òÂú®Á´ØÂè£ÂÜ≤Á™ÅÈóÆÈ¢ò„ÄÇ 7. Ëß£ÂÜ≥DubboÊó†Ê≥ïÂèëÂ∏ÉË¢´‰∫ãÂä°‰ª£ÁêÜÁöÑServiceÈóÆÈ¢ò ÂâçÈù¢Êàë‰ª¨Â∑≤ÁªèÂÆåÊàê‰∫ÜDubboÁöÑÂÖ•Èó®Ê°à‰æãÔºåÈÄöËøáÂÖ•Èó®Ê°à‰æãÊàë‰ª¨ÂèØ‰ª•ÁúãÂà∞ÈÄöËøáDubboÊèê‰æõÁöÑÊ†áÁ≠æÈÖçÁΩÆÂ∞±ÂèØ‰ª•ËøõË°åÂåÖÊâ´ÊèèÔºåÊâ´ÊèèÂà∞@ServiceÊ≥®Ëß£ÁöÑÁ±ªÂ∞±ÂèØ‰ª•Ë¢´ÂèëÂ∏É‰∏∫ÊúçÂä°„ÄÇ ‰ΩÜÊòØÊàë‰ª¨Â¶ÇÊûúÂú®ÊúçÂä°Êèê‰æõËÄÖÁ±ª‰∏äÂä†ÂÖ•@Transactional‰∫ãÂä°ÊéßÂà∂Ê≥®Ëß£ÂêéÔºåÊúçÂä°Â∞±ÂèëÂ∏É‰∏çÊàêÂäü‰∫Ü„ÄÇÂéüÂõ†ÊòØ‰∫ãÂä°ÊéßÂà∂ÁöÑÂ∫ïÂ±ÇÂéüÁêÜÊòØ‰∏∫ÊúçÂä°Êèê‰æõËÄÖÁ±ªÂàõÂª∫‰ª£ÁêÜÂØπË±°ÔºåËÄåÈªòËÆ§ÊÉÖÂÜµ‰∏ãSpringÊòØÂü∫‰∫éJDKÂä®ÊÄÅ‰ª£ÁêÜÊñπÂºèÂàõÂª∫‰ª£ÁêÜÂØπË±°ÔºåËÄåÊ≠§‰ª£ÁêÜÂØπË±°ÁöÑÂÆåÊï¥Á±ªÂêç‰∏∫com.sun.proxy.$Proxy42ÔºàÊúÄÂêé‰∏§‰ΩçÊï∞Â≠ó‰∏çÊòØÂõ∫ÂÆöÁöÑÔºâÔºåÂØºËá¥DubboÂú®ÂèëÂ∏ÉÊúçÂä°ÂâçËøõË°åÂåÖÂåπÈÖçÊó∂Êó†Ê≥ïÂÆåÊàêÂåπÈÖçÔºåËøõËÄåÊ≤°ÊúâËøõË°åÊúçÂä°ÁöÑÂèëÂ∏É„ÄÇ 7.1 ÈóÆÈ¢òÂ±ïÁ§∫ Âú®ÂÖ•Èó®Ê°à‰æãÁöÑÊúçÂä°Êèê‰æõËÄÖdubbodemo_providerÂ∑•Á®ãÂü∫Á°Ä‰∏äËøõË°åÂ±ïÁ§∫ Êìç‰ΩúÊ≠•È™§Ôºö Ôºà1ÔºâÂú®pom.xmlÊñá‰ª∂‰∏≠Â¢ûÂä†mavenÂùêÊ†á 123456789101112131415&lt;dependency&gt; &lt;groupId&gt;mysql&lt;/groupId&gt; &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt; &lt;version&gt;5.1.47&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt; &lt;groupId&gt;com.alibaba&lt;/groupId&gt; &lt;artifactId&gt;druid&lt;/artifactId&gt; &lt;version&gt;1.1.6&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt; &lt;groupId&gt;org.mybatis&lt;/groupId&gt; &lt;artifactId&gt;mybatis-spring&lt;/artifactId&gt; &lt;version&gt;1.3.2&lt;/version&gt;&lt;/dependency&gt; Ôºà2ÔºâÂú®applicationContext-service.xmlÈÖçÁΩÆÊñá‰ª∂‰∏≠Âä†ÂÖ•Êï∞ÊçÆÊ∫ê„ÄÅ‰∫ãÂä°ÁÆ°ÁêÜÂô®„ÄÅÂºÄÂêØ‰∫ãÂä°Ê≥®Ëß£ÁöÑÁõ∏ÂÖ≥ÈÖçÁΩÆ 1234567891011121314&lt;!--Êï∞ÊçÆÊ∫ê--&gt;&lt;bean id=&quot;dataSource&quot; class=&quot;com.alibaba.druid.pool.DruidDataSource&quot; destroy-method=&quot;close&quot;&gt; &lt;property name=&quot;username&quot; value=&quot;root&quot; /&gt; &lt;property name=&quot;password&quot; value=&quot;root&quot; /&gt; &lt;property name=&quot;driverClassName&quot; value=&quot;com.mysql.jdbc.Driver&quot; /&gt; &lt;property name=&quot;url&quot; value=&quot;jdbc:mysql://localhost:3306/test&quot; /&gt;&lt;/bean&gt;&lt;!-- ‰∫ãÂä°ÁÆ°ÁêÜÂô® --&gt;&lt;bean id=&quot;transactionManager&quot; class=&quot;org.springframework.jdbc.datasource.DataSourceTransactionManager&quot;&gt; &lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot;/&gt;&lt;/bean&gt;&lt;!--ÂºÄÂêØ‰∫ãÂä°ÊéßÂà∂ÁöÑÊ≥®Ëß£ÊîØÊåÅ--&gt;&lt;tx:annotation-driven transaction-manager=&quot;transactionManager&quot;/&gt; ‰∏äÈù¢ËøûÊé•ÁöÑÊï∞ÊçÆÂ∫ìÂèØ‰ª•Ëá™Ë°åÂàõÂª∫ Ôºà3ÔºâÂú®HelloServiceImplÁ±ª‰∏äÂä†ÂÖ•@TransactionalÊ≥®Ëß£ Ôºà4ÔºâÂêØÂä®ÊúçÂä°Êèê‰æõËÄÖÂíåÊúçÂä°Ê∂àË¥πËÄÖÔºåÂπ∂ËÆøÈóÆ ‰∏äÈù¢ÁöÑÈîôËØØ‰∏∫Ê≤°ÊúâÂèØÁî®ÁöÑÊúçÂä°Êèê‰æõËÄÖ Êü•ÁúãdubboÁÆ°ÁêÜÊéßÂà∂Âè∞ÂèëÁé∞ÊúçÂä°Âπ∂Ê≤°ÊúâÂèëÂ∏ÉÔºåÂ¶Ç‰∏ãÔºö ÂèØ‰ª•ÈÄöËøáÊñ≠ÁÇπË∞ÉËØïÁöÑÊñπÂºèÊü•ÁúãDubboÊâßË°åËøáÁ®ãÔºåDubboÈÄöËøáAnnotationBeanÁöÑpostProcessAfterInitializationÊñπÊ≥ïËøõË°åÂ§ÑÁêÜ 7.2 Ëß£ÂÜ≥ÊñπÊ°à ÈÄöËøá‰∏äÈù¢ÁöÑÊñ≠ÁÇπË∞ÉËØïÂèØ‰ª•ÁúãÂà∞ÔºåÂú®HelloServiceImplÁ±ª‰∏äÂä†ÂÖ•‰∫ãÂä°Ê≥®Ëß£ÂêéÔºåSpring‰ºö‰∏∫Ê≠§Á±ªÂü∫‰∫éJDKÂä®ÊÄÅ‰ª£ÁêÜÊäÄÊúØÂàõÂª∫‰ª£ÁêÜÂØπË±°ÔºåÂàõÂª∫ÁöÑ‰ª£ÁêÜÂØπË±°ÂÆåÊï¥Á±ªÂêç‰∏∫com.sun.proxy.$Proxy35ÔºåÂØºËá¥DubboÂú®ËøõË°åÂåÖÂåπÈÖçÊó∂Ê≤°ÊúâÊàêÂäüÔºàÂõ†‰∏∫Êàë‰ª¨Âú®ÂèëÂ∏ÉÊúçÂä°Êó∂Êâ´ÊèèÁöÑÂåÖ‰∏∫com.itheima.serviceÔºâÔºåÊâÄ‰ª•ÂêéÈù¢ÁúüÊ≠£ÂèëÂ∏ÉÊúçÂä°ÁöÑ‰ª£Á†ÅÊ≤°ÊúâÊâßË°å„ÄÇ Ëß£ÂÜ≥ÊñπÂºèÊìç‰ΩúÊ≠•È™§Ôºö Ôºà1Ôºâ‰øÆÊîπapplicationContext-service.xmlÈÖçÁΩÆÊñá‰ª∂ÔºåÂºÄÂêØ‰∫ãÂä°ÊéßÂà∂Ê≥®Ëß£ÊîØÊåÅÊó∂ÊåáÂÆöproxy-target-classÂ±ûÊÄßÔºåÂÄº‰∏∫true„ÄÇÂÖ∂‰ΩúÁî®ÊòØ‰ΩøÁî®cglib‰ª£ÁêÜÊñπÂºè‰∏∫ServiceÁ±ªÂàõÂª∫‰ª£ÁêÜÂØπË±° 12&lt;!--ÂºÄÂêØ‰∫ãÂä°ÊéßÂà∂ÁöÑÊ≥®Ëß£ÊîØÊåÅ--&gt;&lt;tx:annotation-driven transaction-manager=&quot;transactionManager&quot; proxy-target-class=&quot;true&quot;/&gt; Ôºà2Ôºâ‰øÆÊîπHelloServiceImplÁ±ªÔºåÂú®ServiceÊ≥®Ëß£‰∏≠Âä†ÂÖ•interfaceClassÂ±ûÊÄßÔºåÂÄº‰∏∫HelloService.classÔºå‰ΩúÁî®ÊòØÊåáÂÆöÊúçÂä°ÁöÑÊé•Âè£Á±ªÂûã 1234567@Service(interfaceClass = HelloService.class)@Transactionalpublic class HelloServiceImpl implements HelloService { public String sayHello(String name) { return &quot;hello &quot; + name; }} Ê≠§Â§Ñ‰πüÊòØÂøÖÈ°ªË¶Å‰øÆÊîπÁöÑÔºåÂê¶Âàô‰ºöÂØºËá¥ÂèëÂ∏ÉÁöÑÊúçÂä°Êé•Âè£‰∏∫SpringProxyÔºåËÄå‰∏çÊòØHelloServiceÊé•Âè£ÔºåÂ¶Ç‰∏ãÔºö","link":"/2021/02/24/Draft/2021/Dubbo/"},{"title":"Spring","text":"Spring5 ËΩªÈáèÁ∫ßÁöÑÂºÄÊ∫êÁöÑ JavaEE Ê°ÜÊû∂ ËøõÂ∫¶„Äê55ÔºåWebflux„Äë Ê∫êÁ†ÅËß£ÊûêÁ¨îËÆ∞Âä†ÂÖ• ËøõÂ∫¶„Äê„Äë ÁªºÂêàÈóÆÈ¢ò [IOC?DI?AOP?](#IOC„ÄêInversion of Control„Äë) BeanFactory Âíå ApplicationContextÂàÜÂà´ÊòØ‰ªÄ‰πàÔºåÊúâ‰ªÄ‰πàÂå∫Âà´Ôºü ‰ªÄ‰πàÊòØbeanÔºü‰ΩúÁî®ÂüüÔºüÁîüÂëΩÂë®ÊúüÔºüÊòØÂê¶Á∫øÁ®ãÂÆâÂÖ®Ôºü SprintBoot(Sprint)‰∏≠Controller„ÄÅService„ÄÅDAOÁ∫øÁ®ãÂÆâÂÖ®ÈóÆÈ¢ò_zzhongcyÁöÑÂçöÂÆ¢-CSDNÂçöÂÆ¢_serviceÁ∫øÁ®ãÂÆâÂÖ®ÈóÆÈ¢ò SpringÊîØÊåÅÁöÑ‰∫ãÂä°ÁÆ°ÁêÜÁ±ªÂûãÔºü‰º†Êí≠Ë°å‰∏∫Ôºü‰∫ãÂä°ÈöîÁ¶ªÔºüÁõ∏ÂÖ≥Ê≥®Ëß£Ôºü AOPÂêçËØçÊúâÂì™‰∫õÔºüÂä®ÊÄÅ‰ª£ÁêÜÔºü Â∏∏Áî®Ê≥®Ëß£Ôºü Spring‰∏≠ËÆæËÆ°Ê®°ÂºèÔºàÂ∑•ÂéÇÔºå‰ª£ÁêÜÔºâ Spring5Ê°ÜÊû∂Ê¶ÇËø∞ 1„ÄÅSpring ÊòØËΩªÈáèÁ∫ßÁöÑÂºÄÊ∫êÁöÑ JavaEE Ê°ÜÊû∂ 2„ÄÅSpring ÂèØ‰ª•Ëß£ÂÜ≥‰ºÅ‰∏öÂ∫îÁî®ÂºÄÂèëÁöÑÂ§çÊùÇÊÄß 3„ÄÅSpring Êúâ‰∏§‰∏™Ê†∏ÂøÉÈÉ®ÂàÜÔºöIOC ÂíåAOP Ôºà1Ôºâ IOC„ÄêInversion of Control„ÄëÔºöÊéßÂà∂ÂèçËΩ¨ÔºåÊääÂàõÂª∫ÂØπË±°ËøáÁ®ã‰∫§Áªô Spring ËøõË°åÁÆ°ÁêÜ Ôºà2Ôºâ Aop„ÄêAspect Oriented Programming„ÄëÔºöÈù¢ÂêëÂàáÈù¢Ôºå‰∏ç‰øÆÊîπÊ∫ê‰ª£Á†ÅËøõË°åÂäüËÉΩÂ¢ûÂº∫ 4„ÄÅSpring ÁâπÁÇπ Ôºà1Ôºâ Êñπ‰æøËß£ËÄ¶ÔºåÁÆÄÂåñÂºÄÂèë Ôºà2Ôºâ Aop ÁºñÁ®ãÊîØÊåÅ Ôºà3Ôºâ Êñπ‰æøÁ®ãÂ∫èÊµãËØï Ôºà4Ôºâ Êñπ‰æøÂíåÂÖ∂‰ªñÊ°ÜÊû∂ËøõË°åÊï¥Âêà Ôºà5Ôºâ Êñπ‰æøËøõË°å‰∫ãÂä°Êìç‰Ωú Ôºà6Ôºâ Èôç‰Ωé API ÂºÄÂèëÈöæÂ∫¶ Áõ∏ÂÖ≥ËµÑÊ∫ê ÂÆòÁΩë ÁâàÊú¨ËØ¥ÊòéÔºö snapshot Âø´ÁÖß alpha ÂÜÖÊµã beta ÂÖ¨Êµã release Á®≥ÂÆöÁâàÊú¨ GA ÊúÄÁ®≥ÂÆöÁâàÊú¨ Final Ê≠£ÂºèÁâà Pro(professional) ‰∏ì‰∏öÁâà Plus Âä†Âº∫Áâà Retail Èõ∂ÂîÆÁâà DEMO ÊºîÁ§∫Áâà Build ÂÜÖÈÉ®Ê†áÂè∑ Delux Ë±™ÂçéÁâà (deluxeÔºöË±™ÂçéÁöÑÔºåÂçé‰∏ΩÁöÑ) CorporationÊàñEnterpraise ‰ºÅ‰∏öÁâà M1 M2 M3 MÊòØmilestoneÁöÑÁÆÄÂÜô ÈáåÁ®ãÁ¢ëÁöÑÊÑèÊÄù RC ÁâàÊú¨RC:(Release Candidate)ÔºåÂá†‰πéÂ∞±‰∏ç‰ºöÂä†ÂÖ•Êñ∞ÁöÑÂäüËÉΩ‰∫ÜÔºåËÄå‰∏ªË¶ÅÁùÄÈáç‰∫éÈô§Èîô SR ‰øÆÊ≠£Áâà Trial ËØïÁî®Áâà Shareware ÂÖ±‰∫´Áâà Full ÂÆåÂÖ®Áâà ‰∏ãËΩΩÔºö https://repo.spring.io/ui/native/release https://repo.spring.io/ui/native/release/org/springframework/spring Ê≥®ÔºöÊú¨ÊñáÊ°£‰ΩøÁî®5.2.6 ÂàõÂª∫ÊôÆÈÄöÂ∑•Á®ã Êñ∞Âª∫È°πÁõÆ ÂºïÂÖ•‰æùËµñ ÂØπÂ∫î Core‰∏≠Âõõ‰∏™ÂåÖÂºïÂÖ•Ôºå‰ª•Âèäcommons-logging-1.1.1.jar Êñ∞Âª∫libÊñá‰ª∂Â§πÂπ∂ÂºïÂÖ•jarÂåÖ ÂàõÂª∫ÊµãËØïÁ±ª 12345public class User { public void Add(){ System.out.println(&quot;add.......&quot;); }} ÂàõÂª∫XML 123456789&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd&quot;&gt; &lt;!--ÈÖçÁΩÆUserÂØπË±°ÂàõÂª∫--&gt; &lt;bean id=&quot;user&quot; class=&quot;com.lxl.spring5.User&quot;&gt;&lt;/bean&gt;&lt;/beans&gt; ÊµãËØï‰ª£Á†Å 123456789101112131415161718192021222324252627282930package com.lxl.spring5.testdemo;import com.lxl.spring5.User;import org.junit.Test;import org.springframework.context.ApplicationContext;import org.springframework.context.support.ClassPathXmlApplicationContext;import org.springframework.context.support.FileSystemXmlApplicationContext;public class TestSpring5 { @Test public void testAdd(){//1 Âä†ËΩΩ spring ÈÖçÁΩÆÊñá‰ª∂// ClassPathXmlApplicationContext() web src ‰∏ãÈÖçÁΩÆÊñá‰ª∂// FileSystemXmlApplicationContext() ÊåáÂÆöÁõòÁ¨¶Ë∑ØÂæÑÈÖçÁΩÆÊñá‰ª∂ ApplicationContext context = new ClassPathXmlApplicationContext(&quot;bean1.xml&quot;); //2 Ëé∑ÂèñÈÖçÁΩÆÂàõÂª∫ÁöÑÂØπË±°Ôºåuser‰∏∫ÈÖçÁΩÆÊñá‰ª∂‰∏≠id User user = context.getBean(&quot;user&quot;, User.class); System.out.println(user); user.add(); }}ÁªìÊûúÔºöcom.intellij.rt.junit.JUnitStarter -ideVersion5 com.lxl.spring5.testdemo.TestSpring5,testAddcom.lxl.spring5.User@46daef40add.......Process finished with exit code 0 IOC„ÄêInversion of Control„Äë Ê¶ÇÂøµÂéüÁêÜ Ê¶ÇÂøµ Ôºà1Ôºâ ÊéßÂà∂ÂèçËΩ¨ÔºåÊääÂØπË±°ÂàõÂª∫ÂíåÂØπË±°‰πãÈó¥ÁöÑË∞ÉÁî®ËøáÁ®ãÔºå‰∫§Áªô Spring ËøõË°åÁÆ°ÁêÜ Ôºà2Ôºâ ‰ΩøÁî® IOC ÁõÆÁöÑÔºö‰∏∫‰∫ÜËÄ¶ÂêàÂ∫¶Èôç‰ΩéÔºàÊîπÔºâ Ôºà3Ôºâ ‰∏äÈù¢ÂÖ•Èó®Ê°à‰æãÂ∞±ÊòØ IOC ÂÆûÁé∞ ÂéüÁêÜ xml Ëß£Êûê„ÄÅÂ∑•ÂéÇÊ®°Âºè„ÄÅÂèçÂ∞Ñ Â∫ïÂ±Ç ‰ºòÂåñ1 newÂØπË±°---„ÄãÂ∑•ÂéÇÊ®°ÂºèÂàõÂª∫ÔºàËÆ©ÂàõÂª∫Á±ª‰∏éË¢´ÂàõÂª∫Á±ª‰∏çËÄ¶ÂêàÔºåÊØîÂ¶ÇË¢´ÂàõÂª∫Á±ªÂú∞ÂùÄÊîπÂèòÂàõÂª∫Á±ªÂøÖÈ°ªÊîπÂèòÔºâ ‰ºòÂåñ2 Ëß£ÊûêXML--„ÄãÂèçÂ∞ÑÂàõÂª∫ÂØπË±° IOCÂÆπÂô® 1„ÄÅIOCÊÄùÊÉ≥Âü∫‰∫éIOCÂÆπÂô®ÂÆåÊàêÔºåIOCÂÆπÂô®Â∫ïÂ±ÇÂ∞±ÊòØÂØπË±°Â∑•ÂéÇ 2„ÄÅSpringÊèê‰æõIOCÂÆπÂô®ÂÆûÁé∞‰∏§ÁßçÊñπÂºèÔºöÔºà‰∏§‰∏™Êé•Âè£Ôºâ Ôºà1ÔºâBeanFactoryÔºöIOCÂÆπÂô®Âü∫Êú¨ÂÆûÁé∞ÔºåÊòØSpringÂÜÖÈÉ®ÁöÑ‰ΩøÁî®Êé•Âè£Ôºå‰∏çÊèê‰æõÂºÄÂèë‰∫∫ÂëòËøõË°å‰ΩøÁî®„ÄÇÂä†ËΩΩÈÖçÁΩÆÊñá‰ª∂Êó∂ÂÄô‰∏çÂàõÂª∫ÂØπË±°ÔºåÂú®Ëé∑ÂèñÂØπË±°Ôºà‰ΩøÁî®ÔºâÊâçÂéªÂàõÂª∫ÂØπË±° Ôºà2ÔºâApplicationContextÔºöBeanFactoryÊé•Âè£ÁöÑÂ≠êÊé•Âè£ÔºåÊèê‰æõÊõ¥Â§öÊõ¥Âº∫Â§ßÁöÑÂäüËÉΩÔºå‰∏ÄËà¨Áî±ÂºÄÂèë‰∫∫ÂëòËøõË°å‰ΩøÁî®„ÄÇÂä†ËΩΩÈÖçÁΩÆÊñá‰ª∂Êó∂ÂÄôÂ∞±‰ºöÊääÂú®ÈÖçÁΩÆÊñá‰ª∂ÂØπË±°ËøõË°åÂàõÂª∫ÔºåÊúçÂä°Âô®ÂêØÂä®Êó∂ÔºåÂØπwebËøêË°åÊó∂ÊïàÊûúÊõ¥Â•Ω„ÄÇ Êü•ÁúãÂÆûÁé∞Á±ªÔºàCtrl+HÔºâ ApplicationContextÔºö IOCÊìç‰ΩúBeanÁÆ°ÁêÜ 1„ÄÅ‰ªÄ‰πàÊòØBeanÁÆ°ÁêÜ BeanÁÆ°ÁêÜÊåáÁöÑÊòØ‰∏§‰∏™Êìç‰Ωú Ôºà1ÔºâSpringÂàõÂª∫ÂØπË±° Ôºà2ÔºâSpirngÊ≥®ÂÖ•Â±ûÊÄß 2„ÄÅBeanÁÆ°ÁêÜÊìç‰ΩúÊúâ‰∏§ÁßçÊñπÂºè Ôºà1ÔºâxmlÈÖçÁΩÆÊñá‰ª∂ÊñπÂºè 1„ÄÅÂü∫‰∫éxmlÊñπÂºèÂàõÂª∫ÂØπË±° 12345678910111213141516&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd&quot;&gt; &lt;!--ÈÖçÁΩÆUserÂØπË±°ÂàõÂª∫ Ôºà1ÔºâÂú®springÈÖçÁΩÆÊñá‰ª∂‰∏≠Ôºå‰ΩøÁî®beanÊ†áÁ≠æÔºåÊ†áÁ≠æÈáåÈù¢Ê∑ªÂä†ÂØπÂ∫îÂ±ûÊÄßÔºåÂ∞±ÂèØ‰ª•ÂÆûÁé∞ÂØπË±°ÂàõÂª∫ Ôºà2ÔºâÂú®beanÊ†áÁ≠æÊúâÂæàÂ§öÂ±ûÊÄßÔºå‰ªãÁªçÂ∏∏Áî®ÁöÑÂ±ûÊÄß * idÂ±ûÊÄßÔºöÂîØ‰∏ÄÊ†áËØÜÔºå‰∏çÂèØÂä†ÁâπÊÆäÂ≠óÁ¨¶ * name :ÂîØ‰∏ÄË°®Á§∫ÔºåÂèØÂä†ÁâπÊÆäÂ≠óÁ¨¶ * classÂ±ûÊÄßÔºöÁ±ªÂÖ®Ë∑ØÂæÑÔºàÂåÖÁ±ªË∑ØÂæÑÔºâ Ôºà3ÔºâÂàõÂª∫ÂØπË±°Êó∂ÂÄôÔºåÈªòËÆ§‰πüÊòØÊâßË°åÊó†ÂèÇÊï∞ÊûÑÈÄ†ÊñπÊ≥ïÂÆåÊàêÂØπË±°ÂàõÂª∫ --&gt; &lt;bean id=&quot;user&quot; class=&quot;com.lxl.spring5.User&quot;&gt;&lt;/bean&gt;&lt;/beans&gt; 2„ÄÅÂü∫‰∫éxmlÊñπÂºèÊ≥®ÂÖ•Â±ûÊÄß ‚Äã DIÔºö‰æùËµñÊ≥®ÂÖ•ÔºåÂ∞±ÊòØÊ≥®ÂÖ•Â±ûÊÄß,IOCÁöÑ‰∏ÄÁßçÂÖ∑‰ΩìÂÆûÁé∞ÔºåÊ≥®ÂÖ•Â±ûÊÄßÈúÄË¶ÅÂú®ÂàõÂª∫ÂØπË±°ÁöÑÂü∫Á°Ä‰πã‰∏äÂÆåÊàê„ÄÇ 2.1setÊñπÊ≥ïËøõË°åÊ≥®ÂÖ• ÂàõÂª∫Á±ªÔºåÂÆö‰πâÂ±ûÊÄßÂíåÂØπÂ∫îÁöÑsetÊñπÊ≥ï 123456789101112131415public class Book { //ÂàõÂª∫Â±ûÊÄß private String bname; private String bauthor; //setÊñπÊ≥ïËøõË°åÊ≥®ÂÖ•Â±ûÊÄß public void setBname(String bname) { this.bname = bname; } public void setBauthor(String bauthor) { this.bauthor = bauthor; }} Âú®springÈÖçÁΩÆÊñá‰ª∂ÈÖçÁΩÆÂØπË±°ÂàõÂª∫ÔºåÈÖçÁΩÆÂ±ûÊÄßÊ≥®ÂÖ• 1234567&lt;!--=========================setÊñπÊ≥ïÊ≥®ÂÖ•Â±ûÊÄß=============================================--&gt; &lt;!--2 setÊñπÊ≥ïÊ≥®ÂÖ•Â±ûÊÄß--&gt; &lt;bean id=&quot;book&quot; class=&quot;com.lxl.spring5.Book&quot;&gt; &lt;!--‰ΩøÁî®propertyÂÆåÊàêÂ±ûÊÄßÊ≥®ÂÖ• nameÔºöÁ±ªÈáåÈù¢Â±ûÊÄßÂêçÁß∞ valueÔºöÂêëÂ±ûÊÄßÊ≥®ÂÖ•ÁöÑÂÄº --&gt; &lt;property name=&quot;bname&quot; value=&quot;ÊòìÁ≠ãÁªè&quot;&gt;&lt;/property&gt; &lt;property name=&quot;bauthor&quot; value=&quot;ËææÊë©ËÄÅÁ•ñ&quot;&gt;&lt;/property&gt; &lt;/bean&gt; 2.2ÊúâÂèÇÊï∞ÊûÑÈÄ†ËøõË°åÊ≥®ÂÖ• ÂàõÂª∫Á±ªÔºåÂÆö‰πâÂ±ûÊÄßÔºåÂàõÂª∫Â±ûÊÄßÂØπÂ∫îÊúâÂèÇÊï∞ÊûÑÈÄ†ÊñπÊ≥ï 123456789101112131415161718/** * ‰ΩøÁî®ÊúâÂèÇÊï∞ÊûÑÈÄ†Ê≥®ÂÖ• */public class Orders { //Â±ûÊÄß private String oname; private String address; //ÊúâÂèÇÊï∞ÊûÑÈÄ† public Orders(String oname, String address) { this.oname = oname; this.address = address; } public void ShowOrder() { System.out.println(oname+&quot;::&quot;+address); }} ÈÖçÁΩÆÊñá‰ª∂ÂàõÂª∫ÂØπË±°ÔºåÊúâÂèÇÊ≥®ÂÖ•Â±ûÊÄß 12345678&lt;!--==========================ÊúâÂèÇÊûÑÈÄ†Ê≥®ÂÖ•===========================================--&gt; &lt;!--3 ÊúâÂèÇÊûÑÈÄ†Ê≥®ÂÖ•--&gt; &lt;bean id=&quot;orders&quot; class=&quot;com.lxl.spring5.Orders&quot;&gt;&lt;!-- &lt;constructor-arg index=&quot;0&quot; value=&quot;&quot;/&gt; ÊïàÊûúÂêå‰∏ã--&gt; &lt;constructor-arg name=&quot;oname&quot; value=&quot;ÁîµËÑë&quot;&gt;&lt;/constructor-arg&gt;&lt;!-- &lt;constructor-arg index=&quot;1&quot; value=&quot;&quot;/&gt;--&gt; &lt;constructor-arg name=&quot;address&quot; value=&quot;China&quot;&gt;&lt;/constructor-arg&gt; &lt;/bean&gt; 2.3pÂêçÁß∞Á©∫Èó¥Ê≥®ÂÖ• ‰ΩøÁî®pÂêçÁß∞Á©∫Èó¥Ê≥®ÂÖ•ÔºåÂèØ‰ª•ÁÆÄÂåñÂü∫‰∫éxmlÈÖçÁΩÆÊñπÂºè Á¨¨‰∏ÄÊ≠• Ê∑ªÂä†pÂêçÁß∞Á©∫Èó¥Âú®ÈÖçÁΩÆÊñá‰ª∂‰∏≠ 1234&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot; xmlns:p=&quot;http://www.springframework.org/schema/p&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd&quot;&gt; Á¨¨‰∫åÊ≠• ËøõË°åÂ±ûÊÄßÊ≥®ÂÖ•ÔºåÂú®beanÊ†áÁ≠æÈáåÈù¢ËøõË°åÊìç‰Ωú 1234567891011&lt;!--=========================setÊñπÊ≥ïÊ≥®ÂÖ•Â±ûÊÄß=============================================--&gt; &lt;!--2 setÊñπÊ≥ïÊ≥®ÂÖ•Â±ûÊÄß--&gt; &lt;bean id=&quot;book&quot; class=&quot;com.lxl.spring5.Book&quot;&gt; &lt;!--‰ΩøÁî®propertyÂÆåÊàêÂ±ûÊÄßÊ≥®ÂÖ• nameÔºöÁ±ªÈáåÈù¢Â±ûÊÄßÂêçÁß∞ valueÔºöÂêëÂ±ûÊÄßÊ≥®ÂÖ•ÁöÑÂÄº --&gt; &lt;property name=&quot;bname&quot; value=&quot;ÊòìÁ≠ãÁªè&quot;&gt;&lt;/property&gt; &lt;property name=&quot;bauthor&quot; value=&quot;ËææÊë©ËÄÅÁ•ñ&quot;&gt;&lt;/property&gt; &lt;/bean&gt;&lt;!--2.1 pÂêçÁß∞Á©∫Èó¥Ê≥®ÂÖ•ÊñπÂºèÔºåÂ∑≤ËææÂà∞ÁÆÄÂåñÁõÆÁöÑ--&gt; &lt;bean id=&quot;book&quot; class=&quot;com.lxl.spring5.Book&quot; p:bname=&quot;ÊòìÁ≠ãÁªè&quot; p:bauthor=&quot;ËææÊë©ËÄÅÁ•ñ&quot;&gt;&lt;/bean&gt; 2.4xmlÊ≥®ÂÖ•ÂÖ∂‰ªñÁ±ªÂûãÂ±ûÊÄß **Â≠óÈù¢ÈáèÔºö**Â±ûÊÄßËÆæÁΩÆÁöÑÂõ∫ÂÆöÂÄº„ÄÇ nullÂÄº Ôºö &lt;property name=&quot;bname&quot; value=&quot;ÊòìÁ≠ãÁªè&quot;&gt; ÂåÖÂê´ÁâπÊÆäÁ¨¶Âè∑Ôºö Ëß£ÂÜ≥ÔºöËΩ¨‰πâ„ÄÅÁâπÊÆäÂÜÖÂÆπÂÜôÂà∞ Âç≥Ôºö Ê≥®ÂÖ•Â±ûÊÄß-Â§ñÈÉ®bean Ôºà1ÔºâÂàõÂª∫‰∏§‰∏™Á±ª serviceÁ±ªÂíådaoÁ±ª Ôºà2ÔºâÂú®serviceË∞ÉÁî®daoÈáåÈù¢ÁöÑÊñπÊ≥ï 123456789101112131415161718192021222324package com.lxl.spring5.service;import com.lxl.spring5.dao.UserDao;import com.lxl.spring5.dao.UserDaoImpl;public class UserService { //ÂàõÂª∫UserDaoÁ±ªÂûãÂ±ûÊÄßÔºåÁîüÊàêsetÊñπÊ≥ï private UserDao userDao; public void setUserDao(UserDao userDao) { this.userDao = userDao; } public void add() { System.out.println(&quot;service add...............&quot;); // ÂéüÂßãÂàõÂª∫ÂØπË±°// UserDao userDao = new UserDaoImpl();// userDao.update(); }} 123456789package com.lxl.spring5.dao;/** * @author Administrator */public interface UserDao { public void update();} 12345678package com.lxl.spring5.dao;public class UserDaoImpl implements UserDao{ @Override public void update() { System.out.println(&quot;dao update--------&quot;); }} Ôºà3ÔºâÂú®springÈÖçÁΩÆÊñá‰ª∂‰∏≠ËøõË°åÈÖçÁΩÆ 12345678910111213&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd&quot;&gt; &lt;!--1 serviceÂíådaoÂØπË±°ÂàõÂª∫--&gt; &lt;bean id=&quot;userService&quot; class=&quot;com.lxl.spring5.service.UserService&quot;&gt; &lt;!--Ê≥®ÂÖ•userDaoÂØπË±° nameÂ±ûÊÄßÔºöÁ±ªÈáåÈù¢Â±ûÊÄßÂêçÁß∞ refÂ±ûÊÄßÔºöÂàõÂª∫userDaoÂØπË±°beanÊ†áÁ≠æidÂÄº --&gt; &lt;property name=&quot;userDao&quot; ref=&quot;userDaoImpl&quot;&gt;&lt;/property&gt; &lt;/bean&gt; &lt;bean id=&quot;userDaoImpl&quot; class=&quot;com.lxl.spring5.dao.UserDaoImpl&quot;&gt;&lt;/bean&gt;&lt;/beans&gt; Ôºà4ÔºâÊµãËØï 12345678910111213 @Test public void testAdd(){//1 Âä†ËΩΩ spring ÈÖçÁΩÆÊñá‰ª∂// ClassPathXmlApplicationContext() web src ‰∏ãÈÖçÁΩÆÊñá‰ª∂// FileSystemXmlApplicationContext() ÊåáÂÆöË∑ØÂæÑÈÖçÁΩÆÊñá‰ª∂ ApplicationContext context = new ClassPathXmlApplicationContext(&quot;bean2.xml&quot;); //2 Ëé∑ÂèñÈÖçÁΩÆÂàõÂª∫ÁöÑÂØπË±°Ôºåuser‰∏∫ÈÖçÁΩÆÊñá‰ª∂‰∏≠id UserService userService = context.getBean(&quot;userService&quot;, UserService.class); System.out.println(userService); userService.add(); } Ê≥®ÂÖ•Â±ûÊÄß-ÂÜÖÈÉ®bean ‚Äã ÂΩì‰∏Ä‰∏™bean‰ªÖË¢´Áî®‰ΩúÂè¶‰∏Ä‰∏™beanÁöÑÂ±ûÊÄßÊó∂ÔºåÂÆÉËÉΩË¢´Â£∞Êòé‰∏∫‰∏Ä‰∏™ÂÜÖÈÉ®beanÔºå‰∏∫‰∫ÜÂÆö‰πâinnerbeanÔºåÂú®SpringÁöÑÂü∫‰∫éXMLÁöÑÈÖçÁΩÆÂÖÉÊï∞ÊçÆ‰∏≠ÔºåÂèØ‰ª•Âú®ÊàñÂÖÉÁ¥†ÂÜÖ‰ΩøÁî®ÂÖÉÁ¥†ÔºåÂÜÖÈÉ®beanÈÄöÂ∏∏ÊòØÂåøÂêçÁöÑÔºåÂÆÉ‰ª¨ÁöÑScope‰∏ÄËà¨ÊòØprototype Ôºà1Ôºâ‰∏ÄÂØπÂ§ö‰∏§‰∏™Á±ªÔºö 12345678910111213141516171819202122232425package com.lxl.spring5.bean;//ÂëòÂ∑•Á±ªpublic class Emp { private String ename; private String gender; //‰∏ÄÂØπÂ§ö //ÂëòÂ∑•Â±û‰∫éÊüê‰∏Ä‰∏™ÈÉ®Èó®Ôºå‰ΩøÁî®ÂØπË±°ÂΩ¢ÂºèË°®Á§∫ private Dept dept; public void setDept(Dept dept) { this.dept = dept; } public void setEname(String ename) { this.ename = ename; } public void setGender(String gender) { this.gender = gender; }public void add(){ System.out.println(ename+&quot;::&quot;+gender+&quot;::&quot;+dept);}} 1234567891011121314151617package com.lxl.spring5.bean;//ÈÉ®Èó®Á±ªpublic class Dept { private String dname; public void setDname(String dname) { this.dname = dname; } @Override public String toString() { return &quot;Dept{&quot; + &quot;dname='&quot; + dname + '\\'' + '}'; }} Ôºà2ÔºâxmlÈÖçÁΩÆ 1234567891011&lt;!--+++++++++++++++++++Ê≥®ÂÖ•Â±ûÊÄß-ÂÜÖÈÉ®beanÔºö‰∏ÄÂØπÂ§ö+++++++++++++++++++++++--&gt; &lt;!--ÂÜÖÈÉ®bean--&gt; &lt;bean id=&quot;emp&quot; class=&quot;com.lxl.spring5.bean.Emp&quot;&gt; &lt;!--ËÆæÁΩÆ‰∏§‰∏™ÊôÆÈÄöÂ±ûÊÄß--&gt; &lt;property name=&quot;ename&quot; value=&quot;lucy&quot;&gt;&lt;/property&gt; &lt;property name=&quot;gender&quot; value=&quot;Â•≥&quot;&gt;&lt;/property&gt; &lt;!--ËÆæÁΩÆÂØπË±°Á±ªÂûãÂ±ûÊÄß--&gt; &lt;property name=&quot;dept&quot;&gt; &lt;bean id=&quot;dept&quot; class=&quot;com.lxl.spring5.bean.Dept&quot;&gt; &lt;property name=&quot;dname&quot; value=&quot;ÂÆâ‰øùÈÉ®&quot;&gt;&lt;/property&gt; &lt;/bean&gt; &lt;/property&gt; &lt;/bean&gt; Ôºà3ÔºâÊµãËØïÔºö 12345678910111213 @Test public void testOneToMore(){//1 Âä†ËΩΩ spring ÈÖçÁΩÆÊñá‰ª∂// ClassPathXmlApplicationContext() web src ‰∏ãÈÖçÁΩÆÊñá‰ª∂// FileSystemXmlApplicationContext() ÊåáÂÆöË∑ØÂæÑÈÖçÁΩÆÊñá‰ª∂ ApplicationContext context = new ClassPathXmlApplicationContext(&quot;bean3.xml&quot;); //2 Ëé∑ÂèñÈÖçÁΩÆÂàõÂª∫ÁöÑÂØπË±°Ôºåuser‰∏∫ÈÖçÁΩÆÊñá‰ª∂‰∏≠id Emp emp = context.getBean(&quot;emp&quot;, Emp.class); System.out.println(emp); emp.add(); } Ê≥®ÂÖ•Â±ûÊÄß-Á∫ßËÅîËµãÂÄº‰∏§ÁßçÊñπÂºè 1234567891011121314151617181920212223 &lt;!-- +++++++++++++++++++ Á∫ßËÅîËµãÂÄº‰∏§ÁßçÊñπÂºè +++++++++++++++++++++++--&gt; &lt;!--Á∫ßËÅîËµãÂÄº ÊñπÂºè‰∏Ä --&gt; &lt;bean id=&quot;emp&quot; class=&quot;com.lxl.spring5.bean.Emp&quot;&gt; &lt;!--ËÆæÁΩÆ‰∏§‰∏™ÊôÆÈÄöÂ±ûÊÄß--&gt; &lt;property name=&quot;ename&quot; value=&quot;lucy&quot;&gt;&lt;/property&gt; &lt;property name=&quot;gender&quot; value=&quot;Â•≥&quot;&gt;&lt;/property&gt; &lt;!--Á∫ßËÅîËµãÂÄº--&gt; &lt;property name=&quot;dept&quot; ref=&quot;dept&quot;&gt;&lt;/property&gt; &lt;/bean&gt; &lt;bean id=&quot;dept&quot; class=&quot;com.lxl.spring5.bean.Dept&quot;&gt; &lt;property name=&quot;dname&quot; value=&quot;Ë¥¢Âä°ÈÉ®&quot;&gt;&lt;/property&gt; &lt;/bean&gt; &lt;!--Á∫ßËÅîËµãÂÄº ÊñπÂºè‰∫å --&gt;&lt;!-- ËÆæÁΩÆ‰∏§‰∏™ÊôÆÈÄöÂ±ûÊÄß dept.dnameÊñπÂºèÈúÄË¶ÅÊ∑ªÂä†deptÁöÑgetÊñπÊ≥ï --&gt;&lt;!-- &lt;bean id=&quot;emp&quot; class=&quot;com.lxl.spring5.bean.Emp&quot;&gt; --&gt;&lt;!-- &lt;property name=&quot;ename&quot; value=&quot;lucy&quot;&gt;&lt;/property&gt;--&gt;&lt;!-- &lt;property name=&quot;gender&quot; value=&quot;Â•≥&quot;&gt;&lt;/property&gt; --&gt;&lt;!-- &lt;property name=&quot;dept&quot; ref=&quot;dept&quot;&gt;&lt;/property&gt;--&gt;&lt;!-- &lt;property name=&quot;dept.dname&quot; value=&quot;ÊäÄÊúØÈÉ®&quot;&gt;&lt;/property&gt;--&gt;&lt;!-- &lt;/bean&gt;--&gt;&lt;!-- &lt;bean id=&quot;dept&quot; class=&quot;com.lxl.spring5.bean.Dept&quot;&gt;--&gt;&lt;!-- &lt;property name=&quot;dname&quot; value=&quot;Ë¥¢Âä°ÈÉ®&quot;&gt;&lt;/property&gt;--&gt;&lt;!-- &lt;/bean&gt;--&gt; 2.5xmlÊ≥®ÂÖ•ÈõÜÂêàÁ±ªÂ±ûÊÄß Ôºà1ÔºâÂàõÂª∫Á±ªÔºåÂÆö‰πâÊï∞ÁªÑ„ÄÅlist„ÄÅmap„ÄÅsetÁ±ªÂûãÂ±ûÊÄßÔºåÁîüÊàêÂØπÂ∫îsetÊñπÊ≥ï 12345678910111213141516171819202122232425262728293031323334353637383940package com.lxl.spring5.collectiontype;import java.util.Arrays;import java.util.List;import java.util.Map;import java.util.Set;public class Stu { //1 Êï∞ÁªÑÁ±ªÂûãÂ±ûÊÄß private String[] courses; //2 listÈõÜÂêàÁ±ªÂûãÂ±ûÊÄß private List&lt;String&gt; list; //3 mapÈõÜÂêàÁ±ªÂûãÂ±ûÊÄß private Map&lt;String, String&gt; maps; //4 setÈõÜÂêàÁ±ªÂûãÂ±ûÊÄß private Set&lt;String&gt; sets; public void setSets(Set&lt;String&gt; sets) { this.sets = sets; } public void setCourses(String[] courses) { this.courses = courses; } public void setList(List&lt;String&gt; list) { this.list = list; } public void setMaps(Map&lt;String, String&gt; maps) { this.maps = maps; } public void test(){ System.out.println(Arrays.toString(courses)); System.out.println(list); System.out.println(maps); System.out.println(sets); }} Ôºà2ÔºâxmlÈÖçÁΩÆ 12345678910111213141516171819202122232425262728293031323334&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd&quot;&gt; &lt;!-- +++++++++++++++++++ ÈõÜÂêàÁ±ªÂ±ûÊÄßÊ≥®ÂÖ• +++++++++++++++++++++++--&gt; &lt;!--1 ÈõÜÂêàÁ±ªÂûãÂ±ûÊÄßÊ≥®ÂÖ•--&gt; &lt;bean id=&quot;stu&quot; class=&quot;com.lxl.spring5.collectiontype.Stu&quot;&gt; &lt;!--Êï∞ÁªÑÁ±ªÂûãÂ±ûÊÄßÊ≥®ÂÖ•--&gt; &lt;property name=&quot;courses&quot;&gt; &lt;array&gt; &lt;value&gt;javaËØæÁ®ã&lt;/value&gt; &lt;value&gt;Êï∞ÊçÆÂ∫ìËØæÁ®ã&lt;/value&gt; &lt;/array&gt; &lt;/property&gt; &lt;!--listÁ±ªÂûãÂ±ûÊÄßÊ≥®ÂÖ•--&gt; &lt;property name=&quot;list&quot;&gt; &lt;list&gt; &lt;value&gt;Âº†‰∏â&lt;/value&gt; &lt;value&gt;Â∞è‰∏â&lt;/value&gt; &lt;/list&gt; &lt;/property&gt; &lt;!--mapÁ±ªÂûãÂ±ûÊÄßÊ≥®ÂÖ•--&gt; &lt;property name=&quot;maps&quot;&gt; &lt;map&gt; &lt;entry key=&quot;JAVA&quot; value=&quot;java&quot;&gt;&lt;/entry&gt; &lt;entry key=&quot;PHP&quot; value=&quot;php&quot;&gt;&lt;/entry&gt; &lt;/map&gt; &lt;/property&gt; &lt;!--setÁ±ªÂûãÂ±ûÊÄßÊ≥®ÂÖ•--&gt; &lt;property name=&quot;sets&quot;&gt; &lt;set&gt; &lt;value&gt;MySQL&lt;/value&gt; &lt;value&gt;Redis&lt;/value&gt; &lt;/set&gt; &lt;/property&gt; &lt;/bean&gt;&lt;/beans&gt; Ôºà3ÔºâÊµãËØï 12345678910111213141516171819202122package com.lxl.spring5.testdemo;import com.lxl.spring5.bean.Emp;import com.lxl.spring5.collectiontype.Stu;import org.junit.Test;import org.springframework.context.ApplicationContext;import org.springframework.context.support.ClassPathXmlApplicationContext;public class TestCollection { @Test public void testOneToMore(){//1 Âä†ËΩΩ spring ÈÖçÁΩÆÊñá‰ª∂// ClassPathXmlApplicationContext() web src ‰∏ãÈÖçÁΩÆÊñá‰ª∂// FileSystemXmlApplicationContext() ÊåáÂÆöË∑ØÂæÑÈÖçÁΩÆÊñá‰ª∂ ApplicationContext context = new ClassPathXmlApplicationContext(&quot;bean5.xml&quot;); //2 Ëé∑ÂèñÈÖçÁΩÆÂàõÂª∫ÁöÑÂØπË±°Ôºåuser‰∏∫ÈÖçÁΩÆÊñá‰ª∂‰∏≠id Stu stu = context.getBean(&quot;stu&quot;, Stu.class); stu.test(); }} 2.6Âú®ÈõÜÂêàÈáåÈù¢ËÆæÁΩÆÂØπË±°Á±ªÂûãÂÄº 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647package com.lxl.spring5.collectiontype;import java.util.Arrays;import java.util.List;import java.util.Map;import java.util.Set;public class Stu { //1 Êï∞ÁªÑÁ±ªÂûãÂ±ûÊÄß private String[] courses; //2 listÈõÜÂêàÁ±ªÂûãÂ±ûÊÄß private List&lt;String&gt; list; //3 mapÈõÜÂêàÁ±ªÂûãÂ±ûÊÄß private Map&lt;String, String&gt; maps; //4 setÈõÜÂêàÁ±ªÂûãÂ±ûÊÄß private Set&lt;String&gt; sets; //5 ListÈõÜÂêà‰∏≠‰∏∫ÂØπË±°Á±ªÂûãÂ±ûÊÄß private List&lt;Course&gt; courseList; public void setCourseList(List&lt;Course&gt; courseList) { this.courseList = courseList; } public void setSets(Set&lt;String&gt; sets) { this.sets = sets; } public void setCourses(String[] courses) { this.courses = courses; } public void setList(List&lt;String&gt; list) { this.list = list; } public void setMaps(Map&lt;String, String&gt; maps) { this.maps = maps; } public void test(){ System.out.println(Arrays.toString(courses)); System.out.println(list); System.out.println(maps); System.out.println(sets); System.out.println(courseList); }} 12345678910111213141516package com.lxl.spring5.collectiontype;public class Course { private String cname; public void setCname(String cname) { this.cname = cname; } @Override public String toString() { return &quot;Course{&quot; + &quot;cname='&quot; + cname + '\\'' + '}'; }} 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd&quot;&gt; &lt;!-- +++++++++++++++++++ ÈõÜÂêàÁ±ªÂ±ûÊÄßÊ≥®ÂÖ•„ÄÅÈõÜÂêàÂÜÖ‰∏∫ÂØπË±°ÊÉÖÂÜµÊ≥®ÂÖ• +++++++++++++++++++++++--&gt; &lt;!--1 ÈõÜÂêàÁ±ªÂûãÂ±ûÊÄßÊ≥®ÂÖ•--&gt; &lt;bean id=&quot;stu&quot; class=&quot;com.lxl.spring5.collectiontype.Stu&quot;&gt; &lt;!--Êï∞ÁªÑÁ±ªÂûãÂ±ûÊÄßÊ≥®ÂÖ•--&gt; &lt;property name=&quot;courses&quot;&gt; &lt;array&gt; &lt;value&gt;javaËØæÁ®ã&lt;/value&gt; &lt;value&gt;Êï∞ÊçÆÂ∫ìËØæÁ®ã&lt;/value&gt; &lt;/array&gt; &lt;/property&gt; &lt;!--listÁ±ªÂûãÂ±ûÊÄßÊ≥®ÂÖ•--&gt; &lt;property name=&quot;list&quot;&gt; &lt;list&gt; &lt;value&gt;Âº†‰∏â&lt;/value&gt; &lt;value&gt;Â∞è‰∏â&lt;/value&gt; &lt;/list&gt; &lt;/property&gt; &lt;!--mapÁ±ªÂûãÂ±ûÊÄßÊ≥®ÂÖ•--&gt; &lt;property name=&quot;maps&quot;&gt; &lt;map&gt; &lt;entry key=&quot;JAVA&quot; value=&quot;java&quot;&gt;&lt;/entry&gt; &lt;entry key=&quot;PHP&quot; value=&quot;php&quot;&gt;&lt;/entry&gt; &lt;/map&gt; &lt;/property&gt; &lt;!--setÁ±ªÂûãÂ±ûÊÄßÊ≥®ÂÖ•--&gt; &lt;property name=&quot;sets&quot;&gt; &lt;set&gt; &lt;value&gt;MySQL&lt;/value&gt; &lt;value&gt;Redis&lt;/value&gt; &lt;/set&gt; &lt;/property&gt; &lt;!--Ê≥®ÂÖ•listÈõÜÂêàÁ±ªÂûãÔºåÂÄºÊòØÂØπË±°--&gt; &lt;property name=&quot;courseList&quot;&gt; &lt;list&gt; &lt;ref bean=&quot;course1&quot;&gt;&lt;/ref&gt; &lt;ref bean=&quot;course2&quot;&gt;&lt;/ref&gt; &lt;/list&gt; &lt;/property&gt; &lt;/bean&gt; &lt;bean id=&quot;course1&quot; class=&quot;com.lxl.spring5.collectiontype.Course&quot;&gt; &lt;property name=&quot;cname&quot; value=&quot;Spring5Ê°ÜÊû∂&quot;&gt;&lt;/property&gt; &lt;/bean&gt; &lt;bean id=&quot;course2&quot; class=&quot;com.lxl.spring5.collectiontype.Course&quot;&gt; &lt;property name=&quot;cname&quot; value=&quot;MyBatisÊ°ÜÊû∂&quot;&gt;&lt;/property&gt; &lt;/bean&gt;&lt;/beans&gt; ÊääÈõÜÂêàÊ≥®ÂÖ•ÈÉ®ÂàÜÊèêÂèñÂá∫Êù• 1234567891011121314package com.lxl.spring5.collectiontype;import java.util.List;public class Book { private List&lt;String&gt; list; public void setList(List&lt;String&gt; list) { this.list = list; } public void test() { System.out.println(list); }} 1234567891011121314151617181920212223&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot; xmlns:util=&quot;http://www.springframework.org/schema/util&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd http://www.springframework.org/schema/util http://www.springframework.org/schema/util/spring-util.xsd&quot;&gt; &lt;!-- +++++++++++++++++++ ÈõÜÂêàÂÜÖ‰∏∫ÂØπË±°ÊÉÖÂÜµÊ≥®ÂÖ• +++++++++++++++++++++++--&gt; &lt;!--1 Âä†utilÂÖÉÁ©∫Èó¥ xmlns:util=&quot;http://www.springframework.org/schema/util&quot; http://www.springframework.org/schema/util http://www.springframework.org/schema/util/spring-util.xsd --&gt; &lt;!--2 ÊèêÂèñlistÈõÜÂêàÁ±ªÂûãÂ±ûÊÄßÊ≥®ÂÖ•--&gt; &lt;util:list id=&quot;bookList&quot;&gt; &lt;value&gt;ÊòìÁ≠ãÁªè&lt;/value&gt; &lt;value&gt;‰πùÈò¥ÁúüÁªè&lt;/value&gt; &lt;value&gt;‰πùÈò≥Á•ûÂäü&lt;/value&gt; &lt;/util:list&gt; &lt;!--3 ÊèêÂèñlistÈõÜÂêàÁ±ªÂûãÂ±ûÊÄßÊ≥®ÂÖ•‰ΩøÁî®--&gt; &lt;bean id=&quot;book&quot; class=&quot;com.lxl.spring5.collectiontype.Book&quot;&gt; &lt;property name=&quot;list&quot; ref=&quot;bookList&quot;&gt;&lt;/property&gt; &lt;/bean&gt;&lt;/beans&gt; ÊµãËØïÁ±ª 1234567891011121314151617181920212223242526272829303132333435package com.lxl.spring5.testdemo;import com.lxl.spring5.collectiontype.Book;import com.lxl.spring5.bean.Emp;import com.lxl.spring5.collectiontype.Stu;import org.junit.Test;import org.springframework.context.ApplicationContext;import org.springframework.context.support.ClassPathXmlApplicationContext;public class TestCollection { @Test public void testOneToMore(){//1 Âä†ËΩΩ spring ÈÖçÁΩÆÊñá‰ª∂// ClassPathXmlApplicationContext() web src ‰∏ãÈÖçÁΩÆÊñá‰ª∂// FileSystemXmlApplicationContext() ÊåáÂÆöË∑ØÂæÑÈÖçÁΩÆÊñá‰ª∂ ApplicationContext context = new ClassPathXmlApplicationContext(&quot;bean5.xml&quot;); //2 Ëé∑ÂèñÈÖçÁΩÆÂàõÂª∫ÁöÑÂØπË±°Ôºåuser‰∏∫ÈÖçÁΩÆÊñá‰ª∂‰∏≠id Stu stu = context.getBean(&quot;stu&quot;, Stu.class); stu.test(); } @Test public void testOneToMore1(){//1 Âä†ËΩΩ spring ÈÖçÁΩÆÊñá‰ª∂// ClassPathXmlApplicationContext() web src ‰∏ãÈÖçÁΩÆÊñá‰ª∂// FileSystemXmlApplicationContext() ÊåáÂÆöË∑ØÂæÑÈÖçÁΩÆÊñá‰ª∂ ApplicationContext context = new ClassPathXmlApplicationContext(&quot;bean6.xml&quot;); //2 Ëé∑ÂèñÈÖçÁΩÆÂàõÂª∫ÁöÑÂØπË±°Ôºåuser‰∏∫ÈÖçÁΩÆÊñá‰ª∂‰∏≠id Book book = context.getBean(&quot;book&quot;, Book.class); book.test(); }} 2.7FactoryBean 1„ÄÅSpringÊúâ‰∏§ÁßçÁ±ªÂûãbeanÔºå‰∏ÄÁßçÊôÆÈÄöbeanÔºåÂè¶Â§ñ‰∏ÄÁßçÂ∑•ÂéÇbeanÔºàFactoryBeanÔºâ 2„ÄÅÊôÆÈÄöbeanÔºöÂú®ÈÖçÁΩÆÊñá‰ª∂‰∏≠ÂÆö‰πâbeanÁ±ªÂûãÂ∞±ÊòØËøîÂõûÁ±ªÂûã 3„ÄÅÂ∑•ÂéÇbeanÔºöÂú®ÈÖçÁΩÆÊñá‰ª∂ÂÆö‰πâbeanÁ±ªÂûãÂèØ‰ª•ÂíåËøîÂõûÁ±ªÂûã‰∏ç‰∏ÄÊ†∑ Á¨¨‰∏ÄÊ≠• ÂàõÂª∫Á±ªÔºåËÆ©Ëøô‰∏™Á±ª‰Ωú‰∏∫Â∑•ÂéÇbeanÔºåÂÆûÁé∞Êé•Âè£ FactoryBean Á¨¨‰∫åÊ≠• ÂÆûÁé∞Êé•Âè£ÈáåÈù¢ÁöÑÊñπÊ≥ïÔºåÂú®ÂÆûÁé∞ÁöÑÊñπÊ≥ï‰∏≠ÂÆö‰πâËøîÂõûÁöÑbeanÁ±ªÂûã 1234567891011121314151617181920212223242526package com.lxl.spring5.factorybean;import com.lxl.spring5.collectiontype.Course;import org.springframework.beans.factory.FactoryBean;/**FactoryBean*/public class MyBean implements FactoryBean&lt;Course&gt; { /**ÂÆö‰πâËøîÂõûbeanÁ±ªÂûã*/ @Override public Course getObject() throws Exception { Course course=new Course(); course.setCname(&quot;‰ΩìËÇ≤ËØæ&quot;); return course; } @Override public Class&lt;?&gt; getObjectType() { return null; } @Override public boolean isSingleton() { return FactoryBean.super.isSingleton(); }} 12&lt;bean id=&quot;myBean&quot; class=&quot;com.lxl.spring5.factorybean.MyBean&quot;&gt;&lt;/bean&gt; 12345678910 @Test public void testFactoryBean(){ ApplicationContext context = new ClassPathXmlApplicationContext(&quot;bean7.xml&quot;); //2 Ëé∑ÂèñÈÖçÁΩÆÂàõÂª∫ÁöÑÂØπË±°Ôºåuser‰∏∫ÈÖçÁΩÆÊñá‰ª∂‰∏≠id// MyBean myBean = context.getBean(&quot;myBean&quot;, MyBean.class); Course myBean = context.getBean(&quot;myBean&quot;, Course.class); System.out.println(myBean); } 2.8 bean ‰ΩúÁî®Âüü 1„ÄÅÂú®SpringÈáåÈù¢ÔºåËÆæÁΩÆÂàõÂª∫beanÂÆû‰æãÊòØÂçïÂÆû‰æãËøòÊòØÂ§öÂÆû‰æã 2„ÄÅÂú®SpringÈáåÈù¢ÔºåÈªòËÆ§ÊÉÖÂÜµ‰∏ãÔºåbeanÊòØÂçïÂÆû‰æãÂØπË±° 3„ÄÅÂ¶Ç‰ΩïËÆæÁΩÆÂçïÂÆû‰æãËøòÊòØÂ§öÂÆû‰æã Ôºà1ÔºâÂú®springÈÖçÁΩÆÊñá‰ª∂beanÊ†áÁ≠æÈáåÈù¢ÊúâÂ±ûÊÄßÔºàscopeÔºâÁî®‰∫éËÆæÁΩÆÂçïÂÆû‰æãËøòÊòØÂ§öÂÆû‰æãÔºåspring‰∏≠ÂèØ‰ΩøÁî®@ScopeÊ≥®Ëß£ Ôºà2ÔºâscopeÂ±ûÊÄßÂÄº ÈªòËÆ§ÂÄºÔºåsingletonÔºåË°®Á§∫ÊòØÂçïÂÆû‰æãÂØπË±° prototypeÔºåË°®Á§∫ÊòØÂ§öÂÆû‰æãÂØπË±° requestÔºöÊØèÊ¨°httpËØ∑Ê±ÇÈÉΩ‰ºöÂàõÂª∫‰∏Ä‰∏™beanÔºåËØ•‰ΩúÁî®Âüü‰ªÖÂú®Âü∫‰∫éwebÁöÑSpringApplicationContextÊÉÖÂΩ¢‰∏ãÊúâÊïà„ÄÇ sessionÔºöÂú®‰∏Ä‰∏™HTTPSession‰∏≠Ôºå‰∏Ä‰∏™beanÂÆö‰πâÂØπÂ∫î‰∏Ä‰∏™ÂÆû‰æã„ÄÇËØ•‰ΩúÁî®Âüü‰ªÖÂú®Âü∫‰∫éwebÁöÑSpringApplicationContextÊÉÖÂΩ¢‰∏ãÊúâÊïà„ÄÇ global-sessionÔºöÂú®‰∏Ä‰∏™ÂÖ®Â±ÄÁöÑHTTPSession‰∏≠Ôºå‰∏Ä‰∏™beanÂÆö‰πâÂØπÂ∫î‰∏Ä‰∏™ÂÆû‰æã„ÄÇËØ•‰ΩúÁî®Âüü‰ªÖÂú®Âü∫‰∫éwebÁöÑSpringApplicationContextÊÉÖÂΩ¢‰∏ãÊúâÊïà„ÄÇ Ôºà3ÔºâsingletonÂíåprototypeÂå∫Âà´ Á¨¨‰∏Ä singletonÂçïÂÆû‰æãÔºåprototypeÂ§öÂÆû‰æã„ÄÇ Á¨¨‰∫å ËÆæÁΩÆscopeÂÄºÊòØsingletonÊó∂ÂÄôÔºåÂä†ËΩΩspringÈÖçÁΩÆÊñá‰ª∂Êó∂ÂÄôÂ∞±‰ºöÂàõÂª∫ÂçïÂÆû‰æãÂØπË±°„ÄÇ ËÆæÁΩÆscopeÂÄºÊòØprototypeÊó∂ÂÄôÔºå‰∏çÊòØÂú®Âä†ËΩΩspringÈÖçÁΩÆÊñá‰ª∂Êó∂ÂÄôÂàõÂª∫ÂØπË±°ÔºåËÄåÊòØÂú®Âú®Ë∞ÉÁî®getBeanÊñπÊ≥ïÊó∂ÂÄôÂàõÂª∫Â§öÂÆû‰æãÂØπË±°„ÄÇ 2.9BeanÁîüÂëΩÂë®Êúü Ôºà1ÔºâÈÄöËøáÊûÑÈÄ†Âô®ÂàõÂª∫beanÂÆû‰æãÔºàÊó†ÂèÇÊï∞ÊûÑÈÄ†Ôºâ Ôºà2Ôºâ‰∏∫beanÁöÑÂ±ûÊÄßËÆæÁΩÆÂÄºÂíåÂØπÂÖ∂‰ªñbeanÂºïÁî®ÔºàË∞ÉÁî®setÊñπÊ≥ïÔºâ Ôºà3ÔºâË∞ÉÁî®beanÁöÑÂàùÂßãÂåñÁöÑÊñπÊ≥ïÔºàÈúÄË¶ÅËøõË°åÈÖçÁΩÆÂàùÂßãÂåñÁöÑÊñπÊ≥ïÔºâ Ôºà4ÔºâbeanÂèØ‰ª•‰ΩøÁî®‰∫ÜÔºàÂØπË±°Ëé∑ÂèñÂà∞‰∫ÜÔºâ Ôºà5ÔºâÂΩìÂÆπÂô®ÂÖ≥Èó≠Êó∂ÂÄôÔºåË∞ÉÁî®beanÁöÑÈîÄÊØÅÁöÑÊñπÊ≥ïÔºàÈúÄË¶ÅËøõË°åÈÖçÁΩÆÈîÄÊØÅÁöÑÊñπÊ≥ïÔºâ ÂàõÂª∫ÂÆû‰æã ==„Äã Ê†πÊçÆÂÆö‰πâÂ°´ÂÖÖÂÖ∂Â±ûÊÄßÂíåÂØπÂÖ∂‰ªñbeanÁöÑÂºïÁî® ==„ÄãÊâßË°åbeanÂàùÂßãÂåñÊñπÊ≥ïÂæóÂà∞bean ==„ÄãÂÆπÂô®ÂÖ≥Èó≠Êó∂ÈîÄÊØÅbean 123456789101112131415161718192021222324package com.lxl.spring5.lifecyclebean;public class Orders { //Êó†ÂèÇÊï∞ÊûÑÈÄ† public Orders() { System.out.println(&quot;Á¨¨‰∏ÄÊ≠• ÊâßË°åÊó†ÂèÇÊï∞ÊûÑÈÄ†ÂàõÂª∫beanÂÆû‰æã&quot;); } private String oname; public void setOname(String oname) { this.oname = oname; System.out.println(&quot;Á¨¨‰∫åÊ≠• Ë∞ÉÁî®setÊñπÊ≥ïËÆæÁΩÆÂ±ûÊÄßÂÄº&quot;); } //ÂàõÂª∫ÊâßË°åÁöÑÂàùÂßãÂåñÁöÑÊñπÊ≥ï public void initMethod() { System.out.println(&quot;Á¨¨‰∏âÊ≠• ÊâßË°åÂàùÂßãÂåñÁöÑÊñπÊ≥ï&quot;); } //ÂàõÂª∫ÊâßË°åÁöÑÈîÄÊØÅÁöÑÊñπÊ≥ï public void destroyMethod() { System.out.println(&quot;Á¨¨‰∫îÊ≠• ÊâßË°åÈîÄÊØÅÁöÑÊñπÊ≥ï&quot;); }} 1234&lt;!-- +++++++++++++++++++beanÁîüÂëΩÂë®Êúü+++++++++++++++++++++++--&gt;&lt;bean id=&quot;orders&quot; class=&quot;com.lxl.spring5.lifecyclebean.Orders&quot; init-method=&quot;initMethod&quot; destroy-method=&quot;destroyMethod&quot;&gt; &lt;property name=&quot;oname&quot; value=&quot;ÈîÆÁõò&quot;&gt;&lt;/property&gt;&lt;/bean&gt; 1234567891011121314 @Test public void TestLifeCycle(){// ApplicationContext context = new ClassPathXmlApplicationContext(&quot;bean7.xml&quot;);// ClassPathXmlApplicationContext ‰∏∫ApplicationContextÂ≠êÂÆûÁé∞Á±ª ClassPathXmlApplicationContext context = new ClassPathXmlApplicationContext(&quot;bean8.xml&quot;); //2 Ëé∑ÂèñÈÖçÁΩÆÂàõÂª∫ÁöÑÂØπË±°Ôºåuser‰∏∫ÈÖçÁΩÆÊñá‰ª∂‰∏≠id// MyBean myBean = context.getBean(&quot;myBean&quot;, MyBean.class); Orders myBean = context.getBean(&quot;orders&quot;, Orders.class); System.out.println(&quot;Á¨¨ÂõõÊ≠• Ëé∑ÂèñÂàõÂª∫ÁöÑbeanÂÆû‰æã&quot;); System.out.println(myBean); context.close(); } 2.10ÂêéÁΩÆÂ§ÑÁêÜÂô® 123456789101112131415161718package com.lxl.spring5.lifecyclebean;import org.springframework.beans.BeansException;import org.springframework.beans.factory.config.BeanPostProcessor;public class BeforeAfter implements BeanPostProcessor { @Override public Object postProcessBeforeInitialization(Object bean, String beanName) throws BeansException { System.out.println(&quot;ÂêéÁΩÆÂ§ÑÁêÜÂô®ÔºöÂú®ÂàùÂßãÂåñ‰πãÂâçÊâßË°åÁöÑÊñπÊ≥ï&quot;); return BeanPostProcessor.super.postProcessBeforeInitialization(bean, beanName); } @Override public Object postProcessAfterInitialization(Object bean, String beanName) throws BeansException { System.out.println(&quot;ÂêéÁΩÆÂ§ÑÁêÜÂô®ÔºöÂú®ÂàùÂßãÂåñ‰πãÂêéÊâßË°åÁöÑÊñπÊ≥ï&quot;); return BeanPostProcessor.super.postProcessAfterInitialization(bean, beanName); }} 12345678&lt;!--+++++++++++++++++++beanÁîüÂëΩÂë®Êúü„ÄÅÂêéÁΩÆÂ§ÑÁêÜÂô®+++++++++++++++++++++++--&gt;&lt;bean id=&quot;orders&quot; class=&quot;com.lxl.spring5.lifecyclebean.Orders&quot; init-method=&quot;initMethod&quot; destroy-method=&quot;destroyMethod&quot;&gt; &lt;property name=&quot;oname&quot; value=&quot;ÈîÆÁõò&quot;&gt;&lt;/property&gt;&lt;/bean&gt;&lt;!--ÂêéÁΩÆÂ§ÑÁêÜÂô® ,Âú®Ê≠§ÈÖçÁΩÆÊñá‰ª∂‰∏≠ÁöÑÊâÄÊúâbeanÊ∑ªÂä†ÂêéÁΩÆÂ§ÑÁêÜÂô®--&gt;&lt;bean id=&quot;myBeanPost&quot; class=&quot;com.lxl.spring5.lifecyclebean.BeforeAfter&quot;&gt;&lt;/bean&gt; 2.12Ëá™Âä®Ë£ÖÈÖç Êúâ‰∫îÁßçËá™Âä®Ë£ÖÈÖçÁöÑÊñπÂºèÔºåÂèØ‰ª•Áî®Êù•ÊåáÂØºSpringÂÆπÂô®Áî®Ëá™Âä®Ë£ÖÈÖçÊñπÂºèÊù•ËøõË°å‰æùËµñÊ≥®ÂÖ•„ÄÇ noÔºöÈªòËÆ§ÁöÑÊñπÂºèÊòØ‰∏çËøõË°åËá™Âä®Ë£ÖÈÖçÔºåÈÄöËøáÊòæÂºèËÆæÁΩÆrefÂ±ûÊÄßÊù•ËøõË°åË£ÖÈÖç„ÄÇ byNameÔºöÈÄöËøáÂèÇÊï∞ÂêçËá™Âä®Ë£ÖÈÖçÔºåSpringÂÆπÂô®Âú®ÈÖçÁΩÆÊñá‰ª∂‰∏≠ÂèëÁé∞beanÁöÑautowireÂ±ûÊÄßË¢´ËÆæÁΩÆÊàêbynameÔºå‰πãÂêéÂÆπÂô®ËØïÂõæÂåπÈÖç„ÄÅË£ÖÈÖçÂíåËØ•beanÁöÑÂ±ûÊÄßÂÖ∑ÊúâÁõ∏ÂêåÂêçÂ≠óÁöÑbean„ÄÇ byType:ÔºöÈÄöËøáÂèÇÊï∞Á±ªÂûãËá™Âä®Ë£ÖÈÖçÔºåSpringÂÆπÂô®Âú®ÈÖçÁΩÆÊñá‰ª∂‰∏≠ÂèëÁé∞beanÁöÑautowireÂ±ûÊÄßË¢´ËÆæÁΩÆÊàêbyTypeÔºå‰πãÂêéÂÆπÂô®ËØïÂõæÂåπÈÖç„ÄÅË£ÖÈÖçÂíåËØ•beanÁöÑÂ±ûÊÄßÂÖ∑ÊúâÁõ∏ÂêåÁ±ªÂûãÁöÑbean„ÄÇÂ¶ÇÊûúÊúâÂ§ö‰∏™beanÁ¨¶ÂêàÊù°‰ª∂ÔºåÂàôÊäõÂá∫ÈîôËØØ„ÄÇ constructorÔºöËøô‰∏™ÊñπÂºèÁ±ª‰ºº‰∫ébyTypeÔºå‰ΩÜÊòØË¶ÅÊèê‰æõÁªôÊûÑÈÄ†Âô®ÂèÇÊï∞ÔºåÂ¶ÇÊûúÊ≤°ÊúâÁ°ÆÂÆöÁöÑÂ∏¶ÂèÇÊï∞ÁöÑÊûÑÈÄ†Âô®ÂèÇÊï∞Á±ªÂûãÔºåÂ∞Ü‰ºöÊäõÂá∫ÂºÇÂ∏∏„ÄÇ autodetectÔºöÈ¶ñÂÖàÂ∞ùËØï‰ΩøÁî®constructorÊù•Ëá™Âä®Ë£ÖÈÖçÔºåÂ¶ÇÊûúÊó†Ê≥ïÂ∑•‰ΩúÔºåÂàô‰ΩøÁî®byTypeÊñπÂºè„ÄÇ 1234567891011package com.lxl.spring5.autowire;/** * @author Administrator */public class Dept { @Override public String toString() { return &quot;Dept{}&quot;; }} 1234567891011121314151617181920package com.lxl.spring5.testdemo;import com.lxl.spring5.autowire.Emp;import com.lxl.spring5.lifecyclebean.Orders;import org.junit.Test;import org.springframework.context.support.ClassPathXmlApplicationContext;public class TestAutoWire { @Test public void TestLifeCycle(){// ApplicationContext context = new ClassPathXmlApplicationContext(&quot;bean7.xml&quot;);// ClassPathXmlApplicationContext ‰∏∫ApplicationContextÂ≠êÂÆûÁé∞Á±ª ClassPathXmlApplicationContext context = new ClassPathXmlApplicationContext(&quot;bean9.xml&quot;); //2 Ëé∑ÂèñÈÖçÁΩÆÂàõÂª∫ÁöÑÂØπË±°Ôºåuser‰∏∫ÈÖçÁΩÆÊñá‰ª∂‰∏≠id// MyBean myBean = context.getBean(&quot;myBean&quot;, MyBean.class); Emp emp = context.getBean(&quot;emp&quot;, Emp.class); System.out.println(emp); }} 1234567891011121314151617181920&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot; xmlns:util=&quot;http://www.springframework.org/schema/util&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd http://www.springframework.org/schema/util http://www.springframework.org/schema/util/spring-util.xsd&quot;&gt; &lt;!--+++++++++++++++++++Ëá™Âä®Ë£ÖÈÖç autowire=&quot;byName/byType&quot;+++++++++++++++++++++++--&gt; &lt;!--ÂÆûÁé∞Ëá™Âä®Ë£ÖÈÖç beanÊ†áÁ≠æÂ±ûÊÄßautowireÔºåÈÖçÁΩÆËá™Âä®Ë£ÖÈÖç autowireÂ±ûÊÄßÂ∏∏Áî®‰∏§‰∏™ÂÄºÔºö byNameÊ†πÊçÆÂ±ûÊÄßÂêçÁß∞Ê≥®ÂÖ• ÔºåÊ≥®ÂÖ•ÂÄºbeanÁöÑidÂÄºÂíåÁ±ªÂ±ûÊÄßÂêçÁß∞‰∏ÄÊ†∑ÔºåÂ¶Ç‰∏ãdept1‰∏ç‰ºöÊ≥®ÂÖ•„ÄÇ byTypeÊ†πÊçÆÂ±ûÊÄßÁ±ªÂûãÊ≥®ÂÖ• --&gt; &lt;bean id=&quot;emp&quot; class=&quot;com.lxl.spring5.autowire.Emp&quot; autowire=&quot;byName&quot;&gt;&lt;!-- Could not autowire. There is more than one bean of 'Dept' type. Beans: dept,dept1. Properties: 'dept'--&gt;&lt;!-- &lt;bean id=&quot;emp&quot; class=&quot;com.lxl.spring5.autowire.Emp&quot; autowire=&quot;byType&quot;&gt;--&gt;&lt;!-- ÂéüÂßãÊ®°Âºè--&gt;&lt;!-- &lt;property name=&quot;dept&quot; ref=&quot;dept&quot;&gt;&lt;/property&gt;--&gt; &lt;/bean&gt; &lt;!--ÂêéÁΩÆÂ§ÑÁêÜÂô® ,Âú®Ê≠§ÈÖçÁΩÆÊñá‰ª∂‰∏≠ÁöÑÊâÄÊúâbeanÊ∑ªÂä†ÂêéÁΩÆÂ§ÑÁêÜÂô®--&gt; &lt;bean id=&quot;dept&quot; class=&quot;com.lxl.spring5.autowire.Dept&quot;&gt;&lt;/bean&gt; &lt;bean id=&quot;dept1&quot; class=&quot;com.lxl.spring5.autowire.Dept&quot;&gt;&lt;/bean&gt;&lt;/beans&gt; ÊµãËØï 1234567891011121314151617181920package com.lxl.spring5.testdemo;import com.lxl.spring5.autowire.Emp;import com.lxl.spring5.lifecyclebean.Orders;import org.junit.Test;import org.springframework.context.support.ClassPathXmlApplicationContext;public class TestAutoWire { @Test public void TestLifeCycle(){// ApplicationContext context = new ClassPathXmlApplicationContext(&quot;bean7.xml&quot;);// ClassPathXmlApplicationContext ‰∏∫ApplicationContextÂ≠êÂÆûÁé∞Á±ª ClassPathXmlApplicationContext context = new ClassPathXmlApplicationContext(&quot;bean9.xml&quot;); //2 Ëé∑ÂèñÈÖçÁΩÆÂàõÂª∫ÁöÑÂØπË±°Ôºåuser‰∏∫ÈÖçÁΩÆÊñá‰ª∂‰∏≠id// MyBean myBean = context.getBean(&quot;myBean&quot;, MyBean.class); Emp emp = context.getBean(&quot;emp&quot;, Emp.class); System.out.println(emp); }} 2.13ÂºïÂÖ•Â§ñÈÉ®Â±ûÊÄßÊñá‰ª∂ 1„ÄÅÁõ¥Êé•ÈÖçÁΩÆÊï∞ÊçÆÂ∫ì‰ø°ÊÅØ Ôºà1ÔºâÈÖçÁΩÆÂæ∑È≤Å‰ºäËøûÊé•Ê±† Ôºà2ÔºâÂºïÂÖ•Âæ∑È≤Å‰ºäËøûÊé•Ê±†‰æùËµñjarÂåÖ ‚Äã Â§çÂà∂Âà∞libÊñá‰ª∂Â§πÂπ∂Ê∑ªÂä†È°πÁõÆ‰æùËµñ 1234567891011121314151617181920212223242526272829303132&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot; xmlns:util=&quot;http://www.springframework.org/schema/util&quot; xmlns:p=&quot;http://www.springframework.org/schema/p&quot; xmlns:context =&quot;http://www.springframework.org/schema/context&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd http://www.springframework.org/schema/util http://www.springframework.org/schema/util/spring-util.xsd http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd&quot;&gt; &lt;!--+++++++++++++++++++ÂºïÂÖ•Â§ñÈÉ®Â±ûÊÄßÊñá‰ª∂ÔºåÊï∞ÊçÆÂ∫ìËøûÊé•Ê±†Á§∫‰æã+++++++++++++++++++++++--&gt; &lt;!-- ÂéüÂßãÂΩ¢ÂºèÔºåÂõ∫ÂÆöÂÄº--&gt;&lt;!-- &lt;bean id=&quot;dept1&quot; class=&quot;com.alibaba.druid.pool.DruidDataSource&quot;&gt;--&gt;&lt;!-- &lt;property name=&quot;driverClassName&quot; value=&quot;com.mysql.jdbc.Driver&quot;&gt;&lt;/property&gt;--&gt;&lt;!-- &lt;property name=&quot;url&quot; value=&quot;jdbc:mysql://localhost:3306/userDb&quot;&gt;&lt;/property&gt;--&gt;&lt;!-- &lt;property name=&quot;username&quot; value=&quot;root&quot;&gt;&lt;/property&gt;--&gt;&lt;!-- &lt;property name=&quot;password&quot; value=&quot;root&quot;&gt;&lt;/property&gt;--&gt;&lt;!-- ÂºïÂÖ•Â§ñÈÉ®Êñá‰ª∂--&gt;&lt;!-- &lt;/bean&gt;--&gt;&lt;!-- ÂºïÂÖ•Â§ñÈÉ®Êñá‰ª∂ÂΩ¢Âºè--&gt;&lt;!-- ÂºïÂÖ•Â§ñÈÉ®Êñá‰ª∂--&gt; &lt;context:property-placeholder location=&quot;classpath:jdbc.properties&quot;/&gt;&lt;!-- ÈÖçÁΩÆËøûÊé•Ê±†--&gt; &lt;bean id=&quot;dept1&quot; class=&quot;com.alibaba.druid.pool.DruidDataSource&quot;&gt; &lt;property name=&quot;driverClassName&quot; value=&quot;${prop.driverClass}&quot;&gt;&lt;/property&gt; &lt;property name=&quot;url&quot; value=&quot;${prop.url}&quot;&gt;&lt;/property&gt; &lt;property name=&quot;username&quot; value=&quot;${prop.userName}&quot;&gt;&lt;/property&gt; &lt;property name=&quot;password&quot; value=&quot;${prop.password}&quot;&gt;&lt;/property&gt; &lt;/bean&gt;&lt;/beans&gt; jdbc.properties 1234prop.driverClass=com.mysql.jdbc.Driverprop.url=jdbc:mysql://localhost:3306/userDbprop.userName=rootprop.password=root Ôºà2ÔºâÊ≥®Ëß£ÊñπÂºè 1„ÄÅ‰ªÄ‰πàÊòØÊ≥®Ëß£ Ôºà1ÔºâÊ≥®Ëß£ÊòØ‰ª£Á†ÅÁâπÊÆäÊ†áËÆ∞ÔºåÊ†ºÂºèÔºö@Ê≥®Ëß£ÂêçÁß∞(Â±ûÊÄßÂêçÁß∞=Â±ûÊÄßÂÄº, Â±ûÊÄßÂêçÁß∞=Â±ûÊÄßÂÄº..) Ôºà2Ôºâ‰ΩøÁî®Ê≥®Ëß£ÔºåÊ≥®Ëß£‰ΩúÁî®Âú®Á±ª‰∏äÈù¢ÔºåÊñπÊ≥ï‰∏äÈù¢ÔºåÂ±ûÊÄß‰∏äÈù¢ Ôºà3Ôºâ‰ΩøÁî®Ê≥®Ëß£ÁõÆÁöÑÔºöÁÆÄÂåñxmlÈÖçÁΩÆ 2„ÄÅSpringÈíàÂØπBeanÁÆ°ÁêÜ‰∏≠ÂàõÂª∫ÂØπË±°Êèê‰æõÊ≥®Ëß£ Ôºà1Ôºâ@Component Ôºà2Ôºâ@Service Ôºà3Ôºâ@Controller Ôºà4Ôºâ@Repository ‰∏äÈù¢Âõõ‰∏™Ê≥®Ëß£ÂäüËÉΩÊòØ‰∏ÄÊ†∑ÁöÑÔºåÈÉΩÂèØ‰ª•Áî®Êù•ÂàõÂª∫beanÂÆû‰æãÔºå‰ΩÜÊòØ‰π†ÊÉØÂú®‰∏çÂêåÂ±Ç‰ΩøÁî®‰∏çÂêåÊ≥®Ëß£„ÄÇ ÂºïÂÖ•aopÁöÑjarÂåÖ Á±ªÊ≥®Ëß£ 12345678910111213141516171819202122232425package com.lxl.spring5.annotation;import org.springframework.stereotype.Component;import org.springframework.stereotype.Controller;import org.springframework.stereotype.Repository;import org.springframework.stereotype.Service;//Âú®Ê≥®Ëß£ÈáåÈù¢valueÂ±ûÊÄßÂÄºÂèØ‰ª•ÁúÅÁï•‰∏çÂÜôÔºå// ÈªòËÆ§ÂÄºÊòØÁ±ªÂêçÁß∞ÔºåÈ¶ñÂ≠óÊØçÂ∞èÂÜô// UserService -- userService@Component(value = &quot;userService&quot;) //Á≠âÂêå&lt;bean id=&quot;userService&quot; class=&quot;..&quot;/&gt;/** * @author Administrator*///@Component//@Service//@Controller//@Repository // Âõõ‰∏™Ê≥®Ëß£ÊïàÊûúÁõ∏ÂêåÔºå‰π†ÊÉØÁî®Âú®‰∏çÂêåÂ±Çpublic class UserService { public void add() { System.out.println(&quot;service add ...&quot;); }} ÂºÄÂêØÁªÑ‰ª∂Êâ´Êèè 1234567891011121314151617181920212223242526272829&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot; xmlns:util=&quot;http://www.springframework.org/schema/util&quot; xmlns:p=&quot;http://www.springframework.org/schema/p&quot; xmlns:context=&quot;http://www.springframework.org/schema/context&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd http://www.springframework.org/schema/util http://www.springframework.org/schema/util/spring-util.xsd http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd&quot;&gt; &lt;!--+++++++++++++++++++Ê≥®Ëß£ÊñπÂºèÔºåÊâ´ÊèèÂåÖ+++++++++++++++++++++++--&gt; &lt;!--Ê∑ªÂä†contextÂëΩÂêçÁ©∫Èó¥--&gt; &lt;!-- ÂºÄÂêØÁªÑ‰ª∂Êâ´Êèè 1.Êâ´ÊèèÂ§ö‰∏™ÂåÖÔºåÂèØÈÄóÂè∑ÈöîÂºÄ 2.Êâ´ÊèèÂ§ö‰∏™ÂåÖÁöÑ‰∏äÂ±ÇÁõÆÂΩï --&gt; &lt;context:component-scan base-package=&quot;com.lxl&quot;&gt;&lt;/context:component-scan&gt; &lt;!--Á§∫‰æã1 use-default-filters=&quot;false&quot; Ë°®Á§∫Áé∞Âú®‰∏ç‰ΩøÁî®ÈªòËÆ§filterÔºåËá™Â∑±ÈÖçÁΩÆfilter context:include-filter ÔºåËÆæÁΩÆÊâ´ÊèèÂì™‰∫õÂÜÖÂÆπ --&gt; &lt;context:component-scan base-package=&quot;com.lxl&quot; use-default-filters=&quot;false&quot;&gt; &lt;context:include-filter type=&quot;annotation&quot; expression=&quot;org.springframework.stereotype.Controller&quot;/&gt; &lt;/context:component-scan&gt; &lt;!--Á§∫‰æã2 ‰∏ãÈù¢ÈÖçÁΩÆÊâ´ÊèèÂåÖÊâÄÊúâÂÜÖÂÆπ context:exclude-filterÔºö ËÆæÁΩÆÂì™‰∫õÂÜÖÂÆπ‰∏çËøõË°åÊâ´Êèè --&gt; &lt;context:component-scan base-package=&quot;com.lxl&quot;&gt; &lt;context:exclude-filter type=&quot;annotation&quot; expression=&quot;org.springframework.stereotype.Controller&quot;/&gt; &lt;/context:component-scan&gt;&lt;/beans&gt; ÊµãËØï 12345678910111213141516171819package com.lxl.spring5.testdemo;import com.lxl.spring5.annotation.UserService;import org.junit.Test;import org.springframework.context.ApplicationContext;import org.springframework.context.support.ClassPathXmlApplicationContext;/** * @author Administrator */public class TestAnnotation { @Test public void testAnnotation() {// spring-aop-4.3.10.RELEASE ÂåÖÊú™ÂØºÂÖ•‰ºöÊä•ÈîôÔºöUnexpected exception parsing XML document from class path resource ApplicationContext applicationContext=new ClassPathXmlApplicationContext(&quot;bean11.xml&quot;); UserService userService = applicationContext.getBean(&quot;userService&quot;, UserService.class); userService.add(); }} 3.Á∫ØÊ≥®Ëß£ÂºÄÂèë Ê∑ªÂä†ÈÖçÁΩÆÁ±ªÊâ´ÊèèÂåÖ 12345678910package com.lxl.spring5.annotation.allbyannotation.config;import org.springframework.context.annotation.ComponentScan;import org.springframework.context.annotation.Configuration;@Configuration@ComponentScan(basePackages = {&quot;com.lxl.spring5.annotation.allbyannotation&quot;})public class SpringConfig {} ÊµãËØï 123456789101112131415161718package com.lxl.spring5.testdemo;import com.lxl.spring5.annotation.allbyannotation.config.SpringConfig;import com.lxl.spring5.annotation.allbyannotation.service.UserService1;import org.junit.Test;import org.springframework.context.ApplicationContext;import org.springframework.context.annotation.AnnotationConfigApplicationContext;import org.springframework.context.support.ClassPathXmlApplicationContext;public class TestAllByAnnotation { @Test public void testAllByAnnotation(){ //Âä†ËΩΩÈÖçÁΩÆÁ±ª ApplicationContext context = new AnnotationConfigApplicationContext(SpringConfig.class); UserService1 userService1 = context.getBean(&quot;userService1&quot;, UserService1.class); userService1.add(); }} AOP„ÄêAspect Oriented Programming„Äë AOP‰ªãÁªç 1„ÄÅ‰ªÄ‰πàÊòØAOP Ôºà1ÔºâÈù¢ÂêëÂàáÈù¢ÁºñÁ®ãÔºàÊñπÈù¢ÔºâÔºåÂà©Áî®AOPÂèØ‰ª•ÂØπ‰∏öÂä°ÈÄªËæëÁöÑÂêÑ‰∏™ÈÉ®ÂàÜËøõË°åÈöîÁ¶ªÔºå‰ªéËÄå‰ΩøÂæó‰∏öÂä°ÈÄªËæëÂêÑÈÉ®ÂàÜ‰πãÈó¥ÁöÑËÄ¶ÂêàÂ∫¶Èôç‰ΩéÔºåÊèêÈ´òÁ®ãÂ∫èÁöÑÂèØÈáçÁî®ÊÄßÔºåÂêåÊó∂ÊèêÈ´ò‰∫ÜÂºÄÂèëÁöÑÊïàÁéá„ÄÇ Ôºà2ÔºâÈÄö‰øóÊèèËø∞Ôºö‰∏çÈÄöËøá‰øÆÊîπÊ∫ê‰ª£Á†ÅÊñπÂºèÔºåÂú®‰∏ªÂπ≤ÂäüËÉΩÈáåÈù¢Ê∑ªÂä†Êñ∞ÂäüËÉΩ„ÄÅÊØîÂ¶ÇÁôªÂΩïÁöÑÊùÉÈôêËøáÊª§„ÄÇ AOPÂ∫ïÂ±ÇÂéüÁêÜ 1„ÄÅAOPÂ∫ïÂ±Ç‰ΩøÁî®Âä®ÊÄÅ‰ª£ÁêÜÁöÑ‰∏§ÁßçÊÉÖÂÜµÔºö Á¨¨‰∏ÄÁßç ÊúâÊé•Âè£ÊÉÖÂÜµÔºå‰ΩøÁî®JDKÂä®ÊÄÅ‰ª£ÁêÜ ‚ö´ ÂàõÂª∫Êé•Âè£ÂÆûÁé∞Á±ª‰ª£ÁêÜÂØπË±°ÔºåÂ¢ûÂº∫Á±ªÁöÑÊñπÊ≥ï Á¨¨‰∫åÁßç Ê≤°ÊúâÊé•Âè£ÊÉÖÂÜµÔºå‰ΩøÁî®CGLIBÂä®ÊÄÅ‰ª£ÁêÜ ‚ö´ ÂàõÂª∫Â≠êÁ±ªÁöÑ‰ª£ÁêÜÂØπË±°ÔºåÂ¢ûÂº∫Á±ªÁöÑÊñπÊ≥ï AOP JDK Âä®ÊÄÅ‰ª£ÁêÜ 1„ÄÅ‰ΩøÁî®JDKÂä®ÊÄÅ‰ª£ÁêÜÔºå‰ΩøÁî®ProxyÁ±ªÈáåÈù¢ÁöÑÊñπÊ≥ïÂàõÂª∫‰ª£ÁêÜÂØπË±° Ôºà1ÔºâÂàõÂª∫Êé•Âè£ÔºåÂÆö‰πâÊñπÊ≥ï 12345678package com.lxl.spring5.aop.jdkdynamicproxy;public interface UserDao { public int add(int a, int b); public String update(String id);} Ôºà2ÔºâÂàõÂª∫Êé•Âè£ÂÆûÁé∞Á±ªÔºåÂÆûÁé∞ÊñπÊ≥ï 12345678910111213package com.lxl.spring5.aop.jdkdynamicproxy;public class UserDaoImpl implements UserDao { @Override public int add(int a, int b) { return a + b; } @Override public String update(String id) { return id; }} Ôºà3Ôºâ‰ΩøÁî®ProxyÁ±ªÂàõÂª∫Êé•Âè£‰ª£ÁêÜÂØπË±° 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354package com.lxl.spring5.aop.jdkdynamicproxy;import java.lang.reflect.InvocationHandler;import java.lang.reflect.Method;import java.lang.reflect.Proxy;import java.util.Arrays;/** * ‰ΩøÁî®ProxyÂàõÂª∫‰ª£ÁêÜÂØπË±° */public class JDKProxy { public static void main(String[] args) { //ÂàõÂª∫Êé•Âè£ÂÆûÁé∞Á±ª‰ª£ÁêÜÂØπË±° Class[] interfaces = {UserDao.class};// getClassLoaderÁ±ªÂä†ËΩΩÂô®// interfacesË¶ÅÂÆûÁé∞ÁöÑÊé•Âè£// Proxy.newProxyInstance(JDKProxy.class.getClassLoader(), interfaces, new InvocationHandler() {// @Override// public Object invoke(Object proxy, Method method, Object[] args) throws Throwable {// return null;// }// }); UserDaoImpl userDao = new UserDaoImpl(); UserDao dao = (UserDao) Proxy.newProxyInstance(JDKProxy.class.getClassLoader(), interfaces, new UserDaoProxy(userDao)); int result = dao.add(1, 2); System.out.println(&quot;result:&quot; + result); }}//ÂàõÂª∫‰ª£ÁêÜÂØπË±°‰ª£Á†Åclass UserDaoProxy implements InvocationHandler { //1 ÊääÂàõÂª∫ÁöÑÊòØË∞ÅÁöÑ‰ª£ÁêÜÂØπË±°ÔºåÊääË∞Å‰º†ÈÄíËøáÊù• // ÊúâÂèÇÊï∞ÊûÑÈÄ†‰º†ÈÄí‰ª£ÁêÜÂØπË±° private Object obj; public UserDaoProxy(Object obj) { this.obj = obj; } //Â¢ûÂº∫ÁöÑÈÄªËæë// invokeÊñπÊ≥ïÁ±ªÂØπË±°ÂàõÂª∫ÂêéÂç≥Ë¢´Ë∞ÉÁî® @Override public Object invoke(Object proxy, Method method, Object[] args) throws Throwable { //ÊñπÊ≥ï‰πãÂâç System.out.println(&quot;ÊñπÊ≥ï‰πãÂâçÊâßË°å....&quot; + method.getName() + &quot; :‰º†ÈÄíÁöÑÂèÇÊï∞...&quot; + Arrays.toString(args)); // Ë¢´Â¢ûÂº∫ÁöÑÊñπÊ≥ïÊâßË°å Object res = method.invoke(obj, args); // ÊñπÊ≥ï‰πãÂêé System.out.println(&quot;ÊñπÊ≥ï‰πãÂêéÊâßË°å....&quot; + obj); return res; }} AOP‰∏ªË¶ÅÊúØËØ≠ 1.ËøûÊé•ÁÇπÔºàJoint pointÔºâ ÂèØ‰ª•Ë¢´Â¢ûÂº∫ÁöÑÁ®ãÂ∫èÂÖ∑‰ΩìÁöÑÊñπÊ≥ï 2.ÂàáÂÖ•ÁÇπÔºàPointcutÔºâ ÂÆûÈôÖË¢´Â¢ûÂº∫ÁöÑÊñπÊ≥ïÔºà‰∏Ä‰∏™Êàñ‰∏ÄÁªÑËøûÊé•ÁÇπÔºâÔºåÂèØÈÄöËøá@PointcutÊ≥®Ëß£Âà∞ÊñπÊ≥ï‰∏äÊäΩÂèñÂÖ±ÂêåÂàáÂÖ•ÁÇπÔºåÈÄöËøáÂàáÂÖ•ÁÇπË°®ËææÂºèÊàñËÄÖÂåπÈÖçÁöÑÊñπÂºèÊåáÊòéÂàáÂÖ•ÁÇπ„ÄÇ 3.ÈÄöÁü•ÔºàÂ¢ûÂº∫ÔºâÔºàAdviceÔºâ ÂÆûÈôÖÂ¢ûÂº∫ÁöÑÈÉ®ÂàÜÔºåÂàáÈù¢Ë¶ÅÂÆåÊàêÁöÑÂêÑ‰∏™Â∑•‰ΩúÔºåÊØîÂ¶ÇÂâçÁΩÆÂêéÁΩÆÊó•ÂøóÁ≠â„ÄÇÈÄöÁü•Á±ªÂûãÔºöÂâçÁΩÆÈÄöÁü•„ÄÅÂêéÁΩÆÈÄöÁü•„ÄÅÁéØÁªïÈÄöÁü•„ÄÅÂºÇÂ∏∏ÈÄöÁü•„ÄÅÊúÄÁªàÈÄöÁü• 4.ÂàáÈù¢ÔºàAspectÔºâ Â∞ÅË£Ö ÂêÑ‰∏™ÈÄöÁü•Â∫îÁî®Âà∞ÂàáÂÖ•ÁÇπÁöÑËøáÁ®ãÂä®‰Ωú ÁöÑ‰∏Ä‰∏™ Ê†áÊ≥®@AspectÁöÑ Á±ª AOPÊìç‰ΩúÔºàÂáÜÂ§áÔºâ 1„ÄÅSpringÊ°ÜÊû∂‰∏ÄËà¨ÈÉΩÊòØÂü∫‰∫éAspectJÂÆûÁé∞AOPÊìç‰Ωú Ôºà1ÔºâAspectJ‰∏çÊòØSpringÁªÑÊàêÈÉ®ÂàÜÔºåÁã¨Á´ãAOPÊ°ÜÊû∂Ôºå‰∏ÄËà¨ÊääAspectJÂíåSpirngÊ°ÜÊû∂‰∏ÄËµ∑‰ΩøÁî®ÔºåËøõË°åAOPÊìç‰Ωú 2„ÄÅÂü∫‰∫é **AspectJ **ÂÆûÁé∞AOPÊìç‰Ωú Ôºà1ÔºâÂü∫‰∫éxmlÈÖçÁΩÆÊñá‰ª∂ÂÆûÁé∞ Ôºà2ÔºâÂü∫‰∫éÊ≥®Ëß£ÊñπÂºèÂÆûÁé∞Ôºà‰ΩøÁî®Ôºâ 3„ÄÅÂú®È°πÁõÆÂ∑•Á®ãÈáåÈù¢ÂºïÂÖ•AOPÁõ∏ÂÖ≥‰æùËµñ 4„ÄÅÂàáÂÖ•ÁÇπË°®ËææÂºè Ôºà1ÔºâÂàáÂÖ•ÁÇπË°®ËææÂºè‰ΩúÁî®ÔºöÁü•ÈÅìÂØπÂì™‰∏™Á±ªÈáåÈù¢ÁöÑÂì™‰∏™ÊñπÊ≥ïËøõË°åÂ¢ûÂº∫ Ôºà2ÔºâËØ≠Ê≥ïÁªìÊûÑÔºö execution([ÊùÉÈôê‰øÆÈ•∞Á¨¶] [ËøîÂõûÁ±ªÂûã] [Á±ªÂÖ®Ë∑ØÂæÑ] [ÊñπÊ≥ïÂêçÁß∞ ]-([ÂèÇÊï∞ÂàóË°®])) ‰∏æ‰æã1ÔºöÂØπcom.atguigu.dao.BookDaoÁ±ªÈáåÈù¢ÁöÑaddËøõË°åÂ¢ûÂº∫ execution(* com.atguigu.dao.BookDao.add(..)) ‰∏æ‰æã2ÔºöÂØπcom.atguigu.dao.BookDaoÁ±ªÈáåÈù¢ÁöÑÊâÄÊúâÁöÑÊñπÊ≥ïËøõË°åÂ¢ûÂº∫ execution(* com.atguigu.dao.BookDao.* (..)) ‰∏æ‰æã3ÔºöÂØπcom.atguigu.daoÂåÖÈáåÈù¢ÊâÄÊúâÁ±ªÔºåÁ±ªÈáåÈù¢ÊâÄÊúâÊñπÊ≥ïËøõË°åÂ¢ûÂº∫ execution(* com.atguigu.dao.. (..)) AOPÊìç‰ΩúÔºà Ê≥®Ëß£Ôºâ 1„ÄÅÂàõÂª∫Á±ªÔºåÂú®Á±ªÈáåÈù¢ÂÆö‰πâÊñπÊ≥ï 12345678import org.springframework.stereotype.Component;@Componentpublic class User { public void add() { System.out.println(&quot;add.......&quot;); }} 2„ÄÅÂàõÂª∫Â¢ûÂº∫Á±ªÔºàÁºñÂÜôÂ¢ûÂº∫ÈÄªËæëÔºâ ‚Äã Âú®Â¢ûÂº∫Á±ªÈáåÈù¢ÔºåÂàõÂª∫ÊñπÊ≥ïÔºåËÆ©‰∏çÂêåÊñπÊ≥ï‰ª£Ë°®‰∏çÂêåÈÄöÁü•Á±ªÂûã,@AspectÊääÂΩìÂâçÁ±ªÊ†áËØÜ‰∏∫‰∏Ä‰∏™ÂàáÈù¢‰æõÂÆπÂô®ËØªÂèñ„ÄÇ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051package com.lxl.spring5.aop.aspectjanno;import org.aspectj.lang.ProceedingJoinPoint;import org.aspectj.lang.annotation.*;import org.springframework.stereotype.Component;//Â¢ûÂº∫ÁöÑÁ±ª@Component//ÊääÂΩìÂâçÁ±ªÊ†áËØÜ‰∏∫‰∏Ä‰∏™ÂàáÈù¢‰æõÂÆπÂô®ËØªÂèñ@Aspect// ÁîüÊàê‰ª£ÁêÜÂØπË±°public class UserProxy { // ÂâçÁΩÆÈÄöÁü• //@BeforeÊ≥®Ëß£Ë°®Á§∫‰Ωú‰∏∫ÂâçÁΩÆÈÄöÁü• @Before(value = &quot;execution(* com.lxl.spring5.aop.aspectjanno.User.add(..))&quot;) public void before() { System.out.println(&quot;before.........&quot;); } //ÂêéÁΩÆÈÄöÁü•ÔºàËøîÂõûÈÄöÁü•Ôºâ// Âú®ÊñπÊ≥ïËøîÂõûÁªìÊûú‰πãÂêéÊâßË°å// ÂºÇÂ∏∏Êó∂‰∏çÊâßË°å @AfterReturning(value = &quot;execution(* com.lxl.spring5.aop.aspectjanno.User.add(..))&quot;) public void afterReturning() { System.out.println(&quot;afterReturning.........&quot;); } //ÊúÄÁªàÈÄöÁü•// ÊñπÊ≥ï‰πãÂêéÊâßË°å// ÂºÇÂ∏∏Êó∂‰πüÊâßË°å @After(value = &quot;execution(* com.lxl.spring5.aop.aspectjanno.User.add(..))&quot;) public void after() { System.out.println(&quot;after.........&quot;); } //ÂºÇÂ∏∏ÈÄöÁü•// Âá∫Áé∞ÂºÇÂ∏∏ÊâßË°å @AfterThrowing(value = &quot;execution(* com.lxl.spring5.aop.aspectjanno.User.add(..))&quot;) public void afterThrowing() { System.out.println(&quot;afterThrowing.........&quot;); } //ÁéØÁªïÈÄöÁü• @Around(value = &quot;execution(* com.lxl.spring5.aop.aspectjanno.User.add(..))&quot;) public void around(ProceedingJoinPoint proceedingJoinPoint) throws Throwable { System.out.println(&quot;ÁéØÁªï‰πãÂâç.........&quot;);// Ë¢´Â¢ûÂº∫ÁöÑÊñπÊ≥ïÊâßË°å proceedingJoinPoint.proceed(); System.out.println(&quot;ÁéØÁªï‰πãÂêé.........&quot;); }} 3„ÄÅËøõË°åÈÄöÁü•ÁöÑÈÖçÁΩÆ Ôºà1ÔºâÂú®springÈÖçÁΩÆÊñá‰ª∂‰∏≠ÔºåÂºÄÂêØÊ≥®Ëß£Êâ´Êèè 12345678910111213141516171819&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:context=&quot;http://www.springframework.org/schema/context&quot; xmlns:aop=&quot;http://www.springframework.org/schema/aop&quot; xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop.xsd&quot;&gt; &lt;!--=====================AOPÊ≥®Ëß£‰ΩøÁî®======================--&gt; &lt;!-- Ê∑ªÂä†ÂëΩÂêçÁ©∫Èó¥Ôºöaop„ÄÅcontext--&gt; &lt;!-- ÂºÄÂêØÊ≥®Ëß£Êâ´Êèè --&gt; &lt;context:component-scan base-package=&quot;com.lxl.spring5.aop.aspectjanno&quot;&gt;&lt;/context:component-scan&gt; &lt;!-- ÂºÄÂêØAspectÁîüÊàê‰ª£ÁêÜÂØπË±°--&gt; &lt;aop:aspectj-autoproxy&gt;&lt;/aop:aspectj-autoproxy&gt;&lt;/beans&gt; 4.ÊµãËØï 12345678@Testpublic void TestAopAnno() { ApplicationContext context = new ClassPathXmlApplicationContext(&quot;aop1.xml&quot;); User user= context.getBean(&quot;user&quot;,User.class); user.add();} 5.ÁªÜËäÇÔºöÂÖ±ÂêåÂàáÂÖ•ÁÇπÊäΩÂèñ 1234567891011 //ÂÖ±ÂêåÂàáÂÖ•ÁÇπÊäΩÂèñ @Pointcut(value = &quot;execution(* com.lxl.spring5.aop.aspectjanno.User.add(..))&quot;) public void samepoint() { } // ÂâçÁΩÆÈÄöÁü• //@BeforeÊ≥®Ëß£Ë°®Á§∫‰Ωú‰∏∫ÂâçÁΩÆÈÄöÁü• @Before(value = &quot;samepoint()&quot;)// @Before(value = &quot;execution(* com.lxl.spring5.aop.aspectjanno.User.add(..))&quot;) public void before() { System.out.println(&quot;before.........&quot;); } 6„ÄÅÁªÜËäÇÔºöËÆæÁΩÆÂ¢ûÂº∫Á±ª‰ºòÂÖàÁ∫ß ‚Äã ÊúâÂ§ö‰∏™Â¢ûÂº∫Á±ªÂ§öÂêå‰∏Ä‰∏™ÊñπÊ≥ïËøõË°åÂ¢ûÂº∫ÔºåËÆæÁΩÆÂ¢ûÂº∫Á±ª‰ºòÂÖàÁ∫ßÔºåÂú®Â¢ûÂº∫Á±ª‰∏äÈù¢Ê∑ªÂä†Ê≥®Ëß£ @Order(Êï∞Â≠óÁ±ªÂûãÂÄº)ÔºåÊï∞Â≠óÁ±ªÂûãÂÄºË∂äÂ∞è‰ºòÂÖàÁ∫ßË∂äÈ´ò„ÄÇ 1234567891011121314151617181920212223242526import org.aspectj.lang.ProceedingJoinPoint;import org.aspectj.lang.annotation.*;import org.springframework.core.annotation.Order;import org.springframework.stereotype.Component;//Â¢ûÂº∫ÁöÑÁ±ª@Component@Aspect@Order(1)// ÁîüÊàê‰ª£ÁêÜÂØπË±°public class PersonProxy { //ÂÖ±ÂêåÂàáÂÖ•ÁÇπÊäΩÂèñ @Pointcut(value = &quot;execution(* com.lxl.spring5.aop.aspectjanno.User.add(..))&quot;) public void samepoint() { } // ÂâçÁΩÆÈÄöÁü• //@BeforeÊ≥®Ëß£Ë°®Á§∫‰Ωú‰∏∫ÂâçÁΩÆÈÄöÁü• @Before(value = &quot;samepoint()&quot;)// @Before(value = &quot;execution(* com.lxl.spring5.aop.aspectjanno.User.add(..))&quot;) public void before() { System.out.println(&quot;PersonProxy before.........&quot;); }} 7.ÂÆåÂÖ®‰ΩøÁî®Ê≥®Ëß£ÂºÄÂèë Ôºà1ÔºâÂàõÂª∫ÈÖçÁΩÆÁ±ªÔºå‰∏çÈúÄË¶ÅÂàõÂª∫xmlÈÖçÁΩÆÊñá‰ª∂ @Configuration @ComponentScan(basePackages = {&quot;com.lxl&quot;}) @EnableAspectJAutoProxy(proxyTargetClass = true) public class ConfigAop AOPÊìç‰ΩúÔºàXMLÔºâ 1.ÂàõÂª∫Á±ª‰∏éÂ¢ûÂº∫Á±ª 12345public class Book { public void buy() { System.out.println(&quot;buy--&quot;); }} 1234567package com.lxl.spring5.aop.aopxml;public class BookProxy { public void before() { System.out.println(&quot;before----&quot;); }} 2.ÈÖçÁΩÆÂàáÂÖ•ÁÇπ 12345678910111213141516171819202122232425&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:context=&quot;http://www.springframework.org/schema/context&quot; xmlns:aop=&quot;http://www.springframework.org/schema/aop&quot; xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop.xsd&quot;&gt; &lt;!--=====================AOP xmlÊìç‰Ωú======================--&gt; &lt;!--ÂàõÂª∫ÂØπË±°--&gt; &lt;bean id=&quot;book&quot; class=&quot;com.lxl.spring5.aop.aopxml.Book&quot;/&gt; &lt;bean id=&quot;bookProxy&quot; class=&quot;com.lxl.spring5.aop.aopxml.BookProxy&quot;/&gt; &lt;!--ÈÖçÁΩÆaopÂ¢ûÂº∫--&gt; &lt;aop:config&gt; &lt;!--ÂàáÂÖ•ÁÇπ--&gt; &lt;aop:pointcut id=&quot;p&quot; expression=&quot;execution(* com.lxl.spring5.aop.aopxml.Book.buy(..))&quot;/&gt; &lt;!--ÈÖçÁΩÆÂàáÈù¢ÔºåÂç≥ÊääÈÄöÁü•ÔºàÂ¢ûÂº∫ÁöÑÈÉ®ÂàÜbookProxyÔºârefÂ∫îÁî®Âà∞ÂàáÂÖ•ÁÇπÔºàbuy()ÔºâÁöÑËøáÁ®ãÂä®‰Ωú--&gt; &lt;aop:aspect ref=&quot;bookProxy&quot;&gt; &lt;!--Â¢ûÂº∫‰ΩúÁî®Âú®ÂÖ∑‰ΩìÁöÑÊñπÊ≥ï‰∏ä--&gt; &lt;aop:before method=&quot;before&quot; pointcut-ref=&quot;p&quot;/&gt; &lt;/aop:aspect&gt; &lt;/aop:config&gt;&lt;/beans&gt; 3.ÊµãËØï 1234567891011121314151617package com.lxl.spring5.aop.aopxml;import com.lxl.spring5.aop.aopanno.User;import org.junit.Test;import org.springframework.context.ApplicationContext;import org.springframework.context.support.ClassPathXmlApplicationContext;public class TestAopXml { @Test public void TestAopAnno() { ApplicationContext context = new ClassPathXmlApplicationContext(&quot;aop2.xml&quot;); Book book= context.getBean(&quot;book&quot;,Book.class); book.buy(); }} JdbcTemplate ‰æùËµñÂáÜÂ§á ÈÖçÁΩÆËøûÊé•Ê±† jdbc.properties 1234prop.driverClass=com.mysql.jdbc.Driverprop.url=jdbc:mysql://localhost:3306/learn?useUnicode=true&amp;characterEncoding=utf8prop.userName=rootprop.password=root 1234567891011121314151617181920212223242526&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot; xmlns:util=&quot;http://www.springframework.org/schema/util&quot; xmlns:p=&quot;http://www.springframework.org/schema/p&quot; xmlns:context=&quot;http://www.springframework.org/schema/context&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd http://www.springframework.org/schema/util http://www.springframework.org/schema/util/spring-util.xsd http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd&quot;&gt; &lt;!-- ÂºïÂÖ•Â§ñÈÉ®Êñá‰ª∂--&gt; &lt;context:property-placeholder location=&quot;classpath:jdbc.properties&quot;/&gt; &lt;!-- ÈÖçÁΩÆdruidËøûÊé•Ê±†--&gt; &lt;bean id=&quot;dataSource&quot; class=&quot;com.alibaba.druid.pool.DruidDataSource&quot;&gt; &lt;property name=&quot;driverClassName&quot; value=&quot;${prop.driverClass}&quot;&gt;&lt;/property&gt; &lt;property name=&quot;url&quot; value=&quot;${prop.url}&quot;&gt;&lt;/property&gt; &lt;property name=&quot;username&quot; value=&quot;${prop.userName}&quot;&gt;&lt;/property&gt; &lt;property name=&quot;password&quot; value=&quot;${prop.password}&quot;&gt;&lt;/property&gt; &lt;/bean&gt; &lt;!-- JdbcTemplateÂØπË±° --&gt; &lt;bean id=&quot;jdbcTemplate&quot; class=&quot;org.springframework.jdbc.core.JdbcTemplate&quot;&gt; &lt;!--Ê≥®ÂÖ•dataSource--&gt; &lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot;&gt;&lt;/property&gt; &lt;/bean&gt; &lt;!-- ÁªÑ‰ª∂Êâ´Êèè --&gt; &lt;context:component-scan base-package=&quot;com.lxl.spring5.jdbctemplatel&quot;&gt;&lt;/context:component-scan&gt;&lt;/beans&gt; ÊâÄÊúâÊï∞ÊçÆÂ∫ìÂü∫Êú¨Êìç‰Ωú ÂàõÂª∫ÂÆû‰ΩìÁ±ª„ÄÅserviceÁ±ªÔºåÂàõÂª∫daoÁ±ªÔºåÂú®daoÊ≥®ÂÖ•jdbcTemplateÂØπË±° 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185//=======================Dao=============================import com.lxl.spring5.jdbctemplatel.entity.Book;import java.util.List;public interface BookDao { public void add(Book book); public void delete(String id); public void updateBook(Book book); public int selectCount(); public Book selectOneBook(String bookid); public List&lt;Book&gt; selectAllBooks(); public void batchInsert(List&lt;Object[]&gt; books); public void batchUpdateBook(List&lt;Object[]&gt; batchArgs); public void batchDeleteBook(List&lt;Object[]&gt; batchArgs);}//=======================DaoImpl=============================import com.lxl.spring5.jdbctemplatel.entity.Book;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.jdbc.core.BeanPropertyRowMapper;import org.springframework.jdbc.core.JdbcTemplate;import org.springframework.stereotype.Repository;import java.util.Arrays;import java.util.List;@Repositorypublic class BookDaoImpl implements BookDao { //Ê≥®ÂÖ•JdbcTemplate @Autowired private JdbcTemplate jdbcTemplate; @Override public void add(Book book) { String sql = &quot;insert into book values(?,?,?) &quot;; String args[] = {book.getBookId(), book.getBookName(), book.getBookStatus()}; int update = jdbcTemplate.update(sql, args); System.out.println(&quot;Êõ¥Êñ∞‰∫Ü&quot; + update + &quot;Êù°Êï∞ÊçÆ&quot;); } @Override public void updateBook(Book book) { String sql = &quot;update book set bookname=?,bookstatus=? where bookid=?&quot;; Object[] args = {book.getBookName(), book.getBookStatus(), book.getBookId()}; int update = jdbcTemplate.update(sql, args); System.out.println(update); } @Override public void delete(String id) { String sql = &quot;delete from book where bookid=?&quot;; int update = jdbcTemplate.update(sql, id); System.out.println(update); } //Êü•ËØ¢Ë°®ËÆ∞ÂΩïÊï∞ @Override public int selectCount() { String sql = &quot;select count(*) from book&quot;; Integer count = jdbcTemplate.queryForObject(sql, Integer.class); return count; } //Êü•ËØ¢Âçï‰∏™ÂØπË±° @Override public Book selectOneBook(String bookid) { String sql = &quot;select * from book where bookid=?&quot;; Book book = jdbcTemplate.queryForObject(sql, new BeanPropertyRowMapper&lt;Book&gt;(Book.class), bookid); return book; } //Êü•ËØ¢Â§ö‰∏™ÂØπË±° @Override public List&lt;Book&gt; selectAllBooks() { String sql = &quot;select * from book&quot;; List&lt;Book&gt; query = jdbcTemplate.query(sql, new BeanPropertyRowMapper&lt;Book&gt;(Book.class)); return query; } @Override public void batchInsert(List&lt;Object[]&gt; books) { String sql = &quot;insert into book values(?,?,?)&quot;; int[] ints = jdbcTemplate.batchUpdate(sql, books); System.out.println(Arrays.toString(ints)); }// ÊâπÈáè‰øÆÊîπ @Override public void batchUpdateBook(List&lt;Object[]&gt; batchArgs) { String sql = &quot;update book set bookname=?,bookstatus=? where bookid=?&quot;; int[] ints = jdbcTemplate.batchUpdate(sql, batchArgs); System.out.println(Arrays.toString(ints)); }// ÊâπÈáèÂà†Èô§ @Override public void batchDeleteBook(List&lt;Object[]&gt; batchArgs) { String sql = &quot;delete from book where bookid=?&quot;; int[] ints = jdbcTemplate.batchUpdate(sql, batchArgs); System.out.println(Arrays.toString(ints)); }}//======================Service==============================import com.lxl.spring5.jdbctemplatel.dao.BookDao;import com.lxl.spring5.jdbctemplatel.entity.Book;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.stereotype.Service;import java.util.List;@Servicepublic class BookService { //Ê≥®ÂÖ•dao @Autowired private BookDao bookDao; public void addBook(Book book){ bookDao.add(book); } public void updateBook(Book book){ bookDao.updateBook(book); } public void delete(String id){ bookDao.delete(id); } public int selectCount(){ return bookDao.selectCount(); } public Book selectOneBook(String bookid){ return bookDao.selectOneBook(bookid); } public List&lt;Book&gt; selectAllBooks(){ return bookDao.selectAllBooks(); } public void batchInsert(List&lt;Object[]&gt; books){ bookDao.batchInsert(books); }; public void batchUpdateBook(List&lt;Object[]&gt; books){ bookDao.batchUpdateBook(books); }; public void batchDeleteBook(List&lt;Object[]&gt; books){ bookDao.batchDeleteBook(books); };}//========================entity============================public class Book { private String BookId; private String BookName; private String BookStatus; @Override public String toString() { return &quot;Book{&quot; + &quot;BookId='&quot; + BookId + '\\'' + &quot;, BookName='&quot; + BookName + '\\'' + &quot;, BookStatus='&quot; + BookStatus + '\\'' + '}'; } public String getBookId() { return BookId; } public void setBookId(String bookId) { BookId = bookId; } public String getBookName() { return BookName; } public void setBookName(String bookName) { BookName = bookName; } public String getBookStatus() { return BookStatus; } public void setBookStatus(String bookStatus) { BookStatus = bookStatus; }} Êñ∞Âª∫ÂØπÂ∫îÊï∞ÊçÆÂ∫ìÂ≠óÊÆµÂêéÊµãËØï 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980818283import com.lxl.spring5.jdbctemplatel.entity.Book;import com.lxl.spring5.jdbctemplatel.service.BookService;import org.junit.Test;import org.springframework.context.ApplicationContext;import org.springframework.context.support.ClassPathXmlApplicationContext;import java.util.ArrayList;import java.util.List;public class BookTest { @Test public void jdbcTemplateTest() { ApplicationContext context = new ClassPathXmlApplicationContext(&quot;jdbctemplate1.xml&quot;);// Â¢ûÂä†// Book book = new Book();// BookService bookService = context.getBean(&quot;bookService&quot;, BookService.class);// book.setBookId(&quot;1&quot;);// book.setBookName(&quot;JavaÂÆùÂÖ∏&quot;);// book.setBookStatus(&quot;ÂÆåÂ•Ω&quot;);// bookService.addBook(book);// ‰øÆÊîπÔºåÊó†ÂÄºÊîπ‰∏∫null// Book book = new Book();// BookService bookService = context.getBean(&quot;bookService&quot;, BookService.class);// book.setBookId(&quot;1&quot;);// book.setBookStatus(&quot;Êîπ‰∫Ü&quot;);// bookService.updateBook(book);// Ê†πÊçÆidÂà†Èô§// BookService bookService = context.getBean(&quot;bookService&quot;, BookService.class);// bookService.delete(&quot;1&quot;);// Êü•ËØ¢Êï∞ÁõÆ// BookService bookService = context.getBean(&quot;bookService&quot;, BookService.class);// int i = bookService.selectCount();// System.out.println(i);// Êü•ËØ¢Âçï‰∏™ÂØπË±°// BookService bookService = context.getBean(&quot;bookService&quot;, BookService.class);// Book book = bookService.selectOneBook(&quot;1&quot;);// System.out.println(book);// Êü•ËØ¢‰∏ÄÁªÑÂØπË±°// BookService bookService = context.getBean(&quot;bookService&quot;, BookService.class);// List&lt;Book&gt; book = bookService.selectAllBooks();// System.out.println(book);// ÊâπÈáèÊñ∞Â¢û‰∏ÄÁªÑÂØπË±°// BookService bookService = context.getBean(&quot;bookService&quot;, BookService.class);// List&lt;Object[]&gt; books = new ArrayList&lt;&gt;();// Object[] o1={&quot;3&quot;,&quot;java&quot;,&quot;a&quot;};// Object[] o2={&quot;4&quot;,&quot;orcle&quot;,&quot;b&quot;};// Object[] o3={&quot;5&quot;,&quot;net&quot;,&quot;v&quot;};// books.add(o1);// books.add(o2);// books.add(o3);// bookService.batchInsert(books);// ÊâπÈáè‰øÆÊîπ// BookService bookService = context.getBean(&quot;bookService&quot;, BookService.class);// List&lt;Object[]&gt; batchArgs = new ArrayList&lt;&gt;();//// sqlÂèÇÊï∞È°∫Â∫è// Object[] o1 = {&quot;java1&quot;, &quot;a3&quot;, &quot;3&quot;};// Object[] o2 = {&quot;orcle1&quot;, &quot;b4&quot;, &quot;4&quot;};// batchArgs.add(o1);// batchArgs.add(o2);//// Ë∞ÉÁî®ÊñπÊ≥ïÂÆûÁé∞ÊâπÈáè‰øÆÊîπ// bookService.batchUpdateBook(batchArgs); //ÊâπÈáèÂà†Èô§ BookService bookService = context.getBean(&quot;bookService&quot;, BookService.class); List&lt;Object[]&gt; batchArgs = new ArrayList&lt;&gt;(); Object[] o1 = {&quot;3&quot;}; Object[] o2 = {&quot;4&quot;}; batchArgs.add(o1); batchArgs.add(o2); //Ë∞ÉÁî®ÊñπÊ≥ïÂÆûÁé∞ÊâπÈáèÂà†Èô§ bookService.batchDeleteBook(batchArgs); }} ÂèØËÉΩBUG Client does not support authentication protocol requested by server; 123mysql -hlocalhost -uroot -pALTER USER 'root'@'localhost' IDENTIFIED WITH mysql_native_password BY 'root';FLUSH PRIVILEGES; Unknown initial character set index '255' received from server. Initial client character set can be forced via the 'characterEncoding' property. 12String urlÂêéÊ∑ªÂä†?useUnicode=true&amp;characterEncoding=utf8 mybatis urlÂêéÊ∑ªÂä†?useUnicode=true&amp;characterEncoding=utf8 ‰∫ãÂä° 1.‰ªÄ‰πàÊòØ‰∫ãÂä° Ôºà1Ôºâ‰∫ãÂä°ÊòØÊï∞ÊçÆÂ∫ìÊìç‰ΩúÊúÄÂü∫Êú¨ÂçïÂÖÉÔºåÈÄªËæë‰∏ä‰∏ÄÁªÑÊìç‰ΩúÔºåË¶Å‰πàÈÉΩÊàêÂäüÔºåÂ¶ÇÊûúÊúâ‰∏Ä‰∏™Â§±Ë¥•ÊâÄÊúâÊìç‰ΩúÈÉΩÂ§±Ë¥• Ôºà2ÔºâÂÖ∏ÂûãÂú∫ÊôØÔºöÈì∂Ë°åËΩ¨Ë¥¶ lucy ËΩ¨Ë¥¶100ÂÖÉ Áªômary lucyÂ∞ë100ÔºåmaryÂ§ö100 2.‰∫ãÂä°Âõõ‰∏™ÁâπÊÄßÔºàACIDÔºâ Ôºà1ÔºâÂéüÂ≠êÊÄß Ôºà2Ôºâ‰∏ÄËá¥ÊÄß Ôºà3ÔºâÈöîÁ¶ªÊÄß Ôºà4ÔºâÊåÅ‰πÖÊÄß 3.‰∫ãÁâ©ÊµãËØïÁéØÂ¢ÉÊê≠Âª∫ ÂàõÂª∫Êï∞ÊçÆÂ∫ì 123456789101112131415161718192021SET NAMES utf8mb4;SET FOREIGN_KEY_CHECKS = 0;-- ------------------------------ Table structure for t_account-- ----------------------------DROP TABLE IF EXISTS `t_account`;CREATE TABLE `t_account` ( `id` varchar(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL, `username` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL, `money` int NULL DEFAULT NULL, PRIMARY KEY (`id`) USING BTREE) ENGINE = InnoDB CHARACTER SET = utf8 COLLATE = utf8_general_ci ROW_FORMAT = Dynamic;-- ------------------------------ Records of t_account-- ----------------------------INSERT INTO `t_account` VALUES ('1', 'lucy', 900);INSERT INTO `t_account` VALUES ('2', 'mary', 1100);SET FOREIGN_KEY_CHECKS = 1; ÂàõÂª∫serviceÔºåÊê≠Âª∫daoÔºåÂÆåÊàêÂØπË±°ÂàõÂª∫ÂíåÊ≥®ÂÖ•ÂÖ≥Á≥ª 123456package com.lxl.spring5.transactionl.dao;public interface UserDao { public void reduceMoney(); public void addMoney();} 1234567891011121314151617181920212223242526package com.lxl.spring5.transactionl.dao;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.jdbc.core.JdbcTemplate;import org.springframework.stereotype.Repository;@Repositorypublic class UserDaoImpl implements UserDao { @Autowired private JdbcTemplate jdbcTemplate; //lucyËΩ¨Ë¥¶100Áªômary // Â∞ëÈí± @Override public void reduceMoney() { String sql = &quot;update t_account set money=money-? where username=?&quot;; jdbcTemplate.update(sql, 100, &quot;lucy&quot;); } //Â§öÈí± @Override public void addMoney() { String sql = &quot;update t_account set money=money+? where username=?&quot;; jdbcTemplate.update(sql, 100, &quot;mary&quot;); }} 1234567891011121314151617181920package com.lxl.spring5.transactionl.service;import com.lxl.spring5.transactionl.dao.UserDao;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.stereotype.Service;@Servicepublic class UserService { // Ê≥®ÂÖ•dao @Autowired private UserDao userDao; //ËΩ¨Ë¥¶ÁöÑÊñπÊ≥ï public void accountMoney() { // lucyÂ∞ë100 userDao.reduceMoney(); // maryÂ§ö100 userDao.addMoney(); }} 1234567891011121314151617181920212223242526&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot; xmlns:util=&quot;http://www.springframework.org/schema/util&quot; xmlns:p=&quot;http://www.springframework.org/schema/p&quot; xmlns:context=&quot;http://www.springframework.org/schema/context&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd http://www.springframework.org/schema/util http://www.springframework.org/schema/util/spring-util.xsd http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd&quot;&gt; &lt;!-- ÂºïÂÖ•Â§ñÈÉ®Êñá‰ª∂--&gt; &lt;context:property-placeholder location=&quot;classpath:jdbc.properties&quot;/&gt; &lt;!-- ÈÖçÁΩÆËøûÊé•Ê±†--&gt; &lt;bean id=&quot;dataSource&quot; class=&quot;com.alibaba.druid.pool.DruidDataSource&quot;&gt; &lt;property name=&quot;driverClassName&quot; value=&quot;${prop.driverClass}&quot;&gt;&lt;/property&gt; &lt;property name=&quot;url&quot; value=&quot;${prop.url}&quot;&gt;&lt;/property&gt; &lt;property name=&quot;username&quot; value=&quot;${prop.userName}&quot;&gt;&lt;/property&gt; &lt;property name=&quot;password&quot; value=&quot;${prop.password}&quot;&gt;&lt;/property&gt; &lt;/bean&gt; &lt;!-- JdbcTemplateÂØπË±° --&gt; &lt;bean id=&quot;jdbcTemplate&quot; class=&quot;org.springframework.jdbc.core.JdbcTemplate&quot;&gt; &lt;!--Ê≥®ÂÖ•dataSource--&gt; &lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot;&gt;&lt;/property&gt; &lt;/bean&gt; &lt;!-- ÁªÑ‰ª∂Êâ´Êèè --&gt; &lt;context:component-scan base-package=&quot;com.lxl.spring5.transactionl&quot;&gt;&lt;/context:component-scan&gt;&lt;/beans&gt; ÊµãËØï 12345678910111213141516package com.lxl.spring5.transactionl.test;import com.lxl.spring5.transactionl.service.UserService;import org.junit.Test;import org.springframework.context.ApplicationContext;import org.springframework.context.support.ClassPathXmlApplicationContext;public class transactionTest {@Test public void transactionTest() { ApplicationContext context = new ClassPathXmlApplicationContext(&quot;transaction1.xml&quot;); UserService userService = context.getBean(&quot;userService&quot;, UserService.class); userService.accountMoney();}} 4.Âá∫Áé∞ÂºÇÂ∏∏ Âá∫Áé∞ÂºÇÂ∏∏ÂêéÔºålucyÂ∞ë100Ôºåmary‰∏ç‰ºöÂèòÂØºËá¥Êï∞ÊçÆÊõ¥ÊîπÈîôËØØ„ÄÇ Ëß£ÂÜ≥1ÔºötryÊ£ÄÊµãÂºÇÂ∏∏ÔºåcatchÊâãÂä®ÂõûÊªö Ëß£ÂÜ≥2Ôºö‰ΩøÁî®SpringÂ£∞ÊòéÂºè‰∫ãÂä°ÔºåÂ¶Ç‰∏ã5ÊâÄÁ§∫„ÄÇ 1234567public void accountMoney() { // lucyÂ∞ë100 userDao.reduceMoney(); int i=10/0; // maryÂ§ö100 userDao.addMoney();} 5.‰∫ãÂä°Êìç‰ΩúÔºàÂçäÊ≥®Ëß£Ôºâ ‰∫ãÂä°Ê∑ªÂä†Âà∞JavaEE‰∏âÂ±ÇÁªìÊûÑÈáåÈù¢ServiceÂ±ÇÔºà‰∏öÂä°ÈÄªËæëÂ±ÇÔºâ Âú®SpringËøõË°å‰∫ãÂä°ÁÆ°ÁêÜÊìç‰Ωú Ôºà1ÔºâÊúâ‰∏§ÁßçÊñπÂºèÔºöÁºñÁ®ãÂºè‰∫ãÂä°ÁÆ°ÁêÜÂíåÂ£∞ÊòéÂºè‰∫ãÂä°ÁÆ°ÁêÜÔºà‰ΩøÁî®Ôºâ Â£∞ÊòéÂºè‰∫ãÂä°ÁÆ°ÁêÜ Ôºà1ÔºâÂü∫‰∫éÊ≥®Ëß£ÊñπÂºèÔºà‰ΩøÁî®Ôºâ Ôºà2ÔºâÂü∫‰∫éxmlÈÖçÁΩÆÊñá‰ª∂ÊñπÂºè Âú®SpringËøõË°åÂ£∞ÊòéÂºè‰∫ãÂä°ÁÆ°ÁêÜÔºåÂ∫ïÂ±Ç‰ΩøÁî®AOPÂéüÁêÜ Spring‰∫ãÂä°ÁÆ°ÁêÜAPI Ôºà1ÔºâÊèê‰æõ‰∏Ä‰∏™Êé•Âè£Ôºå‰ª£Ë°®‰∫ãÂä°ÁÆ°ÁêÜÂô®ÔºåËøô‰∏™Êé•Âè£ÈíàÂØπ‰∏çÂêåÁöÑÊ°ÜÊû∂Êèê‰æõ‰∏çÂêåÁöÑÂÆûÁé∞Á±ª Ôºà2ÔºâÈÖçÁΩÆ‰∫ãÁâ©ÁÆ°ÁêÜÂô®ÔºåÂºïÂÖ•ÂêçÁß∞Á©∫Èó¥ txÔºåÂºÄÂêØ‰∫ãÁâ©Ê≥®Ëß£ 12345678910111213&lt;!--1.ÂºïÂÖ•ÂêçÁß∞Á©∫Èó¥tx--&gt;xmlns:tx=&quot;http://www.springframework.org/schema/tx&quot;http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx.xsd&lt;!--2.ÂàõÂª∫‰∫ãÂä°ÁÆ°ÁêÜÂô®--&gt;&lt;bean id=&quot;transactionManager&quot; class=&quot;org.springframework.jdbc.datasource.DataSourceTransactionManager&quot;&gt; &lt;!--3.Ê≥®ÂÖ•Êï∞ÊçÆÊ∫ê--&gt; &lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot;&gt;&lt;/property&gt;&lt;/bean&gt;&lt;!--4.ÂºÄÂêØ‰∫ãÂä°Ê≥®Ëß£--&gt;&lt;tx:annotation-driven transaction-manager=&quot;transactionManager&quot;&gt;&lt;/tx:annotation-driven&gt;&lt;!--5.Ê∑ªÂä†@TransactionalÊ≥®Ëß£Âà∞ÈúÄË¶ÅÁöÑÁ±ªÊàñËÄÖÊñπÊ≥ï‰∏äÔºåÂÖ∂‰ΩçÁΩÆÂÜ≥ÂÆöËµ∑‰ΩúÁî®Âüü„ÄÇ--&gt; 6.‰∫ãÂä°ÂèÇÊï∞ propagationÔºö‰∫ãÂä°‰º†Êí≠Ë°å‰∏∫ ‚Äã Ôºà1Ôºâ‰∫ãÂä°‰º†Êí≠Ë°å‰∏∫Áî®Êù•ÊèèËø∞Áî±Êüê‰∏Ä‰∏™‰∫ãÂä°‰º†Êí≠Ë°å‰∏∫‰øÆÈ•∞ÁöÑÊñπÊ≥ïË¢´ÂµåÂ•óËøõÂè¶‰∏Ä‰∏™ÊñπÊ≥ïÁöÑÊó∂‰∫ãÂä°Â¶Ç‰Ωï‰º†Êí≠„ÄÇ Áî®‰º™‰ª£Á†ÅËØ¥ÊòéÔºö 123456789public void methodA(){ methodB(); //doSomething}@Transaction(Propagation=XXX)public void methodB(){ //doSomething} ‚Äã ‰ª£Á†Å‰∏≠methodA()ÊñπÊ≥ïÂµåÂ•óË∞ÉÁî®‰∫ÜmethodB()ÊñπÊ≥ïÔºåmethodB()ÁöÑ‰∫ãÂä°‰º†Êí≠Ë°å‰∏∫Áî±@Transaction(Propagation=XXX)ËÆæÁΩÆÂÜ≥ÂÆö„ÄÇËøôÈáåÈúÄË¶ÅÊ≥®ÊÑèÁöÑÊòØmethodA()Âπ∂Ê≤°ÊúâÂºÄÂêØ‰∫ãÂä°ÔºåÊüê‰∏Ä‰∏™‰∫ãÂä°‰º†Êí≠Ë°å‰∏∫‰øÆÈ•∞ÁöÑÊñπÊ≥ïÂπ∂‰∏çÊòØÂøÖÈ°ªË¶ÅÂú®ÂºÄÂêØ‰∫ãÂä°ÁöÑÂ§ñÂõ¥ÊñπÊ≥ï‰∏≠Ë∞ÉÁî®„ÄÇ ‚Äã Ôºà2ÔºâSpring‰∏≠‰∏ÉÁßç‰∫ãÂä°‰º†Êí≠Ë°å‰∏∫ ‰∫ãÂä°‰º†Êí≠( propagation )Ë°å‰∏∫Á±ªÂûã ËØ¥Êòé PROPAGATION_REQUIRED requirde Â¶ÇÊûúÂΩìÂâçÊ≤°Êúâ‰∫ãÂä°ÔºåÂ∞±Êñ∞Âª∫‰∏Ä‰∏™‰∫ãÂä°ÔºåÂ¶ÇÊûúÂ∑≤ÁªèÂ≠òÂú®‰∏Ä‰∏™‰∫ãÂä°‰∏≠ÔºåÂä†ÂÖ•Âà∞Ëøô‰∏™‰∫ãÂä°‰∏≠„ÄÇËøôÊòØÊúÄÂ∏∏ËßÅÁöÑÈÄâÊã©„ÄÇ PROPAGATION_SUPPORTS supports ÊîØÊåÅÂΩìÂâç‰∫ãÂä°ÔºåÂ¶ÇÊûúÂΩìÂâçÊ≤°Êúâ‰∫ãÂä°ÔºåÂ∞±‰ª•Èùû‰∫ãÂä°ÊñπÂºèÊâßË°å„ÄÇ PROPAGATION_MANDATORY mandatory ‰ΩøÁî®ÂΩìÂâçÁöÑ‰∫ãÂä°ÔºåÂ¶ÇÊûúÂΩìÂâçÊ≤°Êúâ‰∫ãÂä°ÔºåÂ∞±ÊäõÂá∫ÂºÇÂ∏∏„ÄÇ PROPAGATION_REQUIRES_NEW requirde _new Êñ∞Âª∫‰∫ãÂä°ÔºåÂ¶ÇÊûúÂΩìÂâçÂ≠òÂú®‰∫ãÂä°ÔºåÊääÂΩìÂâç‰∫ãÂä°ÊåÇËµ∑„ÄÇ PROPAGATION_NOT_SUPPORTED not_supported‰ª•Èùû‰∫ãÂä°ÊñπÂºèÊâßË°åÊìç‰ΩúÔºåÂ¶ÇÊûúÂΩìÂâçÂ≠òÂú®‰∫ãÂä°ÔºåÂ∞±ÊääÂΩìÂâç‰∫ãÂä°ÊåÇËµ∑„ÄÇ PROPAGATION_NEVER never ‰ª•Èùû‰∫ãÂä°ÊñπÂºèÊâßË°åÔºåÂ¶ÇÊûúÂΩìÂâçÂ≠òÂú®‰∫ãÂä°ÔºåÂàôÊäõÂá∫ÂºÇÂ∏∏„ÄÇ PROPAGATION_NESTED nested Â¶ÇÊûúÂΩìÂâçÂ≠òÂú®‰∫ãÂä°ÔºåÂàôÂú®ÂµåÂ•ó‰∫ãÂä°ÂÜÖÊâßË°å„ÄÇÂ¶ÇÊûúÂΩìÂâçÊ≤°Êúâ‰∫ãÂä°ÔºåÂàôÊâßË°å‰∏éPROPAGATION_REQUIREDÁ±ª‰ººÁöÑÊìç‰Ωú„ÄÇ ioslationÔºö‰∫ãÂä°ÈöîÁ¶ªÁ∫ßÂà´Ôºå‰º†Êí≠Â±ûÊÄß ‚Äã 1.È¶ñÂÖàËØ¥Êòé‰∏Ä‰∏ã‰∫ãÂä°Âπ∂ÂèëÂºïËµ∑ÁöÑ‰∏âÁßçÊÉÖÂÜµÔºö 1) Dirty Reads ËÑèËØª ‰∏Ä‰∏™‰∫ãÂä°Ê≠£Âú®ÂØπÊï∞ÊçÆËøõË°åÊõ¥Êñ∞Êìç‰ΩúÔºå‰ΩÜÊòØÊõ¥Êñ∞ËøòÊú™Êèê‰∫§ÔºåÂè¶‰∏Ä‰∏™‰∫ãÂä°ËøôÊó∂‰πüÊù•Êìç‰ΩúËøôÁªÑÊï∞ÊçÆÔºåÂπ∂‰∏îËØªÂèñ‰∫ÜÂâç‰∏Ä‰∏™‰∫ãÂä°ËøòÊú™Êèê‰∫§ÁöÑÊï∞ÊçÆÔºåËÄåÂâç‰∏Ä‰∏™‰∫ãÂä°Â¶ÇÊûúÊìç‰ΩúÂ§±Ë¥•ËøõË°å‰∫ÜÂõûÊªöÔºåÂêé‰∏Ä‰∏™‰∫ãÂä°ËØªÂèñÁöÑÂ∞±ÊòØÈîôËØØÊï∞ÊçÆÔºåËøôÊ†∑Â∞±ÈÄ†Êàê‰∫ÜËÑèËØª„ÄÇÂâç‰∫∫ÂêéÊÇîÂêé‰∫∫ÈÅ≠ÊÆÉ 2) Non-Repeatable Reads ‰∏çÂèØÈáçÂ§çËØª ‰∏Ä‰∏™‰∫ãÂä°Â§öÊ¨°ËØªÂèñÂêå‰∏ÄÊï∞ÊçÆÔºåÂú®ËØ•‰∫ãÂä°ËøòÊú™ÁªìÊùüÊó∂ÔºåÂè¶‰∏Ä‰∏™‰∫ãÂä°‰πüÂØπËØ•Êï∞ÊçÆËøõË°å‰∫ÜÊìç‰ΩúÔºåËÄå‰∏îÂú®Á¨¨‰∏Ä‰∏™‰∫ãÂä°‰∏§Ê¨°Ê¨°ËØªÂèñ‰πãÈó¥ÔºåÁ¨¨‰∫å‰∏™‰∫ãÂä°ÂØπÊï∞ÊçÆËøõË°å‰∫ÜÊõ¥Êñ∞ÔºåÈÇ£‰πàÁ¨¨‰∏Ä‰∏™‰∫ãÂä°ÂâçÂêé‰∏§Ê¨°ËØªÂèñÂà∞ÁöÑÊï∞ÊçÆÊòØ‰∏çÂêåÁöÑÔºåËøôÊ†∑Â∞±ÈÄ†Êàê‰∫Ü‰∏çÂèØÈáçÂ§çËØª„ÄÇÊàëÁî®Âù¶ÂÖã‰Ω†ÊîπÊàêÈ£ûÊú∫ 3) Phantom Reads ÂπªÂÉèËØª Á¨¨‰∏Ä‰∏™Êï∞ÊçÆÊ≠£Âú®Êü•ËØ¢Á¨¶ÂêàÊüê‰∏ÄÊù°‰ª∂ÁöÑÊï∞ÊçÆÔºåËøôÊó∂ÔºåÂè¶‰∏Ä‰∏™‰∫ãÂä°ÂèàÊèíÂÖ•‰∫Ü‰∏ÄÊù°Á¨¶ÂêàÊù°‰ª∂ÁöÑÊï∞ÊçÆÔºåÁ¨¨‰∏Ä‰∏™‰∫ãÂä°Âú®Á¨¨‰∫åÊ¨°Êü•ËØ¢Á¨¶ÂêàÂêå‰∏ÄÊù°‰ª∂ÁöÑÊï∞ÊçÆÊó∂ÔºåÂèëÁé∞Â§ö‰∫Ü‰∏ÄÊù°Ââç‰∏ÄÊ¨°Êü•ËØ¢Êó∂Ê≤°ÊúâÁöÑÊï∞ÊçÆÔºå‰ªø‰ΩõÂπªËßâ‰∏ÄÊ†∑ÔºåËøôÂ∞±ÊòØÂπªÂÉèËØª„ÄÇ‰Ω†ÂêÉÈªÑËâ≤Èù¢ÂåÖÁªô‰Ω†Â°ûÂù®ÈªÑËâ≤Áâ©‰Ωì ÈùûÈáçÂ§çÂ∫¶ÂíåÂπªÂÉèËØªÁöÑÂå∫Âà´Ôºö ÈùûÈáçÂ§çËØªÊòØÊåáÂêå‰∏ÄÊü•ËØ¢Âú®Âêå‰∏Ä‰∫ãÂä°‰∏≠Â§öÊ¨°ËøõË°åÔºåÁî±‰∫éÂÖ∂‰ªñÊèê‰∫§‰∫ãÂä°ÊâÄÂÅöÁöÑ‰øÆÊîπÊàñÂà†Èô§ÔºåÊØèÊ¨°ËøîÂõû‰∏çÂêåÁöÑÁªìÊûúÈõÜÔºåÊ≠§Êó∂ÂèëÁîüÈùûÈáçÂ§çËØª„ÄÇÂπªÂÉèËØªÊòØÊåáÂêå‰∏ÄÊü•ËØ¢Âú®Âêå‰∏Ä‰∫ãÂä°‰∏≠Â§öÊ¨°ËøõË°åÔºåÁî±‰∫éÂÖ∂‰ªñÊèê‰∫§‰∫ãÂä°ÊâÄÂÅöÁöÑÊèíÂÖ•Êìç‰ΩúÔºåÊØèÊ¨°ËøîÂõû‰∏çÂêåÁöÑÁªìÊûúÈõÜÔºåÊ≠§Êó∂ÂèëÁîüÂπªÂÉèËØª„ÄÇË°®Èù¢‰∏äÁúãÔºåÂå∫Âà´Â∞±Âú®‰∫éÈùûÈáçÂ§çËØªËÉΩÁúãËßÅÂÖ∂‰ªñ‰∫ãÂä°Êèê‰∫§ÁöÑ‰øÆÊîπÂíåÂà†Èô§ÔºåËÄåÂπªÂÉèËÉΩÁúãËßÅÂÖ∂‰ªñ‰∫ãÂä°Êèê‰∫§ÁöÑÊèíÂÖ•„ÄÇ ‚Äã 2.ÈöîÁ¶ªÁ∫ßÂà´Ôºö 1) DEFAULT ÔºàÈªòËÆ§Ôºâ ËøôÊòØ‰∏Ä‰∏™PlatfromTransactionManagerÈªòËÆ§ÁöÑÈöîÁ¶ªÁ∫ßÂà´Ôºå‰ΩøÁî®Êï∞ÊçÆÂ∫ìÈªòËÆ§ÁöÑ‰∫ãÂä°ÈöîÁ¶ªÁ∫ßÂà´„ÄÇÂè¶Â§ñÂõõ‰∏™‰∏éJDBCÁöÑÈöîÁ¶ªÁ∫ßÂà´Áõ∏ÂØπÂ∫î„ÄÇ 2) READ_UNCOMMITTED ÔºàËØªÊú™Êèê‰∫§Ôºâ ËøôÊòØ‰∫ãÂä°ÊúÄ‰ΩéÁöÑÈöîÁ¶ªÁ∫ßÂà´ÔºåÂÆÉÂÖÅËÆ∏Âè¶Â§ñ‰∏Ä‰∏™‰∫ãÂä°ÂèØ‰ª•ÁúãÂà∞Ëøô‰∏™‰∫ãÂä°Êú™Êèê‰∫§ÁöÑÊï∞ÊçÆ„ÄÇËøôÁßçÈöîÁ¶ªÁ∫ßÂà´‰ºö‰∫ßÁîüËÑèËØªÔºå‰∏çÂèØÈáçÂ§çËØªÂíåÂπªÂÉèËØª„ÄÇ 3) READ_COMMITTED ÔºàËØªÂ∑≤Êèê‰∫§Ôºâ ‰øùËØÅ‰∏Ä‰∏™‰∫ãÂä°‰øÆÊîπÁöÑÊï∞ÊçÆÊèê‰∫§ÂêéÊâçËÉΩË¢´Âè¶Â§ñ‰∏Ä‰∏™‰∫ãÂä°ËØªÂèñÔºåÂè¶Â§ñ‰∏Ä‰∏™‰∫ãÂä°‰∏çËÉΩËØªÂèñËØ•‰∫ãÂä°Êú™Êèê‰∫§ÁöÑÊï∞ÊçÆ„ÄÇËøôÁßç‰∫ãÂä°ÈöîÁ¶ªÁ∫ßÂà´ÂèØ‰ª•ÈÅøÂÖçËÑèËØªÂá∫Áé∞Ôºå‰ΩÜÊòØÂèØËÉΩ‰ºöÂá∫Áé∞‰∏çÂèØÈáçÂ§çËØªÂíåÂπªÂÉèËØª„ÄÇ 4) REPEATABLE_READ ÔºàÂèØÈáçÂ§çËØªÔºâ ËøôÁßç‰∫ãÂä°ÈöîÁ¶ªÁ∫ßÂà´ÂèØ‰ª•Èò≤Ê≠¢ËÑèËØª„ÄÅ‰∏çÂèØÈáçÂ§çËØªÔºå‰ΩÜÊòØÂèØËÉΩÂá∫Áé∞ÂπªÂÉèËØª„ÄÇÂÆÉÈô§‰∫Ü‰øùËØÅ‰∏Ä‰∏™‰∫ãÂä°‰∏çËÉΩËØªÂèñÂè¶‰∏Ä‰∏™‰∫ãÂä°Êú™Êèê‰∫§ÁöÑÊï∞ÊçÆÂ§ñÔºåËøò‰øùËØÅ‰∫Ü‰∏çÂèØÈáçÂ§çËØª„ÄÇ 5) SERIALIZABLEÔºà‰∏≤Ë°åÂåñÔºâ ËøôÊòØËä±Ë¥πÊúÄÈ´ò‰ª£‰ª∑‰ΩÜÊòØÊúÄÂèØÈù†ÁöÑ‰∫ãÂä°ÈöîÁ¶ªÁ∫ßÂà´Ôºå‰∫ãÂä°Ë¢´Â§ÑÁêÜ‰∏∫È°∫Â∫èÊâßË°å„ÄÇÈô§‰∫ÜÈò≤Ê≠¢ËÑèËØª„ÄÅ‰∏çÂèØÈáçÂ§çËØªÂ§ñÔºåËøòÈÅøÂÖç‰∫ÜÂπªÂÉèËØª„ÄÇ timeoutÔºöË∂ÖÊó∂Êó∂Èó¥ Ôºà1Ôºâ‰∫ãÂä°ÈúÄË¶ÅÂú®‰∏ÄÂÆöÊó∂Èó¥ÂÜÖËøõË°åÊèê‰∫§ÔºåÂ¶ÇÊûú‰∏çÊèê‰∫§ËøõË°åÂõûÊªö Ôºà2ÔºâÈªòËÆ§ÂÄºÊòØ -1 ÔºåËÆæÁΩÆÊó∂Èó¥‰ª•ÁßíÂçï‰ΩçËøõË°åËÆ°ÁÆó readOnlyÔºöÊòØÂê¶Âè™ËØª Ôºà1ÔºâËØªÔºöÊü•ËØ¢Êìç‰ΩúÔºåÂÜôÔºöÊ∑ªÂä†‰øÆÊîπÂà†Èô§Êìç‰Ωú Ôºà2ÔºâreadOnlyÈªòËÆ§ÂÄºfalseÔºåË°®Á§∫ÂèØ‰ª•Êü•ËØ¢ÔºåÂèØ‰ª•Ê∑ªÂä†‰øÆÊîπÂà†Èô§Êìç‰Ωú Ôºà3ÔºâËÆæÁΩÆreadOnlyÂÄºÊòØtrueÔºåËÆæÁΩÆÊàêtrue‰πãÂêéÔºåÂè™ËÉΩÊü•ËØ¢ rollbackForÔºöÂõûÊªö Ôºà1ÔºâËÆæÁΩÆÂá∫Áé∞Âì™‰∫õÂºÇÂ∏∏ËøõË°å‰∫ãÂä°ÂõûÊªö noRollbackForÔºö‰∏çÂõûÊªö Ôºà1ÔºâËÆæÁΩÆÂá∫Áé∞Âì™‰∫õÂºÇÂ∏∏‰∏çËøõË°å‰∫ãÂä°ÂõûÊªö 7.‰∫ãÂä°Êìç‰ΩúÔºàXMLÔºâ Áª≠Áî®‰∏äÈù¢Á§∫‰æãÔºåÊ∑ªÂä†‰∏Ä‰∏ãÈÖçÁΩÆÂÆûÁé∞‰ª•XMLÊñπÂºèÂÆûÁé∞‰∫ãÁâ©Êìç‰ΩúÔºåÂéªÊéâ@TransactionÊ≥®Ëß£ÂêéÂ§çÂà∂ÊµãËØïÊñπÊ≥ïËøõË°åÊµãËØï„ÄÇ 1234567891011121314&lt;!--Ê∑ªÂä†aopÂëΩÂêçÁ©∫Èó¥--&gt; &lt;!--Êó†ÈúÄ‰∫ãÂä°Ê≥®Ëß£ÈÖçÁΩÆ--&gt;&lt;!-- &lt;tx:annotation-driven transaction-manager=&quot;transactionManager&quot;&gt;&lt;/tx:annotation-driven&gt;--&gt; &lt;!--ÈÖçÁΩÆÈÄöÁü•--&gt; &lt;tx:advice id=&quot;txadvice&quot;&gt; &lt;!--ÈÖçÁΩÆ‰∫ãÂä°ÂèÇÊï∞--&gt; &lt;tx:attributes&gt; &lt;!--ÊåáÂÆöÂì™ÁßçËßÑÂàôÁöÑÊñπÊ≥ï‰∏äÈù¢Ê∑ªÂä†‰∫ãÂä°--&gt; &lt;tx:method name=&quot;accountMoney&quot; propagation=&quot;REQUIRED&quot;/&gt; &lt;!--&lt;tx:method name=&quot;account*&quot;/&gt;--&gt; &lt;/tx:attributes&gt; &lt;/tx:advice&gt; &lt;!--3 ÈÖçÁΩÆÂàáÂÖ•ÁÇπÂíåÂàáÈù¢--&gt; &lt;aop:config&gt; &lt;!--ÈÖçÁΩÆÂàáÂÖ•ÁÇπ--&gt; &lt;aop:pointcut id=&quot;pt&quot; expression=&quot;execution(* com.lxl.spring5.transactionl.service.UserService.*(..))&quot;/&gt; &lt;!--ÈÖçÁΩÆÂàáÈù¢--&gt; &lt;aop:advisor advice-ref=&quot;txadvice&quot; pointcut-ref=&quot;pt&quot;/&gt; &lt;/aop:config&gt; 8.‰∫ãÂä°Êìç‰ΩúÔºàÂÆåÂÖ®Ê≥®Ëß£Ôºâ Ê∑ªÂä†ÈÖçÁΩÆÁ±ª 123456789101112131415161718192021222324252627282930313233343536373839404142434445package com.lxl.spring5.transactionl;import com.alibaba.druid.pool.DruidDataSource;import org.springframework.context.annotation.Bean;import org.springframework.context.annotation.ComponentScan;import org.springframework.context.annotation.Configuration;import org.springframework.jdbc.core.JdbcTemplate;import org.springframework.jdbc.datasource.DataSourceTransactionManager;import org.springframework.transaction.annotation.EnableTransactionManagement;import javax.sql.DataSource;@Configuration//ÈÖçÁΩÆÁ±ª@ComponentScan(basePackages = &quot;com.lxl.spring5.transactionl&quot;)//ÁªÑ‰ª∂Êâ´Êèè@EnableTransactionManagement// ÂºÄÂêØ‰∫ãÂä°public class TxConfig { // ÂàõÂª∫Êï∞ÊçÆÂ∫ìËøûÊé•Ê±† @Bean public DruidDataSource getDruidDataSource() { DruidDataSource dataSource = new DruidDataSource(); dataSource.setDriverClassName(&quot;com.mysql.jdbc.Driver&quot;); dataSource.setUrl(&quot;jdbc:mysql://localhost:3306/learn?useUnicode=true&amp;characterEncoding=utf8&quot;); dataSource.setUsername(&quot;root&quot;); dataSource.setPassword(&quot;root&quot;); return dataSource; } //ÂàõÂª∫JdbcTemplateÂØπË±° @Bean public JdbcTemplate getJdbcTemplate(DataSource dataSource) { //Âà∞iocÂÆπÂô®‰∏≠Ê†πÊçÆÁ±ªÂûãÊâæÂà∞dataSource JdbcTemplate jdbcTemplate = new JdbcTemplate(); // Ê≥®ÂÖ•dataSource jdbcTemplate.setDataSource(dataSource);return jdbcTemplate;} //ÂàõÂª∫‰∫ãÂä°ÁÆ°ÁêÜÂô® @Bean public DataSourceTransactionManager getDataSourceTransactionManager(DataSource dataSource) { DataSourceTransactionManager transactionManager = new DataSourceTransactionManager(); transactionManager.setDataSource(dataSource); return transactionManager; }} ÊµãËØï 123456789 //ÂÖ®Ê≥®Ëß£ÊñπÂºèÊµãËØï// ÂÖàÂéªÊéâ@TransactionÊ≥®Ëß£ @Test public void transactionAllAnnoTest() { ApplicationContext context = new AnnotationConfigApplicationContext(TxConfig.class); UserService userService = context.getBean(&quot;userService&quot;, UserService.class); userService.accountMoney(); } Spring5Êñ∞ÂäüËÉΩ Log4j2 Êï¥‰∏™Spring5Ê°ÜÊû∂ÁöÑ‰ª£Á†ÅÂü∫‰∫éJava8ÔºåËøêË°åÊó∂ÂÖºÂÆπJDK9ÔºåËÆ∏Â§ö‰∏çÂª∫ËÆÆ‰ΩøÁî®ÁöÑÁ±ªÂíåÊñπÊ≥ïÂú®‰ª£Á†ÅÂ∫ì‰∏≠Âà†Èô§Spring 5.0Ê°ÜÊû∂Ëá™Â∏¶‰∫ÜÈÄöÁî®ÁöÑÊó•ÂøóÂ∞ÅË£Ö Ôºà1ÔºâSpring5Â∑≤ÁªèÁßªÈô§Log4jConfigListenerÔºåÂÆòÊñπÂª∫ËÆÆ‰ΩøÁî®Log4j2 Ôºà2ÔºâSpring5Ê°ÜÊû∂Êï¥ÂêàLog4j2 Á¨¨‰∏ÄÊ≠• ÂºïÂÖ•jarÂåÖ ÂáÜÂ§á ÂØºÂÖ•jarÂåÖÂπ∂ÂØºÂÖ•‰æùËµñ„Äê2021.12 Log4j2.17.0 RCE(CVE-2021-44832)ÊºèÊ¥û„ÄëÁîü‰∫ßÂª∫ËÆÆ‰ΩøÁî®2.17.1‰ª•‰∏ä ÂàõÂª∫ÈÖçÁΩÆÊñá‰ª∂log4j2 123456789101112131415161718192021&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;!--Êó•ÂøóÁ∫ßÂà´‰ª•Âèä‰ºòÂÖàÁ∫ßÊéíÂ∫è: OFF &gt; FATAL &gt; ERROR &gt; WARN &gt; INFO &gt; DEBUG &gt; TRACE &gt; ALL --&gt;&lt;!--ConfigurationÂêéÈù¢ÁöÑstatusÁî®‰∫éËÆæÁΩÆlog4j2Ëá™Ë∫´ÂÜÖÈÉ®ÁöÑ‰ø°ÊÅØËæìÂá∫ÔºåÂèØ‰ª•‰∏çËÆæÁΩÆÔºåÂΩìËÆæÁΩÆÊàêtraceÊó∂ÔºåÂèØ‰ª•ÁúãÂà∞log4j2ÂÜÖÈÉ®ÂêÑÁßçËØ¶ÁªÜËæìÂá∫--&gt;&lt;!--ËÆæÁΩÆINFO‰ºöËæìÂá∫ÂâçÈù¢Á∫ßÂà´ÊâÄÊúâÊó•Âøó--&gt;&lt;configuration status=&quot;INFO&quot;&gt; &lt;!--ÂÖàÂÆö‰πâÊâÄÊúâÁöÑappender--&gt; &lt;appenders&gt; &lt;!--ËæìÂá∫Êó•Âøó‰ø°ÊÅØÂà∞ÊéßÂà∂Âè∞--&gt; &lt;console name=&quot;Console&quot; target=&quot;SYSTEM_OUT&quot;&gt; &lt;!--ÊéßÂà∂Êó•ÂøóËæìÂá∫ÁöÑÊ†ºÂºè--&gt; &lt;PatternLayout pattern=&quot;%d{yyyy-MM-dd HH:mm:ss.SSS} [%t] %-5level %logger{36} - %msg%n&quot;/&gt; &lt;/console&gt; &lt;/appenders&gt; &lt;!--ÁÑ∂ÂêéÂÆö‰πâloggerÔºåÂè™ÊúâÂÆö‰πâ‰∫ÜloggerÂπ∂ÂºïÂÖ•ÁöÑappenderÔºåappenderÊâç‰ºöÁîüÊïà--&gt; &lt;!--rootÔºöÁî®‰∫éÊåáÂÆöÈ°πÁõÆÁöÑÊ†πÊó•ÂøóÔºåÂ¶ÇÊûúÊ≤°ÊúâÂçïÁã¨ÊåáÂÆöLoggerÔºåÂàô‰ºö‰ΩøÁî®root‰Ωú‰∏∫ÈªòËÆ§ÁöÑÊó•ÂøóËæìÂá∫--&gt; &lt;loggers&gt; &lt;root level=&quot;info&quot;&gt; &lt;appender-ref ref=&quot;Console&quot;/&gt; &lt;/root&gt; &lt;/loggers&gt;&lt;/configuration&gt; ‰ªªÊÑèËøêË°åÁ®ãÂ∫èÂèØËßÅÊó•ÂøóÔºåÊõ¥Êîπ Êü•Áúã‰∏çÂêåÁ∫ßÂà´Êó•Âøó„ÄÇ ÊâãÂä®Âä†Êó•Âøó 12345@Testpublic void manualLogTest(){ final Logger log = LoggerFactory.getLogger(transactionTest.class); log.warn(&quot;hello log4j==============&quot;);} @Nullable Spring5Ê°ÜÊû∂Ê†∏ÂøÉÂÆπÂô®ÊîØÊåÅ@NullableÊ≥®Ëß£ Ôºà1Ôºâ@NullableÊ≥®Ëß£ÂèØ‰ª•‰ΩøÁî®Âú®ÊñπÊ≥ï‰∏äÈù¢ÔºåÂ±ûÊÄß‰∏äÈù¢ÔºåÂèÇÊï∞‰∏äÈù¢ÔºåË°®Á§∫ÊñπÊ≥ïËøîÂõûÂèØ‰ª•‰∏∫Á©∫ÔºåÂ±ûÊÄßÂÄºÂèØ‰ª•‰∏∫Á©∫ÔºåÂèÇÊï∞ÂÄºÂèØ‰ª•‰∏∫Á©∫ Ôºà2ÔºâÊ≥®Ëß£Áî®Âú®ÊñπÊ≥ï‰∏äÈù¢ÔºåÊñπÊ≥ïËøîÂõûÂÄºÂèØ‰ª•‰∏∫Á©∫ Ôºà3ÔºâÊ≥®Ëß£‰ΩøÁî®Âú®ÊñπÊ≥ïÂèÇÊï∞ÈáåÈù¢ÔºåÊñπÊ≥ïÂèÇÊï∞ÂèØ‰ª•‰∏∫Á©∫ Ôºà4ÔºâÊ≥®Ëß£‰ΩøÁî®Âú®Â±ûÊÄß‰∏äÈù¢ÔºåÂ±ûÊÄßÂÄºÂèØ‰ª•‰∏∫Á©∫ GenericApplicationContext Spring5Ê†∏ÂøÉÂÆπÂô®ÊîØÊåÅÂáΩÊï∞ÂºèÈ£éÊ†ºGenericApplicationContext,ÊääËá™Â∑±newÁöÑÂØπË±°Âä†ÂÖ•ÊêúspringÁÆ°ÁêÜ‰∏≠„ÄÇ 123456789101112//ÂáΩÊï∞ÂºèÈ£éÊ†ºÂàõÂª∫ÂØπË±°Ôºå‰∫§ÁªôspringËøõË°åÁÆ°ÁêÜ @Test public void testGenericApplicationContext() { //1 ÂàõÂª∫GenericApplicationContextÂØπË±° GenericApplicationContext context = new GenericApplicationContext(); //2 Ë∞ÉÁî®contextÁöÑÊñπÊ≥ïÂØπË±°Ê≥®ÂÜå context.refresh(); context.registerBean(&quot;user1&quot;,User.class,() -&gt; new User()); //3 Ëé∑ÂèñÂú®springÊ≥®ÂÜåÁöÑÂØπË±° // User user = (User)context.getBean(&quot;com.atguigu.spring5.test.User&quot;); User user = (User)context.getBean(&quot;user1&quot;); System.out.println(user); } Spring5ÊîØÊåÅÊï¥ÂêàJUnit5 Ôºà1ÔºâÊï¥ÂêàJUnit4 Á¨¨‰∏ÄÊ≠• ÂºïÂÖ•SpringÁõ∏ÂÖ≥ÈíàÂØπÊµãËØï‰æùËµñ ÊµãËØï‰ª£Á†Å 1234567891011121314151617181920212223package com.lxl.spring5.JunitTest;import com.lxl.spring5.transactionl.service.UserService;import org.junit.Test;import org.junit.runner.RunWith;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.test.context.ContextConfiguration;import org.springframework.test.context.junit4.SpringJUnit4ClassRunner;@RunWith(SpringJUnit4ClassRunner.class)//ÂçïÂÖÉÊµãËØïÊ°ÜÊû∂ @ContextConfiguration(&quot;classpath:transaction1.xml&quot;)//Âä†ËΩΩÈÖçÁΩÆÊñá‰ª∂public class JunitTest4 { @Autowired private UserService userService; @Test public void test1() { userService.accountMoney(); }} Ôºà2ÔºâJunit5 ideaÁÇπÂáª@TestÂØºÂÖ•ÂåÖ 1234567891011121314151617181920212223package com.lxl.spring5.JunitTest;import com.lxl.spring5.transactionl.service.UserService;import org.junit.jupiter.api.Test;import org.junit.jupiter.api.extension.ExtendWith;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.test.context.ContextConfiguration;import org.springframework.test.context.junit.jupiter.SpringExtension;import org.springframework.test.context.junit.jupiter.SpringJUnitConfig;//@ExtendWith(SpringExtension.class)//@ContextConfiguration(&quot;classpath:transaction1.xml&quot;)//SpringJUnitConfigÊïàÊûúÂêå‰∏äÈù¢‰∏§‰∏™ÂêåÊó∂‰ΩøÁî®@SpringJUnitConfig(locations = &quot;classpath:transaction1.xml&quot;)public class JunitTest5 { @Autowired private UserService userService; @Test public void test1() { userService.accountMoney(); }} Webflux 1„ÄÅSpringWebflux‰ªãÁªç Ôºà1ÔºâÊòØSpring5Ê∑ªÂä†Êñ∞ÁöÑÊ®°ÂùóÔºåÁî®‰∫éwebÂºÄÂèëÁöÑÔºåÂäüËÉΩÂíåSpringMVCÁ±ª‰ººÁöÑÔºåWebflux‰ΩøÁî®ÂΩìÂâç‰∏ÄÁßçÊØîËæÉÊµÅÁ®ãÂìçÂ∫îÂºèÁºñÁ®ãÂá∫Áé∞ÁöÑÊ°ÜÊû∂„ÄÇ Ôºà2Ôºâ‰ΩøÁî®‰º†ÁªüwebÊ°ÜÊû∂ÔºåÊØîÂ¶ÇSpringMVCÔºåËøô‰∫õÂü∫‰∫éServletÂÆπÂô®ÔºåWebfluxÊòØ‰∏ÄÁßçÂºÇÊ≠•ÈùûÈòªÂ°ûÁöÑÊ°ÜÊû∂ÔºåÂºÇÊ≠•ÈùûÈòªÂ°ûÁöÑÊ°ÜÊû∂Âú®Servlet3.1‰ª•ÂêéÊâçÊîØÊåÅÔºåÊ†∏ÂøÉÊòØÂü∫‰∫éReactorÁöÑÁõ∏ÂÖ≥APIÂÆûÁé∞ÁöÑ„ÄÇ Ôºà3ÔºâËß£Èáä‰ªÄ‰πàÊòØÂºÇÊ≠•ÈùûÈòªÂ°û ÂºÇÊ≠•ÂíåÂêåÊ≠• ÈùûÈòªÂ°ûÂíåÈòªÂ°û ‰∏äÈù¢ÈÉΩÊòØÈíàÂØπÂØπË±°‰∏ç‰∏ÄÊ†∑ ÂºÇÊ≠•ÂíåÂêåÊ≠•ÈíàÂØπË∞ÉÁî®ËÄÖÔºåË∞ÉÁî®ËÄÖÂèëÈÄÅËØ∑Ê±ÇÔºåÂ¶ÇÊûúÁ≠âÁùÄÂØπÊñπÂõûÂ∫î‰πãÂêéÊâçÂéªÂÅöÂÖ∂‰ªñ‰∫ãÊÉÖÂ∞±ÊòØÂêåÊ≠•ÔºåÂ¶ÇÊûúÂèëÈÄÅËØ∑Ê±Ç‰πãÂêé‰∏çÁ≠âÁùÄÂØπÊñπÂõûÂ∫îÂ∞±ÂéªÂÅöÂÖ∂‰ªñ‰∫ãÊÉÖÂ∞±ÊòØÂºÇÊ≠•ÈòªÂ°ûÂíåÈùûÈòªÂ°ûÈíàÂØπË¢´Ë∞ÉÁî®ËÄÖÔºåË¢´Ë∞ÉÁî®ËÄÖÂèóÂà∞ËØ∑Ê±Ç‰πãÂêéÔºåÂÅöÂÆåËØ∑Ê±Ç‰ªªÂä°‰πãÂêéÊâçÁªôÂá∫ÂèçÈ¶àÂ∞±ÊòØÈòªÂ°ûÔºåÂèóÂà∞ËØ∑Ê±Ç‰πãÂêéÈ©¨‰∏äÁªôÂá∫ÂèçÈ¶àÁÑ∂ÂêéÂÜçÂéªÂÅö‰∫ãÊÉÖÂ∞±ÊòØÈùûÈòªÂ°û Ôºà4ÔºâWebfluxÁâπÁÇπÔºö Á¨¨‰∏Ä ÈùûÈòªÂ°ûÂºèÔºöÂú®ÊúâÈôêËµÑÊ∫ê‰∏ãÔºåÊèêÈ´òÁ≥ªÁªüÂêûÂêêÈáèÂíå‰º∏Áº©ÊÄßÔºå‰ª•Reactor‰∏∫Âü∫Á°ÄÂÆûÁé∞ÂìçÂ∫îÂºèÁºñÁ®ã Á¨¨‰∫å ÂáΩÊï∞ÂºèÁºñÁ®ãÔºöSpring5Ê°ÜÊû∂Âü∫‰∫éjava8ÔºåWebflux‰ΩøÁî®Java8ÂáΩÊï∞ÂºèÁºñÁ®ãÊñπÂºèÂÆûÁé∞Ë∑ØÁî±ËØ∑Ê±Ç Ôºà5ÔºâÊØîËæÉSpringMVC Á¨¨‰∏Ä ‰∏§‰∏™Ê°ÜÊû∂ÈÉΩÂèØ‰ª•‰ΩøÁî®Ê≥®Ëß£ÊñπÂºèÔºåÈÉΩËøêË°åÂú®TometÁ≠âÂÆπÂô®‰∏≠ Á¨¨‰∫å SpringMVCÈááÁî®ÂëΩ‰ª§ÂºèÁºñÁ®ãÔºåWebfluxÈááÁî®ÂºÇÊ≠•ÂìçÂ∫îÂºèÁºñÁ®ã Êó∂Èó¥Á¥ßËø´ÔºåÊú™ÂÆåÂæÖÁª≠","link":"/2021/02/24/Draft/2021/Spring/"},{"title":"JavaÂü∫Á°ÄÊ∑±ÂÖ•","text":"Êñ∞Â≠¶ÂõõÈóÆ WHY„Äê‰∏éÂâç‰ª£‰ºòÂåñ‰∫Ü‰ªÄ‰πàÔºåÂº•Ë°•‰∫Ü‰ªÄ‰πàÁ©∫ÁôΩ„ÄëÁ≠ëÂü∫ÔºåË∂äÊ∑±Ë∂äÁ®≥ WHAT„ÄêÊ°ÜÊû∂ÔºåÊÄùÁª¥ÂØºÂõæÔºå‰∏ªÈ¢òÊ°ÜÊû∂„ÄëÂÆπÂô®„ÄÅÂπ∂Âèë„ÄÅIO„ÄÅNET„ÄÅJVM„ÄÅÂÖ∂‰ªñ HOW„ÄêÂ¶Ç‰ΩïËÆ∞ÂøÜÔºåÂ≠¶‰π†ËµÑÊ∫ê„Äë:https://github.com/CyC2018„ÄÅÂçöÂÆ¢ÂÆåÂñÑ„ÄÅ‰π¶Á±çÊ∑±ÂÖ•„ÄÅANKIÁ®≥Âõ∫„ÄÅÁÜüÊÇâÂü∫Á°ÄÊï∞ÊçÆÁªìÊûÑ LEVEL„Äê‰∏çÊòØÊØè‰∏™ÈÉΩÂ≠¶Á≤æ„ÄëÁ≤æÈÄö ÁªºÂêàÈóÆÈ¢ò Â¢ûÂº∫forÂíåÊôÆÈÄöforÂå∫Âà´Ôºü ‚Äã ÈúÄË¶ÅÂæ™ÁéØÊï∞ÁªÑÁªìÊûÑÁöÑÊï∞ÊçÆÊó∂ÔºåÂª∫ËÆÆ‰ΩøÁî®ÊôÆÈÄöforÂæ™ÁéØÔºåÂõ†‰∏∫forÂæ™ÁéØÈááÁî®‰∏ãÊ†áËÆøÈóÆÔºåÂØπ‰∫éÊï∞ÁªÑÁªìÊûÑÁöÑÊï∞ÊçÆÊù•ËØ¥ÔºåÈááÁî®‰∏ãÊ†áËÆøÈóÆÊØîËæÉÂ•Ω„ÄÇÈúÄË¶ÅÂæ™ÁéØÈìæË°®ÁªìÊûÑÁöÑÊï∞ÊçÆÊó∂Ôºå‰∏ÄÂÆö‰∏çË¶Å‰ΩøÁî®ÊôÆÈÄöforÂæ™ÁéØÔºåËøôÁßçÂÅöÊ≥ïÂæàÁ≥üÁ≥ïÔºåÊï∞ÊçÆÈáèÂ§ßÁöÑÊó∂ÂÄôÊúâÂèØËÉΩ‰ºöÂØºËá¥Á≥ªÁªüÂ¥©Ê∫É„ÄÇforÂæ™ÁéØÊòØÈöèÊú∫ËØªÂèñÔºåÂ¢ûÂº∫forÁöÑÂ∫ïÂ±ÇÊòØËø≠‰ª£Âô®ÔºåÂ±û‰∫éÈ°∫Â∫èËØªÂèñ„ÄÇArrayListÂÆûÁé∞‰∫ÜRandomAccessÊ†áËÆ∞ÊÄßÊé•Âè£ÔºåÂèØ‰ª•ÊòæËëóÊèêÂçáÈöèÊú∫ËØªÂèñÁöÑÊïàÁéáÔºõËÄålinkedlistÊ≤°ÊúâÂÆûÁé∞RandomAccessÊé•Âè£ÔºåÈöèÊú∫ËØªÂèñ‰ºöÂæàÊÖ¢ Êï∞ÊçÆÁªìÊûÑ ÂìàÂ∏å **Ê†∏ÂøÉÁêÜËÆ∫Ôºö**Hash‰πüÁß∞Êï£Âàó„ÄÅÂìàÂ∏åÔºåÂØπÂ∫îÁöÑËã±ÊñáÈÉΩÊòØHash„ÄÇÂü∫Êú¨ÂéüÁêÜÂ∞±ÊòØÊää‰ªªÊÑèÈïøÂ∫¶ÁöÑËæìÂÖ•ÔºåÈÄöËøáHashÁÆóÊ≥ïÂèòÊàêÂõ∫ÂÆöÈïøÂ∫¶ÁöÑËæìÂá∫„ÄÇËøô‰∏™Êò†Â∞ÑÁöÑËßÑÂàôÂ∞±ÊòØÂØπÂ∫îÁöÑHashÁÆóÊ≥ïÔºåËÄåÂéüÂßãÊï∞ÊçÆÊò†Â∞ÑÂêéÁöÑ‰∫åËøõÂà∂‰∏≤Â∞±ÊòØÂìàÂ∏åÂÄº„ÄÇ HashÁöÑÁâπÁÇπÔºö 1.hashÂÄº‰∏çÂèØ‰ª•ÂèçÂêëÊé®ÂØºÂá∫ÂéüÂßãÁöÑÊï∞ÊçÆ 2.ËæìÂÖ•Êï∞ÊçÆÁöÑÂæÆÂ∞èÂèòÂåñ‰ºöÂæóÂà∞ÂÆåÂÖ®‰∏çÂêåÁöÑhashÂÄºÔºåÁõ∏ÂêåÁöÑÊï∞ÊçÆ‰ºöÂæóÂà∞Áõ∏ÂêåÁöÑÂÄº 3.ÂìàÂ∏åÁÆóÊ≥ïÁöÑÊâßË°åÊïàÁéáË¶ÅÈ´òÊïàÔºåÈïøÁöÑÊñáÊú¨‰πüËÉΩÂø´ÈÄüÂú∞ËÆ°ÁÆóÂá∫ÂìàÂ∏åÂÄº 4.hashÁÆóÊ≥ïÁöÑÂÜ≤Á™ÅÊ¶ÇÁéáË¶ÅÂ∞è Áî±‰∫éhashÁöÑÂéüÁêÜÊòØÂ∞ÜËæìÂÖ•Á©∫Èó¥ÁöÑÂÄºÊò†Â∞ÑÊàêhashÁ©∫Èó¥ÂÜÖÔºåËÄåhashÂÄºÁöÑÁ©∫Èó¥ËøúÂ∞è‰∫éËæìÂÖ•ÁöÑÁ©∫Èó¥„ÄÇÊ†πÊçÆÊäΩÂ±âÂéüÁêÜÔºå‰∏ÄÂÆö‰ºöÂ≠òÂú®‰∏çÂêåÁöÑËæìÂÖ•Ë¢´Êò†Â∞ÑÊàêÁõ∏ÂêåËæìÂá∫ÁöÑÊÉÖÂÜµ„ÄÇÊäΩÂ±âÂéüÁêÜÔºöÊ°å‰∏äÊúâÂçÅ‰∏™ËãπÊûúÔºåË¶ÅÊääËøôÂçÅ‰∏™ËãπÊûúÊîæÂà∞‰πù‰∏™ÊäΩÂ±âÈáåÔºåÊó†ËÆ∫ÊÄéÊ†∑ÊîæÔºåÊàë‰ª¨‰ºöÂèëÁé∞Ëá≥Â∞ë‰ºöÊúâ‰∏Ä‰∏™ÊäΩÂ±âÈáåÈù¢Êîæ‰∏çÂ∞ë‰∫é‰∏§‰∏™ËãπÊûúÔºåËøô‰∏ÄÁé∞Ë±°Â∞±ÊòØÊàë‰ª¨ÊâÄËØ¥ÁöÑÊäΩÂ±âÂéüÁêÜ„ÄÇ Á∫¢ÈªëÊ†ë R-B TreeÔºåÂÖ®Áß∞ÊòØRed-Black TreeÔºåÂèàÁß∞‰∏∫‚ÄúÁ∫¢ÈªëÊ†ë‚ÄùÔºåÂÆÉ‰∏ÄÁßçÁâπÊÆäÁöÑ‰∫åÂèâÊü•ÊâæÊ†ë„ÄÇÁ∫¢ÈªëÊ†ëÁöÑÊØè‰∏™ËäÇÁÇπ‰∏äÈÉΩÊúâÂ≠òÂÇ®‰ΩçË°®Á§∫ËäÇÁÇπÁöÑÈ¢úËâ≤ÔºåÂèØ‰ª•ÊòØÁ∫¢(Red)ÊàñÈªë(Black)„ÄÇ Á∫¢ÈªëÊ†ëÁöÑÁâπÊÄß: Ôºà1ÔºâÊØè‰∏™ËäÇÁÇπÊàñËÄÖÊòØÈªëËâ≤ÔºåÊàñËÄÖÊòØÁ∫¢Ëâ≤„ÄÇ Ôºà2ÔºâÊ†πËäÇÁÇπÊòØÈªëËâ≤„ÄÇ Ôºà3ÔºâÊØè‰∏™Âè∂Â≠êËäÇÁÇπÔºàNILÔºâÊòØÈªëËâ≤„ÄÇ [Ê≥®ÊÑèÔºöËøôÈáåÂè∂Â≠êËäÇÁÇπÔºåÊòØÊåá‰∏∫Á©∫(NILÊàñNULL)ÁöÑÂè∂Â≠êËäÇÁÇπÔºÅ] Ôºà4ÔºâÂ¶ÇÊûú‰∏Ä‰∏™ËäÇÁÇπÊòØÁ∫¢Ëâ≤ÁöÑÔºåÂàôÂÆÉÁöÑÂ≠êËäÇÁÇπÂøÖÈ°ªÊòØÈªëËâ≤ÁöÑ„ÄÇ Ôºà5Ôºâ‰ªé‰∏Ä‰∏™ËäÇÁÇπÂà∞ËØ•ËäÇÁÇπÁöÑÂ≠êÂ≠ôËäÇÁÇπÁöÑÊâÄÊúâË∑ØÂæÑ‰∏äÂåÖÂê´Áõ∏ÂêåÊï∞ÁõÆÁöÑÈªëËäÇÁÇπ„ÄÇ Ê≥®ÊÑèÔºö (01) ÁâπÊÄß(3)‰∏≠ÁöÑÂè∂Â≠êËäÇÁÇπÔºåÊòØÂè™‰∏∫Á©∫(NILÊàñnull)ÁöÑËäÇÁÇπ„ÄÇ (02) ÁâπÊÄß(5)ÔºåÁ°Æ‰øùÊ≤°Êúâ‰∏ÄÊù°Ë∑ØÂæÑ‰ºöÊØîÂÖ∂‰ªñË∑ØÂæÑÈïøÂá∫‰ø©ÂÄç„ÄÇÂõ†ËÄåÔºåÁ∫¢ÈªëÊ†ëÊòØÁõ∏ÂØπÊòØÊé•ËøëÂπ≥Ë°°ÁöÑ‰∫åÂèâÊ†ë„ÄÇ Á∫¢ÈªëÊ†ëÁ§∫ÊÑèÂõæÂ¶Ç‰∏ãÔºö Â¶Ç‰ΩïÈòÖËØªÊ∫êÁ†ÅÔºü ÊñπÊ≥ïÔºö 1.ÂÆûË∑µÊñ≠ÁÇπ 2.È°∫Â∫èÔºöÊé•Âè£$\\longrightarrow$ÂÆûÁé∞Á±ªÔºà(ÊñπÊ≥ï„ÄêÂ±ûÊÄß--„ÄãÂà§Êñ≠„Äë)ÊûÑÈÄ†Âô®ÊñπÊ≥ï$\\longrightarrow$Â∏∏Áî®ÊñπÊ≥ï$\\longrightarrow$ÂÖ∂‰ªñÊñπÊ≥ïÔºâ 3.Â∑•ÂÖ∑ÔºöIDEA ÁöÑ Diagram ÂõæÊ†áÂåñÊü•ÁúãÁªßÊâøÁªìÊûÑÔºåÊâÄÊúâÁ±ªÁöÑÊâÄÊúâÁªìÊûÑÔºåÂèåÂáªË∑≥ËΩ¨ÂØπÂ∫îÁ±ª.Â∑¶‰∏ãËßíStructureÊü•ÁúãÁ±ªÁªìÊûÑ„ÄÇctrl+HÊü•ÁúãÁªßÊâøÊ†ë„ÄÇ 4.Ê≥®ÈáäÔºöÊü•ÁúãÊ≥®Èáä 5.Âø´Êç∑ÈîÆÔºö 6.Ê†πÊçÆÂ∑≤Áü•ÁúãÊú™Áü•ÔºöÊØîÂ¶ÇÂ∑≤Áü•Â∫ïÂ±ÇÁúãÊ∫êÁ†ÅÔºåÁ∫øÁ®ãÂÆâÂÖ®ÁúãÂéüÁêÜ È°πÁõÆ JDK Â∏∏Áî®ÂåÖÔºö„Äêjava.io java.lang java.util„Äë „Äêjava.lang.reflect java.net javax.net.* java.nio.* java.util.concurrent.„Äë Ê°ÜÊû∂ ÂÆπÂô® Â≠¶‰π†ÊµÅÁ®ã ËøõÂ∫¶Ôºö collection$\\longrightarrow$list$\\longrightarrow$set$\\longrightarrow$map$\\longrightarrow$queue ÊñπÊ≥ïÔºö ÊÄªÁªìÁâπÁÇπ$\\longrightarrow$Ê†πÊçÆÁâπÁÇπÊü•ÁúãÊ∫êÁ†Å $\\longrightarrow$Á¨îËÆ∞ ÊÄªÁªì ÊÄªÂÖ≥Á≥ªÂõæ Ë°®Ê†ºÊÄªÁªì ÈõÜÂêàÂêçÁß∞ ÁªìÊûÑ ÊòØÂê¶ÂèØÈáçÂ§ç ÊòØÂê¶Á∫øÁ®ãÂÆâÂÖ® ÊòØÂê¶ÂèØ‰∏∫Á©∫ ÊòØÂê¶ÊúâÂ∫è Êâ©ÂÆπÂÄçÊï∞ Â¢û Âà† Êîπ Êü• List Vector Âä®ÊÄÅÊï∞ÁªÑ„ÄêObject [ ] „Äë ÂèØÈáç ÂÆâ Â§öÁ©∫ÂÖ±Â≠ò ÊúâÂ∫è 2 ArrayList Âä®ÊÄÅÊï∞ÁªÑ„ÄêObject [ ] „Äë ÂèØÈáç ‰∏çÂÆâ Â§öÁ©∫ÂÖ±Â≠ò ÊúâÂ∫è 1.5 Â∞æüíö Â∞æüíö üíö LinkedList ÂèåÂêëÂæ™ÁéØÈìæË°® ÂèØÈáç ‰∏çÂÆâ Â§öÁ©∫ÂÖ±Â≠ò ÊúâÂ∫è ÈìæË°®Êó† üíö üíö Set TreeSet Á∫¢ÈªëÊ†ë„Äêred-black tree„Äë ‰∏çÈáç ‰∏çÂÆâ ÈªòËÆ§ÈùûÁ©∫ÔºåËá™ÂÆö‰πâÂÆûÁé∞ComparatorÊé•Âè£ÂèØÂ≠òÂÇ®null ÊúâÂ∫è Á∫¢ÈªëÊ†ëÊó† O(logN) HashSet ÂìàÂ∏åË°®„ÄêHashMap„Äë ‰∏çÈáç ‰∏çÂÆâ Â§öÁ©∫ÂçïÂ≠ò Êó†Â∫è 2 üíö O(1)üíö LinkedHashSet ÂèåÂêëÈìæË°®„ÄêLinkedHashMap„Äë ‰∏çÈáç ‰∏çÂÆâ Â§öÁ©∫ÂçïÂ≠ò ÊúâÂ∫è 2 Map HashMap Êï∞ÁªÑ+ÈìæË°®Ôºà1.8‰πãÂêéÈìæË°®ÈïøÂ∫¶Â§ß‰∫éÈªòËÆ§8‰∏îÊï∞ÁªÑÈïøÂ∫¶Â§ß‰∫é64ËΩ¨Êç¢‰∏∫Á∫¢ÈªëÊ†ëÔºâÔºåÊï£ÂàóÔºàÂìàÂ∏åÔºâË°® ÂÄºÂèØÈáç ‰∏çÂÆâ Â§öÁ©∫ÈîÆÂÄºÊàñÂçïÁ©∫ÈîÆÊàñÂÄº Êó†Â∫è 2 TreeMap Á∫¢ÈªëÊ†ëÔºàËá™Âπ≥Ë°°ÁöÑÊéíÂ∫è‰∫åÂèâÊ†ëÔºâ ÂÄºÂèØÈáç ‰∏çÂÆâ ÂèØÂÄºÁ©∫ÂÖ±Â≠ò ÊúâÂ∫è Á∫¢ÈªëÊ†ëÊó† LinkedHashMap Â∫ïÂ±ÇÂìàÂ∏åË°®+ÂèåÂêëÈìæË°®ÔºåHashMapÂ≠êÁ±ª ÂÄºÂèØÈáç ‰∏çÂÆâ Â§öÁ©∫ÈîÆÂÄºÊàñÂçïÁ©∫ÈîÆÊàñÂÄº ÊúâÂ∫è 2 ConcurrentHashMap 1.8‰πãÂêé Êï∞ÁªÑ„ÄÅÈìæË°®/Á∫¢ÈªëÊ†ë ÈÄÇÂêàÂ§öÁ∫øÁ®ã ÂÄºÂèØÈáç ÂÆâ ÈùûÁ©∫ 2 „Äê‰øùÁïô„ÄëHashtable ÂÆâ Queue PriorityQueue ‰∫åÂèâÂ∞èÈ°∂Â†ÜÔºåÊØèÊ¨°ÂèñÂá∫ÊùÉÂÄºÊúÄÂ∞èÂÖÉÁ¥†ÔºåÂÖàËøõÂÖàÂá∫ ÂÆâ Èùû Collection ÈõÜÂêàÊ†πÊé•Âè£ÔºåÂÆö‰πâÂ≠êÁ±ªÂü∫Á°ÄÊìç‰Ωú ÈÅçÂéÜÊñπÂºè foreach Iterator listiterator:Âå∫Âà´ÔºöList‰∏ìÁî®„ÄÅÈÅçÂéÜÊó∂ÂèØÊ∑ªÂä†ÂÖÉÁ¥†„ÄÅÂèØÈÄÜÂêëÈÅçÂéÜ„ÄÅÂèØÂÆö‰ΩçÂΩìÂâçÁ¥¢Âºï‰ΩçÁΩÆ„ÄÅÂèØ‰øÆÊîπÈÅçÂéÜÂØπË±°„ÄÇ 12345Collection&lt;Person&gt; persons = new ArrayList&lt;Person&gt;();Iterator iterator = persons.iterator();while (iterator.hasNext()) { System.out.println(iterator.next); } aggregate operations 123456789Collection&lt;Person&gt; persons = new ArrayList&lt;Person&gt;();persons .stream() .forEach(new Consumer&lt;Person&gt;() { @Override public void accept(Person person) { System.out.println(person.name); } }); 1234567891011121314//Âú® JDK 8 ‰ª•ÂêéÔºåÊé®Ëçê‰ΩøÁî®ËÅöÂêàÊìç‰ΩúÂØπ‰∏Ä‰∏™ÈõÜÂêàËøõË°åÊìç‰Ωú„ÄÇËÅöÂêàÊìç‰ΩúÈÄöÂ∏∏Âíå lambda Ë°®ËææÂºèÁªìÂêà‰ΩøÁî®ÔºåËÆ©‰ª£Á†ÅÁúãËµ∑Êù•Êõ¥ÁÆÄÊ¥ÅÔºàÂõ†Ê≠§ÂèØËÉΩÊõ¥ÈöæÁêÜËß£Ôºâ„ÄÇ‰∏ãÈù¢‰∏æÂá†‰∏™ÁÆÄÂçïÁöÑÊ†óÂ≠êÔºö//1.‰ΩøÁî®ÊµÅÊù•ÈÅçÂéÜ‰∏Ä‰∏™ ShapesCollectionÔºåÁÑ∂ÂêéËæìÂá∫Á∫¢Ëâ≤ÁöÑÂÖÉÁ¥†ÔºömyShapesCollection.stream() .filter(e -&gt; e.getColor() == Color.RED) .forEach(e -&gt; System.out.println(e.getName()));//‰Ω†ËøòÂèØ‰ª•Ëé∑Âèñ‰∏Ä‰∏™Âπ∂Ë°åÊµÅÔºàparallelStreamÔºâÔºåÂΩìÈõÜÂêàÂÖÉÁ¥†ÂæàÂ§öÊó∂‰ΩøÁî®Âπ∂ÂèëÂèØ‰ª•ÊèêÈ´òÊïàÁéáÔºömyShapesCollection.parallelStream() .filter(e -&gt; e.getColor() == Color.RED) .forEach(e -&gt; System.out.println(e.getName())); //ËÅöÂêàÊìç‰ΩúËøòÊúâÂæàÂ§öÊìç‰ΩúÈõÜÂêàÁöÑÊñπÊ≥ïÔºåÊØîÂ¶ÇËØ¥‰Ω†ÊÉ≥Êää Collection ‰∏≠ÁöÑÂÖÉÁ¥†ÈÉΩËΩ¨Êàê String ÂØπË±°ÔºåÁÑ∂ÂêéÊääÂÆÉ‰ª¨ ËøûËµ∑Êù•ÔºöString joined = elements.stream() .map(Object::toString) .collect(Collectors.joining(&quot;, &quot;));//Thanks:https://blog.csdn.net/u011240877/article/details/52773577 List ÊèíÂÖ•ÊúâÂ∫èÂèØÈáçÂèØÂ§öÁ©∫ Vector Â∫ïÂ±ÇÊï∞ÁªÑÔºåÂêåÊ≠•ÔºåÂêåÊ≠•ËÆ©ÂÖ∂ÊØîALÊÖ¢ÔºåÂÜÖÂ≠ò‰∏çÂ§üÈªòËÆ§Êâ©100% ÁâπÁÇπ ÂéüÂõ†ÔºàÊ∫êÁ†ÅÔºâ ‰∏é ArrayList Áõ∏‰ºº Á∫øÁ®ãÂÆâÂÖ® ÊñπÊ≥ï‰∏≠ÊúâsynchronizedÔºåÊâÄ‰ª•ÊÄßËÉΩ‰∏çÂ¶ÇArrayList Âä®ÊÄÅÊâ©ÂÆπ‰∏∫ÂéüÊù•ÁöÑ2ÂÄç int newCapacity = oldCapacity + ((capacityIncrement &gt; 0) ? capacityIncrement : oldCapacity); ÂèØÊéíÂ∫èÊâ©ÂÆπ‰∏∫ÂéüÊù•‰∏§ÂÄç 123456789101112private void grow(int minCapacity) { // overflow-conscious code int oldCapacity = elementData.length; //Êâ©ÂÆπ‰∏∫ÂéüÊù•‰∏§ÂÄç int newCapacity = oldCapacity + ((capacityIncrement &gt; 0) ? capacityIncrement : oldCapacity); if (newCapacity - minCapacity &lt; 0) newCapacity = minCapacity; if (newCapacity - MAX_ARRAY_SIZE &gt; 0) newCapacity = hugeCapacity(minCapacity); elementData = Arrays.copyOf(elementData, newCapacity);} ArrayList ÁâπÁÇπ ÂéüÂõ†ÔºàÊ∫êÁ†ÅÔºâ Â∫ïÂ±ÇÊï∞ÁªÑ new Object[initialCapacity]; Êü•‰ºòÔºåÂ∞æÂ¢ûÂà†Âø´ÔºåÂÖ∂‰ªñÂú∞ÊñπÂ¢ûÂà†ÊÖ¢ Â∫ïÂ±ÇÊï∞ÁªÑ Âä®ÊÄÅÊâ©ÂÆπÂéüÊù•ÁöÑ1.5ÂÄç int newCapacity = oldCapacity + (oldCapacity &gt;&gt; 1); Á∫øÁ®ã‰∏çÂÆâÂÖ® ÊñπÊ≥ï‰∏≠Ê≤°Êúâsynchronized/**This class is roughly equivalent to * Vector, except that it is unsynchronized.*/ ÊîØÊåÅÂø´ÈÄüÈöèÊú∫ËÆøÈóÆ RandomAccess Âä®ÊÄÅÊâ©ÂÆπ 123456789101112131415161718/** * Increases the capacity to ensure that it can hold at least the * number of elements specified by the minimum capacity argument. * * @param minCapacity the desired minimum capacity */ private void grow(int minCapacity) { // overflow-conscious code int oldCapacity = elementData.length; //====== Âä®ÊÄÅÊâ©ÂÆπÔºö‰ΩçËøêÁÆó &gt;&gt;ÔºöÂè≥ÁßªËøêÁÆóÁ¨¶ oldCapacity &gt;&gt; 1 ---„Äã M &gt;&gt; n = M / 2^n Âç≥Êâ©ÂÆπ50%====== int newCapacity = oldCapacity + (oldCapacity &gt;&gt; 1); if (newCapacity - minCapacity &lt; 0) newCapacity = minCapacity; if (newCapacity - MAX_ARRAY_SIZE &gt; 0) newCapacity = hugeCapacity(minCapacity); // minCapacity is usually close to size, so this is a win: elementData = Arrays.copyOf(elementData, newCapacity); } ÂèÇËÄÉÔºö‰ΩçËøêÁÆóÔºöM &gt;&gt; n = M / 2^n ÊÄªÁªì LinkedList ÁâπÁÇπ ÂéüÂõ†ÔºàÊ∫êÁ†ÅÔºâ Â∫ïÂ±ÇÂèåÂêëÈìæË°®ÔºåÂ¢ûÂà†‰ºòÔºåÂèØÊìç‰ΩúÂ§¥Â∞æÔºåÁî®‰ΩúÊ†à„ÄÅÔºàÂèåÂêëÔºâÈòüÂàó Â∫ïÂ±ÇÂèåÂêëÈìæË°® ÂèØÊèíÂÖ•Á©∫ Â∫ïÂ±ÇÂèåÂêëÈìæË°® Êü•ËØ¢ÊÖ¢ Â∫ïÂ±ÇÂèåÂêëÈìæË°®Ôºå‰ºöÈÅçÂéÜÊï¥‰∏™ÈìæË°® Á∫øÁ®ã‰∏çÂÆâÂÖ® ÊñπÊ≥ï‰∏≠Ê≤°Êúâsynchronized Â∫ïÂ±ÇÂèåÂêëÈìæË°® 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172 /** * Returns the (non-null) Node at the specified element index. */ Node&lt;E&gt; node(int index) { // assert isElementIndex(index); if (index &lt; (size &gt;&gt; 1)) { Node&lt;E&gt; x = first; for (int i = 0; i &lt; index; i++) x = x.next; return x; } else { Node&lt;E&gt; x = last; for (int i = size - 1; i &gt; index; i--) x = x.prev; return x; } }/** * Inserts all of the elements in the specified collection into this * list, starting at the specified position. Shifts the element * currently at that position (if any) and any subsequent elements to * the right (increases their indices). The new elements will appear * in the list in the order that they are returned by the * specified collection's iterator. * * @param index index at which to insert the first element * from the specified collection * @param c collection containing elements to be added to this list * @return {@code true} if this list changed as a result of the call * @throws IndexOutOfBoundsException {@inheritDoc} * @throws NullPointerException if the specified collection is null */ public boolean addAll(int index, Collection&lt;? extends E&gt; c) { checkPositionIndex(index); Object[] a = c.toArray(); int numNew = a.length; if (numNew == 0) return false; Node&lt;E&gt; pred, succ; if (index == size) { succ = null; pred = last; } else { succ = node(index); pred = succ.prev; } for (Object o : a) { @SuppressWarnings(&quot;unchecked&quot;) E e = (E) o; Node&lt;E&gt; newNode = new Node&lt;&gt;(pred, e, null); if (pred == null) first = newNode; else pred.next = newNode; pred = newNode; } if (succ == null) { last = pred; } else { pred.next = succ; succ.prev = pred; } size += numNew; modCount++; return true; } ÊÄªÁªì Stack ÂêéËøõÂÖàÂá∫ÁöÑÂ†ÜÊ†à Set Êó†Â∫è‰∏çÈáçÂçïÁ©∫ÔºåÂ∏∏Áî®‰∫éÂéªÈáç TreeSet ÁâπÁÇπ ÂéüÂõ†ÔºàÊ∫êÁ†ÅÔºâ Â∫ïÂ±ÇTreeMap Â∫ïÂ±Ç„ÄÅÂèØÊéíÂ∫è ÂèØÊéíÂ∫è„ÄêËá™ÁÑ∂ÊéíÂ∫èÔºåÂÆöÂà∂ÊéíÂ∫è„Äë Â∫ïÂ±Ç„ÄÅÂèØÊéíÂ∫è Á∫øÁ®ã‰∏çÂÆâÂÖ® ÊñπÊ≥ï‰∏≠Ê≤°Êúâsynchronized ÈªòËÆ§ÈùûÁ©∫ÔºåËá™ÂÆö‰πâÂÆûÁé∞ComparatorÊé•Âè£ÂèØÂ≠òÂÇ®null Â∫ïÂ±Ç„ÄÅÂèØÊéíÂ∫èÂ∫ïÂ±Ç„ÄÅÂèØÊéíÂ∫è 1234567891011121314151617181920212223public interface NavigableSet&lt;E&gt; extends SortedSet&lt;E&gt; {}public class TreeSet&lt;E&gt; extends AbstractSet&lt;E&gt; implements NavigableSet&lt;E&gt;, Cloneable, java.io.Serializable{}// IntegerËÉΩÊéíÂ∫è(ÊúâÈªòËÆ§È°∫Â∫è), StringËÉΩÊéíÂ∫è(ÊúâÈªòËÆ§È°∫Â∫è)ÔºåÂèØ‰ª•ÂØπÂØπË±°ÂÖÉÁ¥†ËøõË°åÊéíÂ∫èÔºå‰ΩÜÊòØËá™ÂÆö‰πâÁ±ªÈúÄË¶ÅÂÆûÁé∞comparableÊé•Âè£ÔºåÈáçÂÜôcomparaTo() ÊñπÊ≥ï,Âê¶ÂàôÔºö{@code ClassCastException}Êä•ClassCastExceptionÂºÇÂ∏∏„ÄÇÊâÄÊúâÂÖÉÁ¥†ÂøÖÈ°ªÂèØ‰ª•Áõ∏‰∫íÊØîËæÉÔºàÁõ∏ÂêåÁ±ªÂûãÔºâÔºåÂê¶ÂàôÂ∞Ü‰ºöÊä•Á±ªÂûãËΩ¨Êç¢ÂºÇÂ∏∏ClassCastExection /** * Constructs a new, empty tree set, sorted according to the * natural ordering of its elements. All elements inserted into * the set must implement the {@link Comparable} interface. * Furthermore, all such elements must be &lt;i&gt;mutually * comparable&lt;/i&gt;: {@code e1.compareTo(e2)} must not throw a * {@code ClassCastException} for any elements {@code e1} and * {@code e2} in the set. If the user attempts to add an element * to the set that violates this constraint (for example, the user * attempts to add a string element to a set whose elements are * integers), the {@code add} call will throw a * {@code ClassCastException}. */ public TreeSet() { this(new TreeMap&lt;E,Object&gt;()); } TreeSetÁöÑÊéíÂàóÈ°∫Â∫è‰∏éÈáçÂÜôÁöÑcompareTo()ÊñπÊ≥ïÁöÑËøîÂõûÂÄºÊúâÂÖ≥„ÄÇ return 0:ÂÖÉÁ¥†ÊØèÊ¨°ËøõË°åÊØîËæÉÔºåÈÉΩËÆ§‰∏∫ÊòØÁõ∏ÂêåÁöÑÂÖÉÁ¥†ÔºåËøôÊòØÂ∞±‰∏çÂÜçÂêëTreeSetÈáåÈù¢ÊèíÂÖ•Èô§Á¨¨‰∏Ä‰∏™ÂÖÉÁ¥†‰ª•Â§ñÁöÑÂÖÉÁ¥†ÔºåÊâÄ‰ª•TreeSet‰∏≠Â∞±Âè™ÊèíÂÖ•‰∫Ü‰∏Ä‰∏™ÂÖÉÁ¥†„ÄÇ return 1:ÂÖÉÁ¥†ÊØèÊ¨°ËøõË°åÊØîËæÉÔºåÈÉΩËÆ§‰∏∫Êñ∞ÊèíÂÖ•ÁöÑÂÖÉÁ¥†ÊØî‰∏ä‰∏Ä‰∏™ÂÖÉÁ¥†Â§ßÔºå‰∫éÊòØ‰∫åÂèâÊ†ëÂ≠òÂÇ®Êó∂Ôºå‰ºöÂÇ®Â≠òÂú®Ê†πÁöÑÂè≥‰æßÔºåËØªÂèñÊó∂Â∞±ÊòØÊ≠£Â∫èÊéíÂàóÔºåÂÖàËøõÂÖàÂá∫„ÄÇ return -1:ÂÖÉÁ¥†ÊØèÊ¨°ËøõË°åÊØîËæÉÔºåÈÉΩËÆ§‰∏∫Êñ∞ÊèíÂÖ•ÁöÑÂÖÉÁ¥†ÊØî‰∏ä‰∏Ä‰∏™ÂÖÉÁ¥†Â∞èÔºå‰∫éÊòØ‰∫åÂèâÊ†ëÂ≠òÂÇ®Êó∂Ôºå‰ºöÂÇ®Â≠òÂú®Ê†πÁöÑÂ∑¶‰æßÔºåËØªÂèñÊó∂Â∞±ÊòØÂÄíÂ∫èÊéíÂàóÔºåÂÖàËøõÂêéÂá∫„ÄÇ HashSet Â≠¶‰π†ÂâçÊúÄÂ•ΩÂÖàÂ≠¶‰π† HashMap ÁâπÁÇπ ÂéüÂõ†ÔºàÊ∫êÁ†ÅÔºâ Â∫ïÂ±ÇHashMap Â∫ïÂ±ÇHashMap ÂèØÂçïÁ©∫ MapÁöÑkeyÂîØ‰∏Ä ÂñÑÂ≠òÂèñ Êï£ÂàóË°®ÂÆö‰Ωç Êó†Â∫è Ê≤°ÁªßÊâøSortedSet ‰∏çÂÆâ ÊñπÊ≥ï‰∏≠Ê≤°Êúâsynchronized ‰∏çÈáçÂ§ç ‰∏çÈáçÂ§ç 2ÂÄçÊâ©ÂÆπ Âêåhashmap Â∫ïÂ±ÇHashMap 123456789101112131415161718192021 private transient HashMap&lt;E,Object&gt; map; // Dummy value to associate with an Object in the backing Map private static final Object PRESENT = new Object();/** * Constructs a new set containing the elements in the specified * collection. The &lt;tt&gt;HashMap&lt;/tt&gt; is created with default load factor * (0.75) and an initial capacity sufficient to contain the elements in * the specified collection. * * @param c the collection whose elements are to be placed into this set * @throws NullPointerException if the specified collection is null */public HashSet(Collection&lt;? extends E&gt; c) { //ÂàùÂßã16ÔºåÂä†ËΩΩÂõ†Â≠ê0.75 map = new HashMap&lt;&gt;(Math.max((int) (c.size()/.75f) + 1, 16)); addAll(c);}//HashSet‰∏≠ÁöÑÂÖÉÁ¥†ÈÉΩÂ≠òÊîæÂú®HashMapÁöÑkey‰∏äÈù¢ÔºåËÄåvalue‰∏≠ÁöÑÂÄºÈÉΩÊòØÁªü‰∏ÄÁöÑ‰∏Ä‰∏™Âõ∫ÂÆöÂØπË±°private static final Object PRESENT = new Object(); ‰∏çÈáçÂ§ç 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384/** * Adds the specified element to this set if it is not already present. * More formally, adds the specified element &lt;tt&gt;e&lt;/tt&gt; to this set if * this set contains no element &lt;tt&gt;e2&lt;/tt&gt; such that * &lt;tt&gt;(e==null&amp;nbsp;?&amp;nbsp;e2==null&amp;nbsp;:&amp;nbsp;e.equals(e2))&lt;/tt&gt;. * If this set already contains the element, the call leaves the set * unchanged and returns &lt;tt&gt;false&lt;/tt&gt;. * * @param e element to be added to this set * @return &lt;tt&gt;true&lt;/tt&gt; if this set did not already contain the specified * element */public boolean add(E e) { return map.put(e, PRESENT)==null;} /** * Associates the specified value with the specified key in this map. * If the map previously contained a mapping for the key, the old * value is replaced. * * @param key key with which the specified value is to be associated * @param value value to be associated with the specified key * @return the previous value associated with &lt;tt&gt;key&lt;/tt&gt;, or * &lt;tt&gt;null&lt;/tt&gt; if there was no mapping for &lt;tt&gt;key&lt;/tt&gt;. * (A &lt;tt&gt;null&lt;/tt&gt; return can also indicate that the map * previously associated &lt;tt&gt;null&lt;/tt&gt; with &lt;tt&gt;key&lt;/tt&gt;.) */public V put(K key, V value) { return putVal(hash(key), key, value, false, true);} /** * Implements Map.put and related methods * * @param hash hash for key * @param key the key * @param value the value to put * @param onlyIfAbsent if true, don't change existing value * @param evict if false, the table is in creation mode. * @return previous value, or null if none */final V putVal(int hash, K key, V value, boolean onlyIfAbsent, boolean evict) { Node&lt;K,V&gt;[] tab; Node&lt;K,V&gt; p; int n, i; if ((tab = table) == null || (n = tab.length) == 0) n = (tab = resize()).length; if ((p = tab[i = (n - 1) &amp; hash]) == null) tab[i] = newNode(hash, key, value, null); else { Node&lt;K,V&gt; e; K k; if (p.hash == hash &amp;&amp; ((k = p.key) == key || (key != null &amp;&amp; key.equals(k)))) e = p; else if (p instanceof TreeNode) e = ((TreeNode&lt;K,V&gt;)p).putTreeVal(this, tab, hash, key, value); else { for (int binCount = 0; ; ++binCount) { if ((e = p.next) == null) { p.next = newNode(hash, key, value, null); if (binCount &gt;= TREEIFY_THRESHOLD - 1) // -1 for 1st treeifyBin(tab, hash); break; } if (e.hash == hash &amp;&amp; ((k = e.key) == key || (key != null &amp;&amp; key.equals(k)))) break; p = e; } } if (e != null) { // existing mapping for key V oldValue = e.value; if (!onlyIfAbsent || oldValue == null) e.value = value; afterNodeAccess(e); return oldValue; } } ++modCount; if (++size &gt; threshold) resize(); afterNodeInsertion(evict); return null;} LinkedHashSet ÁâπÁÇπ ÂéüÂõ†ÔºàÊ∫êÁ†ÅÔºâ Â∫ïÂ±ÇÈìæË°®„ÄêLinkedHashMap„Äë Â∫ïÂ±Ç ‰∏çÂÆâ ÊñπÊ≥ï‰∏≠Ê≤°Êúâsynchronized ÊèíÂÖ•ÊúâÂ∫è LinkedHashSetÂú®ÈÅçÂéÜÊó∂Ëé∑ÂæóÁöÑËø≠‰ª£Âô®ÊòØLinkedHashSetÊâÄÂÆûÁé∞ÁöÑLinkedKeyIteratorÔºåÂÆÉÁöÑÈÅçÂéÜÊòØ‰ªéÂèåÂêëÈìæË°®Â§¥ÂºÄÂßãÈ°∫Â∫èÈÅçÂéÜÔºåÂÆûÁé∞‰∫ÜÊúâÂ∫èËæìÂá∫„ÄÇ ‰∏çÈáçÂ§ç Á±ª‰ºº‰∏çÈáçÂ§ç Â∫ïÂ±Ç 1234567891011121314151617181920212223242526272829303132333435/** * Constructs a new linked hash set with the same elements as the * specified collection. The linked hash set is created with an initial * capacity sufficient to hold the elements in the specified collection * and the default load factor (0.75). * * @param c the collection whose elements are to be placed into * this set * @throws NullPointerException if the specified collection is null */ public LinkedHashSet(Collection&lt;? extends E&gt; c) { super(Math.max(2*c.size(), 11), .75f, true); addAll(c); } public class LinkedHashSet&lt;E&gt; extends HashSet&lt;E&gt; implements Set&lt;E&gt;, Cloneable, java.io.Serializable {} /** * Constructs a new, empty linked hash set. (This package private * constructor is only used by LinkedHashSet.) The backing * HashMap instance is a LinkedHashMap with the specified initial * capacity and the specified load factor. * * @param initialCapacity the initial capacity of the hash map * @param loadFactor the load factor of the hash map * @param dummy ignored (distinguishes this * constructor from other int, float constructor.) * @throws IllegalArgumentException if the initial capacity is less * than zero, or if the load factor is nonpositive */ HashSet(int initialCapacity, float loadFactor, boolean dummy) { map = new LinkedHashMap&lt;&gt;(initialCapacity, loadFactor); } Map ÈîÆÂÄºÂØπÔºåÈîÆ‰∏çÈáç HashMap Êé®ËçêËµÑÊ∫êÔºöÂçöÂÆ¢1 ÁâπÁÇπ ÂéüÂõ†ÔºàÊ∫êÁ†ÅÔºâ Â∫ïÂ±Ç‰∏∫Êï∞ÁªÑÁß∞‰πã‰∏∫ÂìàÂ∏åÊ°∂ÔºåÊØè‰∏™Ê°∂ÈáåÈù¢ÊîæÁöÑÊòØÈìæË°®ÔºåÈìæË°®‰∏≠ÁöÑÊØè‰∏™ËäÇÁÇπÔºåÂ∞±ÊòØÂìàÂ∏åË°®‰∏≠ÁöÑÊØè‰∏™ÂÖÉÁ¥†„ÄÇJDK8ÂêéÔºåÈìæË°®ÂÆπÈáèÂ§ß‰∫é8‰∏îÊ°∂ÁöÑÂÆπÈáèÂ§ß‰∫é64ÔºåËΩ¨ÂåñÊàêÁ∫¢ÈªëÊ†ë Â∫ïÂ±Ç Á∫øÁ®ã‰∏çÂÆâÂÖ® ÊñπÊ≥ï‰∏≠Ê≤°Êúâsynchronized ÈªòËÆ§ÈïøÂ∫¶16 ÂàùÂßãÂÆπÈáè Êâ©ÂÆπ‰∏∫ÂéüÊù•ÁöÑ‰∏§ÂÄç Êâ©ÂÆπ Êó†Â∫è Êó†Â∫è,ÂèØÁ©∫ Â§öÁ©∫ÈîÆÂÄºÊàñÂçïÁ©∫ÈîÆÊàñÂÄº Êó†Â∫è,ÂèØÁ©∫ Â∫ïÂ±Ç 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475 /** Node ÂçïÂêëÈìæË°® * Basic hash bin node, used for most entries. (See below for * TreeNode subclass, and in LinkedHashMap for its Entry subclass.) */static class Node&lt;K,V&gt; implements Map.Entry&lt;K,V&gt; { final int hash; final K key; V value; //Á¢∞Êíû‰πãÂêéÂΩ¢ÊàêÈìæË°® Node&lt;K,V&gt; next; Node(int hash, K key, V value, Node&lt;K,V&gt; next) { this.hash = hash; this.key = key; this.value = value; this.next = next; } public final K getKey() { return key; } public final V getValue() { return value; } public final String toString() { return key + &quot;=&quot; + value; } public final int hashCode() { return Objects.hashCode(key) ^ Objects.hashCode(value); } public final V setValue(V newValue) { V oldValue = value; value = newValue; return oldValue; } public final boolean equals(Object o) { if (o == this) return true; if (o instanceof Map.Entry) { Map.Entry&lt;?,?&gt; e = (Map.Entry&lt;?,?&gt;)o; if (Objects.equals(key, e.getKey()) &amp;&amp; Objects.equals(value, e.getValue())) return true; } return false; }}/**Á∫¢ÈªëÊ†ë * Entry for Tree bins. Extends LinkedHashMap.Entry (which in turn * extends Node) so can be used as extension of either regular or * linked node. */static final class TreeNode&lt;K,V&gt; extends LinkedHashMap.Entry&lt;K,V&gt; { TreeNode&lt;K,V&gt; parent; // red-black tree links TreeNode&lt;K,V&gt; left; TreeNode&lt;K,V&gt; right; TreeNode&lt;K,V&gt; prev; // needed to unlink next upon deletion boolean red; TreeNode(int hash, K key, V val, Node&lt;K,V&gt; next) { super(hash, key, val, next); } /** * Returns root of tree containing this node. */ final TreeNode&lt;K,V&gt; root() { for (TreeNode&lt;K,V&gt; r = this, p;;) { if ((p = r.parent) == null) return r; r = p; } } ......} Êâ©ÂÆπ ÂèÇËÄÉ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118 /** ‰∏∫‰ªÄ‰πàÈúÄË¶ÅÊâ©ÂÆπÔºöÂìàÂ∏åÂÜ≤Á™ÅÂØºËá¥ÁöÑÈìæÂåñÂΩ±ÂÉèÊü•ÊâæÊïàÁéáÔºåÊï∞ÁªÑ‰ª•Á©∫Èó¥Êç¢Êó∂Èó¥ Áî±power-of-two expansion newCap = oldCap &lt;&lt; 1 ÂèØÁü•Êâ©ÂÆπ‰∏∫ÂéüÊù•ÁöÑ‰∏§ÂÄç1010 ÂçÅËøõÂà∂Ôºö10 ÂéüÂßãÊï∞ number10100 ÂçÅËøõÂà∂Ôºö20 Â∑¶Áßª‰∏Ä‰Ωç number = number &lt;&lt; 1; 1010 ÂçÅËøõÂà∂Ôºö10 Âè≥Áßª‰∏Ä‰Ωç number = number &gt;&gt; 1; Âç≥ oldCap &lt;&lt; 1 Âç≥‰∫åËøõÂà∂ÂêëÂ∑¶ÁßªÂä®‰∏§‰ΩçÔºöoldCap &lt;&lt; 1=oldCap*2 ÂêåÁêÜoldCap &gt;&gt; 1=oldCap/2 Ë°•ÂÖÖ&gt;&gt;&gt;ÔºöÊó†Á¨¶Âè∑Âè≥ÁßªÔºåÂøΩÁï•Á¨¶Âè∑‰ΩçÔºåÁ©∫‰ΩçÈÉΩ‰ª•0Ë°•ÈΩê * Initializes or doubles table size. If null, allocates in * accord with initial capacity target held in field threshold. * Otherwise, because we are using power-of-two expansion, the * elements from each bin must either stay at same index, or move * with a power of two offset in the new table. * * @return the table */ final Node&lt;K,V&gt;[] resize() { //oldTabÊâ©ÂÆπÂâçÂìàÂ∏åË°® Node&lt;K,V&gt;[] oldTab = table; //Êâ©ÂÆπ‰πãÂâçÊï∞ÁªÑÈïøÂ∫¶ int oldCap = (oldTab == null) ? 0 : oldTab.length; //Êâ©ÂÆπ‰πãÂâçÁöÑÈòàÂÄºÔºåËß¶ÂèëÊú¨Ê¨°Êâ©ÂÆπÁöÑÈòàÂÄº int oldThr = threshold; //Êâ©ÂÆπ‰πãÂêéÁöÑÊï∞ÁªÑÂ§ßÂ∞è //‰∏ãÊ¨°Ëß¶ÂèëÊâ©ÂÆπÁöÑÊù°‰ª∂ int newCap, newThr = 0; //Êï£ÂàóË°®Â∑≤ÂàùÂßãÂåñÔºåËøôÊòØ‰∏ÄÊ¨°Ê≠£Â∏∏ÁöÑÊâ©ÂÆπ if (oldCap &gt; 0) { //Êâ©ÂÆπ‰πãÂâçÊï∞ÁªÑÂ§ßÂ∞èËææÂà∞ÊúÄÂ§ßÈòàÂÄºÔºåÂàô‰∏çÊâ©ÂÆπ‰∏îËÆæÊâ©ÂÆπÊù°‰ª∂‰∏∫intÊúÄÂ§ßÂÄº if (oldCap &gt;= MAXIMUM_CAPACITY) { threshold = Integer.MAX_VALUE; return oldTab; } //oldCapÂ∑¶Áßª‰∏Ä‰ΩçÂÆûÁé∞Êï∞ÂÄºÁøªÂÄçÔºåÂπ∂‰∏îÂ§çÂà∂ÁªônewCapÔºånewCapÂ∞è‰∫éÊúÄÂ§ßÈôêÂà∂‰∏îÊâ©ÂÆπ‰πãÂâçÁöÑÊï∞ÁªÑÈïøÂ∫¶ &gt;= 16 else if ((newCap = oldCap &lt;&lt; 1) &lt; MAXIMUM_CAPACITY &amp;&amp; oldCap &gt;= DEFAULT_INITIAL_CAPACITY) newThr = oldThr &lt;&lt; 1; // double threshold } //oldCap==0,ËØ¥ÊòéHashMap‰∏≠ÁöÑÊï£ÂàóË°®ÊòØnull //1.new HashMapÔºàinitCapÔºåloadFactorÔºâÔºõ //2.new HashMapÔºàinitCapÔºâÔºõ //3.new HashMapÔºàmapÔºâÔºõ‰∏îmapÊúâÊï∞ÊçÆ else if (oldThr &gt; 0) // initial capacity was placed in threshold newCap = oldThr; //oldCap==0ÔºåoldThr==0 //new HashMapÔºàmapÔºâ; else { // zero initial threshold signifies using defaults newCap = DEFAULT_INITIAL_CAPACITY;//16 newThr = (int)(DEFAULT_LOAD_FACTOR * DEFAULT_INITIAL_CAPACITY);//12 } //newThr‰∏∫0Êó∂ÔºåÈÄöËøánewCapÂíåloadFactorËÆ°ÁÆóÂá∫‰∏Ä‰∏™newThr if (newThr == 0) { float ft = (float)newCap * loadFactor; newThr = (newCap &lt; MAXIMUM_CAPACITY &amp;&amp; ft &lt; (float)MAXIMUM_CAPACITY ? (int)ft : Integer.MAX_VALUE); } threshold = newThr; //Á¨¨‰∏ÄÊ¨°ÊàñÂàõÂª∫‰∏Ä‰∏™Êõ¥Â§ßÁöÑÊï∞ÁªÑ @SuppressWarnings({&quot;rawtypes&quot;,&quot;unchecked&quot;}) Node&lt;K,V&gt;[] newTab = (Node&lt;K,V&gt;[])new Node[newCap]; table = newTab; //Êâ©ÂÆπÂâçÊï∞ÁªÑ‰∏ç‰∏∫Á©∫ if (oldTab != null) { for (int j = 0; j &lt; oldCap; ++j) { //ÂΩìÂâçnodeËäÇÁÇπ Node&lt;K,V&gt; e; //ÂΩìÂâçÊ°∂‰Ωç‰∏≠ÊúâÊï∞ÊçÆÔºå‰ΩÜÊòØÊï∞ÊçÆÂÖ∑‰ΩìÊòØÂçï‰∏™Êï∞ÊçÆÊàñÈìæË°®ÊàñÁ∫¢ÈªëÊ†ëËøò‰∏çÊòéÁ°Æ if ((e = oldTab[j]) != null) { //Êñπ‰æøJVM GCÂõûÊî∂ oldTab[j] = null; //ÂΩìÂâçËäÇÁÇπ‰∏∫ÂçïÊï∞ÊçÆ if (e.next == null) newTab[e.hash &amp; (newCap - 1)] = e; //ÂΩìÂâçËäÇÁÇπÂ∑≤ÁªèÊ†ëÂåñ else if (e instanceof TreeNode) ((TreeNode&lt;K,V&gt;)e).split(this, newTab, j, oldCap); //ÂΩìÂâçËäÇÁÇπ‰∏∫ÈìæË°® else { // preserve order //loHead‰Ωé‰ΩçÈìæË°®ÔºåÂ≠òÊîæÂú®Êâ©ÂÆπ‰πãÂêéÁöÑÊï∞ÁªÑÁöÑ‰∏ãÊ†á‰ΩçÁΩÆÔºå‰∏éÂΩìÂâçÊï∞ÁªÑÁöÑ‰∏ãÊ†á‰ΩçÁΩÆ‰∏ÄËá¥„ÄÇ //hiHeadÈ´ò‰ΩçÈìæË°®ÔºåÂ≠òÊîæÂú®Êâ©ÂÆπ‰πãÂêéÁöÑÊï∞ÁªÑÁöÑ‰∏ãÊ†á‰ΩçÁΩÆ‰∏∫ÂΩìÂâçÊï∞ÁªÑÁöÑ‰∏ãÊ†á‰ΩçÁΩÆ+Êâ©ÂÆπ‰πãÂâçÁöÑÈïøÂ∫¶„ÄÇ Node&lt;K,V&gt; loHead = null, loTail = null; Node&lt;K,V&gt; hiHead = null, hiTail = null; Node&lt;K,V&gt; next; do { next = e.next; if ((e.hash &amp; oldCap) == 0) { if (loTail == null) loHead = e; else loTail.next = e; loTail = e; } else { if (hiTail == null) hiHead = e; else hiTail.next = e; hiTail = e; } } while ((e = next) != null); //‰Ωé‰ΩçÈìæË°®ÊúâÊï∞ÊçÆ if (loTail != null) { loTail.next = null; newTab[j] = loHead; } if (hiTail != null) { hiTail.next = null; newTab[j + oldCap] = hiHead; } } } } } return newTab; } ÂàùÂßãÂÆπÈáè 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118/**ÈªòËÆ§ÔºàÁº∫ÁúÅÔºâÊï∞ÁªÑÈïøÂ∫¶ * The default initial capacity - MUST be a power of two. */ static final int DEFAULT_INITIAL_CAPACITY = 1 &lt;&lt; 4; // aka 16 /**ÊúÄÂ§ßÊï∞ÁªÑÈïøÂ∫¶ * The maximum capacity, used if a higher value is implicitly specified * by either of the constructors with arguments. * MUST be a power of two &lt;= 1&lt;&lt;30. */ static final int MAXIMUM_CAPACITY = 1 &lt;&lt; 30; /**Áº∫ÁúÅË¥üËΩΩÂõ†Â≠êÂ§ßÂ∞è * The load factor used when none specified in constructor. */ static final float DEFAULT_LOAD_FACTOR = 0.75f; /**ËΩ¨Êç¢‰∏∫Á∫¢ÈªëÊ†ëÁöÑÂçï‰∏™ÈìæË°®ÂÖÉÁ¥†ÈòàÂÄº if (binCount &gt;= TREEIFY_THRESHOLD - 1) treeifyBin(tab, hash);Áúã‰∏ãÈù¢ÊñπÊ≥ï } * The bin count threshold for using a tree rather than list for a * bin. Bins are converted to trees when adding an element to a * bin with at least this many nodes. The value must be greater * than 2 and should be at least 8 to mesh with assumptions in * tree removal about conversion back to plain bins upon * shrinkage. */ static final int TREEIFY_THRESHOLD = 8;/** * Replaces all linked nodes in bin at index for given hash unless * table is too small, in which case resizes instead. */ final void treeifyBin(Node&lt;K,V&gt;[] tab, int hash) { int n, index; Node&lt;K,V&gt; e; if (tab == null || (n = tab.length) &lt; MIN_TREEIFY_CAPACITY) resize(); else if ((e = tab[index = (n - 1) &amp; hash]) != null) { TreeNode&lt;K,V&gt; hd = null, tl = null; do { TreeNode&lt;K,V&gt; p = replacementTreeNode(e, null); if (tl == null) hd = p; else { p.prev = tl; tl.next = p; } tl = p; } while ((e = e.next) != null); if ((tab[index] = hd) != null) hd.treeify(tab); } } /**‰ªéÁ∫¢ÈªëÊ†ëÈôç‰∏∫ÈìæË°®ÁöÑÈòàÂÄº * The bin count threshold for untreeifying a (split) bin during a * resize operation. Should be less than TREEIFY_THRESHOLD, and at * most 6 to mesh with shrinkage detection under removal. */ static final int UNTREEIFY_THRESHOLD = 6; /**ËΩ¨Êç¢‰∏∫Á∫¢ÈªëÊ†ëÁöÑÊï∞ÁªÑÈòàÂÄº * The smallest table capacity for which bins may be treeified. * (Otherwise the table is resized if too many nodes in a bin.) * Should be at least 4 * TREEIFY_THRESHOLD to avoid conflicts * between resizing and treeification thresholds. */ static final int MIN_TREEIFY_CAPACITY = 64; /** ÂìàÁ≥ªÊ°∂ÔºàË°®Ôºâ * The table, initialized on first use, and resized as * necessary. When allocated, length is always a power of two. * (We also tolerate length zero in some operations to allow * bootstrapping mechanics that are currently not needed.) */ transient Node&lt;K,V&gt;[] table; /** * Holds cached entrySet(). Note that AbstractMap fields are used * for keySet() and values(). */ transient Set&lt;Map.Entry&lt;K,V&gt;&gt; entrySet; /**ÂΩìÂâçÂìàÂ∏åË°®ÂÖÉÁ¥†‰∏™Êï∞ * The number of key-value mappings contained in this map. */ transient int size; /**‰øÆÊîπÊ¨°Êï∞Ôºå‰∏çÂåÖÂê´ÊõøÊç¢ * The number of times this HashMap has been structurally modified * Structural modifications are those that change the number of mappings in * the HashMap or otherwise modify its internal structure (e.g., * rehash). This field is used to make iterators on Collection-views of * the HashMap fail-fast. (See ConcurrentModificationException). */ transient int modCount; /**Êâ©ÂÆπÈòàÂÄºÔºåÂΩìÂìàÂ∏åË°®ÂÖÉÁ¥†Ë∂ÖËøáÈòàÂÄºÊó∂Ëß¶ÂèëÊâ©ÂÆπÔºå * The next size value at which to resize (capacity * load factor). * * @serial */ // (The javadoc description is true upon serialization. // Additionally, if the table array has not been allocated, this // field holds the initial array capacity, or zero signifying // DEFAULT_INITIAL_CAPACITY.) int threshold; /**Ë¥üËΩΩÂõ†Â≠êÔºåthreshold = capacity * loadFactor * The load factor for the hash table. * * @serial */ final float loadFactor; Êó†Â∫è,ÂèØÁ©∫ Êú™Ëß£ÂÜ≥ÈóÆÈ¢ò:‰∏∫‰ªÄ‰πàÊúâÊó∂ÂÄôÁúãËµ∑Êù•ÊúâÂ∫èÔºü Á≠îÔºö 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124 /** * Associates the specified value with the specified key in this map. * If the map previously contained a mapping for the key, the old * value is replaced. * * @param key key with which the specified value is to be associated * @param value value to be associated with the specified key * @return the previous value associated with &lt;tt&gt;key&lt;/tt&gt;, or * &lt;tt&gt;null&lt;/tt&gt; if there was no mapping for &lt;tt&gt;key&lt;/tt&gt;. * (A &lt;tt&gt;null&lt;/tt&gt; return can also indicate that the map * previously associated &lt;tt&gt;null&lt;/tt&gt; with &lt;tt&gt;key&lt;/tt&gt;.) */ public V put(K key, V value) { return putVal(hash(key), key, value, false, true); } //====Key‰∏∫nullÊÉÖÂÜµ//ÂÅáËÆæ putVal(hash(null), null, value, false, true);//Âç≥ putVal(0, 0, value, false, true);//Áî± if ((p = tab[i = (n - 1) &amp; hash]) == null)// tab[i] = newNode(hash, key, value, null);//Âæótab[0]==null --&gt; tab[0] = newNode(hash, key, value, null);//key‰∏∫nullÊîæÂú®tab[0] /** * Computes key.hashCode() and spreads (XORs) higher bits of hash * to lower. Because the table uses power-of-two masking, sets of * hashes that vary only in bits above the current mask will * always collide. (Among known examples are sets of Float keys * holding consecutive whole numbers in small tables.) So we * apply a transform that spreads the impact of higher bits * downward. There is a tradeoff between speed, utility, and * quality of bit-spreading. Because many common sets of hashes * are already reasonably distributed (so don't benefit from * spreading), and because we use trees to handle large sets of * collisions in bins, we just XOR some shifted bits in the * cheapest possible way to reduce systematic lossage, as well as * to incorporate impact of the highest bits that would otherwise * never be used in index calculations because of table bounds. *///‰ΩúÁî®ÔºöÂú®tableÈïøÂ∫¶‰∏çÈïøÁöÑÊÉÖÂÜµ‰∏ãÔºåËÉΩËÆ©keyÁöÑhashÂÄºÁöÑÈ´ò16‰Ωç‰πüÂèÇ‰∏éË∑ØÁî±ËøêÁÆó,//ÂºÇÊàñÔºöÂêå0ÂºÇ1//h=0b 0010 0101 1010 1100 0011 1111 0010 1110// 0b 0010 0101 1010 1100 0011 1111 0010 1110// ^// 0b 0000 0000 0000 0000 0010 0101 1010 1100//=&gt; 0010 0101 1010 1100 0001 1010 1000 0010 static final int hash(Object key) { int h; return (key == null) ? 0 : (h = key.hashCode()) ^ (h &gt;&gt;&gt; 16); }/** * Implements Map.put and related methods * * @param hash hash for key * @param key the key * @param value the value to put * onlyIfAbsent true==„ÄãkeyÂ≠òÂú®Ôºå‰∏çÊèíÂÖ• * @param onlyIfAbsent if true, don't change existing value * @param evict if false, the table is in creation mode. * @return previous value, or null if none */ final V putVal(int hash, K key, V value, boolean onlyIfAbsent, boolean evict) { //tab ÂΩìÂâçÊï£ÂàóË°® //p ÂΩìÂâçÊï£ÂàóË°®ÂÖÉÁ¥† //n ÂΩìÂâçÊï£ÂàóË°®Êï∞ÁªÑÈïøÂ∫¶ //i Ë∑ØÁî±ÂØªÂùÄÁªìÊûú Node&lt;K,V&gt;[] tab; Node&lt;K,V&gt; p; int n, i; //Âª∂ËøüÂàùÂßãÂåñÔºåÁ¨¨‰∏ÄÊ¨°Ë∞ÉÁî®putValÊó∂‰ºöÂàùÂßãÂåñhashMapÂØπË±°‰∏≠ÊúÄÊ∂àËÄóÂÜÖÂ≠òÁöÑÊï£ÂàóË°® if ((tab = table) == null || (n = tab.length) == 0) n = (tab = resize()).length; //ÊúÄÁÆÄÂçïÊÉÖÂÜµÔºåÂØªÂùÄÊâæÂà∞ÁöÑÊ°∂‰Ωç‰∏∫nullÔºåÁõ¥Êé•ÊîæÂÖ•Êï∞ÊçÆ if ((p = tab[i = (n - 1) &amp; hash]) == null) tab[i] = newNode(hash, key, value, null); else { //e ‰∏ç‰∏∫null ÊâæÂà∞‰∫Ü‰∏Ä‰∏™‰∏éÂΩìÂâçË¶ÅÊèíÂÖ•ÁöÑkey-value‰∏ÄËá¥ÁöÑ keyÂÖÉÁ¥† Node&lt;K,V&gt; e; K k; //Ë°®Á§∫Ê°∂‰Ωç‰∏≠ÁöÑËØ•ÂÖÉÁ¥†‰∏éÂΩìÂâçÊèíÂÖ•ÂÖÉÁ¥†keyÂÆåÂÖ®‰∏ÄËá¥ÔºåÂêéÁª≠Â∞ÜÊõøÊç¢ if (p.hash == hash &amp;&amp; ((k = p.key) == key || (key != null &amp;&amp; key.equals(k)))) e = p; //ËØ•ÂÖÉÁ¥†Â∑≤ÁªèÊ†ëÂåñÊó∂ else if (p instanceof TreeNode) e = ((TreeNode&lt;K,V&gt;)p).putTreeVal(this, tab, hash, key, value); //ÈìæË°®Êó∂‰∏î‰∏çÁ≠â‰∫éÂ§¥ÂÖÉÁ¥†ÔºåÂÖÉÁ¥†‰æùÊ¨°ÊØîËæÉ else { for (int binCount = 0; ; ++binCount) { //ÊúÄÂêé‰∏Ä‰∏™ÂÖÉÁ¥†ËøòÊâæ‰∏çÂà∞ÂêåÊèíÂÖ•keyÁõ∏ÂêåÁöÑnode if ((e = p.next) == null) { //ÊèíÂÖ•ÊúÄÂêé p.next = newNode(hash, key, value, null); //ÈìæË°®ÂÖÉÁ¥†Êï∞ÈáèÂ§ß‰∫é8ÔºåÊ†ëÂåñ if (binCount &gt;= TREEIFY_THRESHOLD - 1) // -1 for 1st treeifyBin(tab, hash); break; } //ÈìæË°®‰∏≠ÊâæÂà∞ÂêåÊèíÂÖ•keyÁöÑnodeÔºåÊõøÊç¢ if (e.hash == hash &amp;&amp; ((k = e.key) == key || (key != null &amp;&amp; key.equals(k)))) break; p = e; } } //‰∏äÈù¢ÁöÑeÂ≠òÂú®ÊõøÊç¢ÂÄº if (e != null) { // existing mapping for key V oldValue = e.value; if (!onlyIfAbsent || oldValue == null) e.value = value; afterNodeAccess(e); return oldValue; } } //ËÆ∞ÂΩï‰øÆÊîπÊ¨°Êï∞ÔºåÊõøÊç¢‰∏çÁÆó ++modCount; //ÊèíÂÖ•ÂêéÂÆπÈáèÂ§ß‰∫éÊâ©ÂÆπÈòàÂÄºÂàôÊâ©ÂÆπ if (++size &gt; threshold) resize(); afterNodeInsertion(evict); return null; } GET() 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758/** * Returns the value to which the specified key is mapped, * or {@code null} if this map contains no mapping for the key. * * &lt;p&gt;More formally, if this map contains a mapping from a key * {@code k} to a value {@code v} such that {@code (key==null ? k==null : * key.equals(k))}, then this method returns {@code v}; otherwise * it returns {@code null}. (There can be at most one such mapping.) * * &lt;p&gt;A return value of {@code null} does not &lt;i&gt;necessarily&lt;/i&gt; * indicate that the map contains no mapping for the key; it's also * possible that the map explicitly maps the key to {@code null}. * The {@link #containsKey containsKey} operation may be used to * distinguish these two cases. * * @see #put(Object, Object) */public V get(Object key) { Node&lt;K,V&gt; e; return (e = getNode(hash(key), key)) == null ? null : e.value;}/** * Implements Map.get and related methods. * * @param hash hash for key * @param key the key * @return the node, or null if none */final Node&lt;K,V&gt; getNode(int hash, Object key) { //tab:ÂºïÁî®ÂΩìÂâç hashmapÁöÑÊï£ÂàóË°® //first:Ê°∂‰Ωç‰∏≠ÁöÑÂ§¥ÂÖÉÁ¥† //e:‰∏¥Êó∂nodeÂÖÉÁ¥† //n: tableÊï∞ÁªÑÈïøÂ∫¶ Node&lt;K,V&gt;[] tab; Node&lt;K,V&gt; first, e; int n; K k; if ((tab = table) != null &amp;&amp; (n = tab.length) &gt; 0 &amp;&amp; (first = tab[(n - 1) &amp; hash]) != null) { //Á¨¨‰∏ÄÁßçÊÉÖÂÜµÔºöÂÆö‰ΩçÂá∫Êù•ÁöÑÊ°∂‰ΩçÂÖÉÁ¥†Âç≥‰∏∫Âí±‰ª¨Ë¶ÅgetÁöÑÊï∞ÊçÆ if (first.hash == hash &amp;&amp; // always check first node ((k = first.key) == key || (key != null &amp;&amp; key.equals(k)))) return first; //ËØ¥ÊòéÂΩìÂâçÊ°∂‰Ωç‰∏çÊ≠¢‰∏Ä‰∏™ÂÖÉÁ¥†ÔºåÂèØËÉΩÊòØÈìæË°®‰πüÂèØËÉΩÊòØÁ∫¢ÈªëÊ†ë if ((e = first.next) != null) { //Á¨¨‰∫åÁßçÊÉÖÂÜµÔºåÊ°∂ÂçáÁ∫ßÊàê‰∫ÜÁ∫¢ÈªëÊ†ë if (first instanceof TreeNode) return ((TreeNode&lt;K,V&gt;)first).getTreeNode(hash, key); //Ê°∂ÂΩ¢Êàê‰∫ÜÈìæË°® do { if (e.hash == hash &amp;&amp; ((k = e.key) == key || (key != null &amp;&amp; key.equals(k)))) return e; } while ((e = e.next) != null); } } return null;} RemoveÔºàÔºâ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465/** * Implements Map.remove and related methods. * * @param hash hash for key * @param key the key * @param value the value to match if matchValue, else ignored * @param matchValue if true only remove if value is equal * @param movable if false do not move other nodes while removing * @return the node, or null if none */final Node&lt;K,V&gt; removeNode(int hash, Object key, Object value, boolean matchValue, boolean movable) { //tab:ÂºïÁî®ÂΩìÂâç hashmap‰∏≠ÁöÑÊï£ÂàóË°® //p:ÂΩìÂâçnodeÂÖÉÁ¥† //n:Ë°®Á§∫Êï£ÂàóË°®Êï∞ÁªÑÈïøÂ∫¶ //index:Ë°®Á§∫ÂØªÂùÄÁªìÊûú Node&lt;K,V&gt;[] tab; Node&lt;K,V&gt; p; int n, index; if ((tab = table) != null &amp;&amp; (n = tab.length) &gt; 0 &amp;&amp; (p = tab[index = (n - 1) &amp; hash]) != null) { //ËØ¥ÊòéË∑ØÁî±ÁöÑÊ°∂‰ΩçÊòØÊúâÊï∞ÊçÆÁöÑÔºåÈúÄË¶ÅËøõË°åÊü•ÊâæÊìç‰ΩúÔºåÂπ∂‰∏îÂà†Èô§ //node:Êü•ÊâæÂà∞ÁöÑÁªìÊûú //e:ÂΩìÂâçNodeÁöÑ‰∏ã‰∏Ä‰∏™ÂÖÉÁ¥† Node&lt;K,V&gt; node = null, e; K k; V v; if (p.hash == hash &amp;&amp; ((k = p.key) == key || (key != null &amp;&amp; key.equals(k)))) node = p; else if ((e = p.next) != null) { //ËØ¥ÊòéÔºåÂΩìÂâçÊ°∂‰ΩçË¶Å‰πàÊòØÈìæË°®Ë¶Å‰πàÊòØÁ∫¢ÈªëÊ†ë if (p instanceof TreeNode)//Âà§Êñ≠ÂΩìÂâçÊ°∂‰ΩçÊòØÂê¶ÂçáÁ∫ß‰∏∫Á∫¢ÈªëÊ†ë‰∫Ü //Á¨¨‰∫åÁßçÊÉÖÂÜµÔºöÁ∫¢ÈªëÊ†ëÊü•Êâæ node = ((TreeNode&lt;K,V&gt;)p).getTreeNode(hash, key); else { //Á¨¨‰∏âÁßçÈìæË°® do { if (e.hash == hash &amp;&amp; ((k = e.key) == key || (key != null &amp;&amp; key.equals(k)))) { node = e; break; } p = e; } while ((e = e.next) != null); } } //Âà§Êñ≠node‰∏ç‰∏∫Á©∫ÁöÑËØùÔºåËØ¥ÊòéÊåâÁÖßkeyÊüªÊâæÂà∞ÈúÄË¶ÅÂà†Èô§ÁöÑÊï∞ÊçÆ‰∫Ü if (node != null &amp;&amp; (!matchValue || (v = node.value) == value || (value != null &amp;&amp; value.equals(v)))) { //Á¨¨‰∏ÄÁßçÊÉÖÊ≥ÅÔºönodeÊòØÊ†ëËäÇÁÇπÔºåËØ¥ÊòéÈúÄË¶ÅËøõË°åÊ†ëËäÇÁÇπÁßªÈô§Êìç‰Ωú if (node instanceof TreeNode) ((TreeNode&lt;K,V&gt;)node).removeTreeNode(this, tab, movable); //Á¨¨‰∫åÁßçÊÉÖÊ≥ÅÔºöÊ°∂‰ΩçÂÖÉÁ¥†Âç≥‰∏∫ÊüªÊâæÁªìÊûúÔºåÂàôÂ∞ÜËØ•ÂÖÉÁ¥†ÁöÑ‰∏ã‰∏Ä‰∏™ÂÖÉÁ¥†ÊîæËá≥Ê°∂‰Ωç‰∏≠ else if (node == p) tab[index] = node.next; else //Á¨¨‰∏âÁßçÊÉÖÊ≥ÅÔºöÂ∞ÜÂΩìÂâçÂÖÉÁ¥†pÁöÑ‰∏ã‰∏Ä‰∏™ÂÖÉÁ¥†ËÆæÁΩÆÊàêË¶ÅÂà†Èô§ÂÖÉÁ¥†ÁöÑ‰∏ã‰∏Ä‰∏™ÂÖÉÁ¥† p.next = node.next; ++modCount; --size; afterNodeRemoval(node); return node; } } return null;} ÊûÑÈÄ†ÊñπÊ≥ï Ôºö&gt;&gt;&gt;Êó†Á¨¶Âè∑Âè≥ÁßªÔºåÂøΩÁï•Á¨¶Âè∑‰ΩçÔºåÁ©∫‰ΩçÈÉΩ‰ª•0Ë°•ÈΩê 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273/* ---------------- Public operations -------------- */ /** * Constructs an empty &lt;tt&gt;HashMap&lt;/tt&gt; with the specified initial * capacity and load factor. * * @param initialCapacity the initial capacity * @param loadFactor the load factor * @throws IllegalArgumentException if the initial capacity is negative * or the load factor is nonpositive */ public HashMap(int initialCapacity, float loadFactor) { //ÈôêÂà∂Êï∞ÁªÑ‰∏éloadFactor 0&lt;initialCapacity&lt;MAXIMUM_CAPACITY // loadFactor&gt;0 if (initialCapacity &lt; 0) throw new IllegalArgumentException(&quot;Illegal initial capacity: &quot; + initialCapacity); if (initialCapacity &gt; MAXIMUM_CAPACITY) initialCapacity = MAXIMUM_CAPACITY; if (loadFactor &lt;= 0 || Float.isNaN(loadFactor)) throw new IllegalArgumentException(&quot;Illegal load factor: &quot; + loadFactor); this.loadFactor = loadFactor; //tableSizeFor ËøîÂõû‰∏Ä‰∏™Â§ß‰∫éÁ≠â‰∫éÂΩìÂâçcapÁöÑ‰∏Ä‰∏™Êï∞Â≠óÔºåÂπ∂‰∏îËøô‰∏™Êï∞Â≠ó‰∏ÄÂÆöÊòØ2ÁöÑÊ¨°ÊñπÊï∞ÔºåÊ∫êÁ†ÅÂ¶Ç‰∏ãÔºö this.threshold = tableSizeFor(initialCapacity); } /**ËøîÂõû‰∏Ä‰∏™Â§ß‰∫éÁ≠â‰∫éÂΩìÂâçcapÁöÑ‰∏Ä‰∏™Êï∞Â≠óÔºåÂπ∂‰∏îËøô‰∏™Êï∞Â≠ó‰∏ÄÂÆöÊòØ2ÁöÑÊ¨°ÊñπÊï∞Ôºö * &gt;&gt;&gt;ÔºöÊó†Á¨¶Âè∑Âè≥ÁßªÔºåÂøΩÁï•Á¨¶Âè∑‰ΩçÔºåÁ©∫‰ΩçÈÉΩ‰ª•0Ë°•ÈΩê * Returns a power of two size for the given target capacity. */ static final int tableSizeFor(int cap) { int n = cap - 1; n |= n &gt;&gt;&gt; 1; n |= n &gt;&gt;&gt; 2; n |= n &gt;&gt;&gt; 4; n |= n &gt;&gt;&gt; 8; n |= n &gt;&gt;&gt; 16; return (n &lt; 0) ? 1 : (n &gt;= MAXIMUM_CAPACITY) ? MAXIMUM_CAPACITY : n + 1; } /** * Constructs an empty &lt;tt&gt;HashMap&lt;/tt&gt; with the specified initial * capacity and the default load factor (0.75). * * @param initialCapacity the initial capacity. * @throws IllegalArgumentException if the initial capacity is negative. */ public HashMap(int initialCapacity) { this(initialCapacity, DEFAULT_LOAD_FACTOR); } /** * Constructs an empty &lt;tt&gt;HashMap&lt;/tt&gt; with the default initial capacity * (16) and the default load factor (0.75). */ public HashMap() { this.loadFactor = DEFAULT_LOAD_FACTOR; // all other fields defaulted } /** * Constructs a new &lt;tt&gt;HashMap&lt;/tt&gt; with the same mappings as the * specified &lt;tt&gt;Map&lt;/tt&gt;. The &lt;tt&gt;HashMap&lt;/tt&gt; is created with * default load factor (0.75) and an initial capacity sufficient to * hold the mappings in the specified &lt;tt&gt;Map&lt;/tt&gt;. * * @param m the map whose mappings are to be placed in this map * @throws NullPointerException if the specified map is null */ public HashMap(Map&lt;? extends K, ? extends V&gt; m) { this.loadFactor = DEFAULT_LOAD_FACTOR; putMapEntries(m, false); } LinkedHashMap ÁâπÁÇπ ÂéüÂõ†ÔºàÊ∫êÁ†ÅÔºâ Â∫ïÂ±ÇÂìàÂ∏åË°®+ÂèåÂêëÈìæË°®ÔºåHashMapÂ≠êÁ±ª Â∫ïÂ±Ç Á∫øÁ®ã‰∏çÂÆâÂÖ® ÊñπÊ≥ï‰∏≠Ê≤°Êúâsynchronized ÊúâÂ∫è ÊúâÂ∫è Â§öÁ©∫ÈîÆÂÄºÊàñÂçïÁ©∫ÈîÆÊàñÂÄº ÂêåHashMap Êâ©ÂÆπ‰∏§ÂÄç Âêåhashmap Â∫ïÂ±Ç put„ÄÅresizeÊâ©ÂÆπÂùá‰ΩøÁî®HashMapÁöÑÊñπÊ≥ïÔºåÊã•ÊúâHashMapÊâÄÊúâÁâπÊÄß„ÄÇ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879808182838485public class LinkedHashMap&lt;K,V&gt; extends HashMap&lt;K,V&gt; implements Map&lt;K,V&gt;{} /** * HashMap.Node subclass for normal LinkedHashMap entries. */ static class Entry&lt;K,V&gt; extends HashMap.Node&lt;K,V&gt; { Entry&lt;K,V&gt; before, after; Entry(int hash, K key, V value, Node&lt;K,V&gt; next) { super(hash, key, value, next); } } /**ÂèåÂêëÈìæË°®Â§¥ * The head (eldest) of the doubly linked list. */ transient LinkedHashMap.Entry&lt;K,V&gt; head; /**ÂèåÂêëÈìæË°®Â∞æ * The tail (youngest) of the doubly linked list. */ transient LinkedHashMap.Entry&lt;K,V&gt; tail; /** * The iteration ordering method for this linked hash map: &lt;tt&gt;true&lt;/tt&gt; * for access-order, &lt;tt&gt;false&lt;/tt&gt; for insertion-order. * * @serial */ final boolean accessOrder;/** * Constructs an empty insertion-ordered &lt;tt&gt;LinkedHashMap&lt;/tt&gt; instance * with the specified initial capacity and a default load factor (0.75). * * @param initialCapacity the initial capacity * @throws IllegalArgumentException if the initial capacity is negative */ public LinkedHashMap(int initialCapacity) { super(initialCapacity); accessOrder = false; } /** * Constructs an empty insertion-ordered &lt;tt&gt;LinkedHashMap&lt;/tt&gt; instance * with the default initial capacity (16) and load factor (0.75). */ public LinkedHashMap() { super(); accessOrder = false; } /** * Constructs an insertion-ordered &lt;tt&gt;LinkedHashMap&lt;/tt&gt; instance with * the same mappings as the specified map. The &lt;tt&gt;LinkedHashMap&lt;/tt&gt; * instance is created with a default load factor (0.75) and an initial * capacity sufficient to hold the mappings in the specified map. * * @param m the map whose mappings are to be placed in this map * @throws NullPointerException if the specified map is null */ public LinkedHashMap(Map&lt;? extends K, ? extends V&gt; m) { super(); accessOrder = false; putMapEntries(m, false); } /** * Constructs an empty &lt;tt&gt;LinkedHashMap&lt;/tt&gt; instance with the * specified initial capacity, load factor and ordering mode. * * @param initialCapacity the initial capacity * @param loadFactor the load factor *=====Ê≠§ÊûÑÈÄ†ÊñπÊ≥ïaccessOrder‰∏∫trueÊó∂ÂÆûÁé∞‰∫ÜÊåâËÆøÈóÆÈ°∫Â∫èÂ≠òÂÇ®ÂÖÉÁ¥†====== *@param accessOrder the ordering mode - &lt;tt&gt;true&lt;/tt&gt; for access-order, &lt;tt&gt;false&lt;/tt&gt; for insertion-order * @throws IllegalArgumentException if the initial capacity is negative * or the load factor is nonpositive */ public LinkedHashMap(int initialCapacity, float loadFactor, boolean accessOrder) { super(initialCapacity, loadFactor); this.accessOrder = accessOrder; } ÊúâÂ∫è 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105 /** * HashMap.Node subclass for normal LinkedHashMap entries. */ static class Entry&lt;K,V&gt; extends HashMap.Node&lt;K,V&gt; { //ËÆ∞ÂΩïÁõ∏ÈÇª‰∏§‰∏™key-valueÂØπË±° Entry&lt;K,V&gt; before, after; Entry(int hash, K key, V value, Node&lt;K,V&gt; next) { super(hash, key, value, next); } } /**ÂèåÂêëÈìæË°®Â§¥ * The head (eldest) of the doubly linked list. */ transient LinkedHashMap.Entry&lt;K,V&gt; head; /**ÂèåÂêëÈìæË°®Â∞æ * The tail (youngest) of the doubly linked list. */ transient LinkedHashMap.Entry&lt;K,V&gt; tail;/**====falseÂàôÊåâÊèíÂÖ•È°∫Â∫èÂ≠òÂÇ®ÂÖÉÁ¥†ÔºåÂ¶ÇÊûúÊòØtrueÂàôÊåâËÆøÈóÆÈ°∫Â∫èÂ≠òÂÇ®ÂÖÉÁ¥† * The iteration ordering method for this linked hash map: &lt;tt&gt;true&lt;/tt&gt; * for access-order, &lt;tt&gt;false&lt;/tt&gt; for insertion-order. * * @serial */ final boolean accessOrder; Node&lt;K,V&gt; newNode(int hash, K key, V value, Node&lt;K,V&gt; e) { LinkedHashMap.Entry&lt;K,V&gt; p = new LinkedHashMap.Entry&lt;K,V&gt;(hash, key, value, e); linkNodeLast(p); return p; } /** * The iteration ordering method for this linked hash map: &lt;tt&gt;true&lt;/tt&gt; * for access-order, &lt;tt&gt;false&lt;/tt&gt; for insertion-order. * * @serial */ final boolean accessOrder; // internal utilities//ÂÆûÁé∞ÊúâÂ∫èÁöÑÊñπÊ≥ï//‰∏æ‰æã:ÊîæÂÖ•1,2,3//1ËøõÔºöhead=tail=1 last=null // 3ËøõÔºötail=last=1--„Äãtail=3 3.before=1 --„Äã 1.after=3 // 2ËøõÔºötail=last=3--„Äãtail=2 2.before=3 --„Äã 3.after=2 // link at the end of list private void linkNodeLast(LinkedHashMap.Entry&lt;K,V&gt; p) { LinkedHashMap.Entry&lt;K,V&gt; last = tail; tail = p; if (last == null) head = p; else { p.before = last; last.after = p; } }//HashMapÁöÑNode===============/** * Basic hash bin node, used for most entries. (See below for * TreeNode subclass, and in LinkedHashMap for its Entry subclass.) */ static class Node&lt;K,V&gt; implements Map.Entry&lt;K,V&gt; { final int hash; final K key; V value; Node&lt;K,V&gt; next; Node(int hash, K key, V value, Node&lt;K,V&gt; next) { this.hash = hash; this.key = key; this.value = value; this.next = next; } public final K getKey() { return key; } public final V getValue() { return value; } public final String toString() { return key + &quot;=&quot; + value; } public final int hashCode() { return Objects.hashCode(key) ^ Objects.hashCode(value); } public final V setValue(V newValue) { V oldValue = value; value = newValue; return oldValue; } public final boolean equals(Object o) { if (o == this) return true; if (o instanceof Map.Entry) { Map.Entry&lt;?,?&gt; e = (Map.Entry&lt;?,?&gt;)o; if (Objects.equals(key, e.getKey()) &amp;&amp; Objects.equals(value, e.getValue())) return true; } return false; } } TreeMap ÁâπÁÇπ ÂéüÂõ†ÔºàÊ∫êÁ†ÅÔºâ Â∫ïÂ±Ç‰∫åÂèâÊ†ë„ÄêÁ∫¢ÈªëÊ†ë„Äë Â∫ïÂ±ÇÁ∫¢ÈªëÊ†ë Á∫øÁ®ã‰∏çÂÆâÂÖ® ÊñπÊ≥ï‰∏≠Ê≤°Êúâsynchronized ÊúâÂ∫èÔºåÊØîËæÉÈÄöËøákey Â∫ïÂ±ÇÁ∫¢ÈªëÊ†ë Â§öÂÄºÂèØÁ©∫ Â∫ïÂ±ÇÁ∫¢ÈªëÊ†ë 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879808182838485868788899091929394959697//NavigableMapÊé•Âè£Êèê‰æõÈíàÂØπKeyÁöÑÊúâÂ∫èËÆøÈóÆÔºåpublic class TreeMap&lt;K,V&gt; extends AbstractMap&lt;K,V&gt; implements NavigableMap&lt;K,V&gt;, Cloneable, java.io.Serializable{ /** * The comparator used to maintain order in this tree map, or * null if it uses the natural ordering of its keys. * * @serial */ private final Comparator&lt;? super K&gt; comparator; private transient Entry&lt;K,V&gt; root; /** * The number of entries in the tree */ private transient int size = 0; /** * The number of structural modifications to the tree. */ private transient int modCount = 0; /** * Node in the Tree. Doubles as a means to pass key-value pairs back to * user (see Map.Entry). */ static final class Entry&lt;K,V&gt; implements Map.Entry&lt;K,V&gt; { K key; V value; Entry&lt;K,V&gt; left; Entry&lt;K,V&gt; right; Entry&lt;K,V&gt; parent; boolean color = BLACK; /** * Make a new cell with given key, value, and parent, and with * {@code null} child links, and BLACK color. */ Entry(K key, V value, Entry&lt;K,V&gt; parent) { this.key = key; this.value = value; this.parent = parent; } /** * Returns the key. * * @return the key */ public K getKey() { return key; } /** * Returns the value associated with the key. * * @return the value associated with the key */ public V getValue() { return value; } /** * Replaces the value currently associated with the key with the given * value. * * @return the value associated with the key before this method was * called */ public V setValue(V value) { V oldValue = this.value; this.value = value; return oldValue; } public boolean equals(Object o) { if (!(o instanceof Map.Entry)) return false; Map.Entry&lt;?,?&gt; e = (Map.Entry&lt;?,?&gt;)o; return valEquals(key,e.getKey()) &amp;&amp; valEquals(value,e.getValue()); } public int hashCode() { int keyHash = (key==null ? 0 : key.hashCode()); int valueHash = (value==null ? 0 : value.hashCode()); return keyHash ^ valueHash; } public String toString() { return key + &quot;=&quot; + value; } }} HashTable Á∫øÁ®ãÂÆâÂÖ®ÔºåÂÜÖÈÉ®ÁöÑÊñπÊ≥ïÂü∫Êú¨ÈÉΩÁªèËøá synchronizedÔºå‰øùÁïôÁ±ª‰∏çÂª∫ËÆÆ‰ΩøÁî® ConcurrentHashMap ÁâπÁÇπ ÂéüÂõ†ÔºàÊ∫êÁ†ÅÔºâ Â∫ïÂ±ÇÊï∞ÁªÑ„ÄÅÈìæË°®„ÄÅÁ∫¢ÈªëÊ†ë Â∫ïÂ±Ç Á∫øÁ®ãÂÆâÂÖ® Á∫øÁ®ãÂÆâÂÖ® Âä®ÊÄÅÊâ©ÂÆπ‰∏∫ÂéüÊù•ÁöÑ2ÂÄç int newCapacity = oldCapacity + ((capacityIncrement &gt; 0) ? capacityIncrement : oldCapacity); ÈÉΩÂÆâÂÖ®‰ΩÜÊòØConcurrentHashMap ÊØî HashTable ÊïàÁéáË¶ÅÈ´ò ConcurrentHashMap ÈîÅÁ≤íÂ∫¶Êõ¥ÁªÜ ÈùûÁ©∫ JDK1.7 : „ÄêÊï∞ÁªÑÔºàSegmentÔºâ + Êï∞ÁªÑÔºàHashEntryÔºâ + ÈìæË°®ÔºàHashEntryËäÇÁÇπÔºâ„Äë ConcurrentHashMapÔºàÂàÜÊÆµÈîÅÔºâ ÂØπÊï¥‰∏™Ê°∂Êï∞ÁªÑËøõË°å‰∫ÜÂàÜÂâ≤ÂàÜÊÆµ(Segment)ÔºåÊØè‰∏ÄÊääÈîÅÂè™ÈîÅÂÆπÂô®ÂÖ∂‰∏≠‰∏ÄÈÉ®ÂàÜÊï∞ÊçÆÔºåÂ§öÁ∫øÁ®ãËÆøÈóÆÂÆπÂô®Èáå‰∏çÂêåÊï∞ÊçÆÊÆµÁöÑÊï∞ÊçÆÔºåÂ∞±‰∏ç‰ºöÂ≠òÂú®ÈîÅÁ´û‰∫âÔºåÊèêÈ´òÂπ∂ÂèëËÆøÈóÆÁéá„ÄÇSegmentÊòØ‰∏ÄÁßçÂèØÈáçÂÖ•ÈîÅReentrantLockÔºåÂú®ConcurrentHashMapÈáåÊâÆÊºîÈîÅÁöÑËßíËâ≤ÔºåHashEntryÂàôÁî®‰∫éÂ≠òÂÇ®ÈîÆÂÄºÂØπÊï∞ÊçÆ„ÄÇ JDK1.8 : NodeÊï∞ÁªÑ+ÈìæË°® / Á∫¢ÈªëÊ†ë Âà©Áî®CAS+SynchronizedÊù•‰øùËØÅÂπ∂ÂèëÊõ¥Êñ∞ÁöÑÂÆâÂÖ®ÔºåÂ∫ïÂ±Ç‰æùÁÑ∂ÈááÁî®Êï∞ÁªÑ+ÈìæË°®+Á∫¢ÈªëÊ†ëÁöÑÂ≠òÂÇ®ÁªìÊûÑ„ÄÇ Â∫ïÂ±Ç 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647/** * The array of bins. Lazily initialized upon first insertion. * Size is always a power of two. Accessed directly by iterators. */ transient volatile Node&lt;K,V&gt;[] table; /** * The next table to use; non-null only while resizing. */ private transient volatile Node&lt;K,V&gt;[] nextTable; /** * Base counter value, used mainly when there is no contention, * but also as a fallback during table initialization * races. Updated via CAS. */ private transient volatile long baseCount; /** * hashË°®ÂàùÂßãÂåñÊàñÊâ©ÂÆπÊó∂ÁöÑ‰∏Ä‰∏™ÊéßÂà∂‰ΩçÊ†áËØÜÈáè„ÄÇ * Ë¥üÊï∞‰ª£Ë°®Ê≠£Âú®ËøõË°åÂàùÂßãÂåñÊàñÊâ©ÂÆπÊìç‰Ωú * -1‰ª£Ë°®Ê≠£Âú®ÂàùÂßãÂåñ * -N Ë°®Á§∫ÊúâN-1‰∏™Á∫øÁ®ãÊ≠£Âú®ËøõË°åÊâ©ÂÆπÊìç‰Ωú * Ê≠£Êï∞Êàñ0‰ª£Ë°®hashË°®ËøòÊ≤°ÊúâË¢´ÂàùÂßãÂåñÔºåËøô‰∏™Êï∞ÂÄºË°®Á§∫ÂàùÂßãÂåñÊàñ‰∏ã‰∏ÄÊ¨°ËøõË°åÊâ©ÂÆπÁöÑÂ§ßÂ∞è * Table initialization and resizing control. When negative, the * table is being initialized or resized: -1 for initialization, * else -(1 + the number of active resizing threads). Otherwise, * when table is null, holds the initial table size to use upon * creation, or 0 for default. After initialization, holds the * next element count value upon which to resize the table. */ private transient volatile int sizeCtl; /** * The next table index (plus one) to split while resizing. */ private transient volatile int transferIndex; /** * Spinlock (locked via CAS) used when resizing and/or creating CounterCells. */ private transient volatile int cellsBusy; /** * Table of counter cells. When non-null, size is a power of 2. */ private transient volatile CounterCell[] counterCells; Queue ÂÖàËøõÂÖàÂá∫ PriorityQueue ÁâπÁÇπ ÂéüÂõ†ÔºàÊ∫êÁ†ÅÔºâ Â∫ïÂ±Ç‰∫åÂèâÂ∞èÈ°∂Â†Ü ‰øùËØÅÊØèÊ¨°ÂèñÂá∫ÁöÑÂÖÉÁ¥†ÊòØÈòüÂàó‰∏≠ÊùÉÂÄºÊúÄÂ∞èÁöÑ ÊñπÊ≥ï‰∏≠ÊúâsynchronizedÔºåÊâÄ‰ª•ÊÄßËÉΩ‰∏çÂ¶ÇArrayList Èùûnull int newCapacity = oldCapacity + ((capacityIncrement &gt; 0) ? capacityIncrement : oldCapacity); Â∑•ÂÖ∑Á±ª Collections Á°Æ‰øùÂÜÖÂÆπ‰∏çË¢´‰øÆÊîπ unmodifiableMap unmodifiableList unmodifiableSet Arrays ComparableÂíåComparator ‚Äã ComparableÊòØÊéíÂ∫èÊé•Âè£ÔºõËã•‰∏Ä‰∏™Á±ªÂÆûÁé∞‰∫ÜComparableÊé•Âè£ÔºåÂ∞±ÊÑèÂë≥ÁùÄ‚ÄúËØ•Á±ªÊîØÊåÅÊéíÂ∫è‚Äù„ÄÇËÄåComparatorÊòØÊØîËæÉÂô®ÔºõÊàë‰ª¨Ëã•ÈúÄË¶ÅÊéßÂà∂Êüê‰∏™Á±ªÁöÑÊ¨°Â∫èÔºåÂèØ‰ª•Âª∫Á´ã‰∏Ä‰∏™‚ÄúËØ•Á±ªÁöÑÊØîËæÉÂô®‚ÄùÊù•ËøõË°åÊéíÂ∫è„ÄÇComparableÁõ∏ÂΩì‰∫é‚ÄúÂÜÖÈÉ®ÊØîËæÉÂô®‚ÄùÔºåËÄåComparatorÁõ∏ÂΩì‰∫é‚ÄúÂ§ñÈÉ®ÊØîËæÉÂô®‚Äù„ÄÇ ÂÆπÂô®ÁªºÂêàÈóÆÈ¢ò JUC ÈóÆÈ¢òÔºö‰ªÄ‰πàÊó∂ÂÄôËØ•Áî®Â§öÁ∫øÁ®ãÔºü ‚Äã Âú®Java‰∏≠ÔºåÁ∫øÁ®ãÈÉ®ÂàÜÊòØ‰∏Ä‰∏™ÈáçÁÇπÔºåÊú¨ÁØáÊñáÁ´†ËØ¥ÁöÑJUC‰πüÊòØÂÖ≥‰∫éÁ∫øÁ®ãÁöÑ„ÄÇJUCÂ∞±ÊòØjava.util .concurrentÂ∑•ÂÖ∑ÂåÖÁöÑÁÆÄÁß∞„ÄÇËøôÊòØ‰∏Ä‰∏™Â§ÑÁêÜÁ∫øÁ®ãÁöÑÂ∑•ÂÖ∑ÂåÖÔºåJDK 1.5ÂºÄÂßãÂá∫Áé∞ÁöÑ„ÄÇ Â§öÁ∫øÁ®ãÂü∫Á°Ä ËøõÁ®ã(Process) Êää‰∏Ä‰∏™‰ªªÂä°Áß∞‰∏∫‰∏Ä‰∏™ËøõÁ®ã ËøõÁ®ãÂÜÖÈÉ®ËøòÈúÄË¶ÅÂêåÊó∂ÊâßË°åÂ§ö‰∏™Â≠ê‰ªªÂä°Áß∞‰∏∫Á∫øÁ®ã ËøõÁ®ãÂíåÁ∫øÁ®ãÁöÑÂÖ≥Á≥ªÂ∞±ÊòØÔºö‰∏Ä‰∏™ËøõÁ®ãÂèØ‰ª•ÂåÖÂê´‰∏Ä‰∏™ÊàñÂ§ö‰∏™Á∫øÁ®ãÔºàThreadÔºâÔºå‰ΩÜËá≥Â∞ë‰ºöÊúâ‰∏Ä‰∏™Á∫øÁ®ã„ÄÇ Â§öËøõÁ®ãÊ®°ÂºèÔºàÊØè‰∏™ËøõÁ®ãÂè™Êúâ‰∏Ä‰∏™Á∫øÁ®ãÔºâ Â§öÁ∫øÁ®ãÊ®°ÂºèÔºà‰∏Ä‰∏™ËøõÁ®ãÊúâÂ§ö‰∏™Á∫øÁ®ãÔºâ Â§öËøõÁ®ãÔºãÂ§öÁ∫øÁ®ãÊ®°ÂºèÔºàÂ§çÊùÇÂ∫¶ÊúÄÈ´òÔºâ ÂíåÂ§öÁ∫øÁ®ãÁõ∏ÊØîÔºå Â§öËøõÁ®ãÁº∫ÁÇπÂú®‰∫éÔºöÂàõÂª∫ËøõÁ®ãÊØîÂàõÂª∫Á∫øÁ®ãÂºÄÈîÄÂ§ßÔºåÂ∞§ÂÖ∂ÊòØÂú®WindowsÁ≥ªÁªü‰∏äÔºõËøõÁ®ãÈó¥ÈÄö‰ø°ÊØîÁ∫øÁ®ãÈó¥ÈÄö‰ø°Ë¶ÅÊÖ¢ÔºåÂõ†‰∏∫Á∫øÁ®ãÈó¥ÈÄö‰ø°Â∞±ÊòØËØªÂÜôÂêå‰∏Ä‰∏™ÂèòÈáèÔºåÈÄüÂ∫¶ÂæàÂø´„ÄÇ Â§öËøõÁ®ãÁöÑ‰ºòÁÇπÂú®‰∫éÔºöÂ§öËøõÁ®ãÁ®≥ÂÆöÊÄßÊØîÂ§öÁ∫øÁ®ãÈ´òÔºåÂõ†‰∏∫Âú®Â§öËøõÁ®ãÁöÑÊÉÖÂÜµ‰∏ãÔºå‰∏Ä‰∏™ËøõÁ®ãÂ¥©Ê∫É‰∏ç‰ºöÂΩ±ÂìçÂÖ∂‰ªñËøõÁ®ãÔºåËÄåÂú®Â§öÁ∫øÁ®ãÁöÑÊÉÖÂÜµ‰∏ãÔºå‰ªª‰Ωï‰∏Ä‰∏™Á∫øÁ®ãÂ¥©Ê∫É‰ºöÁõ¥Êé•ÂØºËá¥Êï¥‰∏™ËøõÁ®ãÂ¥©Ê∫É„ÄÇ Â§öÁ∫øÁ®ã JavaËØ≠Ë®ÄÂÜÖÁΩÆ‰∫ÜÂ§öÁ∫øÁ®ãÊîØÊåÅÔºö‰∏Ä‰∏™JavaÁ®ãÂ∫èÂÆûÈôÖ‰∏äÊòØ‰∏Ä‰∏™JVMËøõÁ®ãÔºåJVMËøõÁ®ãÁî®‰∏Ä‰∏™‰∏ªÁ∫øÁ®ãÊù•ÊâßË°åmain()ÊñπÊ≥ïÔºåÂú®main()ÊñπÊ≥ïÂÜÖÈÉ®ÔºåÊàë‰ª¨ÂèàÂèØ‰ª•ÂêØÂä®Â§ö‰∏™Á∫øÁ®ã„ÄÇÊ≠§Â§ñÔºåJVMËøòÊúâË¥üË¥£ÂûÉÂúæÂõûÊî∂ÁöÑÂÖ∂‰ªñÂ∑•‰ΩúÁ∫øÁ®ãÁ≠â„ÄÇ Âõ†Ê≠§ÔºåÂØπ‰∫éÂ§ßÂ§öÊï∞JavaÁ®ãÂ∫èÊù•ËØ¥ÔºåÊàë‰ª¨ËØ¥Â§ö‰ªªÂä°ÔºåÂÆûÈôÖ‰∏äÊòØËØ¥Â¶Ç‰Ωï‰ΩøÁî®Â§öÁ∫øÁ®ãÂÆûÁé∞Â§ö‰ªªÂä°„ÄÇ ‚Äã ÂíåÂçïÁ∫øÁ®ãÁõ∏ÊØîÔºåÂ§öÁ∫øÁ®ãÁºñÁ®ãÁöÑÁâπÁÇπÂú®‰∫éÔºöÂ§öÁ∫øÁ®ãÁªèÂ∏∏ÈúÄË¶ÅËØªÂÜôÂÖ±‰∫´Êï∞ÊçÆÔºåÂπ∂‰∏îÈúÄË¶ÅÂêåÊ≠•„ÄÇ‰æãÂ¶ÇÔºåÊí≠ÊîæÁîµÂΩ±Êó∂ÔºåÂ∞±ÂøÖÈ°ªÁî±‰∏Ä‰∏™Á∫øÁ®ãÊí≠ÊîæËßÜÈ¢ëÔºåÂè¶‰∏Ä‰∏™Á∫øÁ®ãÊí≠ÊîæÈü≥È¢ëÔºå‰∏§‰∏™Á∫øÁ®ãÈúÄË¶ÅÂçèË∞ÉËøêË°åÔºåÂê¶ÂàôÁîªÈù¢ÂíåÂ£∞Èü≥Â∞±‰∏çÂêåÊ≠•„ÄÇÂõ†Ê≠§ÔºåÂ§öÁ∫øÁ®ãÁºñÁ®ãÁöÑÂ§çÊùÇÂ∫¶È´òÔºåË∞ÉËØïÊõ¥Âõ∞Èöæ„ÄÇ ‚Äã JavaÂ§öÁ∫øÁ®ãÁºñÁ®ãÁöÑÁâπÁÇπÂèàÂú®‰∫éÔºöÂ§öÁ∫øÁ®ãÊ®°ÂûãÊòØJavaÁ®ãÂ∫èÊúÄÂü∫Êú¨ÁöÑÂπ∂ÂèëÊ®°ÂûãÔºõÂêéÁª≠ËØªÂÜôÁΩëÁªú„ÄÅÊï∞ÊçÆÂ∫ì„ÄÅWebÂºÄÂèëÁ≠âÈÉΩ‰æùËµñJavaÂ§öÁ∫øÁ®ãÊ®°Âûã„ÄÇ ÁÆ°Á®ã ‚Äã ÁÆ°Á®ã(monitor)ÊòØ‰øùËØÅ‰∫ÜÂêå‰∏ÄÊó∂ÂàªÂè™Êúâ‰∏Ä‰∏™ËøõÁ®ãÂú®ÁÆ°Á®ãÂÜÖÊ¥ªÂä®,Âç≥ÁÆ°Á®ãÂÜÖÂÆö‰πâÁöÑÊìç‰ΩúÂú®Âêå‰∏ÄÊó∂ÂàªÂè™Ë¢´‰∏Ä‰∏™ËøõÁ®ãË∞ÉÁî®(Áî±ÁºñËØëÂô®ÂÆûÁé∞).‰ΩÜÊòØËøôÊ†∑Âπ∂‰∏çËÉΩ‰øùËØÅËøõÁ®ã‰ª•ËÆæËÆ°ÁöÑÈ°∫Â∫èÊâßË°å„ÄÇJVM‰∏≠ÂêåÊ≠•ÊòØÂü∫‰∫éËøõÂÖ•ÂíåÈÄÄÂá∫ÁÆ°Á®ã(monitor)ÂØπË±°ÂÆûÁé∞ÁöÑÔºåÊØè‰∏™ÂØπË±°ÈÉΩ‰ºöÊúâ‰∏Ä‰∏™ÁÆ°Á®ã(monitor)ÂØπË±°ÔºåÁÆ°Á®ã(monitor)‰ºöÈöèÁùÄjavaÂØπË±°‰∏ÄÂêåÂàõÂª∫ÂíåÈîÄÊØÅ„ÄÇÊâßË°åÁ∫øÁ®ãÈ¶ñÂÖàË¶ÅÊåÅÊúâÁÆ°Á®ãÂØπË±°ÔºåÁÑ∂ÂêéÊâçËÉΩÊâßË°åÊñπÊ≥ïÔºåÂΩìÊñπÊ≥ïÂÆåÊàê‰πãÂêé‰ºöÈáäÊîæÁÆ°Á®ãÔºåÊñπÊ≥ïÂú®ÊâßË°åÊó∂ÂÄô‰ºöÊåÅÊúâÁÆ°Á®ãÔºåÂÖ∂‰ªñÁ∫øÁ®ãÊó†Ê≥ïÂÜçËé∑ÂèñÂêå‰∏Ä‰∏™ÁÆ°Á®ã ÊòæÂºèÂàõÂª∫Êñ∞Á∫øÁ®ã ÁªßÊâøThreadÁ±ªÔºåÂÆû‰æãÂåñ‰∏Ä‰∏™ThreadÂÆû‰æãÂπ∂ÈáçÂÜôrunÔºàÔºâÔºåÁÑ∂ÂêéË∞ÉÁî®ÂÆÉÁöÑstart()ÊñπÊ≥ïÔºö Â∏åÊúõÊñ∞Á∫øÁ®ãËÉΩÊâßË°åÊåáÂÆöÁöÑ‰ª£Á†Å ÊñπÊ≥ï‰∏ÄÔºö‰ªéThreadÊ¥æÁîü‰∏Ä‰∏™Ëá™ÂÆö‰πâÁ±ªÔºåÁÑ∂ÂêéË¶ÜÂÜôrun()ÊñπÊ≥ïÔºö ÊñπÊ≥ï‰∫åÔºöÂàõÂª∫ThreadÂÆû‰æãÊó∂Ôºå‰º†ÂÖ•‰∏Ä‰∏™RunnableÂÆû‰æãÔºö Á∫øÁ®ãÁöÑ‰ºòÂÖàÁ∫ß ÂèØ‰ª•ÂØπÁ∫øÁ®ãËÆæÂÆö‰ºòÂÖàÁ∫ßÔºåËÆæÂÆö‰ºòÂÖàÁ∫ßÁöÑÊñπÊ≥ïÊòØÔºö Thread.setPriority(int n) // 1~10, ÈªòËÆ§ÂÄº5 ÂÆûÁé∞RunnableÊé•Âè£ ‰∏éCallable‰∏çÂêå Êó†ËøîÂõûÂÄº Êó†ËøîÂõûÂºÇÂ∏∏ ÂÆûÁé∞run() ÂÆûÁé∞CallableÊé•Âè£Ôºàjdk1.5Ôºâ ÂÆûÁé∞ CallableÊé•Âè£ 1.ÂÆûÁé∞ CallableÊé•Âè£,ÈúÄË¶ÅËøîÂõûÂÄºÁ±ªÂûã 2.ÈáçÂÜôcallÊñπÊ≥ï,ÈúÄË¶ÅÊäõÂá∫ÂºÇÂ∏∏ 3.ÂàõÂª∫ÁõÆÊ†áÂØπË±° 4.ÂàõÂª∫ÊâßË°åÊúçÂä°: Executorservice ser= Executors. newfixed Threadpool(1) 5.Êèê‰∫§ÊâßË°å: Future&lt; Boolean&gt; result1=ser. submit(t1); 6.Ëé∑ÂèñÁªìÊûú: boolean r1= result1.get() 7.ÂÖ≥Èó≠ÊúçÂä°:ser. shutdownNow() ÊÄªÁªìÔºöThread‰∏∫Âü∫ÔºåÂè¶Â§ñ‰∏§‰∏™ÈÄöËøáThread ÂÆû‰æãÂÆûÁé∞ÔºåÈÄöËøáÊé•Âè£ÈÅøÂÖçÂçïÁªßÊâøÂ±ÄÈôêÊÄßÔºåÁÅµÊ¥ªÊñπ‰æøÂêå‰∏Ä‰∏™ÂØπË±°Ë¢´Â§ö‰∏™Á∫øÁ®ã‰ΩøÁî®ÔºåÂå∫Âà´Âú®Callable ÊúâËøîÂõûÂÄºÔºåËøîÂõûÂÄºÈÄöËøáFutureTaskÂ∞ÅË£ÖÂÜçÁªôThreadÂÆû‰æãÔºåËÄåRunnableÂÆû‰æãÁõ¥Êé•ÁªôThread ÂÆû‰æãÂÆûÁé∞„ÄÇ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118package pers.lxl.mylearnproject.javase.thread;import java.util.concurrent.Callable;import java.util.concurrent.ExecutionException;import java.util.concurrent.FutureTask;/** * Âø´ÈÄü‰∫§ÊõøÊâßË°åÁúãËµ∑Êù•ÂÉèÊòØÂêåÊó∂ÊâßË°å * ËøõÁ®ãÂíåÁ∫øÁ®ãÁöÑÂÖ≥Á≥ªÔºö‰∏Ä‰∏™ËøõÁ®ãÂèØ‰ª•ÂåÖÂê´‰∏Ä‰∏™ÊàñÂ§ö‰∏™Á∫øÁ®ãÔºå‰ΩÜËá≥Â∞ë‰ºöÊúâ‰∏Ä‰∏™Á∫øÁ®ã * Â§öËøõÁ®ãÊ®°ÂºèÔºàÊØè‰∏™ËøõÁ®ãÂè™Êúâ‰∏Ä‰∏™Á∫øÁ®ãÔºâ * Â§öÁ∫øÁ®ãÊ®°ÂºèÔºà‰∏Ä‰∏™ËøõÁ®ãÊúâÂ§ö‰∏™Á∫øÁ®ãÔºâ * Â§öËøõÁ®ãÔºãÂ§öÁ∫øÁ®ãÊ®°ÂºèÔºàÂ§çÊùÇÂ∫¶ÊúÄÈ´òÔºâ * ÂíåÂ§öÁ∫øÁ®ãÁõ∏ÊØîÔºåÂ§öËøõÁ®ãÁöÑÁº∫ÁÇπÂú®‰∫éÔºö * ÂàõÂª∫ËøõÁ®ãÊØîÂàõÂª∫Á∫øÁ®ãÂºÄÈîÄÂ§ßÔºåÂ∞§ÂÖ∂ÊòØÂú®WindowsÁ≥ªÁªü‰∏äÔºõ * ËøõÁ®ãÈó¥ÈÄö‰ø°ÊØîÁ∫øÁ®ãÈó¥ÈÄö‰ø°Ë¶ÅÊÖ¢ÔºåÂõ†‰∏∫Á∫øÁ®ãÈó¥ÈÄö‰ø°Â∞±ÊòØËØªÂÜôÂêå‰∏Ä‰∏™ÂèòÈáèÔºåÈÄüÂ∫¶ÂæàÂø´„ÄÇ * Â§öËøõÁ®ãÁöÑ‰ºòÁÇπÂú®‰∫éÔºö * Â§öËøõÁ®ãÁ®≥ÂÆöÊÄßÊØîÂ§öÁ∫øÁ®ãÈ´òÔºåÂõ†‰∏∫Âú®Â§öËøõÁ®ãÁöÑÊÉÖÂÜµ‰∏ãÔºå‰∏Ä‰∏™ËøõÁ®ãÂ¥©Ê∫É‰∏ç‰ºöÂΩ±ÂìçÂÖ∂‰ªñËøõÁ®ãÔºåËÄåÂú®Â§öÁ∫øÁ®ãÁöÑÊÉÖÂÜµ‰∏ãÔºå‰ªª‰Ωï‰∏Ä‰∏™Á∫øÁ®ãÂ¥©Ê∫É‰ºöÁõ¥Êé•ÂØºËá¥Êï¥‰∏™ËøõÁ®ãÂ¥©Ê∫É„ÄÇ * JavaËØ≠Ë®ÄÂÜÖÁΩÆ‰∫ÜÂ§öÁ∫øÁ®ãÊîØÊåÅÔºö‰∏Ä‰∏™JavaÁ®ãÂ∫èÂÆûÈôÖ‰∏äÊòØ‰∏Ä‰∏™JVMËøõÁ®ãÔºåJVMËøõÁ®ãÁî®‰∏Ä‰∏™‰∏ªÁ∫øÁ®ãÊù•ÊâßË°åmain()ÊñπÊ≥ïÔºåÂú®main()ÊñπÊ≥ïÂÜÖÈÉ®ÔºåÊàë‰ª¨ÂèàÂèØ‰ª•ÂêØÂä®Â§ö‰∏™Á∫øÁ®ã„ÄÇÊ≠§Â§ñÔºåJVMËøòÊúâË¥üË¥£ÂûÉÂúæÂõûÊî∂ÁöÑÂÖ∂‰ªñÂ∑•‰ΩúÁ∫øÁ®ãÁ≠â„ÄÇ * Âõ†Ê≠§ÔºåÂØπ‰∫éÂ§ßÂ§öÊï∞JavaÁ®ãÂ∫èÊù•ËØ¥ÔºåÊàë‰ª¨ËØ¥Â§ö‰ªªÂä°ÔºåÂÆûÈôÖ‰∏äÊòØËØ¥Â¶Ç‰Ωï‰ΩøÁî®Â§öÁ∫øÁ®ãÂÆûÁé∞Â§ö‰ªªÂä°„ÄÇ * ÂíåÂçïÁ∫øÁ®ãÁõ∏ÊØîÔºåÂ§öÁ∫øÁ®ãÁºñÁ®ãÁöÑÁâπÁÇπÂú®‰∫éÔºöÂ§öÁ∫øÁ®ãÁªèÂ∏∏ÈúÄË¶ÅËØªÂÜôÂÖ±‰∫´Êï∞ÊçÆÔºåÂπ∂‰∏îÈúÄË¶ÅÂêåÊ≠•„ÄÇ‰æãÂ¶ÇÔºåÊí≠ÊîæÁîµÂΩ±Êó∂ÔºåÂ∞±ÂøÖÈ°ªÁî±‰∏Ä‰∏™Á∫øÁ®ãÊí≠ÊîæËßÜÈ¢ëÔºåÂè¶‰∏Ä‰∏™Á∫øÁ®ãÊí≠ÊîæÈü≥È¢ëÔºå‰∏§‰∏™Á∫øÁ®ãÈúÄË¶ÅÂçèË∞ÉËøêË°åÔºåÂê¶ÂàôÁîªÈù¢ÂíåÂ£∞Èü≥Â∞±‰∏çÂêåÊ≠•„ÄÇÂõ†Ê≠§ÔºåÂ§öÁ∫øÁ®ãÁºñÁ®ãÁöÑÂ§çÊùÇÂ∫¶È´òÔºåË∞ÉËØïÊõ¥Âõ∞Èöæ„ÄÇ * JavaÂ§öÁ∫øÁ®ãÁºñÁ®ãÁöÑÁâπÁÇπÂèàÂú®‰∫éÔºö * Â§öÁ∫øÁ®ãÊ®°ÂûãÊòØJavaÁ®ãÂ∫èÊúÄÂü∫Êú¨ÁöÑÂπ∂ÂèëÊ®°ÂûãÔºõ * ÂêéÁª≠ËØªÂÜôÁΩëÁªú„ÄÅÊï∞ÊçÆÂ∫ì„ÄÅWebÂºÄÂèëÁ≠âÈÉΩ‰æùËµñJavaÂ§öÁ∫øÁ®ãÊ®°Âûã„ÄÇ * * @author lxl **/public class HelloClass { //Â∏åÊúõÊñ∞Á∫øÁ®ãËÉΩÊâßË°åÊåáÂÆöÁöÑ‰ª£Á†ÅÔºåÊúâ‰ª•‰∏ãÂá†ÁßçÊñπÊ≥ïÔºö /** * ÊñπÊ≥ï‰∏ÄÔºö‰ªéThreadÊ¥æÁîü‰∏Ä‰∏™Ëá™ÂÆö‰πâÁ±ªÔºåÁÑ∂ÂêéË¶ÜÂÜôrun()ÊñπÊ≥ïÔºåÂêØÂä®ÔºöÂ≠êÁ±ªÂØπË±°.start(),‰∏∫ÈÅøÂÖçOOPÂçïÁªßÊâøÂ±ÄÈôêÊÄßÔºå‰∏çÂª∫ËÆÆ‰ΩøÁî® */ static class MyThread extends Thread { @Override public void run() { System.out.println(&quot;start new thread!extends Thread&quot;); } } /** * ÊñπÊ≥ï‰∫åÔºöÂàõÂª∫ThreadÂÆû‰æãÊó∂Ôºå‰º†ÂÖ•‰∏Ä‰∏™RunnableÂÆû‰æãÔºöÂêØÂä®Ôºö‰º†ÂÖ•ÁõÆÊ†áÂØπË±°+ThreadÂØπË±°.start()ÔºåÂª∫ËÆÆ‰ΩøÁî®:ÈÅøÂÖçÂçïÁªßÊâøÂ±ÄÈôêÊÄßÔºåÁÅµÊ¥ªÊñπ‰æøÂêå‰∏Ä‰∏™ÂØπË±°Ë¢´Â§ö‰∏™Á∫øÁ®ã‰ΩøÁî® */ static class MyRunnable implements Runnable { @Override public void run() { System.out.println(&quot;start new thread!implements Runnable&quot;); try { Thread.sleep(10); } catch (InterruptedException e) { } System.out.println(&quot;thread end.&quot;); } } /** * ÊñπÊ≥ï‰∏âÔºöÂÆûÁé∞CallableÊé•Âè£,‰∏éRunnableÁõ∏ÊØî,CallableÂèØ‰ª•ÊúâËøîÂõûÂÄº,ËøîÂõûÂÄºÈÄöËøáFutureTask„ÄêÊú™Êù•‰ªªÂä°„ÄëËøõË°åÂ∞ÅË£Ö */ static class MyCallable implements Callable&lt;Integer&gt; { @Override public Integer call() { return 123; } }//Áõ∏ÊØî‰πã‰∏ã,Êé•Âè£ÂèØ‰ª•ÂÆûÁé∞Â§ö‰∏™,ËÄåThreadÂè™ËÉΩÂçïÁªßÊâø,// ÁªßÊâøÊï¥‰∏™ThreaÁ±ªÂºÄÈîÄËøáÂ§ß,ÊâÄ‰ª•ÂÆûÁé∞Êé•Âè£ÊñπÂºèÊõ¥Â•Ω‰∏Ä‰∫õ /** * ÂΩìJavaÁ®ãÂ∫èÂêØÂä®ÁöÑÊó∂ÂÄôÔºåÂÆûÈôÖ‰∏äÊòØÂêØÂä®‰∫Ü‰∏Ä‰∏™JVMËøõÁ®ãÔºåÁÑ∂ÂêéÔºåJVMÂêØÂä®‰∏ªÁ∫øÁ®ãÊù•ÊâßË°åmain()ÊñπÊ≥ï„ÄÇÂú®main()ÊñπÊ≥ï‰∏≠ÔºåÊàë‰ª¨ÂèàÂèØ‰ª•ÂêØÂä®ÂÖ∂‰ªñÁ∫øÁ®ã„ÄÇ */ public static void main(String[] args) throws ExecutionException, InterruptedException { //ÂàõÂª∫Êñ∞Á∫øÁ®ã System.out.println(&quot;main start...&quot;); //Thread thread = new Thread();//‰∏çËÉΩÊâßË°åÊåáÂÆö‰ª£Á†Å//extends Thread============== // Thread thread = new MyThread();//implements Callable============= MyCallable mc = new MyCallable(); FutureTask&lt;Integer&gt; ft = new FutureTask&lt;&gt;(mc); Thread thread1 = new Thread(ft); thread1.start(); System.out.println(ft.get());//lambda Callbale FutureTask&lt;Integer&gt; futureTask2 = new FutureTask&lt;&gt;(()-&gt;{ System.out.println(Thread.currentThread().getName()+&quot;come in callbale&quot;); return 111; }); new thread(futureTask2,&quot;hahha&quot;).start();//hahha come in callbale while(!futuretask2.isDone()){ System.out.println(&quot;wait....&quot;) } System.out.println(futureTask2.get());//111//implements Runnable=============== Thread thread = new Thread(new MyRunnable()); //Thread thread = new Thread(() -&gt; {System.out.println(&quot;start new thread!&quot;); });//Java8ÂºïÂÖ•ÁöÑlambdaÂÜôÊ≥ï thread.start();// ÂêØÂä®Êñ∞Á∫øÁ®ãÔºåÁõ¥Êé•Ë∞ÉÁî®ThreadÂÆû‰æãÁöÑrun()ÊñπÊ≥ïÊòØÊó†ÊïàÁöÑÔºåÁ∫øÁ®ãÂºÄÂêØ‰∏ç‰∏ÄÂÆöÁ´ãÂç≥ÊâßË°åÔºåÁî±CPUË∞ÉÂ∫¶ÂÜ≥ÂÆö// Thread.setPriority(int n) // 1~10, ÈªòËÆ§ÂÄº5 try { Thread.sleep(20);// sleep() ÂèØËÉΩ‰ºöÊäõÂá∫ InterruptedExceptionÔºåÂõ†‰∏∫ÂºÇÂ∏∏‰∏çËÉΩË∑®Á∫øÁ®ã‰º†Êí≠Âõû main() ‰∏≠ÔºåÂõ†Ê≠§ÂøÖÈ°ªÂú®Êú¨Âú∞ËøõË°åÂ§ÑÁêÜ„ÄÇÁ∫øÁ®ã‰∏≠ÊäõÂá∫ÁöÑÂÖ∂ÂÆÉÂºÇÂ∏∏‰πüÂêåÊ†∑ÈúÄË¶ÅÂú®Êú¨Âú∞ËøõË°åÂ§ÑÁêÜ„ÄÇ } catch (InterruptedException e) { } System.out.println(&quot;main end...&quot;); }} Á∫øÁ®ãÁöÑÁä∂ÊÄÅ Âú®JavaÁ®ãÂ∫è‰∏≠Ôºå‰∏Ä‰∏™Á∫øÁ®ãÂØπË±°Âè™ËÉΩË∞ÉÁî®‰∏ÄÊ¨°start()ÊñπÊ≥ïÂêØÂä®Êñ∞Á∫øÁ®ãÔºåÂπ∂Âú®Êñ∞Á∫øÁ®ã‰∏≠ÊâßË°årun()ÊñπÊ≥ï„ÄÇ‰∏ÄÊó¶run()ÊñπÊ≥ïÊâßË°åÂÆåÊØïÔºåÁ∫øÁ®ãÂ∞±ÁªìÊùü‰∫Ü„ÄÇÂõ†Ê≠§ÔºåJavaÁ∫øÁ®ãÁöÑÁä∂ÊÄÅÊúâ‰ª•‰∏ãÂá†ÁßçÔºö NewÔºöÊñ∞ÂàõÂª∫ÁöÑÁ∫øÁ®ãÔºåÂ∞öÊú™ÊâßË°åÔºõ RunnableÔºöËøêË°å‰∏≠ÁöÑÁ∫øÁ®ãÔºåÊ≠£Âú®ÊâßË°årun()ÊñπÊ≥ïÁöÑJava‰ª£Á†ÅÔºõ BlockedÔºöËøêË°å‰∏≠ÁöÑÁ∫øÁ®ãÔºåÂõ†‰∏∫Êüê‰∫õÊìç‰ΩúË¢´ÈòªÂ°ûËÄåÊåÇËµ∑Ôºõ WaitingÔºà‰∏çËßÅ‰∏çÊï£ÔºâÔºöËøêË°å‰∏≠ÁöÑÁ∫øÁ®ãÔºåÂõ†‰∏∫Êüê‰∫õÊìç‰ΩúÂú®Á≠âÂæÖ‰∏≠Ôºõ Timed WaitingÔºàËøáÊó∂‰∏çÂÄôÔºâÔºöËøêË°å‰∏≠ÁöÑÁ∫øÁ®ãÔºåÂõ†‰∏∫ÊâßË°åsleep()ÊñπÊ≥ïÊ≠£Âú®ËÆ°Êó∂Á≠âÂæÖÔºõ TerminatedÔºöÁ∫øÁ®ãÂ∑≤ÁªàÊ≠¢ÔºåÂõ†‰∏∫run()ÊñπÊ≥ïÊâßË°åÂÆåÊØï„ÄÇ Á∫øÁ®ãÁªàÊ≠¢ÁöÑÂéüÂõ†ÊúâÔºö Á∫øÁ®ãÊ≠£Â∏∏ÁªàÊ≠¢Ôºörun()ÊñπÊ≥ïÊâßË°åÂà∞returnËØ≠Âè•ËøîÂõûÔºõ Á∫øÁ®ãÊÑèÂ§ñÁªàÊ≠¢Ôºörun()ÊñπÊ≥ïÂõ†‰∏∫Êú™ÊçïËé∑ÁöÑÂºÇÂ∏∏ÂØºËá¥Á∫øÁ®ãÁªàÊ≠¢Ôºõ ÂØπÊüê‰∏™Á∫øÁ®ãÁöÑThreadÂÆû‰æãË∞ÉÁî®stop()ÊñπÊ≥ïÂº∫Âà∂ÁªàÊ≠¢ÔºàÂº∫ÁÉà‰∏çÊé®Ëçê‰ΩøÁî®Ôºâ„ÄÇ ÈÄöËøáÂØπÂè¶‰∏Ä‰∏™Á∫øÁ®ãÂØπË±°Ë∞ÉÁî®join()ÊñπÊ≥ïÂèØ‰ª•Á≠âÂæÖÂÖ∂ÊâßË°åÁªìÊùüÔºõ ÂèØ‰ª•ÊåáÂÆöÁ≠âÂæÖÊó∂Èó¥ÔºåË∂ÖËøáÁ≠âÂæÖÊó∂Èó¥Á∫øÁ®ã‰ªçÁÑ∂Ê≤°ÊúâÁªìÊùüÂ∞±‰∏çÂÜçÁ≠âÂæÖÔºõ ÂØπÂ∑≤ÁªèËøêË°åÁªìÊùüÁöÑÁ∫øÁ®ãË∞ÉÁî®join()ÊñπÊ≥ï‰ºöÁ´ãÂàªËøîÂõû„ÄÇ ‰∏≠Êñ≠Á∫øÁ®ã ÂØπÁõÆÊ†áÁ∫øÁ®ãË∞ÉÁî®interrupt()ÊñπÊ≥ïÂèØ‰ª•ËØ∑Ê±Ç‰∏≠Êñ≠‰∏Ä‰∏™Á∫øÁ®ãÔºåÁõÆÊ†áÁ∫øÁ®ãÈÄöËøáÊ£ÄÊµãisInterrupted()Ê†áÂøóËé∑ÂèñËá™Ë∫´ÊòØÂê¶Â∑≤‰∏≠Êñ≠„ÄÇÂ¶ÇÊûúÁõÆÊ†áÁ∫øÁ®ãÂ§Ñ‰∫éÁ≠âÂæÖÁä∂ÊÄÅÔºåËØ•Á∫øÁ®ã‰ºöÊçïËé∑Âà∞InterruptedExceptionÔºõ ÁõÆÊ†áÁ∫øÁ®ãÊ£ÄÊµãÂà∞isInterrupted()‰∏∫trueÊàñËÄÖÊçïËé∑‰∫ÜInterruptedExceptionÈÉΩÂ∫îËØ•Á´ãÂàªÁªìÊùüËá™Ë∫´Á∫øÁ®ãÔºõ ÈÄöËøáÊ†áÂøó‰ΩçÂà§Êñ≠ÈúÄË¶ÅÊ≠£Á°Æ‰ΩøÁî®volatileÂÖ≥ÈîÆÂ≠óÔºõ volatileÂÖ≥ÈîÆÂ≠óËß£ÂÜ≥‰∫ÜÂÖ±‰∫´ÂèòÈáèÂú®Á∫øÁ®ãÈó¥ÁöÑÂèØËßÅÊÄßÈóÆÈ¢ò„ÄÇ Á∫øÁ®ãÂ±ûÊÄß Á∫øÁ®ã‰ºòÂÖàÁ∫ß setPriority ÂÆàÊä§Á∫øÁ®ã ÂÆàÊä§Á∫øÁ®ãÊòØÊåá‰∏∫ÂÖ∂‰ªñÁ∫øÁ®ãÊúçÂä°ÁöÑÁ∫øÁ®ã„ÄÇÂú®JVM‰∏≠ÔºåÊâÄÊúâÈùûÂÆàÊä§Á∫øÁ®ãÈÉΩÊâßË°åÂÆåÊØïÂêéÔºåÊó†ËÆ∫ÊúâÊ≤°ÊúâÂÆàÊä§Á∫øÁ®ãÔºåËôöÊãüÊú∫ÈÉΩ‰ºöËá™Âä®ÈÄÄÂá∫„ÄÇÂõ†Ê≠§ÔºåJVMÈÄÄÂá∫Êó∂Ôºå‰∏çÂøÖÂÖ≥ÂøÉÂÆàÊä§Á∫øÁ®ãÊòØÂê¶Â∑≤ÁªìÊùü„ÄÇÂ¶Ç‰ΩïÂàõÂª∫ÂÆàÊä§Á∫øÁ®ãÂë¢ÔºüÊñπÊ≥ïÂíåÊôÆÈÄöÁ∫øÁ®ã‰∏ÄÊ†∑ÔºåÂè™ÊòØÂú®Ë∞ÉÁî®start()ÊñπÊ≥ïÂâçÔºåË∞ÉÁî®setDaemon(true)ÊääËØ•Á∫øÁ®ãÊ†áËÆ∞‰∏∫ÂÆàÊä§Á∫øÁ®ãÔºö ÂÆàÊä§Á∫øÁ®ã‰∏çËÉΩÊåÅÊúâ‰ªª‰ΩïÈúÄË¶ÅÂÖ≥Èó≠ÁöÑËµÑÊ∫êÔºå‰æãÂ¶ÇÊâìÂºÄÊñá‰ª∂Á≠âÔºåÂõ†‰∏∫ËôöÊãüÊú∫ÈÄÄÂá∫Êó∂ÔºåÂÆàÊä§Á∫øÁ®ãÊ≤°Êúâ‰ªª‰ΩïÊú∫‰ºöÊù•ÂÖ≥Èó≠Êñá‰ª∂ÔºåËøô‰ºöÂØºËá¥Êï∞ÊçÆ‰∏¢Â§±„ÄÇ Â∫îÁî®ÔºöJVMÂûÉÂúæÂõûÊî∂„ÄÅ‰∫ã‰ª∂ÁõëÂê¨„ÄÅÂøÉË∑≥ÁõëÊµã Thread t = new MyThread(); //Ë∞ÉÁî®start()ÊñπÊ≥ïÂâçÔºåË∞ÉÁî®setDaemon(true)ÊääËØ•Á∫øÁ®ãÊ†áËÆ∞‰∏∫ÂÆàÊä§Á∫øÁ®ã t.setDaemon(true); //ÂÆàÊä§Á∫øÁ®ã‰∏çËÉΩÊåÅÊúâ‰ªª‰ΩïÈúÄË¶ÅÂÖ≥Èó≠ÁöÑËµÑÊ∫êÔºå‰æãÂ¶ÇÊâìÂºÄÊñá‰ª∂Á≠âÔºåÂõ†‰∏∫ËôöÊãüÊú∫ÈÄÄÂá∫Êó∂ÔºåÂÆàÊä§Á∫øÁ®ãÊ≤°Êúâ‰ªª‰ΩïÊú∫‰ºöÊù•ÂÖ≥Èó≠Êñá‰ª∂ÔºåËøô‰ºöÂØºËá¥Êï∞ÊçÆ‰∏¢Â§±„ÄÇ t.start(); //Âà§Êñ≠ÊòØÂê¶‰∏∫ÂÆàÊä§Á∫øÁ®ã System.out.println(t.isDaemon()); 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879808182838485868788### Á∫øÁ®ãÁªÑ### Â§ÑÁêÜÊú™ÊçïËé∑ÂºÇÂ∏∏Â§ÑÁêÜÂô®## Â§öÁ∫øÁ®ãÁºñÁ®ãÊ≠•È™§1. ÂàõÂª∫ËµÑÊ∫êÁ±ªÔºåÂú®ËµÑÊ∫êÁ±ªÂàõÂª∫Â±ûÊÄßÂíåÊìç‰ΩúÊñπÊ≥ï2. Âú®ËµÑÊ∫êÁ±ª‰∏≠Ê∑ªÂä†Êìç‰ΩúÊñπÊ≥ï„ÄêÂà§Êñ≠„ÄÅÂπ≤Ê¥ª„ÄÅÈÄöÁü•„Äë3. ÂàõÂª∫Â§ö‰∏™Á∫øÁ®ãÔºåË∞ÉÁî®ËµÑÊ∫êÁ±ªÁöÑÊìç‰ΩúÊñπÊ≥ï## synchronizedsynchronizedÊòØJava‰∏≠ÁöÑÂÖ≥ÈîÆÂ≠óÔºåÊòØ‰∏ÄÁßç**ÂêåÊ≠•ÈîÅ**„ÄÇÂÆÉ‰øÆÈ•∞ÁöÑÂØπË±°Êúâ‰ª•‰∏ãÂá†ÁßçÔºö1. ‰øÆÈ•∞‰∏Ä‰∏™**‰ª£Á†ÅÂùó**ÔºåË¢´‰øÆÈ•∞ÁöÑ‰ª£Á†ÅÂùóÁß∞‰∏∫ÂêåÊ≠•ËØ≠Âè•ÂùóÔºåÂÖ∂‰ΩúÁî®ÁöÑËåÉÂõ¥ÊòØÂ§ßÊã¨Âè∑{}Êã¨Ëµ∑Êù•ÁöÑ‰ª£Á†ÅÔºå‰ΩúÁî®ÁöÑÂØπË±°ÊòØË∞ÉÁî®Ëøô‰∏™‰ª£Á†ÅÂùóÁöÑÂØπË±°Ôºõ2. ‰øÆÈ•∞‰∏Ä‰∏™**ÊñπÊ≥ï**ÔºåË¢´‰øÆÈ•∞ÁöÑÊñπÊ≥ïÁß∞‰∏∫ÂêåÊ≠•ÊñπÊ≥ïÔºåÂÖ∂‰ΩúÁî®ÁöÑËåÉÂõ¥ÊòØÊï¥‰∏™ÊñπÊ≥ïÔºå‰ΩúÁî®ÁöÑÂØπË±°ÊòØË∞ÉÁî®Ëøô‰∏™ÊñπÊ≥ïÁöÑÂØπË±°ÔºõËôΩÁÑ∂ÂèØ‰ª•‰ΩøÁî®synchronizedÊù•ÂÆö‰πâÊñπÊ≥ïÔºå‰ΩÜsynchronizedÂπ∂‰∏çÂ±û‰∫éÊñπÊ≥ïÂÆö‰πâÁöÑ‰∏ÄÈÉ®ÂàÜÔºåÂõ†Ê≠§ÔºåsynchronizedÂÖ≥ÈîÆÂ≠ó**‰∏çËÉΩË¢´ÁªßÊâø**„ÄÇÂ¶ÇÊûúÂú®Áà∂Á±ª‰∏≠ÁöÑÊüê‰∏™ÊñπÊ≥ï‰ΩøÁî®‰∫ÜsynchronizedÂÖ≥ÈîÆÂ≠óÔºåËÄåÂú®Â≠êÁ±ª‰∏≠Ë¶ÜÁõñ‰∫ÜËøô‰∏™ÊñπÊ≥ïÔºåÂú®Â≠êÁ±ª‰∏≠ÁöÑËøô‰∏™ÊñπÊ≥ïÈªòËÆ§ÊÉÖÂÜµ‰∏ãÂπ∂‰∏çÊòØÂêåÊ≠•ÁöÑÔºåËÄåÂøÖÈ°ªÊòæÂºèÂú∞Âú®Â≠êÁ±ªÁöÑËøô‰∏™ÊñπÊ≥ï‰∏≠Âä†‰∏äsynchronizedÂÖ≥ÈîÆÂ≠óÊâçÂèØ‰ª•„ÄÇÂΩìÁÑ∂ÔºåËøòÂèØ‰ª•Âú®Â≠êÁ±ªÊñπÊ≥ï‰∏≠Ë∞ÉÁî®Áà∂Á±ª‰∏≠Áõ∏Â∫îÁöÑÊñπÊ≥ïÔºåËøôÊ†∑ËôΩÁÑ∂Â≠êÁ±ª‰∏≠ÁöÑÊñπÊ≥ï‰∏çÊòØÂêåÊ≠•ÁöÑÔºå‰ΩÜÂ≠êÁ±ªË∞ÉÁî®‰∫ÜÁà∂Á±ªÁöÑÂêåÊ≠•ÊñπÊ≥ïÔºåÂõ†Ê≠§ÔºåÂ≠êÁ±ªÁöÑÊñπÊ≥ï‰πüÂ∞±Áõ∏ÂΩì‰∫éÂêåÊ≠•‰∫Ü„ÄÇ3. ‰øÆÈ•∞‰∏Ä‰∏™**ÈùôÊÄÅÁöÑÊñπÊ≥ï**ÔºåÂÖ∂‰ΩúÁî®ÁöÑËåÉÂõ¥ÊòØÊï¥‰∏™ÈùôÊÄÅÊñπÊ≥ïÔºå‰ΩúÁî®ÁöÑÂØπË±°ÊòØËøô‰∏™Á±ªÁöÑÊâÄÊúâÂØπË±°Ôºõ4. ‰øÆÈ•∞‰∏Ä‰∏™**Á±ª**ÔºåÂÖ∂‰ΩúÁî®ÁöÑËåÉÂõ¥ÊòØsynchronizedÂêéÈù¢Êã¨Âè∑Êã¨Ëµ∑Êù•ÁöÑÈÉ®ÂàÜÔºå‰ΩúÁî®‰∏ªÁöÑÂØπË±°ÊòØËøô‰∏™Á±ªÁöÑÊâÄÊúâÂØπË±°„ÄÇ‚Äã ‰∏Ä‰∏™ÂØπË±°ÈáåÈù¢Â¶ÇÊûúÊúâÂ§ö‰∏™synchronizedÊñπÊ≥ïÔºåÊüê‰∏Ä‰∏™Êó∂ÂàªÂÜÖÔºåÂè™Ë¶Å‰∏Ä‰∏™Á∫øÁ®ãÂéªË∞ÉÁî®ÂÖ∂‰∏≠ÁöÑ‰∏Ä‰∏™synchronizedÊñπÊ≥ï‰∫ÜÔºåÂÖ∂ÂÆÉÁöÑÁ∫øÁ®ãÈÉΩÂè™ËÉΩÁ≠âÂæÖÔºåÊç¢Âè•ËØùËØ¥ÔºåÊüê‰∏Ä‰∏™Êó∂ÂàªÂÜÖÔºåÂè™ËÉΩÊúâÂîØ‰∏Ä‰∏Ä‰∏™Á∫øÁ®ãÂéªËÆøÈóÆËøô‰∫õsynchronizedÊñπÊ≥ïÔºåÈîÅÁöÑÊòØÂΩìÂâçÂØπË±°thisÔºåË¢´ÈîÅÂÆöÂêéÔºåÂÖ∂ÂÆÉÁöÑÁ∫øÁ®ãÈÉΩ‰∏çËÉΩËøõÂÖ•Âà∞ÂΩìÂâçÂØπË±°ÁöÑÂÖ∂ÂÆÉÁöÑsynchronizedÊñπÊ≥ïÔºåÂä†‰∏™ÊôÆÈÄöÊñπÊ≥ïÂêéÂèëÁé∞ÂíåÂêåÊ≠•ÈîÅÊó†ÂÖ≥ÔºåÊç¢Êàê‰∏§‰∏™ÂØπË±°ÂêéÔºå‰∏çÊòØÂêå‰∏ÄÊääÈîÅ‰∫ÜÔºåÊÉÖÂÜµÁ´ãÂàªÂèòÂåñ„ÄÇsynchronizedÂÆûÁé∞ÂêåÊ≠•ÁöÑÂü∫Á°ÄÔºöJava‰∏≠ÁöÑÊØè‰∏Ä‰∏™ÂØπË±°ÈÉΩÂèØ‰ª•‰Ωú‰∏∫ÈîÅ„ÄÇ**ÂÖ∑‰ΩìË°®Áé∞‰∏∫‰ª•‰∏ã3ÁßçÂΩ¢Âºè„ÄÇ****ÂØπ‰∫éÊôÆÈÄöÂêåÊ≠•ÊñπÊ≥ïÔºåÈîÅÊòØÂΩìÂâçÂÆû‰æãÂØπË±°„ÄÇ****ÂØπ‰∫éÈùôÊÄÅÂêåÊ≠•ÊñπÊ≥ïÔºåÈîÅÊòØÂΩìÂâçÁ±ªÁöÑClassÂØπË±°„ÄÇ****ÂØπ‰∫éÂêåÊ≠•ÊñπÊ≥ïÂùóÔºåÈîÅÊòØSynchonizedÊã¨Âè∑ÈáåÈÖçÁΩÆÁöÑÂØπË±°**‚Äã ÂΩì‰∏Ä‰∏™Á∫øÁ®ãËØïÂõæËÆøÈóÆÂêåÊ≠•‰ª£Á†ÅÂùóÊó∂ÔºåÂÆÉÈ¶ñÂÖàÂøÖÈ°ªÂæóÂà∞ÈîÅÔºåÈÄÄÂá∫ÊàñÊäõÂá∫ÂºÇÂ∏∏Êó∂ÂøÖÈ°ªÈáäÊîæÈîÅ„ÄÇ‰πüÂ∞±ÊòØËØ¥Â¶ÇÊûú‰∏Ä‰∏™ÂÆû‰æãÂØπË±°ÁöÑÈùûÈùôÊÄÅÂêåÊ≠•ÊñπÊ≥ïËé∑ÂèñÈîÅÂêéÔºåËØ•ÂÆû‰æãÂØπË±°ÁöÑÂÖ∂‰ªñÈùûÈùôÊÄÅÂêåÊ≠•ÊñπÊ≥ïÂøÖÈ°ªÁ≠âÂæÖËé∑ÂèñÈîÅÁöÑÊñπÊ≥ïÈáäÊîæÈîÅÂêéÊâçËÉΩËé∑ÂèñÈîÅÔºåÂèØÊòØÂà´ÁöÑÂÆû‰æãÂØπË±°ÁöÑÈùûÈùôÊÄÅÂêåÊ≠•ÊñπÊ≥ïÂõ†‰∏∫Ë∑üËØ•ÂÆû‰æãÂØπË±°ÁöÑÈùûÈùôÊÄÅÂêåÊ≠•ÊñπÊ≥ïÁî®ÁöÑÊòØ‰∏çÂêåÁöÑÈîÅÔºåÊâÄ‰ª•ÊØãÈ°ªÁ≠âÂæÖËØ•ÂÆû‰æãÂØπË±°Â∑≤Ëé∑ÂèñÈîÅÁöÑÈùûÈùôÊÄÅÂêåÊ≠•ÊñπÊ≥ïÈáäÊîæÈîÅÂ∞±ÂèØ‰ª•Ëé∑Âèñ‰ªñ‰ª¨Ëá™Â∑±ÁöÑÈîÅ„ÄÇÊâÄÊúâÁöÑÈùôÊÄÅÂêåÊ≠•ÊñπÊ≥ïÁî®ÁöÑ‰πüÊòØÂêå‰∏ÄÊääÈîÅ‚Äî‚ÄîÁ±ªÂØπË±°Êú¨Ë∫´ÔºåËøô‰∏§ÊääÈîÅÊòØ‰∏§‰∏™‰∏çÂêåÁöÑÂØπË±°ÔºåÊâÄ‰ª•**ÈùôÊÄÅÂêåÊ≠•ÊñπÊ≥ï‰∏éÈùûÈùôÊÄÅÂêåÊ≠•ÊñπÊ≥ï‰πãÈó¥ÊòØ‰∏ç‰ºöÊúâÁ´ûÊÄÅÊù°‰ª∂ÁöÑ„ÄÇ**‚Äã ‰ΩÜÊòØ‰∏ÄÊó¶‰∏Ä‰∏™ÈùôÊÄÅÂêåÊ≠•ÊñπÊ≥ïËé∑ÂèñÈîÅÂêéÔºåÂÖ∂‰ªñÁöÑÈùôÊÄÅÂêåÊ≠•ÊñπÊ≥ïÈÉΩÂøÖÈ°ªÁ≠âÂæÖËØ•ÊñπÊ≥ïÈáäÊîæÈîÅÂêéÊâçËÉΩËé∑ÂèñÈîÅÔºåËÄå‰∏çÁÆ°ÊòØÂêå‰∏Ä‰∏™ÂÆû‰æãÂØπË±°ÁöÑÈùôÊÄÅÂêåÊ≠•ÊñπÊ≥ï‰πãÈó¥ÔºåËøòÊòØ‰∏çÂêåÁöÑÂÆû‰æãÂØπË±°ÁöÑÈùôÊÄÅÂêåÊ≠•ÊñπÊ≥ï‰πãÈó¥ÔºåÂè™Ë¶ÅÂÆÉ‰ª¨Âêå‰∏Ä‰∏™Á±ªÁöÑÂÆû‰æãÂØπË±°ÔºÅ## Á∫øÁ®ãÂêåÊ≠•- Â§öÁ∫øÁ®ãÂêåÊó∂ËØªÂÜôÂÖ±‰∫´ÂèòÈáèÊó∂Ôºå‰ºöÈÄ†ÊàêÈÄªËæëÈîôËØØÔºåÂõ†Ê≠§ÈúÄË¶ÅÈÄöËøásynchronizedÂêåÊ≠•ÔºõÂêåÊ≠•ÁöÑÊú¨Ë¥®Â∞±ÊòØÁªôÊåáÂÆöÂØπË±°Âä†ÈîÅÔºåÂä†ÈîÅÂêéÊâçËÉΩÁªßÁª≠ÊâßË°åÂêéÁª≠‰ª£Á†ÅÔºõÊ≥®ÊÑèÂä†ÈîÅÂØπË±°ÂøÖÈ°ªÊòØÂêå‰∏Ä‰∏™ÂÆû‰æãÔºõÂØπJVMÂÆö‰πâÁöÑÂçï‰∏™ÂéüÂ≠êÊìç‰Ωú‰∏çÈúÄË¶ÅÂêåÊ≠•„ÄÇ## ÂêåÊ≠•ÊñπÊ≥ï- Áî®synchronized‰øÆÈ•∞ÊñπÊ≥ïÂèØ‰ª•ÊääÊï¥‰∏™ÊñπÊ≥ïÂèò‰∏∫ÂêåÊ≠•‰ª£Á†ÅÂùóÔºåsynchronizedÊñπÊ≥ïÂä†ÈîÅÂØπË±°ÊòØthisÔºõ ÈÄöËøáÂêàÁêÜÁöÑËÆæËÆ°ÂíåÊï∞ÊçÆÂ∞ÅË£ÖÂèØ‰ª•ËÆ©‰∏Ä‰∏™Á±ªÂèò‰∏∫‚ÄúÁ∫øÁ®ãÂÆâÂÖ®‚ÄùÔºõ ‰∏Ä‰∏™Á±ªÊ≤°ÊúâÁâπÊÆäËØ¥ÊòéÔºåÈªòËÆ§‰∏çÊòØthread-safeÔºõ Â§öÁ∫øÁ®ãËÉΩÂê¶ÂÆâÂÖ®ËÆøÈóÆÊüê‰∏™ÈùûÁ∫øÁ®ãÂÆâÂÖ®ÁöÑÂÆû‰æãÔºåÈúÄË¶ÅÂÖ∑‰ΩìÈóÆÈ¢òÂÖ∑‰ΩìÂàÜÊûê„ÄÇ## Ê≠ªÈîÅ- JavaÁöÑsynchronizedÈîÅÊòØÈöêÂºè„ÄêËá™Âä®‰∏äÈîÅËß£ÈîÅ„ÄëÁöÑ**ÂèØÈáçÂÖ•ÈîÅÔºàÈÄíÂΩíÈîÅÔºâ**ÔºåLockÊòØÊòæÂºèÁöÑÂèØÈáçÂÖ•ÈîÅÔºõÊ≠ªÈîÅ‰∫ßÁîüÁöÑÊù°‰ª∂ÊòØÂ§öÁ∫øÁ®ãÂêÑËá™ÊåÅÊúâ‰∏çÂêåÁöÑÈîÅÔºåÂπ∂‰∫íÁõ∏ËØïÂõæËé∑ÂèñÂØπÊñπÂ∑≤ÊåÅÊúâÁöÑÈîÅÔºåÂØºËá¥Êó†ÈôêÁ≠âÂæÖÔºõÈÅøÂÖçÊ≠ªÈîÅÁöÑÊñπÊ≥ïÊòØÂ§öÁ∫øÁ®ãËé∑ÂèñÈîÅÁöÑÈ°∫Â∫èË¶Å‰∏ÄËá¥„ÄÇ```javapackage com.atguigu.sync;import java.util.concurrent.TimeUnit;/** * ÊºîÁ§∫Ê≠ªÈîÅ */public class DeadLock { //ÂàõÂª∫‰∏§‰∏™ÂØπË±° static Object a = new Object(); static Object b = new Object(); public static void main(String[] args) { new Thread(()-&gt;{ synchronized (a) { System.out.println(Thread.currentThread().getName()+&quot; ÊåÅÊúâÈîÅaÔºåËØïÂõæËé∑ÂèñÈîÅb&quot;); try { TimeUnit.SECONDS.sleep(1); } catch (InterruptedException e) { e.printStackTrace(); } synchronized (b) { System.out.println(Thread.currentThread().getName()+&quot; Ëé∑ÂèñÈîÅb&quot;); } } },&quot;A&quot;).start(); new Thread(()-&gt;{ synchronized (b) { System.out.println(Thread.currentThread().getName()+&quot; ÊåÅÊúâÈîÅbÔºåËØïÂõæËé∑ÂèñÈîÅa&quot;); try { TimeUnit.SECONDS.sleep(1); } catch (InterruptedException e) { e.printStackTrace(); } synchronized (a) { System.out.println(Thread.currentThread().getName()+&quot; Ëé∑ÂèñÈîÅa&quot;); } } },&quot;B&quot;).start(); }} È™åËØÅÊòØÂê¶‰∏∫Ê≠ªÈîÅ ÈÖçÁΩÆJDKÁéØÂ¢ÉÂèòÈáè È°πÁõÆ‰∏≠ÊâìÂºÄÁªàÁ´Ø ËæìÂÖ•jps -l Êü•ÁúãÂΩìÂâçÁ±ªÁöÑËøõÁ®ãÂè∑ jstack -ËøõÁ®ãÂè∑ÂèØÊü•ÁúãÊòØÂê¶ÊúâÊ≠ªÈîÅÂèäÁõ∏ÂÖ≥‰ø°ÊÅØ ‰ΩøÁî®waitÂíånotify waitÂíånotifyÁî®‰∫éÂ§öÁ∫øÁ®ãÂçèË∞ÉËøêË°åÔºö Âú®synchronizedÂÜÖÈÉ®ÂèØ‰ª•Ë∞ÉÁî®wait()‰ΩøÁ∫øÁ®ãËøõÂÖ•Á≠âÂæÖÁä∂ÊÄÅÔºõ ÂøÖÈ°ªÂú®Â∑≤Ëé∑ÂæóÁöÑÈîÅÂØπË±°‰∏äË∞ÉÁî®wait()ÊñπÊ≥ïÔºõ Âú®synchronizedÂÜÖÈÉ®ÂèØ‰ª•Ë∞ÉÁî®notify()ÊàñnotifyAll()Âî§ÈÜíÂÖ∂‰ªñÁ≠âÂæÖÁ∫øÁ®ãÔºõ ÂøÖÈ°ªÂú®Â∑≤Ëé∑ÂæóÁöÑÈîÅÂØπË±°‰∏äË∞ÉÁî®notify()ÊàñnotifyAll()ÊñπÊ≥ïÔºõ Â∑≤Âî§ÈÜíÁöÑÁ∫øÁ®ãËøòÈúÄË¶ÅÈáçÊñ∞Ëé∑ÂæóÈîÅÂêéÊâçËÉΩÁªßÁª≠ÊâßË°å„ÄÇ ËôöÂÅáÂî§ÈÜí wait()Âú®Âì™ÈáåÁù°Â∞±Âú®ÈÇ£ÈáåÈÜí‰ΩøÁî®Êó∂Â∫î‰ΩøÁî®whileËÄå‰∏çÊòØif 123456if(num!=1){ this.wait(); //notifyAllÔºàÔºâÂî§ÈÜí‰πãÂêé‰ºöÁõ¥Êé•‰ªéthis.waitÔºàÔºâËØ≠Âè•ÂºÄÂßãÊâßË°åÔºåË∑≥Ëøá‰∫ÜifÂà§Êñ≠}while(num!=1){ this.wait();} ‰ΩøÁî®ReentrantLock ReentrantLockÂèØ‰ª•Êõø‰ª£synchronizedËøõË°åÂêåÊ≠•Ôºõ ReentrantLockËé∑ÂèñÈîÅÊõ¥ÂÆâÂÖ®Ôºõ ÂøÖÈ°ªÂÖàËé∑ÂèñÂà∞ÈîÅÔºåÂÜçËøõÂÖ•try {...}‰ª£Á†ÅÂùóÔºåÊúÄÂêé‰ΩøÁî®finally‰øùËØÅÈáäÊîæÈîÅÔºõ ÂèØ‰ª•‰ΩøÁî®tryLock()Â∞ùËØïËé∑ÂèñÈîÅ„ÄÇ ËÆæÁΩÆ‰∏∫ReentrantLockÔºàtrueÔºâ‰ΩøÂÖ∂Êàê‰∏∫ÂÖ¨Âπ≥ÈîÅ 123456789101112131415161718192021222324252627Lock lock = new ReentrantLock(); Thread t1 = new Thread() { @Override public void run() { try { log(&quot;Á∫øÁ®ãÂêØÂä®&quot;); log(&quot;ËØïÂõæÂç†ÊúâÂØπË±°Ôºölock&quot;); //lockÂêåÊ≠• lock.lock(); log(&quot;Âç†ÊúâÂØπË±°Ôºölock&quot;); log(&quot;ËøõË°å5ÁßíÁöÑ‰∏öÂä°Êìç‰Ωú&quot;); Thread.sleep(5000); } catch (InterruptedException e) { e.printStackTrace(); } finally { log(&quot;ÈáäÊîæÂØπË±°Ôºölock&quot;); //ÊâãÂä®ÈáäÊîæ lock.unlock(); } log(&quot;Á∫øÁ®ãÁªìÊùü&quot;); } }; t1.setName(&quot;t1&quot;); t1.start(); ‰ΩøÁî®Condition ConditionÂèØ‰ª•Êõø‰ª£waitÂíånotifyÔºõ ConditionÂØπË±°ÂøÖÈ°ª‰ªéLockÂØπË±°Ëé∑Âèñ„ÄÇ 12private Lock lock=new ReentrantLock();private Condition condition=lock.newCondition(); ÈîÅ ‰∏ÄÁßçËÆæËÆ°ÊÄùÊÉ≥„ÄÅ‰∏çÂêåÁéØÂ¢É‰ΩøÁî®‰∏çÂêåÁöÑÈîÅ‰ª•ËææÂà∞ËµÑÊ∫êÊúÄ‰ºòÂà©Áî®„ÄÇ ‰πêËßÇÈîÅ VS ÊÇ≤ËßÇÈîÅ ÊÇ≤ËßÇÈîÅÂÖàÂä†ÈîÅÂÜçÊìç‰ΩúËµÑÊ∫êÔºå‰πêËßÇÈîÅÁõ¥Êé•Êìç‰ΩúËµÑÊ∫ê„ÄÇ ‰∏∫‰Ωï‰πêËßÇÈîÅËÉΩÂ§üÂÅöÂà∞‰∏çÈîÅÂÆöÂêåÊ≠•ËµÑÊ∫ê‰πüÂèØ‰ª•Ê≠£Á°ÆÁöÑÂÆûÁé∞Á∫øÁ®ãÂêåÊ≠•Âë¢ÔºüÊàë‰ª¨ÈÄöËøá‰ªãÁªç‰πêËßÇÈîÅÁöÑ‰∏ªË¶ÅÂÆûÁé∞ÊñπÂºè ‚ÄúCAS‚Äù ÁöÑÊäÄÊúØÂéüÁêÜÊù•‰∏∫Â§ßÂÆ∂Ëß£ÊÉë„ÄÇ CASÂÖ®Áß∞ Compare And SwapÔºàÊØîËæÉ‰∏é‰∫§Êç¢ÔºâÔºåÊòØ‰∏ÄÁßçÊó†ÈîÅÁÆóÊ≥ï„ÄÇÂú®‰∏ç‰ΩøÁî®ÈîÅÔºàÊ≤°ÊúâÁ∫øÁ®ãË¢´ÈòªÂ°ûÔºâÁöÑÊÉÖÂÜµ‰∏ãÂÆûÁé∞Â§öÁ∫øÁ®ã‰πãÈó¥ÁöÑÂèòÈáèÂêåÊ≠•„ÄÇjava.util.concurrentÂåÖ‰∏≠ÁöÑÂéüÂ≠êÁ±ªÂ∞±ÊòØÈÄöËøáCASÊù•ÂÆûÁé∞‰∫Ü‰πêËßÇÈîÅ„ÄÇ CASÁÆóÊ≥ïÊ∂âÂèäÂà∞‰∏â‰∏™Êìç‰ΩúÊï∞Ôºö ÈúÄË¶ÅËØªÂÜôÁöÑÂÜÖÂ≠òÂÄº V„ÄÇ ËøõË°åÊØîËæÉÁöÑÂÄº A„ÄÇ Ë¶ÅÂÜôÂÖ•ÁöÑÊñ∞ÂÄº B„ÄÇ ÂΩì‰∏î‰ªÖÂΩì V ÁöÑÂÄºÁ≠â‰∫é A Êó∂ÔºåCASÈÄöËøáÂéüÂ≠êÊñπÂºèÁî®Êñ∞ÂÄºBÊù•Êõ¥Êñ∞VÁöÑÂÄºÔºà‚ÄúÊØîËæÉ+Êõ¥Êñ∞‚ÄùÊï¥‰ΩìÊòØ‰∏Ä‰∏™ÂéüÂ≠êÊìç‰ΩúÔºâÔºåÂê¶Âàô‰∏ç‰ºöÊâßË°å‰ªª‰ΩïÊìç‰Ωú„ÄÇ‰∏ÄËà¨ÊÉÖÂÜµ‰∏ãÔºå‚ÄúÊõ¥Êñ∞‚ÄùÊòØ‰∏Ä‰∏™‰∏çÊñ≠ÈáçËØïÁöÑÊìç‰Ωú„ÄÇ CASÈóÆÈ¢òÔºö ABAÈóÆÈ¢ò „ÄÇCASÈúÄË¶ÅÂú®Êìç‰ΩúÂÄºÁöÑÊó∂ÂÄôÊ£ÄÊü•ÂÜÖÂ≠òÂÄºÊòØÂê¶ÂèëÁîüÂèòÂåñÔºåÊ≤°ÊúâÂèëÁîüÂèòÂåñÊâç‰ºöÊõ¥Êñ∞ÂÜÖÂ≠òÂÄº„ÄÇ‰ΩÜÊòØÂ¶ÇÊûúÂÜÖÂ≠òÂÄºÂéüÊù•ÊòØAÔºåÂêéÊù•ÂèòÊàê‰∫ÜBÔºåÁÑ∂ÂêéÂèàÂèòÊàê‰∫ÜAÔºåÈÇ£‰πàCASËøõË°åÊ£ÄÊü•Êó∂‰ºöÂèëÁé∞ÂÄºÊ≤°ÊúâÂèëÁîüÂèòÂåñÔºå‰ΩÜÊòØÂÆûÈôÖ‰∏äÊòØÊúâÂèòÂåñÁöÑ„ÄÇABAÈóÆÈ¢òÁöÑËß£ÂÜ≥ÊÄùË∑ØÂ∞±ÊòØÂú®ÂèòÈáèÂâçÈù¢Ê∑ªÂä†ÁâàÊú¨Âè∑ÔºåÊØèÊ¨°ÂèòÈáèÊõ¥Êñ∞ÁöÑÊó∂ÂÄôÈÉΩÊääÁâàÊú¨Âè∑Âä†‰∏ÄÔºåËøôÊ†∑ÂèòÂåñËøáÁ®ãÂ∞±‰ªé‚ÄúAÔºçBÔºçA‚ÄùÂèòÊàê‰∫Ü‚Äú1AÔºç2BÔºç3A‚Äù„ÄÇ JDK‰ªé1.5ÂºÄÂßãÊèê‰æõ‰∫ÜAtomicStampedReferenceÁ±ªÊù•Ëß£ÂÜ≥ABAÈóÆÈ¢òÔºåÂÖ∑‰ΩìÊìç‰ΩúÂ∞ÅË£ÖÂú®compareAndSet()‰∏≠„ÄÇcompareAndSet()È¶ñÂÖàÊ£ÄÊü•ÂΩìÂâçÂºïÁî®ÂíåÂΩìÂâçÊ†áÂøó‰∏éÈ¢ÑÊúüÂºïÁî®ÂíåÈ¢ÑÊúüÊ†áÂøóÊòØÂê¶Áõ∏Á≠âÔºåÂ¶ÇÊûúÈÉΩÁõ∏Á≠âÔºåÂàô‰ª•ÂéüÂ≠êÊñπÂºèÂ∞ÜÂºïÁî®ÂÄºÂíåÊ†áÂøóÁöÑÂÄºËÆæÁΩÆ‰∏∫ÁªôÂÆöÁöÑÊõ¥Êñ∞ÂÄº„ÄÇ Âæ™ÁéØÊó∂Èó¥ÈïøÂºÄÈîÄÂ§ß„ÄÇCASÊìç‰ΩúÂ¶ÇÊûúÈïøÊó∂Èó¥‰∏çÊàêÂäüÔºå‰ºöÂØºËá¥ÂÖ∂‰∏ÄÁõ¥Ëá™ÊóãÔºåÁªôCPUÂ∏¶Êù•ÈùûÂ∏∏Â§ßÁöÑÂºÄÈîÄ„ÄÇ Âè™ËÉΩ‰øùËØÅ‰∏Ä‰∏™ÂÖ±‰∫´ÂèòÈáèÁöÑÂéüÂ≠êÊìç‰Ωú ÂØπ‰∏Ä‰∏™ÂÖ±‰∫´ÂèòÈáèÊâßË°åÊìç‰ΩúÊó∂ÔºåCASËÉΩÂ§ü‰øùËØÅÂéüÂ≠êÊìç‰ΩúÔºå‰ΩÜÊòØÂØπÂ§ö‰∏™ÂÖ±‰∫´ÂèòÈáèÊìç‰ΩúÊó∂ÔºåCASÊòØÊó†Ê≥ï‰øùËØÅÊìç‰ΩúÁöÑÂéüÂ≠êÊÄßÁöÑ„ÄÇ Java‰ªé1.5ÂºÄÂßãJDKÊèê‰æõ‰∫ÜAtomicReferenceÁ±ªÊù•‰øùËØÅÂºïÁî®ÂØπË±°‰πãÈó¥ÁöÑÂéüÂ≠êÊÄßÔºåÂèØ‰ª•ÊääÂ§ö‰∏™ÂèòÈáèÊîæÂú®‰∏Ä‰∏™ÂØπË±°ÈáåÊù•ËøõË°åCASÊìç‰Ωú„ÄÇ Ëá™ÊóãÈîÅ VS ÈÄÇÂ∫îÊÄßËá™ÊóãÈîÅ ‚Äã Ëá™ÊóãÈîÅ‰∏çÊîæÂºÉCPUÊó∂Èó¥ÁâáÔºåËá™ÊóãÁ≠âÂæÖÈîÅÈáäÊîæÔºåÂ¶ÇÊûúËá™ÊóãË∂ÖËøá‰∫ÜÈôêÂÆöÊ¨°Êï∞ÔºàÈªòËÆ§ÊòØ10Ê¨°ÔºåÂèØ‰ª•‰ΩøÁî®-XX:PreBlockSpinÊù•Êõ¥ÊîπÔºâÊ≤°ÊúâÊàêÂäüËé∑ÂæóÈîÅÔºåÂ∞±Â∫îÂΩìÊåÇËµ∑Á∫øÁ®ã„ÄÇ ‚Äã ÈÄÇÂ∫îÊÄßËá™ÊóãÈîÅÁöÑËá™ÈÄÇÂ∫îÊÑèÂë≥ÁùÄËá™ÊóãÁöÑÊó∂Èó¥ÔºàÊ¨°Êï∞Ôºâ‰∏çÂÜçÂõ∫ÂÆöÔºåËÄåÊòØÁî±Ââç‰∏ÄÊ¨°Âú®Âêå‰∏Ä‰∏™ÈîÅ‰∏äÁöÑËá™ÊóãÊó∂Èó¥ÂèäÈîÅÁöÑÊã•ÊúâËÄÖÁöÑÁä∂ÊÄÅÊù•ÂÜ≥ÂÆö„ÄÇÂ¶ÇÊûúÂú®Âêå‰∏Ä‰∏™ÈîÅÂØπË±°‰∏äÔºåËá™ÊóãÁ≠âÂæÖÂàöÂàöÊàêÂäüËé∑ÂæóËøáÈîÅÔºåÂπ∂‰∏îÊåÅÊúâÈîÅÁöÑÁ∫øÁ®ãÊ≠£Âú®ËøêË°å‰∏≠ÔºåÈÇ£‰πàËôöÊãüÊú∫Â∞±‰ºöËÆ§‰∏∫ËøôÊ¨°Ëá™Êóã‰πüÊòØÂæàÊúâÂèØËÉΩÂÜçÊ¨°ÊàêÂäüÔºåËøõËÄåÂÆÉÂ∞ÜÂÖÅËÆ∏Ëá™ÊóãÁ≠âÂæÖÊåÅÁª≠Áõ∏ÂØπÊõ¥ÈïøÁöÑÊó∂Èó¥„ÄÇÂ¶ÇÊûúÂØπ‰∫éÊüê‰∏™ÈîÅÔºåËá™ÊóãÂæàÂ∞ëÊàêÂäüËé∑ÂæóËøáÔºåÈÇ£Âú®‰ª•ÂêéÂ∞ùËØïËé∑ÂèñËøô‰∏™ÈîÅÊó∂Â∞ÜÂèØËÉΩÁúÅÁï•ÊéâËá™ÊóãËøáÁ®ãÔºåÁõ¥Êé•ÈòªÂ°ûÁ∫øÁ®ãÔºåÈÅøÂÖçÊµ™Ë¥πÂ§ÑÁêÜÂô®ËµÑÊ∫ê„ÄÇÂú®Ëá™ÊóãÈîÅ‰∏≠ Âè¶Êúâ‰∏âÁßçÂ∏∏ËßÅÁöÑÈîÅÂΩ¢Âºè:TicketLock„ÄÅCLHlockÂíåMCSlock Êó†ÈîÅ VS ÂÅèÂêëÈîÅ VS ËΩªÈáèÁ∫ßÈîÅ VS ÈáçÈáèÁ∫ßÈîÅ Êó†ÈîÅÔºåÊ≤°ÊúâÂØπËµÑÊ∫êËøõË°åÈîÅÂÆöÔºåÊâÄÊúâÁöÑÁ∫øÁ®ãÈÉΩËÉΩËÆøÈóÆÂπ∂‰øÆÊîπÂêå‰∏Ä‰∏™ËµÑÊ∫êÔºå‰ΩÜÂêåÊó∂Âè™Êúâ‰∏Ä‰∏™Á∫øÁ®ãËÉΩ‰øÆÊîπÊàêÂäü„ÄÇ ÂÅèÂêëÈîÅÔºå‰∏ÄÊÆµ‰ª£Á†Å‰∏ÄÁõ¥Ë¢´‰∏Ä‰∏™Á∫øÁ®ãËÆøÈóÆÔºåÈÇ£‰πàËØ•Á∫øÁ®ã‰ºöËá™Âä®Ëé∑ÂèñÈîÅÔºåÈôç‰ΩéËé∑ÂèñÈîÅÁöÑ‰ª£‰ª∑„ÄÇ ÂÅèÂêëÈîÅÊó∂ÔºåË¢´Âè¶Â§ñÁöÑÁ∫øÁ®ãÊâÄËÆøÈóÆÔºåÂÅèÂêëÈîÅÂ∞±‰ºöÂçáÁ∫ß‰∏∫ËΩªÈáèÁ∫ßÈîÅÔºåÂÖ∂‰ªñÁ∫øÁ®ã‰ºöÈÄöËøáËá™ÊóãÁöÑÂΩ¢ÂºèÂ∞ùËØïËé∑ÂèñÈîÅÔºå‰∏ç‰ºöÈòªÂ°ûÔºå‰ªéËÄåÊèêÈ´òÊÄßËÉΩ„ÄÇ Ëã•ÂΩìÂâçÂè™Êúâ‰∏Ä‰∏™Á≠âÂæÖÁ∫øÁ®ãÔºåÂàôËØ•Á∫øÁ®ãÈÄöËøáËá™ÊóãËøõË°åÁ≠âÂæÖ„ÄÇ‰ΩÜÊòØÂΩìËá™ÊóãË∂ÖËøá‰∏ÄÂÆöÁöÑÊ¨°Êï∞ÔºåÊàñËÄÖ‰∏Ä‰∏™Á∫øÁ®ãÂú®ÊåÅÊúâÈîÅÔºå‰∏Ä‰∏™Âú®Ëá™ÊóãÔºåÂèàÊúâÁ¨¨‰∏â‰∏™Êù•ËÆøÊó∂ÔºàÊàñËΩªÈáèÁ∫ßÈîÅÊó∂ÊúâÁ¨¨‰∏âËÄÖÔºâÔºåËΩªÈáèÁ∫ßÈîÅÂçáÁ∫ß‰∏∫ÈáçÈáèÁ∫ßÈîÅ„ÄÇ ÂÖ¨Âπ≥ÈîÅ VS ÈùûÂÖ¨Âπ≥ÈîÅ ÂÖ¨Âπ≥ÈîÅÈÄöËøáÁî≥ËØ∑ÈîÅÁöÑÈ°∫Â∫èÊù•Ëé∑ÂèñÈîÅ ÈùûÂÖ¨Âπ≥ÈîÅÁõ¥Êé•Ëé∑ÂèñÈîÅÔºåËé∑Âèñ‰∏çÂà∞‰ºöÂà∞Á≠âÂæÖÈòüÂàóÊú´Â∞æÁ≠âÂæÖÔºåËäÇÁ∫¶Âî§Ëµ∑Á∫øÁ®ãÁöÑÂºÄÈîÄÔºåÊèêÈ´òÂêûÂêêÁéáÔºå‰ΩÜÊòØÈÉ®ÂàÜÁ∫øÁ®ãÂèØËÉΩ‰ºöË¢´È•øÊ≠ªÔºåÊàñÁ≠âÂæÖÊó∂Èó¥ÂæàÈïø„ÄÇ ÂèØÈáçÂÖ•ÈîÅ VS ÈùûÂèØÈáçÂÖ•ÈîÅ ÂèØÈáçÂÖ•ÈîÅÔºàÈÄíÂΩíÈîÅÔºâÔºåÊòØÊåáÂú®Âêå‰∏Ä‰∏™Á∫øÁ®ãÂú®Â§ñÂ±ÇÊñπÊ≥ïËé∑ÂèñÈîÅÁöÑÊó∂ÂÄôÔºåÂÜçËøõÂÖ•ËØ•Á∫øÁ®ãÁöÑÂÜÖÂ±ÇÊñπÊ≥ï‰ºöËá™Âä®Ëé∑ÂèñÈîÅÔºàÂâçÊèêÈîÅÂØπË±°ÂæóÊòØÂêå‰∏Ä‰∏™ÂØπË±°ÊàñËÄÖclassÔºâÔºå‰∏ç‰ºöÂõ†‰∏∫‰πãÂâçÂ∑≤ÁªèËé∑ÂèñËøáËøòÊ≤°ÈáäÊîæËÄåÈòªÂ°û„ÄÇ ÈùûÂèØÈáçÂÖ•ÈîÅÔºåÂèç‰πãÂêåÁ∫øÁ®ãÂú®Â§ñÂ±ÇËé∑ÂèñÈîÅÊó∂Âú®ËøõÂÖ•ÂÜÖÂ±ÇÈúÄË¶ÅÂÖàÈáäÊîæÈîÅÔºåÈáçÂ§çË∞ÉÁî®ÂêåÊ≠•Êï∞ÊçÆÊó∂ÂèØËÉΩ‰ºöÂØºËá¥Ê≠ªÈîÅ„ÄÇ Áã¨‰∫´ÈîÅ VS ÂÖ±‰∫´ÈîÅ Áã¨‰∫´ÈîÅÔºàÊéí‰ªñÈîÅÔºâÔºåËØ•ÈîÅ‰∏ÄÊ¨°Âè™ËÉΩË¢´‰∏Ä‰∏™Á∫øÁ®ãÊã•ÊúâÔºåÂä†ÈîÅÂêé‰∏çËÉΩÂÜçÂä†ÂÖ∂‰ªñÈîÅÔºåÁ∫øÁ®ãÊã•ÊúâÂêéÂèØËØª‰∏éÊîπ„ÄÇ ÂÖ±‰∫´ÈîÅÔºåËØ•ÈîÅËÉΩË¢´Â§ö‰∏™Á∫øÁ®ãÊâÄÊã•ÊúâÁöÑÔºåÊã•ÊúâÂêéÂè™ËÉΩËØª‰∏çÂèØÊîπÔºåÂÖ∂‰ªñÁ∫øÁ®ãÂèØ‰ª•Âä†ÂÖ±‰∫´ÈîÅ‰∏çËÉΩÂä†Áã¨‰∫´ÈîÅÔºàÊéíÂÆÉÈîÅÔºâ„ÄÇ ËØªÈîÅÂÜôÈîÅ ReentrantReadWriteLock ÈáåÁöÑ‰∏§ÊääÈîÅ ReadLock Âíå WriteLockÔºåËØªÈîÅÊòØÂÖ±‰∫´ÈîÅÔºåÂÜôÈîÅÊòØÁã¨‰∫´ÈîÅÔºåÈÉΩ‰ºöÂèëÁîüÊ≠ªÈîÅ„ÄÇ Áé∞ÂÆû‰∏≠ÊúâËøôÊ†∑‰∏ÄÁßçÂú∫ÊôØÔºöÂØπÂÖ±‰∫´ËµÑÊ∫êÊúâËØªÂíåÂÜôÁöÑÊìç‰ΩúÔºå‰∏îÂÜôÊìç‰ΩúÊ≤°ÊúâËØªÊìç‰ΩúÈÇ£‰πàÈ¢ëÁπÅ„ÄÇÂú®Ê≤°ÊúâÂÜôÊìç‰ΩúÁöÑÊó∂ÂÄôÔºåÂ§ö‰∏™Á∫øÁ®ãÂêåÊó∂ËØª‰∏Ä‰∏™ËµÑÊ∫êÊ≤°Êúâ‰ªª‰ΩïÈóÆÈ¢òÔºåÊâÄ‰ª•Â∫îËØ•ÂÖÅËÆ∏Â§ö‰∏™Á∫øÁ®ãÂêåÊó∂ËØªÂèñÂÖ±‰∫´ËµÑÊ∫êÔºõ‰ΩÜÊòØÂ¶ÇÊûú‰∏Ä‰∏™Á∫øÁ®ãÊÉ≥ÂéªÂÜôËøô‰∫õÂÖ±‰∫´ËµÑÊ∫êÔºåÂ∞±‰∏çÂ∫îËØ•ÂÖÅËÆ∏ÂÖ∂‰ªñÁ∫øÁ®ãÂØπËØ•ËµÑÊ∫êËøõË°åËØªÂíåÂÜôÁöÑÊìç‰Ωú‰∫Ü„ÄÇ ÈíàÂØπËøôÁßçÂú∫ÊôØÔºåJAVAÁöÑÂπ∂ÂèëÂåÖÊèê‰æõ‰∫ÜËØªÂÜôÈîÅReentrantReadWriteLockÔºåÂÆÉË°®Á§∫‰∏§‰∏™ÈîÅÔºå‰∏Ä‰∏™ÊòØËØªÊìç‰ΩúÁõ∏ÂÖ≥ÁöÑÈîÅÔºåÁß∞‰∏∫ÂÖ±‰∫´ÈîÅÔºõ‰∏Ä‰∏™ÊòØÂÜôÁõ∏ÂÖ≥ÁöÑÈîÅÔºåÁß∞‰∏∫Êéí‰ªñÈîÅ Á∫øÁ®ãËøõÂÖ•ËØªÈîÅÁöÑÂâçÊèêÊù°‰ª∂Ôºö ‚Ä¢ Ê≤°ÊúâÂÖ∂‰ªñÁ∫øÁ®ãÁöÑÂÜôÈîÅ ‚Ä¢ Ê≤°ÊúâÂÜôËØ∑Ê±Ç, ÊàñËÄÖÊúâÂÜôËØ∑Ê±ÇÔºå‰ΩÜË∞ÉÁî®Á∫øÁ®ãÂíåÊåÅÊúâÈîÅÁöÑÁ∫øÁ®ãÊòØÂêå‰∏Ä‰∏™(ÂèØÈáçÂÖ•ÈîÅ)„ÄÇ Á∫øÁ®ãËøõÂÖ•ÂÜôÈîÅÁöÑÂâçÊèêÊù°‰ª∂Ôºö ‚Ä¢ Ê≤°ÊúâÂÖ∂‰ªñÁ∫øÁ®ãÁöÑËØªÈîÅ ‚Ä¢ Ê≤°ÊúâÂÖ∂‰ªñÁ∫øÁ®ãÁöÑÂÜôÈîÅ ËÄåËØªÂÜôÈîÅÊúâ‰ª•‰∏ã‰∏â‰∏™ÈáçË¶ÅÁöÑÁâπÊÄßÔºö Ôºà1ÔºâÂÖ¨Âπ≥ÈÄâÊã©ÊÄßÔºöÊîØÊåÅÈùûÂÖ¨Âπ≥ÔºàÈªòËÆ§ÔºâÂíåÂÖ¨Âπ≥ÁöÑÈîÅËé∑ÂèñÊñπÂºèÔºåÂêûÂêêÈáèËøòÊòØÈùûÂÖ¨Âπ≥‰ºò‰∫éÂÖ¨Âπ≥„ÄÇ Ôºà2ÔºâÈáçËøõÂÖ•ÔºöËØªÈîÅÂíåÂÜôÈîÅÈÉΩÊîØÊåÅÁ∫øÁ®ãÈáçËøõÂÖ•„ÄÇ Ôºà3ÔºâÈîÅÈôçÁ∫ßÔºöÈÅµÂæ™Ëé∑ÂèñÂÜôÈîÅ„ÄÅËé∑ÂèñËØªÈîÅÂÜçÈáäÊîæÂÜôÈîÅÁöÑÊ¨°Â∫èÔºåÂÜôÈîÅËÉΩÂ§üÈôçÁ∫ßÊàê‰∏∫ËØªÈîÅ„ÄÇ Ë°®ÈîÅË°åÈîÅ Ë°®ÈîÅÊï¥Âº†Ë°®ÔºåËÄåË°åÈîÅÈîÅÂçïÊù°Êï∞ÊçÆ‰∏îÂèØËÉΩÂèëÁîüÊ≠ªÈîÅ„ÄÇ ‰ΩøÁî®ReadWriteLock ‰ΩøÁî®ReadWriteLockÂèØ‰ª•ÊèêÈ´òËØªÂèñÊïàÁéáÔºö ReadWriteLockÂè™ÂÖÅËÆ∏‰∏Ä‰∏™Á∫øÁ®ãÂÜôÂÖ•Ôºõ ReadWriteLockÂÖÅËÆ∏Â§ö‰∏™Á∫øÁ®ãÂú®Ê≤°ÊúâÂÜôÂÖ•Êó∂ÂêåÊó∂ËØªÂèñÔºõ ReadWriteLockÈÄÇÂêàËØªÂ§öÂÜôÂ∞ëÁöÑÂú∫ÊôØ„ÄÇ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081package com.atguigu.readwrite;import java.util.HashMap;import java.util.Map;import java.util.concurrent.TimeUnit;import java.util.concurrent.locks.Lock;import java.util.concurrent.locks.ReadWriteLock;import java.util.concurrent.locks.ReentrantReadWriteLock;//ËµÑÊ∫êÁ±ªclass MyCache { //ÂàõÂª∫mapÈõÜÂêà private volatile Map&lt;String,Object&gt; map = new HashMap&lt;&gt;(); //ÂàõÂª∫ËØªÂÜôÈîÅÂØπË±° private ReadWriteLock rwLock = new ReentrantReadWriteLock(); //ÊîæÊï∞ÊçÆ public void put(String key,Object value) { //Ê∑ªÂä†ÂÜôÈîÅ rwLock.writeLock().lock(); try { System.out.println(Thread.currentThread().getName()+&quot; Ê≠£Âú®ÂÜôÊìç‰Ωú&quot;+key); //ÊöÇÂÅú‰∏Ä‰ºö TimeUnit.MICROSECONDS.sleep(300); //ÊîæÊï∞ÊçÆ map.put(key,value); System.out.println(Thread.currentThread().getName()+&quot; ÂÜôÂÆå‰∫Ü&quot;+key); } catch (InterruptedException e) { e.printStackTrace(); } finally { //ÈáäÊîæÂÜôÈîÅ rwLock.writeLock().unlock(); } } //ÂèñÊï∞ÊçÆ public Object get(String key) { //Ê∑ªÂä†ËØªÈîÅ rwLock.readLock().lock(); Object result = null; try { System.out.println(Thread.currentThread().getName()+&quot; Ê≠£Âú®ËØªÂèñÊìç‰Ωú&quot;+key); //ÊöÇÂÅú‰∏Ä‰ºö TimeUnit.MICROSECONDS.sleep(300); result = map.get(key); System.out.println(Thread.currentThread().getName()+&quot; ÂèñÂÆå‰∫Ü&quot;+key); } catch (InterruptedException e) { e.printStackTrace(); } finally { //ÈáäÊîæËØªÈîÅ rwLock.readLock().unlock(); } return result; }}public class ReadWriteLockDemo { public static void main(String[] args) throws InterruptedException { MyCache myCache = new MyCache(); //ÂàõÂª∫Á∫øÁ®ãÊîæÊï∞ÊçÆ for (int i = 1; i &lt;=5; i++) { final int num = i; new Thread(()-&gt;{ myCache.put(num+&quot;&quot;,num+&quot;&quot;); },String.valueOf(i)).start(); } TimeUnit.MICROSECONDS.sleep(300); //ÂàõÂª∫Á∫øÁ®ãÂèñÊï∞ÊçÆ for (int i = 1; i &lt;=5; i++) { final int num = i; new Thread(()-&gt;{ myCache.get(num+&quot;&quot;); },String.valueOf(i)).start(); } }} ‰ΩøÁî®StampedLock StampedLockÊèê‰æõ‰∫Ü‰πêËßÇËØªÈîÅÔºåÂèØÂèñ‰ª£ReadWriteLock‰ª•Ëøõ‰∏ÄÊ≠•ÊèêÂçáÂπ∂ÂèëÊÄßËÉΩÔºõStampedLockÊòØ‰∏çÂèØÈáçÂÖ•ÈîÅ„ÄÇ ‰ΩøÁî®ConcurrentÈõÜÂêà ‰ΩøÁî®java.util.concurrentÂåÖÊèê‰æõÁöÑÁ∫øÁ®ãÂÆâÂÖ®ÁöÑÂπ∂ÂèëÈõÜÂêàÂèØ‰ª•Â§ßÂ§ßÁÆÄÂåñÂ§öÁ∫øÁ®ãÁºñÁ®ãÔºö Â§öÁ∫øÁ®ãÂêåÊó∂ËØªÂÜôÂπ∂ÂèëÈõÜÂêàÊòØÂÆâÂÖ®ÁöÑÔºõ Â∞ΩÈáè‰ΩøÁî®JavaÊ†áÂáÜÂ∫ìÊèê‰æõÁöÑÂπ∂ÂèëÈõÜÂêàÔºåÈÅøÂÖçËá™Â∑±ÁºñÂÜôÂêåÊ≠•‰ª£Á†Å„ÄÇ ‰ΩøÁî®Atomic ‰ΩøÁî®java.util.concurrent.atomicÊèê‰æõÁöÑÂéüÂ≠êÊìç‰ΩúÂèØ‰ª•ÁÆÄÂåñÂ§öÁ∫øÁ®ãÁºñÁ®ãÔºö ÂéüÂ≠êÊìç‰ΩúÂÆûÁé∞‰∫ÜÊó†ÈîÅÁöÑÁ∫øÁ®ãÂÆâÂÖ®Ôºõ ÈÄÇÁî®‰∫éËÆ°Êï∞Âô®ÔºåÁ¥ØÂä†Âô®Á≠â„ÄÇ Â¢ûÂä†ÂÄºÂπ∂ËøîÂõûÊñ∞ÂÄºÔºöint addAndGet(int delta) Âä†1ÂêéËøîÂõûÊñ∞ÂÄºÔºöint incrementAndGet() Ëé∑ÂèñÂΩìÂâçÂÄºÔºöint get() Áî®CASÊñπÂºèËÆæÁΩÆÔºöint compareAndSet(int expect, int update) ‰ΩøÁî® Future ÂØπÁ∫øÁ®ãÊ±†Êèê‰∫§‰∏Ä‰∏™Callable‰ªªÂä°ÔºåÂèØ‰ª•Ëé∑Âæó‰∏Ä‰∏™FutureÂØπË±°Ôºõ ÂèØ‰ª•Áî®FutureÂú®Â∞ÜÊù•Êüê‰∏™Êó∂ÂàªËé∑ÂèñÁªìÊûú„ÄÇ ‰ΩøÁî® CompletableFuture CompletableFutureÂèØ‰ª•ÊåáÂÆöÂºÇÊ≠•Â§ÑÁêÜÊµÅÁ®ãÔºö thenAccept()Â§ÑÁêÜÊ≠£Â∏∏ÁªìÊûúÔºõ exceptional()Â§ÑÁêÜÂºÇÂ∏∏ÁªìÊûúÔºõ thenApplyAsync()Áî®‰∫é‰∏≤Ë°åÂåñÂè¶‰∏Ä‰∏™CompletableFutureÔºõ anyOf()ÂíåallOf()Áî®‰∫éÂπ∂Ë°åÂåñÂ§ö‰∏™CompletableFuture„ÄÇ ‰ΩøÁî® ForkJoin Fork/JoinÊòØ‰∏ÄÁßçÂü∫‰∫é‚ÄúÂàÜÊ≤ª‚ÄùÁöÑÁÆóÊ≥ïÔºöÈÄöËøáÂàÜËß£‰ªªÂä°ÔºåÂπ∂Ë°åÊâßË°åÔºåÊúÄÂêéÂêàÂπ∂ÁªìÊûúÂæóÂà∞ÊúÄÁªàÁªìÊûú„ÄÇ ForkJoinPoolÁ∫øÁ®ãÊ±†ÂèØ‰ª•Êää‰∏Ä‰∏™Â§ß‰ªªÂä°ÂàÜÊãÜÊàêÂ∞è‰ªªÂä°Âπ∂Ë°åÊâßË°åÔºå‰ªªÂä°Á±ªÂøÖÈ°ªÁªßÊâøËá™RecursiveTaskÊàñRecursiveAction„ÄÇ ‰ΩøÁî®Fork/JoinÊ®°ÂºèÂèØ‰ª•ËøõË°åÂπ∂Ë°åËÆ°ÁÆó‰ª•ÊèêÈ´òÊïàÁéá„ÄÇ ‰ΩøÁî® ThreadLocal ThreadLocalË°®Á§∫Á∫øÁ®ãÁöÑ‚ÄúÂ±ÄÈÉ®ÂèòÈáè‚ÄùÔºåÂÆÉÁ°Æ‰øùÊØè‰∏™Á∫øÁ®ãÁöÑThreadLocalÂèòÈáèÈÉΩÊòØÂêÑËá™Áã¨Á´ãÁöÑÔºõ ThreadLocalÈÄÇÂêàÂú®‰∏Ä‰∏™Á∫øÁ®ãÁöÑÂ§ÑÁêÜÊµÅÁ®ã‰∏≠‰øùÊåÅ‰∏ä‰∏ãÊñáÔºàÈÅøÂÖç‰∫ÜÂêå‰∏ÄÂèÇÊï∞Âú®ÊâÄÊúâÊñπÊ≥ï‰∏≠‰º†ÈÄíÔºâÔºõ ‰ΩøÁî®ThreadLocalË¶ÅÁî®try ... finallyÁªìÊûÑÔºåÂπ∂Âú®finally‰∏≠Ê∏ÖÈô§„ÄÇ ÈõÜÂêàÁ∫øÁ®ãÂÆâÂÖ® 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647public static void main(String[] args) { //ÂàõÂª∫ArrayListÈõÜÂêà// List&lt;String&gt; list = new ArrayList&lt;&gt;(); // VectorËß£ÂÜ≥// List&lt;String&gt; list = new Vector&lt;&gt;(); //CollectionsËß£ÂÜ≥// List&lt;String&gt; list = Collections.synchronizedList(new ArrayList&lt;&gt;()); // CopyOnWriteArrayListÂÜôÊó∂Â§çÂà∂ÊäÄÊúØËß£ÂÜ≥// List&lt;String&gt; list = new CopyOnWriteArrayList&lt;&gt;();// for (int i = 0; i &lt;30; i++) {// new Thread(()-&gt;{// //ÂêëÈõÜÂêàÊ∑ªÂä†ÂÜÖÂÆπ// list.add(UUID.randomUUID().toString().substring(0,8));// //‰ªéÈõÜÂêàËé∑ÂèñÂÜÖÂÆπ// System.out.println(list);// },String.valueOf(i)).start();// } //ÊºîÁ§∫Hashset// Set&lt;String&gt; set = new HashSet&lt;&gt;();// Set&lt;String&gt; set = new CopyOnWriteArraySet&lt;&gt;();// for (int i = 0; i &lt;30; i++) {// new Thread(()-&gt;{// //ÂêëÈõÜÂêàÊ∑ªÂä†ÂÜÖÂÆπ// set.add(UUID.randomUUID().toString().substring(0,8));// //‰ªéÈõÜÂêàËé∑ÂèñÂÜÖÂÆπ// System.out.println(set);// },String.valueOf(i)).start();// } //ÊºîÁ§∫HashMap// Map&lt;String,String&gt; map = new HashMap&lt;&gt;(); Map&lt;String,String&gt; map = new ConcurrentHashMap&lt;&gt;(); for (int i = 0; i &lt;30; i++) { String key = String.valueOf(i); new Thread(()-&gt;{ //ÂêëÈõÜÂêàÊ∑ªÂä†ÂÜÖÂÆπ map.put(key,UUID.randomUUID().toString().substring(0,8)); //‰ªéÈõÜÂêàËé∑ÂèñÂÜÖÂÆπ System.out.println(map); },String.valueOf(i)).start(); } } JUC‰∏âÂ§ßËæÖÂä©Á±ª JUC‰∏≠Êèê‰æõ‰∫Ü‰∏âÁßçÂ∏∏Áî®ÁöÑËæÖÂä©Á±ªÔºåÈÄöËøáËøô‰∫õËæÖÂä©Á±ªÂèØ‰ª•ÂæàÂ•ΩÁöÑËß£ÂÜ≥Á∫øÁ®ãÊï∞ÈáèËøáÂ§öÊó∂LockÈîÅÁöÑÈ¢ëÁπÅÊìç‰Ωú„ÄÇËøô‰∏âÁßçËæÖÂä©Á±ª‰∏∫Ôºö ‚Ä¢ CountDownLatch: ÂáèÂ∞ëËÆ°Êï∞ ‚Ä¢ CyclicBarrier: Âæ™ÁéØÊ†ÖÊ†è ‚Ä¢ Semaphore: ‰ø°Âè∑ÁÅØ CountDownLatch:ÂáèÂ∞ëËÆ°Êï∞ CountDownLatchÁ±ªÂèØ‰ª•ËÆæÁΩÆ‰∏Ä‰∏™ËÆ°Êï∞Âô®ÔºåÁÑ∂ÂêéÈÄöËøácountDownÊñπÊ≥ïÊù•ËøõË°åÂáè1ÁöÑÊìç‰ΩúÔºå‰ΩøÁî®awaitÊñπÊ≥ïÁ≠âÂæÖËÆ°Êï∞Âô®‰∏çÂ§ß‰∫é0ÔºåÁÑ∂ÂêéÁªßÁª≠ÊâßË°åawaitÊñπÊ≥ï‰πãÂêéÁöÑËØ≠Âè•„ÄÇ ‚Ä¢ CountDownLatch‰∏ªË¶ÅÊúâ‰∏§‰∏™ÊñπÊ≥ïÔºåÂΩì‰∏Ä‰∏™ÊàñÂ§ö‰∏™Á∫øÁ®ãË∞ÉÁî®awaitÊñπÊ≥ïÊó∂ÔºåËøô‰∫õÁ∫øÁ®ã‰ºöÈòªÂ°û ‚Ä¢ ÂÖ∂ÂÆÉÁ∫øÁ®ãË∞ÉÁî®countDownÊñπÊ≥ï‰ºöÂ∞ÜËÆ°Êï∞Âô®Âáè1(Ë∞ÉÁî®countDownÊñπÊ≥ïÁöÑÁ∫øÁ®ã‰∏ç‰ºöÈòªÂ°û) ‚Ä¢ ÂΩìËÆ°Êï∞Âô®ÁöÑÂÄºÂèò‰∏∫0Êó∂ÔºåÂõ†awaitÊñπÊ≥ïÈòªÂ°ûÁöÑÁ∫øÁ®ã‰ºöË¢´Âî§ÈÜíÔºåÁªßÁª≠ÊâßË°å 12345678910111213141516171819202122232425262728package com.atguigu.juc;import java.util.concurrent.CountDownLatch;//ÊºîÁ§∫ CountDownLatchpublic class CountDownLatchDemo { //6‰∏™ÂêåÂ≠¶ÈôÜÁª≠Á¶ªÂºÄÊïôÂÆ§‰πãÂêéÔºåÁè≠ÈïøÈîÅÈó® public static void main(String[] args) throws InterruptedException { //ÂàõÂª∫CountDownLatchÂØπË±°ÔºåËÆæÁΩÆÂàùÂßãÂÄº CountDownLatch countDownLatch = new CountDownLatch(6); //6‰∏™ÂêåÂ≠¶ÈôÜÁª≠Á¶ªÂºÄÊïôÂÆ§‰πãÂêé for (int i = 1; i &lt;=6; i++) { new Thread(()-&gt;{ System.out.println(Thread.currentThread().getName()+&quot; Âè∑ÂêåÂ≠¶Á¶ªÂºÄ‰∫ÜÊïôÂÆ§&quot;); //ËÆ°Êï∞ -1 countDownLatch.countDown(); },String.valueOf(i)).start(); } //Á≠âÂæÖ countDownLatch.await(); System.out.println(Thread.currentThread().getName()+&quot; Áè≠ÈïøÈîÅÈó®Ëµ∞‰∫∫‰∫Ü&quot;);}} CyclicBarrier: Âæ™ÁéØÊ†ÖÊ†è ‚Äã CyclicBarrierÁúãËã±ÊñáÂçïËØçÂèØ‰ª•ÁúãÂá∫Â§ßÊ¶ÇÂ∞±ÊòØÂæ™ÁéØÈòªÂ°ûÁöÑÊÑèÊÄùÔºåÂú®‰ΩøÁî®‰∏≠CyclicBarrierÁöÑÊûÑÈÄ†ÊñπÊ≥ïÁ¨¨‰∏Ä‰∏™ÂèÇÊï∞ÊòØÁõÆÊ†áÈöúÁ¢çÊï∞ÔºåÊØèÊ¨°ÊâßË°åCyclicBarrier‰∏ÄÊ¨°ÈöúÁ¢çÊï∞‰ºöÂä†‰∏ÄÔºåÂ¶ÇÊûúËææÂà∞‰∫ÜÁõÆÊ†áÈöúÁ¢çÊï∞ÔºåÊâç‰ºöÊâßË°åcyclicBarrier.await()‰πãÂêéÁöÑËØ≠Âè•„ÄÇÂèØ‰ª•Â∞ÜCyclicBarrierÁêÜËß£‰∏∫Âä†1Êìç‰Ωú 12345678910111213141516171819202122232425262728293031package com.atguigu.juc;import java.util.concurrent.BrokenBarrierException;import java.util.concurrent.CyclicBarrier;//ÈõÜÈΩê7È¢óÈæôÁè†Â∞±ÂèØ‰ª•Âè¨Âî§Á•ûÈæôpublic class CyclicBarrierDemo {//ÂàõÂª∫Âõ∫ÂÆöÂÄºprivate static final int NUMBER = 7;public static void main(String[] args) { //ÂàõÂª∫CyclicBarrier CyclicBarrier cyclicBarrier = new CyclicBarrier(NUMBER,()-&gt;{ System.out.println(&quot;*****ÈõÜÈΩê7È¢óÈæôÁè†Â∞±ÂèØ‰ª•Âè¨Âî§Á•ûÈæô&quot;); }); //ÈõÜÈΩê‰∏ÉÈ¢óÈæôÁè†ËøáÁ®ã for (int i = 1; i &lt;=7; i++) { new Thread(()-&gt;{ try { System.out.println(Thread.currentThread().getName()+&quot; ÊòüÈæôË¢´Êî∂ÈõÜÂà∞‰∫Ü&quot;); //Á≠âÂæÖ cyclicBarrier.await(); } catch (Exception e) { e.printStackTrace(); } },String.valueOf(i)).start(); }}} Semaphore: ‰ø°Âè∑ÁÅØ ‚Äã SemaphoreÁöÑÊûÑÈÄ†ÊñπÊ≥ï‰∏≠‰º†ÂÖ•ÁöÑÁ¨¨‰∏Ä‰∏™ÂèÇÊï∞ÊòØÊúÄÂ§ß‰ø°Âè∑ÈáèÔºàÂèØ‰ª•ÁúãÊàêÊúÄÂ§ßÁ∫øÁ®ãÊ±†ÔºâÔºåÊØè‰∏™‰ø°Âè∑ÈáèÂàùÂßãÂåñ‰∏∫‰∏Ä‰∏™ÊúÄÂ§öÂè™ËÉΩÂàÜÂèë‰∏Ä‰∏™ËÆ∏ÂèØËØÅ„ÄÇ‰ΩøÁî®acquireÊñπÊ≥ïËé∑ÂæóËÆ∏ÂèØËØÅÔºåreleaseÊñπÊ≥ïÈáäÊîæËÆ∏ÂèØ„ÄÇÂú∫ÊôØ: Êä¢ËΩ¶‰Ωç, 6ÈÉ®Ê±ΩËΩ¶3‰∏™ÂÅúËΩ¶‰Ωç 123456789101112131415161718192021222324252627282930313233343536package com.atguigu.juc;import java.util.Random;import java.util.concurrent.Semaphore;import java.util.concurrent.TimeUnit;//6ËæÜÊ±ΩËΩ¶ÔºåÂÅú3‰∏™ËΩ¶‰Ωçpublic class SemaphoreDemo { public static void main(String[] args) { //ÂàõÂª∫SemaphoreÔºåËÆæÁΩÆËÆ∏ÂèØÊï∞Èáè Semaphore semaphore = new Semaphore(3); //Ê®°Êãü6ËæÜÊ±ΩËΩ¶ for (int i = 1; i &lt;=6; i++) { new Thread(()-&gt;{ try { //Êä¢Âç† semaphore.acquire(); System.out.println(Thread.currentThread().getName()+&quot; Êä¢Âà∞‰∫ÜËΩ¶‰Ωç&quot;); //ËÆæÁΩÆÈöèÊú∫ÂÅúËΩ¶Êó∂Èó¥ TimeUnit.SECONDS.sleep(new Random().nextInt(5)); System.out.println(Thread.currentThread().getName()+&quot; ------Á¶ªÂºÄ‰∫ÜËΩ¶‰Ωç&quot;); } catch (InterruptedException e) { e.printStackTrace(); } finally { //ÈáäÊîæ semaphore.release(); } },String.valueOf(i)).start(); } }} ÈòªÂ°ûÈòüÂàó BlockingQueue ConcurrentÂåÖ‰∏≠ÔºåBlockingQueueÂæàÂ•ΩÁöÑËß£ÂÜ≥‰∫ÜÂ§öÁ∫øÁ®ã‰∏≠ÔºåÂ¶Ç‰ΩïÈ´òÊïàÂÆâÂÖ®‚Äú‰º†Ëæì‚ÄùÊï∞ÊçÆÁöÑÈóÆÈ¢ò„ÄÇÈÄöËøáËøô‰∫õÈ´òÊïàÂπ∂‰∏îÁ∫øÁ®ãÂÆâÂÖ®ÁöÑÈòüÂàóÁ±ªÔºå‰∏∫Êàë‰ª¨Âø´ÈÄüÊê≠Âª∫È´òË¥®ÈáèÁöÑÂ§öÁ∫øÁ®ãÁ®ãÂ∫èÂ∏¶Êù•ÊûÅÂ§ßÁöÑ‰æøÂà©„ÄÇÊú¨ÊñáËØ¶ÁªÜ‰ªãÁªç‰∫ÜBlockingQueueÂÆ∂Â∫≠‰∏≠ÁöÑÊâÄÊúâÊàêÂëòÔºåÂåÖÊã¨‰ªñ‰ª¨ÂêÑËá™ÁöÑÂäüËÉΩ‰ª•ÂèäÂ∏∏ËßÅ‰ΩøÁî®Âú∫ÊôØ„ÄÇ ÈòªÂ°ûÈòüÂàóÔºåÈ°æÂêçÊÄù‰πâÔºåÈ¶ñÂÖàÂÆÉÊòØ‰∏Ä‰∏™ÈòüÂàó, ÈÄöËøá‰∏Ä‰∏™ÂÖ±‰∫´ÁöÑÈòüÂàóÔºåÂèØ‰ª•‰ΩøÂæóÊï∞ÊçÆÁî±ÈòüÂàóÁöÑ‰∏ÄÁ´ØËæìÂÖ•Ôºå‰ªéÂè¶Â§ñ‰∏ÄÁ´ØËæìÂá∫Ôºõ ÂΩìÈòüÂàóÊòØÁ©∫ÁöÑÔºå‰ªéÈòüÂàó‰∏≠Ëé∑ÂèñÂÖÉÁ¥†ÁöÑÊìç‰ΩúÂ∞Ü‰ºöË¢´ÈòªÂ°û ÂΩìÈòüÂàóÊòØÊª°ÁöÑÔºå‰ªéÈòüÂàó‰∏≠Ê∑ªÂä†ÂÖÉÁ¥†ÁöÑÊìç‰ΩúÂ∞Ü‰ºöË¢´ÈòªÂ°û ËØïÂõæ‰ªéÁ©∫ÁöÑÈòüÂàó‰∏≠Ëé∑ÂèñÂÖÉÁ¥†ÁöÑÁ∫øÁ®ãÂ∞Ü‰ºöË¢´ÈòªÂ°ûÔºåÁõ¥Âà∞ÂÖ∂‰ªñÁ∫øÁ®ãÂæÄÁ©∫ÁöÑÈòüÂàóÊèíÂÖ•Êñ∞ÁöÑÂÖÉÁ¥† ËØïÂõæÂêëÂ∑≤Êª°ÁöÑÈòüÂàó‰∏≠Ê∑ªÂä†Êñ∞ÂÖÉÁ¥†ÁöÑÁ∫øÁ®ãÂ∞Ü‰ºöË¢´ÈòªÂ°ûÔºåÁõ¥Âà∞ÂÖ∂‰ªñÁ∫øÁ®ã‰ªéÈòüÂàó‰∏≠ÁßªÈô§‰∏Ä‰∏™ÊàñÂ§ö‰∏™ÂÖÉÁ¥†ÊàñËÄÖÂÆåÂÖ®Ê∏ÖÁ©∫Ôºå‰ΩøÈòüÂàóÂèòÂæóÁ©∫Èó≤Ëµ∑Êù•Âπ∂ÂêéÁª≠Êñ∞Â¢û Â∏∏Áî®ÁöÑÈòüÂàó‰∏ªË¶ÅÊúâ‰ª•‰∏ã‰∏§ÁßçÔºö ‚Ä¢ ÂÖàËøõÂÖàÂá∫ÔºàFIFOÔºâÔºöÂÖàÊèíÂÖ•ÁöÑÈòüÂàóÁöÑÂÖÉÁ¥†‰πüÊúÄÂÖàÂá∫ÈòüÂàóÔºåÁ±ª‰ºº‰∫éÊéíÈòüÁöÑÂäüËÉΩ„ÄÇ‰ªéÊüêÁßçÁ®ãÂ∫¶‰∏äÊù•ËØ¥ËøôÁßçÈòüÂàó‰πü‰ΩìÁé∞‰∫Ü‰∏ÄÁßçÂÖ¨Âπ≥ÊÄß ‚Ä¢ ÂêéËøõÂÖàÂá∫ÔºàLIFOÔºâÔºöÂêéÊèíÂÖ•ÈòüÂàóÁöÑÂÖÉÁ¥†ÊúÄÂÖàÂá∫ÈòüÂàóÔºåËøôÁßçÈòüÂàó‰ºòÂÖàÂ§ÑÁêÜÊúÄËøëÂèëÁîüÁöÑ‰∫ã‰ª∂(Ê†à) Âú®Â§öÁ∫øÁ®ãÈ¢ÜÂüüÔºöÊâÄË∞ìÈòªÂ°ûÔºåÂú®Êüê‰∫õÊÉÖÂÜµ‰∏ã‰ºöÊåÇËµ∑Á∫øÁ®ãÔºàÂç≥ÈòªÂ°ûÔºâÔºå‰∏ÄÊó¶Êù°‰ª∂Êª°Ë∂≥ÔºåË¢´ÊåÇËµ∑ÁöÑÁ∫øÁ®ãÂèà‰ºöËá™Âä®Ë¢´Âî§Ëµ∑ ‰∏∫‰ªÄ‰πàÈúÄË¶ÅBlockingQueue Â•ΩÂ§ÑÊòØÊàë‰ª¨‰∏çÈúÄË¶ÅÂÖ≥ÂøÉ‰ªÄ‰πàÊó∂ÂÄôÈúÄË¶ÅÈòªÂ°ûÁ∫øÁ®ãÔºå‰ªÄ‰πàÊó∂ÂÄôÈúÄË¶ÅÂî§ÈÜíÁ∫øÁ®ãÔºåÂõ†‰∏∫Ëøô‰∏ÄÂàáBlockingQueueÈÉΩÁªô‰Ω†‰∏ÄÊâãÂåÖÂäû‰∫Ü Âú®concurrentÂåÖÂèëÂ∏É‰ª•ÂâçÔºåÂú®Â§öÁ∫øÁ®ãÁéØÂ¢É‰∏ãÔºåÊàë‰ª¨ÂøÖÈ°ªÂéªËá™Â∑±ÊéßÂà∂Ëøô‰∫õÁªÜËäÇÔºåÂ∞§ÂÖ∂ËøòË¶ÅÂÖºÈ°æÊïàÁéáÂíåÁ∫øÁ®ãÂÆâÂÖ®ÔºåËÄåËøô‰ºöÁªôÊàë‰ª¨ÁöÑÁ®ãÂ∫èÂ∏¶Êù•‰∏çÂ∞èÁöÑÂ§çÊùÇÂ∫¶„ÄÇ Â§öÁ∫øÁ®ãÁéØÂ¢É‰∏≠ÔºåÈÄöËøáÈòüÂàóÂèØ‰ª•ÂæàÂÆπÊòìÂÆûÁé∞Êï∞ÊçÆÂÖ±‰∫´ÔºåÊØîÂ¶ÇÁªèÂÖ∏ÁöÑ‚ÄúÁîü‰∫ßËÄÖ‚ÄùÂíå‚ÄúÊ∂àË¥πËÄÖ‚ÄùÊ®°Âûã‰∏≠ÔºåÈÄöËøáÈòüÂàóÂèØ‰ª•Âæà‰æøÂà©Âú∞ÂÆûÁé∞‰∏§ËÄÖ‰πãÈó¥ÁöÑÊï∞ÊçÆÂÖ±‰∫´„ÄÇÂÅáËÆæÊàë‰ª¨ÊúâËã•Âπ≤Áîü‰∫ßËÄÖÁ∫øÁ®ãÔºåÂè¶Â§ñÂèàÊúâËã•Âπ≤‰∏™Ê∂àË¥πËÄÖÁ∫øÁ®ã„ÄÇÂ¶ÇÊûúÁîü‰∫ßËÄÖÁ∫øÁ®ãÈúÄË¶ÅÊääÂáÜÂ§áÂ•ΩÁöÑÊï∞ÊçÆÂÖ±‰∫´ÁªôÊ∂àË¥πËÄÖÁ∫øÁ®ãÔºåÂà©Áî®ÈòüÂàóÁöÑÊñπÂºèÊù•‰º†ÈÄíÊï∞ÊçÆÔºåÂ∞±ÂèØ‰ª•ÂæàÊñπ‰æøÂú∞Ëß£ÂÜ≥‰ªñ‰ª¨‰πãÈó¥ÁöÑÊï∞ÊçÆÂÖ±‰∫´ÈóÆÈ¢ò„ÄÇ‰ΩÜÂ¶ÇÊûúÁîü‰∫ßËÄÖÂíåÊ∂àË¥πËÄÖÂú®Êüê‰∏™Êó∂Èó¥ÊÆµÂÜÖÔºå‰∏á‰∏ÄÂèëÁîüÊï∞ÊçÆÂ§ÑÁêÜÈÄüÂ∫¶‰∏çÂåπÈÖçÁöÑÊÉÖÂÜµÂë¢ÔºüÁêÜÊÉ≥ÊÉÖÂÜµ‰∏ãÔºåÂ¶ÇÊûúÁîü‰∫ßËÄÖ‰∫ßÂá∫Êï∞ÊçÆÁöÑÈÄüÂ∫¶Â§ß‰∫éÊ∂àË¥πËÄÖÊ∂àË¥πÁöÑÈÄüÂ∫¶ÔºåÂπ∂‰∏îÂΩìÁîü‰∫ßÂá∫Êù•ÁöÑÊï∞ÊçÆÁ¥ØÁßØÂà∞‰∏ÄÂÆöÁ®ãÂ∫¶ÁöÑÊó∂ÂÄôÔºåÈÇ£‰πàÁîü‰∫ßËÄÖÂøÖÈ°ªÊöÇÂÅúÁ≠âÂæÖ‰∏Ä‰∏ãÔºàÈòªÂ°ûÁîü‰∫ßËÄÖÁ∫øÁ®ãÔºâÔºå‰ª•‰æøÁ≠âÂæÖÊ∂àË¥πËÄÖÁ∫øÁ®ãÊääÁ¥ØÁßØÁöÑÊï∞ÊçÆÂ§ÑÁêÜÂÆåÊØïÔºåÂèç‰πã‰∫¶ÁÑ∂„ÄÇ ‚Ä¢ ÂΩìÈòüÂàó‰∏≠Ê≤°ÊúâÊï∞ÊçÆÁöÑÊÉÖÂÜµ‰∏ãÔºåÊ∂àË¥πËÄÖÁ´ØÁöÑÊâÄÊúâÁ∫øÁ®ãÈÉΩ‰ºöË¢´Ëá™Âä®ÈòªÂ°ûÔºàÊåÇËµ∑ÔºâÔºåÁõ¥Âà∞ÊúâÊï∞ÊçÆÊîæÂÖ•ÈòüÂàó ‚Ä¢ ÂΩìÈòüÂàó‰∏≠Â°´Êª°Êï∞ÊçÆÁöÑÊÉÖÂÜµ‰∏ãÔºåÁîü‰∫ßËÄÖÁ´ØÁöÑÊâÄÊúâÁ∫øÁ®ãÈÉΩ‰ºöË¢´Ëá™Âä®ÈòªÂ°ûÔºàÊåÇËµ∑ÔºâÔºåÁõ¥Âà∞ÈòüÂàó‰∏≠ÊúâÁ©∫ÁöÑ‰ΩçÁΩÆÔºåÁ∫øÁ®ãË¢´Ëá™Âä®Âî§ÈÜí BlockingQueueÊ†∏ÂøÉÊñπÊ≥ï 1.ÊîæÂÖ•Êï∞ÊçÆ ‚Ä¢ offer(anObject):Ë°®Á§∫Â¶ÇÊûúÂèØËÉΩÁöÑËØù,Â∞ÜanObjectÂä†Âà∞BlockingQueueÈáå,Âç≥Â¶ÇÊûúBlockingQueueÂèØ‰ª•ÂÆπÁ∫≥,ÂàôËøîÂõûtrue,Âê¶ÂàôËøîÂõûfalse.ÔºàÊú¨ÊñπÊ≥ï‰∏çÈòªÂ°ûÂΩìÂâçÊâßË°åÊñπÊ≥ïÁöÑÁ∫øÁ®ãÔºâ ‚Ä¢ offer(E o, long timeout, TimeUnit unit)ÔºöÂèØ‰ª•ËÆæÂÆöÁ≠âÂæÖÁöÑÊó∂Èó¥ÔºåÂ¶ÇÊûúÂú®ÊåáÂÆöÁöÑÊó∂Èó¥ÂÜÖÔºåËøò‰∏çËÉΩÂæÄÈòüÂàó‰∏≠Âä†ÂÖ•BlockingQueueÔºåÂàôËøîÂõûÂ§±Ë¥• ‚Ä¢ put(anObject):ÊääanObjectÂä†Âà∞BlockingQueueÈáå,Â¶ÇÊûúBlockQueueÊ≤°ÊúâÁ©∫Èó¥,ÂàôË∞ÉÁî®Ê≠§ÊñπÊ≥ïÁöÑÁ∫øÁ®ãË¢´ÈòªÊñ≠Áõ¥Âà∞BlockingQueueÈáåÈù¢ÊúâÁ©∫Èó¥ÂÜçÁªßÁª≠. 2.Ëé∑ÂèñÊï∞ÊçÆ ‚Ä¢ poll(time): ÂèñËµ∞BlockingQueueÈáåÊéíÂú®È¶ñ‰ΩçÁöÑÂØπË±°,Ëã•‰∏çËÉΩÁ´ãÂç≥ÂèñÂá∫,ÂàôÂèØ‰ª•Á≠âtimeÂèÇÊï∞ËßÑÂÆöÁöÑÊó∂Èó¥,Âèñ‰∏çÂà∞Êó∂ËøîÂõûnull ‚Ä¢ poll(long timeout, TimeUnit unit)Ôºö‰ªéBlockingQueueÂèñÂá∫‰∏Ä‰∏™ÈòüÈ¶ñÁöÑÂØπË±°ÔºåÂ¶ÇÊûúÂú®ÊåáÂÆöÊó∂Èó¥ÂÜÖÔºåÈòüÂàó‰∏ÄÊó¶ÊúâÊï∞ÊçÆÂèØÂèñÔºåÂàôÁ´ãÂç≥ËøîÂõûÈòüÂàó‰∏≠ÁöÑÊï∞ÊçÆ„ÄÇÂê¶ÂàôÁü•ÈÅìÊó∂Èó¥Ë∂ÖÊó∂ËøòÊ≤°ÊúâÊï∞ÊçÆÂèØÂèñÔºåËøîÂõûÂ§±Ë¥•„ÄÇ ‚Ä¢ take(): ÂèñËµ∞BlockingQueueÈáåÊéíÂú®È¶ñ‰ΩçÁöÑÂØπË±°,Ëã•BlockingQueue‰∏∫Á©∫,ÈòªÊñ≠ËøõÂÖ•Á≠âÂæÖÁä∂ÊÄÅÁõ¥Âà∞BlockingQueueÊúâÊñ∞ÁöÑÊï∞ÊçÆË¢´Âä†ÂÖ•; ‚Ä¢ drainTo(): ‰∏ÄÊ¨°ÊÄß‰ªéBlockingQueueËé∑ÂèñÊâÄÊúâÂèØÁî®ÁöÑÊï∞ÊçÆÂØπË±°ÔºàËøòÂèØ‰ª•ÊåáÂÆöËé∑ÂèñÊï∞ÊçÆÁöÑ‰∏™Êï∞ÔºâÔºåÈÄöËøáËØ•ÊñπÊ≥ïÔºåÂèØ‰ª•ÊèêÂçáËé∑ÂèñÊï∞ÊçÆÊïàÁéáÔºõ‰∏çÈúÄË¶ÅÂ§öÊ¨°ÂàÜÊâπÂä†ÈîÅÊàñÈáäÊîæÈîÅ„ÄÇ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556package com.atguigu.queue;import java.util.concurrent.ArrayBlockingQueue;import java.util.concurrent.BlockingQueue;import java.util.concurrent.Executors;import java.util.concurrent.TimeUnit;//ÈòªÂ°ûÈòüÂàópublic class BlockingQueueDemo { public static void main(String[] args) throws InterruptedException { //ÂàõÂª∫ÈòªÂ°ûÈòüÂàó BlockingQueue&lt;String&gt; blockingQueue = new ArrayBlockingQueue&lt;&gt;(3); //Á¨¨‰∏ÄÁªÑ// System.out.println(blockingQueue.add(&quot;a&quot;));//// System.out.println(blockingQueue.add(&quot;b&quot;));//// System.out.println(blockingQueue.add(&quot;c&quot;));//// //System.out.println(blockingQueue.element());//////// //System.out.println(blockingQueue.add(&quot;w&quot;));//// System.out.println(blockingQueue.remove());//// System.out.println(blockingQueue.remove());//// System.out.println(blockingQueue.remove());//// System.out.println(blockingQueue.remove()); //Á¨¨‰∫åÁªÑ// System.out.println(blockingQueue.offer(&quot;a&quot;));// System.out.println(blockingQueue.offer(&quot;b&quot;));// System.out.println(blockingQueue.offer(&quot;c&quot;));// System.out.println(blockingQueue.offer(&quot;www&quot;));//// System.out.println(blockingQueue.poll());// System.out.println(blockingQueue.poll());// System.out.println(blockingQueue.poll());// System.out.println(blockingQueue.poll()); //Á¨¨‰∏âÁªÑ put Ê≤°Á©∫Èó¥ÈòªÂ°û take Ê≤°Êï∞ÊçÆÈòªÂ°û// blockingQueue.put(&quot;a&quot;);// blockingQueue.put(&quot;b&quot;);// blockingQueue.put(&quot;c&quot;);// //blockingQueue.put(&quot;w&quot;);//// System.out.println(blockingQueue.take());// System.out.println(blockingQueue.take());// System.out.println(blockingQueue.take());// System.out.println(blockingQueue.take()); //Á¨¨ÂõõÁªÑ System.out.println(blockingQueue.offer(&quot;a&quot;)); System.out.println(blockingQueue.offer(&quot;b&quot;)); System.out.println(blockingQueue.offer(&quot;c&quot;)); System.out.println(blockingQueue.offer(&quot;w&quot;,3L, TimeUnit.SECONDS)); }} ArrayBlockingQueue(Â∏∏Áî®) Âü∫‰∫éÊï∞ÁªÑÁöÑÈòªÂ°ûÈòüÂàóÂÆûÁé∞ÔºåÂú®ArrayBlockingQueueÂÜÖÈÉ®ÔºåÁª¥Êä§‰∫Ü‰∏Ä‰∏™ÂÆöÈïøÊï∞ÁªÑÔºå‰ª•‰æøÁºìÂ≠òÈòüÂàó‰∏≠ÁöÑÊï∞ÊçÆÂØπË±°ÔºåËøôÊòØ‰∏Ä‰∏™Â∏∏Áî®ÁöÑÈòªÂ°ûÈòüÂàóÔºåÈô§‰∫Ü‰∏Ä‰∏™ÂÆöÈïøÊï∞ÁªÑÂ§ñÔºåArrayBlockingQueueÂÜÖÈÉ®Ëøò‰øùÂ≠òÁùÄ‰∏§‰∏™Êï¥ÂΩ¢ÂèòÈáèÔºåÂàÜÂà´Ê†áËØÜÁùÄÈòüÂàóÁöÑÂ§¥ÈÉ®ÂíåÂ∞æÈÉ®Âú®Êï∞ÁªÑ‰∏≠ÁöÑ‰ΩçÁΩÆ„ÄÇ ArrayBlockingQueueÂú®Áîü‰∫ßËÄÖÊîæÂÖ•Êï∞ÊçÆÂíåÊ∂àË¥πËÄÖËé∑ÂèñÊï∞ÊçÆÔºåÈÉΩÊòØÂÖ±Áî®Âêå‰∏Ä‰∏™ÈîÅÂØπË±°ÔºåÁî±Ê≠§‰πüÊÑèÂë≥ÁùÄ‰∏§ËÄÖÊó†Ê≥ïÁúüÊ≠£Âπ∂Ë°åËøêË°åÔºåËøôÁÇπÂ∞§ÂÖ∂‰∏çÂêå‰∫éLinkedBlockingQueueÔºõÊåâÁÖßÂÆûÁé∞ÂéüÁêÜÊù•ÂàÜÊûêÔºåArrayBlockingQueueÂÆåÂÖ®ÂèØ‰ª•ÈááÁî®ÂàÜÁ¶ªÈîÅÔºå‰ªéËÄåÂÆûÁé∞Áîü‰∫ßËÄÖÂíåÊ∂àË¥πËÄÖÊìç‰ΩúÁöÑÂÆåÂÖ®Âπ∂Ë°åËøêË°å„ÄÇDoug Lea‰πãÊâÄ‰ª•Ê≤°ËøôÊ†∑ÂéªÂÅöÔºå‰πüËÆ∏ÊòØÂõ†‰∏∫ArrayBlockingQueueÁöÑÊï∞ÊçÆÂÜôÂÖ•ÂíåËé∑ÂèñÊìç‰ΩúÂ∑≤ÁªèË∂≥Â§üËΩªÂ∑ßÔºå‰ª•Ëá≥‰∫éÂºïÂÖ•Áã¨Á´ãÁöÑÈîÅÊú∫Âà∂ÔºåÈô§‰∫ÜÁªô‰ª£Á†ÅÂ∏¶Êù•È¢ùÂ§ñÁöÑÂ§çÊùÇÊÄßÂ§ñÔºåÂÖ∂Âú®ÊÄßËÉΩ‰∏äÂÆåÂÖ®Âç†‰∏çÂà∞‰ªª‰Ωï‰æøÂÆú„ÄÇ ArrayBlockingQueueÂíåLinkedBlockingQueueÈó¥ËøòÊúâ‰∏Ä‰∏™ÊòéÊòæÁöÑ‰∏çÂêå‰πãÂ§ÑÂú®‰∫éÔºåÂâçËÄÖÂú®ÊèíÂÖ•ÊàñÂà†Èô§ÂÖÉÁ¥†Êó∂‰∏ç‰ºö‰∫ßÁîüÊàñÈîÄÊØÅ‰ªª‰ΩïÈ¢ùÂ§ñÁöÑÂØπË±°ÂÆû‰æãÔºåËÄåÂêéËÄÖÂàô‰ºöÁîüÊàê‰∏Ä‰∏™È¢ùÂ§ñÁöÑNodeÂØπË±°„ÄÇËøôÂú®ÈïøÊó∂Èó¥ÂÜÖÈúÄË¶ÅÈ´òÊïàÂπ∂ÂèëÂú∞Â§ÑÁêÜÂ§ßÊâπÈáèÊï∞ÊçÆÁöÑÁ≥ªÁªü‰∏≠ÔºåÂÖ∂ÂØπ‰∫éGCÁöÑÂΩ±ÂìçËøòÊòØÂ≠òÂú®‰∏ÄÂÆöÁöÑÂå∫Âà´„ÄÇËÄåÂú®ÂàõÂª∫ArrayBlockingQueueÊó∂ÔºåÊàë‰ª¨ËøòÂèØ‰ª•ÊéßÂà∂ÂØπË±°ÁöÑÂÜÖÈÉ®ÈîÅÊòØÂê¶ÈááÁî®ÂÖ¨Âπ≥ÈîÅÔºåÈªòËÆ§ÈááÁî®ÈùûÂÖ¨Âπ≥ÈîÅ„ÄÇ ‰∏ÄÂè•ËØùÊÄªÁªì: Áî±Êï∞ÁªÑÁªìÊûÑÁªÑÊàêÁöÑÊúâÁïåÈòªÂ°ûÈòüÂàó„ÄÇ LinkedBlockingQueue(Â∏∏Áî®) Âü∫‰∫éÈìæË°®ÁöÑÈòªÂ°ûÈòüÂàóÔºåÂêåArrayListBlockingQueueÁ±ª‰ººÔºåÂÖ∂ÂÜÖÈÉ®‰πüÁª¥ÊåÅÁùÄ‰∏Ä‰∏™Êï∞ÊçÆÁºìÂÜ≤ÈòüÂàóÔºàËØ•ÈòüÂàóÁî±‰∏Ä‰∏™ÈìæË°®ÊûÑÊàêÔºâÔºåÂΩìÁîü‰∫ßËÄÖÂæÄÈòüÂàó‰∏≠ÊîæÂÖ•‰∏Ä‰∏™Êï∞ÊçÆÊó∂ÔºåÈòüÂàó‰ºö‰ªéÁîü‰∫ßËÄÖÊâã‰∏≠Ëé∑ÂèñÊï∞ÊçÆÔºåÂπ∂ÁºìÂ≠òÂú®ÈòüÂàóÂÜÖÈÉ®ÔºåËÄåÁîü‰∫ßËÄÖÁ´ãÂç≥ËøîÂõûÔºõÂè™ÊúâÂΩìÈòüÂàóÁºìÂÜ≤Âå∫ËææÂà∞ÊúÄÂ§ßÂÄºÁºìÂ≠òÂÆπÈáèÊó∂ÔºàLinkedBlockingQueueÂèØ‰ª•ÈÄöËøáÊûÑÈÄ†ÂáΩÊï∞ÊåáÂÆöËØ•ÂÄºÔºâÔºåÊâç‰ºöÈòªÂ°ûÁîü‰∫ßËÄÖÈòüÂàóÔºåÁõ¥Âà∞Ê∂àË¥πËÄÖ‰ªéÈòüÂàó‰∏≠Ê∂àË¥πÊéâ‰∏Ä‰ªΩ Êï∞ÊçÆÔºåÁîü‰∫ßËÄÖÁ∫øÁ®ã‰ºöË¢´Âî§ÈÜíÔºåÂèç‰πãÂØπ‰∫éÊ∂àË¥πËÄÖËøôÁ´ØÁöÑÂ§ÑÁêÜ‰πüÂü∫‰∫éÂêåÊ†∑ÁöÑÂéüÁêÜ„ÄÇËÄåLinkedBlockingQueue‰πãÊâÄ‰ª•ËÉΩÂ§üÈ´òÊïàÁöÑÂ§ÑÁêÜÂπ∂ÂèëÊï∞ÊçÆÔºåËøòÂõ†‰∏∫ÂÖ∂ÂØπ‰∫éÁîü‰∫ßËÄÖÁ´ØÂíåÊ∂àË¥πËÄÖÁ´ØÂàÜÂà´ÈááÁî®‰∫ÜÁã¨Á´ãÁöÑÈîÅÊù•ÊéßÂà∂Êï∞ÊçÆÂêåÊ≠•ÔºåËøô‰πüÊÑèÂë≥ÁùÄÂú®È´òÂπ∂ÂèëÁöÑÊÉÖÂÜµ‰∏ãÁîü‰∫ßËÄÖÂíåÊ∂àË¥πËÄÖÂèØ‰ª•Âπ∂Ë°åÂú∞Êìç‰ΩúÈòüÂàó‰∏≠ÁöÑÊï∞ÊçÆÔºå‰ª•Ê≠§Êù•ÊèêÈ´òÊï¥‰∏™ÈòüÂàóÁöÑÂπ∂ÂèëÊÄßËÉΩ„ÄÇ ArrayBlockingQueueÂíåLinkedBlockingQueueÊòØ‰∏§‰∏™ÊúÄÊôÆÈÄö‰πüÊòØÊúÄÂ∏∏Áî®ÁöÑÈòªÂ°ûÈòüÂàóÔºå‰∏ÄËà¨ÊÉÖÂÜµ‰∏ãÔºåÂú®Â§ÑÁêÜÂ§öÁ∫øÁ®ãÈó¥ÁöÑÁîü‰∫ßËÄÖÊ∂àË¥πËÄÖÈóÆÈ¢òÔºå‰ΩøÁî®Ëøô‰∏§‰∏™Á±ªË∂≥‰ª•„ÄÇ ‰∏ÄÂè•ËØùÊÄªÁªì: Áî±ÈìæË°®ÁªìÊûÑÁªÑÊàêÁöÑÊúâÁïåÔºà‰ΩÜÂ§ßÂ∞èÈªòËÆ§ÂÄº‰∏∫integer.MAX_VALUEÔºâÈòªÂ°ûÈòüÂàó„ÄÇ DelayQueue DelayQueue‰∏≠ÁöÑÂÖÉÁ¥†Âè™ÊúâÂΩìÂÖ∂ÊåáÂÆöÁöÑÂª∂ËøüÊó∂Èó¥Âà∞‰∫ÜÔºåÊâçËÉΩÂ§ü‰ªéÈòüÂàó‰∏≠Ëé∑ÂèñÂà∞ËØ•ÂÖÉÁ¥†„ÄÇDelayQueueÊòØ‰∏Ä‰∏™Ê≤°ÊúâÂ§ßÂ∞èÈôêÂà∂ÁöÑÈòüÂàóÔºåÂõ†Ê≠§ÂæÄÈòüÂàó‰∏≠ÊèíÂÖ•Êï∞ÊçÆÁöÑÊìç‰ΩúÔºàÁîü‰∫ßËÄÖÔºâÊ∞∏Ëøú‰∏ç‰ºöË¢´ÈòªÂ°ûÔºåËÄåÂè™ÊúâËé∑ÂèñÊï∞ÊçÆÁöÑÊìç‰ΩúÔºàÊ∂àË¥πËÄÖÔºâÊâç‰ºöË¢´ÈòªÂ°û„ÄÇ ‰∏ÄÂè•ËØùÊÄªÁªì: ‰ΩøÁî®‰ºòÂÖàÁ∫ßÈòüÂàóÂÆûÁé∞ÁöÑÂª∂ËøüÊó†ÁïåÈòªÂ°ûÈòüÂàó„ÄÇ PriorityBlockingQueue Âü∫‰∫é‰ºòÂÖàÁ∫ßÁöÑÈòªÂ°ûÈòüÂàóÔºà‰ºòÂÖàÁ∫ßÁöÑÂà§Êñ≠ÈÄöËøáÊûÑÈÄ†ÂáΩÊï∞‰º†ÂÖ•ÁöÑCompatorÂØπË±°Êù•ÂÜ≥ÂÆöÔºâÔºå‰ΩÜÈúÄË¶ÅÊ≥®ÊÑèÁöÑÊòØPriorityBlockingQueueÂπ∂‰∏ç‰ºöÈòªÂ°ûÊï∞ÊçÆÁîü‰∫ßËÄÖÔºåËÄåÂè™‰ºöÂú®Ê≤°ÊúâÂèØÊ∂àË¥πÁöÑÊï∞ÊçÆÊó∂ÔºåÈòªÂ°ûÊï∞ÊçÆÁöÑÊ∂àË¥πËÄÖ„ÄÇ Âõ†Ê≠§‰ΩøÁî®ÁöÑÊó∂ÂÄôË¶ÅÁâπÂà´Ê≥®ÊÑèÔºåÁîü‰∫ßËÄÖÁîü‰∫ßÊï∞ÊçÆÁöÑÈÄüÂ∫¶ÁªùÂØπ‰∏çËÉΩÂø´‰∫éÊ∂àË¥πËÄÖÊ∂àË¥πÊï∞ÊçÆÁöÑÈÄüÂ∫¶ÔºåÂê¶ÂàôÊó∂Èó¥‰∏ÄÈïøÔºå‰ºöÊúÄÁªàËÄóÂ∞ΩÊâÄÊúâÁöÑÂèØÁî®Â†ÜÂÜÖÂ≠òÁ©∫Èó¥„ÄÇ Âú®ÂÆûÁé∞PriorityBlockingQueueÊó∂ÔºåÂÜÖÈÉ®ÊéßÂà∂Á∫øÁ®ãÂêåÊ≠•ÁöÑÈîÅÈááÁî®ÁöÑÊòØÂÖ¨Âπ≥ÈîÅ„ÄÇ ‰∏ÄÂè•ËØùÊÄªÁªì: ÊîØÊåÅ‰ºòÂÖàÁ∫ßÊéíÂ∫èÁöÑÊó†ÁïåÈòªÂ°ûÈòüÂàó„ÄÇ SynchronousQueue ‰∏ÄÁßçÊó†ÁºìÂÜ≤ÁöÑÁ≠âÂæÖÈòüÂàóÔºåÁ±ª‰ºº‰∫éÊó†‰∏≠‰ªãÁöÑÁõ¥Êé•‰∫§ÊòìÔºåÊúâÁÇπÂÉèÂéüÂßãÁ§æ‰ºö‰∏≠ÁöÑÁîü‰∫ßËÄÖÂíåÊ∂àË¥πËÄÖÔºåÁîü‰∫ßËÄÖÊãøÁùÄ‰∫ßÂìÅÂéªÈõÜÂ∏ÇÈîÄÂîÆÁªô‰∫ßÂìÅÁöÑÊúÄÁªàÊ∂àË¥πËÄÖÔºåËÄåÊ∂àË¥πËÄÖÂøÖÈ°ª‰∫≤Ëá™ÂéªÈõÜÂ∏ÇÊâæÂà∞ÊâÄË¶ÅÂïÜÂìÅÁöÑÁõ¥Êé•Áîü‰∫ßËÄÖÔºåÂ¶ÇÊûú‰∏ÄÊñπÊ≤°ÊúâÊâæÂà∞ÂêàÈÄÇÁöÑÁõÆÊ†áÔºåÈÇ£‰πàÂØπ‰∏çËµ∑ÔºåÂ§ßÂÆ∂ÈÉΩÂú®ÈõÜÂ∏ÇÁ≠âÂæÖ„ÄÇÁõ∏ÂØπ‰∫éÊúâÁºìÂÜ≤ÁöÑBlockingQueueÊù•ËØ¥ÔºåÂ∞ë‰∫Ü‰∏Ä‰∏™‰∏≠Èó¥ÁªèÈîÄÂïÜÁöÑÁéØËäÇÔºàÁºìÂÜ≤Âå∫ÔºâÔºåÂ¶ÇÊûúÊúâÁªèÈîÄÂïÜÔºåÁîü‰∫ßËÄÖÁõ¥Êé•Êää‰∫ßÂìÅÊâπÂèëÁªôÁªèÈîÄÂïÜÔºåËÄåÊó†ÈúÄÂú®ÊÑèÁªèÈîÄÂïÜÊúÄÁªà‰ºöÂ∞ÜËøô‰∫õ‰∫ßÂìÅÂçñÁªôÈÇ£‰∫õÊ∂àË¥πËÄÖÔºåÁî±‰∫éÁªèÈîÄÂïÜÂèØ‰ª•Â∫ìÂ≠ò‰∏ÄÈÉ®ÂàÜÂïÜÂìÅÔºåÂõ†Ê≠§Áõ∏ÂØπ‰∫éÁõ¥Êé•‰∫§ÊòìÊ®°ÂºèÔºåÊÄª‰ΩìÊù•ËØ¥ÈááÁî®‰∏≠Èó¥ÁªèÈîÄÂïÜÁöÑÊ®°Âºè‰ºöÂêûÂêêÈáèÈ´ò‰∏Ä‰∫õÔºàÂèØ‰ª•ÊâπÈáè‰π∞ÂçñÔºâÔºõ‰ΩÜÂè¶‰∏ÄÊñπÈù¢ÔºåÂèàÂõ†‰∏∫ÁªèÈîÄÂïÜÁöÑÂºïÂÖ•Ôºå‰ΩøÂæó‰∫ßÂìÅ‰ªéÁîü‰∫ßËÄÖÂà∞Ê∂àË¥πËÄÖ‰∏≠Èó¥Â¢ûÂä†‰∫ÜÈ¢ùÂ§ñÁöÑ‰∫§ÊòìÁéØËäÇÔºåÂçï‰∏™‰∫ßÂìÅÁöÑÂèäÊó∂ÂìçÂ∫îÊÄßËÉΩÂèØËÉΩ‰ºöÈôç‰Ωé„ÄÇ Â£∞Êòé‰∏Ä‰∏™SynchronousQueueÊúâ‰∏§Áßç‰∏çÂêåÁöÑÊñπÂºèÔºåÂÆÉ‰ª¨‰πãÈó¥ÊúâÁùÄ‰∏çÂ§™‰∏ÄÊ†∑ÁöÑË°å‰∏∫„ÄÇ ÂÖ¨Âπ≥Ê®°ÂºèÂíåÈùûÂÖ¨Âπ≥Ê®°ÂºèÁöÑÂå∫Âà´: ‚Ä¢ ÂÖ¨Âπ≥Ê®°ÂºèÔºöSynchronousQueue‰ºöÈááÁî®ÂÖ¨Âπ≥ÈîÅÔºåÂπ∂ÈÖçÂêà‰∏Ä‰∏™FIFOÈòüÂàóÊù•ÈòªÂ°ûÂ§ö‰ΩôÁöÑÁîü‰∫ßËÄÖÂíåÊ∂àË¥πËÄÖÔºå‰ªéËÄå‰ΩìÁ≥ªÊï¥‰ΩìÁöÑÂÖ¨Âπ≥Á≠ñÁï•Ôºõ ‚Ä¢ ÈùûÂÖ¨Âπ≥Ê®°ÂºèÔºàSynchronousQueueÈªòËÆ§ÔºâÔºöSynchronousQueueÈááÁî®ÈùûÂÖ¨Âπ≥ÈîÅÔºåÂêåÊó∂ÈÖçÂêà‰∏Ä‰∏™LIFOÈòüÂàóÊù•ÁÆ°ÁêÜÂ§ö‰ΩôÁöÑÁîü‰∫ßËÄÖÂíåÊ∂àË¥πËÄÖÔºåËÄåÂêé‰∏ÄÁßçÊ®°ÂºèÔºåÂ¶ÇÊûúÁîü‰∫ßËÄÖÂíåÊ∂àË¥πËÄÖÁöÑÂ§ÑÁêÜÈÄüÂ∫¶ÊúâÂ∑ÆË∑ùÔºåÂàôÂæàÂÆπÊòìÂá∫Áé∞È••Ê∏¥ÁöÑÊÉÖÂÜµÔºåÂç≥ÂèØËÉΩÊúâÊüê‰∫õÁîü‰∫ßËÄÖÊàñËÄÖÊòØÊ∂àË¥πËÄÖÁöÑÊï∞ÊçÆÊ∞∏ËøúÈÉΩÂæó‰∏çÂà∞Â§ÑÁêÜ„ÄÇ ‰∏ÄÂè•ËØùÊÄªÁªì: ‰∏çÂ≠òÂÇ®ÂÖÉÁ¥†ÁöÑÈòªÂ°ûÈòüÂàóÔºå‰πüÂç≥Âçï‰∏™ÂÖÉÁ¥†ÁöÑÈòüÂàó„ÄÇ LinkedTransferQueue LinkedTransferQueueÊòØ‰∏Ä‰∏™Áî±ÈìæË°®ÁªìÊûÑÁªÑÊàêÁöÑÊó†ÁïåÈòªÂ°ûTransferQueueÈòüÂàó„ÄÇÁõ∏ÂØπ‰∫éÂÖ∂‰ªñÈòªÂ°ûÈòüÂàóÔºåLinkedTransferQueueÂ§ö‰∫ÜtryTransferÂíåtransferÊñπÊ≥ï„ÄÇ LinkedTransferQueueÈááÁî®‰∏ÄÁßçÈ¢ÑÂç†Ê®°Âºè„ÄÇÊÑèÊÄùÂ∞±ÊòØÊ∂àË¥πËÄÖÁ∫øÁ®ãÂèñÂÖÉÁ¥†Êó∂ÔºåÂ¶ÇÊûúÈòüÂàó‰∏ç‰∏∫Á©∫ÔºåÂàôÁõ¥Êé•ÂèñËµ∞Êï∞ÊçÆÔºåËã•ÈòüÂàó‰∏∫Á©∫ÔºåÈÇ£Â∞±ÁîüÊàê‰∏Ä‰∏™ËäÇÁÇπÔºàËäÇÁÇπÂÖÉÁ¥†‰∏∫nullÔºâÂÖ•ÈòüÔºåÁÑ∂ÂêéÊ∂àË¥πËÄÖÁ∫øÁ®ãË¢´Á≠âÂæÖÂú®Ëøô‰∏™ËäÇÁÇπ‰∏äÔºåÂêéÈù¢Áîü‰∫ßËÄÖÁ∫øÁ®ãÂÖ•ÈòüÊó∂ÂèëÁé∞Êúâ‰∏Ä‰∏™ÂÖÉÁ¥†‰∏∫nullÁöÑËäÇÁÇπÔºåÁîü‰∫ßËÄÖÁ∫øÁ®ãÂ∞±‰∏çÂÖ•Èòü‰∫ÜÔºåÁõ¥Êé•Â∞±Â∞ÜÂÖÉÁ¥†Â°´ÂÖÖÂà∞ËØ•ËäÇÁÇπÔºåÂπ∂Âî§ÈÜíËØ•ËäÇÁÇπÁ≠âÂæÖÁöÑÁ∫øÁ®ãÔºåË¢´Âî§ÈÜíÁöÑÊ∂àË¥πËÄÖÁ∫øÁ®ãÂèñËµ∞ÂÖÉÁ¥†Ôºå‰ªéË∞ÉÁî®ÁöÑÊñπÊ≥ïËøîÂõû„ÄÇ ‰∏ÄÂè•ËØùÊÄªÁªì: Áî±ÈìæË°®ÁªÑÊàêÁöÑÊó†ÁïåÈòªÂ°ûÈòüÂàó„ÄÇ LinkedBlockingDeque LinkedBlockingDequeÊòØ‰∏Ä‰∏™Áî±ÈìæË°®ÁªìÊûÑÁªÑÊàêÁöÑÂèåÂêëÈòªÂ°ûÈòüÂàóÔºåÂç≥ÂèØ‰ª•‰ªéÈòüÂàóÁöÑ‰∏§Á´ØÊèíÂÖ•ÂíåÁßªÈô§ÂÖÉÁ¥†„ÄÇ ÂØπ‰∫é‰∏Ä‰∫õÊåáÂÆöÁöÑÊìç‰ΩúÔºåÂú®ÊèíÂÖ•ÊàñËÄÖËé∑ÂèñÈòüÂàóÂÖÉÁ¥†Êó∂Â¶ÇÊûúÈòüÂàóÁä∂ÊÄÅ‰∏çÂÖÅËÆ∏ËØ•Êìç‰ΩúÂèØËÉΩ‰ºöÈòªÂ°û‰ΩèËØ•Á∫øÁ®ãÁõ¥Âà∞ÈòüÂàóÁä∂ÊÄÅÂèòÊõ¥‰∏∫ÂÖÅËÆ∏Êìç‰ΩúÔºåËøôÈáåÁöÑÈòªÂ°û‰∏ÄËà¨Êúâ‰∏§ÁßçÊÉÖÂÜµ ‚Ä¢ ÊèíÂÖ•ÂÖÉÁ¥†Êó∂: Â¶ÇÊûúÂΩìÂâçÈòüÂàóÂ∑≤Êª°Â∞Ü‰ºöËøõÂÖ•ÈòªÂ°ûÁä∂ÊÄÅÔºå‰∏ÄÁõ¥Á≠âÂà∞ÈòüÂàóÊúâÁ©∫ÁöÑ‰ΩçÁΩÆÊó∂ÂÜçËÆ≤ËØ•ÂÖÉÁ¥†ÊèíÂÖ•ÔºåËØ•Êìç‰ΩúÂèØ‰ª•ÈÄöËøáËÆæÁΩÆË∂ÖÊó∂ÂèÇÊï∞ÔºåË∂ÖÊó∂ÂêéËøîÂõû false Ë°®Á§∫Êìç‰ΩúÂ§±Ë¥•Ôºå‰πüÂèØ‰ª•‰∏çËÆæÁΩÆË∂ÖÊó∂ÂèÇÊï∞‰∏ÄÁõ¥ÈòªÂ°ûÔºå‰∏≠Êñ≠ÂêéÊäõÂá∫InterruptedExceptionÂºÇÂ∏∏ ‚Ä¢ ËØªÂèñÂÖÉÁ¥†Êó∂: Â¶ÇÊûúÂΩìÂâçÈòüÂàó‰∏∫Á©∫‰ºöÈòªÂ°û‰ΩèÁõ¥Âà∞ÈòüÂàó‰∏ç‰∏∫Á©∫ÁÑ∂ÂêéËøîÂõûÂÖÉÁ¥†ÔºåÂêåÊ†∑ÂèØ‰ª•ÈÄöËøáËÆæÁΩÆË∂ÖÊó∂ÂèÇÊï∞ ‰∏ÄÂè•ËØùÊÄªÁªì: Áî±ÈìæË°®ÁªÑÊàêÁöÑÂèåÂêëÈòªÂ°ûÈòüÂàó Â∞èÁªì Âú®Â§öÁ∫øÁ®ãÈ¢ÜÂüüÔºöÊâÄË∞ìÈòªÂ°ûÔºåÂú®Êüê‰∫õÊÉÖÂÜµ‰∏ã‰ºöÊåÇËµ∑Á∫øÁ®ãÔºàÂç≥ÈòªÂ°ûÔºâÔºå‰∏ÄÊó¶Êù°‰ª∂Êª°Ë∂≥ÔºåË¢´ÊåÇËµ∑ÁöÑÁ∫øÁ®ãÂèà‰ºöËá™Âä®Ë¢´Âî§Ëµ∑ ‰∏∫‰ªÄ‰πàÈúÄË¶ÅBlockingQueue? Âú®concurrentÂåÖÂèëÂ∏É‰ª•ÂâçÔºåÂú®Â§öÁ∫øÁ®ãÁéØÂ¢É‰∏ãÔºåÊàë‰ª¨ÊØè‰∏™Á®ãÂ∫èÂëòÈÉΩÂøÖÈ°ªÂéªËá™Â∑±ÊéßÂà∂Ëøô‰∫õÁªÜËäÇÔºåÂ∞§ÂÖ∂ËøòË¶ÅÂÖºÈ°æÊïàÁéáÂíåÁ∫øÁ®ãÂÆâÂÖ®ÔºåËÄåËøô‰ºöÁªôÊàë‰ª¨ÁöÑÁ®ãÂ∫èÂ∏¶Êù•‰∏çÂ∞èÁöÑÂ§çÊùÇÂ∫¶„ÄÇ‰ΩøÁî®ÂêéÊàë‰ª¨‰∏çÈúÄË¶ÅÂÖ≥ÂøÉ‰ªÄ‰πàÊó∂ÂÄôÈúÄË¶ÅÈòªÂ°ûÁ∫øÁ®ãÔºå‰ªÄ‰πàÊó∂ÂÄôÈúÄË¶ÅÂî§ÈÜíÁ∫øÁ®ãÔºåÂõ†‰∏∫Ëøô‰∏ÄÂàáBlockingQueueÈÉΩÁªô‰Ω†‰∏ÄÊâãÂåÖÂäû‰∫Ü Á∫øÁ®ãÊ±† ‚Äã Á∫øÁ®ãÊ±†ÔºàThread PoolÔºâÔºö‰∏ÄÁßçÁ∫øÁ®ã‰ΩøÁî®Ê®°Âºè„ÄÇÁ∫øÁ®ãËøáÂ§ö‰ºöÂ∏¶Êù•Ë∞ÉÂ∫¶ÂºÄÈîÄÔºåËøõËÄåÂΩ±ÂìçÁºìÂ≠òÂ±ÄÈÉ®ÊÄßÂíåÊï¥‰ΩìÊÄßËÉΩ„ÄÇËÄåÁ∫øÁ®ãÊ±†Áª¥Êä§ÁùÄÂ§ö‰∏™Á∫øÁ®ãÔºåÁ≠âÂæÖÁùÄÁõëÁù£ÁÆ°ÁêÜËÄÖÂàÜÈÖçÂèØÂπ∂ÂèëÊâßË°åÁöÑ‰ªªÂä°„ÄÇËøôÈÅøÂÖç‰∫ÜÂú®Â§ÑÁêÜÁü≠Êó∂Èó¥‰ªªÂä°Êó∂ÂàõÂª∫‰∏éÈîÄÊØÅÁ∫øÁ®ãÁöÑ‰ª£‰ª∑„ÄÇÁ∫øÁ®ãÊ±†‰∏ç‰ªÖËÉΩÂ§ü‰øùËØÅÂÜÖÊ†∏ÁöÑÂÖÖÂàÜÂà©Áî®ÔºåËøòËÉΩÈò≤Ê≠¢ËøáÂàÜË∞ÉÂ∫¶„ÄÇ ‚Äã ‰æãÂ≠êÔºö‰ª•ÂâçÂçïÊ†∏CPUÁîµËÑëÔºåÂÅáÁöÑÂ§öÁ∫øÁ®ãÔºåÂÉèÈ©¨ÊàèÂõ¢Â∞è‰∏ëÁé©Â§ö‰∏™ÁêÉÔºåCPUÈúÄË¶ÅÊù•ÂõûÂàáÊç¢„ÄÇ Áé∞Âú®Â§öÊ†∏ÁîµËÑëÔºåÂ§ö‰∏™Á∫øÁ®ãÂêÑËá™Ë∑ëÂú®Áã¨Á´ãÁöÑCPU‰∏äÔºå‰∏çÁî®ÂàáÊç¢ÊïàÁéáÈ´ò„ÄÇ ‰ºòÂäøÔºö Á∫øÁ®ãÊ±†ÂÅöÁöÑÂ∑•‰ΩúÂè™Ë¶ÅÊòØÊéßÂà∂ËøêË°åÁöÑÁ∫øÁ®ãÊï∞ÈáèÔºåÂ§ÑÁêÜËøáÁ®ã‰∏≠Â∞Ü‰ªªÂä°ÊîæÂÖ•ÈòüÂàóÔºåÁÑ∂ÂêéÂú®Á∫øÁ®ãÂàõÂª∫ÂêéÂêØÂä®Ëøô‰∫õ‰ªªÂä°ÔºåÂ¶ÇÊûúÁ∫øÁ®ãÊï∞ÈáèË∂ÖËøá‰∫ÜÊúÄÂ§ßÊï∞ÈáèÔºåË∂ÖÂá∫Êï∞ÈáèÁöÑÁ∫øÁ®ãÊéíÈòüÁ≠âÂÄôÔºåÁ≠âÂÖ∂‰ªñÁ∫øÁ®ãÊâßË°åÂÆåÊØïÔºåÂÜç‰ªéÈòüÂàó‰∏≠ÂèñÂá∫‰ªªÂä°Êù•ÊâßË°å„ÄÇ ÁâπÁÇπÔºö ‚Ä¢ Èôç‰ΩéËµÑÊ∫êÊ∂àËÄó: ÈÄöËøáÈáçÂ§çÂà©Áî®Â∑≤ÂàõÂª∫ÁöÑÁ∫øÁ®ãÈôç‰ΩéÁ∫øÁ®ãÂàõÂª∫ÂíåÈîÄÊØÅÈÄ†ÊàêÁöÑÈîÄËÄó„ÄÇ ‚Ä¢ ÊèêÈ´òÂìçÂ∫îÈÄüÂ∫¶: ÂΩì‰ªªÂä°Âà∞ËææÊó∂Ôºå‰ªªÂä°ÂèØ‰ª•‰∏çÈúÄË¶ÅÁ≠âÂæÖÁ∫øÁ®ãÂàõÂª∫Â∞±ËÉΩÁ´ãÂç≥ÊâßË°å„ÄÇ ‚Ä¢ ÊèêÈ´òÁ∫øÁ®ãÁöÑÂèØÁÆ°ÁêÜÊÄß: Á∫øÁ®ãÊòØÁ®ÄÁº∫ËµÑÊ∫êÔºåÂ¶ÇÊûúÊó†ÈôêÂà∂ÁöÑÂàõÂª∫ÔºåÂèØËÉΩ‰ºöÂØºËá¥ÂÜÖÂ≠òÂç†Áî®ËøáÂ§öËÄå‰∫ßÁîüOOMÔºåÂπ∂‰∏î‰ºöÈÄ†ÊàêcpuËøáÂ∫¶ÂàáÊç¢ÔºàcpuÂàáÊç¢Á∫øÁ®ãÊòØÊúâÊó∂Èó¥ÊàêÊú¨ÁöÑÔºàÈúÄË¶Å‰øùÊåÅÂΩìÂâçÊâßË°åÁ∫øÁ®ãÁöÑÁé∞Âú∫ÔºåÂπ∂ÊÅ¢Â§çË¶ÅÊâßË°åÁ∫øÁ®ãÁöÑÁé∞Âú∫ÔºâÔºâ,‰∏ç‰ªÖ‰ºöÈîÄËÄóÁ≥ªÁªüËµÑÊ∫êÔºåËøò‰ºöÈôç‰ΩéÁ≥ªÁªüÁöÑÁ®≥ÂÆöÊÄßÔºå‰ΩøÁî®Á∫øÁ®ãÊ±†ÂèØ‰ª•ËøõË°åÁªü‰∏ÄÁöÑÂàÜÈÖçÔºåË∞É‰ºòÂíåÁõëÊéß„ÄÇÊñπ‰æøÁ∫øÁ®ãÂπ∂ÂèëÊï∞ÁöÑÁÆ°Êéß„ÄÇ ‚Ä¢ Êèê‰æõÊõ¥Âº∫Â§ßÁöÑÂäüËÉΩÔºåÂª∂Êó∂ÂÆöÊó∂Á∫øÁ®ãÊ±†„ÄÇ ‚Ä¢ Java‰∏≠ÁöÑÁ∫øÁ®ãÊ±†ÊòØÈÄöËøáExecutorÊ°ÜÊû∂ÂÆûÁé∞ÁöÑÔºåËØ•Ê°ÜÊû∂‰∏≠Áî®Âà∞‰∫ÜExecutorÔºåExecutorsÔºåExecutorServiceÔºåThreadPoolExecutorËøôÂá†‰∏™Á±ª„ÄÇ ÂàõÂª∫Â∏∏Áî®‰∏âÁßçÁ∫øÁ®ãÊ±†ÁöÑÊñπÂºè 12345678910111213141516171819202122232425262728293031323334package com.atguigu.pool;import java.util.concurrent.ExecutorService;import java.util.concurrent.Executors;//ÊºîÁ§∫Á∫øÁ®ãÊ±†‰∏âÁßçÂ∏∏Áî®ÂàÜÁ±ªpublic class ThreadPoolDemo1 { public static void main(String[] args) { //‰∏ÄÊ±†‰∫îÁ∫øÁ®ã ExecutorService threadPool1 = Executors.newFixedThreadPool(5); //5‰∏™Á™óÂè£ //‰∏ÄÊ±†‰∏ÄÁ∫øÁ®ã ExecutorService threadPool2 = Executors.newSingleThreadExecutor(); //‰∏Ä‰∏™Á™óÂè£ //‰∏ÄÊ±†ÂèØÊâ©ÂÆπÁ∫øÁ®ã ExecutorService threadPool3 = Executors.newCachedThreadPool(); //10‰∏™È°æÂÆ¢ËØ∑Ê±Ç try { for (int i = 1; i &lt;=10; i++) { //ÊâßË°å threadPool3.execute(()-&gt;{ System.out.println(Thread.currentThread().getName()+&quot; ÂäûÁêÜ‰∏öÂä°&quot;); }); } }catch (Exception e) { e.printStackTrace(); }finally { //ÂÖ≥Èó≠ threadPool3.shutdown(); } }} Â∏∏Áî®ÂèÇÊï∞ (ÈáçÁÇπ) ‚Äã ÂΩìÊèê‰∫§‰ªªÂä°Êï∞Â§ß‰∫é corePoolSize ÁöÑÊó∂ÂÄôÔºå‰ºö‰ºòÂÖàÂ∞Ü‰ªªÂä°ÊîæÂà∞ workQueue ÈòªÂ°ûÈòüÂàó‰∏≠„ÄÇÂΩìÈòªÂ°ûÈòüÂàóÈ•±ÂíåÂêéÔºå‰ºöÊâ©ÂÖÖÁ∫øÁ®ãÊ±†‰∏≠Á∫øÁ®ãÊï∞ÔºåÁõ¥Âà∞ËææÂà∞ maximumPoolSize ÊúÄÂ§ßÁ∫øÁ®ãÊï∞ÈÖçÁΩÆ„ÄÇÊ≠§Êó∂ÔºåÂÜçÂ§ö‰ΩôÁöÑ‰ªªÂä°ÔºåÂàô‰ºöËß¶ÂèëÁ∫øÁ®ãÊ±†ÁöÑÊãíÁªùÁ≠ñÁï•‰∫Ü„ÄÇ ‚Äã Âç≥ÔºåÂΩìÊèê‰∫§ÁöÑ‰ªªÂä°Êï∞Â§ß‰∫éÔºàworkQueue.size() + maximumPoolSize ÔºâÔºåÂ∞±‰ºöËß¶ÂèëÁ∫øÁ®ãÊ±†ÁöÑÊãíÁªùÁ≠ñÁï•„ÄÇ 1234public ThreadPoolExecutor(int corePoolSize, int maximumPoolSize, long keepAliveTime, TimeUnit unit, BlockingQueue&lt;Runnable&gt; workQueue) { this(corePoolSize, maximumPoolSize, keepAliveTime, unit, workQueue, Executors.defaultThreadFactory(), defaultHandler);} 1„ÄÅcorePoolSizeÔºàÁ∫øÁ®ãÊ±†Âü∫Êú¨Â§ßÂ∞èÔºâÔºöÂΩìÂêëÁ∫øÁ®ãÊ±†Êèê‰∫§‰∏Ä‰∏™‰ªªÂä°Êó∂ÔºåËã•Á∫øÁ®ãÊ±†Â∑≤ÂàõÂª∫ÁöÑÁ∫øÁ®ãÊï∞Â∞è‰∫écorePoolSizeÔºåÂç≥‰æøÊ≠§Êó∂Â≠òÂú®Á©∫Èó≤Á∫øÁ®ãÔºå‰πü‰ºöÈÄöËøáÂàõÂª∫‰∏Ä‰∏™Êñ∞Á∫øÁ®ãÊù•ÊâßË°åËØ•‰ªªÂä°ÔºåÁõ¥Âà∞Â∑≤ÂàõÂª∫ÁöÑÁ∫øÁ®ãÊï∞Â§ß‰∫éÊàñÁ≠â‰∫écorePoolSizeÊó∂ÔºåÔºàÈô§‰∫ÜÂà©Áî®Êèê‰∫§Êñ∞‰ªªÂä°Êù•ÂàõÂª∫ÂíåÂêØÂä®Á∫øÁ®ãÔºàÊåâÈúÄÊûÑÈÄ†ÔºâÔºå‰πüÂèØ‰ª•ÈÄöËøá prestartCoreThread() Êàñ prestartAllCoreThreads() ÊñπÊ≥ïÊù•ÊèêÂâçÂêØÂä®Á∫øÁ®ãÊ±†‰∏≠ÁöÑÂü∫Êú¨Á∫øÁ®ã„ÄÇÔºâ 2„ÄÅmaximumPoolSizeÔºàÁ∫øÁ®ãÊ±†ÊúÄÂ§ßÂ§ßÂ∞èÔºâÔºöÁ∫øÁ®ãÊ±†ÊâÄÂÖÅËÆ∏ÁöÑÊúÄÂ§ßÁ∫øÁ®ã‰∏™Êï∞„ÄÇÂΩìÈòüÂàóÊª°‰∫ÜÔºå‰∏îÂ∑≤ÂàõÂª∫ÁöÑÁ∫øÁ®ãÊï∞Â∞è‰∫émaximumPoolSizeÔºåÂàôÁ∫øÁ®ãÊ±†‰ºöÂàõÂª∫Êñ∞ÁöÑÁ∫øÁ®ãÊù•ÊâßË°å‰ªªÂä°„ÄÇÂè¶Â§ñÔºåÂØπ‰∫éÊó†ÁïåÈòüÂàóÔºåÂèØÂøΩÁï•ËØ•ÂèÇÊï∞„ÄÇ 3„ÄÅkeepAliveTimeÔºàÁ∫øÁ®ãÂ≠òÊ¥ª‰øùÊåÅÊó∂Èó¥ÔºâÔºàÁßíÔºâÂΩìÁ∫øÁ®ãÊ±†‰∏≠Á∫øÁ®ãÊï∞Â§ß‰∫éÊ†∏ÂøÉÁ∫øÁ®ãÊï∞Êó∂ÔºåÁ∫øÁ®ãÁöÑÁ©∫Èó≤Êó∂Èó¥Â¶ÇÊûúË∂ÖËøáÁ∫øÁ®ãÂ≠òÊ¥ªÊó∂Èó¥ÔºåÈÇ£‰πàËøô‰∏™Á∫øÁ®ãÂ∞±‰ºöË¢´ÈîÄÊØÅÔºåÁõ¥Âà∞Á∫øÁ®ãÊ±†‰∏≠ÁöÑÁ∫øÁ®ãÊï∞Â∞è‰∫éÁ≠â‰∫éÊ†∏ÂøÉÁ∫øÁ®ãÊï∞„ÄÇ 4„ÄÅworkQueueÔºà‰ªªÂä°ÈòüÂàóÔºâÔºöÁî®‰∫é‰º†ËæìÂíå‰øùÂ≠òÁ≠âÂæÖÊâßË°å‰ªªÂä°ÁöÑÈòªÂ°ûÈòüÂàó„ÄÇ 5„ÄÅthreadFactoryÔºàÁ∫øÁ®ãÂ∑•ÂéÇÔºâÔºöÁî®‰∫éÂàõÂª∫Êñ∞Á∫øÁ®ã„ÄÇthreadFactoryÂàõÂª∫ÁöÑÁ∫øÁ®ã‰πüÊòØÈááÁî®new Thread()ÊñπÂºèÔºåthreadFactoryÂàõÂª∫ÁöÑÁ∫øÁ®ãÂêçÈÉΩÂÖ∑ÊúâÁªü‰∏ÄÁöÑÈ£éÊ†ºÔºöpool-m-thread-nÔºàm‰∏∫Á∫øÁ®ãÊ±†ÁöÑÁºñÂè∑Ôºån‰∏∫Á∫øÁ®ãÊ±†ÂÜÖÁöÑÁ∫øÁ®ãÁºñÂè∑Ôºâ„ÄÇ 6„ÄÅhandlerÔºàÁ∫øÁ®ãÈ•±ÂíåÁ≠ñÁï•ÔºâÔºöÂΩìÁ∫øÁ®ãÊ±†ÂíåÈòüÂàóÈÉΩÊª°‰∫ÜÔºåÂÜçÂä†ÂÖ•Á∫øÁ®ã‰ºöÊâßË°åÊ≠§Á≠ñÁï•„ÄÇ 7„ÄÅunit Â≠òÊ¥ªÁöÑÊó∂Èó¥Âçï‰Ωç 1ThreadPoolExecutor threadPool = new ThreadPoolExecutor(corePoolSizeÔºö10, maximumPoolSizeÔºö15, keepAliveTimeÔºö6060, TimeUnit.SECONDS, new LinkedBlockingQueue&lt;Runnable&gt;()); Âç≥ÂàùÂßãÂåñ10‰∏™ÔºåÊúÄÂ§ß15‰∏™ÔºåÂ≠òÊ¥ª6060ÔºåÂçï‰Ωç‰∏∫ÁßíÔºåÊúâÂì™‰∫õÂæÖÊâßË°å‰ªªÂä°„ÄÇ ÊãíÁªùÁ≠ñÁï•(ÈáçÁÇπ) CallerRunsPolicy: ÂΩìËß¶ÂèëÊãíÁªùÁ≠ñÁï•ÔºåÂè™Ë¶ÅÁ∫øÁ®ãÊ±†Ê≤°ÊúâÂÖ≥Èó≠ÁöÑËØùÔºåÂàô‰ΩøÁî®Ë∞ÉÁî®Á∫øÁ®ãÁõ¥Êé•ËøêË°å‰ªªÂä°„ÄÇ‰∏ÄËà¨Âπ∂ÂèëÊØîËæÉÂ∞èÔºåÊÄßËÉΩË¶ÅÊ±Ç‰∏çÈ´òÔºå‰∏çÂÖÅËÆ∏Â§±Ë¥•„ÄÇ‰ΩÜÊòØÔºåÁî±‰∫éË∞ÉÁî®ËÄÖËá™Â∑±ËøêË°å‰ªªÂä°ÔºåÂ¶ÇÊûú‰ªªÂä°Êèê‰∫§ÈÄüÂ∫¶ËøáÂø´ÔºåÂèØËÉΩÂØºËá¥Á®ãÂ∫èÈòªÂ°ûÔºåÊÄßËÉΩÊïàÁéá‰∏äÂøÖÁÑ∂ÁöÑÊçüÂ§±ËæÉÂ§ß AbortPolicy: ‰∏¢ÂºÉ‰ªªÂä°ÔºåÂπ∂ÊäõÂá∫ÊãíÁªùÊâßË°å RejectedExecutionException ÂºÇÂ∏∏‰ø°ÊÅØ„ÄÇÁ∫øÁ®ãÊ±†ÈªòËÆ§ÁöÑÊãíÁªùÁ≠ñÁï•„ÄÇÂøÖÈ°ªÂ§ÑÁêÜÂ•ΩÊäõÂá∫ÁöÑÂºÇÂ∏∏ÔºåÂê¶Âàô‰ºöÊâìÊñ≠ÂΩìÂâçÁöÑÊâßË°åÊµÅÁ®ãÔºåÂΩ±ÂìçÂêéÁª≠ÁöÑ‰ªªÂä°ÊâßË°å„ÄÇ DiscardPolicy: Áõ¥Êé•‰∏¢ÂºÉÔºåÂÖ∂‰ªñÂï•ÈÉΩÊ≤°Êúâ DiscardOldestPolicy: ÂΩìËß¶ÂèëÊãíÁªùÁ≠ñÁï•ÔºåÂè™Ë¶ÅÁ∫øÁ®ãÊ±†Ê≤°ÊúâÂÖ≥Èó≠ÁöÑËØùÔºå‰∏¢ÂºÉÈòªÂ°ûÈòüÂàó workQueue ‰∏≠ÊúÄËÄÅÁöÑ‰∏Ä‰∏™‰ªªÂä°ÔºåÂπ∂Â∞ÜÊñ∞‰ªªÂä°Âä†ÂÖ• Á∫øÁ®ãÊ±†ÁöÑÁßçÁ±ª‰∏éÂàõÂª∫ Á∫øÁ®ãÊ±†ÊÄªÂØπÊØî 1„ÄÅnewCachedThreadPoolÔºöÁî®Êù•ÂàõÂª∫‰∏Ä‰∏™ÂèØ‰ª•Êó†ÈôêÊâ©Â§ßÁöÑÁ∫øÁ®ãÊ±†ÔºåÈÄÇÁî®‰∫éË¥üËΩΩËæÉËΩªÁöÑÂú∫ÊôØÔºåÊâßË°åÁü≠ÊúüÂºÇÊ≠•‰ªªÂä°„ÄÇÔºàÂèØ‰ª•‰ΩøÂæó‰ªªÂä°Âø´ÈÄüÂæóÂà∞ÊâßË°åÔºåÂõ†‰∏∫‰ªªÂä°Êó∂Èó¥ÊâßË°åÁü≠ÔºåÂèØ‰ª•ÂæàÂø´ÁªìÊùüÔºå‰πü‰∏ç‰ºöÈÄ†ÊàêcpuËøáÂ∫¶ÂàáÊç¢Ôºâ 2„ÄÅnewFixedThreadPoolÔºöÂàõÂª∫‰∏Ä‰∏™Âõ∫ÂÆöÂ§ßÂ∞èÁöÑÁ∫øÁ®ãÊ±†ÔºåÂõ†‰∏∫ÈááÁî®Êó†ÁïåÁöÑÈòªÂ°ûÈòüÂàóÔºåÊâÄ‰ª•ÂÆûÈôÖÁ∫øÁ®ãÊï∞ÈáèÊ∞∏Ëøú‰∏ç‰ºöÂèòÂåñÔºåÈÄÇÁî®‰∫éË¥üËΩΩËæÉÈáçÁöÑÂú∫ÊôØÔºåÂØπÂΩìÂâçÁ∫øÁ®ãÊï∞ÈáèËøõË°åÈôêÂà∂„ÄÇÔºà‰øùËØÅÁ∫øÁ®ãÊï∞ÂèØÊéßÔºå‰∏ç‰ºöÈÄ†ÊàêÁ∫øÁ®ãËøáÂ§öÔºåÂØºËá¥Á≥ªÁªüË¥üËΩΩÊõ¥‰∏∫‰∏•ÈáçÔºâ 3„ÄÅnewSingleThreadExecutorÔºöÂàõÂª∫‰∏Ä‰∏™ÂçïÁ∫øÁ®ãÁöÑÁ∫øÁ®ãÊ±†ÔºåÈÄÇÁî®‰∫éÈúÄË¶Å‰øùËØÅÈ°∫Â∫èÊâßË°åÂêÑ‰∏™‰ªªÂä°„ÄÇ 4„ÄÅnewScheduledThreadPoolÔºöÈÄÇÁî®‰∫éÊâßË°åÂª∂Êó∂ÊàñËÄÖÂë®ÊúüÊÄß‰ªªÂä°„ÄÇ newCachedThreadPool(Â∏∏Áî®) ‰ΩúÁî®ÔºöÂàõÂª∫‰∏Ä‰∏™ÂèØÁºìÂ≠òÁ∫øÁ®ãÊ±†ÔºåÂ¶ÇÊûúÁ∫øÁ®ãÊ±†ÈïøÂ∫¶Ë∂ÖËøáÂ§ÑÁêÜÈúÄË¶ÅÔºåÂèØÁÅµÊ¥ªÂõûÊî∂Á©∫Èó≤Á∫øÁ®ãÔºåËã•Êó†ÂèØÂõûÊî∂ÔºåÂàôÊñ∞Âª∫Á∫øÁ®ã. ÁâπÁÇπ: ‚Ä¢ Á∫øÁ®ãÊ±†‰∏≠Êï∞ÈáèÊ≤°ÊúâÂõ∫ÂÆöÔºåÂèØËææÂà∞ÊúÄÂ§ßÂÄºÔºàInterger. MAX_VALUEÔºâ ‚Ä¢ Á∫øÁ®ãÊ±†‰∏≠ÁöÑÁ∫øÁ®ãÂèØËøõË°åÁºìÂ≠òÈáçÂ§çÂà©Áî®ÂíåÂõûÊî∂ÔºàÂõûÊî∂ÈªòËÆ§Êó∂Èó¥‰∏∫1ÂàÜÈíüÔºâ ‚Ä¢ ÂΩìÁ∫øÁ®ãÊ±†‰∏≠ÔºåÊ≤°ÊúâÂèØÁî®Á∫øÁ®ãÔºå‰ºöÈáçÊñ∞ÂàõÂª∫‰∏Ä‰∏™Á∫øÁ®ã ÂàõÂª∫ÊñπÂºèÔºö 1234567891011/** * ÂèØÁºìÂ≠òÁ∫øÁ®ãÊ±† * @return */public static ExecutorService newCachedThreadPool(){ /** * corePoolSizeÁ∫øÁ®ãÊ±†ÁöÑÊ†∏ÂøÉÁ∫øÁ®ãÊï∞ * maximumPoolSizeËÉΩÂÆπÁ∫≥ÁöÑÊúÄÂ§ßÁ∫øÁ®ãÊï∞ * keepAliveTimeÁ©∫Èó≤Á∫øÁ®ãÂ≠òÊ¥ªÊó∂Èó¥ * unit Â≠òÊ¥ªÁöÑÊó∂Èó¥Âçï‰Ωç * workQueue Â≠òÊîæÊèê‰∫§‰ΩÜÊú™ÊâßË°å‰ªªÂä°ÁöÑÈòüÂàó * threadFactory ÂàõÂª∫Á∫øÁ®ãÁöÑÂ∑•ÂéÇÁ±ª:ÂèØ‰ª•ÁúÅÁï• * handler Á≠âÂæÖÈòüÂàóÊª°ÂêéÁöÑÊãíÁªùÁ≠ñÁï•:ÂèØ‰ª•ÁúÅÁï• */ return new ThreadPoolExecutor(0, Integer.MAX_VALUE, 60L, TimeUnit.SECONDS, new SynchronousQueue&lt;&gt;(), Executors.defaultThreadFactory(), new ThreadPoolExecutor.AbortPolicy()); } newFixedThreadPool(Â∏∏Áî®) ‰ΩúÁî®ÔºöÂàõÂª∫‰∏Ä‰∏™ÂèØÈáçÁî®Âõ∫ÂÆöÁ∫øÁ®ãÊï∞ÁöÑÁ∫øÁ®ãÊ±†Ôºå‰ª•ÂÖ±‰∫´ÁöÑÊó†ÁïåÈòüÂàóÊñπÂºèÊù•ËøêË°åËøô‰∫õÁ∫øÁ®ã„ÄÇÂú®‰ªªÊÑèÁÇπÔºåÂú®Â§ßÂ§öÊï∞Á∫øÁ®ã‰ºöÂ§Ñ‰∫éÂ§ÑÁêÜ‰ªªÂä°ÁöÑÊ¥ªÂä®Áä∂ÊÄÅ„ÄÇÂ¶ÇÊûúÂú®ÊâÄÊúâÁ∫øÁ®ãÂ§Ñ‰∫éÊ¥ªÂä®Áä∂ÊÄÅÊó∂Êèê‰∫§ÈôÑÂä†‰ªªÂä°ÔºåÂàôÂú®ÊúâÂèØÁî®Á∫øÁ®ã‰πãÂâçÔºåÈôÑÂä†‰ªªÂä°Â∞ÜÂú®ÈòüÂàó‰∏≠Á≠âÂæÖ„ÄÇÂ¶ÇÊûúÂú®ÂÖ≥Èó≠ÂâçÁöÑÊâßË°åÊúüÈó¥Áî±‰∫éÂ§±Ë¥•ËÄåÂØºËá¥‰ªª‰ΩïÁ∫øÁ®ãÁªàÊ≠¢ÔºåÈÇ£‰πà‰∏Ä‰∏™Êñ∞Á∫øÁ®ãÂ∞Ü‰ª£ÊõøÂÆÉÊâßË°åÂêéÁª≠ÁöÑ‰ªªÂä°ÔºàÂ¶ÇÊûúÈúÄË¶ÅÔºâ„ÄÇÂú®Êüê‰∏™Á∫øÁ®ãË¢´ÊòæÂºèÂú∞ÂÖ≥Èó≠‰πãÂâçÔºåÊ±†‰∏≠ÁöÑÁ∫øÁ®ãÂ∞Ü‰∏ÄÁõ¥Â≠òÂú®„ÄÇÂú∫ÊôØ: ÈÄÇÁî®‰∫éÂèØ‰ª•È¢ÑÊµãÁ∫øÁ®ãÊï∞ÈáèÁöÑ‰∏öÂä°‰∏≠ÔºåÊàñËÄÖÊúçÂä°Âô®Ë¥üËΩΩËæÉÈáçÔºåÂØπÁ∫øÁ®ãÊï∞Êúâ‰∏•Ê†ºÈôêÂà∂ÁöÑÂú∫ÊôØ ÁâπÂæÅÔºö ‚Ä¢ Á∫øÁ®ãÊ±†‰∏≠ÁöÑÁ∫øÁ®ãÂ§Ñ‰∫é‰∏ÄÂÆöÁöÑÈáèÔºåÂèØ‰ª•ÂæàÂ•ΩÁöÑÊéßÂà∂Á∫øÁ®ãÁöÑÂπ∂ÂèëÈáè ‚Ä¢ Á∫øÁ®ãÂèØ‰ª•ÈáçÂ§çË¢´‰ΩøÁî®ÔºåÂú®ÊòæÁ§∫ÂÖ≥Èó≠‰πãÂâçÔºåÈÉΩÂ∞Ü‰∏ÄÁõ¥Â≠òÂú® ‚Ä¢ Ë∂ÖÂá∫‰∏ÄÂÆöÈáèÁöÑÁ∫øÁ®ãË¢´Êèê‰∫§Êó∂ÂÄôÈúÄÂú®ÈòüÂàó‰∏≠Á≠âÂæÖ ÂàõÂª∫ÊñπÂºèÔºö 123456789101112/** * Âõ∫ÂÆöÈïøÂ∫¶Á∫øÁ®ãÊ±† * @return */ public static ExecutorService newFixedThreadPool(){ /** * corePoolSizeÁ∫øÁ®ãÊ±†ÁöÑÊ†∏ÂøÉÁ∫øÁ®ãÊï∞ * maximumPoolSizeËÉΩÂÆπÁ∫≥ÁöÑÊúÄÂ§ßÁ∫øÁ®ãÊï∞ * keepAliveTimeÁ©∫Èó≤Á∫øÁ®ãÂ≠òÊ¥ªÊó∂Èó¥ * unit Â≠òÊ¥ªÁöÑÊó∂Èó¥Âçï‰Ωç * workQueue Â≠òÊîæÊèê‰∫§‰ΩÜÊú™ÊâßË°å‰ªªÂä°ÁöÑÈòüÂàó * threadFactory ÂàõÂª∫Á∫øÁ®ãÁöÑÂ∑•ÂéÇÁ±ª:ÂèØ‰ª•ÁúÅÁï• * handler Á≠âÂæÖÈòüÂàóÊª°ÂêéÁöÑÊãíÁªùÁ≠ñÁï•:ÂèØ‰ª•ÁúÅÁï• */ return new ThreadPoolExecutor(10, 10, 0L, TimeUnit.SECONDS, new LinkedBlockingQueue&lt;&gt;(), Executors.defaultThreadFactory(), new ThreadPoolExecutor.AbortPolicy()); } newSingleThreadExecutor(Â∏∏Áî®) ‰ΩúÁî®ÔºöÂàõÂª∫‰∏Ä‰∏™‰ΩøÁî®Âçï‰∏™ worker Á∫øÁ®ãÁöÑ ExecutorÔºå‰ª•Êó†ÁïåÈòüÂàóÊñπÂºèÊù•ËøêË°åËØ•Á∫øÁ®ã„ÄÇÔºàÊ≥®ÊÑèÔºåÂ¶ÇÊûúÂõ†‰∏∫Âú®ÂÖ≥Èó≠ÂâçÁöÑÊâßË°åÊúüÈó¥Âá∫Áé∞Â§±Ë¥•ËÄåÁªàÊ≠¢‰∫ÜÊ≠§Âçï‰∏™Á∫øÁ®ãÔºåÈÇ£‰πàÂ¶ÇÊûúÈúÄË¶ÅÔºå‰∏Ä‰∏™Êñ∞Á∫øÁ®ãÂ∞Ü‰ª£ÊõøÂÆÉÊâßË°åÂêéÁª≠ÁöÑ‰ªªÂä°Ôºâ„ÄÇÂèØ‰øùËØÅÈ°∫Â∫èÂú∞ÊâßË°åÂêÑ‰∏™‰ªªÂä°ÔºåÂπ∂‰∏îÂú®‰ªªÊÑèÁªôÂÆöÁöÑÊó∂Èó¥‰∏ç‰ºöÊúâÂ§ö‰∏™Á∫øÁ®ãÊòØÊ¥ªÂä®ÁöÑ„ÄÇ‰∏éÂÖ∂‰ªñÁ≠âÊïàÁöÑnewFixedThreadPool‰∏çÂêåÔºåÂèØ‰øùËØÅÊó†ÈúÄÈáçÊñ∞ÈÖçÁΩÆÊ≠§ÊñπÊ≥ïÊâÄËøîÂõûÁöÑÊâßË°åÁ®ãÂ∫èÂç≥ÂèØ‰ΩøÁî®ÂÖ∂‰ªñÁöÑÁ∫øÁ®ã„ÄÇÂú∫ÊôØ: ÈÄÇÁî®‰∫éÈúÄË¶Å‰øùËØÅÈ°∫Â∫èÊâßË°åÂêÑ‰∏™‰ªªÂä°ÔºåÂπ∂‰∏îÂú®‰ªªÊÑèÊó∂Èó¥ÁÇπÔºå‰∏ç‰ºöÂêåÊó∂ÊúâÂ§ö‰∏™Á∫øÁ®ãÁöÑÂú∫ÊôØ„ÄÇ ÁâπÂæÅÔºö Á∫øÁ®ãÊ±†‰∏≠ÊúÄÂ§öÊâßË°å1‰∏™Á∫øÁ®ãÔºå‰πãÂêéÊèê‰∫§ÁöÑÁ∫øÁ®ãÊ¥ªÂä®Â∞Ü‰ºöÊéíÂú®ÈòüÂàó‰∏≠‰ª•Ê≠§ÊâßË°å ÂàõÂª∫ÊñπÂºèÔºö 1234567891011/** * Âçï‰∏ÄÁ∫øÁ®ãÊ±† * @return */ /** * corePoolSizeÁ∫øÁ®ãÊ±†ÁöÑÊ†∏ÂøÉÁ∫øÁ®ãÊï∞ * maximumPoolSizeËÉΩÂÆπÁ∫≥ÁöÑÊúÄÂ§ßÁ∫øÁ®ãÊï∞ * keepAliveTimeÁ©∫Èó≤Á∫øÁ®ãÂ≠òÊ¥ªÊó∂Èó¥ * unit Â≠òÊ¥ªÁöÑÊó∂Èó¥Âçï‰Ωç * workQueue Â≠òÊîæÊèê‰∫§‰ΩÜÊú™ÊâßË°å‰ªªÂä°ÁöÑÈòüÂàó * threadFactory ÂàõÂª∫Á∫øÁ®ãÁöÑÂ∑•ÂéÇÁ±ª:ÂèØ‰ª•ÁúÅÁï• * handler Á≠âÂæÖÈòüÂàóÊª°ÂêéÁöÑÊãíÁªùÁ≠ñÁï•:ÂèØ‰ª•ÁúÅÁï• */public static ExecutorService newSingleThreadExecutor(){ return new ThreadPoolExecutor(1, 1, 0L, TimeUnit.SECONDS, new LinkedBlockingQueue&lt;&gt;(), Executors.defaultThreadFactory(), new ThreadPoolExecutor.AbortPolicy()); } newScheduleThreadPool(‰∫ÜËß£) ‰ΩúÁî®: Á∫øÁ®ãÊ±†ÊîØÊåÅÂÆöÊó∂‰ª•ÂèäÂë®ÊúüÊÄßÊâßË°å‰ªªÂä°ÔºåÂàõÂª∫‰∏Ä‰∏™corePoolSize‰∏∫‰º†ÂÖ•ÂèÇÊï∞ÔºåÊúÄÂ§ßÁ∫øÁ®ãÊï∞‰∏∫Êï¥ÂΩ¢ÁöÑÊúÄÂ§ßÊï∞ÁöÑÁ∫øÁ®ãÊ±†„ÄÇÂú∫ÊôØ: ÈÄÇÁî®‰∫éÈúÄË¶ÅÂ§ö‰∏™ÂêéÂè∞Á∫øÁ®ãÊâßË°åÂë®Êúü‰ªªÂä°ÁöÑÂú∫ÊôØ„ÄÇ ÁâπÂæÅ: Ôºà1ÔºâÁ∫øÁ®ãÊ±†‰∏≠ÂÖ∑ÊúâÊåáÂÆöÊï∞ÈáèÁöÑÁ∫øÁ®ãÔºåÂç≥‰æøÊòØÁ©∫Á∫øÁ®ã‰πüÂ∞Ü‰øùÁïô Ôºà2ÔºâÂèØÂÆöÊó∂ÊàñËÄÖÂª∂ËøüÊâßË°åÁ∫øÁ®ãÊ¥ªÂä® ÂàõÂª∫ÊñπÂºè: 12public static ScheduledExecutorService newScheduledThreadPool(int corePoolSize, ThreadFactory threadFactory) { return new ScheduledThreadPoolExecutor(corePoolSize, threadFactory); } newWorkStealingPool jdk1.8Êèê‰æõÁöÑÁ∫øÁ®ãÊ±†ÔºåÂ∫ïÂ±Ç‰ΩøÁî®ÁöÑÊòØForkJoinPoolÂÆûÁé∞ÔºåÂàõÂª∫‰∏Ä‰∏™Êã•ÊúâÂ§ö‰∏™‰ªªÂä°ÈòüÂàóÁöÑÁ∫øÁ®ãÊ±†ÔºåÂèØ‰ª•ÂáèÂ∞ëËøûÊé•Êï∞ÔºåÂàõÂª∫ÂΩìÂâçÂèØÁî®cpuÊ†∏Êï∞ÁöÑÁ∫øÁ®ãÊù•Âπ∂Ë°åÊâßË°å‰ªªÂä°„ÄÇÂú∫ÊôØ: ÈÄÇÁî®‰∫éÂ§ßËÄóÊó∂ÔºåÂèØÂπ∂Ë°åÊâßË°åÁöÑÂú∫ÊôØ ÂàõÂª∫ÊñπÂºè: 12345678public static ExecutorService newWorkStealingPool(int parallelism) { /** * parallelismÔºöÂπ∂Ë°åÁ∫ßÂà´ÔºåÈÄöÂ∏∏ÈªòËÆ§‰∏∫JVMÂèØÁî®ÁöÑÂ§ÑÁêÜÂô®‰∏™Êï∞ * factoryÔºöÁî®‰∫éÂàõÂª∫ForkJoinPool‰∏≠‰ΩøÁî®ÁöÑÁ∫øÁ®ã„ÄÇ * handlerÔºöÁî®‰∫éÂ§ÑÁêÜÂ∑•‰ΩúÁ∫øÁ®ãÊú™Â§ÑÁêÜÁöÑÂºÇÂ∏∏ÔºåÈªòËÆ§‰∏∫null * asyncModeÔºöÁî®‰∫éÊéßÂà∂WorkQueueÁöÑÂ∑•‰ΩúÊ®°Âºè:ÈòüÂàó---ÂèçÈòüÂàó*/ return new ForkJoinPool(parallelism, ForkJoinPool.defaultForkJoinWorkerThreadFactory, null, true); } Â∫ïÂ±ÇÂéüÁêÜ Âú®ÂàõÂª∫‰∫ÜÁ∫øÁ®ãÊ±†ÂêéÔºåÁ∫øÁ®ãÊ±†‰∏≠ÁöÑÁ∫øÁ®ãÊï∞‰∏∫Èõ∂ ÂΩìË∞ÉÁî®execute()ÊñπÊ≥ïÊ∑ªÂä†‰∏Ä‰∏™ËØ∑Ê±Ç‰ªªÂä°Êó∂ÔºåÁ∫øÁ®ãÊ±†‰ºöÂÅöÂá∫Â¶Ç‰∏ãÂà§Êñ≠Ôºö 2.1 Â¶ÇÊûúÊ≠£Âú®ËøêË°åÁöÑÁ∫øÁ®ãÊï∞ÈáèÂ∞è‰∫écorePoolSizeÔºåÈÇ£‰πàÈ©¨‰∏äÂàõÂª∫Á∫øÁ®ãËøêË°åËøô‰∏™‰ªªÂä°Ôºõ 2.2 Â¶ÇÊûúÊ≠£Âú®ËøêË°åÁöÑÁ∫øÁ®ãÊï∞ÈáèÂ§ß‰∫éÊàñÁ≠â‰∫écorePoolSizeÔºåÈÇ£‰πàÂ∞ÜËøô‰∏™‰ªªÂä°ÊîæÂÖ•ÈòüÂàóÔºõ 2.3 Â¶ÇÊûúËøô‰∏™Êó∂ÂÄôÈòüÂàóÊª°‰∫Ü‰∏îÊ≠£Âú®ËøêË°åÁöÑÁ∫øÁ®ãÊï∞ÈáèËøòÂ∞è‰∫émaximumPoolSizeÔºåÈÇ£‰πàËøòÊòØË¶ÅÂàõÂª∫ÈùûÊ†∏ÂøÉÁ∫øÁ®ãÁ´ãÂàªËøêË°åËøô‰∏™‰ªªÂä°Ôºõ 2.4 Â¶ÇÊûúÈòüÂàóÊª°‰∫Ü‰∏îÊ≠£Âú®ËøêË°åÁöÑÁ∫øÁ®ãÊï∞ÈáèÂ§ß‰∫éÊàñÁ≠â‰∫émaximumPoolSizeÔºåÈÇ£‰πàÁ∫øÁ®ãÊ±†‰ºöÂêØÂä®È•±ÂíåÊãíÁªùÁ≠ñÁï•Êù•ÊâßË°å„ÄÇ ÂΩì‰∏Ä‰∏™Á∫øÁ®ãÂÆåÊàê‰ªªÂä°Êó∂ÔºåÂÆÉ‰ºö‰ªéÈòüÂàó‰∏≠Âèñ‰∏ã‰∏Ä‰∏™‰ªªÂä°Êù•ÊâßË°å ÂΩì‰∏Ä‰∏™Á∫øÁ®ãÊó†‰∫ãÂèØÂÅöË∂ÖËøá‰∏ÄÂÆöÁöÑÊó∂Èó¥ÔºàkeepAliveTimeÔºâÊó∂ÔºåÁ∫øÁ®ã‰ºöÂà§Êñ≠Ôºö 4.1 Â¶ÇÊûúÂΩìÂâçËøêË°åÁöÑÁ∫øÁ®ãÊï∞Â§ß‰∫écorePoolSizeÔºåÈÇ£‰πàËøô‰∏™Á∫øÁ®ãÂ∞±Ë¢´ÂÅúÊéâ„ÄÇ 4.2 ÊâÄ‰ª•Á∫øÁ®ãÊ±†ÁöÑÊâÄÊúâ‰ªªÂä°ÂÆåÊàêÂêéÔºåÂÆÉÊúÄÁªà‰ºöÊî∂Áº©Âà∞corePoolSizeÁöÑÂ§ßÂ∞è„ÄÇ Ê≥®ÊÑè‰∫ãÈ°π(ÈáçË¶Å) È°πÁõÆ‰∏≠ÂàõÂª∫Â§öÁ∫øÁ®ãÊó∂Ôºå‰ΩøÁî®Â∏∏ËßÅÁöÑ‰∏âÁßçÁ∫øÁ®ãÊ±†ÂàõÂª∫ÊñπÂºèÔºåÂçï‰∏Ä„ÄÅÂèØÂèò„ÄÅÂÆöÈïøÈÉΩÊúâ‰∏ÄÂÆöÈóÆÈ¢òÔºåÂéüÂõ†ÊòØFixedThreadPoolÂíåSingleThreadExecutorÂ∫ïÂ±ÇÈÉΩÊòØÁî®LinkedBlockingQueueÂÆûÁé∞ÁöÑÔºåËøô‰∏™ÈòüÂàóÊúÄÂ§ßÈïøÂ∫¶‰∏∫Integer.MAX_VALUEÔºåÂÆπÊòìÂØºËá¥OOM„ÄÇÊâÄ‰ª•ÂÆûÈôÖÁîü‰∫ß‰∏ÄËà¨Ëá™Â∑±ÈÄöËøáThreadPoolExecutorÁöÑ7‰∏™ÂèÇÊï∞ÔºåËá™ÂÆö‰πâÁ∫øÁ®ãÊ±† ÂàõÂª∫Á∫øÁ®ãÊ±†Êé®ËçêÈÄÇÁî®ThreadPoolExecutorÂèäÂÖ∂7‰∏™ÂèÇÊï∞ÊâãÂä®ÂàõÂª∫ corePoolSizeÁ∫øÁ®ãÊ±†ÁöÑÊ†∏ÂøÉÁ∫øÁ®ãÊï∞ maximumPoolSizeËÉΩÂÆπÁ∫≥ÁöÑÊúÄÂ§ßÁ∫øÁ®ãÊï∞ keepAliveTimeÁ©∫Èó≤Á∫øÁ®ãÂ≠òÊ¥ªÊó∂Èó¥ unit Â≠òÊ¥ªÁöÑÊó∂Èó¥Âçï‰Ωç workQueue Â≠òÊîæÊèê‰∫§‰ΩÜÊú™ÊâßË°å‰ªªÂä°ÁöÑÈòüÂàó threadFactory ÂàõÂª∫Á∫øÁ®ãÁöÑÂ∑•ÂéÇÁ±ª handler Á≠âÂæÖÈòüÂàóÊª°ÂêéÁöÑÊãíÁªùÁ≠ñÁï• ‚Äã ÊâãÂä®ÂàõÂª∫Á§∫‰æã 12345678910111213141516171819202122232425262728293031323334package com.atguigu.pool;import java.util.concurrent.*;//Ëá™ÂÆö‰πâÊâãÂä®Á∫øÁ®ãÊ±†ÂàõÂª∫public class ThreadPoolDemo2 { public static void main(String[] args) { ExecutorService threadPool = new ThreadPoolExecutor( 2, 5, 2L, TimeUnit.SECONDS, new ArrayBlockingQueue&lt;&gt;(3), Executors.defaultThreadFactory(), new ThreadPoolExecutor.AbortPolicy() ); //10‰∏™È°æÂÆ¢ËØ∑Ê±Ç try { for (int i = 1; i &lt;=10; i++) { //ÊâßË°å threadPool.execute(()-&gt;{ System.out.println(Thread.currentThread().getName()+&quot; ÂäûÁêÜ‰∏öÂä°&quot;); }); } }catch (Exception e) { e.printStackTrace(); }finally { //ÂÖ≥Èó≠ threadPool.shutdown(); } }} ‰∏∫‰ªÄ‰πà‰∏çÂÖÅËÆ∏ÈÄÇÁî®‰∏çÂÖÅËÆ∏Executors.ÁöÑÊñπÂºèÊâãÂä®ÂàõÂª∫Á∫øÁ®ãÊ±†,Â¶Ç‰∏ãÂõæ 123456789101112131415161718192021222324252627282930313233343536373839404142 /**‰ΩøÁî®ExecutorsÂàõÂª∫Á∫øÁ®ãÊ±†ÔºåÂª∫ËÆÆÊâãÂä®ÂàõÂª∫Á∫øÁ®ãÊ±† * Á∫øÁ®ãÊ±†‰∏çÂÖÅËÆ∏‰ΩøÁî®ExecutorsÂéªÂàõÂª∫ÔºåËÄåÊòØÈÄöËøáThreadPoolExecutorÁöÑÊñπÂºèÔºåËøôÊ†∑ÁöÑÂ§ÑÁêÜÊñπÂºèËÆ©ÂÜôÁöÑÂêåÂ≠¶Êõ¥Âä†ÊòéÁ°ÆÁ∫øÁ®ãÊ±†ÁöÑËøêË°åËßÑÂàôÔºåËßÑÈÅøËµÑÊ∫êËÄóÂ∞ΩÁöÑÈ£éÈô©„ÄÇ ËØ¥ÊòéÔºöExecutorsËøîÂõûÁöÑÁ∫øÁ®ãÊ±†ÂØπË±°ÁöÑÂºäÁ´ØÂ¶Ç‰∏ãÔºö * 1ÔºâFixedThreadPoolÂíåSingleThreadPool: * ÂÖÅËÆ∏ÁöÑËØ∑Ê±ÇÈòüÂàóÈïøÂ∫¶‰∏∫Integer.MAX_VALUEÔºåÂèØËÉΩ‰ºöÂ†ÜÁßØÂ§ßÈáèÁöÑËØ∑Ê±ÇÔºå‰ªéËÄåÂØºËá¥OOM„ÄÇ * 2ÔºâCachedThreadPool: * ÂÖÅËÆ∏ÁöÑÂàõÂª∫Á∫øÁ®ãÊï∞Èáè‰∏∫Integer.MAX_VALUEÔºåÂèØËÉΩ‰ºöÂàõÂª∫Â§ßÈáèÁöÑÁ∫øÁ®ãÔºå‰ªéËÄåÂØºËá¥OOM„ÄÇ*/ Positive example 1Ôºö //org.apache.commons.lang3.concurrent.BasicThreadFactory ScheduledExecutorService executorService = new ScheduledThreadPoolExecutor(1, new BasicThreadFactory.Builder().namingPattern(&quot;example-schedule-pool-%d&quot;).daemon(true).build()); Positive example 2Ôºö ThreadFactory namedThreadFactory = new ThreadFactoryBuilder() .setNameFormat(&quot;demo-pool-%d&quot;).build(); //Common Thread Pool ExecutorService pool = new ThreadPoolExecutor(5, 200, 0L, TimeUnit.MILLISECONDS, new LinkedBlockingQueue&lt;Runnable&gt;(1024), namedThreadFactory, new ThreadPoolExecutor.AbortPolicy()); pool.execute(()-&gt; System.out.println(Thread.currentThread().getName())); pool.shutdown();//gracefully shutdown Positive example 3Ôºö &lt;bean id=&quot;userThreadPool&quot; class=&quot;org.springframework.scheduling.concurrent.ThreadPoolTaskExecutor&quot;&gt; &lt;property name=&quot;corePoolSize&quot; value=&quot;10&quot; /&gt; &lt;property name=&quot;maxPoolSize&quot; value=&quot;100&quot; /&gt; &lt;property name=&quot;queueCapacity&quot; value=&quot;2000&quot; /&gt; &lt;property name=&quot;threadFactory&quot; value= threadFactory /&gt; &lt;property name=&quot;rejectedExecutionHandler&quot;&gt; &lt;ref local=&quot;rejectedExecutionHandler&quot; /&gt; &lt;/property&gt; &lt;/bean&gt; //in code userThreadPool.execute(thread); Á∫øÁ®ãÊ±†ÊµÅÁ®ã Á∫øÁ®ãÊ±†ÊµÅÁ®ã 1„ÄÅÂà§Êñ≠Ê†∏ÂøÉÁ∫øÁ®ãÊ±†ÊòØÂê¶Â∑≤Êª°ÔºåÊ≤°Êª°ÂàôÂàõÂª∫‰∏Ä‰∏™Êñ∞ÁöÑÂ∑•‰ΩúÁ∫øÁ®ãÊù•ÊâßË°å‰ªªÂä°„ÄÇÂ∑≤Êª°Âàô„ÄÇ 2„ÄÅÂà§Êñ≠‰ªªÂä°ÈòüÂàóÊòØÂê¶Â∑≤Êª°ÔºåÊ≤°Êª°ÂàôÂ∞ÜÊñ∞Êèê‰∫§ÁöÑ‰ªªÂä°Ê∑ªÂä†Âú®Â∑•‰ΩúÈòüÂàóÔºåÂ∑≤Êª°Âàô„ÄÇ 3„ÄÅÂà§Êñ≠Êï¥‰∏™Á∫øÁ®ãÊ±†ÊòØÂê¶Â∑≤Êª°ÔºåÊ≤°Êª°ÂàôÂàõÂª∫‰∏Ä‰∏™Êñ∞ÁöÑÂ∑•‰ΩúÁ∫øÁ®ãÊù•ÊâßË°å‰ªªÂä°ÔºåÂ∑≤Êª°ÂàôÊâßË°åÈ•±ÂíåÁ≠ñÁï•„ÄÇ Ôºà1„ÄÅÂà§Êñ≠Á∫øÁ®ãÊ±†‰∏≠ÂΩìÂâçÁ∫øÁ®ãÊï∞ÊòØÂê¶Â§ß‰∫éÊ†∏ÂøÉÁ∫øÁ®ãÊï∞ÔºåÂ¶ÇÊûúÂ∞è‰∫éÔºåÂú®ÂàõÂª∫‰∏Ä‰∏™Êñ∞ÁöÑÁ∫øÁ®ãÊù•ÊâßË°å‰ªªÂä°ÔºåÂ¶ÇÊûúÂ§ß‰∫éÂàô 2„ÄÅÂà§Êñ≠‰ªªÂä°ÈòüÂàóÊòØÂê¶Â∑≤Êª°ÔºåÊ≤°Êª°ÂàôÂ∞ÜÊñ∞Êèê‰∫§ÁöÑ‰ªªÂä°Ê∑ªÂä†Âú®Â∑•‰ΩúÈòüÂàóÔºåÂ∑≤Êª°Âàô„ÄÇ 3„ÄÅÂà§Êñ≠Á∫øÁ®ãÊ±†‰∏≠ÂΩìÂâçÁ∫øÁ®ãÊï∞ÊòØÂê¶Â§ß‰∫éÊúÄÂ§ßÁ∫øÁ®ãÊï∞ÔºåÂ¶ÇÊûúÂ∞è‰∫éÔºåÂàôÂàõÂª∫‰∏Ä‰∏™Êñ∞ÁöÑÁ∫øÁ®ãÊù•ÊâßË°å‰ªªÂä°ÔºåÂ¶ÇÊûúÂ§ß‰∫éÔºåÂàôÊâßË°åÈ•±ÂíåÁ≠ñÁï•„ÄÇÔºâ Á∫øÁ®ãÊ±†‰∏∫‰ªÄ‰πàÈúÄË¶Å‰ΩøÁî®ÔºàÈòªÂ°ûÔºâÈòüÂàóÔºü ÂõûÂà∞‰∫ÜÈùûÁ∫øÁ®ãÊ±†Áº∫ÁÇπ‰∏≠ÁöÑÁ¨¨3ÁÇπÔºö 1„ÄÅÂõ†‰∏∫Á∫øÁ®ãËã•ÊòØÊó†ÈôêÂà∂ÁöÑÂàõÂª∫ÔºåÂèØËÉΩ‰ºöÂØºËá¥ÂÜÖÂ≠òÂç†Áî®ËøáÂ§öËÄå‰∫ßÁîüOOMÔºåÂπ∂‰∏î‰ºöÈÄ†ÊàêcpuËøáÂ∫¶ÂàáÊç¢„ÄÇ Âè¶Â§ñÂõûÂà∞‰∫ÜÈùûÁ∫øÁ®ãÊ±†Áº∫ÁÇπ‰∏≠ÁöÑÁ¨¨1ÁÇπÔºö 2„ÄÅÂàõÂª∫Á∫øÁ®ãÁöÑÊ∂àËÄóËæÉÈ´ò„ÄÇ ÊàñËÄÖ‰∏ãÈù¢Ëøô‰∏™ÁΩë‰∏äÂπ∂‰∏çÈ´òÊòéÁöÑÂõûÁ≠îÔºö 2„ÄÅÁ∫øÁ®ãÊ±†ÂàõÂª∫Á∫øÁ®ãÈúÄË¶ÅËé∑ÂèñmainlockËøô‰∏™ÂÖ®Â±ÄÈîÅÔºåÂΩ±ÂìçÂπ∂ÂèëÊïàÁéáÔºåÈòªÂ°ûÈòüÂàóÂèØ‰ª•ÂæàÂ•ΩÁöÑÁºìÂÜ≤„ÄÇ Á∫øÁ®ãÊ±†‰∏∫‰ªÄ‰πàË¶Å‰ΩøÁî®ÈòªÂ°ûÈòüÂàóËÄå‰∏ç‰ΩøÁî®ÈùûÈòªÂ°ûÈòüÂàóÔºü ÈòªÂ°ûÈòüÂàóÂèØ‰ª•‰øùËØÅ‰ªªÂä°ÈòüÂàó‰∏≠Ê≤°Êúâ‰ªªÂä°Êó∂ÈòªÂ°ûËé∑Âèñ‰ªªÂä°ÁöÑÁ∫øÁ®ãÔºå‰ΩøÂæóÁ∫øÁ®ãËøõÂÖ•waitÁä∂ÊÄÅÔºåÈáäÊîæcpuËµÑÊ∫ê„ÄÇ ÂΩìÈòüÂàó‰∏≠Êúâ‰ªªÂä°Êó∂ÊâçÂî§ÈÜíÂØπÂ∫îÁ∫øÁ®ã‰ªéÈòüÂàó‰∏≠ÂèñÂá∫Ê∂àÊÅØËøõË°åÊâßË°å„ÄÇ ‰ΩøÂæóÂú®Á∫øÁ®ã‰∏çËá≥‰∫é‰∏ÄÁõ¥Âç†Áî®cpuËµÑÊ∫ê„ÄÇ ÔºàÁ∫øÁ®ãÊâßË°åÂÆå‰ªªÂä°ÂêéÈÄöËøáÂæ™ÁéØÂÜçÊ¨°‰ªé‰ªªÂä°ÈòüÂàó‰∏≠ÂèñÂá∫‰ªªÂä°ËøõË°åÊâßË°åÔºå‰ª£Á†ÅÁâáÊÆµÂ¶Ç‰∏ã while (task != null || (task = getTask()) != null) {}Ôºâ„ÄÇ ‰∏çÁî®ÈòªÂ°ûÈòüÂàó‰πüÊòØÂèØ‰ª•ÁöÑÔºå‰∏çËøáÂÆûÁé∞Ëµ∑Êù•ÊØîËæÉÈ∫ªÁÉ¶ËÄåÂ∑≤ÔºåÊúâÂ•ΩÁî®ÁöÑ‰∏∫Âï•‰∏çÁî®Âë¢Ôºü Â¶Ç‰ΩïÈÖçÁΩÆÁ∫øÁ®ãÊ±† CPUÂØÜÈõÜÂûã‰ªªÂä° Â∞ΩÈáè‰ΩøÁî®ËæÉÂ∞èÁöÑÁ∫øÁ®ãÊ±†Ôºå‰∏ÄËà¨‰∏∫CPUÊ†∏ÂøÉÊï∞+1„ÄÇ Âõ†‰∏∫CPUÂØÜÈõÜÂûã‰ªªÂä°‰ΩøÂæóCPU‰ΩøÁî®ÁéáÂæàÈ´òÔºåËã•ÂºÄËøáÂ§öÁöÑÁ∫øÁ®ãÊï∞Ôºå‰ºöÈÄ†ÊàêCPUËøáÂ∫¶ÂàáÊç¢„ÄÇ IOÂØÜÈõÜÂûã‰ªªÂä° ÂèØ‰ª•‰ΩøÁî®Á®çÂ§ßÁöÑÁ∫øÁ®ãÊ±†Ôºå‰∏ÄËà¨‰∏∫2*CPUÊ†∏ÂøÉÊï∞„ÄÇ IOÂØÜÈõÜÂûã‰ªªÂä°CPU‰ΩøÁî®ÁéáÂπ∂‰∏çÈ´òÔºåÂõ†Ê≠§ÂèØ‰ª•ËÆ©CPUÂú®Á≠âÂæÖIOÁöÑÊó∂ÂÄôÊúâÂÖ∂‰ªñÁ∫øÁ®ãÂéªÂ§ÑÁêÜÂà´ÁöÑ‰ªªÂä°ÔºåÂÖÖÂàÜÂà©Áî®CPUÊó∂Èó¥„ÄÇ Ê∑∑ÂêàÂûã‰ªªÂä° ÂèØ‰ª•Â∞Ü‰ªªÂä°ÂàÜÊàêIOÂØÜÈõÜÂûãÂíåCPUÂØÜÈõÜÂûã‰ªªÂä°ÔºåÁÑ∂ÂêéÂàÜÂà´Áî®‰∏çÂêåÁöÑÁ∫øÁ®ãÊ±†ÂéªÂ§ÑÁêÜ„ÄÇ Âè™Ë¶ÅÂàÜÂÆå‰πãÂêé‰∏§‰∏™‰ªªÂä°ÁöÑÊâßË°åÊó∂Èó¥Áõ∏Â∑Æ‰∏çÂ§ßÔºåÈÇ£‰πàÂ∞±‰ºöÊØî‰∏≤Ë°åÊâßË°åÊù•ÁöÑÈ´òÊïà„ÄÇ Âõ†‰∏∫Â¶ÇÊûúÂàíÂàÜ‰πãÂêé‰∏§‰∏™‰ªªÂä°ÊâßË°åÊó∂Èó¥ÊúâÊï∞ÊçÆÁ∫ßÁöÑÂ∑ÆË∑ùÔºåÈÇ£‰πàÊãÜÂàÜÊ≤°ÊúâÊÑè‰πâ„ÄÇ Âõ†‰∏∫ÂÖàÊâßË°åÂÆåÁöÑ‰ªªÂä°Â∞±Ë¶ÅÁ≠âÂêéÊâßË°åÂÆåÁöÑ‰ªªÂä°ÔºåÊúÄÁªàÁöÑÊó∂Èó¥‰ªçÁÑ∂ÂèñÂÜ≥‰∫éÂêéÊâßË°åÂÆåÁöÑ‰ªªÂä°ÔºåËÄå‰∏îËøòË¶ÅÂä†‰∏ä‰ªªÂä°ÊãÜÂàÜ‰∏éÂêàÂπ∂ÁöÑÂºÄÈîÄÔºåÂæó‰∏çÂÅøÂ§±„ÄÇ execute()Âíåsubmit()ÊñπÊ≥ï 1„ÄÅexecute()ÔºåÊâßË°å‰∏Ä‰∏™‰ªªÂä°ÔºåÊ≤°ÊúâËøîÂõûÂÄº„ÄÇ 2„ÄÅsubmit()ÔºåÊèê‰∫§‰∏Ä‰∏™Á∫øÁ®ã‰ªªÂä°ÔºåÊúâËøîÂõûÂÄº„ÄÇ submit(Callable task)ËÉΩËé∑ÂèñÂà∞ÂÆÉÁöÑËøîÂõûÂÄºÔºåÈÄöËøáfuture.get()Ëé∑ÂèñÔºàÈòªÂ°ûÁõ¥Âà∞‰ªªÂä°ÊâßË°åÂÆåÔºâ„ÄÇ‰∏ÄËà¨‰ΩøÁî®FutureTask+CallableÈÖçÂêà‰ΩøÁî®ÔºàIntentService‰∏≠Êúâ‰ΩìÁé∞Ôºâ„ÄÇ submit(Runnable task, T result)ËÉΩÈÄöËøá‰º†ÂÖ•ÁöÑËΩΩ‰ΩìresultÈó¥Êé•Ëé∑ÂæóÁ∫øÁ®ãÁöÑËøîÂõûÂÄº„ÄÇ submit(Runnable task)ÂàôÊòØÊ≤°ÊúâËøîÂõûÂÄºÁöÑÔºåÂ∞±ÁÆóËé∑ÂèñÂÆÉÁöÑËøîÂõûÂÄº‰πüÊòØnull„ÄÇ Future.getÊñπÊ≥ï‰ºö‰ΩøÂèñÁªìÊûúÁöÑÁ∫øÁ®ãËøõÂÖ•ÈòªÂ°ûÁä∂ÊÄÅÔºåÁü•ÈÅìÁ∫øÁ®ãÊâßË°åÂÆåÊàê‰πãÂêéÔºåÂî§ÈÜíÂèñÁªìÊûúÁöÑÁ∫øÁ®ãÔºåÁÑ∂ÂêéËøîÂõûÁªìÊûú„ÄÇ Fork/Join Fork/JoinÊ°ÜÊû∂ÁÆÄ‰ªã Fork/JoinÂÆÉÂèØ‰ª•Â∞Ü‰∏Ä‰∏™Â§ßÁöÑ‰ªªÂä°ÊãÜÂàÜÊàêÂ§ö‰∏™Â≠ê‰ªªÂä°ËøõË°åÂπ∂Ë°åÂ§ÑÁêÜÔºåÊúÄÂêéÂ∞ÜÂ≠ê‰ªªÂä°ÁªìÊûúÂêàÂπ∂ÊàêÊúÄÂêéÁöÑËÆ°ÁÆóÁªìÊûúÔºåÂπ∂ËøõË°åËæìÂá∫„ÄÇFork/JoinÊ°ÜÊû∂Ë¶ÅÂÆåÊàê‰∏§‰ª∂‰∫ãÊÉÖÔºö ForkÔºöÊää‰∏Ä‰∏™Â§çÊùÇ‰ªªÂä°ËøõË°åÂàÜÊãÜÔºåÂ§ß‰∫ãÂåñÂ∞è JoinÔºöÊääÂàÜÊãÜ‰ªªÂä°ÁöÑÁªìÊûúËøõË°åÂêàÂπ∂ ‰ªªÂä°ÂàÜÂâ≤ÔºöÈ¶ñÂÖàFork/JoinÊ°ÜÊû∂ÈúÄË¶ÅÊääÂ§ßÁöÑ‰ªªÂä°ÂàÜÂâ≤ÊàêË∂≥Â§üÂ∞èÁöÑÂ≠ê‰ªªÂä°ÔºåÂ¶ÇÊûúÂ≠ê‰ªªÂä°ÊØîËæÉÂ§ßÁöÑËØùËøòË¶ÅÂØπÂ≠ê‰ªªÂä°ËøõË°åÁªßÁª≠ÂàÜÂâ≤ ÊâßË°å‰ªªÂä°Âπ∂ÂêàÂπ∂ÁªìÊûúÔºöÂàÜÂâ≤ÁöÑÂ≠ê‰ªªÂä°ÂàÜÂà´ÊîæÂà∞ÂèåÁ´ØÈòüÂàóÈáåÔºåÁÑ∂ÂêéÂá†‰∏™ÂêØÂä®Á∫øÁ®ãÂàÜÂà´‰ªéÂèåÁ´ØÈòüÂàóÈáåËé∑Âèñ‰ªªÂä°ÊâßË°å„ÄÇÂ≠ê‰ªªÂä°ÊâßË°åÂÆåÁöÑÁªìÊûúÈÉΩÊîæÂú®Âè¶Â§ñ‰∏Ä‰∏™ÈòüÂàóÈáåÔºåÂêØÂä®‰∏Ä‰∏™Á∫øÁ®ã‰ªéÈòüÂàóÈáåÂèñÊï∞ÊçÆÔºåÁÑ∂ÂêéÂêàÂπ∂Ëøô‰∫õÊï∞ÊçÆ„ÄÇ Âú®JavaÁöÑFork/JoinÊ°ÜÊû∂‰∏≠Ôºå‰ΩøÁî®‰∏§‰∏™Á±ªÂÆåÊàê‰∏äËø∞Êìç‰Ωú ‚Ä¢ ForkJoinTask:Êàë‰ª¨Ë¶Å‰ΩøÁî®Fork/JoinÊ°ÜÊû∂ÔºåÈ¶ñÂÖàÈúÄË¶ÅÂàõÂª∫‰∏Ä‰∏™ForkJoin‰ªªÂä°„ÄÇËØ•Á±ªÊèê‰æõ‰∫ÜÂú®‰ªªÂä°‰∏≠ÊâßË°åforkÂíåjoinÁöÑÊú∫Âà∂„ÄÇÈÄöÂ∏∏ÊÉÖÂÜµ‰∏ãÊàë‰ª¨‰∏çÈúÄË¶ÅÁõ¥Êé•ÈõÜÊàêForkJoinTaskÁ±ªÔºåÂè™ÈúÄË¶ÅÁªßÊâøÂÆÉÁöÑÂ≠êÁ±ªÔºåFork/JoinÊ°ÜÊû∂Êèê‰æõ‰∫Ü‰∏§‰∏™Â≠êÁ±ªÔºö a.RecursiveActionÔºöÁî®‰∫éÊ≤°ÊúâËøîÂõûÁªìÊûúÁöÑ‰ªªÂä° b.RecursiveTask:Áî®‰∫éÊúâËøîÂõûÁªìÊûúÁöÑ‰ªªÂä° ‚Ä¢ ForkJoinPool:ForkJoinTaskÈúÄË¶ÅÈÄöËøáForkJoinPoolÊù•ÊâßË°å ‚Ä¢ RecursiveTask: ÁªßÊâøÂêéÂèØ‰ª•ÂÆûÁé∞ÈÄíÂΩí(Ëá™Â∑±Ë∞ÉËá™Â∑±)Ë∞ÉÁî®ÁöÑ‰ªªÂä° Fork/JoinÊ°ÜÊû∂ÁöÑÂÆûÁé∞ÂéüÁêÜ ‚Äã ForkJoinPoolÁî±ForkJoinTaskÊï∞ÁªÑÂíåForkJoinWorkerThreadÊï∞ÁªÑÁªÑÊàêÔºåForkJoinTaskÊï∞ÁªÑË¥üË¥£Â∞ÜÂ≠òÊîæ‰ª•ÂèäÂ∞ÜÁ®ãÂ∫èÊèê‰∫§ÁªôForkJoinPoolÔºåËÄåForkJoinWorkerThreadË¥üË¥£ÊâßË°åËøô‰∫õ‰ªªÂä°„ÄÇ ForkÊñπÊ≥ï ‚Äã ForkÊñπÊ≥ïÁöÑÂÆûÁé∞ÂéüÁêÜÔºö ÂΩìÊàë‰ª¨Ë∞ÉÁî®ForkJoinTaskÁöÑforkÊñπÊ≥ïÊó∂ÔºåÁ®ãÂ∫è‰ºöÊää‰ªªÂä°ÊîæÂú®ForkJoinWorkerThreadÁöÑpushTaskÁöÑworkQueue‰∏≠ÔºåÂºÇÊ≠•Âú∞ÊâßË°åËøô‰∏™‰ªªÂä°ÔºåÁÑ∂ÂêéÁ´ãÂç≥ËøîÂõûÁªìÊûú 123456public final ForkJoinTask&lt;V&gt; fork() { Thread t; if ((t = Thread.currentThread()) instanceof ForkJoinWorkerThread) ((ForkJoinWorkerThread)t).workQueue.push(this); else ForkJoinPool.common.externalPush(this); return this; } pushTaskÊñπÊ≥ïÊääÂΩìÂâç‰ªªÂä°Â≠òÊîæÂú®ForkJoinTaskÊï∞ÁªÑÈòüÂàóÈáå„ÄÇÁÑ∂ÂêéÂÜçË∞ÉÁî®ForkJoinPoolÁöÑsignalWork()ÊñπÊ≥ïÂî§ÈÜíÊàñÂàõÂª∫‰∏Ä‰∏™Â∑•‰ΩúÁ∫øÁ®ãÊù•ÊâßË°å‰ªªÂä°„ÄÇ‰ª£Á†ÅÂ¶Ç‰∏ãÔºö 123456789101112final void push(ForkJoinTask&lt;?&gt; task) { ForkJoinTask&lt;?&gt;[] a; ForkJoinPool p; int b = base, s = top, n; if ((a = array) != null) { // ignore if queue removed int m = a.length - 1; // fenced write for task visibility U.putOrderedObject(a, ((m &amp; s) &lt;&lt; ASHIFT) + ABASE, task); U.putOrderedInt(this, QTOP, s + 1); if ((n = s - b) &lt;= 1) { if ((p = pool) != null) p.signalWork(p.workQueues, this);//ÊâßË°å } else if (n &gt;= m) growArray(); } } joinÊñπÊ≥ï JoinÊñπÊ≥ïÁöÑ‰∏ªË¶Å‰ΩúÁî®ÊòØÈòªÂ°ûÂΩìÂâçÁ∫øÁ®ãÂπ∂Á≠âÂæÖËé∑ÂèñÁªìÊûú„ÄÇËÆ©Êàë‰ª¨‰∏ÄËµ∑ÁúãÁúãForkJoinTaskÁöÑjoinÊñπÊ≥ïÁöÑÂÆûÁé∞Ôºå‰ª£Á†ÅÂ¶Ç‰∏ãÔºö 123456public final V join() { int s; if ((s = doJoin() &amp; DONE_MASK) != NORMAL) reportException(s); return getRawResult(); } ÂÆÉÈ¶ñÂÖàË∞ÉÁî®doJoinÊñπÊ≥ïÔºåÈÄöËøádoJoin()ÊñπÊ≥ïÂæóÂà∞ÂΩìÂâç‰ªªÂä°ÁöÑÁä∂ÊÄÅÊù•Âà§Êñ≠ËøîÂõû‰ªÄ‰πàÁªìÊûúÔºå‰ªªÂä°Áä∂ÊÄÅÊúâ4ÁßçÔºö Â∑≤ÂÆåÊàêÔºàNORMALÔºâ„ÄÅË¢´ÂèñÊ∂àÔºàCANCELLEDÔºâ„ÄÅ‰ø°Âè∑ÔºàSIGNALÔºâÂíåÂá∫Áé∞ÂºÇÂ∏∏ÔºàEXCEPTIONALÔºâ ‚Ä¢ Â¶ÇÊûú‰ªªÂä°Áä∂ÊÄÅÊòØÂ∑≤ÂÆåÊàêÔºåÂàôÁõ¥Êé•ËøîÂõû‰ªªÂä°ÁªìÊûú„ÄÇ ‚Ä¢ Â¶ÇÊûú‰ªªÂä°Áä∂ÊÄÅÊòØË¢´ÂèñÊ∂àÔºåÂàôÁõ¥Êé•ÊäõÂá∫CancellationException ‚Ä¢ Â¶ÇÊûú‰ªªÂä°Áä∂ÊÄÅÊòØÊäõÂá∫ÂºÇÂ∏∏ÔºåÂàôÁõ¥Êé•ÊäõÂá∫ÂØπÂ∫îÁöÑÂºÇÂ∏∏ ËÆ©Êàë‰ª¨ÂàÜÊûê‰∏Ä‰∏ãdoJoinÊñπÊ≥ïÁöÑÂÆûÁé∞ 12345678910111213141516private int doJoin() { int s; Thread t; ForkJoinWorkerThread wt; ForkJoinPool.WorkQueue w; return (s = status) &lt; 0 ? s : ((t = Thread.currentThread()) instanceof ForkJoinWorkerThread) ? (w = (wt = (ForkJoinWorkerThread)t).workQueue). tryUnpush(this) &amp;&amp; (s = doExec()) &lt; 0 ? s : wt.pool.awaitJoin(w, this, 0L) : externalAwaitDone(); } final int doExec() { int s; boolean completed; if ((s = status) &gt;= 0) { try { completed = exec(); } catch (Throwable rex) { return setExceptionalCompletion(rex); } if (completed) s = setCompletion(NORMAL); } return s; } Âú®doJoin()ÊñπÊ≥ïÊµÅÁ®ãÂ¶Ç‰∏ã: È¶ñÂÖàÈÄöËøáÊü•Áúã‰ªªÂä°ÁöÑÁä∂ÊÄÅÔºåÁúã‰ªªÂä°ÊòØÂê¶Â∑≤ÁªèÊâßË°åÂÆåÊàêÔºåÂ¶ÇÊûúÊâßË°åÂÆåÊàêÔºåÂàôÁõ¥Êé•ËøîÂõû‰ªªÂä°Áä∂ÊÄÅÔºõ Â¶ÇÊûúÊ≤°ÊúâÊâßË°åÂÆåÔºåÂàô‰ªé‰ªªÂä°Êï∞ÁªÑÈáåÂèñÂá∫‰ªªÂä°Âπ∂ÊâßË°å„ÄÇ Â¶ÇÊûú‰ªªÂä°È°∫Âà©ÊâßË°åÂÆåÊàêÔºåÂàôËÆæÁΩÆ‰ªªÂä°Áä∂ÊÄÅ‰∏∫NORMALÔºåÂ¶ÇÊûúÂá∫Áé∞ÂºÇÂ∏∏ÔºåÂàôËÆ∞ÂΩïÂºÇÂ∏∏ÔºåÂπ∂Â∞Ü‰ªªÂä°Áä∂ÊÄÅËÆæÁΩÆ‰∏∫EXCEPTIONAL„ÄÇ Fork/JoinÊ°ÜÊû∂ÁöÑÂºÇÂ∏∏Â§ÑÁêÜ ForkJoinTaskÂú®ÊâßË°åÁöÑÊó∂ÂÄôÂèØËÉΩ‰ºöÊäõÂá∫ÂºÇÂ∏∏Ôºå‰ΩÜÊòØÊàë‰ª¨Ê≤°ÂäûÊ≥ïÂú®‰∏ªÁ∫øÁ®ãÈáåÁõ¥Êé•ÊçïËé∑ÂºÇÂ∏∏ÔºåÊâÄ‰ª•ForkJoinTaskÊèê‰æõ‰∫ÜisCompletedAbnormally()ÊñπÊ≥ïÊù•Ê£ÄÊü•‰ªªÂä°ÊòØÂê¶Â∑≤ÁªèÊäõÂá∫ÂºÇÂ∏∏ÊàñÂ∑≤ÁªèË¢´ÂèñÊ∂à‰∫ÜÔºåÂπ∂‰∏îÂèØ‰ª•ÈÄöËøáForkJoinTaskÁöÑgetExceptionÊñπÊ≥ïËé∑ÂèñÂºÇÂ∏∏„ÄÇ getExceptionÊñπÊ≥ïËøîÂõûThrowableÂØπË±°ÔºåÂ¶ÇÊûú‰ªªÂä°Ë¢´ÂèñÊ∂à‰∫ÜÂàôËøîÂõûCancellationException„ÄÇÂ¶ÇÊûú‰ªªÂä°Ê≤°ÊúâÂÆåÊàêÊàñËÄÖÊ≤°ÊúâÊäõÂá∫ÂºÇÂ∏∏ÂàôËøîÂõûnull„ÄÇ ÂÖ•Èó®Ê°à‰æã Âú∫ÊôØ: ÁîüÊàê‰∏Ä‰∏™ËÆ°ÁÆó‰ªªÂä°ÔºåËÆ°ÁÆó1+2+3.........+1000,ÊØè100‰∏™Êï∞ÂàáÂàÜ‰∏Ä‰∏™Â≠ê‰ªªÂä° 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859package com.atguigu.forkjoin;import java.util.concurrent.*;class MyTask extends RecursiveTask&lt;Integer&gt; { //ÊãÜÂàÜÂ∑ÆÂÄº‰∏çËÉΩË∂ÖËøá10ÔºåËÆ°ÁÆó10‰ª•ÂÜÖËøêÁÆó private static final Integer VALUE = 10; private int begin ;//ÊãÜÂàÜÂºÄÂßãÂÄº private int end;//ÊãÜÂàÜÁªìÊùüÂÄº private int result ; //ËøîÂõûÁªìÊûú //ÂàõÂª∫ÊúâÂèÇÊï∞ÊûÑÈÄ† public MyTask(int begin,int end) { this.begin = begin; this.end = end; } //ÊãÜÂàÜÂíåÂêàÂπ∂ËøáÁ®ã @Override protected Integer compute() { //Âà§Êñ≠Áõ∏Âä†‰∏§‰∏™Êï∞ÂÄºÊòØÂê¶Â§ß‰∫é10 if((end-begin)&lt;=VALUE) { //Áõ∏Âä†Êìç‰Ωú for (int i = begin; i &lt;=end; i++) { result = result+i; } } else {//Ëøõ‰∏ÄÊ≠•ÊãÜÂàÜ //Ëé∑Âèñ‰∏≠Èó¥ÂÄº int middle = (begin+end)/2; //ÊãÜÂàÜÂ∑¶Ëæπ MyTask task01 = new MyTask(begin,middle); //ÊãÜÂàÜÂè≥Ëæπ MyTask task02 = new MyTask(middle+1,end); //Ë∞ÉÁî®ÊñπÊ≥ïÊãÜÂàÜ task01.fork(); task02.fork(); //ÂêàÂπ∂ÁªìÊûú result = task01.join()+task02.join(); } return result; }}public class ForkJoinDemo { public static void main(String[] args) throws ExecutionException, InterruptedException { //ÂàõÂª∫MyTaskÂØπË±° MyTask myTask = new MyTask(0,100); //ÂàõÂª∫ÂàÜÊîØÂêàÂπ∂Ê±†ÂØπË±° ForkJoinPool forkJoinPool = new ForkJoinPool(); ForkJoinTask&lt;Integer&gt; forkJoinTask = forkJoinPool.submit(myTask); //Ëé∑ÂèñÊúÄÁªàÂêàÂπ∂‰πãÂêéÁªìÊûú Integer result = forkJoinTask.get(); System.out.println(result); //ÂÖ≥Èó≠Ê±†ÂØπË±° forkJoinPool.shutdown(); }} CompletableFuture CompletableFutureÁÆÄ‰ªã ÂêåÊ≠•„Äê‰∏çÂú®Á≠âÂæÖ„Äë„ÄÅÂºÇÊ≠•„Äê‰∏çÂú®ÂÖàÂÅöÂÖ∂‰ªñÁöÑ„Äë CompletableFutureÂú®JavaÈáåÈù¢Ë¢´Áî®‰∫éÂºÇÊ≠•ÁºñÁ®ãÔºåÂºÇÊ≠•ÈÄöÂ∏∏ÊÑèÂë≥ÁùÄÈùûÈòªÂ°ûÔºåÂèØ‰ª•‰ΩøÂæóÊàë‰ª¨ÁöÑ‰ªªÂä°ÂçïÁã¨ËøêË°åÂú®‰∏é‰∏ªÁ∫øÁ®ãÂàÜÁ¶ªÁöÑÂÖ∂‰ªñÁ∫øÁ®ã‰∏≠ÔºåÂπ∂‰∏îÈÄöËøáÂõûË∞ÉÂèØ‰ª•Âú®‰∏ªÁ∫øÁ®ã‰∏≠ÂæóÂà∞ÂºÇÊ≠•‰ªªÂä°ÁöÑÊâßË°åÁä∂ÊÄÅÔºåÊòØÂê¶ÂÆåÊàêÔºåÂíåÊòØÂê¶ÂºÇÂ∏∏Á≠â‰ø°ÊÅØ„ÄÇ CompletableFutureÂÆûÁé∞‰∫ÜFuture, CompletionStageÊé•Âè£ÔºåÂÆûÁé∞‰∫ÜFutureÊé•Âè£Â∞±ÂèØ‰ª•ÂÖºÂÆπÁé∞Âú®ÊúâÁ∫øÁ®ãÊ±†Ê°ÜÊû∂ÔºåËÄåCompletionStageÊé•Âè£ÊâçÊòØÂºÇÊ≠•ÁºñÁ®ãÁöÑÊé•Âè£ÊäΩË±°ÔºåÈáåÈù¢ÂÆö‰πâÂ§öÁßçÂºÇÊ≠•ÊñπÊ≥ïÔºåÈÄöËøáËøô‰∏§ËÄÖÈõÜÂêàÔºå‰ªéËÄåÊâìÈÄ†Âá∫‰∫ÜÂº∫Â§ßÁöÑCompletableFutureÁ±ª„ÄÇ Future‰∏éCompletableFuture FutrueÂú®JavaÈáåÈù¢ÔºåÈÄöÂ∏∏Áî®Êù•Ë°®Á§∫‰∏Ä‰∏™ÂºÇÊ≠•‰ªªÂä°ÁöÑÂºïÁî®ÔºåÊØîÂ¶ÇÊàë‰ª¨Â∞Ü‰ªªÂä°Êèê‰∫§Âà∞Á∫øÁ®ãÊ±†ÈáåÈù¢ÔºåÁÑ∂ÂêéÊàë‰ª¨‰ºöÂæóÂà∞‰∏Ä‰∏™FutrueÔºåÂú®FutureÈáåÈù¢ÊúâisDoneÊñπÊ≥ïÊù• Âà§Êñ≠‰ªªÂä°ÊòØÂê¶Â§ÑÁêÜÁªìÊùüÔºåËøòÊúâgetÊñπÊ≥ïÂèØ‰ª•‰∏ÄÁõ¥ÈòªÂ°ûÁõ¥Âà∞‰ªªÂä°ÁªìÊùüÁÑ∂ÂêéËé∑ÂèñÁªìÊûúÔºå‰ΩÜÊï¥‰ΩìÊù•ËØ¥ËøôÁßçÊñπÂºèÔºåËøòÊòØÂêåÊ≠•ÁöÑÔºåÂõ†‰∏∫ÈúÄË¶ÅÂÆ¢Êà∑Á´Ø‰∏çÊñ≠ÈòªÂ°ûÁ≠âÂæÖÊàñËÄÖ‰∏çÊñ≠ËΩÆËØ¢ÊâçËÉΩÁü•ÈÅì‰ªªÂä°ÊòØÂê¶ÂÆåÊàê„ÄÇ FutureÁöÑ‰∏ªË¶ÅÁº∫ÁÇπÂ¶Ç‰∏ãÔºö Ôºà1Ôºâ‰∏çÊîØÊåÅÊâãÂä®ÂÆåÊàê ÊàëÊèê‰∫§‰∫Ü‰∏Ä‰∏™‰ªªÂä°Ôºå‰ΩÜÊòØÊâßË°åÂ§™ÊÖ¢‰∫ÜÔºåÊàëÈÄöËøáÂÖ∂‰ªñË∑ØÂæÑÂ∑≤ÁªèËé∑ÂèñÂà∞‰∫Ü‰ªªÂä°ÁªìÊûúÔºåÁé∞Âú®Ê≤°Ê≥ïÊääËøô‰∏™‰ªªÂä°ÁªìÊûúÈÄöÁü•Âà∞Ê≠£Âú®ÊâßË°åÁöÑÁ∫øÁ®ãÔºåÊâÄ‰ª•ÂøÖÈ°ª‰∏ªÂä®ÂèñÊ∂àÊàñËÄÖ‰∏ÄÁõ¥Á≠âÂæÖÂÆÉÊâßË°åÂÆåÊàê Ôºà2Ôºâ‰∏çÊîØÊåÅËøõ‰∏ÄÊ≠•ÁöÑÈùûÈòªÂ°ûË∞ÉÁî® ÈÄöËøáFutureÁöÑgetÊñπÊ≥ï‰ºö‰∏ÄÁõ¥ÈòªÂ°ûÂà∞‰ªªÂä°ÂÆåÊàêÔºå‰ΩÜÊòØÊÉ≥Âú®Ëé∑Âèñ‰ªªÂä°‰πãÂêéÊâßË°åÈ¢ùÂ§ñÁöÑ‰ªªÂä°ÔºåÂõ†‰∏∫Future‰∏çÊîØÊåÅÂõûË∞ÉÂáΩÊï∞ÔºåÊâÄ‰ª•Êó†Ê≥ïÂÆûÁé∞Ëøô‰∏™ÂäüËÉΩ Ôºà3Ôºâ‰∏çÊîØÊåÅÈìæÂºèË∞ÉÁî® ÂØπ‰∫éFutureÁöÑÊâßË°åÁªìÊûúÔºåÊàë‰ª¨ÊÉ≥ÁªßÁª≠‰º†Âà∞‰∏ã‰∏Ä‰∏™FutureÂ§ÑÁêÜ‰ΩøÁî®Ôºå‰ªéËÄåÂΩ¢Êàê‰∏Ä‰∏™ÈìæÂºèÁöÑpiplineË∞ÉÁî®ÔºåËøôÂú®Future‰∏≠ÊòØÊ≤°Ê≥ïÂÆûÁé∞ÁöÑ„ÄÇ Ôºà4Ôºâ‰∏çÊîØÊåÅÂ§ö‰∏™FutureÂêàÂπ∂ ÊØîÂ¶ÇÊàë‰ª¨Êúâ10‰∏™FutureÂπ∂Ë°åÊâßË°åÔºåÊàë‰ª¨ÊÉ≥Âú®ÊâÄÊúâÁöÑFutureËøêË°åÂÆåÊØï‰πãÂêéÔºåÊâßË°åÊüê‰∫õÂáΩÊï∞ÔºåÊòØÊ≤°Ê≥ïÈÄöËøáFutureÂÆûÁé∞ÁöÑ„ÄÇ Ôºà5Ôºâ‰∏çÊîØÊåÅÂºÇÂ∏∏Â§ÑÁêÜ FutureÁöÑAPIÊ≤°Êúâ‰ªª‰ΩïÁöÑÂºÇÂ∏∏Â§ÑÁêÜÁöÑapiÔºåÊâÄ‰ª•Âú®ÂºÇÊ≠•ËøêË°åÊó∂ÔºåÂ¶ÇÊûúÂá∫‰∫ÜÈóÆÈ¢òÊòØ‰∏çÂ•ΩÂÆö‰ΩçÁöÑ„ÄÇ CompletableFutureÂÖ•Èó® ‰ΩøÁî®CompletableFuture Âú∫ÊôØ:‰∏ªÁ∫øÁ®ãÈáåÈù¢ÂàõÂª∫‰∏Ä‰∏™CompletableFutureÔºåÁÑ∂Âêé‰∏ªÁ∫øÁ®ãË∞ÉÁî®getÊñπÊ≥ï‰ºöÈòªÂ°ûÔºåÊúÄÂêéÊàë‰ª¨Âú®‰∏Ä‰∏™Â≠êÁ∫øÁ®ã‰∏≠‰ΩøÂÖ∂ÁªàÊ≠¢„ÄÇ 123456789101112131415/** * ‰∏ªÁ∫øÁ®ãÈáåÈù¢ÂàõÂª∫‰∏Ä‰∏™CompletableFutureÔºåÁÑ∂Âêé‰∏ªÁ∫øÁ®ãË∞ÉÁî®getÊñπÊ≥ï‰ºöÈòªÂ°ûÔºåÊúÄÂêéÊàë‰ª¨Âú®‰∏Ä‰∏™Â≠êÁ∫øÁ®ã‰∏≠‰ΩøÂÖ∂ÁªàÊ≠¢ * @param args */ public static void main(String[] args) throws Exception{ CompletableFuture&lt;String&gt; future = new CompletableFuture&lt;&gt;(); new Thread(() -&gt; { try{ System.out.println(Thread.currentThread().getName() + &quot;Â≠êÁ∫øÁ®ãÂºÄÂßãÂπ≤Ê¥ª&quot;); //Â≠êÁ∫øÁ®ãÁù°5Áßí Thread.sleep(5000); //Âú®Â≠êÁ∫øÁ®ã‰∏≠ÂÆåÊàê‰∏ªÁ∫øÁ®ã future.complete(&quot;success&quot;); }catch (Exception e){ e.printStackTrace(); } }, &quot;A&quot;).start(); //‰∏ªÁ∫øÁ®ãË∞ÉÁî®getÊñπÊ≥ïÈòªÂ°û System.out.println(&quot;‰∏ªÁ∫øÁ®ãË∞ÉÁî®getÊñπÊ≥ïËé∑ÂèñÁªìÊûú‰∏∫: &quot; + future.get()); System.out.println(&quot;‰∏ªÁ∫øÁ®ãÂÆåÊàê,ÈòªÂ°ûÁªìÊùü!!!!!!&quot;); } Ê≤°ÊúâËøîÂõûÂÄºÁöÑÂºÇÊ≠•‰ªªÂä° 12345678910111213/** * Ê≤°ÊúâËøîÂõûÂÄºÁöÑÂºÇÊ≠•‰ªªÂä° * @param args */ public static void main(String[] args) throws Exception{ System.out.println(&quot;‰∏ªÁ∫øÁ®ãÂºÄÂßã&quot;); //ËøêË°å‰∏Ä‰∏™Ê≤°ÊúâËøîÂõûÂÄºÁöÑÂºÇÊ≠•‰ªªÂä° CompletableFuture&lt;Void&gt; future = CompletableFuture.runAsync(() -&gt; { try { System.out.println(&quot;Â≠êÁ∫øÁ®ãÂêØÂä®Âπ≤Ê¥ª&quot;); Thread.sleep(5000); System.out.println(&quot;Â≠êÁ∫øÁ®ãÂÆåÊàê&quot;); } catch (Exception e) { e.printStackTrace(); }}); //‰∏ªÁ∫øÁ®ãÈòªÂ°û future.get(); System.out.println(&quot;‰∏ªÁ∫øÁ®ãÁªìÊùü&quot;); } ÊúâËøîÂõûÂÄºÁöÑÂºÇÊ≠•‰ªªÂä° 1234567891011121314151617/** * Ê≤°ÊúâËøîÂõûÂÄºÁöÑÂºÇÊ≠•‰ªªÂä° * @param args */ public static void main(String[] args) throws Exception { System.out.println(&quot;‰∏ªÁ∫øÁ®ãÂºÄÂßã&quot;); //ËøêË°å‰∏Ä‰∏™ÊúâËøîÂõûÂÄºÁöÑÂºÇÊ≠•‰ªªÂä° CompletableFuture&lt;String&gt; future = CompletableFuture.supplyAsync(() -&gt; { try { System.out.println(&quot;Â≠êÁ∫øÁ®ãÂºÄÂßã‰ªªÂä°&quot;); Thread.sleep(5000); } catch (Exception e) { e.printStackTrace(); } return &quot;Â≠êÁ∫øÁ®ãÂÆåÊàê‰∫Ü!&quot;; }); //‰∏ªÁ∫øÁ®ãÈòªÂ°û String s = future.get(); System.out.println(&quot;‰∏ªÁ∫øÁ®ãÁªìÊùü, Â≠êÁ∫øÁ®ãÁöÑÁªìÊûú‰∏∫:&quot; + s); } Á∫øÁ®ã‰æùËµñ ÂΩì‰∏Ä‰∏™Á∫øÁ®ã‰æùËµñÂè¶‰∏Ä‰∏™Á∫øÁ®ãÊó∂ÔºåÂèØ‰ª•‰ΩøÁî® thenApply ÊñπÊ≥ïÊù•ÊääËøô‰∏§‰∏™Á∫øÁ®ã‰∏≤Ë°åÂåñ„ÄÇ 123456789101112131415161718192021private static Integer num = 10; /** * ÂÖàÂØπ‰∏Ä‰∏™Êï∞Âä†10,ÁÑ∂ÂêéÂèñÂπ≥Êñπ * @param args */ public static void main(String[] args) throws Exception { System.out.println(&quot;‰∏ªÁ∫øÁ®ãÂºÄÂßã&quot;); CompletableFuture&lt;Integer&gt; future = CompletableFuture.supplyAsync(() -&gt; { try { System.out.println(&quot;Âä†10‰ªªÂä°ÂºÄÂßã&quot;); num += 10; } catch (Exception e) { e.printStackTrace(); } return num; }).thenApply(integer -&gt; { return num * num; }); Integer integer = future.get(); System.out.println(&quot;‰∏ªÁ∫øÁ®ãÁªìÊùü, Â≠êÁ∫øÁ®ãÁöÑÁªìÊûú‰∏∫:&quot; + integer); } Ê∂àË¥πÂ§ÑÁêÜÁªìÊûú thenAccept Ê∂àË¥πÂ§ÑÁêÜÁªìÊûú, Êé•Êî∂‰ªªÂä°ÁöÑÂ§ÑÁêÜÁªìÊûúÔºåÂπ∂Ê∂àË¥πÂ§ÑÁêÜÔºåÊó†ËøîÂõûÁªìÊûú„ÄÇ 12345678910111213141516171819public static void main(String[] args) throws Exception { System.out.println(&quot;‰∏ªÁ∫øÁ®ãÂºÄÂßã&quot;); CompletableFuture.supplyAsync(() -&gt; { try { System.out.println(&quot;Âä†10‰ªªÂä°ÂºÄÂßã&quot;); num += 10; } catch (Exception e) { e.printStackTrace(); } return num; }).thenApply(integer -&gt; { return num * num; }).thenAccept(new Consumer&lt;Integer&gt;() { @Override public void accept(Integer integer) { System.out.println(&quot;Â≠êÁ∫øÁ®ãÂÖ®ÈÉ®Â§ÑÁêÜÂÆåÊàê,ÊúÄÂêéË∞ÉÁî®‰∫Üaccept,ÁªìÊûú‰∏∫:&quot; + integer); } }); } ÂºÇÂ∏∏Â§ÑÁêÜ exceptionallyÂºÇÂ∏∏Â§ÑÁêÜ,Âá∫Áé∞ÂºÇÂ∏∏Êó∂Ëß¶Âèë 12345678910111213public static void main(String[] args) throws Exception { System.out.println(&quot;‰∏ªÁ∫øÁ®ãÂºÄÂßã&quot;); CompletableFuture&lt;Integer&gt; future = CompletableFuture.supplyAsync(() -&gt; { int i = 1 / 0; System.out.println(&quot;Âä†10‰ªªÂä°ÂºÄÂßã&quot;); num += 10; return num; }).exceptionally(ex -&gt; { System.out.println(ex.getMessage()); return -1; }); System.out.println(future.get()); } handleÁ±ª‰ºº‰∫éthenAccept/thenRunÊñπÊ≥ï,ÊòØÊúÄÂêé‰∏ÄÊ≠•ÁöÑÂ§ÑÁêÜË∞ÉÁî®,‰ΩÜÊòØÂêåÊó∂ÂèØ‰ª•Â§ÑÁêÜÂºÇÂ∏∏ 123456789101112131415161718public static void main(String[] args) throws Exception { System.out.println(&quot;‰∏ªÁ∫øÁ®ãÂºÄÂßã&quot;); CompletableFuture&lt;Integer&gt; future = CompletableFuture.supplyAsync(() -&gt; { System.out.println(&quot;Âä†10‰ªªÂä°ÂºÄÂßã&quot;); num += 10; return num; }).handle((i, ex) -&gt; { System.out.println(&quot;ËøõÂÖ•handleÊñπÊ≥ï&quot;); if (ex != null) { System.out.println(&quot;ÂèëÁîü‰∫ÜÂºÇÂ∏∏,ÂÜÖÂÆπ‰∏∫:&quot; + ex.getMessage()); return -1; } else { System.out.println(&quot;Ê≠£Â∏∏ÂÆåÊàê,ÂÜÖÂÆπ‰∏∫: &quot; + i); return i; } }); System.out.println(future.get()); } ÁªìÊûúÂêàÂπ∂ thenComposeÂêàÂπ∂‰∏§‰∏™Êúâ‰æùËµñÂÖ≥Á≥ªÁöÑCompletableFuturesÁöÑÊâßË°åÁªìÊûú 123456789101112131415public static void main(String[] args) throws Exception { System.out.println(&quot;‰∏ªÁ∫øÁ®ãÂºÄÂßã&quot;); //Á¨¨‰∏ÄÊ≠•Âä†10 CompletableFuture&lt;Integer&gt; future = CompletableFuture.supplyAsync(() -&gt; { System.out.println(&quot;Âä†10‰ªªÂä°ÂºÄÂßã&quot;); num += 10; return num; }); //ÂêàÂπ∂ CompletableFuture&lt;Integer&gt; future1 = future.thenCompose(i -&gt; //ÂÜçÊù•‰∏Ä‰∏™CompletableFuture CompletableFuture.supplyAsync(() -&gt; { return i + 1; })); System.out.println(future.get()); System.out.println(future1.get());} thenCombineÂêàÂπ∂‰∏§‰∏™Ê≤°Êúâ‰æùËµñÂÖ≥Á≥ªÁöÑCompletableFutures‰ªªÂä° 1234567891011121314151617181920212223public static void main(String[] args) throws Exception { System.out.println(&quot;‰∏ªÁ∫øÁ®ãÂºÄÂßã&quot;); CompletableFuture&lt;Integer&gt; job1 = CompletableFuture.supplyAsync(() -&gt; { System.out.println(&quot;Âä†10‰ªªÂä°ÂºÄÂßã&quot;); num += 10; return num; }); CompletableFuture&lt;Integer&gt; job2 = CompletableFuture.supplyAsync(() -&gt; { System.out.println(&quot;‰πò‰ª•10‰ªªÂä°ÂºÄÂßã&quot;); num = num * 10; return num; }); //ÂêàÂπ∂‰∏§‰∏™ÁªìÊûú CompletableFuture&lt;Object&gt; future = job1.thenCombine(job2, new BiFunction&lt;Integer, Integer, List&lt;Integer&gt;&gt;() { @Override public List&lt;Integer&gt; apply(Integer a, Integer b) { List&lt;Integer&gt; list = new ArrayList&lt;&gt;(); list.add(a); list.add(b); return list; } }); System.out.println(&quot;ÂêàÂπ∂ÁªìÊûú‰∏∫:&quot; + future.get()); } ÂêàÂπ∂Â§ö‰∏™‰ªªÂä°ÁöÑÁªìÊûúallOf‰∏éanyOf allOf: ‰∏ÄÁ≥ªÂàóÁã¨Á´ãÁöÑfuture‰ªªÂä°ÔºåÁ≠âÂÖ∂ÊâÄÊúâÁöÑ‰ªªÂä°ÊâßË°åÂÆåÂêéÂÅö‰∏Ä‰∫õ‰∫ãÊÉÖ 123456789101112131415161718192021222324252627282930313233/** * ÂÖàÂØπ‰∏Ä‰∏™Êï∞Âä†10,ÁÑ∂ÂêéÂèñÂπ≥Êñπ * @param args */ public static void main(String[] args) throws Exception { System.out.println(&quot;‰∏ªÁ∫øÁ®ãÂºÄÂßã&quot;); List&lt;CompletableFuture&gt; list = new ArrayList&lt;&gt;(); CompletableFuture&lt;Integer&gt; job1 = CompletableFuture.supplyAsync(() -&gt; { System.out.println(&quot;Âä†10‰ªªÂä°ÂºÄÂßã&quot;); num += 10; return num; }); list.add(job1); CompletableFuture&lt;Integer&gt; job2 = CompletableFuture.supplyAsync(() -&gt; { System.out.println(&quot;‰πò‰ª•10‰ªªÂä°ÂºÄÂßã&quot;); num = num * 10; return num; }); list.add(job2); CompletableFuture&lt;Integer&gt; job3 = CompletableFuture.supplyAsync(() -&gt; { System.out.println(&quot;Âáè‰ª•10‰ªªÂä°ÂºÄÂßã&quot;); num = num * 10; return num; }); list.add(job3); CompletableFuture&lt;Integer&gt; job4 = CompletableFuture.supplyAsync(() -&gt; { System.out.println(&quot;Èô§‰ª•10‰ªªÂä°ÂºÄÂßã&quot;); num = num * 10; return num; }); list.add(job4); //Â§ö‰ªªÂä°ÂêàÂπ∂ List&lt;Integer&gt; collect = list.stream().map(CompletableFuture&lt;Integer&gt;::join).collect(Collectors.toList()); System.out.println(collect); } anyOf: Âè™Ë¶ÅÂú®Â§ö‰∏™futureÈáåÈù¢Êúâ‰∏Ä‰∏™ËøîÂõûÔºåÊï¥‰∏™‰ªªÂä°Â∞±ÂèØ‰ª•ÁªìÊùüÔºåËÄå‰∏çÈúÄË¶ÅÁ≠âÂà∞ÊØè‰∏Ä‰∏™futureÁªìÊùü 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253/** * ÂÖàÂØπ‰∏Ä‰∏™Êï∞Âä†10,ÁÑ∂ÂêéÂèñÂπ≥Êñπ * @param args */ public static void main(String[] args) throws Exception { System.out.println(&quot;‰∏ªÁ∫øÁ®ãÂºÄÂßã&quot;); CompletableFuture&lt;Integer&gt;[] futures = new CompletableFuture[4]; CompletableFuture&lt;Integer&gt; job1 = CompletableFuture.supplyAsync(() -&gt; { try { Thread.sleep(5000); System.out.println(&quot;Âä†10‰ªªÂä°ÂºÄÂßã&quot;); num += 10; return num; } catch (Exception e) { return 0; } }); futures[0] = job1; CompletableFuture&lt;Integer&gt; job2 = CompletableFuture.supplyAsync(() -&gt; { try { Thread.sleep(2000); System.out.println(&quot;‰πò‰ª•10‰ªªÂä°ÂºÄÂßã&quot;); num = num * 10; return num; } catch (Exception e) { return 1; } }); futures[1] = job2; CompletableFuture&lt;Integer&gt; job3 = CompletableFuture.supplyAsync(() -&gt; { try { Thread.sleep(3000); System.out.println(&quot;Âáè‰ª•10‰ªªÂä°ÂºÄÂßã&quot;); num = num * 10; return num; } catch (Exception e) { return 2; } }); futures[2] = job3; CompletableFuture&lt;Integer&gt; job4 = CompletableFuture.supplyAsync(() -&gt; { try { Thread.sleep(4000); System.out.println(&quot;Èô§‰ª•10‰ªªÂä°ÂºÄÂßã&quot;); num = num * 10; return num; } catch (Exception e) { return 3; } }); futures[3] = job4; CompletableFuture&lt;Object&gt; future = CompletableFuture.anyOf(futures); System.out.println(future.get()); } ÂèçÂ∞Ñ Ëé∑ÂèñÁ±ªÁöÑÂ≠óËäÇÁ†Å 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990package pers.lxl.mylearnproject.javase.reflection;import java.lang.reflect.Field;import java.util.Arrays;/** * ‰∏çÁü•ÂØπË±°ÊÉÖÂÜµË∞ÉÁî®ÂØπË±°ÊñπÊ≥ïÁ≠âÔºåÈÄöËøáClassÂÆû‰æãËé∑Âèñclass‰ø°ÊÅØÁöÑÊñπÊ≥ïÁß∞‰∏∫ÂèçÂ∞ÑÔºàReflectionÔºâ * * @author lxl */public class ReClass { public static void main(String[] args) {/** 1.Ëé∑Âèñ‰∏Ä‰∏™classÁöÑClassÂÆû‰æãÁöÑ‰∏â‰∏™ÊñπÊ≥ïÔºö ÊñπÊ≥ï‰∏ÄÔºöclassÁöÑÈùôÊÄÅÂèòÈáè.classÔºö Class cls = String.class; ÊñπÊ≥ï‰∫åÔºöÂÆû‰æãÂèòÈáè.getClass()Ôºö String s = &quot;Hello&quot;; Class cls1 = s.getClass(); ÊñπÊ≥ï‰∏âÔºöÈùôÊÄÅÊñπÊ≥ïClass.forName(classÁöÑÂÆåÊï¥Á±ªÂêç)Ôºö Âè™‰ºöËÆ©ÈùôÊÄÅ‰ª£Á†ÅÂùóÊâßË°å Class cls2 = Class.forName(&quot;java.lang.String&quot;); Áî®instanceof‰∏ç‰ΩÜÂåπÈÖçÊåáÂÆöÁ±ªÂûãÔºåËøòÂåπÈÖçÊåáÂÆöÁ±ªÂûãÁöÑÂ≠êÁ±ª„ÄÇËÄåÁî®==Âà§Êñ≠classÂÆû‰æãÂèØ‰ª•Á≤æÁ°ÆÂú∞Âà§Êñ≠Êï∞ÊçÆÁ±ªÂûãÔºå‰ΩÜ‰∏çËÉΩ‰ΩúÂ≠êÁ±ªÂûãÊØîËæÉ*/ printClassInfo(&quot;&quot;.getClass()); printClassInfo(Runnable.class); printClassInfo(java.time.Month.class); printClassInfo(String[].class); printClassInfo(int.class);// ReflectLearn reflectLearn=new ReflectLearn(); printClassInfo(ReflectLearn.class); } static void printClassInfo(Class cls) {// ÂÖàËé∑ÂèñÁ±ª‰πãÂêéÊâçËÉΩËé∑ÂèñÁ±ª‰ø°ÊÅØ// Ëé∑ÂèñÁ±ª‰ø°ÊÅØ System.out.println(&quot;[&quot; + cls.getSimpleName() + &quot;] begin ==================================&quot;); System.out.println(&quot;Class name: &quot; + cls.getName()); System.out.println(&quot;Simple name: &quot; + cls.getSimpleName()); if (cls.getPackage() != null) { System.out.println(&quot;Package name: &quot; + cls.getPackage().getName()); } System.out.println(&quot;is interface: &quot; + cls.isInterface()); System.out.println(&quot;is enum: &quot; + cls.isEnum()); System.out.println(&quot;is array: &quot; + cls.isArray()); System.out.println(&quot;is primitive: &quot; + cls.isPrimitive());// ÊñπÊ≥ï‰ø°ÊÅØ// .newInstance() Êó†ÂèÇÊûÑÈÄ†Ôºå‰∏çÂ≠òÂú®ÊäõÂá∫ÂºÇÂ∏∏java.lang.InstantiationException try { System.out.println(&quot;Êó†ÂèÇÊûÑÈÄ†Ôºö &quot;+cls.newInstance()); } catch (InstantiationException e) { System.out.println(&quot;Ê≤°ÊúâÊó†ÂèÇÊûÑÈÄ†ÈÄ†ÊàêInstantiationException&quot;); } catch (IllegalAccessException e) { System.out.println(&quot;Ê≤°ÊúâÊó†ÂèÇÊûÑÈÄ†ÈÄ†ÊàêIllegalAccessException&quot;); } System.out.println(&quot;ÊâÄÊúâÂÆû‰æãÊñπÊ≥ïÔºö &quot;+cls.getDeclaredMethods());// System.out.println(&quot;Ê†πÊçÆÂêçÂ≠óËé∑ÂèñÊñπÊ≥ïÔºö &quot;+ Arrays.toString(cls.getDeclaredMethods(&quot;methodShow&quot;))); System.out.println(&quot;ÊâÄÊúâÊûÑÈÄ†ÊñπÊ≥ïÔºö &quot;+ Arrays.toString(cls.getDeclaredConstructors()));// Â±ûÊÄß‰ø°ÊÅØ System.out.println(&quot;public Fields: &quot; + Arrays.toString(cls.getFields())); System.out.println(&quot;Fields public Name: &quot; + cls.getName()); System.out.println(&quot;All Fields: &quot; + Arrays.toString(cls.getDeclaredFields())); try { System.out.println(&quot;Get Fields By Name: &quot; + Arrays.toString(new Field[]{cls.getDeclaredField(&quot;publicFiled&quot;)})); } catch (NoSuchFieldException e) { System.out.println(&quot;Ê≤°ÊúâËøôÊ†∑‰∏Ä‰∏™Â±ûÊÄßÊä•NoSuchFieldException&quot;); } System.out.println(&quot;[&quot; + cls.getSimpleName() + &quot;] end ==================================&quot; + &quot;\\n&quot;); }}class ReflectLearn { public String publicFiled; private String privateFiled; public int methodShow(){ return 1; }} IO Á£ÅÁõòÊìç‰Ωú FileÂØπË±° 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980818283848586878889909192939495969798import java.io.File;import java.io.FilenameFilter;import java.io.IOException;import java.nio.file.Path;import java.nio.file.Paths;/**Á£ÅÁõòÊìç‰Ωú**/public class FileObject { public static void main(String[] args) throws IOException {// Âç≥‰Ωø‰º†ÂÖ•ÁöÑÊñá‰ª∂ÊàñÁõÆÂΩï‰∏çÂ≠òÂú®Ôºå‰ª£Á†Å‰πü‰∏ç‰ºöÂá∫ÈîôÔºåÂõ†‰∏∫ÊûÑÈÄ†‰∏Ä‰∏™FileÂØπË±°ÔºåÂπ∂‰∏ç‰ºöÂØºËá¥‰ªª‰ΩïÁ£ÅÁõòÊìç‰Ωú,Ë∞ÉÁî®ÊñπÊ≥ïÊó∂Êâç‰ºöÁ£ÅÁõòÊìç‰Ωú //ÁªùÂØπË∑ØÂæÑÊòØ‰ª•Ê†πÁõÆÂΩïÂºÄÂ§¥ÁöÑÂÆåÊï¥Ë∑ØÂæÑJavaÂ≠óÁ¨¶‰∏≤‰∏≠‰ª•//‰ª£Ë°®/// FileË°®Á§∫Êñá‰ª∂ÊàñÁõÆÂΩï //\\u202AÁ≥ªÁªüÂ§çÂà∂‰∫ßÁîü File file = new File(&quot;C:\\\\Users\\\\Administrator\\\\Desktop\\\\lixianglun\\\\fileTest.txt&quot;); //Áõ∏ÂØπË∑ØÂæÑÔºàÂèØ‰ª•Áî®.Ë°®Á§∫ÂΩìÂâçÁõÆÂΩïÔºå..Ë°®Á§∫‰∏äÁ∫ßÁõÆÂΩïÔºâÁªùÂØπË∑ØÂæÑÂéªÊéâÂΩìÂâçÁõÆÂΩï File afile = new File(&quot;..\\\\fileTest.txt&quot;); File catalog=new File(&quot;C:\\\\Users\\\\Administrator\\\\Desktop&quot;); System.out.println(file); //ËøîÂõûÊûÑÈÄ†ÊñπÊ≥ï‰º†ÂÖ•ÁöÑË∑ØÂæÑ System.out.println(file.getPath()); //ËøîÂõûÁªùÂØπË∑ØÂæÑ System.out.println(file.getAbsolutePath()); //ËøîÂõûÁöÑÊòØËßÑËåÉË∑ØÂæÑ„ÄÇ System.out.println(afile.getCanonicalPath()); //Ê†πÊçÆÂΩìÂâçÂπ≥Âè∞ÊâìÂç∞&quot;\\&quot;Êàñ&quot;/&quot; System.out.println(File.separator); System.out.println(file.isFile()); //Âà§Êñ≠ÂΩìÂâçÊñá‰ª∂ÔºåÁõÆÂΩïÊòØÂê¶Â≠òÂú® System.out.println(file.isDirectory()); System.out.println(file.canRead()); System.out.println(file.canWrite()); System.out.println(file.canExecute()); System.out.println(afile.length()); //add„ÄÅdelete// if (file.createNewFile()) {// // Êñá‰ª∂ÂàõÂª∫ÊàêÂäü:// // TOD O:TODOÊèê‰∫§‰ª£Á†Å‰ºöÊèêÈÜí// if (file.delete()) {// // Âà†Èô§Êñá‰ª∂ÊàêÂäü:// }// }// ÈÄíÂΩíÂàóÂá∫ÁõÆÂΩï‰∏ãÁöÑÊâÄÊúâÊñá‰ª∂// public static void listAllFiles(File dir) {// if (dir == null || !dir.exists()) {// return;// }// if (dir.isFile()) {// System.out.println(dir.getName());// return;// }// for (File file : dir.listFiles()) {// listAllFiles(file);// }//}//Êúâ‰∫õÊó∂ÂÄôÔºåÁ®ãÂ∫èÈúÄË¶ÅËØªÂÜô‰∏Ä‰∫õ‰∏¥Êó∂Êñá‰ª∂ÔºåFileÂØπË±°Êèê‰æõ‰∫ÜcreateTempFile()Êù•ÂàõÂª∫‰∏Ä‰∏™‰∏¥Êó∂Êñá‰ª∂Ôºå‰ª•ÂèädeleteOnExit()Âú®JVMÈÄÄÂá∫Êó∂Ëá™Âä®Âà†Èô§ËØ•Êñá‰ª∂„ÄÇ System.out.println(catalog.list()); //ÁõÆÂΩï‰∏ãÁöÑÊñá‰ª∂ÂíåÂ≠êÁõÆÂΩïÂêç System.out.println(catalog.listFiles()); //listFiles()Êèê‰æõ‰∫Ü‰∏ÄÁ≥ªÂàóÈáçËΩΩÊñπÊ≥ïÔºåÂèØ‰ª•ËøáÊª§‰∏çÊÉ≥Ë¶ÅÁöÑÊñá‰ª∂ÂíåÁõÆÂΩï // ‰ªÖÂàóÂá∫.exeÊñá‰ª∂ File[] fs2 = catalog.listFiles(new FilenameFilter() { @Override public boolean accept(File dir, String name) { return name.endsWith(&quot;.exe&quot;); // ËøîÂõûtrueË°®Á§∫Êé•ÂèóËØ•Êñá‰ª∂ } }); printFiles(fs2); } /**boolean mkdir()ÔºöÂàõÂª∫ÂΩìÂâçFileÂØπË±°Ë°®Á§∫ÁöÑÁõÆÂΩïÔºõ //boolean mkdirs()ÔºöÂàõÂª∫ÂΩìÂâçFileÂØπË±°Ë°®Á§∫ÁöÑÁõÆÂΩïÔºåÂπ∂Âú®ÂøÖË¶ÅÊó∂Â∞Ü‰∏çÂ≠òÂú®ÁöÑÁà∂ÁõÆÂΩï‰πüÂàõÂª∫Âá∫Êù•Ôºõ //boolean delete()ÔºöÂà†Èô§ÂΩìÂâçFileÂØπË±°Ë°®Á§∫ÁöÑÁõÆÂΩïÔºåÂΩìÂâçÁõÆÂΩïÂøÖÈ°ª‰∏∫Á©∫ÊâçËÉΩÂà†Èô§ÊàêÂäü„ÄÇ*/ static void printFiles(File[] files) { System.out.println(&quot;==========&quot;); if (files != null) { for (File f : files) { System.out.println(f); } } System.out.println(&quot;==========&quot;); // ÊûÑÈÄ†‰∏Ä‰∏™PathÂØπË±° Path p1 = Paths.get(&quot;.&quot;, &quot;project&quot;, &quot;study&quot;); System.out.println(p1); // ËΩ¨Êç¢‰∏∫ÁªùÂØπË∑ØÂæÑ Path p2 = p1.toAbsolutePath(); System.out.println(p2); // ËΩ¨Êç¢‰∏∫ËßÑËåÉË∑ØÂæÑ Path p3 = p2.normalize(); System.out.println(p3); // ËΩ¨Êç¢‰∏∫FileÂØπË±° File f = p3.toFile(); System.out.println(f); // ÂèØ‰ª•Áõ¥Êé•ÈÅçÂéÜPath for (Path p : Paths.get(&quot;src/main&quot;).toAbsolutePath()) { System.out.println(&quot; &quot; + p); } }} Â≠óËäÇÊìç‰Ωú InputStream 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273import java.io.File;import java.io.FileInputStream;import java.io.IOException;import java.io.InputStream;/**InputStreamÂπ∂‰∏çÊòØ‰∏Ä‰∏™Êé•Âè£ÔºåËÄåÊòØ‰∏Ä‰∏™ÊäΩË±°Á±ªÔºåÂÆÉÊòØÊâÄÊúâËæìÂÖ•ÊµÅÁöÑË∂ÖÁ±ª„ÄÇËøô‰∏™ÊäΩË±°Á±ªÂÆö‰πâÁöÑ‰∏Ä‰∏™ÊúÄÈáçË¶ÅÁöÑÊñπÊ≥ïÂ∞±ÊòØint read()ÔºåÁ≠æÂêçÂ¶Ç‰∏ãÔºöpublic abstract int read() throws IOException;Ëøô‰∏™ÊñπÊ≥ï‰ºöËØªÂèñËæìÂÖ•ÊµÅÁöÑ‰∏ã‰∏Ä‰∏™Â≠óËäÇÔºåÂπ∂ËøîÂõûÂ≠óËäÇË°®Á§∫ÁöÑintÂÄºÔºà0~255Ôºâ„ÄÇÂ¶ÇÊûúÂ∑≤ËØªÂà∞Êú´Â∞æÔºåËøîÂõû-1Ë°®Á§∫‰∏çËÉΩÁªßÁª≠ËØªÂèñ‰∫Ü„ÄÇ * @author lxl*/public class InputStreamL { public static void main(String[] args) throws IOException { //inputStreamÂ≠óËäÇËæìÂÖ•ÊµÅÔºåÊäΩË±°Á±ªÔºåÂè™Êèê‰æõÊñπÊ≥ïÂ£∞ÊòéÔºå‰∏çÊèê‰æõÂÖ∑‰ΩìÂÆûÁé∞ // ÂàõÂª∫‰∏Ä‰∏™FileInputStreamÂØπË±°: InputStream inputStream = new FileInputStream(&quot;fileTest.txt&quot;); for (; ; ) {//Ê≠ªÂæ™ÁéØÔºåÊØîwhileÔºàtrueÔºâÊõ¥Â•ΩÔºåÂõ†‰∏∫ÁºñËØëÂêéÊåá‰ª§Êõ¥Â∞ëÔºåËÄå‰∏îÊ≤°ÊúâÂà§Êñ≠Ë∑≥ËΩ¨ÔºåÊõ¥Âä†ÁÆÄÊ¥Å // ÂèçÂ§çË∞ÉÁî®read()ÊñπÊ≥ïÔºåÁõ¥Âà∞ËøîÂõû-1 int n = inputStream.read(); if (n == -1) { break; } // ÊâìÂç∞byteÁöÑÂÄº System.out.println(n); } inputStream.close(); // ÂÖ≥Èó≠ÊµÅÈáäÊîæÂØπÂ∫îÁöÑÂ∫ïÂ±ÇËµÑÊ∫êÔºå‰æøËÆ©Êìç‰ΩúÁ≥ªÁªüÊääËµÑÊ∫êÈáäÊîæÊéâÔºåÂê¶ÂàôÔºåÂ∫îÁî®Á®ãÂ∫èÂç†Áî®ÁöÑËµÑÊ∫ê‰ºöË∂äÊù•Ë∂äÂ§öÔºå‰∏ç‰ΩÜÁôΩÁôΩÂç†Áî®ÂÜÖÂ≠òÔºåËøò‰ºöÂΩ±ÂìçÂÖ∂‰ªñÂ∫îÁî®Á®ãÂ∫èÁöÑËøêË°å„ÄÇ// Âà©Áî®ÁºìÂÜ≤Âå∫‰∏ÄÊ¨°ËØªÂèñÂ§ö‰∏™Â≠óËäÇ try (InputStream input = new FileInputStream(&quot;fileTest.txt&quot;)) { // ÂÆö‰πâ1000‰∏™Â≠óËäÇÂ§ßÂ∞èÁöÑÁºìÂÜ≤Âå∫: byte[] buffer = new byte[1000]; int n; // ËØªÂèñÂà∞ÁºìÂÜ≤Âå∫,read()ÊñπÊ≥ïÊòØÈòªÂ°ûÁöÑÔºàBlockingÔºâÔºåÂøÖÈ°ªÁ≠âÂæÖread()ÊñπÊ≥ïËøîÂõûÊâçËÉΩÊâßË°å‰∏ã‰∏ÄË°å‰ª£Á†Å while ((n = input.read(buffer)) != -1) { System.out.println(&quot;read &quot; + n + &quot; bytes.&quot;); } } try { //ÂáÜÂ§áÊñá‰ª∂lol.txtÂÖ∂‰∏≠ÁöÑÂÜÖÂÆπÊòØABÔºåÂØπÂ∫îÁöÑASCIIÂàÜÂà´ÊòØ65 66 File f =new File(&quot;fileTest.txt&quot;); //ÂàõÂª∫Âü∫‰∫éÊñá‰ª∂ÁöÑËæìÂÖ•ÊµÅ FileInputStream fis =new FileInputStream(f); //ÂàõÂª∫Â≠óËäÇÊï∞ÁªÑÔºåÂÖ∂ÈïøÂ∫¶Â∞±ÊòØÊñá‰ª∂ÁöÑÈïøÂ∫¶ byte[] all =new byte[(int) f.length()]; //‰ª•Â≠óËäÇÊµÅÁöÑÂΩ¢ÂºèËØªÂèñÊñá‰ª∂ÊâÄÊúâÂÜÖÂÆπ fis.read(all); for (byte b : all) { //ÊâìÂç∞Âá∫Êù•ÊòØ65 66 System.out.println(b); } //ÊØèÊ¨°‰ΩøÁî®ÂÆåÊµÅÔºåÈÉΩÂ∫îËØ•ËøõË°åÂÖ≥Èó≠ fis.close(); } catch (IOException e) { // TODO Auto-generated catch block e.printStackTrace(); } }}/*Ë£ÖÈ•∞ËÄÖÊ®°ÂºèJava I/O ‰ΩøÁî®‰∫ÜË£ÖÈ•∞ËÄÖÊ®°ÂºèÊù•ÂÆûÁé∞„ÄÇ‰ª• InputStream ‰∏∫‰æãÔºåInputStream ÊòØÊäΩË±°ÁªÑ‰ª∂ÔºõFileInputStream ÊòØ InputStream ÁöÑÂ≠êÁ±ªÔºåÂ±û‰∫éÂÖ∑‰ΩìÁªÑ‰ª∂ÔºåÊèê‰æõ‰∫ÜÂ≠óËäÇÊµÅÁöÑËæìÂÖ•Êìç‰ΩúÔºõFilterInputStream Â±û‰∫éÊäΩË±°Ë£ÖÈ•∞ËÄÖÔºåË£ÖÈ•∞ËÄÖÁî®‰∫éË£ÖÈ•∞ÁªÑ‰ª∂Ôºå‰∏∫ÁªÑ‰ª∂Êèê‰æõÈ¢ùÂ§ñÁöÑÂäüËÉΩ„ÄÇ‰æãÂ¶Ç BufferedInputStream ‰∏∫ FileInputStream Êèê‰æõÁºìÂ≠òÁöÑÂäüËÉΩ„ÄÇÂÆû‰æãÂåñ‰∏Ä‰∏™ÂÖ∑ÊúâÁºìÂ≠òÂäüËÉΩÁöÑÂ≠óËäÇÊµÅÂØπË±°Êó∂ÔºåÂè™ÈúÄË¶ÅÂú® FileInputStream ÂØπË±°‰∏äÂÜçÂ•ó‰∏ÄÂ±Ç BufferedInputStream ÂØπË±°Âç≥ÂèØ„ÄÇFileInputStream fileInputStream = new FileInputStream(filePath);BufferedInputStream bufferedInputStream = new BufferedInputStream(fileInputStream);DataInputStream Ë£ÖÈ•∞ËÄÖÊèê‰æõ‰∫ÜÂØπÊõ¥Â§öÊï∞ÊçÆÁ±ªÂûãËøõË°åËæìÂÖ•ÁöÑÊìç‰ΩúÔºåÊØîÂ¶Ç int„ÄÅdouble Á≠âÂü∫Êú¨Á±ªÂûã„ÄÇ*/ OutputStream 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051import java.io.*;/**‰∏∫‰ªÄ‰πàË¶ÅÊúâflush()ÔºüÂõ†‰∏∫ÂêëÁ£ÅÁõò„ÄÅÁΩëÁªúÂÜôÂÖ•Êï∞ÊçÆÁöÑÊó∂ÂÄôÔºåÂá∫‰∫éÊïàÁéáÁöÑËÄÉËôëÔºåÊìç‰ΩúÁ≥ªÁªüÂπ∂‰∏çÊòØËæìÂá∫‰∏Ä‰∏™Â≠óËäÇÂ∞±Á´ãÂàªÂÜôÂÖ•Âà∞Êñá‰ª∂ÊàñËÄÖÂèëÈÄÅÂà∞ÁΩëÁªúÔºåËÄåÊòØÊääËæìÂá∫ÁöÑÂ≠óËäÇÂÖàÊîæÂà∞ÂÜÖÂ≠òÁöÑ‰∏Ä‰∏™ÁºìÂÜ≤Âå∫ÈáåÔºàÊú¨Ë¥®‰∏äÂ∞±ÊòØ‰∏Ä‰∏™byte[]Êï∞ÁªÑÔºâÔºåÁ≠âÂà∞ÁºìÂÜ≤Âå∫ÂÜôÊª°‰∫ÜÔºåÂÜç‰∏ÄÊ¨°ÊÄßÂÜôÂÖ•Êñá‰ª∂ÊàñËÄÖÁΩëÁªú„ÄÇÂØπ‰∫éÂæàÂ§öIOËÆæÂ§áÊù•ËØ¥Ôºå‰∏ÄÊ¨°ÂÜô‰∏Ä‰∏™Â≠óËäÇÂíå‰∏ÄÊ¨°ÂÜô1000‰∏™Â≠óËäÇÔºåËä±Ë¥πÁöÑÊó∂Èó¥Âá†‰πéÊòØÂÆåÂÖ®‰∏ÄÊ†∑ÁöÑÔºåÊâÄ‰ª•OutputStreamÊúâ‰∏™flush()ÊñπÊ≥ïÔºåËÉΩÂº∫Âà∂ÊääÁºìÂÜ≤Âå∫ÂÜÖÂÆπËæìÂá∫„ÄÇÈÄöÂ∏∏ÊÉÖÂÜµ‰∏ãÔºåÊàë‰ª¨‰∏çÈúÄË¶ÅË∞ÉÁî®Ëøô‰∏™flush()ÊñπÊ≥ïÔºåÂõ†‰∏∫ÁºìÂÜ≤Âå∫ÂÜôÊª°‰∫ÜOutputStream‰ºöËá™Âä®Ë∞ÉÁî®ÂÆÉÂπ∂‰∏îÔºåÂú®Ë∞ÉÁî®close()ÊñπÊ≥ïÂÖ≥Èó≠OutputStream‰πãÂâçÔºå‰πü‰ºöËá™Âä®Ë∞ÉÁî®flush()ÊñπÊ≥ï„ÄÇÁâπÂà´ÊÉÖÂÜµÔºåÁºìÂÜ≤Âå∫ËøáÂ§ßÔºåÈúÄÈ©¨‰∏äÂèëÈÄÅÁöÑÊó∂ÂÄôÊâãÂä®flush * @author lxl*/public class OutputStreamL { /**ÂÆûÁé∞Êñá‰ª∂Â§çÂà∂*/ public static void copyFile(String src, String dist) throws IOException { FileInputStream in = new FileInputStream(src); FileOutputStream out = new FileOutputStream(dist); byte[] buffer = new byte[20 * 1024]; int cnt; // read() ÊúÄÂ§öËØªÂèñ buffer.length ‰∏™Â≠óËäÇ // ËøîÂõûÁöÑÊòØÂÆûÈôÖËØªÂèñÁöÑ‰∏™Êï∞ // ËøîÂõû -1 ÁöÑÊó∂ÂÄôË°®Á§∫ËØªÂà∞ eofÔºåÂç≥Êñá‰ª∂Â∞æ while ((cnt = in.read(buffer, 0, buffer.length)) != -1) { out.write(buffer, 0, cnt); } in.close(); } public static void main(String[] args) throws IOException { //Êñá‰ª∂Â≠òÂú®ÂàôË¶ÜÁõñÔºå‰∏çÂ≠òÂú®ÂàõÂª∫ try(OutputStream output = new FileOutputStream(&quot;F:\\\\PROJECT\\\\IDEA\\\\mylearnproject\\\\src\\\\main\\\\resources\\\\fileTest.txt&quot;)){ byte[] data = {34, 35}; // H output.write(72); // e output.write(101); // l output.write(108); // l output.write(108); // o output.write(data);// output.write(111); // o // ‰∏ÄÊ¨°ÊÄßÂÜôÂÖ•Ëã•Âπ≤Â≠óËäÇ output.write(&quot;HelloÁì¶ËææÊó†Â§ö&quot;.getBytes(&quot;UTF-8&quot;)); // } output.close();//try‰πãÂêéÁºñËØëÂô®Âú®Ê≠§Ëá™Âä®‰∏∫Êàë‰ª¨ÂÜôÂÖ•finallyÂπ∂Ë∞ÉÁî®close() }}} Â≠óÁ¨¶Êìç‰Ωú Reader InputStreamÊòØ‰∏Ä‰∏™Â≠óËäÇÊµÅÔºåÂç≥‰ª•byte‰∏∫Âçï‰ΩçËØªÂèñÔºåËÄåReaderÊòØ‰∏Ä‰∏™Â≠óÁ¨¶ÊµÅÔºåÂç≥‰ª•char‰∏∫Âçï‰ΩçËØªÂèñ InputStream Reader Â≠óËäÇÊµÅÔºå‰ª•byte‰∏∫Âçï‰Ωç Â≠óÁ¨¶ÊµÅÔºå‰ª•char‰∏∫Âçï‰Ωç ËØªÂèñÂ≠óËäÇÔºà-1Ôºå0~255ÔºâÔºöint read() ËØªÂèñÂ≠óÁ¨¶Ôºà-1Ôºå0~65535ÔºâÔºöint read() ËØªÂà∞Â≠óËäÇÊï∞ÁªÑÔºöint read(byte[] b) ËØªÂà∞Â≠óÁ¨¶Êï∞ÁªÑÔºöint read(char[] c) java.io.ReaderÊòØÊâÄÊúâÂ≠óÁ¨¶ËæìÂÖ•ÊµÅÁöÑË∂ÖÁ±ªÔºåÂÆÉÊúÄ‰∏ªË¶ÅÁöÑÊñπÊ≥ïÊòØÔºö public int read() throws IOException; Ëøô‰∏™ÊñπÊ≥ïËØªÂèñÂ≠óÁ¨¶ÊµÅÁöÑ‰∏ã‰∏Ä‰∏™Â≠óÁ¨¶ÔºåÂπ∂ËøîÂõûÂ≠óÁ¨¶Ë°®Á§∫ÁöÑintÔºåËåÉÂõ¥ÊòØ0~65535„ÄÇÂ¶ÇÊûúÂ∑≤ËØªÂà∞Êú´Â∞æÔºåËøîÂõû-1„ÄÇ FileReaderÊâìÂºÄÊñá‰ª∂Âπ∂Ëé∑ÂèñReader // ÂàõÂª∫‰∏Ä‰∏™FileReaderÂØπË±°: Reader reader = new FileReader(&quot;src/readme.txt&quot;); // Â≠óÁ¨¶ÁºñÁ†ÅÊòØ??? for (;üòâ { int n = reader.read(); // ÂèçÂ§çË∞ÉÁî®read()ÊñπÊ≥ïÔºåÁõ¥Âà∞ËøîÂõû-1 if (n == -1) { break; } System.out.println((char)n); // ÊâìÂç∞char } reader.close(); // ÂÖ≥Èó≠ÊµÅ ÈÅøÂÖç‰π±Á†ÅÈóÆÈ¢òÔºåÊàë‰ª¨ÈúÄË¶ÅÂú®ÂàõÂª∫FileReaderÊó∂ÊåáÂÆöÁºñÁ†ÅÔºö 123456789101112131415161718192021 Reader reader = new FileReader(&quot;src/readme.txt&quot;, StandardCharsets.UTF_8); - try (resource)Êù•‰øùËØÅReaderÂú®Êó†ËÆ∫ÊúâÊ≤°ÊúâIOÈîôËØØÁöÑÊó∂ÂÄôÈÉΩËÉΩÂ§üÊ≠£Á°ÆÂú∞ÂÖ≥Èó≠ - ReaderËøòÊèê‰æõ‰∫Ü‰∏ÄÊ¨°ÊÄßËØªÂèñËã•Âπ≤Â≠óÁ¨¶Âπ∂Â°´ÂÖÖÂà∞char[]Êï∞ÁªÑÁöÑÊñπÊ≥ïÔºöpublic int read(char[] c) throws IOExceptionÂÆÉËøîÂõûÂÆûÈôÖËØªÂÖ•ÁöÑÂ≠óÁ¨¶‰∏™Êï∞ÔºåÊúÄÂ§ß‰∏çË∂ÖËøáchar[]Êï∞ÁªÑÁöÑÈïøÂ∫¶„ÄÇËøîÂõû-1Ë°®Á§∫ÊµÅÁªìÊùü„ÄÇ - CharArrayReaderÊää‰∏Ä‰∏™char[]Êï∞ÁªÑÂèòÊàê‰∏Ä‰∏™Reader - try (Reader reader = new CharArrayReader(&quot;Hello&quot;.toCharArray())) {}- StringReader- InputStreamReader - Èô§‰∫ÜÁâπÊÆäÁöÑCharArrayReaderÂíåStringReaderÔºåÊôÆÈÄöÁöÑReaderÂÆûÈôÖ‰∏äÊòØÂü∫‰∫éInputStreamÊûÑÈÄ†ÁöÑÔºåÂõ†‰∏∫ReaderÈúÄË¶Å‰ªéInputStream‰∏≠ËØªÂÖ•Â≠óËäÇÊµÅÔºàbyteÔºâÔºåÁÑ∂ÂêéÔºåÊ†πÊçÆÁºñÁ†ÅËÆæÁΩÆÔºåÂÜçËΩ¨Êç¢‰∏∫charÂ∞±ÂèØ‰ª•ÂÆûÁé∞Â≠óÁ¨¶ÊµÅ„ÄÇÂ¶ÇÊûúÊàë‰ª¨Êü•ÁúãFileReaderÁöÑÊ∫êÁ†ÅÔºåÂÆÉÂú®ÂÜÖÈÉ®ÂÆûÈôÖ‰∏äÊåÅÊúâ‰∏Ä‰∏™FileInputStream„ÄÇ Êó¢ÁÑ∂ReaderÊú¨Ë¥®‰∏äÊòØ‰∏Ä‰∏™Âü∫‰∫éInputStreamÁöÑbyteÂà∞charÁöÑËΩ¨Êç¢Âô®ÔºåÈÇ£‰πàÔºåÂ¶ÇÊûúÊàë‰ª¨Â∑≤ÁªèÊúâ‰∏Ä‰∏™InputStreamÔºåÊÉ≥ÊääÂÆÉËΩ¨Êç¢‰∏∫ReaderÔºåÊòØÂÆåÂÖ®ÂèØË°åÁöÑ„ÄÇInputStreamReaderÂ∞±ÊòØËøôÊ†∑‰∏Ä‰∏™ËΩ¨Êç¢Âô®ÔºåÂÆÉÂèØ‰ª•Êää‰ªª‰ΩïInputStreamËΩ¨Êç¢‰∏∫Reader„ÄÇ - // ÊåÅÊúâInputStream: InputStream input = new FileInputStream(&quot;src/readme.txt&quot;);// ÂèòÊç¢‰∏∫Reader:Reader reader = new InputStreamReader(input, &quot;UTF-8&quot;); - try (Reader reader = new InputStreamReader(new FileInputStream(&quot;src/readme.txt&quot;), &quot;UTF-8&quot;)) {// TODO:} Writer WriterÂ∞±ÊòØÂ∏¶ÁºñÁ†ÅËΩ¨Êç¢Âô®ÁöÑOutputStreamÔºåÂÆÉÊäächarËΩ¨Êç¢‰∏∫byteÂπ∂ËæìÂá∫ OutputStream Writer Â≠óËäÇÊµÅÔºå‰ª•byte‰∏∫Âçï‰Ωç Â≠óÁ¨¶ÊµÅÔºå‰ª•char‰∏∫Âçï‰Ωç ÂÜôÂÖ•Â≠óËäÇÔºà0~255ÔºâÔºövoid write(int b) ÂÜôÂÖ•Â≠óÁ¨¶Ôºà0~65535ÔºâÔºövoid write(int c) ÂÜôÂÖ•Â≠óËäÇÊï∞ÁªÑÔºövoid write(byte[] b) ÂÜôÂÖ•Â≠óÁ¨¶Êï∞ÁªÑÔºövoid write(char[] c) Êó†ÂØπÂ∫îÊñπÊ≥ï ÂÜôÂÖ•StringÔºövoid write(String s) WriterÊòØÊâÄÊúâÂ≠óÁ¨¶ËæìÂá∫ÊµÅÁöÑË∂ÖÁ±ªÔºåÂÆÉÊèê‰æõÁöÑÊñπÊ≥ï‰∏ªË¶ÅÊúâÔºö ÂÜôÂÖ•‰∏Ä‰∏™Â≠óÁ¨¶Ôºà0~65535ÔºâÔºövoid write(int c)Ôºõ ÂÜôÂÖ•Â≠óÁ¨¶Êï∞ÁªÑÁöÑÊâÄÊúâÂ≠óÁ¨¶Ôºövoid write(char[] c)Ôºõ ÂÜôÂÖ•StringË°®Á§∫ÁöÑÊâÄÊúâÂ≠óÁ¨¶Ôºövoid write(String s)„ÄÇ - FileWriter 12345678 - try (Writer writer = new FileWriter(&quot;readme.txt&quot;, StandardCharsets.UTF_8)) {writer.write('H'); // ÂÜôÂÖ•Âçï‰∏™Â≠óÁ¨¶writer.write(&quot;Hello&quot;.toCharArray()); // ÂÜôÂÖ•char[]writer.write(&quot;Hello&quot;); // ÂÜôÂÖ•String}- CharArrayWriter- StringWriter- OutputStreamWriter String ÁöÑÁºñÁ†ÅÊñπÂºè String ÂèØ‰ª•ÁúãÊàê‰∏Ä‰∏™Â≠óÁ¨¶Â∫èÂàóÔºåÂèØ‰ª•ÊåáÂÆö‰∏Ä‰∏™ÁºñÁ†ÅÊñπÂºèÂ∞ÜÂÆÉÁºñÁ†Å‰∏∫Â≠óËäÇÂ∫èÂàóÔºå‰πüÂèØ‰ª•ÊåáÂÆö‰∏Ä‰∏™ÁºñÁ†ÅÊñπÂºèÂ∞Ü‰∏Ä‰∏™Â≠óËäÇÂ∫èÂàóËß£Á†Å‰∏∫ String„ÄÇ String str1 = &quot;‰∏≠Êñá&quot;; d byte[] bytes = str1.getBytes(&quot;UTF-8&quot;); String str2 = new String(bytes, &quot;UTF-8&quot;); System.out.println(str2); Âú®Ë∞ÉÁî®Êó†ÂèÇÊï∞ getBytes() ÊñπÊ≥ïÊó∂ÔºåÈªòËÆ§ÁöÑÁºñÁ†ÅÊñπÂºè‰∏çÊòØ UTF-16be„ÄÇÂèåÂ≠óËäÇÁºñÁ†ÅÁöÑÂ•ΩÂ§ÑÊòØÂèØ‰ª•‰ΩøÁî®‰∏Ä‰∏™ char Â≠òÂÇ®‰∏≠ÊñáÂíåËã±ÊñáÔºåËÄåÂ∞Ü String ËΩ¨‰∏∫ bytes[] Â≠óËäÇÊï∞ÁªÑÂ∞±‰∏çÂÜçÈúÄË¶ÅËøô‰∏™Â•ΩÂ§ÑÔºåÂõ†Ê≠§‰πüÂ∞±‰∏çÂÜçÈúÄË¶ÅÂèåÂ≠óËäÇÁºñÁ†Å„ÄÇgetBytes() ÁöÑÈªòËÆ§ÁºñÁ†ÅÊñπÂºè‰∏éÂπ≥Âè∞ÊúâÂÖ≥Ôºå‰∏ÄËà¨‰∏∫ UTF-8„ÄÇ byte[] bytes = str1.getBytes(); ÂØπË±°Êìç‰Ωú 1234567891011121314151617181920212223242526272829303132333435- Â∫èÂàóÂåñÊòØÊåáÊää‰∏Ä‰∏™JavaÂØπË±°ÂèòÊàê‰∫åËøõÂà∂ÂÜÖÂÆπÔºåÊú¨Ë¥®‰∏äÂ∞±ÊòØ‰∏Ä‰∏™byte[]Êï∞ÁªÑ,Â∫èÂàóÂåñÂêéÂèØ‰ª•Êääbyte[]‰øùÂ≠òÂà∞Êñá‰ª∂‰∏≠ÔºåÊàñËÄÖÊääbyte[]ÈÄöËøáÁΩëÁªú‰º†ËæìÂà∞ËøúÁ®ãÔºåËøôÊ†∑ÔºåÂ∞±Áõ∏ÂΩì‰∫éÊääJavaÂØπË±°Â≠òÂÇ®Âà∞Êñá‰ª∂ÊàñËÄÖÈÄöËøáÁΩëÁªú‰º†ËæìÂá∫Âéª‰∫Ü - ‰∏Ä‰∏™JavaÂØπË±°Ë¶ÅËÉΩÂ∫èÂàóÂåñÔºåÂøÖÈ°ªÂÆûÁé∞‰∏Ä‰∏™ÁâπÊÆäÁöÑjava.io.SerializableÊé•Âè£ - Êää‰∏Ä‰∏™JavaÂØπË±°Âèò‰∏∫byte[]Êï∞ÁªÑÔºåÈúÄË¶Å‰ΩøÁî®ObjectOutputStream„ÄÇÂÆÉË¥üË¥£Êää‰∏Ä‰∏™JavaÂØπË±°ÂÜôÂÖ•‰∏Ä‰∏™Â≠óËäÇÊµÅ - public class Main { public static void main(String[] args) throws IOException { ByteArrayOutputStream buffer = new ByteArrayOutputStream(); try (ObjectOutputStream output = new ObjectOutputStream(buffer)) { // ÂÜôÂÖ•int: output.writeInt(12345); // ÂÜôÂÖ•String: output.writeUTF(&quot;Hello&quot;); // ÂÜôÂÖ•Object: output.writeObject(Double.valueOf(123.456)); } System.out.println(Arrays.toString(buffer.toByteArray())); } }- ÂèçÂ∫èÂàóÂåñÔºåÂç≥Êää‰∏Ä‰∏™‰∫åËøõÂà∂ÂÜÖÂÆπÔºà‰πüÂ∞±ÊòØbyte[]Êï∞ÁªÑÔºâÂèòÂõûJavaÂØπË±°„ÄÇÊúâ‰∫ÜÂèçÂ∫èÂàóÂåñÔºå‰øùÂ≠òÂà∞Êñá‰ª∂‰∏≠ÁöÑbyte[]Êï∞ÁªÑÂèàÂèØ‰ª•‚ÄúÂèòÂõû‚ÄùJavaÂØπË±°ÔºåÊàñËÄÖ‰ªéÁΩëÁªú‰∏äËØªÂèñbyte[]Âπ∂ÊääÂÆÉ‚ÄúÂèòÂõû‚ÄùJavaÂØπË±°„ÄÇ - ObjectInputStreamË¥üË¥£‰ªé‰∏Ä‰∏™Â≠óËäÇÊµÅËØªÂèñJavaÂØπË±° - try (ObjectInputStream input = new ObjectInputStream(...)) { int n = input.readInt(); String s = input.readUTF(); Double d = (Double) input.readObject(); } - readObject()ÂèØËÉΩÊäõÂá∫ÁöÑÂºÇÂ∏∏ÊúâÔºöClassNotFoundExceptionÔºöÊ≤°ÊúâÊâæÂà∞ÂØπÂ∫îÁöÑClassÔºõInvalidClassExceptionÔºöClass‰∏çÂåπÈÖç„ÄÇ- ÂÆâÂÖ®ÊÄß - JavaÁöÑÂ∫èÂàóÂåñÊú∫Âà∂‰ªÖÈÄÇÁî®‰∫éJavaÔºåÂ¶ÇÊûúÈúÄË¶Å‰∏éÂÖ∂ÂÆÉËØ≠Ë®Ä‰∫§Êç¢Êï∞ÊçÆÔºåÂøÖÈ°ª‰ΩøÁî®ÈÄöÁî®ÁöÑÂ∫èÂàóÂåñÊñπÊ≥ïÔºå‰æãÂ¶ÇJSON„ÄÇ ÁΩëÁªúÊìç‰Ωú NIO ÊµÅ‰∏éÂùó I/O ‰∏é NIO ÊúÄÈáçË¶ÅÁöÑÂå∫Âà´ÊòØÊï∞ÊçÆÊâìÂåÖÂíå‰º†ËæìÁöÑÊñπÂºèÔºåI/O ‰ª•ÊµÅÁöÑÊñπÂºèÂ§ÑÁêÜÊï∞ÊçÆÔºåËÄå NIO ‰ª•ÂùóÁöÑÊñπÂºèÂ§ÑÁêÜÊï∞ÊçÆ„ÄÇ Èù¢ÂêëÊµÅÁöÑ I/O ‰∏ÄÊ¨°Â§ÑÁêÜ‰∏Ä‰∏™Â≠óËäÇÊï∞ÊçÆÔºö‰∏Ä‰∏™ËæìÂÖ•ÊµÅ‰∫ßÁîü‰∏Ä‰∏™Â≠óËäÇÊï∞ÊçÆÔºå‰∏Ä‰∏™ËæìÂá∫ÊµÅÊ∂àË¥π‰∏Ä‰∏™Â≠óËäÇÊï∞ÊçÆ„ÄÇ‰∏∫ÊµÅÂºèÊï∞ÊçÆÂàõÂª∫ËøáÊª§Âô®ÈùûÂ∏∏ÂÆπÊòìÔºåÈìæÊé•Âá†‰∏™ËøáÊª§Âô®Ôºå‰ª•‰æøÊØè‰∏™ËøáÊª§Âô®Âè™Ë¥üË¥£Â§çÊùÇÂ§ÑÁêÜÊú∫Âà∂ÁöÑ‰∏ÄÈÉ®ÂàÜ„ÄÇ‰∏çÂà©ÁöÑ‰∏ÄÈù¢ÊòØÔºåÈù¢ÂêëÊµÅÁöÑ I/O ÈÄöÂ∏∏Áõ∏ÂΩìÊÖ¢„ÄÇ Èù¢ÂêëÂùóÁöÑ I/O ‰∏ÄÊ¨°Â§ÑÁêÜ‰∏Ä‰∏™Êï∞ÊçÆÂùóÔºåÊåâÂùóÂ§ÑÁêÜÊï∞ÊçÆÊØîÊåâÊµÅÂ§ÑÁêÜÊï∞ÊçÆË¶ÅÂø´ÂæóÂ§ö„ÄÇ‰ΩÜÊòØÈù¢ÂêëÂùóÁöÑ I/O Áº∫Â∞ë‰∏Ä‰∫õÈù¢ÂêëÊµÅÁöÑ I/O ÊâÄÂÖ∑ÊúâÁöÑ‰ºòÈõÖÊÄßÂíåÁÆÄÂçïÊÄß„ÄÇ I/O ÂåÖÂíå NIO Â∑≤ÁªèÂæàÂ•ΩÂú∞ÈõÜÊàê‰∫ÜÔºåjava.io.* Â∑≤Áªè‰ª• NIO ‰∏∫Âü∫Á°ÄÈáçÊñ∞ÂÆûÁé∞‰∫ÜÔºåÊâÄ‰ª•Áé∞Âú®ÂÆÉÂèØ‰ª•Âà©Áî® NIO ÁöÑ‰∏Ä‰∫õÁâπÊÄß„ÄÇ‰æãÂ¶ÇÔºåjava.io.* ÂåÖ‰∏≠ÁöÑ‰∏Ä‰∫õÁ±ªÂåÖÂê´‰ª•ÂùóÁöÑÂΩ¢ÂºèËØªÂÜôÊï∞ÊçÆÁöÑÊñπÊ≥ïÔºåËøô‰ΩøÂæóÂç≥‰ΩøÂú®Èù¢ÂêëÊµÅÁöÑÁ≥ªÁªü‰∏≠ÔºåÂ§ÑÁêÜÈÄüÂ∫¶‰πü‰ºöÊõ¥Âø´„ÄÇ ÈÄöÈÅì‰∏éÁºìÂÜ≤Âå∫ ÈÄöÈÅì ÈÄöÈÅì Channel ÊòØÂØπÂéü I/O ÂåÖ‰∏≠ÁöÑÊµÅÁöÑÊ®°ÊãüÔºåÂèØ‰ª•ÈÄöËøáÂÆÉËØªÂèñÂíåÂÜôÂÖ•Êï∞ÊçÆ„ÄÇ ÈÄöÈÅì‰∏éÊµÅÁöÑ‰∏çÂêå‰πãÂ§ÑÂú®‰∫éÔºåÊµÅÂè™ËÉΩÂú®‰∏Ä‰∏™ÊñπÂêë‰∏äÁßªÂä®(‰∏Ä‰∏™ÊµÅÂøÖÈ°ªÊòØ InputStream ÊàñËÄÖ OutputStream ÁöÑÂ≠êÁ±ª)ÔºåËÄåÈÄöÈÅìÊòØÂèåÂêëÁöÑÔºåÂèØ‰ª•Áî®‰∫éËØª„ÄÅÂÜôÊàñËÄÖÂêåÊó∂Áî®‰∫éËØªÂÜô„ÄÇ ÈÄöÈÅìÂåÖÊã¨‰ª•‰∏ãÁ±ªÂûãÔºö FileChannelÔºö‰ªéÊñá‰ª∂‰∏≠ËØªÂÜôÊï∞ÊçÆÔºõ DatagramChannelÔºöÈÄöËøá UDP ËØªÂÜôÁΩëÁªú‰∏≠Êï∞ÊçÆÔºõ SocketChannelÔºöÈÄöËøá TCP ËØªÂÜôÁΩëÁªú‰∏≠Êï∞ÊçÆÔºõ ServerSocketChannelÔºöÂèØ‰ª•ÁõëÂê¨Êñ∞ËøõÊù•ÁöÑ TCP ËøûÊé•ÔºåÂØπÊØè‰∏Ä‰∏™Êñ∞ËøõÊù•ÁöÑËøûÊé•ÈÉΩ‰ºöÂàõÂª∫‰∏Ä‰∏™ SocketChannel,Êú¨Ë∫´Âπ∂‰∏ç‰º†Êï∞ÊçÆ„ÄÇ FileChannel 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566package pers.lxl.mylearnproject.javase.io.nio.channel;import java.io.IOException;import java.io.RandomAccessFile;import java.nio.ByteBuffer;import java.nio.channels.FileChannel;public class FileChannelDemo { public static void main(String[] args) throws IOException { // ËØª// ÈúÄË¶ÅÈÄöËøá‰ΩøÁî®‰∏Ä‰∏™InputStream„ÄÅOutputStreamÊàñRandomAccessFileÊù•Ëé∑Âèñ‰∏Ä‰∏™FileChannelÂÆû‰æã RandomAccessFile aFile = new RandomAccessFile(&quot;src/main/resources/fileTest.txt&quot;, &quot;rw&quot;); FileChannel inChannel = aFile.getChannel(); ByteBuffer buf = ByteBuffer.allocate(48);// Ëé∑ÂèñÂΩìÂâçÈÄöÈÅì‰ΩçÁΩÆ long pos = inChannel.position();// ËÆæÁΩÆÂΩìÂâçÈÄöÈÅì‰ΩçÁΩÆ inChannel.position(pos + 6);// ËøîÂõûÈÄöÈÅìÂΩìÂâçÂ§ßÂ∞è System.out.println(&quot;Ê≠§Êó∂ÈÄöÈÅìÂ§ßÂ∞èÔºö&quot;+inChannel.size());// Êà™Âèñ(Âà†Èô§)Êñá‰ª∂7Â≠óËäÇÂêéÈÉ®ÂàÜ inChannel.truncate(7); int bytesRead = inChannel.read(buf); while (bytesRead != -1) { System.out.println(&quot;ËØªÂèñÔºö &quot; + bytesRead); buf.flip(); while (buf.hasRemaining()) { System.out.print((char) buf.get()); } buf.clear(); bytesRead = inChannel.read(buf); } //Âº∫Âà∂Â∞ÜÈÄöÈÅìÈáåÁöÑÂâ©‰ΩôÊï∞ÊçÆÂÜôÂà∞Á£ÅÁõò‰∏≠ inChannel.force(true); aFile.close(); System.out.println(&quot;Êìç‰ΩúÁªìÊùü&quot;); //Ë¶ÜÁõñËµ∑Âßã‰ΩçÁΩÆÂºÄÂßãÁöÑÂØπÂ∫î‰ΩçÁΩÆ ÂÜô RandomAccessFile aFile1 = new RandomAccessFile(&quot;src/main/resources/fileTest.txt&quot;, &quot;rw&quot;); String newData = &quot;New String to write to file...&quot; + System.currentTimeMillis(); ByteBuffer buf1 = ByteBuffer.allocate(48); FileChannel inChannel1 = aFile1.getChannel(); buf1.clear(); buf1.put(newData.getBytes()); buf1.flip(); while (buf1.hasRemaining()) { inChannel1.write(buf1); } inChannel1.close(); RandomAccessFile aaFile = new RandomAccessFile(&quot;src/main/resources/fileTest.txt&quot;, &quot;rw&quot;); FileChannel fromChannel = aaFile.getChannel(); RandomAccessFile bbFile = new RandomAccessFile(&quot;src/main/resources/transferFrom.txt&quot;, &quot;rw&quot;); FileChannel toChannel = bbFile.getChannel(); long position = 0; long count = fromChannel.size(); // fromChannel to toChannel toChannel.transferFrom(fromChannel, position, count); // fromChannel to toChannel fromChannel.transferTo(position, count, toChannel); aaFile.close(); bbFile.close(); System.out.println(&quot;ÈÄöÈÅì‰º†Ëæìover!&quot;); }} ServerSocketChannel Ôºà1ÔºâÊñ∞ÁöÑsocketÈÄöÈÅìÁ±ªÂèØ‰ª•ËøêË°åÈùûÈòªÂ°ûÊ®°ÂºèÂπ∂‰∏îÊòØÂèØÈÄâÊã©ÁöÑÔºåÂèØ‰ª•ÊøÄÊ¥ªÂ§ßÁ®ãÂ∫èÔºàÂ¶ÇÁΩëÁªúÊúçÂä°Âô®Âíå‰∏≠Èó¥‰ª∂ÁªÑ‰ª∂ÔºâÂ∑®Â§ßÁöÑÂèØ‰º∏Áº©ÊÄßÂíåÁÅµÊ¥ªÊÄß„ÄÇÊú¨ËäÇ‰∏≠Êàë‰ª¨‰ºöÁúãÂà∞ÔºåÂÜç‰πüÊ≤°Êúâ‰∏∫ÊØè‰∏™socketËøûÊé•‰ΩøÁî®‰∏Ä‰∏™Á∫øÁ®ãÁöÑÂøÖË¶Å‰∫ÜÔºå‰πüÈÅøÂÖç‰∫ÜÁÆ°ÁêÜÂ§ßÈáèÁ∫øÁ®ãÊâÄÈúÄÁöÑ‰∏ä‰∏ãÊñá‰∫§Êç¢ÂºÄÈîÄ„ÄÇÂÄüÂä©Êñ∞ÁöÑNIOÁ±ªÔºå‰∏Ä‰∏™ÊàñÂá†‰∏™Á∫øÁ®ãÂ∞±ÂèØ‰ª•ÁÆ°ÁêÜÊàêÁôæ‰∏äÂçÉÁöÑÊ¥ªÂä®socketËøûÊé•‰∫ÜÂπ∂‰∏îÂè™ÊúâÂæàÂ∞ëÁîöËá≥ÂèØËÉΩÊ≤°ÊúâÊÄßËÉΩÊçüÂ§±„ÄÇÊâÄÊúâÁöÑsocketÈÄöÈÅìÁ±ª(DatagramChannel„ÄÅSocketChannelÂíåServerSocketChannel)ÈÉΩÁªßÊâø‰∫Ü‰Ωç‰∫éjava.nio.channels.spiÂåÖ‰∏≠ÁöÑAbstractSelectableChannel„ÄÇËøôÊÑèÂë≥ÁùÄÊàë‰ª¨ÂèØ‰ª•Áî®‰∏Ä‰∏™SelectorÂØπË±°Êù•ÊâßË°åsocketÈÄöÈÅìÁöÑÂ∞±Áª™ÈÄâÊã©Ôºàreadiness selectionÔºâ„ÄÇ Ôºà2ÔºâËØ∑Ê≥®ÊÑèDatagramChannelÂíåSocketChannelÂÆûÁé∞ÂÆö‰πâËØªÂíåÂÜôÂäüËÉΩÁöÑÊé•Âè£ËÄåServerSocketChannel‰∏çÂÆûÁé∞„ÄÇServerSocketChannelË¥üË¥£ÁõëÂê¨‰º†ÂÖ•ÁöÑËøûÊé•ÂíåÂàõÂª∫Êñ∞ÁöÑSocketChannelÂØπË±°ÔºåÂÆÉÊú¨Ë∫´‰ªé‰∏ç‰º†ËæìÊï∞ÊçÆ„ÄÇ Ôºà3ÔºâÂú®Êàë‰ª¨ÂÖ∑‰ΩìËÆ®ËÆ∫ÊØè‰∏ÄÁßçsocketÈÄöÈÅìÂâçÔºåÊÇ®Â∫îËØ•‰∫ÜËß£socketÂíåsocketÈÄöÈÅì‰πãÈó¥ÁöÑÂÖ≥Á≥ª„ÄÇÈÄöÈÅìÊòØ‰∏Ä‰∏™ËøûÊé•I/OÊúçÂä°ÂØºÁÆ°Âπ∂Êèê‰æõ‰∏éËØ•ÊúçÂä°‰∫§‰∫íÁöÑÊñπÊ≥ï„ÄÇÂ∞±Êüê‰∏™socketËÄåË®ÄÔºåÂÆÉ‰∏ç‰ºöÂÜçÊ¨°ÂÆûÁé∞‰∏é‰πãÂØπÂ∫îÁöÑsocketÈÄöÈÅìÁ±ª‰∏≠ÁöÑsocketÂçèËÆÆAPIÔºåËÄåjava.net‰∏≠Â∑≤ÁªèÂ≠òÂú®ÁöÑsocketÈÄöÈÅìÈÉΩÂèØ‰ª•Ë¢´Â§ßÂ§öÊï∞ÂçèËÆÆÊìç‰ΩúÈáçÂ§ç‰ΩøÁî®„ÄÇ ÂÖ®ÈÉ®socketÈÄöÈÅìÁ±ªÔºàDatagramChannel„ÄÅSocketChannelÂíåServerSocketChannelÔºâÂú®Ë¢´ÂÆû‰æãÂåñÊó∂ÈÉΩ‰ºöÂàõÂª∫‰∏Ä‰∏™ÂØπÁ≠âsocketÂØπË±°„ÄÇËøô‰∫õÊòØÊàë‰ª¨ÊâÄÁÜüÊÇâÁöÑÊù•Ëá™java.netÁöÑÁ±ªÔºàSocket„ÄÅServerSocketÂíåDatagramSocketÔºâÔºåÂÆÉ‰ª¨Â∑≤ÁªèË¢´Êõ¥Êñ∞‰ª•ËØÜÂà´ÈÄöÈÅì„ÄÇÂØπÁ≠âsocketÂèØ‰ª•ÈÄöËøáË∞ÉÁî®socket( )ÊñπÊ≥ï‰ªé‰∏Ä‰∏™ÈÄöÈÅì‰∏äËé∑Âèñ„ÄÇÊ≠§Â§ñÔºåËøô‰∏â‰∏™java.netÁ±ªÁé∞Âú®ÈÉΩÊúâgetChannel( )ÊñπÊ≥ï„ÄÇ Ôºà4ÔºâË¶ÅÊää‰∏Ä‰∏™socketÈÄöÈÅìÁΩÆ‰∫éÈùûÈòªÂ°ûÊ®°ÂºèÔºåÊàë‰ª¨Ë¶Å‰æùÈù†ÊâÄÊúâsocketÈÄöÈÅìÁ±ªÁöÑÂÖ¨ÊúâË∂ÖÁ∫ßÁ±ªÔºöSelectableChannel„ÄÇÂ∞±Áª™ÈÄâÊã©Ôºàreadiness selectionÔºâÊòØ‰∏ÄÁßçÂèØ‰ª•Áî®Êù•Êü•ËØ¢ÈÄöÈÅìÁöÑÊú∫Âà∂ÔºåËØ•Êü•ËØ¢ÂèØ‰ª•Âà§Êñ≠ÈÄöÈÅìÊòØÂê¶ÂáÜÂ§áÂ•ΩÊâßË°å‰∏Ä‰∏™ÁõÆÊ†áÊìç‰ΩúÔºåÂ¶ÇËØªÊàñÂÜô„ÄÇÈùûÈòªÂ°ûI/OÂíåÂèØÈÄâÊã©ÊÄßÊòØÁ¥ßÂØÜÁõ∏ËøûÁöÑÔºåÈÇ£‰πüÊ≠£ÊòØÁÆ°ÁêÜÈòªÂ°ûÊ®°ÂºèÁöÑAPI‰ª£Á†ÅË¶ÅÂú®SelectableChannelË∂ÖÁ∫ßÁ±ª‰∏≠ÂÆö‰πâÁöÑÂéüÂõ†„ÄÇ ËÆæÁΩÆÊàñÈáçÊñ∞ËÆæÁΩÆ‰∏Ä‰∏™ÈÄöÈÅìÁöÑÈòªÂ°ûÊ®°ÂºèÊòØÂæàÁÆÄÂçïÁöÑÔºåÂè™Ë¶ÅË∞ÉÁî®configureBlocking( )ÊñπÊ≥ïÂç≥ÂèØÔºå‰º†ÈÄíÂèÇÊï∞ÂÄº‰∏∫trueÂàôËÆæ‰∏∫ÈòªÂ°ûÊ®°ÂºèÔºåÂèÇÊï∞ÂÄº‰∏∫falseÂÄºËÆæ‰∏∫ÈùûÈòªÂ°ûÊ®°Âºè„ÄÇÂèØ‰ª•ÈÄöËøáË∞ÉÁî®isBlocking( )ÊñπÊ≥ïÊù•Âà§Êñ≠Êüê‰∏™socketÈÄöÈÅìÂΩìÂâçÂ§Ñ‰∫éÂì™ÁßçÊ®°Âºè„ÄÇ ‚Äã ÈùûÈòªÂ°ûsocketÈÄöÂ∏∏Ë¢´ËÆ§‰∏∫ÊòØÊúçÂä°Á´Ø‰ΩøÁî®ÁöÑÔºåÂõ†‰∏∫ÂÆÉ‰ª¨‰ΩøÂêåÊó∂ÁÆ°ÁêÜÂæàÂ§ösocketÈÄöÈÅìÂèòÂæóÊõ¥ÂÆπÊòì„ÄÇ‰ΩÜÊòØÔºåÂú®ÂÆ¢Êà∑Á´Ø‰ΩøÁî®‰∏Ä‰∏™ÊàñÂá†‰∏™ÈùûÈòªÂ°ûÊ®°ÂºèÁöÑsocketÈÄöÈÅì‰πüÊòØÊúâÁõäÂ§ÑÁöÑÔºå‰æãÂ¶ÇÔºåÂÄüÂä©ÈùûÈòªÂ°ûsocketÈÄöÈÅìÔºåGUIÁ®ãÂ∫èÂèØ‰ª•‰∏ìÊ≥®‰∫éÁî®Êà∑ËØ∑Ê±ÇÂπ∂‰∏îÂêåÊó∂Áª¥Êä§‰∏é‰∏Ä‰∏™ÊàñÂ§ö‰∏™ÊúçÂä°Âô®ÁöÑ‰ºöËØù„ÄÇÂú®ÂæàÂ§öÁ®ãÂ∫è‰∏äÔºåÈùûÈòªÂ°ûÊ®°ÂºèÈÉΩÊòØÊúâÁî®ÁöÑ„ÄÇ ÂÅ∂Â∞îÂú∞ÔºåÊàë‰ª¨‰πü‰ºöÈúÄË¶ÅÈò≤Ê≠¢socketÈÄöÈÅìÁöÑÈòªÂ°ûÊ®°ÂºèË¢´Êõ¥Êîπ„ÄÇAPI‰∏≠Êúâ‰∏Ä‰∏™blockingLock( )ÊñπÊ≥ïÔºåËØ•ÊñπÊ≥ï‰ºöËøîÂõû‰∏Ä‰∏™ÈùûÈÄèÊòéÁöÑÂØπË±°ÂºïÁî®„ÄÇËøîÂõûÁöÑÂØπË±°ÊòØÈÄöÈÅìÂÆûÁé∞‰øÆÊîπÈòªÂ°ûÊ®°ÂºèÊó∂ÂÜÖÈÉ®‰ΩøÁî®ÁöÑ„ÄÇÂè™ÊúâÊã•ÊúâÊ≠§ÂØπË±°ÁöÑÈîÅÁöÑÁ∫øÁ®ãÊâçËÉΩÊõ¥ÊîπÈÄöÈÅìÁöÑÈòªÂ°ûÊ®°Âºè„ÄÇ ‚Äã ServerSocketChannelÊòØ‰∏Ä‰∏™Âü∫‰∫éÈÄöÈÅìÁöÑsocketÁõëÂê¨Âô®„ÄÇÂÆÉÂêåÊàë‰ª¨ÊâÄÁÜüÊÇâÁöÑjava.net.ServerSocketÊâßË°åÁõ∏ÂêåÁöÑ‰ªªÂä°Ôºå‰∏çËøáÂÆÉÂ¢ûÂä†‰∫ÜÈÄöÈÅìËØ≠‰πâÔºåÂõ†Ê≠§ËÉΩÂ§üÂú®ÈùûÈòªÂ°ûÊ®°Âºè‰∏ãËøêË°å„ÄÇ ‚Äã Áî±‰∫éServerSocketChannelÊ≤°Êúâbind()ÊñπÊ≥ïÔºåÂõ†Ê≠§ÊúâÂøÖË¶ÅÂèñÂá∫ÂØπÁ≠âÁöÑsocketÂπ∂‰ΩøÁî®ÂÆÉÊù•ÁªëÂÆöÂà∞‰∏Ä‰∏™Á´ØÂè£‰ª•ÂºÄÂßãÁõëÂê¨ËøûÊé•„ÄÇÊàë‰ª¨‰πüÊòØ‰ΩøÁî®ÂØπÁ≠âServerSocketÁöÑAPIÊù•Ê†πÊçÆÈúÄË¶ÅËÆæÁΩÆÂÖ∂‰ªñÁöÑsocketÈÄâÈ°π„ÄÇ ‚Äã Âêåjava.net.ServerSocket‰∏ÄÊ†∑ÔºåServerSocketChannel‰πüÊúâaccept( )ÊñπÊ≥ï„ÄÇ‰∏ÄÊó¶ÂàõÂª∫‰∫Ü‰∏Ä‰∏™ServerSocketChannelÂπ∂Áî®ÂØπÁ≠âsocketÁªëÂÆö‰∫ÜÂÆÉÔºåÁÑ∂ÂêéÊÇ®Â∞±ÂèØ‰ª•Âú®ÂÖ∂‰∏≠‰∏Ä‰∏™‰∏äË∞ÉÁî®accept()„ÄÇÂ¶ÇÊûúÊÇ®ÈÄâÊã©Âú®ServerSocket‰∏äË∞ÉÁî®accept( )ÊñπÊ≥ïÔºåÈÇ£‰πàÂÆÉ‰ºöÂêå‰ªª‰ΩïÂÖ∂‰ªñÁöÑServerSocketË°®Áé∞‰∏ÄÊ†∑ÁöÑË°å‰∏∫ÔºöÊÄªÊòØÈòªÂ°ûÂπ∂ËøîÂõû‰∏Ä‰∏™java.net.SocketÂØπË±°„ÄÇÂ¶ÇÊûúÊÇ®ÈÄâÊã©Âú®ServerSocketChannel‰∏äË∞ÉÁî®accept( )ÊñπÊ≥ïÂàô‰ºöËøîÂõûSocketChannelÁ±ªÂûãÁöÑÂØπË±°ÔºåËøîÂõûÁöÑÂØπË±°ËÉΩÂ§üÂú®ÈùûÈòªÂ°ûÊ®°Âºè‰∏ãËøêË°å„ÄÇ Êç¢Âè•ËØùËØ¥Ôºö ‚Äã ServerSocketChannelÁöÑaccept()ÊñπÊ≥ï‰ºöËøîÂõûSocketChannelÁ±ªÂûãÂØπË±°ÔºåSocketChannelÂèØ‰ª•Âú®ÈùûÈòªÂ°ûÊ®°Âºè‰∏ãËøêË°å„ÄÇÂÖ∂ÂÆÉSocketÁöÑaccept()ÊñπÊ≥ï‰ºöÈòªÂ°ûËøîÂõû‰∏Ä‰∏™SocketÂØπË±°„ÄÇÂ¶ÇÊûúServerSocketChannel‰ª•ÈùûÈòªÂ°ûÊ®°ÂºèË¢´Ë∞ÉÁî®ÔºåÂΩìÊ≤°Êúâ‰º†ÂÖ•ËøûÊé•Âú®Á≠âÂæÖÊó∂ÔºåServerSocketChannel.accept( )‰ºöÁ´ãÂç≥ËøîÂõûnull„ÄÇÊ≠£ÊòØËøôÁßçÊ£ÄÊü•ËøûÊé•ËÄå‰∏çÈòªÂ°ûÁöÑËÉΩÂäõÂÆûÁé∞‰∫ÜÂèØ‰º∏Áº©ÊÄßÂπ∂Èôç‰Ωé‰∫ÜÂ§çÊùÇÊÄß„ÄÇÂèØÈÄâÊã©ÊÄß‰πüÂõ†Ê≠§ÂæóÂà∞ÂÆûÁé∞„ÄÇÊàë‰ª¨ÂèØ‰ª•‰ΩøÁî®‰∏Ä‰∏™ÈÄâÊã©Âô®ÂÆû‰æãÊù•Ê≥®ÂÜåServerSocketChannelÂØπË±°‰ª•ÂÆûÁé∞Êñ∞ËøûÊé•Âà∞ËææÊó∂Ëá™Âä®ÈÄöÁü•ÁöÑÂäüËÉΩ„ÄÇ 12345678910111213141516171819202122232425262728293031323334353637import java.net.InetSocketAddress;import java.nio.ByteBuffer;import java.nio.channels.ServerSocketChannel;import java.nio.channels.SocketChannel;//http://localhost:1234/public class ServerSocketChannelDemo { public static final String GREETING = &quot;Hello java nio.\\r\\n&quot;; public static void main(String[] argv) throws Exception { int port = 1234; // default if (argv.length &gt; 0) { port = Integer.parseInt(argv[0]); } ByteBuffer buffer = ByteBuffer.wrap(GREETING.getBytes());// ÊâìÂºÄ ServerSocketChannel ssc = ServerSocketChannel.open(); ssc.socket().bind(new InetSocketAddress(port)); ssc.configureBlocking(false); while (true) { System.out.println(&quot;Waiting for connections&quot;);// ÁõëÂê¨Êñ∞ÁöÑÈìæÊé•ÔºåÈòªÂ°û‰ºöÂú®Ê≠§ÈòªÂ°û‰ΩèËøõÁ®ãÈùûÈòªÂ°û‰ºöËøîÂõûnull SocketChannel sc = ssc.accept(); if (sc == null) { System.out.println(&quot;null&quot;); Thread.sleep(2000); } else { System.out.println(&quot;Incoming connection from: &quot; + sc.socket().getRemoteSocketAddress());// ÊåáÈíàÊåáÂêë0 buffer.rewind(); sc.write(buffer);// ÂÖ≥Èó≠ sc.close(); } } }} SocketChannel ‚Äã Java NIO‰∏≠ÁöÑSocketChannelÊòØ‰∏Ä‰∏™ËøûÊé•Âà∞TCPÁΩëÁªúÂ•óÊé•Â≠óÁöÑÈÄöÈÅì„ÄÇ A selectable channel for stream-oriented connecting sockets. ‰ª•‰∏äÊòØJava docs‰∏≠ÂØπ‰∫éSocketChannelÁöÑÊèèËø∞ÔºöSocketChannelÊòØ‰∏ÄÁßçÈù¢ÂêëÊµÅËøûÊé•socketsÂ•óÊé•Â≠óÁöÑÂèØÈÄâÊã©ÈÄöÈÅì„ÄÇ‰ªéËøôÈáåÂèØ‰ª•ÁúãÂá∫Ôºö ‚Äã ‚Ä¢ SocketChannelÊòØÁî®Êù•ËøûÊé•SocketÂ•óÊé•Â≠ó ‚Äã ‚Ä¢SocketChannel‰∏ªË¶ÅÁî®ÈÄîÁî®Êù•Â§ÑÁêÜÁΩëÁªúI/OÁöÑÈÄöÈÅì ‚Äã ‚Ä¢ SocketChannelÊòØÂü∫‰∫éTCPËøûÊé•‰º†Ëæì ‚Äã ‚Ä¢ SocketChannelÂÆûÁé∞‰∫ÜÂèØÈÄâÊã©ÈÄöÈÅìÔºåÂèØ‰ª•Ë¢´Â§öË∑ØÂ§çÁî®ÁöÑ ‚Äã ÁâπÂæÅÔºö Ôºà1ÔºâÂØπ‰∫éÂ∑≤ÁªèÂ≠òÂú®ÁöÑsocket‰∏çËÉΩÂàõÂª∫SocketChannel Ôºà2ÔºâSocketChannel‰∏≠Êèê‰æõÁöÑopenÊé•Âè£ÂàõÂª∫ÁöÑChannelÂπ∂Ê≤°ÊúâËøõË°åÁΩëÁªúÁ∫ßËÅîÔºåÈúÄË¶Å‰ΩøÁî®connectÊé•Âè£ËøûÊé•Âà∞ÊåáÂÆöÂú∞ÂùÄ Ôºà3ÔºâÊú™ËøõË°åËøûÊé•ÁöÑSocketChannleÊâßË°åI/OÊìç‰ΩúÊó∂Ôºå‰ºöÊäõÂá∫NotYetConnectedException Ôºà4ÔºâSocketChannelÊîØÊåÅ‰∏§ÁßçI/OÊ®°ÂºèÔºöÈòªÂ°ûÂºèÂíåÈùûÈòªÂ°ûÂºè Ôºà5ÔºâSocketChannelÊîØÊåÅÂºÇÊ≠•ÂÖ≥Èó≠„ÄÇÂ¶ÇÊûúSocketChannelÂú®‰∏Ä‰∏™Á∫øÁ®ã‰∏äreadÈòªÂ°ûÔºåÂè¶‰∏Ä‰∏™Á∫øÁ®ãÂØπËØ•SocketChannelË∞ÉÁî®shutdownInputÔºåÂàôËØªÈòªÂ°ûÁöÑÁ∫øÁ®ãÂ∞ÜËøîÂõû-1Ë°®Á§∫Ê≤°ÊúâËØªÂèñ‰ªª‰ΩïÊï∞ÊçÆÔºõÂ¶ÇÊûúSocketChannelÂú®‰∏Ä‰∏™Á∫øÁ®ã‰∏äwriteÈòªÂ°ûÔºåÂè¶‰∏Ä‰∏™Á∫øÁ®ãÂØπËØ•SocketChannelË∞ÉÁî®shutdownWriteÔºåÂàôÂÜôÈòªÂ°ûÁöÑÁ∫øÁ®ãÂ∞ÜÊäõÂá∫AsynchronousCloseException Ôºà6ÔºâSocketChannelÊîØÊåÅËÆæÂÆöÂèÇÊï∞ ‚Äã SO_SNDBUF Â•óÊé•Â≠óÂèëÈÄÅÁºìÂÜ≤Âå∫Â§ßÂ∞è ‚Äã SO_RCVBUF Â•óÊé•Â≠óÊé•Êî∂ÁºìÂÜ≤Âå∫Â§ßÂ∞è ‚Äã SO_KEEPALIVE ‰øùÊ¥ªËøûÊé• ‚Äã O_REUSEADDR Â§çÁî®Âú∞ÂùÄ ‚Äã SO_LINGER ÊúâÊï∞ÊçÆ‰º†ËæìÊó∂Âª∂ÁºìÂÖ≥Èó≠Channel (Âè™ÊúâÂú®ÈùûÈòªÂ°ûÊ®°Âºè‰∏ãÊúâÁî®) ‚Äã TCP_NODELAY Á¶ÅÁî®NagleÁÆóÊ≥ï 12345678910111213141516171819202122232425262728293031323334package pers.lxl.mylearnproject.javase.io.nio.channel;import java.io.IOException;import java.net.InetSocketAddress;import java.net.StandardSocketOptions;import java.nio.ByteBuffer;import java.nio.channels.SocketChannel;public class SocketChannelDemo { public static void main(String[] args) throws IOException { SocketChannel socketChannel = SocketChannel.open(new InetSocketAddress(&quot;www.baidu.com&quot;, 80)); SocketChannel socketChanne2 = SocketChannel.open(); socketChanne2.connect(new InetSocketAddress(&quot;www.baidu.com&quot;, 80));// ËøûÊé•Ê†°È™å socketChannel.isOpen(); // ÊµãËØïSocketChannelÊòØÂê¶‰∏∫openÁä∂ÊÄÅ socketChannel.isConnected(); //ÊµãËØïSocketChannelÊòØÂê¶Â∑≤ÁªèË¢´ËøûÊé• socketChannel.isConnectionPending(); //ÊµãËØïSocketChannelÊòØÂê¶Ê≠£Âú®ËøõË°åËøûÊé• socketChannel.finishConnect(); //Ê†°È™åÊ≠£Âú®ËøõË°åÂ•óÊé•Â≠óËøûÊé•ÁöÑSocketChannelÊòØÂê¶Â∑≤ÁªèÂÆåÊàêËøûÊé•// ËØªÂÜôÊ®°Âºè ÂâçÈù¢ÊèêÂà∞SocketChannelÊîØÊåÅÈòªÂ°ûÂíåÈùûÈòªÂ°û‰∏§ÁßçÊ®°ÂºèÔºö socketChannel.configureBlocking(false);// ÈÄöËøásetOptionsÊñπÊ≥ïÂèØ‰ª•ËÆæÁΩÆsocketÂ•óÊé•Â≠óÁöÑÁõ∏ÂÖ≥ÂèÇÊï∞ socketChannel.setOption(StandardSocketOptions.SO_KEEPALIVE, Boolean.TRUE).setOption(StandardSocketOptions.TCP_NODELAY, Boolean.TRUE);// ÂèØ‰ª•ÈÄöËøágetOptionËé∑ÂèñÁõ∏ÂÖ≥ÂèÇÊï∞ÁöÑÂÄº„ÄÇÂ¶ÇÈªòËÆ§ÁöÑÊé•Êî∂ÁºìÂÜ≤Âå∫Â§ßÂ∞èÊòØ8192byte„ÄÇ socketChannel.getOption(StandardSocketOptions.SO_KEEPALIVE); socketChannel.getOption(StandardSocketOptions.SO_RCVBUF);// ËØªÂÜô ByteBuffer byteBuffer = ByteBuffer.allocate(16); socketChannel.read(byteBuffer); socketChannel.close(); System.out.println(&quot;read over&quot;); }} DatagramChannel ‚Äã Ê≠£Â¶ÇSocketChannelÂØπÂ∫îSocketÔºåServerSocketChannelÂØπÂ∫îServerSocketÔºåÊØè‰∏Ä‰∏™DatagramChannelÂØπË±°‰πüÊúâ‰∏Ä‰∏™ÂÖ≥ËÅîÁöÑDatagramSocketÂØπË±°„ÄÇÊ≠£Â¶ÇSocketChannelÊ®°ÊãüËøûÊé•ÂØºÂêëÁöÑÊµÅÂçèËÆÆÔºàÂ¶ÇTCP/IPÔºâÔºåDatagramChannelÂàôÊ®°ÊãüÂåÖÂØºÂêëÁöÑÊó†ËøûÊé•ÂçèËÆÆÔºàÂ¶ÇUDP/IPÔºâ„ÄÇDatagramChannelÊòØÊó†ËøûÊé•ÁöÑÔºåÊØè‰∏™Êï∞ÊçÆÊä•ÔºàdatagramÔºâÈÉΩÊòØ‰∏Ä‰∏™Ëá™ÂåÖÂê´ÁöÑÂÆû‰ΩìÔºåÊã•ÊúâÂÆÉËá™Â∑±ÁöÑÁõÆÁöÑÂú∞ÂùÄÂèä‰∏ç‰æùËµñÂÖ∂‰ªñÊï∞ÊçÆÊä•ÁöÑÊï∞ÊçÆË¥üËΩΩ„ÄÇ‰∏éÈù¢ÂêëÊµÅÁöÑÁöÑsocket‰∏çÂêåÔºåDatagramChannelÂèØ‰ª•ÂèëÈÄÅÂçïÁã¨ÁöÑÊï∞ÊçÆÊä•Áªô‰∏çÂêåÁöÑÁõÆÁöÑÂú∞ÂùÄ„ÄÇÂêåÊ†∑ÔºåDatagramChannelÂØπË±°‰πüÂèØ‰ª•Êé•Êî∂Êù•Ëá™‰ªªÊÑèÂú∞ÂùÄÁöÑÊï∞ÊçÆÂåÖ„ÄÇÊØè‰∏™Âà∞ËææÁöÑÊï∞ÊçÆÊä•ÈÉΩÂê´ÊúâÂÖ≥‰∫éÂÆÉÊù•Ëá™‰ΩïÂ§ÑÁöÑ‰ø°ÊÅØÔºàÊ∫êÂú∞ÂùÄÔºâ„ÄÇ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869import org.junit.jupiter.api.Test;import java.io.IOException;import java.net.InetSocketAddress;import java.net.SocketAddress;import java.nio.ByteBuffer;import java.nio.channels.DatagramChannel;import java.nio.charset.Charset;public class DatagramChannelDemo { /** * ÂèëÂåÖÁöÑdatagram * * @throws IOException * @throws InterruptedException */ @Test public void sendDatagram() throws IOException, InterruptedException { DatagramChannel sendChannel = DatagramChannel.open(); InetSocketAddress sendAddress = new InetSocketAddress(&quot;127.0.0.1&quot;, 9999); while (true) {// ÂèëÈÄÅ sendChannel.send(ByteBuffer.wrap(&quot;ÂèëÂåÖ&quot;.getBytes(&quot;UTF-8&quot;)), sendAddress); System.out.println(&quot;ÂèëÂåÖÁ´ØÂèëÂåÖ&quot;); Thread.sleep(1000); } } /** * Êî∂ÂåÖÁ´Ø * * @throws IOException */ @Test public void receive() throws IOException { DatagramChannel receiveChannel = DatagramChannel.open(); //ÊâìÂºÄ9999Á´ØÂè£Êé•Êî∂UDPÊï∞ÊçÆÂåÖ InetSocketAddress receiveAddress = new InetSocketAddress(9999); receiveChannel.bind(receiveAddress); ByteBuffer receiveBuffer = ByteBuffer.allocate(512); while (true) { receiveBuffer.clear();// Êé•Êî∂ SocketAddress sendAddress = receiveChannel.receive(receiveBuffer); receiveBuffer.flip(); System.out.print(sendAddress.toString() + &quot; &quot;); System.out.println(Charset.forName(&quot;UTF-8&quot;).decode(receiveBuffer)); } } /** * Âè™Êé•Êî∂ÂíåÂèëÈÄÅ9999ÁöÑÊï∞ÊçÆÂåÖ * * @throws IOException */ @Test public void testConect1() throws IOException { DatagramChannel connChannel = DatagramChannel.open(); connChannel.bind(new InetSocketAddress(9999)); //UDP‰∏çÂ≠òÂú®ÁúüÊ≠£ÊÑè‰πâ‰∏äÁöÑËøûÊé•ÔºåËøôÈáåÁöÑËøûÊé•ÊòØÂêëÁâπÂÆöÊúçÂä°Âú∞ÂùÄÁî®readÂíåwriteÊé•Êî∂ÂèëÈÄÅÊï∞ÊçÆÂåÖ„ÄÇ connChannel.connect(new InetSocketAddress(&quot;127.0.0.1&quot;, 9999)); connChannel.write(ByteBuffer.wrap(&quot;ÂèëÂåÖ&quot;.getBytes(&quot;UTF-8&quot;))); ByteBuffer readBuffer = ByteBuffer.allocate(512); //read()Âíåwrite()Âè™ÊúâÂú®connect()ÂêéÊâçËÉΩ‰ΩøÁî®Ôºå‰∏çÁÑ∂‰ºöÊäõNotYetConnectedExceptionÂºÇÂ∏∏„ÄÇÁî®read()Êé•Êî∂Êó∂ÔºåÂ¶ÇÊûúÊ≤°ÊúâÊé•Êî∂Âà∞ÂåÖÔºå‰ºöÊäõPortUnreachableExceptionÂºÇÂ∏∏„ÄÇ while (true) { try { readBuffer.clear(); connChannel.read(readBuffer); readBuffer.flip(); System.out.println(Charset.forName(&quot;UTF-8&quot;).decode(readBuffer)); } catch (Exception e) { } } }} Scatter/Gather ‚Äã Java NIOÂºÄÂßãÊîØÊåÅscatter/gatherÔºåscatter/gatherÁî®‰∫éÊèèËø∞‰ªéChannel‰∏≠ËØªÂèñÊàñËÄÖÂÜôÂÖ•Âà∞ChannelÁöÑÊìç‰Ωú„ÄÇ ‚Äã **ÂàÜÊï£ÔºàscatterÔºâ**‰ªéChannel‰∏≠ËØªÂèñÊòØÊåáÂú®ËØªÊìç‰ΩúÊó∂Â∞ÜËØªÂèñÁöÑÊï∞ÊçÆÂÜôÂÖ•Â§ö‰∏™buffer‰∏≠„ÄÇÂõ†Ê≠§ÔºåChannelÂ∞Ü‰ªéChannel‰∏≠ËØªÂèñÁöÑÊï∞ÊçÆ‚ÄúÂàÜÊï£ÔºàscatterÔºâ‚ÄùÂà∞Â§ö‰∏™Buffer‰∏≠„ÄÇ ‚Äã **ËÅöÈõÜÔºàgatherÔºâ**ÂÜôÂÖ•ChannelÊòØÊåáÂú®ÂÜôÊìç‰ΩúÊó∂Â∞ÜÂ§ö‰∏™bufferÁöÑÊï∞ÊçÆÂÜôÂÖ•Âêå‰∏Ä‰∏™ChannelÔºåÂõ†Ê≠§ÔºåChannel Â∞ÜÂ§ö‰∏™Buffer‰∏≠ÁöÑÊï∞ÊçÆ‚ÄúËÅöÈõÜÔºàgatherÔºâ‚ÄùÂêéÂèëÈÄÅÂà∞Channel„ÄÇ scatter / gatherÁªèÂ∏∏Áî®‰∫éÈúÄË¶ÅÂ∞Ü‰º†ËæìÁöÑÊï∞ÊçÆÂàÜÂºÄÂ§ÑÁêÜÁöÑÂú∫ÂêàÔºå‰æãÂ¶Ç‰º†Ëæì‰∏Ä‰∏™Áî±Ê∂àÊÅØÂ§¥ÂíåÊ∂àÊÅØ‰ΩìÁªÑÊàêÁöÑÊ∂àÊÅØÔºå‰Ω†ÂèØËÉΩ‰ºöÂ∞ÜÊ∂àÊÅØ‰ΩìÂíåÊ∂àÊÅØÂ§¥ÂàÜÊï£Âà∞‰∏çÂêåÁöÑbuffer‰∏≠ÔºåËøôÊ†∑‰Ω†ÂèØ‰ª•Êñπ‰æøÁöÑÂ§ÑÁêÜÊ∂àÊÅØÂ§¥ÂíåÊ∂àÊÅØ‰Ωì„ÄÇ Scattering Reads Scattering ReadsÊòØÊåáÊï∞ÊçÆ‰ªé‰∏Ä‰∏™channelËØªÂèñÂà∞Â§ö‰∏™buffer‰∏≠„ÄÇ 1234ByteBuffer header = ByteBuffer.allocate(128); ByteBuffer body = ByteBuffer.allocate(1024); ByteBuffer[] bufferArray = { header, body }; channel.read(bufferArray); ‚Äã Ê≥®ÊÑèbufferÈ¶ñÂÖàË¢´ÊèíÂÖ•Âà∞Êï∞ÁªÑÔºåÁÑ∂ÂêéÂÜçÂ∞ÜÊï∞ÁªÑ‰Ωú‰∏∫channel.read() ÁöÑËæìÂÖ•ÂèÇÊï∞„ÄÇread()ÊñπÊ≥ïÊåâÁÖßbufferÂú®Êï∞ÁªÑ‰∏≠ÁöÑÈ°∫Â∫èÂ∞Ü‰ªéchannel‰∏≠ËØªÂèñÁöÑÊï∞ÊçÆÂÜôÂÖ•Âà∞bufferÔºåÂΩì‰∏Ä‰∏™bufferË¢´ÂÜôÊª°ÂêéÔºåchannelÁ¥ßÊé•ÁùÄÂêëÂè¶‰∏Ä‰∏™buffer‰∏≠ÂÜô„ÄÇ Scattering ReadsÂú®ÁßªÂä®‰∏ã‰∏Ä‰∏™bufferÂâçÔºåÂøÖÈ°ªÂ°´Êª°ÂΩìÂâçÁöÑbufferÔºåËøô‰πüÊÑèÂë≥ÁùÄÂÆÉ‰∏çÈÄÇÁî®‰∫éÂä®ÊÄÅÊ∂àÊÅØ(ËØëËÄÖÊ≥®ÔºöÊ∂àÊÅØÂ§ßÂ∞è‰∏çÂõ∫ÂÆö)„ÄÇÊç¢Âè•ËØùËØ¥ÔºåÂ¶ÇÊûúÂ≠òÂú®Ê∂àÊÅØÂ§¥ÂíåÊ∂àÊÅØ‰ΩìÔºåÊ∂àÊÅØÂ§¥ÂøÖÈ°ªÂÆåÊàêÂ°´ÂÖÖÔºà‰æãÂ¶Ç 128byteÔºâÔºåScattering ReadsÊâçËÉΩÊ≠£Â∏∏Â∑•‰Ωú„ÄÇ Gathering Writes ‚Äã Gathering WritesÊòØÊåáÊï∞ÊçÆ‰ªéÂ§ö‰∏™bufferÂÜôÂÖ•Âà∞Âêå‰∏Ä‰∏™channel„ÄÇ 1234ByteBuffer header = ByteBuffer.allocate(128); ByteBuffer body = ByteBuffer.allocate(1024); //write data into buffers ByteBuffer[] bufferArray = { header, body };channel.write(bufferArray); ‚Äã buffersÊï∞ÁªÑÊòØwrite()ÊñπÊ≥ïÁöÑÂÖ•ÂèÇÔºåwrite()ÊñπÊ≥ï‰ºöÊåâÁÖßbufferÂú®Êï∞ÁªÑ‰∏≠ÁöÑÈ°∫Â∫èÔºåÂ∞ÜÊï∞ÊçÆÂÜôÂÖ•Âà∞channelÔºåÊ≥®ÊÑèÂè™ÊúâpositionÂíålimit‰πãÈó¥ÁöÑÊï∞ÊçÆÊâç‰ºöË¢´ÂÜôÂÖ•„ÄÇÂõ†Ê≠§ÔºåÂ¶ÇÊûú‰∏Ä‰∏™bufferÁöÑÂÆπÈáè‰∏∫128byteÔºå‰ΩÜÊòØ‰ªÖ‰ªÖÂåÖÂê´58byteÁöÑÊï∞ÊçÆÔºåÈÇ£‰πàËøô58byteÁöÑÊï∞ÊçÆÂ∞ÜË¢´ÂÜôÂÖ•Âà∞channel‰∏≠„ÄÇÂõ†Ê≠§‰∏éScattering ReadsÁõ∏ÂèçÔºåGathering WritesËÉΩËæÉÂ•ΩÁöÑÂ§ÑÁêÜÂä®ÊÄÅÊ∂àÊÅØ„ÄÇ ÁºìÂÜ≤Âå∫ ÂèëÈÄÅÁªô‰∏Ä‰∏™ÈÄöÈÅìÁöÑÊâÄÊúâÊï∞ÊçÆÈÉΩÂøÖÈ°ªÈ¶ñÂÖàÊîæÂà∞ÁºìÂÜ≤Âå∫‰∏≠ÔºåÂêåÊ†∑Âú∞Ôºå‰ªéÈÄöÈÅì‰∏≠ËØªÂèñÁöÑ‰ªª‰ΩïÊï∞ÊçÆÈÉΩË¶ÅÂÖàËØªÂà∞ÁºìÂÜ≤Âå∫‰∏≠„ÄÇ‰πüÂ∞±ÊòØËØ¥Ôºå‰∏ç‰ºöÁõ¥Êé•ÂØπÈÄöÈÅìËøõË°åËØªÂÜôÊï∞ÊçÆÔºåËÄåÊòØË¶ÅÂÖàÁªèËøáÁºìÂÜ≤Âå∫„ÄÇ ÁºìÂÜ≤Âå∫ÂÆûË¥®‰∏äÊòØ‰∏Ä‰∏™Êï∞ÁªÑÔºå‰ΩÜÂÆÉ‰∏ç‰ªÖ‰ªÖÊòØ‰∏Ä‰∏™Êï∞ÁªÑ„ÄÇÁºìÂÜ≤Âå∫Êèê‰æõ‰∫ÜÂØπÊï∞ÊçÆÁöÑÁªìÊûÑÂåñËÆøÈóÆÔºåËÄå‰∏îËøòÂèØ‰ª•Ë∑üË∏™Á≥ªÁªüÁöÑËØª/ÂÜôËøõÁ®ã„ÄÇ ‚Äã ÁºìÂÜ≤Âå∫Êú¨Ë¥®‰∏äÊòØ‰∏ÄÂùóÂèØ‰ª•ÂÜôÂÖ•Êï∞ÊçÆÔºåÁÑ∂ÂêéÂèØ‰ª•‰ªé‰∏≠ËØªÂèñÊï∞ÊçÆÁöÑÂÜÖÂ≠ò„ÄÇËøôÂùóÂÜÖÂ≠òË¢´ÂåÖË£ÖÊàêNIO BufferÂØπË±°ÔºåÂπ∂Êèê‰æõ‰∫Ü‰∏ÄÁªÑÊñπÊ≥ïÔºåÁî®Êù•Êñπ‰æøÁöÑËÆøÈóÆËØ•ÂùóÂÜÖÂ≠ò„ÄÇÁºìÂÜ≤Âå∫ÂÆûÈôÖ‰∏äÊòØ‰∏Ä‰∏™ÂÆπÂô®ÂØπË±°ÔºåÊõ¥Áõ¥Êé•ÁöÑËØ¥ÔºåÂÖ∂ÂÆûÂ∞±ÊòØ‰∏Ä‰∏™Êï∞ÁªÑÔºåÂú®NIOÂ∫ì‰∏≠ÔºåÊâÄÊúâÊï∞ÊçÆÈÉΩÊòØÁî®ÁºìÂÜ≤Âå∫Â§ÑÁêÜÁöÑ„ÄÇÂú®ËØªÂèñÊï∞ÊçÆÊó∂ÔºåÂÆÉÊòØÁõ¥Êé•ËØªÂà∞ÁºìÂÜ≤Âå∫‰∏≠ÁöÑÔºõ Âú®ÂÜôÂÖ•Êï∞ÊçÆÊó∂ÔºåÂÆÉ‰πüÊòØÂÜôÂÖ•Âà∞ÁºìÂÜ≤Âå∫‰∏≠ÁöÑÔºõ‰ªª‰ΩïÊó∂ÂÄôËÆøÈóÆ NIO ‰∏≠ÁöÑÊï∞ÊçÆÔºåÈÉΩÊòØÂ∞ÜÂÆÉÊîæÂà∞ÁºìÂÜ≤Âå∫‰∏≠„ÄÇËÄåÂú®Èù¢ÂêëÊµÅI/OÁ≥ªÁªü‰∏≠ÔºåÊâÄÊúâÊï∞ÊçÆÈÉΩÊòØÁõ¥Êé•ÂÜôÂÖ•ÊàñËÄÖÁõ¥Êé•Â∞ÜÊï∞ÊçÆËØªÂèñÂà∞StreamÂØπË±°‰∏≠„ÄÇÂú®NIO‰∏≠ÔºåÊâÄÊúâÁöÑÁºìÂÜ≤Âå∫Á±ªÂûãÈÉΩÁªßÊâø‰∫éÊäΩË±°Á±ªBufferÔºåÊúÄÂ∏∏Áî®ÁöÑÂ∞±ÊòØByteBufferÔºåÂØπ‰∫éJava‰∏≠ÁöÑÂü∫Êú¨Á±ªÂûãÔºåÂü∫Êú¨ÈÉΩÊúâ‰∏Ä‰∏™ÂÖ∑‰ΩìBufferÁ±ªÂûã‰∏é‰πãÁõ∏ÂØπÂ∫îÔºåÂÆÉ‰ª¨‰πãÈó¥ÁöÑÁªßÊâøÂÖ≥Á≥ªÂ¶Ç‰∏ãÂõæÊâÄÁ§∫Ôºö ÁºìÂÜ≤Âå∫ÂåÖÊã¨‰ª•‰∏ãÁ±ªÂûãÔºö ByteBuffer CharBuffer ShortBuffer IntBuffer LongBuffer FloatBuffer DoubleBuffer ÁºìÂÜ≤Âå∫Áä∂ÊÄÅÂèòÈáè capacityÔºöÊúÄÂ§ßÂÆπÈáèÔºõ positionÔºöÂΩìÂâçÂ∑≤ÁªèËØªÂÜôÁöÑÂ≠óËäÇÊï∞Ôºõ limitÔºöËøòÂèØ‰ª•ËØªÂÜôÁöÑÂ≠óËäÇÊï∞„ÄÇ BufferÁöÑÂü∫Êú¨Áî®Ê≥ï 1„ÄÅ‰ΩøÁî®BufferËØªÂÜôÊï∞ÊçÆÔºå‰∏ÄËà¨ÈÅµÂæ™‰ª•‰∏ãÂõõ‰∏™Ê≠•È™§Ôºö Ôºà1ÔºâÂÜôÂÖ•Êï∞ÊçÆÂà∞Buffer Ôºà2ÔºâË∞ÉÁî®flip()ÊñπÊ≥ï Ôºà3Ôºâ‰ªéBuffer‰∏≠ËØªÂèñÊï∞ÊçÆ Ôºà4ÔºâË∞ÉÁî®clear()ÊñπÊ≥ïÊàñËÄÖcompact()ÊñπÊ≥ï ÂΩìÂêëbufferÂÜôÂÖ•Êï∞ÊçÆÊó∂Ôºåbuffer‰ºöËÆ∞ÂΩï‰∏ãÂÜô‰∫ÜÂ§öÂ∞ëÊï∞ÊçÆ„ÄÇ‰∏ÄÊó¶Ë¶ÅËØªÂèñÊï∞ÊçÆÔºåÈúÄË¶ÅÈÄöËøáflip()ÊñπÊ≥ïÂ∞ÜBuffer‰ªéÂÜôÊ®°ÂºèÂàáÊç¢Âà∞ËØªÊ®°Âºè„ÄÇÂú®ËØªÊ®°Âºè‰∏ãÔºåÂèØ‰ª•ËØªÂèñ‰πãÂâçÂÜôÂÖ•Âà∞bufferÁöÑÊâÄÊúâÊï∞ÊçÆ„ÄÇ‰∏ÄÊó¶ËØªÂÆå‰∫ÜÊâÄÊúâÁöÑÊï∞ÊçÆÔºåÂ∞±ÈúÄË¶ÅÊ∏ÖÁ©∫ÁºìÂÜ≤Âå∫ÔºåËÆ©ÂÆÉÂèØ‰ª•ÂÜçÊ¨°Ë¢´ÂÜôÂÖ•„ÄÇÊúâ‰∏§ÁßçÊñπÂºèËÉΩÊ∏ÖÁ©∫ÁºìÂÜ≤Âå∫ÔºöË∞ÉÁî®clear()Êàñcompact()ÊñπÊ≥ï„ÄÇclear()ÊñπÊ≥ï‰ºöÊ∏ÖÁ©∫Êï¥‰∏™ÁºìÂÜ≤Âå∫„ÄÇcompact()ÊñπÊ≥ïÂè™‰ºöÊ∏ÖÈô§Â∑≤ÁªèËØªËøáÁöÑÊï∞ÊçÆ„ÄÇ‰ªª‰ΩïÊú™ËØªÁöÑÊï∞ÊçÆÈÉΩË¢´ÁßªÂà∞ÁºìÂÜ≤Âå∫ÁöÑËµ∑ÂßãÂ§ÑÔºåÊñ∞ÂÜôÂÖ•ÁöÑÊï∞ÊçÆÂ∞ÜÊîæÂà∞ÁºìÂÜ≤Âå∫Êú™ËØªÊï∞ÊçÆÁöÑÂêéÈù¢„ÄÇ Buffer‰∏éIntBuffer‰æãÂ≠ê 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354package pers.lxl.mylearnproject.javase.io.nio.buffer;import org.junit.jupiter.api.Test;import java.io.IOException;import java.io.RandomAccessFile;import java.nio.ByteBuffer;import java.nio.IntBuffer;import java.nio.channels.FileChannel;public class BufferDemo { //‰ΩøÁî®BufferÁöÑ‰æãÂ≠ê @Test public void testConect2() throws IOException { RandomAccessFile aFile = new RandomAccessFile(&quot;src/main/resources/fileTest.txt&quot;, &quot;rw&quot;); FileChannel inChannel = aFile.getChannel(); //create buffer with capacity of 48 bytes ByteBuffer buf = ByteBuffer.allocate(48); int bytesRead = inChannel.read(buf); //read into buffer. while (bytesRead != -1) { buf.flip(); //make buffer ready for read while (buf.hasRemaining()) { System.out.print((char) buf.get()); // read 1 byte at a time } buf.clear(); //make buffer ready for writing bytesRead = inChannel.read(buf); } } //‰ΩøÁî®IntBufferÁöÑ‰æãÂ≠ê @Test public void testConect3() throws IOException { // ÂàÜÈÖçÊñ∞ÁöÑintÁºìÂÜ≤Âå∫ÔºåÂèÇÊï∞‰∏∫ÁºìÂÜ≤Âå∫ÂÆπÈáè // Êñ∞ÁºìÂÜ≤Âå∫ÁöÑÂΩìÂâç‰ΩçÁΩÆÂ∞Ü‰∏∫Èõ∂ÔºåÂÖ∂ÁïåÈôê(ÈôêÂà∂‰ΩçÁΩÆ)Â∞Ü‰∏∫ÂÖ∂ÂÆπÈáè„ÄÇ // ÂÆÉÂ∞ÜÂÖ∑Êúâ‰∏Ä‰∏™Â∫ïÂ±ÇÂÆûÁé∞Êï∞ÁªÑÔºåÂÖ∂Êï∞ÁªÑÂÅèÁßªÈáèÂ∞Ü‰∏∫Èõ∂„ÄÇ IntBuffer buffer = IntBuffer.allocate(8); for (int i = 0; i &lt; buffer.capacity(); ++i) { int j = 2 * (i + 1); // Â∞ÜÁªôÂÆöÊï¥Êï∞ÂÜôÂÖ•Ê≠§ÁºìÂÜ≤Âå∫ÁöÑÂΩìÂâç‰ΩçÁΩÆÔºåÂΩìÂâç‰ΩçÁΩÆÈÄíÂ¢û buffer.put(j); } // ÈáçËÆæÊ≠§ÁºìÂÜ≤Âå∫ÔºåÂ∞ÜÈôêÂà∂ËÆæÁΩÆ‰∏∫ÂΩìÂâç‰ΩçÁΩÆÔºåÁÑ∂ÂêéÂ∞ÜÂΩìÂâç‰ΩçÁΩÆËÆæÁΩÆ‰∏∫0 buffer.flip(); // Êü•ÁúãÂú®ÂΩìÂâç‰ΩçÁΩÆÂíåÈôêÂà∂‰ΩçÁΩÆ‰πãÈó¥ÊòØÂê¶ÊúâÂÖÉÁ¥† while (buffer.hasRemaining()) { // ËØªÂèñÊ≠§ÁºìÂÜ≤Âå∫ÂΩìÂâç‰ΩçÁΩÆÁöÑÊï¥Êï∞ÔºåÁÑ∂ÂêéÂΩìÂâç‰ΩçÁΩÆÈÄíÂ¢û int j = buffer.get(); System.out.print(j + &quot; &quot;); } }} BufferÁöÑcapacity„ÄÅpositionÂíålimit ‰∏∫‰∫ÜÁêÜËß£BufferÁöÑÂ∑•‰ΩúÂéüÁêÜÔºåÈúÄË¶ÅÁÜüÊÇâÂÆÉÁöÑ‰∏â‰∏™Â±ûÊÄßÔºö Capacity „ÄÅ Position „ÄÅ limit positionÂíålimitÁöÑÂê´‰πâÂèñÂÜ≥‰∫éBufferÂ§ÑÂú®ËØªÊ®°ÂºèËøòÊòØÂÜôÊ®°Âºè„ÄÇ‰∏çÁÆ°BufferÂ§ÑÂú®‰ªÄ‰πàÊ®°ÂºèÔºåcapacityÁöÑÂê´‰πâÊÄªÊòØ‰∏ÄÊ†∑ÁöÑ„ÄÇ ËøôÈáåÊúâ‰∏Ä‰∏™ÂÖ≥‰∫écapacityÔºåpositionÂíålimitÂú®ËØªÂÜôÊ®°Âºè‰∏≠ÁöÑËØ¥Êòé Ôºà1Ôºâcapacity ‰Ωú‰∏∫‰∏Ä‰∏™ÂÜÖÂ≠òÂùóÔºåBufferÊúâ‰∏Ä‰∏™Âõ∫ÂÆöÁöÑÂ§ßÂ∞èÂÄºÔºå‰πüÂè´‚Äúcapacity‚Äù.‰Ω†Âè™ËÉΩÂæÄÈáåÂÜôcapacity‰∏™byte„ÄÅlongÔºåcharÁ≠âÁ±ªÂûã„ÄÇ‰∏ÄÊó¶BufferÊª°‰∫ÜÔºåÈúÄË¶ÅÂ∞ÜÂÖ∂Ê∏ÖÁ©∫ÔºàÈÄöËøáËØªÊï∞ÊçÆÊàñËÄÖÊ∏ÖÈô§Êï∞ÊçÆÔºâÊâçËÉΩÁªßÁª≠ÂÜôÊï∞ÊçÆÂæÄÈáåÂÜôÊï∞ÊçÆ„ÄÇ Ôºà2Ôºâposition 1ÔºâÂÜôÊï∞ÊçÆÂà∞Buffer‰∏≠Êó∂ÔºåpositionË°®Á§∫ÂÜôÂÖ•Êï∞ÊçÆÁöÑÂΩìÂâç‰ΩçÁΩÆÔºåpositionÁöÑÂàùÂßãÂÄº‰∏∫0„ÄÇÂΩì‰∏Ä‰∏™byte„ÄÅlongÁ≠âÊï∞ÊçÆÂÜôÂà∞BufferÂêéÔºå position‰ºöÂêë‰∏ãÁßªÂä®Âà∞‰∏ã‰∏Ä‰∏™ÂèØÊèíÂÖ•Êï∞ÊçÆÁöÑBufferÂçïÂÖÉ„ÄÇpositionÊúÄÂ§ßÂèØ‰∏∫capacity ‚Äì 1ÔºàÂõ†‰∏∫positionÁöÑÂàùÂßãÂÄº‰∏∫0Ôºâ. 2ÔºâËØªÊï∞ÊçÆÂà∞Buffer‰∏≠Êó∂ÔºåpositionË°®Á§∫ËØªÂÖ•Êï∞ÊçÆÁöÑÂΩìÂâç‰ΩçÁΩÆÔºåÂ¶Çposition=2Êó∂Ë°®Á§∫Â∑≤ÂºÄÂßãËØªÂÖ•‰∫Ü3‰∏™byteÔºåÊàñ‰ªéÁ¨¨3‰∏™byteÂºÄÂßãËØªÂèñ„ÄÇÈÄöËøáByteBuffer.flip()ÂàáÊç¢Âà∞ËØªÊ®°ÂºèÊó∂position‰ºöË¢´ÈáçÁΩÆ‰∏∫0ÔºåÂΩìBuffer‰ªépositionËØªÂÖ•Êï∞ÊçÆÂêéÔºåposition‰ºö‰∏ãÁßªÂà∞‰∏ã‰∏Ä‰∏™ÂèØËØªÂÖ•ÁöÑÊï∞ÊçÆBufferÂçïÂÖÉ„ÄÇ Ôºà3Ôºâlimit 1ÔºâÂÜôÊï∞ÊçÆÊó∂ÔºålimitË°®Á§∫ÂèØÂØπBufferÊúÄÂ§öÂÜôÂÖ•Â§öÂ∞ë‰∏™Êï∞ÊçÆ„ÄÇÂÜôÊ®°Âºè‰∏ãÔºålimitÁ≠â‰∫éBufferÁöÑcapacity„ÄÇ 2ÔºâËØªÊï∞ÊçÆÊó∂ÔºålimitË°®Á§∫BufferÈáåÊúâÂ§öÂ∞ëÂèØËØªÊï∞ÊçÆÔºànot nullÁöÑÊï∞ÊçÆÔºâÔºåÂõ†Ê≠§ËÉΩËØªÂà∞‰πãÂâçÂÜôÂÖ•ÁöÑÊâÄÊúâÊï∞ÊçÆÔºàlimitË¢´ËÆæÁΩÆÊàêÂ∑≤ÂÜôÊï∞ÊçÆÁöÑÊï∞ÈáèÔºåËøô‰∏™ÂÄºÂú®ÂÜôÊ®°Âºè‰∏ãÂ∞±ÊòØpositionÔºâ„ÄÇ BufferÁöÑÁ±ªÂûã Java NIO Êúâ‰ª•‰∏ãBufferÁ±ªÂûã ByteBuffer MappedByteBuffer CharBuffer DoubleBuffer FloatBuffer IntBuffer LongBuffer ShortBuffer Ëøô‰∫õBufferÁ±ªÂûã‰ª£Ë°®‰∫Ü‰∏çÂêåÁöÑÊï∞ÊçÆÁ±ªÂûã„ÄÇÊç¢Âè•ËØùËØ¥ÔºåÂ∞±ÊòØÂèØ‰ª•ÈÄöËøácharÔºåshortÔºåintÔºålongÔºåfloat Êàñ doubleÁ±ªÂûãÊù•Êìç‰ΩúÁºìÂÜ≤Âå∫‰∏≠ÁöÑÂ≠óËäÇ„ÄÇ BufferÂàÜÈÖçÂíåÂÜôÊï∞ÊçÆ BufferÂàÜÈÖç Ë¶ÅÊÉ≥Ëé∑Âæó‰∏Ä‰∏™BufferÂØπË±°È¶ñÂÖàË¶ÅËøõË°åÂàÜÈÖç„ÄÇ ÊØè‰∏Ä‰∏™BufferÁ±ªÈÉΩÊúâ‰∏Ä‰∏™allocateÊñπÊ≥ï„ÄÇ ‰∏ãÈù¢ÊòØ‰∏Ä‰∏™ÂàÜÈÖç48Â≠óËäÇcapacityÁöÑByteBufferÁöÑ‰æãÂ≠ê„ÄÇ ByteBuffer buf = ByteBuffer.allocate(48); ËøôÊòØÂàÜÈÖç‰∏Ä‰∏™ÂèØÂ≠òÂÇ®1024‰∏™Â≠óÁ¨¶ÁöÑCharBufferÔºö CharBuffer buf = CharBuffer.allocate(1024); ÂêëBuffer‰∏≠ÂÜôÊï∞ÊçÆ ÂÜôÊï∞ÊçÆÂà∞BufferÊúâ‰∏§ÁßçÊñπÂºèÔºö Ôºà1Ôºâ‰ªéChannelÂÜôÂà∞Buffer„ÄÇ Ôºà2ÔºâÈÄöËøáBufferÁöÑput()ÊñπÊ≥ïÂÜôÂà∞BufferÈáå„ÄÇ ‰ªéChannelÂÜôÂà∞BufferÁöÑ‰æãÂ≠ê int bytesRead = inChannel.read(buf); //read into buffer. ÈÄöËøáputÊñπÊ≥ïÂÜôBufferÁöÑ‰æãÂ≠êÔºö buf.put(127); putÊñπÊ≥ïÊúâÂæàÂ§öÁâàÊú¨ÔºåÂÖÅËÆ∏‰Ω†‰ª•‰∏çÂêåÁöÑÊñπÂºèÊääÊï∞ÊçÆÂÜôÂÖ•Âà∞Buffer‰∏≠„ÄÇ‰æãÂ¶ÇÔºå ÂÜôÂà∞‰∏Ä‰∏™ÊåáÂÆöÁöÑ‰ΩçÁΩÆÔºåÊàñËÄÖÊää‰∏Ä‰∏™Â≠óËäÇÊï∞ÁªÑÂÜôÂÖ•Âà∞Buffer flip()ÊñπÊ≥ï flipÊñπÊ≥ïÂ∞ÜBuffer‰ªéÂÜôÊ®°ÂºèÂàáÊç¢Âà∞ËØªÊ®°Âºè„ÄÇË∞ÉÁî®flip()ÊñπÊ≥ï‰ºöÂ∞ÜpositionËÆæÂõû0ÔºåÂπ∂Â∞ÜlimitËÆæÁΩÆÊàê‰πãÂâçpositionÁöÑÂÄº„ÄÇÊç¢Âè•ËØùËØ¥ÔºåpositionÁé∞Âú®Áî®‰∫éÊ†áËÆ∞ËØªÁöÑ‰ΩçÁΩÆÔºålimitË°®Á§∫‰πãÂâçÂÜôËøõ‰∫ÜÂ§öÂ∞ë‰∏™byte„ÄÅcharÁ≠â ÔºàÁé∞Âú®ËÉΩËØªÂèñÂ§öÂ∞ë‰∏™byte„ÄÅcharÁ≠âÔºâ„ÄÇ ‰ªéBuffer‰∏≠ËØªÂèñÊï∞ÊçÆ ‰ªéBuffer‰∏≠ËØªÂèñÊï∞ÊçÆÊúâ‰∏§ÁßçÊñπÂºèÔºö Ôºà1Ôºâ‰ªéBufferËØªÂèñÊï∞ÊçÆÂà∞Channel„ÄÇ Ôºà2Ôºâ‰ΩøÁî®get()ÊñπÊ≥ï‰ªéBuffer‰∏≠ËØªÂèñÊï∞ÊçÆ„ÄÇ ‰ªéBufferËØªÂèñÊï∞ÊçÆÂà∞ChannelÁöÑ‰æãÂ≠êÔºö //read from buffer into channel. int bytesWritten = inChannel.write(buf); ‰ΩøÁî®get()ÊñπÊ≥ï‰ªéBuffer‰∏≠ËØªÂèñÊï∞ÊçÆÁöÑ‰æãÂ≠ê byte aByte = buf.get(); getÊñπÊ≥ïÊúâÂæàÂ§öÁâàÊú¨ÔºåÂÖÅËÆ∏‰Ω†‰ª•‰∏çÂêåÁöÑÊñπÂºè‰ªéBuffer‰∏≠ËØªÂèñÊï∞ÊçÆ„ÄÇ‰æãÂ¶ÇÔºå‰ªéÊåáÂÆöpositionËØªÂèñÔºåÊàñËÄÖ‰ªéBuffer‰∏≠ËØªÂèñÊï∞ÊçÆÂà∞Â≠óËäÇÊï∞ÁªÑ„ÄÇ BufferÂá†‰∏™ÊñπÊ≥ï rewind()ÊñπÊ≥ïÊñπÊ≥ï Buffer.rewind()Â∞ÜpositionËÆæÂõû0ÔºåÊâÄ‰ª•‰Ω†ÂèØ‰ª•ÈáçËØªBuffer‰∏≠ÁöÑÊâÄÊúâÊï∞ÊçÆ„ÄÇlimit‰øùÊåÅ‰∏çÂèòÔºå‰ªçÁÑ∂Ë°®Á§∫ËÉΩ‰ªéBuffer‰∏≠ËØªÂèñÂ§öÂ∞ë‰∏™ÂÖÉÁ¥†Ôºàbyte„ÄÅcharÁ≠âÔºâ„ÄÇ clear()‰∏écompact()ÊñπÊ≥ïÊñπÊ≥ï ‚Äã ‰∏ÄÊó¶ËØªÂÆåBuffer‰∏≠ÁöÑÊï∞ÊçÆÔºåÈúÄË¶ÅËÆ©BufferÂáÜÂ§áÂ•ΩÂÜçÊ¨°Ë¢´ÂÜôÂÖ•„ÄÇÂèØ‰ª•ÈÄöËøáclear()Êàñcompact()ÊñπÊ≥ïÊù•ÂÆåÊàê„ÄÇ Â¶ÇÊûúË∞ÉÁî®ÁöÑÊòØ**clear()ÊñπÊ≥ïÔºåpositionÂ∞ÜË¢´ËÆæÂõû0ÔºålimitË¢´ËÆæÁΩÆÊàê capacityÁöÑÂÄº„ÄÇÊç¢Âè•ËØùËØ¥ÔºåBuffer Ë¢´Ê∏ÖÁ©∫‰∫Ü„ÄÇBuffer‰∏≠ÁöÑÊï∞ÊçÆÂπ∂Êú™Ê∏ÖÈô§ÔºåÂè™ÊòØËøô‰∫õÊ†áËÆ∞ÂëäËØâÊàë‰ª¨ÂèØ‰ª•‰ªéÂì™ÈáåÂºÄÂßãÂæÄBufferÈáåÂÜôÊï∞ÊçÆ„ÄÇ Â¶ÇÊûúBuffer‰∏≠Êúâ‰∏Ä‰∫õÊú™ËØªÁöÑÊï∞ÊçÆÔºåË∞ÉÁî®clear()ÊñπÊ≥ïÔºåÊï∞ÊçÆÂ∞Ü‚ÄúË¢´ÈÅóÂøò‚ÄùÔºåÊÑèÂë≥ÁùÄ‰∏çÂÜçÊúâ‰ªª‰ΩïÊ†áËÆ∞‰ºöÂëäËØâ‰Ω†Âì™‰∫õÊï∞ÊçÆË¢´ËØªËøáÔºåÂì™‰∫õËøòÊ≤°Êúâ„ÄÇ Â¶ÇÊûúBuffer‰∏≠‰ªçÊúâÊú™ËØªÁöÑÊï∞ÊçÆÔºå‰∏îÂêéÁª≠ËøòÈúÄË¶ÅËøô‰∫õÊï∞ÊçÆÔºå‰ΩÜÊòØÊ≠§Êó∂ÊÉ≥Ë¶ÅÂÖàÂÖàÂÜô‰∫õÊï∞ÊçÆÔºåÈÇ£‰πà‰ΩøÁî®compact()**ÊñπÊ≥ï„ÄÇ compact()ÊñπÊ≥ïÂ∞ÜÊâÄÊúâÊú™ËØªÁöÑÊï∞ÊçÆÊã∑Ë¥ùÂà∞BufferËµ∑ÂßãÂ§Ñ„ÄÇÁÑ∂ÂêéÂ∞ÜpositionËÆæÂà∞ÊúÄÂêé‰∏Ä‰∏™Êú™ËØªÂÖÉÁ¥†Ê≠£ÂêéÈù¢„ÄÇlimitÂ±ûÊÄß‰æùÁÑ∂ÂÉèclear()ÊñπÊ≥ï‰∏ÄÊ†∑ÔºåËÆæÁΩÆÊàêcapacity„ÄÇÁé∞Âú®BufferÂáÜÂ§áÂ•ΩÂÜôÊï∞ÊçÆ‰∫ÜÔºå‰ΩÜÊòØ‰∏ç‰ºöË¶ÜÁõñÊú™ËØªÁöÑÊï∞ÊçÆ„ÄÇ mark()‰∏éreset()ÊñπÊ≥ïÊñπÊ≥ï ÈÄöËøáË∞ÉÁî®Buffer.mark()ÊñπÊ≥ïÔºåÂèØ‰ª•Ê†áËÆ∞Buffer‰∏≠ÁöÑ‰∏Ä‰∏™ÁâπÂÆöposition„ÄÇ‰πãÂêéÂèØ‰ª•ÈÄöËøáË∞ÉÁî®Buffer.reset()ÊñπÊ≥ïÊÅ¢Â§çÂà∞Ëøô‰∏™position„ÄÇ‰æãÂ¶ÇÔºö buffer.mark(); //call buffer.get() a couple of times, e.g. during parsing. buffer.reset(); //set position back to mark. ÁºìÂÜ≤Âå∫Êìç‰Ωú ÁºìÂÜ≤Âå∫ÂàÜÁâá ‚Äã Âú®NIO‰∏≠ÔºåÈô§‰∫ÜÂèØ‰ª•ÂàÜÈÖçÊàñËÄÖÂåÖË£Ö‰∏Ä‰∏™ÁºìÂÜ≤Âå∫ÂØπË±°Â§ñÔºåËøòÂèØ‰ª•Ê†πÊçÆÁé∞ÊúâÁöÑÁºìÂÜ≤Âå∫ÂØπË±°Êù•ÂàõÂª∫‰∏Ä‰∏™Â≠êÁºìÂÜ≤Âå∫ÔºåÂç≥Âú®Áé∞ÊúâÁºìÂÜ≤Âå∫‰∏äÂàáÂá∫‰∏ÄÁâáÊù•‰Ωú‰∏∫‰∏Ä‰∏™Êñ∞ÁöÑÁºìÂÜ≤Âå∫Ôºå‰ΩÜÁé∞ÊúâÁöÑÁºìÂÜ≤Âå∫‰∏éÂàõÂª∫ÁöÑÂ≠êÁºìÂÜ≤Âå∫Âú®Â∫ïÂ±ÇÊï∞ÁªÑÂ±ÇÈù¢‰∏äÊòØÊï∞ÊçÆÂÖ±‰∫´ÁöÑÔºå‰πüÂ∞±ÊòØËØ¥ÔºåÂ≠êÁºìÂÜ≤Âå∫Áõ∏ÂΩì‰∫éÊòØÁé∞ÊúâÁºìÂÜ≤Âå∫ÁöÑ‰∏Ä‰∏™ËßÜÂõæÁ™óÂè£„ÄÇË∞ÉÁî®**slice()**ÊñπÊ≥ïÂèØ‰ª•ÂàõÂª∫‰∏Ä‰∏™Â≠êÁºìÂÜ≤Âå∫„ÄÇ 1234567891011121314151617181920212223@Testpublic void testConect2() throws IOException { ByteBuffer buffer = ByteBuffer.allocate(10); // ÁºìÂÜ≤Âå∫‰∏≠ÁöÑÊï∞ÊçÆ0-9 for (int i = 0; i &lt; buffer.capacity(); ++i) { buffer.put((byte) i); } // ÂàõÂª∫Â≠êÁºìÂÜ≤Âå∫ buffer.position(3); buffer.limit(7); ByteBuffer slice = buffer.slice(); // ÊîπÂèòÂ≠êÁºìÂÜ≤Âå∫ÁöÑÂÜÖÂÆπ for (int i = 0; i &lt; slice.capacity(); ++i) { byte b = slice.get(i); b *= 10; slice.put(i, b); } buffer.position(0); buffer.limit(buffer.capacity()); while (buffer.remaining() &gt; 0) { System.out.println(buffer.get()); }} Âè™ËØªÁºìÂÜ≤Âå∫ ‚Äã Âè™ËØªÁºìÂÜ≤Âå∫ÈùûÂ∏∏ÁÆÄÂçïÔºåÂèØËØªÁ¶ÅÂÜô„ÄÇÂèØ‰ª•ÈÄöËøáË∞ÉÁî®ÁºìÂÜ≤Âå∫ÁöÑasReadOnlyBuffer()ÊñπÊ≥ïÔºåÂ∞Ü‰ªª‰ΩïÂ∏∏ËßÑÁºìÂÜ≤Âå∫ËΩ¨ Êç¢‰∏∫Âè™ËØªÁºìÂÜ≤Âå∫ÔºåËøô‰∏™ÊñπÊ≥ïËøîÂõû‰∏Ä‰∏™‰∏éÂéüÁºìÂÜ≤Âå∫ÂÆåÂÖ®Áõ∏ÂêåÁöÑÁºìÂÜ≤Âå∫ÔºåÂπ∂‰∏éÂéüÁºìÂÜ≤Âå∫ÂÖ±‰∫´Êï∞ÊçÆÔºåÂè™‰∏çËøáÂÆÉÊòØÂè™ËØªÁöÑ„ÄÇÂéüÂèòÂè™ËØªÂèòÔºåÂ¶ÇÊûúÂéüÁºìÂÜ≤Âå∫ÁöÑÂÜÖÂÆπÂèëÁîü‰∫ÜÂèòÂåñÔºåÂè™ËØªÁºìÂÜ≤Âå∫ÁöÑÂÜÖÂÆπ‰πüÈöè‰πãÂèëÁîüÂèòÂåñÔºö 12345678910111213141516171819202122@Test public void testConect4() throws IOException { ByteBuffer buffer = ByteBuffer.allocate(10); // ÁºìÂÜ≤Âå∫‰∏≠ÁöÑÊï∞ÊçÆ0-9 for (int i = 0; i &lt; buffer.capacity(); ++i) { buffer.put((byte) i); } // ÂàõÂª∫Âè™ËØªÁºìÂÜ≤Âå∫ ByteBuffer readonly = buffer.asReadOnlyBuffer(); // ÊîπÂèòÂéüÁºìÂÜ≤Âå∫ÁöÑÂÜÖÂÆπ for (int i = 0; i &lt; buffer.capacity(); ++i) { byte b = buffer.get(i); b *= 10; buffer.put(i, b); } readonly.position(0); readonly.limit(buffer.capacity()); // Âè™ËØªÁºìÂÜ≤Âå∫ÁöÑÂÜÖÂÆπ‰πüÈöè‰πãÊîπÂèò while (readonly.remaining() &gt; 0) { System.out.println(readonly.get()); } } ‚Äã Â¶ÇÊûúÂ∞ùËØï‰øÆÊîπÂè™ËØªÁºìÂÜ≤Âå∫ÁöÑÂÜÖÂÆπÔºåÂàô‰ºöÊä•ReadOnlyBufferExceptionÂºÇÂ∏∏„ÄÇÂè™ËØªÁºìÂÜ≤Âå∫ÂØπ‰∫é‰øùÊä§Êï∞ÊçÆÂæàÊúâÁî®„ÄÇÂú®Â∞ÜÁºìÂÜ≤Âå∫‰º†ÈÄíÁªôÊüê‰∏™ ÂØπË±°ÁöÑÊñπÊ≥ïÊó∂ÔºåÊó†Ê≥ïÁü•ÈÅìËøô‰∏™ÊñπÊ≥ïÊòØÂê¶‰ºö‰øÆÊîπÁºìÂÜ≤Âå∫‰∏≠ÁöÑÊï∞ÊçÆ„ÄÇÂàõÂª∫‰∏Ä‰∏™Âè™ËØªÁöÑÁºìÂÜ≤Âå∫ÂèØ‰ª•‰øùËØÅËØ•ÁºìÂÜ≤Âå∫‰∏ç‰ºöË¢´‰øÆÊîπ„ÄÇÂè™ÂèØ‰ª•ÊääÂ∏∏ËßÑÁºìÂÜ≤Âå∫ËΩ¨Êç¢‰∏∫Âè™ËØªÁºìÂÜ≤Âå∫ÔºåËÄå‰∏çËÉΩÂ∞ÜÂè™ËØªÁöÑÁºìÂÜ≤Âå∫ËΩ¨Êç¢‰∏∫ÂèØÂÜôÁöÑÁºìÂÜ≤Âå∫„ÄÇ Áõ¥Êé•ÁºìÂÜ≤Âå∫ ‚Äã Áõ¥Êé•ÁºìÂÜ≤Âå∫ÊòØ‰∏∫Âä†Âø´I/OÈÄüÂ∫¶Ôºå‰ΩøÁî®‰∏ÄÁßçÁâπÊÆäÊñπÂºè‰∏∫ÂÖ∂ÂàÜÈÖçÂÜÖÂ≠òÁöÑÁºìÂÜ≤Âå∫ÔºåJDKÊñáÊ°£‰∏≠ÁöÑÊèèËø∞‰∏∫ÔºöÁªôÂÆö‰∏Ä‰∏™Áõ¥Êé•Â≠óËäÇÁºìÂÜ≤Âå∫ÔºåJavaËôöÊãüÊú∫Â∞ÜÂ∞ΩÊúÄÂ§ßÂä™ÂäõÁõ¥Êé•ÂØπÂÆÉÊâßË°åÊú¨Êú∫I/OÊìç‰Ωú„ÄÇ‰πüÂ∞±ÊòØËØ¥ÔºåÂÆÉ‰ºöÂú®ÊØè‰∏ÄÊ¨°Ë∞ÉÁî®Â∫ïÂ±ÇÊìç‰ΩúÁ≥ªÁªüÁöÑÊú¨Êú∫I/OÊìç‰Ωú‰πãÂâç(Êàñ‰πãÂêé)ÔºåÂ∞ùËØïÈÅøÂÖçÂ∞ÜÁºìÂÜ≤Âå∫ÁöÑÂÜÖÂÆπÊã∑Ë¥ùÂà∞‰∏Ä‰∏™‰∏≠Èó¥ÁºìÂÜ≤Âå∫‰∏≠ ÊàñËÄÖ‰ªé‰∏Ä‰∏™‰∏≠Èó¥ÁºìÂÜ≤Âå∫‰∏≠Êã∑Ë¥ùÊï∞ÊçÆ„ÄÇË¶ÅÂàÜÈÖçÁõ¥Êé•ÁºìÂÜ≤Âå∫ÔºåÈúÄË¶ÅË∞ÉÁî®allocateDirect()ÊñπÊ≥ïÔºåËÄå‰∏çÊòØallocate()ÊñπÊ≥ïÔºå‰ΩøÁî®ÊñπÂºè‰∏éÊôÆÈÄöÁºìÂÜ≤Âå∫Âπ∂Êó†Âå∫Âà´„ÄÇ Êã∑Ë¥ùÊñá‰ª∂Á§∫‰æãÔºö 1234567891011121314151617181920 @Test public void testConect5() throws IOException { String infile = &quot;d:\\\\atguigu\\\\01.txt&quot;; FileInputStream fin = new FileInputStream(infile); FileChannel fcin = fin.getChannel(); String outfile = String.format(&quot;d:\\\\atguigu\\\\02.txt&quot;); FileOutputStream fout = new FileOutputStream(outfile); FileChannel fcout = fout.getChannel();// ‰ΩøÁî®allocateDirectÔºåËÄå‰∏çÊòØallocate ByteBuffer buffer = ByteBuffer.allocateDirect(1024); while (true) { buffer.clear(); int r = fcin.read(buffer); if (r == -1) { break; } buffer.flip(); fcout.write(buffer); } } ÂÜÖÂ≠òÊò†Â∞ÑÊñá‰ª∂I/O ‚Äã ÂÜÖÂ≠òÊò†Â∞ÑÊñá‰ª∂I/OÊòØ‰∏ÄÁßçËØªÂíåÂÜôÊñá‰ª∂Êï∞ÊçÆÁöÑÊñπÊ≥ïÔºåÂÆÉÂèØ‰ª•ÊØîÂ∏∏ËßÑÁöÑÂü∫‰∫éÊµÅÊàñËÄÖÂü∫‰∫éÈÄöÈÅìÁöÑI/OÂø´ÁöÑÂ§ö„ÄÇÂÜÖÂ≠òÊò†Â∞ÑÊñá‰ª∂I/OÊòØÈÄöËøá‰ΩøÊñá‰ª∂‰∏≠ÁöÑÊï∞ÊçÆÂá∫Áé∞‰∏∫ ÂÜÖÂ≠òÊï∞ÁªÑÁöÑÂÜÖÂÆπÊù•ÂÆåÊàêÁöÑÔºåËøôÂÖ∂ÂàùÂê¨Ëµ∑Êù•‰ºº‰πé‰∏çËøáÂ∞±ÊòØÂ∞ÜÊï¥‰∏™Êñá‰ª∂ËØªÂà∞ÂÜÖÂ≠ò‰∏≠Ôºå‰ΩÜÊòØ‰∫ãÂÆû‰∏äÂπ∂‰∏çÊòØËøôÊ†∑„ÄÇ‰∏ÄËà¨Êù•ËØ¥ÔºåÂè™ÊúâÊñá‰ª∂‰∏≠ÂÆûÈôÖËØªÂèñÊàñËÄÖÂÜôÂÖ•ÁöÑÈÉ®ÂàÜÊâç‰ºöÊò†Â∞ÑÂà∞ÂÜÖÂ≠ò‰∏≠„ÄÇÁ§∫‰æã‰ª£Á†ÅÔºö 1234567891011static private final int start = 0; static private final int size = 1024; static public void main(String args[]) throws Exception { RandomAccessFile raf = new RandomAccessFile(&quot;d:\\\\atguigu\\\\01.txt&quot;, &quot;rw&quot;); FileChannel fc = raf.getChannel(); MappedByteBuffer mbb = fc.map(FileChannel.MapMode.READ_WRITE, start, size); mbb.put(0, (byte) 97); mbb.put(1023, (byte) 122); raf.close(); } ÈÄâÊã©Âô® SelectorÁÆÄ‰ªã 1„ÄÅ SelectorÂíå ChannelÂÖ≥Á≥ª ‚Äã Selector ‰∏ÄËà¨Áß∞ ‰∏∫ÈÄâÊã©Âô® Ôºå‰πüÂèØ‰ª•ÁøªËØë‰∏∫ Â§öË∑ØÂ§çÁî®Âô® „ÄÇÂÆÉÊòØJava NIOÊ†∏ÂøÉÁªÑ‰ª∂‰∏≠ÁöÑ‰∏Ä‰∏™Ôºå**Áî®‰∫éÊ£ÄÊü•‰∏Ä‰∏™ÊàñÂ§ö‰∏™NIO ChannelÔºàÈÄöÈÅìÔºâÁöÑÁä∂ÊÄÅÊòØÂê¶Â§Ñ‰∫éÂèØËØª„ÄÅÂèØÂÜô„ÄÇ**Â¶ÇÊ≠§ÂèØ‰ª•ÂÆûÁé∞ÂçïÁ∫øÁ®ãÁÆ°ÁêÜÂ§ö‰∏™channels,‰πüÂ∞±ÊòØÂèØ‰ª•ÁÆ°ÁêÜÂ§ö‰∏™ÁΩëÁªúÈìæÊé•„ÄÇÂç≥‰ΩøÁî®SelectorÁöÑÂ•ΩÂ§ÑÂú®‰∫éÔºö ‰ΩøÁî®Êõ¥Â∞ëÁöÑÁ∫øÁ®ãÊù•Â∞±ÂèØ‰ª•Êù•Â§ÑÁêÜÈÄöÈÅì‰∫ÜÔºå Áõ∏ÊØî‰ΩøÁî®Â§ö‰∏™Á∫øÁ®ãÔºåÈÅøÂÖç‰∫ÜÁ∫øÁ®ã‰∏ä‰∏ãÊñáÂàáÊç¢Â∏¶Êù•ÁöÑÂºÄÈîÄ„ÄÇNIO ÂÆûÁé∞‰∫Ü IO Â§öË∑ØÂ§çÁî®‰∏≠ÁöÑ Reactor Ê®°ÂûãÔºå‰∏Ä‰∏™Á∫øÁ®ã Thread ‰ΩøÁî®‰∏Ä‰∏™ÈÄâÊã©Âô® Selector ÈÄöËøáËΩÆËØ¢ÁöÑÊñπÂºèÂéªÁõëÂê¨Â§ö‰∏™ÈÄöÈÅì Channel ‰∏äÁöÑ‰∫ã‰ª∂Ôºå‰ªéËÄåËÆ©‰∏Ä‰∏™Á∫øÁ®ãÂ∞±ÂèØ‰ª•Â§ÑÁêÜÂ§ö‰∏™‰∫ã‰ª∂„ÄÇÈÄöËøáÈÖçÁΩÆÁõëÂê¨ÁöÑÈÄöÈÅì Channel ‰∏∫ÈùûÈòªÂ°ûÔºåÈÇ£‰πàÂΩì Channel ‰∏äÁöÑ IO ‰∫ã‰ª∂ËøòÊú™Âà∞ËææÊó∂ÔºåÂ∞±‰∏ç‰ºöËøõÂÖ•ÈòªÂ°ûÁä∂ÊÄÅ‰∏ÄÁõ¥Á≠âÂæÖÔºåËÄåÊòØÁªßÁª≠ËΩÆËØ¢ÂÖ∂ÂÆÉ ChannelÔºåÊâæÂà∞ IO ‰∫ã‰ª∂Â∑≤ÁªèÂà∞ËææÁöÑ Channel ÊâßË°å„ÄÇÂõ†‰∏∫ÂàõÂª∫ÂíåÂàáÊç¢Á∫øÁ®ãÁöÑÂºÄÈîÄÂæàÂ§ßÔºåÂõ†Ê≠§‰ΩøÁî®‰∏Ä‰∏™Á∫øÁ®ãÊù•Â§ÑÁêÜÂ§ö‰∏™‰∫ã‰ª∂ËÄå‰∏çÊòØ‰∏Ä‰∏™Á∫øÁ®ãÂ§ÑÁêÜ‰∏Ä‰∏™‰∫ã‰ª∂ÔºåÂØπ‰∫é IO ÂØÜÈõÜÂûãÁöÑÂ∫îÁî®ÂÖ∑ÊúâÂæàÂ•ΩÂú∞ÊÄßËÉΩ„ÄÇ 2„ÄÅ ÂèØÈÄâÊã©ÈÄöÈÅì (SelectableChannel) Ôºà1Ôºâ‰∏çÊòØÊâÄÊúâÁöÑChannelÈÉΩÂèØ‰ª•Ë¢´Selector Â§çÁî®ÁöÑ„ÄÇÊØîÊñπËØ¥ÔºåFileChannelÂ∞±‰∏çËÉΩË¢´ÈÄâÊã©Âô®Â§çÁî®„ÄÇÂà§Êñ≠‰∏Ä‰∏™Channel ËÉΩË¢´Selector Â§çÁî®ÔºåÊúâ‰∏Ä‰∏™ÂâçÊèêÔºöÂà§Êñ≠‰ªñÊòØÂê¶ÁªßÊâø‰∫Ü‰∏Ä‰∏™ÊäΩË±°Á±ªSelectableChannel„ÄÇÂ¶ÇÊûúÁªßÊâø‰∫ÜSelectableChannelÔºåÂàôÂèØ‰ª•Ë¢´Â§çÁî®ÔºåÂê¶Âàô‰∏çËÉΩ„ÄÇ Ôºà2ÔºâSelectableChannelÁ±ªÊèê‰æõ‰∫ÜÂÆûÁé∞ÈÄöÈÅìÁöÑÂèØÈÄâÊã©ÊÄßÊâÄÈúÄË¶ÅÁöÑÂÖ¨ÂÖ±ÊñπÊ≥ï„ÄÇÂÆÉÊòØÊâÄÊúâÊîØÊåÅÂ∞±Áª™Ê£ÄÊü•ÁöÑÈÄöÈÅìÁ±ªÁöÑÁà∂Á±ª„ÄÇÊâÄÊúâsocketÈÄöÈÅìÔºåÈÉΩÁªßÊâø‰∫ÜSelectableChannelÁ±ªÈÉΩÊòØÂèØÈÄâÊã©ÁöÑÔºåÂåÖÊã¨‰ªéÁÆ°ÈÅì(Pipe)ÂØπË±°ÁöÑ‰∏≠Ëé∑ÂæóÁöÑÈÄöÈÅì„ÄÇËÄåFileChannelÁ±ªÔºåÊ≤°ÊúâÁªßÊâøSelectableChannelÔºåÂõ†Ê≠§ÊòØ‰∏çÊòØÂèØÈÄâÈÄöÈÅì„ÄÇ Ôºà3Ôºâ‰∏Ä‰∏™ÈÄöÈÅìÂèØ‰ª•Ë¢´Ê≥®ÂÜåÂà∞Â§ö‰∏™ÈÄâÊã©Âô®‰∏äÔºå‰ΩÜÂØπÊØè‰∏™ÈÄâÊã©Âô®ËÄåË®ÄÂè™ËÉΩË¢´Ê≥®ÂÜå‰∏ÄÊ¨°,Âç≥ÈÄöÈÅì‰∏éÈÄâÊã©Âô®‰∏ÄÂØπÂ§ö„ÄÇÈÄöÈÅìÂíåÈÄâÊã©Âô®‰πãÈó¥ÁöÑÂÖ≥Á≥ªÔºå‰ΩøÁî®Ê≥®ÂÜåÁöÑÊñπÂºèÂÆåÊàê„ÄÇSelectableChannelÂèØ‰ª•Ë¢´Ê≥®ÂÜåÂà∞SelectorÂØπË±°‰∏äÔºåÂú®Ê≥®ÂÜåÁöÑÊó∂ÂÄôÔºåÈúÄË¶ÅÊåáÂÆöÈÄöÈÅìÁöÑÂì™‰∫õÊìç‰ΩúÔºåÊòØSelectorÊÑüÂÖ¥Ë∂£ÁöÑ„ÄÇ 3„ÄÅChannelÊ≥®ÂÜåÂà∞Ê≥®ÂÜåÂà∞Selector Ôºà1Ôºâ‰ΩøÁî®Channel.registerÔºàSelector selÔºåint opsÔºâÊñπÊ≥ïÔºåÂ∞Ü‰∏Ä‰∏™ÈÄöÈÅìÊ≥®ÂÜåÂà∞‰∏Ä‰∏™ÈÄâÊã©Âô®Êó∂„ÄÇÁ¨¨‰∏Ä‰∏™ÂèÇÊï∞ÔºåÊåáÂÆöÈÄöÈÅìË¶ÅÊ≥®ÂÜåÁöÑÈÄâÊã©Âô®„ÄÇÁ¨¨‰∫å‰∏™ÂèÇÊï∞ÊåáÂÆöÈÄâÊã©Âô®ÈúÄË¶ÅÊü•ËØ¢ÁöÑÈÄöÈÅìÊìç‰Ωú„ÄÇ Ôºà2ÔºâÂèØ‰ª•‰æõÈÄâÊã©Âô®Êü•ËØ¢ÁöÑÈÄöÈÅìÊìç‰ΩúÂõõÁ±ªÔºö ÂèØËØª : SelectionKey.OP_READ ÂèØÂÜô : SelectionKey.OP_WRITE ËøûÊé• : SelectionKey.OP_CONNECT Êé•Êî∂ : SelectionKey.OP_ACCEPT SelectorÂØπÈÄöÈÅìÁöÑÂ§öÊìç‰ΩúÁ±ªÂûãÁî®‚Äú‰ΩçÊàñ‚ÄùÊìç‰ΩúÁ¨¶ÂÆûÁé∞Ôºö ÊØîÂ¶ÇÔºöint key = SelectionKey.OP_READ | SelectionKey.OP_WRITE ; Ôºà3ÔºâÈÄâÊã©Âô®Êü•ËØ¢ÁöÑ‰∏çÊòØÈÄöÈÅìÁöÑÊìç‰ΩúÔºåËÄåÊòØÈÄöÈÅìÁöÑÊüê‰∏™Êìç‰ΩúÁöÑ‰∏ÄÁßçÂ∞±Áª™Áä∂ÊÄÅ„ÄÇ‰ªÄ‰πàÊòØÊìç‰ΩúÁöÑÂ∞±Áª™Áä∂ÊÄÅÔºü‰∏ÄÊó¶ÈÄöÈÅìÂÖ∑Â§áÂÆåÊàêÊüê‰∏™Êìç‰ΩúÁöÑÊù°‰ª∂ÔºåË°®Á§∫ËØ•ÈÄöÈÅìÁöÑÊüê‰∏™Êìç‰ΩúÂ∑≤ÁªèÂ∞±Áª™ÔºåÂ∞±ÂèØ‰ª•Ë¢´SelectorÊü•ËØ¢Âà∞ÔºåÁ®ãÂ∫èÂèØ‰ª•ÂØπÈÄöÈÅìËøõË°åÂØπÂ∫îÁöÑÊìç‰Ωú„ÄÇÊØîÊñπËØ¥ÔºåÊüê‰∏™SocketChannelÈÄöÈÅìÂèØ‰ª•ËøûÊé•Âà∞‰∏Ä‰∏™ÊúçÂä°Âô®ÔºåÂàôÂ§Ñ‰∫é‚ÄúËøûÊé•Â∞±Áª™‚Äù(OP_CONNECT)„ÄÇÂÜçÊØîÊñπËØ¥Ôºå‰∏Ä‰∏™ServerSocketChannelÊúçÂä°Âô®ÈÄöÈÅìÂáÜÂ§áÂ•ΩÊé•Êî∂Êñ∞ËøõÂÖ•ÁöÑËøûÊé•ÔºåÂàôÂ§Ñ‰∫é‚ÄúÊé•Êî∂Â∞±Áª™‚ÄùÔºàOP_ACCEPTÔºâÁä∂ÊÄÅ„ÄÇËøòÊØîÊñπËØ¥Ôºå‰∏Ä‰∏™ÊúâÊï∞ÊçÆÂèØËØªÁöÑÈÄöÈÅìÔºåÂèØ‰ª•ËØ¥ÊòØ‚ÄúËØªÂ∞±Áª™‚Äù(OP_READ)„ÄÇ‰∏Ä‰∏™Á≠âÂæÖÂÜôÊï∞ÊçÆÁöÑÈÄöÈÅìÂèØ‰ª•ËØ¥ÊòØ‚ÄúÂÜôÂ∞±Áª™‚Äù(OP_WRITE)„ÄÇ 4„ÄÅÈÄâÊã©ÈîÆ(SelectionKey) Ôºà1ÔºâChannelÊ≥®ÂÜåÂà∞ÂêéÔºåÂπ∂‰∏î‰∏ÄÊó¶ÈÄöÈÅìÂ§Ñ‰∫éÊüêÁßçÂ∞±Áª™ÁöÑÁä∂ÊÄÅÔºåÂ∞±ÂèØ‰ª•Ë¢´ÈÄâÊã©Âô®Êü•ËØ¢Âà∞„ÄÇËøô‰∏™Â∑•‰ΩúÔºå‰ΩøÁî®ÈÄâÊã©Âô®SelectorÁöÑselectÔºàÔºâÊñπÊ≥ïÂÆåÊàê„ÄÇselectÊñπÊ≥ïÁöÑ‰ΩúÁî®ÔºåÂØπÊÑüÂÖ¥Ë∂£ÁöÑÈÄöÈÅìÊìç‰ΩúÔºåËøõË°åÂ∞±Áª™Áä∂ÊÄÅÁöÑÊü•ËØ¢„ÄÇ Ôºà2ÔºâSelectorÂèØ‰ª•‰∏çÊñ≠ÁöÑÊü•ËØ¢Channel‰∏≠ÂèëÁîüÁöÑÊìç‰ΩúÁöÑÂ∞±Áª™Áä∂ÊÄÅ„ÄÇÂπ∂‰∏îÊåëÈÄâÊÑüÂÖ¥Ë∂£ÁöÑÊìç‰ΩúÂ∞±Áª™Áä∂ÊÄÅ„ÄÇ‰∏ÄÊó¶ÈÄöÈÅìÊúâÊìç‰ΩúÁöÑÂ∞±Áª™Áä∂ÊÄÅËææÊàêÔºåÂπ∂‰∏îÊòØSelectorÊÑüÂÖ¥Ë∂£ÁöÑÊìç‰ΩúÔºåÂ∞±‰ºöË¢´SelectorÈÄâ‰∏≠ÔºåÊîæÂÖ•ÈÄâÊã©ÈîÆÈõÜÂêà‰∏≠„ÄÇ Ôºà3Ôºâ‰∏Ä‰∏™ÈÄâÊã©ÈîÆÔºåÈ¶ñÂÖàÊòØÂåÖÂê´‰∫ÜÊ≥®ÂÜåÂú®SelectorÁöÑÈÄöÈÅìÊìç‰ΩúÁöÑÁ±ªÂûãÔºåÊØîÊñπËØ¥SelectionKey.OP_READ„ÄÇ‰πüÂåÖÂê´‰∫ÜÁâπÂÆöÁöÑÈÄöÈÅì‰∏éÁâπÂÆöÁöÑÈÄâÊã©Âô®‰πãÈó¥ÁöÑÊ≥®ÂÜåÂÖ≥Á≥ª„ÄÇ ÂºÄÂèëÂ∫îÁî®Á®ãÂ∫èÊòØÔºåÈÄâÊã©ÈîÆÊòØÁºñÁ®ãÁöÑÂÖ≥ÈîÆ„ÄÇNIOÁöÑÁºñÁ®ãÔºåÂ∞±ÊòØÊ†πÊçÆÂØπÂ∫îÁöÑÈÄâÊã©ÈîÆÔºåËøõË°å‰∏çÂêåÁöÑ‰∏öÂä°ÈÄªËæëÂ§ÑÁêÜ„ÄÇ Ôºà4ÔºâÈÄâÊã©ÈîÆÁöÑÊ¶ÇÂøµÔºåÂíå‰∫ã‰ª∂ÁöÑÊ¶ÇÂøµÊØîËæÉÁõ∏‰ºº„ÄÇ‰∏Ä‰∏™ÈÄâÊã©ÈîÆÁ±ª‰ººÁõëÂê¨Âô®Ê®°ÂºèÈáåËæπÁöÑ‰∏Ä‰∏™‰∫ã‰ª∂„ÄÇÁî±‰∫éSelector‰∏çÊòØ‰∫ã‰ª∂Ëß¶ÂèëÁöÑÊ®°ÂºèÔºåËÄåÊòØ‰∏ªÂä®ÂéªÊü•ËØ¢ÁöÑÊ®°ÂºèÔºåÊâÄ‰ª•‰∏çÂè´‰∫ã‰ª∂EventÔºåËÄåÊòØÂè´SelectionKeyÈÄâÊã©ÈîÆ„ÄÇ NIO Â∏∏Â∏∏Ë¢´Âè´ÂÅöÈùûÈòªÂ°û IOÔºå‰∏ªË¶ÅÊòØÂõ†‰∏∫ NIO Âú®ÁΩëÁªúÈÄö‰ø°‰∏≠ÁöÑÈùûÈòªÂ°ûÁâπÊÄßË¢´ÂπøÊ≥õ‰ΩøÁî®„ÄÇ SelectorÁöÑ‰ΩøÁî®ÊñπÊ≥ï 1.Selector ÁöÑÂàõÂª∫ ÈÄöËøáË∞ÉÁî®Selector.open()ÊñπÊ≥ïÂàõÂª∫‰∏Ä‰∏™SelectorÂØπË±°ÔºåÂ¶Ç‰∏ãÔºö // 1„ÄÅËé∑ÂèñSelectorÈÄâÊã©Âô® Selector selector = Selector.open(); 2.Ê≥®ÂÜå Channel Âà∞ Selector Ë¶ÅÂÆûÁé∞SelectorÁÆ°ÁêÜChannelÔºåÈúÄË¶ÅÂ∞ÜchannelÊ≥®ÂÜåÂà∞Áõ∏Â∫îÁöÑSelector‰∏ä 12345// 1„ÄÅËé∑ÂèñSelectorÈÄâÊã©Âô® Selector selector = Selector.open(); // 2„ÄÅËé∑ÂèñÈÄöÈÅì ServerSocketChannel serverSocketChannel = ServerSocketChannel.open(); // 3.ËÆæÁΩÆ‰∏∫ÈùûÈòªÂ°û serverSocketChannel.configureBlocking(false); // 4„ÄÅÁªëÂÆöËøûÊé• serverSocketChannel.bind(new InetSocketAddress(9999)); // 5„ÄÅÂ∞ÜÈÄöÈÅìÊ≥®ÂÜåÂà∞ÈÄâÊã©Âô®‰∏ä,Âπ∂Âà∂ÂÆöÁõëÂê¨‰∫ã‰ª∂‰∏∫Ôºö‚ÄúÊé•Êî∂‚Äù‰∫ã‰ª∂ serverSocketChannel.register(selector,SelectionKey.OP_ACCEPT); ‰∏äÈù¢ÈÄöËøáË∞ÉÁî®ÈÄöÈÅìÁöÑregister()ÊñπÊ≥ï‰ºöÂ∞ÜÂÆÉÊ≥®ÂÜåÂà∞‰∏Ä‰∏™ÈÄâÊã©Âô®‰∏ä„ÄÇ È¶ñÂÖàÈúÄË¶ÅÊ≥®ÊÑèÁöÑÊòØÔºö Ôºà1Ôºâ‰∏éSelector‰∏ÄËµ∑‰ΩøÁî®Êó∂ÔºåChannelÂøÖÈ°ªÂ§Ñ‰∫éÈùûÈòªÂ°ûÊ®°Âºè‰∏ãÔºåÂê¶ÂàôÂ∞ÜÊäõÂá∫ÂºÇÂ∏∏IllegalBlockingModeException„ÄÇËøôÊÑèÂë≥ÁùÄÔºåFileChannel‰∏çËÉΩ‰∏éSelector‰∏ÄËµ∑‰ΩøÁî®ÔºåÂõ†‰∏∫FileChannel‰∏çËÉΩÂàáÊç¢Âà∞ÈùûÈòªÂ°ûÊ®°ÂºèÔºåËÄåÂ•óÊé•Â≠óÁõ∏ÂÖ≥ÁöÑÊâÄÊúâÁöÑÈÄöÈÅìÈÉΩÂèØ‰ª•„ÄÇ Ôºà2Ôºâ‰∏Ä‰∏™ÈÄöÈÅìÔºåÂπ∂Ê≤°Êúâ‰∏ÄÂÆöË¶ÅÊîØÊåÅÊâÄÊúâÁöÑÂõõÁßçÊìç‰Ωú„ÄÇÊØîÂ¶ÇÊúçÂä°Âô®ÈÄöÈÅìServerSocketChannelÊîØÊåÅAccept Êé•ÂèóÊìç‰ΩúÔºåËÄåSocketChannelÂÆ¢Êà∑Á´ØÈÄöÈÅìÂàô‰∏çÊîØÊåÅ„ÄÇÂèØ‰ª•ÈÄöËøáÈÄöÈÅì‰∏äÁöÑvalidOps()ÊñπÊ≥ïÔºåÊù•Ëé∑ÂèñÁâπÂÆöÈÄöÈÅì‰∏ãÊâÄÊúâÊîØÊåÅÁöÑÊìç‰ΩúÈõÜÂêà„ÄÇ 3.ËΩÆËØ¢Êü•ËØ¢Â∞±Áª™Êìç‰ΩúËΩÆËØ¢Êü•ËØ¢Â∞±Áª™Êìç‰Ωú Ôºà1ÔºâÈÄöËøáSelectorÁöÑselectÔºàÔºâÊñπÊ≥ïÔºåÂèØ‰ª•Êü•ËØ¢Âá∫Â∑≤ÁªèÂ∞±Áª™ÁöÑÈÄöÈÅìÊìç‰ΩúÔºåËøô‰∫õÂ∞±Áª™ÁöÑÁä∂ÊÄÅÈõÜÂêàÔºåÂåÖÂ≠òÂú®‰∏Ä‰∏™ÂÖÉÁ¥†ÊòØSelectionKeyÂØπË±°ÁöÑSetÈõÜÂêà‰∏≠„ÄÇ Ôºà2Ôºâ‰∏ãÈù¢ÊòØSelectorÂá†‰∏™ÈáçËΩΩÁöÑÊü•ËØ¢select()ÊñπÊ≥ïÔºö select():ÈòªÂ°ûÂà∞Ëá≥Â∞ëÊúâ‰∏Ä‰∏™ÈÄöÈÅìÂú®‰Ω†Ê≥®ÂÜåÁöÑ‰∫ã‰ª∂‰∏äÂ∞±Áª™‰∫Ü„ÄÇ select(long timeout)ÔºöÂíåselect()‰∏ÄÊ†∑Ôºå‰ΩÜÊúÄÈïøÈòªÂ°û‰∫ã‰ª∂‰∏∫timeoutÊØ´Áßí„ÄÇ selectNow():ÈùûÈòªÂ°ûÔºåÂè™Ë¶ÅÊúâÈÄöÈÅìÂ∞±Áª™Â∞±Á´ãÂàªËøîÂõû„ÄÇ select()ÊñπÊ≥ïËøîÂõûÁöÑintÂÄºÔºåË°®Á§∫ÊúâÂ§öÂ∞ëÈÄöÈÅìÂ∑≤ÁªèÂ∞±Áª™ÔºåÊõ¥ÂáÜÁ°ÆÁöÑËØ¥ÔºåÊòØËá™Ââç‰∏ÄÊ¨°selectÊñπÊ≥ï‰ª•Êù•Âà∞Ëøô‰∏ÄÊ¨°selectÊñπÊ≥ï‰πãÈó¥ÁöÑÊó∂Èó¥ÊÆµ‰∏äÔºåÊúâÂ§öÂ∞ëÈÄöÈÅìÂèòÊàêÂ∞±Áª™Áä∂ÊÄÅ„ÄÇ ‰æãÂ¶ÇÔºöÈ¶ñÊ¨°Ë∞ÉÁî®select()ÊñπÊ≥ïÔºåÂ¶ÇÊûúÊúâ‰∏Ä‰∏™ÈÄöÈÅìÂèòÊàêÂ∞±Áª™Áä∂ÊÄÅÔºåËøîÂõû‰∫Ü1ÔºåËã•ÂÜçÊ¨°Ë∞ÉÁî®select()ÊñπÊ≥ïÔºåÂ¶ÇÊûúÂè¶‰∏Ä‰∏™ÈÄöÈÅìÂ∞±Áª™‰∫ÜÔºåÂÆÉ‰ºöÂÜçÊ¨°ËøîÂõû1„ÄÇÂ¶ÇÊûúÂØπÁ¨¨‰∏Ä‰∏™Â∞±Áª™ÁöÑchannelÊ≤°ÊúâÂÅö‰ªª‰ΩïÊìç‰ΩúÔºåÁé∞Âú®Â∞±Êúâ‰∏§‰∏™Â∞±Áª™ÁöÑÈÄöÈÅìÔºå‰ΩÜÂú®ÊØèÊ¨°select()ÊñπÊ≥ïË∞ÉÁî®‰πãÈó¥ÔºåÂè™Êúâ‰∏Ä‰∏™ÈÄöÈÅìÂ∞±Áª™‰∫Ü„ÄÇ ‰∏ÄÊó¶Ë∞ÉÁî®select()ÊñπÊ≥ïÔºåÂπ∂‰∏îËøîÂõûÂÄº‰∏ç‰∏∫0Êó∂ÔºåÂú®Selector‰∏≠Êúâ‰∏Ä‰∏™selectedKeys()ÊñπÊ≥ïÔºåÁî®Êù•ËÆøÈóÆÂ∑≤ÈÄâÊã©ÈîÆÈõÜÂêàÔºåËø≠‰ª£ÈõÜÂêàÁöÑÊØè‰∏Ä‰∏™ÈÄâÊã©ÈîÆÂÖÉÁ¥†ÔºåÊ†πÊçÆÂ∞±Áª™Êìç‰ΩúÁöÑÁ±ªÂûãÔºåÂÆåÊàêÂØπÂ∫îÁöÑÊìç‰ΩúÔºö 12345678910111213 Set selectedKeys = selector.selectedKeys();Iterator keyIterator = selectedKeys.iterator(); while(keyIterator.hasNext()) { SelectionKey key = keyIterator.next(); if(key.isAcceptable()) { // a connection was accepted by a ServerSocketChannel. } else if (key.isConnectable()) { // a connection was established with a remote server. } else if (key.isReadable()) { // a channel is ready for reading } else if (key.isWritable()) { // a channel is ready for writing } keyIterator.remove(); } 4.ÂÅúÊ≠¢ÈÄâÊã©ÁöÑÊñπÊ≥ïÂÅúÊ≠¢ÈÄâÊã©ÁöÑÊñπÊ≥ï ‚Äã ÈÄâÊã©Âô®ÊâßË°åÈÄâÊã©ÁöÑËøáÁ®ãÔºåÁ≥ªÁªüÂ∫ïÂ±Ç‰ºö‰æùÊ¨°ËØ¢ÈóÆÊØè‰∏™ÈÄöÈÅìÊòØÂê¶Â∑≤ÁªèÂ∞±Áª™ÔºåËøô‰∏™ËøáÁ®ãÂèØËÉΩ‰ºöÈÄ†ÊàêË∞ÉÁî®Á∫øÁ®ãËøõÂÖ•ÈòªÂ°ûÁä∂ÊÄÅ,ÈÇ£‰πàÊàë‰ª¨Êúâ‰ª•‰∏ã‰∏âÁßçÊñπÂºèÂèØ‰ª•Âî§ÈÜíÂú®selectÔºàÔºâÊñπÊ≥ï‰∏≠ÈòªÂ°ûÁöÑÁ∫øÁ®ã„ÄÇ wakeup()ÊñπÊ≥ï ÔºöÈÄöËøáË∞ÉÁî®SelectorÂØπË±°ÁöÑwakeupÔºàÔºâÊñπÊ≥ïËÆ©Â§ÑÂú®ÈòªÂ°ûÁä∂ÊÄÅÁöÑselect()ÊñπÊ≥ïÁ´ãÂàªËøîÂõû ËØ•ÊñπÊ≥ï‰ΩøÂæóÈÄâÊã©Âô®‰∏äÁöÑÁ¨¨‰∏Ä‰∏™ËøòÊ≤°ÊúâËøîÂõûÁöÑÈÄâÊã©Êìç‰ΩúÁ´ãÂç≥ËøîÂõû„ÄÇÂ¶ÇÊûúÂΩìÂâçÊ≤°ÊúâËøõË°å‰∏≠ÁöÑÈÄâÊã©Êìç‰ΩúÔºåÈÇ£‰πà‰∏ã‰∏ÄÊ¨°ÂØπselect()ÊñπÊ≥ïÁöÑ‰∏ÄÊ¨°Ë∞ÉÁî®Â∞ÜÁ´ãÂç≥ËøîÂõû„ÄÇ close()ÊñπÊ≥ï ÔºöÈÄöËøácloseÔºàÔºâÊñπÊ≥ïÂÖ≥Èó≠SelectorÔºå ËØ•ÊñπÊ≥ï‰ΩøÂæó‰ªª‰Ωï‰∏Ä‰∏™Âú®ÈÄâÊã©Êìç‰Ωú‰∏≠ÈòªÂ°ûÁöÑÁ∫øÁ®ãÈÉΩË¢´Âî§ÈÜíÔºàÁ±ª‰ººwakeupÔºàÔºâÔºâÔºåÂêåÊó∂‰ΩøÂæóÊ≥®ÂÜåÂà∞ËØ•SelectorÁöÑÊâÄÊúâChannelË¢´Ê≥®ÈîÄÔºåÊâÄÊúâÁöÑÈîÆÂ∞ÜË¢´ÂèñÊ∂àÔºå‰ΩÜÊòØChannelÊú¨Ë∫´Âπ∂‰∏ç‰ºöÂÖ≥Èó≠„ÄÇ Á§∫‰æã‰ª£Á†Å 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134import org.junit.jupiter.api.Test;import java.io.IOException;import java.net.InetSocketAddress;import java.nio.ByteBuffer;import java.nio.channels.SelectionKey;import java.nio.channels.Selector;import java.nio.channels.ServerSocketChannel;import java.nio.channels.SocketChannel;import java.nio.charset.StandardCharsets;import java.util.Date;import java.util.Iterator;import java.util.Scanner;import java.util.Set;public class SelectorDemo { //ÊúçÂä°Á´Ø @Test public void ServerDemo() throws Exception {// 1.Ëé∑ÂèñÊúçÂä°Á´ØÈÄöÈÅì ServerSocketChannel ssc = ServerSocketChannel.open();// 2.ÁªëÂÆöÁ´ØÂè£Âè∑ ssc.socket().bind(new InetSocketAddress(&quot;127.0.0.1&quot;, 8000));// 3.ÂàáÊç¢ÈùûÈòªÂ°ûÊ®°Âºè ssc.configureBlocking(false);// 4.ÂàõÂª∫ÈÄâÊã©Âô® Selector selector = Selector.open();// 5.Ê≥®ÂÜåchannelÔºåÂπ∂‰∏îÊåáÂÆöÊÑüÂÖ¥Ë∂£ÁöÑ‰∫ã‰ª∂ÊòØ Accept ssc.register(selector, SelectionKey.OP_ACCEPT);// 6.ÂàõÂª∫buffer ByteBuffer readBuff = ByteBuffer.allocate(1024); ByteBuffer writeBuff = ByteBuffer.allocate(128); writeBuff.put(&quot;received&quot;.getBytes()); writeBuff.flip(); while (true) {// 7.Ê£ÄÊµãÈÄöÈÅìÂ∞±Áª™Áä∂ÊÄÅ int nReady = selector.select();// 8.ÈÅçÂéÜÈÄâÊã©Âô®ÔºåËé∑ÂèñÂ∞±Áª™ÈÄöÈÅìÈõÜÂêà Set&lt;SelectionKey&gt; keys = selector.selectedKeys(); Iterator&lt;SelectionKey&gt; it = keys.iterator(); while (it.hasNext()) { SelectionKey key = it.next(); it.remove();// Âà§Êñ≠Áä∂ÊÄÅ if (key.isAcceptable()) {// ÂàõÂª∫Êñ∞ÁöÑËøûÊé•ÔºåÂπ∂‰∏îÊääËøûÊé•Ê≥®ÂÜåÂà∞selector‰∏äÔºåËøõË°åÁõëÂê¨ÔºåÂ£∞ÊòéËøô‰∏™channelÂè™ÂØπËØªÊìç‰ΩúÊÑüÂÖ¥Ë∂£„ÄÇ SocketChannel socketChannel = ssc.accept();// ÂàáÊç¢Âà∞ÈùûÈòªÂ°û socketChannel.configureBlocking(false);// Ê≥®ÂÜå socketChannel.register(selector, SelectionKey.OP_READ); } else if (key.isReadable()) {// Ëé∑ÂèñÈÄöÈÅì SocketChannel socketChannel = (SocketChannel) key.channel(); readBuff.clear(); socketChannel.read(readBuff); readBuff.flip(); System.out.println(&quot;received : &quot; + new String(readBuff.array())); key.interestOps(SelectionKey.OP_WRITE); } else if (key.isWritable()) { writeBuff.rewind(); SocketChannel socketChannel = (SocketChannel) key.channel(); socketChannel.write(writeBuff); key.interestOps(SelectionKey.OP_READ); } } } } //ÂÆ¢Êà∑Á´Ø‰ª£Á†Å @Test public void ClientDemo() throws Exception {// 1.Ëé∑ÂèñÈÄöÈÅìÔºåÁªëÂÆö‰∏ªÊú∫‰∏éÁ´ØÂè£Âè∑ SocketChannel socketChannel = SocketChannel.open(); socketChannel.connect(new InetSocketAddress(&quot;127.0.0.1&quot;, 8000));// 2.ÂàáÊç¢Âà∞ÈùûÈòªÂ°ûÊ®°Âºè socketChannel.configureBlocking(false);// 3.ÂàõÂª∫buffer ByteBuffer writeBuffer = ByteBuffer.allocate(32); ByteBuffer readBuffer = ByteBuffer.allocate(32);// 4.ÂÜôÂÖ•bufferÊï∞ÊçÆ Scanner scanner = new Scanner(System.in); while (scanner.hasNext()) { String str = scanner.next();// writeBuffer.put(&quot;hello&quot;.getBytes()); writeBuffer.put((new Date().toString() + &quot;----&gt;&quot; + str).getBytes());// 5.Ê®°ÂºèÂàáÊç¢ writeBuffer.flip(); while (true) { // Â∞ÜpositionËÆæÂõû0 writeBuffer.rewind();// 6.ÂÜôÂÖ•ÈÄöÈÅì socketChannel.write(writeBuffer);// 7.ÂÖ≥Èó≠ readBuffer.clear(); socketChannel.read(readBuffer); } } }// ËæìÂÖ•ÊñπÂºè ÂÆ¢Êà∑Á´Ø public static void main(String[] args) throws Exception { // 1.Ëé∑ÂèñÈÄöÈÅìÔºåÁªëÂÆö‰∏ªÊú∫‰∏éÁ´ØÂè£Âè∑ SocketChannel socketChannel = SocketChannel.open(); socketChannel.connect(new InetSocketAddress(&quot;127.0.0.1&quot;, 8000));// 2.ÂàáÊç¢Âà∞ÈùûÈòªÂ°ûÊ®°Âºè socketChannel.configureBlocking(false);// 3.ÂàõÂª∫buffer Ë∂ÖËøá‰ºöÊä•ÈîôException in thread &quot;main&quot; java.nio.BufferOverflowException ByteBuffer writeBuffer = ByteBuffer.allocate(1024); ByteBuffer readBuffer = ByteBuffer.allocate(1024);// 4.ÂÜôÂÖ•bufferÊï∞ÊçÆ Scanner scanner = new Scanner(System.in); while (scanner.hasNext()) { String str = scanner.next();// writeBuffer.put(&quot;hello&quot;.getBytes()); writeBuffer.put((new Date().toString() + &quot;----&gt;&quot; + str).getBytes());// 5.Ê®°ÂºèÂàáÊç¢ writeBuffer.flip(); while (true) { // Â∞ÜpositionËÆæÂõû0 writeBuffer.rewind();// 6.ÂÜôÂÖ•ÈÄöÈÅì socketChannel.write(writeBuffer);// 7.ÂÖ≥Èó≠ readBuffer.clear(); socketChannel.read(readBuffer); } } }} NIOÁºñÁ®ãÊ≠•È™§ÊÄªÁªì Á¨¨‰∏ÄÊ≠•ÔºöÂàõÂª∫SelectorÈÄâÊã©Âô® Á¨¨‰∫åÊ≠•ÔºöÂàõÂª∫ServerSocketChannelÈÄöÈÅìÔºåÂπ∂ÁªëÂÆöÁõëÂê¨Á´ØÂè£ Á¨¨‰∏âÊ≠•ÔºöËÆæÁΩÆChannelÈÄöÈÅìÊòØÈùûÈòªÂ°ûÊ®°Âºè Á¨¨ÂõõÊ≠•ÔºöÊääChannelÊ≥®ÂÜåÂà∞SocketorÈÄâÊã©Âô®‰∏äÔºåÁõëÂê¨ËøûÊé•‰∫ã‰ª∂ Á¨¨‰∫îÊ≠•ÔºöË∞ÉÁî®SelectorÁöÑselectÊñπÊ≥ïÔºàÂæ™ÁéØË∞ÉÁî®ÔºâÔºåÁõëÊµãÈÄöÈÅìÁöÑÂ∞±Áª™Áä∂ÂÜµ Á¨¨ÂÖ≠Ê≠•ÔºöË∞ÉÁî®selectKeysÊñπÊ≥ïËé∑ÂèñÂ∞±Áª™channelÈõÜÂêà Á¨¨‰∏ÉÊ≠•ÔºöÈÅçÂéÜÂ∞±Áª™channelÈõÜÂêàÔºåÂà§Êñ≠Â∞±Áª™‰∫ã‰ª∂Á±ªÂûãÔºåÂÆûÁé∞ÂÖ∑‰ΩìÁöÑ‰∏öÂä°Êìç‰Ωú Á¨¨ÂÖ´Ê≠•ÔºöÊ†πÊçÆ‰∏öÂä°ÔºåÂÜ≥ÂÆöÊòØÂê¶ÈúÄË¶ÅÂÜçÊ¨°Ê≥®ÂÜåÁõëÂê¨‰∫ã‰ª∂ÔºåÈáçÂ§çÊâßË°åÁ¨¨‰∏âÊ≠•Êìç‰Ωú ÂàõÂª∫ÈÄâÊã©Âô® Selector selector = Selector.open(); Â∞ÜÈÄöÈÅìÊ≥®ÂÜåÂà∞ÈÄâÊã©Âô®‰∏ä ServerSocketChannel ssChannel = ServerSocketChannel.open(); ssChannel.configureBlocking(false); ssChannel.register(selector, SelectionKey.OP_ACCEPT); ÈÄöÈÅìÂøÖÈ°ªÈÖçÁΩÆ‰∏∫ÈùûÈòªÂ°ûÊ®°ÂºèÔºåÂê¶Âàô‰ΩøÁî®ÈÄâÊã©Âô®Â∞±Ê≤°Êúâ‰ªª‰ΩïÊÑè‰πâ‰∫ÜÔºåÂõ†‰∏∫Â¶ÇÊûúÈÄöÈÅìÂú®Êüê‰∏™‰∫ã‰ª∂‰∏äË¢´ÈòªÂ°ûÔºåÈÇ£‰πàÊúçÂä°Âô®Â∞±‰∏çËÉΩÂìçÂ∫îÂÖ∂ÂÆÉ‰∫ã‰ª∂ÔºåÂøÖÈ°ªÁ≠âÂæÖËøô‰∏™‰∫ã‰ª∂Â§ÑÁêÜÂÆåÊØïÊâçËÉΩÂéªÂ§ÑÁêÜÂÖ∂ÂÆÉ‰∫ã‰ª∂ÔºåÊòæÁÑ∂ËøôÂíåÈÄâÊã©Âô®ÁöÑ‰ΩúÁî®ËÉåÈÅìËÄåÈ©∞„ÄÇ Âú®Â∞ÜÈÄöÈÅìÊ≥®ÂÜåÂà∞ÈÄâÊã©Âô®‰∏äÊó∂ÔºåËøòÈúÄË¶ÅÊåáÂÆöË¶ÅÊ≥®ÂÜåÁöÑÂÖ∑‰Ωì‰∫ã‰ª∂Ôºå‰∏ªË¶ÅÊúâ‰ª•‰∏ãÂá†Á±ªÔºö SelectionKey.OP_CONNECT SelectionKey.OP_ACCEPT SelectionKey.OP_READ SelectionKey.OP_WRITE ÂÆÉ‰ª¨Âú® SelectionKey ÁöÑÂÆö‰πâÂ¶Ç‰∏ãÔºö public static final int OP_READ = 1 &lt;&lt; 0; public static final int OP_WRITE = 1 &lt;&lt; 2; public static final int OP_CONNECT = 1 &lt;&lt; 3; public static final int OP_ACCEPT = 1 &lt;&lt; 4; ÂèØ‰ª•ÁúãÂá∫ÊØè‰∏™‰∫ã‰ª∂ÂèØ‰ª•Ë¢´ÂΩìÊàê‰∏Ä‰∏™‰ΩçÂüüÔºå‰ªéËÄåÁªÑÊàê‰∫ã‰ª∂ÈõÜÊï¥Êï∞„ÄÇ‰æãÂ¶ÇÔºö int interestSet = SelectionKey.OP_READ | SelectionKey.OP_WRITE; ÁõëÂê¨‰∫ã‰ª∂ int num = selector.select(); ‰ΩøÁî® select() Êù•ÁõëÂê¨Âà∞ËææÁöÑ‰∫ã‰ª∂ÔºåÂÆÉ‰ºö‰∏ÄÁõ¥ÈòªÂ°ûÁõ¥Âà∞ÊúâËá≥Â∞ë‰∏Ä‰∏™‰∫ã‰ª∂Âà∞Ëææ„ÄÇ Ëé∑ÂèñÂà∞ËææÁöÑ‰∫ã‰ª∂ Set keys = selector.selectedKeys(); Iterator keyIterator = keys.iterator(); while (keyIterator.hasNext()) { SelectionKey key = keyIterator.next(); if (key.isAcceptable()) { // ... } else if (key.isReadable()) { // ... } keyIterator.remove(); } ‰∫ã‰ª∂Âæ™ÁéØ Âõ†‰∏∫‰∏ÄÊ¨° select() Ë∞ÉÁî®‰∏çËÉΩÂ§ÑÁêÜÂÆåÊâÄÊúâÁöÑ‰∫ã‰ª∂ÔºåÂπ∂‰∏îÊúçÂä°Âô®Á´ØÊúâÂèØËÉΩÈúÄË¶Å‰∏ÄÁõ¥ÁõëÂê¨‰∫ã‰ª∂ÔºåÂõ†Ê≠§ÊúçÂä°Âô®Á´ØÂ§ÑÁêÜ‰∫ã‰ª∂ÁöÑ‰ª£Á†Å‰∏ÄËà¨‰ºöÊîæÂú®‰∏Ä‰∏™Ê≠ªÂæ™ÁéØÂÜÖ„ÄÇ while (true) { int num = selector.select(); Set keys = selector.selectedKeys(); Iterator keyIterator = keys.iterator(); while (keyIterator.hasNext()) { SelectionKey key = keyIterator.next(); if (key.isAcceptable()) { // ... } else if (key.isReadable()) { // ... } keyIterator.remove(); } } Pipe Java NIO ÁÆ°ÈÅìÊòØ2‰∏™Á∫øÁ®ã‰πãÈó¥ÁöÑÂçïÂêëÊï∞ÊçÆËøûÊé•„ÄÇPipeÊúâ‰∏Ä‰∏™sourceÈÄöÈÅìÂíå‰∏Ä‰∏™sinkÈÄöÈÅì„ÄÇÊï∞ÊçÆ‰ºöË¢´ÂÜôÂà∞sinkÈÄöÈÅìÔºå‰ªésourceÈÄöÈÅìËØªÂèñ„ÄÇ 1„ÄÅÂàõÂª∫ÁÆ°ÈÅì ÈÄöËøáPipe.open()ÊñπÊ≥ïÊâìÂºÄÁÆ°ÈÅì„ÄÇ Pipe pipe = Pipe.open(); 2„ÄÅÂÜôÂÖ•ÁÆ°ÈÅì Ë¶ÅÂêëÁÆ°ÈÅìÂÜôÊï∞ÊçÆÔºåÈúÄË¶ÅËÆøÈóÆsinkÈÄöÈÅì„ÄÇÔºö Pipe.SinkChannel sinkChannel = pipe.sink(); ÈÄöËøáË∞ÉÁî®SinkChannelÁöÑwrite()ÊñπÊ≥ïÔºåÂ∞ÜÊï∞ÊçÆÂÜôÂÖ•SinkChannelÔºö String newData = &quot;New String to write to file...&quot; + System.currentTimeMillis(); ByteBuffer buf = ByteBuffer.allocate(48); buf.clear(); buf.put(newData.getBytes()); buf.flip(); while(buf.hasRemaining()) 3„ÄÅ‰ªéÁÆ°ÈÅìËØªÂèñÊï∞ÊçÆ ËÆøÈóÆsourceÈÄöÈÅì Pipe.SourceChannel sourceChannel = pipe.source(); Ë∞ÉÁî®sourceÈÄöÈÅìÁöÑread()ÊñπÊ≥ïÊù•ËØªÂèñÊï∞ÊçÆÔºö ByteBuffer buf = ByteBuffer.allocate(48); int bytesRead = sourceChannel.read(buf); read()ÊñπÊ≥ïËøîÂõûÁöÑintÂÄº‰ºöÂëäËØâÊàë‰ª¨Â§öÂ∞ëÂ≠óËäÇË¢´ËØªËøõ‰∫ÜÁºìÂÜ≤Âå∫„ÄÇ 4„ÄÅ‰ª£Á†ÅÁ§∫‰æã 1234567891011121314151617181920212223242526272829303132333435363738394041package pers.lxl.mylearnproject.javase.io.nio.pipe;import org.junit.jupiter.api.Test;import java.io.IOException;import java.nio.ByteBuffer;import java.nio.channels.Pipe;public class PipeDemo {// 1.Ëé∑ÂèñÁÆ°ÈÅì// 2Ëé∑ÂèñsinkÈÄöÈÅì// 3.ÂàõÂª∫ÁºìÂÜ≤Âå∫// 4.ÂÜôÂÖ•Êï∞ÊçÆ// 5.Ëé∑ÂèñsourceÈÄöÈÅì// 6.ÂàõÂª∫sourceÈÄöÈÅì// 7.ÂàõÂª∫ÁºìÂÜ≤Âå∫ÔºåËØªÂèñÊï∞ÊçÆ// 8.ÂÖ≥Èó≠ÈÄöÈÅì /**/ @Test public void testPipe() throws IOException { // 1„ÄÅËé∑ÂèñÈÄöÈÅì Pipe pipe = Pipe.open(); // 2„ÄÅËé∑ÂèñsinkÁÆ°ÈÅìÔºåÁî®Êù•‰º†ÈÄÅÊï∞ÊçÆ Pipe.SinkChannel sinkChannel = pipe.sink(); // 3„ÄÅÁî≥ËØ∑‰∏ÄÂÆöÂ§ßÂ∞èÁöÑÁºìÂÜ≤Âå∫ ByteBuffer byteBuffer = ByteBuffer.allocate(1024); byteBuffer.put(&quot;atguigu&quot;.getBytes()); byteBuffer.flip(); // 4„ÄÅsinkÂèëÈÄÅÊï∞ÊçÆ sinkChannel.write(byteBuffer); // 5„ÄÅÂàõÂª∫Êé•Êî∂pipeÊï∞ÊçÆÁöÑsourceÁÆ°ÈÅì Pipe.SourceChannel sourceChannel = pipe.source(); // 6„ÄÅÊé•Êî∂Êï∞ÊçÆÔºåÂπ∂‰øùÂ≠òÂà∞ÁºìÂÜ≤Âå∫‰∏≠ ByteBuffer byteBuffer2 = ByteBuffer.allocate(1024); int length = sourceChannel.read(byteBuffer2); System.out.println(new String(byteBuffer2.array(), 0, length)); sourceChannel.close(); sinkChannel.close(); }} FileLock 1„ÄÅ FileLock ÁÆÄ‰ªã ‚Äã Êñá‰ª∂ÈîÅÂú®OS‰∏≠ÂæàÂ∏∏ËßÅÔºåÂ¶ÇÊûúÂ§ö‰∏™Á®ãÂ∫èÂêåÊó∂ËÆøÈóÆ„ÄÅ‰øÆÊîπÂêå‰∏Ä‰∏™Êñá‰ª∂ÔºåÂæàÂÆπÊòìÂõ†‰∏∫Êñá‰ª∂Êï∞ÊçÆ‰∏çÂêåÊ≠•ËÄåÂá∫Áé∞ÈóÆÈ¢ò„ÄÇÁªôÊñá‰ª∂Âä†‰∏Ä‰∏™ÈîÅÔºåÂêå‰∏ÄÊó∂Èó¥ÔºåÂè™ËÉΩÊúâ‰∏Ä‰∏™Á®ãÂ∫è‰øÆÊîπÊ≠§Êñá‰ª∂ÔºåÊàñËÄÖÁ®ãÂ∫èÈÉΩÂè™ËÉΩËØªÊ≠§Êñá‰ª∂ÔºåËøôÂ∞±Ëß£ÂÜ≥‰∫ÜÂêåÊ≠•ÈóÆÈ¢ò„ÄÇ ‚Äã Êñá‰ª∂ÈîÅÊòØËøõÁ®ãÁ∫ßÂà´ÁöÑÔºå‰∏çÊòØÁ∫øÁ®ãÁ∫ßÂà´ÁöÑ„ÄÇÊñá‰ª∂ÈîÅÂèØ‰ª•Ëß£ÂÜ≥Â§ö‰∏™ËøõÁ®ãÂπ∂ÂèëËÆøÈóÆ„ÄÅ‰øÆÊîπÂêå‰∏Ä‰∏™Êñá‰ª∂ÁöÑÈóÆÈ¢òÔºå‰ΩÜ‰∏çËÉΩËß£ÂÜ≥Â§öÁ∫øÁ®ãÂπ∂ÂèëËÆøÈóÆ„ÄÅ‰øÆÊîπÂêå‰∏ÄÊñá‰ª∂ÁöÑÈóÆÈ¢ò„ÄÇ‰ΩøÁî®Êñá‰ª∂ÈîÅÊó∂ÔºåÂêå‰∏ÄËøõÁ®ãÂÜÖÁöÑÂ§ö‰∏™Á∫øÁ®ãÔºåÂèØ‰ª•ÂêåÊó∂ËÆøÈóÆ„ÄÅ‰øÆÊîπÊ≠§Êñá‰ª∂„ÄÇ ‚Äã Êñá‰ª∂ÈîÅÊòØÂΩìÂâçÁ®ãÂ∫èÊâÄÂ±ûÁöÑJVMÂÆû‰æãÊåÅÊúâÁöÑÔºå‰∏ÄÊó¶Ëé∑ÂèñÂà∞Êñá‰ª∂ÈîÅÔºàÂØπÊñá‰ª∂Âä†ÈîÅÔºâÔºåË¶ÅË∞ÉÁî®release()ÔºåÊàñËÄÖÂÖ≥Èó≠ÂØπÂ∫îÁöÑFileChannelÂØπË±°ÔºåÊàñËÄÖÂΩìÂâçJVMÈÄÄÂá∫ÔºåÊâç‰ºöÈáäÊîæËøô‰∏™ÈîÅ„ÄÇ ‚Äã ‰∏ÄÊó¶Êüê‰∏™ËøõÁ®ãÔºàÊØîÂ¶ÇËØ¥JVMÂÆû‰æãÔºâÂØπÊüê‰∏™Êñá‰ª∂Âä†ÈîÅÔºåÂàôÂú®ÈáäÊîæËøô‰∏™ÈîÅ‰πãÂâçÔºåÊ≠§ËøõÁ®ã‰∏çËÉΩÂÜçÂØπÊ≠§Êñá‰ª∂Âä†ÈîÅÔºåÂ∞±ÊòØËØ¥JVMÂÆû‰æãÂú®Âêå‰∏ÄÊñá‰ª∂‰∏äÁöÑÊñá‰ª∂ÈîÅÊòØ‰∏çÈáçÂè†ÁöÑÔºàËøõÁ®ãÁ∫ßÂà´‰∏çËÉΩÈáçÂ§çÂú®Âêå‰∏ÄÊñá‰ª∂‰∏äËé∑ÂèñÈîÅÔºâ„ÄÇ 2„ÄÅÊñá‰ª∂ÈîÅÂàÜÁ±ªÔºöÊñá‰ª∂ÈîÅÂàÜÁ±ªÔºö ‚Äã ÊéíÂÆÉÈîÅÔºöÂèàÂè´Áã¨Âç†ÈîÅ„ÄÇÂØπÊñá‰ª∂Âä†ÊéíÂÆÉÈîÅÂêéÔºåËØ•ËøõÁ®ãÂèØ‰ª•ÂØπÊ≠§Êñá‰ª∂ËøõË°åËØªÂÜôÔºåËØ•ËøõÁ®ãÁã¨Âç†Ê≠§Êñá‰ª∂ÔºåÂÖ∂‰ªñËøõÁ®ã‰∏çËÉΩËØªÂÜôÊ≠§Êñá‰ª∂ÔºåÁõ¥Âà∞ËØ•ËøõÁ®ãÈáäÊîæÊñá‰ª∂ÈîÅ„ÄÇ ‚Äã ÂÖ±‰∫´ÈîÅÔºöÊüê‰∏™ËøõÁ®ãÂØπÊñá‰ª∂Âä†ÂÖ±‰∫´ÈîÅÔºåÂÖ∂‰ªñËøõÁ®ã‰πüÂèØ‰ª•ËÆøÈóÆÊ≠§Êñá‰ª∂Ôºå‰ΩÜËøô‰∫õËøõÁ®ãÈÉΩÂè™ËÉΩËØªÊ≠§Êñá‰ª∂Ôºå‰∏çËÉΩÂÜô„ÄÇÁ∫øÁ®ãÊòØÂÆâÂÖ®ÁöÑ„ÄÇÂè™Ë¶ÅËøòÊúâ‰∏Ä‰∏™ËøõÁ®ãÊåÅÊúâÂÖ±‰∫´ÈîÅÔºåÊ≠§Êñá‰ª∂Â∞±Âè™ËÉΩËØªÔºå‰∏çËÉΩÂÜô„ÄÇ 3„ÄÅ‰ΩøÁî®Á§∫‰æã //ÂàõÂª∫FileChannelÂØπË±°ÔºåÊñá‰ª∂ÈîÅÂè™ËÉΩÈÄöËøáFileChannelÂØπË±°Êù•‰ΩøÁî® FileChannel fileChannel=new FileOutputStream(&quot;./1.txt&quot;).getChannel(); //ÂØπÊñá‰ª∂Âä†ÈîÅ FileLock lock=fileChannel.lock(); //ÂØπÊ≠§Êñá‰ª∂ËøõË°å‰∏Ä‰∫õËØªÂÜôÊìç‰Ωú„ÄÇ //....... //ÈáäÊîæÈîÅ lock.release(); Êñá‰ª∂ÈîÅË¶ÅÈÄöËøáFileChannelÂØπË±°‰ΩøÁî®„ÄÇ 4„ÄÅËé∑ÂèñÊñá‰ª∂ÈîÅÊñπÊ≥ï„ÄÅËé∑ÂèñÊñá‰ª∂ÈîÅÊñπÊ≥ï Êúâ4ÁßçËé∑ÂèñÊñá‰ª∂ÈîÅÁöÑÊñπÊ≥ïÔºö lock() //ÂØπÊï¥‰∏™Êñá‰ª∂Âä†ÈîÅÔºåÈªòËÆ§‰∏∫ÊéíÂÆÉÈîÅ„ÄÇ lock(long position, long size, booean shared) //Ëá™ÂÆö‰πâÂä†ÈîÅÊñπÂºè„ÄÇÂâç2‰∏™ÂèÇÊï∞ÊåáÂÆöË¶ÅÂä†ÈîÅÁöÑÈÉ®ÂàÜÔºàÂèØ‰ª•Âè™ÂØπÊ≠§Êñá‰ª∂ÁöÑÈÉ®ÂàÜÂÜÖÂÆπÂä†ÈîÅÔºâÔºåÁ¨¨‰∏â‰∏™ÂèÇÊï∞ÂÄºÊåáÂÆöÊòØÂê¶ÊòØÂÖ±‰∫´ÈîÅ„ÄÇ tryLock() //ÂØπÊï¥‰∏™Êñá‰ª∂Âä†ÈîÅÔºåÈªòËÆ§‰∏∫ÊéíÂÆÉÈîÅ„ÄÇ tryLock(long position, long size, booean shared) //Ëá™ÂÆö‰πâÂä†ÈîÅÊñπÂºè„ÄÇ Â¶ÇÊûúÊåáÂÆö‰∏∫ÂÖ±‰∫´ÈîÅÔºåÂàôÂÖ∂ÂÆÉËøõÁ®ãÂèØËØªÊ≠§Êñá‰ª∂ÔºåÊâÄÊúâËøõÁ®ãÂùá‰∏çËÉΩÂÜôÊ≠§Êñá‰ª∂ÔºåÂ¶ÇÊûúÊüêËøõÁ®ãËØïÂõæÂØπÊ≠§Êñá‰ª∂ËøõË°åÂÜôÊìç‰ΩúÔºå‰ºöÊäõÂá∫ÂºÇÂ∏∏„ÄÇ 5„ÄÅlocklock‰∏étryLocktryLockÁöÑÂå∫Âà´ lockÊòØÈòªÂ°ûÂºèÁöÑÔºåÂ¶ÇÊûúÊú™Ëé∑ÂèñÂà∞Êñá‰ª∂ÈîÅÔºå‰ºö‰∏ÄÁõ¥ÈòªÂ°ûÂΩìÂâçÁ∫øÁ®ãÔºåÁõ¥Âà∞Ëé∑ÂèñÊñá‰ª∂ÈîÅ tryLockÂíålockÁöÑ‰ΩúÁî®Áõ∏ÂêåÔºåÂè™‰∏çËøátryLockÊòØÈùûÈòªÂ°ûÂºèÁöÑÔºåtryLockÊòØÂ∞ùËØïËé∑ÂèñÊñá‰ª∂ÈîÅÔºåËé∑ÂèñÊàêÂäüÂ∞±ËøîÂõûÈîÅÂØπË±°ÔºåÂê¶ÂàôËøîÂõûnullÔºå‰∏ç‰ºöÈòªÂ°ûÂΩìÂâçÁ∫øÁ®ã„ÄÇ 6„ÄÅFileLock‰∏§‰∏™ÊñπÊ≥ïÔºö boolean isShared() //Ê≠§Êñá‰ª∂ÈîÅÊòØÂê¶ÊòØÂÖ±‰∫´ÈîÅ boolean isValid() //Ê≠§Êñá‰ª∂ÈîÅÊòØÂê¶ËøòÊúâÊïà Âú®Êüê‰∫õOS‰∏äÔºåÂØπÊüê‰∏™Êñá‰ª∂Âä†ÈîÅÂêéÔºå‰∏çËÉΩÂØπÊ≠§Êñá‰ª∂‰ΩøÁî®ÈÄöÈÅìÊò†Â∞Ñ„ÄÇ 7„ÄÅÂÆåÊï¥‰æãÂ≠ê 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950import java.io.BufferedReader;import java.io.FileReader;import java.io.IOException;import java.nio.ByteBuffer;import java.nio.channels.FileChannel;import java.nio.channels.FileLock;import java.nio.file.Path;import java.nio.file.Paths;import java.nio.file.StandardOpenOption;public class FileLockDemo { public static void main(String[] args) throws IOException { String input = &quot;atguigu&quot;; System.out.println(&quot;ËæìÂÖ• :&quot; + input); ByteBuffer buf = ByteBuffer.wrap(input.getBytes()); String fp = &quot;D:\\\\atguigu\\\\01.txt&quot;; Path pt = Paths.get(fp); FileChannel channel = FileChannel.open(pt, StandardOpenOption.WRITE, StandardOpenOption.APPEND); channel.position(channel.size() - 1); // position of a cursor at the end of file // Ëé∑ÂæóÈîÅÊñπÊ≥ï‰∏ÄÔºölock()ÔºåÈòªÂ°ûÊñπÊ≥ïÔºåÂΩìÊñá‰ª∂ÈîÅ‰∏çÂèØÁî®Êó∂ÔºåÂΩìÂâçËøõÁ®ã‰ºöË¢´ÊåÇËµ∑// lock = channel.lock(); // Êó†ÂèÇlock()‰∏∫Áã¨Âç†ÈîÅ// lock = channel.lock(0L, Long.MAX_VALUE, true); //ÊúâÂèÇlock()‰∏∫ÂÖ±‰∫´ÈîÅÔºåÊúâÂÜôÊìç‰Ωú‰ºöÊä•ÂºÇÂ∏∏ // Ëé∑ÂæóÈîÅÊñπÊ≥ï‰∫åÔºötrylock()ÔºåÈùûÈòªÂ°ûÁöÑÊñπÊ≥ïÔºåÂΩìÊñá‰ª∂ÈîÅ‰∏çÂèØÁî®Êó∂ÔºåtryLock()‰ºöÂæóÂà∞nullÂÄº FileLock lock = channel.tryLock(0, Long.MAX_VALUE, false); System.out.println(&quot;ÂÖ±‰∫´ÈîÅshared: &quot; + lock.isShared()); channel.write(buf); channel.close(); // Releases the Lock System.out.println(&quot;ÂÜôÊìç‰ΩúÂÆåÊàê.&quot;); //ËØªÂèñÊï∞ÊçÆ readPrint(fp); } public static void readPrint(String path) throws IOException { FileReader filereader = new FileReader(path); BufferedReader bufferedreader = new BufferedReader(filereader); String tr = bufferedreader.readLine(); System.out.println(&quot;ËØªÂèñÂÜÖÂÆπ: &quot;); while (tr != null) { System.out.println(&quot; &quot; + tr); tr = bufferedreader.readLine(); } filereader.close(); bufferedreader.close(); }} Path 1„ÄÅ Path ÁÆÄ‰ªã Java PathÊé•Âè£ÊòØJava NIOÊõ¥Êñ∞ÁöÑ‰∏ÄÈÉ®ÂàÜÔºåÂêåJava NIO‰∏ÄËµ∑Â∑≤ÁªèÂåÖÊã¨Âú®Java6ÂíåJava7‰∏≠„ÄÇJava PathÊé•Âè£ÊòØÂú®Java7‰∏≠Ê∑ªÂä†Âà∞Java NIOÁöÑ„ÄÇPathÊé•Âè£‰Ωç‰∫éjava.nio.fileÂåÖ‰∏≠ÔºåÊâÄ‰ª•PathÊé•Âè£ÁöÑÂÆåÂÖ®ÈôêÂÆöÂêçÁß∞‰∏∫java.nio.file.Path„ÄÇ Java PathÂÆû‰æãË°®Á§∫Êñá‰ª∂Á≥ªÁªü‰∏≠ÁöÑË∑ØÂæÑ„ÄÇ‰∏Ä‰∏™Ë∑ØÂæÑÂèØ‰ª•ÊåáÂêë‰∏Ä‰∏™Êñá‰ª∂Êàñ‰∏Ä‰∏™ÁõÆÂΩï„ÄÇË∑ØÂæÑÂèØ‰ª•ÊòØÁªùÂØπË∑ØÂæÑÔºå‰πüÂèØ‰ª•ÊòØÁõ∏ÂØπË∑ØÂæÑ„ÄÇÁªùÂØπË∑ØÂæÑÂåÖÂê´‰ªéÊñá‰ª∂Á≥ªÁªüÁöÑÊ†πÁõÆÂΩïÂà∞ÂÆÉÊåáÂêëÁöÑÊñá‰ª∂ÊàñÁõÆÂΩïÁöÑÂÆåÊï¥Ë∑ØÂæÑ„ÄÇÁõ∏ÂØπË∑ØÂæÑÂåÖÂê´Áõ∏ÂØπ‰∫éÂÖ∂‰ªñË∑ØÂæÑÁöÑÊñá‰ª∂ÊàñÁõÆÂΩïÁöÑË∑ØÂæÑ„ÄÇ Âú®ËÆ∏Â§öÊñπÈù¢Ôºåjava.nio.file.PathÊé•Âè£Á±ª‰ºº‰∫éjava.io.FileÁ±ªÔºå‰ΩÜÊòØÊúâ‰∏Ä‰∫õÂ∑ÆÂà´„ÄÇ‰∏çËøáÔºåÂú®ËÆ∏Â§öÊÉÖÂÜµ‰∏ãÔºåÂèØ‰ª•‰ΩøÁî®PathÊé•Âè£Êù•ÊõøÊç¢FileÁ±ªÁöÑ‰ΩøÁî®„ÄÇ 2„ÄÅÂàõÂª∫PathÂÆû‰æã ‰ΩøÁî®java.nio.file.PathÂÆû‰æãÂøÖÈ°ªÂàõÂª∫‰∏Ä‰∏™PathÂÆû‰æã„ÄÇÂèØ‰ª•‰ΩøÁî®PathsÁ±ª(java.nio.file.Paths)‰∏≠ÁöÑÈùôÊÄÅÊñπÊ≥ïPaths.get()Êù•ÂàõÂª∫Ë∑ØÂæÑÂÆû‰æã„ÄÇ Á§∫‰æã‰ª£Á†Å: 12345678import java.nio.file.Path;import java.nio.file.Paths;public class PathDemo { public static void main(String[] args) { Path path = Paths.get(&quot;d:\\\\atguigu\\\\001.txt&quot;); }} ‰∏äËø∞‰ª£Á†ÅÔºåÂèØ‰ª•ÁêÜËß£‰∏∫ÔºåPaths.get()ÊñπÊ≥ïÊòØPathÂÆû‰æãÁöÑÂ∑•ÂéÇÊñπÊ≥ï„ÄÇ 3„ÄÅÂàõÂª∫ÁªùÂØπË∑ØÂæÑ Ôºà1ÔºâÂàõÂª∫ÁªùÂØπË∑ØÂæÑÔºåÈÄöËøáË∞ÉÁî®Paths.get()ÊñπÊ≥ïÔºåÁªôÂÆöÁªùÂØπË∑ØÂæÑÊñá‰ª∂‰Ωú‰∏∫ÂèÇÊï∞Êù•ÂÆåÊàê„ÄÇ Á§∫‰æã‰ª£Á†ÅÔºö Path path = Paths.get(&quot;d:\\atguigu\\001.txt&quot;); ‰∏äËø∞‰ª£Á†Å‰∏≠ÔºåÁªùÂØπË∑ØÂæÑÊòØd:\\atguigu\\001.txt„ÄÇÂú®JavaÂ≠óÁ¨¶‰∏≤‰∏≠Ôºå \\ÊòØ‰∏Ä‰∏™ËΩ¨‰πâÂ≠óÁ¨¶ÔºåÈúÄË¶ÅÁºñÂÜô\\ÔºåÂëäËØâJavaÁºñËØëÂô®Âú®Â≠óÁ¨¶‰∏≤‰∏≠ÂÜôÂÖ•‰∏Ä‰∏™\\Â≠óÁ¨¶„ÄÇ Ôºà2ÔºâÂ¶ÇÊûúÂú®Linux„ÄÅMacOSÁ≠âÊìç‰ΩúÂ≠ó‰Ωì‰∏äÔºå‰∏äÈù¢ÁöÑÁªùÂØπË∑ØÂæÑÂèØËÉΩÂ¶Ç‰∏ã: Path path = Paths.get(&quot;/home/jakobjenkov/myfile.txt&quot;); ÁªùÂØπË∑ØÂæÑÁé∞Âú®‰∏∫/home/jakobjenkov/myfile.txt. Ôºà3ÔºâÂ¶ÇÊûúÂú®WindowsÊú∫Âô®‰∏ä‰ΩøÁî®‰∫Ü‰ªé/ÂºÄÂßãÁöÑË∑ØÂæÑÔºåÈÇ£‰πàË∑ØÂæÑÂ∞ÜË¢´Ëß£Èáä‰∏∫Áõ∏ÂØπ‰∫éÂΩìÂâçÈ©±Âä®Âô®„ÄÇ 4„ÄÅÂàõÂª∫Áõ∏ÂØπË∑ØÂæÑ Java NIO PathÁ±ª‰πüÂèØ‰ª•Áî®‰∫éÂ§ÑÁêÜÁõ∏ÂØπË∑ØÂæÑ„ÄÇÊÇ®ÂèØ‰ª•‰ΩøÁî®Paths.get(basePath, relativePath)ÊñπÊ≥ïÂàõÂª∫‰∏Ä‰∏™Áõ∏ÂØπË∑ØÂæÑ„ÄÇ Á§∫‰æã‰ª£Á†Å: //‰ª£Á†Å1 Path projects = Paths.get(&quot;d:\\atguigu&quot;, &quot;projects&quot;); //‰ª£Á†Å2 Path file = Paths.get(&quot;d:\\atguigu&quot;, &quot;projects\\002.txt&quot;); ‰ª£Á†Å1ÂàõÂª∫‰∫Ü‰∏Ä‰∏™Java PathÁöÑÂÆû‰æãÔºåÊåáÂêëË∑ØÂæÑ(ÁõÆÂΩï):d:\\atguigu\\projects ‰ª£Á†Å2ÂàõÂª∫‰∫Ü‰∏Ä‰∏™PathÁöÑÂÆû‰æãÔºåÊåáÂêëË∑ØÂæÑ(Êñá‰ª∂):d:\\atguigu\\projects\\002.txt 5„ÄÅPath.normalize() PathÊé•Âè£ÁöÑnormalize()ÊñπÊ≥ïÂèØ‰ª•‰ΩøË∑ØÂæÑÊ†áÂáÜÂåñ„ÄÇÊ†áÂáÜÂåñÊÑèÂë≥ÁùÄÂÆÉÂ∞ÜÁßªÈô§ÊâÄÊúâÂú®Ë∑ØÂæÑÂ≠óÁ¨¶‰∏≤ÁöÑ‰∏≠Èó¥ÁöÑ.Âíå..‰ª£Á†ÅÔºåÂπ∂Ëß£ÊûêË∑ØÂæÑÂ≠óÁ¨¶‰∏≤ÊâÄÂºïÁî®ÁöÑË∑ØÂæÑ„ÄÇ Path.normalize()Á§∫‰æã: String originalPath = &quot;d:\\atguigu\\projects\\..\\yygh-project&quot;; Path path1 = Paths.get(originalPath); System.out.println(&quot;path1 = &quot; + path1); Path path2 = path1.normalize(); System.out.println(&quot;path2 = &quot; + path2); ËæìÂá∫ÁªìÊûúÔºöÊ†áÂáÜÂåñÁöÑË∑ØÂæÑ‰∏çÂåÖÂê´projects..ÈÉ®ÂàÜ Files Java NIO FilesÁ±ª(java.nio.file.Files)Êèê‰æõ‰∫ÜÂá†ÁßçÊìç‰ΩúÊñá‰ª∂Á≥ªÁªü‰∏≠ÁöÑÊñá‰ª∂ÁöÑÊñπÊ≥ï„ÄÇ‰ª•‰∏ãÂÜÖÂÆπ‰ªãÁªçJava NIO FilesÊúÄÂ∏∏Áî®ÁöÑ‰∏Ä‰∫õÊñπÊ≥ï„ÄÇjava.nio.file.FilesÁ±ª‰∏éjava.nio.file.PathÂÆû‰æã‰∏ÄËµ∑Â∑•‰ΩúÔºåÂõ†Ê≠§Âú®Â≠¶‰π†FilesÁ±ª‰πãÂâçÔºåÈúÄË¶ÅÂÖà‰∫ÜËß£PathÁ±ª„ÄÇ 1„ÄÅ Files.createDirectory() Files.createDirectory()ÊñπÊ≥ïÔºåÁî®‰∫éÊ†πÊçÆPathÂÆû‰æãÂàõÂª∫‰∏Ä‰∏™Êñ∞ÁõÆÂΩï Á§∫‰æãÔºö Path path = Paths.get(&quot;d:\\sgg&quot;); try { Path newDir = Files.createDirectory(path); } catch(FileAlreadyExistsException e){ // ÁõÆÂΩïÂ∑≤ÁªèÂ≠òÂú® } catch (IOException e) { // ÂÖ∂‰ªñÂèëÁîüÁöÑÂºÇÂ∏∏ e.printStackTrace(); } Á¨¨‰∏ÄË°åÂàõÂª∫Ë°®Á§∫Ë¶ÅÂàõÂª∫ÁöÑÁõÆÂΩïÁöÑPathÂÆû‰æã„ÄÇÂú®try-catchÂùó‰∏≠ÔºåÁî®Ë∑ØÂæÑ‰Ωú‰∏∫ÂèÇÊï∞Ë∞ÉÁî®Files.createDirectory()ÊñπÊ≥ï„ÄÇÂ¶ÇÊûúÂàõÂª∫ÁõÆÂΩïÊàêÂäüÔºåÂ∞ÜËøîÂõû‰∏Ä‰∏™PathÂÆû‰æãÔºåËØ•ÂÆû‰æãÊåáÂêëÊñ∞ÂàõÂª∫ÁöÑË∑ØÂæÑ„ÄÇ Â¶ÇÊûúËØ•ÁõÆÂΩïÂ∑≤ÁªèÂ≠òÂú®ÔºåÂàôÊòØÊäõÂá∫‰∏Ä‰∏™java.nio.file.FileAlreadyExistsException„ÄÇÂ¶ÇÊûúÂá∫Áé∞ÂÖ∂‰ªñÈîôËØØÔºåÂèØËÉΩ‰ºöÊäõÂá∫IOException„ÄÇ‰æãÂ¶ÇÔºåÂ¶ÇÊûúÊÉ≥Ë¶ÅÁöÑÊñ∞ÁõÆÂΩïÁöÑÁà∂ÁõÆÂΩï‰∏çÂ≠òÂú®ÔºåÂàôÂèØËÉΩ‰ºöÊäõÂá∫IOException„ÄÇ 2„ÄÅFiles.copy() Ôºà1ÔºâFiles.copy()ÊñπÊ≥ï‰ªé‰∏Ä‰∏™Ë∑ØÂæÑÊã∑Ë¥ù‰∏Ä‰∏™Êñá‰ª∂Âà∞Âè¶Â§ñ‰∏Ä‰∏™ÁõÆÂΩï Á§∫‰æãÔºö Path sourcePath = Paths.get(&quot;d:\\atguigu\\01.txt&quot;); Path destinationPath = Paths.get(&quot;d:\\atguigu\\002.txt&quot;); try { Files.copy(sourcePath, destinationPath); } catch(FileAlreadyExistsException e) { // ÁõÆÂΩïÂ∑≤ÁªèÂ≠òÂú® } catch (IOException e) { // ÂÖ∂‰ªñÂèëÁîüÁöÑÂºÇÂ∏∏ e.printStackTrace(); } È¶ñÂÖàÔºåËØ•Á§∫‰æãÂàõÂª∫‰∏§‰∏™PathÂÆû‰æã„ÄÇÁÑ∂ÂêéÔºåËøô‰∏™‰æãÂ≠êË∞ÉÁî®Files.copy()ÔºåÂ∞Ü‰∏§‰∏™PathÂÆû‰æã‰Ωú‰∏∫ÂèÇÊï∞‰º†ÈÄí„ÄÇËøôÂèØ‰ª•ËÆ©Ê∫êË∑ØÂæÑÂºïÁî®ÁöÑÊñá‰ª∂Ë¢´Â§çÂà∂Âà∞ÁõÆÊ†áË∑ØÂæÑÂºïÁî®ÁöÑÊñá‰ª∂‰∏≠„ÄÇ Â¶ÇÊûúÁõÆÊ†áÊñá‰ª∂Â∑≤ÁªèÂ≠òÂú®ÔºåÂàôÊäõÂá∫‰∏Ä‰∏™java.nio.file.FileAlreadyExistsExceptionÂºÇÂ∏∏„ÄÇÂ¶ÇÊûúÊúâÂÖ∂‰ªñÈîôËØØÔºåÂàô‰ºöÊäõÂá∫‰∏Ä‰∏™IOException„ÄÇ‰æãÂ¶ÇÔºåÂ¶ÇÊûúÂ∞ÜËØ•Êñá‰ª∂Â§çÂà∂Âà∞‰∏çÂ≠òÂú®ÁöÑÁõÆÂΩïÔºåÂàô‰ºöÊäõÂá∫IOException„ÄÇ Ôºà2ÔºâË¶ÜÁõñÂ∑≤Â≠òÂú®ÁöÑÊñá‰ª∂ Files.copy()ÊñπÊ≥ïÁöÑÁ¨¨‰∏â‰∏™ÂèÇÊï∞„ÄÇÂ¶ÇÊûúÁõÆÊ†áÊñá‰ª∂Â∑≤ÁªèÂ≠òÂú®ÔºåËøô‰∏™ÂèÇÊï∞ÊåáÁ§∫copy()ÊñπÊ≥ïË¶ÜÁõñÁé∞ÊúâÁöÑÊñá‰ª∂„ÄÇ Files.copy(sourcePath, destinationPath, StandardCopyOption.REPLACE_EXISTING); 3„ÄÅFiles.move() Files.move()Áî®‰∫éÂ∞ÜÊñá‰ª∂‰ªé‰∏Ä‰∏™Ë∑ØÂæÑÁßªÂä®Âà∞Âè¶‰∏Ä‰∏™Ë∑ØÂæÑ„ÄÇÁßªÂä®Êñá‰ª∂‰∏éÈáçÂëΩÂêçÁõ∏ÂêåÔºå‰ΩÜÊòØÁßªÂä®Êñá‰ª∂Êó¢ÂèØ‰ª•ÁßªÂä®Âà∞‰∏çÂêåÁöÑÁõÆÂΩïÔºå‰πüÂèØ‰ª•Âú®Áõ∏ÂêåÁöÑÊìç‰Ωú‰∏≠Êõ¥ÊîπÂÆÉÁöÑÂêçÁß∞„ÄÇ Á§∫‰æãÔºö Path sourcePath = Paths.get(&quot;d:\\atguigu\\01.txt&quot;); Path destinationPath = Paths.get(&quot;d:\\atguigu\\001.txt&quot;); try { Files.move(sourcePath, destinationPath, StandardCopyOption.REPLACE_EXISTING); } catch (IOException e) { //ÁßªÂä®Êñá‰ª∂Â§±Ë¥• e.printStackTrace(); } Files.move()ÁöÑÁ¨¨‰∏â‰∏™ÂèÇÊï∞„ÄÇËøô‰∏™ÂèÇÊï∞ÂëäËØâFiles.move()ÊñπÊ≥ïÊù•Ë¶ÜÁõñÁõÆÊ†áË∑ØÂæÑ‰∏äÁöÑ‰ªª‰ΩïÁé∞ÊúâÊñá‰ª∂„ÄÇ 4„ÄÅFiles.delete() Files.delete()ÊñπÊ≥ïÂèØ‰ª•Âà†Èô§‰∏Ä‰∏™Êñá‰ª∂ÊàñËÄÖÁõÆÂΩï„ÄÇ Á§∫‰æãÔºö Path path = Paths.get(&quot;d:\\atguigu\\001.txt&quot;); try { Files.delete(path); } catch (IOException e) { // Âà†Èô§Êñá‰ª∂Â§±Ë¥• e.printStackTrace(); } ÂàõÂª∫ÊåáÂêëË¶ÅÂà†Èô§ÁöÑÊñá‰ª∂ÁöÑPath„ÄÇÁÑ∂ÂêéË∞ÉÁî®Files.delete()ÊñπÊ≥ï„ÄÇÂ¶ÇÊûúFiles.delete()‰∏çËÉΩÂà†Èô§Êñá‰ª∂(‰æãÂ¶ÇÔºåÊñá‰ª∂ÊàñÁõÆÂΩï‰∏çÂ≠òÂú®)Ôºå‰ºöÊäõÂá∫‰∏Ä‰∏™IOException„ÄÇ 5.Files.walkFileTree() Ôºà1ÔºâFiles.walkFileTree()ÊñπÊ≥ïÂåÖÂê´ÈÄíÂΩíÈÅçÂéÜÁõÆÂΩïÊ†ëÂäüËÉΩÔºåÂ∞ÜPathÂÆû‰æãÂíåFileVisitor‰Ωú‰∏∫ÂèÇÊï∞„ÄÇPathÂÆû‰æãÊåáÂêëË¶ÅÈÅçÂéÜÁöÑÁõÆÂΩïÔºåFileVisitorÂú®ÈÅçÂéÜÊúüÈó¥Ë¢´Ë∞ÉÁî®„ÄÇ Ôºà2ÔºâFileVisitorÊòØ‰∏Ä‰∏™Êé•Âè£ÔºåÂøÖÈ°ªËá™Â∑±ÂÆûÁé∞FileVisitorÊé•Âè£ÔºåÂπ∂Â∞ÜÂÆûÁé∞ÁöÑÂÆû‰æã‰º†ÈÄíÁªôwalkFileTree()ÊñπÊ≥ï„ÄÇÂú®ÁõÆÂΩïÈÅçÂéÜËøáÁ®ã‰∏≠ÔºåÊÇ®ÁöÑFileVisitorÂÆûÁé∞ÁöÑÊØè‰∏™ÊñπÊ≥ïÈÉΩÂ∞ÜË¢´Ë∞ÉÁî®„ÄÇÂ¶ÇÊûú‰∏çÈúÄË¶ÅÂÆûÁé∞ÊâÄÊúâËøô‰∫õÊñπÊ≥ïÔºåÈÇ£‰πàÂèØ‰ª•Êâ©Â±ïSimpleFileVisitorÁ±ªÔºåÂÆÉÂåÖÂê´FileVisitorÊé•Âè£‰∏≠ÊâÄÊúâÊñπÊ≥ïÁöÑÈªòËÆ§ÂÆûÁé∞„ÄÇ Ôºà3ÔºâFileVisitorÊé•Âè£ÁöÑÊñπÊ≥ï‰∏≠ÔºåÊØè‰∏™ÈÉΩËøîÂõû‰∏Ä‰∏™FileVisitResultÊûö‰∏æÂÆû‰æã„ÄÇFileVisitResultÊûö‰∏æÂåÖÂê´‰ª•‰∏ãÂõõ‰∏™ÈÄâÈ°π: CONTINUE ÁªßÁª≠ TERMINATE ÁªàÊ≠¢ SKIP_SIBLING Ë∑≥ËøáÂêåÁ∫ß SKIP_SUBTREE Ë∑≥ËøáÂ≠êÁ∫ß Ôºà4ÔºâÊü•Êâæ‰∏Ä‰∏™Âêç‰∏∫001.txtÁöÑÊñá‰ª∂Á§∫‰æãÔºö Path rootPath = Paths.get(&quot;d:\\atguigu&quot;); String fileToFind = File.separator + &quot;001.txt&quot;; try { Files.walkFileTree(rootPath, new SimpleFileVisitor() { @Override public FileVisitResult visitFile(Path file, BasicFileAttributes attrs) throws IOException { String fileString = file.toAbsolutePath().toString(); //System.out.println(&quot;pathString = &quot; + fileString); if(fileString.endsWith(fileToFind)){ System.out.println(&quot;file found at path: &quot; + file.toAbsolutePath()); return FileVisitResult.TERMINATE; } return FileVisitResult.CONTINUE; } }); } catch(IOException e){ e.printStackTrace(); } Ôºà5Ôºâjava.nio.file.FilesÁ±ªÂåÖÂê´ËÆ∏Â§öÂÖ∂‰ªñÁöÑÂáΩÊï∞ÔºåÊúâÂÖ≥Ëøô‰∫õÊñπÊ≥ïÁöÑÊõ¥Â§ö‰ø°ÊÅØÔºåËØ∑Êü•Áúãjava.nio.file.FilesÁ±ªÁöÑJavaDoc„ÄÇ AsynchronousFileChannel Âú®Java 7‰∏≠ÔºåJava NIO‰∏≠Ê∑ªÂä†‰∫ÜAsynchronousFileChannelÔºå‰πüÂ∞±ÊòØÊòØÂºÇÊ≠•Âú∞Â∞ÜÊï∞ÊçÆÂÜôÂÖ•Êñá‰ª∂„ÄÇ 1„ÄÅÂàõÂª∫ AsynchronousFileChannel ÈÄöËøáÈùôÊÄÅÊñπÊ≥ïopen()ÂàõÂª∫ Á§∫‰æãÔºö Path path = Paths.get(&quot;d:\\atguigu\\01.txt&quot;); try { AsynchronousFileChannel fileChannel = AsynchronousFileChannel.open(path, StandardOpenOption.READ); } catch (IOException e) { e.printStackTrace(); } open()ÊñπÊ≥ïÁöÑÁ¨¨‰∏Ä‰∏™ÂèÇÊï∞ÊåáÂêë‰∏éAsynchronousFileChannelÁõ∏ÂÖ≥ËÅîÊñá‰ª∂ÁöÑPathÂÆû‰æã„ÄÇ Á¨¨‰∫å‰∏™ÂèÇÊï∞ÊòØ‰∏Ä‰∏™ÊàñÂ§ö‰∏™ÊâìÂºÄÈÄâÈ°πÔºåÂÆÉÂëäËØâAsynchronousFileChannelÂú®Êñá‰ª∂‰∏äÊâßË°å‰ªÄ‰πàÊìç‰Ωú„ÄÇÂú®Êú¨‰æã‰∏≠ÔºåÊàë‰ª¨‰ΩøÁî®‰∫ÜStandardOpenOption.READÈÄâÈ°πÔºåË°®Á§∫ËØ•Êñá‰ª∂Â∞ÜË¢´ÊâìÂºÄÈòÖËØª„ÄÇ 2„ÄÅÈÄöËøáFutureËØªÂèñÊï∞ÊçÆ ÂèØ‰ª•ÈÄöËøá‰∏§ÁßçÊñπÂºè‰ªéAsynchronousFileChannelËØªÂèñÊï∞ÊçÆ„ÄÇÁ¨¨‰∏ÄÁßçÊñπÂºèÊòØË∞ÉÁî®ËøîÂõûFutureÁöÑread()ÊñπÊ≥ï Á§∫‰æãÔºö Path path = Paths.get(&quot;d:\\atguigu\\001.txt&quot;); AsynchronousFileChannel fileChannel = null; try { fileChannel = AsynchronousFileChannel.open(path, StandardOpenOption.READ); } catch (IOException e) { e.printStackTrace(); } ByteBuffer buffer = ByteBuffer.allocate(1024); long position = 0; Future operation = fileChannel.read(buffer, position); while(!operation.isDone()); buffer.flip(); byte[] data = new byte[buffer.limit()]; buffer.get(data); System.out.println(new String(data)); buffer.clear(); ‰∏äËø∞‰ª£Á†ÅÔºö Ôºà1ÔºâÂàõÂª∫‰∫Ü‰∏Ä‰∏™AsynchronousFileChannelÔºå Ôºà2ÔºâÂàõÂª∫‰∏Ä‰∏™ByteBufferÔºåÂÆÉË¢´‰º†ÈÄíÁªôread()ÊñπÊ≥ï‰Ωú‰∏∫ÂèÇÊï∞Ôºå‰ª•Âèä‰∏Ä‰∏™0ÁöÑ‰ΩçÁΩÆ„ÄÇ Ôºà3ÔºâÂú®Ë∞ÉÁî®read()‰πãÂêéÔºåÂæ™ÁéØÔºåÁõ¥Âà∞ËøîÂõûÁöÑisDone()ÊñπÊ≥ïËøîÂõûtrue„ÄÇ Ôºà4ÔºâËØªÂèñÊìç‰ΩúÂÆåÊàêÂêéÔºåÊï∞ÊçÆËØªÂèñÂà∞ByteBuffer‰∏≠ÔºåÁÑ∂ÂêéÊâìÂç∞Âà∞System.out‰∏≠„ÄÇ 3„ÄÅÈÄöËøáCompletionHandlerËØªÂèñÊï∞ÊçÆ Á¨¨‰∫åÁßçÊñπÊ≥ïÊòØË∞ÉÁî®read()ÊñπÊ≥ïÔºåËØ•ÊñπÊ≥ïÂ∞Ü‰∏Ä‰∏™CompletionHandler‰Ωú‰∏∫ÂèÇÊï∞ Á§∫‰æãÔºö Path path = Paths.get(&quot;d:\\atguigu\\001.txt&quot;); AsynchronousFileChannel fileChannel = null; try { fileChannel = AsynchronousFileChannel.open(path, StandardOpenOption.READ); } catch (IOException e) { e.printStackTrace(); } ByteBuffer buffer = ByteBuffer.allocate(1024); long position = 0; fileChannel.read(buffer, position, buffer, new CompletionHandler&lt;Integer, ByteBuffer&gt;() { @Override public void completed(Integer result, ByteBuffer attachment) { System.out.println(&quot;result = &quot; + result); attachment.flip(); byte[] data = new byte[attachment.limit()]; attachment.get(data); System.out.println(new String(data)); attachment.clear(); } @Override public void failed(Throwable exc, ByteBuffer attachment) { } }); Ôºà1ÔºâËØªÂèñÊìç‰ΩúÂÆåÊàêÔºåÂ∞ÜË∞ÉÁî®CompletionHandlerÁöÑcompleted()ÊñπÊ≥ï„ÄÇ Ôºà2ÔºâÂØπ‰∫écompleted()ÊñπÊ≥ïÁöÑÂèÇÊï∞‰º†ÈÄí‰∏Ä‰∏™Êï¥Êï∞ÔºåÂÆÉÂëäËØâÊàë‰ª¨ËØªÂèñ‰∫ÜÂ§öÂ∞ëÂ≠óËäÇÔºå‰ª•Âèä‰º†ÈÄíÁªôread()ÊñπÊ≥ïÁöÑ‚ÄúÈôÑ‰ª∂‚Äù„ÄÇ‚ÄúÈôÑ‰ª∂‚ÄùÊòØread()ÊñπÊ≥ïÁöÑÁ¨¨‰∏â‰∏™ÂèÇÊï∞„ÄÇÂú®Êú¨‰ª£Á†Å‰∏≠ÔºåÂÆÉÊòØByteBufferÔºåÊï∞ÊçÆ‰πüË¢´ËØªÂèñ„ÄÇ Ôºà3ÔºâÂ¶ÇÊûúËØªÂèñÊìç‰ΩúÂ§±Ë¥•ÔºåÂàôÂ∞ÜË∞ÉÁî®CompletionHandlerÁöÑfailed()ÊñπÊ≥ï„ÄÇ 4„ÄÅÈÄöËøáFutureÂÜôÊï∞ÊçÆ ÂíåËØªÂèñ‰∏ÄÊ†∑ÔºåÂèØ‰ª•ÈÄöËøá‰∏§ÁßçÊñπÂºèÂ∞ÜÊï∞ÊçÆÂÜôÂÖ•‰∏Ä‰∏™AsynchronousFileChannel Á§∫‰æãÔºö Path path = Paths.get(&quot;d:\\atguigu\\001.txt&quot;); AsynchronousFileChannel fileChannel = null; try { fileChannel = AsynchronousFileChannel.open(path, StandardOpenOption.WRITE); } catch (IOException e) { e.printStackTrace(); } ByteBuffer buffer = ByteBuffer.allocate(1024); long position = 0; buffer.put(&quot;atguigu data&quot;.getBytes()); buffer.flip(); Future operation = fileChannel.write(buffer, position); buffer.clear(); while(!operation.isDone()); System.out.println(&quot;Write over&quot;); È¶ñÂÖàÔºåAsynchronousFileChannel‰ª•ÂÜôÊ®°ÂºèÊâìÂºÄ„ÄÇÁÑ∂ÂêéÂàõÂª∫‰∏Ä‰∏™ByteBufferÔºåÂπ∂Â∞Ü‰∏Ä‰∫õÊï∞ÊçÆÂÜôÂÖ•ÂÖ∂‰∏≠„ÄÇÁÑ∂ÂêéÔºåByteBuffer‰∏≠ÁöÑÊï∞ÊçÆË¢´ÂÜôÂÖ•Âà∞Êñá‰ª∂‰∏≠„ÄÇÊúÄÂêéÔºåÁ§∫‰æãÊ£ÄÊü•ËøîÂõûÁöÑFutureÔºå‰ª•Êü•ÁúãÂÜôÊìç‰ΩúÂÆåÊàêÊó∂ÁöÑÊÉÖÂÜµ„ÄÇ Ê≥®ÊÑèÔºåÊñá‰ª∂ÂøÖÈ°ªÂ∑≤ÁªèÂ≠òÂú®„ÄÇÂ¶ÇÊûúËØ•Êñá‰ª∂‰∏çÂ≠òÂú®ÔºåÈÇ£‰πàwrite()ÊñπÊ≥ïÂ∞ÜÊäõÂá∫‰∏Ä‰∏™java.nio.file.NoSuchFileException„ÄÇ 5„ÄÅÈÄöËøáCompletionHandlerÂÜôÊï∞ÊçÆ Á§∫‰æãÔºö Path path = Paths.get(&quot;d:\\atguigu\\001.txt&quot;); if(!Files.exists(path)){ try { Files.createFile(path); } catch (IOException e) { e.printStackTrace(); } } AsynchronousFileChannel fileChannel = null; try { fileChannel = AsynchronousFileChannel.open(path, StandardOpenOption.WRITE); } catch (IOException e) { e.printStackTrace(); } ByteBuffer buffer = ByteBuffer.allocate(1024); long position = 0; buffer.put(&quot;atguigu data&quot;.getBytes()); buffer.flip(); fileChannel.write(buffer, position, buffer, new CompletionHandler&lt;Integer, ByteBuffer&gt;() { @Override public void completed(Integer result, ByteBuffer attachment) { System.out.println(&quot;bytes written: &quot; + result); } @Override public void failed(Throwable exc, ByteBuffer attachment) { System.out.println(&quot;Write failed&quot;); exc.printStackTrace(); } }); ÂΩìÂÜôÊìç‰ΩúÂÆåÊàêÊó∂ÔºåÂ∞Ü‰ºöË∞ÉÁî®CompletionHandlerÁöÑcompleted()ÊñπÊ≥ï„ÄÇÂ¶ÇÊûúÂÜôÂ§±Ë¥•ÔºåÂàô‰ºöË∞ÉÁî®failed()ÊñπÊ≥ï„ÄÇ Â≠óÁ¨¶ÈõÜÔºàCharsetÔºâ java‰∏≠‰ΩøÁî®CharsetÊù•Ë°®Á§∫Â≠óÁ¨¶ÈõÜÁºñÁ†ÅÂØπË±° CharsetÂ∏∏Áî®ÈùôÊÄÅÊñπÊ≥ï public static Charset forName(String charsetName)//ÈÄöËøáÁºñÁ†ÅÁ±ªÂûãËé∑ÂæóCharsetÂØπË±° public static SortedMap&lt;String,Charset&gt; availableCharsets()//Ëé∑ÂæóÁ≥ªÁªüÊîØÊåÅÁöÑÊâÄÊúâÁºñÁ†ÅÊñπÂºè public static Charset defaultCharset()//Ëé∑ÂæóËôöÊãüÊú∫ÈªòËÆ§ÁöÑÁºñÁ†ÅÊñπÂºè public static boolean isSupported(String charsetName)//Âà§Êñ≠ÊòØÂê¶ÊîØÊåÅËØ•ÁºñÁ†ÅÁ±ªÂûã CharsetÂ∏∏Áî®ÊôÆÈÄöÊñπÊ≥ï public final String name()//Ëé∑ÂæóCharsetÂØπË±°ÁöÑÁºñÁ†ÅÁ±ªÂûã(String) public abstract CharsetEncoder newEncoder()//Ëé∑ÂæóÁºñÁ†ÅÂô®ÂØπË±° public abstract CharsetDecoder newDecoder()//Ëé∑ÂæóËß£Á†ÅÂô®ÂØπË±° ‰ª£Á†ÅÁ§∫‰æãÔºö 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051import org.junit.jupiter.api.Test;import java.nio.ByteBuffer;import java.nio.CharBuffer;import java.nio.charset.CharacterCodingException;import java.nio.charset.Charset;import java.nio.charset.CharsetDecoder;import java.nio.charset.CharsetEncoder;import java.util.Map;import java.util.Set;public class CharsetDemo { @Test public void charSetEncoderAndDecoder() throws CharacterCodingException { Charset charset = Charset.forName(&quot;UTF-8&quot;); //1.Ëé∑ÂèñÁºñÁ†ÅÂô® CharsetEncoder charsetEncoder = charset.newEncoder(); // 2.Ëé∑ÂèñËß£Á†ÅÂô® CharsetDecoder charsetDecoder = charset.newDecoder(); // 3.Ëé∑ÂèñÈúÄË¶ÅËß£Á†ÅÁºñÁ†ÅÁöÑÊï∞ÊçÆ CharBuffer charBuffer = CharBuffer.allocate(1024); charBuffer.put(&quot;Â≠óÁ¨¶ÈõÜÁºñÁ†ÅËß£Á†Å&quot;); charBuffer.flip(); //4.ÁºñÁ†Å ByteBuffer byteBuffer = charsetEncoder.encode(charBuffer); System.out.println(&quot;ÁºñÁ†ÅÂêéÔºö&quot;); for (int i = 0; i &lt; byteBuffer.limit(); i++) { System.out.println(byteBuffer.get()); } //5.Ëß£Á†Å byteBuffer.flip(); CharBuffer charBuffer1 = charsetDecoder.decode(byteBuffer); System.out.println(&quot;Ëß£Á†ÅÂêéÔºö&quot;); System.out.println(charBuffer1.toString()); System.out.println(&quot;ÊåáÂÆöÂÖ∂‰ªñÊ†ºÂºèËß£Á†Å:&quot;); Charset charset1 = Charset.forName(&quot;GBK&quot;); byteBuffer.flip(); CharBuffer charBuffer2 = charset1.decode(byteBuffer); System.out.println(charBuffer2.toString()); //6.Ëé∑ÂèñCharsetÊâÄÊîØÊåÅÁöÑÂ≠óÁ¨¶ÁºñÁ†Å Map&lt;String, Charset&gt; map = Charset.availableCharsets(); Set&lt;Map.Entry&lt;String, Charset&gt;&gt; set = map.entrySet(); for (Map.Entry&lt;String, Charset&gt; entry : set) { System.out.println(entry.getKey() + &quot;=&quot; + entry.getValue().toString()); } }} NIOÂ§öÁ∫øÁ®ãËÅäÂ§©ÂÆ§‰æãÂ≠ê ÊúçÂä°Á´Ø 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113import java.io.IOException;import java.net.InetSocketAddress;import java.nio.ByteBuffer;import java.nio.channels.*;import java.nio.charset.Charset;import java.util.Iterator;import java.util.Set;//ÊúçÂä°Âô®Á´Øpublic class ChatServer { //ÊúçÂä°Âô®Á´ØÂêØÂä®ÁöÑÊñπÊ≥ï public void startServer() throws IOException { //1 ÂàõÂª∫SelectorÈÄâÊã©Âô® Selector selector = Selector.open(); //2 ÂàõÂª∫ServerSocketChannelÈÄöÈÅì ServerSocketChannel serverSocketChannel = ServerSocketChannel.open(); //3 ‰∏∫channelÈÄöÈÅìÁªëÂÆöÁõëÂê¨Á´ØÂè£ serverSocketChannel.bind(new InetSocketAddress(8000)); //ËÆæÁΩÆÈùûÈòªÂ°ûÊ®°Âºè serverSocketChannel.configureBlocking(false); //4 ÊäächannelÈÄöÈÅìÊ≥®ÂÜåÂà∞selectorÈÄâÊã©Âô®‰∏ä serverSocketChannel.register(selector, SelectionKey.OP_ACCEPT); System.out.println(&quot;ÊúçÂä°Âô®Â∑≤ÁªèÂêØÂä®ÊàêÂäü‰∫Ü&quot;); //5 Âæ™ÁéØÔºåÁ≠âÂæÖÊúâÊñ∞ÈìæÊé•Êé•ÂÖ• while (true) for (; ; ) { //Ëé∑ÂèñchannelÊï∞Èáè int readChannels = selector.select(); if (readChannels == 0) { continue; } //Ëé∑ÂèñÂèØÁî®ÁöÑchannel Set&lt;SelectionKey&gt; selectionKeys = selector.selectedKeys(); //ÈÅçÂéÜÈõÜÂêà Iterator&lt;SelectionKey&gt; iterator = selectionKeys.iterator(); while (iterator.hasNext()) { SelectionKey selectionKey = iterator.next(); //ÁßªÈô§setÈõÜÂêàÂΩìÂâçselectionKey iterator.remove(); //6 Ê†πÊçÆÂ∞±Áª™Áä∂ÊÄÅÔºåË∞ÉÁî®ÂØπÂ∫îÊñπÊ≥ïÂÆûÁé∞ÂÖ∑‰Ωì‰∏öÂä°Êìç‰Ωú //6.1 Â¶ÇÊûúacceptÁä∂ÊÄÅ if (selectionKey.isAcceptable()) { acceptOperator(serverSocketChannel, selector); } //6.2 Â¶ÇÊûúÂèØËØªÁä∂ÊÄÅ if (selectionKey.isReadable()) { readOperator(selector, selectionKey); } } } } //Â§ÑÁêÜÂèØËØªÁä∂ÊÄÅÊìç‰Ωú private void readOperator(Selector selector, SelectionKey selectionKey) throws IOException { //1 ‰ªéSelectionKeyËé∑ÂèñÂà∞Â∑≤ÁªèÂ∞±Áª™ÁöÑÈÄöÈÅì SocketChannel socketChannel = (SocketChannel) selectionKey.channel(); //2 ÂàõÂª∫buffer ByteBuffer byteBuffer = ByteBuffer.allocate(1024); //3 Âæ™ÁéØËØªÂèñÂÆ¢Êà∑Á´ØÊ∂àÊÅØ int readLength = socketChannel.read(byteBuffer); String message = &quot;&quot;; if (readLength &gt; 0) { //ÂàáÊç¢ËØªÊ®°Âºè byteBuffer.flip(); //ËØªÂèñÂÜÖÂÆπ message += Charset.forName(&quot;UTF-8&quot;).decode(byteBuffer); } //4 Â∞ÜchannelÂÜçÊ¨°Ê≥®ÂÜåÂà∞ÈÄâÊã©Âô®‰∏äÔºåÁõëÂê¨ÂèØËØªÁä∂ÊÄÅ socketChannel.register(selector, SelectionKey.OP_READ); //5 ÊääÂÆ¢Êà∑Á´ØÂèëÈÄÅÊ∂àÊÅØÔºåÂπøÊí≠Âà∞ÂÖ∂‰ªñÂÆ¢Êà∑Á´Ø if (message.length() &gt; 0) { //ÂπøÊí≠ÁªôÂÖ∂‰ªñÂÆ¢Êà∑Á´Ø System.out.println(message); castOtherClient(message, selector, socketChannel); } } //ÂπøÊí≠Âà∞ÂÖ∂‰ªñÂÆ¢Êà∑Á´Ø private void castOtherClient(String message, Selector selector, SocketChannel socketChannel) throws IOException { //1 Ëé∑ÂèñÊâÄÊúâÂ∑≤ÁªèÊé•ÂÖ•channel Set&lt;SelectionKey&gt; selectionKeySet = selector.keys(); //2 Âæ™ÁéØÊÉ≥ÊâÄÊúâchannelÂπøÊí≠Ê∂àÊÅØ for (SelectionKey selectionKey : selectionKeySet) { //Ëé∑ÂèñÊØè‰∏™channel Channel tarChannel = selectionKey.channel(); //‰∏çÈúÄË¶ÅÁªôËá™Â∑±ÂèëÈÄÅ if (tarChannel instanceof SocketChannel &amp;&amp; tarChannel != socketChannel) { ((SocketChannel) tarChannel).write(Charset.forName(&quot;UTF-8&quot;).encode(message)); } } } //Â§ÑÁêÜÊé•ÂÖ•Áä∂ÊÄÅÊìç‰Ωú private void acceptOperator(ServerSocketChannel serverSocketChannel, Selector selector) throws IOException { //1 Êé•ÂÖ•Áä∂ÊÄÅÔºåÂàõÂª∫socketChannel SocketChannel socketChannel = serverSocketChannel.accept(); //2 ÊääsocketChannelËÆæÁΩÆÈùûÈòªÂ°ûÊ®°Âºè socketChannel.configureBlocking(false); //3 ÊäächannelÊ≥®ÂÜåÂà∞selectorÈÄâÊã©Âô®‰∏äÔºåÁõëÂê¨ÂèØËØªÁä∂ÊÄÅ socketChannel.register(selector, SelectionKey.OP_READ); //4 ÂÆ¢Êà∑Á´ØÂõûÂ§ç‰ø°ÊÅØ socketChannel.write(Charset.forName(&quot;UTF-8&quot;).encode(&quot;Ê¨¢ËøéËøõÂÖ•ËÅäÂ§©ÂÆ§ÔºåËØ∑Ê≥®ÊÑèÈöêÁßÅÂÆâÂÖ®&quot;)); } //ÂêØÂä®‰∏ªÊñπÊ≥ï public static void main(String[] args) { try { new ChatServer().startServer(); } catch (IOException e) { e.printStackTrace(); } }} ÂÆ¢Êà∑Á´Ø‰ª£Á†Å 123456789101112131415161718192021222324252627282930import java.io.IOException;import java.net.InetSocketAddress;import java.nio.channels.SelectionKey;import java.nio.channels.Selector;import java.nio.channels.SocketChannel;import java.nio.charset.Charset;import java.util.Scanner;//ÂÆ¢Êà∑Á´Øpublic class ChatClient { //ÂêØÂä®ÂÆ¢Êà∑Á´ØÊñπÊ≥ï public void startClient(String name) throws IOException { //ËøûÊé•ÊúçÂä°Á´Ø SocketChannel socketChannel = SocketChannel.open(new InetSocketAddress(&quot;127.0.0.1&quot;, 8000)); //Êé•Êî∂ÊúçÂä°Á´ØÂìçÂ∫îÊï∞ÊçÆ Selector selector = Selector.open(); socketChannel.configureBlocking(false); socketChannel.register(selector, SelectionKey.OP_READ); //ÂàõÂª∫Á∫øÁ®ã new Thread(new ClientThread(selector)).start(); //ÂêëÊúçÂä°Âô®Á´ØÂèëÈÄÅÊ∂àÊÅØ Scanner scanner = new Scanner(System.in); while (scanner.hasNextLine()) { String msg = scanner.nextLine(); if (msg.length() &gt; 0) { socketChannel.write(Charset.forName(&quot;UTF-8&quot;).encode(name + &quot; : &quot; + msg)); } } }} 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869import java.io.IOException;import java.nio.ByteBuffer;import java.nio.channels.SelectionKey;import java.nio.channels.Selector;import java.nio.channels.SocketChannel;import java.nio.charset.Charset;import java.util.Iterator;import java.util.Set;public class ClientThread implements Runnable { private Selector selector; public ClientThread(Selector selector) { this.selector = selector; } @Override public void run() { try { for (; ; ) { //Ëé∑ÂèñchannelÊï∞Èáè int readChannels = selector.select(); if (readChannels == 0) { continue; } //Ëé∑ÂèñÂèØÁî®ÁöÑchannel Set&lt;SelectionKey&gt; selectionKeys = selector.selectedKeys(); //ÈÅçÂéÜÈõÜÂêà Iterator&lt;SelectionKey&gt; iterator = selectionKeys.iterator(); while (iterator.hasNext()) { SelectionKey selectionKey = iterator.next(); //ÁßªÈô§setÈõÜÂêàÂΩìÂâçselectionKey iterator.remove(); //Â¶ÇÊûúÂèØËØªÁä∂ÊÄÅ if (selectionKey.isReadable()) { readOperator(selector, selectionKey); } } } } catch (Exception e) { } } //Â§ÑÁêÜÂèØËØªÁä∂ÊÄÅÊìç‰Ωú private void readOperator(Selector selector, SelectionKey selectionKey) throws IOException { //1 ‰ªéSelectionKeyËé∑ÂèñÂà∞Â∑≤ÁªèÂ∞±Áª™ÁöÑÈÄöÈÅì SocketChannel socketChannel = (SocketChannel) selectionKey.channel(); //2 ÂàõÂª∫buffer ByteBuffer byteBuffer = ByteBuffer.allocate(1024); //3 Âæ™ÁéØËØªÂèñÂÆ¢Êà∑Á´ØÊ∂àÊÅØ int readLength = socketChannel.read(byteBuffer); String message = &quot;&quot;; if (readLength &gt; 0) { //ÂàáÊç¢ËØªÊ®°Âºè byteBuffer.flip(); //ËØªÂèñÂÜÖÂÆπ message += Charset.forName(&quot;UTF-8&quot;).decode(byteBuffer); } //4 Â∞ÜchannelÂÜçÊ¨°Ê≥®ÂÜåÂà∞ÈÄâÊã©Âô®‰∏äÔºåÁõëÂê¨ÂèØËØªÁä∂ÊÄÅ socketChannel.register(selector, SelectionKey.OP_READ); //5 ÊääÂÆ¢Êà∑Á´ØÂèëÈÄÅÊ∂àÊÅØÔºåÂπøÊí≠Âà∞ÂÖ∂‰ªñÂÆ¢Êà∑Á´Ø if (message.length() &gt; 0) { //ÂπøÊí≠ÁªôÂÖ∂‰ªñÂÆ¢Êà∑Á´Ø System.out.println(message); } }} 12345678import java.io.IOException;public class AClient { public static void main(String[] args) throws IOException { new ChatClient().startClient(&quot;lxl&quot;); }} 12345678import java.io.IOException;public class BClient { public static void main(String[] args) throws IOException { new ChatClient().startClient(&quot;xqm&quot;); }} others FilterÊ®°Âºè ÈÄöËøá‰∏Ä‰∏™‚ÄúÂü∫Á°Ä‚ÄùÁªÑ‰ª∂ÂÜçÂè†Âä†ÂêÑÁßç‚ÄúÈôÑÂä†‚ÄùÂäüËÉΩÁªÑ‰ª∂ÁöÑÊ®°ÂºèÔºåÁß∞‰πã‰∏∫FilterÊ®°ÂºèÔºàÊàñËÄÖË£ÖÈ•∞Âô®Ê®°ÂºèÔºöDecoratorÔºâ„ÄÇÂÆÉÂèØ‰ª•ËÆ©Êàë‰ª¨ÈÄöËøáÂ∞ëÈáèÁöÑÁ±ªÊù•ÂÆûÁé∞ÂêÑÁßçÂäüËÉΩÁöÑÁªÑÂêà ÁºñÂÜôFilterInputStream Êìç‰ΩúZip ZipInputStream JarInputStreamÊòØ‰ªéZipInputStreamÊ¥æÁîü ËØªÂèñzipÂåÖ ÂàõÂª∫‰∏Ä‰∏™ZipInputStreamÔºåÈÄöÂ∏∏ÊòØ‰º†ÂÖ•‰∏Ä‰∏™FileInputStream‰Ωú‰∏∫Êï∞ÊçÆÊ∫êÔºåÁÑ∂ÂêéÔºåÂæ™ÁéØË∞ÉÁî®getNextEntry()ÔºåÁõ¥Âà∞ËøîÂõûnullÔºåË°®Á§∫zipÊµÅÁªìÊùü„ÄÇ ‰∏Ä‰∏™ZipEntryË°®Á§∫‰∏Ä‰∏™ÂéãÁº©Êñá‰ª∂ÊàñÁõÆÂΩïÔºåÂ¶ÇÊûúÊòØÂéãÁº©Êñá‰ª∂ÔºåÊàë‰ª¨Â∞±Áî®read()ÊñπÊ≥ï‰∏çÊñ≠ËØªÂèñÔºåÁõ¥Âà∞ËøîÂõû-1Ôºö try (ZipInputStream zip = new ZipInputStream(new FileInputStream(...))) { ZipEntry entry = null; while ((entry = zip.getNextEntry()) != null) { String name = entry.getName(); if (!entry.isDirectory()) { int n; while ((n = zip.read()) != -1) { ... } } } } ÂÜôÂÖ•zipÂåÖ ÂèØ‰ª•Áõ¥Êé•ÂÜôÂÖ•ÂÜÖÂÆπÂà∞zipÂåÖ„ÄÇÊàë‰ª¨Ë¶ÅÂÖàÂàõÂª∫‰∏Ä‰∏™ZipOutputStreamÔºåÈÄöÂ∏∏ÊòØÂåÖË£Ö‰∏Ä‰∏™FileOutputStreamÔºåÁÑ∂ÂêéÔºåÊØèÂÜôÂÖ•‰∏Ä‰∏™Êñá‰ª∂ÂâçÔºåÂÖàË∞ÉÁî®putNextEntry()ÔºåÁÑ∂ÂêéÁî®write()ÂÜôÂÖ•byte[]Êï∞ÊçÆÔºåÂÜôÂÖ•ÂÆåÊØïÂêéË∞ÉÁî®closeEntry()ÁªìÊùüËøô‰∏™Êñá‰ª∂ÁöÑÊâìÂåÖ„ÄÇ try (ZipOutputStream zip = new ZipOutputStream(new FileOutputStream(...))) { File[] files = ... for (File file : files) { zip.putNextEntry(new ZipEntry(file.getName())); zip.write(getFileDataAsBytes(file)); zip.closeEntry(); } } ËØªÂèñclasspathËµÑÊ∫ê ÊääËµÑÊ∫êÂ≠òÂÇ®Âú®classpath‰∏≠ÂèØ‰ª•ÈÅøÂÖçÊñá‰ª∂Ë∑ØÂæÑ‰æùËµñÔºõ ClassÂØπË±°ÁöÑgetResourceAsStream()ÂèØ‰ª•‰ªéclasspath‰∏≠ËØªÂèñÊåáÂÆöËµÑÊ∫êÔºõ Ê†πÊçÆclasspathËØªÂèñËµÑÊ∫êÊó∂ÔºåÈúÄË¶ÅÊ£ÄÊü•ËøîÂõûÁöÑInputStreamÊòØÂê¶‰∏∫null„ÄÇ ‰ΩøÁî®Files byte[] data = Files.readAllBytes(Paths.get(&quot;/path/to/file.txt&quot;)); // ÈªòËÆ§‰ΩøÁî®UTF-8ÁºñÁ†ÅËØªÂèñ: String content1 = Files.readString(Paths.get(&quot;/path/to/file.txt&quot;)); // ÂèØÊåáÂÆöÁºñÁ†Å: String content2 = Files.readString(Paths.get(&quot;/path/to/file.txt&quot;), StandardCharsets.ISO_8859_1); // ÊåâË°åËØªÂèñÂπ∂ËøîÂõûÊØèË°åÂÜÖÂÆπ: List lines = Files.readAllLines(Paths.get(&quot;/path/to/file.txt&quot;)); / ÂÜôÂÖ•‰∫åËøõÂà∂Êñá‰ª∂: byte[] data = ... Files.write(Paths.get(&quot;/path/to/file.txt&quot;), data); // ÂÜôÂÖ•ÊñáÊú¨Âπ∂ÊåáÂÆöÁºñÁ†Å: Files.writeString(Paths.get(&quot;/path/to/file.txt&quot;), &quot;ÊñáÊú¨ÂÜÖÂÆπ...&quot;, StandardCharsets.ISO_8859_1); // ÊåâË°åÂÜôÂÖ•ÊñáÊú¨: List lines = ... Files.write(Paths.get(&quot;/path/to/file.txt&quot;), lines); Ê≠§Â§ñÔºåFilesÂ∑•ÂÖ∑Á±ªËøòÊúâcopy()„ÄÅdelete()„ÄÅexists()„ÄÅmove()Á≠âÂø´Êç∑ÊñπÊ≥ïÊìç‰ΩúÊñá‰ª∂ÂíåÁõÆÂΩï„ÄÇ ÊúÄÂêéÈúÄË¶ÅÁâπÂà´Ê≥®ÊÑèÁöÑÊòØÔºåFilesÊèê‰æõÁöÑËØªÂÜôÊñπÊ≥ïÔºåÂèóÂÜÖÂ≠òÈôêÂà∂ÔºåÂè™ËÉΩËØªÂÜôÂ∞èÊñá‰ª∂Ôºå‰æãÂ¶ÇÈÖçÁΩÆÊñá‰ª∂Á≠âÔºå‰∏çÂèØ‰∏ÄÊ¨°ËØªÂÖ•Âá†‰∏™GÁöÑÂ§ßÊñá‰ª∂„ÄÇËØªÂÜôÂ§ßÂûãÊñá‰ª∂‰ªçÁÑ∂Ë¶Å‰ΩøÁî®Êñá‰ª∂ÊµÅÔºåÊØèÊ¨°Âè™ËØªÂÜô‰∏ÄÈÉ®ÂàÜÊñá‰ª∂ÂÜÖÂÆπ„ÄÇ ÂÜÖÂ≠òÊò†Â∞ÑÊñá‰ª∂ ÂÜÖÂ≠òÊò†Â∞ÑÊñá‰ª∂ I/O ÊòØ‰∏ÄÁßçËØªÂíåÂÜôÊñá‰ª∂Êï∞ÊçÆÁöÑÊñπÊ≥ïÔºåÂÆÉÂèØ‰ª•ÊØîÂ∏∏ËßÑÁöÑÂü∫‰∫éÊµÅÊàñËÄÖÂü∫‰∫éÈÄöÈÅìÁöÑ I/O Âø´ÂæóÂ§ö„ÄÇ ÂêëÂÜÖÂ≠òÊò†Â∞ÑÊñá‰ª∂ÂÜôÂÖ•ÂèØËÉΩÊòØÂç±Èô©ÁöÑÔºåÂè™ÊòØÊîπÂèòÊï∞ÁªÑÁöÑÂçï‰∏™ÂÖÉÁ¥†ËøôÊ†∑ÁöÑÁÆÄÂçïÊìç‰ΩúÔºåÂ∞±ÂèØËÉΩ‰ºöÁõ¥Êé•‰øÆÊîπÁ£ÅÁõò‰∏äÁöÑÊñá‰ª∂„ÄÇ‰øÆÊîπÊï∞ÊçÆ‰∏éÂ∞ÜÊï∞ÊçÆ‰øùÂ≠òÂà∞Á£ÅÁõòÊòØÊ≤°ÊúâÂàÜÂºÄÁöÑ„ÄÇ ‰∏ãÈù¢‰ª£Á†ÅË°åÂ∞ÜÊñá‰ª∂ÁöÑÂâç 1024 ‰∏™Â≠óËäÇÊò†Â∞ÑÂà∞ÂÜÖÂ≠ò‰∏≠Ôºåmap() ÊñπÊ≥ïËøîÂõû‰∏Ä‰∏™ MappedByteBufferÔºåÂÆÉÊòØ ByteBuffer ÁöÑÂ≠êÁ±ª„ÄÇÂõ†Ê≠§ÔºåÂèØ‰ª•ÂÉè‰ΩøÁî®ÂÖ∂‰ªñ‰ªª‰Ωï ByteBuffer ‰∏ÄÊ†∑‰ΩøÁî®Êñ∞Êò†Â∞ÑÁöÑÁºìÂÜ≤Âå∫ÔºåÊìç‰ΩúÁ≥ªÁªü‰ºöÂú®ÈúÄË¶ÅÊó∂Ë¥üË¥£ÊâßË°åÊò†Â∞Ñ„ÄÇ MappedByteBuffer mbb = fc.map(FileChannel.MapMode.READ_WRITE, 0, 1024); OFFICE PIC CSV HTML ÂéãÁº©Êñá‰ª∂ IO NIO Èù¢ÂêëÊµÅ Èù¢ÂêëÁºìÂÜ≤ ÈòªÂ°ûIO ÈùûÈòªÂ°ûIO Êó† ÈÄâÊã©Âô® NET OSI‰∏ÉÂ±ÇÊ®°Âûã TCP/IP‰∫îÂ±ÇÊ®°Âûã ‰∏âÊ¨°Êè°Êâã„ÄÅÂõõÊ¨°Êå•Êâã IP ÂüüÂêç Á´ØÂè£ ÈÄö‰ø°ÂçèËÆÆ ‰∏ÄÊ¨°ËØ∑Ê±ÇÁöÑËøáÁ®ã Èù¢ÂêëÂØπË±° JDKÊñ∞ÁâπÊÄß Êìç‰ΩúÁ¨¶ ÊµÅÁ®ãÊéßÂà∂ ÂàùÂßãÂåñ‰∏éÊ∏ÖÁêÜ ÊùÉÈôêÊéßÂà∂ Â§çÁî®Á±ª Â§öÊÄÅ Êé•Âè£ ÂÜÖÈÉ®Á±ª ÂºÇÂ∏∏ Â≠óÁ¨¶‰∏≤ Ê≠£ÂàôË°®ËææÂºè Ê≥õÂûã Êï∞ÁªÑ Êûö‰∏æ Ê≥®Ëß£ Âπ∂Âèë ÂõæÂΩ¢Âåñ ÂÖ∂‰ªñÂü∫Á°Ä Array [JVM‰∏é‰∏äÂ±ÇÊäÄÊúØ](JVM ‰∏é‰∏äÂ±ÇÊäÄÊúØ) hashcode‰∏é equals‰∏é == Áõ∏ÂÖ≥Ê¶ÇÂøµ 1.equals(Object obj)ÊñπÊ≥ïÁî®Êù•Âà§Êñ≠‰∏§‰∏™ÂØπË±°ÊòØÂê¶‚ÄúÁõ∏Âêå‚ÄùÔºåÂ¶ÇÊûú‚ÄúÁõ∏Âêå‚ÄùÂàôËøîÂõûtrueÔºåÂê¶ÂàôËøîÂõûfalse„ÄÇ hashCode()ÊñπÊ≥ïËøîÂõû‰∏Ä‰∏™intÊï∞ÔºåÂú®ObjectÁ±ª‰∏≠ÁöÑÈªòËÆ§ÂÆûÁé∞ÊòØ‚ÄúÂ∞ÜËØ•ÂØπË±°ÁöÑÂÜÖÈÉ®Âú∞ÂùÄËΩ¨Êç¢Êàê‰∏Ä‰∏™Êï¥Êï∞ËøîÂõû‚Äù„ÄÇ 2.Ëã•‰∏§‰∏™ÂØπË±°equals(Object obj)ËøîÂõûtrueÔºåÂàôhashCodeÔºàÔºâÊúâÂøÖË¶Å‰πüËøîÂõûÁõ∏ÂêåÁöÑintÊï∞„ÄÇ 3.Ëã•‰∏§‰∏™ÂØπË±°equals(Object obj)ËøîÂõûfalseÔºåÂàôhashCodeÔºàÔºâ‰∏ç‰∏ÄÂÆöËøîÂõû‰∏çÂêåÁöÑintÊï∞„ÄÇ 4.Ëã•‰∏§‰∏™ÂØπË±°hashCodeÔºàÔºâËøîÂõûÁõ∏ÂêåintÊï∞ÔºåÂàôequalsÔºàObject objÔºâ‰∏ç‰∏ÄÂÆöËøîÂõûtrue„ÄÇ 5.Ëã•‰∏§‰∏™ÂØπË±°hashCodeÔºàÔºâËøîÂõû‰∏çÂêåintÊï∞ÔºåÂàôequalsÔºàObject objÔºâ‰∏ÄÂÆöËøîÂõûfalse„ÄÇ 6.Âêå‰∏ÄÂØπË±°Âú®ÊâßË°åÊúüÈó¥Ëã•Â∑≤ÁªèÂ≠òÂÇ®Âú®ÈõÜÂêà‰∏≠ÔºåÂàô‰∏çËÉΩ‰øÆÊîπÂΩ±ÂìçhashCodeÂÄºÁöÑÁõ∏ÂÖ≥‰ø°ÊÅØÔºåÂê¶Âàô‰ºöÂØºËá¥ÂÜÖÂ≠òÊ≥ÑÈú≤ÈóÆÈ¢ò„ÄÇ 7.Ëã•ÈáçÂÜô‰∫Üequals(Object obj)ÊñπÊ≥ïÔºåÂàôÊúâÂøÖË¶ÅÈáçÂÜôhashCode()ÊñπÊ≥ï„ÄÇ ‰ªÄ‰πàÊó∂ÂÄôÈúÄË¶ÅÈáçÂÜôhashcode‰∏éequalsÔºü ÂØπË±°ÊØîËæÉ equals‰∏é==Âå∫Âà´Ôºü Âü∫Êú¨Á±ªÂûã‰∏≠Ôºå==Âà§Êñ≠ÂÄºÊòØÂê¶Áõ∏Á≠âÔºåÂºïÁî®Á±ªÂûã‰∏≠ÊØîËæÉÁöÑÊòØÂú∞ÂùÄÊòØÂê¶Áõ∏Á≠â equalsÂè™ËÉΩÁî®‰∫éÂºïÁî®Á±ªÂûãÔºåequalsÂÖ∑‰ΩìÂà§Êñ≠Ë¶ÅÂú®Âà§Êñ≠ÂØπË±°‰∏≠ÁúãequalsÂÆûÁé∞,ÈªòËÆ§ÊòØÂà§Êñ≠Âú∞ÂùÄÔºåÈáçÂÜô‰πãÂêéÁúãÂÖ∑‰ΩìÂÆûÁé∞Ôºå‰∏ÄËà¨ÊòØÊØîËæÉÂØπË±°ÂÜÖÂÆπ„ÄÇ Èù¢ÂêëÂØπË±° Â∞ÅË£ÖÁªßÊâøÂ§öÊÄÅ Â∞ÅË£Ö ‚Äã Â∞Ü‰∏ÄÁ≥ªÂàóÊìç‰ΩúÂ∞ÅË£ÖÊàê‰∏Ä‰∏™ÂäüËÉΩÔºåÈöêËóèÂÆûÁé∞ÁªÜËäÇÔºåÊñΩÂä†ÊùÉÈôêÊéßÂà∂ÔºåËÆ©Áî®Êà∑‰∏çÂÜçÊìçÂøÉÂäüËÉΩÂÆûÁé∞ÔºåÂáèÂ∞ë‰ª£Á†ÅÂÜó‰Ωô„ÄÇ ÁªßÊâøÔºàextendsÔºâ ‚Äã Ê∂àÈô§ÈáçÂ§çÂàõÂª∫Áõ∏ÂêåÂäüËÉΩÁ±ªÔºåÁªßÊâø‰ª•Â§çÂà∂Âü∫Á±ªÂäüËÉΩÂ±ûÊÄßÂπ∂Ë¶ÜÁõñÂ∑≤ËøõË°åÊâ©Â±ï‰øÆÊîπ„ÄÇ ‚Äã ÁªßÊâøÂàùÂßãÂåñÈìæÔºö 12345678/**Â≠òÂú®ÁªßÊâøÁöÑÊÉÖÂÜµ‰∏ãÔºåÂàùÂßãÂåñÈ°∫Â∫è‰∏∫Ôºö Áà∂Á±ªÔºàÈùôÊÄÅÂèòÈáè„ÄÅÈùôÊÄÅËØ≠Âè•ÂùóÔºâ Â≠êÁ±ªÔºàÈùôÊÄÅÂèòÈáè„ÄÅÈùôÊÄÅËØ≠Âè•ÂùóÔºâ Áà∂Á±ªÔºàÂÆû‰æãÂèòÈáè„ÄÅÊôÆÈÄöËØ≠Âè•ÂùóÔºâ Áà∂Á±ªÔºàÊûÑÈÄ†ÂáΩÊï∞Ôºâ Â≠êÁ±ªÔºàÂÆû‰æãÂèòÈáè„ÄÅÊôÆÈÄöËØ≠Âè•ÂùóÔºâ Â≠êÁ±ªÔºàÊûÑÈÄ†ÂáΩÊï∞Ôºâ*/ ÈùôÊÄÅ--&gt;ÂÆû‰æã--„ÄãÊôÆÈÄöËØ≠Âè•Âùó--„ÄãÊûÑÈÄ† Â§öÊÄÅ Êé•Âè£ÂíåÂÆûÁé∞Á±ªÔºåÁõ∏ÂêåÊé•Âè£Êúâ‰∏çÂêåÂÆûÁé∞Á±ª‰ª•ÂÆûÁé∞‰∏çÂêåÊ†∑ÂºèÁöÑÁõ∏ÂêåÂäüËÉΩ„ÄÇ final„ÄÅfinally„ÄÅfinalize ‚Äã finalÈÄöÂ∏∏Âê´‰πâ‰∏∫‰∏çÂèØÊîπÂèòÔºåÊó†Ê≥ïÊîπÂèòÁî±ËÆæËÆ°ÂíåÊïàÁéá‰∏§‰∏™ÊñπÈù¢„ÄÇ‰øÆÈ•∞Á±ª‰∏çÂèØË¢´ÁªßÊâøÔºàÁ±ª‰∏≠ÊñπÊ≥ïË¢´ÈöêÂºèÁîüÂëΩ‰∏∫finalÔºâÔºå‰øÆÈ•∞ÊñπÊ≥ï‰∏çÂèØË¢´Ë¶ÜÁõñÔºàÊïàÊûúÂêåË¢´private‰øÆÈ•∞ÁöÑÊñπÊ≥ïÔºå‰πüË¢´ÈöêÂºèfinal‰∫ÜÔºâÔºå‰øÆÈ•∞ÂèòÈáè‰∏çÂèØË¢´‰øÆÊîπÔºàÂü∫Êú¨ÂèòÈáè‰øÆÈ•∞ÂêéÂç≥‰∏∫Â∏∏ÈáèÔºâÔºå‰øÆÈ•∞ÂØπË±°Âè™ÊòØÈôêÂà∂‰∫ÜÂÖ∂ÂºïÁî®Âú∞ÂùÄ‰ΩÜ‰∏ç‰ºöÈôêÂà∂ÂÖ∂ÂØπË±°ÂÄº„ÄÇfinallyÊòØÂú®try..catchËØ≠Âè•‰∏≠tryÊâßË°åÂêé‰∏îÊú™Ë¢´Â∞ÜÁ®ãÂ∫èÁªàÊ≠¢ÊúÄÂêéÂøÖÈ°ªÊâßË°åÁöÑËØ≠Âè•Âùó„ÄÅfinalizeÁî®‰∫éÂØπË±°ÂõûÊî∂ÔºåÂ±û‰∫éObjectÁöÑÊñπÊ≥ïÔºåË∞ÉÁî®Âπ∂‰∏ç‰∏ÄÂÆö‰ºöÈ©¨‰∏äÂõûÊî∂ÂØπË±°„ÄÇ Âêë‰∏ä/‰∏ãËΩ¨Âûã Âêë‰∏äÂç≥Áà∂Áî®Â≠êÔºåÂêë‰∏ãÂç≥Â≠êÁî®Áà∂„ÄÇ 123456Father f1 = new Son(); // ËøôÂ∞±Âè´ upcasting ÔºàÂêë‰∏äËΩ¨Âûã)// Áé∞Âú® f1 ÂºïÁî®ÊåáÂêë‰∏Ä‰∏™SonÂØπË±°//Âπ∂‰∏çÊòØÊâÄÊúâÁöÑÂØπË±°ÈÉΩÂèØ‰ª•Âêë‰∏ãËΩ¨ÂûãÔºåÂè™ÊúâÂΩìËøô‰∏™ÂØπË±°ÂéüÊú¨Â∞±ÊòØÂ≠êÁ±ªÂØπË±°ÈÄöËøáÂêë‰∏äËΩ¨ÂûãÂæóÂà∞ÁöÑÊó∂ÂÄôÊâçËÉΩÂ§üÊàêÂäüËΩ¨Âûã„ÄÇSon s1 = (Son)f1; // ËøôÂ∞±Âè´ downcasting (Âêë‰∏ãËΩ¨Âûã)// Áé∞Âú®f1 ËøòÊòØÊåáÂêë SonÂØπË±° ÂÜÖÈÉ®Á±ª„ÄÅÂåøÂêçÂÜÖÈÉ®Á±ª Ê≤°ÊúâÂêçÂ≠óÁöÑÁ±ªÊàñÊé•Âè£ÂÆûÁé∞ÊâÄ‰ª•Âè™ËÉΩ‰ΩøÁî®‰∏ÄÊ¨°ÔºåÊó†Ê≥ïË¢´ÂÖ∂‰ªñÁ±ªÂÆû‰æãÂåñÔºåÁî®Êù•ÁÆÄÂåñ‰ª£Á†ÅÁºñÂÜô„ÄÇ ÂåøÂêçÁ±ªÂèØÁªßÊâø„ÄÅÈáçÂÜôÁà∂Á±ªÁöÑÊñπÊ≥ï ‰ΩøÁî®ÂåøÂêçÁ±ªÊó∂ÔºåÂøÖÁÑ∂ÊòØÂú®Êüê‰∏™Á±ª‰∏≠Áõ¥Êé•Áî®ÂåøÂêçÁ±ªÂàõÂª∫ÂØπË±°ÔºåÂõ†Ê≠§ÂåøÂêçÁ±ª‰∏ÄÂÆöÊòØÂÜÖÈÉ®Á±ª ÂåøÂêçÁ±ªÂèØ‰ª•ËÆøÈóÆÂ§ñÂµåÁ±ª‰∏≠ÁöÑÊàêÂëòÂèòÈáèÂíåÊñπÊ≥ïÔºåÂåøÂêçÁ±ªÁöÑÁ±ª‰Ωì‰∏≠‰∏çÂèØ‰ª•Â£∞ÊòéstaticÊàêÂëòÂèòÈáèÂíåstaticÊñπÊ≥ï Áî±‰∫éÂåøÂêçÁ±ªÊòØ‰∏Ä‰∏™Â≠êÁ±ªÔºå‰ΩÜÊ≤°ÊúâÁ±ªÂêçÔºåÊâÄ‰ª•Âú®Áî®ÂåøÂêçÁ±ªÂàõÂª∫ÂØπË±°Êó∂ÔºåË¶ÅÁõ¥Êé•‰ΩøÁî®Áà∂Á±ªÁöÑÊûÑÈÄ†ÊñπÊ≥ï static ‚Äã Êñπ‰æøÂú®Ê≤°ÊúâÂàõÂª∫ÂØπË±°ÁöÑÊÉÖÂÜµ‰∏ãÊù•ËøõË°åË∞ÉÁî®ÔºàÊñπÊ≥ï/ÂèòÈáèÔºâÔºåÈùôÊÄÅÊñπÊ≥ï‰∏≠‰∏çËÉΩ‰æùËµñÈùûÈùôÊÄÅÊñπÊ≥ï„ÄÅÂ±ûÊÄßÔºåÂèç‰πãÈùûÈùôÊÄÅÊàêÂëòÊñπÊ≥ï‰∏≠ÂèØËÆøÈóÆÈùôÊÄÅÊàêÂëòÂèòÈáè„ÄÅÊñπÊ≥ï„ÄÇ ÈùôÊÄÅÂèòÈáèÂú®ÂÜÖÂ≠ò‰∏≠Âè™Êúâ‰∏Ä‰∏™ÔºåÈùûÈùôÊÄÅÂèòÈáèÈöèÂØπË±°ÂàõÂª∫ËÄåÂàõÂª∫ÔºåÂêÑ‰∏™ÂèòÈáè‰πãÈó¥‰∫í‰∏çÂΩ±Âìç„ÄÇstatic‰∏çËÉΩÁî®Êù•‰øÆÈ•∞Â±ÄÈÉ®ÂèòÈáè„ÄÇÈùôÊÄÅ‰ª£Á†ÅÂùóÂè™ÊúâÂú®Á±ªÂä†ËΩΩÁöÑÊó∂ÂÄôÂàõÂª∫‰∏ÄÊ¨°ÔºåÈÄÇÂêà‰∫éÂè™ÈúÄË¶ÅËøõË°å‰∏ÄÊ¨°ÂàùÂßãÂåñÁöÑÊìç‰Ωú„ÄÇÈùôÂè™ÈùôÔºåÈùûÂèØÈùô CAP„ÄÅBASEÁêÜËÆ∫ AQS JDKÊñ∞ÁâàÊú¨ÁâπÂæÅ Lambda Ë°®ËææÂºè ÊµÅStreamÔºàÔºâ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960package pers.lxl.mylearnproject.programbase.newjdk;import java.util.Arrays;import java.util.IntSummaryStatistics;import java.util.List;import java.util.Random;import java.util.stream.Collectors;/** * JDK8 Êñ∞ÁâπÊÄßstreamÔºàÔºâ * ‰ª•Â£∞ÊòéÁöÑÊñπÂºèÂ§ÑÁêÜÊï∞ÊçÆÔºåÁ±ª‰ººÁî®sql‰ªéÊï∞ÊçÆÂ∫ìÊü•ËØ¢Êï∞ÊçÆÁöÑÊñπÂºèÊù•Êèê‰æõÂØπÈõÜÂêàÁöÑËøêÁÆóÂíåË°®ËææÁöÑÈ´òÈò∂ÊäΩË±° * ÂÖ∂Â∞ÜË¶ÅÂ§ÑÁêÜÁöÑÊï∞ÊçÆÁúãÊàê‰∏ÄÁßçÊµÅÔºåÊµÅÂú®ÁÆ°ÈÅì‰∏≠‰º†ËæìÔºåÂÖ∂ÂèØ‰ª•ÂÜçÁÆ°ÈÅìÁöÑËäÇÁÇπ‰∏≠ËøõË°åÁ≠õÈÄâÊéíÂ∫èËÅöÂêàÁ≠â‰∏ÄÁ≥ªÂàóÊìç‰Ωú * StreamÔºàÊµÅÔºâÊòØ‰∏Ä‰∏™Êù•Ëá™Êï∞ÊçÆÊ∫êÁöÑÂÖÉÁ¥†ÈòüÂàóÂπ∂ÊîØÊåÅËÅöÂêàÊìç‰Ωú * ÂÖÉÁ¥†ÊòØÁâπÂÆöÁ±ªÂûãÁöÑÂØπË±°ÔºåÂΩ¢Êàê‰∏Ä‰∏™ÈòüÂàó„ÄÇ Java‰∏≠ÁöÑStreamÂπ∂‰∏ç‰ºöÂ≠òÂÇ®ÂÖÉÁ¥†ÔºåËÄåÊòØÊåâÈúÄËÆ°ÁÆó„ÄÇ * Êï∞ÊçÆÊ∫ê ÊµÅÁöÑÊù•Ê∫ê„ÄÇ ÂèØ‰ª•ÊòØÈõÜÂêàÔºåÊï∞ÁªÑÔºåI/O channelÔºå ‰∫ßÁîüÂô®generator Á≠â„ÄÇ * ËÅöÂêàÊìç‰Ωú Á±ª‰ººSQLËØ≠Âè•‰∏ÄÊ†∑ÁöÑÊìç‰ΩúÔºå ÊØîÂ¶Çfilter, map, reduce, find, match, sortedÁ≠â„ÄÇ * Âíå‰ª•ÂâçÁöÑCollectionÊìç‰Ωú‰∏çÂêåÔºå StreamÊìç‰ΩúËøòÊúâ‰∏§‰∏™Âü∫Á°ÄÁöÑÁâπÂæÅÔºö * Pipelining: ‰∏≠Èó¥Êìç‰ΩúÈÉΩ‰ºöËøîÂõûÊµÅÂØπË±°Êú¨Ë∫´„ÄÇ ËøôÊ†∑Â§ö‰∏™Êìç‰ΩúÂèØ‰ª•‰∏≤ËÅîÊàê‰∏Ä‰∏™ÁÆ°ÈÅìÔºå Â¶ÇÂêåÊµÅÂºèÈ£éÊ†ºÔºàfluent styleÔºâ„ÄÇ ËøôÊ†∑ÂÅöÂèØ‰ª•ÂØπÊìç‰ΩúËøõË°å‰ºòÂåñÔºå ÊØîÂ¶ÇÂª∂ËøüÊâßË°å(laziness)ÂíåÁü≠Ë∑Ø(short-circuiting)„ÄÇ * ÂÜÖÈÉ®Ëø≠‰ª£Ôºö ‰ª•ÂâçÂØπÈõÜÂêàÈÅçÂéÜÈÉΩÊòØÈÄöËøáIteratorÊàñËÄÖFor-EachÁöÑÊñπÂºè, ÊòæÂºèÁöÑÂú®ÈõÜÂêàÂ§ñÈÉ®ËøõË°åËø≠‰ª£Ôºå ËøôÂè´ÂÅöÂ§ñÈÉ®Ëø≠‰ª£„ÄÇ StreamÊèê‰æõ‰∫ÜÂÜÖÈÉ®Ëø≠‰ª£ÁöÑÊñπÂºèÔºå ÈÄöËøáËÆøÈóÆËÄÖÊ®°Âºè(Visitor)ÂÆûÁé∞„ÄÇ */public class StreamL { public static void main(String[] args) {// 1.ÁîüÊàêÊµÅ //stream() ‚àí ‰∏∫ÈõÜÂêàÂàõÂª∫‰∏≤Ë°åÊµÅ„ÄÇ //parallelStream() ‚àí ‰∏∫ÈõÜÂêàÂàõÂª∫Âπ∂Ë°åÊµÅ„ÄÇ List&lt;String&gt; strings = Arrays.asList(&quot;abc&quot;, &quot;&quot;, &quot;bc&quot;, &quot;efg&quot;, &quot;abcd&quot;, &quot;&quot;, &quot;jkl&quot;); List&lt;String&gt; filtered = strings.stream().filter(string -&gt; !string.isEmpty()).collect(Collectors.toList()); List&lt;String&gt; filteredParallelStream = strings.parallelStream().filter(string -&gt; !string.isEmpty()).collect(Collectors.toList());// 2.ËÅöÂêàÊìç‰Ωú// Ëø≠‰ª£Êï∞ÊçÆforeach(),limit() Ëé∑ÂèñÊåáÂÆöÊï∞ÈáèÁöÑÊµÅ,sorted() ÂØπÊµÅËøõË°åÊéíÂ∫è„ÄÇ Random random = new Random(); random.ints().limit(10).sorted().forEach(System.out::println);// map() Êò†Â∞ÑÊØè‰∏™ÂÖÉÁ¥†Âà∞ÂØπÂ∫îÁöÑÁªìÊûú List&lt;Integer&gt; numbers = Arrays.asList(3, 2, 2, 3, 7, 3, 5);// Ëé∑ÂèñÂØπÂ∫îÁöÑÂπ≥ÊñπÊï∞ List&lt;Integer&gt; squaresList = numbers.stream().map( i -&gt; i*i).distinct().collect(Collectors.toList());// filter() ÈÄöËøáËÆæÁΩÆÁöÑÊù°‰ª∂ËøáÊª§Âá∫ÂÖÉÁ¥†// Ëé∑ÂèñÁ©∫Â≠óÁ¨¶‰∏≤ÁöÑÊï∞Èáè long count = strings.stream().filter(string -&gt; string.isEmpty()).count();// Âπ∂Ë°åÔºàparallelÔºâÁ®ãÂ∫è// parallelStream ÊòØÊµÅÂπ∂Ë°åÂ§ÑÁêÜÁ®ãÂ∫èÁöÑ‰ª£ÊõøÊñπÊ≥ï„ÄÇ‰ª•‰∏ãÂÆû‰æãÊàë‰ª¨‰ΩøÁî® parallelStream Êù•ËæìÂá∫Á©∫Â≠óÁ¨¶‰∏≤ÁöÑÊï∞ÈáèÔºö// Ëé∑ÂèñÁ©∫Â≠óÁ¨¶‰∏≤ÁöÑÊï∞Èáè// 3.Collectors// Collectors Á±ªÂÆûÁé∞ÂΩíÁ∫¶Êìç‰ΩúÔºå‰æãÂ¶ÇÂ∞ÜÊµÅËΩ¨Êç¢ÊàêÈõÜÂêàÂíåËÅöÂêàÂÖÉÁ¥†„ÄÇCollectors ÂèØÁî®‰∫éËøîÂõûÂàóË°®ÊàñÂ≠óÁ¨¶‰∏≤Ôºö System.out.println(&quot;Á≠õÈÄâÂàóË°®: &quot; + filtered); String mergedString = strings.stream().filter(string -&gt; !string.isEmpty()).collect(Collectors.joining(&quot;, &quot;)); System.out.println(&quot;ÂêàÂπ∂Â≠óÁ¨¶‰∏≤: &quot; + mergedString);// 4.ÁªüËÆ°// ‰∏Ä‰∫õ‰∫ßÁîüÁªüËÆ°ÁªìÊûúÁöÑÊî∂ÈõÜÂô®‰πüÈùûÂ∏∏ÊúâÁî®„ÄÇÂÆÉ‰ª¨‰∏ªË¶ÅÁî®‰∫éint„ÄÅdouble„ÄÅlongÁ≠âÂü∫Êú¨Á±ªÂûã‰∏äÔºåÂÆÉ‰ª¨ÂèØ‰ª•Áî®Êù•‰∫ßÁîüÁ±ª‰ººÂ¶Ç‰∏ãÁöÑÁªüËÆ°ÁªìÊûú„ÄÇ IntSummaryStatistics stats = numbers.stream().mapToInt((x) -&gt; x).summaryStatistics(); System.out.println(&quot;ÂàóË°®‰∏≠ÊúÄÂ§ßÁöÑÊï∞ : &quot; + stats.getMax()); System.out.println(&quot;ÂàóË°®‰∏≠ÊúÄÂ∞èÁöÑÊï∞ : &quot; + stats.getMin()); System.out.println(&quot;ÊâÄÊúâÊï∞‰πãÂíå : &quot; + stats.getSum()); System.out.println(&quot;Âπ≥ÂùáÊï∞ : &quot; + stats.getAverage()); }} ÂÖ∂‰ªñ Â±ÄÈÉ®ÂèòÈáèÈúÄË¶ÅÊòæÁ§∫ÂàùÂßãÂåñ ‰øùÁïôÂ≠óÔºö 1Ôºâ48‰∏™ÂÖ≥ÈîÆÂ≠óÔºöabstract„ÄÅassert„ÄÅboolean„ÄÅbreak„ÄÅbyte„ÄÅcase„ÄÅcatch„ÄÅchar„ÄÅclass„ÄÅcontinue„ÄÅdefault„ÄÅdo„ÄÅdouble„ÄÅelse„ÄÅenum„ÄÅextends„ÄÅfinal„ÄÅfinally„ÄÅfloat„ÄÅfor„ÄÅif„ÄÅimplements„ÄÅimport„ÄÅint„ÄÅinterface„ÄÅinstanceof„ÄÅlong„ÄÅnative„ÄÅnew„ÄÅpackage„ÄÅprivate„ÄÅprotected„ÄÅpublic„ÄÅreturn„ÄÅshort„ÄÅstatic„ÄÅstrictfp„ÄÅsuper„ÄÅswitch„ÄÅsynchronized„ÄÅthis„ÄÅthrow„ÄÅthrows„ÄÅtransient„ÄÅtry„ÄÅvoid„ÄÅvolatile„ÄÅwhile„ÄÇ 2Ôºâ2‰∏™‰øùÁïôÂ≠óÔºàÁé∞Âú®Ê≤°Áî®‰ª•ÂêéÂèØËÉΩÁî®Âà∞‰Ωú‰∏∫ÂÖ≥ÈîÆÂ≠óÔºâÔºögoto„ÄÅconst„ÄÇ 3Ôºâ3‰∏™ÁâπÊÆäÁõ¥Êé•ÈáèÔºötrue„ÄÅfalse„ÄÅnull„ÄÇ Âü∫Á°ÄÁ±ªÂ∫ìÔºà‰ªé‰∏äÂà∞‰∏ãÁÆÄÂåñ‰∫ÜËß£Ôºâ „Äêjava.io java.lang java.util„Äë „Äêjava.lang.reflect java.net javax.net.* java.nio.* java.util.concurrent.„Äë „Äêjava.lang.annotation javax.annotation.* java.lang.refjava.math java.rmi.*javax.rmi. java.security. javax.security. java.sqljavax.sql. javax.transaction. *java.text javax.xml.org.w3c.dom.org.xml.sax. javax.crypto. * javax.imageio. javax.jws. * java.util.jar java.util.logging java.util.prefs java.util.regex java.util.zip„Äë ËÆøÈóÆÊùÉÈôê private default protected public Âêå‰∏Ä‰∏™Á±ª‰∏≠ ‚àö ‚àö ‚àö ‚àö Âêå‰∏Ä‰∏™ÂåÖ‰∏≠ ‚àö ‚àö ‚àö Â≠êÁ±ª‰∏≠ ‚àö ‚àö ÂÖ®Â±ÄËåÉÂõ¥ÂÜÖ ‚àö Âü∫Êú¨Êï∞ÊçÆÁ±ªÂûã Êï∞ÊçÆÁ±ªÂûã ‰ΩçÊï∞ ÈªòËÆ§ÂÄº ÂèñÂÄºËåÉÂõ¥ ‰∏æ‰æãËØ¥Êòé byte(‰Ωç) 8 0 -2^7 --- 2^7-1 byte b = 10; boolean(Â∏ÉÂ∞îÂÄº) 8 false true„ÄÅfalse boolean b = true; short(Áü≠Êï¥Êï∞) 16 0 -2^15 --- 2^15-1 short s = 10; char(Â≠óÁ¨¶) 16 Á©∫ 0 --- 2^16-1 char c = 'c'; int(Êï¥Êï∞) 32 0 -2^31 --- 2^31-1 int i = 10; float(ÂçïÁ≤æÂ∫¶) 32 0.0 -2^31 --- 2^31-1 float f = 10.0f; long(ÈïøÊï¥Êï∞) 64 0 -2^63 --- 2^63-1 long l = 10l; double(ÂèåÁ≤æÂ∫¶) 64 0.0 -2^63 --- 2^63-1 double d = 10.0d; Èù¢ÂêëÂØπË±° Â∞ÅË£ÖÁªßÊâøÂ§öÊÄÅÔºå Ëá™Âä®Á±ªÂûãËΩ¨Êç¢ 1.Ëã•ÂèÇ‰∏éËøêÁÆóÁöÑÊï∞ÊçÆÁ±ªÂûã‰∏çÂêåÔºåÂàôÂÖàËΩ¨Êç¢ÊàêÂêå‰∏ÄÁ±ªÂûãÔºåÁÑ∂ÂêéËøõË°åËøêÁÆó„ÄÇ 2.ËΩ¨Êç¢ÊåâÊï∞ÊçÆÈïøÂ∫¶Â¢ûÂä†ÁöÑÊñπÂêëËøõË°åÔºå‰ª•‰øùËØÅÁ≤æÂ∫¶‰∏çÈôç‰Ωé„ÄÇ‰æãÂ¶ÇintÂûãÂíålongÂûãËøêÁÆóÊó∂ÔºåÂÖàÊääintÈáèËΩ¨ÊàêlongÂûãÂêéÂÜçËøõË°åËøêÁÆó„ÄÇ 3.ÊâÄÊúâÁöÑÊµÆÁÇπËøêÁÆóÈÉΩÊòØ‰ª•ÂèåÁ≤æÂ∫¶ËøõË°åÁöÑÔºåÂç≥‰Ωø‰ªÖÂê´floatÂçïÁ≤æÂ∫¶ÈáèËøêÁÆóÁöÑË°®ËææÂºèÔºå‰πüË¶ÅÂÖàËΩ¨Êç¢ÊàêdoubleÂûãÔºåÂÜç‰ΩúËøêÁÆó„ÄÇ 4.charÂûãÂíåshortÂûãÂèÇ‰∏éËøêÁÆóÊó∂ÔºåÂøÖÈ°ªÂÖàËΩ¨Êç¢ÊàêintÂûã„ÄÇ 5.Âú®ËµãÂÄºËøêÁÆó‰∏≠ÔºåËµãÂÄºÂè∑‰∏§ËæπÁöÑÊï∞ÊçÆÁ±ªÂûã‰∏çÂêåÊó∂ÔºåÈúÄË¶ÅÊääÂè≥ËæπË°®ËææÂºèÁöÑÁ±ªÂûãÂ∞ÜËΩ¨Êç¢‰∏∫Â∑¶ËæπÂèòÈáèÁöÑÁ±ªÂûã„ÄÇÂ¶ÇÊûúÂè≥ËæπË°®ËææÂºèÁöÑÊï∞ÊçÆÁ±ªÂûãÈïøÂ∫¶ÊØîÂ∑¶ËæπÈïøÊó∂ÔºåÂ∞Ü‰∏¢Â§±‰∏ÄÈÉ®ÂàÜÊï∞ÊçÆÔºåËøôÊ†∑‰ºöÈôç‰ΩéÁ≤æÂ∫¶„ÄÇ ‰∏ãÂõæË°®Á§∫‰∫ÜÁ±ªÂûãËá™Âä®ËΩ¨Êç¢ÁöÑËßÑÂàôÔºö String„ÄÅStringBuffer„ÄÅStringBuilder Âå∫Âà´ 1234567891011121314151617181920212223242526** * String‰ΩøÁî®+ÊãºÊé•Â≠óÁ¨¶‰∏≤ÔºåÂ¶ÇÊûúÂú®Âæ™ÁéØ‰∏≠ÔºåÂú®Âæ™ÁéØ‰∏≠Ôºå * ÊØèÊ¨°Âæ™ÁéØÈÉΩ‰ºöÂàõÂª∫Êñ∞ÁöÑÂ≠óÁ¨¶‰∏≤ÂØπË±°ÔºåÁÑ∂ÂêéÊâîÊéâÊóßÁöÑÂ≠óÁ¨¶‰∏≤„ÄÇ * ËøôÊ†∑ÔºåÁªùÂ§ßÈÉ®ÂàÜÂ≠óÁ¨¶‰∏≤ÈÉΩÊòØ‰∏¥Êó∂ÂØπË±°Ôºå‰∏ç‰ΩÜÊµ™Ë¥πÂÜÖÂ≠òÔºåËøò‰ºöÂΩ±ÂìçGCÊïàÁéá * ‰∏∫È´òÊïàÊãºÊé•Â≠óÁ¨¶‰∏≤JavaÊ†áÂáÜÂ∫ìÊèê‰æõ‰∫ÜStringBuilderÔºåÂÆÉÊòØ‰∏Ä‰∏™ÂèØÂèòÂØπË±°ÔºåÂèØ‰ª•È¢ÑÂàÜÈÖçÁºìÂÜ≤Âå∫ * ÂØπ‰∫éÊôÆÈÄöÁöÑÂ≠óÁ¨¶‰∏≤+Êìç‰ΩúÔºåÂπ∂‰∏çÈúÄË¶ÅÊàë‰ª¨Â∞ÜÂÖ∂ÊîπÂÜô‰∏∫StringBuilderÔºå * Âõ†‰∏∫JavaÁºñËØëÂô®Âú®ÁºñËØëÊó∂Â∞±Ëá™Âä®ÊääÂ§ö‰∏™ËøûÁª≠ÁöÑ+Êìç‰ΩúÁºñÁ†Å‰∏∫StringConcatFactoryÁöÑÊìç‰Ωú„ÄÇ * Âú®ËøêË°åÊúüÔºåStringConcatFactory‰ºöËá™Âä®ÊääÂ≠óÁ¨¶‰∏≤ËøûÊé•Êìç‰Ωú‰ºòÂåñ‰∏∫Êï∞ÁªÑÂ§çÂà∂ÊàñËÄÖStringBuilderÊìç‰Ωú * StringBufferÈÄöËøáÂêåÊ≠•Êù•‰øùËØÅÂ§ö‰∏™Á∫øÁ®ãÊìç‰ΩúStringBuffer‰πüÊòØÂÆâÂÖ®ÁöÑÔºå‰ΩÜÊòØÂêåÊ≠•‰ºöÂ∏¶Êù•ÊâßË°åÈÄüÂ∫¶ÁöÑ‰∏ãÈôç * StringBuilderÂíåStringBufferÊé•Âè£ÂÆåÂÖ®Áõ∏ÂêåÔºåÁé∞Âú®ÂÆåÂÖ®Ê≤°ÊúâÂøÖË¶Å‰ΩøÁî®StringBuffer * @author lxl*/public class StringBuilderL { public static void main(String[] args) { StringBuffer sb = new StringBuffer(1024); for (int i = 0; i &lt; 1000; i++) { sb.append('s'); sb.append(i); } sb.append(&quot;good &quot;) .append(&quot;LXL&quot;) .insert(0, &quot;DD&quot;);//ÈìæÂºèÊìç‰Ωú String s = sb.toString(); System.out.println(s); }} JDK‰∏éJREÂå∫Âà´ 12#Êü•ÁúãJDKË∑ØÂæÑ java -verbose JDK ‚Äã JDK(Java SE Development Kit)ÔºåJavaÊ†áÂáÜÂºÄÂèëÂåÖÔºåÂÆÉÊèê‰æõ‰∫ÜÁºñËØë„ÄÅËøêË°åJavaÁ®ãÂ∫èÊâÄÈúÄÁöÑÂêÑÁßçÂ∑•ÂÖ∑ÂíåËµÑÊ∫êÔºåÂåÖÊã¨JavaÁºñËØëÂô®„ÄÅJavaËøêË°åÊó∂ÁéØÂ¢ÉÔºå‰ª•ÂèäÂ∏∏Áî®ÁöÑJavaÁ±ªÂ∫ìÁ≠â„ÄÇ JRE ‚Äã JRE( Java Runtime Environment) „ÄÅJavaËøêË°åÁéØÂ¢ÉÔºåÁî®‰∫éËß£ÈáäÊâßË°åJavaÁöÑÂ≠óËäÇÁ†ÅÊñá‰ª∂„ÄÇÊôÆÈÄöÁî®Êà∑ËÄåÂè™ÈúÄË¶ÅÂÆâË£Ö JREÔºàJava Runtime EnvironmentÔºâÊù•ËøêË°å Java Á®ãÂ∫è„ÄÇËÄåÁ®ãÂ∫èÂºÄÂèëËÄÖÂøÖÈ°ªÂÆâË£ÖJDKÊù•ÁºñËØë„ÄÅË∞ÉËØïÁ®ãÂ∫è„ÄÇ Á≤æÂ∫¶ÈÅóÂ§±ÈóÆÈ¢ò ‚Äã float ËøòÊòØdoubleÈÉΩÊòØÊµÆÁÇπÊï∞ÔºåËÄåËÆ°ÁÆóÊú∫ÊòØ‰∫åËøõÂà∂ÁöÑÔºåÊµÆÁÇπÊï∞‰ºöÂ§±Âéª‰∏ÄÂÆöÁöÑÁ≤æÁ°ÆÂ∫¶ÔºåÂè™ËÉΩÁî®Êù•ÁßëÂ≠¶ÊàñÂ∑•Á®ãËÆ°ÁÆóÔºå‰∏çËÉΩÁî®Êù•ÂïÜ‰∏öËÆ°ÁÆó„ÄÇÊ†πÊú¨ÂéüÂõ†ÊòØ:ÂçÅËøõÂà∂ÂÄºÈÄöÂ∏∏Ê≤°ÊúâÂÆåÂÖ®Áõ∏ÂêåÁöÑ‰∫åËøõÂà∂Ë°®Á§∫ÂΩ¢Âºè;ÂçÅËøõÂà∂Êï∞ÁöÑ‰∫åËøõÂà∂Ë°®Á§∫ÂΩ¢ÂºèÂèØËÉΩ‰∏çÁ≤æÁ°Æ„ÄÇÂè™ËÉΩÊó†ÈôêÊé•Ëøë‰∫éÈÇ£‰∏™ÂÄº BigDecimal 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109package pers.lxl.mylearnproject.javase.coreclass;import com.sun.istack.internal.NotNull;import java.math.BigDecimal;import java.math.RoundingMode;import static java.math.BigDecimal.ROUND_CEILING;/** * JavaÂú®java.mathÂåÖ‰∏≠Êèê‰æõÁöÑAPIÁ±ªBigDecimalÔºåÁî®Êù•ÂØπË∂ÖËøá16‰ΩçÊúâÊïà‰ΩçÁöÑÊï∞ËøõË°åÁ≤æÁ°ÆÁöÑËøêÁÆó„ÄÇ * ÂèåÁ≤æÂ∫¶ÊµÆÁÇπÂûãÂèòÈáèdoubleÂèØ‰ª•Â§ÑÁêÜ16‰ΩçÊúâÊïàÊï∞„ÄÇÂú®ÂÆûÈôÖÂ∫îÁî®‰∏≠ÔºåÈúÄË¶ÅÂØπÊõ¥Â§ßÊàñËÄÖÊõ¥Â∞èÁöÑÊï∞ËøõË°åËøêÁÆóÂíåÂ§ÑÁêÜ„ÄÇ * floatÂíådoubleÂè™ËÉΩÁî®Êù•ÂÅöÁßëÂ≠¶ËÆ°ÁÆóÊàñËÄÖÊòØÂ∑•Á®ãËÆ°ÁÆóÔºåÂú®ÂïÜ‰∏öËÆ°ÁÆó‰∏≠Ë¶ÅÁî®java.math.BigDecimal„ÄÇ * BigDecimalÊâÄÂàõÂª∫ÁöÑÊòØÂØπË±°ÔºåÊàë‰ª¨‰∏çËÉΩ‰ΩøÁî®‰º†ÁªüÁöÑ+„ÄÅ-„ÄÅ*„ÄÅ/Á≠âÁÆóÊúØËøêÁÆóÁ¨¶Áõ¥Êé•ÂØπÂÖ∂ÂØπË±°ËøõË°åÊï∞Â≠¶ËøêÁÆóÔºåËÄåÂøÖÈ°ªË∞ÉÁî®ÂÖ∂Áõ∏ÂØπÂ∫îÁöÑÊñπÊ≥ï„ÄÇ * ÊñπÊ≥ï‰∏≠ÁöÑÂèÇÊï∞‰πüÂøÖÈ°ªÊòØBigDecimalÁöÑÂØπË±°„ÄÇÊûÑÈÄ†Âô®ÊòØÁ±ªÁöÑÁâπÊÆäÊñπÊ≥ïÔºå‰∏ìÈó®Áî®Êù•ÂàõÂª∫ÂØπË±°ÔºåÁâπÂà´ÊòØÂ∏¶ÊúâÂèÇÊï∞ÁöÑÂØπË±°„ÄÇ * * @author Administrator * * ÂèÇËÄÉÔºöhttps://blog.csdn.net/qq_35868412/article/details/89029288 */public class BigDecimalL { public static void main(String[] args) {// Á≤æÂ∫¶ÈÅóÂ§±ÈóÆÈ¢ò// float ËøòÊòØdoubleÈÉΩÊòØÊµÆÁÇπÊï∞ÔºåËÄåËÆ°ÁÆóÊú∫ÊòØ‰∫åËøõÂà∂ÁöÑÔºåÊµÆÁÇπÊï∞‰ºöÂ§±Âéª‰∏ÄÂÆöÁöÑÁ≤æÁ°ÆÂ∫¶ÔºåÂè™ËÉΩÁî®Êù•ÁßëÂ≠¶ÊàñÂ∑•Á®ãËÆ°ÁÆóÔºå‰∏çËÉΩÁî®Êù•ÂïÜ‰∏öËÆ°ÁÆó„ÄÇÊ†πÊú¨ÂéüÂõ†ÊòØ:ÂçÅËøõÂà∂ÂÄºÈÄöÂ∏∏Ê≤°ÊúâÂÆåÂÖ®Áõ∏ÂêåÁöÑ‰∫åËøõÂà∂Ë°®Á§∫ÂΩ¢Âºè;ÂçÅËøõÂà∂Êï∞ÁöÑ‰∫åËøõÂà∂Ë°®Á§∫ÂΩ¢ÂºèÂèØËÉΩ‰∏çÁ≤æÁ°Æ„ÄÇÂè™ËÉΩÊó†ÈôêÊé•Ëøë‰∫éÈÇ£‰∏™ÂÄº// 0.19999999999999998 System.out.println(0.3 - 0.1);// 0.020000000000000004 System.out.println(0.2 * 0.1);// 0.30000000000000004 System.out.println(0.2 + 0.1);// 2.9999999999999996 System.out.println(0.3 / 0.1);//ÈáëËûçÈ°πÁõÆ‰∏≠ÈúÄË¶ÅÂáÜÁ°ÆËÆ°ÁÆóÔºå‰∏çËÉΩÊúâÁ≤æÂ∫¶ÈÅóÂ§±ÈóÆÈ¢òÔºåÊâÄ‰ª•ÂïÜ‰∏ö‰ΩøÁî®ÈúÄË¶ÅÁî®BigDecimal==============================//BigDecimal(int) ÂàõÂª∫‰∏Ä‰∏™ÂÖ∑ÊúâÂèÇÊï∞ÊâÄÊåáÂÆöÊï¥Êï∞ÂÄºÁöÑÂØπË±°„ÄÇ//BigDecimal(double) ÂàõÂª∫‰∏Ä‰∏™ÂÖ∑ÊúâÂèÇÊï∞ÊâÄÊåáÂÆöÂèåÁ≤æÂ∫¶ÂÄºÁöÑÂØπË±°„ÄÇ //‰∏çÊé®Ëçê‰ΩøÁî®//BigDecimal(long) ÂàõÂª∫‰∏Ä‰∏™ÂÖ∑ÊúâÂèÇÊï∞ÊâÄÊåáÂÆöÈïøÊï¥Êï∞ÂÄºÁöÑÂØπË±°„ÄÇ//BigDecimal(String) ÂàõÂª∫‰∏Ä‰∏™ÂÖ∑ÊúâÂèÇÊï∞ÊâÄÊåáÂÆö‰ª•Â≠óÁ¨¶‰∏≤Ë°®Á§∫ÁöÑÊï∞ÂÄºÁöÑÂØπË±°„ÄÇ//Êé®Ëçê‰ΩøÁî®//add(BigDecimal) BigDecimalÂØπË±°‰∏≠ÁöÑÂÄºÁõ∏Âä†ÔºåÁÑ∂ÂêéËøîÂõûËøô‰∏™ÂØπË±°„ÄÇ//subtract(BigDecimal) BigDecimalÂØπË±°‰∏≠ÁöÑÂÄºÁõ∏ÂáèÔºåÁÑ∂ÂêéËøîÂõûËøô‰∏™ÂØπË±°„ÄÇ//multiply(BigDecimal) BigDecimalÂØπË±°‰∏≠ÁöÑÂÄºÁõ∏‰πòÔºåÁÑ∂ÂêéËøîÂõûËøô‰∏™ÂØπË±°„ÄÇ//divide(BigDecimal) BigDecimalÂØπË±°‰∏≠ÁöÑÂÄºÁõ∏Èô§ÔºåÁÑ∂ÂêéËøîÂõûËøô‰∏™ÂØπË±°„ÄÇ//toString() Â∞ÜBigDecimalÂØπË±°ÁöÑÊï∞ÂÄºËΩ¨Êç¢ÊàêÂ≠óÁ¨¶‰∏≤„ÄÇ//doubleValue() Â∞ÜBigDecimalÂØπË±°‰∏≠ÁöÑÂÄº‰ª•ÂèåÁ≤æÂ∫¶Êï∞ËøîÂõû„ÄÇ//floatValue() Â∞ÜBigDecimalÂØπË±°‰∏≠ÁöÑÂÄº‰ª•ÂçïÁ≤æÂ∫¶Êï∞ËøîÂõû„ÄÇ//longValue() Â∞ÜBigDecimalÂØπË±°‰∏≠ÁöÑÂÄº‰ª•ÈïøÊï¥Êï∞ËøîÂõû„ÄÇ//intValue() Â∞ÜBigDecimalÂØπË±°‰∏≠ÁöÑÂÄº‰ª•Êï¥Êï∞ËøîÂõû„ÄÇ BigDecimal bd1 = new BigDecimal(&quot;4264.24&quot;); BigDecimal bd2 = new BigDecimal(&quot;2132.1200&quot;); BigDecimal bd3 = new BigDecimal(&quot;213200&quot;); BigDecimal bd6 = new BigDecimal(&quot;4.0000&quot;); BigDecimal bd7 = new BigDecimal(&quot;3.0&quot;);// Âä† System.out.println(&quot;Âä†&quot;+bd1.add(bd3));// Âáè System.out.println(&quot;Âáè&quot;+bd1.subtract(bd1));// ‰πò System.out.println(&quot;‰πò&quot;+bd6.multiply(bd7));// Èô§// ‰∏çÂàÜÈÖç‰øùÁïôÂ∞èÊï∞ÁÇπ‰øùÁïô‰ΩçÊï∞ÁöÑÈùûÊï¥Èô§ËøêÁÆó‰ºöÂØºËá¥Êä•Èîôjava.lang.ArithmeticExceptionÔºöNon-terminating decimal expansion; no exact representable decimal result.// System.out.println(bd1.divide(bd3));// Â§ö‰º†ÂÖ•‰∏§‰∏™ÂèÇÊï∞Âç≥ÂèØÈÅøÂÖç// divide(BigDecimalÔºå‰øùÁïôÂ∞èÊï∞ÁÇπÂêéÂá†‰ΩçÂ∞èÊï∞ÔºåËàçÂÖ•Ê®°Âºè)//ËàçÂÖ•Ê®°Âºè//ROUND_CEILING //ÂêëÊ≠£Êó†Á©∑ÊñπÂêëËàçÂÖ•//ROUND_DOWN //ÂêëÈõ∂ÊñπÂêëËàçÂÖ•//ROUND_FLOOR //ÂêëË¥üÊó†Á©∑ÊñπÂêëËàçÂÖ•//ROUND_HALF_DOWN //ÂêëÔºàË∑ùÁ¶ªÔºâÊúÄËøëÁöÑ‰∏ÄËæπËàçÂÖ•ÔºåÈô§Èùû‰∏§ËæπÔºàÁöÑË∑ùÁ¶ªÔºâÊòØÁõ∏Á≠â,Â¶ÇÊûúÊòØËøôÊ†∑ÔºåÂêë‰∏ãËàçÂÖ•, ‰æãÂ¶Ç1.55 ‰øùÁïô‰∏Ä‰ΩçÂ∞èÊï∞ÁªìÊûú‰∏∫1.5//ROUND_HALF_EVEN //ÂêëÔºàË∑ùÁ¶ªÔºâÊúÄËøëÁöÑ‰∏ÄËæπËàçÂÖ•ÔºåÈô§Èùû‰∏§ËæπÔºàÁöÑË∑ùÁ¶ªÔºâÊòØÁõ∏Á≠â,Â¶ÇÊûúÊòØËøôÊ†∑ÔºåÂ¶ÇÊûú‰øùÁïô‰ΩçÊï∞ÊòØÂ•áÊï∞Ôºå‰ΩøÁî®ROUND_HALF_UPÔºåÂ¶ÇÊûúÊòØÂÅ∂Êï∞Ôºå‰ΩøÁî®ROUND_HALF_DOWN//ROUND_HALF_UP //ÂêëÔºàË∑ùÁ¶ªÔºâÊúÄËøëÁöÑ‰∏ÄËæπËàçÂÖ•ÔºåÈô§Èùû‰∏§ËæπÔºàÁöÑË∑ùÁ¶ªÔºâÊòØÁõ∏Á≠â,Â¶ÇÊûúÊòØËøôÊ†∑ÔºåÂêë‰∏äËàçÂÖ•, 1.55‰øùÁïô‰∏Ä‰ΩçÂ∞èÊï∞ÁªìÊûú‰∏∫1.6,‰πüÂ∞±ÊòØÊàë‰ª¨Â∏∏ËØ¥ÁöÑ‚ÄúÂõõËàç‰∫îÂÖ•‚Äù//ROUND_UNNECESSARY //ËÆ°ÁÆóÁªìÊûúÊòØÁ≤æÁ°ÆÁöÑÔºå‰∏çÈúÄË¶ÅËàçÂÖ•Ê®°Âºè//ROUND_UP //ÂêëËøúÁ¶ª0ÁöÑÊñπÂêëËàçÂÖ• System.out.println(&quot;Èô§&quot;+bd6.divide(bd7,2,ROUND_CEILING)); //scale()Ë°®Á§∫Â∞èÊï∞‰ΩçÊï∞ System.out.println(bd1.scale()); System.out.println(bd2.scale()); System.out.println(bd3.scale()); //stripTrailingZeros()ÊñπÊ≥ïÔºåÂèØ‰ª•Â∞Ü‰∏Ä‰∏™BigDecimalÊ†ºÂºèÂåñ‰∏∫‰∏Ä‰∏™Áõ∏Á≠âÁöÑÔºå‰ΩÜÂéªÊéâ‰∫ÜÊú´Â∞æ0ÁöÑBigDecimal BigDecimal d1 = bd1.stripTrailingZeros(); BigDecimal d2 = bd2.stripTrailingZeros(); BigDecimal d3 = bd3.stripTrailingZeros(); //scale()ËøîÂõûË¥üÊï∞Ôºå‰æãÂ¶ÇÔºå-2ÔºåË°®Á§∫Ëøô‰∏™Êï∞ÊòØ‰∏™Êï¥Êï∞ÔºåÂπ∂‰∏îÊú´Â∞æÊúâ2‰∏™0 System.out.println(d1.scale()); System.out.println(d2.scale()); System.out.println(d3.scale()); //Èô§Ê≥ïÊó∂ÔºåÂ≠òÂú®Êó†Ê≥ïÈô§Â∞ΩÁöÑÊÉÖÂÜµÔºåËøôÊó∂ÔºåÂ∞±ÂøÖÈ°ªÊåáÂÆöÁ≤æÂ∫¶‰ª•ÂèäÂ¶Ç‰ΩïËøõË°åÊà™Êñ≠,ËøòÂèØÂêå‰∫ãÊ±Ç‰ΩôÊï∞ //ÂõõËàç‰∫îÂÖ• BigDecimal bd4 = bd1.setScale(4, RoundingMode.HALF_UP); //Áõ¥Êé•Êà™Êñ≠ BigDecimal bd5 = bd1.setScale(4, RoundingMode.DOWN); //divideAndRemainder()ÊñπÊ≥ïÊó∂ÔºåËøîÂõûÁöÑÊï∞ÁªÑÂåÖÂê´‰∏§‰∏™BigDecimalÔºåÂàÜÂà´ÊòØÂïÜÂíå‰ΩôÊï∞Ôºå // ÂÖ∂‰∏≠ÂïÜÊÄªÊòØÊï¥Êï∞Ôºå‰ΩôÊï∞‰∏ç‰ºöÂ§ß‰∫éÈô§Êï∞„ÄÇÊàë‰ª¨ÂèØ‰ª•Âà©Áî®Ëøô‰∏™ÊñπÊ≥ïÂà§Êñ≠‰∏§‰∏™BigDecimalÊòØÂê¶ÊòØÊï¥Êï∞ÂÄçÊï∞ BigDecimal[] dr = bd1.divideAndRemainder(bd2); if (dr[1].signum() == 0) { System.out.println(&quot;bd1ÊòØbd2ÁöÑÊï¥&quot; + dr[0] + &quot;ÂÄç&quot;); } //Âú®ÊØîËæÉ‰∏§‰∏™BigDecimalÁöÑÂÄºÊòØÂê¶Áõ∏Á≠âÊó∂ÔºåË¶ÅÁâπÂà´Ê≥®ÊÑèÔºå‰ΩøÁî®equals()ÊñπÊ≥ï‰∏ç‰ΩÜË¶ÅÊ±Ç‰∏§‰∏™BigDecimalÁöÑÂÄºÁõ∏Á≠âÔºåËøòË¶ÅÊ±ÇÂÆÉ‰ª¨ÁöÑscale()Áõ∏Á≠â //ÂøÖÈ°ª‰ΩøÁî®compareTo()ÊñπÊ≥ïÊù•ÊØîËæÉÔºåÂÆÉÊ†πÊçÆ‰∏§‰∏™ÂÄºÁöÑÂ§ßÂ∞èÂàÜÂà´ËøîÂõûË¥üÊï∞„ÄÅÊ≠£Êï∞Âíå0ÔºåÂàÜÂà´Ë°®Á§∫Â∞è‰∫é„ÄÅÂ§ß‰∫éÂíåÁ≠â‰∫é// JDKÁöÑÊèèËø∞Ôºö1„ÄÅÂèÇÊï∞Á±ªÂûã‰∏∫doubleÁöÑÊûÑÈÄ†ÊñπÊ≥ïÁöÑÁªìÊûúÊúâ‰∏ÄÂÆöÁöÑ‰∏çÂèØÈ¢ÑÁü•ÊÄß„ÄÇÊúâ‰∫∫ÂèØËÉΩËÆ§‰∏∫Âú®Java‰∏≠ÂÜôÂÖ•newBigDecimal(0.1)ÊâÄÂàõÂª∫ÁöÑBigDecimalÊ≠£Â•ΩÁ≠â‰∫é 0.1ÔºàÈùûÊ†áÂ∫¶ÂÄº 1ÔºåÂÖ∂Ê†áÂ∫¶‰∏∫ 1ÔºâÔºå// ‰ΩÜÊòØÂÆÉÂÆûÈôÖ‰∏äÁ≠â‰∫é0.1000000000000000055511151231257827021181583404541015625„ÄÇËøôÊòØÂõ†‰∏∫0.1Êó†Ê≥ïÂáÜÁ°ÆÂú∞Ë°®Á§∫‰∏∫ doubleÔºàÊàñËÄÖËØ¥ÂØπ‰∫éËØ•ÊÉÖÂÜµÔºå‰∏çËÉΩË°®Á§∫‰∏∫‰ªª‰ΩïÊúâÈôêÈïøÂ∫¶ÁöÑ‰∫åËøõÂà∂Â∞èÊï∞Ôºâ„ÄÇ// ËøôÊ†∑Ôºå‰º†ÂÖ•Âà∞ÊûÑÈÄ†ÊñπÊ≥ïÁöÑÂÄº‰∏ç‰ºöÊ≠£Â•ΩÁ≠â‰∫é 0.1ÔºàËôΩÁÑ∂Ë°®Èù¢‰∏äÁ≠â‰∫éËØ•ÂÄºÔºâ„ÄÇ// 2„ÄÅÂè¶‰∏ÄÊñπÈù¢ÔºåString ÊûÑÈÄ†ÊñπÊ≥ïÊòØÂÆåÂÖ®ÂèØÈ¢ÑÁü•ÁöÑÔºöÂÜôÂÖ• newBigDecimal(&quot;0.1&quot;) Â∞ÜÂàõÂª∫‰∏Ä‰∏™ BigDecimalÔºåÂÆÉÊ≠£Â•ΩÁ≠â‰∫éÈ¢ÑÊúüÁöÑ 0.1„ÄÇÂõ†Ê≠§ÔºåÊØîËæÉËÄåË®ÄÔºåÈÄöÂ∏∏Âª∫ËÆÆ‰ºòÂÖà‰ΩøÁî®StringÊûÑÈÄ†ÊñπÊ≥ï// ÂΩìdoubleÂøÖÈ°ªÁî®‰ΩúBigDecimalÁöÑÊ∫êÊó∂ÔºåËØ∑‰ΩøÁî®Double.toString(double)ËΩ¨ÊàêStringÔºåÁÑ∂Âêé‰ΩøÁî®StringÊûÑÈÄ†ÊñπÊ≥ïÔºåÊàñ‰ΩøÁî®BigDecimalÁöÑÈùôÊÄÅÊñπÊ≥ïvalueOf }} BigInteger 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556package pers.lxl.mylearnproject.javase.coreclass;import java.math.BigInteger;/**CPUÂéüÁîüÊèê‰æõÁöÑÊï¥ÂûãÊúÄÂ§ßËåÉÂõ¥ÊòØ64‰ΩçlongÂûãÊï¥Êï∞ * Â¶ÇÊûúÊàë‰ª¨‰ΩøÁî®ÁöÑÊï¥Êï∞ËåÉÂõ¥Ë∂ÖËøá‰∫ÜlongÂûãÊÄé‰πàÂäûÔºüËøô‰∏™Êó∂ÂÄôÔºåÂ∞±Âè™ËÉΩÁî®ËΩØ‰ª∂Êù•Ê®°Êãü‰∏Ä‰∏™Â§ßÊï¥Êï∞„ÄÇ * java.math.BigIntegerÂ∞±ÊòØÁî®Êù•Ë°®Á§∫‰ªªÊÑèÂ§ßÂ∞èÁöÑÊï¥Êï∞„ÄÇ * BigIntegerÂÜÖÈÉ®Áî®‰∏Ä‰∏™int[]Êï∞ÁªÑÊù•Ê®°Êãü‰∏Ä‰∏™ÈùûÂ∏∏Â§ßÁöÑÊï¥Êï∞Ôºö * @author Administrator*/public class BigIntegerL { public static void main(String[] args) { BigInteger bi = new BigInteger(&quot;12131231231233&quot;); BigInteger bi1 = new BigInteger(&quot;121321211111111&quot;); System.out.println(bi.pow(5)); //BigIntegerÂÅöËøêÁÆóÁöÑÊó∂ÂÄôÔºåÂè™ËÉΩ‰ΩøÁî®ÂÆû‰æãÊñπÊ≥ï,ÂíålongÂûãÊï¥Êï∞ËøêÁÆóÊØîÔºåBigInteger‰∏ç‰ºöÊúâËåÉÂõ¥ÈôêÂà∂Ôºå‰ΩÜÁº∫ÁÇπÊòØÈÄüÂ∫¶ÊØîËæÉÊÖ¢„ÄÇ BigInteger sum = bi.add(bi1); /*ËΩ¨Êç¢‰∏∫byteÔºöbyteValue() ËΩ¨Êç¢‰∏∫shortÔºöshortValue() ËΩ¨Êç¢‰∏∫intÔºöintValue() ËΩ¨Êç¢‰∏∫longÔºölongValue() ËΩ¨Êç¢‰∏∫floatÔºöfloatValue() ËΩ¨Êç¢‰∏∫doubleÔºödoubleValue() ÈÄöËøá‰∏äËø∞ÊñπÊ≥ïÔºåÂèØ‰ª•ÊääBigIntegerËΩ¨Êç¢ÊàêÂü∫Êú¨Á±ªÂûã„ÄÇ Â¶ÇÊûúBigIntegerË°®Á§∫ÁöÑËåÉÂõ¥Ë∂ÖËøá‰∫ÜÂü∫Êú¨Á±ªÂûãÁöÑËåÉÂõ¥Ôºå ËΩ¨Êç¢Êó∂Â∞Ü‰∏¢Â§±È´ò‰Ωç‰ø°ÊÅØÔºåÂç≥ÁªìÊûú‰∏ç‰∏ÄÂÆöÊòØÂáÜÁ°ÆÁöÑ„ÄÇÂ¶ÇÊûúÈúÄË¶ÅÂáÜÁ°ÆÂú∞ËΩ¨Êç¢ÊàêÂü∫Êú¨Á±ªÂûãÔºå ÂèØ‰ª•‰ΩøÁî®intValueExact()„ÄÅlongValueExact()Á≠âÊñπÊ≥ïÔºåÂú®ËΩ¨Êç¢Êó∂Â¶ÇÊûúË∂ÖÂá∫ËåÉÂõ¥Ôºå Â∞ÜÁõ¥Êé•ÊäõÂá∫ArithmeticExceptionÂºÇÂ∏∏ Â¶ÇÊûúBigIntegerÁöÑÂÄºÁîöËá≥Ë∂ÖËøá‰∫ÜfloatÁöÑÊúÄÂ§ßËåÉÂõ¥Ôºà3.4x1038ÔºâÔºåÈÇ£‰πàËøîÂõûÁöÑfloat‰∏∫Infinity ÂÖ∂‰ªñÂ∏∏Áî®ÊñπÊ≥ïÔºö BigInteger abs() ËøîÂõûÂ§ßÊï¥Êï∞ÁöÑÁªùÂØπÂÄº BigInteger add(BigInteger val) ËøîÂõû‰∏§‰∏™Â§ßÊï¥Êï∞ÁöÑÂíå BigInteger and(BigInteger val) ËøîÂõû‰∏§‰∏™Â§ßÊï¥Êï∞ÁöÑÊåâ‰Ωç‰∏éÁöÑÁªìÊûú BigInteger andNot(BigInteger val) ËøîÂõû‰∏§‰∏™Â§ßÊï¥Êï∞‰∏éÈùûÁöÑÁªìÊûú BigInteger divide(BigInteger val) ËøîÂõû‰∏§‰∏™Â§ßÊï¥Êï∞ÁöÑÂïÜ BigInteger gcd(BigInteger val) ËøîÂõûÂ§ßÊï¥Êï∞ÁöÑÊúÄÂ§ßÂÖ¨Á∫¶Êï∞ BigInteger max(BigInteger val) ËøîÂõû‰∏§‰∏™Â§ßÊï¥Êï∞ÁöÑÊúÄÂ§ßËÄÖ BigInteger min(BigInteger val) ËøîÂõû‰∏§‰∏™Â§ßÊï¥Êï∞ÁöÑÊúÄÂ∞èËÄÖ BigInteger mod(BigInteger val) Áî®ÂΩìÂâçÂ§ßÊï¥Êï∞ÂØπvalÊ±ÇÊ®° BigInteger multiply(BigInteger val) ËøîÂõû‰∏§‰∏™Â§ßÊï¥Êï∞ÁöÑÁßØ BigInteger negate() ËøîÂõûÂΩìÂâçÂ§ßÊï¥Êï∞ÁöÑÁõ∏ÂèçÊï∞ BigInteger not() ËøîÂõûÂΩìÂâçÂ§ßÊï¥Êï∞ÁöÑÈùû BigInteger or(BigInteger val) ËøîÂõû‰∏§‰∏™Â§ßÊï¥Êï∞ÁöÑÊåâ‰ΩçÊàñ BigInteger pow(int exponent) ËøîÂõûÂΩìÂâçÂ§ßÊï¥Êï∞ÁöÑexponentÊ¨°Êñπ BigInteger remainder(BigInteger val) ËøîÂõûÂΩìÂâçÂ§ßÊï¥Êï∞Èô§‰ª•valÁöÑ‰ΩôÊï∞ BigInteger leftShift(int n) Â∞ÜÂΩìÂâçÂ§ßÊï¥Êï∞Â∑¶Áßªn‰ΩçÂêéËøîÂõû BigInteger rightShift(int n) Â∞ÜÂΩìÂâçÂ§ßÊï¥Êï∞Âè≥Áßªn‰ΩçÂêéËøîÂõû BigInteger subtract(BigInteger val)ËøîÂõû‰∏§‰∏™Â§ßÊï¥Êï∞Áõ∏ÂáèÁöÑÁªìÊûú byte[] toByteArray(BigInteger val)Â∞ÜÂ§ßÊï¥Êï∞ËΩ¨Êç¢Êàê‰∫åËøõÂà∂ÂèçÁ†Å‰øùÂ≠òÂú®byteÊï∞ÁªÑ‰∏≠ String toString() Â∞ÜÂΩìÂâçÂ§ßÊï¥Êï∞ËΩ¨Êç¢ÊàêÂçÅËøõÂà∂ÁöÑÂ≠óÁ¨¶‰∏≤ÂΩ¢Âºè BigInteger xor(BigInteger val) ËøîÂõû‰∏§‰∏™Â§ßÊï¥Êï∞ÁöÑÂºÇÊàñ */ }} Ê≥®Ëß£ Ê≥®Ëß£Áî®ÈÄî 1Ôºå‰ªÄ‰πàÊòØÊ≥®Ëß£ Ê≥®Ëß£‰πüÂè´ÂÖÉÊï∞ÊçÆÔºå‰æãÂ¶ÇÊàë‰ª¨Â∏∏ËßÅÁöÑ@OverrideÂíå@DeprecatedÔºåÊ≥®Ëß£ÊòØJDK1.5ÁâàÊú¨ÂºÄÂßãÂºïÂÖ•ÁöÑ‰∏Ä‰∏™ÁâπÊÄßÔºåÁî®‰∫éÂØπ‰ª£Á†ÅËøõË°åËØ¥ÊòéÔºåÂèØ‰ª•ÂØπÂåÖ„ÄÅÁ±ª„ÄÅÊé•Âè£„ÄÅÂ≠óÊÆµ„ÄÅÊñπÊ≥ïÂèÇÊï∞„ÄÅÂ±ÄÈÉ®ÂèòÈáèÁ≠âËøõË°åÊ≥®Ëß£ **Ê≥®Ëß£Á±ªÂûã:**‰∏ÄËà¨Â∏∏Áî®ÁöÑÊ≥®Ëß£ÂèØ‰ª•ÂàÜ‰∏∫‰∏âÁ±ªÔºö ‰∏ÄÁ±ªÊòØJavaËá™Â∏¶ÁöÑÊ†áÂáÜÊ≥®Ëß£ÔºåÂåÖÊã¨@OverrideÔºàÊ†áÊòéÈáçÂÜôÊüê‰∏™ÊñπÊ≥ïÔºâ„ÄÅ@DeprecatedÔºàÊ†áÊòéÊüê‰∏™Á±ªÊàñÊñπÊ≥ïËøáÊó∂ÔºâÂíå@SuppressWarningsÔºàÊ†áÊòéË¶ÅÂøΩÁï•ÁöÑË≠¶ÂëäÔºâÔºå‰ΩøÁî®Ëøô‰∫õÊ≥®Ëß£ÂêéÁºñËØëÂô®Â∞±‰ºöËøõË°åÊ£ÄÊü•„ÄÇ ‰∏ÄÁ±ª‰∏∫ÂÖÉÊ≥®Ëß£ÔºåÂÖÉÊ≥®Ëß£ÊòØÁî®‰∫éÂÆö‰πâÊ≥®Ëß£ÁöÑÊ≥®Ëß£ÔºåÂåÖÊã¨@RetentionÔºàÊ†áÊòéÊ≥®Ëß£Ë¢´‰øùÁïôÁöÑÈò∂ÊÆµÔºâ„ÄÅ@TargetÔºàÊ†áÊòéÊ≥®Ëß£‰ΩøÁî®ÁöÑËåÉÂõ¥Ôºâ„ÄÅ@InheritedÔºàÊ†áÊòéÊ≥®Ëß£ÂèØÁªßÊâøÔºâ„ÄÅ@DocumentedÔºàÊ†áÊòéÊòØÂê¶ÁîüÊàêjavadocÊñáÊ°£Ôºâ ‰∏ÄÁ±ª‰∏∫Ëá™ÂÆö‰πâÊ≥®Ëß£ÔºåÂèØ‰ª•Ê†πÊçÆËá™Â∑±ÁöÑÈúÄÊ±ÇÂÆö‰πâÊ≥®Ëß£ Ê≥®Ëß£‰∏éxmlÂå∫Âà´Ôºö Ê≥®Ëß£ÔºöÊòØ‰∏ÄÁßçÂàÜÊï£ÂºèÁöÑÂÖÉÊï∞ÊçÆÔºå‰∏éÊ∫ê‰ª£Á†ÅÁ¥ßÁªëÂÆöËÄ¶Âêà„ÄÇ xmlÔºöÊòØ‰∏ÄÁßçÈõÜ‰∏≠ÂºèÁöÑÂÖÉÊï∞ÊçÆÔºå‰∏éÊ∫ê‰ª£Á†ÅÊó†ÁªëÂÆö ÂΩìÁÑ∂ÁΩë‰∏äÂ≠òÂú®ÂêÑÁßçXML‰∏éÊ≥®Ëß£ÁöÑËæ©ËÆ∫Âì™‰∏™Êõ¥Â•ΩÔºåËøôÈáå‰∏ç‰ΩúËØÑËÆ∫Âíå‰ªãÁªçÔºå‰∏ªË¶Å‰ªãÁªç‰∏Ä‰∏ãÊ≥®Ëß£ÁöÑ‰∏ªË¶ÅÁî®ÈÄî: ÁîüÊàêÊñáÊ°£ÔºåÈÄöËøá‰ª£Á†ÅÈáåÊ†áËØÜÁöÑÂÖÉÊï∞ÊçÆÁîüÊàêjavadocÊñáÊ°£„ÄÇ ÁºñËØëÊ£ÄÊü•ÔºåÈÄöËøá‰ª£Á†ÅÈáåÊ†áËØÜÁöÑÂÖÉÊï∞ÊçÆËÆ©ÁºñËØëÂô®Âú®ÁºñËØëÊúüÈó¥ËøõË°åÊ£ÄÊü•È™åËØÅ„ÄÇ ÁºñËØëÊó∂Âä®ÊÄÅÂ§ÑÁêÜÔºåÁºñËØëÊó∂ÈÄöËøá‰ª£Á†ÅÈáåÊ†áËØÜÁöÑÂÖÉÊï∞ÊçÆÂä®ÊÄÅÂ§ÑÁêÜÔºå‰æãÂ¶ÇÂä®ÊÄÅÁîüÊàê‰ª£Á†Å„ÄÇ ËøêË°åÊó∂Âä®ÊÄÅÂ§ÑÁêÜÔºåËøêË°åÊó∂ÈÄöËøá‰ª£Á†ÅÈáåÊ†áËØÜÁöÑÂÖÉÊï∞ÊçÆÂä®ÊÄÅÂ§ÑÁêÜÔºå‰æãÂ¶Ç‰ΩøÁî®ÂèçÂ∞ÑÊ≥®ÂÖ•ÂÆû‰æã Ê≥®Ëß£‰ΩúÁî®Âüü @Target({ElementType.TYPE}) //Class,interface,enum @Target({ElementType.METHOD}) @Target({ElementType.FIELD}) @Target({ElementType.PARAMETER}) Ê≥®Ëß£ÂéüÁêÜ ÂÆûÈôÖËøêÁî®Á§∫‰æã @Excel ÂèÇËÄÉËµÑÊ∫êÔºö 1.https://blog.csdn.net/xushiyu1996818/article/details/91983557","link":"/2021/02/24/Draft/2021/Java/"},{"title":"GIS","text":"MAPBOX cgcs2000 Mapbox VUE‰ΩøÁî® ÂÆâË£ÖÔºönpm i @cgcs2000/mapbox-gl MAPBOXÊ∫êÁ†ÅÁºñËØë„ÄÅÂàáÁâáÊµÅÁ®ã ÂáÜÂ§áÔºöÁÜüÊÇâlinux ÂÆâË£Ö„ÄÅÁΩëÁªú„ÄÅÊñá‰ª∂Á≠âÂü∫Êú¨Êìç‰ΩúÔºåJS„ÄÅHTMLÁ≠âÁÜüÊÇâÔºåMapboxÁÜüÊÇâÔºåSQLÁÜüÊÇâÔºåÔºåÔºå Ê≥®ÊÑèÂèÇÊï∞ÔºöÂêå‰∏ÄÂ•óÂùêÊ†á„ÄÅÁªèÁ∫¨Â∫¶Á≠â UbuntuÁéØÂ¢ÉÂáÜÂ§á===„ÄãÂÖ∂‰ªñÊ†ºÂºèÊï∞ÊçÆ===„ÄãshpÊï∞ÊçÆ===„ÄãWindowsÂØºÂÖ•postgresqlÊï∞ÊçÆÂ∫ì===„ÄãÈÄöËøáogr2ogrËΩ¨Êç¢‰∏∫geojson===„ÄãÈÄöËøátippecanoeÂàáÁâáÔºàÂèÇÊï∞Ëá™ÊéßÔºâ„Äã~~Êï∞ÊçÆÊâìÂåÖÔºà‰º†ËæìÊõ¥Âø´Ôºâ~~windowsÂÖ±‰∫´Êñá‰ª∂Â§π=„ÄãÂáÜÂ§ámapbox2000 js cssÊñá‰ª∂====„ÄãmapboxÂâçÁ´Ø‰ª£Á†ÅÂØºÂÖ•Êï∞ÊçÆÂπ∂ÊòæÁ§∫====„ÄãÂáÜÂ§áÂõæÊ†áÊï∞ÊçÆ===„ÄãfilterÂàÜÁ±ªÂõæÊ†áÊòæÁ§∫=====„ÄãÂàÜÂ±ÇÊï∞ÊçÆÊòæÁ§∫====„ÄãÁªÜËäÇ‰ºòÂåñÔºàÈ¢úËâ≤ÔºåÂÖâÔºåÂ≠ó‰ΩìÂ§ßÂ∞èÔºåÂõæÁâáÂ§ßÂ∞èÔºâ„ÄãÂä†ÂÖ•ÁÇπÂáªÊòæÁ§∫‰ΩçÁΩÆ„ÄãÂÖ∂‰ªñÁÇπÂáªÂäüËÉΩ====„ÄãwftsÂ∫ïÂõæÂàáÊç¢==„ÄãÊéß‰ª∂Âä†ËΩΩ===„ÄãwfsÔºåwmsÊï∞ÊçÆÂä†ËΩΩÔºà‰∏çÂêåÊï∞ÊçÆÊ∫êÔºâ==„ÄãÂÖ∂‰ªñÊ®°ÂûãÂä†ÂÖ• ËØ¶ÁªÜÊ≠•È™§ ÁéØÂ¢ÉÂáÜÂ§á UbuntuËôöÊãüÊú∫Ôºö ÁΩëÁªúÁéØÂ¢ÉÔºåÊï∞ÊçÆÂÖ±‰∫´ÔºåPostgresqlÔºåTippecanoeÔºåPROJ.4„ÄÅGEOSÂíåGDALÔºàogr2ogrÔºâÔºågcc„ÄÅg++„ÄÅmake windowsÔºö Postgresql,VMware,UbuntuÈïúÂÉèÔºàÂÆòÊñπÊåáÂÆöÔºâÔºåNavicatÔºàÊñπ‰æøÊü•ÁúãÊï∞ÊçÆÂíåÂª∫Á´ãÁ©∫Èó¥Êï∞ÊçÆÂ∫ìÔºâÔºåVSCode ËØ¶ÁªÜÊ≠•È™§Ôºö ÂÆâË£ÖPostgresqlÊï∞ÊçÆÂ∫ìÔºåÁéØÂ¢ÉÈÖçÁΩÆÔºåÂØºÂÖ•shp WindowsÂÆâË£ÖPostgresql ‰∏ãËΩΩ ÁéØÂ¢ÉÂèòÈáèÊ∑ªÂä† ËÆæÁΩÆÂ§ñÁΩëËÆøÈóÆÔºàpg_hba.confÔºâ 1234567891011# TYPE DATABASE USER ADDRESS METHOD# IPv4 local connections:host all all 127.0.0.1/32 md5host all all 0.0.0.0/0 md5# IPv6 local connections:host all all ::1/128 md5# Allow replication connections from localhost, by a user with the# replication privilege.#host replication postgres 127.0.0.1/32 md5#host replication postgres ::1/128 md5 Âª∫Á´ãÁ©∫Èó¥Êï∞ÊçÆÂ∫ì,ÁõÆÊ†áÊï∞ÊçÆÂ∫ìÊâßË°å‰ª•‰∏ãËØ≠Âè• 1234create extension postgis;create extension postgis_topology;create extension fuzzystrmatch;create extension postgis_tiger_geocoder; Âú®SHPÊñá‰ª∂Â§πÊñ∞Âª∫txtÊñá‰ª∂ÔºåÁ≤òË¥¥‰ª•‰∏ã‰ª£Á†ÅÔºåÂØºÂÖ•Êï∞ÊçÆÂà∞Êï∞ÊçÆÂ∫ìÔºåÁõ∏ÂÖ≥ÂèÇÊï∞Â¶Ç‰∏ãÔºåÊîπÊàêbatÂêéÁºÄÔºåÂèåÂáªËøêË°åÂêéËæìÂÖ•ÂØÜÁ†ÅÔºåÊòæÁ§∫Á±ª‰ºº insert 1ÊàêÂäü 123shp2pgsql -s 4544 -c -W ‚ÄúGBK‚Äù DJQ5120812018.shp public.DJQ5120812018 | psql -d shp2pgsqldemo -U postgres -WÁ§∫‰æã Ôºöshp2pgsql -s 4544 -c -W &quot;UTF-8&quot; ADDRESS.shp public.rrrrr| psql -h 192.168.22.128 -d postgres -U postgres -W ÁºñÁ†ÅÊ†ºÂºè SHPÊï∞ÊçÆ public‰∏ãÁöÑrrrrrË°® ÂØºÂÖ•Êï∞ÊçÆÂ∫ìÂú∞ÂùÄ Êï∞ÊçÆÂ∫ìÂêç Áî®Êà∑Âêç ‰πüÂèØÂàÜ‰∏∫‰∏§‰∏™Ê≠•È™§ÔºåÂÖàËΩ¨Êç¢‰∏∫sqlËØ≠Âè•ÔºåÂÜçÂØºÂÖ•,Ê≠•È™§Âêå‰∏ä 12shp2pgsql -s 4544 -c -W ‚ÄúGBK‚Äù DJQ5120812018.shp&gt;DJQ5120812018.sqlpsql -d shp2pgsqldemo -U postgres -f DJQ5120812018.sql -W ÂèØËÉΩÂá∫Áé∞ÁöÑÈóÆÈ¢ò Ëß£ÂÜ≥ÂäûÊ≥ï ‰π±Á†Å Êõ¥ÊîπÁºñÁ†Å ÂØºÂÖ•‰∏≠Êñ≠ÔºåÊï∞ÊçÆÂ∫ìÊó†Êï∞ÊçÆ Êï∞ÊçÆËøáÂ§ß ÂèÇÊï∞ Âê´‰πâ -s Á©∫Èó¥ÂèÇËÄÉÊ†áËØÜÁ¨¶ÔºàSRIDÔºâ -d ÈáçÊñ∞Âª∫Á´ãË°®ÔºåÂπ∂ÊèíÂÖ•Êï∞ÊçÆ -a Âú®Âêå‰∏Ä‰∏™Ë°®‰∏≠Â¢ûÂä†Êï∞ÊçÆ -c Âª∫Á´ãÊñ∞Ë°®ÔºåÂπ∂ÊèíÂÖ•Êï∞ÊçÆ(Áº∫ÁúÅ) -p Âè™ÂàõÂª∫Ë°® -g ÊåáÂÆöË¶ÅÂàõÂª∫ÁöÑË°®ÁöÑÁ©∫Èó¥Â≠óÊÆµÂêçÁß∞(Âú®ËøΩÂä†Êï∞ÊçÆÊó∂ÊúâÁî®) -D ‰ΩøÁî®dumpÊñπÂºèÔºåÊØîÁº∫ÁúÅÁîüÊàêsqlÁöÑÈÄüÂ∫¶Âø´ -G ‰ΩøÁî®Á±ªÂûãgeography -k ‰øùÊåÅÊ†áËØÜÁ¨¶ÔºàÂàóÂêçÔºåÊ®°ÂºèÔºåÂ±ûÊÄßÔºâÂ§ßÂ∞èÂÜô„ÄÇ -i Â∞ÜÊâÄÊúâÊï¥ÂûãÈÉΩËΩ¨‰∏∫Ê†áÂáÜÁöÑ32-bitÊï¥Êï∞ -I Âú®Âá†‰ΩïÂàó‰∏äÂª∫Á´ãGISTÁ¥¢Âºï -S ÁîüÊàêÁÆÄÂçïÂá†‰ΩïÔºåËÄåÈùûMULTIÂá†‰Ωï -t ÊåáÂÆöÂá†‰ΩïÁöÑÁª¥Â∫¶ -w ÊåáÂÆöËæìÂá∫Ê†ºÂºè‰∏∫WKT -W ËæìÂÖ•ÁöÑdbfÊñá‰ª∂ÁºñÁ†ÅÊñπÂºè -N ÊåáÂÆöÂá†‰Ωï‰∏∫Á©∫Êó∂ÁöÑÊìç‰Ωú -n Âè™ÂØºÂÖ•dbfÊñá‰ª∂ -T ÊåáÂÆöË°®ÁöÑË°®Á©∫Èó¥ -X ÊåáÂÆöÁ¥¢ÂºïÁöÑË°®Á©∫Èó¥ -? Â∏ÆÂä© ÈÄöËøáogr2ogrËΩ¨Êç¢‰∏∫geojson 12ogr2ogr -f &quot;GeoJSON&quot; ./asstln.json PG:&quot;host=localhost dbname=postgres user=postgres password=111111&quot; -sql &quot;select * from asstln&quot; ÁõÆÊ†áÊñá‰ª∂Âêç ÂØºÂá∫Êï∞ÊçÆÂ∫ìËøûÊé•‰ø°ÊÅØ ÂØºÂá∫Ë°®Âêç ÈÄöËøátippecanoeÂàáÁâáÔºàÂèÇÊï∞Ëá™ÊéßÔºâ ÂçïÊï∞ÊçÆÊ∫ê 12tippecanoe -e tracenln -pC -Z0 -z20 -f tracenln.json ÁõÆÊ†áÊñá‰ª∂Â§π ÂàáÁâáÁ≠âÁ∫ßÁ©∫ÂÄº Ê∫êÊñá‰ª∂Âêç ÂçïÂ±ÇÂ§öÊï∞ÊçÆÊ∫êÂêàÂπ∂ 123#whereÁ°ÆÂÆöÁ∫ßÂà´ogr2ogr -f &quot;GeoJSON&quot; ./veg_py.json PG:&quot;host=126.10.9.16 dbname=postgres user=postgres password=724111&quot; -sql &quot;select * from veg_py fscale=10&quot; tippecanoe -e tracenln -pC -Z0 -z20 -f tracenln1.json tracenln2.json tracenln3.json ÂèÇÊï∞Êü•Áúã Êï∞ÊçÆÊâìÂåÖ Â§çÂà∂Âà∞ÁºñÁ®ãÁ´ØÔºà‰º†ËæìÊõ¥Âø´Ôºâ windowsÊñá‰ª∂ÂÖ±‰∫´Êñá‰ª∂Â§πÔºåÊàñTomcatÔºåÊàñÂú®Á∫øÊúçÂä°Âô®‰ª•‰æøÊï∞ÊçÆË∞ÉÁî®ÔºåÊ≥®ÊÑèËß£ÂÜ≥Ëß¶Ë∑®ÂüüËµÑÊ∫êËÆøÈóÆ ÂáÜÂ§ámapbox2000 js cssÊñá‰ª∂ windows ÂÆâË£Ö git Node.JS ÂÆâË£ÖËØ¥Êòé YarnÂÆâË£Ö„ÄÅÈÖçÁΩÆ„ÄÅÈïúÂÉèÊ∫ê‰øÆÊîπ 12npm install --global yarnyarn --version Node.jsÂÆâË£ÖÊú¨Âú∞Êèí‰ª∂ÊûÑÂª∫Â∑•ÂÖ∑node-gyp GitHub MapboxÊ∫êÁ†ÅÂú∞ÂùÄÔºöhttps://github.com/mapbox/mapbox-gl-js 2000ÂùêÊ†áÊ∫êÁ†ÅÔºå È°πÁõÆÁºñËØë yarn install ÂÆâË£Öheadless-glÔºåÂπ∂Â∞Ünode_modules/headless-gl/deps/windows/dll/x64/*.dll Â§çÂà∂Âà∞c:\\windows\\system32 npm install gl yarn run start-debug yarn run build-dev ÂáÜÂ§áÂ•ΩjsÂíåcssÊñá‰ª∂ mapbox ÂâçÁ´Ø‰ª£Á†ÅÂØºÂÖ•Âú∞ÂõæÊï∞ÊçÆÂπ∂ÊòæÁ§∫ 3DÊ®°Âûã ÈíàÂØπÂØπÂ∫îÁöÑÂª∫Á≠ëÊï∞ÊçÆÔºåËøõË°åÂª∫Á≠ëÁâ©3DÊòæÁ§∫ 123456789101112131415161718paint: { // 'fill-color': 'red', // 'fill-opacity': 1, 'fill-extrusion-color': '#f5f4ee', // use an 'interpolate' expression to add a smooth transition effect to the // buildings as the user zooms in 'fill-extrusion-height': [ &quot;interpolate&quot;, [&quot;linear&quot;], [&quot;zoom&quot;], 15, 0, 15.05, [&quot;get&quot;, &quot;height&quot;] ], 'fill-extrusion-base': [ &quot;interpolate&quot;, [&quot;linear&quot;], [&quot;zoom&quot;], 15, 0, 15.05, [&quot;get&quot;, &quot;min_height&quot;] ], 'fill-extrusion-opacity': 0.85 }, vscode Êèí‰ª∂ÊúçÂä°Âô® Êèí‰ª∂ÂÆâË£Ö Live Server ÂáÜÂ§áÂõæÊ†áÊï∞ÊçÆÔºåPBFÂ≠ó‰ΩìÊï∞ÊçÆ https://github.com/mapbox/spritezero ‰ªéÈõ∂ÁîüÊàêÂõæÊ†áËµÑÊ∫êÂ∑•ÂÖ∑ÔºåÂèØÁΩë‰∏ä‰∏ãËΩΩ ÁîüÊàêÂ¶ÇÂõæÂΩ¢ÂºèÊñá‰ª∂Ôºå filter ÂàÜÁ±ªÂõæÊ†áÊòæÁ§∫ 123456789101112131415'filter': [ 'any', [ '==', 'fcode', '4206002500'//2 ] ,[ '==', 'fcode', '4305010500'//2 ] ], ÂàÜÂ±ÇÊï∞ÊçÆÊòæÁ§∫ 1&quot;layers&quot;: []//‰∏≠Ë∂äÈù†ÂâçÁöÑÂú®Â∫ïÂ±Ç ÁªÜËäÇ‰ºòÂåñÔºàÈ¢úËâ≤ÔºåÂÖâÔºåÂ≠ó‰ΩìÂ§ßÂ∞èÔºåÂõæÁâáÂ§ßÂ∞èÔºâ Êéß‰ª∂Âä†ËΩΩ SupermapÊü•Áúã Âä†ÂÖ•ÁÇπÂáªÊòæÁ§∫Áõ∏ÂÖ≥‰ø°ÊÅØ 123456789101112131415//ÂºπÂá∫Ê°Ü‚Äã map.on('click', function (e) {‚Äã var features = map.queryRenderedFeatures(e.point, {‚Äã layers: ['13'] // replace this with the id of the layer‚Äã });‚Äã if (!features.length) {‚Äã return;‚Äã }‚Äã var feature = features[0];‚Äã var popup = new mapboxgl.Popup({ offset: [0, -15] })‚Äã .setLngLat(feature.geometry.coordinates)‚Äã .setHTML('&lt;h3&gt;' + feature.properties.shortname + '&lt;/h3&gt;&lt;p&gt;' + feature.properties.name + '&lt;/p&gt;')‚Äã .addTo(map);‚Äã }); wfts Â∫ïÂõæÂàáÊç¢ wfsÔºåwms Êï∞ÊçÆÂä†ËΩΩÔºà‰∏çÂêåÊï∞ÊçÆÊ∫êÔºâ ÂÆö‰Ωç Êï∞ÊçÆÊü•ËØ¢ Êï∞ÊçÆÂèØËßÜÂåñ SupermapÊü•Áúã ‰ºòÂåñ Á™óÂè£Ê†∑Âºè‰ºòÂåñÔºåÂºπÂá∫Ê°ÜÊ†∑Âºè‰ºòÂåñÔºåÂ≠ó‰ΩìÁ≠âË∞ÉËäÇ ‰∏Ä‰∫õÂ∞èÊäÄÂ∑ß ÂæÖÊõ¥Êñ∞ MapboxÊ∫êÁ†ÅÁºñËØë ÁéØÂ¢ÉÂáÜÂ§á GITÁéØÂ¢ÉÊê≠Âª∫Ôºö ËØ¶ÁªÜÁÇπÂáªÔºöÔºà‰∏ÄÔºâwindows ÂÆâË£Ö git Node.JSÁéØÂ¢ÉÊê≠Âª∫Ôºö ËØ¶ÁªÜÁÇπÂáªÔºöÔºà‰∏ÄÔºâNode.JS ÂÆâË£ÖËØ¥Êòé YarnÁéØÂ¢ÉÊê≠Âª∫Ôºö ËØ¶ÁªÜÁÇπÂáªÔºöÔºà‰∏ÄÔºâYarnÂÆâË£Ö„ÄÅÈÖçÁΩÆ„ÄÅÈïúÂÉèÊ∫ê‰øÆÊîπ 12npm install --global yarnyarn --version Npm and node-gyp‰æùËµñÂÆâË£Ö ËØ¶ÁªÜÁÇπÂáªÔºöÔºà‰∫åÔºâNode.jsÂÆâË£ÖÊú¨Âú∞Êèí‰ª∂ÊûÑÂª∫Â∑•ÂÖ∑node-gyp ÂÖ∂‰ªñÂú∞ÂùÄÔºö GitHub MapboxÊ∫êÁ†ÅÂú∞ÂùÄÔºöhttps://github.com/mapbox/mapbox-gl-js È°πÁõÆÁºñËØë yarn install ÂÆâË£Öheadless-glÔºåÂπ∂Â∞Ünode_modules/headless-gl/deps/windows/dll/x64/*.dll Â§çÂà∂Âà∞c:\\windows\\system32 npm install gl yarn run start-debug yarn run build-dev debug/index.html‰∏≠‰ª£Á†ÅÊúÄ‰∏äÊñπÂ¢ûÂä†token mapboxgl.accessToken='pk.eyJ1IjoibGltbiIsImEiOiJja2t1bG1na2IxZGU0MnZvNmlzY3FhZXM4In0.oQx4VguycOR4TK80Pyusmw'; var map = window.map = new mapboxgl.Map({ MAPBOX‰∏ì‰∏öÊúØËØ≠ Áü¢ÈáèÁì¶ÁâáÔºö Ê†ÖÊ†ºÁì¶ÁâáÔºö MAPBOXÂ≠¶‰π† ‰∏≠ÊñáÊñáÊ°£Ôºöhttp://www.mapbox.cn/mapbox-gl-js/api/ Styles (8) ‰∏∫Âú∞ÂõæÊ∑ªÂä†ÁîüÊàêÁöÑÂõæÊ†á ‰∏∫Âú∞ÂõæÊ∑ªÂä†Âä®ÁîªÂõæÊ†á ‰∏∫Âú∞ÂõæÁîüÊàêÂèäÊ∑ªÂä†Áº∫Â§±ÁöÑÂõæÊ†á ‰∏∫Âú∞ÂõæÊ∑ªÂä†ÂõæÊ†á ‰ΩøÁî®Ëá™ÂÆö‰πâÊ†∑ÂºèÂ±ïÁ§∫Âú∞Âõæ ÊòæÁ§∫Âç´ÊòüÂú∞Âõæ ÊîπÂèò‰∏Ä‰∏™Âú∞ÂõæÁöÑÊ†∑Âºè ÊòæÁ§∫‰∏Ä‰∏™Âú∞Âõæ Layers (30) Áî®3DÂΩ¢ÂºèÂëàÁé∞Âª∫Á≠ëÁâ© Êãâ‰º∏Â§öËæπÂΩ¢‰ª•ÁªòÂà∂3DÂÆ§ÂÜÖÂú∞Âõæ Ê∑ªÂä†3DÊ®°Âûã Ë∞ÉÊï¥ÂõæÂ±Ç‰∏çÈÄèÊòéÂ∫¶ ‰∏∫Á∫øÊ∑ªÂä†Âä®ÁîªÊïàÊûú ‰∏∫‰∏ÄÁ≥ªÂàóÂõæÂÉèÊ∑ªÂä†Âä®ÁîªÊïàÊûú ‰∏∫ÁÇπÊ∑ªÂä†Âä®ÁîªÊïàÊûú ÊåâÁÖßÁº©ÊîæÁ∫ßÂà´ÊîπÂèòÂª∫Á≠ëÈ¢úËâ≤ Êõ¥ÊîπÊ†áÊ≥®ÁöÑÂ§ßÂ∞èÂÜô ÊòæÁ§∫ÂÖ∑ÊúâËá™ÂÆö‰πâÂ±ûÊÄßÁöÑHTMLËÅöÁ±ª ÂàõÂª∫Ê†∑ÂºèËÅöÁ±ª ‰ΩøÁî®ÊåâÈíÆÊõ¥ÊîπÂõæÂ±ÇÈ¢úËâ≤ Ê∑ªÂä†Ëá™ÂÆö‰πâÊ†∑ÂºèÂõæÂ±Ç ÁªôÁ∫øÊ∑ªÂä†Êï∞ÊçÆÈ©±Âä®Â±ûÊÄßÁöÑÊ†∑Âºè„ÄÇ ÁªôÂúÜÊ∑ªÂä†Êï∞ÊçÆÈ©±Âä®Â±ûÊÄßÁöÑÊ†∑Âºè ÊòæÁ§∫Â§öÁßçÊñáÊú¨Ê†ºÂºèÂπ∂ËÆæÁΩÆÂÖ∂Ê†∑Âºè ‰∏∫Â§öËæπÂΩ¢Ê∑ªÂä†ÂõæÊ°à Âú®Ê†áÁ≠æ‰∏ãÊ∑ªÂä†Êñ∞ÂõæÂ±Ç Ê∑ªÂä† GeoJSON Á∫ø ÁªòÂà∂ GeoJSON ÁÇπ Ê∑ªÂä† GeoJSON Â§öËæπÂΩ¢ ÂàõÂª∫ÁÉ≠ÂäõÂõæÂõæÂ±Ç Ê∑ªÂä†ÊôïÊöÑ ‰ΩøÁî®Ë°®ËææÂºèÂàõÂª∫Ê∏êÂèòËâ≤Á∫øÊù° ËÆæÁΩÆÊµ∑Ê¥ãÊ∑±Â∫¶Êï∞ÊçÆÊ†∑Âºè ÊòæÁ§∫ÂíåÈöêËóèÂõæÂ±Ç ÊîπÂèòË°åÊîøËæπÁïå‰∏ñÁïåËßÇ Ê†πÊçÆÁº©ÊîæÁ∫ßÂà´Êõ¥Êñ∞Á≠âÂÄºÁ∫øÂõæÂ±Ç ÂèòÈáèÊ†áÁ≠æ‰ΩçÁΩÆ ÂèØËßÜÂåñ‰∫∫Âè£ÂØÜÂ∫¶ Sources (9) Â∞ÜÊú¨Âú∞JSONÊï∞ÊçÆ‰∏éÁü¢ÈáèÂàáÁâáÂõæÂΩ¢ËøûÊé• Ê∑ªÂä†ÂΩ±ÂÉè Ê∑ªÂä†ÂÆûÊó∂Êï∞ÊçÆ Êõ¥Êñ∞ÂÆûÊó∂Ë¶ÅÁ¥† Ê∑ªÂä†Ê†ÖÊ†ºÂàáÁâáÊï∞ÊçÆÊ∫ê Ê∑ªÂä†‰∏Ä‰∏™Á¨¨‰∏âÊñπÁü¢ÈáèÂàáÁâáÊù•Ê∫ê Ê∑ªÂä†‰∏Ä‰∏™Áü¢ÈáèÂõæÁâáÊï∞ÊçÆÊ∫ê Ê∑ªÂä†‰∏Ä‰∏™ËßÜÈ¢ë Ê∑ªÂä†‰∏Ä‰∏™ WMS Ê∫ê User interaction (17) Âü∫‰∫éÂë®ËæπÂ£∞Èü≥Áªô3DÂª∫Á≠ëÊ∑ªÂä†Âä®ÁîªÊïàÊûú Á¶ÅÁî®Âú∞ÂõæÊóãËΩ¨ ÂàõÂª∫ÂèØÊãñÂä®ÁöÑÁÇπ ÂàõÂª∫ÂèØÊãñÂä®ÁöÑÊ†áËÆ∞ÔºàMarkerÔºâ ÈÄöËøáÊñáÊú¨ËæìÂÖ•Á≠õÈÄâÁ¨¶Âè∑ Âú® map view ‰∏≠Á≠õÈÄâË¶ÅÁ¥† ÈÄöËøáÂàáÊç¢ÂàóË°®Á≠õÈÄâÁ¨¶Âè∑ ÂàõÂª∫ÊÇ¨ÂÅúÊïàÊûú ÊòæÁ§∫Èùû‰∫§‰∫íÂºèÂú∞Âõæ Êõ¥ÊîπÂú∞ÂõæÁöÑËØ≠Ë®Ä È´ò‰∫ÆÂåÖÂê´Áõ∏‰ººÊï∞ÊçÆÁöÑÈÉ®ÂàÜ ‰ªéÁÇπÂáªÁÇπÂë®Âõ¥ÈÄâÊã©ÁâπÂæÅ ÈôêÂà∂Âú∞ÂõæÂπ≥ÁßªÂú®Êüê‰∏ÄÂå∫Âüü Ëé∑ÂèñÈº†Ê†á‰∏ãÁÇπÁöÑÁâπÂæÅ ÂàáÊç¢‰∫§‰∫í ÂàõÂª∫Êó∂Èó¥ÊªëÂä®Êù° È´ò‰∫Æ‰∏Ä‰∏™ÈÄâÊã©Ê°ÜËåÉÂõ¥ÂÜÖÁöÑÁâπÂæÅ Camera (11) ‰ΩøÂú∞ÂõæÁõ∏Êú∫ÁéØÁªï‰∏ÄÁÇπËøêÂä® ‰∏∫Ë∑ØÁ∫ø‰∏≠ÁöÑÁÇπÊ∑ªÂä†Âä®ÁîªÊïàÊûú Â∞ÜÂú∞ÂõæÂ±Ö‰∏≠‰∫éË¢´ÂçïÂáªÁöÑÁ¨¶Âè∑‰∏ä ÁºìÊÖ¢È£ûËá≥Êüê‰∏™‰ΩçÁΩÆ Â∞ÜÂú∞ÂõæÁº©ÊîæËá≥ËæπÁïåÊ°ÜÂÜÖ È£ûËá≥Êüê‰∏Ä‰ΩçÁΩÆ ‰ΩøÁî®Ê∏∏ÊàèÂºèÊéß‰ª∂ÊµèËßàÂú∞Âõæ Ë∑≥Ëá≥‰∏ÄÁ≥ªÂàóÂú∞ÁÇπ ‰ª•ÂπªÁÅØÁâáÂΩ¢ÂºèÊí≠ÊîæÂú∞Âõæ‰ΩçÁΩÆ„ÄÇ Ê†πÊçÆÊªöÂä®‰ΩçÁΩÆÈ£ûÂà∞ÊüêÂ§Ñ ËÆæÁΩÆ pitch Âíå bearing Controls and overlays (16) ‰∏∫Ê†áËÆ∞(marker)Ê∑ªÂä†Âä®ÁîªÊïàÊûú ÊîπÂèòÊ≥®ÈáäÁöÑÈªòËÆ§‰ΩçÁΩÆ ‰ΩøÁî® Markers Ê∑ªÂä†Ëá™ÂÆö‰πâÂõæÊ†á Á¶ÅÁî®ÊªöËΩÆÁº©Êîæ ÂÖ®Â±èÊü•ÁúãÂú∞Âõæ ÂÆö‰ΩçÁî®Êà∑ Âú®‰∏çÂêåÂú∞Âõæ‰πãÈó¥ÊªëÂä® ÊòæÁ§∫È©æÈ©∂ÊñπÂêë ÊòæÁ§∫Â∑≤ÁªòÂà∂ÁöÑÂ§öËæπÂΩ¢Âå∫Âüü Ê∑ªÂä†Âú∞ÁêÜÁºñÁ†ÅÂô® Âà©Áî®Âú∞ÁÇπÂêçÁß∞Ê∑ªÂä†Ê†áËÆ∞ ÁÇπÂáªÊó∂ÊòæÁ§∫Â§öËæπÂΩ¢‰ø°ÊÅØ ÊÇ¨ÊµÆÊó∂ÊòæÁ§∫ÂºπÂá∫Á™ó ÁÇπÂáªÊó∂ÊòæÁ§∫‰∏Ä‰∏™ÂºπÂá∫Á™ó ÊòæÁ§∫‰∏Ä‰∏™ÂºπÂá∫Á™ó Â∞ÜÂºπÂá∫Á™óÂè£ÈôÑÂä†Âà∞ marker ÂÆû‰æã Geocoder (8) ‰ªéÂÖ∂‰ªñÊï∞ÊçÆÊ∫ê‰∏≠Ë°•ÂÖÖËøõ‰∏ÄÊ≠•ÁöÑÂú∞ÁêÜÁºñÁ†ÅÊü•ËØ¢ÁªìÊûú Êé•Êî∂ËæìÂÖ•ÂùêÊ†áËá≥Âú∞ÁêÜÁºñÁ†ÅÂô® ‰ΩøÁî®Âú∞ÁêÜÁºñÁ†ÅÂô®Êó∂ÈááÁî®Ëá™ÂÆö‰πâÊ∏≤ÊüìÂäüËÉΩ Â∞ÜÂú∞ÁêÜÁºñÁ†ÅÁöÑÁªìÊûúÈôêÂà∂Âú®ÊåáÂÆöÂú∞Âå∫ËåÉÂõ¥ÂÜÖ Âú®‰ΩøÁî®Âú∞ÁêÜÁºñÁ†ÅÂô®ÁöÑËøáÁ®ã‰∏≠ÁªìÂêà‰ΩøÁî®Ëá™ÂÆö‰πâÁõ∏Êú∫Âä®Áîª Âú®Âú∞Âõæ‰∏äÊ∑ªÂä†‰ΩçÁΩÆÊêúÁ¥¢Ê°Ü Â∞ÜÂú∞ÁêÜÁºñÁ†ÅÂô®ËøõË°åÊåáÂÆöËØ≠Ë®ÄÁöÑÊú¨Âú∞Âåñ Âú®Geocoder‰∫ßÁîüÁªìÊûúÂêéËÆæÁΩÆ‰∏Ä‰∏™ÁÇπ Browser support (1) Ê£ÄÊü•ÊµèËßàÂô®ÊîØÊåÅ Internationalization support (2) ‰ΩøÁî®Êú¨Âú∞ÁîüÊàêÁöÑË°®ÊÑèÊñáÂ≠ó ‰∏∫‰ªéÂè≥Ëá≥Â∑¶‰π¶ÂÜôÁöÑËÑöÊú¨Êèê‰æõÊîØÊåÅ SUPERMAP ‰∏Ä‰∏™mapboxÂçé‰∏ΩÂ§ñË°£‰∏éË£ÖÂ§á Cusium 3D„ÄÅ2.5D„ÄÅ2DÂú∞ÂõæÂ±ïÁ§∫ Ê∫êÁ†ÅËß£ÊûêÂáÜÂ§á ÂÆòÁΩë ‰∏≠ÊñáÊñáÊ°£ Ê≥®ÂÜå Ê∫êÁ†ÅÔºö‰∏ãËΩΩ ÁéØÂ¢ÉÔºönode„ÄÅnpm ‰ΩøÁî®ÔºöVUE ËøêË°åÔºöÊñπÊ≥ï‰∏ÄÔºö Ëß£Âéã ÊâìÂºÄÂëΩ‰ª§Ë°åÔºåËøõÂÖ•ÂΩìÂâçÁõÆÂΩï ÂÆâË£Ö‰æùËµñÔºåËæìÂÖ•:cnpm install,Á≠âÂæÖÂÆâË£ÖÂÆåÊàêÔºåÁÑ∂ÂêéËæìÂÖ•: node server.js 1234$ cd ./Cesium-1.40$ cnpm install ... Installed 37 packages Linked 569 latest versions$ npm start ÊàñËÄÖ node server.js(Êñ∞ÁâàÊú¨ÊòØ node server.cjs)Cesium development server running locally. Connect to http://localhost:8080/Â§çÂà∂ ÊñπÊ≥ï‰∫åÔºö 123ËøôÈáåÂ¶ÇÊûú‰ΩøÁî® expressÂèëÂ∏ÉÈÅáÂà∞ÈóÆÈ¢òÔºåÂèØ‰ª•‰ΩøÁî® http-server$ npm install http-server -g$ http-server -c-1 (Â¶ÇÊûúÂè™ËæìÂÖ•http-serverÔºåÊõ¥Êñ∞‰ª£Á†ÅÂêéÔºåÈ°µÈù¢‰∏ç‰ºöÂêåÊ≠•Êõ¥Êñ∞) ÊñπÊ≥ï‰∏âÔºöVSCode Êèí‰ª∂ËøêË°å Ëé∑ÂèñToken ‰ΩøÁî® 12Cesium.Ion.defaultAccessToken = 'token';var viewer = new Cesium.Viewer(&quot;cesiumContainer&quot;, {}) ‰∏ªÈ°µËØ¥Êòé Cesium ion Cesium ion is your hub for discovering 3D content and tiling your own data for streaming. CesiumJS and ion work together to enable you to build world class 3D mapping applications. Sign up for a free account to get your access token required for using ion's Bing Maps global imagery and Cesium World Terrain assets. Local links Documentation The complete API documentation and reference. Hello World The simplest possible Cesium application. Cesium Viewer A sample Cesium reference application which allows you to browse the globe and select from a variety of imagery and terrain layers as well as load CZML, GeoJSON, and other formats supported by Cesium. Sandcastle Cesium's live code editor and example gallery. Browse examples highlighting features of the Cesium API and edit and run them all in your web browser. Cesium applications created in Sandcastle can be saved and downloaded. Run tests Run Cesium's full suite of unit tests External links Cesium Learn about the Cesium team and the Cesium ion platform Cesium Blog Follow project news, developer tips, and posts about Cesium's innovative technology Tutorials Step-by-step guides for learning to use CesiumJS Community Forum Questions and feedback welcome from all skill levels GitHub The official CesiumJS GitHub repository User Stories Demos and information about projects using CesiumJS WebGL Report Provides technical information about WebGL capabilities supported by your browser ÁïåÈù¢‰ªãÁªç Ëá™È°πÁõÆÁºñÂÜô ÁéØÂ¢ÉÔºöVUE2 Ôºåcesium 1.89 C:\\Users\\Administrator&gt;node -v v14.16.0 C:\\Users\\Administrator&gt;npm -v 6.14.11 È°πÁõÆÂàõÂª∫ 1vue init webpack gislearn ÂÆâË£Öcesium 1.89 1npm i cesium ‰øÆÊîπwebpack.prod.conf.js ‰øÆÊîπ --Cesium--Ê†áËÆ∞Â§Ñ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163'use strict'const path = require('path')const utils = require('./utils')const webpack = require('webpack')const config = require('../config')const merge = require('webpack-merge')const baseWebpackConfig = require('./webpack.base.conf')const CopyWebpackPlugin = require('copy-webpack-plugin')const HtmlWebpackPlugin = require('html-webpack-plugin')const ExtractTextPlugin = require('extract-text-webpack-plugin')const OptimizeCSSPlugin = require('optimize-css-assets-webpack-plugin')const UglifyJsPlugin = require('uglifyjs-webpack-plugin')// ÂÆö‰πâË∑ØÂæÑ--Cesium--const cesiumSource = 'node_modules/cesium/Source'const cesiumWorkers = '../Build/Cesium/Workers'const env = process.env.NODE_ENV === 'testing' ? require('../config/test.env') : require('../config/prod.env')const webpackConfig = merge(baseWebpackConfig, { module: { rules: utils.styleLoaders({ sourceMap: config.build.productionSourceMap, extract: true, usePostCSS: true }) }, devtool: config.build.productionSourceMap ? config.build.devtool : false, output: { path: config.build.assetsRoot, filename: utils.assetsPath('js/[name].[chunkhash].js'), chunkFilename: utils.assetsPath('js/[id].[chunkhash].js') }, plugins: [ // Ê∑ªÂä†Â¶Ç‰∏ãÊèí‰ª∂--Cesium-- new CopyWebpackPlugin([{ from: path.join(cesiumSource, cesiumWorkers), to: 'Workers' }]), new CopyWebpackPlugin([{ from: path.join(cesiumSource, 'Assets'), to: 'Assets' }]), new CopyWebpackPlugin([{ from: path.join(cesiumSource, 'Widgets'), to: 'Widgets' }]), new CopyWebpackPlugin([{ from: path.join(cesiumSource, 'ThirdParty/Workers'), to: 'ThirdParty/Workers' }]), new webpack.DefinePlugin({ // Ê≥®ÊÑèËøôÈáåÂíådevÁöÑÈÖçÁΩÆ‰∏çÂêå // ÂÆö‰πâCesium‰ªéÂì™ÈáåÂä†ËΩΩËµÑÊ∫êÔºåÂ¶ÇÊûú‰ΩøÁî®ÈªòËÆ§ÁöÑ''ÔºåÂç¥ÂèòÊàê‰∫ÜÁªùÂØπË∑ØÂæÑ‰∫ÜÔºåÊâÄ‰ª•ËøôÈáå‰ΩøÁî®'./'Ôºå‰ΩøÁî®Áõ∏ÂØπË∑ØÂæÑ CESIUM_BASE_URL: JSON.stringify('./') }), // http://vuejs.github.io/vue-loader/en/workflow/production.html new webpack.DefinePlugin({ 'process.env': env }), new UglifyJsPlugin({ uglifyOptions: { compress: { warnings: false } }, sourceMap: config.build.productionSourceMap, parallel: true }), // extract css into its own file new ExtractTextPlugin({ filename: utils.assetsPath('css/[name].[contenthash].css'), // Setting the following option to `false` will not extract CSS from codesplit chunks. // Their CSS will instead be inserted dynamically with style-loader when the codesplit chunk has been loaded by webpack. // It's currently set to `true` because we are seeing that sourcemaps are included in the codesplit bundle as well when it's `false`, // increasing file size: https://github.com/vuejs-templates/webpack/issues/1110 allChunks: true, }), // Compress extracted CSS. We are using this plugin so that possible // duplicated CSS from different components can be deduped. new OptimizeCSSPlugin({ cssProcessorOptions: config.build.productionSourceMap ? { safe: true, map: { inline: false } } : { safe: true } }), // generate dist index.html with correct asset hash for caching. // you can customize output by editing /index.html // see https://github.com/ampedandwired/html-webpack-plugin new HtmlWebpackPlugin({ filename: process.env.NODE_ENV === 'testing' ? 'index.html' : config.build.index, template: 'index.html', inject: true, minify: { removeComments: true, collapseWhitespace: true, removeAttributeQuotes: true // more options: // https://github.com/kangax/html-minifier#options-quick-reference }, // necessary to consistently work with multiple chunks via CommonsChunkPlugin chunksSortMode: 'dependency' }), // keep module.id stable when vendor modules does not change new webpack.HashedModuleIdsPlugin(), // enable scope hoisting new webpack.optimize.ModuleConcatenationPlugin(), // split vendor js into its own file new webpack.optimize.CommonsChunkPlugin({ name: 'vendor', minChunks(module) { // any required modules inside node_modules are extracted to vendor return ( module.resource &amp;&amp; /\\.js$/.test(module.resource) &amp;&amp; module.resource.indexOf( path.join(__dirname, '../node_modules') ) === 0 ) } }), // extract webpack runtime and module manifest to its own file in order to // prevent vendor hash from being updated whenever app bundle is updated new webpack.optimize.CommonsChunkPlugin({ name: 'manifest', minChunks: Infinity }), // This instance extracts shared chunks from code splitted chunks and bundles them // in a separate chunk, similar to the vendor chunk // see: https://webpack.js.org/plugins/commons-chunk-plugin/#extra-async-commons-chunk new webpack.optimize.CommonsChunkPlugin({ name: 'app', async: 'vendor-async', children: true, minChunks: 3 }), // copy custom static assets new CopyWebpackPlugin([ { from: path.resolve(__dirname, '../static'), to: config.build.assetsSubDirectory, ignore: ['.*'] } ]) ]})if (config.build.productionGzip) { const CompressionWebpackPlugin = require('compression-webpack-plugin') webpackConfig.plugins.push( new CompressionWebpackPlugin({ asset: '[path].gz[query]', algorithm: 'gzip', test: new RegExp( '\\\\.(' + config.build.productionGzipExtensions.join('|') + ')$' ), threshold: 10240, minRatio: 0.8 }) )}if (config.build.bundleAnalyzerReport) { const BundleAnalyzerPlugin = require('webpack-bundle-analyzer').BundleAnalyzerPlugin webpackConfig.plugins.push(new BundleAnalyzerPlugin())}module.exports = webpackConfig webpack.dev.conf.js 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110'use strict'const utils = require('./utils')const webpack = require('webpack')const config = require('../config')const merge = require('webpack-merge')const path = require('path')const baseWebpackConfig = require('./webpack.base.conf')const CopyWebpackPlugin = require('copy-webpack-plugin')const HtmlWebpackPlugin = require('html-webpack-plugin')const FriendlyErrorsPlugin = require('friendly-errors-webpack-plugin')const portfinder = require('portfinder')const HOST = process.env.HOSTconst PORT = process.env.PORT &amp;&amp; Number(process.env.PORT)// ÂÆö‰πâË∑ØÂæÑÔºö--Cesium--const cesiumSource = 'node_modules/cesium/Source'const cesiumWorkers = '../Build/Cesium/Workers'const devWebpackConfig = merge(baseWebpackConfig, { module: { rules: utils.styleLoaders({ sourceMap: config.dev.cssSourceMap, usePostCSS: true }) }, // cheap-module-eval-source-map is faster for development devtool: config.dev.devtool, // these devServer options should be customized in /config/index.js devServer: { clientLogLevel: 'warning', historyApiFallback: { rewrites: [ { from: /.*/, to: path.posix.join(config.dev.assetsPublicPath, 'index.html') }, ], }, hot: true, contentBase: false, // since we use CopyWebpackPlugin. compress: true, host: HOST || config.dev.host, port: PORT || config.dev.port, open: config.dev.autoOpenBrowser, overlay: config.dev.errorOverlay ? { warnings: false, errors: true } : false, publicPath: config.dev.assetsPublicPath, proxy: config.dev.proxyTable, quiet: true, // necessary for FriendlyErrorsPlugin watchOptions: { poll: config.dev.poll, } }, plugins: [ // Ê∑ªÂä†Â¶Ç‰∏ãÊèí‰ª∂--Cesium-- new CopyWebpackPlugin([{ from: path.join(cesiumSource, cesiumWorkers), to: 'Workers' }]), new CopyWebpackPlugin([{ from: path.join(cesiumSource, 'Assets'), to: 'Assets' }]), new CopyWebpackPlugin([{ from: path.join(cesiumSource, 'Widgets'), to: 'Widgets' }]), new CopyWebpackPlugin([{ from: path.join(cesiumSource, 'ThirdParty/Workers'), to: 'ThirdParty/Workers' }]), new webpack.DefinePlugin({ // Define relative base path in cesium for loading assets CESIUM_BASE_URL: JSON.stringify('') }), new webpack.DefinePlugin({ 'process.env': require('../config/dev.env') }), new webpack.HotModuleReplacementPlugin(), new webpack.NamedModulesPlugin(), // HMR shows correct file names in console on update. new webpack.NoEmitOnErrorsPlugin(), // https://github.com/ampedandwired/html-webpack-plugin new HtmlWebpackPlugin({ filename: 'index.html', template: 'index.html', inject: true }), // copy custom static assets new CopyWebpackPlugin([ { from: path.resolve(__dirname, '../static'), to: config.dev.assetsSubDirectory, ignore: ['.*'] } ]) ]})module.exports = new Promise((resolve, reject) =&gt; { portfinder.basePort = process.env.PORT || config.dev.port portfinder.getPort((err, port) =&gt; { if (err) { reject(err) } else { // publish the new Port, necessary for e2e tests process.env.PORT = port // add port to devServer config devWebpackConfig.devServer.port = port // Add FriendlyErrorsPlugin devWebpackConfig.plugins.push(new FriendlyErrorsPlugin({ compilationSuccessInfo: { messages: [`Your application is running here: http://${devWebpackConfig.devServer.host}:${port}`], }, onErrors: config.dev.notifyOnErrors ? utils.createNotifierCallback() : undefined })) resolve(devWebpackConfig) } })}) webpack.base.conf.js 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130'use strict'const path = require('path')const utils = require('./utils')const config = require('../config')const vueLoaderConfig = require('./vue-loader.conf')//ÂÆö‰πâ Cesium Ê∫êÁ†ÅË∑ØÂæÑ --Cesium--const cesiumSource = '../node_modules/cesium/Source'const cesiumWorkers = path.join(cesiumSource, 'Workers');function resolve(dir) { return path.join(__dirname, '..', dir)}const createLintingRule = () =&gt; ({ test: /\\.(js|vue)$/, loader: 'eslint-loader', enforce: 'pre', include: [resolve('src'), resolve('test')], options: { formatter: require('eslint-friendly-formatter'), emitWarning: !config.dev.showEslintErrorsInOverlay }})module.exports = { context: path.resolve(__dirname, '../'), entry: { app: './src/main.js' }, // output: { // path: config.build.assetsRoot, // filename: '[name].js', // publicPath: process.env.NODE_ENV === 'production' // ? config.build.assetsPublicPath // : config.dev.assetsPublicPath // }, // ËÆ©webpackÊ≠£Á°ÆÂ§ÑÁêÜÂ§öË°åÂ≠óÁ¨¶‰∏≤ÔºåÂú®output‰∏≠Ê∑ªÂä†sourcePrefix:' '--Cesium-- output: { path: config.build.assetsRoot, filename: '[name].js', publicPath: process.env.NODE_ENV === 'production' ? config.build.assetsPublicPath : config.dev.assetsPublicPath, sourcePrefix: ' ' //ËÆ©webpackÊ≠£Á°ÆÂ§ÑÁêÜÂ§öË°åÂ≠óÁ¨¶‰∏≤ }, // resolve: { // extensions: ['.js', '.vue', '.json'], // alias: { // 'vue$': 'vue/dist/vue.esm.js', // '@': resolve('src'), // } // }, // ÈúÄË¶ÅÂú®resolve‰∏≠ËÆæÁΩÆcesiumÂà´ÂêçÔºåËøôÊ†∑Âú®ÂºïÂÖ•ÁöÑÊó∂ÂÄôÂ∞±ÂèØ‰ª•Ê†πÊçÆÂà´ÂêçÊâæÂà∞CesiumÁöÑÂåÖ„ÄÇ--Cesium-- // ÔºàÊ≥®Ôºö‰πüÂèØ‰ª•‰∏çËÆæÁΩÆÂà´ÂêçÔºåÂØºÂåÖÊòØÁõ¥Êé•ÂØºÂÖ•'cesium/Source/Cesium.js'Â∞±Ë°å„ÄÇÂÖ∂ÂÆûËÆæÁΩÆÂà´ÂêçÁöÑÁõÆÁöÑÂ∞±ÊòØËÆ©‚ÄúÂà´Âêç‚ÄùÊåáÂêë/ node_modules / cesium / SourceÁõÆÂΩïÔºâ resolve: { extensions: ['.js', '.vue', '.json'], alias: { 'vue$': 'vue/dist/vue.esm.js', '@': resolve('src'), cesium: path.resolve(__dirname, cesiumSource) //ËÆæÁΩÆcesiumÂà´Âêç } }, module: { // Ëß£ÂÜ≥Êä•Èîô 1.87ÁâàÊú¨Êó†ÊïàÔºåÂè™ËÉΩÊöÇÊó∂ÈÄÄÁâàÊú¨--Cesium-- // npm install @open-wc/webpack-import-meta-loader --save-dev // error in ./node_modules/cesium/Source/ThirdParty/zip.js // Module parse failed: Unexpected token(6400:57) // You may need an appropriate loader to handle this file type. rules: [ { test: /\\.js$/, use: { loader: '@open-wc/webpack-import-meta-loader', }, }, // ÂàõÂª∫Â∑•Á®ãÂ∏à‰ºöÈÄâÊã© ESLint ‰ª£Á†ÅÊ†°È™å // Use ESLint to lint your code? Yes // ...(config.dev.useEslint ? [createLintingRule()] : []), { test: /\\.vue$/, loader: 'vue-loader', options: vueLoaderConfig }, { test: /\\.js$/, loader: 'babel-loader', include: [resolve('src'), resolve('test'), resolve('node_modules/webpack-dev-server/client')] }, { test: /\\.(png|jpe?g|gif|svg)(\\?.*)?$/, loader: 'url-loader', options: { limit: 10000, name: utils.assetsPath('img/[name].[hash:7].[ext]') } }, { test: /\\.(mp4|webm|ogg|mp3|wav|flac|aac)(\\?.*)?$/, loader: 'url-loader', options: { limit: 10000, name: utils.assetsPath('media/[name].[hash:7].[ext]') } }, { test: /\\.(woff2?|eot|ttf|otf)(\\?.*)?$/, loader: 'url-loader', options: { limit: 10000, name: utils.assetsPath('fonts/[name].[hash:7].[ext]') } } ], unknownContextCritical: false,//ÈòªÊ≠¢‰æùËµñË≠¶Âëä--Cesium-- }, node: { // prevent webpack from injecting useless setImmediate polyfill because Vue // source contains it (although only uses it if it's native). setImmediate: false, // prevent webpack from injecting mocks to Node native modules // that does not make sense for the client dgram: 'empty', fs: 'empty', net: 'empty', tls: 'empty', child_process: 'empty' }} ÂàõÂª∫Âú∞ÂõæÁªÑ‰ª∂ src\\view\\earth.vue 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135&lt;template&gt; &lt;div class=&quot;container&quot;&gt; &lt;div id=&quot;cesiumContainer&quot;&gt;&lt;/div&gt; &lt;div id=&quot;credit&quot;&gt;&lt;/div&gt; &lt;/div&gt;&lt;/template&gt; &lt;script&gt;// ËøôÈáå‰∏çËÉΩ‰ΩøÁî® import Cesium from 'cesium/Cesium' ÂØºÂÖ•Ê®°ÂùóÔºåÂõ†‰∏∫Cesium 1.63 ÁâàÊú¨‰ª•Âêé‰ΩøÁî®ÁöÑÊòØES6„ÄÇÂ∫îËØ•‰ΩøÁî®‰∏Ä‰∏ãÊñπÂºè// import { Viewer } from &quot;cesium/Cesium&quot;;import * as Cesium from &quot;cesium/Cesium&quot;; //Ê≠£Á°Æimport &quot;cesium/Widgets/widgets.css&quot;;export default { name: &quot;earth&quot;, data() { return {}; }, mounted() { // let viewer = new Viewer(&quot;cesiumContainer&quot;); // 1. Geocoder : Êü•Êâæ‰ΩçÁΩÆÂ∑•ÂÖ∑ÔºåÊü•ÊâæÂà∞‰πãÂêé‰ºöÂ∞ÜÈïúÂ§¥ÂØπÂáÜÊâæÂà∞ÁöÑÂú∞ÂùÄÔºåÈªòËÆ§‰ΩøÁî®bingÂú∞Âõæ // 2. Home Button :ËßÜËßíËøîÂõûÂàùÂßã‰ΩçÁΩÆ. // 3. Scene Mode Picker : ÈÄâÊã©ËßÜËßíÁöÑÊ®°ÂºèÔºåÊúâ‰∏âÁßçÔºö3DÔºå2DÔºåÂì•‰º¶Â∏ÉËßÜÂõæ(CV) // 4. Base Layer Picker : ÂõæÂ±ÇÈÄâÊã©Âô®ÔºåÈÄâÊã©Ë¶ÅÊòæÁ§∫ÁöÑÂú∞ÂõæÊúçÂä°ÂíåÂú∞ÂΩ¢ÊúçÂä°. // 5. Navigation Help Button :ÂØºËà™Â∏ÆÂä©ÊåâÈíÆÔºåÊòæÁ§∫ÈªòËÆ§ÁöÑÂú∞ÂõæÊéßÂà∂Â∏ÆÂä©. // 6. Animation : Âä®ÁîªÂô®‰ª∂ÔºåÊéßÂà∂ËßÜÂõæÂä®ÁîªÁöÑÊí≠ÊîæÈÄüÂ∫¶. // 7. Timeline :Êó∂Èó¥Á∫ø,ÊåáÁ§∫ÂΩìÂâçÊó∂Èó¥ÔºåÂπ∂ÂÖÅËÆ∏Áî®Êà∑Ë∑≥Âà∞ÁâπÂÆöÁöÑÊó∂Èó¥. // 8. Credits Display :ÁâàÊùÉÊòæÁ§∫ÔºåÊòæÁ§∫Êï∞ÊçÆÂΩíÂ±ûÔºåÂøÖÈÄâ // 9. Fullscreen Button :ÂÖ®Â±èÊåâÈíÆ. Cesium.Ion.defaultAccessToken =&quot;Ëá™Â∑±ÁöÑtoken&quot;; var viewer = new Cesium.Viewer(&quot;cesiumContainer&quot;, { // geocoder: false, // homeButton: false, // sceneModePicker: false, // baseLayerPicker: false, // navigationHelpButton: false, // animation: false, creditContainer: &quot;credit&quot;, // timeline: false, // fullscreenButton: false, // vrButton: false, // skyBox : new Cesium.SkyBox({ // sources : { // positiveX : 'stars/TychoSkymapII.t3_08192x04096_80_px.jpg', // negativeX : 'stars/TychoSkymapII.t3_08192x04096_80_mx.jpg', // positiveY : 'stars/TychoSkymapII.t3_08192x04096_80_py.jpg', // negativeY : 'stars/TychoSkymapII.t3_08192x04096_80_my.jpg', // positiveZ : 'stars/TychoSkymapII.t3_08192x04096_80_pz.jpg', // negativeZ : 'stars/TychoSkymapII.t3_08192x04096_80_mz.jpg' // } // }) }); // ÊòæÁ§∫Â∏ßÈÄü(FPS) viewer.scene.debugShowFramesPerSecond = true; // ÁªòÂà∂ÂΩ¢Áä∂ // ÊñπÂºè‰∏ÄÔºö var redBox = viewer.entities.add({ name: &quot;Red box with black outline&quot;, position: Cesium.Cartesian3.fromDegrees(-107.0, 40.0, 300000.0), box: { dimensions: new Cesium.Cartesian3(400000.0, 300000.0, 500000.0), material: Cesium.Color.BLUE.withAlpha(0.5), outline: true, outlineColor: Cesium.Color.BLACK, }, }); viewer.zoomTo(viewer.entities); // ÊñπÂºè‰∫åÔºö var czml = [ { id: &quot;document&quot;, name: &quot;box&quot;, version: &quot;1.0&quot;, }, { id: &quot;shape2&quot;, name: &quot;Red box with black outline&quot;, position: { cartographicDegrees: [-107.0, 50.0, 300000.0], }, box: { dimensions: { cartesian: [400000.0, 300000.0, 500000.0], }, material: { solidColor: { color: { rgba: [255, 0, 0, 128], }, }, }, outline: true, outlineColor: { rgba: [0, 0, 0, 255], }, }, }, ]; // ÈáçÂ§çÂàõÂª∫Viewer‰ºöÊ∑ªÂä†Â§ö‰∏™Á™óÂè£ // var viewer = new Cesium.Viewer(&quot;cesiumContainer&quot;); var dataSourcePromise = Cesium.CzmlDataSource.load(czml); viewer.dataSources.add(dataSourcePromise); viewer.zoomTo(dataSourcePromise); },};&lt;/script&gt; &lt;style scoped&gt;.container { width: 100%; height: 100%;}#cesiumContainer { width: 100%; height: 100%;}/* ‰∏çÂç†ÊçÆÁ©∫Èó¥ÔºåÊó†Ê≥ïÁÇπÂáªÔºåÂè≥‰∏äËßíÊåâÈíÆÁªÑÔºåÂ∑¶‰∏ãËßíÂä®ÁîªÊéß‰ª∂ ÔºåÊó∂Èó¥Á∫øÔºålogo‰ø°ÊÅØ*//* .cesium-viewer-toolbar,.cesium-viewer-animationContainer,.cesium-viewer-timelineContainer,.cesium-viewer-bottom { display: none;} *//* ÂÖ®Â±èÊåâÈíÆ *//* .cesium-viewer-fullscreenContainer { position: absolute; top: -999em;} *//* Ê≥®ÔºöÂÖ®Â±èÊåâÈíÆ‰∏çËÉΩÈÄöËøádisplay:noneÁöÑÊñπÂºèÊù•ËææÂà∞ÈöêËóèÁöÑÁõÆÁöÑÔºåËøôÊòØÂõ†‰∏∫ÁîüÊàêÁöÑÊåâÈíÆÊéß‰ª∂ÁöÑË°åÂÜÖÊ†∑ÂºèËÆæÁΩÆ‰∫ÜdisplayÂ±ûÊÄßÔºå‰ºöË¶ÜÁõñÂºïÂÖ•ÁöÑcssÂ±ûÊÄß&lt;div class=&quot;cesium-viewer-fullscreenContainer&quot; style=&quot;display: block;&quot;&gt;...&lt;/div&gt; */&lt;/style&gt; Ê∑ªÂä†Ë∑ØÁî± src\\router\\index.js 12345678910111213141516171819202122import Vue from 'vue'import Router from 'vue-router'import HelloWorld from '@/components/HelloWorld'import earth from '@/view/earth'Vue.use(Router)export default new Router({ routes: [ { path: '/', name: 'HelloWorld', component: HelloWorld }, { path: '/earth', name: 'earth', component: earth } ]}) ËøêË°åÊä•Èîô1 error in ./node_modules/cesium/Source/ThirdParty/zip.js Ëß£ÂÜ≥ 1npm i @open-wc/webpack-import-meta-loader -S vue.config.js Êàñ webpack.base.conf.jsÈÖçÁΩÆ 123456789101112131415module.exports = { configureWebpack: { module: { rules: [ { test: /\\.js$/, use: { loader: '@open-wc/webpack-import-meta-loader', }, }, ], }, },} ËøêË°åÊä•Èîô2 error in (webpack)/hot/dev-server.js Module build failed: TypeError: Cannot read property 'length' of undefined at Object.module.exports (F:\\demo\\cesiumtest-master\\node_modules@open-wc\\webpack-import-meta-loader\\webpack-import-meta-loader.js:20:63) Ëß£ÂÜ≥ ÁÇπÂáªÊä•ÈîôË∑≥ËΩ¨Âà∞ÂØπÂ∫îÊñá‰ª∂Ë°åÔºåÂ∞ÜÂÖ∂Ê≥®ÈáäÂç≥ÂèØ 1234567module.exports = function (source) { const path = require('path'); const relativePath = this.context.substring( // this.context.indexOf(this.rootContext) + this.rootContext.length + 1, this.resource.lastIndexOf(path.sep) + 1, ); ËøêË°å npm run dev http://localhost:8081/#/earth npm run build ÊâìÂåÖÊàêÂäü ÈÉ®ÁΩ≤dist http://xx.xx.xx.11:8084/#/earth ÊàêÂäü ÂäüËÉΩÂºÄÂèë Êéß‰ª∂ÊòæÁ§∫ÊéßÂà∂ Geocoder : Êü•Êâæ‰ΩçÁΩÆÂ∑•ÂÖ∑ÔºåÊü•ÊâæÂà∞‰πãÂêé‰ºöÂ∞ÜÈïúÂ§¥ÂØπÂáÜÊâæÂà∞ÁöÑÂú∞ÂùÄÔºåÈªòËÆ§‰ΩøÁî®bingÂú∞Âõæ Home Button :ËßÜËßíËøîÂõûÂàùÂßã‰ΩçÁΩÆ. Scene Mode Picker : ÈÄâÊã©ËßÜËßíÁöÑÊ®°ÂºèÔºåÊúâ‰∏âÁßçÔºö3DÔºå2DÔºåÂì•‰º¶Â∏ÉËßÜÂõæ(CV) Base Layer Picker : ÂõæÂ±ÇÈÄâÊã©Âô®ÔºåÈÄâÊã©Ë¶ÅÊòæÁ§∫ÁöÑÂú∞ÂõæÊúçÂä°ÂíåÂú∞ÂΩ¢ÊúçÂä°. Navigation Help Button :ÂØºËà™Â∏ÆÂä©ÊåâÈíÆÔºåÊòæÁ§∫ÈªòËÆ§ÁöÑÂú∞ÂõæÊéßÂà∂Â∏ÆÂä©. Animation : Âä®ÁîªÂô®‰ª∂ÔºåÊéßÂà∂ËßÜÂõæÂä®ÁîªÁöÑÊí≠ÊîæÈÄüÂ∫¶. Timeline :Êó∂Èó¥Á∫ø,ÊåáÁ§∫ÂΩìÂâçÊó∂Èó¥ÔºåÂπ∂ÂÖÅËÆ∏Áî®Êà∑Ë∑≥Âà∞ÁâπÂÆöÁöÑÊó∂Èó¥. Credits Display :ÁâàÊùÉÊòæÁ§∫ÔºåÊòæÁ§∫Êï∞ÊçÆÂΩíÂ±ûÔºåÂøÖÈÄâ Fullscreen Button :ÂÖ®Â±èÊåâÈíÆ. jsÊñπÂºè ÂÆòÊñπÊñáÊ°£ 123456789101112131415161718192021222324var viewer = new Viewer(&quot;cesiumContainer&quot;, { geocoder: false, homeButton: false, sceneModePicker: false, baseLayerPicker: false, navigationHelpButton: false, animation: false, // creditContainer: &quot;credit&quot;, timeline: false, fullscreenButton: false, vrButton: false, // skyBox : new Cesium.SkyBox({ // sources : { // positiveX : 'stars/TychoSkymapII.t3_08192x04096_80_px.jpg', // negativeX : 'stars/TychoSkymapII.t3_08192x04096_80_mx.jpg', // positiveY : 'stars/TychoSkymapII.t3_08192x04096_80_py.jpg', // negativeY : 'stars/TychoSkymapII.t3_08192x04096_80_my.jpg', // positiveZ : 'stars/TychoSkymapII.t3_08192x04096_80_pz.jpg', // negativeZ : 'stars/TychoSkymapII.t3_08192x04096_80_mz.jpg' // } // })});// ÊòæÁ§∫Â∏ßÈÄü(FPS)viewer.scene.debugShowFramesPerSecond = true; cssÊñπÂºè 12345678910/* ‰∏çÂç†ÊçÆÁ©∫Èó¥ÔºåÊó†Ê≥ïÁÇπÂáª */.cesium-viewer-toolbar, /* Âè≥‰∏äËßíÊåâÈíÆÁªÑ */.cesium-viewer-animationContainer, /* Â∑¶‰∏ãËßíÂä®ÁîªÊéß‰ª∂ */.cesium-viewer-timelineContainer, /* Êó∂Èó¥Á∫ø */.cesium-viewer-bottom /* logo‰ø°ÊÅØ */{ display: none;}.cesium-viewer-fullscreenContainer /* ÂÖ®Â±èÊåâÈíÆ */{ position: absolute; top: -999em; } ÂàõÂª∫ÂΩ¢Áä∂ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152// ÁªòÂà∂ÂΩ¢Áä∂ Ê≠£Êñπ‰Ωì // ÊñπÂºè‰∏ÄÔºöEntity//ÂÖ∂‰ªñÂΩ¢Áä∂Ôºöhttp://cesium.xin/cesium/Documentation/Entity.html?classFilter=entity var redBox = viewer.entities.add({ name: &quot;Red box with black outline&quot;, position: Cesium.Cartesian3.fromDegrees(-107.0, 40.0, 300000.0), box: { dimensions: new Cesium.Cartesian3(400000.0, 300000.0, 500000.0), material: Cesium.Color.BLUE.withAlpha(0.5), outline: true, outlineColor: Cesium.Color.BLACK, }, }); viewer.zoomTo(viewer.entities); // ÊñπÂºè‰∫åÔºöCZML(ÂèØÂàõÂª∫Âá†‰ΩïÂΩ¢Áä∂‰πüÂèØÂàõÂª∫Âä®Áîª) var czml = [ { id: &quot;document&quot;, name: &quot;box&quot;, version: &quot;1.0&quot;, }, { id: &quot;shape2&quot;, name: &quot;Red box with black outline&quot;, position: { cartographicDegrees: [-107.0, 50.0, 300000.0], }, box: { dimensions: { cartesian: [400000.0, 300000.0, 500000.0], }, material: { solidColor: { color: { rgba: [255, 0, 0, 128], }, }, }, outline: true, outlineColor: { rgba: [0, 0, 0, 255], }, }, }, ]; // ÈáçÂ§çÂàõÂª∫Viewer‰ºöÊ∑ªÂä†Â§ö‰∏™Á™óÂè£ // var viewer = new Cesium.Viewer(&quot;cesiumContainer&quot;); var dataSourcePromise = Cesium.CzmlDataSource.load(czml); viewer.dataSources.add(dataSourcePromise); viewer.zoomTo(dataSourcePromise); Ê∑ªÂä†‰∏çÂêåÁ±ªÂûãÊï∞ÊçÆ Ê¶ÇËßà Web Map Service (WMS) - ‰∏ÄÁßçOGCÊ†áÂáÜÔºå‰ªéÂàÜÂ∏ÉÂºèÂú∞ÁêÜÊï∞ÊçÆÂ∫ì‰∏≠ÈÄöËøáÂú∞ÂõæÁöÑÂú∞ÁêÜËåÉÂõ¥Êù•ËØ∑Ê±ÇÂàáÁâá„ÄÇ Cesium‰ΩøÁî® WebMapServiceImageryProviderÂéªÊîØÊåÅËøôÁßç„ÄÇ Tile Map Service (TMS) - ‰∏ÄÁßçËÆøÈóÆÂú∞ÂõæÂàáÁâáÁöÑRESTÊé•Âè£„ÄÇ ÂèØ‰ª•Áî®CesiumLabÔºå MapTiler ÊàñËÄÖ GDAL2Tiles . Cesium‰∏≠‰ΩøÁî®TileMapServiceImageryProvider. OpenGIS Web Map Tile Service (WMTS) - ‰∏ÄÁßçOGCÊ†áÂáÜÔºå‰∏ªË¶ÅÊòØ‰∏∫È¢ÑÊ∏≤ÊüìÁöÑÂú∞ÂõæÂàáÁâáÂΩ¢Âºè. Cesium‰∏≠‰ΩøÁî® WebMapTileServiceImageryProvider. OpenStreetMap - ËÆøÈóÆ OpenStreetMap ÂàáÁâá ÊàñËÄÖ ‰ªªÊÑè Slippy map tiles.ÊúâÂæàÂ§öÊñπÊ≥ï ÂèëÂ∏ÉËøôÁßçÊúçÂä° .Cesium‰∏≠‰ΩøÁî®createOpenStreetMapImageryProvider. Bing Âú∞Âõæ - ‰ΩøÁî®Bing Âú∞Âõæ REST ÊúçÂä°ËÆøÈóÆÂàáÁâá. Âú®ËøôÈáå https://www.bingmapsportal.com/ÂàõÂª∫BingÂú∞ÂõæÁöÑkey. Cesium‰∏≠‰ΩøÁî® BingMapsImageryProvider. Esri ArcGIS MapServer - ‰ΩøÁî® ArcGIS Server REST API ËÆøÈóÆÂ≠òÂÇ®Âú®ArcGIS Server‰∏äÁöÑÂàáÁâá„ÄÇCesium‰∏≠‰ΩøÁî®ArcGisMapServerImageryProvider. Google Earth Enterprise - ËÆøÈóÆGoogle Earth ‰ºÅ‰∏öÁâàÊúçÂä°Âô®ÂèëÂ∏ÉÁöÑÂΩ±ÂÉèÂàáÁâá„ÄÇCesium‰∏≠ GoogleEarthImageryProvider. Mapbox - ‰ΩøÁî® Mapbox APIËÆøÈóÆÂàáÁâá. Âú®ËøôÈáåÊñ∞Âª∫Áî®Êà∑ÔºåÂπ∂‰∏îÂàõÂª∫‰∏Ä‰∏™ access token. Cesium‰∏≠‰ΩøÁî® MapboxImageryProvider. ÊôÆÈÄöÂõæÁâáÊñá‰ª∂ - ‰ΩøÁî®‰∏ÄÂº†ÊôÆÈÄöÂõæÁâáÂàõÂª∫ÂΩ±ÂÉèÂõæÂ±Ç. Cesium‰∏≠‰ΩøÁî® SingleTileImageryProvider. Ëá™ÂÆö‰πâÂàáÁâáÊú∫Âà∂ - ‰ΩøÁî®UrlTemplateImageryProvider, ÂèØ‰ª•ÈÄöËøá URL Ê®°ÊùøËøûÊé•ÂêÑÁßçÂΩ±ÂÉèËµÑÊ∫ê „ÄÇÊØîÂ¶ÇTMSÊúçÂä°ÁöÑURLÊ®°ÊùøÊòØÔºö //cesiumjs.org/tilesets/imagery/naturalearthii/{z}/{x}/{reverseY}.jpg. ÂàáÁâáÂùêÊ†á - Áî®Êù•ÊòæÁ§∫ÂÖ®ÁêÉÊòØÂ¶Ç‰ΩïË¢´ÂàáÁâáÁöÑÔºåÊîØÊåÅÂ§öÁßçÂàáÁâáËßÑÂàôÔºåÁîªÂá∫ÊØè‰∏™ÂàáÁâáÁöÑÂú∞ÁêÜËæπÁïåÔºåÂπ∂‰∏îÁî®ÊñáÂ≠óÊ†áÊ≥®ÊØè‰∏™ÂàáÁâáÁöÑlevelÔºåxÔºåyÂùêÊ†á„ÄÇ ÁôæÂ∫¶Âú∞Âõæ - Áî®Êù•Âä†ËΩΩÁôæÂ∫¶ÈªòËÆ§Âú∞ÂõæÊàñËÄÖËá™ÂÆö‰πâÊ†∑ÂºèÂú∞ÂõæÔºåËØ∑ËÅîÁ≥ªÊàë‰ª¨„ÄÇ Ë∑®ÂüüÈóÆÈ¢òËß£ÂÜ≥ 12345678910111213141516171819module.exports = { dev: { // Paths assetsSubDirectory: 'static', assetsPublicPath: '/', //Êé•Âè£Âú∞ÂùÄÂéüÊú¨ÊòØ/satellite/z={z}&amp;x={x}&amp;y={y} ‰ΩÜÊòØ‰∏∫‰∫ÜÂåπÈÖç‰ª£ÁêÜÂú∞ÂùÄ Ë∞ÉÁî®Êó∂ÈúÄÂú®ÂâçÈù¢Âä†‰∏Ä‰∏™ /satellite, Âõ†Ê≠§Êé•Âè£Âú∞ÂùÄÈúÄË¶ÅÂÜôÊàêËøôÊ†∑ÁöÑÂç≥ÂèØÁîüÊïà /satellite/satellite/z={z}&amp;x={x}&amp;y={y} proxyTable: { '/ArcGIS': {//‰ª£ÁêÜÁöÑÁõÆÁöÑÔºöÂè™Ë¶ÅÊòØ/satelliteÂºÄÂ§¥ÁöÑË∑ØÂæÑÈÉΩÂæÄlocalhost:3000ËøõË°åËΩ¨Âèë target: 'https://sampleserver1.arcgisonline.com', //ÂêéÁ´ØÊé•Âè£Âú∞ÂùÄ ËÆæÁΩÆ‰ª£ÁêÜÊúçÂä°Âô®Âú∞ÂùÄ ËΩ¨ÂèëÂú∞ÂùÄ ws: true,//WebSocketÂçèËÆÆ changeOrigin: true, //Ë°®Á§∫ÊòØÂê¶ÊîπÂèòÂéüÂüüÂêçÔºõËøô‰∏™‰∏ÄÂÆöË¶ÅÈÄâÊã©‰∏∫true; ÊòØÂê¶ÂÖÅËÆ∏Ë∑®Âüü[ Â¶ÇÊûúÊé•Âè£Ë∑®Âüü ÂàôË¶ÅÈÖçÁΩÆËøô‰∏™ÂèÇÊï∞] secure: false, // Â¶ÇÊûúÊòØhttpsÊé•Âè£ ÈúÄË¶ÅÈÖçÁΩÆËøô‰∏™ÂèÇÊï∞ pathRewrite: {// ÊääÁ®ãÂ∫è‰∏≠ÁöÑÂú∞ÂùÄËΩ¨Êç¢Êàê‚ÄúÁúüÂÆûÂú∞ÂùÄ‚Äù+‚Äò/satellite‚ÄôÂêéÈù¢ÁöÑÈÉ®ÂàÜÂ¶Ç‚Äò/satellite/satellite/z={z}&amp;x={x}&amp;y={y}'ÔºåË¢´ËΩ¨Êç¢Êàê'http://localhost:3000/satellite/z={z}&amp;x={x}&amp;y={y}' '^/ArcGIS': ''//‰øÆÊîπpathRewriteÂú∞ÂùÄ Â∞ÜÂâçÁºÄ'^satellite'ËΩ¨‰∏∫'/satellite' } }, }, Âä†ËΩΩ‰∏çÂêåÁ±ªÂûãÊï∞ÊçÆ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051// Âä†ËΩΩ‰∏çÂêåÁ±ªÂûãÊï∞ÊçÆ ‰ªé‰∏äÂà∞‰∏ã‰æùÊ¨°Ë¶ÜÁõñ============================================== // Êï∞ÊçÆÁ±ªÂûã1Ôºö -----------------------------------Web Map Service (WMS) ------------------------------------- // var provider = new Cesium.WebMapServiceImageryProvider({ // // url: &quot;https://sampleserver1.arcgisonline.com/ArcGIS/services/Specialty/ESRI_StatesCitiesRivers_USA/MapServer/WMSServer&quot;, // url: &quot;ArcGIS/ArcGIS/services/Specialty/ESRI_StatesCitiesRivers_USA/MapServer/WMSServer&quot;, // layers: &quot;0&quot;, // // proxy: new Cesium.DefaultProxy(&quot;/proxy/&quot;), // }); // viewer.imageryLayers.addImageryProvider(provider); // Êï∞ÊçÆÁ±ªÂûã2Ôºö-----------------------------------OpenGIS Web Map Tile Service (WMTS)----------------------------------- // var shadedRelief2 = new Cesium.WebMapTileServiceImageryProvider({ // url: &quot;http://basemap.nationalmap.gov/arcgis/rest/services/USGSShadedReliefOnly/MapServer/WMTS/tile/1.0.0/USGSShadedReliefOnly/{Style}/{TileMatrixSet}/{TileMatrix}/{TileRow}/{TileCol}.jpg&quot;, // layer: &quot;USGSShadedReliefOnly&quot;, // style: &quot;default&quot;, // format: &quot;image/jpeg&quot;, // tileMatrixSetID: &quot;default028mm&quot;, // maximumLevel: 19, // credit: new Cesium.Credit(&quot;U. S. Geological Survey&quot;), // }); // viewer.imageryLayers.addImageryProvider(shadedRelief2); // url:&quot;http://61.175.211.102/arcgis/rest/services/wzmap/map/MapServer/WMTS?service=WMTS&amp;request=GetTile&amp;layer=wzmap&amp;style=default&amp;tilematriX={TileMatrix}&amp;tilerow={TileRow}&amp;tilecoL={TileCol}&quot; // Êï∞ÊçÆÁ±ªÂûã3Ôºö -----------------------------------Tile Map Service (TMS)----------------------------------- // var tms = new Cesium.TileMapServiceImageryProvider({ // url: &quot;../images/cesium_maptiler/Cesium_Logo_Color&quot;, // fileExtension: &quot;png&quot;, // maximumLevel: 4, // rectangle: new Cesium.Rectangle( // Cesium.Math.toRadians(-120.0), // Cesium.Math.toRadians(20.0), // Cesium.Math.toRadians(-60.0), // Cesium.Math.toRadians(40.0) // ), // }); // viewer.imageryLayers.addImageryProvider(tms); // Êï∞ÊçÆÁ±ªÂûã4Ôºö -----------------------------------ArcGis----------------------------------- // var esri = new Cesium.ArcGisMapServerImageryProvider({ // url: &quot;https://services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer&quot;, // }); // viewer.imageryLayers.addImageryProvider(esri); // Êï∞ÊçÆÁ±ªÂûã5Ôºö-----------------------------------Mapbox----------------------------------- var mapbox = new Cesium.MapboxImageryProvider({ mapId: &quot;mapbox.mapbox-streets-v8&quot;, accessToken: &quot;pk.eyJ1IjoibGltbiIsImEiOiJja2t1bG1na2IxZGU0MnZvNmlzY3FhZXM4In0.oQx4VguycOR4TK80Pyusmw&quot;, }); viewer.imageryLayers.addImageryProvider(mapbox); Leaflet an open-source JavaScript library for mobile-friendly interactive maps Leaflet ÊòØ‰∏Ä‰∏™‰∏∫Âª∫ËÆæÁßªÂä®ËÆæÂ§áÂèãÂ•ΩÁöÑ‰∫íÂä®Âú∞ÂõæÔºåËÄåÂºÄÂèëÁöÑÁé∞‰ª£ÁöÑ„ÄÅÂºÄÊ∫êÁöÑ JavaScript Â∫ì„ÄÇËôΩÁÑ∂‰ª£Á†Å‰ªÖÊúâ 38 KBÔºå‰ΩÜÂÆÉÂÖ∑ÊúâÂºÄÂèë‰∫∫ÂëòÂºÄÂèëÂú®Á∫øÂú∞ÂõæÁöÑÂ§ßÈÉ®ÂàÜÂäüËÉΩ„ÄÇLeafletËÆæËÆ°ÂùöÊåÅÁÆÄ‰æø„ÄÅÈ´òÊÄßËÉΩÂíåÂèØÁî®ÊÄßÂ•ΩÁöÑÊÄùÊÉ≥ÔºåÂú®ÊâÄÊúâ‰∏ªË¶ÅÊ°åÈù¢ÂíåÁßªÂä®Âπ≥Âè∞ËÉΩÈ´òÊïàËøê‰ΩúÔºåÂú®Áé∞‰ª£ÊµèËßàÂô®‰∏ä‰ºöÂà©Áî®HTML5ÂíåCSS3ÁöÑ‰ºòÂäøÔºåÂêåÊó∂‰πüÊîØÊåÅÊóßÁöÑÊµèËßàÂô®ËÆøÈóÆ„ÄÇÊîØÊåÅÊèí‰ª∂Êâ©Â±ïÔºåÊúâ‰∏Ä‰∏™ÂèãÂ•Ω„ÄÅÊòì‰∫é‰ΩøÁî®ÁöÑAPIÊñáÊ°£Âíå‰∏Ä‰∏™ÁÆÄÂçïÁöÑ„ÄÅÂèØËØªÁöÑÊ∫ê‰ª£Á†Å„ÄÇËØ¶ÁªÜËßÅÂÆòÊñπÁΩëÁ´ôhttps://leafletjs.com/ 3.3.1Âú∞Âõæ 3.3.1.1Áü¢ÈáèÁîµÂ≠êÂú∞Âõæ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364&lt;html&gt;&lt;head&gt; &lt;meta charset=&quot;UTF-8&quot;&gt; &lt;title&gt;Ê∑ªÂä†ÁîµÂ≠êÂú∞Âõæ&lt;/title&gt; &lt;!--Ê∑ªÂä†leafletÊ†∑Âºè--&gt; &lt;link rel=&quot;stylesheet&quot; href=&quot;http://172.18.109.232:8082/leaflet/V1.3/leaflet/leaflet.css&quot; /&gt; &lt;!--Ê∑ªÂä†leafletjsÂåÖ--&gt; &lt;script src=&quot;http://172.18.109.232:8082/leaflet/V1.3/leaflet/leaflet.js&quot;&gt;&lt;/script&gt; &lt;!--Ê∑ªÂä†ÂùêÊ†áÂ∫ì--&gt; &lt;script src=&quot;http://172.18.109.232:8082/leaflet/V1.3/pro/proj4-compressed.js&quot;&gt;&lt;/script&gt; &lt;script src=&quot;http://172.18.109.232:8082/leaflet/V1.3/pro/proj4leaflet.js&quot;&gt;&lt;/script&gt; &lt;style&gt; html { height: 100% } body { height: 100%; margin: 0; padding: 0; } .map { height: 100% } &lt;/style&gt;&lt;/head&gt;&lt;body&gt; &lt;div id=&quot;mapid&quot; class=&quot;map&quot;&gt;&lt;/div&gt; &lt;script&gt; var res = [ 0.00549933137239034, // Level 0 0.00274966568619517, // Level 1 0.00137483284309758, // Level 2 0.000687416421548792, // Level 3 0.000343708210774396, // Level 4 0.000171854105387198, 8.5927052693599E-05, 4.29635263467995E-05, 2.14817631733998E-05, 1.07408815866999E-05, 5.37044079334994E-06, 2.68522039667497E-06, 1.34261019833748E-06 ]; var crs = new L.Proj.CRS('EPSG:4490', '+proj=longlat +ellps=GRS80 +no_defs', { resolutions: res, origin: [118.122911693886, 31.2869311022836], //ÂàáÂõæÂéüÁÇπ } ); var map = L.map('mapid', { crs: crs }); var url = &quot;http://172.18.109.232:8080/68DE38F71E38CD8C508FAB3035752EA8ED8F9221EDE18FDBE593B01FCDD12BD296F09FE27CD7D2733AD075EAF994851B/PBS/rest/services/hzsyvector/Mapserver&quot;; var attrib = &quot;&amp;copy Êù≠Â∑ûÂ∏ÇËßÑÂàíËµÑÊ∫êÂ±Ä&quot;; var basemap = new L.TileLayer(url + &quot;/tile/{z}/{y}/{x}&quot;, { tileSize: 256, attribution: attrib }); map.addLayer(basemap); map.setView([30.25168, 120.16179], 4); //ËÆæÁΩÆÊØî‰æãÂ∞∫Âíå‰∏≠ÂøÉÁÇπÁ∫ßÂà´ &lt;/script&gt;&lt;/body&gt;&lt;/html&gt; 3.3.1.2ÂΩ±ÂÉèÁîµÂ≠êÂú∞Âõæ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162&lt;!DOCTYPE html&gt;&lt;html&gt;&lt;head&gt; &lt;meta charset=&quot;UTF-8&quot;&gt; &lt;title&gt;Ê∑ªÂä†ÂΩ±ÂÉèÂú∞Âõæ&lt;/title&gt; &lt;link rel=&quot;stylesheet&quot; href=&quot;http://172.18.109.232:8082/leaflet/V1.3/leaflet/leaflet.css&quot; /&gt; &lt;script src=&quot;http://172.18.109.232:8082/leaflet/V1.3/leaflet/leaflet.js&quot;&gt;&lt;/script&gt; &lt;script src=&quot;http://172.18.109.232:8082/leaflet/V1.3/pro/proj4-compressed.js&quot;&gt;&lt;/script&gt; &lt;script src=&quot;http://172.18.109.232:8082/leaflet/V1.3/pro/proj4leaflet.js&quot;&gt;&lt;/script&gt; &lt;style&gt; html { height: 100% } body { height: 100%; margin: 0; padding: 0; } .map { height: 100% } &lt;/style&gt;&lt;/head&gt;&lt;body&gt; &lt;div id=&quot;mapid&quot; class=&quot;map&quot;&gt;&lt;/div&gt; &lt;script&gt; var res = [ 0.00549933137239034, // Level 0 0.00274966568619517, // Level 1 0.00137483284309758, // Level 2 0.000687416421548792, // Level 3 0.000343708210774396, // Level 4 0.000171854105387198, 8.5927052693599E-05, 4.29635263467995E-05, 2.14817631733998E-05, 1.07408815866999E-05, 5.37044079334994E-06, 2.68522039667497E-06, 1.34261019833748E-06 ]; var crs = new L.Proj.CRS('EPSG:4490', '+proj=longlat +ellps=GRS80 +no_defs', { resolutions: res, origin: [118.122911693886, 31.2869311022836], } ); var map = L.map('mapid', { crs: crs }); var url = &quot;http://172.18.109.232:8080/68DE38F71E38CD8C508FAB3035752EA8ED8F9221EDE18FDBE593B01FCDD12BD296F09FE27CD7D2733AD075EAF994851B/PBS/rest/services/hzsyraster/Mapserver&quot;; var attrib = &quot;&amp;copy Êù≠Â∑ûÂ∏ÇËßÑÂàíËµÑÊ∫êÂ±Ä&quot;; var basemap = new L.TileLayer(url + &quot;/tile/{z}/{y}/{x}&quot;, { tileSize: 256, attribution: attrib }); map.addLayer(basemap); map.setView([30, 120], 4); //ËÆæÁΩÆÊØî‰æãÂ∞∫Âíå‰∏≠ÂøÉÁÇπÁ∫ßÂà´ &lt;/script&gt;&lt;/body&gt;&lt;/html&gt; 3.3.1.3ÊâãÂä®Âä†ËΩΩ/ÁßªÈô§Âú∞Âõæ 3.3.2ÂõæÂ±Ç 3.3.2.1ÂºπÂá∫‰ø°ÊÅØÊ°Ü ÁÇπÂáªÂú∞ÂõæÂºπÂá∫‰ø°ÊÅØÔºåÁ§∫‰æã‰ª£Á†ÅbindPopup 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465&lt;html&gt;&lt;head&gt; &lt;meta charset=&quot;UTF-8&quot;&gt; &lt;title&gt;Ê∑ªÂä†ÁîµÂ≠êÂú∞Âõæ&lt;/title&gt; &lt;!--Ê∑ªÂä†leafletÊ†∑Âºè--&gt; &lt;link rel=&quot;stylesheet&quot; href=&quot;http://172.18.109.232:8082/leaflet/V1.3/leaflet/leaflet.css&quot; /&gt; &lt;!--Ê∑ªÂä†leafletjsÂåÖ--&gt; &lt;script src=&quot;http://172.18.109.232:8082/leaflet/V1.3/leaflet/leaflet.js&quot;&gt;&lt;/script&gt; &lt;!--Ê∑ªÂä†ÂùêÊ†áÂ∫ì--&gt; &lt;script src=&quot;http://172.18.109.232:8082/leaflet/V1.3/pro/proj4-compressed.js&quot;&gt;&lt;/script&gt; &lt;script src=&quot;http://172.18.109.232:8082/leaflet/V1.3/pro/proj4leaflet.js&quot;&gt;&lt;/script&gt; &lt;style&gt; html { height: 100% } body { height: 100%; margin: 0; padding: 0; } .map { height: 100% } &lt;/style&gt;&lt;/head&gt;&lt;body&gt; &lt;div id=&quot;mapid&quot; class=&quot;map&quot;&gt;&lt;/div&gt; &lt;script&gt; var res = [ 0.00549933137239034, // Level 0 0.00274966568619517, // Level 1 0.00137483284309758, // Level 2 0.000687416421548792, // Level 3 0.000343708210774396, // Level 4 0.000171854105387198, 8.5927052693599E-05, 4.29635263467995E-05, 2.14817631733998E-05, 1.07408815866999E-05, 5.37044079334994E-06, 2.68522039667497E-06, 1.34261019833748E-06 ]; var crs = new L.Proj.CRS('EPSG:4490', '+proj=longlat +ellps=GRS80 +no_defs', { resolutions: res, origin: [118.122911693886, 31.2869311022836], //ÂàáÂõæÂéüÁÇπ } ); var map = L.map('mapid', { crs: crs }); var url = &quot;http://172.18.109.232:8080/68DE38F71E38CD8C508FAB3035752EA8ED8F9221EDE18FDBE593B01FCDD12BD296F09FE27CD7D2733AD075EAF994851B/PBS/rest/services/hzsyvector/Mapserver&quot;; var attrib = &quot;&amp;copy Êù≠Â∑ûÂ∏ÇËßÑÂàíËµÑÊ∫êÂ±Ä&quot;; var basemap = new L.TileLayer(url + &quot;/tile/{z}/{y}/{x}&quot;, { tileSize: 256, attribution: attrib }); map.addLayer(basemap); map.setView([30.25168, 120.16179], 4); //ËÆæÁΩÆÊØî‰æãÂ∞∫Âíå‰∏≠ÂøÉÁÇπÁ∫ßÂà´ L.marker([30.25168, 120.16179]).addTo(map).bindPopup(&quot;&lt;b&gt;Hello world!&lt;/b&gt;&lt;br /&gt;I am a popup.&quot;).openPopup(); &lt;/script&gt;&lt;/body&gt;&lt;/html&gt; 3.3.2.2Áü¢ÈáèÂõæÂ±ÇÔºàwmsÔºâ Âä†ËΩΩWMSÂú∞ÂõæÊúçÂä°ÔºåÊîØÊåÅfilterÁ≠õÈÄâ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576&lt;!DOCTYPE html&gt;&lt;html&gt;&lt;head&gt; &lt;meta charset=&quot;UTF-8&quot;&gt; &lt;title&gt;Ë∞ÉÁî®WMS&lt;/title&gt; &lt;link rel=&quot;stylesheet&quot; href=&quot;http://172.18.109.232:8082/leaflet/V1.3/leaflet/leaflet.css&quot; /&gt; &lt;script src=&quot;http://172.18.109.232:8082/leaflet/V1.3/leaflet/leaflet.js&quot;&gt;&lt;/script&gt; &lt;script src=&quot;http://172.18.109.232:8082/leaflet/V1.3/leaflet/Plugins/leaflet.wms.js&quot;&gt;&lt;/script&gt; &lt;script src=&quot;http://172.18.109.232:8082/leaflet/V1.3/pro/proj4-compressed.js&quot;&gt;&lt;/script&gt; &lt;script src=&quot;http://172.18.109.232:8082/leaflet/V1.3/pro/proj4leaflet.js&quot;&gt;&lt;/script&gt; &lt;style&gt; html { height: 100% } body { height: 100%; margin: 0; padding: 0; } .map { height: 100% } &lt;/style&gt;&lt;/head&gt;&lt;body&gt; &lt;div id=&quot;mapid&quot; class=&quot;map&quot;&gt;&lt;/div&gt; &lt;script&gt; var res = [ 0.00549933137239034, // Level 0 0.00274966568619517, // Level 1 0.00137483284309758, // Level 2 0.000687416421548792, // Level 3 0.000343708210774396, // Level 4 0.000171854105387198, 8.5927052693599E-05, 4.29635263467995E-05, 2.14817631733998E-05, 1.07408815866999E-05, 5.37044079334994E-06, 2.68522039667497E-06, 1.34261019833748E-06 ]; var crs = new L.Proj.CRS('EPSG:4490', '+proj=longlat +ellps=GRS80 +no_defs', { resolutions: res, origin: [118.122911693886, 31.2869311022836], } ); var map = L.map('mapid', { crs: crs }); var url = &quot;http://172.18.109.232:8080/68DE38F71E38CD8C508FAB3035752EA8ED8F9221EDE18FDBE593B01FCDD12BD296F09FE27CD7D2733AD075EAF994851B/PBS/rest/services/hzsyvector/Mapserver&quot;; var attrib = &quot;&amp;copy Êù≠Â∑ûÂ∏ÇËßÑÂàíËµÑÊ∫êÂ±Ä&quot;; var basemap = new L.TileLayer(url + &quot;/tile/{z}/{y}/{x}&quot;, { tileSize: 256, attribution: attrib }); map.addLayer(basemap); map.setView([30, 120], 4); //ËÆæÁΩÆÊØî‰æãÂ∞∫Âíå‰∏≠ÂøÉÁÇπÁ∫ßÂà´ // L.WMS.source var wmsurl = L.WMS.overlay(&quot;http://172.18.109.232:8080/68DE38F71E38CD8C508FAB3035752EA8ED8F9221EDE18FDBE593B01FCDD12BD296F09FE27CD7D2733AD075EAF994851B/PBS/rest/services/lsyt_dmdz_csbj0619/MapServer/wms&quot;, { &quot;transparent&quot;: true, &quot;srs&quot;: &quot;EPSG:4490&quot;, &quot;layers&quot;: &quot;lsyt_dmdz_csbj0619&quot;, &quot;format&quot;: &quot;image/png&quot;, &quot;CQL_FILTER&quot;: &quot;quxian='‰ΩôÊù≠Âå∫'&quot; }); map.addLayer(wmsurl); map.on('click', function (e) { alert(&quot;You clicked the map at &quot; + e.latlng); }); &lt;/script&gt;&lt;/body&gt;&lt;/html&gt; 3.3.2.3Áü¢ÈáèÂõæÂ±ÇÔºàwfsÔºâ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980818283848586&lt;!DOCTYPE html&gt;&lt;html&gt;&lt;head&gt; &lt;meta charset=&quot;UTF-8&quot; /&gt; &lt;title&gt;Âä†ËΩΩWFSÁîµÂ≠êÂú∞Âõæ&lt;/title&gt; &lt;link rel=&quot;stylesheet&quot; href=&quot;http://172.18.109.232:8082/leaflet/V1.3/leaflet/leaflet.css&quot; /&gt; &lt;script src=&quot;http://172.18.109.232:8082/leaflet/V1.3/leaflet/leaflet.js&quot;&gt;&lt;/script&gt; &lt;script src=&quot;http://172.18.109.232:8082/leaflet/V1.3/leaflet/Plugins/leaflet-wfs.js&quot;&gt;&lt;/script&gt; &lt;script src=&quot;http://172.18.109.232:8082/leaflet/V1.3/pro/proj4-compressed.js&quot;&gt;&lt;/script&gt; &lt;script src=&quot;http://172.18.109.232:8082/leaflet/V1.3/pro/proj4leaflet.js&quot;&gt;&lt;/script&gt; &lt;script src=&quot;http://172.18.109.232:8082/jquery/jquery.js&quot;&gt;&lt;/script&gt; &lt;style&gt; html { height: 100%; } body { height: 100%; margin: 0; padding: 0; } .map { height: 100%; } &lt;/style&gt;&lt;/head&gt;&lt;body&gt; &lt;div id=&quot;mapid&quot; class=&quot;map&quot;&gt;&lt;/div&gt; &lt;script&gt; var res = [ 0.00549933137239034, // Level 0 0.00274966568619517, // Level 1 0.00137483284309758, // Level 2 0.000687416421548792, // Level 3 0.000343708210774396, // Level 4 0.000171854105387198, 8.5927052693599e-5, 4.29635263467995e-5, 2.14817631733998e-5, 1.07408815866999e-5, 5.37044079334994e-6, 2.68522039667497e-6, 1.34261019833748e-6, ]; var crs = new L.Proj.CRS( &quot;EPSG:4490&quot;, &quot;+proj=longlat +ellps=GRS80 +no_defs&quot;, { resolutions: res, origin: [118.122911693886, 31.2869311022836], } ); var map = L.map(&quot;mapid&quot;, { crs: crs, }); var url = &quot;http://172.18.109.232:8080/68DE38F71E38CD8C508FAB3035752EA8ED8F9221EDE18FDBE593B01FCDD12BD296F09FE27CD7D2733AD075EAF994851B/PBS/rest/services/hzsyvector/Mapserver&quot;; var attrib = &quot;&amp;copy Êù≠Â∑ûÂ∏ÇËßÑÂàíËµÑÊ∫êÂ±Ä&quot;; var basemap = new L.TileLayer(url + &quot;/tile/{z}/{y}/{x}&quot;, { tileSize: 256, attribution: attrib, }); map.addLayer(basemap); map.setView([30, 120], 4); //ËÆæÁΩÆÊØî‰æãÂ∞∫Âíå‰∏≠ÂøÉÁÇπÁ∫ßÂà´ map.on(&quot;click&quot;, function (e) { alert(&quot;You clicked the map at &quot; + e.latlng); }); var myStyle = { color: &quot;#ff0000&quot;, weight: 2, opacity: 1, fillOpacity: 0.01, }; var mblayer; $.ajax({ url: &quot;http://172.18.109.232:8080/68DE38F71E38CD8C508FAB3035752EA8ED8F9221EDE18FDBE593B01FCDD12BD296F09FE27CD7D2733AD075EAF994851B/PBS/rest/services/lsyt_dmdz_qxbj0619/MapServer/wfs?service=wfs&amp;version=1.0.0&amp;request=getfeature&amp;typename=lsyt_dmdz_qxbj0619&amp;outputFormat=application/json&quot;, success: function (data) { var geojson = JSON.parse(data); mblayer = L.geoJSON(geojson, { style: myStyle, }).addTo(map); }, }); &lt;/script&gt;&lt;/body&gt;&lt;/html&gt; 3.3.3Êü•ËØ¢ 3.3.3.1ÁÇπÊü•ËØ¢ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100&lt;!DOCTYPE html&gt;&lt;html&gt;&lt;head&gt; &lt;meta charset=&quot;UTF-8&quot; /&gt; &lt;title&gt;ÁÇπÊü•ËØ¢&lt;/title&gt; &lt;link rel=&quot;stylesheet&quot; href=&quot;http://172.18.109.232:8082/leaflet/V1.3/leaflet/leaflet.css&quot; /&gt; &lt;script src=&quot;http://172.18.109.232:8082/leaflet/V1.3/leaflet/leaflet.js&quot;&gt;&lt;/script&gt; &lt;script src=&quot;http://172.18.109.232:8082/leaflet/V1.3/leaflet/Plugins/leaflet-wfs.js&quot;&gt;&lt;/script&gt; &lt;script src=&quot;http://172.18.109.232:8082/leaflet/V1.3/pro/proj4-compressed.js&quot;&gt;&lt;/script&gt; &lt;script src=&quot;http://172.18.109.232:8082/leaflet/V1.3/pro/proj4leaflet.js&quot;&gt;&lt;/script&gt; &lt;script src=&quot;http://172.18.109.232:8082/jquery/jquery.js&quot;&gt;&lt;/script&gt; &lt;style&gt; html { height: 100%; } body { height: 100%; margin: 0; padding: 0; } .map { height: 100%; } &lt;/style&gt;&lt;/head&gt;&lt;body&gt; &lt;div id=&quot;mapid&quot; class=&quot;map&quot;&gt;&lt;/div&gt; &lt;script&gt; var res = [ 0.00549933137239034, // Level 0 0.00274966568619517, // Level 1 0.00137483284309758, // Level 2 0.000687416421548792, // Level 3 0.000343708210774396, // Level 4 0.000171854105387198, 8.5927052693599e-5, 4.29635263467995e-5, 2.14817631733998e-5, 1.07408815866999e-5, 5.37044079334994e-6, 2.68522039667497e-6, 1.34261019833748e-6, ]; var crs = new L.Proj.CRS( &quot;EPSG:4490&quot;, &quot;+proj=longlat +ellps=GRS80 +no_defs&quot;, { resolutions: res, origin: [118.122911693886, 31.2869311022836], } ); var map = L.map(&quot;mapid&quot;, { crs: crs, /*fullscreenControl: { pseudoFullscreen: false },*/ }); var url = &quot;http://172.18.109.232:8080/68DE38F71E38CD8C508FAB3035752EA8ED8F9221EDE18FDBE593B01FCDD12BD296F09FE27CD7D2733AD075EAF994851B/PBS/rest/services/hzsyvector/Mapserver&quot;; var attrib = &quot;&amp;copy Êù≠Â∑ûÂ∏ÇËßÑÂàíËµÑÊ∫êÂ±Ä&quot;; var basemap = new L.TileLayer(url + &quot;/tile/{z}/{y}/{x}&quot;, { tileSize: 256, attribution: attrib, }); map.addLayer(basemap); map.setView([30, 120], 4); //ËÆæÁΩÆÊØî‰æãÂ∞∫Âíå‰∏≠ÂøÉÁÇπÁ∫ßÂà´ map.on(&quot;click&quot;, function (e) { // alert(&quot;You clicked the map at &quot; + e.latlng); var point = e.latlng.lng + &quot;,&quot; + e.latlng.lat + &quot;,&quot; + e.latlng.lng + &quot;,&quot; + e.latlng.lat;// &quot;120.16271670916996,30.251675868508478,120.1713094144393,30.25591314629446&quot;; var qurl = &quot;http://172.18.109.232:8080/68DE38F71E38CD8C508FAB3035752EA8ED8F9221EDE18FDBE593B01FCDD12BD296F09FE27CD7D2733AD075EAF994851B/PBS/rest/services/lsyt_dmdz_qxbj0619/MapServer/wfs?service=wfs&amp;version=1.0.0&amp;request=getfeature&amp;typename=lsyt_dmdz_qxbj0619&amp;outputFormat=application/json&amp;CQL_FILTER=BBOX(geom,&quot; + point + &quot;)&quot;; $.ajax({ url: qurl, success: function (data) { console.log(data); var text = JSON.parse(data); alert(&quot;You clicked the map at &quot; + text.features[1].properties['quxian']); } }); }); var myStyle = { color: &quot;#ff0000&quot;, weight: 2, opacity: 1, fillOpacity: 0.01, }; var mblayer; $.ajax({ url: &quot;http://172.18.109.232:8080/68DE38F71E38CD8C508FAB3035752EA8ED8F9221EDE18FDBE593B01FCDD12BD296F09FE27CD7D2733AD075EAF994851B/PBS/rest/services/lsyt_dmdz_qxbj0619/MapServer/wfs?service=wfs&amp;version=1.0.0&amp;request=getfeature&amp;typename=lsyt_dmdz_qxbj0619&amp;outputFormat=application/json&quot;, success: function (data) { var geojson = JSON.parse(data); mblayer = L.geoJSON(geojson, { style: myStyle, }).addTo(map); }, }); &lt;/script&gt;&lt;/body&gt;&lt;/html&gt; 3.3.3.2Èù¢Êü•ËØ¢ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134&lt;!DOCTYPE html&gt;&lt;html&gt;&lt;head&gt; &lt;meta charset=&quot;UTF-8&quot; /&gt; &lt;title&gt;Èù¢Êü•ËØ¢&lt;/title&gt; &lt;link rel=&quot;stylesheet&quot; href=&quot;http://172.18.109.232:8082/leaflet/V1.3/leaflet/leaflet.css&quot; /&gt; &lt;link rel=&quot;stylesheet&quot; href=&quot;http://172.18.109.232:8082/leaflet/V1.3/leaflet/Plugins/leaflet-draw/leaflet.draw.css&quot; /&gt; &lt;script src=&quot;http://172.18.109.232:8082/leaflet/V1.3/leaflet/leaflet.js&quot;&gt;&lt;/script&gt; &lt;script src=&quot;http://172.18.109.232:8082/leaflet/V1.3/leaflet/Plugins/leaflet-wfs.js&quot;&gt;&lt;/script&gt; &lt;script src=&quot;http://172.18.109.232:8082/leaflet/V1.3/pro/proj4-compressed.js&quot;&gt;&lt;/script&gt; &lt;script src=&quot;http://172.18.109.232:8082/leaflet/V1.3/pro/proj4leaflet.js&quot;&gt;&lt;/script&gt; &lt;script src=&quot;http://172.18.109.232:8082/jquery/jquery.js&quot;&gt;&lt;/script&gt; &lt;script src=&quot;http://172.18.109.232:8082/leaflet/V1.3/leaflet/Plugins/leaflet-draw/leaflet.draw.js&quot;&gt;&lt;/script&gt; &lt;style&gt; html { height: 100%; } body { height: 100%; margin: 0; padding: 0; } .map { height: 100%; } &lt;/style&gt;&lt;/head&gt;&lt;body&gt; &lt;div id=&quot;mapid&quot; class=&quot;map&quot;&gt;&lt;/div&gt; &lt;script&gt; var res = [ 0.00549933137239034, // Level 0 0.00274966568619517, // Level 1 0.00137483284309758, // Level 2 0.000687416421548792, // Level 3 0.000343708210774396, // Level 4 0.000171854105387198, 8.5927052693599e-5, 4.29635263467995e-5, 2.14817631733998e-5, 1.07408815866999e-5, 5.37044079334994e-6, 2.68522039667497e-6, 1.34261019833748e-6, ]; var crs = new L.Proj.CRS( &quot;EPSG:4490&quot;, &quot;+proj=longlat +ellps=GRS80 +no_defs&quot;, { resolutions: res, origin: [118.122911693886, 31.2869311022836], } ); var map = L.map(&quot;mapid&quot;, { crs: crs, /*fullscreenControl: { pseudoFullscreen: false },*/ }); var url = &quot;http://172.18.109.232:8080/68DE38F71E38CD8C508FAB3035752EA8ED8F9221EDE18FDBE593B01FCDD12BD296F09FE27CD7D2733AD075EAF994851B/PBS/rest/services/hzsyvector/Mapserver&quot;; var attrib = &quot;&amp;copy Êù≠Â∑ûÂ∏ÇËßÑÂàíËµÑÊ∫êÂ±Ä&quot;; var basemap = new L.TileLayer(url + &quot;/tile/{z}/{y}/{x}&quot;, { tileSize: 256, attribution: attrib, }); map.addLayer(basemap); map.setView([30, 120], 4); //ËÆæÁΩÆÊØî‰æãÂ∞∫Âíå‰∏≠ÂøÉÁÇπÁ∫ßÂà´ //var draw=new L.Control.Draw(map,drawControl.options.rectangle).enable(); var options = { position: &quot;topleft&quot;, draw: { polyline: false, polygon: false, circle: false, marker: false, circlemarker: false, rectangle: { shapeOptions: { clickable: true, }, }, }, }; var drawControl = new L.Control.Draw(options); map.addControl(drawControl); map.on(L.Draw.Event.CREATED, function (e) { var type = e.layerType; if (type == &quot;rectangle&quot;) { var bound = e.layer.getBounds(); var point = bound._southWest.lng + &quot;,&quot; + bound._southWest.lat + &quot;,&quot; + bound._northEast.lng + &quot;,&quot; + bound._northEast.lat; // &quot;120.16271670916996,30.251675868508478,120.1713094144393,30.25591314629446&quot;; var qurl = &quot;http://172.18.109.232:8080/68DE38F71E38CD8C508FAB3035752EA8ED8F9221EDE18FDBE593B01FCDD12BD296F09FE27CD7D2733AD075EAF994851B/PBS/rest/services/lsyt_dmdz_qxbj0619/MapServer/wfs?service=wfs&amp;version=1.0.0&amp;request=getfeature&amp;typename=lsyt_dmdz_qxbj0619&amp;outputFormat=application/json&amp;CQL_FILTER=BBOX(geom,&quot; + point + &quot;)&quot;; $.ajax({ url: qurl, success: function (data) { console.log(data); var text = JSON.parse(data); alert( &quot;‰Ω†ÈÄâÊã©ÁöÑÊòØ &quot; + text.features[1].properties[&quot;quxian&quot;] ); }, }); } }); var myStyle = { color: &quot;#ff0000&quot;, weight: 2, opacity: 1, fillOpacity: 0.01, }; var mblayer; $.ajax({ url: &quot;http://172.18.109.232:8080/68DE38F71E38CD8C508FAB3035752EA8ED8F9221EDE18FDBE593B01FCDD12BD296F09FE27CD7D2733AD075EAF994851B/PBS/rest/services/lsyt_dmdz_qxbj0619/MapServer/wfs?service=wfs&amp;version=1.0.0&amp;request=getfeature&amp;typename=lsyt_dmdz_qxbj0619&amp;outputFormat=application/json&quot;, success: function (data) { var geojson = JSON.parse(data); mblayer = L.geoJSON(geojson, { style: myStyle, }).addTo(map); }, }); &lt;/script&gt;&lt;/body&gt;&lt;/html&gt; 3.3.3.3Â±ûÊÄßÊü•ËØ¢ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114&lt;!DOCTYPE html&gt;&lt;html&gt;&lt;head&gt; &lt;meta charset=&quot;UTF-8&quot; /&gt; &lt;title&gt;ÁÇπÊü•ËØ¢&lt;/title&gt; &lt;link rel=&quot;stylesheet&quot; href=&quot;http://172.18.109.232:8082/leaflet/V1.3/leaflet/leaflet.css&quot; /&gt; &lt;script src=&quot;http://172.18.109.232:8082/leaflet/V1.3/leaflet/leaflet.js&quot;&gt;&lt;/script&gt; &lt;script src=&quot;http://172.18.109.232:8082/leaflet/V1.3/leaflet/Plugins/leaflet-wfs.js&quot;&gt;&lt;/script&gt; &lt;script src=&quot;http://172.18.109.232:8082/leaflet/V1.3/pro/proj4-compressed.js&quot;&gt;&lt;/script&gt; &lt;script src=&quot;http://172.18.109.232:8082/leaflet/V1.3/pro/proj4leaflet.js&quot;&gt;&lt;/script&gt; &lt;script src=&quot;http://172.18.109.232:8082/jquery/jquery.js&quot;&gt;&lt;/script&gt; &lt;style&gt; html { height: 100%; } body { height: 100%; margin: 0; padding: 0; } .map { height: 100%; } .h1 { z-index: 1009; position: absolute; left: 100px; } &lt;/style&gt;&lt;/head&gt;&lt;body&gt; &lt;div id=&quot;mapid&quot; class=&quot;map&quot;&gt; &lt;h1&gt;ÁÇπÂáªÂú∞ÂõæÊ†πÊçÆÂ±ûÊÄßÊü•ËØ¢&lt;/h1&gt; &lt;/div&gt; &lt;script&gt; var res = [ 0.00549933137239034, // Level 0 0.00274966568619517, // Level 1 0.00137483284309758, // Level 2 0.000687416421548792, // Level 3 0.000343708210774396, // Level 4 0.000171854105387198, 8.5927052693599e-5, 4.29635263467995e-5, 2.14817631733998e-5, 1.07408815866999e-5, 5.37044079334994e-6, 2.68522039667497e-6, 1.34261019833748e-6, ]; var crs = new L.Proj.CRS( &quot;EPSG:4490&quot;, &quot;+proj=longlat +ellps=GRS80 +no_defs&quot;, { resolutions: res, origin: [118.122911693886, 31.2869311022836], } ); var map = L.map(&quot;mapid&quot;, { crs: crs, /*fullscreenControl: { pseudoFullscreen: false },*/ }); var url = &quot;http://172.18.109.232:8080/68DE38F71E38CD8C508FAB3035752EA8ED8F9221EDE18FDBE593B01FCDD12BD296F09FE27CD7D2733AD075EAF994851B/PBS/rest/services/hzsyvector/Mapserver&quot;; var attrib = &quot;&amp;copy Êù≠Â∑ûÂ∏ÇËßÑÂàíËµÑÊ∫êÂ±Ä&quot;; var basemap = new L.TileLayer(url + &quot;/tile/{z}/{y}/{x}&quot;, { tileSize: 256, attribution: attrib, }); map.addLayer(basemap); map.setView([30, 120], 4); //ËÆæÁΩÆÊØî‰æãÂ∞∫Âíå‰∏≠ÂøÉÁÇπÁ∫ßÂà´ map.on(&quot;click&quot;, function (e) { var point = e.latlng.lng + &quot;,&quot; + e.latlng.lat + &quot;,&quot; + e.latlng.lng + &quot;,&quot; + e.latlng.lat; // &quot;120.16271670916996,30.251675868508478,120.1713094144393,30.25591314629446&quot;; var qurl = &quot;http://172.18.109.232:8080/68DE38F71E38CD8C508FAB3035752EA8ED8F9221EDE18FDBE593B01FCDD12BD296F09FE27CD7D2733AD075EAF994851B/PBS/rest/services/lsyt_dmdz_qxbj0619/MapServer/wfs?service=wfs&amp;version=1.0.0&amp;request=getfeature&amp;typename=lsyt_dmdz_qxbj0619&amp;outputFormat=application/json&amp;CQL_FILTER=&quot;; qurl += &quot; quxian='‰∏äÂüéÂå∫'&quot;; $.ajax({ url: qurl, success: function (data) { console.log(data); var text = JSON.parse(data); alert(&quot;Ê†πÊçÆÂ±ûÊÄßÈÄâÊã©ÁöÑÊòØ &quot; + text.features[0].properties[&quot;quxian&quot;]); }, }); }); var myStyle = { color: &quot;#ff0000&quot;, weight: 2, opacity: 1, fillOpacity: 0.01, }; var mblayer; $.ajax({ url: &quot;http://172.18.109.232:8080/68DE38F71E38CD8C508FAB3035752EA8ED8F9221EDE18FDBE593B01FCDD12BD296F09FE27CD7D2733AD075EAF994851B/PBS/rest/services/lsyt_dmdz_qxbj0619/MapServer/wfs?service=wfs&amp;version=1.0.0&amp;request=getfeature&amp;typename=lsyt_dmdz_qxbj0619&amp;outputFormat=application/json&quot;, success: function (data) { var geojson = JSON.parse(data); mblayer = L.geoJSON(geojson, { style: myStyle, }).addTo(map); }, }); &lt;/script&gt;&lt;/body&gt;&lt;/html&gt; 3.3.3.4ÁªÑÂêàÊü•ËØ¢ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137&lt;!DOCTYPE html&gt;&lt;html&gt;&lt;head&gt; &lt;meta charset=&quot;UTF-8&quot; /&gt; &lt;title&gt;Èù¢Êü•ËØ¢&lt;/title&gt; &lt;link rel=&quot;stylesheet&quot; href=&quot;http://172.18.109.232:8082/leaflet/V1.3/leaflet/leaflet.css&quot; /&gt; &lt;link rel=&quot;stylesheet&quot; href=&quot;http://172.18.109.232:8082/leaflet/V1.3/leaflet/Plugins/leaflet-draw/leaflet.draw.css&quot; /&gt; &lt;script src=&quot;http://172.18.109.232:8082/leaflet/V1.3/leaflet/leaflet.js&quot;&gt;&lt;/script&gt; &lt;script src=&quot;http://172.18.109.232:8082/leaflet/V1.3/leaflet/Plugins/leaflet-wfs.js&quot;&gt;&lt;/script&gt; &lt;script src=&quot;http://172.18.109.232:8082/leaflet/V1.3/pro/proj4-compressed.js&quot;&gt;&lt;/script&gt; &lt;script src=&quot;http://172.18.109.232:8082/leaflet/V1.3/pro/proj4leaflet.js&quot;&gt;&lt;/script&gt; &lt;script src=&quot;http://172.18.109.232:8082/jquery/jquery.js&quot;&gt;&lt;/script&gt; &lt;script src=&quot;http://172.18.109.232:8082/leaflet/V1.3/leaflet/Plugins/leaflet-draw/leaflet.draw.js&quot;&gt;&lt;/script&gt; &lt;style&gt; html { height: 100%; } body { height: 100%; margin: 0; padding: 0; } .map { height: 100%; } &lt;/style&gt;&lt;/head&gt;&lt;body&gt; &lt;div id=&quot;mapid&quot; class=&quot;map&quot;&gt;&lt;/div&gt; &lt;script&gt; var res = [ 0.00549933137239034, // Level 0 0.00274966568619517, // Level 1 0.00137483284309758, // Level 2 0.000687416421548792, // Level 3 0.000343708210774396, // Level 4 0.000171854105387198, 8.5927052693599e-5, 4.29635263467995e-5, 2.14817631733998e-5, 1.07408815866999e-5, 5.37044079334994e-6, 2.68522039667497e-6, 1.34261019833748e-6, ]; var crs = new L.Proj.CRS( &quot;EPSG:4490&quot;, &quot;+proj=longlat +ellps=GRS80 +no_defs&quot;, { resolutions: res, origin: [118.122911693886, 31.2869311022836], } ); var map = L.map(&quot;mapid&quot;, { crs: crs, /*fullscreenControl: { pseudoFullscreen: false },*/ }); var url = &quot;http://172.18.109.232:8080/68DE38F71E38CD8C508FAB3035752EA8ED8F9221EDE18FDBE593B01FCDD12BD296F09FE27CD7D2733AD075EAF994851B/PBS/rest/services/hzsyvector/Mapserver&quot;; var attrib = &quot;&amp;copy Êù≠Â∑ûÂ∏ÇËßÑÂàíËµÑÊ∫êÂ±Ä&quot;; var basemap = new L.TileLayer(url + &quot;/tile/{z}/{y}/{x}&quot;, { tileSize: 256, attribution: attrib, }); map.addLayer(basemap); map.setView([30, 120], 4); //ËÆæÁΩÆÊØî‰æãÂ∞∫Âíå‰∏≠ÂøÉÁÇπÁ∫ßÂà´ //var draw=new L.Control.Draw(map,drawControl.options.rectangle).enable(); var options = { position: &quot;topleft&quot;, draw: { polyline: false, polygon: false, circle: false, marker: false, circlemarker: false, rectangle: { shapeOptions: { clickable: true, }, }, }, }; var drawControl = new L.Control.Draw(options); map.addControl(drawControl); map.on(L.Draw.Event.CREATED, function (e) { var type = e.layerType; if (type == &quot;rectangle&quot;) { var bound = e.layer.getBounds(); var point = bound._southWest.lng + &quot;,&quot; + bound._southWest.lat + &quot;,&quot; + bound._northEast.lng + &quot;,&quot; + bound._northEast.lat; // &quot;120.16271670916996,30.251675868508478,120.1713094144393,30.25591314629446&quot;; var qurl = &quot;http://172.18.109.232:8080/68DE38F71E38CD8C508FAB3035752EA8ED8F9221EDE18FDBE593B01FCDD12BD296F09FE27CD7D2733AD075EAF994851B/PBS/rest/services/lsyt_dmdz_qxbj0619/MapServer/wfs?service=wfs&amp;version=1.0.0&amp;request=getfeature&amp;typename=lsyt_dmdz_qxbj0619&amp;outputFormat=application/json&amp;CQL_FILTER=BBOX(geom,&quot; + point + &quot;)&quot;; qurl += &quot; and quxian='‰∏äÂüéÂå∫'&quot;; $.ajax({ url: qurl, success: function (data) { console.log(data); var text = JSON.parse(data); if (!text.features.length) { alert(&quot;‰Ω†ÈÄâÊã©ÁöÑÊòØÈùû‰∏äÂüéÂå∫ÔºåÊó†Êü•ËØ¢ÁªìÊûúÔºÅ&quot;); } else { alert(&quot;‰Ω†ÈÄâÊã©ÁöÑÊòØ &quot; + text.features[0].properties[&quot;quxian&quot;]); } }, }); } }); var myStyle = { color: &quot;#ff0000&quot;, weight: 2, opacity: 1, fillOpacity: 0.01, }; var mblayer; $.ajax({ url: &quot;http://172.18.109.232:8080/68DE38F71E38CD8C508FAB3035752EA8ED8F9221EDE18FDBE593B01FCDD12BD296F09FE27CD7D2733AD075EAF994851B/PBS/rest/services/lsyt_dmdz_qxbj0619/MapServer/wfs?service=wfs&amp;version=1.0.0&amp;request=getfeature&amp;typename=lsyt_dmdz_qxbj0619&amp;outputFormat=application/json&quot;, success: function (data) { var geojson = JSON.parse(data); mblayer = L.geoJSON(geojson, { style: myStyle, }).addTo(map); }, }); &lt;/script&gt;&lt;/body&gt;&lt;/html&gt; ArcGIS ArcGIS API for JavaScriptÂ∞±ÊòØESRIÂÖ¨Âè∏Áî®JavaSciptËØ≠Ë®ÄÁºñÂÜôÁöÑ‰∏ÄÂ•óÁ®ãÂ∫èÊé•Âè£„ÄÇÁî®Êà∑ÂèØ‰ª•ÈÄöËøáË∞ÉÁî®APIËé∑ÂèñArcGIS server„ÄÅgeoserverÁ≠âÊèê‰æõÁöÑÊúçÂä°Ôºå‰æãÂ¶ÇÊµèËßà„ÄÅÁºñËæë„ÄÅÊ∏≤ÊüìÂú∞ÂõæÔºå‰ª•Âèä‰∏Ä‰∫õÂ∏∏Áî®ÁöÑÁ©∫Èó¥ÂàÜÊûêÂäüËÉΩ„ÄÇAPI‰∏≠ÂåÖÂê´‰∫ÜArcGIS API for JavaScript‰∏≠ÊØè‰∏™Á±ªÁöÑËØ¶ÁªÜÊèèËø∞„ÄÇ‰ΩøÁî®APIÊü•ÊâæÊØè‰∏™Á±ªÁöÑÊûÑÈÄ†ÂáΩÊï∞ÈÄâÈ°π‰ª•ÂèäÂ±ûÊÄß„ÄÅÊñπÊ≥ïÂíå‰∫ã‰ª∂„ÄÇ ËØ¶ÊÉÖËßÅÂÆòÊñπÁΩëÁ´ôhttps://developers.arcgis.com/javascript/3/jsapi/ 3.1.1Âú∞Âõæ 3.1.1.1Áü¢ÈáèÁîµÂ≠êÂú∞Âõæ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374&lt;!DOCTYPE html&gt;&lt;html&gt;&lt;head&gt; &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=utf-8&quot; /&gt; &lt;meta name=&quot;viewport&quot; content=&quot;initial-scale=1, maximum-scale=1,user-scalable=no&quot; /&gt; &lt;title&gt;Map with Vertor&lt;/title&gt; &lt;link rel=&quot;stylesheet&quot; href=&quot;http://172.18.109.232:8082/arcgis_js_api/3.24/dijit/themes/claro/claro.css&quot; /&gt; &lt;link rel=&quot;stylesheet&quot; href=&quot;http://172.18.109.232:8082/arcgis_js_api/3.24/esri/css/esri.css&quot; /&gt; &lt;style&gt; html, body, \\#map { ‚Äã height: 100%; ‚Äã width: 100%; ‚Äã margin: 0; ‚Äã padding: 0; } .esriControlsBR .logo-med { ‚Äã display: none; } &lt;/style&gt; &lt;script src=&quot;http://172.18.109.232:8082/arcgis_js_api/3.24/init.js&quot;&gt;&lt;/script&gt; &lt;script src=&quot;http://172.18.109.232:8082/jquery/jquery.js&quot;&gt;&lt;/script&gt; &lt;script&gt; var map; require([ &quot;esri/map&quot;, &quot;esri/layers/WMSLayer&quot;, &quot;esri/layers/WMSLayerInfo&quot;, &quot;esri/layers/ArcGISTiledMapServiceLayer&quot;, &quot;esri/geometry/Extent&quot;, &quot;dojo/_base/array&quot;, &quot;dojo/dom&quot;, &quot;dojo/dom-construct&quot;, &quot;dojo/parser&quot;, &quot;dijit/layout/BorderContainer&quot;, &quot;dijit/layout/ContentPane&quot;, &quot;dojo/domReady!&quot;, ], function ( Map, WMSLayer, WMSLayerInfo, ArcGISTiledMapServiceLayer, Extent, array, dom, domConst, parser ) { parser.parse(); map = new Map(&quot;map&quot;, { center: new esri.geometry.Point( 120.1594, 30.2571, new esri.SpatialReference({ wkid: 4490 }) ), zoom: 3, }); var layer = new ArcGISTiledMapServiceLayer( &quot;http://172.18.109.232:8080/68DE38F71E38CD8C508FAB3035752EA8ED8F9221EDE18FDBE593B01FCDD12BD296F09FE27CD7D2733AD075EAF994851B/PBS/rest/services/hzsyvector/Mapserver&quot;, { id: &quot;vector&quot;, } ); map.addLayer(layer); }); &lt;/script&gt;&lt;/head&gt;&lt;body class=&quot;claro&quot;&gt; &lt;div ‚Äã id=&quot;map&quot; ‚Äã data-dojo-type=&quot;dijit.layout.ContentPane&quot; ‚Äã data-dojo-props=&quot;region:'center'&quot; ‚Äã style=&quot;overflow: hidden;&quot; \\&gt;&lt;/div&gt; &lt;/div&gt;&lt;/body&gt;&lt;/html&gt; 3.1.1.2ÂΩ±ÂÉèÁîµÂ≠êÂú∞Âõæ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374&lt;!DOCTYPE html&gt;&lt;html&gt;&lt;head&gt; &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=utf-8&quot; /&gt; &lt;meta name=&quot;viewport&quot; content=&quot;initial-scale=1, maximum-scale=1,user-scalable=no&quot; /&gt; &lt;title&gt;Map with Raster&lt;/title&gt; &lt;link rel=&quot;stylesheet&quot; href=&quot;http://172.18.109.232:8082/arcgis_js_api/3.24/dijit/themes/claro/claro.css&quot; /&gt; &lt;link rel=&quot;stylesheet&quot; href=&quot;http://172.18.109.232:8082/arcgis_js_api/3.24/esri/css/esri.css&quot; /&gt; &lt;style&gt; html, body, \\#map { ‚Äã height: 100%; ‚Äã width: 100%; ‚Äã margin: 0; ‚Äã padding: 0; } .esriControlsBR .logo-med { ‚Äã display: none; } &lt;/style&gt; &lt;script src=&quot;http://172.18.109.232:8082/arcgis_js_api/3.24/init.js&quot;&gt;&lt;/script&gt; &lt;script src=&quot;http://172.18.109.232:8082/jquery/jquery.js&quot;&gt;&lt;/script&gt; &lt;script&gt; var map; require([ &quot;esri/map&quot;, &quot;esri/layers/WMSLayer&quot;, &quot;esri/layers/WMSLayerInfo&quot;, &quot;esri/layers/ArcGISTiledMapServiceLayer&quot;, &quot;esri/geometry/Extent&quot;, &quot;dojo/_base/array&quot;, &quot;dojo/dom&quot;, &quot;dojo/dom-construct&quot;, &quot;dojo/parser&quot;, &quot;dijit/layout/BorderContainer&quot;, &quot;dijit/layout/ContentPane&quot;, &quot;dojo/domReady!&quot;, ], function ( Map, WMSLayer, WMSLayerInfo, ArcGISTiledMapServiceLayer, Extent, array, dom, domConst, parser ) { parser.parse(); map = new Map(&quot;map&quot;, { center: new esri.geometry.Point( 120.1594, 30.2571, new esri.SpatialReference({ wkid: 4490 }) ), zoom: 3, }); var layer = new ArcGISTiledMapServiceLayer( &quot;http://172.18.109.232:8080/68DE38F71E38CD8C508FAB3035752EA8ED8F9221EDE18FDBE593B01FCDD12BD296F09FE27CD7D2733AD075EAF994851B/PBS/rest/services/hzsyraster/Mapserver&quot;, { id: &quot;raster&quot;, } ); map.addLayer(layer); }); &lt;/script&gt;&lt;/head&gt;&lt;body class=&quot;claro&quot;&gt; &lt;div ‚Äã id=&quot;map&quot; ‚Äã data-dojo-type=&quot;dijit.layout.ContentPane&quot; ‚Äã data-dojo-props=&quot;region:'center'&quot; ‚Äã style=&quot;overflow: hidden;&quot; \\&gt;&lt;/div&gt; &lt;/div&gt;&lt;/body&gt;&lt;/html&gt; 3.1.1.3ÊâãÂä®Âä†ËΩΩ/ÁßªÈô§Âú∞Âõæ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110&lt;!DOCTYPE html&gt;&lt;html&gt;&lt;head&gt; &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=utf-8&quot; /&gt; &lt;meta name=&quot;viewport&quot; content=&quot;initial-scale=1, maximum-scale=1,user-scalable=no&quot; /&gt; &lt;title&gt;Map with Control&lt;/title&gt; &lt;link rel=&quot;stylesheet&quot; href=&quot;http://172.18.109.232:8082/arcgis_js_api/3.24/dijit/themes/claro/claro.css&quot; /&gt; &lt;link rel=&quot;stylesheet&quot; href=&quot;http://172.18.109.232:8082/arcgis_js_api/3.24/esri/css/esri.css&quot; /&gt; &lt;style&gt; html, body, \\#map { ‚Äã height: 100%; ‚Äã width: 100%; ‚Äã margin: 0; ‚Äã padding: 0; } .esriControlsBR .logo-med { ‚Äã display: none; } .details span { ‚Äã cursor: pointer; } &lt;/style&gt; &lt;script src=&quot;http://172.18.109.232:8082/arcgis_js_api/3.24/init.js&quot;&gt;&lt;/script&gt; &lt;script src=&quot;http://172.18.109.232:8082/jquery/jquery.js&quot;&gt;&lt;/script&gt; &lt;script&gt; var map; require([ &quot;esri/map&quot;, &quot;esri/layers/WMSLayer&quot;, &quot;esri/layers/WMSLayerInfo&quot;, &quot;esri/layers/ArcGISTiledMapServiceLayer&quot;, &quot;esri/geometry/Extent&quot;, &quot;dojo/_base/array&quot;, &quot;dojo/dom&quot;, &quot;dojo/dom-construct&quot;, &quot;dojo/parser&quot;, &quot;dijit/layout/BorderContainer&quot;, &quot;dijit/layout/ContentPane&quot;, &quot;dojo/domReady!&quot;, ], function ( Map, WMSLayer, WMSLayerInfo, ArcGISTiledMapServiceLayer, Extent, array, dom, domConst, parser ) { parser.parse(); map = new Map(&quot;map&quot;, { center: new esri.geometry.Point( 120.1594, 30.2571, new esri.SpatialReference({ wkid: 4490 }) ), zoom: 3, }); var vector = new ArcGISTiledMapServiceLayer( &quot;http://172.18.109.232:8080/68DE38F71E38CD8C508FAB3035752EA8ED8F9221EDE18FDBE593B01FCDD12BD296F09FE27CD7D2733AD075EAF994851B/PBS/rest/services/hzsyvector/Mapserver&quot;, { id: &quot;vector&quot;, } ); // map.addLayer(vector); var raster = new ArcGISTiledMapServiceLayer( &quot;http://172.18.109.232:8080/68DE38F71E38CD8C508FAB3035752EA8ED8F9221EDE18FDBE593B01FCDD12BD296F09FE27CD7D2733AD075EAF994851B/PBS/rest/services/hzsyraster/Mapserver&quot;, { id: &quot;raster&quot;, } ); // map.addLayer(raster); $(&quot;#details span&quot;).click(function () { var name = $(this).attr(&quot;name&quot;); switch (name) { case &quot;vector&quot;: if (!map.getLayer(&quot;vector&quot;)) map.addLayer(vector); break; case &quot;raster&quot;: if (!map.getLayer(&quot;raster&quot;)) map.addLayer(raster); break; case &quot;rvector&quot;: if (map.getLayer(&quot;vector&quot;)) map.removeLayer(vector); break; case &quot;rraster&quot;: if (map.getLayer(&quot;raster&quot;)) map.removeLayer(raster); break; } }); }); &lt;/script&gt;&lt;/head&gt;&lt;body class=&quot;claro&quot;&gt; &lt;div id=&quot;content&quot; data-dojo-type=&quot;dijit.layout.BorderContainer&quot; data-dojo-props=&quot;design:'headline', gutters:true&quot; style=&quot;width: 100%; height: 100%; margin: 0;&quot; \\&gt; &lt;div ‚Äã id=&quot;details&quot; ‚Äã data-dojo-type=&quot;dijit.layout.ContentPane&quot; ‚Äã data-dojo-props=&quot;region:'left', splitter:true&quot; ‚Äã style=&quot;overflow: auto; width: 200px;&quot; \\&gt; ‚Äã &lt;span name=&quot;vector&quot;&gt;Ê∑ªÂä†Áü¢ÈáèÂõæÂ±Ç&lt;/span&gt; ‚Äã &lt;span name=&quot;raster&quot;&gt;Ê∑ªÂä†ÂΩ±ÂÉèÂõæÂ±Ç&lt;/span&gt; ‚Äã &lt;span name=&quot;rvector&quot;&gt;ÁßªÈô§Áü¢ÈáèÂõæÂ±Ç&lt;/span&gt; ‚Äã &lt;span name=&quot;rraster&quot;&gt;ÁßªÈô§ÂΩ±ÂÉèÂõæÂ±Ç&lt;/span&gt; &lt;/div&gt; &lt;div ‚Äã id=&quot;map&quot; ‚Äã data-dojo-type=&quot;dijit.layout.ContentPane&quot; ‚Äã data-dojo-props=&quot;region:'center'&quot; ‚Äã style=&quot;overflow: hidden;&quot; \\&gt;&lt;/div&gt; &lt;/div&gt;&lt;/body&gt;&lt;/html&gt; 3.1.2ÂõæÂ±Ç 3.1.2.1ÂºπÂá∫‰ø°ÊÅØÊ°Ü 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879&lt;!DOCTYPE html&gt;&lt;html&gt;&lt;head&gt; &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=utf-8&quot; /&gt; &lt;meta name=&quot;viewport&quot; content=&quot;initial-scale=1, maximum-scale=1,user-scalable=no&quot; /&gt; &lt;title&gt;Map with infoWindow&lt;/title&gt; &lt;link rel=&quot;stylesheet&quot; href=&quot;http://172.18.109.232:8082/arcgis_js_api/3.24/dijit/themes/claro/claro.css&quot; /&gt; &lt;link rel=&quot;stylesheet&quot; href=&quot;http://172.18.109.232:8082/arcgis_js_api/3.24/esri/css/esri.css&quot; /&gt; &lt;style&gt; html, body, \\#map { ‚Äã height: 100%; ‚Äã width: 100%; ‚Äã margin: 0; ‚Äã padding: 0; } .esriControlsBR .logo-med { ‚Äã display: none; } &lt;/style&gt; &lt;script src=&quot;http://172.18.109.232:8082/arcgis_js_api/3.24/init.js&quot;&gt;&lt;/script&gt; &lt;script src=&quot;http://172.18.109.232:8082/jquery/jquery.js&quot;&gt;&lt;/script&gt; &lt;script&gt; var map; require([ &quot;esri/map&quot;, &quot;esri/layers/WFSLayer&quot;, &quot;esri/layers/WMSLayerInfo&quot;, &quot;esri/layers/ArcGISTiledMapServiceLayer&quot;, &quot;esri/geometry/Extent&quot;, &quot;dojo/_base/array&quot;, &quot;dojo/dom&quot;, &quot;dojo/dom-construct&quot;, &quot;dojo/parser&quot;, &quot;dijit/layout/BorderContainer&quot;, &quot;dijit/layout/ContentPane&quot;, &quot;dojo/domReady!&quot;, ], function ( Map, WFSLayer, WMSLayerInfo, ArcGISTiledMapServiceLayer, Extent, array, dom, domConst, parser ) { parser.parse(); map = new Map(&quot;map&quot;, { center: new esri.geometry.Point( 120.1594, 30.2571, new esri.SpatialReference({ wkid: 4490 }) ), zoom: 3, }); var layer = new ArcGISTiledMapServiceLayer( &quot;http://172.18.109.232:8080/68DE38F71E38CD8C508FAB3035752EA8ED8F9221EDE18FDBE593B01FCDD12BD296F09FE27CD7D2733AD075EAF994851B/PBS/rest/services/hzsyvector/Mapserver&quot;, { id: &quot;vector&quot;, } ); map.addLayer(layer); map.on('click', function (e) { map.infoWindow.setTitle(&quot;ËØ¶ÁªÜ‰ø°ÊÅØ&quot;); map.infoWindow.setContent(&quot;ÂΩìÂâçÂùêÊ†áÔºö&quot; + e.mapPoint.x + &quot;,&quot; + e.mapPoint.y); map.infoWindow.show(e.mapPoint); }) }); &lt;/script&gt;&lt;/head&gt;&lt;body class=&quot;claro&quot;&gt; &lt;div ‚Äã id=&quot;map&quot; ‚Äã data-dojo-type=&quot;dijit.layout.ContentPane&quot; ‚Äã data-dojo-props=&quot;region:'center'&quot; ‚Äã style=&quot;overflow: hidden;&quot; \\&gt;&lt;/div&gt; &lt;/div&gt;&lt;/body&gt;&lt;/html&gt; 3.1.2.2Áü¢ÈáèÂõæÂ±ÇÔºàwmsÔºâ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879808182838485868788899091&lt;!DOCTYPE html&gt;&lt;html&gt;&lt;head&gt; &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=utf-8&quot; /&gt; &lt;meta name=&quot;viewport&quot; content=&quot;initial-scale=1, maximum-scale=1,user-scalable=no&quot; /&gt; &lt;title&gt;Map with wmslayer&lt;/title&gt; &lt;link rel=&quot;stylesheet&quot; href=&quot;http://172.18.109.232:8082/arcgis_js_api/3.24/dijit/themes/claro/claro.css&quot; /&gt; &lt;link rel=&quot;stylesheet&quot; href=&quot;http://172.18.109.232:8082/arcgis_js_api/3.24/esri/css/esri.css&quot; /&gt; &lt;style&gt; html, body, \\#map { ‚Äã height: 100%; ‚Äã width: 100%; ‚Äã margin: 0; ‚Äã padding: 0; } .esriControlsBR .logo-med { ‚Äã display: none; } &lt;/style&gt; &lt;script src=&quot;http://172.18.109.232:8082/arcgis_js_api/3.24/init.js&quot;&gt;&lt;/script&gt; &lt;script src=&quot;http://172.18.109.232:8082/jquery/jquery.js&quot;&gt;&lt;/script&gt; &lt;script&gt; var map; require([ &quot;esri/map&quot;, &quot;esri/layers/WMSLayer&quot;, &quot;esri/layers/WMSLayerInfo&quot;, &quot;esri/layers/ArcGISTiledMapServiceLayer&quot;, &quot;esri/geometry/Extent&quot;, &quot;dojo/_base/array&quot;, &quot;dojo/dom&quot;, &quot;dojo/dom-construct&quot;, &quot;dojo/parser&quot;, &quot;dijit/layout/BorderContainer&quot;, &quot;dijit/layout/ContentPane&quot;, &quot;dojo/domReady!&quot;, ], function ( Map, WMSLayer, WMSLayerInfo, ArcGISTiledMapServiceLayer, Extent, array, dom, domConst, parser ) { parser.parse(); map = new Map(&quot;map&quot;, { center: new esri.geometry.Point( 120.1594, 30.2571, new esri.SpatialReference({ wkid: 4490 }) ), zoom: 3, }); var layer = new ArcGISTiledMapServiceLayer( &quot;http://172.18.109.232:8080/68DE38F71E38CD8C508FAB3035752EA8ED8F9221EDE18FDBE593B01FCDD12BD296F09FE27CD7D2733AD075EAF994851B/PBS/rest/services/hzsyvector/Mapserver&quot;, { id: &quot;vector&quot;, } ); map.addLayer(layer); map.on(&quot;load&quot;, function () { var extent = map.extent; var url = &quot;http://172.18.109.232:8080/68DE38F71E38CD8C508FAB3035752EA8ED8F9221EDE18FDBE593B01FCDD12BD296F09FE27CD7D2733AD075EAF994851B/PBS/rest/services/lsyt_dmdz_qxbj0619/MapServer/wms&quot;; var resourceInfo = { extent: extent, layerInfos: [], version: &quot;1.1.1&quot;, visibleLayers: [&quot;1&quot;], }; var wmslayer = new esri.layers.WMSLayer(url, { resourceInfo: resourceInfo, }); wmslayer.setImageFormat(&quot;png&quot;); wmslayer.setVisibleLayers(&quot;gpserver&quot;); map.addLayer(wmslayer); }); }); &lt;/script&gt;&lt;/head&gt;&lt;body class=&quot;claro&quot;&gt; &lt;div ‚Äã id=&quot;map&quot; ‚Äã data-dojo-type=&quot;dijit.layout.ContentPane&quot; ‚Äã data-dojo-props=&quot;region:'center'&quot; ‚Äã style=&quot;overflow: hidden;&quot; \\&gt;&lt;/div&gt; &lt;/div&gt;&lt;/body&gt;&lt;/html&gt; 3.1.2.3Áü¢ÈáèÂõæÂ±ÇÔºàwfsÔºâ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120&lt;!DOCTYPE html&gt;&lt;html&gt;&lt;head&gt; &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=utf-8&quot; /&gt; &lt;meta name=&quot;viewport&quot; content=&quot;initial-scale=1, maximum-scale=1,user-scalable=no&quot; /&gt; &lt;title&gt;Map with wfslayer&lt;/title&gt; &lt;link rel=&quot;stylesheet&quot; href=&quot;http://172.18.109.232:8082/arcgis_js_api/3.24/dijit/themes/claro/claro.css&quot; /&gt; &lt;link rel=&quot;stylesheet&quot; href=&quot;http://172.18.109.232:8082/arcgis_js_api/3.24/esri/css/esri.css&quot; /&gt; &lt;style&gt; html, body, \\#map { ‚Äã height: 100%; ‚Äã width: 100%; ‚Äã margin: 0; ‚Äã padding: 0; } .esriControlsBR .logo-med { ‚Äã display: none; } &lt;/style&gt; &lt;script src=&quot;http://172.18.109.232:8082/arcgis_js_api/3.24/init.js&quot;&gt;&lt;/script&gt; &lt;script src=&quot;http://172.18.109.232:8082/jquery/jquery.js&quot;&gt;&lt;/script&gt; &lt;script&gt; var map, symbol; require([ &quot;esri/map&quot;, &quot;esri/layers/WFSLayer&quot;, &quot;esri/layers/WMSLayerInfo&quot;, &quot;esri/layers/ArcGISTiledMapServiceLayer&quot;, &quot;esri/symbols/SimpleLineSymbol&quot;, &quot;esri/symbols/SimpleFillSymbol&quot;, &quot;esri/graphic&quot;, &quot;esri/geometry/Extent&quot;, &quot;esri/geometry/Polygon&quot;, &quot;dojo/_base/array&quot;, &quot;dojo/dom&quot;, &quot;dojo/dom-construct&quot;, &quot;dojo/parser&quot;, &quot;dijit/layout/BorderContainer&quot;, &quot;dijit/layout/ContentPane&quot;, &quot;dojo/domReady!&quot;, ], function ( Map, WFSLayer, WMSLayerInfo, ArcGISTiledMapServiceLayer, SimpleLineSymbol, SimpleFillSymbol, Graphic, Extent, Polygon, array, dom, domConst, parser ) { parser.parse(); map = new Map(&quot;map&quot;, { center: new esri.geometry.Point( 120.1594, 30.2571, new esri.SpatialReference({ wkid: 4490 }) ), zoom: 3, }); var layer = new ArcGISTiledMapServiceLayer( &quot;http://172.18.109.232:8080/68DE38F71E38CD8C508FAB3035752EA8ED8F9221EDE18FDBE593B01FCDD12BD296F09FE27CD7D2733AD075EAF994851B/PBS/rest/services/hzsyvector/Mapserver&quot;, { id: &quot;vector&quot;, } ); map.addLayer(layer); map.on(&quot;load&quot;, function () { var extent = map.extent; var url = &quot;http://172.18.109.232:8080/68DE38F71E38CD8C508FAB3035752EA8ED8F9221EDE18FDBE593B01FCDD12BD296F09FE27CD7D2733AD075EAF994851B/PBS/rest/services/lsyt_dmdz_qxbj0619/MapServer/wfs?service=wfs&amp;version=1.0.0&amp;request=getfeature&amp;typename=lsyt_dmdz_qxbj0619&amp;outputFormat=application/json&quot;; $.ajax({ url: url, success: function (data) { console.log(data); var text = JSON.parse(data); for (var i = 0; i &lt; text.features.length; i++) { symbol = new SimpleFillSymbol(); if (text.features[i].geometry.type == &quot;Polygon&quot;) { var polygonjson = { &quot;rings&quot;: text.features[i].geometry.coordinates[0], &quot;spatialReference&quot;: { &quot;wkid&quot;: 4490 } } var poly = new Polygon(polygonjson) var graphic = new Graphic(poly, symbol); //var gra = new Graphic(text.features[i].geometry, symbol); map.graphics.add(graphic); } else if (text.features[i].geometry.type == &quot;MultiPolygon&quot;) { var len = text.features[i].geometry.coordinates.length; for (var k = 0; k &lt; len; k++) { var polygonjson = { &quot;rings&quot;: text.features[i].geometry.coordinates[k], &quot;spatialReference&quot;: { &quot;wkid&quot;: 4490 } } var poly = new Polygon(polygonjson) var graphic = new Graphic(poly, symbol); map.graphics.add(graphic); } } else { alert(); } } } }); }); }); &lt;/script&gt;&lt;/head&gt;&lt;body class=&quot;claro&quot;&gt; &lt;div ‚Äã id=&quot;map&quot; ‚Äã data-dojo-type=&quot;dijit.layout.ContentPane&quot; ‚Äã data-dojo-props=&quot;region:'center'&quot; ‚Äã style=&quot;overflow: hidden;&quot; \\&gt;&lt;/div&gt; &lt;/div&gt;&lt;/body&gt;&lt;/html&gt; 3.1.3Êü•ËØ¢ 3.1.3.1ÁÇπÊü•ËØ¢ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109&lt;!DOCTYPE html&gt;&lt;html&gt;&lt;head&gt; &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=utf-8&quot; /&gt; &lt;meta name=&quot;viewport&quot; content=&quot;initial-scale=1, maximum-scale=1,user-scalable=no&quot; /&gt; &lt;title&gt;Query By Point&lt;/title&gt; &lt;link rel=&quot;stylesheet&quot; href=&quot;http://172.18.109.232:8082/arcgis_js_api/3.24/dijit/themes/claro/claro.css&quot; /&gt; &lt;link rel=&quot;stylesheet&quot; href=&quot;http://172.18.109.232:8082/arcgis_js_api/3.24/esri/css/esri.css&quot; /&gt; &lt;style&gt; html, body, \\#map { ‚Äã height: 100%; ‚Äã width: 100%; ‚Äã margin: 0; ‚Äã padding: 0; } &lt;/style&gt; &lt;script src=&quot;http://172.18.109.232:8082/arcgis_js_api/3.24/init.js&quot;&gt;&lt;/script&gt; &lt;script src=&quot;http://172.18.109.232:8082/jquery/jquery.js&quot;&gt;&lt;/script&gt; &lt;script&gt; var map; require([ &quot;esri/map&quot;, &quot;esri/layers/WMSLayer&quot;, &quot;esri/layers/WMSLayerInfo&quot;, &quot;esri/layers/ArcGISTiledMapServiceLayer&quot;, &quot;esri/geometry/Extent&quot;, &quot;dojo/_base/array&quot;, &quot;dojo/dom&quot;, &quot;dojo/dom-construct&quot;, &quot;dojo/parser&quot;, &quot;dijit/layout/BorderContainer&quot;, &quot;dijit/layout/ContentPane&quot;, &quot;dojo/domReady!&quot;, ], function ( Map, WMSLayer, WMSLayerInfo, ArcGISTiledMapServiceLayer, Extent, array, dom, domConst, parser ) { parser.parse(); map = new Map(&quot;map&quot;, { // basemap: &quot;streets&quot;, // center: [120.1594, 30.2571], center: new esri.geometry.Point( 120.1594, 30.2571, new esri.SpatialReference({ wkid: 4490 }) ), zoom: 3, }); var layer2 = new ArcGISTiledMapServiceLayer( &quot;http://21.15.116.31/e8b4611714092ac7bc35cb5e8d476e4824f85f3a/Tile/ArcGISREST/hzsyvector.gis&quot;, { // id: layerInfo.LayerName, id: &quot;Â∫ïÂõæ&quot;, } ); map.addLayer(layer2); map.on(&quot;load&quot;, function () { var extent = map.extent; var url = &quot;http://172.18.109.232:8080/68DE38F71E38CD8C508FAB3035752EA8ED8F9221EDE18FDBE593B01FCDD12BD296F09FE27CD7D2733AD075EAF994851B/PBS/rest/services/lsyt_dmdz_qxbj0619/MapServer/wms&quot;; var resourceInfo = { extent: extent, layerInfos: [], version: &quot;1.1.1&quot;, visibleLayers: [&quot;1&quot;], }; var wmslayer = new esri.layers.WMSLayer(url, { resourceInfo: resourceInfo, }); wmslayer.setImageFormat(&quot;png&quot;); wmslayer.setVisibleLayers(&quot;gpserver&quot;); map.addLayer(wmslayer); }); map.on(&quot;click&quot;, function (e) { console.log(&quot;Ëé∑ÂèñÂà∞ÁöÑÁÇπ&quot; + e); var point = e.mapPoint.x + &quot;,&quot; + e.mapPoint.y + &quot;,&quot; + e.mapPoint.x + &quot;,&quot; + e.mapPoint.y;// &quot;120.16271670916996,30.251675868508478,120.1713094144393,30.25591314629446&quot;; var qurl = &quot;http://172.18.109.232:8080/68DE38F71E38CD8C508FAB3035752EA8ED8F9221EDE18FDBE593B01FCDD12BD296F09FE27CD7D2733AD075EAF994851B/PBS/rest/services/lsyt_dmdz_qxbj0619/MapServer/wfs?service=wfs&amp;version=1.0.0&amp;request=getfeature&amp;typename=lsyt_dmdz_qxbj0619&amp;outputFormat=application/json&amp;CQL_FILTER=BBOX(geom,&quot; + point + &quot;)&quot;; $.ajax({ url: qurl, success: function (data) { console.log(data); var text = JSON.parse(data); $('#details').html(text.features[1].properties['quxian']); } }); }); }); &lt;/script&gt;&lt;/head&gt;&lt;body class=&quot;claro&quot;&gt; &lt;div id=&quot;content&quot; data-dojo-type=&quot;dijit.layout.BorderContainer&quot; data-dojo-props=&quot;design:'headline', gutters:true&quot; style=&quot;width: 100%; height: 100%; margin: 0;&quot; \\&gt; &lt;div ‚Äã id=&quot;details&quot; ‚Äã data-dojo-type=&quot;dijit.layout.ContentPane&quot; ‚Äã data-dojo-props=&quot;region:'left', splitter:true&quot; ‚Äã style=&quot;overflow: auto; width: 200px;&quot; \\&gt;&lt;/div&gt; &lt;div ‚Äã id=&quot;map&quot; ‚Äã data-dojo-type=&quot;dijit.layout.ContentPane&quot; ‚Äã data-dojo-props=&quot;region:'center'&quot; ‚Äã style=&quot;overflow: hidden;&quot; \\&gt;&lt;/div&gt; &lt;/div&gt;&lt;/body&gt;&lt;/html&gt; 3.1.3.2Èù¢Êü•ËØ¢ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139&lt;!DOCTYPE html&gt;&lt;html&gt;&lt;head&gt; &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=utf-8&quot; /&gt; &lt;meta name=&quot;viewport&quot; content=&quot;initial-scale=1, maximum-scale=1,user-scalable=no&quot; /&gt; &lt;title&gt;Query By Rectangle&lt;/title&gt; &lt;link rel=&quot;stylesheet&quot; href=&quot;http://172.18.109.232:8082/arcgis_js_api/3.24/dijit/themes/claro/claro.css&quot; /&gt; &lt;link rel=&quot;stylesheet&quot; href=&quot;http://172.18.109.232:8082/arcgis_js_api/3.24/esri/css/esri.css&quot; /&gt; &lt;style&gt; html, body, \\#map { ‚Äã height: 100%; ‚Äã width: 100%; ‚Äã margin: 0; ‚Äã padding: 0; } &lt;/style&gt; &lt;script src=&quot;http://172.18.109.232:8082/arcgis_js_api/3.24/init.js&quot;&gt;&lt;/script&gt; &lt;script src=&quot;http://172.18.109.232:8082/jquery/jquery.js&quot;&gt;&lt;/script&gt; &lt;script&gt; var map, toolbar; require([ &quot;esri/map&quot;, &quot;esri/layers/WMSLayer&quot;, &quot;esri/layers/WMSLayerInfo&quot;, &quot;esri/toolbars/draw&quot;, &quot;esri/symbols/SimpleLineSymbol&quot;, &quot;esri/symbols/SimpleFillSymbol&quot;, &quot;esri/graphic&quot;, &quot;esri/layers/ArcGISTiledMapServiceLayer&quot;, &quot;esri/geometry/Extent&quot;, &quot;dojo/_base/array&quot;, &quot;dojo/dom&quot;, &quot;dojo/dom-construct&quot;, &quot;dojo/parser&quot;, &quot;dijit/layout/BorderContainer&quot;, &quot;dijit/layout/ContentPane&quot;, &quot;dojo/domReady!&quot;, ], function ( Map, WMSLayer, WMSLayerInfo, Draw, SimpleLineSymbol, SimpleFillSymbol, Graphic, ArcGISTiledMapServiceLayer, Extent, array, dom, domConst, parser ) { parser.parse(); map = new Map(&quot;map&quot;, { // basemap: &quot;streets&quot;, // center: [120.1594, 30.2571], center: new esri.geometry.Point( 120.1594, 30.2571, new esri.SpatialReference({ wkid: 4490 }) ), zoom: 3, }); var layer2 = new ArcGISTiledMapServiceLayer( &quot;http://21.15.116.31/e8b4611714092ac7bc35cb5e8d476e4824f85f3a/Tile/ArcGISREST/hzsyvector.gis&quot;, { // id: layerInfo.LayerName, id: &quot;Â∫ïÂõæ&quot;, } ); map.addLayer(layer2); map.on(&quot;load&quot;, function () { var extent = map.extent; var url = &quot;http://172.18.109.232:8080/68DE38F71E38CD8C508FAB3035752EA8ED8F9221EDE18FDBE593B01FCDD12BD296F09FE27CD7D2733AD075EAF994851B/PBS/rest/services/lsyt_dmdz_qxbj0619/MapServer/wms&quot;; var resourceInfo = { extent: extent, layerInfos: [], version: &quot;1.1.1&quot;, visibleLayers: [&quot;1&quot;], }; var wmslayer = new esri.layers.WMSLayer(url, { resourceInfo: resourceInfo, }); wmslayer.setImageFormat(&quot;png&quot;); wmslayer.setVisibleLayers(&quot;gpserver&quot;); map.addLayer(wmslayer); toolbar = new Draw(map); toolbar.on(&quot;draw-end&quot;, showinfo); toolbar.activate(Draw[&quot;RECTANGLE&quot;]); }); function showinfo(evt) { var symbol; toolbar.deactivate(); map.graphics.clear(); symbol = new SimpleFillSymbol(); var graphic = new Graphic(evt.geometry, symbol); map.graphics.add(graphic); getAttr(evt.geometry); } function getAttr(geo) { var point = geo.cache._extent.xmin + &quot;,&quot; + geo.cache._extent.ymin + &quot;,&quot; + geo.cache._extent.xmax + &quot;,&quot; + geo.cache._extent.ymax; // &quot;120.16271670916996,30.251675868508478,120.1713094144393,30.25591314629446&quot;; var qurl = &quot;http://172.18.109.232:8080/68DE38F71E38CD8C508FAB3035752EA8ED8F9221EDE18FDBE593B01FCDD12BD296F09FE27CD7D2733AD075EAF994851B/PBS/rest/services/lsyt_dmdz_qxbj0619/MapServer/wfs?service=wfs&amp;version=1.0.0&amp;request=getfeature&amp;typename=lsyt_dmdz_qxbj0619&amp;outputFormat=application/json&amp;CQL_FILTER=BBOX(geom,&quot; + point + &quot;)&quot;; $.ajax({ url: qurl, success: function (data) { console.log(data); var text = JSON.parse(data); var attr = &quot;&quot;; for (var i = 0; i &lt; text.features.length; i++) { attr += text.features[i].properties[&quot;quxian&quot;] + &quot;&lt;/br&gt;&quot;; } $(&quot;#details&quot;).html(attr); toolbar.activate(Draw[&quot;RECTANGLE&quot;]); }, }); } }); &lt;/script&gt;&lt;/head&gt;&lt;body class=&quot;claro&quot;&gt; &lt;div id=&quot;content&quot; data-dojo-type=&quot;dijit.layout.BorderContainer&quot; data-dojo-props=&quot;design:'headline', gutters:true&quot; style=&quot;width: 100%; height: 100%; margin: 0;&quot; \\&gt; &lt;div ‚Äã id=&quot;details&quot; ‚Äã data-dojo-type=&quot;dijit.layout.ContentPane&quot; ‚Äã data-dojo-props=&quot;region:'left', splitter:true&quot; ‚Äã style=&quot;overflow: auto; width: 200px;&quot; \\&gt;&lt;/div&gt; &lt;div ‚Äã id=&quot;map&quot; ‚Äã data-dojo-type=&quot;dijit.layout.ContentPane&quot; ‚Äã data-dojo-props=&quot;region:'center'&quot; ‚Äã style=&quot;overflow: hidden;&quot; \\&gt;&lt;/div&gt; &lt;/div&gt;&lt;/body&gt;&lt;/html&gt; 3.1.3.3Â±ûÊÄßÊü•ËØ¢ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114&lt;!DOCTYPE html&gt;&lt;html&gt;&lt;head&gt; &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=utf-8&quot; /&gt; &lt;meta name=&quot;viewport&quot; content=&quot;initial-scale=1, maximum-scale=1,user-scalable=no&quot; /&gt; &lt;title&gt;Query by Attr&lt;/title&gt; &lt;link rel=&quot;stylesheet&quot; href=&quot;http://172.18.109.232:8082/arcgis_js_api/3.24/dijit/themes/claro/claro.css&quot; /&gt; &lt;link rel=&quot;stylesheet&quot; href=&quot;http://172.18.109.232:8082/arcgis_js_api/3.24/esri/css/esri.css&quot; /&gt; &lt;style&gt; html, body, \\#map { ‚Äã height: 100%; ‚Äã width: 100%; ‚Äã margin: 0; ‚Äã padding: 0; } &lt;/style&gt; &lt;script src=&quot;http://172.18.109.232:8082/arcgis_js_api/3.24/init.js&quot;&gt;&lt;/script&gt; &lt;script src=&quot;http://172.18.109.232:8082/jquery/jquery.js&quot;&gt;&lt;/script&gt; &lt;script&gt; var map; require([ &quot;esri/map&quot;, &quot;esri/layers/WMSLayer&quot;, &quot;esri/layers/WMSLayerInfo&quot;, &quot;esri/layers/ArcGISTiledMapServiceLayer&quot;, &quot;esri/geometry/Extent&quot;, &quot;dojo/_base/array&quot;, &quot;dojo/dom&quot;, &quot;dojo/dom-construct&quot;, &quot;dojo/parser&quot;, &quot;dijit/layout/BorderContainer&quot;, &quot;dijit/layout/ContentPane&quot;, &quot;dojo/domReady!&quot;, ], function ( Map, WMSLayer, WMSLayerInfo, ArcGISTiledMapServiceLayer, Extent, array, dom, domConst, parser ) { parser.parse(); map = new Map(&quot;map&quot;, { center: new esri.geometry.Point( 120.1594, 30.2571, new esri.SpatialReference({ wkid: 4490 }) ), zoom: 3, }); var layer2 = new ArcGISTiledMapServiceLayer( &quot;http://21.15.116.31/e8b4611714092ac7bc35cb5e8d476e4824f85f3a/Tile/ArcGISREST/hzsyvector.gis&quot;, { id: &quot;Â∫ïÂõæ&quot;, } ); map.addLayer(layer2); map.on(&quot;load&quot;, function () { var extent = map.extent; var url = &quot;http://172.18.109.232:8080/68DE38F71E38CD8C508FAB3035752EA8ED8F9221EDE18FDBE593B01FCDD12BD296F09FE27CD7D2733AD075EAF994851B/PBS/rest/services/lsyt_dmdz_qxbj0619/MapServer/wms&quot;; var resourceInfo = { extent: extent, layerInfos: [], version: &quot;1.1.1&quot;, visibleLayers: [&quot;1&quot;], }; var wmslayer = new esri.layers.WMSLayer(url, { resourceInfo: resourceInfo, }); wmslayer.setImageFormat(&quot;png&quot;); wmslayer.setVisibleLayers(&quot;gpserver&quot;); map.addLayer(wmslayer); }); map.on(&quot;click&quot;, function (e) { console.log(&quot;Ëé∑ÂèñÂà∞ÁöÑÁÇπ&quot; + e); var point = &quot;120.16271670916996,30.251675868508478,120.1713094144393,30.25591314629446&quot;; // &quot;120.16271670916996,30.251675868508478,120.1713094144393,30.25591314629446&quot;; var qurl = &quot;http://172.18.109.232:8080/68DE38F71E38CD8C508FAB3035752EA8ED8F9221EDE18FDBE593B01FCDD12BD296F09FE27CD7D2733AD075EAF994851B/PBS/rest/services/lsyt_dmdz_qxbj0619/MapServer/wfs?service=wfs&amp;version=1.0.0&amp;request=getfeature&amp;typename=lsyt_dmdz_qxbj0619&amp;outputFormat=application/json&amp;CQL_FILTER=BBOX(geom,&quot; + point + &quot;)&quot;; qurl += &quot; and quxian='‰∏äÂüéÂå∫'&quot;; $.ajax({ url: qurl, success: function (data) { console.log(data); var text = JSON.parse(data); var attr = &quot;&quot;; for (var i = 0; i &lt; text.features.length; i++) { attr += text.features[i].properties[&quot;quxian&quot;] + &quot;&lt;/br&gt;&quot;; } $(&quot;#details&quot;).html(attr); }, }); }); }); &lt;/script&gt;&lt;/head&gt;&lt;body class=&quot;claro&quot;&gt; &lt;div id=&quot;content&quot; data-dojo-type=&quot;dijit.layout.BorderContainer&quot; data-dojo-props=&quot;design:'headline', gutters:true&quot; style=&quot;width: 100%; height: 100%; margin: 0;&quot; \\&gt; &lt;div ‚Äã id=&quot;details&quot; ‚Äã data-dojo-type=&quot;dijit.layout.ContentPane&quot; ‚Äã data-dojo-props=&quot;region:'left', splitter:true&quot; ‚Äã style=&quot;overflow: auto; width: 200px;&quot; \\&gt;ÁÇπÂáªÂú∞ÂõæÂÆûÁé∞ÊåâÂ±ûÊÄßÊü•ËØ¢ÔºàÂå∫Âéø=‰∏äÂüéÂå∫Ôºâ&lt;/div&gt; &lt;div ‚Äã id=&quot;map&quot; ‚Äã data-dojo-type=&quot;dijit.layout.ContentPane&quot; ‚Äã data-dojo-props=&quot;region:'center'&quot; ‚Äã style=&quot;overflow: hidden;&quot; \\&gt;&lt;/div&gt; &lt;/div&gt;&lt;/body&gt;&lt;/html&gt; 3.1.3.4ÁªÑÂêàÊü•ËØ¢ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139&lt;html&gt;&lt;head&gt; &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=utf-8&quot; /&gt; &lt;meta name=&quot;viewport&quot; content=&quot;initial-scale=1, maximum-scale=1,user-scalable=no&quot; /&gt; &lt;title&gt;Query&lt;/title&gt; &lt;link rel=&quot;stylesheet&quot; href=&quot;http://172.18.109.232:8082/arcgis_js_api/3.24/dijit/themes/claro/claro.css&quot; /&gt; &lt;link rel=&quot;stylesheet&quot; href=&quot;http://172.18.109.232:8082/arcgis_js_api/3.24/esri/css/esri.css&quot; /&gt; &lt;style&gt; html, body, \\#map { ‚Äã height: 100%; ‚Äã width: 100%; ‚Äã margin: 0; ‚Äã padding: 0; } &lt;/style&gt; &lt;script src=&quot;http://172.18.109.232:8082/arcgis_js_api/3.24/init.js&quot;&gt;&lt;/script&gt; &lt;script src=&quot;http://172.18.109.232:8082/jquery/jquery.js&quot;&gt;&lt;/script&gt; &lt;script&gt; var map, toolbar; require([ &quot;esri/map&quot;, &quot;esri/layers/WMSLayer&quot;, &quot;esri/layers/WMSLayerInfo&quot;, &quot;esri/toolbars/draw&quot;, &quot;esri/symbols/SimpleLineSymbol&quot;, &quot;esri/symbols/SimpleFillSymbol&quot;, &quot;esri/graphic&quot;, &quot;esri/layers/ArcGISTiledMapServiceLayer&quot;, &quot;esri/geometry/Extent&quot;, &quot;dojo/_base/array&quot;, &quot;dojo/dom&quot;, &quot;dojo/dom-construct&quot;, &quot;dojo/parser&quot;, &quot;dijit/layout/BorderContainer&quot;, &quot;dijit/layout/ContentPane&quot;, &quot;dojo/domReady!&quot;, ], function ( Map, WMSLayer, WMSLayerInfo, Draw, SimpleLineSymbol, SimpleFillSymbol, Graphic, ArcGISTiledMapServiceLayer, Extent, array, dom, domConst, parser ) { parser.parse(); map = new Map(&quot;map&quot;, { center: new esri.geometry.Point( 120.1594, 30.2571, new esri.SpatialReference({ wkid: 4490 }) ), zoom: 3, }); var layer2 = new ArcGISTiledMapServiceLayer( &quot;http://21.15.116.31/e8b4611714092ac7bc35cb5e8d476e4824f85f3a/Tile/ArcGISREST/hzsyvector.gis&quot;, { id: &quot;Â∫ïÂõæ&quot;, } ); map.addLayer(layer2); map.on(&quot;load&quot;, function () { var extent = map.extent; var url = &quot;http://172.18.109.232:8080/68DE38F71E38CD8C508FAB3035752EA8ED8F9221EDE18FDBE593B01FCDD12BD296F09FE27CD7D2733AD075EAF994851B/PBS/rest/services/lsyt_dmdz_qxbj0619/MapServer/wms&quot;; var resourceInfo = { extent: extent, layerInfos: [], version: &quot;1.1.1&quot;, visibleLayers: [&quot;1&quot;], }; var wmslayer = new esri.layers.WMSLayer(url, { resourceInfo: resourceInfo, }); wmslayer.setImageFormat(&quot;png&quot;); wmslayer.setVisibleLayers(&quot;gpserver&quot;); map.addLayer(wmslayer); toolbar = new Draw(map); toolbar.on(&quot;draw-end&quot;, showinfo); toolbar.activate(Draw[&quot;RECTANGLE&quot;]); }); function showinfo(evt) { var symbol; toolbar.deactivate(); map.graphics.clear(); symbol = new SimpleFillSymbol(); var graphic = new Graphic(evt.geometry, symbol); map.graphics.add(graphic); getAttr(evt.geometry); } function getAttr(geo) { var point = geo.cache._extent.xmin + &quot;,&quot; + geo.cache._extent.ymin + &quot;,&quot; + geo.cache._extent.xmax + &quot;,&quot; + geo.cache._extent.ymax; // &quot;120.16271670916996,30.251675868508478,120.1713094144393,30.25591314629446&quot;; var qurl = &quot;http://172.18.109.232:8080/68DE38F71E38CD8C508FAB3035752EA8ED8F9221EDE18FDBE593B01FCDD12BD296F09FE27CD7D2733AD075EAF994851B/PBS/rest/services/lsyt_dmdz_qxbj0619/MapServer/wfs?service=wfs&amp;version=1.0.0&amp;request=getfeature&amp;typename=lsyt_dmdz_qxbj0619&amp;outputFormat=application/json&amp;CQL_FILTER=BBOX(geom,&quot; + point + &quot;)&quot;; qurl += &quot; and quxian='‰∏äÂüéÂå∫'&quot;; $.ajax({ url: qurl, success: function (data) { console.log(data); var text = JSON.parse(data); var attr = &quot;&quot;; for (var i = 0; i &lt; text.features.length; i++) { attr += text.features[i].properties[&quot;quxian&quot;] + &quot;&lt;/br&gt;&quot;; } $(&quot;#details&quot;).html(attr); toolbar.activate(Draw[&quot;RECTANGLE&quot;]); }, }); } }); &lt;/script&gt;&lt;/head&gt;&lt;body class=&quot;claro&quot;&gt; &lt;div id=&quot;content&quot; data-dojo-type=&quot;dijit.layout.BorderContainer&quot; data-dojo-props=&quot;design:'headline', gutters:true&quot; style=&quot;width: 100%; height: 100%; margin: 0;&quot; \\&gt; &lt;div ‚Äã id=&quot;details&quot; ‚Äã data-dojo-type=&quot;dijit.layout.ContentPane&quot; ‚Äã data-dojo-props=&quot;region:'left', splitter:true&quot; ‚Äã style=&quot;overflow: auto; width: 200px;&quot; \\&gt;Âú®Ê°ÜÈÄâËåÉÂõ¥ÂÜÖÊü•ËØ¢Â±ûÊÄßÔºàÂå∫Âéø=‰∏äÂüéÂå∫ÔºâÁöÑÊï∞ÊçÆ&lt;/div&gt; &lt;div ‚Äã id=&quot;map&quot; ‚Äã data-dojo-type=&quot;dijit.layout.ContentPane&quot; ‚Äã data-dojo-props=&quot;region:'center'&quot; ‚Äã style=&quot;overflow: hidden;&quot; \\&gt;&lt;/div&gt; &lt;/div&gt;&lt;/body&gt;&lt;/html&gt; Openlayers OpenLayers ÊòØ‰∏Ä‰∏™‰∏ì‰∏∫Web GIS ÂÆ¢Êà∑Á´ØÂºÄÂèëÊèê‰æõÁöÑJavaScript Á±ªÂ∫ìÂåÖÔºåÁî®‰∫éÂÆûÁé∞Ê†áÂáÜÊ†ºÂºèÂèëÂ∏ÉÁöÑÂú∞ÂõæÊï∞ÊçÆËÆøÈóÆ„ÄÇOpenLayersÂÆûÁé∞ËÆøÈóÆÂú∞ÁêÜÁ©∫Èó¥Êï∞ÊçÆÁöÑÊñπÊ≥ïÈÉΩÁ¨¶ÂêàË°å‰∏öÊ†áÂáÜ„ÄÇOpenLayers ÊîØÊåÅOpen GIS Âçè‰ºöÂà∂ÂÆöÁöÑWMSÔºàWeb Mapping ServiceÔºâÂíåWFSÔºàWeb Feature ServiceÔºâÁ≠âÁΩëÁªúÊúçÂä°ËßÑËåÉÔºåÂèØ‰ª•ÈÄöËøáËøúÁ®ãÊúçÂä°ÁöÑÊñπÂºèÔºåÂ∞Ü‰ª•OGC ÊúçÂä°ÂΩ¢ÂºèÂèëÂ∏ÉÁöÑÂú∞ÂõæÊï∞ÊçÆÂä†ËΩΩÂà∞Âü∫‰∫éÊµèËßàÂô®ÁöÑOpenLayers ÂÆ¢Êà∑Á´Ø‰∏≠ËøõË°åÊòæÁ§∫„ÄÇËØ¶ÁªÜËßÅÂÆòÊñπÁΩëÁ´ôhttps://openlayers.org/ Âú∞Âõæ Áü¢ÈáèÁîµÂ≠êÂú∞Âõæ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172&lt;!DOCTYPE html&gt;&lt;html&gt;&lt;head&gt; &lt;meta charset=&quot;UTF-8&quot;&gt; &lt;title&gt;Ê∑ªÂä†ÁîµÂ≠êÂú∞Âõæ&lt;/title&gt; &lt;link rel=&quot;stylesheet&quot; href=&quot;http://172.18.109.232:8082/openlayer/v3.20.1/css/ol.css&quot; type=&quot;text/css&quot;&gt; &lt;script src=&quot;http://172.18.109.232:8082/openlayer/v3.20.1/build/ol.js&quot;&gt;&lt;/script&gt;&lt;/head&gt;&lt;body&gt; &lt;div id=&quot;map&quot; class=&quot;map&quot;&gt;&lt;/div&gt; &lt;script&gt; var format = 'image/png'; var bounds = [119.347618103027, 29.7052669525146, 120.698570251465, 30.5366992950439 ]; var projection = new ol.proj.Projection({ code: 'EPSG:4490', units: 'degrees', axisOrientation: 'neu', global: true }); var fullExtent = [118.33968849655, 29.188589472, 120.71408849655, 30.5651894750343]; var resolutions = [ 0.00549933137239034, 0.00274966568619517, 0.00137483284309758, 0.000687416421548792, 0.000343708210774396, 0.000171854105387198, 8.5927052693599E-05, 4.29635263467995E-05, 2.14817631733998E-05, 1.07408815866999E-05, 5.37044079334994E-06, 2.68522039667497E-06, 1.34261019833748E-06, ]; var tileGrid = new ol.tilegrid.TileGrid({ tileSize: 256, origin: [118.122911693886, 31.2869311022836], extent: fullExtent, resolutions: resolutions }); // ol.source.XYZÊ∑ªÂä†Áì¶ÁâáÂú∞ÂõæÁöÑÂ±Ç var tileLayer = new ol.layer.Tile({ source: new ol.source.XYZ({ tileGrid: tileGrid, tileUrlFunction: function (tileCoord) { var z = tileCoord[0]; var x = tileCoord[1]; var y = (-tileCoord[2] - 1); var url = 'http://172.18.109.232:8080/68DE38F71E38CD8C508FAB3035752EA8ED8F9221EDE18FDBE593B01FCDD12BD296F09FE27CD7D2733AD075EAF994851B/PBS/rest/services/hzsyvector/Mapserver/tile/' + z + '/' + y + '/' + x; console.log(url); return url; }, projection: 'EPSG:4490' }) }); var map = new ol.Map({ target: 'map', layers: [ tileLayer ], view: new ol.View({ projection: projection }) }); map.getView().fit(bounds, map.getSize()); //ÈùûÂ∏∏ÈáçË¶Å &lt;/script&gt;&lt;/body&gt;&lt;/html&gt; ÂΩ±ÂÉèÁîµÂ≠êÂú∞Âõæ Ê∑ªÂä†ÁîµÂ≠êÂú∞Âõæ var format = 'image/png'; var bounds = [119.347618103027, 29.7052669525146, 120.698570251465, 30.5366992950439 ]; var projection = new ol.proj.Projection({ code: 'EPSG:4490', units: 'degrees', axisOrientation: 'neu', global: true }); var fullExtent = [118.33968849655, 29.188589472, 120.71408849655, 30.5651894750343]; var resolutions = [ 0.00549933137239034, 0.00274966568619517, 0.00137483284309758, 0.000687416421548792, 0.000343708210774396, 0.000171854105387198, 8.5927052693599E-05, 4.29635263467995E-05, 2.14817631733998E-05, 1.07408815866999E-05, 5.37044079334994E-06, 2.68522039667497E-06, 1.34261019833748E-06, ]; var tileGrid = new ol.tilegrid.TileGrid({ tileSize: 256, origin: [118.122911693886, 31.2869311022836], extent: fullExtent, resolutions: resolutions }); // ol.source.XYZÊ∑ªÂä†Áì¶ÁâáÂú∞ÂõæÁöÑÂ±Ç var tileLayer = new ol.layer.Tile({ source: new ol.source.XYZ({ tileGrid: tileGrid, tileUrlFunction: function (tileCoord) { var z = tileCoord[0]; var x = tileCoord[1]; var y = (-tileCoord[2] - 1); var url = 'http://172.18.109.232:8080/68DE38F71E38CD8C508FAB3035752EA8ED8F9221EDE18FDBE593B01FCDD12BD296F09FE27CD7D2733AD075EAF994851B/PBS/rest/services/hzsyraster/Mapserver/tile/' + z + '/' + y + '/' + x; console.log(url); return url; }, projection: 'EPSG:4490' }) }); var map = new ol.Map({ target: 'map', layers: [ tileLayer ], view: new ol.View({ projection: projection }) }); map.getView().fit(bounds, map.getSize()); //ÈùûÂ∏∏ÈáçË¶Å ÂõæÂ±Ç ÂºπÂá∫Ê°Ü‰ø°ÊÅØÊ°Ü 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117&lt;!DOCTYPE html&gt;&lt;html&gt;&lt;head&gt; &lt;meta charset=&quot;UTF-8&quot; /&gt; &lt;title&gt;ÂºπÂá∫‰ø°ÊÅØÊ°Ü&lt;/title&gt; &lt;link rel=&quot;stylesheet&quot; href=&quot;http://172.18.109.232:8082/openlayer/v3.20.1/css/ol.css&quot; type=&quot;text/css&quot; /&gt; &lt;script src=&quot;http://172.18.109.232:8082/openlayer/v3.20.1/build/ol.js&quot;&gt;&lt;/script&gt; &lt;script src=&quot;http://172.18.109.232:8082/jquery/jquery.js&quot;&gt;&lt;/script&gt;&lt;/head&gt;&lt;style&gt; #map { height: 100%; width: 100%; } #mypopup { background: #fff; }&lt;/style&gt;&lt;body&gt; &lt;div id=&quot;map&quot; class=&quot;map&quot;&gt;&lt;/div&gt; &lt;div id=&quot;mypopup&quot;&gt; &lt;div id=&quot;mypopup-content&quot;&gt;ÂÜÖÂÆπËá™ÂÆö‰πâ&lt;/div&gt; &lt;button id=&quot;closeOverlay&quot;&gt;ÂÖ≥Èó≠&lt;/button&gt; &lt;/div&gt; &lt;script&gt; var format = &quot;image/png&quot;; var bounds = [ 119.347618103027, 29.7052669525146, 120.698570251465, 30.5366992950439, ]; var projection = new ol.proj.Projection({ code: &quot;EPSG:4490&quot;, units: &quot;degrees&quot;, axisOrientation: &quot;neu&quot;, global: true, }); var fullExtent = [ 118.33968849655, 29.188589472, 120.71408849655, 30.5651894750343, ]; var resolutions = [ 0.00549933137239034, 0.00274966568619517, 0.00137483284309758, 0.000687416421548792, 0.000343708210774396, 0.000171854105387198, 8.5927052693599e-5, 4.29635263467995e-5, 2.14817631733998e-5, 1.07408815866999e-5, 5.37044079334994e-6, 2.68522039667497e-6, 1.34261019833748e-6, ]; var tileGrid = new ol.tilegrid.TileGrid({ tileSize: 256, origin: [118.122911693886, 31.2869311022836], extent: fullExtent, resolutions: resolutions, }); // ol.source.XYZÊ∑ªÂä†Áì¶ÁâáÂú∞ÂõæÁöÑÂ±Ç var tileLayer = new ol.layer.Tile({ source: new ol.source.XYZ({ tileGrid: tileGrid, tileUrlFunction: function (tileCoord) { var z = tileCoord[0]; var x = tileCoord[1]; var y = -tileCoord[2] - 1; var url = &quot;http://172.18.109.232:8080/68DE38F71E38CD8C508FAB3035752EA8ED8F9221EDE18FDBE593B01FCDD12BD296F09FE27CD7D2733AD075EAF994851B/PBS/rest/services/hzsyvector/Mapserver/tile/&quot; + z + &quot;/&quot; + y + &quot;/&quot; + x; // console.log(url); return url; }, projection: &quot;EPSG:4490&quot;, }), }); var info = $(&quot;#mypopup&quot;); var content = $(&quot;#mypopup-content&quot;); var overlay = new ol.Overlay({ element: info[0], autopan: true, autoPanMargin: 20, positioning: &quot;center-center&quot;, }); //map.addOverlay(overlay); var map = new ol.Map({ target: &quot;map&quot;, layers: [tileLayer], overlays: [overlay], view: new ol.View({ projection: projection, }), }); map.getView().fit(bounds, map.getSize()); //ÈùûÂ∏∏ÈáçË¶Å $(&quot;#closeOverlay&quot;).click(function () { info.hide(); return false; }); map.on(&quot;click&quot;, function (e) { var location = e.coordinate; content.html(&quot;ËøôÊòØ‰ø°ÊÅØÊ°Ü&quot;); info.show(); overlay.setPosition(location); }); &lt;/script&gt;&lt;/body&gt;&lt;/html&gt; Áü¢ÈáèÂõæÂ±ÇÔºàwmsÔºâ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980818283848586&lt;!DOCTYPE html&gt;&lt;html&gt;&lt;head&gt; &lt;meta charset=&quot;UTF-8&quot;&gt; &lt;title&gt;Ê∑ªÂä†ÁîµÂ≠êÂú∞Âõæ&lt;/title&gt; &lt;link rel=&quot;stylesheet&quot; href=&quot;http://172.18.109.232:8082/openlayer/v3.20.1/css/ol.css&quot; type=&quot;text/css&quot;&gt; &lt;script src=&quot;http://172.18.109.232:8082/openlayer/v3.20.1/build/ol.js&quot;&gt;&lt;/script&gt;&lt;/head&gt;&lt;body&gt; &lt;div id=&quot;map&quot; class=&quot;map&quot;&gt;&lt;/div&gt; &lt;script&gt; var format = 'image/png'; var bounds = [119.347618103027, 29.7052669525146, 120.698570251465, 30.5366992950439 ]; var projection = new ol.proj.Projection({ code: 'EPSG:4490', units: 'degrees', axisOrientation: 'neu', global: true }); var fullExtent = [118.33968849655, 29.188589472, 120.71408849655, 30.5651894750343]; var resolutions = [ 0.00549933137239034, 0.00274966568619517, 0.00137483284309758, 0.000687416421548792, 0.000343708210774396, 0.000171854105387198, 8.5927052693599E-05, 4.29635263467995E-05, 2.14817631733998E-05, 1.07408815866999E-05, 5.37044079334994E-06, 2.68522039667497E-06, 1.34261019833748E-06, ]; var tileGrid = new ol.tilegrid.TileGrid({ tileSize: 256, origin: [118.122911693886, 31.2869311022836], extent: fullExtent, resolutions: resolutions }); // ol.source.XYZÊ∑ªÂä†Áì¶ÁâáÂú∞ÂõæÁöÑÂ±Ç var tileLayer = new ol.layer.Tile({ source: new ol.source.XYZ({ tileGrid: tileGrid, tileUrlFunction: function (tileCoord) { var z = tileCoord[0]; var x = tileCoord[1]; var y = (-tileCoord[2] - 1); var url = 'http://172.18.109.232:8080/68DE38F71E38CD8C508FAB3035752EA8ED8F9221EDE18FDBE593B01FCDD12BD296F09FE27CD7D2733AD075EAF994851B/PBS/rest/services/hzsyvector/Mapserver/tile/' + z + '/' + y + '/' + x; console.log(url); return url; }, projection: 'EPSG:4490' }) }); var untiled = new ol.layer.Image({ source: new ol.source.ImageWMS({ ratio: 1, //url: 'http://126.10.2.27:8080/geoserver/gpserver/wms', url: 'http://172.18.109.232:8080/68DE38F71E38CD8C508FAB3035752EA8ED8F9221EDE18FDBE593B01FCDD12BD296F09FE27CD7D2733AD075EAF994851B/PBS/rest/services/lsyt_dmdz_qxbj0619/MapServer/wms?', params: { 'FORMAT': format, 'VERSION': '1.1.1', &quot;LAYERS&quot;: 'lsyt_dmdz_qxbj0619', &quot;exceptions&quot;: 'application/vnd.ogc.se_inimage', } }) }); var map = new ol.Map({ target: 'map', layers: [ tileLayer, untiled ], view: new ol.View({ projection: projection }) }); map.getView().fit(bounds, map.getSize()); //ÈùûÂ∏∏ÈáçË¶Å &lt;/script&gt;&lt;/body&gt;&lt;/html&gt; Áü¢ÈáèÂõæÂ±ÇÔºàwfsÔºâ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899&lt;!DOCTYPE html&gt;&lt;html&gt;&lt;head&gt; &lt;meta charset=&quot;UTF-8&quot; /&gt; &lt;title&gt;Ê∑ªÂä†WFSÁîµÂ≠êÂú∞Âõæ&lt;/title&gt; &lt;link rel=&quot;stylesheet&quot; href=&quot;http://172.18.109.232:8082/openlayer/v3.20.1/css/ol.css&quot; type=&quot;text/css&quot; /&gt; &lt;script src=&quot;http://172.18.109.232:8082/openlayer/v3.20.1/build/ol.js&quot;&gt;&lt;/script&gt;&lt;/head&gt;&lt;body&gt; &lt;div id=&quot;map&quot; class=&quot;map&quot;&gt;&lt;/div&gt; &lt;script&gt; var format = &quot;image/png&quot;; var bounds = [ 119.347618103027, 29.7052669525146, 120.698570251465, 30.5366992950439, ]; var projection = new ol.proj.Projection({ code: &quot;EPSG:4490&quot;, units: &quot;degrees&quot;, axisOrientation: &quot;neu&quot;, global: true, }); var fullExtent = [ 118.33968849655, 29.188589472, 120.71408849655, 30.5651894750343, ]; var resolutions = [ 0.00549933137239034, 0.00274966568619517, 0.00137483284309758, 0.000687416421548792, 0.000343708210774396, 0.000171854105387198, 8.5927052693599e-5, 4.29635263467995e-5, 2.14817631733998e-5, 1.07408815866999e-5, 5.37044079334994e-6, 2.68522039667497e-6, 1.34261019833748e-6, ]; var tileGrid = new ol.tilegrid.TileGrid({ tileSize: 256, origin: [118.122911693886, 31.2869311022836], extent: fullExtent, resolutions: resolutions, }); // ol.source.XYZÊ∑ªÂä†Áì¶ÁâáÂú∞ÂõæÁöÑÂ±Ç var tileLayer = new ol.layer.Tile({ source: new ol.source.XYZ({ tileGrid: tileGrid, tileUrlFunction: function (tileCoord) { var z = tileCoord[0]; var x = tileCoord[1]; var y = -tileCoord[2] - 1; var url = &quot;http://172.18.109.232:8080/68DE38F71E38CD8C508FAB3035752EA8ED8F9221EDE18FDBE593B01FCDD12BD296F09FE27CD7D2733AD075EAF994851B/PBS/rest/services/hzsyvector/Mapserver/tile/&quot; + z + &quot;/&quot; + y + &quot;/&quot; + x; //console.log(url); return url; }, projection: &quot;EPSG:4490&quot;, }), }); var vectorSource = new ol.source.Vector({ format: new ol.format.GeoJSON(), url: function (extent) { return &quot;http://172.18.109.232:8080/68DE38F71E38CD8C508FAB3035752EA8ED8F9221EDE18FDBE593B01FCDD12BD296F09FE27CD7D2733AD075EAF994851B/PBS/rest/services/lsyt_dmdz_qxbj0619/MapServer/wfs?service=wfs&amp;version=1.0.0&amp;request=getfeature&amp;typename=lsyt_dmdz_qxbj0619&amp;outputFormat=application/json&quot;; }, //strategy: bboxStrategy, }); var vector = new ol.layer.Vector({ source: vectorSource, style: new ol.style.Style({ stroke: new ol.style.Stroke({ color: &quot;rgba(0, 0, 255, 1.0)&quot;, width: 2, }), }), }); var map = new ol.Map({ target: &quot;map&quot;, layers: [tileLayer, vector], view: new ol.View({ projection: projection, }), }); map.getView().fit(bounds, map.getSize()); //ÈùûÂ∏∏ÈáçË¶Å &lt;/script&gt;&lt;/body&gt;&lt;/html&gt; Êü•ËØ¢ ÁÇπÊü•ËØ¢ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114&lt;!DOCTYPE html&gt;&lt;html&gt;&lt;head&gt; &lt;meta charset=&quot;UTF-8&quot; /&gt; &lt;title&gt;ÁÇπÊü•ËØ¢&lt;/title&gt; &lt;link rel=&quot;stylesheet&quot; href=&quot;http://172.18.109.232:8082/openlayer/v3.20.1/css/ol.css&quot; type=&quot;text/css&quot; /&gt; &lt;script src=&quot;http://172.18.109.232:8082/openlayer/v3.20.1/build/ol.js&quot;&gt;&lt;/script&gt; &lt;script src=&quot;http://172.18.109.232:8082/jquery/jquery.js&quot;&gt;&lt;/script&gt;&lt;/head&gt;&lt;body&gt; &lt;div id=&quot;map&quot; class=&quot;map&quot;&gt;&lt;/div&gt; &lt;script&gt; var format = &quot;image/png&quot;; var bounds = [ 119.347618103027, 29.7052669525146, 120.698570251465, 30.5366992950439, ]; var projection = new ol.proj.Projection({ code: &quot;EPSG:4490&quot;, units: &quot;degrees&quot;, axisOrientation: &quot;neu&quot;, global: true, }); var fullExtent = [ 118.33968849655, 29.188589472, 120.71408849655, 30.5651894750343, ]; var resolutions = [ 0.00549933137239034, 0.00274966568619517, 0.00137483284309758, 0.000687416421548792, 0.000343708210774396, 0.000171854105387198, 8.5927052693599e-5, 4.29635263467995e-5, 2.14817631733998e-5, 1.07408815866999e-5, 5.37044079334994e-6, 2.68522039667497e-6, 1.34261019833748e-6, ]; var tileGrid = new ol.tilegrid.TileGrid({ tileSize: 256, origin: [118.122911693886, 31.2869311022836], extent: fullExtent, resolutions: resolutions, }); // ol.source.XYZÊ∑ªÂä†Áì¶ÁâáÂú∞ÂõæÁöÑÂ±Ç var tileLayer = new ol.layer.Tile({ source: new ol.source.XYZ({ tileGrid: tileGrid, tileUrlFunction: function (tileCoord) { var z = tileCoord[0]; var x = tileCoord[1]; var y = -tileCoord[2] - 1; var url = &quot;http://172.18.109.232:8080/68DE38F71E38CD8C508FAB3035752EA8ED8F9221EDE18FDBE593B01FCDD12BD296F09FE27CD7D2733AD075EAF994851B/PBS/rest/services/hzsyvector/Mapserver/tile/&quot; + z + &quot;/&quot; + y + &quot;/&quot; + x; //console.log(url); return url; }, projection: &quot;EPSG:4490&quot;, }), }); var vectorSource = new ol.source.Vector({ format: new ol.format.GeoJSON(), url: function (extent) { return &quot;http://172.18.109.232:8080/68DE38F71E38CD8C508FAB3035752EA8ED8F9221EDE18FDBE593B01FCDD12BD296F09FE27CD7D2733AD075EAF994851B/PBS/rest/services/lsyt_dmdz_qxbj0619/MapServer/wfs?service=wfs&amp;version=1.0.0&amp;request=getfeature&amp;typename=lsyt_dmdz_qxbj0619&amp;outputFormat=application/json&quot;; }, //strategy: bboxStrategy, }); var vector = new ol.layer.Vector({ source: vectorSource, style: new ol.style.Style({ stroke: new ol.style.Stroke({ color: &quot;rgba(0, 0, 255, 1.0)&quot;, width: 2, }), }), }); var map = new ol.Map({ target: &quot;map&quot;, layers: [tileLayer, vector], view: new ol.View({ projection: projection, }), }); map.getView().fit(bounds, map.getSize()); //ÈùûÂ∏∏ÈáçË¶Å map.on(&quot;click&quot;, function (e) { var location = e.coordinate; var point = location[0] + &quot;,&quot; + location[1] + &quot;,&quot; + location[0] + &quot;,&quot; + location[1];// &quot;120.16271670916996,30.251675868508478,120.1713094144393,30.25591314629446&quot;; var qurl = &quot;http://172.18.109.232:8080/68DE38F71E38CD8C508FAB3035752EA8ED8F9221EDE18FDBE593B01FCDD12BD296F09FE27CD7D2733AD075EAF994851B/PBS/rest/services/lsyt_dmdz_qxbj0619/MapServer/wfs?service=wfs&amp;version=1.0.0&amp;request=getfeature&amp;typename=lsyt_dmdz_qxbj0619&amp;outputFormat=application/json&amp;CQL_FILTER=BBOX(geom,&quot; + point + &quot;)&quot;; $.ajax({ url: qurl, success: function (data) { console.log(data); var text = JSON.parse(data); alert(&quot;You clicked the map at &quot; + text.features[1].properties['quxian']); } }); }); &lt;/script&gt;&lt;/body&gt;&lt;/html&gt; Èù¢Êü•ËØ¢ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116&lt;!DOCTYPE html&gt;&lt;html&gt;&lt;head&gt; &lt;meta charset=&quot;UTF-8&quot; /&gt; &lt;title&gt;Ê°ÜÈÄâÊü•ËØ¢&lt;/title&gt; &lt;link rel=&quot;stylesheet&quot; href=&quot;http://172.18.109.232:8082/openlayer/v3.20.1/css/ol.css&quot; type=&quot;text/css&quot; /&gt; &lt;script src=&quot;http://172.18.109.232:8082/openlayer/v3.20.1/build/ol.js&quot;&gt;&lt;/script&gt; &lt;script src=&quot;http://172.18.109.232:8082/jquery/jquery.js&quot;&gt;&lt;/script&gt;&lt;/head&gt;&lt;body&gt; &lt;div id=&quot;map&quot; class=&quot;map&quot;&gt;&lt;/div&gt; &lt;script&gt; var format = &quot;image/png&quot;; var bounds = [ 119.347618103027, 29.7052669525146, 120.698570251465, 30.5366992950439, ]; var projection = new ol.proj.Projection({ code: &quot;EPSG:4490&quot;, units: &quot;degrees&quot;, axisOrientation: &quot;neu&quot;, global: true, }); var fullExtent = [ 118.33968849655, 29.188589472, 120.71408849655, 30.5651894750343, ]; var resolutions = [ 0.00549933137239034, 0.00274966568619517, 0.00137483284309758, 0.000687416421548792, 0.000343708210774396, 0.000171854105387198, 8.5927052693599e-5, 4.29635263467995e-5, 2.14817631733998e-5, 1.07408815866999e-5, 5.37044079334994e-6, 2.68522039667497e-6, 1.34261019833748e-6, ]; var tileGrid = new ol.tilegrid.TileGrid({ tileSize: 256, origin: [118.122911693886, 31.2869311022836], extent: fullExtent, resolutions: resolutions, }); // ol.source.XYZÊ∑ªÂä†Áì¶ÁâáÂú∞ÂõæÁöÑÂ±Ç var tileLayer = new ol.layer.Tile({ source: new ol.source.XYZ({ tileGrid: tileGrid, tileUrlFunction: function (tileCoord) { var z = tileCoord[0]; var x = tileCoord[1]; var y = -tileCoord[2] - 1; var url = &quot;http://172.18.109.232:8080/68DE38F71E38CD8C508FAB3035752EA8ED8F9221EDE18FDBE593B01FCDD12BD296F09FE27CD7D2733AD075EAF994851B/PBS/rest/services/hzsyvector/Mapserver/tile/&quot; + z + &quot;/&quot; + y + &quot;/&quot; + x; //console.log(url); return url; }, projection: &quot;EPSG:4490&quot;, }), }); var vectorSource = new ol.source.Vector({ format: new ol.format.GeoJSON(), url: function (extent) { return &quot;http://172.18.109.232:8080/68DE38F71E38CD8C508FAB3035752EA8ED8F9221EDE18FDBE593B01FCDD12BD296F09FE27CD7D2733AD075EAF994851B/PBS/rest/services/lsyt_dmdz_qxbj0619/MapServer/wfs?service=wfs&amp;version=1.0.0&amp;request=getfeature&amp;typename=lsyt_dmdz_qxbj0619&amp;outputFormat=application/json&quot;; }, //strategy: bboxStrategy, }); var vector = new ol.layer.Vector({ source: vectorSource, style: new ol.style.Style({ stroke: new ol.style.Stroke({ color: &quot;rgba(0, 0, 255, 1.0)&quot;, width: 2, }), }), }); var map = new ol.Map({ target: &quot;map&quot;, layers: [tileLayer, vector], view: new ol.View({ projection: projection, }), }); map.getView().fit(bounds, map.getSize()); //ÈùûÂ∏∏ÈáçË¶Å var dragbox = new ol.interaction.DragBox(); map.addInteraction(dragbox); dragbox.on(&quot;boxend&quot;, function () { var extent = dragbox.getGeometry().getExtent(); var point = extent[0] + &quot;,&quot; + extent[1] + &quot;,&quot; + extent[0] + &quot;,&quot; + extent[1];// &quot;120.16271670916996,30.251675868508478,120.1713094144393,30.25591314629446&quot;; var qurl = &quot;http://172.18.109.232:8080/68DE38F71E38CD8C508FAB3035752EA8ED8F9221EDE18FDBE593B01FCDD12BD296F09FE27CD7D2733AD075EAF994851B/PBS/rest/services/lsyt_dmdz_qxbj0619/MapServer/wfs?service=wfs&amp;version=1.0.0&amp;request=getfeature&amp;typename=lsyt_dmdz_qxbj0619&amp;outputFormat=application/json&amp;CQL_FILTER=BBOX(geom,&quot; + point + &quot;)&quot;; $.ajax({ url: qurl, success: function (data) { console.log(data); var text = JSON.parse(data); alert(&quot;You clicked the map at &quot; + text.features[0].properties['quxian']); } }); }) &lt;/script&gt;&lt;/body&gt;&lt;/html&gt; Â±ûÊÄßÊü•ËØ¢ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115&lt;!DOCTYPE html&gt;&lt;html&gt;&lt;head&gt; &lt;meta charset=&quot;UTF-8&quot; /&gt; &lt;title&gt;Â±ûÊÄßÊü•ËØ¢&lt;/title&gt; &lt;link rel=&quot;stylesheet&quot; href=&quot;http://172.18.109.232:8082/openlayer/v3.20.1/css/ol.css&quot; type=&quot;text/css&quot; /&gt; &lt;script src=&quot;http://172.18.109.232:8082/openlayer/v3.20.1/build/ol.js&quot;&gt;&lt;/script&gt; &lt;script src=&quot;http://172.18.109.232:8082/jquery/jquery.js&quot;&gt;&lt;/script&gt;&lt;/head&gt;&lt;body&gt; &lt;div id=&quot;map&quot; class=&quot;map&quot;&gt;&lt;/div&gt; &lt;script&gt; var format = &quot;image/png&quot;; var bounds = [ 119.347618103027, 29.7052669525146, 120.698570251465, 30.5366992950439, ]; var projection = new ol.proj.Projection({ code: &quot;EPSG:4490&quot;, units: &quot;degrees&quot;, axisOrientation: &quot;neu&quot;, global: true, }); var fullExtent = [ 118.33968849655, 29.188589472, 120.71408849655, 30.5651894750343, ]; var resolutions = [ 0.00549933137239034, 0.00274966568619517, 0.00137483284309758, 0.000687416421548792, 0.000343708210774396, 0.000171854105387198, 8.5927052693599e-5, 4.29635263467995e-5, 2.14817631733998e-5, 1.07408815866999e-5, 5.37044079334994e-6, 2.68522039667497e-6, 1.34261019833748e-6, ]; var tileGrid = new ol.tilegrid.TileGrid({ tileSize: 256, origin: [118.122911693886, 31.2869311022836], extent: fullExtent, resolutions: resolutions, }); // ol.source.XYZÊ∑ªÂä†Áì¶ÁâáÂú∞ÂõæÁöÑÂ±Ç var tileLayer = new ol.layer.Tile({ source: new ol.source.XYZ({ tileGrid: tileGrid, tileUrlFunction: function (tileCoord) { var z = tileCoord[0]; var x = tileCoord[1]; var y = -tileCoord[2] - 1; var url = &quot;http://172.18.109.232:8080/68DE38F71E38CD8C508FAB3035752EA8ED8F9221EDE18FDBE593B01FCDD12BD296F09FE27CD7D2733AD075EAF994851B/PBS/rest/services/hzsyvector/Mapserver/tile/&quot; + z + &quot;/&quot; + y + &quot;/&quot; + x; //console.log(url); return url; }, projection: &quot;EPSG:4490&quot;, }), }); var vectorSource = new ol.source.Vector({ format: new ol.format.GeoJSON(), url: function (extent) { return &quot;http://172.18.109.232:8080/68DE38F71E38CD8C508FAB3035752EA8ED8F9221EDE18FDBE593B01FCDD12BD296F09FE27CD7D2733AD075EAF994851B/PBS/rest/services/lsyt_dmdz_qxbj0619/MapServer/wfs?service=wfs&amp;version=1.0.0&amp;request=getfeature&amp;typename=lsyt_dmdz_qxbj0619&amp;outputFormat=application/json&quot;; }, //strategy: bboxStrategy, }); var vector = new ol.layer.Vector({ source: vectorSource, style: new ol.style.Style({ stroke: new ol.style.Stroke({ color: &quot;rgba(0, 0, 255, 1.0)&quot;, width: 2, }), }), }); var map = new ol.Map({ target: &quot;map&quot;, layers: [tileLayer, vector], view: new ol.View({ projection: projection, }), }); map.getView().fit(bounds, map.getSize()); //ÈùûÂ∏∏ÈáçË¶Å map.on(&quot;click&quot;, function (e) { var location = e.coordinate; var point = location[0] + &quot;,&quot; + location[1] + &quot;,&quot; + location[0] + &quot;,&quot; + location[1];// &quot;120.16271670916996,30.251675868508478,120.1713094144393,30.25591314629446&quot;; var qurl = &quot;http://172.18.109.232:8080/68DE38F71E38CD8C508FAB3035752EA8ED8F9221EDE18FDBE593B01FCDD12BD296F09FE27CD7D2733AD075EAF994851B/PBS/rest/services/lsyt_dmdz_qxbj0619/MapServer/wfs?service=wfs&amp;version=1.0.0&amp;request=getfeature&amp;typename=lsyt_dmdz_qxbj0619&amp;outputFormat=application/json&amp;CQL_FILTER=&quot;; qurl += &quot; quxian='‰∏äÂüéÂå∫'&quot;; $.ajax({ url: qurl, success: function (data) { console.log(data); var text = JSON.parse(data); alert(&quot;Ê†πÊçÆÂ±ûÊÄßÈÄâÊã©ÁöÑÊòØ&quot; + text.features[0].properties['quxian']); } }); }); &lt;/script&gt;&lt;/body&gt;&lt;/html&gt; ÁªÑÂêàÊü•ËØ¢ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119&lt;!DOCTYPE html&gt;&lt;html&gt;&lt;head&gt; &lt;meta charset=&quot;UTF-8&quot; /&gt; &lt;title&gt;ÁªÑÂêàÊü•ËØ¢&lt;/title&gt; &lt;link rel=&quot;stylesheet&quot; href=&quot;http://172.18.109.232:8082/openlayer/v3.20.1/css/ol.css&quot; type=&quot;text/css&quot; /&gt; &lt;script src=&quot;http://172.18.109.232:8082/openlayer/v3.20.1/build/ol.js&quot;&gt;&lt;/script&gt; &lt;script src=&quot;http://172.18.109.232:8082/jquery/jquery.js&quot;&gt;&lt;/script&gt;&lt;/head&gt;&lt;body&gt; &lt;div id=&quot;map&quot; class=&quot;map&quot;&gt;&lt;/div&gt; &lt;script&gt; var format = &quot;image/png&quot;; var bounds = [ 119.347618103027, 29.7052669525146, 120.698570251465, 30.5366992950439, ]; var projection = new ol.proj.Projection({ code: &quot;EPSG:4490&quot;, units: &quot;degrees&quot;, axisOrientation: &quot;neu&quot;, global: true, }); var fullExtent = [ 118.33968849655, 29.188589472, 120.71408849655, 30.5651894750343, ]; var resolutions = [ 0.00549933137239034, 0.00274966568619517, 0.00137483284309758, 0.000687416421548792, 0.000343708210774396, 0.000171854105387198, 8.5927052693599e-5, 4.29635263467995e-5, 2.14817631733998e-5, 1.07408815866999e-5, 5.37044079334994e-6, 2.68522039667497e-6, 1.34261019833748e-6, ]; var tileGrid = new ol.tilegrid.TileGrid({ tileSize: 256, origin: [118.122911693886, 31.2869311022836], extent: fullExtent, resolutions: resolutions, }); // ol.source.XYZÊ∑ªÂä†Áì¶ÁâáÂú∞ÂõæÁöÑÂ±Ç var tileLayer = new ol.layer.Tile({ source: new ol.source.XYZ({ tileGrid: tileGrid, tileUrlFunction: function (tileCoord) { var z = tileCoord[0]; var x = tileCoord[1]; var y = -tileCoord[2] - 1; var url = &quot;http://172.18.109.232:8080/68DE38F71E38CD8C508FAB3035752EA8ED8F9221EDE18FDBE593B01FCDD12BD296F09FE27CD7D2733AD075EAF994851B/PBS/rest/services/hzsyvector/Mapserver/tile/&quot; + z + &quot;/&quot; + y + &quot;/&quot; + x; //console.log(url); return url; }, projection: &quot;EPSG:4490&quot;, }), }); var vectorSource = new ol.source.Vector({ format: new ol.format.GeoJSON(), url: function (extent) { return &quot;http://172.18.109.232:8080/68DE38F71E38CD8C508FAB3035752EA8ED8F9221EDE18FDBE593B01FCDD12BD296F09FE27CD7D2733AD075EAF994851B/PBS/rest/services/lsyt_dmdz_qxbj0619/MapServer/wfs?service=wfs&amp;version=1.0.0&amp;request=getfeature&amp;typename=lsyt_dmdz_qxbj0619&amp;outputFormat=application/json&quot;; }, //strategy: bboxStrategy, }); var vector = new ol.layer.Vector({ source: vectorSource, style: new ol.style.Style({ stroke: new ol.style.Stroke({ color: &quot;rgba(0, 0, 255, 1.0)&quot;, width: 2, }), }), }); var map = new ol.Map({ target: &quot;map&quot;, layers: [tileLayer, vector], view: new ol.View({ projection: projection, }), }); map.getView().fit(bounds, map.getSize()); //ÈùûÂ∏∏ÈáçË¶Å map.on(&quot;click&quot;, function (e) { var location = e.coordinate; var point = location[0] + &quot;,&quot; + location[1] + &quot;,&quot; + location[0] + &quot;,&quot; + location[1];// &quot;120.16271670916996,30.251675868508478,120.1713094144393,30.25591314629446&quot;; var qurl = &quot;http://172.18.109.232:8080/68DE38F71E38CD8C508FAB3035752EA8ED8F9221EDE18FDBE593B01FCDD12BD296F09FE27CD7D2733AD075EAF994851B/PBS/rest/services/lsyt_dmdz_qxbj0619/MapServer/wfs?service=wfs&amp;version=1.0.0&amp;request=getfeature&amp;typename=lsyt_dmdz_qxbj0619&amp;outputFormat=application/json&amp;CQL_FILTER=BBOX(geom,&quot; + point + &quot;)&quot;; qurl += &quot; and quxian='‰∏äÂüéÂå∫'&quot;; $.ajax({ url: qurl, success: function (data) { console.log(data); var text = JSON.parse(data); if (!text.features.length) { alert(&quot;‰Ω†ÈÄâÊã©ÁöÑÊòØÈùû‰∏äÂüéÂå∫ÔºåÊó†Êü•ËØ¢ÁªìÊûúÔºÅ&quot;); } else { alert(&quot;‰Ω†ÈÄâÊã©ÁöÑÊòØ &quot; + text.features[0].properties[&quot;quxian&quot;]); } } }); }); &lt;/script&gt;&lt;/body&gt;&lt;/html&gt; Cygwin windows‰ΩøÁî®linuxÁéØÂ¢ÉÔºàÈÉ®ÂàÜÊú∫ÂûãÂ§±Ë¥•Ôºâ Tippecanoe TippecanoeÊòØMapboxÁöÑ‰∏Ä‰∏™ÂºÄÊ∫êÂàáÁâáÂ∑•ÂÖ∑ÔºåÈ°πÁõÆÂú∞ÂùÄÔºöhttps://github.com/mapbox/tippecanoeÔºåMapboxÂ∏∏ËßÑÁöÑÂàáÁâáÊñπÊ≥ïtilelive-copyÂèÇËßÅÂè¶‰∏ÄÁØáÂçöÂÆ¢„ÄÇTippecanoe‰∏ªË¶ÅÂú®Â§ÑÁêÜÂ§ßÊï∞ÊçÆÈáèÊó∂ÊúâÂæàÂ§ßÁöÑ‰ºòÂäøÔºåÂÖ∑ÊúâÂæàÈ´òÁöÑÊïàÁéáÔºåÂπ∂‰∏îÊúâÂæàÂ§öÂèÇÊï∞ÂèØ‰ª•ÊéßÂà∂„ÄÇTippecanoeÂè™ËÉΩÂ§ÑÁêÜGeoJSONÔºåÂõ†Ê≠§Âú®ÂàáÁâáÂâçÈúÄË¶ÅÂ∞ÜÁü¢ÈáèÊï∞ÊçÆËΩ¨Êç¢‰∏∫GeoJSONÔºåÊé®Ëçê‰ΩøÁî®ogr2ogrÂ∑•ÂÖ∑ËΩ¨Êç¢„ÄÇÂàáÁâá‰ª•ÂêéÁöÑÊ†ºÂºè‰∏∫mbtilesÔºåÂèØËá™Ë°åÂØºÂÖ•mongodbÁ≠âÊï∞ÊçÆÂ∫ì„ÄÇ ÁõÆÁöÑÔºöÊ†πÊçÆ‰Ω†ÁöÑÊï∞ÊçÆÂàõÈÄ†‰∏Ä‰∏™ÂèØËá™Áî±Áº©ÊîæÁöÑËßÜÂõæ ÂºïÁî®Âú∞ÂùÄÔºöhttps://my.oschina.net/u/1464512/blog/1631972 Â∏∏Áî®tippecanoeÂèÇÊï∞ËÆæÁΩÆ GEOJSON GeoSever GeoServerÊòØOGC WebÊúçÂä°Âô®ËßÑËåÉÁöÑJ2EEÂÆûÁé∞ÔºåÂà©Áî®GeoServerÂèØ‰ª•Êñπ‰æøÂú∞ÂèëÂ∏ÉÂú∞ÂõæÊï∞ÊçÆÔºåÂÖÅËÆ∏Áî®Êà∑ÂØπÁâπÂæÅÊï∞ÊçÆËøõË°åÊõ¥Êñ∞„ÄÅÂà†Èô§„ÄÅÊèíÂÖ•Êìç‰ΩúÔºåÈÄöËøáGeoServerÂèØ‰ª•ÊØîËæÉÂÆπÊòìÂú∞Âú®Áî®Êà∑‰πãÈó¥ËøÖÈÄüÂÖ±‰∫´Á©∫Èó¥Âú∞ÁêÜ‰ø°ÊÅØ„ÄÇGeoServerÊòØÂºÄÊ∫êËΩØ‰ª∂„ÄÇ GeoServer‰∏ªË¶ÅÂåÖÂê´Â¶Ç‰∏ã‰∏Ä‰∫õÁâπÁÇπÔºö ÂÖºÂÆπWMSÂíåWFSÁâπÊÄß ÊîØÊåÅPostGIS„ÄÅShapefile„ÄÅArcSDE„ÄÅOracle„ÄÅVPF„ÄÅMySQL„ÄÅMapInfo ÊîØÊåÅ‰∏äÁôæÁßçÊäïÂΩ± ËÉΩÂ§üÂ∞ÜÁΩëÁªúÂú∞ÂõæËæìÂá∫‰∏∫JPEG„ÄÅGIF„ÄÅPNG„ÄÅSVG„ÄÅKMLÁ≠âÊ†ºÂºè ËÉΩÂ§üËøêË°åÂú®‰ªª‰ΩïÂü∫‰∫éJ2EE/ServletÂÆπÂô®‰πã‰∏ä ÂµåÂÖ•MapBuilderÊîØÊåÅAJAXÁöÑÂú∞ÂõæÂÆ¢Êà∑Á´ØOpenLayers ÂºïÁî®Âú∞ÂùÄ WMS &amp;&amp; WFS WMSÊòØÁî±ÊúçÂä°Âô®Â∞Ü‰∏ÄÂú∞ÂõæÂõæÂÉèÂèëÈÄÅÁªôÂÆ¢Êà∑Á´ØÔºåËÄåWFSÊòØÊúçÂä°Âô®Â∞ÜÁü¢ÈáèÊï∞ÊçÆÂèëÈÄÅÁªôÂÆ¢Êà∑Á´ØÔºå‰πüÂ∞±ÊòØÂú®‰ΩøÁî®WMSÊó∂Âú∞ÂõæÁî±ÊúçÂä°Âô®ÁªòÂà∂ÔºåÂú®‰ΩøÁî®WFSÊó∂Âú∞ÂõæÁî±ÂÆ¢Êà∑Á´ØÁªòÂà∂„ÄÇ WMS 1.2.1 WMSÊúçÂä°ÁÆÄ‰ªã Web Map ServiceÔºàÁΩëÁªúÂú∞ÂõæÊúçÂä°ÔºâÔºåÁÆÄÁß∞WMSÔºåÁî±ÂºÄÊîæÂú∞ÁêÜ‰ø°ÊÅØËÅîÁõüÔºàOpen GeoSpatial ConsortiumÔºåOGCÔºâÂà∂ÂÆö„ÄÇËØ•ËßÑËåÉÂÆö‰πâ‰∫ÜWebÂÆ¢Êà∑Á´Ø‰ªéÁΩëÁªúÂú∞ÂõæÊúçÂä°Âô®Ëé∑ÂèñÂú∞ÂõæÁöÑÊé•Âè£Ê†áÂáÜ„ÄÇ‰∏Ä‰∏™WMSÂèØ‰ª•Âä®ÊÄÅÂú∞ÁîüÊàêÂÖ∑ÊúâÂú∞ÁêÜÂèÇËÄÉÊï∞ÊçÆÁöÑÂú∞ÂõæÔºåËøô‰∫õÂú∞ÂõæÈÄöÂ∏∏Áî®GIF„ÄÅJPEGÊàñPNGÁ≠âÂõæÂÉèÊ†ºÂºèÁ≠âÔºå‰ΩøÁî®ËÄÖÈÄöËøáÊåáÂÆöÁöÑÂèÇÊï∞Ëé∑ÂèñÁõ∏Â∫îÁöÑÂú∞ÂõæÂõæÁâá„ÄÇ 1.2.2 ÊúçÂä°Êìç‰ΩúÂàóË°® WMSÂÆûÁé∞ËßÑËåÉÁî±‰∏â‰∏™Âü∫Á°ÄÊÄßÊìç‰ΩúÂçèËÆÆ(GetCapabilitiesÔºåGetMapÂíåGetFeatureInfo)ÁªÑÊàêÔºåËøô‰∫õÂçèËÆÆÂÖ±ÂêåÊûÑÊàê‰∫ÜÂà©Áî®WMSÂàõÂª∫ÂíåÂè†Âä†ÊòæÁ§∫‰∏çÂêåÊù•Ê∫êÁöÑËøúÁ®ãÂºÇÊûÑÂú∞ÂõæÊúçÂä°ÁöÑÂü∫Á°Ä„ÄÇWMSÊúçÂä°Êìç‰ΩúÂàóË°®ËßÅ‰∏ãË°®ÊâÄÁ§∫„ÄÇ Êìç‰Ωú ÂÆûÁé∞Ë¶ÅÊ±Ç ÊèèËø∞ GetCapabilities Âº∫Âà∂ÂÆûÁé∞ ÊöÇÂÖ≥Èó≠ GetMap Âº∫Âà∂ÂÆûÁé∞ Ëé∑ÂèñÂú∞ÂõæÂõæÁâá„ÄÇËØ•Êìç‰ΩúÊ†πÊçÆÂÆ¢Êà∑Á´ØÂèëÂá∫ÁöÑËØ∑Ê±ÇÂèÇÊï∞Âú®ÊúçÂä°Á´ØËøõË°åÊ£ÄÁ¥¢ÔºåÊúçÂä°Âô®Á´ØËøîÂõû‰∏Ä‰∏™Âú∞ÂõæÂõæÂÉèÔºåÂÖ∂Âú∞ÁêÜÁ©∫Èó¥ÂèÇÊï∞ÂíåÂ§ßÂ∞èÂèÇÊï∞ÊòØÂ∑≤ÁªèÊòéÁ°ÆÂÆö‰πâÁöÑÔºåËøîÂõûÁöÑÂú∞ÂõæÂõæÂÉèÂèØ‰ª•ÊòØGIF„ÄÅJPEG„ÄÅPNGÊàñSVGÊ†ºÂºè„ÄÇ GetFeatureInfo ÈÄâÊã©ÂÆûÁé∞ 1.2.3ÊúçÂä°Êìç‰ΩúÁöÑÂèÇÊï∞ÂàóË°® ÂèÇÊï∞ÂêçÁß∞ ÂèÇÊï∞‰∏™Êï∞ ÂèÇÊï∞Á±ªÂûãÂíåÂÄº service 1‰∏™(ÂøÖÈÄâ) Â≠óÁ¨¶Á±ªÂûãÔºåÊúçÂä°Á±ªÂûãÂÄº‰∏∫‚ÄúWMS‚Äù request 1‰∏™(ÂøÖÈÄâ) Â≠óÁ¨¶Á±ªÂûãÔºåËØ∑Ê±ÇÁöÑÊìç‰ΩúÂêçÁß∞ÔºåÂÄº‰∏∫‚ÄúGetCapabilities‚Äù version 0Êàñ1‰∏™(ÂèØÈÄâ) Â≠óÁ¨¶Á±ªÂûãÔºåÂÄº‰∏∫ËØ∑Ê±ÇÁöÑWMSÁöÑÁâàÊú¨Âè∑ format 0Êàñ1‰∏™(ÂèØÈÄâ) MIMEÁ±ªÂûãÔºåÂÄº‰∏∫ÊúçÂä°ÂÖÉÊï∞ÊçÆÁöÑËæìÂá∫Ê†ºÂºè GetMapÊìç‰ΩúËØ∑Ê±ÇÊñπÊ≥ïÂÆûÁé∞ÂèÇÊï∞ ÂèÇÊï∞ÂêçÁß∞ ÂèÇÊï∞‰∏™Êï∞ ÂèÇÊï∞Á±ªÂûãÂíåÂÄº service 1‰∏™(ÂøÖÈÄâ) Â≠óÁ¨¶Á±ªÂûãÔºåÊúçÂä°Á±ªÂûãÊ†áËØÜÂÄº‰∏∫‚ÄúWMS‚Äù request 1‰∏™(ÂøÖÈÄâ) Â≠óÁ¨¶Á±ªÂûãÔºåÂÄº‰∏∫‚ÄúGetMap‚Äù version 1‰∏™(ÂøÖÈÄâ) Â≠óÁ¨¶Á±ªÂûãÔºåÂÄº‰∏∫ËØ∑Ê±ÇÁöÑWMSÁöÑÁâàÊú¨Âè∑ layers 1‰∏™(ÂøÖÈÄâ) Â≠óÁ¨¶Á±ªÂûãÔºåÂÄº‰∏∫‰∏Ä‰∏™ÊàñÂ§ö‰∏™Âú∞ÂõæÂõæÂ±ÇÂàóË°®ÔºåÂ§ö‰∏™ÂõæÂ±Ç‰πãÈó¥Áî®‚Äù,‚ÄùÈöîÂºÄ styles 1‰∏™(ÂøÖÈÄâ) Â≠óÁ¨¶Á±ªÂûãÔºåÂÄº‰∏∫ËØ∑Ê±ÇÂõæÂ±ÇÁöÑÂú∞ÂõæÊ∏≤ÊüìÊ†∑Âºè CRS 1‰∏™(ÂøÖÈÄâ) Â≠óÁ¨¶Á±ªÂûãÔºåÂÄº‰∏∫ÂùêÊ†áÂèÇÁÖßÁ≥ªÁªü BBOX 1‰∏™(ÂøÖÈÄâ) WktÊ†ºÂºèÔºåÂÄº‰∏∫Êüê‰∏™CRS‰∏ãÁöÑÂú∞ÂõæËæπÁïåËåÉÂõ¥ÁöÑÂùêÊ†áÂ∫èÂàó width 1‰∏™(ÂøÖÈÄâ) Êï¥ÂûãÁ±ªÂûãÔºåÂÄº‰∏∫Âú∞ÂõæÂõæÁâáÁöÑÂÉèÁ¥†ÂÆΩÂ∫¶ height 1‰∏™(ÂøÖÈÄâ) Êï¥ÂûãÁ±ªÂûãÔºåÂÄº‰∏∫Âú∞ÂõæÂõæÁâáÁöÑÂÉèÁ¥†È´òÂ∫¶ format 1‰∏™(ÂøÖÈÄâ) Â≠óÁ¨¶Á±ªÂûãÔºåÂÄº‰∏∫Âú∞ÂõæÁöÑËæìÂá∫Ê†ºÂºè transparent 0Êàñ1‰∏™(ÂèØÈÄâ) Â≠óÁ¨¶Á±ªÂûãÔºåÂÄº‰∏∫trueÊàñËÄÖfalseÔºåÁî®Êù•Ë°®Á§∫Âú∞ÂõæÂõæÂ±ÇÊòØÂê¶ÈÄèÊòé(ÈªòËÆ§ÊÉÖÂÜµ‰∏ãÊòØ‰∏çÈÄèÊòéÁöÑ) filter 0Êàñ1‰∏™(ÂèØÈÄâ) ËØ∑Ê±ÇË¶ÅÁ¥†ÁöÑËøáÊª§Êù°‰ª∂ 1.2.4 Êé•Âè£Ë∞ÉÁî®Á§∫‰æã ÂÆû‰æãÂêçÁß∞ Ë∞ÉÁî®ÂÆû‰æã GetCapabilities ÊöÇÂÖ≥Èó≠ GetMap http://172.18.109.232:8080/68DE38F71E38CD8C508FAB3035752EA8ED8F9221EDE18FDBE593B01FCDD12BD296F09FE27CD7D2733AD075EAF994851B/PBS/rest/services/lsyt_dmdz_csbj0619/MapServer/wms?SERVICE=WMS&amp;VERSION=1.1.1&amp;REQUEST=GetMap&amp;FORMAT=image%2Fpng&amp;TRANSPARENT=true&amp;LAYERS=gpserver%3Alsyt_dmdz_csbj0619&amp;CQL_FILTER=quxian%3D'Êª®Ê±üÂå∫'&amp;SRS=EPSG%3A4490&amp;STYLES=&amp;WIDTH=768&amp;HEIGHT=546&amp;BBOX=120.05413055419922%2C30.084686279296875%2C120.31780242919922%2C30.272140502929688 WFS 1.3.1 WFSÊúçÂä°ÁÆÄ‰ªã Web Feature ServiceÔºàÁΩëÁªúË¶ÅÁ¥†ÊúçÂä°ÔºâÔºåÁÆÄÁß∞WFSÔºåÁî±ÂºÄÊîæÂú∞ÁêÜ‰ø°ÊÅØËÅîÁõüÔºàOpen GeoSpatial ConsortiumÔºåOGCÔºâÂà∂ÂÆö„ÄÇËØ•ËßÑËåÉ‰∏ªË¶ÅÂØπOpenGISÁÆÄÂçïË¶ÅÁ¥†ÁöÑÊï∞ÊçÆÁºñËæëÊìç‰ΩúËøõË°åËßÑËåÉÔºå‰ªéËÄå‰ΩøÊúçÂä°Âô®Á´ØÂíåÂÆ¢Êà∑Á´ØËÉΩÂ§üÂú®Ë¶ÅÁ¥†Â±ÇÈù¢ËøõË°å‚ÄúÈÄöËÆØ‚Äù„ÄÇÂÖ∂ËøîÂõûÁªìÊûúÁöÑÊòØXMLÊ†ºÂºèÁöÑWFSÊúçÂä°ÂÖÉÊï∞ÊçÆÊñáÊ°£ÔºåÈÄöËøáËØ•ÊñáÊ°£Áî®Êà∑ËÉΩÂ§ü‰∫ÜËß£ÔºöWFSÊúçÂä°Âô®ÊîØÊåÅÁöÑÊâÄÊúâÊìç‰ΩúÊìç‰ΩúÂàóË°®ÔºåGetFeatureÊìç‰ΩúËøîÂõûÁöÑÊï∞ÊçÆÊ†ºÂºèÔºåÂèØÁî®ÁöÑÂùêÊ†áÂèÇÁÖßÁ≥ªÁªüÂàóË°®ÔºåÊìç‰ΩúÂºÇÂ∏∏‰ø°ÊÅØÁöÑÂàóË°®ÔºåWFSÊúçÂä°Êèê‰æõÂïÜÁöÑÁõ∏ÂÖ≥‰ø°ÊÅØÔºåWFSÊúçÂä°Âô®ÁöÑÂèØÁî®Ë¶ÅÁ¥†Á±ªÂàóË°®Á≠â„ÄÇ 1.3.2 ÊúçÂä°Êìç‰ΩúÂàóË°® WFSÊúçÂä°Êé•Âè£ËßÑËåÉÂÆö‰πâ‰∫ÜGetCapabilitiesÔºåDescribeFeatureType„ÄÅGetFeature„ÄÅTransactionÁ≠âÊìç‰Ωú„ÄÇÂÖ∂‰∏≠GetCapabilitiesÔºåDescribeFeatureTypeÂíåGetFeature‰∏∫ÂøÖÈ°ªÂÆûÁé∞ÁöÑÊìç‰ΩúÔºå‰πüÂç≥Âè™Ë¶ÅÂÆûÁé∞‰∫ÜËøô‰∏â‰∏™Êìç‰ΩúÁöÑÊúçÂä°ÂùáÂèØÁß∞‰∏∫WFSÊúçÂä°„ÄÇWFSÁöÑÊìç‰ΩúËßÅ‰∏ãË°®ÊâÄÁ§∫„ÄÇ Êìç‰Ωú ÂÆûÁé∞Ë¶ÅÊ±Ç ÊèèËø∞ GetCapabilities Âº∫Âà∂ÂÆûÁé∞ GetCapabilitiesËØ∑Ê±ÇÁî®‰∫éÊü•ËØ¢WFSÊúçÂä°ÁöÑËÉΩÂäõ‰ø°ÊÅØÔºåÂåÖÊã¨ÊîØÊåÅÁöÑÊìç‰Ωú„ÄÅÊîØÊåÅÁöÑÊ†ºÂºè„ÄÅÁ©∫Èó¥ÂùêÊ†á„ÄÅÂåÖÂê´ÁöÑËµÑÊ∫êÁ≠â„ÄÇÂÆÉ‰∏ªË¶ÅÁöÑÁõÆÁöÑÊòØ‰ΩøÂÆ¢Êà∑Á´ØÂú®‰ΩøÁî®GetFeatureËØ∑Ê±ÇÂâçÂèØ‰ª•ÂØπWFSÊúçÂä°Êúâ‰∏Ä‰∏™Âü∫Êú¨ÁöÑ‰∫ÜËß£Ôºå‰ªéËÄåÂèØ‰ª•ËÆæÁΩÆÊ≠£Á°ÆÁöÑÂèÇÊï∞„ÄÇ DescribeFeatureType Âº∫Âà∂ÂÆûÁé∞ Áî®‰∫éÁîüÊàê‰∏Ä‰∏™ Schema ÊèèËø∞ÔºåËØ• Schema ÊèèËø∞‰∫Ü WFS ÊúçÂä°Êèê‰æõÁöÑË¶ÅÁ¥†Á±ªÂûãÔºàFeature TypeÔºâÔºå‰ª•ÂèäË¶ÅÁ¥†Á±ªÂûãÁöÑÁªìÊûÑ‰ø°ÊÅØ„ÄÇËØ• Schema ËøòÂÆö‰πâ‰∫Ü WFS ÊúçÂä°ÊâÄÊúüÊúõÁöÑË¶ÅÁ¥†ÂÆû‰æãÂú®ËæìÂÖ•Êó∂Â¶Ç‰ΩïÁºñÁ†Å‰ª•ÂèäËæìÂá∫Êó∂Â¶Ç‰ΩïÁîüÊàêË¶ÅÁ¥†ÂÆû‰æã„ÄÇ GetFeature Âº∫Âà∂ÂÆûÁé∞ GetFeatureÁî®‰∫éÂêëWFSÁöÑÂÆ¢Êà∑Á´ØÁ®ãÂ∫èÊèê‰æõÊü•ËØ¢ÁâπÂÆöÂú∞ÁêÜ‰ø°ÊÅØÁöÑËÉΩÂäõÔºåÈÄöËøáGetFeatureÊìç‰ΩúÂèØ‰ª•Áî±ÊåáÂÆöÁöÑÂ±ûÊÄßÊù°‰ª∂„ÄÅÁ©∫Èó¥Êù°‰ª∂ÊàñËÄÖ‰∏§ËÄÖÂè†Âä†ÁöÑÊù°‰ª∂ËøõË°åÁ©∫Èó¥Êü•ËØ¢„ÄÇ Transaction ÈÄâÊã©ÂÆûÁé∞ ÂÖÅËÆ∏TransactionÊìç‰ΩúÔºå‰ΩøÂÆ¢Êà∑Á´ØÂèØÂØπÊúçÂä°Âô®Á´ØÊâÄÊèê‰æõÁöÑÂú∞ÂõæË¶ÅÁ¥†Á±ªÊâßÊèíÂÖ•ÔºåÊõ¥Êñ∞ÔºåÂà†Èô§Á≠âÂëΩ‰ª§ 1.3.3ÊúçÂä°Êìç‰ΩúÁöÑÂèÇÊï∞ÂàóË°® GetCapabilitiesÊìç‰ΩúËØ∑Ê±ÇÊñπÊ≥ïÂÆûÁé∞ÂèÇÊï∞ ÂèÇÊï∞ÂêçÁß∞ ÂèÇÊï∞‰∏™Êï∞ ÂèÇÊï∞Á±ªÂûãÂíåÂÄº service 1‰∏™(ÂøÖÈÄâ) Â≠óÁ¨¶Á±ªÂûãÔºåÊúçÂä°Á±ªÂûãÂÄº‰∏∫‚ÄúWFS‚Äù request 1‰∏™(ÂøÖÈÄâ) Â≠óÁ¨¶Á±ªÂûãÔºåËØ∑Ê±ÇÁöÑÊìç‰ΩúÂêçÁß∞ÔºåÂÄº‰∏∫‚ÄúGetCapabilities‚Äù versions 0Êàñ1‰∏™(ÂèØÈÄâ) Â≠óÁ¨¶Á±ªÂûãÔºåÂÄº‰∏∫ËØ∑Ê±ÇÁöÑWFSÁöÑÁâàÊú¨Âè∑ DescribeFeatureTypeÊìç‰ΩúËØ∑Ê±ÇÊñπÊ≥ïÂÆûÁé∞ÂèÇÊï∞ ÂèÇÊï∞ÂêçÁß∞ ÂèÇÊï∞‰∏™Êï∞ ÂèÇÊï∞Á±ªÂûãÂíåÂÄº service 1‰∏™(ÂøÖÈÄâ) Â≠óÁ¨¶Á±ªÂûãÔºåÊúçÂä°Á±ªÂûãÂÄº‰∏∫‚ÄúWFS‚Äù request 1‰∏™(ÂøÖÈÄâ) Â≠óÁ¨¶Á±ªÂûãÔºåËØ∑Ê±ÇÁöÑÊìç‰ΩúÂêçÁß∞ÔºåÂÄº‰∏∫‚ÄúDescribeFeatureType‚Äù typeName 0Êàñ1‰∏™(ÂèØÈÄâ) Â≠óÁ¨¶Á±ªÂûãÔºåÂÄº‰∏∫Ë¶ÅÁ¥†Á±ªÂûãÁöÑÂàóË°®ÔºåÂ§ö‰∏™ÂÄº‰πãÈó¥Áî®‚ÄúÔºå‚ÄùÈöîÂºÄÔºåÈªòËÆ§Ëß£ÊûêÂåÖÊã¨ÁöÑÂÖ®ÈÉ®Ë¶ÅÁ¥†Á±ªÂûã outputFormat 0Êàñ1‰∏™(ÂèØÈÄâ) MIMEÁ±ªÂûãÔºåÂÄº‰∏∫ËæìÂá∫Ê†ºÂºè GetFeatureÊìç‰ΩúËØ∑Ê±ÇÊñπÊ≥ïÂÆûÁé∞ÂèÇÊï∞ ÂèÇÊï∞ÂêçÁß∞ ÂèÇÊï∞‰∏™Êï∞ ÂèÇÊï∞Á±ªÂûãÂíåÂÄº service 1‰∏™(ÂøÖÈÄâ) Â≠óÁ¨¶Á±ªÂûãÔºåÊúçÂä°Á±ªÂûãÊ†áËØÜÂÄº‰∏∫‚ÄúWFS‚Äù request 1‰∏™(ÂøÖÈÄâ) Â≠óÁ¨¶Á±ªÂûãÔºåËØ∑Ê±ÇÁöÑÊìç‰ΩúÂÄº‰∏∫‚ÄúGetFeature‚Äù typeName 1‰∏™(ÂøÖÈÄâ) Â≠óÁ¨¶Á±ªÂûãÔºåÂÄº‰∏∫ËØ∑Ê±ÇÁöÑË¶ÅÁ¥†Á±ªÂûãÁöÑÂêçÁß∞ÔºåÂ§ö‰∏™ÂêçÁß∞‰πãÈó¥Áî®‚ÄúÔºå‚ÄùÈöîÂºÄ version 0Êàñ1‰∏™(ÂèØÈÄâ) Â≠óÁ¨¶Á±ªÂûãÔºåÂÄº‰∏∫ËØ∑Ê±ÇÁöÑWFSÁöÑÁâàÊú¨Âè∑ outputFormat 0Êàñ1‰∏™(ÂèØÈÄâ) MIMEÁ±ªÂûãÔºåÂÄº‰∏∫ËæìÂá∫Ê†ºÂºè resultType 0Êàñ1‰∏™(ÂèØÈÄâ) Â≠óÁ¨¶Á±ªÂûãÔºåÂÄº‰∏∫ËØ∑Ê±ÇÁöÑÁªìÊûúÁ±ªÂûã propertyName 0Êàñ1‰∏™(ÂèØÈÄâ) Â≠óÁ¨¶Á±ªÂûãÔºåÂÄº‰∏∫ËØ∑Ê±ÇË¶ÅÁ¥†ÁöÑÂ±ûÊÄßÂêçÔºåÂ§ö‰∏™ÂÄº‰πãÈó¥Áî®‚ÄúÔºå‚ÄùÈöîÂºÄ featureVersion 0Êàñ1‰∏™(ÂèØÈÄâ) Â≠óÁ¨¶Á±ªÂûãÔºåÂÄº‰∏∫Ë¶ÅÁ¥†ÁöÑÁâàÊú¨ÔºåÂÄº‰∏∫ALLËøîÂõûËØ∑Ê±ÇÁöÑË¶ÅÁ¥†ÁöÑÊâÄÊúâÁâàÊú¨ÔºåÊ≤°ÊúâÂÄºÈªòËÆ§‰∏∫ËøîÂõûËØ∑Ê±ÇË¶ÅÁ¥†ÁöÑÊúÄÊñ∞ÁâàÊú¨ maxFeature 0Êàñ1‰∏™(ÂèØÈÄâ) Êï¥ÂûãÁ±ªÂûãÔºåÂÄº‰∏∫ËØ∑Ê±ÇË¶ÅÁ¥†ÁöÑÊúÄÂ§ßÊï∞ÔºåÈªòËÆ§ÂÄº‰∏∫Êª°Ë∂≥Êü•ËØ¢ÁöÑÊâÄÊúâÁªìÊûúÈõÜ expiry 0Êàñ1‰∏™(ÂèØÈÄâ) Êï∞Â≠óÁ±ªÂûãÔºåË¶ÅÁ¥†Ë¢´ÈîÅÂÆöÁöÑÊó∂Èó¥ SRSName 0Êàñ1‰∏™(ÂèØÈÄâ) Â≠óÁ¨¶Á±ªÂûãÔºåÂÄº‰∏∫ÂùêÊ†áÁ≥ªÁªüÂêç featureID 0Êàñ1‰∏™(ÂèØÈÄâ) Â≠óÁ¨¶Á±ªÂûãÔºåÂÄº‰∏∫Ë¶ÅÁ¥†ÁöÑIDÔºåÂ§ö‰∏™ID‰πãÈó¥Áî®‚ÄúÔºå‚ÄùÈöîÂºÄ filter 0Êàñ1‰∏™(ÂèØÈÄâ) ËØ∑Ê±ÇË¶ÅÁ¥†ÁöÑËøáÊª§Êù°‰ª∂ bBox 0Êàñ1‰∏™(ÂèØÈÄâ) WktÊ†ºÂºèÔºåËØ∑Ê±ÇÊåáÂÆöË¶ÅÁ¥†Êü•ËØ¢ËåÉÂõ¥ÔºåÂèØ‰ª•Êõø‰ª£featureIdÂíåfilterÂèÇÊï∞ 1.3.4 Êé•Âè£Ë∞ÉÁî®Á§∫‰æã ÂÆû‰æãÂêçÁß∞ Ë∞ÉÁî®ÂÆû‰æã GetCapabilities http://172.18.109.232:8080/68DE38F71E38CD8C508FAB3035752EA8ED8F9221EDE18FDBE593B01FCDD12BD296F09FE27CD7D2733AD075EAF994851B/PBS/rest/services/lsyt_dmdz_csbj0619/MapServer/wfs?service=wfs&amp;version=1.1.0&amp;request=getcapabilities DescribeFeatureType http://172.18.109.232:8080/68DE38F71E38CD8C508FAB3035752EA8ED8F9221EDE18FDBE593B01FCDD12BD296F09FE27CD7D2733AD075EAF994851B/PBS/rest/services/lsyt_dmdz_qxbj0619/MapServer/wfs?service=wfs&amp;version=1.1.0&amp;request=describefeaturetype&amp;typename=lsyt_dmdz_csbj0619 GetFeature http://172.18.109.232:8080/68DE38F71E38CD8C508FAB3035752EA8ED8F9221EDE18FDBE593B01FCDD12BD296F09FE27CD7D2733AD075EAF994851B/PBS/rest/services/lsyt_dmdz_csbj0619/MapServer/wfs?service=wfs&amp;version=1.1.0&amp;request=getfeature&amp;typename=lsyt_dmdz_csbj0619&amp;outputFormat=json&amp;CQL_FILTER=zhenjie='Èó≤ÊûóË°óÈÅì' WMTS WMTS 1.1 WMTSÊúçÂä°ÁÆÄ‰ªã ‚Äã Web Map Tile ServiceÔºàÁΩëÁªúÂú∞ÂõæÁì¶ÁâáÊúçÂä°ÔºâÔºåÁÆÄÁß∞WMTSÔºåÁî±ÂºÄÊîæÂú∞ÁêÜ‰ø°ÊÅØËÅîÁõüÔºàOpen GeoSpatial ConsortiumÔºåOGCÔºâÂà∂ÂÆöÔºåÊòØÂíåWMSÂπ∂ÂàóÁöÑÈáçË¶ÅOGCËßÑËåÉ‰πã‰∏Ä„ÄÇWMTSÊ†áÂáÜÂÆö‰πâ‰∫Ü‰∏Ä‰∫õÊìç‰ΩúÔºåËøô‰∫õÊìç‰ΩúÂÖÅËÆ∏Áî®Êà∑ËÆøÈóÆÂàáÁâáÂú∞ÂõæÔºåÊòØOGCÈ¶ñ‰∏™ÊîØÊåÅRESTfulËÆøÈóÆÁöÑÊúçÂä°Ê†áÂáÜ„ÄÇWMTS‰∏çÂêå‰∫éWMS,ÂÆÉÊúÄÈáçË¶ÅÁöÑÁâπÂæÅÊòØÈááÁî®ÁºìÂ≠òÊäÄÊúØËÉΩÂ§üÁºìËß£WebGISÊúçÂä°Âô®Á´ØÊï∞ÊçÆÂ§ÑÁêÜÁöÑÂéãÂäõÔºåÊèêÈ´ò‰∫§‰∫íÂìçÂ∫îÈÄüÂ∫¶ÔºåÂ§ßÂπÖÊîπÂñÑÂú®Á∫øÂú∞ÂõæÂ∫îÁî®ÂÆ¢Êà∑Á´ØÁöÑÁî®Êà∑‰ΩìÈ™å„ÄÇWMTSÊòØOGC‰∏ªÊé®ÁöÑÁºìÂ≠òÊäÄÊúØËßÑËåÉÔºåÊòØÁõÆÂâçÂêÑÁßçÁºìÂ≠òÊäÄÊúØÁõ∏‰∫íÂÖºÂÆπÁöÑ‰∏ÄÁßçÊñπÊ≥ï„ÄÇ WMTSÁöÑÂàáÁâáÂùêÊ†áÁ≥ªÁªüÂíåÂÖ∂ÁªÑÁªáÊñπÂºèÂèØÂèÇËÄÉ‰∏ãÂõæÔºö 1.2 ÊúçÂä°Êìç‰ΩúÂàóË°® WMTSÊúçÂä°ÊîØÊåÅRESTfulËÆøÈóÆÔºåÂÖ∂Êé•Âè£ÂåÖÊã¨GetCapabilities„ÄÅGetTileÂíåGetFeatureInfo3‰∏™Êìç‰ΩúÔºåËøô‰∫õÊìç‰ΩúÂÖÅËÆ∏Áî®Êà∑ËÆøÈóÆÂàáÁâáÂú∞Âõæ„ÄÇ Êìç‰Ωú Êìç‰Ωú ÊèèËø∞ GetCapabilities Âº∫Âà∂ÂÆûÁé∞ Ëé∑ÂèñWMTSÁöÑËÉΩÂäõÊñáÊ°£ÔºàÂç≥ÂÖÉÊï∞ÊçÆÊñáÊ°£ÔºâÔºåÈáåÈù¢ÂåÖÂê´ÊúçÂä°ÁöÑ‰ø°ÊÅØ GetTile Âº∫Âà∂ÂÆûÁé∞ ËØ•Êìç‰ΩúÊ†πÊçÆÂÆ¢Êà∑Á´ØÂèëÂá∫ÁöÑËØ∑Ê±ÇÂèÇÊï∞Âú®ÊúçÂä°Á´ØËøõË°åÊ£ÄÁ¥¢ÔºåÊúçÂä°Âô®Á´ØËøîÂõûÂú∞ÂõæÁì¶ÁâáÂõæÂÉè GetFeatureInfo ÈÄâÊã©ÂÆûÁé∞ 1.3 ÊúçÂä°Êìç‰ΩúÁöÑÂèÇÊï∞ÂàóË°® GetCapabilitiesÊìç‰ΩúËØ∑Ê±ÇÊñπÊ≥ïÂÆûÁé∞ÂèÇÊï∞ ÂèÇÊï∞ÂêçÁß∞ ÂèÇÊï∞‰∏™Êï∞ ÂèÇÊï∞Á±ªÂûãÂíåÂÄº service 1‰∏™(ÂøÖÈÄâ) Â≠óÁ¨¶Á±ªÂûãÔºåÊúçÂä°Á±ªÂûãÂÄº‰∏∫‚ÄúWMTS‚Äù request 1‰∏™(ÂøÖÈÄâ) Â≠óÁ¨¶Á±ªÂûãÔºåËØ∑Ê±ÇÁöÑÊìç‰ΩúÂêçÁß∞ÔºåÂÄº‰∏∫‚ÄúGetCapabilities‚Äù GetTileÊìç‰ΩúËØ∑Ê±ÇÊñπÊ≥ïÂÆûÁé∞ÂèÇÊï∞ ÂèÇÊï∞ÂêçÁß∞ ÂèÇÊï∞‰∏™Êï∞ ÂèÇÊï∞Á±ªÂûãÂíåÂÄº service 1‰∏™(ÂøÖÈÄâ) Â≠óÁ¨¶Á±ªÂûãÔºåÊúçÂä°Á±ªÂûãÊ†áËØÜÂÄº‰∏∫‚ÄúWMTS‚Äù request 1‰∏™(ÂøÖÈÄâ) Â≠óÁ¨¶Á±ªÂûãÔºåËØ∑Ê±ÇÁöÑÊìç‰ΩúÂÄº‰∏∫‚ÄúGetTile‚Äù version 1‰∏™(ÂøÖÈÄâ) Â≠óÁ¨¶Á±ªÂûãÔºåÂÄº‰∏∫ËØ∑Ê±ÇÁöÑWMTSÁöÑÁâàÊú¨Âè∑ layer 1‰∏™(ÂøÖÈÄâ) Â≠óÁ¨¶Á±ªÂûãÔºåÂÄº‰∏∫ËØ∑Ê±ÇÁöÑÂõæÂ±ÇÂêçÁß∞ style 1‰∏™(ÂøÖÈÄâ) Â≠óÁ¨¶Á±ªÂûãÔºåÂÄº‰∏∫ËØ∑Ê±ÇÂõæÂ±ÇÁöÑÊ∏≤ÊüìÊ†∑Âºè format 1‰∏™(ÂøÖÈÄâ) Â≠óÁ¨¶Á±ªÂûãÔºåÂÄº‰∏∫Áì¶ÁâáÂú∞ÂõæÁöÑËæìÂá∫Ê†ºÂºè tileMatrixSet 1‰∏™(ÂøÖÈÄâ) Â≠óÁ¨¶Á±ªÂûãÔºåÁì¶ÁâáÁü©ÈòµÊï∞ÊçÆÈõÜÔºåÂÖ∂ÂÄºÂú®ÊúçÂä°ÁöÑÂÖÉÊï∞ÊçÆÊñáÊ°£‰∏≠ÊåáÂÆö tileMatrix 1‰∏™(ÂøÖÈÄâ) Â≠óÁ¨¶Á±ªÂûãÔºåÁì¶ÁâáÁü©ÈòµÔºåÂÖ∂ÂÄºÂú®ÊúçÂä°ÁöÑÂÖÉÊï∞ÊçÆÊñáÊ°£‰∏≠ÊåáÂÆö tileRow 1‰∏™(ÂøÖÈÄâ) Êï¥ÂûãÁ±ªÂûãÔºåÂÄº‰∏∫Â§ß‰∫é0ÁöÑÊï¥Êï∞ÔºåË°®Á§∫Áì¶ÁâáÁü©ÈòµÁöÑË°åÂè∑ tileCol 1‰∏™(ÂøÖÈÄâ) Êï¥ÂûãÁ±ªÂûãÔºåÂÄº‰∏∫Â§ß‰∫é0ÁöÑÊï¥Êï∞ÔºåË°®Á§∫Áì¶ÁâáÁü©ÈòµÁöÑÂàóÂè∑ 1.4Êé•Âè£Ë∞ÉÁî®Á§∫‰æã ÂÆû‰æãÂêçÁß∞ Ë∞ÉÁî®ÂÆû‰æã GetCapabilitiesÊìç‰Ωú http://172.18.109.232:8080/68DE38F71E38CD8C508FAB3035752EA8ED8F9221EDE18FDBE593B01FCDD12BD296F09FE27CD7D2733AD075EAF994851B/PBS/rest/services/hzsyvector/Mapserver/WMTS?service=wmts&amp;request=GetCapabilities GetTileÊìç‰Ωú http://172.18.109.232:8080/68DE38F71E38CD8C508FAB3035752EA8ED8F9221EDE18FDBE593B01FCDD12BD296F09FE27CD7D2733AD075EAF994851B/PBS/rest/services/hzsyvector/Mapserver/WMTS?service=wmts&amp;request=getTile&amp;version=1.0.0&amp;layer=hzsyvector&amp;Style=&amp;tilematrixset=hzsyvector&amp;tilematrix=3&amp;tilerow=5&amp;tilecol=7&amp;format=png ****","link":"/2021/02/22/Draft/2021/GIS/"},{"title":"È≠ëÈ≠ÖÂÖàÁîü | ËµÑÊ∫êÁØá","text":"JVM ‰∏é‰∏äÂ±ÇÊäÄÊúØ È≠ëÈ≠ÖÂÖàÁîü | ËµÑÊ∫êÁØá È≠ëÈ≠ÖÂÖàÁîü | ËµÑÊ∫êÁØá ‰∏Ä.Á®ãÂ∫èÂëò‰π¶Â±ãÔºàÁºñÁ®ãÁõ∏ÂÖ≥ÔºåKindle Áõ∏ÂÖ≥ ‰∏ÄÂÖ±112‰∏™ G ËµÑÊ∫êÔºâ JavaËµÑÊ∫ê101‰∏™ G ÂõäÊã¨Â§ßÈÉ®ÂàÜ Java ÂºÄÂèëÂ∞èÁôΩÂà∞ÂÖ®Ê†àÂ§ßÁ•ûÊâÄÈúÄÈòÖËØªÂÖ®ÈÉ®‰π¶Á±çÔºåËÆæËÆ°Ê®°Âºè„ÄÅÁΩëÁªú„ÄÅÁÆóÊ≥ï„ÄÅÊ°ÜÊû∂„ÄÅËÅåÂú∫ÁªèÈ™å ‚Äã ÂÖ≥Ê≥®ÂÖ¨‰ºóÂè∑ÂèëÈÄÅ Â∞è‰π¶Â±ã Ëé∑Âèñ‰∏ãËΩΩÈìæÊé• ‰∏ç‰ªÖÂ¶ÇÊ≠§ÔºåËøòÊúâ Kindle ÂêÑÁ±ªÁîµÂ≠ê‰π¶Á±ç11‰∏™G Á¥¢ÂºïÂú®Ê≠§ÁÇπÂáª ÊêúÁ¥¢‰πãÂêéÊúâÈúÄË¶ÅÁöÑ ÂÖ≥Ê≥®ÂÖ¨‰ºóÂè∑ÂèëÈÄÅ KindleËé∑Âèñ‰∏ãËΩΩÈìæÊé•ÔºÅ ‰∫å.Â≠¶‰π†ÁΩëÁ´ôÔºàÊåÅÁª≠Êõ¥Êñ∞‰∏≠Ôºâ 1.ÁºñÁ®ãÁΩëÁ´ôÔºö Refactoring.Guru ‚Äã ËÆæËÆ°Ê®°ÂºèÂú®Á∫øÂ≠¶‰π†ÔºåÁ®ãÂ∫èÂëò‰πãÈó¥ÁöÑÊ≤üÈÄöËØ≠Ë®ÄÔºåÂ≠¶‰π†ÂøÖ‰∏çÂèØÂ∞ëÁöÑÁü•ËØÜÔºåÊúâÂêÑÁßç‰ª£Á†ÅÁ§∫ËåÉÔºåUMLÂõæÔºåÂä®Êº´ÊºîÁ§∫„ÄÇ Visualgo ‚Äã ÁÆóÊ≥ïÂú®Á∫øÂèØËßÜÂåñËøáÁ®ãÔºåÁêÜËß£Êõ¥Âä†ÂÆπÊòìÔºåËøáÁ®ãÈÄüÂ∫¶ÂèØË∞ÉÔºåÊ≠•È™§ÂèØÊéßÔºå‰ª£Á†ÅÂèØËßÇ„ÄÇ Github ‚Äã Â∞ÜËá™Â∑±ÁöÑÂ≠¶‰π†‰ª£Á†ÅËøõË°åÁâàÊú¨ÂåñÁÆ°ÁêÜÔºåÂ∞ÜÂ≠¶‰π†ËµÑÊ∫êÊï¥ÁêÜÂΩíÁ∫≥ÔºåÂ≠¶‰π†Âà´‰∫∫ÁöÑ‰ºòÁßÄÈ°πÁõÆÔºåËé∑ÂèñÂÖ®ÁêÉÊúÄÊñ∞ËµÑÊ∫êÔºåÂ•ΩÂ§ÑÂ∞±‰∏ç‰∏Ä‰∏ÄÂàó‰∏æ‰∫ÜÔºåÊØè‰∏™Á®ãÂ∫èÂëòÈÉΩ‰∫ÜËß£„ÄÇ CSDN ‚Äã ‰∏Ä‰∏™‰∫∫ÁöÑÊàêÂ∞±ÂæÄÂæÄ‰∏çÂú®‰∫éÂæóÂà∞Â§öÂ∞ëÔºåËÄåÂú®‰∫éËæìÂá∫Â§öÂ∞ëÔºå‰∏Ä‰∏™ÊúâË¥°ÁåÆÁöÑÁ®ãÂ∫èÂëòÂæÄÂæÄÊòØ‰ºöÂàÜ‰∫´ÁöÑ„ÄÇËøô‰∏™ÂçöÂÆ¢ÁΩëÁ´ôÊ±áËÅöÂæàÂ§öÂ§ßÁâõÔºå‰πüÊúâÂæàÂ§ö demoÔºåËÆ©‰Ω†ÂèØ‰ª•‰∏çÈáçÂ§çÈÄ†ËΩÆÂ≠ê„ÄÇ 2.ËÆæËÆ°ÁΩëÁ´ôÔºö doyoudo ‚Äã Â≠¶‰π† Ae„ÄÅPs„ÄÅPr„ÄÅC4D„ÄÅ‰πêÁêÜÁ≠âÁ≠â„ÄÇÂç∞Ë±°‰∏≠Â∞èÁôΩËÄÅÂ∏àÁöÑÁîüÂä®ËØæÂ†ÇÊòØËÆ©ÊàëÂØπËÆæËÆ°ÊÑüÂÖ¥Ë∂£Á¨¨‰∏ÄÂéüÂõ†Ôºå‰πüÊòØÁ¨¨‰∏Ä‰∏™ËÆ©ÊàëÊúâÊÉ≥‰∏ä‰ªòË¥πËØæÂÜ≤Âä®ÁöÑÂ≠¶‰π†ÁΩëÁ´ô„ÄÇ Colordrop ‚Äã ÈÖçËâ≤ÁΩëÁ´ôÔºåÁõ¥ËßÇ‰∏îÂ§çÂà∂Êñπ‰æøÔºåÂ¶àÂ¶àÂÜç‰πü‰∏çÁî®ÊãÖÂøÉÊàëÁöÑÈÖçËâ≤‰∫Ü„ÄÇ ÂàõÂÆ¢Ë¥¥ ‚Äã ‰∏ç‰ºö PS Ê≤°ÂÖ≥Á≥ªÔºåÂàõÂÆ¢Ë¥¥Áõ¥Êé•ÊãâÂä®‰øÆÊîπÂÖÉÁ¥†Ôºå‰∏ÄÂàáÈÉΩÁõ¥Êé•ËÆæËÆ°Â•Ω‰∫ÜÔºåÂ∞èÁôΩÂºèÊãñÂä®‰æøÂèØÂø´ÈÄüÂÆåÊàêËÆæËÆ°Êõ¥ÊîπÔºåËøòÂèØ‰ª•Áõ¥Êé•‰øÆÊîπ GIF Âä®ÂõæÔºÅ 3.ÈÄöÁî®ÁΩëÁ´ôÔºö Bilibili ‰∏ç‰ªÖ‰ªÖÊúâÈ¨ºÁïúÔºå‰Ω†ÊÉ≥ÊúâÁöÑÊïôÁ®ãÈÉΩÊúâÔºåÊëÑÂΩ±„ÄÅËÆæËÆ°„ÄÅÁºñÁ®ã„ÄÅÁªòÁîªÁ≠âÔºåÊòØÁé∞‰ª£Â≠¶‰π†ËÄÖ‰∏çÂèØÁº∫Â∞ëËÅöÈõÜÂú∞„ÄÇ Coursera ÂõΩÂ§ñÂ≠¶‰π†ÁΩëÁ´ôÔºåÂÖçË¥πËµÑÊ∫êÂæàÂ§öÔºåÂèØ‰ª•Êé•Ëß¶Êõ¥Âä†ÂèäÊó∂ÁöÑÁü•ËØÜ„ÄÇ ‰∏â.ËΩØ‰ª∂Êé®ËçêÔºàÊåÅÁª≠Êõ¥Êñ∞‰∏≠Ôºâ ÁîµËÑëÁØá Ëã±ËØ≠ËØ≠Ê≥ï‰π¶ÂÜôÁ∫†Ê≠£ÔºåÊØïÁ´üËØ≠Ê≥ïÁ∫†Ê≠£Èô§‰∫ÜËÄÅÂ∏àÂ∞±Âè™Êúâ‰ªñ‰∫Ü„ÄÇ Ëá™Â™í‰ΩìÂøÖÂ§áÔºåMarkdownÊúÄ‰Ω≥Âà©Âô®„ÄÇ Â≠ó‰Ωì‰∏≠Â§ÆÁÆ°ÁêÜÔºåÂÖçË¥πÂïÜÁî®Â∞±Â§ü‰Ω†Áî®‰∏ÄËæàÂ≠ê‰∫ÜÔºåÁâàÊùÉÈóÆÈ¢ò‰∏çÁî®ËÄÉËôë‰∫Ü MarkdownÂõæÂ∫äÁÆ°ÁêÜ‰ºòÁßÄËΩØ‰ª∂‰πã‰∏Ä Êúâ‰ªñËøòË¶ÅÂï•ÁôæÂ∫¶‰∫ëÔºåÈÖçÂêàchrome‰ΩøÁî®Êõ¥È¶ô ‰Ω†Êúâ‰∏™ipadÊîæÈÇ£ÁõñÊ≥°Èù¢‰∏çÂ¶ÇÊãøÊù•Áî®‰Ωú‰Ω†ÁöÑÁ¨¨‰∫åÂ±èÂπï ËâæÂÆæÊµ©ÊñØÈÅóÂøòÊõ≤Á∫øÊúÄ‰Ω≥ÂÆûË∑µÔºåËÆ∞ÂøÜ‰ªª‰ΩïÁü•ËØÜÔºåËá™‰∏ªÂç°ÁâáÂΩ¢Âºè ÁõÆÂâç‰ΩøÁî®ËøáÁöÑÊúÄ‰Ω≥ÊÄùÁª¥ÂØºÂõæËΩØ‰ª∂ ‰∏âÁ´Ø‰∫í‰º†Êñá‰ª∂ÔºåÊó†ÁºùÂêåÊ≠•ÔºåÂú®È∏øËíôÁ≥ªÁªüÂá∫Êù•‰πãÂâçÂÆÉÂèØËÉΩ‰∏ÄÁõ¥ÊòØÊàëÁöÑ‰∏ªÂäõ ÂÆâÂçìÂèØÁî®ÔºåÁîµËÑëÊìçÊéßÊâãÊú∫ÔºåÂèØÊó†Á∫øÊéßÂà∂Ôºå‰∏äÁè≠ÂàíÊ∞¥Âà©Âô®ÔºåÂÖçË¥πÂºÄÊ∫ê ÊäìÂåÖÔºåÊµãËØïÔºåÁΩëÁªúÊ®°ÊãüÔºåÊñ∞‰∏ñÁïåÔºå‰∏Ä‰∏çÂ∞èÂøÉ‰ªéÊäìÂåÖÂà∞ÂÖ•Áã± ÊµèËßàÂô®Êèí‰ª∂ ‚Äã chromeÊúâ‰∫ÜÂÆÉÔºåÂï•‰ºöÂëòÈÉΩ‰∏çÁî®ÂºÄ„ÄÇ ‚Äã Êúâ‰∫ÜÂÆÉÔºå‰ªª‰ΩïÂ§çÊùÇÈ°µÈù¢ÈÉΩÂèØ‰ª•ÂèòÂæóÂ∞èÊ∏ÖÊñ∞„ÄÇ ipadÁØá ÔºàÂæÖÊõ¥Êñ∞[Â¶Ç‰ΩïÊäìÂåÖËé∑ÂèñÂêÑÁßçÂõ¥ÂìéÁöÆÔºåÂ¶Ç‰ΩïÈ´òÊïàÁéáÂà©Áî®Â≠¶‰π†ËΩØ‰ª∂]Ôºâ ÊâãÊú∫ÁØá ÔºàÂæÖÊõ¥Êñ∞[ÂêÑÁßçÈªëÁßëÊäÄÂ∞èÂ∑•ÂÖ∑]Ôºâ ‚Äã È≠ëÈ≠ÖÂÖàÁîüÔºå‰∏ÄÂè™ÊãºÊêèÊàê‰∏∫È≠ëÈ≠ÖÂ§ßËÉΩÁöÑÂ∞èÈ¨º(‚óè‚Äî‚óè) Âõõ.ËÆæËÆ°ËµÑÊ∫êÔºàÊåÅÁª≠Êõ¥Êñ∞‰∏≠Ôºâ ‚Äã ÂåÖÊã¨ÂêÑÂ§ßÊµ∑Êä•ÔºåÂ≠ó‰ΩìÔºåÁ¨îÂà∑ÔºåÁ¥†ÊùêÔºåLOGOÔºåÂÖ®ÂÆ∂Ê°∂Á≠âÁ≠âÔºåÂÖ¨‰ºóÂè∑ÂõûÂ§çËÆæËÆ°ËµÑÊ∫êËé∑Âèñ‰∏ãËΩΩÈìæÊé• ‚Äã ! ‰∫î.ËßÜÈ¢ëËµÑÊ∫êÔºàÊåÅÁª≠Êõ¥Êñ∞‰∏≠Ôºâ JavaÔºåPythonÁõ∏ÂÖ≥Âü∫Á°ÄÂà∞Êû∂ÊûÑËØæÁ®ãÔºåÈ°πÁõÆÂÆûÊàò ‚Äã ‚Äã Èü≥‰πêÁõ∏ÂÖ≥ ‚Äã Âêâ‰ªñÔºåÂ∞§ÂÖãÈáåÈáåÔºå‰πêÁêÜÔºåÁºñÊõ≤Ôºå‰ΩúËØçÔºåÁõ∏ÂÖ≥ËΩØ‰ª∂ÔºåÂ£∞Ê∫ê ‚Äã ‚Äã ÁªòÁîª ËØ≠Ë®Ä ÊëÑÂΩ± ‚Äã ÂåÖÂê´ÁæéÂõΩÊëÑÂΩ±Â≠¶Èô¢ÊëÑÂΩ±ÊïôÊùêÔºåÂ≠¶‰π†ÊëÑÂΩ±‰∏çÂèØÁº∫Â∞ëÁöÑ‰π¶Á±ç ÊúÄÂêéÊÉ≥ËØ¥ÔºåËµÑÊ∫êËôΩÂ§öÔºå‰ΩÜÂ¶ÇÊûúÂè™ÂΩì‰∏Ä‰∏™Êî∂ËóèÂÖöÈÇ£Ê∞∏Ëøú‰∏ç‰ºöÊòØ‰Ω†ÁöÑ„ÄÇÂè™ÊúâÂú®ËøôÈ£ûÈÄüÂèëÂ±ïÁöÑÊó∂‰ª£ÔºåÂç∏ÂéªÊµÆË∫ÅÔºå‰∏ÄÁÇπÁÇπÊ∂àÂåñÔºåÊâç‰ºöËÆ©Êàê‰∏∫‰Ω†ËåÅÂ£ÆÊàêÈïøÁöÑÂÖªÂàÜ„ÄÇ ‚Äã ËµÑÊ∫êÂàÜ‰∫´ÔºåÈÉ®ÂàÜËµÑÊ∫êËØ∑Âãø‰ΩúÂïÜ‰∏öÁî®ÈÄîÔºåÂ¶ÇÊúâ‰æµÊùÉÔºåËÅîÁ≥ªÂà†Èô§„ÄÇÂ¶ÇÊûúÊúâËÉΩÂäõÔºåËØ∑ÊîØÊåÅÊ≠£ÁâàÔºÅ","link":"/2021/02/20/Draft/2021/%E8%B5%84%E6%BA%90%E7%AF%87/"},{"title":"È≠ëÈ≠ÖÂÖàÁîü | ÊØèÊó•ÁÆóÊ≥ï","text":"Êñ∞Â≠¶ÂõõÈóÆ WHY„Äê‰∏éÂâç‰ª£‰ºòÂåñ‰∫Ü‰ªÄ‰πàÔºåÂº•Ë°•‰∫Ü‰ªÄ‰πàÁ©∫ÁôΩ„ÄëÁºñÁ®ãÁöÑÁÅµÈ≠ÇÔºå‰∏çÁÆ°‰ªÄ‰πàËØ≠Ë®ÄÈÉΩÂæóÈúÄË¶Å„ÄÇ WHAT„ÄêÊ°ÜÊû∂ÔºåÊÄùÁª¥ÂØºÂõæÔºå‰∏ªÈ¢òÊ°ÜÊû∂„ÄëÁ®ãÂ∫èÂëò‰∏ì‰∏öËØçÊ±áÔºåÊó•Â∏∏Ëã±ËØ≠ HOW„ÄêÂ¶Ç‰ΩïËÆ∞ÂøÜÔºåÂ≠¶‰π†ËµÑÊ∫ê„ÄëÂ§öÊÉ≥Â§öÂÜôÂ§öÁî®ÔºåLeetcode LEVEL„Äê‰∏çÊòØÊØè‰∏™ÈÉΩÂ≠¶Á≤æ„ÄëÂÆûÈôÖËøêÁî® Â≠¶ÂâçÂáÜÂ§á labuladong/fucking-algorithm: Âà∑ÁÆóÊ≥ïÂÖ®Èù†Â•óË∑ØÔºåËÆ§ÂáÜ labuladong Â∞±Â§ü‰∫ÜÔºÅEnglish version supported! Crack LeetCode, not only how, but also why. (github.com) MisterBooo/LeetCodeAnimation: Demonstrate all the questions on LeetCode in the form of animation.ÔºàÁî®Âä®ÁîªÁöÑÂΩ¢ÂºèÂëàÁé∞Ëß£LeetCodeÈ¢òÁõÆÁöÑÊÄùË∑ØÔºâ (github.com) ‰∏Ä.Âü∫Êú¨Êï∞ÊçÆÁªìÊûÑ Á¨¨‰∏ÄÁ´† ÁÆóÊ≥ïÂÆö‰πâ Âú®ÁâπÂÆöËÆ°ÁÆóÊ®°Âûã‰∏ãÔºåÂú®‰ø°ÊÅØÂ§ÑÁêÜËøáÁ®ã‰∏≠‰∏∫‰∫ÜËß£ÂÜ≥Êüê‰∏ÄÁ±ªÈóÆÈ¢òËÄåËÆæËÆ°ÁöÑ‰∏Ä‰∏™Êåá‰ª§Â∫èÂàó„ÄÇ Ë¶ÅÁ¥†Ôºö ËæìÂÖ•ÔºöÂæÖÂ§ÑÁêÜÁöÑ‰ø°ÊÅØÔºåÂç≥ÂØπÂÖ∑‰ΩìÈóÆÈ¢òÁöÑÊèèËø∞„ÄÇ ËæìÂá∫ÔºöÁªèËøáÂ§ÑÁêÜ‰πãÂêéÂæóÂà∞ÁöÑ‰ø°ÊÅØÔºåÂç≥ÈóÆÈ¢òÁöÑÁ≠îÊ°à„ÄÇ Á°ÆÂÆöÊÄßÔºö‰ªª‰∏ÄÁÆóÊ≥ïÈÉΩÂèØ‰ª•ÊèèËø∞‰∏∫Áî±Ëã•Âπ≤ÁßçÂü∫Êú¨Êìç‰ΩúÁªÑÊàêÁöÑÂ∫èÂàó„ÄÇ ÂèØË°åÊÄßÔºöÂú®Áõ∏Â∫îÁöÑËÆ°ÁÆóÊ®°Âûã‰∏≠ÔºåÊØè‰∏ÄÂü∫Êú¨Êìç‰ΩúÈÉΩÂèØ‰ª•ÂÆûÁé∞Ôºå‰∏îËÉΩÂ§üÂú®Â∏∏Êï∞Êó∂Èó¥ÂÜÖÂÆåÊàê„ÄÇ ÊúâÁ©∑ÊÄßÔºöÂØπ‰∫é‰ªª‰ΩïËæìÂÖ•ÔºåÊåâÁÖßÁÆóÊ≥ïÔºåÁªèËøáÊúâÁ©∑Ê¨°Âü∫Êú¨Êìç‰ΩúÈÉΩÂèØ‰ª•ÂæóÂà∞Ê≠£Á°ÆÁöÑËæìÂá∫„ÄÇ 1.2ÊÄßËÉΩÂàÜÊûêÈ¢ÑËØÑ‰ª∑ ‰∏â‰∏™Â±ÇÊ¨°ÔºöÂêàÊ≥ïÁ®ãÂ∫èÔºåÁ°ÆÂÆöÂ∞∫Â∫¶Â∫¶ÈáèÁÆóÊ≥ïÊïàÁéáÔºåÈÄöËøáÂØπÁÆóÊ≥ïËÆæËÆ°ÁºñÂÜôÊïàÁéáÈ´òÔºåËÉΩÂ§ÑÁêÜÂ§ßËßÑÊ®°Êï∞ÊçÆÁöÑÁ®ãÂ∫èÔºå Êó∂Èó¥Â§çÊùÇÂ∫¶ T(n) Â∫¶ÈáèÁÆóÊ≥ïÊâßË°åÈÄüÂ∫¶Âπ∂ËØÑ‰ª∑ÂÖ∂ÊïàÁéáÔºåÁÆóÊ≥ïÈúÄË¶ÅÂ§öÂ∞ëÊó∂Èó¥ÊâçËÉΩÂæóÂà∞ÁªìÊûú ==„ÄãÈíàÂØπ‰∏çÂêåËßÑÊ®°ÁöÑËæìÂÖ•ÔºåÁÆóÊ≥ïÁöÑÊâßË°åÊó∂Èó¥ÂêÑÊòØÂ§öÂ∞ë ==„ÄãÁªü‰∏ÄËßÑÊ®°ÁÆóÊ≥ïÂ§ÑÁêÜÊó∂Èó¥‰πü‰∏çÁõ∏Âêå Á©∫Èó¥Â§çÊùÇÂ∫¶ ÁÆóÊ≥ïÊâÄÈúÄÂ≠òÂÇ®Á©∫Èó¥ 1.3 ÁÆóÊ≥ïÂ§çÊùÇÂ∫¶ÂèäÂÖ∂ÂàÜÊûê 1.3.1 O(1)‚éØ‚éØÂèñÈùûÊûÅÁ´ØÂÖÉÁ¥† 1.3.2 O(logn)‚éØ‚éØËøõÂà∂ËΩ¨Êç¢ 1.3.3 O(n)‚éØ‚éØÊï∞ÁªÑÊ±ÇÂíå 1.3.4 O(n2)‚éØ‚éØËµ∑Ê≥°ÊéíÂ∫è 1.3.5 O(2r)‚éØ‚éØÂπÇÂáΩÊï∞ 1.4 ËÆ°ÁÆóÊ®°Âûã 1.4.1 ÂèØËß£ÊÄß 1.4.2 ÊúâÊïàÂèØËß£ 1.4.3 ‰∏ãÁïå 1.5 ÈÄíÂΩí 1.5.1 Á∫øÊÄßÈÄíÂΩí 1.5.2 ÈÄíÂΩíÁÆóÊ≥ïÁöÑÂ§çÊùÇÂ∫¶ÂàÜÊûê 1.5.3 ‰∫åÂàÜÈÄíÂΩí 1.5.4 Â§öÂàÜÊîØÈÄíÂΩí Á¨¨‰∫åÁ´† Ê†à‰∏éÈòüÂàó Ê†à‰∏éÈòüÂàóÊúÄÁÆÄÂçïÂü∫Êú¨Ôºå‰ΩÜ‰πüÊòØÊúÄÈáçË¶ÅÁöÑ„ÄÇJVMÔºåCPUÔºåJavaÊèê‰æõÂØπÂ∫îÂÜÖÂª∫Á±ªÔºå 2.1 Ê†à ÂêéËøõÂÖàÂá∫ÔºàLast-in-first-outÔºåLIFOÔºâÔºåÊØîÂ¶ÇÊµèËßàÂô®ËÆøÈóÆËÆ∞ÂΩï‰∏éÂõûÈÄÄÔºåÁºñËæëÂõûÈÄÄ„ÄÇ ÂÖÉÁ¥†Ôºö Ê†àÂÆπÈáèÔºåÊ†àÈ°∂ÊåáÈíàÔºåÂàùÂßãÂåñ ËøõÊ†àpush()„ÄÅÂá∫Ê†àpop()ÔºåÊü•Ê†àÈ°∂peek() Java java.util.Stack Ôºöpush()„ÄÅpop()„ÄÅpeek()ÔºàÂäüËÉΩÁ≠â‰ª∑‰∫étop()Ôºâ„ÄÅgetSize()‰ª•Âèäempty()ÔºàÂäüËÉΩÁ≠â‰ª∑‰∫éisEmpty()Ôºâ Â∫îÁî®ÔºöÊï∞ÁªÑÂÄíÁΩÆÔºåÊã¨Âè∑ÂåπÈÖçÁÆóÊ≥ïÔºå ‰∏âÁßçÂÆûÁé∞ÊñπÂºè Êï∞ÁªÑ ÈìæË°® LinkedList 2.2 ÈòüÂàó ÂÖàËøõÂÖàÂá∫ÔºàFirst-In-First-Out, FIFOÔºâÔºåÁæΩÊØõÁêÉÁ≠í 2.2.1 ÈòüÂàóADT Queue Êé•Âè£ ÂÖÉÁ¥† ÈòüÂ§¥„ÄÅÈòüÂ∞æ„ÄÅÈòüÂ∞æÂä†ÂÖÉÁ¥†add()ÔºåÈòüÂ§¥Âà†Èô§ÂÖÉÁ¥†poll(),Êü•ÈòüÂ§¥ÂÖÉÁ¥†peek() 2.2.2 Âü∫‰∫éÊï∞ÁªÑÁöÑÂÆûÁé∞ È°∫Â∫èÊï∞ÁªÑÔºåÊï¥‰ΩìÁßªÂä® Âæ™ÁéØÊï∞ÁªÑÔºå ÊÄßËÉΩÂàÜÊûêÔºåO(1)„ÄÇ 2.2.3 ÈòüÂàóÂ∫îÁî®ÂÆû‰æã Âæ™ÁéØÂàÜÈÖçÂô®ÔºåJosephus ÁéØ 2.3 ÈìæË°® Êï∞ÁªÑÈïøÂ∫¶ÂøÖÈ°ªÂõ∫ÂÆöÔºåÂú®Á©∫Èó¥ÊïàÁéáÂèäÈÄÇÂ∫îÊÄßÊñπÈù¢ËøòÂ≠òÂú®‰∏çË∂≥„ÄÇ 2.3.1 ÂçïÈìæË°® ÂÖÉÁ¥† È¶ñËäÇÁÇπÔºåÊú´ËäÇÁÇπ ‚Äã ÈìæË°®ÁöÑÁ¨¨‰∏Ä‰∏™ÂíåÊúÄÂêé‰∏Ä‰∏™ËäÇÁÇπÔºåÂàÜÂà´Áß∞‰ΩúÈìæË°®ÁöÑÈ¶ñËäÇÁÇπÔºàHeadÔºâÂíåÊú´ËäÇÁÇπÔºàTailÔºâ„ÄÇÊú´ËäÇÁÇπÁöÑÁâπÂæÅÊòØÔºåÂÖ∂next ÂºïÁî®‰∏∫Á©∫„ÄÇÂ¶ÇÊ≠§ÂÆö‰πâÁöÑÈìæË°®ÔºåÁß∞‰ΩúÂçïÈìæË°®ÔºàSingly linkedlistÔºâ„ÄÇ ‚Äã ‰∏éÊï∞ÁªÑÁ±ª‰ººÔºåÂçïÈìæË°®‰∏≠ÁöÑÂÖÉÁ¥†‰πüÂÖ∑Êúâ‰∏Ä‰∏™Á∫øÊÄßÊ¨°Â∫è‚éØ‚éØËã•P ÁöÑnext ÂºïÁî®ÊåáÂêëSÔºåÂàôP Â∞±ÊòØSÁöÑÁõ¥Êé•ÂâçÈ©±ÔºåËÄåS ÊòØP ÁöÑÁõ¥Êé•ÂêéÁªß„ÄÇ‰∏éÊï∞ÁªÑ‰∏çÂêåÁöÑÊòØÔºåÂçïÈìæË°®ÁöÑÈïøÂ∫¶‰∏çÂÜçÂõ∫ÂÆöÔºåËÄåÊòØÂèØ‰ª•Ê†πÊçÆÂÆûÈôÖÈúÄË¶Å‰∏çÊñ≠ÂèòÂåñ„ÄÇÂ¶ÇÊ≠§‰∏ÄÊù•ÔºåÂåÖÂê´n ‰∏™ÂÖÉÁ¥†ÁöÑÂçïÈìæË°®Âè™ÈúÄÂç†Áî®O(n)Á©∫Èó¥‚éØ‚éØËøôË¶ÅÊØîÂÆöÈïøÊï∞ÁªÑÊõ¥‰∏∫ÁÅµÊ¥ª„ÄÇ 2.4 ‰ΩçÁΩÆ 2.5 ÂèåÁ´ØÈòüÂàó Á¨¨‰∏âÁ´† ÂêëÈáè„ÄÅÂàóË°®‰∏éÂ∫èÂàó ‚Äã Â∫èÂàóÔºàSequenceÔºâÔºåÂ∞±ÊòØ‰æùÊ¨°ÊéíÂàóÁöÑÂ§ö‰∏™ÂØπË±°ÔºåÂ∞±ÊòØ‰∏ÄÁªÑÂØπË±°‰πãÈó¥ÁöÑÂêéÁªß‰∏éÂâçÈ©±ÂÖ≥Á≥ªÔºåÊòØÊï∞ÊçÆÁªìÊûÑËÆæËÆ°ÁöÑÂü∫Á°Ä„ÄÇ‰∏§ÁßçÂÖ∏ÂûãÁöÑÂ∫èÂàóÔºöÂêëÈáèÔºàVectorÔºâÂíåÂàóË°®ÔºàListÔºâ„ÄÇ 3.1 ÂêëÈáè‰∏éÊï∞ÁªÑ 3.1.1 ÂêëÈáèADT Á¨¨ÂõõÁ´† Ê†ë ‚Äã ÂâçÈù¢ÊâÄÊúâÁöÑÊï∞ÊçÆÁªìÊûÑÊ†πÊçÆÂÖ∂ÂÆûÁé∞ÊñπÂºèÔºåÂèØ‰ª•ÂàíÂàÜ‰∏∫Âü∫‰∫éÊï∞ÁªÑÂÆûÁé∞ÂíåÂü∫‰∫éÈìæË°®ÂÆûÁé∞ÔºåÂÖ∂ÂêÑÊúâÈïøÁü≠ÔºåÊï∞ÁªÑÂñÑÊü•ÊâæËØªÂèñÔºå‰øÆÊîπËÄóÊó∂ÔºåÈìæË°®Âèç‰πã„ÄÇ‰∏§ËÄÖÊúâÁÇπËÉΩÁªìÂêà?Ê†ëÊàñËÆ∏ÂèØ‰ª•ÂõûÁ≠îËøô‰∏™ÈóÆÈ¢ò„ÄÇ ÊúØËØ≠ÂèäÊÄßË¥® ËäÇÁÇπÁöÑÊ∑±Â∫¶„ÄÅÊ†ëÁöÑÊ∑±Â∫¶‰∏éÈ´òÂ∫¶ ‚Äã Ê†ë‰∏≠ÁöÑÂÖÉÁ¥†‰πüÁß∞‰ΩúËäÇÁÇπÔºàNodeÔºâÔºåÊØè‰∏™ËäÇÁÇπÁöÑÊ∑±Â∫¶ÈÉΩÊòØ‰∏Ä‰∏™ÈùûË¥üÊï¥Êï∞ÔºõÊ∑±Â∫¶‰∏∫0 ÁöÑËäÇÁÇπÊúâ‰∏î‰ªÖÊúâ‰∏Ä‰∏™ÔºåÁß∞‰ΩúÊ†ëÊ†πÔºàRootÔºâÔºõÂØπ‰∫éÊ∑±Â∫¶‰∏∫k (k‚â•1)ÁöÑÊØè‰∏™ËäÇÁÇπuÔºåÈÉΩÊúâ‰∏î‰ªÖÊúâ‰∏Ä‰∏™Ê∑±Â∫¶‰∏∫k-1 ÁöÑËäÇÁÇπv ‰∏é‰πãÂØπÂ∫îÔºåÁß∞‰Ωúu ÁöÑÁà∂‰∫≤ÔºàParentÔºâÊàñÁà∂ËäÇÁÇπ„ÄÇÂÆö‰πâÂõõ.2 Ëã•ËäÇÁÇπv ÊòØËäÇÁÇπu ÁöÑÁà∂‰∫≤ÔºåÂàôu Áß∞‰Ωúv ÁöÑÂ≠©Â≠êÔºàChildÔºâÔºåÂπ∂Âú®‰∫åËÄÖ‰πãÈó¥Âª∫Á´ã‰∏ÄÊù°Ê†ëËæπÔºàEdgeÔºâ„ÄÇÂêå‰∏ÄËäÇÁÇπÁöÑÂ≠©Â≠ê‰∫íÁß∞‚ÄúÂÖÑÂºü‚ÄùÔºàSiblingÔºâ„ÄÇÊ†ë‰∏≠ÊâÄÊúâËäÇÁÇπÁöÑÊúÄÂ§ßÊ∑±Â∫¶ÔºåÁß∞‰ΩúÊ†ëÁöÑÊ∑±Â∫¶ÊàñÈ´òÂ∫¶„ÄÇÊ†ë‰∏≠ËäÇÁÇπÁöÑÊï∞ÁõÆÔºåÊÄªÊòØÁ≠â‰∫éËæπÊï∞Âä†‰∏Ä„ÄÇ Â∫¶„ÄÅÂÜÖÈÉ®ËäÇÁÇπ‰∏éÂ§ñÈÉ®ËäÇÁÇπ ‚Äã ‰ªª‰∏ÄËäÇÁÇπÁöÑÂ≠©Â≠êÊï∞ÁõÆÔºåÁß∞‰ΩúÂÆÉÁöÑ‚ÄúÂ∫¶‚ÄùÔºàDegreeÔºâ„ÄÇËá≥Â∞ëÊã•Êúâ‰∏Ä‰∏™Â≠©Â≠êÁöÑËäÇÁÇπÁß∞‰Ωú‚ÄúÂÜÖÈÉ®ËäÇÁÇπ‚ÄùÔºàInternal nodeÔºâÔºõÊ≤°Êúâ‰ªª‰ΩïÂ≠©Â≠êÁöÑËäÇÁÇπÂàôÁß∞‰Ωú ‚ÄúÂ§ñÈÉ®ËäÇÁÇπ‚ÄùÔºàExternal nodeÔºâÊàñ‚ÄúÂè∂Â≠ê‚ÄùÔºàLeafÔºâ„ÄÇ Ë∑ØÂæÑ ‚Äã Áî±Ê†ë‰∏≠k+1 ËäÇÁÇπÈÄöËøáÊ†ëËæπÈ¶ñÂ∞æË°îÊé•ËÄåÊûÑÊàêÁöÑÂ∫èÂàó{ (v0, v1), (v1, v2), ‚Ä¶, (vk-1, vk) | k ‚â• 0}ÔºåÁß∞‰ΩúÊ†ë‰∏≠ÈïøÂ∫¶‰∏∫k ÁöÑ‰∏ÄÊù°Ë∑ØÂæÑÔºàPathÔºâ„ÄÇÁî±Âçï‰∏™ËäÇÁÇπ„ÄÅÈõ∂Êù°ËæπÊûÑÊàêÁöÑË∑ØÂæÑ‰πüÊòØÂêàÊ≥ïÁöÑÔºåÂÖ∂ÈïøÂ∫¶‰∏∫0„ÄÇÊ†ë‰∏≠‰ªª‰Ωï‰∏§‰∏™ËäÇÁÇπ‰πãÈó¥ÈÉΩÂ≠òÂú®ÂîØ‰∏ÄÁöÑ‰∏ÄÊù°Ë∑ØÂæÑ„ÄÇËã•v ÊòØu ÁöÑÁà∂‰∫≤ÔºåÂàôdepth(v) + 1 = depth(u)„ÄÇ‰ªéÊ†ëÊ†πÈÄöÂæÄ‰ªª‰∏ÄËäÇÁÇπÁöÑË∑ØÂæÑÈïøÂ∫¶ÔºåÊÅ∞Â•ΩÁ≠â‰∫éËØ•ËäÇÁÇπÁöÑÊ∑±Â∫¶„ÄÇ Á•ñÂÖà„ÄÅÂêé‰ª£„ÄÅÂ≠êÊ†ëÂíåËäÇÁÇπÁöÑÈ´òÂ∫¶ ÊØè‰∏™ËäÇÁÇπÈÉΩÊòØËá™Â∑±ÁöÑ‚ÄúÁ•ñÂÖà‚ÄùÔºàAncestorÔºâÔºå‰πüÊòØËá™Â∑±ÁöÑ‚ÄúÂêé‰ª£‚ÄùÔºàDescendentÔºâÔºõ Ëã•v ÊòØu ÁöÑÁà∂ËäÇÁÇπÁöÑÁ•ñÂÖàÔºåÂàôv ‰πüÊòØu ÁöÑÁ•ñÂÖàÔºõ Ëã•u ÁöÑÁà∂ËäÇÁÇπÊòØv ÁöÑÂêé‰ª£ÔºåÂàôu ‰πüÊòØv ÁöÑÂêé‰ª£„ÄÇ Èô§ËäÇÁÇπÊú¨Ë∫´‰ª•Â§ñÁöÑÁ•ñÂÖàÔºàÂêé‰ª£ÔºâÔºåÁß∞‰ΩúÁúüÁ•ñÂÖàÔºàÂêé‰ª£Ôºâ„ÄÇ‰ªª‰∏ÄËäÇÁÇπv ÁöÑÊ∑±Â∫¶ÔºåÁ≠â‰∫éÂÖ∂ÁúüÁ•ñÂÖàÁöÑÊï∞ÁõÆ„ÄÇ‰ªª‰∏ÄËäÇÁÇπv ÁöÑÁ•ñÂÖàÔºåÂú®ÊØè‰∏ÄÊ∑±Â∫¶‰∏äÊúÄÂ§öÂè™Êúâ‰∏Ä‰∏™„ÄÇÊ†ëT ‰∏≠ÊØè‰∏ÄËäÇÁÇπv ÁöÑÊâÄÊúâÂêé‰ª£‰πüÊûÑÊàê‰∏ÄÊ£µÊ†ëÔºåÁß∞‰ΩúT ÁöÑ‚Äú‰ª•v ‰∏∫Ê†πÁöÑÂ≠êÊ†ëÔºàSubtreeÔºâ‚ÄùËã•Â≠êÊ†ëv ÁöÑÊ∑±Â∫¶ÔºàÈ´òÂ∫¶Ôºâ‰∏∫hÔºåÂàôÁß∞v ÁöÑÈ´òÂ∫¶‰∏∫hÔºåËÆ∞‰Ωúheight(v) = h„ÄÇÂØπ‰∫éÂè∂Â≠êËäÇÁÇπu ÁöÑ‰ªª‰ΩïÁ•ñÂÖàvÔºåÂøÖÊúâdepth(v) + height(v) ‚â• depth(u)„ÄÇ ÂÖ±ÂêåÁ•ñÂÖàÂèäÊúÄ‰ΩéÂÖ±ÂêåÁ•ñÂÖà Âú®Ê†ëT ‰∏≠ÔºåËã•ËäÇÁÇπu Âíåv ÈÉΩÊòØËäÇÁÇπa ÁöÑÂêé‰ª£ÔºåÂàôÁß∞ËäÇÁÇπa ‰∏∫ËäÇÁÇπu Âíåv ÁöÑÂÖ±ÂêåÁ•ñÂÖàÔºàCommonancestorÔºâ„ÄÇÊØè‰∏ÄÂØπËäÇÁÇπËá≥Â∞ëÂ≠òÂú®‰∏Ä‰∏™ÂÖ±ÂêåÁ•ñÂÖà„ÄÇÂú®‰∏ÄÂØπËäÇÁÇπu Âíåv ÁöÑÊâÄÊúâÂÖ±ÂêåÁ•ñÂÖà‰∏≠ÔºåÊ∑±Â∫¶ÊúÄÂ§ßËÄÖÁß∞‰∏∫ÂÆÉ‰ª¨ÁöÑÊúÄ‰ΩéÂÖ±ÂêåÁ•ñÂÖàÔºàLowerestcommon ancestorÔºâÔºåËÆ∞‰Ωúlca(u, v)„ÄÇÊØè‰∏ÄÂØπËäÇÁÇπÁöÑÊúÄ‰ΩéÂÖ±ÂêåÁ•ñÂÖàÂøÖÂ≠òÂú®‰∏îÂîØ‰∏Ä„ÄÇ ÊúâÂ∫èÊ†ë„ÄÅm ÂèâÊ†ë Âú®Ê†ëT ‰∏≠ÔºåËã•Âú®ÊØè‰∏™ËäÇÁÇπÁöÑÊâÄÊúâÂ≠©Â≠ê‰πãÈó¥ÈÉΩÂèØ‰ª•ÂÆö‰πâÊüê‰∏ÄÁ∫øÊÄßÊ¨°Â∫èÔºåÂàôÁß∞T ‰∏∫‰∏ÄÊ£µ‚ÄúÊúâÂ∫èÊ†ëÔºàOrdered treeÔºâ‚ÄùÊØè‰∏™ÂÜÖÈÉ®ËäÇÁÇπÂùá‰∏∫m Â∫¶ÁöÑÊúâÂ∫èÊ†ëÔºåÁß∞‰Ωúm ÂèâÊ†ë„ÄÇ ‰∫åÂèâÊ†ë ÊØè‰∏™ËäÇÁÇπÂùá‰∏çË∂ÖËøá2 Â∫¶ÁöÑÊúâÂ∫èÊ†ëÔºåÁß∞‰Ωú‰∫åÂèâÊ†ëÔºàBinary treeÔºâ„ÄÇ‰∏çÂê´1 Â∫¶ËäÇÁÇπÁöÑ‰∫åÂèâÊ†ëÔºåÁß∞‰ΩúÁúü‰∫åÂèâÊ†ëÔºàProper binary treeÔºâÔºåÂê¶ÂàôÁß∞‰ΩúÈùûÁúü‰∫åÂèâÊ†ë ÔºàImproper binary treeÔºâ„ÄÇÂú®‰∫åÂèâÊ†ë‰∏≠ÔºåÊ∑±Â∫¶‰∏∫k ÁöÑËäÇÁÇπ‰∏çË∂ÖËøá2k ‰∏™„ÄÇÈ´òÂ∫¶‰∏∫h ÁöÑ‰∫åÂèâÊ†ëÊúÄÂ§öÂåÖÂê´2h+1-1 ‰∏™ËäÇÁÇπ„ÄÇÁî±n ‰∏™ËäÇÁÇπÊûÑÊàêÁöÑ‰∫åÂèâÊ†ëÔºåÈ´òÂ∫¶Ëá≥Â∞ë‰∏∫‚é£log2n‚é¶„ÄÇÂú®‰∫åÂèâÊ†ë‰∏≠ÔºåÂè∂Â≠êÊÄªÊòØÊØî2 Â∫¶ËäÇÁÇπÂ§ö‰∏Ä‰∏™„ÄÇ Êª°‰∫åÂèâÊ†ë‰∏éÂÆåÂÖ®‰∫åÂèâÊ†ë Ëã•‰∫åÂèâÊ†ëT ‰∏≠ÊâÄÊúâÂè∂Â≠êÁöÑÊ∑±Â∫¶ÂÆåÂÖ®Áõ∏ÂêåÔºåÂàôÁß∞‰πã‰∏∫Êª°‰∫åÂèâÊ†ëÔºàFull binary treeÔºâÈ´òÂ∫¶‰∏∫h ÁöÑ‰∫åÂèâÊ†ëÊòØÊª°ÁöÑÔºåÂΩì‰∏î‰ªÖÂΩìÂÆÉÊã•Êúâ2h ÂåπÂè∂Â≠ê„ÄÅ2h+1-1 ‰∏™ËäÇÁÇπ„ÄÇËã•Âú®‰∏ÄÊ£µÊª°‰∫åÂèâÊ†ë‰∏≠Ôºå‰ªéÊúÄÂè≥‰æßËµ∑Â∞ÜÁõ∏ÈÇªÁöÑËã•Âπ≤ÂåπÂè∂Â≠êËäÇÁÇπÊëòÈô§ÊéâÔºåÂàôÂæóÂà∞ÁöÑ‰∫åÂèâÊ†ëÁß∞‰ΩúÂÆåÂÖ®‰∫åÂèâÊ†ëÔºàComplete binary treeÔºâ„ÄÇÁî±n ‰∏™ËäÇÁÇπÊûÑÊàêÁöÑÂÆåÂÖ®‰∫åÂèâÊ†ëÔºåÈ´òÂ∫¶h = ‚é£log2n‚é¶„ÄÇÂú®Áî±Âõ∫ÂÆöÊï∞ÁõÆÁöÑËäÇÁÇπÊâÄÁªÑÊàêÁöÑÊâÄÊúâ‰∫åÂèâÊ†ë‰∏≠ÔºåÂÆåÂÖ®‰∫åÂèâÊ†ëÁöÑÈ´òÂ∫¶ÊúÄ‰Ωé„ÄÇ Á¨¨‰∫îÁ´† ‰ºòÂÖàÈòüÂàó Á¨¨ÂÖ≠Á´† Êò†Â∞Ñ‰∏éËØçÂÖ∏ Á¨¨‰∏ÉÁ´† Êü•ÊâæÊ†ë Á¨¨ÂÖ´Á´† ‰∏≤ Á¨¨‰πùÁ´† Âõæ Á¨¨ÂçÅÁ´† ÁÆóÊ≥ïÊÄùÊÉ≥ ‰∫å„ÄÅÂ∏∏Áî®ÁÆóÊ≥ï ÊéíÂ∫è 1„ÄÅÂÜíÊ≥°ÊéíÂ∫è 2„ÄÅÈÄâÊã©ÊéíÂ∫è 3„ÄÅÊèíÂÖ•ÊéíÂ∫è 4„ÄÅÂ∏åÂ∞îÊéíÂ∫è 5„ÄÅÂΩíÂπ∂ÊéíÂ∫è 6„ÄÅÂø´ÈÄüÊéíÂ∫è ÁÑ∂ÂêéÂü∫ÂáÜ‰∏§ËæπÂàÜÂà´Âø´ÈÄüÊéíÂ∫è 7„ÄÅÂ†ÜÊéíÂ∫è 8„ÄÅËÆ°Êï∞ÊéíÂ∫è 9„ÄÅÊ°∂ÊéíÂ∫è 10„ÄÅÂü∫Êï∞ÊéíÂ∫è Êü•Êâæ 1. È°∫Â∫èÊü•Êâæ 2. ‰∫åÂàÜÊü•Êâæ 3. ÊèíÂÄºÊü•Êâæ 4. ÊñêÊ≥¢ÈÇ£Â•ëÊü•Êâæ 5. Ê†ëË°®Êü•Êâæ 6. ÂàÜÂùóÊü•Êâæ 7. ÂìàÂ∏åÊü•Êâæ ‰∏â„ÄÅÁÆóÊ≥ïÈ¢ò 2.18È¢òÁõÆÔºöÂ∫èÂè∑-È¢òÁõÆ ÊÄùË∑Ø1Ôºö 123ÊÄùË∑Ø1‰ºòÁÇπÔºöÁº∫ÁÇπÔºö ‰ª£Á†Å1Ôºö 1‰ª£Á†Å1 ÊÄùË∑Ø2Ôºö 123ÊÄùË∑Ø2‰ºòÁÇπÔºöÁº∫ÁÇπÔºö ‰ª£Á†Å2Ôºö 1‰ª£Á†Å2 ÂèÇËÄÉÊñáÁåÆÔºöÊï∞ÊçÆÁªìÊûÑÈ¢ÑÁÆóÊ≥ï(JavaÊèèËø∞)ÈÇì‰øäËæâ","link":"/2021/02/19/Draft/2021/%E6%AF%8F%E6%97%A5%E7%AE%97%E6%B3%95/"},{"title":"‰∫îÂàÜÈíüÊê≠Âª∫Âú®Á∫øÂçöÂÆ¢","text":"ÂçöÂÆ¢Â∑≤Êàê‰∏∫Á®ãÂ∫èÂëòÂ≠¶‰π†‰∏éËæìÂá∫ÈáçË¶Å‰∏ÄÁéØÔºåÂΩì‰Ω†Êó∂Èó¥ÂÆùË¥µÊàñËÄÖÊ≤°ÊúâÂøÖË¶Å‰ªéÈõ∂ÊûÑÂª∫‰∏™‰∫∫ÂçöÂÆ¢ÁöÑËØùÔºå‰∏Ä‰∏™ÂèØ‰ª•ËøõË°åÂø´ÈÄüÊê≠Âª∫ÁöÑÈùôÊÄÅÂçöÂÆ¢Â∞±ÊòæÂæóÊØîËæÉÈáçË¶Å‰∫Ü„ÄÇ‰∏ç‰ΩÜ‰∏∞ÂØåÁöÑ‰∏ªÈ¢òÂèØ‰ª•‰ªª‰Ω†ÈÄâÊã©ÔºåÂêÑ‰∏™ÁªÑ‰ª∂ËøòÂèØ‰ª•‰ªª‰Ω†Êê≠ÈÖç„ÄÇÊúâÁöÑÁîöËá≥Êó†ÈúÄÊúçÂä°Âô®ÂíåÂüüÂêçÊ≥®ÂÜåÔºåÂàÜÂàÜÈíüÂÆûÁé∞Ëá™Â∑±ÂàÜ‰∫´ÁöÑÂ∞èÂü∫Âú∞„ÄÇ ÁõÆÂâçÊØîËæÉÊµÅË°åÁöÑÂºÄÊ∫êÊ°ÜÊû∂Êúâ Hexo„ÄÅWordPress„ÄÅVuePress„ÄÅHugo„ÄÅSolo„ÄÅHalo „ÄÅJekyll ÁôΩÂ´ñÂÖö„ÄêÊó†ÈúÄÊúçÂä°Âô®ÔºåÂÖçË¥πÂüüÂêç„ÄëÂñúÊ¨¢ÁöÑÊó†‰∏™‰∫∫ÂüüÂêçÊó†Ê≥ïË¢´ÁôæÂ∫¶ÊêúÁ¥¢ Jekyll„ÄÅHugo„ÄÅHexo Êú¨ÂçöÂÆ¢‰ΩøÁî® Hexo Êé•‰∏ãÊù•ÂºÄÂßãHexoÂçöÂÆ¢Âø´ÈÄüÊê≠Âª∫ ÁéØÂ¢ÉÂáÜÂ§á GithubË¥¶Âè∑ÔºåÊñ∞Â∫ìÂêç:Áî®Êà∑Âêç.github.io node.js„ÄÅnpm„ÄÅJS„ÄÅGit ÂÆâË£Ö‰∏éÂü∫Á°ÄÂ≠¶‰π† ÂõæÂ∫ä Gitee+PicGo ÂàùÊ≠•Êê≠Âª∫ ÂàõÂª∫ÂçöÂÆ¢Êñá‰ª∂Â§πÔºåshift+Âè≥ÈîÆËøõÂÖ•ÁõÆÂΩïcmd ÂÆâË£Öhexo npm install -g hexo-cli ÂàùÂßãÂåñÊñá‰ª∂Â§π hexo init hexo_blog ËøõÂÖ•ÂçöÂÆ¢Êñá‰ª∂Â§π cd E:\\my\\hexo_blog ÂÆâË£ÖÂçöÂÆ¢ÈúÄË¶ÅÁöÑ‰æùËµñÊñá‰ª∂ npm install HexoÂëΩ‰ª§ hexo cl #Ê∏ÖÁêÜ hexo g #ÁîüÊàê hexo s #Êú¨Âú∞ÊúçÂä° hexo d #ÂèëÂ∏É ÊµãËØïhttp://locakhost:4000 Êàñ127.0.0.1:4000 ÂàùÊ≠•Êê≠Âª∫ÂÆåÊàê HexoÁõ∏ÂÖ≥ÈÖçÁΩÆ È°πÁõÆÁõÆÂΩïËØ¥Êòé _config.ymlÈÖçÁΩÆ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117title: ÂçöÂÆ¢Âêçsubtitle: ÂâØÊ†áÈ¢òdescription: ÂçöÂÆ¢ÊèèËø∞keywords: SEOÊêúÁ¥¢ÂÖ≥ÈîÆËØçauthor: ÊñáÁ´†‰ΩúËÄÖlanguage: zh-CN #ËØ≠Ë®Ätimezone: ''#Êó∂Âå∫# URL## If your site is put in a subdirectory, set url as 'http://example.com/child' and root as '/child/'url: http://MrDemonlxl.github.io #ÁΩëÂùÄroot: /permalink: :year/:month/:day/:title/permalink_defaults:pretty_urls: trailing_index: true # Set to false to remove trailing 'index.html' from permalinks trailing_html: true # Set to false to remove trailing '.html' from permalinks# Directorysource_dir: sourcepublic_dir: publictag_dir: tagsarchive_dir: archivescategory_dir: categoriescode_dir: downloads/codei18n_dir: :langskip_render:# Writingnew_post_name: :title.md # File name of new postsdefault_layout: posttitlecase: false # Transform title into titlecaseexternal_link: enable: true # Open external links in new tab field: site # Apply to the whole site exclude: ''filename_case: 0render_drafts: falsepost_asset_folder: falserelative_link: falsefuture: truehighlight: enable: true line_number: true auto_detect: false tab_replace: '' wrap: true hljs: falseprismjs: enable: false preprocess: true line_number: true tab_replace: ''# Home page setting# path: Root path for your blogs index page. (default = '')# per_page: Posts displayed per page. (0 = disable pagination)# order_by: Posts order. (Order by date descending by default)index_generator: path: '' per_page: 10 order_by: -date# Category &amp; Tagdefault_category: uncategorizedcategory_map:tag_map:# Metadata elements## https://developer.mozilla.org/en-US/docs/Web/HTML/Element/metameta_generator: true# Date / Time format## Hexo uses Moment.js to parse and display date## You can customize the date format as defined in## http://momentjs.com/docs/#/displaying/format/date_format: YYYY-MM-DDtime_format: HH:mm:ss## updated_option supports 'mtime', 'date', 'empty'updated_option: 'mtime'# Pagination## Set per_page to 0 to disable paginationper_page: 10pagination_dir: page# Include / Exclude file(s)## include:/exclude: options only apply to the 'source/' folderinclude:exclude:ignore:# Extensions## Plugins: https://hexo.io/plugins/## Themes: https://hexo.io/themes/theme: amazing#landscape# Deployment## Docs: https://hexo.io/docs/one-command-deploymentdeploy: type: git repo: https://github.com/MrDemonlxl/MrDemonlxl.github.io.git branch: maincomment: #ËØÑËÆ∫ type: gitalk language: zh-CN #zh-CN #Localization language key, en, zh-CN and zh-TW are currently available. owner: MrDemonlxl # (required) GitHub user name repo: MrDemonlxl.github.io # (required) GitHub repository name client_id: # (required) OAuth application client id client_secret: # (required) OAuth application client secret admin: [''] create_issue_manually: true distraction_free_mode: false has_hot_recommend: true # ÊòØÂê¶ÊúâÁÉ≠Èó®Êé®Ëçê has_latest_comment: true #ÊòØÂê¶ÊúâÊúÄÊñ∞ËØÑËÆ∫ # ‰∏ªÈ¢òÈÄâÊã© https://hexo.io/themes/ ÈÄâÊã©ÂñúÊ¨¢‰∏ªÈ¢òÔºå‰∏ãËΩΩÁõ∏Â∫î‰∏ªÈ¢òÂåÖÊîæÂÖ•‰∏ªÈ¢òÊñá‰ª∂Â§πÔºåËøõË°åÂØπÂ∫î‰∏ªÈ¢òËØ¥ÊòéÈÖçÁΩÆ„ÄÇ # ÁªßÁª≠Â≠¶‰π†ÂÆåÂñÑ https://hexo.io/zh-cn/docs/index.html # ÊïàÊûúÈ¢ÑËßà https://mrdemonlxl.github.io/","link":"/2021/02/18/Draft/2021/%E4%BA%94%E5%88%86%E9%92%9F%E6%90%AD%E5%BB%BA%E5%9C%A8%E7%BA%BF%E5%8D%9A%E5%AE%A2/"},{"title":"Â¶Ç‰ΩïÂ≠¶‰π†‰∏Ä‰∏™Êñ∞Áü•ËØÜ","text":"‰∏™‰∫∫Â≠¶‰π†ÊµÅÁ®ãÂ∑•ÂÖ∑ËÆ∞ÂΩïÔºåÂ¶Ç‰ΩïÂ∞Ü‰∏Ä‰∏™Â≠¶‰π†ÁõÆÊ†áÊúÄÈ´òÊïàÁéáÂåñ Â≠¶‰π†==„ÄãÁÜüÁªÉ==„ÄãÂ§ßÂ∏à==„ÄãÂàõÈÄ† Êñ∞Â≠¶ÂõõÈóÆ WHY„Äê‰∏éÂâç‰ª£‰ºòÂåñ‰∫Ü‰ªÄ‰πàÔºåÂº•Ë°•‰∫Ü‰ªÄ‰πàÁ©∫ÁôΩ„Äë WHAT„ÄêÊ°ÜÊû∂ÔºåÊÄùÁª¥ÂØºÂõæÔºå‰∏ªÈ¢òÊ°ÜÊû∂„Äë HOW„ÄêÂ¶Ç‰ΩïËÆ∞ÂøÜÔºåÂ≠¶‰π†ËµÑÊ∫ê„Äë LEVEL„Äê‰∏çÊòØÊØè‰∏™ÈÉΩÂ≠¶Á≤æ„Äë ÂõûÈ°æÂõõÈóÆ„ÄêË°•ÂÖÖ„Äë WHY„Äê‰∏éÂâç‰ª£‰ºòÂåñ‰∫Ü‰ªÄ‰πàÔºåÂº•Ë°•‰∫Ü‰ªÄ‰πàÁ©∫ÁôΩ„Äë WHAT„ÄêÊ°ÜÊû∂ÔºåÊÄùÁª¥ÂØºÂõæÔºå‰∏ªÈ¢òÊ°ÜÊû∂„Äë HOW„ÄêÂ¶Ç‰ΩïËÆ∞ÂøÜÔºåÂ≠¶‰π†ËµÑÊ∫ê„Äë LEVEL„Äê‰∏çÊòØÊØè‰∏™ÈÉΩÂ≠¶Á≤æ„Äë Â∑•ÂÖ∑ Xmaind MarginNote Typora Anki Âç∞Ë±°Á¨îËÆ∞ ‰∏ìÈ°πÂ∑•ÂÖ∑ ÂùöÊûúÔºàÁ¨îËÆ∞Âú®Á∫øÂêåÊ≠•Ôºâ ÁôæÂ∫¶Âú®Á∫øËÑëÂõæ processon Êñá‰ª∂Á≥ªÁªü ÈòøÈáå‰∫ëÁΩëÁõò ÂùöÊûú‰∫ë ÁßªÂä®Á°¨Áõò ÊµÅÁ®ã Á°ÆÂÆöÂÆòÊñπÊñáÊ°£ Google ‰∏∫‰ªÄ‰πàÂ≠¶„Äê‰∏éÂâç‰ª£‰ºòÂåñ‰∫Ü‰ªÄ‰πà„ÄëÔºåÂ≠¶‰ªÄ‰πà„ÄêÊ°ÜÊû∂ÔºåÊÄùÁª¥ÂØºÂõæ„ÄëÔºåÂ¶Ç‰ΩïÂ≠¶„ÄêÈáçÂ§çËøêÁî®ÔºåÁõ¥Êé•ËÉåËØµ„ÄëÔºåÂ≠¶Âà∞Âì™„Äê‰ºöÁî®Âç≥ÂèØ„Äë ËµÑÊ∫êÂáÜÂ§á XmaindÔºåMarginNoteÔºåGoodnotes„ÄêÊÄùÁª¥ÂØºÂõæÔºåÁ¨îËÆ∞„ÄëÔºåÁôæÂ∫¶Âú®Á∫øËÑëÂõæ TyporaÔºåÂç∞Ë±°Á¨îËÆ∞ ÂØºÂÖ•ÊÄùÁª¥ÂØºÂõæ Markdown Á¨îËÆ∞ÁªÜÂåñÔºåÊñπ‰æøÊï¥ÁêÜÂàÜ‰∫´ Anki ËâæÂÆæÊµ©ÊñØËÆ∞ÂøÜÁ®≥Âõ∫ ÁªìÊûÑÂåñ====„ÄãÁªÜÂåñ====„ÄãÂõ∫Âåñ====„ÄãÊõ¥Êñ∞ ‰ª£Á†ÅÂ≠¶‰π†ÔºöÊÄùËÄÉ&gt;Êï≤‰ª£Á†Å&gt;Áúã ÊñπÊ≥ï ÂàÜÁ±ªÂ≠¶‰π† Ëá™ÈóÆËá™Á≠î ÈáçÂ§çËÆ∞ÂøÜ ÂÆûÊìçËøêÁî® ÊúÄÈ´òÊ†áÂáÜ Á¨îËÆ∞ÊñπÊ≥ï ÂêàÁêÜËÆ°Âàí Áù£‰øÉÈ™åÊî∂ ÂÆûË∑µÂèëÁé∞Êú™Áü• Âõ∫ÂÆöÁ¨îËÆ∞Ê®°ÊùøÂπ∂‰∏çÊñ≠ÁªÜÂåñ 80%Êó∂Èó¥Âú®Âü∫Á°ÄÔºå18%Âú®Ê°ÜÊû∂Ôºå2%Âú®Ëã±ÊñáÔºåËßÜÈ¢ëÊõ¥ÁªÜÔºåÂçöÂÆ¢Êõ¥Âø´ÔºåÂÆòÊñπÊñáÊ°£‰∏∫Áéã ÊäÄÊúØÁöÑËøõÊ≠•ÊòØ‰∏ÄÁÇπ‰∏ÄÊª¥ÂÆûÊìçËÄåÊù•ÁöÑ DEMOÂ°ëÈÄ†ÔºåÁ¨îËÆ∞+È°πÁõÆ‰ª£Á†Å ÁΩëÁªúÊñπÊ≥ï Ë¥πÊõºÂ≠¶‰π†Ê≥ï","link":"/2021/02/09/Draft/2021/%E5%A6%82%E4%BD%95%E5%AD%A6%E4%B9%A0%E4%B8%80%E4%B8%AA%E6%96%B0%E7%9F%A5%E8%AF%86/"},{"title":"Interesting Programs","text":"‰∏Ä‰∫õÊúâË∂£ÁöÑÁºñÁ®ãÈ°πÁõÆÔºåÂõûÂà∞‰πêË∂£Êú¨Ë∫´„ÄÇ ÁºñÁ®ãÁªòÁîªÔºåÂõæÂΩ¢ÔºåÊ∑±Â∫¶Â≠¶‰π†Á≠âCRUDÊÑèÂ§ñÊúâË∂£ÁöÑ‰∏úË•ø„ÄÇ Êñ∞Â≠¶ÂõõÈóÆ WHY„Äê‰∏éÂâç‰ª£‰ºòÂåñ‰∫Ü‰ªÄ‰πàÔºåÂº•Ë°•‰∫Ü‰ªÄ‰πàÁ©∫ÁôΩ„ÄëÔºö WHAT„ÄêÊ°ÜÊû∂ÔºåÊÄùÁª¥ÂØºÂõæÔºå‰∏ªÈ¢òÊ°ÜÊû∂„ÄëÔºö HOW„ÄêÂ¶Ç‰ΩïËÆ∞ÂøÜÔºåÂ≠¶‰π†ËµÑÊ∫ê„ÄëÔºöÁ†îÁ©∂Ê∫êÁ†Å„ÄÅËß£ÊûêÊÄùÊÉ≥„ÄÅ‰∏öÂä°ÊµÅÁ®ã LEVEL„Äê‰∏çÊòØÊØè‰∏™ÈÉΩÂ≠¶Á≤æ„ÄëÔºö ËøõÂ∫¶Ôºö‰∏äÁØá „Äê„Äë Â§ßÊï∞ÊçÆ Ê∑±Â∫¶Â≠¶‰π† Êú∫Âô®Â≠¶‰π† Âø´Êü• ÂºïÁî®Ôºö","link":"/2021/01/20/Draft/2021/Interesting%20Programs/"},{"title":"Markdown","text":"Markdown‰Ωú‰∏∫Ëá™Â™í‰Ωì‰∫∫ÈùûÂ∏∏Êñπ‰æøÁöÑ‰∏Ä‰∏™Â∑•ÂÖ∑ÔºåÂèØ‰ª•ÂÜçÂêÑÂ§ßËá™Â™í‰ΩìÁΩëÁ´ôÈÄöÁî®ÔºåÂÆûÁé∞‰∏ÄÁØáÂ§öÂèëÁöÑÊïàÊûú„ÄÇÂÖ∂ËØ≠Ê≥ïÁÆÄÂçïÔºåÂá†‰πéÂèØ‰ª•ÊäõÂºÉÈº†Ê†áÔºåÁîüÊàê‰∏ÄÂàáÊ†∑Âºè„ÄÇ Á¨¶Âè∑ Á¨¶Âè∑(Ëã±ÊñáËæìÂÖ•Áä∂ÊÄÅ‰∏ãÔºåÂºÄÂ§¥ËæìÂÖ•‚Äú:‚Äù+Ëã±ÊñáÂ≠óÊØçÊúâÊèêÁ§∫) MarkdownÁÆ≠Â§¥ÁöÑËæìÂÖ•ÊñπÊ≥ïÊ±áÊÄª ÊôÆÈÄöÁÆ≠Â§¥ ÁÆ≠Â§¥ÂΩ¢Áä∂ MarkDown $\\uparrow$ $\\uparrow$ $\\Uparrow$ $\\Uparrow$ $\\downarrow$ $\\downarrow$ $\\Downarrow$ $\\Downarrow$ $\\leftarrow$ $\\leftarrow$ $\\Leftarrow$ $\\Leftarrow$ $\\rightarrow$ $\\rightarrow$ $\\Rightarrow$ $\\Rightarrow$ $\\updownarrow$ $\\updownarrow$ $\\Updownarrow$ $\\Updownarrow$ $\\leftrightarrow$ $\\leftrightarrow$ $\\Leftrightarrow$ $\\Leftrightarrow$ ÈïøÁÆ≠Â§¥ ÁÆ≠Â§¥ÂΩ¢Áä∂ MarkDown $\\longleftarrow$ $\\longleftarrow$ $\\Longleftarrow$ $\\Longleftarrow$ $\\longrightarrow$ $\\longrightarrow$ $\\Longrightarrow$ $\\Longrightarrow$ $\\longleftrightarrow$ $\\longleftrightarrow$ $\\Longleftrightarrow$ $\\Longleftrightarrow$ ÂÖ∂‰ªñÁÆ≠Â§¥ ÁÆ≠Â§¥ÂΩ¢Áä∂ MarkDown $\\twoheadrightarrow$ $\\twoheadrightarrow$ $\\rightarrowtail$ $\\rightarrowtail$ $\\looparrowright$ $\\looparrowright$ $\\curvearrowright$ $\\curvearrowright$ $\\circlearrowright$ $\\circlearrowright$ $\\Rsh$ $\\Rsh$ $\\multimap$ $\\multimap$ $\\leftrightsquigarrow$ $\\leftrightsquigarrow$ $\\rightsquigarrow$ $\\rightsquigarrow$ $\\leadsto$ $\\leadsto$ $\\nearrow$ $\\nearrow$ $\\searrow$ $\\searrow$ $\\swarrow$ $\\swarrow$ $\\nwarrow$ $\\nwarrow$ $\\nleftarrow$ $\\nleftarrow$ $\\nLeftarrow$ $\\nLeftarrow$ $\\nrightarrow$ $\\nrightarrow$ $\\nRightarrow$ $\\nRightarrow$ $\\nleftrightarrow$ $\\nleftrightarrow$ $\\nLeftrightarrow$ $\\nLeftrightarrow$ $\\dashrightarrow$ $\\dashrightarrow$ $\\dashleftarrow$ $\\dashleftarrow$ $\\leftleftarrows$ $\\leftleftarrows$ $\\leftrightarrows$ $\\leftrightarrows$ $\\Lleftarrow$ $\\Lleftarrow$ $\\twoheadleftarrow$ $\\twoheadleftarrow$ $\\leftarrowtail$ $\\leftarrowtail$ $\\looparrowleft$ $\\looparrowleft$ $\\curvearrowleft$ $\\curvearrowleft$ ÁÆ≠Â§¥ÂΩ¢Áä∂ MarkDown $\\circlearrowleft$ $\\circlearrowleft$ $\\Lsh$ $\\Lsh$ $\\mapsto$ $\\mapsto$ $\\hookleftarrow$ $\\hookleftarrow$ $\\hookrightarrow$ $\\hookrightarrow$ $\\upharpoonright$ $\\upharpoonright$ $\\upharpoonleft$ $\\upharpoonleft$ $\\downharpoonright$ $\\downharpoonright$ $\\downharpoonleft$ $\\downharpoonleft$ $\\leftharpoonup$ $\\leftharpoonup$ $\\rightharpoonup$ $\\rightharpoonup$ $\\rightharpoondown$ $\\rightharpoondown$ $\\leftharpoondown$ $\\leftharpoondown$ $\\upuparrows$ $\\upuparrows$ $\\downdownarrows$ $\\downdownarrows$ $\\rightrightarrows$ $\\rightrightarrows$ $\\rightleftarrows$ $\\rightleftarrows$ $\\leftleftarrows$ $\\leftleftarrows$ $\\leftrightarrows$ $\\leftrightarrows$ $\\rightleftharpoons$ $\\rightleftharpoons$ $\\leftrightharpoons$ $\\leftrightharpoons$ ÂàÜÂâ≤Á∫ø LaTeXÁ¨¶Âè∑ ËØ≠Ê≥ïÔºö$\\clubsuit$ $\\triangleright$ Ê†ºÂºè 1234567891011&amp;emsp;È¶ñË°åÁº©Ëøõ~~Âà†Èô§Á∫ø~~~Áº©Â∞è~`‰ª£Á†Å` --- ÂàÜÂâ≤Á∫ø&lt;font color=red&gt;Â≠ó‰ΩìÈ¢úËâ≤&lt;/font&gt;+Á©∫Ê†º[Á©∫Ê†º]Á©∫Ê†º ÂãæÈÄâÊ°Ü[ÂÜÖÂÆπÊñáÂ≠ó](#Ê†áÈ¢ò) È°µÂÜÖË∑≥ËΩ¨[ÂÜÖÂÆπÊñáÂ≠ó](Ë∑≥ËΩ¨ÁõÆÊ†áÊñá‰ª∂ÁöÑÁõ∏ÂØπË∑ØÂæÑ)‰∏ãÂàíÁ∫ø html ÊñπÊ≥ïÔºö&lt;span style=&quot;border-bottom:2px dashed yellow;&quot;&gt;ÊñáÂ≠ó&lt;/span&gt;‰∏ãÂàíÁ∫ø typory ÊñπÊ≥ïÔºàctrl+uÔºâÔºö &lt;u&gt;awdw&lt;/u&gt; Âõæ ÂõæÁâáÔºàhexoÔºâ Âõæ + Ê®™Á´ñÂõæ ![Âº†Ëä∑Ê∫™](https://wx1.sinaimg.cn/large/b5d1b710ly1g6bz7n92s7j212w0nr1kx.jpg) + Ê®™Âõæ4 ![v4](https://cdn.jsdelivr.net/gh/removeif/blog_image/img/2019/20191022182226.png) + Á´ñÂõæ5 ![ÁîµÊ±†](https://cdn.jsdelivr.net/gh/removeif/blog_image/img/2019/20191024145940.jpg) ÂØºÂõæ Áä∂ÊÄÅËΩ¨ÁßªÂõæ stateDiagram %% ÂçïÁ®ãÁîüÂëΩÂë®ÊúüËµ∑ÁÇπÊòØÂÆûÂøÉÂúÜÔºåÁªàÁÇπÊòØÂêåÂøÉÂúÜÔºåÂÜÖÂúÜ‰∏∫ÂÆûÂøÉ„ÄÇ %%Ëøô‰∏™‰æãÂ≠êÂåÖÂê´ÊòØ3‰∏™Áä∂ÊÄÅStill, Moving Âíå Crash. ‰ªéStillÁä∂ÊÄÅÂèØ‰ª•ËΩ¨ÁßªÂà∞MovingÔºå‰ªéMovingÂèØ‰ª•ËΩ¨ÁßªÂà∞Still ÊàñËÄÖ Crash„ÄÇ‰∏çËÉΩ‰ªéStillËΩ¨ÁßªÂà∞Crash [*] --> Still Still --> [*] Still --> Moving: A transition note right of Moving MovingÂèØ‰ª•ËΩ¨ÁßªÂà∞StillÊàñËÄÖCrash end note Moving --> Still Moving --> Crash Crash --> [*] Á±ªÂõæ classDiagram class Duck{ -String beakColor - double weight +swim() +quack() #count() +getPrice(count) double +someAbstractMethod() * -someStaticMethod() $ } class Shape{ %% This whole line is a comment classDiagram class Shape noOfVertices draw() } class Color{ RED BLUE GREEN WHITE BLACK } class Relation{ } classK ..> classL : ‰æùËµñÂÖ≥Á≥ª classA --|> classB : ÁªßÊâøÂÖ≥Á≥ªÔºàÊ≥õÂåñÔºâ classM ..|> classN : ÂÆûÁé∞ÂÖ≥Á≥ª classG --> classH : ÂÖ≥ËÅîÂÖ≥Á≥ª classE --o classF : ËÅöÂêàÂÖ≥Á≥ª classC --* classD : ÁªÑÂêàÂÖ≥Á≥ª Customer \"1\" --> \"*\" Ticket Student \"1\" --> \"1..*\" Course Galaxy --> \"many\" Star : Contains Sky \"1\"--> \"1\" Sun Parent \"1\" -- \"0..2\" Children Person \"1\" -- \"2\" Eyes È•ºÂõæ pie title Pie Chart \"Dogs\" : 386 \"Cats\" : 85 \"Rats\" : 150 \"Cows\" : 150 Ê∏≤ÊüìÊïàÊûú graph LR id1(Start)-->id2(Stop) style id1 fill:#f9f,stroke:#333,stroke-width:4px; style id2 fill:#f00,stroke:#000,stroke-width:2px,stroke-dasharray:5,5; Âü∫Á°ÄfontawesomeÊîØÊåÅ graph TD B[\"fa:fa-twitter for peace\"] B-->C[fa:fa-ban forbidden] B-->D(fa:fa-spinner); B-->E(A fa:fa-camerra-retro perhaps?); ËøûÁ∫ø graph TD A1==TEXT===B1 A2-->|text|B2 A3..-B3 ËäÇÁÇπÂΩ¢Áä∂ graph TD B[bname] C(cname) D((dname)) E>ename] F{fname} ÁîòÁâπÂõæ ÂÖ≥ÈîÆËØçËØ¥ÊòéÔºö title‚ÄîÊ†áÈ¢ò dateFormat‚ÄîÊó•ÊúüÊ†ºÂºè section‚ÄîÊ®°Âùó Completed‚ÄîÂ∑≤ÁªèÂÆåÊàê Active‚ÄîÂΩìÂâçÊ≠£Âú®ËøõË°å Future‚ÄîÂêéÁª≠ÂæÖÂ§ÑÁêÜ crit‚ÄîÂÖ≥ÈîÆÈò∂ÊÆµ gantt dateFormat YYYY-MM-DD title Adding GANTT diagram functionality to mermaid section A section Completed task :done, des1, 2014-01-06,2014-01-08 Active task :active, des2, 2014-01-09, 3d future task : des3, after des2, 5d future task2 : des4, after des3, 5d section Critical tasks Completed task in the critical line :crit, done, 2014-01-06,24h Implement parser and json :crit, done, after des1, 2d Create tests for parser :crit, active, 3d Future task in critical line :crit, 5d Create tests for renderer :2d Add to ,mermaid :1d ÊµÅÁ®ãÂõæ graph TD A[ÊñπÂΩ¢] -->B(ÂúÜËßí) B --> C{Êù°‰ª∂a} C -->|a=1| D[ÁªìÊûú1] C -->|a=2| E[ÁªìÊûú2] F[Á´ñÂêëÊµÅÁ®ãÂõæ] Êó∂Â∫èÂõæÁ§∫‰æã 123456789Title:Êó∂Â∫èÂõæÁ§∫‰æãÂÆ¢Êà∑Á´Ø-&gt;ÊúçÂä°Á´Ø: ÊàëÊÉ≥Êâæ‰Ω†Êãø‰∏ãÊï∞ÊçÆ SYNÊúçÂä°Á´Ø--&gt;ÂÆ¢Êà∑Á´Ø: ÊàëÊî∂Âà∞‰Ω†ÁöÑËØ∑Ê±ÇÂï¶ ACK+SYNÂÆ¢Êà∑Á´Ø-&gt;&gt;ÊúçÂä°Á´Ø: ÊàëÊî∂Âà∞‰Ω†ÁöÑÁ°ÆËÆ§Âï¶ÔºåÊàë‰ª¨ÂºÄÂßãÈÄö‰ø°Âêß ACKNote right of ÊúçÂä°Á´Ø: ÊàëÊòØ‰∏Ä‰∏™ÊúçÂä°Á´ØNote left of ÂÆ¢Êà∑Á´Ø: ÊàëÊòØ‰∏Ä‰∏™ÂÆ¢Êà∑Á´ØNote over ÊúçÂä°Á´Ø,ÂÆ¢Êà∑Á´Ø: TCP ‰∏âÊ¨°Êè°Êâãparticipant ËßÇÂØüËÄÖ ÂÖ¨Âºè $$ \\mathbf{V}_1 \\times \\mathbf{V}_2 = \\begin{vmatrix} \\mathbf{i} &amp; \\mathbf{j} &amp; \\mathbf{k} \\ \\frac{\\partial X}{\\partial u} &amp; \\frac{\\partial Y}{\\partial u} &amp; 0 \\ \\frac{\\partial X}{\\partial v} &amp; \\frac{\\partial Y}{\\partial v} &amp; 0 \\ \\end{vmatrix} ${$tep1}{\\style{visibility:hidden}{(x+1)(x+1)}} $$ Ë°®Ê†º ctl+ÂõûËΩ¶Êñ∞Â¢ûË°å Â∑¶ÂØπÈΩê Âè≥ÂØπÈΩê Â±Ö‰∏≠ÂØπÈΩê ÂçïÂÖÉÊ†º ÂçïÂÖÉÊ†º ÂçïÂÖÉÊ†º ÂçïÂÖÉÊ†º ÂçïÂÖÉÊ†º ÂçïÂÖÉÊ†º ‰ª£Á†Å 1hello! HexoÂèØÊäòÂè† main.java >folded1ÂèØÊäòÂè†‰ª£Á†ÅÂùó ËÑöÊ≥® ÊñáÂ≠óÂÜÖÂÆπ [1] todoÂàóË°® +Á©∫Ê†º[Á©∫Ê†º]Á©∫Ê†º ÂãæÈÄâÊ°Ü+ [ ] [ ] [ ] ËØª‰π¶ „Ää„Äã ‰∏ì‰∏ö ÔºàËÆæËÆ°Ê®°Âºè‰ª£Á†ÅDemoÔºå ÁΩëÁªúÔºå JVMÔºå VUEÈ°πÁõÆÔºå LinuxÔºâ Èü≥‰πê Âêâ‰ªñË∞±ÊâíË∞±Â≠¶‰π† ËøêÂä® ÁîªÁîª Typory Ëá™ÂÆö‰πâÂÖÉÁ¥†Ê†∑ÂºèÔºà‰øÆÊîπCSSÔºâ Âø´Êç∑ÈîÆ ÂÖ∂‰ªñ emoji„ÄêÂ§ñÂèØËÆø„ÄëÔºåTypora Âø´Êç∑ÈîÆWIN+„ÄÇ üéàüéà ü§≤ üòé inserted =&gt; inserted 29th =&gt; 29th H20 =&gt; H2O basic footnote[1:1] here is an inline footnote[^2](inline footnote) and another one[2] and another one[3] footnote content The HTML specification is maintained by the W3C. flowchat st=>start: Start|past:>http://www.google.com[blank] e=>end: End:>http://www.google.com op1=>operation: My Operation|past op2=>operation: Stuff|current sub1=>subroutine: My Subroutine|invalid cond=>condition: Yes or No?|approved:>http://www.google.com c2=>condition: Good idea|rejected io=>inputoutput: catch something‚Ä¶|request st->op1(right)->cond cond(yes, right)->c2 cond(no)->sub1(left)->op1 c2(yes)->io->e c2(no)->op2->e{\"scale\":1,\"line-width\":2,\"line-length\":50,\"text-margin\":10,\"font-size\":12} var code = document.getElementById(\"flowchart-0-code\").value; var options = JSON.parse(decodeURIComponent(document.getElementById(\"flowchart-0-options\").value)); var diagram = flowchart.parse(code); diagram.drawSVG(\"flowchart-0\", options); basic footnote content ‚Ü©Ô∏é ‚Ü©Ô∏é paragraph ‚Ü©Ô∏é footnote content with some markdown ‚Ü©Ô∏é","link":"/2021/01/20/Draft/2021/Markdown/"},{"title":"Office","text":"OfficeÈ´òÁ∫ßÊïôÁ®ãËÆ∞ÂΩïÔºåËæπÁî®ËæπËÆ∞ÂΩï WORD PPT EXCEL Áõ∏ÂØπÂú∞ÂùÄ„ÄÅÁªùÂØπÂú∞ÂùÄ Áõ∏ÂØπÂú∞ÂùÄÂú®ÂÖ¨Âºè‰∏≠‰ºöÁõ∏ÂèòÂèòÂåñÔºåÁªùÂØπÂèç‰πãÔºåÁªùÂØπÂú∞ÂùÄÂú®Áõ∏ÂØπÂú∞ÂùÄB1Âü∫Á°Ä‰∏äÊ∑ªÂä†$ÊØîÂ¶Ç$B$1 ÂáΩÊï∞ÁØá ÊõøÊç¢ =LEFT(C2835,LEN(C2835)-1)&amp;&quot;Ë∑Ø-Êï£Áõò&quot; ÊèêÂèñ =MIDÔºàÔºâ ÁªìÂêà =CONCATENATE(A2,B2) ÈöèÊú∫ =CHOOSE(RANDBETWEEN(1,2),&quot;Âá∫ËÆ©&quot;,&quot;ÂàíÊã®&quot;) ÈöèÊú∫Êï∞ =RANDBETWEEN(5,100) Â•áÂÅ∂ =MOD(ROW(),2) ÊõøÊç¢ÔºåÊèíÂÖ• =REPLACE(A1,2,,&quot;09&quot;) Êü•Êâæ =FIND(&quot;K&quot;,A2,1) Ê®°Á≥äÂåπÈÖçÂà†Èô§ ËÆ°ÁÆóÈáçÂ§çÊï∞Èáè CountifÔºàÁªüËÆ°ËåÉÂõ¥ÔºåÁªüËÆ°ÂØπË±°Ôºâ =INDEX(Sheet0!A:AA,ROW(),MATCH(INDIRECT((CHAR(COLUMN()+ 64)&amp;1)),Sheet0!A1:AA1,0))Â§çÂà∂ÂØπÂ∫îÂàóÂêçÂçïÂÖÉÊ†º","link":"/2021/01/20/Draft/2021/Office/"},{"title":"SpringMVC","text":"SpringMVC Êñ∞Â≠¶ÂõõÈóÆ WHY„Äê‰∏éÂâç‰ª£‰ºòÂåñ‰∫Ü‰ªÄ‰πàÔºåÂº•Ë°•‰∫Ü‰ªÄ‰πàÁ©∫ÁôΩ„ÄëÔºö WHAT„ÄêÊ°ÜÊû∂ÔºåÊÄùÁª¥ÂØºÂõæÔºå‰∏ªÈ¢òÊ°ÜÊû∂„ÄëÔºö HOW„ÄêÂ¶Ç‰ΩïËÆ∞ÂøÜÔºåÂ≠¶‰π†ËµÑÊ∫ê„ÄëÔºö LEVEL„Äê‰∏çÊòØÊØè‰∏™ÈÉΩÂ≠¶Á≤æ„ÄëÔºö ËøõÂ∫¶Ôºö„Äê‰∏ÄÂ§© „Äë ÁªºÂêàÈóÆÈ¢ò ËøêË°åÊµÅÁ®ãÔºü Â∏∏Áî®Ê≥®Ëß£Ôºü Â¶Ç‰ΩïËß£ÂÜ≥‰∏≠Êñá‰π±Á†ÅÔºü ÈáçÂÆöÂêëÔºüËΩ¨ÂèëÔºü springmvcÁöÑÊéßÂà∂Âô®ÊòØÂçï‰æãÁöÑÂêó?ÊòØÁ∫øÁ®ãÂÆâÂÖ®ÁöÑÂêóÔºü ‰∏Ä„ÄÅÁÆÄ‰ªã ‰∫å„ÄÅÊµÅÁ®ã DispatcherServletË∞ÉÁî®Èìæ ÈáçË¶ÅÊàêÂëò 1234567891011121314151617181920212223242526272829303132333435// Êñá‰ª∂‰∏ä‰º†ÁªÑ‰ª∂/** MultipartResolver used by this servlet */private MultipartResolver multipartResolver;// ËµÑÊ∫êÂÆö‰ΩçÁªÑ‰ª∂/** LocaleResolver used by this servlet */private LocaleResolver localeResolver;// ‰∏ªÈ¢òËß£ÊûêÁªÑ‰ª∂/** ThemeResolver used by this servlet */private ThemeResolver themeResolver;// Â§ÑÁêÜÂô®Êò†Â∞ÑÂô®ÁªÑ‰ª∂ÈõÜÂêà/** List of HandlerMappings used by this servlet */private List&lt;HandlerMapping&gt; handlerMappings;// Â§ÑÁêÜÂô®ÈÄÇÈÖçÂô®ÁªÑ‰ª∂ÈõÜÂêà/** List of HandlerAdapters used by this servlet */private List&lt;HandlerAdapter&gt; handlerAdapters;// ÂºÇÂ∏∏Â§ÑÁêÜËß£ÊûêÂô®ÈõÜÂêà/** List of HandlerExceptionResolvers used by this servlet */private List&lt;HandlerExceptionResolver&gt; handlerExceptionResolvers;// ËßÜÂõæÂêçËß£ÊûêÂô®/** RequestToViewNameTranslator used by this servlet */private RequestToViewNameTranslator viewNameTranslator;// ÈáçÂÆöÂêëÂèäFlashMapÂ≠òÂÇ®ÁªÑ‰ª∂/** FlashMapManager used by this servlet */private FlashMapManager flashMapManager;// ËßÜÂõæËß£ÊûêÁªÑ‰ª∂ÈõÜÂêà/** List of ViewResolvers used by this servlet */private List&lt;ViewResolver&gt; viewResolvers; ÊµÅÁ®ã DispatcherServlet ==&gt; HandlerMapping ==&gt; HandlerExecutionChain(Handler„ÄÅHandlerInterceptor) ==&gt; HandlerAdapter ==&gt; Handler ==&gt; ModelAndView ==&gt;ViewResolver ==&gt; View Á¨¨‰∏ÄÊ≠•ÔºöÂèëËµ∑ËØ∑Ê±ÇÂà∞ÂâçÁ´ØÊéßÂà∂Âô®/‰∏≠Â§ÆÊéßÂà∂Âô®(DispatcherServlet) Á¨¨‰∫åÊ≠•ÔºöÂâçÁ´ØÊéßÂà∂Âô®ËØ∑Ê±ÇÂ§ÑÁêÜÂô®Êò†Â∞ÑÂô®HandlerMappingÊü•Êâæ Handler ÔºàÂèØ‰ª•Ê†πÊçÆxmlÈÖçÁΩÆ„ÄÅÊ≥®Ëß£ËøõË°åÊü•ÊâæÔºâ Á¨¨‰∏âÊ≠•ÔºöÂ§ÑÁêÜÂô®Êò†Â∞ÑÂô®HandlerMappingÂêëÂâçÁ´ØÊéßÂà∂Âô®ËøîÂõûHandlerÔºåHandlerMapping‰ºöÊääËØ∑Ê±ÇÊò†Â∞Ñ‰∏∫HandlerExecutionChainÂØπË±°ÔºàÂåÖÂê´‰∏Ä‰∏™HandlerÂ§ÑÁêÜÂô®ÔºàÈ°µÈù¢ÊéßÂà∂Âô®ÔºâÂØπË±°ÔºåÂ§ö‰∏™HandlerInterceptorÊã¶Êà™Âô®ÂØπË±°ÔºâÔºåÈÄöËøáËøôÁßçÁ≠ñÁï•Ê®°ÂºèÔºåÂæàÂÆπÊòìÊ∑ªÂä†Êñ∞ÁöÑÊò†Â∞ÑÁ≠ñÁï• Á¨¨ÂõõÊ≠•ÔºöÂâçÁ´ØÊéßÂà∂Âô®Ë∞ÉÁî®Â§ÑÁêÜÂô®ÈÄÇÈÖçÂô®HandlerAdapterÂéªÊâßË°åHandler Á¨¨‰∫îÊ≠•ÔºöÂ§ÑÁêÜÂô®ÈÄÇÈÖçÂô®HandlerAdapterÂ∞Ü‰ºöÊ†πÊçÆÈÄÇÈÖçÁöÑÁªìÊûúÂéªÊâßË°åHandler Á¨¨ÂÖ≠Ê≠•ÔºöHandlerÊâßË°åÂÆåÊàêÁªôÈÄÇÈÖçÂô®ËøîÂõûModelAndView Á¨¨‰∏ÉÊ≠•ÔºöÂ§ÑÁêÜÂô®ÈÄÇÈÖçÂô®HandlerAdapterÂêëÂâçÁ´ØÊéßÂà∂Âô®ËøîÂõûModelAndView ÔºàModelAndViewÊòØspringmvcÊ°ÜÊû∂ÁöÑ‰∏Ä‰∏™Â∫ïÂ±ÇÂØπË±°ÔºåÂåÖÊã¨ ModelÂíåviewÔºâ Á¨¨ÂÖ´Ê≠•ÔºöÂâçÁ´ØÊéßÂà∂Âô®ËØ∑Ê±ÇËßÜÂõæËß£ÊûêÂô®ViewResolverÂéªËøõË°åËßÜÂõæËß£Êûê ÔºàÊ†πÊçÆÈÄªËæëËßÜÂõæÂêçËß£ÊûêÊàêÁúüÊ≠£ÁöÑËßÜÂõæ(jsp)ÔºâÔºåÈÄöËøáËøôÁßçÁ≠ñÁï•ÂæàÂÆπÊòìÊõ¥Êç¢ÂÖ∂‰ªñËßÜÂõæÊäÄÊúØÔºåÂè™ÈúÄË¶ÅÊõ¥ÊîπËßÜÂõæËß£ÊûêÂô®Âç≥ÂèØ Á¨¨‰πùÊ≠•ÔºöËßÜÂõæËß£ÊûêÂô®ViewResolverÂêëÂâçÁ´ØÊéßÂà∂Âô®ËøîÂõûView Á¨¨ÂçÅÊ≠•ÔºöÂâçÁ´ØÊéßÂà∂Âô®ËøõË°åËßÜÂõæÊ∏≤Êüì ÔºàËßÜÂõæÊ∏≤ÊüìÂ∞ÜÊ®°ÂûãÊï∞ÊçÆ(Âú®ModelAndViewÂØπË±°‰∏≠)Â°´ÂÖÖÂà∞requestÂüüÔºâ Á¨¨ÂçÅ‰∏ÄÊ≠•ÔºöÂâçÁ´ØÊéßÂà∂Âô®ÂêëÁî®Êà∑ÂìçÂ∫îÁªìÊûú ‰∏â„ÄÅÊã¶Êà™Âô® 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455package com.jeethink.framework.interceptor;import java.lang.reflect.Method;import javax.servlet.http.HttpServletRequest;import javax.servlet.http.HttpServletResponse;import org.springframework.stereotype.Component;import org.springframework.web.method.HandlerMethod;import org.springframework.web.servlet.handler.HandlerInterceptorAdapter;import com.alibaba.fastjson.JSONObject;import com.jeethink.common.utils.ServletUtils;import com.jeethink.framework.interceptor.annotation.RepeatSubmit;import com.jeethink.framework.web.domain.AjaxResult;/** * Èò≤Ê≠¢ÈáçÂ§çÊèê‰∫§Êã¶Êà™Âô® * @author ÂÆòÊñπÁΩëÂùÄ */@Componentpublic abstract class RepeatSubmitInterceptor extends HandlerInterceptorAdapter{ @Override public boolean preHandle(HttpServletRequest request, HttpServletResponse response, Object handler) throws Exception { if (handler instanceof HandlerMethod) { HandlerMethod handlerMethod = (HandlerMethod) handler; Method method = handlerMethod.getMethod(); RepeatSubmit annotation = method.getAnnotation(RepeatSubmit.class); if (annotation != null) { if (this.isRepeatSubmit(request)) { AjaxResult ajaxResult = AjaxResult.error(&quot;‰∏çÂÖÅËÆ∏ÈáçÂ§çÊèê‰∫§ÔºåËØ∑Á®çÂêéÂÜçËØï&quot;); ServletUtils.renderString(response, JSONObject.toJSONString(ajaxResult)); return false; } } return true; } else { return super.preHandle(request, response, handler); } } /** * È™åËØÅÊòØÂê¶ÈáçÂ§çÊèê‰∫§Áî±Â≠êÁ±ªÂÆûÁé∞ÂÖ∑‰ΩìÁöÑÈò≤ÈáçÂ§çÊèê‰∫§ÁöÑËßÑÂàô * * @param httpServletRequest * @return * @throws Exception */ public abstract boolean isRepeatSubmit(HttpServletRequest request);} Âõõ„ÄÅÈáçÂÆöÂêëËΩ¨Âèë Ôºà1ÔºâËΩ¨ÂèëÔºöÂú®ËøîÂõûÂÄºÂâçÈù¢Âä†&quot;forward:&quot;ÔºåË≠¨Â¶Ç&quot;forward:user.do?name=method4&quot; Ôºà2ÔºâÈáçÂÆöÂêëÔºöÂú®ËøîÂõûÂÄºÂâçÈù¢Âä†&quot;redirect:&quot;ÔºåË≠¨Â¶Ç&quot;redirect:http://www.baidu.com&quot; ‰∫î„ÄÅÂ∏∏Áî®Ê≥®Ëß£ ÂºïÁî®Ôºö","link":"/2021/01/20/Draft/2021/SpringMVC/"},{"title":"Ê®°Êùø","text":"‰ªãÁªç Êñ∞Â≠¶ÂõõÈóÆ WHY„Äê‰∏éÂâç‰ª£‰ºòÂåñ‰∫Ü‰ªÄ‰πàÔºåÂº•Ë°•‰∫Ü‰ªÄ‰πàÁ©∫ÁôΩ„ÄëÔºö WHAT„ÄêÊ°ÜÊû∂ÔºåÊÄùÁª¥ÂØºÂõæÔºå‰∏ªÈ¢òÊ°ÜÊû∂„ÄëÔºö HOW„ÄêÂ¶Ç‰ΩïËÆ∞ÂøÜÔºåÂ≠¶‰π†ËµÑÊ∫êÔºàÂÆòÊñπÊñáÊ°£„ÄÅËßÜÈ¢ëËµÑÊ∫ê„ÄÅÈ°πÁõÆÂú∞ÂùÄÔºâ„ÄëÔºö LEVEL„Äê‰∏çÊòØÊØè‰∏™ÈÉΩÂ≠¶Á≤æ„ÄëÔºö ËøõÂ∫¶Ôºö „Äê„Äë Âø´Êü• ‰∏Ä„ÄÅÁÆÄ‰ªã Áü•ËØÜËÉåÊôØ Á´†ËäÇÊÄªÁªì Á´†ËäÇÈóÆÈ¢ò „ÄÇ„ÄÇ„ÄÇÔºü ‰∫å„ÄÅ ÂºïÁî®Ôºö","link":"/2021/01/20/Draft/2021/template/"},{"title":"Â∑•ÂÖ∑ÁØá","text":"Â∑•ÂÖ∑ÁØá Â∑•ÂÖ∑ÁØá Â∑•Ê¨≤ÂñÑÂÖ∂‰∫ãÔºåÂøÖÂÖàÂà©ÂÖ∂Âô® ÁºñÁ®ã IDEA Êèí‰ª∂ 1234567891011121314Alibaba Java Coding GuidelinesCamelCaseEasyCodeIDE Eval ResetKey Promoter XLeetCode EditorLive Coding in PythonMaven HelperMyBatisXPylintPythonRainbow BracketsTabnine Al Code CompletionTranslation GIT http://gitimmersion.com/index.html http://try.github.io/ Âú®Á∫øÂÆûÊìçÂ≠¶‰π†ÁΩëÁ´ô Â∑•‰ΩúÊµÅÁ®ã Â∑•‰ΩúÂå∫„ÄÅÊöÇÂ≠òÂå∫„ÄÅÁâàÊú¨Â∫ì **Â∑•‰ΩúÂå∫Ôºö**Â∞±ÊòØ‰Ω†Âú®ÁîµËÑëÈáåËÉΩÁúãÂà∞ÁöÑÁõÆÂΩï„ÄÇ **ÊöÇÂ≠òÂå∫Ôºö**Ëã±ÊñáÂè´ stage Êàñ index„ÄÇ‰∏ÄËà¨Â≠òÊîæÂú® .git ÁõÆÂΩï‰∏ãÁöÑ index Êñá‰ª∂Ôºà.git/indexÔºâ‰∏≠ÔºåÊâÄ‰ª•Êàë‰ª¨ÊääÊöÇÂ≠òÂå∫ÊúâÊó∂‰πüÂè´‰ΩúÁ¥¢ÂºïÔºàindexÔºâ„ÄÇ **ÁâàÊú¨Â∫ìÔºö**Â∑•‰ΩúÂå∫Êúâ‰∏Ä‰∏™ÈöêËóèÁõÆÂΩï .gitÔºåËøô‰∏™‰∏çÁÆóÂ∑•‰ΩúÂå∫ÔºåËÄåÊòØ Git ÁöÑÁâàÊú¨Â∫ì„ÄÇ .gitÊñá‰ª∂Â§πÁõÆÂΩïÁªìÊûÑ ‚îú‚îÄhooks ‚îú‚îÄinfo ‚îú‚îÄobjects ‚îÇ ‚îú‚îÄinfo ‚îÇ ‚îî‚îÄpack ‚îî‚îÄrefs ‚îú‚îÄheads ‚îî‚îÄtags GITÂëΩ‰ª§„ÄêÂêålinux„Äë 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114Êú¨Âú∞ÂàõÂª∫‰ªìÂ∫ì#ÂàùÂßãÂåñ‰ªìÂ∫ìÔºåÈ°πÁõÆ‰∏ã‰ºöÁîüÊàê.gitÊñá‰ª∂Â§πÔºåÂêéÈù¢Âä†ÁõÆÂΩïÂêçÊó∂ÂàõÂª∫ÊåáÂÆöÁõÆÂΩï‰∏∫‰ªìÂ∫ìÔºåÊó†ÂàôÂΩìÂâçÁõÆÂΩï‰∏∫‰ªìÂ∫ìgit init newreponame#Â∞ÜÊñá‰ª∂Á∫≥ÂÖ•ÁâàÊú¨ÊéßÂà∂ÔºåÂ∞ÜÊñá‰ª∂Ê∑ªÂä†Âà∞ÊöÇÂ≠òÂå∫Ôºå Êñá‰ª∂Âêç.Êñá‰ª∂ÂêéÁºÄ ÂèØÁî®*ÈÄöÈÖçÁ¨¶ git add .Ê∑ªÂä†ÊâÄÊúâgit add *.*#ÂàùÂßãÂåñÈ°πÁõÆÁâàÊú¨ÔºåÂ∞ÜÊöÇÂ≠òÂå∫ÂÜÖÂÆπÊ∑ªÂä†Âà∞‰ªìÂ∫ìgit commit -m 'commit‰ø°ÊÅØÔºålinux‰ΩøÁî®ÂçïÂºïÂè∑Ôºåwindows‰ΩøÁî®ÂèåÂºïÂè∑'#ÂÖãÈöÜ‰ªìÂ∫ìÂà∞ÊåáÂÆöÁõÆÂΩïgit clone &lt;repo&gt; &lt;directory&gt;ÈÖçÁΩÆÁÆ°ÁêÜ#Êü•ÁúãÊâÄÊúâÈÖçÁΩÆgit config --list#ÁºñËæëÂΩìÂâç‰ªìÂ∫ìÈÖçÁΩÆ --globalÈíàÂØπÊâÄÊúâ‰ªìÂ∫ìgit config -e #ËÆæÁΩÆÂΩìÂâçÁî®Êà∑ÈÖçÁΩÆ‰ø°ÊÅØ --globalÈíàÂØπÊâÄÊúâ‰ªìÂ∫ìgit config --global user.name &quot;runoob&quot;git config --global user.email test@runoob.comÂü∫Êú¨ÂëΩ‰ª§#Êèê‰∫§‰∏é‰øÆÊîπ#ÂàõÂª∫‰∏éÊèê‰∫§Âø´ÁÖßgit add #Ê∑ªÂä†Êñá‰ª∂Âà∞ÊöÇÂ≠òÂå∫git status #Êü•Áúã‰ªìÂ∫ìÂΩìÂâçÁöÑÁä∂ÊÄÅÔºåÊòæÁ§∫ÊúâÂèòÊõ¥ÁöÑÊñá‰ª∂„ÄÇgit diff #ÊØîËæÉÊñá‰ª∂ÁöÑ‰∏çÂêåÔºåÂç≥ÊöÇÂ≠òÂå∫ÂíåÂ∑•‰ΩúÂå∫ÁöÑÂ∑ÆÂºÇ„ÄÇgit commit #Êèê‰∫§ÊöÇÂ≠òÂå∫Âà∞Êú¨Âú∞‰ªìÂ∫ì„ÄÇgit reset #ÂõûÈÄÄÁâàÊú¨„ÄÇgit rm #Âà†Èô§Â∑•‰ΩúÂå∫Êñá‰ª∂„ÄÇgit mv #ÁßªÂä®ÊàñÈáçÂëΩÂêçÂ∑•‰ΩúÂå∫Êñá‰ª∂„ÄÇ#Êèê‰∫§Êó•Âøógit log #Êü•ÁúãÂéÜÂè≤Êèê‰∫§ËÆ∞ÂΩïgit blame &lt;file&gt; #‰ª•ÂàóË°®ÂΩ¢ÂºèÊü•ÁúãÊåáÂÆöÊñá‰ª∂ÁöÑÂéÜÂè≤‰øÆÊîπËÆ∞ÂΩï#ËøúÁ®ãÊìç‰Ωúgit remote #ËøúÁ®ã‰ªìÂ∫ìÊìç‰Ωúgit fetch #‰ªéËøúÁ®ãËé∑Âèñ‰ª£Á†ÅÂ∫ìgit pull #‰∏ãËΩΩËøúÁ®ã‰ª£Á†ÅÂπ∂ÂêàÂπ∂git push #‰∏ä‰º†ËøúÁ®ã‰ª£Á†ÅÂπ∂ÂêàÂπ∂ÂàÜÊîØÁÆ°ÁêÜ#ÊòæÁ§∫ÊâÄÊúâÂàÜÊîØ/+ÂàÜÊîØÂêçÂàõÂª∫ÂàÜÊîØ ÂëΩ‰ª§Ôºögit branch (branchname)#ÂàáÊç¢ÂàÜÊîØÂëΩ‰ª§:git checkout (branchname) git checkout -b (branchname) #ÂàõÂª∫Êñ∞ÂàÜÊîØÂπ∂Á´ãÂç≥ÂàáÊç¢Âà∞ËØ•ÂàÜÊîØ‰∏ã#ÂΩì‰Ω†ÂàáÊç¢ÂàÜÊîØÁöÑÊó∂ÂÄôÔºåGit ‰ºöÁî®ËØ•ÂàÜÊîØÁöÑÊúÄÂêéÊèê‰∫§ÁöÑÂø´ÁÖßÊõøÊç¢‰Ω†ÁöÑÂ∑•‰ΩúÁõÆÂΩïÁöÑÂÜÖÂÆπÔºå ÊâÄ‰ª•Â§ö‰∏™ÂàÜÊîØ‰∏çÈúÄË¶ÅÂ§ö‰∏™ÁõÆÂΩï„ÄÇ#ÂêàÂπ∂ÂàÜÊîØgit merge #ÂêàÂπ∂ÂÜ≤Á™ÅÂ§ÑÁêÜÂêéaddÂëäËØâgitÂÜ≤Á™ÅÂ∑≤Ëß£ÂÜ≥git add Êñá‰ª∂ #Âà†Èô§ÂàÜÊîØgit branch -d (branchname)ÂéÜÂè≤ËÆ∞ÂΩïgit log #Êü•ÁúãÂéÜÂè≤Êèê‰∫§ËÆ∞ÂΩï„ÄÇ --oneline Êü•ÁúãÁÆÄÊ¥ÅÁâàÊú¨ --graph ÂàÜÊîØÂéÜÂè≤ --reverseÈÄÜÂêëÂ±ïÁ§∫ --authorÊåáÂÆöÁî®Êà∑ --since „ÄÅ --beforeÔºå --until„ÄÅ --after ÊåáÂÆöÊó•Êúü http://git-scm.com/docs/git-loggit blame &lt;file&gt; #‰ª•ÂàóË°®ÂΩ¢ÂºèÊü•ÁúãÊåáÂÆöÊñá‰ª∂ÁöÑÂéÜÂè≤‰øÆÊîπËÆ∞ÂΩï„ÄÇÊ†áÁ≠ægit tag -a v1.0 #ÂàõÂª∫Ê†áÁ≠ægit log --oneline --decorate --graph / git tag#Êü•ÁúãÊ†áÁ≠ægit tag -a v0.9 85fc7e7#ÂèëÂ∏ÉÂêéËøΩÂä†Ê†áÁ≠ægit tag -a &lt;tagname&gt; -m &quot;runoob.comÊ†áÁ≠æ&quot;#ÊåáÂÆöÊ†áÁ≠æ‰ø°ÊÅØÂëΩ‰ª§Ôºögit tag -s &lt;tagname&gt; -m &quot;runoob.comÊ†áÁ≠æ&quot;PGP#Á≠æÂêçÊ†áÁ≠æÂëΩ‰ª§ÔºöËøúÁ®ã‰ªìÂ∫ìgit remote add [shortname] [url]#Ê∑ªÂä†‰∏Ä‰∏™Êñ∞ÁöÑËøúÁ®ã‰ªìÂ∫ìssh-keygen -t rsa -C &quot;youremail@example.com&quot;#ÁîüÊàê SSH KeyÔºå~/ ‰∏ãÁîüÊàê .ssh Êñá‰ª∂Â§πÔºåËøõÂéªÔºåÊâìÂºÄ id_rsa.pubÔºåÂ§çÂà∂ÈáåÈù¢ÁöÑ key #github‰∏≠Account =&gt; Settings SSH and GPGkeys ssh -T git@github.com#È™åËØÅÊòØÂê¶ÊàêÂäügit remote/git remote -v #Êü•ÁúãÈÖçÁΩÆÁöÑÊâÄÊúâËøúÁ®ãÂ∫ì/ËøúÁ®ãÂ∫ìÂÆûÈôÖÂú∞ÂùÄgit fetch#‰ªéËøúÁ®ã‰ªìÂ∫ì‰∏ãËΩΩÊñ∞ÂàÜÊîØ‰∏éÊï∞ÊçÆÔºåËØ•ÂëΩ‰ª§ÊâßË°åÂÆåÂêéÈúÄË¶ÅÊâßË°å git merge ËøúÁ®ãÂàÜÊîØÂà∞‰Ω†ÊâÄÂú®ÁöÑÂàÜÊîØ„ÄÇgit remote rm [Âà´Âêç]#Âà†Èô§ËøúÁ®ã‰ªìÂ∫ìÊúçÂä°Âô®Êê≠Âª∫centos#1„ÄÅÂÆâË£ÖGityum install curl-devel expat-devel gettext-devel openssl-devel zlib-devel perl-develyum install git#ÂàõÂª∫‰∏Ä‰∏™gitÁî®Êà∑ÁªÑÂíåÁî®Êà∑ÔºåÁî®Êù•ËøêË°ågitÊúçÂä°Ôºögroupadd gituseradd git -g git#2„ÄÅÂàõÂª∫ËØÅ‰π¶ÁôªÂΩï#Êî∂ÈõÜÊâÄÊúâÈúÄË¶ÅÁôªÂΩïÁöÑÁî®Êà∑ÁöÑÂÖ¨Èí•ÔºåÂÖ¨Èí•‰Ωç‰∫éid_rsa.pubÊñá‰ª∂‰∏≠ÔºåÊääÊàë‰ª¨ÁöÑÂÖ¨Èí•ÂØºÂÖ•Âà∞/home/git/.ssh/authorized_keysÊñá‰ª∂ÈáåÔºå‰∏ÄË°å‰∏Ä‰∏™„ÄÇ#Â¶ÇÊûúÊ≤°ÊúâËØ•Êñá‰ª∂ÂàõÂª∫ÂÆÉÔºöcd /home/git/mkdir .sshchmod 755 .sshtouch .ssh/authorized_keyschmod 644 .ssh/authorized_keys#3„ÄÅÂàùÂßãÂåñGit‰ªìÂ∫ì#È¶ñÂÖàÊàë‰ª¨ÈÄâÂÆö‰∏Ä‰∏™ÁõÆÂΩï‰Ωú‰∏∫Git‰ªìÂ∫ìÔºåÂÅáÂÆöÊòØ/home/gitrepo/runoob.gitÔºåÂú®/home/gitrepoÁõÆÂΩï‰∏ãËæìÂÖ•ÂëΩ‰ª§Ôºöcd /homemkdir gitrepochown git:git gitrepo/cd gitrepogit init --bare runoob.gitInitialized empty Git repository in /home/gitrepo/runoob.git/#‰ª•‰∏äÂëΩ‰ª§GitÂàõÂª∫‰∏Ä‰∏™Á©∫‰ªìÂ∫ìÔºåÊúçÂä°Âô®‰∏äÁöÑGit‰ªìÂ∫ìÈÄöÂ∏∏ÈÉΩ‰ª•.gitÁªìÂ∞æ„ÄÇÁÑ∂ÂêéÔºåÊää‰ªìÂ∫ìÊâÄÂ±ûÁî®Êà∑Êîπ‰∏∫gitÔºöchown -R git:git runoob.git#4„ÄÅÂÖãÈöÜ‰ªìÂ∫ìgit clone git@192.168.45.4:/home/gitrepo/runoob.gitCloning into 'runoob'...warning: You appear to have cloned an empty repository.Checking connectivity... done.#192.168.45.4 ‰∏∫ Git ÊâÄÂú®ÊúçÂä°Âô® ip Ôºå‰Ω†ÈúÄË¶ÅÂ∞ÜÂÖ∂‰øÆÊîπ‰∏∫‰Ω†Ëá™Â∑±ÁöÑ Git ÊúçÂä° ip„ÄÇ#ËøôÊ†∑Êàë‰ª¨ÁöÑ Git ÊúçÂä°Âô®ÂÆâË£ÖÂ∞±ÂÆåÊàê„ÄÇÂÖ∂‰ªñÂëΩ‰ª§#Âêålinuxtouch Êñá‰ª∂Âêç#ÂàõÂª∫Êñá‰ª∂mkdir Ë∑ØÂæÑ#ÂàõÂª∫Êñá‰ª∂Â§πecho 'runoob.com' &gt; test.txt#ÂàõÂª∫ÂÜÖÂÆπÊñá'runoob.com'ÁöÑtest.txtÊñá‰ª∂ ‚Äã git config --global --list ÊòæÁ§∫ git ÈÖçÁΩÆ‰ø°ÊÅØ ‚Äã git config --global user.name ‚Äúyourname‚ÄùÔºågit config --global user.email ‚Äúemail@email.com ‚ÄùËÆæÁΩÆÂÖ®Â±ÄÁî®Êà∑ÂêçÂíåÈÇÆÁÆ± ‚Äã ssh-keygen -t rsa -C ‚ÄúÈÇÆÁÆ±‚Äù ‚Äã clip &lt; ~/.ssh/id_rsa.pub Â§çÂà∂ÂØÜÂåôÔºåÂú®githubËÆæÁΩÆ‰∏≠Êñ∞Âª∫SSH keyÁ≤òË¥¥Âç≥ÂèØ VSCode Êèí‰ª∂ 123456789101112Auto Close TagAuto Rename TagChinese(SimplifiedÔºàÁÆÄ‰Ωì‰∏≠ÊñáÔºâLangua..CSS NavigationESLintGitLens-Git superchargedHTML CSS SupportJavaScript (ES6)code snippeLive Serveropen in browserVeturvscode-icons ÁîµËÑëÂ∫îÁî® SynergyÈîÆÈº†ÂÖ±‰∫´Â∑•ÂÖ∑ ÂùöÊûú‰∫ëÔºåÊñá‰ª∂ÂêåÊ≠•Â∑•ÂÖ∑ Quicker PicGO Snipaste ScreenToGif Â≠¶‰π† ÊµÅÁ®ãÂõæ Âú®Á∫øÊµÅÁ®ãÂõæ ProcessOn Á¶ªÁ∫øÊµÅÁ®ãÂõæ XMaind ÁΩëÁ´ôÊé®Ëçê Ëâ∫ÊúØ ËÆ∞ÂΩï Êó∂ÂÖâÂ∫è„ÄêÂ§áÂøòÔºåÊèêÈÜíÔºåTODO„Äë Êèí‰ª∂ Edge Vimium Navigating the page j, Scroll down (scrollDown) k, Scroll up (scrollUp) gg Scroll to the top of the page (scrollToTop) G Scroll to the bottom of the page (scrollToBottom) d Scroll a half page down (scrollPageDown) u Scroll a half page up (scrollPageUp) Scroll a full page down (scrollFullPageDown) Scroll a full page up (scrollFullPageUp) h Scroll left (scrollLeft) l Scroll right (scrollRight) r Reload the page (reload) yy Copy the current URL to the clipboard (copyCurrentUrl) p Open the clipboard's URL in the current tab (openCopiedUrlInCurrentTab) P Open the clipboard's URL in a new tab (openCopiedUrlInNewTab) i Enter insert mode (enterInsertMode) v Enter visual mode (enterVisualMode) gi Focus the first text input on the page (focusInput) f Open a link in the current tab (LinkHints.activateMode) F Open a link in a new tab (LinkHints.activateModeToOpenInNewTab) Open a link in a new tab &amp; switch to it (LinkHints.activateModeToOpenInNewForegroundTab) gf Select the next frame on the page (nextFrame) gF Select the page's main/top frame (mainFrame) Using the vomnibar o Open URL, bookmark or history entry (Vomnibar.activate) O Open URL, bookmark or history entry in a new tab (Vomnibar.activateInNewTab) b Open a bookmark (Vomnibar.activateBookmarks) B Open a bookmark in a new tab (Vomnibar.activateBookmarksInNewTab) T Search through your open tabs (Vomnibar.activateTabSelection) Using find / Enter find mode (enterFindMode) n Cycle forward to the next find match (performFind) N Cycle backward to the previous find match (performBackwardsFind) Navigating history H Go back in history (goBack) L Go forward in history (goForward) Manipulating tabs t Create new tab (createTab) J, gT Go one tab left (previousTab) K, gt Go one tab right (nextTab) ^ Go to previously-visited tab (visitPreviousTab) g0 Go to the first tab (firstTab) g$ Go to the last tab (lastTab) yt Duplicate current tab (duplicateTab) Pin or unpin current tab (togglePinTab) Mute or unmute current tab (toggleMuteTab) x Close current tab (removeTab) X Restore closed tab (restoreTab) Miscellaneous ? Show help (showHelp)","link":"/2021/01/20/Draft/2021/%E5%B7%A5%E5%85%B7%E7%AF%87/"},{"title":"ÊëÑÂΩ±ÊëÑÂÉè","text":"ÊëÑÂΩ±ÊëÑÂÉèÔºåËÆ∞ÂΩïÊäÄÊúØÔºåÂàÜÊûêÂ§ß‰Ω¨„ÄÅËá™Â∑±‰ΩúÂìÅ‰ª•Áù£‰øÉËøõÊ≠•„ÄÇ ‰∏Ä„ÄÅÊëÑÂΩ± ÊûÑÂõæ Â∑•ÂÖ∑ ‰øÆÂõæ ÂàõÊÑè ‰∫å„ÄÅÊëÑÂÉè Ââ™Ëæë Â∑•ÂÖ∑ ‰∏â„ÄÅÁúÅÁæé + Ê®™Á´ñÂõæ ![]() + Ê®™Âõæ4 ![]() + Á´ñÂõæ5 ![]() ÂºïÁî®Ôºö","link":"/2021/01/20/Draft/2021/%E6%91%84%E5%BD%B1%E6%91%84%E5%83%8F/"},{"title":"Êû∂ÊûÑÂ∏à","text":"Á≥ªÁªüËÆæËÆ°„ÄÅÁÆ°ÁêÜ„ÄÅ‰∏öÂä°ÁªèÈ™åÔºåÊû∂ÊûÑÁü•ËØÜÂ≠¶‰π†ËÆ∞ÂΩï„ÄÇÂºÄÂèë‰πãÂ§ñ„ÄêÂÆûÊñΩÔºåÊµãËØïÔºåÁª¥Êä§ÔºåÈÉ®ÁΩ≤Ôºå‰∫∫ÈôÖÊ≤üÈÄö„Äë Êñ∞Â≠¶ÂõõÈóÆ WHY„Äê‰∏éÂâç‰ª£‰ºòÂåñ‰∫Ü‰ªÄ‰πàÔºåÂº•Ë°•‰∫Ü‰ªÄ‰πàÁ©∫ÁôΩ„ÄëÔºö WHAT„ÄêÊ°ÜÊû∂ÔºåÊÄùÁª¥ÂØºÂõæÔºå‰∏ªÈ¢òÊ°ÜÊû∂„ÄëÔºö HOW„ÄêÂ¶Ç‰ΩïËÆ∞ÂøÜÔºåÂ≠¶‰π†ËµÑÊ∫êÔºàÂÆòÊñπÊñáÊ°£„ÄÅËßÜÈ¢ëËµÑÊ∫êÔºâ„ÄëÔºö LEVEL„Äê‰∏çÊòØÊØè‰∏™ÈÉΩÂ≠¶Á≤æ„ÄëÔºö ‰∏Ä„ÄÅËÆæËÆ°ÁªèÈ™å Á≥ªÁªüËÆæËÆ° Á≥ªÁªüËÆæËÆ°Â∑•ÂÖ∑ Visual Paradigm Êï∞ÊçÆÂ∫ìËÆæËÆ° Navicat ‰∫å„ÄÅÁÆ°ÁêÜÁªèÈ™å ‰∏â„ÄÅ‰∏öÂä°ÁªèÈ™å Âõõ„ÄÅÂºÄÂèë‰πãÂ§ñ „ÄêÂÆûÊñΩÔºåÊµãËØïÔºåÁª¥Êä§ÔºåÈÉ®ÁΩ≤Ôºå‰∫∫ÈôÖÊ≤üÈÄö„Äë ‰ª£Á†ÅËßÑËåÉ","link":"/2021/01/20/Draft/2021/%E6%9E%B6%E6%9E%84%E5%B8%88/"},{"title":"MongoDB","text":"ÊúÄÂÉèÂÖ≥Á≥ªÂûãÊï∞ÊçÆÂ∫ìÁöÑÈùûÂÖ≥Á≥ªÂûãÊï∞ÊçÆÂ∫ì Êñ∞Â≠¶ÂõõÈóÆ WHY„Äê‰∏éÂâç‰ª£‰ºòÂåñ‰∫Ü‰ªÄ‰πàÔºåÂº•Ë°•‰∫Ü‰ªÄ‰πàÁ©∫ÁôΩ„ÄëÔºö WHAT„ÄêÊ°ÜÊû∂ÔºåÊÄùÁª¥ÂØºÂõæÔºå‰∏ªÈ¢òÊ°ÜÊû∂„ÄëÔºö HOW„ÄêÂ¶Ç‰ΩïËÆ∞ÂøÜÔºåÂ≠¶‰π†ËµÑÊ∫ê„ÄëÔºöËèúÈ∏ü„ÄÅÂÆòÊñπÊñáÊ°£ LEVEL„Äê‰∏çÊòØÊØè‰∏™ÈÉΩÂ≠¶Á≤æ„ÄëÔºö ËøõÂ∫¶Ôºö„Äê‰∏ÄÂ§©„Äë Âø´Êü• ÂëΩ‰ª§ Ëß£Èáä Â§áÊ≥® show dbs Êü•ÁúãÊâÄÊúâÊï∞ÊçÆÂ∫ì db ÊòæÁ§∫ÂΩìÂâçÊï∞ÊçÆÂ∫ìÂØπË±°ÊàñÈõÜÂêà use ËøûÊé•Âà∞‰∏Ä‰∏™ÊåáÂÆöÁöÑÊï∞ÊçÆÂ∫ì db.createCollection(name, options) ÂàõÂª∫ÈõÜÂêà show collections Êàñ show tables Êü•ÁúãÈõÜÂêà ÂÖ≥Á≥ªÂõæ ‰∏Ä„ÄÅÁÆÄ‰ªã C++ËØ≠Ë®ÄÁºñÂÜôÁöÑÔºåÊòØ‰∏Ä‰∏™Âü∫‰∫éÂàÜÂ∏ÉÂºèÊñá‰ª∂Â≠òÂÇ®ÁöÑÂºÄÊ∫êÊï∞ÊçÆÂ∫ìÁ≥ªÁªü„ÄÇ Âú®È´òË¥üËΩΩÁöÑÊÉÖÂÜµ‰∏ãÔºåÊ∑ªÂä†Êõ¥Â§öÁöÑËäÇÁÇπÔºåÂèØ‰ª•‰øùËØÅÊúçÂä°Âô®ÊÄßËÉΩ„ÄÇ MongoDB Êó®Âú®‰∏∫WEBÂ∫îÁî®Êèê‰æõÂèØÊâ©Â±ïÁöÑÈ´òÊÄßËÉΩÊï∞ÊçÆÂ≠òÂÇ®Ëß£ÂÜ≥ÊñπÊ°à„ÄÇ MongoDB Â∞ÜÊï∞ÊçÆÂ≠òÂÇ®‰∏∫‰∏Ä‰∏™ÊñáÊ°£ÔºåÊï∞ÊçÆÁªìÊûÑÁî±ÈîÆÂÄº(key=&gt;value)ÂØπÁªÑÊàê„ÄÇMongoDB ÊñáÊ°£Á±ª‰ºº‰∫é JSON ÂØπË±°„ÄÇÂ≠óÊÆµÂÄºÂèØ‰ª•ÂåÖÂê´ÂÖ∂‰ªñÊñáÊ°£ÔºåÊï∞ÁªÑÂèäÊñáÊ°£Êï∞ÁªÑ„ÄÇ ÁéØÂ¢ÉÔºöwin10 ‰∫å„ÄÅÂü∫Á°ÄÊ¶ÇÂøµ SQLÊúØËØ≠/Ê¶ÇÂøµ MongoDBÊúØËØ≠/Ê¶ÇÂøµ Ëß£Èáä/ËØ¥Êòé database database Êï∞ÊçÆÂ∫ì table collection Êï∞ÊçÆÂ∫ìË°®/ÈõÜÂêà row document Êï∞ÊçÆËÆ∞ÂΩïË°å/ÊñáÊ°£ column field Êï∞ÊçÆÂ≠óÊÆµ/Âüü index index Á¥¢Âºï table joins Ë°®ËøûÊé•,MongoDB‰∏çÊîØÊåÅ primary key primary key ‰∏ªÈîÆ,MongoDBËá™Âä®Â∞Ü_idÂ≠óÊÆµËÆæÁΩÆ‰∏∫‰∏ªÈîÆ ÈªòËÆ§Êï∞ÊçÆÂ∫ì‰∏∫dbÊñá‰ª∂Â§πÈúÄË¶ÅËá™Â∑±ÂàõÂª∫ÔºåÊï∞ÊçÆÊîæÂú®dataÊñá‰ª∂Â§π‰∏≠ ÊñáÊ°£(Document) ‚Äã ÊñáÊ°£ÊòØ‰∏ÄÁªÑÈîÆÂÄº(key-value)ÂØπ(Âç≥ BSON)„ÄÇMongoDB ÁöÑÊñáÊ°£‰∏çÈúÄË¶ÅËÆæÁΩÆÁõ∏ÂêåÁöÑÂ≠óÊÆµÔºåÂπ∂‰∏îÁõ∏ÂêåÁöÑÂ≠óÊÆµ‰∏çÈúÄË¶ÅÁõ∏ÂêåÁöÑÊï∞ÊçÆÁ±ªÂûãÔºåËøô‰∏éÂÖ≥Á≥ªÂûãÊï∞ÊçÆÂ∫ìÊúâÂæàÂ§ßÁöÑÂå∫Âà´Ôºå‰πüÊòØ MongoDB ÈùûÂ∏∏Á™ÅÂá∫ÁöÑÁâπÁÇπ„ÄÇ‰∏Ä‰∏™ÁÆÄÂçïÁöÑÊñáÊ°£‰æãÂ≠êÂ¶Ç‰∏ãÔºö 1{&quot;site&quot;:&quot;www.runoob.com&quot;, &quot;name&quot;:&quot;ËèúÈ∏üÊïôÁ®ã&quot;} ‰∏ãË°®ÂàóÂá∫‰∫Ü RDBMS ‰∏é MongoDB ÂØπÂ∫îÁöÑÊúØËØ≠Ôºö RDBMS MongoDB Êï∞ÊçÆÂ∫ì Êï∞ÊçÆÂ∫ì Ë°®Ê†º ÈõÜÂêà Ë°å ÊñáÊ°£ Âàó Â≠óÊÆµ Ë°®ËÅîÂêà ÂµåÂÖ•ÊñáÊ°£ ‰∏ªÈîÆ ‰∏ªÈîÆ (MongoDB Êèê‰æõ‰∫Ü key ‰∏∫ _id ) Êï∞ÊçÆÂ∫ìÊúçÂä°ÂíåÂÆ¢Êà∑Á´Ø Mysqld/Oracle mongod mysql/sqlplus mongo ÈúÄË¶ÅÊ≥®ÊÑèÁöÑÊòØÔºö ÊñáÊ°£‰∏≠ÁöÑÈîÆ/ÂÄºÂØπÊòØÊúâÂ∫èÁöÑ„ÄÇ ÊñáÊ°£‰∏≠ÁöÑÂÄº‰∏ç‰ªÖÂèØ‰ª•ÊòØÂú®ÂèåÂºïÂè∑ÈáåÈù¢ÁöÑÂ≠óÁ¨¶‰∏≤ÔºåËøòÂèØ‰ª•ÊòØÂÖ∂‰ªñÂá†ÁßçÊï∞ÊçÆÁ±ªÂûãÔºàÁîöËá≥ÂèØ‰ª•ÊòØÊï¥‰∏™ÂµåÂÖ•ÁöÑÊñáÊ°£)„ÄÇ MongoDBÂå∫ÂàÜÁ±ªÂûãÂíåÂ§ßÂ∞èÂÜô„ÄÇ MongoDBÁöÑÊñáÊ°£‰∏çËÉΩÊúâÈáçÂ§çÁöÑÈîÆ„ÄÇ ÊñáÊ°£ÁöÑÈîÆÊòØÂ≠óÁ¨¶‰∏≤„ÄÇÈô§‰∫ÜÂ∞ëÊï∞‰æãÂ§ñÊÉÖÂÜµÔºåÈîÆÂèØ‰ª•‰ΩøÁî®‰ªªÊÑèUTF-8Â≠óÁ¨¶„ÄÇ ÊñáÊ°£ÈîÆÂëΩÂêçËßÑËåÉÔºö ÈîÆ‰∏çËÉΩÂê´Êúâ\\0 (Á©∫Â≠óÁ¨¶)„ÄÇËøô‰∏™Â≠óÁ¨¶Áî®Êù•Ë°®Á§∫ÈîÆÁöÑÁªìÂ∞æ„ÄÇ .Âíå$ÊúâÁâπÂà´ÁöÑÊÑè‰πâÔºåÂè™ÊúâÂú®ÁâπÂÆöÁéØÂ¢É‰∏ãÊâçËÉΩ‰ΩøÁî®„ÄÇ ‰ª•‰∏ãÂàíÁ∫ø&quot;_&quot;ÂºÄÂ§¥ÁöÑÈîÆÊòØ‰øùÁïôÁöÑ(‰∏çÊòØ‰∏•Ê†ºË¶ÅÊ±ÇÁöÑ)„ÄÇ ÈõÜÂêà / Ë°® ÈõÜÂêàÂ∞±ÊòØ MongoDB ÊñáÊ°£ÁªÑÔºåÁ±ª‰ºº‰∫é RDBMS ÔºàÂÖ≥Á≥ªÊï∞ÊçÆÂ∫ìÁÆ°ÁêÜÁ≥ªÁªüÔºöRelational Database Management System)‰∏≠ÁöÑË°®Ê†º„ÄÇ ÈõÜÂêàÂ≠òÂú®‰∫éÊï∞ÊçÆÂ∫ì‰∏≠ÔºåÈõÜÂêàÊ≤°ÊúâÂõ∫ÂÆöÁöÑÁªìÊûÑÔºåËøôÊÑèÂë≥ÁùÄ‰Ω†Âú®ÂØπÈõÜÂêàÂèØ‰ª•ÊèíÂÖ•‰∏çÂêåÊ†ºÂºèÂíåÁ±ªÂûãÁöÑÊï∞ÊçÆÔºå‰ΩÜÈÄöÂ∏∏ÊÉÖÂÜµ‰∏ãÊàë‰ª¨ÊèíÂÖ•ÈõÜÂêàÁöÑÊï∞ÊçÆÈÉΩ‰ºöÊúâ‰∏ÄÂÆöÁöÑÂÖ≥ËÅîÊÄß„ÄÇ ÊØîÂ¶ÇÔºåÊàë‰ª¨ÂèØ‰ª•Â∞Ü‰ª•‰∏ã‰∏çÂêåÊï∞ÊçÆÁªìÊûÑÁöÑÊñáÊ°£ÊèíÂÖ•Âà∞ÈõÜÂêà‰∏≠Ôºö 123{&quot;site&quot;:&quot;www.baidu.com&quot;}{&quot;site&quot;:&quot;www.google.com&quot;,&quot;name&quot;:&quot;Google&quot;}{&quot;site&quot;:&quot;www.runoob.com&quot;,&quot;name&quot;:&quot;ËèúÈ∏üÊïôÁ®ã&quot;,&quot;num&quot;:5} ÂΩìÁ¨¨‰∏Ä‰∏™ÊñáÊ°£ÊèíÂÖ•Êó∂ÔºåÈõÜÂêàÂ∞±‰ºöË¢´ÂàõÂª∫„ÄÇ ÂêàÊ≥ïÁöÑÈõÜÂêàÂêç ÈõÜÂêàÂêç‰∏çËÉΩÊòØÁ©∫Â≠óÁ¨¶‰∏≤&quot;&quot;„ÄÇ ÈõÜÂêàÂêç‰∏çËÉΩÂê´Êúâ\\0Â≠óÁ¨¶ÔºàÁ©∫Â≠óÁ¨¶)ÔºåËøô‰∏™Â≠óÁ¨¶Ë°®Á§∫ÈõÜÂêàÂêçÁöÑÁªìÂ∞æ„ÄÇ ÈõÜÂêàÂêç‰∏çËÉΩ‰ª•&quot;system.&quot;ÂºÄÂ§¥ÔºåËøôÊòØ‰∏∫Á≥ªÁªüÈõÜÂêà‰øùÁïôÁöÑÂâçÁºÄ„ÄÇ Áî®Êà∑ÂàõÂª∫ÁöÑÈõÜÂêàÂêçÂ≠ó‰∏çËÉΩÂê´Êúâ‰øùÁïôÂ≠óÁ¨¶„ÄÇÊúâ‰∫õÈ©±Âä®Á®ãÂ∫èÁöÑÁ°ÆÊîØÊåÅÂú®ÈõÜÂêàÂêçÈáåÈù¢ÂåÖÂê´ÔºåËøôÊòØÂõ†‰∏∫Êüê‰∫õÁ≥ªÁªüÁîüÊàêÁöÑÈõÜÂêà‰∏≠ÂåÖÂê´ËØ•Â≠óÁ¨¶„ÄÇÈô§Èùû‰Ω†Ë¶ÅËÆøÈóÆËøôÁßçÁ≥ªÁªüÂàõÂª∫ÁöÑÈõÜÂêàÔºåÂê¶ÂàôÂçÉ‰∏á‰∏çË¶ÅÂú®ÂêçÂ≠óÈáåÂá∫Áé∞$„ÄÇ Â¶Ç‰∏ãÂÆû‰æãÔºö 1db.col.findOne() capped collections Capped collections Â∞±ÊòØÂõ∫ÂÆöÂ§ßÂ∞èÁöÑcollection„ÄÇ ÂÆÉÊúâÂæàÈ´òÁöÑÊÄßËÉΩ‰ª•ÂèäÈòüÂàóËøáÊúüÁöÑÁâπÊÄß(ËøáÊúüÊåâÁÖßÊèíÂÖ•ÁöÑÈ°∫Â∫è). ÊúâÁÇπÂíå &quot;RRD&quot; Ê¶ÇÂøµÁ±ª‰ºº„ÄÇ Capped collections ÊòØÈ´òÊÄßËÉΩËá™Âä®ÁöÑÁª¥Êä§ÂØπË±°ÁöÑÊèíÂÖ•È°∫Â∫è„ÄÇÂÆÉÈùûÂ∏∏ÈÄÇÂêàÁ±ª‰ººËÆ∞ÂΩïÊó•ÂøóÁöÑÂäüËÉΩÔºåÂíåÊ†áÂáÜÁöÑ collection ‰∏çÂêåÔºå‰Ω†ÂøÖÈ°ªË¶ÅÊòæÂºèÁöÑÂàõÂª∫‰∏Ä‰∏™capped collectionÔºåÊåáÂÆö‰∏Ä‰∏™ collection ÁöÑÂ§ßÂ∞èÔºåÂçï‰ΩçÊòØÂ≠óËäÇ„ÄÇcollection ÁöÑÊï∞ÊçÆÂ≠òÂÇ®Á©∫Èó¥ÂÄºÊèêÂâçÂàÜÈÖçÁöÑ„ÄÇ Capped collections ÂèØ‰ª•ÊåâÁÖßÊñáÊ°£ÁöÑÊèíÂÖ•È°∫Â∫è‰øùÂ≠òÂà∞ÈõÜÂêà‰∏≠ÔºåËÄå‰∏îËøô‰∫õÊñáÊ°£Âú®Á£ÅÁõò‰∏äÂ≠òÊîæ‰ΩçÁΩÆ‰πüÊòØÊåâÁÖßÊèíÂÖ•È°∫Â∫èÊù•‰øùÂ≠òÁöÑÔºåÊâÄ‰ª•ÂΩìÊàë‰ª¨Êõ¥Êñ∞Capped collections ‰∏≠ÊñáÊ°£ÁöÑÊó∂ÂÄôÔºåÊõ¥Êñ∞ÂêéÁöÑÊñáÊ°£‰∏çÂèØ‰ª•Ë∂ÖËøá‰πãÂâçÊñáÊ°£ÁöÑÂ§ßÂ∞èÔºåËøôÊ†∑ËØùÂ∞±ÂèØ‰ª•Á°Æ‰øùÊâÄÊúâÊñáÊ°£Âú®Á£ÅÁõò‰∏äÁöÑ‰ΩçÁΩÆ‰∏ÄÁõ¥‰øùÊåÅ‰∏çÂèò„ÄÇ Áî±‰∫é Capped collection ÊòØÊåâÁÖßÊñáÊ°£ÁöÑÊèíÂÖ•È°∫Â∫èËÄå‰∏çÊòØ‰ΩøÁî®Á¥¢ÂºïÁ°ÆÂÆöÊèíÂÖ•‰ΩçÁΩÆÔºåËøôÊ†∑ÁöÑËØùÂèØ‰ª•ÊèêÈ´òÂ¢ûÊ∑ªÊï∞ÊçÆÁöÑÊïàÁéá„ÄÇMongoDB ÁöÑÊìç‰ΩúÊó•ÂøóÊñá‰ª∂ oplog.rs Â∞±ÊòØÂà©Áî® Capped Collection Êù•ÂÆûÁé∞ÁöÑ„ÄÇ Ë¶ÅÊ≥®ÊÑèÁöÑÊòØÊåáÂÆöÁöÑÂ≠òÂÇ®Â§ßÂ∞èÂåÖÂê´‰∫ÜÊï∞ÊçÆÂ∫ìÁöÑÂ§¥‰ø°ÊÅØ„ÄÇ 1db.createCollection(&quot;mycoll&quot;, {capped:true, size:100000}) Âú® capped collection ‰∏≠Ôºå‰Ω†ËÉΩÊ∑ªÂä†Êñ∞ÁöÑÂØπË±°„ÄÇ ËÉΩËøõË°åÊõ¥Êñ∞ÔºåÁÑ∂ËÄåÔºåÂØπË±°‰∏ç‰ºöÂ¢ûÂä†Â≠òÂÇ®Á©∫Èó¥„ÄÇÂ¶ÇÊûúÂ¢ûÂä†ÔºåÊõ¥Êñ∞Â∞±‰ºöÂ§±Ë¥• „ÄÇ ‰ΩøÁî® Capped Collection ‰∏çËÉΩÂà†Èô§‰∏Ä‰∏™ÊñáÊ°£ÔºåÂèØ‰ª•‰ΩøÁî® drop() ÊñπÊ≥ïÂà†Èô§ collection ÊâÄÊúâÁöÑË°å„ÄÇ Âà†Èô§‰πãÂêéÔºå‰Ω†ÂøÖÈ°ªÊòæÂºèÁöÑÈáçÊñ∞ÂàõÂª∫Ëøô‰∏™ collection„ÄÇ Âú®32bitÊú∫Âô®‰∏≠Ôºåcapped collection ÊúÄÂ§ßÂ≠òÂÇ®‰∏∫ 1e9( 1X109)‰∏™Â≠óËäÇ„ÄÇ ÂÖÉÊï∞ÊçÆ Êï∞ÊçÆÂ∫ìÁöÑ‰ø°ÊÅØÊòØÂ≠òÂÇ®Âú®ÈõÜÂêà‰∏≠„ÄÇÂÆÉ‰ª¨‰ΩøÁî®‰∫ÜÁ≥ªÁªüÁöÑÂëΩÂêçÁ©∫Èó¥Ôºö 1dbname.system.* Âú®MongoDBÊï∞ÊçÆÂ∫ì‰∏≠ÂêçÂ≠óÁ©∫Èó¥ .system.* ÊòØÂåÖÂê´Â§öÁßçÁ≥ªÁªü‰ø°ÊÅØÁöÑÁâπÊÆäÈõÜÂêà(Collection)ÔºåÂ¶Ç‰∏ã: ÈõÜÂêàÂëΩÂêçÁ©∫Èó¥ ÊèèËø∞ dbname.system.namespaces ÂàóÂá∫ÊâÄÊúâÂêçÂ≠óÁ©∫Èó¥„ÄÇ dbname.system.indexes ÂàóÂá∫ÊâÄÊúâÁ¥¢Âºï„ÄÇ dbname.system.profile ÂåÖÂê´Êï∞ÊçÆÂ∫ìÊ¶ÇË¶Å(profile)‰ø°ÊÅØ„ÄÇ dbname.system.users ÂàóÂá∫ÊâÄÊúâÂèØËÆøÈóÆÊï∞ÊçÆÂ∫ìÁöÑÁî®Êà∑„ÄÇ dbname.local.sources ÂåÖÂê´Â§çÂà∂ÂØπÁ´ØÔºàslaveÔºâÁöÑÊúçÂä°Âô®‰ø°ÊÅØÂíåÁä∂ÊÄÅ„ÄÇ ÂØπ‰∫é‰øÆÊîπÁ≥ªÁªüÈõÜÂêà‰∏≠ÁöÑÂØπË±°ÊúâÂ¶Ç‰∏ãÈôêÂà∂„ÄÇ Âú®ÊèíÂÖ•Êï∞ÊçÆÔºåÂèØ‰ª•ÂàõÂª∫Á¥¢Âºï„ÄÇ‰ΩÜÈô§Ê≠§‰πãÂ§ñËØ•Ë°®‰ø°ÊÅØÊòØ‰∏çÂèØÂèòÁöÑ(ÁâπÊÆäÁöÑdrop indexÂëΩ‰ª§Â∞ÜËá™Âä®Êõ¥Êñ∞Áõ∏ÂÖ≥‰ø°ÊÅØ)„ÄÇ ÊòØÂèØ‰øÆÊîπÁöÑ„ÄÇ ÊòØÂèØÂà†Èô§ÁöÑ„ÄÇ MongoDB Êï∞ÊçÆÁ±ªÂûã ‰∏ãË°®‰∏∫MongoDB‰∏≠Â∏∏Áî®ÁöÑÂá†ÁßçÊï∞ÊçÆÁ±ªÂûã„ÄÇ Êï∞ÊçÆÁ±ªÂûã ÊèèËø∞ String Â≠óÁ¨¶‰∏≤„ÄÇÂ≠òÂÇ®Êï∞ÊçÆÂ∏∏Áî®ÁöÑÊï∞ÊçÆÁ±ªÂûã„ÄÇÂú® MongoDB ‰∏≠ÔºåUTF-8 ÁºñÁ†ÅÁöÑÂ≠óÁ¨¶‰∏≤ÊâçÊòØÂêàÊ≥ïÁöÑ„ÄÇ Integer Êï¥ÂûãÊï∞ÂÄº„ÄÇÁî®‰∫éÂ≠òÂÇ®Êï∞ÂÄº„ÄÇÊ†πÊçÆ‰Ω†ÊâÄÈááÁî®ÁöÑÊúçÂä°Âô®ÔºåÂèØÂàÜ‰∏∫ 32 ‰ΩçÊàñ 64 ‰Ωç„ÄÇ Boolean Â∏ÉÂ∞îÂÄº„ÄÇÁî®‰∫éÂ≠òÂÇ®Â∏ÉÂ∞îÂÄºÔºàÁúü/ÂÅáÔºâ„ÄÇ Double ÂèåÁ≤æÂ∫¶ÊµÆÁÇπÂÄº„ÄÇÁî®‰∫éÂ≠òÂÇ®ÊµÆÁÇπÂÄº„ÄÇ Min/Max keys Â∞Ü‰∏Ä‰∏™ÂÄº‰∏é BSONÔºà‰∫åËøõÂà∂ÁöÑ JSONÔºâÂÖÉÁ¥†ÁöÑÊúÄ‰ΩéÂÄºÂíåÊúÄÈ´òÂÄºÁõ∏ÂØπÊØî„ÄÇ Array Áî®‰∫éÂ∞ÜÊï∞ÁªÑÊàñÂàóË°®ÊàñÂ§ö‰∏™ÂÄºÂ≠òÂÇ®‰∏∫‰∏Ä‰∏™ÈîÆ„ÄÇ Timestamp Êó∂Èó¥Êà≥„ÄÇËÆ∞ÂΩïÊñáÊ°£‰øÆÊîπÊàñÊ∑ªÂä†ÁöÑÂÖ∑‰ΩìÊó∂Èó¥„ÄÇ Object Áî®‰∫éÂÜÖÂµåÊñáÊ°£„ÄÇ Null Áî®‰∫éÂàõÂª∫Á©∫ÂÄº„ÄÇ Symbol Á¨¶Âè∑„ÄÇËØ•Êï∞ÊçÆÁ±ªÂûãÂü∫Êú¨‰∏äÁ≠âÂêå‰∫éÂ≠óÁ¨¶‰∏≤Á±ªÂûãÔºå‰ΩÜ‰∏çÂêåÁöÑÊòØÔºåÂÆÉ‰∏ÄËà¨Áî®‰∫éÈááÁî®ÁâπÊÆäÁ¨¶Âè∑Á±ªÂûãÁöÑËØ≠Ë®Ä„ÄÇ Date Êó•ÊúüÊó∂Èó¥„ÄÇÁî® UNIX Êó∂Èó¥Ê†ºÂºèÊù•Â≠òÂÇ®ÂΩìÂâçÊó•ÊúüÊàñÊó∂Èó¥„ÄÇ‰Ω†ÂèØ‰ª•ÊåáÂÆöËá™Â∑±ÁöÑÊó•ÊúüÊó∂Èó¥ÔºöÂàõÂª∫ Date ÂØπË±°Ôºå‰º†ÂÖ•Âπ¥ÊúàÊó•‰ø°ÊÅØ„ÄÇ Object ID ÂØπË±° ID„ÄÇÁî®‰∫éÂàõÂª∫ÊñáÊ°£ÁöÑ ID„ÄÇ Binary Data ‰∫åËøõÂà∂Êï∞ÊçÆ„ÄÇÁî®‰∫éÂ≠òÂÇ®‰∫åËøõÂà∂Êï∞ÊçÆ„ÄÇ Code ‰ª£Á†ÅÁ±ªÂûã„ÄÇÁî®‰∫éÂú®ÊñáÊ°£‰∏≠Â≠òÂÇ® JavaScript ‰ª£Á†Å„ÄÇ Regular expression Ê≠£ÂàôË°®ËææÂºèÁ±ªÂûã„ÄÇÁî®‰∫éÂ≠òÂÇ®Ê≠£ÂàôË°®ËææÂºè„ÄÇ ‰∏ãÈù¢ËØ¥Êòé‰∏ãÂá†ÁßçÈáçË¶ÅÁöÑÊï∞ÊçÆÁ±ªÂûã„ÄÇ ObjectId ObjectId Á±ª‰ººÂîØ‰∏Ä‰∏ªÈîÆÔºåÂèØ‰ª•ÂæàÂø´ÁöÑÂéªÁîüÊàêÂíåÊéíÂ∫èÔºåÂåÖÂê´ 12 bytesÔºåÂê´‰πâÊòØÔºö Ââç 4 ‰∏™Â≠óËäÇË°®Á§∫ÂàõÂª∫ unix Êó∂Èó¥Êà≥,Ê†ºÊûóÂ∞ºÊ≤ªÊó∂Èó¥ UTC Êó∂Èó¥ÔºåÊØîÂåó‰∫¨Êó∂Èó¥Êôö‰∫Ü 8 ‰∏™Â∞èÊó∂ Êé•‰∏ãÊù•ÁöÑ 3 ‰∏™Â≠óËäÇÊòØÊú∫Âô®Ê†áËØÜÁ†Å Á¥ßÊé•ÁöÑ‰∏§‰∏™Â≠óËäÇÁî±ËøõÁ®ã id ÁªÑÊàê PID ÊúÄÂêé‰∏â‰∏™Â≠óËäÇÊòØÈöèÊú∫Êï∞ MongoDB ‰∏≠Â≠òÂÇ®ÁöÑÊñáÊ°£ÂøÖÈ°ªÊúâ‰∏Ä‰∏™ _id ÈîÆ„ÄÇËøô‰∏™ÈîÆÁöÑÂÄºÂèØ‰ª•ÊòØ‰ªª‰ΩïÁ±ªÂûãÁöÑÔºåÈªòËÆ§ÊòØ‰∏™ ObjectId ÂØπË±° Áî±‰∫é ObjectId ‰∏≠‰øùÂ≠ò‰∫ÜÂàõÂª∫ÁöÑÊó∂Èó¥Êà≥ÔºåÊâÄ‰ª•‰Ω†‰∏çÈúÄË¶Å‰∏∫‰Ω†ÁöÑÊñáÊ°£‰øùÂ≠òÊó∂Èó¥Êà≥Â≠óÊÆµÔºå‰Ω†ÂèØ‰ª•ÈÄöËøá getTimestamp ÂáΩÊï∞Êù•Ëé∑ÂèñÊñáÊ°£ÁöÑÂàõÂª∫Êó∂Èó¥: 123&gt; var newObject = ObjectId()&gt; newObject.getTimestamp()ISODate(&quot;2017-11-25T07:21:10Z&quot;) ObjectId ËΩ¨‰∏∫Â≠óÁ¨¶‰∏≤ 12&gt; newObject.str5a1919e63df83ce79df8b38f Â≠óÁ¨¶‰∏≤ BSON Â≠óÁ¨¶‰∏≤ÈÉΩÊòØ UTF-8 ÁºñÁ†Å„ÄÇ Êó∂Èó¥Êà≥ BSON Êúâ‰∏Ä‰∏™ÁâπÊÆäÁöÑÊó∂Èó¥Êà≥Á±ªÂûãÁî®‰∫é MongoDB ÂÜÖÈÉ®‰ΩøÁî®Ôºå‰∏éÊôÆÈÄöÁöÑ Êó•Êúü Á±ªÂûã‰∏çÁõ∏ÂÖ≥„ÄÇ Êó∂Èó¥Êà≥ÂÄºÊòØ‰∏Ä‰∏™ 64 ‰ΩçÁöÑÂÄº„ÄÇÂÖ∂‰∏≠Ôºö Ââç32‰ΩçÊòØ‰∏Ä‰∏™ time_t ÂÄºÔºà‰∏éUnixÊñ∞Á∫™ÂÖÉÁõ∏Â∑ÆÁöÑÁßíÊï∞Ôºâ Âêé32‰ΩçÊòØÂú®ÊüêÁßí‰∏≠Êìç‰ΩúÁöÑ‰∏Ä‰∏™ÈÄíÂ¢ûÁöÑÂ∫èÊï∞ Âú®Âçï‰∏™ mongod ÂÆû‰æã‰∏≠ÔºåÊó∂Èó¥Êà≥ÂÄºÈÄöÂ∏∏ÊòØÂîØ‰∏ÄÁöÑ„ÄÇ Âú®Â§çÂà∂ÈõÜ‰∏≠Ôºå oplog Êúâ‰∏Ä‰∏™ ts Â≠óÊÆµ„ÄÇËøô‰∏™Â≠óÊÆµ‰∏≠ÁöÑÂÄº‰ΩøÁî®BSONÊó∂Èó¥Êà≥Ë°®Á§∫‰∫ÜÊìç‰ΩúÊó∂Èó¥„ÄÇ BSON Êó∂Èó¥Êà≥Á±ªÂûã‰∏ªË¶ÅÁî®‰∫é MongoDB ÂÜÖÈÉ®‰ΩøÁî®„ÄÇÂú®Â§ßÂ§öÊï∞ÊÉÖÂÜµ‰∏ãÁöÑÂ∫îÁî®ÂºÄÂèë‰∏≠Ôºå‰Ω†ÂèØ‰ª•‰ΩøÁî® BSON Êó•ÊúüÁ±ªÂûã„ÄÇ Êó•Êúü Ë°®Á§∫ÂΩìÂâçË∑ùÁ¶ª UnixÊñ∞Á∫™ÂÖÉÔºà1970Âπ¥1Êúà1Êó•ÔºâÁöÑÊØ´ÁßíÊï∞„ÄÇÊó•ÊúüÁ±ªÂûãÊòØÊúâÁ¨¶Âè∑ÁöÑ, Ë¥üÊï∞Ë°®Á§∫ 1970 Âπ¥‰πãÂâçÁöÑÊó•Êúü„ÄÇ 12345678910&gt; var mydate1 = new Date() //Ê†ºÊûóÂ∞ºÊ≤ªÊó∂Èó¥&gt; mydate1ISODate(&quot;2018-03-04T14:58:51.233Z&quot;)&gt; typeof mydate1object&gt; var mydate2 = ISODate() //Ê†ºÊûóÂ∞ºÊ≤ªÊó∂Èó¥&gt; mydate2ISODate(&quot;2018-03-04T15:00:45.479Z&quot;)&gt; typeof mydate2object ËøôÊ†∑ÂàõÂª∫ÁöÑÊó∂Èó¥ÊòØÊó•ÊúüÁ±ªÂûãÔºåÂèØ‰ª•‰ΩøÁî® JS ‰∏≠ÁöÑ Date Á±ªÂûãÁöÑÊñπÊ≥ï„ÄÇ ËøîÂõû‰∏Ä‰∏™Êó∂Èó¥Á±ªÂûãÁöÑÂ≠óÁ¨¶‰∏≤Ôºö 12345&gt; var mydate1str = mydate1.toString()&gt; mydate1strSun Mar 04 2018 14:58:51 GMT+0000 (UTC) &gt; typeof mydate1strstring ÊàñËÄÖ 12&gt; Date()Sun Mar 04 2018 15:02:59 GMT+0000 (UTC) ‰∏â„ÄÅÂÆâË£ÖÔºàwinÔºâ ‰∏ãËΩΩ ÂÆâË£Ö ÂàõÂª∫ÈªòËÆ§Êï∞ÊçÆÊñá‰ª∂Â§π \\data\\db ‰∏é \\data\\log \\MongoDB.logÊñá‰ª∂ ÊâãÂä®ËøêË°åMongoDBÊúçÂä°Âô® 12345678#ÂÆâË£ÖÁõÆÂΩï\\bin\\mongod --dbpath Ëá™Â∑±ÂÆö‰πâÁöÑÊï∞ÊçÆÊñá‰ª∂Â§πÔºàc:\\data\\dbÔºâF:\\Softs\\Installed\\MongoDB\\bin\\mongod --dbpath F:\\Softs\\Installed\\MongoDB\\data\\db#ÊàêÂäüÁªìÊûúÔºö{&quot;t&quot;:{&quot;$date&quot;:&quot;2022-01-18T14:50:04.760+08:00&quot;},&quot;s&quot;:&quot;I&quot;, &quot;c&quot;:&quot;CONTROL&quot;, &quot;id&quot;:23285, &quot;ctx&quot;:&quot;-&quot;,&quot;msg&quot;:&quot;Automatically disabling TLS 1.0, to force-enable TLS 1.0 specify --sslDisabledProtocols 'none'&quot;}{&quot;t&quot;:{&quot;$date&quot;:&quot;2022-01-18T14:50:04.761+08:00&quot;},&quot;s&quot;:&quot;I&quot;, &quot;c&quot;:&quot;NETWORK&quot;, &quot;id&quot;:4915701, &quot;ctx&quot;:&quot;-&quot;,&quot;msg&quot;:&quot;Initialized wire specification&quot;,&quot;attr&quot;:{&quot;spec&quot;:{&quot;incomingExternalClient&quot;:{&quot;minWireVersion&quot;:0,&quot;maxWireVersion&quot;:13},&quot;incomingInternalClient&quot;:{&quot;minWireVersion&quot;:0,&quot;maxWireVersion&quot;:13},&quot;outgoing&quot;:{&quot;minWireVersion&quot;:0,&quot;maxWireVersion&quot;:13},&quot;isInternalClient&quot;:true}}}„ÄÇ„ÄÇ„ÄÇ Âõõ„ÄÅËøûÊé• 12345678910111213141516171819202122232425#‰∏Ä#Â∞ÜÂÖ∂ÈÖçÁΩÆÊàêÊúçÂä°ÂêéÂêØÂä®ÊúçÂä°mongod --dbpath &quot;F:\\Softs\\Installed\\MongoDB\\data\\db&quot; --logpath &quot;F:\\Softs\\Installed\\MongoDB\\data\\log\\MongoDB.log&quot; --install --serviceName &quot;MongoDB&quot;PS F:\\Softs\\Installed\\MongoDB\\bin&gt; net start mongodbËØ∑Ê±ÇÁöÑÊúçÂä°Â∑≤ÁªèÂêØÂä®„ÄÇ#‰∫å#ÈÖçÁΩÆbinÁõÆÂΩïÁéØÂ¢ÉÂèòÈáèÂêéÔºåÁî®mongoËøûÊé•C:\\Users\\Administrator&gt;mongoMongoDB shell version v5.0.6-rc0connecting to: mongodb://127.0.0.1:27017/?compressors=disabled&amp;gssapiServiceName=mongodbImplicit session: session { &quot;id&quot; : UUID(&quot;4f5de15b-0c12-4dde-8cc4-325ae6b23114&quot;) }MongoDB server version: 5.0.6-rc0#ÂÖ≥Èó≠#‰∏ç‰∏∫Á≥ªÁªüÊúçÂä°Êó∂ÂÖ≥Èó≠mongoÂëΩ‰ª§Á™óÂè£#Á≥ªÁªüÊúçÂä°NET stop MongoDB (ÂÖ≥Èó≠ÊúçÂä°)#Âà†Èô§ËøõÁ®ãmongod --dbpath &quot;d:\\mongodb\\data\\db&quot; --logpath &quot;d:\\mongodb\\data\\log\\MongoDB.log&quot; --remove --serviceName &quot;MongoDB&quot; ‰∫î„ÄÅÊï∞ÊçÆÂ∫ì 1234567891011121314151617181920212223242526272829303132#ÂàõÂª∫Êï∞ÊçÆÂ∫ìÔºåÊ≤°ÊúâÂàõÂª∫ÔºåÊúâÂàôÂàáÊç¢Ôºå#Êï∞ÊçÆÂëΩÂêçËßÑÂàôÔºö#‰∏çËÉΩÊòØÁ©∫Â≠óÁ¨¶‰∏≤Ôºà&quot;&quot;)„ÄÇ#‰∏çÂæóÂê´Êúâ' 'ÔºàÁ©∫Ê†º)„ÄÅ.„ÄÅ$„ÄÅ/„ÄÅ\\Âíå\\0 (Á©∫Â≠óÁ¨¶)„ÄÇ#Â∫îÂÖ®ÈÉ®Â∞èÂÜô„ÄÇ#ÊúÄÂ§ö64Â≠óËäÇ„ÄÇ#Êúâ‰∏Ä‰∫õÊï∞ÊçÆÂ∫ìÂêçÊòØ‰øùÁïôÁöÑÔºåÂèØ‰ª•Áõ¥Êé•ËÆøÈóÆËøô‰∫õÊúâÁâπÊÆä‰ΩúÁî®ÁöÑÊï∞ÊçÆÂ∫ì„ÄÇ#adminÔºö ‰ªéÊùÉÈôêÁöÑËßíÂ∫¶Êù•ÁúãÔºåËøôÊòØ&quot;root&quot;Êï∞ÊçÆÂ∫ì„ÄÇË¶ÅÊòØÂ∞Ü‰∏Ä‰∏™Áî®Êà∑Ê∑ªÂä†Âà∞Ëøô‰∏™Êï∞ÊçÆÂ∫ìÔºåËøô‰∏™Áî®Êà∑Ëá™Âä®ÁªßÊâøÊâÄÊúâÊï∞ÊçÆÂ∫ìÁöÑÊùÉÈôê„ÄÇ‰∏Ä‰∫õÁâπÂÆöÁöÑÊúçÂä°Âô®Á´ØÂëΩ‰ª§‰πüÂè™ËÉΩ‰ªéËøô‰∏™Êï∞ÊçÆÂ∫ìËøêË°åÔºåÊØîÂ¶ÇÂàóÂá∫ÊâÄÊúâÁöÑÊï∞ÊçÆÂ∫ìÊàñËÄÖÂÖ≥Èó≠ÊúçÂä°Âô®„ÄÇ#local: Ëøô‰∏™Êï∞ÊçÆÊ∞∏Ëøú‰∏ç‰ºöË¢´Â§çÂà∂ÔºåÂèØ‰ª•Áî®Êù•Â≠òÂÇ®Èôê‰∫éÊú¨Âú∞ÂçïÂè∞ÊúçÂä°Âô®ÁöÑ‰ªªÊÑèÈõÜÂêà#config: ÂΩìMongoÁî®‰∫éÂàÜÁâáËÆæÁΩÆÊó∂ÔºåconfigÊï∞ÊçÆÂ∫ìÂú®ÂÜÖÈÉ®‰ΩøÁî®ÔºåÁî®‰∫é‰øùÂ≠òÂàÜÁâáÁöÑÁõ∏ÂÖ≥‰ø°ÊÅØ„ÄÇ&gt; use userswitched to db user#Êü•ÁúãÂΩìÂâçÊï∞ÊçÆÂ∫ìÂêç&gt; dbuser#ÊèíÂÖ•Êï∞ÊçÆ&gt; db.user.insert({&quot;name&quot;:&quot;lxl&quot;})WriteResult({ &quot;nInserted&quot; : 1 })#Êü•ÁúãÊï∞ÊçÆÂ∫ìÂàóË°®ÔºåÊúâÊï∞ÊçÆÁöÑÊï∞ÊçÆÂ∫ìÊâç‰ºöÊòæÁ§∫&gt; show dbsadmin 0.000GBconfig 0.000GBlocal 0.000GBuser 0.000GB#Âà†Èô§Êï∞ÊçÆÂ∫ì&gt; use userswitched to db user&gt; db.dropDatabase(){ &quot;ok&quot; : 1 } ÂÖ≠„ÄÅÈõÜÂêà 1234567891011121314151617181920#Êü•ÁúãÊâÄÊúâÊï∞ÊçÆÂ∫ì&gt; show dbsadmin 0.000GBconfig 0.000GBlocal 0.000GB&gt; use studentswitched to db student#ÂàõÂª∫ÈõÜÂêàÊï∞ÊçÆ&gt; db.createCollection(&quot;students&quot;){ &quot;ok&quot; : 1 }#Êü•ÁúãÈõÜÂêàshow collections Êàñ show tables&gt; show tablesstudents&gt; db.student.drop()false#Âà†Èô§ÈõÜÂêàÊï∞ÊçÆ&gt; db.students.drop()true&gt; show tables&gt; options ÂèÇÊï∞Ôºö Â≠óÊÆµ Á±ªÂûã ÊèèËø∞ capped Â∏ÉÂ∞î ÔºàÂèØÈÄâÔºâÂ¶ÇÊûú‰∏∫ trueÔºåÂàôÂàõÂª∫Âõ∫ÂÆöÈõÜÂêà„ÄÇÂõ∫ÂÆöÈõÜÂêàÊòØÊåáÊúâÁùÄÂõ∫ÂÆöÂ§ßÂ∞èÁöÑÈõÜÂêàÔºåÂΩìËææÂà∞ÊúÄÂ§ßÂÄºÊó∂ÔºåÂÆÉ‰ºöËá™Âä®Ë¶ÜÁõñÊúÄÊó©ÁöÑÊñáÊ°£„ÄÇ ÂΩìËØ•ÂÄº‰∏∫ true Êó∂ÔºåÂøÖÈ°ªÊåáÂÆö size ÂèÇÊï∞„ÄÇ autoIndexId Â∏ÉÂ∞î 3.2 ‰πãÂêé‰∏çÂÜçÊîØÊåÅËØ•ÂèÇÊï∞„ÄÇÔºàÂèØÈÄâÔºâÂ¶Ç‰∏∫ trueÔºåËá™Âä®Âú® _id Â≠óÊÆµÂàõÂª∫Á¥¢Âºï„ÄÇÈªòËÆ§‰∏∫ false„ÄÇ size Êï∞ÂÄº ÔºàÂèØÈÄâÔºâ‰∏∫Âõ∫ÂÆöÈõÜÂêàÊåáÂÆö‰∏Ä‰∏™ÊúÄÂ§ßÂÄºÔºåÂç≥Â≠óËäÇÊï∞„ÄÇ Â¶ÇÊûú capped ‰∏∫ trueÔºå‰πüÈúÄË¶ÅÊåáÂÆöËØ•Â≠óÊÆµ„ÄÇ max Êï∞ÂÄº ÔºàÂèØÈÄâÔºâÊåáÂÆöÂõ∫ÂÆöÈõÜÂêà‰∏≠ÂåÖÂê´ÊñáÊ°£ÁöÑÊúÄÂ§ßÊï∞Èáè„ÄÇ ‰∏É„ÄÅÊñáÊ°£ Â¢û 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465&gt; show tables&gt; dbstudent&gt; show collections&gt; dbstudent#ÊèíÂÖ•ÊñáÊ°£ insertÔºàÔºâ&gt; db.student.insert({name:&quot;lxl&quot;})WriteResult({ &quot;nInserted&quot; : 1 })#Êü•ÁúãÊñáÊ°£ find()&gt; db.student.find(){ &quot;_id&quot; : ObjectId(&quot;61e7add36e48f4bf534731d6&quot;), &quot;name&quot; : &quot;lxl&quot; }# Â∞ÜÊñáÊ°£Â£∞ÊòéÊàêÂèòÈáèÂÜçÊèíÂÖ•&gt; document=({age:18}){ &quot;age&quot; : 18 }&gt; db.student.insert(document)WriteResult({ &quot;nInserted&quot; : 1 })&gt; db.student.find(){ &quot;_id&quot; : ObjectId(&quot;61e7add36e48f4bf534731d6&quot;), &quot;name&quot; : &quot;lxl&quot; }{ &quot;_id&quot; : ObjectId(&quot;61e7ae456e48f4bf534731d7&quot;), &quot;age&quot; : 18 }&gt; document=({&quot;_id&quot; : ObjectId(&quot;61e7ae456e48f4bf534731d7&quot;),age:19}){ &quot;_id&quot; : ObjectId(&quot;61e7ae456e48f4bf534731d7&quot;), &quot;age&quot; : 19 }# ÊèíÂÖ•ÊñáÊ°£ saveÔºàÔºâÔºåÊúâ_idÊó∂ÈáçÂ§çÂàô‰øÆÊîπ&gt; db.student.save(document)WriteResult({ &quot;nMatched&quot; : 1, &quot;nUpserted&quot; : 0, &quot;nModified&quot; : 1 })&gt; db.student.find(){ &quot;_id&quot; : ObjectId(&quot;61e7add36e48f4bf534731d6&quot;), &quot;name&quot; : &quot;lxl&quot; }{ &quot;_id&quot; : ObjectId(&quot;61e7ae456e48f4bf534731d7&quot;), &quot;age&quot; : 19 }&gt; document=({&quot;_id&quot; : ObjectId(&quot;61e7ae456e48f4bf534731d7&quot;),age:20}){ &quot;_id&quot; : ObjectId(&quot;61e7ae456e48f4bf534731d7&quot;), &quot;age&quot; : 20 }#ÊèíÂÖ•ÊñáÊ°£ insetOneÔºàÔºâidÈáçÂ§çÊä•Èîô db.collection.insertMany()‰∏ÄÊ¨°ÊèíÂÖ•Â§ö‰∏™ÊñáÊ°£&gt; db.student.insertOne(document)WriteError({ &quot;index&quot; : 0, &quot;code&quot; : 11000, &quot;errmsg&quot; : &quot;E11000 duplicate key error collection: student.student index: _id_ dup key: { _id: ObjectId('61e7ae456e48f4bf534731d7') }&quot;, &quot;op&quot; : { &quot;_id&quot; : ObjectId(&quot;61e7ae456e48f4bf534731d7&quot;), &quot;age&quot; : 20 }}) :WriteError({ &quot;index&quot; : 0, &quot;code&quot; : 11000, &quot;errmsg&quot; : &quot;E11000 duplicate key error collection: student.student index: _id_ dup key: { _id: ObjectId('61e7ae456e48f4bf534731d7') }&quot;, &quot;op&quot; : { &quot;_id&quot; : ObjectId(&quot;61e7ae456e48f4bf534731d7&quot;), &quot;age&quot; : 20 }})WriteError@src/mongo/shell/bulk_api.js:465:48mergeBatchResults@src/mongo/shell/bulk_api.js:871:49executeBatch@src/mongo/shell/bulk_api.js:940:13Bulk/this.execute@src/mongo/shell/bulk_api.js:1182:21DBCollection.prototype.insertOne@src/mongo/shell/crud_api.js:264:9@(shell):1:1#ÊèíÂÖ•ÊñáÊ°£replaceOneÔºàÔºâ&gt; db.student.replaceOne(document)uncaught exception: TypeError: can't convert undefined to object :DBCollection.prototype.replaceOne@src/mongo/shell/crud_api.js:477:16@(shell):1:1&gt; db.student.find(){ &quot;_id&quot; : ObjectId(&quot;61e7add36e48f4bf534731d6&quot;), &quot;name&quot; : &quot;lxl&quot; }{ &quot;_id&quot; : ObjectId(&quot;61e7ae456e48f4bf534731d7&quot;), &quot;age&quot; : 19 }&gt; Êîπ Ê®°Êùø 123456789db.collection.update( &lt;query&gt;, &lt;update&gt;, { upsert: &lt;boolean&gt;, multi: &lt;boolean&gt;, writeConcern: &lt;document&gt; }) ÂèÇÊï∞ËØ¥ÊòéÔºö query : updateÁöÑÊü•ËØ¢Êù°‰ª∂ÔºåÁ±ª‰ººsql updateÊü•ËØ¢ÂÜÖwhereÂêéÈù¢ÁöÑ„ÄÇ update : updateÁöÑÂØπË±°Âíå‰∏Ä‰∫õÊõ¥Êñ∞ÁöÑÊìç‰ΩúÁ¨¶ÔºàÂ¶Ç$,$inc...ÔºâÁ≠âÔºå‰πüÂèØ‰ª•ÁêÜËß£‰∏∫sql updateÊü•ËØ¢ÂÜÖsetÂêéÈù¢ÁöÑ upsert : ÂèØÈÄâÔºåÂ¶ÇÊûú‰∏çÂ≠òÂú®updateÁöÑËÆ∞ÂΩïÔºåÊòØÂê¶ÊèíÂÖ•objNew,true‰∏∫ÊèíÂÖ•ÔºåÈªòËÆ§ÊòØfalseÔºå‰∏çÊèíÂÖ•„ÄÇ multi : ÂèØÈÄâÔºåmongodb ÈªòËÆ§ÊòØfalse,Âè™Êõ¥Êñ∞ÊâæÂà∞ÁöÑÁ¨¨‰∏ÄÊù°ËÆ∞ÂΩïÔºåÂ¶ÇÊûúËøô‰∏™ÂèÇÊï∞‰∏∫true,Â∞±ÊääÊåâÊù°‰ª∂Êü•Âá∫Êù•Â§öÊù°ËÆ∞ÂΩïÂÖ®ÈÉ®Êõ¥Êñ∞„ÄÇ writeConcern :ÂèØÈÄâÔºåÊäõÂá∫ÂºÇÂ∏∏ÁöÑÁ∫ßÂà´„ÄÇ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253&gt; db.student.find(){ &quot;_id&quot; : ObjectId(&quot;61e7add36e48f4bf534731d6&quot;), &quot;name&quot; : &quot;lxl&quot; }{ &quot;_id&quot; : ObjectId(&quot;61e7ae456e48f4bf534731d7&quot;), &quot;age&quot; : 19 }#Êõ¥Êñ∞Á¨¨‰∏ÄÊù°ÊñáÊ°£&gt; db.student.update({&quot;name&quot;:&quot;lxl&quot;},{$set:{&quot;name&quot;:&quot;lll&quot;}})WriteResult({ &quot;nMatched&quot; : 1, &quot;nUpserted&quot; : 0, &quot;nModified&quot; : 1 })&gt; db.student.find(){ &quot;_id&quot; : ObjectId(&quot;61e7add36e48f4bf534731d6&quot;), &quot;name&quot; : &quot;lll&quot; }{ &quot;_id&quot; : ObjectId(&quot;61e7ae456e48f4bf534731d7&quot;), &quot;age&quot; : 19 }&gt; document=({age:21}){ &quot;age&quot; : 21 }&gt; db.student.insert(document)WriteResult({ &quot;nInserted&quot; : 1 })&gt; db.student.find(){ &quot;_id&quot; : ObjectId(&quot;61e7add36e48f4bf534731d6&quot;), &quot;name&quot; : &quot;lll&quot; }{ &quot;_id&quot; : ObjectId(&quot;61e7ae456e48f4bf534731d7&quot;), &quot;age&quot; : 19 }{ &quot;_id&quot; : ObjectId(&quot;61e7b1736e48f4bf534731d8&quot;), &quot;age&quot; : 21 }&gt; document=({age:21}){ &quot;age&quot; : 21 }&gt; db.student.insert(document)WriteResult({ &quot;nInserted&quot; : 1 })&gt; db.student.find(){ &quot;_id&quot; : ObjectId(&quot;61e7add36e48f4bf534731d6&quot;), &quot;name&quot; : &quot;lll&quot; }{ &quot;_id&quot; : ObjectId(&quot;61e7ae456e48f4bf534731d7&quot;), &quot;age&quot; : 19 }{ &quot;_id&quot; : ObjectId(&quot;61e7b1736e48f4bf534731d8&quot;), &quot;age&quot; : 21 }{ &quot;_id&quot; : ObjectId(&quot;61e7b19a6e48f4bf534731d9&quot;), &quot;age&quot; : 21 }#Êõ¥Êñ∞Á±ªÂûãÂøÖÈ°ªÁõ∏Âêå&gt; db.student.update({&quot;age&quot;:&quot;21&quot;},{$set:{&quot;age&quot;:&quot;22&quot;}})WriteResult({ &quot;nMatched&quot; : 0, &quot;nUpserted&quot; : 0, &quot;nModified&quot; : 0 })#Â§öÊù°ÊñáÊ°£Áõ∏ÂêåÂè™Êõ¥Êñ∞Á¨¨‰∏ÄÊù°&gt; db.student.update({&quot;age&quot;:21},{$set:{&quot;age&quot;:22}})WriteResult({ &quot;nMatched&quot; : 1, &quot;nUpserted&quot; : 0, &quot;nModified&quot; : 1 })&gt; db.student.find(){ &quot;_id&quot; : ObjectId(&quot;61e7add36e48f4bf534731d6&quot;), &quot;name&quot; : &quot;lll&quot; }{ &quot;_id&quot; : ObjectId(&quot;61e7ae456e48f4bf534731d7&quot;), &quot;age&quot; : 19 }{ &quot;_id&quot; : ObjectId(&quot;61e7b1736e48f4bf534731d8&quot;), &quot;age&quot; : 22 }{ &quot;_id&quot; : ObjectId(&quot;61e7b19a6e48f4bf534731d9&quot;), &quot;age&quot; : 21 }&gt; db.student.update({&quot;age&quot;:22},{$set:{&quot;age&quot;:21}})WriteResult({ &quot;nMatched&quot; : 1, &quot;nUpserted&quot; : 0, &quot;nModified&quot; : 1 })&gt; db.student.find(){ &quot;_id&quot; : ObjectId(&quot;61e7add36e48f4bf534731d6&quot;), &quot;name&quot; : &quot;lll&quot; }{ &quot;_id&quot; : ObjectId(&quot;61e7ae456e48f4bf534731d7&quot;), &quot;age&quot; : 19 }{ &quot;_id&quot; : ObjectId(&quot;61e7b1736e48f4bf534731d8&quot;), &quot;age&quot; : 21 }{ &quot;_id&quot; : ObjectId(&quot;61e7b19a6e48f4bf534731d9&quot;), &quot;age&quot; : 21 }#,{multi:true}Â∞ÜÂÖ®ÈÉ®Á¨¶ÂêàÊù°‰ª∂ÁöÑÊñáÊ°£ÈÉΩÊõ¥Êñ∞&gt; db.student.update({&quot;age&quot;:21},{$set:{&quot;age&quot;:22}},{multi:true})WriteResult({ &quot;nMatched&quot; : 2, &quot;nUpserted&quot; : 0, &quot;nModified&quot; : 2 })&gt; db.student.find(){ &quot;_id&quot; : ObjectId(&quot;61e7add36e48f4bf534731d6&quot;), &quot;name&quot; : &quot;lll&quot; }{ &quot;_id&quot; : ObjectId(&quot;61e7ae456e48f4bf534731d7&quot;), &quot;age&quot; : 19 }{ &quot;_id&quot; : ObjectId(&quot;61e7b1736e48f4bf534731d8&quot;), &quot;age&quot; : 22 }{ &quot;_id&quot; : ObjectId(&quot;61e7b19a6e48f4bf534731d9&quot;), &quot;age&quot; : 22 }&gt; Âà† 1234567db.collection.remove( &lt;query&gt;, { justOne: &lt;boolean&gt;, writeConcern: &lt;document&gt; }) ÂèÇÊï∞ËØ¥ÊòéÔºö query :ÔºàÂèØÈÄâÔºâÂà†Èô§ÁöÑÊñáÊ°£ÁöÑÊù°‰ª∂„ÄÇ justOne : ÔºàÂèØÈÄâÔºâÂ¶ÇÊûúËÆæ‰∏∫ true Êàñ 1ÔºåÂàôÂè™Âà†Èô§‰∏Ä‰∏™ÊñáÊ°£ÔºåÂ¶ÇÊûú‰∏çËÆæÁΩÆËØ•ÂèÇÊï∞ÔºåÊàñ‰ΩøÁî®ÈªòËÆ§ÂÄº falseÔºåÂàôÂà†Èô§ÊâÄÊúâÂåπÈÖçÊù°‰ª∂ÁöÑÊñáÊ°£„ÄÇ writeConcern :ÔºàÂèØÈÄâÔºâÊäõÂá∫ÂºÇÂ∏∏ÁöÑÁ∫ßÂà´ 12345678910111213141516171819202122232425262728293031323334353637&gt; db.student.find({&quot;age&quot;:22}){ &quot;_id&quot; : ObjectId(&quot;61e7b1736e48f4bf534731d8&quot;), &quot;age&quot; : 22 }{ &quot;_id&quot; : ObjectId(&quot;61e7b19a6e48f4bf534731d9&quot;), &quot;age&quot; : 22 }#Âà†Èô§ÊâÄÊúâÂ§çÂêàÊù°‰ª∂ÁöÑÊñáÊ°£&gt; db.student.remove({&quot;age&quot;:22})WriteResult({ &quot;nRemoved&quot; : 2 })&gt; db.student.find(){ &quot;_id&quot; : ObjectId(&quot;61e7add36e48f4bf534731d6&quot;), &quot;name&quot; : &quot;lll&quot; }{ &quot;_id&quot; : ObjectId(&quot;61e7ae456e48f4bf534731d7&quot;), &quot;age&quot; : 19 }&gt; db.student.insert(document)WriteResult({ &quot;nInserted&quot; : 1 })&gt; db.student.insert(document)WriteResult({ &quot;nInserted&quot; : 1 })&gt; db.student.find(){ &quot;_id&quot; : ObjectId(&quot;61e7add36e48f4bf534731d6&quot;), &quot;name&quot; : &quot;lll&quot; }{ &quot;_id&quot; : ObjectId(&quot;61e7ae456e48f4bf534731d7&quot;), &quot;age&quot; : 19 }{ &quot;_id&quot; : ObjectId(&quot;61e7b3d76e48f4bf534731da&quot;), &quot;age&quot; : 21 }{ &quot;_id&quot; : ObjectId(&quot;61e7b3d96e48f4bf534731db&quot;), &quot;age&quot; : 21 }#ËÆæÁΩÆjustOne‰∏∫trueÊàñ1ÔºåÂà†Èô§Á¨¶ÂêàÊù°‰ª∂ÁöÑÁ¨¨‰∏ÄÊù°ÊñáÊ°£&gt; db.student.remove({&quot;age&quot;:22},1)WriteResult({ &quot;nRemoved&quot; : 0 })&gt; db.student.remove({&quot;age&quot;:21},1)WriteResult({ &quot;nRemoved&quot; : 1 })&gt; db.student.find(){ &quot;_id&quot; : ObjectId(&quot;61e7add36e48f4bf534731d6&quot;), &quot;name&quot; : &quot;lll&quot; }{ &quot;_id&quot; : ObjectId(&quot;61e7ae456e48f4bf534731d7&quot;), &quot;age&quot; : 19 }{ &quot;_id&quot; : ObjectId(&quot;61e7b3d96e48f4bf534731db&quot;), &quot;age&quot; : 21 }#Âà†Èô§ÊâÄÊúâÊñáÊ°£&gt; db.student.remove()uncaught exception: Error: remove needs a query :DBCollection.prototype._parseRemove@src/mongo/shell/collection.js:364:15DBCollection.prototype.remove@src/mongo/shell/collection.js:394:18@(shell):1:1&gt; db.student.remove({})WriteResult({ &quot;nRemoved&quot; : 3 })&gt; db.student.find()&gt; Êü• 1db.collection.find(query, projection) query ÔºöÂèØÈÄâÔºå‰ΩøÁî®Êü•ËØ¢Êìç‰ΩúÁ¨¶ÊåáÂÆöÊü•ËØ¢Êù°‰ª∂ projection ÔºöÂèØÈÄâÔºå‰ΩøÁî®ÊäïÂΩ±Êìç‰ΩúÁ¨¶ÊåáÂÆöËøîÂõûÁöÑÈîÆ„ÄÇÊü•ËØ¢Êó∂ËøîÂõûÊñáÊ°£‰∏≠ÊâÄÊúâÈîÆÂÄºÔºå Âè™ÈúÄÁúÅÁï•ËØ•ÂèÇÊï∞Âç≥ÂèØÔºàÈªòËÆ§ÁúÅÁï•Ôºâ„ÄÇ Â¶ÇÊûú‰Ω†ÈúÄË¶Å‰ª•ÊòìËØªÁöÑÊñπÂºèÊù•ËØªÂèñÊï∞ÊçÆÔºåÂèØ‰ª•‰ΩøÁî® pretty() ÊñπÊ≥ïÔºåËØ≠Ê≥ïÊ†ºÂºèÂ¶Ç‰∏ãÔºö 1&gt;db.col.find().pretty() pretty() ÊñπÊ≥ï‰ª•Ê†ºÂºèÂåñÁöÑÊñπÂºèÊù•ÊòæÁ§∫ÊâÄÊúâÊñáÊ°£„ÄÇ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273&gt; db.student.remove({})WriteResult({ &quot;nRemoved&quot; : 2 })&gt; db.student.insert({&quot;age&quot;:22,name:&quot;a1&quot;})WriteResult({ &quot;nInserted&quot; : 1 })&gt; db.student.insert({&quot;age&quot;:11,name:&quot;a2&quot;}) WriteResult({ &quot;nInserted&quot; : 1 })#Êü•ËØ¢Á¨¨‰∏Ä‰∏™&gt; db.student.findOne(){ &quot;_id&quot; : ObjectId(&quot;61e7b65b6e48f4bf534731dd&quot;), &quot;age&quot; : 22, &quot;name&quot; : &quot;a1&quot; }&gt; db.student.find().pretty(){ &quot;_id&quot; : ObjectId(&quot;61e7b65b6e48f4bf534731dd&quot;), &quot;age&quot; : 22, &quot;name&quot; : &quot;a1&quot; }{ &quot;_id&quot; : ObjectId(&quot;61e7b6646e48f4bf534731de&quot;), &quot;age&quot; : 11, &quot;name&quot; : &quot;a2&quot; }#Êü•ËØ¢ÂÖ®ÈÉ®&gt; db.student.find(){ &quot;_id&quot; : ObjectId(&quot;61e7b65b6e48f4bf534731dd&quot;), &quot;age&quot; : 22, &quot;name&quot; : &quot;a1&quot; }{ &quot;_id&quot; : ObjectId(&quot;61e7b6646e48f4bf534731de&quot;), &quot;age&quot; : 11, &quot;name&quot; : &quot;a2&quot; }#Êù°‰ª∂Êü•ËØ¢ Â∞è‰∫é$lt&gt; db.student.find({age:{$lt:20}}){ &quot;_id&quot; : ObjectId(&quot;61e7b6646e48f4bf534731de&quot;), &quot;age&quot; : 11, &quot;name&quot; : &quot;a2&quot; }#Êü•ËØ¢Â∞è‰∫é$ltÁöÑÊåáÂÆöÂ≠óÊÆµ&gt; db.student.find({age:{$lt:20}}Ôºå{&quot;_id&quot;:1}){ &quot;_id&quot; : ObjectId(&quot;61e7b6646e48f4bf534731de&quot;)}#Êü•ËØ¢Â∞è‰∫é$ltÁöÑÊåáÂÆöÂ§ñÂ≠óÊÆµ&gt; db.student.find({age:{$lt:20}}Ôºå{&quot;_id&quot;:0}){ &quot;age&quot; : 11, &quot;name&quot; : &quot;a2&quot; }#Êù°‰ª∂Êü•ËØ¢ Â∞è‰∫éÊàñÁ≠â‰∫é$lt&gt; db.student.find({age:{$lte:22}}){ &quot;_id&quot; : ObjectId(&quot;61e7b65b6e48f4bf534731dd&quot;), &quot;age&quot; : 22, &quot;name&quot; : &quot;a1&quot; }{ &quot;_id&quot; : ObjectId(&quot;61e7b6646e48f4bf534731de&quot;), &quot;age&quot; : 11, &quot;name&quot; : &quot;a2&quot; }#Êù°‰ª∂Êü•ËØ¢ Â§ß‰∫é$lt&gt; db.student.find({age:{$gt:20}}){ &quot;_id&quot; : ObjectId(&quot;61e7b65b6e48f4bf534731dd&quot;), &quot;age&quot; : 22, &quot;name&quot; : &quot;a1&quot; }#Êù°‰ª∂Êü•ËØ¢ Â§ß‰∫éÊàñÁ≠â‰∫é$lt&gt; db.student.find({age:{$gte:11}}){ &quot;_id&quot; : ObjectId(&quot;61e7b65b6e48f4bf534731dd&quot;), &quot;age&quot; : 22, &quot;name&quot; : &quot;a1&quot; }{ &quot;_id&quot; : ObjectId(&quot;61e7b6646e48f4bf534731de&quot;), &quot;age&quot; : 11, &quot;name&quot; : &quot;a2&quot; }#Êù°‰ª∂Êü•ËØ¢ ‰∏çÁ≠â‰∫é$lt&gt; db.student.find({age:{$ne:11}}){ &quot;_id&quot; : ObjectId(&quot;61e7b65b6e48f4bf534731dd&quot;), &quot;age&quot; : 22, &quot;name&quot; : &quot;a1&quot; }&gt; db.student.insert({&quot;age&quot;:11,name:&quot;a3&quot;})WriteResult({ &quot;nInserted&quot; : 1 })&gt; db.student.find(){ &quot;_id&quot; : ObjectId(&quot;61e7b65b6e48f4bf534731dd&quot;), &quot;age&quot; : 22, &quot;name&quot; : &quot;a1&quot; }{ &quot;_id&quot; : ObjectId(&quot;61e7b6646e48f4bf534731de&quot;), &quot;age&quot; : 11, &quot;name&quot; : &quot;a2&quot; }{ &quot;_id&quot; : ObjectId(&quot;61e7b6f66e48f4bf534731df&quot;), &quot;age&quot; : 11, &quot;name&quot; : &quot;a3&quot; }#Êù°‰ª∂Êü•ËØ¢ and $ne&gt; db.student.find({age:{$ne:22},name:&quot;a2&quot;}){ &quot;_id&quot; : ObjectId(&quot;61e7b6646e48f4bf534731de&quot;), &quot;age&quot; : 11, &quot;name&quot; : &quot;a2&quot; }&gt; db.student.insert({&quot;age&quot;:33,name:&quot;a3&quot;})WriteResult({ &quot;nInserted&quot; : 1 })&gt; db.student.find(){ &quot;_id&quot; : ObjectId(&quot;61e7b65b6e48f4bf534731dd&quot;), &quot;age&quot; : 22, &quot;name&quot; : &quot;a1&quot; }{ &quot;_id&quot; : ObjectId(&quot;61e7b6646e48f4bf534731de&quot;), &quot;age&quot; : 11, &quot;name&quot; : &quot;a2&quot; }{ &quot;_id&quot; : ObjectId(&quot;61e7b6f66e48f4bf534731df&quot;), &quot;age&quot; : 11, &quot;name&quot; : &quot;a3&quot; }{ &quot;_id&quot; : ObjectId(&quot;61e7b78a6e48f4bf534731e0&quot;), &quot;age&quot; : 33, &quot;name&quot; : &quot;a3&quot; }#Êù°‰ª∂Êü•ËØ¢ or $or Áº∫Â∞ëÂÜíÂè∑&gt; db.student.find({$or[age:{$ne:11},name:&quot;a2&quot;]})uncaught exception: SyntaxError: missing : after property id :@(shell):1:20#Êù°‰ª∂Êü•ËØ¢ or $or Áº∫Â∞ëÊã¨Âè∑&gt; db.student.find({$or:[age:{$ne:11},name:&quot;a2&quot;]})uncaught exception: SyntaxError: missing ] after element list :@(shell):1:25#Êù°‰ª∂Êü•ËØ¢ or $or&gt; db.student.find({$or:[{age:{$ne:11}},{name:&quot;a2&quot;}]}){ &quot;_id&quot; : ObjectId(&quot;61e7b65b6e48f4bf534731dd&quot;), &quot;age&quot; : 22, &quot;name&quot; : &quot;a1&quot; }{ &quot;_id&quot; : ObjectId(&quot;61e7b6646e48f4bf534731de&quot;), &quot;age&quot; : 11, &quot;name&quot; : &quot;a2&quot; }{ &quot;_id&quot; : ObjectId(&quot;61e7b78a6e48f4bf534731e0&quot;), &quot;age&quot; : 33, &quot;name&quot; : &quot;a3&quot; }#Êù°‰ª∂Êü•ËØ¢ or + and&gt; db.student.find({name:&quot;a3&quot;,$or:[{age:{$ne:11}},{name:&quot;a2&quot;}]}){ &quot;_id&quot; : ObjectId(&quot;61e7b78a6e48f4bf534731e0&quot;), &quot;age&quot; : 33, &quot;name&quot; : &quot;a3&quot; }&gt; $type Êìç‰ΩúÁ¨¶ Á±ªÂûã Êï∞Â≠ó Â§áÊ≥® Double 1 String 2 Object 3 Array 4 Binary data 5 Undefined 6 Â∑≤Â∫üÂºÉ„ÄÇ Object id 7 Boolean 8 Date 9 Null 10 Regular Expression 11 JavaScript 13 Symbol 14 JavaScript (with scope) 15 32-bit integer 16 Timestamp 17 64-bit integer 18 Min key 255 Query with -1. Max key 127 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849&gt; db.student.insert({&quot;age&quot;:33,name:1})WriteResult({ &quot;nInserted&quot; : 1 })&gt; db.student.find(){ &quot;_id&quot; : ObjectId(&quot;61e7b65b6e48f4bf534731dd&quot;), &quot;age&quot; : 22, &quot;name&quot; : &quot;a1&quot; }{ &quot;_id&quot; : ObjectId(&quot;61e7b6646e48f4bf534731de&quot;), &quot;age&quot; : 11, &quot;name&quot; : &quot;a2&quot; }{ &quot;_id&quot; : ObjectId(&quot;61e7b6f66e48f4bf534731df&quot;), &quot;age&quot; : 11, &quot;name&quot; : &quot;a3&quot; }{ &quot;_id&quot; : ObjectId(&quot;61e7b78a6e48f4bf534731e0&quot;), &quot;age&quot; : 33, &quot;name&quot; : &quot;a3&quot; }{ &quot;_id&quot; : ObjectId(&quot;61e8eedf6e48f4bf534731e1&quot;), &quot;age&quot; : 33, &quot;name&quot; : 1 }&gt; db.student.find({&quot;name&quot;:{$type:'32-bit integer'}})Error: error: { &quot;ok&quot; : 0, &quot;errmsg&quot; : &quot;Unknown type name alias: 32-bit integer&quot;, &quot;code&quot; : 2, &quot;codeName&quot; : &quot;BadValue&quot;}&gt; db.student.find({&quot;name&quot;:{$type:'integer'}})Error: error: { &quot;ok&quot; : 0, &quot;errmsg&quot; : &quot;Unknown type name alias: integer&quot;, &quot;code&quot; : 2, &quot;codeName&quot; : &quot;BadValue&quot;}&gt; db.student.find({&quot;name&quot;:{$type:16}})&gt; db.student.find({&quot;name&quot;:{$type:2}}){ &quot;_id&quot; : ObjectId(&quot;61e7b65b6e48f4bf534731dd&quot;), &quot;age&quot; : 22, &quot;name&quot; : &quot;a1&quot; }{ &quot;_id&quot; : ObjectId(&quot;61e7b6646e48f4bf534731de&quot;), &quot;age&quot; : 11, &quot;name&quot; : &quot;a2&quot; }{ &quot;_id&quot; : ObjectId(&quot;61e7b6f66e48f4bf534731df&quot;), &quot;age&quot; : 11, &quot;name&quot; : &quot;a3&quot; }{ &quot;_id&quot; : ObjectId(&quot;61e7b78a6e48f4bf534731e0&quot;), &quot;age&quot; : 33, &quot;name&quot; : &quot;a3&quot; }&gt; db.student.find({&quot;name&quot;:{$type:18}})#Á±ªÂûãÊï∞Â≠óÈªòËÆ§‰∏∫double Âç≥1 Á±ªÂûã&gt; db.student.find({&quot;name&quot;:{$type:1}}){ &quot;_id&quot; : ObjectId(&quot;61e8eedf6e48f4bf534731e1&quot;), &quot;age&quot; : 33, &quot;name&quot; : 1 }&gt; db.student.find({&quot;name&quot;:{$type:'Double'}})Error: error: { &quot;ok&quot; : 0, &quot;errmsg&quot; : &quot;Unknown type name alias: Double&quot;, &quot;code&quot; : 2, &quot;codeName&quot; : &quot;BadValue&quot;}&gt; db.student.find({&quot;name&quot;:{$type:Double}})uncaught exception: ReferenceError: Double is not defined :@(shell):1:26&gt; db.student.find({&quot;name&quot;:{$type:double}})uncaught exception: ReferenceError: double is not defined :@(shell):1:26#Á±ªÂûãÂ∞èÂÜôÂºïÂè∑&gt; db.student.find({&quot;name&quot;:{$type:'double'}}){ &quot;_id&quot; : ObjectId(&quot;61e8eedf6e48f4bf534731e1&quot;), &quot;age&quot; : 33, &quot;name&quot; : 1 }&gt; Limit() ÊñπÊ≥ï 12345678910111213141516&gt; db.student.find(){ &quot;_id&quot; : ObjectId(&quot;61e7b65b6e48f4bf534731dd&quot;), &quot;age&quot; : 22, &quot;name&quot; : &quot;a1&quot; }{ &quot;_id&quot; : ObjectId(&quot;61e7b6646e48f4bf534731de&quot;), &quot;age&quot; : 11, &quot;name&quot; : &quot;a2&quot; }{ &quot;_id&quot; : ObjectId(&quot;61e7b6f66e48f4bf534731df&quot;), &quot;age&quot; : 11, &quot;name&quot; : &quot;a3&quot; }{ &quot;_id&quot; : ObjectId(&quot;61e7b78a6e48f4bf534731e0&quot;), &quot;age&quot; : 33, &quot;name&quot; : &quot;a3&quot; }{ &quot;_id&quot; : ObjectId(&quot;61e8eedf6e48f4bf534731e1&quot;), &quot;age&quot; : 33, &quot;name&quot; : 1 }&gt; db.student.find().limit(2){ &quot;_id&quot; : ObjectId(&quot;61e7b65b6e48f4bf534731dd&quot;), &quot;age&quot; : 22, &quot;name&quot; : &quot;a1&quot; }{ &quot;_id&quot; : ObjectId(&quot;61e7b6646e48f4bf534731de&quot;), &quot;age&quot; : 11, &quot;name&quot; : &quot;a2&quot; }&gt; db.student.find({name:{$type:1}}).limit(2){ &quot;_id&quot; : ObjectId(&quot;61e8eedf6e48f4bf534731e1&quot;), &quot;age&quot; : 33, &quot;name&quot; : 1 }#Êù°‰ª∂Á≠õÈÄâÂêéÈôêÂà∂Êü•ËØ¢Êï∞Èáè&gt; db.student.find({name:{$type:2}}).limit(2){ &quot;_id&quot; : ObjectId(&quot;61e7b65b6e48f4bf534731dd&quot;), &quot;age&quot; : 22, &quot;name&quot; : &quot;a1&quot; }{ &quot;_id&quot; : ObjectId(&quot;61e7b6646e48f4bf534731de&quot;), &quot;age&quot; : 11, &quot;name&quot; : &quot;a2&quot; }&gt; Skip() ÊñπÊ≥ï 12345678910111213141516171819&gt; db.student.find(){ &quot;_id&quot; : ObjectId(&quot;61e7b65b6e48f4bf534731dd&quot;), &quot;age&quot; : 22, &quot;name&quot; : &quot;a1&quot; }{ &quot;_id&quot; : ObjectId(&quot;61e7b6646e48f4bf534731de&quot;), &quot;age&quot; : 11, &quot;name&quot; : &quot;a2&quot; }{ &quot;_id&quot; : ObjectId(&quot;61e7b6f66e48f4bf534731df&quot;), &quot;age&quot; : 11, &quot;name&quot; : &quot;a3&quot; }{ &quot;_id&quot; : ObjectId(&quot;61e7b78a6e48f4bf534731e0&quot;), &quot;age&quot; : 33, &quot;name&quot; : &quot;a3&quot; }{ &quot;_id&quot; : ObjectId(&quot;61e8eedf6e48f4bf534731e1&quot;), &quot;age&quot; : 33, &quot;name&quot; : 1 }&gt; db.student.find().limit(2){ &quot;_id&quot; : ObjectId(&quot;61e7b65b6e48f4bf534731dd&quot;), &quot;age&quot; : 22, &quot;name&quot; : &quot;a1&quot; }{ &quot;_id&quot; : ObjectId(&quot;61e7b6646e48f4bf534731de&quot;), &quot;age&quot; : 11, &quot;name&quot; : &quot;a2&quot; }&gt; db.student.find({name:{$type:1}}).limit(2){ &quot;_id&quot; : ObjectId(&quot;61e8eedf6e48f4bf534731e1&quot;), &quot;age&quot; : 33, &quot;name&quot; : 1 }&gt; db.student.find({name:{$type:2}}).limit(2){ &quot;_id&quot; : ObjectId(&quot;61e7b65b6e48f4bf534731dd&quot;), &quot;age&quot; : 22, &quot;name&quot; : &quot;a1&quot; }{ &quot;_id&quot; : ObjectId(&quot;61e7b6646e48f4bf534731de&quot;), &quot;age&quot; : 11, &quot;name&quot; : &quot;a2&quot; }#Ë∑≥ËøáÂØπÂ∫îÊï∞ÈáèÁöÑÈôêÂà∂Êü•ËØ¢ÁöÑÊï∞ÊçÆ&gt; db.student.find({name:{$type:2}}).limit(2).skip(1){ &quot;_id&quot; : ObjectId(&quot;61e7b6646e48f4bf534731de&quot;), &quot;age&quot; : 11, &quot;name&quot; : &quot;a2&quot; }{ &quot;_id&quot; : ObjectId(&quot;61e7b6f66e48f4bf534731df&quot;), &quot;age&quot; : 11, &quot;name&quot; : &quot;a3&quot; }&gt; sort() ÊñπÊ≥ï 12345678910111213&gt; db.student.find().sort({age:1}){ &quot;_id&quot; : ObjectId(&quot;61e7b6646e48f4bf534731de&quot;), &quot;age&quot; : 11, &quot;name&quot; : &quot;a2&quot; }{ &quot;_id&quot; : ObjectId(&quot;61e7b6f66e48f4bf534731df&quot;), &quot;age&quot; : 11, &quot;name&quot; : &quot;a3&quot; }{ &quot;_id&quot; : ObjectId(&quot;61e7b65b6e48f4bf534731dd&quot;), &quot;age&quot; : 22, &quot;name&quot; : &quot;a1&quot; }{ &quot;_id&quot; : ObjectId(&quot;61e7b78a6e48f4bf534731e0&quot;), &quot;age&quot; : 33, &quot;name&quot; : &quot;a3&quot; }{ &quot;_id&quot; : ObjectId(&quot;61e8eedf6e48f4bf534731e1&quot;), &quot;age&quot; : 33, &quot;name&quot; : 1 }&gt; db.student.find().sort({age:-1}){ &quot;_id&quot; : ObjectId(&quot;61e7b78a6e48f4bf534731e0&quot;), &quot;age&quot; : 33, &quot;name&quot; : &quot;a3&quot; }{ &quot;_id&quot; : ObjectId(&quot;61e8eedf6e48f4bf534731e1&quot;), &quot;age&quot; : 33, &quot;name&quot; : 1 }{ &quot;_id&quot; : ObjectId(&quot;61e7b65b6e48f4bf534731dd&quot;), &quot;age&quot; : 22, &quot;name&quot; : &quot;a1&quot; }{ &quot;_id&quot; : ObjectId(&quot;61e7b6646e48f4bf534731de&quot;), &quot;age&quot; : 11, &quot;name&quot; : &quot;a2&quot; }{ &quot;_id&quot; : ObjectId(&quot;61e7b6f66e48f4bf534731df&quot;), &quot;age&quot; : 11, &quot;name&quot; : &quot;a3&quot; }&gt; ÂÖ´„ÄÅÁ¥¢Âºï createIndex() ÊñπÊ≥ï` 1234567891011121314151617181920212223242526272829303132333435&gt; db.student.find().sort({age:1}){ &quot;_id&quot; : ObjectId(&quot;61e7b6646e48f4bf534731de&quot;), &quot;age&quot; : 11, &quot;name&quot; : &quot;a2&quot; }{ &quot;_id&quot; : ObjectId(&quot;61e7b6f66e48f4bf534731df&quot;), &quot;age&quot; : 11, &quot;name&quot; : &quot;a3&quot; }{ &quot;_id&quot; : ObjectId(&quot;61e7b65b6e48f4bf534731dd&quot;), &quot;age&quot; : 22, &quot;name&quot; : &quot;a1&quot; }{ &quot;_id&quot; : ObjectId(&quot;61e7b78a6e48f4bf534731e0&quot;), &quot;age&quot; : 33, &quot;name&quot; : &quot;a3&quot; }{ &quot;_id&quot; : ObjectId(&quot;61e8eedf6e48f4bf534731e1&quot;), &quot;age&quot; : 33, &quot;name&quot; : 1 }&gt; db.student.find().sort({age:-1}){ &quot;_id&quot; : ObjectId(&quot;61e7b78a6e48f4bf534731e0&quot;), &quot;age&quot; : 33, &quot;name&quot; : &quot;a3&quot; }{ &quot;_id&quot; : ObjectId(&quot;61e8eedf6e48f4bf534731e1&quot;), &quot;age&quot; : 33, &quot;name&quot; : 1 }{ &quot;_id&quot; : ObjectId(&quot;61e7b65b6e48f4bf534731dd&quot;), &quot;age&quot; : 22, &quot;name&quot; : &quot;a1&quot; }{ &quot;_id&quot; : ObjectId(&quot;61e7b6646e48f4bf534731de&quot;), &quot;age&quot; : 11, &quot;name&quot; : &quot;a2&quot; }{ &quot;_id&quot; : ObjectId(&quot;61e7b6f66e48f4bf534731df&quot;), &quot;age&quot; : 11, &quot;name&quot; : &quot;a3&quot; }&gt; db.student.createIndex({&quot;age&quot;:1}){ &quot;numIndexesBefore&quot; : 1, &quot;numIndexesAfter&quot; : 2, &quot;createdCollectionAutomatically&quot; : false, &quot;ok&quot; : 1}&gt; db.student.createIndex({&quot;age&quot;:-1}){ &quot;numIndexesBefore&quot; : 2, &quot;numIndexesAfter&quot; : 3, &quot;createdCollectionAutomatically&quot; : false, &quot;ok&quot; : 1}#ÂàõÂª∫Á¥¢Âºï 1‰∏∫Ê≠£Â∫èÔºåÂèØ‰ΩøÁî®Â§ö‰∏™Â≠óÊÆµÂàõÂª∫Á¥¢Âºï&gt; db.student.createIndex({&quot;age&quot;:-1,&quot;name&quot;:1}){ &quot;numIndexesBefore&quot; : 3, &quot;numIndexesAfter&quot; : 4, &quot;createdCollectionAutomatically&quot; : false, &quot;ok&quot; : 1}&gt; Parameter Type Description background Boolean Âª∫Á¥¢ÂºïËøáÁ®ã‰ºöÈòªÂ°ûÂÖ∂ÂÆÉÊï∞ÊçÆÂ∫ìÊìç‰ΩúÔºåbackgroundÂèØÊåáÂÆö‰ª•ÂêéÂè∞ÊñπÂºèÂàõÂª∫Á¥¢ÂºïÔºåÂç≥Â¢ûÂä† &quot;background&quot; ÂèØÈÄâÂèÇÊï∞„ÄÇ &quot;background&quot; ÈªòËÆ§ÂÄº‰∏∫false„ÄÇ unique Boolean Âª∫Á´ãÁöÑÁ¥¢ÂºïÊòØÂê¶ÂîØ‰∏Ä„ÄÇÊåáÂÆö‰∏∫trueÂàõÂª∫ÂîØ‰∏ÄÁ¥¢Âºï„ÄÇÈªòËÆ§ÂÄº‰∏∫false. name string Á¥¢ÂºïÁöÑÂêçÁß∞„ÄÇÂ¶ÇÊûúÊú™ÊåáÂÆöÔºåMongoDBÁöÑÈÄöËøáËøûÊé•Á¥¢ÂºïÁöÑÂ≠óÊÆµÂêçÂíåÊéíÂ∫èÈ°∫Â∫èÁîüÊàê‰∏Ä‰∏™Á¥¢ÂºïÂêçÁß∞„ÄÇ dropDups Boolean **3.0+ÁâàÊú¨Â∑≤Â∫üÂºÉ„ÄÇ**Âú®Âª∫Á´ãÂîØ‰∏ÄÁ¥¢ÂºïÊó∂ÊòØÂê¶Âà†Èô§ÈáçÂ§çËÆ∞ÂΩï,ÊåáÂÆö true ÂàõÂª∫ÂîØ‰∏ÄÁ¥¢Âºï„ÄÇÈªòËÆ§ÂÄº‰∏∫ false. sparse Boolean ÂØπÊñáÊ°£‰∏≠‰∏çÂ≠òÂú®ÁöÑÂ≠óÊÆµÊï∞ÊçÆ‰∏çÂêØÁî®Á¥¢ÂºïÔºõËøô‰∏™ÂèÇÊï∞ÈúÄË¶ÅÁâπÂà´Ê≥®ÊÑèÔºåÂ¶ÇÊûúËÆæÁΩÆ‰∏∫trueÁöÑËØùÔºåÂú®Á¥¢ÂºïÂ≠óÊÆµ‰∏≠‰∏ç‰ºöÊü•ËØ¢Âá∫‰∏çÂåÖÂê´ÂØπÂ∫îÂ≠óÊÆµÁöÑÊñáÊ°£.„ÄÇÈªòËÆ§ÂÄº‰∏∫ false. expireAfterSeconds integer ÊåáÂÆö‰∏Ä‰∏™‰ª•Áßí‰∏∫Âçï‰ΩçÁöÑÊï∞ÂÄºÔºåÂÆåÊàê TTLËÆæÂÆöÔºåËÆæÂÆöÈõÜÂêàÁöÑÁîüÂ≠òÊó∂Èó¥„ÄÇ v index version Á¥¢ÂºïÁöÑÁâàÊú¨Âè∑„ÄÇÈªòËÆ§ÁöÑÁ¥¢ÂºïÁâàÊú¨ÂèñÂÜ≥‰∫émongodÂàõÂª∫Á¥¢ÂºïÊó∂ËøêË°åÁöÑÁâàÊú¨„ÄÇ weights document Á¥¢ÂºïÊùÉÈáçÂÄºÔºåÊï∞ÂÄºÂú® 1 Âà∞ 99,999 ‰πãÈó¥ÔºåË°®Á§∫ËØ•Á¥¢ÂºïÁõ∏ÂØπ‰∫éÂÖ∂‰ªñÁ¥¢ÂºïÂ≠óÊÆµÁöÑÂæóÂàÜÊùÉÈáç„ÄÇ default_language string ÂØπ‰∫éÊñáÊú¨Á¥¢ÂºïÔºåËØ•ÂèÇÊï∞ÂÜ≥ÂÆö‰∫ÜÂÅúÁî®ËØçÂèäËØçÂπ≤ÂíåËØçÂô®ÁöÑËßÑÂàôÁöÑÂàóË°®„ÄÇ ÈªòËÆ§‰∏∫Ëã±ËØ≠ language_override string ÂØπ‰∫éÊñáÊú¨Á¥¢ÂºïÔºåËØ•ÂèÇÊï∞ÊåáÂÆö‰∫ÜÂåÖÂê´Âú®ÊñáÊ°£‰∏≠ÁöÑÂ≠óÊÆµÂêçÔºåËØ≠Ë®ÄË¶ÜÁõñÈªòËÆ§ÁöÑlanguageÔºåÈªòËÆ§ÂÄº‰∏∫ language. ‰πù„ÄÅËÅöÂêà aggregate() ÊñπÊ≥ï Â§ÑÁêÜÊï∞ÊçÆ(ËØ∏Â¶ÇÁªüËÆ°Âπ≥ÂùáÂÄºÔºåÊ±ÇÂíåÁ≠â) 12345678910111213&gt; db.student.find(){ &quot;_id&quot; : ObjectId(&quot;61e7b65b6e48f4bf534731dd&quot;), &quot;age&quot; : 22, &quot;name&quot; : &quot;a1&quot; }{ &quot;_id&quot; : ObjectId(&quot;61e7b6646e48f4bf534731de&quot;), &quot;age&quot; : 11, &quot;name&quot; : &quot;a2&quot; }{ &quot;_id&quot; : ObjectId(&quot;61e7b6f66e48f4bf534731df&quot;), &quot;age&quot; : 11, &quot;name&quot; : &quot;a3&quot; }{ &quot;_id&quot; : ObjectId(&quot;61e7b78a6e48f4bf534731e0&quot;), &quot;age&quot; : 33, &quot;name&quot; : &quot;a3&quot; }{ &quot;_id&quot; : ObjectId(&quot;61e8eedf6e48f4bf534731e1&quot;), &quot;age&quot; : 33, &quot;name&quot; : 1 }#ÈÄöËøánameÂà§Êñ≠Áõ∏ÂêånameÊúâÂ§öÂ∞ëÊï∞ÊçÆ&gt; db.student.aggregate([{$group:{_id:&quot;$name&quot;,num_tutorial:{$sum:1}}}]){ &quot;_id&quot; : &quot;a2&quot;, &quot;num_tutorial&quot; : 1 }{ &quot;_id&quot; : &quot;a3&quot;, &quot;num_tutorial&quot; : 2 }{ &quot;_id&quot; : &quot;a1&quot;, &quot;num_tutorial&quot; : 1 }{ &quot;_id&quot; : 1, &quot;num_tutorial&quot; : 1 }&gt; ËÅöÂêàÁöÑË°®ËææÂºè: Ë°®ËææÂºè ÊèèËø∞ ÂÆû‰æã $sum ËÆ°ÁÆóÊÄªÂíå„ÄÇ db.mycol.aggregate([{$group : {_id : &quot;$by_user&quot;, num_tutorial : {$sum : &quot;$likes&quot;}}}]) $avg ËÆ°ÁÆóÂπ≥ÂùáÂÄº db.mycol.aggregate([{$group : {_id : &quot;$by_user&quot;, num_tutorial : {$avg : &quot;$likes&quot;}}}]) $min Ëé∑ÂèñÈõÜÂêà‰∏≠ÊâÄÊúâÊñáÊ°£ÂØπÂ∫îÂÄºÂæóÊúÄÂ∞èÂÄº„ÄÇ db.mycol.aggregate([{$group : {_id : &quot;$by_user&quot;, num_tutorial : {$min : &quot;$likes&quot;}}}]) $max Ëé∑ÂèñÈõÜÂêà‰∏≠ÊâÄÊúâÊñáÊ°£ÂØπÂ∫îÂÄºÂæóÊúÄÂ§ßÂÄº„ÄÇ db.mycol.aggregate([{$group : {_id : &quot;$by_user&quot;, num_tutorial : {$max : &quot;$likes&quot;}}}]) $push Â∞ÜÂÄºÂä†ÂÖ•‰∏Ä‰∏™Êï∞ÁªÑ‰∏≠Ôºå‰∏ç‰ºöÂà§Êñ≠ÊòØÂê¶ÊúâÈáçÂ§çÁöÑÂÄº„ÄÇ db.mycol.aggregate([{$group : {_id : &quot;$by_user&quot;, url : {$push: &quot;$url&quot;}}}]) $addToSet Â∞ÜÂÄºÂä†ÂÖ•‰∏Ä‰∏™Êï∞ÁªÑ‰∏≠Ôºå‰ºöÂà§Êñ≠ÊòØÂê¶ÊúâÈáçÂ§çÁöÑÂÄºÔºåËã•Áõ∏ÂêåÁöÑÂÄºÂú®Êï∞ÁªÑ‰∏≠Â∑≤ÁªèÂ≠òÂú®‰∫ÜÔºåÂàô‰∏çÂä†ÂÖ•„ÄÇ db.mycol.aggregate([{$group : {_id : &quot;$by_user&quot;, url : {$addToSet : &quot;$url&quot;}}}]) $first Ê†πÊçÆËµÑÊ∫êÊñáÊ°£ÁöÑÊéíÂ∫èËé∑ÂèñÁ¨¨‰∏Ä‰∏™ÊñáÊ°£Êï∞ÊçÆ„ÄÇ db.mycol.aggregate([{$group : {_id : &quot;$by_user&quot;, first_url : {$first : &quot;$url&quot;}}}]) $last Ê†πÊçÆËµÑÊ∫êÊñáÊ°£ÁöÑÊéíÂ∫èËé∑ÂèñÊúÄÂêé‰∏Ä‰∏™ÊñáÊ°£Êï∞ÊçÆ db.mycol.aggregate([{$group : {_id : &quot;$by_user&quot;, last_url : {$last : &quot;$url&quot;}}}]) ÁÆ°ÈÅì ÁÆ°ÈÅìÂú®UnixÂíåLinux‰∏≠‰∏ÄËà¨Áî®‰∫éÂ∞ÜÂΩìÂâçÂëΩ‰ª§ÁöÑËæìÂá∫ÁªìÊûú‰Ωú‰∏∫‰∏ã‰∏Ä‰∏™ÂëΩ‰ª§ÁöÑÂèÇÊï∞„ÄÇ MongoDBÁöÑËÅöÂêàÁÆ°ÈÅìÂ∞ÜMongoDBÊñáÊ°£Âú®‰∏Ä‰∏™ÁÆ°ÈÅìÂ§ÑÁêÜÂÆåÊØïÂêéÂ∞ÜÁªìÊûú‰º†ÈÄíÁªô‰∏ã‰∏Ä‰∏™ÁÆ°ÈÅìÂ§ÑÁêÜ„ÄÇÁÆ°ÈÅìÊìç‰ΩúÊòØÂèØ‰ª•ÈáçÂ§çÁöÑ„ÄÇ Ë°®ËææÂºèÔºöÂ§ÑÁêÜËæìÂÖ•ÊñáÊ°£Âπ∂ËæìÂá∫„ÄÇË°®ËææÂºèÊòØÊó†Áä∂ÊÄÅÁöÑÔºåÂè™ËÉΩÁî®‰∫éËÆ°ÁÆóÂΩìÂâçËÅöÂêàÁÆ°ÈÅìÁöÑÊñáÊ°£Ôºå‰∏çËÉΩÂ§ÑÁêÜÂÖ∂ÂÆÉÁöÑÊñáÊ°£„ÄÇ ËøôÈáåÊàë‰ª¨‰ªãÁªç‰∏Ä‰∏ãËÅöÂêàÊ°ÜÊû∂‰∏≠Â∏∏Áî®ÁöÑÂá†‰∏™Êìç‰ΩúÔºö $projectÔºö‰øÆÊîπËæìÂÖ•ÊñáÊ°£ÁöÑÁªìÊûÑ„ÄÇÂèØ‰ª•Áî®Êù•ÈáçÂëΩÂêç„ÄÅÂ¢ûÂä†ÊàñÂà†Èô§ÂüüÔºå‰πüÂèØ‰ª•Áî®‰∫éÂàõÂª∫ËÆ°ÁÆóÁªìÊûú‰ª•ÂèäÂµåÂ•óÊñáÊ°£„ÄÇ $matchÔºöÁî®‰∫éËøáÊª§Êï∞ÊçÆÔºåÂè™ËæìÂá∫Á¨¶ÂêàÊù°‰ª∂ÁöÑÊñáÊ°£„ÄÇ$match‰ΩøÁî®MongoDBÁöÑÊ†áÂáÜÊü•ËØ¢Êìç‰Ωú„ÄÇ $limitÔºöÁî®Êù•ÈôêÂà∂MongoDBËÅöÂêàÁÆ°ÈÅìËøîÂõûÁöÑÊñáÊ°£Êï∞„ÄÇ $skipÔºöÂú®ËÅöÂêàÁÆ°ÈÅì‰∏≠Ë∑≥ËøáÊåáÂÆöÊï∞ÈáèÁöÑÊñáÊ°£ÔºåÂπ∂ËøîÂõû‰Ωô‰∏ãÁöÑÊñáÊ°£„ÄÇ $unwindÔºöÂ∞ÜÊñáÊ°£‰∏≠ÁöÑÊüê‰∏Ä‰∏™Êï∞ÁªÑÁ±ªÂûãÂ≠óÊÆµÊãÜÂàÜÊàêÂ§öÊù°ÔºåÊØèÊù°ÂåÖÂê´Êï∞ÁªÑ‰∏≠ÁöÑ‰∏Ä‰∏™ÂÄº„ÄÇ $groupÔºöÂ∞ÜÈõÜÂêà‰∏≠ÁöÑÊñáÊ°£ÂàÜÁªÑÔºåÂèØÁî®‰∫éÁªüËÆ°ÁªìÊûú„ÄÇ $sortÔºöÂ∞ÜËæìÂÖ•ÊñáÊ°£ÊéíÂ∫èÂêéËæìÂá∫„ÄÇ $geoNearÔºöËæìÂá∫Êé•ËøëÊüê‰∏ÄÂú∞ÁêÜ‰ΩçÁΩÆÁöÑÊúâÂ∫èÊñáÊ°£„ÄÇ 12345678910111213141516171819202122232425262728&gt; db.student.find(){ &quot;_id&quot; : ObjectId(&quot;61e7b65b6e48f4bf534731dd&quot;), &quot;age&quot; : 22, &quot;name&quot; : &quot;a1&quot; }{ &quot;_id&quot; : ObjectId(&quot;61e7b6646e48f4bf534731de&quot;), &quot;age&quot; : 11, &quot;name&quot; : &quot;a2&quot; }{ &quot;_id&quot; : ObjectId(&quot;61e7b6f66e48f4bf534731df&quot;), &quot;age&quot; : 11, &quot;name&quot; : &quot;a3&quot; }{ &quot;_id&quot; : ObjectId(&quot;61e7b78a6e48f4bf534731e0&quot;), &quot;age&quot; : 33, &quot;name&quot; : &quot;a3&quot; }{ &quot;_id&quot; : ObjectId(&quot;61e8eedf6e48f4bf534731e1&quot;), &quot;age&quot; : 33, &quot;name&quot; : 1 }#Âè™ÊòæÁ§∫ÈªòËÆ§ÁöÑid‰∏éname&gt; db.student.aggregate({$project:{name:1}}){ &quot;_id&quot; : ObjectId(&quot;61e7b65b6e48f4bf534731dd&quot;), &quot;name&quot; : &quot;a1&quot; }{ &quot;_id&quot; : ObjectId(&quot;61e7b6646e48f4bf534731de&quot;), &quot;name&quot; : &quot;a2&quot; }{ &quot;_id&quot; : ObjectId(&quot;61e7b6f66e48f4bf534731df&quot;), &quot;name&quot; : &quot;a3&quot; }{ &quot;_id&quot; : ObjectId(&quot;61e7b78a6e48f4bf534731e0&quot;), &quot;name&quot; : &quot;a3&quot; }{ &quot;_id&quot; : ObjectId(&quot;61e8eedf6e48f4bf534731e1&quot;), &quot;name&quot; : 1 }#ÂéªÊéâÈªòËÆ§idÔºåÂè™ÊòæÁ§∫name&gt; db.student.aggregate({$project:{_id:0,name:1}}){ &quot;name&quot; : &quot;a1&quot; }{ &quot;name&quot; : &quot;a2&quot; }{ &quot;name&quot; : &quot;a3&quot; }{ &quot;name&quot; : &quot;a3&quot; }{ &quot;name&quot; : 1 }#ÊòæÁ§∫Ââç‰∏âÊù°‰πãÂêéÁöÑÊï∞ÊçÆ&gt; db.student.aggregate({$skip:3}){ &quot;_id&quot; : ObjectId(&quot;61e7b78a6e48f4bf534731e0&quot;), &quot;age&quot; : 33, &quot;name&quot; : &quot;a3&quot; }{ &quot;_id&quot; : ObjectId(&quot;61e8eedf6e48f4bf534731e1&quot;), &quot;age&quot; : 33, &quot;name&quot; : 1 }#ÊòæÁ§∫Â§ß‰∫é10 Â∞è‰∫éÁ≠â‰∫é25ÁöÑ‰∏ÄÊù°Êï∞ÊçÆ&gt; db.student.aggregate( [{ $match : { age : { $gt:10,$lte:25}}},{ $group:{ _id: null, count: { $sum: 1 } } } ] );{ &quot;_id&quot; : null, &quot;count&quot; : 3 }&gt; ÂçÅ„ÄÅÂ§çÂà∂ Êï∞ÊçÆÂÜó‰ΩôÂ§á‰ªΩÔºåÁ°¨‰ª∂ÊïÖÈöúÔºåÊúçÂä°‰∏≠Êñ≠Êï∞ÊçÆÊÅ¢Â§ç„ÄÇÊó†ÈúÄÂÅúÊú∫Áª¥Êä§ÔºåÂàÜÂ∏ÉÂºèËØªÂèñÊï∞ÊçÆ„ÄÇ mongodbÁöÑÂ§çÂà∂Ëá≥Â∞ëÈúÄË¶Å‰∏§‰∏™ËäÇÁÇπ„ÄÇÂÖ∂‰∏≠‰∏Ä‰∏™ÊòØ‰∏ªËäÇÁÇπÔºåË¥üË¥£Â§ÑÁêÜÂÆ¢Êà∑Á´ØËØ∑Ê±ÇÔºåÂÖ∂‰ΩôÁöÑÈÉΩÊòØ‰ªéËäÇÁÇπÔºåË¥üË¥£Â§çÂà∂‰∏ªËäÇÁÇπ‰∏äÁöÑÊï∞ÊçÆ„ÄÇ mongodbÂêÑ‰∏™ËäÇÁÇπÂ∏∏ËßÅÁöÑÊê≠ÈÖçÊñπÂºè‰∏∫Ôºö‰∏Ä‰∏ª‰∏Ä‰ªé„ÄÅ‰∏Ä‰∏ªÂ§ö‰ªé„ÄÇ ‰∏ªËäÇÁÇπËÆ∞ÂΩïÂú®ÂÖ∂‰∏äÁöÑÊâÄÊúâÊìç‰ΩúoplogÔºå‰ªéËäÇÁÇπÂÆöÊúüËΩÆËØ¢‰∏ªËäÇÁÇπËé∑ÂèñËøô‰∫õÊìç‰ΩúÔºåÁÑ∂ÂêéÂØπËá™Â∑±ÁöÑÊï∞ÊçÆÂâØÊú¨ÊâßË°åËøô‰∫õÊìç‰ΩúÔºå‰ªéËÄå‰øùËØÅ‰ªéËäÇÁÇπÁöÑÊï∞ÊçÆ‰∏é‰∏ªËäÇÁÇπ‰∏ÄËá¥„ÄÇ MongoDBÂ§çÂà∂ÁªìÊûÑÂõæÂ¶Ç‰∏ãÊâÄÁ§∫Ôºö ‰ª•‰∏äÁªìÊûÑÂõæ‰∏≠ÔºåÂÆ¢Êà∑Á´Ø‰ªé‰∏ªËäÇÁÇπËØªÂèñÊï∞ÊçÆÔºåÂú®ÂÆ¢Êà∑Á´ØÂÜôÂÖ•Êï∞ÊçÆÂà∞‰∏ªËäÇÁÇπÊó∂Ôºå ‰∏ªËäÇÁÇπ‰∏é‰ªéËäÇÁÇπËøõË°åÊï∞ÊçÆ‰∫§‰∫í‰øùÈöúÊï∞ÊçÆÁöÑ‰∏ÄËá¥ÊÄß„ÄÇ ÂâØÊú¨ÈõÜÁâπÂæÅÔºö N ‰∏™ËäÇÁÇπÁöÑÈõÜÁæ§ ‰ªª‰ΩïËäÇÁÇπÂèØ‰Ωú‰∏∫‰∏ªËäÇÁÇπ ÊâÄÊúâÂÜôÂÖ•Êìç‰ΩúÈÉΩÂú®‰∏ªËäÇÁÇπ‰∏ä Ëá™Âä®ÊïÖÈöúËΩ¨Áßª Ëá™Âä®ÊÅ¢Â§ç MongoDBÂâØÊú¨ÈõÜËÆæÁΩÆ Âú®Êú¨ÊïôÁ®ã‰∏≠Êàë‰ª¨‰ΩøÁî®Âêå‰∏Ä‰∏™MongoDBÊù•ÂÅöMongoDB‰∏ª‰ªéÁöÑÂÆûÈ™åÔºå Êìç‰ΩúÊ≠•È™§Â¶Ç‰∏ãÔºö 1„ÄÅÂÖ≥Èó≠Ê≠£Âú®ËøêË°åÁöÑMongoDBÊúçÂä°Âô®„ÄÇ Áé∞Âú®Êàë‰ª¨ÈÄöËøáÊåáÂÆö --replSet ÈÄâÈ°πÊù•ÂêØÂä®mongoDB„ÄÇ--replSet Âü∫Êú¨ËØ≠Ê≥ïÊ†ºÂºèÂ¶Ç‰∏ãÔºö 1mongod --port &quot;PORT&quot; --dbpath &quot;YOUR_DB_DATA_PATH&quot; --replSet &quot;REPLICA_SET_INSTANCE_NAME&quot; Á§∫‰æã 1mongod --port 27017 --dbpath &quot;F:\\Softs\\Installed\\MongoDB\\data&quot; --replSet rs0 Á§∫‰æãÂêØÂä®‰∏Ä‰∏™Âêç‰∏∫rs0ÁöÑMongoDBÂÆû‰æãÔºåÂÖ∂Á´ØÂè£Âè∑‰∏∫27017„ÄÇÂêØÂä®ÂêéÊâìÂºÄÂëΩ‰ª§ÊèêÁ§∫Ê°ÜÂπ∂ËøûÊé•‰∏ämongoDBÊúçÂä°„ÄÇÂú®MongoÂÆ¢Êà∑Á´Ø‰ΩøÁî®ÂëΩ‰ª§rs.initiate()Êù•ÂêØÂä®‰∏Ä‰∏™Êñ∞ÁöÑÂâØÊú¨ÈõÜ„ÄÇÊàë‰ª¨ÂèØ‰ª•‰ΩøÁî®rs.conf()Êù•Êü•ÁúãÂâØÊú¨ÈõÜÁöÑÈÖçÁΩÆÊü•ÁúãÂâØÊú¨ÈõÜÁä∂ÊÄÅ‰ΩøÁî® rs.status() ÂëΩ‰ª§ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155#ÂÖ≥Èó≠ÊúçÂä°C:\\Users\\Administrator&gt;net stop mongodb#ÂàõÂª∫rs0ÂÆû‰æãC:\\Users\\Administrator&gt;mongod --port 27017 --dbpath &quot;F:\\Softs\\Installed\\MongoDB\\data&quot; --replSet rs0#ÂêØÂä®C:\\Users\\Administrator&gt;mongoMongoDB shell version v5.0.6-rc0connecting to: mongodb://127.0.0.1:27017/?compressors=disabled&amp;gssapiServiceName=mongodbImplicit session: session { &quot;id&quot; : UUID(&quot;a7bc72f5-0db4-4de3-b3c1-4f457b526e8b&quot;) }MongoDB server version: 5.0.6-rc0================Warning: the &quot;mongo&quot; shell has been superseded by &quot;mongosh&quot;,which delivers improved usability and compatibility.The &quot;mongo&quot; shell has been deprecated and will be removed inan upcoming release.For installation instructions, seehttps://docs.mongodb.com/mongodb-shell/install/================#ÂêØÂä®Êñ∞ÁöÑÂâØÊú¨ÈõÜ&gt; rs.initiate(){ &quot;info2&quot; : &quot;no configuration specified. Using a default configuration for the set&quot;, &quot;me&quot; : &quot;localhost:27017&quot;, &quot;ok&quot; : 1}Êü•ÁúãÂâØÊú¨ÈÖçÁΩÆrs0:SECONDARY&gt; rs.conf(){ &quot;_id&quot; : &quot;rs0&quot;, &quot;version&quot; : 1, &quot;term&quot; : 1, &quot;members&quot; : [ { &quot;_id&quot; : 0, &quot;host&quot; : &quot;localhost:27017&quot;, &quot;arbiterOnly&quot; : false, &quot;buildIndexes&quot; : true, &quot;hidden&quot; : false, &quot;priority&quot; : 1, &quot;tags&quot; : { }, &quot;secondaryDelaySecs&quot; : NumberLong(0), &quot;votes&quot; : 1 } ], &quot;protocolVersion&quot; : NumberLong(1), &quot;writeConcernMajorityJournalDefault&quot; : true, &quot;settings&quot; : { &quot;chainingAllowed&quot; : true, &quot;heartbeatIntervalMillis&quot; : 2000, &quot;heartbeatTimeoutSecs&quot; : 10, &quot;electionTimeoutMillis&quot; : 10000, &quot;catchUpTimeoutMillis&quot; : -1, &quot;catchUpTakeoverDelayMillis&quot; : 30000, &quot;getLastErrorModes&quot; : { }, &quot;getLastErrorDefaults&quot; : { &quot;w&quot; : 1, &quot;wtimeout&quot; : 0 }, &quot;replicaSetId&quot; : ObjectId(&quot;61ea43d55303298c0a702c41&quot;) }}#Êü•ÁúãÂâØÊú¨ÈõÜÁä∂ÊÄÅrs0:PRIMARY&gt; rs.status(){ &quot;set&quot; : &quot;rs0&quot;, &quot;date&quot; : ISODate(&quot;2022-01-21T05:26:33.032Z&quot;), &quot;myState&quot; : 1, &quot;term&quot; : NumberLong(1), &quot;syncSourceHost&quot; : &quot;&quot;, &quot;syncSourceId&quot; : -1, &quot;heartbeatIntervalMillis&quot; : NumberLong(2000), &quot;majorityVoteCount&quot; : 1, &quot;writeMajorityCount&quot; : 1, &quot;votingMembersCount&quot; : 1, &quot;writableVotingMembersCount&quot; : 1, &quot;optimes&quot; : { &quot;lastCommittedOpTime&quot; : { &quot;ts&quot; : Timestamp(1642742783, 1), &quot;t&quot; : NumberLong(1) }, &quot;lastCommittedWallTime&quot; : ISODate(&quot;2022-01-21T05:26:23.117Z&quot;), &quot;readConcernMajorityOpTime&quot; : { &quot;ts&quot; : Timestamp(1642742783, 1), &quot;t&quot; : NumberLong(1) }, &quot;appliedOpTime&quot; : { &quot;ts&quot; : Timestamp(1642742783, 1), &quot;t&quot; : NumberLong(1) }, &quot;durableOpTime&quot; : { &quot;ts&quot; : Timestamp(1642742783, 1), &quot;t&quot; : NumberLong(1) }, &quot;lastAppliedWallTime&quot; : ISODate(&quot;2022-01-21T05:26:23.117Z&quot;), &quot;lastDurableWallTime&quot; : ISODate(&quot;2022-01-21T05:26:23.117Z&quot;) }, &quot;lastStableRecoveryTimestamp&quot; : Timestamp(1642742741, 1), &quot;electionCandidateMetrics&quot; : { &quot;lastElectionReason&quot; : &quot;electionTimeout&quot;, &quot;lastElectionDate&quot; : ISODate(&quot;2022-01-21T05:25:42.687Z&quot;), &quot;electionTerm&quot; : NumberLong(1), &quot;lastCommittedOpTimeAtElection&quot; : { &quot;ts&quot; : Timestamp(1642742741, 1), &quot;t&quot; : NumberLong(-1) }, &quot;lastSeenOpTimeAtElection&quot; : { &quot;ts&quot; : Timestamp(1642742741, 1), &quot;t&quot; : NumberLong(-1) }, &quot;numVotesNeeded&quot; : 1, &quot;priorityAtElection&quot; : 1, &quot;electionTimeoutMillis&quot; : NumberLong(10000), &quot;newTermStartDate&quot; : ISODate(&quot;2022-01-21T05:25:42.963Z&quot;), &quot;wMajorityWriteAvailabilityDate&quot; : ISODate(&quot;2022-01-21T05:25:43.131Z&quot;) }, &quot;members&quot; : [ { &quot;_id&quot; : 0, &quot;name&quot; : &quot;localhost:27017&quot;, &quot;health&quot; : 1, &quot;state&quot; : 1, &quot;stateStr&quot; : &quot;PRIMARY&quot;, &quot;uptime&quot; : 203, &quot;optime&quot; : { &quot;ts&quot; : Timestamp(1642742783, 1), &quot;t&quot; : NumberLong(1) }, &quot;optimeDate&quot; : ISODate(&quot;2022-01-21T05:26:23Z&quot;), &quot;lastAppliedWallTime&quot; : ISODate(&quot;2022-01-21T05:26:23.117Z&quot;), &quot;lastDurableWallTime&quot; : ISODate(&quot;2022-01-21T05:26:23.117Z&quot;), &quot;syncSourceHost&quot; : &quot;&quot;, &quot;syncSourceId&quot; : -1, &quot;infoMessage&quot; : &quot;Could not find member to sync from&quot;, &quot;electionTime&quot; : Timestamp(1642742742, 1), &quot;electionDate&quot; : ISODate(&quot;2022-01-21T05:25:42Z&quot;), &quot;configVersion&quot; : 1, &quot;configTerm&quot; : 1, &quot;self&quot; : true, &quot;lastHeartbeatMessage&quot; : &quot;&quot; } ], &quot;ok&quot; : 1, &quot;$clusterTime&quot; : { &quot;clusterTime&quot; : Timestamp(1642742783, 1), &quot;signature&quot; : { &quot;hash&quot; : BinData(0,&quot;AAAAAAAAAAAAAAAAAAAAAAAAAAA=&quot;), &quot;keyId&quot; : NumberLong(0) } }, &quot;operationTime&quot; : Timestamp(1642742783, 1)}rs0:PRIMARY&gt; ÂâØÊú¨ÈõÜÊ∑ªÂä†ÊàêÂëò Ê∑ªÂä†ÂâØÊú¨ÈõÜÁöÑÊàêÂëòÔºåÊàë‰ª¨ÈúÄË¶Å‰ΩøÁî®Â§öÂè∞ÊúçÂä°Âô®Êù•ÂêØÂä®mongoÊúçÂä°„ÄÇËøõÂÖ•MongoÂÆ¢Êà∑Á´ØÔºåÂπ∂‰ΩøÁî®rs.add()ÊñπÊ≥ïÊù•Ê∑ªÂä†ÂâØÊú¨ÈõÜÁöÑÊàêÂëò„ÄÇ ËØ≠Ê≥ï rs.add() ÂëΩ‰ª§Âü∫Êú¨ËØ≠Ê≥ïÊ†ºÂºèÂ¶Ç‰∏ãÔºö 1&gt;rs.add(HOST_NAME:PORT) ÂÆû‰æã ÂÅáËÆæ‰Ω†Â∑≤ÁªèÂêØÂä®‰∫Ü‰∏Ä‰∏™Âêç‰∏∫mongod1.netÔºåÁ´ØÂè£Âè∑‰∏∫27017ÁöÑMongoÊúçÂä°„ÄÇ Âú®ÂÆ¢Êà∑Á´ØÂëΩ‰ª§Á™óÂè£‰ΩøÁî®rs.add() ÂëΩ‰ª§Â∞ÜÂÖ∂Ê∑ªÂä†Âà∞ÂâØÊú¨ÈõÜ‰∏≠ÔºåÂëΩ‰ª§Â¶Ç‰∏ãÊâÄÁ§∫Ôºö 12&gt;rs.add(&quot;mongod1.net:27017&quot;)&gt; MongoDB‰∏≠‰Ω†Âè™ËÉΩÈÄöËøá‰∏ªËäÇÁÇπÂ∞ÜMongoÊúçÂä°Ê∑ªÂä†Âà∞ÂâØÊú¨ÈõÜ‰∏≠Ôºå Âà§Êñ≠ÂΩìÂâçËøêË°åÁöÑMongoÊúçÂä°ÊòØÂê¶‰∏∫‰∏ªËäÇÁÇπÂèØ‰ª•‰ΩøÁî®ÂëΩ‰ª§db.isMaster() „ÄÇ MongoDBÁöÑÂâØÊú¨ÈõÜ‰∏éÊàë‰ª¨Â∏∏ËßÅÁöÑ‰∏ª‰ªéÊúâÊâÄ‰∏çÂêåÔºå‰∏ª‰ªéÂú®‰∏ªÊú∫ÂÆïÊú∫ÂêéÊâÄÊúâÊúçÂä°Â∞ÜÂÅúÊ≠¢ÔºåËÄåÂâØÊú¨ÈõÜÂú®‰∏ªÊú∫ÂÆïÊú∫ÂêéÔºåÂâØÊú¨‰ºöÊé•ÁÆ°‰∏ªËäÇÁÇπÊàê‰∏∫‰∏ªËäÇÁÇπÔºå‰∏ç‰ºöÂá∫Áé∞ÂÆïÊú∫ÁöÑÊÉÖÂÜµ„ÄÇ ÂçÅ‰∏Ä„ÄÅÂàÜÁâá ÂàÜÁâá Âú®MongodbÈáåÈù¢Â≠òÂú®Âè¶‰∏ÄÁßçÈõÜÁæ§ÔºåÂ∞±ÊòØÂàÜÁâáÊäÄÊúØ,ÂèØ‰ª•Êª°Ë∂≥MongoDBÊï∞ÊçÆÈáèÂ§ßÈáèÂ¢ûÈïøÁöÑÈúÄÊ±Ç„ÄÇ ÂΩìMongoDBÂ≠òÂÇ®Êµ∑ÈáèÁöÑÊï∞ÊçÆÊó∂Ôºå‰∏ÄÂè∞Êú∫Âô®ÂèØËÉΩ‰∏çË∂≥‰ª•Â≠òÂÇ®Êï∞ÊçÆÔºå‰πüÂèØËÉΩ‰∏çË∂≥‰ª•Êèê‰æõÂèØÊé•ÂèóÁöÑËØªÂÜôÂêûÂêêÈáè„ÄÇËøôÊó∂ÔºåÊàë‰ª¨Â∞±ÂèØ‰ª•ÈÄöËøáÂú®Â§öÂè∞Êú∫Âô®‰∏äÂàÜÂâ≤Êï∞ÊçÆÔºå‰ΩøÂæóÊï∞ÊçÆÂ∫ìÁ≥ªÁªüËÉΩÂ≠òÂÇ®ÂíåÂ§ÑÁêÜÊõ¥Â§öÁöÑÊï∞ÊçÆ„ÄÇ ‰∏∫‰ªÄ‰πà‰ΩøÁî®ÂàÜÁâá Â§çÂà∂ÊâÄÊúâÁöÑÂÜôÂÖ•Êìç‰ΩúÂà∞‰∏ªËäÇÁÇπ Âª∂ËøüÁöÑÊïèÊÑüÊï∞ÊçÆ‰ºöÂú®‰∏ªËäÇÁÇπÊü•ËØ¢ Âçï‰∏™ÂâØÊú¨ÈõÜÈôêÂà∂Âú®12‰∏™ËäÇÁÇπ ÂΩìËØ∑Ê±ÇÈáèÂ∑®Â§ßÊó∂‰ºöÂá∫Áé∞ÂÜÖÂ≠ò‰∏çË∂≥„ÄÇ Êú¨Âú∞Á£ÅÁõò‰∏çË∂≥ ÂûÇÁõ¥Êâ©Â±ï‰ª∑Ê†ºÊòÇË¥µ MongoDBÂàÜÁâá ‰∏ãÂõæÂ±ïÁ§∫‰∫ÜÂú®MongoDB‰∏≠‰ΩøÁî®ÂàÜÁâáÈõÜÁæ§ÁªìÊûÑÂàÜÂ∏ÉÔºö ‰∏äÂõæ‰∏≠‰∏ªË¶ÅÊúâÂ¶Ç‰∏ãÊâÄËø∞‰∏â‰∏™‰∏ªË¶ÅÁªÑ‰ª∂Ôºö Shard: Áî®‰∫éÂ≠òÂÇ®ÂÆûÈôÖÁöÑÊï∞ÊçÆÂùóÔºåÂÆûÈôÖÁîü‰∫ßÁéØÂ¢É‰∏≠‰∏Ä‰∏™shard serverËßíËâ≤ÂèØÁî±Âá†Âè∞Êú∫Âô®ÁªÑ‰∏™‰∏Ä‰∏™replica setÊâøÊãÖÔºåÈò≤Ê≠¢‰∏ªÊú∫ÂçïÁÇπÊïÖÈöú Config Server: mongod ÂÆû‰æãÔºåÂ≠òÂÇ®‰∫ÜÊï¥‰∏™ ClusterMetadataÔºåÂÖ∂‰∏≠ÂåÖÊã¨ chunk ‰ø°ÊÅØ„ÄÇ Query Routers: ÂâçÁ´ØË∑ØÁî±ÔºåÂÆ¢Êà∑Á´ØÁî±Ê≠§Êé•ÂÖ•Ôºå‰∏îËÆ©Êï¥‰∏™ÈõÜÁæ§Áúã‰∏äÂéªÂÉèÂçï‰∏ÄÊï∞ÊçÆÂ∫ìÔºåÂâçÁ´ØÂ∫îÁî®ÂèØ‰ª•ÈÄèÊòé‰ΩøÁî®„ÄÇ ÂàÜÁâáÂÆû‰æã ÂàÜÁâáÁªìÊûÑÁ´ØÂè£ÂàÜÂ∏ÉÂ¶Ç‰∏ãÔºö 123456Shard Server 1Ôºö27020Shard Server 2Ôºö27021Shard Server 3Ôºö27022Shard Server 4Ôºö27023Config Server Ôºö27100Route ProcessÔºö40000 Ê≠•È™§‰∏ÄÔºöÂêØÂä®Shard Server 12345678[root@100 /]# mkdir -p /www/mongoDB/shard/s0[root@100 /]# mkdir -p /www/mongoDB/shard/s1[root@100 /]# mkdir -p /www/mongoDB/shard/s2[root@100 /]# mkdir -p /www/mongoDB/shard/s3[root@100 /]# mkdir -p /www/mongoDB/shard/log[root@100 /]# /usr/local/mongoDB/bin/mongod --port 27020 --dbpath=/www/mongoDB/shard/s0 --logpath=/www/mongoDB/shard/log/s0.log --logappend --fork....[root@100 /]# /usr/local/mongoDB/bin/mongod --port 27023 --dbpath=/www/mongoDB/shard/s3 --logpath=/www/mongoDB/shard/log/s3.log --logappend --fork Ê≠•È™§‰∫åÔºö ÂêØÂä®Config Server 12[root@100 /]# mkdir -p /www/mongoDB/shard/config[root@100 /]# /usr/local/mongoDB/bin/mongod --port 27100 --dbpath=/www/mongoDB/shard/config --logpath=/www/mongoDB/shard/log/config.log --logappend --fork **Ê≥®ÊÑèÔºö**ËøôÈáåÊàë‰ª¨ÂÆåÂÖ®ÂèØ‰ª•ÂÉèÂêØÂä®ÊôÆÈÄömongodbÊúçÂä°‰∏ÄÊ†∑ÂêØÂä®Ôºå‰∏çÈúÄË¶ÅÊ∑ªÂä†‚ÄîshardsvrÂíåconfigsvrÂèÇÊï∞„ÄÇÂõ†‰∏∫Ëøô‰∏§‰∏™ÂèÇÊï∞ÁöÑ‰ΩúÁî®Â∞±ÊòØÊîπÂèòÂêØÂä®Á´ØÂè£ÁöÑÔºåÊâÄ‰ª•Êàë‰ª¨Ëá™Ë°åÊåáÂÆö‰∫ÜÁ´ØÂè£Â∞±ÂèØ‰ª•„ÄÇ Ê≠•È™§‰∏âÔºö ÂêØÂä®Route Process 1/usr/local/mongoDB/bin/mongos --port 40000 --configdb localhost:27100 --fork --logpath=/www/mongoDB/shard/log/route.log --chunkSize 500 mongosÂêØÂä®ÂèÇÊï∞‰∏≠ÔºåchunkSizeËøô‰∏ÄÈ°πÊòØÁî®Êù•ÊåáÂÆöchunkÁöÑÂ§ßÂ∞èÁöÑÔºåÂçï‰ΩçÊòØMBÔºåÈªòËÆ§Â§ßÂ∞è‰∏∫200MB. Ê≠•È™§ÂõõÔºö ÈÖçÁΩÆSharding Êé•‰∏ãÊù•ÔºåÊàë‰ª¨‰ΩøÁî®MongoDB ShellÁôªÂΩïÂà∞mongosÔºåÊ∑ªÂä†ShardËäÇÁÇπ 123456789101112[root@100 shard]# /usr/local/mongoDB/bin/mongo admin --port 40000MongoDB shell version: 2.0.7connecting to: 127.0.0.1:40000/adminmongos&gt; db.runCommand({ addshard:&quot;localhost:27020&quot; }){ &quot;shardAdded&quot; : &quot;shard0000&quot;, &quot;ok&quot; : 1 }......mongos&gt; db.runCommand({ addshard:&quot;localhost:27029&quot; }){ &quot;shardAdded&quot; : &quot;shard0009&quot;, &quot;ok&quot; : 1 }mongos&gt; db.runCommand({ enablesharding:&quot;test&quot; }) #ËÆæÁΩÆÂàÜÁâáÂ≠òÂÇ®ÁöÑÊï∞ÊçÆÂ∫ì{ &quot;ok&quot; : 1 }mongos&gt; db.runCommand({ shardcollection: &quot;test.log&quot;, key: { id:1,time:1}}){ &quot;collectionsharded&quot; : &quot;test.log&quot;, &quot;ok&quot; : 1 } Ê≠•È™§‰∫îÔºö Á®ãÂ∫è‰ª£Á†ÅÂÜÖÊó†ÈúÄÂ§™Â§ßÊõ¥ÊîπÔºåÁõ¥Êé•ÊåâÁÖßËøûÊé•ÊôÆÈÄöÁöÑmongoÊï∞ÊçÆÂ∫ìÈÇ£Ê†∑ÔºåÂ∞ÜÊï∞ÊçÆÂ∫ìËøûÊé•Êé•ÂÖ•Êé•Âè£40000 ÂçÅ‰∫å„ÄÅÂÆâË£ÖÂÖ∂‰ªñÂ∑•ÂÖ∑ ‰∏ãËΩΩÂêéÂ∞ÜÂÖ∂binÁõÆÂΩï‰∏ãÂ§çÂà∂Âà∞data‰∏ãbinÁõÆÂΩï‰∏ãÔºö https://www.mongodb.com/try/download/database-tools ÂçÅ‰∏â„ÄÅÂ§á‰ªΩ / ÊÅ¢Â§ç Êï∞ÊçÆÂ§á‰ªΩ Â§á‰ªΩ(mongodump)‰∏éÊÅ¢Â§ç(mongorestore)„ÄÇÂú®Mongodb‰∏≠Êàë‰ª¨‰ΩøÁî®mongodumpÂëΩ‰ª§Êù•Â§á‰ªΩMongoDBÊï∞ÊçÆ„ÄÇËØ•ÂëΩ‰ª§ÂèØ‰ª•ÂØºÂá∫ÊâÄÊúâÊï∞ÊçÆÂà∞ÊåáÂÆöÁõÆÂΩï‰∏≠„ÄÇ mongodumpÂëΩ‰ª§ÂèØ‰ª•ÈÄöËøáÂèÇÊï∞ÊåáÂÆöÂØºÂá∫ÁöÑÊï∞ÊçÆÈáèÁ∫ßËΩ¨Â≠òÁöÑÊúçÂä°Âô®„ÄÇ ËØ≠Ê≥ï mongodumpÂëΩ‰ª§ËÑöÊú¨ËØ≠Ê≥ïÂ¶Ç‰∏ãÔºö 1&gt;mongodump -h dbhost -d dbname -o dbdirectory -hÔºö MongoDB ÊâÄÂú®ÊúçÂä°Âô®Âú∞ÂùÄÔºå‰æãÂ¶ÇÔºö127.0.0.1ÔºåÂΩìÁÑ∂‰πüÂèØ‰ª•ÊåáÂÆöÁ´ØÂè£Âè∑Ôºö127.0.0.1:27017 -dÔºö ÈúÄË¶ÅÂ§á‰ªΩÁöÑÊï∞ÊçÆÂ∫ìÂÆû‰æãÔºå‰æãÂ¶ÇÔºötest -oÔºö Â§á‰ªΩÁöÑÊï∞ÊçÆÂ≠òÊîæ‰ΩçÁΩÆÔºå‰æãÂ¶ÇÔºöc:\\data\\dumpÔºåÂΩìÁÑ∂ËØ•ÁõÆÂΩïÈúÄË¶ÅÊèêÂâçÂª∫Á´ãÔºåÂú®Â§á‰ªΩÂÆåÊàêÂêéÔºåÁ≥ªÁªüËá™Âä®Âú®dumpÁõÆÂΩï‰∏ãÂª∫Á´ã‰∏Ä‰∏™testÁõÆÂΩïÔºåËøô‰∏™ÁõÆÂΩïÈáåÈù¢Â≠òÊîæËØ•Êï∞ÊçÆÂ∫ìÂÆû‰æãÁöÑÂ§á‰ªΩÊï∞ÊçÆ„ÄÇ ÂÆû‰æã Âú®Êú¨Âú∞‰ΩøÁî® 27017 ÂêØÂä®‰Ω†ÁöÑmongodÊúçÂä°„ÄÇÊâìÂºÄÂëΩ‰ª§ÊèêÁ§∫Á¨¶Á™óÂè£ÔºåËøõÂÖ•MongoDBÂÆâË£ÖÁõÆÂΩïÁöÑbinÁõÆÂΩïËæìÂÖ•ÂëΩ‰ª§mongodump: 1&gt;mongodump #Âç≥mongod ÊâßË°å‰ª•‰∏äÂëΩ‰ª§ÂêéÔºåÂÆ¢Êà∑Á´Ø‰ºöËøûÊé•Âà∞ip‰∏∫ 127.0.0.1 Á´ØÂè£Âè∑‰∏∫ 27017 ÁöÑMongoDBÊúçÂä°‰∏äÔºåÂπ∂Â§á‰ªΩÊâÄÊúâÊï∞ÊçÆÂà∞ bin/dump/ ÁõÆÂΩï‰∏≠„ÄÇÂëΩ‰ª§ËæìÂá∫ÁªìÊûúÂ¶Ç‰∏ãÔºö mongodump ÂëΩ‰ª§ÂèØÈÄâÂèÇÊï∞ÂàóË°®Â¶Ç‰∏ãÊâÄÁ§∫Ôºö ËØ≠Ê≥ï ÊèèËø∞ ÂÆû‰æã mongodump --host HOST_NAME --port PORT_NUMBER ËØ•ÂëΩ‰ª§Â∞ÜÂ§á‰ªΩÊâÄÊúâMongoDBÊï∞ÊçÆ mongodump --host runoob.com --port 27017 mongodump --dbpath DB_PATH --out BACKUP_DIRECTORY mongodump --dbpath /data/db/ --out /data/backup/ mongodump --collection COLLECTION --db DB_NAME ËØ•ÂëΩ‰ª§Â∞ÜÂ§á‰ªΩÊåáÂÆöÊï∞ÊçÆÂ∫ìÁöÑÈõÜÂêà„ÄÇ mongodump --collection mycol --db test Êï∞ÊçÆÊÅ¢Â§ç mongodb‰ΩøÁî® mongorestore ÂëΩ‰ª§Êù•ÊÅ¢Â§çÂ§á‰ªΩÁöÑÊï∞ÊçÆ„ÄÇ ËØ≠Ê≥ï mongorestoreÂëΩ‰ª§ËÑöÊú¨ËØ≠Ê≥ïÂ¶Ç‰∏ãÔºö 1&gt;mongorestore -h &lt;hostname&gt;&lt;:port&gt; -d dbname &lt;path&gt; --host &lt;:port&gt;, -h &lt;:port&gt;Ôºö MongoDBÊâÄÂú®ÊúçÂä°Âô®Âú∞ÂùÄÔºåÈªòËÆ§‰∏∫Ôºö localhost:27017 --db , -d Ôºö ÈúÄË¶ÅÊÅ¢Â§çÁöÑÊï∞ÊçÆÂ∫ìÂÆû‰æãÔºå‰æãÂ¶ÇÔºötestÔºåÂΩìÁÑ∂Ëøô‰∏™ÂêçÁß∞‰πüÂèØ‰ª•ÂíåÂ§á‰ªΩÊó∂ÂÄôÁöÑ‰∏ç‰∏ÄÊ†∑ÔºåÊØîÂ¶Çtest2 --dropÔºö ÊÅ¢Â§çÁöÑÊó∂ÂÄôÔºåÂÖàÂà†Èô§ÂΩìÂâçÊï∞ÊçÆÔºåÁÑ∂ÂêéÊÅ¢Â§çÂ§á‰ªΩÁöÑÊï∞ÊçÆ„ÄÇÂ∞±ÊòØËØ¥ÔºåÊÅ¢Â§çÂêéÔºåÂ§á‰ªΩÂêéÊ∑ªÂä†‰øÆÊîπÁöÑÊï∞ÊçÆÈÉΩ‰ºöË¢´Âà†Èô§ÔºåÊÖéÁî®Âì¶ÔºÅ Ôºö mongorestore ÊúÄÂêéÁöÑ‰∏Ä‰∏™ÂèÇÊï∞ÔºåËÆæÁΩÆÂ§á‰ªΩÊï∞ÊçÆÊâÄÂú®‰ΩçÁΩÆÔºå‰æãÂ¶ÇÔºöc:\\data\\dump\\test„ÄÇ ‰Ω†‰∏çËÉΩÂêåÊó∂ÊåáÂÆö Âíå --dir ÈÄâÈ°πÔºå--dir‰πüÂèØ‰ª•ËÆæÁΩÆÂ§á‰ªΩÁõÆÂΩï„ÄÇ --dirÔºö ÊåáÂÆöÂ§á‰ªΩÁöÑÁõÆÂΩï ‰Ω†‰∏çËÉΩÂêåÊó∂ÊåáÂÆö Âíå --dir ÈÄâÈ°π„ÄÇ Êé•‰∏ãÊù•Êàë‰ª¨ÊâßË°å‰ª•‰∏ãÂëΩ‰ª§: 1&gt;mongorestore ÊâßË°å‰ª•‰∏äÂëΩ‰ª§ËæìÂá∫ÁªìÊûúÂ¶Ç‰∏ãÔºö ÂçÅÂõõ„ÄÅÁõëÊéß Âú®‰Ω†Â∑≤ÁªèÂÆâË£ÖÈÉ®ÁΩ≤Âπ∂ÂÖÅËÆ∏MongoDBÊúçÂä°ÂêéÔºå‰Ω†ÂøÖÈ°ªË¶Å‰∫ÜËß£MongoDBÁöÑËøêË°åÊÉÖÂÜµÔºåÂπ∂Êü•ÁúãMongoDBÁöÑÊÄßËÉΩ„ÄÇËøôÊ†∑Âú®Â§ßÊµÅÈáèÂæóÊÉÖÂÜµ‰∏ãÂèØ‰ª•ÂæàÂ•ΩÁöÑÂ∫îÂØπÂπ∂‰øùËØÅMongoDBÊ≠£Â∏∏Ëøê‰Ωú„ÄÇ MongoDB‰∏≠Êèê‰æõ‰∫Ümongostat Âíå mongotop ‰∏§‰∏™ÂëΩ‰ª§Êù•ÁõëÊéßMongoDBÁöÑËøêË°åÊÉÖÂÜµ„ÄÇ mongostat ÂëΩ‰ª§ mongostatÊòØmongodbËá™Â∏¶ÁöÑÁä∂ÊÄÅÊ£ÄÊµãÂ∑•ÂÖ∑ÔºåÂú®ÂëΩ‰ª§Ë°å‰∏ã‰ΩøÁî®„ÄÇÂÆÉ‰ºöÈó¥ÈöîÂõ∫ÂÆöÊó∂Èó¥Ëé∑ÂèñmongodbÁöÑÂΩìÂâçËøêË°åÁä∂ÊÄÅÔºåÂπ∂ËæìÂá∫„ÄÇÂ¶ÇÊûú‰Ω†ÂèëÁé∞Êï∞ÊçÆÂ∫ìÁ™ÅÁÑ∂ÂèòÊÖ¢ÊàñËÄÖÊúâÂÖ∂‰ªñÈóÆÈ¢òÁöÑËØùÔºå‰Ω†Á¨¨‰∏ÄÊâãÁöÑÊìç‰ΩúÂ∞±ËÄÉËôëÈááÁî®mongostatÊù•Êü•ÁúãmongoÁöÑÁä∂ÊÄÅ„ÄÇ ÂêØÂä®‰Ω†ÁöÑMongodÊúçÂä°ÔºåËøõÂÖ•Âà∞‰Ω†ÂÆâË£ÖÁöÑMongoDBÁõÆÂΩï‰∏ãÁöÑbinÁõÆÂΩïÔºå ÁÑ∂ÂêéËæìÂÖ•mongostatÂëΩ‰ª§ÔºåÂ¶Ç‰∏ãÊâÄÁ§∫Ôºö 1D:\\set up\\mongodb\\bin&gt;mongostat ‰ª•‰∏äÂëΩ‰ª§ËæìÂá∫ÁªìÊûúÂ¶Ç‰∏ãÔºö mongotop ÂëΩ‰ª§ mongotop‰πüÊòØmongodb‰∏ãÁöÑ‰∏Ä‰∏™ÂÜÖÁΩÆÂ∑•ÂÖ∑ÔºåmongotopÊèê‰æõ‰∫Ü‰∏Ä‰∏™ÊñπÊ≥ïÔºåÁî®Êù•Ë∑üË∏™‰∏Ä‰∏™MongoDBÁöÑÂÆû‰æãÔºåÊü•ÁúãÂì™‰∫õÂ§ßÈáèÁöÑÊó∂Èó¥Ëä±Ë¥πÂú®ËØªÂèñÂíåÂÜôÂÖ•Êï∞ÊçÆ„ÄÇ mongotopÊèê‰æõÊØè‰∏™ÈõÜÂêàÁöÑÊ∞¥Âπ≥ÁöÑÁªüËÆ°Êï∞ÊçÆ„ÄÇÈªòËÆ§ÊÉÖÂÜµ‰∏ãÔºåmongotopËøîÂõûÂÄºÁöÑÊØè‰∏ÄÁßí„ÄÇ ÂêØÂä®‰Ω†ÁöÑMongodÊúçÂä°ÔºåËøõÂÖ•Âà∞‰Ω†ÂÆâË£ÖÁöÑMongoDBÁõÆÂΩï‰∏ãÁöÑbinÁõÆÂΩïÔºå ÁÑ∂ÂêéËæìÂÖ•mongotopÂëΩ‰ª§ÔºåÂ¶Ç‰∏ãÊâÄÁ§∫Ôºö 1D:\\set up\\mongodb\\bin&gt;mongotop ‰ª•‰∏äÂëΩ‰ª§ÊâßË°åËæìÂá∫ÁªìÊûúÂ¶Ç‰∏ãÔºö Â∏¶ÂèÇÊï∞ÂÆû‰æã 1E:\\mongodb-win32-x86_64-2.2.1\\bin&gt;mongotop 10 ÂêéÈù¢ÁöÑ10ÊòØ**ÂèÇÊï∞ ÔºåÂèØ‰ª•‰∏ç‰ΩøÁî®ÔºåÁ≠âÂæÖÁöÑÊó∂Èó¥ÈïøÂ∫¶Ôºå‰ª•Áßí‰∏∫Âçï‰ΩçÔºåmongotopÁ≠âÂæÖË∞ÉÁî®‰πãÈó¥„ÄÇÈÄöËøáÁöÑÈªòËÆ§mongotopËøîÂõûÊï∞ÊçÆÁöÑÊØè‰∏ÄÁßí„ÄÇ 1E:\\mongodb-win32-x86_64-2.2.1\\bin&gt;mongotop --locks Êä•ÂëäÊØè‰∏™Êï∞ÊçÆÂ∫ìÁöÑÈîÅÁöÑ‰ΩøÁî®‰∏≠Ôºå‰ΩøÁî®mongotop - ÈîÅÔºåËøôÂ∞Ü‰∫ßÁîü‰ª•‰∏ãËæìÂá∫Ôºö ËæìÂá∫ÁªìÊûúÂ≠óÊÆµËØ¥ÊòéÔºö nsÔºö ÂåÖÂê´Êï∞ÊçÆÂ∫ìÂëΩÂêçÁ©∫Èó¥ÔºåÂêéËÄÖÁªìÂêà‰∫ÜÊï∞ÊçÆÂ∫ìÂêçÁß∞ÂíåÈõÜÂêà„ÄÇ dbÔºö ÂåÖÂê´Êï∞ÊçÆÂ∫ìÁöÑÂêçÁß∞„ÄÇÂêç‰∏∫ . ÁöÑÊï∞ÊçÆÂ∫ìÈíàÂØπÂÖ®Â±ÄÈîÅÂÆöÔºåËÄåÈùûÁâπÂÆöÊï∞ÊçÆÂ∫ì„ÄÇ totalÔºö mongodËä±Ë¥πÁöÑÊó∂Èó¥Â∑•‰ΩúÂú®Ëøô‰∏™ÂëΩÂêçÁ©∫Èó¥Êèê‰æõÊÄªÈ¢ù„ÄÇ readÔºö Êèê‰æõ‰∫ÜÂ§ßÈáèÁöÑÊó∂Èó¥ÔºåËøômongodËä±Ë¥πÂú®ÊâßË°åËØªÊìç‰ΩúÔºåÂú®Ê≠§ÂëΩÂêçÁ©∫Èó¥„ÄÇ writeÔºö Êèê‰æõËøô‰∏™ÂëΩÂêçÁ©∫Èó¥ËøõË°åÂÜôÊìç‰ΩúÔºåËøômongodËä±‰∫ÜÂ§ßÈáèÁöÑÊó∂Èó¥„ÄÇ ÂçÅ‰∫î„ÄÅMongoDBCompass‰ΩøÁî® MongoDBÂèØËßÜÂåñÂ∑•ÂÖ∑ mongoÂëΩ‰ª§ËøûÊé•ÊúçÂä°Âô®ÂêéÊâìÂºÄÂ∑•ÂÖ∑ ÁÇπÂáªËøûÊé•ÈªòËÆ§ÁöÑÊúçÂä°Âô®„ÄÅÊé•Âè£ÂíåNoneËÆ§ËØÅÁöÑÊúçÂä° ÂçÅÂÖ≠„ÄÅJava‰ΩøÁî® ÊñáÊ°£ ÂºïÂÖ•‰æùËµñ 123456&lt;!--MongoDB--&gt;&lt;dependency&gt; &lt;groupId&gt;org.mongodb&lt;/groupId&gt; &lt;artifactId&gt;mongodb-driver-sync&lt;/artifactId&gt; &lt;version&gt;4.4.1&lt;/version&gt;&lt;/dependency&gt; ËøûÊé• 1234567891011121314151617181920212223242526272829303132333435363738394041424344package pers.lxl.mylearnproject.programbase.nosql.mongolearn;import static com.mongodb.client.model.Filters.eq;import org.bson.Document;import com.mongodb.client.MongoClient;import com.mongodb.client.MongoClients;import com.mongodb.client.MongoCollection;import com.mongodb.client.MongoDatabase;public class HelloMongoDB {//1.Ê∑ªÂä†‰æùËµñ// &lt;dependency&gt;// &lt;groupId&gt;org.mongodb&lt;/groupId&gt;// &lt;artifactId&gt;mongodb-driver-sync&lt;/artifactId&gt;// &lt;version&gt;4.4.1&lt;/version&gt;// &lt;/dependency&gt;// 2.ËøûÊé•Âà∞Êï∞ÊçÆÂ∫ìpublic static void main( String args[] ){// try{// // ËøûÊé•Âà∞ mongodb ÊúçÂä°// MongoClient mongoClient = new MongoClient( &quot;localhost&quot; , 27017 );//// // ËøûÊé•Âà∞Êï∞ÊçÆÂ∫ì// MongoDatabase mongoDatabase = mongoClient.getDatabase(&quot;mycol&quot;);// System.out.println(&quot;Connect to database successfully&quot;);//// }catch(Exception e){// System.err.println( e.getClass().getName() + &quot;: &quot; + e.getMessage() );// }// Replace the uri string with your MongoDB deployment's connection string// IllegalArgumentException: Unsupported compressor 'disabled'// String uri = &quot;mongodb://127.0.0.1:27017/?compressors=disabled&amp;gssapiServiceName=mongodb&quot;;// Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: com/mongodb/internal/connection/InternalConnectionPoolSettings ÂçáÁ∫ßspringbootÁâàÊú¨ String uri = &quot;mongodb://127.0.0.1:27017/?gssapiServiceName=mongodb&quot;; try (MongoClient mongoClient = MongoClients.create(uri)) {// show dbs MongoDatabase database = mongoClient.getDatabase(&quot;student&quot;);// show collections Êàñ show tables MongoCollection&lt;Document&gt; collection = database.getCollection(&quot;student&quot;); Document doc = collection.find(eq(&quot;age&quot;, 11)).first(); System.out.println(doc.toJson()+&quot;==========&quot;); }}} ÂçÅ‰∏É„ÄÅÂÖ≥Á≥ª MongoDB ÁöÑÂÖ≥Á≥ªË°®Á§∫Â§ö‰∏™ÊñáÊ°£‰πãÈó¥Âú®ÈÄªËæë‰∏äÁöÑÁõ∏‰∫íËÅîÁ≥ª„ÄÇ ÊñáÊ°£Èó¥ÂèØ‰ª•ÈÄöËøáÂµåÂÖ•ÂíåÂºïÁî®Êù•Âª∫Á´ãËÅîÁ≥ª„ÄÇ MongoDB ‰∏≠ÁöÑÂÖ≥Á≥ªÂèØ‰ª•ÊòØÔºö 1:1 (1ÂØπ1) 1: N (1ÂØπÂ§ö) N: 1 (Â§öÂØπ1) N: N (Â§öÂØπÂ§ö) Êé•‰∏ãÊù•Êàë‰ª¨Êù•ËÄÉËôë‰∏ãÁî®Êà∑‰∏éÁî®Êà∑Âú∞ÂùÄÁöÑÂÖ≥Á≥ª„ÄÇ ‰∏Ä‰∏™Áî®Êà∑ÂèØ‰ª•ÊúâÂ§ö‰∏™Âú∞ÂùÄÔºåÊâÄ‰ª•ÊòØ‰∏ÄÂØπÂ§öÁöÑÂÖ≥Á≥ª„ÄÇ ‰ª•‰∏ãÊòØ user ÊñáÊ°£ÁöÑÁÆÄÂçïÁªìÊûÑÔºö 123456{ &quot;_id&quot;:ObjectId(&quot;52ffc33cd85242f436000001&quot;), &quot;name&quot;: &quot;Tom Hanks&quot;, &quot;contact&quot;: &quot;987654321&quot;, &quot;dob&quot;: &quot;01-01-1991&quot;} ‰ª•‰∏ãÊòØ address ÊñáÊ°£ÁöÑÁÆÄÂçïÁªìÊûÑÔºö 1234567{ &quot;_id&quot;:ObjectId(&quot;52ffc4a5d85242602e000000&quot;), &quot;building&quot;: &quot;22 A, Indiana Apt&quot;, &quot;pincode&quot;: 123456, &quot;city&quot;: &quot;Los Angeles&quot;, &quot;state&quot;: &quot;California&quot;} ÂµåÂÖ•ÂºèÂÖ≥Á≥ª ‰ΩøÁî®ÂµåÂÖ•ÂºèÊñπÊ≥ïÔºåÊàë‰ª¨ÂèØ‰ª•ÊääÁî®Êà∑Âú∞ÂùÄÂµåÂÖ•Âà∞Áî®Êà∑ÁöÑÊñáÊ°£‰∏≠Ôºö 12345678910111213141516171819{ &quot;_id&quot;:ObjectId(&quot;52ffc33cd85242f436000001&quot;), &quot;contact&quot;: &quot;987654321&quot;, &quot;dob&quot;: &quot;01-01-1991&quot;, &quot;name&quot;: &quot;Tom Benzamin&quot;, &quot;address&quot;: [ { &quot;building&quot;: &quot;22 A, Indiana Apt&quot;, &quot;pincode&quot;: 123456, &quot;city&quot;: &quot;Los Angeles&quot;, &quot;state&quot;: &quot;California&quot; }, { &quot;building&quot;: &quot;170 A, Acropolis Apt&quot;, &quot;pincode&quot;: 456789, &quot;city&quot;: &quot;Chicago&quot;, &quot;state&quot;: &quot;Illinois&quot; }]} ‰ª•‰∏äÊï∞ÊçÆ‰øùÂ≠òÂú®Âçï‰∏ÄÁöÑÊñáÊ°£‰∏≠ÔºåÂèØ‰ª•ÊØîËæÉÂÆπÊòìÁöÑËé∑ÂèñÂíåÁª¥Êä§Êï∞ÊçÆ„ÄÇ ‰Ω†ÂèØ‰ª•ËøôÊ†∑Êü•ËØ¢Áî®Êà∑ÁöÑÂú∞ÂùÄÔºö 1&gt;db.users.findOne({&quot;name&quot;:&quot;Tom Benzamin&quot;},{&quot;address&quot;:1}) Ê≥®ÊÑèÔºö‰ª•‰∏äÊü•ËØ¢‰∏≠ db Âíå users Ë°®Á§∫Êï∞ÊçÆÂ∫ìÂíåÈõÜÂêà„ÄÇ ËøôÁßçÊï∞ÊçÆÁªìÊûÑÁöÑÁº∫ÁÇπÊòØÔºåÂ¶ÇÊûúÁî®Êà∑ÂíåÁî®Êà∑Âú∞ÂùÄÂú®‰∏çÊñ≠Â¢ûÂä†ÔºåÊï∞ÊçÆÈáè‰∏çÊñ≠ÂèòÂ§ßÔºå‰ºöÂΩ±ÂìçËØªÂÜôÊÄßËÉΩ„ÄÇ ÂºïÁî®ÂºèÂÖ≥Á≥ª ÂºïÁî®ÂºèÂÖ≥Á≥ªÊòØËÆæËÆ°Êï∞ÊçÆÂ∫ìÊó∂ÁªèÂ∏∏Áî®Âà∞ÁöÑÊñπÊ≥ïÔºåËøôÁßçÊñπÊ≥ïÊääÁî®Êà∑Êï∞ÊçÆÊñáÊ°£ÂíåÁî®Êà∑Âú∞ÂùÄÊï∞ÊçÆÊñáÊ°£ÂàÜÂºÄÔºåÈÄöËøáÂºïÁî®ÊñáÊ°£ÁöÑ id Â≠óÊÆµÊù•Âª∫Á´ãÂÖ≥Á≥ª„ÄÇ 12345678910{ &quot;_id&quot;:ObjectId(&quot;52ffc33cd85242f436000001&quot;), &quot;contact&quot;: &quot;987654321&quot;, &quot;dob&quot;: &quot;01-01-1991&quot;, &quot;name&quot;: &quot;Tom Benzamin&quot;, &quot;address_ids&quot;: [ ObjectId(&quot;52ffc4a5d85242602e000000&quot;), ObjectId(&quot;52ffc4a5d85242602e000001&quot;) ]} ‰ª•‰∏äÂÆû‰æã‰∏≠ÔºåÁî®Êà∑ÊñáÊ°£ÁöÑ address_ids Â≠óÊÆµÂåÖÂê´Áî®Êà∑Âú∞ÂùÄÁöÑÂØπË±°idÔºàObjectIdÔºâÊï∞ÁªÑ„ÄÇ Êàë‰ª¨ÂèØ‰ª•ËØªÂèñËøô‰∫õÁî®Êà∑Âú∞ÂùÄÁöÑÂØπË±°idÔºàObjectIdÔºâÊù•Ëé∑ÂèñÁî®Êà∑ÁöÑËØ¶ÁªÜÂú∞ÂùÄ‰ø°ÊÅØ„ÄÇ ËøôÁßçÊñπÊ≥ïÈúÄË¶Å‰∏§Ê¨°Êü•ËØ¢ÔºåÁ¨¨‰∏ÄÊ¨°Êü•ËØ¢Áî®Êà∑Âú∞ÂùÄÁöÑÂØπË±°idÔºàObjectIdÔºâÔºåÁ¨¨‰∫åÊ¨°ÈÄöËøáÊü•ËØ¢ÁöÑidËé∑ÂèñÁî®Êà∑ÁöÑËØ¶ÁªÜÂú∞ÂùÄ‰ø°ÊÅØ„ÄÇ 12&gt;var result = db.users.findOne({&quot;name&quot;:&quot;Tom Benzamin&quot;},{&quot;address_ids&quot;:1})&gt;var addresses = db.address.find({&quot;_id&quot;:{&quot;$in&quot;:result[&quot;address_ids&quot;]}}) ÂçÅÂÖ´„ÄÅÊï∞ÊçÆÂ∫ìÂºïÁî® Âú®‰∏ä‰∏ÄÁ´†ËäÇMongoDBÂÖ≥Á≥ª‰∏≠Êàë‰ª¨ÊèêÂà∞‰∫ÜMongoDBÁöÑÂºïÁî®Êù•ËßÑËåÉÊï∞ÊçÆÁªìÊûÑÊñáÊ°£„ÄÇ MongoDB ÂºïÁî®Êúâ‰∏§ÁßçÔºö ÊâãÂä®ÂºïÁî®ÔºàManual ReferencesÔºâ DBRefs DBRefs vs ÊâãÂä®ÂºïÁî® ËÄÉËôëËøôÊ†∑ÁöÑ‰∏Ä‰∏™Âú∫ÊôØÔºåÊàë‰ª¨Âú®‰∏çÂêåÁöÑÈõÜÂêà‰∏≠ (address_home, address_office, address_mailing, Á≠â)Â≠òÂÇ®‰∏çÂêåÁöÑÂú∞ÂùÄÔºà‰ΩèÂùÄÔºåÂäûÂÖ¨ÂÆ§Âú∞ÂùÄÔºåÈÇÆ‰ª∂Âú∞ÂùÄÁ≠âÔºâ„ÄÇ ËøôÊ†∑ÔºåÊàë‰ª¨Âú®Ë∞ÉÁî®‰∏çÂêåÂú∞ÂùÄÊó∂Ôºå‰πüÈúÄË¶ÅÊåáÂÆöÈõÜÂêàÔºå‰∏Ä‰∏™ÊñáÊ°£‰ªéÂ§ö‰∏™ÈõÜÂêàÂºïÁî®ÊñáÊ°£ÔºåÊàë‰ª¨Â∫îËØ•‰ΩøÁî® DBRefs„ÄÇ ‰ΩøÁî® DBRefs DBRefÁöÑÂΩ¢ÂºèÔºö 1{ $ref : , $id : , $db : } ‰∏â‰∏™Â≠óÊÆµË°®Á§∫ÁöÑÊÑè‰πâ‰∏∫Ôºö $refÔºöÈõÜÂêàÂêçÁß∞ $idÔºöÂºïÁî®ÁöÑid $db:Êï∞ÊçÆÂ∫ìÂêçÁß∞ÔºåÂèØÈÄâÂèÇÊï∞ ‰ª•‰∏ãÂÆû‰æã‰∏≠Áî®Êà∑Êï∞ÊçÆÊñáÊ°£‰ΩøÁî®‰∫Ü DBRef, Â≠óÊÆµ addressÔºö 12345678910{ &quot;_id&quot;:ObjectId(&quot;53402597d852426020000002&quot;), &quot;address&quot;: { &quot;$ref&quot;: &quot;address_home&quot;, &quot;$id&quot;: ObjectId(&quot;534009e4d852427820000002&quot;), &quot;$db&quot;: &quot;runoob&quot;}, &quot;contact&quot;: &quot;987654321&quot;, &quot;dob&quot;: &quot;01-01-1991&quot;, &quot;name&quot;: &quot;Tom Benzamin&quot;} address DBRef Â≠óÊÆµÊåáÂÆö‰∫ÜÂºïÁî®ÁöÑÂú∞ÂùÄÊñáÊ°£ÊòØÂú® runoob Êï∞ÊçÆÂ∫ì‰∏ãÁöÑ address_home ÈõÜÂêàÔºåid ‰∏∫ 534009e4d852427820000002„ÄÇ ‰ª•‰∏ã‰ª£Á†Å‰∏≠ÔºåÊàë‰ª¨ÈÄöËøáÊåáÂÆö $ref ÂèÇÊï∞Ôºàaddress_home ÈõÜÂêàÔºâÊù•Êü•ÊâæÈõÜÂêà‰∏≠ÊåáÂÆöidÁöÑÁî®Êà∑Âú∞ÂùÄ‰ø°ÊÅØÔºö 123&gt;var user = db.users.findOne({&quot;name&quot;:&quot;Tom Benzamin&quot;})&gt;var dbRef = user.address&gt;db[dbRef.$ref].findOne({&quot;_id&quot;:(dbRef.$id)}) ‰ª•‰∏äÂÆû‰æãËøîÂõû‰∫Ü address_home ÈõÜÂêà‰∏≠ÁöÑÂú∞ÂùÄÊï∞ÊçÆÔºö 1234567{ &quot;_id&quot; : ObjectId(&quot;534009e4d852427820000002&quot;), &quot;building&quot; : &quot;22 A, Indiana Apt&quot;, &quot;pincode&quot; : 123456, &quot;city&quot; : &quot;Los Angeles&quot;, &quot;state&quot; : &quot;California&quot;} ÂçÅ‰πù„ÄÅË¶ÜÁõñÁ¥¢ÂºïÊü•ËØ¢ ÂÆòÊñπÁöÑMongoDBÁöÑÊñáÊ°£‰∏≠ËØ¥ÊòéÔºåË¶ÜÁõñÊü•ËØ¢ÊòØ‰ª•‰∏ãÁöÑÊü•ËØ¢Ôºö ÊâÄÊúâÁöÑÊü•ËØ¢Â≠óÊÆµÊòØÁ¥¢ÂºïÁöÑ‰∏ÄÈÉ®ÂàÜ ÊâÄÊúâÁöÑÊü•ËØ¢ËøîÂõûÂ≠óÊÆµÂú®Âêå‰∏Ä‰∏™Á¥¢Âºï‰∏≠ Áî±‰∫éÊâÄÊúâÂá∫Áé∞Âú®Êü•ËØ¢‰∏≠ÁöÑÂ≠óÊÆµÊòØÁ¥¢ÂºïÁöÑ‰∏ÄÈÉ®ÂàÜÔºå MongoDB Êó†ÈúÄÂú®Êï¥‰∏™Êï∞ÊçÆÊñáÊ°£‰∏≠Ê£ÄÁ¥¢ÂåπÈÖçÊü•ËØ¢Êù°‰ª∂ÂíåËøîÂõû‰ΩøÁî®Áõ∏ÂêåÁ¥¢ÂºïÁöÑÊü•ËØ¢ÁªìÊûú„ÄÇ Âõ†‰∏∫Á¥¢ÂºïÂ≠òÂú®‰∫éRAM‰∏≠Ôºå‰ªéÁ¥¢Âºï‰∏≠Ëé∑ÂèñÊï∞ÊçÆÊØîÈÄöËøáÊâ´ÊèèÊñáÊ°£ËØªÂèñÊï∞ÊçÆË¶ÅÂø´ÂæóÂ§ö„ÄÇ ‰ΩøÁî®Ë¶ÜÁõñÁ¥¢ÂºïÊü•ËØ¢ ‰∏∫‰∫ÜÊµãËØïË¶ÜÁõñÁ¥¢ÂºïÊü•ËØ¢Ôºå‰ΩøÁî®‰ª•‰∏ã users ÈõÜÂêà: 12345678{ &quot;_id&quot;: ObjectId(&quot;53402597d852426020000002&quot;), &quot;contact&quot;: &quot;987654321&quot;, &quot;dob&quot;: &quot;01-01-1991&quot;, &quot;gender&quot;: &quot;M&quot;, &quot;name&quot;: &quot;Tom Benzamin&quot;, &quot;user_name&quot;: &quot;tombenzamin&quot;} Êàë‰ª¨Âú® users ÈõÜÂêà‰∏≠ÂàõÂª∫ËÅîÂêàÁ¥¢ÂºïÔºåÂ≠óÊÆµ‰∏∫ gender Âíå user_name : 1&gt;db.users.ensureIndex({gender:1,user_name:1}) Áé∞Âú®ÔºåËØ•Á¥¢Âºï‰ºöË¶ÜÁõñ‰ª•‰∏ãÊü•ËØ¢Ôºö 1&gt;db.users.find({gender:&quot;M&quot;},{user_name:1,_id:0}) ‰πüÂ∞±ÊòØËØ¥ÔºåÂØπ‰∫é‰∏äËø∞Êü•ËØ¢ÔºåMongoDBÁöÑ‰∏ç‰ºöÂéªÊï∞ÊçÆÂ∫ìÊñá‰ª∂‰∏≠Êü•Êâæ„ÄÇÁõ∏ÂèçÔºåÂÆÉ‰ºö‰ªéÁ¥¢Âºï‰∏≠ÊèêÂèñÊï∞ÊçÆÔºåËøôÊòØÈùûÂ∏∏Âø´ÈÄüÁöÑÊï∞ÊçÆÊü•ËØ¢„ÄÇ Áî±‰∫éÊàë‰ª¨ÁöÑÁ¥¢Âºï‰∏≠‰∏çÂåÖÊã¨ _id Â≠óÊÆµÔºå_idÂú®Êü•ËØ¢‰∏≠‰ºöÈªòËÆ§ËøîÂõûÔºåÊàë‰ª¨ÂèØ‰ª•Âú®MongoDBÁöÑÊü•ËØ¢ÁªìÊûúÈõÜ‰∏≠ÊéíÈô§ÂÆÉ„ÄÇ ‰∏ãÈù¢ÁöÑÂÆû‰æãÊ≤°ÊúâÊéíÈô§_idÔºåÊü•ËØ¢Â∞±‰∏ç‰ºöË¢´Ë¶ÜÁõñÔºö 1&gt;db.users.find({gender:&quot;M&quot;},{user_name:1}) ÊúÄÂêéÔºåÂ¶ÇÊûúÊòØ‰ª•‰∏ãÁöÑÊü•ËØ¢Ôºå‰∏çËÉΩ‰ΩøÁî®Ë¶ÜÁõñÁ¥¢ÂºïÊü•ËØ¢Ôºö ÊâÄÊúâÁ¥¢ÂºïÂ≠óÊÆµÊòØ‰∏Ä‰∏™Êï∞ÁªÑ ÊâÄÊúâÁ¥¢ÂºïÂ≠óÊÆµÊòØ‰∏Ä‰∏™Â≠êÊñáÊ°£ ‰∫åÂçÅ„ÄÅÊü•ËØ¢ÂàÜÊûê MongoDB Êü•ËØ¢ÂàÜÊûêÂèØ‰ª•Á°Æ‰øùÊàë‰ª¨ÊâÄÂª∫Á´ãÁöÑÁ¥¢ÂºïÊòØÂê¶ÊúâÊïàÔºåÊòØÊü•ËØ¢ËØ≠Âè•ÊÄßËÉΩÂàÜÊûêÁöÑÈáçË¶ÅÂ∑•ÂÖ∑„ÄÇ MongoDB Êü•ËØ¢ÂàÜÊûêÂ∏∏Áî®ÂáΩÊï∞ÊúâÔºöexplain() Âíå hint()„ÄÇ ‰ΩøÁî® explain() explain Êìç‰ΩúÊèê‰æõ‰∫ÜÊü•ËØ¢‰ø°ÊÅØÔºå‰ΩøÁî®Á¥¢ÂºïÂèäÊü•ËØ¢ÁªüËÆ°Á≠â„ÄÇÊúâÂà©‰∫éÊàë‰ª¨ÂØπÁ¥¢ÂºïÁöÑ‰ºòÂåñ„ÄÇ Êé•‰∏ãÊù•Êàë‰ª¨Âú® users ÈõÜÂêà‰∏≠ÂàõÂª∫ gender Âíå user_name ÁöÑÁ¥¢ÂºïÔºö 1&gt;db.users.ensureIndex({gender:1,user_name:1}) Áé∞Âú®Âú®Êü•ËØ¢ËØ≠Âè•‰∏≠‰ΩøÁî® explain Ôºö 1&gt;db.users.find({gender:&quot;M&quot;},{user_name:1,_id:0}).explain() ‰ª•‰∏äÁöÑ explain() Êü•ËØ¢ËøîÂõûÂ¶Ç‰∏ãÁªìÊûúÔºö 1234567891011121314151617181920212223242526272829303132{ &quot;cursor&quot; : &quot;BtreeCursor gender_1_user_name_1&quot;, &quot;isMultiKey&quot; : false, &quot;n&quot; : 1, &quot;nscannedObjects&quot; : 0, &quot;nscanned&quot; : 1, &quot;nscannedObjectsAllPlans&quot; : 0, &quot;nscannedAllPlans&quot; : 1, &quot;scanAndOrder&quot; : false, &quot;indexOnly&quot; : true,//**indexOnly**: Â≠óÊÆµ‰∏∫ true ÔºåË°®Á§∫Êàë‰ª¨‰ΩøÁî®‰∫ÜÁ¥¢Âºï„ÄÇ &quot;nYields&quot; : 0, &quot;nChunkSkips&quot; : 0, &quot;millis&quot; : 0, &quot;indexBounds&quot; : { &quot;gender&quot; : [ [ &quot;M&quot;, &quot;M&quot; ] ], &quot;user_name&quot; : [ [ { &quot;$minElement&quot; : 1 }, { &quot;$maxElement&quot; : 1 } ] ] }} Áé∞Âú®ÔºåÊàë‰ª¨ÁúãÁúãËøô‰∏™ÁªìÊûúÈõÜÁöÑÂ≠óÊÆµÔºö indexOnly: Â≠óÊÆµ‰∏∫ true ÔºåË°®Á§∫Êàë‰ª¨‰ΩøÁî®‰∫ÜÁ¥¢Âºï„ÄÇ cursorÔºöÂõ†‰∏∫Ëøô‰∏™Êü•ËØ¢‰ΩøÁî®‰∫ÜÁ¥¢ÂºïÔºåMongoDB ‰∏≠Á¥¢ÂºïÂ≠òÂÇ®Âú®BÊ†ëÁªìÊûÑ‰∏≠ÔºåÊâÄ‰ª•ËøôÊòØ‰πü‰ΩøÁî®‰∫Ü BtreeCursor Á±ªÂûãÁöÑÊ∏∏Ê†á„ÄÇÂ¶ÇÊûúÊ≤°Êúâ‰ΩøÁî®Á¥¢ÂºïÔºåÊ∏∏Ê†áÁöÑÁ±ªÂûãÊòØ BasicCursor„ÄÇËøô‰∏™ÈîÆËøò‰ºöÁªôÂá∫‰Ω†ÊâÄ‰ΩøÁî®ÁöÑÁ¥¢ÂºïÁöÑÂêçÁß∞Ôºå‰Ω†ÈÄöËøáËøô‰∏™ÂêçÁß∞ÂèØ‰ª•Êü•ÁúãÂΩìÂâçÊï∞ÊçÆÂ∫ì‰∏ãÁöÑsystem.indexesÈõÜÂêàÔºàÁ≥ªÁªüËá™Âä®ÂàõÂª∫ÔºåÁî±‰∫éÂ≠òÂÇ®Á¥¢Âºï‰ø°ÊÅØÔºåËøô‰∏™Á®çÂæÆ‰ºöÊèêÂà∞ÔºâÊù•ÂæóÂà∞Á¥¢ÂºïÁöÑËØ¶ÁªÜ‰ø°ÊÅØ„ÄÇ nÔºöÂΩìÂâçÊü•ËØ¢ËøîÂõûÁöÑÊñáÊ°£Êï∞Èáè„ÄÇ nscanned/nscannedObjectsÔºöË°®ÊòéÂΩìÂâçËøôÊ¨°Êü•ËØ¢‰∏ÄÂÖ±Êâ´Êèè‰∫ÜÈõÜÂêà‰∏≠Â§öÂ∞ë‰∏™ÊñáÊ°£ÔºåÊàë‰ª¨ÁöÑÁõÆÁöÑÊòØÔºåËÆ©Ëøô‰∏™Êï∞ÂÄºÂíåËøîÂõûÊñáÊ°£ÁöÑÊï∞ÈáèË∂äÊé•ËøëË∂äÂ•Ω„ÄÇ millisÔºöÂΩìÂâçÊü•ËØ¢ÊâÄÈúÄÊó∂Èó¥ÔºåÊØ´ÁßíÊï∞„ÄÇ indexBoundsÔºöÂΩìÂâçÊü•ËØ¢ÂÖ∑‰Ωì‰ΩøÁî®ÁöÑÁ¥¢Âºï„ÄÇ ‰ΩøÁî® hint() ËôΩÁÑ∂MongoDBÊü•ËØ¢‰ºòÂåñÂô®‰∏ÄËà¨Â∑•‰ΩúÁöÑÂæà‰∏çÈîôÔºå‰ΩÜÊòØ‰πüÂèØ‰ª•‰ΩøÁî® hint Êù•Âº∫Âà∂ MongoDB ‰ΩøÁî®‰∏Ä‰∏™ÊåáÂÆöÁöÑÁ¥¢Âºï„ÄÇ ËøôÁßçÊñπÊ≥ïÊüê‰∫õÊÉÖÂΩ¢‰∏ã‰ºöÊèêÂçáÊÄßËÉΩ„ÄÇ ‰∏Ä‰∏™ÊúâÁ¥¢ÂºïÁöÑ collection Âπ∂‰∏îÊâßË°å‰∏Ä‰∏™Â§öÂ≠óÊÆµÁöÑÊü•ËØ¢(‰∏Ä‰∫õÂ≠óÊÆµÂ∑≤ÁªèÁ¥¢Âºï‰∫Ü)„ÄÇ Â¶Ç‰∏ãÊü•ËØ¢ÂÆû‰æãÊåáÂÆö‰∫Ü‰ΩøÁî® gender Âíå user_name Á¥¢ÂºïÂ≠óÊÆµÊù•Êü•ËØ¢Ôºö 1&gt;db.users.find({gender:&quot;M&quot;},{user_name:1,_id:0}).hint({gender:1,user_name:1}) ÂèØ‰ª•‰ΩøÁî® explain() ÂáΩÊï∞Êù•ÂàÜÊûê‰ª•‰∏äÊü•ËØ¢Ôºö 1&gt;db.users.find({gender:&quot;M&quot;},{user_name:1,_id:0}).hint({gender:1,user_name:1}).explain() ‰∫å‰∏Ä„ÄÅMongoDB ÂéüÂ≠êÊìç‰Ωú mongodb‰∏çÊîØÊåÅ‰∫ãÂä°ÔºåÊâÄ‰ª•ÔºåÂú®‰Ω†ÁöÑÈ°πÁõÆ‰∏≠Â∫îÁî®Êó∂ÔºåË¶ÅÊ≥®ÊÑèËøôÁÇπ„ÄÇÊó†ËÆ∫‰ªÄ‰πàËÆæËÆ°ÔºåÈÉΩ‰∏çË¶ÅË¶ÅÊ±Çmongodb‰øùËØÅÊï∞ÊçÆÁöÑÂÆåÊï¥ÊÄß„ÄÇ ‰ΩÜÊòØmongodbÊèê‰æõ‰∫ÜËÆ∏Â§öÂéüÂ≠êÊìç‰ΩúÔºåÊØîÂ¶ÇÊñáÊ°£ÁöÑ‰øùÂ≠òÔºå‰øÆÊîπÔºåÂà†Èô§Á≠âÔºåÈÉΩÊòØÂéüÂ≠êÊìç‰Ωú„ÄÇ ÊâÄË∞ìÂéüÂ≠êÊìç‰ΩúÂ∞±ÊòØË¶Å‰πàËøô‰∏™ÊñáÊ°£‰øùÂ≠òÂà∞MongodbÔºåË¶Å‰πàÊ≤°Êúâ‰øùÂ≠òÂà∞MongodbÔºå‰∏ç‰ºöÂá∫Áé∞Êü•ËØ¢Âà∞ÁöÑÊñáÊ°£Ê≤°Êúâ‰øùÂ≠òÂÆåÊï¥ÁöÑÊÉÖÂÜµ„ÄÇ ÂéüÂ≠êÊìç‰ΩúÊï∞ÊçÆÊ®°Âûã ËÄÉËôë‰∏ãÈù¢ÁöÑ‰æãÂ≠êÔºåÂõæ‰π¶È¶ÜÁöÑ‰π¶Á±çÂèäÁªìË¥¶‰ø°ÊÅØ„ÄÇ ÂÆû‰æãËØ¥Êòé‰∫ÜÂú®‰∏Ä‰∏™Áõ∏ÂêåÁöÑÊñáÊ°£‰∏≠Â¶Ç‰ΩïÁ°Æ‰øùÂµåÂÖ•Â≠óÊÆµÂÖ≥ËÅîÂéüÂ≠êÊìç‰ΩúÔºàupdateÔºöÊõ¥Êñ∞ÔºâÁöÑÂ≠óÊÆµÊòØÂêåÊ≠•ÁöÑ„ÄÇ 1234567891011book = { _id: 123456789, title: &quot;MongoDB: The Definitive Guide&quot;, author: [ &quot;Kristina Chodorow&quot;, &quot;Mike Dirolf&quot; ], published_date: ISODate(&quot;2010-09-24&quot;), pages: 216, language: &quot;English&quot;, publisher_id: &quot;oreilly&quot;, available: 3, checkout: [ { by: &quot;joe&quot;, date: ISODate(&quot;2012-10-15&quot;) } ] } ‰Ω†ÂèØ‰ª•‰ΩøÁî® db.collection.findAndModify() ÊñπÊ≥ïÊù•Âà§Êñ≠‰π¶Á±çÊòØÂê¶ÂèØÁªìÁÆóÂπ∂Êõ¥Êñ∞Êñ∞ÁöÑÁªìÁÆó‰ø°ÊÅØ„ÄÇ Âú®Âêå‰∏Ä‰∏™ÊñáÊ°£‰∏≠ÂµåÂÖ•ÁöÑ available Âíå checkout Â≠óÊÆµÊù•Á°Æ‰øùËøô‰∫õÂ≠óÊÆµÊòØÂêåÊ≠•Êõ¥Êñ∞ÁöÑ: 12345678910db.books.findAndModify ( { query: { _id: 123456789, available: { $gt: 0 } }, update: { $inc: { available: -1 }, $push: { checkout: { by: &quot;abc&quot;, date: new Date() } } }} ) ÂéüÂ≠êÊìç‰ΩúÂ∏∏Áî®ÂëΩ‰ª§ $set Áî®Êù•ÊåáÂÆö‰∏Ä‰∏™ÈîÆÂπ∂Êõ¥Êñ∞ÈîÆÂÄºÔºåËã•ÈîÆ‰∏çÂ≠òÂú®Âπ∂ÂàõÂª∫„ÄÇ 1{ $set : { field : value } } $unset Áî®Êù•Âà†Èô§‰∏Ä‰∏™ÈîÆ„ÄÇ 1{ $unset : { field : 1} } $inc $incÂèØ‰ª•ÂØπÊñáÊ°£ÁöÑÊüê‰∏™ÂÄº‰∏∫Êï∞Â≠óÂûãÔºàÂè™ËÉΩ‰∏∫Êª°Ë∂≥Ë¶ÅÊ±ÇÁöÑÊï∞Â≠óÔºâÁöÑÈîÆËøõË°åÂ¢ûÂáèÁöÑÊìç‰Ωú„ÄÇ 1{ $inc : { field : value } } $push Áî®Ê≥ïÔºö 1{ $push : { field : value } } ÊäävalueËøΩÂä†Âà∞fieldÈáåÈù¢ÂéªÔºåfield‰∏ÄÂÆöË¶ÅÊòØÊï∞ÁªÑÁ±ªÂûãÊâçË°åÔºåÂ¶ÇÊûúfield‰∏çÂ≠òÂú®Ôºå‰ºöÊñ∞Â¢û‰∏Ä‰∏™Êï∞ÁªÑÁ±ªÂûãÂä†ËøõÂéª„ÄÇ $pushAll Âêå$push,Âè™ÊòØ‰∏ÄÊ¨°ÂèØ‰ª•ËøΩÂä†Â§ö‰∏™ÂÄºÂà∞‰∏Ä‰∏™Êï∞ÁªÑÂ≠óÊÆµÂÜÖ„ÄÇ 1{ $pushAll : { field : value_array } } $pull ‰ªéÊï∞ÁªÑfieldÂÜÖÂà†Èô§‰∏Ä‰∏™Á≠â‰∫évalueÂÄº„ÄÇ 1{ $pull : { field : _value } } $addToSet Â¢ûÂä†‰∏Ä‰∏™ÂÄºÂà∞Êï∞ÁªÑÂÜÖÔºåËÄå‰∏îÂè™ÊúâÂΩìËøô‰∏™ÂÄº‰∏çÂú®Êï∞ÁªÑÂÜÖÊâçÂ¢ûÂä†„ÄÇ $pop Âà†Èô§Êï∞ÁªÑÁöÑÁ¨¨‰∏Ä‰∏™ÊàñÊúÄÂêé‰∏Ä‰∏™ÂÖÉÁ¥† 1{ $pop : { field : 1 } } $rename ‰øÆÊîπÂ≠óÊÆµÂêçÁß∞ 1{ $rename : { old_field_name : new_field_name } } $bit ‰ΩçÊìç‰ΩúÔºåintegerÁ±ªÂûã 1{$bit : { field : {and : 5}}} ÂÅèÁßªÊìç‰ΩúÁ¨¶ 12345&gt; t.find() { &quot;_id&quot; : ObjectId(&quot;4b97e62bf1d8c7152c9ccb74&quot;), &quot;title&quot; : &quot;ABC&quot;, &quot;comments&quot; : [ { &quot;by&quot; : &quot;joe&quot;, &quot;votes&quot; : 3 }, { &quot;by&quot; : &quot;jane&quot;, &quot;votes&quot; : 7 } ] } &gt; t.update( {'comments.by':'joe'}, {$inc:{'comments.$.votes':1}}, false, true ) &gt; t.find() { &quot;_id&quot; : ObjectId(&quot;4b97e62bf1d8c7152c9ccb74&quot;), &quot;title&quot; : &quot;ABC&quot;, &quot;comments&quot; : [ { &quot;by&quot; : &quot;joe&quot;, &quot;votes&quot; : 4 }, { &quot;by&quot; : &quot;jane&quot;, &quot;votes&quot; : 7 } ] } ‰∫å‰∫å„ÄÅÈ´òÁ∫ßÁ¥¢Âºï ËÄÉËôë‰ª•‰∏ãÊñáÊ°£ÈõÜÂêàÔºàusers Ôºâ: 12345678910111213{ &quot;address&quot;: { &quot;city&quot;: &quot;Los Angeles&quot;, &quot;state&quot;: &quot;California&quot;, &quot;pincode&quot;: &quot;123&quot; }, &quot;tags&quot;: [ &quot;music&quot;, &quot;cricket&quot;, &quot;blogs&quot; ], &quot;name&quot;: &quot;Tom Benzamin&quot;} ‰ª•‰∏äÊñáÊ°£ÂåÖÂê´‰∫Ü address Â≠êÊñáÊ°£Âíå tags Êï∞ÁªÑ„ÄÇ Á¥¢ÂºïÊï∞ÁªÑÂ≠óÊÆµ ÂÅáËÆæÊàë‰ª¨Âü∫‰∫éÊ†áÁ≠æÊù•Ê£ÄÁ¥¢Áî®Êà∑Ôºå‰∏∫Ê≠§Êàë‰ª¨ÈúÄË¶ÅÂØπÈõÜÂêà‰∏≠ÁöÑÊï∞ÁªÑ tags Âª∫Á´ãÁ¥¢Âºï„ÄÇ Âú®Êï∞ÁªÑ‰∏≠ÂàõÂª∫Á¥¢ÂºïÔºåÈúÄË¶ÅÂØπÊï∞ÁªÑ‰∏≠ÁöÑÊØè‰∏™Â≠óÊÆµ‰æùÊ¨°Âª∫Á´ãÁ¥¢Âºï„ÄÇÊâÄ‰ª•Âú®Êàë‰ª¨‰∏∫Êï∞ÁªÑ tags ÂàõÂª∫Á¥¢ÂºïÊó∂Ôºå‰ºö‰∏∫ music„ÄÅcricket„ÄÅblogs‰∏â‰∏™ÂÄºÂª∫Á´ãÂçïÁã¨ÁöÑÁ¥¢Âºï„ÄÇ ‰ΩøÁî®‰ª•‰∏ãÂëΩ‰ª§ÂàõÂª∫Êï∞ÁªÑÁ¥¢ÂºïÔºö 1234567891011121314#3.0ÂºÉÁî®&gt;db.users.ensureIndex({&quot;tags&quot;:1})&gt; db.users.ensureIndex({&quot;tags&quot;:1})uncaught exception: TypeError: db.users.ensureIndex is not a function :@(shell):1:1&gt; db.users.createIndex({&quot;tags&quot;:1}){ &quot;numIndexesBefore&quot; : 1, &quot;numIndexesAfter&quot; : 2, &quot;createdCollectionAutomatically&quot; : false, &quot;ok&quot; : 1}&gt; ÂàõÂª∫Á¥¢ÂºïÂêéÔºåÊàë‰ª¨ÂèØ‰ª•ËøôÊ†∑Ê£ÄÁ¥¢ÈõÜÂêàÁöÑ tags Â≠óÊÆµÔºö 1&gt;db.users.find({tags:&quot;cricket&quot;}) ‰∏∫‰∫ÜÈ™åËØÅÊàë‰ª¨‰ΩøÁî®‰ΩøÁî®‰∫ÜÁ¥¢ÂºïÔºåÂèØ‰ª•‰ΩøÁî® explain ÂëΩ‰ª§Ôºö 1&gt;db.users.find({tags:&quot;cricket&quot;}).explain() ‰ª•‰∏äÂëΩ‰ª§ÊâßË°åÁªìÊûú‰∏≠‰ºöÊòæÁ§∫ &quot;cursor&quot; : &quot;BtreeCursor tags_1&quot; ÔºåÂàôË°®Á§∫Â∑≤Áªè‰ΩøÁî®‰∫ÜÁ¥¢Âºï„ÄÇ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970db.users.find({tags:&quot;cricket&quot;}).explain(){ &quot;explainVersion&quot; : &quot;1&quot;, &quot;queryPlanner&quot; : { &quot;namespace&quot; : &quot;users.users&quot;, &quot;indexFilterSet&quot; : false, &quot;parsedQuery&quot; : { &quot;tags&quot; : { &quot;$eq&quot; : &quot;cricket&quot; } }, &quot;queryHash&quot; : &quot;9D3B61A7&quot;, &quot;planCacheKey&quot; : &quot;3C3D3201&quot;, &quot;maxIndexedOrSolutionsReached&quot; : false, &quot;maxIndexedAndSolutionsReached&quot; : false, &quot;maxScansToExplodeReached&quot; : false, &quot;winningPlan&quot; : { &quot;stage&quot; : &quot;FETCH&quot;, &quot;inputStage&quot; : { &quot;stage&quot; : &quot;IXSCAN&quot;, &quot;keyPattern&quot; : { &quot;tags&quot; : 1 }, &quot;indexName&quot; : &quot;tags_1&quot;, &quot;isMultiKey&quot; : true, &quot;multiKeyPaths&quot; : { &quot;tags&quot; : [ &quot;tags&quot; ] }, &quot;isUnique&quot; : false, &quot;isSparse&quot; : false, &quot;isPartial&quot; : false, &quot;indexVersion&quot; : 2, &quot;direction&quot; : &quot;forward&quot;, &quot;indexBounds&quot; : { &quot;tags&quot; : [ &quot;[\\&quot;cricket\\&quot;, \\&quot;cricket\\&quot;]&quot; ] } } }, &quot;rejectedPlans&quot; : [ ] }, &quot;command&quot; : { &quot;find&quot; : &quot;users&quot;, &quot;filter&quot; : { &quot;tags&quot; : &quot;cricket&quot; }, &quot;$db&quot; : &quot;users&quot; }, &quot;serverInfo&quot; : { &quot;host&quot; : &quot;BF-202103261718&quot;, &quot;port&quot; : 27017, &quot;version&quot; : &quot;5.0.6-rc0&quot;, &quot;gitVersion&quot; : &quot;60af56dfe1a17c60bbd628163fda0a161105b6c0&quot; }, &quot;serverParameters&quot; : { &quot;internalQueryFacetBufferSizeBytes&quot; : 104857600, &quot;internalQueryFacetMaxOutputDocSizeBytes&quot; : 104857600, &quot;internalLookupStageIntermediateDocumentMaxSizeBytes&quot; : 104857600, &quot;internalDocumentSourceGroupMaxMemoryBytes&quot; : 104857600, &quot;internalQueryMaxBlockingSortMemoryUsageBytes&quot; : 104857600, &quot;internalQueryProhibitBlockingMergeOnMongoS&quot; : 0, &quot;internalQueryMaxAddToSetBytes&quot; : 104857600, &quot;internalDocumentSourceSetWindowFieldsMaxMemoryBytes&quot; : 104857600 }, &quot;ok&quot; : 1}&gt; Á¥¢ÂºïÂ≠êÊñáÊ°£Â≠óÊÆµ ÂÅáËÆæÊàë‰ª¨ÈúÄË¶ÅÈÄöËøácity„ÄÅstate„ÄÅpincodeÂ≠óÊÆµÊù•Ê£ÄÁ¥¢ÊñáÊ°£ÔºåÁî±‰∫éËøô‰∫õÂ≠óÊÆµÊòØÂ≠êÊñáÊ°£ÁöÑÂ≠óÊÆµÔºåÊâÄ‰ª•Êàë‰ª¨ÈúÄË¶ÅÂØπÂ≠êÊñáÊ°£Âª∫Á´ãÁ¥¢Âºï„ÄÇ ‰∏∫Â≠êÊñáÊ°£ÁöÑ‰∏â‰∏™Â≠óÊÆµÂàõÂª∫Á¥¢ÂºïÔºåÂëΩ‰ª§Â¶Ç‰∏ãÔºö 1&gt;db.users.ensureIndex({&quot;address.city&quot;:1,&quot;address.state&quot;:1,&quot;address.pincode&quot;:1}) ‰∏ÄÊó¶ÂàõÂª∫Á¥¢ÂºïÔºåÊàë‰ª¨ÂèØ‰ª•‰ΩøÁî®Â≠êÊñáÊ°£ÁöÑÂ≠óÊÆµÊù•Ê£ÄÁ¥¢Êï∞ÊçÆÔºö 1&gt;db.users.find({&quot;address.city&quot;:&quot;Los Angeles&quot;}) Êü•ËØ¢Ë°®Ëææ‰∏ç‰∏ÄÂÆöÈÅµÂæ™ÊåáÂÆöÁöÑÁ¥¢ÂºïÁöÑÈ°∫Â∫èÔºåmongodb ‰ºöËá™Âä®‰ºòÂåñ„ÄÇÊâÄ‰ª•‰∏äÈù¢ÂàõÂª∫ÁöÑÁ¥¢ÂºïÂ∞ÜÊîØÊåÅ‰ª•‰∏ãÊü•ËØ¢Ôºö 1&gt;db.users.find({&quot;address.state&quot;:&quot;California&quot;,&quot;address.city&quot;:&quot;Los Angeles&quot;}) ÂêåÊ†∑ÊîØÊåÅ‰ª•‰∏ãÊü•ËØ¢Ôºö 1&gt;db.users.find({&quot;address.city&quot;:&quot;Los Angeles&quot;,&quot;address.state&quot;:&quot;California&quot;,&quot;address.pincode&quot;:&quot;123&quot;}) ‰∫å‰∏â„ÄÅÁ¥¢ÂºïÈôêÂà∂ È¢ùÂ§ñÂºÄÈîÄ ÊØè‰∏™Á¥¢ÂºïÂç†ÊçÆ‰∏ÄÂÆöÁöÑÂ≠òÂÇ®Á©∫Èó¥ÔºåÂú®ËøõË°åÊèíÂÖ•ÔºåÊõ¥Êñ∞ÂíåÂà†Èô§Êìç‰ΩúÊó∂‰πüÈúÄË¶ÅÂØπÁ¥¢ÂºïËøõË°åÊìç‰Ωú„ÄÇÊâÄ‰ª•ÔºåÂ¶ÇÊûú‰Ω†ÂæàÂ∞ëÂØπÈõÜÂêàËøõË°åËØªÂèñÊìç‰ΩúÔºåÂª∫ËÆÆ‰∏ç‰ΩøÁî®Á¥¢Âºï„ÄÇ ÂÜÖÂ≠ò(RAM)‰ΩøÁî® Áî±‰∫éÁ¥¢ÂºïÊòØÂ≠òÂÇ®Âú®ÂÜÖÂ≠ò(RAM)‰∏≠,‰Ω†Â∫îËØ•Á°Æ‰øùËØ•Á¥¢ÂºïÁöÑÂ§ßÂ∞è‰∏çË∂ÖËøáÂÜÖÂ≠òÁöÑÈôêÂà∂„ÄÇ Â¶ÇÊûúÁ¥¢ÂºïÁöÑÂ§ßÂ∞èÂ§ß‰∫éÂÜÖÂ≠òÁöÑÈôêÂà∂ÔºåMongoDB‰ºöÂà†Èô§‰∏Ä‰∫õÁ¥¢ÂºïÔºåËøôÂ∞ÜÂØºËá¥ÊÄßËÉΩ‰∏ãÈôç„ÄÇ Êü•ËØ¢ÈôêÂà∂ Á¥¢Âºï‰∏çËÉΩË¢´‰ª•‰∏ãÁöÑÊü•ËØ¢‰ΩøÁî®Ôºö Ê≠£ÂàôË°®ËææÂºèÂèäÈùûÊìç‰ΩúÁ¨¶ÔºåÂ¶Ç $nin, $not, Á≠â„ÄÇ ÁÆóÊúØËøêÁÆóÁ¨¶ÔºåÂ¶Ç $mod, Á≠â„ÄÇ $where Â≠êÂè• ÊâÄ‰ª•ÔºåÊ£ÄÊµã‰Ω†ÁöÑËØ≠Âè•ÊòØÂê¶‰ΩøÁî®Á¥¢ÂºïÊòØ‰∏Ä‰∏™Â•ΩÁöÑ‰π†ÊÉØÔºåÂèØ‰ª•Áî®explainÊù•Êü•Áúã„ÄÇ Á¥¢ÂºïÈîÆÈôêÂà∂ ‰ªé2.6ÁâàÊú¨ÂºÄÂßãÔºåÂ¶ÇÊûúÁé∞ÊúâÁöÑÁ¥¢ÂºïÂ≠óÊÆµÁöÑÂÄºË∂ÖËøáÁ¥¢ÂºïÈîÆÁöÑÈôêÂà∂ÔºåMongoDB‰∏≠‰∏ç‰ºöÂàõÂª∫Á¥¢Âºï„ÄÇ ÊèíÂÖ•ÊñáÊ°£Ë∂ÖËøáÁ¥¢ÂºïÈîÆÈôêÂà∂ Â¶ÇÊûúÊñáÊ°£ÁöÑÁ¥¢ÂºïÂ≠óÊÆµÂÄºË∂ÖËøá‰∫ÜÁ¥¢ÂºïÈîÆÁöÑÈôêÂà∂ÔºåMongoDB‰∏ç‰ºöÂ∞Ü‰ªª‰ΩïÊñáÊ°£ËΩ¨Êç¢ÊàêÁ¥¢ÂºïÁöÑÈõÜÂêà„ÄÇ‰∏émongorestoreÂíåmongoimportÂ∑•ÂÖ∑Á±ª‰ºº„ÄÇ ÊúÄÂ§ßËåÉÂõ¥ ÈõÜÂêà‰∏≠Á¥¢Âºï‰∏çËÉΩË∂ÖËøá64‰∏™ Á¥¢ÂºïÂêçÁöÑÈïøÂ∫¶‰∏çËÉΩË∂ÖËøá128‰∏™Â≠óÁ¨¶ ‰∏Ä‰∏™Â§çÂêàÁ¥¢ÂºïÊúÄÂ§öÂèØ‰ª•Êúâ31‰∏™Â≠óÊÆµ ‰∫åÂõõ„ÄÅMongoDB ObjectId Âú®ÂâçÈù¢Âá†‰∏™Á´†ËäÇ‰∏≠Êàë‰ª¨Â∑≤Áªè‰ΩøÁî®‰∫ÜMongoDB ÁöÑÂØπË±° Id(ObjectId)„ÄÇ Âú®Êú¨Á´†ËäÇ‰∏≠ÔºåÊàë‰ª¨Â∞Ü‰∫ÜËß£ÁöÑObjectIdÁöÑÁªìÊûÑ„ÄÇ ObjectId ÊòØ‰∏Ä‰∏™12Â≠óËäÇ BSON Á±ªÂûãÊï∞ÊçÆÔºåÊúâ‰ª•‰∏ãÊ†ºÂºèÔºö Ââç4‰∏™Â≠óËäÇË°®Á§∫Êó∂Èó¥Êà≥ Êé•‰∏ãÊù•ÁöÑ3‰∏™Â≠óËäÇÊòØÊú∫Âô®Ê†áËØÜÁ†Å Á¥ßÊé•ÁöÑ‰∏§‰∏™Â≠óËäÇÁî±ËøõÁ®ãidÁªÑÊàêÔºàPIDÔºâ ÊúÄÂêé‰∏â‰∏™Â≠óËäÇÊòØÈöèÊú∫Êï∞„ÄÇ MongoDB‰∏≠Â≠òÂÇ®ÁöÑÊñáÊ°£ÂøÖÈ°ªÊúâ‰∏Ä‰∏™&quot;_id&quot;ÈîÆ„ÄÇËøô‰∏™ÈîÆÁöÑÂÄºÂèØ‰ª•ÊòØ‰ªª‰ΩïÁ±ªÂûãÁöÑÔºåÈªòËÆ§ÊòØ‰∏™ObjectIdÂØπË±°„ÄÇ Âú®‰∏Ä‰∏™ÈõÜÂêàÈáåÈù¢ÔºåÊØè‰∏™ÊñáÊ°£ÈÉΩÊúâÂîØ‰∏ÄÁöÑ&quot;_id&quot;ÂÄºÔºåÊù•Á°Æ‰øùÈõÜÂêàÈáåÈù¢ÊØè‰∏™ÊñáÊ°£ÈÉΩËÉΩË¢´ÂîØ‰∏ÄÊ†áËØÜ„ÄÇ MongoDBÈááÁî®ObjectIdÔºåËÄå‰∏çÊòØÂÖ∂‰ªñÊØîËæÉÂ∏∏ËßÑÁöÑÂÅöÊ≥ïÔºàÊØîÂ¶ÇËá™Âä®Â¢ûÂä†ÁöÑ‰∏ªÈîÆÔºâÁöÑ‰∏ªË¶ÅÂéüÂõ†ÔºåÂõ†‰∏∫Âú®Â§ö‰∏™ ÊúçÂä°Âô®‰∏äÂêåÊ≠•Ëá™Âä®Â¢ûÂä†‰∏ªÈîÆÂÄºÊó¢Ë¥πÂäõËøòË¥πÊó∂„ÄÇ ÂàõÂª∫Êñ∞ÁöÑObjectId ‰ΩøÁî®‰ª•‰∏ã‰ª£Á†ÅÁîüÊàêÊñ∞ÁöÑObjectIdÔºö 1&gt;newObjectId = ObjectId() ‰∏äÈù¢ÁöÑËØ≠Âè•ËøîÂõû‰ª•‰∏ãÂîØ‰∏ÄÁîüÊàêÁöÑidÔºö 1ObjectId(&quot;5349b4ddd2781d08c09890f3&quot;) ‰Ω†‰πüÂèØ‰ª•‰ΩøÁî®ÁîüÊàêÁöÑidÊù•Âèñ‰ª£MongoDBËá™Âä®ÁîüÊàêÁöÑObjectIdÔºö 1&gt;myObjectId = ObjectId(&quot;5349b4ddd2781d08c09890f4&quot;) ÂàõÂª∫ÊñáÊ°£ÁöÑÊó∂Èó¥Êà≥ Áî±‰∫é ObjectId ‰∏≠Â≠òÂÇ®‰∫Ü 4 ‰∏™Â≠óËäÇÁöÑÊó∂Èó¥Êà≥ÔºåÊâÄ‰ª•‰Ω†‰∏çÈúÄË¶Å‰∏∫‰Ω†ÁöÑÊñáÊ°£‰øùÂ≠òÊó∂Èó¥Êà≥Â≠óÊÆµÔºå‰Ω†ÂèØ‰ª•ÈÄöËøá getTimestamp ÂáΩÊï∞Êù•Ëé∑ÂèñÊñáÊ°£ÁöÑÂàõÂª∫Êó∂Èó¥: 1&gt;ObjectId(&quot;5349b4ddd2781d08c09890f4&quot;).getTimestamp() ‰ª•‰∏ä‰ª£Á†ÅÂ∞ÜËøîÂõû ISO Ê†ºÂºèÁöÑÊñáÊ°£ÂàõÂª∫Êó∂Èó¥Ôºö 1ISODate(&quot;2014-04-12T21:49:17Z&quot;) ObjectId ËΩ¨Êç¢‰∏∫Â≠óÁ¨¶‰∏≤ Âú®Êüê‰∫õÊÉÖÂÜµ‰∏ãÔºåÊÇ®ÂèØËÉΩÈúÄË¶ÅÂ∞ÜObjectIdËΩ¨Êç¢‰∏∫Â≠óÁ¨¶‰∏≤Ê†ºÂºè„ÄÇ‰Ω†ÂèØ‰ª•‰ΩøÁî®‰∏ãÈù¢ÁöÑ‰ª£Á†ÅÔºö 1&gt;new ObjectId().str ‰ª•‰∏ä‰ª£Á†ÅÂ∞ÜËøîÂõûGuidÊ†ºÂºèÁöÑÂ≠óÁ¨¶‰∏≤ÔºöÔºö 15349b4ddd2781d08c09890f3 ‰∫å‰∫î„ÄÅ Map Reduce Map-ReduceÊòØ‰∏ÄÁßçËÆ°ÁÆóÊ®°ÂûãÔºåÁÆÄÂçïÁöÑËØ¥Â∞±ÊòØÂ∞ÜÂ§ßÊâπÈáèÁöÑÂ∑•‰ΩúÔºàÊï∞ÊçÆÔºâÂàÜËß£ÔºàMAPÔºâÊâßË°åÔºåÁÑ∂ÂêéÂÜçÂ∞ÜÁªìÊûúÂêàÂπ∂ÊàêÊúÄÁªàÁªìÊûúÔºàREDUCEÔºâ„ÄÇ MongoDBÊèê‰æõÁöÑMap-ReduceÈùûÂ∏∏ÁÅµÊ¥ªÔºåÂØπ‰∫éÂ§ßËßÑÊ®°Êï∞ÊçÆÂàÜÊûê‰πüÁõ∏ÂΩìÂÆûÁî®„ÄÇ MapReduce ÂëΩ‰ª§ ‰ª•‰∏ãÊòØMapReduceÁöÑÂü∫Êú¨ËØ≠Ê≥ïÔºö 12345678910&gt;db.collection.mapReduce( function() {emit(key,value);}, //map ÂáΩÊï∞ function(key,values) {return reduceFunction}, //reduce ÂáΩÊï∞ { out: collection, query: document, sort: document, limit: number }) ‰ΩøÁî® MapReduce Ë¶ÅÂÆûÁé∞‰∏§‰∏™ÂáΩÊï∞ Map ÂáΩÊï∞Âíå Reduce ÂáΩÊï∞,Map ÂáΩÊï∞Ë∞ÉÁî® emit(key, value), ÈÅçÂéÜ collection ‰∏≠ÊâÄÊúâÁöÑËÆ∞ÂΩï, Â∞Ü key ‰∏é value ‰º†ÈÄíÁªô Reduce ÂáΩÊï∞ËøõË°åÂ§ÑÁêÜ„ÄÇ Map ÂáΩÊï∞ÂøÖÈ°ªË∞ÉÁî® emit(key, value) ËøîÂõûÈîÆÂÄºÂØπ„ÄÇ ÂèÇÊï∞ËØ¥Êòé: map ÔºöÊò†Â∞ÑÂáΩÊï∞ (ÁîüÊàêÈîÆÂÄºÂØπÂ∫èÂàó,‰Ωú‰∏∫ reduce ÂáΩÊï∞ÂèÇÊï∞)„ÄÇ reduce ÁªüËÆ°ÂáΩÊï∞ÔºåreduceÂáΩÊï∞ÁöÑ‰ªªÂä°Â∞±ÊòØÂ∞Ükey-valuesÂèòÊàêkey-valueÔºå‰πüÂ∞±ÊòØÊäävaluesÊï∞ÁªÑÂèòÊàê‰∏Ä‰∏™Âçï‰∏ÄÁöÑÂÄºvalue„ÄÇ„ÄÇ out ÁªüËÆ°ÁªìÊûúÂ≠òÊîæÈõÜÂêà (‰∏çÊåáÂÆöÂàô‰ΩøÁî®‰∏¥Êó∂ÈõÜÂêà,Âú®ÂÆ¢Êà∑Á´ØÊñ≠ÂºÄÂêéËá™Âä®Âà†Èô§)„ÄÇ query ‰∏Ä‰∏™Á≠õÈÄâÊù°‰ª∂ÔºåÂè™ÊúâÊª°Ë∂≥Êù°‰ª∂ÁöÑÊñáÊ°£Êâç‰ºöË∞ÉÁî®mapÂáΩÊï∞„ÄÇÔºàquery„ÄÇlimitÔºåsortÂèØ‰ª•ÈöèÊÑèÁªÑÂêàÔºâ sort ÂíålimitÁªìÂêàÁöÑsortÊéíÂ∫èÂèÇÊï∞Ôºà‰πüÊòØÂú®ÂèëÂæÄmapÂáΩÊï∞ÂâçÁªôÊñáÊ°£ÊéíÂ∫èÔºâÔºåÂèØ‰ª•‰ºòÂåñÂàÜÁªÑÊú∫Âà∂ limit ÂèëÂæÄmapÂáΩÊï∞ÁöÑÊñáÊ°£Êï∞ÈáèÁöÑ‰∏äÈôêÔºàË¶ÅÊòØÊ≤°ÊúâlimitÔºåÂçïÁã¨‰ΩøÁî®sortÁöÑÁî®Â§Ñ‰∏çÂ§ßÔºâ ‰ª•‰∏ãÂÆû‰æãÂú®ÈõÜÂêà orders ‰∏≠Êü•Êâæ status:&quot;A&quot; ÁöÑÊï∞ÊçÆÔºåÂπ∂Ê†πÊçÆ cust_id Êù•ÂàÜÁªÑÔºåÂπ∂ËÆ°ÁÆó amount ÁöÑÊÄªÂíå„ÄÇ ‰ΩøÁî® MapReduce ËÄÉËôë‰ª•‰∏ãÊñáÊ°£ÁªìÊûÑÂ≠òÂÇ®Áî®Êà∑ÁöÑÊñáÁ´†ÔºåÊñáÊ°£Â≠òÂÇ®‰∫ÜÁî®Êà∑ÁöÑ user_name ÂíåÊñáÁ´†ÁöÑ status Â≠óÊÆµÔºö 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748&gt;db.posts.insert({ &quot;post_text&quot;: &quot;ËèúÈ∏üÊïôÁ®ãÔºåÊúÄÂÖ®ÁöÑÊäÄÊúØÊñáÊ°£„ÄÇ&quot;, &quot;user_name&quot;: &quot;mark&quot;, &quot;status&quot;:&quot;active&quot;})WriteResult({ &quot;nInserted&quot; : 1 })&gt;db.posts.insert({ &quot;post_text&quot;: &quot;ËèúÈ∏üÊïôÁ®ãÔºåÊúÄÂÖ®ÁöÑÊäÄÊúØÊñáÊ°£„ÄÇ&quot;, &quot;user_name&quot;: &quot;mark&quot;, &quot;status&quot;:&quot;active&quot;})WriteResult({ &quot;nInserted&quot; : 1 })&gt;db.posts.insert({ &quot;post_text&quot;: &quot;ËèúÈ∏üÊïôÁ®ãÔºåÊúÄÂÖ®ÁöÑÊäÄÊúØÊñáÊ°£„ÄÇ&quot;, &quot;user_name&quot;: &quot;mark&quot;, &quot;status&quot;:&quot;active&quot;})WriteResult({ &quot;nInserted&quot; : 1 })&gt;db.posts.insert({ &quot;post_text&quot;: &quot;ËèúÈ∏üÊïôÁ®ãÔºåÊúÄÂÖ®ÁöÑÊäÄÊúØÊñáÊ°£„ÄÇ&quot;, &quot;user_name&quot;: &quot;mark&quot;, &quot;status&quot;:&quot;active&quot;})WriteResult({ &quot;nInserted&quot; : 1 })&gt;db.posts.insert({ &quot;post_text&quot;: &quot;ËèúÈ∏üÊïôÁ®ãÔºåÊúÄÂÖ®ÁöÑÊäÄÊúØÊñáÊ°£„ÄÇ&quot;, &quot;user_name&quot;: &quot;mark&quot;, &quot;status&quot;:&quot;disabled&quot;})WriteResult({ &quot;nInserted&quot; : 1 })&gt;db.posts.insert({ &quot;post_text&quot;: &quot;ËèúÈ∏üÊïôÁ®ãÔºåÊúÄÂÖ®ÁöÑÊäÄÊúØÊñáÊ°£„ÄÇ&quot;, &quot;user_name&quot;: &quot;runoob&quot;, &quot;status&quot;:&quot;disabled&quot;})WriteResult({ &quot;nInserted&quot; : 1 })&gt;db.posts.insert({ &quot;post_text&quot;: &quot;ËèúÈ∏üÊïôÁ®ãÔºåÊúÄÂÖ®ÁöÑÊäÄÊúØÊñáÊ°£„ÄÇ&quot;, &quot;user_name&quot;: &quot;runoob&quot;, &quot;status&quot;:&quot;disabled&quot;})WriteResult({ &quot;nInserted&quot; : 1 })&gt;db.posts.insert({ &quot;post_text&quot;: &quot;ËèúÈ∏üÊïôÁ®ãÔºåÊúÄÂÖ®ÁöÑÊäÄÊúØÊñáÊ°£„ÄÇ&quot;, &quot;user_name&quot;: &quot;runoob&quot;, &quot;status&quot;:&quot;active&quot;})WriteResult({ &quot;nInserted&quot; : 1 }) Áé∞Âú®ÔºåÊàë‰ª¨Â∞ÜÂú® posts ÈõÜÂêà‰∏≠‰ΩøÁî® mapReduce ÂáΩÊï∞Êù•ÈÄâÂèñÂ∑≤ÂèëÂ∏ÉÁöÑÊñáÁ´†(status:&quot;active&quot;)ÔºåÂπ∂ÈÄöËøáuser_nameÂàÜÁªÑÔºåËÆ°ÁÆóÊØè‰∏™Áî®Êà∑ÁöÑÊñáÁ´†Êï∞Ôºö 12345678&gt;db.posts.mapReduce( function() { emit(this.user_name,1); }, function(key, values) {return Array.sum(values)}, { query:{status:&quot;active&quot;}, out:&quot;post_total&quot; }) ‰ª•‰∏ä mapReduce ËæìÂá∫ÁªìÊûú‰∏∫Ôºö 1234567891011{ &quot;result&quot; : &quot;post_total&quot;, &quot;timeMillis&quot; : 23, &quot;counts&quot; : { &quot;input&quot; : 5, &quot;emit&quot; : 5, &quot;reduce&quot; : 1, &quot;output&quot; : 2 }, &quot;ok&quot; : 1} ÁªìÊûúË°®ÊòéÔºåÂÖ±Êúâ 5 ‰∏™Á¨¶ÂêàÊü•ËØ¢Êù°‰ª∂Ôºàstatus:&quot;active&quot;ÔºâÁöÑÊñáÊ°£Ôºå Âú®mapÂáΩÊï∞‰∏≠ÁîüÊàê‰∫Ü 5 ‰∏™ÈîÆÂÄºÂØπÊñáÊ°£ÔºåÊúÄÂêé‰ΩøÁî®reduceÂáΩÊï∞Â∞ÜÁõ∏ÂêåÁöÑÈîÆÂÄºÂàÜ‰∏∫ 2 ÁªÑ„ÄÇ ÂÖ∑‰ΩìÂèÇÊï∞ËØ¥ÊòéÔºö resultÔºöÂÇ®Â≠òÁªìÊûúÁöÑcollectionÁöÑÂêçÂ≠ó,ËøôÊòØ‰∏™‰∏¥Êó∂ÈõÜÂêàÔºåMapReduceÁöÑËøûÊé•ÂÖ≥Èó≠ÂêéËá™Âä®Â∞±Ë¢´Âà†Èô§‰∫Ü„ÄÇ timeMillisÔºöÊâßË°åËä±Ë¥πÁöÑÊó∂Èó¥ÔºåÊØ´Áßí‰∏∫Âçï‰Ωç inputÔºöÊª°Ë∂≥Êù°‰ª∂Ë¢´ÂèëÈÄÅÂà∞mapÂáΩÊï∞ÁöÑÊñáÊ°£‰∏™Êï∞ emitÔºöÂú®mapÂáΩÊï∞‰∏≠emitË¢´Ë∞ÉÁî®ÁöÑÊ¨°Êï∞Ôºå‰πüÂ∞±ÊòØÊâÄÊúâÈõÜÂêà‰∏≠ÁöÑÊï∞ÊçÆÊÄªÈáè ouputÔºöÁªìÊûúÈõÜÂêà‰∏≠ÁöÑÊñáÊ°£‰∏™Êï∞**ÔºàcountÂØπË∞ÉËØïÈùûÂ∏∏ÊúâÂ∏ÆÂä©Ôºâ** okÔºöÊòØÂê¶ÊàêÂäüÔºåÊàêÂäü‰∏∫1 errÔºöÂ¶ÇÊûúÂ§±Ë¥•ÔºåËøôÈáåÂèØ‰ª•ÊúâÂ§±Ë¥•ÂéüÂõ†Ôºå‰∏çËøá‰ªéÁªèÈ™å‰∏äÊù•ÁúãÔºåÂéüÂõ†ÊØîËæÉÊ®°Á≥äÔºå‰ΩúÁî®‰∏çÂ§ß ‰ΩøÁî® find Êìç‰ΩúÁ¨¶Êù•Êü•Áúã mapReduce ÁöÑÊü•ËØ¢ÁªìÊûúÔºö 12345678&gt;db.posts.mapReduce( function() { emit(this.user_name,1); }, function(key, values) {return Array.sum(values)}, { query:{status:&quot;active&quot;}, out:&quot;post_total&quot; }).find() ‰ª•‰∏äÊü•ËØ¢ÊòæÁ§∫Â¶Ç‰∏ãÁªìÊûú: 12{ &quot;_id&quot; : &quot;mark&quot;, &quot;value&quot; : 4 }{ &quot;_id&quot; : &quot;runoob&quot;, &quot;value&quot; : 1 } Áî®Á±ª‰ººÁöÑÊñπÂºèÔºåMapReduceÂèØ‰ª•Ë¢´Áî®Êù•ÊûÑÂª∫Â§ßÂûãÂ§çÊùÇÁöÑËÅöÂêàÊü•ËØ¢„ÄÇ MapÂáΩÊï∞ÂíåReduceÂáΩÊï∞ÂèØ‰ª•‰ΩøÁî® JavaScript Êù•ÂÆûÁé∞Ôºå‰ΩøÂæóMapReduceÁöÑ‰ΩøÁî®ÈùûÂ∏∏ÁÅµÊ¥ªÂíåÂº∫Â§ß„ÄÇ ‰∫åÂÖ≠„ÄÅÂÖ®ÊñáÊ£ÄÁ¥¢ ÂÖ®ÊñáÊ£ÄÁ¥¢ÂØπÊØè‰∏Ä‰∏™ËØçÂª∫Á´ã‰∏Ä‰∏™Á¥¢ÂºïÔºåÊåáÊòéËØ•ËØçÂú®ÊñáÁ´†‰∏≠Âá∫Áé∞ÁöÑÊ¨°Êï∞Âíå‰ΩçÁΩÆÔºåÂΩìÁî®Êà∑Êü•ËØ¢Êó∂ÔºåÊ£ÄÁ¥¢Á®ãÂ∫èÂ∞±Ê†πÊçÆ‰∫ãÂÖàÂª∫Á´ãÁöÑÁ¥¢ÂºïËøõË°åÊü•ÊâæÔºåÂπ∂Â∞ÜÊü•ÊâæÁöÑÁªìÊûúÂèçÈ¶àÁªôÁî®Êà∑ÁöÑÊ£ÄÁ¥¢ÊñπÂºè„ÄÇ Ëøô‰∏™ËøáÁ®ãÁ±ª‰ºº‰∫éÈÄöËøáÂ≠óÂÖ∏‰∏≠ÁöÑÊ£ÄÁ¥¢Â≠óË°®Êü•Â≠óÁöÑËøáÁ®ã„ÄÇ MongoDB ‰ªé 2.4 ÁâàÊú¨ÂºÄÂßãÊîØÊåÅÂÖ®ÊñáÊ£ÄÁ¥¢ÔºåÁõÆÂâçÊîØÊåÅ15ÁßçËØ≠Ë®ÄÁöÑÂÖ®ÊñáÁ¥¢Âºï„ÄÇ danish dutch english finnish french german hungarian italian norwegian portuguese romanian russian spanish swedish turkish ÂêØÁî®ÂÖ®ÊñáÊ£ÄÁ¥¢ MongoDB Âú® 2.6 ÁâàÊú¨‰ª•ÂêéÊòØÈªòËÆ§ÂºÄÂêØÂÖ®ÊñáÊ£ÄÁ¥¢ÁöÑÔºåÂ¶ÇÊûú‰Ω†‰ΩøÁî®‰πãÂâçÁöÑÁâàÊú¨Ôºå‰Ω†ÈúÄË¶Å‰ΩøÁî®‰ª•‰∏ã‰ª£Á†ÅÊù•ÂêØÁî®ÂÖ®ÊñáÊ£ÄÁ¥¢: 1&gt;db.adminCommand({setParameter:true,textSearchEnabled:true}) ÊàñËÄÖ‰ΩøÁî®ÂëΩ‰ª§Ôºö 1mongod --setParameter textSearchEnabled=true ÂàõÂª∫ÂÖ®ÊñáÁ¥¢Âºï ËÄÉËôë‰ª•‰∏ã posts ÈõÜÂêàÁöÑÊñáÊ°£Êï∞ÊçÆÔºåÂåÖÂê´‰∫ÜÊñáÁ´†ÂÜÖÂÆπÔºàpost_textÔºâÂèäÊ†áÁ≠æ(tags)Ôºö 1234567{ &quot;post_text&quot;: &quot;enjoy the mongodb articles on Runoob&quot;, &quot;tags&quot;: [ &quot;mongodb&quot;, &quot;runoob&quot; ]} Êàë‰ª¨ÂèØ‰ª•ÂØπ post_text Â≠óÊÆµÂª∫Á´ãÂÖ®ÊñáÁ¥¢ÂºïÔºåËøôÊ†∑Êàë‰ª¨ÂèØ‰ª•ÊêúÁ¥¢ÊñáÁ´†ÂÜÖÁöÑÂÜÖÂÆπÔºö 1&gt;db.posts.ensureIndex({post_text:&quot;text&quot;}) ‰ΩøÁî®ÂÖ®ÊñáÁ¥¢Âºï Áé∞Âú®Êàë‰ª¨Â∑≤ÁªèÂØπ post_text Âª∫Á´ã‰∫ÜÂÖ®ÊñáÁ¥¢ÂºïÔºåÊàë‰ª¨ÂèØ‰ª•ÊêúÁ¥¢ÊñáÁ´†‰∏≠ÁöÑÂÖ≥ÈîÆËØç runoobÔºö 1&gt;db.posts.find({$text:{$search:&quot;runoob&quot;}}) ‰ª•‰∏ãÂëΩ‰ª§ËøîÂõû‰∫ÜÂ¶Ç‰∏ãÂåÖÂê´ runoob ÂÖ≥ÈîÆËØçÁöÑÊñáÊ°£Êï∞ÊçÆÔºö 12345{ &quot;_id&quot; : ObjectId(&quot;53493d14d852429c10000002&quot;), &quot;post_text&quot; : &quot;enjoy the mongodb articles on Runoob&quot;, &quot;tags&quot; : [ &quot;mongodb&quot;, &quot;runoob&quot; ]} Â¶ÇÊûú‰Ω†‰ΩøÁî®ÁöÑÊòØÊóßÁâàÊú¨ÁöÑ MongoDBÔºå‰Ω†ÂèØ‰ª•‰ΩøÁî®‰ª•‰∏ãÂëΩ‰ª§Ôºö 1&gt;db.posts.runCommand(&quot;text&quot;,{search:&quot;runoob&quot;}) ‰ΩøÁî®ÂÖ®ÊñáÁ¥¢ÂºïÂèØ‰ª•ÊèêÈ´òÊêúÁ¥¢ÊïàÁéá„ÄÇ Âà†Èô§ÂÖ®ÊñáÁ¥¢Âºï Âà†Èô§Â∑≤Â≠òÂú®ÁöÑÂÖ®ÊñáÁ¥¢ÂºïÔºåÂèØ‰ª•‰ΩøÁî® find ÂëΩ‰ª§Êü•ÊâæÁ¥¢ÂºïÂêçÔºö 1&gt;db.posts.getIndexes() ÈÄöËøá‰ª•‰∏äÂëΩ‰ª§Ëé∑ÂèñÁ¥¢ÂºïÂêçÔºåÊú¨‰æãÁöÑÁ¥¢ÂºïÂêç‰∏∫post_text_textÔºåÊâßË°å‰ª•‰∏ãÂëΩ‰ª§Êù•Âà†Èô§Á¥¢ÂºïÔºö 1&gt;db.posts.dropIndex(&quot;post_text_text&quot;) ‰∫å‰∏É„ÄÅÊ≠£ÂàôË°®ËææÂºè Ê≠£ÂàôË°®ËææÂºèÊòØ‰ΩøÁî®Âçï‰∏™Â≠óÁ¨¶‰∏≤Êù•ÊèèËø∞„ÄÅÂåπÈÖç‰∏ÄÁ≥ªÂàóÁ¨¶ÂêàÊüê‰∏™Âè•Ê≥ïËßÑÂàôÁöÑÂ≠óÁ¨¶‰∏≤„ÄÇ ËÆ∏Â§öÁ®ãÂ∫èËÆæËÆ°ËØ≠Ë®ÄÈÉΩÊîØÊåÅÂà©Áî®Ê≠£ÂàôË°®ËææÂºèËøõË°åÂ≠óÁ¨¶‰∏≤Êìç‰Ωú„ÄÇ MongoDB ‰ΩøÁî® $regex Êìç‰ΩúÁ¨¶Êù•ËÆæÁΩÆÂåπÈÖçÂ≠óÁ¨¶‰∏≤ÁöÑÊ≠£ÂàôË°®ËææÂºè„ÄÇ MongoDB‰ΩøÁî®PCRE (Perl Compatible Regular Expression) ‰Ωú‰∏∫Ê≠£ÂàôË°®ËææÂºèËØ≠Ë®Ä„ÄÇ ‰∏çÂêå‰∫éÂÖ®ÊñáÊ£ÄÁ¥¢ÔºåÊàë‰ª¨‰ΩøÁî®Ê≠£ÂàôË°®ËææÂºè‰∏çÈúÄË¶ÅÂÅö‰ªª‰ΩïÈÖçÁΩÆ„ÄÇ ËÄÉËôë‰ª•‰∏ã posts ÈõÜÂêàÁöÑÊñáÊ°£ÁªìÊûÑÔºåËØ•ÊñáÊ°£ÂåÖÂê´‰∫ÜÊñáÁ´†ÂÜÖÂÆπÂíåÊ†áÁ≠æÔºö 1234567{ &quot;post_text&quot;: &quot;enjoy the mongodb articles on runoob&quot;, &quot;tags&quot;: [ &quot;mongodb&quot;, &quot;runoob&quot; ]} ‰ΩøÁî®Ê≠£ÂàôË°®ËææÂºè ‰ª•‰∏ãÂëΩ‰ª§‰ΩøÁî®Ê≠£ÂàôË°®ËææÂºèÊü•ÊâæÂåÖÂê´ runoob Â≠óÁ¨¶‰∏≤ÁöÑÊñáÁ´†Ôºö 1&gt;db.posts.find({post_text:{$regex:&quot;runoob&quot;}}) ‰ª•‰∏äÊü•ËØ¢‰πüÂèØ‰ª•ÂÜô‰∏∫Ôºö 1&gt;db.posts.find({post_text:/runoob/}) ‰∏çÂå∫ÂàÜÂ§ßÂ∞èÂÜôÁöÑÊ≠£ÂàôË°®ËææÂºè Â¶ÇÊûúÊ£ÄÁ¥¢ÈúÄË¶Å‰∏çÂå∫ÂàÜÂ§ßÂ∞èÂÜôÔºåÊàë‰ª¨ÂèØ‰ª•ËÆæÁΩÆ $options ‰∏∫ $i„ÄÇ ‰ª•‰∏ãÂëΩ‰ª§Â∞ÜÊü•Êâæ‰∏çÂå∫ÂàÜÂ§ßÂ∞èÂÜôÁöÑÂ≠óÁ¨¶‰∏≤ runoobÔºö 1&gt;db.posts.find({post_text:{$regex:&quot;runoob&quot;,$options:&quot;$i&quot;}}) ÈõÜÂêà‰∏≠‰ºöËøîÂõûÊâÄÊúâÂåÖÂê´Â≠óÁ¨¶‰∏≤ runoob ÁöÑÊï∞ÊçÆÔºå‰∏î‰∏çÂå∫ÂàÜÂ§ßÂ∞èÂÜôÔºö 12345{ &quot;_id&quot; : ObjectId(&quot;53493d37d852429c10000004&quot;), &quot;post_text&quot; : &quot;hey! this is my post on runoob&quot;, &quot;tags&quot; : [ &quot;runoob&quot; ]} Êï∞ÁªÑÂÖÉÁ¥†‰ΩøÁî®Ê≠£ÂàôË°®ËææÂºè Êàë‰ª¨ËøòÂèØ‰ª•Âú®Êï∞ÁªÑÂ≠óÊÆµ‰∏≠‰ΩøÁî®Ê≠£ÂàôË°®ËææÂºèÊù•Êü•ÊâæÂÜÖÂÆπ„ÄÇ ËøôÂú®Ê†áÁ≠æÁöÑÂÆûÁé∞‰∏äÈùûÂ∏∏ÊúâÁî®ÔºåÂ¶ÇÊûú‰Ω†ÈúÄË¶ÅÊü•ÊâæÂåÖÂê´‰ª• run ÂºÄÂ§¥ÁöÑÊ†áÁ≠æÊï∞ÊçÆ(ru Êàñ run Êàñ runoob)Ôºå ‰Ω†ÂèØ‰ª•‰ΩøÁî®‰ª•‰∏ã‰ª£Á†ÅÔºö 1&gt;db.posts.find({tags:{$regex:&quot;run&quot;}}) ‰ºòÂåñÊ≠£ÂàôË°®ËææÂºèÊü•ËØ¢ Â¶ÇÊûú‰Ω†ÁöÑÊñáÊ°£‰∏≠Â≠óÊÆµËÆæÁΩÆ‰∫ÜÁ¥¢ÂºïÔºåÈÇ£‰πà‰ΩøÁî®Á¥¢ÂºïÁõ∏ÊØî‰∫éÊ≠£ÂàôË°®ËææÂºèÂåπÈÖçÊü•ÊâæÊâÄÊúâÁöÑÊï∞ÊçÆÊü•ËØ¢ÈÄüÂ∫¶Êõ¥Âø´„ÄÇ Â¶ÇÊûúÊ≠£ÂàôË°®ËææÂºèÊòØÂâçÁºÄË°®ËææÂºèÔºåÊâÄÊúâÂåπÈÖçÁöÑÊï∞ÊçÆÂ∞Ü‰ª•ÊåáÂÆöÁöÑÂâçÁºÄÂ≠óÁ¨¶‰∏≤‰∏∫ÂºÄÂßã„ÄÇ‰æãÂ¶ÇÔºö Â¶ÇÊûúÊ≠£ÂàôË°®ËææÂºè‰∏∫ ^tut ÔºåÊü•ËØ¢ËØ≠Âè•Â∞ÜÊü•Êâæ‰ª• tut ‰∏∫ÂºÄÂ§¥ÁöÑÂ≠óÁ¨¶‰∏≤„ÄÇ ËøôÈáåÈù¢‰ΩøÁî®Ê≠£ÂàôË°®ËææÂºèÊúâ‰∏§ÁÇπÈúÄË¶ÅÊ≥®ÊÑèÔºö Ê≠£ÂàôË°®ËææÂºè‰∏≠‰ΩøÁî®ÂèòÈáè„ÄÇ‰∏ÄÂÆöË¶Å‰ΩøÁî®evalÂ∞ÜÁªÑÂêàÁöÑÂ≠óÁ¨¶‰∏≤ËøõË°åËΩ¨Êç¢Ôºå‰∏çËÉΩÁõ¥Êé•Â∞ÜÂ≠óÁ¨¶‰∏≤ÊãºÊé•Âêé‰º†ÂÖ•ÁªôË°®ËææÂºè„ÄÇÂê¶ÂàôÊ≤°ÊúâÊä•Èîô‰ø°ÊÅØÔºåÂè™ÊòØÁªìÊûú‰∏∫Á©∫ÔºÅÂÆû‰æãÂ¶Ç‰∏ãÔºö 1var name=eval(&quot;/&quot; + ÂèòÈáèÂÄºkey +&quot;/i&quot;); ‰ª•‰∏ãÊòØÊ®°Á≥äÊü•ËØ¢ÂåÖÂê´titleÂÖ≥ÈîÆËØç, ‰∏î‰∏çÂå∫ÂàÜÂ§ßÂ∞èÂÜô: 1title:eval(&quot;/&quot;+title+&quot;/i&quot;) // Á≠âÂêå‰∫é title:{$regex:title,$Option:&quot;$i&quot;} ‰∫åÂÖ´„ÄÅÁÆ°ÁêÜÂ∑•ÂÖ∑: Rockmongo RockMongoÊòØPHP5ÂÜôÁöÑ‰∏Ä‰∏™MongoDBÁÆ°ÁêÜÂ∑•ÂÖ∑„ÄÇ ÈÄöËøá Rockmongo ‰Ω†ÂèØ‰ª•ÁÆ°ÁêÜ MongoDBÊúçÂä°ÔºåÊï∞ÊçÆÂ∫ìÔºåÈõÜÂêàÔºåÊñáÊ°£ÔºåÁ¥¢ÂºïÁ≠âÁ≠â„ÄÇ ÂÆÉÊèê‰æõ‰∫ÜÈùûÂ∏∏‰∫∫ÊÄßÂåñÁöÑÊìç‰Ωú„ÄÇÁ±ª‰ºº phpMyAdminÔºàPHPÂºÄÂèëÁöÑMySqlÁÆ°ÁêÜÂ∑•ÂÖ∑Ôºâ„ÄÇ Rockmongo ‰∏ãËΩΩÂú∞ÂùÄÔºöhttps://github.com/iwind/rockmongo ÁÆÄ‰ªã ‰∏ªË¶ÅÁâπÂæÅÔºö ‰ΩøÁî®ÂÆΩÊùæÁöÑNew BSD LicenseÂçèËÆÆ ÈÄüÂ∫¶Âø´ÔºåÂÆâË£ÖÁÆÄÂçï ÊîØÊåÅÂ§öËØ≠Ë®ÄÔºàÁõÆÂâçÊèê‰æõ‰∏≠Êñá„ÄÅËã±Êñá„ÄÅÊó•Êñá„ÄÅÂ∑¥Ë•øËë°ËêÑÁâôËØ≠„ÄÅÊ≥ïËØ≠„ÄÅÂæ∑ËØ≠„ÄÅ‰øÑËØ≠„ÄÅÊÑèÂ§ßÂà©ËØ≠Ôºâ Á≥ªÁªü ÂèØ‰ª•ÈÖçÁΩÆÂ§ö‰∏™‰∏ªÊú∫ÔºåÊØè‰∏™‰∏ªÊú∫ÂèØ‰ª•ÊúâÂ§ö‰∏™ÁÆ°ÁêÜÂëò ÈúÄË¶ÅÁÆ°ÁêÜÂëòÂØÜÁ†ÅÊâçËÉΩÁôªÂÖ•Êìç‰ΩúÔºåÁ°Æ‰øùÊï∞ÊçÆÂ∫ìÁöÑÂÆâÂÖ®ÊÄß ÊúçÂä°Âô® ÊúçÂä°Âô®‰ø°ÊÅØ (WEBÊúçÂä°Âô®, PHP, PHP.iniÁõ∏ÂÖ≥Êåá‰ª§ ...) Áä∂ÊÄÅ Êï∞ÊçÆÂ∫ì‰ø°ÊÅØ Êï∞ÊçÆÂ∫ì Êü•ËØ¢ÔºåÂàõÂª∫ÂíåÂà†Èô§ ÊâßË°åÂëΩ‰ª§ÂíåJavascript‰ª£Á†Å ÁªüËÆ°‰ø°ÊÅØ ÈõÜÂêàÔºàÁõ∏ÂΩì‰∫éË°®Ôºâ Âº∫Â§ßÁöÑÊü•ËØ¢Â∑•ÂÖ∑ ËØªÊï∞ÊçÆÔºåÂÜôÊï∞ÊçÆÔºåÊõ¥ÊîπÊï∞ÊçÆÔºåÂ§çÂà∂Êï∞ÊçÆÔºåÂà†Èô§Êï∞ÊçÆ Êü•ËØ¢„ÄÅÂàõÂª∫ÂíåÂà†Èô§Á¥¢Âºï Ê∏ÖÁ©∫Êï∞ÊçÆ ÊâπÈáèÂà†Èô§ÂíåÊõ¥ÊîπÊï∞ÊçÆ ÁªüËÆ°‰ø°ÊÅØ GridFS Êü•ÁúãÂàÜÂùó ‰∏ãËΩΩÊñá‰ª∂ ÂÆâË£Ö ÈúÄÊ±Ç ‰∏Ä‰∏™ËÉΩËøêË°åPHPÁöÑWebÊúçÂä°Âô®ÔºåÊØîÂ¶ÇApache Httpd, Nginx ... PHP - ÈúÄË¶ÅPHP v5.1.6ÊàñÊõ¥È´òÁâàÊú¨ÔºåÈúÄË¶ÅÊîØÊåÅSESSION ‰∏∫‰∫ÜËÉΩËøûÊé•MongoDBÔºå‰Ω†ÈúÄË¶ÅÂÆâË£Öphp_mongoÊâ©Â±ï Âø´ÈÄüÂÆâË£Ö ‰∏ãËΩΩÂÆâË£ÖÂåÖ Ëß£ÂéãÂà∞‰Ω†ÁöÑÁΩëÁ´ôÁõÆÂΩï‰∏ã Áî®ÁºñËæëÂô®ÊâìÂºÄconfig.phpÔºå‰øÆÊîπhost, port, adminsÁ≠âÂèÇÊï∞ Âú®ÊµèËßàÂô®‰∏≠ËÆøÈóÆindex.phpÔºåÊØîÂ¶ÇËØ¥Ôºöhttp://localhost/rockmongo/index.php ‰ΩøÁî®Áî®Êà∑ÂêçÂíåÂØÜÁ†ÅÁôªÂΩïÔºåÈªòËÆ§‰∏∫&quot;admin&quot;Âíå&quot;admin&quot; ÂºÄÂßãÁé©ËΩ¨MongoDB! ‰∫å‰πù„ÄÅGridFS GridFS Áî®‰∫éÂ≠òÂÇ®ÂíåÊÅ¢Â§çÈÇ£‰∫õË∂ÖËøá16MÔºàBSONÊñá‰ª∂ÈôêÂà∂ÔºâÁöÑÊñá‰ª∂(Â¶ÇÔºöÂõæÁâá„ÄÅÈü≥È¢ë„ÄÅËßÜÈ¢ëÁ≠â)„ÄÇ GridFS ‰πüÊòØÊñá‰ª∂Â≠òÂÇ®ÁöÑ‰∏ÄÁßçÊñπÂºèÔºå‰ΩÜÊòØÂÆÉÊòØÂ≠òÂÇ®Âú®MonoDBÁöÑÈõÜÂêà‰∏≠„ÄÇ GridFS ÂèØ‰ª•Êõ¥Â•ΩÁöÑÂ≠òÂÇ®Â§ß‰∫é16MÁöÑÊñá‰ª∂„ÄÇ GridFS ‰ºöÂ∞ÜÂ§ßÊñá‰ª∂ÂØπË±°ÂàÜÂâ≤ÊàêÂ§ö‰∏™Â∞èÁöÑchunk(Êñá‰ª∂ÁâáÊÆµ),‰∏ÄËà¨‰∏∫256k/‰∏™,ÊØè‰∏™chunkÂ∞Ü‰Ωú‰∏∫MongoDBÁöÑ‰∏Ä‰∏™ÊñáÊ°£(document)Ë¢´Â≠òÂÇ®Âú®chunksÈõÜÂêà‰∏≠„ÄÇ GridFS Áî®‰∏§‰∏™ÈõÜÂêàÊù•Â≠òÂÇ®‰∏Ä‰∏™Êñá‰ª∂Ôºöfs.files‰∏éfs.chunks„ÄÇ ÊØè‰∏™Êñá‰ª∂ÁöÑÂÆûÈôÖÂÜÖÂÆπË¢´Â≠òÂú®chunks(‰∫åËøõÂà∂Êï∞ÊçÆ)‰∏≠,ÂíåÊñá‰ª∂ÊúâÂÖ≥ÁöÑmetaÊï∞ÊçÆ(filename,content_type,ËøòÊúâÁî®Êà∑Ëá™ÂÆö‰πâÁöÑÂ±ûÊÄß)Â∞Ü‰ºöË¢´Â≠òÂú®filesÈõÜÂêà‰∏≠„ÄÇ ‰ª•‰∏ãÊòØÁÆÄÂçïÁöÑ fs.files ÈõÜÂêàÊñáÊ°£Ôºö 1234567{ &quot;filename&quot;: &quot;test.txt&quot;, &quot;chunkSize&quot;: NumberInt(261120), &quot;uploadDate&quot;: ISODate(&quot;2014-04-13T11:32:33.557Z&quot;), &quot;md5&quot;: &quot;7b762939321e146569b07f72c62cca4f&quot;, &quot;length&quot;: NumberInt(646)} ‰ª•‰∏ãÊòØÁÆÄÂçïÁöÑ fs.chunks ÈõÜÂêàÊñáÊ°£Ôºö 12345{ &quot;files_id&quot;: ObjectId(&quot;534a75d19f54bfec8a2fe44b&quot;), &quot;n&quot;: NumberInt(0), &quot;data&quot;: &quot;Mongo Binary Data&quot;} GridFS Ê∑ªÂä†Êñá‰ª∂ Áé∞Âú®Êàë‰ª¨‰ΩøÁî® GridFS ÁöÑ put ÂëΩ‰ª§Êù•Â≠òÂÇ® mp3 Êñá‰ª∂„ÄÇ Ë∞ÉÁî® MongoDB ÂÆâË£ÖÁõÆÂΩï‰∏ãbinÁöÑ mongofiles.exeÂ∑•ÂÖ∑„ÄÇ ÊâìÂºÄÂëΩ‰ª§ÊèêÁ§∫Á¨¶ÔºåËøõÂÖ•Âà∞MongoDBÁöÑÂÆâË£ÖÁõÆÂΩïÁöÑbinÁõÆÂΩï‰∏≠ÔºåÊâæÂà∞mongofiles.exeÔºåÂπ∂ËæìÂÖ•‰∏ãÈù¢ÁöÑ‰ª£Á†ÅÔºö 1&gt;mongofiles.exe -d gridfs put song.mp3 -d gridfs ÊåáÂÆöÂ≠òÂÇ®Êñá‰ª∂ÁöÑÊï∞ÊçÆÂ∫ìÂêçÁß∞ÔºåÂ¶ÇÊûú‰∏çÂ≠òÂú®ËØ•Êï∞ÊçÆÂ∫ìÔºåMongoDB‰ºöËá™Âä®ÂàõÂª∫„ÄÇÂ¶ÇÊûú‰∏çÂ≠òÂú®ËØ•Êï∞ÊçÆÂ∫ìÔºåMongoDB‰ºöËá™Âä®ÂàõÂª∫„ÄÇSong.mp3 ÊòØÈü≥È¢ëÊñá‰ª∂Âêç„ÄÇ ‰ΩøÁî®‰ª•‰∏ãÂëΩ‰ª§Êù•Êü•ÁúãÊï∞ÊçÆÂ∫ì‰∏≠Êñá‰ª∂ÁöÑÊñáÊ°£Ôºö 1&gt;db.fs.files.find() ‰ª•‰∏äÂëΩ‰ª§ÊâßË°åÂêéËøîÂõû‰ª•‰∏ãÊñáÊ°£Êï∞ÊçÆÔºö 1234567{ _id: ObjectId('534a811bf8b4aa4d33fdf94d'), filename: &quot;song.mp3&quot;, chunkSize: 261120, uploadDate: new Date(1397391643474), md5: &quot;e4f53379c909f7bed2e9d631e15c1c41&quot;, length: 10401959 } Êàë‰ª¨ÂèØ‰ª•ÁúãÂà∞ fs.chunks ÈõÜÂêà‰∏≠ÊâÄÊúâÁöÑÂå∫ÂùóÔºå‰ª•‰∏ãÊàë‰ª¨ÂæóÂà∞‰∫ÜÊñá‰ª∂ÁöÑ _id ÂÄºÔºåÊàë‰ª¨ÂèØ‰ª•Ê†πÊçÆËøô‰∏™ _id Ëé∑ÂèñÂå∫Âùó(chunk)ÁöÑÊï∞ÊçÆÔºö 1&gt;db.fs.chunks.find({files_id:ObjectId('534a811bf8b4aa4d33fdf94d')}) ‰ª•‰∏äÂÆû‰æã‰∏≠ÔºåÊü•ËØ¢ËøîÂõû‰∫Ü 40 ‰∏™ÊñáÊ°£ÁöÑÊï∞ÊçÆÔºåÊÑèÂë≥ÁùÄmp3Êñá‰ª∂Ë¢´Â≠òÂÇ®Âú®40‰∏™Âå∫Âùó‰∏≠„ÄÇ ‰∏âÂçÅ„ÄÅÂõ∫ÂÆöÈõÜÂêàÔºàCapped CollectionsÔºâ MongoDB Âõ∫ÂÆöÈõÜÂêàÔºàCapped CollectionsÔºâÊòØÊÄßËÉΩÂá∫Ëâ≤‰∏îÊúâÁùÄÂõ∫ÂÆöÂ§ßÂ∞èÁöÑÈõÜÂêàÔºåÂØπ‰∫éÂ§ßÂ∞èÂõ∫ÂÆöÔºåÊàë‰ª¨ÂèØ‰ª•ÊÉ≥Ë±°ÂÖ∂Â∞±ÂÉè‰∏Ä‰∏™ÁéØÂΩ¢ÈòüÂàóÔºåÂΩìÈõÜÂêàÁ©∫Èó¥Áî®ÂÆåÂêéÔºåÂÜçÊèíÂÖ•ÁöÑÂÖÉÁ¥†Â∞±‰ºöË¶ÜÁõñÊúÄÂàùÂßãÁöÑÂ§¥ÈÉ®ÁöÑÂÖÉÁ¥†ÔºÅ ÂàõÂª∫Âõ∫ÂÆöÈõÜÂêà Êàë‰ª¨ÈÄöËøácreateCollectionÊù•ÂàõÂª∫‰∏Ä‰∏™Âõ∫ÂÆöÈõÜÂêàÔºå‰∏îcappedÈÄâÈ°πËÆæÁΩÆ‰∏∫trueÔºö 1&gt;db.createCollection(&quot;cappedLogCollection&quot;,{capped:true,size:10000}) ËøòÂèØ‰ª•ÊåáÂÆöÊñáÊ°£‰∏™Êï∞,Âä†‰∏ämax:1000Â±ûÊÄßÔºö 1&gt;db.createCollection(&quot;cappedLogCollection&quot;,{capped:true,size:10000,max:1000}) Âà§Êñ≠ÈõÜÂêàÊòØÂê¶‰∏∫Âõ∫ÂÆöÈõÜÂêà: 1&gt;db.cappedLogCollection.isCapped() Â¶ÇÊûúÈúÄË¶ÅÂ∞ÜÂ∑≤Â≠òÂú®ÁöÑÈõÜÂêàËΩ¨Êç¢‰∏∫Âõ∫ÂÆöÈõÜÂêàÂèØ‰ª•‰ΩøÁî®‰ª•‰∏ãÂëΩ‰ª§Ôºö 1&gt;db.runCommand({&quot;convertToCapped&quot;:&quot;posts&quot;,size:10000}) ‰ª•‰∏ä‰ª£Á†ÅÂ∞ÜÊàë‰ª¨Â∑≤Â≠òÂú®ÁöÑ posts ÈõÜÂêàËΩ¨Êç¢‰∏∫Âõ∫ÂÆöÈõÜÂêà„ÄÇ Âõ∫ÂÆöÈõÜÂêàÊü•ËØ¢ Âõ∫ÂÆöÈõÜÂêàÊñáÊ°£ÊåâÁÖßÊèíÂÖ•È°∫Â∫èÂÇ®Â≠òÁöÑ,ÈªòËÆ§ÊÉÖÂÜµ‰∏ãÊü•ËØ¢Â∞±ÊòØÊåâÁÖßÊèíÂÖ•È°∫Â∫èËøîÂõûÁöÑ,‰πüÂèØ‰ª•‰ΩøÁî®$naturalË∞ÉÊï¥ËøîÂõûÈ°∫Â∫è„ÄÇ 1&gt;db.cappedLogCollection.find().sort({$natural:-1}) Âõ∫ÂÆöÈõÜÂêàÁöÑÂäüËÉΩÁâπÁÇπ ÂèØ‰ª•ÊèíÂÖ•ÂèäÊõ¥Êñ∞,‰ΩÜÊõ¥Êñ∞‰∏çËÉΩË∂ÖÂá∫collectionÁöÑÂ§ßÂ∞è,Âê¶ÂàôÊõ¥Êñ∞Â§±Ë¥•,‰∏çÂÖÅËÆ∏Âà†Èô§,‰ΩÜÊòØÂèØ‰ª•Ë∞ÉÁî®drop()Âà†Èô§ÈõÜÂêà‰∏≠ÁöÑÊâÄÊúâË°å,‰ΩÜÊòØdropÂêéÈúÄË¶ÅÊòæÂºèÂú∞ÈáçÂª∫ÈõÜÂêà„ÄÇ Âú®32‰ΩçÊú∫Â≠ê‰∏ä‰∏Ä‰∏™cappped collectionÁöÑÊúÄÂ§ßÂÄºÁ∫¶‰∏∫482.5M,64‰Ωç‰∏äÂè™ÂèóÁ≥ªÁªüÊñá‰ª∂Â§ßÂ∞èÁöÑÈôêÂà∂„ÄÇ Âõ∫ÂÆöÈõÜÂêàÂ±ûÊÄßÂèäÁî®Ê≥ï Â±ûÊÄß Â±ûÊÄß1:ÂØπÂõ∫ÂÆöÈõÜÂêàËøõË°åÊèíÂÖ•ÈÄüÂ∫¶ÊûÅÂø´ Â±ûÊÄß2:ÊåâÁÖßÊèíÂÖ•È°∫Â∫èÁöÑÊü•ËØ¢ËæìÂá∫ÈÄüÂ∫¶ÊûÅÂø´ Â±ûÊÄß3:ËÉΩÂ§üÂú®ÊèíÂÖ•ÊúÄÊñ∞Êï∞ÊçÆÊó∂,Ê∑òÊ±∞ÊúÄÊó©ÁöÑÊï∞ÊçÆ Áî®Ê≥ï Áî®Ê≥ï1:ÂÇ®Â≠òÊó•Âøó‰ø°ÊÅØ Áî®Ê≥ï2:ÁºìÂ≠ò‰∏Ä‰∫õÂ∞ëÈáèÁöÑÊñáÊ°£ ‰∏â‰∏Ä„ÄÅËá™Âä®Â¢ûÈïø MongoDB Ê≤°ÊúâÂÉè SQL ‰∏ÄÊ†∑ÊúâËá™Âä®Â¢ûÈïøÁöÑÂäüËÉΩÔºå MongoDB ÁöÑ _id ÊòØÁ≥ªÁªüËá™Âä®ÁîüÊàêÁöÑ12Â≠óËäÇÂîØ‰∏ÄÊ†áËØÜ„ÄÇ ‰ΩÜÂú®Êüê‰∫õÊÉÖÂÜµ‰∏ãÔºåÊàë‰ª¨ÂèØËÉΩÈúÄË¶ÅÂÆûÁé∞ ObjectId Ëá™Âä®Â¢ûÈïøÂäüËÉΩ„ÄÇ Áî±‰∫é MongoDB Ê≤°ÊúâÂÆûÁé∞Ëøô‰∏™ÂäüËÉΩÔºåÊàë‰ª¨ÂèØ‰ª•ÈÄöËøáÁºñÁ®ãÁöÑÊñπÂºèÊù•ÂÆûÁé∞Ôºå‰ª•‰∏ãÊàë‰ª¨Â∞ÜÂú® counters ÈõÜÂêà‰∏≠ÂÆûÁé∞_idÂ≠óÊÆµËá™Âä®Â¢ûÈïø„ÄÇ ‰ΩøÁî® counters ÈõÜÂêà ËÄÉËôë‰ª•‰∏ã products ÊñáÊ°£„ÄÇÊàë‰ª¨Â∏åÊúõ _id Â≠óÊÆµÂÆûÁé∞ ‰ªé 1,2,3,4 Âà∞ n ÁöÑËá™Âä®Â¢ûÈïøÂäüËÉΩ„ÄÇ 12345{ &quot;_id&quot;:1, &quot;product_name&quot;: &quot;Apple iPhone&quot;, &quot;category&quot;: &quot;mobiles&quot;} ‰∏∫Ê≠§ÔºåÂàõÂª∫ counters ÈõÜÂêàÔºåÂ∫èÂàóÂ≠óÊÆµÂÄºÂèØ‰ª•ÂÆûÁé∞Ëá™Âä®ÈïøÔºö 1&gt;db.createCollection(&quot;counters&quot;) Áé∞Âú®Êàë‰ª¨Âêë counters ÈõÜÂêà‰∏≠ÊèíÂÖ•‰ª•‰∏ãÊñáÊ°£Ôºå‰ΩøÁî® productid ‰Ωú‰∏∫ key: 1234{ &quot;_id&quot;:&quot;productid&quot;, &quot;sequence_value&quot;: 0} sequence_value Â≠óÊÆµÊòØÂ∫èÂàóÈÄöËøáËá™Âä®Â¢ûÈïøÂêéÁöÑ‰∏Ä‰∏™ÂÄº„ÄÇ ‰ΩøÁî®‰ª•‰∏ãÂëΩ‰ª§ÊèíÂÖ• counters ÈõÜÂêàÁöÑÂ∫èÂàóÊñáÊ°£‰∏≠Ôºö 1&gt;db.counters.insert({_id:&quot;productid&quot;,sequence_value:0}) ÂàõÂª∫ Javascript ÂáΩÊï∞ Áé∞Âú®ÔºåÊàë‰ª¨ÂàõÂª∫ÂáΩÊï∞ getNextSequenceValue Êù•‰Ωú‰∏∫Â∫èÂàóÂêçÁöÑËæìÂÖ•Ôºå ÊåáÂÆöÁöÑÂ∫èÂàó‰ºöËá™Âä®Â¢ûÈïø 1 Âπ∂ËøîÂõûÊúÄÊñ∞Â∫èÂàóÂÄº„ÄÇÂú®Êú¨ÊñáÁöÑÂÆû‰æã‰∏≠Â∫èÂàóÂêç‰∏∫ productid „ÄÇ 123456789&gt;function getNextSequenceValue(sequenceName){ var sequenceDocument = db.counters.findAndModify( { query:{_id: sequenceName }, update: {$inc:{sequence_value:1}}, &quot;new&quot;:true }); return sequenceDocument.sequence_value;} ‰ΩøÁî® Javascript ÂáΩÊï∞ Êé•‰∏ãÊù•Êàë‰ª¨Â∞Ü‰ΩøÁî® getNextSequenceValue ÂáΩÊï∞ÂàõÂª∫‰∏Ä‰∏™Êñ∞ÁöÑÊñáÊ°£Ôºå Âπ∂ËÆæÁΩÆÊñáÊ°£ _id Ëá™Âä®‰∏∫ËøîÂõûÁöÑÂ∫èÂàóÂÄºÔºö 123456789&gt;db.products.insert({ &quot;_id&quot;:getNextSequenceValue(&quot;productid&quot;), &quot;product_name&quot;:&quot;Apple iPhone&quot;, &quot;category&quot;:&quot;mobiles&quot;})&gt;db.products.insert({ &quot;_id&quot;:getNextSequenceValue(&quot;productid&quot;), &quot;product_name&quot;:&quot;Samsung S3&quot;, &quot;category&quot;:&quot;mobiles&quot;}) Â∞±Â¶Ç‰Ω†ÊâÄÁúãÂà∞ÁöÑÔºåÊàë‰ª¨‰ΩøÁî® getNextSequenceValue ÂáΩÊï∞Êù•ËÆæÁΩÆ _id Â≠óÊÆµ„ÄÇ ‰∏∫‰∫ÜÈ™åËØÅÂáΩÊï∞ÊòØÂê¶ÊúâÊïàÔºåÊàë‰ª¨ÂèØ‰ª•‰ΩøÁî®‰ª•‰∏ãÂëΩ‰ª§ËØªÂèñÊñáÊ°£Ôºö 1&gt;db.products.find() ‰ª•‰∏äÂëΩ‰ª§Â∞ÜËøîÂõû‰ª•‰∏ãÁªìÊûúÔºåÊàë‰ª¨ÂèëÁé∞ _id Â≠óÊÆµÊòØËá™Â¢ûÈïøÁöÑÔºö 123{ &quot;_id&quot; : 1, &quot;product_name&quot; : &quot;Apple iPhone&quot;, &quot;category&quot; : &quot;mobiles&quot;}{ &quot;_id&quot; : 2, &quot;product_name&quot; : &quot;Samsung S3&quot;, &quot;category&quot; : &quot;mobiles&quot; }","link":"/2021/01/20/Draft/2021/MongoDB/"},{"title":"Docker","text":"DockerÔºåÂºÄÊ∫êÂü∫‰∫éGOËØ≠Ë®ÄÁöÑÂ∫îÁî®ÂÆπÂô®ÂºïÊìéÔºåÂèØÂØπÂ∫îÁî®ÂíåÁõ∏ÂÖ≥‰æùËµñÂåÖÊâìÂåÖÂà∞ËΩªÈáèÂèØ‰ª•ÁßªÊ§çÁöÑDockerÂÆπÂô®‰∏≠ÔºåÂèØÂèëÂ∏ÉÂà∞‰ªª‰ΩïLinux‰∏≠ÔºåÂÆπÂô®ÊÄßËÉΩÂºÄÈîÄÊûÅ‰Ωé„ÄÇ Êñ∞Â≠¶ÂõõÈóÆ WHY„Äê‰∏éÂâç‰ª£‰ºòÂåñ‰∫Ü‰ªÄ‰πàÔºåÂº•Ë°•‰∫Ü‰ªÄ‰πàÁ©∫ÁôΩ„ÄëÔºöËá™Âä®ÂåñÂºÄÂèëÈÉ®ÁΩ≤ÊµÅÁ®ãÔºåÁéØÂ¢É WHAT„ÄêÊ°ÜÊû∂ÔºåÊÄùÁª¥ÂØºÂõæÔºå‰∏ªÈ¢òÊ°ÜÊû∂„ÄëÔºöÂÆâË£ÖÂÆû‰æãÔºå HOW„ÄêÂ¶Ç‰ΩïËÆ∞ÂøÜÔºåÂ≠¶‰π†ËµÑÊ∫êÔºàÂÆòÊñπÊñáÊ°£„ÄÅËßÜÈ¢ëËµÑÊ∫ê„ÄÅÈ°πÁõÆÂú∞ÂùÄÔºâ„ÄëÔºöDocker ÊïôÁ®ã LEVEL„Äê‰∏çÊòØÊØè‰∏™ÈÉΩÂ≠¶Á≤æ„ÄëÔºöÁÜüÁªÉÊìç‰Ωú ËøõÂ∫¶Ôºö „Äê„Äë ‰∏Ä„ÄÅÁÆÄ‰ªã ÊòØ‰ªÄ‰πàÔºü ÈóÆÈ¢òÔºö‰∏∫‰ªÄ‰πà‰ºöÊúâ docker ÁöÑÂá∫Áé∞ ‰∏ÄÊ¨æ‰∫ß ÂìÅ‰ªéÂºÄÂèëÂà∞‰∏äÁ∫øÔºå‰ªéÊìç‰ΩúÁ≥ªÁªüÔºåÂà∞ËøêË°åÁéØÂ¢ÉÔºåÂÜçÂà∞Â∫îÁî®ÈÖçÁΩÆ„ÄÇ‰Ωú‰∏∫ÂºÄÂèë+ËøêÁª¥‰πãÈó¥ÁöÑÂçè‰ΩúÊàë‰ª¨ÈúÄË¶ÅÂÖ≥ÂøÉÂæàÂ§ö‰∏úË•øÔºåËøô‰πüÊòØÂæàÂ§ö‰∫íËÅîÁΩëÂÖ¨Âè∏ÈÉΩ‰∏çÂæó‰∏çÈù¢ÂØπÁöÑÈóÆÈ¢òÔºåÁâπÂà´ÊòØÂêÑÁßçÁâàÊú¨ÁöÑËø≠‰ª£‰πãÂêéÔºå‰∏çÂêåÁâàÊú¨ÁéØÂ¢ÉÁöÑÂÖºÂÆπÔºåÂØπËøêÁª¥‰∫∫ÂëòÈÉΩÊòØËÄÉÈ™å Docker‰πãÊâÄ‰ª•ÂèëÂ±ïÂ¶ÇÊ≠§ËøÖÈÄüÔºå‰πüÊòØÂõ†‰∏∫ÂÆÉÂØπÊ≠§ÁªôÂá∫‰∫Ü‰∏Ä‰∏™Ê†áÂáÜÂåñÁöÑËß£ÂÜ≥ÊñπÊ°à„ÄÇ ÁéØÂ¢ÉÈÖçÁΩÆÂ¶ÇÊ≠§È∫ªÁÉ¶ÔºåÊç¢‰∏ÄÂè∞Êú∫Âô®ÔºåÂ∞±Ë¶ÅÈáçÊù•‰∏ÄÊ¨°ÔºåË¥πÂäõË¥πÊó∂„ÄÇÂæàÂ§ö‰∫∫ÊÉ≥Âà∞ÔºåËÉΩ‰∏çËÉΩ‰ªéÊ†πÊú¨‰∏äËß£ÂÜ≥ÈóÆÈ¢òÔºåËΩØ‰ª∂ÂèØ‰ª•Â∏¶ÁéØÂ¢ÉÂÆâË£Ö?‰πüÂ∞±ÊòØËØ¥ÔºåÂÆâË£ÖÁöÑÊó∂ÂÄôÔºåÊääÂéüÂßãÁéØÂ¢É-Ê®°-Ê†∑Âú∞Â§çÂà∂ËøáÊù•„ÄÇÂºÄÂèë‰∫∫ÂëòÂà©Áî®DockerÂèØ‰ª•Ê∂àÈô§Âçè‰ΩúÁºñÁ†ÅÊó∂‚ÄúÂú®ÊàëÁöÑÊú∫Âô®‰∏äÂèØÊ≠£Â∏∏Â∑•‰Ωú‚ÄùÁöÑÈóÆÈ¢ò„ÄÇ ‰πãÂâçÂú®ÊúçÂä°Âô®ÈÖçÁΩÆ‰∏Ä‰∏™Â∫îÁî®ÁöÑËøêË°åÁéØÂ¢ÉÔºåË¶ÅÂÆâË£ÖÂêÑÁßçËΩØ‰ª∂ÔºåÂ∞±ÊãøÂ∞öÁ°ÖË∞∑ÁîµÂïÜÈ°πÁõÆÁöÑÁéØÂ¢ÉÊù•ËØ¥ÂêßÔºåJava/TomcatMySQL/JDBCÈ©±Âä®ÂåÖÁ≠â„ÄÇÂÆâË£ÖÂíåÈÖçÁΩÆËøô‰∫õ‰∏úË•øÊúâÂ§öÈ∫ªÁÉ¶Â∞±‰∏çËØ¥‰∫ÜÔºåÂÆÉËøò‰∏çËÉΩË∑®Âπ≥Âè∞„ÄÇÂÅáÂ¶ÇÊàë‰ª¨ÊòØÂú®Windows‰∏äÂÆâË£ÖÁöÑËøô‰∫õÁéØÂ¢ÉÔºåÂà∞‰∫ÜLinux ÂèàÂæóÈáçÊñ∞Ë£Ö„ÄÇÂÜµ‰∏îÂ∞±ÁÆó‰∏çË∑®Êìç‰ΩúÁ≥ªÁªüÔºåÊç¢Âè¶‰∏ÄÂè∞ÂêåÊ†∑Êìç‰ΩúÁ≥ªÁªüÁöÑÊúçÂä°Âô®ÔºåË¶ÅÁßªÊ§çÂ∫îÁî®‰πüÊòØÈùûÂ∏∏È∫ªÁÉ¶ÁöÑ„ÄÇ ‰º†Áªü‰∏äËÆ§‰∏∫ÔºåËΩØ‰ª∂ÁºñÁ†ÅÂºÄÂèë/ÊµãËØïÁªìÊùüÂêéÔºåÊâÄ‰∫ßÂá∫ÁöÑÊàêÊûúÂç≥ÊòØÁ®ãÂ∫èÊàñÊòØËÉΩÂ§üÁºñËØëÊâßË°åÁöÑ‰∫åËøõÂà∂Â≠óËäÇÁ†ÅÁ≠âjava‰∏∫‰æã)„ÄÇËÄå‰∏∫‰∫ÜËÆ©ËøôÁ®ãÂ∫èÂèØ‰ª•È°∫Âà©ÊâßË°åÔºåÂºÄÂèëÂõ¢Èòü‰πüÂæóÂáÜÂ§áÂÆåÊï¥ÁöÑÈÉ®ÁΩ≤Êñá‰ª∂ÔºåËÆ©Áª¥ËøêÂõ¢ÈòüÂæó‰ª•ÈÉ®ÁΩ≤Â∫îÁî®Á®ãÂºèÔºåÂºÄÂèëÈúÄË¶ÅÊ∏ÖÊ•öÁöÑÂëäËØâËøêÁª¥ÈÉ®ÁΩ≤Âõ¢ÈòüÔºåÁî®ÁöÑÂÖ®ÈÉ®ÈÖçÁΩÆÊñá‰ª∂+ÊâÄÊúâËΩØ‰ª∂ÁéØÂ¢É„ÄÇ‰∏çËøáÔºåÂç≥‰æøÂ¶ÇÊ≠§Ôºå‰ªçÁÑ∂Â∏∏Â∏∏ÂèëÁîüÈÉ®ÁΩ≤Â§±Ë¥•ÁöÑÁä∂ÂÜµ„ÄÇDockerÈïú ÂÉèÁöÑËÆæËÆ°Ôºå‰ΩøÂæóDockerÂæó‰ª•ÊâìËøáÂéª„ÄåÁ®ãÂ∫èÂç≥Â∫îÁî®„ÄçÁöÑËßÇÂøµ„ÄÇÈÄèËøáÈïúÂÉè(images)Â∞Ü‰Ωú‰∏öÁ≥ªÁªüÊ†∏ÂøÉÈô§Â§ñÔºåËøê‰ΩúÂ∫îÁî®Á®ãÂºèÊâÄÈúÄË¶ÅÁöÑÁ≥ªÁªüÁéØÂ¢ÉÔºåÁî±‰∏ãËÄå‰∏äÊâìÂåÖÔºåËææÂà∞Â∫îÁî®Á®ãÂºèË∑®Âπ≥Âè∞Èó¥ÁöÑÊó†ÁºùÊé•ËΩ®Ëøê.‰Ωú„ÄÇ dockerÁêÜÂøµ DockerÊòØÂü∫‰∫éGoËØ≠Ë®ÄÂÆûÁé∞ÁöÑ‰∫ëÂºÄÊ∫êÈ°πÁõÆ„ÄÇ DockerÁöÑ‰∏ªË¶ÅÁõÆÊ†áÊòØ‚ÄúBuild, Ship[ and Run Any App,Anywhere&quot;Ôºå‰πüÂ∞±ÊòØÈÄöËøáÂØπÂ∫îÁî®ÁªÑ‰ª∂ÁöÑÂ∞ÅË£Ö„ÄÅÂàÜÂèë„ÄÅÈÉ®ÁΩ≤„ÄÅËøêË°åÁ≠âÁîüÂëΩÊúüÁöÑÁÆ°ÁêÜÔºå‰ΩøÁî®Êà∑ÁöÑAPP (ÂèØ‰ª•ÊòØ‰∏Ä‰∏™WEBÂ∫îÁî®ÊàñÊï∞ÊçÆÂ∫ìÂ∫îÁî®Á≠âÁ≠â)ÂèäÂÖ∂ËøêË°åÁéØÂ¢ÉËÉΩÂ§üÂÅöÂà∞‚Äú‰∏ÄÊ¨°Â∞ÅË£ÖÔºåÂà∞Â§ÑËøêË°å‚Äù„ÄÇ LinuxÂÆπÂô®ÊäÄÊúØÁöÑÂá∫Áé∞Â∞±Ëß£ÂÜ≥‰∫ÜËøôÊ†∑‰∏Ä ‰∏Ä‰∏™ÈóÆÈ¢òÔºåËÄåDockerÂ∞±ÊòØÂú®ÂÆÉÁöÑÂü∫Á°Ä‰∏äÂèëÂ±ïËøáÊù•ÁöÑ„ÄÇÂ∞ÜÂ∫îÁî®ËøêË°åÂú®DockerÂÆπÂô®‰∏äÈù¢ÔºåËÄåDockerÂÆπÂô®Âú®‰ªª‰ΩïÊìç‰ΩúÁ≥ªÁªü‰∏äÈÉΩÊòØ‰∏Ä-Ëá¥ÁöÑÔºåËøôÂ∞±ÂÆûÁé∞‰∫ÜË∑®Âπ≥Âè∞„ÄÅË∑®ÊúçÂä°Âô®„ÄÇÂè™ÈúÄË¶Å‰∏ÄÊ¨°ÈÖçÁΩÆÂ•ΩÁéØÂ¢ÉÔºåÊç¢Âà∞Âà´ÁöÑÊú∫Â≠ê‰∏äÂ∞±ÂèØ‰ª•‰∏ÄÈîÆÈÉ®ÁΩ≤Â•ΩÔºåÂ§ßÂ§ßÁÆÄÂåñ‰∫ÜÊìç‰Ωú ‰∏ÄÂè•ËØù Ëß£ÂÜ≥‰∫ÜËøêË°åÁéØÂ¢ÉÂíåÈÖçÁΩÆÈóÆÈ¢òÁöÑËΩØ‰ª∂ÂÆπÂô®ÔºåÊñπ‰æøÂÅöÊåÅÁª≠ÈõÜÊàêÂπ∂ÊúâÂä©‰∫éÊï¥‰ΩìÂèëÂ∏ÉÁöÑÂÆπÂô®ËôöÊãüÂåñÊäÄÊúØ ËÉΩÂπ≤Âòõ ‰πãÂâçÁöÑËôöÊãüÊú∫ÊäÄÊúØ ËôöÊãüÊú∫**(virtual machine)**Â∞±ÊòØÂ∏¶ÁéØÂ¢ÉÂÆâË£ÖÁöÑ‰∏ÄÁßçËß£ÂÜ≥ÊñπÊ°à„ÄÇ ÂÆÉÂèØ‰ª•Âú®‰∏ÄÁßçÊìç‰ΩúÁ≥ªÁªüÈáåÈù¢ËøêË°åÂè¶‰∏ÄÁßç‰ΩúÁ≥ªÁªüÔºåÊØîÂ¶ÇÂú®WindowsÁ≥ªÁªüÈáåÈù¢ËøêË°åLinuxÁ≥ªÁªü„ÄÇÂ∫îÁî®Á®ãÂ∫èÂØπÊ≠§ÊØ´Êó†ÊÑüÁü•ÔºåÂõ†‰∏∫ËôöÊãüÊú∫Áúã‰∏äÂéªË∑üÁúüÂÆûÁ≥ªÁªü- -Ê®°-Ê†∑ÔºåËÄåÂØπ‰∫éÂ∫ïÂ±ÇÁ≥ªÁªüÊù•ËØ¥ÔºåËôöÊãüÊú∫Â∞±ÊòØ‰∏Ä‰∏™ÊôÆÈÄöÊñá‰ª∂Ôºå‰∏çÈúÄË¶Å‰∫ÜÂ∞±Âà†ÊéâÔºåÂØπÂÖ∂‰ªñÈÉ®ÂàÜÊØ´Êó†ÂΩ±Âìç„ÄÇËøôÁ±ªËôöÊãüÊú∫ÂÆåÁæéÁöÑËøêË°å‰∫ÜÂè¶‰∏ÄÂ•óÁ≥ªÁªüÔºåËÉΩÂ§ü‰ΩøÂ∫îÁî®Á®ãÂ∫èÔºåÊìç‰ΩúÁ≥ªÁªüÂíåÁ°¨‰ª∂‰∏âËÄÖ‰πãÈó¥ÁöÑÈÄªËæë‰∏çÂèò„ÄÇ ËôöÊãüÊú∫ÁöÑÁº∫ÁÇπ: 1„ÄÅËµÑÊ∫êÂç†Áî®Â§ö 2„ÄÅÂÜó‰ΩôÊ≠•È™§Â§ö 3„ÄÅÂêØÂä®ÊÖ¢ ÂÆπÂô®ËôöÊãüÂåñÊäÄÊúØ Áî±‰∫éÂâçÈù¢ËôõÊãüÊú∫Â≠òÂú®Ëøô‰∫õÁº∫ÁÇπÔºåLinux ÂèëÂ±ïÂá∫‰∫ÜÂè¶‰∏ÄÁßçËôöÊãüÂåñÊäÄÊúØ: Linux ÂÆπÂô®(Linux Containers,Áº©‰∏∫LXC)„ÄÇ LinuxÂÆπÂô®‰∏çÊòØÊ®°Êãü‰∏Ä‰∏™ÂÆåÊï¥ÁöÑÊìç‰ΩúÁ≥ªÁªüÔºåËÄåÊòØÂØπËøõÁ®ãËøõË°åÈöîÁ¶ª„ÄÇÊúâ‰∫ÜÂÆπÂô®ÔºåÂ∞±ÂèØ‰ª•Â∞ÜËΩØ‰ª∂ËøêË°åÊâÄÁöÑÊâÄÊúâËµÑÊ∫êÊâìÂåÖÂà∞‰∏Ä‰∏™ÈöîÁ¶ªÁöÑÂÆπÂô®‰∏≠„ÄÇÂÆπÂô®‰∏éËôöÊãüÊú∫‰∏çÂêåÔºå‰∏çÈúÄË¶ÅÊçÜÁªë‰∏ÄÊï¥Â•óÊìç‰ΩúÁ≥ªÁªüÔºåÂè™ÈúÄË¶ÅËΩØ‰ª∂Â∑•‰ΩúÊâÄÈúÄÁöÑÂ∫ìËµÑÊ∫êÂíåËÆæÁΩÆ„ÄÇÁ≥ªÁªüÂõ†Ê≠§ËÄåÂèòÂæóÈ´òÊïàËΩªÈáèÂπ∂‰øùËØÅÈÉ®ÁΩ≤Âú®‰ªª‰ΩïÁéØÂ¢É‰∏≠ÁöÑËΩØ‰ª∂ÈÉΩËÉΩÂßãÁªàÂ¶Ç‰∏ÄÂú∞ËøêË°å„ÄÇ. ÊØîËæÉ‰∫ÜDockerÂíå‰º†ÁªüËôöÊãüÂåñÊñπÂºèÁöÑ‰∏çÂêå‰πãÂ§Ñ: 1„ÄÅ‰º†ÁªüËôöÊãüÊú∫ÊäÄÊúØÊòØËôöÊãüÂá∫‰∏ÄÂ•óÁ°¨‰ª∂ÂêéÔºåÂú®ÂÖ∂‰∏äËøêË°å‰∏Ä‰∏™ÂÆåÊï¥Êìç‰ΩúÁ≥ªÁªüÔºåÂú®ËØ•Á≥ªÁªü‰∏äÂÜçËøêË°åÊâÄÈúÄÂ∫îÁî®ËøõÁ®ã; 2„ÄÅËÄåÂÆπÂô®ÂÜÖÁöÑÂ∫îÁî®ËøõÁ®ãÁõ¥Êé•ËøêË°å‰∫éÂÆø‰∏ªÁöÑÂÜÖÊ†∏ÔºåÂÆπÂô®ÂÜÖÊ≤°ÊúâËá™Â∑±ÁöÑÂÜÖÊ†∏ÔºåËÄå‰∏î‰πüÊ≤°ÊúâËøõË°åÁ°¨‰ª∂ËôöÊãü„ÄÇÂõ†Ê≠§ÂÆπÂô®Ë¶ÅÊØî‰º†ÁªüËôöÊãüÊú∫‰∏∫ËΩª‰æø„ÄÇ 3„ÄÅÊØè‰∏™ÂÆπÂô®‰πãÈó¥‰∫íÁõ∏ÈöîÁ¶ªÔºåÊØè‰∏™ÂÆπÂô®ÊúâËá™Â∑±ÁöÑÊñá‰ª∂Á≥ªÁªüÔºåÂÆπÂô®‰πãÈó¥ËøõÁ®ã‰∏ç‰ºöÁõ∏‰∫íÂΩ±ÂìçÔºåËÉΩÂå∫ÂàÜËÆ°ÁÆóËµÑÊ∫ê„ÄÇ ÂºÄÂèë/ËøêÁª¥(DevOps) ‰∏ÄÊ¨°ÊûÑÂª∫„ÄÅÈöèÂ§ÑËøêË°åÔºå Êõ¥Âø´ÈÄüÁöÑÂ∫îÁî®‰∫§‰ªòÂíåÈÉ®ÁΩ≤ ‚Äã ‰º†ÁªüÁöÑÂ∫îÁî®ÂºÄÂèëÂÆåÊàêÂêéÔºåÈúÄË¶ÅÊèê‰æõ‰∏ÄÂ†ÜÂÆâË£ÖÁ®ãÂ∫èÂíåÈÖçÁΩÆËØ¥ÊòéÊñáÊ°£ÔºåÂÆâË£ÖÈÉ®ÁΩ≤ÂêéÈúÄÊ†πÊçÆÈÖçÁΩÆÊñáÊ°£ËøõË°åÁπÅÊùÇÁöÑÈÖçÁΩÆÊâçËÉΩÊ≠£Â∏∏ËøêË°å„ÄÇDockerÂåñ ‰πãÂêéÂè™ÈúÄË¶Å‰∫§‰ªòÂ∞ëÈáèÂÆπÂô®ÈïúÂÉèÊñá‰ª∂ÔºåÂú®Ê≠£ÂºèÁîü‰∫ßÁéØÂ¢ÉÂä†ËΩΩÈïúÂÉèÂπ∂ËøêË°åÂç≥ÂèØÔºåÂ∫îÁî®ÂÆâË£ÖÈÖçÁΩÆÂú®ÈïúÂÉèÈáåÂ∑≤ÁªèÂÜÖÁΩÆÂ•ΩÔºåÂ§ßÂ§ßËäÇÁúÅÈÉ®ÁΩ≤ÈÖçÁΩÆÂíåÊµã ËØïÈ™åËØÅÊó∂Èó¥„ÄÇ Êõ¥‰æøÊç∑ÁöÑÂçáÁ∫ßÂíåÊâ©Áº©ÂÆπ ‚Äã ÈöèÁùÄÂæÆÊúçÂä°Êû∂ÊûÑÂíåDockerÁöÑÂèëÂ±ïÔºåÂ§ßÈáèÁöÑÂ∫îÁî®‰ºöÈÄöËøáÂæÆÊúçÂä°ÊñπÂºèÊû∂ÊûÑÔºåÂ∫îÁî®ÁöÑÂºÄÂèëÊûÑÂª∫Â∞ÜÂèòÊàêÊê≠‰πêÈ´òÁßØÊú®‰∏ÄÊ†∑ÔºåÊØè‰∏™DockerÂÆπÂô®Â∞ÜÂèòÊàê-Âùó‚ÄúÁßØÊú®‚ÄùÔºåÂ∫îÁî®ÁöÑÂçáÁ∫ßÂ∞ÜÂèòÂæóÈùûÂ∏∏ÂÆπÊòì„ÄÇÂΩìÁé∞ÊúâÁöÑÂÆπÂô®‰∏çË∂≥‰ª•ÊîØÊíë‰∏öÂä°Â§ÑÁêÜÊó∂ÔºåÂèØÈÄöËøáÈïúÂÉèËøêË°åÊñ∞ÁöÑÂÆπÂô®ËøõË°åÂø´ÈÄüÊâ©ÂÆπÔºå‰ΩøÂ∫îÁî®Á≥ªÁªüÁöÑÊâ©ÂÆπ‰ªéÂéüÂÖàÁöÑÂ§©Á∫ßÂèòÊàêÂàÜÈíüÁ∫ßÁîöËá≥ÁßíÁ∫ß„ÄÇ Êõ¥ÁÆÄÂçïÁöÑÁ≥ªÁªüËøêÁª¥ ‚Äã Â∫îÁî®ÂÆπÂô®ÂåñËøêË°åÂêéÔºåÁîü‰∫ßÁéØÂ¢ÉËøêË°åÁöÑÂ∫îÁî®ÂèØ‰∏éÂºÄÂèë„ÄÅÊµãËØïÁéØÂ¢ÉÁöÑÂ∫îÁî®È´òÂ∫¶--Ëá¥ÔºåÂÆπÂô®‰ºöÂ∞ÜÂ∫îÁî®Á®ãÂ∫èÁõ∏ÂÖ≥ÁöÑÁéØÂ¢ÉÂíåÁä∂ÊÄÅÂÆåÂÖ®Â∞ÅË£ÖËµ∑Êù•Ôºå‰∏ç‰ºöÂõ†‰∏∫Â∫ïÂ±ÇÂü∫Á°ÄÊû∂ÊûÑÂíåÊìç‰ΩúÁ≥ªÁªüÁöÑ‰∏ç‰∏ÄËá¥ÊÄßÁªôÂ∫îÁî®Â∏¶Êù•ÂΩ±ÂìçÔºå‰∫ßÁîüÊñ∞ÁöÑBUG„ÄÇÂΩìÂá∫Áé∞Á®ãÂ∫èÂºÇÂ∏∏Êó∂Ôºå‰πüÂèØ‰ª•ÈÄöËøáÊµãËØïÁéØÂ¢ÉÁöÑÁõ∏ÂêåÂÆπÂô®ËøõË°åÂø´ÈÄüÂÆö‰ΩçÂíå‰øÆÂ§ç„ÄÇ Êõ¥È´òÊïàÁöÑËÆ°ÁÆóËµÑÊ∫êÂà©Áî® ‚Äã DockerÊòØÂÜÖÊ†∏Á∫ßËôöÊãüÂåñÔºåÂÖ∂‰∏çÂÉè‰º†ÁªüÁöÑËôöÊãüÂåñÊäÄÊúØ‰∏ÄÊ†∑ ÈúÄË¶ÅÈ¢ùÂ§ñÁöÑHypervisorÊîØÊåÅÔºåÊâÄ‰ª•Âú®-Âè∞Áâ©ÁêÜÊú∫‰∏äÂèØ‰ª•ËøêË°åÂæàÂ§ö‰∏™ÂÆπÂô®ÂÆû‰æãÔºåÂèØÂ§ßÂ§ßÊèêÂçáÁâ©ÁêÜÊúçÂä°Âô®ÁöÑCPUÂíåÂÜÖÂ≠òÁöÑÂà©Áî®Áéá„ÄÇ ‰ºÅ‰∏öÁ∫ß Êñ∞Êµ™ ÁæéÂõ¢ ËòëËèáË°ó ÂéªÂì™‰∏ã 1„ÄÅÂÆòÁΩë dockerÂÆòÁΩëÔºö https://www.docker.com/ docker‰∏≠ÊñáÁΩëÁ´ô: https://www.docker-cn.com/ 2„ÄÅ‰ªìÂ∫ì Docker HubÂÆòÁΩëÔºöhttps://hub.docker.com/ 1.Â∫îÁî®Âú∫ÊôØ Web Â∫îÁî®ÁöÑËá™Âä®ÂåñÊâìÂåÖÂíåÂèëÂ∏É„ÄÇ Ëá™Âä®ÂåñÊµãËØïÂíåÊåÅÁª≠ÈõÜÊàê„ÄÅÂèëÂ∏É„ÄÇ Âú®ÊúçÂä°ÂûãÁéØÂ¢É‰∏≠ÈÉ®ÁΩ≤ÂíåË∞ÉÊï¥Êï∞ÊçÆÂ∫ìÊàñÂÖ∂‰ªñÁöÑÂêéÂè∞Â∫îÁî®„ÄÇ ‰ªéÂ§¥ÁºñËØëÊàñËÄÖÊâ©Â±ïÁé∞ÊúâÁöÑ OpenShift Êàñ Cloud Foundry Âπ≥Âè∞Êù•Êê≠Âª∫Ëá™Â∑±ÁöÑ PaaS ÁéØÂ¢É„ÄÇ 2.‰ºòÁÇπ Docker ÊòØ‰∏Ä‰∏™Áî®‰∫éÂºÄÂèëÔºå‰∫§‰ªòÂíåËøêË°åÂ∫îÁî®Á®ãÂ∫èÁöÑÂºÄÊîæÂπ≥Âè∞„ÄÇDocker ‰ΩøÊÇ®ËÉΩÂ§üÂ∞ÜÂ∫îÁî®Á®ãÂ∫è‰∏éÂü∫Á°ÄÊû∂ÊûÑÂàÜÂºÄÔºå‰ªéËÄåÂèØ‰ª•Âø´ÈÄü‰∫§‰ªòËΩØ‰ª∂„ÄÇÂÄüÂä© DockerÔºåÊÇ®ÂèØ‰ª•‰∏éÁÆ°ÁêÜÂ∫îÁî®Á®ãÂ∫èÁõ∏ÂêåÁöÑÊñπÂºèÊù•ÁÆ°ÁêÜÂü∫Á°ÄÊû∂ÊûÑ„ÄÇÈÄöËøáÂà©Áî® Docker ÁöÑÊñπÊ≥ïÊù•Âø´ÈÄü‰∫§‰ªòÔºåÊµãËØïÂíåÈÉ®ÁΩ≤‰ª£Á†ÅÔºåÊÇ®ÂèØ‰ª•Â§ßÂ§ßÂáèÂ∞ëÁºñÂÜô‰ª£Á†ÅÂíåÂú®Áîü‰∫ßÁéØÂ¢É‰∏≠ËøêË°å‰ª£Á†Å‰πãÈó¥ÁöÑÂª∂Ëøü„ÄÇ 1„ÄÅÂø´ÈÄüÔºå‰∏ÄËá¥Âú∞‰∫§‰ªòÊÇ®ÁöÑÂ∫îÁî®Á®ãÂ∫è Docker ÂÖÅËÆ∏ÂºÄÂèë‰∫∫Âëò‰ΩøÁî®ÊÇ®Êèê‰æõÁöÑÂ∫îÁî®Á®ãÂ∫èÊàñÊúçÂä°ÁöÑÊú¨Âú∞ÂÆπÂô®Âú®Ê†áÂáÜÂåñÁéØÂ¢É‰∏≠Â∑•‰ΩúÔºå‰ªéËÄåÁÆÄÂåñ‰∫ÜÂºÄÂèëÁöÑÁîüÂëΩÂë®Êúü„ÄÇ ÂÆπÂô®ÈùûÂ∏∏ÈÄÇÂêàÊåÅÁª≠ÈõÜÊàêÂíåÊåÅÁª≠‰∫§‰ªòÔºàCI / CDÔºâÂ∑•‰ΩúÊµÅÁ®ãÔºåËØ∑ËÄÉËôë‰ª•‰∏ãÁ§∫‰æãÊñπÊ°àÔºö ÊÇ®ÁöÑÂºÄÂèë‰∫∫ÂëòÂú®Êú¨Âú∞ÁºñÂÜô‰ª£Á†ÅÔºåÂπ∂‰ΩøÁî® Docker ÂÆπÂô®‰∏éÂêå‰∫ãÂÖ±‰∫´‰ªñ‰ª¨ÁöÑÂ∑•‰Ωú„ÄÇ ‰ªñ‰ª¨‰ΩøÁî® Docker Â∞ÜÂÖ∂Â∫îÁî®Á®ãÂ∫èÊé®ÈÄÅÂà∞ÊµãËØïÁéØÂ¢É‰∏≠ÔºåÂπ∂ÊâßË°åËá™Âä®ÊàñÊâãÂä®ÊµãËØï„ÄÇ ÂΩìÂºÄÂèë‰∫∫ÂëòÂèëÁé∞ÈîôËØØÊó∂Ôºå‰ªñ‰ª¨ÂèØ‰ª•Âú®ÂºÄÂèëÁéØÂ¢É‰∏≠ÂØπÂÖ∂ËøõË°å‰øÆÂ§çÔºåÁÑ∂ÂêéÂ∞ÜÂÖ∂ÈáçÊñ∞ÈÉ®ÁΩ≤Âà∞ÊµãËØïÁéØÂ¢É‰∏≠Ôºå‰ª•ËøõË°åÊµãËØïÂíåÈ™åËØÅ„ÄÇ ÊµãËØïÂÆåÊàêÂêéÔºåÂ∞Ü‰øÆË°•Á®ãÂ∫èÊé®ÈÄÅÁªôÁîü‰∫ßÁéØÂ¢ÉÔºåÂ∞±ÂÉèÂ∞ÜÊõ¥Êñ∞ÁöÑÈïúÂÉèÊé®ÈÄÅÂà∞Áîü‰∫ßÁéØÂ¢É‰∏ÄÊ†∑ÁÆÄÂçï„ÄÇ 2„ÄÅÂìçÂ∫îÂºèÈÉ®ÁΩ≤ÂíåÊâ©Â±ï Docker ÊòØÂü∫‰∫éÂÆπÂô®ÁöÑÂπ≥Âè∞ÔºåÂÖÅËÆ∏È´òÂ∫¶ÂèØÁßªÊ§çÁöÑÂ∑•‰ΩúË¥üËΩΩ„ÄÇDocker ÂÆπÂô®ÂèØ‰ª•Âú®ÂºÄÂèë‰∫∫ÂëòÁöÑÊú¨Êú∫‰∏äÔºåÊï∞ÊçÆ‰∏≠ÂøÉÁöÑÁâ©ÁêÜÊàñËôöÊãüÊú∫‰∏äÔºå‰∫ëÊúçÂä°‰∏äÊàñÊ∑∑ÂêàÁéØÂ¢É‰∏≠ËøêË°å„ÄÇ Docker ÁöÑÂèØÁßªÊ§çÊÄßÂíåËΩªÈáèÁ∫ßÁöÑÁâπÊÄßÔºåËøòÂèØ‰ª•‰ΩøÊÇ®ËΩªÊùæÂú∞ÂÆåÊàêÂä®ÊÄÅÁÆ°ÁêÜÁöÑÂ∑•‰ΩúË¥üÊãÖÔºåÂπ∂Ê†πÊçÆ‰∏öÂä°ÈúÄÊ±ÇÊåáÁ§∫ÔºåÂÆûÊó∂Êâ©Â±ïÊàñÊãÜÈô§Â∫îÁî®Á®ãÂ∫èÂíåÊúçÂä°„ÄÇ 3„ÄÅÂú®Âêå‰∏ÄÁ°¨‰ª∂‰∏äËøêË°åÊõ¥Â§öÂ∑•‰ΩúË¥üËΩΩ Docker ËΩªÂ∑ßÂø´ÈÄü„ÄÇÂÆÉ‰∏∫Âü∫‰∫éËôöÊãüÊú∫ÁÆ°ÁêÜÁ®ãÂ∫èÁöÑËôöÊãüÊú∫Êèê‰æõ‰∫ÜÂèØË°å„ÄÅÁªèÊµé„ÄÅÈ´òÊïàÁöÑÊõø‰ª£ÊñπÊ°àÔºåÂõ†Ê≠§ÊÇ®ÂèØ‰ª•Âà©Áî®Êõ¥Â§öÁöÑËÆ°ÁÆóËÉΩÂäõÊù•ÂÆûÁé∞‰∏öÂä°ÁõÆÊ†á„ÄÇDocker ÈùûÂ∏∏ÈÄÇÂêà‰∫éÈ´òÂØÜÂ∫¶ÁéØÂ¢É‰ª•Âèä‰∏≠Â∞èÂûãÈÉ®ÁΩ≤ÔºåËÄåÊÇ®ÂèØ‰ª•Áî®Êõ¥Â∞ëÁöÑËµÑÊ∫êÂÅöÊõ¥Â§öÁöÑ‰∫ãÊÉÖ„ÄÇ ‰∫å„ÄÅÂÆâË£Ö ÂÆâË£ÖÊñπÊ≥ï‰∏Ä ÂâçÊèêËØ¥Êòé CentOS DockerÂÆâË£Ö DockerÊîØÊåÅ‰ª•‰∏ãÁöÑCentOSÁâàÊú¨: CentOS 7 (64-bit) CentOS 6.5 (64-bit)ÊàñÊõ¥È´òÁöÑÁâàÊú¨ ÂâçÊèêÊù°‰ª∂ ÁõÆÂâçÔºåCentOS ‰ªÖÂèëË°åÁâàÊú¨‰∏≠ÁöÑÂÜÖÊ†∏ÊîØÊåÅDocker„ÄÇ DockerËøêË°åÂú®CentOS 7.‰∏äÔºåË¶ÅÊ±ÇÁ≥ªÁªü‰∏∫64‰Ωç„ÄÅÁ≥ªÁªüÂÜÖÊ†∏ÁâàÊú¨‰∏∫3.10‰ª•‰∏ä„ÄÇ DockerËøêË°åÂú®CentOS-6.5ÊàñÊõ¥È´òÁöÑÁâàÊú¨ÁöÑCentOS‰∏äÔºåË¶ÅÊ±ÇÁ≥ªÁªü‰∏∫64‰Ωç„ÄÅÁ≥ªÁªüÂÜÖÊ†∏ÁâàÊú¨‰∏∫2.6.32-431ÊàñËÄÖÊõ¥È´òÁâàÊú¨„ÄÇ Docker ÁöÑÂü∫Êú¨ÁªÑÊàê dockerÊû∂ÊûÑÂõæ ÈïúÂÉè( image ) DockerÈïúÂÉè(lmage)Â∞±ÊòØ-‰∏Ä‰∏™Âè™ËØªÁöÑÊ®°Êùø„ÄÇÈïúÂÉèÂèØ‰ª•Áî®Êù•ÂàõÂª∫DockerÂÆπÂô®Ôºå‰∏™ÈïúÂÉèÂèØ‰ª•ÂàõÂª∫ÂæàÂ§öÂÆπÂô® ÂÆπÂô®( container) DockerÂà©Áî®ÂÆπÂô®(Container) Áã¨Á´ãËøêË°åÁöÑ‰∏Ä‰∏™Êàñ‰∏ÄÁªÑÂ∫îÁî®„ÄÇÂÆπÂô®ÊòØÁî®ÈïúÂÉèÂàõÂª∫ÁöÑËøêË°åÂÆû‰æã„ÄÇ ÂÆÉÂèØ‰ª•Ë¢´ÂêØÂä®„ÄÅÂºÄÂßã„ÄÅÂÅúÊ≠¢„ÄÅÂà†Èô§„ÄÇÊØè‰∏™ÂÆπÂô®ÈÉΩÊòØÁõ∏‰∫íÈöîÁ¶ªÁöÑ„ÄÅ‰øùËØÅÂÆâÂÖ®ÁöÑÂπ≥Âè∞„ÄÇ ÂèØ‰ª•ÊääÂÆπÂô®ÁúãÂÅöÊòØ‰∏Ä‰∏™ÁÆÄ ÊòìÁâàÁöÑLinuxÁéØÂ¢É(ÂåÖÊã¨rootÁî®Êà∑ÊùÉÈôê„ÄÅËøõÁ®ãÁ©∫Èó¥„ÄÅÁî®Êà∑Á©∫Èó¥ÂíåÁΩëÁªúÁ©∫Èó¥Á≠â)ÂíåËøêË°åÂú®ÂÖ∂‰∏≠ÁöÑÂ∫îÁî®Á®ãÂ∫è„ÄÇ ÂÆπÂô®ÁöÑÂÆö‰πâÂíåÈïúÂÉèÂá†‰πé‰∏ÄÊ®°‰∏ÄÊ†∑Ôºå‰πüÊòØ‰∏ÄÂ†ÜÂ±ÇÁöÑÁªü‰∏ÄËßÜËßíÔºå ÂîØ- -Âå∫Âà´Âú®‰∫éÂÆπÂô®ÁöÑÊúÄ‰∏äÈù¢ÈÇ£-Â±ÇÊòØÂèØËØªÂèØÂÜôÁöÑ„ÄÇ ‰ªìÂ∫ì( repository) ‰ªìÂ∫ì(Repository) ÊòØÈõÜ‰∏≠Â≠òÊîæÈïúÂÉèÊñá‰ª∂ÁöÑÂú∫ÊâÄ„ÄÇ ‰ªìÂ∫ì(Repository)Âíå‰ªìÂ∫ìÊ≥®ÂÜåÊúçÂä°Âô®(Registry) ÊòØÊúâÂå∫Âà´ÁöÑ„ÄÇ‰ªìÂ∫ìÊ≥®ÂÜåÊúçÂä°Âô®‰∏äÂæÄÂæÄÂ≠òÊîæÁùÄÂ§ö‰∏™‰ªìÂ∫ìÔºåÊØè‰∏™‰ªìÂ∫ì‰∏≠ÂèàÂåÖÂê´‰∫ÜÂ§öÈïúÂÉèÔºå ÊØè‰∏™ÈïúÂÉèÊúâ‰∏çÂêåÁöÑÊ†áÁ≠æ(tag) „ÄÇ ‰ªìÂ∫ìÂàÜ‰∏∫ÂÖ¨ÂºÄ‰ªìÂ∫ì(Public) ÂíåÁßÅÊúâ‰ªìÂ∫ì(Private) ‰∏§ÁßçÂΩ¢Âºè„ÄÇ ÊúÄÂ§ßÁöÑÂÖ¨ÂºÄ‰ªìÂ∫ìÊòØDocker Hub(ttps://hub. docker.com/) Â≠òÊîæ‰∫ÜÊï∞ÈáèÂ∫ûÂ§ßÁöÑÈïúÂÉè‰æõÁî®Êà∑‰∏ãËΩΩ„ÄÇÂõΩÂÜÖÁöÑÂÖ¨ÂºÄ‰ªìÂ∫ìÂåÖÊã¨ÈòøÈáå‰∫ë„ÄÅÁΩëÊòì‰∫ëÁ≠â Â∞èÊÄªÁªì () ÈúÄË¶ÅÊ≠£Á°ÆÁöÑÁêÜËß£‰ªìÂÇ®/ÈïúÂÉè/ÂÆπÂô®ËøôÂá†‰∏™Ê¶ÇÂøµ: DockerÊú¨Ë∫´ÊòØ‰∏Ä‰∏™ÂÆπÂô®ËøêË°åËΩΩ‰ΩìÊàñÁß∞‰πã‰∏∫ÁÆ°ÁêÜÂºïÊìé„ÄÇÊàë‰ª¨ÊääÂ∫îÁî®Á®ãÂ∫èÂíåÈÖçÁΩÆ‰æùËµñÊâìÂåÖÂ•ΩÂΩ¢Êàê‰∏Ä-‰∏™ÂèØ‰∫§‰ªòÁöÑËøêË°åÁéØÂ¢ÉÔºåËøô‰∏™ÊâìÂ•ΩÁöÑËøêË°åÁéØÂ¢ÉÂ∞±‰ºº‰πéimageÈïúÂÉèÊñá‰ª∂„ÄÇÂè™ÊúâÈÄöËøáËøô‰∏™ÈïúÂÉèÊñá‰ª∂ÊâçËÉΩÁîüÊàêDockerÂÆπÂô®„ÄÇimageÊñá‰ª∂ÂèØ‰ª•Áúã‰ΩúÊòØÂÆπÂô®ÁöÑÊ®°Êùø„ÄÇDockerÊ†πÊçÆimageÊñá‰ª∂ÁîüÊàêÂÆπÂô®ÁöÑÂÆû‰æã„ÄÇÂêå‰∏Ä‰∏™imageÊñá‰ª∂ÔºåÂèØ‰ª•ÁîüÊàêÂ§ö‰∏™ÂêåÊó∂ËøêË°åÁöÑÂÆπÂô®ÂÆû‰æã„ÄÇ imageÊñá‰ª∂ÁîüÊàêÁöÑÂÆπÂô®ÂÆû‰æãÔºåÊú¨Ë∫´‰πüÊòØ‰∏Ä‰∏Ä‰∏™Êñá‰ª∂ÔºåÁß∞‰∏∫ÈïúÂÉèÊñá‰ª∂„ÄÇ ‰∏Ä‰∏™ÂÆπÂô®ËøêË°å‰∏ÄÁßçÊúçÂä°ÔºåÂΩìÊàë‰ª¨ÈúÄË¶ÅÁöÑÊó∂ÂÄôÔºåÂ∞±ÂèØ‰ª•ÈÄöËøádockerÂÆ¢Êà∑Á´ØÂàõÂª∫‰∏Ä-‰∏™ÂØπÂ∫îÁöÑËøêË°åÂÆû‰æãÔºå‰πüÂ∞±ÊòØÊàë‰ª¨ÁöÑÂÆπÂô®Ëá≥‰∫é‰ªìÂÇ®ÔºåÂ∞±ÊòØÊîæ‰∫Ü‰∏ÄÂ†ÜÈïúÂÉèÁöÑÂú∞ÊñπÔºåÊàë‰ª¨ÂèØ‰ª•ÊääÈïúÂÉèÂèëÂ∏ÉÂà∞‰ªìÂÇ®‰∏≠ÔºåÈúÄË¶ÅÁöÑÊó∂ÂÄô‰ªé‰ªìÂÇ®‰∏≠Êãâ‰∏ãÊù•Â∞±ÂèØ‰ª•‰∫Ü„ÄÇ| 2.1 Âç∏ËΩΩÁ≥ªÁªü‰πãÂâçÂÆâË£ÖÁöÑdocker Uninstall old versions. ‰∏ÄÊ≠•‰∏ÄÊ≠•ÂæÄ‰∏ãÊâßË°åÂ∞±Ë°å 12345678sudo yum remove docker \\ docker-client \\ docker-client-latest \\ docker-common \\ docker-latest \\ docker-latest-logrotate \\ docker-logrotate \\ docker-engine SET UP THE REPOSITORY Install the yum-utils package (which provides the yum-config-manager utility) and set up the stable repository. 1234sudo yum install -y yum-utilssudo yum-config-manager \\ --add-repo \\ https://download.docker.com/linux/centos/docker-ce.repo INSTALL DOCKER ENGINE 1.Install the latest version of Docker Engine and containerd, or go to the next step to install a specific version: 1sudo yum install docker-ce docker-ce-cli containerd.io Start Docker 1sudo systemctl start docker Verify that Docker Engine is installed correctly by running the hello-world image. 1sudo docker run hello-world ËÆæÁΩÆ docker ÂºÄÊú∫Ëá™ÂêØÂä® 1sudo systemctl enable docker ËÆæÁΩÆ Docker ÈïúÂÉèÂä†ÈÄü ÁôªÂΩï aliyun.com Âú®ÊéßÂà∂Âè∞ÊâæÂà∞ÂÆπÂô®ÈïúÂÉèÊúçÂä° docker ËøõÂÖ• ÂØπÂ∫îÂÆπÂô® 123docker ps #Êü•Áúã‰∏ªÊú∫ÊúâÂì™‰∫õÂÆπÂô®docker exec -it ÂÆπÂô®ID/NAME /bin/bash #ËøõÂÖ•ÂØπÂ∫îÂÆπÂô®exit; #ÈÄÄÂá∫ÂÆπÂô®[Âø´Êç∑ÈîÆ ctrl + p/q] imageÊñá‰ª∂ÁîüÊàêÁöÑÂÆπÂô®ÂÆû‰æãÔºåÊú¨Ë∫´‰πüÊòØ‰∏Ä‰∏Ä‰∏™Êñá‰ª∂ÔºåÁß∞‰∏∫ÈïúÂÉèÊñá‰ª∂„ÄÇ ‰∏Ä‰∏™ÂÆπÂô®ËøêË°å‰∏ÄÁßçÊúçÂä°ÔºåÂΩìÊàë‰ª¨ÈúÄË¶ÅÁöÑÊó∂ÂÄôÔºåÂ∞±ÂèØ‰ª•ÈÄöËøádockerÂÆ¢Êà∑Á´ØÂàõÂª∫‰∏Ä-‰∏™ÂØπÂ∫îÁöÑËøêË°åÂÆû‰æãÔºå‰πüÂ∞±ÊòØÊàë‰ª¨ÁöÑÂÆπÂô®Ëá≥‰∫é‰ªìÂÇ®ÔºåÂ∞±ÊòØÊîæ‰∫Ü‰∏ÄÂ†ÜÈïúÂÉèÁöÑÂú∞ÊñπÔºåÊàë‰ª¨ÂèØ‰ª•ÊääÈïúÂÉèÂèëÂ∏ÉÂà∞‰ªìÂÇ®‰∏≠ÔºåÈúÄË¶ÅÁöÑÊó∂ÂÄô‰ªé‰ªìÂÇ®‰∏≠Êãâ‰∏ãÊù•Â∞±ÂèØ‰ª•‰∫Ü„ÄÇ| ÂÆâË£ÖÊñπÊ≥ï‰∫å Centos6.8ÂÆâË£ÖDocker 1„ÄÅyum install -y epel-release 2„ÄÅyum install -y docker-io 3„ÄÅÂÆâË£ÖÂêéÁöÑÈÖçÁΩÆÊñá‰ª∂Ôºö etc/sysconfig/docker 4„ÄÅÂêØÂä® DockerÂêéÂè∞ÊúçÂä°: service docker start 5„ÄÅdocker version È™åËØÅ Centos7.0ÂÆâË£ÖDocker https://docs.docker.com/engine/install/centos/ Ê∞∏ËøúÁöÑhelloworld ÈòøÈáå‰∫ëÈïúÂÉèÂä†ÈÄü ÊòØ‰ªÄ‰πà ‚Äã https://promotion.aliyun.com/ntms/act/kubernetes.html Ê≥®ÂÜå‰∏Ä‰∏™Â±û‰∫éËá™Â∑±ÁöÑÈòøÈáå‰∫ëË¥¶Êà∑( ÂèØÂ§çÁî®Ê∑òÂÆùË¥¶Âè∑) Ëé∑ÂæóÂä†ÈÄüÂô®Âú∞ÂùÄËøûÊé• ‚Äã ÁôªÂΩïÈòøÈáå‰∫ëÂºÄÂèëËÄÖÂπ≥Âè∞ ‚Äã Ëé∑ÂèñÂä†ÈÄüÂô®Âú∞ÂùÄ ÈÖçÁΩÆÊú¨Êú∫DockerËøêË°åÈïúÂÉèÂä†ÈÄüÂô® ‚Äã Èâ¥‰∫éÂõΩÂÜÖÁΩëÁªúÈóÆÈ¢òÔºåÂêéÁª≠ÊãâÂèñDockerÈïúÂÉèÂçÅÂàÜÁºìÊÖ¢ÔºåÊàë‰ª¨ÂèØ‰ª•ÈúÄË¶ÅÈÖçÁΩÆÂä†ÈÄüÂô®Êù•Ëß£ÂÜ≥Ôºå Êàë‰ΩøÁî®ÁöÑÊòØÈòøÈáå‰∫ëÁöÑÊú¨‰∫∫Ëá™Â∑±Ë¥¶Âè∑ÁöÑÈïúÂÉèÂú∞ÂùÄ(ÈúÄË¶ÅËá™Â∑±Ê≥®ÂÜåÊúâ‰∏Ä‰∏™Â±û‰∫é‰Ω†Ëá™Â∑±ÁöÑ): ht:po/. mirror aliyuncns .com vim /etc/sysconfig/docker Â∞ÜËé∑ÂæóÁöÑËá™Â∑±Ë¥¶Êà∑‰∏ãÁöÑÈòøÈáå‰∫ëÂä†ÈÄüÂú∞ÂùÄÈÖçÁΩÆËøõ other_ args-=&quot;--registry-mirror=https://‰Ω†Ëá™ Â∑±ÁöÑË¥¶Âè∑Âä†ÈÄü‰ø°ÊÅØ.mirror .aliyuncs.com ÈáçÊñ∞ÂêØÂä® Docker ÂêéÂè∞ÊúçÂä°Ôºöservice docker restart LinuxÁ≥ªÁªü‰∏ãÈÖçÁΩÆÂÆåÂä†ÈÄüÂô®ÈúÄË¶ÅÊ£ÄÊü•ÊòØÂê¶ÁîüÊïà ÁΩëÊòì‰∫ëÂä†ÈÄü Âü∫Êú¨‰∏äÂêå‰∏äËø∞ÈòøÈáå‰∫ë ÂêØÂä®DockerÂêéÂè∞ÂÆπÂô®(ÊµãËØïËøêË°å hello-world ) ‚Äã docker run hello world runÂπ≤‰∫Ü‰ªÄ‰πà Â∫ïÂ±ÇÂéüÁêÜ DockerÊòØÊÄéÊ†∑Â∑•‰ΩúÁöÑ DockerÊòØ‰∏Ä‰∏™Client-ServerÁªìÊûÑÁöÑÁ≥ªÁªüÔºåDockerÂÆà Êä§ËøõÁ®ãËøêË°åÂú®‰∏ªÊú∫‰∏äÔºåÁÑ∂ÂêéÈÄöËøáSocketËøû Êé•‰ªéÂÆ¢Êà∑Á´ØËÆøÈóÆÔºåÂÆàÊä§ËøõÁ®ã‰ªéÂÆ¢Êà∑Á´ØÊé•ÂèóÂëΩ‰ª§Âπ∂ÁÆ°ÁêÜËøêË°åÂú®‰∏ªÊú∫‰∏äÁöÑÂÆπÂô®„ÄÇÂÆπÂô®ÔºåÊòØ‰∏Ä‰∏™ËøêË°åÊó∂ÁéØÂ¢ÉÔºåÂ∞±ÊòØÊàë‰ª¨ÂâçÈù¢ËØ¥Âà∞ÁöÑÈõÜË£ÖÁÆ±„ÄÇ ‰∏∫‰ªÄ‰πàDockerÊØîËæÉÊØîvmÂø´ 1„ÄÅdockerÊúâÁùÄÊØîËôöÊãüÊú∫Êõ¥Â∞ëÁöÑÊäΩË±°Â±Ç„ÄÇÁî±‰∫çdocker‰∏çÈúÄË¶ÅHypervisorÂÆûÁé∞Á°¨‰ª∂ËµÑÊ∫êËôöÊãüÂåñ,ËøêË°åÂú®dockerÂÆπÂô®‰∏äÁöÑÁ®ãÂ∫èÁõ¥Êé•‰ΩøÁî®ÁöÑÈÉΩÊòØÂÆûÈôÖÁâ©ÁêÜÊú∫ÁöÑÁ°¨‰ª∂ËµÑÊ∫ê„ÄÇÂõ†Ê≠§Âú®CPU„ÄÅÂÜÖÂ≠òÂà©Áî®Áéá‰∏ädockerÂ∞Ü‰ºöÂú®ÊïàÁéá‰∏äÊúâÊòéÊòæ‰ºòÂäø„ÄÇ 2„ÄÅdockerÂà©Áî®ÁöÑÊòØÂÆø‰∏ªÊú∫ÁöÑÂÜÖÊ†∏,ËÄå‰∏çÈúÄË¶ÅGuest OS„ÄÇÂõ†Ê≠§,ÂΩìÊñ∞Âª∫‰∏Ä‰∏™ ÂÆπÂô®Êó∂,docker‰∏çÈúÄË¶ÅÂíåËôöÊãüÊú∫‰∏ÄÊ†∑ ÈáçÊñ∞Âä†ËΩΩ- - ‰∏™Êìç‰ΩúÁ≥ªÁªüÂÜÖÊ†∏‰ªçËÄåÈÅøÂÖçÂºïÂØª„ÄÅÂä†ËΩΩÊìç‰ΩúÁ≥ªÁªüÂÜÖÊ†∏Ëøî‰∏™ÊØîËæÉË¥πÊó∂Ë¥πËµÑÊ∫êÁöÑËøáÁ®ã,ÂΩìÊñ∞Âª∫--‰∏™ËôöÊãüÊú∫Êó∂,ËôöÊãüÊú∫ËΩØ‰ª∂ÈúÄË¶ÅÂä†ËΩΩGuestOS,Ëøî‰∏™Êñ∞Âª∫ËøáÁ®ãÊòØÂàÜÈíüÁ∫ßÂà´ÁöÑ„ÄÇËÄådockerÁî±‰∫éÁõ¥Êé•Âà©Áî®ÂÆø‰∏ªÊú∫ÁöÑÊìç‰ΩúÁ≥ªÁªü,ÂàôÁúÅÁï•‰∫ÜËøî‰∏™ËøáÁ®ã,Âõ†Ê≠§Êñ∞Âª∫‰∏Ä-‰∏™dockerÂÆπÂô®Âè™ÈúÄË¶ÅÂá†ÁßíÈíü„ÄÇ ‰∏â„ÄÅ DockerÂ∏∏Áî®ÂëΩ‰ª§ Â∏ÆÂä©ÂëΩ‰ª§ 123456docker Versiondocker infodocker --help Ëá™Â∑±Êü•ÁúãÂÆòÁΩëËß£ÈáäÔºåÈ´òÊâãÈÉΩÊòØËá™Â∑±ÁªÉÂá∫Êù•ÁöÑÔºåÁôæÂ∫¶‰∏äÂè™‰∏çËøáÊòØÁøªËØë‰∫Ü‰∏ãÔºåÂä†‰∫ÜÁÇπ‰æãÂ≠ê ÈïúÂÉèÂëΩ‰ª§ docker images ÂàóÂá∫Êú¨Êú∫‰∏äÁöÑÈïúÂÉè OPTIONS ËØ¥ÊòéÔºö 1234-a ÂàóÂá∫Êú¨Âú∞ÊâÄÊúâÁöÑÈïúÂÉè(Âê´‰∏≠Èó¥Êò†Â∞ÑÂ±Ç)-q Âè™ÊòæÁ§∫ÈïúÂÉèID--digests ÊòæÁ§∫ÈïúÂÉèÁöÑÊëòË¶Å‰ø°ÊÅØ--no-trunc ÊòæÁ§∫ÂÆåÊï¥ÁöÑÈïúÂÉè‰ø°ÊÅØ docker search Êüê‰∏™XXXÈïúÂÉèÁöÑÂêçÂ≠ó ‚Äã ÁΩëÁ´ô www.dockerhub.com ‚Äã docker search [OPTIONS] ÈïúÂÉèÂêçÂ≠ó ‚Äã OPTIONS ËØ¥Êòé 123--no-trun ÊòæÁ§∫ÂÆåÊï¥ÁöÑÈïúÂÉèÊèèËø∞-s ÂàóÂá∫Êî∂ËóèÊï∞‰∏çÂ∞è‰∫éÊåáÂÆöÂÄºÁöÑÈïúÂÉè--automated Âè™ÂàóÂá∫ automated buildÁ±ªÂûãÁöÑÈïúÂÉè docker pull Êüê‰∏™ÈïúÂÉèÁöÑÂêçÂ≠ó ‚Äã ‰∏ãËΩΩÈïúÂÉè ‚Äã docker pull ÈïúÂÉèÂêçÂ≠ó[:TAG] docker rmi Êüê‰∏™XXXÈïúÂÉèÁöÑÂêçÂ≠óID ‚Äã Âà†Èô§ÈïúÂÉè ‚Äã Âà†Èô§Âçï‰∏™ docker rm -f ÈïúÂÉèID ‚Äã Âà†Èô§Â§ö‰∏™ docker rm -f ÈïúÂÉèÂêç1:TAG ÈïúÂÉèÂêç2:TAG ‚Äã Âà†Èô§Â§ö‰∏™ docker rmi -f $ ÂÆπÂô®ÂëΩ‰ª§ ÊúâÈïúÂÉèÊâçËÉΩÂàõÂª∫ÂÆπÂô®ÔºåËøôÊòØÊ†πÊú¨ÂâçÊèê(‰∏ãËΩΩ‰∏Ä‰∏™CentosÈïúÂÉèÊºîÁ§∫) ‚Äã docker pull centos Êñ∞Âª∫Âπ∂ÂêØÂä®ÂÆπÂô® ‚Äã docker run [OPTIONS] IMAGE [COMMAND][ARG] ‚Äã OPTIONS ËØ¥Êòé 123456789101112OPTIONSËØ¥Êòé(Â∏∏Áî®) :Êúâ‰∫õÊòØ‰∏Ä‰∏™ÂáèÂè∑ÔºåÊúâ‰∫õÊòØ‰∏§‰∏™ÂáèÂè∑--name=&quot;ÂÆπÂô®Êñ∞ÂêçÂ≠ó&quot;:‰∏∫ÂÆπÂô®ÊåáÂÆö‰∏Ä‰∏™ÂêçÁß∞;-d:ÂêéÂè∞ËøêË°åÂÆπÂô®ÔºåÂπ∂ËøîÂõûÂÆπÂô®IDÔºå ‰πüÂç≥ÂêØÂä®ÂÆàÊä§ÂºèÂÆπÂô®;-i:‰ª•‰∫§‰∫íÊ®°ÂºèËøêË°åÂÆπÂô®ÔºåÈÄöÂ∏∏‰∏é-tÂêåÊó∂‰ΩøÁî®;-t:‰∏∫ÂÆπÂô®ÈáçÊñ∞ÂàÜÈÖç‰∏Ä‰∏™‰º™ËæìÂÖ•ÁªàÁ´ØÔºåÈÄöÂ∏∏‰∏é-iÂêåÊó∂‰ΩøÁî®;-P:ÈöèÊú∫Á´ØÂè£Êò†Â∞Ñ;-p:ÊåáÂÆöÁ´ØÂè£Êò†Â∞ÑÔºåÊúâ‰ª•‰∏ãÂõõÁßçÊ†ºÂºèip:hostPort:containerPortip::containerPorthostPort:containerPortcontainerPort ÂàóÂá∫ÂΩìÂâçÊâÄÊúâÊ≠£Âú®ËøêË°åÁöÑÂÆπÂô® ‚Äã docker ps [OPTIONS] 1234567OPTIONSËØ¥Êòé(Â∏∏Áî®) :-a :ÂàóÂá∫ÂΩìÂâçÊâÄÊúâÊ≠£Âú®ËøêË°åÁöÑÂÆπÂô®+ÂéÜÂè≤‰∏äËøêË°åËøáÁöÑ-|:ÊòæÁ§∫ÊúÄËøëÂàõÂª∫ÁöÑÂÆπÂô®„ÄÇ-n:ÊòæÁ§∫ÊúÄËøën‰∏™ÂàõÂª∫ÁöÑÂÆπÂô®„ÄÇ-q :ÈùôÈªòÊ®°ÂºèÔºåÂè™ÊòæÁ§∫ÂÆπÂô®ÁºñÂè∑„ÄÇ--no-trunc :‰∏çÊà™Êñ≠ËæìÂá∫„ÄÇ ÈÄÄÂá∫ÂÆπÂô® ‰∏§ÁßçÈÄÄÂá∫ÊñπÂºè ‚Äã exit ÂÆπÂô®ÂÅúÊ≠¢ÈÄÄÂá∫ ‚Äã ctrl+P+Q ÂÆπÂô®‰∏çÂÅúÊ≠¢ÈÄÄÂá∫ ÂêØÂä®ÂÆπÂô® docker start ÂÆπÂô®IDÊàñÂÆπÂô®Á≠æÂêç ÈáçÂêØÂÆπÂô® docker restart ÂÆπÂô®IDÊàñÂÆπÂô®Á≠æÂêç ÂÅúÊ≠¢ÂÆπÂô® docker stop ÂÆπÂô®IDÊàñÂÆπÂô®Á≠æÂêç Âº∫Âà∂ÂÅúÊ≠¢ÂÆπÂô® docker kill ÂÆπÂô®IDÊàñÂÆπÂô®Á≠æÂêç Âà†Èô§Â∑≤ÂÅúÊ≠¢ÁöÑÂÆπÂô® docker rm ÂÆπÂô®ID -f ‚Äã ‰∏ÄÊ¨°ÊÄßÂà†Èô§Â§ö‰∏™ÂÆπÂô® ‚Äã docker rm -f $(docker ps -a -q) ‚Äã docker ps -a -q | xargs docker rm ÈáçË¶Å ÂêØÂä®ÂÆàÊä§ÂºèÂÆπÂô® #‰ΩøÁî®ÈïúÂÉècentos:latest‰ª•ÂêéÂè∞Ê®°ÂºèÂêØÂä®‰∏Ä‰∏™ÂÆπÂô® docker run -d centos ÈóÆÈ¢ò:ÁÑ∂Âêédocker ps -aËøõË°åÊü•Áúã,‰ºöÂèëÁé∞ÂÆπÂô®Â∑≤ÁªèÈÄÄÂá∫ ÂæàÈáçË¶ÅÁöÑË¶ÅËØ¥ÊòéÁöÑ‰∏ÄÁÇπ: DockerÂÆπÂô®ÂêéÂè∞ËøêË°å,Â∞±ÂøÖÈ°ªÊúâ‰∏Ä‰∏™ÂâçÂè∞ËøõÁ®ã. ÂÆπÂô®ËøêË°åÁöÑÂëΩ‰ª§Â¶ÇÊûú‰∏çÊòØÈÇ£‰∫õ‰∏ÄÁõ¥ÊåÇËµ∑ÁöÑÂëΩ‰ª§ (ÊØîÂ¶ÇËøêË°åtopÔºåtail) ÔºåÂ∞±ÊòØ‰ºöËá™Âä®ÈÄÄÂá∫ÁöÑ„ÄÇ Ëøô‰∏™ÊòØdockerÁöÑÊú∫Âà∂ÈóÆÈ¢ò,ÊØîÂ¶Ç‰Ω†ÁöÑwebÂÆπÂô®ÔºåÊàë‰ª¨‰ª•nginx‰∏∫‰æãÔºåÊ≠£Â∏∏ÊÉÖÂÜµ‰∏ã,Êàë‰ª¨ÈÖçÁΩÆÂêØÂä®ÊúçÂä°Âè™ÈúÄË¶ÅÂêØÂä®ÂìçÂ∫îÁöÑserviceÂç≥ÂèØ„ÄÇ‰æãÂ¶Ç service nginx start ‰ΩÜÊòØ,ËøôÊ†∑ÂÅö,nginx‰∏∫ÂêéÂè∞ËøõÁ®ãÊ®°ÂºèËøêË°å,Â∞±ÂØºËá¥dockerÂâçÂè∞Ê≤°ÊúâËøêË°åÁöÑÂ∫îÁî®,ËøôÊ†∑ÁöÑÂÆπÂô®ÂêéÂè∞ÂêØÂä®ÂêéÔºå‰ºöÁ´ãÂç≥Ëá™ÊùÄÂõ†‰∏∫‰ªñËßâÂæó‰ªñÊ≤°‰∫ãÂèØÂÅö‰∫Ü.ÊâÄ‰ª•ÔºåÊúÄ‰Ω≥ÁöÑËß£ÂÜ≥ÊñπÊ°àÊòØÂ∞Ü‰Ω†Ë¶ÅËøêË°åÁöÑÁ®ãÂ∫è‰ª•ÂâçÂè∞ËøõÁ®ãÁöÑÂΩ¢ÂºèËøêË°å Êü•ÁúãÂÆπÂô®Êó•Âøó docker logs -f -t --tail ÂÆπÂô®ID ‚Äã -t ÊòØÂä†ÂÖ•Êó∂Èó¥Êà≥ ‚Äã -f Ë∑üÈöèÊúÄÊñ∞ÁöÑÊó•ÂøóÊâìÂç∞ ‚Äã --tail Êï∞Â≠óÊòæÁ§∫ÊúÄÂêéÂ§öÂ∞ëÊù° Êü•ÁúãÂÆπÂô®ÂÜÖÁöÑËøõÁ®ã docker top ÂÆπÂô®ID Êü•ÁúãÂÆπÂô®ÂÜÖÈÉ®ÁªÜËäÇ docker inspect ÂÆπÂô®ID ËøõÂÖ•Ê≠£Âú®ËøêË°åÁöÑÂÆπÂô®Âπ∂‰ª•ÂëΩ‰ª§Ë°å‰∫§‰∫í docker exec -it ÂÆπÂô®ID bashShell ÈáçÊñ∞ËøõÂÖ•docker attach ÂÆπÂô®ID ‰∏äËø∞‰∏§‰∏™Âå∫Âà´ attach Áõ¥Êé•ËøõÂÖ•ÂÆπÂô®ÂêØÂä®ÂëΩ‰ª§ÁöÑÁªàÁ´ØÔºå‰∏ç‰ºöÂêØÂä®Êñ∞ÁöÑËøõÁ®ã exec ÂÆûÂú®ÂÆπÂô®‰∏≠ÊâìÂºÄÊñ∞ÁöÑÁªàÁ´ØÔºåÂπ∂‰∏îÂèØ‰ª•Á©∑ÁöÑÈÇ£‰∏™Êñ∞ÁöÑËøõÁ®ã ‰ªéÂÆπÂô®ÂÜÖÊã∑Ë¥ùÊñá‰ª∂Âà∞‰∏ªÊú∫‰∏ä docker cp ÂÆπÂô®ID:ÂÆπÂô®ÂÜÖË∑ØÂæÑ ÁõÆÁöÑ‰∏ªÊú∫Ë∑ØÂæÑ Â∞èÊÄªÁªì Á¨¨ „ÄÅ Docker ÈïúÂÉè ÊòØ‰ªÄ‰πà ÈïúÂÉèÊòØ‰∏ÄÁßçËΩªÈáèÁ∫ß„ÄÅÂèØÊâßË°åÁöÑÁã¨Á´ãËΩØ‰ª∂ÂåÖÔºåÁî®Êù•ÊâìÂåÖËΩØ‰ª∂ËøêË°åÁéØÂ¢ÉÂíåÂü∫‰∫éËøêË°åÁéØÂ¢ÉÂºÄÂèëÁöÑËΩØ‰ª∂ÔºåÂÆÉÂåÖÂê´ËøêË°åÊüê‰∏™ËΩØ‰ª∂ÊâÄÈúÄÁöÑÊúâÂÜÖÂÆπÔºåÂåÖÊã¨‰ª£Á†Å„ÄÅËøêË°åÊó∂„ÄÅÂ∫ì„ÄÅÁéØÂ¢ÉÂèòÈáèÂíåÈÖçÁΩÆÊñá‰ª∂„ÄÇ UnionFS(ËÅîÂêàÊñá‰ª∂Á≥ªÁªü) UnionFS (Áä∂ËäÇÂèà‰ª∂Á§∫Áªü) UnionFS (ËÅîÂêàÊñá‰ª∂Á≥ªÁªü) : UnionÊñá‰ª∂Á≥ªÁªü(UnionFS)ÊòØ‰∏Ä‰∏ÄÁßçÂàÜÂ±Ç„ÄÅËΩªÈáèÁ∫ßÂπ∂‰∏îÈ´òÊÄßËÉΩÁöÑÊñá‰ª∂Á≥ªÁªüÔºåÂÆÉÊîØÊåÅÂØπÊñá‰ª∂Á≥ªÁªüÁöÑ‰øÆ‰Ωú‰∏∫‰∏Ä Ê¨°Êèê‰∫§Êù•‰∏ÄÂ±ÇÂ±ÇÁöÑÂè†Âä†ÔºåÂêåÊó∂ÂèØ‰ª•Â∞Ü‰∏çÂêåÁõÆÂΩïÊåÇËΩΩÂà∞Âêå‰∏Ä‰∏™ËôöÊãüÊñá‰ª∂Á≥ªÁªü‰∏ã(unite several directories into a singlevirtualfilesystem)„ÄÇUnionÊñá‰ª∂Á≥ªÁªüÊòØDockerÈïúÂÉèÁöÑÂü∫Á°Ä„ÄÇÈïúÂÉèÂèØ‰ª•ÈÄöËøáÂàÜÂ±ÇÊù•ËøõË°åÁªßÊâøÔºåÂü∫‰∫éÂü∫Á°ÄÈïúÂÉè(Ê≤°ÊúâÁà∂ÈïúÂÉè)ÂèØ‰ª•Âà∂‰ΩúÂêÑÁßçÂÖ∑.‰ΩìÁöÑÂ∫îÁî®ÈïúÂÉè„ÄÇ ÁâπÊÄß:‰∏ÄÊ¨°ÂêåÊó∂Âä†ËΩΩÂ§ö‰∏™Êñá‰ª∂Á≥ªÁªüÔºå‰ΩÜ‰ªéÂ§ñÈù¢ÁúãËµ∑Êù•ÔºåÂè™ËÉΩÁúãÂà∞‰∏Ä‰∏™Êñá‰ª∂Á≥ªÁªüÔºåËÅîÂêàÂä†ËΩΩ‰ºöÊääÂêÑÂ±ÇÊñá‰ª∂Á≥ªÁªüÂè†Âä†Ëµ∑Êù•ÔºåËøôÊ†∑ÊúÄÁªàÁöÑÊñá ‰ª∂Á≥ªÁªü‰ºöÂåÖÂê´ÊâÄÊúâÂ∫ïÂ±ÇÁöÑÊñá‰ª∂ÂíåÁõÆÂΩï DockerÈïúÂÉèÂä†ËΩΩÂéüÁêÜ DockerÈïúÂÉèÂä†ËΩΩÂéüÁêÜ: dockerÁöÑÈïúÂÉèÂÆûÈôÖ‰∏äÁî±‰∏ÄÂ±Ç‰∏ÄÂ±ÇÁöÑÊñá‰ª∂Á≥ªÁªüÁªÑÊàêÔºåËøôÁßçÂ±ÇÁ∫ßÁöÑÊñá‰ª∂Á≥ªÁªüUnionFS„ÄÇ botfs(boot file system)‰∏ªË¶ÅÂåÖÂê´bootloaderÂíåkernel, bootloader‰∏ª Ë¶ÅÊòØÂºïÂØºÂä†ËΩΩkernel, LinuxÂàöÂêØÂä®Êó∂‰ºöÂä†ËΩΩbootfsÊñá‰ª∂Á≥ªÁªüÔºåÂú®DockerÈïúÂÉèÁöÑÊúÄÂ∫ïÂ±ÇÊòØbootfs„ÄÇËøô‰∏Ä-Â±Ç‰∏éÊàë‰ª¨ÂÖ∏ÂûãÁöÑLinux/UnixÁ≥ªÁªüÊòØ- - -Ê†∑ÁöÑÔºåÂåÖÂê´bootÂä†ËΩΩÂô®ÂíåÂÜÖÊ†∏„ÄÇÂΩìbootÂä†ËΩΩÂÆåÊàê‰πã ÂêéÊï¥‰∏™ÂÜÖÊ†∏Â∞±ÈÉΩÂú®ÂÜÖÂ≠ò‰∏≠‰∫ÜÔºåÊ≠§Êó∂ÂÜÖÂ≠òÁöÑ‰ΩøÁî®ÊùÉÂ∑±Áî±bootfsËΩ¨‰∫§ÁªôÂÜÖÊ†∏ÔºåÊ≠§Êó∂Á≥ªÁªü‰πü‰ºöÂç∏ËΩΩbootfs„ÄÇ rootfs (root file system)ÔºåÂú®bootfs‰πã ‰∏ä„ÄÇ ÂåÖÂê´ÁöÑÂ∞±ÊòØÂÖ∏ÂûãLinuxÁ≥ªÁªü‰∏≠ÁöÑ**/dev, /proc, /bin, /etcÁ≠âÊ†áÂáÜÁõÆÂΩïÂíåÊñá‰ª∂„ÄÇrootfsÂ∞± ÊòØÂêÑÁßç‰∏çÂêåÁöÑÊìç‰ΩúÁ≥ªÁªüÂèëË°åÁâàÔºåÊØîÂ¶ÇUbuntu**ÔºåCentosÁ≠âÁ≠â„ÄÇ Âπ≥Êó∂Êàë‰ª¨ÂÆâË£ÖÁöÑËôöÊãüÊú∫ÁöÑCentosÈÉΩÊòØÂ•ΩÂá†‰∏™G Ôºå‰∏∫‰ªÄ‰πàdockerËøôÈáåÊâçË¶Å200m ÂØπ‰∫é‰∏Ä‰∏™Á≤æÁÆÄÁöÑOS, rootfsÂèØ ‰ª•ÂæàÂ∞èÔºåÂè™ÈúÄË¶ÅÂåÖÊã¨ÊúÄÂü∫Êú¨ÁöÑÂëΩ‰ª§„ÄÅÂ∑•ÂÖ∑ÂíåÁ®ãÂ∫èÂ∫ìÂ∞±ÂèØ‰ª•‰∫ÜÔºåÂõ†‰∏∫Â∫ïÂ±ÇÁõ¥Êé•Áî®HostÁöÑkernel,Ëá™Âè™ÈúÄË¶ÅÊèê‰æõrootfsÂ∞±Ë°å‰∫Ü„ÄÇÁî±Ê≠§ÂèØËßÅÂØπ‰∫é‰∏çÂêåÁöÑlinuxÂèëË°åÁâà, bootfsÂü∫Êú¨ÊòØ‰∏ÄËá¥ÁöÑ, rootfs‰ºöÊúâÂ∑ÆÂà´ÔºåÂõ†Ê≠§‰∏çÂêåÁöÑÂèëË°åÁâàÂèØ‰ª•ÂÖ¨Áî®bootfs„ÄÇ ÂàÜÂ±ÇÁöÑÈïúÂÉè ÂàÜÂ±ÇÁöÑÈïúÂÉè ‰∏∫‰ªÄ‰πà DockerÁ∫™ÂøµÈ¶ÜÊÉ≥Ë¶ÅÈááÁî®ËøôÁßçÂàÜÂ±ÇÁªìÊûÑ ÊúÄÂ§ßÁöÑ‰∏Ä‰∏™Â•ΩÂ§ÑÂ∞±ÊòØ-ÂÖ±‰∫´ËµÑÊ∫ê ÊØîÂ¶Ç:ÊúâÂ§ö‰∏™ÈïúÂÉèÈÉΩ‰ªéÁõ∏ÂêåÁöÑbaseÈïúÂÉèÊûÑÂª∫ËÄåÊù•ÔºåÈÇ£‰πàÂÆø‰∏ªÊú∫Âè™ÈúÄÂú®Á£ÅÁõò‰∏ä‰øùÂ≠ò‰∏Ä‰ªΩbaseÈïúÂÉè, ÂêåÊó∂ÂÜÖÂ≠ò‰∏≠‰πüÂè™ÈúÄÂä†ËΩΩ‰∏Ä‰ªΩbaseÈïúÂÉèÔºåÂ∞±ÂèØ‰ª•‰∏∫ÊâÄÊúâÂÆπÂô®ÊúçÂä°‰∫Ü„ÄÇËÄå‰∏îÈïúÂÉèÁöÑÊØè‰∏ÄÂ±ÇÈÉΩÂèØ‰ª•Ë¢´ÂÖ±‰∫´„ÄÇ ÁâπÁÇπ DockerÈïúÂÉèÈÉΩÊòØÂè™ËØªÁöÑÔºåÂΩìÂÆπÂô®ÂêØÂä®Êó∂Ôºå‰∏Ä‰∏™Êñ∞ÁöÑÂèØÂÜôÂ±ÇË¢´Âä†ËΩΩÂà∞ÈïúÂÉèÁöÑÈ°∂ÈÉ®ÔºåËøô‰∏ÄÂ±ÇÈÄöÂ∏∏Ë¢´Áß∞‰∏∫ÂÆπÂô®Â±ÇÔºåÂÆπÂô®Â±Ç‰πã‰∏ãÈÉΩÂè´ÈïúÂÉèÂ±Ç DockerÈïúÂÉèCommitÊìç‰Ωú docker commit Êèê‰∫§ÂÆπÂô®ÂâØÊú¨‰Ωø‰πãÁß∞‰∏∫‰∏Ä‰∏™Êñ∞ÁöÑÈïúÂÉè docker commit -m=&quot;Êèê‰∫§ÁöÑÊèèËø∞‰ø°ÊÅØ&quot; -a=&quot;‰ΩúËÄÖ&quot; ÂÆπÂô®ID Ë¶ÅÂàõÂª∫ÁöÑÁõÆÊ†áÈïúÂÉèÂêç:[Ê†áÁ≠æÂêç] Ê°à‰æãÊºîÁ§∫Ôºö 1„ÄÅ‰ªéHub‰∏ä‰∏ãËΩΩtomcatÈïúÂÉèÂà∞Êú¨Âú∞Âπ∂ÊàêÂäüËøêË°å docker run -d -p 8080:8080 tomcat 1234-p‰∏ªÊú∫Á´ØÂè£ÔºödockerÂÆπÂô®Á´ØÂè£-P:ÈöèÊú∫ÂàÜÈÖçÁ´ØÂè£i:‰∫§‰∫ít:ÁªàÁ´Ø 2„ÄÅÊïÖÊÑèÂà†Èô§‰∏ä‰∏ÄÊ≠•ÈïúÂÉèÁîü‰∫ßtomcatÂÆπÂô®ÁöÑÊñáÊ°£ 3„ÄÅ‰πüÂç≥ÂΩìÂâçÁöÑtomcatËøêË°åÂÆû‰æãÊòØ‰∏Ä‰∏™Ê≤°ÊúâÊñáÊ°£ÂÜÖÂÆπÁöÑÂÆπÂô®Ôºå‰ª•‰ªñ‰∏∫Ê®°Êùøcommit‰∏Ä‰∏™Ê≤°ÊúâdocÁöÑtomcatÊñ∞ÈïúÂÉè atguigu/tomcat02 4„ÄÅÂêØÂä®Êàë‰ª¨ÁöÑÊñ∞ÈïúÂÉèÂπ∂ÂíåÂéüÊù•ÁöÑÂØπÊØî ‚Äã ÂêØÂä®atuigu/tomcat02 Ê≤°Êúâdoc ‚Äã ÂêØÂä®ÂéüÊù•tomcat‰ªñÊúâdoc ‰∫î „ÄÅDockerÂÆπÂô®Êï∞ÊçÆÂç∑ ÊòØ‰ªÄ‰πà ÂÖàÊù•ÁúãÁúãDockerÁöÑÁêÜÂøµ: *Â∞ÜËøêÁî®‰∏éËøêË°åÁöÑÁéØÂ¢ÉÊâìÂåÖÂΩ¢ÊàêÂÆπÂô®ËøêË°åÔºåËøêË°åÂèØ‰ª•‰º¥ÈöèÁùÄÂÆπÂô®Ôºå‰ΩÜÊòØÊàë‰ª¨ÂØπÊï∞ÊçÆÁöÑË¶ÅÊ±ÇÂ∏åÊúõÊòØÊåÅ‰πÖÂåñÁöÑ *ÂÆπÂô®‰πãÈó¥Â∏åÊúõÊúâÂèØËÉΩÂÖ±‰∫´Êï∞ÊçÆ DockerÂÆπÂô®‰∫ßÁîüÁöÑÊï∞ÊçÆÔºåÂ¶ÇÊûú‰∏çÈÄöËøádocker commitÁîüÊàêÊñ∞ÁöÑÈïúÂÉèÔºå‰ΩøÂæóÊï∞ÊçÆÂÅö‰∏∫ÈïúÂÉèÁöÑ‰∏ÄÈÉ®ÂàÜ‰øùÂ≠ò‰∏ãÊù•Ôºå ÈÇ£‰πàÂΩìÂÆπÂô®Âà†Èô§ÂêéÔºåÊï∞ÊçÆËá™ÁÑ∂‰πüÂ∞±Ê≤°Êúâ‰∫Ü„ÄÇ ‰∏∫‰∫ÜËÉΩ‰øùÂ≠òÊï∞ÊçÆÂú®docker‰∏≠Êàë‰ª¨‰ΩøÁî®Âç∑„ÄÇ| ‰∏ÄÂè•ËØùÔºöÊúâÁÇπÁ±ª‰ººÊàë‰ª¨RedisÈáåÈù¢ÁöÑrdbÂíåaofÊñá‰ª∂ ËÉΩÂπ≤Âòõ Âç∑Â∞±ÊòØÁõÆÂΩïÊàñÊñá‰ª∂ÔºåÂ≠òÂú®‰∫é‰∏Ä‰∏™ÊàñÂ§ö‰∏™ÂÆπÂô®‰∏≠ÔºåÁî±dockerÊåÇËΩΩÂà∞ÂÆπÂô®Ôºå‰ΩÜ‰∏çÂ±û‰∫éËÅîÂêàÊñá‰ª∂Á≥ªÁªüÔºåÂõ†Ê≠§ËÉΩÂ§üÁªïËøáUnion FileSystemÊèê‰æõ‰∏Ä‰∫õÁî® ‰∫éÊåÅÁª≠Â≠òÂÇ®ÊàñÂÖ±‰∫´Êï∞ÊçÆÁöÑÁâπÊÄß: Âç∑ÁöÑËÆæËÆ°ÁõÆÁöÑÂ∞±ÊòØÊï∞ÊçÆÁöÑÊåÅ‰πÖÂåñÔºåÂÆåÂÖ®Áã¨Á´ã‰∫éÂÆπÂô®ÁöÑÁîüÂ≠òÂë®ÊúüÔºåÂõ†Ê≠§Docker‰∏ç ‰ºöÂú®ÂÆπÂô®Âà†Èô§Êó∂Âà†Èô§ÂÖ∂ÊåÇËΩΩÁöÑÊï∞ÊçÆÂç∑ ÁâπÁÇπ: 1:Êï∞ÊçÆÂç∑ÂèØÂú®ÂÆπÂô®‰πãÈó¥ÂÖ±‰∫´ÊàñÈáçÁî®Êï∞ÊçÆ 2:Âç∑‰∏≠ÁöÑÊõ¥ÊîπÂèØ‰ª•Áõ¥Êé•ÁîüÊïà 3:Êï∞ÊçÆÂç∑‰∏≠ÁöÑÊõ¥Êîπ‰∏ç‰ºöÂåÖÂê´Âú®ÈïúÂÉèÁöÑÊõ¥Êñ∞‰∏≠ 4:Êï∞ÊçÆÂç∑ÁöÑÁîüÂëΩÂë®Êúü‰∏ÄÁõ¥ÊåÅÁª≠Âà∞Ê≤°ÊúâÂÆπÂô®‰ΩøÁî®ÂÆÉ‰∏∫Ê≠¢ ÂÆπÂô®ÁöÑÊåÅ‰πÖÂåñ ÂÆπÂô®Èó¥ÁªßÊâø+ÂÖ±‰∫´Êï∞ÊçÆ Êï∞ÊçÆÂç∑ ÂÆπÂô®ÂÜÖÊ∑ªÂä† Áõ¥Êé•ÂëΩ‰ª§Ê∑ªÂä† docker run -it -v /ÂÆø‰∏ªÊú∫ÁªùÂØπË∑ØÂæÑÁõÆÂΩï:/ÂÆπÂô®ÂÜÖÁõÆÂΩï ÈïúÂÉèÂêç Êü•ÁúãÊï∞ÊçÆÂç∑ÊòØÂê¶ÊåÇËΩΩÊàêÂäü ÂÆπÂô®ÂíåÂÆø‰∏ªÊú∫‰πãÈó¥Êï∞ÊçÆÂÖ±‰∫´ ÂÆπÂô®ÂÅúÊ≠¢ÈÄÄÂá∫ÂêéÔºå‰∏ªÊú∫‰øÆÊîπÂêéÁöÑÊï∞ÊçÆÊòØÂê¶ÂêåÊ≠• ÂëΩ‰ª§(Â∏¶ÊùÉÈôê) ‚Äã docker run -it -v /ÂÆø‰∏ªÊú∫ÁªùÂØπË∑ØÂæÑÁõÆÂΩï:/ÂÆπÂô®ÂÜÖÁõÆÂΩï**:ro** ÈïúÂÉèÂêç DockerFileÊ∑ªÂä† Ê†πÁõÆÂΩï‰∏ãÊñ∞Âª∫mydockerÊñá‰ª∂Â§πÂπ∂ËøõÂÖ• ÂèØÂú®Dockerfile‰∏≠‰ΩøÁî®VOLUMEÊåá‰ª§Êù•ÁªôÈïúÂÉèÊ∑ªÂä†‰∏Ä‰∏™ÊàñÂ§ö‰∏™Êï∞ÊçÆÂç∑ FileÊûÑÂª∫ buildÂêéÁîüÊàêÈïúÂÉè Ëé∑Âæó‰∏Ä‰∏™Êñ∞ÈïúÂÉèzzyy/centos runÂÆπÂô® ÈÄöËøá‰∏äËø∞Ê≠•È™§ÔºåÂÆπÂô®ÂÜÖÁöÑÂç∑ÁõÆÂΩïÂú∞ÂùÄÂ∑≤ÁªèÁü•ÈÅìÔºåÂØπÂ∫îÁöÑ‰∏ªÊú∫ÁõÆÂΩïÂú®Âì™ ‰∏ªÊú∫ÂØπÂ∫îÈªòËÆ§Âú∞ÂùÄ Â§áÊ≥® DockerÊåÇËΩΩ‰∏ªÊú∫ÁõÆÂΩïDockerËÆøÈóÆÂá∫Áé∞cannot open directory . Permission denied Ëß£ÂÜ≥ÂäûÊ≥ï:Âú®ÊåÇËΩΩÁõÆÂΩïÂêéÂ§öÂä†‰∏Ä‰∏™--privileged=trueÂèÇÊï∞Âç≥ÂèØ Êï∞ÊçÆÂç∑ÂÆπÂô® ÊòØ‰ªÄ‰πà ÂëΩÂêçÁöÑÂÆπÂô®ÊåÇËΩΩÊï∞ÊçÆÂç∑ÔºåÂÖ∂ÂÆÉÂÆπÂô®ÈÄöËøáÊåÇËΩΩËøô‰∏™(Áà∂ÂÆπÂô®)ÂÆûÁé∞Êï∞ÊçÆÂÖ±‰∫´ÔºåÊåÇËΩΩÊï∞ÊçÆÂç∑ÁöÑÂÆπÂô®ÔºåÁß∞‰πã‰∏∫Êï∞ÊçÆÂç∑ÂÆπÂô®. ÊÄª‰Ωì‰ªãÁªç ‰ª•‰∏ä‰∏ÄÊ≠•Êñ∞Âª∫ÁöÑzzyy/centos‰∏∫Ê®°ÊùøÂπ∂ËøêË°åÂÆπÂô® doc1/doc2/doc3 ‰ªñ‰ª¨Â∑≤ÁªèÂÖ∑ÊúâÂÆπÂô®Âç∑ ‚Äã /dataVolumeContainer1 ‚Äã /dataVolumeContainer2 ÂÆπÂô®Èó¥‰º†ÈÄíÂÖ±‰∫´(--volumes -from) ÂÖàÂêØÂä®‰∏Ä‰∏™Áà∂ÂÆπÂô®doc1 ÂêØÂä®ÂêéÂú® dataVolumeContainer1‰∏≠Êñ∞Â¢ûÂÜÖÂÆπ doc2/doc3 ÁªßÊâødoc1 ‚Äã --volumes -from doc2/doc3 ÂàÜÂà´Âú®dataVolumeContainer2ÂêÑËá™Êñ∞Â¢ûÂÜÖÂÆπ ÂõûÂà∞doc1ÂèØ‰ª•ÁúãÂà∞02/03ÂêÑËá™Ê∑ªÂä†ÁöÑÈÉΩËÉΩÂÖ±‰∫´‰∫Ü Âà†Èô§doc1 doc2‰øÆÊîπÂêédoc3ÊòØÂê¶ÂèØ‰ª•ËÆøÈóÆ Âà†Èô§doc02Âêédoc3ÊòØÂê¶ËÆøÈóÆ Âú®Ëøõ‰∏ÄÊ≠• Êñ∞Âª∫doc04ÁªßÊâødoc03 ÁÑ∂ÂêéÂà†Èô§doc03 ÁªìËÆ∫ÔºöÂÆπÂô®‰πãÈó¥ÈÖçÁΩÆ‰ø°ÊÅØÁöÑ‰º†ÈÄíÔºåÊï∞ÊçÆÂç∑ÁöÑÁîüÂëΩÂë®Êúü‰∏ÄÁõ¥ÊåÅÁª≠Âà∞Ê≤°ÊúâÂÆπÂô®‰ΩøÁî®ÂÆÉ‰∏∫Ê≠¢ ÂÖ≠ „ÄÅ DockerFileËß£Êûê ÊòØ‰ªÄ‰πà DockerfileÊòØÁî®Êù•ÊûÑÂª∫DockerÈïúÂÉèÁöÑÊûÑÂª∫Êñá‰ª∂ÔºåÁî±‰∏ÄÁ≥ªÂàóÂëΩ‰ª§ÂíåÂèÇÊï∞ÊûÑÊàêÁöÑËÑöÊú¨ ÊûÑÂª∫‰∏âÊ≠•È™§ ‚Äã ÁºñÂÜôDockerfileÊñá‰ª∂ ‚Äã docker build ‚Äã docker run Êñá‰ª∂‰ªÄ‰πàÊ†∑ÔºüÔºüÔºü ‚Äã ÁÜüÊÇâÁöÑCentos‰∏∫‰æã http://hub.docker.com/_/centos DockerFileÊûÑÂª∫ËøáÁ®ãËß£Êûê DockerfileÂÜÖÂÆπÂü∫Á°ÄÁü•ËØÜ 1„ÄÅÊØèÊù°‰øùÁïôÂ≠óÊåá‰ª§ÈÉΩÂøÖÈ°ª‰∏∫Â§ßÂÜôÂ≠óÊØç‰∏îÂêéÈù¢Ë¶ÅË∑üÈöèËá≥Â∞ë‰∏Ä‰∏™ÂèÇÊï∞ 2„ÄÅ Êåá‰ª§ÊåâÁÖß‰ªé.‰∏äÂà∞‰∏ãÔºåÈ°∫Â∫èÊâßË°å 3„ÄÅ#Ë°®Á§∫Ê≥®Èáä 4„ÄÅÊØèÊù°Êåá‰ª§ÈÉΩ‰ºöÂàõÂª∫‰∏Ä‰∏™Êñ∞ÁöÑÈïúÂÉèÂ±ÇÔºåÂπ∂ÂØπÈïúÂÉèËøõË°åÊèê‰∫§ DockerÊâßË°åDockerfileÁöÑÂ§ßËá¥ÊµÅÁ®ã 1„ÄÅ docker ‰ªéÂü∫Á°ÄÈïúÂÉèËøêË°å‰∏Ä‰∏™ÂÆπÂô® 2„ÄÅÊâßË°å‰∏Ä-Êù°Êåá‰ª§Âπ∂ÂØπÂÆπÂô®‰ΩúÂá∫‰øÆÊîπ 3„ÄÅÊâßË°åÁ±ª‰ººdocker commitÁöÑÊìç‰ΩúÊèê‰∫§- -‰∏™Êñ∞ÁöÑÈïúÂÉèÂ±Ç 4„ÄÅdockerÂÜçÂü∫ ‰∫éÂàöÊèê‰∫§ÁöÑÈïúÂÉèËøêË°å‰∏Ä‰∏Ä‰∏™Êñ∞ÂÆπÂô® 5„ÄÅÊâßË°ådockerfile‰∏≠ÁöÑ ‰∏ã‰∏ÄÊù°Êåá‰ª§Áõ¥Âà∞ÊâÄÊúâÊåá‰ª§ÈÉΩÊâßË°åÂÆåÊàê Â∞èÊÄªÁªì ‰ªéÂ∫îÁî®ËΩØ‰ª∂ÁöÑËßíÂ∫¶Êù•ÁúãÔºåDockerfile„ÄÅ DockerÈïúÂÉè‰∏éDockerÂÆπÂô®ÂàÜÂà´‰ª£Ë°®ËΩØ‰ª∂ÁöÑ‰∏â‰∏™‰∏çÂêåÈò∂ÊÆµÔºå DockerfileÊòØËΩØ‰ª∂ÁöÑÂéüÊùêÊñô DockerÈïúÂÉèÊòØËΩØ‰ª∂ÁöÑ‰∫§‰ªòÂìÅ DockerÂÆπÂô®ÂàôÂèØ‰ª•ËÆ§‰∏∫ÊòØËΩØ‰ª∂ÁöÑËøêË°åÊÄÅ„ÄÇ DockerfileÈù¢ÂêëÂºÄÂèëÔºåDockerÈïú ÂÉèÊàê‰∏∫‰∫§‰ªòÊ†áÂáÜÔºåDockerÂÆπ Âô®ÂàôÊ∂âÂèäÈÉ®ÁΩ≤‰∏éËøêÁª¥Ôºå‰∏âËÄÖÁº∫- -‰∏çÂèØÔºåÂêàÂäõÂÖÖÂΩìDocker‰ΩìÁ≥ªÁöÑÂü∫Áü≥„ÄÇ 1„ÄÅDockerfileÔºåÈúÄË¶ÅÂÆö‰πâ‰∏Ä‰∏™DockerfileÔºåDockerfileÂÆö ‰πâ‰∫ÜËøõÁ®ãÈúÄË¶ÅÁöÑ‰∏ÄÂàá‰∏úË•ø„ÄÇDockerfileÊ∂â ÂèäÁöÑÂÜÖÂÆπÂåÖÊã¨ÊâßË°å‰ª£Á†ÅÊàñËÄÖÊòØÊñá‰ª∂„ÄÅÁéØÂ¢ÉÂèòÈáè„ÄÅ‰æùËµñÂåÖ„ÄÅËøêË°åÊó∂ÁéØÂ¢É„ÄÅÂä®ÊÄÅÈìæÊé•Â∫ì„ÄÅÊìç‰ΩúÁ≥ªÁªüÁöÑÂèëË°åÁâà„ÄÅÊúçÂä°ËøõÁ®ãÂíåÂÜÖÊ†∏ËøõÁ®ã(ÂΩìÂ∫îÁî®ËøõÁ®ãÈúÄË¶ÅÂíåÁ≥ªÁªüÊúçÂä°ÂíåÂÜÖÊ†∏ËøõÁ®ãÊâì‰∫§ÈÅìÔºåËøôÊó∂ÈúÄË¶ÅËÄÉËôëÂ¶Ç‰ΩïËÆæËÆ°namespaceÁöÑÊùÉÈôêÊéßÂà∂)Á≠âÁ≠â; 2„ÄÅDockerÈïúÂÉèÔºåÂú®Áî®DockerfileÂÆö‰πâ‰∏ÄÊñá‰ª∂‰πãÂêéÔºådocker buildÊó∂‰ºö‰∫ßÁîü- -‰∏™DockerÈïúÂÉèÔºåÂΩìËøêË°åDockerÈïúÂÉèÊó∂Ôºå‰ºöÁúüÊ≠£ÂºÄÂßãÊèê‰æõÊúçÂä°; 3„ÄÅDockerÂÆπÂô®ÔºåÂÆπÂô®ÊòØÁõ¥Êé•Êèê‰æõÊúçÂä°ÁöÑ„ÄÇ DockerFile‰ΩìÁ≥ªÁªìÊûÑ(‰øùÁïôÂ≠óÊåá‰ª§) Â∞èÊÄªÁªì Ê°à‰æã Base ÈïúÂÉè(scratch) Docker Hub‰∏≠ 99%ÁöÑÈïúÂÉèÈÉΩÊòØÈÄöËøáÂú®baseÈïúÂÉè‰∏≠ÂÆâË£ÖÂíåÈÖçÁΩÆÈúÄË¶ÅÁöÑËΩØ‰ª∂ÊûÑÂª∫Âá∫Êù•ÁöÑ Ëá™ÂÆö‰πâÈïúÂÉèmycentos 1„ÄÅÁºñÂÜô ‚Äã HubÈªòËÆ§CentosÈïúÂÉèÊòØ‰ªÄ‰πàÊÉÖÂÜµ ÂáÜÂ§áDockerfileÊñá‰ª∂ myCentOSÂÜÖÂÆπDockerfile 1234567891011121314FROM centosMAINTAINER ZZYY&lt;zzyy167@126.com&gt;ENV MYPATH /usr/localWORKDIR $MYPATHRUN yum -y install vimRUN yum -y install net-toolsEXPOSE 80CMD echo $MYPATHCMD echo &quot;success--------------ok&quot;CMD /bin/bash 2„ÄÅÊûÑÂª∫ docker build -t Êñ∞ÈïúÂÉèÂêçÂ≠ó:TAG . 3„ÄÅËøêË°å docker run -it Êñ∞ÈïúÂÉèÂêçÂ≠ó:TAG 4„ÄÅÂàóÂá∫ÈïúÂÉèÁöÑÂèòÊõ¥ÂéÜÂè≤ docker history ÈïúÂÉèÂêç CMD/ENTRYPOINT ÈïúÂÉèÊ°à‰æã ÈÉΩÊòØÊåáÂÆö‰∏Ä‰∏™ÂÆπÂô®ÂêØÂä®Êó∂Ë¶ÅËøêË°åÁöÑÂëΩ‰ª§ CMD ‚Äã Dockerfile‰∏≠ÂèØ‰ª•ÊúâÂ§ö‰∏™CMDÊåá‰ª§Ôºå‰ΩÜÂè™ÊúâÊúÄÂêé‰∏Ä‰∏™ÁîüÊïàÔºåCMD‰ºöË¢´dockerrun‰πãÂêéÁöÑÂèÇÊï∞ÊõøÊç¢ ‚Äã Case ‚Äã tomcatÁöÑËÆ≤Ëß£ÊºîÁ§∫ docker run -it -p 8080:8080 tomcat ls -l ENTRYPOINT ‚Äã docker run ‰πãÂêéÁöÑÂèÇÊï∞‰ºöË¢´ÂΩìÂÅöÂèÇÊï∞‰º†ÈÄíÁªô ENTRYPOINT ‰πãÂêéÂΩ¢ÊàêÊñ∞ÁöÑÂëΩ‰ª§ÁªÑÂêà ‚Äã Case Âà∂‰ΩúCMDÁâàÂèØ‰ª•Êü•ËØ¢IP‰ø°ÊÅØÁöÑÂÆπÂô® curlÁöÑÂëΩ‰ª§Ëß£Èáä curlÂëΩ‰ª§ÂèØ‰ª•Áî®Êù•ÊâßË°å‰∏ãËΩΩ„ÄÅÂèëÈÄÅÂêÑÁßçHTTPËØ∑Ê±ÇÔºåÊåáÂÆöHTTPÂ§¥ÈÉ®Á≠âÊìç‰Ωú„ÄÇ Â¶ÇÊûúÁ≥ªÁªüÊ≤°ÊúâcurlÂèØ‰ª•‰ΩøÁî®yum install curlÂÆâË£ÖÔºå‰πüÂèØ‰ª•‰∏ãËΩΩÂÆâË£Ö„ÄÇ curlÊòØÂ∞Ü‰∏ãËΩΩÊñá‰ª∂ËæìÂá∫Âà∞stdout ‰ΩøÁî®ÂëΩ‰ª§: curl http://www .baidu.com ÊâßË°åÂêéÔºåwww.baidu.comÁöÑhtmlÂ∞±‰ºöÊòæÁ§∫Âú®Â±èÂπï‰∏ä‰∫Ü ËøôÊòØÊúÄÁÆÄÂçïÁöÑ‰ΩøÁî®ÊñπÊ≥ï„ÄÇÁî®Ëøô‰∏™ÂëΩ‰ª§Ëé∑Âæó‰∫Ühtp://curl.haxx.seÊåáÂêëÁöÑÈ°µÈù¢ÔºåÂêåÊ†∑ÔºåÂ¶ÇÊûúËøôÈáåÁöÑURLÊåáÂêëÁöÑÊòØ--‰∏™Êñá‰ª∂ÊàñËÄÖ‰∏ÄÂπÖÂõæÈÉΩÂèØ‰ª•Áõ¥Êé•‰∏ãËΩΩÂà∞Êú¨Âú∞„ÄÇÂ¶ÇÊûú‰∏ãËΩΩÁöÑÊòØHTMLÊñáÊ°£ÔºåÈÇ£‰πàÁº∫ÁúÅÁöÑÂ∞ÜÂè™ÊòæÁ§∫Êñá‰ª∂Â§¥ÈÉ®ÔºåÂç≥HTMLÊñáÊ°£ÁöÑheader„ÄÇË¶ÅÂÖ®ÈÉ®ÊòæÁ§∫ÔºåËØ∑Âä†ÂèÇÊï∞-i WHY Êàë‰ª¨ÂèØ‰ª•ÁúãÂà∞ÂèØÊâßË°åÊñá‰ª∂Êâæ‰∏çÂà∞ÁöÑÊä•ÈîôÔºåexecutable file not found„ÄÇ ‰πãÂâçÊàë‰ª¨ËØ¥ËøáÔºåË∑üÂú®ÈïúÂÉèÂêçÂêéÈù¢ÁöÑÊòØcommand,ËøêË°åÊó∂‰ºöÊõøÊç¢CMDÁöÑÈªòËÆ§ÂÄº„ÄÇ Âõ†Ê≠§ËøôÈáåÁöÑ-iÊõøÊç¢‰∫ÜÂéüÊù•ÁöÑCMDÔºåËÄå‰∏çÊòØÊ∑ªÂä†Âú®ÂéüÊù•ÁöÑcurl -s htp://ip.cnÂêéÈù¢„ÄÇËÄå-i Ê†πÊú¨‰∏çÊòØÂëΩ‰ª§ÔºåÊâÄ‰ª•Ëá™ÁÑ∂Êâæ‰∏çÂà∞„ÄÇ ÈÇ£‰πàÂ¶ÇÊûúÊàë‰ª¨Â∏åÊúõÂä†ÂÖ•-iËøôÂèÇÊï∞ÔºåÊàë‰ª¨Â∞±ÂøÖÈ°ªÈáçÊñ∞ÂÆåÊï¥ÁöÑËæìÂÖ•Ëøô‰∏™ÂëΩ‰ª§: $ docker run myip curl -s http://ip.cn -i Ëá™ÂÆö‰πâÈïúÂÉèTomcat 1„ÄÅmkdir -p /zzyy/mydockerfile/tomcat9 2„ÄÅÂú®‰∏äËø∞ÁõÆÂΩï‰∏ã touch c.txt 3„ÄÅÂ∞ÜjdkÂíåtomcatÂÆâË£ÖÁöÑÂéãÁº©ÂåÖÊã∑Ë¥ùËøõ‰∏ä‰∏ÄÊ≠•ÁõÆÂΩï 4„ÄÅÂú®zzyyuse/mydockerfile/tomcat9ÁõÆÂΩï‰∏ãÊñ∞Âª∫DockerfileÊñá‰ª∂ 123456789101112131415161718192021222324FROM centosMAINTAINER zzyy&lt;zzyybs@ 126.com&gt;#ÊääÂÆø‰∏ªÊú∫ÂΩìÂâç‰∏ä‰∏ãÊñáÁöÑc .txtÊã∑Ë¥ùÂà∞ÂÆπÂô®/usr/local/Ë∑ØÂæÑ‰∏ãCOPY c.txt /usr/local/cincontainer.txt#Êääjava‰∏étomcatÊ∑ªÂä†Âà∞ÂÆπÂô®‰∏≠ADD jdk-8u171-linux x64.tar .gz /usr/local/ADD apache-tomcat-9.0.8.tar.gz /usr/ocal/#ÂÆâË£ÖvimÁºñËæëÂô®RUN yum -y install vim#ËÆæÁΩÆÂ∑• ‰ΩúËÆøÈóÆÊó∂ÂÄôÁöÑWORKDIRË∑ØÂæÑÔºå ÁôªÂΩïËêΩËÑöÁÇπENV MYPATH /usr/localWORKDIR $MYPATH#ÈÖç:ÁΩÆjava‰∏étomcatÁéØÂ¢ÉÂèòÈáèENV JAVA_ HOME /usr/localjdk1 .8.0_ 171ENV CLASSPATH $JAVA_ HOME/lib/dt.jar:$JAVA_ HOME/lib/tools.jarENV CATALINA_ HOME /usr/local/apache-tomcat-9.0.8ENV CATALINA_ BASE /usr/ocal/apache-tomcat-9.0.8ENV PATH $PATH:$JAVA_ HOME/bin:$CATALINA_ HOME/ib:$CATALINA_ HOME/bin#ÂÆπÂô®ËøêË°åÊó∂ÁõëÂê¨ÁöÑÁ´ØÂè£EXPOSE 8080#ÂêØÂä®Êó∂ËøêË°åtomcat# ENTRYPOINT [&quot;/usrl/local/apache-tomcat-9.0.8/bin/startup.sh&quot; ]# CMD [&quot;/usr/local/apache-tomcat-9.0.8/bin/catalina.sh&quot;,&quot;run&quot;]CMD /usr/local/apache-tomcat-9.0.8/bin/startup.sh &amp;&amp; tail -F /usr/local/apache-tomcat-9.0.8/in/logs/catalina.out ÁõÆÂΩïÂÜÖÂÆπ 5„ÄÅÊûÑÂª∫ ÊûÑÂª∫ÂÆåÊàê 6„ÄÅrun 123docker run -d -p 9080:8080 -name myt9 -v /zyuse/mydockerfiletomcat9/test:/usrlocal/apache-tomcat9.0.8/webapps/test -v /zzyyuse/mydockerfile/tomcat9/tomcat9logs/:/usrlocal/apache-tomcat-9.0.8/logs -privileged=true zzyytomcat9 Â§áÊ≥® DockerÊåÇËΩΩ‰∏ªÊú∫ÁõÆÂΩïDockerËÆøÈóÆÂá∫Áé∞cannot open directory : Permission deniedËß£ÂÜ≥ÂäûÊ≥ï:Âú®ÊåÇËΩΩÁõÆÂΩïÂêéÂ§öÂä†‰∏Ä‰∏™--privileged=trueÂèÇÊï∞Âç≥ÂèØ 7„ÄÅÈ™åËØÅ 8„ÄÅÁªºÂêàÂâç Ëø∞ÂÆπÂô®Âç∑ÊµãËØïÁöÑwebÊúçÂä°testÂèëÂ∏É web.xml 12345678&lt;?xml version=&quot;1 .0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;web-app xmIns:xsi=&quot;http://www.w3.org/2001/XML Schema-instance&quot;xmIns=&quot;http://java sun.com/xm/ns/javaee&quot;xsi:schemaL ocation=&quot;http://java. sun.com/xml/ns/javaee htp:/:/java. sun.com/xml/ns/javaee/web-app_ 2_ _5.xsd&quot;id=&quot;WebApp_ ID&quot; version=&quot;2.5&quot;&gt;&lt;display-name&gt;test&lt;/display-name&gt;&lt;/web-app&gt; a.jsp 123456789101112131415&lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=UTF-8&quot; pageEncoding=&quot;UTF-8&quot;%&gt;&lt;!DOCTYPE html PUBLIC‚Äú//W3C//DTD HTML 4.01 Transitional//EN&quot; http://www.w3.org/TR/html4/loose.dtd&quot;&gt;&lt;html&gt;&lt;head&gt;&lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot;&gt;&lt;title&gt;Insert title here &lt;/title&gt;&lt;/head&gt;&lt;body&gt;welcome-&lt;%=&quot;i am in docker tomcat self &quot;%&gt;&lt;br&gt;&lt;br&gt;&lt;% System.out,.printIn(&quot;==========docker tomcat self&quot;);%&gt;&lt;/body&gt;&lt;/htmI&gt; ÊµãËØï 123456789101112131415&lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=UTF-8&quot; pageEncoding=&quot;UTF-8&quot;%&gt;&lt;!DOCTYPE html PUBLIC‚Äú//W3C//DTD HTML 4.01 Transitional//EN&quot; http://www.w3.org/TR/html4/loose.dtd&quot;&gt;&lt;html&gt;&lt;head&gt;&lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot;&gt;&lt;title&gt;Insert title here &lt;/title&gt;&lt;/head&gt;&lt;body&gt;welcome-&lt;%=&quot;i am in docker tomcat self &quot;%&gt;&lt;br&gt;&lt;br&gt;&lt;% System.out,.printIn(&quot;==========docker tomcat self&quot;);%&gt;&lt;/body&gt;&lt;/htmI&gt; Â∞èÊÄªÁªì ‰∏É „ÄÅ DockerÂ∏∏Áî®ÂÆâË£Ö ÊÄª‰ΩìÊ≠•È™§ ÊêúÁ¥¢ÈïúÂÉè ÊãâÂèñÈïúÂÉè Êü•ÁúãÈïúÂÉè ÂêØÂä®ÈïúÂÉè ÂÅúÊ≠¢ÂÆπÂô® ÁßªÈô§ÂÆπÂô® ÂÆâË£ÖMysql docker hub ‰∏äÊü•ÊâæmysqlÈïúÂÉè ‰ªé docker hub(ÈòøÈáå‰∫ëÂä†ÈÄüÂô®)ÊãâÂèñmysqlÈïúÂÉèÂà∞Êú¨Âú∞Ê†áÁ≠æ‰∏∫5.6 ‰ΩøÁî®mysql5.6ÈïúÂÉèÂàõÂª∫ÂÆπÂô®(‰πüÂè´ËøêË°åÈïúÂÉè) ‰ΩøÁî®mysqlÈïúÂÉè 12345678910111213141516171819docker run -p 12345:3306 --name mysql -v /ggcc/mysql/conf:/etc/mysql/conf.d -v /ggcc/mysql/logs:/logs -v /ggcc/mysql/data:/var/lib/mysql -e MYSQL_ROOT_PASSWORD=123456 -d mysql:5.6----------------------------------------------ÂëΩ‰ª§ËØ¥Êòé:-p 12345:3306:Â∞Ü‰∏ªÊú∫ÁöÑ12345Á´ØÂè£Êò†Â∞ÑÂà∞dockerÂÆπÂô®ÁöÑ3306Á´ØÂè£„ÄÇ-name mysq:ËøêË°åÊúçÂä°ÂêçÂ≠ó-V /ggcc/mysql/conf:/etc/mysql/conf.d :Â∞Ü‰∏ªÊú∫/zzyyuse/mysq|ÂΩï‰∏ãÁöÑconf/my.cnfÊåÇËΩΩÂà∞ÂÆπÂô®ÁöÑ/etc/mysql/conf.d-v /ggcc/mysqlogs/logs: Â∞Ü‰∏ªÊú∫/zzyyuse/mysq|ÁõÆ ÂΩï‰∏ãÁöÑlogs ÁõÆÂΩïÊåÇËΩΩÂà∞ÂÆπÂô®ÁöÑ/logs„ÄÇ-V /ggcc/mysqldata:/var/lib/mysql :Â∞Ü‰∏ªÊú∫lzzyyuse/mysqlÁõÆÂΩï‰∏ãÁöÑdataÁõÆÂΩïÊåÇËΩΩÂà∞ÂÆπÂô®ÁöÑ/var/lib/mysql .-e MYSQL_ ROOT_ PASSWORD=123456: ÂàùÂßãÂåñrootÁî®Êà∑ÁöÑÂØÜÁ†Å„ÄÇ.-d mysql:5.6:ÂêéÂè∞Á®ãÂ∫èËøêË°åmysql5.6 ----------------------------------------------docker exec -it MysqlËøêË°åÊàêÂäüÂêéÁöÑÂÆπÂô®ID /bin/bash----------------------------------------------Êï∞ÊçÆÂ§á‰ªΩÂ∞èÊµãËØïdocker exec mysqlÊúçÂä°ÂÆπÂô®ID sh -c 'exec mysqldump --all-databases -uroot -p&quot;123456&quot;' &gt;/ggcc/all-database.sql Êï∞ÊçÆÂ§á‰ªΩÊµãËØï ÂÆâË£ÖRedis ‰ªédocker hu‰∏ä(ÈòøÈáå‰∫ëÂä†ÈÄüÂô®)ÊãâÂèñredisÈïúÂÉèÂà∞Êú¨Âú∞Ê†áÁ≠æ‰∏∫Ôºö3.2 ‰ΩøÁî®redis3.2ÈïúÂÉèÂàõÂª∫ÂÆπÂô®(‰πüÂè´ËøêË°åÈïúÂÉè) ‚Äã ‰ΩøÁî®ÈïúÂÉè 12docker run -p 6379:6379 -v /ggcc/myredis/data:/data -v /ggcc/myredis/conf/redis.conf:/usr/local/etc/redis/redis.conf -d redis redis-server /usr/local/etc/redis/redis.conf --appendonly yes Âú®‰∏ªÊú∫/ggcc/myredis/conf/redis.confÁõÆÂΩï‰∏äÊñ∞Âª∫redis.confÊñá‰ª∂ vim /ggcc/myredis/conf/redis.conf/redis.conf 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879808182838485868788899091929394959697989910010110210310410510610710810911011111211311411511611711811912012112212312412512612712812913013113213313413513613713813914014114214314414514614714814915015115215315415515615715815916016116216316416516616716816917017117217317417517617717817918018118218318418518618718818919019119219319419519619719819920020120220320420520620720820921021121221321421521621721821922022122222322422522622722822923023123223323423523623723823924024124224324424524624724824925025125225325425525625725825926026126226326426526626726826927027127227327427527627727827928028128228328428528628728828929029129229329429529629729829930030130230330430530630730830931031131231331431531631731831932032132232332432532632732832933033133233333433533633733833934034134234334434534634734834935035135235335435535635735835936036136236336436536636736836937037137237337437537637737837938038138238338438538638738838939039139239339439539639739839940040140240340440540640740840941041141241341441541641741841942042142242342442542642742842943043143243343443543643743843944044144244344444544644744844945045145245345445545645745845946046146246346446546646746846947047147247347447547647747847948048148248348448548648748848949049149249349449549649749849950050150250350450550650750850951051151251351451551651751851952052152252352452552652752852953053153253353453553653753853954054154254354454554654754854955055155255355455555655755855956056156256356456556656756856957057157257357457557657757857958058158258358458558658758858959059159259359459559659759859960060160260360460560660760860961061161261361461561661761861962062162262362462562662762862963063163263363463563663763863964064164264364464564664764864965065165265365465565665765865966066166266366466566666766866967067167267367467567667767867968068168268368468568668768868969069169269369469569669769869970070170270370470570670770870971071171271371471571671771871972072172272372472572672772872973073173273373473573673773873974074174274374474574674774874975075175275375475575675775875976076176276376476576676776876977077177277377477577677777877978078178278378478578678778878979079179279379479579679779879980080180280380480580680780880981081181281381481581681781881982082182282382482582682782882983083183283383483583683783883984084184284384484584684784884985085185285385485585685785885986086186286386486586686786886987087187287387487587687787887988088188288388488588688788888989089189289389489589689789889990090190290390490590690790890991091191291391491591691791891992092192292392492592692792892993093193293393493593693793893994094194294394494594694794894995095195295395495595695795895996096196296396496596696796896997097197297397497597697797897998098198298398498598698798898999099199299399499599699799899910001001100210031004100510061007100810091010101110121013101410151016101710181019102010211022102310241025102610271028102910301031103210331034103510361037103810391040104110421043104410451046104710481049105010511052105310541055105610571058105910601061106210631064106510661067106810691070107110721073107410751076107710781079108010811082108310841085108610871088108910901091109210931094109510961097109810991100110111021103110411051106110711081109111011111112111311141115111611171118111911201121112211231124112511261127112811291130113111321133113411351136113711381139114011411142114311441145114611471148114911501151115211531154115511561157115811591160116111621163116411651166116711681169117011711172117311741175117611771178117911801181118211831184118511861187118811891190119111921193119411951196119711981199120012011202120312041205120612071208120912101211121212131214121512161217121812191220122112221223122412251226122712281229123012311232123312341235123612371238123912401241124212431244124512461247124812491250125112521253125412551256125712581259126012611262126312641265126612671268126912701271127212731274127512761277127812791280128112821283128412851286128712881289129012911292129312941295129612971298129913001301130213031304130513061307130813091310131113121313131413151316131713181319132013211322132313241325132613271328132913301331133213331334133513361337133813391340134113421343134413451346134713481349135013511352135313541355135613571358135913601361136213631364136513661367136813691370137113721373137413751376137713781379138013811382138313841385138613871388138913901391139213931394139513961397139813991400140114021403140414051406140714081409141014111412141314141415141614171418141914201421142214231424142514261427142814291430143114321433143414351436143714381439144014411442144314441445144614471448144914501451145214531454145514561457145814591460146114621463146414651466146714681469147014711472147314741475147614771478147914801481148214831484148514861487148814891490149114921493149414951496149714981499150015011502150315041505150615071508150915101511151215131514151515161517151815191520152115221523152415251526152715281529153015311532153315341535153615371538153915401541154215431544154515461547154815491550155115521553155415551556155715581559156015611562156315641565156615671568156915701571157215731574157515761577157815791580158115821583158415851586158715881589159015911592159315941595159615971598159916001601160216031604160516061607160816091610161116121613161416151616161716181619162016211622162316241625162616271628162916301631163216331634163516361637163816391640164116421643164416451646164716481649165016511652165316541655165616571658165916601661166216631664166516661667166816691670167116721673167416751676167716781679168016811682168316841685168616871688168916901691169216931694169516961697169816991700170117021703170417051706170717081709171017111712171317141715171617171718171917201721172217231724172517261727172817291730173117321733173417351736173717381739174017411742174317441745174617471748174917501751175217531754175517561757175817591760176117621763176417651766176717681769177017711772177317741775177617771778177917801781178217831784178517861787178817891790179117921793179417951796179717981799180018011802180318041805180618071808180918101811181218131814181518161817181818191820182118221823182418251826182718281829183018311832183318341835183618371838183918401841184218431844184518461847184818491850185118521853185418551856185718581859186018611862# Redis configuration file example.## Note that in order to read the configuration file, Redis must be# started with the file path as first argument:## ./redis-server /path/to/redis.conf# Note on units: when memory size is needed, it is possible to specify# it in the usual form of 1k 5GB 4M and so forth:## 1k =&gt; 1000 bytes# 1kb =&gt; 1024 bytes# 1m =&gt; 1000000 bytes# 1mb =&gt; 1024*1024 bytes# 1g =&gt; 1000000000 bytes# 1gb =&gt; 1024*1024*1024 bytes## units are case insensitive so 1GB 1Gb 1gB are all the same.################################## INCLUDES #################################### Include one or more other config files here. This is useful if you# have a standard template that goes to all Redis servers but also need# to customize a few per-server settings. Include files can include# other files, so use this wisely.## Notice option &quot;include&quot; won't be rewritten by command &quot;CONFIG REWRITE&quot;# from admin or Redis Sentinel. Since Redis always uses the last processed# line as value of a configuration directive, you'd better put includes# at the beginning of this file to avoid overwriting config change at runtime.## If instead you are interested in using includes to override configuration# options, it is better to use include as the last line.## include /path/to/local.conf# include /path/to/other.conf################################## MODULES ###################################### Load modules at startup. If the server is not able to load modules# it will abort. It is possible to use multiple loadmodule directives.## loadmodule /path/to/my_module.so# loadmodule /path/to/other_module.so################################## NETWORK ###################################### By default, if no &quot;bind&quot; configuration directive is specified, Redis listens# for connections from all the network interfaces available on the server.# It is possible to listen to just one or multiple selected interfaces using# the &quot;bind&quot; configuration directive, followed by one or more IP addresses.## Examples:## bind 192.168.1.100 10.0.0.1# bind 127.0.0.1 ::1## ~~~ WARNING ~~~ If the computer running Redis is directly exposed to the# internet, binding to all the interfaces is dangerous and will expose the# instance to everybody on the internet. So by default we uncomment the# following bind directive, that will force Redis to listen only into# the IPv4 loopback interface address (this means Redis will be able to# accept connections only from clients running into the same computer it# is running).## IF YOU ARE SURE YOU WANT YOUR INSTANCE TO LISTEN TO ALL THE INTERFACES# JUST COMMENT THE FOLLOWING LINE.# ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~#bind 127.0.0.1# Protected mode is a layer of security protection, in order to avoid that# Redis instances left open on the internet are accessed and exploited.## When protected mode is on and if:## 1) The server is not binding explicitly to a set of addresses using the# &quot;bind&quot; directive.# 2) No password is configured.## The server only accepts connections from clients connecting from the# IPv4 and IPv6 loopback addresses 127.0.0.1 and ::1, and from Unix domain# sockets.## By default protected mode is enabled. You should disable it only if# you are sure you want clients from other hosts to connect to Redis# even if no authentication is configured, nor a specific set of interfaces# are explicitly listed using the &quot;bind&quot; directive.protected-mode yes# Accept connections on the specified port, default is 6379 (IANA #815344).# If port 0 is specified Redis will not listen on a TCP socket.port 6379# TCP listen() backlog.## In high requests-per-second environments you need an high backlog in order# to avoid slow clients connections issues. Note that the Linux kernel# will silently truncate it to the value of /proc/sys/net/core/somaxconn so# make sure to raise both the value of somaxconn and tcp_max_syn_backlog# in order to get the desired effect.tcp-backlog 511# Unix socket.## Specify the path for the Unix socket that will be used to listen for# incoming connections. There is no default, so Redis will not listen# on a unix socket when not specified.## unixsocket /tmp/redis.sock# unixsocketperm 700# Close the connection after a client is idle for N seconds (0 to disable)timeout 0# TCP keepalive.## If non-zero, use SO_KEEPALIVE to send TCP ACKs to clients in absence# of communication. This is useful for two reasons:## 1) Detect dead peers.# 2) Take the connection alive from the point of view of network# equipment in the middle.## On Linux, the specified value (in seconds) is the period used to send ACKs.# Note that to close the connection the double of the time is needed.# On other kernels the period depends on the kernel configuration.## A reasonable value for this option is 300 seconds, which is the new# Redis default starting with Redis 3.2.1.tcp-keepalive 300################################# TLS/SSL ###################################### By default, TLS/SSL is disabled. To enable it, the &quot;tls-port&quot; configuration# directive can be used to define TLS-listening ports. To enable TLS on the# default port, use:## port 0# tls-port 6379# Configure a X.509 certificate and private key to use for authenticating the# server to connected clients, masters or cluster peers. These files should be# PEM formatted.## tls-cert-file redis.crt # tls-key-file redis.key# Configure a DH parameters file to enable Diffie-Hellman (DH) key exchange:## tls-dh-params-file redis.dh# Configure a CA certificate(s) bundle or directory to authenticate TLS/SSL# clients and peers. Redis requires an explicit configuration of at least one# of these, and will not implicitly use the system wide configuration.## tls-ca-cert-file ca.crt# tls-ca-cert-dir /etc/ssl/certs# By default, clients (including replica servers) on a TLS port are required# to authenticate using valid client side certificates.## If &quot;no&quot; is specified, client certificates are not required and not accepted.# If &quot;optional&quot; is specified, client certificates are accepted and must be# valid if provided, but are not required.## tls-auth-clients no# tls-auth-clients optional# By default, a Redis replica does not attempt to establish a TLS connection# with its master.## Use the following directive to enable TLS on replication links.## tls-replication yes# By default, the Redis Cluster bus uses a plain TCP connection. To enable# TLS for the bus protocol, use the following directive:## tls-cluster yes# Explicitly specify TLS versions to support. Allowed values are case insensitive# and include &quot;TLSv1&quot;, &quot;TLSv1.1&quot;, &quot;TLSv1.2&quot;, &quot;TLSv1.3&quot; (OpenSSL &gt;= 1.1.1) or# any combination. To enable only TLSv1.2 and TLSv1.3, use:## tls-protocols &quot;TLSv1.2 TLSv1.3&quot;# Configure allowed ciphers. See the ciphers(1ssl) manpage for more information# about the syntax of this string.## Note: this configuration applies only to &lt;= TLSv1.2.## tls-ciphers DEFAULT:!MEDIUM# Configure allowed TLSv1.3 ciphersuites. See the ciphers(1ssl) manpage for more# information about the syntax of this string, and specifically for TLSv1.3# ciphersuites.## tls-ciphersuites TLS_CHACHA20_POLY1305_SHA256# When choosing a cipher, use the server's preference instead of the client# preference. By default, the server follows the client's preference.## tls-prefer-server-ciphers yes# By default, TLS session caching is enabled to allow faster and less expensive# reconnections by clients that support it. Use the following directive to disable# caching.## tls-session-caching no# Change the default number of TLS sessions cached. A zero value sets the cache# to unlimited size. The default size is 20480.## tls-session-cache-size 5000# Change the default timeout of cached TLS sessions. The default timeout is 300# seconds.## tls-session-cache-timeout 60################################# GENERAL ###################################### By default Redis does not run as a daemon. Use 'yes' if you need it.# Note that Redis will write a pid file in /var/run/redis.pid when daemonized.daemonize no# If you run Redis from upstart or systemd, Redis can interact with your# supervision tree. Options:# supervised no - no supervision interaction# supervised upstart - signal upstart by putting Redis into SIGSTOP mode# supervised systemd - signal systemd by writing READY=1 to $NOTIFY_SOCKET# supervised auto - detect upstart or systemd method based on# UPSTART_JOB or NOTIFY_SOCKET environment variables# Note: these supervision methods only signal &quot;process is ready.&quot;# They do not enable continuous liveness pings back to your supervisor.supervised no# If a pid file is specified, Redis writes it where specified at startup# and removes it at exit.## When the server runs non daemonized, no pid file is created if none is# specified in the configuration. When the server is daemonized, the pid file# is used even if not specified, defaulting to &quot;/var/run/redis.pid&quot;.## Creating a pid file is best effort: if Redis is not able to create it# nothing bad happens, the server will start and run normally.pidfile /var/run/redis_6379.pid# Specify the server verbosity level.# This can be one of:# debug (a lot of information, useful for development/testing)# verbose (many rarely useful info, but not a mess like the debug level)# notice (moderately verbose, what you want in production probably)# warning (only very important / critical messages are logged)loglevel notice# Specify the log file name. Also the empty string can be used to force# Redis to log on the standard output. Note that if you use standard# output for logging but daemonize, logs will be sent to /dev/nulllogfile &quot;&quot;# To enable logging to the system logger, just set 'syslog-enabled' to yes,# and optionally update the other syslog parameters to suit your needs.# syslog-enabled no# Specify the syslog identity.# syslog-ident redis# Specify the syslog facility. Must be USER or between LOCAL0-LOCAL7.# syslog-facility local0# Set the number of databases. The default database is DB 0, you can select# a different one on a per-connection basis using SELECT &lt;dbid&gt; where# dbid is a number between 0 and 'databases'-1databases 16# By default Redis shows an ASCII art logo only when started to log to the# standard output and if the standard output is a TTY. Basically this means# that normally a logo is displayed only in interactive sessions.## However it is possible to force the pre-4.0 behavior and always show a# ASCII art logo in startup logs by setting the following option to yes.always-show-logo yes################################ SNAPSHOTTING ################################## Save the DB on disk:## save &lt;seconds&gt; &lt;changes&gt;## Will save the DB if both the given number of seconds and the given# number of write operations against the DB occurred.## In the example below the behaviour will be to save:# after 900 sec (15 min) if at least 1 key changed# after 300 sec (5 min) if at least 10 keys changed# after 60 sec if at least 10000 keys changed## Note: you can disable saving completely by commenting out all &quot;save&quot; lines.## It is also possible to remove all the previously configured save# points by adding a save directive with a single empty string argument# like in the following example:## save &quot;&quot;save 900 1save 300 10save 60 10000# By default Redis will stop accepting writes if RDB snapshots are enabled# (at least one save point) and the latest background save failed.# This will make the user aware (in a hard way) that data is not persisting# on disk properly, otherwise chances are that no one will notice and some# disaster will happen.## If the background saving process will start working again Redis will# automatically allow writes again.## However if you have setup your proper monitoring of the Redis server# and persistence, you may want to disable this feature so that Redis will# continue to work as usual even if there are problems with disk,# permissions, and so forth.stop-writes-on-bgsave-error yes# Compress string objects using LZF when dump .rdb databases?# For default that's set to 'yes' as it's almost always a win.# If you want to save some CPU in the saving child set it to 'no' but# the dataset will likely be bigger if you have compressible values or keys.rdbcompression yes# Since version 5 of RDB a CRC64 checksum is placed at the end of the file.# This makes the format more resistant to corruption but there is a performance# hit to pay (around 10%) when saving and loading RDB files, so you can disable it# for maximum performances.## RDB files created with checksum disabled have a checksum of zero that will# tell the loading code to skip the check.rdbchecksum yes# The filename where to dump the DBdbfilename dump.rdb# Remove RDB files used by replication in instances without persistence# enabled. By default this option is disabled, however there are environments# where for regulations or other security concerns, RDB files persisted on# disk by masters in order to feed replicas, or stored on disk by replicas# in order to load them for the initial synchronization, should be deleted# ASAP. Note that this option ONLY WORKS in instances that have both AOF# and RDB persistence disabled, otherwise is completely ignored.## An alternative (and sometimes better) way to obtain the same effect is# to use diskless replication on both master and replicas instances. However# in the case of replicas, diskless is not always an option.rdb-del-sync-files no# The working directory.## The DB will be written inside this directory, with the filename specified# above using the 'dbfilename' configuration directive.## The Append Only File will also be created inside this directory.## Note that you must specify a directory here, not a file name.dir ./################################# REPLICATION ################################## Master-Replica replication. Use replicaof to make a Redis instance a copy of# another Redis server. A few things to understand ASAP about Redis replication.## +------------------+ +---------------+# | Master | ---&gt; | Replica |# | (receive writes) | | (exact copy) |# +------------------+ +---------------+## 1) Redis replication is asynchronous, but you can configure a master to# stop accepting writes if it appears to be not connected with at least# a given number of replicas.# 2) Redis replicas are able to perform a partial resynchronization with the# master if the replication link is lost for a relatively small amount of# time. You may want to configure the replication backlog size (see the next# sections of this file) with a sensible value depending on your needs.# 3) Replication is automatic and does not need user intervention. After a# network partition replicas automatically try to reconnect to masters# and resynchronize with them.## replicaof &lt;masterip&gt; &lt;masterport&gt;# If the master is password protected (using the &quot;requirepass&quot; configuration# directive below) it is possible to tell the replica to authenticate before# starting the replication synchronization process, otherwise the master will# refuse the replica request.## masterauth &lt;master-password&gt;## However this is not enough if you are using Redis ACLs (for Redis version# 6 or greater), and the default user is not capable of running the PSYNC# command and/or other commands needed for replication. In this case it's# better to configure a special user to use with replication, and specify the# masteruser configuration as such:## masteruser &lt;username&gt;## When masteruser is specified, the replica will authenticate against its# master using the new AUTH form: AUTH &lt;username&gt; &lt;password&gt;.# When a replica loses its connection with the master, or when the replication# is still in progress, the replica can act in two different ways:## 1) if replica-serve-stale-data is set to 'yes' (the default) the replica will# still reply to client requests, possibly with out of date data, or the# data set may just be empty if this is the first synchronization.## 2) if replica-serve-stale-data is set to 'no' the replica will reply with# an error &quot;SYNC with master in progress&quot; to all the kind of commands# but to INFO, replicaOF, AUTH, PING, SHUTDOWN, REPLCONF, ROLE, CONFIG,# SUBSCRIBE, UNSUBSCRIBE, PSUBSCRIBE, PUNSUBSCRIBE, PUBLISH, PUBSUB,# COMMAND, POST, HOST: and LATENCY.#replica-serve-stale-data yes# You can configure a replica instance to accept writes or not. Writing against# a replica instance may be useful to store some ephemeral data (because data# written on a replica will be easily deleted after resync with the master) but# may also cause problems if clients are writing to it because of a# misconfiguration.## Since Redis 2.6 by default replicas are read-only.## Note: read only replicas are not designed to be exposed to untrusted clients# on the internet. It's just a protection layer against misuse of the instance.# Still a read only replica exports by default all the administrative commands# such as CONFIG, DEBUG, and so forth. To a limited extent you can improve# security of read only replicas using 'rename-command' to shadow all the# administrative / dangerous commands.replica-read-only yes# Replication SYNC strategy: disk or socket.## New replicas and reconnecting replicas that are not able to continue the# replication process just receiving differences, need to do what is called a# &quot;full synchronization&quot;. An RDB file is transmitted from the master to the# replicas.## The transmission can happen in two different ways:## 1) Disk-backed: The Redis master creates a new process that writes the RDB# file on disk. Later the file is transferred by the parent# process to the replicas incrementally.# 2) Diskless: The Redis master creates a new process that directly writes the# RDB file to replica sockets, without touching the disk at all.## With disk-backed replication, while the RDB file is generated, more replicas# can be queued and served with the RDB file as soon as the current child# producing the RDB file finishes its work. With diskless replication instead# once the transfer starts, new replicas arriving will be queued and a new# transfer will start when the current one terminates.## When diskless replication is used, the master waits a configurable amount of# time (in seconds) before starting the transfer in the hope that multiple# replicas will arrive and the transfer can be parallelized.## With slow disks and fast (large bandwidth) networks, diskless replication# works better.repl-diskless-sync no# When diskless replication is enabled, it is possible to configure the delay# the server waits in order to spawn the child that transfers the RDB via socket# to the replicas.## This is important since once the transfer starts, it is not possible to serve# new replicas arriving, that will be queued for the next RDB transfer, so the# server waits a delay in order to let more replicas arrive.## The delay is specified in seconds, and by default is 5 seconds. To disable# it entirely just set it to 0 seconds and the transfer will start ASAP.repl-diskless-sync-delay 5# -----------------------------------------------------------------------------# WARNING: RDB diskless load is experimental. Since in this setup the replica# does not immediately store an RDB on disk, it may cause data loss during# failovers. RDB diskless load + Redis modules not handling I/O reads may also# cause Redis to abort in case of I/O errors during the initial synchronization# stage with the master. Use only if your do what you are doing.# -----------------------------------------------------------------------------## Replica can load the RDB it reads from the replication link directly from the# socket, or store the RDB to a file and read that file after it was completely# recived from the master.## In many cases the disk is slower than the network, and storing and loading# the RDB file may increase replication time (and even increase the master's# Copy on Write memory and salve buffers).# However, parsing the RDB file directly from the socket may mean that we have# to flush the contents of the current database before the full rdb was# received. For this reason we have the following options:## &quot;disabled&quot; - Don't use diskless load (store the rdb file to the disk first)# &quot;on-empty-db&quot; - Use diskless load only when it is completely safe.# &quot;swapdb&quot; - Keep a copy of the current db contents in RAM while parsing# the data directly from the socket. note that this requires# sufficient memory, if you don't have it, you risk an OOM kill.repl-diskless-load disabled# Replicas send PINGs to server in a predefined interval. It's possible to# change this interval with the repl_ping_replica_period option. The default# value is 10 seconds.## repl-ping-replica-period 10# The following option sets the replication timeout for:## 1) Bulk transfer I/O during SYNC, from the point of view of replica.# 2) Master timeout from the point of view of replicas (data, pings).# 3) Replica timeout from the point of view of masters (REPLCONF ACK pings).## It is important to make sure that this value is greater than the value# specified for repl-ping-replica-period otherwise a timeout will be detected# every time there is low traffic between the master and the replica.## repl-timeout 60# Disable TCP_NODELAY on the replica socket after SYNC?## If you select &quot;yes&quot; Redis will use a smaller number of TCP packets and# less bandwidth to send data to replicas. But this can add a delay for# the data to appear on the replica side, up to 40 milliseconds with# Linux kernels using a default configuration.## If you select &quot;no&quot; the delay for data to appear on the replica side will# be reduced but more bandwidth will be used for replication.## By default we optimize for low latency, but in very high traffic conditions# or when the master and replicas are many hops away, turning this to &quot;yes&quot; may# be a good idea.repl-disable-tcp-nodelay no# Set the replication backlog size. The backlog is a buffer that accumulates# replica data when replicas are disconnected for some time, so that when a# replica wants to reconnect again, often a full resync is not needed, but a# partial resync is enough, just passing the portion of data the replica# missed while disconnected.## The bigger the replication backlog, the longer the time the replica can be# disconnected and later be able to perform a partial resynchronization.## The backlog is only allocated once there is at least a replica connected.## repl-backlog-size 1mb# After a master has no longer connected replicas for some time, the backlog# will be freed. The following option configures the amount of seconds that# need to elapse, starting from the time the last replica disconnected, for# the backlog buffer to be freed.## Note that replicas never free the backlog for timeout, since they may be# promoted to masters later, and should be able to correctly &quot;partially# resynchronize&quot; with the replicas: hence they should always accumulate backlog.## A value of 0 means to never release the backlog.## repl-backlog-ttl 3600# The replica priority is an integer number published by Redis in the INFO# output. It is used by Redis Sentinel in order to select a replica to promote# into a master if the master is no longer working correctly.## A replica with a low priority number is considered better for promotion, so# for instance if there are three replicas with priority 10, 100, 25 Sentinel# will pick the one with priority 10, that is the lowest.## However a special priority of 0 marks the replica as not able to perform the# role of master, so a replica with priority of 0 will never be selected by# Redis Sentinel for promotion.## By default the priority is 100.replica-priority 100# It is possible for a master to stop accepting writes if there are less than# N replicas connected, having a lag less or equal than M seconds.## The N replicas need to be in &quot;online&quot; state.## The lag in seconds, that must be &lt;= the specified value, is calculated from# the last ping received from the replica, that is usually sent every second.## This option does not GUARANTEE that N replicas will accept the write, but# will limit the window of exposure for lost writes in case not enough replicas# are available, to the specified number of seconds.## For example to require at least 3 replicas with a lag &lt;= 10 seconds use:## min-replicas-to-write 3# min-replicas-max-lag 10## Setting one or the other to 0 disables the feature.## By default min-replicas-to-write is set to 0 (feature disabled) and# min-replicas-max-lag is set to 10.# A Redis master is able to list the address and port of the attached# replicas in different ways. For example the &quot;INFO replication&quot; section# offers this information, which is used, among other tools, by# Redis Sentinel in order to discover replica instances.# Another place where this info is available is in the output of the# &quot;ROLE&quot; command of a master.## The listed IP and address normally reported by a replica is obtained# in the following way:## IP: The address is auto detected by checking the peer address# of the socket used by the replica to connect with the master.## Port: The port is communicated by the replica during the replication# handshake, and is normally the port that the replica is using to# listen for connections.## However when port forwarding or Network Address Translation (NAT) is# used, the replica may be actually reachable via different IP and port# pairs. The following two options can be used by a replica in order to# report to its master a specific set of IP and port, so that both INFO# and ROLE will report those values.## There is no need to use both the options if you need to override just# the port or the IP address.## replica-announce-ip 5.5.5.5# replica-announce-port 1234############################### KEYS TRACKING ################################## Redis implements server assisted support for client side caching of values.# This is implemented using an invalidation table that remembers, using# 16 millions of slots, what clients may have certain subsets of keys. In turn# this is used in order to send invalidation messages to clients. Please# to understand more about the feature check this page:## https://redis.io/topics/client-side-caching## When tracking is enabled for a client, all the read only queries are assumed# to be cached: this will force Redis to store information in the invalidation# table. When keys are modified, such information is flushed away, and# invalidation messages are sent to the clients. However if the workload is# heavily dominated by reads, Redis could use more and more memory in order# to track the keys fetched by many clients.## For this reason it is possible to configure a maximum fill value for the# invalidation table. By default it is set to 1M of keys, and once this limit# is reached, Redis will start to evict keys in the invalidation table# even if they were not modified, just to reclaim memory: this will in turn# force the clients to invalidate the cached values. Basically the table# maximum size is a trade off between the memory you want to spend server# side to track information about who cached what, and the ability of clients# to retain cached objects in memory.## If you set the value to 0, it means there are no limits, and Redis will# retain as many keys as needed in the invalidation table.# In the &quot;stats&quot; INFO section, you can find information about the number of# keys in the invalidation table at every given moment.## Note: when key tracking is used in broadcasting mode, no memory is used# in the server side so this setting is useless.## tracking-table-max-keys 1000000################################## SECURITY #################################### Warning: since Redis is pretty fast an outside user can try up to# 1 million passwords per second against a modern box. This means that you# should use very strong passwords, otherwise they will be very easy to break.# Note that because the password is really a shared secret between the client# and the server, and should not be memorized by any human, the password# can be easily a long string from /dev/urandom or whatever, so by using a# long and unguessable password no brute force attack will be possible.# Redis ACL users are defined in the following format:## user &lt;username&gt; ... acl rules ...## For example:## user worker +@list +@connection ~jobs:* on &gt;ffa9203c493aa99## The special username &quot;default&quot; is used for new connections. If this user# has the &quot;nopass&quot; rule, then new connections will be immediately authenticated# as the &quot;default&quot; user without the need of any password provided via the# AUTH command. Otherwise if the &quot;default&quot; user is not flagged with &quot;nopass&quot;# the connections will start in not authenticated state, and will require# AUTH (or the HELLO command AUTH option) in order to be authenticated and# start to work.## The ACL rules that describe what an user can do are the following:## on Enable the user: it is possible to authenticate as this user.# off Disable the user: it's no longer possible to authenticate# with this user, however the already authenticated connections# will still work.# +&lt;command&gt; Allow the execution of that command# -&lt;command&gt; Disallow the execution of that command# +@&lt;category&gt; Allow the execution of all the commands in such category# with valid categories are like @admin, @set, @sortedset, ...# and so forth, see the full list in the server.c file where# the Redis command table is described and defined.# The special category @all means all the commands, but currently# present in the server, and that will be loaded in the future# via modules.# +&lt;command&gt;|subcommand Allow a specific subcommand of an otherwise# disabled command. Note that this form is not# allowed as negative like -DEBUG|SEGFAULT, but# only additive starting with &quot;+&quot;.# allcommands Alias for +@all. Note that it implies the ability to execute# all the future commands loaded via the modules system.# nocommands Alias for -@all.# ~&lt;pattern&gt; Add a pattern of keys that can be mentioned as part of# commands. For instance ~* allows all the keys. The pattern# is a glob-style pattern like the one of KEYS.# It is possible to specify multiple patterns.# allkeys Alias for ~*# resetkeys Flush the list of allowed keys patterns.# &gt;&lt;password&gt; Add this passowrd to the list of valid password for the user.# For example &gt;mypass will add &quot;mypass&quot; to the list.# This directive clears the &quot;nopass&quot; flag (see later).# &lt;&lt;password&gt; Remove this password from the list of valid passwords.# nopass All the set passwords of the user are removed, and the user# is flagged as requiring no password: it means that every# password will work against this user. If this directive is# used for the default user, every new connection will be# immediately authenticated with the default user without# any explicit AUTH command required. Note that the &quot;resetpass&quot;# directive will clear this condition.# resetpass Flush the list of allowed passwords. Moreover removes the# &quot;nopass&quot; status. After &quot;resetpass&quot; the user has no associated# passwords and there is no way to authenticate without adding# some password (or setting it as &quot;nopass&quot; later).# reset Performs the following actions: resetpass, resetkeys, off,# -@all. The user returns to the same state it has immediately# after its creation.## ACL rules can be specified in any order: for instance you can start with# passwords, then flags, or key patterns. However note that the additive# and subtractive rules will CHANGE MEANING depending on the ordering.# For instance see the following example:## user alice on +@all -DEBUG ~* &gt;somepassword## This will allow &quot;alice&quot; to use all the commands with the exception of the# DEBUG command, since +@all added all the commands to the set of the commands# alice can use, and later DEBUG was removed. However if we invert the order# of two ACL rules the result will be different:## user alice on -DEBUG +@all ~* &gt;somepassword## Now DEBUG was removed when alice had yet no commands in the set of allowed# commands, later all the commands are added, so the user will be able to# execute everything.## Basically ACL rules are processed left-to-right.## For more information about ACL configuration please refer to# the Redis web site at https://redis.io/topics/acl# ACL LOG## The ACL Log tracks failed commands and authentication events associated# with ACLs. The ACL Log is useful to troubleshoot failed commands blocked # by ACLs. The ACL Log is stored in memory. You can reclaim memory with # ACL LOG RESET. Define the maximum entry length of the ACL Log below.acllog-max-len 128# Using an external ACL file## Instead of configuring users here in this file, it is possible to use# a stand-alone file just listing users. The two methods cannot be mixed:# if you configure users here and at the same time you activate the exteranl# ACL file, the server will refuse to start.## The format of the external ACL user file is exactly the same as the# format that is used inside redis.conf to describe users.## aclfile /etc/redis/users.acl# IMPORTANT NOTE: starting with Redis 6 &quot;requirepass&quot; is just a compatiblity# layer on top of the new ACL system. The option effect will be just setting# the password for the default user. Clients will still authenticate using# AUTH &lt;password&gt; as usually, or more explicitly with AUTH default &lt;password&gt;# if they follow the new protocol: both will work.## requirepass foobared# Command renaming (DEPRECATED).## ------------------------------------------------------------------------# WARNING: avoid using this option if possible. Instead use ACLs to remove# commands from the default user, and put them only in some admin user you# create for administrative purposes.# ------------------------------------------------------------------------## It is possible to change the name of dangerous commands in a shared# environment. For instance the CONFIG command may be renamed into something# hard to guess so that it will still be available for internal-use tools# but not available for general clients.## Example:## rename-command CONFIG b840fc02d524045429941cc15f59e41cb7be6c52## It is also possible to completely kill a command by renaming it into# an empty string:## rename-command CONFIG &quot;&quot;## Please note that changing the name of commands that are logged into the# AOF file or transmitted to replicas may cause problems.################################### CLIENTS ##################################### Set the max number of connected clients at the same time. By default# this limit is set to 10000 clients, however if the Redis server is not# able to configure the process file limit to allow for the specified limit# the max number of allowed clients is set to the current file limit# minus 32 (as Redis reserves a few file descriptors for internal uses).## Once the limit is reached Redis will close all the new connections sending# an error 'max number of clients reached'.## IMPORTANT: When Redis Cluster is used, the max number of connections is also# shared with the cluster bus: every node in the cluster will use two# connections, one incoming and another outgoing. It is important to size the# limit accordingly in case of very large clusters.## maxclients 10000############################## MEMORY MANAGEMENT ################################# Set a memory usage limit to the specified amount of bytes.# When the memory limit is reached Redis will try to remove keys# according to the eviction policy selected (see maxmemory-policy).## If Redis can't remove keys according to the policy, or if the policy is# set to 'noeviction', Redis will start to reply with errors to commands# that would use more memory, like SET, LPUSH, and so on, and will continue# to reply to read-only commands like GET.## This option is usually useful when using Redis as an LRU or LFU cache, or to# set a hard memory limit for an instance (using the 'noeviction' policy).## WARNING: If you have replicas attached to an instance with maxmemory on,# the size of the output buffers needed to feed the replicas are subtracted# from the used memory count, so that network problems / resyncs will# not trigger a loop where keys are evicted, and in turn the output# buffer of replicas is full with DELs of keys evicted triggering the deletion# of more keys, and so forth until the database is completely emptied.## In short... if you have replicas attached it is suggested that you set a lower# limit for maxmemory so that there is some free RAM on the system for replica# output buffers (but this is not needed if the policy is 'noeviction').## maxmemory &lt;bytes&gt;# MAXMEMORY POLICY: how Redis will select what to remove when maxmemory# is reached. You can select one from the following behaviors:## volatile-lru -&gt; Evict using approximated LRU, only keys with an expire set.# allkeys-lru -&gt; Evict any key using approximated LRU.# volatile-lfu -&gt; Evict using approximated LFU, only keys with an expire set.# allkeys-lfu -&gt; Evict any key using approximated LFU.# volatile-random -&gt; Remove a random key having an expire set.# allkeys-random -&gt; Remove a random key, any key.# volatile-ttl -&gt; Remove the key with the nearest expire time (minor TTL)# noeviction -&gt; Don't evict anything, just return an error on write operations.## LRU means Least Recently Used# LFU means Least Frequently Used## Both LRU, LFU and volatile-ttl are implemented using approximated# randomized algorithms.## Note: with any of the above policies, Redis will return an error on write# operations, when there are no suitable keys for eviction.## At the date of writing these commands are: set setnx setex append# incr decr rpush lpush rpushx lpushx linsert lset rpoplpush sadd# sinter sinterstore sunion sunionstore sdiff sdiffstore zadd zincrby# zunionstore zinterstore hset hsetnx hmset hincrby incrby decrby# getset mset msetnx exec sort## The default is:## maxmemory-policy noeviction# LRU, LFU and minimal TTL algorithms are not precise algorithms but approximated# algorithms (in order to save memory), so you can tune it for speed or# accuracy. For default Redis will check five keys and pick the one that was# used less recently, you can change the sample size using the following# configuration directive.## The default of 5 produces good enough results. 10 Approximates very closely# true LRU but costs more CPU. 3 is faster but not very accurate.## maxmemory-samples 5# Starting from Redis 5, by default a replica will ignore its maxmemory setting# (unless it is promoted to master after a failover or manually). It means# that the eviction of keys will be just handled by the master, sending the# DEL commands to the replica as keys evict in the master side.## This behavior ensures that masters and replicas stay consistent, and is usually# what you want, however if your replica is writable, or you want the replica# to have a different memory setting, and you are sure all the writes performed# to the replica are idempotent, then you may change this default (but be sure# to understand what you are doing).## Note that since the replica by default does not evict, it may end using more# memory than the one set via maxmemory (there are certain buffers that may# be larger on the replica, or data structures may sometimes take more memory# and so forth). So make sure you monitor your replicas and make sure they# have enough memory to never hit a real out-of-memory condition before the# master hits the configured maxmemory setting.## replica-ignore-maxmemory yes# Redis reclaims expired keys in two ways: upon access when those keys are# found to be expired, and also in background, in what is called the# &quot;active expire key&quot;. The key space is slowly and interactively scanned# looking for expired keys to reclaim, so that it is possible to free memory# of keys that are expired and will never be accessed again in a short time.## The default effort of the expire cycle will try to avoid having more than# ten percent of expired keys still in memory, and will try to avoid consuming# more than 25% of total memory and to add latency to the system. However# it is possible to increase the expire &quot;effort&quot; that is normally set to# &quot;1&quot;, to a greater value, up to the value &quot;10&quot;. At its maximum value the# system will use more CPU, longer cycles (and technically may introduce# more latency), and will tollerate less already expired keys still present# in the system. It's a tradeoff betweeen memory, CPU and latecy.## active-expire-effort 1############################# LAZY FREEING ##################################### Redis has two primitives to delete keys. One is called DEL and is a blocking# deletion of the object. It means that the server stops processing new commands# in order to reclaim all the memory associated with an object in a synchronous# way. If the key deleted is associated with a small object, the time needed# in order to execute the DEL command is very small and comparable to most other# O(1) or O(log_N) commands in Redis. However if the key is associated with an# aggregated value containing millions of elements, the server can block for# a long time (even seconds) in order to complete the operation.## For the above reasons Redis also offers non blocking deletion primitives# such as UNLINK (non blocking DEL) and the ASYNC option of FLUSHALL and# FLUSHDB commands, in order to reclaim memory in background. Those commands# are executed in constant time. Another thread will incrementally free the# object in the background as fast as possible.## DEL, UNLINK and ASYNC option of FLUSHALL and FLUSHDB are user-controlled.# It's up to the design of the application to understand when it is a good# idea to use one or the other. However the Redis server sometimes has to# delete keys or flush the whole database as a side effect of other operations.# Specifically Redis deletes objects independently of a user call in the# following scenarios:## 1) On eviction, because of the maxmemory and maxmemory policy configurations,# in order to make room for new data, without going over the specified# memory limit.# 2) Because of expire: when a key with an associated time to live (see the# EXPIRE command) must be deleted from memory.# 3) Because of a side effect of a command that stores data on a key that may# already exist. For example the RENAME command may delete the old key# content when it is replaced with another one. Similarly SUNIONSTORE# or SORT with STORE option may delete existing keys. The SET command# itself removes any old content of the specified key in order to replace# it with the specified string.# 4) During replication, when a replica performs a full resynchronization with# its master, the content of the whole database is removed in order to# load the RDB file just transferred.## In all the above cases the default is to delete objects in a blocking way,# like if DEL was called. However you can configure each case specifically# in order to instead release memory in a non-blocking way like if UNLINK# was called, using the following configuration directives.lazyfree-lazy-eviction nolazyfree-lazy-expire nolazyfree-lazy-server-del noreplica-lazy-flush no# It is also possible, for the case when to replace the user code DEL calls# with UNLINK calls is not easy, to modify the default behavior of the DEL# command to act exactly like UNLINK, using the following configuration# directive:lazyfree-lazy-user-del no################################ THREADED I/O ################################## Redis is mostly single threaded, however there are certain threaded# operations such as UNLINK, slow I/O accesses and other things that are# performed on side threads.## Now it is also possible to handle Redis clients socket reads and writes# in different I/O threads. Since especially writing is so slow, normally# Redis users use pipelining in order to speedup the Redis performances per# core, and spawn multiple instances in order to scale more. Using I/O# threads it is possible to easily speedup two times Redis without resorting# to pipelining nor sharding of the instance.## By default threading is disabled, we suggest enabling it only in machines# that have at least 4 or more cores, leaving at least one spare core.# Using more than 8 threads is unlikely to help much. We also recommend using# threaded I/O only if you actually have performance problems, with Redis# instances being able to use a quite big percentage of CPU time, otherwise# there is no point in using this feature.## So for instance if you have a four cores boxes, try to use 2 or 3 I/O# threads, if you have a 8 cores, try to use 6 threads. In order to# enable I/O threads use the following configuration directive:## io-threads 4## Setting io-threads to 1 will just use the main thread as usually.# When I/O threads are enabled, we only use threads for writes, that is# to thread the write(2) syscall and transfer the client buffers to the# socket. However it is also possible to enable threading of reads and# protocol parsing using the following configuration directive, by setting# it to yes:## io-threads-do-reads no## Usually threading reads doesn't help much.## NOTE 1: This configuration directive cannot be changed at runtime via# CONFIG SET. Aso this feature currently does not work when SSL is# enabled.## NOTE 2: If you want to test the Redis speedup using redis-benchmark, make# sure you also run the benchmark itself in threaded mode, using the# --threads option to match the number of Redis theads, otherwise you'll not# be able to notice the improvements.############################ KERNEL OOM CONTROL ############################### On Linux, it is possible to hint the kernel OOM killer on what processes# should be killed first when out of memory.## Enabling this feature makes Redis actively control the oom_score_adj value# for all its processes, depending on their role. The default scores will# attempt to have background child processes killed before all others, and# replicas killed before masters.oom-score-adj no# When oom-score-adj is used, this directive controls the specific values used# for master, replica and background child processes. Values range -1000 to# 1000 (higher means more likely to be killed).## Unprivileged processes (not root, and without CAP_SYS_RESOURCE capabilities)# can freely increase their value, but not decrease it below its initial# settings.## Values are used relative to the initial value of oom_score_adj when the server# starts. Because typically the initial value is 0, they will often match the# absolute values.oom-score-adj-values 0 200 800############################## APPEND ONLY MODE ################################ By default Redis asynchronously dumps the dataset on disk. This mode is# good enough in many applications, but an issue with the Redis process or# a power outage may result into a few minutes of writes lost (depending on# the configured save points).## The Append Only File is an alternative persistence mode that provides# much better durability. For instance using the default data fsync policy# (see later in the config file) Redis can lose just one second of writes in a# dramatic event like a server power outage, or a single write if something# wrong with the Redis process itself happens, but the operating system is# still running correctly.## AOF and RDB persistence can be enabled at the same time without problems.# If the AOF is enabled on startup Redis will load the AOF, that is the file# with the better durability guarantees.## Please check http://redis.io/topics/persistence for more information.appendonly no# The name of the append only file (default: &quot;appendonly.aof&quot;)appendfilename &quot;appendonly.aof&quot;# The fsync() call tells the Operating System to actually write data on disk# instead of waiting for more data in the output buffer. Some OS will really flush# data on disk, some other OS will just try to do it ASAP.## Redis supports three different modes:## no: don't fsync, just let the OS flush the data when it wants. Faster.# always: fsync after every write to the append only log. Slow, Safest.# everysec: fsync only one time every second. Compromise.## The default is &quot;everysec&quot;, as that's usually the right compromise between# speed and data safety. It's up to you to understand if you can relax this to# &quot;no&quot; that will let the operating system flush the output buffer when# it wants, for better performances (but if you can live with the idea of# some data loss consider the default persistence mode that's snapshotting),# or on the contrary, use &quot;always&quot; that's very slow but a bit safer than# everysec.## More details please check the following article:# http://antirez.com/post/redis-persistence-demystified.html## If unsure, use &quot;everysec&quot;.# appendfsync alwaysappendfsync everysec# appendfsync no# When the AOF fsync policy is set to always or everysec, and a background# saving process (a background save or AOF log background rewriting) is# performing a lot of I/O against the disk, in some Linux configurations# Redis may block too long on the fsync() call. Note that there is no fix for# this currently, as even performing fsync in a different thread will block# our synchronous write(2) call.## In order to mitigate this problem it's possible to use the following option# that will prevent fsync() from being called in the main process while a# BGSAVE or BGREWRITEAOF is in progress.## This means that while another child is saving, the durability of Redis is# the same as &quot;appendfsync none&quot;. In practical terms, this means that it is# possible to lose up to 30 seconds of log in the worst scenario (with the# default Linux settings).## If you have latency problems turn this to &quot;yes&quot;. Otherwise leave it as# &quot;no&quot; that is the safest pick from the point of view of durability.no-appendfsync-on-rewrite no# Automatic rewrite of the append only file.# Redis is able to automatically rewrite the log file implicitly calling# BGREWRITEAOF when the AOF log size grows by the specified percentage.## This is how it works: Redis remembers the size of the AOF file after the# latest rewrite (if no rewrite has happened since the restart, the size of# the AOF at startup is used).## This base size is compared to the current size. If the current size is# bigger than the specified percentage, the rewrite is triggered. Also# you need to specify a minimal size for the AOF file to be rewritten, this# is useful to avoid rewriting the AOF file even if the percentage increase# is reached but it is still pretty small.## Specify a percentage of zero in order to disable the automatic AOF# rewrite feature.auto-aof-rewrite-percentage 100auto-aof-rewrite-min-size 64mb# An AOF file may be found to be truncated at the end during the Redis# startup process, when the AOF data gets loaded back into memory.# This may happen when the system where Redis is running# crashes, especially when an ext4 filesystem is mounted without the# data=ordered option (however this can't happen when Redis itself# crashes or aborts but the operating system still works correctly).## Redis can either exit with an error when this happens, or load as much# data as possible (the default now) and start if the AOF file is found# to be truncated at the end. The following option controls this behavior.## If aof-load-truncated is set to yes, a truncated AOF file is loaded and# the Redis server starts emitting a log to inform the user of the event.# Otherwise if the option is set to no, the server aborts with an error# and refuses to start. When the option is set to no, the user requires# to fix the AOF file using the &quot;redis-check-aof&quot; utility before to restart# the server.## Note that if the AOF file will be found to be corrupted in the middle# the server will still exit with an error. This option only applies when# Redis will try to read more data from the AOF file but not enough bytes# will be found.aof-load-truncated yes# When rewriting the AOF file, Redis is able to use an RDB preamble in the# AOF file for faster rewrites and recoveries. When this option is turned# on the rewritten AOF file is composed of two different stanzas:## [RDB file][AOF tail]## When loading Redis recognizes that the AOF file starts with the &quot;REDIS&quot;# string and loads the prefixed RDB file, and continues loading the AOF# tail.aof-use-rdb-preamble yes################################ LUA SCRIPTING ################################ Max execution time of a Lua script in milliseconds.## If the maximum execution time is reached Redis will log that a script is# still in execution after the maximum allowed time and will start to# reply to queries with an error.## When a long running script exceeds the maximum execution time only the# SCRIPT KILL and SHUTDOWN NOSAVE commands are available. The first can be# used to stop a script that did not yet called write commands. The second# is the only way to shut down the server in the case a write command was# already issued by the script but the user doesn't want to wait for the natural# termination of the script.## Set it to 0 or a negative value for unlimited execution without warnings.lua-time-limit 5000################################ REDIS CLUSTER ################################ Normal Redis instances can't be part of a Redis Cluster; only nodes that are# started as cluster nodes can. In order to start a Redis instance as a# cluster node enable the cluster support uncommenting the following:## cluster-enabled yes# Every cluster node has a cluster configuration file. This file is not# intended to be edited by hand. It is created and updated by Redis nodes.# Every Redis Cluster node requires a different cluster configuration file.# Make sure that instances running in the same system do not have# overlapping cluster configuration file names.## cluster-config-file nodes-6379.conf# Cluster node timeout is the amount of milliseconds a node must be unreachable# for it to be considered in failure state.# Most other internal time limits are multiple of the node timeout.## cluster-node-timeout 15000# A replica of a failing master will avoid to start a failover if its data# looks too old.## There is no simple way for a replica to actually have an exact measure of# its &quot;data age&quot;, so the following two checks are performed:## 1) If there are multiple replicas able to failover, they exchange messages# in order to try to give an advantage to the replica with the best# replication offset (more data from the master processed).# Replicas will try to get their rank by offset, and apply to the start# of the failover a delay proportional to their rank.## 2) Every single replica computes the time of the last interaction with# its master. This can be the last ping or command received (if the master# is still in the &quot;connected&quot; state), or the time that elapsed since the# disconnection with the master (if the replication link is currently down).# If the last interaction is too old, the replica will not try to failover# at all.## The point &quot;2&quot; can be tuned by user. Specifically a replica will not perform# the failover if, since the last interaction with the master, the time# elapsed is greater than:## (node-timeout * replica-validity-factor) + repl-ping-replica-period## So for example if node-timeout is 30 seconds, and the replica-validity-factor# is 10, and assuming a default repl-ping-replica-period of 10 seconds, the# replica will not try to failover if it was not able to talk with the master# for longer than 310 seconds.## A large replica-validity-factor may allow replicas with too old data to failover# a master, while a too small value may prevent the cluster from being able to# elect a replica at all.## For maximum availability, it is possible to set the replica-validity-factor# to a value of 0, which means, that replicas will always try to failover the# master regardless of the last time they interacted with the master.# (However they'll always try to apply a delay proportional to their# offset rank).## Zero is the only value able to guarantee that when all the partitions heal# the cluster will always be able to continue.## cluster-replica-validity-factor 10# Cluster replicas are able to migrate to orphaned masters, that are masters# that are left without working replicas. This improves the cluster ability# to resist to failures as otherwise an orphaned master can't be failed over# in case of failure if it has no working replicas.## Replicas migrate to orphaned masters only if there are still at least a# given number of other working replicas for their old master. This number# is the &quot;migration barrier&quot;. A migration barrier of 1 means that a replica# will migrate only if there is at least 1 other working replica for its master# and so forth. It usually reflects the number of replicas you want for every# master in your cluster.## Default is 1 (replicas migrate only if their masters remain with at least# one replica). To disable migration just set it to a very large value.# A value of 0 can be set but is useful only for debugging and dangerous# in production.## cluster-migration-barrier 1# By default Redis Cluster nodes stop accepting queries if they detect there# is at least an hash slot uncovered (no available node is serving it).# This way if the cluster is partially down (for example a range of hash slots# are no longer covered) all the cluster becomes, eventually, unavailable.# It automatically returns available as soon as all the slots are covered again.## However sometimes you want the subset of the cluster which is working,# to continue to accept queries for the part of the key space that is still# covered. In order to do so, just set the cluster-require-full-coverage# option to no.## cluster-require-full-coverage yes# This option, when set to yes, prevents replicas from trying to failover its# master during master failures. However the master can still perform a# manual failover, if forced to do so.## This is useful in different scenarios, especially in the case of multiple# data center operations, where we want one side to never be promoted if not# in the case of a total DC failure.## cluster-replica-no-failover no# This option, when set to yes, allows nodes to serve read traffic while the# the cluster is in a down state, as long as it believes it owns the slots. ## This is useful for two cases. The first case is for when an application # doesn't require consistency of data during node failures or network partitions.# One example of this is a cache, where as long as the node has the data it# should be able to serve it. ## The second use case is for configurations that don't meet the recommended # three shards but want to enable cluster mode and scale later. A # master outage in a 1 or 2 shard configuration causes a read/write outage to the# entire cluster without this option set, with it set there is only a write outage.# Without a quorum of masters, slot ownership will not change automatically. ## cluster-allow-reads-when-down no# In order to setup your cluster make sure to read the documentation# available at http://redis.io web site.########################## CLUSTER DOCKER/NAT support ######################### In certain deployments, Redis Cluster nodes address discovery fails, because# addresses are NAT-ted or because ports are forwarded (the typical case is# Docker and other containers).## In order to make Redis Cluster working in such environments, a static# configuration where each node knows its public address is needed. The# following two options are used for this scope, and are:## * cluster-announce-ip# * cluster-announce-port# * cluster-announce-bus-port## Each instruct the node about its address, client port, and cluster message# bus port. The information is then published in the header of the bus packets# so that other nodes will be able to correctly map the address of the node# publishing the information.## If the above options are not used, the normal Redis Cluster auto-detection# will be used instead.## Note that when remapped, the bus port may not be at the fixed offset of# clients port + 10000, so you can specify any port and bus-port depending# on how they get remapped. If the bus-port is not set, a fixed offset of# 10000 will be used as usually.## Example:## cluster-announce-ip 10.1.1.5# cluster-announce-port 6379# cluster-announce-bus-port 6380################################## SLOW LOG #################################### The Redis Slow Log is a system to log queries that exceeded a specified# execution time. The execution time does not include the I/O operations# like talking with the client, sending the reply and so forth,# but just the time needed to actually execute the command (this is the only# stage of command execution where the thread is blocked and can not serve# other requests in the meantime).## You can configure the slow log with two parameters: one tells Redis# what is the execution time, in microseconds, to exceed in order for the# command to get logged, and the other parameter is the length of the# slow log. When a new command is logged the oldest one is removed from the# queue of logged commands.# The following time is expressed in microseconds, so 1000000 is equivalent# to one second. Note that a negative number disables the slow log, while# a value of zero forces the logging of every command.slowlog-log-slower-than 10000# There is no limit to this length. Just be aware that it will consume memory.# You can reclaim memory used by the slow log with SLOWLOG RESET.slowlog-max-len 128################################ LATENCY MONITOR ############################### The Redis latency monitoring subsystem samples different operations# at runtime in order to collect data related to possible sources of# latency of a Redis instance.## Via the LATENCY command this information is available to the user that can# print graphs and obtain reports.## The system only logs operations that were performed in a time equal or# greater than the amount of milliseconds specified via the# latency-monitor-threshold configuration directive. When its value is set# to zero, the latency monitor is turned off.## By default latency monitoring is disabled since it is mostly not needed# if you don't have latency issues, and collecting data has a performance# impact, that while very small, can be measured under big load. Latency# monitoring can easily be enabled at runtime using the command# &quot;CONFIG SET latency-monitor-threshold &lt;milliseconds&gt;&quot; if needed.latency-monitor-threshold 0############################# EVENT NOTIFICATION ############################### Redis can notify Pub/Sub clients about events happening in the key space.# This feature is documented at http://redis.io/topics/notifications## For instance if keyspace events notification is enabled, and a client# performs a DEL operation on key &quot;foo&quot; stored in the Database 0, two# messages will be published via Pub/Sub:## PUBLISH __keyspace@0__:foo del# PUBLISH __keyevent@0__:del foo## It is possible to select the events that Redis will notify among a set# of classes. Every class is identified by a single character:## K Keyspace events, published with __keyspace@&lt;db&gt;__ prefix.# E Keyevent events, published with __keyevent@&lt;db&gt;__ prefix.# g Generic commands (non-type specific) like DEL, EXPIRE, RENAME, ...# $ String commands# l List commands# s Set commands# h Hash commands# z Sorted set commands# x Expired events (events generated every time a key expires)# e Evicted events (events generated when a key is evicted for maxmemory)# t Stream commands# m Key-miss events (Note: It is not included in the 'A' class)# A Alias for g$lshzxet, so that the &quot;AKE&quot; string means all the events# (Except key-miss events which are excluded from 'A' due to their# unique nature).## The &quot;notify-keyspace-events&quot; takes as argument a string that is composed# of zero or multiple characters. The empty string means that notifications# are disabled.## Example: to enable list and generic events, from the point of view of the# event name, use:## notify-keyspace-events Elg## Example 2: to get the stream of the expired keys subscribing to channel# name __keyevent@0__:expired use:## notify-keyspace-events Ex## By default all notifications are disabled because most users don't need# this feature and the feature has some overhead. Note that if you don't# specify at least one of K or E, no events will be delivered.notify-keyspace-events &quot;&quot;############################### GOPHER SERVER ################################## Redis contains an implementation of the Gopher protocol, as specified in# the RFC 1436 (https://www.ietf.org/rfc/rfc1436.txt).## The Gopher protocol was very popular in the late '90s. It is an alternative# to the web, and the implementation both server and client side is so simple# that the Redis server has just 100 lines of code in order to implement this# support.## What do you do with Gopher nowadays? Well Gopher never *really* died, and# lately there is a movement in order for the Gopher more hierarchical content# composed of just plain text documents to be resurrected. Some want a simpler# internet, others believe that the mainstream internet became too much# controlled, and it's cool to create an alternative space for people that# want a bit of fresh air.## Anyway for the 10nth birthday of the Redis, we gave it the Gopher protocol# as a gift.## --- HOW IT WORKS? ---## The Redis Gopher support uses the inline protocol of Redis, and specifically# two kind of inline requests that were anyway illegal: an empty request# or any request that starts with &quot;/&quot; (there are no Redis commands starting# with such a slash). Normal RESP2/RESP3 requests are completely out of the# path of the Gopher protocol implementation and are served as usually as well.## If you open a connection to Redis when Gopher is enabled and send it# a string like &quot;/foo&quot;, if there is a key named &quot;/foo&quot; it is served via the# Gopher protocol.## In order to create a real Gopher &quot;hole&quot; (the name of a Gopher site in Gopher# talking), you likely need a script like the following:## https://github.com/antirez/gopher2redis## --- SECURITY WARNING ---## If you plan to put Redis on the internet in a publicly accessible address# to server Gopher pages MAKE SURE TO SET A PASSWORD to the instance.# Once a password is set:## 1. The Gopher server (when enabled, not by default) will still serve# content via Gopher.# 2. However other commands cannot be called before the client will# authenticate.## So use the 'requirepass' option to protect your instance.## To enable Gopher support uncomment the following line and set# the option from no (the default) to yes.## gopher-enabled no############################### ADVANCED CONFIG ################################ Hashes are encoded using a memory efficient data structure when they have a# small number of entries, and the biggest entry does not exceed a given# threshold. These thresholds can be configured using the following directives.hash-max-ziplist-entries 512hash-max-ziplist-value 64# Lists are also encoded in a special way to save a lot of space.# The number of entries allowed per internal list node can be specified# as a fixed maximum size or a maximum number of elements.# For a fixed maximum size, use -5 through -1, meaning:# -5: max size: 64 Kb &lt;-- not recommended for normal workloads# -4: max size: 32 Kb &lt;-- not recommended# -3: max size: 16 Kb &lt;-- probably not recommended# -2: max size: 8 Kb &lt;-- good# -1: max size: 4 Kb &lt;-- good# Positive numbers mean store up to _exactly_ that number of elements# per list node.# The highest performing option is usually -2 (8 Kb size) or -1 (4 Kb size),# but if your use case is unique, adjust the settings as necessary.list-max-ziplist-size -2# Lists may also be compressed.# Compress depth is the number of quicklist ziplist nodes from *each* side of# the list to *exclude* from compression. The head and tail of the list# are always uncompressed for fast push/pop operations. Settings are:# 0: disable all list compression# 1: depth 1 means &quot;don't start compressing until after 1 node into the list,# going from either the head or tail&quot;# So: [head]-&gt;node-&gt;node-&gt;...-&gt;node-&gt;[tail]# [head], [tail] will always be uncompressed; inner nodes will compress.# 2: [head]-&gt;[next]-&gt;node-&gt;node-&gt;...-&gt;node-&gt;[prev]-&gt;[tail]# 2 here means: don't compress head or head-&gt;next or tail-&gt;prev or tail,# but compress all nodes between them.# 3: [head]-&gt;[next]-&gt;[next]-&gt;node-&gt;node-&gt;...-&gt;node-&gt;[prev]-&gt;[prev]-&gt;[tail]# etc.list-compress-depth 0# Sets have a special encoding in just one case: when a set is composed# of just strings that happen to be integers in radix 10 in the range# of 64 bit signed integers.# The following configuration setting sets the limit in the size of the# set in order to use this special memory saving encoding.set-max-intset-entries 512# Similarly to hashes and lists, sorted sets are also specially encoded in# order to save a lot of space. This encoding is only used when the length and# elements of a sorted set are below the following limits:zset-max-ziplist-entries 128zset-max-ziplist-value 64# HyperLogLog sparse representation bytes limit. The limit includes the# 16 bytes header. When an HyperLogLog using the sparse representation crosses# this limit, it is converted into the dense representation.## A value greater than 16000 is totally useless, since at that point the# dense representation is more memory efficient.## The suggested value is ~ 3000 in order to have the benefits of# the space efficient encoding without slowing down too much PFADD,# which is O(N) with the sparse encoding. The value can be raised to# ~ 10000 when CPU is not a concern, but space is, and the data set is# composed of many HyperLogLogs with cardinality in the 0 - 15000 range.hll-sparse-max-bytes 3000# Streams macro node max size / items. The stream data structure is a radix# tree of big nodes that encode multiple items inside. Using this configuration# it is possible to configure how big a single node can be in bytes, and the# maximum number of items it may contain before switching to a new node when# appending new stream entries. If any of the following settings are set to# zero, the limit is ignored, so for instance it is possible to set just a# max entires limit by setting max-bytes to 0 and max-entries to the desired# value.stream-node-max-bytes 4096stream-node-max-entries 100# Active rehashing uses 1 millisecond every 100 milliseconds of CPU time in# order to help rehashing the main Redis hash table (the one mapping top-level# keys to values). The hash table implementation Redis uses (see dict.c)# performs a lazy rehashing: the more operation you run into a hash table# that is rehashing, the more rehashing &quot;steps&quot; are performed, so if the# server is idle the rehashing is never complete and some more memory is used# by the hash table.## The default is to use this millisecond 10 times every second in order to# actively rehash the main dictionaries, freeing memory when possible.## If unsure:# use &quot;activerehashing no&quot; if you have hard latency requirements and it is# not a good thing in your environment that Redis can reply from time to time# to queries with 2 milliseconds delay.## use &quot;activerehashing yes&quot; if you don't have such hard requirements but# want to free memory asap when possible.activerehashing yes# The client output buffer limits can be used to force disconnection of clients# that are not reading data from the server fast enough for some reason (a# common reason is that a Pub/Sub client can't consume messages as fast as the# publisher can produce them).## The limit can be set differently for the three different classes of clients:## normal -&gt; normal clients including MONITOR clients# replica -&gt; replica clients# pubsub -&gt; clients subscribed to at least one pubsub channel or pattern## The syntax of every client-output-buffer-limit directive is the following:## client-output-buffer-limit &lt;class&gt; &lt;hard limit&gt; &lt;soft limit&gt; &lt;soft seconds&gt;## A client is immediately disconnected once the hard limit is reached, or if# the soft limit is reached and remains reached for the specified number of# seconds (continuously).# So for instance if the hard limit is 32 megabytes and the soft limit is# 16 megabytes / 10 seconds, the client will get disconnected immediately# if the size of the output buffers reach 32 megabytes, but will also get# disconnected if the client reaches 16 megabytes and continuously overcomes# the limit for 10 seconds.## By default normal clients are not limited because they don't receive data# without asking (in a push way), but just after a request, so only# asynchronous clients may create a scenario where data is requested faster# than it can read.## Instead there is a default limit for pubsub and replica clients, since# subscribers and replicas receive data in a push fashion.## Both the hard or the soft limit can be disabled by setting them to zero.client-output-buffer-limit normal 0 0 0client-output-buffer-limit replica 256mb 64mb 60client-output-buffer-limit pubsub 32mb 8mb 60# Client query buffers accumulate new commands. They are limited to a fixed# amount by default in order to avoid that a protocol desynchronization (for# instance due to a bug in the client) will lead to unbound memory usage in# the query buffer. However you can configure it here if you have very special# needs, such us huge multi/exec requests or alike.## client-query-buffer-limit 1gb# In the Redis protocol, bulk requests, that are, elements representing single# strings, are normally limited ot 512 mb. However you can change this limit# here, but must be 1mb or greater## proto-max-bulk-len 512mb# Redis calls an internal function to perform many background tasks, like# closing connections of clients in timeout, purging expired keys that are# never requested, and so forth.## Not all tasks are performed with the same frequency, but Redis checks for# tasks to perform according to the specified &quot;hz&quot; value.## By default &quot;hz&quot; is set to 10. Raising the value will use more CPU when# Redis is idle, but at the same time will make Redis more responsive when# there are many keys expiring at the same time, and timeouts may be# handled with more precision.## The range is between 1 and 500, however a value over 100 is usually not# a good idea. Most users should use the default of 10 and raise this up to# 100 only in environments where very low latency is required.hz 10# Normally it is useful to have an HZ value which is proportional to the# number of clients connected. This is useful in order, for instance, to# avoid too many clients are processed for each background task invocation# in order to avoid latency spikes.## Since the default HZ value by default is conservatively set to 10, Redis# offers, and enables by default, the ability to use an adaptive HZ value# which will temporary raise when there are many connected clients.## When dynamic HZ is enabled, the actual configured HZ will be used# as a baseline, but multiples of the configured HZ value will be actually# used as needed once more clients are connected. In this way an idle# instance will use very little CPU time while a busy instance will be# more responsive.dynamic-hz yes# When a child rewrites the AOF file, if the following option is enabled# the file will be fsync-ed every 32 MB of data generated. This is useful# in order to commit the file to the disk more incrementally and avoid# big latency spikes.aof-rewrite-incremental-fsync yes# When redis saves RDB file, if the following option is enabled# the file will be fsync-ed every 32 MB of data generated. This is useful# in order to commit the file to the disk more incrementally and avoid# big latency spikes.rdb-save-incremental-fsync yes# Redis LFU eviction (see maxmemory setting) can be tuned. However it is a good# idea to start with the default settings and only change them after investigating# how to improve the performances and how the keys LFU change over time, which# is possible to inspect via the OBJECT FREQ command.## There are two tunable parameters in the Redis LFU implementation: the# counter logarithm factor and the counter decay time. It is important to# understand what the two parameters mean before changing them.## The LFU counter is just 8 bits per key, it's maximum value is 255, so Redis# uses a probabilistic increment with logarithmic behavior. Given the value# of the old counter, when a key is accessed, the counter is incremented in# this way:## 1. A random number R between 0 and 1 is extracted.# 2. A probability P is calculated as 1/(old_value*lfu_log_factor+1).# 3. The counter is incremented only if R &lt; P.## The default lfu-log-factor is 10. This is a table of how the frequency# counter changes with a different number of accesses with different# logarithmic factors:## +--------+------------+------------+------------+------------+------------+# | factor | 100 hits | 1000 hits | 100K hits | 1M hits | 10M hits |# +--------+------------+------------+------------+------------+------------+# | 0 | 104 | 255 | 255 | 255 | 255 |# +--------+------------+------------+------------+------------+------------+# | 1 | 18 | 49 | 255 | 255 | 255 |# +--------+------------+------------+------------+------------+------------+# | 10 | 10 | 18 | 142 | 255 | 255 |# +--------+------------+------------+------------+------------+------------+# | 100 | 8 | 11 | 49 | 143 | 255 |# +--------+------------+------------+------------+------------+------------+## NOTE: The above table was obtained by running the following commands:## redis-benchmark -n 1000000 incr foo# redis-cli object freq foo## NOTE 2: The counter initial value is 5 in order to give new objects a chance# to accumulate hits.## The counter decay time is the time, in minutes, that must elapse in order# for the key counter to be divided by two (or decremented if it has a value# less &lt;= 10).## The default value for the lfu-decay-time is 1. A Special value of 0 means to# decay the counter every time it happens to be scanned.## lfu-log-factor 10# lfu-decay-time 1########################### ACTIVE DEFRAGMENTATION ######################### What is active defragmentation?# -------------------------------## Active (online) defragmentation allows a Redis server to compact the# spaces left between small allocations and deallocations of data in memory,# thus allowing to reclaim back memory.## Fragmentation is a natural process that happens with every allocator (but# less so with Jemalloc, fortunately) and certain workloads. Normally a server# restart is needed in order to lower the fragmentation, or at least to flush# away all the data and create it again. However thanks to this feature# implemented by Oran Agra for Redis 4.0 this process can happen at runtime# in an &quot;hot&quot; way, while the server is running.## Basically when the fragmentation is over a certain level (see the# configuration options below) Redis will start to create new copies of the# values in contiguous memory regions by exploiting certain specific Jemalloc# features (in order to understand if an allocation is causing fragmentation# and to allocate it in a better place), and at the same time, will release the# old copies of the data. This process, repeated incrementally for all the keys# will cause the fragmentation to drop back to normal values.## Important things to understand:## 1. This feature is disabled by default, and only works if you compiled Redis# to use the copy of Jemalloc we ship with the source code of Redis.# This is the default with Linux builds.## 2. You never need to enable this feature if you don't have fragmentation# issues.## 3. Once you experience fragmentation, you can enable this feature when# needed with the command &quot;CONFIG SET activedefrag yes&quot;.## The configuration parameters are able to fine tune the behavior of the# defragmentation process. If you are not sure about what they mean it is# a good idea to leave the defaults untouched.# Enabled active defragmentation# activedefrag no# Minimum amount of fragmentation waste to start active defrag# active-defrag-ignore-bytes 100mb# Minimum percentage of fragmentation to start active defrag# active-defrag-threshold-lower 10# Maximum percentage of fragmentation at which we use maximum effort# active-defrag-threshold-upper 100# Minimal effort for defrag in CPU percentage, to be used when the lower# threshold is reached# active-defrag-cycle-min 1# Maximal effort for defrag in CPU percentage, to be used when the upper# threshold is reached# active-defrag-cycle-max 25# Maximum number of set/hash/zset/list fields that will be processed from# the main dictionary scan# active-defrag-max-scan-fields 1000# Jemalloc background thread for purging will be enabled by defaultjemalloc-bg-thread yes# It is possible to pin different threads and processes of Redis to specific# CPUs in your system, in order to maximize the performances of the server.# This is useful both in order to pin different Redis threads in different# CPUs, but also in order to make sure that multiple Redis instances running# in the same host will be pinned to different CPUs.## Normally you can do this using the &quot;taskset&quot; command, however it is also# possible to this via Redis configuration directly, both in Linux and FreeBSD.## You can pin the server/IO threads, bio threads, aof rewrite child process, and# the bgsave child process. The syntax to specify the cpu list is the same as# the taskset command:## Set redis server/io threads to cpu affinity 0,2,4,6:# server_cpulist 0-7:2## Set bio threads to cpu affinity 1,3:# bio_cpulist 1,3## Set aof rewrite child process to cpu affinity 8,9,10,11:# aof_rewrite_cpulist 8-11## Set bgsave child process to cpu affinity 1,10,11# bgsave_cpulist 1,10-11 ÊµãËØï redis-cliËøûÊé•‰∏äÊù• 1docker exec -it ËøêË°åÁùÄredisÊúçÂä°ÂÆπÂô®ÁöÑID redis-cli ÊµãËØïÊåÅ‰πÖÂåñÊñá‰ª∂ÁîüÊàê ÂÖ´„ÄÅÂ∞ÜÈïúÂÉèÊé®ÈÄÅÂà∞ÈòøÈáå‰∫ë Êú¨Âú∞ÈïúÂÉèÂèëÂ∏ÉÂà∞ÈòøÈáå‰∫ëÊµÅÁ®ã ÈïúÂÉèÁîüÊàêÊñπÊ≥ï 1„ÄÅÂâçÈù¢ÁöÑDockerfile 2„ÄÅ‰ªéÂÆπÂô®‰∏≠ÂàõÂª∫‰∏Ä‰∏™Êñ∞ÁöÑÈïúÂÉè 1docker commit [OPTIONS] ÂÆπÂô®ID [REPOSITORY[:TAG]] Â∞ÜÊú¨Âú∞ÈïúÂÉèÊé®ÈÄÅÂà∞ÈòøÈáå‰∫ë 1„ÄÅÊú¨Âú∞ÈïúÂÉèÁ¥†ÊùêÂéüÂûã 2„ÄÅÈòøÈáå‰∫ëÂºÄÂèëËÄÖÂπ≥Âè∞ https://promotion.aliyun.com/ntms/act/kubernetes.html 3„ÄÅÂàõÂª∫ÈïúÂÉè‰ªìÂ∫ì ÂëΩÂêçÁ©∫Èó¥ ‰ªìÂ∫ìÂêçÁß∞ 4„ÄÅÂ∞ÜÈïúÂÉèÊé®ÈÄÅÂà∞registry 1234$ sudo docker login --username=white3e registry.cn-shenzhen.aliyuncs.com$ sudo docker tag [ImageId] registry.cn-shenzhen.aliyuncs.com/ggccqq/mycentos:[ÈïúÂÉèÁâàÊú¨Âè∑]$ sudo docker push registry.cn-shenzhen.aliyuncs.com/ggccqq/mycentos:[ÈïúÂÉèÁâàÊú¨Âè∑]ÂÖ∂‰∏≠[ImageId][ÈïúÂÉèÁâàÊú¨]Ëá™Â∑±Â°´ÂÜô 5„ÄÅÂÖ¨Êúâ‰∫ëÂèØ‰ª•Êü•ËØ¢ÂæóÂà∞ 6„ÄÅÊü•ÁúãËØ¶ÊÉÖ Â∞ÜÈòøÈáå‰∫ë‰∏äÁöÑÈïúÂÉè‰∏ãËΩΩÂà∞Êú¨Âú∞","link":"/2021/01/20/Draft/2021/Docker/"},{"title":"SpringBoot","text":"SpringBoot Êñ∞Â≠¶ÂõõÈóÆ WHY„Äê‰∏éÂâç‰ª£‰ºòÂåñ‰∫Ü‰ªÄ‰πàÔºåÂº•Ë°•‰∫Ü‰ªÄ‰πàÁ©∫ÁôΩ„ÄëÔºö WHAT„ÄêÊ°ÜÊû∂ÔºåÊÄùÁª¥ÂØºÂõæÔºå‰∏ªÈ¢òÊ°ÜÊû∂„ÄëÔºö HOW„ÄêÂ¶Ç‰ΩïËÆ∞ÂøÜÔºåÂ≠¶‰π†ËµÑÊ∫ê„ÄëÔºöÂ∞öÁ°ÖË∞∑Â≠¶‰π†Á¨îËÆ∞„ÄÅspringbootÂÆòÊñπÊñáÊ°£„ÄÅËßÜÈ¢ë„ÄÅÈ°πÁõÆÈáåÈù¢ÂÅöÁ¨îËÆ∞ÔºåÊúÄÂêéËøõË°åÁªºÂêà‰ºòÂåñ LEVEL„Äê‰∏çÊòØÊØè‰∏™ÈÉΩÂ≠¶Á≤æ„ÄëÔºö Ë∑Ø‰∏äÈöè‰æøÁúãÁúã ËøõÂ∫¶Ôºö„ÄêÂÆå„ÄëË∑Ø‰∏äÁúãË°•Á¨îËÆ∞ ÁªºÂêàÈóÆÈ¢ò ‰ºòÁÇπÔºü SpringBootÂàÜÈ°µÊéíÂ∫èÔºü ÊéíÈô§Ëá™Â∏¶tomcatÁ≠âÂÆπÂô®Ôºü ÊµãËØïÔºü Spring Boot Stater Ôºü Â∏∏Áî®Ê≥®Ëß£Ôºü ‰∏Ä„ÄÅÁÆÄ‰ªã SpringBootÂèäÂÖ∂ÁâπÁÇπ Create stand-alone Spring applications Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files) Provide opinionated 'starter' dependencies to simplify your build configuration Automatically configure Spring and 3rd party libraries whenever possible Provide production-ready features such as metrics, health checks, and externalized configuration Absolutely no code generation and no requirement for XML configuration Áõ∏ÂÖ≥Ê¶ÇÂøµ ÂæÆÊúçÂä° In short, the microservice architectural style is an approach to developing a single application as a suite of small services, each running in its own process and communicating with lightweight mechanisms, often an HTTP resource API. These services are built around business capabilities and independently deployable by fully automated deployment machinery. There is a bare minimum of centralized management of these services, which may be written in different programming languages and use different data storage technologies.-- James Lewis and Martin Fowler (2014) ÂæÆÊúçÂä°ÊòØ‰∏ÄÁßçÊû∂ÊûÑÈ£éÊ†º ‰∏Ä‰∏™Â∫îÁî®ÊãÜÂàÜ‰∏∫‰∏ÄÁªÑÂ∞èÂûãÊúçÂä° ÊØè‰∏™ÊúçÂä°ËøêË°åÂú®Ëá™Â∑±ÁöÑËøõÁ®ãÂÜÖÔºå‰πüÂ∞±ÊòØÂèØÁã¨Á´ãÈÉ®ÁΩ≤ÂíåÂçáÁ∫ß ÊúçÂä°‰πãÈó¥‰ΩøÁî®ËΩªÈáèÁ∫ßHTTP‰∫§‰∫í ÊúçÂä°Âõ¥Áªï‰∏öÂä°ÂäüËÉΩÊãÜÂàÜ ÂèØ‰ª•Áî±ÂÖ®Ëá™Âä®ÈÉ®ÁΩ≤Êú∫Âà∂Áã¨Á´ãÈÉ®ÁΩ≤ Âéª‰∏≠ÂøÉÂåñÔºåÊúçÂä°Ëá™Ê≤ª„ÄÇÊúçÂä°ÂèØ‰ª•‰ΩøÁî®‰∏çÂêåÁöÑËØ≠Ë®Ä„ÄÅ‰∏çÂêåÁöÑÂ≠òÂÇ®ÊäÄÊúØ ÂàÜÂ∏ÉÂºè Spring Cloud focuses on providing good out of box experience for typical use cases and extensibility mechanism to cover others. Distributed/versioned configuration Service registration and discovery Routing Service-to-service calls Load balancing Circuit Breakers Global locks Leadership election and cluster state Distributed messaging ËøúÁ®ãË∞ÉÁî® ÊúçÂä°ÂèëÁé∞ Ë¥üËΩΩÂùáË°° ÊúçÂä°ÂÆπÈîô ÈÖçÁΩÆÁÆ°ÁêÜ ÊúçÂä°ÁõëÊéß ÈìæË∑ØËøΩË∏™ Êó•ÂøóÁÆ°ÁêÜ ‰ªªÂä°Ë∞ÉÂ∫¶ Spring Cloud Alibaba Ëá™Âä®ÈÖçÁΩÆ 123456789101112131415161718192021222324252627282930313233&lt;!-- Spring Boot È°πÁõÆÂêØÂä®Áà∂‰æùËµñ --&gt;&lt;parent&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt; &lt;version&gt;2.1.3.RELEASE&lt;/version&gt;&lt;/parent&gt; &lt;properties&gt; &lt;junit.version&gt;8.0.13&lt;/junit.version&gt; &lt;/properties&gt; &lt;!-- Junit Â°´ÂÜô${}‰ºöÈªòËÆ§Áà∂‰æùËµñÁöÑÁâàÊú¨Âè∑ÔºåÁà∂‰æùËµñÊ≤°ÊúâÂøÖÈ°ªÊåáÂÆöÁâàÊú¨ÔºåÂèØÈÄöËøáÂ¶Ç‰∏ä&lt;propertites&gt;‰øÆÊîπÈªòËÆ§ÁâàÊú¨--&gt; &lt;dependency&gt; &lt;groupId&gt;junit&lt;/groupId&gt; &lt;artifactId&gt;junit&lt;/artifactId&gt; &lt;version&gt;${junit.version}&lt;/version&gt; &lt;/dependency&gt;&lt;!-- ÂÖ∂Áà∂‰æùËµñÁöÑÁà∂‰æùËµñ --&gt; &lt;parent&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-dependencies&lt;/artifactId&gt; &lt;version&gt;2.1.3.RELEASE&lt;/version&gt; &lt;relativePath&gt;../../spring-boot-dependencies&lt;/relativePath&gt; &lt;/parent&gt;&lt;!--ÊúÄÈ´òÂ±Ç‰æùËµñ‰ºöÂÆö‰πâÊâÄÊúâÂΩìÂâçÁâàÊú¨‰ºöÁî®Âà∞ÁöÑ‰æùËµñÁâàÊú¨ÔºåËá™Âä®ÁâàÊú¨‰ª≤Ë£ÅÊú∫Âà∂--&gt;&lt;properties&gt; &lt;activemq.version&gt;5.15.8&lt;/activemq.version&gt; &lt;antlr2.version&gt;2.7.7&lt;/antlr2.version&gt; &lt;appengine-sdk.version&gt;1.9.71&lt;/appengine-sdk.version&gt; &lt;artemis.version&gt;2.6.4&lt;/artemis.version&gt; &lt;aspectj.version&gt;1.9.2&lt;/aspectj.version&gt; &lt;assertj.version&gt;3.11.1&lt;/assertj.version&gt; „ÄÇ„ÄÇ„ÄÇ„ÄÇ&lt;/properties&gt; SpringBoot‰ºöËá™Âä®ÈÖçÁΩÆ‰ª•‰∏ãÁéØÂ¢ÉÔºö 1234567891011&lt;!-- Â∏∏Áî®starterspring-boot-starter-parent //boot È°πÁõÆÁªßÊâøÁöÑÁà∂È°πÁõÆÊ®°Âùó.spring-boot-starter-web //boot È°πÁõÆÈõÜÊàê web ÂºÄÂèëÊ®°Âùó.spring-boot-starter-tomcat //boot È°πÁõÆÈõÜÊàê tomcat ÂÜÖÂµåÊúçÂä°Âô®.spring-boot-starter-test //boot È°πÁõÆÈõÜÊàêÊµãËØïÊ®°Âùó.mybatis-spring-boot-starter //boot È°πÁõÆÈõÜÊàê mybatis Ê°ÜÊû∂.spring-boot-starter-jdbc //boot È°πÁõÆÂ∫ïÂ±ÇÈõÜÊàê jdbc ÂÆûÁé∞Êï∞ÊçÆÂ∫ìÊìç‰ΩúÊîØÊåÅ.--&gt;&lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;&lt;/dependency&gt; Tomcat„ÄÅSpring„ÄÅSpringMVCÂÖ®Â•óÁªÑ‰ª∂‰ª•ÂèäÂ∏∏Áî®ÂäüËÉΩ„ÄêÂ≠óÁ¨¶ÁºñÁ†Å„ÄÅdispatcherServlet„ÄÅviewResolver„ÄÅMultiparResolverÁ≠â„Äë ÈªòËÆ§ÂåÖÊâ´Êèè„Äê‰∏ªÁ®ãÂ∫èÊâÄÂú®ÂåÖÂèäÂÖ∂Â≠êÂåÖ„ÄëÔºåË¶ÅÊâ´Êèè‰∏äÂ±ÇÈúÄË¶ÅÊ≥®Ëß£‰∏äÂ±ÇÂåÖ Ëá™Âä®ÈÖçÁΩÆÊåâÈúÄÂä†ËΩΩ„ÄêPOMÂºïÂÖ•Êâç‰ºöÂä†ËΩΩ„Äë 12345//Ëá™ÂÆö‰πâÊâ´ÊèèÂåÖ//@SpringBootApplication(scanBasePackages = &quot;cn.wmyskxz&quot;)//ÈªòËÆ§Êâ´Êèè‰∏ªÁ®ãÂ∫èÁ±ªÊâÄÂú®ÂåÖ@SpringBootApplicationpublic class SpringbootApplication {} È°πÁõÆÁªìÊûÑ ‰∫å„ÄÅÊ≥®Ëß£ 12345678910@ImportResource(&quot;classpath:beans.xml&quot;)//ÈÄöËøáxmlÂØºÂÖ•ÁªÑ‰ª∂@Configuration //Â£∞ÊòéÈÖçÁΩÆÁ±ª @EnableAspectJAutoProxy(exposeProxy = true)//Ë°®Á§∫ÈÄöËøáaopÊ°ÜÊû∂Êö¥Èú≤ËØ•‰ª£ÁêÜÂØπË±°,AopContextËÉΩÂ§üËÆøÈóÆ@Import({User.class})//Ê≥®ÂÖ•ÂØπÂ∫îÁ±ªÂûãÁöÑÁªÑ‰ª∂@EnableConfigurationProperties(StudentProperties.class)//1.ÂºÄÂêØÂ±ûÊÄßÈÖçÁΩÆÂäüËÉΩ 2.ÊääÁªÑ‰ª∂Ëá™Âä®Ê≥®ÂÜåÂà∞ÂÆπÂô®@Bean//ÂêëÂÆπÂô®Ê≥®ÂÜåÁªÑ‰ª∂ÔºåÈªòËÆ§ÂçïÂÆû‰æã@ConditionalOnBean(name = &quot;user02&quot;)//Êù°‰ª∂ÊàêÁ´ãÊâçË£ÖÈÖçÂÖ∂Ê≥®Ëß£‰∏≠ÁöÑÁªÑ‰ª∂@EnableSwagger2Doc //Swagger@Component //Ê≥®ÂÜå‰∏∫ÁªÑ‰ª∂@ConfigurationProperties(prefix = &quot;student&quot;)//ÁªôÂÆπÂô®‰∏≠ÁöÑÁªÑ‰ª∂Êèê‰æõÈÖçÁΩÆÁªëÂÆö ÈÖçÁΩÆÁ±ª 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950package cn.lxl.springboot.config;import cn.lxl.springboot.entity.StudentProperties;import cn.lxl.springboot.entity.User;import org.springframework.boot.autoconfigure.condition.ConditionalOnBean;import org.springframework.boot.autoconfigure.condition.ConditionalOnMissingBean;import org.springframework.boot.context.properties.EnableConfigurationProperties;import org.springframework.context.annotation.*;/*ÊµãËØïÂùáÂú®‰∏ªÁ®ãÂ∫èÁ±ª*///Â∞ÜÈÖçÁΩÆÊñá‰ª∂‰∏≠ÁöÑbeanÊ≥®ÂÖ•ÂÆπÂô®@ImportResource(&quot;classpath:beans.xml&quot;)//ÂëäËØâspringbootËøôÊòØ‰∏™ÈÖçÁΩÆÁ±ª// proxybeanMethodsÔºö‰ª£ÁêÜbeanÁöÑÊñπÊ≥ï// FullÊ®°ÂºèÔºö@Configuration(proxybeanMethods=true) ÂÖ®Ê®°Âºè ËÆ∞ÂΩï‰∏äÊ¨°Áî®ÁöÑbeanÔºåÊ£ÄÊü•ÁªÑ‰ª∂ÊòØÂê¶Âú®ÂÆπÂô®‰∏≠ÊúâÔºåÂçïÂÆû‰æã// LiteÊ®°ÂºèÔºö@Configuration(proxybeanMethods=false) ËΩªÈáèÁ∫ßÊ®°Âºè ÊØèÊ¨°Âä†ËΩΩÊñ∞ÁöÑbeanÔºåË∑≥ËøáÊ£ÄÊü•@Configuration// Ë°®Á§∫ÈÄöËøáaopÊ°ÜÊû∂Êö¥Èú≤ËØ•‰ª£ÁêÜÂØπË±°,AopContextËÉΩÂ§üËÆøÈóÆ@EnableAspectJAutoProxy(exposeProxy = true)//ÁªôÂÆπÂô®‰∏≠Ëá™Âä®ÂàõÂª∫Âá∫ÂØπÂ∫îÁ±ªÂûãÁöÑÁªÑ‰ª∂„ÄÅÈªòËÆ§ÁªÑ‰ª∂Âêç‰∏∫ÂÖ∂ÂÖ®Á±ªÂêç„ÄÅ‰ΩøÁî®ÂÖ∂Êó†ÂèÇÊûÑÈÄ†ÂáΩÊï∞//@Import({User.class})//ÂΩì‰∏çËÉΩÂú®ÂéüÁ±ª‰∏≠Ê∑ªÂä†@componentÊ≥®Ëß£Êó∂ÔºàÊØîÂ¶ÇÁî®‰ªñ‰∫∫ÂåÖÊó∂ÔºâÔºåÂàôÂú®‰ΩøÁî®ÁöÑÂú∞ÊñπÊ∑ªÂä†Ê¨°Ê≥®Ëß£,‰ΩúÁî®ÊòØÂºÄÂêØstudentÈÖçÁΩÆÁªëÂÆöÂäüËÉΩ‰∏îÂ∞ÜÂÖ∂Ê≥®ÂÖ•Âà∞ÂÆπÂô®‰∏≠//@EnableConfigurationProperties(StudentProperties.class)public class MyConfig {//ÁªôÂÆπÂô®Ê∑ªÂä†ÁªÑ‰ª∂Ôºå‰∏ÄÊñπÊ≥ïÂêç‰Ωú‰∏∫ÁªÑ‰ª∂ÁöÑid„ÄÇËøîÂõûÁ±ªÂûãÂ∞±ÊòØÁªÑ‰ª∂Á±ªÂûã„ÄÇËøîÂõûÁöÑÂÄºÂ∞±ÊòØÁªÑÂª∫Âú®ÂÆπÂô®‰∏≠ÁöÑÂÆû‰æã @Bean public User user01() { return new User(111111111L, &quot;1&quot;, 1); } //Êù°‰ª∂Ë£ÖÈÖçÔºåÊúâname‰∏∫user01 ÁöÑbeanÊâçÊ≥®ÂÖ•Ê≥®Ëß£‰∏ãÁöÑstudentÁöÑbeanÔºåÂèç‰πãÊúâ @ConditionalOnMissingBean @ConditionalOnBean(name = &quot;user02&quot;) @Bean public StudentProperties student() { return new StudentProperties(); } @ConditionalOnBean(name = &quot;user01&quot;) @Bean public StudentProperties student1() { return new StudentProperties(); }} ÊµãËØï 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970package cn.lxl.springboot;import cn.lxl.springboot.config.MyConfig;import cn.lxl.springboot.entity.User;import com.spring4all.swagger.EnableSwagger2Doc;import org.springframework.boot.SpringApplication;import org.springframework.boot.autoconfigure.SpringBootApplication;import org.springframework.context.ConfigurableApplicationContext;import org.springframework.context.annotation.ImportResource;/*Spring Boot È°πÁõÆÈÄöÂ∏∏Êúâ‰∏Ä‰∏™Âêç‰∏∫ *Application ÁöÑÂÖ•Âè£Á±ªÔºåÂÖ•Âè£Á±ªÈáåÊúâ‰∏Ä‰∏™ main ÊñπÊ≥ïÔºå Ëøô‰∏™ main ÊñπÊ≥ïÂÖ∂ÂÆûÂ∞±ÊòØ‰∏Ä‰∏™Ê†áÂáÜÁöÑ Javay Â∫îÁî®ÁöÑÂÖ•Âè£ÊñπÊ≥ï„ÄÇ*///@SpringBootApplication===@Configuration„ÄÅ@EnableAutoConfiguration„ÄÅ@ComponentScan//@EnableAutoConfiguration ËÆ© Spring Boot Ê†πÊçÆÁ±ªË∑ØÂæÑ‰∏≠ÁöÑ jar ÂåÖ‰æùËµñ‰∏∫ÂΩìÂâçÈ°πÁõÆËøõË°åËá™Âä®ÈÖçÁΩÆÔºå// ‰æãÂ¶ÇÔºåÊ∑ªÂä†‰∫Ü spring-boot-starter-web ‰æùËµñÔºå‰ºöËá™Âä®Ê∑ªÂä† Tomcat Âíå Spring MVC ÁöÑ‰æùËµñÔºåÈÇ£‰πà Spring Boot ‰ºöÂØπ Tomcat Âíå Spring MVC ËøõË°åËá™Âä®ÈÖçÁΩÆ„ÄÇ//spring Boot Ëøò‰ºöËá™Âä®Êâ´Êèè @SpringBootApplication ÊâÄÂú®Á±ªÁöÑÂêåÁ∫ßÂåÖ‰ª•Âèä‰∏ãÁ∫ßÂåÖÈáåÁöÑ Bean ÔºåÊâÄ‰ª•ÂÖ•Âè£Á±ªÂª∫ËÆÆÂ∞±ÈÖçÁΩÆÂú® grounpID + arctifactID ÁªÑÂêàÁöÑÂåÖÂêç‰∏ãÔºàËøôÈáå‰∏∫ cn.wmyskxz.springboot ÂåÖÔºâ//@SpringBootApplication(scanBasePackages = &quot;cn.wmyskxz&quot;) Â¶ÇÈúÄÊâ´Êèè‰∏ªÁ®ãÂ∫èÂêåÁ∫ßÂ§ñÁöÑÂåÖÂàôÂèØÊ∑ªÂä†scanBasePackagesÂèÇÊï∞@EnableSwagger2Doc@SpringBootApplicationpublic class SpringbootApplication { public static void main(String[] args) {// SpringApplication.run(SpringbootApplication.class, args);// ËøîÂõûIOCÂÆπÂô® ConfigurableApplicationContext run = SpringApplication.run(SpringbootApplication.class, args);// Êü•ÁúãÊâÄÊúâÁªÑ‰ª∂// String[] beanDefinitionNames = run.getBeanDefinitionNames();// for (String name : beanDefinitionNames// ) {// System.out.println(name);// } //ÈÖçÁΩÆÁ±ªÊú¨Ë∫´‰πüÊòØÁªÑ‰ª∂// ‰ª•Á±ªÂûãËé∑ÂèñÁªÑ‰ª∂ MyConfig bean = run.getBean(MyConfig.class); System.out.println(bean); User user = run.getBean(User.class); System.out.println(user);// ‰ª•ÂêçÁß∞Âà§Êñ≠ÊòØÂê¶ÊúâÁªÑ‰ª∂ boolean user01 = run.containsBean(&quot;user01&quot;); System.out.println(user01);//Êù°‰ª∂Ê≥®Ëß£ÊµãËØï boolean student = run.containsBean(&quot;student&quot;); System.out.println(student);//@ImportResource(&quot;classpath:beans.xml&quot;)Â∞ÜÈÖçÁΩÆÊñá‰ª∂‰∏≠ÁöÑbeanÊ≥®ÂÖ•ÂÆπÂô® boolean bean1 = run.containsBean(&quot;bean1&quot;); System.out.println(bean1);//ÈÖçÁΩÆÁªëÂÆö,ÈúÄË¶Å@Component//@ConfigurationProperties(prefix = &quot;student&quot;)//Ë°®Á§∫Ëé∑ÂèñÊâÄÊúâÈÖçÁΩÆÊñá‰ª∂‰∏≠ÂâçÁºÄ‰∏∫ sutdent ÁöÑÈÖçÁΩÆ‰ø°ÊÅØÔºåÂÆû‰ΩìÁ±ª‰∏≠‰ΩøÁî® //ÂΩì‰∏çËÉΩÂú®ÂéüÁ±ª‰∏≠Ê∑ªÂä†@componentÊ≥®Ëß£Êó∂ÔºàÊØîÂ¶ÇÁî®‰ªñ‰∫∫ÂåÖÊó∂ÔºâÔºåÂàôÂú®‰ΩøÁî®ÁöÑÂú∞ÊñπÊ∑ªÂä†Ê≠§Ê≥®Ëß£,‰ΩúÁî®ÊòØÂºÄÂêØstudentÈÖçÁΩÆÁªëÂÆöÂäüËÉΩ‰∏îÂ∞ÜÂÖ∂Ê≥®ÂÖ•Âà∞ÂÆπÂô®‰∏≠//@EnableConfigurationProperties(StudentProperties.class) Object student1 = run.getBean(&quot;student1&quot;); System.out.println(student1); }}//Ëøê‚æè SpringBoot ÊúâÂì™‚ºèÁßç‚ΩÖÂºèÔºü//ÊâìÂåÖ‚Ω§ÂëΩ‰ª§ÊàñËÄÖÊîæÂà∞ÂÆπÂô®‰∏≠Ëøê‚æè„ÄÇ ‚Ω§ Maven/Gradle Êèí‰ª∂Ëøê‚æè„ÄÇ//Áõ¥Êé•Êâß‚æè main ‚ΩÖÊ≥ïËøê‚æè„ÄÇ//SpringBoot ‚ΩÄÊåÅ Java Util LoggingÔºåLog4j2ÔºåLogback ‰Ωú‰∏∫‚ΩáÂøóÊ°ÜÊû∂ÔºåÂ¶ÇÊûú‰Ω†‰Ωø‚Ω§ Starters ÂêØÂä®Âô®ÔºåSpringBoot Â∞Ü‰Ωø‚Ω§ Logback ‰Ωú‰∏∫ÈªòËÆ§Ê°ÜÊû∂„ÄÇ//‚Ω§ Maven/Gradle Êèí‰ª∂Ëøê‚æè„ÄÇÂèØËøêË°åthtmeleaf‰∏éjspÂêåÊó∂Â≠òÂú®ÁöÑjspÔºå 1234567891011@Component//Ë°®ÊòéÂΩìÂâçÁ±ªÊòØ‰∏Ä‰∏™ Java Bean//ÈÖçÁΩÆÁªëÂÆö,ÈúÄË¶Å@Component,ÊàñËÄÖ‰ΩøÁî®ÁöÑÂú∞Êñπ‰ΩøÁî®//ÂΩì‰∏çËÉΩÂú®ÂéüÁ±ª‰∏≠Ê∑ªÂä†@componentÊ≥®Ëß£Êó∂ÔºàÊØîÂ¶ÇÁî®‰ªñ‰∫∫ÂåÖÊó∂ÔºâÔºåÂàôÂú®‰ΩøÁî®ÁöÑÂú∞ÊñπÊ∑ªÂä†Ê≠§Ê≥®Ëß£,‰ΩúÁî®ÊòØÂºÄÂêØstudentÈÖçÁΩÆÁªëÂÆöÂäüËÉΩ‰∏îÂ∞ÜÂÖ∂Ê≥®ÂÖ•Âà∞ÂÆπÂô®‰∏≠//@EnableConfigurationProperties(StudentProperties.class)@ConfigurationProperties(prefix = &quot;student&quot;)//Ë°®Á§∫Ëé∑ÂèñÊâÄÊúâÈÖçÁΩÆÊñá‰ª∂‰∏≠ÂâçÁºÄ‰∏∫ sutdent ÁöÑÈÖçÁΩÆ‰ø°ÊÅØ//student:// name: ÁúüÁöÑÂ∏Ö// age: 21public class StudentProperties { private String name; private Integer age; ‰∏â„ÄÅspringbootËá™Âä®Ë£ÖÈÖçÂéüÁêÜ @SpringBootApplication 1234@SpringBootConfiguration //‰ª£Ë°®‰∏∫ÈÖçÁΩÆÁ±ª@ComponentScan //SpringÊ≥®Ëß£ÔºåÊåáÂÆöÊâ´ÊèèÂì™‰∫õÂåÖ@EnableAutoConfigration //Â¶Ç‰∏ãpublic @interface SpringBootApplication {} @EnableAutoConfigration 1234567@Target({ElementType.TYPE})@Retention(RetentionPolicy.RUNTIME)@Documented@Inherited@AutoConfigurationPackage//Â¶Ç‰∏ã@Import({AutoConfigurationImportSelector.class})public @interface EnableAutoConfiguration {} @AutoConfigurationPackage 123@Import({Registrar.class}) //ÁªôÂÆπÂô®‰∏≠ÂØºÂÖ•‰∏ÄÁ≥ªÂàóÁªÑ‰ª∂ÔºåÈªòËÆ§ÊòØ‰∏ªÁ®ãÂ∫èÊâÄÂú®ÂåÖ‰∏ãÁöÑÊâÄÊúâÁªÑ‰ª∂ //new AutoConfigurationPackages.PackageImports(metadata)).getPackageNames()public @interface AutoConfigurationPackage {} Registrar 123456789101112 static class Registrar implements ImportBeanDefinitionRegistrar, DeterminableImports { Registrar() { } public void registerBeanDefinitions(AnnotationMetadata metadata, BeanDefinitionRegistry registry) { AutoConfigurationPackages.register(registry, (String[])(new AutoConfigurationPackages.PackageImports(metadata)).getPackageNames().toArray(new String[0]));//Ëé∑ÂèñÂÖÉÊ≥®Ëß£ÁöÑÂåÖÂêçÔºàcom.xxx.xxxÔºâÂ∞ÅË£ÖÂà∞Êï∞ÁªÑ‰∏≠ }public Set&lt;Object&gt; determineImports(AnnotationMetadata metadata) { return Collections.singleton(new AutoConfigurationPackages.PackageImports(metadata)); } } @Import({AutoConfigurationImportSelector.class}) 1„ÄÅÂà©Áî®getAutoConfigurationEntry(annotationMetadata);ÁªôÂÆπÂô®‰∏≠ÊâπÈáèÂØºÂÖ•‰∏Ä‰∫õÁªÑ‰ª∂ 2„ÄÅË∞ÉÁî®List&lt;-String&gt; configurations = getCandidateConfigurations(annotationMetadata, attributes)Ëé∑ÂèñÂà∞ÊâÄÊúâÈúÄË¶ÅÂØºÂÖ•Âà∞ÂÆπÂô®‰∏≠ÁöÑÈÖçÁΩÆÁ±ª 3„ÄÅÂà©Áî®Â∑•ÂéÇÂä†ËΩΩ Map&lt;String, List&lt;-String&gt;&gt; loadSpringFactories(@Nullable ClassLoader classLoader)ÔºõÂæóÂà∞ÊâÄÊúâÁöÑÁªÑ‰ª∂ 4„ÄÅ‰ªéMETA-INF/spring.factories‰ΩçÁΩÆÊù•Âä†ËΩΩ‰∏Ä‰∏™Êñá‰ª∂„ÄÇ ÈªòËÆ§Êâ´ÊèèÊàë‰ª¨ÂΩìÂâçÁ≥ªÁªüÈáåÈù¢ÊâÄÊúâMETA-INF/spring.factories‰ΩçÁΩÆÁöÑÊñá‰ª∂ spring-boot-autoconfigure-2.3.4.RELEASE.jarÂåÖÈáåÈù¢‰πüÊúâMETA-INF/spring.factories„Äêspringboot‰∏ÄÂêØÂä®ÂéüÂßãÂä†ËΩΩÁöÑÁªÑ‰ª∂„Äë 123456789101112131415161718192021222324public class AutoConfigurationImportSelector implements DeferredImportSelector, BeanClassLoaderAware, ResourceLoaderAware, BeanFactoryAware, EnvironmentAware, Ordered { private static final AutoConfigurationImportSelector.AutoConfigurationEntry EMPTY_ENTRY = new AutoConfigurationImportSelector.AutoConfigurationEntry(); private static final String[] NO_IMPORTS = new String[0]; private static final Log logger = LogFactory.getLog(AutoConfigurationImportSelector.class); private static final String PROPERTY_NAME_AUTOCONFIGURE_EXCLUDE = &quot;spring.autoconfigure.exclude&quot;; private ConfigurableListableBeanFactory beanFactory; private Environment environment; private ClassLoader beanClassLoader; private ResourceLoader resourceLoader; private AutoConfigurationImportSelector.ConfigurationClassFilter configurationClassFilter; public AutoConfigurationImportSelector() { } public String[] selectImports(AnnotationMetadata annotationMetadata) { if (!this.isEnabled(annotationMetadata)) { return NO_IMPORTS; } else { //1.getAutoConfigurationEntryÔºàÔºâÁªôÂÆπÂô®‰∏≠ÊâπÈáèÂØºÂÖ•‰∏Ä‰∫õÁªÑ‰ª∂ AutoConfigurationImportSelector.AutoConfigurationEntry autoConfigurationEntry = this.getAutoConfigurationEntry(annotationMetadata); return StringUtils.toStringArray(autoConfigurationEntry.getConfigurations()); } } 12345678910111213141516protected AutoConfigurationImportSelector.AutoConfigurationEntry getAutoConfigurationEntry(AnnotationMetadata annotationMetadata) { if (!this.isEnabled(annotationMetadata)) { return EMPTY_ENTRY; } else { AnnotationAttributes attributes = this.getAttributes(annotationMetadata); //2.ÂØºÂÖ•Âà∞ÂÆπÂô®‰∏≠ÁöÑÊâÄÊúâÈªòËÆ§ÂÄôÈÄâÁªÑ‰ª∂ List&lt;String&gt; configurations = this.getCandidateConfigurations(annotationMetadata, attributes); configurations = this.removeDuplicates(configurations); Set&lt;String&gt; exclusions = this.getExclusions(annotationMetadata, attributes); this.checkExcludedClasses(configurations, exclusions); configurations.removeAll(exclusions); configurations = this.getConfigurationClassFilter().filter(configurations); this.fireAutoConfigurationImportEvents(configurations, exclusions); return new AutoConfigurationImportSelector.AutoConfigurationEntry(configurations, exclusions); }} 123456protected List&lt;String&gt; getCandidateConfigurations(AnnotationMetadata metadata, AnnotationAttributes attributes) { //3.Âà©Áî®Â∑•ÂéÇÂä†ËΩΩ Map&lt;String, List&lt;String&gt;&gt; loadSpringFactories(@Nullable ClassLoader classLoader)ÔºõÂæóÂà∞ÊâÄÊúâÁöÑÁªÑ‰ª∂ List&lt;String&gt; configurations = SpringFactoriesLoader.loadFactoryNames(this.getSpringFactoriesLoaderFactoryClass(), this.getBeanClassLoader()); Assert.notEmpty(configurations, &quot;No auto configuration classes found in META-INF/spring.factories. If you are using a custom packaging, make sure that file is correct.&quot;); return configurations;} 12345678910111213141516171819202122232425262728293031323334353637383940414243public static List&lt;String&gt; loadFactoryNames(Class&lt;?&gt; factoryType, @Nullable ClassLoader classLoader) { String factoryTypeName = factoryType.getName(); return (List)loadSpringFactories(classLoader).getOrDefault(factoryTypeName, Collections.emptyList());}private static Map&lt;String, List&lt;String&gt;&gt; loadSpringFactories(@Nullable ClassLoader classLoader) { MultiValueMap&lt;String, String&gt; result = (MultiValueMap)cache.get(classLoader); if (result != null) { return result; } else { try { //4„ÄÅ‰ªéMETA-INF/spring.factories‰ΩçÁΩÆÊù•Âä†ËΩΩ‰∏Ä‰∏™Êñá‰ª∂„ÄÇ //ÈªòËÆ§Êâ´ÊèèÊàë‰ª¨ÂΩìÂâçÁ≥ªÁªüÈáåÈù¢ÊâÄÊúâMETA-INF/spring.factories‰ΩçÁΩÆÁöÑÊñá‰ª∂ //spring-boot-autoconfigure-2.3.4.RELEASE.jarÂåÖÈáåÈù¢‰πüÊúâMETA-INF/spring.factories Enumeration&lt;URL&gt; urls = classLoader != null ? classLoader.getResources(&quot;META-INF/spring.factories&quot;) : ClassLoader.getSystemResources(&quot;META-INF/spring.factories&quot;); LinkedMultiValueMap result = new LinkedMultiValueMap(); while(urls.hasMoreElements()) { URL url = (URL)urls.nextElement(); UrlResource resource = new UrlResource(url); Properties properties = PropertiesLoaderUtils.loadProperties(resource); Iterator var6 = properties.entrySet().iterator(); while(var6.hasNext()) { Entry&lt;?, ?&gt; entry = (Entry)var6.next(); String factoryTypeName = ((String)entry.getKey()).trim(); String[] var9 = StringUtils.commaDelimitedListToStringArray((String)entry.getValue()); int var10 = var9.length; for(int var11 = 0; var11 &lt; var10; ++var11) { String factoryImplementationName = var9[var11]; result.add(factoryTypeName, factoryImplementationName.trim()); } } } cache.put(classLoader, result); return result; } catch (IOException var13) { throw new IllegalArgumentException(&quot;Unable to load factories from location [META-INF/spring.factories]&quot;, var13); } }} ‚Äã spring-boot-autoconfigure-2.3.4.RELEASE.jarÂåÖÈáåÈù¢‰πüÊúâMETA-INF/spring.factories 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166# Initializersorg.springframework.context.ApplicationContextInitializer=\\org.springframework.boot.autoconfigure.SharedMetadataReaderFactoryContextInitializer,\\org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener# Application Listenersorg.springframework.context.ApplicationListener=\\org.springframework.boot.autoconfigure.BackgroundPreinitializer# Auto Configuration Import Listenersorg.springframework.boot.autoconfigure.AutoConfigurationImportListener=\\org.springframework.boot.autoconfigure.condition.ConditionEvaluationReportAutoConfigurationImportListener# Auto Configuration Import Filtersorg.springframework.boot.autoconfigure.AutoConfigurationImportFilter=\\org.springframework.boot.autoconfigure.condition.OnBeanCondition,\\org.springframework.boot.autoconfigure.condition.OnClassCondition,\\org.springframework.boot.autoconfigure.condition.OnWebApplicationCondition# Auto Configureorg.springframework.boot.autoconfigure.EnableAutoConfiguration=\\org.springframework.boot.autoconfigure.admin.SpringApplicationAdminJmxAutoConfiguration,\\org.springframework.boot.autoconfigure.aop.AopAutoConfiguration,\\org.springframework.boot.autoconfigure.amqp.RabbitAutoConfiguration,\\org.springframework.boot.autoconfigure.batch.BatchAutoConfiguration,\\org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration,\\org.springframework.boot.autoconfigure.cassandra.CassandraAutoConfiguration,\\org.springframework.boot.autoconfigure.context.ConfigurationPropertiesAutoConfiguration,\\org.springframework.boot.autoconfigure.context.LifecycleAutoConfiguration,\\org.springframework.boot.autoconfigure.context.MessageSourceAutoConfiguration,\\org.springframework.boot.autoconfigure.context.PropertyPlaceholderAutoConfiguration,\\org.springframework.boot.autoconfigure.couchbase.CouchbaseAutoConfiguration,\\org.springframework.boot.autoconfigure.dao.PersistenceExceptionTranslationAutoConfiguration,\\org.springframework.boot.autoconfigure.data.cassandra.CassandraDataAutoConfiguration,\\org.springframework.boot.autoconfigure.data.cassandra.CassandraReactiveDataAutoConfiguration,\\org.springframework.boot.autoconfigure.data.cassandra.CassandraReactiveRepositoriesAutoConfiguration,\\org.springframework.boot.autoconfigure.data.cassandra.CassandraRepositoriesAutoConfiguration,\\org.springframework.boot.autoconfigure.data.couchbase.CouchbaseDataAutoConfiguration,\\org.springframework.boot.autoconfigure.data.couchbase.CouchbaseReactiveDataAutoConfiguration,\\org.springframework.boot.autoconfigure.data.couchbase.CouchbaseReactiveRepositoriesAutoConfiguration,\\org.springframework.boot.autoconfigure.data.couchbase.CouchbaseRepositoriesAutoConfiguration,\\org.springframework.boot.autoconfigure.data.elasticsearch.ElasticsearchDataAutoConfiguration,\\org.springframework.boot.autoconfigure.data.elasticsearch.ElasticsearchRepositoriesAutoConfiguration,\\org.springframework.boot.autoconfigure.data.elasticsearch.ReactiveElasticsearchRepositoriesAutoConfiguration,\\org.springframework.boot.autoconfigure.data.elasticsearch.ReactiveElasticsearchRestClientAutoConfiguration,\\org.springframework.boot.autoconfigure.data.jdbc.JdbcRepositoriesAutoConfiguration,\\org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration,\\org.springframework.boot.autoconfigure.data.ldap.LdapRepositoriesAutoConfiguration,\\org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration,\\org.springframework.boot.autoconfigure.data.mongo.MongoReactiveDataAutoConfiguration,\\org.springframework.boot.autoconfigure.data.mongo.MongoReactiveRepositoriesAutoConfiguration,\\org.springframework.boot.autoconfigure.data.mongo.MongoRepositoriesAutoConfiguration,\\org.springframework.boot.autoconfigure.data.neo4j.Neo4jDataAutoConfiguration,\\org.springframework.boot.autoconfigure.data.neo4j.Neo4jRepositoriesAutoConfiguration,\\org.springframework.boot.autoconfigure.data.solr.SolrRepositoriesAutoConfiguration,\\org.springframework.boot.autoconfigure.data.r2dbc.R2dbcDataAutoConfiguration,\\org.springframework.boot.autoconfigure.data.r2dbc.R2dbcRepositoriesAutoConfiguration,\\org.springframework.boot.autoconfigure.data.r2dbc.R2dbcTransactionManagerAutoConfiguration,\\org.springframework.boot.autoconfigure.data.redis.RedisAutoConfiguration,\\org.springframework.boot.autoconfigure.data.redis.RedisReactiveAutoConfiguration,\\org.springframework.boot.autoconfigure.data.redis.RedisRepositoriesAutoConfiguration,\\org.springframework.boot.autoconfigure.data.rest.RepositoryRestMvcAutoConfiguration,\\org.springframework.boot.autoconfigure.data.web.SpringDataWebAutoConfiguration,\\org.springframework.boot.autoconfigure.elasticsearch.ElasticsearchRestClientAutoConfiguration,\\org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration,\\org.springframework.boot.autoconfigure.freemarker.FreeMarkerAutoConfiguration,\\org.springframework.boot.autoconfigure.groovy.template.GroovyTemplateAutoConfiguration,\\org.springframework.boot.autoconfigure.gson.GsonAutoConfiguration,\\org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration,\\org.springframework.boot.autoconfigure.hateoas.HypermediaAutoConfiguration,\\org.springframework.boot.autoconfigure.hazelcast.HazelcastAutoConfiguration,\\org.springframework.boot.autoconfigure.hazelcast.HazelcastJpaDependencyAutoConfiguration,\\org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration,\\org.springframework.boot.autoconfigure.http.codec.CodecsAutoConfiguration,\\org.springframework.boot.autoconfigure.influx.InfluxDbAutoConfiguration,\\org.springframework.boot.autoconfigure.info.ProjectInfoAutoConfiguration,\\org.springframework.boot.autoconfigure.integration.IntegrationAutoConfiguration,\\org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration,\\org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration,\\org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration,\\org.springframework.boot.autoconfigure.jdbc.JndiDataSourceAutoConfiguration,\\org.springframework.boot.autoconfigure.jdbc.XADataSourceAutoConfiguration,\\org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration,\\org.springframework.boot.autoconfigure.jms.JmsAutoConfiguration,\\org.springframework.boot.autoconfigure.jmx.JmxAutoConfiguration,\\org.springframework.boot.autoconfigure.jms.JndiConnectionFactoryAutoConfiguration,\\org.springframework.boot.autoconfigure.jms.activemq.ActiveMQAutoConfiguration,\\org.springframework.boot.autoconfigure.jms.artemis.ArtemisAutoConfiguration,\\org.springframework.boot.autoconfigure.jersey.JerseyAutoConfiguration,\\org.springframework.boot.autoconfigure.jooq.JooqAutoConfiguration,\\org.springframework.boot.autoconfigure.jsonb.JsonbAutoConfiguration,\\org.springframework.boot.autoconfigure.kafka.KafkaAutoConfiguration,\\org.springframework.boot.autoconfigure.availability.ApplicationAvailabilityAutoConfiguration,\\org.springframework.boot.autoconfigure.ldap.embedded.EmbeddedLdapAutoConfiguration,\\org.springframework.boot.autoconfigure.ldap.LdapAutoConfiguration,\\org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration,\\org.springframework.boot.autoconfigure.mail.MailSenderAutoConfiguration,\\org.springframework.boot.autoconfigure.mail.MailSenderValidatorAutoConfiguration,\\org.springframework.boot.autoconfigure.mongo.embedded.EmbeddedMongoAutoConfiguration,\\org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration,\\org.springframework.boot.autoconfigure.mongo.MongoReactiveAutoConfiguration,\\org.springframework.boot.autoconfigure.mustache.MustacheAutoConfiguration,\\org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration,\\org.springframework.boot.autoconfigure.quartz.QuartzAutoConfiguration,\\org.springframework.boot.autoconfigure.r2dbc.R2dbcAutoConfiguration,\\org.springframework.boot.autoconfigure.rsocket.RSocketMessagingAutoConfiguration,\\org.springframework.boot.autoconfigure.rsocket.RSocketRequesterAutoConfiguration,\\org.springframework.boot.autoconfigure.rsocket.RSocketServerAutoConfiguration,\\org.springframework.boot.autoconfigure.rsocket.RSocketStrategiesAutoConfiguration,\\org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration,\\org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration,\\org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration,\\org.springframework.boot.autoconfigure.security.reactive.ReactiveSecurityAutoConfiguration,\\org.springframework.boot.autoconfigure.security.reactive.ReactiveUserDetailsServiceAutoConfiguration,\\org.springframework.boot.autoconfigure.security.rsocket.RSocketSecurityAutoConfiguration,\\org.springframework.boot.autoconfigure.security.saml2.Saml2RelyingPartyAutoConfiguration,\\org.springframework.boot.autoconfigure.sendgrid.SendGridAutoConfiguration,\\org.springframework.boot.autoconfigure.session.SessionAutoConfiguration,\\org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientAutoConfiguration,\\org.springframework.boot.autoconfigure.security.oauth2.client.reactive.ReactiveOAuth2ClientAutoConfiguration,\\org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration,\\org.springframework.boot.autoconfigure.security.oauth2.resource.reactive.ReactiveOAuth2ResourceServerAutoConfiguration,\\org.springframework.boot.autoconfigure.solr.SolrAutoConfiguration,\\org.springframework.boot.autoconfigure.task.TaskExecutionAutoConfiguration,\\org.springframework.boot.autoconfigure.task.TaskSchedulingAutoConfiguration,\\org.springframework.boot.autoconfigure.thymeleaf.ThymeleafAutoConfiguration,\\org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration,\\org.springframework.boot.autoconfigure.transaction.jta.JtaAutoConfiguration,\\org.springframework.boot.autoconfigure.validation.ValidationAutoConfiguration,\\org.springframework.boot.autoconfigure.web.client.RestTemplateAutoConfiguration,\\org.springframework.boot.autoconfigure.web.embedded.EmbeddedWebServerFactoryCustomizerAutoConfiguration,\\org.springframework.boot.autoconfigure.web.reactive.HttpHandlerAutoConfiguration,\\org.springframework.boot.autoconfigure.web.reactive.ReactiveWebServerFactoryAutoConfiguration,\\org.springframework.boot.autoconfigure.web.reactive.WebFluxAutoConfiguration,\\org.springframework.boot.autoconfigure.web.reactive.error.ErrorWebFluxAutoConfiguration,\\org.springframework.boot.autoconfigure.web.reactive.function.client.ClientHttpConnectorAutoConfiguration,\\org.springframework.boot.autoconfigure.web.reactive.function.client.WebClientAutoConfiguration,\\org.springframework.boot.autoconfigure.web.servlet.DispatcherServletAutoConfiguration,\\org.springframework.boot.autoconfigure.web.servlet.ServletWebServerFactoryAutoConfiguration,\\org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration,\\org.springframework.boot.autoconfigure.web.servlet.HttpEncodingAutoConfiguration,\\org.springframework.boot.autoconfigure.web.servlet.MultipartAutoConfiguration,\\org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration,\\org.springframework.boot.autoconfigure.websocket.reactive.WebSocketReactiveAutoConfiguration,\\org.springframework.boot.autoconfigure.websocket.servlet.WebSocketServletAutoConfiguration,\\org.springframework.boot.autoconfigure.websocket.servlet.WebSocketMessagingAutoConfiguration,\\org.springframework.boot.autoconfigure.webservices.WebServicesAutoConfiguration,\\org.springframework.boot.autoconfigure.webservices.client.WebServiceTemplateAutoConfiguration# Failure analyzersorg.springframework.boot.diagnostics.FailureAnalyzer=\\org.springframework.boot.autoconfigure.data.redis.RedisUrlSyntaxFailureAnalyzer,\\org.springframework.boot.autoconfigure.diagnostics.analyzer.NoSuchBeanDefinitionFailureAnalyzer,\\org.springframework.boot.autoconfigure.flyway.FlywayMigrationScriptMissingFailureAnalyzer,\\org.springframework.boot.autoconfigure.jdbc.DataSourceBeanCreationFailureAnalyzer,\\org.springframework.boot.autoconfigure.jdbc.HikariDriverConfigurationFailureAnalyzer,\\org.springframework.boot.autoconfigure.r2dbc.ConnectionFactoryBeanCreationFailureAnalyzer,\\org.springframework.boot.autoconfigure.session.NonUniqueSessionRepositoryFailureAnalyzer# Template availability providersorg.springframework.boot.autoconfigure.template.TemplateAvailabilityProvider=\\org.springframework.boot.autoconfigure.freemarker.FreeMarkerTemplateAvailabilityProvider,\\org.springframework.boot.autoconfigure.mustache.MustacheTemplateAvailabilityProvider,\\org.springframework.boot.autoconfigure.groovy.template.GroovyTemplateAvailabilityProvider,\\org.springframework.boot.autoconfigure.thymeleaf.ThymeleafTemplateAvailabilityProvider,\\org.springframework.boot.autoconfigure.web.servlet.JspTemplateAvailabilityProvider ÊåâÈúÄÂä†ËΩΩ springboot ÈÄöËøáËá™Âä®ÈÖçÁΩÆÊñá‰ª∂‰∏≠Á±ª‰ºº@ConditionalOnClass({Advice.class})Á≠âÊù°‰ª∂Ê≥®Ëß£ÊåâÈúÄÂä†ËΩΩ‰øÆÊîπÈªòËÆ§ÈÖçÁΩÆ ‰øÆÊîπÈªòËÆ§ÈÖçÁΩÆ @Bean @ConditionalOnBean(MultipartResolver.class) //ÂÆπÂô®‰∏≠ÊúâËøô‰∏™Á±ªÂûãÁªÑ‰ª∂ @ConditionalOnMissingBean(name = DispatcherServlet.MULTIPART_RESOLVER_BEAN_NAME) //ÂÆπÂô®‰∏≠Ê≤°ÊúâËøô‰∏™ÂêçÂ≠ó multipartResolver ÁöÑÁªÑ‰ª∂ public MultipartResolver multipartResolver(MultipartResolver resolver) { //Áªô@BeanÊ†áÊ≥®ÁöÑÊñπÊ≥ï‰º†ÂÖ•‰∫ÜÂØπË±°ÂèÇÊï∞ÔºåËøô‰∏™ÂèÇÊï∞ÁöÑÂÄºÂ∞±‰ºö‰ªéÂÆπÂô®‰∏≠Êâæ„ÄÇ //SpringMVC multipartResolver„ÄÇÈò≤Ê≠¢Êúâ‰∫õÁî®Êà∑ÈÖçÁΩÆÁöÑÊñá‰ª∂‰∏ä‰º†Ëß£ÊûêÂô®‰∏çÁ¨¶ÂêàËßÑËåÉ // Detect if the user has created a MultipartResolver but named it incorrectly return resolver; } ÁªôÂÆπÂô®‰∏≠Âä†ÂÖ•‰∫ÜÊñá‰ª∂‰∏ä‰º†Ëß£ÊûêÂô®Ôºõ SpringBootÈªòËÆ§‰ºöÂú®Â∫ïÂ±ÇÈÖçÂ•ΩÊâÄÊúâÁöÑÁªÑ‰ª∂„ÄÇ‰ΩÜÊòØÂ¶ÇÊûúÁî®Êà∑Ëá™Â∑±ÈÖçÁΩÆ‰∫Ü‰ª•Áî®Êà∑ÁöÑ‰ºòÂÖà 123@Bean @ConditionalOnMissingBean public CharacterEncodingFilter characterEncodingFilter() {} ÊÄªÁªìÔºö SpringBootÂÖàÂä†ËΩΩÊâÄÊúâÁöÑËá™Âä®ÈÖçÁΩÆÁ±ª xxxxxAutoConfiguration ÊØè‰∏™Ëá™Âä®ÈÖçÁΩÆÁ±ªÊåâÁÖßÊù°‰ª∂ËøõË°åÁîüÊïàÔºåÈªòËÆ§ÈÉΩ‰ºöÁªëÂÆöÈÖçÁΩÆÊñá‰ª∂ÊåáÂÆöÁöÑÂÄº„ÄÇxxxxPropertiesÈáåÈù¢Êãø„ÄÇxxxPropertiesÂíåÈÖçÁΩÆÊñá‰ª∂ËøõË°å‰∫ÜÁªëÂÆö ÁîüÊïàÁöÑÈÖçÁΩÆÁ±ªÂ∞±‰ºöÁªôÂÆπÂô®‰∏≠Ë£ÖÈÖçÂæàÂ§öÁªÑ‰ª∂ Âè™Ë¶ÅÂÆπÂô®‰∏≠ÊúâËøô‰∫õÁªÑ‰ª∂ÔºåÁõ∏ÂΩì‰∫éËøô‰∫õÂäüËÉΩÂ∞±Êúâ‰∫Ü ÂÆöÂà∂ÂåñÈÖçÁΩÆ Áî®Êà∑Áõ¥Êé•Ëá™Â∑±@BeanÊõøÊç¢Â∫ïÂ±ÇÁöÑÁªÑ‰ª∂ Áî®Êà∑ÂéªÁúãËøô‰∏™ÁªÑ‰ª∂ÊòØËé∑ÂèñÁöÑÈÖçÁΩÆÊñá‰ª∂‰ªÄ‰πàÂÄºÂ∞±Âéª‰øÆÊîπ„ÄÇ xxxxxAutoConfiguration ---&gt; ÁªÑ‰ª∂ ---&gt; xxxxPropertiesÈáåÈù¢ÊãøÂÄº ----&gt; application.properties SpringBootÂºÄÂèëÊµÅÁ®ã ÂºïÂÖ•Âú∫ÊôØ‰æùËµñ https://docs.spring.io/spring-boot/docs/current/reference/html/using-spring-boot.html#using-boot-starter Êü•ÁúãËá™Âä®ÈÖçÁΩÆ‰∫ÜÂì™‰∫õÔºàÈÄâÂÅöÔºâ Ëá™Â∑±ÂàÜÊûêÔºåÂºïÂÖ•Âú∫ÊôØÂØπÂ∫îÁöÑËá™Âä®ÈÖçÁΩÆ‰∏ÄËà¨ÈÉΩÁîüÊïà‰∫Ü ÈÖçÁΩÆÊñá‰ª∂‰∏≠debug=trueÂºÄÂêØËá™Âä®ÈÖçÁΩÆÊä•Âëä„ÄÇconsole‰∏≠ÊòæÁ§∫NegativeÔºà‰∏çÁîüÊïàÔºâ\\PositiveÔºàÁîüÊïàÔºâ ÊòØÂê¶ÈúÄË¶Å‰øÆÊîπ 1.ÂèÇÁÖßÊñáÊ°£‰øÆÊîπÈÖçÁΩÆÈ°π https://docs.spring.io/spring-boot/docs/current/reference/html/appendix-application-properties.html#common-application-properties Ëá™Â∑±ÂàÜÊûê„ÄÇxxxxPropertiesÁªëÂÆö‰∫ÜÈÖçÁΩÆÊñá‰ª∂ÁöÑÂì™‰∫õ„ÄÇ Ëá™ÂÆö‰πâÂä†ÂÖ•ÊàñËÄÖÊõøÊç¢ÁªÑ‰ª∂ @Bean„ÄÅ@Component„ÄÇ„ÄÇ„ÄÇ Ëá™ÂÆö‰πâÂô® XXXXXCustomizerÔºõ ‰∏öÂä°‰ª£Á†Å Âõõ„ÄÅÂºÄÂèëÊäÄÂ∑ß 1.lombok @Data Ôºö‰ª£Êõøget set ÊñπÊ≥ï @ToString Ôºö‰ª£ÊõøtostringÊñπÊ≥ï @AllArgsConstructor Ôºö‰ª£ÊõøÂÖ®ÂèÇÊûÑÈÄ†Âô® @NoArgsConstructor Ôºö‰ª£ÊõøÊó†ÂèÇÊûÑÈÄ†Âô® @EqualsAndHashCodeÔºö‰ª£ÊõøHashCode„ÄÅequalsÊñπÊ≥ï @Slf4j ÔºöÊ∑ªÂä† Log.info(‚Äúxxx‚Äù);ÊâìÂç∞Êó•Âøó 2.dev-tools ctrl+f9 Ëá™Âä®ÈáçÂêØ 12345&lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt; &lt;optional&gt;true&lt;/optional&gt; &lt;/dependency&gt; 3.Spring InitailizrÔºàÈ°πÁõÆÂàùÂßãÂåñÂêëÂØºÔºâ Ëá™Âä®Êê≠Âª∫ÂàùÂßãÈ°πÁõÆÁéØÂ¢É„ÄêÁõ∏ÂÖ≥‰æùËµñÔºåÈ°πÁõÆÁªìÊûÑÔºå‰∏ªÁ®ãÂ∫èÁ±ª„Äë ‰∫î„ÄÅÊ†∏ÂøÉÂäüËÉΩ 1.ÈÖçÁΩÆÊñá‰ª∂ 1.1„ÄÅproperties Âêå‰ª•ÂâçÁöÑpropertiesÁî®Ê≥ïÔºåÂèØÁî®@PropertySource Ê≥®Ëß£ÂØºÂÖ•ÈÖçÁΩÆ„ÄÇ 1.2„ÄÅyaml 1.2.1„ÄÅÁÆÄ‰ªã YAML ÊòØ &quot;YAML Ain't Markup Language&quot;ÔºàYAML ‰∏çÊòØ‰∏ÄÁßçÊ†áËÆ∞ËØ≠Ë®ÄÔºâÁöÑÈÄíÂΩíÁº©ÂÜô„ÄÇÂú®ÂºÄÂèëÁöÑËøôÁßçËØ≠Ë®ÄÊó∂ÔºåYAML ÁöÑÊÑèÊÄùÂÖ∂ÂÆûÊòØÔºö&quot;Yet Another Markup Language&quot;Ôºà‰ªçÊòØ‰∏ÄÁßçÊ†áËÆ∞ËØ≠Ë®ÄÔºâ„ÄÇ ÈùûÂ∏∏ÈÄÇÂêàÁî®Êù•ÂÅö‰ª•Êï∞ÊçÆ‰∏∫‰∏≠ÂøÉÁöÑÈÖçÁΩÆÊñá‰ª∂„ÄÇÂ¶ÇÊûúpropertiesÂíåymalÈÉΩÊúâÔºåÂàôÈÉΩÁîüÊïà‰∏îproperties‰ºòÂÖà„ÄÇ 1.2.2„ÄÅÂü∫Êú¨ËØ≠Ê≥ï key: valueÔºõkv‰πãÈó¥ÊúâÁ©∫Ê†º Â§ßÂ∞èÂÜôÊïèÊÑü ‰ΩøÁî®Áº©ËøõË°®Á§∫Â±ÇÁ∫ßÂÖ≥Á≥ª Áº©Ëøõ‰∏çÂÖÅËÆ∏‰ΩøÁî®tabÔºåÂè™ÂÖÅËÆ∏Á©∫Ê†º Áº©ËøõÁöÑÁ©∫Ê†ºÊï∞‰∏çÈáçË¶ÅÔºåÂè™Ë¶ÅÁõ∏ÂêåÂ±ÇÁ∫ßÁöÑÂÖÉÁ¥†Â∑¶ÂØπÈΩêÂç≥ÂèØ '#'Ë°®Á§∫Ê≥®Èáä Â≠óÁ¨¶‰∏≤Êó†ÈúÄÂä†ÂºïÂè∑ÔºåÂ¶ÇÊûúË¶ÅÂä†Ôºå' ' ‰∏é &quot; &quot; Ë°®Á§∫Â≠óÁ¨¶‰∏≤ÂÜÖÂÆπ ‰ºöË¢´ ËΩ¨‰πâ/‰∏çËΩ¨‰πâÔºåÊØîÂ¶Ç \\n ÂçïÂºïÂè∑ÂõûËΩ¨‰πâÊàê \\n Â≠óÁ¨¶‰∏≤ÔºåËÄåÂèåÂºïÂè∑‰ºöÊç¢Ë°å„ÄÇ .yml Ê†ºÂºè‰∏çÊîØÊåÅ @PropertySource Ê≥®Ëß£ÂØºÂÖ•ÈÖçÁΩÆ„ÄÇ 1.2.3„ÄÅÊï∞ÊçÆÁ±ªÂûã 1234567891011121314151617#Â≠óÈù¢ÈáèÔºöÂçï‰∏™ÁöÑ„ÄÅ‰∏çÂèØÂÜçÂàÜÁöÑÂÄº„ÄÇdate„ÄÅboolean„ÄÅstring„ÄÅnumber„ÄÅnullk: v#ÂØπË±°ÔºöÈîÆÂÄºÂØπÁöÑÈõÜÂêà„ÄÇmap„ÄÅhash„ÄÅset„ÄÅobject Ë°åÂÜÖÂÜôÊ≥ïÔºö k: {k1:v1,k2:v2,k3:v3}#Êàñk: k1: v1 k2: v2 k3: v3#Êï∞ÁªÑÔºö‰∏ÄÁªÑÊåâÊ¨°Â∫èÊéíÂàóÁöÑÂÄº„ÄÇarray„ÄÅlist„ÄÅqueueË°åÂÜÖÂÜôÊ≥ïÔºö k: [v1,v2,v3]#ÊàñËÄÖk: - v1 - v2 - v3 1.2.4„ÄÅÁ§∫‰æã 12345678910111213141516171819202122232425262728293031323334353637383940414243444546@Datapublic class Person { private String userName; private Boolean boss; private Date birth; private Integer age; private Pet pet; private String[] interests; private List&lt;String&gt; animal; private Map&lt;String, Object&gt; score; private Set&lt;Double&gt; salarys; private Map&lt;String, List&lt;Pet&gt;&gt; allPets;}@Datapublic class Pet { private String name; private Double weight;}# yamlË°®Á§∫‰ª•‰∏äÂØπË±°person: userName: zhangsan boss: false birth: 2019/12/12 20:12:33 age: 18 pet: name: tomcat weight: 23.4 interests: [ÁØÆÁêÉ,Ê∏∏Ê≥≥] animal: - jerry - mario score: english: first: 30 second: 40 third: 50 math: [131,140,148] chinese: {first: 128,second: 136} salarys: [3999,4999.98,5999.99] allPets: sick: - {name: tom} - {name: jerry,weight: 47} health: [{name: mario,weight: 47}] 1.3ÈÖçÁΩÆÊñá‰ª∂Ëá™ÂÆö‰πâÁ±ªÊèêÁ§∫ 12345678910111213141516171819202122232425&lt;!--ËÆ©Ëá™ÂÆö‰πâÁ±ªÂú®ÈÖçÁΩÆÁ±ª‰∏≠ÊúâÊèêÁ§∫--&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt; &lt;optional&gt;true&lt;/optional&gt; &lt;/dependency&gt;&lt;!--ÊâìÂåÖÊó∂ÂéªÈô§‰∏öÂä°Êó†ÂÖ≥‰æùËµñprocessor--&gt; &lt;build&gt; &lt;plugins&gt; &lt;plugin&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt; &lt;configuration&gt; &lt;excludes&gt; &lt;exclude&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt; &lt;/exclude&gt; &lt;/excludes&gt; &lt;/configuration&gt; &lt;/plugin&gt; &lt;/plugins&gt; &lt;/build&gt; 1.4 bootstrap bootstrap (.yml ÊàñËÄÖ .properties)‰ºòÂÖà‰∫éapplication (.yml ÊàñËÄÖ .properties)Ôºå‰∏§ËÄÖÂÖ±Áî®Âêå‰∏ä‰∏ãÊñáÁéØÂ¢ÉÔºåbootstrapÈÄÇÁî®‰∫éÂõ∫ÂÆöÂ±ûÊÄßÔºåÂä†Ëß£ÂØÜÁ≠âÊÉÖÊôØ„ÄÇ 1.5ÂêÑ‰∏™ÈÖçÁΩÆÊñá‰ª∂Âä†ËΩΩÈ°∫Â∫è ÈÖçÁΩÆÂ±ûÊÄßÂä†ËΩΩÁöÑÈ°∫Â∫èÂ¶Ç‰∏ãÔºö 1„ÄÅÂºÄÂèëËÄÖÂ∑•ÂÖ∑ Devtools ÂÖ®Â±ÄÈÖçÁΩÆÂèÇÊï∞Ôºõ 2„ÄÅÂçïÂÖÉÊµãËØï‰∏äÁöÑ @TestPropertySource Ê≥®Ëß£ÊåáÂÆöÁöÑÂèÇÊï∞Ôºõ 3„ÄÅÂçïÂÖÉÊµãËØï‰∏äÁöÑ @SpringBootTest Ê≥®Ëß£ÊåáÂÆöÁöÑÂèÇÊï∞Ôºõ 4„ÄÅÂëΩ‰ª§Ë°åÊåáÂÆöÁöÑÂèÇÊï∞ÔºåÂ¶Ç java -jar springboot.jar --name=&quot;JavaÊäÄÊúØÊ†à&quot;Ôºõ 5„ÄÅÂëΩ‰ª§Ë°å‰∏≠ÁöÑ SPRING_APPLICATION_JSON ÊåáÂÆöÂèÇÊï∞, Â¶Ç java -Dspring.application.json='{&quot;name&quot;:&quot;JavaÊäÄÊúØÊ†à&quot;}' -jar springboot.jar 6„ÄÅServletConfig ÂàùÂßãÂåñÂèÇÊï∞Ôºõ 7„ÄÅServletContext ÂàùÂßãÂåñÂèÇÊï∞Ôºõ 8„ÄÅJNDIÂèÇÊï∞ÔºàÂ¶Ç java:comp/env/spring.application.jsonÔºâÔºõ 9„ÄÅJavaÁ≥ªÁªüÂèÇÊï∞ÔºàÊù•Ê∫êÔºöSystem.getProperties()ÔºâÔºõ 10„ÄÅÊìç‰ΩúÁ≥ªÁªüÁéØÂ¢ÉÂèòÈáèÂèÇÊï∞Ôºõ 11„ÄÅRandomValuePropertySource ÈöèÊú∫Êï∞Ôºå‰ªÖÂåπÈÖçÔºöramdom.*Ôºõ 12„ÄÅJARÂåÖÂ§ñÈù¢ÁöÑÈÖçÁΩÆÊñá‰ª∂ÂèÇÊï∞Ôºàapplication-{profile}.propertiesÔºàYAMLÔºâÔºâ 13„ÄÅJARÂåÖÈáåÈù¢ÁöÑÈÖçÁΩÆÊñá‰ª∂ÂèÇÊï∞Ôºàapplication-{profile}.propertiesÔºàYAMLÔºâÔºâ 14„ÄÅJARÂåÖÂ§ñÈù¢ÁöÑÈÖçÁΩÆÊñá‰ª∂ÂèÇÊï∞Ôºàapplication.propertiesÔºàYAMLÔºâÔºâ 15„ÄÅJARÂåÖÈáåÈù¢ÁöÑÈÖçÁΩÆÊñá‰ª∂ÂèÇÊï∞Ôºàapplication.propertiesÔºàYAMLÔºâÔºâ 16„ÄÅ@ConfigurationÈÖçÁΩÆÊñá‰ª∂‰∏ä @PropertySource Ê≥®Ëß£Âä†ËΩΩÁöÑÂèÇÊï∞Ôºõ 17„ÄÅÈªòËÆ§ÂèÇÊï∞ÔºàÈÄöËøá SpringApplication.setDefaultProperties ÊåáÂÆöÔºâÔºõ 2.WebÂºÄÂèë 1.ÈùôÊÄÅËµÑÊ∫ê‰∏éÂÆöÂà∂Âåñ 2.ÁÆÄÂçïÂäüËÉΩÂàÜÊûê 2.1„ÄÅÈùôÊÄÅËµÑÊ∫êËÆøÈóÆ 1„ÄÅÈùôÊÄÅËµÑÊ∫êÁõÆÂΩï Âè™Ë¶ÅÈùôÊÄÅËµÑÊ∫êÊîæÂú®Á±ªË∑ØÂæÑ‰∏ãÔºö called /static (or /public or /resources or /META-INF/resources ËÆøÈóÆ Ôºö ÂΩìÂâçÈ°πÁõÆÊ†πË∑ØÂæÑ/ + ÈùôÊÄÅËµÑÊ∫êÂêç ÂéüÁêÜÔºö ÈùôÊÄÅÊò†Â∞Ñ/**„ÄÇ ËØ∑Ê±ÇËøõÊù•ÔºåÂÖàÂéªÊâæControllerÁúãËÉΩ‰∏çËÉΩÂ§ÑÁêÜ„ÄÇ‰∏çËÉΩÂ§ÑÁêÜÁöÑÊâÄÊúâËØ∑Ê±ÇÂèàÈÉΩ‰∫§ÁªôÈùôÊÄÅËµÑÊ∫êÂ§ÑÁêÜÂô®„ÄÇÈùôÊÄÅËµÑÊ∫ê‰πüÊâæ‰∏çÂà∞ÂàôÂìçÂ∫î404È°µÈù¢ ÊîπÂèòÈªòËÆ§ÁöÑÈùôÊÄÅËµÑÊ∫êË∑ØÂæÑ 1234567891011spring: mvc: static-path-pattern: /res/** resources: static-locations: [classpath:/haha/]spring: mvc: static-path-pattern: /res/** resources: static-locations: [classpath:/haha/] 2„ÄÅÈùôÊÄÅËµÑÊ∫êËÆøÈóÆÂâçÁºÄ ÈªòËÆ§Êó†ÂâçÁºÄ ÂΩìÂâçÈ°πÁõÆ + static-path-pattern + ÈùôÊÄÅËµÑÊ∫êÂêç = ÈùôÊÄÅËµÑÊ∫êÊñá‰ª∂Â§π‰∏ãÊâæ 123spring: mvc: static-path-pattern: /res/** 3„ÄÅwebjar Ëá™Âä®Êò†Â∞Ñ /webjars/** https://www.webjars.org/ ËÆøÈóÆÂú∞ÂùÄÔºöhttp://localhost:8080/webjars/jquery/3.5.1/jquery.js ÂêéÈù¢Âú∞ÂùÄË¶ÅÊåâÁÖß‰æùËµñÈáåÈù¢ÁöÑÂåÖË∑ØÂæÑ 12345&lt;dependency&gt; &lt;groupId&gt;org.webjars&lt;/groupId&gt; &lt;artifactId&gt;jquery&lt;/artifactId&gt; &lt;version&gt;3.5.1&lt;/version&gt;&lt;/dependency&gt; 2.2„ÄÅÊ¨¢ËøéÈ°µÊîØÊåÅ ÈùôÊÄÅËµÑÊ∫êË∑ØÂæÑ‰∏ã index.html ÂèØ‰ª•ÈÖçÁΩÆÈùôÊÄÅËµÑÊ∫êË∑ØÂæÑ ‰ΩÜÊòØ‰∏çÂèØ‰ª•ÈÖçÁΩÆÈùôÊÄÅËµÑÊ∫êÁöÑËÆøÈóÆÂâçÁºÄ„ÄÇÂê¶ÂàôÂØºËá¥ index.html‰∏çËÉΩË¢´ÈªòËÆ§ËÆøÈóÆ controllerËÉΩÂ§ÑÁêÜ/index 12345spring:# mvc:# static-path-pattern: /res/** Ëøô‰∏™‰ºöÂØºËá¥welcome pageÂäüËÉΩÂ§±Êïà resources: static-locations: [classpath:/haha/] 2.3„ÄÅËá™ÂÆö‰πâ Favicon favicon.ico ÊîæÂú®ÈùôÊÄÅËµÑÊ∫êÁõÆÂΩï‰∏ãÂç≥ÂèØ„ÄÇ 123spring:# mvc:# static-path-pattern: /res/** Ëøô‰∏™‰ºöÂØºËá¥ Favicon ÂäüËÉΩÂ§±Êïà ‰∏çÁîüÊïàÂàôÈ¶ñÈ°µÊ∑ªÂä† 1234&lt;!-- &lt;link rel=&quot;shortcut icon&quot; th:href=&quot;@{/favicon.ico}&quot;/&gt;--&gt;&lt;!-- &lt;link rel=&quot;bookmark&quot; th:href=&quot;@{/favicon.ico}&quot;/&gt;--&gt; &lt;link rel=&quot;shortcut icon&quot; href=&quot;/favicon.ico&quot;/&gt; &lt;link rel=&quot;bookmark&quot; href=&quot;/favicon.ico&quot;/&gt; ÂÅúÁî®ÁºìÂ≠òÔºåË∞∑Ê≠åctrl+F5Âº∫Âà∂Âà∑Êñ∞ 2.4„ÄÅÈùôÊÄÅËµÑÊ∫êÈÖçÁΩÆÂéüÁêÜ SpringBootÂêØÂä®ÈªòËÆ§Âä†ËΩΩ xxxAutoConfiguration Á±ªÔºàËá™Âä®ÈÖçÁΩÆÁ±ªÔºâ SpringMVCÂäüËÉΩÁöÑËá™Âä®ÈÖçÁΩÆÁ±ª WebMvcAutoConfigurationÔºåÁîüÊïà 12345678@Configuration(proxyBeanMethods = false)@ConditionalOnWebApplication(type = Type.SERVLET)@ConditionalOnClass({ Servlet.class, DispatcherServlet.class, WebMvcConfigurer.class })@ConditionalOnMissingBean(WebMvcConfigurationSupport.class)@AutoConfigureOrder(Ordered.HIGHEST_PRECEDENCE + 10)@AutoConfigureAfter({ DispatcherServletAutoConfiguration.class, TaskExecutionAutoConfiguration.class, ValidationAutoConfiguration.class })public class WebMvcAutoConfiguration {} ÁªôÂÆπÂô®‰∏≠ÈÖç‰∫Ü‰ªÄ‰πà„ÄÇ 12345@Configuration(proxyBeanMethods = false)@Import(EnableWebMvcConfiguration.class)@EnableConfigurationProperties({ WebMvcProperties.class, ResourceProperties.class })@Order(0)public static class WebMvcAutoConfigurationAdapter implements WebMvcConfigurer {} ÈÖçÁΩÆÊñá‰ª∂ÁöÑÁõ∏ÂÖ≥Â±ûÊÄßÂíåxxxËøõË°å‰∫ÜÁªëÂÆö„ÄÇWebMvcProperties==spring.mvc„ÄÅResourceProperties==spring.resources 1„ÄÅÈÖçÁΩÆÁ±ªÂè™Êúâ‰∏Ä‰∏™ÊúâÂèÇÊûÑÈÄ†Âô® 123456789101112131415161718192021 //ÊúâÂèÇÊûÑÈÄ†Âô®ÊâÄÊúâÂèÇÊï∞ÁöÑÂÄºÈÉΩ‰ºö‰ªéÂÆπÂô®‰∏≠Á°ÆÂÆö//ResourceProperties resourcePropertiesÔºõËé∑ÂèñÂíåspring.resourcesÁªëÂÆöÁöÑÊâÄÊúâÁöÑÂÄºÁöÑÂØπË±°//WebMvcProperties mvcProperties Ëé∑ÂèñÂíåspring.mvcÁªëÂÆöÁöÑÊâÄÊúâÁöÑÂÄºÁöÑÂØπË±°//ListableBeanFactory beanFactory SpringÁöÑbeanFactory//HttpMessageConverters ÊâæÂà∞ÊâÄÊúâÁöÑHttpMessageConverters//ResourceHandlerRegistrationCustomizer ÊâæÂà∞ ËµÑÊ∫êÂ§ÑÁêÜÂô®ÁöÑËá™ÂÆö‰πâÂô®„ÄÇ=========//DispatcherServletPath //ServletRegistrationBean ÁªôÂ∫îÁî®Ê≥®ÂÜåServlet„ÄÅFilter.... public WebMvcAutoConfigurationAdapter(ResourceProperties resourceProperties, WebMvcProperties mvcProperties, ListableBeanFactory beanFactory, ObjectProvider&lt;HttpMessageConverters&gt; messageConvertersProvider, ObjectProvider&lt;ResourceHandlerRegistrationCustomizer&gt; resourceHandlerRegistrationCustomizerProvider, ObjectProvider&lt;DispatcherServletPath&gt; dispatcherServletPath, ObjectProvider&lt;ServletRegistrationBean&lt;?&gt;&gt; servletRegistrations) { this.resourceProperties = resourceProperties; this.mvcProperties = mvcProperties; this.beanFactory = beanFactory; this.messageConvertersProvider = messageConvertersProvider; this.resourceHandlerRegistrationCustomizer = resourceHandlerRegistrationCustomizerProvider.getIfAvailable(); this.dispatcherServletPath = dispatcherServletPath; this.servletRegistrations = servletRegistrations; } 2„ÄÅËµÑÊ∫êÂ§ÑÁêÜÁöÑÈªòËÆ§ËßÑÂàô 12345678910111213141516171819202122232425262728293031323334353637383940@Override public void addResourceHandlers(ResourceHandlerRegistry registry) { if (!this.resourceProperties.isAddMappings()) { logger.debug(&quot;Default resource handling disabled&quot;); return; } Duration cachePeriod = this.resourceProperties.getCache().getPeriod(); CacheControl cacheControl = this.resourceProperties.getCache().getCachecontrol().toHttpCacheControl(); //webjarsÁöÑËßÑÂàô if (!registry.hasMappingForPattern(&quot;/webjars/**&quot;)) { customizeResourceHandlerRegistration(registry.addResourceHandler(&quot;/webjars/**&quot;) .addResourceLocations(&quot;classpath:/META-INF/resources/webjars/&quot;) .setCachePeriod(getSeconds(cachePeriod)).setCacheControl(cacheControl)); } // String staticPathPattern = this.mvcProperties.getStaticPathPattern(); if (!registry.hasMappingForPattern(staticPathPattern)) { customizeResourceHandlerRegistration(registry.addResourceHandler(staticPathPattern) .addResourceLocations(getResourceLocations(this.resourceProperties.getStaticLocations())) .setCachePeriod(getSeconds(cachePeriod)).setCacheControl(cacheControl)); } }spring:# mvc:# static-path-pattern: /res/** resources: add-mappings: false Á¶ÅÁî®ÊâÄÊúâÈùôÊÄÅËµÑÊ∫êËßÑÂàô@ConfigurationProperties(prefix = &quot;spring.resources&quot;, ignoreUnknownFields = false)public class ResourceProperties { private static final String[] CLASSPATH_RESOURCE_LOCATIONS = { &quot;classpath:/META-INF/resources/&quot;, &quot;classpath:/resources/&quot;, &quot;classpath:/static/&quot;, &quot;classpath:/public/&quot; }; /** * Locations of static resources. Defaults to classpath:[/META-INF/resources/, * /resources/, /static/, /public/]. */ private String[] staticLocations = CLASSPATH_RESOURCE_LOCATIONS; 3„ÄÅÊ¨¢ËøéÈ°µÁöÑÂ§ÑÁêÜËßÑÂàô 1234567891011121314151617181920212223242526HandlerMappingÔºöÂ§ÑÁêÜÂô®Êò†Â∞Ñ„ÄÇ‰øùÂ≠ò‰∫ÜÊØè‰∏Ä‰∏™HandlerËÉΩÂ§ÑÁêÜÂì™‰∫õËØ∑Ê±Ç„ÄÇ @Bean public WelcomePageHandlerMapping welcomePageHandlerMapping(ApplicationContext applicationContext, FormattingConversionService mvcConversionService, ResourceUrlProvider mvcResourceUrlProvider) { WelcomePageHandlerMapping welcomePageHandlerMapping = new WelcomePageHandlerMapping( new TemplateAvailabilityProviders(applicationContext), applicationContext, getWelcomePage(), this.mvcProperties.getStaticPathPattern()); welcomePageHandlerMapping.setInterceptors(getInterceptors(mvcConversionService, mvcResourceUrlProvider)); welcomePageHandlerMapping.setCorsConfigurations(getCorsConfigurations()); return welcomePageHandlerMapping; }WelcomePageHandlerMapping(TemplateAvailabilityProviders templateAvailabilityProviders, ApplicationContext applicationContext, Optional&lt;Resource&gt; welcomePage, String staticPathPattern) { if (welcomePage.isPresent() &amp;&amp; &quot;/**&quot;.equals(staticPathPattern)) { //Ë¶ÅÁî®Ê¨¢ËøéÈ°µÂäüËÉΩÔºåÂøÖÈ°ªÊòØ/** logger.info(&quot;Adding welcome page: &quot; + welcomePage.get()); setRootViewName(&quot;forward:index.html&quot;); } else if (welcomeTemplateExists(templateAvailabilityProviders, applicationContext)) { // Ë∞ÉÁî®Controller /index logger.info(&quot;Adding welcome page template: index&quot;); setRootViewName(&quot;index&quot;); }} 4„ÄÅfavicon 3„ÄÅËØ∑Ê±ÇÂèÇÊï∞Â§ÑÁêÜ 1„ÄÅËØ∑Ê±ÇÊò†Â∞Ñ 1„ÄÅrest‰ΩøÁî®‰∏éÂéüÁêÜ @xxxMappingÔºõ RestÈ£éÊ†ºÊîØÊåÅÔºà‰ΩøÁî®HTTPËØ∑Ê±ÇÊñπÂºèÂä®ËØçÊù•Ë°®Á§∫ÂØπËµÑÊ∫êÁöÑÊìç‰ΩúÔºâ ‰ª•ÂâçÔºö/getUser Ëé∑ÂèñÁî®Êà∑ /deleteUser Âà†Èô§Áî®Êà∑ /editUser ‰øÆÊîπÁî®Êà∑ /saveUser ‰øùÂ≠òÁî®Êà∑ Áé∞Âú®Ôºö /user GET-Ëé∑ÂèñÁî®Êà∑ DELETE-Âà†Èô§Áî®Êà∑ PUT-‰øÆÊîπÁî®Êà∑ POST-‰øùÂ≠òÁî®Êà∑ Ê†∏ÂøÉFilterÔºõHiddenHttpMethodFilter Áî®Ê≥ïÔºö Ë°®Âçïmethod=postÔºåÈöêËóèÂüü _method=put SpringBoot‰∏≠ÊâãÂä®ÂºÄÂêØ Êâ©Â±ïÔºöÂ¶Ç‰ΩïÊää_method Ëøô‰∏™ÂêçÂ≠óÊç¢ÊàêÊàë‰ª¨Ëá™Â∑±ÂñúÊ¨¢ÁöÑ„ÄÇ 123456789101112131415161718192021222324252627282930313233343536373839 @RequestMapping(value = &quot;/user&quot;,method = RequestMethod.GET) public String getUser(){ return &quot;GET-Âº†‰∏â&quot;; } @RequestMapping(value = &quot;/user&quot;,method = RequestMethod.POST) public String saveUser(){ return &quot;POST-Âº†‰∏â&quot;; } @RequestMapping(value = &quot;/user&quot;,method = RequestMethod.PUT) public String putUser(){ return &quot;PUT-Âº†‰∏â&quot;; } @RequestMapping(value = &quot;/user&quot;,method = RequestMethod.DELETE) public String deleteUser(){ return &quot;DELETE-Âº†‰∏â&quot;; } @Bean @ConditionalOnMissingBean(HiddenHttpMethodFilter.class) @ConditionalOnProperty(prefix = &quot;spring.mvc.hiddenmethod.filter&quot;, name = &quot;enabled&quot;, matchIfMissing = false) public OrderedHiddenHttpMethodFilter hiddenHttpMethodFilter() { return new OrderedHiddenHttpMethodFilter(); }//Ëá™ÂÆö‰πâfilter @Bean public HiddenHttpMethodFilter hiddenHttpMethodFilter(){ HiddenHttpMethodFilter methodFilter = new HiddenHttpMethodFilter(); methodFilter.setMethodParam(&quot;_m&quot;); return methodFilter; } RestÂéüÁêÜÔºàË°®ÂçïÊèê‰∫§Ë¶Å‰ΩøÁî®RESTÁöÑÊó∂ÂÄôÔºâ Ë°®ÂçïÊèê‰∫§‰ºöÂ∏¶‰∏ä**_method=PUT** ËØ∑Ê±ÇËøáÊù•Ë¢´HiddenHttpMethodFilterÊã¶Êà™ ËØ∑Ê±ÇÊòØÂê¶Ê≠£Â∏∏ÔºåÂπ∂‰∏îÊòØPOST Ëé∑ÂèñÂà∞**_method**ÁöÑÂÄº„ÄÇ ÂÖºÂÆπ‰ª•‰∏ãËØ∑Ê±ÇÔºõPUT.DELETE.PATCH ÂéüÁîürequestÔºàpostÔºâÔºåÂåÖË£ÖÊ®°ÂºèrequesWrapperÈáçÂÜô‰∫ÜgetMethodÊñπÊ≥ïÔºåËøîÂõûÁöÑÊòØ‰º†ÂÖ•ÁöÑÂÄº„ÄÇ ËøáÊª§Âô®ÈìæÊîæË°åÁöÑÊó∂ÂÄôÁî®wrapper„ÄÇ‰ª•ÂêéÁöÑÊñπÊ≥ïË∞ÉÁî®getMethodÊòØË∞ÉÁî®****requesWrapperÁöÑ„ÄÇ Rest‰ΩøÁî®ÂÆ¢Êà∑Á´ØÂ∑•ÂÖ∑Ôºå Â¶ÇPostManÁõ¥Êé•ÂèëÈÄÅPut„ÄÅdeleteÁ≠âÊñπÂºèËØ∑Ê±ÇÔºåÊó†ÈúÄFilter„ÄÇ 12345spring: mvc: hiddenmethod: filter: enabled: true #ÂºÄÂêØÈ°µÈù¢Ë°®ÂçïÁöÑRestÂäüËÉΩ 2„ÄÅËØ∑Ê±ÇÊò†Â∞ÑÂéüÁêÜ SpringMVCÂäüËÉΩÂàÜÊûêÈÉΩ‰ªé org.springframework.web.servlet.DispatcherServlet-„ÄãdoDispatchÔºàÔºâ 1234567891011121314151617181920protected void doDispatch(HttpServletRequest request, HttpServletResponse response) throws Exception { HttpServletRequest processedRequest = request; HandlerExecutionChain mappedHandler = null; boolean multipartRequestParsed = false;‚Äã WebAsyncManager asyncManager = WebAsyncUtils.getAsyncManager(request);‚Äã try { ModelAndView mv = null; Exception dispatchException = null;‚Äã try { processedRequest = checkMultipart(request); multipartRequestParsed = (processedRequest != request);‚Äã // ÊâæÂà∞ÂΩìÂâçËØ∑Ê±Ç‰ΩøÁî®Âì™‰∏™HandlerÔºàControllerÁöÑÊñπÊ≥ïÔºâÂ§ÑÁêÜ mappedHandler = getHandler(processedRequest); //HandlerMappingÔºöÂ§ÑÁêÜÂô®Êò†Â∞Ñ„ÄÇ/xxx-&gt;&gt;xxxx RequestMappingHandlerMappingÔºö‰øùÂ≠ò‰∫ÜÊâÄÊúâ@RequestMapping ÂíåhandlerÁöÑÊò†Â∞ÑËßÑÂàô„ÄÇ ÊâÄÊúâÁöÑËØ∑Ê±ÇÊò†Â∞ÑÈÉΩÂú®HandlerMapping‰∏≠„ÄÇ SpringBootËá™Âä®ÈÖçÁΩÆÊ¨¢ËøéÈ°µÁöÑ WelcomePageHandlerMapping „ÄÇËÆøÈóÆ /ËÉΩËÆøÈóÆÂà∞index.htmlÔºõ SpringBootËá™Âä®ÈÖçÁΩÆ‰∫ÜÈªòËÆ§ ÁöÑ RequestMappingHandlerMapping ËØ∑Ê±ÇËøõÊù•ÔºåÊå®‰∏™Â∞ùËØïÊâÄÊúâÁöÑHandlerMappingÁúãÊòØÂê¶ÊúâËØ∑Ê±Ç‰ø°ÊÅØ„ÄÇ Â¶ÇÊûúÊúâÂ∞±ÊâæÂà∞Ëøô‰∏™ËØ∑Ê±ÇÂØπÂ∫îÁöÑhandler Â¶ÇÊûúÊ≤°ÊúâÂ∞±ÊòØ‰∏ã‰∏Ä‰∏™ HandlerMapping Êàë‰ª¨ÈúÄË¶Å‰∏Ä‰∫õËá™ÂÆö‰πâÁöÑÊò†Â∞ÑÂ§ÑÁêÜÔºåÊàë‰ª¨‰πüÂèØ‰ª•Ëá™Â∑±ÁªôÂÆπÂô®‰∏≠ÊîæHandlerMapping„ÄÇËá™ÂÆö‰πâ HandlerMapping 12345678910111213141516171819202122protected HandlerExecutionChain getHandler(HttpServletRequest request) throws Exception { if (this.handlerMappings != null) { for (HandlerMapping mapping : this.handlerMappings) { HandlerExecutionChain handler = mapping.getHandler(request); if (handler != null) { return handler; } } } return null;} protected HandlerExecutionChain getHandler(HttpServletRequest request) throws Exception { if (this.handlerMappings != null) { for (HandlerMapping mapping : this.handlerMappings) { HandlerExecutionChain handler = mapping.getHandler(request); if (handler != null) { return handler; } } } return null; } 2„ÄÅÊôÆÈÄöÂèÇÊï∞‰∏éÂü∫Êú¨Ê≥®Ëß£ 1.1„ÄÅÊ≥®Ëß£Ôºö @PathVariableÔºàË∑ØÂæÑÔºâ„ÄÅ@RequestHeaderÔºàheaderÔºâ„ÄÅ@ModelAttributeÔºàÔºâ„ÄÅ@RequestParamÔºàËØ∑Ê±ÇÂèÇÊï∞Ôºâ„ÄÅ@MatrixVariableÔºàÁü©ÈòµÂèòÈáè Áî®ÔºõÈöîÂºÄÔºâ„ÄÅ@CookieValueÔºàcookieÔºâ„ÄÅ@RequestBodyÔºàËØ∑Ê±Ç‰ΩìÔºâ„ÄÅ@RequestAttributeÔºàËØ∑Ê±ÇÂüüÔºâ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147@RestControllerpublic class ParameterTestController { // car/2/owner/zhangsan @GetMapping(&quot;/car/{id}/owner/{username}&quot;) public Map&lt;String,Object&gt; getCar(@PathVariable(&quot;id&quot;) Integer id, @PathVariable(&quot;username&quot;) String name, @PathVariable Map&lt;String,String&gt; pv, @RequestHeader(&quot;User-Agent&quot;) String userAgent, @RequestHeader Map&lt;String,String&gt; header, @RequestParam(&quot;age&quot;) Integer age, @RequestParam(&quot;inters&quot;) List&lt;String&gt; inters, @RequestParam Map&lt;String,String&gt; params, @CookieValue(&quot;_ga&quot;) String _ga, @CookieValue(&quot;_ga&quot;) Cookie cookie){ Map&lt;String,Object&gt; map = new HashMap&lt;&gt;();// map.put(&quot;id&quot;,id);// map.put(&quot;name&quot;,name);// map.put(&quot;pv&quot;,pv);// map.put(&quot;userAgent&quot;,userAgent);// map.put(&quot;headers&quot;,header); map.put(&quot;age&quot;,age); map.put(&quot;inters&quot;,inters); map.put(&quot;params&quot;,params); map.put(&quot;_ga&quot;,_ga); System.out.println(cookie.getName()+&quot;===&gt;&quot;+cookie.getValue()); return map; } @PostMapping(&quot;/save&quot;) public Map postMethod(@RequestBody String content){ Map&lt;String,Object&gt; map = new HashMap&lt;&gt;(); map.put(&quot;content&quot;,content); return map; } //1„ÄÅËØ≠Ê≥ïÔºö ËØ∑Ê±ÇË∑ØÂæÑÔºö/cars/sell;low=34;brand=byd,audi,yd //2„ÄÅSpringBootÈªòËÆ§ÊòØÁ¶ÅÁî®‰∫ÜÁü©ÈòµÂèòÈáèÁöÑÂäüËÉΩ // ÊâãÂä®ÂºÄÂêØÔºöÂéüÁêÜ„ÄÇÂØπ‰∫éË∑ØÂæÑÁöÑÂ§ÑÁêÜ„ÄÇUrlPathHelperËøõË°åËß£Êûê„ÄÇ // removeSemicolonContentÔºàÁßªÈô§ÂàÜÂè∑ÂÜÖÂÆπÔºâÊîØÊåÅÁü©ÈòµÂèòÈáèÁöÑ //3„ÄÅÁü©ÈòµÂèòÈáèÂøÖÈ°ªÊúâurlË∑ØÂæÑÂèòÈáèÊâçËÉΩË¢´Ëß£Êûê @GetMapping(&quot;/cars/{path}&quot;) public Map carsSell(@MatrixVariable(&quot;low&quot;) Integer low, @MatrixVariable(&quot;brand&quot;) List&lt;String&gt; brand, @PathVariable(&quot;path&quot;) String path){ Map&lt;String,Object&gt; map = new HashMap&lt;&gt;(); map.put(&quot;low&quot;,low); map.put(&quot;brand&quot;,brand); map.put(&quot;path&quot;,path); return map; } // /boss/1;age=20/2;age=10 @GetMapping(&quot;/boss/{bossId}/{empId}&quot;) public Map boss(@MatrixVariable(value = &quot;age&quot;,pathVar = &quot;bossId&quot;) Integer bossAge, @MatrixVariable(value = &quot;age&quot;,pathVar = &quot;empId&quot;) Integer empAge){ Map&lt;String,Object&gt; map = new HashMap&lt;&gt;(); map.put(&quot;bossAge&quot;,bossAge); map.put(&quot;empAge&quot;,empAge); return map; }}@RestControllerpublic class ParameterTestController { // car/2/owner/zhangsan @GetMapping(&quot;/car/{id}/owner/{username}&quot;) public Map&lt;String,Object&gt; getCar(@PathVariable(&quot;id&quot;) Integer id, @PathVariable(&quot;username&quot;) String name, @PathVariable Map&lt;String,String&gt; pv, @RequestHeader(&quot;User-Agent&quot;) String userAgent, @RequestHeader Map&lt;String,String&gt; header, @RequestParam(&quot;age&quot;) Integer age, @RequestParam(&quot;inters&quot;) List&lt;String&gt; inters, @RequestParam Map&lt;String,String&gt; params, @CookieValue(&quot;_ga&quot;) String _ga, @CookieValue(&quot;_ga&quot;) Cookie cookie){ Map&lt;String,Object&gt; map = new HashMap&lt;&gt;();// map.put(&quot;id&quot;,id);// map.put(&quot;name&quot;,name);// map.put(&quot;pv&quot;,pv);// map.put(&quot;userAgent&quot;,userAgent);// map.put(&quot;headers&quot;,header); map.put(&quot;age&quot;,age); map.put(&quot;inters&quot;,inters); map.put(&quot;params&quot;,params); map.put(&quot;_ga&quot;,_ga); System.out.println(cookie.getName()+&quot;===&gt;&quot;+cookie.getValue()); return map; } @PostMapping(&quot;/save&quot;) public Map postMethod(@RequestBody String content){ Map&lt;String,Object&gt; map = new HashMap&lt;&gt;(); map.put(&quot;content&quot;,content); return map; } //1„ÄÅËØ≠Ê≥ïÔºö ËØ∑Ê±ÇË∑ØÂæÑÔºö/cars/sell;low=34;brand=byd,audi,yd //2„ÄÅSpringBootÈªòËÆ§ÊòØÁ¶ÅÁî®‰∫ÜÁü©ÈòµÂèòÈáèÁöÑÂäüËÉΩ // ÊâãÂä®ÂºÄÂêØÔºöÂéüÁêÜ„ÄÇÂØπ‰∫éË∑ØÂæÑÁöÑÂ§ÑÁêÜ„ÄÇUrlPathHelperËøõË°åËß£Êûê„ÄÇ // removeSemicolonContentÔºàÁßªÈô§ÂàÜÂè∑ÂÜÖÂÆπÔºâÊîØÊåÅÁü©ÈòµÂèòÈáèÁöÑ //3„ÄÅÁü©ÈòµÂèòÈáèÂøÖÈ°ªÊúâurlË∑ØÂæÑÂèòÈáèÊâçËÉΩË¢´Ëß£Êûê @GetMapping(&quot;/cars/{path}&quot;) public Map carsSell(@MatrixVariable(&quot;low&quot;) Integer low, @MatrixVariable(&quot;brand&quot;) List&lt;String&gt; brand, @PathVariable(&quot;path&quot;) String path){ Map&lt;String,Object&gt; map = new HashMap&lt;&gt;(); map.put(&quot;low&quot;,low); map.put(&quot;brand&quot;,brand); map.put(&quot;path&quot;,path); return map; } // /boss/1;age=20/2;age=10 @GetMapping(&quot;/boss/{bossId}/{empId}&quot;) public Map boss(@MatrixVariable(value = &quot;age&quot;,pathVar = &quot;bossId&quot;) Integer bossAge, @MatrixVariable(value = &quot;age&quot;,pathVar = &quot;empId&quot;) Integer empAge){ Map&lt;String,Object&gt; map = new HashMap&lt;&gt;(); map.put(&quot;bossAge&quot;,bossAge); map.put(&quot;empAge&quot;,empAge); return map; }} 1.2„ÄÅServlet APIÔºö WebRequest„ÄÅServletRequest„ÄÅMultipartRequest„ÄÅ HttpSession„ÄÅjavax.servlet.http.PushBuilder„ÄÅPrincipal„ÄÅInputStream„ÄÅReader„ÄÅHttpMethod„ÄÅLocale„ÄÅTimeZone„ÄÅZoneId ServletRequestMethodArgumentResolver ‰ª•‰∏äÁöÑÈÉ®ÂàÜÂèÇÊï∞ 12345678910111213141516@Override public boolean supportsParameter(MethodParameter parameter) { Class&lt;?&gt; paramType = parameter.getParameterType(); return (WebRequest.class.isAssignableFrom(paramType) || ServletRequest.class.isAssignableFrom(paramType) || MultipartRequest.class.isAssignableFrom(paramType) || HttpSession.class.isAssignableFrom(paramType) || (pushBuilder != null &amp;&amp; pushBuilder.isAssignableFrom(paramType)) || Principal.class.isAssignableFrom(paramType) || InputStream.class.isAssignableFrom(paramType) || Reader.class.isAssignableFrom(paramType) || HttpMethod.class == paramType || Locale.class == paramType || TimeZone.class == paramType || ZoneId.class == paramType); } 1.3„ÄÅÂ§çÊùÇÂèÇÊï∞Ôºö Map„ÄÅ**ModelÔºàmap„ÄÅmodelÈáåÈù¢ÁöÑÊï∞ÊçÆ‰ºöË¢´ÊîæÂú®requestÁöÑËØ∑Ê±ÇÂüü request.setAttributeÔºâ„ÄÅ**Errors/BindingResult„ÄÅRedirectAttributesÔºà ÈáçÂÆöÂêëÊê∫Â∏¶Êï∞ÊçÆÔºâ„ÄÅServletResponseÔºàresponseÔºâ„ÄÅSessionStatus„ÄÅUriComponentsBuilder„ÄÅServletUriComponentsBuilder 12Map&lt;String,Object&gt; map, Model model, HttpServletRequest request ÈÉΩÊòØÂèØ‰ª•ÁªôrequestÂüü‰∏≠ÊîæÊï∞ÊçÆÔºårequest.getAttribute(); Map„ÄÅModelÁ±ªÂûãÁöÑÂèÇÊï∞Ôºå‰ºöËøîÂõû mavContainer.getModelÔºàÔºâÔºõ---&gt; BindingAwareModelMap ÊòØModel ‰πüÊòØMap mavContainer.getModel(); Ëé∑ÂèñÂà∞ÂÄºÁöÑ 1.4„ÄÅËá™ÂÆö‰πâÂØπË±°ÂèÇÊï∞Ôºö ÂèØ‰ª•Ëá™Âä®Á±ªÂûãËΩ¨Êç¢‰∏éÊ†ºÂºèÂåñÔºåÂèØ‰ª•Á∫ßËÅîÂ∞ÅË£Ö„ÄÇ 3„ÄÅPOJOÂ∞ÅË£ÖËøáÁ®ã ServletModelAttributeMethodProcessor 4„ÄÅÂèÇÊï∞Â§ÑÁêÜÂéüÁêÜ HandlerMapping‰∏≠ÊâæÂà∞ËÉΩÂ§ÑÁêÜËØ∑Ê±ÇÁöÑHandlerÔºàController.method()Ôºâ ‰∏∫ÂΩìÂâçHandler Êâæ‰∏Ä‰∏™ÈÄÇÈÖçÂô® HandlerAdapterÔºõ RequestMappingHandlerAdapter ÈÄÇÈÖçÂô®ÊâßË°åÁõÆÊ†áÊñπÊ≥ïÂπ∂Á°ÆÂÆöÊñπÊ≥ïÂèÇÊï∞ÁöÑÊØè‰∏Ä‰∏™ÂÄº 1„ÄÅHandlerAdapter 0 - ÊîØÊåÅÊñπÊ≥ï‰∏äÊ†áÊ≥®@RequestMapping 1 - ÊîØÊåÅÂáΩÊï∞ÂºèÁºñÁ®ãÁöÑ xxxxxx 2„ÄÅÊâßË°åÁõÆÊ†áÊñπÊ≥ï 12345678910// Actually invoke the handler.//DispatcherServlet -- doDispatchmv = ha.handle(processedRequest, response, mappedHandler.getHandler());mav = invokeHandlerMethod(request, response, handlerMethod); //ÊâßË°åÁõÆÊ†áÊñπÊ≥ï//ServletInvocableHandlerMethodObject returnValue = invokeForRequest(webRequest, mavContainer, providedArgs);//Ëé∑ÂèñÊñπÊ≥ïÁöÑÂèÇÊï∞ÂÄºObject[] args = getMethodArgumentValues(request, mavContainer, providedArgs); 3„ÄÅÂèÇÊï∞Ëß£ÊûêÂô®-HandlerMethodArgumentResolver Á°ÆÂÆöÂ∞ÜË¶ÅÊâßË°åÁöÑÁõÆÊ†áÊñπÊ≥ïÁöÑÊØè‰∏Ä‰∏™ÂèÇÊï∞ÁöÑÂÄºÊòØ‰ªÄ‰πà; SpringMVCÁõÆÊ†áÊñπÊ≥ïËÉΩÂÜôÂ§öÂ∞ëÁßçÂèÇÊï∞Á±ªÂûã„ÄÇÂèñÂÜ≥‰∫éÂèÇÊï∞Ëß£ÊûêÂô®„ÄÇ ÂΩìÂâçËß£ÊûêÂô®ÊòØÂê¶ÊîØÊåÅËß£ÊûêËøôÁßçÂèÇÊï∞ ÊîØÊåÅÂ∞±Ë∞ÉÁî® resolveArgument 4„ÄÅËøîÂõûÂÄºÂ§ÑÁêÜÂô® 5„ÄÅÂ¶Ç‰ΩïÁ°ÆÂÆöÁõÆÊ†áÊñπÊ≥ïÊØè‰∏Ä‰∏™ÂèÇÊï∞ÁöÑÂÄº 123456789101112131415161718192021222324252627282930313233343536============InvocableHandlerMethod==========================protected Object[] getMethodArgumentValues(NativeWebRequest request, @Nullable ModelAndViewContainer mavContainer, Object... providedArgs) throws Exception { MethodParameter[] parameters = getMethodParameters(); if (ObjectUtils.isEmpty(parameters)) { return EMPTY_ARGS; } Object[] args = new Object[parameters.length]; for (int i = 0; i &lt; parameters.length; i++) { MethodParameter parameter = parameters[i]; parameter.initParameterNameDiscovery(this.parameterNameDiscoverer); args[i] = findProvidedArgument(parameter, providedArgs); if (args[i] != null) { continue; } if (!this.resolvers.supportsParameter(parameter)) { throw new IllegalStateException(formatArgumentError(parameter, &quot;No suitable resolver&quot;)); } try { args[i] = this.resolvers.resolveArgument(parameter, mavContainer, request, this.dataBinderFactory); } catch (Exception ex) { // Leave stack trace for later, exception may actually be resolved and handled... if (logger.isDebugEnabled()) { String exMsg = ex.getMessage(); if (exMsg != null &amp;&amp; !exMsg.contains(parameter.getExecutable().toGenericString())) { logger.debug(formatArgumentError(parameter, exMsg)); } } throw ex; } } return args; } 5.1„ÄÅÊå®‰∏™Âà§Êñ≠ÊâÄÊúâÂèÇÊï∞Ëß£ÊûêÂô®ÈÇ£‰∏™ÊîØÊåÅËß£ÊûêËøô‰∏™ÂèÇÊï∞ 1234567891011121314@Nullableprivate HandlerMethodArgumentResolver getArgumentResolver(MethodParameter parameter) { HandlerMethodArgumentResolver result = this.argumentResolverCache.get(parameter); if (result == null) { for (HandlerMethodArgumentResolver resolver : this.argumentResolvers) { if (resolver.supportsParameter(parameter)) { result = resolver; this.argumentResolverCache.put(parameter, result); break; } } } return result;} 5.2„ÄÅËß£ÊûêËøô‰∏™ÂèÇÊï∞ÁöÑÂÄº 1Ë∞ÉÁî®ÂêÑËá™ HandlerMethodArgumentResolver ÁöÑ resolveArgument ÊñπÊ≥ïÂç≥ÂèØ 5.3„ÄÅËá™ÂÆö‰πâÁ±ªÂûãÂèÇÊï∞ Â∞ÅË£ÖPOJO ServletModelAttributeMethodProcessor Ëøô‰∏™ÂèÇÊï∞Â§ÑÁêÜÂô®ÊîØÊåÅ ÊòØÂê¶‰∏∫ÁÆÄÂçïÁ±ªÂûã„ÄÇ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778public static boolean isSimpleValueType(Class&lt;?&gt; type) { return (Void.class != type &amp;&amp; void.class != type &amp;&amp; (ClassUtils.isPrimitiveOrWrapper(type) || Enum.class.isAssignableFrom(type) || CharSequence.class.isAssignableFrom(type) || Number.class.isAssignableFrom(type) || Date.class.isAssignableFrom(type) || Temporal.class.isAssignableFrom(type) || URI.class == type || URL.class == type || Locale.class == type || Class.class == type)); }@Override @Nullable public final Object resolveArgument(MethodParameter parameter, @Nullable ModelAndViewContainer mavContainer, NativeWebRequest webRequest, @Nullable WebDataBinderFactory binderFactory) throws Exception { Assert.state(mavContainer != null, &quot;ModelAttributeMethodProcessor requires ModelAndViewContainer&quot;); Assert.state(binderFactory != null, &quot;ModelAttributeMethodProcessor requires WebDataBinderFactory&quot;); String name = ModelFactory.getNameForParameter(parameter); ModelAttribute ann = parameter.getParameterAnnotation(ModelAttribute.class); if (ann != null) { mavContainer.setBinding(name, ann.binding()); } Object attribute = null; BindingResult bindingResult = null; if (mavContainer.containsAttribute(name)) { attribute = mavContainer.getModel().get(name); } else { // Create attribute instance try { attribute = createAttribute(name, parameter, binderFactory, webRequest); } catch (BindException ex) { if (isBindExceptionRequired(parameter)) { // No BindingResult parameter -&gt; fail with BindException throw ex; } // Otherwise, expose null/empty value and associated BindingResult if (parameter.getParameterType() == Optional.class) { attribute = Optional.empty(); } bindingResult = ex.getBindingResult(); } } if (bindingResult == null) { // Bean property binding and validation; // skipped in case of binding failure on construction. WebDataBinder binder = binderFactory.createBinder(webRequest, attribute, name); if (binder.getTarget() != null) { if (!mavContainer.isBindingDisabled(name)) { bindRequestParameters(binder, webRequest); } validateIfApplicable(binder, parameter); if (binder.getBindingResult().hasErrors() &amp;&amp; isBindExceptionRequired(binder, parameter)) { throw new BindException(binder.getBindingResult()); } } // Value type adaptation, also covering java.util.Optional if (!parameter.getParameterType().isInstance(attribute)) { attribute = binder.convertIfNecessary(binder.getTarget(), parameter.getParameterType(), parameter); } bindingResult = binder.getBindingResult(); } // Add resolved attribute and BindingResult at the end of the model Map&lt;String, Object&gt; bindingResultModel = bindingResult.getModel(); mavContainer.removeAttributes(bindingResultModel); mavContainer.addAllAttributes(bindingResultModel); return attribute; } WebDataBinder binder = binderFactory.createBinder(webRequest, attribute, name); WebDataBinder :webÊï∞ÊçÆÁªëÂÆöÂô®ÔºåÂ∞ÜËØ∑Ê±ÇÂèÇÊï∞ÁöÑÂÄºÁªëÂÆöÂà∞ÊåáÂÆöÁöÑJavaBeanÈáåÈù¢ WebDataBinder Âà©Áî®ÂÆÉÈáåÈù¢ÁöÑ Converters Â∞ÜËØ∑Ê±ÇÊï∞ÊçÆËΩ¨ÊàêÊåáÂÆöÁöÑÊï∞ÊçÆÁ±ªÂûã„ÄÇÂÜçÊ¨°Â∞ÅË£ÖÂà∞JavaBean‰∏≠ GenericConversionServiceÔºöÂú®ËÆæÁΩÆÊØè‰∏Ä‰∏™ÂÄºÁöÑÊó∂ÂÄôÔºåÊâæÂÆÉÈáåÈù¢ÁöÑÊâÄÊúâconverterÈÇ£‰∏™ÂèØ‰ª•Â∞ÜËøô‰∏™Êï∞ÊçÆÁ±ªÂûãÔºàrequestÂ∏¶Êù•ÂèÇÊï∞ÁöÑÂ≠óÁ¨¶‰∏≤ÔºâËΩ¨Êç¢Âà∞ÊåáÂÆöÁöÑÁ±ªÂûãÔºàJavaBean -- IntegerÔºâ byte -- &gt; file @FunctionalInterfacepublic interface Converter&lt;S, T&gt; Êú™Êù•Êàë‰ª¨ÂèØ‰ª•ÁªôWebDataBinderÈáåÈù¢ÊîæËá™Â∑±ÁöÑConverterÔºõ private static final class StringToNumber&lt;T extends Number&gt; implements Converter&lt;String, T&gt; Ëá™ÂÆö‰πâ Converter 1234567891011121314151617181920212223242526272829303132//1„ÄÅWebMvcConfigurerÂÆöÂà∂ÂåñSpringMVCÁöÑÂäüËÉΩ@Beanpublic WebMvcConfigurer webMvcConfigurer(){ return new WebMvcConfigurer() { @Override public void configurePathMatch(PathMatchConfigurer configurer) { UrlPathHelper urlPathHelper = new UrlPathHelper(); // ‰∏çÁßªÈô§ÔºõÂêéÈù¢ÁöÑÂÜÖÂÆπ„ÄÇÁü©ÈòµÂèòÈáèÂäüËÉΩÂ∞±ÂèØ‰ª•ÁîüÊïà urlPathHelper.setRemoveSemicolonContent(false); configurer.setUrlPathHelper(urlPathHelper); } @Override public void addFormatters(FormatterRegistry registry) { registry.addConverter(new Converter&lt;String, Pet&gt;() { @Override public Pet convert(String source) { // ÂïäÁå´,3 if(!StringUtils.isEmpty(source)){ Pet pet = new Pet(); String[] split = source.split(&quot;,&quot;); pet.setName(split[0]); pet.setAge(Integer.parseInt(split[1])); return pet; } return null; } }); } };} 6„ÄÅÁõÆÊ†áÊñπÊ≥ïÊâßË°åÂÆåÊàê Â∞ÜÊâÄÊúâÁöÑÊï∞ÊçÆÈÉΩÊîæÂú® ModelAndViewContainerÔºõÂåÖÂê´Ë¶ÅÂéªÁöÑÈ°µÈù¢Âú∞ÂùÄView„ÄÇËøòÂåÖÂê´ModelÊï∞ÊçÆ„ÄÇ 7„ÄÅÂ§ÑÁêÜÊ¥æÂèëÁªìÊûú processDispatchResult(processedRequest, response, mappedHandler, mv, dispatchException); renderMergedOutputModel(mergedModel, getRequestToExpose(request), response); 1234567891011121314151617181920212223242526272829303132333435363738InternalResourceViewÔºö@Override protected void renderMergedOutputModel( Map&lt;String, Object&gt; model, HttpServletRequest request, HttpServletResponse response) throws Exception { // Expose the model object as request attributes. exposeModelAsRequestAttributes(model, request); // Expose helpers as request attributes, if any. exposeHelpers(request); // Determine the path for the request dispatcher. String dispatcherPath = prepareForRendering(request, response); // Obtain a RequestDispatcher for the target resource (typically a JSP). RequestDispatcher rd = getRequestDispatcher(request, dispatcherPath); if (rd == null) { throw new ServletException(&quot;Could not get RequestDispatcher for [&quot; + getUrl() + &quot;]: Check that the corresponding file exists within your web application archive!&quot;); } // If already included or response already committed, perform include, else forward. if (useInclude(request, response)) { response.setContentType(getContentType()); if (logger.isDebugEnabled()) { logger.debug(&quot;Including [&quot; + getUrl() + &quot;]&quot;); } rd.include(request, response); } else { // Note: The forwarded resource is supposed to determine the content type itself. if (logger.isDebugEnabled()) { logger.debug(&quot;Forwarding to [&quot; + getUrl() + &quot;]&quot;); } rd.forward(request, response); } } 123Êö¥Èú≤Ê®°Âûã‰Ωú‰∏∫ËØ∑Ê±ÇÂüüÂ±ûÊÄß// Expose the model object as request attributes. exposeModelAsRequestAttributes(model, request); 12345678910111213protected void exposeModelAsRequestAttributes(Map&lt;String, Object&gt; model, HttpServletRequest request) throws Exception { //model‰∏≠ÁöÑÊâÄÊúâÊï∞ÊçÆÈÅçÂéÜÊå®‰∏™ÊîæÂú®ËØ∑Ê±ÇÂüü‰∏≠ model.forEach((name, value) -&gt; { if (value != null) { request.setAttribute(name, value); } else { request.removeAttribute(name); } }); } 4„ÄÅÊï∞ÊçÆÂìçÂ∫î‰∏éÂÜÖÂÆπÂçèÂïÜ 1„ÄÅÂìçÂ∫îJSON 1.1„ÄÅjackson.jar+@ResponseBody 1234567891011 &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt; &lt;/dependency&gt;webÂú∫ÊôØËá™Âä®ÂºïÂÖ•‰∫ÜjsonÂú∫ÊôØ &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-json&lt;/artifactId&gt; &lt;version&gt;2.3.4.RELEASE&lt;/version&gt; &lt;scope&gt;compile&lt;/scope&gt; &lt;/dependency&gt; ÁªôÂâçÁ´ØËá™Âä®ËøîÂõûjsonÊï∞ÊçÆÔºõ 1„ÄÅËøîÂõûÂÄºËß£ÊûêÂô® 12345678910111213141516171819202122232425262728try { this.returnValueHandlers.handleReturnValue( returnValue, getReturnValueType(returnValue), mavContainer, webRequest); } @Override public void handleReturnValue(@Nullable Object returnValue, MethodParameter returnType, ModelAndViewContainer mavContainer, NativeWebRequest webRequest) throws Exception { HandlerMethodReturnValueHandler handler = selectHandler(returnValue, returnType); if (handler == null) { throw new IllegalArgumentException(&quot;Unknown return value type: &quot; + returnType.getParameterType().getName()); } handler.handleReturnValue(returnValue, returnType, mavContainer, webRequest); }RequestResponseBodyMethodProcessor @Override public void handleReturnValue(@Nullable Object returnValue, MethodParameter returnType, ModelAndViewContainer mavContainer, NativeWebRequest webRequest) throws IOException, HttpMediaTypeNotAcceptableException, HttpMessageNotWritableException { mavContainer.setRequestHandled(true); ServletServerHttpRequest inputMessage = createInputMessage(webRequest); ServletServerHttpResponse outputMessage = createOutputMessage(webRequest); // Try even with null return value. ResponseBodyAdvice could get involved. // ‰ΩøÁî®Ê∂àÊÅØËΩ¨Êç¢Âô®ËøõË°åÂÜôÂá∫Êìç‰Ωú writeWithMessageConverters(returnValue, returnType, inputMessage, outputMessage); } 2„ÄÅËøîÂõûÂÄºËß£ÊûêÂô®ÂéüÁêÜ 1„ÄÅËøîÂõûÂÄºÂ§ÑÁêÜÂô®Âà§Êñ≠ÊòØÂê¶ÊîØÊåÅËøôÁßçÁ±ªÂûãËøîÂõûÂÄº supportsReturnType 2„ÄÅËøîÂõûÂÄºÂ§ÑÁêÜÂô®Ë∞ÉÁî® handleReturnValue ËøõË°åÂ§ÑÁêÜ 3„ÄÅRequestResponseBodyMethodProcessor ÂèØ‰ª•Â§ÑÁêÜËøîÂõûÂÄºÊ†á‰∫Ü@ResponseBody Ê≥®Ëß£ÁöÑ„ÄÇ \\1. Âà©Áî® MessageConverters ËøõË°åÂ§ÑÁêÜ Â∞ÜÊï∞ÊçÆÂÜô‰∏∫json 1„ÄÅÂÜÖÂÆπÂçèÂïÜÔºàÊµèËßàÂô®ÈªòËÆ§‰ºö‰ª•ËØ∑Ê±ÇÂ§¥ÁöÑÊñπÂºèÂëäËØâÊúçÂä°Âô®‰ªñËÉΩÊé•Âèó‰ªÄ‰πàÊ†∑ÁöÑÂÜÖÂÆπÁ±ªÂûãÔºâ 2„ÄÅÊúçÂä°Âô®ÊúÄÁªàÊ†πÊçÆËá™Â∑±Ëá™Ë∫´ÁöÑËÉΩÂäõÔºåÂÜ≥ÂÆöÊúçÂä°Âô®ËÉΩÁîü‰∫ßÂá∫‰ªÄ‰πàÊ†∑ÂÜÖÂÆπÁ±ªÂûãÁöÑÊï∞ÊçÆÔºå 3„ÄÅSpringMVC‰ºöÊå®‰∏™ÈÅçÂéÜÊâÄÊúâÂÆπÂô®Â∫ïÂ±ÇÁöÑ HttpMessageConverter ÔºåÁúãË∞ÅËÉΩÂ§ÑÁêÜÔºü 1„ÄÅÂæóÂà∞MappingJackson2HttpMessageConverterÂèØ‰ª•Â∞ÜÂØπË±°ÂÜô‰∏∫json 2„ÄÅÂà©Áî®MappingJackson2HttpMessageConverterÂ∞ÜÂØπË±°ËΩ¨‰∏∫jsonÂÜçÂÜôÂá∫Âéª„ÄÇ 1.2„ÄÅSpringMVCÂà∞Â∫ïÊîØÊåÅÂì™‰∫õËøîÂõûÂÄº 123456789101112131415ModelAndViewModelViewResponseEntity ResponseBodyEmitterStreamingResponseBodyHttpEntityHttpHeadersCallableDeferredResultListenableFutureCompletionStageWebAsyncTaskÊúâ @ModelAttribute ‰∏î‰∏∫ÂØπË±°Á±ªÂûãÁöÑ@ResponseBody Ê≥®Ëß£ ---&gt; RequestResponseBodyMethodProcessorÔºõ 1.3„ÄÅHTTPMessageConverterÂéüÁêÜ 1„ÄÅMessageConverterËßÑËåÉ HttpMessageConverter: ÁúãÊòØÂê¶ÊîØÊåÅÂ∞Ü Ê≠§ ClassÁ±ªÂûãÁöÑÂØπË±°ÔºåËΩ¨‰∏∫MediaTypeÁ±ªÂûãÁöÑÊï∞ÊçÆ„ÄÇ ‰æãÂ≠êÔºöPersonÂØπË±°ËΩ¨‰∏∫JSON„ÄÇÊàñËÄÖ JSONËΩ¨‰∏∫Person 2„ÄÅÈªòËÆ§ÁöÑMessageConverter 0 - Âè™ÊîØÊåÅByteÁ±ªÂûãÁöÑ 1 - String 2 - String 3 - Resource 4 - ResourceRegion 5 - DOMSource.*class * SAXSource.class) \\ StAXSource.**class **StreamSource.**class **Source.class 6 - MultiValueMap 7 - true 8 - true 9 - ÊîØÊåÅÊ≥®Ëß£ÊñπÂºèxmlÂ§ÑÁêÜÁöÑ„ÄÇ ÊúÄÁªà MappingJackson2HttpMessageConverter ÊääÂØπË±°ËΩ¨‰∏∫JSONÔºàÂà©Áî®Â∫ïÂ±ÇÁöÑjacksonÁöÑobjectMapperËΩ¨Êç¢ÁöÑÔºâ 2„ÄÅÂÜÖÂÆπÂçèÂïÜ Ê†πÊçÆÂÆ¢Êà∑Á´ØÊé•Êî∂ËÉΩÂäõ‰∏çÂêåÔºåËøîÂõû‰∏çÂêåÂ™í‰ΩìÁ±ªÂûãÁöÑÊï∞ÊçÆ„ÄÇ 1„ÄÅÂºïÂÖ•xml‰æùËµñ 1234 &lt;dependency&gt; &lt;groupId&gt;com.fasterxml.jackson.dataformat&lt;/groupId&gt; &lt;artifactId&gt;jackson-dataformat-xml&lt;/artifactId&gt;&lt;/dependency&gt; 2„ÄÅpostmanÂàÜÂà´ÊµãËØïËøîÂõûjsonÂíåxml Âè™ÈúÄË¶ÅÊîπÂèòËØ∑Ê±ÇÂ§¥‰∏≠AcceptÂ≠óÊÆµ„ÄÇHttpÂçèËÆÆ‰∏≠ËßÑÂÆöÁöÑÔºåÂëäËØâÊúçÂä°Âô®Êú¨ÂÆ¢Êà∑Á´ØÂèØ‰ª•Êé•Êî∂ÁöÑÊï∞ÊçÆÁ±ªÂûã„ÄÇ 3„ÄÅÂºÄÂêØÊµèËßàÂô®ÂèÇÊï∞ÊñπÂºèÂÜÖÂÆπÂçèÂïÜÂäüËÉΩ ‰∏∫‰∫ÜÊñπ‰æøÂÜÖÂÆπÂçèÂïÜÔºåÂºÄÂêØÂü∫‰∫éËØ∑Ê±ÇÂèÇÊï∞ÁöÑÂÜÖÂÆπÂçèÂïÜÂäüËÉΩ„ÄÇ 123spring: contentnegotiation: favor-parameter: true #ÂºÄÂêØËØ∑Ê±ÇÂèÇÊï∞ÂÜÖÂÆπÂçèÂïÜÊ®°Âºè ÂèëËØ∑Ê±ÇÔºö http://localhost:8080/test/person?format=json ‚Äã http://localhost:8080/test/person?format=xml Á°ÆÂÆöÂÆ¢Êà∑Á´ØÊé•Êî∂‰ªÄ‰πàÊ†∑ÁöÑÂÜÖÂÆπÁ±ªÂûãÔºõ 1„ÄÅParameterÁ≠ñÁï•‰ºòÂÖàÁ°ÆÂÆöÊòØË¶ÅËøîÂõûjsonÊï∞ÊçÆÔºàËé∑ÂèñËØ∑Ê±ÇÂ§¥‰∏≠ÁöÑformatÁöÑÂÄºÔºâ 2„ÄÅÊúÄÁªàËøõË°åÂÜÖÂÆπÂçèÂïÜËøîÂõûÁªôÂÆ¢Êà∑Á´ØjsonÂç≥ÂèØ„ÄÇ 4„ÄÅÂÜÖÂÆπÂçèÂïÜÂéüÁêÜ 1„ÄÅÂà§Êñ≠ÂΩìÂâçÂìçÂ∫îÂ§¥‰∏≠ÊòØÂê¶Â∑≤ÁªèÊúâÁ°ÆÂÆöÁöÑÂ™í‰ΩìÁ±ªÂûã„ÄÇMediaType 2„ÄÅËé∑ÂèñÂÆ¢Êà∑Á´ØÔºàPostMan„ÄÅÊµèËßàÂô®ÔºâÊîØÊåÅÊé•Êî∂ÁöÑÂÜÖÂÆπÁ±ªÂûã„ÄÇÔºàËé∑ÂèñÂÆ¢Êà∑Á´ØAcceptËØ∑Ê±ÇÂ§¥Â≠óÊÆµÔºâ„Äêapplication/xml„Äë contentNegotiationManager ÂÜÖÂÆπÂçèÂïÜÁÆ°ÁêÜÂô® ÈªòËÆ§‰ΩøÁî®Âü∫‰∫éËØ∑Ê±ÇÂ§¥ÁöÑÁ≠ñÁï• HeaderContentNegotiationStrategy Á°ÆÂÆöÂÆ¢Êà∑Á´ØÂèØ‰ª•Êé•Êî∂ÁöÑÂÜÖÂÆπÁ±ªÂûã 3„ÄÅÈÅçÂéÜÂæ™ÁéØÊâÄÊúâÂΩìÂâçÁ≥ªÁªüÁöÑ MessageConverterÔºåÁúãË∞ÅÊîØÊåÅÊìç‰ΩúËøô‰∏™ÂØπË±°ÔºàPersonÔºâ 4„ÄÅÊâæÂà∞ÊîØÊåÅÊìç‰ΩúPersonÁöÑconverterÔºåÊääconverterÊîØÊåÅÁöÑÂ™í‰ΩìÁ±ªÂûãÁªüËÆ°Âá∫Êù•„ÄÇ 5„ÄÅÂÆ¢Êà∑Á´ØÈúÄË¶Å„Äêapplication/xml„Äë„ÄÇÊúçÂä°Á´ØËÉΩÂäõ„Äê10Áßç„ÄÅjson„ÄÅxml„Äë 6„ÄÅËøõË°åÂÜÖÂÆπÂçèÂïÜÁöÑÊúÄ‰Ω≥ÂåπÈÖçÂ™í‰ΩìÁ±ªÂûã 7„ÄÅÁî® ÊîØÊåÅ Â∞ÜÂØπË±°ËΩ¨‰∏∫ ÊúÄ‰Ω≥ÂåπÈÖçÂ™í‰ΩìÁ±ªÂûã ÁöÑconverter„ÄÇË∞ÉÁî®ÂÆÉËøõË°åËΩ¨Âåñ „ÄÇ ÂØºÂÖ•‰∫ÜjacksonÂ§ÑÁêÜxmlÁöÑÂåÖÔºåxmlÁöÑconverterÂ∞±‰ºöËá™Âä®ËøõÊù• 12345678910WebMvcConfigurationSupportjackson2XmlPresent = ClassUtils.isPresent(&quot;com.fasterxml.jackson.dataformat.xml.XmlMapper&quot;, classLoader);if (jackson2XmlPresent) { Jackson2ObjectMapperBuilder builder = Jackson2ObjectMapperBuilder.xml(); if (this.applicationContext != null) { builder.applicationContext(this.applicationContext); } messageConverters.add(new MappingJackson2XmlHttpMessageConverter(builder.build())); } 5„ÄÅËá™ÂÆö‰πâ MessageConverter ÂÆûÁé∞Â§öÂçèËÆÆÊï∞ÊçÆÂÖºÂÆπ„ÄÇjson„ÄÅxml„ÄÅx-guigu 0„ÄÅ@ResponseBody ÂìçÂ∫îÊï∞ÊçÆÂá∫Âéª Ë∞ÉÁî® RequestResponseBodyMethodProcessor Â§ÑÁêÜ 1„ÄÅProcessor Â§ÑÁêÜÊñπÊ≥ïËøîÂõûÂÄº„ÄÇÈÄöËøá MessageConverter Â§ÑÁêÜ 2„ÄÅÊâÄÊúâ MessageConverter ÂêàËµ∑Êù•ÂèØ‰ª•ÊîØÊåÅÂêÑÁßçÂ™í‰ΩìÁ±ªÂûãÊï∞ÊçÆÁöÑÊìç‰ΩúÔºàËØª„ÄÅÂÜôÔºâ 3„ÄÅÂÜÖÂÆπÂçèÂïÜÊâæÂà∞ÊúÄÁªàÁöÑ messageConverterÔºõ SpringMVCÁöÑ‰ªÄ‰πàÂäüËÉΩ„ÄÇ‰∏Ä‰∏™ÂÖ•Âè£ÁªôÂÆπÂô®‰∏≠Ê∑ªÂä†‰∏Ä‰∏™ WebMvcConfigurer 12345678910@Bean public WebMvcConfigurer webMvcConfigurer(){ return new WebMvcConfigurer() { @Override public void extendMessageConverters(List&lt;HttpMessageConverter&lt;?&gt;&gt; converters) { } } } ÊúâÂèØËÉΩÊàë‰ª¨Ê∑ªÂä†ÁöÑËá™ÂÆö‰πâÁöÑÂäüËÉΩ‰ºöË¶ÜÁõñÈªòËÆ§ÂæàÂ§öÂäüËÉΩÔºåÂØºËá¥‰∏Ä‰∫õÈªòËÆ§ÁöÑÂäüËÉΩÂ§±Êïà„ÄÇ Â§ßÂÆ∂ËÄÉËôëÔºå‰∏äËø∞ÂäüËÉΩÈô§‰∫ÜÊàë‰ª¨ÂÆåÂÖ®Ëá™ÂÆö‰πâÂ§ñÔºüSpringBootÊúâÊ≤°Êúâ‰∏∫Êàë‰ª¨Êèê‰æõÂü∫‰∫éÈÖçÁΩÆÊñá‰ª∂ÁöÑÂø´ÈÄü‰øÆÊîπÂ™í‰ΩìÁ±ªÂûãÂäüËÉΩÔºüÊÄé‰πàÈÖçÁΩÆÂë¢Ôºü„ÄêÊèêÁ§∫ÔºöÂèÇÁÖßSpringBootÂÆòÊñπÊñáÊ°£webÂºÄÂèëÂÜÖÂÆπÂçèÂïÜÁ´†ËäÇ„Äë 5„ÄÅËßÜÂõæËß£Êûê‰∏éÊ®°ÊùøÂºïÊìé ËßÜÂõæËß£ÊûêÔºöSpringBootÈªòËÆ§‰∏çÊîØÊåÅ JSPÔºåÈúÄË¶ÅÂºïÂÖ•Á¨¨‰∏âÊñπÊ®°ÊùøÂºïÊìéÊäÄÊúØÂÆûÁé∞È°µÈù¢Ê∏≤Êüì„ÄÇ 1„ÄÅËßÜÂõæËß£Êûê 1„ÄÅËßÜÂõæËß£ÊûêÂéüÁêÜÊµÅÁ®ã 1„ÄÅÁõÆÊ†áÊñπÊ≥ïÂ§ÑÁêÜÁöÑËøáÁ®ã‰∏≠ÔºåÊâÄÊúâÊï∞ÊçÆÈÉΩ‰ºöË¢´ÊîæÂú® ModelAndViewContainer ÈáåÈù¢„ÄÇÂåÖÊã¨Êï∞ÊçÆÂíåËßÜÂõæÂú∞ÂùÄ 2„ÄÅÊñπÊ≥ïÁöÑÂèÇÊï∞ÊòØ‰∏Ä‰∏™Ëá™ÂÆö‰πâÁ±ªÂûãÂØπË±°Ôºà‰ªéËØ∑Ê±ÇÂèÇÊï∞‰∏≠Á°ÆÂÆöÁöÑÔºâÔºåÊää‰ªñÈáçÊñ∞ÊîæÂú® ModelAndViewContainer 3„ÄÅ‰ªª‰ΩïÁõÆÊ†áÊñπÊ≥ïÊâßË°åÂÆåÊàê‰ª•ÂêéÈÉΩ‰ºöËøîÂõû ModelAndViewÔºàÊï∞ÊçÆÂíåËßÜÂõæÂú∞ÂùÄÔºâ„ÄÇ **4„ÄÅ**processDispatchResult Â§ÑÁêÜÊ¥æÂèëÁªìÊûúÔºàÈ°µÈù¢ÊîπÂ¶Ç‰ΩïÂìçÂ∫îÔºâ 1„ÄÅrender(mv, request, response); ËøõË°åÈ°µÈù¢Ê∏≤ÊüìÈÄªËæë 1„ÄÅÊ†πÊçÆÊñπÊ≥ïÁöÑStringËøîÂõûÂÄºÂæóÂà∞ View ÂØπË±°„ÄêÂÆö‰πâ‰∫ÜÈ°µÈù¢ÁöÑÊ∏≤ÊüìÈÄªËæë„Äë 1„ÄÅÊâÄÊúâÁöÑËßÜÂõæËß£ÊûêÂô®Â∞ùËØïÊòØÂê¶ËÉΩÊ†πÊçÆÂΩìÂâçËøîÂõûÂÄºÂæóÂà∞ViewÂØπË±° 2„ÄÅÂæóÂà∞‰∫Ü redirect:/main.html --&gt; Thymeleaf new RedirectView() 3„ÄÅContentNegotiationViewResolver ÈáåÈù¢ÂåÖÂê´‰∫Ü‰∏ãÈù¢ÊâÄÊúâÁöÑËßÜÂõæËß£ÊûêÂô®ÔºåÂÜÖÈÉ®ËøòÊòØÂà©Áî®‰∏ãÈù¢ÊâÄÊúâËßÜÂõæËß£ÊûêÂô®ÂæóÂà∞ËßÜÂõæÂØπË±°„ÄÇ 4„ÄÅview.render(mv.getModelInternal(), request, response); ËßÜÂõæÂØπË±°Ë∞ÉÁî®Ëá™ÂÆö‰πâÁöÑrenderËøõË°åÈ°µÈù¢Ê∏≤ÊüìÂ∑•‰Ωú RedirectView Â¶Ç‰ΩïÊ∏≤Êüì„ÄêÈáçÂÆöÂêëÂà∞‰∏Ä‰∏™È°µÈù¢„Äë 1„ÄÅËé∑ÂèñÁõÆÊ†áurlÂú∞ÂùÄ **2„ÄÅ**response.sendRedirect(encodedURL); ËßÜÂõæËß£ÊûêÔºö ËøîÂõûÂÄº‰ª• forward: ÂºÄÂßãÔºö new InternalResourceView(forwardUrl); --&gt; ËΩ¨Âèë****request.getRequestDispatcher(path).forward(request, response); ËøîÂõûÂÄº‰ª• redirect: ÂºÄÂßãÔºö new RedirectView() --„Äã renderÂ∞±ÊòØÈáçÂÆöÂêë ËøîÂõûÂÄºÊòØÊôÆÈÄöÂ≠óÁ¨¶‰∏≤Ôºö new ThymeleafViewÔºàÔºâ---&gt; Ëá™ÂÆö‰πâËßÜÂõæËß£ÊûêÂô®+Ëá™ÂÆö‰πâËßÜÂõæÔºõ Â§ßÂéÇÂ≠¶Èô¢„ÄÇ 2„ÄÅÊ®°ÊùøÂºïÊìé-Thymeleaf 1„ÄÅthymeleafÁÆÄ‰ªã Thymeleaf is a modern server-side Java template engine for both web and standalone environments, capable of processing HTML, XML, JavaScript, CSS and even plain text. Áé∞‰ª£Âåñ„ÄÅÊúçÂä°Á´ØJavaÊ®°ÊùøÂºïÊìé 2„ÄÅÂü∫Êú¨ËØ≠Ê≥ï 1„ÄÅË°®ËææÂºè Ë°®ËææÂºèÂêçÂ≠ó ËØ≠Ê≥ï Áî®ÈÄî ÂèòÈáèÂèñÂÄº $ Ëé∑ÂèñËØ∑Ê±ÇÂüü„ÄÅsessionÂüü„ÄÅÂØπË±°Á≠âÂÄº ÈÄâÊã©ÂèòÈáè * Ëé∑Âèñ‰∏ä‰∏ãÊñáÂØπË±°ÂÄº Ê∂àÊÅØ # Ëé∑ÂèñÂõΩÈôÖÂåñÁ≠âÂÄº ÈìæÊé• @ ÁîüÊàêÈìæÊé• ÁâáÊÆµË°®ËææÂºè ~ jsp:include ‰ΩúÁî®ÔºåÂºïÂÖ•ÂÖ¨ÂÖ±È°µÈù¢ÁâáÊÆµ 2„ÄÅÂ≠óÈù¢Èáè ÊñáÊú¨ÂÄº: 'one text' , 'Another one!' **,‚Ä¶**Êï∞Â≠ó: 0 , 34 , 3.0 , 12.3 **,‚Ä¶**Â∏ÉÂ∞îÂÄº: true , false Á©∫ÂÄº: null ÂèòÈáèÔºö oneÔºåtwoÔºå.... ÂèòÈáè‰∏çËÉΩÊúâÁ©∫Ê†º 3„ÄÅÊñáÊú¨Êìç‰Ωú Â≠óÁ¨¶‰∏≤ÊãºÊé•: + ÂèòÈáèÊõøÊç¢: |The name is ${name}| 4„ÄÅÊï∞Â≠¶ËøêÁÆó ËøêÁÆóÁ¨¶: + , - , * , / , % 5„ÄÅÂ∏ÉÂ∞îËøêÁÆó ËøêÁÆóÁ¨¶: and , or ‰∏ÄÂÖÉËøêÁÆó: ! , not 6„ÄÅÊØîËæÉËøêÁÆó ÊØîËæÉ: &gt; , &lt; , &gt;= , &lt;= ( gt , lt , ge , le **)**Á≠âÂºè: == , != ( eq , ne ) 7„ÄÅÊù°‰ª∂ËøêÁÆó If-then: (if) ? (then) If-then-else: (if) ? (then) : (else) Default: (value) ?: (defaultvalue) 8„ÄÅÁâπÊÆäÊìç‰Ωú Êó†Êìç‰ΩúÔºö _ 3„ÄÅËÆæÁΩÆÂ±ûÊÄßÂÄº-th:attr ËÆæÁΩÆÂçï‰∏™ÂÄº 123456&lt;form action=&quot;subscribe.html&quot; th:attr=&quot;action=@{/subscribe}&quot;&gt; &lt;fieldset&gt; &lt;input type=&quot;text&quot; name=&quot;email&quot; /&gt; &lt;input type=&quot;submit&quot; value=&quot;Subscribe!&quot; th:attr=&quot;value=#{subscribe.submit}&quot;/&gt; &lt;/fieldset&gt;&lt;/form&gt; ËÆæÁΩÆÂ§ö‰∏™ÂÄº 1&lt;img src=&quot;../../images/gtvglogo.png&quot; th:attr=&quot;src=@{/images/gtvglogo.png},title=#{logo},alt=#{logo}&quot; /&gt; ‰ª•‰∏ä‰∏§‰∏™ÁöÑ‰ª£ÊõøÂÜôÊ≥ï th:xxxx 12&lt;input type=&quot;submit&quot; value=&quot;Subscribe!&quot; th:value=&quot;#{subscribe.submit}&quot;/&gt;&lt;form action=&quot;subscribe.html&quot; th:action=&quot;@{/subscribe}&quot;&gt; ÊâÄÊúâh5ÂÖºÂÆπÁöÑÊ†áÁ≠æÂÜôÊ≥ï https://www.thymeleaf.org/doc/tutorials/3.0/usingthymeleaf.html#setting-value-to-specific-attributes 4„ÄÅËø≠‰ª£ 12345&lt;tr th:each=&quot;prod : ${prods}&quot;&gt; &lt;td th:text=&quot;${prod.name}&quot;&gt;Onions&lt;/td&gt; &lt;td th:text=&quot;${prod.price}&quot;&gt;2.41&lt;/td&gt; &lt;td th:text=&quot;${prod.inStock}? #{true} : #{false}&quot;&gt;yes&lt;/td&gt;&lt;/tr&gt; 12345&lt;tr th:each=&quot;prod,iterStat : ${prods}&quot; th:class=&quot;${iterStat.odd}? 'odd'&quot;&gt; &lt;td th:text=&quot;${prod.name}&quot;&gt;Onions&lt;/td&gt; &lt;td th:text=&quot;${prod.price}&quot;&gt;2.41&lt;/td&gt; &lt;td th:text=&quot;${prod.inStock}? #{true} : #{false}&quot;&gt;yes&lt;/td&gt;&lt;/tr&gt; 5„ÄÅÊù°‰ª∂ËøêÁÆó 123&lt;a href=&quot;comments.html&quot;th:href=&quot;@{/product/comments(prodId=${prod.id})}&quot;th:if=&quot;${not #lists.isEmpty(prod.comments)}&quot;&gt;view&lt;/a&gt; 12345&lt;div th:switch=&quot;${user.role}&quot;&gt; &lt;p th:case=&quot;'admin'&quot;&gt;User is an administrator&lt;/p&gt; &lt;p th:case=&quot;#{roles.manager}&quot;&gt;User is a manager&lt;/p&gt; &lt;p th:case=&quot;*&quot;&gt;User is some other thing&lt;/p&gt;&lt;/div&gt; 6„ÄÅÂ±ûÊÄß‰ºòÂÖàÁ∫ß 3„ÄÅthymeleaf‰ΩøÁî® 1„ÄÅÂºïÂÖ•Starter 1234&lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;&lt;/dependency&gt; 2„ÄÅËá™Âä®ÈÖçÁΩÆÂ•Ω‰∫Üthymeleaf 12345@Configuration(proxyBeanMethods = false)@EnableConfigurationProperties(ThymeleafProperties.class)@ConditionalOnClass({ TemplateMode.class, SpringTemplateEngine.class })@AutoConfigureAfter({ WebMvcAutoConfiguration.class, WebFluxAutoConfiguration.class })public class ThymeleafAutoConfiguration { } Ëá™Âä®ÈÖçÂ•ΩÁöÑÁ≠ñÁï• 1„ÄÅÊâÄÊúâthymeleafÁöÑÈÖçÁΩÆÂÄºÈÉΩÂú® ThymeleafProperties 2„ÄÅÈÖçÁΩÆÂ•Ω‰∫Ü SpringTemplateEngine 3„ÄÅÈÖçÂ•Ω‰∫Ü ThymeleafViewResolver 4„ÄÅÊàë‰ª¨Âè™ÈúÄË¶ÅÁõ¥Êé•ÂºÄÂèëÈ°µÈù¢ 123public static final String DEFAULT_PREFIX = &quot;classpath:/templates/&quot;;public static final String DEFAULT_SUFFIX = &quot;.html&quot;; //xxx.html 3„ÄÅÈ°µÈù¢ÂºÄÂèë 1234567891011121314&lt;!DOCTYPE html&gt;&lt;html lang=&quot;en&quot; xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;&lt;head&gt; &lt;meta charset=&quot;UTF-8&quot;&gt; &lt;title&gt;Title&lt;/title&gt;&lt;/head&gt;&lt;body&gt;&lt;h1 th:text=&quot;${msg}&quot;&gt;ÂìàÂìà&lt;/h1&gt;&lt;h2&gt; &lt;a href=&quot;www.atguigu.com&quot; th:href=&quot;${link}&quot;&gt;ÂéªÁôæÂ∫¶&lt;/a&gt; &lt;br/&gt; &lt;a href=&quot;www.atguigu.com&quot; th:href=&quot;@{link}&quot;&gt;ÂéªÁôæÂ∫¶2&lt;/a&gt;&lt;/h2&gt;&lt;/body&gt;&lt;/html&gt; 4„ÄÅÊûÑÂª∫ÂêéÂè∞ÁÆ°ÁêÜÁ≥ªÁªü 1„ÄÅÈ°πÁõÆÂàõÂª∫ thymeleaf„ÄÅweb-starter„ÄÅdevtools„ÄÅlombok 2„ÄÅÈùôÊÄÅËµÑÊ∫êÂ§ÑÁêÜ Ëá™Âä®ÈÖçÁΩÆÂ•ΩÔºåÊàë‰ª¨Âè™ÈúÄË¶ÅÊääÊâÄÊúâÈùôÊÄÅËµÑÊ∫êÊîæÂà∞ static Êñá‰ª∂Â§π‰∏ã 3„ÄÅË∑ØÂæÑÊûÑÂª∫ th:action=&quot;@{/login}&quot; 4„ÄÅÊ®°ÊùøÊäΩÂèñ th:insert/replace/include 5„ÄÅÈ°µÈù¢Ë∑≥ËΩ¨ 123456789101112131415@PostMapping(&quot;/login&quot;)public String main(User user, HttpSession session, Model model){ if(StringUtils.hasLength(user.getUserName()) &amp;&amp; &quot;123456&quot;.equals(user.getPassword())){ //ÊääÁôªÈôÜÊàêÂäüÁöÑÁî®Êà∑‰øùÂ≠òËµ∑Êù• session.setAttribute(&quot;loginUser&quot;,user); //ÁôªÂΩïÊàêÂäüÈáçÂÆöÂêëÂà∞main.html; ÈáçÂÆöÂêëÈò≤Ê≠¢Ë°®ÂçïÈáçÂ§çÊèê‰∫§ return &quot;redirect:/main.html&quot;; }else { model.addAttribute(&quot;msg&quot;,&quot;Ë¥¶Âè∑ÂØÜÁ†ÅÈîôËØØ&quot;); //ÂõûÂà∞ÁôªÂΩïÈ°µÈù¢ return &quot;login&quot;; }} 6„ÄÅÊï∞ÊçÆÊ∏≤Êüì 123456789101112131415161718192021222324252627@GetMapping(&quot;/dynamic_table&quot;)public String dynamic_table(Model model){ //Ë°®Ê†ºÂÜÖÂÆπÁöÑÈÅçÂéÜ List&lt;User&gt; users = Arrays.asList(new User(&quot;zhangsan&quot;, &quot;123456&quot;), new User(&quot;lisi&quot;, &quot;123444&quot;), new User(&quot;haha&quot;, &quot;aaaaa&quot;), new User(&quot;hehe &quot;, &quot;aaddd&quot;)); model.addAttribute(&quot;users&quot;,users); return &quot;table/dynamic_table&quot;;} &lt;table class=&quot;display table table-bordered&quot; id=&quot;hidden-table-info&quot;&gt; &lt;thead&gt; &lt;tr&gt; &lt;th&gt;#&lt;/th&gt; &lt;th&gt;Áî®Êà∑Âêç&lt;/th&gt; &lt;th&gt;ÂØÜÁ†Å&lt;/th&gt; &lt;/tr&gt; &lt;/thead&gt; &lt;tbody&gt; &lt;tr class=&quot;gradeX&quot; th:each=&quot;user,stats:${users}&quot;&gt; &lt;td th:text=&quot;${stats.count}&quot;&gt;Trident&lt;/td&gt; &lt;td th:text=&quot;${user.userName}&quot;&gt;Internet&lt;/td&gt; &lt;td &gt;[[${user.password}]]&lt;/td&gt; &lt;/tr&gt; &lt;/tbody&gt; &lt;/table&gt; 6„ÄÅÊã¶Êà™Âô® 1„ÄÅHandlerInterceptor Êé•Âè£ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465/** * ÁôªÂΩïÊ£ÄÊü• * 1„ÄÅÈÖçÁΩÆÂ•ΩÊã¶Êà™Âô®Ë¶ÅÊã¶Êà™Âì™‰∫õËØ∑Ê±Ç * 2„ÄÅÊääËøô‰∫õÈÖçÁΩÆÊîæÂú®ÂÆπÂô®‰∏≠ */@Slf4jpublic class LoginInterceptor implements HandlerInterceptor { /** * ÁõÆÊ†áÊñπÊ≥ïÊâßË°å‰πãÂâç * @param request * @param response * @param handler * @return * @throws Exception */ @Override public boolean preHandle(HttpServletRequest request, HttpServletResponse response, Object handler) throws Exception { String requestURI = request.getRequestURI(); log.info(&quot;preHandleÊã¶Êà™ÁöÑËØ∑Ê±ÇË∑ØÂæÑÊòØ{}&quot;,requestURI); //ÁôªÂΩïÊ£ÄÊü•ÈÄªËæë HttpSession session = request.getSession(); Object loginUser = session.getAttribute(&quot;loginUser&quot;); if(loginUser != null){ //ÊîæË°å return true; } //Êã¶Êà™‰Ωè„ÄÇÊú™ÁôªÂΩï„ÄÇË∑≥ËΩ¨Âà∞ÁôªÂΩïÈ°µ request.setAttribute(&quot;msg&quot;,&quot;ËØ∑ÂÖàÁôªÂΩï&quot;);// re.sendRedirect(&quot;/&quot;); request.getRequestDispatcher(&quot;/&quot;).forward(request,response); return false; } /** * ÁõÆÊ†áÊñπÊ≥ïÊâßË°åÂÆåÊàê‰ª•Âêé * @param request * @param response * @param handler * @param modelAndView * @throws Exception */ @Override public void postHandle(HttpServletRequest request, HttpServletResponse response, Object handler, ModelAndView modelAndView) throws Exception { log.info(&quot;postHandleÊâßË°å{}&quot;,modelAndView); } /** * È°µÈù¢Ê∏≤Êüì‰ª•Âêé * @param request * @param response * @param handler * @param ex * @throws Exception */ @Override public void afterCompletion(HttpServletRequest request, HttpServletResponse response, Object handler, Exception ex) throws Exception { log.info(&quot;afterCompletionÊâßË°åÂºÇÂ∏∏{}&quot;,ex); }} 2„ÄÅÈÖçÁΩÆÊã¶Êà™Âô® 123456789101112131415/** * 1„ÄÅÁºñÂÜô‰∏Ä‰∏™Êã¶Êà™Âô®ÂÆûÁé∞HandlerInterceptorÊé•Âè£ * 2„ÄÅÊã¶Êà™Âô®Ê≥®ÂÜåÂà∞ÂÆπÂô®‰∏≠ÔºàÂÆûÁé∞WebMvcConfigurerÁöÑaddInterceptorsÔºâ * 3„ÄÅÊåáÂÆöÊã¶Êà™ËßÑÂàô„ÄêÂ¶ÇÊûúÊòØÊã¶Êà™ÊâÄÊúâÔºåÈùôÊÄÅËµÑÊ∫ê‰πü‰ºöË¢´Êã¶Êà™„Äë */@Configurationpublic class AdminWebConfig implements WebMvcConfigurer { @Override public void addInterceptors(InterceptorRegistry registry) { registry.addInterceptor(new LoginInterceptor()) .addPathPatterns(&quot;/**&quot;) //ÊâÄÊúâËØ∑Ê±ÇÈÉΩË¢´Êã¶Êà™ÂåÖÊã¨ÈùôÊÄÅËµÑÊ∫ê .excludePathPatterns(&quot;/&quot;,&quot;/login&quot;,&quot;/css/**&quot;,&quot;/fonts/**&quot;,&quot;/images/**&quot;,&quot;/js/**&quot;); //ÊîæË°åÁöÑËØ∑Ê±Ç }} 3„ÄÅÊã¶Êà™Âô®ÂéüÁêÜ 1„ÄÅÊ†πÊçÆÂΩìÂâçËØ∑Ê±ÇÔºåÊâæÂà∞**HandlerExecutionChain„Äê**ÂèØ‰ª•Â§ÑÁêÜËØ∑Ê±ÇÁöÑhandler‰ª•ÂèähandlerÁöÑÊâÄÊúâ Êã¶Êà™Âô®„Äë 2„ÄÅÂÖàÊù•È°∫Â∫èÊâßË°å ÊâÄÊúâÊã¶Êà™Âô®ÁöÑ preHandleÊñπÊ≥ï 1„ÄÅÂ¶ÇÊûúÂΩìÂâçÊã¶Êà™Âô®prehandlerËøîÂõû‰∏∫true„ÄÇÂàôÊâßË°å‰∏ã‰∏Ä‰∏™Êã¶Êà™Âô®ÁöÑpreHandle 2„ÄÅÂ¶ÇÊûúÂΩìÂâçÊã¶Êà™Âô®ËøîÂõû‰∏∫false„ÄÇÁõ¥Êé• ÂÄíÂ∫èÊâßË°åÊâÄÊúâÂ∑≤ÁªèÊâßË°å‰∫ÜÁöÑÊã¶Êà™Âô®ÁöÑ afterCompletionÔºõ 3„ÄÅÂ¶ÇÊûú‰ªª‰Ωï‰∏Ä‰∏™Êã¶Êà™Âô®ËøîÂõûfalse„ÄÇÁõ¥Êé•Ë∑≥Âá∫‰∏çÊâßË°åÁõÆÊ†áÊñπÊ≥ï 4„ÄÅÊâÄÊúâÊã¶Êà™Âô®ÈÉΩËøîÂõûTrue„ÄÇÊâßË°åÁõÆÊ†áÊñπÊ≥ï 5„ÄÅÂÄíÂ∫èÊâßË°åÊâÄÊúâÊã¶Êà™Âô®ÁöÑpostHandleÊñπÊ≥ï„ÄÇ 6„ÄÅÂâçÈù¢ÁöÑÊ≠•È™§Êúâ‰ªª‰ΩïÂºÇÂ∏∏ÈÉΩ‰ºöÁõ¥Êé•ÂÄíÂ∫èËß¶Âèë afterCompletion 7„ÄÅÈ°µÈù¢ÊàêÂäüÊ∏≤ÊüìÂÆåÊàê‰ª•ÂêéÔºå‰πü‰ºöÂÄíÂ∫èËß¶Âèë afterCompletion 7„ÄÅÊñá‰ª∂‰∏ä‰º† 1„ÄÅÈ°µÈù¢Ë°®Âçï 1234&lt;form method=&quot;post&quot; action=&quot;/upload&quot; enctype=&quot;multipart/form-data&quot;&gt; &lt;input type=&quot;file&quot; name=&quot;file&quot;&gt;&lt;br&gt; &lt;input type=&quot;submit&quot; value=&quot;Êèê‰∫§&quot;&gt;&lt;/form&gt; 2„ÄÅÊñá‰ª∂‰∏ä‰º†‰ª£Á†Å 1234567891011121314151617181920212223242526272829303132333435/** * MultipartFile Ëá™Âä®Â∞ÅË£Ö‰∏ä‰º†ËøáÊù•ÁöÑÊñá‰ª∂ * @param email * @param username * @param headerImg * @param photos * @return */@PostMapping(&quot;/upload&quot;)public String upload(@RequestParam(&quot;email&quot;) String email, @RequestParam(&quot;username&quot;) String username, @RequestPart(&quot;headerImg&quot;) MultipartFile headerImg, @RequestPart(&quot;photos&quot;) MultipartFile[] photos) throws IOException { log.info(&quot;‰∏ä‰º†ÁöÑ‰ø°ÊÅØÔºöemail={}Ôºåusername={}ÔºåheaderImg={}Ôºåphotos={}&quot;, email,username,headerImg.getSize(),photos.length); if(!headerImg.isEmpty()){ //‰øùÂ≠òÂà∞Êñá‰ª∂ÊúçÂä°Âô®ÔºåOSSÊúçÂä°Âô® String originalFilename = headerImg.getOriginalFilename(); headerImg.transferTo(new File(&quot;H:\\\\cache\\\\&quot;+originalFilename)); } if(photos.length &gt; 0){ for (MultipartFile photo : photos) { if(!photo.isEmpty()){ String originalFilename = photo.getOriginalFilename(); photo.transferTo(new File(&quot;H:\\\\cache\\\\&quot;+originalFilename)); } } } return &quot;main&quot;;} 3„ÄÅËá™Âä®ÈÖçÁΩÆÂéüÁêÜ **Êñá‰ª∂‰∏ä‰º†Ëá™Âä®ÈÖçÁΩÆÁ±ª-MultipartAutoConfiguration-**MultipartProperties Ëá™Âä®ÈÖçÁΩÆÂ•Ω‰∫Ü StandardServletMultipartResolver „ÄêÊñá‰ª∂‰∏ä‰º†Ëß£ÊûêÂô®„Äë ÂéüÁêÜÊ≠•È™§ 1„ÄÅËØ∑Ê±ÇËøõÊù•‰ΩøÁî®Êñá‰ª∂‰∏ä‰º†Ëß£ÊûêÂô®Âà§Êñ≠ÔºàisMultipartÔºâÂπ∂Â∞ÅË£ÖÔºàresolveMultipartÔºåËøîÂõûMultipartHttpServletRequestÔºâÊñá‰ª∂‰∏ä‰º†ËØ∑Ê±Ç 2„ÄÅÂèÇÊï∞Ëß£ÊûêÂô®Êù•Ëß£ÊûêËØ∑Ê±Ç‰∏≠ÁöÑÊñá‰ª∂ÂÜÖÂÆπÂ∞ÅË£ÖÊàêMultipartFile **3„ÄÅÂ∞Ürequest‰∏≠Êñá‰ª∂‰ø°ÊÅØÂ∞ÅË£Ö‰∏∫‰∏Ä‰∏™MapÔºõ**MultiValueMap&lt;String, MultipartFile&gt; FileCopyUtils„ÄÇÂÆûÁé∞Êñá‰ª∂ÊµÅÁöÑÊã∑Ë¥ù 12345@PostMapping(&quot;/upload&quot;)public String upload(@RequestParam(&quot;email&quot;) String email, @RequestParam(&quot;username&quot;) String username, @RequestPart(&quot;headerImg&quot;) MultipartFile headerImg, @RequestPart(&quot;photos&quot;) MultipartFile[] photos) 8„ÄÅÂºÇÂ∏∏Â§ÑÁêÜ 1„ÄÅÈîôËØØÂ§ÑÁêÜ 1„ÄÅÈªòËÆ§ËßÑÂàô ÈªòËÆ§ÊÉÖÂÜµ‰∏ãÔºåSpring BootÊèê‰æõ/errorÂ§ÑÁêÜÊâÄÊúâÈîôËØØÁöÑÊò†Â∞Ñ ÂØπ‰∫éÊú∫Âô®ÂÆ¢Êà∑Á´ØÔºåÂÆÉÂ∞ÜÁîüÊàêJSONÂìçÂ∫îÔºåÂÖ∂‰∏≠ÂåÖÂê´ÈîôËØØÔºåHTTPÁä∂ÊÄÅÂíåÂºÇÂ∏∏Ê∂àÊÅØÁöÑËØ¶ÁªÜ‰ø°ÊÅØ„ÄÇÂØπ‰∫éÊµèËßàÂô®ÂÆ¢Êà∑Á´ØÔºåÂìçÂ∫î‰∏Ä‰∏™‚Äú whitelabel‚ÄùÈîôËØØËßÜÂõæÔºå‰ª•HTMLÊ†ºÂºèÂëàÁé∞Áõ∏ÂêåÁöÑÊï∞ÊçÆ„ÄÇ Êú∫Âô®ÂÆ¢Êà∑Á´ØÔºàPostManÔºâ ÊµèËßàÂô®ÂÆ¢Êà∑Á´Ø Ë¶ÅÂØπÂÖ∂ËøõË°åËá™ÂÆö‰πâÔºåÊ∑ªÂä†ViewËß£Êûê‰∏∫error Ë¶ÅÂÆåÂÖ®ÊõøÊç¢ÈªòËÆ§Ë°å‰∏∫ÔºåÂèØ‰ª•ÂÆûÁé∞ ErrorController Âπ∂Ê≥®ÂÜåËØ•Á±ªÂûãÁöÑBeanÂÆö‰πâÔºåÊàñÊ∑ªÂä†ErrorAttributesÁ±ªÂûãÁöÑÁªÑ‰ª∂‰ª•‰ΩøÁî®Áé∞ÊúâÊú∫Âà∂‰ΩÜÊõøÊç¢ÂÖ∂ÂÜÖÂÆπ„ÄÇ error/‰∏ãÁöÑ4xxÔºå5xxÈ°µÈù¢‰ºöË¢´Ëá™Âä®Ëß£ÊûêÔºõ 2„ÄÅÂÆöÂà∂ÈîôËØØÂ§ÑÁêÜÈÄªËæë Ëá™ÂÆö‰πâÈîôËØØÈ°µ error/404.html error/5xx.htmlÔºõÊúâÁ≤æÁ°ÆÁöÑÈîôËØØÁä∂ÊÄÅÁ†ÅÈ°µÈù¢Â∞±ÂåπÈÖçÁ≤æÁ°ÆÔºåÊ≤°ÊúâÂ∞±Êâæ 4xx.htmlÔºõÂ¶ÇÊûúÈÉΩÊ≤°ÊúâÂ∞±Ëß¶ÂèëÁôΩÈ°µ @ControllerAdvice+@ExceptionHandlerÂ§ÑÁêÜÂÖ®Â±ÄÂºÇÂ∏∏ÔºõÂ∫ïÂ±ÇÊòØ ExceptionHandlerExceptionResolver ÊîØÊåÅÁöÑ @ResponseStatus+Ëá™ÂÆö‰πâÂºÇÂ∏∏ ÔºõÂ∫ïÂ±ÇÊòØ ResponseStatusExceptionResolver ÔºåÊääresponsestatusÊ≥®Ëß£ÁöÑ‰ø°ÊÅØÂ∫ïÂ±ÇË∞ÉÁî® response.sendError(statusCode, resolvedReason)ÔºõtomcatÂèëÈÄÅÁöÑ/error SpringÂ∫ïÂ±ÇÁöÑÂºÇÂ∏∏ÔºåÂ¶Ç ÂèÇÊï∞Á±ªÂûãËΩ¨Êç¢ÂºÇÂ∏∏ÔºõDefaultHandlerExceptionResolver Â§ÑÁêÜÊ°ÜÊû∂Â∫ïÂ±ÇÁöÑÂºÇÂ∏∏„ÄÇ response.sendError(HttpServletResponse.SC_BAD_REQUEST, ex.getMessage()); Ëá™ÂÆö‰πâÂÆûÁé∞ HandlerExceptionResolver Â§ÑÁêÜÂºÇÂ∏∏ÔºõÂèØ‰ª•‰Ωú‰∏∫ÈªòËÆ§ÁöÑÂÖ®Â±ÄÂºÇÂ∏∏Â§ÑÁêÜËßÑÂàô ErrorViewResolver ÂÆûÁé∞Ëá™ÂÆö‰πâÂ§ÑÁêÜÂºÇÂ∏∏Ôºõ response.sendError „ÄÇerrorËØ∑Ê±ÇÂ∞±‰ºöËΩ¨Áªôcontroller ‰Ω†ÁöÑÂºÇÂ∏∏Ê≤°Êúâ‰ªª‰Ωï‰∫∫ËÉΩÂ§ÑÁêÜ„ÄÇtomcatÂ∫ïÂ±Ç response.sendError„ÄÇerrorËØ∑Ê±ÇÂ∞±‰ºöËΩ¨Áªôcontroller basicErrorController Ë¶ÅÂéªÁöÑÈ°µÈù¢Âú∞ÂùÄÊòØ ErrorViewResolver Ôºõ 3„ÄÅÂºÇÂ∏∏Â§ÑÁêÜËá™Âä®ÈÖçÁΩÆÂéüÁêÜ ErrorMvcAutoConfiguration Ëá™Âä®ÈÖçÁΩÆÂºÇÂ∏∏Â§ÑÁêÜËßÑÂàô ÂÆπÂô®‰∏≠ÁöÑÁªÑ‰ª∂1ÔºöÁ±ªÂûãÔºöDefaultErrorAttributes -&gt; idÔºöerrorAttributes public class DefaultErrorAttributes implements ErrorAttributes, HandlerExceptionResolver DefaultErrorAttributesÔºöÂÆö‰πâÈîôËØØÈ°µÈù¢‰∏≠ÂèØ‰ª•ÂåÖÂê´Âì™‰∫õÊï∞ÊçÆ„ÄÇ **ÂÆπÂô®‰∏≠ÁöÑÁªÑ‰ª∂2ÔºöÁ±ªÂûãÔºö**BasicErrorController --&gt; idÔºöbasicErrorControllerÔºàjson+ÁôΩÈ°µ ÈÄÇÈÖçÂìçÂ∫îÔºâ Â§ÑÁêÜÈªòËÆ§ /error Ë∑ØÂæÑÁöÑËØ∑Ê±ÇÔºõÈ°µÈù¢ÂìçÂ∫î new ModelAndView(&quot;error&quot;, model)Ôºõ ÂÆπÂô®‰∏≠ÊúâÁªÑ‰ª∂ View-&gt;idÊòØerrorÔºõÔºàÂìçÂ∫îÈªòËÆ§ÈîôËØØÈ°µÔºâ ÂÆπÂô®‰∏≠ÊîæÁªÑ‰ª∂ BeanNameViewResolverÔºàËßÜÂõæËß£ÊûêÂô®ÔºâÔºõÊåâÁÖßËøîÂõûÁöÑËßÜÂõæÂêç‰Ωú‰∏∫ÁªÑ‰ª∂ÁöÑidÂéªÂÆπÂô®‰∏≠ÊâæViewÂØπË±°„ÄÇ **ÂÆπÂô®‰∏≠ÁöÑÁªÑ‰ª∂3Ôºö**Á±ªÂûãÔºö**DefaultErrorViewResolver -&gt; idÔºö**conventionErrorViewResolver Â¶ÇÊûúÂèëÁîüÈîôËØØÔºå‰ºö‰ª•HTTPÁöÑÁä∂ÊÄÅÁ†Å ‰Ωú‰∏∫ËßÜÂõæÈ°µÂú∞ÂùÄÔºàviewNameÔºâÔºåÊâæÂà∞ÁúüÊ≠£ÁöÑÈ°µÈù¢ error/404„ÄÅ5xx.html Â¶ÇÊûúÊÉ≥Ë¶ÅËøîÂõûÈ°µÈù¢ÔºõÂ∞±‰ºöÊâæerrorËßÜÂõæ„ÄêStaticView„Äë„ÄÇ(ÈªòËÆ§ÊòØ‰∏Ä‰∏™ÁôΩÈ°µ) ÂÜôÂá∫Âéªjson ÈîôËØØÈ°µ 4„ÄÅÂºÇÂ∏∏Â§ÑÁêÜÊ≠•È™§ÊµÅÁ®ã 1„ÄÅÊâßË°åÁõÆÊ†áÊñπÊ≥ïÔºåÁõÆÊ†áÊñπÊ≥ïËøêË°åÊúüÈó¥Êúâ‰ªª‰ΩïÂºÇÂ∏∏ÈÉΩ‰ºöË¢´catch„ÄÅËÄå‰∏îÊ†áÂøóÂΩìÂâçËØ∑Ê±ÇÁªìÊùüÔºõÂπ∂‰∏îÁî® dispatchException 2„ÄÅËøõÂÖ•ËßÜÂõæËß£ÊûêÊµÅÁ®ãÔºàÈ°µÈù¢Ê∏≤ÊüìÔºüÔºâ processDispatchResult(processedRequest, response, mappedHandler, mv, dispatchException); 3„ÄÅmv = processHandlerExceptionÔºõÂ§ÑÁêÜhandlerÂèëÁîüÁöÑÂºÇÂ∏∏ÔºåÂ§ÑÁêÜÂÆåÊàêËøîÂõûModelAndViewÔºõ 1„ÄÅÈÅçÂéÜÊâÄÊúâÁöÑ handlerExceptionResolversÔºåÁúãË∞ÅËÉΩÂ§ÑÁêÜÂΩìÂâçÂºÇÂ∏∏„ÄêHandlerExceptionResolverÂ§ÑÁêÜÂô®ÂºÇÂ∏∏Ëß£ÊûêÂô®„Äë 2„ÄÅÁ≥ªÁªüÈªòËÆ§ÁöÑ ÂºÇÂ∏∏Ëß£ÊûêÂô®Ôºõ 1„ÄÅDefaultErrorAttributesÂÖàÊù•Â§ÑÁêÜÂºÇÂ∏∏„ÄÇÊääÂºÇÂ∏∏‰ø°ÊÅØ‰øùÂ≠òÂà∞rrequestÂüüÔºåÂπ∂‰∏îËøîÂõûnullÔºõ 2„ÄÅÈªòËÆ§Ê≤°Êúâ‰ªª‰Ωï‰∫∫ËÉΩÂ§ÑÁêÜÂºÇÂ∏∏ÔºåÊâÄ‰ª•ÂºÇÂ∏∏‰ºöË¢´ÊäõÂá∫ 1„ÄÅÂ¶ÇÊûúÊ≤°Êúâ‰ªª‰Ωï‰∫∫ËÉΩÂ§ÑÁêÜÊúÄÁªàÂ∫ïÂ±ÇÂ∞±‰ºöÂèëÈÄÅ /error ËØ∑Ê±Ç„ÄÇ‰ºöË¢´Â∫ïÂ±ÇÁöÑBasicErrorControllerÂ§ÑÁêÜ 2„ÄÅËß£ÊûêÈîôËØØËßÜÂõæÔºõÈÅçÂéÜÊâÄÊúâÁöÑ ErrorViewResolver ÁúãË∞ÅËÉΩËß£Êûê„ÄÇ 3„ÄÅÈªòËÆ§ÁöÑ DefaultErrorViewResolver ,‰ΩúÁî®ÊòØÊääÂìçÂ∫îÁä∂ÊÄÅÁ†Å‰Ωú‰∏∫ÈîôËØØÈ°µÁöÑÂú∞ÂùÄÔºåerror/500.html 4„ÄÅÊ®°ÊùøÂºïÊìéÊúÄÁªàÂìçÂ∫îËøô‰∏™È°µÈù¢ error/500.html 9„ÄÅWebÂéüÁîüÁªÑ‰ª∂Ê≥®ÂÖ•ÔºàServlet„ÄÅFilter„ÄÅListenerÔºâ 1„ÄÅ‰ΩøÁî®Servlet API @ServletComponentScan(basePackages = &quot;com.atguigu.admin&quot;) :ÊåáÂÆöÂéüÁîüServletÁªÑ‰ª∂ÈÉΩÊîæÂú®ÈÇ£Èáå @WebServlet(urlPatterns = &quot;/my&quot;)ÔºöÊïàÊûúÔºöÁõ¥Êé•ÂìçÂ∫îÔºåÊ≤°ÊúâÁªèËøáSpringÁöÑÊã¶Êà™Âô®Ôºü @WebFilter(urlPatterns={&quot;/css/*&quot;,&quot;/images/*&quot;}) @WebListener Êé®ËçêÂèØ‰ª•ËøôÁßçÊñπÂºèÔºõ Êâ©Â±ïÔºöDispatchServlet Â¶Ç‰ΩïÊ≥®ÂÜåËøõÊù• ÂÆπÂô®‰∏≠Ëá™Âä®ÈÖçÁΩÆ‰∫Ü DispatcherServlet Â±ûÊÄßÁªëÂÆöÂà∞ WebMvcPropertiesÔºõÂØπÂ∫îÁöÑÈÖçÁΩÆÊñá‰ª∂ÈÖçÁΩÆÈ°πÊòØ spring.mvc„ÄÇ ÈÄöËøá ServletRegistrationBean Êää DispatcherServlet ÈÖçÁΩÆËøõÊù•„ÄÇ ÈªòËÆ§Êò†Â∞ÑÁöÑÊòØ / Ë∑ØÂæÑ„ÄÇ Tomcat-ServletÔºõ Â§ö‰∏™ServletÈÉΩËÉΩÂ§ÑÁêÜÂà∞Âêå‰∏ÄÂ±ÇË∑ØÂæÑÔºåÁ≤æÁ°Æ‰ºòÈÄâÂéüÂàô AÔºö /my/ BÔºö /my/1 2„ÄÅ‰ΩøÁî®RegistrationBean 12345678910111213141516171819202122232425262728ServletRegistrationBean`, `FilterRegistrationBean`, and `ServletListenerRegistrationBean@Configurationpublic class MyRegistConfig { @Bean public ServletRegistrationBean myServlet(){ MyServlet myServlet = new MyServlet(); return new ServletRegistrationBean(myServlet,&quot;/my&quot;,&quot;/my02&quot;); } @Bean public FilterRegistrationBean myFilter(){ MyFilter myFilter = new MyFilter();// return new FilterRegistrationBean(myFilter,myServlet()); FilterRegistrationBean filterRegistrationBean = new FilterRegistrationBean(myFilter); filterRegistrationBean.setUrlPatterns(Arrays.asList(&quot;/my&quot;,&quot;/css/*&quot;)); return filterRegistrationBean; } @Bean public ServletListenerRegistrationBean myListener(){ MySwervletContextListener mySwervletContextListener = new MySwervletContextListener(); return new ServletListenerRegistrationBean(mySwervletContextListener); }} 10„ÄÅÂµåÂÖ•ÂºèServletÂÆπÂô® 1„ÄÅÂàáÊç¢ÂµåÂÖ•ÂºèServletÂÆπÂô® ÈªòËÆ§ÊîØÊåÅÁöÑwebServer Tomcat, Jetty, or Undertow ServletWebServerApplicationContext ÂÆπÂô®ÂêØÂä®ÂØªÊâæServletWebServerFactory Âπ∂ÂºïÂØºÂàõÂª∫ÊúçÂä°Âô® ÂàáÊç¢ÊúçÂä°Âô® 12345678910&lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt; &lt;exclusions&gt; &lt;exclusion&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt; &lt;/exclusion&gt; &lt;/exclusions&gt;&lt;/dependency&gt; ÂéüÁêÜ SpringBootÂ∫îÁî®ÂêØÂä®ÂèëÁé∞ÂΩìÂâçÊòØWebÂ∫îÁî®„ÄÇwebÂú∫ÊôØÂåÖ-ÂØºÂÖ•tomcat webÂ∫îÁî®‰ºöÂàõÂª∫‰∏Ä‰∏™webÁâàÁöÑiocÂÆπÂô® ServletWebServerApplicationContext ServletWebServerApplicationContext ÂêØÂä®ÁöÑÊó∂ÂÄôÂØªÊâæ **ServletWebServerFactory**``ÔºàServlet ÁöÑwebÊúçÂä°Âô®Â∑•ÂéÇ---&gt; Servlet ÁöÑwebÊúçÂä°Âô®Ôºâ SpringBootÂ∫ïÂ±ÇÈªòËÆ§ÊúâÂæàÂ§öÁöÑWebServerÂ∑•ÂéÇÔºõTomcatServletWebServerFactory, JettyServletWebServerFactory, or UndertowServletWebServerFactory Â∫ïÂ±ÇÁõ¥Êé•‰ºöÊúâ‰∏Ä‰∏™Ëá™Âä®ÈÖçÁΩÆÁ±ª„ÄÇServletWebServerFactoryAutoConfiguration ServletWebServerFactoryAutoConfigurationÂØºÂÖ•‰∫ÜServletWebServerFactoryConfigurationÔºàÈÖçÁΩÆÁ±ªÔºâ ServletWebServerFactoryConfiguration ÈÖçÁΩÆÁ±ª Ê†πÊçÆÂä®ÊÄÅÂà§Êñ≠Á≥ªÁªü‰∏≠Âà∞Â∫ïÂØºÂÖ•‰∫ÜÈÇ£‰∏™WebÊúçÂä°Âô®ÁöÑÂåÖ„ÄÇÔºàÈªòËÆ§ÊòØweb-starterÂØºÂÖ•tomcatÂåÖÔºâÔºåÂÆπÂô®‰∏≠Â∞±Êúâ TomcatServletWebServerFactory TomcatServletWebServerFactory ÂàõÂª∫Âá∫TomcatÊúçÂä°Âô®Âπ∂ÂêØÂä®ÔºõTomcatWebServer ÁöÑÊûÑÈÄ†Âô®Êã•ÊúâÂàùÂßãÂåñÊñπÊ≥ïinitialize---this.tomcat.start(); ÂÜÖÂµåÊúçÂä°Âô®ÔºåÂ∞±ÊòØÊâãÂä®ÊääÂêØÂä®ÊúçÂä°Âô®ÁöÑ‰ª£Á†ÅË∞ÉÁî®ÔºàtomcatÊ†∏ÂøÉjarÂåÖÂ≠òÂú®Ôºâ `` 2„ÄÅÂÆöÂà∂ServletÂÆπÂô® ÂÆûÁé∞ WebServerFactoryCustomizer ÊääÈÖçÁΩÆÊñá‰ª∂ÁöÑÂÄºÂíå**ServletWebServerFactory ËøõË°åÁªëÂÆö** ‰øÆÊîπÈÖçÁΩÆÊñá‰ª∂ server.xxx Áõ¥Êé•Ëá™ÂÆö‰πâ ConfigurableServletWebServerFactory xxxxxCustomizerÔºöÂÆöÂà∂ÂåñÂô®ÔºåÂèØ‰ª•ÊîπÂèòxxxxÁöÑÈªòËÆ§ËßÑÂàô 12345678910111213import org.springframework.boot.web.server.WebServerFactoryCustomizer;import org.springframework.boot.web.servlet.server.ConfigurableServletWebServerFactory;import org.springframework.stereotype.Component;@Componentpublic class CustomizationBean implements WebServerFactoryCustomizer&lt;ConfigurableServletWebServerFactory&gt; { @Override public void customize(ConfigurableServletWebServerFactory server) { server.setPort(9000); }} 11„ÄÅÂÆöÂà∂ÂåñÂéüÁêÜ 1„ÄÅÂÆöÂà∂ÂåñÁöÑÂ∏∏ËßÅÊñπÂºè ‰øÆÊîπÈÖçÁΩÆÊñá‰ª∂Ôºõ xxxxxCustomizerÔºõ ÁºñÂÜôËá™ÂÆö‰πâÁöÑÈÖçÁΩÆÁ±ª xxxConfigurationÔºõ+ @BeanÊõøÊç¢„ÄÅÂ¢ûÂä†ÂÆπÂô®‰∏≠ÈªòËÆ§ÁªÑ‰ª∂ÔºõËßÜÂõæËß£ÊûêÂô® WebÂ∫îÁî® ÁºñÂÜô‰∏Ä‰∏™ÈÖçÁΩÆÁ±ªÂÆûÁé∞ WebMvcConfigurer Âç≥ÂèØÂÆöÂà∂ÂåñwebÂäüËÉΩÔºõ+ @BeanÁªôÂÆπÂô®‰∏≠ÂÜçÊâ©Â±ï‰∏Ä‰∫õÁªÑ‰ª∂ 12@Configurationpublic class AdminWebConfig implements WebMvcConfigurer @EnableWebMvc + WebMvcConfigurer ‚Äî‚Äî @Bean ÂèØ‰ª•ÂÖ®Èù¢Êé•ÁÆ°SpringMVCÔºåÊâÄÊúâËßÑÂàôÂÖ®ÈÉ®Ëá™Â∑±ÈáçÊñ∞ÈÖçÁΩÆÔºõ ÂÆûÁé∞ÂÆöÂà∂ÂíåÊâ©Â±ïÂäüËÉΩ ÂéüÁêÜ 1„ÄÅWebMvcAutoConfiguration ÈªòËÆ§ÁöÑSpringMVCÁöÑËá™Âä®ÈÖçÁΩÆÂäüËÉΩÁ±ª„ÄÇÈùôÊÄÅËµÑÊ∫ê„ÄÅÊ¨¢ËøéÈ°µ..... 2„ÄÅ‰∏ÄÊó¶‰ΩøÁî® @EnableWebMvc „ÄÅ„ÄÇ‰ºö @Import(DelegatingWebMvcConfiguration.class) 3„ÄÅDelegatingWebMvcConfiguration ÁöÑ ‰ΩúÁî®ÔºåÂè™‰øùËØÅSpringMVCÊúÄÂü∫Êú¨ÁöÑ‰ΩøÁî® ÊääÊâÄÊúâÁ≥ªÁªü‰∏≠ÁöÑ WebMvcConfigurer ÊãøËøáÊù•„ÄÇÊâÄÊúâÂäüËÉΩÁöÑÂÆöÂà∂ÈÉΩÊòØËøô‰∫õ WebMvcConfigurer ÂêàËµ∑Êù•‰∏ÄËµ∑ÁîüÊïà Ëá™Âä®ÈÖçÁΩÆ‰∫Ü‰∏Ä‰∫õÈùûÂ∏∏Â∫ïÂ±ÇÁöÑÁªÑ‰ª∂„ÄÇRequestMappingHandlerMapping„ÄÅËøô‰∫õÁªÑ‰ª∂‰æùËµñÁöÑÁªÑ‰ª∂ÈÉΩÊòØ‰ªéÂÆπÂô®‰∏≠Ëé∑Âèñ public class DelegatingWebMvcConfiguration extends WebMvcConfigurationSupport 4„ÄÅWebMvcAutoConfiguration ÈáåÈù¢ÁöÑÈÖçÁΩÆË¶ÅËÉΩÁîüÊïà ÂøÖÈ°ª @ConditionalOnMissingBean(WebMvcConfigurationSupport.class) 5„ÄÅ@EnableWebMvc ÂØºËá¥‰∫Ü WebMvcAutoConfiguration Ê≤°ÊúâÁîüÊïà„ÄÇ ... ... 2„ÄÅÂéüÁêÜÂàÜÊûêÂ•óË∑Ø Âú∫ÊôØstarter - xxxxAutoConfiguration - ÂØºÂÖ•xxxÁªÑ‰ª∂ - ÁªëÂÆöxxxProperties -- ÁªëÂÆöÈÖçÁΩÆÊñá‰ª∂È°π 3.Êï∞ÊçÆËÆøÈóÆ 1„ÄÅSQL 1„ÄÅÊï∞ÊçÆÊ∫êÁöÑËá™Âä®ÈÖçÁΩÆ-HikariDataSource 1„ÄÅÂØºÂÖ•JDBCÂú∫ÊôØ 12345&lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-data-jdbc&lt;/artifactId&gt;&lt;/dependency&gt; Êï∞ÊçÆÂ∫ìÈ©±Âä®Ôºü ‰∏∫‰ªÄ‰πàÂØºÂÖ•JDBCÂú∫ÊôØÔºåÂÆòÊñπ‰∏çÂØºÂÖ•È©±Âä®ÔºüÂÆòÊñπ‰∏çÁü•ÈÅìÊàë‰ª¨Êé•‰∏ãË¶ÅÊìç‰Ωú‰ªÄ‰πàÊï∞ÊçÆÂ∫ì„ÄÇ Êï∞ÊçÆÂ∫ìÁâàÊú¨ÂíåÈ©±Âä®ÁâàÊú¨ÂØπÂ∫î 1234567891011121314ÈªòËÆ§ÁâàÊú¨Ôºö&lt;mysql.version&gt;8.0.22&lt;/mysql.version&gt; &lt;dependency&gt; &lt;groupId&gt;mysql&lt;/groupId&gt; &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;&lt;!-- &lt;version&gt;5.1.49&lt;/version&gt;--&gt; &lt;/dependency&gt;ÊÉ≥Ë¶Å‰øÆÊîπÁâàÊú¨1„ÄÅÁõ¥Êé•‰æùËµñÂºïÂÖ•ÂÖ∑‰ΩìÁâàÊú¨ÔºàmavenÁöÑÂ∞±Ëøë‰æùËµñÂéüÂàôÔºâ2„ÄÅÈáçÊñ∞Â£∞ÊòéÁâàÊú¨ÔºàmavenÁöÑÂ±ûÊÄßÁöÑÂ∞±Ëøë‰ºòÂÖàÂéüÂàôÔºâ &lt;properties&gt; &lt;java.version&gt;1.8&lt;/java.version&gt; &lt;mysql.version&gt;5.1.49&lt;/mysql.version&gt; &lt;/properties&gt; 2„ÄÅÂàÜÊûêËá™Âä®ÈÖçÁΩÆ 1„ÄÅËá™Âä®ÈÖçÁΩÆÁöÑÁ±ª DataSourceAutoConfiguration Ôºö Êï∞ÊçÆÊ∫êÁöÑËá™Âä®ÈÖçÁΩÆ ‰øÆÊîπÊï∞ÊçÆÊ∫êÁõ∏ÂÖ≥ÁöÑÈÖçÁΩÆÔºöspring.datasource Êï∞ÊçÆÂ∫ìËøûÊé•Ê±†ÁöÑÈÖçÁΩÆÔºåÊòØËá™Â∑±ÂÆπÂô®‰∏≠Ê≤°ÊúâDataSourceÊâçËá™Âä®ÈÖçÁΩÆÁöÑ Â∫ïÂ±ÇÈÖçÁΩÆÂ•ΩÁöÑËøûÊé•Ê±†ÊòØÔºöHikariDataSource 1234567@Configuration(proxyBeanMethods = false)@Conditional(PooledDataSourceCondition.class)@ConditionalOnMissingBean({ DataSource.class, XADataSource.class })@Import({ DataSourceConfiguration.Hikari.class, DataSourceConfiguration.Tomcat.class, DataSourceConfiguration.Dbcp2.class, DataSourceConfiguration.OracleUcp.class, DataSourceConfiguration.Generic.class, DataSourceJmxConfiguration.class })protected static class PooledDataSourceConfiguration DataSourceTransactionManagerAutoConfigurationÔºö ‰∫ãÂä°ÁÆ°ÁêÜÂô®ÁöÑËá™Âä®ÈÖçÁΩÆ JdbcTemplateAutoConfigurationÔºö JdbcTemplateÁöÑËá™Âä®ÈÖçÁΩÆÔºåÂèØ‰ª•Êù•ÂØπÊï∞ÊçÆÂ∫ìËøõË°åcrud ÂèØ‰ª•‰øÆÊîπËøô‰∏™ÈÖçÁΩÆÈ°π@ConfigurationProperties(prefix = &quot;spring.jdbc&quot;) Êù•‰øÆÊîπJdbcTemplate @Bean@Primary JdbcTemplateÔºõÂÆπÂô®‰∏≠ÊúâËøô‰∏™ÁªÑ‰ª∂ JndiDataSourceAutoConfigurationÔºö jndiÁöÑËá™Âä®ÈÖçÁΩÆ XADataSourceAutoConfigurationÔºö ÂàÜÂ∏ÉÂºè‰∫ãÂä°Áõ∏ÂÖ≥ÁöÑ 3„ÄÅ‰øÆÊîπÈÖçÁΩÆÈ°π 123456spring: datasource: url: jdbc:mysql://localhost:3306/db_account username: root password: 123456 driver-class-name: com.mysql.jdbc.Driver 4„ÄÅÊµãËØï 123456789101112131415161718@Slf4j@SpringBootTestclass Boot05WebAdminApplicationTests { @Autowired JdbcTemplate jdbcTemplate; @Test void contextLoads() {// jdbcTemplate.queryForObject(&quot;select * from account_tbl&quot;)// jdbcTemplate.queryForList(&quot;select * from account_tbl&quot;,) Long aLong = jdbcTemplate.queryForObject(&quot;select count(*) from account_tbl&quot;, Long.class); log.info(&quot;ËÆ∞ÂΩïÊÄªÊï∞Ôºö{}&quot;,aLong); }} 2„ÄÅ‰ΩøÁî®DruidÊï∞ÊçÆÊ∫ê 1„ÄÅdruidÂÆòÊñπgithubÂú∞ÂùÄ https://github.com/alibaba/druid Êï¥ÂêàÁ¨¨‰∏âÊñπÊäÄÊúØÁöÑ‰∏§ÁßçÊñπÂºè Ëá™ÂÆö‰πâ Êâæstarter 2„ÄÅËá™ÂÆö‰πâÊñπÂºè 1„ÄÅÂàõÂª∫Êï∞ÊçÆÊ∫ê 12345678910111213141516171819202122 &lt;dependency&gt; &lt;groupId&gt;com.alibaba&lt;/groupId&gt; &lt;artifactId&gt;druid&lt;/artifactId&gt; &lt;version&gt;1.1.17&lt;/version&gt; &lt;/dependency&gt;&lt;bean id=&quot;dataSource&quot; class=&quot;com.alibaba.druid.pool.DruidDataSource&quot; destroy-method=&quot;close&quot;&gt; &lt;property name=&quot;url&quot; value=&quot;${jdbc.url}&quot; /&gt; &lt;property name=&quot;username&quot; value=&quot;${jdbc.username}&quot; /&gt; &lt;property name=&quot;password&quot; value=&quot;${jdbc.password}&quot; /&gt; &lt;property name=&quot;maxActive&quot; value=&quot;20&quot; /&gt; &lt;property name=&quot;initialSize&quot; value=&quot;1&quot; /&gt; &lt;property name=&quot;maxWait&quot; value=&quot;60000&quot; /&gt; &lt;property name=&quot;minIdle&quot; value=&quot;1&quot; /&gt; &lt;property name=&quot;timeBetweenEvictionRunsMillis&quot; value=&quot;60000&quot; /&gt; &lt;property name=&quot;minEvictableIdleTimeMillis&quot; value=&quot;300000&quot; /&gt; &lt;property name=&quot;testWhileIdle&quot; value=&quot;true&quot; /&gt; &lt;property name=&quot;testOnBorrow&quot; value=&quot;false&quot; /&gt; &lt;property name=&quot;testOnReturn&quot; value=&quot;false&quot; /&gt; &lt;property name=&quot;poolPreparedStatements&quot; value=&quot;true&quot; /&gt; &lt;property name=&quot;maxOpenPreparedStatements&quot; value=&quot;20&quot; /&gt; 2„ÄÅStatViewServlet StatViewServletÁöÑÁî®ÈÄîÂåÖÊã¨Ôºö Êèê‰æõÁõëÊéß‰ø°ÊÅØÂ±ïÁ§∫ÁöÑhtmlÈ°µÈù¢ Êèê‰æõÁõëÊéß‰ø°ÊÅØÁöÑJSON API 12345678&lt;servlet&gt; &lt;servlet-name&gt;DruidStatView&lt;/servlet-name&gt; &lt;servlet-class&gt;com.alibaba.druid.support.http.StatViewServlet&lt;/servlet-class&gt;&lt;/servlet&gt;&lt;servlet-mapping&gt; &lt;servlet-name&gt;DruidStatView&lt;/servlet-name&gt; &lt;url-pattern&gt;/druid/*&lt;/url-pattern&gt;&lt;/servlet-mapping&gt; 3„ÄÅStatFilter Áî®‰∫éÁªüËÆ°ÁõëÊéß‰ø°ÊÅØÔºõÂ¶ÇSQLÁõëÊéß„ÄÅURIÁõëÊéß 123ÈúÄË¶ÅÁªôÊï∞ÊçÆÊ∫ê‰∏≠ÈÖçÁΩÆÂ¶Ç‰∏ãÂ±ûÊÄßÔºõÂèØ‰ª•ÂÖÅËÆ∏Â§ö‰∏™filterÔºåÂ§ö‰∏™Áî®ÔºåÂàÜÂâ≤ÔºõÂ¶ÇÔºö&lt;property name=&quot;filters&quot; value=&quot;stat,slf4j&quot; /&gt; Á≥ªÁªü‰∏≠ÊâÄÊúâfilterÔºö Âà´Âêç FilterÁ±ªÂêç default com.alibaba.druid.filter.stat.StatFilter stat com.alibaba.druid.filter.stat.StatFilter mergeStat com.alibaba.druid.filter.stat.MergeStatFilter encoding com.alibaba.druid.filter.encoding.EncodingConvertFilter log4j com.alibaba.druid.filter.logging.Log4jFilter log4j2 com.alibaba.druid.filter.logging.Log4j2Filter slf4j com.alibaba.druid.filter.logging.Slf4jLogFilter commonlogging com.alibaba.druid.filter.logging.CommonsLogFilter ÊÖ¢SQLËÆ∞ÂΩïÈÖçÁΩÆ 123456&lt;bean id=&quot;stat-filter&quot; class=&quot;com.alibaba.druid.filter.stat.StatFilter&quot;&gt; &lt;property name=&quot;slowSqlMillis&quot; value=&quot;10000&quot; /&gt; &lt;property name=&quot;logSlowSql&quot; value=&quot;true&quot; /&gt;&lt;/bean&gt;‰ΩøÁî® slowSqlMillis ÂÆö‰πâÊÖ¢SQLÁöÑÊó∂Èïø 3„ÄÅ‰ΩøÁî®ÂÆòÊñπstarterÊñπÂºè 1„ÄÅÂºïÂÖ•druid-starter 12345&lt;dependency&gt; &lt;groupId&gt;com.alibaba&lt;/groupId&gt; &lt;artifactId&gt;druid-spring-boot-starter&lt;/artifactId&gt; &lt;version&gt;1.1.17&lt;/version&gt;&lt;/dependency&gt; 2„ÄÅÂàÜÊûêËá™Âä®ÈÖçÁΩÆ Êâ©Â±ïÈÖçÁΩÆÈ°π spring.datasource.druid DruidSpringAopConfiguration.class, ÁõëÊéßSpringBeanÁöÑÔºõÈÖçÁΩÆÈ°πÔºöspring.datasource.druid.aop-patterns DruidStatViewServletConfiguration.class, ÁõëÊéßÈ°µÁöÑÈÖçÁΩÆÔºöspring.datasource.druid.stat-view-servletÔºõÈªòËÆ§ÂºÄÂêØ DruidWebStatFilterConfiguration.class, webÁõëÊéßÈÖçÁΩÆÔºõspring.datasource.druid.web-stat-filterÔºõÈªòËÆ§ÂºÄÂêØ DruidFilterConfiguration.class}) ÊâÄÊúâDruidËá™Â∑±filterÁöÑÈÖçÁΩÆ 12345678private static final String FILTER_STAT_PREFIX = &quot;spring.datasource.druid.filter.stat&quot;;private static final String FILTER_CONFIG_PREFIX = &quot;spring.datasource.druid.filter.config&quot;;private static final String FILTER_ENCODING_PREFIX = &quot;spring.datasource.druid.filter.encoding&quot;;private static final String FILTER_SLF4J_PREFIX = &quot;spring.datasource.druid.filter.slf4j&quot;;private static final String FILTER_LOG4J_PREFIX = &quot;spring.datasource.druid.filter.log4j&quot;;private static final String FILTER_LOG4J2_PREFIX = &quot;spring.datasource.druid.filter.log4j2&quot;;private static final String FILTER_COMMONS_LOG_PREFIX = &quot;spring.datasource.druid.filter.commons-log&quot;;private static final String FILTER_WALL_PREFIX = &quot;spring.datasource.druid.filter.wall&quot;; 3„ÄÅÈÖçÁΩÆÁ§∫‰æã 1234567891011121314151617181920212223242526272829303132spring: datasource: url: jdbc:mysql://localhost:3306/db_account username: root password: 123456 driver-class-name: com.mysql.jdbc.Driver druid: aop-patterns: com.atguigu.admin.* #ÁõëÊéßSpringBean filters: stat,wall # Â∫ïÂ±ÇÂºÄÂêØÂäüËÉΩÔºåstatÔºàsqlÁõëÊéßÔºâÔºåwallÔºàÈò≤ÁÅ´Â¢ôÔºâ stat-view-servlet: # ÈÖçÁΩÆÁõëÊéßÈ°µÂäüËÉΩ enabled: true login-username: admin login-password: admin resetEnable: false web-stat-filter: # ÁõëÊéßweb enabled: true urlPattern: /* exclusions: '*.js,*.gif,*.jpg,*.png,*.css,*.ico,/druid/*' filter: stat: # ÂØπ‰∏äÈù¢filtersÈáåÈù¢ÁöÑstatÁöÑËØ¶ÁªÜÈÖçÁΩÆ slow-sql-millis: 1000 logSlowSql: true enabled: true wall: enabled: true config: drop-table-allow: false SpringBootÈÖçÁΩÆÁ§∫‰æã https://github.com/alibaba/druid/tree/master/druid-spring-boot-starter ÈÖçÁΩÆÈ°πÂàóË°®https://github.com/alibaba/druid/wiki/DruidDataSource%E9%85%8D%E7%BD%AE%E5%B1%9E%E6%80%A7%E5%88%97%E8%A1%A8 3„ÄÅÊï¥ÂêàMyBatisÊìç‰Ωú https://github.com/mybatis starter SpringBootÂÆòÊñπÁöÑStarterÔºöspring-boot-starter-* Á¨¨‰∏âÊñπÁöÑÔºö *-spring-boot-starter 12345&lt;dependency&gt; &lt;groupId&gt;org.mybatis.spring.boot&lt;/groupId&gt; &lt;artifactId&gt;mybatis-spring-boot-starter&lt;/artifactId&gt; &lt;version&gt;2.1.4&lt;/version&gt;&lt;/dependency&gt; 1„ÄÅÈÖçÁΩÆÊ®°Âºè ÂÖ®Â±ÄÈÖçÁΩÆÊñá‰ª∂ SqlSessionFactory: Ëá™Âä®ÈÖçÁΩÆÂ•Ω‰∫Ü SqlSessionÔºöËá™Âä®ÈÖçÁΩÆ‰∫Ü SqlSessionTemplate ÁªÑÂêà‰∫ÜSqlSession @Import(AutoConfiguredMapperScannerRegistrar.classÔºâÔºõ MapperÔºö Âè™Ë¶ÅÊàë‰ª¨ÂÜôÁöÑÊìç‰ΩúMyBatisÁöÑÊé•Âè£Ê†áÂáÜ‰∫Ü @Mapper Â∞±‰ºöË¢´Ëá™Âä®Êâ´ÊèèËøõÊù• 123456@EnableConfigurationProperties(MybatisProperties.class) Ôºö MyBatisÈÖçÁΩÆÈ°πÁªëÂÆöÁ±ª„ÄÇ@AutoConfigureAfter({ DataSourceAutoConfiguration.class, MybatisLanguageDriverAutoConfiguration.class })public class MybatisAutoConfiguration{}@ConfigurationProperties(prefix = &quot;mybatis&quot;)public class MybatisProperties ÂèØ‰ª•‰øÆÊîπÈÖçÁΩÆÊñá‰ª∂‰∏≠ mybatis ÂºÄÂßãÁöÑÊâÄÊúâÔºõ 12345678910111213141516# ÈÖçÁΩÆmybatisËßÑÂàômybatis: config-location: classpath:mybatis/mybatis-config.xml #ÂÖ®Â±ÄÈÖçÁΩÆÊñá‰ª∂‰ΩçÁΩÆ mapper-locations: classpath:mybatis/mapper/*.xml #sqlÊò†Â∞ÑÊñá‰ª∂‰ΩçÁΩÆ MapperÊé•Âè£---&gt;ÁªëÂÆöXml&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;&lt;!DOCTYPE mapper PUBLIC &quot;-//mybatis.org//DTD Mapper 3.0//EN&quot; &quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;&gt;&lt;mapper namespace=&quot;com.atguigu.admin.mapper.AccountMapper&quot;&gt;&lt;!-- public Account getAcct(Long id); --&gt; &lt;select id=&quot;getAcct&quot; resultType=&quot;com.atguigu.admin.bean.Account&quot;&gt; select * from account_tbl where id=#{id} &lt;/select&gt;&lt;/mapper&gt; ÈÖçÁΩÆ private Configuration configuration; mybatis.configuration‰∏ãÈù¢ÁöÑÊâÄÊúâÔºåÂ∞±ÊòØÁõ∏ÂΩì‰∫éÊîπmybatisÂÖ®Â±ÄÈÖçÁΩÆÊñá‰ª∂‰∏≠ÁöÑÂÄº 12345678# ÈÖçÁΩÆmybatisËßÑÂàômybatis:# config-location: classpath:mybatis/mybatis-config.xml mapper-locations: classpath:mybatis/mapper/*.xml configuration: map-underscore-to-camel-case: true ÂèØ‰ª•‰∏çÂÜôÂÖ®Â±ÄÔºõÈÖçÁΩÆÊñá‰ª∂ÔºåÊâÄÊúâÂÖ®Â±ÄÈÖçÁΩÆÊñá‰ª∂ÁöÑÈÖçÁΩÆÈÉΩÊîæÂú®configurationÈÖçÁΩÆÈ°π‰∏≠Âç≥ÂèØ ÂØºÂÖ•mybatisÂÆòÊñπstarter ÁºñÂÜômapperÊé•Âè£„ÄÇÊ†áÂáÜ@MapperÊ≥®Ëß£ ÁºñÂÜôsqlÊò†Â∞ÑÊñá‰ª∂Âπ∂ÁªëÂÆömapperÊé•Âè£ Âú®application.yaml‰∏≠ÊåáÂÆöMapperÈÖçÁΩÆÊñá‰ª∂ÁöÑ‰ΩçÁΩÆÔºå‰ª•ÂèäÊåáÂÆöÂÖ®Â±ÄÈÖçÁΩÆÊñá‰ª∂ÁöÑ‰ø°ÊÅØ ÔºàÂª∫ËÆÆÔºõÈÖçÁΩÆÂú®mybatis.configurationÔºâ 2„ÄÅÊ≥®Ëß£Ê®°Âºè 123456789@Mapperpublic interface CityMapper { @Select(&quot;select * from city where id=#{id}&quot;) public City getById(Long id); public void insert(City city);} 3„ÄÅÊ∑∑ÂêàÊ®°Âºè 123456789@Mapperpublic interface CityMapper { @Select(&quot;select * from city where id=#{id}&quot;) public City getById(Long id); public void insert(City city);} ÊúÄ‰Ω≥ÂÆûÊàòÔºö ÂºïÂÖ•mybatis-starter ÈÖçÁΩÆapplication.yaml‰∏≠ÔºåÊåáÂÆömapper-location‰ΩçÁΩÆÂç≥ÂèØ ÁºñÂÜôMapperÊé•Âè£Âπ∂Ê†áÊ≥®@MapperÊ≥®Ëß£ ÁÆÄÂçïÊñπÊ≥ïÁõ¥Êé•Ê≥®Ëß£ÊñπÂºè Â§çÊùÇÊñπÊ≥ïÁºñÂÜômapper.xmlËøõË°åÁªëÂÆöÊò†Â∞Ñ @MapperScan(&quot;com.atguigu.admin.mapper&quot;) ÁÆÄÂåñÔºåÂÖ∂‰ªñÁöÑÊé•Âè£Â∞±ÂèØ‰ª•‰∏çÁî®Ê†áÊ≥®@MapperÊ≥®Ëß£ 4„ÄÅÊï¥Âêà MyBatis-Plus ÂÆåÊàêCRUD 1„ÄÅ‰ªÄ‰πàÊòØMyBatis-Plus MyBatis-PlusÔºàÁÆÄÁß∞ MPÔºâÊòØ‰∏Ä‰∏™ MyBatis ÁöÑÂ¢ûÂº∫Â∑•ÂÖ∑ÔºåÂú® MyBatis ÁöÑÂü∫Á°Ä‰∏äÂè™ÂÅöÂ¢ûÂº∫‰∏çÂÅöÊîπÂèòÔºå‰∏∫ÁÆÄÂåñÂºÄÂèë„ÄÅÊèêÈ´òÊïàÁéáËÄåÁîü„ÄÇ mybatis plus ÂÆòÁΩë Âª∫ËÆÆÂÆâË£Ö MybatisX Êèí‰ª∂ 2„ÄÅÊï¥ÂêàMyBatis-Plus 12345&lt;dependency&gt; &lt;groupId&gt;com.baomidou&lt;/groupId&gt; &lt;artifactId&gt;mybatis-plus-boot-starter&lt;/artifactId&gt; &lt;version&gt;3.4.1&lt;/version&gt;&lt;/dependency&gt; Ëá™Âä®ÈÖçÁΩÆ MybatisPlusAutoConfiguration ÈÖçÁΩÆÁ±ªÔºåMybatisPlusProperties ÈÖçÁΩÆÈ°πÁªëÂÆö„ÄÇmybatis-plusÔºöxxx Â∞±ÊòØÂØπ****mybatis-plusÁöÑÂÆöÂà∂ SqlSessionFactory Ëá™Âä®ÈÖçÁΩÆÂ•Ω„ÄÇÂ∫ïÂ±ÇÊòØÂÆπÂô®‰∏≠ÈªòËÆ§ÁöÑÊï∞ÊçÆÊ∫ê **mapperLocations Ëá™Âä®ÈÖçÁΩÆÂ•ΩÁöÑ„ÄÇÊúâÈªòËÆ§ÂÄº„ÄÇ*classpath*:/mapper/*/*.xmlÔºõ‰ªªÊÑèÂåÖÁöÑÁ±ªË∑ØÂæÑ‰∏ãÁöÑÊâÄÊúâmapperÊñá‰ª∂Â§π‰∏ã‰ªªÊÑèË∑ØÂæÑ‰∏ãÁöÑÊâÄÊúâxmlÈÉΩÊòØsqlÊò†Â∞ÑÊñá‰ª∂„ÄÇ Âª∫ËÆÆ‰ª•ÂêésqlÊò†Â∞ÑÊñá‰ª∂ÔºåÊîæÂú® mapper‰∏ã ÂÆπÂô®‰∏≠‰πüËá™Âä®ÈÖçÁΩÆÂ•Ω‰∫Ü SqlSessionTemplate @Mapper Ê†áÊ≥®ÁöÑÊé•Âè£‰πü‰ºöË¢´Ëá™Âä®Êâ´ÊèèÔºõÂª∫ËÆÆÁõ¥Êé• @MapperScan(&quot;com.atguigu.admin.mapper&quot;) ÊâπÈáèÊâ´ÊèèÂ∞±Ë°å ‰ºòÁÇπÔºö Âè™ÈúÄË¶ÅÊàë‰ª¨ÁöÑMapperÁªßÊâø BaseMapper Â∞±ÂèØ‰ª•Êã•ÊúâcrudËÉΩÂäõ 3„ÄÅCRUDÂäüËÉΩ 123456789101112131415161718192021222324252627282930313233343536373839404142 @GetMapping(&quot;/user/delete/{id}&quot;) public String deleteUser(@PathVariable(&quot;id&quot;) Long id, @RequestParam(value = &quot;pn&quot;,defaultValue = &quot;1&quot;)Integer pn, RedirectAttributes ra){ userService.removeById(id); ra.addAttribute(&quot;pn&quot;,pn); return &quot;redirect:/dynamic_table&quot;; } @GetMapping(&quot;/dynamic_table&quot;) public String dynamic_table(@RequestParam(value=&quot;pn&quot;,defaultValue = &quot;1&quot;) Integer pn,Model model){ //Ë°®Ê†ºÂÜÖÂÆπÁöÑÈÅçÂéÜ// response.sendError// List&lt;User&gt; users = Arrays.asList(new User(&quot;zhangsan&quot;, &quot;123456&quot;),// new User(&quot;lisi&quot;, &quot;123444&quot;),// new User(&quot;haha&quot;, &quot;aaaaa&quot;),// new User(&quot;hehe &quot;, &quot;aaddd&quot;));// model.addAttribute(&quot;users&quot;,users);//// if(users.size()&gt;3){// throw new UserTooManyException();// } //‰ªéÊï∞ÊçÆÂ∫ì‰∏≠Êü•Âá∫userË°®‰∏≠ÁöÑÁî®Êà∑ËøõË°åÂ±ïÁ§∫ //ÊûÑÈÄ†ÂàÜÈ°µÂèÇÊï∞ Page&lt;User&gt; page = new Page&lt;&gt;(pn, 2); //Ë∞ÉÁî®pageËøõË°åÂàÜÈ°µ Page&lt;User&gt; userPage = userService.page(page, null);// userPage.getRecords()// userPage.getCurrent()// userPage.getPages() model.addAttribute(&quot;users&quot;,userPage); return &quot;table/dynamic_table&quot;; } 123456789@Servicepublic class UserServiceImpl extends ServiceImpl&lt;UserMapper,User&gt; implements UserService {}public interface UserService extends IService&lt;User&gt; {} 2„ÄÅNoSQL Redis ÊòØ‰∏Ä‰∏™ÂºÄÊ∫êÔºàBSDËÆ∏ÂèØÔºâÁöÑÔºåÂÜÖÂ≠ò‰∏≠ÁöÑÊï∞ÊçÆÁªìÊûÑÂ≠òÂÇ®Á≥ªÁªüÔºåÂÆÉÂèØ‰ª•Áî®‰ΩúÊï∞ÊçÆÂ∫ì„ÄÅÁºìÂ≠òÂíåÊ∂àÊÅØ‰∏≠Èó¥‰ª∂„ÄÇ ÂÆÉÊîØÊåÅÂ§öÁßçÁ±ªÂûãÁöÑÊï∞ÊçÆÁªìÊûÑÔºåÂ¶Ç Â≠óÁ¨¶‰∏≤ÔºàstringsÔºâÔºå Êï£ÂàóÔºàhashesÔºâÔºå ÂàóË°®ÔºàlistsÔºâÔºå ÈõÜÂêàÔºàsetsÔºâÔºå ÊúâÂ∫èÈõÜÂêàÔºàsorted setsÔºâ ‰∏éËåÉÂõ¥Êü•ËØ¢Ôºå bitmapsÔºå hyperloglogs Âíå Âú∞ÁêÜÁ©∫Èó¥ÔºàgeospatialÔºâ Á¥¢ÂºïÂçäÂæÑÊü•ËØ¢„ÄÇ Redis ÂÜÖÁΩÆ‰∫Ü Â§çÂà∂ÔºàreplicationÔºâÔºåLUAËÑöÊú¨ÔºàLua scriptingÔºâÔºå LRUÈ©±Âä®‰∫ã‰ª∂ÔºàLRU evictionÔºâÔºå‰∫ãÂä°ÔºàtransactionsÔºâ Âíå‰∏çÂêåÁ∫ßÂà´ÁöÑ Á£ÅÁõòÊåÅ‰πÖÂåñÔºàpersistenceÔºâÔºå Âπ∂ÈÄöËøá RedisÂì®ÂÖµÔºàSentinelÔºâÂíåËá™Âä® ÂàÜÂå∫ÔºàClusterÔºâÊèê‰æõÈ´òÂèØÁî®ÊÄßÔºàhigh availabilityÔºâ„ÄÇ 1„ÄÅRedisËá™Âä®ÈÖçÁΩÆ 1234&lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-data-redis&lt;/artifactId&gt;&lt;/dependency&gt; Ëá™Âä®ÈÖçÁΩÆÔºö RedisAutoConfiguration Ëá™Âä®ÈÖçÁΩÆÁ±ª„ÄÇRedisProperties Â±ûÊÄßÁ±ª --&gt; spring.redis.xxxÊòØÂØπredisÁöÑÈÖçÁΩÆ ËøûÊé•Â∑•ÂéÇÊòØÂáÜÂ§áÂ•ΩÁöÑ„ÄÇLettuceConnectionConfiguration„ÄÅJedisConnectionConfiguration Ëá™Âä®Ê≥®ÂÖ•‰∫ÜRedisTemplate&lt;Object, Object&gt; Ôºö xxxTemplateÔºõ Ëá™Âä®Ê≥®ÂÖ•‰∫ÜStringRedisTemplateÔºõkÔºövÈÉΩÊòØString keyÔºövalue Â∫ïÂ±ÇÂè™Ë¶ÅÊàë‰ª¨‰ΩøÁî® **StringRedisTemplate„ÄÅ**RedisTemplateÂ∞±ÂèØ‰ª•Êìç‰Ωúredis redisÁéØÂ¢ÉÊê≠Âª∫ 1„ÄÅÈòøÈáå‰∫ëÊåâÈáè‰ªòË¥πredis„ÄÇÁªèÂÖ∏ÁΩëÁªú 2„ÄÅÁî≥ËØ∑redisÁöÑÂÖ¨ÁΩëËøûÊé•Âú∞ÂùÄ 3„ÄÅ‰øÆÊîπÁôΩÂêçÂçï ÂÖÅËÆ∏0.0.0.0/0 ËÆøÈóÆ 2„ÄÅRedisTemplate‰∏éLettuce 123456789@Testvoid testRedis(){ ValueOperations&lt;String, String&gt; operations = redisTemplate.opsForValue(); operations.set(&quot;hello&quot;,&quot;world&quot;); String hello = operations.get(&quot;hello&quot;); System.out.println(hello);} 3„ÄÅÂàáÊç¢Ëá≥jedis 12345678910111213141516171819 &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-data-redis&lt;/artifactId&gt; &lt;/dependency&gt;&lt;!-- ÂØºÂÖ•jedis--&gt; &lt;dependency&gt; &lt;groupId&gt;redis.clients&lt;/groupId&gt; &lt;artifactId&gt;jedis&lt;/artifactId&gt; &lt;/dependency&gt;spring: redis: host: r-bp1nc7reqesxisgxpipd.redis.rds.aliyuncs.com port: 6379 password: lfy:Lfy123456 client-type: jedis jedis: pool: max-active: 10 4.ÂçïÂÖÉÊµãËØï 1„ÄÅJUnit5 ÁöÑÂèòÂåñ Spring Boot 2.2.0 ÁâàÊú¨ÂºÄÂßãÂºïÂÖ• JUnit 5 ‰Ωú‰∏∫ÂçïÂÖÉÊµãËØïÈªòËÆ§Â∫ì ‰Ωú‰∏∫ÊúÄÊñ∞ÁâàÊú¨ÁöÑJUnitÊ°ÜÊû∂ÔºåJUnit5‰∏é‰πãÂâçÁâàÊú¨ÁöÑJunitÊ°ÜÊû∂ÊúâÂæàÂ§ßÁöÑ‰∏çÂêå„ÄÇÁî±‰∏â‰∏™‰∏çÂêåÂ≠êÈ°πÁõÆÁöÑÂá†‰∏™‰∏çÂêåÊ®°ÂùóÁªÑÊàê„ÄÇ JUnit 5 = JUnit Platform + JUnit Jupiter + JUnit Vintage JUnit Platform: Junit PlatformÊòØÂú®JVM‰∏äÂêØÂä®ÊµãËØïÊ°ÜÊû∂ÁöÑÂü∫Á°ÄÔºå‰∏ç‰ªÖÊîØÊåÅJunitËá™Âà∂ÁöÑÊµãËØïÂºïÊìéÔºåÂÖ∂‰ªñÊµãËØïÂºïÊìé‰πüÈÉΩÂèØ‰ª•Êé•ÂÖ•„ÄÇ JUnit Jupiter: JUnit JupiterÊèê‰æõ‰∫ÜJUnit5ÁöÑÊñ∞ÁöÑÁºñÁ®ãÊ®°ÂûãÔºåÊòØJUnit5Êñ∞ÁâπÊÄßÁöÑÊ†∏ÂøÉ„ÄÇÂÜÖÈÉ® ÂåÖÂê´‰∫Ü‰∏Ä‰∏™ÊµãËØïÂºïÊìéÔºåÁî®‰∫éÂú®Junit Platform‰∏äËøêË°å„ÄÇ JUnit Vintage: Áî±‰∫éJUintÂ∑≤ÁªèÂèëÂ±ïÂ§öÂπ¥Ôºå‰∏∫‰∫ÜÁÖßÈ°æËÄÅÁöÑÈ°πÁõÆÔºåJUnit VintageÊèê‰æõ‰∫ÜÂÖºÂÆπJUnit4.x,Junit3.xÁöÑÊµãËØïÂºïÊìé„ÄÇ Ê≥®ÊÑèÔºö SpringBoot 2.4 ‰ª•‰∏äÁâàÊú¨ÁßªÈô§‰∫ÜÈªòËÆ§ÂØπ Vintage ÁöÑ‰æùËµñ„ÄÇÂ¶ÇÊûúÈúÄË¶ÅÂÖºÂÆπjunit4ÈúÄË¶ÅËá™Ë°åÂºïÂÖ•Ôºà‰∏çËÉΩ‰ΩøÁî®junit4ÁöÑÂäüËÉΩ @Test**Ôºâ** JUnit 5‚Äôs Vintage Engine Removed from **spring-boot-starter-test,Â¶ÇÊûúÈúÄË¶ÅÁªßÁª≠ÂÖºÂÆπjunit4ÈúÄË¶ÅËá™Ë°åÂºïÂÖ•vintage** 1234567891011&lt;dependency&gt; &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt; &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt; &lt;scope&gt;test&lt;/scope&gt; &lt;exclusions&gt; &lt;exclusion&gt; &lt;groupId&gt;org.hamcrest&lt;/groupId&gt; &lt;artifactId&gt;hamcrest-core&lt;/artifactId&gt; &lt;/exclusion&gt; &lt;/exclusions&gt;&lt;/dependency&gt; 12345&lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt; &lt;scope&gt;test&lt;/scope&gt;&lt;/dependency&gt; Áé∞Âú®ÁâàÊú¨Ôºö 123456789@SpringBootTestclass Boot05WebAdminApplicationTests { @Test void contextLoads() { }} ‰ª•ÂâçÔºö @SpringBootTest + @RunWith(SpringTest.class) SpringBootÊï¥ÂêàJunit‰ª•Âêé„ÄÇ ÁºñÂÜôÊµãËØïÊñπÊ≥ïÔºö@TestÊ†áÊ≥®ÔºàÊ≥®ÊÑèÈúÄË¶Å‰ΩøÁî®junit5ÁâàÊú¨ÁöÑÊ≥®Ëß£Ôºâ JunitÁ±ªÂÖ∑ÊúâSpringÁöÑÂäüËÉΩÔºå@Autowired„ÄÅÊØîÂ¶Ç @Transactional Ê†áÊ≥®ÊµãËØïÊñπÊ≥ïÔºåÊµãËØïÂÆåÊàêÂêéËá™Âä®ÂõûÊªö 2„ÄÅJUnit5Â∏∏Áî®Ê≥®Ëß£ JUnit5ÁöÑÊ≥®Ëß£‰∏éJUnit4ÁöÑÊ≥®Ëß£ÊúâÊâÄÂèòÂåñ https://junit.org/junit5/docs/current/user-guide/#writing-tests-annotations **@Test üòó*Ë°®Á§∫ÊñπÊ≥ïÊòØÊµãËØïÊñπÊ≥ï„ÄÇ‰ΩÜÊòØ‰∏éJUnit4ÁöÑ@Test‰∏çÂêåÔºå‰ªñÁöÑËÅåË¥£ÈùûÂ∏∏Âçï‰∏Ä‰∏çËÉΩÂ£∞Êòé‰ªª‰ΩïÂ±ûÊÄßÔºåÊãìÂ±ïÁöÑÊµãËØïÂ∞Ü‰ºöÁî±JupiterÊèê‰æõÈ¢ùÂ§ñÊµãËØï **@ParameterizedTest üòó*Ë°®Á§∫ÊñπÊ≥ïÊòØÂèÇÊï∞ÂåñÊµãËØïÔºå‰∏ãÊñπ‰ºöÊúâËØ¶ÁªÜ‰ªãÁªç **@RepeatedTest üòó*Ë°®Á§∫ÊñπÊ≥ïÂèØÈáçÂ§çÊâßË°åÔºå‰∏ãÊñπ‰ºöÊúâËØ¶ÁªÜ‰ªãÁªç **@DisplayName üòó*‰∏∫ÊµãËØïÁ±ªÊàñËÄÖÊµãËØïÊñπÊ≥ïËÆæÁΩÆÂ±ïÁ§∫ÂêçÁß∞ **@BeforeEach üòó*Ë°®Á§∫Âú®ÊØè‰∏™ÂçïÂÖÉÊµãËØï‰πãÂâçÊâßË°å **@AfterEach üòó*Ë°®Á§∫Âú®ÊØè‰∏™ÂçïÂÖÉÊµãËØï‰πãÂêéÊâßË°å **@BeforeAll üòó*Ë°®Á§∫Âú®ÊâÄÊúâÂçïÂÖÉÊµãËØï‰πãÂâçÊâßË°å **@AfterAll üòó*Ë°®Á§∫Âú®ÊâÄÊúâÂçïÂÖÉÊµãËØï‰πãÂêéÊâßË°å **@Tag üòó*Ë°®Á§∫ÂçïÂÖÉÊµãËØïÁ±ªÂà´ÔºåÁ±ª‰ºº‰∫éJUnit4‰∏≠ÁöÑ@Categories **@Disabled üòó*Ë°®Á§∫ÊµãËØïÁ±ªÊàñÊµãËØïÊñπÊ≥ï‰∏çÊâßË°åÔºåÁ±ª‰ºº‰∫éJUnit4‰∏≠ÁöÑ@Ignore **@Timeout üòó*Ë°®Á§∫ÊµãËØïÊñπÊ≥ïËøêË°åÂ¶ÇÊûúË∂ÖËøá‰∫ÜÊåáÂÆöÊó∂Èó¥Â∞Ü‰ºöËøîÂõûÈîôËØØ **@ExtendWith üòó*‰∏∫ÊµãËØïÁ±ªÊàñÊµãËØïÊñπÊ≥ïÊèê‰æõÊâ©Â±ïÁ±ªÂºïÁî® 12345678910import org.junit.jupiter.api.Test; //Ê≥®ÊÑèËøôÈáå‰ΩøÁî®ÁöÑÊòØjupiterÁöÑTestÊ≥®Ëß£ÔºÅÔºÅpublic class TestDemo { @Test @DisplayName(&quot;Á¨¨‰∏ÄÊ¨°ÊµãËØï&quot;) public void firstTest() { System.out.println(&quot;hello world&quot;); } 3„ÄÅÊñ≠Ë®ÄÔºàassertionsÔºâ Êñ≠Ë®ÄÔºàassertionsÔºâÊòØÊµãËØïÊñπÊ≥ï‰∏≠ÁöÑÊ†∏ÂøÉÈÉ®ÂàÜÔºåÁî®Êù•ÂØπÊµãËØïÈúÄË¶ÅÊª°Ë∂≥ÁöÑÊù°‰ª∂ËøõË°åÈ™åËØÅ„ÄÇËøô‰∫õÊñ≠Ë®ÄÊñπÊ≥ïÈÉΩÊòØ org.junit.jupiter.api.Assertions ÁöÑÈùôÊÄÅÊñπÊ≥ï„ÄÇJUnit 5 ÂÜÖÁΩÆÁöÑÊñ≠Ë®ÄÂèØ‰ª•ÂàÜÊàêÂ¶Ç‰∏ãÂá†‰∏™Á±ªÂà´Ôºö Ê£ÄÊü•‰∏öÂä°ÈÄªËæëËøîÂõûÁöÑÊï∞ÊçÆÊòØÂê¶ÂêàÁêÜ„ÄÇ ÊâÄÊúâÁöÑÊµãËØïËøêË°åÁªìÊùü‰ª•ÂêéÔºå‰ºöÊúâ‰∏Ä‰∏™ËØ¶ÁªÜÁöÑÊµãËØïÊä•ÂëäÔºõ 1„ÄÅÁÆÄÂçïÊñ≠Ë®Ä Áî®Êù•ÂØπÂçï‰∏™ÂÄºËøõË°åÁÆÄÂçïÁöÑÈ™åËØÅ„ÄÇÂ¶ÇÔºö ÊñπÊ≥ï ËØ¥Êòé assertEquals Âà§Êñ≠‰∏§‰∏™ÂØπË±°Êàñ‰∏§‰∏™ÂéüÂßãÁ±ªÂûãÊòØÂê¶Áõ∏Á≠â assertNotEquals Âà§Êñ≠‰∏§‰∏™ÂØπË±°Êàñ‰∏§‰∏™ÂéüÂßãÁ±ªÂûãÊòØÂê¶‰∏çÁõ∏Á≠â assertSame Âà§Êñ≠‰∏§‰∏™ÂØπË±°ÂºïÁî®ÊòØÂê¶ÊåáÂêëÂêå‰∏Ä‰∏™ÂØπË±° assertNotSame Âà§Êñ≠‰∏§‰∏™ÂØπË±°ÂºïÁî®ÊòØÂê¶ÊåáÂêë‰∏çÂêåÁöÑÂØπË±° assertTrue Âà§Êñ≠ÁªôÂÆöÁöÑÂ∏ÉÂ∞îÂÄºÊòØÂê¶‰∏∫ true assertFalse Âà§Êñ≠ÁªôÂÆöÁöÑÂ∏ÉÂ∞îÂÄºÊòØÂê¶‰∏∫ false assertNull Âà§Êñ≠ÁªôÂÆöÁöÑÂØπË±°ÂºïÁî®ÊòØÂê¶‰∏∫ null assertNotNull Âà§Êñ≠ÁªôÂÆöÁöÑÂØπË±°ÂºïÁî®ÊòØÂê¶‰∏ç‰∏∫ null 12345678910111213141516@Test@DisplayName(&quot;simple assertion&quot;)public void simple() { assertEquals(3, 1 + 2, &quot;simple math&quot;); assertNotEquals(3, 1 + 1); assertNotSame(new Object(), new Object()); Object obj = new Object(); assertSame(obj, obj); assertFalse(1 &gt; 2); assertTrue(1 &lt; 2); assertNull(null); assertNotNull(new Object());} 2„ÄÅÊï∞ÁªÑÊñ≠Ë®Ä ÈÄöËøá assertArrayEquals ÊñπÊ≥ïÊù•Âà§Êñ≠‰∏§‰∏™ÂØπË±°ÊàñÂéüÂßãÁ±ªÂûãÁöÑÊï∞ÁªÑÊòØÂê¶Áõ∏Á≠â 12345@Test@DisplayName(&quot;array assertion&quot;)public void array() { assertArrayEquals(new int[]{1, 2}, new int[] {1, 2});} 3„ÄÅÁªÑÂêàÊñ≠Ë®Ä assertAll ÊñπÊ≥ïÊé•ÂèóÂ§ö‰∏™ org.junit.jupiter.api.Executable ÂáΩÊï∞ÂºèÊé•Âè£ÁöÑÂÆû‰æã‰Ωú‰∏∫Ë¶ÅÈ™åËØÅÁöÑÊñ≠Ë®ÄÔºåÂèØ‰ª•ÈÄöËøá lambda Ë°®ËææÂºèÂæàÂÆπÊòìÁöÑÊèê‰æõËøô‰∫õÊñ≠Ë®Ä 12345678@Test@DisplayName(&quot;assert all&quot;)public void all() { assertAll(&quot;Math&quot;, () -&gt; assertEquals(2, 1 + 1), () -&gt; assertTrue(1 &gt; 0) );} 4„ÄÅÂºÇÂ∏∏Êñ≠Ë®Ä Âú®JUnit4Êó∂ÊúüÔºåÊÉ≥Ë¶ÅÊµãËØïÊñπÊ≥ïÁöÑÂºÇÂ∏∏ÊÉÖÂÜµÊó∂ÔºåÈúÄË¶ÅÁî®**@RuleÊ≥®Ëß£ÁöÑExpectedExceptionÂèòÈáèËøòÊòØÊØîËæÉÈ∫ªÁÉ¶ÁöÑ„ÄÇËÄåJUnit5Êèê‰æõ‰∫Ü‰∏ÄÁßçÊñ∞ÁöÑÊñ≠Ë®ÄÊñπÂºèAssertions.assertThrows()** ,ÈÖçÂêàÂáΩÊï∞ÂºèÁºñÁ®ãÂ∞±ÂèØ‰ª•ËøõË°å‰ΩøÁî®„ÄÇ 12345678@Test@DisplayName(&quot;ÂºÇÂ∏∏ÊµãËØï&quot;)public void exceptionTest() { ArithmeticException exception = Assertions.assertThrows( //ÊâîÂá∫Êñ≠Ë®ÄÂºÇÂ∏∏ ArithmeticException.class, () -&gt; System.out.println(1 % 0));} 5„ÄÅË∂ÖÊó∂Êñ≠Ë®Ä Junit5ËøòÊèê‰æõ‰∫ÜAssertions.assertTimeout() ‰∏∫ÊµãËØïÊñπÊ≥ïËÆæÁΩÆ‰∫ÜË∂ÖÊó∂Êó∂Èó¥ 123456@Test@DisplayName(&quot;Ë∂ÖÊó∂ÊµãËØï&quot;)public void timeoutTest() { //Â¶ÇÊûúÊµãËØïÊñπÊ≥ïÊó∂Èó¥Ë∂ÖËøá1sÂ∞Ü‰ºöÂºÇÂ∏∏ Assertions.assertTimeout(Duration.ofMillis(1000), () -&gt; Thread.sleep(500));} 6„ÄÅÂø´ÈÄüÂ§±Ë¥• ÈÄöËøá fail ÊñπÊ≥ïÁõ¥Êé•‰ΩøÂæóÊµãËØïÂ§±Ë¥• 12345@Test@DisplayName(&quot;fail&quot;)public void shouldFail() { fail(&quot;This should fail&quot;);} 4„ÄÅÂâçÁΩÆÊù°‰ª∂ÔºàassumptionsÔºâ JUnit 5 ‰∏≠ÁöÑÂâçÁΩÆÊù°‰ª∂Ôºàassumptions„ÄêÂÅáËÆæ„ÄëÔºâÁ±ª‰ºº‰∫éÊñ≠Ë®ÄÔºå‰∏çÂêå‰πãÂ§ÑÂú®‰∫é‰∏çÊª°Ë∂≥ÁöÑÊñ≠Ë®Ä‰ºö‰ΩøÂæóÊµãËØïÊñπÊ≥ïÂ§±Ë¥•ÔºåËÄå‰∏çÊª°Ë∂≥ÁöÑÂâçÁΩÆÊù°‰ª∂Âè™‰ºö‰ΩøÂæóÊµãËØïÊñπÊ≥ïÁöÑÊâßË°åÁªàÊ≠¢„ÄÇÂâçÁΩÆÊù°‰ª∂ÂèØ‰ª•ÁúãÊàêÊòØÊµãËØïÊñπÊ≥ïÊâßË°åÁöÑÂâçÊèêÔºåÂΩìËØ•ÂâçÊèê‰∏çÊª°Ë∂≥Êó∂ÔºåÂ∞±Ê≤°ÊúâÁªßÁª≠ÊâßË°åÁöÑÂøÖË¶Å„ÄÇ 1234567891011121314151617181920@DisplayName(&quot;ÂâçÁΩÆÊù°‰ª∂&quot;)public class AssumptionsTest { private final String environment = &quot;DEV&quot;; @Test @DisplayName(&quot;simple&quot;) public void simpleAssume() { assumeTrue(Objects.equals(this.environment, &quot;DEV&quot;)); assumeFalse(() -&gt; Objects.equals(this.environment, &quot;PROD&quot;)); } @Test @DisplayName(&quot;assume then do&quot;) public void assumeThenDo() { assumingThat( Objects.equals(this.environment, &quot;DEV&quot;), () -&gt; System.out.println(&quot;In DEV&quot;) ); }} assumeTrue Âíå assumFalse Á°Æ‰øùÁªôÂÆöÁöÑÊù°‰ª∂‰∏∫ true Êàñ falseÔºå‰∏çÊª°Ë∂≥Êù°‰ª∂‰ºö‰ΩøÂæóÊµãËØïÊâßË°åÁªàÊ≠¢„ÄÇassumingThat ÁöÑÂèÇÊï∞ÊòØË°®Á§∫Êù°‰ª∂ÁöÑÂ∏ÉÂ∞îÂÄºÂíåÂØπÂ∫îÁöÑ Executable Êé•Âè£ÁöÑÂÆûÁé∞ÂØπË±°„ÄÇÂè™ÊúâÊù°‰ª∂Êª°Ë∂≥Êó∂ÔºåExecutable ÂØπË±°Êâç‰ºöË¢´ÊâßË°åÔºõÂΩìÊù°‰ª∂‰∏çÊª°Ë∂≥Êó∂ÔºåÊµãËØïÊâßË°åÂπ∂‰∏ç‰ºöÁªàÊ≠¢„ÄÇ 5„ÄÅÂµåÂ•óÊµãËØï JUnit 5 ÂèØ‰ª•ÈÄöËøá Java ‰∏≠ÁöÑÂÜÖÈÉ®Á±ªÂíå@Nested Ê≥®Ëß£ÂÆûÁé∞ÂµåÂ•óÊµãËØïÔºå‰ªéËÄåÂèØ‰ª•Êõ¥Â•ΩÁöÑÊääÁõ∏ÂÖ≥ÁöÑÊµãËØïÊñπÊ≥ïÁªÑÁªáÂú®‰∏ÄËµ∑„ÄÇÂú®ÂÜÖÈÉ®Á±ª‰∏≠ÂèØ‰ª•‰ΩøÁî®@BeforeEach Âíå@AfterEach Ê≥®Ëß£ÔºåËÄå‰∏îÂµåÂ•óÁöÑÂ±ÇÊ¨°Ê≤°ÊúâÈôêÂà∂„ÄÇ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071@DisplayName(&quot;A stack&quot;)class TestingAStackDemo { Stack&lt;Object&gt; stack; @Test @DisplayName(&quot;is instantiated with new Stack()&quot;) void isInstantiatedWithNew() { new Stack&lt;&gt;(); } @Nested @DisplayName(&quot;when new&quot;) class WhenNew { @BeforeEach void createNewStack() { stack = new Stack&lt;&gt;(); } @Test @DisplayName(&quot;is empty&quot;) void isEmpty() { assertTrue(stack.isEmpty()); } @Test @DisplayName(&quot;throws EmptyStackException when popped&quot;) void throwsExceptionWhenPopped() { assertThrows(EmptyStackException.class, stack::pop); } @Test @DisplayName(&quot;throws EmptyStackException when peeked&quot;) void throwsExceptionWhenPeeked() { assertThrows(EmptyStackException.class, stack::peek); } @Nested @DisplayName(&quot;after pushing an element&quot;) class AfterPushing { String anElement = &quot;an element&quot;; @BeforeEach void pushAnElement() { stack.push(anElement); } @Test @DisplayName(&quot;it is no longer empty&quot;) void isNotEmpty() { assertFalse(stack.isEmpty()); } @Test @DisplayName(&quot;returns the element when popped and is empty&quot;) void returnElementWhenPopped() { assertEquals(anElement, stack.pop()); assertTrue(stack.isEmpty()); } @Test @DisplayName(&quot;returns the element when peeked but remains not empty&quot;) void returnElementWhenPeeked() { assertEquals(anElement, stack.peek()); assertFalse(stack.isEmpty()); } } }} 6„ÄÅÂèÇÊï∞ÂåñÊµãËØï ÂèÇÊï∞ÂåñÊµãËØïÊòØJUnit5ÂæàÈáçË¶ÅÁöÑ‰∏Ä‰∏™Êñ∞ÁâπÊÄßÔºåÂÆÉ‰ΩøÂæóÁî®‰∏çÂêåÁöÑÂèÇÊï∞Â§öÊ¨°ËøêË°åÊµãËØïÊàê‰∏∫‰∫ÜÂèØËÉΩÔºå‰πü‰∏∫Êàë‰ª¨ÁöÑÂçïÂÖÉÊµãËØïÂ∏¶Êù•ËÆ∏Â§ö‰æøÂà©„ÄÇ Âà©Áî®**@ValueSource**Á≠âÊ≥®Ëß£ÔºåÊåáÂÆöÂÖ•ÂèÇÔºåÊàë‰ª¨Â∞ÜÂèØ‰ª•‰ΩøÁî®‰∏çÂêåÁöÑÂèÇÊï∞ËøõË°åÂ§öÊ¨°ÂçïÂÖÉÊµãËØïÔºåËÄå‰∏çÈúÄË¶ÅÊØèÊñ∞Â¢û‰∏Ä‰∏™ÂèÇÊï∞Â∞±Êñ∞Â¢û‰∏Ä‰∏™ÂçïÂÖÉÊµãËØïÔºåÁúÅÂéª‰∫ÜÂæàÂ§öÂÜó‰Ωô‰ª£Á†Å„ÄÇ @ValueSource: ‰∏∫ÂèÇÊï∞ÂåñÊµãËØïÊåáÂÆöÂÖ•ÂèÇÊù•Ê∫êÔºåÊîØÊåÅÂÖ´Â§ßÂü∫Á°ÄÁ±ª‰ª•ÂèäStringÁ±ªÂûã,ClassÁ±ªÂûã @NullSource: Ë°®Á§∫‰∏∫ÂèÇÊï∞ÂåñÊµãËØïÊèê‰æõ‰∏Ä‰∏™nullÁöÑÂÖ•ÂèÇ @EnumSource: Ë°®Á§∫‰∏∫ÂèÇÊï∞ÂåñÊµãËØïÊèê‰æõ‰∏Ä‰∏™Êûö‰∏æÂÖ•ÂèÇ @CsvFileSourceÔºöË°®Á§∫ËØªÂèñÊåáÂÆöCSVÊñá‰ª∂ÂÜÖÂÆπ‰Ωú‰∏∫ÂèÇÊï∞ÂåñÊµãËØïÂÖ•ÂèÇ @MethodSourceÔºöË°®Á§∫ËØªÂèñÊåáÂÆöÊñπÊ≥ïÁöÑËøîÂõûÂÄº‰Ωú‰∏∫ÂèÇÊï∞ÂåñÊµãËØïÂÖ•ÂèÇ(Ê≥®ÊÑèÊñπÊ≥ïËøîÂõûÈúÄË¶ÅÊòØ‰∏Ä‰∏™ÊµÅ) ÂΩìÁÑ∂Â¶ÇÊûúÂèÇÊï∞ÂåñÊµãËØï‰ªÖ‰ªÖÂè™ËÉΩÂÅöÂà∞ÊåáÂÆöÊôÆÈÄöÁöÑÂÖ•ÂèÇËøòËææ‰∏çÂà∞ËÆ©ÊàëËßâÂæóÊÉäËâ≥ÁöÑÂú∞Ê≠•„ÄÇËÆ©ÊàëÁúüÊ≠£ÊÑüÂà∞‰ªñÁöÑÂº∫Â§ß‰πãÂ§ÑÁöÑÂú∞ÊñπÂú®‰∫é‰ªñÂèØ‰ª•ÊîØÊåÅÂ§ñÈÉ®ÁöÑÂêÑÁ±ªÂÖ•ÂèÇ„ÄÇÂ¶Ç:CSV,YML,JSON Êñá‰ª∂ÁîöËá≥ÊñπÊ≥ïÁöÑËøîÂõûÂÄº‰πüÂèØ‰ª•‰Ωú‰∏∫ÂÖ•ÂèÇ„ÄÇÂè™ÈúÄË¶ÅÂéªÂÆûÁé∞ArgumentsProviderÊé•Âè£Ôºå‰ªª‰ΩïÂ§ñÈÉ®Êñá‰ª∂ÈÉΩÂèØ‰ª•‰Ωú‰∏∫ÂÆÉÁöÑÂÖ•ÂèÇ„ÄÇ 1234567891011121314151617181920@ParameterizedTest@ValueSource(strings = {&quot;one&quot;, &quot;two&quot;, &quot;three&quot;})@DisplayName(&quot;ÂèÇÊï∞ÂåñÊµãËØï1&quot;)public void parameterizedTest1(String string) { System.out.println(string); Assertions.assertTrue(StringUtils.isNotBlank(string));}@ParameterizedTest@MethodSource(&quot;method&quot;) //ÊåáÂÆöÊñπÊ≥ïÂêç@DisplayName(&quot;ÊñπÊ≥ïÊù•Ê∫êÂèÇÊï∞&quot;)public void testWithExplicitLocalMethodSource(String name) { System.out.println(name); Assertions.assertNotNull(name);}static Stream&lt;String&gt; method() { return Stream.of(&quot;apple&quot;, &quot;banana&quot;);} 7„ÄÅËøÅÁßªÊåáÂçó Âú®ËøõË°åËøÅÁßªÁöÑÊó∂ÂÄôÈúÄË¶ÅÊ≥®ÊÑèÂ¶Ç‰∏ãÁöÑÂèòÂåñÔºö Ê≥®Ëß£Âú® org.junit.jupiter.api ÂåÖ‰∏≠ÔºåÊñ≠Ë®ÄÂú® org.junit.jupiter.api.Assertions Á±ª‰∏≠ÔºåÂâçÁΩÆÊù°‰ª∂Âú® org.junit.jupiter.api.Assumptions Á±ª‰∏≠„ÄÇ Êää@Before Âíå@After ÊõøÊç¢Êàê@BeforeEach Âíå@AfterEach„ÄÇ Êää@BeforeClass Âíå@AfterClass ÊõøÊç¢Êàê@BeforeAll Âíå@AfterAll„ÄÇ Êää@Ignore ÊõøÊç¢Êàê@Disabled„ÄÇ Êää@Category ÊõøÊç¢Êàê@Tag„ÄÇ Êää@RunWith„ÄÅ@Rule Âíå@ClassRule ÊõøÊç¢Êàê@ExtendWith„ÄÇ 5.ÊåáÊ†áÁõëÊéß 1„ÄÅSpringBoot Actuator 1„ÄÅÁÆÄ‰ªã Êú™Êù•ÊØè‰∏Ä‰∏™ÂæÆÊúçÂä°Âú®‰∫ë‰∏äÈÉ®ÁΩ≤‰ª•ÂêéÔºåÊàë‰ª¨ÈÉΩÈúÄË¶ÅÂØπÂÖ∂ËøõË°åÁõëÊéß„ÄÅËøΩË∏™„ÄÅÂÆ°ËÆ°„ÄÅÊéßÂà∂Á≠â„ÄÇSpringBootÂ∞±ÊäΩÂèñ‰∫ÜActuatorÂú∫ÊôØÔºå‰ΩøÂæóÊàë‰ª¨ÊØè‰∏™ÂæÆÊúçÂä°Âø´ÈÄüÂºïÁî®Âç≥ÂèØËé∑ÂæóÁîü‰∫ßÁ∫ßÂà´ÁöÑÂ∫îÁî®ÁõëÊéß„ÄÅÂÆ°ËÆ°Á≠âÂäüËÉΩ„ÄÇ 1234&lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;&lt;/dependency&gt; 2„ÄÅ1.x‰∏é2.xÁöÑ‰∏çÂêå 3„ÄÅÂ¶Ç‰Ωï‰ΩøÁî® ÂºïÂÖ•Âú∫ÊôØ ËÆøÈóÆ http://localhost:8080/actuator/** Êö¥Èú≤ÊâÄÊúâÁõëÊéß‰ø°ÊÅØ‰∏∫HTTP 123456management: endpoints: enabled-by-default: true #Êö¥Èú≤ÊâÄÊúâÁ´ØÁÇπ‰ø°ÊÅØ web: exposure: include: '*' #‰ª•webÊñπÂºèÊö¥Èú≤ ÊµãËØï http://localhost:8080/actuator/beans http://localhost:8080/actuator/configprops http://localhost:8080/actuator/metrics http://localhost:8080/actuator/metrics/jvm.gc.pause http://localhost:8080/actuator/endpointName/detailPath „ÄÇ„ÄÇ„ÄÇ„ÄÇ„ÄÇ„ÄÇ 4„ÄÅÂèØËßÜÂåñ https://github.com/codecentric/spring-boot-admin 2„ÄÅActuator Endpoint 1„ÄÅÊúÄÂ∏∏‰ΩøÁî®ÁöÑÁ´ØÁÇπ ID ÊèèËø∞ auditevents Êö¥Èú≤ÂΩìÂâçÂ∫îÁî®Á®ãÂ∫èÁöÑÂÆ°Ê†∏‰∫ã‰ª∂‰ø°ÊÅØ„ÄÇÈúÄË¶Å‰∏Ä‰∏™AuditEventRepositoryÁªÑ‰ª∂„ÄÇ beans ÊòæÁ§∫Â∫îÁî®Á®ãÂ∫è‰∏≠ÊâÄÊúâSpring BeanÁöÑÂÆåÊï¥ÂàóË°®„ÄÇ caches Êö¥Èú≤ÂèØÁî®ÁöÑÁºìÂ≠ò„ÄÇ conditions ÊòæÁ§∫Ëá™Âä®ÈÖçÁΩÆÁöÑÊâÄÊúâÊù°‰ª∂‰ø°ÊÅØÔºåÂåÖÊã¨ÂåπÈÖçÊàñ‰∏çÂåπÈÖçÁöÑÂéüÂõ†„ÄÇ configprops ÊòæÁ§∫ÊâÄÊúâ@ConfigurationProperties„ÄÇ env Êö¥Èú≤SpringÁöÑÂ±ûÊÄßConfigurableEnvironment flyway ÊòæÁ§∫Â∑≤Â∫îÁî®ÁöÑÊâÄÊúâFlywayÊï∞ÊçÆÂ∫ìËøÅÁßª„ÄÇ ÈúÄË¶Å‰∏Ä‰∏™ÊàñÂ§ö‰∏™FlywayÁªÑ‰ª∂„ÄÇ health ÊòæÁ§∫Â∫îÁî®Á®ãÂ∫èËøêË°åÁä∂ÂÜµ‰ø°ÊÅØ„ÄÇ httptrace ÊòæÁ§∫HTTPË∑üË∏™‰ø°ÊÅØÔºàÈªòËÆ§ÊÉÖÂÜµ‰∏ãÔºåÊúÄËøë100‰∏™HTTPËØ∑Ê±Ç-ÂìçÂ∫îÔºâ„ÄÇÈúÄË¶Å‰∏Ä‰∏™HttpTraceRepositoryÁªÑ‰ª∂„ÄÇ info ÊòæÁ§∫Â∫îÁî®Á®ãÂ∫è‰ø°ÊÅØ„ÄÇ integrationgraph ÊòæÁ§∫Spring integrationgraph „ÄÇÈúÄË¶Å‰æùËµñspring-integration-core„ÄÇ loggers ÊòæÁ§∫Âíå‰øÆÊîπÂ∫îÁî®Á®ãÂ∫è‰∏≠Êó•ÂøóÁöÑÈÖçÁΩÆ„ÄÇ liquibase ÊòæÁ§∫Â∑≤Â∫îÁî®ÁöÑÊâÄÊúâLiquibaseÊï∞ÊçÆÂ∫ìËøÅÁßª„ÄÇÈúÄË¶Å‰∏Ä‰∏™ÊàñÂ§ö‰∏™LiquibaseÁªÑ‰ª∂„ÄÇ metrics ÊòæÁ§∫ÂΩìÂâçÂ∫îÁî®Á®ãÂ∫èÁöÑ‚ÄúÊåáÊ†á‚Äù‰ø°ÊÅØ„ÄÇ mappings ÊòæÁ§∫ÊâÄÊúâ@RequestMappingË∑ØÂæÑÂàóË°®„ÄÇ scheduledtasks ÊòæÁ§∫Â∫îÁî®Á®ãÂ∫è‰∏≠ÁöÑËÆ°Âàí‰ªªÂä°„ÄÇ sessions ÂÖÅËÆ∏‰ªéSpring SessionÊîØÊåÅÁöÑ‰ºöËØùÂ≠òÂÇ®‰∏≠Ê£ÄÁ¥¢ÂíåÂà†Èô§Áî®Êà∑‰ºöËØù„ÄÇÈúÄË¶Å‰ΩøÁî®Spring SessionÁöÑÂü∫‰∫éServletÁöÑWebÂ∫îÁî®Á®ãÂ∫è„ÄÇ shutdown ‰ΩøÂ∫îÁî®Á®ãÂ∫èÊ≠£Â∏∏ÂÖ≥Èó≠„ÄÇÈªòËÆ§Á¶ÅÁî®„ÄÇ startup ÊòæÁ§∫Áî±ApplicationStartupÊî∂ÈõÜÁöÑÂêØÂä®Ê≠•È™§Êï∞ÊçÆ„ÄÇÈúÄË¶Å‰ΩøÁî®SpringApplicationËøõË°åÈÖçÁΩÆBufferingApplicationStartup„ÄÇ threaddump ÊâßË°åÁ∫øÁ®ãËΩ¨ÂÇ®„ÄÇ Â¶ÇÊûúÊÇ®ÁöÑÂ∫îÁî®Á®ãÂ∫èÊòØWebÂ∫îÁî®Á®ãÂ∫èÔºàSpring MVCÔºåSpring WebFluxÊàñJerseyÔºâÔºåÂàôÂèØ‰ª•‰ΩøÁî®‰ª•‰∏ãÈôÑÂä†Á´ØÁÇπÔºö ID ÊèèËø∞ heapdump ËøîÂõûhprofÂ†ÜËΩ¨ÂÇ®Êñá‰ª∂„ÄÇ jolokia ÈÄöËøáHTTPÊö¥Èú≤JMX beanÔºàÈúÄË¶ÅÂºïÂÖ•JolokiaÔºå‰∏çÈÄÇÁî®‰∫éWebFluxÔºâ„ÄÇÈúÄË¶ÅÂºïÂÖ•‰æùËµñjolokia-core„ÄÇ logfile ËøîÂõûÊó•ÂøóÊñá‰ª∂ÁöÑÂÜÖÂÆπÔºàÂ¶ÇÊûúÂ∑≤ËÆæÁΩÆlogging.file.nameÊàñlogging.file.pathÂ±ûÊÄßÔºâ„ÄÇÊîØÊåÅ‰ΩøÁî®HTTPRangeÊ†áÂ§¥Êù•Ê£ÄÁ¥¢ÈÉ®ÂàÜÊó•ÂøóÊñá‰ª∂ÁöÑÂÜÖÂÆπ„ÄÇ prometheus ‰ª•PrometheusÊúçÂä°Âô®ÂèØ‰ª•ÊäìÂèñÁöÑÊ†ºÂºèÂÖ¨ÂºÄÊåáÊ†á„ÄÇÈúÄË¶Å‰æùËµñmicrometer-registry-prometheus„ÄÇ ÊúÄÂ∏∏Áî®ÁöÑEndpoint HealthÔºöÁõëÊéßÁä∂ÂÜµ MetricsÔºöËøêË°åÊó∂ÊåáÊ†á LoggersÔºöÊó•ÂøóËÆ∞ÂΩï 2„ÄÅHealth Endpoint ÂÅ•Â∫∑Ê£ÄÊü•Á´ØÁÇπÔºåÊàë‰ª¨‰∏ÄËà¨Áî®‰∫éÂú®‰∫ëÂπ≥Âè∞ÔºåÂπ≥Âè∞‰ºöÂÆöÊó∂ÁöÑÊ£ÄÊü•Â∫îÁî®ÁöÑÂÅ•Â∫∑Áä∂ÂÜµÔºåÊàë‰ª¨Â∞±ÈúÄË¶ÅHealth EndpointÂèØ‰ª•‰∏∫Âπ≥Âè∞ËøîÂõûÂΩìÂâçÂ∫îÁî®ÁöÑ‰∏ÄÁ≥ªÂàóÁªÑ‰ª∂ÂÅ•Â∫∑Áä∂ÂÜµÁöÑÈõÜÂêà„ÄÇ ÈáçË¶ÅÁöÑÂá†ÁÇπÔºö health endpointËøîÂõûÁöÑÁªìÊûúÔºåÂ∫îËØ•ÊòØ‰∏ÄÁ≥ªÂàóÂÅ•Â∫∑Ê£ÄÊü•ÂêéÁöÑ‰∏Ä‰∏™Ê±áÊÄªÊä•Âëä ÂæàÂ§öÁöÑÂÅ•Â∫∑Ê£ÄÊü•ÈªòËÆ§Â∑≤ÁªèËá™Âä®ÈÖçÁΩÆÂ•Ω‰∫ÜÔºåÊØîÂ¶ÇÔºöÊï∞ÊçÆÂ∫ì„ÄÅredisÁ≠â ÂèØ‰ª•ÂæàÂÆπÊòìÁöÑÊ∑ªÂä†Ëá™ÂÆö‰πâÁöÑÂÅ•Â∫∑Ê£ÄÊü•Êú∫Âà∂ 3„ÄÅMetrics Endpoint Êèê‰æõËØ¶ÁªÜÁöÑ„ÄÅÂ±ÇÁ∫ßÁöÑ„ÄÅÁ©∫Èó¥ÊåáÊ†á‰ø°ÊÅØÔºåËøô‰∫õ‰ø°ÊÅØÂèØ‰ª•Ë¢´pullÔºà‰∏ªÂä®Êé®ÈÄÅÔºâÊàñËÄÖpushÔºàË¢´Âä®Ëé∑ÂèñÔºâÊñπÂºèÂæóÂà∞Ôºõ ÈÄöËøáMetricsÂØπÊé•Â§öÁßçÁõëÊéßÁ≥ªÁªü ÁÆÄÂåñÊ†∏ÂøÉMetricsÂºÄÂèë Ê∑ªÂä†Ëá™ÂÆö‰πâMetricsÊàñËÄÖÊâ©Â±ïÂ∑≤ÊúâMetrics 4„ÄÅÁÆ°ÁêÜEndpoints 1„ÄÅÂºÄÂêØ‰∏éÁ¶ÅÁî®Endpoints ÈªòËÆ§ÊâÄÊúâÁöÑEndpointÈô§ËøáshutdownÈÉΩÊòØÂºÄÂêØÁöÑ„ÄÇ ÈúÄË¶ÅÂºÄÂêØÊàñËÄÖÁ¶ÅÁî®Êüê‰∏™Endpoint„ÄÇÈÖçÁΩÆÊ®°Âºè‰∏∫ management.endpoint..enabled = true 1234management: endpoint: beans: enabled: true ÊàñËÄÖÁ¶ÅÁî®ÊâÄÊúâÁöÑEndpointÁÑ∂ÂêéÊâãÂä®ÂºÄÂêØÊåáÂÆöÁöÑEndpoint 12345678management: endpoints: enabled-by-default: false endpoint: beans: enabled: true health: enabled: true 2„ÄÅÊö¥Èú≤Endpoints ÊîØÊåÅÁöÑÊö¥Èú≤ÊñπÂºè HTTPÔºöÈªòËÆ§Âè™Êö¥Èú≤healthÂíåinfo Endpoint JMXÔºöÈªòËÆ§Êö¥Èú≤ÊâÄÊúâEndpoint Èô§ËøáhealthÂíåinfoÔºåÂâ©‰∏ãÁöÑEndpointÈÉΩÂ∫îËØ•ËøõË°å‰øùÊä§ËÆøÈóÆ„ÄÇÂ¶ÇÊûúÂºïÂÖ•SpringSecurityÔºåÂàô‰ºöÈªòËÆ§ÈÖçÁΩÆÂÆâÂÖ®ËÆøÈóÆËßÑÂàô ID JMX Web auditevents Yes No beans Yes No caches Yes No conditions Yes No configprops Yes No env Yes No flyway Yes No health Yes Yes heapdump N/A No httptrace Yes No info Yes Yes integrationgraph Yes No jolokia N/A No logfile N/A No loggers Yes No liquibase Yes No metrics Yes No mappings Yes No prometheus N/A No scheduledtasks Yes No sessions Yes No shutdown Yes No startup Yes No threaddump Yes No 3„ÄÅÂÆöÂà∂ Endpoint 1„ÄÅÂÆöÂà∂ Health ‰ø°ÊÅØ 12345678910111213141516171819202122232425262728import org.springframework.boot.actuate.health.Health;import org.springframework.boot.actuate.health.HealthIndicator;import org.springframework.stereotype.Component;@Componentpublic class MyHealthIndicator implements HealthIndicator { @Override public Health health() { int errorCode = check(); // perform some specific health check if (errorCode != 0) { return Health.down().withDetail(&quot;Error Code&quot;, errorCode).build(); } return Health.up().build(); }}ÊûÑÂª∫HealthHealth build = Health.down() .withDetail(&quot;msg&quot;, &quot;error service&quot;) .withDetail(&quot;code&quot;, &quot;500&quot;) .withException(new RuntimeException()) .build();management: health: enabled: true show-details: always #ÊÄªÊòØÊòæÁ§∫ËØ¶ÁªÜ‰ø°ÊÅØ„ÄÇÂèØÊòæÁ§∫ÊØè‰∏™Ê®°ÂùóÁöÑÁä∂ÊÄÅ‰ø°ÊÅØ 12345678910111213141516171819202122232425262728293031@Componentpublic class MyComHealthIndicator extends AbstractHealthIndicator { /** * ÁúüÂÆûÁöÑÊ£ÄÊü•ÊñπÊ≥ï * @param builder * @throws Exception */ @Override protected void doHealthCheck(Health.Builder builder) throws Exception { //mongodb„ÄÇ Ëé∑ÂèñËøûÊé•ËøõË°åÊµãËØï Map&lt;String,Object&gt; map = new HashMap&lt;&gt;(); // Ê£ÄÊü•ÂÆåÊàê if(1 == 2){// builder.up(); //ÂÅ•Â∫∑ builder.status(Status.UP); map.put(&quot;count&quot;,1); map.put(&quot;ms&quot;,100); }else {// builder.down(); builder.status(Status.OUT_OF_SERVICE); map.put(&quot;err&quot;,&quot;ËøûÊé•Ë∂ÖÊó∂&quot;); map.put(&quot;ms&quot;,3000); } builder.withDetail(&quot;code&quot;,100) .withDetails(map); }} 2„ÄÅÂÆöÂà∂info‰ø°ÊÅØ Â∏∏Áî®‰∏§ÁßçÊñπÂºè 1„ÄÅÁºñÂÜôÈÖçÁΩÆÊñá‰ª∂ 12345info: appName: boot-admin version: 2.0.1 mavenProjectName: @project.artifactId@ #‰ΩøÁî®@@ÂèØ‰ª•Ëé∑ÂèñmavenÁöÑpomÊñá‰ª∂ÂÄº mavenProjectVersion: @project.version@ 2„ÄÅÁºñÂÜôInfoContributor 12345678910111213141516import java.util.Collections;import org.springframework.boot.actuate.info.Info;import org.springframework.boot.actuate.info.InfoContributor;import org.springframework.stereotype.Component;@Componentpublic class ExampleInfoContributor implements InfoContributor { @Override public void contribute(Info.Builder builder) { builder.withDetail(&quot;example&quot;, Collections.singletonMap(&quot;key&quot;, &quot;value&quot;)); }} http://localhost:8080/actuator/info ‰ºöËæìÂá∫‰ª•‰∏äÊñπÂºèËøîÂõûÁöÑÊâÄÊúâinfo‰ø°ÊÅØ 3„ÄÅÂÆöÂà∂Metrics‰ø°ÊÅØ 1„ÄÅSpringBootÊîØÊåÅËá™Âä®ÈÄÇÈÖçÁöÑMetrics JVM metrics, report utilization of: Various memory and buffer pools Statistics related to garbage collection Threads utilization Number of classes loaded/unloaded CPU metrics File descriptor metrics Kafka consumer and producer metrics Log4j2 metrics: record the number of events logged to Log4j2 at each level Logback metrics: record the number of events logged to Logback at each level Uptime metrics: report a gauge for uptime and a fixed gauge representing the application‚Äôs absolute start time Tomcat metrics (server.tomcat.mbeanregistry.enabled must be set to true for all Tomcat metrics to be registered) Spring Integration metrics 2„ÄÅÂ¢ûÂä†ÂÆöÂà∂Metrics 1234567891011121314151617class MyService{ Counter counter; public MyService(MeterRegistry meterRegistry){ counter = meterRegistry.counter(&quot;myservice.method.running.counter&quot;); } public void hello() { counter.increment(); }}//‰πüÂèØ‰ª•‰ΩøÁî®‰∏ãÈù¢ÁöÑÊñπÂºè@BeanMeterBinder queueSize(Queue queue) { return (registry) -&gt; Gauge.builder(&quot;queueSize&quot;, queue::size).register(registry);} 4„ÄÅÂÆöÂà∂Endpoint 12345678910111213141516@Component@Endpoint(id = &quot;container&quot;)public class DockerEndpoint { @ReadOperation public Map getDockerInfo(){ return Collections.singletonMap(&quot;info&quot;,&quot;docker started...&quot;); } @WriteOperation private void restartDocker(){ System.out.println(&quot;docker restarted....&quot;); }} Âú∫ÊôØÔºöÂºÄÂèëReadinessEndpointÊù•ÁÆ°ÁêÜÁ®ãÂ∫èÊòØÂê¶Â∞±Áª™ÔºåÊàñËÄÖLiveness****EndpointÊù•ÁÆ°ÁêÜÁ®ãÂ∫èÊòØÂê¶Â≠òÊ¥ªÔºõ ÂΩìÁÑ∂ÔºåËøô‰∏™‰πüÂèØ‰ª•Áõ¥Êé•‰ΩøÁî® https://docs.spring.io/spring-boot/docs/current/reference/html/production-ready-features.html#production-ready-kubernetes-probes 6.ÂéüÁêÜËß£Êûê 1„ÄÅProfileÂäüËÉΩ ‰∏∫‰∫ÜÊñπ‰æøÂ§öÁéØÂ¢ÉÈÄÇÈÖçÔºåspringbootÁÆÄÂåñ‰∫ÜprofileÂäüËÉΩ„ÄÇ 1„ÄÅapplication-profileÂäüËÉΩ ÈªòËÆ§ÈÖçÁΩÆÊñá‰ª∂ application.yamlÔºõ‰ªª‰ΩïÊó∂ÂÄôÈÉΩ‰ºöÂä†ËΩΩ ÊåáÂÆöÁéØÂ¢ÉÈÖçÁΩÆÊñá‰ª∂ application-{env}.yaml ÊøÄÊ¥ªÊåáÂÆöÁéØÂ¢É ÈÖçÁΩÆÊñá‰ª∂ÊøÄÊ¥ª ÂëΩ‰ª§Ë°åÊøÄÊ¥ªÔºöjava -jar xxx.jar --spring.profiles.active=prod --person.name=haha ‰øÆÊîπÈÖçÁΩÆÊñá‰ª∂ÁöÑ‰ªªÊÑèÂÄºÔºåÂëΩ‰ª§Ë°å‰ºòÂÖà ÈªòËÆ§ÈÖçÁΩÆ‰∏éÁéØÂ¢ÉÈÖçÁΩÆÂêåÊó∂ÁîüÊïà ÂêåÂêçÈÖçÁΩÆÈ°πÔºåprofileÈÖçÁΩÆ‰ºòÂÖà 2„ÄÅ@ProfileÊù°‰ª∂Ë£ÖÈÖçÂäüËÉΩ 1234567@Configuration(proxyBeanMethods = false)@Profile(&quot;production&quot;)public class ProductionConfiguration { // ...} 3„ÄÅprofileÂàÜÁªÑ 1234spring.profiles.group.production[0]=proddbspring.profiles.group.production[1]=prodmq‰ΩøÁî®Ôºö--spring.profiles.active=production ÊøÄÊ¥ª 2„ÄÅÂ§ñÈÉ®ÂåñÈÖçÁΩÆ https://docs.spring.io/spring-boot/docs/current/reference/html/spring-boot-features.html#boot-features-external-config Default properties (specified by setting SpringApplication.setDefaultProperties). @PropertySource annotations on your @Configuration classes. Please note that such property sources are not added to the Environment until the application context is being refreshed. This is too late to configure certain properties such as logging.* and spring.main.* which are read before refresh begins. Config data (such as **application.properties** files) A RandomValuePropertySource that has properties only in random.*. OS environment variables. Java System properties (System.getProperties()). JNDI attributes from java:comp/env. ServletContext init parameters. ServletConfig init parameters. Properties from SPRING_APPLICATION_JSON (inline JSON embedded in an environment variable or system property). Command line arguments. properties attribute on your tests. Available on @SpringBootTest and the test annotations for testing a particular slice of your application. @TestPropertySource annotations on your tests. Devtools global settings properties in the $HOME/.config/spring-boot directory when devtools is active. 1„ÄÅÂ§ñÈÉ®ÈÖçÁΩÆÊ∫ê Â∏∏Áî®ÔºöJavaÂ±ûÊÄßÊñá‰ª∂„ÄÅYAMLÊñá‰ª∂„ÄÅÁéØÂ¢ÉÂèòÈáè„ÄÅÂëΩ‰ª§Ë°åÂèÇÊï∞Ôºõ 2„ÄÅÈÖçÁΩÆÊñá‰ª∂Êü•Êâæ‰ΩçÁΩÆ (1) classpath Ê†πË∑ØÂæÑ (2) classpath Ê†πË∑ØÂæÑ‰∏ãconfigÁõÆÂΩï (3) jarÂåÖÂΩìÂâçÁõÆÂΩï (4) jarÂåÖÂΩìÂâçÁõÆÂΩïÁöÑconfigÁõÆÂΩï (5) /configÂ≠êÁõÆÂΩïÁöÑÁõ¥Êé•Â≠êÁõÆÂΩï 3„ÄÅÈÖçÁΩÆÊñá‰ª∂Âä†ËΩΩÈ°∫Â∫èÔºö ÂΩìÂâçjarÂåÖÂÜÖÈÉ®ÁöÑapplication.propertiesÂíåapplication.yml ÂΩìÂâçjarÂåÖÂÜÖÈÉ®ÁöÑapplication-{profile}.properties Âíå application-{profile}.yml ÂºïÁî®ÁöÑÂ§ñÈÉ®jarÂåÖÁöÑapplication.propertiesÂíåapplication.yml ÂºïÁî®ÁöÑÂ§ñÈÉ®jarÂåÖÁöÑapplication-{profile}.properties Âíå application-{profile}.yml 4„ÄÅÊåáÂÆöÁéØÂ¢É‰ºòÂÖàÔºåÂ§ñÈÉ®‰ºòÂÖàÔºåÂêéÈù¢ÁöÑÂèØ‰ª•Ë¶ÜÁõñÂâçÈù¢ÁöÑÂêåÂêçÈÖçÁΩÆÈ°π 3„ÄÅËá™ÂÆö‰πâstarter 1„ÄÅstarterÂêØÂä®ÂéüÁêÜ starter-pomÂºïÂÖ• autoconfigurer ÂåÖ autoconfigureÂåÖ‰∏≠ÈÖçÁΩÆ‰ΩøÁî® META-INF/spring.factories ‰∏≠ EnableAutoConfiguration ÁöÑÂÄºÔºå‰ΩøÂæóÈ°πÁõÆÂêØÂä®Âä†ËΩΩÊåáÂÆöÁöÑËá™Âä®ÈÖçÁΩÆÁ±ª ÁºñÂÜôËá™Âä®ÈÖçÁΩÆÁ±ª xxxAutoConfiguration -&gt; xxxxProperties @Configuration @Conditional @EnableConfigurationProperties @Bean ...... ÂºïÂÖ•starter --- xxxAutoConfiguration --- ÂÆπÂô®‰∏≠ÊîæÂÖ•ÁªÑ‰ª∂ ---- ÁªëÂÆöxxxProperties ---- ÈÖçÁΩÆÈ°π 2„ÄÅËá™ÂÆö‰πâstarter atguigu-hello-spring-boot-starterÔºàÂêØÂä®Âô®Ôºâ atguigu-hello-spring-boot-starter-autoconfigureÔºàËá™Âä®ÈÖçÁΩÆÂåÖÔºâ 4„ÄÅSpringBootÂéüÁêÜ SpringÂéüÁêÜ„ÄêSpringÊ≥®Ëß£„Äë„ÄÅSpringMVCÂéüÁêÜ„ÄÅËá™Âä®ÈÖçÁΩÆÂéüÁêÜ„ÄÅSpringBootÂéüÁêÜ 1„ÄÅSpringBootÂêØÂä®ËøáÁ®ã ÂàõÂª∫ SpringApplication ‰øùÂ≠ò‰∏Ä‰∫õ‰ø°ÊÅØ„ÄÇ Âà§ÂÆöÂΩìÂâçÂ∫îÁî®ÁöÑÁ±ªÂûã„ÄÇClassUtils„ÄÇServlet bootstrappers**ÔºöÂàùÂßãÂêØÂä®ÂºïÂØºÂô®ÔºàListÔºâÔºöÂéªspring.factoriesÊñá‰ª∂‰∏≠Êâæ** org.springframework.boot.Bootstrapper Êâæ ApplicationContextInitializerÔºõÂéªspring.factories****Êâæ ApplicationContextInitializer List&lt;ApplicationContextInitializer&lt;?&gt;&gt; initializers Êâæ ApplicationListener ÔºõÂ∫îÁî®ÁõëÂê¨Âô®„ÄÇÂéªspring.factories****Êâæ ApplicationListener List&lt;ApplicationListener&lt;?&gt;&gt; listeners ËøêË°å SpringApplication StopWatch ËÆ∞ÂΩïÂ∫îÁî®ÁöÑÂêØÂä®Êó∂Èó¥ **ÂàõÂª∫ÂºïÂØº‰∏ä‰∏ãÊñáÔºàContextÁéØÂ¢ÉÔºâ**createBootstrapContext() Ëé∑ÂèñÂà∞ÊâÄÊúâ‰πãÂâçÁöÑ bootstrappers Êå®‰∏™ÊâßË°å intitialize() Êù•ÂÆåÊàêÂØπÂºïÂØºÂêØÂä®Âô®‰∏ä‰∏ãÊñáÁéØÂ¢ÉËÆæÁΩÆ ËÆ©ÂΩìÂâçÂ∫îÁî®ËøõÂÖ•headlessÊ®°Âºè„ÄÇjava.awt.headless Ëé∑ÂèñÊâÄÊúâ RunListener**ÔºàËøêË°åÁõëÂê¨Âô®Ôºâ„Äê‰∏∫‰∫ÜÊñπ‰æøÊâÄÊúâListenerËøõË°å‰∫ã‰ª∂ÊÑüÁü•„Äë** getSpringFactoriesInstances Âéªspring.factories****Êâæ SpringApplicationRunListener. ÈÅçÂéÜ SpringApplicationRunListener Ë∞ÉÁî® starting ÊñπÊ≥ïÔºõ Áõ∏ÂΩì‰∫éÈÄöÁü•ÊâÄÊúâÊÑüÂÖ¥Ë∂£Á≥ªÁªüÊ≠£Âú®ÂêØÂä®ËøáÁ®ãÁöÑ‰∫∫ÔºåÈ°πÁõÆÊ≠£Âú® starting„ÄÇ ‰øùÂ≠òÂëΩ‰ª§Ë°åÂèÇÊï∞ÔºõApplicationArguments ÂáÜÂ§áÁéØÂ¢É prepareEnvironmentÔºàÔºâ; ËøîÂõûÊàñËÄÖÂàõÂª∫Âü∫Á°ÄÁéØÂ¢É‰ø°ÊÅØÂØπË±°„ÄÇStandardServletEnvironment ÈÖçÁΩÆÁéØÂ¢É‰ø°ÊÅØÂØπË±°„ÄÇ ËØªÂèñÊâÄÊúâÁöÑÈÖçÁΩÆÊ∫êÁöÑÈÖçÁΩÆÂ±ûÊÄßÂÄº„ÄÇ ÁªëÂÆöÁéØÂ¢É‰ø°ÊÅØ ÁõëÂê¨Âô®Ë∞ÉÁî® listener.environmentPrepared()ÔºõÈÄöÁü•ÊâÄÊúâÁöÑÁõëÂê¨Âô®ÂΩìÂâçÁéØÂ¢ÉÂáÜÂ§áÂÆåÊàê ÂàõÂª∫IOCÂÆπÂô®ÔºàcreateApplicationContextÔºàÔºâÔºâ Ê†πÊçÆÈ°πÁõÆÁ±ªÂûãÔºàServletÔºâÂàõÂª∫ÂÆπÂô®Ôºå ÂΩìÂâç‰ºöÂàõÂª∫ AnnotationConfigServletWebServerApplicationContext ÂáÜÂ§áApplicationContext IOCÂÆπÂô®ÁöÑÂü∫Êú¨‰ø°ÊÅØ prepareContext() ‰øùÂ≠òÁéØÂ¢É‰ø°ÊÅØ IOCÂÆπÂô®ÁöÑÂêéÁΩÆÂ§ÑÁêÜÊµÅÁ®ã„ÄÇ Â∫îÁî®ÂàùÂßãÂåñÂô®ÔºõapplyInitializersÔºõ ÈÅçÂéÜÊâÄÊúâÁöÑ ApplicationContextInitializer „ÄÇË∞ÉÁî® initialize.„ÄÇÊù•ÂØπiocÂÆπÂô®ËøõË°åÂàùÂßãÂåñÊâ©Â±ïÂäüËÉΩ ÈÅçÂéÜÊâÄÊúâÁöÑ listener Ë∞ÉÁî® contextPrepared„ÄÇEventPublishRunListenrÔºõÈÄöÁü•ÊâÄÊúâÁöÑÁõëÂê¨Âô®****contextPrepared ÊâÄÊúâÁöÑÁõëÂê¨Âô® Ë∞ÉÁî® contextLoaded„ÄÇÈÄöÁü•ÊâÄÊúâÁöÑÁõëÂê¨Âô® contextLoadedÔºõ **Âà∑Êñ∞IOCÂÆπÂô®„ÄÇ**refreshContext ÂàõÂª∫ÂÆπÂô®‰∏≠ÁöÑÊâÄÊúâÁªÑ‰ª∂ÔºàSpringÊ≥®Ëß£Ôºâ ÂÆπÂô®Âà∑Êñ∞ÂÆåÊàêÂêéÂ∑•‰ΩúÔºüafterRefresh ÊâÄÊúâÁõëÂê¨ Âô® Ë∞ÉÁî® listeners.started(context); ÈÄöÁü•ÊâÄÊúâÁöÑÁõëÂê¨Âô® started **Ë∞ÉÁî®ÊâÄÊúârunnersÔºõ**callRunners() Ëé∑ÂèñÂÆπÂô®‰∏≠ÁöÑ ApplicationRunner Ëé∑ÂèñÂÆπÂô®‰∏≠ÁöÑ CommandLineRunner ÂêàÂπ∂ÊâÄÊúârunnerÂπ∂‰∏îÊåâÁÖß@OrderËøõË°åÊéíÂ∫è ÈÅçÂéÜÊâÄÊúâÁöÑrunner„ÄÇË∞ÉÁî® run ÊñπÊ≥ï Â¶ÇÊûú‰ª•‰∏äÊúâÂºÇÂ∏∏Ôºå Ë∞ÉÁî®Listener ÁöÑ failed Ë∞ÉÁî®ÊâÄÊúâÁõëÂê¨Âô®ÁöÑ running ÊñπÊ≥ï listeners.running(context); ÈÄöÁü•ÊâÄÊúâÁöÑÁõëÂê¨Âô® running **runningÂ¶ÇÊûúÊúâÈóÆÈ¢ò„ÄÇÁªßÁª≠ÈÄöÁü• failed „ÄÇ**Ë∞ÉÁî®ÊâÄÊúâ Listener ÁöÑ **failedÔºõ**ÈÄöÁü•ÊâÄÊúâÁöÑÁõëÂê¨Âô® failed 123456789public interface Bootstrapper { /** * Initialize the given {@link BootstrapRegistry} with any required registrations. * @param registry the registry to initialize */ void intitialize(BootstrapRegistry registry);} 12345678910111213141516171819202122@FunctionalInterfacepublic interface ApplicationRunner { /** * Callback used to run the bean. * @param args incoming application arguments * @throws Exception on error */ void run(ApplicationArguments args) throws Exception;}@FunctionalInterfacepublic interface CommandLineRunner { /** * Callback used to run the bean. * @param args incoming main method arguments * @throws Exception on error */ void run(String... args) throws Exception;} 2„ÄÅApplication Events and Listeners https://docs.spring.io/spring-boot/docs/current/reference/html/spring-boot-features.html#boot-features-application-events-and-listeners ApplicationContextInitializer ApplicationListener SpringApplicationRunListener 3„ÄÅApplicationRunner ‰∏é CommandLineRunner ÂÖ≠„ÄÅÂü∫Êú¨ÁªÑ‰ª∂ Spring Profiles ‰∏çÂêåÁéØÂ¢É‰∏çÂêåÈÖçÁΩÆÊñá‰ª∂ 12345678application.propertiesÔºàÈªòËÆ§ÔºåÈÖçÁΩÆÈÄâÊã©ÂÖ∂‰ªñ#spring.profiles.active=testÔºàÂÖ∂‰ªñÈÖçÁΩÆÊñá‰ª∂ÁöÑprofileÔºâÊåáÂÆö‰∏çÂêåÁéØÂ¢ÉÈÖçÁΩÆapplication-{profile}.propertiesÔºâËøôÊ†∑ÊØèÊ¨°ÈÉ®ÁΩ≤ÈúÄË¶Å‰øÆÊîπÈÖçÁΩÆÊñá‰ª∂Ôºå‰πüÂèØÈÄöËøájarÂåÖËøêË°åÊó∂ÁöÑÂëΩ‰ª§Â¶Ç‰∏ãÔºöjava -jar target/spring-boot-helloworld-0.0.1.jar --spring.profiles.active=prodapplication-dev.propertiesapplication-prod.propertiesapplication-test.properties spring batch[TODO] Swagger Êé•Âè£ÊñáÊ°£ÔºåÊé•Âè£ÊµãËØï ÂêØÂä®Á±ªÊ∑ªÂä†Ê≥®Ëß£@EnableSwagger2Doc 123456789101112131415161718192021222324252627282930313233343536@ApiÔºöÁî®Âú®ËØ∑Ê±ÇÁöÑÁ±ª‰∏äÔºåË°®Á§∫ÂØπÁ±ªÁöÑËØ¥Êòé tags=&quot;ËØ¥ÊòéËØ•Á±ªÁöÑ‰ΩúÁî®ÔºåÂèØ‰ª•Âú®UIÁïåÈù¢‰∏äÁúãÂà∞ÁöÑÊ≥®Ëß£&quot; value=&quot;ËØ•ÂèÇÊï∞Ê≤°‰ªÄ‰πàÊÑè‰πâÔºåÂú®UIÁïåÈù¢‰∏ä‰πüÁúãÂà∞ÔºåÊâÄ‰ª•‰∏çÈúÄË¶ÅÈÖçÁΩÆ&quot; @ApiOperationÔºöÁî®Âú®ËØ∑Ê±ÇÁöÑÊñπÊ≥ï‰∏äÔºåËØ¥ÊòéÊñπÊ≥ïÁöÑÁî®ÈÄî„ÄÅ‰ΩúÁî® value=&quot;ËØ¥ÊòéÊñπÊ≥ïÁöÑÁî®ÈÄî„ÄÅ‰ΩúÁî®&quot; notes=&quot;ÊñπÊ≥ïÁöÑÂ§áÊ≥®ËØ¥Êòé&quot; @ApiImplicitParamsÔºöÁî®Âú®ËØ∑Ê±ÇÁöÑÊñπÊ≥ï‰∏äÔºåË°®Á§∫‰∏ÄÁªÑÂèÇÊï∞ËØ¥Êòé @ApiImplicitParamÔºöÁî®Âú®@ApiImplicitParamsÊ≥®Ëß£‰∏≠ÔºåÊåáÂÆö‰∏Ä‰∏™ËØ∑Ê±ÇÂèÇÊï∞ÁöÑÂêÑ‰∏™ÊñπÈù¢ nameÔºöÂèÇÊï∞Âêç valueÔºöÂèÇÊï∞ÁöÑÊ±âÂ≠óËØ¥Êòé„ÄÅËß£Èáä requiredÔºöÂèÇÊï∞ÊòØÂê¶ÂøÖÈ°ª‰º† paramTypeÔºöÂèÇÊï∞ÊîæÂú®Âì™‰∏™Âú∞Êñπ ¬∑ header --&gt; ËØ∑Ê±ÇÂèÇÊï∞ÁöÑËé∑ÂèñÔºö@RequestHeader ¬∑ query --&gt; ËØ∑Ê±ÇÂèÇÊï∞ÁöÑËé∑ÂèñÔºö@RequestParam ¬∑ pathÔºàÁî®‰∫érestfulÊé•Âè£Ôºâ--&gt; ËØ∑Ê±ÇÂèÇÊï∞ÁöÑËé∑ÂèñÔºö@PathVariable ¬∑ bodyÔºà‰∏çÂ∏∏Áî®Ôºâ ¬∑ formÔºà‰∏çÂ∏∏Áî®Ôºâ dataTypeÔºöÂèÇÊï∞Á±ªÂûãÔºåÈªòËÆ§StringÔºåÂÖ∂ÂÆÉÂÄºdataType=&quot;Integer&quot; defaultValueÔºöÂèÇÊï∞ÁöÑÈªòËÆ§ÂÄº @ApiResponsesÔºöÁî®Âú®ËØ∑Ê±ÇÁöÑÊñπÊ≥ï‰∏äÔºåË°®Á§∫‰∏ÄÁªÑÂìçÂ∫î @ApiResponseÔºöÁî®Âú®@ApiResponses‰∏≠Ôºå‰∏ÄËà¨Áî®‰∫éË°®Ëææ‰∏Ä‰∏™ÈîôËØØÁöÑÂìçÂ∫î‰ø°ÊÅØ codeÔºöÊï∞Â≠óÔºå‰æãÂ¶Ç400 messageÔºö‰ø°ÊÅØÔºå‰æãÂ¶Ç&quot;ËØ∑Ê±ÇÂèÇÊï∞Ê≤°Â°´Â•Ω&quot; responseÔºöÊäõÂá∫ÂºÇÂ∏∏ÁöÑÁ±ª @ApiModelÔºöÁî®‰∫éÂìçÂ∫îÁ±ª‰∏äÔºåË°®Á§∫‰∏Ä‰∏™ËøîÂõûÂìçÂ∫îÊï∞ÊçÆÁöÑ‰ø°ÊÅØ ÔºàËøôÁßç‰∏ÄËà¨Áî®Âú®postÂàõÂª∫ÁöÑÊó∂ÂÄôÔºå‰ΩøÁî®@RequestBodyËøôÊ†∑ÁöÑÂú∫ÊôØÔºå ËØ∑Ê±ÇÂèÇÊï∞Êó†Ê≥ï‰ΩøÁî®@ApiImplicitParamÊ≥®Ëß£ËøõË°åÊèèËø∞ÁöÑÊó∂ÂÄôÔºâ @ApiModelPropertyÔºöÁî®Âú®Â±ûÊÄß‰∏äÔºåÊèèËø∞ÂìçÂ∫îÁ±ªÁöÑÂ±ûÊÄß ‰∏É„ÄÅÂÆûÈôÖÂ∫îÁî® 1.springbootÂêØÂä®ÁºìÊÖ¢ ÈóÆÈ¢òÔºöÂç°Âú® Mapped URL path [/v2/api-docs] onto method [public org.springframework.http.ResponseEntity&lt;springfox.documentation.spring.web.json.Json&gt; springfox.documentation.swagger2.web.Swagger2Controller.getDocumentation(java.lang.String,javax.servlet.http.HttpServletRequest)] Ëß£ÂÜ≥ÔºöÊääÈ°πÁõÆ‰∏ãÁöÑ .idea Êñá‰ª∂Âà†Èô§ÔºåÁÑ∂ÂêéÂÖ≥Èó≠ideaÔºåÈáçÊñ∞ÂØºÂÖ• 2.Ëß£ÂÜ≥Long ÂûãID‰º†ÁªôÂâçÁ´Ø jsÁ≤æÂ∫¶Áº∫Â§±ÈóÆÈ¢ò 12@JsonFormat(shape = JsonFormat.Shape.STRING)Long idÔºõ MavenÂá∫Èîô 1.Ê£ÄÊü•ÊâÄÊúâJDKÁâàÊú¨ÈÖçÁΩÆÊòØÂê¶‰∏∫Ê≠£Á°ÆÁâàÊú¨ 1ÔºâIDEA setting‰∏≠ ËÆæÁΩÆÂÆåÂêéÊ∏ÖÊ•öIDEAÁºìÂ≠òÈáçÂêØ","link":"/2021/01/20/Draft/2021/SpringBoot/"},{"title":"Ë∞∑Á≤íÂïÜÂüé","text":"‰ªãÁªç Êñ∞Â≠¶ÂõõÈóÆ WHY„Äê‰∏éÂâç‰ª£‰ºòÂåñ‰∫Ü‰ªÄ‰πàÔºåÂº•Ë°•‰∫Ü‰ªÄ‰πàÁ©∫ÁôΩ„ÄëÔºöÂ≠¶‰π†ÂÆûË∑µÂàÜÂ∏ÉÂºèÁªÑ‰ª∂ÔºåÈ´òÂπ∂ÂèëÁ≠â‰∏öÂä° WHAT„ÄêÊ°ÜÊû∂ÔºåÊÄùÁª¥ÂØºÂõæÔºå‰∏ªÈ¢òÊ°ÜÊû∂„ÄëÔºöÈÄöËøáÈ°πÁõÆÊâéÂÆûÊäÄÊúØÔºåSpringBoot+SpringCloud+Docker+VUE+Element-UI HOW„ÄêÂ¶Ç‰ΩïËÆ∞ÂøÜÔºåÂ≠¶‰π†ËµÑÊ∫êÔºàÂÆòÊñπÊñáÊ°£„ÄÅËßÜÈ¢ëËµÑÊ∫ê„ÄÅÈ°πÁõÆÂú∞ÂùÄÔºâ„ÄëÔºöË∞∑Á≤íÂïÜÂüéÊ∫êÁ†ÅÂíåËΩØ‰ª∂„ÄÅÂú®Á∫øÊïôÁ®ã LEVEL„Äê‰∏çÊòØÊØè‰∏™ÈÉΩÂ≠¶Á≤æ„ÄëÔºöÊ∏ÖÊô∞Êòé‰∫Ü ËøõÂ∫¶Ôºö „Äê85 -5.25„Äë =ÂàÜÂ∏ÉÂºèÂü∫Á°ÄÁØá= ‰∏Ä„ÄÅÈ°πÁõÆ‰ªãÁªç 1.1 È°πÁõÆËÉåÊôØ È°πÁõÆÂú®Á∫øÊé•Âè£ÊñáÊ°£Ôºö1„ÄÅÂàÜÈ°µËØ∑Ê±ÇÂèÇÊï∞ - Ë∞∑Á≤íÂïÜÂüé (easydoc.net) 1.2 ÁîµÂïÜÊ®°Âºè Â∏ÇÈù¢‰∏äÊúâ5ÁßçÂ∏∏ËßÅÁöÑÁîµÂïÜÊ®°Âºè B2B „ÄÅB2C„ÄÅC2B „ÄÅC2C„ÄÅO2O 1.2.1 B2B Ê®°Âºè B2B Ôºà Business to BusinessÔºâ ÊòØÊåáÂïÜÂÆ∂ÂíåÂïÜÂÆ∂Âª∫Á´ãÁöÑÂïÜ‰∏öÂÖ≥Á≥ªÔºåÂ¶ÇÈòøÈáåÂ∑¥Â∑¥„ÄÇ 1.2.2 B2C Ê®°Âºè B2C(Business to Consumer) Â∞±ÊòØÊàë‰ª¨ÁªèÂ∏∏ÁúãÂà∞ÁöÑ‰æõÂ∫îÂïÜÁõ¥Êé•ÊääÂïÜÂìÅ‰π∞‰∏™Áî®Êà∑ÔºåÂç≥ ‚ÄúÂïÜÂØπÂÆ¢‚Äù Ê®°ÂºèÔºå‰πüÂ∞±ÊòØÊàë‰ª¨Âë¢ËØ¥ÁöÑÂïÜ‰∏öÈõ∂ÂîÆÔºåÁõ¥Êé•Èù¢ÂêëÊ∂àË¥πÈîÄÂîÆ‰∫ßÂìÅÂíåÊúçÂä°ÔºåÂ¶ÇËãèÂÆÅÊòìË¥≠Ôºå‰∫¨‰∏úÔºåÂ§©Áå´ÔºåÂ∞èÁ±≥ÂïÜÂüé 1.2.3 C2B Ê®°Âºè C2B (Customer to Business),Âç≥Ê∂àË¥πËÄÖÂØπ‰ºÅ‰∏öÔºåÂÖàÊúâÊ∂àË¥πËÄÖÈúÄÊ±Ç‰∫ßÁîüËÄåÂêéÊúâ‰ºÅ‰∏öÁîü‰∫ßÔºåÂç≥ÂÖàÊúâÊ∂àË¥πËÄÖÊèêÂá∫ÈúÄÊ±ÇÔºåÂêéÂèàÁîü‰∫ß‰ºÅ‰∏öÊåâÈúÄÊ±ÇÁªÑÁªáÁîü‰∫ß 1.2.4 C2C Ê®°Âºè C2C (Customer to Consumer) ÂÆ¢Êà∑‰πãÈó¥ÂêßËá™Â∑±ÁöÑ‰∏úË•øÊîæÂà∞ÁΩë‰∏äÂéªÂçñ Â¶Ç Ê∑òÂÆù Âí∏È±º 1.2.5 O2O O2O Âç≥ Online To OfflineÔºå‰πüÂç≥Â∞ÜÁ∫ø‰∏ãÂïÜÂä°ÁöÑÊú∫‰ºö‰∏é‰∫íËÅîÁΩëÁªìÂêàÂú®‰∏ÄËµ∑ÔºåËÆ©‰∫íËÅîÁΩëÊàê‰∏∫Á∫ø‰∏ã‰∫§ÊòìÂâçÂè∞ÔºåÁ∫ø‰∏äÂø´ÈÄüÊîØ‰ªòÔºåÁ∫ø‰∏ã‰ºòË¥®ÊúçÂä°ÔºåÂ¶ÇÔºöÈ•ø‰∫Ü‰πàÔºåÁæéÂõ¢ÔºåÊ∑òÁ•®Á•®Ôºå‰∫¨‰∏úÂà∞ÂÆ∂ 1.3 Ë∞∑Á≤íÂïÜÂüé Ë∞∑Á≤íÂïÜÂüéÊòØ‰∏Ä‰∏™ B2C Ê®°ÂºèÁöÑÁîµÂïÜÂπ≥Âè∞ÔºåÈîÄÂîÆËá™Ëê•ÂïÜÂìÅÁªôÂÆ¢Êà∑ 1.4 È°πÁõÆÊû∂ÊûÑÂõæ È°πÁõÆÂæÆÊúçÂä°Êû∂ÊûÑÂõæ ÂæÆÊúçÂä°ÂàíÂàÜÂõæ 1.5 È°πÁõÆÊäÄÊúØÂíåÁâπËâ≤ ‚óè ÂâçÂêéÂàÜÁ¶ªÊäÄÊúØ„ÄÅÂπ∂ÂºÄÂèëÂü∫‰∫é vue ÁöÑÂêéÂè∞ÁÆ°ÁêÜÁ≥ªÁªü„ÄÇ ‚óèSpringCloud ÂÖ®Êñ∞ÁöÑËß£ÂÜ≥ÊñπÊ°à ‚óèÂ∫îÁî®ÁõëÊéß„ÄÅÈôêÊµÅ„ÄÅÁΩëÂÖ≥„ÄÅÁÜîÊñ≠ÈôçÁ∫ß„ÄÅÁ≠âÂàÜÂ∏ÉÂºèÊñπÊ°àÔºåÂÖ®Êñπ‰ΩçÊ∂âÂèä ‚óèÈÄèÂΩªËÆ≤Ëß£ÂàÜÂ∏ÉÂºè‰∫ãÂä°ÔºåÂàÜÂ∏ÉÂºèÈîÅÁ≠âÂàÜÂ∏ÉÂºèÁ≥ªÁªüÁöÑÈöæÁÇπ ‚óèÂéãÂäõÊµãËØï‰∏éÊÄßËÉΩ‰ºòÂåñ ‚óèÂêÑÁßçÈõÜÁæ§ÊäÄÊúØÁöÑÂå∫Âà´‰ª•Âèä‰ΩøÁî® ‚óèCI/CDÁöÑ‰ΩøÁî® 1.6 È°πÁõÆÂâçÁΩÆË¶ÅÊ±Ç Â≠¶‰π†È°πÁõÆÁöÑÂâçÁΩÆÁü•ËØÜ ‚óèÁÜüÊÇâ Springboot ‰ª•ÂèäÂ∏∏ËßÅÁöÑÊï¥ÂêàÊñπÊ°à ‚óè‰∫ÜËß£ SpringCloud ‚óèÁÜüÊÇâ git maven ‚óèÁÜüÊÇâ Linux „ÄÅ redis docker Âü∫Êú¨Êìç‰Ωú ‚óè‰∫ÜËß£html„ÄÅcss„ÄÅjs „ÄÅvue ‚óèÁÜüÊÇâ‰ΩøÁî® idea ÂºÄÂèëÈ°πÁõÆ ‰∫å„ÄÅÂàÜÂ∏ÉÂºèÂü∫Á°ÄÊ¶ÇÂøµ 2.1 ÂæÆÊúçÂä° ÂæÆÊúçÂä°Êû∂ÊûÑÈ£éÊ†ºÔºåÂ∞±ÂÉèÊòØÊää‰∏Ä‰∏™ÂçïÁã¨ÁöÑÂ∫îÁî®Á®ãÂ∫èÂºÄÂèëÊàê‰∏ÄÂ•óÂ∞èÊúçÂä°ÔºåÊØè‰∏™Â∞èÊúçÂä°ËøêË°åÂú®Ëá™Â∑±ÁöÑËøõÁ®ã‰∏≠ÔºåÂπ∂‰ΩøÁî®ËΩªÈáèÁ∫ßÊú∫Âà∂ÈÄö‰ø°ÔºåÈÄöÂ∏∏ÊòØHTTP API Ëøô‰∫õÊúçÂä°Âõ¥Áªï‰∏öÂä°ËÉΩÂäõÊù•ÊûÑÂª∫ÔºåÂπ∂ÈÄöËøáÂÆåÂÖ®Ëá™Âä®ÂåñÈÉ®ÁΩ≤Êú∫Âà∂Êù•Áã¨Á´ãÈÉ®ÁΩ≤ÔºåËøô‰∫õÊúçÂä°‰ΩøÁî®‰∏çÂêåÁöÑÁºñÁ®ãËØ≠Ë®ÄÊù•ÂÜôÔºå‰ª•Âèä‰∏çÂêåÁöÑÊï∞ÊçÆÂ≠òÂÇ®ÊäÄÊúØÔºåÂπ∂‰øùÊåÅÊúÄ‰ΩéÈôêÂ∫¶ÁöÑÈõÜ‰∏≠ÂºèÁÆ°ÁêÜ„ÄÇ ÁÆÄËÄåË®Ä‰πãÔºåÊãíÁªùÂ§ßÂûãÂçï‰ΩìÂ∫îÁî®ÔºåÂü∫‰∫é‰∏öÂä°ËæπÁïåËøõË°åÊúçÂä°ÊãÜÂàÜÔºåÊØè‰∏™ÊúçÂä°Áã¨Á´ãÈÉ®ÁΩ≤ËøêË°å„ÄÇ 2.2 ÈõÜÁæ§ &amp; ÂàÜÂ∏ÉÂºè &amp; ËäÇÁÇπ ÈõÜÁæ§ÊòØ‰∏™Áâ©ÁêÜÁä∂ÊÄÅÔºåÂàÜÂ∏ÉÂºèÊòØ‰∏™Â∑•‰ΩúÊñπÂºè„ÄÇ Âè™Ë¶ÅÊòØ‰∏ÄÂØπÊú∫Âô®Ôºå‰πüÂèØ‰ª•Âè´ÂÅöÈõÜÁæ§Ôºå‰ªñ‰∏çÊòØ‰∏ÄËµ∑Âçè‰ΩúÂπ≤Ê¥ªÔºåËøôË∞Å‰πü‰∏çÁü•ÈÅì„ÄÇ „ÄäÂàÜÂ∏ÉÂºèÁ≥ªÁªüÂéüÁêÜ‰∏éËåÉÂûã„ÄãÂÆö‰πâÔºö ‚ÄúÂàÜÂ∏ÉÂºèÁ≥ªÁªüÊòØËã•Âπ≤Áã¨Á´ãËÆ°ÁÆóÊú∫ÁöÑÈõÜÂêàÔºåËøô‰∫õËÆ°ÁÆóÊú∫ÂØπ‰∫éÁî®Êà∑Êù•ËØ¥ÂÉè‰ΩÜÂêÑÁõ∏ÂÖ≥Á≥ªÁªü‚Äù ÂàÜÂ∏ÉÂºèÁ≥ªÁªü (distributed system) ÊòØÂª∫Á´ãÁΩëÁªú‰πã‰∏äÁöÑËΩØ‰ª∂Á≥ªÁªü ÂàÜÂ∏ÉÂºèÊòØÊåáËÆ≤‰∏çÈÄöÁöÑ‰∏öÂä°ÂàÜÂ∏ÉÂú®‰∏çÂêåÁöÑÂú∞Êñπ ÈõÜÁæ§ÂÆûË¥®ÊòØÂ∞ÜÂá†Âè∞ÊúçÂä°Âô®ÈõÜ‰∏≠Âú®‰∏ÄËµ∑ÔºåÂÆûÁé∞Âêå‰∏Ä‰∏öÂä° ‰æãÂ¶ÇÔºö‰∫¨‰∏úÊòØ‰∏Ä‰∏™ÂàÜÂ∏ÉÂºèÁ≥ªÁªüÔºå‰ºóÂ§ö‰∏öÂä°ËøêË°åÂú®‰∏çÂêåÁöÑÊú∫Âô®‰∏äÔºåÊâÄÊúâ‰∏öÂä°ÊûÑÊàê‰∏Ä‰∏™Â§ßÂûãÁöÑ‰∏öÂä°ÈõÜÁæ§ÔºåÊØè‰∏Ä‰∏™Â∞èÁöÑ‰∏öÂä°ÔºåÊØîÂ¶ÇÁî®Êà∑Á≥ªÁªüÔºåËÆøÈóÆÂéãÂäõÂ§ßÁöÑÊó∂ÂÄô‰∏ÄÂè∞ÊúçÂä°Âô®ÊòØ‰∏çÂ§üÁöÑÔºåÊàë‰ª¨Â∞±Â∫îËØ•Â∞ÜÁî®Êà∑Á≥ªÁªüÈÉ®ÁΩ≤Âà∞Â§ö‰∏™ÊúçÂä°Âô®Ôºå‰πüÂ∞±ÊòØÊØè‰∏™‰∏Ä‰∏öÂä°Á≥ªÁªü‰πüÂèØ‰ª•ÂÅöÈõÜÁæ§Âåñ ÂàÜÂ∏ÉÂºè‰∏≠ÁöÑÊØè‰∏Ä‰∏™ËäÇÁÇπÔºåÈÉΩÂèØ‰ª•ÂÅöÈõÜÁæ§ÔºåËÄåÈõÜÁæ§Âπ∂‰∏ç‰∏ÄÂÆöÂ∞±ÊòØÂàÜÂ∏ÉÂºèÁöÑ ËäÇÁÇπÔºöÈõÜÁæ§‰∏≠ÁöÑ‰∏Ä‰∏™ÊúçÂä°Âô® 2.3 ËøúÁ®ãË∞ÉÁî® Âú®ÂàÜÂ∏ÉÂºèÁ≥ªÁªü‰∏≠ÔºåÂêÑ‰∏™ÊúçÂä°ÂèØËÉΩÂ§Ñ‰∫é‰∏çÂêå‰∏ªÊú∫Ôºå‰ΩÜÊòØÊúçÂä°‰πãÈó¥‰∏çÂèØÈÅøÂÖçÁöÑÈúÄË¶Å‰∫íÁõ∏Ë∞ÉÁî®ÔºåÊàë‰ª¨Áß∞‰πã‰∏∫ËøúÁ®ãË∞ÉÁî® SpringCloud ‰∏≠‰ΩøÁî® HTTP + JSON ÁöÑÊñπÂºèÊù•ÂÆåÊàêËøúÁ®ãË∞ÉÁî®„ÄÇ HTTP+JSON 2.4 Ë¥üËΩΩÂùáË°° ÂàÜÂ∏ÉÂºèÁ≥ªÁªü‰∏≠ÔºåA ÊúçÂä°ÈúÄË¶ÅË∞ÉÁî® B ÊúçÂä°ÔºåB ÊúçÂä°Âú®Â§öÂè∞Êú∫Âô®‰∏≠ÈÉΩÂ≠òÂú®ÔºåA Ë∞ÉÁî®‰ªªÊÑè‰∏Ä‰∏™ÊúçÂä°Âô®ÂùáÂèØÂÆåÊàêÂäüËÉΩ„ÄÇ ‰∏∫‰∫Ü‰ΩøÊØè‰∏Ä‰∏™ÊúçÂä°Âô®ÈÉΩ‰∏çË¶ÅÂ§™ÂøôÂêéËÄÖÂ§™Èó≤ÔºåÊàë‰ª¨ÂèØ‰ª•Ë¥üËΩΩÂùáË°°Ë∞ÉÁî®ÊØè‰∏Ä‰∏™ÊúçÂä°Âô®ÔºåÊèêÂçáÁΩëÁ´ôÁöÑÂÅ•Â£ÆÊÄß„ÄÇ Â∏∏ËßÅÁöÑË¥üËΩΩÂùáÁÆóÊ≥ïÔºö ËΩÆËØ¢Ôºö ‰∏∫Á¨¨‰∏Ä‰∏™ËØ∑Ê±ÇÈÄâÊã©ÂÅ•Â∫∑Ê±†‰∏≠ÁöÑÁ¨¨‰∏Ä‰∏™ÂêéÁ´ØÊúçÂä°Âô®ÔºåÁÑ∂ÂêéÊåâÈ°∫Â∫èÂæÄÂêé‰æùÊ¨°ÈÄâÊã©ÔºåÁõ¥Âà∞ÊúÄÂêé‰∏Ä‰∏™ÔºåÁÑ∂ÂêéÂæ™ÁéØ„ÄÇ ÊúÄÂ∞èËøûÊé•Ôºö ‰ºòÂÖàÈÄâÊã©ËøûÊé•Êï∞ÊúÄÂ∞ëÔºå‰πüÂ∞±ÊòØÂéãÂäõÊúÄÂ∞èÁöÑÂêéÁ´ØÊúçÂä°Âô®ÔºåÂú®‰ºöËØùËæÉÈïøÁöÑÊÉÖÂÜµ‰∏ãÂèØ‰ª•ËÄÉËôëÈááÂèñËøôÁßçÊñπÂºè„ÄÇ 2.5 ÊúçÂä°Ê≥®ÂÜå/ÂèëÁé∞ &amp; Ê≥®ÂÜå‰∏≠ÂøÉ A ÊúçÂä°Ë∞ÉÁî® B ÊúçÂä°Ôºå A ÊúçÂä° ‰∏çÁü•ÈÅì B ÊúçÂä°ÂΩìÂâçÂú®Âì™Âá†Âè∞ÊúçÂä°Âô®‰∏äÊúâÔºåÈÇ£‰∫õÊ≠£Â∏∏ÁöÑÔºåÈÇ£‰∫õÊúçÂä°Â∑≤Áªè‰∏ãÁ∫øÔºåËß£ÂÜ≥Ëøô‰∏™ÈóÆÈ¢òÂèØ‰ª•ÂºïÂÖ•Ê≥®ÂÜå‰∏≠ÂøÉ„ÄÇ Â¶ÇÊûúÊüê‰∫õÊúçÂä°‰∏ãÁ∫øÔºåÊàë‰ª¨ÂÖ∂‰ªñ‰∫∫ÂèØ‰ª•ÂÆûÊó∂ÁöÑÊÑüÁü•Âà∞ÂÖ∂‰ªñÊúçÂä°ÁöÑÁä∂ÊÄÅÔºå‰ªéËÄåÈÅøÂÖçË∞ÉÁî®‰∏çÂèØÁî®ÁöÑÊúçÂä°„ÄÇ 2.6 ÈÖçÁΩÆ‰∏≠ÂøÉ ÊØè‰∏Ä‰∏™ÊúçÂä°ÊúÄÁªàÈÉΩÊúâÂ§ßÈáèÈÖçÁΩÆÔºåÂπ∂‰∏îÊØè‰∏™ÊúçÂä°ÈÉΩÂèØËÉΩÈÉ®ÁΩ≤Âú®Â§ö‰∏™ÊúçÂä°Âô®‰∏äÔºåÊàë‰ª¨ÁªèÂ∏∏ÈúÄË¶ÅÂèòÊõ¥ÈÖçÁΩÆÔºåÊàë‰ª¨ÂèØ‰ª•ËÆ©ÊØè‰∏™ÊúçÂä°Âú®ÈÖçÁΩÆ‰∏≠ÂøÉËé∑ÂèñËá™Â∑±ÁöÑÈÖçÁΩÆÔºåÈÖçÁΩÆ‰∏≠ÂøÉÁî®Êù•ÈõÜ‰∏≠ÁÆ°ÁêÜÂæÆÊúçÂä°ÁöÑÈÖçÁΩÆ‰ø°ÊÅØ„ÄÇ 2.7 ÊúçÂä°ÁÜîÊñ≠ &amp; ÊúçÂä°ÈôçÁ∫ß Âú®ÂæÆÊúçÂä°Êû∂ÊûÑ‰∏≠ÔºåÂæÆÊúçÂä°‰πãÈó¥ÈÄöËøáÁΩëÁªúÊù•ËøõË°åÈÄö‰ø°ÔºåÂ≠òÂú®Áõ∏‰∫í‰æùËµñÔºåÂΩìÂÖ∂‰∏≠‰∏Ä‰∏™ÊúçÂä°‰∏çÂèØÁî®Êó∂ÔºåÊúâÂèØËÉΩ‰ºöÈÄ†ÊàêÈõ™Â¥©ÊïàÂ∫îÔºåË¶ÅÈò≤Ê≠¢ËøôÁßçÊÉÖÂÜµÔºåÂøÖÈ°ªË¶ÅÊúâÂÆπÈîôÊú∫Âà∂Êù•‰øùËØÅÊúçÂä°„ÄÇ ÊúçÂä°ÁÜîÊñ≠ ‚óèËÆæÁΩÆÊúçÂä°ÁöÑË∂ÖÊó∂ÔºåÂΩìË¢´Ë∞ÉÁî®ÁöÑÊúçÂä°ÁªèÂ∏∏Â§±Ë¥•ËææÂà∞Êüê‰∏™ÈòàÂÄºÔºåÊàë‰ª¨ÂèØ‰ª•ÂºÄÂêØÁü≠Ë∑Ø‰øùÊä§Êú∫Âà∂ÔºåÂêéÊù•ÁöÑËØ∑Ê±Ç‰∏çÂÜçÂéªË∞ÉÁî®Ëøô‰∏™ÊúçÂä°ÔºåÊú¨Âú∞Áõ¥Êé•ËøîÂõûÈªòËÆ§ÁöÑÊï∞ÊçÆ„ÄÇ ÊúçÂä°ÈôçÁ∫ß ‚óèÂú®ËøêÁª¥ÊúüÈó¥ÔºåÂΩìÁ≥ªÁªüÂ§Ñ‰∫éÈ´òÂ≥∞ÊúüÔºåÁ≥ªÁªüËµÑÊ∫êÁ¥ßÂº†ÔºåÊàë‰ª¨ÂèØ‰ª•ËÆ©ÈùûÊ†∏ÂøÉ‰∏öÂä°ÈôçÁ∫ßËøêË°åÔºåÈôçÁ∫ßÊüê‰∫õÊúçÂä°‰∏çÂ§ÑÁêÜÔºåÊàñËÄÖÁÆÄÂçïÂ§ÑÁêÜ„ÄêÊäõÂºÇÂ∏∏ÔºåËøîÂõûNULLÔºåË∞ÉÁî®MOCkÊï∞ÊçÆÔºåË∞ÉÁî®FallBackÂ§ÑÁêÜÈÄªËæë„Äë 2.8 ApiÁΩëÂÖ≥ Âú®ÂæÆÊúçÂä°Êû∂ÊûÑ‰∏≠Ôºå Api Gateway ‰Ωú‰∏∫Êï¥‰ΩìÊû∂ÊûÑÁöÑÈáçË¶ÅÁªÑ‰ª∂ÔºåÂÆÉÊäΩË±°ÊúçÂä°‰∏≠ÈúÄË¶ÅÁöÑÂÖ¨ÂÖ±ÂäüËÉΩÔºåÂêåÊó∂ÂÆÉÊèê‰æõÁªô‰∫ÜÂÆ¢Êà∑Á´ØË¥üËΩΩÂùáË°°„ÄÅÊúçÂä°Ëá™Âä®ÁÜîÊñ≠„ÄÅÁÅ∞Â∫¶ÂèëÂ∏É„ÄÅÁªü‰∏ÄËÆ§ËØÅ„ÄÅÈôêÊµÅÁõëÊéß„ÄÅÊó•ÂøóÁªüËÆ° Á≠â ‰∏∞ÂØåÂäüËÉΩÔºåÂ∏ÆÂä©Êàë‰ª¨Ëß£ÂÜ≥‰∫ÜÂæàÂ§ö API ÁÆ°ÁêÜÁöÑÈöæÈ¢ò „ÄÇ ‰∏â„ÄÅÊê≠Âª∫ÁéØÂ¢É 3.1 ÂÆâË£Ö Linux ËôöÊãüÊú∫ ‰∏ãËΩΩ&amp;ÂÆâË£Ö VirtualBox https://www.virtualbox.org/ Ë¶ÅÂºÄÂêØ CPU ËôöÊãüÂåñ ‰∏ãËΩΩ&amp; ÂÆâË£Ö Vagrant https://app.vagrantup.com/boxes/search Vagrant ÂÆòÊñπÈïúÂÉè‰ªìÂ∫ì https://www.vagrantup.com/downloads.html Vagrant‰∏ãËΩΩ ÊâìÂºÄwindow cmdÁ™óÂè£ÔºåËøêË°åVagrant init centos/7 ,Âç≥ÂèØÂàùÂßãÂåñ‰∏Ä‰∏™centosÁ≥ªÁªü ËøêË°åvagrant upÂç≥ÂèØÂêØÂä®ËôöÊãüÊú∫„ÄÇÁ≥ªÁªürootÁî®Êà∑ÁöÑÂØÜÁ†ÅÊòØvagrant vagrantÂÖ∂‰ªñÂ∏∏Áî®ÂëΩ‰ª§ 1234567vagrant ssh Ëá™Âä®‰ΩøÁî® vagrant Áî®Êà∑ËøûÊé•ËôöÊãüÊú∫vagrant upload source [destination] [name|id] ‰∏ä‰º†Êñá‰ª∂https://www.vagrantup.com/docs/cli/init.html Vagrant ÂëΩ‰ª§Ë°åvagrant reload ÈáçÂêØÂπ∂ÈáçÊñ∞Âä†ËΩΩVagrantfile ÈªòËÆ§ËôöÊãüÊú∫ÁöÑip Âú∞ÂùÄ‰∏çÊòØÂõ∫ÂÆöip ÂºÄÂèë‰∏çÊñπ‰æø Vagrant Âíå VirtualBox ÁâàÊú¨ÊúâÂØπÂ∫îÈóÆÈ¢ò ÈÉΩÂÆâË£ÖÊúÄÊñ∞ÁâàÊú¨ ÂàôÂÆâË£ÖÊàêÂäü ‰øÆÊîπ Vagrantfile config.vm.network &quot;private_network&quot;, ip: &quot;192.168.56.10&quot; ËøôÈáå ip ÈúÄË¶ÅÂú® Áâ©ÁêÜÊú∫‰∏ã‰ΩøÁî® ipconfig ÂëΩ‰ª§ÊâæÂà∞ 3.2 ÂÆâË£Ö docker Docker ÂèÇËÄÉ Docker 3.2.1 Âç∏ËΩΩÁ≥ªÁªü‰πãÂâçÂÆâË£ÖÁöÑdocker Uninstall old versions. ‰∏ÄÊ≠•‰∏ÄÊ≠•ÂæÄ‰∏ãÊâßË°åÂ∞±Ë°å 12345678sudo yum remove docker \\ docker-client \\ docker-client-latest \\ docker-common \\ docker-latest \\ docker-latest-logrotate \\ docker-logrotate \\ docker-engine SET UP THE REPOSITORY Install the yum-utils package (which provides the yum-config-manager utility) and set up the stable repository. 1234sudo yum install -y yum-utilssudo yum-config-manager \\ --add-repo \\ https://download.docker.com/linux/centos/docker-ce.repo INSTALL DOCKER ENGINE 1.Install the latest version of Docker Engine and containerd, or go to the next step to install a specific version: 1sudo yum install docker-ce docker-ce-cli containerd.io Start Docker 1sudo systemctl start docker Verify that Docker Engine is installed correctly by running the hello-world image. 1sudo docker run hello-world ËÆæÁΩÆ docker ÂºÄÊú∫Ëá™ÂêØÂä® 1sudo systemctl enable docker Êü•ÁúãDockerÁöÑÈïúÂÉè 1sudo docker images ËÆæÁΩÆ Docker ÈïúÂÉèÂä†ÈÄü ÁôªÂΩï aliyun.com Âú®ÊéßÂà∂Âè∞ÊâæÂà∞ÂÆπÂô®ÈïúÂÉèÊúçÂä° docker ËøõÂÖ• ÂØπÂ∫îÂÆπÂô® 123docker ps #Êü•Áúã‰∏ªÊú∫ÊúâÂì™‰∫õÂÆπÂô®Ê≠£Âú®ËøêË°ådocker exec -it ÂÆπÂô®ID/NAME /bin/bash #ËøõÂÖ•ÂØπÂ∫îÂÆπÂô®exit; #ÈÄÄÂá∫ÂÆπÂô®[Âø´Êç∑ÈîÆ ctrl + p/q] 3.3 docker ÂÆâË£Ö mysql 3.3.1 ‰∏ãËΩΩÈïúÂÉèÊñá‰ª∂ 12sudo docker pull mysql:5.7sudo docker images 3.3.2 ÂàõÂª∫ÂÆû‰æãÂπ∂ÂêØÂä® 12345678910111213# --nameÊåáÂÆöÂÆπÂô®ÂêçÂ≠ó -vÁõÆÂΩïÊåÇËΩΩ -pÊåáÂÆöÁ´ØÂè£Êò†Â∞Ñ -eËÆæÁΩÆmysqlÂèÇÊï∞ -dÂêéÂè∞ËøêË°åsudo docker run -p 3306:3306 --name mysql \\-v /mydata/mysql/log:/var/log/mysql \\-v /mydata/mysql/data:/var/lib/mysql \\-v /mydata/mysql/conf:/etc/mysql \\-e MYSQL_ROOT_PASSWORD=root \\-d mysql:5.7####-v Â∞ÜÂØπÂ∫îÊñá‰ª∂ÊåÇËΩΩÂà∞‰∏ªÊú∫„ÄêÁ±ª‰ººÂø´Êç∑ÊñπÂºèÔºå‰∏§ËÄÖÂÜÖÂÆπÂêåÊ≠•„ÄëÔºåÊØîÂ¶Ç-v /mydata/mysql/log„Äê‰∏ªÊú∫Âø´Êç∑ÊñπÂºè„Äë:/var/log/mysql„ÄêÂÆπÂô®‰∏≠Êñá‰ª∂Â§π„Äë-e ÂàùÂßãÂåñÂØπÂ∫îMYSQLÂèÇÊï∞-p ÂÆπÂô®Á´ØÂè£Êò†Â∞ÑÂà∞‰∏ªÊú∫ÁöÑÁ´ØÂè£su rootdocker ps #Êü•Áúã‰∏ªÊú∫ÊúâÂì™‰∫õÂÆπÂô®Ê≠£Âú®ËøêË°å MySQL ÈÖçÁΩÆ vi /mydata/mysql/conf/my.cnf ÂàõÂª∫&amp;‰øÆÊîπËØ•Êñá‰ª∂ 1234567891011[client]default-character-set=utf8[mysql]default-character-set=utf8[mysqld]init_connect='SET collation_connection = utf8_unicode_ci'init_connect='SET NAMES utf8'character-set-server=utf8collation-server=utf8_unicode_ciskip-character-set-client-handshakeskip-name-resolve 12#ÈáçÂêØmysqldocker restart mysql 3.3.3 ÈÄöËøáÂÆπÂô®ÁöÑmysql ÂëΩ‰ª§Â∑•ÂÖ∑ËøûÊé• 3.4 docker ÂÆâË£Ö redis 3.4.1 ‰∏ãËΩΩÈïúÂÉèÊñá‰ª∂ 1docker pull redis 3.4.2 ÂàõÂª∫ÂÆû‰æãÂπ∂ÂêØÂä® 1234567891011#ÂÖàÂàõÂª∫Êñá‰ª∂Â§πÂíåÊñá‰ª∂ÂÜçÊåÇËΩΩÔºåÂê¶Âàô‰ºöÂ∞ÜÂÖ∂Êñá‰ª∂ÂêçÂàõÂª∫‰∏∫Êñá‰ª∂Â§πmkdir -p /mydata/redis/conftouch /mydata/redis/conf/redis.conf# ÂêØÂä® ÂêåÊó∂ Êò†Â∞ÑÂà∞ÂØπÂ∫îÊñá‰ª∂Â§π# ÂêéÈù¢ \\ ‰ª£Ë°®Êç¢Ë°ådocker run -p 6379:6379 --name redis \\-v /mydata/redis/data:/data \\-v /mydata/redis/conf/redis.conf:/etc/redis/redis.conf \\-d redis redis-server /etc/redis/redis.confdocker ps 3.4.3 ‰ΩøÁî® redis ÈïúÂÉèÊâßË°å redis-cli ÂëΩ‰ª§ËøûÊé• ËøõÂÖ•docker cli docker exec -it redis redis-cli ÊåÅ‰πÖÂåñ ÈªòËÆ§ appendonly on Ê≤°ÊúâÂºÄÂêØ 1234vi /mydata/redis/conf/redis.conf# ÊèíÂÖ•‰∏ãÈù¢ÂÜÖÂÆπappendonly yesdocker restart redis 3.5 ÂºÄÂèëÁéØÂ¢ÉÁªü‰∏Ä 3.5.1 MavenÁâàÊú¨‰∏éÈÖçÁΩÆ 1.ÈÖçÁΩÆÈòøÈáå‰∫ëÈïúÂÉè 12345678&lt;mirrors&gt; &lt;mirror&gt; &lt;id&gt;nexus-aliyun&lt;/id&gt; &lt;mirrorOf&gt;central&lt;/mirrorOf&gt; &lt;name&gt;Nexus aliyun&lt;/name&gt; &lt;url&gt;http://maven.aliyun.com/nexus/content/groups/public&lt;/url&gt; &lt;/mirror&gt;&lt;/mirrors&gt; ÈÖçÁΩÆ jdk 1.8 ÁºñËØëÈ°πÁõÆ 12345678910111213&lt;profiles&gt; &lt;profile&gt; &lt;id&gt;jdk-1.8&lt;/id&gt; &lt;activation&gt; &lt;activeByDefault&gt;true&lt;/activeByDefault&gt; &lt;jdk&gt;1.8&lt;/jdk&gt; &lt;/activation&gt; &lt;properties&gt; &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt; &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;&lt;maven.compiler.compilerVersion&gt;1.8&lt;/maven.compiler.compilerVersion&gt; &lt;/properties&gt; &lt;/profile&gt; &lt;/profiles&gt; 3.5.2 idea &amp; vscode VSCodeÊèí‰ª∂ Vetur ‚Äî‚ÄîËØ≠Ê≥ïÈ´ò‰∫ÆÔºåÊô∫ËÉΩÊÑüÁü• ÂåÖÂê´Ê†ºÂºèÂåñÂäüËÉΩÔºåAlt+Shift+F (Ê†ºÂºèÂåñÂÖ®Êñá) ÔºåCtrl+K Ctrl+F (Ê†ºÂºèÂåñÈÄâ‰∏≠‰ª£Á†ÅÔºå‰∏§‰∏™CtrlÈúÄË¶ÅÂêåÊó∂ÊåâÁùÄ) EsLint ‰∏Ä‰∏Ä ËØ≠Ê≥ïÁ∫†Èîô Auto Close Tag ‰∏Ä‰∏Ä Ëá™Âä®Èó≠ÂêàHTML/XMLÊ†áÁ≠æ Auto Rename Tag ‰∏Ä‰∏Ä Ëá™Âä®ÂÆåÊàêÂè¶-‰æßÊ†áÁ≠æÁöÑÂêåÊ≠•‰øÆÊîπ JavaScript(ES6) code snippets ‰∏Ä‰∏Ä ES6 ËØ≠Ê≥ïÊô∫ËÉΩÊèêÁ§∫‰ª•ÂèäÂø´ÈÄüËæìÂÖ•ÔºåÈô§jÂ§ñËøòÊîØÊåÅ.ts, .jsxÔºå .tsxÔºå .html, .vue;ÁúÅÂéª‰∫ÜÈÖçÁΩÆÂÖ∂ÊîØÊåÅÂêÑÁßçÂåÖÂê´is‰ª£Á†ÅÊñá‰ª∂ÁöÑÊó∂Èó¥ 3.5.3 MybatisPlusÊï¥Âêà 4.1 ÈÖçÁΩÆÁéØÂ¢É 4.1.1„ÄÅÂØºÂÖ•‰æùËµñ 12345&lt;dependency&gt; &lt;groupId&gt;com.baomidou&lt;/groupId&gt; &lt;artifactId&gt;mybatis-plus-boot-starter&lt;/artifactId&gt; &lt;version&gt;3.2.0&lt;/version&gt; &lt;/dependency&gt; 4.2.2„ÄÅÈÖçÁΩÆÊï∞ÊçÆÊ∫ê ÈÖçÁΩÆÊï∞ÊçÆÊ∫ê ÂØºÂÖ•Êï∞ÊçÆÂ∫ìÈ©±Âä® https://mvnrepository.com/artifact/mysql/mysql-connector-java 123456&lt;!--ÂØºÂÖ•mysqlÈ©±Âä®--&gt; &lt;dependency&gt; &lt;groupId&gt;mysql&lt;/groupId&gt; &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt; &lt;version&gt;8.0.17&lt;/version&gt; &lt;/dependency&gt; Âú®application.ymlÈÖçÁΩÆÊï∞ÊçÆÊ∫êÁõ∏ÂÖ≥‰ø°ÊÅØ 123456789101112spring: datasource: username: root password: root url: jdbc:mysql://192.168.56.10:3306/gulimall_pms driver-class-name: com.mysql.jdbc.Drivermybatis-plus: # mapperÊñá‰ª∂Êâ´Êèè mapper-locations: classpath*:/mapper/**/*.xml global-config: db-config: id-type: auto # Êï∞ÊçÆÂ∫ì‰∏ªÈîÆËá™Â¢û ÈÖçÁΩÆMyBatis-PlusÂåÖÊâ´ÊèèÔºö ‰ΩøÁî®@MapperScanner ÂëäËØâMyBatis-Plus,SqlÊò†Â∞ÑÊñá‰ª∂‰ΩçÁΩÆ 1234567@MapperScan(&quot;com.atguigu.gulimall.product.dao&quot;)@SpringBootApplicationpublic class GulimallProductApplication { public static void main(String[] args) { SpringApplication.run(GulimallProductApplication.class, args); }} ÂÖ∑‰ΩìËøáÁ®ãÂèÇËÄÉÂÆòÁΩëÔºö https://baomidou.com/guide/install.html#release 4.2 ÂàÜÈ°µÈÖçÁΩÆ 12345678910111213141516171819202122@Configuration // Â£∞ÊòéÈÖçÁΩÆÁ±ª@EnableTransactionManagement // ÂºÄÂêØÊ≥®Ëß£@MapperScan(&quot;com.atguigu.gulimall.product.dao&quot;) // ÊåáÂÆöÊâ´ÊèèÂåÖpublic class MyBatisConfig { /** * ÂºïÂÖ•ÂàÜÈ°µÊèí‰ª∂ Êã¶Êà™Âô® * @return */ @Bean public PaginationInterceptor paginationInterceptor() { PaginationInterceptor paginationInterceptor = new PaginationInterceptor(); // ËÆæÁΩÆËØ∑Ê±ÇÁöÑÈ°µÈù¢Â§ß‰∫éÊúÄÂ§ßÈ°µÂêéÊìç‰ΩúÔºå trueË∞ÉÂõûÂà∞È¶ñÈ°µÔºåfalse ÁªßÁª≠ËØ∑Ê±Ç ÈªòËÆ§false paginationInterceptor.setOverflow(true); // ËÆæÁΩÆÊúÄÂ§ßÂçïÈ°µÈôêÂà∂Êï∞ÈáèÔºåÈªòËÆ§ 500 Êù°Ôºå-1 ‰∏çÂèóÈôêÂà∂ paginationInterceptor.setLimit(1000); // ÂºÄÂêØ count ÁöÑ join ‰ºòÂåñ,Âè™ÈíàÂØπÈÉ®ÂàÜ left join paginationInterceptor.setCountSqlParser(new JsqlParserCountOptimize(true)); return paginationInterceptor; }} 4.3 ÈÄªËæëÂà†Èô§ ËØ¥Êòé: Âè™ÂØπËá™Âä®Ê≥®ÂÖ•ÁöÑsqlËµ∑Êïà: ÊèíÂÖ•: ‰∏ç‰ΩúÈôêÂà∂ Êü•Êâæ: ËøΩÂä†whereÊù°‰ª∂ËøáÊª§ÊéâÂ∑≤Âà†Èô§Êï∞ÊçÆ,‰∏î‰ΩøÁî® wrapper.entity ÁîüÊàêÁöÑwhereÊù°‰ª∂‰ºöÂøΩÁï•ËØ•Â≠óÊÆµ Êõ¥Êñ∞: ËøΩÂä†whereÊù°‰ª∂Èò≤Ê≠¢Êõ¥Êñ∞Âà∞Â∑≤Âà†Èô§Êï∞ÊçÆ,‰∏î‰ΩøÁî® wrapper.entity ÁîüÊàêÁöÑwhereÊù°‰ª∂‰ºöÂøΩÁï•ËØ•Â≠óÊÆµ Âà†Èô§: ËΩ¨Âèò‰∏∫ Êõ¥Êñ∞ ‰æãÂ¶Ç: Âà†Èô§: update user set deleted=1 where id = 1 and deleted=0 Êü•Êâæ: select id,name,deleted from user where deleted=0 Ê≠•È™§1ÔºöÈÖçÁΩÆ application.yml 1234567mybatis-plus: mapper-locations: classpath*:/mapper/**/*.xml global-config: db-config: id-type: auto # Êï∞ÊçÆÂ∫ì‰∏ªÈîÆËá™Â¢û logic-delete-value: 1 # ÈÄªËæëÂ∑≤Âà†Èô§ÂÄº(ÈªòËÆ§‰∏∫ 1) logic-not-delete-value: 0 # ÈÄªËæëÊú™Âà†Èô§ÂÄº(ÈªòËÆ§‰∏∫ 0) Ê≠•È™§2: ÂÆû‰ΩìÁ±ªÂ≠óÊÆµ‰∏äÂä†‰∏ä@TableLogicÊ≥®Ëß£ 12345/** * ÊòØÂê¶ÊòæÁ§∫[0-‰∏çÊòæÁ§∫Ôºå1ÊòæÁ§∫] */@TableLogic(value = &quot;1&quot;,delval = &quot;0&quot;)private Integer showStatus; 3.5.4 ÂÆâË£ÖÈÖçÁΩÆgit ‰∏ãËΩΩgit https://git-scm.com/ ÈÖçÁΩÆ git ËøõÂÖ• git bash 1234# ÈÖçÁΩÆÁî®Êà∑Âêçgit config --global user.name &quot;user.name&quot;# ÈÖçÁΩÆÈÇÆÁÆ±git config --global user.email &quot;username@email.com&quot; # Ê≥®ÂÜåË¥¶Âè∑‰ΩøÁî®ÁöÑÈÇÆÁÆ± ÈÖçÁΩÆ ssh ÂÖçÂØÜÁ†ÅÁôªÂΩï https://github.com/settings/keys 12345678git bash ‰ΩøÁî® ssh-keygen -t rsa -C &quot;XXX@xxx.com&quot; ÂëΩ‰ª§ ËøûÁª≠‰∏âÊ¨°ÂõûËΩ¶‰∏ÄËà¨Áî®Êà∑ÁõÆÂΩï‰∏ãÈÉΩ‰ºöÊúâid_rsa Êñá‰ª∂id_rsa.pub Êñá‰ª∂ÊàñËÄÖ cat ~/.ssh/id_rsa.pubÁôªÂΩïËøõ github/gitee ËÆæÁΩÆ SSH KEY‰ΩøÁî® ssh -T git@gitee.com ÊµãËØïÊòØÂê¶ÊàêÂäüÂÖ∑‰ΩìËøáÁ®ãÂèÇËÄÉÁôæÂ∫¶ È°πÁõÆÁªìÊûÑÂàõÂª∫ 3.5.5 ÈÄÜÂêëÂ∑•Á®ãÁöÑ‰ΩøÁî® 1.‰∏ãËΩΩ‰∫∫‰∫∫ÂºÄÊ∫êÈ°πÁõÆ https://gitee.com/renrenio ÈÄâÊã© renren -generator È°πÁõÆ 1.‰∏ãËΩΩ‰πãÂêéÔºåÂØºÂÖ•È°πÁõÆÔºå‰øÆÊîπÊï∞ÊçÆÂ∫ìÔºå‰øÆÊîπÂ∑•Á®ãshiro‰æùËµñ‰∏∫SpringSecurity 2.‰øÆÊîπÂØπÂ∫îÊï∞ÊçÆÂ∫ìÈÖçÁΩÆÔºåÊ®°ÂùóÂêç‰∏éÊï∞ÊçÆÂ∫ìË°®ÂêçÂâçÁºÄ ‰∏ãËΩΩ renren-fast-vueÈ°πÁõÆ 1.vscode ÂØºÂÖ•ÂâçÁ´ØÈ°πÁõÆ 2.ÂâçÂêéÁ´ØËÅîË∞ÉÊµãËØïÂü∫Êú¨ÂäüËÉΩ 2.ÂàõÂª∫‰∏öÂä°Ê®°Âùó 3.ÈÖçÁΩÆÂÖ¨ÂÖ±ÁéØÂ¢É 4.‰ΩøÁî®‰∫∫‰∫∫‰ª£Á†ÅÁîüÊàêÂô®ÁîüÊàêÂü∫Á°Ä‰∏öÂä°‰ª£Á†Å ‰øÆÊîπÁõ∏ÂÖ≥ÈÖçÁΩÆ 3.6 ÂâçÂêéÁ´ØËÅîË∞É 3.6.1 ÂêØÂä®ÂâçÁ´ØÈ°πÁõÆ npm install ÂÆâË£Ö‰æùËµñ ÈÄöËøá npm run dev ÂêØÂä® 3.6.2 ÂêØÂä®ÂêéÁ´ØÈ°πÁõÆ ËøôÊó∂Ôºå‰Ω†‰ΩøÁî®ÊµèËßàÂô®Áõ¥Êé•ËØ•Êé•Âè£ÔºåÂèëÁé∞ËÆøÈóÆÊ≤°‰∫ãÔºå‰ΩÜÊòØÁî®ÂâçÁ´ØÈ°πÁõÆËÆøÈóÆÂç¥Êä•ÈîôÔºå‰ªÄ‰πàÂéüÂõ†Ôºü ËøôÂÖ∂ÂÆûÊòØÊµèËßàÂô®ÁöÑÂêåÊ∫êÁ≠ñÁï•ÈÄ†ÊàêÁöÑË∑®ÂüüÈóÆÈ¢ò„ÄÇ 3.6.3 Ë∑®ÂüüÈóÆÈ¢ò Ë∑®ÂüüÔºöÊµèËßàÂô®ÂØπ‰∫éjavascriptÁöÑÂêåÊ∫êÁ≠ñÁï•ÁöÑÈôêÂà∂ „ÄÇ ‰ª•‰∏ãÊÉÖÂÜµÈÉΩÂ±û‰∫éË∑®ÂüüÔºö Ë∑®ÂüüÂéüÂõ†ËØ¥Êòé Á§∫‰æã ÂüüÂêç‰∏çÂêå www.jd.com ‰∏é www.taobao.com ÂüüÂêçÁõ∏ÂêåÔºåÁ´ØÂè£‰∏çÂêå www.jd.com:8080 ‰∏é www.jd.com:8081 ‰∫åÁ∫ßÂüüÂêç‰∏çÂêå item.jd.com ‰∏é miaosha.jd.com Â¶ÇÊûúÂüüÂêçÂíåÁ´ØÂè£ÈÉΩÁõ∏ÂêåÔºå‰ΩÜÊòØËØ∑Ê±ÇË∑ØÂæÑ‰∏çÂêåÔºå‰∏çÂ±û‰∫éË∑®ÂüüÔºåÂ¶ÇÔºö www.jd.com/item www.jd.com/goods httpÂíåhttps‰πüÂ±û‰∫éË∑®Âüü ËÄåÊàë‰ª¨ÂàöÊâçÊòØ‰ªémanager.gmall.comÂéªËÆøÈóÆapi.gmall.comÔºåËøôÂ±û‰∫éÁ´ØÂè£‰∏çÂêåÔºåË∑®Âüü‰∫Ü„ÄÇ 3.6.3.1 ‰∏∫‰ªÄ‰πà‰ºöÊúâË∑®ÂüüÈóÆÈ¢ò Ë∑®Âüü‰∏ç‰∏ÄÂÆöÈÉΩ‰ºöÊúâË∑®ÂüüÈóÆÈ¢ò„ÄÇ Âõ†‰∏∫Ë∑®ÂüüÈóÆÈ¢òÊòØÊµèËßàÂô®ÂØπ‰∫éajaxËØ∑Ê±ÇÁöÑ‰∏ÄÁßçÂÆâÂÖ®ÈôêÂà∂Ôºö‰∏Ä‰∏™È°µÈù¢ÂèëËµ∑ÁöÑajaxËØ∑Ê±ÇÔºåÂè™ËÉΩÊòØ‰∏éÂΩìÂâçÈ°µÂüüÂêçÁõ∏ÂêåÁöÑË∑ØÂæÑÔºåËøôËÉΩÊúâÊïàÁöÑÈòªÊ≠¢Ë∑®Á´ôÊîªÂáª„ÄÇ Âõ†Ê≠§ÔºöË∑®ÂüüÈóÆÈ¢ò ÊòØÈíàÂØπajaxÁöÑ‰∏ÄÁßçÈôêÂà∂„ÄÇ ‰ΩÜÊòØËøôÂç¥ÁªôÊàë‰ª¨ÁöÑÂºÄÂèëÂ∏¶Êù•‰∫Ü‰∏ç‰æøÔºåËÄå‰∏îÂú®ÂÆûÈôÖÁîü‰∫ßÁéØÂ¢É‰∏≠ÔºåËÇØÂÆö‰ºöÊúâÂæàÂ§öÂè∞ÊúçÂä°Âô®‰πãÈó¥‰∫§‰∫íÔºåÂú∞ÂùÄÂíåÁ´ØÂè£ÈÉΩÂèØËÉΩ‰∏çÂêåÔºåÊÄé‰πàÂäûÔºü 3.6.3.2 ‰∏∫‰ªÄ‰πà‰ºöÊúâË∑®ÂüüÈóÆÈ¢ò ÁõÆÂâçÊØîËæÉÂ∏∏Áî®ÁöÑË∑®ÂüüËß£ÂÜ≥ÊñπÊ°àÊúâ3ÁßçÔºö ‚óèJsonpÊúÄÊó©ÁöÑËß£ÂÜ≥ÊñπÊ°àÔºåÂà©Áî®scriptÊ†áÁ≠æÂèØ‰ª•Ë∑®ÂüüÁöÑÂéüÁêÜÂÆûÁé∞„ÄÇÈôêÂà∂Ôºö ‚óãÈúÄË¶ÅÊúçÂä°ÁöÑÊîØÊåÅ ‚óãÂè™ËÉΩÂèëËµ∑GETËØ∑Ê±Ç ‚óènginxÂèçÂêë‰ª£ÁêÜ ÊÄùË∑ØÊòØÔºöÂà©Áî®nginxÊääË∑®ÂüüÂèçÂêë‰ª£ÁêÜ‰∏∫‰∏çË∑®ÂüüÔºåÊîØÊåÅÂêÑÁßçËØ∑Ê±ÇÊñπÂºè Áº∫ÁÇπÔºöÈúÄË¶ÅÂú®nginxËøõË°åÈ¢ùÂ§ñÈÖçÁΩÆÔºåËØ≠‰πâ‰∏çÊ∏ÖÊô∞ ‚óèCORSËßÑËåÉÂåñÁöÑË∑®ÂüüËØ∑Ê±ÇËß£ÂÜ≥ÊñπÊ°àÔºåÂÆâÂÖ®ÂèØÈù†„ÄÇ‰ºòÂäøÔºö ‚óãÂú®ÊúçÂä°Á´ØËøõË°åÊéßÂà∂ÊòØÂê¶ÂÖÅËÆ∏Ë∑®ÂüüÔºåÂèØËá™ÂÆö‰πâËßÑÂàô ‚óãÊîØÊåÅÂêÑÁßçËØ∑Ê±ÇÊñπÂºè ‚óèÁº∫ÁÇπÔºö ‚óã‰ºö‰∫ßÁîüÈ¢ùÂ§ñÁöÑËØ∑Ê±Ç Êàë‰ª¨ËøôÈáå‰ºöÈááÁî®corsÁöÑË∑®ÂüüÊñπÊ°à„ÄÇ 3.6.4 Ë∑®ÂüüËß£ÂÜ≥ ‰ªÄ‰πàÊòØcors CORSÊòØ‰∏Ä‰∏™W3CÊ†áÂáÜÔºåÂÖ®Áß∞ÊòØ&quot;Ë∑®ÂüüËµÑÊ∫êÂÖ±‰∫´&quot;ÔºàCross-origin resource sharingÔºâ„ÄÇ ÂÆÉÂÖÅËÆ∏ÊµèËßàÂô®ÂêëË∑®Ê∫êÊúçÂä°Âô®ÔºåÂèëÂá∫XMLHttpRequestËØ∑Ê±ÇÔºå‰ªéËÄåÂÖãÊúç‰∫ÜAJAXÂè™ËÉΩÂêåÊ∫ê‰ΩøÁî®ÁöÑÈôêÂà∂„ÄÇ CORSÈúÄË¶ÅÊµèËßàÂô®ÂíåÊúçÂä°Âô®ÂêåÊó∂ÊîØÊåÅ„ÄÇÁõÆÂâçÔºåÊâÄÊúâÊµèËßàÂô®ÈÉΩÊîØÊåÅËØ•ÂäüËÉΩÔºåIEÊµèËßàÂô®‰∏çËÉΩ‰Ωé‰∫éIE10„ÄÇ ‚óèÊµèËßàÂô®Á´ØÔºö ÁõÆÂâçÔºåÊâÄÊúâÊµèËßàÂô®ÈÉΩÊîØÊåÅËØ•ÂäüËÉΩÔºàIE10‰ª•‰∏ã‰∏çË°åÔºâ„ÄÇÊï¥‰∏™CORSÈÄö‰ø°ËøáÁ®ãÔºåÈÉΩÊòØÊµèËßàÂô®Ëá™Âä®ÂÆåÊàêÔºå‰∏çÈúÄË¶ÅÁî®Êà∑ÂèÇ‰∏é„ÄÇ ‚óèÊúçÂä°Á´ØÔºö CORSÈÄö‰ø°‰∏éAJAXÊ≤°Êúâ‰ªª‰ΩïÂ∑ÆÂà´ÔºåÂõ†Ê≠§‰Ω†‰∏çÈúÄË¶ÅÊîπÂèò‰ª•ÂâçÁöÑ‰∏öÂä°ÈÄªËæë„ÄÇÂè™‰∏çËøáÔºåÊµèËßàÂô®‰ºöÂú®ËØ∑Ê±Ç‰∏≠Êê∫Â∏¶‰∏Ä‰∫õÂ§¥‰ø°ÊÅØÔºåÊàë‰ª¨ÈúÄË¶Å‰ª•Ê≠§Âà§Êñ≠ÊòØÂê¶ÂÖÅËÆ∏ÂÖ∂Ë∑®ÂüüÔºåÁÑ∂ÂêéÂú®ÂìçÂ∫îÂ§¥‰∏≠Âä†ÂÖ•‰∏Ä‰∫õ‰ø°ÊÅØÂç≥ÂèØ„ÄÇËøô‰∏ÄËà¨ÈÄöËøáËøáÊª§Âô®ÂÆåÊàêÂç≥ÂèØ„ÄÇ ÂéüÁêÜ È¢ÑÊ£ÄËØ∑Ê±Ç Ë∑®ÂüüËØ∑Ê±Ç‰ºöÂú®Ê≠£ÂºèÈÄö‰ø°‰πãÂâçÔºåÂ¢ûÂä†‰∏ÄÊ¨°HTTPÊü•ËØ¢ËØ∑Ê±ÇÔºåÁß∞‰∏∫&quot;È¢ÑÊ£Ä&quot;ËØ∑Ê±ÇÔºàpreflightÔºâ„ÄÇ ÊµèËßàÂô®ÂÖàËØ¢ÈóÆÊúçÂä°Âô®ÔºåÂΩìÂâçÁΩëÈ°µÊâÄÂú®ÁöÑÂüüÂêçÊòØÂê¶Âú®ÊúçÂä°Âô®ÁöÑËÆ∏ÂèØÂêçÂçï‰πã‰∏≠Ôºå‰ª•ÂèäÂèØ‰ª•‰ΩøÁî®Âì™‰∫õHTTPÂä®ËØçÂíåÂ§¥‰ø°ÊÅØÂ≠óÊÆµ„ÄÇÂè™ÊúâÂæóÂà∞ËÇØÂÆöÁ≠îÂ§çÔºåÊµèËßàÂô®Êâç‰ºöÂèëÂá∫Ê≠£ÂºèÁöÑXMLHttpRequestËØ∑Ê±ÇÔºåÂê¶ÂàôÂ∞±Êä•Èîô„ÄÇ ‰∏Ä‰∏™‚ÄúÈ¢ÑÊ£Ä‚ÄùËØ∑Ê±ÇÁöÑÊ†∑ÊùøÔºö OPTIONS /cors HTTP/1.1 Origin: http://localhost:1000 Access-Control-Request-Method: GET Access-Control-Request-Headers: X-Custom-Header User-Agent: Mozilla/5.0... ‚óèOriginÔºö‰ºöÊåáÂá∫ÂΩìÂâçËØ∑Ê±ÇÂ±û‰∫éÂì™‰∏™ÂüüÔºàÂçèËÆÆ+ÂüüÂêç+Á´ØÂè£Ôºâ„ÄÇÊúçÂä°‰ºöÊ†πÊçÆËøô‰∏™ÂÄºÂÜ≥ÂÆöÊòØÂê¶ÂÖÅËÆ∏ÂÖ∂Ë∑®Âüü„ÄÇ ‚óèAccess-Control-Request-MethodÔºöÊé•‰∏ãÊù•‰ºöÁî®Âà∞ÁöÑËØ∑Ê±ÇÊñπÂºèÔºåÊØîÂ¶ÇPUT ‚óèAccess-Control-Request-HeadersÔºö‰ºöÈ¢ùÂ§ñÁî®Âà∞ÁöÑÂ§¥‰ø°ÊÅØ È¢ÑÊ£ÄËØ∑Ê±ÇÁöÑÂìçÂ∫î ÊúçÂä°ÁöÑÊî∂Âà∞È¢ÑÊ£ÄËØ∑Ê±ÇÔºåÂ¶ÇÊûúËÆ∏ÂèØË∑®ÂüüÔºå‰ºöÂèëÂá∫ÂìçÂ∫îÔºö HTTP/1.1 200 OK Date: Mon, 01 Dec 2008 01:15:39 GMT Server: Apache/2.0.61 (Unix) Access-Control-Allow-Origin: http://miaosha.jd.com Access-Control-Allow-Credentials: true Access-Control-Allow-Methods: GET, POST, PUT Access-Control-Allow-Headers: X-Custom-Header Access-Control-Max-Age: 1728000 Content-Type: text/html; charset=utf-8 Content-Encoding: gzip Content-Length: 0 Keep-Alive: timeout=2, max=100 Connection: Keep-Alive Content-Type: text/plain Â¶ÇÊûúÊúçÂä°Âô®ÂÖÅËÆ∏Ë∑®ÂüüÔºåÈúÄË¶ÅÂú®ËøîÂõûÁöÑÂìçÂ∫îÂ§¥‰∏≠Êê∫Â∏¶‰∏ãÈù¢‰ø°ÊÅØÔºö ‚óèAccess-Control-Allow-OriginÔºöÂèØÊé•ÂèóÁöÑÂüüÔºåÊòØ‰∏Ä‰∏™ÂÖ∑‰ΩìÂüüÂêçÊàñËÄÖ*Ôºà‰ª£Ë°®‰ªªÊÑèÂüüÂêçÔºâ ‚óèAccess-Control-Allow-CredentialsÔºöÊòØÂê¶ÂÖÅËÆ∏Êê∫Â∏¶cookieÔºåÈªòËÆ§ÊÉÖÂÜµ‰∏ãÔºåcors‰∏ç‰ºöÊê∫Â∏¶cookieÔºåÈô§ÈùûËøô‰∏™ÂÄºÊòØtrue ‚óèAccess-Control-Allow-MethodsÔºöÂÖÅËÆ∏ËÆøÈóÆÁöÑÊñπÂºè ‚óèAccess-Control-Allow-HeadersÔºöÂÖÅËÆ∏Êê∫Â∏¶ÁöÑÂ§¥ ‚óèAccess-Control-Max-AgeÔºöÊú¨Ê¨°ËÆ∏ÂèØÁöÑÊúâÊïàÊó∂ÈïøÔºåÂçï‰ΩçÊòØÁßíÔºåËøáÊúü‰πãÂâçÁöÑajaxËØ∑Ê±ÇÂ∞±Êó†ÈúÄÂÜçÊ¨°ËøõË°åÈ¢ÑÊ£Ä‰∫Ü ÊúâÂÖ≥cookieÔºö Ë¶ÅÊÉ≥Êìç‰ΩúcookieÔºåÈúÄË¶ÅÊª°Ë∂≥3‰∏™Êù°‰ª∂Ôºö ‚óèÊúçÂä°ÁöÑÂìçÂ∫îÂ§¥‰∏≠ÈúÄË¶ÅÊê∫Â∏¶Access-Control-Allow-CredentialsÂπ∂‰∏î‰∏∫true„ÄÇ ‚óèÊµèËßàÂô®ÂèëËµ∑ajaxÈúÄË¶ÅÊåáÂÆöwithCredentials ‰∏∫true ‚óèÂìçÂ∫îÂ§¥‰∏≠ÁöÑAccess-Control-Allow-Origin‰∏ÄÂÆö‰∏çËÉΩ‰∏∫*ÔºåÂøÖÈ°ªÊòØÊåáÂÆöÁöÑÂüüÂêç ÂÆûÁé∞ÊñπÂºè ËôΩÁÑ∂ÂéüÁêÜÊØîËæÉÂ§çÊùÇÔºå‰ΩÜÊòØÂâçÈù¢ËØ¥ËøáÔºö ‚óèÊµèËßàÂô®Á´ØÈÉΩÊúâÊµèËßàÂô®Ëá™Âä®ÂÆåÊàêÔºåÊàë‰ª¨Êó†ÈúÄÊìçÂøÉ ‚óèÊúçÂä°Á´ØÂèØ‰ª•ÈÄöËøáÊã¶Êà™Âô®Áªü‰∏ÄÂÆûÁé∞Ôºå‰∏çÂøÖÊØèÊ¨°ÈÉΩÂéªËøõË°åË∑®ÂüüÂà§ÂÆöÁöÑÁºñÂÜô„ÄÇ ‰∫ãÂÆû‰∏äÔºåSpringÂ∑≤ÁªèÂ∏ÆÊàë‰ª¨ÂÜôÂ•Ω‰∫ÜCORSÁöÑË∑®ÂüüËøáÊª§Âô®ÔºåÂÜÖÈÉ®Â∑≤ÁªèÂÆûÁé∞‰∫ÜÂàöÊâçÊâÄËÆ≤ÁöÑÂà§ÂÆöÈÄªËæë„ÄÇ 12spring-webmvcÔºöCorsFilterspring-webfluxÔºöCorsWebFilter springcloud-gatewayÈõÜÊàêÁöÑÊòØwebfluxÔºåÊâÄ‰ª•ËøôÈáå‰ΩøÁî®ÁöÑÊòØCorsWebFilter Âú®gmall-gateway‰∏≠ÁºñÂÜô‰∏Ä‰∏™ÈÖçÁΩÆÁ±ªÔºåÂπ∂‰∏îÊ≥®ÂÜåCorsWebFilterÔºö Plain Text 123456789101112131415161718192021@Configurationpublic class CorsConfig { @Bean public CorsWebFilter corsWebFilter() { // ÂàùÂßãÂåñCORSÈÖçÁΩÆÂØπË±° CorsConfiguration config = new CorsConfiguration(); // ÂÖÅËÆ∏ÁöÑÂüü,‰∏çË¶ÅÂÜô*ÔºåÂê¶ÂàôcookieÂ∞±Êó†Ê≥ï‰ΩøÁî®‰∫Ü config.addAllowedOrigin(&quot;http://manager.gmall.com&quot;); config.addAllowedOrigin(&quot;http://www.gmall.com&quot;); // ÂÖÅËÆ∏ÁöÑÂ§¥‰ø°ÊÅØ config.addAllowedHeader(&quot;*&quot;); // ÂÖÅËÆ∏ÁöÑËØ∑Ê±ÇÊñπÂºè config.addAllowedMethod(&quot;*&quot;); // ÊòØÂê¶ÂÖÅËÆ∏Êê∫Â∏¶Cookie‰ø°ÊÅØ config.setAllowCredentials(true); // Ê∑ªÂä†Êò†Â∞ÑË∑ØÂæÑÔºåÊàë‰ª¨Êã¶Êà™‰∏ÄÂàáËØ∑Ê±Ç UrlBasedCorsConfigurationSource corsConfigurationSource = new UrlBasedCorsConfigurationSource(); corsConfigurationSource.registerCorsConfiguration(&quot;/**&quot;, config); return new CorsWebFilter(corsConfigurationSource); }} Âõõ„ÄÅÂàÜÂ∏ÉÂºèÁªÑ‰ª∂ SpringCloud Alibaba ËØ∑Êü•ÁúãcloudÁ¨îËÆ∞ÊàñÂÆòÊñπÊñáÊ°£Êàñ‰∏≠ÊñáÊñáÊ°£ SpringClouidÁöÑÂá†Â§ßÁóõÁÇπÔºö SpringCloudÈÉ®ÂàÜÁªÑ‰ª∂ÂÅúÊ≠¢Áª¥Êä§ÂíåÊõ¥Êñ∞ÔºåÁªôÂºÄÂèëÂ∏¶Êù•‰∏ç‰æø; SpringCloudÈÉ®ÂàÜÁéØÂ¢ÉÊê≠Âª∫Â§çÊùÇÔºåÊ≤°ÊúâÂÆåÂñÑÁöÑÂèØËßÜÂåñÁïåÈù¢ÔºåÊàë‰ª¨ÈúÄË¶ÅÂ§ßÈáèÁöÑ‰∫åÊ¨°ÂºÄÂèëÂíåÂÆöÂà∂ SpringCloudÈÖçÁΩÆÂ§çÊùÇÔºåÈöæ‰ª•‰∏äÊâãÔºåÈÉ®ÂàÜÈÖçÁΩÆÂ∑ÆÂà´Èöæ‰ª•Âå∫ÂàÜÂíåÂêàÁêÜÂ∫îÁî® SpringCloud AlibabaÁöÑ‰ºòÂäøÔºö ÈòøÈáå‰ΩøÁî®ËøáÁöÑÁªÑ‰ª∂ÁªèÂéÜ‰∫ÜËÄÉÈ™åÔºåÊÄßËÉΩÂº∫ÊÇçÔºåËÆæËÆ°ÂêàÁêÜÔºåÁé∞Âú®ÂºÄÊ∫êÂá∫Êù•Â§ßÂÆ∂Áî® ÊàêÂ•óÁöÑ‰∫ßÂìÅÊê≠ÈÖçÂÆåÂñÑÁöÑÂèØËßÜÂåñÁïåÈù¢ÁªôÂºÄÂèëËøêÁª¥Â∏¶Êù•ÊûÅÂ§ßÁöÑ‰æøÂà© Êê≠Âª∫ÁÆÄÂçïÔºåÂ≠¶‰π†Êõ≤Á∫ø‰Ωé„ÄÇ ÊäÄÊúØÊê≠ÈÖçÊñπÊ°à SpringCloud Alibaba Nacos : Ê≥®ÂÜå‰∏≠ÂøÉ (ÊúçÂä°ÂèëÁé∞/Ê≥®ÂÜå) Nacos: ÈÖçÁΩÆ‰∏≠ÂøÉ (Âä®ÊÄÅÈÖçÁΩÆÁÆ°ÁêÜ) Sentinel: ÊúçÂä°ÂÆπÈîô(ÈôêÊµÅ„ÄÅÈôçÁ∫ß„ÄÅÁÜîÊñ≠) Seata: ÂéüFescar, Âç≥ÂàÜÂ∏ÉÂºè‰∫ãÂä°Ëß£ÂÜ≥ÊñπÊ°à SpringCloud Ribbon: Ë¥üËΩΩÂùáË°° Feign: Â£∞ÊòéÂºèHTTPÂÆ¢Êà∑Á´Ø(Ë∞ÉÁî®ËøúÁ®ãÊúçÂä°) Gateway: API ÁΩëÂÖ≥ (webflux ÁºñÁ®ãÊ®°Âºè) Sleuth:Ë∞ÉÁî®ÈìæÁõëÊéß È°πÁõÆÊû∂ÊûÑ ÁªÑ‰ª∂ÊäÄÊúØÊñπÊ°à Nacos„ÄêÊ≥®ÂÜå‰∏≠ÂøÉ„Äë Ê≥®ÂÜå‰∏≠ÂøÉ„ÄêÊúçÂä°ÂèëÁé∞/Ê≥®ÂÜå„Äë 1.ÂÖ¨ÂÖ±‰æùËµñÂºïËøõ 1234&lt;dependency&gt; &lt;groupId&gt;com.alibaba.cloud&lt;/groupId&gt; &lt;artifactId&gt;spring-cloud-starter-alibaba-nacos-discovery&lt;/artifactId&gt;&lt;/dependency&gt; 2.‰∏ãËΩΩNacos Server Releases ¬∑ alibaba/nacos (github.com)Âπ∂ÁÇπÂáªÊñá‰ª∂Â§π‰∏ãÁöÑstartup.batÂêØÂä®ÊúçÂä°,ÂêØÂä®‰∏ç‰∫ÜÂèØËÉΩÊú™ÈÖçJAVA_HOMEÁéØÂ¢ÉÂèòÈáè 3.ÈÖçÁΩÆ 1„ÄÅÈ¶ñÂÖàÔºå‰øÆÊîπ pom.xml Êñá‰ª∂ÔºåÂºïÂÖ• Nacos Discovery Starter 1234&lt;dependency&gt; &lt;groupId&gt;com.alibaba.cloud&lt;/groupId&gt; &lt;artifactId&gt;spring-cloud-starter-alibaba-nacos-discovery&lt;/artifactId&gt;&lt;/dependency&gt; 2„ÄÅÂú®Â∫îÁî®ÁöÑ /resource /application.properties ‰∏≠ÈÖçÁΩÆ Nacos ServerÂú∞ÂùÄ 1spring.cloud.nacos.discovery.server-addr=127.0.0.1:8848 4.ÂêØÂä®Á±ªÊ∑ªÂä†Ê≥®Ëß£ÂºÄÂêØÊúçÂä°‰∏éÊ≥®Ëß£ÂäüËÉΩ 1@EnableDiscoveryClient 5.ÈÖçÁΩÆÊ®°ÂùóÂêç 1spring.application.name=service-provider 6.ÂêØÂä®Ê®°ÂùóËÆøÈóÆ Nacos Nacos„ÄêÈÖçÁΩÆ‰∏≠ÂøÉ„Äë 1„ÄÅpom.xml ÂºïÂÖ• Nacos Config Starter 12345 &lt;!--ÈÖçÁΩÆ‰∏≠ÂøÉÊù•ÂÅöÈÖçÁΩÆÁÆ°ÁêÜ--&gt;&lt;dependency&gt; &lt;groupId&gt;com.alibaba.cloud&lt;/groupId&gt; &lt;artifactId&gt;spring-cloud-starter-alibaba-nacos-config&lt;/artifactId&gt;&lt;/dependency&gt; 5.3.2„ÄÅÂú®Â∫îÁî®ÁöÑ resource ‰∏ã bootstrap.properties 12spring.application.name=gulimall-couponspring.cloud.nacos.config.server-addr=127.0.0.1:8848 5.3.3„ÄÅÂú® nacos ‰∏≠Ê∑ªÂä†ÈÖçÁΩÆ ÈÄâÊã©Âè≥‰∏äËßíÊ∑ªÂä†ÈÖçÁΩÆ Data ID ÊîπÊàê gulimall-coupon.properties ÈªòËÆ§ËßÑÂàô Áî®Êà∑Âêç.Â∫îÁî®Âêç.properties 5.3.4„ÄÅÂú®Â∫îÁî®‰∏≠‰ΩøÁî®@Value Âíå @RefreshScope 1234567891011121314151617@RefreshScope // Âà∑Êñ∞ÂØπÂ∫îcontroller@RestController@RequestMapping(&quot;coupon/coupon&quot;)public class CouponController { @Autowired private CouponService couponService; @Value(&quot;${coupon.user.name}&quot;) private String name; @Value(&quot;${coupon.user.age}&quot;) private Integer age; @RequestMapping(&quot;/test&quot;) public R test() { return R.ok().put(&quot;name&quot;,name).put(&quot;age&quot;,age); } 5.3.5„ÄÅËøõÈò∂ 1„ÄÅÊ†∏ÂøÉÊ¶ÇÂøµ ÂëΩÂêçÁ©∫Èó¥: Áî®‰∫éËøõË°åÁßüÊà∑Á≤íÂ∫¶ÁöÑÈÖçÁΩÆÈöîÁ¶ª„ÄÇ‰∏çÂêåÁöÑÂëΩÂêçÁ©∫Èó¥‰∏ãÔºåÂèØ‰ª•Â≠òÂú®Áõ∏ÂêåÁöÑ Group Êàñ DatalD ÁöÑÈÖçÁΩÆ„ÄÇNamespace ÁöÑÂ∏∏Áî®Âú∫ÊôØ‰πã‰∏ÄÊòØ‰∏çÂêåÁéØÂ¢ÉÁöÑÈÖçÁΩÆÁöÑÂå∫ÂàÜÈöîÁ¶ªÔºå‰æãÂ¶ÇÂºÄÂèëÊµãËØïÁéØÂ¢ÉÂíåÁîü‰∫ßÁéØÂ¢ÉÁöÑËµÑÊ∫ê(Â¶ÇÈÖçÁΩÆ„ÄÅÊúçÂä°)ÈöîÁ¶ªÁ≠â„ÄÇ ÈÖçÁΩÆÈõÜ ‰∏ÄÁªÑÁõ∏ÂÖ≥ÊàñËÄÖ‰∏çÁõ∏ÂÖ≥ÁöÑÈÖçÁΩÆÈ°πÁöÑÈõÜÂêàÁß∞‰∏∫ÈÖçÁΩÆÈõÜ„ÄÇÂú®Á≥ªÁªü‰∏≠Ôºå‰∏Ä‰∏™ÈÖçÁΩÆÊñá‰ª∂ÈÄöÂ∏∏Â∞±ÊòØ‰∏Ä‰∏™ÈÖçÁΩÆÈõÜÔºåÂåÖÂê´‰∫ÜÁ≥ªÁªüÂêÑ‰∏™ÊñπÈù¢ÁöÑÈÖçÁΩÆ„ÄÇ‰æãÂ¶ÇÔºå‰∏Ä‰∏™ÈÖçÁΩÆÈõÜÂèØËÉΩÂåÖÂê´‰∫ÜÊï∞ÊçÆÊ∫ê„ÄÅÁ∫øÁ®ãÊ±†„ÄÅÊó•ÂøóÁ∫ßÂà´Á≠âÈÖçÁΩÆÈ°π„ÄÇ ÈÖçÁΩÆÈõÜID: Nacos ‰∏≠ÁöÑÊüê‰∏™ÈÖçÁΩÆÈõÜÁöÑ IDÔºåÈÖçÁΩÆÈõÜ ID ÊòØÁªÑÁªáÂàíÂàÜÈÖçÁΩÆÁöÑÁª¥Â∫¶‰πã‰∏ÄÔºåData ID ÈÄöÂ∏∏Áî®‰∫éÁªÑÁªáÂàíÂàÜÁ≥ªÁªüÁöÑÈÖçÁΩÆÈõÜÔºå‰∏Ä‰∏™Á≥ªÁªüÊàñËÄÖÂ∫îÁî®ÂèØ‰ª•ÂåÖÂê´Â§ö‰∏™ÈÖçÁΩÆÈõÜÔºå‰∏Ä‰∏™Á≥ªÁªüÂ∫îÁî®ÂèØ‰ª•ÂåÖÂê´Â§ö‰∏™ÈÖçÁΩÆÈõÜÔºåÊØè‰∏™ÈÖçÁΩÆÈõÜÈÉΩÂèØ‰ª•Ë¢´‰∏Ä‰∏™ÊúâÊÑè‰πâÁöÑÂêçÁß∞Ê†áËØÜÔºåData ID ÈÄöÂ∏∏ÈááÁî®Á±ª Java ÂåÖ Â¶Ç ( com.taobao.tc.refund.log.level ) ÁöÑÂëΩÂêçËßÑÂàô‰øùËØÅÂÖ®Â±ÄÂîØ‰∏ÄÊÄßÔºåÊ≠§ÂëΩÂêçËßÑÂàôÈùûÂº∫Âà∂ ÈÖçÁΩÆÂàÜÁªÑÔºö Nacos ‰∏≠ÁöÑ‰∏ÄÁªÑÈÖçÁΩÆÈõÜÔºåÊòØÁªÑÁªáÈÖçÁΩÆÁöÑÁª¥Â∫¶‰πã‰∏ÄÔºåÈÄöËøá‰∏Ä‰∏™ÊúâÊÑè‰πâÁöÑÂ≠óÁ¨¶‰∏≤Ôºå(Â¶Ç Buy Êàñ Trade ) ÂØπÈÖçÁΩÆÈõÜËøõË°åÂàÜÁªÑÔºå‰ªéËÄåÂå∫ÂàÜ Data ID Áõ∏ÂêåÁöÑÈÖçÁΩÆÈõÜÔºåÂΩìÊÇ®Âú® Nacos ‰∏äÂàõÂª∫‰∏Ä‰∏™ÈÖçÁΩÆÊó∂ÔºåÂ¶ÇÊûúÊú™Â°´ÂÜôÈÖçÁΩÆÂàÜÁªÑÁöÑÂêçÁß∞ÔºåÂàôÈÖçÁΩÆÂàÜÁªÑÁöÑÂêçÁß∞ÈªòËÆ§ÈááÁî®ÔºåDEFAULT_GROUP ÈÖçÁΩÆÂàÜÁªÑÁöÑÂ∏∏ËßÅÂú∫ÊôØÔºå‰∏çÂêåÁöÑÂ∫îÁî®ÊàñÁªÑ‰ª∂ÈááÁî®‰∫ÜÁõ∏ÂêåÁöÑÈÖçÁΩÆÁ±ªÂûãÔºåÂ¶Ç database_url ÈÖçÁΩÆÂíå MQ_topic ÈÖçÁΩÆ bootstrap.properties ÈÖçÁΩÆ 12345678910spring.application.name=gulimall-coupon # ÊúçÂä°ÁöÑÂêçÁß∞spring.cloud.nacos.config.server-addr=127.0.0.1:8848 # ÊúçÂä°Ê≥®ÂÜåÂú∞ÂùÄspring.cloud.nacos.config.namespace=ae34901c-9215-4409-ae61-c6b8d6c8f9b0 # ÂëΩÂêçÁ©∫Èó¥Âú∞ÂùÄ#spring.cloud.nacos.config.group=111 # ÂØπÂ∫îÂàÜÁªÑspring.cloud.nacos.config.ext-config[0].data-id=datasource.yml # ÈÖçÁΩÆÈõÜÊåáÂÆödata_idspring.cloud.nacos.config.ext-config[0].group=dev # ÈÖçÁΩÆÈõÜÊåáÂÆö group ÂàÜÁªÑspring.cloud.nacos.config.ext-config[0].refresh=true # ÊòØÂê¶Âä®ÊÄÅÂà∑Êñ∞ Âú®ÈÖçÁΩÆ‰∏≠ÂøÉ‰øÆÊîπÂêé ÂæÆÊúçÂä°Ëá™Âä®Âà∑Êñ∞ Áõ∏ÂÖ≥Ëß£Èáä 123456789101112131415161718192021222324252627282930313233343536373839404142434445/** * 1„ÄÅÂ¶Ç‰Ωï‰ΩøÁî® Nacos‰Ωú‰∏∫ÈÖçÁΩÆ‰∏≠ÂøÉÁªü‰∏ÄÁÆ°ÁêÜÈÖçÁΩÆ * 1.1 ÂºïÂÖ•‰æùËµñ * &lt;dependency&gt; * &lt;groupId&gt;com.alibaba.cloud&lt;/groupId&gt; * &lt;artifactId&gt;spring-cloud-starter-alibaba-nacos-config&lt;/artifactId&gt; * &lt;/dependency&gt; * 1.2 ÂàõÂª∫‰∏Ä‰∏™bootstrap.properties * spring.application.name=gulimall-coupon * spring.cloud.nacos.config.server-addr=127.0.0.1:8848 * 1.3 ÈúÄË¶ÅÁªôÈÖçÁΩÆ‰∏≠ÂøÉÈªòËÆ§Ê∑ªÂä†‰∏Ä‰∏™Âè´ Êï∞ÊçÆÈõÜ (Data Id) gulimall-coupon.properties ÈªòËÆ§ËßÑÂàô Áî®Êà∑Âêç.Â∫îÁî®Âêç.properties * 1.4 Áªô Â∫îÁî®Âêç.properties Ê∑ªÂä†‰ªª‰ΩïÈÖçÁΩÆ * 1.5 Âä®ÊÄÅËé∑ÂèñÈÖçÁΩÆ * @RefreshScope: Âä®ÊÄÅËé∑ÂèñÂπ∂Âà∑Êñ∞ÈÖçÁΩÆ * @Value$(&quot;${ÈÖçÁΩÆÈ°πÁöÑÂêçÂ≠ó}&quot;) * Â¶ÇÊûúÈÖçÁΩÆ‰∏≠ÂøÉÂíåÂΩìÂâçÂ∫îÁî®ÁöÑÈÖçÁΩÆÊñá‰ª∂‰∏≠ÈÉΩÈÖçÁΩÆ‰∫ÜÁõ∏ÂêåÁöÑÈÖçÁΩÆÊñá‰ª∂Ôºå‰ºòÂÖà‰ΩøÁî®ÈÖçÁΩÆ‰∏≠ÂøÉÁöÑÊñá‰ª∂ * * 2„ÄÅÁªÜËäÇ * 1„ÄÅÂëΩÂêçÁ©∫Èó¥ÔºöÈÖçÁΩÆÈöîÁ¶ªÔºö * ÈªòËÆ§Ôºöpublic(‰øùÁïôÁ©∫Èó¥)ÔºõÈªòËÆ§Êñ∞Â¢ûÁöÑÊâÄÊúâÈÖçÁΩÆÈÉΩÂú® public Á©∫Èó¥ * 1„ÄÅÂºÄÂèë ÊµãËØï Áîü‰∫ß Âà©Áî®ÂëΩÂêçÁ©∫Èó¥Êù•ÂÅöÁéØÂ¢ÉÈöîÁ¶ª * Ê≥®ÊÑè: Âú®bootstrap.propertiesÈÖçÁΩÆ‰∏ä ÈúÄË¶Å‰ΩøÁî®Âì™‰∏™ÂëΩÂêçÁ©∫Èó¥‰∏ãÁöÑÈÖçÁΩÆ * spring.cloud.nacos.config.namespace=b1e89ce0-784f-4a80-9de0-e9b080eeaca5 * 2„ÄÅÊØè‰∏Ä‰∏™ÂæÆÊúçÂä°‰πãÈó¥‰∫íÁõ∏ÈöîÁ¶ªÈÖçÁΩÆÔºåÊØè‰∏Ä‰∏™ÂæÆÊúçÂä°ÈÉΩÂàõÂª∫Ëá™Â∑±ÁöÑÂëΩÂêçÁ©∫Èó¥ÔºåÂè™Âä†ËΩΩËá™Â∑±ÂëΩÂêçÁ©∫Èó¥‰∏ãÁöÑÊâÄÊúâÈÖçÁΩÆ * * * 2„ÄÅÈÖçÁΩÆÈõÜÔºöÊâÄÊúâÈÖçÁΩÆÁöÑÈõÜÂêà * * 3„ÄÅÈÖçÁΩÆÈõÜIDÔºöÁ±ª‰ººÊñá‰ª∂Âêç * Data IDÔºöÁ±ªÂûãÊñá‰ª∂Âêç * * 4„ÄÅÈÖçÁΩÆÂàÜÁªÑÔºö * ÈªòËÆ§ÊâÄÊúâÁöÑÈÖçÁΩÆÈÉΩÂ±û‰∫é DEFAULT_GROUP * * ÊØè‰∏™ÂæÆÊúçÂä°ÂàõÂª∫Ëá™Â∑±ÁöÑÂëΩÂêçÁ©∫Èó¥Ôºå‰ΩøÁî®ÈÖçÁΩÆÂàÜÁªÑÂå∫ÂàÜÁéØÂ¢ÉÔºådev„ÄÅtest„ÄÅprod * * 3„ÄÅÂêåÊó∂Âä†ËΩΩÂ§ö‰∏™ÈÖçÁΩÆÈõÜ * 1„ÄÅÂæÆÊúçÂä°‰ªª‰ΩïÈÖçÁΩÆ‰ø°ÊÅØÔºå‰ªª‰ΩïÈÖçÁΩÆÊñá‰ª∂Â§öÂèØ‰ª•ÊîæÂú®ÈÖçÁΩÆ‰∏≠ÂøÉ‰∏≠ * 2„ÄÅÂè™Ë¶ÅÂú® bootstrap.properties ËØ¥ÊòéÂä†ËΩΩÈÖçÁΩÆ‰∏≠ÂøÉ‰∏≠Âì™‰∫õÈÖçÁΩÆÊñá‰ª∂Âç≥ÂèØ * 3„ÄÅ@ValueÔºå@ConfigurationProperties... * ‰ª•ÂâçSpringBootÁöÑ‰ªª‰ΩïÊñπÂºè‰ªéÈÖçÁΩÆÊñá‰ª∂‰∏≠Ëé∑ÂèñÂÄºÔºåÈÉΩËÉΩ‰ΩøÁî® * ÈÖçÁΩÆ‰∏≠ÂøÉÊúâÁöÑ‰ºòÂÖà‰ΩøÁî®ÈÖçÁΩÆ‰∏≠ÂøÉÁöÑ * @author gcq * @Create 2020-10-16 */ Sentinel 1„ÄÅÁÆÄ‰ªã 1„ÄÅÊúçÂä°ÈôçÁ∫ßÈôêÊµÅ ‰ªÄ‰πàÊòØÁÜîÊñ≠Ôºö ‚Äã A ÊúçÂä°Ë∞ÉÁî® B ÊúçÂä°ÁöÑÊüê‰∏™ÂäüËÉΩÔºåÁî±‰∫éÁΩëÁªú‰∏çÁ®≥ÂÆöÈóÆÈ¢òÔºåÊàñËÄÖ B ÊúçÂä°Âç°Êú∫ÔºåÂØºËá¥ÂäüËÉΩÊó∂Èó¥Ë∂ÖÈïøÔºåÂ¶ÇÊûúËøôÊ†∑Â≠êÁöÑÊ¨°Êï∞Â§™Â§öÔºåÊàë‰ª¨ÂèØ‰ª•Áõ¥Êé•Â∞Ü B Êñ≠Ë∑Ø‰∫ÜÔºåÔºàA ‰∏çÂú®ËØ∑Ê±Ç B Êé•Âè£ÔºâÂá°ÊòØË∞ÉÁî® B ÊúçÂä°ÁöÑÁõ¥Êé•ËøîÂõûÈôçÁ∫ßÊï∞ÊçÆÔºå‰∏çÂøÖÁ≠âÂæÖ B ÁöÑ Ë∂ÖÊó∂ÊâßË°åÔºåËøôÊ†∑ B ÁöÑÊïÖÈöúÈóÆÈ¢òÔºåÂ∞±‰∏ç‰ºöÁ∫ßËÅîÂΩ±ÂìçÂà∞ A„ÄÇ ‰ªÄ‰πàÊòØÈôçÁ∫ßÔºö ‚Äã Êï¥‰∏™ÁΩëÁ´ôÂ§Ñ‰∫éÊµÅÈáèÈ´òÂ≥∞ÊúüÊúçÂä°Âô®ÂéãÂäõÂâßÂ¢ûÔºåÊ†πÊçÆÂΩìÂâçËá™Ë∫´‰∏öÂä°ÊÉÖÂÜµ‰ª•ÂèäÊµÅÈáèÔºåÂØπ‰∏Ä‰∫õÊúçÂä°ÂíåÈ°µÈù¢ËøõË°åÊúâÁ≠ñÁï•ÁöÑÈôçÁ∫ß/ÂÅúÊ≠¢ÊúçÂä°ÔºåÊâÄÊúâÁöÑË∞ÉÁî®Áõ¥Êé•ËøîÂõûÈôçÁ∫ßÊï∞ÊçÆ‰ª•Ê≠§ÁºìËß£ÊúçÂä°Âô®ËµÑÊ∫êÁöÑÂéãÂäõÔºå‰ª•‰øùËØÅÊ†∏ÂøÉ‰∏öÂä°ÁöÑÊ≠£Â∏∏ËøêË°åÔºåÂêåÊó∂‰πü‰øùÊåÅ‰∫ÜÂÆ¢Êà∑ÂíåÂ§ßÈÉ®ÂàÜÂÆ¢Êà∑Á≠âÂà∞Ê≠£Á°ÆÁöÑÂìçÂ∫î ÂºÇÂêåÔºö ‚Äã Áõ∏ÂêåÁÇπ ‚Äã 1„ÄÅ‰∏∫‰∫Ü‰øùËØÅÈõÜÁæ§Â§ßÈÉ®ÂàÜÊúçÂä°ÁöÑÂèØÁî®ÊÄßÂíåÂèØÈù†ÊÄßÔºåÈò≤Ê≠¢Â¥©Ê∫ÉÔºåÁâ∫Áâ≤Â∞èÊàë ‚Äã 2„ÄÅÁî®Êà∑ÊúÄÁªàÈÉΩÊòØ‰ΩìÈ™åÂà∞Êüê‰∏™ÂäüËÉΩ‰∏çÂèØÁî® ‚Äã ‰∏çÂêåÁÇπÔºö ‚Äã 1„ÄÅÁÜîÊñ≠ÊòØË¢´Ë∞ÉÁî®ÊñπÁöÑÊïÖÈöúÔºåËß¶ÂèëÁ≥ªÁªüÁöÑ‰∏ªÂä®ËßÑÂàô ‚Äã 2„ÄÅÈôçÁ∫ßÊòØÂü∫‰∫éÂÖ®Â±ÄÁöÑËÄÉËôëÂÅúÊ≠¢‰∏Ä‰∫õÊ≠£Â∏∏ÊúçÂä°ÔºåÈáäÊîæËµÑÊ∫ê ‰ªÄ‰πàÊòØÈôêÊµÅ ‚Äã ÂØπÊâìÂÖ•ÁöÑÊúçÂä°ÁöÑËØ∑Ê±ÇÊµÅÈáèËøõË°åÊéßÂà∂Ôºå‰ΩøÊúçÂä°ËÉΩÂ§üÊâøÊãÖ‰∏çË∂ÖËøáËá™Â∑±ËÉΩÂäõÁöÑÊµÅÈáèÂéãÂäõ 2„ÄÅSentinel ÁÆÄ‰ªã ÂÆòÊñπÊñáÊ°£Ôºöhttps://github.com/alibaba/Sentinel/wiki/‰ªãÁªç È°πÁõÆÊñáÊ°£Ôºöhttps://github.com/alibaba/Sentinel ÈöèÁùÄÂæÆÊúçÂä°ÁöÑÊµÅË°åÔºåÊúçÂä°ÂíåÊúçÂä°‰πãÈó¥ÁöÑÁ®≥ÂÆöÊÄßÂèòÂæóË∂äÊù•Ë∂äÈáçË¶Å„ÄÇSentinel ‰ª•ÊµÅÈáè‰∏∫ÂàáÂÖ•ÁÇπÔºå‰ªéÊµÅÈáèÊéßÂà∂„ÄÅÁÜîÊñ≠ÈôçÁ∫ß„ÄÅÁ≥ªÁªüË¥üËΩΩ‰øùÊä§Á≠âÂ§ö‰∏™Áª¥Â∫¶‰øùÊä§ÊúçÂä°ÁöÑÁ®≥ÂÆöÊÄß„ÄÇ Sentinel ÂÖ∑Êúâ‰ª•‰∏ãÁâπÂæÅ: ‰∏∞ÂØåÁöÑÂ∫îÁî®Âú∫ÊôØÔºöSentinel ÊâøÊé•‰∫ÜÈòøÈáåÂ∑¥Â∑¥Ëøë 10 Âπ¥ÁöÑÂèåÂçÅ‰∏ÄÂ§ß‰øÉÊµÅÈáèÁöÑÊ†∏ÂøÉÂú∫ÊôØÔºå‰æãÂ¶ÇÁßíÊùÄÔºàÂç≥Á™ÅÂèëÊµÅÈáèÊéßÂà∂Âú®Á≥ªÁªüÂÆπÈáèÂèØ‰ª•ÊâøÂèóÁöÑËåÉÂõ¥Ôºâ„ÄÅÊ∂àÊÅØÂâäÂ≥∞Â°´Ë∞∑„ÄÅÈõÜÁæ§ÊµÅÈáèÊéßÂà∂„ÄÅÂÆûÊó∂ÁÜîÊñ≠‰∏ãÊ∏∏‰∏çÂèØÁî®Â∫îÁî®Á≠â„ÄÇ ÂÆåÂ§áÁöÑÂÆûÊó∂ÁõëÊéßÔºöSentinel ÂêåÊó∂Êèê‰æõÂÆûÊó∂ÁöÑÁõëÊéßÂäüËÉΩ„ÄÇÊÇ®ÂèØ‰ª•Âú®ÊéßÂà∂Âè∞‰∏≠ÁúãÂà∞Êé•ÂÖ•Â∫îÁî®ÁöÑÂçïÂè∞Êú∫Âô®ÁßíÁ∫ßÊï∞ÊçÆÔºåÁîöËá≥ 500 Âè∞‰ª•‰∏ãËßÑÊ®°ÁöÑÈõÜÁæ§ÁöÑÊ±áÊÄªËøêË°åÊÉÖÂÜµ„ÄÇ ÂπøÊ≥õÁöÑÂºÄÊ∫êÁîüÊÄÅÔºöSentinel Êèê‰æõÂºÄÁÆ±Âç≥Áî®ÁöÑ‰∏éÂÖ∂ÂÆÉÂºÄÊ∫êÊ°ÜÊû∂/Â∫ìÁöÑÊï¥ÂêàÊ®°ÂùóÔºå‰æãÂ¶Ç‰∏é Spring Cloud„ÄÅDubbo„ÄÅgRPC ÁöÑÊï¥Âêà„ÄÇÊÇ®Âè™ÈúÄË¶ÅÂºïÂÖ•Áõ∏Â∫îÁöÑ‰æùËµñÂπ∂ËøõË°åÁÆÄÂçïÁöÑÈÖçÁΩÆÂç≥ÂèØÂø´ÈÄüÂú∞Êé•ÂÖ• Sentinel„ÄÇ ÂÆåÂñÑÁöÑ SPI Êâ©Â±ïÁÇπÔºöSentinel Êèê‰æõÁÆÄÂçïÊòìÁî®„ÄÅÂÆåÂñÑÁöÑ SPI Êâ©Â±ïÊé•Âè£„ÄÇÊÇ®ÂèØ‰ª•ÈÄöËøáÂÆûÁé∞Êâ©Â±ïÊé•Âè£Êù•Âø´ÈÄüÂú∞ÂÆöÂà∂ÈÄªËæë„ÄÇ‰æãÂ¶ÇÂÆöÂà∂ËßÑÂàôÁÆ°ÁêÜ„ÄÅÈÄÇÈÖçÂä®ÊÄÅÊï∞ÊçÆÊ∫êÁ≠â„ÄÇ Sentinel ÁöÑ‰∏ªË¶ÅÁâπÊÄßÔºö Sentinel ÂàÜ‰∏∫‰∏§‰∏™ÈÉ®ÂàÜ: Ê†∏ÂøÉÂ∫ìÔºàJava ÂÆ¢Êà∑Á´ØÔºâ‰∏ç‰æùËµñ‰ªª‰ΩïÊ°ÜÊû∂/Â∫ìÔºåËÉΩÂ§üËøêË°å‰∫éÊâÄÊúâ Java ËøêË°åÊó∂ÁéØÂ¢ÉÔºåÂêåÊó∂ÂØπ Dubbo / Spring Cloud Á≠âÊ°ÜÊû∂‰πüÊúâËæÉÂ•ΩÁöÑÊîØÊåÅ„ÄÇ ÊéßÂà∂Âè∞ÔºàDashboardÔºâÂü∫‰∫é Spring Boot ÂºÄÂèëÔºåÊâìÂåÖÂêéÂèØ‰ª•Áõ¥Êé•ËøêË°åÔºå‰∏çÈúÄË¶ÅÈ¢ùÂ§ñÁöÑ Tomcat Á≠âÂ∫îÁî®ÂÆπÂô®„ÄÇ Sentinel Âü∫Êú¨Ê¶ÇÂøµ: ËµÑÊ∫ê ËµÑÊ∫êÊòØ Sentinel ÁöÑÂÖ≥ÈîÆÊ¶ÇÂøµ„ÄÇÂÆÉÂèØ‰ª•ÊòØ Java Â∫îÁî®Á®ãÂ∫è‰∏≠ÁöÑ‰ªª‰ΩïÂÜÖÂÆπÔºå‰æãÂ¶ÇÔºåÁî±Â∫îÁî®Á®ãÂ∫èÊèê‰æõÁöÑÊúçÂä°ÔºåÊàñÁî±Â∫îÁî®Á®ãÂ∫èË∞ÉÁî®ÁöÑÂÖ∂ÂÆÉÂ∫îÁî®Êèê‰æõÁöÑÊúçÂä°ÔºåÁîöËá≥ÂèØ‰ª•ÊòØ‰∏ÄÊÆµ‰ª£Á†Å„ÄÇÂú®Êé•‰∏ãÊù•ÁöÑÊñáÊ°£‰∏≠ÔºåÊàë‰ª¨ÈÉΩ‰ºöÁî®ËµÑÊ∫êÊù•ÊèèËø∞‰ª£Á†ÅÂùó„ÄÇ Âè™Ë¶ÅÈÄöËøá Sentinel API ÂÆö‰πâÁöÑ‰ª£Á†ÅÔºåÂ∞±ÊòØËµÑÊ∫êÔºåËÉΩÂ§üË¢´ Sentinel ‰øùÊä§Ëµ∑Êù•„ÄÇÂ§ßÈÉ®ÂàÜÊÉÖÂÜµ‰∏ãÔºåÂèØ‰ª•‰ΩøÁî®ÊñπÊ≥ïÁ≠æÂêçÔºåURLÔºåÁîöËá≥ÊúçÂä°ÂêçÁß∞‰Ωú‰∏∫ËµÑÊ∫êÂêçÊù•Ê†áÁ§∫ËµÑÊ∫ê„ÄÇ ËßÑÂàô Âõ¥ÁªïËµÑÊ∫êÁöÑÂÆûÊó∂Áä∂ÊÄÅËÆæÂÆöÁöÑËßÑÂàôÔºåÂèØ‰ª•ÂåÖÊã¨ÊµÅÈáèÊéßÂà∂ËßÑÂàô„ÄÅÁÜîÊñ≠ÈôçÁ∫ßËßÑÂàô‰ª•ÂèäÁ≥ªÁªü‰øùÊä§ËßÑÂàô„ÄÇÊâÄÊúâËßÑÂàôÂèØ‰ª•Âä®ÊÄÅÂÆûÊó∂Ë∞ÉÊï¥„ÄÇ 2„ÄÅHystrix ‰∏é Sentinel ÊØîËæÉ 3„ÄÅÊï¥Âêà Feign Âíå Sentinel ÊµãËØïÁÜîÊñ≠ÈôçÁ∫ß ÁÜîÊñ≠ÈôçÁ∫ßÂÆòÁΩëËß£ÈáäÔºöhttps://github.com/alibaba/Sentinel/wiki/ÁÜîÊñ≠ÈôçÁ∫ß Spring- CloudÊï¥ÂêàSentinelÂíåFeignÔºöhttps://github.com/alibaba/spring-cloud-alibaba/wiki/Sentinel pom.xml 12345678910&lt;!-- ÂØºÂÖ•sentinel‰æùËµñ --&gt;&lt;dependency&gt; &lt;groupId&gt;com.alibaba.cloud&lt;/groupId&gt; &lt;artifactId&gt;spring-cloud-starter-alibaba-sentinel&lt;/artifactId&gt;&lt;/dependency&gt;&lt;!--ÂØºÂÖ•openFeign --&gt;&lt;dependency&gt; &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt; &lt;artifactId&gt;spring-cloud-starter-openfeign&lt;/artifactId&gt;&lt;/dependency&gt; application.properties 12345678## sentinel‰∏éÈ°πÁõÆÈó¥ÁöÑÈÄö‰ø°Á´ØÂè£spring.cloud.sentinel.transport.port=8719## sentinelÁ´ØÂè£ËÆæÁΩÆspring.cloud.sentinel.transport.dashboard=localhost:8333## Êö¥Èú≤‰ø°ÊÅØmanagement.endpoints.web.exposure.exclude=*## ÈÖçÁΩÆÊñá‰ª∂ÊâìÂºÄ Sentinel ÂØπ Feign ÁöÑÊîØÊåÅfeign.sentinel.enabled=true ÂºÄÂêØÂêéÔºåÂú®ÂæÆÊúçÂä°‰∏≠Ë∞ÉÁî®ËøúÁ®ãÊúçÂä°ÔºåSentinel Â∞±‰ºöËÆ∞ÂΩïÂæÆÊúçÂä°‰πãÈó¥ÁöÑË∞ÉÁî®Ôºå‰ªéËÄåÂØπËøúÁ®ãË∞ÉÁî®ËøõË°åËÆæÁΩÆÁÜîÊñ≠ÈôçÁ∫ßÁ≠â„ÄÇ ËØ∑Ê±ÇËÆæÁΩÆ ËÆæÁΩÆÊµÅÊéßËßÑÂàô FeignËÆæÁΩÆ ÁªìÊûú 4„ÄÅÊï¥Âêà Sentinel ÊµãËØïÈôêÊµÅ ÂÆòÁΩëSpring-Cloud Êï¥ÂêàÔºöhttps://github.com/alibaba/spring-cloud-alibaba/wiki/Sentinel Pom.xml ÂèÇËÄÉ 3„ÄÅÊï¥Âêà Feign Âíå Sentinel ÊµãËØïÁÜîÊñ≠ÈôçÁ∫ß ÊéßÂà∂Âè∞Ôºö Ë∂ÖËøáÂçïÁªßÈòàÂÄºÔºåËøîÂõûËá™ÂÆö‰πâËØ∑Ê±ÇÁªìÊûú ÂÆûÁé∞ÊñπÂºèÔºö 12345678910/** 1„ÄÅ‰ª£Á†Å * try (Entry entry = SphU.entry(&quot;resourceName&quot;)) { * }(BlockedException e){} * 2„ÄÅÂü∫‰∫éÊ≥®Ëß£ * @SentinelResource(value = &quot;getCurrentSeckillSkusSource&quot;,blockHandler = &quot;BlockHandler&quot;) * Êó†ËÆ∫1/2ÊñπÂºè‰∏ÄÂÆöË¶ÅÈÖçÁΩÆÈôêÊµÅ‰ª•ÂêéÁöÑÈªòËÆ§ËøîÂõû * urlÂèØ‰ª•ËÆæÁΩÆÁªü‰∏ÄËøîÂõû**/ ÂÖ∑‰ΩìÂÆûÁé∞ÊñπÂºèÂèÇËÄÉÂÆòÁΩëÁªôÂá∫ÊñáÊ°£Ôºöhttps://github.com/alibaba/Sentinel/wiki/Â¶Ç‰Ωï‰ΩøÁî® 5„ÄÅSentinelÁΩëÂÖ≥ÈôêÊµÅ ÂÆòÁΩëÊñáÊ°£Ôºöhttps://github.com/alibaba/Sentinel/wiki/ÁΩëÂÖ≥ÈôêÊµÅ pom.xml 12345&lt;dependency&gt; &lt;groupId&gt;com.alibaba.cloud&lt;/groupId&gt; &lt;artifactId&gt;spring-cloud-alibaba-sentinel-gateway&lt;/artifactId&gt; &lt;version&gt;2.1.0.RELEASE&lt;/version&gt;&lt;/dependency&gt; ÂêØÂä®Sentinle1.7.1 ÂêéÊØîÂéüÂÖàÁöÑ1.6.1Â§ö‰∏™‰∏Ä‰∏™ÂäüËÉΩ ÊÇ®ÂèØ‰ª•Âú® GatewayCallbackManager Ê≥®ÂÜåÂõûË∞ÉËøõË°åÂÆöÂà∂Ôºö setBlockHandlerÔºöÊ≥®ÂÜåÂáΩÊï∞Áî®‰∫éÂÆûÁé∞Ëá™ÂÆö‰πâÁöÑÈÄªËæëÂ§ÑÁêÜË¢´ÈôêÊµÅÁöÑËØ∑Ê±ÇÔºåÂØπÂ∫îÊé•Âè£‰∏∫ BlockRequestHandler„ÄÇÈªòËÆ§ÂÆûÁé∞‰∏∫ DefaultBlockRequestHandlerÔºåÂΩìË¢´ÈôêÊµÅÊó∂‰ºöËøîÂõûÁ±ª‰ºº‰∫é‰∏ãÈù¢ÁöÑÈîôËØØ‰ø°ÊÅØÔºöBlocked by Sentinel: FlowException„ÄÇ 12345678910111213141516@Configurationpublic class SentinelGatewayConfig { public SentinelGatewayConfig() { GatewayCallbackManager.setBlockHandler(new BlockRequestHandler() { // ÁΩëÂÖ≥ÈôêÊµÅ‰∫Ü Â∞±‰ºöÂõûË∞É @Override public Mono&lt;ServerResponse&gt; handleRequest(ServerWebExchange serverWebExchange, Throwable throwable) { R error = R.error(BizCodeEnume.TO_MANY_REQUEST.getCode(), BizCodeEnume.TO_MANY_REQUEST.getMsg()); String errorJson = JSON.toJSONString(error); Mono&lt;ServerResponse&gt; body = ServerResponse.ok().body(Mono.just(errorJson), String.class); return body; } }); }} Seata 1„ÄÅÁÆÄ‰ªã Seata ÊòØ‰∏ÄÊ¨æÂºÄÊ∫êÁöÑÂàÜÂ∏ÉÂºè‰∫ãÂä°Ëß£ÂÜ≥ÊñπÊ°àÔºåËá¥Âäõ‰∫éÊèê‰æõÈ´òÊÄßËÉΩÂíåÁÆÄÂçïÊòìÁî®ÁöÑÂàÜÂ∏ÉÂºè‰∫ãÂä°ÊúçÂä°„ÄÇSeata Â∞Ü‰∏∫Áî®Êà∑Êèê‰æõ‰∫Ü AT„ÄÅTCC„ÄÅSAGA Âíå XA ‰∫ãÂä°Ê®°ÂºèÔºå‰∏∫Áî®Êà∑ÊâìÈÄ†‰∏ÄÁ´ôÂºèÁöÑÂàÜÂ∏ÉÂºèËß£ÂÜ≥ÊñπÊ°à„ÄÇ https://seata.io/zh-cn/index.html 2„ÄÅÊ†∏ÂøÉÊ¶ÇÂøµ TC (Transaction Coordinator) - ‰∫ãÂä°ÂçèË∞ÉËÄÖ Áª¥Êä§ÂÖ®Â±ÄÂíåÂàÜÊîØ‰∫ãÂä°ÁöÑÁä∂ÊÄÅÔºåÈ©±Âä®ÂÖ®Â±Ä‰∫ãÂä°Êèê‰∫§ÊàñÂõûÊªö„ÄÇ TM (Transaction Manager) - ‰∫ãÂä°ÁÆ°ÁêÜÂô® ÂÆö‰πâÂÖ®Â±Ä‰∫ãÂä°ÁöÑËåÉÂõ¥ÔºöÂºÄÂßãÂÖ®Â±Ä‰∫ãÂä°„ÄÅÊèê‰∫§ÊàñÂõûÊªöÂÖ®Â±Ä‰∫ãÂä°„ÄÇ RM (Resource Manager) - ËµÑÊ∫êÁÆ°ÁêÜÂô® ÁÆ°ÁêÜÂàÜÊîØ‰∫ãÂä°Â§ÑÁêÜÁöÑËµÑÊ∫êÔºå‰∏éTC‰∫§Ë∞à‰ª•Ê≥®ÂÜåÂàÜÊîØ‰∫ãÂä°ÂíåÊä•ÂëäÂàÜÊîØ‰∫ãÂä°ÁöÑÁä∂ÊÄÅÔºåÂπ∂È©±Âä®ÂàÜÊîØ‰∫ãÂä°Êèê‰∫§ÊàñÂõûÊªö„ÄÇ OSS 5.6.1„ÄÅÁÆÄ‰ªã ÂØπË±°Â≠òÂÇ®ÊúçÂä° ÈòøÈáå‰∫ëÂØπË±°Â≠òÂÇ®ÊúçÂä°ÔºàObject Storage ServiceÔºåÁÆÄÁß∞ OSSÔºâÔºåÊòØÈòøÈáå‰∫ëÊèê‰æõÁöÑÊµ∑Èáè„ÄÅÂÆâÂÖ®„ÄÅ‰ΩéÊàêÊú¨„ÄÅÈ´òÂèØÈù†ÁöÑ‰∫ëÂ≠òÂÇ®ÊúçÂä°„ÄÇÊÇ®ÂèØ‰ª•Âú®‰ªª‰ΩïÂ∫îÁî®„ÄÅ‰ªª‰ΩïÊó∂Èó¥„ÄÅ‰ªª‰ΩïÂú∞ÁÇπÂ≠òÂÇ®ÂíåËÆøÈóÆ‰ªªÊÑèÁ±ªÂûãÁöÑÊï∞ÊçÆ„ÄÇ 5.6.2„ÄÅ‰ΩøÁî®Ê≠•È™§ ‰ΩøÁî® Java ‰∏ä‰º†Êñá‰ª∂ https://help.aliyun.com/document_detail/32011.html?spm=a2c4g.11186623.6.915.56196d39rr96Ll Êù•Ëá™ÂÆòÁΩëÂÆû‰æã - ‰∏ä‰º†Êñá‰ª∂ÊµÅ 12345678910111213141516171819@Test public void testUpload() throws FileNotFoundException { // Endpoint‰ª•Êù≠Â∑û‰∏∫‰æãÔºåÂÖ∂ÂÆÉRegionËØ∑ÊåâÂÆûÈôÖÊÉÖÂÜµÂ°´ÂÜô„ÄÇ String endpoint = &quot;http://oss-cn-hangzhou.aliyuncs.com&quot;; // ‰∫ëË¥¶Âè∑AccessKeyÊúâÊâÄÊúâAPIËÆøÈóÆÊùÉÈôêÔºåÂª∫ËÆÆÈÅµÂæ™ÈòøÈáå‰∫ëÂÆâÂÖ®ÊúÄ‰Ω≥ÂÆûË∑µÔºåÂàõÂª∫Âπ∂‰ΩøÁî®RAMÂ≠êË¥¶Âè∑ËøõË°åAPIËÆøÈóÆÊàñÊó•Â∏∏ËøêÁª¥ÔºåËØ∑ÁôªÂΩï //https://ram.console.aliyun.com ÂàõÂª∫„ÄÇ String accessKeyId = &quot;&lt;yourAccessKeyId&gt;&quot;; String accessKeySecret = &quot;&lt;yourAccessKeySecret&gt;&quot;; // ÂàõÂª∫OSSClientÂÆû‰æã„ÄÇ OSS ossClient = new OSSClientBuilder().build(endpoint, accessKeyId, accessKeySecret); // ‰∏ä‰º†Êñá‰ª∂ÊµÅ„ÄÇ InputStream inputStream = new FileInputStream(&quot;&lt;yourlocalFile&gt;&quot;); ossClient.putObject(&quot;&lt;yourBucketName&gt;&quot;, &quot;&lt;yourObjectName&gt;&quot;, inputStream); // ÂÖ≥Èó≠OSSClient„ÄÇ ossClient.shutdown(); System.out.println(&quot;‰∏ä‰º†ÊàêÂäü&quot;); } ÈúÄË¶ÅÂ°´ÂÜô AccesskeyId ‰ª•Âèä Secret ÂêåÊó∂‰πüË¶ÅÊåáÂÆöÊñá‰ª∂‰ΩçÁΩÆ ‰ª•ÂèäÊñá‰ª∂ÂêçÂ≠ó ÊúÄÁªà‰∏ä‰º†ÁªìÊûú 5.6.3„ÄÅ ÊäΩÂèñÊàê‰∏Ä‰∏™ÂçïÁã¨ÁöÑÁ¨¨‰∏âÊñπÊúçÂä°ÔºüOSS ÂÆòÁΩëÊñáÊ°£ https://github.com/alibaba/aliyun-spring-boot/blob/master/aliyun-spring-boot-samples/aliyun-oss-spring-boot-sample/README-zh.md Êñ∞Âª∫È°πÁõÆ gulimall-third-party pom ÈÖçÁΩÆ 123456789101112131415161718192021222324&lt;dependency&gt; &lt;groupId&gt;com.alibaba.cloud&lt;/groupId&gt; &lt;artifactId&gt;spring-cloud-starter-alicloud-oss&lt;/artifactId&gt;&lt;/dependency&gt;&lt;dependencyManagement&gt; &lt;dependencies&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt; &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt; &lt;version&gt;${spring-cloud.version}&lt;/version&gt; &lt;type&gt;pom&lt;/type&gt; &lt;scope&gt;import&lt;/scope&gt; &lt;/dependency&gt; &lt;!-- springCloudAlibaba --&gt; &lt;dependency&gt; &lt;groupId&gt;com.alibaba.cloud&lt;/groupId&gt; &lt;artifactId&gt;spring-cloud-alibaba-dependencies&lt;/artifactId&gt; &lt;version&gt;2.1.0.RELEASE&lt;/version&gt; &lt;type&gt;pom&lt;/type&gt; &lt;scope&gt;import&lt;/scope&gt; &lt;/dependency&gt; &lt;/dependencies&gt; &lt;/dependencyManagement&gt; application.yml ÈÖçÁΩÆ accessKey„ÄÅsecretKey„ÄÅendpoint 1234567891011121314151617spring: cloud: nacos: discovery: server-addr: 127.0.0.1:8848 alicloud: access-key: LTAI4GE22ckocpNBfd36zkxJ secret-key: qDFrQ6cxZqc4DwxoWx5K2aosXXj0Go oss: endpoint: oss-cn-shenzhen.aliyuncs.com ## Âú∞ÂüüËäÇÁÇπ bucket: gulimall-oss01 # Ê°∂ÂàóË°® application: name: gulimall-third-partyserver: port: 30000 5.6.4„ÄÅWebÁ´Ø‰∏ä‰º†‰ªãÁªç ÈòøÈáå‰∫ëÂØπË±°Â≠òÂÇ®-ÊôÆÈÄö‰∏ä‰º†ÊñπÂºèÔºö Áî®Êà∑Êèê‰∫§Êñá‰ª∂Âà∞ÊúçÂä°Âô®ÔºåÊúçÂä°Âô®Â∞ÜÊñá‰ª∂Êèê‰∫§Âà∞ OSS ÂØπË±°Â≠òÂÇ® ÂíåÊï∞ÊçÆÁõ¥‰º†Âà∞OSSÁõ∏ÊØîÔºå‰ª•‰∏äÊñπÊ≥ïÊúâ‰∏â‰∏™Áº∫ÁÇπÔºö ‰∏ä‰º†ÊÖ¢ÔºöÁî®Êà∑Êï∞ÊçÆÈúÄÂÖà‰∏ä‰º†Âà∞Â∫îÁî®ÊúçÂä°Âô®Ôºå‰πãÂêéÂÜç‰∏ä‰º†Âà∞OSS„ÄÇÁΩëÁªú‰º†ËæìÊó∂Èó¥ÊØîÁõ¥‰º†Âà∞OSSÂ§ö‰∏ÄÂÄç„ÄÇÂ¶ÇÊûúÁî®Êà∑Êï∞ÊçÆ‰∏çÈÄöËøáÂ∫îÁî®ÊúçÂä°Âô®‰∏≠ËΩ¨ÔºåËÄåÊòØÁõ¥‰º†Âà∞OSSÔºåÈÄüÂ∫¶Â∞ÜÂ§ßÂ§ßÊèêÂçá„ÄÇËÄå‰∏îOSSÈááÁî®BGPÂ∏¶ÂÆΩÔºåËÉΩ‰øùËØÅÂêÑÂú∞ÂêÑËøêËê•ÂïÜ‰πãÈó¥ÁöÑ‰º†ËæìÈÄüÂ∫¶„ÄÇ Êâ©Â±ïÊÄßÂ∑ÆÔºöÂ¶ÇÊûúÂêéÁª≠Áî®Êà∑Â§ö‰∫ÜÔºåÂ∫îÁî®ÊúçÂä°Âô®‰ºöÊàê‰∏∫Áì∂È¢à„ÄÇ Ë¥πÁî®È´òÔºöÈúÄË¶ÅÂáÜÂ§áÂ§öÂè∞Â∫îÁî®ÊúçÂä°Âô®„ÄÇÁî±‰∫éOSS‰∏ä‰º†ÊµÅÈáèÊòØÂÖçË¥πÁöÑÔºåÂ¶ÇÊûúÊï∞ÊçÆÁõ¥‰º†Âà∞OSSÔºå‰∏çÈÄöËøáÂ∫îÁî®ÊúçÂä°Âô®ÔºåÈÇ£‰πàÂ∞ÜËÉΩÁúÅ‰∏ãÂá†Âè∞Â∫îÁî®ÊúçÂä°Âô®„ÄÇ ÈòøÈáå‰∫ëÂØπË±°Â≠òÂÇ®-ÊúçÂä°Á´ØÁ≠æÂêçÂêéÁõ¥‰º†Ôºö ÊµÅÁ®ã‰ªãÁªç ËÉåÊôØ ÈááÁî®JavaScriptÂÆ¢Êà∑Á´ØÁõ¥Êé•Á≠æÂêçÔºàÂèÇËßÅJavaScriptÂÆ¢Êà∑Á´ØÁ≠æÂêçÁõ¥‰º†ÔºâÊó∂ÔºåAccessKey IDÂíåAcessKey Secret‰ºöÊö¥Èú≤Âú®ÂâçÁ´ØÈ°µÈù¢ÔºåÂõ†Ê≠§Â≠òÂú®‰∏•ÈáçÁöÑÂÆâÂÖ®ÈöêÊÇ£„ÄÇÂõ†Ê≠§ÔºåOSSÊèê‰æõ‰∫ÜÊúçÂä°Á´ØÁ≠æÂêçÂêéÁõ¥‰º†ÁöÑÊñπÊ°à„ÄÇ WebÁ´ØÂêëÊúçÂä°Á´ØËØ∑Ê±ÇÁ≠æÂêçÔºåÁÑ∂ÂêéÁõ¥Êé•‰∏ä‰º†Ôºå‰∏ç‰ºöÂØπÊúçÂä°Á´Ø‰∫ßÁîüÂéãÂäõÔºåËÄå‰∏îÂÆâÂÖ®ÂèØÈù†„ÄÇÊúçÂä°Á´ØÁ≠æÂêéÁõ¥‰º† OpenFeign ÁÆÄ‰ªã Feign ÊòØ‰∏Ä‰∏™Â£∞ÊòéÂºèÁöÑ HTTP ÂÆ¢Êà∑Á´ØÔºå‰ªñÁöÑÁõÆÁöÑÂ∞±ÊòØËÆ©ËøúÁ®ãË∞ÉÁî®Êõ¥Âä†ÁÆÄÂçïÔºåFeignÊèê‰æõ‰∫Ü HTTPËØ∑Ê±ÇÁöÑÊ®°ÊùøÔºåÈÄöËøáÁºñÂÜôÁÆÄÂçïÁöÑÊé•Âè£ÂíåÊèíÂÖ•Ê≥®Ëß£ÔºåÂ∞±ÂèØ‰ª•ÂÆö‰πâÂ•ΩÁöÑ HTTP ËØ∑Ê±ÇÂèÇÊï∞„ÄÅÊ†ºÂºè„ÄÅÂú∞ÂùÄÁ≠â‰ø°ÊÅØ Feign Êï¥Âêà‰∫Ü RibbonÔºàË¥üËΩΩÂùáË°°ÔºâÂíå HystrixÔºàÊúçÂä°ÁÜîÊñ≠ÔºâÔºåÂèØ‰ª•ËÆ©Êàë‰ª¨‰∏çÂÜçÈúÄË¶ÅÊòæÁ§∫Âú∞‰ΩøÁî®Ëøô‰∏§‰∏™ÁªÑ‰ª∂ SpringCloud - FeignÔºåÂú® NetflixFeign ÁöÑÂü∫Á°Ä‰∏äÊâ©Â±ï‰∫ÜÂØπ SpringMVC Ê≥®Ëß£ÁöÑÊîØÊåÅÔºåÂú®ÂÖ∂ÂÆûÁé∞‰∏ãÔºåÊàë‰ª¨Âè™ÈúÄÂàõÂª∫‰∏Ä‰∏™Êé•Âè£Âπ∂Áî®Ê≥®Ëß£ÁöÑÊñπÂºèÊù•ÈÖçÁΩÆÂÆÉÔºåÂç≥ÂèØÂÆåÊàêÂØπÊúçÂä°Êèê‰æõÊñπÁöÑÊé•Âè£ÁªëÂÆö„ÄÇÁÆÄÂåñ‰∫Ü SpringCloud - Ribbon Ëá™Ë°åÂ∞ÅË£ÖÊúçÂä°Ë∞ÉÁî®ÂÆ¢Êà∑Á´ØÁöÑÂºÄÂèëÈáè„ÄÇ 1.ÂºïÂÖ•‰æùËµñ 1234&lt;dependency&gt; &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt; &lt;artifactId&gt;spring-cloud-starter-openfeign&lt;/artifactId&gt;&lt;/dependency&gt; 2.ÂàõÂª∫ÊúçÂä°Êé•Âè£ 12345@FeignClient(&quot;gulimall-coupon&quot;)public interface CouponFeignService { @RequestMapping(&quot;/coupon/coupon/member/list&quot;) public R membercoupons();} 3.ÂºÄÂêØËøúÁ®ãË∞ÉÁî®ÂäüËÉΩ ÂÆ¢Êà∑Á´Ø‰∏ªÂêØÂä®Á±ªÊ≥®Ëß£ÂºÄÂêØËøúÁ®ãË∞ÉÁî®ÂäüËÉΩÔºåË∞ÉÁî®Êé•Âè£‰ΩøÁî®ÊúçÂä° 1@EnableFeignClients(basePackages = &quot;com.atguigu.gulimall.member.feign&quot;) Gateway ÁÆÄ‰ªã ÁΩëÂÖ≥‰Ωú‰∏∫ÊµÅÊµ™ÂÖ•Âè£ÔºåÂ∏∏Áî®ÂäüËÉΩÂåÖÊã¨Ë∑ØÁî±ËΩ¨ÂèëÔºåÊùÉÈôêÊïàÈ™åÔºåÈôêÊµÅÊéßÂà∂Á≠âÔºåËÄå SpringCloud GateWay‰Ωú‰∏∫ SpringCloud ÂÆòÊñπÊé®Âá∫ÁöÑÁ¨¨‰∫å‰ª£ÁΩëÂÖ≥Ê°ÜÊû∂ÔºåÂèñ‰ª£‰∫Ü Zull ÁΩëÂÖ≥ ÁΩë‰∏äÊµãËØï ‰∏âÁßçÁΩëÂÖ≥ÂØπÂ∫îËØ∑Ê±ÇÊï∞ ÁΩëÂÖ≥Êèê‰æõ API ÂÖ®ÊâòÁÆ°ÊúçÂä°Ôºå‰∏∞ÂØåÁöÑ API ÁÆ°ÁêÜÂäüËÉΩÔºåËæÖÂä©‰ºÅ‰∏öÁÆ°ÁêÜÂ§ßËßÑÊ®°ÁöÑ APIÔºå‰ª•Èôç‰ΩéÁÆ°ÁêÜÊàêÊú¨ÂíåÂÆâÂÖ®È£éÈô©„ÄÅÂåÖÊã¨ÂçèËÆÆÈÄÇÈÖç„ÄÅÂçèËÆÆËΩ¨Âèë„ÄÅÂÆâÂÖ®Á≠ñÁï•„ÄÅÈò≤Âà∑„ÄÅÊµÅÈáè„ÄÅÁõëÊéßÊó•ÂøóÁ≠âÂäüËÉΩ Spring Cloud GateWay Êó®Âú®Êèê‰æõ‰∏ÄÁßçÁÆÄÂçïÊúâÊïàÁöÑÊñπÂºèÊù•ÂØπ API ËøõË°åË∑ØÁî±ÔºåÂπ∂‰∏∫‰ªñ‰ª¨Êèê‰æõÂàáÈù¢ÔºåÂàóÂ¶Ç„ÄÅÂÆâÂÖ®ÊÄß„ÄÅÁõëÊéß/ÊåáÊ†á ÂíåÂºπÊÄßÁ≠â Sleuth+Zipkin ÊúçÂä°ÈìæË∑ØËøΩË∏™ ‰∏∫‰ªÄ‰πàÁî® ÂæÆÊúçÂä°Êû∂ÊûÑÊòØ‰∏Ä‰∏™ÂàÜÂ∏ÉÂºèÊû∂ÊûÑÔºåÂÆÉÊåâ‰∏öÂä°ÂàíÂàÜÊúçÂä°ÂçïÂÖÉÔºå‰∏Ä‰∏™ÂàÜÂ∏ÉÂºèÁ≥ªÁªüÂæÄÂæÄÊúâÂæàÂ§ö‰∏™ÊúçÂä°ÂçïÂÖÉ„ÄÇÁî±‰∫éÊúçÂä°ÂçïÂÖÉÊï∞Èáè‰ºóÂ§öÔºå‰∏öÂä°ÁöÑÂ§çÊùÇÊÄßÔºåÂ¶ÇÊûúÂá∫Áé∞‰∫ÜÈîôËØØÂíåÂºÇÂ∏∏ÔºåÂæàÈöæÂéªÂÆö‰Ωç„ÄÇ‰∏ªË¶Å‰ΩìÁé∞Âú®Ôºå‰∏Ä‰∏™ËØ∑Ê±ÇÂèØËÉΩÈúÄË¶ÅË∞ÉÁî®ÂæàÂ§ö‰∏™ÊúçÂä°ÔºåËÄåÂÜÖÈÉ®ÊúçÂä°ÁöÑË∞ÉÁî®Â§çÊùÇÊÄßÔºåÂÜ≥ÂÆö‰∫ÜÈóÆÈ¢òÈöæ‰ª•ÂÆö‰Ωç„ÄÇÊâÄ‰ª•ÂæÆÊúçÂä°Êû∂ÊûÑ‰∏≠ÔºåÂøÖÈ°ªÂÆûÁé∞ÂàÜÂ∏ÉÂºèÈìæË∑ØËøΩË∏™ÔºåÂéªË∑üËøõ‰∏Ä‰∏™ËØ∑ Ê±ÇÂà∞Â∫ïÊúâÂì™‰∫õÊúçÂä°ÂèÇ‰∏éÔºåÂèÇ‰∏éÁöÑÈ°∫Â∫èÂèàÊòØÊÄéÊ†∑ÁöÑÔºå‰ªéËÄåËææÂà∞ÊØè‰∏™ËØ∑Ê±ÇÁöÑÊ≠•È™§Ê∏ÖÊô∞ÂèØËßÅÔºåÂá∫‰∫ÜÈóÆÈ¢òÔºåÂæàÂø´ÂÆö‰Ωç„ÄÇ ÈìæË∑ØËøΩË∏™ÁªÑ‰ª∂ÊúâGoogle ÁöÑDapper, Twitter ÁöÑZipkin,‰ª•ÂèäÈòøÈáåÁöÑEagleeye(Èπ∞Áúº)Á≠âÔºåÂÆÉ‰ª¨ÈÉΩÊòØÈùûÂ∏∏‰ºòÁßÄÁöÑÈìæË∑ØËøΩË∏™ÂºÄÊ∫êÁªÑ‰ª∂„ÄÇ ‰∫î„ÄÅÂâçÁ´ØÂºÄÂèëÂü∫Á°ÄÁü•ËØÜ Ëøô‰∏™Á≠â‰ª•ÂêéÊ∑±ÂÖ•Â≠¶‰π†Âú®ËøõË°åËÆ∞ÂΩï~~~~ 7.1 VSCode ‰ΩøÁî® Get 1234567891011&quot;http-getËØ∑Ê±Ç&quot;: { &quot;prefix&quot;: &quot;httpget&quot;, &quot;body&quot;: [ &quot;this.\\\\$http({&quot;, &quot;url: this.\\\\$http.adornUrl(''),&quot;, &quot;method: 'get',&quot;, &quot;params: this.\\\\$http.adornParams({})&quot;, &quot;}).then(({ data }) =&gt; {&quot;, &quot;})&quot;], &quot;description&quot;: &quot;httpGETËØ∑Ê±Ç&quot;}, POST 12345678910&quot;http-postËØ∑Ê±Ç&quot;: { &quot;prefix&quot;: &quot;httppost&quot;, &quot;body&quot;: [ &quot;this.\\\\$http({&quot;, &quot;url: this.\\\\$http.adornUrl(''),&quot;, &quot;method: 'post',&quot;, &quot;data: this.\\\\$http.adornData(data, false)&quot;, &quot;}).then(({ data }) =&gt; { });&quot; ], &quot;description&quot;: &quot;httpPOSTËØ∑Ê±Ç&quot;} 7.2 ES6 7.3 Node.js 7.4 Vue 7.4.5 Êï¥Âêà Element UI 1„ÄÅÂÆâË£Ö 1npm i element-ui -S 2„ÄÅÂºïÂÖ• Element main.js ‰∏≠ÂºïÂÖ•‰ª•‰∏ãÂÜÖÂÆπ 1234567891011import Vue from 'vue';import ElementUI from 'element-ui';import 'element-ui/lib/theme-chalk/index.css'; // ÂºïÂÖ•ÈùôÊÄÅËµÑÊ∫êÊñá‰ª∂import App from './App.vue';Vue.use(ElementUI);new Vue({ el: '#app', render: h =&gt; h(App)}); 7.5 Babel 7.6 Webpack ÂÖ≠„ÄÅÂïÜÂìÅÊúçÂä°&amp;‰∏âÁ∫ßÂàÜÁ±ª 8.1 Âü∫Á°ÄÊ¶ÇÂøµ 8.1.1„ÄÅ‰∏âÁ∫ßÂàÜÁ±ª ‰∏ÄÁ∫ßÂàÜÁ±ªÊü•Âá∫‰∫åÁ∫ßÂàÜÁ±ªÊï∞ÊçÆÔºå‰∫åÁ∫ßÂàÜÁ±ª‰∏≠Êü•ËØ¢Âá∫‰∏âÁ∫ßÂàÜÁ±ªÊï∞ÊçÆ Êï∞ÊçÆÂ∫ìËÆæËÆ° 8.1.2„ÄÅSPU Âíå SKU SPUÔºöStandard Product Unit ÔºàÊ†áÂáÜÂåñ‰∫ßÂìÅÂçïÂÖÉÔºâ ÊòØÂïÜÂìÅ‰ø°ÊÅØËÅöÂêàÁöÑÊúÄÂ∞èÂçï‰ΩçÔºåÊòØ‰∏ÄÁªÑÂèØÂ§çÁî®ÔºåÊòìÊ£ÄÁ¥¢ÁöÑÊ†áÂáÜÂåñ‰ø°ÊÅØÁöÑÁªÑÂêàÔºåËØ•ÈõÜÂêàÊèèËø∞‰∫Ü‰∏Ä‰∏™‰∫ßÂìÅÁöÑÁâπÊÄß IPhoneX ÊòØ SPU,MI8 ÊòØ SPU IPhoneX 64G ÈªëÊõúÁü≥ ÊòØ SKU MIX8 + 64G ÊòØ SKU SKU: Stock KeepingUnit (Â∫ìÂ≠òÈáèÂçï‰Ωç) 8.1.3„ÄÅÂü∫Êú¨Â±ûÊÄß „ÄêËßÑÊ†ºÂèÇÊï∞„Äë‰∏é ÈîÄÂîÆÂ±ûÊÄß ÊØè‰∏™ÂàÜÂÖ±‰∏ãÁöÑÂïÜÂÖ±‰∫´ËßÑÊ†ºÂèÇÊï∞„ÄÅ‰∏éÈîÄÂîÆÂ±ûÊÄßÔºåÂè™ÊòØÊúâ‰∫õÂïÜÂìÅ‰∏ç‰∏ÄÂÆöÊõ¥Áî®Ëøô‰∏™ÂàÜÁ±ª‰∏ãÂÖ®ÈÉ®ÁöÑÂ±ûÊÄßÔºö Â±ûÊÄßÊòØ‰ª•‰∏âÁ∫ßÂàÜÁ±ªÁªÑÁªáËµ∑Êù•ÁöÑ ËßÑÊ†ºÂèÇÊï∞‰∏≠Êúâ‰∫õÊòØÂèØ‰ª•Êèê‰æõÊ£ÄÁ¥¢ÁöÑ ËßÑÊ†ºÂèÇÊï∞‰πüÊòØÂü∫Êú¨Â±ûÊÄßÔºå‰ªñ‰ª¨ÂÖ∑ÊúâËá™Â∑±ÁöÑÂàÜÁªÑ Â±ûÊÄßÁöÑÂàÜÁªÑ‰πüÊòØ‰ª•‰∏âÁ∫ßÂàÜÁ±ªÁªÑÁªáËµ∑Êù•ÁöÑ Â±ûÊÄßÂêçÁ°ÆÂÆöÁöÑÔºå‰ΩÜÊòØÂÄºÊòØÊØè‰∏Ä‰∏™ÂïÜÂìÅ‰∏çÂêåÊù•ÂÜ≥ÂÆöÁöÑ „ÄêÂ±ûÊÄßÂàÜÁªÑ-ËßÑÊ†ºÂèÇÊï∞-ÈîÄÂîÆÂ±ûÊÄß-‰∏âÁ∫ßÂàÜÁ±ª„ÄëÂÖ≥ËÅîÂÖ≥Á≥ª SPU-SKU-Â±ûÊÄßË°® 8.1.4„ÄÅÊé•Âè£ÊñáÊ°£‰ΩçÁΩÆ https://easydoc.xyz/s/78237135/ZUqEdvA4/hKJTcbfd 8.1.5„ÄÅ Object ÂàíÂàÜ VO ÔºàView ObjectÔºâËßÜÂõæÂØπË±° Áî®‰∫éÂ±ïÁ§∫Â±ÇÔºåÂÆÉÁöÑ‰ΩúÁî®ÊòØÊääÊüê‰∏™ÊåáÂÆöÈ°µÈù¢ÔºàÊàñÁªÑ‰ª∂ÔºâÁöÑÊâÄÊúâÊï∞ÊçÆÂ∞ÅË£ÖËµ∑Êù•„ÄÇÈÄöÂ∏∏Áî®‰∫é‰∏öÂä°Â±Ç‰πãÈó¥ÁöÑÊï∞ÊçÆ‰º†ÈÄíÔºåÂíå PO ‰∏ÄÊ†∑‰πüÊòØ‰ªÖ‰ªÖÂåÖÂê´Êï∞ÊçÆËÄåÂ∑≤Ôºå‰ΩÜÂ∫îÊòØÊäΩË±°Âá∫ÁöÑ‰∏öÂä°ÂØπË±°ÔºåÂèØ‰ª•ÂíåË°®ÂØπÂ∫îÔºå‰πüÂèØ‰ª•‰∏çÔºåËøôÊ†πÊçÆ‰∏öÂä°ÁöÑÈúÄË¶ÅÔºåÁî® new ÂÖ≥ÈîÆÂ≠óÂàõÂª∫ÔºåÁî± GC ÂõûÊî∂ view Object ËØïÂõæÂØπË±° Êé•ÂèóÈ°µÈù¢‰º†ÈÄíÊù•ÁöÑÊï∞ÊçÆÔºåÂ∞ÅË£ÖÂØπË±°ÔºåÂ∞ÅË£ÖÈ°µÈù¢ÈúÄË¶ÅÁî®ÁöÑÊï∞ÊçÆ DTOÔºàData Transfer ObjectÔºâÊï∞ÊçÆ‰º†ËæìÂØπË±° ‰∏ªË¶ÅÁî®‰∫éÂ±ïÁ§∫Â±Ç‰∏éÊúçÂä°Â±Ç‰πãÈó¥ÁöÑÊï∞ÊçÆ‰º†ËæìÂØπË±°„ÄÇËøô‰∏™Ê¶ÇÂøµÊù•Ê∫ê‰∫é J2EE ÁöÑËÆæËÆ°Ê®°ÂºèÔºåÂéüÊù•ÁöÑÁõÆÁöÑÊòØ‰∏∫‰∫Ü EJBÁöÑÂàÜÂ∏ÉÂºèÂ∫îÁî®Êèê‰æõÁ≤óÁ≤íÂ∫¶ÁöÑÊï∞ÊçÆÂÆû‰ΩìÔºå‰ª•ÂáèÂ∞ëÂàÜÂ∏ÉÂºèË∞ÉÁî®ÁöÑÊ¨°Êï∞Ôºå‰ªéËÄåÊèêÈ´òÂàÜÊï∞Ë∞ÉÁî®ÁöÑÊÄßËÉΩÂíåÈôç‰ΩéÁΩëÁªúË¥üËΩΩÔºå‰ΩÜÂú®ËøôÈáåÔºåÊ≥õÊåáÁî®‰∫éÂ±ïÁ§∫Â±Ç‰∏éÊúçÂä°Â±Ç‰πãÈó¥ÁöÑÊï∞ÊçÆ‰º†ËæìÂØπË±° DOÔºàDomain ObjectÔºâÈ¢ÜÂüüÂØπË±° Â∞±ÊòØ‰ªéÁé∞ÂÆû‰∏ñÁïå‰∏≠ÊäΩË±°Âá∫Êù•ÁöÑÊúâÂΩ¢ÊàñÊó†ÂΩ¢ÁöÑ‰∏öÂä°ÂÆû‰Ωì„ÄÇ POÔºàPersistent ObjectÔºâÔºöÊåÅ‰πÖÂåñÂØπË±° ÂÆÉË∑üÊåÅ‰πÖÂ±ÇÔºàÈÄöÂ∏∏ÊòØÂÖ≥Á≥ªÂûãÊï∞ÊçÆÂ∫ìÔºâÁöÑÊï∞ÊçÆÁªìÊûÑÂΩ¢Êàê‰∏Ä‰∏ÄÂØπÂ∫îÁöÑÊò†Â∞ÑÂÖ≥Á≥ªÔºåÂ¶ÇÊûúÊåÅ‰πÖÂ±ÇÊòØÂÖ≥Á≥ªÂûãÊï∞ÊçÆÂ∫ìÔºåÈÇ£‰πàÔºåÊï∞ÊçÆË°®‰∏≠ÁöÑÊØè‰∏™Â≠óÊÆµÂ∞±ÂØπÂ∫îPOÁöÑ‰∏Ä‰∏™Â±ûÊÄß„ÄÇpo Â∞±ÊòØÂØπÂ∫îÊï∞ÊçÆÂ∫ì‰∏≠Êüê‰∏Ä‰∏™Ë°®ÁöÑ‰∏ÄÊù°ËÆ∞ÂΩïÔºåÂ§ö‰∏™ËÆ∞ÂΩïÂèØ‰ª•Áî® PO ÁöÑÈõÜÂêàÔºåPO ‰∏≠Â∫îËØ•‰∏çÂåÖÂê´‰ªª‰ΩïÂØπÊï∞ÊçÆÂ∫ìÂà∞Êìç‰Ωú TO (Transfer Object) Êï∞ÊçÆ‰º†ËæìÂØπË±° ‰∏çÂêåÁöÑÂ∫îÁî®Á®ãÂ∫è‰πãÈó¥‰º†ËæìÁöÑÂØπË±° BO(business object) ‰∏öÂä°ÂØπË±° ‰ªé‰∏öÂä°Ê®°ÂûãÁöÑËßíÂ∫¶ÁúãÔºåËßÅ UML Âéü‰ª∂È¢ÜÂüüÊ®°Âûã‰∏≠ÁöÑÈ¢ÜÂüüÂØπË±°ÔºåÂ∞ÅË£Ö‰∏öÂä°ÈÄªËæëÁöÑÔºå java ÂØπË±°ÔºåÈÄöËøáË∞ÉÁî® DAO ÊñπÊ≥ïÔºåÁªìÂêà PO VO,ËøõË°å‰∏öÂä°Êìç‰ΩúÔºåbusiness object ‰∏öÂä°ÂØπË±°Ôºå‰∏ªË¶Å‰ΩúÁî®ÊòØÊää‰∏öÂä°ÈÄªËæëÂ∞ÅË£ÖÊàê‰∏Ä‰∏™ÂØπË±°ÔºåËøô‰∏™ÂØπË±°ÂåÖÊã¨‰∏Ä‰∏™ÊàñÂ§ö‰∏™ÂØπË±°ÔºåÊØîÂ¶Ç‰∏Ä‰∏™ÁÆÄÂéÜÔºåÊúâÊïôËÇ≤ÁªèÂéÜÔºåÂ∑•‰ΩúÁªèÂéÜÔºåÁ§æ‰ºöÂÖ≥Á≥ªÁ≠âÁ≠âÔºåÊàë‰ª¨ÂèØ‰ª•ÊääÊïôËÇ≤ÁªèÂéÜÂØπÂ∫î‰∏Ä‰∏™ PO „ÄÅÂ∑•‰ΩúÁªèÈ™åÂØπÂ∫î‰∏Ä‰∏™ PO„ÄÅ Á§æ‰ºöÂÖ≥Á≥ªÂØπÂ∫î‰∏Ä‰∏™ PO, Âª∫Á´ã‰∏Ä‰∏™ÂØπÂ∫îÁÆÄÂéÜÁöÑÁöÑ BO ÂØπË±°Â§ÑÁêÜÁÆÄÂéÜÔºåÊØè ‰∏™ BO ÂåÖÂê´Ëøô‰∫õ PO ,ËøôÊ†∑Â§ÑÁêÜ‰∏öÂä°ÈÄªËæëÊó∂ÔºåÊàë‰ª¨Â∞±ÂèØ‰ª•ÈíàÂØπ BO ÂéªÂ§ÑÁêÜ POJO ( plain ordinary java object) ÁÆÄÂçïÊó†ËßÑÂàô java ÂØπË±° ‰º†ÁªüÊÑè‰πâÁöÑ java ÂØπË±°ÔºåÂ∞±ÊòØËØ¥‰∏Ä‰∫õ Object/Relation Mapping Â∑•ÂÖ∑‰∏≠ÔºåËÉΩÂ§üÂÅöÂà∞Áª¥Êä§Êï∞ÊçÆÂ∫ìË°®ËÆ∞ÂΩïÁöÑ persisent object ÂÆåÂÖ®ÊòØ‰∏Ä‰∏™Á¨¶Âêà Java Bean ËßÑËåÉÁöÑ Á∫Ø java ÂØπË±°ÔºåÊ≤°ÊúâÂ¢ûÂä†Âà´ÁöÑÂ±ûÊÄßÂíåÊñπÊ≥ïÔºåÊàë‰ª¨ÁöÑÁêÜËß£Â∞±ÊòØÊúÄÂü∫Êú¨ÁöÑ Java bean Âè™ÊúâÂ±ûÊÄßÂ≠óÊÆµ setter Âíå getter ÊñπÊ≥ï POJO Êó∂ÊòØ DO/DTO/BO/VO ÁöÑÁªüÁß∞ DAOÔºàdata access objectÔºâ Êï∞ÊçÆËÆøÈóÆÂØπË±° ÊòØ‰∏Ä‰∏™ sun ÁöÑ‰∏Ä‰∏™Ê†áÂáÜ j2ee ËÆæËÆ°Ê®°ÂºèÔºåËøô‰∏™Ê®°ÂºèÊúâ‰∏™Êé•Âè£Â∞±ÊòØ DAO Ôºå‰ªñË¥üÊåÅ‰πÖÂ±ÇÁöÑÊìç‰ΩúÔºå‰∏∫‰∏öÂä°Â±ÇÊèê‰æõÊé•Âè£ÔºåÊ≠§ÂØπË±°Áî®‰∫éËÆøÈóÆÊï∞ÊçÆÂ∫ìÔºåÈÄöÂ∏∏Âíå PO ÁªìÂêà‰ΩøÁî®ÔºåDAO ‰∏≠ÂåÖÂê´‰∫ÜÂêÑÁßçÊï∞ÊçÆÂ∫ìÁöÑÊìç‰ΩúÊñπÊ≥ïÔºåÈÄöËøáÂÆÉÁöÑÊñπÊ≥ïÔºåÁªìÂêà PO ÂØπÊï∞ÊçÆÂ∫ìËøõË°åÁõ∏ÂÖ≥Êìç‰ΩúÔºåÂ§πÂú®‰∏öÂä°ÈÄªËæë‰∏éÊï∞ÊçÆÂ∫ìËµÑÊ∫ê‰∏≠Èó¥ÔºåÈÖçÂêàVO Êèê‰æõÊï∞ÊçÆÂ∫ìÁöÑ CRUD ÂäüËÉΩ VO ‰∏é DTO ÁöÑÂå∫Âà´ DTO Âíå VO ÁöÑÂ±ûÊÄßÂÄºÂü∫Êú¨ÊòØ‰∏ÄËá¥ÁöÑÔºåËÄå‰∏î‰ªñ‰ª¨ÈÄöÂ∏∏ÈÉΩÊòØ POJO„ÄêÁÆÄÂçïÁöÑ Java ÂØπË±°ÔºàPlain Old Java ObjectÔºâ„Äë,‰ΩÜ‰∏§ËÄÖÂ≠òÂú®Êú¨Ë¥®‰∏äÁöÑÂå∫Âà´ÔºõDTO ‰ª£Ë°®ÊúçÂä°Â±ÇÈúÄË¶ÅÊé•Êî∂ÁöÑÊï∞ÊçÆÂíåËøîÂõûÁöÑÊï∞ÊçÆÔºåËÄåVO ‰ª£Ë°®Â±ïÁ§∫Â±ÇÈúÄË¶ÅÊòæÁ§∫ÁöÑÊï∞ÊçÆ„ÄÇ DTO ‰∏é DO ÁöÑÂå∫Âà´ È¶ñÂÖàÊòØÊ¶ÇÂøµ‰∏äÁöÑÂå∫Âà´ÔºåDTO ÊòØÂ±ïÁ§∫Â±ÇÂíåÊúçÂä°Â±Ç‰πãÈó¥ÁöÑÊï∞ÊçÆ‰º†ËæìÂØπË±°ÔºàÂèØ‰ª•ËÆ§‰∏∫ÊòØ‰∏§ËÄÖ‰πãÈó¥ÁöÑÂçèËÆÆÔºâÔºåËÄå DOÊòØÂØπÁé∞ÂÆû‰∏ñÁïåÂêÑÁßç‰∏öÂä°ËßíËâ≤ÁöÑÊäΩË±°ÔºåËøôÂ∞±ÂºïÂá∫‰∫Ü‰∏§ËÄÖÂú®Êï∞ÊçÆ‰∏äÁöÑÂå∫Âà´„ÄÇ DO ‰∏é PO ÁöÑÂå∫Âà´ DO Âíå PO Âú®ÁªùÂ§ßÈÉ®ÂàÜÊÉÖÂÜµ‰∏ãÊòØ‰∏Ä‰∏ÄÂØπÂ∫îÁöÑÔºåPOÊòØÂè™Âê´Êúâ get/set ÊñπÊ≥ïÁöÑPOJOÔºå‰ΩÜÊüê‰∫õÂú∫ÊôØËøòÊòØËÉΩÂèçÊò†Âá∫‰∏§ËÄÖÂú®Ê¶ÇÂøµ‰∏äÂ≠òÂú®Êú¨Ë¥®Âå∫Âà´Ôºö DOÂú®Êüê‰∫õÂú∫ÊôØ‰∏ã‰∏çÈúÄË¶ÅËøõË°åÊòæÂºèÁöÑÊåÅ‰πÖÂåñÔºå‰æãÂ¶ÇÂà©Áî®Á≠ñÁï•Ê®°ÂºèËÆæËÆ°ÁöÑÂïÜÂìÅÊäòÊâ£Á≠ñÁï•Ôºå‰ºöË°çÁîüÂá∫ÊäòÊâ£Á≠ñÁï•ÁöÑÊé•Âè£Âíå‰∏çÂêåÊäòÊâ£Á≠ñÁï•ÂÆûÁé∞Á±ªÔºåËøô‰∫õÊäòÊâ£Á≠ñÁï•ÂÆûÁé∞Á±ªÂèØ‰ª•ÁÆóÊòØDOÔºå‰ΩÜÂÆÉ‰ª¨Âè™‰ºöÈ©ªÁïôÂú®ÈùôÊÄÅÂÜÖÂ≠òÊ±†Ôºå‰∏çÈúÄË¶ÅÊåÅ‰πÖÂåñÂà∞ÊåÅ‰πÖÂ±ÇÔºåÂõ†Ê≠§ÔºåËøôÁ±ª DO ÊòØ‰∏çÂ≠òÂú®ÂØπÂ∫îÁöÑ POÁöÑ„ÄÇ ÂêåÊ†∑ÁöÑÈÅìÁêÜÔºåÊüê‰∫õÂú∫ÊôØ‰∏ãÔºåPO‰πüÊ≤°ÊúâÂØπÂ∫îÁöÑDOÔºå‰æãÂ¶ÇËÄÅÂ∏àTeacherÂíåÂ≠¶ÁîüStudentÂ≠òÂú®Â§öÂØπÂ§öÁöÑÂÖ≥Á≥ªÔºåÂú®ÂÖ≥Á≥ªÊï∞ÊçÆÂ∫ì‰∏≠ÔºåËøôÁßçÂÖ≥Á≥ªÈúÄË¶ÅË°®Áé∞‰∏∫‰∏Ä‰∏™‰∏≠Èó¥Ë°®Ôºå‰πüÂ∞±ÂØπÂ∫îÊúâ‰∏Ä‰∏™TeacherAndStudentPOÁöÑPOÔºå‰ΩÜËøô‰∏™POÂú®‰∏öÂä°È¢ÜÂüüÊ≤°Êúâ‰ªª‰ΩïÁé∞ÂÆûÁöÑÊÑè‰πâÔºåÂÆÉÂÆåÂÖ®‰∏çËÉΩ‰∏é‰ªª‰ΩïDOÂØπÂ∫î‰∏ä„ÄÇ 8.2 ‰∏âÁ∫ßÂàÜÁ±ªÊé•Âè£ÁºñÂÜô 12// ËøîÂõûÊü•ËØ¢ÊâÄÊúâÂàÜÁ±ª‰ª•ÂèäÂ≠êÂ≠êÂàÜÁ±ªÔºå‰ª•Ê†ëÂΩ¢ÁªìÊûÑÁªÑË£ÖËµ∑Êù• List&lt;CategoryEntity&gt; listWithTree(); ÂÆûÁé∞Á±ªÔºö 12345678910111213141516171819202122232425262728293031323334353637383940414243@Override public List&lt;CategoryEntity&gt; listWithTree() { // 1„ÄÅÊü•Âá∫ÊâÄÊúâÂàÜÁ±ª ËÆæÁΩÆ‰∏∫nullÊü•ËØ¢ÂÖ®ÈÉ® List&lt;CategoryEntity&gt; entities = baseMapper.selectList(null); // 2„ÄÅÁªÑË£ÖÊàêÁà∂Â≠êÁöÑÊ†ëÂΩ¢ÁªìÊûÑ List&lt;CategoryEntity&gt; levelList = entities.stream().filter(categoryEntity -&gt; { // parentCid ==0 ‰∏∫Áà∂ÁõÆÂΩïÈªòËÆ§0 return categoryEntity.getParentCid() == 0; }).map(menu -&gt; { // ËÆæÁΩÆ‰∫å‰∏âÁ∫ßÂàÜÁ±ª ÈÄíÂΩí menu.setChildren(getChildrens(menu,entities)); return menu; }).sorted((menu1, menu2) -&gt; { // ÊéíÂ∫è SortÂ≠óÊÆµÊéíÂ∫è return (menu1.getSort() == null ? 0 : menu1.getSort()) - (menu2.getSort() == null ? 0 : menu2.getSort()); }).collect(Collectors.toList()); return levelList; }/** * ÈÄíÂΩíÊü•ËØ¢Â≠êÂàÜÁ±ª * @param root ÂΩìÂâçcategoryÂØπË±° * @param all ÂÖ®ÈÉ®ÂàÜÁ±ªÊï∞ÊçÆ * @return */ private List&lt;CategoryEntity&gt; getChildrens(CategoryEntity root, List&lt;CategoryEntity&gt; all) { List&lt;CategoryEntity&gt; collect = all.stream().filter(categoryEntity -&gt; { // ÈÅçÂéÜÊâÄÊúâÁöÑcategoryÂØπË±°ÁöÑÁà∂Á±ªid = Á≠â‰∫érootÁöÑÂàÜÁ±ªid ËØ¥ÊòéÊòØ‰ªñÁöÑÂ≠êÁ±ª return categoryEntity.getParentCid() == root.getCatId(); }).map(menu -&gt; { // 1„ÄÅÈÄíÂΩíÈÅçÂéÜËèúÂçï menu.setChildren(getChildrens(menu, all)); return menu; }).sorted((menu1, menu2) -&gt; { // 2„ÄÅËèúÂçïÊéíÂ∫è return (menu1.getSort() == null ? 0 : menu1.getSort()) - (menu2.getSort() == null ? 0 : menu2.getSort()); }).collect(Collectors.toList()); return collect; } Ë∑®Âüü Ë∑®ÂüüÔºöÊåáÁöÑÊòØÊµèËßàÂô®‰∏çËÉΩÊâßË°åÂÖ∂‰ªñÁΩëÁ´ôÁöÑËÑöÊú¨„ÄÇÂÆÉÊòØÁî±ÊµèËßàÂô®ÁöÑÂêåÊ∫êÁ≠ñÁï•ÈÄ†ÊàêÁöÑÔºåÊòØÊµèËßàÂô®ÂØπjavascriptÊñΩÂä†ÁöÑÂÆâÂÖ®ÈôêÂà∂„ÄÇ ÂêåÊ∫êÁ≠ñÁï•ÔºöÊòØÊåáÂçèËÆÆÔºåÂüüÂêçÔºåÁ´ØÂè£ÈÉΩË¶ÅÁõ∏ÂêåÔºåÂÖ∂‰∏≠Êúâ‰∏Ä‰∏™‰∏çÂêåÈÉΩ‰ºö‰∫ßÁîüË∑®ÂüüÔºõ ‰∏ãÂõæËØ¶ÁªÜËØ¥Êòé‰∫Ü URL ÁöÑÊîπÂèòÂØºËá¥ÊòØÂê¶ÂÖÅËÆ∏ÈÄö‰ø° Ë∑®ÂüüÊµÅÁ®ã ÊµèËßàÂô®ÂèëËØ∑Ê±ÇÈÉΩË¶ÅÂÆûÁé∞ÂèëÈÄÅ‰∏Ä‰∏™ËØ∑Ê±ÇËØ¢ÈóÆÊòØÂê¶ÂèØ‰ª•ËøõË°åÈÄö‰ø° ÔºåÊàëÁõ¥Êé•Áªô‰Ω†ËøîÂõûÂèØ‰ª•ÈÄö‰ø°‰∏çÂ∞±ÂèØ‰ª•‰∫ÜÂêóÔºü Áõ∏ÂÖ≥ËµÑÊñôÂèÇËÄÉÔºöhttps://developer.mozilla.org/zh-CN/docs/Web/HTTP/Access_control_CORS Ëß£ÂÜ≥Ë∑®Ë∂äÔºà ‰∏Ä Ôºâ ‰ΩøÁî®nginxÈÉ®ÁΩ≤‰∏∫Âêå‰∏ÄÂüü ÂºÄÂèëËøá‰∫éÈ∫ªÁÉ¶Ôºå‰∏äÁ∫øÂú®‰ΩøÁî® Ëß£ÂÜ≥Ë∑®Âüü Ôºà ‰∫å ÔºâÈÖçÁΩÆÂΩìÊ¨°ËØ∑Ê±ÇÂÖÅËÆ∏Ë∑®Âüü 1„ÄÅÊ∑ªÂä†ÂìçÂ∫îÂ§¥ Access-Control-Allow-Origin: ÊîØÊåÅÂì™‰∫õÊù•Ê∫êÁöÑËØ∑Ê±ÇË∑®Âüü Access-Control-Allow-Methods: ÊîØÊåÅÂì™‰∫õÊñπÊ≥ïË∑®Âüü Access-Control-Allow-Credentials: Ë∑®ÂüüËØ∑Ê±ÇÈªòËÆ§‰∏çÂåÖÂê´cookie,ËÆæÁΩÆ‰∏∫trueÂèØ‰ª•ÂåÖÂê´cookie Access-Control-Expose-Headers: Ë∑®ÂüüËØ∑Ê±ÇÊö¥Èú≤ÁöÑÂ≠óÊÆµ ‚Äã CORSËØ∑Ê±ÇÊó∂, XML .HttpRequestÂØπË±°ÁöÑgetResponseHeader()ÊñπÊ≥ïÂè™ËÉΩÊãøÂà∞6‰∏™Âü∫Êú¨Â≠óÊÆµ: CacheControl„ÄÅContent-L anguage„ÄÅContent Type„ÄÅExpires„ÄÅ Last-Modified„ÄÅ Pragma„ÄÇ Â¶ÇÊûúÊÉ≥ÊãøÂà∞ÂÖ∂‰ªñÂ≠óÊÆµÔºåÂ∞±ÂøÖÈ°ªÂú®Access-Control-Expose-HeadersÈáåÈù¢ÊåáÂÆö„ÄÇ Access-Control-Max- Age: Ë°®ÊòéËØ•ÂìçÂ∫îÁöÑÊúâÊïàÊó∂Èó¥‰∏∫Â§öÂ∞ëÁßí„ÄÇÂú®ÊúâÊïàÊó∂Èó¥ÂÜÖÔºåÊµèËßàÂô®Êó†È°ª‰∏∫Âêå‰∏Ä-ËØ∑Ê±ÇÂÜçÊ¨°ÂèëËµ∑È¢ÑÊ£ÄËØ∑Ê±Ç„ÄÇËØ∑Ê≥®ÊÑèÔºåÊµèËßàÂô®Ëá™Ë∫´Áª¥Êä§‰∫Ü‰∏Ä‰∏™ÊúÄÂ§ßÊúâÊïàÊó∂Èó¥ÔºåÂ¶ÇÊûúËØ•È¶ñÈÉ®Â≠óÊÆµÁöÑÂÄºË∂ÖËøá‰∫ÜÊúÄÂ§ßÊúâÊïàÊó∂Èó¥ÔºåÂ∞Ü‰∏ç‰ºöÁîüÊïà„ÄÇ ÁΩëÂÖ≥ÈÖçÁΩÆÊñá‰ª∂ 12345678910111213- id: product_route uri: lb://gulimall-product predicates: - Path=/api/product/** filters: - RewritePath=/api/(?&lt;segment&gt;/?.*),/$\\{segment}- id: admin_route uri: lb://renren-fast # lbË¥üËΩΩÂùáË°° predicates: - Path=/api/** # pathÊåáÂÆöÂØπÂ∫îË∑ØÂæÑ filters: # ÈáçÂÜôË∑ØÂæÑ - RewritePath=/api/(?&lt;segment&gt;/?.*), /renren-fast/$\\{segment} Ë∑®Ë∂äËÆæÁΩÆ ËØ∑Ê±ÇÂÖàÂèëÈÄÅÂà∞ÁΩëÂÖ≥ÔºåÁΩëÂÖ≥Âú®ËΩ¨ÂèëÁªôÂÖ∂‰ªñÊúçÂä° ‰∫ãÂÖàÈÉΩË¶ÅÊ≥®ÂÜåÂà∞Ê≥®ÂÜå‰∏≠ÂøÉ 123456789101112131415161718192021@Configurationpublic class GulimallCorsConfiguration { @Bean public CorsWebFilter corsWebFilter() { UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource(); CorsConfiguration corsConfiguration = new CorsConfiguration(); // ÈÖçÁΩÆË∑®Ë∂ä corsConfiguration.addAllowedHeader(&quot;*&quot;); // ÂÖÅËÆ∏ÈÇ£‰∫õÂ§¥ corsConfiguration.addAllowedMethod(&quot;*&quot;); // ÂÖÅËÆ∏ÈÇ£‰∫õËØ∑Ê±ÇÊñπÂºè corsConfiguration.addAllowedOrigin(&quot;*&quot;); // ÂÖÅËÆ∏ËØ∑Ê±ÇÊù•Ê∫ê corsConfiguration.setAllowCredentials(true); // ÊòØÂê¶ÂÖÅËÆ∏Êê∫Â∏¶cookieË∑®Ë∂ä // Ê≥®ÂÜåË∑®Ë∂äÈÖçÁΩÆ source.registerCorsConfiguration(&quot;/**&quot;,corsConfiguration); return new CorsWebFilter(source); }} ÂéªÊéârenren-fastÈªòËÆ§Ë∑®ÂüüËÆæÁΩÆ 8.2.1 Ê†ëÂΩ¢Â±ïÁ§∫‰∏âÁ∫ßÂàÜÁ±ªÊï∞ÊçÆ 1„ÄÅÁî®Âà∞ÁöÑÂâçÁ´ØÁªÑ‰ª∂ Tree Ê†ëÂΩ¢Êéß‰ª∂ 12345678910&lt;el-tree :data=&quot;data&quot; :props=&quot;defaultProps&quot; @node-click=&quot;handleNodeClick&quot;&gt;&lt;/el-tree&gt;&lt;!--data Â±ïÁ§∫Êï∞ÊçÆprops ÈÖçÁΩÆÈÄâÈ°πchildren ÊåáÂÆöÂ≠êÊ†ë‰∏∫ËäÇÁÇπÂØπË±°ÁöÑÊüê‰∏™Â±ûÊÄßÂÄºlabel ÊåáÂÆöËäÇÁÇπÊ†áÁ≠æ‰∏∫ËäÇÁÇπÂØπË±°ÁöÑÊüê‰∏™Â±ûÊÄßÂÄºdisabled ËäÇÁÇπÈÄâÊã©Ê°ÜÊòØÂê¶Á¶ÅÁî®‰∏∫ËäÇÁÇπÂØπË±°ÁöÑÊüê‰∏™Â±ûÊÄßÂÄº@node-click ËäÇÁÇπË¢´ÁÇπÂáªÊó∂ÁöÑÂõûË∞É--&gt; ÈÖçÁΩÆÈùôÊÄÅÊï∞ÊçÆÂ∞±ËÉΩÊòæÁ§∫Âá∫ÂØπÂ∫îÁöÑÊïàÊûú 2„ÄÅÁºñÂÜôÊñπÊ≥ïËé∑ÂèñÂÖ®ÈÉ®ËèúÂçïÊï∞ÊçÆ 12345678910getMenus() { this.$http({ // ËØ∑Ê±ÇÊé•Âè£ËßÅ‰∏äÈù¢ url: this.$http.adornUrl(&quot;/product/category/list/tree&quot;), method: &quot;get&quot; }).then(({ data }) =&gt; { console.log(&quot;ËøîÂõûÁöÑËèúÂçïÊï∞ÊçÆ&quot; + data.data); this.menus = data.data; }); } 3„ÄÅÊúÄÁªàÂ±ïÁ§∫ÁªìÊûú ( append ,edit ‰ºöÂú®ÂêéÈù¢‰ªãÁªç) 8.2.2 ÈÄªËæëÂà†Èô§&amp;Âà†Èô§ÊïàÊûúÁªÜÂåñ ÊïàÊûúÂõæ 1„ÄÅËäÇÁÇπÁöÑÂÜÖÂÆπÊîØÊåÅËá™ÂÆö‰πâÔºåÂèØ‰ª•Âú®ËäÇÁÇπÂå∫Ê∑ªÂä†ÊåâÈíÆÊàñÂõæÊ†áÁ≠âÂÜÖÂÆπ 123456789101112 &lt;el-button v-if=&quot;node.childNodes.length == 0&quot; type=&quot;text&quot; size=&quot;mini&quot; @click=&quot;() =&gt; remove(node, data)&quot; &gt; Delete&lt;/el-button&gt; &lt;!-- v-if=&quot;node.childNodes.length == 0&quot; Ê≤°ÊúâÂ≠êËäÇÁÇπÂèØ‰ª•Âà†Èô§ type ÂØπÂ∫îÁ±ªÂûã size Â§ßÂ∞è @click ÁÇπÂáªÂêéÂá∫ÂèëÁöÑÊñπÊ≥ï Ê≠§Â§Ñ‰ΩøÁî®‰∫Ü ÁÆ≠Â§¥ÂáΩÊï∞--&gt; 2„ÄÅÂâçÁ´ØremoveÊñπÊ≥ïËøõË°åÂà†Èô§ 1234567891011121314151617181920212223242526272829303132remove(node, data) { this.$confirm(`ÊòØÂê¶Âà†Èô§„Äê${data.name}„ÄëËèúÂçï ? `, &quot;ÊèêÁ§∫&quot;, { confirmButtonText: &quot;Á°ÆÂÆö&quot;, cancelButtonText: &quot;ÂèñÊ∂à&quot;, type: &quot;warning&quot; }) .then(() =&gt; { // ÊãøÂà∞ÂΩìÂâçËäÇÁÇπÁöÑcatId var ids = [data.catId]; this.$http({ url: this.$http.adornUrl(&quot;/product/category/delete&quot;), method: &quot;post&quot;, data: this.$http.adornData(ids, false) }).then(({ data }) =&gt; { this.$message({ message: &quot;ËèúÂçïÂà†Èô§ÊàêÂäü&quot;, type: &quot;success&quot; }); // Âà∑Êñ∞ËèúÂçï this.getMenus(); // ËÆæÁΩÆÈªòËÆ§ÈúÄË¶ÅÂ±ïÂºÄÁöÑËèúÂçï /** default-expanded-keys ÈªòËÆ§Â±ïÂºÄËäÇÁÇπÁöÑ key Êï∞ÁªÑ */ this.expandedKey = [node.parent.data.catId]; console.log(node.parent.data.catId); }); }) .catch(() =&gt; {}); console.log(&quot;remove&quot;, node, data); } 3„ÄÅÂêéÁ´ØÊé•Âè£ -- ÈÄªËæëÂà†Èô§ÈÖçÁΩÆ 3.1 Á¨¨‰∏ÄÁßçÊñπÂºè mybatisplus ÈÄªËæëÂà†Èô§ÂèÇËÄÉÂÆòÁΩëÔºöhttps://baomidou.com/guide/logic-delete.html Âú®appliction.yml ‰∏≠ÈÖçÁΩÆ myabtisplus ÈÄªËæëÂà†Èô§ 1234567mybatis-plus: mapper-locations: classpath*:/mapper/**/*.xml global-config: db-config: id-type: auto # Êï∞ÊçÆÂ∫ì‰∏ªÈîÆËá™Â¢û logic-delete-value: 1 # ÈÄªËæëÂ∑≤Âà†Èô§ÂÄº(ÈªòËÆ§‰∏∫ 1) logic-not-delete-value: 0 # ÈÄªËæëÊú™Âà†Èô§ÂÄº(ÈªòËÆ§‰∏∫ 0) 3.2 Á¨¨‰∫åÁßçÊñπÂºè Âú® Entity‰∏≠ ‰ΩøÁî®Ê≥®Ëß£ 1234567/** ÊòØÂê¶‰∏∫Êï∞ÊçÆÂ∫ìË°®Â≠óÊÆµ ÈªòËÆ§ true Â≠òÂú®Ôºåfalse ‰∏çÂ≠òÂú® Ê†áËÆ∞‰∏∫false ËØ¥Êòé ËØ•Â≠óÊÆµ‰∏çÂú®Êï∞ÊçÆÂ∫ì **/@TableField(exist = false)private List&lt;CategoryEntity&gt; children; 4„ÄÅController ÂÆûÁé∞ ‰ΩøÁî®‰∫Ü‰ª£Á†ÅÁîüÊàêÂô® 12345678910111213141516171819 /** * Âà†Èô§ * @RequestBody:Ëé∑ÂèñËØ∑Ê±Ç‰ΩìÔºåÂøÖÈ°ªÂèëÈÄÅpostËØ∑Ê±ÇÊâçÊúâ getËØ∑Ê±ÇÊ≤°Êúâ * SpringMvc Ëá™Âä®Â∞ÜËØ∑Ê±Ç‰ΩìÁöÑÊï∞ÊçÆ ( json ) ËΩ¨‰∏∫ÂØπÂ∫îÁöÑÂØπË±° */ @RequestMapping(&quot;/delete&quot;) public R delete(@RequestBody Long[] catIds){ // 1„ÄÅÊ£ÄÊü•ÂΩìÂâçÂà†Èô§ÁöÑËèúÂçïÔºåÊòØÂê¶Ë¢´Âà´ÁöÑÂú∞ÊñπÂ∫îÁî® categoryService.removeMenuByIds(Arrays.asList(catIds)); return R.ok(); }//Service ÂÆûÁé∞ @Override public void removeMenuByIds(List&lt;Long&gt; asList) { // 1„ÄÅÈÄªËæëÂà†Èô§ baseMapper.deleteBatchIds(asList); } 8.2.3 Êñ∞Â¢ûÊïàÊûú&amp;Âü∫Êú¨‰øÆÊîπ 1„ÄÅÂâçÁ´ØÁªÑ‰ª∂ button ÁªÑ‰ª∂ Dialog ÂØπËØùÊ°Ü 123456789101112131415161718192021222324252627282930313233343536373839 &lt;!-- Â±ÇÁ∫ßÂ∞è‰∫é2 ÊâçËÉΩÊñ∞Â¢û --&gt; &lt;el-button v-if=&quot;node.level &lt;= 2&quot; type=&quot;text&quot; size=&quot;mini&quot; @click=&quot;() =&gt; append(data)&quot; &gt;Append &lt;/el-button&gt; &lt;el-button type=&quot;text&quot; size=&quot;mini&quot; @click=&quot;() =&gt; edit(data)&quot; &gt;edit &lt;/el-button&gt;&lt;!-- ‰∏äÈù¢ÁªÑ‰ª∂Âú®tree‰∏≠--&gt;&lt;el-dialog :title=&quot;title&quot; :visible.sync=&quot;dialogVisible&quot; width=&quot;30%&quot; :before-close=&quot;handleClose&quot; :close-on-click-modal=&quot;false&quot; &gt; &lt;el-form :model=&quot;category&quot;&gt; &lt;el-form-item label=&quot;ÂàÜÁ±ªÂêçÁß∞&quot;&gt; &lt;el-input v-model=&quot;category.name&quot; autocomplete=&quot;off&quot;&gt;&lt;/el-input&gt; &lt;/el-form-item&gt; &lt;el-form-item label=&quot;ÂõæÊ†á&quot;&gt; &lt;el-input v-model=&quot;category.icon&quot; autocomplete=&quot;off&quot;&gt;&lt;/el-input&gt; &lt;/el-form-item&gt; &lt;el-form-item label=&quot;ËÆ°ÈáèÂçï‰Ωç&quot;&gt; &lt;el-input v-model=&quot;category.productUnit&quot; autocomplete=&quot;off&quot; &gt;&lt;/el-input&gt; &lt;/el-form-item&gt; &lt;/el-form&gt; &lt;span slot=&quot;footer&quot; class=&quot;dialog-footer&quot;&gt; &lt;el-button @click=&quot;dialogVisible = false&quot;&gt;Âèñ Ê∂à&lt;/el-button&gt; &lt;el-button type=&quot;primary&quot; @click=&quot;submitData&quot;&gt;Á°Æ ÂÆö&lt;/el-button&gt; &lt;/span&gt; &lt;/el-dialog&gt; 2„ÄÅÊñ∞Â¢û&amp;‰øÆÊîπ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980818283848586 append(data) { this.dialogVisible = true; console.log(&quot;append&quot;, data); this.category.name = &quot;&quot;; this.dialogType = &quot;add&quot;; this.title = &quot;Ê∑ªÂä†ÂàÜÁ±ª&quot;; this.category.parentCid = data.catId; this.category.catLevel = data.catLevel * 1 + 1; this.category.name = &quot;&quot;; this.category.catId = null; this.category.icon = &quot;&quot;; this.category.productUnit = &quot;&quot;; }, // Ë¶Å‰øÆÊîπÁöÑÊï∞ÊçÆ edit(data) { console.log(&quot;Ë¶Å‰øÆÊîπÁöÑÊï∞ÊçÆ&quot;, data); this.dialogType = &quot;edit&quot;; this.title = &quot;‰øÆÊîπÂàÜÁ±ª&quot;; this.dialogVisible = true; // ÂèëÈÄÅËØ∑Ê±ÇËé∑ÂèñÊúÄÊñ∞ÁöÑÊï∞ÊçÆ this.$http({ url: this.$http.adornUrl(`/product/category/info/${data.catId}`), method: &quot;get&quot; }).then(({ data }) =&gt; { // ËØ∑Ê±ÇÊàêÂäü console.log(&quot;Ë¶ÅÂõûÊòæÁöÑÊï∞ÊçÆ&quot;, data); this.category.name = data.data.name; this.category.catId = data.data.catId; this.category.icon = data.data.icon; this.category.productUnit = data.data.productUnit; this.category.parentCid = data.data.parentCid; }); },submitData() { if (this.dialogType == &quot;add&quot;) { // ËøõË°åÊñ∞Â¢û this.addCategory(); } if (this.dialogType == &quot;edit&quot;) { // ËøõË°å‰øÆÊîπ this.editCategory(); } }, // Ê∑ªÂä†‰∏âÁ∫ßÂàÜÁ±ª addCategory() { console.log(&quot;Ê∑ªÂä†‰∏âÁ∫ßÂàÜÁ±ªÁöÑÊï∞ÊçÆ&quot;, this.category); this.$http({ url: this.$http.adornUrl(&quot;/product/category/save&quot;), method: &quot;post&quot;, data: this.$http.adornData(this.category, false) }).then(({ data }) =&gt; { this.$message({ message: &quot;ËèúÂçï‰øùÂ≠òÊàêÂäü&quot;, type: &quot;success&quot; }); // ÂÖ≥Èó≠ÂØπËØùÊ°Ü this.dialogVisible = false; // ÈáçÊñ∞Âà∑Êñ∞Êï∞ÊçÆ this.getMenus(); // ÈªòËÆ§Â±ïÂºÄÁöÑËèúÂçï this.expandedKey = [this.category.parentCid]; }); }, // ‰øÆÊîπ‰∏âÁ∫ßÂàÜÁ±ªÊï∞ÊçÆ editCategory() { // Ëß£ÊûÑÂá∫ÂçïÁã¨ÁöÑÂá†‰∏™ÂØπË±° Áî®Êù•Êèê‰∫§ var { catId, name, icon, productUnit } = this.category; this.$http({ url: this.$http.adornUrl(&quot;/product/category/update&quot;), method: &quot;post&quot;, data: this.$http.adornData({ catId, name, icon, productUnit }, false) }).then(({ data }) =&gt; { this.$message({ message: &quot;ËèúÂçï‰øÆÊîπÊàêÂäü&quot;, type: &quot;success&quot; }); // ÂÖ≥Èó≠ÂØπËØùÊ°Ü this.dialogVisible = false; // ÈáçÊñ∞Âà∑Êñ∞Êï∞ÊçÆ this.getMenus(); // ÈªòËÆ§Â±ïÂºÄÁöÑËèúÂçï this.expandedKey = [this.category.parentCid]; }); }, 3„ÄÅË¶ÅËÄÉËôëÂà∞ÁöÑÁÇπ ‰ª•ÂèäÁªÜËäÇ Ê∑ªÂä†ÂÆåÊàêÂêéË¶ÅÊääË°®ÂçïÁöÑÊï∞ÊçÆËøõË°åÊ∏ÖÈô§ÔºåÂê¶ÂàôÁ¨¨‰∫åÊ¨°ÊâìÂºÄ‰ªªÁÑ∂‰ºöÊúâ‰∏äÊ¨°Ë°®ÂçïÊèê‰∫§Ââ©‰∏ãÁöÑÊï∞ÊçÆ this.category.name = &quot;&quot;; ‰øÆÊîπÂíåÊñ∞Â¢ûÁî®ÁöÑÊòØÂêå‰∏Ä‰∏™Ë°®ÂçïÔºåÂõ†Ê≠§Âú®ÊñπÊ≥ïÂØπËØùÊ°Ü‰∏≠ Âä®ÊÄÅÁöÑÁªëÂÆö‰∫Ü :title=&quot;title&quot; Ê†áÈ¢ò Áî®‰∫éÊòæÁ§∫ÊòØÊñ∞Â¢ûËøòÊòØ‰øÆÊîπ ‰∏Ä‰∏™Ë°®ÂçïÈÉΩÊòØ‰∏Ä‰∏™Êèê‰∫§ÊñπÊ≥ï Âõ†Ê≠§Âú®Êèê‰∫§ÊñπÊ≥ïÁöÑÊó∂ÂÄôËøõË°å‰∫ÜÂà§Êñ≠ÔºåÊ†πÊçÆÂèòÈáèËµãÂÄºÂÜ≥ÂÆöË∞ÉÁî®ÈÇ£‰∏™ÊñπÊ≥ï this.dialogType = &quot;add&quot;; this.dialogType = &quot;edit&quot;; 8.2.4 ÊãñÊãΩÂäüËÉΩ&amp;Êï∞ÊçÆÊî∂ÈõÜ&amp;ÊâπÈáèÂà†Èô§ ÊïàÊûúÊºîÁ§∫ 1„ÄÅÂâçÁ´ØÁî®ÁöÑÁªÑ‰ª∂ Tree Ê†ëÂΩ¢Êéß‰ª∂ ÂèØÊãñÊãΩËäÇÁÇπ ÈÄöËøá draggable Â±ûÊÄßÂèØËÆ©ËäÇÁÇπÂèò‰∏∫ÂèØÊãñÊãΩ„ÄÇ 1234567891011121314151617181920212223 &lt;el-tree :expand-on-click-node=&quot;false&quot; :data=&quot;menus&quot; :props=&quot;defaultProps&quot; show-checkbox node-key=&quot;catId&quot; :default-expanded-keys=&quot;expandedKey&quot; :draggable=&quot;draggable&quot; :allow-drop=&quot;allowDrop&quot; @node-drop=&quot;handleDrop&quot; ref=&quot;menuTree&quot; &gt;&lt;!-- :expand-on-click-node ÊòØÂê¶Âú®ÁÇπÂáªËäÇÁÇπÁöÑÊó∂ÂÄôÂ±ïÂºÄÊàñËÄÖÊî∂Áº©ËäÇÁÇπ ÈªòËÆ§ true ÂàôÂè™ÊúâÁÇπÁÆ≠Â§¥ÂõæÊ†áÁöÑÊó∂ÂÄôÊâç‰ºöÂ±ïÂºÄÊàñËÄÖÊî∂Áº©ËäÇÁÇπ„ÄÇshow-checkbox ËäÇÁÇπÊòØÂê¶ÂèØË¢´ÈÄâÊã©node-key ÊØè‰∏™Ê†ëËäÇÁÇπÁî®Êù•ÂÅöÂîØ‰∏ÄÊ†áËØÜÁöÑÂ±ûÊÄß default-expanded-keys ÈªòËÆ§Â±ïÂºÄËäÇÁÇπÁöÑËäÇÁÇπdraggable Ë°®Á§∫ÊòØÂê¶ÂèØ‰ª•Ë¢´ÊãñÊãΩ true&amp;falseallow-drop ÊãñÊãΩÊó∂Âà§ÂÆöÁõÆÊ†áËäÇÁÇπËÉΩÂê¶Ë¢´ÊîæÁΩÆnode-drop ÊãñÊãΩÊàêÂäüÂÆåÊàêÂá∫ÂèëÁöÑ‰∫ã‰ª∂ref ËØ•ÁªÑ‰ª∂treeÁöÑÂºïÁî®ËØ¶ÁªÜËß£ÈáäÂèÇËÄÉÂÆòÁΩë https://element.eleme.cn/#/zh-CN/component/tree--&gt; 2„ÄÅ‰∏ªË¶Å‰∏öÂä°ÈÄªËæë TODOÔºöÊöÇÊó∂‰∏çÊáÇ ÂõûÂ§¥ÂÜçÊù•Áúã allowDropÔºö ÊãñÊãΩÊó∂Âà§ÂÆöÁõÆÊ†áËäÇÁÇπËÉΩÂê¶Ë¢´ÊîæÁΩÆ„ÄÇtype ÂèÇÊï∞Êúâ‰∏âÁßçÊÉÖÂÜµÔºö'prev'„ÄÅ'inner' Âíå 'next'ÔºåÂàÜÂà´Ë°®Á§∫ÊîæÁΩÆÂú®ÁõÆÊ†áËäÇÁÇπÂâç„ÄÅÊèíÂÖ•Ëá≥ÁõÆÊ†áËäÇÁÇπÂíåÊîæÁΩÆÂú®ÁõÆÊ†áËäÇÁÇπÂêé @node-drop ÊãΩÊàêÂäüÂÆåÊàêÊó∂Ëß¶ÂèëÁöÑ‰∫ã‰ª∂ ÂÖ±Âõõ‰∏™ÂèÇÊï∞Ôºå‰æùÊ¨°‰∏∫ÔºöË¢´ÊãñÊãΩËäÇÁÇπÂØπÂ∫îÁöÑ Node„ÄÅÁªìÊùüÊãñÊãΩÊó∂ÊúÄÂêéËøõÂÖ•ÁöÑËäÇÁÇπ„ÄÅË¢´ÊãñÊãΩËäÇÁÇπÁöÑÊîæÁΩÆ‰ΩçÁΩÆÔºàbefore„ÄÅafter„ÄÅinnerÔºâ„ÄÅevent 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879808182838485allowDrop(draggingNode, dropNode, type) { // 1„ÄÅË¢´ÊãñÂä®ÁöÑÂΩìÂâçËäÇÁÇπ‰ª•ÂèäÊâÄÂú®ÁöÑÁà∂ËäÇÁÇπÊÄªÂ±ÇÊ¨°‰∏çËÉΩÂ§ß‰∫é3 // 1) Ë¢´ÊãñÂä®ËäÇÁÇπÁöÑÊÄªÂ±ÇÊï∞ console.log(&quot;allowDrop&quot;, draggingNode, dropNode, type); this.countNodeLevel(draggingNode.data); // ÂΩìÂâçÊ≠£Âú®ÊãñÂä®ÁöÑËäÇÁÇπ + Áà∂ËäÇÁÇπÊâÄÂú®ÁöÑÊ∑±Â∫¶‰∏çÂ§ß‰∫é3Âç≥ÂèØ let deep = Math.abs(this.maxLevel - draggingNode.level) + 1; console.log(&quot;Ê∑±Â∫¶&quot;, deep); if (type == &quot;inner&quot;) { return deep + dropNode.level &lt;= 3; } else { return deep + dropNode.parent.level &lt;= 3; }}, countNodeLevel(node) { // ÊâæÂà∞ÊâÄÊúâÂ≠êËäÇÁÇπÔºåÊ±ÇÂá∫ÊúÄÂ§ßÊ∑±Â∫¶ if (node.children != null &amp;&amp; node.children.length &gt; 0) { for (let i = 0; i &lt; node.children.length; i++) { if (node.children[i].catLevel &gt; this.maxLevel) { this.maxLevel = node.children[i].catLevel; } // ÈÄíÂΩíÊü•Êâæ this.countNodeLevel(node.children[i]); } } }, handleDrop(draggingNode, dropNode, dropType, ev) { console.log(&quot;handleDrop: &quot;, draggingNode, dropNode, dropType); // 1„ÄÅÂΩìÂâçËäÇÁÇπÊúÄÊñ∞ÁöÑÁà∂ËäÇÁÇπ let pCid = 0; let siblings = null; if (dropType == &quot;before&quot; || dropType == &quot;after&quot;) { pCid = dropNode.parent.data.catId == undefined ? 0 : dropNode.parent.data.catId; siblings = dropNode.parent.childNodes; } else { pCid = dropNode.data.catId; siblings = dropNode.childNodes; } // this.PCid = pCid this.pCid.push(pCid); // 2„ÄÅÂΩìÂâçÊãñÊãΩËäÇÁÇπÁöÑÊúÄÊñ∞È°∫Â∫è for (let i = 0; i &lt; siblings.length; i++) { if (siblings[i].data.catId == draggingNode.data.catId) { // Â¶ÇÊûúÈÅçÂéÜÁöÑÊòØÂΩìÂâçÊ≠£Âú®ÊãñÊãΩÁöÑËäÇÁÇπ let catLevel = draggingNode.level; if (siblings[i].level != draggingNode.level) { // ÂΩìÂâçÁªìÁÇπÁöÑÂ±ÇÁ∫ßÂèëÁîüÂèòÂåñ catLevel = siblings[i].level; // ‰øÆÊîπÂÆÉÂ≠êËäÇÁÇπÁöÑÂ±ÇÁ∫ß this.updateChildNodeLevel(siblings[i]); } // Â¶ÇÊûúÈÅçÂéÜÂΩìÂâçÊ≠£Âú®ÊãñÊãΩÁöÑËäÇÁÇπ this.updateNodes.push({ catId: siblings[i].data.catId, sort: i, parentCid: pCid }); } else { this.updateNodes.push({ catId: siblings[i].data.catId, sort: i }); } } // 3„ÄÅÂΩìÂâçÊãñÊãΩËäÇÁÇπÁöÑÊúÄÊñ∞Â±ÇÁ∫ß console.log(&quot;updateNodes&quot;, this.updateNodes); }, updateChildNodeLevel() { if (node.childNodes.length &gt; 0) { for (let i = 0; i &lt; node.childNodes.length; i++) { var cNode = node.childNodes[i].data; this.updateNodes.push({ catId: cNode.catId, catLevel: node.childNodes[i].level }); this.updateChildNodeLevel(node.childNodes[i]); } } }, 3„ÄÅÊâπÈáèÂà†Èô§ 1&lt;el-button type=&quot;danger&quot; @click=&quot;batchDelete&quot;&gt;ÊâπÈáèÂà†Èô§&lt;/el-button&gt; batchDeleteÊñπÊ≥ï 123456789101112131415161718192021222324252627282930batchDelete() { let catIds = []; let names = []; // ËøîÂõûÁõÆÂâçË¢´ÈÄâ‰∏≠ÁöÑËäÇÁÇπÊâÄÁªÑÊàêÁöÑÊï∞ÁªÑ let checkedNodes = this.$refs.menuTree.getCheckedNodes(); console.log(&quot;Ë¢´ÈÄâ‰∏≠ÁöÑÂÖÉÁ¥†&quot;, checkedNodes); for (let i = 0; i &lt; checkedNodes.length; i++) { // ÈÅçÂéÜËäÇÁÇπÊï∞ÁªÑ ÊãøÂà∞ÈúÄË¶ÅÁöÑÂÄº catIds.push(checkedNodes[i].catId); names.push(checkedNodes[i].name); } this.$confirm(`ÊòØÂê¶ÊâπÈáèÂà†Èô§„Äê${names}„ÄëËèúÂçï ? `, &quot;ÊèêÁ§∫&quot;, { confirmButtonText: &quot;Á°ÆÂÆö&quot;, cancelButtonText: &quot;ÂèñÊ∂à&quot;, type: &quot;warning&quot; }).then(() =&gt; { this.$http({ url: this.$http.adornUrl(&quot;/product/category/delete&quot;), method: &quot;post&quot;, data: this.$http.adornData(catIds, false) }).then(({ data }) =&gt; { this.$message({ message: &quot;Âà†Èô§ÊàêÂäü&quot;, type: &quot;success&quot; }); // Âà∑Êñ∞ËèúÂçï this.getMenus(); }); }); }, ÂêéÁ´ØÊé•Âè£‰πüÊòØÈÄªËæëÊâπÈáèÂà†Èô§ 1void removeMenuByIds(List&lt;Long&gt; asList); //Êé•Êî∂ÁöÑÊòØ‰∏Ä‰∏™idÊï∞ÁªÑ ÊÄªÁªìÔºö ÂâçÁ´ØÁî®Âà∞ÁöÑÁªÑ‰ª∂ Dialog ÂØπËØùÊ°Ü„ÄÅÂèØÊãñÊãΩËäÇÁÇπ„ÄÅSwitch ÂºÄÂÖ≥„ÄÅButton ÊåâÈíÆ„ÄÅTreeÁªÑ‰ª∂ÔºàÂ±ûÊÄßËæÉÂ§öÔºâ ÁªÜËäÇÁÇπÔºö Ê≤°ÂºÄÂêØÊãñÊãΩ ÂºÄÂêØÊãñÊãΩÔºö ÈÄöËøá draggable Â±ûÊÄßÂèØËÆ©ËäÇÁÇπÂèò‰∏∫ÂèØÊãñÊãΩ„ÄÇ ‰∏É„ÄÅÂïÜÂìÅÊúçÂä°&amp;ÂìÅÁâåÁÆ°ÁêÜ 9.1„ÄÅÊïàÊûúÊòæÁ§∫‰ºòÂåñ‰∏éÂø´ÈÄüÊòæÁ§∫ÂºÄÂÖ≥ vue‰ª£Á†Å 123456789101112131415 &lt;el-switch v-model=&quot;scope.row.showStatus&quot; active-color=&quot;#13ce66&quot; inactive-color=&quot;#ff4949&quot; :active-value=&quot;1&quot; :inactive-value=&quot;0&quot; @change=&quot;updateBrandStatus(scope.row)&quot; &gt; &lt;!-- scope.row ÊãøÂà∞Êï¥Ë°åÁöÑÊï∞ÊçÆactive-color switch ÊâìÂºÄÊó∂ÁöÑËÉåÊôØËâ≤inactive-color switch ÂÖ≥Èó≠Êó∂ÁöÑËÉåÊôØËâ≤active-value switch ÊâìÂºÄÊó∂ÁöÑÂÄºinactive-value switch ÂÖ≥Èó≠Êó∂ÁöÑÂÄº--&gt; ÁªÑ‰ª∂Âú∞ÂùÄÔºöhttps://element.eleme.cn/#/zh-CN/component/switch Áî®Êà∑ÁÇπÂáª switch ÂºÄÂÖ≥Â∞±‰ºöË∞ÉÁî®ÂêéÂè∞ÁöÑÊé•Âè£Êõ¥ÊîπÂØπÂ∫îÊï∞ÊçÆÂ∫ìÁöÑÂ≠óÊÆµ ( ÂÜ≥ÂÆöÊòØÂê¶ÊòæÁ§∫)ÔºåÂÆö‰πâ‰∫Ü @change ‰∫ã‰ª∂ Âè™Ë¶Å‰øÆÂêéÂ∞±‰ºöËß¶ÂèëÂØπÂ∫îÊñπÊ≥ï 123456789101112131415updateBrandStatus(data) { console.log(&quot;Êï¥Ë°åÊï∞ÊçÆ&quot;,data); // ÂçïÁã¨Â∞±Â∞ÅË£Ö‰∏§‰∏™Â≠óÊÆµ let {brandId,showStatus} = data this.$http({ url: this.$http.adornUrl('/product/brand/update'), method: 'post', data: this.$http.adornData({brandId,showStatus}, false) }).then(({ data }) =&gt; { this.$message({ type:&quot;success&quot;, message:&quot;Áä∂ÊÄÅÊõ¥Êñ∞ÊàêÂäü&quot; }) }); }, 9.2„ÄÅË°®ÂçïÊïàÈ™å&amp;Ëá™ÂÆö‰πâÊïàÈ™åËßÑÂàô Form ÁªÑ‰ª∂Êèê‰æõ‰∫ÜË°®ÂçïÈ™åËØÅÁöÑÂäüËÉΩÔºåÂè™ÈúÄË¶ÅÈÄöËøá rules Â±ûÊÄß‰º†ÂÖ•Á∫¶ÂÆöÁöÑÈ™åËØÅËßÑÂàôÔºåÂπ∂Â∞Ü Form-Item ÁöÑ prop Â±ûÊÄßËÆæÁΩÆ‰∏∫ÈúÄÊ†°È™åÁöÑÂ≠óÊÆµÂêçÂç≥ÂèØ 1234567&lt;el-form :model=&quot;dataForm&quot; :rules=&quot;dataRule&quot; ref=&quot;dataForm&quot; @keyup.enter.native=&quot;dataFormSubmit()&quot; label-width=&quot;140px&quot; &gt; data‰∏≠ Ëá™ÂÆö‰πâÁöÑËßÑÂàô ÔºåÁî®Êù•ÂØπÊï∞ÊçÆËøõË°åÂà§Êñ≠ 123456789101112131415161718192021222324dataRule: { name: [{ required: true, message: &quot;ÂìÅÁâåÂêç‰∏çËÉΩ‰∏∫Á©∫&quot;, trigger: &quot;blur&quot; }], // Ëá™ÂÆö‰πâÁöÑËßÑÂàô firstLetter: [ { validator: (rule, value, callback) =&gt; { if(value == '') { callback(new Error(&quot;È¶ñÂ≠óÊØçÂøÖÈ°ªÂ°´ÂÜô&quot;)) } else if(! /^[a-zA-Z]$/.test(value)) { callback(new Error(&quot;È¶ñÂ≠óÊØçÂøÖÈ°ªa-zÊàñËÄÖA-Z‰πãÈó¥&quot;)) } else { callback() } },trigger:'blur'} ], sort: [{ validator: (rule, value, callback) =&gt; { if(value == '') { callback(new Error(&quot;ÊéíÂ∫èÂ≠óÊÆµÂøÖÈ°ªÂ°´ÂÜô&quot;)); } else if(!Number.isInteger(value) || value &lt; 0) { callback(new Error(&quot;ÊéíÂ∫èÂøÖÈ°ªÊòØ‰∏Ä‰∏™Â§ß‰∫éÁ≠â‰∫é0ÁöÑÊï¥Êï∞&quot;)); } else { callback(); } }, trigger: &quot;blur&quot; }] } 9.3„ÄÅJSR303 Êï∞ÊçÆÊïàÈ™å &amp; Áªü‰∏ÄÂºÇÂ∏∏Â§ÑÁêÜ ÂâçÁ´ØÊï∞ÊçÆÊïàÈ™åÊàêÂäü‰∫ÜÔºåÂ∞±‰ºöÊääjsonÊï∞ÊçÆ‰º†ÈÄíÂà∞ÂêéÁ´ØÔºå‰ΩÜÊòØÊúâ‰∫∫Âà©Áî®Êé•Âè£ ÊØîÂ¶Ç postman ‰π±ÂèëÈÄÅËØ∑Ê±Ç ÈÇ£‰ºöÊÄé‰πàÂäûÔºå‰∫éÊòØÂêéÁ´Ø‰πü‰ºöÂà©Áî® JSR303ËøõË°åÊï∞ÊçÆÊïàÈ™å 9.3.1„ÄÅÁªôBeanÊ∑ªÂä†ÊïàÈ™åÊ≥®Ëß£ javax.validation.constraintsÂåÖ‰∏ã Âπ∂ÂÆö‰πâËá™Â∑±ÁöÑÁöÑmessageÊèêÁ§∫ 123@NotEmpty(messsage = &quot;logo‰∏çËÉΩ‰∏∫Á©∫&quot;)@URL(message = &quot;logoÂøÖÈ°ªÊòØ‰∏Ä‰∏™ÂêàÊ≥ïÁöÑurlÂú∞ÂùÄ&quot;)private String logo; 9.3.2„ÄÅÂºÄÂêØÊïàÈ™åÂäüËÉΩ @Valid ÊïàÊûúÔºöÊïàÈ™åÈîôËØØ‰ª•ÂêéÊúâÈªòËÆ§ÁöÑÂìçÂ∫î Controller‰ª£Á†ÅÔºö 12345@RequestMapping(&quot;/save&quot;)public R save(@Valid@RequestBody BrandEntity brand){ brandService.save(brand); return R.ok();} 9.3.3„ÄÅÁªôÊïàÈ™åÁöÑbeanÂêéÁ¥ßË∑ü‰∏Ä‰∏™BindingResult Â∞±ÂèØ‰ª•Ëé∑ÂèñÂà∞ÊïàÈ™åÁöÑÁªìÊûú 12345678910111213141516public R save(@Valid @RequestBody BrandEntity brand,BindingResult result){ if(result.hasErrors()){ Map&lt;String,String&gt; map = new HashMap&lt;&gt;(); //1„ÄÅËé∑ÂèñÊ†°È™åÁöÑÈîôËØØÁªìÊûú result.getFieldErrors().forEach((item)-&gt;{ //FieldError Ëé∑ÂèñÂà∞ÈîôËØØÊèêÁ§∫ String message = item.getDefaultMessage(); //Ëé∑ÂèñÈîôËØØÁöÑÂ±ûÊÄßÁöÑÂêçÂ≠ó String field = item.getField(); map.put(field,message); }); return R.error(400,&quot;Êèê‰∫§ÁöÑÊï∞ÊçÆ‰∏çÂêàÊ≥ï&quot;).put(&quot;data&quot;,map); }else { } 9.3.4„ÄÅÂàÜÁªÑÊïàÈ™å (Â§öÂú∫ÊôØÂ§çÊùÇÊïàÈ™å) Ê∑ªÂä†‰∏Ä‰∏™ÁªÑ &amp; ‰øÆÊîπ‰∏Ä‰∏™ÁªÑ 1„ÄÅ@NotBlank(message = &quot;ÂìÅÁâåÂêçÂøÖÈ°ªÊèê‰∫§&quot;,groups = {AddGroup.class,UpdateGroup.class}) ÁªôÊïàÈ™åÊ≥®Ëß£Ê†áÊ≥®‰ªÄ‰πàÊÉÖÂÜµÈúÄË¶ÅËøõË°åÊïàÈ™å @Validated({AddGroup.class}) Âú®ÂØπÂ∫îÊñπÊ≥ï‰∏äËøõË°åÊ†áÊ≥® ÈªòËÆ§Ê≤°ÊúâÊåáÂÆöÂàÜÁªÑÁöÑÊïàÈ™åÊ≥®Ëß£ @NotBlank Âú®ÂàÜÁªÑÊïàÈ™åÊÉÖÂÜµ@Validated({AddGroup.class})‰∏çÁîüÊïàÔºåÂè™‰ºöÂú®@ValidatedÁîüÊïà 12345// Ê†áËÆ∞‰ΩøÁî®‰øÆÊîπÂàÜÁªÑpublic R update(@Validated(UpdateGroup.class) @RequestBody BrandEntity brand){ brandService.updateById(brand); return R.ok(); } Entity 12345678910111213141516171819202122232425262728293031323334353637383940/** * ÂìÅÁâåid */@Null(message = &quot;Êñ∞Â¢û‰∏çËÉΩÊåáÂÆöId&quot;,groups = {AddGroup.class})@NotNull(message = &quot;‰øÆÊîπÂøÖÈ°ªÊåáÂÆöÂìÅÁâåid&quot;,groups = {UpdateGroup.class})@TableIdprivate Long brandId;/** * ÂìÅÁâåÂêç */@NotBlank(message = &quot;ÂìÅÁâåÂêç‰∏çËÉΩ‰∏∫Á©∫&quot;,groups = {AddGroup.class,UpdateGroup.class})private String name;/** * ÂìÅÁâålogoÂú∞ÂùÄ */@NotEmpty(groups = {AddGroup.class})@URL(message = &quot;logoÂøÖÈ°ªÊòØ‰∏Ä‰∏™ÂêàÊ≥ïÁöÑurlÂú∞ÂùÄ&quot;,groups = {AddGroup.class,UpdateGroup.class})private String logo;/** * ‰ªãÁªç */private String descript;/** * ÊòæÁ§∫Áä∂ÊÄÅ[0-‰∏çÊòæÁ§∫Ôºõ1-ÊòæÁ§∫] */@NotNull(groups = {AddGroup.class, UpdateStatusGroup.class})@ListValue(vals={0,1},groups = {AddGroup.class,UpdateStatusGroup.class})private Integer showStatus;/** * Ê£ÄÁ¥¢È¶ñÂ≠óÊØç */@NotEmpty(groups = {AddGroup.class})@Pattern(regexp = &quot;^[a-zA-Z]$&quot;,message = &quot;Ê£ÄÁ¥¢È¶ñÂ≠óÊØçÂøÖÈ°ªÊòØ‰∏Ä‰∏™Â≠óÊØç&quot;,groups = {AddGroup.class,UpdateGroup.class})private String firstLetter;/** * ÊéíÂ∫è */@NotNull(groups = {AddGroup.class})@Min(value=0,message = &quot;ÊéíÂ∫èÂøÖÈ°ªÂ§ß‰∫éÁ≠â‰∫é0&quot;,groups = {AddGroup.class,UpdateGroup.class})private Integer sort; 9.3.5„ÄÅËá™ÂÆö‰πâÊïàÈ™å ÁºñÂÜô‰∏Ä‰∏™Ëá™ÂÆö‰πâÁöÑÊïàÈ™åÊ≥®Ëß£ ÁºñÂÜô‰∏Ä‰∏™Ëá™ÂÆö‰πâÁöÑÊïàÈ™åÂô®‰ΩïËá™ÂÆö‰πâÁöÑÊïàÈ™åÊ≥®Ëß£ 12345678910111213141516@Documented@Constraint(validatedBy = {ListValueConstraintValidator.class})//„ÄêÂèØ‰ª•ÊåáÂÆöÂ§ö‰∏™‰∏çÂêåÁöÑÊïàÈ™åÂô®ÔºåÈÄÇÈÖç‰∏çÂêåÁ±ªÂûãÁöÑÊïàÈ™å„Äë@Target({ METHOD, FIELD, ANNOTATION_TYPE, CONSTRUCTOR, PARAMETER, TYPE_USE })@Retention(RUNTIME)public @interface ListValue { // ‰∏âË¶ÅÁ¥†‰∏çËÉΩ‰∏¢ String message() default &quot;{com.atguigu.gulimall.product.valid.ListValue.message}&quot;; Class&lt;?&gt;[] groups() default { }; Class&lt;? extends Payload&gt;[] payload() default { }; int[] vals() default { };} ÂÆûÁé∞Á∫¶Êùü 123456789101112131415161718192021222324public class ListValueConstraintValidator implements ConstraintValidator&lt;ListValue,Integer&gt; { private Set&lt;Integer&gt; set = new HashSet&lt;&gt;(); // ÂàùÂßãÂåñÊñπÊ≥ï @Override public void initialize(ListValue constraintAnnotation) { int[] vals = constraintAnnotation.vals(); for(int val : vals) { // Â∞ÜÁªìÊûúÊ∑ªÂä†Âà∞setÈõÜÂêà set.add(val); } } /** * Âà§Êñ≠ÊïàÈ™åÊòØÂê¶ÊàêÂäü * @param value ÈúÄË¶ÅÊïàÈ™åÁöÑÂÄº * @param context * @return */ @Override public boolean isValid(Integer value, ConstraintValidatorContext context) { // Âà§Êñ≠ÊòØÂåÖÂê´ËØ•ÂÄº return set.contains(value); }} 9.3.6„ÄÅÂºÇÂ∏∏Â§ÑÁêÜ ËøôÈáå‰ΩøÁî®Âà∞‰∫Ü SpringMVC ÁöÑÊ≥®Ëß£ @ControllerAdvice 1„ÄÅÁºñÂÜôÂºÇÂ∏∏Â§ÑÁêÜÁ±ª‰ΩøÁî®SpringMvcÁöÑ@ControllerAdvice 2„ÄÅ‰ΩøÁî®@ExceptionHandlerÊ†áËÆ∞ÊñπÊ≥ïÂèØ‰ª•Â§ÑÁêÜÂºÇÂ∏∏ 12345678910111213141516171819202122232425262728293031@Slf4j@RestControllerAdvice(basePackages = &quot;com.atguigu.gulimall.product.controller&quot;)public class GulimallExceptionControllerAdvice { /** * ÊçïËé∑ÂÆö‰πâÁöÑÂºÇÂ∏∏ * @param e * @return */ @ExceptionHandler(value = MethodArgumentNotValidException.class) public R handleVaildException(MethodArgumentNotValidException e) { log.error(&quot;Êï∞ÊçÆÊïàÈ™åÂá∫Áé∞ÈóÆÈ¢ò{},ÂºÇÂ∏∏Á±ªÂûã:{}&quot;,e.getMessage(),e.getClass()); Map&lt;String,String&gt; errorMap = new HashMap&lt;&gt;(); BindingResult bindingResult = e.getBindingResult(); bindingResult.getFieldErrors().forEach(fieldError -&gt; { errorMap.put(fieldError.getField(),fieldError.getDefaultMessage()); }); return R.error(BizCodeEnume.VAILD_EXCEPTION.getCode(),BizCodeEnume.VAILD_EXCEPTION.getMsg()).put(&quot;data&quot;,errorMap); } /** * ÂÖúÂ∫ïÂºÇÂ∏∏ * @param throwable * @return */ @ExceptionHandler(value = Throwable.class) public R handleException(Throwable throwable) { return R.error(); }} ÂºÇÂ∏∏ÈîôËØØÁ†ÅÂÆö‰πâ ÔºàÈáçÁÇπÔºâ ÂêéÁ´ØÂ∞ÜÂÆö‰πâÁöÑÈîôËØØÁ†ÅÂÜôÂÖ•Âà∞ÂºÄÂèëÊâãÂÜåÔºåÂâçÁ´ØÂá∫Áé∞ÂØπ‰∫éÁöÑÈîôËØØÔºåÂ∞±ÂèØ‰ª•ÈÄöËøáÊâãÂÜåÊü•ËØ¢Âà∞ÂØπÂ∫îÁöÑÂºÇÂ∏∏ 12345678910111213141516171819202122232425262728293031323334/*** * ÈîôËØØÁ†ÅÂíåÈîôËØØ‰ø°ÊÅØÂÆö‰πâÁ±ª * 1. ÈîôËØØÁ†ÅÂÆö‰πâËßÑÂàô‰∏∫5‰∏∫Êï∞Â≠ó * 2. Ââç‰∏§‰ΩçË°®Á§∫‰∏öÂä°Âú∫ÊôØÔºåÊúÄÂêé‰∏â‰ΩçË°®Á§∫ÈîôËØØÁ†Å„ÄÇ‰æãÂ¶ÇÔºö100001„ÄÇ10:ÈÄöÁî® 001:Á≥ªÁªüÊú™Áü•ÂºÇÂ∏∏ * 3. Áª¥Êä§ÈîôËØØÁ†ÅÂêéÈúÄË¶ÅÁª¥Êä§ÈîôËØØÊèèËø∞ÔºåÂ∞Ü‰ªñ‰ª¨ÂÆö‰πâ‰∏∫Êûö‰∏æÂΩ¢Âºè * ÈîôËØØÁ†ÅÂàóË°®Ôºö * 10: ÈÄöÁî® * 001ÔºöÂèÇÊï∞Ê†ºÂºèÊ†°È™å * 11: ÂïÜÂìÅ * 12: ËÆ¢Âçï * 13: Ë¥≠Áâ©ËΩ¶ * 14: Áâ©ÊµÅ * * */public enum BizCodeEnume { UNKNOW_EXCEPTION(10000,&quot;Á≥ªÁªüÊú™Áü•ÂºÇÂ∏∏&quot;), VAILD_EXCEPTION(10001,&quot;ÂèÇÊï∞Ê†ºÂºèÊ†°È™åÂ§±Ë¥•&quot;); private int code; private String msg; BizCodeEnume(int code,String msg){ this.code = code; this.msg = msg; } public int getCode() { return code; } public String getMsg() { return msg; }} ÂÖ´„ÄÅÂïÜÂìÅÊúçÂä°&amp;Â±ûÊÄßÂàÜÁªÑ 10.1 „ÄÅÂâçÁ´ØÁªÑ‰ª∂ÊäΩÂèñ &amp; Áà∂Â≠êÁªÑ‰ª∂‰∫§‰∫í 10.1.1 Â±ûÊÄßÂàÜÁªÑ - ÊïàÊûú Â∑¶ËæπËøô‰∏™Ê†ëÂΩ¢Á©∫Èó¥Êàë‰ª¨Â∑≤ÁªèÂÜôËøá‰∫ÜÔºåÂú®‰∏âÁ∫ßÂàÜÁ±ªÁöÑÊó∂ÂÄôÁºñÂÜôËøáÔºåÁõ∏ÂØπÂ∫îÁöÑÂäüËÉΩÔºåÊãñÊãΩÔºåÊ∑ªÂä†ÔºåÂà†Èô§Á≠âÁ≠âÈÉΩÂ∑≤ÁªèÂÆûÁé∞ÔºåÈÇ£Êàë‰ª¨‰∏∫‰ªÄ‰πà‰∏çÊää‰ªñÊäΩÂèñÂá∫‰∏Ä‰∏™ÂÖ¨ÂÖ±ÁöÑÁªÑ‰ª∂‰æø‰∫éÂÖ∂‰ªñÁªÑ‰ª∂Âà©Áî®Ôºü ËØ¥Âπ≤Â∞±Âπ≤ÔºÅ Âú® modules ‰∏≠Êñ∞Âª∫ common Êñá‰ª∂Â§πÔºåÂú®common‰∏≠ Êñ∞Âª∫ category.vue category.vue Ê†∏ÂøÉ‰ª£Á†Å ÊäΩÂèñÈúÄË¶ÅÁöÑÁªìÊûúÔºåÂ§ö‰ΩôÁöÑÁªìÊûúËøõË°åÂà†Èô§ 1234&lt;template&gt; &lt;el-tree :data=&quot;menus&quot; :props=&quot;defaultProps&quot; node-key=&quot;catId&quot; ref=&quot;menuTree&quot; @node-click=&quot;nodeClick&quot;&gt; &lt;/el-tree&gt;&lt;/template&gt; 10.1.2 Layout Â∏ÉÂ±Ä ÈÄöËøáÂü∫Á°ÄÁöÑ 24 ÂàÜÊ†èÔºåËøÖÈÄüÁÆÄ‰æøÂú∞ÂàõÂª∫Â∏ÉÂ±Ä„ÄÅÁ±ª‰ºº‰πãÂâçÂ≠¶ËøáÁöÑbootstrap 1234&lt;el-row :gutter=&quot;20&quot;&gt; &lt;el-col :span=&quot;6&quot;&gt;Ë°®Ê†º&lt;/el-col&gt; &lt;el-col :span=&quot;18&quot;&gt;ËèúÂçï&lt;/el-col&gt;&lt;/el-row&gt; Â∑¶ËæπÊîæË°®Ê†ºÔºåÂè≥ËæπÊîæËèúÂçï ÂºïÂÖ• category ÁªÑ‰ª∂ 1import category from &quot;../common/category&quot;; Âπ∂‰∏îÂ£∞Êòé 1234//importÂºïÂÖ•ÁöÑÁªÑ‰ª∂ÈúÄË¶ÅÊ≥®ÂÖ•Âà∞ÂØπË±°‰∏≠ÊâçËÉΩ‰ΩøÁî® components: { category }, ÊúÄÂêéÂú®ÁªÑ‰ª∂‰∏≠‰ΩøÁî® 1234&lt;el-col :span=&quot;6&quot;&gt; &lt;!-- Áõ¥Êé•‰ΩøÁî®--&gt; &lt;category @tree-node-click=&quot;treenodeclick&quot;&gt;&lt;/category&gt; &lt;/el-col&gt; Âè≥ËæπËèúÂçï‰ΩøÁî®‰ª£Á†ÅÁîüÊàêÂô®ÁöÑ‰ª£Á†ÅÁõ¥Êé•ÂºïÂÖ•Âç≥ÂèØ 10.1.3 Áà∂Â≠êÁªÑ‰ª∂Â¶Ç‰ΩïËøõË°å‰∫§‰∫í Â≠êÁªÑ‰ª∂‰∏≠ÁöÑ Tree ÁªÑ‰ª∂ÁöÑ‰∏Ä‰∏™‰∫ã‰ª∂ node-click ËäÇÁÇπË¢´ÁÇπÂáªÊó∂ÁöÑÂõûË∞É 12 // ÂêëÁà∂ÁªÑ‰ª∂ÂèëÈÄÅ‰∫ã‰ª∂ÔºåÂêéÈù¢ÊòØÈúÄË¶Å‰º†ÈÄíÁöÑÂØπË±°ÔºåÂèÇÊï∞Á≠âthis.$emit(&quot;tree-node-click&quot;,data,node,component) Áà∂ÁªÑ‰ª∂ÈúÄË¶ÅÂÆö‰πâÁõ∏ÂêåÊñπÊ≥ïÊé•Êî∂ 12&lt;category @tree-node-click=&quot;treenodeclick&quot;&gt;&lt;/category&gt; 123456789// ÊÑüÁü•Âà∞ËäÇÁÇπË¢´ÁÇπÂáª treenodeclick(node, data, component) { console.log(&quot;attrgroupÊÑüÁü•Âà∞categoryËäÇÁÇπË¢´ÁÇπÂáª&quot;); console.log(&quot;ÂàöÊâçË¢´ÁÇπÂáªÁöÑËèúÂçïid:&quot; + data.catId); if (node.level == 3) { this.catId = data.catId; this.getDataList(); } }, 10.2 „ÄÅËé∑ÂèñÂ±ûÊÄßÂàÜÁ±ªÂàÜÁªÑ Êü•ÁúãÊèê‰æõÁöÑÊé•Âè£ÊñáÊ°£ ËØ∑Ê±ÇÂèÇÊï∞ÈúÄË¶ÅÊàë‰ª¨Â∏¶ÂØπÂ∫îÁöÑÂàÜÈ°µÂèÇÊï∞ÔºåÊâÄ‰ª•Êàë‰ª¨Âú®ËØ∑Ê±ÇÁöÑÊó∂ÂÄôÂæóÊääÂèÇÊï∞Â∏¶‰∏ä ÈÇ£Â∞±ÂÆö‰πâÊé•Âè£ go 1234567/** * * @param params ÂàÜÈ°µËØ∑Ê±ÇÁõ∏ÂÖ≥ÂèÇÊï∞ * @param catelogId ‰∏âÁ∫ßÂàÜÁ±ªid * @return */PageUtils queryPage(Map&lt;String, Object&gt; params, Long catelogId); ÂÆûÁé∞Á±ª 123456789101112131415161718192021222324252627@Overridepublic PageUtils queryPage(Map&lt;String, Object&gt; params, Long catelogId) { // ÂàÜÁ±ªid Á≠â‰∫é01 Êü•ËØ¢ÂÖ®ÈÉ® if (catelogId == 0) { IPage&lt;AttrGroupEntity&gt; page = this.page(new Query&lt;AttrGroupEntity&gt;().getPage(params), new QueryWrapper&lt;AttrGroupEntity&gt;()); return new PageUtils(page); } else { // ÊãøÂà∞ÂèÇÊï∞‰∏≠ÁöÑ key String key = (String) params.get(&quot;key&quot;); // ÂÖàÊ†πÊçÆÂàÜÁ±ªidËøõË°åÊü•ËØ¢ QueryWrapper&lt;AttrGroupEntity&gt; wrapper = new QueryWrapper&lt;AttrGroupEntity&gt;() .eq(&quot;catelog_id&quot;,catelogId); // selecet * from attrgroup where catelog_id = ? and (attr_group_id = key or like attr_group_name = key) // ÊúâÊó∂ÂÄôÊü•ËØ¢‰πü‰∏ç‰ºöÂ∏¶‰∏äkey ÊâÄ‰ª•ÂæóÂà§Êñ≠ if (!StringUtils.isEmpty(key)) { // whereÊù°‰ª∂ÂêéÂä†‰∏ä and wrapper.and((obj) -&gt; { obj.eq(&quot;attr_group_id&quot;,key).or().like(&quot;attr_group_name&quot;,key); }); } // ÁªÑË£ÖÊù°‰ª∂ËøõË°åÊü•ËØ¢ IPage&lt;AttrGroupEntity&gt; page = this.page(new Query&lt;AttrGroupEntity&gt;().getPage(params), wrapper); return new PageUtils(page); }} 10.3 „ÄÅÂàÜÁ±ªÊñ∞Â¢û &amp; Á∫ßËÅîÈÄâÊã©Âô® Á∫ßËÅîÈÄâÊã©Âô®ÊòØÂï•ÔºüÔºü Ê≤°Êé•Ëß¶Ëøá ÂÆòÊñπËß£Èáä Cascader Á∫ßËÅîÈÄâÊã©Âô® ÂΩì‰∏Ä‰∏™Êï∞ÊçÆÈõÜÂêàÊúâÊ∏ÖÊô∞ÁöÑÂ±ÇÁ∫ßÁªìÊûÑÊó∂ÔºåÂèØÈÄöËøáÁ∫ßËÅîÈÄâÊã©Âô®ÈÄêÁ∫ßÊü•ÁúãÂπ∂ÈÄâÊã©„ÄÇ ÂØπÂ∫îÊïàÊûú attrgroup-add-or-update.vue ‰∏≠ Âä†ÂÖ•ËØ•ÁªÑ‰ª∂ 12345678910111213 &lt;el-cascader v-model=&quot;dataForm.catelogPath&quot; placeholder=&quot;ËØïËØïÊêúÁ¥¢ÔºöÊâãÊú∫&quot; :options=&quot;categorys&quot; :props=&quot;props&quot; filterable &gt;&lt;/el-cascader&gt;&lt;!--placeholder=&quot;ËØïËØïÊêúÁ¥¢ÔºöÊâãÊú∫&quot;ÈªòËÆ§ÁöÑÊêúÁ¥¢ÊèêÁ§∫:options=&quot;categorys&quot; ÂèØÈÄâÈ°πÊï∞ÊçÆÊ∫êÔºåÈîÆÂêçÂèØÈÄöËøá Props Â±ûÊÄßÈÖçÁΩÆ:props=&quot;props&quot; ÈÖçÁΩÆÈÄâÈ°π filterable ÊòØÂê¶ÂèØÊêúÁ¥¢ÈÄâÈ°π--&gt; ÈÇ£‰πàÈóÆÈ¢òÊù•‰∫ÜÔºü ÊàëÊÄéÊ†∑ÊääÊï∞ÊçÆÂä†ËΩΩÂà∞Ëøô‰∏™ÁªÑ‰ª∂ÈáåÈù¢Ôºü Âú®‰Ω†ÁªÑ‰ª∂Âä†ËΩΩÂÆåÊàêÂêéÔºåÊàëÂú®Ë∞ÉÁî®ÊñπÊ≥ï ( getCategorys() ) Ëé∑ÂèñËèúÂçïÊï∞ÊçÆÔºåÂú®ËÆæÁΩÆÂà∞options‰∏çÂ∞±Ë°å‰∫ÜÂêóÔºü 12345678getCategorys(){ this.$http({ url: this.$http.adornUrl(&quot;/product/category/list/tree&quot;), method: &quot;get&quot; }).then(({ data }) =&gt; { this.categorys = data.data; }); }, 10.4 „ÄÅÂàÜÁ±ª‰øÆÊîπ &amp; ÂõûÊòæÁ∫ßËÅîÈÄâÊã©Âô® ‰øÆÊîπÂíåÊñ∞Â¢ûÁî®ÁöÑÊòØ‰∏Ä‰∏™Ê∑ªÂä†ÁªÑ‰ª∂ ÈÇ£‰πàÊàë‰ª¨ÂÜçÁÇπÂáª‰øÆÊîπÂêéÔºå‰Ω†Â¶Ç‰ΩïÊää Á∫ßËÅîÊòæÁ§∫ÁöÑÊï∞ÊçÆÂÜçÊ¨°ÊòæÁ§∫Âá∫Êù•Ôºü Âú® AttrGroupÁÇπÂáª‰øÆÊîπÂêéÔºå‰ºöËß¶ÂèëaddOrUpdateHandleÊñπÊ≥ïÔºå‰ªñ‰ºöÈÄöËøáÂºïÁî® vue Êñá‰ª∂ÈáåÁöÑ addOrUpdate Âπ∂Ë∞ÉÁî®‰ªñÁöÑ initÂàùÂßãÂåñÊñπÊ≥ï 12345678910// Êñ∞Â¢û / ‰øÆÊîπ addOrUpdateHandle(id) { // ÂØπËØùÊ°ÜÊòæÁ§∫ this.addOrUpdateVisible = true; // Ë¶ÅÊ∏≤ÊüìÁöÑÁªÑ‰ª∂ÂÆåÊàêÈÄâÁÑ∂Âêé Ë∞ÉÁî®ËØ•ÊñπÊ≥ï this.$nextTick(() =&gt; { // this ÂΩìÂâç refs ÂΩìÂâçÊâÄÊúâÁªÑ‰ª∂ this.$refs.addOrUpdate.init(id); }); }, initÊâßË°åÂÆåÊàê‰ºöÂõûË∞É 1234567891011.then(({ data }) =&gt; { if (data &amp;&amp; data.code === 0) { this.dataForm.attrGroupName = data.attrGroup.attrGroupName; this.dataForm.sort = data.attrGroup.sort; this.dataForm.descript = data.attrGroup.descript; this.dataForm.icon = data.attrGroup.icon; this.dataForm.catelogId = data.attrGroup.catelogId; // ËÆæÁΩÆ Á∫ßËÅîÁöÑË∑ØÂæÑ ‰ªéÊï∞ÊçÆ‰∏≠Âèñ this.dataForm.catelogPath = data.attrGroup.catelogPath; } }); ÂêéÁ´ØÂ¶Ç‰ΩïÊ†πÊçÆÂàÜÁªÑid Êü•ËØ¢Âá∫ ÂØπÂ∫îÁöÑÂàÜÁ±ªÔºüÂÆö‰πâÊé•Âè£ 123456/** * ÊâæÂà∞catelogIdÁöÑÂÆåÊï¥Ë∑ØÂæÑ * „ÄêÁà∂/Â≠ê/Â≠ô„Äë * @param catelogId */Long[] findCatelogPath(Long catelogId); ÂÆûÁé∞ 12345678910111213141516171819202122232425262728@Overridepublic Long[] findCatelogPath(Long catelogId) { List&lt;Long&gt; paths = new ArrayList&lt;&gt;(); List&lt;Long&gt; parentPath = findParentPath(catelogId, paths); // ÂèçËΩ¨ Collections.reverse(parentPath); //ËΩ¨ÊàêLong[] Êï∞ÁªÑËøîÂõû return parentPath.toArray(new Long[parentPath.size()]);}/** * ÈÄíÂΩíÊü•Êâæ * @param catelogId ‰∏âÁ∫ßÂàÜÁ±ªÁöÑid * @param paths Ë∑ØÂæÑ * @return */private List&lt;Long&gt; findParentPath(Long catelogId,List&lt;Long&gt; paths) { // 1„ÄÅÊî∂ÈõÜÂΩìÂâçËäÇÁÇπid paths.add(catelogId); // 2„ÄÅÈÄöËøáÂàÜÁ±ªidÊãøÂà∞ Category ÂØπË±° CategoryEntity byId = this.getById(catelogId); // 3„ÄÅÂ¶ÇÊûú‰∏çÊòØÊ†πËäÇÁÇπ Â∞±‰∏ÄÁõ¥ÈÄíÂΩí‰∏ãÂéªÊü•Êâæ if (byId.getParentCid() != 0) { findParentPath(byId.getParentCid(),paths); } return paths;} Âú® AttrGroupEntity ‰∏≠ Ê∑ªÂä†‰∫Ü‰∏Ä‰∏™Êñ∞Â±ûÊÄß 12345/** * Áî®‰∫éÂ≠òÊîæ Á∫ßËÅîÊòæÁ§∫ÁöÑ Áà∂Â≠êÂ≠ôÁöÑÂú∞ÂùÄ */@TableField(exist = false) // Ê†áÊ≥®‰∏∫false Ë°®ÊòØ‰∏çÊòØÊï∞ÊçÆÂ∫ìÂ≠óÊÆµprivate Long[] catelogPath; Controller ÂÖ∑‰ΩìËÆæÁΩÆËøîÂõûÊï∞ÊçÆ 123456789101112131415/** * ‰ø°ÊÅØ */ @RequestMapping(&quot;/info/{attrGroupId}&quot;) public R info(@PathVariable(&quot;attrGroupId&quot;) Long attrGroupId){ // Ê†πÊçÆidÊü•ËØ¢Âá∫ ÂàÜÁªÑgroupÂØπË±°AttrGroupEntity attrGroup = attrGroupService.getById(attrGroupId);// ÊãøÂà∞ÂàÜÁ±ªid Long catelogId = attrGroup.getCatelogId(); // Ê†πÊçÆÂàÜÁ±ªidÊü•ËØ¢Âá∫ ‰ªñÁöÑ Áà∂ Â≠ê Â≠ô ÂØπÂ∫îÁöÑÊï∞ÊçÆ,Âπ∂‰∏îËÆæÁΩÆÂà∞ attrGroupÂØπË±° Long[] catelogPath = categoryService.findCatelogPath(catelogId); attrGroup.setCatelogPath(catelogPath); return R.ok().put(&quot;attrGroup&quot;, attrGroup); } 10.5„ÄÅÂìÅÁâåÂàÜÁ±ªÂÖ≥ËÅî‰∏éÁ∫ßËÅîÊõ¥Êñ∞ 10.5.1„ÄÅÂÆûÁé∞ÂìÅÁâåÁÆ°ÁêÜÊêúÁ¥¢ Âú®ÂéüÊú¨Êü•ËØ¢‰∏≠Âä†ÂÖ•Êñ∞ÂäüËÉΩ 12345678910111213141516@Override public PageUtils queryPage(Map&lt;String, Object&gt; params) { // 1„ÄÅËé∑Âèñkey String key = (String) params.get(&quot;key&quot;); QueryWrapper&lt;BrandEntity&gt; wrapper = new QueryWrapper&lt;&gt;(); // key‰∏ç‰∏∫Á©∫ brand_id Âíå name ËøõË°åÂÄºÂåπÈÖç if (!StringUtils.isEmpty(key)) { wrapper.eq(&quot;brand_id&quot;,key).or().like(&quot;name&quot;,key); } IPage&lt;BrandEntity&gt; page = this.page( new Query&lt;BrandEntity&gt;().getPage(params), wrapper ); return new PageUtils(page); } Êàë‰ª¨ÊòØÁõ¥Êé•ÊääÊï∞ÊçÆË°®Â≠òËøõ‰∫Ü‰∏≠Èó¥Ë°®,Â¶ÇÊûúÂú®ÁúüÊ≠£ÁöÑÂìÅÁâåÂêçÂíåÂàÜÁ±ªÂêçËøõË°å‰∫Ü‰øÆÊîπÔºåÈÇ£‰πàÊ≠§Êó∂‰∏≠Èó¥Ë°®ÁöÑÊï∞ÊçÆÂ∞±ÊòØ‰∏çÂØπÁöÑÔºåËøôÊó∂ÂÄôÊï∞ÊçÆÂ∞±‰∏çÊòØ‰∏ÄËá¥ÊÄß Ëß£ÂÜ≥ Âú®ËøõË°å‰øÆÊîπÁöÑÊó∂ÂÄôÔºå‰πüË¶ÅÊää‰∏≠Èó¥Ë°®ÁöÑÊï∞ÊçÆËøõË°åÊõ¥Êîπ Brand 1234567891011121314151617181920212223242526272829303132// BrandController /** /** * ‰øÆÊîπ */ @RequestMapping(&quot;/update&quot;) public R update(@Validated(UpdateGroup.class) @RequestBody BrandEntity brand){ brandService.updateDetail(brand); return R.ok(); }// Service@Overridepublic void updateDetail(BrandEntity brand) { // ‰øùËØÅÂ≠óÊÆµ‰∏ÄËá¥ // Ê†πÊçÆidÊõ¥Êîπ this.updateById(brand); if (!StringUtils.isEmpty(brand.getName())) { // ÂêåÊ≠•Êõ¥Êñ∞ÂÖ∂‰ªñÂÖ≥ËÅîË°®‰∏≠ÁöÑÊï∞ÊçÆ categoryBrandRelationService.updateBrand(brand.getBrandId(),brand.getName()); // TODO Êõ¥Êñ∞ÂÖ∂‰ªñÂÖ≥ËÅî }}// ServiceÂÆûÁé∞Á±ª @Override public void updateBrand(Long brandId, String name) { CategoryBrandRelationEntity relationEntity = new CategoryBrandRelationEntity(); relationEntity.setBrandName(name); relationEntity.setBrandId(brandId); this.update(relationEntity,new UpdateWrapper&lt;CategoryBrandRelationEntity&gt;().eq(&quot;brand_id&quot;,brandId)); } Category 12345678910111213@Overridepublic void updateCascate(CategoryEntity category) { this.updateById(category); categoryBrandRelationService.updateCategory(category.getCatId(),category.getName());}// Service @Override public void updateCascate(CategoryEntity category) { // Êõ¥Êñ∞Ëá™Â∑±Ë°®ÂØπË±° this.updateById(category); // Êõ¥Êñ∞ÂÖ≥ËÅîË°®ÂØπË±° categoryBrandRelationService.updateCategory(category.getCatId(),category.getName()); } ‰πù„ÄÅÂïÜÂìÅÊúçÂä°&amp;Âπ≥Âè∞Â±ûÊÄß ObjectÂàíÂàÜ 1„ÄÅPO (persistant object) ÊåÅ‰πÖÂåñÂØπË±° po Â∞±ÊòØÂØπÂ∫îÊï∞ÊçÆÂ∫ì‰∏≠Êüê‰∏Ä‰∏™Ë°®ÁöÑ‰∏ÄÊù°ËÆ∞ÂΩïÔºåÂ§ö‰∏™ËÆ∞ÂΩïÂèØ‰ª•Áî® PO ÁöÑÈõÜÂêàÔºåPO ‰∏≠Â∫îËØ•‰∏çÂåÖÂê´‰ªª‰ΩïÂØπÊï∞ÊçÆÂ∫ìÂà∞Êìç‰Ωú 2„ÄÅDO ( Domain Object) È¢ÜÂüüÂØπË±° Â∞±ÊòØ‰ªéÁé∞ÂÆû‰∏ñÁïåÊäΩË±°Âá∫Êù•ÁöÑÊúâÂΩ¢ÊàñÊó†ÂΩ¢ÁöÑ‰∏öÂä°ÂÆû‰Ωì 3„ÄÅTO (Transfer Object) Êï∞ÊçÆ‰º†ËæìÂØπË±° ‰∏çÂêåÁöÑÂ∫îÁî®Á®ãÂ∫è‰πãÈó¥‰º†ËæìÁöÑÂØπË±° 4„ÄÅDTO (Data Transfer Object) Êï∞ÊçÆ‰º†ËæìÂØπË±° Ëøô‰∏™Ê¶ÇÂøµÊù•Ê∫ê‰∫é J2EE ÁöÑËÆæËÆ°Ê®°ÂºèÔºåÂéüÊù•ÁöÑÁõÆÁöÑÊòØ‰∏∫‰∫Ü EJBÁöÑÂàÜÂ∏ÉÂºèÂ∫îÁî®Êèê‰æõÁ≤óÁ≤íÂ∫¶ÁöÑÊï∞ÊçÆÂÆû‰ΩìÔºå‰ª•ÂáèÂ∞ëÂàÜÂ∏ÉÂºèË∞ÉÁî®ÁöÑÊ¨°Êï∞Ôºå‰ªéËÄåÊèêÈ´òÂàÜÊï∞Ë∞ÉÁî®ÁöÑÊÄßËÉΩÂíåÈôç‰ΩéÁΩëÁªúË¥üËΩΩÔºå‰ΩÜÂú®ËøôÈáåÔºåÊ≥õÊåáÁî®‰∫éÂ±ïÁ§∫Â±Ç‰∏éÊúçÂä°Â±Ç‰πãÈó¥ÁöÑÊï∞ÊçÆ‰º†ËæìÂØπË±° 5„ÄÅVO(value object) ÂÄºÂØπË±° ÈÄöÂ∏∏Áî®‰∫é‰∏öÂä°Â±Ç‰πãÈó¥ÁöÑÊï∞ÊçÆ‰º†ÈÄíÔºåÂíå PO ‰∏ÄÊ†∑‰πüÊòØ‰ªÖ‰ªÖÂåÖÂê´Êï∞ÊçÆËÄåÂ∑≤Ôºå‰ΩÜÂ∫îÊòØÊäΩË±°Âá∫ÁöÑ‰∏öÂä°ÂØπË±°ÔºåÂèØ‰ª•ÂíåË°®ÂØπÂ∫îÔºå‰πüÂèØ‰ª•‰∏çÔºåËøôÊ†πÊçÆ‰∏öÂä°ÁöÑÈúÄË¶ÅÔºåÁî® new ÂÖ≥ÈîÆÂ≠óÂàõÂª∫ÔºåÁî± GC ÂõûÊî∂ view Object ËØïÂõæÂØπË±° Êé•ÂèóÈ°µÈù¢‰º†ÈÄíÊù•ÁöÑÊï∞ÊçÆÔºåÂ∞ÅË£ÖÂØπË±°ÔºåÂ∞ÅË£ÖÈ°µÈù¢ÈúÄË¶ÅÁî®ÁöÑÊï∞ÊçÆ 6„ÄÅBO(business object) ‰∏öÂä°ÂØπË±° ‰ªé‰∏öÂä°Ê®°ÂûãÁöÑËßíÂ∫¶ÁúãÔºåËßÅ UML Âéü‰ª∂È¢ÜÂüüÊ®°Âûã‰∏≠ÁöÑÈ¢ÜÂüüÂØπË±°ÔºåÂ∞ÅË£Ö‰∏öÂä°ÈÄªËæëÁöÑÔºå java ÂØπË±°ÔºåÈÄöËøáË∞ÉÁî® DAO ÊñπÊ≥ïÔºåÁªìÂêà PO VO,ËøõË°å‰∏öÂä°Êìç‰ΩúÔºåbusiness object ‰∏öÂä°ÂØπË±°Ôºå‰∏ªË¶Å‰ΩúÁî®ÊòØÊää‰∏öÂä°ÈÄªËæëÂ∞ÅË£ÖÊàê‰∏Ä‰∏™ÂØπË±°ÔºåËøô‰∏™ÂØπË±°ÂåÖÊã¨‰∏Ä‰∏™ÊàñÂ§ö‰∏™ÂØπË±°ÔºåÊØîÂ¶Ç‰∏Ä‰∏™ÁÆÄÂéÜÔºåÊúâÊïôËÇ≤ÁªèÂéÜÔºåÂ∑•‰ΩúÁªèÂéÜÔºåÁ§æ‰ºöÂÖ≥Á≥ªÁ≠âÁ≠âÔºåÊàë‰ª¨ÂèØ‰ª•ÊääÊïôËÇ≤ÁªèÂéÜÂØπÂ∫î‰∏Ä‰∏™ PO „ÄÅÂ∑•‰ΩúÁªèÈ™åÂØπÂ∫î‰∏Ä‰∏™ PO„ÄÅ Á§æ‰ºöÂÖ≥Á≥ªÂØπÂ∫î‰∏Ä‰∏™ PO, Âª∫Á´ã‰∏Ä‰∏™ÂØπÂ∫îÁÆÄÂéÜÁöÑÁöÑ BO ÂØπË±°Â§ÑÁêÜÁÆÄÂéÜÔºåÊØè ‰∏™ BO ÂåÖÂê´Ëøô‰∫õ PO ,ËøôÊ†∑Â§ÑÁêÜ‰∏öÂä°ÈÄªËæëÊó∂ÔºåÊàë‰ª¨Â∞±ÂèØ‰ª•ÈíàÂØπ BO ÂéªÂ§ÑÁêÜ 7„ÄÅPOJO ( plain ordinary java object) ÁÆÄÂçïÊó†ËßÑÂàô java ÂØπË±° ‰º†ÁªüÊÑè‰πâÁöÑ java ÂØπË±°ÔºåÂ∞±ÊòØËØ¥‰∏Ä‰∫õ Object/Relation Mapping Â∑•ÂÖ∑‰∏≠ÔºåËÉΩÂ§üÂÅöÂà∞Áª¥Êä§Êï∞ÊçÆÂ∫ìË°®ËÆ∞ÂΩïÁöÑ persisent object ÂÆåÂÖ®ÊòØ‰∏Ä‰∏™Á¨¶Âêà Java Bean ËßÑËåÉÁöÑ Á∫Ø java ÂØπË±°ÔºåÊ≤°ÊúâÂ¢ûÂä†Âà´ÁöÑÂ±ûÊÄßÂíåÊñπÊ≥ïÔºåÊàë‰ª¨ÁöÑÁêÜËß£Â∞±ÊòØÊúÄÂü∫Êú¨ÁöÑ Java bean Âè™ÊúâÂ±ûÊÄßÂ≠óÊÆµ setter Âíå getter ÊñπÊ≥ï POJO Êó∂ÊòØ DO/DTO/BO/VO ÁöÑÁªüÁß∞ 8„ÄÅDAOÔºàdata access objectÔºâ Êï∞ÊçÆËÆøÈóÆÂØπË±° ÊòØ‰∏Ä‰∏™ sun ÁöÑ‰∏Ä‰∏™Ê†áÂáÜ j2ee ËÆæËÆ°Ê®°ÂºèÔºåËøô‰∏™Ê®°ÂºèÊúâ‰∏™Êé•Âè£Â∞±ÊòØ DAO Ôºå‰ªñË¥üÊåÅ‰πÖÂ±ÇÁöÑÊìç‰ΩúÔºå‰∏∫‰∏öÂä°Â±ÇÊèê‰æõÊé•Âè£ÔºåÊ≠§ÂØπË±°Áî®‰∫éËÆøÈóÆÊï∞ÊçÆÂ∫ìÔºåÈÄöÂ∏∏Âíå PO ÁªìÂêà‰ΩøÁî®ÔºåDAO ‰∏≠ÂåÖÂê´‰∫ÜÂêÑÁßçÊï∞ÊçÆÂ∫ìÁöÑÊìç‰ΩúÊñπÊ≥ïÔºåÈÄöËøáÂÆÉÁöÑÊñπÊ≥ïÔºåÁªìÂêà PO ÂØπÊï∞ÊçÆÂ∫ìËøõË°åÁõ∏ÂÖ≥Êìç‰ΩúÔºåÂ§πÂú®‰∏öÂä°ÈÄªËæë‰∏éÊï∞ÊçÆÂ∫ìËµÑÊ∫ê‰∏≠Èó¥ÔºåÈÖçÂêàVO Êèê‰æõÊï∞ÊçÆÂ∫ìÁöÑ CRUD ÂäüËÉΩ 11.1 ËßÑÊ†ºÂèÇÊï∞Êñ∞Â¢û‰∏éVO 11.1.1 Ëé∑ÂèñÂàÜÁ±ªËßÑÊ†ºÂèÇÊï∞ ÂÖ∑‰ΩìÈúÄÊ±ÇÔºö Êü•ËØ¢ÁöÑÊï∞ÊçÆÊ≤°ÊúâÂàÜÁ±ªÂíåÂàÜÁªÑ Â±ûÊÄßÂàÜÁ±ª Âíå ÊâÄÂ±ûÂàÜÁªÑÂ±ÖÁÑ∂Ê≤°ÊúâÊï∞ÊçÆÔºü ÂÖàÊü•ÁúãËøîÂõûÁöÑÊï∞ÊçÆ ÂèëÁé∞Ê≤°Êúâ catelogName Âíå AttrGroupName ÁöÑÊï∞ÊçÆÔºÅÔºÅ ÂéüÂõ†ÊòØ AttrEntityÊ≤°ÊúâËøô‰∏§‰∏™Â±ûÊÄß ‰ΩÜÊòØ‰ªñÂÖ≥ËÅî‰∫Ü pms_attr_attrgroup_relation Ë°® Ëøô‰∏™Ë°®ÈáåÈù¢Êúâ attr_Group_id ÈÇ£‰πàÊÄùË∑ØÊù•‰∫ÜÔºü 1„ÄÅÊàëÂÖàÁî® attr_id Âéª pms_attr_attrgroup_relation‰∏≠Êü•ËØ¢Âá∫ attr_Group_id ÁÑ∂ÂêéÈÄöËøá attr_Group_idÂéªpms_attr_group Ë°®‰∏≠Êü•ËØ¢Âá∫ ÂàÜÁªÑÁöÑÂêçÁß∞ 2„ÄÅËá™Ë∫´ attrË°®‰∏≠Êúâ catelog_id ÈÇ£ÊàëÊ†πÊçÆËøô‰∏™idÂéª categoryË°®‰∏≠Êü•ËØ¢Âà∞ ÂàÜÁ±ªÁöÑÂßìÂêç ‰∏çÂ∞±Ë°å‰∫ÜÂêóÔºü ‰∏ä‰ª£Á†Å 1234567891011121314151617181920212223242526272829303132333435363738394041424344@Overridepublic PageUtils queryBaseAttrPage(Map&lt;String, Object&gt; params, Long catelogId) { QueryWrapper&lt;AttrEntity&gt; wrapper = new QueryWrapper&lt;&gt;(); if (catelogId != 0) { wrapper.eq(&quot;catelog_id&quot;,catelogId); } String key = (String) params.get(&quot;key&quot;); if (!StringUtils.isEmpty(key)) { wrapper.and((wrapper1) -&gt; { wrapper1.eq(&quot;attr_id&quot;,key).or().like(&quot;attr_name&quot;,key); }); } IPage&lt;AttrEntity&gt; page = this.page( new Query&lt;AttrEntity&gt;().getPage(params), wrapper ); PageUtils pageUtils = new PageUtils(page); // ÊãøÂà∞ÂàÜÈ°µËÆ∞ÂΩï List&lt;AttrEntity&gt; records = page.getRecords(); List&lt;AttrRespVo&gt; respVo = records.stream().map((attrEntity) -&gt; { AttrRespVo attrRespVo = new AttrRespVo(); BeanUtils.copyProperties(attrEntity, attrRespVo); // 1„ÄÅËÆæÁΩÆÂàÜÁ±ªÂíåÂàÜÁªÑÁöÑÂêçÂ≠ó AttrAttrgroupRelationEntity attr_idEntity = relationDao.selectOne(new QueryWrapper&lt;AttrAttrgroupRelationEntity&gt;() .eq(&quot;attr_id&quot;, attrEntity.getAttrId())); if (attr_idEntity != null) { AttrGroupEntity attrGroupEntity = attrGroupDao.selectById(attr_idEntity.getAttrGroupId()); attrRespVo.setGroupName(attrGroupEntity.getAttrGroupName()); } CategoryEntity categoryEntity = categoryDao.selectById(attrEntity.getCatelogId()); if (categoryEntity != null) { attrRespVo.setCatelogName(categoryEntity.getName()); } return attrRespVo; }).collect(Collectors.toList()); pageUtils.setList(respVo); return pageUtils;} ‰ΩÜÊòØÂéüÂÖàÁöÑ AttrEntity ÂØπË±°ÈáåÈù¢‰ªªÁÑ∂Ê≤°ÊúâËøô‰∏§‰∏™Â±ûÊÄß ! ÊÄé‰πàËß£ÂÜ≥ 1„ÄÅÊàëÁõ¥Êé•Âú® AttrEntity‰∏≠Êñ∞Âª∫ÂØπÂ∫îÁöÑÂ≠óÊÆµ‰∏çÂ∞±Ë°å‰∫ÜÂêóÔºü ÁÑ∂ÂêéËÆæÁΩÆÊàê‰∏çÊòØÊï∞ÊçÆÂ∫ìÁöÑÂ≠óÊÆµ Áº∫ÁÇπÔºöËøôÊ†∑Â≠êÊòØ‰∏çÊòØÂ§™‰π±‰∫ÜÔºü 2„ÄÅÊñ∞Âª∫‰∏Ä‰∏™ VO ÊäΩÂèñÂá∫Ëøô‰∏§‰∏™Â±ûÊÄß ‰∏çÂ∞±Ë°å‰∫ÜÂêóÔºü 123456789@Datapublic class AttrRespVo extends AttrVo { /** * catelogName ÊâãÊú∫Êï∞Á†ÅÔºåÊâÄÂ±ûÂàÜÁ±ªÂêçÂ≠ó * groupName ‰∏ª‰Ωì ÊâÄÂ±ûÂàÜÁªÑÂêçÂ≠ó */ private String catelogName; private String groupName;} 11.2 ËßÑÊ†ºÂèÇÊï∞ÂàóË°®&amp;ËßÑÊ†º‰øÆÊîπ 11.2.1„ÄÅËé∑ÂèñÂàÜÁ±ªËßÑÊ†ºÂèÇÊï∞ 123456789101112131415/** * Ëé∑ÂèñÂàÜÁ±ªËßÑÊ†ºÂèÇÊï∞ attrType Âíå catelogId ÈÄöÁî® * @param params * @param catelogId * @param type sale ÈîÄÂîÆÂ±ûÊÄß base ËßÑÊ†ºÂèÇÊï∞ * @return */@GetMapping(&quot;/{attrType}/list/{catelogId}&quot;)public R baseAttrList(@RequestParam Map&lt;String,Object&gt; params ,@PathVariable(&quot;catelogId&quot;) Long catelogId, @PathVariable(&quot;attrType&quot;) String type) { PageUtils page = attrService.queryBaseAttrPage(params,catelogId,type); return R.ok().put(&quot;page&quot;,page);} ÂÆûÁé∞Á±ª 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556@Override public PageUtils queryBaseAttrPage(Map&lt;String, Object&gt; params, Long catelogId, String type) { // ÂÖàÊ†πÊçÆ attr_typeÂ≠óÊÆµËøõË°åÊü•ËØ¢ ËØ•Â≠óÊÆµË°®Á§∫ 1ÊòØÂü∫Êú¨Â±ûÊÄß 0ÊòØÈîÄÂîÆÂ±ûÊÄßÔºåÂü∫Êú¨Â±ûÊÄßÂíåÈîÄÂîÆÂ±ûÊÄßÊàë‰ª¨ÊîæÂú®‰∏ÄÂº†Ë°®ÂÜÖ QueryWrapper&lt;AttrEntity&gt; wrapper = new QueryWrapper&lt;AttrEntity&gt;() .eq(&quot;attr_type&quot;,&quot;base&quot;.equalsIgnoreCase(type)? ProductConstant.AttrEnum.ATTR_TYPE_BASE.getCode(): ProductConstant.AttrEnum.ATTR_TYPE_SALE.getCode()); // ÂàÜÁ±ªid‰∏çÁ≠â‰∫é0 ÊåâÁÖßÂàÜÁ±ªidËøõË°åÊü•ËØ¢ if (catelogId != 0) { wrapper.eq(&quot;catelog_id&quot;,catelogId); } // ÂèñÂá∫ÂèÇÊï∞ key,ËøõË°åÊù°‰ª∂Êü•ËØ¢ String key = (String) params.get(&quot;key&quot;); if (!StringUtils.isEmpty(key)) { wrapper.and((wrapper1) -&gt; { wrapper1.eq(&quot;attr_id&quot;,key).or().like(&quot;attr_name&quot;,key); }); } // Â∞ÅË£ÖÂàÜÈ°µÊï∞ÊçÆ IPage&lt;AttrEntity&gt; page = this.page( new Query&lt;AttrEntity&gt;().getPage(params), wrapper ); PageUtils pageUtils = new PageUtils(page); // ÊãøÂà∞ÂÖ®ÈÉ®ÁöÑÂàÜÈ°µËÆ∞ÂΩï List&lt;AttrEntity&gt; records = page.getRecords(); // Êü•ËØ¢ÊâÄÂ±ûÂàÜÁ±ª‰ª•ÂèäÊâÄÂ±ûÂàÜÁªÑ List&lt;AttrRespVo&gt; respVo = records.stream().map((attrEntity) -&gt; { // ÂÆû‰æãÂåñÊï∞ÊçÆ‰º†ËæìÂØπË±° Â∞Ü attrEntityÁöÑÂàÜÁ±ªÂêçÂ≠ó‰ª•ÂèäÂàÜÁªÑÂêçÂ≠ó Â§çÂà∂Âà∞ËØ•ÂØπË±° AttrRespVo attrRespVo = new AttrRespVo(); BeanUtils.copyProperties(attrEntity, attrRespVo); // ControllerÂú∞ÂùÄÂ¶ÇÊûúÊòØ Âü∫Á°Ä ÊâçËøõË°åÊü•ËØ¢ÂàÜË£Ç if(&quot;base&quot;.equalsIgnoreCase(type)){ // 1„ÄÅÊ†πÊçÆattr_id Êü•ËØ¢Âà∞ attrÂíå attrGroupÁöÑÂÖ≥Á≥ªË°® AttrAttrgroupRelationEntity attr_idEntity = relationDao.selectOne(new QueryWrapper&lt;AttrAttrgroupRelationEntity&gt;() .eq(&quot;attr_id&quot;, attrEntity.getAttrId())); //Êü•ËØ¢Âà∞ÁöÑÂÖ≥Á≥ªÂØπË±°‰ª•ÂèäÂàÜÁªÑid‰∏ç‰∏∫Á©∫ if (attr_idEntity != null &amp;&amp; attr_idEntity.getAttrGroupId()!=null) { // Ê†πÊçÆÂàÜÁªÑidÊü•ËØ¢Âà∞ÂàÜÁªÑ‰ø°ÊÅØ AttrGroupEntity attrGroupEntity = attrGroupDao.selectById(attr_idEntity.getAttrGroupId()); attrRespVo.setGroupName(attrGroupEntity.getAttrGroupName()); } } // Ê†πÊçÆattrEntityÁöÑÂàÜÁ±ªid Êü•ËØ¢Âà∞ÂàÜÁ±ªÂØπË±°Âπ∂ËÆæÁΩÆÂàÜÁ±ªÂßìÂêç CategoryEntity categoryEntity = categoryDao.selectById(attrEntity.getCatelogId()); if (categoryEntity != null) { attrRespVo.setCatelogName(categoryEntity.getName()); } return attrRespVo; }).collect(Collectors.toList()); //Â∞ÅË£ÖÂà∞ÂàÜÈ°µÂ∑•ÂÖ∑Á±ª pageUtils.setList(respVo); return pageUtils; } ÂÖàÊòØÊ†πÊçÆ catelog_idÊü•ËØ¢Âà∞AttrEntity ÂØπË±° ËØ•ÂØπË±°ÈáåÊã•Êúâ attr_id ÁÑ∂ÂêéÊ†πÊçÆattr_id Âéª pms_attr_attrgroup_relationË°®ËøõË°åÊü•ËØ¢ 11.2.2„ÄÅÊü•ËØ¢Â±ûÊÄßËØ¶ÊÉÖ Controller 123456789/** * ‰ø°ÊÅØ */ @RequestMapping(&quot;/info/{attrId}&quot;) public R info(@PathVariable(&quot;attrId&quot;) Long attrId){AttrRespVo attr = attrService.getAttrInfo(attrId); return R.ok().put(&quot;attr&quot;, attr); } Service ÂÆûÁé∞ 12345678910111213141516171819202122232425262728293031323334353637@Overridepublic AttrRespVo getAttrInfo(Long attrId) { // ÂÆû‰æãÂåñÂ∞ÅË£ÖVOÊï∞ÊçÆÂØπË±° AttrRespVo attrRespVo = new AttrRespVo(); // Ê†πÊçÆattridÊü•ËØ¢Âá∫ÂïÜÂìÅÂ±ûÊÄß AttrEntity attrEntity = this.getById(attrId); // Â∞ÜÂïÜÂìÅÂ±ûÊÄßÂØπË±°ÁöÑÂ±ûÊÄßÂ§çÂà∂Âà∞ VOÊï∞ÊçÆÂØπË±° BeanUtils.copyProperties(attrEntity, attrRespVo); // attrType == 1‰∏∫Âü∫Êú¨Á±ªÂûãÊâçËøõË°åÊü•ËØ¢ÂàÜÁªÑ‰ø°ÊÅØ if (attrEntity.getAttrType() == ProductConstant.AttrEnum.ATTR_TYPE_BASE.getCode()) { // Ê†πÊçÆ attr_id Êü•ËØ¢Âà∞ ÂïÜÂìÅÂ±ûÊÄß‰ª•ÂèäÂïÜÂìÅÂàÜÁªÑÂÖ≥Á≥ªË°® AttrAttrgroupRelationEntity relationEntity = relationDao.selectOne(new QueryWrapper&lt;AttrAttrgroupRelationEntity&gt;() .eq(&quot;attr_id&quot;, attrId)); if (relationEntity != null) { // ËÆæÁΩÆÂàÜÁªÑid attrRespVo.setAttrGroupId(relationEntity.getAttrGroupId()); // ÂàÜÁªÑ&amp;ÂïÜÂìÅ‰ø°ÊÅØÂÖ≥Á≥ªË°®ÊãøÂà∞ÂàÜÁªÑid Êü•ËØ¢Âà∞ÂàÜÁªÑÂØπË±° AttrGroupEntity attrGroupEntity = attrGroupDao.selectById(relationEntity.getAttrGroupId()); if (attrGroupEntity != null) { //‰∏ç‰∏∫Á©∫ËÆæÁΩÆÂàÜÁªÑÂßìÂêç attrRespVo.setGroupName(attrGroupEntity.getAttrGroupName()); } } } // ‰ªéÂΩìÂâçÂïÜÂìÅÂ±ûÊÄßÂØπË±°‰∏≠ÊãøÂà∞ÂàÜÁ±ªidËøõË°åËÆæÁΩÆÂàÜÁ±ª‰ø°ÊÅØ Long catelogId = attrEntity.getCatelogId(); // Ê†πÊçÆ catelogId Êü•ËØ¢Âà∞ÂàÜÁ±ª Áà∂ Â≠ê Â≠ô Ë∑ØÂæÑ Long[] catelogPath = categoryService.findCatelogPath(catelogId); attrRespVo.setCatelogPath(catelogPath); //ÊúÄÂêéÊ†πÊçÆÂàÜÁ±ªid Êü•ËØ¢Âà∞ÂàÜÁ±ªÂØπË±° Âπ∂ËøõË°åËÆæÁΩÆÂàÜÁ±ªÂßìÂêç CategoryEntity categoryEntity = categoryService.getById(catelogId); if (categoryEntity != null) { attrRespVo.setCatelogName(categoryEntity.getName()); } return attrRespVo;} ‰∏ªË¶ÅÁêÜËß£Ôºö ÂÖàÊòØÊ†πÊçÆ attrId Êü•ËØ¢Âà∞ÂïÜÂìÅÂ±ûÊÄß ÁÑ∂ÂêéÊ†πÊçÆ attrId Êü•ËØ¢Âà∞ÂàÜÁ±ªÂÖ≥Á≥ªË°® ËØ•Ë°®‰∏≠ÊúâÂàÜÁªÑid attrGroup_id ÈÄöËøáËøô‰∏™Êü•ËØ¢Âà∞ ÂàÜÁªÑÂØπË±°‰ø°ÊÅØÔºå ÔºåÂêåÊó∂Âú® ÂïÜÂìÅÂ±ûÊÄßË°®‰∏≠ÊãøÂà∞ ÂàÜÁ±ªid ÈÄöËøáÂàÜÁ±ªid Êü•ËØ¢Âà∞ Êü•ËØ¢Âà∞ÂàÜÁ±ªÂØπË±° ÂêåÊó∂Ê†πÊçÆ ÂàÜÁ±ªidÊü•ËØ¢ÂØπÂ∫îÂ±ÇÁ∫ßÂÖ≥Á≥ªÔºåÂπ∂ËÆæÁΩÆÂàÜÁ±ªÂßìÂêç 11.3.3„ÄÅÈîÄÂîÆÂ±ûÊÄß ÈîÄÂîÆÂ±ûÊÄß Âíå Âü∫Êú¨Â±ûÊÄß ÈÄöËøá‰∏Ä‰∏™Â≠óÊÆµÊù•Âå∫ÂàÜÔºåÂØπÂ∫îÁöÑ‰øÆÊîπÔºåÊü•ËØ¢ ÈÉΩÁî®ÁöÑÂêå‰∏Ä‰∏™ÊñπÊ≥ïÔºåÊâÄ‰ª•Âú®ÊñπÊ≥ïÁöÑ‰∏≠ ‰πüËøõË°å‰∫ÜÂØπÂ∫îÁöÑÂà§Êñ≠ ‰øùÂ≠ò 1234567891011121314151617@Overridepublic void saveAttr(AttrVo attr) { AttrEntity attrEntity = new AttrEntity(); BeanUtils.copyProperties(attr, attrEntity); // ‰øùÂ≠òÂü∫Êú¨Êï∞ÊçÆ this.save(attrEntity); // 2„ÄÅ‰øùÂ≠òÂÖ≥ËÅîÂÖ≥Á≥ª // Á≠â‰∫é1 ËØ¥ÊòéÂü∫Êú¨Â±ûÊÄß ÊâçËøõË°å‰øùÂ≠òÂàÜÁªÑÂÖ≥Á≥ª if (attr.getAttrType() == ProductConstant.AttrEnum.ATTR_TYPE_BASE.getCode() &amp;&amp; attr.getAttrGroupId() != null) { AttrAttrgroupRelationEntity relationEntity = new AttrAttrgroupRelationEntity(); relationEntity.setAttrGroupId(attr.getAttrGroupId()); relationEntity.setAttrId(attrEntity.getAttrId()); relationDao.insert(relationEntity); }} ‰øÆÊîπ 1234567891011121314151617181920212223242526272829303132333435@Transactional @Override public void updateAttr(AttrVo attr) { // VoÊï∞ÊçÆ‰º†ËæìÂØπË±°Â±ûÊÄßÊã∑Ë¥ùÂà∞ attrEntityÂØπË±° AttrEntity attrEntity = new AttrEntity(); BeanUtils.copyProperties(attr, attrEntity); this.updateById(attrEntity); // attrType Á≠â‰∫é 1 ‰πüÂ∞±ÊòØÂü∫Êú¨Â±ûÊÄß if (attrEntity.getAttrType() == ProductConstant.AttrEnum.ATTR_TYPE_BASE.getCode()) { //1„ÄÅ‰øÆÊîπÂàÜÁªÑÂÖ≥ËÅî AttrAttrgroupRelationEntity relationEntity = new AttrAttrgroupRelationEntity(); // ËÆæÁΩÆattrid ‰ª•Âèä ÂàÜÁªÑid relationEntity.setAttrId(attr.getAttrId()); relationEntity.setAttrGroupId(attr.getAttrGroupId()); // ÂÖ≥Á≥ªË°®‰∏≠Ê†πÊçÆattr_id ËøõË°åÊõ¥Êñ∞ relationDao.update(relationEntity, new UpdateWrapper&lt;AttrAttrgroupRelationEntity&gt;(). eq(&quot;attr_id&quot;, attr.getAttrId())); // Ê†πÊçÆ attr_id ÊòØÂê¶ÂèØ‰ª•Êü•ËØ¢Âà∞ÁªìÊûú Integer count = relationDao.selectCount(new QueryWrapper&lt;AttrAttrgroupRelationEntity&gt;(). eq(&quot;attr_id&quot;, attr.getAttrId())); // Êü•ÂæóÂà∞ if (count &gt; 0) { // ËøõË°åÊõ¥Êñ∞ relationDao.update(relationEntity, new UpdateWrapper&lt;AttrAttrgroupRelationEntity&gt;(). eq(&quot;attr_id&quot;, attr.getAttrId())); } else { // Êü•‰∏çÂà∞ÊÑèÂë≥ÁùÄ Ê≤°ÊúâËØ•ËÆ∞ÂΩï ÂàôËøõË°åÊèíÂÖ• relationDao.insert(relationEntity); } } } 11.3 Êü•ËØ¢ÂàÜÁ±ªÂÖ≥ËÅîÂ±ûÊÄß&amp;Âà†Èô§ÂÖ≥ËÅî&amp;Êü•ËØ¢ÂàÜÁªÑÊú™ÂÖ≥ËÅîÂ±ûÊÄß 11.3.1„ÄÅËé∑ÂèñÂ±ûÊÄßÂàÜÁªÑÁöÑÂÖ≥ËÅîÁöÑÊâÄÊúâÂ±ûÊÄß 1234567891011/** * Ëé∑ÂèñÂ±ûÊÄßÂàÜÁªÑÁöÑÂÖ≥ËÅîÁöÑÊâÄÊúâÂ±ûÊÄß * @param attrgroupId * @return */@GetMapping(&quot;/{attrgroupId}/attr/relation&quot;)public R attrRelation(@PathVariable(&quot;attrgroupId&quot;) Long attrgroupId) { List&lt;AttrEntity&gt; entityList = attrService.getRelationAttr(attrgroupId); return R.ok().put(&quot;data&quot;, entityList);} Service ÂÆûÁé∞ 1234567891011121314151617181920212223/** * Ê†πÊçÆÂàÜÁªÑidÊü•ÊâæÂÖ≥ËÅîÁöÑÊâÄÊúâÂü∫Êú¨Â±ûÊÄß * @param attrgroupId * @return */@Overridepublic List&lt;AttrEntity&gt; getRelationAttr(Long attrgroupId) { // Ê†πÊçÆattr_group_id Êü•ËØ¢Âà∞ ÂÖ≥Á≥ªË°® List&lt;AttrAttrgroupRelationEntity&gt; entities = relationDao.selectList(new QueryWrapper&lt;AttrAttrgroupRelationEntity&gt;() .eq(&quot;attr_group_id&quot;, attrgroupId)); // ‰ªéÂÖ≥Á≥ªË°®‰∏≠ ÂèñÂà∞ Â±ûÊÄßid List&lt;Long&gt; attrIds = entities.stream().map((attr) -&gt; { return attr.getAttrId(); }).collect(Collectors.toList()); if (attrIds == null || attrIds.size() == 0) { return null; } // ÊåâÁÖßÂ±ûÊÄßidËøõË°åÊü•ËØ¢ Collection&lt;AttrEntity&gt; attrEntities = this.listByIds(attrIds); return (List&lt;AttrEntity&gt;) attrEntities;} Â∑≤Áü•ÊúâÂèÇÊï∞ attr_group_id ËøõË°åÊü•ËØ¢ ËÉΩÊü•Âà∞ attr_id,Âú®Âà©Áî® attr_id Êü•ËØ¢Âà∞ attrÁõ∏ÂÖ≥‰ø°ÊÅØ 11.3.2„ÄÅÂà†Èô§Â±ûÊÄß‰∏éÂàÜÁªÑÁöÑÂÖ≥ËÅîÂÖ≥Á≥ª 12345678910/** * Âà†Èô§Â±ûÊÄß‰∏éÂàÜÁªÑÁöÑÂÖ≥ËÅîÂÖ≥Á≥ª * @param relationVo * @return */@PostMapping(&quot;/attr/relation/delete&quot;)public R deleteRelation(@RequestBody AttrGroupRelationVo[] relationVo) { attrService.deleteRelation(relationVo); return R.ok();} Service ÂÆûÁé∞ 1234567891011121314@Override public void deleteRelation(AttrGroupRelationVo[] relationVo) { // ËΩ¨Êàê list ËøõË°åstreamÊµÅÂ§ÑÁêÜ List&lt;AttrAttrgroupRelationEntity&gt; entities = Arrays.asList(relationVo).stream().map((item) -&gt; { // Â∞Ü itemÂØπÂ∫îÂ±ûÊÄßÊã∑Ë¥ùÂà∞ relationEntityÂØπË±°‰∏≠ AttrAttrgroupRelationEntity relationEntity = new AttrAttrgroupRelationEntity(); BeanUtils.copyProperties(item, relationEntity); return relationEntity; }).collect(Collectors.toList()); // idÊâπÈáèÂà†Èô§ relationDao.deleteBatchRelation(entities); } deleteBatchRelation ÊñπÊ≥ï 1234567&lt;delete id=&quot;deleteBatchRelation&quot;&gt; DELETE FROM `pms_attr_attrgroup_relation` WHERE &lt;!- Âæ™ÁéØÈÅçÂéÜËøõË°åÂà†Èô§ ‰ΩøÁî®ÁöÑÊòØ or--&gt; &lt;foreach collection=&quot;entities&quot; item=&quot;item&quot; separator=&quot; OR &quot;&gt; ( attr_id=#{item.attrId} AND attr_group_id=#{item.attrGroupId} ) &lt;/foreach&gt;&lt;/delete&gt; 11.3.3„ÄÅÊü•ËØ¢ÂàÜÁªÑÊú™ÂÖ≥ËÅîÂ±ûÊÄß 123456@GetMapping(&quot;/{attrgroupId}/noattr/relation&quot;)public R attrNoRelation(@PathVariable(&quot;attrgroupId&quot;) Long attrgroupId, @RequestParam Map&lt;String, Object&gt; params) { PageUtils page = attrService.getNoRelationAttr(params,attrgroupId); return R.ok().put(&quot;page&quot;,page);} Service 123456789101112131415161718192021222324252627282930313233343536373839404142434445@Overridepublic PageUtils getNoRelationAttr(Map&lt;String, Object&gt; params, Long attrgroupId) { // 1„ÄÅÂΩìÂâçÂàÜÁªÑÂè™ËÉΩÂÖ≥ËÅîËá™Â∑±ÊâÄÂ±ûÂàÜÁ±ªÈáåÈù¢ÁöÑÊâÄÊúâÂ±ûÊÄß AttrGroupEntity attrGroupEntity = attrGroupDao.selectById(attrgroupId); Long catelogId = attrGroupEntity.getCatelogId(); //2„ÄÅÂΩìÂâçÂàÜÁªÑÂè™ËÉΩÂÖ≥ËÅîÂà´ÁöÑÂàÜÁªÑÊ≤°ÊúâÂºïÁî®ÁöÑÂ±ûÊÄß //2.1 ÂΩìÂâçÂàÜÁ±ª‰∏ãÁöÑ **ÂÖ∂‰ªñÂàÜÁªÑ** Ê†πÊçÆÂàÜÁ±ªidËøõË°åÊü•ËØ¢ List&lt;AttrGroupEntity&gt; group = attrGroupDao.selectList(new QueryWrapper&lt;AttrGroupEntity&gt;() .eq(&quot;catelog_id&quot;, catelogId)); // ÊãøÂà∞ÂàÜÁªÑid List&lt;Long&gt; collect = group.stream().map(item -&gt; { return item.getAttrGroupId(); }).collect(Collectors.toList()); //2.2 Ëøô‰∫õÂàÜÁªÑÂÖ≥ËÅîÁöÑÂ±ûÊÄß Ê†πÊçÆÂàÜÁªÑidÊü•ËØ¢Âá∫ÂÖ≥ËÅîË°® List&lt;AttrAttrgroupRelationEntity&gt; groupId = relationDao.selectList(new QueryWrapper&lt;AttrAttrgroupRelationEntity&gt;() .in(&quot;attr_group_id&quot;, collect)); // ÊãøÂà∞ÊâÄÊúâÁöÑÂ±ûÊÄßid List&lt;Long&gt; attrIds = groupId.stream().map((item) -&gt; { return item.getAttrId(); }).collect(Collectors.toList()); //2.3 ‰ªéÂΩìÂâçÂàÜÁ±ªÁöÑÊâÄÊúâÂ±ûÊÄß‰∏≠ÁßªÈô§Ëøô‰∫õÂ±ûÊÄß QueryWrapper&lt;AttrEntity&gt; wrapper = new QueryWrapper&lt;AttrEntity&gt;() .eq(&quot;catelog_id&quot;, catelogId) .eq(&quot;attr_type&quot;, ProductConstant.AttrEnum.ATTR_TYPE_BASE.getCode()); // attrIds Â±ûÊÄßidÊï∞ÁªÑ‰∏ç‰∏∫Á©∫ if (attrIds != null &amp;&amp; attrIds.size() &gt; 0) { // Âú®attrids Êï∞ÁªÑ‰∏≠Âæóid‰∏çÁî®ËøõË°åÊü•ËØ¢ wrapper.notIn(&quot;attr_id&quot;, attrIds); } //ÂèñÂá∫ÂèÇÊï∞ËøõË°å ÂØπÂ∫îÊù°‰ª∂Êü•ËØ¢ String key = (String) params.get(&quot;key&quot;); if (!StringUtils.isEmpty(key)) { wrapper.and((w) -&gt; { w.eq(&quot;attr_id&quot;, key).or().like(&quot;attr_name&quot;, key); }); } // Ê†πÊçÆÂàÜÈ°µÊï∞ÊçÆ ‰ª•Âèä wrapperËøõË°åÊü•ËØ¢ IPage&lt;AttrEntity&gt; page = this.page(new Query&lt;AttrEntity&gt;().getPage(params), wrapper); PageUtils pageUtils = new PageUtils(page); return pageUtils;} 11.4.4„ÄÅÊñ∞Â¢ûÂàÜÁªÑ‰∏éÂ±ûÊÄßÂÖ≥ËÅî 12345@PostMapping(&quot;/attr/relation&quot;)public R addRelation(@RequestBody List&lt;AttrGroupRelationVo&gt; attrGroupRelationVo) { attrAttrgroupRelationService.saveBatch(attrGroupRelationVo); return R.ok();} Service 12345678910@Overridepublic void saveBatch(List&lt;AttrGroupRelationVo&gt; attrGroupRelationVo) { List&lt;AttrAttrgroupRelationEntity&gt; collect = attrGroupRelationVo.stream().map((item) -&gt; { // Â§çÂà∂Â±ûÊÄß ËøîÂõû AttrAttrgroupRelationEntity relationEntity = new AttrAttrgroupRelationEntity(); BeanUtils.copyProperties(item, relationEntity); return relationEntity; }).collect(Collectors.toList()); this.saveBatch(collect);} ‰∏öÂä°‰πãÈó¥ÈúÄË¶ÅÂ§öÁßçÊµãËØï ÂêÑÁßçÂà§Êñ≠ ÂçÅ„ÄÅÂïÜÂìÅÊúçÂä°&amp;Êñ∞Â¢ûÂïÜÂìÅ 12.1 Ëé∑ÂèñÂàÜÁ±ªÂÖ≥ËÅîÁöÑÂìÅÁâå ÂâçÁ´ØÂèëÈÄÅËØ∑Ê±Ç ÂêéÁ´ØÁºñÂÜôÔºö Controller 123456789101112131415161718/** * Ëé∑ÂèñÂàÜÁ±ªÂÖ≥ËÅîÁöÑÂìÅÁâå * @param catId * @return */@GetMapping(&quot;/brands/list&quot;)public R relationBrandList(@RequestParam(value = &quot;catId&quot;,required = true) Long catId) { List&lt;BrandEntity&gt; vos = categoryBrandRelationService.getBrandCatId(catId); //ÊãøÂà∞ ÂìÅÁâåÂØπË±°Êï∞ÊçÆÂêé ‰ªé‰∏≠ÊäΩÂèñÈô§ ÂìÅÁâåÂßìÂêçÂíåid List&lt;BrandVo&gt; collect = vos.stream().map(item -&gt; { BrandVo brandVo = new BrandVo(); brandVo.setBrandId(item.getBrandId()); brandVo.setBrandName(item.getName()); return brandVo; }).collect(Collectors.toList()); return R.ok().put(&quot;data&quot;,collect);} ServiceÂÆûÁé∞ 12345678910111213@Overridepublic List&lt;BrandEntity&gt; getBrandCatId(Long catId) { // Ê†πÊçÆÂàÜÁ±ªidÊü•ËØ¢Âá∫ ÂàÜÁ±ªÂíåÂìÅÁâåÁöÑÂÖ≥Á≥ªË°® List&lt;CategoryBrandRelationEntity&gt; catelogId = categoryBrandRelationDao.selectList(new QueryWrapper&lt;CategoryBrandRelationEntity&gt;().eq(&quot;catelog_id&quot;, catId)); List&lt;BrandEntity&gt; collect = catelogId.stream().map(item -&gt; { //Ê†πÊçÆÂìÅÁâåidÊü•ËØ¢Âá∫ÂìÅÁâåÂØπË±° BrandEntity brandEntity = brandDao.selectById(item.getBrandId()); return brandEntity; }).collect(Collectors.toList()); return collect;} ÊÄªÁªìÔºö ‰∏öÂä°Êìç‰ΩúËÆæËÆ°‰∏§‰∏™Ë°® pms_brand pms_category_brand_relation ËØ∑Ê±ÇÂèÇÊï∞ÊòØ CatId LongÁ±ªÂûã ÂÖàÊ†πÊçÆ CatId Âú® pms_category_brand_relationË°®‰∏≠Êü•ËØ¢Âà∞ÂìÅÁâå Id ÊãøÂà∞ brand_id Êü•ËØ¢Âá∫ brand ÁöÑÁõ∏ÂÖ≥‰ø°ÊÅØ ÁªÑË£ÖÊàê BrandVo Âêé ËøîÂõû 12.2 Ëé∑ÂèñÂàÜÁ±ª‰∏ãÊâÄÊúâÂàÜÁªÑ‰ª•ÂèäÂ±ûÊÄß Âü∫Êú¨‰ø°ÊÅØËæìÂÖ•ÊàêÂäüÂêéÔºåÂ∞±‰ºöË∑≥ËΩ¨Âà∞ËßÑÊ†ºÂèÇÊï∞Ôºå Âπ∂Ê†πÊçÆÂàÜÁ±ªidÊü•ËØ¢Âá∫ÂØπÂ∫îÊï∞ÊçÆ Controller 12345678910/** * Ëé∑ÂèñÂàÜÁ±ª‰∏ãÊâÄÊúâÂàÜÁªÑ&amp;ÂÖ≥ËÅîÂ±ûÊÄß * @param catelogId * @return */@RequestMapping(&quot;/{catelogId}/withattr&quot;)public R getAttrGroupWithAttrs(@PathVariable(&quot;catelogId&quot;) Long catelogId) { List&lt;AttrGroupWithAttrsVo&gt; vos = attrGroupService.getAttrGroupWithAttrsByCatelogId(catelogId); return R.ok().put(&quot;data&quot;,vos);} Service ÂÆûÁé∞ 12345678910111213141516171819@Overridepublic List&lt;AttrGroupWithAttrsVo&gt; getAttrGroupWithAttrsByCatelogId(Long catelogId) { // 1„ÄÅÊ†πÊçÆÂàÜÁ±ªidÊü•ËØ¢Âá∫ Êü•ËØ¢ÂàÜÁªÑÂÖ≥Á≥ª List&lt;AttrGroupEntity&gt; attrgroupEntites = this.list(new QueryWrapper&lt;AttrGroupEntity&gt;().eq(&quot;catelog_id&quot;, catelogId)); List&lt;AttrGroupWithAttrsVo&gt; collect = attrgroupEntites.stream().map(group -&gt; { AttrGroupWithAttrsVo attrsVo = new AttrGroupWithAttrsVo(); // 2„ÄÅÂ∞ÜÂàÜÁªÑÂ±ûÊÄßÊã∑Ë¥ùÂà∞ VO‰∏≠ BeanUtils.copyProperties(group, attrsVo); // 3„ÄÅÈÄöËøáÂàÜÁªÑidÊü•ËØ¢Âá∫ ÂïÜÂìÅÂ±ûÊÄß‰ø°ÊÅØ // Ë∞ÉÁî® getRelationAttrÊñπÊ≥ïÂÖàÊ†πÊçÆ ÂàÜÁªÑidÂéª ‰∏≠Èó¥ÂÖ≥Á≥ªË°®Êü•ËØ¢Âà∞ÂïÜÂìÅÂ±ûÊÄßid ÁÑ∂ÂêéÊ†πÊçÆÂïÜÂìÅÂ±ûÊÄßidÊü•ËØ¢Âà∞ÂïÜÂìÅ‰ø°ÊÅØ List&lt;AttrEntity&gt; relationAttr = attrService.getRelationAttr(attrsVo.getAttrGroupId()); attrsVo.setAttrs(relationAttr); return attrsVo; }).collect(Collectors.toList()); return collect;} 12.3 ÂïÜÂìÅ VO ÊäΩÂèñ&amp;ÂïÜÂìÅÊñ∞Â¢û‰∏öÂä°ÊµÅÁ®ã ÂïÜÂìÅÂ±ûÊÄß„ÄÅÈîÄÂîÆÂ±ûÊÄß„ÄÅËßÑÊ†ºÂèÇÊï∞„ÄÅÂü∫Êú¨‰ø°ÊÅØÈÉΩÂ°´Â•Ω‰∫ÜÂêéÂ∞±‰ºöÁîüÊàê‰∏Ä‰∏≤ JSON Êàë‰ª¨Â∞Ü json ÊîæÂà∞ jsonËß£ÊûêÁΩëÁ´ô‰∏ä Âπ∂ÁîüÊàêÂØπÂ∫îÂæóÂÆû‰ΩìÁ±ª 12.3.4 Â∞ÅË£Ö Vo ‰∏≠ÔºåÊõ¥ÊîπÂØπÂ∫îÂæóÂ±ûÊÄß Êúâ‰∫õÂèÇ‰∏éËÆ°ÁÆóÁöÑÂ±ûÊÄß Â¶Ç int price Â∞ÜÁ±ªÂûãÊõ¥Êîπ‰∏∫ BigDecimal 12.3.5 ÂàÜÊûê‰∏öÂä°ÊµÅÁ®ã ‰∏öÂä°ÊµÅÁ®ã: 12.3.6 ‰∏ªË¶ÅÁºñÁ†ÅÔºÅ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127@Transactional@Overridepublic void saveSpuInfo(SpuSaveVo vo) { // 1„ÄÅ‰øùÂ≠òSpuÂü∫Êú¨‰ø°ÊÅØ pms_spu_info SpuInfoEntity spuInfoEntity = new SpuInfoEntity(); BeanUtils.copyProperties(vo,spuInfoEntity); spuInfoEntity.setCreateTime(new Date()); spuInfoEntity.setUpdateTime(new Date()); this.saveBaseSpuInfo(spuInfoEntity); // 2„ÄÅ‰øùÂ≠òSpuÁöÑÊèèËø∞‰ø°ÊÅØ pms_spu_info_desc List&lt;String&gt; decript = vo.getDecript(); SpuInfoDescEntity spuInfoDescEntity = new SpuInfoDescEntity(); // SpuInfoEntity‰øùÂ≠òÂà∞ÂèñÂæó spuId ËÆæÁΩÆÂà∞ Desc‰∏≠ spuInfoDescEntity.setSpuId(spuInfoEntity.getId()); // ‰ª•ÈÄóÂè∑Êù•ÊãÜÂàÜ spuInfoDescEntity.setDecript(String.join(&quot;,&quot;,decript)); spuInfoDescService.saveSpuInfoDesc(spuInfoDescEntity); // 3„ÄÅ‰øùÂ≠òSpuÁöÑÂõæÁâáÈõÜ pms_spu_images List&lt;String&gt; imageList = vo.getImages(); spuImagesService.saveImages(spuInfoEntity.getId(),imageList); // 4„ÄÅ‰øùÂ≠òspuÁöÑËßÑÊ†ºÂèÇÊï∞ pms_product_attr_value List&lt;BaseAttrs&gt; baseAttrs = vo.getBaseAttrs(); List&lt;ProductAttrValueEntity&gt; collect = baseAttrs.stream().map(attr -&gt; { // ËÆæÁΩÆ spu Â±ûÊÄßÂÄº ProductAttrValueEntity valueEntity = new ProductAttrValueEntity(); valueEntity.setAttrId(attr.getAttrId()); AttrEntity attrEntity = attrService.getById(attr.getAttrId()); valueEntity.setAttrName(attrEntity.getAttrName()); valueEntity.setSpuId(spuInfoEntity.getId()); valueEntity.setQuickShow(attr.getShowDesc()); valueEntity.setAttrValue(attr.getAttrValues()); return valueEntity; }).collect(Collectors.toList()); attrValueService.saveProductAttr(collect); // 5„ÄÅ‰øùÂ≠òSPUÁöÑÁßØÂàÜ‰ø°ÊÅØ gulimall_sms sms =&gt; sms_spu_bounds Bounds bounds = vo.getBounds(); SpuBoundTo spuBoundTo = new SpuBoundTo(); BeanUtils.copyProperties(bounds,spuBoundTo); spuBoundTo.setSpuId(spuInfoEntity.getId()); // ËøúÁ®ãÊúçÂä°Ë∞ÉÁî® R r = couponFeignService.saveSpuBounds(spuBoundTo); if (r.getCode() != 0) { log.error(&quot;ËøúÁ®ã‰øùÂ≠ò‰ºòÊÉ†‰ø°ÊÅØÂ§±Ë¥•&quot;); } // 5„ÄÅ‰øùÂ≠òÂΩìÂâçSpuÂØπÂ∫îÁöÑÊâÄÊúâSKU‰ø°ÊÅØ List&lt;Skus&gt; skus = vo.getSkus(); if (skus != null &amp;&amp; skus.size() &gt; 0) { // ÈÅçÂéÜ skus ÈõÜÂêà skus.forEach(item -&gt;{ String defaultImage = &quot;&quot;; // ÈÅçÂéÜ skus ÈõÜÂêà‰∏≠ÁöÑÂõæÁâá for (Images image : item.getImages()) { // ÈªòËÆ§ÂõæÁâáÁ≠â‰∫é 1 ËØ•ËÆ∞ÂΩïÂàôÊòØÈªòËÆ§ÂõæÁâá if (image.getDefaultImg() == 1) { defaultImage = image.getImgUrl(); } } // private String skuName; // private String price; // private String skuTitle; // private String skuSubtitle; // Âè™Êúâ‰∏äÈù¢4‰∏™Â±ûÊÄßÁõ∏Âêå SkuInfoEntity skuInfoEntity = new SkuInfoEntity(); BeanUtils.copyProperties(item,skuInfoEntity); // ÂÖ∂‰ªñÂ±ûÊÄßÈúÄË¶ÅËá™Â∑±ËµãÂÄº skuInfoEntity.setBrandId(spuInfoEntity.getBrandId()); skuInfoEntity.setCatalogId(spuInfoEntity.getCatalogId()); skuInfoEntity.setSaleCount(0L); skuInfoEntity.setSpuId(spuInfoDescEntity.getSpuId()); skuInfoEntity.setSkuDefaultImg(defaultImage); //5.1„ÄÅSKUÁöÑÂü∫Êú¨‰ø°ÊÅØ pms_sku_info skuInfoService.saveSkuInfo(skuInfoEntity); Long skuId = skuInfoEntity.getSkuId(); // ‰øùÂ≠ò sku ÂõæÁâá‰ø°ÊÅØ List&lt;SkuImagesEntity&gt; imagesEntities = item.getImages().stream().map(img -&gt; { SkuImagesEntity skuImagesEntity = new SkuImagesEntity(); skuImagesEntity.setSkuId(skuId); skuImagesEntity.setImgUrl(img.getImgUrl()); skuImagesEntity.setDefaultImg(img.getDefaultImg()); return skuImagesEntity; }).filter(entity -&gt;{ //ËøîÂõû true ÈúÄË¶Å false ËøáÊª§ return !StringUtils.isEmpty(entity.getImgUrl()); }).collect(Collectors.toList()); // TODO Ê≤°ÊúâÂõæÁâáË∑ØÂæÑÁöÑÊó†ÈúÄ‰øùÂ≠ò //5.2„ÄÅSKUÁöÑÂõæÁâá‰ø°ÊÅØ pms_sku_images skuImagesService.saveBatch(imagesEntities); List&lt;Attr&gt; attr = item.getAttr(); // ‰øùÂ≠ò sku ÈîÄÂîÆÂ±ûÊÄß List&lt;SkuSaleAttrValueEntity&gt; skuSaleAttrValueEntities = attr.stream().map(a -&gt; { SkuSaleAttrValueEntity skuSaleAttrValueEntity = new SkuSaleAttrValueEntity(); BeanUtils.copyProperties(a, skuSaleAttrValueEntity); skuSaleAttrValueEntity.setSkuId(skuId); return skuSaleAttrValueEntity; }).collect(Collectors.toList()); //5.3„ÄÅSKUÁöÑÈîÄÂîÆÂ±ûÊÄß‰ø°ÊÅØ pms_sku_sale_attr_value saleAttrValueService.saveBatch(skuSaleAttrValueEntities); //5.4„ÄÅSKUÁöÑ‰ºòÊÉ†„ÄÅÊª°ÂáèÁ≠â‰ø°ÊÅØ gulimall_sms -&gt;sms_sku_ladder \\sms_sku_full_reduction\\sms_member_price SkuReductionTo skuReductionTo = new SkuReductionTo(); BeanUtils.copyProperties(item,skuReductionTo); skuReductionTo.setSkuId(skuId); if (skuReductionTo.getFullCount() &gt; 0 || skuReductionTo.getFullPrice().compareTo(new BigDecimal(&quot;0&quot;)) == 1) { R r1 = couponFeignService.saveSkuReduction(skuReductionTo); if (r1.getCode() != 0) { log.error(&quot;ËøúÁ®ã‰øùÂ≠òsku‰ºòÊÉ†‰ø°ÊÅØÂ§±Ë¥•&quot;); } } }); }} saveImages 1234567891011121314151617@Overridepublic void saveImages(Long id, List&lt;String&gt; imageList) { if (imageList == null || imageList.size() &lt;=0) { log.error(&quot;ÂõæÁâá‰∏∫Á©∫ÔºÅÔºÅÔºÅÔºÅÔºÅÔºÅ&quot;); } else { List&lt;SpuImagesEntity&gt; collect = imageList.stream().map(img -&gt; { SpuImagesEntity entity = new SpuImagesEntity(); // ËÆæÁΩÆ‰∏ªË¶ÅÂ±ûÊÄß entity.setSpuId(id); entity.setImgUrl(img); return entity; }).collect(Collectors.toList()); this.saveBatch(collect ); }} ËøúÁ®ãÊúçÂä°Ë∞ÉÁî® ÂØπÂ∫îÊñπÊ≥ï ‰øùÂ≠ò‰∫Ü ÂïÜÂìÅÈò∂Ê¢Ø‰ª∑Ê†º„ÄÅÂïÜÂìÅÊª°Âáè‰ø°ÊÅØ„ÄÅÂïÜÂìÅ‰ºöÂëò‰ª∑Ê†º 123456789101112131415161718192021222324252627282930313233343536373839404142434445@Overridepublic void saveSkuReduction(SkuReductionTo skuReductionTo) { //5.4„ÄÅSKUÁöÑ‰ºòÊÉ†„ÄÅÊª°ÂáèÁ≠â‰ø°ÊÅØ gulimall_sms -&gt;sms_sku_ladder \\sms_sku_full_reduction\\sms_member_price //sms_sku_ladder SkuLadderEntity skuLadderEntity = new SkuLadderEntity(); skuLadderEntity.setSkuId(skuReductionTo.getSkuId()); skuLadderEntity.setFullCount(skuReductionTo.getFullCount()); skuLadderEntity.setAddOther(skuReductionTo.getCountStatus()); skuLadderEntity.setDiscount(skuReductionTo.getDiscount()); if (skuLadderEntity.getFullCount() &gt; 0) { skuLadderService.save(skuLadderEntity); } //sms_sku_full_reduction SkuFullReductionEntity skuFullReductionEntity = new SkuFullReductionEntity(); BeanUtils.copyProperties(skuReductionTo,skuFullReductionEntity); // BigDecimal Áî® compareToÊù•ÊØîËæÉ if (skuFullReductionEntity.getFullPrice().compareTo(new BigDecimal(&quot;0&quot;)) == 1) { this.save(skuFullReductionEntity); } //sms_member_price List&lt;MemberPrice&gt; memberPrice = skuReductionTo.getMemberPrice(); List&lt;MemberPriceEntity&gt; collect = memberPrice.stream().map(item -&gt; { MemberPriceEntity priceEntity = new MemberPriceEntity(); priceEntity.setSkuId(skuReductionTo.getSkuId()); priceEntity.setMemberPrice(item.getPrice()); priceEntity.setMemberLevelName(item.getName()); priceEntity.setMemberLevelId(item.getId()); priceEntity.setAddOther(1); return priceEntity; }).filter(item -&gt; { // ‰ºöÂëòÂØπÂ∫î‰ª∑Ê†ºÁ≠â‰∫é0 ËøáÊª§Êéâ return item.getMemberPrice().compareTo(new BigDecimal(&quot;0&quot;)) == 1; }).collect(Collectors.toList()); memberPriceService.saveBatch(collect);} 12.3.7 ÊÄªÁªì ÁîµÂïÜÁ≥ªÁªü‰∏≠Â§ßË°®Êï∞ÊçÆ‰∏çÂÅöÂÖ≥ËÅî ÂÆÅÂèØ‰∏ÄÁÇπ‰∏ÄÁÇπÊü•ËØ¢ ÂïÜÂìÅÊñ∞Â¢û‰∏öÂä°ÔºåÁú®Áúº‰∏ÄÁúãÂæàÂ§ö‰ª£Á†ÅÔºå‰ΩÜÊòØÂ¶ÇÊûúÊää‰ªñ‰ª¨ÂàíÂàÜÊàêÂá†‰∏™ÂäüËÉΩÁÇπ‰∏Ä‰∏ÄÂÆåÊàêÔºå‰∏öÂä°‰πüÂ∞±‰∏ç‰ºöÂèòÂæóÂæàÂ∫ûÂ§ß Áõ∏ÂÖ≥Êìç‰ΩúÁöÑË°® 12.3.8 ÂïÜÂìÅ‰øùÂ≠òÂêé Debug Ë∞ÉËØï ÂæàÂ∞ëÊúâ‰∏ÄÊ¨°ÂÜôÁöÑ‰ª£Á†ÅËÉΩ‰∏ÄÊ¨°ÈÄöËøáÔºåÊâÄ‰ª•Êàë‰ª¨Ë¶Å ‰∏Ä‰∏™ÂäüËÉΩÁÇπ‰∏Ä‰∏™Êñ≠ÁÇπÊù•Ë∞ÉËØïÁ®ãÂ∫èÊòØÂê¶Ê≠£Á°Æ 12# Â∞ÜÂΩìÂâç‰ºöËØùÁ≠âÁ∫ßËÆæÁΩÆÊàêËØª‰∏∫Êèê‰∫§ÔºåÂΩìÂâçÁ™óÂè£Â∞±ËÉΩÊü•ÁúãÂà∞Ê≤°ÊúâÊèê‰∫§ÁöÑÊï∞ÊçÆSET SESSION TRANSACTION ISOLATION LEVEL READ UNCOMMITTED; ÂÖ∑‰Ωì Debug ËøáÁ®ã‰∏çÂú®Ê≠§ÂèôËø∞ 12.3.9 ÂïÜÂìÅ‰øùÂ≠òÂÖ∂‰ªñÈóÆÈ¢òÂ§ÑÁêÜ 1„ÄÅ sku_images Ë°®‰∏≠ img_url Â≠óÊÆµ‰∏∫Á©∫ sku_images ‰∏≠ÊúâÂæàÂ§öÂõæÁâáÈÉΩÊòØ‰∏∫Á©∫ÔºåÂõ†Ê≠§Êàë‰ª¨ÈúÄË¶ÅÂú®Á®ãÂ∫è‰∏≠Â§ÑÁêÜËøô‰∏™Êï∞ÊçÆÔºåÁ©∫Êï∞ÊçÆ‰∏çÂÜôÂÖ•Âà∞Êï∞ÊçÆÂ∫ì‰∏≠ Ëß£ÂÜ≥ÊÄùË∑ØÔºö skuImages ‰øùÂ≠òÈÉ®ÂàÜ‰ª£Á†Å„ÄÅÂ¶ÇÊûú ImgUrl ‰∏∫Á©∫ÂàôËøõË°åËøáÊª§ 1234}).filter(entity -&gt;{ //ËøîÂõû true ÈúÄË¶Å false ËøáÊª§ return !StringUtils.isEmpty(entity.getImgUrl());}).collect(Collectors.toList()); 2„ÄÅsku Êª°Âáè‰ª•ÂèäÊâìÊäò‰ø°ÊÅØ Êï∞ÊçÆÂá∫Áé∞ÈîôËØØ ÊúâÈÉ®ÂàÜÊï∞ÊçÆ ‰∏∫0 Ëß£ÂÜ≥ÊÄùË∑ØÔºö Âú®‰ª£Á†Å‰∏≠ËøáÊª§ÂØπÂ∫î‰∏∫0ÁöÑÊï∞ÊçÆ ÈÉ®ÂàÜ‰øÆÊîπ‰ª£Á†Å 1234567// Êª°Âá†‰ª∂ Â§ß‰∫é0 ÂèØ‰ª•Ê∑ªÂä† Êª°Â§öÂ∞ëÈí± Ëá≥Â∞ëË¶ÅÂ§ß‰∫é0if (skuReductionTo.getFullCount() &gt; 0 || skuReductionTo.getFullPrice().compareTo(new BigDecimal(&quot;0&quot;)) == 1) { R r1 = couponFeignService.saveSkuReduction(skuReductionTo); if (r1.getCode() != 0) { log.error(&quot;ËøúÁ®ã‰øùÂ≠òsku‰ºòÊÉ†‰ø°ÊÅØÂ§±Ë¥•&quot;); }} ËøúÁ®ãÊúçÂä°‰∏≠‰πüËøõË°åÂØπÂ∫î‰øÆÊîπ 1234567891011121314151617181920212223/**‰øùÂ≠ò ÂïÜÂìÅÈò∂Ê¢Ø‰ª∑Ê†º‰ª∂Êï∞ Â§ß‰∫é0ÊâçËÉΩËøõË°å‰øÆÊîπ**/if (skuLadderEntity.getFullCount() &gt; 0) { skuLadderService.save(skuLadderEntity);}/**‰øùÂ≠òÂïÜÂìÅÊª°Âáè‰ø°ÊÅØ**/ // BigDecimal Áî® compareToÊù•ÊØîËæÉif (skuFullReductionEntity.getFullPrice().compareTo(new BigDecimal(&quot;0&quot;)) == 1) { this.save(skuFullReductionEntity);}/**‰øùÂ≠òÂïÜÂìÅ‰ºöÂëò‰ª∑Ê†º‰πüËøõË°å‰∫ÜËøáÊª§Êï∞ÊçÆ**/ }).filter(item -&gt; { // ‰ºöÂëòÂØπÂ∫î‰ª∑Ê†ºÁ≠â‰∫é0 ËøáÊª§Êéâ return item.getMemberPrice().compareTo(new BigDecimal(&quot;0&quot;)) == 1; }).collect(Collectors.toList()); 3„ÄÅÁ®ãÂ∫è‰∏≠ÂÖ∂‰ªñÁöÑÂºÇÂ∏∏ Á®ãÂ∫è‰∏≠ÊÄª‰ºöÂá∫Áé∞‰∏Ä‰∫õÂÖ∂‰ªñÁöÑÂºÇÂ∏∏ÁöÑÔºåËøô‰∏™ÁïôÂà∞È´òÁ∫ßÁØáËøõË°åËÆ≤Ëß£ ÂçÅ‰∏Ä„ÄÅ ÂïÜÂìÅÊúçÂä°&amp;ÂïÜÂìÅÁÆ°ÁêÜ SPU SKU 11.1 ÂïÜÂìÅÁÆ°ÁêÜ SPU Ê£ÄÁ¥¢ ÂäüËÉΩÊ¶ÇËø∞Ôºö Êü•ËØ¢ÂàöÂàöÂèëÂ∏ÉÁöÑÂïÜÂìÅÔºåÂπ∂ËÉΩËøõË°åÂØπÂ∫îÁöÑÊù°‰ª∂Êü•ËØ¢ Controller 12345678910/** * ÂàóË°® */ @RequestMapping(&quot;/list&quot;) //@RequiresPermissions(&quot;product:spuinfo:list&quot;) public R list(@RequestParam Map&lt;String, Object&gt; params){ PageUtils page = spuInfoService.queryPageByCondition(params); return R.ok().put(&quot;page&quot;, page); } Service ÂÆûÁé∞ 1234567891011121314151617181920212223242526272829303132333435363738/** * Ê†πÊçÆÊù°‰ª∂ËøõË°åÊü•ËØ¢ spuÁõ∏ÂÖ≥‰ø°ÊÅØ * @param params ÂàÜÈ°µÂèÇÊï∞ status‰∏äÊû∂Áä∂ÊÄÅÔºåcatelogId ÂàÜÁ±ªid brandId ÂìÅÁâåid * @return */@Overridepublic PageUtils queryPageByCondition(Map&lt;String, Object&gt; params) { QueryWrapper&lt;SpuInfoEntity&gt; wrapper = new QueryWrapper&lt;&gt;(); // ÂèñÂá∫ÂèÇÊï∞ key ËøõË°åÊü•ËØ¢ String key = (String) params.get(&quot;key&quot;); if (!StringUtils.isEmpty(key)) { wrapper.and((w) -&gt;{ w.eq(&quot;id&quot;,&quot;key&quot;).or().like(&quot;spu_name&quot;,key); }); } // È™åËØÅ‰∏ç‰∏∫Á©∫ ÂèñÂá∫ÂèÇÊï∞ËøõË°å Êü•ËØ¢ String status = (String) params.get(&quot;status&quot;); if (!StringUtils.isEmpty(status)) { wrapper.eq(&quot;publish_status&quot;,status); } String brandId = (String) params.get(&quot;brandId&quot;); if (!StringUtils.isEmpty(brandId) &amp;&amp; ! &quot;0&quot;.equalsIgnoreCase(brandId)) { wrapper.eq(&quot;brand_id&quot;,brandId); } String catelogId = (String) params.get(&quot;catelogId&quot;); if (!StringUtils.isEmpty(catelogId) &amp;&amp; ! &quot;0&quot;.equalsIgnoreCase(catelogId)) { wrapper.eq(&quot;catalog_id&quot;,catelogId); } IPage&lt;SpuInfoEntity&gt; page = this.page( new Query&lt;SpuInfoEntity&gt;().getPage(params), wrapper); return new PageUtils(page);} ÊÄªÁªì‰∏öÂä°ÊµÅÁ®ã ‰∏ªË¶ÅÊü•ËØ¢ÁöÑÊòØ pms_spu_info ËøôÂº†Ë°® ÂâçÁ´Ø‰º†ÈÄíËøáÊù•ÁöÑÂèÇÊï∞ ‰∏ªË¶ÅÊúâÂàÜÈ°µÔºå‰ª•Âèä ÂìÅÁâåid ÂàÜÁ±ªid Êàë‰ª¨ÈúÄË¶ÅÂà§Êñ≠Ëøô‰∫õÂÄºÊòØÂê¶Ê≠£Á°ÆÔºåÁÑ∂ÂêéËøõË°åÊü•ËØ¢Êï∞ÊçÆ 11.2 ÂïÜÂìÅÁÆ°ÁêÜ SkU Ê£ÄÁ¥¢ ÂäüËÉΩÊ¶ÇËø∞Ôºö Êü•ËØ¢ÂÖ∑‰ΩìÁöÑÂïÜÂìÅÁÆ°ÁêÜ Â∫ìÂ≠ò Controller 12345678910/** * ÂàóË°® */@RequestMapping(&quot;/list&quot;)//@RequiresPermissions(&quot;product:skuinfo:list&quot;)public R list(@RequestParam Map&lt;String, Object&gt; params){ PageUtils page = skuInfoService.queryPageByCondition(params); return R.ok().put(&quot;page&quot;, page);} Service 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748@Overridepublic PageUtils queryPageByCondition(Map&lt;String, Object&gt; params) { QueryWrapper&lt;SkuInfoEntity&gt; wrapper = new QueryWrapper&lt;&gt;(); // ÂèñÂá∫ÂèÇÊï∞ ËøõË°åÊü•ËØ¢ String key = (String) params.get(&quot;key&quot;); if (!StringUtils.isEmpty(key)) { wrapper.and((w) -&gt;{ w.eq(&quot;sku_id&quot;,key).or().like(&quot;sku_name&quot;,key); }); } // È™åËØÅ id ÊòØÂê¶‰∏∫0 Âê¶ÂàôËøõË°åÂåπÈÖç String catelogId = (String) params.get(&quot;catelogId&quot;); if (!StringUtils.isEmpty(catelogId) &amp;&amp; !&quot;0&quot;.equalsIgnoreCase(catelogId)) { wrapper.eq(&quot;catalog_id&quot;,catelogId); } String brandId = (String) params.get(&quot;brandId&quot;); if (!StringUtils.isEmpty(brandId) &amp;&amp; !&quot;0&quot;.equalsIgnoreCase(brandId)) { wrapper.eq(&quot;brand_id&quot;,brandId); } String min = (String) params.get(&quot;min&quot;); if (!StringUtils.isEmpty(min)) { wrapper.ge(&quot;price&quot;,min); } String max = (String) params.get(&quot;max&quot;); if (!StringUtils.isEmpty(max) ) { // ÊÄïÂâçÁ´Ø‰º†ÈÄíÁöÑÊï∞ÊçÆÊòØ abc Á≠âÁ≠â ÊâÄ‰ª•Ë¶ÅÊäõÂá∫ÂºÇÂ∏∏ try { BigDecimal bigDecimal = new BigDecimal(max); if ( bigDecimal.compareTo(new BigDecimal(&quot;0&quot;)) == 1) { wrapper.le(&quot;price&quot;,max); } } catch (Exception e) { e.printStackTrace(); } } IPage&lt;SkuInfoEntity&gt; page = this.page( new Query&lt;SkuInfoEntity&gt;().getPage(params), wrapper ); return new PageUtils(page);} ÊÄªÁªì‰∏öÂä°ÊµÅÁ®ãÔºö ‰∏ªË¶ÅÊü•ËØ¢ÊòØ pms_sku_info ËøôÂº†Ë°®ÔºåÊàëÂá∫Áé∞ÁöÑÈóÆÈ¢òÊòØÂèëÂ∏ÉÂïÜÂìÅÊó∂ÂÄôÔºåÂÆû‰ΩìÁ±ªÁöÑ ‰ª∑Ê†º ‰∏é VOÂ±ûÊÄß‰∏ç‰∏ÄËá¥ÔºåÂá∫Áé∞‰∫ÜÊï∞ÊçÆÊ≤°ÊúâÊã∑Ë¥ùÔºå‰øÆÊîπÂêéÔºåÊï∞ÊçÆÊü•ËØ¢Ê≠£Â∏∏ ÂçÅ‰∫å„ÄÅ‰ªìÂÇ®ÊúçÂä°&amp;‰ªìÂ∫ìÁÆ°ÁêÜ 14.1 Êï¥ÂêàwareÊúçÂä°&amp;Ëé∑Âèñ‰ªìÂ∫ìÂàóË°® 14.1.1Êï¥Âêà ware ÊúçÂä° 1„ÄÅÈ¶ñÂÖàÊúçÂä°ÈúÄË¶ÅÂÖàÊ≥®ÂÜåÂà∞ Nacos ‰∏≠ÔºåÈúÄË¶ÅËá™Â∑±ÈÖçÁΩÆÊñá‰ª∂ ÈÖçÁΩÆÂØπÂ∫îÁöÑ nacosÊ≥®ÂÜåÂú∞ÂùÄÔºå 2„ÄÅÂêØÂä®Á±ªÈúÄË¶ÅÂºÄÂêØ ÊúçÂä°Ê≥®ÂÜåÂèëÁé∞ÔºåÂºÄÂêØËøúÁ®ãÊúçÂä°Ë∞ÉÁî® 1234@EnableFeignClients // ÂºÄÂêØopenfeign ËøúÁ®ãÊúçÂä°Ë∞ÉÁî®@EnableTransactionManagement //ÂºÄÂêØ‰∫ãÂä°@MapperScan(&quot;com.atguigu.gulimall.ware.dao&quot;) //mapperÂåÖÊâ´Êèè@EnableDiscoveryClient //ÊúçÂä°Ê≥®ÂÜåÂèëÁé∞ 14.1.2 Ëé∑Âèñ‰ªìÂ∫ìÂàóË°® ÂÖ∑‰ΩìÈúÄÊ±ÇÔºö Ê†πÊçÆÂèÇÊï∞ÂêçÊü•ËØ¢Âá∫ ‰ªìÂ∫ìÁõ∏ÂÖ≥ÁöÑËÆ∞ÂΩï ÔºåÂÖ∑‰ΩìÂØπ‰∫éÊìç‰ΩúÁöÑÊòØwms_ware_info Ë°® Controller 12345678910/** * ÂàóË°® */@RequestMapping(&quot;/list&quot;)//@RequiresPermissions(&quot;ware:wareinfo:list&quot;)public R list(@RequestParam Map&lt;String, Object&gt; params){ PageUtils page = wareInfoService.queryPage(params); return R.ok().put(&quot;page&quot;, page);} Service 1234567891011121314151617181920@Overridepublic PageUtils queryPage(Map&lt;String, Object&gt; params) { QueryWrapper&lt;WareInfoEntity&gt; wrapper = new QueryWrapper&lt;&gt;(); // ÂèñÂá∫ÂèÇÊï∞ String key = (String)params.get(&quot;key&quot;); // ÊãºÊé•Êù°‰ª∂ if (!StringUtils.isEmpty(key)) { wrapper.eq(&quot;id&quot;,key).or() .like(&quot;name&quot;,key) .eq(&quot;address&quot;,key) .eq(&quot;areacode&quot;,key); } IPage&lt;WareInfoEntity&gt; page = this.page( new Query&lt;WareInfoEntity&gt;().getPage(params), wrapper ); return new PageUtils(page);} ÊÄªÁªì‰∏öÂä°ÊµÅÁ®ã ‰ªìÂ∫ìÁª¥Êä§ÂØπÂ∫îÁöÑÊòØ wms_ware_info Ê†πÊçÆÂâçÁ´Ø‰º†ÈÄíËøáÊù•ÁöÑÂèÇÊï∞ËøõË°åÊãºÊé•ÁÑ∂ÂêéËøõË°åÊü•ËØ¢ 14.2 Êü•ËØ¢Â∫ìÂ≠ò&amp;ÂàõÂª∫ÈááË¥≠ÈúÄÊ±Ç 14.2.1 Êü•ËØ¢Â∫ìÂ≠ò ÂÖ∑‰ΩìÈúÄÊ±ÇÔºö Ê†πÊçÆ ‰ªìÂ∫ì„ÄÅskuId ËøõË°åÊü•ËØ¢ÂØπÂ∫îÁöÑË°®ÊòØ wms_ware_sku Controller 12345678910/** * ÂàóË°® */@RequestMapping(&quot;/list&quot;)//@RequiresPermissions(&quot;ware:waresku:list&quot;)public R list(@RequestParam Map&lt;String, Object&gt; params){ PageUtils page = wareSkuService.queryPage(params); return R.ok().put(&quot;page&quot;, page);} Service 123456789101112131415161718192021@Overridepublic PageUtils queryPage(Map&lt;String, Object&gt; params) { QueryWrapper&lt;WareSkuEntity&gt; queryWrapper = new QueryWrapper&lt;&gt;(); // ÂèñÂá∫ËØ∑Ê±ÇÁöÑÂèÇÊï∞ ÁªÑË£ÖÊù°‰ª∂ËøõË°åÊü•ËØ¢ String skuId = (String) params.get(&quot;skuId&quot;); if (!StringUtils.isEmpty(skuId)) { queryWrapper.eq(&quot;sku_id&quot;,skuId); } String wareId = (String) params.get(&quot;wareId&quot;); if (!StringUtils.isEmpty(wareId)) { queryWrapper.eq(&quot;ware_id&quot;,wareId); } IPage&lt;WareSkuEntity&gt; page = this.page( new Query&lt;WareSkuEntity&gt;().getPage(params), queryWrapper ); return new PageUtils(page);} ÊÄªÁªì‰∏öÂä°ÊµÅÁ®ãÔºö wms_ware_sku ‰∏ªË¶ÅÁöÑÊìç‰ΩúÁöÑÂ∞±ÊòØËØ•Ë°® ‰∏ÄÊ†∑ÁöÑÂ∞ÅË£ÖÊù°‰ª∂ÔºåÁÑ∂ÂêéËøõË°åÊü•ËØ¢ 14.2.2 ÂàõÂª∫ÈááË¥≠ÈúÄÊ±Ç ÂÖ∑‰ΩìÈúÄÊ±ÇÔºö ÈÄâÊã© ‰ªìÂ∫ì„ÄÅÁä∂ÊÄÅ„ÄÅ ‰ª•ÂèäÂÖ∂‰ªñÂÖ≥ÈîÆÂ≠ó Êü•ËØ¢Âá∫ÂØπÂ∫îÁöÑÊï∞ÊçÆ ÈÇ£‰πàÊü•ËØ¢ÁöÑÊòØÂì™Âº†Ë°®Ôºü wms_purchase_detail Controller Â¶ÇÂæÄÂ∏∏‰∏ÄÊ†∑ Ë∞ÉÁî® Service ËøîÂõûÁªìÊûú ÁªÑË£Ö ËøîÂõû~~~ 12345678910/** * ÂàóË°® */@RequestMapping(&quot;/list&quot;)//@RequiresPermissions(&quot;ware:purchasedetail:list&quot;)public R list(@RequestParam Map&lt;String, Object&gt; params){ PageUtils page = purchaseDetailService.queryPage(params); return R.ok().put(&quot;page&quot;, page);} Service 123456789101112131415161718192021222324252627282930313233343536373839/** * // status: 0,//Áä∂ÊÄÅ * // wareId: 1,//‰ªìÂ∫ìid * @param params * @return */@Overridepublic PageUtils queryPage(Map&lt;String, Object&gt; params) { QueryWrapper&lt;PurchaseDetailEntity&gt; wrapper = new QueryWrapper&lt;&gt;(); // ÂèñÂá∫key String key = (String) params.get(&quot;key&quot;); // key ‰∏ªË¶ÅÊü•ËØ¢Êù°‰ª∂ if (!StringUtils.isEmpty(key)) { wrapper.and((w) -&gt;{ w.eq(&quot;purchase_id&quot;,key).or().eq(&quot;sku_id&quot;,key); }); } String status = (String) params.get(&quot;status&quot;); if (!StringUtils.isEmpty(status)) { wrapper.and((w) -&gt;{ w.eq(&quot;status&quot;,status); }); } String wareId = (String) params.get(&quot;wareId&quot;); if (!StringUtils.isEmpty(wareId)) { wrapper.and((w) -&gt;{ w.eq(&quot;ware_id&quot;,wareId); }); } IPage&lt;PurchaseDetailEntity&gt; page = this.page( new Query&lt;PurchaseDetailEntity&gt;().getPage(params), wrapper ); return new PageUtils(page);} ÊÄªÁªì‰∏öÂä°ÊµÅÁ®ãÔºö ÂØπ wms_purchase_detail Ë°®ËøõË°åÊìç‰Ωú ÊãºË£ÖÊù°‰ª∂ Êü•ËØ¢ ÂóØ Â∞±ËøôÊ†∑~~~ 14.3 ÂêàÂπ∂ÈááË¥≠ÈúÄÊ±Ç&amp;È¢ÜÂèñÈááË¥≠Âçï&amp;ÂÆåÊàêÈááË¥≠&amp;SpuËßÑÊ†ºÁª¥Êä§ 14.3.1 ÂêàÂπ∂ÈááË¥≠ÈúÄÊ±Ç ÂÖ∑‰ΩìÈúÄÊ±ÇÔºö ÈÄâ‰∏≠ ÁÇπÂáªÊâπÈáèÊìç‰Ωú ËØ∑Ê±ÇÂèÇÊï∞ÂàÜ‰∫´ 1234{ purchaseId: 1, //Êï¥Âçïid items:[1,2,3,4] //ÂêàÂπ∂È°πÈõÜÂêà} ÈÇ£Â∞±Âª∫Á´ãÂØπÂ∫îÁöÑ Vo Áî®Êù•Êé•Êî∂ËØ∑Ê±ÇÂèÇÊï∞ Controller 123456789101112/** * ÂêàÂπ∂ÈááË¥≠ * @param mergeVo * @return *////ware/purchase/merge@PostMapping(&quot;/merge&quot;)public R merge(@RequestBody MergeVo mergeVo) { purchaseService.mrgePurchase(mergeVo); return R.ok();} Service 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253/** * ÂêàÂπ∂ÈááË¥≠ÈúÄÊ±Ç * @param mergeVo */@Transactional@Overridepublic void mrgePurchase(MergeVo mergeVo) { // ÊãøÂà∞ÈááË¥≠Âçïid Long purchaseId = mergeVo.getPurchaseId(); // ÈááË¥≠Âçï id‰∏∫Á©∫ Êñ∞Âª∫ if (purchaseId == null ) { PurchaseEntity purchaseEntity = new PurchaseEntity(); // Áä∂ÊÄÅËÆæÁΩÆ‰∏∫Êñ∞Âª∫ purchaseEntity.setStatus(WareConstant.PurchaseStatusEnum.CREATED.getCode()); purchaseEntity.setCreateTime(new Date()); purchaseEntity.setUpdateTime(new Date()); this.save(purchaseEntity); // ÊãøÂà∞ÊúÄÊñ∞ÁöÑÈááË¥≠Âçïid purchaseId = purchaseEntity.getId(); } //TODO Á°ÆËÆ§ÈááË¥≠ÊòØ 0 Êàñ 1 ÊâçÂèØ‰ª•ÂêàÂπ∂ // ÊãøÂà∞ÂêàÂπ∂È°π **ÈááË¥≠ÈúÄÊ±ÇÁöÑid** List&lt;Long&gt; items = mergeVo.getItems(); Long finalPurchaseId = purchaseId; List&lt;PurchaseDetailEntity&gt; collect = items.stream().map(i -&gt; { // ÈááË¥≠ÈúÄÊ±Ç PurchaseDetailEntity detailEntity = new PurchaseDetailEntity(); // ÈÄöËøáÈááË¥≠Âçïid Êü•ËØ¢Âà∞ ÈááË¥≠‰ø°ÊÅØÂØπË±° PurchaseEntity byId = this.getById(finalPurchaseId); // Áä∂ÊÄÅÂ¶ÇÊûúÊòØÊ≠£Âú®ÈááË¥≠ if (! (byId.getStatus() == WareConstant.PurchaseDetailStatusEnum.BUYING.getCode())) { // ËÆæÁΩÆ‰∏∫Â∑≤ÂàÜÈÖç detailEntity.setStatus(WareConstant.PurchaseDetailStatusEnum.HASERROR.getCode()); } detailEntity.setId(i); // ËÆæÁΩÆÈááË¥≠Âçïid detailEntity.setPurchaseId(finalPurchaseId); return detailEntity; }).collect(Collectors.toList()); // idÊâπÈáèÊõ¥Êñ∞ purchaseDetailService.updateBatchById(collect); // ÂÜçÊ¨°ÂêàÂπ∂ÁöÑËØù Êõ¥Êñ∞‰øÆÊîπÊó∂Èó¥ PurchaseEntity purchaseEntity = new PurchaseEntity(); purchaseEntity.setId(purchaseId); purchaseEntity.setUpdateTime(new Date()); this.updateById(purchaseEntity);} ÊÄªÁªì‰∏öÂä°ÊµÅÁ®ã: ‰ªé ÂèÇÊï∞ mergeVo‰∏≠ÂèñÂá∫ purchaseId Âíå items ËøõË°åÁõ∏ÂÖ≥Êìç‰Ωú ‰∏ªË¶ÅÊòØÁî®Êù•Êìç‰Ωú‰∏§Âº†Ë°® wms_purchase Âíå wms_purchase_detail wms_purchase Ë°®ÊòØ ÈááË¥≠‰ø°ÊÅØ wms_purchase_detail Ë°®ÊòØ ÈááË¥≠ÈúÄÊ±Ç ÊàëÁöÑÁêÜËß£ÊòØÂ∞Ü wms_purchase ÁöÑidÊèíÂÖ•Âà∞ wms_purchase_detail Ë°®‰∏≠ ‰πüÂ∞±ÊòØ purchase_id Â≠óÊÆµÔºå‰∏≠Èó¥ÈÄöËøáËøô‰∏™Â≠óÊÆµÂÖ≥ËÅîËµ∑Êù•ÔºåÂêåÊó∂ wms_purchase Ë°®ÂØπ status Áä∂ÊÄÅÊúâÊØîËæÉÂ§öÁöÑÈÄâÊã©ÔºåËßÜÈ¢ëÈáåÈù¢‰πüÊòØÂÆö‰πâ‰∫Ü‰∏§‰∏™Â∏∏Èáè 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556public class WareConstant { public enum PurchaseStatusEnum{ CREATED(0,&quot;Êñ∞Âª∫&quot;),ASSIGNED(1,&quot;Â∑≤ÂàÜÈÖç&quot;), RECEIVE(2,&quot;Â∑≤È¢ÜÂèñ&quot;),FINISH(3,&quot;Â∑≤ÂÆåÊàê&quot;), HASERROR(4,&quot;ÊúâÂºÇÂ∏∏&quot;); private int code; private String msg; PurchaseStatusEnum(int code,String msg) { this.code = code; this.msg = msg; } public int getCode() { return code; } public void setCode(int code) { this.code = code; } public String getMsg() { return msg; } public void setMsg(String msg) { this.msg = msg; } } public enum PurchaseDetailStatusEnum{ CREATED(0,&quot;Êñ∞Âª∫&quot;),ASSIGNED(1,&quot;Â∑≤ÂàÜÈÖç&quot;), BUYING(2,&quot;Ê≠£Âú®ÈááË¥≠&quot;),FINISH(3,&quot;Â∑≤ÂÆåÊàê&quot;), HASERROR(4,&quot;ÈááË¥≠Â§±Ë¥•&quot;); private int code; private String msg; PurchaseDetailStatusEnum(int code,String msg) { this.code = code; this.msg = msg; } public int getCode() { return code; } public void setCode(int code) { this.code = code; } public String getMsg() { return msg; } public void setMsg(String msg) { this.msg = msg; } }} Â∞ÜÂ∏∏ÈáèÊäΩÂèñÂá∫Êù•Ôºå‰øÆÊîπÊõ¥Âä†Êñπ‰æø 14.3.2 È¢ÜÂèñÈááË¥≠Âçï ÂÖ∑‰ΩìÈúÄÊ±ÇÔºö ÂêàÂπ∂ÈááË¥≠ÈúÄÊ±ÇÊàêÂäüÂêéÔºåÂÖ∑‰ΩìËøô‰∏™ÂäüËÉΩÊúâÂï•Áî®ÂïäÔºü ‰Ω†ÊÄªÂæóÈúÄË¶ÅÊúâ‰∫∫ÂéªÈááË¥≠ÂêßÔºü ÊâÄ‰ª•Â∞±‰ºöÊúâ‰∏Ä‰∏™ÈááË¥≠APP Â∑•‰Ωú‰∫∫ÂëòÁÇπÂáªÈááË¥≠ÔºåÁÑ∂ÂêéÂ∞±ÂéªÈááË¥≠ÔºåËøôÈáåÂ∞±Ê≤°ÊúâÂÆûÁé∞ÈááË¥≠ APP Â∞±Áî®Êé•Âè£Êù•ÂÆûÁé∞ÔºåÈÄöËøá JSON ÁöÑÂèÇÊï∞ Êù•ËØ∑Ê±Ç Controller 1234567891011/** * * @param ids * @return */@PostMapping(&quot;/received&quot;)public R received(@RequestBody List&lt;Long&gt; ids) { purchaseService.received(ids); return R.ok();} Service 123456789101112131415161718192021222324252627282930313233343536373839404142@Overridepublic void received(List&lt;Long&gt; ids) { // 1„ÄÅÁ°ÆËÆ§ÂΩìÂâçÈááË¥≠ÂçïÊòØ Êñ∞Âª∫ÊàñËÄÖ Â∑≤ÂàÜÈÖçÁä∂ÊÄÅ ÊâçËÉΩËøõË°åÈááË¥≠ List&lt;PurchaseEntity&gt; collect = ids.stream().map(id -&gt; { // Ê†πÊçÆÈááË¥≠idÊü•ËØ¢Âá∫ÈááË¥≠‰ø°ÊÅØ PurchaseEntity byId = this.getById(id); return byId; }).filter(item -&gt; { // Êñ∞Âª∫ÊàñËÄÖÂ∑≤ÂàÜÈÖçÁïô‰∏ã if (item.getStatus() == WareConstant.PurchaseStatusEnum.CREATED.getCode() || item.getStatus() == WareConstant.PurchaseStatusEnum.ASSIGNED.getCode()) { return true; } return false; }).map(item -&gt; { // ËÆæÁΩÆ‰∏∫Â∑≤È¢ÜÂèñ item.setStatus(WareConstant.PurchaseStatusEnum.RECEIVE.getCode()); item.setUpdateTime(new Date()); return item; }).collect(Collectors.toList()); // 2„ÄÅÊîπÂèòÈááË¥≠ÂçïÁä∂ÊÄÅ this.updateBatchById(collect); // 3„ÄÅÊîπÂèòÈááË¥≠È°πÁöÑÁä∂ÊÄÅ collect.forEach((item) -&gt; { // Ê†πÊçÆ purchase_id Êü•ËØ¢Âá∫ÈááË¥≠ÈúÄÊ±Ç List&lt;PurchaseDetailEntity&gt; entities = purchaseDetailService.listDetailByPurchaseId(item.getId()); // List&lt;PurchaseDetailEntity&gt; detailEntites = entities.stream().map(entity -&gt; { PurchaseDetailEntity detailEntity = new PurchaseDetailEntity(); detailEntity.setId(entity.getId()); // ËÆæÁΩÆÁä∂ÊÄÅÊ≠£Âú®ÈááË¥≠ detailEntity.setStatus(WareConstant.PurchaseDetailStatusEnum.BUYING.getCode()); return detailEntity; }).collect(Collectors.toList()); // idÊâπÈáèÊõ¥Êñ∞ purchaseDetailService.updateBatchById(detailEntites); });} ÊÄªÁªì‰∏öÂä°ÊµÅÁ®ãÔºö ‰∏öÂä°ÂàÜÊûê ÈááË¥≠‰∫∫ÂëòÈÄöËøá APP ÁÇπÂáªÈááË¥≠ ÂÆåÊàêÂØπÂ∫îÁöÑÈááË¥≠ÈúÄÊ±ÇÔºåËøôÈáå‰ΩøÁî®ÁöÑÊòØ PostMan Êù•ÂèëÈÄÅËØ∑Ê±ÇÔºåÂèëÈÄÅËØ∑Ê±Ç Â∏¶ÁöÑÂèÇÊï∞ÊòØ‰ªÄ‰πàÔºü ÂèÇÊï∞Â∞±ÊòØ ÈááË¥≠Id ÈÄöËøáÈááË¥≠ Id Êü•ËØ¢Âá∫ÈááË¥≠Áõ∏ÂÖ≥‰ø°ÊÅØÔºåÁÑ∂ÂêéËÆæÁΩÆÈááË¥≠Ë°®ÁöÑÁä∂ÊÄÅÔºåËÆæÁΩÆÊàêÈááË¥≠ÊàêÂäüÔºåÂêåÊó∂ÈÄöËøáËøô‰∏™ id Âú® wms_purchase_detail Ë°®‰∏≠ ÂØπÂ∫îÁöÑÊòØ purchase_id Êü•ËØ¢ÈááË¥≠ÈúÄÊ±ÇË°®ÁöÑÊï∞ÊçÆÔºå Êü•ËØ¢Âà∞ÂêéÂ∞Ü‰ªñÁöÑÁä∂ÊÄÅËÆæÁΩÆÊàê ‚ÄúÊ≠£Âú®ÈááË¥≠‚Äú 14.3.3 ÂÆåÊàêÈááË¥≠ ÂÖ∑‰ΩìÈúÄÊ±ÇÔºö ÈááË¥≠‰∫∫ÂëòÂèÇ‰∏éÈááË¥≠ÂêéÔºåÈááË¥≠Â∞±‰ºöÊúâ‰ªñÁöÑÁªìÊûúÔºåÈááË¥≠ÊàêÂäü„ÄÅÈááË¥≠Â§±Ë¥•Ôºå Êúâ‰∫ÜËØ∑Ê±ÇÂèÇÊï∞ÔºåÂ¶ÇÊûúÊØîËæÉÂ§öÔºåÈÇ£‰πàÂ∫ïËÄÉËôëËÆæËÆ°‰∏Ä‰∏™ VO Âì¶ 123456@PostMapping(&quot;/done&quot;)public R finish(@RequestBody PurchaseDoneVo doneVo) { purchaseService.done(doneVo); return R.ok();} Vo 12345678910@Datapublic class PurchaseDoneVo { /** * ÈááË¥≠Âçïid */ @NotNull private Long id; public List&lt;PurchaseItemDoneVo&gt; items;} 1234567891011121314@Datapublic class PurchaseItemDoneVo { /** * ÂÆåÊàê/Â§±Ë¥•ÁöÑÈúÄÊ±ÇËØ¶ÊÉÖ */ private Long itemId; /** * Áä∂ÊÄÅ */ private Integer status; private String reason;} Service 123456789101112131415161718192021222324252627282930313233343536373839@Transactional@Overridepublic void done(PurchaseDoneVo doneVo) { // ÈááË¥≠Âçïid Long id = doneVo.getId(); // 2„ÄÅÊîπÂèòÈááË¥≠È°πÁõÆÁöÑÁä∂ÊÄÅ Boolean flag = true; List&lt;PurchaseItemDoneVo&gt; items = doneVo.getItems(); List&lt;PurchaseDetailEntity&gt; updates = new ArrayList&lt;&gt;(); for (PurchaseItemDoneVo item : items) { PurchaseDetailEntity detailEntity = new PurchaseDetailEntity(); // Â¶ÇÊûúÈááË¥≠Â§±Ë¥• if (item.getStatus() == WareConstant.PurchaseDetailStatusEnum.HASERROR.getCode()) { flag = false; detailEntity.setStatus(item.getStatus()); } else { // 3„ÄÅÂ∞ÜÊàêÂäüÈááË¥≠ÁöÑËøõË°åÂÖ•Â∫ì PurchaseDetailEntity entity = purchaseDetailService.getById(item.getItemId()); wareSkuService.addStock(entity.getSkuId(),entity.getWareId(),entity.getSkuNum()); detailEntity.setStatus(WareConstant.PurchaseDetailStatusEnum.FINISH.getCode()); } detailEntity.setId(item.getItemId()); updates.add(detailEntity); } // ÊâπÈáèÊõ¥Êñ∞ purchaseDetailService.updateBatchById(updates); // 1„ÄÅÊîπÂèòÈááË¥≠ÂçïÁä∂ÊÄÅ PurchaseEntity purchaseEntity = new PurchaseEntity(); purchaseEntity.setId(id); // ËÆæÁΩÆÁä∂ÊÄÅÊ†πÊçÆÂèòÈáèÂà§Êñ≠ purchaseEntity.setStatus(flag?WareConstant.PurchaseStatusEnum.FINISH.getCode():WareConstant.PurchaseStatusEnum.HASERROR.getCode()); purchaseEntity.setUpdateTime(new Date()); this.updateById(purchaseEntity);} addStockÊñπÊ≥ï 123456789101112131415161718192021222324252627282930@Overridepublic void addStock(Long skuId, Long wareId, Integer skuNum) { // ÂÖàÊ†πÊçÆ skuId Âíå ware_id Êü•ËØ¢ ÊòØÂê¶Êã•ÊúâËøô‰∏™Áî®Êà∑ List&lt;WareSkuEntity&gt; wareSkuEntities = wareSkuDao.selectList(new QueryWrapper&lt;WareSkuEntity&gt;().eq(&quot;sku_id&quot;, skuId).eq(&quot;ware_id&quot;, wareId)); //Ê≤°ÊúâËøô‰∏™Áî®Êà∑ ÈÇ£Â∞±Êñ∞Â¢û if(wareSkuEntities == null || wareSkuEntities.size() == 0) { WareSkuEntity wareSkuEntity = new WareSkuEntity(); // Ê†πÊçÆÂ±ûÊÄßÂÄºËÆæÁΩÆ wareSkuEntity.setSkuId(skuId); wareSkuEntity.setStock(skuNum); wareSkuEntity.setWareId(wareId); wareSkuEntity.setStockLocked(0); // TODO ËøúÁ®ãÊü•ËØ¢skuÁöÑÂêçÂ≠ó Â¶ÇÊûúÂ§±Ë¥•Êï¥‰∏™‰∫ãÂä°‰∏çÈúÄË¶ÅÂõûÊªö try { // ËøúÁ®ãË∞ÉÁî® Ê†πÊçÆ skuidËøõË°åÊü•ËØ¢ R info = productFeignService.info(skuId); Map&lt;String,Object&gt; map = (Map&lt;String, Object&gt;) info.get(&quot;skuInfo&quot;); if (info.getCode() == 0) { wareSkuEntity.setSkuName((String) map.get(&quot;skuName&quot;)); } } catch (Exception e) { e.printStackTrace(); } wareSkuDao.insert(wareSkuEntity); }else { // ÊúâËØ•ËÆ∞ÂΩïÈÇ£Â∞±ËøõË°åÊõ¥Êñ∞ wareSkuDao.addStock(skuId,wareId,skuNum); }} addStock ÂÖ∑‰ΩìÂÆûÁé∞ 123&lt;insert id=&quot;addStock&quot;&gt;UPDATE `wms_ware_sku` SET stock=stock+#{skuNum} WHERE sku_id=#{skuId} AND ware_id=#{wareId}&lt;/insert&gt; 14.3.4 SpuËßÑÊ†ºÁª¥Êä§ ÂÖ∑‰ΩìÈúÄÊ±ÇÔºö ÂâçÁ´ØÈ°πÁõÆÈÅáÂà∞ÁöÑÈóÆÈ¢òÔºö ÈúÄË¶ÅËá™Â∑±Âéª routerÁõÆÂΩï‰∏ãÊâæÂà∞ index.js Â¢ûÂä†ÊîπË°åÈÖçÁΩÆÔºå‰∏ªË¶ÅÊòØÈÖçÁΩÆËßÑÊ†ºÁª¥Êä§ÁöÑË∑ØÂæÑ Âú® SpuÁÆ°ÁêÜ‰∏ä ÁÇπÂáªËßÑÊ†ºÂêéÊü•ËØ¢Âá∫Áõ∏ÂÖ≥ËßÑÊ†º‰ø°ÊÅØ Controller 12345@GetMapping(&quot;/base/listforspu/{spuId}&quot;)public R baseAttrListforspu(@PathVariable(&quot;spuId&quot;) Long spuId) { List&lt;ProductAttrValueEntity&gt; productAttrValueEntity = productAttrValueService.baseAttrListforspu(spuId); return R.ok().put(&quot;data&quot;,productAttrValueEntity);} Service 123456@Overridepublic List&lt;ProductAttrValueEntity&gt; baseAttrListforspu(Long spuId) { // 1„ÄÅÊ†πÊçÆspuidËøõË°åÊü•ËØ¢ List&lt;ProductAttrValueEntity&gt; attrValueEntities = this.baseMapper.selectList(new QueryWrapper&lt;ProductAttrValueEntity&gt;().eq(&quot;spu_id&quot;, spuId)); return attrValueEntities;} ÊÄªÁªì‰∏öÂä°ÊµÅÁ®ãÔºö ÂçïË°®Êìç‰ΩúÔºåÊ†πÊçÆ spu_id Êü•ËØ¢Âá∫ pms_product_attr_value Ë°®ÁöÑ‰ø°ÊÅØ 14.3.5 SpuÊõ¥Êñ∞Êìç‰Ωú ÂÖ∑‰ΩìÈúÄÊ±ÇÔºö Ê†πÊçÆspu_id Êü•ËØ¢Âá∫ËßÑÊ†º‰ø°ÊÅØÂêé Ôºå‰øÆÊîπÂØπÂ∫î‰ø°ÊÅØ Êèê‰∫§Âêé‰ºöÂèëÈÄÅ‰∏Ä‰∏™postËØ∑Ê±ÇÔºåÂπ∂ÂêåÊó∂Â∏¶‰∏äËØ∑Ê±ÇÂèÇÊï∞ 12345678910111213141516[{ &quot;attrId&quot;: 7, &quot;attrName&quot;: &quot;ÂÖ•ÁΩëÂûãÂè∑&quot;, &quot;attrValue&quot;: &quot;LIO-AL00&quot;, &quot;quickShow&quot;: 1}, { &quot;attrId&quot;: 14, &quot;attrName&quot;: &quot;Êú∫Ë∫´ÊùêË¥®Â∑•Ëâ∫&quot;, &quot;attrValue&quot;: &quot;ÁéªÁíÉ&quot;, &quot;quickShow&quot;: 0}, { &quot;attrId&quot;: 16, &quot;attrName&quot;: &quot;CPUÂûãÂè∑&quot;, &quot;attrValue&quot;: &quot;HUAWEI Kirin 980&quot;, &quot;quickShow&quot;: 1}] ÂàöÂ•ΩËøôÂõõ‰∏™ÂèÇÊï∞ÂíåÂÆû‰ΩìÁ±ªÁöÑ‰∏ÄËá¥ÔºåÂ∞±‰∏çÈúÄË¶ÅÂàõÂª∫ VoÊù•Êé•Êî∂ Controller 12345678@RequestMapping(&quot;/update/{spuId}&quot;)//@RequiresPermissions(&quot;product:attr:update&quot;)public R updateSpuAttr(@PathVariable(&quot;spuId&quot;) Long spuId, @RequestBody List&lt;ProductAttrValueEntity&gt; productAttrValueEntityList){ productAttrValueService.updateSpuAttr(spuId,productAttrValueEntityList); return R.ok();} Service 123456789101112131415161718/** * ÂÖàÂà†Èô§ ÂêéÊõ¥Êñ∞ * @param spuId * @param productAttrValueEntityList */@Overridepublic void updateSpuAttr(Long spuId, List&lt;ProductAttrValueEntity&gt; productAttrValueEntityList) { // 1„ÄÅÊ†πÊçÆspuidÂà†Èô§ËÆ∞ÂΩï this.baseMapper.delete(new QueryWrapper&lt;ProductAttrValueEntity&gt;().eq(&quot;spu_id&quot;,spuId)); // 2„ÄÅÈÅçÂéÜ‰º†ÈÄíËøáÊù•ÁöÑËÆ∞ÂΩï ËÆæÁΩÆ spuId List&lt;ProductAttrValueEntity&gt; collect = productAttrValueEntityList.stream().map(item -&gt; { item.setSpuId(spuId); return item; }).collect(Collectors.toList()); // 3„ÄÅÊâπÈáè‰øùÂ≠ò this.saveBatch(collect);} ÊÄªÁªì‰∏öÂä°ÊµÅÁ®ãÔºö Êõ¥Êñ∞Êìç‰ΩúÔºåÊ†πÊçÆÂâçÁ´Ø‰º†ÈÄíËøáÊù•ÁöÑÂèÇÊï∞Êù•ËøõË°åÊõ¥Êñ∞ÔºåÂâçÁ´Ø‰º†ÈÄí‰∫Ü‰∏Ä‰∏™ spu_id ÂíåÂ§ö‰∏™ spuÂ±ûÊÄßÂÄº ‰∏Ä‰∏™ spu_idÂØπÂ§ö‰∏™ spu Â±ûÊÄßÂÄº ÂÖàÊ†πÊçÆ spu_id Âà†Èô§Â≠òÂú® pms_product_attr_value Ë°®ÁöÑËÆ∞ÂΩï ÁÑ∂ÂêéÂØπÂ§ö‰∏™ ProductAttrValueEntity ÂØπË±°ËÆæÁΩÆ sup_id ÔºåÊúÄÂêéËøõË°åÊâπÈáè‰øùÂ≠ò ÂàÜÂ∏ÉÂºèÂü∫Á°ÄÁØáÊÄªÁªì 1„ÄÅÂàÜÂ∏ÉÂºèÂü∫Á°ÄÊ¶ÇÂøµ ÂæÆÊúçÂä°„ÄÅÊ≥®ÂÜå‰∏≠ÂøÉÔºàNacosÔºâ„ÄÅÈÖçÁΩÆ‰∏≠ÂøÉÔºàNacos CofigÔºâ„ÄÅËøúÁ®ãË∞ÉÁî®„ÄÅFeign„ÄÅÁΩëÂÖ≥ 2„ÄÅÂü∫Á°ÄÂºÄÂèë SpringBoot2.0„ÄÅSpringCloud„ÄÅMybatis-Plus„ÄÅVueÁªÑ‰ª∂Âåñ„ÄÅÈòøÈáå‰∫ëÂØπË±°Â≠òÂÇ® 3„ÄÅÁéØÂ¢É Vagrant„ÄÅLinux„ÄÅDocker„ÄÅMySQL„ÄÅRedis„ÄÅÈÄÜÂêëÂ∑•Á®ã&amp;‰∫∫‰∫∫ÂºÄÊ∫ê 4„ÄÅÂºÄÂèëËßÑËåÉ Êï∞ÊçÆÊïàÈ™åJSR303„ÄÅÂÖ®Â±ÄÂºÇÂ∏∏Â§ÑÁêÜ„ÄÅÂÖ®Â±ÄÁªü‰∏ÄËøîÂõû„ÄÅÂÖ®ÂÆ∂Ë∑®Ë∂äÂ§ÑÁêÜ Êûö‰∏æÁä∂ÊÄÅ„ÄÅ‰∏öÂä°Áä∂ÊÄÅ„ÄÅVO‰∏éTO‰∏éPOÂàíÂàÜ„ÄÅÈÄªËæëÂà†Èô§ Lombok:@Data„ÄÅ@Slf4j =ÂàÜÂ∏ÉÂºèÈ´òÁ∫ßÁØá= 1„ÄÅElasticsearch - ÂÖ®ÊñáÊ£ÄÁ¥¢ ÁÆÄ‰ªã https://www.elastic.co/cn/what-is/elasticsearch/ ÂÖ®ÊñáÊêúÁ¥¢Â±û‰∫éÊúÄÂ∏∏ËßÅÁöÑÈúÄÊ±ÇÔºåÂºÄÊ∫êÁöÑ Elasticsearch ÊòØÁõÆÂâçÂÖ®ÊñáÊêúÁ¥¢ÂºïÊìéÁöÑÈ¶ñÈÄâ„ÄÇ ‰ªñÂèØ‰ª•Âø´ÈÄüÂú∞Â≠òÂÇ®„ÄÅÊêúÁ¥¢ÂíåÂàÜÊûêÊµ∑ÈáèÊï∞ÊçÆ„ÄÇÁª¥Âü∫ÁôæÁßë„ÄÅStack Overflow„ÄÅGithub ÈÉΩÈááÁî®‰ªñ Elatic ÁöÑÂ∫ïÂ±ÇÊòØÂºÄÊ∫êÂ∫ìÂêßLucene„ÄÇ‰ΩÜÊòØÔºå‰Ω†Ê≤°Ê≥ïÁõ¥Êé•Áî®ÔºåÂøÖÈ°ªËá™Â∑±ÂÜô‰ª£Á†ÅË∞ÉÁî®ÂÆÉÁöÑÊé•Âè£ÔºåElastic ÊòØ Lunce ÁöÑÂ∞ÅË£ÖÔºåÊèê‰æõ‰∫Ü REST API ÁöÑÊìç‰ΩúÊé•Âè£ÔºåÂºÄÁÆ±Âç≥Áî® REST APIÔºöÂ§©ÁÑ∂ÁöÑË∑®Âπ≥Âè∞ ÂÆòÁΩëÊñáÊ°£Ôºöhttps://www.elastic.co/guide/en/elasticsearch/reference/current/index.html ÂÆòÁΩë‰∏≠ÊñáÔºöhttps://www.elastic.co/guide/cn/elasticsearch/guide/current/index.html Á§æÂå∫‰∏≠ÊñáÔºö http://doc.codingdict.com/elasticsearch/ 1.1„ÄÅÂü∫Êú¨Ê¶ÇÂøµ 1.1.1 index(Á¥¢Âºï) Âä®ËØçÔºåÁõ∏ÂΩì‰∫é MySQL ‰∏≠ÁöÑ insertÔºõ ÂêçËØçÔºåÁõ∏ÂΩì‰∫éMySQL ‰∏≠ÁöÑ DataBase 1.1.2 Type(Á±ªÂûã) Âú® IndexÔºàÁ¥¢ÂºïÔºâ‰∏≠ÔºåÂèØ‰ª•ÂÆö‰πâ‰∏Ä‰∏™ÊàñÂ§ö‰∏™Á±ªÂûã Á±ª‰ºº‰∫é MySQL ‰∏≠ÁöÑ TableÔºåÊØè‰∏ÄÁßçÁ±ªÂûãÁöÑÊï∞ÊçÆÊîæÂú®‰∏ÄËµ∑ 1.1.3 Document(ÊñáÊ°£) ‰øùÂ≠òÂú®Êüê‰∏™Á¥¢ÂºïÔºàindexÔºâ‰∏ãÔºåÊüêÁßçÁ±ªÂûãÔºàTypeÔºâÁöÑ‰∏Ä‰∏™Êï∞ÊçÆÔºàDocumentÔºâ,ÊñáÊ°£ÊòØ JSON Ê†ºÂºèÁöÑÔºåDocument Â∞±ÂÉèÊòØ MySQL ‰∏≠Êüê‰∏™ Table ÈáåÈù¢ÁöÑÂÜÖÂÆπ 1.1.4 ÂÄíÊéíÁ¥¢ÂºïÊú∫Âà∂ 1.2 Docker ÂÆâË£Ö ES 1.2.1 ‰∏ãËΩΩÈïúÂÉè docker pull elasticsearch:7.4.2 Â≠òÂÇ®ÂíåÊ£ÄÁ¥¢Êï∞ÊçÆ docker pull kibana:7.4.2 ÂèØËßÜÂåñÊ£ÄÁ¥¢Êï∞ÊçÆ 1.2.2 ÂàõÂª∫ÂÆû‰æã 1„ÄÅElasticSearch ÈÖçÁΩÆ 1234mkdir -p /mydata/elasticsearch/config # Áî®Êù•Â≠òÊîæÈÖçÁΩÆÊñá‰ª∂mkdir -p /mydata/elasticsearch/data # Êï∞ÊçÆecho &quot;http.host: 0.0.0.0&quot; &gt;/mydata/elasticsearch/config/elasticsearch.yml # ÂÖÅËÆ∏‰ªª‰ΩïÊú∫Âô®ËÆøÈóÆchmod -R 777 /mydata/elasticsearch/ ## ËÆæÁΩÆelasticsearchÊñá‰ª∂ÂèØËØªÂÜôÊùÉÈôê ÂêØÂä® 1234567docker run --name elasticsearch -p 9200:9200 -p 9300:9300 \\-e &quot;discovery.type=single-node&quot; \\-e ES_JAVA_OPTS=&quot;-Xms64m -Xmx512m&quot; \\-v /mydata/elasticsearch/config/elasticsearch.yml:/usr/share/elasticsearch/config/elasticsearch.yml \\-v /mydata/elasticsearch/data:/usr/share/elasticsearch/data \\-v /mydata/elasticsearch/plugins:/usr/share/elasticsearch/plugins \\-d elasticsearch:7.4.2 ÂºÄÊú∫ÂêØÂä® elasticsearch 1docker update elasticsearch --restart=always ‰ª•ÂêéÂÜçÂ§ñÈù¢Ë£ÖÂ•ΩÊèí‰ª∂ÈáçÂêØÂ∞±ÂèØ ÁâπÂà´Ê≥®ÊÑèÔºö -e ES_JAVA_OPTS=&quot;-Xms64m -Xmx128m&quot; \\ ÊµãËØïÁéØÂ¢É‰∏ãÔºåËÆæÁΩÆ ES ÁöÑÂàùÂßãÂÜÖÂ≠òÂíåÊúÄÂ§ßÂÜÖÂ≠òÔºåÂê¶ÂàôÂØºËá¥ËøáÂ§ßÂêØÂä®‰∏ç‰∫ÜES 2„ÄÅKibana 123docker run --name kibana -e ELASTICSEARCH_HOSTS=http://192.168.56.10:9200 -p 5601:5601 -d kibana:7.4.2http://192.168.56.10:9200 ÊîπÊàêËá™Â∑±Elasticsearch‰∏äÁöÑÂú∞ÂùÄ 3„ÄÅÂÆâË£Önginx Èöè‰æøÂêØÂä®‰∏Ä‰∏™ nginx ÂÆû‰æãÔºåÂè™ÊòØ‰∏∫‰∫ÜÂ§çÂà∂Âá∫ÈÖçÁΩÆ 1docker run -p80:80 --name nginx -d nginx:1.10 Â∞ÜÂÆπÂô®ÂÜÖÁöÑÈÖçÁΩÆÊñá‰ª∂Êã∑Ë¥ùÂà∞ÂΩìÂâçÁõÆÂΩï ÔºàÊ≥®ÊÑèÂêéÈù¢Êúâ‰∏™Â∞èÁÇπ Ôºâ 1docker container cp nginx:/etc/nginx . ÂàõÂª∫nginxÊñá‰ª∂Â§π 123456mkdir -p /mydata/nginx/htmlmkdir -p /mydata/nginx/logs #Áî±‰∫éÊã∑Ë¥ùÂÆåÊàêÂêé‰ºöÂú®config‰∏≠Â≠òÂú®‰∏Ä‰∏™nginxÊñá‰ª∂Â§πÔºåÊâÄ‰ª•ÈúÄË¶ÅÂ∞ÜÂÆÉÁöÑÂÜÖÂÆπÁßªÂä®Âà∞conf‰∏≠ #conf Êñá‰ª∂Â§π‰∏ãÂ∞±ÊòØÂéüÂÖànginxÁöÑÈÖçÁΩÆmv /mydata/nginx/conf/nginx/* /mydata/nginx/conf/rm -rf /mydata/nginx/conf/nginx Âà´Âøò‰∫ÜÂêéÈù¢ÁöÑÁÇπ ‰øÆÊîπÊñá‰ª∂ÂêçÁß∞Ôºömv nginx.conf ÊääËøô‰∏™conf ÁßªÂä®Âà∞ /mydata/nginx ‰∏ã ÁªàÊ≠¢ÂéüÂÆπÂô®Ôºå docker stop nginx ÊâßË°åÂëΩ‰ª§Âà†Èô§ÂÆπÂô®Ôºödocker rm $Containerid ÂàõÂª∫Êñ∞ÁöÑ nginx ÊâßË°å‰ª•‰∏ãÂëΩ‰ª§ 12345docker run -p 80:80 --name nginx \\-v /mydata/nginx/html:/usr/share/nginx/html \\-v /mydata/nginx/logs:/var/log/nginx \\-v /mydata/nginx/conf/:/etc/nginx \\-d nginx:1.10 1.3 ÂàùÊ≠•Ê£ÄÁ¥¢ 1.3.1„ÄÅ_cat GET /_cat/nodesÔºöÊü•ÁúãÊâÄÊúâËäÇÁÇπ GET /_cat/healthÔºöÊü•Áúã es ÂÅ•Â∫∑Áä∂ÂÜµ GET /_cat/masterÔºöÊü•Áúã‰∏ªËäÇÁÇπ GET /_cat/incicesÔºöÊü•ÁúãÊâÄÊúâÁ¥¢Âºï show databases; 1.3.2 Á¥¢Âºï‰∏Ä‰∏™ÊñáÊ°£Ôºà‰øùÂ≠òÔºâ ‰øùÂ≠ò‰∏Ä‰∏™Êï∞ÊçÆÔºå‰øùÂ≠òÂú®Âì™‰∏™Á¥¢ÂºïÁöÑÂì™‰∏™Á±ªÂûã‰∏ãÔºåÊåáÂÆöÁî®Âì™‰∏™ÂîØ‰∏ÄÊ†áËØÜ PUT customer/external/1; Âú® customer Á¥¢Âºï‰∏ãÁöÑ external Á±ªÂûã‰∏ã‰øùÂ≠ò 1Âè∑Êï∞ÊçÆ‰∏∫ 1PUT customer/external/1 1.3.3„ÄÅÊü•ËØ¢ÊñáÊ°£ 1GET custome/external/1 ÁªìÊûúÔºö 123456789101112{ &quot;_index&quot;: &quot;customer&quot;, // Âú®ÈÇ£‰∏™Á¥¢Âºï &quot;_type&quot;: &quot;external&quot;, // Âú®ÈÇ£‰∏™Á±ªÂûã &quot;_id&quot;: &quot;1&quot;, // ËÆ∞ÂΩïid &quot;_version&quot;: 1, „ÄÇ// ÁâàÊú¨Âè∑ &quot;_seq_no&quot;: 0, // Âπ∂ÂèëÊéßÂà∂Â≠óÊÆµÔºåÊØèÊ¨°Êõ¥Êñ∞Â∞±‰ºö+1ÔºåÁî®Êù•ÂÅö‰πêËßÇÈîÅ &quot;_primary_term&quot;: 1, //Âêå‰∏äÔºå‰∏ªÂàÜÁâáÈáçÊñ∞ÂàÜÈÖçÔºåÂ¶ÇÈáçÂêØÔºåÂ∞±‰ºöÂèòÂåñ &quot;found&quot;: true, &quot;_source&quot;: { &quot;name&quot;: &quot;John Doe&quot; // ÁúüÊ≠£ÁöÑÂÜÖÂÆπ }} 1Êõ¥Êñ∞Êê∫Â∏¶Ôºö?if_seq_no=4&amp;if_primary_term=1 1.3.4 Êõ¥Êñ∞ÊñáÊ°£ 123456789101112131415161718192021222324252627POST customer/external/1/_update{ &quot;doc&quot;:{ &quot;name&quot;:&quot;John Doew&quot; }}ÊàñËÄÖPOST customer/external/1{ &quot;name&quot;:&quot;John Doe2&quot;}ÊàñËÄÖPUT customer/external/1{ &quot;name&quot;:&quot;jack&quot;}‰∏çÂêåÔºöPostÊìç‰Ωú‰ºöÂØπÊØîÊ∫êÊñáÊ°£Êï∞ÊçÆÔºåÂ¶ÇÊûúÁõ∏Âêå‰∏ç‰ºöÊúâ‰ªÄ‰πàÊìç‰ΩúÔºåÊñáÊ°£ version ‰∏çÂ¢ûÂä† PUTÊìç‰ΩúÊÄª‰ºöÂ∞ÜÊï∞ÊçÆÈáçÊñ∞‰øùÂ≠òÂπ∂Â¢ûÂä† version ÁâàÊú¨Â∏¶ _update ÂØπÊØîÂÖÉÊï∞ÊçÆÂ¶ÇÊûú‰∏ÄÊ†∑Â∞±‰∏çËøõË°å‰ªª‰ΩïÊìç‰ΩúÁúãÂú∫ÊôØÂØπ‰∫éÂ§ßÂπ∂ÂèëÊõ¥Êñ∞Ôºå‰∏çÂ∏¶updateÂØπ‰∫éÂ§ßÂπ∂ÂèëÊü•ËØ¢Âπ∂ÂÅ∂Â∞îÊõ¥Êñ∞ÔºåÂ∏¶update ÂØπÊØîÊõ¥Êñ∞ÔºåÈáçÊñ∞ËÆ°ÁÆóÂàÜÈÖçËßÑÂàôÊõ¥Êñ∞ÂêåÊó∂Â¢ûÂä†Â±ûÊÄßPOS customer/external/1/_update{ &quot;doc&quot;:{&quot;name&quot;:&quot;Jane Doe&quot;,&quot;age&quot;:20}}PUT Âíå POST ‰∏çÂ∏¶_update‰πüÂèØ‰ª• 1.3.5 Âà†Èô§ÊñáÊ°£&amp;Á¥¢Âºï 12DELETE customer/external/1DELETE customer 1.3.6 bulk ÊâπÈáè API 12345POST customer/external/_bulk{&quot;index&quot;:{&quot;_id&quot;:&quot;1&quot;}}{&quot;name&quot;:&quot;John Doe&quot;}{&quot;index&quot;:{&quot;_id&quot;:&quot;2&quot;}}{&quot;name&quot;:&quot;John Doe&quot;} ËØ≠Ê≥ïÊ†ºÂºè 1234{action:{metadata}}\\n{requeestBody}\\n{action:{metadata}}\\n{requesetbod }\\n Â§çÊùÇÂÆû‰æãÔºö 12345678POST /_bulk{&quot;delete&quot;:{&quot;_index&quot;:&quot;website&quot;,&quot;_type&quot;:&quot;blog&quot;,&quot;_id&quot;:&quot;123&quot;}}{&quot;create&quot;:{&quot;_index&quot;:&quot;website&quot;,&quot;_type&quot;:&quot;blog&quot;,&quot;_id&quot;:&quot;123&quot;}}{&quot;title&quot;:&quot;my first blog post&quot;}{&quot;index&quot;:{&quot;_index&quot;:&quot;website&quot;,&quot;_type&quot;:&quot;blog&quot;}}{&quot;title&quot;:&quot;my second blog post&quot;}{&quot;update&quot;:{&quot;_index&quot;:&quot;website&quot;,&quot;_type&quot;:&quot;blog&quot;,&quot;_id&quot;:&quot;123&quot;}}{&quot;doc&quot;:{&quot;title&quot;:&quot;my updated blog post&quot;}} bulk API‰ª•Ê≠§ÊåâÈ°∫Â∫èÊâßË°åÊâÄÊúâÁöÑaction (Âä®‰Ωú)„ÄÇÂ¶ÇÊûú‰∏Ä‰∏Ä‰∏™Âçï‰∏™ÁöÑÂä®‰ΩúÂõ†‰ªª‰ΩïÂéüÂõ†ËÄåÂ§±Ë¥•ÔºåÂÆÉÂ∞ÜÁªßÁª≠Â§ÑÁêÜÂÆÉÂêéÈù¢Ââ©‰ΩôÁöÑÂä®‰Ωú„ÄÇÂΩìbulkAPI ËøîÂõûÊó∂ÔºåÂÆÉÂ∞ÜÊèê‰æõÊØè‰∏™Âä®‰ΩúÁöÑÁä∂ÊÄÅ(‰∏éÂèëÈÄÅÁöÑÈ°∫Â∫èÁõ∏Âêå)ÔºåÊâÄ‰ª•ÊÇ®ÂèØ‰ª•Ê£ÄÊü•ÊòØÂê¶‰∏Ä‰∏™ÊåáÂÆöÁöÑÂä®‰ΩúÊòØ‰∏çÊòØÂ§±Ë¥•‰∫Ü„ÄÇ 1.3.7 Ê†∑Êú¨ÊµãËØïÊï∞ÊçÆ ÊàëÂáÜÂ§á‰∫Ü‰∏Ä‰ªΩÈ°æÂÆ¢Èì∂Ë°åË¥¶Êà∑‰ø°ÊÅØËôöÊûÑÁöÑ JSON ÊñáÊ°£Ê†∑Êú¨ÔºåÊØè‰∏™Áî®Êà∑ÈÉΩÊúâ‰∏ãÂàóÁöÑ schema ÔºàÊ®°ÂºèÔºâÔºö 12345678910111213{ &quot;account_number&quot;: 1, &quot;balance&quot;: 39225, &quot;firstname&quot;: &quot;Amber&quot;, &quot;lastname&quot;: &quot;Duke&quot;, &quot;age&quot;: 32, &quot;gender&quot;: &quot;M&quot;, &quot;address&quot;: &quot;880 Holmes Lane&quot;, &quot;employer&quot;: &quot;Pyrami&quot;, &quot;email&quot;: &quot;amberduke@pyrami.com&quot;, &quot;city&quot;: &quot;Brogan&quot;, &quot;state&quot;: &quot;IL&quot;} https://github.com/elastic/elasticsearch/edit/master/docs/src/test/resources/accounts.json ÂØºÂÖ•ÊµãËØïÊï∞ÊçÆ POST bank/account/_bank ÊµãËØïÊï∞ÊçÆ 1.4 ËøõÈò∂Ê£ÄÁ¥¢ 1.4.1 SearchAPI ES ÊîØÊåÅ‰∏§ÁßçÂü∫Êú¨ÊñπÂºèÊ£ÄÁ¥¢: ‰∏Ä‰∏™ÊòØÈÄöËøá‰ΩøÁî® REST request URL,ÂèëÈÄÅÊêúÁ¥¢ÂèÇÊï∞Ôºå(uri + Ê£ÄÁ¥¢ÂèÇÊï∞) Âè¶‰∏Ä‰∏™ÊòØÈÄöËøá‰ΩøÁî® REST request bod Êù•ÂèëÈÄÅ‰ªñ‰ª¨Ôºå(uri + ËØ∑Ê±Ç‰Ωì) 1„ÄÅÊ£ÄÁ¥¢‰ø°ÊÅØ ‰∏ÄÂàáÊ£ÄÁ¥¢‰ªé_searchÂºÄÂßã GET /bank/_search Ê£ÄÁ¥¢ bank ‰∏ãÁöÑÊâÄÊúâ‰ø°ÊÅØÔºåÂåÖÊã¨ type Âíå docs GET /bank/_search?q=*&amp;sort=account_number:asc ËØ∑Ê±ÇÂèÇÊï∞ÊñπÂºèÊ£ÄÁ¥¢ ÂìçÂ∫îÁªìÊûúËß£Èáä took - ElasticearchÊâßË°åÊêúÁ¥¢ÁöÑÊó∂Èó¥(ÊØ´Áßí) time_ out - ÂëäËØâÊàë‰ª¨ÊêúÁ¥¢ÊòØÂê¶Ë∂ÖÊó∂ _shards - ÂëäËØâÊàë‰ª¨Â§öÂ∞ë‰∏™ÂàÜÁâáË¢´ÊêúÁ¥¢‰∫ÜÔºå‰ª•ÂèäÁªüËÆ°‰∫ÜÊàêÂäü/Â§±Ë¥•ÁöÑÊêúÁ¥¢ÂàÜÁâá hit - ÊêúÁ¥¢ÁªìÊûú hits.total - ÊêúÁ¥¢ÁªìÊûú hits.hits - ÂÆûÈôÖÁöÑÊêúÁ¥¢ÁªìÊûúÊï∞ÁªÑ(ÈªòËÆ§‰∏∫Ââç10ÁöÑÊñáÊ°£) sort - ÁªìÊûúÁöÑÊéíÂ∫èkey (ÈîÆ) (Ê≤°ÊúâÂàôÊåâ score ÊéíÂ∫è) score Âíå max score - Áõ∏ÂÖ≥ÊÄßÂæóÂàÜÂíåÊúÄÈ´òÂæóÂàÜ(ÂÖ®ÊñáÊ£ÄÁ¥¢Áî®) uri + ËØ∑Ê±Ç‰ΩìËøõË°åÊ£ÄÊü• 1234567GET /bank/_search{ &quot;query&quot;: { &quot;match_all&quot;: {} }, &quot;sort&quot;: [ { &quot;account_number&quot;: &quot;asc&quot; } ]} HTTP ÂÆ¢Êà∑Á´ØÂ∑•ÂÖ∑ÔºàPOSTMANÔºâ,getËØ∑Ê±Ç‰∏çËÉΩÊê∫Â∏¶ËØ∑Ê±Ç‰ΩìÔºåÊàë‰ª¨Âèò‰∏∫ post‰πüÊòØ‰∏ÄÊ†∑ÁöÑ Êàë‰ª¨ POST ‰∏Ä‰∏™ JSONÈ£éÊ†ºÁöÑÊü•ËØ¢ËØ∑Ê±Ç‰ΩìÂà∞ _search API ÈúÄË¶Å‰∫ÜËß£Ôºå‰∏ÄÊó¶ÊêúÁ¥¢ÁªìÊûúË¢´ËøîÂõûÔºåES Â∞±ÂÆåÊàê‰∫ÜËøôÊ¨°ËØ∑Ê±ÇÁöÑÊêúÁ¥¢ÔºåÂπ∂‰∏î‰∏ç‰ºöÁª¥Êä§‰ªª‰ΩïÊúçÂä°Á´ØÁöÑËµÑÊ∫êÊàñËÄÖÁªìÊûúÁöÑ cursorÔºàÊ∏∏Ê†áÔºâ 1.4.2„ÄÅQueryDSL 1„ÄÅÂü∫Êú¨ËØ≠Ê≥ïÊ†ºÂºè ES Êèê‰æõ‰∫Ü‰∏Ä‰∏™ÂèØ‰ª•ÊâßË°åÊü•ËØ¢ÁöÑ Json È£éÊ†ºÁöÑ DSL Ôºàdomain-specifig langurage È¢ÜÂüüÁâπÂÆöËØ≠Ë®ÄÔºâÔºåËøô‰∏™Ë¢´Êàê‰∏∫ Query DSL ÔºåËØ•Êü•ËØ¢ËØ≠Ë®ÄÈùûÂ∏∏ÂÖ®Èù¢ÔºåÂπ∂‰∏îÂàöÂºÄÂßãÁöÑÊó∂ÂÄô‰ºòÁÇπÂ§çÊùÇÔºåÁúüÊ≠£Â≠¶Â•ΩÂØπ‰ªñÁöÑÊñπÊ≥ïÊòØ‰ªé‰∏Ä‰∫õÂü∫Á°ÄÁöÑÁ§∫‰æãÂºÄÂßãÁöÑ ‰∏Ä‰∏™Êü•ËØ¢ËØ≠Âè• ÁöÑÂÖ∏ÂûãÁªìÊûÑ 123456{ QUERY_NAME:{ ARGUMENT:VALUE, ARGUMENT:VALUE..... }} Â¶ÇÊûúÈíàÂØπÊüê‰∏™Â≠óÊÆµÔºåÈÇ£‰πàÂÆÉÁöÑÁªìÊûÑÂ¶Ç‰∏ã 12345678{ QUERY_NAME:{ FIELD_NAME:{ ARGUMENT:VALUE, ARGUMENT:VALUE..... } }} 123456789GET /bank/_search{ &quot;query&quot;: { &quot;match_all&quot;: {} }, &quot;sort&quot;: [ { &quot;account_number&quot;: &quot;asc&quot; } ], &quot;from&quot;: 10, &quot;size&quot;: 10} query ÂÆö‰πâÂ¶Ç‰ΩïÊü•ËØ¢ match_all Êü•ËØ¢Á±ªÂûã„Äê‰ª£Ë°®Êü•ËØ¢ÊâÄÊúâÁöÑÊâÄÊúâ„ÄëÔºåes‰∏≠ÂèØ‰ª•Âú® query‰∏≠ ÁªÑÂêàÈùûÂ∏∏Â§öÁöÑÊü•ËØ¢Á±ªÂûãÂÆåÊàêÂ§çÊùÇÊü•ËØ¢ Èô§‰∫Ü query ÂèÇÊï∞‰πãÂ§ñÔºåÊàë‰ª¨‰πüÂèØ‰ª•‰º†ÈÄíÂÖ∂‰ªñÁöÑÂèÇÊï∞ÊîπÂèòÊü•ËØ¢ÁªìÊûÑÔºåÂ¶Ç sortÔºåsize from + size ÈôêÂÆöÔºåÂÆåÊàêÂàÜÈ°µÂäüËÉΩ sortÊéíÂ∫èÔºåÂ§öÂ≠óÊÆµÊéíÂ∫èÔºå‰ºöÂú®ÂâçÂ∫èÂ≠óÊÆµÁõ∏Á≠âÊó∂ÂêéÁª≠Â≠óÊÆµÂÜÖÈÉ®ÊéíÂ∫èÔºåÂê¶Âàô‰ª•ÂâçÂ∫è‰∏∫ÂáÜ 2„ÄÅËøîÂõûÈÉ®ÂàÜÂ≠óÊÆµ 12345678910111213141516GET bank/_search{ &quot;query&quot;:{ &quot;match_all&quot;: {} }, &quot;sort&quot;: [ { &quot;balance&quot;: { &quot;order&quot;: &quot;desc&quot; } } ], &quot;from&quot;: 5, &quot;size&quot;: 5, &quot;_source&quot;: [&quot;firstname&quot;,&quot;lastname&quot;]} 3„ÄÅmatch„ÄêÂåπÈÖçÊü•ËØ¢„Äë Âü∫Êú¨Á±ªÂûã(ÈùûÂ≠óÁ¨¶‰∏≤)ÔºåÁ≤æÂáÜÂåπÈÖç 12345678GET bank/_search{ &quot;query&quot;:{ &quot;match&quot;: { &quot;address&quot;: &quot;mill lane&quot; } }} ÂÖ®ÊñáÊ£ÄÁ¥¢ÊåâÁÖßËØÑÂàÜËøõË°åÊéíÂ∫èÔºå‰ºöÂØπÊ£ÄÁ¥¢Êù°‰ª∂ËøõË°åÂàÜËØçÂåπÈÖç 4„ÄÅmatch_phrase„ÄêÁü≠ËØ≠ÂåπÈÖç„Äë Â∞ÜÈúÄË¶ÅÂåπÈÖçÁöÑÂÄºÂΩìÊàê‰∏Ä‰∏™Êï¥‰ΩìÂçïËØçÔºà‰∏çÂàÜËØçÔºâËøõË°åÊ£ÄÁ¥¢ 1234GET /bank/_search{ &quot;query&quot;: { &quot;match_phrase&quot;: { &quot;address&quot;: &quot;mill lane&quot; } }} 5„ÄÅmulti_match„ÄêÂ§öÂ≠óÊÆµÂåπÈÖç„Äë 123456789GET bank/_search{ &quot;query&quot;:{ &quot;multi_match&quot;: { &quot;query&quot;: &quot;mill&quot;, &quot;fields&quot;: [&quot;address&quot;,&quot;city&quot;] } }} 6„ÄÅbool „ÄêÂ§çÂêàÊü•ËØ¢„Äë bool Áî®Êù•ÂÅöÂ§çÂêàÊü•ËØ¢ Â§çÂêàËØ≠Âè•ÂèØ‰ª•ÂêàÂπ∂ ‰ªª‰Ωï ÂÖ∂‰ªñÂµåÂ•óËØ≠Âè•ÔºåÂåÖÊã¨Â§çÂêàËØ≠Âè•Ôºå‰∫ÜËß£Ëøô‰∏ÄÁÇπÊòØÂæàÈáçË¶ÅÁöÑÔºåËøôÂ∞±ÊÑèÂë≥ÁùÄÔºåÂ§çÂêàËØ≠Âè•‰πãÈó¥ÂèØ‰ª•‰∫íÁõ∏ÂµåÂ•óÔºåÂèØ‰ª•Ë°®ËææÂºèÈùûÂ∏∏Â§çÊùÇÁöÑÈÄªËæë mustÔºöÂøÖÈ°ªËææÂà∞ must Âàó‰∏æÁöÑÊâÄÊúâÊù°‰ª∂ 1234567891011121314151617181920212223242526272829GET /bank/_search{ &quot;query&quot;: { &quot;bool&quot;: { &quot;must&quot;: [ { &quot;match&quot;: { &quot;gender&quot;: &quot;M&quot; } }, { &quot;match&quot;: { &quot;address&quot;: &quot;mill&quot; } } ], &quot;must_not&quot;: [ {&quot;match&quot;:{ &quot;age&quot;:&quot;18&quot; }} ], &quot;should&quot;: [ {&quot;match&quot;: { &quot;lastname&quot;: &quot;Wallace&quot; }} ] } }} should:Â∫îËØ•ËææÂà∞ should Âàó‰∏æÁöÑÊù°‰ª∂ÔºåÂ¶ÇÊûúËææÂà∞‰ºöÂ¢ûÂä†Áõ∏ÂÖ≥ÊñáÊ°£ÁöÑËØÑÂàÜÔºåÂπ∂‰∏ç‰ºöÊîπÂèòÊü•ËØ¢ÁöÑÁªìÊûúÔºåÂ¶ÇÊûú query ‰∏≠Âè™Êúâ should ‰∏îÂè™Êúâ‰∏ÄÁßçÂåπÈÖçËßÑÂàôÔºåÈÇ£‰πà shouldÁöÑÊù°‰ª∂Â∞±‰ºöË¢´‰Ωú‰∏∫ÈªòËÆ§ÂåπÈÖçÊù°‰ª∂ËÄåÂå∫ÊîπÂèòÊü•ËØ¢ÁªìÊûú 12345&quot;should&quot;: [ {&quot;match&quot;: { &quot;lastname&quot;: &quot;Wallace&quot; }} ] must_not ÂøÖÈ°ª‰∏çÊòØÊåáÂÆöÁöÑÊÉÖÂÜµ 12345&quot;must_not&quot;: [ {&quot;match&quot;:{ &quot;age&quot;:&quot;18&quot; }} ], 7„ÄÅfilter„ÄêÁªìÊûúËøáÊª§„Äë Âπ∂‰∏çÊòØÊâÄÊúâÁöÑÊü•ËØ¢ÈÉΩÈúÄË¶Å‰∫ßÁîüÂàÜÊï∞ÔºåÁâπÂà´ÊòØÈÇ£‰∫õ‰ªÖ‰ªÖÁî®‰∫é filteringÔºàËøáÊª§ÔºâÁöÑÊñáÊ°£Ôºå‰∏∫‰∫Ü‰∏çËÆ°ÁÆóÂàÜÊï∞ ES ‰ºöËá™Âä®Ê£ÄÊü•Âú∫ÊôØÂπ∂‰∏î‰ºòÂåñÊü•ËØ¢ÁöÑÊâßË°å 12345678910111213141516GET /bank/_search{ &quot;query&quot;: { &quot;bool&quot;: { &quot;must&quot;: { &quot;match_all&quot;: {} }, &quot;filter&quot;: { &quot;range&quot;: { &quot;balance&quot;: { &quot;gte&quot;: 20000, &quot;lte&quot;: 30000 } } } } }} 8„ÄÅterm Âíå match ‰∏ÄÊ†∑ÔºåÂåπÈÖçÊüê‰∏™Â±ûÊÄßÁöÑÂÄºÔºåÂÖ®ÊñáÊ£ÄÁ¥¢Â≠óÊÆµÁî® matchÔºåÂÖ∂‰ªñÈùûtextÂ≠óÊÆµÂåπÈÖçÁî® term 12345678GET bank/_search{ &quot;query&quot;:{ &quot;match_phrase&quot;: { &quot;address&quot;: &quot;789 Madison Street&quot; } }} 9„ÄÅaggregationsÔºàÊâßË°åËÅöÂêàÔºâ ËÅöÂêàÊèê‰æõ‰∫Ü‰ªéÊï∞ÊçÆÂàÜÁªÑÂíåÊèêÂèñÊï∞ÊçÆÁöÑËÉΩÂäõÔºåÊúÄÁÆÄÂçïÁöÑËÅöÂêàÊñπÊ≥ïÂ§ßËá¥Á≠â‰∫é SQL GROUP BY Âíå SQL ËÅöÂêàÂáΩÊï∞ÔºåÂú® ES ‰∏≠Ôºå‰Ω†ÊúâÊâßË°åÊêúÁ¥¢ËøîÂõû hits ÔºàÂëΩ‰∏≠ÁªìÊûúÔºâ Âπ∂‰∏îÂêåÊó∂ËøîÂõûËÅöÂêàÁªìÊûúÔºåÊää‰∏Ä‰∏™ÂìçÂ∫î‰∏≠ÁöÑÊâÄÊúâ hitsÔºàÂëΩ‰∏≠ÁªìÊûúÔºâÂàÜÈöîÂºÄÁöÑËÉΩÂäõÔºåËøôÊòØÈùûÂ∏∏Âº∫Â§ßÊúâÊïàÁöÑÔºå‰Ω†ÂèØ‰ª•ÊâßË°åÊü•ËØ¢ÂíåÂ§ö‰∏™ËÅöÂêàÔºåÂπ∂‰∏îÂú®‰∏Ä‰∏™‰ΩøÁî®‰∏≠ÂæóÂà∞ÂêÑËá™ÁöÑÔºà‰ªª‰Ωï‰∏Ä‰∏™ÁöÑÔºâËøîÂõûÁªìÊûúÔºå‰ΩøÁî®‰∏ÄÊ¨°ÁÆÄÊ¥ÅÁÆÄÂåñÁöÑ API Êù•ÈÅøÂÖçÁΩëÁªúÂæÄËøî ÊêúÁ¥¢address‰∏≠ÂåÖÂê´millÁöÑÊâÄÊúâ‰∫∫ÁöÑÂπ¥ÈæÑÂàÜÂ∏É‰ª•ÂèäÂπ≥ÂùáÂπ¥ÈæÑ 12345678910111213141516171819202122232425262728GET bank/_search{ &quot;query&quot;: { &quot;match&quot;: { &quot;address&quot;: &quot;mill&quot; } }, &quot;aggs&quot;: { &quot;ageAgg&quot;: { &quot;terms&quot;: { &quot;field&quot;: &quot;age&quot;, &quot;size&quot;: 10 } }, &quot;ageAvg&quot;:{ &quot;avg&quot;: { &quot;field&quot;: &quot;age&quot; } }, &quot;balanceAvg&quot;:{ &quot;avg&quot;: { &quot;field&quot;: &quot;balance&quot; } } }, &quot;size&quot;:0} ÊåâÁÖßÂπ¥ÈæÑËÅöÂêàÔºåÂπ∂‰∏îËØ∑Ê±ÇËøô‰∫õÂπ¥ÈæÑÊÆµÁöÑËøô‰∫õ‰∫∫ÁöÑÂπ≥ÂùáËñ™ËµÑ 123456789101112131415161718192021GET bank/_search{ &quot;query&quot;:{ &quot;match_all&quot;: {} }, &quot;aggs&quot;: { &quot;ageAgg&quot;: { &quot;terms&quot;: { &quot;field&quot;: &quot;age&quot;, &quot;size&quot;: 10 }, &quot;aggs&quot;: { &quot;ageAvg&quot;: { &quot;avg&quot;: { &quot;field&quot;: &quot;balance&quot; } } } } }} Êü•Âá∫ÊâÄÊúâÂπ¥ÈæÑÂàÜÂ∏ÉÔºåÂπ∂‰∏îËøô‰∫õÂπ¥ÈæÑÊÆµ‰∏≠MÁöÑÂπ≥ÂùáËñ™ËµÑÂíå F ÁöÑÂπ≥ÂùáËñ™ËµÑ‰ª•ÂèäËøô‰∏™Âπ¥ÈæÑÊÆµÁöÑÊÄª‰ΩìÂπ≥ÂùáËñ™ËµÑ 1234567891011121314151617181920212223242526272829GET /bank/_search{ &quot;query&quot;: { &quot;match_all&quot;: {} }, &quot;aggs&quot;: { &quot;ageAgg&quot;: { &quot;terms&quot;: { &quot;field&quot;: &quot;age&quot;, &quot;size&quot;: 100 }, &quot;aggs&quot;: { &quot;genderAgg&quot;: { &quot;terms&quot;: { &quot;field&quot;: &quot;gender.keyword&quot;, &quot;size&quot;: 10 }, &quot;aggs&quot;: { &quot;balanceAvg&quot;: { &quot;avg&quot;: { &quot;field&quot;: &quot;balance&quot; } } } } } } }} 10„ÄÅnested ÂµåÂ•óÊü•ËØ¢ Êï∞ÊçÆÁ±ªÂûãÊ¶ÇËßà ÂèÇËÄÉÂçöÂÆ¢Ôºöhttps://elastic.blog.csdn.net/article/details/82950393 1.4.3 Mapping 1„ÄÅÂ≠óÊÆµÁ±ªÂûã 2„ÄÅÊò†Â∞Ñ MappingÔºàÊò†Â∞ÑÔºâ Mapping ÊòØÁî®Êù•ÂÆö‰πâ‰∏Ä‰∏™ÊñáÊ°£ÔºàdocumentÔºâ,‰ª•Âèä‰ªñÊâÄÂåÖÂê´ÁöÑÂ±ûÊÄßÔºàfieldÔºâÊòØÂ¶Ç‰ΩïÂ≠òÂÇ®Á¥¢ÂºïÁöÑÔºåÊØîÂ¶Ç‰ΩøÁî® mappingÊù•ÂÆö‰πâÁöÑÔºö Âì™‰∫õÂ≠óÁ¨¶‰∏≤Â±ûÊÄßÂ∫îËØ•Ë¢´ÁúãÂÅöÂÖ®ÊñáÊú¨Â±ûÊÄßÔºàfull text fieldsÔºâ ÈÇ£‰∫õÂ±ûÊÄßÂåÖÂê´Êï∞Â≠óÔºåÊó•ÊúüÊàñËÄÖÂú∞ÁêÜ‰ΩçÁΩÆ ÊñáÊ°£‰∏≠ÁöÑÊâÄÊúâÂ±ûÊÄßÊòØËÉΩË¢´Á¥¢ÂºïÔºà_all ÈÖçÁΩÆÔºâ Êó•ÊúüÁöÑÊ†ºÂºè Ëá™ÂÆö‰πâÊò†Â∞ÑËßÑÂàôÊù•ÊâßË°åÂä®ÊÄÅÊ∑ªÂä†Â±ûÊÄß Êü•Áúã mapping ‰ø°ÊÅØ GET bank/_mapping ‰øÆÊîπ mapping ‰ø°ÊÅØ https://www.elastic.co/guide/en/elasticsearch/reference/7.10/mapping-types.html Ëá™Âä®ÁåúÊµãÁöÑÊò†Â∞ÑÁ±ªÂûã 3„ÄÅÊñ∞ÁâàÊú¨ÊîπÂèò ÂÖ≥Á≥ªÂûãÊï∞ÊçÆÂ∫ì‰∏≠‰∏§‰∏™Êï∞ÊçÆË°®Á§∫ÊòØÁã¨Á´ãÁöÑÔºåÂç≥‰Ωø‰ªñ‰ª¨ÈáåÈù¢ÊúâÁõ∏ÂêåÂêçÁß∞ÁöÑÂàó‰πü‰∏çÂΩ±Âìç‰ΩøÁî®Ôºå‰ΩÜES‰∏≠‰∏çÊòØËøôÊ†∑ÁöÑ„ÄÇelasticsearch ÊòØÂü∫‰∫éLuceneÂºÄÂèëÁöÑÊêúÁ¥¢ÂºïÊìéÔºåËÄåES‰∏≠‰∏çÂêåtype‰∏ãÂêçÁß∞Áõ∏ÂêåÁöÑfiled ÊúÄÁªàÂú®Lucene,‰∏≠ÁöÑÂ§ÑÁêÜÊñπÂºèÊòØ‰∏ÄÊ†∑ÁöÑ„ÄÇ ‰∏§‰∏™‰∏çÂêå type‰∏ãÁöÑ‰∏§‰∏™user_ name, Âú®ESÂêå-‰∏™Á¥¢Âºï‰∏ãÂÖ∂ÂÆûË¢´ËÆ§‰∏∫ÊòØÂêå‰∏Ä‰∏Ä‰∏™filed,‰Ω†ÂøÖÈ°ªÂú®‰∏§‰∏™‰∏çÂêåÁöÑtype‰∏≠ÂÆö‰πâÁõ∏ÂêåÁöÑfiledÊò†Â∞Ñ„ÄÇÂê¶ÂàôÔºå‰∏çÂêåtyppe‰∏≠ÁöÑÁõ∏ÂêåÂ≠óÊÆµÁß∞Â∞±‰ºöÂú®Â§ÑÁêÜ‰∏≠Âá∫Áé∞Á•ûÁ™ÅÁöÑÊÉÖÂÜµÔºåÂØºËá¥LuceneÂ§ÑÁêÜÊïàÁéá‰∏ãÈôç„ÄÇ ÂéªÊéâtypeÂ∞±ÊòØ‰∏∫‰∫ÜÊèêÈ´òESÂ§ÑÁêÜÊï∞ÊçÆÁöÑÊïàÁéá„ÄÇ ES 7.x URL ‰∏≠ÁöÑ type ÂèÇÊï∞ ÂèØÈÄâÔºåÊØîÂ¶ÇÁ¥¢Âºï‰∏Ä‰∏™ÊñáÊ°£‰∏çÂÜçË¶ÅÊ±ÇÊèê‰æõÊñáÊ°£Á±ªÂûã ES 8.X ‰∏çÂú®ÊîØÊåÅ URL ‰∏≠ÁöÑ type ÂèÇÊï∞ Ëß£ÂÜ≥Ôºö 1„ÄÅÂ∞ÜÁ¥¢Âºï‰ªéÂ§öÁ±ªÂûãËøÅÁßªÂà∞ÂçïÁ±ªÂûãÔºåÊØèÁßçÁ±ªÂûãÊñáÊ°£‰∏Ä‰∏™Áã¨Á´ãÁöÑÁ¥¢Âºï 2„ÄÅÂ∞ÜÂ∑≤Â≠òÂú®ÁöÑÁ¥¢Âºï‰∏ãÁöÑÁ±ªÂûãÊï∞ÊçÆÔºåÂÖ®ÈÉ®ËøÅÁßªÂà∞ÊåáÂÆö‰ΩçÁΩÆÂç≥ÂèØÔºåËØ¶ËßÅÊï∞ÊçÆËøÅÁßª 1„ÄÅÂàõÂª∫Êò†Â∞Ñ 123456789PUT /my_index{ &quot;mappings&quot;:{ &quot;properties&quot;: { &quot;age&quot;:{&quot;type&quot;:&quot;integer&quot;}, &quot;email&quot;:{&quot;type&quot;:&quot;keyword&quot;} } }} 2„ÄÅÊ∑ªÂä†Êñ∞ÁöÑÂ≠óÊÆµÊò†Â∞Ñ 123456789PUT /my_index/_mapping{ &quot;properties&quot;:{ &quot;employeeid&quot;:{ &quot;type&quot;:&quot;keyword&quot;, &quot;index&quot;:false } }} 3„ÄÅÊõ¥Êñ∞Êò†Â∞Ñ ÂØπ‰∫éÂ∑≤ÁªèÂ≠òÂú®ÁöÑÊò†Â∞ÑÂ≠óÊÆµÔºåÊàë‰ª¨‰∏çËÉΩÊõ¥Êñ∞ÔºåÊõ¥Êñ∞ÂøÖÈ°ªÂàõÂª∫Êñ∞ÁöÑÁ¥¢ÂºïËøõË°åÊï∞ÊçÆËøÅÁßª 4„ÄÅÊï∞ÊçÆËøÅÁßª ÂÖàÂàõ new_twitter ÁöÑÊ≠£Á°ÆÊò†Â∞ÑÔºåÁÑ∂‰πé‰ΩøÁî®Â¶Ç‰∏ãÊñπÂºèËøõË°åÊï∞ÊçÆËøÅÁßª 1234567891011121314151617181920POST _reindex [Âõ∫ÂÆöÂÜôÊ≥ï]{ &quot;source&quot;:{ &quot;index&quot;:&quot;twitter&quot; }, &quot;dest&quot;:{ &quot;index&quot;:&quot;new_twitter&quot; }}## Â∞ÜÊóßÁ¥¢ÂºïÁöÑ type ‰∏ãÁöÑÊï∞ÊçÆËøõË°åËøÅÁßªPOST _reindex{ &quot;source&quot;: { &quot;index&quot;:&quot;twitter&quot;, &quot;type&quot;:&quot;tweet&quot; }, &quot;dest&quot;:{ &quot;index&quot;:&quot;twweets&quot; }} ÂèÇËÄÉÂÆòÁΩëÔºöhttps://www.elastic.co/guide/en/elasticsearch/reference/7.10/mapping-types.html ÂèÇÊï∞Êò†Â∞ÑËßÑÂàôÔºöhttps://www.elastic.co/guide/en/elasticsearch/reference/7.10/mapping-params.html#mapping-params 1.4.4 ÂàÜËØç ‰∏Ä‰∏™ tokenizerÔºàÂàÜËØçÂô®ÔºâÊé•Êî∂‰∏Ä‰∏™Â≠óÁ¨¶ÊµÅÔºåÂ∞Ü‰πãÂàÜÂâ≤‰∏∫Áã¨Á´ãÁöÑ tokensÔºàËØçÂÖÉÔºåÈÄöÂ∏∏ÊòØÁã¨Á´ãÁöÑÂçïËØçÔºâÔºåÁÑ∂ÂêéËæìÂá∫ token ÊµÅ ÂàóÂ¶ÇÔºåwitespace tokenizer ÈÅáÂà∞ÁöÑÁ©∫ÁôΩÂ≠óÁ¨¶Êó∂ÂàÜÂâ≤ÊñáÊú¨ÔºåÂÆÉ‰ºöÂ∞ÜÊñáÊú¨ ‚ÄúQuick brown fox‚Äù ÂàÜÂâ≤‰∏∫ „ÄêQuick brown fox„Äë ËØ• tokenizer (ÂàÜËØçÂô®)ËøòË¥üË¥£ËÆ∞ÂΩïÂêÑ‰∏™term (ËØçÊù°)ÁöÑÈ°∫Â∫èÊàñ position ‰ΩçÁΩÆ(Áî®‰∫éphraseÁü≠ËØ≠Âíåword proximityËØçËøëÈÇªÊü•ËØ¢)Ôºå‰ª•Âèä term (ËØçÊù°)ÊâÄ‰ª£Ë°®ÁöÑÂéüÂßã word (ÂçïËØç)ÁöÑstart(Ëµ∑Âßã)Âíåend (ÁªìÊùü)ÁöÑ character offsets (Â≠óÁ¨¶ÂÅèÁßªÈáè) (Áî®‰∫é È´ò‰∫ÆÊòæÁ§∫ÊêúÁ¥¢ÁöÑÂÜÖÂÆπ)„ÄÇ Elasticsearch Êèê‰æõ‰∫ÜÂæàÂ§öÂÜÖÁΩÆÁöÑÂàÜËØçÂô®ÔºåÂèØ‰ª•Áî®Êù•ÊûÑÂª∫custom analyzers(Ëá™ÂÆö‰πâÂàÜËØçÂô®) 1„ÄÅÂÆâË£Ö ik ÂàÜËØçÂô® Ê≥®ÊÑè:‰∏çËÉΩÁî®ÈªòËÆ§ÁöÑ elasticsearch-plugin.install xxx.zip ËøõË°åËá™Âä®ÂÆâË£Ö https://github.com/medcl/elasticsearch-analysis-ik/releases ‰∏ãËΩΩ‰∏é esÂØπÂ∫îÁöÑÁâàÊú¨ ÂÆâË£ÖÂêéÊã∑Ë¥ùÂà∞ plugins ÁõÆÂΩï‰∏ã 2„ÄÅÊµãËØï ÂàÜËØçÂô® 3„ÄÅËá™ÂÆö‰πâËØçÂ∫ì ‰øÆÊîπ /usr/share/elasticsearch/plugins/ik/config/‰∏≠ÁöÑ IKAnalyzer.cfg.xml /usr/share/elasticsearch/plugins/ik/config 1234567891011121314&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;!DOCTYPE properties SYSTEM &quot;http://java.sun.com/dtd/properties.dtd&quot;&gt;&lt;properties&gt; &lt;comment&gt;IK Analyzer Êâ©Â±ïÈÖçÁΩÆ&lt;/comment&gt; &lt;!--Áî®Êà∑ÂèØ‰ª•Âú®ËøôÈáåÈÖçÁΩÆËá™Â∑±ÁöÑÊâ©Â±ïÂ≠óÂÖ∏ --&gt; &lt;entry key=&quot;ext_dict&quot;&gt;&lt;/entry&gt; &lt;!--Áî®Êà∑ÂèØ‰ª•Âú®ËøôÈáåÈÖçÁΩÆËá™Â∑±ÁöÑÊâ©Â±ïÂÅúÊ≠¢ËØçÂ≠óÂÖ∏--&gt; &lt;entry key=&quot;ext_stopwords&quot;&gt;&lt;/entry&gt; &lt;!--Áî®Êà∑ÂèØ‰ª•Âú®ËøôÈáåÈÖçÁΩÆËøúÁ®ãÊâ©Â±ïÂ≠óÂÖ∏ --&gt; &lt;entry key=&quot;remote_ext_dict&quot;&gt;http://192.168.56.10/es/fenci.txt&lt;/entry&gt; &lt;!--Áî®Êà∑ÂèØ‰ª•Âú®ËøôÈáåÈÖçÁΩÆËøúÁ®ãÊâ©Â±ïÂÅúÊ≠¢ËØçÂ≠óÂÖ∏--&gt; &lt;!-- &lt;entry key=&quot;remote_ext_stopwords&quot;&gt;words_location&lt;/entry&gt; --&gt;&lt;/properties&gt; 1.5 Elasticsearch - Rest - client 1„ÄÅ9300ÔºöTCP Spring-data-elasticsearch:transport-api.jar SpringBootÁâàÊú¨‰∏çÂêåÔºåtransport-api.jar ‰∏çÂêåÔºå‰∏çËÉΩÈÄÇÈÖç es ÁâàÊú¨ 7.x Â∑≤Áªè‰∏çÂú®ÈÄÇÂêà‰ΩøÁî®Ôºå8 ‰ª•ÂêéÂ∞±Ë¶ÅÂ∫üÂºÉ 2„ÄÅ9200ÔºöHTTP JestClient ÈùûÂÆòÊñπÔºåÊõ¥Êñ∞ÊÖ¢ RestTemplate:ÈªòËÆ§ÂèëÈÄÅ HTTP ËØ∑Ê±ÇÔºåESÂæàÂ§öÊìç‰ΩúÈÉΩÈúÄË¶ÅËá™Â∑±Â∞ÅË£Ö„ÄÅÈ∫ªÁÉ¶ HttpClientÔºöÂêå‰∏ä Elasticsearch - Rest - ClientÔºöÂÆòÊñπRestClientÔºåÂ∞ÅË£Ö‰∫Ü ES Êìç‰ΩúÔºåAPIÂ±ÇÊ¨°ÂàÜÊòé ÊúÄÁªàÈÄâÊã© Elasticsearch - Rest - Client Ôºàelasticsearch - rest - high - level - clientÔºâ 1.5.1 SpringBoot Êï¥Âêà 1„ÄÅPom.xml 123456&lt;!-- ÂØºÂÖ•esÁöÑ rest-high-level-client --&gt;&lt;dependency&gt; &lt;groupId&gt;org.elasticsearch.client&lt;/groupId&gt; &lt;artifactId&gt;elasticsearch-rest-high-level-client&lt;/artifactId&gt; &lt;version&gt;7.4.2&lt;/version&gt;&lt;/dependency&gt; ‰∏∫‰ªÄ‰πàË¶ÅÂØºÂÖ•Ëøô‰∏™ÔºüËøô‰∏™ÈÖçÁΩÆÈÇ£ÈáåÊù•ÁöÑÔºü ÂÆòÁΩëÔºöhttps://www.elastic.co/guide/en/elasticsearch/client/java-rest/current/java-rest-high-getting-started-maven.html 1.5.2 ConfigÈÖçÁΩÆ 1234567891011121314151617181920212223242526272829303132333435363738/** * @author gcq * @Create 2020-10-26 * * 1„ÄÅÂØºÂÖ•ÈÖçÁΩÆ * 2„ÄÅÁºñÂÜôÈÖçÁΩÆÔºåÁªôÂÆπÂô®Ê≥®ÂÖ•‰∏Ä‰∏™RestHighLevelClient * 3„ÄÅÂèÇÁÖßAPI ÂÆòÁΩëËøõË°åÂºÄÂèë */@Configurationpublic class GulimallElasticsearchConfig { public static final RequestOptions COMMON_OPTIONS; static { RequestOptions.Builder builder = RequestOptions.DEFAULT.toBuilder();// builder.addHeader(&quot;Authorization&quot;, &quot;Bearer &quot; + TOKEN);// builder.setHttpAsyncResponseConsumerFactory(// new HttpAsyncResponseConsumerFactory// .HeapBufferedResponseConsumerFactory(30 * 1024 * 1024 * 1024)); COMMON_OPTIONS = builder.build(); } @Bean public RestHighLevelClient esRestClient() { RestClientBuilder builder = null; builder = RestClient.builder(new HttpHost(&quot;192.168.56.10&quot;, 9200, &quot;http&quot;)); RestHighLevelClient client = new RestHighLevelClient(builder);// RestHighLevelClient client = new RestHighLevelClient(// RestClient.builder(// new HttpHost(&quot;localhost&quot;, 9200, &quot;http&quot;),// new HttpHost(&quot;localhost&quot;, 9201, &quot;http&quot;))); return client; }} ÂÆòÁΩëÔºöhttps://www.elastic.co/guide/en/elasticsearch/client/java-rest/current/java-rest-high-getting-started-initialization.html 1.5.3 ‰ΩøÁî® ÊµãËØïÊòØÂê¶Ê≥®ÂÖ•ÊàêÂäü 1234567@Autowiredprivate RestHighLevelClient client;@Testpublic void contextLoads() { System.out.println(client);} ÊµãËØïÊòØÂê¶ËÉΩ Ê∑ªÂä† ÊàñÊõ¥Êñ∞Êï∞ÊçÆ 1234567891011121314151617181920/** * Ê∑ªÂä†ÊàñËÄÖÊõ¥Êñ∞ * @throws IOException */@Testpublic void indexData() throws IOException { IndexRequest indexRequest = new IndexRequest(&quot;users&quot;); User user = new User(); user.setAge(19); user.setGender(&quot;Áî∑&quot;); user.setUserName(&quot;Âº†‰∏â&quot;); String jsonString = JSON.toJSONString(user); indexRequest.source(jsonString,XContentType.JSON); // ÊâßË°åÊìç‰Ωú IndexResponse index = client.index(indexRequest, GulimallElasticsearchConfig.COMMON_OPTIONS); // ÊèêÂèñÊúâÁî®ÁöÑÂìçÂ∫îÊï∞ÊçÆ System.out.println(index);} ÊµãËØïÂ§çÊùÇÊ£ÄÁ¥¢ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061 @Test public void searchTest() throws IOException { // 1„ÄÅÂàõÂª∫Ê£ÄÁ¥¢ËØ∑Ê±Ç SearchRequest searchRequest = new SearchRequest(); // ÊåáÂÆöÁ¥¢Âºï searchRequest.indices(&quot;bank&quot;); // ÊåáÂÆö DSLÔºåÊ£ÄÁ¥¢Êù°‰ª∂ SearchSourceBuilder sourceBuilder = new SearchSourceBuilder(); sourceBuilder.query(QueryBuilders.matchQuery(&quot;address&quot;, &quot;mill&quot;)); //1„ÄÅ2 ÊåâÁÖßÂπ¥ÈæÑÂÄºÂàÜÂ∏ÉËøõË°åËÅöÂêà TermsAggregationBuilder aggAvg = AggregationBuilders.terms(&quot;ageAgg&quot;).field(&quot;age&quot;).size(10); sourceBuilder.aggregation(aggAvg); //1„ÄÅ3 ËÆ°ÁÆóÂπ≥ÂùáËñ™ËµÑ AvgAggregationBuilder balanceAvg = AggregationBuilders.avg(&quot;balanceAvg&quot;).field(&quot;balance&quot;); sourceBuilder.aggregation(balanceAvg); System.out.println(&quot;Ê£ÄÁ¥¢Êù°‰ª∂&quot; + sourceBuilder.toString()); searchRequest.source(sourceBuilder); // 2„ÄÅÊâßË°åÊ£ÄÁ¥¢ SearchResponse searchResponse = client.search(searchRequest, GulimallElasticsearchConfig.COMMON_OPTIONS); // 3„ÄÅÂàÜÊûêÁªìÊûú System.out.println(searchResponse.toString()); // 4„ÄÅÊãøÂà∞ÂëΩ‰∏≠ÂæóÁªìÊûú SearchHits hits = searchResponse.getHits(); // 5„ÄÅÊêúÁ¥¢ËØ∑Ê±ÇÁöÑÂåπÈÖç SearchHit[] searchHits = hits.getHits(); // 6„ÄÅËøõË°åÈÅçÂéÜ for (SearchHit hit : searchHits) { // 7„ÄÅÊãøÂà∞ÂÆåÊï¥ÁªìÊûúÂ≠óÁ¨¶‰∏≤ String sourceAsString = hit.getSourceAsString(); // 8„ÄÅËΩ¨Êç¢ÊàêÂÆû‰ΩìÁ±ª Accout accout = JSON.parseObject(sourceAsString, Accout.class); System.out.println(&quot;account:&quot; + accout ); } // 9„ÄÅÊãøÂà∞ËÅöÂêà Aggregations aggregations = searchResponse.getAggregations();// for (Aggregation aggregation : aggregations) {//// } // 10„ÄÅÈÄöËøáÂÖàÂâçÂêçÂ≠óÊãøÂà∞ÂØπÂ∫îËÅöÂêà Terms ageAgg1 = aggregations.get(&quot;ageAgg&quot;); for (Terms.Bucket bucket : ageAgg1.getBuckets()) { // 11„ÄÅÊãøÂà∞ÁªìÊûú String keyAsString = bucket.getKeyAsString(); System.out.println(&quot;Âπ¥ÈæÑ:&quot; + keyAsString); long docCount = bucket.getDocCount(); System.out.println(&quot;‰∏™Êï∞Ôºö&quot; + docCount); } Avg balanceAvg1 = aggregations.get(&quot;balanceAvg&quot;); System.out.println(&quot;Âπ≥ÂùáËñ™ËµÑÔºö&quot; + balanceAvg1.getValue()); System.out.println(searchResponse.toString()); } ÁªìÊûúÔºö 1234567accout:GulimallSearchApplicationTests.Accout(account_number=970, balance=19648, firstname=Forbes, lastname=Wallace, age=28, gender=M, address=990 Mill Road, employer=Pheast, email=forbeswallace@pheast.com, city=Lopezo, state=AK)accout:GulimallSearchApplicationTests.Accout(account_number=136, balance=45801, firstname=Winnie, lastname=Holland, age=38, gender=M, address=198 Mill Lane, employer=Neteria, email=winnieholland@neteria.com, city=Urie, state=IL)accout:GulimallSearchApplicationTests.Accout(account_number=345, balance=9812, firstname=Parker, lastname=Hines, age=38, gender=M, address=715 Mill Avenue, employer=Baluba, email=parkerhines@baluba.com, city=Blackgum, state=KY)accout:GulimallSearchApplicationTests.Accout(account_number=472, balance=25571, firstname=Lee, lastname=Long, age=32, gender=F, address=288 Mill Street, employer=Comverges, email=leelong@comverges.com, city=Movico, state=MT)Âπ¥ÈæÑ:38‰∏™Êï∞:2Âπ¥ÈæÑ:28‰∏™Êï∞:1Âπ¥ÈæÑ:32‰∏™Êï∞:1Âπ≥ÂùáËñ™Ê∞¥:25208.0 ÊÄªÁªìÔºöÂèÇËÄÉÂÆòÁΩëÁöÑAPI ÂíåÂØπÂ∫îÂú® kibana ‰∏≠ÂèëÈÄÅÁöÑËØ∑Ê±ÇÔºåÂú®‰ª£Á†Å‰∏≠ÈÄöËøáË∞ÉÁî®ÂØπÂ∫îAPIÂÆûÁé∞ÊïàÊûú ÂÆòÁΩëÔºöhttps://www.elastic.co/guide/en/elasticsearch/client/java-rest/current/java-rest-high-search.html#java-rest-high-search-request-optional ELK Elasticsearch Áî®‰∫éÊ£ÄÁ¥¢Êï∞ÊçÆ logstachÔºöÂ≠òÂÇ®Êï∞ÊçÆ Kiban:ËßÜÂõæÂåñÊü•ÁúãÊï∞ÊçÆ 2„ÄÅÂïÜÂüé‰∏öÂä° &amp; ÂïÜÂìÅ‰∏äÊû∂ ‰∏äÊû∂ÁöÑÂïÜÂìÅÊâçÂèØ‰ª•Âú®ÁΩëÁ´ôÂ±ïÁ§∫ ‰∏äÊû∂ÁöÑÂïÜÂìÅÈúÄË¶ÅÂèØ‰ª•Ê£ÄÁ¥¢ 2.1 ÂïÜÂìÅMapping ÂàÜÊûêÔºöÂïÜÂìÅ‰∏äÊû∂Âú® es ‰∏≠ÊòØÂ≠òÂÖ• sku ËøòÊòØ spu Ôºü 1„ÄÅÊ£ÄÁ¥¢ÁöÑÊó∂ÂÄôËæìÂÖ•ÂêçÂ≠óÔºåÊòØÈúÄË¶ÅÊåâÁÖß sku ÁöÑ titleËøõË°åÂÖ®ÊñáÊ£ÄÁ¥¢ÁöÑ 2„ÄÅÊ£ÄÁ¥¢‰ΩøÁî®ÂïÜÂìÅËßÑÊ†ºÔºåËßÑÊ†ºÊòØ spu ÁöÑÂÖ¨ÂÖ±Â±ûÊÄßÔºåÊØè‰∏™ spu ÊòØ‰∏ÄÊ†∑ÁöÑ 3„ÄÅÊåâÁÖßÂàÜÁ±ª id ËøõÂéªÁöÑ ÈÉΩÊòØÁõ¥Êé•ÂàóÂá∫ spuÁöÑÔºåËøòÂèØ‰ª•ÂàáÊç¢ 4„ÄÅÊàë‰ª¨Â¶ÇÊûúÂ∞Ü sku ÁöÑ ÂÖ®Èáè‰ø°ÊÅØ ‰øùÂ≠òÂú® es ‰∏≠ ÔºàÂåÖÊã¨ spu Â±ûÊÄßÔºâÔºåÂ∞±Â§™Â§öÈáèÂ≠óÊÆµ‰∫Ü 5„ÄÅÂ¶ÇÊûúÊàë‰ª¨Â∞Ü spu ‰ª•Âèä‰ªñÂåÖÂê´ÁöÑ sku ‰ø°ÊÅØ‰øùÂ≠òÂà∞ es ‰∏≠Ôºå‰πüÂèØ‰ª•Êñπ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970PUT product{ &quot;mappings&quot;:{ &quot;properties&quot;:{ &quot;skuId&quot;:{ &quot;type&quot;:&quot;long&quot; }, &quot;spuId&quot;:{ &quot;type&quot;:&quot;keyword&quot; }, &quot;skuTitle&quot;:{ &quot;type&quot;:&quot;text&quot;, &quot;analyzer&quot;: &quot;ik_smart&quot; }, &quot;skuPrice&quot;:{ &quot;type&quot;:&quot;keyword&quot; }, &quot;skuImg&quot;:{ &quot;type&quot;:&quot;text&quot;, &quot;analyzer&quot;: &quot;ik_smart&quot; }, &quot;saleCount&quot;:{ &quot;type&quot;:&quot;long&quot; }, &quot;hasStock&quot;:{ &quot;type&quot;:&quot;boolean&quot; }, &quot;hotScore&quot;:{ &quot;type&quot;:&quot;long&quot; }, &quot;brandId&quot;:{ &quot;type&quot;:&quot;long&quot; }, &quot;catelogId&quot;:{ &quot;type&quot;:&quot;long&quot; }, &quot;brandName&quot;:{ &quot;type&quot;:&quot;keyword&quot;, &quot;index&quot;: false, &quot;doc_values&quot;: false }, &quot;brandImg&quot;:{ &quot;type&quot;:&quot;keyword&quot;, &quot;index&quot;: false, &quot;doc_values&quot;: false }, &quot;catalogName&quot;:{ &quot;type&quot;:&quot;keyword&quot;, &quot;index&quot;: false, &quot;doc_values&quot;: false }, &quot;attrs&quot;:{ &quot;type&quot;:&quot;nested&quot;, &quot;properties&quot;: { &quot;attrId&quot;:{ &quot;type&quot;:&quot;long&quot; }, &quot;attrName&quot;:{ &quot;type&quot;:&quot;keyword&quot;, &quot;index&quot;:false, &quot;doc_values&quot;:false }, &quot;attrValue&quot;: { &quot;type&quot;:&quot;keyword&quot; } } } } }} 2.2 ÂïÜÂìÅ‰∏äÊû∂Êé•Âè£ÁºñÂÜô ÈúÄÊ±ÇÂàÜÊûêÔºö ‰∏äÊû∂ÂïÜÂìÅ„ÄÅÂ∞ÜËØ•ÂïÜÂìÅÁõ∏ÂÖ≥Â±ûÊÄß‰∏ä‰º†Âà∞ Es‰∏≠ ‰∏∫ÊêúÁ¥¢ÊúçÂä°ÂÅöÈì∫Âû´ Controller 1234567891011/** * ÂïÜÂìÅ‰∏äÊû∂ * @param spuId * @return */@RequestMapping(&quot;/{spuId}/up&quot;)public R list(@PathVariable(&quot;spuId&quot;) Long spuId){ spuInfoService.up(spuId); return R.ok();} Service 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108@Overridepublic void up(Long spuId) { // 1„ÄÅÊü•Âá∫ÂΩìÂâç spuid ÂØπÂ∫îÁöÑÊâÄÊúâskuid‰ø°ÊÅØÔºåÂìÅÁâåÁöÑÂêçÂ≠ó List&lt;SkuInfoEntity&gt; skus = skuInfoService.getSkuBySpuId(spuId); // ÂèñÂá∫ Skuid ÁªÑÊàêÈõÜÂêà List&lt;Long&gt; skuIds = skus.stream().map(SkuInfoEntity::getSkuId).collect(Collectors.toList()); //TODO 4„ÄÅÊü•ËØ¢ÂΩìÂâç sku ÁöÑÊâÄÊúâÂèØ‰ª•Áî®Êù•Ë¢´Ê£ÄÁ¥¢ÁöÑËßÑÊ†ºÂ±ûÊÄß List&lt;ProductAttrValueEntity&gt; attrValueEntities = attrValueService.baseAttrListforspu(spuId); // ËøîÂõûÊâÄÊúâ attrId List&lt;Long&gt; attrIds = attrValueEntities.stream().map(attr -&gt; { return attr.getAttrId(); }).collect(Collectors.toList()); // Ê†πÊçÆ attrIds Êü•ËØ¢Âá∫ Ê£ÄÁ¥¢Â±ûÊÄßÔºåpms_attrË°®‰∏≠ search_type‰∏∫‰∏Ä ÂàôÊòØÊ£ÄÁ¥¢Â±ûÊÄß List&lt;Long&gt; searchAttrIds = attrService.selectSearchAttrs(attrIds); // Â∞ÜÊü•ËØ¢Âá∫Êù•ÁöÑ attr_id ÊîæÂà∞ set ÈõÜÂêà‰∏≠ Áî®Êù•Âà§Êñ≠ attrValueEntities ÊòØÂê¶ÂåÖÂê´ attrId Set&lt;Long&gt; idSet = new HashSet&lt;&gt;(searchAttrIds); List&lt;SkuEsModel.Attrs&gt; attrList = attrValueEntities.stream().filter(item -&gt; { // ËøáÊª§Êéâ‰∏çÂåÖÂê´Âú® searchAttrIdsÈõÜÂêà‰∏≠ÁöÑÂÖÉÁ¥† return idSet.contains(item.getAttrId()); }).map(item -&gt; { SkuEsModel.Attrs attrs1 = new SkuEsModel.Attrs(); // Â±ûÊÄßÂØπÊã∑ Â∞Ü ProductAttrValueEntityÂØπË±°‰∏é SkuEsModel.AttrsÁõ∏ÂêåÁöÑÂ±ûÊÄßËøõË°åÊã∑Ë¥ù BeanUtils.copyProperties(item, attrs1); return attrs1; }).collect(Collectors.toList()); //TODO 1„ÄÅÂèëÈÄÅËøúÁ®ãË∞ÉÁî®ÔºåÂ∫ìÂ≠òÁ≥ªÁªüÊü•ËØ¢ÊòØÂê¶ÊúâÂ∫ìÂ≠ò Map&lt;Long, Boolean&gt; stockMap = null; try { R r = wareFeignService.getSkuHasStock(skuIds); // key ÊòØ SkuHasStockVoÁöÑ skuid valueÊòØ itemÁöÑhasStock ÊòØÂê¶Êã•ÊúâÂ∫ìÂ≠ò TypeReference&lt;List&lt;SkuHasStockVo&gt;&gt; typeReference = new TypeReference&lt;List&lt;SkuHasStockVo&gt;&gt;() { }; stockMap = r.getData(typeReference).stream().collect(Collectors.toMap(SkuHasStockVo::getSkuId, item -&gt; item.getHasStock())); } catch (Exception e) { log.error(&quot;Â∫ìÂ≠òÊúçÂä°ÂºÇÂ∏∏ÔºöÂéüÂõ†Ôºö{}&quot;,e); e.printStackTrace(); } // 2„ÄÅÂ∞ÅË£ÖÊØè‰∏™ sku ÁöÑ‰ø°ÊÅØ Map&lt;Long, Boolean&gt; finalStockMap = stockMap; List&lt;SkuEsModel&gt; upProducts = skus.stream().map(sku -&gt; { // ÁªÑË£ÖÈúÄË¶ÅÊü•ËØ¢ÁöÑÊï∞ÊçÆ SkuEsModel skuEsModel = new SkuEsModel(); BeanUtils.copyProperties(sku, skuEsModel); skuEsModel.setSkuPrice(sku.getPrice()); skuEsModel.setSkuImg(sku.getSkuDefaultImg()); // ËÆæÁΩÆÂ±ûÊÄß skuEsModel.setAttrs(attrList); // ËÆæÁΩÆÂ∫ìÂ≠ò‰ø°ÊÅØ if (finalStockMap == null) { // ËøúÁ®ãÊúçÂä°Âá∫Áé∞ÈóÆÈ¢òÔºå‰ªªÁÑ∂ËÆæÁΩÆ‰∏∫null skuEsModel.setHasStock(true); } else { skuEsModel.setHasStock(finalStockMap.get(sku.getSkuId())); } //TODO 2„ÄÅÁÉ≠Â∫¶È¢ëÂàÜ 0 skuEsModel.setHotScore(0L); //TODO 3„ÄÅÊü•ËØ¢ÂìÅÁâåÂêçÂ≠óÂíåÂàÜÁ±ªÁöÑ‰ø°ÊÅØ BrandEntity brandEntity = brandService.getById(skuEsModel.getBrandId()); skuEsModel.setBrandName(brandEntity.getName()); skuEsModel.setBrandImg(brandEntity.getLogo()); CategoryEntity categoryEntity = categoryService.getById(skuEsModel.getCatalogId()); skuEsModel.setCatalogName(categoryEntity.getName()); return skuEsModel; }).collect(Collectors.toList()); //TODO 5„ÄÅÂ∞ÜÊï∞ÊçÆÂèëÈÄÅÁªô es‰øùÂ≠ò ÔºåÁõ¥Êé•ÂèëÈÄÅÁªô searchÊúçÂä° R r = esFeignClient.productStatusUp(upProducts); if (r.getCode() == 0) { // ËøúÁ®ãË∞ÉÁî®ÊàêÂäü // TODO 6„ÄÅ‰øÆÊîπÂΩìÂâç spu ÁöÑÁä∂ÊÄÅ baseMapper.updateSpuStatus(spuId, ProductConstant.StatusEnum.SPU_UP.getCode()); } else { // ËøúÁ®ãË∞ÉÁî®Â§±Ë¥• //TODO 7„ÄÅÈáçÂ§çË∞ÉÁî®Ôºü Êé•Âè£ÂÜ•Á≠âÊÄß ÈáçËØïÊú∫Âà∂ /** * 1„ÄÅÊûÑÈÄ†ËØ∑Ê±ÇÊï∞ÊçÆÔºåÂ∞ÜÂØπË±°ËΩ¨Êàêjson * RequestTemplate template = buildTemplateFromArgs.create(argv); * 2„ÄÅÂèëÈÄÅËØ∑Ê±ÇËøõË°åÊâßË°å(ÊâßË°åÊàêÂäüËøõË°åËß£Á†Å) * executeAndDecode(template); * 3„ÄÅÊâßË°åËØ∑Ê±Ç‰ºöÊúâÈáçËØïÊú∫Âà∂ * while (true) { * try { * return executeAndDecode(template); * } catch (RetryableException e) { * try { * retryer.continueOrPropagate(e); * } catch (RetryableException th) { * throw cause; * } * continute */ }} 2.2.1„ÄÅÂèëÈÄÅËøúÁ®ãË∞ÉÁî®ÔºåÂ∫ìÂ≠òÁ≥ªÁªüÊü•ËØ¢ÊòØÂê¶ÊúâÂ∫ìÂ≠ò 12345678910111213/** * Ê†πÊçÆ skuIds Êü•ËØ¢ÊòØÂê¶ÊúâÂ∫ìÂ≠ò * @param skuIds * @return */@PostMapping(&quot;/hasstock&quot;)public R getSkuHasStock(@RequestBody List&lt;Long&gt; skuIds) { List&lt;SkuHasStockVo&gt; vos = wareSkuService.getSkusStock(skuIds); R ok = R.ok(); ok.setData(vos); return ok;} Service 123456789101112131415@Overridepublic List&lt;SkuHasStockVo&gt; getSkusStock(List&lt;Long&gt; skuIds) { List&lt;SkuHasStockVo&gt; collect = skuIds.stream().map(skuId -&gt; { SkuHasStockVo vo = new SkuHasStockVo(); // Êü•ËØ¢ÂΩìÂâç sku ÁöÑÊÄªÂ∫ìÂ≠òËâØ // SELECT SUM(stock-stock_locked) FROM `wms_ware_sku` WHERE sku_id = 1 Long count = baseMapper.getSkuStock(skuId); vo.setSkuId(skuId); vo.setHasStock(count == null?false:count&gt;0); return vo; }).collect(Collectors.toList()); return collect;} 2.2.2 Â∞ÜÊï∞ÊçÆÂèëÈÄÅÁªô es‰øùÂ≠ò ÔºåÁõ¥Êé•ÂèëÈÄÅÁªô searchÊúçÂä° controller 123456789101112131415161718192021/** * ‰∏äÊû∂ÂïÜÂìÅ * @param skuEsModelList * @return */ @PostMapping(&quot;/product&quot;) public R productStatusUp(@RequestBody List&lt;SkuEsModel&gt; skuEsModelList){ boolean b = false; try { b = productSaveService.productStatusUp(skuEsModelList); } catch (Exception e) { log.error(&quot;ElasticSaveControllerÂïÜÂìÅ‰∏äÊû∂ÈîôËØØÔºö{}&quot;,e); return R.error(BizCodeEnume.PRODUCT_UP_EXCEPTION.getCode(),BizCodeEnume.PRODUCT_UP_EXCEPTION.getMsg()); } if (!b) { return R.ok(); } else { return R.error(BizCodeEnume.PRODUCT_UP_EXCEPTION.getCode(),BizCodeEnume.PRODUCT_UP_EXCEPTION.getMsg()); } } service 123456789101112131415161718192021222324252627282930@Overridepublic boolean productStatusUp(List&lt;SkuEsModel&gt; skuEsModelList) throws IOException { // ‰øùÂ≠òÂà∞es // ÊâπÈáè‰øùÂ≠ò BulkRequest bulkRequest = new BulkRequest(); for (SkuEsModel model : skuEsModelList) { // 1„ÄÅÊûÑÈÄ†ËØ∑Ê±Ç ÊåáÂÆöesÁ¥¢Âºï IndexRequest indexRequest = new IndexRequest(EsConstant.PRODUCT_INDEX); // 1.1 ÊåáÂÆöid indexRequest.id(model.getSkuId().toString()); // 1.2 Â∞ÜÂØπË±°esmodelÂØπË±°ËΩ¨Êç¢Êàê json ËøõË°åÂ≠òÂÇ® String s = JSON.toJSONString(model); // 1.3 ËÆæÁΩÆÊñáÊ°£Ê∫ê indexRequest.source(s, XContentType.JSON); bulkRequest.add(indexRequest); } BulkResponse bulk = restHighLevelClient.bulk(bulkRequest, GulimallElasticsearchConfig.COMMON_OPTIONS); // TODO 1„ÄÅ Â¶ÇÊûúÊâπÈáèÈîôËØØ boolean b = bulk.hasFailures(); List&lt;String&gt; collect = Arrays.stream(bulk.getItems()).map(item -&gt; { return item.getId(); }).collect(Collectors.toList()); log.error(&quot;ÂïÜÂìÅ‰∏äÊû∂ÂÆåÊàêÔºö{}&quot;,collect); return b;} ‰∏öÂä°ÊµÅÁ®ãÊÄªÁªìÔºö ÂâçÁ´ØÁÇπÂáª‰∏äÊû∂ÂêéÔºåÂèëÈÄÅËØ∑Ê±ÇÂπ∂Â∏¶‰∏äÂèÇÊï∞ spuid Ê†πÊçÆ spuid Êü•ËØ¢ pms_sku_info Ë°®ÂæóÂà∞ÂïÜÂìÅÁõ∏ÂÖ≥Â±ûÊÄß Ê†πÊçÆ spuid Êü•ËØ¢ pms_product_attr_value Ë°®ÂæóÂà∞ÂèØ‰ª•Áî®Êù•Ê£ÄÁ¥¢ÁöÑËßÑÊ†ºÂ±ûÊÄß ‰ªé ProductAttrValueEntity ‰∏≠ÊãøÂà∞ÊâÄÊúâÁöÑ attrIdÔºåÊ†πÊçÆ attrId Êü•ËØ¢ pms_attr Êü•ËØ¢Ê£ÄÁ¥¢ÁöÑÂ±ûÊÄß xÊ†πÊçÆ pms_attr Êü•ËØ¢Âà∞Ê£ÄÁ¥¢Â±ûÊÄßÂêéÔºåÁî®Ê£ÄÁ¥¢Â±ûÊÄßÂíå ÂéüÂÖàÊ†πÊçÆ spuid Êü•ËØ¢ pms_sku_info Ë°®ÂæóÂà∞ÂïÜÂìÅÁõ∏ÂÖ≥Â±ûÊÄßËøõË°åÊØîËæÉÔºåpms_sku_info ÂåÖÂê´ ‰ªé pms_attr Â≠óÊÆµattr_id ÂàôÊï∞ÊçÆ‰øùÂ≠òÂê¶ÂàôËøáÊª§ Ê†πÊçÆ skuIds ÂéªÊü•ËØ¢ËøúÁ®ã‰ªìÂ∫ì‰∏≠ÊòØÂê¶ÊúâÂ∫ìÂ≠ò SELECT SUM(stock-stock_locked) FROM wms_ware_sku WHERE sku_id = 1 ÁªÑË£ÖÊï∞ÊçÆ ËÆæÁΩÆ SkuEsModel ÂèëÈÄÅÁªô es ‰øùÂ≠ò 3„ÄÅÂïÜÂüé‰∏öÂä° &amp; È¶ñÈ°µÊï¥Âêà 3.1 Êï¥Âêà thymeleaf Ê∏≤ÊüìÈ¶ñÈ°µ ÈúÄÊ±ÇÂàÜÊûêÔºö ÂºÄÂèë‰º†ÁªüJava WEBÂ∑•Á®ãÊó∂ÔºåÊàë‰ª¨ÂèØ‰ª•‰ΩøÁî®JSPÈ°µÈù¢Ê®°ÊùøËØ≠Ë®ÄÔºå‰ΩÜÊòØÂú®SpringBoot‰∏≠Â∑≤Áªè‰∏çÊé®Ëçê‰ΩøÁî®‰∫Ü„ÄÇSpringBootÊîØÊåÅÂ¶Ç‰∏ãÈ°µÈù¢Ê®°ÊùøËØ≠Ë®Ä Thymeleaf FreeMarker Velocity Groovy JSP thymeleaf ÂÆòÁΩëÔºöhttps://www.thymeleaf.org/ ÂÆòÁΩëÊñáÊ°£ÁªôÂá∫‰∫ÜÔºåËØ≠Ê≥ï„ÄÅÁõ∏ÂÖ≥Ê†áÁ≠æÂ¶Ç‰Ωï‰ΩøÁî®ÁöÑÊ≠•È™§ÔºåÁî±‰∫éÂÆòÁΩëÊñáÊ°£ÈÉΩÊòØËã±ÊñáÔºåËã±ÊñáÊñáÊ°£ÈòÖËØªËÉΩÂäõÂ•ΩÁöÑÂêåÂ≠¶ÂèØ‰ª•ÈÄâÊã©ÈòÖËØªÔºåËã±Êñá‰∏çÂ•ΩÁöÑÂêåÂ≠¶ÂèØ‰ª•ÈÄâÊã©‰∏≠ÊñáÊñáÊ°£ËøõË°åÂ≠¶‰π†Ôºå‰∏∫Ê≠§ÊàëÂú®ÁΩë‰∏äÊâæÂà∞‰∫ÜÁõ∏ÂÖ≥ÁöÑ‰∏≠ÊñáÊñáÊ°£ÔºöÊñáÊ°£Ôºöthymeleaf ÈìæÊé•Ôºöhttp://note.youdao.com/noteshare?id=7771a96e9031b30b91ed55c50528e918 3.1.2 SpringBoot Êï¥Âêà thymeleaf Pom.xml 12345&lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt; &lt;!-- ÁâàÊú¨ÂêéÁî±SpringBootËøõË°åÁÆ°ÁêÜ--&gt;&lt;/dependency&gt; application.yml 123Spring: thymeleaf: cache: false # ÂºÄÂèëËøáÁ®ãÂª∫ËÆÆÂÖ≥Èó≠ÁºìÂ≠ò resource ÁõÆÂΩï‰ªãÁªçÔºö index.html‰∏≠‰ΩøÁî® 123&lt;!DOCTYPE html&gt;&lt;!--‰ΩøÁî®thymeleaf‰∏≠ÂøÖÈ°ªÂ£∞ÊòéÂä†‰∏äËØ•Ë°å‰ª£Á†Å--&gt;&lt;html lang=&quot;en&quot; xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt; Áõ∏ÂÖ≥ËØ≠Ê≥ï‰ΩøÁî® 1234567&lt;!--ÂíåjspÁõ∏ÂÖ≥Ë°®ËææÂºèÊúâÁÇπÁõ∏‰ºº ÂÖ∑‰Ωì‰ΩøÁî®ËøáÁ®ãÂèÇËÄÉÊñáÊ°£--&gt;&lt;ul&gt; &lt;li th:each=&quot;category : ${categorys}&quot;&gt; &lt;a href=&quot;#&quot; class=&quot;header_main_left_a&quot; th:attr=&quot;ctg-data=${category.catId}&quot;&gt; &lt;b th:text=&quot;${category.name}&quot;&gt;ÂÆ∂Áî®ÁîµÂô®&lt;/b&gt;&lt;/a&gt; &lt;/li&gt; ÈªòËÆ§SpringBoot‰ºöÁõ¥Êé•ÂéªÊâæ templates ‰∏ãÁöÑ index.html 3.2 Êï¥Âêàdev-tools Ê∏≤ÊüìÂàÜÁ±ªÊï∞ÊçÆ ÈúÄÊ±ÇÂàÜÊûêÔºö Êàë‰ª¨ÈúÄË¶ÅÂú®È°µÈù¢ÁöÑ‰æßËæπÊü•ËØ¢Âá∫ÂàÜÁ±ªÁöÑÊï∞ÊçÆÔºåÂπ∂‰∏îÈÄâ‰∏≠‰∏ÄÁ∫ßÂàÜÁ±ªÊï∞ÊçÆÂêéÊòæÁ§∫‰∫åÁ∫ßÂíå‰∏âÁ∫ßÂàÜÁ±ªÊï∞ÊçÆ ÂÖàËé∑Âèñ‰∏ÄÁ∫ßÂàÜÁ±ªÊï∞ÊçÆ Áî®Êà∑ÈÄâ‰∏≠ÂêéÂú®Êü•ËØ¢‰∫åÁ∫ßÂàÜÁ±ªÊï∞ÊçÆ Controller 12345678910111213141516/** * Êü•ËØ¢ÊâÄÊúâ‰∏ÄÁ∫ßÂàÜÁ±ª * @param model * @return */@GetMapping({&quot;/&quot;,&quot;/index.html&quot;})public String indexPage(Model model){ // select * from category where parent_id = 0 //TODO 1„ÄÅÊü•ËØ¢ÊâÄÊúâÁöÑ‰∏ÄÁ∫ßÂàÜÁ±ª List&lt;CategoryEntity&gt; categoryEntityList = categoryService.getLevel1Categorys(); model.addAttribute(&quot;categorys&quot;,categoryEntityList); // Êü•ËØ¢ÊâÄÊúâÁöÑ‰∏ÄÁ∫ßÂàÜÁ±ª return &quot;index&quot;;} Service 123456@Overridepublic List&lt;CategoryEntity&gt; getLevel1Categorys() { // parent_cid‰∏∫0ÂàôÊòØ‰∏ÄÁ∫ßÁõÆÂΩï return baseMapper.selectList(new QueryWrapper&lt;CategoryEntity&gt;().eq(&quot;parent_cid&quot;,0));} ‰∏ÄÁ∫ßÂàÜÁ±ªÊï∞ÊçÆËÉΩÊòæÁ§∫ÂêéÔºåÁùÄÊâãÂ§ÑÁêÜ‰∫åÁ∫ßÂàÜÁ±ªÊï∞ÊçÆËé∑Âèñ Controller 12345678910/** * Êü•ËØ¢ÂÆåÊï¥ÂàÜÁ±ªÊï∞ÊçÆ * @return */@ResponseBody@RequestMapping(&quot;/index/catalog.json&quot;)public Map&lt;String, List&lt;Catelog2Vo&gt;&gt; getCatelogJson() { Map&lt;String, List&lt;Catelog2Vo&gt;&gt; catelogJson = categoryService.getCatelogJson(); return catelogJson;} Service 123456789101112131415161718192021222324252627282930313233@Overridepublic Map&lt;String, List&lt;Catelog2Vo&gt;&gt; getCatelogJson() { // 1„ÄÅÊü•ËØ¢ÊâÄÊúâ1Á∫ßÂàÜÁ±ª List&lt;CategoryEntity&gt; level1Categorys = getLevel1Categorys(); // 2„ÄÅÂ∞ÅË£ÖÊï∞ÊçÆÂ∞ÅË£ÖÊàê mapÁ±ªÂûã key‰∏∫ catId,value List&lt;Catelog2Vo&gt; Map&lt;String, List&lt;Catelog2Vo&gt;&gt; categoryList = level1Categorys.stream().collect(Collectors.toMap(k -&gt; k.getCatId().toString(), v -&gt; { // 1„ÄÅÊØè‰∏Ä‰∏™ÁöÑ‰∏ÄÁ∫ßÂàÜÁ±ªÔºåÊü•ËØ¢Âà∞Ëøô‰∏™‰∏ÄÁ∫ßÂàÜÁ±ªÁöÑ‰∫åÁ∫ßÂàÜÁ±ª List&lt;CategoryEntity&gt; categoryEntities = baseMapper.selectList(new QueryWrapper&lt;CategoryEntity&gt;().eq(&quot;parent_cid&quot;, v.getCatId())); // 2„ÄÅÂ∞ÅË£Ö‰∏äÈù¢ÁöÑÁªìÊûú List&lt;Catelog2Vo&gt; catelog2Vos = null; if (categoryEntities != null) { catelog2Vos = categoryEntities.stream().map(l2 -&gt; { Catelog2Vo catelog2Vo = new Catelog2Vo(v.getCatId().toString(), null, l2.getCatId().toString(), l2.getName()); // 1„ÄÅÊü•ËØ¢ÂΩìÂâç‰∫åÁ∫ßÂàÜÁ±ªÁöÑ‰∏âÁ∫ßÂàÜÁ±ªvo List&lt;CategoryEntity&gt; categoryEntities1 = baseMapper.selectList(new QueryWrapper&lt;CategoryEntity&gt;().eq(&quot;parent_cid&quot;, l2.getCatId())); if (categoryEntities1 != null ){ // 2„ÄÅÂàÜË£ÖÊàêÊåáÂÆöÊ†ºÂºè List&lt;Catelog2Vo.catelog3Vo&gt; catelog3VoList = categoryEntities1.stream().map(l3 -&gt; { Catelog2Vo.catelog3Vo catelog3Vo = new Catelog2Vo.catelog3Vo(l2.getCatId().toString(), l3.getCatId().toString(), l3.getName()); return catelog3Vo; }).collect(Collectors.toList()); // 3„ÄÅËÆæÁΩÆÂàÜÁ±ªÊï∞ÊçÆ catelog2Vo.setCatalog3List(catelog3VoList); } return catelog2Vo; }).collect(Collectors.toList()); } return catelog2Vos; })); // 2„ÄÅÂ∞ÅË£ÖÊï∞ÊçÆ return categoryList;} ‰∏äÊñπ‰ª£Á†ÅÂÖ∑‰Ωì‰∏öÂä°ÈÄªËæëÔºö Êü•ËØ¢Âà∞‰∏ÄÁ∫ßÂàÜÁ±ªÔºåÊ†πÊçÆ‰∏ÄÁ∫ßÂàÜÁ±ªÊü•ËØ¢Âá∫‰∫åÁ∫ßÂàÜÁ±ªÂπ∂ËÆæÁΩÆÂØπÂ∫îVoÂØπË±°Ôºå‰ª•Ê≠§Á±ªÊé® 4„ÄÅÂïÜÂüé‰∏öÂä° &amp; Nginx ÂüüÂêçËÆøÈóÆ 4.1 Nginx Êê≠Âª∫ÂüüÂêçÁéØÂ¢É‰∏ÄÔºàÂèçÂêë‰ª£ÁêÜÈÖçÁΩÆÔºâ ‰ªÄ‰πàÊòØ ÂèçÂêë‰ª£ÁêÜ? vi nginx.conf Êñá‰ª∂ÂêéÂú®Â∫ïÈÉ®ÊúâËØ•Êù°ËØ≠Âè•Ôºö ÂºïÂÖ•nginx‰∏ãÁöÑ conf.d ‰∏ãÈù¢ÁöÑconfÊñá‰ª∂ ÈÇ£‰πàÊàë‰ª¨ÂºÄÂßãÂú®ËØ•ÁõÆÂΩï‰∏ãÂ¢ûÂä†ÂÖ≥‰∫é Ë∞∑Á≤íÂïÜÂüéÁöÑ nginx Êã∑Ë¥ùÂéüÂÖàÈªòËÆ§ÁöÑ conf ‰øÆÊîπ 4.2 Nginx Êê≠Âª∫ÂüüÂêçÁéØÂ¢É‰∫å ÔºàË¥üËΩΩÂùáË°°Âà∞ÁΩëÂÖ≥Ôºâ ÈÖçÁΩÆ UpStream ‰ΩøÁî®nginxÂÆûÁé∞Ë¥üËΩΩÂπ≥Ë°°ÁöÑÊúÄÁÆÄÂçïÈÖçÁΩÆÂ¶Ç‰∏ã,ÂÆòÁΩëÂú∞ÂùÄÔºöhttps://nginx.org/en/docs/http/load_balancing.html 123456789101112131415http { upstream myapp1 { server srv1.example.com; server srv2.example.com; server srv3.example.com; } server { listen 80; location / { proxy_pass http://myapp1; } }} ÂêåÊó∂Âú® Êú¨Êú∫‰∏ä hosts Êñá‰ª∂‰∏äÈÇ£‰∏™ÈÖçÁΩÆ ÂüüÂêçÊò†Â∞Ñ Â∞ÜËØ∑Ê±ÇËΩ¨Êé•ÁªôÁΩëÂÖ≥ÂêéÔºåÈúÄË¶ÅÂú®ÁΩëÂÖ≥ÈÖçÁΩÆ 1234- id: gulimall_host_route uri: lb://gulimall-product predicates: - Host=**.gulimall.com ÊúÄÂêéÊîæÂá†Âº†ÂõæÊñπ‰æøÁêÜËß£Âìà 5„ÄÅÊÄßËÉΩÂéãÊµã &amp; ÂéãÂäõÊµãËØï ÁÆÄ‰ªã ÂéãÂäõÊµãËØïËÄÉÂØüÂΩìÂâçËΩØÁ°¨‰ª∂ÁéØÂ¢É‰∏ãÁ≥ªÁªüÊâÄËÉΩÊâøÂèó‰ΩèÁöÑÊúÄÂ§ßË¥üËç∑Âπ∂Â∏ÆÂä©ÊâæÂá∫Á≥ªÁªüÁöÑÁì∂È¢àÊâÄÂú®ÔºåÂéãÊµãÈÉΩÊòØ‰∏∫‰∫ÜÁ≥ªÁªü Âú®Á∫ø‰∏äÁöÑÂ§ÑÁêÜËÉΩÂäõÂíåÁ®≥ÂÆöÊÄßÁª¥ÊåÅÂú®‰∏Ä‰∏™Ê†áÂáÜËåÉÂõ¥ÂÜÖÔºåÂÅöÂà∞ÂøÉ‰∏≠ÊúâÊï∞ ‰ΩøÁî®ÂéãÂäõÊµãËØïÔºåÊàë‰ª¨ÊúâÂ∏åÊúõÊâæÂà∞ÂæàÂ§öÁßçÁî®ÂÖ∂‰ªñÊµãËØïÊñπÊ≥ïÊõ¥ÈöæÂèëÁé∞ÁöÑÈîôËØØÔºåÊúâ‰∏§ÁßçÈîôËØØÁ±ªÂûãÊòØÔºö ÂÜÖÂ≠òÊ≥ÑÊºè„ÄÅÂπ∂Âèë‰∏éÂêåÊ≠• ÊúâÊïàÁöÑÂéãÂäõÊµãËØïÁ≥ªÁªüÂ∞ÜÂ∫îÁî®‰ª•‰∏ãËøô‰∫õÂÖ≥ÈîÆÊù°‰ª∂ÔºöÈáçÂ§ç„ÄÅÂπ∂Âèë„ÄÅÈáèÁ∫ß„ÄÅÈöèÊú∫ÂèòÂåñ 5.1 ÊÄßËÉΩÊåáÊ†á 5.1.1 Jvm ÂÜÖÂ≠òÊ®°Âûã 1„ÄÅJvmÂÜÖÂ≠òÊ®°Âûã 5.1.2 Â†Ü ÊâÄÊúâÁöÑÂØπË±°ÂÆû‰æã‰ª•ÂèäÊï∞ÁªÑÈÉΩË¶ÅÂú®Â†Ü‰∏äÂàÜÈÖçÔºåÂ†ÜÊó∂ÂûÉÂúæÊî∂ÈõÜÂô®ÁÆ°ÁêÜÁöÑ‰∏ªË¶ÅÂå∫ÂüüÔºå‰πüË¢´Áß∞‰∏∫ &quot;GCÂ†Ü&quot;Ôºå‰πüÊòØÊàë‰ª¨‰ºòÂåñÊúÄÂ§öËÄÉËôëÁöÑÂú∞Êñπ Â†ÜÂèØ‰ª•ÁªÜÂàÜ‰∏∫Ôºö Êñ∞Áîü‰ª£ EdenÁ©∫Èó¥ From Survivor Á©∫Èó¥ To Survivor Á©∫Èó¥ ËÄÅÂπ¥‰ª£ Ê∞∏‰πÖ‰ª£/ÂéüÁ©∫Èó¥ Java8 ‰ª•ÂâçÊ∞∏‰πÖ‰ª£„ÄÅÂèó JVM ÁÆ°ÁêÜ„ÄÅJava8 ‰ª•ÂêéÂéüÁ©∫Èó¥ÔºåÁõ¥Êé•‰ΩøÁî®Áâ©ÁêÜÂÜÖÂ≠òÔºåÂõ†Ê≠§ÈªòËÆ§ÊÉÖÂÜµ‰∏ãÔºåÂéüÁ©∫Èó¥ÁöÑÂ§ßÂ∞è‰ªÖÂèóÊú¨Âú∞ÂÜÖÂ≠òÈôêÂà∂ ÂûÉÂúæÂõûÊî∂ ‰ªé Java8 ÂºÄÂßã,HotSpot Â∑≤ÁªèÂÆåÂÖ®Â∞ÜÊ∞∏‰πÖ‰ª£ÔºàPermanent GenerationÔºâÁßªÈô§ÔºåÂèñËÄå‰ª£‰πãÁöÑÊòØ‰∏Ä‰∏™Êñ∞ÁöÑÂå∫Âüü - ÂÖÉÁ©∫Èó¥ÔºàMetaSpac) 5.1.3 jconsole ‰∏é jvisualvm jdk ÁöÑ‰∏§‰∏™Â∞èÂ∑•ÂÖ∑ jconsole„ÄÅjvisualvmÔºàÂçáÁ∫ßÁâàÊú¨ÁöÑ jconsoleÔºâ„ÄÇÈÄöËøáÂëΩ‰ª§Ë°åÂêØÂä®„ÄÅÂèØÁõëÊéßÊú¨Âú∞ÂíåËøúÁ®ãÂ∫îÁî®„ÄÅËøúÁ®ãÂ∫îÁî®ÈúÄË¶ÅÈÖçÁΩÆ 1„ÄÅjvisualvm ËÉΩÂπ≤‰ªÄ‰πà ÁõëÊéßÂÜÖÂ≠òÊ≥ÑÊºè„ÄÅË∑üË∏™ÂûÉÂúæÂõûÊî∂„ÄÅÊâßË°åÊó∂ÂÜÖÂ≠ò„ÄÅcpuÂàÜÊûê„ÄÅÁ∫øÁ®ãÂàÜÊûê..... ËøêË°åÔºöÊ≠£Âú®ËøêË°åÁöÑÁ∫øÁ®ã ‰ºëÁú†Ôºösleep Á≠âÂæÖÔºöwait È©ªÁïôÔºöÁ∫øÁ®ãÊ±†ÈáåÈù¢ÁöÑÁ©∫Èó≤Á∫øÁ®ã ÁõëËßÜÔºöÁªÑËµõÁöÑÁ∫øÁ®ã„ÄÅÊ≠£Âú®Á≠âÂæÖÈîÅ 2„ÄÅÂÆâË£ÖÊèí‰ª∂Êñπ‰æøÊü•Áúã gc cmd ÂêØÂä® jvisualvm Â∑•ÂÖ∑-&gt;Êèí‰ª∂ Â¶ÇÊûú503 ÈîôËØØËß£ÂÜ≥ ÊâìÂºÄÁΩëÂùÄÔºö https://visualvm.github.io/pluginscenters.html cmd Êü•ÁúãËá™Â∑±ÁöÑjdkÁâàÊú¨ÔºåÊâæÂà∞ÂØπÂ∫îÁöÑ docker stats Êü•ÁúãÁõ∏ÂÖ≥ÂëΩ‰ª§ 5.1.4 ÁõëÊéßÊåáÊ†á SQL ËÄóÊó∂Ë∂äÂ∞èË∂äÂ•Ω„ÄÅ‰∏ÄËà¨ÊÉÖÂÜµ‰∏ãÂæÆÂ¶ôÁ∫ßÂà´ ÂëΩ‰∏≠ÁéáË∂äÈ´òË∂äÂ•Ω„ÄÅ‰∏ÄËà¨ÊÉÖÂÜµ‰∏ã‰∏çËÉΩ‰Ωé‰∫é95% ÈîÅÁ≠âÂæÖÊ¨°Êï∞Ë∂ä‰ΩéË∂äÂ•Ω„ÄÅÁ≠âÂæÖÊó∂Èó¥Ë∂äÁü≠Ë∂äÂ•Ω 1„ÄÅ‰∏≠Èó¥‰ª∂ÊåáÊ†á ÊØ´Áßí ÂéãÊµãÂÜÖÂÆπ ÂéãÊµãÁ∫øÁ®ãÊï∞ ÂêûÂêêÈáè/ms 90%ÂìçÂ∫îÊó∂Èó¥/ms 99%ÂìçÂ∫îÊó∂Èó¥/ms Nginx 50 1834 11 40 GateWay 50b 16577 5 19 ÁÆÄÂçïÊúçÂä° 50 17965 5 10 È¶ñÈ°µ‰∏ÄÁ∫ßËèúÂçïÊ∏≤Êüì 50 400Ôºàdb,thymeleafÔºâ 149 230 È¶ñÈ°µÊ∏≤Êüì(ÂºÄÁºìÂ≠ò) 50 467 128 209 È¶ñÈ°µÊ∏≤ÊüìÔºàÂºÄÁºìÂ≠ò„ÄÅ‰ºòÂåñÊï∞ÊçÆÂ∫ìÔºåÂÖ≥Êó•ÂøóÔºâ 50 1300 60 107 ‰∏âÁ∫ßÂàÜÁ±ªÊï∞ÊçÆËé∑Âèñ 50 4.4ÔºàdbÔºâ/18Ôºà‰ºòÂåñÂêéÔºâ 16622 16832 ‰∏âÁ∫ßÂàÜÁ±ªÊï∞ÊçÆËé∑ÂèñÔºà‰ºòÂåñ‰∏öÂä°Ôºâ 50 163 410 585 ‰∏âÁ∫ßÂàÜÁ±ªÊï∞ÊçÆËé∑ÂèñÔºàredisÁºìÂ≠òÔºâ 50 553 113 182 È¶ñÈ°µÂÖ®ÈáèÊï∞ÊçÆËé∑Âèñ 50 10ÔºàÈùôÊÄÅËµÑÊ∫êÔºâ/12 6183 12358 Nginx+Gateway 50 Gateway+ÁÆÄÂçïÊúçÂä° 50 2685 7 10 ÂÖ®ÈìæË∑Ø 50 900 73 971 ‰∏≠Èó¥‰ª∂Ë∂äÂ§öÔºåÊÄßËÉΩÊçüÂ§±Ë∂äÂ§ßÔºåÂ§ßÂ§öÈÉΩÊçüÂ§±Âú®‰∫ÜÁΩëÁªú‰∫§‰∫í 2„ÄÅÊï∞ÊçÆÂ∫ìÊåáÊ†á ÂìçÂ∫îÊó∂Èó¥ÔºàResponse Time:RTÔºâ ÂìçÂ∫îÊó∂Èó¥ÊåáÁî®Êà∑‰ªéÂÆ¢Êà∑Á´ØÂèëËµ∑‰∏Ä‰∏™ËØ∑Ê±ÇÂºÄÂßãÔºåÂà∞ÂÆ¢Êà∑Á´ØÊé•Êî∂Âà∞ÊúçÂä°Âô®Á´ØËøîÂõûÁöÑÂìçÂ∫îÁªìÊùüÔºåÊï¥‰∏™ËøáÁ®ãÊâÄËÄóË¥πÁöÑÊó∂Èó¥ HPSÔºàHits Per SecondÔºâ ÔºöÊØèÁßíÁÇπÂáªÊ¨°Êï∞ÔºåÂçï‰ΩçÊòØÊ¨°/Áßí TPSÔºàTransaction per SecondÔºâÔºöÁ≥ªÁªüÊØèÁßíÂ§ÑÁêÜ‰∫§ÊòìÊï∞ÔºåÂçï‰ΩçÊòØÁ¨î/Áßí QPS (Query perSecond) :Á≥ªÁªüÊØèÁßíÂ§ÑÁêÜÊü•ËØ¢Ê¨°Êï∞ÔºåÂçï‰ΩçÊòØÊ¨°/Áßí„ÄÇÂØπ‰∫é‰∫íËÅîÁΩë‰∏öÂä°‰∏≠ÔºåÂ¶ÇÊûúÊüê‰∫õ‰∏öÂä°Êúâ‰∏î‰ªÖÊúâ‰∏Ä‰∏™ËØ∑Ê±ÇËøûÊé•ÔºåÈÇ£‰πàTPS=QPS=HPSÔºå‰∏ÄËà¨ÊÉÖÂÜµ‰∏ãÁî®TPSÊù•Ë°°ÈáèÊï¥‰∏™‰∏öÂä°ÊµÅÁ®ãÔºåÁî®QPSÊù•Ë°°ÈáèÊé•Âè£Êü•ËØ¢Ê¨°Êï∞ÔºåÁî®HPSÊù•Ë°®Á§∫ÂØπÊúçÂä°Âô®ÂçïÂáªËØ∑Ê±Ç„ÄÇ Êó†ËÆ∫TPS„ÄÅQPS„ÄÅHPS,Ê≠§ÊåáÊ†áÊòØË°°ÈáèÁ≥ªÁªüÂ§ÑÁêÜËÉΩÂäõÈùûÂ∏∏ÈáçË¶ÅÁöÑÊåáÊ†áÔºåË∂äÂ§ßË∂äÂ•ΩÔºåÊ†πÊçÆÁªèÈ™åÔºå‰∏ÄËà¨ÊÉÖÂÜµ‰∏ã: ÈáëËûçË°å‰∏ö: 1000TPS~50000TPS, ‰∏çÂåÖÊã¨‰∫íËÅîÁΩëÂåñÁöÑÊ¥ªÂä® ‰øùÈô©Ë°å‰∏ö: 1007P-00000PSÔºå ‰∏çÂåÖÊã¨‰∫íËÅîÁΩëÂåñÁöÑÊ¥ªÂä® Âà∂ÈÄ†Ë°å‰∏ö: 10TPS~5000TPS ‰∫íËÅîÁΩëÁîµÂ≠êÂïÜÂä°: 10000TPS~-100000TPS ‰∫íËÅîÁΩë‰∏≠ÂûãÁΩëÁ´ô: 1000TPS~50000TPS ‰∫íËÅîÁΩëÂ∞èÂûãÁΩëÁ´ô: 5007PS~10000TPS ÊúÄÂ§ßÂìçÂ∫îÊó∂Èó¥(Max Response Time) ÊåáÁî®Êà∑ÂèëÂá∫ËØ∑Ê±ÇÊàñËÄÖÊåá‰ª§Âà∞Á≥ªÁªüÂÅöÂá∫ÂèçÂ∫î(ÂìçÂ∫î)ÁöÑÊúÄÂ§ßÊó∂Èó¥„ÄÇ ÊúÄÂ∞ëÂìçÂ∫îÊó∂Èó¥ ÔºàMininum ResponseTimeÔºâÊåáÁî®Êà∑ÂèëÂá∫ËØ∑Ê±ÇÊàñËÄÖÊåá‰ª§Âà∞Á≥ªÁªüÂÅöÂá∫ÂèçÂ∫îÔºàÂìçÂ∫îÔºâÁöÑÊúÄÂ∞ëÊó∂Èó¥ 90%ÂìçÂ∫îÊó∂Èó¥Ôºà90% Response TimeÔºâ ÊòØÊåáÊâÄÊúâÁî®Êà∑ÁöÑÂìçÂ∫îÊó∂Èó¥ËøõË°åÊéíÂ∫è„ÄÅÁ¨¨90%ÁöÑÂìçÂ∫îÊó∂Èó¥ ‰ªéÂ§ñÈÉ®Áúã„ÄÅÊÄßËÉΩÊµãËØï‰∏ªË¶ÅÂÖ≥Ê≥®Â¶Ç‰∏ã‰∏â‰∏™Êåá ÂêûÂêêÈáèÔºöÊØèÁßíÈíüÁ≥ªÁªüËÉΩÂ§üÂ§ÑÁêÜÁöÑËØ∑Ê±ÇÊï∞„ÄÅ‰ªªÂä°Êï∞ ÂìçÂ∫îÊó∂Èó¥ÔºöÊúçÂä°Â§ÑÁêÜ‰∏Ä‰∏™ËØ∑Ê±ÇÊàñ‰∏Ä‰∏™‰ªªÂä°ÁöÑËÄóÊó∂ ÈîôËØØÁéáÔºö‰∏ÄÊâπËØ∑Ê±Ç‰∏≠ÁªìÊûúÂá∫ÈîôÁöÑËØ∑Ê±ÇÊâÄÂç†ÊØî‰æã ÂêûÂêêÈáèÂ§ß:Á≥ªÁªüÊîØÊåÅÈ´òÂπ∂ÂèëÔºå ÂìçÂ∫îÊó∂Èó¥ÔºöË∂äÁü≠ËØ¥ÊòéÊé•Âè£ÊÄßËÉΩË∂äÂ•Ω 5.2 JMeter 5.2.1 JMeter ÂÆâË£Ö jmeterÂÆòÁΩëÔºöhttps://jmeter.apache.org/ 5.2.2 JMeter ÂéãÊµãÁ§∫‰æã 1„ÄÅÊ∑ªÂä†Á∫øÁ®ãÁªÑ 2„ÄÅÊ∑ªÂä† HTTP ËØ∑Ê±Ç 3„ÄÅÊ∑ªÂä†ÁõëÂê¨Âô® 4„ÄÅÂêØÂä®ÂéãÊµã&amp;Êü•Áúã Ê±áÊÄªÂõæ ÂØüÁúãÁªìÊûúÊ†ë Ê±áÊÄªÊä•Âëä ËÅöÂêàÊä•Âëä 5.2.3 JMeter Address Already in use ÈîôËØØËß£ÂÜ≥ windowsÊú¨Ë∫´Êèê‰æõÁöÑÁ´ØÂè£ËÆøÈóÆÊú∫Âà∂ÁöÑÈóÆÈ¢ò„ÄÇ WindowsÊèê‰æõÁªôTCP/IP ÈìæÊé•ÁöÑÁ´ØÂè£‰∏∫1024-5000ÔºåÂπ∂‰∏îË¶ÅÂõõÂàÜÈíüÊù•Âæ™ÁéØÂõûÊî∂‰ªñ‰ª¨„ÄÇÂ∞±ÂØºËá¥ Êàë‰ª¨Âú®Áü≠Êó∂Èó¥ÂÜÖË∑ëÂ§ßÈáèÁöÑËØ∑Ê±ÇÊó∂Â∞ÜÁ´ØÂè£Âç†Êª°‰∫Ü„ÄÇ 1.cmd‰∏≠ÔºåÁî®regeditÂëΩ‰ª§ÊâìÂºÄÊ≥®ÂÜåË°® 2.Âú®HKEY_ LOCAL MACHINE\\SYSTEMCurrentControlSet\\Services Tcpip\\Parameters‰∏ãÔºå ‚Äã 1.Âè≥Âáªparameters,Ê∑ªÂä†‰∏Ä‰∏™Êñ∞ÁöÑDWORD,ÂêçÂ≠ó‰∏∫MaxUserPort ‚Äã 2.ÁÑ∂ÂêéÂèåÂáª MaxUserPort,ËæìÂÖ•Êï∞ÂÄºÊï∞ÊçÆ‰∏∫65534,Âü∫Êï∞ÈÄâÊã©ÂçÅËøõÂà∂(Â¶ÇÊûúÊòØÂàÜÂ∏ÉÂºèËøêË°åÁöÑËØùÔºåÊéßÂà∂Êú∫Âô®ÂíåË¥üËΩΩÊú∫Âô®ÈÉΩÈúÄË¶ÅËøôÊ†∑Êìç‰ΩúÂì¶) 3.‰øÆÊîπÈÖçÁΩÆÂÆåÊØï‰πãÂêéËÆ∞ÂæóÈáçÂêØÊú∫Âô®Êâç‰ºöÁîüÊïà TCPTimedWaitDelay:30 6„ÄÅÁºìÂ≠ò‰∏éÂàÜÂ∏ÉÂºèÈîÅ 6.1 ÁºìÂ≠ò 6.1.2 ÁºìÂ≠ò‰ΩøÁî® ‰∏∫‰∫ÜÁ≥ªÁªüÊÄßËÉΩÁöÑÊèêÂçáÔºåÊàë‰ª¨‰∏ÄËà¨ÈÉΩ‰ºöÂ∞ÜÈÉ®ÂàÜÊï∞ÊçÆÊîæÂÖ•ÁºìÂ≠ò‰∏≠ÔºåÂä†ÈÄüËÆøÈóÆÔºåËÄå db ÊâøÊãÖÊï∞ÊçÆËêΩÁõòÂ∑•‰Ωú Âì™‰∫õÊï∞ÊçÆÈÄÇÂêàÊîæÂÖ•ÁºìÂ≠òÔºü Âç≥Êó∂ÊÄß„ÄÅÊï∞ÊçÆ‰∏ÄËá¥ÊÄßË¶ÅÊ±Ç‰∏çÈ´òÁöÑ ËÆøÈóÆÈáèÂ§ß‰∏îÊõ¥Êñ∞È¢ëÁéá‰∏çÈ´òÁöÑÊï∞ÊçÆÔºàËØªÂ§ö„ÄÅÂÜôÂ∞ëÔºâ ‰∏æ‰æãÔºöÁîµÂïÜÁ±ªÂ∫îÁî®„ÄÅÂïÜÂìÅÂàÜÁ±ªÔºåÂïÜÂìÅÂàóË°®Á≠âÈÄÇÂêàÁºìÂ≠òÂπ∂Âä†‰∏Ä‰∏™Â§±ÊïàÊó∂Èó¥ÔºàÊ†πÊçÆÊï∞ÊçÆÊõ¥Êñ∞È¢ëÁéáÊù•ÂÆöÔºâÂêéÂè∞Â¶ÇÊûúÂèëÂ∏É‰∏Ä‰∏™ÂïÜÂìÅ„ÄÅ‰π∞ÂÆ∂ÈúÄË¶Å 5 ÂàÜÈíüÊâçËÉΩÁúãÂà∞Êñ∞ÂïÜÂìÅ‰∏ÄËà¨ËøòÊòØÂèØ‰ª•Êé•ÂèóÁöÑ ‰º™‰ª£Á†Å 123456data = cche.load(b); //‰ªéÁºìÂ≠ò‰∏≠Âä†ËΩΩÊï∞ÊçÆif(data == null) { data = db.load(id); // ‰ªéÊï∞ÊçÆÂ∫ìÂä†ËΩΩÊï∞ÊçÆ cache.put(id,data); // ‰øùÂ≠òÂà∞ cache‰∏≠}return data; Ê≥®ÊÑèÔºöÂú®ÂºÄÂèë‰∏≠ÔºåÂá°ÊòØÊîæÂà∞ÁºìÂ≠ò‰∏≠ÁöÑÊï∞ÊçÆÊàë‰ª¨ÈÉΩÂ∫îËØ•Âà∂ÂÆöËøáÊúüÊó∂Èó¥Ôºå‰ΩøÂÖ∂ÂèØ‰ª•Âú®Á≥ªÁªüÂç≥‰ΩøÊ≤°Êúâ‰∏ªÂä®Êõ¥Êñ∞Êï∞ÊçÆ‰πüËÉΩËá™Âä®Ëß¶ÂèëÊï∞ÊçÆÂä†ËΩΩÁöÑÊµÅÁ®ãÔºåÈÅøÂÖç‰∏öÂä°Â•îÊ∫ÉÂØºËá¥ÁöÑÊï∞ÊçÆÊ∞∏‰πÖ‰∏ç‰∏ÄËá¥ÁöÑÈóÆÈ¢ò 6.1.3 Êï¥Âêà redis ‰Ωú‰∏∫ÁºìÂ≠ò 1„ÄÅÂºïÂÖ•‰æùËµñ SpringBoot Êï¥Âêà redisÔºåÊü•ÁúãSpringBootÊèê‰æõÁöÑ starts ÂÆòÁΩëÔºöhttps://docs.spring.io/spring-boot/docs/2.1.18.RELEASE/reference/html/using-boot-build-systems.html#using-boot-starter pom.xml 123456789101112131415161718&lt;!--ÂºïÂÖ•redis--&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-data-redis&lt;/artifactId&gt; &lt;!--‰∏çÂä†ËΩΩËá™Ë∫´ÁöÑ lettuce--&gt; &lt;exclusions&gt; &lt;exclusion&gt; &lt;groupId&gt;io.lettuce&lt;/groupId&gt; &lt;artifactId&gt;lettuce-core&lt;/artifactId&gt; &lt;/exclusion&gt; &lt;/exclusions&gt; &lt;/dependency&gt; &lt;!--jedis--&gt; &lt;dependency&gt; &lt;groupId&gt;redis.clients&lt;/groupId&gt; &lt;artifactId&gt;jedis&lt;/artifactId&gt; &lt;/dependency&gt; 2„ÄÅÈÖçÁΩÆ application.yaml 1234Spring: redis: host: 192.168.56.10 port: 6379 RedisAutoConfig.java 3„ÄÅÊµãËØï 12345678910@AutowiredStringRedisTemplate stringRedisTemplate;@Testpublic void testStringRedisTemplate() { stringRedisTemplate.opsForValue().set(&quot;hello&quot;,&quot;world_&quot; + UUID.randomUUID().toString()); String hello = stringRedisTemplate.opsForValue().get(&quot;hello&quot;); System.out.println(&quot;‰πãÂâç‰øùÂ≠òÁöÑÊï∞ÊçÆÊòØÔºö&quot; + hello);} 4„ÄÅ‰ºòÂåñ‰∏âÁ∫ßÂàÜÁ±ªÊï∞ÊçÆËé∑Âèñ 1234567891011121314151617181920212223242526272829303132/** * TODO ‰∫ßÁîüÂ†ÜÂ§ñÂÜÖÂ≠òÊ∫¢Âá∫ OutOfDirectMemoryError * 1„ÄÅSpringBoot2.0‰ª•ÂêéÈªòËÆ§‰ΩøÁî® Lettuce‰Ωú‰∏∫Êìç‰ΩúredisÁöÑÂÆ¢Êà∑Á´ØÔºåÂÆÉ‰ΩøÁî® nettyËøõË°åÁΩëÁªúÈÄö‰ø° * 2„ÄÅlettuce ÁöÑbugÂØºËá¥nettyÂ†ÜÂ§ñÂÜÖÂ≠òÊ∫¢Âá∫Ôºå-Xmx300m netty Â¶ÇÊûúÊ≤°ÊúâÊåáÂÆöÂ†ÜÂÜÖÂ≠òÁßªÈô§ÔºåÈªòËÆ§‰ΩøÁî® -Xmx300m * ÂèØ‰ª•ÈÄöËøá-Dio.netty.maxDirectMemory ËøõË°åËÆæÁΩÆ * Ëß£ÂÜ≥ÊñπÊ°à ‰∏çËÉΩ‰ΩøÁî® -Dio.netty.maxDirectMemoryË∞ÉÂ§ßÂÜÖÂ≠ò * 1„ÄÅÂçáÁ∫ß lettuceÂÆ¢Êà∑Á´ØÔºå2„ÄÅ ÂàáÊç¢‰ΩøÁî®jedis * redisTemplate: * lettuce„ÄÅjedis Êìç‰ΩúredisÁöÑÂ∫ïÂ±ÇÂÆ¢Êà∑Á´ØÔºåSpringÂÜçÊ¨°Â∞ÅË£Ö * @return */@Overridepublic Map&lt;String, List&lt;Catelog2Vo&gt;&gt; getCatelogJson() { // ÁªôÁºìÂ≠ò‰∏≠Êîæ json Â≠óÁ¨¶‰∏≤„ÄÅÊãøÂá∫ÁöÑÊòØ json Â≠óÁ¨¶‰∏≤ÔºåËøòË¶ÅÈÄÜËΩ¨‰∏∫ËÉΩÁî®ÁöÑÂØπË±°Á±ªÂûã„ÄêÂ∫èÂàóÂåñÂíåÂèçÂ∫èÂàóÂåñ„Äë // 1„ÄÅÂä†ÂÖ•ÁºìÂ≠òÈÄªËæëÔºåÁºìÂ≠ò‰∏≠ÊîæÁöÑÊï∞ÊçÆÊòØ json Â≠óÁ¨¶‰∏≤ // JSON Ë∑®ËØ≠Ë®ÄÔºåË∑®Âπ≥Âè∞ÂÖºÂÆπ String catelogJSON = redisTemplate.opsForValue().get(&quot;catelogJSON&quot;); if (StringUtils.isEmpty(catelogJSON)) { // 2„ÄÅÁºìÂ≠òÊ≤°ÊúâÔºå‰ªéÊï∞ÊçÆÂ∫ì‰∏≠Êü•ËØ¢ Map&lt;String, List&lt;Catelog2Vo&gt;&gt; catelogJsonFromDb = getCatelogJsonFromDb(); // 3„ÄÅÊü•ËØ¢Âà∞Êï∞ÊçÆÔºåÂ∞ÜÊï∞ÊçÆËΩ¨Êàê JSON ÂêéÊîæÂÖ•ÁºìÂ≠ò‰∏≠ String s = JSON.toJSONString(catelogJsonFromDb); redisTemplate.opsForValue().set(&quot;catelogJSON&quot;,s); return catelogJsonFromDb; } // ËΩ¨Êç¢‰∏∫Êàë‰ª¨ÊåáÂÆöÁöÑÂØπË±° Map&lt;String, List&lt;Catelog2Vo&gt;&gt; result = JSON.parseObject(catelogJSON, new TypeReference&lt;Map&lt;String, List&lt;Catelog2Vo&gt;&gt;&gt;() {}); return result;} 6.2 ÁºìÂ≠òÂ§±Êïà È´òÂπ∂Âèë‰∏ãÁºìÂ≠òÂ§±ÊïàÈóÆÈ¢ò ÁºìÂ≠òÂ§±Êïà ÁºìÂ≠òÈõ™Â¥© ÁºìÂ≠òÂáªÁ©ø ÂàÜÂ∏ÉÂºè‰∏ãÂ¶Ç‰ΩïÂä†ÈîÅ 6.4 ÂàÜÂ∏ÉÂºèÈîÅ ÂàÜÂ∏ÉÂºèÈîÅÂéüÁêÜ‰∏éÂ∫îÁî® ÂàÜÂ∏ÉÂºèÈîÅÂü∫Êú¨ÂéüÁêÜ **ÁêÜËß£Ôºö**Â∞±ÂÖàÂΩì1000‰∏™‰∫∫ÂéªÂç†‰∏Ä‰∏™ÂéïÊâÄÔºåÂéïÊâÄÂè™ËÉΩÊúâ‰∏Ä‰∏™‰∫∫Âç†Âà∞Ëøô‰∏™ÂùëÔºåÂç†Âà∞Ëøô‰∏™ÂùëÂÖ∂‰ªñ‰∫∫Â∞±Âè™ËÉΩÂú®Â§ñÈù¢Á≠âÂæÖÔºåÁ≠âÂæÖ‰∏ÄÊÆµÊó∂Èó¥ÂêéÂèØ‰ª•ÂÜçÊ¨°Êù•Âç†ÂùëÔºå‰∏öÂä°ÊâßË°åÂêéÔºåÈáäÊîæÈîÅÔºåÈÇ£‰πàÂÖ∂‰ªñ‰∫∫Â∞±ÂèØ‰ª•Êù•Âç†Ëøô‰∏™Âùë ÂàÜÂ∏ÉÂºèÈîÅÊºîËøõ - Èò∂ÊÆµ‰∏Ä ‰ª£Á†ÅÔºö 1234567891011Boolean lock = redisTemplate.opsForValue().setIfAbsent(&quot;lock&quot;, &quot;0&quot;); if (lock) { // Âä†ÈîÅÊàêÂäü..ÊâßË°å‰∏öÂä° Map&lt;String,List&lt;Catelog2Vo&gt;&gt; dataFromDb = getDataFromDB(); redisTemplate.delete(&quot;lock&quot;); // Âà†Èô§ÈîÅ return dataFromDb; } else { // Âä†ÈîÅÂ§±Ë¥•ÔºåÈáçËØï synchronized() // ‰ºëÁú†100msÈáçËØï return getCatelogJsonFromDbWithRedisLock(); } ÂàÜÂ∏ÉÂºèÈîÅÊºîËøõ - Èò∂ÊÆµ‰∫å ‰ª£Á†ÅÔºö 1234567891011121314Boolean lock = redisTemplate.opsForValue().setIfAbsent() if (lock) { // Âä†ÈîÅÊàêÂäü..ÊâßË°å‰∏öÂä° // ËÆæÁΩÆËøáÊúüÊó∂Èó¥ redisTemplate.expire(&quot;lock&quot;,30,TimeUnit.SECONDS); Map&lt;String,List&lt;Catelog2Vo&gt;&gt; dataFromDb = getDataFromDB(); redisTemplate.delete(&quot;lock&quot;); // Âà†Èô§ÈîÅ return dataFromDb; } else { // Âä†ÈîÅÂ§±Ë¥•ÔºåÈáçËØï synchronized() // ‰ºëÁú†100msÈáçËØï return getCatelogJsonFromDbWithRedisLock(); } ÂàÜÂ∏ÉÂºèÈîÅÊºîËøõ - Èò∂ÊÆµ‰∏â ‰ª£Á†ÅÔºö 1234567891011121314// ËÆæÁΩÆÂÄºÂêåÊó∂ËÆæÁΩÆËøáÊúüÊó∂Èó¥Boolean lock = redisTemplate.opsForValue().setIfAbsent(&quot;lock&quot;,&quot;111&quot;,300,TimeUnit.SECONDS);if (lock) { // Âä†ÈîÅÊàêÂäü..ÊâßË°å‰∏öÂä° // ËÆæÁΩÆËøáÊúüÊó∂Èó¥,ÂøÖÈ°ªÂíåÂä†ÈîÅÊòØÂêåÊ≠•ÁöÑÔºåÂéüÂ≠êÁöÑ redisTemplate.expire(&quot;lock&quot;,30,TimeUnit.SECONDS); Map&lt;String,List&lt;Catelog2Vo&gt;&gt; dataFromDb = getDataFromDB(); redisTemplate.delete(&quot;lock&quot;); // Âà†Èô§ÈîÅ return dataFromDb;} else { // Âä†ÈîÅÂ§±Ë¥•ÔºåÈáçËØï synchronized() // ‰ºëÁú†100msÈáçËØï return getCatelogJsonFromDbWithRedisLock();} ÂàÜÂ∏ÉÂºèÈîÅÊºîËøõ - Èò∂ÊÆµÂõõ ÂõæËß£Ôºö ‰ª£Á†ÅÔºö 12345678910111213141516171819202122232425 String uuid = UUID.randomUUID().toString(); // ËÆæÁΩÆÂÄºÂêåÊó∂ËÆæÁΩÆËøáÊúüÊó∂Èó¥ Boolean lock = redisTemplate.opsForValue().setIfAbsent(&quot;lock&quot;,uuid,300,TimeUnit.SECONDS); if (lock) { // Âä†ÈîÅÊàêÂäü..ÊâßË°å‰∏öÂä° // ËÆæÁΩÆËøáÊúüÊó∂Èó¥,ÂøÖÈ°ªÂíåÂä†ÈîÅÊòØÂêåÊ≠•ÁöÑÔºåÂéüÂ≠êÁöÑ// redisTemplate.expire(&quot;lock&quot;,30,TimeUnit.SECONDS); Map&lt;String,List&lt;Catelog2Vo&gt;&gt; dataFromDb = getDataFromDB();// String lockValue = redisTemplate.opsForValue().get(&quot;lock&quot;);// if (lockValue.equals(uuid)) {// // Âà†Èô§ÊàëËá™Â∑±ÁöÑÈîÅ// redisTemplate.delete(&quot;lock&quot;); // Âà†Èô§ÈîÅ// }// ÈÄöËøá‰ΩøÁî®luaËÑöÊú¨ËøõË°åÂéüÂ≠êÊÄßÂà†Èô§ String script = &quot;if redis.call('get',KEYS[1]) == ARGV[1] then return redis.call('del',KEYS[1]) else return 0 end&quot;; //Âà†Èô§ÈîÅ Long lock1 = redisTemplate.execute(new DefaultRedisScript&lt;Long&gt;(script, Long.class), Arrays.asList(&quot;lock&quot;), uuid); return dataFromDb; } else { // Âä†ÈîÅÂ§±Ë¥•ÔºåÈáçËØï synchronized() // ‰ºëÁú†100msÈáçËØï return getCatelogJsonFromDbWithRedisLock(); } ÂàÜÂ∏ÉÂºèÈîÅÊºîËøõ - Èò∂ÊÆµ‰∫î ÊúÄÁªàÊ®°Âºè ‰ª£Á†ÅÔºö 1234567891011121314151617181920212223242526272829 String uuid = UUID.randomUUID().toString(); // ËÆæÁΩÆÂÄºÂêåÊó∂ËÆæÁΩÆËøáÊúüÊó∂Èó¥ Boolean lock = redisTemplate.opsForValue().setIfAbsent(&quot;lock&quot;,uuid,300,TimeUnit.SECONDS); if (lock) { System.out.println(&quot;Ëé∑ÂèñÂàÜÂ∏ÉÂºèÈîÅÊàêÂäü&quot;); // Âä†ÈîÅÊàêÂäü..ÊâßË°å‰∏öÂä° // ËÆæÁΩÆËøáÊúüÊó∂Èó¥,ÂøÖÈ°ªÂíåÂä†ÈîÅÊòØÂêåÊ≠•ÁöÑÔºåÂéüÂ≠êÁöÑ// redisTemplate.expire(&quot;lock&quot;,30,TimeUnit.SECONDS); Map&lt;String,List&lt;Catelog2Vo&gt;&gt; dataFromDb;// String lockValue = redisTemplate.opsForValue().get(&quot;lock&quot;);// if (lockValue.equals(uuid)) {// // Âà†Èô§ÊàëËá™Â∑±ÁöÑÈîÅ// redisTemplate.delete(&quot;lock&quot;); // Âà†Èô§ÈîÅ// } try { dataFromDb = getDataFromDB(); } finally { String script = &quot;if redis.call('get',KEYS[1]) == ARGV[1] then return redis.call('del',KEYS[1]) else return 0 end&quot;; //Âà†Èô§ÈîÅ Long lock1 = redisTemplate.execute(new DefaultRedisScript&lt;Long&gt;(script, Long.class), Arrays.asList(&quot;lock&quot;), uuid); } return dataFromDb; } else { // Âä†ÈîÅÂ§±Ë¥•ÔºåÈáçËØï synchronized() // ‰ºëÁú†200msÈáçËØï System.out.println(&quot;Ëé∑ÂèñÂàÜÂ∏ÉÂºèÈîÅÂ§±Ë¥•ÔºåÁ≠âÂæÖÈáçËØï&quot;); try { TimeUnit.MILLISECONDS.sleep(200); } catch (InterruptedException e) { e.printStackTrace(); } return getCatelogJsonFromDbWithRedisLock(); } ÈóÆÈ¢òÔºö ÂàÜÂ∏ÉÂºèÂä†ÈîÅËß£ÈîÅÈÉΩÊòØËøô‰∏§Â•ó‰ª£Á†ÅÔºåÂèØ‰ª•Â∞ÅË£ÖÊàêÂ∑•ÂÖ∑Á±ª ÂàÜÂ∏ÉÂºèÈîÅÊúâÊõ¥‰∏ì‰∏öÁöÑÊ°ÜÊû∂ ÂàÜÂ∏ÉÂºèÈîÅ - Redisson 1„ÄÅÁÆÄ‰ªã&amp;Êï¥Âêà ÂÆòÁΩëÊñáÊ°£‰∏äËØ¶ÁªÜËØ¥Êòé‰∫Ü ‰∏çÊé®Ëçê‰ΩøÁî® setnxÊù•ÂÆûÁé∞ÂàÜÂ∏ÉÂºèÈîÅÔºåÂ∫îËØ•ÂèÇËÄÉ the Redlock algorithm ÁöÑÂÆûÁé∞ the Redlock algorithmÔºöhttps://redis.io/topics/distlock Âú®Java ËØ≠Ë®ÄÁéØÂ¢É‰∏ã‰ΩøÁî® Redisson githubÔºöhttps://github.com/redisson/redisson ÊúâÂØπÂ∫îÁöÑ ‰∏≠ÊñáÊñáÊ°£ Âú® Maven ‰ªìÂ∫ì‰∏≠ÊêúÁ¥¢‰πüËÉΩÊêúÁ¥¢Âá∫ Redisson Pom 123456&lt;!--‰ª•Âêé‰ΩøÁî® redisson ‰Ωú‰∏∫ÂàÜÂ∏ÉÈîÅÔºåÂàÜÂ∏ÉÂºèÂØπË±°Á≠âÂäüËÉΩ--&gt;&lt;dependency&gt; &lt;groupId&gt;org.redisson&lt;/groupId&gt; &lt;artifactId&gt;redisson&lt;/artifactId&gt; &lt;version&gt;3.12.0&lt;/version&gt;&lt;/dependency&gt; 2„ÄÅRedisson - Lock ÈîÅÊµãËØï &amp; Redisson - Lock ÁúãÈó®ÁãóÂéüÁêÜ - Redisson Â¶Ç‰ΩïËß£ÂÜ≥Ê≠ªÈîÅ 12345678910111213141516171819202122232425262728293031323334@RequestMapping(&quot;/hello&quot;)@ResponseBodypublic String hello(){ // 1„ÄÅËé∑Âèñ‰∏ÄÊääÈîÅÔºåÂè™Ë¶ÅÈîÅÂæóÂêçÂ≠ó‰∏ÄÊ†∑ÔºåÂ∞±ÊòØÂêå‰∏ÄÊääÈîÅ RLock lock = redission.getLock(&quot;my-lock&quot;); // 2„ÄÅÂä†ÈîÅ lock.lock(); // ÈòªÂ°ûÂºèÁ≠âÂæÖÔºåÈªòËÆ§Âä†ÁöÑÈîÅÈÉΩÊòØ30sÊó∂Èó¥ // 1„ÄÅÈîÅÁöÑËá™Âä®Áª≠ÊúüÔºåÂ¶ÇÊûú‰∏öÂä°Ë∂ÖÈïøÔºåËøêË°åÊúüÈó¥Ëá™Âä®ÁªôÈîÅÁª≠‰∏äÊñ∞ÁöÑ30sÔºå‰∏çÁî®ÊãÖÂøÉ‰∏öÂä°Êó∂Èó¥ÈïøÔºåÈîÅËá™Âä®ËøáÊúüÂêéË¢´Âà†Êéâ // 2„ÄÅÂä†ÈîÅÁöÑ‰∏öÂä°Âè™Ë¶ÅËøêË°åÂÆåÊàêÔºåÂ∞±‰∏ç‰ºöÁªôÂΩìÂâçÈîÅÁª≠ÊúüÔºåÂç≥‰Ωø‰∏çÊâãÂä®Ëß£ÈîÅÔºåÈîÅÈªòËÆ§‰ºöÂú®30s‰ª•ÂêéËá™Âä®Âà†Èô§ lock.lock(10, TimeUnit.SECONDS); //10s ÂêéËá™Âä®Âà†Èô§ //ÈóÆÈ¢ò lock.lock(10, TimeUnit.SECONDS) Âú®ÈîÅÊó∂Èó¥Âà∞‰∫ÜÂêéÔºå‰∏ç‰ºöËá™Âä®Áª≠Êúü // 1„ÄÅÂ¶ÇÊûúÊàë‰ª¨‰º†ÈÄí‰∫ÜÈîÅÁöÑË∂ÖÊó∂Êó∂Èó¥ÔºåÂ∞±ÂèëÈÄÅÁªô redis ÊâßË°åËÑöÊú¨ÔºåËøõË°åÂç†ÈîÅÔºåÈªòËÆ§Ë∂ÖÊó∂Â∞±ÊòØÊàë‰ª¨ÊåáÂÆöÁöÑÊó∂Èó¥ // 2„ÄÅÂ¶ÇÊûúÊàë‰ª¨‰∏∫ÊåáÂÆöÈîÅÁöÑË∂ÖÊó∂Êó∂Èó¥ÔºåÂ∞±ÊòØÁî® 30 * 1000 LockWatchchdogTimeoutÁúãÈó®ÁãóÁöÑÈªòËÆ§Êó∂Èó¥„ÄÅ // Âè™Ë¶ÅÂç†ÈîÅÊàêÂäüÔºåÂ∞±‰ºöÂêØÂä®‰∏Ä‰∏™ÂÆöÊó∂‰ªªÂä°Ôºå„ÄêÈáçÊñ∞ÁªôÈîÅËÆæÁΩÆËøáÊúüÊó∂Èó¥ÔºåÊñ∞ÁöÑËøáÊúüÊó∂Èó¥Â∞±ÊòØÁúãÈó®ÁãóÁöÑÈªòËÆ§Êó∂Èó¥„Äë,ÊØèÈöî10sÂ∞±Ëá™Âä®Áª≠Êúü // internalLockLeaseTime„ÄêÁúãÈó®ÁãóÊó∂Èó¥„Äë /3,10s //ÊúÄ‰Ω≥ÂÆûË∑µ // 1„ÄÅlock.lock(10, TimeUnit.SECONDS);ÁúÅÊéâ‰∫ÜÊï¥‰∏™Áª≠ÊúüÊìç‰ΩúÔºåÊâãÂä®Ëß£ÈîÅ try { System.out.println(&quot;Âä†ÈîÅÊàêÂäüÔºåÊâßË°å‰∏öÂä°...&quot; + Thread.currentThread().getId()); Thread.sleep(3000); } catch (Exception e) { } finally { // Ëß£ÈîÅ Â∞ÜËÆæËß£ÈîÅ‰ª£Á†ÅÊ≤°ÊúâËøêË°åÔºåreidsson‰ºö‰∏ç‰ºöÂá∫Áé∞Ê≠ªÈîÅ System.out.println(&quot;ÈáäÊîæÈîÅ....&quot; + Thread.currentThread().getId()); lock.unlock(); } return &quot;hello&quot;;} ËøõÂÖ•Âà∞ Redisson Lock Ê∫êÁ†Å 1„ÄÅËøõÂÖ• Lock ÁöÑÂÆûÁé∞ ÂèëÁé∞ ‰ªñË∞ÉÁî®ÁöÑ‰πüÊòØ lock ÊñπÊ≥ïÂèÇÊï∞ Êó∂Èó¥‰∏∫ -1 2„ÄÅÂÜçÊ¨°ËøõÂÖ• lock ÊñπÊ≥ï ÂèëÁé∞‰ªñË∞ÉÁî®‰∫Ü tryAcquire 3„ÄÅËøõÂÖ• tryAcquire 4„ÄÅÈáåÂ§¥Ë∞ÉÁî®‰∫Ü tryAcquireAsync ËøôÈáåÂà§Êñ≠ laseTime != -1 Â∞±‰∏éÂàöÂàöÁöÑÁ¨¨‰∏ÄÊ≠•‰º†ÂÖ•ÁöÑÂÄºÊúâÂÖ≥Á≥ª 5„ÄÅËøõÂÖ•Âà∞ tryLockInnerAsync ÊñπÊ≥ï 6„ÄÅinternalLockLeaseTime Ëøô‰∏™ÂèòÈáèÊòØÈîÅÁöÑÈªòËÆ§Êó∂Èó¥ Ëøô‰∏™ÂèòÈáèÂú®ÊûÑÈÄ†ÁöÑÊó∂ÂÄôÂ∞±ËµãÂàùÂßãÂÄº 7„ÄÅÊúÄÂêéÊü•Áúã lockWatchdogTimeout ÂèòÈáè ‰πüÂ∞±ÊòØ30ÁßíÁöÑÊó∂Èó¥ 3„ÄÅReidsson - ËØªÂÜôÈîÅ ‰∫åËØù‰∏çËØ¥Ôºå‰∏ä‰ª£Á†ÅÔºÅÔºÅÔºÅ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253/** * ‰øùËØÅ‰∏ÄÂÆöËÉΩËØªÂèñÂà∞ÊúÄÊñ∞Êï∞ÊçÆÔºå‰øÆÊîπÊúüÈó¥ÔºåÂÜôÈîÅÊòØ‰∏Ä‰∏™Êéí‰ªñÈîÅÔºà‰∫íÊñ•ÈîÅÔºåÁã¨‰∫´ÈîÅÔºâËØªÈîÅÊòØ‰∏Ä‰∏™ÂÖ±‰∫´ÈîÅ * ÂÜôÈîÅÊ≤°ÈáäÊîæËØªÈîÅÂ∞±ÂøÖÈ°ªÁ≠âÂæÖ * ËØª + ËØª Áõ∏ÂΩì‰∫éÊó†ÈîÅÔºåÂπ∂ÂèëËØªÔºåÂè™‰ºöÂú® reids‰∏≠ËÆ∞ÂΩïÂ•ΩÔºåÊâÄÊúâÂΩìÂâçÁöÑËØªÈîÅÔºå‰ªñ‰ª¨ÈÉΩ‰ºöÂêåÊó∂Âä†ÈîÅÊàêÂäü * ÂÜô + ËØª Á≠âÂæÖÂÜôÈîÅÈáäÊîæ * ÂÜô + ÂÜô ÈòªÂ°ûÊñπÂºè * ËØª + ÂÜô ÊúâËØªÈîÅÔºåÂÜô‰πüÈúÄË¶ÅÁ≠âÂæÖ * Âè™Ë¶ÅÊúâÂÜôÁöÑÂ≠òÂú®ÔºåÈÉΩÂøÖÈ°ªÁ≠âÂæÖ * @return String */ @RequestMapping(&quot;/write&quot;) @ResponseBody public String writeValue() { RReadWriteLock lock = redission.getReadWriteLock(&quot;rw_lock&quot;); String s = &quot;&quot;; RLock rLock = lock.writeLock(); try { // 1„ÄÅÊîπÊï∞ÊçÆÂä†ÂÜôÈîÅÔºåËØªÊï∞ÊçÆÂä†ËØªÈîÅ rLock.lock(); System.out.println(&quot;ÂÜôÈîÅÂä†ÈîÅÊàêÂäü...&quot; + Thread.currentThread().getId()); s = UUID.randomUUID().toString(); try { TimeUnit.SECONDS.sleep(3); } catch (InterruptedException e) { e.printStackTrace(); } redisTemplate.opsForValue().set(&quot;writeValue&quot;,s); } catch (Exception e) { e.printStackTrace(); } finally { rLock.unlock(); System.out.println(&quot;ÂÜôÈîÅÈáäÊîæ...&quot; + Thread.currentThread().getId()); } return s; } @RequestMapping(&quot;/read&quot;) @ResponseBody public String readValue() { RReadWriteLock lock = redission.getReadWriteLock(&quot;rw_lock&quot;); RLock rLock = lock.readLock(); String s = &quot;&quot;; rLock.lock(); try { System.out.println(&quot;ËØªÈîÅÂä†ÈîÅÊàêÂäü...&quot; + Thread.currentThread().getId()); s = (String) redisTemplate.opsForValue().get(&quot;writeValue&quot;); try { TimeUnit.SECONDS.sleep(3); } catch (InterruptedException e) { e.printStackTrace(); } } catch (Exception e) { e.printStackTrace(); } finally { rLock.unlock(); System.out.println(&quot;ËØªÈîÅÈáäÊîæ...&quot; + Thread.currentThread().getId()); } return s; } Êù•Áúã‰∏ãÂÆòÁΩëÁöÑËß£Èáä 4„ÄÅRedisson - Èó≠ÈîÅÊµãËØï ÂÆòÁΩëÔºÅÔºÅÔºÅ ‰∏ä‰ª£Á†Å 1234567891011121314151617181920212223/** * ÊîæÂÅáÈîÅÈó® * 1Áè≠Ê≤°‰∫∫‰∫Ü * 5‰∏™Áè≠Á∫ßËµ∞ÂÆåÔºåÊàë‰ª¨ÂèØ‰ª•ÈîÅ‰ª¨‰∫Ü * @return */@GetMapping(&quot;/lockDoor&quot;)@ResponseBodypublic String lockDoor() throws InterruptedException { RCountDownLatch door = redission.getCountDownLatch(&quot;door&quot;); door.trySetCount(5); door.await();//Á≠âÂæÖÈó≠ÈîÅÈÉΩÂÆåÊàê return &quot;ÊîæÂÅá‰∫Ü....&quot;;}@GetMapping(&quot;/gogogo/{id}&quot;)@ResponseBodypublic String gogogo(@PathVariable(&quot;id&quot;) Long id) { RCountDownLatch door = redission.getCountDownLatch(&quot;door&quot;); door.countDown();// ËÆ°Êï∞Âô®Âáè‰∏Ä return id + &quot;Áè≠ÁöÑ‰∫∫Ëµ∞ÂÆå‰∫Ü.....&quot;;} Âíå JUC ÁöÑ CountDownLatch ‰∏ÄËá¥ await()Á≠âÂæÖÈó≠ÈîÅÂÆåÊàê countDown() ÊääËÆ°Êï∞Âô®ÂáèÊéâÂêé awaitÂ∞±‰ºöÊîæË°å 5„ÄÅRedisson - ‰ø°Âè∑ÈáèÊµãËØï ÂÆòÁΩëÔºÅÔºÅÔºÅ 1234567891011121314151617181920212223/** * ËΩ¶Â∫ìÂÅúËΩ¶ * 3ËΩ¶‰Ωç * @return */@GetMapping(&quot;/park&quot;)@ResponseBodypublic String park() throws InterruptedException { RSemaphore park = redission.getSemaphore(&quot;park&quot;); boolean b = park.tryAcquire();//Ëé∑Âèñ‰∏Ä‰∏™‰ø°Âè∑ÔºåËé∑Âèñ‰∏Ä‰∏™ÂÄºÔºåÂç†Áî®‰∏Ä‰∏™ËΩ¶‰Ωç return &quot;ok=&quot; + b;}@GetMapping(&quot;/go&quot;)@ResponseBodypublic String go() { RSemaphore park = redission.getSemaphore(&quot;park&quot;); park.release(); //ÈáäÊîæ‰∏Ä‰∏™ËΩ¶‰Ωç return &quot;ok&quot;;} Á±ª‰ºº JUC ‰∏≠ÁöÑ Semaphore 6„ÄÅRedission - ÁºìÂ≠ò‰∏ÄËá¥ÊÄßËß£ÂÜ≥ 6.3 ÁºìÂ≠òÊï∞ÊçÆ‰∏ÄËá¥ÊÄß ÁºìÂ≠òÊï∞ÊçÆ‰∏ÄËá¥ÊÄß - ÂèåÂÜôÊ®°Âºè ‰∏§‰∏™Á∫øÁ®ãÂÜô ÊúÄÁªàÂè™Êúâ‰∏Ä‰∏™Á∫øÁ®ãÂÜôÊàêÂäüÔºåÂêéÂÜôÊàêÂäüÁöÑ‰ºöÊää‰πãÂâçÂÜôÁöÑÊï∞ÊçÆÁªôË¶ÜÁõñÔºåËøôÂ∞±‰ºöÈÄ†ÊàêËÑèÊï∞ÊçÆ ÁºìÂ≠òÊï∞ÊçÆ‰∏ÄËá¥ÊÄß - Â§±ÊïàÊ®°Âºè ‰∏â‰∏™ËøûÊé• ‰∏ÄÂè∑ËøûÊé• ÂÜôÊï∞ÊçÆÂ∫ì ÁÑ∂ÂêéÂà†ÁºìÂ≠ò ‰∫åÂè∑ËøûÊé• ÂÜôÊï∞ÊçÆÂ∫ìÊó∂ÁΩëÁªúËøûÊé•ÊÖ¢ÔºåËøòÊ≤°ÊúâÂÜôÂÖ•ÊàêÂäü ‰∏âÂè∑ÈìæÊé• Áõ¥Êé•ËØªÂèñÊï∞ÊçÆÔºåËØªÂà∞ÁöÑÊòØ‰∏ÄÂè∑ËøûÊé•ÂÜôÂÖ•ÁöÑÊï∞ÊçÆÔºåÊ≠§Êó∂ ‰∫åÂè∑ÈìæÊé•ÂÜôÂÖ•Êï∞ÊçÆÊàêÂäüÂπ∂Âà†Èô§‰∫ÜÁºìÂ≠òÔºå‰∏âÂè∑ÂºÄÂßãÊõ¥Êñ∞ÁºìÂ≠òÂèëÁé∞Êõ¥Êñ∞ÁöÑÊòØ‰∫åÂè∑ÁöÑÁºìÂ≠ò ÁºìÂ≠òÊï∞ÊçÆ‰∏ÄËá¥ÊÄßËß£ÂÜ≥ÊñπÊ°à Êó†ËÆ∫ÊòØÂèåÂÜôÊ®°ÂºèËøòÊòØÂ§±ÊïàÊ®°ÂºèÔºåÈÉΩ‰ºöÂà∞ËøôÁºìÂ≠ò‰∏ç‰∏ÄËá¥ÁöÑÈóÆÈ¢òÔºåÂç≥Â§ö‰∏™ÂÆûÂäõÂêåÊó∂Êõ¥Êñ∞‰ºöÂá∫‰∫ãÔºåÊÄé‰πàÂäûÔºü 1„ÄÅÂ¶ÇÊûúÊòØÁî®Êà∑Á∫ØÂ∫¶Êï∞ÊçÆÔºàËÆ¢ÂçïÊï∞ÊçÆ„ÄÅÁî®Êà∑Êï∞ÊçÆÔºâÔºåËøôÂπ∂ÂèëÂá†ÁéáÂæàÂ∞èÔºåÂá†‰πé‰∏çÁî®ËÄÉËôëËøô‰∏™ÈóÆÈ¢òÔºåÁºìÂ≠òÊï∞ÊçÆÂä†‰∏äËøáÊúüÊó∂Èó¥ÔºåÊØèÈöî‰∏ÄÊÆµÊó∂Èó¥Ëß¶ÂèëËØªÁöÑ‰∏ªÂä®Êõ¥Êñ∞Âç≥ÂèØ 2„ÄÅÂ¶ÇÊûúÊòØËèúÂçïÔºåÂïÜÂìÅ‰ªãÁªçÁ≠âÂü∫Á°ÄÊï∞ÊçÆÔºå‰πüÂèØ‰ª•Âéª‰ΩøÁî® canal ËÆ¢ÈòÖÔºåbinlog ÁöÑÊñπÂºè 3„ÄÅÁºìÂ≠òÊï∞ÊçÆ + ËøáÊúüÊó∂Èó¥‰πüË∂≥Â§üËß£ÂÜ≥Â§ßÈÉ®ÂàÜ‰∏öÂä°ÂØπÁºìÂ≠òÁöÑË¶ÅÊ±Ç 4„ÄÅÈÄöËøáÂä†ÈîÅ‰øùËØÅÂπ∂ÂèëËØªÂÜôÔºåÂÜôÂÜôÁöÑÊó∂ÂÄôÊåâÁÖßÈ°∫Â∫èÊéíÂ•ΩÈòüÔºåËØªËØªÊó†ÊâÄË∞ìÔºåÊâÄ‰ª•ÈÄÇÂêàËØªÂÜôÈîÅÔºåÔºà‰∏öÂä°‰∏çÂÖ≥ÂøÉËÑèÊï∞ÊçÆÔºåÂÖÅËÆ∏‰∏¥Êó∂ËÑèÊï∞ÊçÆÂèØÂøΩÁï•Ôºâ ÊÄªÁªì: Êàë‰ª¨ËÉΩÊîæÂÖ•ÁºìÂ≠òÁöÑÊï∞ÊçÆÊú¨Êù•Â∞±‰∏çÂ∫îËØ•ÊòØÂÆûÊó∂ÊÄß„ÄÅ‰∏ÄËá¥ÊÄßË¶ÅÊ±ÇË∂ÖÈ´òÁöÑ„ÄÇÊâÄ‰ª•ÁºìÂ≠òÊï∞ÊçÆÁöÑÊó∂ÂÄôÂä†‰∏äËøáÊúüÊó∂Èó¥Ôºå‰øùËØÅÊØèÂ§©ÊãøÂà∞ÂΩìÂâçÁöÑÊúÄÊñ∞ÂÄºÂç≥ÂèØ Êàë‰ª¨‰∏çÂ∫îËØ•ËøáÂ∫¶ËÆæËÆ°ÔºåÂ¢ûÂä†Á≥ªÁªüÁöÑÂ§çÊùÇÊÄß ÈÅáÂà∞ÂÆûÊó∂ÊÄß„ÄÅ‰∏ÄËá¥ÊÄßË¶ÅÊ±ÇÈ´òÁöÑÊï∞ÊçÆÔºåÂ∞±Â∫îËØ•Êü•Êï∞ÊçÆÂ∫ìÔºåÂç≥‰ΩøÊÖ¢ÁÇπ ![](D:\\java\\gitee\\java-learning-note\\Evan Guo\\È°πÁõÆÁ¨îËÆ∞\\Ë∞∑Á≤íÂïÜÂüéÈ°πÁõÆÂºÄÂèëÊñáÊ°£\\ÂàÜÂ∏ÉÂºèÈ´òÁ∫ßÁØá\\image\\image-20201101054937769.png) ÊúÄÂêéÁ¨¶‰∏ä ‰∏âÁ∫ßÂàÜÁ±ªÊï∞ÊçÆ Âä†‰∏äÂàÜÂ∏ÉÂºèÈîÅ 6.5 Spring Cache 1„ÄÅÁÆÄ‰ªã Spring ‰ªé3.1ÂºÄÂßãÂÆö‰πâ‰∫Ü org.springframework.cache.Cache Âíå org.sprngframework.cache.CacheManager Êé•Âè£ÁùêÁªü‰∏Ä‰∏çÂêåÁöÑÁºìÂ≠òÊäÄÊúØ Âπ∂ÊîØÊåÅ‰ΩøÁî® JCacheÔºàJSR-107ÔºâÊ≥®Ëß£ÁÆÄÂåñÊàë‰ª¨ÁöÑÂºÄÂèë Cache Êé•Âè£‰∏∫ÁºìÂ≠òÁöÑÁªÑ‰ª∂ËßÑËåÉÂÆö‰πâÔºåÂåÖÂê´ÁºìÂ≠òÁöÑÂêÑÁßçÊìç‰ΩúÈõÜÂêà Cache Êé•Âè£‰∏ã Spring Êèê‰æõ‰∫ÜÂêÑÁßç XXXCacheÁöÑÂÆûÁé∞ÔºåÂ¶Ç RedisCache„ÄÅEhCache,ConcrrentMapCacheÁ≠âÁ≠âÔºå ÊØèÊ¨°Ë∞ÉÁî®ÈúÄË¶ÅÁºìÂ≠òÂäüËÉΩÂÆûÁé∞ÊñπÊ≥ïÁöÑÊó∂ÂÄôÔºåSpring ‰ºöÊ£ÄÊü•Ê£ÄÊü•ÊåáÂÆöÂèÇÊï∞ÁöÑÈ©¨Âä™Ë°®ÁäØÊ≥ïÊòØÂê¶Â∑≤ÁªèË¢´Âó≤Áî®ËøáÔºåÂ¶ÇÊûúÊúâÂ∞±Áõ¥Êé•‰ªéÁºìÂ≠ò‰∏≠Ëé∑ÂèñÊñπÊ≥ïË∞ÉÁî®ÂêéÁöÑÁªìÊûúÔºåÂ¶ÇÊûúÊ≤°ÊúâÂ∞±Ë∞ÉÁî®ÊñπÊ≥ïÂπ∂ÁºìÂ≠òÁªìÊûúÂêéËøîÂõûÁªôÁî®Êà∑Ôºå‰∏ãÊ¨°Áõ¥Êé•Ë∞ÉÁî®‰ªéÁºìÂ≠ò‰∏≠Ëé∑Âèñ ‰ΩøÁî® Sprng ÁºìÂ≠òÊäΩË±°Êó∂Êàë‰ª¨ÈúÄË¶ÅÂÖ≥Ê≥®ÁöÑÁÇπÊúâ‰ª•‰∏ã‰∏§ÁÇπ 1„ÄÅÁ°ÆÂÆöÊñπÊ≥ïÈúÄË¶ÅË¢´ÁºìÂ≠ò‰ª•Âèä‰ªñ‰ª¨ÁöÑÁöÑÁºìÂ≠òÁ≠ñÁï• 2„ÄÅ‰ªéÁºìÂ≠ò‰∏≠ËØªÂèñ‰πãÂâçÁºìÂ≠òÂ≠òÂÇ®ÁöÑÊï∞ÊçÆ ÂÆòÁΩëÂú∞ÂùÄÔºöhttps://docs.spring.io/spring-framework/docs/5.2.10.RELEASE/spring-framework-reference/integration.html#cache-strategie ÁºìÂ≠òÊ≥®Ëß£ÈÖçÁΩÆ 2„ÄÅÂü∫Á°ÄÊ¶ÇÂøµ ‰ªé3.1ÁâàÊú¨ÂºÄÂßãÔºåSpring Ê°ÜÊû∂Â∞±ÊîØÊåÅÈÄèÊòéÂú∞ÂêëÁé∞Êúâ Spring Â∫îÁî®Á®ãÂ∫èÊ∑ªÂä†ÁºìÂ≠ò„ÄÇ‰∏é‰∫ãÂä°ÊîØÊåÅÁ±ª‰ººÔºåÁºìÂ≠òÊäΩË±°ÂÖÅËÆ∏Âú®ÂØπ‰ª£Á†ÅÂΩ±ÂìçÊúÄÂ∞èÁöÑÊÉÖÂÜµ‰∏ã‰∏ÄËá¥Âú∞‰ΩøÁî®ÂêÑÁßçÁºìÂ≠òËß£ÂÜ≥ÊñπÊ°à„ÄÇ‰ªé Spring 4.1 ÂºÄÂßãÔºåÁºìÂ≠òÊäΩË±°Âú®JSR-107Ê≥®ÈáäÂíåÊõ¥Â§öÂÆöÂà∂ÈÄâÈ°πÁöÑÊîØÊåÅ‰∏ãÂæóÂà∞‰∫ÜÊòæËëóÊâ©Â±ï„ÄÇ 123456789101112131415161718/*** 8„ÄÅÊï¥ÂêàSpringCacheÁÆÄÂåñÁºìÂ≠òÂºÄÂèë* 1„ÄÅÂºïÂÖ•‰æùËµñ* spring-boot-starter-cache* 2„ÄÅÂÜôÈÖçÁΩÆ* 1„ÄÅËá™Âä®ÈÖçÁΩÆ‰∫ÜÈÇ£‰∫õ* CacheAutoConfiguration‰ºöÂØºÂÖ• RedisCacheConfiguration* Ëá™Âä®ÈÖçÁΩÆÂ•Ω‰∫ÜÁºìÂ≠òÁÆ°ÁêÜÂô®ÔºåRedisCacheManager* 2„ÄÅÈÖçÁΩÆ‰ΩøÁî®redis‰Ωú‰∏∫ÁºìÂ≠ò* Spring.cache.type=redis** 4„ÄÅÂéüÁêÜ* CacheAutoConfiguration -&gt;RedisCacheConfiguration -&gt;* Ëá™Âä®ÈÖçÁΩÆ‰∫Ü RedisCacheManager -&gt;ÂàùÂßãÂåñÊâÄÊúâÁöÑÁºìÂ≠ò -&gt; ÊØè‰∏™ÁºìÂ≠òÂÜ≥ÂÆö‰ΩøÁî®‰ªÄ‰πàÈÖçÁΩÆ* -&gt;Â¶ÇÊûúredisCacheConfigurationÊúâÂ∞±Áî®Â∑≤ÊúâÁöÑÔºåÊ≤°ÊúâÂ∞±Áî®ÈªòËÆ§ÁöÑ* -&gt;ÊÉ≥ÊîπÁºìÂ≠òÁöÑÈÖçÁΩÆÔºåÂè™ÈúÄË¶ÅÊääÂÆπÂô®‰∏≠Êîæ‰∏Ä‰∏™ RedisCacheConfiguration Âç≥ÂèØ* -&gt;Â∞±‰ºöÂ∫îÁî®Âà∞ÂΩìÂâç RedisCacheManagerÁÆ°ÁêÜÊâÄÊúâÁºìÂ≠òÂàÜÂå∫‰∏≠*/ 3„ÄÅÊ≥®Ëß£ ÂØπ‰∫éÁºìÂ≠òÂ£∞ÊòéÔºåSpringÁöÑÁºìÂ≠òÊäΩË±°Êèê‰æõ‰∫Ü‰∏ÄÁªÑJavaÊ≥®Ëß£ 1234567/**@Cacheable: Triggers cache population:Ëß¶ÂèëÂ∞ÜÊï∞ÊçÆ‰øùÂ≠òÂà∞ÁºìÂ≠òÁöÑÊìç‰Ωú@CacheEvict: Triggers cache eviction: Ëß¶ÂèëÂ∞ÜÊï∞ÊçÆ‰ªéÁºìÂ≠òÂà†Èô§ÁöÑÊìç‰Ωú@CachePut: Updates the cache without interfering with the method execution:‰∏çÂΩ±ÂìçÊñπÊ≥ïÊâßË°åÊõ¥Êñ∞ÁºìÂ≠ò@Caching: Regroups multiple cache operations to be applied on a method:ÁªÑÂêà‰ª•‰∏äÂ§ö‰∏™Êìç‰Ωú@CacheConfig: Shares some common cache-related settings at class-level:Âú®Á±ªÁ∫ßÂà´ÂÖ±‰∫´ÁºìÂ≠òÁöÑÁõ∏ÂêåÈÖçÁΩÆ**/ Ê≥®Ëß£‰ΩøÁî® 12345678910111213141516171819202122232425262728/** * 1„ÄÅÊØè‰∏Ä‰∏™ÈúÄË¶ÅÁºìÂ≠òÁöÑÊï∞ÊçÆÊàë‰ª¨ÈÉΩÈúÄË¶ÅÊåáÂÆöÊîæÂà∞ÈÇ£‰∏™ÂêçÂ≠óÁöÑÁºìÂ≠ò„ÄêÁºìÂ≠òÂàÜÂå∫ÁöÑÂàíÂàÜ„ÄêÊåâÁÖß‰∏öÂä°Á±ªÂûãÂàíÂàÜ„Äë„Äë * 2„ÄÅ@Cacheable({&quot;category&quot;}) * ‰ª£Ë°®ÂΩìÂâçÊñπÊ≥ïÁöÑÁªìÊûúÈúÄË¶ÅÁºìÂ≠òÔºåÂ¶ÇÊûúÁºìÂ≠ò‰∏≠ÊúâÔºåÊñπÊ≥ï‰∏çË∞ÉÁî® * Â¶ÇÊûúÁºìÂ≠ò‰∏≠Ê≤°ÊúâÔºåË∞ÉÁî®ÊñπÊ≥ïÔºåÊúÄÂêéÂ∞ÜÊñπÊ≥ïÁöÑÁªìÊûúÊîæÂÖ•ÁºìÂ≠ò * 3„ÄÅÈªòËÆ§Ë°å‰∏∫: * 1„ÄÅÂ¶ÇÊûúÁºìÂ≠ò‰∏≠ÊúâÔºåÊñπÊ≥ï‰∏çÁî®Ë∞ÉÁî® * 2„ÄÅkeyÈªòËá™Âä®ÁîüÊàêÔºåÁºìÂ≠òÁöÑÂêçÂ≠ó:SimpleKey[](Ëá™Âä®ÁîüÊàêÁöÑkeyÂÄº) * 3„ÄÅÁºìÂ≠ò‰∏≠valueÁöÑÂÄºÔºåÈªòËÆ§‰ΩøÁî®jdkÂ∫èÂàóÂåñÔºåÂ∞ÜÂ∫èÂàóÂåñÂêéÁöÑÊï∞ÊçÆÂ≠òÂà∞redis * 3„ÄÅÈªòËÆ§ÁöÑËøáÊúüÊó∂Èó¥Ôºå-1 * * Ëá™ÂÆö‰πâÊìç‰Ωú * 1„ÄÅÊåáÂÆöÁºìÂ≠ò‰ΩøÁî®ÁöÑkey keyÂ±ûÊÄßÊåáÂÆöÔºåÊé•Êî∂‰∏Ä‰∏™SpEl * 2„ÄÅÊåáÂÆöÁºìÂ≠òÊï∞ÊçÆÁöÑÂ≠òÊ¥ªÊó∂Èó¥ ÈÖçÁΩÆÊñá‰ª∂‰∏≠‰øÆÊîπttl * 3„ÄÅÂ∞ÜÊï∞ÊçÆ‰øùÂ≠ò‰∏∫jsonÊ†ºÂºè * @return */ //value ÁºìÂ≠òÁöÑÂà´Âêç // key redis‰∏≠keyÁöÑÂêçÁß∞ÔºåÈªòËÆ§ÊòØÊñπÊ≥ïÂêçÁß∞ @Cacheable(value = {&quot;category&quot;},key = &quot;#root.method.name&quot;) @Override public List&lt;CategoryEntity&gt; getLevel1Categorys() { long l = System.currentTimeMillis(); // parent_cid‰∏∫0ÂàôÊòØ‰∏ÄÁ∫ßÁõÆÂΩï List&lt;CategoryEntity&gt; categoryEntities = baseMapper.selectList(new QueryWrapper&lt;CategoryEntity&gt;().eq(&quot;parent_cid&quot;, 0)); System.out.println(&quot;ËÄóË¥πÊó∂Èó¥Ôºö&quot; + (System.currentTimeMillis() - l)); return categoryEntities; } 4„ÄÅË°®ËææÂºèËØ≠Ê≥ï ÈÖçÁΩÆ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455package com.atguigu.gulimall.product.config;import org.springframework.boot.autoconfigure.cache.CacheProperties;import org.springframework.boot.context.properties.EnableConfigurationProperties;import org.springframework.cache.annotation.EnableCaching;import org.springframework.context.annotation.Bean;import org.springframework.context.annotation.Configuration;import org.springframework.data.redis.cache.RedisCacheConfiguration;import org.springframework.data.redis.serializer.GenericJackson2JsonRedisSerializer;import org.springframework.data.redis.serializer.RedisSerializationContext;import org.springframework.data.redis.serializer.StringRedisSerializer;/** * @author gcq * @Create 2020-11-01 */@EnableConfigurationProperties(CacheProperties.class)@EnableCaching@Configurationpublic class MyCacheConfig { /** * ÈÖçÁΩÆÊñá‰ª∂‰∏≠ÁöÑ‰∏úË•øÊ≤°ÊúâÁî®‰∏ä * 1„ÄÅÂéüÊù•ÁöÑÈÖçÁΩÆÂêªÊäÄÂÆâÁªëÂÆöÁöÑÈÖçÁΩÆÁ±ªÊòØËøôÊ†∑Â≠êÁöÑ * @ConfigurationProperties(prefix = &quot;Spring.cache&quot;) * 2„ÄÅË¶ÅËÆ©‰ªñÁîüÊïà * @EnableConfigurationProperties(CacheProperties.class) * @param cacheProperties * @return */ @Bean RedisCacheConfiguration redisCacheConfiguration(CacheProperties cacheProperties) { RedisCacheConfiguration config = RedisCacheConfiguration.defaultCacheConfig(); // ËÆæÁΩÆkeyÁöÑÂ∫èÂàóÂåñ config = config.serializeKeysWith(RedisSerializationContext.SerializationPair.fromSerializer(new StringRedisSerializer())); // ËÆæÁΩÆvalueÂ∫èÂàóÂåñ -&gt;JackSon config = config.serializeValuesWith(RedisSerializationContext.SerializationPair.fromSerializer(new GenericJackson2JsonRedisSerializer())); CacheProperties.Redis redisProperties = cacheProperties.getRedis(); if (redisProperties.getTimeToLive() != null) { config = config.entryTtl(redisProperties.getTimeToLive()); } if (redisProperties.getKeyPrefix() != null) { config = config.prefixKeysWith(redisProperties.getKeyPrefix()); } if (!redisProperties.isCacheNullValues()) { config = config.disableCachingNullValues(); } if (!redisProperties.isUseKeyPrefix()) { config = config.disableKeyPrefix(); } return config; }} yaml 12345678Spring: cache: type: redis redis: time-to-live: 3600000 # ËøáÊúüÊó∂Èó¥ key-prefix: CACHE_ # keyÂâçÁºÄ use-key-prefix: true # ÊòØÂê¶‰ΩøÁî®ÂÜôÂÖ•redisÂâçÁºÄ cache-null-values: true # ÊòØÂê¶ÂÖÅËÆ∏ÁºìÂ≠òÁ©∫ÂÄº 5„ÄÅÁºìÂ≠òÁ©øÈÄèÈóÆÈ¢òËß£ÂÜ≥ 123456789101112131415161718192021222324252627282930313233343536373839404142/** * 1„ÄÅÊØè‰∏Ä‰∏™ÈúÄË¶ÅÁºìÂ≠òÁöÑÊï∞ÊçÆÊàë‰ª¨ÈÉΩÈúÄË¶ÅÊåáÂÆöÊîæÂà∞ÈÇ£‰∏™ÂêçÂ≠óÁöÑÁºìÂ≠ò„ÄêÁºìÂ≠òÂàÜÂå∫ÁöÑÂàíÂàÜ„ÄêÊåâÁÖß‰∏öÂä°Á±ªÂûãÂàíÂàÜ„Äë„Äë * 2„ÄÅ@Cacheable({&quot;category&quot;}) * ‰ª£Ë°®ÂΩìÂâçÊñπÊ≥ïÁöÑÁªìÊûúÈúÄË¶ÅÁºìÂ≠òÔºåÂ¶ÇÊûúÁºìÂ≠ò‰∏≠ÊúâÔºåÊñπÊ≥ï‰∏çË∞ÉÁî® * Â¶ÇÊûúÁºìÂ≠ò‰∏≠Ê≤°ÊúâÔºåË∞ÉÁî®ÊñπÊ≥ïÔºåÊúÄÂêéÂ∞ÜÊñπÊ≥ïÁöÑÁªìÊûúÊîæÂÖ•ÁºìÂ≠ò * 3„ÄÅÈªòËÆ§Ë°å‰∏∫: * 1„ÄÅÂ¶ÇÊûúÁºìÂ≠ò‰∏≠ÊúâÔºåÊñπÊ≥ï‰∏çÁî®Ë∞ÉÁî® * 2„ÄÅkeyÈªòËá™Âä®ÁîüÊàêÔºåÁºìÂ≠òÁöÑÂêçÂ≠ó:SimpleKey[](Ëá™Âä®ÁîüÊàêÁöÑkeyÂÄº) * 3„ÄÅÁºìÂ≠ò‰∏≠valueÁöÑÂÄºÔºåÈªòËÆ§‰ΩøÁî®jdkÂ∫èÂàóÂåñÔºåÂ∞ÜÂ∫èÂàóÂåñÂêéÁöÑÊï∞ÊçÆÂ≠òÂà∞redis * 3„ÄÅÈªòËÆ§ÁöÑËøáÊúüÊó∂Èó¥Ôºå-1 * * Ëá™ÂÆö‰πâÊìç‰Ωú * 1„ÄÅÊåáÂÆöÁºìÂ≠ò‰ΩøÁî®ÁöÑkey keyÂ±ûÊÄßÊåáÂÆöÔºåÊé•Êî∂‰∏Ä‰∏™SpEl * 2„ÄÅÊåáÂÆöÁºìÂ≠òÊï∞ÊçÆÁöÑÂ≠òÊ¥ªÊó∂Èó¥ ÈÖçÁΩÆÊñá‰ª∂‰∏≠‰øÆÊîπttl * 3„ÄÅÂ∞ÜÊï∞ÊçÆ‰øùÂ≠ò‰∏∫jsonÊ†ºÂºè * 4„ÄÅSpring-CacheÁöÑ‰∏çË∂≥Ôºö * 1„ÄÅËØªÊ®°ÂºèÔºö * ÁºìÂ≠òÁ©øÈÄè:Êü•ËØ¢‰∏Ä‰∏™nullÊï∞ÊçÆÔºåËß£ÂÜ≥ ÁºìÂ≠òÁ©∫Êï∞ÊçÆÔºöache-null-values=true * ÁºìÂ≠òÂáªÁ©ø:Â§ßÈáèÂπ∂ÂèëËøõÊù•ÂêåÊó∂Êü•ËØ¢‰∏Ä‰∏™Ê≠£Â•ΩËøáÊúüÁöÑÊï∞ÊçÆÔºåËß£ÂÜ≥:Âä†ÈîÅ Ôºü ÈªòËÆ§ÊòØÊó†Âä†ÈîÅ * ÁºìÂ≠òÈõ™Â¥©:Â§ßÈáèÁöÑkeyÂêåÊó∂ËøáÊúüÔºåËß£ÂÜ≥ÔºöÂä†‰∏äÈöèÊú∫Êó∂Èó¥ÔºåSpring-cache-redis-time-to-live * 2„ÄÅÂÜôÊ®°ÂºèÔºöÔºàÁºìÂ≠ò‰∏éÊï∞ÊçÆÂ∫ìÂ∫ì‰∏ç‰∏ÄËá¥Ôºâ * 1„ÄÅËØªÂÜôÂä†ÈîÅ * 2„ÄÅÂºïÂÖ•canalÔºåÊÑüÁü•Âà∞MySQLÁöÑÊõ¥Êñ∞ÂéªÊõ¥Êñ∞Êï∞ÊçÆÂ∫ì * 3„ÄÅËØªÂ§öÂÜôÂ§öÔºåÁõ¥Êé•ÂéªÊï∞ÊçÆÂ∫ìÊü•ËØ¢Â∞±Ë°å * * ÊÄªÁªìÔºö * Â∏∏ËßÑÊï∞ÊçÆÔºàËØªÂ§öÂÜôÂ∞ëÔºåÂç≥Êó∂ÊÄßÔºå‰∏ÄËá¥ÊÄßË¶ÅÊ±Ç‰∏çÈ´òÁöÑÊï∞ÊçÆÔºâÂÆåÂÖ®ÂèØ‰ª•‰ΩøÁî®SpringCache ÂÜôÊ®°ÂºèÔºà Âè™Ë¶ÅÁºìÂ≠òÊï∞ÊçÆÊúâËøáÊúüÊó∂Èó¥Â∞±Ë∂≥Â§ü‰∫ÜÔºâ * * ÁâπÊÆäÊï∞ÊçÆÔºöÁâπÊÆäËÆæËÆ° * ÂéüÁêÜÔºö * CacheManager(RedisManager) -&gt; Cache(RedisCache) -&gt;CacheË¥üË¥£ÁºìÂ≠òÁöÑËØªÂÜô * @return */@Cacheable(value = {&quot;category&quot;},key = &quot;#root.method.name&quot;,sync = true)@Overridepublic List&lt;CategoryEntity&gt; getLevel1Categorys() { long l = System.currentTimeMillis(); // parent_cid‰∏∫0ÂàôÊòØ‰∏ÄÁ∫ßÁõÆÂΩï List&lt;CategoryEntity&gt; categoryEntities = baseMapper.selectList(new QueryWrapper&lt;CategoryEntity&gt;().eq(&quot;parent_cid&quot;, 0)); System.out.println(&quot;ËÄóË¥πÊó∂Èó¥Ôºö&quot; + (System.currentTimeMillis() - l)); return categoryEntities;} 6„ÄÅÁºìÂ≠òÊõ¥Êñ∞ 12345678910111213141516171819202122/** * Á∫ßËÅîÊõ¥Êñ∞ÊâÄÊúâÁöÑÂÖ≥ËÅîÊï∞ÊçÆ * @CacheEvict Â§±ÊïàÊ®°Âºè * 1„ÄÅÂêåÊó∂ËøõË°åÂ§öÁßçÁºìÂ≠òÊìç‰Ωú @Caching * 2„ÄÅÊåáÂÆöÂà†Èô§Êüê‰∏™ÂàÜÂå∫‰∏ãÁöÑÊâÄÊúâÊï∞ÊçÆ @CacheEvict(value = {&quot;category&quot;},allEntries = true) * 3„ÄÅÂ≠òÂÇ®Âêå‰∏ÄÁ±ªÂûãÁöÑÊï∞ÊçÆÔºåÈÉΩÂèØ‰ª•ÊåáÂÆöÊàêÂêå‰∏ÄÂàÜÂå∫ÔºåÂàÜÂå∫ÂêçÈªòËÆ§Â∞±ÊòØÁºìÂ≠òÁöÑÂâçÁºÄ * * @param category */ @Caching(evict = { @CacheEvict(value = {&quot;category&quot;},key = &quot;'getLevel1Categorys'&quot;), @CacheEvict(value = {&quot;category&quot;},key = &quot;'getCatelogJson'&quot;) })// @CacheEvict(value = {&quot;category&quot;},allEntries = true) @Transactional @Override public void updateCascate(CategoryEntity category) { // Êõ¥Êñ∞Ëá™Â∑±Ë°®ÂØπË±° this.updateById(category); // Êõ¥Êñ∞ÂÖ≥ËÅîË°®ÂØπË±° categoryBrandRelationService.updateCategory(category.getCatId(), category.getName()); } ÊÄªÁªì‰∏öÂä°ÊµÅÁ®ãÔºö Â¶ÇÊûúÂøò‰∫ÜËøô‰∏™ÊäÄÊúØÁÇπÁúã‰∏ãÂÅöÁöÑÁ¨îËÆ∞ÁöÑ‰æãÂ≠êÔºåÁÑ∂ÂêéÂéªÂÆòÁΩëÁúã‰∏ãÊñáÊ°£ÔºåÊ∏©ÊïÖËÄåÁü•Êñ∞ ÊµÅÁ®ãÂõæ 7„ÄÅÂïÜÂüé‰∏öÂä° &amp; ÂïÜÂìÅÊ£ÄÁ¥¢ 7.1 Ê£ÄÁ¥¢‰∏öÂä°ÂàÜÊûê 7.1.1 Ê£ÄÁ¥¢Êü•ËØ¢ÂèÇÊï∞Ê®°ÂûãÂàÜÊûêÊäΩÂèñ Êâì‰∏™ÊØî‰æãÂêß ‰Ω†ËÇØÂÆö‰∏äËøá‰∫¨‰∏ú„ÄÅÊ∑òÂÆù‰π∞Ëøá‰∏úË•øÂêßÔºü ÈÇ£‰πà‰Ω†ÊÉ≥Ë¶ÅË¥≠‰π∞‰ªÄ‰πà‰∏úË•øÔºå‰Ω†ÈúÄË¶ÅÂú®ÊêúÁ¥¢Ê°Ü‰∏≠ÊêúÁ¥¢‰Ω†ÊÉ≥Ë¶ÅË¥≠‰π∞ÁöÑÁâ©ÂìÅÔºåÈÇ£‰πàÁ≥ªÁªüÂ∞±‰ºöÁªô‰Ω†ÂìçÂ∫î ÊàëÂú®‰∫¨‰∏úÊêúÁ¥¢ Iphone ‰ªñ‰ºöÊòæÁ§∫Âá∫Áõ∏ÂØπÂ∫îÁöÑ‰∫ßÂìÅ ÈÇ£‰πàÊàë‰ª¨ÂºÄÂßãÂØπ‰∏öÂä°Êù°‰ª∂ËøõË°åÂàÜÊûêÔºåÂπ∂ÂàõÂª∫ÂØπÂ∫îÁöÑVOÁ±ª Â•ΩÁöÑÂàõÂª∫Âá∫Êù•‰∫Ü........ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849/** * Â∞ÅË£ÖÈ°µÈù¢ÊâÄÊúâÂèØËÉΩ‰º†ÈÄíËøáÊù•ÁöÑÊü•ËØ¢Êù°‰ª∂ * @author gcq * @Create 2020-11-02 */@Datapublic class SearchParam { /** * È°µÈù¢‰º†ÈÄíËøáÊù•ÁöÑÂÖ®ÊñáÂåπÈÖçÂÖ≥ÈîÆÂ≠ó */ private String keyword; /** * ‰∏âÁ∫ßÂàÜÁ±ªid */ private Long catalog3Id; /** * sort=saleCout_asc/desc * sort=skuPrice_asc/desc * sort=hotScore_asc/desc * ÊéíÂ∫èÊù°‰ª∂ */ private String sort; /** * hasStock(ÊòØÂê¶ÊúâË¥ß) skuPriceÂå∫Èó¥ÔºåbrandId„ÄÅcatalog3Id„ÄÅattrs */ /** * ÊòØÂê¶ÊòæÁ§∫ÊúâË¥ß */ private Integer hasStock = 0; /** * ‰ª∑Ê†ºÂå∫Èó¥Êü•ËØ¢ */ private String skuPrice; /** * ÊåâÁÖßÂìÅÁâåËøõË°åÊü•ËØ¢ÔºåÂèØ‰ª•Â§öÈÄâ */ private List&lt;Long&gt; brandId; /** * ÊåâÁÖßÂ±ûÊÄßËøõË°åÁ≠õÈÄâ */ private List&lt;String&gt; attrs; /** * È°µÁ†Å */ private Integer pageNum = 1;} 7.1.2 Ê£ÄÁ¥¢ËøîÂõûÁªìÊûúÊ®°ÂûãÂàÜÊûêÊäΩÂèñ ÈÇ£‰πàËøîÂõûÁöÑÊï∞ÊçÆÊàë‰ª¨ÊòØ‰∏çÊòØ‰πüË¶ÅÂàõÂª∫‰∏Ä‰∏™ VO Áî®Êù•ËøîÂõûÈ°µÈù¢ÁöÑÊï∞ÊçÆÔºü ÂÄüÈâ¥‰∫¨‰∏úÁöÑÂÆû‰æãÊù•ÂÅöÂèÇËÄÉ ÈÇ£‰πàÊäΩÂèñÂÆû‰ΩìÁ±ª 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687/** * Êü•ËØ¢ÁªìÊûúËøîÂõû * @author gcq * @Create 2020-11-02 */@Datapublic class SearchResult { /** * Êü•ËØ¢Âà∞ÊâÄÊúâÂïÜÂìÅÁöÑÂïÜÂìÅ‰ø°ÊÅØ */ private List&lt;SkuEsModel&gt; products; /** * ‰ª•‰∏ãÊòØÂàÜÈ°µ‰ø°ÊÅØ * ÂΩìÂâçÈ°µÁ†Å */ private Integer pageNum; /** * ÊÄªÂÖ±ËÆ∞ÂΩïÊï∞ */ private Long total; /** * ÊÄªÈ°µÁ†Å */ private Integer totalPages; /** * ÂΩìÂâçÊü•ËØ¢Âà∞ÁöÑÁªìÊûúÔºåÊâÄÊúâËÆæËÆ°ÁöÑÂìÅÁâå */ private List&lt;BrandVo&gt; brands; /** * ÂΩìÂâçÊü•ËØ¢ÁªìÊûúÔºåÊâÄÊúâÊ∂âÂèäÂà∞ÁöÑÂàÜÁ±ª */ private List&lt;CatalogVo&gt; catalogs; /** * ÂΩìÂâçÊü•ËØ¢Âà∞ÁöÑÁªìÊûúÔºåÊâÄÊúâÊ∂âÂèäÂà∞ÁöÑÊâÄÊúâÂ±ûÊÄß */ private List&lt;AttrVo&gt; attrs; /** * È°µÁ†Å */ private List&lt;Integer&gt; pageNavs; //==================‰ª•‰∏äÊòØË¶ÅËøîÂõûÁªôÈ°µÈù¢ÁöÑÊâÄÊúâ‰ø°ÊÅØ @Data public static class BrandVo { /** * ÂìÅÁâåid */ private Long brandId; /** * ÂìÅÁâåÂêçÂ≠ó */ private String brandName; /** * ÂìÅÁâåÂõæÁâá */ private String brandImg; } @Data public static class CatalogVo { /** * ÂàÜÁ±ªid */ private Long catalogId; /** * ÂìÅÁâåÂêçÂ≠ó */ private String CatalogName; } @Data public static class AttrVo { /** * Â±ûÊÄßid */ private Long attrId; /** * Â±ûÊÄßÂêçÂ≠ó */ private String attrName; /** * Â±ûÊÄßÂÄº */ private List&lt;String&gt; attrValue; }} 7.2 Ê£ÄÁ¥¢ËØ≠Âè•ÊûÑÂª∫ 7.2.1 Êü•ËØ¢ÈÉ®ÂàÜ &amp; ËÅöÂêàÈÉ®ÂàÜ ÈÇ£‰πàËøô‰∏™ DSL ÁºñÂÜôÊàë‰ª¨Â∞±Âú® Kibana ‰∏≠ÊµãËØï 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149GET gulimall_product/_search{ &quot;query&quot;: { &quot;bool&quot;: { &quot;must&quot;: [ { &quot;match&quot;: { &quot;skuTitle&quot;: &quot;Âçé‰∏∫&quot; // ÊåâÁÖßÂÖ≥ÈîÆÂ≠óÊü•ËØ¢ } } ], &quot;filter&quot;: [ { &quot;term&quot;: { &quot;catalogId&quot;: &quot;225&quot; // Ê†πÊçÆÂàÜÁ±ªidËøáÊª§ } }, { &quot;terms&quot;: { &quot;brandId&quot;: [ // ÂìÅÁâåid &quot;1&quot;, &quot;5&quot;, &quot;9&quot; ] } }, { &quot;nested&quot;: { // Ê†πÊçÆÂ±ûÊÄßid ‰ª•ÂèäÂ±ûÊÄßÂÄºËøõË°åËøáÊª§ &quot;path&quot;: &quot;attrs&quot;, &quot;query&quot;: { &quot;bool&quot;: { &quot;must&quot;: [ { &quot;term&quot;: { &quot;attrs.attrId&quot;: { &quot;value&quot;: &quot;8&quot; } } }, { &quot;terms&quot;: { &quot;attrs.attrValue&quot;: [ &quot;2019&quot; ] } } ] } } } }, { &quot;term&quot;: { // ÊòØÂê¶ÊúâÂ∫ìÂ≠ò &quot;hasStock&quot;: { &quot;value&quot;: &quot;false&quot; } } }, { &quot;range&quot;: { // ‰ª∑Ê†ºÂå∫Èó¥ &quot;skuPrice&quot;: { &quot;gte&quot;: 0, &quot;lte&quot;: 7000 } } } ] } }, &quot;sort&quot;: [ //ÊéíÂ∫è { &quot;skuPrice&quot;: { &quot;order&quot;: &quot;desc&quot; } } ], &quot;from&quot;: 0, &quot;size&quot;:4, &quot;highlight&quot;: { // ÂØπÊêúÁ¥¢Áî∞Èó¥ËøõË°åÈ´ò‰∫Æ &quot;fields&quot;: {&quot;skuTitle&quot;: {}}, &quot;pre_tags&quot;: &quot;&lt;b style=color:red&gt;&quot;, &quot;post_tags&quot;: &quot;&lt;/b&gt;&quot; }, &quot;aggs&quot;: { &quot;brand_agg&quot;: { //ÂìÅÁâåËøõË°åËÅöÂêà &quot;terms&quot;: { &quot;field&quot;: &quot;brandId&quot;, &quot;size&quot;: 10 }, &quot;aggs&quot;: { &quot;brand_name_agg&quot;: { // ÂìÅÁâåÂêçÂ≠ó &quot;terms&quot;: { &quot;field&quot;: &quot;brandName&quot;, &quot;size&quot;: 10 } }, &quot;brand_img_agg&quot;: { //ÂìÅÁâåÂõæÁâá &quot;terms&quot;: { &quot;field&quot;: &quot;brandImg&quot;, &quot;size&quot;: 10 } } } }, &quot;catalog_agg&quot;: { // ÂàÜÁ±ª &quot;terms&quot;: { &quot;field&quot;: &quot;catalogId&quot;, &quot;size&quot;: 10 }, &quot;aggs&quot;: { &quot;catalog_name_agg&quot;: { //ÂàÜÁ±ªÂêçÂ≠ó &quot;terms&quot;: { &quot;field&quot;: &quot;catalogName&quot;, &quot;size&quot;: 10 } } } }, &quot;attr_agg&quot;:{ &quot;nested&quot;: { &quot;path&quot;: &quot;attrs&quot; }, &quot;aggs&quot;: { //Â±ûÊÄßËÅöÂêà &quot;attr_id_agg&quot;: { &quot;terms&quot;: { &quot;field&quot;: &quot;attrs.attrId&quot;, &quot;size&quot;: 10 }, &quot;aggs&quot;: { &quot;attr_name_agg&quot;: { //Â±ûÊÄßÂêçÂ≠ó &quot;terms&quot;: { &quot;field&quot;: &quot;attrs.attrName&quot;, &quot;size&quot;: 10 } }, &quot;attr_value_agg&quot;:{ //Â±ûÊÄßÁöÑÂÄº &quot;terms&quot;: { &quot;field&quot;: &quot;attrs.attrValue&quot;, &quot;size&quot;: 10 } } } } } } }} Áî®‰ª£Á†ÅÂÆûÁé∞ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125/** * ÂáÜÂ§áÊ£ÄÁ¥¢ËØ∑Ê±Ç * #Ê®°Á≥äÂåπÈÖç„ÄÅËøáÊª§ÔºàÊåâÁÖßÂ±ûÊÄß„ÄÅÂàÜÁ±ª„ÄÅÂìÅÁâå„ÄÅ‰ª∑Ê†ºÂå∫Èó¥„ÄÅÂ∫ìÂ≠òÔºâ„ÄÅÊéíÂ∫è„ÄÅÂàÜÈ°µ„ÄÅÈ´ò‰∫Æ„ÄÅËÅöÂêàÂàÜÊûê * * @return */ private SearchRequest buildSearchRequest(SearchParam param) { SearchSourceBuilder sourceBuilder = new SearchSourceBuilder(); //ÊûÑÂª∫DSLËØ≠Âè• /** * Ê®°Á≥äÂåπÈÖç ËøáÊª§ÔºàÊåâÁÖßÂ±ûÊÄß„ÄÅÂàÜÁ±ª„ÄÅÂìÅÁâå„ÄÅ‰ª∑Ê†ºÂå∫Èó¥„ÄÅÂ∫ìÂ≠òÔºâ */ // 1„ÄÅÊûÑÂª∫bool - query BoolQueryBuilder boolQuery = QueryBuilders.boolQuery(); // 1.1 must - Ê®°Á≥äÂåπÈÖç if (!StringUtils.isEmpty(param.getKeyword())) { boolQuery.must(QueryBuilders.matchQuery(&quot;skuTitle&quot;, param.getKeyword())); } // 1.2 bool - filter ÊåâÁÖß‰∏âÁ∫ßÂàÜÁ±ªidÊù•Êü•ËØ¢ if (param.getCatalog3Id() != null) { boolQuery.filter(QueryBuilders.termQuery(&quot;catalogId&quot;, param.getCatalog3Id())); } // 1.2 bool - filter ÊåâÁÖßÂìÅÁâåidÊù•Êü•ËØ¢ if (param.getBrandId() != null &amp;&amp; param.getBrandId().size() &gt; 0) { boolQuery.filter(QueryBuilders.termsQuery(&quot;brandId&quot;, param.getBrandId())); } // 1.2 bool - filter ÊåâÁÖßÊâÄÊúâÊåáÂÆöÁöÑÂ±ûÊÄßÊù•ËøõË°åÊü•ËØ¢ *******‰∏çÁêÜËß£Ëøô‰∏™attr=1_5ÂØ∏:8ÂØ∏ËøôÊ†∑ÁöÑËÆæËÆ° if (param.getAttrs() != null &amp;&amp; param.getAttrs().size() &gt; 0) { for (String attr : param.getAttrs()) { // attr=1_5ÂØ∏:8ÂØ∏&amp;attrs=2_16G:8G BoolQueryBuilder nestedboolQuery = QueryBuilders.boolQuery(); String[] s = attr.split(&quot;_&quot;); String attrId = s[0];// Ê£ÄÁ¥¢ÁöÑÂ±ûÊÄßid String[] attrValues = s[1].split(&quot;:&quot;); nestedboolQuery.must(QueryBuilders.termQuery(&quot;attrs.attrId&quot;, attrId)); nestedboolQuery.must(QueryBuilders.termsQuery(&quot;attrs.attrValue&quot;, attrValues)); // ÊØè‰∏Ä‰∏™ÂøÖÈ°ªÈÉΩÁîüÊàê‰∏Ä‰∏™nestedÊü•ËØ¢ NestedQueryBuilder nestedQuery = QueryBuilders.nestedQuery(&quot;attrs&quot;, nestedboolQuery, ScoreMode.None); boolQuery.filter(nestedQuery); } } // 1.2 bool - filter ÊåâÁÖßÂ∫ìÂ≠òÊòØÂê¶Â≠òÂú® boolQuery.filter(QueryBuilders.termQuery(&quot;hasStock&quot;, param.getHasStock() == 1 ? true : false)); // 1.2 bool - filter ÊåâÁÖß‰ª∑Ê†ºÂå∫Èó¥ /** * 1_500/_500/500_ */ if (!StringUtils.isEmpty(param.getSkuPrice())) { RangeQueryBuilder rangeQuery = QueryBuilders.rangeQuery(&quot;skuPrice&quot;); String[] s = param.getSkuPrice().split(&quot;_&quot;); if (s.length == 2) { // Âå∫Èó¥ rangeQuery.gte(s[0]).lte(s[1]); } else if (s.length == 1) { if (param.getSkuPrice().startsWith(&quot;_&quot;)) { rangeQuery.lte(s[0]); } if (param.getSkuPrice().endsWith(&quot;_&quot;)) { rangeQuery.gte(s[0]); } } boolQuery.filter(rangeQuery); } //Êää‰ª•ÂâçÊâÄÊúâÊù°‰ª∂ÈÉΩÊãøÊù•ËøõË°åÂ∞ÅË£Ö sourceBuilder.query(boolQuery); /** * ÊéíÂ∫è„ÄÅÂàÜÈ°µ„ÄÅÈ´ò‰∫Æ */ //2.1„ÄÅÊéíÂ∫è if (!StringUtils.isEmpty(param.getSort())) { String sort = param.getSort(); //sort=hotScore_asc/desc String[] s = sort.split(&quot;_&quot;); SortOrder order = s[1].equalsIgnoreCase(&quot;asc&quot;) ? SortOrder.ASC : SortOrder.DESC; sourceBuilder.sort(s[0], order); } //2.2 ÂàÜÈ°µ pageSize:5 // pageNum:1 from 0 size:5 [0,1,2,3,4] // pageNum:2 from 5 size:5 // from (pageNum - 1)*size sourceBuilder.from((param.getPageNum() - 1) * EsConstant.PRODUCT_PAGESIZE); sourceBuilder.size(EsConstant.PRODUCT_PAGESIZE); //2.3„ÄÅÈ´ò‰∫Æ if (!StringUtils.isEmpty(param.getKeyword())) { HighlightBuilder builder = new HighlightBuilder(); builder.field(&quot;skuTitle&quot;); builder.preTags(&quot;&lt;b style='color:red'&gt;&quot;); builder.postTags(&quot;&lt;/b&gt;&quot;); sourceBuilder.highlighter(builder); } /** * ËÅöÂêàÂàÜÊûê */ //1„ÄÅÂìÅÁâåËÅöÂêà TermsAggregationBuilder brand_agg = AggregationBuilders.terms(&quot;brand_agg&quot;); brand_agg.field(&quot;brandId&quot;).size(50); //ÂìÅÁâåËÅöÂêàÁöÑÂ≠êËÅöÂêà brand_agg.subAggregation(AggregationBuilders.terms(&quot;brand_name_agg&quot;).field(&quot;brandName&quot;).size(2)); brand_agg.subAggregation(AggregationBuilders.terms(&quot;brand_img_agg&quot;).field(&quot;brandImg&quot;).size(2)); // TODO 1„ÄÅËÅöÂêàbrand sourceBuilder.aggregation(brand_agg); //2„ÄÅÂàÜÁ±ªËÅöÂêà TermsAggregationBuilder catalog_agg = AggregationBuilders.terms(&quot;catalog_agg&quot;).field(&quot;catalogId&quot;).size(20); catalog_agg.subAggregation(AggregationBuilders.terms(&quot;catalog_name_agg&quot;).field(&quot;catalogName&quot;).size(1)); // TODO 2„ÄÅËÅöÂêàcatalog sourceBuilder.aggregation(catalog_agg); //3„ÄÅÂ±ûÊÄßËÅöÂêà attr_agg NestedAggregationBuilder attr_agg = AggregationBuilders.nested(&quot;attr_agg&quot;, &quot;attrs&quot;); // ËÅöÂêàÂá∫ÂΩìÂâçÊâÄÊúâÁöÑattrId TermsAggregationBuilder attr_id_agg = AggregationBuilders.terms(&quot;attr_id_agg&quot;).field(&quot;attrs.attrId&quot;); //ËÅöÂêàÂàÜÊûêÂá∫ÂΩìÂâçattr_idÂØπÂ∫îÁöÑÂêçÂ≠ó attr_id_agg.subAggregation(AggregationBuilders.terms(&quot;attr_name_agg&quot;).field(&quot;attrs.attrName&quot;).size(1)); // ËÅöÂêàÂàÜÊûêÂá∫ÂΩìÂâçattr_idÂØπÂ∫îÁöÑÂèØËÉΩÁöÑÂ±ûÊÄßÂÄºattractValue attr_id_agg.subAggregation(AggregationBuilders.terms(&quot;attr_value_agg&quot;).field(&quot;attrs.attrValue&quot;).size(50)); attr_agg.subAggregation(attr_id_agg); // TODO 3„ÄÅËÅöÂêàattr sourceBuilder.aggregation(attr_agg); String s = sourceBuilder.toString(); System.out.println(&quot;ÊûÑÂª∫ÁöÑDSL:&quot; + s); SearchRequest searchRequest = new SearchRequest(new String[]{EsConstant.PRODUCT_INDEX}, sourceBuilder); return searchRequest; } ‰ª£Á†ÅÂÆûÁé∞Âü∫Êú¨‰∏äÊòØ Ê†πÊçÆ json Êù•ÂÜô Ë∞ÉÁî®ÂØπÂ∫îÁöÑ API term Âíå terms ‰∏çË¶ÅË∞ÉÁî®ÈîôËØØ 7.3 ÁªìÊûúÊèêÂèñÂ∞ÅË£Ö Controller 12345678910111213/** * Ëá™Âä®Â∞ÜÈ°µÈù¢Êèê‰∫§ËøáÊù•ÁöÑÊâÄÊúâËØ∑Ê±ÇÊü•ËØ¢ÂèÇÊï∞Ëá™Âä®Â∞ÅË£ÖÊàêÊåáÂÆöÁöÑÂØπË±° * @param param * @return */ @GetMapping(&quot;/list.html&quot;) public String listPage(SearchParam param, Model model){ //1„ÄÅÊ†πÊçÆ‰º†ÈÄíÊù•ÁöÑÈ°µÈù¢ÂèÇÊï∞ÔºåÂéªes‰∏≠Ê£ÄÁ¥¢ÂïÜÂìÅ SearchResult result = mallSearchService.search(param); model.addAttribute(&quot;result&quot;,result); return &quot;list&quot;; } Service 123456789101112131415161718@Overridepublic SearchResult search(SearchParam param) { // 1„ÄÅÂä®ÊÄÅÊûÑÂª∫Âá∫Êü•ËØ¢ÈúÄË¶ÅÁöÑDSLËØ≠Âè• SearchResult result = null; //1„ÄÅÂáÜÂ§áÊ£ÄÁ¥¢ËØ∑Ê±Ç SearchRequest searchRequest = buildSearchRequest(param); try { // 2„ÄÅÊâßË°åÊ£ÄÁ¥¢ËØ∑Ê±Ç SearchResponse response = client.search(searchRequest, GulimallElasticsearchConfig.COMMON_OPTIONS); // 3„ÄÅÂàÜÊûêÂìçÂ∫îÊï∞ÊçÆÂ∞ÅË£ÖÊàêÊàë‰ª¨ÈúÄË¶ÅÁöÑÊ†ºÂºè result = buildSearchResult(response, param); } catch (Exception e) { e.printStackTrace(); } return result;} ÂÖ∑‰Ωì‰∏öÂä°ÊâßË°å 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596/** * ÊûÑÂª∫ÁªìÊûúÊï∞ÊçÆ * * @param response * @return */private SearchResult buildSearchResult(SearchResponse response, SearchParam param) { SearchResult result = new SearchResult(); SearchHits hits = response.getHits(); List&lt;SkuEsModel&gt; esModels = new ArrayList&lt;&gt;(); if (hits.getHits() != null &amp;&amp; hits.getHits().length &gt; 0) { for (SearchHit hit : hits.getHits()) { String sourceAsString = hit.getSourceAsString(); SkuEsModel skuEsModel = JSON.parseObject(sourceAsString, SkuEsModel.class); if (!StringUtils.isEmpty(param.getKeyword())) { HighlightField skuTitle = hit.getHighlightFields().get(&quot;skuTitle&quot;); String string = skuTitle.getFragments()[0].string(); skuEsModel.setSkuTitle(string); } esModels.add(skuEsModel); } } //1„ÄÅËøîÂõûÊâÄÊúâÊü•ËØ¢Âà∞ÁöÑÂïÜÂìÅ result.setProducts(esModels); //2„ÄÅÂΩìÂâçÊâÄÊúâÂïÜÂìÅËÆæËÆ°Âà∞ÁöÑÊâÄÊúâÂ±ûÊÄß‰ø°ÊÅØ List&lt;SearchResult.AttrVo&gt; attrVos = new ArrayList&lt;&gt;(); ParsedNested attr_agg = response.getAggregations().get(&quot;attr_agg&quot;); ParsedLongTerms attr_id_agg = attr_agg.getAggregations().get(&quot;attr_id_agg&quot;); for (Terms.Bucket bucket : attr_id_agg.getBuckets()) { SearchResult.AttrVo attrVo = new SearchResult.AttrVo(); // 1„ÄÅÂæóÂà∞Â±ûÊÄßÁöÑid Long attrId = bucket.getKeyAsNumber().longValue(); // 2„ÄÅÂæóÂà∞Â±ûÊÄßÁöÑÂêçÂ≠ó String attrName = ((ParsedStringTerms) bucket.getAggregations().get(&quot;attr_name_agg&quot;)).getBuckets().get(0).getKeyAsString(); // 3„ÄÅÂæóÂà∞Â±ûÊÄßÁöÑÊâÄÊúâÂÄº List&lt;String&gt; attrValue = ((ParsedStringTerms) bucket.getAggregations().get(&quot;attr_value_agg&quot;)).getBuckets().stream().map(item -&gt; { String keyAsString = item.getKeyAsString(); return keyAsString; }).collect(Collectors.toList()); attrVo.setAttrId(attrId); attrVo.setAttrName(attrName); attrVo.setAttrValue(attrValue); attrVos.add(attrVo); } result.setAttrs(attrVos); //3„ÄÅÂΩìÂâçÊâÄÊúâÂïÜÂìÅÁöÑÂàÜÁ±ª‰ø°ÊÅØ ParsedLongTerms Catalog_agg = response.getAggregations().get(&quot;catalog_agg&quot;); List&lt;SearchResult.CatalogVo&gt; catalogVos = new ArrayList&lt;&gt;(); List&lt;? extends Terms.Bucket&gt; buckets = Catalog_agg.getBuckets(); for (Terms.Bucket bucket : buckets) { SearchResult.CatalogVo catalogVo = new SearchResult.CatalogVo(); // ÂæóÂà∞ÂàÜÁ±ªid String keyAsString = bucket.getKeyAsString(); catalogVo.setCatalogId(Long.parseLong(keyAsString)); // ÂæóÂà∞ÂàÜÁ±ªÂêç ParsedStringTerms catalog_name_agg = bucket.getAggregations().get(&quot;catalog_name_agg&quot;); String catalog_name = catalog_name_agg.getBuckets().get(0).getKeyAsString(); catalogVo.setCatalogName(catalog_name); catalogVos.add(catalogVo); } result.setCatalogs(catalogVos); //4„ÄÅÂΩìÂâçÊâÄÊúâÂïÜÂìÅÁöÑÂìÅÁâå‰ø°ÊÅØ List&lt;SearchResult.BrandVo&gt; brandVos = new ArrayList&lt;&gt;(); ParsedLongTerms brand_agg = response.getAggregations().get(&quot;brand_agg&quot;); for (Terms.Bucket bucket : brand_agg.getBuckets()) { SearchResult.BrandVo brandVo = new SearchResult.BrandVo(); // 1„ÄÅÂæóÂà∞ÂìÅÁâåÁöÑid long brandId = bucket.getKeyAsNumber().longValue(); // 2„ÄÅÂæóÂà∞ÂìÅÁâåÁöÑÂõæÁâá String brandImg = ((ParsedStringTerms) bucket.getAggregations().get(&quot;brand_img_agg&quot;)).getBuckets().get(0).getKeyAsString(); // 3„ÄÅÂæóÂà∞ÂìÅÁâåÁöÑÂßìÂêç String brandname = ((ParsedStringTerms) bucket.getAggregations().get(&quot;brand_name_agg&quot;)).getBuckets().get(0).getKeyAsString(); brandVo.setBrandName(brandname); brandVo.setBrandId(brandId); brandVo.setBrandImg(brandImg); brandVos.add(brandVo); } result.setBrands(brandVos); //5„ÄÅÂàÜÈ°µ‰ø°ÊÅØ - ÊÄªËÆ∞ÂΩïÊï∞ long total = hits.getTotalHits().value; result.setTotal(total); //6„ÄÅÂàÜÈ°µ‰ø°ÊÅØ - È°µÁ†Å result.setPageNum(param.getPageNum()); //7„ÄÅÂàÜÈ°µ‰ø°ÊÅØ - ÊÄªÈ°µÁ†Å int totalPages = (int) total % EsConstant.PRODUCT_PAGESIZE == 0 ? (int) total / EsConstant.PRODUCT_PAGESIZE : ((int) total / EsConstant.PRODUCT_PAGESIZE + 1); result.setTotalPages(totalPages); List&lt;Integer&gt; pageNavs = new ArrayList&lt;&gt;(); for(int i = 1; i &lt;= totalPages; i++) { pageNavs.add(i); } result.setPageNavs(pageNavs); return result;} 7.4 È°µÈù¢Êï∞ÊçÆÊ∏≤Êüì 7.4.1Âü∫Êú¨Êï∞ÊçÆÊ∏≤Êüì ÈÅçÂéÜÂêéÊòæÁ§∫ÁªìÊûú 7.4.3 Á≠õÈÄâÊù°‰ª∂Ê∏≤Êüì ÂìÅÁâåÊù°‰ª∂Á≠õÈÄâ ÂàÜÁ±ª Â±ûÊÄßÁ≠õÈÄâ 12345678910111213141516171819202122232425262728293031323334353637 function searchProducts(name, value) { // Ë∑≥ËΩ¨ÂØπÂ∫îÂú∞ÂùÄ location.href = replaceAndParamVal(location.href,name,value) } /** * Ê≠£ÂàôË°®ËææÂºèÊõøÊç¢ * **/ function replaceAndParamVal(url, paramName, replaceVal,forceAdd) { var oUrl = url.toString(); // 1„ÄÅÂ¶ÇÊûúÊ≤°ÊúâÂ∞±Ê∑ªÂä†ÔºåÊúâÂ∞±ÊõøÊç¢ if (oUrl.indexOf(paramName) != -1) { if(forceAdd) { var nUrl = &quot;&quot;; if (oUrl.indexOf(&quot;?&quot;) != -1) { nUrl = oUrl + &quot;&amp;&quot; + paramName + &quot;=&quot; + replaceVal; } else { nUrl = oUrl + &quot;?&quot; + paramName + &quot;=&quot; + replaceVal; } return nUrl; } else { var re = eval('/(' + paramName + '=)([^&amp;]*)/gi'); var nUrl = oUrl.replace(re, paramName + '=' + replaceVal) return nUrl; } } else { var nUrl = &quot;&quot;; if (oUrl.indexOf(&quot;?&quot;) != -1) { nUrl = oUrl + &quot;&amp;&quot; + paramName + &quot;=&quot; + replaceVal; } else { nUrl = oUrl + &quot;?&quot; + paramName + &quot;=&quot; + replaceVal; } return nUrl; } } 7.4.4 ÂàÜÈ°µÊï∞ÊçÆÁ≠õÈÄâ 7.4.5 È°µÈù¢ÊéíÂ∫èÂäüËÉΩ 7.4.6 È°µÈù¢‰ª∑Ê†ºÁ≠õÈÄâ JS 123456789$(&quot;#skuPriceSearchBtn&quot;).click(function() { // 1„ÄÅÊãº‰∏ä‰ª∑Ê†ºÂå∫Èó¥ÁöÑÊü•ËØ¢Êù°‰ª∂ var from = $(&quot;#skuPriceFrom&quot;).val(); var to = $(&quot;#skuPriceTo&quot;).val(); // 2„ÄÅÊãºÊé•ËØ≠Âè• var query = from + &quot;_&quot; + to; // 3„ÄÅÊõøÊç¢ skuPrice location.href = replaceAndParamVal(location.href,&quot;skuPrice&quot;,query);}) 7.4.7 Èù¢ÂåÖÂ±ëÂØºËà™ÔºàÈÅáÂà∞ÈóÆÈ¢òÔºÅÔºâ ÂâçÁ´ØÈ°µÈù¢Ôºö Âú®ËøîÂõûVoÁ±ª‰∏≠ Êñ∞Â¢û‰∫Ü Controller‰∏≠ ÁöÑËß£ÊûêÊñπÊ≥ï‰∏≠ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152// 8„ÄÅÊûÑÂª∫Èù¢ÂåÖÂ±ëÂØºËà™ÂäüËÉΩ if (param.getAttrs()!=null &amp;&amp; param.getAttrs().size() &gt;0){ List&lt;SearchResult.NavVo&gt; collect = param.getAttrs().stream().map(attr -&gt; { // 1„ÄÅÂàÜÊûêÊØè‰∏™ attrs‰º†ÈÄíËøáÊù•ÁöÑÂÄº SearchResult.NavVo navo = new SearchResult.NavVo(); // attrs=2_5ÂØ∏Ôºö6ÂØ∏ String[] s = attr.split(&quot;_&quot;); navo.setNavValue(s[1]); R r = productFeignService.getAttrInfo(Long.parseLong(s[0])); result.getAttrIds().add(Long.parseLong(s[0])); if (r.getCode() == 0) { AttrResponseVo data = r.getData(&quot;attr&quot;, new TypeReference&lt;AttrResponseVo&gt;() { }); navo.setNavName(data.getAttrName()); } else { navo.setNavName(s[0]); } // ÂèñÊ∂àËøô‰∏™Èù¢ÂåÖÂ±ëÂØºËà™‰ª•ÂêéÔºåÊàë‰ª¨Ë¶ÅË∑≥ËΩ¨Âà∞ÈÇ£‰∏™Âú∞ÊñπÔºåÂ∞ÜËØ∑Ê±ÇÂú∞ÂùÄÁöÑurlÈáåÈù¢ÁöÑÂΩìÂâçÁΩÆÁ©∫ //ÊãøÂà∞ÊâÄÊúâÁöÑÊü•ËØ¢Êù°‰ª∂ÂêéÔºåÂéªÊéâÂΩìÂâç // attrs=15_Êµ∑ÊÄù(Hisilicon) String replace = replaceQueryString(param, attr,&quot;attrs&quot;); navo.setLink(&quot;http://search.gulimall.com/list.html?&quot; + replace); return navo; }).collect(Collectors.toList()); result.setNavs(collect); } // ÂìÅÁâå„ÄÅÂàÜÁ±ª if(param.getBrandId() != null &amp;&amp; param.getBrandId().size() &gt; 0) { List&lt;SearchResult.NavVo&gt; navs = result.getNavs(); SearchResult.NavVo navVo = new SearchResult.NavVo(); navVo.setNavName(&quot;ÂìÅÁâå&quot;); //TODO ËøúÁ®ãÊü•ËØ¢ÊâÄÊúâÂìÅÁâå R info = productFeignService.info(param.getBrandId()); if (info.getCode() == 0) { List&lt;BrandVo&gt; brand = info.getData(&quot;brand&quot;, new TypeReference&lt;List&lt;BrandVo&gt;&gt;() { }); StringBuffer buffer = new StringBuffer(); String replace = &quot;&quot;; for (BrandVo brandVo : brand) { buffer.append(brandVo.getBrandName() + &quot;;&quot;); replace = replaceQueryString(param,brandVo.getBrandId() + &quot;&quot;,&quot;brandId&quot;); } navVo.setNavValue(buffer.toString()); navVo.setLink(&quot;http://search.gulimall.com/list.html?&quot; + replace); } navs.add(navVo); } //TODO ÂàÜÁ±ªÔºö‰∏çÈúÄË¶ÅÂØºËà™ return result; 8„ÄÅÂºÇÊ≠• &amp; Á∫øÁ®ãÊ±† 8.1 Á∫øÁ®ãÂõûÈ°æ 8.1.1 ÂàùÂßãÂåñÁ∫øÁ®ãÁöÑ 4 ÁßçÊñπÂºè 1„ÄÅÁªßÊâø Thread 2„ÄÅÂÆûÁé∞ Runnable 3„ÄÅÂÆûÁé∞ Callable Êé•Âè£ + FutureTaskÔºàÂèØ‰ª•ÊãøÂà∞ËøîÂõûÁªìÊûúÔºåÂèØ‰ª•Â§ÑÁêÜÂºÇÂ∏∏Ôºâ 4„ÄÅÁ∫øÁ®ãÊ±† ÊñπÂºè‰∏ÄÂíåÊñπÂºè‰∫å ‰∏ªËøõÁ®ãÊó†Ê≥ïËé∑ÂèñÁ∫øÁ®ãÁöÑËøêÁÆóÁªìÊûúÔºå‰∏çÈÄÇÂêàÂΩìÂâçÂú∫ÊôØ ÊñπÂºè‰∏âÔºö‰∏ªËøõÁ®ãÂèØ‰ª•Ëé∑ÂèñÂΩìÂâçÁ∫øÁ®ãÁöÑËøêÁÆóÁªìÊûúÔºå‰ΩÜÊòØ‰∏çÂà©‰∫éÊéßÂà∂ÊúçÂä°Âô®ÁßçÁöÑÁ∫øÁ®ãËµÑÊ∫êÔºåÂèØ‰ª•ÂØºËá¥ÊúçÂä°Âô®ËµÑÊ∫êËÄóÂ∞Ω ÊñπÂºèÂõõÔºöÈÄöËøáÂ¶Ç‰∏ã‰∏§ÁßçÊñπÂºèÂàùÂßãÂåñÁ∫øÁ®ãÊ±† 123Executors.newFixedThreadPool(3);//ÊàñËÄÖnew ThreadPollExecutor(corePoolSize,maximumPoolSize,keepAliveTime,TimeUnit,unit,workQueue,threadFactory,handler); ÈÄöËøáÁ∫øÁ®ãÊ±†ÊÄßËÉΩÁ®≥ÂÆöÔºå‰πüÂèØ‰ª•Ëé∑ÂèñÊâßË°åÁªìÊûúÔºåÂπ∂ÊçïËé∑ÂºÇÂ∏∏Ôºå‰ΩÜÊòØÔºåÂú®‰∏öÂä°Â§çÊùÇÊÉÖÂÜµ‰∏ãÔºå‰∏Ä‰∏™ÂºÇÊ≠•Ë∞ÉÁî®ÂèØËÉΩ‰ºö‰æùËµñÂè¶‰∏Ä‰∏™ÂºÇÊ≠•Ë∞ÉÁî®ÁöÑÊâßË°åÁªìÊûú 8.1.2 Á∫øÁ®ãÊ±†ÁöÑ 7 Â§ßÂèÇÊï∞ ËøêË°åÊµÅÁ®ãÔºö 1„ÄÅÁ∫øÁ®ãÊ±†ÂàõÂª∫ÔºåÂáÜÂ§áÂ•Ω core Êï∞Èáè ÁöÑÊ†∏ÂøÉÁ∫øÁ®ãÔºåÂáÜÂ§áÊé•Âèó‰ªªÂä° 2„ÄÅÊñ∞ÁöÑ‰ªªÂä°ËøõÊù•ÔºåÁî® core ÂáÜÂ§áÂ•ΩÁöÑÁ©∫Èó≤Á∫øÁ®ãÊâßË°å core Êª°‰∫ÜÔºåÂ∞±Â∞ÜÂÜçËøõÊù•ÁöÑ‰ªªÂä°ÊîæÂÖ•ÈòªÂ°ûÈòüÂàó‰∏≠ÔºåÁ©∫Èó≤ÁöÑ core Â∞±‰ºöËá™Â∑±ÂéªÈòªÂ°ûÈòüÂàóËé∑Âèñ‰ªªÂä°ÊâßË°å ÈòªÂ°ûÈòüÂàó‰πüÊª°‰∫ÜÔºåÂ∞±Áõ¥Êé•ÂºÄÊñ∞Á∫øÁ®ãÂéªÊâßË°åÔºåÊúÄÂ§ßÂè™ËÉΩÂºÄÂà∞ max ÊåáÂÆöÁöÑÊï∞Èáè max ÈÉΩÊâßË°åÂ•Ω‰∫ÜÔºåMax-core Êï∞ÈáèÁ©∫Èó≤ÁöÑÁ∫øÁ®ã‰ºöÂú® keepAliveTime ÊåáÂÆöÁöÑÊó∂Èó¥ÂêéËá™Âä®ÈîÄÊØÅÔºåÁªà‰øùÊåÅÂà∞ core Â§ßÂ∞è Â¶ÇÊûúÁ∫øÁ®ãÊï∞ÂºÄÂà∞‰∫Ü max Êï∞ÈáèÔºåËøòÊúâÊñ∞ÁöÑ‰ªªÂä°ËøõÊù•ÔºåÂ∞±‰ºö‰ΩøÁî® reject ÊåáÂÆöÁöÑÊãíÁªùÁ≠ñÁï•ËøõË°åÂ§ÑÁêÜ 3„ÄÅÊâÄÊúâÁöÑÁ∫øÁ®ãÂàõÂª∫ÈÉΩÊòØÁî±ÊåáÂÆöÁöÑ factory ÂàõÂª∫ÁöÑ Èù¢ËØï; ‰∏Ä‰∏™Á∫øÁ®ãÊ±† core 7„ÄÅmax 20 Ôºåqueue 50 100 Âπ∂ÂèëËøõÊù•ÊÄé‰πàÂàÜÈÖçÁöÑ ? ÂÖàÊúâ 7 ‰∏™ËÉΩÁõ¥Êé•ÂæóÂà∞ËøêË°åÔºåÊé•‰∏ãÊù• 50 ‰∏™ËøõÂÖ•ÈòüÂàóÊéíÈòüÔºåÂÜçÂ§öÂºÄ 13 ‰∏™ÁªßÁª≠ÊâßË°åÔºåÁ∫øÁ®ã70‰∏™Ë¢´ÂÆâÊéí‰∏ä‰∫ÜÔºåÂâ©‰∏ã30‰∏™ÈªòËÆ§ÊãíÁªùÁ≠ñÁï• 8.1.3 Â∏∏ËßÅÁöÑ 4 ÁßçÁ∫øÁ®ãÊ±† newCacheThreadPool ÂàõÂª∫‰∏Ä‰∏™ÂèØÁºìÂ≠òÁöÑÁ∫øÁ®ãÊ±†ÔºåÂ¶ÇÊûúÁ∫øÁ®ãÊ±†ÈïøÂ∫¶Ë∂ÖËøáÈúÄË¶ÅÔºåÂèØÁÅµÊ¥ªÂõûÊî∂Á©∫Èó≤Á∫øÁ®ãÔºåËã•Êó†ÂèØÂõûÊî∂ÔºåÂàôÊñ∞Âª∫Á∫øÁ®ã newFixedThreadPool ÂàõÂª∫‰∏Ä‰∏™ÊåáÂÆöÈïøÂ∫¶ÁöÑÁ∫øÁ®ãÊ±†ÔºåÂèØÊéßÂà∂Á∫øÁ®ãÊúÄÂ§ßÂπ∂ÂèëÊï∞ÔºåË∂ÖÂá∫ÁöÑÁ∫øÁ®ã‰ºöÂÜçÈòüÂàó‰∏≠Á≠âÂæÖ newScheduleThreadPool ÂàõÂª∫‰∏Ä‰∏™ÂÆöÈïøÁ∫øÁ®ãÊ±†ÔºåÊîØÊåÅÂÆöÊó∂ÂèäÂë®ÊúüÊÄß‰ªªÂä°ÊâßË°å newSingleThreadExecutor ÂàõÂª∫‰∏Ä‰∏™ÂçïÁ∫øÁ®ãÂåñÁöÑÁ∫øÁ®ãÊ±†ÔºåÂ•πÂè™‰ºöÁî®ÂîØ‰∏ÄÁöÑÂ∑•‰ΩúÁ∫øÁ®ãÊù•ÊâßË°å‰ªªÂä°Ôºå‰øùËØÅÊâÄÊúâ‰ªªÂä° 8.1.4 ÂºÄÂèë‰∏≠‰∏∫‰ªÄ‰πà‰ΩøÁî®Á∫øÁ®ãÊ±† Èôç‰ΩéËµÑÊ∫êÁöÑÊ∂àËÄó ÈÄöËøáÈáçÂ§çÂà©Áî®Â∑≤ÂàõÂª∫Â•ΩÁöÑÁ∫øÁ®ãÈôç‰ΩéÁ∫øÁ®ãÁöÑÂàõÂª∫ÂíåÈîÄÊØÅÂ∏¶Êù•ÁöÑÊçüËÄó ÊèêÈ´òÂìçÂ∫îÈÄüÂ∫¶ Âõ†‰∏∫Á∫øÁ®ãÊ±†‰∏≠ÁöÑÁ∫øÁ®ãÊ≤°ÊúâË∂ÖËøáÁ∫øÁ®ãÊ±†ÁöÑÊúÄÂ§ß‰∏äÈôêÊó∂ÔºåÊúâÁöÑÁ∫øÁ®ãÂ§Ñ‰∫éÁ≠âÂæÖÂàÜÈÖç‰ªªÂä°ÁöÑÁä∂ÊÄÅÔºåÂΩì‰ªªÂä°Êù•Êó∂Êó†ÈúÄÂàõÂª∫Êñ∞ÁöÑÁ∫øÁ®ãÂ∞±ËÉΩÊâßË°å ÊèêÈ´òÁ∫øÁ®ãÁöÑÂÆ¢ËßÇÁêÜÊÄß Á∫øÁ®ãÊ±†‰ºöÊ†πÊçÆÂΩìÂâçÁ≥ªÁªüÁöÑÁâπÁÇπÂØπÊ±†ÂÜÖÁöÑÁ∫øÁ®ãËøõË°å‰ºòÂåñÂ§ÑÁêÜÔºåÂáèÂ∞ëÂàõÂª∫ÂíåÈîÄÊØÅÁ∫øÁ®ãÂ∏¶Êù•ÁöÑÁ≥ªÁªüÂºÄÈîÄÔºåÊó†ÈôêÁöÑÂàõÂª∫ÂíåÈîÄÊØÅÁ∫øÁ®ã‰∏ç‰ªÖÊ∂àËÄóÁ≥ªÁªüËµÑÊ∫êÔºåËøòÈôç‰ΩéÁ≥ªÁªüÁöÑÁ®≥ÂÆöÊÄßÔºå‰ΩøÁî®Á∫øÁ®ãÊ±†ËøõË°åÁªü‰∏ÄÂàÜÈÖç 8.2 CompletableFuture ÂºÇÊ≠•ÁºñÊéí ‰∏öÂä°Âú∫ÊôØÔºö Êü•ËØ¢ÂïÜÂìÅËØ¶ÊÉÖÈ°µÈÄªËæëÊØîËæÉÂ§çÊùÇÔºåÊúâ‰∫õÊï∞ÊçÆËøòÈúÄË¶ÅËøúÁ®ãË∞ÉÁî®ÔºåÂøÖÁÑ∂ÈúÄË¶ÅËä±Ë¥πÊõ¥Â§öÁöÑÊó∂Èó¥ ÂÅáÂ¶ÇÂïÜÂìÅËØ¶ÊÉÖÈ°µÁöÑÊØè‰∏™Êü•ËØ¢ÔºåÈúÄË¶ÅÂ¶Ç‰∏ãÊ†áÊ≥®Êó∂Èó¥ÊâçËÉΩÂÆåÊàê ÈÇ£‰πàÔºåÁî®Êà∑ÈúÄË¶Å5.5sÂêéÊâçËÉΩÁúãÂà∞ÂïÜÂìÅÁõ∏ËØ¶ÊÉÖÈ°µÁöÑÂÜÖÂÆπÔºåÂæàÊòæÁÑ∂ÊòØ‰∏çËÉΩÊé•ÂèóÁöÑ Â¶ÇÊûúÊúâÂ§ö‰∏™Á∫øÁ®ãÂêåÊó∂ÂÆåÊàêËøô 6 Ê≠•Êìç‰ΩúÔºå‰πüËÆ∏Âè™ÈúÄË¶Å 1.5s Âç≥ÂèØÂÆåÊàêÂìçÂ∫î 8.2.1 ÂàõÂª∫ÂºÇÊ≠•ÂØπË±° CompletableFuture Êèê‰æõ‰∫ÜÂõõ‰∏™ÈùôÊÄÅÊñπÊ≥ïÊù•ÂàõÂª∫‰∏Ä‰∏™ÂºÇÊ≠•Êìç‰Ωú 1„ÄÅrunXxx ÈÉΩÊòØÊ≤°ÊúâËøîÂõûÁªìÊûúÁöÑÔºåsupplyXxxxÈÉΩÊòØÂèØ‰ª•Ëé∑ÂèñËøîÂõûÁªìÊûúÁöÑ 2„ÄÅÂèØ‰ª•‰º†ÂÖ•Ëá™ÂÆö‰πâÁöÑÁ∫øÁ®ãÊ±†ÔºåÂê¶ÂàôÂ∞±ÊòØÁî®ÈªòËÆ§ÁöÑÁ∫øÁ®ãÊ±† 3„ÄÅÊ†πÊçÆÊñπÊ≥ïÁöÑËøîÂõûÁ±ªÂûãÊù•Âà§Êñ≠ÊòØÂê¶ËØ•ÊñπÊ≥ïÊòØÂê¶ÊúâËøîÂõûÁ±ªÂûã ‰ª£Á†ÅÂÆûÁé∞Ôºö 123456789101112131415161718public static void main(String[] args) throws ExecutionException, InterruptedException { System.out.println(&quot;main....start.....&quot;); CompletableFuture&lt;Void&gt; completableFuture = CompletableFuture.runAsync(() -&gt; { System.out.println(&quot;ÂΩìÂâçÁ∫øÁ®ãÔºö&quot; + Thread.currentThread().getId()); int i = 10 / 2; System.out.println(&quot;ËøêË°åÁªìÊûúÔºö&quot; + i); }, executor); CompletableFuture&lt;Integer&gt; future = CompletableFuture.supplyAsync(() -&gt; { System.out.println(&quot;ÂΩìÂâçÁ∫øÁ®ãÔºö&quot; + Thread.currentThread().getId()); int i = 10 / 2; System.out.println(&quot;ËøêË°åÁªìÊûúÔºö&quot; + i); return i; }, executor); Integer integer = future.get(); System.out.println(&quot;main....stop.....&quot; + integer); } 8.2.2 ËÆ°ÁÆóÂÆåÊàêÊó∂ÂõûË∞ÉÊñπÊ≥ï whenComplete ÂèØ‰ª•Â§ÑÁêÜÊ≠£Â∏∏ÂíåÂºÇÂ∏∏ÁöÑËÆ°ÁÆóÁªìÊûúÔºåexceptionally Â§ÑÁêÜÂºÇÂ∏∏ÊÉÖÂÜµ whenComplete Âíå whenCompleteAsync ÁöÑÂå∫Âà´ ‚Äã whenComplete ÔºöÊòØÊâßË°åÂΩìÂâç‰ªªÂä°ÁöÑÁ∫øÁ®ãÁªßÁª≠ÊâßË°å whencomplete ÁöÑ‰ªªÂä° ‚Äã whenCompleteAsyncÔºö ÊòØÊâßË°åÊää whenCompleteAsync Ëøô‰∏™‰ªªÂä°ÁªßÁª≠Êèê‰∫§ÁªôÁ∫øÁ®ãÊ±†Êù•ËøõË°åÊâßË°å ÊñπÊ≥ï‰∏ç‰ª• Async ÁªìÂ∞æÔºåÊÑèÂë≥ÁùÄ Action ‰ΩøÁî®Áõ∏ÂêåÁöÑÁ∫øÁ®ãÊâßË°åÔºåËÄå Async ÂèØËÉΩ‰ºö‰ΩøÁî®ÂÖ∂‰ªñÁ∫øÁ®ãÊâßË°åÔºàÂ¶ÇÊûúÊòØ‰ΩøÁî®Áõ∏ÂêåÁöÑÁ∫øÁ®ãÊ±†Ôºå‰πüÂèØËÉΩ‰ºöË¢´Âêå‰∏Ä‰∏™Á∫øÁ®ãÈÄâ‰∏≠ÊâßË°åÔºâ 123456789101112CompletableFuture&lt;Integer&gt; future = CompletableFuture.supplyAsync(() -&gt; { System.out.println(&quot;ÂΩìÂâçÁ∫øÁ®ãÔºö&quot; + Thread.currentThread().getId()); int i = 10 / 0; System.out.println(&quot;ËøêË°åÁªìÊûúÔºö&quot; + i); return i;}, executor).whenComplete((res,exception) -&gt;{ // ËôΩÁÑ∂ËÉΩÂæóÂà∞ÂºÇÂ∏∏‰ø°ÊÅØÔºå‰ΩÜÊòØÊ≤°Ê≥ï‰øÆÊîπËøîÂõûÁöÑÊï∞ÊçÆ System.out.println(&quot;ÂºÇÊ≠•‰ªªÂä°ÊàêÂäüÂÆåÊàê‰∫Ü...ÁªìÊûúÊòØÔºö&quot; +res + &quot;ÂºÇÂ∏∏ÊòØÔºö&quot; + exception);}).exceptionally(throwable -&gt; { // ÂèØ‰ª•ÊÑüÁü•Âà∞ÂºÇÂ∏∏ÔºåÂêåÊó∂ËøîÂõûÈªòËÆ§ÂÄº return 10;}); 8.2.3 handle ÊñπÊ≥ï Âíå complete ‰∏ÄÊ†∑ÔºåÂèØ‰ª•ÂØπÁªìÊûúÂÅöÊúÄÂêéÁöÑÂ§ÑÁêÜÔºàÂèØÂ§ÑÁêÜÂºÇÂ∏∏ÔºâÔºåÂèØÊîπÂèòËøîÂõûÂÄº 1234567891011121314CompletableFuture&lt;Integer&gt; future = CompletableFuture.supplyAsync(() -&gt; { System.out.println(&quot;ÂΩìÂâçÁ∫øÁ®ãÔºö&quot; + Thread.currentThread().getId()); int i = 10 / 2; System.out.println(&quot;ËøêË°åÁªìÊûúÔºö&quot; + i); return i;}, executor).handle((res,thr) -&gt;{ if (res != null ) { return res * 2; } if (thr != null) { return 0; } return 0;}); 8.2.4 Á∫øÁ®ã‰∏≤Ë°åÊñπÊ≥ï thenApply ÊñπÊ≥ïÔºöÂΩì‰∏Ä‰∏™Á∫øÁ®ã‰æùËµñÂè¶‰∏Ä‰∏™Á∫øÁ®ãÊó∂ÔºåËé∑Âèñ‰∏ä‰∏Ä‰∏™‰ªªÂä°ËøîÂõûÁöÑÁªìÊûúÔºåÂπ∂ËøîÂõûÂΩìÂâç‰ªªÁâ©ÁöÑËøîÂõûÂÄº thenAcceptÊñπÊ≥ïÔºöÊ∂àË¥πÂ§ÑÁêÜÁªìÊûúÔºåÊé•Âèó‰ªªÂä°Â§ÑÁêÜÁªìÊûúÔºåÂπ∂Ê∂àË¥πÂ§ÑÁêÜÔºåÊó†ËøîÂõûÁªìÊûú thenRun ÊñπÊ≥ïÔºöÂè™Ë¶Å‰∏äÈù¢‰ªªÂä°ÊâßË°åÂÆåÊàêÔºåÂ∞±ÂºÄÂßãÊâßË°å thenRun ,Âè™ÊòØÂ§ÑÁêÜÂÆå‰ªªÂä°ÂêéÔºåÊâßË°å thenRunÁöÑÂêéÁª≠Êìç‰Ωú Â∏¶Êúâ Async ÈªòËÆ§ÊòØÂºÇÊ≠•ÊâßË°åÁöÑÔºåÂêå‰πãÂâçÔºå ‰ª•‰∏äÈÉΩË¶ÅÂâçÁΩÆ‰ªªÂä°ÂÆåÊàê 12345678910111213141516171819202122/** * Á∫øÁ®ã‰∏≤Ë°åÂåñÔºå * 1„ÄÅthenRun:‰∏çËÉΩËé∑ÂèñÂà∞‰∏ä‰∏ÄÊ≠•ÁöÑÊâßË°åÁªìÊûúÔºåÊó†ËøîÂõûÂÄº * .thenRunAsync(() -&gt;{ * System.out.println(&quot;‰ªªÂä°2ÂêØÂä®‰∫Ü....&quot;); * },executor); * 2„ÄÅËÉΩÊé•Âèó‰∏ä‰∏ÄÊ≠•ÁªìÊûúÔºå‰ΩÜÊòØÊó†ËøîÂõûÂÄº thenAcceptAsync * 3„ÄÅthenApplyAsync ËÉΩÊî∂Âèó‰∏ä‰∏ÄÊ≠•ÁªìÊûúÔºåÊúâËøîÂõûÂÄº * */ CompletableFuture&lt;String&gt; future = CompletableFuture.supplyAsync(() -&gt; { System.out.println(&quot;ÂΩìÂâçÁ∫øÁ®ãÔºö&quot; + Thread.currentThread().getId()); int i = 10 / 2; System.out.println(&quot;ËøêË°åÁªìÊûúÔºö&quot; + i); return i; }, executor).thenApplyAsync(res -&gt; { System.out.println(&quot;‰ªªÂä°2ÂêØÂä®‰∫Ü...&quot; + res); return &quot;Hello &quot; + res; }, executor); String s = future.get(); System.out.println(&quot;main....stop.....&quot; + s); 8.2.5 ‰∏§‰ªªÂä°ÁªÑÂêà - ÈÉΩË¶ÅÂÆåÊàê ‰∏§‰∏™‰ªªÂä°ÂøÖÈ°ªÈÉΩÂÆåÊàêÔºåËß¶ÂèëËØ•‰ªªÂä° thenCombine: ÁªÑÂêà‰∏§‰∏™ futureÔºåËé∑Âèñ‰∏§‰∏™ futureÁöÑËøîÂõûÁªìÊûúÔºåÂπ∂ËøîÂõûÂΩìÂâç‰ªªÂä°ÁöÑËøîÂõûÂÄº thenAccpetBoth: ÁªÑÂêà‰∏§‰∏™ futureÔºåËé∑Âèñ‰∏§‰∏™ future ‰ªªÂä°ÁöÑËøîÂõûÁªìÊûúÔºåÁÑ∂ÂêéÂ§ÑÁêÜ‰ªªÂä°ÔºåÊ≤°ÊúâËøîÂõûÂÄº runAfterBoth:ÁªÑÂêà ‰∏§‰∏™ futureÔºå‰∏çÈúÄË¶ÅËé∑Âèñ future ÁöÑÁªìÊûúÔºåÂè™ÈúÄË¶Å‰∏§‰∏™ futureÂ§ÑÁêÜÂÆåÊàê‰ªªÂä°ÂêéÔºåÂ§ÑÁêÜËØ•‰ªªÂä°Ôºå 1234567891011121314151617181920212223242526272829303132 /** * ‰∏§‰∏™ÈÉΩÂÆåÊàê */ CompletableFuture&lt;Integer&gt; future01 = CompletableFuture.supplyAsync(() -&gt; { System.out.println(&quot;‰ªªÂä°1ÂΩìÂâçÁ∫øÁ®ãÔºö&quot; + Thread.currentThread().getId()); int i = 10 / 4; System.out.println(&quot;‰ªªÂä°1ÁªìÊùüÔºö&quot; + i); return i; }, executor); CompletableFuture&lt;String&gt; future02 = CompletableFuture.supplyAsync(() -&gt; { System.out.println(&quot;‰ªªÂä°2ÂΩìÂâçÁ∫øÁ®ãÔºö&quot; + Thread.currentThread().getId()); System.out.println(&quot;‰ªªÂä°2ÁªìÊùüÔºö&quot;); return &quot;Hello&quot;; }, executor); // f1 Âíå f2 ÊâßË°åÂÆåÊàêÂêéÂú®ÊâßË°åËøô‰∏™// future01.runAfterBothAsync(future02,() -&gt; {// System.out.println(&quot;‰ªªÂä°3ÂºÄÂßã&quot;);// },executor); // ËøîÂõûf1 Âíå f2 ÁöÑËøêË°åÁªìÊûú// future01.thenAcceptBothAsync(future02,(f1,f2) -&gt; {// System.out.println(&quot;‰ªªÂä°3ÂºÄÂßã....‰πãÂâçÁöÑÁªìÊûú:&quot; + f1 + &quot;==&gt;&quot; + f2);// },executor); // f1 Âíå f2 ÂçïÁã¨ÂÆö‰πâËøîÂõûÁªìÊûú CompletableFuture&lt;String&gt; future = future01.thenCombineAsync(future02, (f1, f2) -&gt; { return f1 + &quot;:&quot; + f2 + &quot;-&gt; Haha&quot;; }, executor); System.out.println(&quot;main....end.....&quot; + future.get()); 8.2.6 ‰∏§‰ªªÂä°ÁªÑÂêà - ‰∏Ä‰∏™ÂÆåÊàê ÂΩì‰∏§‰∏™‰ªªÂä°‰∏≠Ôºå‰ªªÊÑè‰∏Ä‰∏™future ‰ªªÂä°ÂÆåÊàêÊó∂ÔºåÊâßË°å‰ªªÂä° applyToEither;‰∏§‰∏™‰ªªÂä°Êúâ‰∏Ä‰∏™ÊâßË°åÂÆåÊàêÔºåËé∑ÂèñÂÆÉÁöÑËøîÂõûÂÄºÔºåÂ§ÑÁêÜ‰ªªÂä°Âπ∂ÊúâÊñ∞ÁöÑËøîÂõûÂÄº acceptEither: ‰∏§‰∏™‰ªªÂä°Êúâ‰∏Ä‰∏™ÊâßË°åÂÆåÊàêÔºåËé∑ÂèñÂÆÉÁöÑËøîÂõûÂÄºÔºåÂ§ÑÁêÜ‰ªªÂä°ÔºåÊ≤°ÊúâÊñ∞ÁöÑËøîÂõûÂÄº runAfterEither:‰∏§‰∏™‰ªªÂä°Êúâ‰∏Ä‰∏™ÊâßË°åÂÆåÊàêÔºå‰∏çÈúÄË¶ÅËé∑Âèñ future ÁöÑÁªìÊûúÔºåÂ§ÑÁêÜ‰ªªÂä°Ôºå‰πüÊ≤°ÊúâËøîÂõûÂÄº 123456789101112131415161718/** * ‰∏§‰∏™‰ªªÂä°ÔºåÂè™Ë¶ÅÊúâ‰∏Ä‰∏™ÂÆåÊàêÔºåÊàë‰ª¨Â∞±ÊâßË°å‰ªªÂä° * runAfterEnitherAsyncÔºö‰∏çÊÑüÁü•ÁªìÊûúÔºåËá™Â∑±Ê≤°ÊúâËøîÂõûÂÄº * acceptEitherAsyncÔºöÊÑüÁü•ÁªìÊûúÔºåËá™Â∑±Ê≤°ÊúâËøîÂõûÂÄº * applyToEitherAsyncÔºöÊÑüÁü•ÁªìÊûúÔºåËá™Â∑±ÊúâËøîÂõûÂÄº */// future01.runAfterEitherAsync(future02,() -&gt;{// System.out.println(&quot;‰ªªÂä°3ÂºÄÂßã...‰πãÂâçÁöÑÁªìÊûú:&quot;);// },executor);// future01.acceptEitherAsync(future02,(res) -&gt; {// System.out.println(&quot;‰ªªÂä°3ÂºÄÂßã...‰πãÂâçÁöÑÁªìÊûú:&quot; + res);// },executor); CompletableFuture&lt;String&gt; future = future01.applyToEitherAsync(future02, res -&gt; { System.out.println(&quot;‰ªªÂä°3ÂºÄÂßã...‰πãÂâçÁöÑÁªìÊûúÔºö&quot; + res); return res.toString() + &quot;-&gt;ÂìàÂìà&quot;; }, executor); 8.2.7 Â§ö‰ªªÂä°ÁªÑÂêà allOfÔºöÁ≠âÂæÖÊâÄÊúâ‰ªªÂä°ÂÆåÊàê anyOf:Âè™Ë¶ÅÊúâ‰∏Ä‰∏™‰ªªÂä°ÂÆåÊàê 123456789101112131415161718192021222324 CompletableFuture&lt;String&gt; futureImg = CompletableFuture.supplyAsync(() -&gt; { System.out.println(&quot;Êü•ËØ¢ÂïÜÂìÅÁöÑÂõæÁâá‰ø°ÊÅØ&quot;); return &quot;hello.jpg&quot;; }); CompletableFuture&lt;String&gt; futureAttr = CompletableFuture.supplyAsync(() -&gt; { System.out.println(&quot;Êü•ËØ¢ÂïÜÂìÅÁöÑÂ±ûÊÄß&quot;); return &quot;ÈªëËâ≤+256G&quot;; }); CompletableFuture&lt;String&gt; futureDesc = CompletableFuture.supplyAsync(() -&gt; { try { TimeUnit.SECONDS.sleep(3); } catch (InterruptedException e) { e.printStackTrace(); } System.out.println(&quot;Êü•ËØ¢ÂïÜÂìÅ‰ªãÁªç&quot;); return &quot;Âçé‰∏∫&quot;; }); // Á≠âÂæÖÂÖ®ÈÉ®ÊâßË°åÂÆå// CompletableFuture&lt;Void&gt; allOf = CompletableFuture.allOf(futureImg, futureAttr, futureDesc);// allOf.get(); // Âè™ÈúÄË¶ÅÊúâ‰∏Ä‰∏™ÊâßË°åÂÆå CompletableFuture&lt;Object&gt; anyOf = CompletableFuture.anyOf(futureImg, futureAttr, futureDesc); anyOf.get(); System.out.println(&quot;main....end.....&quot; + anyOf.get()); ÈÉΩÊòØÊìç‰Ωú CompletableFuture Á±ª Êõ¥Â§öÊñπÊ≥ïËøòËØ∑ÂèÇËÄÉËØ•Á±ª 9„ÄÅÂïÜÂìÅËØ¶ÊÉÖ 9.1 ËØ¶ÊÉÖÊï∞ÊçÆ **ÈúÄÊ±ÇÂàÜÊûêÔºö**ÈÄöËøá skuId Êü•ËØ¢Âá∫ÂïÜÂìÅÁöÑÁõ∏ÂÖ≥‰ø°ÊÅØÔºåÂõæÁâá„ÄÅÊ†áÈ¢ò„ÄÅ‰ª∑Ê†ºÔºåÂ±ûÊÄßÂØπÂ∫îÁâàÊú¨Á≠âÁ≠â 9.1.1 ËøîÂõûÊï∞ÊçÆÊ®°ÂûãÊäΩÂèñ 12345678910111213141516171819/** * @author gcq * @Create 2020-11-06 */@Datapublic class SkuItemVo { // 1„ÄÅskuÂü∫Êú¨Ëé∑Âèñ pms_sku_info SkuInfoEntity skuInfo; // ÊòØÂê¶ÊúâÂ∫ìÂ≠ò boolean hasStock = true; // 2„ÄÅskuÁöÑÂõæÁâá‰ø°ÊÅØ pms_sku_images List&lt;SkuImagesEntity&gt; images; // 3„ÄÅËé∑ÂèñspuÁöÑÈîÄÂîÆÂ±ûÊÄßÁªÑ List&lt;SkuItemSalAttrVo&gt; saleAttr; // 4„ÄÅËé∑ÂèñspuÁöÑ‰ªãÁªç SpuInfoDescEntity desc; // 5„ÄÅËé∑ÂèñspuÁöÑËßÑÊ†ºÂèÇÊï∞‰ø°ÊÅØ List&lt;SpuItemAttrGroupVo&gt; groupAttrs;} 12345678910/** * @author gcq * @Create 2020-11-08 */@Datapublic class SkuItemSalAttrVo { private Long attrId; private String attrName; private List&lt;AttrValueWithSkuIdVo&gt; attrValues;} 1234567891011/** * @author gcq * @Create 2020-11-08 */@Datapublic class AttrValueWithSkuIdVo { private String attrValue; private String skuIds; } 9.2 Êü•ËØ¢ËØ¶ÊÉÖ 1234567891011121314151617181920212223242526272829303132333435363738394041@Overridepublic SkuItemVo item(Long skuId) throws ExecutionException, InterruptedException { SkuItemVo skuItemVo = new SkuItemVo(); // 1„ÄÅskuÂü∫Êú¨Ëé∑Âèñ pms_sku_info CompletableFuture&lt;SkuInfoEntity&gt; infoFuture = CompletableFuture.supplyAsync(() -&gt; { // Ê†πÊçÆ skuid Êü•ËØ¢Âá∫ spuInfoÂØπË±° SkuInfoEntity info = getById(skuId); skuItemVo.setSkuInfo(info); return info; }, executor); CompletableFuture&lt;Void&gt; saleAttrFuture = infoFuture.thenAcceptAsync((res) -&gt; { // 3„ÄÅËé∑ÂèñspuÁöÑÈîÄÂîÆÂ±ûÊÄßÁªÑÂêà List&lt;SkuItemSalAttrVo&gt; saleAttrVos = skuSaleAttrValueService.getSaleAttrBySpuId(res.getSpuId()); skuItemVo.setSaleAttr(saleAttrVos); }, executor); CompletableFuture&lt;Void&gt; descFuture = infoFuture.thenAcceptAsync(res -&gt; { // 4„ÄÅËé∑ÂèñspuÁöÑ‰ªãÁªç // ÈÄöËøáspuidÊü•ËØ¢Âá∫spuÊèèËø∞‰ø°ÊÅØ SpuInfoDescEntity spuInfoDescEntity = spuInfoDescService.getById(res.getSpuId()); skuItemVo.setDesc(spuInfoDescEntity); }, executor); CompletableFuture&lt;Void&gt; baseFuture = infoFuture.thenAcceptAsync(res -&gt; { // 5„ÄÅËé∑ÂèñspuÁöÑËßÑÊ†ºÂèÇÊï∞‰ø°ÊÅØ List&lt;SpuItemAttrGroupVo&gt; attrGroupVos = attrGroupService.getAttrGroupWithAttrBySpuId(res.getSpuId(), res.getCatalogId()); skuItemVo.setGroupAttrs(attrGroupVos); }, executor); CompletableFuture&lt;Void&gt; imageFuture = CompletableFuture.runAsync(() -&gt; { // 2„ÄÅskuÁöÑÂõæÁâá‰ø°ÊÅØ pms_sku_images List&lt;SkuImagesEntity&gt; images = imagesService.getImagesBySkuId(skuId); skuItemVo.setImages(images); }, executor); // Á≠âÂæÖÊâÄÊúâ‰ªªÂä°ÂÆåÊàê CompletableFuture.allOf(saleAttrFuture, descFuture, baseFuture, imageFuture).get(); return skuItemVo;} Ëé∑ÂèñspuÁöÑÈîÄÂîÆÂ±ûÊÄßÁªÑÂêà 12345678910111213&lt;select id=&quot;getSaleAttrBySpuId&quot; resultMap=&quot;SkuItemSaleAttrVo&quot;&gt; SELECT ssav.`attr_id` attr_id, ssav.`attr_name` attr_name, ssav.`attr_value` , GROUP_CONCAT(DISTINCT info.`sku_id`) sku_ids FROM `pms_sku_info` info LEFT JOIN `pms_sku_sale_attr_value` ssav ON ssav.`sku_id` = info.`sku_id` WHERE info.`spu_id` = #{spuId} GROUP BY ssav.`attr_id`,ssav.`attr_name`,ssav.`attr_value` &lt;/select&gt; Ëé∑ÂèñspuÁöÑËßÑÊ†ºÂèÇÊï∞‰ø°ÊÅØ 1234567891011121314151617181920&lt;select id=&quot;getAttrGroupWithAttrsBySpuId&quot; resultMap=&quot;spuItemAttrGroupVo&quot;&gt; SELECT pav.`spu_id`, ag.`attr_group_name` , ag.`attr_group_id`, aar.`attr_id`, attr.`attr_name`, pav.`attr_value` FROM `pms_attr_group` ag LEFT JOIN `pms_attr_attrgroup_relation` aar ON aar.`attr_group_id` = ag.`attr_group_id` LEFT JOIN `pms_attr` attr ON attr.`attr_id` = aar.`attr_id` LEFT JOIN `pms_product_attr_value` pav ON pav.`attr_id` = attr.`attr_id` WHERE ag.`catelog_id` = #{catalogId} AND pav.`spu_id` = #{spuId}&lt;/select&gt; ÂÖ∂‰ªñÈÉΩÊòØÈÄöËøáÂØπÂ∫îÂÖ≥ËÅîÁöÑ id ËøõË°åÊü•ËØ¢ÔºåÂ∞±‰∏äÈù¢‰∏§‰∏™Êü•ËØ¢ÈîÄÂîÆÂ±ûÊÄß„ÄÅËßÑÊ†ºÂèÇÊï∞Â±ûÊÄß ÊØîËæÉÈöæÔºåSQLËøôÂùóÊØîËæÉÈöæ‰ª•ÁêÜËß£ 9.3 sku ÁªÑÂêàÂàáÊç¢ 123456789101112131415161718192021222324252627282930313233// sku ÁªÑÂêàÂàáÊç¢ $(&quot;.sku_attr_value&quot;).click(function () { var skus = new Array(); // 1„ÄÅÁÇπÂáªÁöÑÂÖÉÁ¥†Ê∑ªÂä†‰∏äËá™ÂÆö‰πâÂ±ûÊÄß,‰∏∫‰∫ÜËØÜÂà´Êàë‰ª¨ÂàöÂú®Ë¢´ÁÇπÂáªÁöÑ $(this).addClass(&quot;clicked&quot;) // 1.1„ÄÅÂΩìÂâçË¢´ÈÄâ‰∏≠ÁöÑÂ±ûÊÄßÁöÑskus‰ø°ÊÅØ var curr = $(this).attr(&quot;skus&quot;).split(&quot;,&quot;); // 2„ÄÅÊ∑ªÂä†Âà∞Êï∞ÁªÑ‰∏≠ skus.push(curr); // 3„ÄÅÂéªÊéâÂêå‰∏ÄË°åÁöÑÊâÄÊúâÁöÑ checked a-&gt;dd-&gt;dl $(this).parent().parent().find(&quot;.sku_attr_value&quot;).removeClass(&quot;checked&quot;) // 4„ÄÅÂÖ∂‰ªñÈ°π‰πüÈúÄË¶ÅÊ∑ªÂä†Âà∞Êï∞ÁªÑÈáåÈù¢ $(&quot;a[class='sku_attr_value checked']&quot;).each(function () { skus.push($(this).attr(&quot;skus&quot;).split(&quot;,&quot;)) }) // 5„ÄÅÂèñÂá∫‰ªñ‰ª¨ÁöÑ‰∫§ÈõÜ jquery ‰∏≠‰ΩøÁî® filterÊñπÊ≥ïÊù•ÂèñÂá∫‰ªñ‰ª¨ÁöÑ‰∫§ÈõÜ // 5.1 Â±ûÊÄßÈ°πÂèØËÉΩÊúâÂ§ö‰∏™ÔºåÂÜÖÂ≠ò„ÄÅÁâàÊú¨Á≠âÁ≠âÔºåÊâÄ‰ª•ÈúÄË¶ÅÈÅçÂéÜ var filterEle = skus[0] for (var i = 1; i &lt; skus.length; i++) { filterEle = $(filterEle).filter(skus[i]) } // 6„ÄÅË∑≥ËΩ¨Âà∞‰∫§ÈõÜÈ°µÈù¢ console.log(filterEle[0]) location.href = &quot;http://item.gulimall.com/&quot; + filterEle[0] + &quot;.html&quot; }) $(function () { // ÈªòËÆ§Áà∂ÂÖÉÁ¥†ÊòØÁÅ∞Ëâ≤ $(&quot;.sku_attr_value&quot;).parent().css({&quot;border&quot;: &quot;solid 1px #CCC&quot;}); // Êã•ÊúâcheckedÊ†∑ÂºèË°®Á§∫ÈÄâ‰∏≠ÂΩìÂâçÂÖÉÁ¥† $(&quot;a[class='sku_attr_value checked']&quot;).parent().css({&quot;border&quot;: &quot;solid 1px red&quot;}); }) 10„ÄÅÂïÜÂìÅ‰∏öÂä° &amp; ËÆ§ËØÅÊúçÂä° 10.1 ÁéØÂ¢ÉÊê≠Âª∫ ‰∏∫ÁôªÂΩïÂíåÊ≥®ÂÜåÂàõÂª∫‰∏Ä‰∏™ÊúçÂä° ËÆ≤Êèê‰æõÁöÑÂâçÁ´ØÊîæÂà∞ templates ÁõÆÂΩï‰∏ã 10.2 ÂâçÁ´ØÈ™åËØÅÁ†ÅÂÄíËÆ°Êó∂ ÂÆö‰πâid ‰ΩøÁî® Jquery Ëß¶ÂèëÁÇπÂáª‰∫ã‰ª∂ Jquery 12345678910111213141516171819202122232425262728293031323334353637$(function () { /** * È™åËØÅÁ†ÅÂèëÈÄÅ */ $(&quot;#sendCode&quot;).click(function () { //Âà§Êñ≠ÊòØÂê¶ÊúâËØ•Ê†∑Âºè if ($(this).hasClass(&quot;disabled&quot;)) { // Ê≠£Âú®ÂÄíËÆ°Êó∂ } else { // ÂèëÈÄÅÈ™åËØÅÁ†Å $.get(&quot;/sms/sendCode?phone=&quot; + $(&quot;#phoneNum&quot;).val(), function (data) { if (data.code != 0) { alert(data.msg) } }) timeoutChangeStyle(); } })})// 60Áßívar num = 60;function timeoutChangeStyle() { // ÂÖàÊ∑ªÂä†Ê†∑ÂºèÔºåÈò≤Ê≠¢ÈáçÂ§çÁÇπÂáª $(&quot;#sendCode&quot;).attr(&quot;class&quot;, &quot;disabled&quot;) // Âà∞Ëææ0ÁßíÂêé ÈáçÁΩÆÊó∂Èó¥ÔºåÂéªÈô§Ê†∑Âºè if (num == 0) { $(&quot;#sendCode&quot;).text(&quot;ÂèëÈÄÅÈ™åËØÅÁ†Å&quot;) num = 60; // Êó∂Èó¥Âà∞ËææÂêéÊ∏ÖÈô§Ê†∑Âºè $(&quot;#sendCode&quot;).attr(&quot;class&quot;, &quot;&quot;); } else { var str = num + &quot;s ÂêéÂÜçÊ¨°ÂèëÈÄÅ&quot; $(&quot;#sendCode&quot;).text(str); setTimeout(&quot;timeoutChangeStyle()&quot;, 1000); } num--;} ÂØπÂ∫îÊïàÊûú 10.3 Êï¥ÂêàÁü≠‰ø°È™åËØÅÁ†Å 1„ÄÅÁü≠‰ø°È™åËØÅÊàë‰ª¨ÈÄâÊã©ÁöÑÊòØÈòøÈáå‰∫ëÁöÑÁü≠‰ø°ÊúçÂä° 2„ÄÅÈÄâÊã©ÂØπÂ∫îÁü≠‰ø°ÊúçÂä°ËøõË°åÂºÄÈÄö Âú®‰∫ëÂ∏ÇÂú∫Â∞±ËÉΩÁúãÂà∞Ë¥≠‰π∞ÁöÑÊúçÂä° 3„ÄÅÈ™åËØÅÁü≠‰ø°ÂäüËÉΩÊòØÂê¶ËÉΩÂèëÈÄÅ Âú®Ë¥≠‰π∞Áü≠‰ø°ÁöÑÈ°µÈù¢ÔºåËÉΩËøõË°åË∞ÉËØïÁü≠‰ø° ËæìÂÖ•ÂØπÂ∫îÊâãÊú∫Âè∑ÔºåappCode ÂÖ∑‰ΩìÂäüËÉΩ‰∏çÂÅöÊºîÁ§∫ 4„ÄÅ‰ΩøÁî® Java ÊµãËØïÁü≠‰ø°ÊòØÂê¶ËÉΩËøõË°åÂèëÈÄÅ ÂæÄ‰∏ãÊãâÊâæÂà∞ÂØπÂ∫î Java ‰ª£Á†Å Ê≥®ÊÑèÔºö ‚Äã ÊúçÂä°ÂïÜÊèê‰æõÁöÑÊé•Âè£Âú∞ÂùÄÔºåËØ∑Ê±ÇÂèÇÊï∞ÈÉΩ‰∏çÂêåÔºåËØ∑ÂèÇËÄÉÊúçÂä°ÂïÜÊèê‰æõÁöÑÊµãËØï‰ª£Á†Å 12345678910111213141516171819202122232425262728293031323334@Testpublic void contextLoads() { String host = &quot;http://dingxin.market.alicloudapi.com&quot;; String path = &quot;/dx/sendSms&quot;; String method = &quot;POST&quot;; String appcode = &quot;‰Ω†Ëá™Â∑±ÁöÑAppCode&quot;; Map&lt;String, String&gt; headers = new HashMap&lt;String, String&gt;(); //ÊúÄÂêéÂú®header‰∏≠ÁöÑÊ†ºÂºè(‰∏≠Èó¥ÊòØËã±ÊñáÁ©∫Ê†º)‰∏∫Authorization:APPCODE 83359fd73fe94948385f570e3c139105 headers.put(&quot;Authorization&quot;, &quot;APPCODE &quot; + appcode); Map&lt;String, String&gt; querys = new HashMap&lt;String, String&gt;(); querys.put(&quot;mobile&quot;, &quot;159xxxx9999&quot;); querys.put(&quot;param&quot;, &quot;code:1234&quot;); querys.put(&quot;tpl_id&quot;, &quot;TP1711063&quot;); Map&lt;String, String&gt; bodys = new HashMap&lt;String, String&gt;(); try { /** * ÈáçË¶ÅÊèêÁ§∫Â¶Ç‰∏ã: * HttpUtilsËØ∑‰ªé * https://github.com/aliyun/api-gateway-demo-sign-java/blob/master/src/main/java/com/aliyun/api/gateway/demo/util/HttpUtils.java * ‰∏ãËΩΩ * * Áõ∏Â∫îÁöÑ‰æùËµñËØ∑ÂèÇÁÖß * https://github.com/aliyun/api-gateway-demo-sign-java/blob/master/pom.xml */ HttpResponse response = HttpUtils.doPost(host, path, method, headers, querys, bodys); System.out.println(response.toString()); //Ëé∑ÂèñresponseÁöÑbody //System.out.println(EntityUtils.toString(response.getEntity())); } catch (Exception e) { e.printStackTrace(); }} ÈúÄË¶ÅÂØºÂÖ•ÂØπÂ∫îÂ∑•ÂÖ∑Á±ªÔºåÂèÇÁÖßÊ≥®ÈáäÂ∞±Ë°å 10.4 È™åËØÅÁ†ÅÈò≤Âà∑Ê†°È™å Áî®Êà∑Ë¶ÅÊòØ‰∏ÄÁõ¥Êèê‰∫§È™åËØÅÁ†Å ÂâçÂè∞ÔºöÈôêÂà∂‰∏ÄÂàÜÈíüÂêéÊèê‰∫§ ÂêéÂè∞ÔºöÂ≠òÂÖ•redis Â¶ÇÊûúÊúâÂ∞±ËøîÂõû 1234567891011121314151617181920212223242526272829303132/** * ÂèëÈÄÅÁü≠‰ø°È™åËØÅÁ†Å * @param phone ÊâãÊú∫Âè∑ * @return */@GetMapping(&quot;/sms/sendCode&quot;)@ResponseBodypublic R sendCode(@RequestParam(&quot;phone&quot;) String phone) { // TODO 1„ÄÅÊé•Âè£Èò≤Âà∑ // ÂÖà‰ªéredis‰∏≠ÊãøÂèñ String redisCode = redisTemplate.opsForValue().get(AuthServerConstant.SMS_CODE_CACHE_PREFIX + phone); if(!StringUtils.isEmpty(redisCode)) { // ÊãÜÂàÜ long l = Long.parseLong(redisCode.split(&quot;_&quot;)[1]); // ÂΩìÂâçÁ≥ªÁªü‰∫ã‰ª∂ÂáèÂéª‰πãÂâçÈ™åËØÅÁ†ÅÂ≠òÂÖ•ÁöÑ‰∫ã‰ª∂ Â∞è‰∫é60000ÊØ´Áßí=60Áßí if (System.currentTimeMillis() -l &lt; 60000) { // 60ÁßíÂÜÖ‰∏çËÉΩÂÜçÂèë R.error(BizCodeEnume.SMS_CODE_EXCEPTION.getCode(),BizCodeEnume.SMS_CODE_EXCEPTION.getMsg()); } } // 2„ÄÅÈ™åËØÅÁ†ÅÁöÑÂÜçÊ¨°ÊïàÈ™å // Êï∞ÊçÆÂ≠òÂÖ• =„Äãredis key-phone value - code sms:code:131xxxxx - &gt;45678 String code = UUID.randomUUID().toString().substring(0,5).toUpperCase(); // ÊãºÊé•È™åËØÅÁ†Å String substring = code+&quot;_&quot; + System.currentTimeMillis(); // redisÁºìÂ≠òÈ™åËØÅÁ†Å Èò≤Ê≠¢Âêå‰∏Ä‰∏™phoneÂú®60ÁßíÂÜÖÂèëÂá∫Â§öÊ¨°È™åËØÅÂêó redisTemplate.opsForValue().set(AuthServerConstant.SMS_CODE_CACHE_PREFIX+phone,substring,10, TimeUnit.MINUTES); // Ë∞ÉÁî®Á¨¨‰∏âÊñπÊúçÂä°ÂèëÈÄÅÈ™åËØÅÁ†Å thirdPartFeignService.sendCode(phone,code); return R.ok();} 10.5 ‰∏ÄÊ≠•‰∏ÄÂùëÊ≥®ÂÜåÈ°µÁéØÂ¢É 1„ÄÅÁºñÂÜô vo Êé•Êî∂È°µÈù¢Êèê‰∫§ ‰ΩøÁî®Âà∞‰∫Ü JSR303Ê†°È™å 12345678910111213141516171819202122/** * Ê≥®ÂÜåÊï∞ÊçÆÂ∞ÅË£ÖVo * @author gcq * @Create 2020-11-09 */@Datapublic class UserRegistVo { @NotEmpty(message = &quot;Áî®Êà∑ÂêçÂøÖÈ°ªÊèê‰∫§&quot;) @Length(min = 6,max = 18,message = &quot;Áî®Êà∑ÂêçÂøÖÈ°ªÊòØ6-18‰ΩçÂ≠óÁ¨¶&quot;) private String userName; @NotEmpty(message = &quot;ÂØÜÁ†ÅÂøÖÈ°ªÂ°´ÂÜô&quot;) @Length(min = 6,max = 18,message = &quot;ÂØÜÁ†ÅÂøÖÈ°ªÊòØ6-18‰ΩçÂ≠óÁ¨¶&quot;) private String password; @NotEmpty(message = &quot;ÊâãÊú∫Âè∑Á†ÅÂøÖÈ°ªÊèê‰∫§&quot;) @Pattern(regexp = &quot;^[1]([3-9])[0-9]{9}$&quot;,message = &quot;ÊâãÊú∫Ê†ºÂºè‰∏çÊ≠£Á°Æ&quot;) private String phone; @NotEmpty(message = &quot;È™åËØÅÁ†ÅÂøÖÈ°ªÂ°´ÂÜô&quot;) private String code;} 2„ÄÅÈ°µÈù¢Êèê‰∫§Êï∞ÊçÆ‰∏éVo‰∏ÄËá¥ ËÆæÁΩÆ name Â±ûÊÄß‰∏é Vo ‰∏ÄËá¥ÔºåÊñπ‰æøÂ∞Ü‰º†ÈÄíËøáÊù•ÁöÑÊï∞ÊçÆËΩ¨Êç¢Êàê JSON 3„ÄÅÊï∞ÊçÆÊ†°È™å 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758/** * //TODO ÈáçÂÆöÂêëÊê∫Â∏¶Êï∞ÊçÆÔºåÂà©Áî®sessionÂéüÁêÜÔºåÂ∞ÜÊï∞ÊçÆÊîæÂú®session‰∏≠Ôºå * Âè™Ë¶ÅË∑≥ËΩ¨Âà∞‰∏ã‰∏Ä‰∏™È°µÈù¢ÂèñÂá∫Ëøô‰∏™Êï∞ÊçÆÔºåsession‰∏≠ÁöÑÊï∞ÊçÆÂ∞±‰ºöÂà†Êéâ * //TODOÂàÜÂ∏ÉÂºè‰∏ã session ÁöÑÈóÆÈ¢ò * RedirectAttributes redirectAttributes ÈáçÂÆöÂêëÊê∫Â∏¶Êï∞ÊçÆ * redirectAttributes.addFlashAttribute(&quot;errors&quot;, errors); Âè™ËÉΩÂèñ‰∏ÄÊ¨° * @param vo Êï∞ÊçÆ‰º†ËæìÂØπË±° * @param result Áî®‰∫éÈ™åËØÅÂèÇÊï∞ * @param redirectAttributes Êï∞ÊçÆÈáçÂÆöÂêë * @return */@PostMapping(&quot;/regist&quot;)public String regist(@Valid UserRegistVo vo, BindingResult result, RedirectAttributes redirectAttributes) { // Ê†°È™åÊòØÂê¶ÈÄöËøá if (result.hasErrors()) { // ÊãøÂà∞ÈîôËØØ‰ø°ÊÅØËΩ¨Êç¢ÊàêMap Map&lt;String, String&gt; errors = result.getFieldErrors().stream().collect(Collectors.toMap(FieldError::getField, FieldError::getDefaultMessage)); //Áî®‰∏ÄÊ¨°ÁöÑÂ±ûÊÄß redirectAttributes.addFlashAttribute(&quot;errors&quot;,errors); // Ê†°È™åÂá∫ÈîôÔºåËΩ¨ÂèëÂà∞Ê≥®ÂÜåÈ°µ return &quot;redirect:http://auth.gulimall.com/reg.html&quot;; } // Â∞Ü‰º†ÈÄíËøáÊù•ÁöÑÈ™åËØÅÁ†Å ‰∏é Â≠òredis‰∏≠ÁöÑÈ™åËØÅÁ†ÅËøõË°åÊØîËæÉ String code = vo.getCode(); String s = redisTemplate.opsForValue().get(AuthServerConstant.SMS_CODE_CACHE_PREFIX + vo.getPhone()); if (!StringUtils.isEmpty(s)) { // È™åËØÅÁ†ÅÂíåredis‰∏≠ÁöÑ‰∏ÄËá¥ if(code.equals(s.split(&quot;_&quot;)[0])) { // Âà†Èô§È™åËØÅÁ†ÅÔºö‰ª§ÁâåÊú∫Âà∂ redisTemplate.delete(AuthServerConstant.SMS_CODE_CACHE_PREFIX + vo.getPhone()); // Ë∞ÉÁî®ËøúÁ®ãÊúçÂä°ÔºåÁúüÊ≠£Ê≥®ÂÜå R r = memberFeignService.regist(vo); if (r.getCode() == 0) { // ËøúÁ®ãË∞ÉÁî®Ê≥®ÂÜåÊúçÂä°ÊàêÂäü return &quot;redirect:http://auth.gulimall.com/login.html&quot;; } else { Map&lt;String, String&gt; errors = new HashMap&lt;&gt;(); errors.put(&quot;msg&quot;,r.getData(new TypeReference&lt;String&gt;(){})); redirectAttributes.addFlashAttribute(&quot;errors&quot;, errors); return &quot;redirect:http://auth.gulimall.com/reg.html&quot;; } } else { Map&lt;String, String&gt; errors = new HashMap&lt;&gt;(); errors.put(&quot;code&quot;, &quot;È™åËØÅÁ†ÅÈîôËØØ&quot;); redirectAttributes.addFlashAttribute(&quot;code&quot;, &quot;È™åËØÅÁ†ÅÈîôËØØ&quot;); // Ê†°È™åÂá∫ÈîôÔºåËΩ¨ÂèëÂà∞Ê≥®ÂÜåÈ°µ return &quot;redirect:http://auth.gulimall.com/reg.html&quot;; } } else { Map&lt;String, String&gt; errors = new HashMap&lt;&gt;(); errors.put(&quot;code&quot;, &quot;È™åËØÅÁ†ÅÈîôËØØ&quot;); redirectAttributes.addFlashAttribute(&quot;code&quot;, &quot;È™åËØÅÁ†ÅÈîôËØØ&quot;); // Ê†°È™åÂá∫ÈîôÔºåËΩ¨ÂèëÂà∞Ê≥®ÂÜåÈ°µ return &quot;redirect:http://auth.gulimall.com/reg.html&quot;; }} 4„ÄÅÂâçÁ´ØÈ°µÈù¢Êé•Êî∂ÈîôËØØ‰ø°ÊÅØ 5„ÄÅÂºÇÂ∏∏Êú∫Âà∂ &amp; Áî®Êà∑Ê≥®ÂÜå Áî®Êà∑Ê≥®ÂÜåÂçïÁã¨ÊäΩÂá∫‰∫Ü‰∏Ä‰∏™ÊúçÂä° Controller 1234567891011121314151617/** * Ê≥®ÂÜå * @param registVo * @return */@PostMapping(&quot;/regist&quot;)public R regist(@RequestBody MemberRegistVo registVo) { try { memberService.regist(registVo); } catch (PhoneExsitException e) { // ËøîÂõûÂØπÂ∫îÁöÑÂºÇÂ∏∏‰ø°ÊÅØ return R.error(BizCodeEnume.PHONE_EXIST_EXCEPTION.getCode(),BizCodeEnume.PHONE_EXIST_EXCEPTION.getMsg()); } catch (UserNameExistException e) { return R.error(BizCodeEnume.USER_EXIST_EXCEPTION.getCode(),BizCodeEnume.USER_EXIST_EXCEPTION.getMsg()); } return R.ok();} 123456789101112131415161718192021222324252627282930313233343536373839404142@Overridepublic void regist(MemberRegistVo registVo) { MemberDao memberDao = this.baseMapper; MemberEntity entity = new MemberEntity(); // ËÆæÁΩÆÈªòËÆ§Á≠âÁ∫ß MemberLevelEntity memberLevelEntity = memberLevelDao.getDefaultLevel(); entity.setLevelId(memberLevelEntity.getId()); // Ê£ÄÊü•ÊâãÊú∫Âè∑ÂíåÁî®Êà∑ÂêçÊòØÂê¶ÂîØ‰∏Ä checkPhoneUnique(registVo.getPhone()); checkUserNameUnique(registVo.getUserName()); entity.setMobile(registVo.getPhone()); entity.setUsername(registVo.getUserName()); //ÂØÜÁ†ÅË¶ÅÂä†ÂØÜÂ≠òÂÇ® BCryptPasswordEncoder passwordEncoder = new BCryptPasswordEncoder(); String encode = passwordEncoder.encode(registVo.getPassword()); entity.setPassword(encode); memberDao.insert(entity);}@Overridepublic void checkPhoneUnique(String phone) throws PhoneExsitException { MemberDao memberDao = this.baseMapper; Integer mobile = memberDao.selectCount(new QueryWrapper&lt;MemberEntity&gt;().eq(&quot;mobile&quot;, phone)); if (mobile &gt; 0) { throw new PhoneExsitException(); }}@Overridepublic void checkUserNameUnique(String username) throws UserNameExistException { MemberDao memberDao = this.baseMapper; Integer count = memberDao.selectCount(new QueryWrapper&lt;MemberEntity&gt;().eq(&quot;username&quot;, username)); if (count &gt; 0) { throw new PhoneExsitException(); }} Ê≠§Â§ÑÂºïÂÖ•‰∏Ä‰∏™ÈóÆÈ¢ò ÂØÜÁ†ÅÊòØÁõ¥Êé•Â≠òÂÖ•Êï∞ÊçÆÂ∫ìÂêóÔºü ËøôÊ†∑Â≠ê‰ºöÂØºËá¥Êï∞ÊçÆÁöÑ‰∏çÂÆâÂÖ®Ôºå ÂºïÂá∫‰∫Ü‰ΩøÁî® MD5ËøõË°åÂä†ÂØÜÔºå‰ΩÜÊòØMD5Âä†ÂØÜÂêéÔºåÂà´‰∫∫‰ªªÁÑ∂ÂèØ‰ª•Êö¥ÂäõÁ†¥Ëß£ ÂèØ‰ª•‰ΩøÁî®Âä†ÁõêÁöÑÊñπÂºèÔºåÂ∞ÜÂØÜÁ†ÅÂä†ÂØÜÂêéÔºåÂæóÂà∞‰∏Ä‰∏≤ÈöèÊú∫Â≠óÁ¨¶Ôºå ÈöèÊú∫Â≠óÁ¨¶ÂíåÂØÜÁ†ÅÂíåËøõË°åÈ™åËØÅÁõ∏ÂêåÁªìÊûúËøîÂõûtrueÂê¶Âàôfalse Ëá≥Ê≠§Ê≥®ÂÜåÁõ∏ÂÖ≥ÁªìÊùü~ 10.6 Ë¥¶Âè∑ÂØÜÁ†ÅÁôªÂΩï 1„ÄÅÂÆö‰πâ Vo Êé•Êî∂Êï∞ÊçÆÊèê‰∫§ 123456789/** * @author gcq * @Create 2020-11-10 */@Datapublic class UserLoginVo { private String loginacct; private String password;} ÂêåÊó∂ÈúÄË¶Å‰øùËØÅÂâçÁ´ØÈ°µÈù¢Êèê‰∫§Â≠óÊÆµ‰∏é Vo Á±ª‰∏≠‰∏ÄËá¥ 2„ÄÅÂú® Member ÊúçÂä°‰∏≠ÁºñÂÜôÊé•Âè£ 123456789101112131415161718192021222324252627@Overridepublic MemberEntity login(MemberLoginVo vo) { String loginacct = vo.getLoginacct(); String password = vo.getPassword(); // 1„ÄÅÂéªÊï∞ÊçÆÂ∫ìÊü•ËØ¢ select * from ums_member where username=? or mobile =? MemberDao memberDao = this.baseMapper; MemberEntity memberEntity = memberDao.selectOne(new QueryWrapper&lt;MemberEntity&gt;() .eq(&quot;username&quot;, loginacct).or(). eq(&quot;mobile&quot;, loginacct)); if (memberDao == null) { // ÁôªÂΩïÂ§±Ë¥• return null; } else { // Ëé∑ÂèñÊï∞ÊçÆÂ∫ìÁöÑÂØÜÁ†Å String passwordDB = memberEntity.getPassword(); BCryptPasswordEncoder passwordEncoder = new BCryptPasswordEncoder(); // ÂíåÁî®Êà∑ÂØÜÁ†ÅËøõË°åÊ†°È™å boolean matches = passwordEncoder.matches(password, passwordDB); if(matches) { // ÂØÜÁ†ÅÈ™åËØÅÊàêÂäü ËøîÂõûÂØπË±° return memberEntity; } else { return null; } }} 11.7 ÂàÜÂ∏ÉÂºè Session‰∏çÂÖ±‰∫´‰∏çÂêåÊ≠•ÈóÆÈ¢ò Êàë‰ª¨Âú®auth.gulimall.com‰∏≠‰øùÂ≠òsessionÔºå‰ΩÜÊòØÁΩëÂùÄË∑≥ËΩ¨Âà∞ gulimall.com‰∏≠ÔºåÂèñ‰∏çÂá∫auth.gulimall.com‰∏≠‰øùÂ≠òÁöÑsessionÔºåËøôÂ∞±ÈÄ†Êàê‰∫ÜÂæÆÊúçÂä°‰∏ãÁöÑsession‰∏çÂêåÊ≠•ÈóÆÈ¢ò 1„ÄÅSessionÂêåÊ≠•Ëß£ÂÜ≥ÊñπÊ°à-ÂàÜÂ∏ÉÂºè‰∏ãsessionÂÖ±‰∫´ÈóÆÈ¢ò Âêå‰∏Ä‰∏™ÊúçÂä°Â§çÂà∂Â§ö‰∏™Ôºå‰ΩÜÊòØsessionËøòÊòØÂè™ËÉΩÂú®‰∏Ä‰∏™ÊúçÂä°‰∏ä‰øùÂ≠òÔºåÊµèËßàÂô®‰πüÊòØÂè™ËÉΩËØªÂèñÂà∞‰∏Ä‰∏™ÊúçÂä°ÁöÑsession 2„ÄÅSessionÂÖ±‰∫´ÈóÆÈ¢òËß£ÂÜ≥-sessionÂ§çÂà∂ 3„ÄÅSessionÂÖ±‰∫´ÈóÆÈ¢òËß£ÂÜ≥-ÂÆ¢Êà∑Á´ØÂ≠òÂÇ® 4„ÄÅSessionÂÖ±‰∫´ÈóÆÈ¢òËß£ÂÜ≥-hash‰∏ÄËá¥ÊÄß 5„ÄÅSessionÂÖ±‰∫´ÈóÆÈ¢òËß£ÂÜ≥-Áªü‰∏ÄÂ≠òÂÇ® 11.8 SpringSessionÊï¥Âêà 1„ÄÅÂÆòÁΩëÊñáÊ°£ ÈòÖËØª ËøõÂÖ•Âà∞ Spring Framework 2„ÄÅÈÄâÊã©Spring SessionÊñáÊ°£ 3„ÄÅÂºÄÂßã‰ΩøÁî®Spring Session 2„ÄÅÊï¥ÂêàSpringBoot 1„ÄÅÊ∑ªÂä†Pom.xml‰æùËµñ 2„ÄÅapplication.yml ÈÖçÁΩÆ 3„ÄÅreidsÈÖçÁΩÆ 4„ÄÅÂêØÂä®Á±ªÂä†‰∏ä @EnableRedisHttpSession 1@EnableRedisHttpSession // Êï¥Âêàspring session 3„ÄÅËá™ÂÆö‰πâ SpringSession ÂÆåÊàê Session Â≠êÂüüÂÖ±‰∫´ CookieSerializer apiÊñáÊ°£ÂèÇËÄÉÔºöhttps://docs.spring.io/spring-session/docs/2.4.1/reference/html5/index.html#api-cookieserializer ÊåáÂÆöredisÂ∫èÂàóÂåñ ÊñáÊ°£Âú∞ÂùÄÔºö https://docs.spring.io/spring-session/docs/2.4.1/reference/html5/index.html#api-redisindexedsessionrepository-config redis‰∏≠jsonÂ∫èÂàóÂåñ ÂÆòÁΩëÊñáÊ°£Âú∞ÂùÄÔºöhttps://docs.spring.io/spring-session/docs/2.4.1/reference/html5/index.html#samples Êèê‰æõÁöÑÂÆû‰æãÔºö https://github.com/spring-projects/spring-session/blob/2.4.1/spring-session-samples/spring-session-sample-boot-redis-json/src/main/java/sample/config/SessionConfig.java 1234567891011121314151617181920212223242526272829303132333435/** * SpringSessionÊï¥ÂêàÂ≠êÂüü * ‰ª•ÂèäredisÊï∞ÊçÆÂ≠òÂÇ®‰∏∫json * @author gcq * @Create 2020-11-11 */@Configurationpublic class GulimallSessionConfig { /** * ËÆæÁΩÆcookie‰ø°ÊÅØ * @return */ @Bean public CookieSerializer CookieSerializer(){ DefaultCookieSerializer cookieSerializer = new DefaultCookieSerializer(); // ËÆæÁΩÆ‰∏Ä‰∏™ÂüüÂêçÁöÑÂêçÂ≠ó cookieSerializer.setDomainName(&quot;gulimall.com&quot;); // cookieÁöÑË∑ØÂæÑ cookieSerializer.setCookieName(&quot;GULIMALLSESSION&quot;); return cookieSerializer; } /** * ËÆæÁΩÆjsonËΩ¨Êç¢ * @return */ @Bean public RedisSerializer&lt;Object&gt; springSessionDefaultRedisSerializer() { // ‰ΩøÁî®jacksonÊèê‰æõÁöÑËΩ¨Êç¢Âô® return new GenericJackson2JsonRedisSerializer(); }} 4„ÄÅSpringSession ÂéüÁêÜ 12345678910111213141516/** * Ê†∏ÂøÉÂéüÁêÜ * 1„ÄÅ@EnableRedisHttpSessionÂØºÂÖ•RedisHttpSessionConfigurationÈÖçÁΩÆ * 1„ÄÅÁªôÂÆπÂô®‰∏≠Ê∑ªÂä†‰∫Ü‰∏Ä‰∏™ÁªÑ‰ª∂ * sessionRepository = „Äã„Äã„Äã„ÄêRedisOperationsSessionRepository„Äë redis Êìç‰Ωú session sessionÁöÑÂ¢ûÂà†ÊîπÊü•Â∞ÅË£ÖÁ±ª * 2„ÄÅSessionRepositoryFilter==&gt;:sessionÂ≠òÂÇ®ËøáÊª§Âô®ÔºåÊØè‰∏™ËØ∑Ê±ÇËøáÊù•ÂøÖÈ°ªÁªèËøáFilter * 1„ÄÅÂàõÂª∫ÁöÑÊó∂ÂÄôÔºåÂ∞±Ëá™Âä®‰ªéÂÆπÂô®‰∏≠Ëé∑ÂèñÂà∞‰∫ÜSessionRepostiory * 2„ÄÅÂéüÂßãÁöÑrequest,responseÈÉΩË¢´ÂåÖË£Ö‰∫Ü SessionRepositoryRequestWrapper„ÄÅSessionRepositoryResponseWrapper * 3„ÄÅ‰ª•ÂêéËé∑Âèñsession.request.getSession() * SessionRepositoryResponseWrapper * 4„ÄÅwrappedRequest.getSession() ==&gt;SessionRepository * * Ë£ÖÈ•∞ËÄÖÊ®°Âºè * spring-redisÁöÑÁõ∏ÂÖ≥ÂäüËÉΩ: * ÊâßË°åsessionÁõ∏ÂÖ≥Êìç‰ΩúÂêéÔºåredisÈáåÈù¢Â≠òÂÇ®ÁöÑÊó∂Èó¥‰πü‰ºöÂà∑Êñ∞ */ Ê†∏ÂøÉÊ∫êÁ†ÅÊòØÔºö SessionRepositoryFilter Á±ª‰∏ãÈù¢ÁöÑ doFilterInternal ÊñπÊ≥ï ÂèäÈÇ£‰∏™ request„ÄÅresponse ÂåÖË£ÖÊàê SessionRepositoryRequestWrapper 11„ÄÅÂçïÁÇπÁôªÂΩïÂíåÁ§æ‰∫§ÁôªÂΩï 11.1 Á§æ‰∫§ÁôªÂΩï QQ„ÄÅÂæÆÂçöÔºågithubÁ≠âÁΩëÁ´ôÁöÑÁî®Êà∑ÈáèÈùûÂ∏∏Â§ßÔºåÂà´ÁöÑÁΩëÁ´ô‰∏∫‰∫ÜÁÆÄÂåñÁΩëÁ´ôÁöÑÁôªÈôÜÂíåÊ≥®ÂÜåÈÄªËæëÔºåÂºïÂÖ•Á§æ‰∫§ÁôªÂΩïÂäüËÉΩ Ê≠•È™§ 1„ÄÅÁî®Êà∑ÁÇπÂáª QQÊåâÈíÆ 2„ÄÅÂºïÂØºË∑≥ËΩ¨Ëøõ QQ ÊéàÊùÉÈ°µ 3„ÄÅÁî®Êà∑‰∏ªÂä®ÁÇπÂáªÊéàÊùÉÔºåË∑≥Âõû‰πãÂâçÁΩëÈ°µ 11.1.1 OAuth2.0 **OAuthÔºö**OAuthÔºàÂºÄÊîæÊéàÊùÉÔºâÊòØ‰∏Ä‰∏™ÂºÄÊîæÊ†áÂáÜÔºåÂÖÅËÆ∏Áî®Êà∑ÊéàÊùÉÁ¨¨‰∏âÊñπÁΩëÁ´ôËÆøÈóÆ‰ªñ‰ª¨Â≠òÂÇ®Âú®Âè¶Â§ñÁöÑÊúçÂä°Êèê‰æõËÄÖ‰∏äÁöÑ‰ø°ÊÅØÔºåËÄå‰∏çÈúÄË¶ÅÂ∞ÜÁî®Êà∑ÂêçÂíåÂØÜÁ†ÅÊèê‰æõÁªôÁ¨¨‰∏âÊñπÁΩëÁ´ôÊàñÂàÜ‰∫´‰ªñ‰ª¨ÁöÑÊï∞ÊçÆÁöÑÂÜÖÂÆπ **OAuth2.0Ôºö**ÂØπ‰∫éÁî®Êà∑Áõ∏ÂÖ≥ÁöÑ OpenAPIÔºà‰æãÂ¶ÇËé∑ÂèñÁî®Êà∑‰ø°ÊÅØÔºåÂä®ÊÄÅÂêåÊ≠•ÔºåÁÖßÁâáÔºåÊó•ÂøóÔºåÂàÜ‰∫´Á≠âÔºâÔºå‰∏∫‰∫Ü‰øùÂ≠òÁî®Êà∑Êï∞ÊçÆÁöÑÂÆâÂÖ®ÂíåÈöêÁßÅÔºåÁ¨¨‰∏âÊñπÁΩëÁ´ôËÆøÈóÆÁî®Êà∑Êï∞ÊçÆÂâçÈÉΩÈúÄË¶ÅÊòæÁ§∫ÂêëÁî®Êà∑ÊéàÊùÉ ÂÆòÊñπÁâàÊµÅÁ®ã ÊñáÊ°£Âú∞ÂùÄÔºö Áõ∏ÂÖ≥ÊµÅÁ®ãÂàÜÊûê 11.2 ÂæÆÂçöÁôªÂΩïÂáÜÂ§áÂ∑•‰Ωú 1„ÄÅËøõÂÖ•ÂæÆÂçöÂºÄÊîæÂπ≥Âè∞ 2„ÄÅÁôªÂΩïÂæÆÂçöÔºåËøõÂÖ•ÂæÆËøûÊé•ÔºåÈÄâÊã©ÁΩëÁ´ôÊé•ÂÖ• 3„ÄÅÈÄâÊã©Á´ãÂç≥Êé•ÂÖ• 4„ÄÅÂàõÂª∫Ëá™Â∑±ÁöÑÂ∫îÁî® 5„ÄÅÊàë‰ª¨ÂèØ‰ª•Âú®ÂºÄÂèëÈò∂ÊÆµ 6„ÄÅËøõÂÖ•È´òÁ∫ß‰ø°ÊÅØ 7„ÄÅÊ∑ªÂä†ÊµãËØïË¥¶Âè∑ 8„ÄÅËøõÂÖ•ÊñáÊ°£ 11.3 ÂæÆÂçöÁôªÂΩï‰ª£Á†ÅÂÆûÁé∞ ÁôªÈôÜÊ≥®ÂÜåÊµÅÁ®ãÂõæ Áúã‰∏çÊ∏ÖÔºåÊîæÂ§ß‰∏ÄÁÇπ ÂæÆÂçöÁôªÂΩïÊµÅÁ®ã Ê≥®ÂÜåÊµÅÁ®ã Ë¥¶Âè∑ÂØÜÁ†ÅÁôªÂΩïÊµÅÁ®ãÔºö ÊâãÊú∫È™åËØÅÁ†ÅÂèëÈÄÅÊµÅÁ®ãÔºö 11.3.1 Êü•ÁúãÂæÆÂçöÂºÄÊîæÂπ≥Âè∞ÊñáÊ°£ https://open.weibo.com/wiki/ÊéàÊùÉÊú∫Âà∂ËØ¥Êòé 11.3.2 ÁÇπÂáªÂæÆÂçöÁôªÂΩïÂêéÔºåË∑≥ËΩ¨Âà∞ÂæÆÂçöÊéàÊùÉÈ°µÈù¢ 11.3.3 Áî®Êà∑ÊéàÊùÉÂêéË∞ÉÁî®ÂõûË∞ÉÊé•Âè£ÔºåÂπ∂Â∏¶‰∏äÂèÇÊï∞codeÊç¢ÂèñAccessToken 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950/** * ÂõûË∞ÉÊé•Âè£ * @param code * @return * @throws Exception */ @GetMapping(&quot;/oauth2.0/weibo/success&quot;) public String weibo(@RequestParam(&quot;code&quot;) String code) throws Exception { // 1„ÄÅÊ†πÊçÆcodeÊç¢ÂèñaccessToken Map&lt;String, String&gt; map = new HashMap&lt;&gt;(); map.put(&quot;client_id&quot;, &quot;1133714539&quot;); map.put(&quot;client_secret&quot;, &quot;f22eb330342e7f8797a7dbe173bd9424&quot;); map.put(&quot;grant_type&quot;, &quot;authorization_code&quot;); map.put(&quot;redirect_uri&quot;, &quot;http://auth.gulimall.com/oauth2.0/weibo/success&quot;); map.put(&quot;code&quot;, code); HttpResponse response = HttpUtils.doPost(&quot;https://api.weibo.com&quot;, &quot;/oauth2/access_token&quot;, &quot;post&quot;, new HashMap&lt;&gt;(), map, new HashMap&lt;&gt;()); // Áä∂ÊÄÅÁ†Å‰∏∫200ËØ∑Ê±ÇÊàêÂäü if (response.getStatusLine().getStatusCode() == 200 ){ // Ëé∑ÂèñÂà∞‰∫ÜaccessToken String json = EntityUtils.toString(response.getEntity()); SocialUser socialUser = JSON.parseObject(json, SocialUser.class); R r = memberFeignService.OAuthlogin(socialUser); if (r.getCode() == 0) { MemberRespVo data = r.getData(&quot;data&quot;, new TypeReference&lt;MemberRespVo&gt;() { }); log.info(&quot;ÁôªÂΩïÊàêÂäü:Áî®Êà∑:{}&quot;,data.toString()); // 2„ÄÅÁôªÂΩïÊàêÂäüË∑≥ËΩ¨Âà∞È¶ñÈ°µ return &quot;redirect:http://gulimall.com&quot;; } else { // Ê≥®ÂÜåÂ§±Ë¥• return &quot;redirect:http://auth.gulimall.com/login.html&quot;; } } else { // ËØ∑Ê±ÇÂ§±Ë¥• // Ê≥®ÂÜåÂ§±Ë¥• return &quot;redirect:http://auth.gulimall.com/login.html&quot;; } // 2„ÄÅÁôªÂΩïÊàêÂäüË∑≥ËΩ¨Âà∞È¶ñÈ°µ return &quot;redirect:http://gulimall.com&quot;; } 11.3.4 ÊãøÂà∞AccessToken ËØ∑Ê±ÇÂØπÂ∫îÊé•Âè£ÊãøÂà∞‰ø°ÊÅØ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859@Overridepublic MemberEntity login(SocialUser vo) { // ÁôªÂΩïÂíåÊ≥®ÂÜåÂêàÂπ∂ÈÄªËæë String uid = vo.getUid(); MemberDao memberDao = this.baseMapper; // Ê†πÊçÆÁ§æ‰∫§Áî®Êà∑ÁöÑuuidÊü•ËØ¢ MemberEntity memberEntity = memberDao.selectOne(new QueryWrapper&lt;MemberEntity&gt;() .eq(&quot;social_uid&quot;, uid)); // ËÉΩÊü•ËØ¢Âà∞ËØ•Áî®Êà∑ if (memberEntity != null ){ // Êõ¥Êñ∞ÂØπÂ∫îÂÄº MemberEntity update = new MemberEntity(); update.setId(memberEntity.getId()); update.setAccessToken(vo.getAccess_token()); update.setExpiresIn(vo.getExpires_in()); memberDao.updateById(update); memberEntity.setAccessToken(vo.getAccess_token()); memberEntity.setExpiresIn(vo.getExpires_in()); return memberEntity; } else { // 2„ÄÅÊ≤°ÊúâÊü•ËØ¢Âà∞ÂΩìÂâçÁ§æ‰∫§Áî®Êà∑ÂØπÂ∫îÁöÑËÆ∞ÂΩïÂ∞±ÈúÄË¶ÅÊ≥®ÂÜå‰∏Ä‰∏™ MemberEntity regist = new MemberEntity(); try { Map&lt;String,String&gt; query = new HashMap&lt;&gt;(); // ËÆæÁΩÆËØ∑Ê±ÇÂèÇÊï∞ query.put(&quot;access_token&quot;,vo.getAccess_token()); query.put(&quot;uid&quot;,vo.getUid()); // ÂèëÈÄÅgetËØ∑Ê±ÇËé∑ÂèñÁ§æ‰∫§Áî®Êà∑‰ø°ÊÅØ HttpResponse response = HttpUtils.doGet(&quot;https://api.weibo.com/&quot;, &quot;2/users/show.json&quot;, &quot;get&quot;, new HashMap&lt;&gt;(), query); // Áä∂ÊÄÅÁ†Å‰∏∫200 ËØ¥ÊòéËØ∑Ê±ÇÊàêÂäü if (response.getStatusLine().getStatusCode() == 200){ // Â∞ÜËøîÂõûÁªìÊûúËΩ¨Êç¢Êàêjson String json = EntityUtils.toString(response.getEntity()); // Âà©Áî®fastjsonÂ∞ÜËØ∑Ê±ÇËøîÂõûÁöÑjsonËΩ¨Êç¢‰∏∫ÂØπË±° JSONObject jsonObject = JSON.parseObject(json); // ÊãøÂà∞ÈúÄË¶ÅÁöÑÂÄº String name = jsonObject.getString(&quot;name&quot;); String gender = jsonObject.getString(&quot;gender&quot;); //.. ÊãøÂà∞Â§ö‰∏™‰ø°ÊÅØ regist.setNickname(name); regist.setGender(&quot;m&quot;.equals(gender) ? 1 : 0); } } catch (Exception e) { e.printStackTrace(); } // ËÆæÁΩÆÁ§æ‰∫§Áî®Êà∑Áõ∏ÂÖ≥‰ø°ÊÅØ regist.setSocialUid(vo.getUid()); regist.setAccessToken(vo.getAccess_token()); regist.setExpiresIn(vo.getExpires_in()); memberDao.insert(regist); return regist; }} 11.2 SSO(ÂçïÁÇπÁôªÂΩï) 1„ÄÅ‰ªÄ‰πàÊòØSSO ÂçïÁÇπÁôªÂΩï(SingleSignOnÔºåSSO)ÔºåÂ∞±ÊòØÈÄöËøáÁî®Êà∑ÁöÑ‰∏ÄÊ¨°ÊÄßÈâ¥Âà´ÁôªÂΩï„ÄÇÂΩìÁî®Êà∑Âú®Ë∫´‰ªΩËÆ§ËØÅÊúçÂä°Âô®‰∏äÁôªÂΩï‰∏ÄÊ¨°‰ª•ÂêéÔºåÂç≥ÂèØËé∑ÂæóËÆøÈóÆÂçïÁÇπÁôªÂΩïÁ≥ªÁªü‰∏≠ÂÖ∂‰ªñÂÖ≥ËÅîÁ≥ªÁªüÂíåÂ∫îÁî®ËΩØ‰ª∂ÁöÑÊùÉÈôêÔºåÂêåÊó∂ËøôÁßçÂÆûÁé∞ÊòØ‰∏çÈúÄË¶ÅÁÆ°ÁêÜÂëòÂØπÁî®Êà∑ÁöÑÁôªÂΩïÁä∂ÊÄÅÊàñÂÖ∂‰ªñ‰ø°ÊÅØËøõË°å‰øÆÊîπÁöÑÔºåËøôÊÑèÂë≥ÁùÄÂú®Â§ö‰∏™Â∫îÁî®Á≥ªÁªü‰∏≠ÔºåÁî®Êà∑Âè™ÈúÄ‰∏ÄÊ¨°ÁôªÂΩïÂ∞±ÂèØ‰ª•ËÆøÈóÆÊâÄÊúâÁõ∏‰∫í‰ø°‰ªªÁöÑÂ∫îÁî®Á≥ªÁªü„ÄÇËøôÁßçÊñπÂºèÂáèÂ∞ë‰∫ÜÁî±ÁôªÂΩï‰∫ßÁîüÁöÑÊó∂Èó¥Ê∂àËÄóÔºåËæÖÂä©‰∫ÜÁî®Êà∑ÁÆ°ÁêÜÔºåÊòØÁõÆÂâçÊØîËæÉÊµÅË°åÁöÑ [1] 2„ÄÅÂâçÁΩÆÁü•ËØÜ https://gitee.com/xuxueli0323/xxl-sso 3„ÄÅÂêåÂüü‰∏ãÁöÑÂçïÁÇπÁôªÂΩï 4„ÄÅ‰∏çÂêåÂüü‰∏ãÁöÑÂçïÁÇπÁôªÂΩï 5„ÄÅÂçïÁÇπÁôªÂΩïÊ°ÜÊû∂ &amp; ÂéüÁêÜÊºîÁ§∫ XXL-SSO ÊòØ‰∏Ä‰∏™ÂàÜÂ∏ÉÂºèÂçïÁÇπÁôªÂΩïÊ°ÜÊû∂„ÄÇÂè™ÈúÄË¶ÅÁôªÂΩï‰∏ÄÊ¨°Â∞±ÂèØ‰ª•ËÆøÈóÆÊâÄÊúâÁõ∏‰∫í‰ø°‰ªªÁöÑÂ∫îÁî®Á≥ªÁªü„ÄÇ Êã•Êúâ&quot;ËΩªÈáèÁ∫ß„ÄÅÂàÜÂ∏ÉÂºè„ÄÅË∑®Âüü„ÄÅCookie+TokenÂùáÊîØÊåÅ„ÄÅWeb+APPÂùáÊîØÊåÅ&quot;Á≠âÁâπÊÄß„ÄÇÁé∞Â∑≤ÂºÄÊîæÊ∫ê‰ª£Á†ÅÔºåÂºÄÁÆ±Âç≥Áî®„ÄÇ È¶ñÂÖàÂØπÊï¥‰∏™È°πÁõÆËøõË°åÔºömvn clean package -Dmaven.skip.test=true xxl-sso-server: 8080/xxl-sso-server ÁºñÊéíÔºö ssoserver.com ÁôªÈôÜÈ™åËØÅÊúçÂä°Âô® client1.com ÂÆ¢Êà∑Á´Ø1 client2.com ÂÆ¢Êà∑Á´Ø2 ÂÖàÂêØÂä®xxl-sso-server ÁÑ∂ÂêéÂêØÂä®client1 Âè™Ë¶Å client1 ÁôªÂΩïÊàêÂäü client2 Â∞±‰∏çÁî®ËøõË°åÁôªÂΩïÁõ¥Êé•ÁôªÂΩïÊàêÂäü ‰ª£Á†ÅÊµãËØï: sso-client 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354/** * @author gcq * @Create 2020-11-12 */@Controllerpublic class HelloController { @Value(&quot;${sso.server.url}&quot;) private String ssoServerUrl; /** * Êó†ÈúÄÁôªÂΩïÂ∞±ÂèØ‰ª•ËÆøÈóÆ * @return */ @ResponseBody @RequestMapping(&quot;/hello&quot;) public String hello() { return &quot;hello&quot;; } /** * ÈúÄË¶ÅÈ™åËØÅÁöÑËøûÊé• * @param model * @param token Âè™Ë¶ÅÊòØssoserverÁôªÈôÜÊàêÂäüÂõûÊù•Â∞±‰ºöÂ∏¶‰∏ä * @return */ @GetMapping(&quot;/employees&quot;) public String employees(Model model, HttpSession session, @RequestParam(value=&quot;token&quot;,required = false) String token) { if (!StringUtils.isEmpty(token)) { // ÂéªssoserverÁôªÂΩïÊàêÂäüË∞ÉÂõûÊù•Â∞±‰ºöÂ∏¶‰∏ä //TODO 1„ÄÅÂéªssoserverËé∑ÂèñÂΩìÂâçtokenÁúüÊ≠£ÂØπÂ∫îÁöÑÁî®Êà∑‰ø°ÊÅØ RestTemplate restTemplate = new RestTemplate(); // ‰ΩøÁî®restTemplateËøõË°åËøúÁ®ãËØ∑Ê±Ç ResponseEntity&lt;String&gt; forEntity = restTemplate.getForEntity(&quot;http://ssoserver.com:8080/userInfo?token=&quot; + token, String.class); // ÊãøÂà∞Êï∞ÊçÆ String body = forEntity.getBody(); // ËÆæÁΩÆÂà∞session‰∏≠ session.setAttribute(&quot;loginUser&quot;,body); } Object loginUser = session.getAttribute(&quot;loginUser&quot;); if (loginUser == null ){ // Ê≤°ÊúâÁôªÂΩïÈáçÂÆöÂêëÂà∞ÁôªÈôÜÈ°µÈù¢ÔºåÂπ∂Â∏¶‰∏äÂΩìÂâçÂú∞ÂùÄ return &quot;redirect:&quot; + ssoServerUrl + &quot;?redirect_url=http://client1.com:8081/employees&quot;; } else { List&lt;String&gt; emps = new ArrayList&lt;&gt;(); emps.add(&quot;Âº†‰∏â&quot;); emps.add(&quot;ÊùéÂõõ&quot;); model.addAttribute(&quot;emps&quot;,emps); return &quot;list&quot;; } }} sso-server 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162/** * @author gcq * @Create 2020-11-12 */@Controllerpublic class LoginController { @Autowired StringRedisTemplate redisTemplate; /** * Ê†πÊçÆtoken‰ªéredis‰∏≠Êü•ËØ¢Áî®Êà∑‰ø°ÊÅØ * @param token * @return */ @ResponseBody @GetMapping(&quot;/userInfo&quot;) public String userInfo(@RequestParam(&quot;token&quot;) String token) { String s = redisTemplate.opsForValue().get(token); return s; } @GetMapping(&quot;login.html&quot;) public String login(@RequestParam(&quot;redirect_url&quot;) String url, Model model, @CookieValue(value = &quot;sso_token&quot;,required = false)String sso_token) { if (!StringUtils.isEmpty(sso_token)) { //ËØ¥ÊòéÊúâ‰∫∫‰πãÂâçÁôªÂΩïËøáÔºåÁªôÊµèËßàÂô®Áïô‰∏ã‰∫ÜÁóïËøπ return &quot;redirect:&quot; + url + &quot;?token=&quot; + sso_token; } // Ê∑ªÂä†urlÂà∞modelÂú∞ÂùÄ‰∏≠ÔºåÂú®ÂâçÁ´ØÈ°µÈù¢ËøõË°åÂèñÂá∫ model.addAttribute(&quot;url&quot;,url); return &quot;login&quot;; } /** * ÁôªÂΩï * @param username * @param password * @param url clientÁ´ØÂ∏¶ËøáÊù•ÁöÑÂú∞ÂùÄ * @return */ @PostMapping(&quot;/doLogin&quot;) public String doLogin(@RequestParam(&quot;username&quot;) String username, @RequestParam(&quot;password&quot;) String password, @RequestParam(&quot;url&quot;) String url, HttpServletResponse response){ // Ë¥¶Âè∑ÂØÜÁ†Å‰∏ç‰∏∫Á©∫ if (!StringUtils.isEmpty(username) &amp;&amp; !StringUtils.isEmpty(password)) { // ÁôªÈôÜÊàêÂäü // ÊääÁôªÂΩïÊàêÂäüÁöÑÁî®Êà∑Â≠òËµ∑Êù• String uuid = UUID.randomUUID().toString().replace(&quot;-&quot;,&quot;&quot;); redisTemplate.opsForValue().set(uuid,username); // Â∞ÜuuidÂ≠òÂÖ•cookie Cookie token = new Cookie(&quot;sso_token&quot;,uuid); response.addCookie(token); // ‰øùÂ≠òÂà∞cookie return &quot;redirect:&quot; + url + &quot;?token=&quot; + uuid; } // ÁôªÂΩïÂ§±Ë¥•ÔºåÂ±ïÁ§∫ÁôªÂΩïÈ°µ return &quot;login&quot;; }} 6„ÄÅ‰ΩøÁî® jwt 11.3 JWT 12„ÄÅË¥≠Áâ©ËΩ¶ 12.1 Ë¥≠Áâ©ËΩ¶ÈúÄÊ±Ç 1„ÄÅÈúÄÊ±ÇÊèèËø∞Ôºö Áî®Êà∑ÂèØ‰ª•Âú®ÁôªÂΩïÁä∂ÊÄÅ‰∏ãÂ∞ÜÂïÜÂìÅÊ∑ªÂä†Âà∞Ë¥≠Áâ©ËΩ¶**„ÄêÁôªÂΩïË¥≠Áâ©ËΩ¶/Âú®Á∫øË¥≠Áâ©ËΩ¶„Äë** ÊîæÂÖ•Êï∞ÊçÆÂ∫ì mongodb ÊîæÂÖ• redisÔºàÈááÁî®Ôºâ Áî®Êà∑ÂèØ‰ª•Âú®Êú™ÁôªÂΩïÁä∂ÊÄÅ‰∏ãÂ∞ÜÂïÜÂìÅÊ∑ªÂä†Âà∞Ë¥≠Áâ©ËΩ¶**„ÄêÊ∏∏ÂÆ¢Ë¥≠Áâ©ËΩ¶/Á¶ªÁ∫øË¥≠Áâ©ËΩ¶„Äë** ÊîæÂÖ• localstorage cookie WebSQL ÊîæÂÖ• redis (ÈááÁî®) Áî®Êà∑ÂèØ‰ª•‰ΩøÁî®Ë¥≠Áâ©ËΩ¶‰∏ÄËµ∑ÁªìÁÆó‰∏ãÂçï Áî®Êà∑ÂèØ‰ª•Êü•ËØ¢Ëá™Â∑±ÁöÑË¥≠Áâ©ËΩ¶ Áî®Êà∑ÂèØ‰ª•Âú®Ë¥≠Áâ©‰∏≠‰øÆÊîπË¥≠‰π∞ÂïÜÂìÅÁöÑÊï∞Èáè Áî®Êà∑ÂèØ‰ª•Âú®Ë¥≠Áâ©ËΩ¶‰∏≠Âà†Èô§ÂïÜÂìÅ ÈÄâ‰∏≠‰∏çÈÄâ‰∏≠ÂïÜÂìÅ Âú®Ë¥≠Áâ©ËΩ¶‰∏≠Â±ïÁ§∫ÂïÜÂìÅ‰ºòÊÉ†‰ø°ÊÅØ ÊèêÁ§∫Ë¥≠Áâ©ËΩ¶ÂïÜÂìÅ‰ª∑Ê†ºÂèòÂåñ Ë¥≠Áâ©ËΩ¶Êï∞ÊçÆÁªìÊûÑ ÊØè‰∏Ä‰∏™Ë¥≠Áâ©È°π‰ø°ÊÅØÔºåÈÉΩÊòØ‰∏Ä‰∏™ÂØπË±°ÔºåÂü∫Êú¨Â≠óÊÆµÂåÖÊã¨ 12345678skuId:123123, // ÂïÜÂìÅidcheck:true, // ÊòØÂê¶ÈÄâ‰∏≠title:&quot;apple phone&quot;, // ÂïÜÂìÅÊ†áÈ¢òdefaultImage:'', // ÂïÜÂìÅÈªòËÆ§ÊòæÁ§∫ÁöÑÂõæÁâáprice:4999, // ÂïÜÂìÅ‰ª∑Ê†ºcount:1, // ÂïÜÂìÅÊï∞ÈáètotalPrice:4999 // Ë¥≠Áâ©ËΩ¶‰∏≠ÈÄâ‰∏≠ÂïÜÂìÅÊÄª‰ª∑Ê†ºskuSaleVo:{} // „ÄÇ„ÄÇ„ÄÇ„ÄÇ Âè¶Â§ñÔºåË¥≠Áâ©ËΩ¶‰∏≠‰∏çÊ≠¢‰∏ÄÊù°Êï∞ÊçÆÔºåÂõ†Ê≠§ÊúÄÁªà‰ºöÊòØÂØπË±°ÁöÑÊï∞ÁªÑ 1{...},{....},{....} RedisÊúâ5Áßç‰∏çÂêåÊï∞ÊçÆÁªìÊûÑÔºåËøôÈáåÈÄâÊã©Âì™‰∏ÄÁßç ÊØîËæÉÂêàÈÄÇÂë¢? Map&lt;String, List&gt; È¶ñÂÖà‰∏çÂêåÁî®Êà∑Â∫îËØ•ÊúâÁã¨Á´ãÁöÑË¥≠Áâ©ËΩ¶„ÄÇ Âõ†Ê≠§Ë¥≠Áâ©ËΩ¶Â∫îËØ•‰ª•Áî®Êà∑ÁöÑ‰Ωú‰∏∫keyÊù•Â≠òÂÇ®ÔºåValueÊòØÁî®Êà∑ÁöÑÊâÄÊúâË¥≠Áâ©ËΩ¶‰ø°ÊÅØ„ÄÇËøôÊ†∑ÁúãÊù•Âü∫Êú¨ÁöÑ k-v ÁªìÊûÑÂ∞±ÂèØ‰ª•‰∫Ü„ÄÇ ‰ΩÜÊòØÔºåÊàë‰ª¨ÂØπË¥≠Áâ©ËΩ¶‰∏≠ÁöÑÂïÜÂìÅËøõË°åÂ¢û„ÄÅÂà†„ÄÅÊîπÊìç‰ΩúÔºåÂü∫Êú¨ÈÉΩÈúÄË¶ÅÊ†πÊçÆÂïÜÂìÅidËøõË°åÂà§Êñ≠Ôºå‰∏∫‰∫ÜÊñπ‰æøÂêéÊúüÂ§ÑÁêÜÔºåÊàë‰ª¨ÁöÑË¥≠Áâ©ËΩ¶‰πüÂ∫îËØ•ÊòØ k-v ÁªìÊûÑÔºåkey ÊòØÂïÜÂìÅ id, value ÊâçÊòØËøô‰∏™ÂïÜÂìÅÁöÑË¥≠Áâ©ËΩ¶‰ø°ÊÅØ„ÄÇ Áªº‰∏äÊâÄËø∞ÔºåÊàë‰ª¨ÁöÑË¥≠Áâ©ËΩ¶ÁªìÊûÑÊòØ‰∏Ä‰∏Ä‰∏™ÂèåÂ±ÇMap: Map&lt;String,Map&lt;String,String&gt;&gt;ÔºåÂú®redis‰∏≠Á±ªÂûã‰∏∫ hash Â§ñÂ§¥keyÂ∞±ÊòØÁî®Êà∑ÁöÑid,ÈáåÈù¢ÁöÑkeyÂ∞±ÊòØskuid redis‰∏≠Ôºö Êñ∞Â¢ûÂïÜÂìÅÔºöhset gulimall:cart:7 (key)334488[ÂïÜÂìÅskuid] (value)ÂïÜÂìÅÁöÑ‰ø°ÊÅØ Â¢ûÂä†ÂïÜÂìÅÊï∞ÈáèÔºöhincrby shopcar:uuid1024 334477 1 ÂïÜÂìÅÊÄªÊï∞Ôºöhlen shopcar:uuid ÂÖ®ÈÉ®ÈÄâÊã©Ôºöhgetall shopcar:uuid1024 12.2 VoÁºñÂÜô &amp; ThreadLocalË∫´‰ªΩÈ™åËØÅ 12.2.1 Vo ÁºñÂÜô Ë¥≠Áâ©ËΩ¶ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859/** * Êï¥‰∏™Ë¥≠Áâ©ËΩ¶ * ÈúÄË¶ÅËÆ°ÁÆóÁöÑÂ±ûÊÄßÔºåÂøÖÈ°ªÈáçÂÜô‰ªñÁöÑgetÊñπÊ≥ïÔºå‰øùËØÅÊØèÊ¨°Ëé∑ÂèñÂ±ûÊÄßÈÉΩ‰ºöËøõË°åËÆ°ÁÆó * @author gcq * @Create 2020-11-13 */public class Cart { /** * ÂïÜÂìÅÈ°π */ List&lt;CartItem&gt; items; /** * ÂïÜÂìÅÊï∞Èáè */ private Integer countNum; /** * ÂïÜÂìÅÁ±ªÂûãÊï∞Èáè */ private Integer countType; /** * ÂïÜÂìÅÊÄª‰ª∑ */ private BigDecimal totalAmount; /** * ÂáèÂÖç‰ª∑Ê†º */ private BigDecimal reduce = new BigDecimal(&quot;0&quot;);; public Integer getCountType() { int count = 0; if (items !=null &amp;&amp; items.size() &gt; 0) { for (CartItem item : items) { count+=1; } } return count; } public BigDecimal getTotalAmount() { BigDecimal amount = new BigDecimal(&quot;0&quot;); // 1„ÄÅËÆ°ÁÆóË¥≠Áâ©È°πÊÄª‰ª∑ if (items != null &amp;&amp; items.size() &gt; 0) { for (CartItem item : items) { // ÊãøÂà∞Ë¥≠Áâ©ËΩ¶‰∏≠Âçï‰∏™ÂïÜÂìÅÁöÑÊÄªÈáëÈ¢ù BigDecimal totalPrice = item.getTotalPrice(); // Ê∑ªÂä†Âà∞Ë¥≠Áâ©ÊÄª‰ª∑‰∏≠ amount = amount.add(totalPrice); } } // 2„ÄÅÂáèÂéª‰ºòÊÉ†ÊÄª‰ª∑ BigDecimal subtract = amount.subtract(getReduce()); return subtract; } } Ë¥≠Áâ©ËΩ¶‰∏≠ÁöÑÂÆû‰Ωì 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849/** * Ë¥≠Áâ©È°π * @author gcq * @Create 2020-11-13 */public class CartItem { /** * ÂïÜÂìÅid */ private Long skuId; /** * Ë¥≠Áâ©ËΩ¶‰∏≠ÊòØÂê¶ÈÄâ‰∏≠ */ private Boolean check = true; /** * ÂïÜÂìÅÁöÑÊ†áÈ¢ò */ private String title; /** * ÂïÜÂìÅÁöÑÂõæÁâá */ private String image; /** * ÂïÜÂìÅÁöÑÂ±ûÊÄß */ private List&lt;String&gt; skuAttr; /** * ÂïÜÂìÅÁöÑ‰ª∑Ê†º */ private BigDecimal price; /** * ÂïÜÂìÅÁöÑÊï∞Èáè */ private Integer count; /** * Ë¥≠Áâ©ËΩ¶‰ª∑Ê†º ‰ΩøÁî®Ëá™ÂÆö‰πâget„ÄÅset */ private BigDecimal totalPrice; /** * ËÆ°ÁÆóË¥≠Áâ©È°π‰ª∑Ê†º * @return */ public BigDecimal getTotalPrice() { //‰ª∑Ê†º‰πò‰ª•Êï∞Èáè return this.price.multiply(new BigDecimal(&quot;&quot; + this.count)); } 12.2.3 ThreadLocal Ë∫´‰ªΩÈ™åËØÅ ÈúÄÊ±ÇÂàÜÊûêÔºö 12345678910/** * ÊµèËßàÂô®Êúâ‰∏Ä‰∏™cookieÔºöuser-key,Ê†áËØÜÁî®Êà∑Ë∫´‰ªΩÔºå‰∏Ä‰∏™ÊúàÂêéËøáÊúü * Â¶ÇÊûúÁ¨¨‰∏ÄÊ¨°‰ΩøÁî®jdÁöÑË¥≠Áâ©ËΩ¶ÂäüËÉΩÔºåÈÉΩ‰ºöÁªô‰∏Ä‰∏™‰∏¥Êó∂ÁöÑÁî®Êà∑Ë∫´‰ªΩ * ÊµèËßàÂô®‰ª•Âêé‰øùÂ≠òÔºåÊØèÊ¨°ËÆøÈóÆÈÉΩ‰ºöÂ∏¶‰∏äËøô‰∏™cookie * * ÁôªÂΩï session Êúâ * Ê≤°ÁôªÂΩïÔºåÊåâÁÖßcookie‰∏≠ÁöÑuser-keyÊù•ÂÅö * Á¨¨‰∏ÄÊ¨°ÔºöÂ¶ÇÊûúÊ≤°Êúâ‰∏¥Êó∂Áî®Êà∑ÔºåÂ∏ÆÂøôÂàõÂª∫‰∏Ä‰∏™‰∏¥Êó∂Áî®Êà∑ --&gt; ‰ΩøÁî®Êã¶Êà™Âô® * @return */ ‰ª£Á†Å 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071** * Âú®ÊâßË°åÁõÆÊ†áÊñπÊ≥ï‰πãÂâç,Âà§Êñ≠Áî®Êà∑ÁöÑÁôªÂΩïÁä∂ÊÄÅÔºåÂπ∂Â∞ÅË£ÖÁªôControllerÁõÆÊ†áËØ∑Ê±Ç * @author gcq * @Create 2020-11-13 */public class CartInterceptor implements HandlerInterceptor { public static ThreadLocal&lt;UserInfo&gt; threadLocal = new ThreadLocal&lt;&gt;(); /** * ÁõÆÊ†áÊñπÊ≥ïÊâßË°å‰πãÂâç * @param request * @param response * @param handler * @return * @throws Exception */ @Override public boolean preHandle(HttpServletRequest request, HttpServletResponse response, Object handler) throws Exception { UserInfo userInfo = new UserInfo(); // ÊãøÂà∞session HttpSession session = request.getSession(); // Êü•Áúãsession‰∏≠ÊòØÂê¶‰øùÂ≠ò‰∫ÜÁî®Êà∑ÁöÑÂÄº MemberRespVo member = (MemberRespVo) session.getAttribute(AuthServerConstant.LOGIN_USER); if (member != null) { // Áî®Êà∑ÁôªÂΩï userInfo.setUserId(member.getId()); } Cookie[] cookies = request.getCookies(); if (cookies != null &amp;&amp; cookies.length &gt; 0) { for (Cookie cookie : cookies) { String name = cookie.getName(); // ÊãøÂà∞cookieÂêçÂ≠óËøõË°åÂà§Êñ≠Â¶ÇÊûúÂåÖÂê´ user-key Â∞±Â§çÂà∂Âà∞userInfo‰∏≠ if (name.equals(CartConstant.TEMP_USER_COOKIE_NAME)) { userInfo.setUserKey(cookie.getValue()); userInfo.setTempUser(true); } } } // Â¶ÇÊûúÊ≤°Êúâ‰∏¥Êó∂Áî®Êà∑‰∏ÄÂÆöË¶ÅÂàÜÈÖç‰∏Ä‰∏™‰∏¥Êó∂Áî®Êà∑ if (StringUtils.isEmpty(userInfo.getUserKey())) { String uuid = UUID.randomUUID().toString(); userInfo.setUserKey(uuid); } // ÂÖ®ÈÉ®ÊîæË°å threadLocal.set(userInfo); return true; } /** * ‰∏öÂä°ÊâßË°å‰πãÂêé,ÂàÜÈÖç‰∏¥Êó∂Áî®Êà∑ÔºåËÆ©ÊµèËßàÂô®‰øùÂ≠ò * @param request * @param response * @param handler * @param modelAndView * @throws Exception */ @Override public void postHandle(HttpServletRequest request, HttpServletResponse response, Object handler, ModelAndView modelAndView) throws Exception { // ÊãøÂà∞Áî®Êà∑‰ø°ÊÅØ UserInfo userInfo = threadLocal.get(); // Â¶ÇÊûúÊ≤°Êúâ‰∏¥Êó∂Áî®Êà∑‰∏ÄÂÆöË¶Å‰øùÂ≠ò‰∏Ä‰∏™‰∏¥Êó∂Áî®Êà∑ if (!userInfo.isTempUser()) { // ÊåÅÁª≠ÁöÑÂª∂Èïø‰∏¥Êó∂Áî®Êà∑ÁöÑËøáÊúüÊó∂Èó¥ Cookie cookie = new Cookie(CartConstant.TEMP_USER_COOKIE_NAME, userInfo.getUserKey()); cookie.setDomain(&quot;gulimall.com&quot;); cookie.setMaxAge(CartConstant.TEMP_USER_COOKIE_TIMEOUT); response.addCookie(cookie); } }} 12.3 Ê∑ªÂä†Ë¥≠Áâ©ËΩ¶ Âú®È°µÈù¢ÁÇπÂáªÂä†ÂÖ•Ë¥≠Áâ©ËΩ¶ÂêéÂ∞ÜÂïÜÂìÅÊ∑ªÂä†ËøõË¥≠Áâ©ËΩ¶ ÈúÄÊ±ÇÂàÜÊûêÔºö È¶ñÂÖàÈúÄË¶ÅÂú®È°µÈù¢ÊãøÂà∞Ë¶ÅÊèê‰∫§ÁöÑÂèÇÊï∞ÔºåskuidÔºåË¥≠‰π∞Êï∞ÈáèÔºåÂπ∂Êèê‰∫§ÂêéÂè∞ÂÆåÊàêË¥≠Áâ©ËΩ¶Êï∞ÊçÆÊ∑ªÂä† ÂêéÁ´ØÂ¶Ç‰ΩïÂ§ÑÁêÜËøô‰∏™Êï∞ÊçÆÔºü ÈÄöËøá skuid ËøúÁ®ãÊü•ËØ¢Ëøô‰∏™ÂïÜÂìÅÁöÑ‰ø°ÊÅØ ËøúÁ®ãÊü•ËØ¢skuÁªÑÂêàÁöÑ‰ø°ÊÅØ Â¶ÇÊûúË¥≠Áâ©ËΩ¶‰∏≠Â∑≤ÁªèÊúâËØ•Êï∞ÊçÆÂ¶Ç‰ΩïËøõË°åÊèê‰∫§Ôºü Â¶ÇÊûúÊúâËØ•Êï∞ÊçÆÔºåÈÇ£‰πàÂ∞±Ë°åÊõ¥ÊîπÔºåÊ†πÊçÆ skuid ‰ªé reids ‰∏≠ÂèñÂá∫Êï∞ÊçÆ Â∞ÜÊï∞ÊçÆËΩ¨Êç¢ÊàêÂØπË±°ÁÑ∂ÂêéÂä†‰∏äÂØπÂ∫îÁöÑÊï∞ÈáèÔºåÂÜçÊ¨°ËΩ¨Êç¢‰∏∫jsonÂ≠òÂÖ•redis ÂâçÁ´ØÈ°µÈù¢È¢ëÁπÅÊ∑ªÂä†Ë¥≠Áâ©ËΩ¶Â¶Ç‰ΩïËß£ÂÜ≥Ôºü ËØ∑Ê±ÇÂèëÈÄÅËøáÊù•ÂêéÊàë‰ª¨ÈáçÂÆöÂêëÂà∞ÂÖ∂‰ªñÁöÑÈ°µÈù¢Áî®Êù•ÊòæÁ§∫Êï∞ÊçÆÔºåËøôÊó∂ÂÄôÁî®Êà∑Âà∑Êñ∞ÁöÑËØù‰πüÊòØÂú®ÂÖ∂‰ªñÈ°µÈù¢ËøõË°åÂà∑Êñ∞ 1234567891011/** * Âä†ÂÖ•Âà∞Ë¥≠Áâ©ËΩ¶ */ $(&quot;#addToCartA&quot;).click(function() { // Ë¥≠‰π∞ÁöÑÊï∞Èáè var num = $(&quot;#numInput&quot;).val(); // skuid var skuid = $(this).attr(&quot;skuId&quot;); location.href=&quot;http://cart.gulimall.com/addToCart?skuId=&quot; + skuid + &quot;&amp;num=&quot; + num; return false }) ËØ∑Ê±ÇÂèëÈÄÅÂà∞ControllerÂêé 1234567891011@GetMapping(&quot;/addToCart&quot;)public String addToCart(@RequestParam(&quot;skuId&quot;) Long skuId, @RequestParam(&quot;num&quot;) Integer num, RedirectAttributes res) throws ExecutionException, InterruptedException { cartService.addToCart(skuId,num); //Â∞ÜÊï∞ÊçÆÊãºÊé•Âà∞urlÂêéÈù¢ res.addAttribute(&quot;skuId&quot;,skuId); // ÈáçÂÆöÂêëÂà∞ÂØπÂ∫îÁöÑÂú∞ÂùÄ return &quot;redirect:http://cart.gulimall.com/addToCartSuccess.html&quot;;} Service 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455/** * ÁªôË¥≠Áâ©ËΩ¶ÈáåÈù¢Ê∑ªÂä†ÂïÜÂìÅ * @param skuId ÂïÜÂìÅid * @param num Êï∞Èáè * @throws ExecutionException * @throws InterruptedException * Â¶ÇÊûúËøúÁ®ãÊü•ËØ¢ÊØîËæÉÊÖ¢ÔºåÊØîÂ¶ÇÊñπÊ≥ïÂΩì‰∏≠ÊúâÂ•ΩÂá†‰∏™ËøúÁ®ãÊü•ËØ¢ÔºåÈÉΩË¶ÅÂ•ΩÂá†Áßí‰ª•‰∏äÔºåÁ≠âÊï¥‰∏™ÊñπÊ≥ïËøîÂõûÂ∞±ÈúÄË¶ÅÂæà‰πÖÔºåËøôÂùó‰Ω†ÊòØÊÄé‰πàÂ§ÑÁêÜÁöÑ? * 1„ÄÅ‰∏∫‰∫ÜÊèê‰∫§ËøúÁ®ãÊü•ËØ¢ÁöÑÊïàÁéáÔºåÂèØ‰ª•‰ΩøÁî®Á∫øÁ®ãÊ±†ÁöÑÊñπÂºèÔºåÂºÇÊ≠•ËøõË°åËØ∑Ê±Ç * 2„ÄÅË¶ÅÂÅöÁöÑÊìç‰ΩúÂ∞±ÊòØÂ∞ÜÊâÄÊúâÁöÑÁ∫øÁ®ãÂÖ®ÈÉ®ÊîæÂà∞Ëá™Â∑±ÊâãÂÜôÁöÑÁ∫øÁ®ãÊ±†ÈáåÈù¢ * 3„ÄÅÊØè‰∏Ä‰∏™ÊúçÂä°ÈÉΩÈúÄË¶ÅÈÖçÁΩÆ‰∏Ä‰∏™Ëá™Â∑±ÁöÑÁ∫øÁ®ãÊ±† * 4„ÄÅÂÆåÂÖ®‰ΩøÁî®Á∫øÁ®ãÊ±†Êù•ÊéßÂà∂ÊâÄÊúâÁöÑËØ∑Ê±Ç */@Overridepublic void addToCart(Long skuId, Integer num) throws ExecutionException, InterruptedException { // Ëé∑ÂèñÂà∞Ë¶ÅÊìç‰ΩúÁöÑË¥≠Áâ©ËΩ¶ BoundHashOperations&lt;String, Object, Object&gt; cartOps = getCartOps(); // 1„ÄÅÂ¶ÇÊûúË¥≠Áâ©ËΩ¶‰∏≠Â∑≤ÊúâËØ•ÂïÜÂìÅÈÇ£‰πàÈúÄË¶ÅÂÅöÁöÑÂ∞±ÊòØ‰øÆÊîπÂïÜÂìÅÁöÑÊï∞ÈáèÔºåÂ¶ÇÊûúÊ≤°ÊúâËØ•ÂïÜÂìÅÈúÄË¶ÅËøõË°åÊ∑ªÂä†ËØ•ÂïÜÂìÅÂà∞Ë¥≠Áâ©ËΩ¶‰∏≠ String result = (String) cartOps.get(skuId.toString()); // ÂïÜÂìÅid‰Ωú‰∏∫ÈîÆÔºåÂÖàÂéªRedisÈáåÈù¢Êü•ÁúãÊúâÊ≤°ÊúâËøô‰∏™Áõ∏ÂêåÁöÑÂïÜÂìÅ if (StringUtils.isEmpty(result)) { // Â¶ÇÊûúËøîÂõû‰∏∫Á©∫ÔºåÈÇ£‰πàËØ¥ÊòéË¥≠Áâ©ËΩ¶‰∏≠Ê≤°ÊúâËøô‰∏™ÂïÜÂìÅÔºåÈÇ£Â∞±Ë¶ÅÊâßË°åÊ∑ªÂä† // 2„ÄÅÊ∑ªÂä†ÂïÜÂìÅÂà∞Ë¥≠Áâ©ËΩ¶ // Á¨¨‰∏Ä‰∏™ÂºÇÊ≠•‰ªªÂä°,Êü•ËØ¢ÂΩìÂâçÂïÜÂìÅ‰ø°ÊÅØ CartItem cartItem = new CartItem(); // Ë¥≠Áâ©ËΩ¶‰∏≠ÊØè‰∏Ä‰∏™ÈÉΩÊòØ‰∏Ä‰∏™Ë¥≠Áâ©È°πÔºåÂ∞ÅË£ÖË¥≠Áâ©ËΩ¶ÁöÑÂÜÖÂÆπ CompletableFuture&lt;Void&gt; completableFutureSkuInfo = CompletableFuture.runAsync(() -&gt; { // 2.1„ÄÅËøúÁ®ãÊü•ËØ¢Âá∫ÂΩìÂâçË¶ÅÊ∑ªÂä†ÁöÑÂïÜÂìÅ‰ø°ÊÅØ // Ê∑ªÂä†Âì™‰∏™ÂïÜÂìÅÂà∞Ë¥≠Áâ©ËΩ¶ÔºåÂÖàÊü•ËØ¢Âà∞Ëøô‰∏™ÂïÜÂìÅÁöÑ‰ø°ÊÅØ R r = productFeignService.getSkuInfo(skuId); // Ëé∑ÂèñËøúÁ®ãËøîÂõûÁöÑÊï∞ÊçÆÔºåËøúÁ®ãÊï∞ÊçÆÈÉΩÂ∞ÅË£ÖÂú®skuInfo‰∏≠ SkuInfoVo skuInfo = r.getData(&quot;skuInfo&quot;, new TypeReference&lt;SkuInfoVo&gt;() { }); cartItem.setCheck(true); // Ê∑ªÂä†ÂïÜÂìÅÂà∞Ë¥≠Áâ©ËΩ¶ÔºåÈÇ£‰πàËøô‰∏™ÂïÜÂìÅ‰∏ÄÂÆöÊòØÈÄâ‰∏≠ÁöÑ cartItem.setSkuId(skuInfo.getSkuId()); // Êü•ËØ¢ÁöÑÊòØÂì™‰∏™ÂïÜÂìÅÁöÑidÔºåÈÇ£‰πàËøô‰∏™ÂïÜÂìÅidÂ∞±ÊòØÂì™‰∏™ cartItem.setImage(skuInfo.getSkuDefaultImg()); // ÂΩìÂâçÂïÜÂìÅÁöÑÂõæÁâá‰ø°ÊÅØ cartItem.setPrice(skuInfo.getPrice()); // ÂΩìÂâçÂïÜÂìÅÁöÑ‰ª∑Ê†º cartItem.setTitle(skuInfo.getSkuTitle()); // ÂΩìÂâçÂïÜÂìÅÁöÑÊ†áÈ¢ò cartItem.setCount(num); // ÂΩìÂâçÂïÜÂìÅÊ∑ªÂä†ÁöÑÊï∞Èáè }, executor); // 3„ÄÅÁ¨¨‰∫å‰∏™ÂºÇÊ≠•‰ªªÂä°ÔºåËøúÁ®ãÊü•ËØ¢skuÁªÑÂêà‰ø°ÊÅØ CompletableFuture&lt;Void&gt; completableFutureSkuAttr = CompletableFuture.runAsync(() -&gt; { List&lt;String&gt; skuSaleAttrValues = productFeignService.getSkuSaleAttrValues(skuId); // Ê†πÊçÆskuidÊù•Êü• cartItem.setSkuAttr(skuSaleAttrValues); // ËøúÁ®ãÊü•ËØ¢Âá∫Êù•Âà∞skuÁªÑÂêà‰ø°ÊÅØÔºåÈúÄË¶ÅÂú®Ë¥≠Áâ©ËΩ¶‰∏≠ËøõË°åÊòæÁ§∫ }, executor); // 4„ÄÅ‰∏§‰∏™ÂºÇÊ≠•‰ªªÂä°ÈÉΩÂÆåÊàêÔºåÊâçËÉΩÊääÊï∞ÊçÆÊîæÂà∞redis‰∏≠ CompletableFuture.allOf(completableFutureSkuInfo,completableFutureSkuAttr).get(); // ÊääË¥≠Áâ©È°πÁöÑÊï∞ÊçÆ‰øùÂ≠òredis‰∏≠ String cartItemJson = JSON.toJSONString(cartItem); cartOps.put(skuId.toString(),cartItemJson); // Ê∑ªÂä†ÂïÜÂìÅÂà∞Ë¥≠Áâ©ËΩ¶‰∏≠ } else { // Â¶ÇÊûúË¥≠Áâ©ËΩ¶‰∏≠ÊúâËøô‰∏™ÂïÜÂìÅÔºåÈÇ£‰πàÈúÄË¶ÅÂÅöÁöÑÂ∞±ÊòØÂ∞ÜÂïÜÂìÅÁöÑÊï∞ÈáèËøõË°åÊõ¥Êîπ,‰πüÂç≥ÊòØÊñ∞Ê∑ªÂä†ÁöÑÂïÜÂìÅÊï∞ÈáèÂä†‰∏äÂΩìÂâçË¥≠Áâ©ËΩ¶‰∏≠ÂïÜÂìÅÊï∞Èáè CartItem cartItem = JSON.parseObject(result, CartItem.class); cartItem.setCount(cartItem.getCount() + num); String cartItemJson = JSON.toJSONString(cartItem); // Êõ¥Êñ∞redis cartOps.put(skuId.toString(),cartItemJson); }} Ëß£ÂÜ≥Âà∑Êñ∞ÈóÆÈ¢ò 1234567891011121314/** * Ë∑≥ËΩ¨Âà∞ÊàêÂäüÈ°µÈù¢ * @param skuId * @param model * @return */@GetMapping(&quot;/addToCartSuccess.html&quot;)public String addToCartSuccessPage(@RequestParam(&quot;skuId&quot;) Long skuId,Model model) { // ÈáçÂÆöÂêëÂà∞ÊàêÂäüÈ°µÈù¢ÔºåÂÜçÊ¨°Êü•ËØ¢Ë¥≠Áâ©ËΩ¶Êï∞ÊçÆ CartItem item = cartService.getCartItem(skuId); model.addAttribute(&quot;item&quot;,item); return &quot;success&quot;;} 12.4 Ëé∑ÂèñÂêàÂπ∂Ë¥≠Áâ©ËΩ¶ 12.4.1 ÈúÄÊ±ÇÂàÜÊûê Â¶ÇÊûúÁî®Êà∑ÁôªÂΩïÔºå‰∏¥Êó∂Ë¥≠Áâ©ËΩ¶ÁöÑÊï∞ÊçÆÂ¶Ç‰ΩïÊòæÁ§∫Ôºü Â∞Ü‰∏¥Êó∂Ë¥≠Áâ©ËΩ¶ÁöÑÊï∞ÊçÆÂêàÂπ∂Âà∞Áî®Êà∑Ë¥≠Áâ©ËΩ¶‰∏≠ Â¶Ç‰ΩïÊòæÁ§∫Ë¥≠Áâ©ËΩ¶ÁöÑÊï∞ÊçÆÔºü ‰ªé redis ÂèñÂá∫Êï∞ÊçÆÊîæÂà∞ÂØπË±°‰∏≠Âπ∂Ê∏≤ÊüìÂá∫Êù• 12.4.2 ‰ª£Á†ÅÁºñÂÜô Controller 123456@GetMapping(&quot;/cart.html&quot;)public String cartListPage(Model model) throws ExecutionException, InterruptedException { Cart cart = cartService.getCart(); model.addAttribute(&quot;cart&quot;,cart); return &quot;cartList&quot;;} Service ÊãºË£Ö Key ‰ªé redis ‰∏≠Êü•ËØ¢Êï∞ÊçÆ ‰∏¥Êó∂Ë¥≠Áâ©ËΩ¶Â¶ÇÊûúÊúâÊï∞ÊçÆÔºåÂΩìÂâçÁä∂ÊÄÅÊòØÁôªÂΩïÔºåÈÇ£Â∞±Â∞Ü‰∏¥Êó∂Ë¥≠Áâ©ËΩ¶ÁöÑÊï∞ÊçÆÂêàÂπ∂Âà∞ÂΩìÂâçÁî®Êà∑ÁöÑË¥≠Áâ©ËΩ¶ 123456789101112131415161718192021222324252627282930313233343536373839@Override public Cart getCart() throws ExecutionException, InterruptedException { /** * ÈúÄÊ±ÇÂàÜÊûê1 * 1„ÄÅÂ¶ÇÊûúÁî®Êà∑ÁôªÂΩïÂêéÔºåÈÇ£‰πà‰∏¥Êó∂Ë¥≠Áâ©ËΩ¶ÁöÑÊï∞ÊçÆÂ¶Ç‰ΩïÂ§ÑÁêÜÔºü * Â∞Ü‰∏¥Êó∂Ë¥≠Áâ©ËΩ¶ÁöÑÊï∞ÊçÆÔºåÊîæÂà∞Áî®Êà∑Ë¥≠Áâ©ËΩ¶‰∏≠ËøõË°åÂêàÂπ∂ * 2„ÄÅÂ¶Ç‰ΩïÊòæÁ§∫Ë¥≠Áâ©ËΩ¶‰∏≠ÁöÑÊï∞ÊçÆÔºü * ‰ªéredis‰∏≠Êü•ËØ¢Âà∞Êï∞ÊçÆÊîæÂà∞ÂØπË±°‰∏≠ÔºåËøîÂõûÂà∞È°µÈù¢ËøõË°åÊ∏≤Êüì */ Cart cart = new Cart(); // 1„ÄÅË¥≠Áâ©ËΩ¶ÁöÑËé∑ÂèñÊìç‰ΩúÔºåÂàÜ‰∏∫ÁôªÂΩïÂêéË¥≠Áâ©ËΩ¶ Âíå Ê≤°ÁôªÂΩïË¥≠Áâ©ËΩ¶ UserInfo userInfo = CartIntercept.threadLocal.get(); // ÊãøÂà∞ÂÖ±‰∫´Êï∞ÊçÆ if (userInfo.getUserId() != null) { // ÁôªÂΩïÂêéÁöÑË¥≠Áâ©ËΩ¶ String cartKey = CART_PREFIX + userInfo.getUserKey(); String tempCartKey = CART_PREFIX + userInfo.getUserKey(); // Â¶ÇÊûú‰∏¥Êó∂Ë¥≠Áâ©ËΩ¶‰∏≠ËøòÊúâÊï∞ÊçÆÔºåÈÇ£Â∞±ÈúÄË¶ÅÂ∞Ü‰∏¥Êó∂Ë¥≠Áâ©ËΩ¶ÂêàÂπ∂Âà∞Â∑≤ÁôªÂΩïË¥≠Áâ©ËΩ¶ÈáåÈù¢ // Âà§Êñ≠‰∏¥Êó∂Ë¥≠Áâ©ËΩ¶‰∏≠ÊòØÂê¶ÊúâÊï∞ÊçÆ List&lt;CartItem&gt; cartItems = getCartItems(tempCartKey); if (cartItems != null ) { // ‰∏¥Êó∂Ë¥≠Áâ©ËΩ¶‰∏≠ÊúâÊï∞ÊçÆÔºåÈúÄË¶ÅÂ∞Ü‰∏¥Êó∂Ë¥≠Áâ©ËΩ¶ÁöÑÊï∞ÊçÆÂêàÂπ∂Âà∞ÁôªÂΩïÂêéÁöÑË¥≠Áâ©ËΩ¶ for (CartItem item : cartItems) { // ÊãøÂà∞‰∏¥Êó∂Ë¥≠Áâ©ËΩ¶ÁöÑÊâÄÊúâÊï∞ÊçÆÔºåÂ∞Ü‰ªñÊ∑ªÂä†Âà∞Â∑≤ÁôªÂΩïË¥≠Áâ©ËΩ¶ÈáåÈù¢Êù• // Ë∞ÉÁî®addToCart()Ëøô‰∏™ÊñπÊ≥ïÔºå‰ªñ‰ºöÊ†πÊçÆÁôªÂΩïÁä∂ÊÄÅËøõË°åÊ∑ªÂä†ÔºåÂΩìÂâçÊòØÁôªÂΩïÁä∂ÊÄÅ // ÊâÄ‰ª•Ëøô‰∏™ÊñπÊ≥ï‰ºöÂ∞Ü‰∏¥Êó∂Ë¥≠Áâ©ËΩ¶ÁöÑÊï∞ÊçÆÊ∑ªÂä†Âà∞Â∑≤ÁôªÂΩïË¥≠Áâ©ËΩ¶‰∏≠ addToCart(item.getSkuId(),item.getCount()); // ÂêàÂπ∂‰∏¥Êó∂ÂíåÁôªÂΩïÂêéÁöÑË¥≠Áâ©ËΩ¶ } // ÂêàÂπ∂ÂÆåÊàêÂêéËøòÈúÄË¶ÅÂ∞Ü‰∏¥Êó∂Ë¥≠Áâ©ËΩ¶‰∏≠ÁöÑÊï∞ÊçÆÂà†Èô§ clearCart(tempCartKey); } // ÂÜçÊ¨°Ëé∑ÂèñÁî®Êà∑ÁôªÂΩïÂêéÁöÑË¥≠Áâ©ËΩ¶„ÄêÂåÖÂê´‰∏¥Êó∂Ë¥≠Áâ©ËΩ¶Êï∞ÊçÆÂíåÂ∑≤ÁôªÂΩïË¥≠Áâ©ËΩ¶Êï∞ÊçÆ„Äë List&lt;CartItem&gt; cartItemList = getCartItems(cartKey); cart.setItems(cartItemList);// Â∞ÜÂ§ö‰∏™Ë¥≠Áâ©È°πËÆæÁΩÆÂà∞Ë¥≠Áâ©ËΩ¶‰∏≠ } else { // Ê≤°ÊúâÁôªÂΩïÁöÑË¥≠Áâ©ËΩ¶ÔºåÊãøÂà∞Ê≤°ÊúâÁôªÂΩïË¥≠Áâ©ËΩ¶ÁöÑÊï∞ÊçÆ String cartKey = CART_PREFIX + userInfo.getUserKey(); // Ëé∑ÂèñË¥≠Áâ©ËΩ¶‰∏≠ÁöÑÊâÄÊúâË¥≠Áâ©È°π List&lt;CartItem&gt; cartItems = getCartItems(cartKey); cart.setItems(cartItems); } return cart; } getCaerItems 123456789101112131415161718/** * Ëé∑ÂèñÊåáÂÆöÁî®Êà∑ (ÁôªÂΩïÁî®Êà∑/‰∏¥Êó∂Áî®Êà∑) Ë¥≠Áâ©ËΩ¶ÈáåÈù¢ÁöÑÊï∞ÊçÆ * @param cartKey * @return */ private List&lt;CartItem&gt; getCartItems(String cartKey) { BoundHashOperations&lt;String, Object, Object&gt; operations = redisTemplate.boundHashOps(cartKey); List&lt;Object&gt; values = operations.values(); // ÊãøÂà∞Â§ö‰∏™Ë¥≠Áâ©È°π if (values != null) { List&lt;CartItem&gt; cartItemList = values.stream().map((obj) -&gt; { String s = (String) obj; CartItem cartItem = JSON.parseObject(s, CartItem.class); return cartItem; }).collect(Collectors.toList()); return cartItemList; } return null; } 12.5 ÈÄâ‰∏≠Ë¥≠Áâ©È°π &amp; ÊîπÂèòË¥≠Áâ©È°πÁöÑÊï∞Èáè &amp; Âà†Èô§Ë¥≠Áâ©È°π 12.5.1 ÈúÄÊ±ÇÂàÜÊûêÔºö 1„ÄÅÈÄâ‰∏≠Ë¥≠Áâ©È°π Âú®È°µÈù¢‰∏≠ÈÄâ‰∏≠Ë¥≠Áâ©È°πÂêéÔºåÊï∞ÊçÆÂ∫îËØ•Ë¶ÅÂíåredis‰∏≠ÁöÑÊï∞ÊçÆËøõË°åÂêåÊ≠• È°µÈù¢ÈÄâ‰∏≠Ôºåreids‰∏≠Êï∞ÊçÆÂ∞±Ë¶ÅÊõ¥Êîπ 2„ÄÅÊîπÂèòË¥≠Áâ©È°πÊï∞Èáè Ë¥≠Áâ©ËΩ¶‰∏≠ÔºåÂ¢ûÂä†‰∫ÜÂïÜÂìÅÁöÑÊï∞ÈáèÔºåÂØπÂ∫îÁöÑ‰ª∑Ê†ºÔºåÊÄª‰ª∑‰πüÈúÄË¶ÅËøõË°åÊîπÂèò 3„ÄÅÂà†Èô§Ë¥≠Áâ©È°π Âú®Ë¥≠Áâ©È°π‰∏≠Âà†Èô§ËØ•Êù°Êï∞ÊçÆÔºå‰ªéredis‰∏≠Ê†πÊçÆskuidÂà†Èô§ËøôÊù°ËÆ∞ÂΩï 4„ÄÅÂ∞ÜÊï∞ÊçÆ‰øÆÊîπÊàñÂà†Èô§ÂêéÔºåÈáçÊñ∞Ë∑≥ËΩ¨Âà∞cart.html ÈáçÊñ∞Âä†ËΩΩÊï∞ÊçÆ 12.5.2 ‰ª£Á†ÅÂÆûÁé∞ ÂâçÁ´ØÈ°µÈù¢ÊñπÊ≥ï 123456789101112131415161718192021// ÈÄâ‰∏≠Ë¥≠Áâ©È°π $(&quot;.itemCheck&quot;).click(function () { var skuId = $(this).attr(&quot;skuId&quot;); var check = $(this).prop(&quot;checked&quot;); location.href = &quot;http://cart.gulimall.com/checkItem?skuId=&quot; + skuId + &quot;&amp;check=&quot; + (check?1:0); }) // ÊîπÂèòË¥≠Áâ©È°πÊï∞Èáè $(&quot;.countOpsBtn&quot;).click(function() { var skuId = $(this).parent().attr(&quot;skuId&quot;); var num = $(this).parent().find(&quot;.countOpsNum&quot;).text(); location.href = &quot;http://cart.gulimall.com/countItem?skuId=&quot; + skuId + &quot;&amp;num=&quot; + num; }) var deleteId = 0; // Âà†Èô§Ë¥≠Áâ©È°π function deleteItem() { location.href = &quot;http://cart.gulimall.com/deleteItem?skuId=&quot; + deleteId; } $(&quot;.deleteItemBtn&quot;).click(function() { deleteId = $(this).attr(&quot;skuId&quot;); }) Controller 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647/** * @ÈúÄÊ±ÇÊèèËø∞: Á≥ªÁªüÁÆ°ÁêÜÂëò Ë¥≠Áâ©ËΩ¶ÁªÑ Ê®°Âùó Áî®Êà∑ÈÄâ‰∏≠Ë¥≠Áâ©È°πÊõ¥Êñ∞redis‰∏≠ÂØπË±° * @ÂàõÂª∫‰∫∫: * @ÂàõÂª∫Êó∂Èó¥: 2021/01/04 15:37 * @‰øÆÊîπÈúÄÊ±Ç: * @‰øÆÊîπ‰∫∫: * @‰øÆÊîπÊó∂Èó¥: * @ÈúÄÊ±ÇÊÄùË∑Ø: */ @GetMapping(&quot;/checkItem&quot;) public String checkItem(@RequestParam(&quot;skuId&quot;) Long skuId, @RequestParam(&quot;checked&quot;) Integer checked) { cartService.checkItem(skuId,checked); // ÈáçÂÆöÂêëÂà∞Ë¥≠Áâ©ËΩ¶È°µÈù¢ÔºåÈáçÊñ∞Ëé∑ÂèñË¥≠Áâ©ËΩ¶Êï∞ÊçÆ return &quot;redirect:http://cart.gulimall.com/cart.html&quot;; } /** * @ÈúÄÊ±ÇÊèèËø∞: Á≥ªÁªüÁÆ°ÁêÜÂëò Ë¥≠Áâ©ËΩ¶ÁªÑ Ê®°Âùó Áî®Êà∑Êõ¥ÊîπË¥≠Áâ©ËΩ¶‰∏≠Ë¥≠Áâ©È°πÁöÑÊï∞Èáè * @ÂàõÂª∫‰∫∫: * @ÂàõÂª∫Êó∂Èó¥: 2021/01/04 16:05 * @‰øÆÊîπÈúÄÊ±Ç: * @‰øÆÊîπ‰∫∫: * @‰øÆÊîπÊó∂Èó¥: * @ÈúÄÊ±ÇÊÄùË∑Ø: */ @GetMapping(&quot;/updateItem&quot;) public String updateItem(@RequestParam(&quot;skuId&quot;) Long skuId, @RequestParam(&quot;count&quot;) Integer count) { cartService.updateItem(skuId,count); return &quot;redirect:http://cart.gulimall.com/cart.html&quot;; } /** * @ÈúÄÊ±ÇÊèèËø∞: Á≥ªÁªüÁÆ°ÁêÜÂëò Ë¥≠Áâ©ËΩ¶ÊúçÂä° Ê®°Âùó Áî®Êà∑Âà†Èô§Ë¥≠Áâ©ËΩ¶‰∏≠ÁöÑË¥≠Áâ©È°π * @ÂàõÂª∫‰∫∫: * @ÂàõÂª∫Êó∂Èó¥: 2021/01/04 16:40 * @‰øÆÊîπÈúÄÊ±Ç: * @‰øÆÊîπ‰∫∫: * @‰øÆÊîπÊó∂Èó¥: * @ÈúÄÊ±ÇÊÄùË∑Ø: */ @GetMapping(&quot;/deleteItem&quot;) public String deleteItem(@RequestParam(&quot;skuId&quot;) Long skuId) { cartService.deleteItem(skuId); return &quot;redirect:http://cart.gulimall.com/cart.html&quot;; } Service 1234567891011121314151617181920212223242526@Override public void checkItem(Long skuId, Integer checked) { // 1„ÄÅ‰ªéredis‰∏≠Êü•Âá∫Ë¥≠Áâ©È°πËÆæÁΩÆË¥≠Áâ©È°πÊòØÂê¶ÈÄâ‰∏≠„ÄÇ BoundHashOperations&lt;String, Object, Object&gt; cartOps = getCartOps(); String cart = (String) cartOps.get(skuId.toString()); CartItem cartItem = JSON.parseObject(cart, CartItem.class); cartItem.setCheck(checked == 1 ? true : false); String jsonStirng = JSON.toJSONString(cartItem); cartOps.put(skuId.toString(),jsonStirng); // Êõ¥Êñ∞redis } @Override public void updateItem(Long skuId, Integer count) { // 1„ÄÅÁî®Êà∑Âú®È°µÈù¢ÂØπÊüê‰∏™Ë¥≠Áâ©È°πÂ¢ûÂä†ÊàñÂáèÂ∞ëË¥≠Áâ©È°πÁöÑÊï∞ÈáèÔºåÈÇ£‰πàredis‰∏≠Â∫îËØ•‰πüË¶ÅËøõË°åÊõ¥Êñ∞ CartItem cartItem = getCartItem(skuId); cartItem.setCount(count); BoundHashOperations&lt;String, Object, Object&gt; cartOps = getCartOps(); cartOps.put(skuId.toString(),JSON.toJSONString(cartItem)); // Êõ¥Êñ∞redis‰∏≠Êï∞ÊçÆ } @Override public void deleteItem(Long skuId) { // Ëé∑ÂèñÂà∞ÂΩìÂâçË¥≠Áâ©ËΩ¶ÔºåÁÑ∂ÂêéÊ†πÊçÆidÂà†Èô§Ë¥≠Áâ©ËΩ¶ÈáåÈù¢ÁöÑË¥≠Áâ©È°π BoundHashOperations&lt;String, Object, Object&gt; cartOps = getCartOps(); cartOps.delete(skuId.toString()); } 13„ÄÅÊ∂àÊÅØÈòüÂàó - MQ 13.1 RabbitMQ ÂºÇÊ≠•Â§ÑÁêÜ Ê∂àÊÅØÂèëÈÄÅÁöÑÊó∂Èó¥ÂèñÂÜ≥‰∫é‰∏öÂä°ÊâßË°åÁöÑÊúÄÈïøÁöÑÊó∂Èó¥ Â∫îÁî®Ëß£ËÄ¶ ÂéüÊú¨ÊòØÈúÄË¶ÅËÆ¢ÂçïÁ≥ªÁªüÁõ¥Êé•Ë∞ÉÁî®Â∫ìÂ≠òÁ≥ªÁªü Âè™ÈúÄË¶ÅÂ∞ÜËØ∑Ê±ÇÂèëÈÄÅÁªôÊ∂àÊÅØÈòüÂàóÔºåÂÖ∂‰ªñÁöÑÂ∞±‰∏çÈúÄË¶ÅÂéªÂ§ÑÁêÜ‰∫ÜÔºåËäÇÁúÅ‰∫ÜÂ§ÑÁêÜ‰∏öÂä°ÈÄªËæëÁöÑÊó∂Èó¥ ÊµÅÈáèÊ∂àÂ≥∞ Êüê‰∏ÄÊó∂ÂàªÂ¶ÇÊûúËØ∑Ê±ÇÁâπÂà´ÁöÑÂ§ßÔºåÈÇ£Â∞±ÂÖàÊääÂÆÉÊîæÂÖ•Ê∂àÊÅØÈòüÂàóÔºå‰ªéËÄåËææÂà∞ÊµÅÈáèÊ∂àÂ≥∞ÁöÑ‰ΩúÁî® ÊµÅÁ®ãÂõæÂú∞ÂùÄÔºöhttps://www.processon.com/view/link/5fbda8c35653bb1d54f7077b 13.2 Ê¶ÇËø∞ Â§ßÂ§öÂ∫îÁî®‰∏≠ÔºåÂèØÈÄöËøáÊ∂àÊÅØÊúçÂä°‰∏≠Èó¥‰ª∂Êù•ÊèêÂçáÁ≥ªÁªüÂºÇÊ≠•ÈÄö‰ø°ÔºåÊâ©Â±ïËß£ËÄ¶ËÉΩÂäõ Ê∂àÊÅØÊúçÂä°‰∏≠‰∏§‰∏™ÈáçË¶ÅÊ¶ÇÂøµÔºö Ê∂àÊÅØ‰ª£ÁêÜÔºàmessage brokerÔºâ Âíå ÁõÆÁöÑÂú∞ÔºàdestinationÔºâ ÂΩìÊ∂àÊÅØÂèëÈÄÅËÄÖÂèëÈÄÅÊ∂àÊÅØÂêéÔºåÂ∞ÜÁî±Ê∂àÊÅØ‰ª£ÁêÜÊé•ÁÆ°ÔºåÊ∂àÊÅØ‰ª£ÁêÜ‰øùËØÅÊ∂àÊÅØ‰º†ÈÄíÂà∞ÊåáÂÆöÁõÆÁöÑÂú∞ Ê∂àÊÅØÈòüÂàó‰∏ªË¶ÅÊúâ‰∏§ÁßçÂΩ¢ÂºèÁöÑÁõÆÁöÑÂú∞ ÈòüÂàóÔºàQueueÔºâ:ÁÇπÂØπÁÇπÊ∂àÊÅØÈÄö‰ø°Ôºàpoint - to - pointÔºâ ‰∏ªÈ¢òÔºàtopicÔºâÔºöÂèëÂ∏ÉÔºàpublishÔºâ/ËÆ¢ÈòÖÔºàsubscribeÔºâÊ∂àÊÅØÈÄö‰ø° ÁÇπÂØπÁÇπÂºèÔºö Ê∂àÊÅØÂèëÈÄÅËÄÖÂèëÈÄÅÊ∂àÊÅØÔºåÊ∂àÊÅØ‰ª£ÁêÜÂ∞ÜÂÖ∂ÊîæÂÖ•‰∏Ä‰∏™ÈòüÂàó‰∏≠ÔºåÊ∂àÊÅØÊé•Êî∂ËÄÖ‰ªéÈòüÂàó‰∏≠Ëé∑ÂèñÊ∂àÊÅØÂÜÖÂÆπÔºåÊ∂àÊÅØËØªÂèñÂêéË¢´ÁßªÂá∫ÈòüÂàó Ê∂àÊÅØÂè™ÊúâÂîØ‰∏ÄÁöÑÂèëÈÄÅËÄÖÂíåÊé•ÂèóËÄÖÔºåÂçïÂπ∂‰∏çÊòØËØ¥Âè™ËÉΩÊúâ‰∏Ä‰∏™Êé•Êî∂ËÄÖ ÂèëÂ∏ÉËÆ¢ÈòÖÂºè: ÂèëÈÄÅËÄÖÔºàÂèëÂ∏ÉËÄÖÔºâÂèëÂà∞Ê∂àÊÅØÂà∞‰∏ªÈ¢òÔºåÂ§ö‰∏™Êé•Êî∂ËÄÖÔºàËÆ¢ÈòÖËÄÖÔºâÁõëÂê¨ÔºàËÆ¢ÈòÖÔºâËøô‰∏™‰∏ªÈ¢òÔºåÈÇ£‰πàÂ∞±‰ºöÂú®Ê∂àÊÅØÂà∞ËææÊó∂ÂêåÊó∂Êî∂Âà∞Ê∂àÊÅØ JMSÔºàJava Message ServiceÔºâ JavaÊ∂àÊÅØÊúçÂä°Ôºö Âü∫‰∫éJVMÊ∂àÊÅØ‰ª£ÁêÜÁöÑËßÑËåÉÔºåActiveMQ„ÄÅHornetMQÊòØJMSÁöÑÂÆûÁé∞ AMQPÔºàAdvanced Message Queuing ProtocolÔºâ È´òÁ∫ßÊ∂àÊÅØÈòüÂàóÂçèËÆÆÔºå‰πüÊòØ‰∏Ä‰∏™Ê∂àÊÅØ‰ª£ÁêÜÁöÑËßÑËåÉÔºåÂÖºÂÆπJMS RabbitMQÊòØAMQPÁöÑÂÆûÁé∞ Spring ÊîØÊåÅ spring - jmsÊèê‰æõ‰∫ÜÂØπJMSÁöÑÊîØÊåÅ spring - rabbitÊèê‰æõ‰∫ÜÂØπAMQPÁöÑÊîØÊåÅ ÈúÄË¶ÅConnectionFactoryÁöÑÂÆûÁé∞Êù•ËøûÊé•Ê∂àÊÅØ‰ª£ÁêÜ Êèê‰æõ JmsTemplate„ÄÅRabbitTemplate Êù•ÂèëÈÄÅÊ∂àÊÅØ @JmsListenerÔºàJMSÔºâ„ÄÅ@RabbitListenerÔºàAMQPÔºâÊ≥®Ëß£Âú®ÊñπÊ≥ï‰∏äÁõëÂê¨Ê∂àÊÅØ‰ª£ÁêÜÂèëÂ∏ÉÁöÑÊ∂àÊÅØ @EnableJms„ÄÅ@EnableRabbitÂºÄÂêØÊîØÊåÅ Spring Boot Ëá™Âä®ÈÖçÁΩÆ JmsAutoConfiguration RabbitAutoConfiguration Â∏ÇÈù¢‰∏äÁöÑMQ‰∫ßÂìÅ ActiveMQ„ÄÅRabbitMQ„ÄÅRocketMQÔºåkafka 13.3 RabbitMQÊ¶ÇÂøµ RabbitMQÁÆÄ‰ªãÔºö RabbitMQÊòØ‰∏ÄÁî±erlangÂºÄÂèëÁöÑAMQPÔºàAdvanved Message Queue ProtocolÔºâÁöÑÂºÄÊ∫êÂÆûÁé∞ Ê†∏ÂøÉÊ¶ÇÂøµ Message Ê∂àÊÅØÔºåÊ∂àÊÅØÊòØ‰∏çÂÖ∑ÂêçÁöÑÔºåÂÆÉÊòØÁî±Ê∂àÊÅØÂ§¥ÂíåÊ∂àÊÅØ‰ΩìÁªÑÊàêÔºåÊ∂àÊÅØ‰ΩìÊòØ‰∏çÈÄèÊòéÁöÑÔºåËÄåÊ∂àÊÅØÂ§¥ÂàôÁî±‰∏ÄÁ≥ªÂàóÁöÑÂèØÈÄâÂ±ûÊÄßÁªÑÊàêÔºåËøô‰∫õÂ±ûÊÄßÂåÖÊã¨ routing - key ÔºàË∑ØÁî±ÈîÆÔºâÔºåpriorityÔºàÁõ∏ÂØπ‰∫éÂÖ∂‰ªñÊ∂àÊÅØÁöÑ‰ºòÂÖàÊùÉÔºâÔºå**delivery - modeÔºàÊåáÂá∫ËØ•Ê∂àÊÅØÂèØËÉΩÈúÄË¶ÅÊåÅ‰πÖÊÄßÂ≠òÂÇ®Ôºâ**Á≠â Publisher Ê∂àÊÅØÁöÑÁîü‰∫ßËÄÖÔºå‰πüÊòØ‰∏Ä‰∏™ÂÉè‰∫§Êç¢Âô®ÂèëÂ∏ÉÊ∂àÊÅØÁöÑÂÆ¢Êà∑Á´ØÂ∫îÁî®Á®ãÂ∫è Exchange ‰∫§Êç¢Âô®ÔºåÁî®Êù•Êé•Êî∂Áîü‰∫ßËÄÖÂèëÈÄÅÁöÑÊ∂àÊÅØÂπ∂Â∞ÜËøô‰∫õÊ∂àÊÅØË∑ØÁî±ÁªôÊúçÂä°Âô®‰∏≠ÁöÑÈòüÂàó ExchangeÊúâ4ÁßçÁ±ªÂûãÔºödirect(ÈªòËÆ§)„ÄÅfanout„ÄÅtopicÔºåÂíåheadesÔºå‰∏çÂêåÁ±ªÂûãÁöÑ Exchange ËΩ¨ÂèëÊ∂àÊÅØÁöÑÁ≠ñÁï•ÊúâÊâÄÂå∫Âà´ Queue Ê∂àÊÅØÈòüÂàóÔºåÁî®Êù•‰øùÂ≠òÊ∂àÊÅØÁõ¥Âà∞ÂèëÈÄÅÁªôÊ∂àË¥πËÄÖÔºå‰ªñÊòØÊ∂àÊÅØÁöÑÂÆπÂô®Ôºå‰πüÊòØÊ∂àÊÅØÁöÑÈáçÁÇπÔºå‰∏Ä‰∏™Ê∂àÊÅØÂèØ‰ª•ÊäïÂÖ•‰∏Ä‰∏™ÊàñÂ§ö‰∏™ÈòüÂàóÔºåÊ∂àÊÅØ‰∏ÄÁõ¥Âú®ÈòüÂàóÈáåÈù¢ÔºåÁ≠âÂæÖÊ∂àË¥πËÄÖËøûÊé•Âà∞Ëøô‰∏™ÈòüÂàóÂ∞ÜÂÖ∂ÂèñËµ∞ Binding ÁªëÂÆöÔºåÁî®‰∫éÊ∂àÊÅØÈòüÂàóÂíå‰∫§Êç¢Âô®‰πãÈó¥ÁöÑÂÖ≥ËÅîÔºå‰∏Ä‰∏™ÁªëÂÆöÂ∞±ÊòØÂü∫‰∫éË∑ØÁî±ÈîÆÂ∞Ü‰∫§Êç¢Âô®ÂíåÊ∂àÊÅØÈòüÂàóËøûÊé•Ëµ∑Êù•ÁöÑËßÑÂàôÔºåÊâÄÊúâÂèØ‰ª•Â∞Ü‰∫§Êç¢Âô®ÁêÜËß£Êàê‰∏Ä‰∏™Áî±ÁªëÂÆöÊûÑÊàêÁöÑË∑ØÁî±Ë°® Connection ÁΩëË∑ØËøûÊé•ÔºåÊØîÂ¶Ç‰∏Ä‰∏™TCPËøûÊé• Channel ‰ø°ÈÅìÔºåÂ§öË∑ØÂ§çÁî®ËøûÊé•‰∏≠ÁöÑ‰∏Ä‰∏™Áã¨Á´ãÁöÑÂèåÂêëÊï∞ÊçÆÊµÅÈÄöÈÅìÔºå‰ø°ÈÅìÊòØÂª∫Á´ãÂú®ÁúüÂÆûÁöÑTCPËøûÊé•ÁöÑÂÜÖÁöÑËôöÊãüËøûÊé•ÔºåAMQP ÂëΩ‰ª§ÈÉΩÊòØÈÄöËøá‰ø°ÊÅØÂà∞ÂèëÈÄÅÂá∫ÂéªÁöÑÔºå‰∏çÁÆ°ÊòØÂèëÂ∏ÉÊ∂àÊÅØÔºåËÆ¢ÈòÖÈòüÂàóËøòÊòØÊé•Êî∂Ê∂àÊÅØÔºåËøô‰∫õÂä®‰ΩúÈÉΩÊòØÈÄöËøáÈòüÂàóÂÆåÊàêÔºåÂõ†‰∏∫ÂØπÂ∫îÊìç‰ΩúÁ≥ªÁªüÊù•ËØ¥Âª∫Á´ãÂíåÈîÄÊØÅ TCP ÈÉΩÊòØÈùûÂ∏∏ÊòÇË¥µÁöÑÂºÄÈîÄÔºåÊâÄ‰ª•ÂºïÂÖ•‰∫Ü‰ø°ÈÅìÁöÑÊ¶ÇÂøµÔºå‰ª•Â§çÁî®‰∏ÄÊù°TCPËøûÊé• Consumer Ê∂àÊÅØÁöÑÊ∂àË¥πËÄÖÔºåË°®Á§∫‰∏Ä‰∏™Ê∂àÊÅØÈòüÂàó‰∏≠ÂèñÂæóÊ∂àÊÅØÁöÑÂÆ¢Êà∑Á´ØÂ∫îÁî®Á®ãÂ∫è Virtual Host ËôöÊãü‰∏ªÊú∫ÔºåË°®Á§∫‰∫§Êç¢Âô®„ÄÅÊ∂àÊÅØÈòüÂàóÂíåÁõ∏ÂÖ≥ÂØπË±°„ÄÇËôöÊãü‰∏ªÊú∫ÊòØÂÖ±‰∫´Áõ∏ÂêåÁöÑË∫´‰ªΩËÆ§ËØÅÂíåÂä†ÂØÜÁéØÂ¢ÉÁöÑÁã¨Á´ãÊúçÂä°Âô®Âüü„ÄÇÊØè‰∏™Virtual hostÊú¨Ë¥®‰∏äÂ∞±ÊòØ‰∏Ä‰∏™ mini ÁâàÁöÑRabbitMQ ÊúçÂä°Âô®,Êã•ÊúâËá™Â∑±ÁöÑÈòüÂàó„ÄÅ‰∫§Êç¢Âô®„ÄÅÁªëÂÆöÂíåÊùÉÈôêÊú∫Âà∂„ÄÇVirtual host ÊòØ AMQP Ê¶ÇÂøµÁöÑÂü∫Á°ÄÔºåÂøÖÈ°ªÂú®ËøûÊé•Êó∂ÊåáÂÆö,RabbitMQÈªòËÆ§ÁöÑvhostÊòØ/„ÄÇ Broker Ë°®Á§∫Ê∂àÊÅØÈòüÂàóÊúçÂä°Âô®ÂÆû‰Ωì 13.4 Docker ÂÆâË£ÖRabbitMQ 12345678910docker run -d --name rabbitmq -p 5671:5671 -p 5672:5672 -p 4369:4369 -p 25672:25672 -p 15671:15671 -p 15672:15672 rabbitmq:management4369, 25672 (ErlangÂèëÁé∞&amp;ÈõÜÁæ§Á´ØÂè£)5672, 5671 (AMQPÁ´ØÂè£)15672 (webÁÆ°ÁêÜÂêéÂè∞Á´ØÂè£)61613, 61614 (STOMPÂçèËÆÆÁ´ØÂè£)1883, 8883 (MQTTÂçèËÆÆÁ´ØÂè£) # Ëá™Âä®ÂêØÂä®docker update rabbitmq --restart=always 13.5 RabbitMQ ËøêË°åÊú∫Âà∂ AMQP ‰∏≠ÁöÑÊ∂àÊÅØË∑ØÁî± AMQP ‰∏≠Ê∂àÊÅØÁöÑË∑ØÁî±ËøáÁ®ãÂíå Java ÂºÄÂèëËÄÖÁÜüÊÇâÁöÑ JMS Â≠òÂú®‰∏Ä‰∫õÂ∑ÆÂà´ÔºåAMQP‰∏≠Â¢ûÂä†‰∫Ü Exchange Âíå Binding ÁöÑËßíËâ≤ Áîü‰∫ßËÄÖÊääÊ∂àÊÅØÂèëÂ∏ÉÂà∞ Exchange ‰∏äÔºåÊ∂àÊÅØÊúÄÁªàÂà∞ËææÈòüÂàóÂπ∂Ë¢´Ê∂àË¥πËÄÖÊé•Êî∂ÔºåËÄå Binding ÂÜ≥ÂÆö‰∫§Êç¢Âô®ÁöÑÊ∂àÊÅØÂ∫îËØ•ÂèëÈÄÅÁªôÈÇ£‰∏™ÈòüÂàó Exchange Á±ªÂûã Exchange ÂàÜÂèëÊ∂àÊÅØÊó∂Ê†πÊçÆÁ±ªÂûãÁöÑ‰∏çÂêåÂàÜÂèëÁ≠ñÁï•ÊúâÂå∫Âà´ÔºåÁõÆÂâçÂÖ±ÂõõÁßçÁ±ªÂûãÔºödirect„ÄÅtanout„ÄÅtopic„ÄÅheaders headerÂåπÈÖçAMQPÊ∂àÊÅØÁöÑ header ËÄå‰∏çÊòØË∑ØÁî±ÈîÆÔºåheaders ‰∫§Êç¢Âô®Âíå direct ‰∫§Êç¢Âô®ÂÆåÂÖ®‰∏ÄËá¥Ôºå‰ΩÜÊÄßËÉΩÂ∑ÆËÉΩÂ§öÔºåÁõÆÂâçÂá†‰πéÁî®‰∏çÂà∞‰∫ÜÔºåÊâÄ‰ª•Áõ¥Êé•ÁúãÂè¶Â§ñ‰∏âÁßçÁ±ªÂûã 13.6 RabbitMQ Êï¥Âêà 1„ÄÅÂºïÂÖ• Spring-boot-starter-amqp 12345&lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-amqp&lt;/artifactId&gt; &lt;/dependency&gt; 2„ÄÅapplication.ymlÈÖçÁΩÆ 12345spring: rabbitmq: host: 192.168.56.10 port: 5672 virtual-host: / 3„ÄÅÊµãËØïRabbitMQ 1„ÄÅAmqpAdmin:ÁÆ°ÁêÜÁªÑ‰ª∂ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647 /** * ÂàõÂª∫Exchange * 1„ÄÅÂ¶Ç‰ΩïÂà©Áî®Exchange,Queue,Binding * 1„ÄÅ‰ΩøÁî®AmqpAdminËøõË°åÂàõÂª∫ * 2„ÄÅÂ¶Ç‰ΩïÊî∂Âèë‰ø°ÊÅØ */ @Test public void contextLoads() { // public DirectExchange( // String name, ‰∫§Êç¢Êú∫ÁöÑÂêçÂ≠ó // boolean durable, ÊòØÂê¶ÊåÅ‰πÖ // boolean autoDelete, ÊòØÂê¶Ëá™Âä®Âà†Èô§ // Map&lt;String, Object&gt; arguments) // { DirectExchange directExchange = new DirectExchange(&quot;hello-java.exchange&quot;,true,false); amqpAdmin.declareExchange(directExchange); log.info(&quot;Exchange[{}]ÂàõÂª∫ÊàêÂäüÔºö&quot;,&quot;hello-java.exchange&quot;); } /** * ÂàõÂª∫ÈòüÂàó */ @Test public void createQueue() { // public Queue(String name, boolean durable, boolean exclusive, boolean autoDelete, Map&lt;String, Object&gt; arguments) { Queue queue = new Queue(&quot;hello-java-queue&quot;,true,false,false); amqpAdmin.declareQueue(queue); log.info(&quot;Queue[{}]:&quot;,&quot;ÂàõÂª∫ÊàêÂäü&quot;); }/** * ÁªëÂÆöÈòüÂàó */ @Test public void createBinding() { // public Binding(String destination, ÁõÆÁöÑÂú∞ // DestinationType destinationType, ÁõÆÁöÑÂú∞Á±ªÂûã // String exchange,‰∫§Êç¢Êú∫ // String routingKey,//Ë∑ØÁî±ÈîÆ Binding binding = new Binding(&quot;hello-java-queue&quot;, Binding.DestinationType.QUEUE, &quot;hello-java.exchange&quot;, &quot;hello.java&quot;,null); amqpAdmin.declareBinding(binding); log.info(&quot;Binding[{}]ÂàõÂª∫ÊàêÂäü&quot;,&quot;hello-java-binding&quot;); } 2„ÄÅRabbitTemplateÔºöÊ∂àÊÅØÂèëÈÄÅÂ§ÑÁêÜÁªÑ‰ª∂ 12345678910111213141516171819202122@Autowired @Test public void sendMessageTest() { for(int i = 1; i &lt;=5; i++) { if(i%2==0) { OrderReturnReasonEntity reasonEntity = new OrderReturnReasonEntity(); reasonEntity.setId(1l); reasonEntity.setCreateTime(new java.util.Date()); reasonEntity.setName(&quot;ÂìàÂìà&quot;); // String msg = &quot;Hello World&quot;; // ÂèëÈÄÅÁöÑÂØπË±°Á±ªÂûãÁöÑÊ∂àÊÅØÔºåÂèØ‰ª•ÊòØ‰∏Ä‰∏™json rabbitTemplate.convertAndSend(&quot;hello-java.exchange&quot;,&quot;hello.java&quot;,reasonEntity); } else { OrderEntity orderEntity = new OrderEntity(); orderEntity.setOrderSn(UUID.randomUUID().toString()); rabbitTemplate.convertAndSend(&quot;hello-java.exchange&quot;,&quot;hello.java&quot;,orderEntity); } log.info(&quot;Ê∂àÊÅØÂèëÈÄÅÂÆåÊàê{}&quot;); } } 13.7 RabbitMQÊ∂àÊÅØÁ°ÆËÆ§Êú∫Âà∂ - ÂèØÈù†Âà∞Ëææ ‰øùËØÅÊ∂àÊÅØ‰∏ç‰∏¢Â§±ÔºåÂèØÈù†ÊäµËææÔºåÂèØ‰ª•‰ΩøÁî®‰∫ãÂä°Ê∂àÊÅØÔºåÊÄßËÉΩ‰∏ãÈôç250ÂÄçÔºå‰∏∫Ê≠§ÂºïÂÖ•Á°ÆËÆ§Êú∫Âà∂ publisher confirmCallback Á°ÆËÆ§Ê®°Âºè publisher returnCallback Êú™ÊäïÈÄíÂà∞ queue ÈÄÄÂõû consumer ack Êú∫Âà∂ ÂèØÈù†ÊäµËææ - ConfirmCallback spring.rabbitmq.publisher-confirms=true Âú®ÂàõÂª∫ connectionFactory ÁöÑÊó∂ÂÄôËÆæÁΩÆ PublisherConfirms(true) ÈÄâÈ°πÔºåÂºÄÂêØ confirmcallback„ÄÇ CorrelationData Áî®Êù•Ë°®Á§∫ÂΩìÂâçÊ∂àÊÅØÂîØ‰∏ÄÊÄß Ê∂àÊÅØÂè™Ë¶ÅË¢´ broker Êé•Êî∂Âà∞Â∞±‰ºöÊâßË°å confirmCallback,Â¶ÇÊûú cluster Ê®°ÂºèÔºåÈúÄË¶ÅÊâÄÊúâ broker Êé•Êî∂Âà∞Êâç‰ºöË∞ÉÁî® confirmCallback Ë¢´ broker Êé•Êî∂Âà∞Âè™ËÉΩË°®Á§∫ message Â∑≤ÁªèÂà∞ËææÊúçÂä°Âô®ÔºåÂπ∂‰∏çËÉΩ‰øùËØÅÊ∂àÊÅØ‰∏ÄÂÆö‰ºöË¢´ÊäïÈÄíÂà∞ÁõÆÊ†á queue ÈáåÔºåÊâÄ‰ª•ÈúÄË¶ÅÁî®Âà∞Êé•‰∏ãÊù•ÁöÑ returnCallback ÂèØÈù†ÊäµËææ - ReturnCallback spring.rabbitmq.publisher-retuns=true spring.rabbitmq.template.mandatory=true confirm Ê®°ÂºèÂè™ËÉΩ‰øùËØÅÊ∂àÊÅØÂà∞Ëææ brokerÔºå‰∏çËÉΩ‰øùËØÅÊ∂àÊÅØÂáÜÁ°ÆÊäïÈÄíÂà∞ÁõÆÊ†á queue Èáå„ÄÇÂú®Êúâ‰∫õÊ®°Âºè‰∏öÂä°Âú∫ÊôØ‰∏ãÔºåÊàë‰ª¨ÈúÄË¶Å‰øùËØÅÊ∂àÊÅØ‰∏ÄÂÆöË¶ÅÊäïÈÄíÂà∞ÁõÆÊ†á queue ÈáåÔºåÊ≠§Êó∂Â∞±ÈúÄË¶ÅÁî®Âà∞ return ÈÄÄÂõûÊ®°Âºè ËøôÊ†∑Â¶ÇÊûúÊú™ËÉΩÊäïÈÄíÂà∞ÁõÆÊ†á queue ÈáåÂ∞ÜË∞ÉÁî® returnCallbackÔºåÂèØ‰ª•ËÆ∞ÂΩï‰∏ãËØ¶ÁªÜÂà∞ÊäïÈÄíÊï∞ÊçÆÔºåÂÆöÊúüÁöÑÂ∑°Ê£ÄÊàñËÄÖËá™Âä®Á∫†ÈîôÈÉΩÈúÄË¶ÅËøô‰∫õÊï∞ÊçÆ ÂèØÈù†ÊäµËææ - Ack Ê∂àÊÅØÁ°ÆËÆ§Êú∫Âà∂ Ê∂àË¥πËÄÖËé∑ÂèñÂà∞Ê∂àÊÅØÔºåÊàêÂäüÂ§ÑÁêÜÔºåÂèØ‰ª•ÂõûÂ§çAckÁªôBroker basic.ack Áî®‰∫éËÇØÂÆöÁ°ÆËÆ§Ôºöbroker Â∞ÜÁßªÈô§Ê≠§Ê∂àÊÅØ basic.nack Áî®‰∫éÂê¶ÂÆöÁ°ÆËÆ§ÔºöÂèØ‰ª•ÊåáÂÆö beoker ÊòØÂê¶‰∏¢ÂºÉÊ≠§Ê∂àÊÅØÔºåÂèØ‰ª•ÊâπÈáè basic.rejectÁî®‰∫éÂê¶ÂÆöÁ°ÆËÆ§ÔºåÂêå‰∏äÔºå‰ΩÜ‰∏çËÉΩÊâπÈáè ÈªòËÆ§ÔºåÊ∂àÊÅØË¢´Ê∂àË¥πËÄÖÊî∂Âà∞ÔºåÂ∞±‰ºö‰ªébrokerÁöÑqueue‰∏≠ÁßªÈô§ Ê∂àË¥πËÄÖÊî∂Âà∞Ê∂àÊÅØÔºåÈªòËÆ§Ëá™Âä®ackÔºå‰ΩÜÊòØÂ¶ÇÊûúÊó†Ê≥ïÁ°ÆÂÆöÊ≠§Ê∂àÊÅØÊòØÂê¶Ë¢´Â§ÑÁêÜÂÆåÊàêÔºåÊàñËÄÖÊàêÂäüÂ§ÑÁêÜÔºåÊàë‰ª¨ÂèØ‰ª•ÂºÄÂêØÊâãÂä®ackÊ®°Âºè Ê∂àÊÅØÂ§ÑÁêÜÊàêÂäüÔºåack()ÔºåÊé•Âèó‰∏ã‰∏ÄÊù°Ê∂àÊÅØÔºåÊ≠§Ê∂àÊÅØbrokerÂ∞±‰ºöÁßªÈô§ Ê∂àÊÅØÂ§ÑÁêÜÂ§±Ë¥•Ôºånack()/reject() ÈáçÊñ∞ÂèëÈÄÅÁªôÂÖ∂‰ªñ‰∫∫ËøõË°åÂ§ÑÁêÜÔºåÊàñËÄÖÂÆπÈîôÂ§ÑÁêÜÂêéack Ê∂àÊÅØ‰∏ÄÁõ¥Ê≤°ÊúâË∞ÉÁî®ack/nackÊñπÊ≥ïÔºåbrockerËÆ§‰∏∫Ê≠§Ê∂àÊÅØÊ≠£Âú®Ë¢´Â§ÑÁêÜÔºå‰∏ç‰ºöÊäïÈÄíÁªôÂà´‰∫∫ÔºåÊ≠§Êó∂ÂÆ¢Êà∑Á´ØÊñ≠ÂºÄÔºåÊ∂àÊÅØ‰∏ç‰ºöË¢´brokerÁßªÈô§Ôºå‰ºöÊäïÈÄíÁªôÂà´‰∫∫ 13.8 RabbitMQ Âª∂Êó∂ÈòüÂàó(ÂÆûÁé∞ÂÆöÊó∂‰ªªÂä°) Âú∫ÊôØ: ÊØîÂ¶ÇÊú™‰ªòÊ¨æÁöÑËÆ¢ÂçïÔºåË∂ÖËøá‰∏ÄÂÆöÊó∂Èó¥ÂêéÔºåÁ≥ªÁªüËá™Âä®ÂèñÊ∂àËÆ¢ÂçïÂπ∂ÈáäÊîæÂç†ÊúâÁâ©ÂìÅ Â∏∏Áî®Ëß£ÂÜ≥ÊñπÊ°àÔºö SpringÁöÑschedule ÂÆöÊó∂‰ªªÂä°ËΩÆËØ¢Êï∞ÊçÆÂ∫ì Áº∫ÁÇπÔºö Ê∂àËÄóÁ≥ªÁªüÂÜÖÂ≠òÔºåÂ¢ûÂä†‰∫ÜÊï∞ÊçÆÂ∫ìÁöÑÂéãÂäõÔºåÂ≠òÂú®ËæÉÂ§ßÁöÑÊó∂Èó¥ËØØÂ∑Æ **Ëß£ÂÜ≥Ôºö**rabbitmqÁöÑÊ∂àÊÅØTTLÂíåÊ≠ª‰ø°ExchangeÁªìÂêà ‰ΩøÁî®Âú∫ÊôØ Êó∂ÊïàÈóÆÈ¢ò ‰∏ä‰∏ÄËΩÆÊâ´ÊèèÂàöÂ•ΩÊâ´ÊèèÔºåËÄåËøô‰∏™Êó∂ÂÄôÂàöÂ•Ω‰∏ã‰∫ÜËÆ¢ÂçïÔºåÂ∞±Ê≤°ÊúâÊâ´ÊèèÂà∞Ôºå‰∏ã‰∏ÄËΩÆÊâ´ÊèèÁöÑÊó∂ÂÄôÔºåËÆ¢ÂçïËøòÊ≤°ÊúâËøáÊúüÔºåÁ≠âÂà∞ËÆ¢ÂçïËøáÊúüÂêé30ÂàÜÈíüÊâçË¢´Êâ´ÊèèÂà∞ Ê∂àÊÅØÁöÑTTLÔºàTime To LiveÔºâ Ê∂àÊÅØÁöÑTTL Â∞±ÊòØÊ∂àÊÅØÁöÑÂ≠òÊ¥ªÊó∂Èó¥Ôºå RabbitMQÂèØ‰ª•ÂØπÈòüÂàóËøòÊúâÊ∂àÊÅØÂàÜÂà´ËÆæÁΩÆTTL ÂØπÈòüÂàóËÆæÁΩÆÂ∞±ÊòØÊ≤°ÊúâÊ∂àË¥πËÄÖËøûÁùÄÁöÑ‰øùÊåÅÊó∂Èó¥Ôºå‰πüÂèØ‰ª•ÂØπÊØè‰∏Ä‰∏™Ê∂àÊÅØÂçïÁã¨ÁöÑËÆæÁΩÆÔºåË∂ÖËøá‰∫ÜËøô‰∏™Êó∂Èó¥Êàë‰ª¨ÂèØ‰ª•ËÆ§‰∏∫Ëøô‰∏™Ê∂àÊÅØ‰ªñÊ≠ª‰∫ÜÔºåÁß∞‰πã‰∏∫Ê≠ª‰ø° Â¶ÇÊûúÈòüÂàóËÆæÁΩÆ‰∫ÜÔºåÊ∂àÊÅØ‰πüËÆæÁΩÆ‰∫ÜÔºåÈÇ£‰πà‰ºöÂèñÂ∞èÔºåÊâÄ‰ª•‰∏Ä‰∏™Ê∂àÊÅØÂ¶ÇÊûúË¢´Ë∑ØÁî±Âà∞‰∏çÂêåÁöÑÈòüÂàó‰∏≠ÔºåËøô‰∏™Ê∂àÊÅØÊ≠ª‰∫°Êó∂Èó¥ÊúâÂèØËÉΩ‰∏ç‰∏ÄÊ†∑ÁöÑÔºà‰∏çÂêåÈòüÂàóËÆæÁΩÆÔºâÔºåËøôÈáåËÆ≤ÁöÑÊòØÂçï‰∏™TTL Âõ†‰∏∫‰ªñÊòØÂÆûÁé∞Âª∂Êó∂‰ªªÂä°ÁöÑÂÖ≥ÈîÆÔºåÂèØ‰ª•ÈÄöËøáËÆæÁΩÆÊ∂àÊÅØÁöÑ expiration Â≠óÊÆµÊàñËÄÖ x-message-ttl Êù•ËÆæÁΩÆÊó∂Èó¥‰∏§ËÄÖÊòØ‰∏ÄÊ†∑ÁöÑÊïàÊûú Dead Letter ExchangeÔºàDLXÔºâ ‰∏Ä‰∏™Ê∂àÊÅØÂú®Êª°Ë∂≥Â¶Ç‰∏ãÊù°‰ª∂‰∏ãÔºå‰ºöËøõÊ≠ª‰ø°Ë∑ØÁî±ÔºåËÆ∞‰ΩèËøôÈáåÊòØË∑ØÁî±‰∏çÊòØÈòüÂàóÔºå‰∏Ä‰∏™Ë∑ØÁî±ÂèØ‰ª•ÂØπÂ∫îÂæàÂ§öÈòüÂàóÔºåÔºà‰ªÄ‰πàÊòØÊ≠ª‰ø°Ôºâ ‰∏Ä‰∏™Ê∂àÊÅØË¢´ConsumerÊãíÊî∂‰∫ÜÔºåÂπ∂‰∏îrejectÊñπÊ≥ïÁöÑÂèÇÊï∞ÈáårequeueÊòØfalse„ÄÇ‰πüÂ∞±ÊòØËØ¥‰∏çË¢´ÂÜçÊ¨°ÊîæÂú®ÈòüÂàóÈáåÔºåË¢´ÂÖ∂‰ªñÊ∂àË¥πËÄÖ‰ΩøÁî®„ÄÇ(basic.reject/ basic.nack) requeue= false‰∏äÈù¢ÁöÑÊ∂àÊÅØÁöÑTTLÂà∞‰∫ÜÔºåÊ∂àÊÅØËøáÊúü‰∫Ü„ÄÇ ÈòüÂàóÁöÑÈïøÂ∫¶ÈôêÂà∂Êª°‰∫Ü„ÄÇÊéíÂú®ÂâçÈù¢ÁöÑÊ∂àÊÅØ‰ºöË¢´‰∏¢ÂºÉÊàñËÄÖÊâîÂà∞Ê≠ª‰ø°Ë∑ØÁî±‰∏ä Dead Letter ExchangeÂÖ∂ÂÆûÂ∞±ÊòØ‰∏ÄÁßçÊôÆÈÄöÁöÑexchange, ÂíåÂàõÂª∫ÂÖ∂‰ªñexchangeÊ≤°Êúâ‰∏§Ê†∑„ÄÇÂè™ÊòØÂú®Êüê‰∏Ä‰∏™ËÆæÁΩÆ Dead Letter ExchangeÁöÑÈòüÂàó‰∏≠ÊúâÊ∂àÊÅØËøáÊúü‰∫ÜËá™Âä®Ëß¶ÂèëÊ∂àÊÅØÁöÑËΩ¨ÂèëÔºåÂèëÈÄÅÂà∞Dead Letter Exchange‰∏≠Âéª„ÄÇ Êàë‰ª¨Êó¢ÂèØ‰ª•ÊéßÂà∂Ê∂àÊÅØÂú®‰∏ÄÊÆµÊó∂Èó¥ÂêéÂèòÊàêÊ≠ª‰ø°Ôºå ÂèàÂèØ‰ª•ÊéßÂà∂ÂèòÊàêÊ≠ª‰ø°ÁöÑÊ∂àÊÅØË¢´Ë∑ØÁî±Âà∞Êüê‰∏Ä‰∏™ÊåáÂÆöÁöÑ‰∫§Êç¢Êú∫Ôºå ÁªìÂêàCËÄÖÔºåÂÖ∂ÂÆûÂ∞±ÂèØ‰ª•ÂÆûÁé∞‰∏Ä‰∏™Âª∂Êó∂ÈòüÂàó Âª∂Êó∂ÈòüÂàóÂÆûÁé∞ - 1 Âª∂Êó∂ÈòüÂàóÂÆûÁé∞ - 2 ‰ª£Á†ÅÂÆûÁé∞Ôºö ‰∏ãÂçïÂú∫ÊôØ Ê®°ÂºèÂçáÁ∫ß ‰ª£Á†ÅÂÆûÁé∞Ôºö SpringBootÂèØ‰ª•‰ΩøÁî®@Bean Êù•ÂàùÂßãÂåñQueue„ÄÅexchange„ÄÅBidingÁ≠â 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374/** * ÁõëÂê¨ÈòüÂàó‰ø°ÊÅØ * @param orderEntity */@RabbitListener(queues = &quot;order.release.order.queue&quot;)public void listener(OrderEntity orderEntity, Channel channel, Message message) throws IOException { System.out.println(&quot;Êî∂Âà∞ËøáÊúüÁöÑËÆ¢Âçï‰ø°ÊÅØÔºåÂáÜÂ§áÂÖ≥Èó≠ËÆ¢Âçï&quot; + orderEntity.getOrderSn()); // Á°ÆËÆ§Êé•Êî∂Âà∞Ê∂àÊÅØÔºå‰∏çÊâπÈáèÊé•Êî∂ channel.basicAck(message.getMessageProperties().getDeliveryTag(), false);}/** * ÂÆπÂô®‰∏≠ÁöÑ Binding„ÄÅQueue„ÄÅexchange ÈÉΩ‰ºöËá™Âä®ÂàõÂª∫Ôºå(RabbitMQÊ≤°ÊúâÁöÑÊÉÖÂÜµ‰∏ã) * @return */@Beanpublic Queue orderDelayQueue(){ // ÁâπÊÆäÂèÇÊï∞ Map&lt;String,Object&gt; map = new HashMap&lt;&gt;(); // ËÆæÁΩÆ‰∫§Êç¢Âô® map.put(&quot;x-dead-letter-exchange&quot;, &quot;order-event-exchange&quot;); // Ë∑ØÁî±ÈîÆ map.put(&quot;x-dead-letter-routing-key&quot;,&quot;order.release.order&quot;); // Ê∂àÊÅØËøáÊúüÊó∂Èó¥ map.put(&quot;x-message-ttl&quot;,60000); Queue queue = new Queue(&quot;order.delay.queue&quot;, true, false, false,map); return queue;}/** * ÂàõÂª∫ÈòüÂàó * @return */@Beanpublic Queue orderReleaseOrderQueue() { Queue queue = new Queue(&quot;order.release.order.queue&quot;, true, false, false); return queue;}/** * ÂàõÂª∫‰∫§Êç¢Êú∫ * @return */@Beanpublic Exchange orderEventExchange() { return new TopicExchange(&quot;order-event-exchange&quot;,true,false);}/** * ÁªëÂÆöÂÖ≥Á≥ª Â∞Üdelay.queueÂíåevent-exchangeËøõË°åÁªëÂÆö * @return */@Beanpublic Binding orderCreateOrderBingding(){ return new Binding(&quot;order.delay.queue&quot;, Binding.DestinationType.QUEUE, &quot;order-event-exchange&quot;, &quot;order.create.order&quot;, null);}/** * Â∞Ü release.queue Âíå event-exchangeËøõË°åÁªëÂÆö * @return */@Beanpublic Binding orderReleaseOrderBinding(){ return new Binding(&quot;order.release.order.queue&quot;, Binding.DestinationType.QUEUE, &quot;order-event-exchange&quot;, &quot;order.release.order&quot;, null);} 13.9 Â¶Ç‰Ωï‰øùËØÅÊ∂àÊÅØÂèØÈù†ÊÄß - Ê∂àÊÅØ‰∏¢Â§± &amp; Ê∂àÊÅØÈáçÂ§ç 1„ÄÅÊ∂àÊÅØ‰∏¢Â§± Ê∂àÊÅØÂèëÈÄÅÂá∫ÂéªÔºåÁî±‰∫éÁΩëÁªúÈóÆÈ¢òÊ≤°ÊúâÊäµËææÊúçÂä°Âô® ÂÅöÂ•ΩÂÆπÈîôÊñπÊ≥ï(try-Catch) ÔºåÂèëÈÄÅÊ∂àÊÅØÂèØËÉΩ‰ºöÁΩëÁªúÂ§±Ë¥•ÔºåÂ§±Ë¥•ÂêéË¶ÅÊúâÈáçËØïÊú∫Âà∂ÔºåÂèØËÆ∞ÂΩïÂà∞Êï∞ÊçÆÂ∫ìÔºåÈááÁî®ÂÆöÊúüÊâ´ÊèèÈáçÂèëÁöÑÊñπÂºè ÂÅöÂ•ΩÊó•ÂøóËÆ∞ÂΩïÔºåÊØè‰∏™Ê∂àÊÅØÁä∂ÊÄÅÊòØÂê¶ÈÉΩË¢´ÊúçÂä°Âô®Êî∂Âà∞ÈÉΩÂ∫îËØ•ËÆ∞ÂΩï ÂÅöÂ•ΩÂÆöÊúüÈáçÂèëÔºåÂ¶ÇÊûúÊ∂àÊÅØÊ≤°ÊúâÂèëÈÄÅÊàêÂäüÔºåÂÆöÊúüÂéªÊï∞ÊçÆÂ∫ìÊâ´ÊèèÊú™ÊàêÂäüÁöÑÊ∂àÊÅØËøõË°åÈáçÂèë Ê∂àÊÅØÊäµËææBroker, BrokerË¶ÅÂ∞ÜÊ∂àÊÅØÂÜôÂÖ•Á£ÅÁõò(ÊåÅ‰πÖÂåñ)ÊâçÁÆóÊàêÂäü„ÄÇÊ≠§Êó∂BrokerÂ∞öÊú™ÊåÅ‰πÖÂåñÂÆåÊàêÔºåÂÆïÊú∫„ÄÇ publisher‰πüÂøÖÈ°ªÂä†ÂÖ•Á°ÆËÆ§ÂõûË∞ÉÊú∫Âà∂ÔºåÁ°ÆËÆ§ÊàêÂäüÁöÑÊ∂àÊÅØÔºå‰øÆÊîπÊï∞ÊçÆÂ∫ìÊ∂àÊÅØÁä∂ÊÄÅ„ÄÇ Ëá™Âä®ACKÁöÑÁä∂ÊÄÅ‰∏ã„ÄÇÊ∂àË¥πËÄÖÊî∂Âà∞Ê∂àÊÅØÔºå‰ΩÜÊ≤°Êù•ÂæóÂèäÊ∂àÊÅØÁÑ∂ÂêéÂÆïÊú∫ ‰∏ÄÂÆöÂºÄÂêØÊâãÂä®ACKÔºåÊ∂àË¥πÊàêÂäüÊâçÁßªÈô§ÔºåÂ§±Ë¥•ÊàñËÄÖÊ≤°Êù•ÂæóÂèäÂ§ÑÁêÜÂ∞±noAckÂπ∂ÈáçÊñ∞ÂÖ•Èòü 2„ÄÅÊ∂àÊÅØÈáçÂ§ç Ê∂àÊÅØÊ∂àË¥πÊàêÂäüÔºå‰∫ãÂä°Â∑≤ÁªèÊèê‰∫§ÔºåackÊó∂ÔºåÊú∫Âô®ÂÆïÊú∫„ÄÇÂØºËá¥Ê≤°ÊúâackÊàêÂäüÔºåBrokerÁöÑÊ∂àÊÅØÈáçÊñ∞Áî±unackÂèò‰∏∫ready,Âπ∂ÂèëÈÄÅÁªôÂÖ∂‰ªñÊ∂àË¥πËÄÖ Ê∂àÊÅØÊ∂àË¥πÂ§±Ë¥•ÔºåÁî±‰∫éÈáçËØïÊú∫Âà∂ÔºåËá™Âä®ÂèàÂ∞ÜÊ∂àÊÅØÂèëÈÄÅÂá∫Âéª ÊàêÂäüÊ∂àË¥πÔºåackÊó∂ÂÆïÊú∫ÔºåÊ∂àÊÅØÁî±unackÂèò‰∏∫ready, BrokerÂèàÈáçÊñ∞ÂèëÈÄÅ Ê∂àË¥πËÄÖÁöÑ‰∏öÂä°Ê∂àË¥πÊé•Âè£Â∫îËØ•ËÆæËÆ°‰∏∫ÂπÇÁ≠âÊÄßÁöÑ„ÄÇÊØîÂ¶ÇÊâ£Â∫ìÂ≠òÊúâÂ∑•‰ΩúÂçïÁöÑÁä∂ÊÄÅÊ†áÂøó ‰ΩøÁî®Èò≤ÈáçË°®(redis/mysq|) ÔºåÂèëÈÄÅÊ∂àÊÅØÊØè‰∏Ä ‰∏™ÈÉΩÊúâ‰∏öÂä°ÁöÑÂîØ‰∏Ä Ê†áËØÜÔºåÂ§ÑÁêÜËøáÂ∞±‰∏çÁî®Â§ÑÁêÜ rabbitMQÁöÑÊØè‰∏Ä‰∏™Ê∂àÊÅØÈÉΩÊúâredeliveredÂ≠óÊÆµÔºå ÂèØ‰ª•Ëé∑ÂèñÊòØÂê¶ÊòØË¢´ÈáçÊñ∞ÊäïÈÄíËøáÊù•ÁöÑÔºåËÄå‰∏çÊòØÁ¨¨‰∏ÄÊ¨°ÊäïÈÄíËøáÊù•ÁöÑ 3„ÄÅÊ∂àÊÅØÁßØÂéã Ê∂àË¥πËÄÖÁßØÂéã Ê∂àË¥πËÄÖÊ∂àË¥πËÉΩÂäõ‰∏çË∂≥ÁßØÂéã ÂèëÈÄÅËÄÖÂèëÈÄÅÊµÅÈáèÂ§™Â§ß ‰∏äÁ∫øÊõ¥Â§öÊ∂àË¥πËÄÖÔºåËøõË°åÊ≠£Â∏∏Ê∂àË¥π ‰∏äÁ∫ø‰∏ìÈó®ÁöÑÈòüÂàóÊ∂àË¥πÊúçÂä°ÔºåÂ∞ÜÊ∂àÊÅØÂÖàÊâπÈáèÂèñÂá∫Êù•ÔºåËÆ∞ÂΩïÊï∞ÊçÆÂ∫ìÔºåÁ¶ªÁ∫øÊÖ¢ÊÖ¢Â§ÑÁêÜ 14„ÄÅËÆ¢Âçï 14.1 ËÆ¢Âçï‰∏≠ÂøÉ 1„ÄÅËÆ¢Âçï‰∏≠ÂøÉ ÁîµÂïÜÁ≥ªÂàóÊ∂âÂèäÂà∞ 3 ÊµÅÔºåÂàÜÂà´‰∏∫‰ø°ÊÅØÊµÅ„ÄÅËµÑÈáëÊµÅ„ÄÅÁâ©ÊµÅÔºåËÄåËÆ¢ÂçïÁ≥ªÁªü‰Ωú‰∏∫‰∏≠Êû¢Â∞Ü‰∏âËÄÖÊúâÊú∫ÁöÑÈõÜÂêàËµ∑Êù• ËÆ¢ÂçïÊ®°ÂùóÊòØÁîµÂïÜÁ≥ªÁªüÁöÑÊû¢Á∫ΩÔºåÂú®ËÆ¢ÂçïËøô‰∏™Ê®°Âùó‰∏äËé∑ÂèñÂ§ö‰∏™Ê®°ÂùóÁöÑÊï∞ÊçÆÂíå‰ø°ÊÅØÔºåÂêåÊó∂ÂØπËøô‰∫õ‰ø°ÊÅØËøõË°åÂä†Â∑•Â§ÑÁêÜÂêéÊµÅÂêë‰∏ã‰∏™ÁéØËäÇÔºåËøô‰∏ÄÁ≥ªÂàóÂ∞±ÊûÑÊàê‰∫ÜËÆ¢ÂçïÁöÑ‰ø°ÊÅØÁñèÈÄö 1„ÄÅËÆ¢ÂçïÊûÑÊàê 1„ÄÅÁî®Êà∑‰ø°ÊÅØ Áî®Êà∑‰ø°ÊÅØÂåÖÊã¨ÊòØÁî®Êà∑Ë¥¶Âè∑„ÄÅÁî®Êà∑Á≠âÁ∫ß„ÄÅÁî®Êà∑ÁöÑÊî∂Ë¥ßÂú∞ÂùÄ„ÄÅÊî∂Ë¥ß‰∫∫„ÄÅÊî∂Ë¥ß‰∫∫ÁîµËØù„ÄÅÁî®Êà∑Ë¥¶Âè∑ÈúÄË¶ÅÁªëÂÆöÊâãÊú∫Âè∑Á†ÅÔºå‰ΩÜÊòØÁî®Êà∑ÁªëÂÆöÁöÑÊâãÊú∫Âè∑Á†Å‰∏ç‰∏ÄÂÆöÊòØÊî∂Ë¥ß‰ø°ÊÅØ‰∏äÁöÑÁîµËØù„ÄÇÁî®Êà∑ÂèØ‰ª•Ê∑ªÂä†Â§ö‰∏™Êî∂Ë¥ß‰ø°ÊÅØÔºåÁî®Êà∑Á≠âÁ∫ß‰ø°ÊÅØÂèØ‰ª•Áî®Êù•Âíå‰øÉÈîÄÁ≥ªÁªüËøõË°åÂåπÈÖçÔºåËé∑ÂèñÂïÜÂìÅÊäòÊâ£ÔºåÂêåÊó∂Áî®Êà∑Á≠âÁ∫ßËøòÂèØ‰ª•Ëé∑ÂèñÁßØÂàÜÁöÑÂ•ñÂä±Á≠â 2„ÄÅËÆ¢ÂçïÂü∫Á°Ä‰ø°ÊÅØ ËÆ¢ÂçïÂü∫Á°Ä‰ø°ÊÅØÊòØËÆ¢ÂçïÊµÅËΩ¨ÁöÑÊ†∏ÂøÉÔºåÂÖ∂ÂåÖÊã¨ËÆ¢ÂçïÁ±ªÂûãÔºåÁà∂/Â≠êËÆ¢Âçï„ÄÅËÆ¢ÂçïÁºñÂè∑„ÄÅËÆ¢ÂçïÁä∂ÊÄÅ„ÄÅËÆ¢ÂçïÊµÅËΩ¨Êó∂Èó¥Á≠â ËÆ¢ÂçïÁ±ªÂûãÂåÖÊã¨ÂÆû‰ΩìËÆ¢ÂçïÂíåËôöÊãüËÆ¢ÂçïÂïÜÂìÅÁ≠âÔºåËøô‰∏™Ê†πÊçÆÂïÜÂüéÂïÜÂìÅÂíåÊúçÂä°Á±ªÂûãËøõË°åÂå∫ÂàÜ ÂêåÊó∂ËÆ¢ÂçïÈÉΩÈúÄË¶ÅÂÅöÁà∂Â≠êËÆ¢ÂçïÂ§ÑÁêÜÔºå‰πãÂâçÂú®ÂàùÂàõÂÖ¨Âè∏‰∏ÄÁõ¥Âè™Êúâ‰∏Ä‰∏™ËÆ¢ÂçïÔºåÊ≤°ÊúâÂÅöÁà∂Â≠êËÆ¢ÂçïÂ§ÑÁêÜÂêéÊúüÈúÄ Ë¶ÅËøõË°åÊãÜÂçïÁöÑÊó∂ÂÄôÂ∞±ÊØîËæÉÈ∫ªÁÉ¶ÔºåÂ∞§ÂÖ∂ÊòØÂ§öÂïÜÊà∑ÂïÜÂú∫ÔºåÂíå‰∏çÂêå‰ªìÂ∫ìÂïÜÂìÅÁöÑÊó∂ÂÄôÔºåÁà∂Â≠êËÆ¢ÂçïÂ∞±ÊòØ‰∏∫ÂêéÊúüÂÅöÊãÜÂçïÂáÜÂ§áÁöÑ„ÄÇ ËÆ¢ÂçïÁºñÂè∑‰∏çÂ§öËØ¥‰∫ÜÔºåÈúÄË¶ÅÂº∫Ë∞ÉÁöÑ‰∏ÄÁÇπÊòØÁà∂Â≠êËÆ¢ÂçïÈÉΩÈúÄË¶ÅÊúâËÆ¢ÂçïÁºñÂè∑ÔºåÈúÄË¶ÅÂÆåÂñÑÁöÑÊó∂ÂÄôÂèØ‰ª•ÂØπËÆ¢ÂçïÁºñÂè∑ÁöÑÊØè‰∏™Â≠óÊÆµËøõË°åÁªü‰∏ÄÂÆö‰πâÂíåËØ†Èáä„ÄÇ ËÆ¢ÂçïÁä∂ÊÄÅËÆ∞ÂΩïËÆ¢ÂçïÊØèÊ¨°ÊµÅËΩ¨ËøáÁ®ãÔºåÂêéÈù¢‰ºöÂØπËÆ¢ÂçïÁä∂ÊÄÅËøõË°åÂçïÁã¨ÁöÑËØ¥Êòé„ÄÇ ËÆ¢ÂçïÊµÅËΩ¨Êó∂Èó¥ÈúÄË¶ÅËÆ∞ÂΩï‰∏ãÂçïÊó∂Èó¥ÔºåÊîØ‰ªòÊó∂Èó¥ÔºåÂèëË¥ßÊó∂Èó¥ÔºåÁªìÊùüÊó∂Èó¥/ÂÖ≥Èó≠Êó∂Èó¥Á≠âÁ≠â 3„ÄÅÂïÜÂìÅ‰ø°ÊÅØ ÂïÜÂìÅ‰ø°ÊÅØ‰ªéÂïÜÂìÅÂ∫ì‰∏≠Ëé∑ÂèñÂïÜÂìÅÁöÑSKU‰ø°ÊÅØ„ÄÅÂõæÁâá„ÄÅÂêçÁß∞„ÄÅÂ±ûÊÄßËßÑÊ†º„ÄÅÂïÜÂìÅÂçï‰ª∑„ÄÅÂïÜÊà∑‰ø°ÊÅØÁ≠âÔºå‰ªéÁî®Êà∑ ‰∏ãÂçïË°å‰∏∫ËÆ∞ÂΩïÁöÑÁî®Êà∑‰∏ãÂçïÊï∞ÈáèÔºåÂïÜÂìÅÂêàËÆ°‰ª∑Ê†ºÁ≠â 4„ÄÅ‰ºòÊÉ†‰ø°ÊÅØ ‰ºòÊÉ†‰ø°ÊÅØËÆ∞ÂΩïÁî®Êà∑ÂèÇ‰∏éËøáÁöÑ‰ºòÊÉ†Ê¥ªÂä®ÔºåÂåÖÊã¨‰ºòÊÉ†‰øÉÈîÄÊ¥ªÂä®ÔºåÊØîÂ¶ÇÊª°Âáè„ÄÅÊª°Ëµ†„ÄÅÁßíÊùÄÁ≠âÔºåÁî®Êà∑‰ΩøÁî®ÁöÑ‰ºò ÊÉ†Âç∑‰ø°ÊÅØÔºå‰ºòÊÉ†Âç∑Êª°Ë∂≥Êù°‰ª∂ÁöÑ‰ºòÊÉ†Âç∑ÈúÄË¶ÅÂ±ïÁ§∫Âá∫Êù•ÔºåÂè¶Â§ñËôöÊãüÂ∏ÅÊäµÊâ£‰ø°ÊÅØÁ≠âËøõË°åËÆ∞ÂΩï ‰∏∫‰ªÄ‰πàÊää‰ºòÊÉ†‰ø°ÊÅØÂçïÁã¨ÊãøÂá∫Êù•ËÄå‰∏çÊîæÂú®ÊîØ‰ªò‰ø°ÊÅØÈáåÈù¢Âë¢? Âõ†‰∏∫‰ºòÊÉ†‰ø°ÊÅØÂè™ÊòØËÆ∞ÂΩïÁî®Êà∑‰ΩøÁî®ÁöÑÊù°ÁõÆÔºåËÄåÊîØ‰ªò‰ø°ÊÅØÈúÄË¶ÅÂä†ÂÖ•Êï∞ÊçÆËøõË°åËÆ°ÁÆóÔºåÊâÄ‰ª•ÂÅö‰∏∫Âå∫ÂàÜ„ÄÇ 5„ÄÅÊîØ‰ªò‰ø°ÊÅØ ÊîØ‰ªòÊµÅÊ∞¥ÂçïÂè∑ÔºåËøô‰∏™ÊµÅÊ∞¥ÂçïÂè∑ÊòØÂú®Âî§Ëµ∑ÁΩëÂÖ≥ÊîØ‰ªòÂêéÊîØ‰ªòÈÄöÈÅìËøîÂõûÁªôÁîµÂïÜ‰∏öÂä°Âπ≥Âè∞ÁöÑÊîØ‰ªòÊµÅÊ∞¥Âè∑ÔºåË¥¢Âä° ÈÄöËøáËÆ¢ÂçïÂè∑ÂíåÊµÅÊ∞¥ÂçïÂè∑‰∏éÊîØ‰ªòÈÄöÈÅìËøõË°åÂØπË¥¶‰ΩøÁî®„ÄÇ ÊîØ‰ªòÊñπÂºèÁî®Êà∑‰ΩøÁî®ÁöÑÊîØ‰ªòÊñπÂºèÔºåÊØîÂ¶ÇÂæÆ‰ø°ÊîØ‰ªò„ÄÅÊîØ‰ªòÂÆùÊîØ‰ªò„ÄÅÈí±ÂåÖÊîØ‰ªò„ÄÅÂø´Êç∑ÊîØ‰ªòÁ≠â„ÄÇÊîØ‰ªòÊñπÂºèÊúâÊó∂ÂÄôÂèØËÉΩÊúâ‰∏§‰∏™‰∏Ä-‰ΩôÈ¢ùÊîØ‰ªò+Á¨¨‰∏âÊñπÊîØ‰ªò„ÄÇ ÂïÜÂìÅÊÄªÈáëÈ¢ùÔºåÊØè‰∏™ÂïÜÂìÅÂä†ÊÄªÂêéÁöÑÈáëÈ¢ù:ËøêË¥πÔºåÁâ©ÊµÅ‰∫ßÁîüÁöÑË¥πÁî®;‰ºòÊÉ†ÊÄªÈáëÈ¢ùÔºåÂåÖÊã¨‰øÉÈîÄÊ¥ªÂä®ÁöÑ‰ºòÊÉ†ÈáëÈ¢ùÔºå ‰ºòÊÉ†Âà∏‰ºòÊÉ†ÈáëÈ¢ùÔºåËôöÊãüÁßØÂàÜÊàñËÄÖËôõÊãüÂ∏ÅÊäµÊâ£ÁöÑÈáëÈ°çÔºå‰ºöÂëòÊäòÊâ£ÁöÑÈáëÈ¢ùÁ≠â‰πãÂíå;ÂÆû‰ªòÈáëÈ¢ùÔºåÁî®Êà∑ÂÆûÈôÖÈúÄË¶Å ‰ªòÊ¨æÁöÑÈáëÈ¢ù„ÄÇ Áî®Êà∑ÂÆû‰ªòÈáëÈ¢ù=ÂïÜÂìÅÊÄªÈáëÈ¢ù+ËøêË¥π - ‰ºòÊÉ†ÊÄªÈáëÈ¢ù 6„ÄÅÁâ©ÊµÅ‰ø°ÊÅØ Áâ©ÊµÅ‰ø°ÊÅØÂåÖÊã¨ÈÖçÈÄÅÊñπÂºèÔºåÁâ©ÊµÅÂÖ¨Âè∏ÔºåÁâ©ÊµÅÂçïÂè∑ÔºåÁâ©ÊµÅÁä∂ÊÄÅÔºåÁâ©ÊµÅÁä∂ÊÄÅÂèØ‰ª•ÈÄöËøáÁ¨¨‰∏âÊñπÊé•Âè£Êù• Ëé∑ÂèñÂíåÂêëÁî®Êà∑Â±ïÁ§∫Áâ©ÊµÅÊØè‰∏™Áä∂ÊÄÅËäÇÁÇπ„ÄÇ 2„ÄÅËÆ¢ÂçïÁä∂ÊÄÅ 1„ÄÅÂæÖ‰ªòÊ¨æ Áî®Êà∑Êèê‰∫§ËÆ¢ÂçïÂêéÔºåËÆ¢ÂçïËøõË°åÈ¢Ñ‰∏ãÂçïÔºåÁõÆÂâç‰∏ªÊµÅÁîµÂïÜÁΩëÁ´ôÈÉΩ‰ºöÂî§Ëµ∑ÊîØ‰ªòÔºå‰æø‰∫éÁî®Êà∑Âø´ÈÄüÂÆåÊàêÊîØ ‰ªòÔºåÈúÄË¶ÅÊ≥®ÊÑèÁöÑÊòØÂæÖ‰ªòÊ¨æÁä∂ÊÄÅ‰∏ãÂèØ‰ª•ÂØπÂ∫ìÂ≠òËøõË°åÈîÅÂÆöÔºåÈîÅÂÆöÂ∫ìÂ≠òÈúÄË¶ÅÈÖçÁΩÆÊîØ‰ªòË∂ÖÊó∂Êó∂Èó¥ÔºåË∂Ö Êó∂ÂêéÂ∞ÜËá™Âä®ÂèñÊ∂àËÆ¢ÂçïÔºåËÆ¢ÂçïÂèòÊõ¥ÂÖ≥Èó≠Áä∂ÊÄÅ„ÄÇ 2„ÄÅÂ∑≤‰ªòÊ¨æ/‰ª£ÂèëË¥ß Áî®Êà∑ÂÆåÊàêËÆ¢ÂçïÊîØ‰ªòÔºåËÆ¢ÂçïÁ≥ªÁªüÈúÄË¶ÅËÆ∞ÂΩïÊîØ‰ªòÊó∂Èó¥ÔºåÊîØ‰ªòÊµÅÊ∞¥ÂçïÂè∑‰æø‰∫éÂØπË¥¶ÔºåËÆ¢Âçï‰∏ãÊîæÂà∞WMSÁ≥ªÁªüÔºå‰ªìÂ∫ìËøõË°åË∞ÉÂä®„ÄÅÈÖçË¥ß„ÄÅÂàÜÊã£ÔºåÂá∫Â∫ìÁ≠âÊìç‰Ωú 3„ÄÅÂæÖÊî∂Ë¥ß/Â∑≤ÂèëË¥ß ‰ªìÂ∫ìÂ∞ÜÂïÜÂìÅÂá∫Â∫ìÂêéÔºåËÆ¢ÂçïËøõÂÖ•Áâ©ÊµÅÁéØËäÇÔºåËÆ¢ÂçïÁ≥ªÁªüÈúÄË¶ÅÂêåÊ≠•Áâ©ÊµÅ‰ø°ÊÅØÔºå‰æø‰∫éÁî®Êà∑ÂÆûÊó∂ÁÜüÊÇâÂïÜÂìÅÁöÑÁâ©ÊµÅÁä∂ÊÄÅ 4„ÄÅÂ∑≤ÂÆåÊàê Áî®Êà∑Á°ÆËÆ§Êî∂Ë¥ßÂêéÂêóÔºåËÆ¢Âçï‰∫§ÊòìÂÆåÊàêÔºåÂêéÁª≠ÊîØ‰ªòÂàôËøõË°åËÆ°ÁÆóÔºåÂ¶ÇÊûúËÆ¢ÂçïÂ≠òÂú®ÈóÆÈ¢òËøõÂÖ•ÂîÆÂêéÁä∂ÊÄÅ 5„ÄÅÂ∑≤ÂèñÊ∂à ‰ªòÊ¨æ‰πãÂâçÂèñÊ∂àËÆ¢ÂçïÔºåÂåÖÊã¨Ë∂ÖÊó∂Êú™‰ªòÊ¨æÊàñÁî®Êà∑ÂïÜÊà∑ÂèñÊ∂àËÆ¢ÂçïÈÉΩ‰ºö‰∫ßÁîüËøôÁßçËÆ¢ÂçïÁä∂ÊÄÅ 6„ÄÅÂîÆÂêé‰∏≠ Áî®Êà∑Âú®‰ªòÊ¨æÂêéÁî≥ËØ∑ÈÄÄÊ¨æÔºåÊàñÂïÜÂÆ∂ÂèëË¥ßÂêéÁî®Êà∑Áî≥ËØ∑ÈÄÄË¥ß ÂîÆÂêé‰πüÂêåÊ†∑Â≠òÂú®ÂêÑÁßçÁä∂ÊÄÅÔºåÂΩìÂèëËµ∑ÂîÆÂêéÁî≥ËØ∑ÂêéÁîüÊàêÂîÆÂêéËÆ¢ÂçïÔºåÂîÆÂêéËÆ¢ÂçïÁä∂ÊÄÅ‰∏∫ÂæÖÂÆ°Ê†∏ÔºåÁ≠âÂæÖ ÂïÜÂÆ∂ÂÆ°Ê†∏ÔºåÂïÜÂÆ∂ÂÆ°Ê†∏ÈÄöËøáÂêéËÆ¢ÂçïÁä∂ÊÄÅÂèòÊõ¥‰∏∫ÂæÖÈÄÄË¥ßÔºåÁ≠âÂæÖÁî®Êà∑Â∞ÜÂïÜÂìÅÂØÑÂõûÔºåÂïÜÂÆ∂Êî∂Ë¥ßÂêéËÆ¢Âçï Áä∂ÊÄÅÊõ¥Êñ∞‰∏∫ÂæÖÈÄÄÊ¨æÁä∂ÊÄÅÔºåÈÄÄÊ¨æÂà∞Áî®Êà∑ÂéüË¥¶Êà∑ÂêéËÆ¢ÂçïÁä∂ÊÄÅÊõ¥Êñ∞‰∏∫ÂîÆÂêéÊàêÂäü„ÄÇ 14.2 ËÆ¢ÂçïÊµÅÁ®ã ËÆ¢ÂçïÊµÅÁ®ãÊòØÊåá‰ªéËÆ¢Âçï‰∫ßÁîüÂà∞ÂÆåÊàêÊï¥‰∏™ÊµÅËΩ¨ÁöÑËøáÁ®ãÔºå‰ªéËÄåË°åÁ®ã‰∫Ü-Â•óÊ†áÂáÜÊµÅÁ®ãËßÑÂàô„ÄÇËÄå‰∏çÂêåÁöÑ‰∫ßÂìÅÁ±ªÂûãÊàñ‰∏öÂä°Á±ªÂûãÂú®Á≥ªÁªü‰∏≠ÁöÑÊµÅÁ®ã‰ºöÂçÉÂ∑Æ‰∏áÂà´ÔºåÊØîÂ¶Ç‰∏äÈù¢ÊèêÂà∞ÁöÑÁ∫ø‰∏äÂÆûÁâ©ËÆ¢ÂçïÂíåËôöÊãüËÆ¢ÂçïÁöÑÊµÅÁ®ãÔºåÁ∫ø‰∏äÂÆûÁâ©ËÆ¢Âçï‰∏é020ËÆ¢ÂçïÁ≠âÔºåÊâÄ‰ª•ÈúÄË¶ÅÊ†πÊçÆ‰∏çÂêåÁöÑÁ±ªÂûãËøõË°åÊûÑÂª∫ËÆ¢ÂçïÊµÅÁ®ã„ÄÇ‰∏çÁÆ°Á±ªÂûãÂ¶Ç‰ΩïËÆ¢ÂçïÈÉΩÂåÖÊã¨Ê≠£ÂêëÊµÅÁ®ãÂíåÈÄÜÂêëÊµÅÁ®ãÔºåÂØπÂ∫îÁöÑÂú∫ÊôØÂ∞±ÊòØË¥≠‰π∞ÂïÜÂìÅÂíåÈÄÄÊç¢Ë¥ßÊµÅÁ®ãÔºåÊ≠£ÂêëÊµÅÁ®ãÂ∞±ÊòØ‰∏Ä‰∏Ä‰∏™Ê≠£Â∏∏ÁöÑÁΩëË¥≠Ê≠•È™§:ËÆ¢ÂçïÁîüÊàê&gt;ÊîØ‰ªòËÆ¢Âçï-&gt;ÂçñÂÆ∂ÂèëË¥ß‰∏ÄÁ°ÆËÆ§Êî∂Ë¥ß&gt;‰∫§ÊòìÊàêÂäü„ÄÇËÄåÊØè‰∏™Ê≠•È™§ÁöÑËÉåÂêéÔºåËÆ¢ÂçïÊòØÂ¶Ç‰ΩïÂú®Â§öÁ≥ªÁªü‰πãÈó¥‰∫§‰∫íÊµÅËΩ¨ÁöÑÔºå ÂèØÊ¶ÇÊã¨Â¶Ç‰∏ãÂõæ 1„ÄÅËÆ¢ÂçïÂàõÂª∫‰∏éÊîØ‰ªò ËÆ¢ÂçïÂàõÂª∫ÂâçÈúÄË¶ÅÈ¢ÑËßàËÆ¢ÂçïÔºåÈÄâÊã©Êî∂Ë¥ß‰ø°ÊÅØÁ≠â ËÆ¢ÂçïÂàõÂª∫ÈúÄË¶ÅÈîÅÂÆöÂ∫ìÂ≠òÔºåÂ∫ìÂ≠òÊúâÊâçÂèØÂàõÂª∫ÔºåÂê¶Âàô‰∏çËÉΩÂàõÂª∫ ËÆ¢ÂçïÂàõÂª∫ÂêéË∂ÖÊó∂Êú™ÊîØ‰ªòÈúÄË¶ÅËß£ÈîÅÂ∫ìÂ≠ò ÊîØ‰ªòÊàêÂäüÂêéÔºåÈúÄË¶ÅËøõË°åÊãÜÂçïÔºåÊ†πÊçÆÂïÜÂìÅÊâìÂåÖÊñπÂºèÔºåÊâÄÂú®‰ªìÂ∫ìÔºåÁâ©ÊµÅÁ≠âËøõË°åÊãÜÂçï ÊîØ‰ªòÁöÑÊØèÁ¨îÊµÅÊ∞¥ÈÉΩÈúÄË¶ÅËÆ∞ÂΩïÔºå‰ª•ÂæÖÊü•Ë¥¶ ËÆ¢ÂçïÂàõÂª∫ÔºåÊîØ‰ªòÊàêÂäüÁ≠âÁä∂ÊÄÅÈÉΩÈúÄË¶ÅÁªôMQÂèëÈÄÅÊ∂àÊÅØÔºåÊñπ‰æøÂÖ∂‰ªñÁ≥ªÁªüÊÑüÁü•ËÆ¢ÈòÖ 2„ÄÅÈÄÜÂêëÊµÅÁ®ã ‰øÆÊîπËÆ¢ÂçïÔºåÁî®Êà∑Ê≤°ÊúâÊèê‰∫§ËÆ¢ÂçïÔºåÂèØ‰ª•ÂØπËÆ¢Âçï‰∏Ä‰∫õ‰ø°ÊÅØËøõË°å‰øÆÊîπÔºåÊØîÂ¶ÇÈÖçÈÄÅ‰ø°ÊÅØÔºå‰ºòÊÉ†‰ø°ÊÅØÔºåÂèäÂÖ∂‰ªñ‰∏Ä‰∫õËÆ¢ÂçïÂèØ‰øÆÊîπËåÉÂõ¥ÁöÑÂÜÖÂÆπÔºåÊ≠§Êó∂Âè™ÈúÄÂØπÊï∞ÊçÆËøõË°åÂèòÊõ¥Âç≥ÂèØ„ÄÇ ËÆ¢ÂçïÂèñÊ∂à**ÔºåÁî®Êà∑‰∏ªÂä®ÂèñÊ∂àËÆ¢ÂçïÂíåÁî®Êà∑Ë∂ÖÊó∂Êú™ÊîØ‰ªò**Ôºå‰∏§ÁßçÊÉÖÂÜµ‰∏ãËÆ¢ÂçïÈÉΩ‰ºöÂèñÊ∂àËÆ¢ÂçïÔºåËÄåË∂ÖÊó∂ÊÉÖÂÜµÊòØÁ≥ªÁªüËá™Âä®ÂÖ≥Èó≠ËÆ¢ÂçïÔºåÊâÄ‰ª•Âú®ËÆ¢ÂçïÊîØ‰ªòÁöÑÂìçÂ∫îÊú∫Âà∂‰∏äÈù¢Ë¶ÅÂÅöÊîØ‰ªòÁöÑ 14.3 ÂπÇÁ≠âÊÄßÂ§ÑÁêÜ 14.4 ËÆ¢Âçï‰∏öÂä° 1„ÄÅÊê≠Âª∫ÁéØÂ¢É Âú®ËÆ¢ÂçïÊúçÂä°‰∏ãÂáÜÂ§áÂ•ΩÈ°µÈù¢ ÂèØ‰ª•ÂèëÁé∞ËÆ¢ÂçïÁªìÁÆóÈ°µÔºåÂåÖÂê´‰ª•‰∏ã‰ø°ÊÅØ: 1.Êî∂Ë¥ß‰∫∫‰ø°ÊÅØ:ÊúâÊõ¥Â§öÂú∞ÂùÄÔºåÂç≥ÊúâÂ§ö‰∏™Êî∂Ë¥ßÂú∞ÂùÄÔºåÂÖ∂‰∏≠Êúâ‰∏Ä‰∏™ÈªòËÆ§Êî∂Ë¥ßÂú∞ÂùÄ 2.ÊîØ‰ªòÊñπÂºè:Ë¥ßÂà∞‰ªòÊ¨æ‰∏ãÂú®Á∫øÊîØ‰ªòÔºå‰∏çÈúÄË¶ÅÂêéÂè∞Êèê‰æõ 3.ÈÄÅË¥ßÊ∏ÖÂçï:ÈÖçÈÄÅÊñπÂºè(‰∏çÂÅö)ÂèäÂïÜÂìÅÂàóË°®(Ê†πÊçÆË¥≠Áâ©ËΩ¶ÈÄâ‰∏≠ÁöÑskuldÂà∞Êï∞ÊçÆÂ∫ì‰∏≠Êü•ËØ¢) 4.ÂèëÁ•®:‰∏çÂÅö 5.‰ºòÊÉ†:Êü•ËØ¢Áî®Êà∑È¢ÜÂèñÁöÑ‰ºòÊÉ†Âà∏(‰∏çÂÅö)ÂèäÂèØÁî®ÁßØÂàÜ(‰∫¨Ë±Ü) 1.1„ÄÅÊï¥ÂêàSpringSession 1„ÄÅÂºïÂÖ•pom 12345&lt;!--Êï¥Âêàspring session Ëß£ÂÜ≥sessionÈóÆÈ¢ò--&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.session&lt;/groupId&gt; &lt;artifactId&gt;spring-session-data-redis&lt;/artifactId&gt; &lt;/dependency&gt; 2„ÄÅÈÖçÁΩÆÊñá‰ª∂Ê∑ªÂä† 123Spring: session: store-type: redis 3„ÄÅÂêØÂä®Á±ªÂä†Ê≥®Ëß£ 1@EnableRedisHttpSession 4„ÄÅ‰øÆÊîπÈ°µÈù¢‰∏≠ÁôªÂΩï 1234567&lt;li style=&quot;border: 0;&quot;&gt; &lt;a th:if=&quot;${session.loginUser != null }&quot; class=&quot;aa&quot;&gt;[[${session.loginUser.nickname}]]&lt;/a&gt; &lt;a th:if=&quot;${session.loginUser == null }&quot; href=&quot;http://auth.gulimall.com/login.html&quot;&gt;‰Ω†Â•ΩËØ∑ÁôªÂΩï&lt;/a&gt;&lt;/li&gt;&lt;li&gt; &lt;a th:if=&quot;${session.loginUser == null }&quot; style=&quot;color: red;&quot; href=&quot;http://auth.gulimall.com/reg.html&quot; class=&quot;li_2&quot;&gt;ÂÖçË¥πÊ≥®ÂÜå&lt;/a&gt;&lt;/li&gt; 1.2„ÄÅËÆ¢ÂçïÁôªÂΩïÊã¶Êà™ ‰ªª‰ΩïËØ∑Ê±ÇÈÉΩÈúÄË¶ÅÂÖàÁªèËøáÊã¶Êà™Âô®ÁöÑÈ™åËØÅÔºåÊâçËÉΩÂéªÊâßË°åÁõÆÊ†áÊñπÊ≥ïÔºåËøôÈáåÊòØÁî®Êà∑ÊòØÂê¶ÁôªÂΩïÔºåÁî®Êà∑ÁôªÂΩï‰∫ÜÂàôÊîæË°åÔºåÂê¶ÂàôË∑≥ËΩ¨Âà∞ÁôªÈôÜÈ°µÈù¢ 1234567891011121314151617181920212223242526272829/** * ÁõÆÊ†áÊñπÊ≥ïÊâßË°å‰πãÂâç * @param request * @param response * @param handler * @return * @throws Exception */ @Override public boolean preHandle(HttpServletRequest request, HttpServletResponse response, Object handler) throws Exception { String requestURI = request.getRequestURI(); // ÊåáÂÆöÁöÑËØ∑Ê±Ç‰∏çÊã¶Êà™ boolean match1 = new AntPathMatcher().match(&quot;/order/order/status/**&quot;, requestURI); boolean match2 = new AntPathMatcher().match(&quot;/payed/notify&quot;, requestURI); if (match1 || match2) { return true; } MemberRespVo memberRespVo= (MemberRespVo) request.getSession().getAttribute(AuthServerConstant.LOGIN_USER); if (memberRespVo != null) { // Áî®Êà∑ÁôªÈôÜ‰∫Ü loginUser.set(memberRespVo); // ÊîæÂà∞ÂÖ±‰∫´Êï∞ÊçÆ‰∏≠ return true; } else { // Áî®Êà∑Ê≤°ÁôªÂΩï // ÁªôÂâçÁ´ØÊòæÁ§∫ÊèêÁ§∫‰ø°ÊÅØ request.getSession().setAttribute(&quot;msg&quot;,&quot;ËØ∑ÂÖàËøõË°åÁôªÂΩï&quot;); // ÈáçÂÆöÂêëÂà∞ÁôªÂΩïÈ°µÈù¢ response.sendRedirect(&quot;http://auth.gulimall.com/login.html&quot;); return false; } } 2„ÄÅËÆ¢ÂçïÁ°ÆËÆ§È°µ Ê†πÊçÆÂõæÁâá‰∏≠ÂïÜÂìÅ‰ø°ÊÅØÊäΩÂèñÊàêVo 2.1„ÄÅÊäΩÂèñVo ËÆ¢ÂçïÁ°ÆËÆ§OrderConfirmVo 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778/** * ËÆ¢ÂçïÁ°ÆËÆ§È°µÈúÄË¶ÅÁöÑÊï∞ÊçÆ * @author gcq * @Create 2020-11-17 */public class OrderConfirmVo { // Êî∂Ë¥ßÂú∞ÂùÄÔºåums_member_receive_address @Getter @Setter List&lt;MemberAddressVo&gt; address; // ÊâÄÊúâÈÄâ‰∏≠ÁöÑË¥≠Áâ©È°π @Getter @Setter List&lt;OrderItemVo&gt; item; // ÂèëÁ•®ËÆ∞ÂΩï... /** * ‰ºòÊÉ†Âç∑‰ø°ÊÅØ */ @Getter @Setter Integer integration; /** * ËÆ¢ÂçïÊÄªÈ¢ù */ BigDecimal total; public BigDecimal getTotal() { BigDecimal sum = new BigDecimal(&quot;0&quot;); if(item != null) { for (OrderItemVo orderItemVo : item) { BigDecimal multiply = orderItemVo.getPrice().multiply(new BigDecimal(orderItemVo.getCount().toString())); sum = sum.add(multiply); } } return sum; } @Getter @Setter Map&lt;Long,Boolean&gt; stocks; /** * Â∫î‰ªò‰ª∑Ê†º */ BigDecimal payPrice; public BigDecimal getPayPrice() { BigDecimal sum = new BigDecimal(&quot;0&quot;); if(item != null) { for (OrderItemVo orderItemVo : item) { BigDecimal multiply = orderItemVo.getPrice().multiply(new BigDecimal(orderItemVo.getCount().toString())); sum = sum.add(multiply); } } return sum; } @Setter private Integer count; /** * ÈÅçÂéÜitem ÊãøÂà∞ÂïÜÂìÅÁöÑÊï∞Èáè * @return */ public Integer getCount() { Integer i = 0; if (item != null) { for (OrderItemVo orderItemVo : item) { i+=orderItemVo.getCount(); } } return i; } @Getter @Setter private String orderToken;} ÂïÜÂìÅÈ°πorderItemVo 1234567891011121314151617181920212223242526272829303132333435363738394041424344/** * ÂïÜÂìÅÈ°π * @author gcq * @Create 2020-11-17 */@Datapublic class OrderItemVo { /** * ÂïÜÂìÅid */ private Long skuId; /** * Ë¥≠Áâ©ËΩ¶‰∏≠ÊòØÂê¶ÈÄâ‰∏≠ */ private Boolean check = true; /** * ÂïÜÂìÅÁöÑÊ†áÈ¢ò */ private String title; /** * ÂïÜÂìÅÁöÑÂõæÁâá */ private String image; /** * ÂïÜÂìÅÁöÑÂ±ûÊÄß */ private List&lt;String&gt; skuAttr; /** * ÂïÜÂìÅÁöÑ‰ª∑Ê†º */ private BigDecimal price; /** * ÂïÜÂìÅÁöÑÊï∞Èáè */ private Integer count; /** * Ë¥≠Áâ©ËΩ¶‰ª∑Ê†º ‰ΩøÁî®Ëá™ÂÆö‰πâget„ÄÅset */ private BigDecimal totalPrice; private BigDecimal weight;} Áî®Êà∑Âú∞ÂùÄMemberAddressVo 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849/** * Áî®Êà∑Âú∞ÂùÄ‰ø°ÊÅØ * @author gcq * @Create 2020-11-17 */@Datapublic class MemberAddressVo { private Long id; /** * member_id */ private Long memberId; /** * Êî∂Ë¥ß‰∫∫ÂßìÂêç */ private String name; /** * ÁîµËØù */ private String phone; /** * ÈÇÆÊîøÁºñÁ†Å */ private String postCode; /** * ÁúÅ‰ªΩ/Áõ¥ËæñÂ∏Ç */ private String province; /** * ÂüéÂ∏Ç */ private String city; /** * Âå∫ */ private String region; /** * ËØ¶ÁªÜÂú∞ÂùÄ(Ë°óÈÅì) */ private String detailAddress; /** * ÁúÅÂ∏ÇÂå∫‰ª£Á†Å */ private String areacode; /** * ÊòØÂê¶ÈªòËÆ§ */ private Integer defaultStatus;} 2.2„ÄÅËÆ¢ÂçïÁ°ÆËÆ§È°µÊï∞ÊçÆÊü•ËØ¢ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071@Override public OrderConfirmVo confirmOrder() throws ExecutionException, InterruptedException { OrderConfirmVo confirmVo = new OrderConfirmVo(); MemberRespVo memberRespVo = OrderInterceptor.loginUser.get();// Ëé∑ÂèñÂΩìÂâçÁôªÂΩïÂêéÁöÑÁî®Êà∑ // ÂºÇÊ≠•‰ªªÂä°ÊâßË°å‰πãÂâçÔºåÂÖàÂÖ±‰∫´Êï∞ÊçÆ RequestAttributes requestAttributes = RequestContextHolder.getRequestAttributes(); // 1„ÄÅÁ¨¨‰∏Ä‰∏™ÂºÇÊ≠•‰ªªÂä° ËøúÁ®ãÊü•ËØ¢Áî®Êà∑Âú∞ÂùÄ‰ø°ÊÅØ CompletableFuture&lt;Void&gt; memberFuture = CompletableFuture.runAsync(() -&gt; { // Âú®‰∏ªÁ∫øÁ®ã‰∏≠ÊãøÂà∞ÂéüÊù•ÁöÑÊï∞ÊçÆÔºåÂú®Áà∂Á∫øÁ®ãÈáåÈù¢ÂÖ±‰∫´RequestContextHolder // Âè™ÊúâÂÖ±‰∫´ÔºåÊã¶Êà™ÂÖ∂‰∏≠Êâç‰ºöÊúâÊï∞ÊçÆ RequestContextHolder.setRequestAttributes(requestAttributes); // Ê†πÊçÆ‰ºöÂëòidÊü•Âá∫‰πãÂâç‰ºöÂëò‰øùÂ≠òËøáÁöÑÊî∂Ë¥ßÂú∞ÂùÄ‰ø°ÊÅØ // ËøúÁ®ãÊü•ËØ¢‰ºöÂëòÊúçÂä°ÁöÑÊî∂Ëé∑Âú∞ÂùÄ‰ø°ÊÅØ List&lt;MemberAddressVo&gt; address = memberFeignService.getAddress(memberRespVo.getId()); log.error(&quot;address:{}&quot;,address); confirmVo.setAddress(address); }, executor); // 2„ÄÅÁ¨¨‰∫å‰∏™ÂºÇÊ≠•‰ªªÂä°ËøúÁ®ãÊü•ËØ¢Ë¥≠Áâ©ËΩ¶‰∏≠ÈÄâ‰∏≠ÁªôÁöÑË¥≠Áâ©È°π CompletableFuture&lt;Void&gt; addressFuture = CompletableFuture.runAsync(() -&gt; { // ÊØè‰∏Ä‰∏™Á∫øÁ®ãÈÉΩÊù•ÂÖ±‰∫´‰πãÂâçÁöÑËØ∑Ê±ÇÊï∞ÊçÆ RequestContextHolder.setRequestAttributes(requestAttributes); // ËøúÁ®ãÊü•ËØ¢Ë¥≠Áâ©ËΩ¶‰∏≠ÁöÑË¥≠Áâ©È°π‰ø°ÊÅØÔºåÁî®Êù•ÁªìË¥¶ List&lt;OrderItemVo&gt; currentUserCartItem = cartFeignServicea.getCurrentUserCartItem();// Ëé∑ÂèñÂΩìÂâçÁî®Êà∑ÁöÑË¥≠Áâ©È°πÊï∞ÊçÆ log.error(&quot;currentUserCartItem:{}&quot;,currentUserCartItem); confirmVo.setItem(currentUserCartItem); // Êü•ËØ¢Âà∞Ë¥≠Áâ©È°π‰ø°ÊÅØÂêéÔºåÂÜçÁúãÊü•ËØ¢Ë¥≠Áâ©ÁöÑÂ∫ìÂ≠ò‰ø°ÊÅØ }, executor).thenRunAsync(() -&gt; { // Âè™Ë¶Å‰∏äÈù¢‰ªªÂä°ÊâßË°åÂÆåÊàêÔºåÂ∞±ÂºÄÂßãÊâßË°åthenRunAsyncÁöÑ‰ªªÂä° // 3„ÄÅÂïÜÂìÅÊòØÂê¶ÊúâÂ∫ìÂ≠ò List&lt;OrderItemVo&gt; items = confirmVo.getItem(); // ÊâπÈáèÊü•ËØ¢ÊØè‰∏Ä‰∏™ÂïÜÂìÅÁöÑ‰ø°ÊÅØ // Êî∂ÈõÜÂ•ΩÂïÜÂìÅid List&lt;Long&gt; collect = items.stream().map(item -&gt; item.getSkuId()).collect(Collectors.toList()); // ËøúÁ®ãÊü•ËØ¢Ë¥≠Áâ©È°πÂØπÂ∫îÁöÑÂ∫ìÂ≠ò‰ø°ÊÅØ R data = wareFeignService.hasStock(collect); // ÂæóÂà∞ÊØè‰∏Ä‰∏™ÂïÜÂìÅÁöÑÂ∫ìÂ≠òÁä∂ÊÄÅ‰ø°ÊÅØ List&lt;SkuHasStockVo&gt; hasStockVo = data.getData(new TypeReference&lt;List&lt;SkuHasStockVo&gt;&gt;() { }); if (hasStockVo != null) { Map&lt;Long, Boolean&gt; stockMap = hasStockVo.stream().collect(Collectors.toMap(SkuHasStockVo::getSkuId, SkuHasStockVo::getHasStock)); confirmVo.setStocks(stockMap); log.error(&quot;stockMap:{}&quot;,stockMap); } },executor); // 4„ÄÅÊü•ËØ¢ÁßØÂàÜ‰ø°ÊÅØ Integer integration = confirmVo.getIntegration(); confirmVo.setIntegration(integration); // Á≠â‰∏§‰∏™ÂºÇÊ≠•‰ªªÂä°ÈÉΩÂÆåÊàê CompletableFuture.allOf(memberFuture, addressFuture).get(); // 4„ÄÅÈò≤Èáç‰ª§Áâå /** * Êé•Âè£ÂπÇÁ≠âÊÄßÂ∞±ÊòØÁî®Êà∑ÂØπÂêå‰∏ÄÊìç‰ΩúÂèëËµ∑ÁöÑ‰∏ÄÊ¨°ËØ∑Ê±ÇÂíåÂ§öÊ¨°ËØ∑Ê±ÇÁªìÊûúÊòØ‰∏ÄËá¥ÁöÑ * ‰∏ç‰ºöÂõ†‰∏∫Â§öÊ¨°ÁÇπÂáªËÄå‰∫ßÁîü‰∫ÜÂâØ‰ΩúÁî®ÔºåÊØîÂ¶ÇÊîØ‰ªòÂú∫ÊôØÔºåÁî®Êà∑Ë¥≠‰π∞‰∫ÜÂïÜÂìÅÔºåÊîØ‰ªòÊâ£Ê¨æÊàêÂäüÔºå * ‰ΩÜÊòØËøîÂõûÁªìÊûúÁöÑÊó∂ÂÄôÂá∫Áé∞‰∫ÜÁΩëÁªúÂºÇÂ∏∏ÔºåÊ≠§Êó∂Èí±Â∑≤ÁªèÊâ£‰∫ÜÔºåÁî®Êà∑ÂÜçÊ¨°ÁÇπÂáªÊåâÈíÆÔºå * Ê≠§Êó∂Â∞±‰ºöËøõË°åÁ¨¨‰∫åÊ¨°Êâ£Ê¨æÔºåËøîÂõûÁªìÊûúÊàêÂäüÔºåÁî®Êà∑Êü•ËØ¢‰ΩôÈ¢ùÂèëÁé∞Â§öÊâ£Èí±‰∫ÜÔºå * ÊµÅÊ∞¥ËÆ∞ÂΩï‰πüÂèòÊàê‰∫Ü‰∏§Êù°„ÄÇ„ÄÇ„ÄÇËøôÂ∞±Ê≤°Êúâ‰øùËØÅÊé•Âè£ÂπÇÁ≠âÊÄß */ // ÂÖàÊòØÂÜçÈ°µÈù¢‰∏≠ÁîüÊàê‰∏Ä‰∏™ÈöèÊú∫Á†ÅÊää‰ªñÂè´ÂÅötokenÂÖàÂ≠òÂà∞redis‰∏≠ÔºåÁÑ∂ÂêéÊîæÂà∞ÂØπË±°‰∏≠Âú®È°µÈù¢ËøõË°åÊ∏≤Êüì„ÄÇ // Áî®Êà∑Êèê‰∫§Ë°®ÂçïÁöÑÊó∂ÂÄôÔºåÂ∏¶ÁùÄËøô‰∏™tokenÂíåredisÈáåÈù¢ÂéªÂåπÈÖçÂ¶ÇÊûú‰∏ÄÁõ¥ÈÇ£‰πàÂèØ‰ª•ÊâßË°å‰∏ãÈù¢ÊµÅÁ®ã„ÄÇ // ÂåπÈÖçÊàêÂäüÂêéÂÜçredis‰∏≠Âà†Èô§Ëøô‰∏™tokenÔºå‰∏ãÊ¨°ËØ∑Ê±ÇÂÜçËøáÊù•ÁöÑÊó∂ÂÄôÂ∞±ÂåπÈÖç‰∏ç‰∏äÁõ¥Êé•ËøîÂõû // ÁîüÊàêÈò≤Èáç‰ª§Áâå String token = UUID.randomUUID().toString().replace(&quot;-&quot;,&quot;&quot;); // Â≠òÂà∞redis‰∏≠ ËÆæÁΩÆ30ÂàÜÈíüË∂ÖÊó∂ redisTemplate.opsForValue().set(OrderConstant.USER_ORDER_TOKEN_PREFIX + memberRespVo.getId(),token,30, TimeUnit.SECONDS); // ÊîæÂà∞È°µÈù¢ËøõË°åÊòæÁ§∫tokenÔºåÁÑ∂ÂêéËÆ¢Âçï‰∏≠Â∏¶ÁùÄtokenÊù•ËØ∑Ê±Ç confirmVo.setOrderToken(token); return confirmVo; 3„ÄÅÂàõÂª∫ËÆ¢Âçï 1„ÄÅOrderWebController 12345678910111213141516171819202122232425262728293031/** * @ÈúÄÊ±ÇÊèèËø∞: Á≥ªÁªüÁÆ°ÁêÜÂëò ËÆ¢ÂçïÁªÑ Ê®°Âùó Áî®Êà∑‰∏ãÂçïÂäüËÉΩ * @ÂàõÂª∫‰∫∫: ÈÉ≠Êâø‰πæ * @ÂàõÂª∫Êó∂Èó¥: 2021/01/06 12:01 * @‰øÆÊîπÈúÄÊ±Ç: * @‰øÆÊîπ‰∫∫: * @‰øÆÊîπÊó∂Èó¥: * @ÈúÄÊ±ÇÊÄùË∑Ø: */ @PostMapping(&quot;/submitOrder&quot;) public String submitOrder(OrderSubmitVo vo, Model model, RedirectAttributes redirectAttributes) { SubmitOrderResponseVo responseVo = orderService.submitOrder(vo); log.error(&quot;======================ËÆ¢ÂçïÂàõÂª∫ÊàêÂäü{}:&quot;,responseVo); // Ê†πÊçÆvo‰∏≠ÂÆö‰πâÁöÑÁä∂ÊÄÅÁ†ÅÊù•È™åËØÅ if (responseVo.getCode() == 0 ) { // ËÆ¢ÂçïÂàõÂª∫ÊàêÂäü // ‰∏ãÂçïÊàêÂäüËøîÂõûÂà∞ÊîØ‰ªòÈ°µ model.addAttribute(&quot;submitOrderResp&quot;,responseVo); return &quot;pay&quot;; } else { // ‰∏ãÂçïÂ§±Ë¥• // Ê†πÊçÆÁä∂ÊÄÅÁ†ÅÈ™åËØÅÂØπÂ∫îÁöÑÁä∂ÊÄÅ String msg = &quot;‰∏ãÂçïÂ§±Ë¥•&quot;; switch (responseVo.getCode()) { case 1: msg += &quot;ËÆ¢Âçï‰ø°ÊÅØËøáÊúüÔºåËØ∑Âà∑Êñ∞ÂêéÂÜçÊ¨°Êèê‰∫§&quot;; break; case 2: msg += &quot;ËÆ¢ÂçïÂïÜÂìÅ‰ª∑Ê†ºÂèëÁîüÂèòÂåñÔºåËØ∑Á°ÆËÆ§ÂêéÂÜçÊ¨°Êèê‰∫§&quot;; break; case 3: msg += &quot;Â∫ìÂ≠òÈîÅÂÆöÂ§±Ë¥•ÔºåÂïÜÂìÅÂ∫ìÂ≠ò‰∏çË∂≥&quot;; break; } redirectAttributes.addFlashAttribute(&quot;msg&quot;,msg); // ÈáçÊñ∞ÂõûÂà∞ËÆ¢ÂçïÁ°ÆËÆ§È°µÈù¢ return &quot;redirect:http://order.gulimall.com/toTrade&quot;; } } 2„ÄÅService ÂÖ∑‰Ωì‰∏öÂä° 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215216217218219220221222223224225226227228229230231232233234235236237238239240241242243244245246247248249250251252253254255256257258259260261262263264265266267268269270271272273274275276277278279280281282283284285286287288289290291292293294295296297298299300301302303304305 @Transactional @Override public SubmitOrderResponseVo submitOrder(OrderSubmitVo vo) { // ÂÖàÂ∞ÜÂèÇÊï∞ÊîæÂà∞ÂÖ±‰∫´ÂèòÈáè‰∏≠ÔºåÊñπ‰æø‰πãÂêéÊñπÊ≥ï‰ΩøÁî®ËØ•ÂèÇÊï∞ confirmVoThreadLocal.set(vo); // Êé•Êî∂ËøîÂõûÊï∞ÊçÆ SubmitOrderResponseVo response = new SubmitOrderResponseVo(); response.setCode(0); // ÈÄöËøáÊã¶Êà™Âô®ÊãøÂà∞Áî®Êà∑ÁöÑÊï∞ÊçÆ MemberRespVo memberRespVo = LoginInterceptor.loginUser.get(); /** * ‰∏ç‰ΩøÁî®ÂéüÂ≠êÊÄßÈ™åËØÅ‰ª§Áâå * 1„ÄÅÁî®Êà∑Â∏¶ÁùÄ‰∏§‰∏™ËÆ¢ÂçïÔºåÊèê‰∫§ÈÄüÂ∫¶ÈùûÂ∏∏Âø´Ôºå‰∏§‰∏™ËÆ¢ÂçïÁöÑ‰ª§ÁâåÈÉΩÊòØ123ÔºåÂéªredisÈáåÈù¢Êü•Êü•Âà∞ÁöÑ‰πüÊòØ123„ÄÇ * ‰∏§‰∏™ÂØπÊØîÈÉΩÈÄöËøáÔºåÁÑ∂ÂêéÊù•Âà†Èô§‰ª§ÁâåÔºåÈÇ£‰πàÂ∞±‰ºöÂá∫Áé∞Áî®Êà∑ÈáçÂ§çÊèê‰∫§ÁöÑÈóÆÈ¢òÔºå * 2„ÄÅÁ¨¨‰∏ÄÊ¨°Â∑ÆÁöÑÂø´ÔºåÁ¨¨‰∫åÊ¨°Êü•ÁöÑÊÖ¢ÔºåÂè™Ë¶ÅÊ≤°Âà†Â∞±‰ºöÂá∫Áé∞Ëøô‰∫õÈóÆÈ¢ò * 3„ÄÅÂõ†Ê≠§‰ª§ÁâåÁöÑ„ÄêÈ™åËØÅÂíåÂà†Èô§ÂøÖÈ°ª‰øùËØÅÂéüÂ≠êÊÄß„Äë * String orderToken = vo.getOrderToken(); * String redisToken = redisTemplate.opsForValue().get(OrderConstant.USER_ORDER_TOKEN_PREFIX + memberRespVo.getId()); * if (orderToken != null &amp;&amp; orderToken.equals(redisToken)) { * // ‰ª§ÁâåÈ™åËØÅÈÄöËøá ËøõË°åÂà†Èô§ * redisTemplate.delete(OrderConstant.USER_ORDER_TOKEN_PREFIX + memberRespVo.getId()); * } else { * // ‰∏çÈÄöËøá * } */ // È™åËØÅ‰ª§Áâå„Äê‰ª§ÁâåÁöÑÂØπÊØîÂíåÂà†Èô§ÂøÖÈ°ª‰øùËØÅÂéüÂ≠êÊÄß„Äë // Âõ†Ê≠§‰ΩøÁî®redis‰∏≠ËÑöÊú¨Êù•ËøõË°åÈ™åËØÅÂπ∂Âà†Èô§‰ª§Áâå // 0„ÄêÂà†Èô§Â§±Ë¥•/È™åËØÅÂ§±Ë¥•„Äë 1„ÄêÂà†Èô§ÊàêÂäü„Äë String script = &quot;if redis.call('get',KEYS[1]) == ARGV[1] then return redis.call('del',KEYS[1]) else return 0 end&quot;; /** * redis lurËÑöÊú¨ÂëΩ‰ª§Ëß£Êûê * if redis.call('get',KEYS[1]) == ARGV[1] then return redis.call('del',KEYS[1]) else return 0 end * 1„ÄÅredisË∞ÉÁî®getÊñπÊ≥ïÊù•Ëé∑Âèñ‰∏Ä‰∏™keyÁöÑÂÄºÔºåÂ¶ÇÊûúËøô‰∏™getÂá∫Êù•ÁöÑÂÄºÁ≠â‰∫éÊàë‰ª¨‰º†ËøáÊù•ÁöÑÂÄº * 2„ÄÅÁÑ∂ÂêéÂ∞±ÊâßË°åÂà†Èô§ÔºåÊ†πÊçÆËøô‰∏™keyËøõË°åÂà†Èô§ÔºåÂà†Èô§ÊàêÂäüËøîÂõû1ÔºåÈ™åËØÅÂ§±Ë¥•ËøîÂõû0 * 3„ÄÅÂà†Èô§Âê¶ÂàôÂ∞±ÊòØ0 * ÊÄªÁªìÔºöÁõ∏ÂêåÁöÑËøõË°åÂà†Èô§Ôºå‰∏çÁõ∏ÂêåÁöÑËøîÂõû0 * ËÑöÊú¨Â§ßËá¥ÊÑèÊÄù */ // ÊãøÂà∞‰ª§Áâå String orderToken = vo.getOrderToken(); /** * public &lt;T&gt; T execute(RedisScript&lt;T&gt; script // redisÁöÑËÑöÊú¨ * , List&lt;K&gt; keys // ÂØπÂ∫îÁöÑkey ÂèÇÊï∞‰∏≠‰ΩøÁî®‰∫ÜArray.asList Â∞ÜÂèÇÊï∞ËΩ¨ÊàêlistÈõÜÂêà * , Object... args) { // Ë¶ÅÂà†Èô§ÁöÑÂÄº */ // ÂéüÂ≠êÈ™åËØÅÂíåÂà†Èô§ Long result = redisTemplate.execute(new DefaultRedisScript&lt;Long&gt;(script, Long.class) , Arrays.asList(OrderConstant.USER_ORDER_TOKEN_PREFIX + memberRespVo.getId()) , orderToken); if (result == 0L) { // È™åËØÅ‰ª§ÁâåÈ™åËØÅÂ§±Ë¥• // È™åËØÅÂ§±Ë¥•Áõ¥Êé•ËøîÂõûÁªìÊûú response.setCode(1); return response; } else { // ÂéüÂ≠êÈ™åËØÅ‰ª§ÁâåÊàêÂäü // ‰∏ãÂçï ÂàõÂª∫ËÆ¢Âçï„ÄÅÈ™åËØÅ‰ª§Áâå„ÄÅÈ™åËØÅ‰ª∑Ê†º„ÄÅÈ™åËØÅÂ∫ìÂ≠ò // 1„ÄÅÂàõÂª∫ËÆ¢Âçï„ÄÅËÆ¢ÂçïÈ°π‰ø°ÊÅØ OrderCreateTo order = createOrder(); // 2„ÄÅÂ∫î‰ªòÊÄªÈ¢ù BigDecimal payAmount = order.getOrder().getPayAmount(); // Â∫î‰ªò‰ª∑Ê†º BigDecimal payPrice = vo.getPayPrice(); /** * ÁîµÂïÜÈ°πÁõÆÂØπ‰ªòÊ¨æÁöÑÈáëÈ¢ùÁ≤æÁ°ÆÂà∞Â∞èÊï∞ÁÇπÂêéÈù¢‰∏§‰Ωç * ËÆ¢ÂçïÂàõÂª∫Â•ΩÁöÑÂ∫î‰ªòÊÄªÈ¢ù ÂíåË¥≠Áâ©ËΩ¶‰∏≠ËÆ°ÁÆóÂ•ΩÁöÑÂ∫î‰ªò‰ª∑Ê†ºÊ±ÇÂá∫ÁªùÂØπÂÄº„ÄÇ */ if(Math.abs(payAmount.subtract(payPrice).doubleValue()) &lt; 0.01) { // ÈáëÈ¢ùÂØπÊØîÊàêÂäü ‰øùÂ≠òËÆ¢Âçï saveOrder(order); // ÂàõÂª∫ÈîÅÂÆöÂ∫ìÂ≠òVo WareSkuLockedVo wareSkuLockedVo = new WareSkuLockedVo(); // ÂáÜÂ§áÂ•ΩÂïÜÂìÅÈ°π List&lt;OrderItemVo&gt; lock = order.getOrderItem().stream().map(orderItemEntity -&gt; { OrderItemVo orderItemVo = new OrderItemVo(); // ÂïÜÂìÅË¥≠‰π∞Êï∞Èáè orderItemVo.setCount(orderItemEntity.getSkuQuantity()); // skuid Áî®Êù•Êü•ËØ¢ÂïÜÂìÅ‰ø°ÊÅØ orderItemVo.setSkuId(orderItemEntity.getSkuId()); // ÂïÜÂìÅÊ†áÈ¢ò orderItemVo.setTitle(orderItemEntity.getSkuName()); return orderItemVo; }).collect(Collectors.toList()); // ËÆ¢ÂçïÂè∑ wareSkuLockedVo.setOrderSn(order.getOrder().getOrderSn()); // ÂïÜÂìÅÈ°π wareSkuLockedVo.setLocks(lock); // ËøúÁ®ãË∞ÉÁî®Â∫ìÂ≠òÊúçÂä°ÈîÅÂÆöÂ∫ìÂ≠ò R r = wareFeignService.orderLockStock(wareSkuLockedVo); if (r.getCode() == 0) { // Â∫ìÂ≠òÈîÅÂÆöÊàêÂäü // Â∞ÜËÆ¢ÂçïÂØπË±°ÊîæÂà∞ËøîÂõûVo‰∏≠ response.setOrder(order.getOrder()); // ËÆæÁΩÆÁä∂ÊÄÅÁ†Å response.setCode(0); // ËÆ¢ÂçïÂàõÂª∫ÊàêÂäüÂèëÈÄÅÊ∂àÊÅØÁªôMQ rabbitTemplate.convertAndSend(&quot;order-event-exchange&quot; ,&quot;order.create.order&quot; ,order.getOrder()); return response; } else { // ËøúÁ®ãÈîÅÂÆöÂ∫ìÂ≠òÂ§±Ë¥• response.setCode(3); return response; } } else { // ÂïÜÂìÅ‰ª∑Ê†ºÊØîËæÉÂ§±Ë¥• response.setCode(2); return response; } } } /** * ÂàõÂª∫ËÆ¢ÂçïÂíåËÆ¢ÂçïÈ°π * @return */ private OrderCreateTo createOrder() { OrderCreateTo orderCreateTo = new OrderCreateTo(); // 1„ÄÅÁîüÊàêËÆ¢ÂçïÂè∑ String orderSn = IdWorker.getTimeId(); // 2„ÄÅÊûÑÂª∫ËÆ¢Âçï OrderEntity orderEntity = buildOrder(orderSn); // 3„ÄÅÊûÑÂª∫ËÆ¢ÂçïÈ°π List&lt;OrderItemEntity&gt; itemEntities = builderOrderItems(orderSn); // 4„ÄÅËÆæÁΩÆ‰ª∑Ê†º„ÄÅÁßØÂàÜÁõ∏ÂÖ≥‰ø°ÊÅØ computPrice(orderEntity,itemEntities); // 5„ÄÅËÆæÁΩÆËÆ¢ÂçïÈ°π orderCreateTo.setOrderItem(itemEntities); // 6„ÄÅËÆæÁΩÆËÆ¢Âçï orderCreateTo.setOrder(orderEntity); return orderCreateTo; } /** * ÊûÑÂª∫ËÆ¢Âçï * @param orderSn * @return */ private OrderEntity buildOrder(String orderSn) { // ÊãøÂà∞ÂÖ±‰∫´Êï∞ÊçÆ OrderSubmitVo orderSubmitVo = confirmVoThreadLocal.get(); // Áî®Êà∑ÁôªÂΩïÁôªÂΩïÊï∞ÊçÆ MemberRespVo memberRespVo = LoginInterceptor.loginUser.get(); OrderEntity orderEntity = new OrderEntity(); // ËÆæÁΩÆËÆ¢ÂçïÂè∑ orderEntity.setOrderSn(orderSn); // Áî®Êà∑id orderEntity.setMemberId(memberRespVo.getId()); // Ê†πÊçÆÁî®Êà∑Êî∂Ë¥ßÂú∞ÂùÄidÊü•ËØ¢Âá∫Áî®Êà∑ÁöÑÊî∂Ëé∑Âú∞ÂùÄ‰ø°ÊÅØ R fare = wareFeignService.getFare(orderSubmitVo.getAddrId()); FareVo data = fare.getData(new TypeReference&lt;FareVo&gt;() { }); //Â∞ÜÊü•ËØ¢Âà∞ÁöÑ‰ºöÂëòÊî∂Ë¥ßÂú∞ÂùÄ‰ø°ÊÅØËÆæÁΩÆÂà∞ËÆ¢ÂçïÂØπË±°‰∏≠ // ËøêË¥πÈáëÈ¢ù orderEntity.setFreightAmount(data.getFare()); // ÂüéÂ∏Ç orderEntity.setReceiverCity(data.getMemberAddressVo().getCity()); // ËØ¶ÁªÜÂú∞Âå∫ orderEntity.setReceiverDetailAddress(data.getMemberAddressVo().getDetailAddress()); // Êî∂Ë¥ß‰∫∫ÂßìÂêç orderEntity.setReceiverName(data.getMemberAddressVo().getName()); // Êî∂Ë¥ß‰∫∫ÊâãÊú∫Âè∑ orderEntity.setReceiverPhone(data.getMemberAddressVo().getPhone()); // Âå∫ orderEntity.setReceiverRegion(data.getMemberAddressVo().getRegion()); // ÁúÅ‰ªΩÁõ¥ËæñÂ∏Ç orderEntity.setReceiverProvince(data.getMemberAddressVo().getProvince()); // ËÆ¢ÂçïÂàöÂàõÂª∫Áä∂ÊÄÅËÆæÁΩÆ‰∏∫ ÂæÖ‰ªòÊ¨æÔºåÁî®Êà∑ÊîØ‰ªòÊàêÂäüÂêéÂ∞ÜËØ•ËØ•Áä∂ÊÄÅÊîπÊàêÂ∑≤‰ªòÊ¨æ orderEntity.setStatus(OrderStatusEnum.CREATE_NEW.getCode()); // Ëá™Âä®Á°ÆËÆ§Êó∂Èó¥ orderEntity.setAutoConfirmDay(7); return orderEntity; }/** * ÊûÑÂª∫ËÆ¢ÂçïÈ°π * @param orderSn * @return */ private List&lt;OrderItemEntity&gt; builderOrderItems(String orderSn) { // Ëé∑ÂèñË¥≠Áâ©ËΩ¶‰∏≠ÈÄâ‰∏≠ÁöÑÂïÜÂìÅ List&lt;OrderItemVo&gt; currentUserCartItem = cartFeignServicea.getCurrentUserCartItem(); if (currentUserCartItem != null &amp;&amp; currentUserCartItem.size() &gt; 0) { List&lt;OrderItemEntity&gt; collect = currentUserCartItem.stream().map(orderItemVo -&gt; { // ÊûÑÂª∫ËÆ¢ÂçïÈ°π OrderItemEntity itemEntity = builderOrderItem(orderItemVo); itemEntity.setOrderSn(orderSn); return itemEntity; }).collect(Collectors.toList()); return collect; } return null; } /** * ÊûÑÂª∫ËÆ¢ÂçïÈ°π‰ø°ÊÅØ * @param cartItem * @return */ private OrderItemEntity builderOrderItem(OrderItemVo cartItem) { OrderItemEntity itemEntity = new OrderItemEntity(); // 1„ÄÅÊ†πÊçÆskuidÊü•ËØ¢ÂÖ≥ËÅîÁöÑspuinfo‰ø°ÊÅØ Long skuId = cartItem.getSkuId(); R spuinfo = productFeignService.getSpuInfoBySkuId(skuId); SpuInfoVo spuInfoVo = spuinfo.getData(new TypeReference&lt;SpuInfoVo&gt;() { }); // 2„ÄÅËÆæÁΩÆÂïÜÂìÅÈ°πspu‰ø°ÊÅØ // ÂìÅÁâå‰ø°ÊÅØ itemEntity.setSpuBrand(spuInfoVo.getBrandId().toString()); // ÂïÜÂìÅÂàÜÁ±ª‰ø°ÊÅØ itemEntity.setCategoryId(spuInfoVo.getCatalogId()); // spuid itemEntity.setSpuId(spuInfoVo.getId()); // spu_name ÂïÜÂìÅÂêçÂ≠ó itemEntity.setSpuName(spuInfoVo.getSpuName()); // 3„ÄÅËÆæÁΩÆÂïÜÂìÅsku‰ø°ÊÅØ // skuid itemEntity.setSkuId(skuId); // ÂïÜÂìÅÊ†áÈ¢ò itemEntity.setSkuName(cartItem.getTitle()); // ÂïÜÂìÅÂõæÁâá itemEntity.setSkuPic(cartItem.getImage()); // ÂïÜÂìÅsku‰ª∑Ê†º itemEntity.setSkuPrice(cartItem.getPrice()); // ÂïÜÂìÅÂ±ûÊÄß‰ª• ; ÊãÜÂàÜ String skuAttr = StringUtils.collectionToDelimitedString(cartItem.getSkuAttr(), &quot;;&quot;); itemEntity.setSkuAttrsVals(skuAttr); // ÂïÜÂìÅË¥≠‰π∞Êï∞Èáè itemEntity.setSkuQuantity(cartItem.getCount()); // 4„ÄÅËÆæÁΩÆÂïÜÂìÅ‰ºòÊÉ†‰ø°ÊÅØ„Äê‰∏çÂÅö„Äë // 5„ÄÅËÆæÁΩÆÂïÜÂìÅÁßØÂàÜ‰ø°ÊÅØ // Ëµ†ÈÄÅÁßØÂàÜ ÁßªÂºÉÂ∞èÊï∞ÂÄº itemEntity.setGiftIntegration(cartItem.getPrice().multiply(new BigDecimal(cartItem.getCount().toString())).intValue()); // Ëµ†ÈÄÅÊàêÈïøÂÄº itemEntity.setGiftGrowth(cartItem.getPrice().multiply(new BigDecimal(cartItem.getCount().toString())).intValue()); // 6„ÄÅËÆ¢ÂçïÈ°πÁöÑ‰ª∑Ê†º‰ø°ÊÅØ // ËøôÈáåÈúÄË¶ÅËÆ°ÁÆóÂïÜÂìÅÁöÑÂàÜËß£‰ø°ÊÅØ // ÂïÜÂìÅ‰øÉÈîÄÂàÜËß£ÈáëÈ¢ù itemEntity.setPromotionAmount(new BigDecimal(&quot;0&quot;)); // ‰ºòÊÉ†Âà∏‰ºòÊÉ†ÂàÜËß£ÈáëÈ¢ù itemEntity.setCouponAmount(new BigDecimal(&quot;0&quot;)); // ÁßØÂàÜ‰ºòÊÉ†ÂàÜËß£ÈáëÈ¢ù itemEntity.setIntegrationAmount(new BigDecimal(&quot;0&quot;)); // ÂïÜÂìÅ‰ª∑Ê†º‰πò‰ª•ÂïÜÂìÅË¥≠‰π∞Êï∞Èáè=ÊÄªÈáëÈ¢ù(Êú™ÂåÖÂê´‰ºòÊÉ†‰ø°ÊÅØ) BigDecimal origin = itemEntity.getSkuPrice().multiply(new BigDecimal(itemEntity.getSkuQuantity().toString())); // ÊÄª‰ª∑Ê†ºÂáèÂéª‰ºòÊÉ†Âç∑-ÁßØÂàÜ‰ºòÊÉ†-ÂïÜÂìÅ‰øÉÈîÄÈáëÈ¢ù = ÊÄªÈáëÈ¢ù origin.subtract(itemEntity.getPromotionAmount()) .subtract(itemEntity.getCouponAmount()) .subtract(itemEntity.getIntegrationAmount()); // ËØ•ÂïÜÂìÅÁªèËøá‰ºòÊÉ†ÂêéÁöÑÂàÜËß£ÈáëÈ¢ù itemEntity.setRealAmount(origin); return itemEntity; } /** * ËÆ°ÁÆóËÆ¢ÂçïÊ∂âÂèäÂà∞ÁöÑÁßØÂàÜ„ÄÅ‰ºòÊÉ†Âç∑ÊäµÊâ£„ÄÅ‰øÉÈîÄ‰ºòÊÉ†‰ø°ÊÅØÁ≠â‰ø°ÊÅØ * @param orderEntity * @param itemEntities * @return */ private OrderEntity computPrice(OrderEntity orderEntity, List&lt;OrderItemEntity&gt; itemEntities) { // 1„ÄÅÂÆö‰πâÂ•ΩÁõ∏ÂÖ≥ÈáëÈ¢ùÔºåÁÑ∂ÂêéÈÅçÂéÜË¥≠Áâ©È°πËøõË°åËÆ°ÁÆó // ÊÄª‰ª∑Ê†º BigDecimal total = new BigDecimal(&quot;0&quot;); //Áõ∏ÂÖ≥‰ºòÊÉ†‰ø°ÊÅØ // ‰ºòÊÉ†Âç∑ÊäµÊâ£ÈáëÈ¢ù BigDecimal coupon = new BigDecimal(&quot;0&quot;); // ÁßØÂàÜ‰ºòÊÉ†ÈáëÈ¢ù BigDecimal integration = new BigDecimal(&quot;0&quot;); // ‰øÉÈîÄ‰ºòÊÉ†ÈáëÈ¢ù BigDecimal promotion = new BigDecimal(&quot;0&quot;); // ÁßØÂàÜ BigDecimal gift = new BigDecimal(&quot;0&quot;); // ÊàêÈïøÂÄº BigDecimal growth = new BigDecimal(&quot;0&quot;); // ÈÅçÂéÜËÆ¢ÂçïÈ°πÂ∞ÜÊâÄÊúâÁöÑ‰ºòÊÉ†‰ø°ÊÅØËøõË°åÁõ∏Âä† for (OrderItemEntity itemEntity : itemEntities) { coupon = coupon.add(itemEntity.getCouponAmount()); // ‰ºòÊÉ†Âç∑ÊäµÊâ£ integration = integration.add(itemEntity.getIntegrationAmount()); // ÁßØÂàÜ‰ºòÊÉ†ÂàÜËß£ÈáëÈ¢ù promotion = promotion.add(itemEntity.getPromotionAmount()); // ÂïÜÂìÅ‰øÉÈîÄÂàÜËß£ÈáëÈ¢ù gift = gift.add(new BigDecimal(itemEntity.getGiftIntegration().toString())); // Ëµ†ÈÄÅÁßØÂàÜ growth = growth.add(new BigDecimal(itemEntity.getGiftGrowth())); // Ëµ†ÈÄÅÊàêÈïøÂÄº total = total.add(itemEntity.getRealAmount()); //‰ºòÊÉ†ÂêéÁöÑÊÄªÈáëÈ¢ù } // 2„ÄÅËÆæÁΩÆËÆ¢ÂçïÈáëÈ¢ù // ËÆ¢ÂçïÊÄªÈáëÈ¢ù orderEntity.setTotalAmount(total); // Â∫î‰ªòÊÄªÈ¢ù = ËÆ¢ÂçïÊÄªÈ¢ù + ËøêË¥π‰ø°ÊÅØ orderEntity.setPayAmount(total.add(orderEntity.getFreightAmount())); // ‰øÉÈîÄ‰ºòÂåñÈáëÈ¢ùÔºà‰øÉÈîÄ‰ª∑„ÄÅÊª°Âáè„ÄÅÈò∂Ê¢Ø‰ª∑Ôºâ orderEntity.setPromotionAmount(promotion); // ‰ºòÊÉ†Âà∏ÊäµÊâ£ÈáëÈ¢ù orderEntity.setCouponAmount(coupon); // 3„ÄÅËÆæÁΩÆÁßØÂàÜ‰ø°ÊÅØ // ËÆ¢ÂçïË¥≠‰π∞ÂêéÂèØ‰ª•Ëé∑ÂæóÁöÑÊàêÈïøÂÄº orderEntity.setGrowth(growth.intValue()); // ÁßØÂàÜÊäµÊâ£ÈáëÈ¢ù orderEntity.setIntegrationAmount(integration); // ÂèØ‰ª•Ëé∑ÂæóÁöÑÁßØÂàÜ orderEntity.setIntegration(gift.intValue()); // Âà†Èô§Áä∂ÊÄÅ„Äê0-&gt;Êú™Âà†Èô§Ôºõ1-&gt;Â∑≤Âà†Èô§„Äë orderEntity.setDeleteStatus(0); return orderEntity; } 3„ÄÅÂ∫ìÂ≠òËá™Âä®Ëß£ÈîÅ---&gt;MQ Â∫ìÂ≠òËß£ÈîÅ„ÄÅStockReleaseListener 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061package com.atguigu.gulimall.ware.listener;import com.atguigu.common.to.mq.OrderTo;import com.atguigu.common.to.mq.StockLockedTo;import com.atguigu.gulimall.ware.service.WareSkuService;import com.rabbitmq.client.Channel;import org.springframework.amqp.core.Message;import org.springframework.amqp.rabbit.annotation.RabbitHandler;import org.springframework.amqp.rabbit.annotation.RabbitListener;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.stereotype.Service;import java.io.IOException;/** * ÁõëÂê¨Â∫ìÂ≠òÂª∂Êó∂ÈòüÂàó * @author gcq * @Create 2021-01-07 */@Service@RabbitListener(queues = &quot;stock.release.stock.queue&quot;)public class StockReleaseListener { @Autowired WareSkuService wareSkuService; /** * ÁõëÂê¨Â∫ìÂ≠òÈòüÂàó * @param lockedTo * @param message */ @RabbitHandler public void handleStockLockedRelease(StockLockedTo lockedTo, Message message, Channel channel) throws IOException { System.out.println(&quot;Êî∂Âà∞Ëß£ÈîÅÂ∫ìÂ≠òÁöÑ‰ø°ÊÅØ&quot;); try { wareSkuService.unLockStock(lockedTo); //Â∫ìÂ≠òËß£ÈîÅÊàêÂäüÊ≤°ÊúâÊäõÂá∫ÂºÇÂ∏∏ÔºåËá™Âä®ackÊú∫Âà∂Á°ÆËÆ§ channel.basicAck(message.getMessageProperties().getDeliveryTag(),false); } catch (Exception e) { e.printStackTrace(); // ÈáçÂèë channel.basicReject(message.getMessageProperties().getDeliveryTag(),true); } } /** * ËÆ¢ÂçïÈáäÊîæ * ËÆ¢Âçï30ÂàÜÈíüÊú™ÊîØ‰ªòÔºåËÆ¢ÂçïÂÖ≥Èó≠ÂêéÂèëÈÄÅÁöÑÊ∂àÊÅØ */ @RabbitHandler public void handlerOrderCloseRelease(OrderTo orderTo, Message message, Channel channel) throws IOException { System.out.println(&quot;ËÆ¢ÂçïÂÖ≥Èó≠ÂáÜÂ§áËß£ÈîÅÂ∫ìÂ≠ò......&quot;); try { wareSkuService.unLockStock(orderTo); channel.basicAck(message.getMessageProperties().getDeliveryTag(),false); } catch (Exception e) { e.printStackTrace(); channel.basicReject(message.getMessageProperties().getDeliveryTag(),true); } }} Service 1234567891011121314151617181920212223242526272829303132333435363738/** * Ëß£ÈîÅÂ∫ìÂ≠ò * @param lockedTo */ @Override public void unLockStock(StockLockedTo lockedTo) { // Â∑•‰ΩúÂçïËØ¶ÊÉÖ StockDetailTo detail = lockedTo.getDetail(); // Â∑•‰ΩúÂçïËØ¶ÊÉÖid Long detailId = detail.getId(); // Êü•ËØ¢Âà∞Â∫ìÂ≠òÂ∑•‰ΩúÂçïËØ¶ÊÉÖ WareOrderTaskDetailEntity taskDetailEntity = wareOrderTaskDetailService.getById(detailId); if (taskDetailEntity != null) { // Ëß£ÈîÅÂ∫ìÂ≠ò // Â∫ìÂ≠òÂ∑•‰ΩúÂçïid Long id = lockedTo.getId(); // Êü•ËØ¢Âà∞Â∫ìÂ≠òÂ∑•‰ΩúÂçï WareOrderTaskEntity TaskEntity = wareOrderTaskService.getById(id); // ÊãøÂà∞ËÆ¢ÂçïÂè∑ String orderSn = TaskEntity.getOrderSn(); // Ê†πÊçÆËÆ¢ÂçïÂè∑Êü•ËØ¢ËÆ¢ÂçïÁöÑÁä∂ÊÄÅ R orderStatus = orderFeignService.getOrderStatus(orderSn); if (orderStatus.getCode() == 0) { OrderVo data = orderStatus.getData(new TypeReference&lt;OrderVo&gt;() { }); // ËÆ¢ÂçïÁä∂ÊÄÅ‰∏∫Â∑≤ÂÖ≥Èó≠,ÈÇ£‰πàÂ∞±ÈúÄË¶ÅËß£ÈîÅÂ∫ìÂ≠ò if (data == null || data.getStatus() == 4) { // Â∫ìÂ≠òÂ∑•‰ΩúÂçïÈîÅÂÆöÁä∂ÊÄÅ‰∏∫ÈîÅÂÆöÊâçËøõË°åËß£ÈîÅ if (taskDetailEntity.getLockStatus() == 1) { unLockStock(detail.getSkuId(), detail.getWareId(), detail.getSkuNum(), detailId); } } } else { // Ê∂àÊÅØË¢´ÊãíÁªùÂêéÈáçÊñ∞ÊîæÂà∞ÈòüÂàóÈáåÈù¢ÔºåËÆ©Âà´‰∫∫ÁªßÁª≠Ê∂àË¥πËß£ÈîÅ throw new RuntimeException(&quot;ËøúË¥•&quot;); } } } 4„ÄÅÊîØ‰ªò ÈÄâÊã©ÁöÑÊòØÊîØ‰ªòÂÆùÊîØ‰ªòÔºåÊ†πÊçÆËÄÅÂ∏àÊâÄÊèê‰æõÁöÑÁ¥†Êùê alipayTemplate„ÄÅPayVo„ÄÅPaySyncVo,ÂºïÂÖ•Âà∞È°πÁõÆ‰∏≠ËøõË°åÂºÄÂèë 1„ÄÅController Ë∑≥ËΩ¨Âà∞ÊîØ‰ªòÂÆùÊîØ‰ªòÈ°µÈù¢ÔºåÊîØ‰ªòÂÆåÊàêÂêéË∑≥ËΩ¨Âà∞ÊîØ‰ªòÊàêÂäüÁöÑÂõûË∞ÉÈ°µÈù¢ 12345678910111213141516171819202122/** * 1„ÄÅË∑≥ËΩ¨Âà∞ÊîØ‰ªòÈ°µÈù¢ * 2„ÄÅÁî®Êà∑ÊîØ‰ªòÊàêÂäüÂêéÔºåÊàë‰ª¨Ë¶ÅË∑≥ËΩ¨Âà∞Áî®Êà∑ÁöÑËÆ¢ÂçïÂàóË°®È°µ * produces ÊòéÁ°ÆÊñπÊ≥ï‰ºöËøîÂõû‰ªÄ‰πàÁ±ªÂûãÔºåËøôÈáåËøîÂõûÁöÑÊòØhtmlÈ°µÈù¢ * @param orderSn * @return * @throws AlipayApiException */ @ResponseBody @GetMapping(value = &quot;/payOrder&quot;,produces = &quot;text/html&quot;) public String payOrder(@RequestParam(&quot;orderSn&quot;) String orderSn) throws AlipayApiException {// PayVo payVo = new PayVo();// payVo.setBody(); // ÂïÜÂìÅÊèèËø∞// payVo.setSubject(); //ËÆ¢ÂçïÂêçÁß∞// payVo.setOut_trade_no(); // ËÆ¢ÂçïÂè∑// payVo.setTotal_amount(); //ÊÄªÈáëÈ¢ù PayVo payvo = orderService.payOrder(orderSn); // Â∞ÜËøîÂõûÊîØ‰ªòÂÆùÁöÑÊîØ‰ªòÈ°µÈù¢ÔºåÈúÄË¶ÅÂ∞ÜËøô‰∏™È°µÈù¢ËøõË°åÊòæÁ§∫ String pay = alipayTemplate.pay(payvo); System.out.println(pay); return pay; } 2„ÄÅService 123456789101112131415161718192021222324/** * ËÆ°ÁÆóÂïÜÂìÅÊîØ‰ªòÈúÄË¶ÅÁöÑ‰ø°ÊÅØ * @param orderSn * @return */ @Override public PayVo payOrder(String orderSn) { PayVo payVo = new PayVo(); OrderEntity orderEntity = this.getOrderByOrderSn(orderSn);// Ê†πÊçÆËÆ¢ÂçïÂè∑Êü•ËØ¢Âà∞ÂïÜÂìÅ // Êï∞ÊçÆÂ∫ì‰∏≠‰ªòÊ¨æÈáëÈ¢ùÂ∞èÊï∞Êúâ4‰ΩçÔºå‰ΩÜÊòØÊîØ‰ªòÂÆùÂè™Êé•Âèó2‰ΩçÔºåÊâÄ‰ª•Âêë‰∏äÂèñÊï¥‰∏§‰ΩçÊï∞ BigDecimal decimal = orderEntity.getPayAmount().setScale(2, BigDecimal.ROUND_UP); payVo.setTotal_amount(decimal.toString()); // ÂïÜÊà∑ËÆ¢ÂçïÂè∑ payVo.setOut_trade_no(orderSn); // Êü•ËØ¢Âá∫ËÆ¢ÂçïÈ°πÔºåÁî®Êù•ËÆæÁΩÆÂïÜÂìÅÁöÑÊèèËø∞ÂíåÂïÜÂìÅÂêçÁß∞ List&lt;OrderItemEntity&gt; itemEntities = orderItemService.list(new QueryWrapper&lt;OrderItemEntity&gt;() .eq(&quot;order_sn&quot;, orderSn)); OrderItemEntity itemEntity = itemEntities.get(0); // ËÆ¢ÂçïÂêçÁß∞‰ΩøÁî®ÂïÜÂìÅÈ°πÁöÑÂêçÂ≠ó payVo.setSubject(itemEntity.getSkuName()); // ÂïÜÂìÅÁöÑÊèèËø∞‰ΩøÁî®ÂïÜÂìÅÈ°πÁöÑÂ±ûÊÄß payVo.setBody(itemEntity.getSkuAttrsVals()); return payVo; } 3„ÄÅÊîØ‰ªòÊàêÂäüÂêéË∑≥ËΩ¨È°µÈù¢ ÊîØ‰ªòÊàêÂäüÂêéË∑≥ËΩ¨Âà∞ËÆ¢ÂçïÈ°µÈù¢ 12345678910111213141516171819202122/** * @ÈúÄÊ±ÇÊèèËø∞: Á≥ªÁªüÁÆ°ÁêÜÂëò ‰ºöÂëòÊúçÂä°ÁªÑ Ê®°Âùó Áî®Êà∑ÊîØ‰ªòÊàêÂäüÂêéË∑≥ËΩ¨Âà∞ËØ•È°µÈù¢ * @ÂàõÂª∫‰∫∫: * @ÂàõÂª∫Êó∂Èó¥: 2021/01/08 11:13 * @‰øÆÊîπÈúÄÊ±Ç: * @‰øÆÊîπ‰∫∫: * @‰øÆÊîπÊó∂Èó¥: * @ÈúÄÊ±ÇÊÄùË∑Ø: */ @GetMapping(&quot;/memberOrder.html&quot;) public String memberList(@RequestParam(value = &quot;pageNum&quot;,defaultValue = &quot;1&quot;) Integer pageNum, Model model) { // ÂáÜÂ§áÂàÜÈ°µÂèÇÊï∞ Map&lt;String,Object&gt; params = new HashMap&lt;&gt;(); params.put(&quot;page&quot;,pageNum); // ËøúÁ®ãÊü•ËØ¢ÂΩìÂâçÁî®Êà∑ÁöÑÊâÄÊúâËÆ¢Âçï R r = orderFeignService.listwithItem(params); System.out.println(JSON.toJSONString(r)); if (r.getCode() == 0) { model.addAttribute(&quot;orders&quot;,r); } return &quot;list&quot;; } Service 1234567891011121314151617181920212223242526272829/** * Êü•ËØ¢ÂΩìÂâçÁî®Êà∑ÊâÄÊúâËÆ¢Âçï * @param params * @return */ @Override public PageUtils queryPageWithItem(Map&lt;String, Object&gt; params) { // ÂΩìÂâçÁî®Êà∑ÁôªÂΩïÊï∞ÊçÆ MemberRespVo memberRespVo = LoginInterceptor.loginUser.get(); // Êü•ËØ¢ÂΩìÂâçÁî®Êà∑ÊâÄÊúâÁöÑËÆ¢ÂçïËÆ∞ÂΩï IPage&lt;OrderEntity&gt; page = this.page( new Query&lt;OrderEntity&gt;().getPage(params), new QueryWrapper&lt;OrderEntity&gt;() .eq(&quot;member_id&quot;,memberRespVo.getId()) .orderByDesc(&quot;id&quot;) ); List&lt;OrderEntity&gt; records = page.getRecords(); // ÊãøÂà∞ÂàÜÈ°µÊü•ËØ¢ÁªìÊûú List&lt;OrderEntity&gt; orderEntityList = records.stream().map(item -&gt; { // Ê†πÊçÆËÆ¢ÂçïÂè∑Êü•ËØ¢ÂΩìËÆ¢ÂçïÂè∑ÂØπÂ∫îÁöÑËÆ¢ÂçïÈ°π List&lt;OrderItemEntity&gt; itemEntities = orderItemService.list(new QueryWrapper&lt;OrderItemEntity&gt;() .eq(&quot;order_sn&quot;, item.getOrderSn())); item.setOrderEntityItem(itemEntities); return item; }).collect(Collectors.toList()); // ÈáçÊñ∞ËÆæÁΩÆÂàÜÈ°µÊï∞ÊçÆ page.setRecords(orderEntityList); return new PageUtils(page); } ÁÑ∂ÂêéÈ°µÈù¢Ê∏≤ÊüìÊï∞ÊçÆ ÊîØ‰ªòÂÆùÊñáÊ°£Âú∞ÂùÄ: https://opendocs.alipay.com/open/270/105900 5„ÄÅÊî∂Âçï ËÆ¢ÂçïÔºöOrderListener 123456789101112131415161718192021222324252627282930@RabbitListener(queues = &quot;order.release.order.queue&quot;) // ÁõëÂê¨ËÆ¢ÂçïÁöÑÈáäÊîæÈòüÂàóÔºåËÉΩÂà∞Ëøô‰∏™ÈáåÈù¢ÁöÑÊ∂àÊÅØÈÉΩÊòØ30ÂàÜÈíüÂêéËøáÊù•ÁöÑ@Servicepublic class OrderListener { @Autowired OrderService orderService; /** * ËÆ¢ÂçïÂÆöÊó∂ÂÖ≥Âçï * ÂïÜÂìÅ‰∏ãÂçïÂêéÔºå‰ºöÂêëMQ‰∏≠ÂèëÈÄÅ‰∏ÄÊù°Ê∂àÊÅØÂëäËØâMQËÆ¢ÂçïÂàõÂª∫ÊàêÂäü„ÄÇ * ÈÇ£‰πàËÆ¢ÂçïÂàõÂª∫30ÂàÜÈíüÂêéÁî®Êà∑ËøòÊ≤°Êúâ‰∏ãÂçïÔºåMQÂ∞±‰ºöÂÖ≥Èó≠ËØ•ËÆ¢Âçï * @param orderEntity ËÆ¢ÂçïÂØπË±° * @param channel ‰ø°ÈÅì * @param message ‰∫§Êç¢Êú∫ * @throws IOException */ @RabbitHandler public void listener(OrderEntity orderEntity, Channel channel, Message message) throws IOException { System.out.println(&quot;Êî∂Âà∞ËøáÊúüÁöÑËÆ¢Âçï‰ø°ÊÅØÔºåÂáÜÂ§áÂÖ≥Èó≠ËÆ¢ÂçïÔºö&quot; + orderEntity.getOrderSn()); try { orderService.closeOrder(orderEntity); // ÂÖ≥Èó≠ËÆ¢ÂçïÊàêÂäüÂêéÔºåack‰ø°ÊÅØÁ°ÆËÆ§ channel.basicAck(message.getMessageProperties().getDeliveryTag(),false); } catch (Exception e) { e.printStackTrace(); channel.basicReject(message.getMessageProperties().getDeliveryTag(),true); } }} Service 123456789101112131415161718192021222324@Override public void closeOrder(OrderEntity orderEntity) { // ËÆ¢Âçï30ÂàÜÈíüÁöÑÊó∂Èó¥ÂèØËÉΩÊúâÂ±ûÊÄßÂèòÂä®ÔºåÊâÄ‰ª•ÈúÄË¶ÅÊ†πÊçÆÂ±ûÊÄßÂÜçÊ¨°Êü•ËØ¢‰∏ÄÊ¨° OrderEntity entity = this.getById(orderEntity.getId()); // ÂΩìÂâçÁä∂ÊÄÅ‰∏∫ÂæÖ‰ªòÊ¨æÔºåËØ¥ÊòéÁî®Êà∑30ÂàÜÈíüÂÜÖËøòÊ≤°Êúâ‰ªòÊ¨æ if(entity.getStatus() == OrderStatusEnum.CREATE_NEW.getCode()) { OrderEntity updateOrder = new OrderEntity(); // Ê†πÊçÆËÆ¢ÂçïidÊõ¥Êñ∞ updateOrder.setId(entity.getId()); // ËÆ¢ÂçïÁä∂ÊÄÅÊîπÊàêÂ∑≤ÂèñÊ∂à updateOrder.setStatus(OrderStatusEnum.CANCLED.getCode()); // Ê†πÊçÆËÆ¢ÂçïÂØπË±°Êõ¥Êñ∞ this.updateById(updateOrder); // ÂáÜÂ§áÂÖ±‰∫´ÂØπË±°Áî®‰∫éÂèëÈÄÅÂà∞MQ‰∏≠ OrderTo orderTo = new OrderTo(); // Êã∑Ë¥ùÂ±ûÊÄß BeanUtils.copyProperties(entity,orderTo); try { rabbitTemplate.convertAndSend(&quot;order-event-exchange&quot;,&quot;order.release.other&quot;,orderTo); } catch (Exception e) { e.printStackTrace(); } } } ËÆ¢ÂçïÂú®ÊîØ‰ªòÈ°µÔºå‰∏çÊîØ‰ªòÔºå‰∏ÄÁõ¥Âà∑Êñ∞ÔºåËÆ¢ÂçïËøáÊúü‰∫ÜÊâçÊîØ‰ªòÔºåËÆ¢ÂçïÁä∂ÊÄÅÊîπ‰∏∫Â∑≤ÊîØ‰ªò‰∫ÜÔºå‰ΩÜÊòØÂ∫ìÂ≠òËß£ÈîÅ‰∫Ü„ÄÇ ‰ΩøÁî®ÊîØ‰ªòÂÆùËá™Âä®Êî∂ÂçïÂäüËÉΩËß£ÂÜ≥„ÄÇÂè™Ë¶Å‰∏ÄÊÆµÊó∂Èó¥‰∏çÊîØ‰ªòÔºåÂ∞±‰∏çËÉΩÊîØ‰ªò‰∫Ü„ÄÇ Áî±‰∫éÊó∂Âª∂Á≠âÈóÆÈ¢ò„ÄÇËÆ¢ÂçïËß£ÈîÅÂÆåÊàêÔºåÊ≠£Âú®Ëß£ÈîÅÂ∫ìÂ≠òÁöÑÊó∂ÂÄôÔºåÂºÇÊ≠•ÈÄöÁü•ÊâçÂà∞ ËÆ¢ÂçïËß£ÈîÅÔºåÊâãÂä®Ë∞ÉÁî®Êî∂Âçï ÁΩëÁªúÈòªÂ°ûÈóÆÈ¢òÔºåËÆ¢ÂçïÊîØ‰ªòÊàêÂäüÁöÑÂºÇÊ≠•ÈÄöÁü•‰∏ÄÁõ¥‰∏çÂà∞Ëææ Êü•ËØ¢ËÆ¢ÂçïÂàóË°®Êó∂ÔºåajaxËé∑ÂèñÂΩìÂâçÊú™ÊîØ‰ªòÁöÑËÆ¢ÂçïÁä∂ÊÄÅÔºåÊü•ËØ¢ËÆ¢ÂçïÁä∂ÊÄÅÊó∂ÔºåÂÜçËé∑Âèñ‰∏Ä‰∏ãÊîØ‰ªòÂÆùÊ≠§ËÆ¢ÂçïÁöÑÁä∂ÊÄÅ ÂÖ∂‰ªñÂêÑÁßçÈóÆÈ¢ò ÊØèÂ§©Êôö‰∏äÈó≤Êó∂‰∏ãËΩΩÊîØ‰ªòÂÆùÂØπË¥¶ÂçïÔºå‰∏Ä ‰∏Ä ËøõË°åÂØπË¥¶ 15„ÄÅÂπÇÁ≠âÊÄß 15.1 ‰ªÄ‰πàÊòØÂπÇÁ≠âÊÄß Êé•Âè£ÂπÇÁ≠âÊÄßÂ∞±ÊòØÁî®Êà∑ÂØπÂêå‰∏ÄÊìç‰ΩúÂèëËµ∑ÁöÑ‰∏ÄÊ¨°ËØ∑Ê±ÇÂíåÂ§öÊ¨°ËØ∑Ê±ÇÁªìÊûúÊòØ‰∏ÄËá¥ÁöÑÔºå‰∏ç‰ºöÂõ†‰∏∫Â§öÊ¨°ÁÇπÂáªËÄå‰∫ßÁîü‰∫ÜÂâØ‰ΩúÁî®ÔºåÊØîÂ¶ÇÊîØ‰ªòÂú∫ÊôØÔºåÁî®Êà∑Ë¥≠‰π∞‰∫ÜÂïÜÂìÅÔºåÊîØ‰ªòÊâ£Ê¨æÊàêÂäüÔºå‰ΩÜÊòØËøîÂõûÁªìÊûúÁöÑÊó∂ÂÄôÂá∫Áé∞‰∫ÜÁΩëÁªúÂºÇÂ∏∏ÔºåÊ≠§Êó∂Èí±Â∑≤ÁªèÊâ£‰∫ÜÔºåÁî®Êà∑ÂÜçÊ¨°ÁÇπÂáªÊåâÈíÆÔºåÊ≠§Êó∂Â∞±‰ºöËøõË°åÁ¨¨‰∫åÊ¨°Êâ£Ê¨æÔºåËøîÂõûÁªìÊûúÊàêÂäüÔºåÁî®Êà∑Êü•ËØ¢‰ΩôÈ¢ùÂèëÁé∞Â§öÊâ£Èí±‰∫ÜÔºåÊµÅÊ∞¥ËÆ∞ÂΩï‰πüÂèòÊàê‰∫Ü‰∏§Êù°„ÄÇ„ÄÇ„ÄÇËøôÂ∞±Ê≤°Êúâ‰øùËØÅÊé•Âè£ÂπÇÁ≠âÊÄß 15.2 ÈÇ£‰∫õÊÉÖÂÜµÈúÄË¶ÅÈò≤Ê≠¢ Áî®Êà∑Â§öÊ¨°ÁÇπÂáªÊåâÈíÆ Áî®Êà∑È°µÈù¢ÂõûÈÄÄÂÜçÊ¨°Êèê‰∫§ ÂæÆÊúçÂä°‰∫íÁõ∏Ë∞ÉÁî®ÔºåÁî±‰∫éÁΩëÁªúÈóÆÈ¢òÔºåÂØºËá¥ËØ∑Ê±ÇÂ§±Ë¥•ÔºåfeignËß¶ÂèëÈáçËØïÊú∫Âà∂ ÂÖ∂‰ªñ‰∏öÂä°ÊÉÖÂÜµ 15.3 ‰ªÄ‰πàÊÉÖÂÜµ‰∏ãÈúÄË¶ÅÂπÇÁ≠â ‰ª• SQL ‰∏∫‰æãÔºåÊúâ‰∫õÊìç‰ΩúÊó∂Â§©ÁÑ∂ÂπÇÁ≠âÁöÑ SELECT * FROM table WHERE id =? Êó†ËÆ∫ÊâßË°åÂ§öÂ∞ëÊ¨°ÈÉΩ‰∏ç‰ºöÊîπÂèòÁä∂ÊÄÅÊòØÂ§©ÁÑ∂ÁöÑÂπÇÁ≠â UPDATE tab1 SET col1=1 WHERE col2=2 Êó†ËÆ∫ÊâßË°åÊàêÂäüÂ§öÂ∞ëÁä∂ÊÄÅÈÉΩÊòØ‰∏ÄËá¥ÁöÑÔºå‰πüÊòØÂπÇÁ≠âÊìç‰Ωú delete from user where userid=1 Â§öÊ¨°Êìç‰ΩúÔºåÁªìÊûú‰∏ÄÊ†∑ÔºåÂÖ∑Â§áÂπÇÁ≠âÊÄß insert into user(userid,name) values(1,' a' ) Â¶Çuserid‰∏∫ÂîØ‰∏Ä‰∏ªÈîÆÔºåÂç≥ÈáçÂ§ç‰∏äÈù¢ÁöÑ‰∏öÂä°ÔºåÂè™‰ºöÊèíÂÖ•‰∏ÄÊù°Áî®Êà∑ËÆ∞ÂΩïÔºåÂÖ∑Â§áÂπÇÁ≠âÊÄß UPDATE tab1 SET col1=col1+1 WHERE col2=2,ÊØèÊ¨°ÊâßË°åÁöÑÁªìÊûúÈÉΩ‰ºöÂèëÁîüÂèòÂåñÔºå‰∏çÊòØÂπÇÁ≠âÁöÑ„ÄÇinsert into user(userid,name) values(,a&quot;)Â¶Çuserid‰∏çÊòØ‰∏ªÈîÆÔºåÂèØ‰ª•ÈáçÂ§çÔºåÈÇ£‰∏äÈù¢‰∏öÂä°Â§öÊ¨°Êìç‰ΩúÔºåÊï∞ÊçÆÈÉΩ‰ºöÊñ∞Â¢ûÂ§öÊù°Ôºå‰∏çÂÖ∑Â§áÂπÇÁ≠âÊÄß„ÄÇ 15.4 ÂπÇÁ≠âËß£ÂÜ≥ÊñπÊ°à 1„ÄÅtoken Êú∫Âà∂ 1„ÄÅÊúçÂä°Á´ØÊèê‰æõ‰∫ÜÂèëÈÄÅ token ÁöÑÊé•Âè£ÔºåÊàë‰ª¨Âú®ÂàÜÊûê‰∏öÂä°ÁöÑÊó∂ÂÄôÔºåÂì™‰∫õ‰∏öÂä°ÊòØÂ≠òÂú®ÂπÇÁ≠âÊÄßÈóÆÈ¢òÁöÑÔºåÂ∞±ÂøÖÈ°ªÂú®ÊâßË°å‰∏öÂä°ÂâçÔºåÂÖàËé∑Âèñ tokenÔºåÊúçÂä°Âô®‰ºöÊää token ‰øùÂ≠òÂà∞ redis ‰∏≠ 2„ÄÅÁÑ∂ÂêéË∞ÉÁî®‰∏öÂä°Êé•Âè£ËØ∑Ê±ÇÊó∂Ôºå Êää token Êê∫Â∏¶ËøáÂéªÔºå‰∏ÄËà¨ÊîæÂú®ËØ∑Ê±ÇÂ§¥ÈÉ® 3„ÄÅÊúçÂä°Âô®Âà§Êñ≠ token ÊòØÂê¶Â≠òÂú® redisÔºåÂ≠òÂú®Ë°®Á§∫Á¨¨‰∏ÄÊ¨°ËØ∑Ê±ÇÔºåÁÑ∂ÂêéÂà†Èô§ tokenÔºåÁªßÁª≠ÊâßË°å‰∏öÂä° 4„ÄÅÂ¶ÇÊûúÂà§Êñ≠ token ‰∏çÂ≠òÂú® redis ‰∏≠ÔºåÂ∞±Ë°®Á§∫ÈáçÂ§çÊìç‰ΩúÔºåÁõ¥Êé•ËøîÂõûÈáçÂ§çÊ†áËÆ∞Áªô clientÔºåËøôÊ†∑Â∞±‰øùËØÅ‰∫Ü‰∏öÂä°‰ª£Á†ÅÔºå‰∏çË¢´ÈáçÂ§çÊâßË°å Âç±Èô©ÊÄßÔºö 1„ÄÅÂÖàÂà†Èô§ token ËøòÊòØÂêéÂà†Èô§ tokenÔºö ÂÖàÂà†Èô§ÂèØËÉΩÂØºËá¥Ôºå‰∏öÂä°Á°ÆÂÆûÊ≤°ÊúâÊâßË°åÔºåÈáçËØïËøòÂæóÂ∏¶‰∏ä‰πãÂâçÁöÑ token, Áî±‰∫éÈò≤ÈáçËÆæËÆ°ÂØºËá¥ÔºåËØ∑Ê±ÇËøòÊòØ‰∏çËÉΩÊâßË°å ÂêéÂà†Èô§ÂèØËÉΩÂØºËá¥Ôºå‰∏öÂä°Â§ÑÁêÜÊàêÂäüÔºå‰ΩÜÊòØÊúçÂä°Èó™Êñ≠ÔºåÂá∫Áé∞Ë∂ÖÊó∂ÔºåÊ≤°ÊúâÂà†Èô§ÊéâtokenÔºåÂà´‰∫∫ÁªßÁª≠ÈáçËØïÔºåÂØºËá¥‰∏öÂä°Ë¢´ÊâßË°å‰∏§Ê¨° Êàë‰ª¨ÊúÄÂêéËÆæËÆ°‰∏∫ÂÖàÂà†Èô§ tokenÔºåÂ¶ÇÊûú‰∏öÂä°Ë∞ÉÁî®Â§±Ë¥•ÔºåÂ∞±ÈáçÊñ∞Ëé∑Âèñ token ÂÜçÊ¨°ËØ∑Ê±Ç 2„ÄÅToken Ëé∑ÂèñÔºåÊØîËæÉ ÂíåÂà†Èô§ ÂøÖÈ°ªÊòØÂéüÂ≠êÊÄß redis.getÔºàtokenÔºâÔºåtoken.equals„ÄÅredis.delÔºàtokenÔºâ,Â¶ÇÊûúËØ¥Ëøô‰∏§‰∏™Êìç‰ΩúÈÉΩ‰∏çÊòØÂéüÂ≠êÔºåÂèØËÉΩÂØºËá¥ÔºåÂú®È´òÂπ∂Âèë‰∏ãÔºåÈÉΩ get ÂêåÊ†∑ÁöÑÊï∞ÊçÆÔºåÂà§Êñ≠ÈÉΩÊàêÂäüÔºåÁªßÁª≠‰∏öÂä°Âπ∂ÂèëÊâßË°å ÂèØ‰ª•Âú® redis ‰ΩøÁî® lua ËÑöÊú¨ÂÆåÊàêËøô‰∏™Êìç‰Ωú 1&quot;if redis.call('get',KEYS[1]) == ARGV[1] then return redis.call('del',KEYS[1]) else return 0 end&quot; 2„ÄÅÂêÑÁßçÈîÅÊú∫Âà∂ 1„ÄÅÊï∞ÊçÆÂ∫ìÊÇ≤ËßÇÈîÅ select * from xxx where id = 1 for update; for update Êü•ËØ¢ÁöÑÊó∂ÂÄôÈîÅÂÆöËøôÊù°ËÆ∞ÂΩï Âà´‰∫∫ÈúÄË¶ÅÁ≠âÂæÖ ÊÇ≤ËßÇÈîÅ‰ΩøÁî®ÁöÑÊó∂ÂÄô‰∏ÄËà¨‰º¥Èöè‰∫ãÂä°‰∏ÄËµ∑‰ΩøÁî®ÔºåÊï∞ÊçÆÈîÅÂÆöÊó∂Èó¥ÂèØËÉΩ‰ºöÂæàÈïøÔºåÈúÄË¶ÅÊ†πÊçÆÂÆûÈôÖÊÉÖÂÜµÈÄâÁî®ÔºåÂè¶Â§ñÈúÄË¶ÅÊ≥®ÊÑèÁöÑÊòØÔºåidÂ≠óÊÆµ‰∏ÄÂÆöÊòØ‰∏ªÈîÆÊàñÂîØ‰∏ÄÁ¥¢ÂºïÔºå‰∏çÁÑ∂ÂèØËÉΩÈÄ†ÊàêÈîÅË°®ÁöÑÁªìÊûúÔºåÂ§ÑÁêÜËµ∑Êù•‰ºöÈùûÂ∏∏È∫ªÁÉ¶ 2„ÄÅÊï∞ÊçÆÂ∫ìÁöÑ‰πêËßÇÈîÅ ËøôÁßçÊñπÊ≥ïÈÄÇÂêàÂú®Êõ¥Êñ∞ÁöÑÂú∫ÊôØ‰∏≠ update t_goods set count = count - 1,version = version + 1 where good_id = 2 and version = 1 Ê†πÊçÆ version ÁâàÊú¨Ôºå‰πüÂ∞±ÊòØÂú®Êìç‰ΩúÊï∞ÊçÆÂ∫ìÂ≠òÂâçÂÖàËé∑ÂèñÂΩìÂâçÂïÜÂìÅÁöÑ version ÁâàÊú¨Âè∑ÔºåÁÑ∂ÂêéÊìç‰ΩúÁöÑÊó∂ÂÄôÂ∏¶‰∏ä version ÁâàÊú¨Âè∑ÔºåÊàë‰ª¨Ê¢≥ÁêÜ‰∏ãÔºåÊàë‰ª¨Á¨¨‰∏ÄÊ¨°Êìç‰ΩúÂ∫ìÂ≠òÊó∂ÔºåÂæó Âà∞ version ‰∏∫ 1ÔºåË∞ÉÁî®Â∫ìÂ≠òÊúçÂä° version = 2Ôºå‰ΩÜËøîÂõûÁªôËÆ¢ÂçïÊúçÂä°Âá∫Áé∞‰∫ÜÈóÆÈ¢òÔºåËÆ¢ÂçïÊúçÂä°Âèà‰∏ÄÊ¨°Ë∞ÉÁî®‰∫ÜÂ∫ìÂ≠òÊúçÂä°ÔºåÂΩìËÆ¢ÂçïÊúçÂä°‰º†ÁöÑ version ËøòÊòØ 1ÔºåÂÜçÊâßË°å‰∏äÈù¢ÁöÑ sql ËØ≠Âè• Â∞±‰∏ç‰ºöÊâßË°åÔºåÂõ†‰∏∫ version Â∑≤ÁªèÂèòÊàê 2 ‰∫ÜÔºåwhere Êù°‰ª∂‰∏çÊàêÁ´ãÔºåËøôÊ†∑Â∞±‰øùËØÅ‰∫Ü‰∏çÁÆ°Ë∞ÉÁî®Âá†Ê¨°ÔºåÂè™‰ºöÁúüÊ≠£Â§ÑÁêÜ‰∏ÄÊ¨°Ôºå‰πêËßÇÈîÅ‰∏ªË¶Å‰ΩøÁî®‰∫éÂ§ÑÁêÜËØªÂ§öÂÜôÂ∞ëÁöÑÈóÆÈ¢ò 3„ÄÅ‰∏öÂä°Â±ÇÂàÜÂ∏ÉÈîÅ Â¶ÇÊûúÂ§ö‰∏™Êú∫Âô®ÂèØËÉΩÂú®Âêå‰∏ÄÊó∂Èó¥Â§ÑÁêÜÁõ∏ÂêåÁöÑÊï∞ÊçÆÔºåÊØîÂ¶ÇÂ§öÂè∞Êú∫Âô®ÂÆöÊó∂‰ªªÂä°ÊãøÂà∞‰∫ÜÁõ∏ÂêåÁöÑÊï∞ÊçÆÔºåÊàë‰ª¨Â∞±ÂèØ‰ª•Âä†ÂàÜÂ∏ÉÂºèÈîÅÔºåÈîÅÂÆöÊ≠§Êï∞ÊçÆÔºåÂ§ÑÁêÜÂÆåÊàêÂêéÂêéÈáäÊîæÈîÅÔºåËé∑ÂèñÈîÅÂøÖÈ°ªÂÖàÂà§Êñ≠Ëøô‰∏™Êï∞ÊçÆÊòØÂê¶Ë¢´Â§ÑÁêÜËøá 3„ÄÅÂêÑÁßçÂîØ‰∏ÄÁ∫¶Êùü 1„ÄÅÊï∞ÊçÆÂ∫ìÂîØ‰∏ÄÁ∫¶Êùü ÊèíÂÖ•Êï∞ÊçÆÔºåÂ∫îËØ•ÊåâÁÖßÂîØ‰∏ÄÁ¥¢ÂºïËøõË°åÊèíÂÖ•ÔºåÊØîÂ¶ÇËÆ¢ÂçïÂè∑ÔºåÁõ∏ÂêåËÆ¢ÂçïÂ∞±‰∏çÂèØËÉΩÊúâ‰∏§Êù°ËÆ¢ÂçïÊèíÂÖ•ÔºåÊàë‰ª¨Âú®Êï∞ÊçÆÂ∫ìÂ±ÇÈù¢Èò≤Ê≠¢ÈáçÂ§ç Ëøô‰∏™Êú∫Âà∂Âà©Áî®‰∫ÜÊï∞ÊçÆÂ∫ìÁöÑ‰∏ªÈîÆÂîØ‰∏ÄÁ∫¶ÊùüÁöÑÁâπÊÄßÔºåËß£ÂÜ≥‰∫Ü insertÂú∫ ÊôØÊó∂ÂπÇÁ≠âÈóÆÈ¢òÔºå‰ΩÜ‰∏ªÈîÆÁöÑË¶ÅÊ±Ç‰∏çÊòØËá™Â¢ûÁöÑ‰∏ªÈîÆÔºåËøôÊ†∑Â∞±ÈúÄË¶Å‰∏öÂä°ÁîüÊàêÂÖ®Â±ÄÂîØ‰∏ÄÁöÑ‰∏ªÈîÆ Â¶ÇÊûúÊòØÂàÜÂ∫ìÂàÜË°®Âú∫ÊôØ‰∏ãÔºåË∑ØÁî±ËßÑÂàôË¶Å‰øùËØÅÁõ∏ÂêåËØ∑Ê±Ç‰∏ãÔºåËêΩÂú∞Âú®Âêå‰∏Ä‰∏™Êï∞ÊçÆÂ∫ìÂíåÂêå‰∏ÄË°®‰∏≠ÔºåË¶Å‰∏çÁÑ∂Êï∞ÊçÆÂ∫ì‰∏ªÈîÆÁ∫¶ÊùüÂ∞±‰∏çËµ∑ÊïàÊûú‰∫ÜÔºåÂõ†‰∏∫ÊòØ‰∏çÂêåÁöÑÊï∞ÊçÆÂ∫ìÂíåË°®‰∏ªÈîÆ‰∏çÁõ∏ÂÖ≥ 2„ÄÅredis set Èò≤Èáç ÂæàÂ§öÊï∞ÊçÆÈúÄË¶ÅÂ§ÑÁêÜÔºåÂè™ËÉΩË¢´Â§ÑÁêÜ‰∏ÄÊ¨°ÔºåÊØîÂ¶ÇÊàë‰ª¨ÂèØ‰ª•ËÆ°ÁÆóÊï∞ÊçÆÁöÑ MD5 Â∞ÜÂÖ∂ÊîæÂÖ• redis ÁöÑ set,ÊØèÊ¨°Â§ÑÁêÜÊï∞ÊçÆÔºåÂÖàÁúãËøô‰∏™ MD5 ÊòØÂê¶Â∑≤ÁªèÂ≠òÂú®ÔºåÂ≠òÂú®Â∞±‰∏çÂ§ÑÁêÜ 4„ÄÅÈò≤ÈáçË°® ‰ΩøÁî®ËÆ¢ÂçïË°® orderNo ÂÅö‰∏∫ÂéªÈáçË°®ÁöÑÂîØ‰∏ÄÁ¥¢ÂºïÔºåÊääÂîØ‰∏ÄÁ¥¢ÂºïÊèíÂÖ•ÂéªÈáçË°®ÔºåÂÜçËøõË°å‰∏öÂä°Êìç‰ΩúÔºå‰∏î‰ªñ‰ª¨Âú®Âêå‰∏Ä‰∏™‰∫ãÂä°‰∏≠ÔºåËøôÊ†∑Â∞±‰øùËØÅ‰∫ÜÈáçÂ§çËØ∑Ê±ÇÊó∂ÔºåÂõ†‰∏∫ÂéªÈáçË°®ÊúâÂîØ‰∏Ä Á∫¶ÊùüÔºåÂØºËá¥ËØ∑Ê±ÇÂ§±Ë¥•ÔºåÈÅøÂÖç‰∫ÜÂπÇÁ≠âÊÄßÁ≠âÈóÆÈ¢òÔºåÂéªÈáçË°®Âíå‰∏öÂä°Ë°®Â∫îËØ•Âú®Âêå‰∏Ä‰∏™Â∫ì‰∏≠ÔºåËøôÊ†∑Â∞±‰øùËØÅ‰∫ÜÂú®Âêå‰∏Ä‰∏™‰∫ãÂä°ÔºåÂç≥‰Ωø‰∏öÂä°Êìç‰ΩúÂ§±Ë¥•Ôºå‰πü‰ºöÊääÂéªÈáçË°®ÁöÑÊï∞ÊçÆÂõûÊªöÔºåËøô ‰∏™ÂæàÂ•ΩÁöÑ‰øùËØÅ‰∫ÜÊï∞ÊçÆÁöÑ‰∏ÄËá¥ÊÄßÔºå redisÈò≤Èáç‰πüÁÆó 5„ÄÅÂÖ®Â±ÄËØ∑Ê±ÇÂîØ‰∏Äid Ë∞ÉÁî®Êé•Âè£Êó∂ÔºåÁîüÊàê‰∏Ä‰∏™ÂîØ‰∏ÄÁöÑidÔºåredis Â∞ÜÊï∞ÊçÆ‰øùÂ≠òÂà∞ÈõÜÂêà‰∏≠ÔºàÂéªÈáçÔºâÔºåÂ≠òÂú®Âç≥Â§ÑÁêÜËøáÔºåÂèØ‰ª•‰ΩøÁî® nginx ËÆæÁΩÆÊØè‰∏Ä‰∏™ËØ∑Ê±Ç‰∏Ä‰∏™ÂîØ‰∏Äid proxy_set_header X-Request-Id $Request_id 16„ÄÅÊú¨Âú∞‰∫ãÂä° 16.1 ‰∫ãÂä°ÁöÑÂü∫Êú¨ÊÄßË¥® Êï∞ÊçÆÂ∫ì‰∫ãÁâ©ÁöÑÂá†‰∏™ÁâπÊÄßÔºöÂéüÂ≠êÊÄßÔºàAtomiccityÔºâ„ÄÅ‰∏ÄËá¥ÊÄßÔºàConsistetcyÔºâ„ÄÅÈöîÁ¶ªÊÄßÊàñÁã¨Á´ãÊÄßÔºàIsolationÔºâÂíåÊåÅ‰πÖÊÄßÔºàDurabililyÔºâÔºåÁÆÄÁß∞ACID **ÂéüÂ≠êÊÄßÔºö**‰∏ÄÁ≥ªÂàóÊìç‰ΩúÊï¥‰Ωì‰∏çÂèØÊãÜÂàÜÔºåË¶Å‰πàÂêåÊó∂ÊàêÂäüË¶Å‰πàÂêåÊó∂Â§±Ë¥• ‰∏ÄËá¥ÊÄßÔºöÊï∞ÊçÆÂú®‰∏öÂä°ÁöÑÂâçÂêéÔºå‰∏öÂä°Êï¥‰Ωì‰∏ÄËá¥ ËΩ¨Ë¥¶ A:1000 B:1000 ËΩ¨200 ‰∫ãÂä°ÊàêÂäü AÔºö800 BÔºö1200 **ÈöîÁ¶ªÊÄßÔºö**‰∫ãÁâ©‰πãÈó¥ÈúÄË¶ÅÁõ∏‰∫íÈöîÁ¶ª **ÊåÅ‰πÖÊÄßÔºö**‰∏ÄÊó¶‰∫ãÂä°ÊàêÂäüÔºåÊï∞ÊçÆ‰∏ÄÂÆö‰ºöËêΩÁõòÂú®Êï∞ÊçÆÂ∫ì Âú®‰ª•ÂæÄÁöÑÂçï‰ΩìÂ∫îÁî®‰∏≠ÔºåÊàë‰ª¨Â§ö‰∏™‰∏öÂä°Êìç‰Ωú‰ΩøÁî®Âêå‰∏ÄÊù°ËøûÊé•Êìç‰Ωú‰∏çÂêåÁöÑË°®Ôºå‰∏ÄÊó¶ÊúâÂºÇÂ∏∏Êàë‰ª¨ÂæàÂÆπÊòìÊï¥‰ΩìÂõûÊªö BusinessÔºöÊàë‰ª¨ÂÖ∑‰ΩìÁöÑ‰∏öÂä°‰ª£Á†Å StorageÔºöÂ∫ìÂ≠ò‰∏öÂä°‰ª£Á†Å;Êâ£Â∫ìÂ≠ò OrderÔºöËÆ¢Âçï‰∏öÂä°‰ª£Á†Å;‰øùÂ≠òËÆ¢Âçï AccountÔºöË¥¶Âè∑‰∏öÂä°‰ª£Á†Å:ÂáèË¥¶Êà∑‰ΩôÈ¢ù ÊØîÂ¶Ç‰π∞‰∏úË•ø‰∏öÂä°ÔºåÊâ£Â∫ìÂ≠òÔºå‰∏ãËÆ¢ÂçïÔºåË¥¶Êà∑Êâ£Ê¨æÔºåÊòØ‰∏Ä‰∏™Êï¥‰ΩìÔºõÂøÖÈ°ªÂêåÊó∂ÊàêÂäüÊàñËÄÖÂ§±Ë¥• ‰∏Ä‰∏™‰∫ãÂä°ÂºÄÂßãÔºå‰ª£Ë°®‰ª•‰∏ãÁöÑÊâÄÊúâÊìç‰ΩúÈÉΩÂú®Âêå‰∏Ä‰∏™ËøûÊé•ÈáåÈù¢ 16.2 ‰∫ãÁâ©ÁöÑÈöîÁ¶ªÁ∫ßÂà´ READ UNCOMMITEED(ËØªÊú™Êèê‰∫§) ËØ•ÈöîÁ¶ªÁ∫ßÂà´ÁöÑ‰∫ãÂä°‰ºöËØªÂà∞ÂÖ∂‰ªñÊú™Êèê‰∫§‰∫ãÂä°ÁöÑÊï∞ÊçÆÔºåÊ≠§Áé∞Ë±°‰πüÁß∞‰∏∫ËÑèËØª READ COMMITTEDÔºàËØªÊèê‰∫§Ôºâ ‰∏Ä‰∏™‰∫ãÁâ©ÂèØ‰ª•ËØªÂèñÂè¶‰∏Ä‰∏™Â∑≤Êèê‰∫§ÁöÑ‰∫ãÂä°ÔºåÂ§öÊ¨°ËØªÂèñ‰ºöÈÄ†Êàê‰∏ç‰∏ÄÊ†∑ÁöÑÁªìÊûúÔºåÊ≠§Áé∞Ë±°Áß∞‰∏∫‰∏çÂèØÈáçÂ§çËØªÔºåÂ§çËØªÈóÆÈ¢òÔºåOracle ÂíåSQL Server ÁöÑÈªòËÆ§ÈöîÁ¶ªÁ∫ßÂà´ REPEATABLE READÔºàÂèØÈáçÂ§çËØªÔºâ ËØ•ÈöîÁ¶ªÁ∫ßÂà´ÊòØ MySQL ÈªòËÆ§ÁöÑÈöîÁ¶ªÁ∫ßÂà´ÔºåÂú®Âêå‰∏Ä‰∏™‰∫ãÁâ©‰∏≠ÔºåSELECT ÁöÑÁªìÊûúÊòØ‰∫ãÂä°ÂºÄÂßãÊó∂Êó∂Èó¥ÁÇπÁöÑÁä∂ÊÄÅÔºåÂõ†Ê≠§ÔºåÂêåÊ†∑ÁöÑ SELECT Êìç‰ΩúËØªÂà∞ÁöÑÁªìÊûú‰ºöÊòØ‰∏ÄËá¥ ‰ΩÜÊòØ‰ºöÊúâÂπªËØª‰∏ÄËá¥,MySQLÁöÑ InnoDB ÂºïÊìéÂèØ‰ª•ÈÄöËøá next-key locks Êú∫Âà∂ Êù•ÈÅøÂÖçÂπªËØª SERIALIZABLEÔºàÂ∫èÂàóÂåñÔºâ Âú®ËØ•ÈöîÁ¶ªÁ∫ßÂà´‰∏ã‰∫ãÂä°ÈÉΩÊòØ‰∏≤Ë°åÈ°∫Â∫èÊâßË°åÁöÑÔºåMySQL Êï∞ÊçÆÂ∫ìÁöÑ InnoDB ÂºïÊìé‰ºöÁªôËØªÊìç‰ΩúÈöêÂ£´Âä†‰∏ÄÊääËØªÂÖ±‰∫´ÈîÅÔºå‰ªéËÄåÈÅøÂÖç‰∫ÜËÑèËØª„ÄÅ‰∏çÂèØÈáçÂ§çËØª„ÄÅÂπªËØªÁ≠âÈóÆÈ¢ò Ë∂äÂ§ßÁöÑÈöîÁ¶ªÁ∫ßÂà´ÔºåÂπ∂ÂèëËÉΩÂäõË∂ä‰Ωé 16.3 ‰∫ãÂä°‰º†Êí≠Ë°å‰∏∫ **PROPAGATION_REQUIREDÔºö**Â¶ÇÊûúÂΩìÂâçÊ≤°‰∫ã‰∫ãÂä°ÔºåÂ∞±ÂàõÂª∫‰∏Ä‰∏™Êñ∞‰∫ãÂä°ÔºåÂ¶ÇÊûúÂΩìÂâçÂ≠òÂú®‰∫ãÂä°ÔºåÂ∞±Âä†ÂÖ•ËØ•‰∫ãÂä°ÔºåËØ•ËÆæÁΩÆÊó∂ÊúÄÂ∏∏‰ΩøÁî®ÁöÑÈÖçÁΩÆ **PROPAGATION_SUPPORTSÔºö**ÊîØÊåÅÂΩìÂâç‰∫ãÂä°„ÄÇÂ¶ÇÊûúÂΩìÂâçÂ≠òÂú®‰∫ãÂä°ÔºåÂ∞±Âä†ÂÖ•ËØ•‰∫ãÂä°ÔºåÂ¶ÇÊûúÂΩìÂâç‰∏çÂ≠òÂú®‰∫ãÂä°ÔºåÂ∞±‰ª•Èùû‰∫ãÂä°ÊâßË°å **PROPAGATION_MANDATORYÔºö**ÊîØÊåÅÂΩìÂâç‰∫ãÂä°ÔºåÂ¶ÇÊûúÂΩìÂâçÂ≠òÂú®‰∫ãÂä°ÔºåÂ∞±Âä†ÂÖ•ËØ•‰∫ãÂä°ÔºåÂ¶ÇÊûúÂΩìÂâç‰∏çÂ≠òÂú®ËØ•‰∫ãÂä°ÔºåÂ∞±ÊäõÂá∫ÂºÇÂ∏∏ **PROPAGATION_REQUIRES_NEWÔºö**ÂàõÂª∫Êñ∞‰∫ãÂä°ÔºåÊó†ËÆ∫ÂΩìÂâçÂ≠ò‰∏çÂ≠òÂú®‰∫ãÂä°ÔºåÈÉΩÂàõÂª∫Êñ∞‰∫ãÂä° **PROPAGATION_NOT_SUPPORTEDÔºö**‰ª•Èùû‰∫ãÂä°ÁöÑÊñπÂºèÊâßË°åÊìç‰ΩúÔºåÂ¶ÇÊûúÂΩìÂâçÂ≠òÂú®‰∫ãÂä°ÔºåÂ∞±ÊääÂΩìÂâç‰∫ãÂä°ÊåÇËµ∑ **PROPAGATION_NEVERÔºö**‰ª•Èùû‰∫ãÂä°ÊñπÂºèËøêË°åÔºåÂ¶ÇÊûúÂΩìÂâçÂ≠òÂú®‰∫ãÂä°ÔºåÂàôÊäõÂá∫ÂºÇÂ∏∏ **PROPAGATION_NESTEDÔºö**Â¶ÇÊûúÂΩìÂâçÂ≠òÂú®‰∫ãÂä°ÔºåÂ∞±ÂµåÂ•óÂú®ËØ•‰∫ãÂä°ÂÜÖÊâßË°åÔºåÂ¶ÇÊûúÂΩìÂâçÊ≤°Êúâ‰∫ãÂä°ÔºåÂàôÊâßË°åPROPAGATION_REQUIREDÁõ∏ÂÖ≥Êìç‰Ωú 16.4 SpringBoot ‰∫ãÂä°ÂÖ≥ÈîÆÁÇπ Âú®Âêå‰∏Ä‰∏™‰∫ãÁâ©ÂÜÖÁºñÂÜô‰∏§‰∏™ÊñπÊ≥ïÔºåÂÜÖÈÉ®Ë∞ÉÁî®ÁöÑÊó∂ÂÄôÔºå‰ºöÂØºËá¥‰∫ãÂä°Â§±ÊïàÔºåÂéüÂõ†ÊòØÊ≤°ÊúâÁî®Âà∞‰ª£ÁêÜÂØπË±°ÁöÑÁºòÊïÖ Ëß£ÂÜ≥ 0)„ÄÅÂØºÂÖ•spring-boot-starter-aop 1)„ÄÅ@EnableTransactionManagement(proxyTargetClass= true) 2)„ÄÅ@EnableAspectJAutoProxy(lexposeProxy-true) 3)„ÄÅAopContext.currentProxy() Ë∞ÉÁî®ÊñπÊ≥ï 1„ÄÅ‰∫ãÁâ©ÁöÑËá™Âä®ÈÖçÁΩÆ 2„ÄÅ‰∫ãÁâ©ÁöÑÂùë 17„ÄÅÂàÜÂ∏ÉÂºè‰∫ãÂä° 17.1 ‰∏∫‰ªÄ‰πàË¶ÅÊúâÂàÜÂ∏ÉÂºè‰∫ãÂä° ÂàÜÂ∏ÉÂºèÁ≥ªÁªüÁªèÂ∏∏Âá∫Áé∞ÁöÑÂºÇÂ∏∏ Êú∫Âô®ÂÆïÊú∫„ÄÅÁΩëÁªúÂºÇÂ∏∏„ÄÅÊ∂àÊÅØ‰∏¢Â§±„ÄÅÊ∂àÊÅØ‰π±Â∫è„ÄÅ‰∏çÂèØÈù†ÁöÑTCP„ÄÅÂ≠òÂÇ®Êï∞ÊçÆ‰∏¢Â§±.... ÂàÜÂ∏ÉÂºè‰∫ãÂä°ÊòØ‰ºÅ‰∏ö‰∏≠ÈõÜÊàêÁöÑ‰∏Ä‰∏™ÈöæÁÇπÔºå‰πüÊòØÊØè‰∏Ä‰∏™ÂàÜÂ∏ÉÂºèÁ≥ªÁªüÊû∂ÊûÑ‰∏≠ÈÉΩ‰ºöÊ∂âÂèäÂà∞ÁöÑ‰∏Ä‰∏™‰∏úË•øÔºåÁâπÂà´ÊòØÂú®ÂæÆÊúçÂä°Êû∂ÊûÑ‰∏≠ÔºåÂá†‰πéÊòØÊó†Ê≥ïÈÅøÂÖçÁöÑ 17.2 CAP ÂÆöÁêÜ‰∏é BASE ÁêÜËÆ∫ 1„ÄÅCAP ÂÆöÁêÜ CAP ÂéüÂàôÂèàÁß∞ CAP ÂÆöÁêÜÊåáÁöÑÊòØÂú®‰∏Ä‰∏™ÂàÜÂ∏ÉÂºèÁ≥ªÁªü‰∏≠ ‰∏ÄËá¥ÊÄßÔºàConsistencyÔºâ Âú®ÂàÜÂ∏ÉÂºèÁ≥ªÁªü‰∏≠ÊâÄÊúâÊï∞ÊçÆÂ§á‰ªΩÔºåÂú®Âêå‰∏ÄÊó∂ÂàªÊòØÂê¶ÊòØÂêåÊ†∑ÁöÑÂÄºÔºåÔºàÁ≠âÂêå‰∫éÊâÄÊúâËäÇÁÇπËÆøÈóÆÂêå‰∏Ä‰ªΩÊúÄÊñ∞Êï∞ÊçÆÁöÑÂâØÊú¨Ôºâ ÂèØÁî®ÊÄßÔºàAvaliabilityÔºâ Âú®ÈõÜÁæ§‰∏≠‰∏ÄÈÉ®ÂàÜËäÇÁÇπÊïÖÈöúÂêéÔºåÈõÜÁæ§Êï¥‰ΩìÊòØÂê¶ËøòËÉΩÂìçÂ∫îÂÆ¢Êà∑Á´ØÁöÑËØªÂÜôËØ∑Ê±ÇÔºåÔºàÂØπÊï∞ÊçÆÊõ¥Êñ∞ÂÖ∑Â§áÈ´òÂèØÁî®ÊÄßÔºâ ÂàÜÂå∫ÂÆπÈîôÊÄßÔºàPartition toleranceÔºâ Â§ßÂ§öÊï∞ÂàÜÂ∏ÉÂºèÁ≥ªÁªüÈÉΩÂàÜÂ∏ÉÂú®Â§ö‰∏™Â≠êÁΩëÁªúÔºåÊØè‰∏™Ëá™ÁΩëÁªúÂè´ÂÅö‰∏Ä‰∏™Âå∫ÔºàpartitionÔºâ„ÄÇÂàÜÂå∫ÂÆπÈîôÊÄßÁöÑÊÑèÊÄùÊòØÔºåÂå∫Èó¥ÈÄö‰ø°ÂèØËÉΩÂ§±Ë¥•ÔºåÊØîÂ¶ÇÔºå‰∏ÄÂè∞ÊúçÂä°Âô®ÊîæÂú®‰∏≠ÂõΩÂè¶‰∏ÄÂè∞ÊúçÂä°Âô®ÊîæÂú®ÁæéÂõΩÔºåËøôÂ∞±ÊòØ‰∏§‰∏™Âå∫ÔºåÂÆÉ‰ª¨‰πãÈó¥ÂèØËÉΩÊó†Ê≥ïÈÄö‰ø° CAP ÁöÑÂéüÂàôÊòØÔºåËøô‰∏â‰∏™Ë¶ÅÁ¥†ÊúÄÂ§öÂè™ËÉΩÊª°Ë∂≥‰∏§‰∏™ÁÇπÔºå‰∏çÂèØËÉΩ‰∏âËÄÖÂÖºÈ°æ ‰∏ÄËà¨Êù•ËØ¥ÔºåÂàÜÂå∫ÂÆπÈîôÊó†Ê≥ïÈÅøÂÖçÔºåÂõ†Ê≠§Êàë‰ª¨ÂèØ‰ª•ËÆ§‰∏∫ CAP ÁöÑ P ÊÄªÊòØÊàêÁ´ãÔºåCAP ÂÆöÁêÜÂëäËØâÊàë‰ª¨ Ââ©‰∏ãÁöÑ C Âíå A Êó†Ê≥ïÂêåÊó∂ÂÅöÂà∞ ÂàÜÂ∏ÉÂºèÂÆûÁé∞‰∏ÄËá¥ÊÄßÁöÑ raft ÁÆóÊ≥ï http://thesecretlivesofdata.com/raft/ 2„ÄÅÈù¢‰∏¥ÁöÑÈóÆ ÂØπ‰∫éÂ§ßÂ§öÊï∞‰∫íËÅîÁΩëÂ∫îÁî®ÁöÑÂú∫ÊôØ„ÄÅ‰∏ªÊú∫‰ºóÂ§ö„ÄÅÈÉ®ÁΩ≤ÂàÜÊï£ÔºåËÄå‰∏îÈõÜÁæ§ËßÑÊ®°Ë∂äÊù•Ë∂äÂ§ßÔºåÊâÄ‰ª•ËäÇÁÇπÊïÖÈöúÔºåÁΩëÁªúÊïÖÈöúÊòØÂ∏∏ÊÄÅÔºåËÄå‰∏îË¶Å‰øùËØÅÊúçÂä°ÂèØÁî®ÊÄßËææÂà∞99.999%ÔºåÂç≥‰øùËØÅP Âíå A,ËàçÂºÉC 3„ÄÅBASE ÁêÜËÆ∫ ÊòØÂØπCAPÁöÑÂª∂Áî≥ÔºåÊÄùÊÉ≥Âç≥ÊòØÊó†Ê≥ïÂÅöÂà∞Âº∫‰∏ÄËá¥ÊÄßÔºàCAPÁöÑ‰∏ÄËá¥ÊÄßÂ∞±ÊòØÂº∫‰∏ÄËá¥ÊÄßÔºâÔºå‰ΩÜÂèØ‰ª•ÈááÁî®ÈÄÇÂΩìÁöÑÂº±‰∏ÄËá¥ÊÄßÔºåÂç≥ÊúÄÁªà‰∏ÄËá¥ÊÄß BASE ÊòØÊåá Âü∫Êú¨ÂèØÁî®ÔºàBasically AvaliableÔºâ Âü∫Êú¨ÂèØÁî®ÊòØÊåáÂàÜÂ∏ÉÂºèÁ≥ªÁªü‰∏≠Âú®Âá∫Áé∞ÊïÖÈöúÁöÑÊó∂ÂÄôÔºåÂÖÅËÆ∏ÊçüÂ§±ÈÉ®ÂàÜÂèØÁî®ÊÄßÔºàÂàóÂÖ•ÂìçÂ∫îÊó∂Èó¥ÔºåÂäüËÉΩ‰∏äÁöÑÂèØÁî®ÊÄßÔºâÂÖÅËÆ∏ÊçüÂ§±ÈÉ®ÂàÜÂèØÁî®ÊÄß„ÄÇÈúÄË¶ÅÊ≥®ÊÑèÁöÑÊòØÂü∫Êú¨ÂèØÁî®‰∏çÁ≠â‰ª∑‰∫éÁ≥ªÁªü‰∏çÂèØÁî® ÂìçÂ∫îÊó∂Èó¥‰∏äÁöÑÊçüÂ§±ÔºåÊ≠£Â∏∏ÊÉÖÂÜµ‰∏ãÊêúÁ¥¢ÂºïÊìéÈúÄË¶ÅÂú®0.5Áßí‰πãÂÜÖËøîÂõûÁªôÁî®Êà∑Áõ∏Â∫îÁöÑÊü•ËØ¢ÁªìÊûúÔºå‰ΩÜÁî±‰∫éÂá∫Áé∞ÊïÖÈöúÔºàÊØîÂ¶ÇÁ≥ªÁªüÈÉ®ÂàÜÊú∫ÊàøÊñ≠ÁîµÊñ≠ÁΩëÊïÖÈöúÔºâÔºåÊü•ËØ¢ÁöÑÁªìÊûúÂìçÂ∫îÊó∂Èó¥Â¢ûÂä†Âà∞‰∫Ü1~2Áßí ÂäüËÉΩ‰∏äÁöÑÊçüÂ§±ÔºåË¥≠Áâ©ÁΩëÁ´ôÂèåÂçÅ‰∏ÄË¥≠Áâ©È´òÂ≥∞Ôºå‰∏∫‰∫Ü‰øùËØÅÁ≥ªÁªüÁöÑÁ®≥ÂÆöÊÄßÔºåÈÉ®ÂàÜÊ∂àË¥πËÄÖ‰ºöË¢´ÂºïÂÖ•Âà∞‰∏Ä‰∏™ÈôçÁ∫ßÈ°µÈù¢ ËΩØÁä∂ÊÄÅÔºàSoft StateÔºâ ËΩØÁä∂ÊÄÅÊòØÊåáÂÖÅËÆ∏ Á≥ªÁªüÂ≠òÂú®‰∏≠Èó¥Áä∂ÊÄÅÔºåËÄåËØ•‰∏≠Èó¥Áä∂ÊÄÅ‰∏ç‰ºöÂΩ±ÂìçÁ≥ªÁªüÊï¥‰ΩìÂèØÁî®ÊÄß„ÄÇÂàÜÂ∏ÉÂºèÂ≠òÂÇ®‰∏≠‰∏ÄËà¨‰∏Ä‰ªΩÊï∞ÊçÆ‰ºöÊúâ Â§ö‰∏™ÂâØÊú¨ÔºåÂÖÅËÆ∏‰∏çÂêåÂâØÊú¨ÂêåÊ≠•ÁöÑÂª∂Êó∂Â∞±ÊòØËΩØÁä∂ÊÄÅÁöÑ‰ΩìÁé∞„ÄÇmysglreplicationÁöÑÂºÇÊ≠•Â§çÂà∂‰πüÊòØ‰∏ÄÁßç‰ΩìÁé∞„ÄÇ ÊúÄÁªà‰∏ÄËá¥ÊÄß( Eventual Consistency) ÊúÄÁªàËá¥ÊÄßÊòØÊåáÁ≥ªÁªü‰∏≠ÁöÑÊâÄÊúâÊï∞ÊçÆÂâØÊú¨ÁªèËøá‰∏ÄÂÆöÊó∂Èó¥ÂêéÔºåÊúÄÁªàËÉΩÂ§üËææÂà∞‰∏Ä Ëá¥ÁöÑÁä∂ÊÄÅ„ÄÇÂº±‰∏ÄËá¥ÊÄßÂíåÂº∫‰∏ÄËá¥ÊÄßÁõ∏ÂèçÔºåÊúÄÁªà-Ëá¥ÊÄßÊòØÂº±‰∏ÄËá¥ÊÄßÁöÑ‰∏ÄÁßçÁâπÊÆäÊÉÖÂÜµ„ÄÇ 4„ÄÅÂº∫‰∏ÄËá¥ÊÄß„ÄÅÂº±‰∏ÄËá¥ÊÄß„ÄÅÊúÄÁªà‰∏ÄËá¥ÊÄß ‰ªéÂÆ¢Êà∑Á´ØËßíÂ∫¶ÔºåÂ§öËøõÁ®ãÂπ∂ÂèëËÆøÈóÆÊó∂ÔºåÊõ¥Êñ∞ËøáÁöÑÊï∞ÊçÆÂú®‰∏çÂêåËøõÁ®ãÂ¶Ç‰ΩïËé∑ÂèñÁöÑ‰∏çÂêåÁ≠ñÁï•ÔºåÂÜ≥ÂÆö‰∫Ü‰∏çÂêåÁöÑ‰∏ÄËá¥ÊÄß„ÄÇÂØπ‰∫éÂÖ≥Á≥ªÂûãÊï∞ÊçÆÂ∫ìÔºåË¶ÅÊ±ÇÊõ¥Êñ∞ËøáÁöÑÊï∞ÊçÆËÉΩË¢´ÂêéÁª≠ÁöÑËÆøÈóÆÈÉΩËÉΩÁúãÂà∞ÔºåËøôÊòØÂº∫‰∏ÄËá¥ÊÄß„ÄÇÂ¶ÇÊûúËÉΩÂÆπÂøçÂêéÁª≠ÁöÑÈÉ®ÂàÜÊàñËÄÖÂÖ®ÈÉ®ËÆøÈóÆ‰∏çÂà∞ÔºåÂàôÊòØÂº±‰∏ÄËá¥ÊÄß„ÄÇÂ¶ÇÊûúÁªèËøá‰∏ÄÊÆµÊó∂Èó¥ÂêéË¶ÅÊ±ÇËÉΩËÆøÈóÆÂà∞Êõ¥Êñ∞ÂêéÁöÑÊï∞ÊçÆÔºåÂàôÊòØÊúÄÁªà‰∏ÄËá¥ÊÄß 17.3 ÂàÜÂ∏ÉÂºè‰∫ãÂä°ÁöÑÂá†ÁßçÊñπÊ°à 1„ÄÅ2PC Ê®°Âºè Êï∞ÊçÆÂ∫ìÊîØÊåÅÁöÑ 2PC[2 phase commit ‰∫åÈò∂Êèê‰∫§]ÔºåÂèàÂè´ XA Transactions MySQL ‰ªé5.5ÁâàÊú¨ÂºÄÂßãÊîØÊåÅÔºåSql Server 2005 ÂºÄÂßãÊîØÊåÅÔºåoracle7 ÂºÄÂßãÊîØÊåÅ ÂÖ∂‰∏≠ÔºåXA ÊòØ‰∏Ä‰∏™‰∏§Èò∂ÊÆµÊèê‰∫§ÂçèËÆÆÔºåËØ•ÂçèËÆÆÂàÜ‰∏∫‰∏§‰∏™Èò∂ÊÆµÔºö Á¨¨‰∏ÄÈò∂ÊÆµÔºö‰∫ãÂä°ÂçèË∞ÉÂô®Ë¶ÅÊ±ÇÊØè‰∏™Ê∂âÂèäÂà∞‰∫ãÂä°ÁöÑÊï∞ÊçÆÂ∫ìÈ¢ÑÊèê‰∫§ÔºàprecommitÔºâÊ≠§Êìç‰ΩúÔºåÂπ∂ÂèçÂ∫îÊòØÂê¶ÂèØ‰ª•Êèê‰∫§ Á¨¨‰∫åÈò∂ÊÆµÔºö‰∫ãÂä°ÂçèË∞ÉÂô®Ë¶ÅÊ±ÇÊØè‰∏™Êï∞ÊçÆÂ∫ìÊèê‰∫§Êï∞ÊçÆ ÂÖ∂‰∏≠ÔºåÂ¶ÇÊûúÊúâ‰ªª‰Ωï‰∏Ä‰∏™Êï∞ÊçÆÂ∫ìÂê¶ËÆ§ËøôÊ¨°Êèê‰∫§ÔºåÈÇ£‰πàÊâÄÊúâÊï∞ÊçÆÂ∫ìÈÉΩ‰ºöË¶ÅÊ±ÇÂõûÊªö‰ªñ‰ª¨Âú®Ê≠§‰∫ãÂä°‰∏≠ÁöÑÈÇ£ÈÉ®ÂàÜ‰ø°ÊÅØ XAÂçèËÆÆÊØîËæÉÁÆÄÂçïÔºåËÄå‰∏î‰∏ÄÊó¶ÂïÜ‰∏öÊï∞ÊçÆÂ∫ìÂÆûÁé∞‰∫ÜXAÂçèËÆÆÔºå‰ΩøÁî®ÂàÜÂ∏ÉÂºè‰∫ãÂä°ÁöÑÊàêÊú¨‰πüÊØîËæÉ‰Ωé„ÄÇ XAÊÄßËÉΩ‰∏çÁêÜÊÉ≥ÔºåÁâπÂà´ÊòØÂú®‰∫§Êòì‰∏ãÂçïÈìæË∑ØÔºåÂæÄÂæÄÂπ∂ÂèëÈáèÂæàÈ´òÔºåXAÊó†Ê≥ïÊª°Ë∂≥È´òÂπ∂ÂèëÂú∫ÊôØ XAÁõÆÂâçÂú®ÂïÜ‰∏öÊï∞ÊçÆÂ∫ìÊîØÊåÅÁöÑÊØîËæÉÁêÜÊÉ≥ÔºåÂú®mysq!Êï∞ÊçÆÂ∫ì‰∏≠ÊîØÊåÅÁöÑ‰∏çÂ§™ÁêÜÊÉ≥ÔºåmysglÁöÑ XAÂÆûÁé∞ÔºåÊ≤°ÊúâËÆ∞ÂΩïprepareÈò∂ÊÆµÊó•ÂøóÔºå‰∏ªÂ§áÂàáÊç¢ÂõûÂØºËá¥‰∏ªÂ∫ì‰∏éÂ§áÂ∫ìÊï∞ÊçÆ‰∏ç‰∏ÄËá¥„ÄÇ ËÆ∏Â§önosgI‰πüÊ≤°ÊúâÊîØÊåÅXAÔºåËøôËÆ©XAÁöÑÂ∫îÁî®Âú∫ÊôØÂèòÂæóÈùûÂ∏∏Áã≠Èöò„ÄÇ ‰πüÊúâ3PC,ÂºïÂÖ•‰∫ÜË∂ÖÊó∂Êú∫Âà∂(Êó†ËÆ∫ÂçèË∞ÉËÄÖËøòÊòØÂèÇ‰∏éËÄÖÔºåÂú®ÂêëÂØπÊñπÂèëÈÄÅËØ∑Ê±ÇÂêéÔºåËã•ÈïøÊó∂Èó¥Êú™Êî∂Âà∞ÂõûÂ∫îÂàôÂÅöÂá∫Áõ∏Â∫îÂ§ÑÁêÜ) 2„ÄÅÊüîÊÄß‰∫ãÂä° - TCC ‰∫ãÂä° ÂàöÊÄß‰∫ãÂä°:ÈÅµÂæ™ACIDÂéüÂàôÔºåÂº∫‰∏ÄËá¥ÊÄß„ÄÇ ÊüîÊÄß‰∫ãÂä°:ÈÅµÂæ™BASEÁêÜËÆ∫ÔºåÊúÄÁªà‰∏ÄËá¥ÊÄß; ‰∏éÂàöÊÄß‰∫ãÂä°‰∏çÂêåÔºåÊüîÊÄß‰∫ãÂä°ÂÖÅËÆ∏‰∏ÄÂÆöÊó∂Èó¥ÂÜÖÔºå‰∏çÂêåËäÇÁÇπÁöÑÊï∞ÊçÆ‰∏ç‰∏ÄËá¥Ôºå‰ΩÜË¶ÅÊ±ÇÊúÄÁªà‰∏ÄËá¥„ÄÇ ‰∏ÄÈò∂ÊÆµ prepare Ë°å‰∏∫:Ë∞ÉÁî®Ëá™ÂÆö‰πâÁöÑ prepare ÈÄªËæë„ÄÇ ‰∫åÈò∂ÊÆµ commit Ë°å‰∏∫:Ë∞ÉÁî®Ëá™ÂÆö‰πâÁöÑ commit ÈÄªËæë„ÄÇ ‰∫åÈò∂ÊÆµ rollbackË°å‰∏∫:Ë∞ÉÁî®Ëá™ÂÆö‰πâÁöÑ rollback ÈÄªËæë„ÄÇ ÊâÄË∞ìTCCÊ®°ÂºèÔºåÊòØÊåáÊîØÊåÅÊääËá™ÂÆö‰πâÁöÑÂàÜÊîØ‰∫ãÂä°Á∫≥ÂÖ•Âà∞ÂÖ®Â±Ä‰∫ãÂä°ÁöÑÁÆ°ÁêÜ‰∏≠„ÄÇ 3„ÄÅÊüîÊÄß‰∫ãÂä° - ÊúÄÂ§ßÂä™ÂäõÈÄöÁü•ÂûãÊñπÊ°à ÊåâËßÑÂæãËøõË°åÈÄöÁü•Ôºå‰∏ç‰øùËØÅÊï∞ÊçÆÂÆöËÉΩÈÄöÁü•ÊàêÂäüÔºå ‰ΩÜ‰ºöÊèê‰æõÂèØÊü•ËØ¢Êìç‰ΩúÊé•Âè£ËøõË°åÊ†∏ÂØπ„ÄÇËøôÁßçÊñπÊ°à‰∏ªË¶ÅÁî®Âú®‰∏éÁ¨¨‰∏âÊñπÁ≥ªÁªüÈÄöËÆØÊó∂ÔºåÊØîÂ¶Ç:Ë∞ÉÁî®ÂæÆ‰ø°ÊàñÊîØ‰ªòÂÆùÊîØ‰ªòÂêéÁöÑÊîØ‰ªòÁªìÊûúÈÄöÁü•„ÄÇËøôÁßçÊñπÊ°à‰πüÊòØÁªìÂêàMQËøõË°åÂÆûÁé∞Ôºå‰æãÂ¶Ç:ÈÄöËøáMQÂèëÈÄÅhttpËØ∑Ê±ÇÔºåËÆæÁΩÆÊúÄÂ§ßÈÄöÁü•Ê¨°Êï∞„ÄÇËææÂà∞ÈÄöÁü•Ê¨°Êï∞ÂêéÂç≥‰∏çÂÜçÈÄöÁü•„ÄÇ Ê°à‰æã:Èì∂Ë°åÈÄöÁü•„ÄÅÂïÜÊà∑ÈÄöÁü•Á≠â(ÂêÑÂ§ß‰∫§Êòì‰∏öÂä°Âπ≥Âè∞Èó¥ÁöÑÂïÜÊà∑ÈÄöÁü•:Â§öÊ¨°ÈÄöÁü•„ÄÅÊü•ËØ¢Ê†°ÂØπ„ÄÅÂØπË¥¶Êñá‰ª∂)ÔºåÊîØ‰ªòÂÆùÁöÑÊîØ‰ªòÊàêÂäüÂºÇÊ≠•ÂõûË∞É 4„ÄÅÊüîÊÄß‰∫ãÂä° - ÂèØÈù†‰ø°ÊÅØ + ÊúÄÁªà‰∏ÄËá¥ÊÄßÊñπÊ°àÔºàÂºÇÊ≠•ÈÄöÁü•ÂûãÔºâ ÂÆûÁé∞:‰∏öÂä°Â§ÑÁêÜÊúçÂä°Âú®‰∏öÂä°‰∫ãÂä°Êèê‰∫§‰πãÂâçÔºåÂêëÂÆûÊó∂Ê∂àÊÅØÊúçÂä°ËØ∑Ê±ÇÂèëÈÄÅÊ∂àÊÅØÔºåÂÆûÊó∂Ê∂àÊÅØÊúçÂä°Âè™ËÆ∞ÂΩïÊ∂àÊÅØÊï∞ÊçÆÔºåËÄå‰∏çÊòØÁúüÊ≠£ÁöÑÂèëÈÄÅ„ÄÇ‰∏öÂä°Â§ÑÁêÜÊúçÂä°Âú®‰∏öÂä°‰∫ãÂä°Êèê‰∫§‰πãÂêéÔºåÂêëÂÆûÊó∂Ê∂àÊÅØÊúçÂä°Á°ÆËÆ§ÂèëÈÄÅ„ÄÇÂè™ÊúâÂú®ÂæóÂà∞Á°ÆËÆ§ÂèëÈÄÅÊåá‰ª§ÂêéÔºåÂÆûÊó∂Ê∂àÊÅØÊúçÂä°Êâç‰ºöÁúüÊ≠£ÂèëÈÄÅ„ÄÇ 18„ÄÅÊîØ‰ªòÂÆùÊîØ‰ªò 1„ÄÅËøõÂÖ•ËöÇËöÅÈáëÊúçÂºÄÊîæÂπ≥Âè∞ https://open.alipay.com/platform/home.htm 2„ÄÅ‰∏ãËΩΩÊîØ‰ªòÂÆùÂÆòÊñπDemoÔºåËøõË°åÈÖçÁΩÆÂíåÊµãËØï ÊñáÊ°£Âú∞ÂùÄÔºö https://openhome.alipay.com/docCenter/docCenter.htm ÂàõÂª∫Â∫îÁî®ÂØπÂ∫îÊñáÊ°£ https://opendocs.alipay.com/open/200/105304 ÁΩëÈ°µÁßªÂä®Â∫îÁî®ÊñáÊ°£ https://opendocs.alipay.com/open/54/cyz7do Áõ∏ÂÖ≥Demo ÂØÜÁ†Å ÂàõÂª∫Â∫îÁî® 3„ÄÅ‰ΩøÁî®Ê≤ôÁÆ±ËøõË°åÊµãËØï https://openhome.alipay.com/platform/appDaily.htm?tab=info 4„ÄÅ‰ªÄ‰πàÊòØÂÖ¨Èí•„ÄÅÁßÅÈí•„ÄÅÂä†ÂØÜ„ÄÅÁ≠æÂêçÂíåÈ™åÁ≠æ? 1„ÄÅÂÖ¨Èí•ÁßÅÈí• ÂÖ¨Èí•ÂíåÁßÅÈí•ÊòØ‰∏Ä‰∏Ä‰∏™Áõ∏ÂØπÊ¶ÇÂøµ ÂÆÉ‰ª¨ÁöÑÂÖ¨ÁßÅÊÄßÊòØÁõ∏ÂØπ‰∫éÁîüÊàêËÄÖÊù•ËØ¥ÁöÑ„ÄÇ ‰∏ÄÂØπÂØÜÈí•ÁîüÊàêÂêéÔºå‰øùÂ≠òÂú®ÁîüÊàêËÄÖÊâãÈáåÁöÑÂ∞±ÊòØÁßÅÈí•ÔºåÁîüÊàêËÄÖÂèëÂ∏ÉÂá∫ÂéªÂ§ßÂÆ∂Áî®ÁöÑÂ∞±ÊòØÂÖ¨Èí• 5„ÄÅÊîØ‰ªòÂÆùÊîØ‰ªòÊµÅÁ®ã https://opendocs.alipay.com/open/270/105898 1„ÄÅÂºïÂØºÁî®Êà∑ËøõÂÖ•Âà∞ÊîØ‰ªòÂÆùÈ°µÈù¢ 1„ÄÅpom.xml 123456&lt;!--ÊîØ‰ªòÂÆùÊ®°Âùó--&gt; &lt;dependency&gt; &lt;groupId&gt;com.alipay.sdk&lt;/groupId&gt; &lt;artifactId&gt;alipay-sdk-java&lt;/artifactId&gt; &lt;version&gt;4.9.28.ALL&lt;/version&gt; &lt;/dependency&gt; 2„ÄÅÂ∞ÜÁ¥†ÊùêÊèê‰æõÁöÑÊñá‰ª∂ÂºïÂÖ•Âà∞È°πÁõÆ‰∏≠ AlipayTemplate„ÄÅPayVo„ÄÅPaySyncVo AlipayTemplate 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980package com.atguigu.gulimall.order.config;import com.alipay.api.AlipayApiException;import com.alipay.api.AlipayClient;import com.alipay.api.DefaultAlipayClient;import com.alipay.api.request.AlipayTradePagePayRequest;import com.atguigu.gulimall.order.vo.PayVo;import lombok.Data;import org.springframework.boot.context.properties.ConfigurationProperties;import org.springframework.stereotype.Component;@ConfigurationProperties(prefix = &quot;alipay&quot;)@Component@Datapublic class AlipayTemplate { //Âú®ÊîØ‰ªòÂÆùÂàõÂª∫ÁöÑÂ∫îÁî®ÁöÑid private String app_id = &quot;2016092200568607&quot;; // ÂïÜÊà∑ÁßÅÈí•ÔºåÊÇ®ÁöÑPKCS8Ê†ºÂºèRSA2ÁßÅÈí• private String merchant_private_key = &quot;XXX&quot;; // ÊîØ‰ªòÂÆùÂÖ¨Èí•,Êü•ÁúãÂú∞ÂùÄÔºöhttps://openhome.alipay.com/platform/keyManage.htm ÂØπÂ∫îAPPID‰∏ãÁöÑÊîØ‰ªòÂÆùÂÖ¨Èí•„ÄÇ private String alipay_public_key = &quot;XXX&quot;; // ÊúçÂä°Âô®[ÂºÇÊ≠•ÈÄöÁü•]È°µÈù¢Ë∑ØÂæÑ ÈúÄhttp://Ê†ºÂºèÁöÑÂÆåÊï¥Ë∑ØÂæÑÔºå‰∏çËÉΩÂä†?id=123ËøôÁ±ªËá™ÂÆö‰πâÂèÇÊï∞ÔºåÂøÖÈ°ªÂ§ñÁΩëÂèØ‰ª•Ê≠£Â∏∏ËÆøÈóÆ // ÊîØ‰ªòÂÆù‰ºöÊÇÑÊÇÑÁöÑÁªôÊàë‰ª¨ÂèëÈÄÅ‰∏Ä‰∏™ËØ∑Ê±ÇÔºåÂëäËØâÊàë‰ª¨ÊîØ‰ªòÊàêÂäüÁöÑ‰ø°ÊÅØ private String notify_url = &quot;http://member.gulimall.com/memberOrder.html&quot;; // È°µÈù¢Ë∑≥ËΩ¨ÂêåÊ≠•ÈÄöÁü•È°µÈù¢Ë∑ØÂæÑ ÈúÄhttp://Ê†ºÂºèÁöÑÂÆåÊï¥Ë∑ØÂæÑÔºå‰∏çËÉΩÂä†?id=123ËøôÁ±ªËá™ÂÆö‰πâÂèÇÊï∞ÔºåÂøÖÈ°ªÂ§ñÁΩëÂèØ‰ª•Ê≠£Â∏∏ËÆøÈóÆ //ÂêåÊ≠•ÈÄöÁü•ÔºåÊîØ‰ªòÊàêÂäüÔºå‰∏ÄËà¨Ë∑≥ËΩ¨Âà∞ÊàêÂäüÈ°µ private String return_url = &quot;http://member.gulimall.com/memberOrder.html&quot;; // Á≠æÂêçÊñπÂºè private String sign_type = &quot;RSA2&quot;; // Â≠óÁ¨¶ÁºñÁ†ÅÊ†ºÂºè private String charset = &quot;utf-8&quot;; // ËÆ¢ÂçïË∂ÖÊó∂Êó∂Èó¥ÔºåÂà∞ËææË∂ÖÊó∂Êó∂Èó¥ÂêéËá™Âä®ÂÖ≥Èó≠ËÆ¢Âçï‰∏çËÉΩÂÜçÁªßÁª≠ÊîØ‰ªò private String timeout = &quot;30m&quot;; // ÊîØ‰ªòÂÆùÁΩëÂÖ≥Ôºõ https://openapi.alipaydev.com/gateway.do private String gatewayUrl = &quot;https://openapi.alipaydev.com/gateway.do&quot;; public String pay(PayVo vo) throws AlipayApiException { //AlipayClient alipayClient = new DefaultAlipayClient(AlipayTemplate.gatewayUrl, AlipayTemplate.app_id, AlipayTemplate.merchant_private_key, &quot;json&quot;, AlipayTemplate.charset, AlipayTemplate.alipay_public_key, AlipayTemplate.sign_type); //1„ÄÅÊ†πÊçÆÊîØ‰ªòÂÆùÁöÑÈÖçÁΩÆÁîüÊàê‰∏Ä‰∏™ÊîØ‰ªòÂÆ¢Êà∑Á´Ø AlipayClient alipayClient = new DefaultAlipayClient(gatewayUrl, app_id, merchant_private_key, &quot;json&quot;, charset, alipay_public_key, sign_type); //2„ÄÅÂàõÂª∫‰∏Ä‰∏™ÊîØ‰ªòËØ∑Ê±Ç //ËÆæÁΩÆËØ∑Ê±ÇÂèÇÊï∞ AlipayTradePagePayRequest alipayRequest = new AlipayTradePagePayRequest(); alipayRequest.setReturnUrl(return_url); alipayRequest.setNotifyUrl(notify_url); //ÂïÜÊà∑ËÆ¢ÂçïÂè∑ÔºåÂïÜÊà∑ÁΩëÁ´ôËÆ¢ÂçïÁ≥ªÁªü‰∏≠ÂîØ‰∏ÄËÆ¢ÂçïÂè∑ÔºåÂøÖÂ°´ String out_trade_no = vo.getOut_trade_no(); //‰ªòÊ¨æÈáëÈ¢ùÔºåÂøÖÂ°´ String total_amount = vo.getTotal_amount(); //ËÆ¢ÂçïÂêçÁß∞ÔºåÂøÖÂ°´ String subject = vo.getSubject(); //ÂïÜÂìÅÊèèËø∞ÔºåÂèØÁ©∫ String body = vo.getBody(); // timeout_express ËÆ¢ÂçïÊîØ‰ªòË∂ÖÊó∂Êó∂Èó¥ alipayRequest.setBizContent(&quot;{\\&quot;out_trade_no\\&quot;:\\&quot;&quot;+ out_trade_no +&quot;\\&quot;,&quot; + &quot;\\&quot;total_amount\\&quot;:\\&quot;&quot;+ total_amount +&quot;\\&quot;,&quot; + &quot;\\&quot;subject\\&quot;:\\&quot;&quot;+ subject +&quot;\\&quot;,&quot; + &quot;\\&quot;body\\&quot;:\\&quot;&quot;+ body +&quot;\\&quot;,&quot; + &quot;\\&quot;timeout_express\\&quot;:\\&quot;&quot; + timeout + &quot;\\&quot;,&quot; + &quot;\\&quot;product_code\\&quot;:\\&quot;FAST_INSTANT_TRADE_PAY\\&quot;}&quot;); String result = alipayClient.pageExecute(alipayRequest).getBody(); //‰ºöÊî∂Âà∞ÊîØ‰ªòÂÆùÁöÑÂìçÂ∫îÔºåÂìçÂ∫îÁöÑÊòØ‰∏Ä‰∏™È°µÈù¢ÔºåÂè™Ë¶ÅÊµèËßàÂô®ÊòæÁ§∫Ëøô‰∏™È°µÈù¢ÔºåÂ∞±‰ºöËá™Âä®Êù•Âà∞ÊîØ‰ªòÂÆùÁöÑÊî∂Èì∂Âè∞È°µÈù¢ System.out.println(&quot;ÊîØ‰ªòÂÆùÁöÑÂìçÂ∫îÔºö&quot;+result); return result; }} PayVo 123456789101112131415package com.atguigu.gulimall.order.vo;import lombok.Data;/** * ÊîØ‰ªò‰ΩøÁî®Vo */@Datapublic class PayVo { private String out_trade_no; // ÂïÜÊà∑ËÆ¢ÂçïÂè∑ ÂøÖÂ°´ private String subject; // ËÆ¢ÂçïÂêçÁß∞ ÂøÖÂ°´ private String total_amount; // ‰ªòÊ¨æÈáëÈ¢ù ÂøÖÂ°´ private String body; // ÂïÜÂìÅÊèèËø∞ ÂèØÁ©∫} payAsyncVo 1234567891011121314151617181920212223242526272829303132333435363738package com.atguigu.gulimall.order.vo;import lombok.Data;import lombok.ToString;import java.util.Date;/** * ÊîØ‰ªòÂÆùÂõûË∞ÉÂèÇÊï∞Vo */@ToString@Datapublic class PayAsyncVo { private String gmt_create; private String charset; private String gmt_payment; private Date notify_time; private String subject; private String sign; private String buyer_id;//ÊîØ‰ªòËÄÖÁöÑid private String body;//ËÆ¢ÂçïÁöÑ‰ø°ÊÅØ private String invoice_amount;//ÊîØ‰ªòÈáëÈ¢ù private String version; private String notify_id;//ÈÄöÁü•id private String fund_bill_list; private String notify_type;//ÈÄöÁü•Á±ªÂûãÔºõ trade_status_sync private String out_trade_no;//ËÆ¢ÂçïÂè∑ private String total_amount;//ÊîØ‰ªòÁöÑÊÄªÈ¢ù private String trade_status;//‰∫§ÊòìÁä∂ÊÄÅ TRADE_SUCCESS private String trade_no;//ÊµÅÊ∞¥Âè∑ private String auth_app_id;// private String receipt_amount;//ÂïÜÂÆ∂Êî∂Âà∞ÁöÑÊ¨æ private String point_amount;// private String app_id;//Â∫îÁî®id private String buyer_pay_amount;//ÊúÄÁªàÊîØ‰ªòÁöÑÈáëÈ¢ù private String sign_type;//Á≠æÂêçÁ±ªÂûã private String seller_id;//ÂïÜÂÆ∂ÁöÑid} 3„ÄÅÁºñÂÜô‰∏öÂä°Ë∑≥ËΩ¨Âà∞ÊîØ‰ªòÈ°µÈù¢ 123456789101112131415161718192021222324252627282930313233343536/** * @author gcq * @Create 2021-01-08 */@Controllerpublic class PayWebController { @Autowired AlipayTemplate alipayTemplate; @Autowired OrderService orderService; /** * 1„ÄÅË∑≥ËΩ¨Âà∞ÊîØ‰ªòÈ°µÈù¢ * 2„ÄÅÁî®Êà∑ÊîØ‰ªòÊàêÂäüÂêéÔºåÊàë‰ª¨Ë¶ÅË∑≥ËΩ¨Âà∞Áî®Êà∑ÁöÑËÆ¢ÂçïÂàóË°®È°µ * produces ÊòéÁ°ÆÊñπÊ≥ï‰ºöËøîÂõû‰ªÄ‰πàÁ±ªÂûãÔºåËøôÈáåËøîÂõûÁöÑÊòØhtmlÈ°µÈù¢ * @param orderSn * @return * @throws AlipayApiException */ @ResponseBody @GetMapping(value = &quot;/payOrder&quot;,produces = &quot;text/html&quot;) public String payOrder(@RequestParam(&quot;orderSn&quot;) String orderSn) throws AlipayApiException {// PayVo payVo = new PayVo();// payVo.setBody(); // ÂïÜÂìÅÊèèËø∞// payVo.setSubject(); //ËÆ¢ÂçïÂêçÁß∞// payVo.setOut_trade_no(); // ËÆ¢ÂçïÂè∑// payVo.setTotal_amount(); //ÊÄªÈáëÈ¢ù PayVo payvo = orderService.payOrder(orderSn); // Â∞ÜËøîÂõûÊîØ‰ªòÂÆùÁöÑÊîØ‰ªòÈ°µÈù¢ÔºåÈúÄË¶ÅÂ∞ÜËøô‰∏™È°µÈù¢ËøõË°åÊòæÁ§∫ String pay = alipayTemplate.pay(payvo); System.out.println(pay); return pay; }} Service 123456789101112131415161718192021222324/** * ËÆ°ÁÆóÂïÜÂìÅÊîØ‰ªòÈúÄË¶ÅÁöÑ‰ø°ÊÅØ * @param orderSn * @return */ @Override public PayVo payOrder(String orderSn) { PayVo payVo = new PayVo(); OrderEntity orderEntity = this.getOrderByOrderSn(orderSn); // Ê†πÊçÆËÆ¢ÂçïÂè∑Êü•ËØ¢Âà∞ÂïÜÂìÅ // Êï∞ÊçÆÂ∫ì‰∏≠‰ªòÊ¨æÈáëÈ¢ùÂ∞èÊï∞Êúâ4‰ΩçÔºå‰ΩÜÊòØÊîØ‰ªòÂÆùÂè™Êé•Âèó2‰ΩçÔºåÊâÄ‰ª•Âêë‰∏äÂèñÊï¥‰∏§‰ΩçÊï∞ BigDecimal decimal = orderEntity.getPayAmount().setScale(2, BigDecimal.ROUND_UP); payVo.setTotal_amount(decimal.toString()); // ÂïÜÊà∑ËÆ¢ÂçïÂè∑ payVo.setOut_trade_no(orderSn); // Êü•ËØ¢Âá∫ËÆ¢ÂçïÈ°πÔºåÁî®Êù•ËÆæÁΩÆÂïÜÂìÅÁöÑÊèèËø∞ÂíåÂïÜÂìÅÂêçÁß∞ List&lt;OrderItemEntity&gt; itemEntities = orderItemService.list(new QueryWrapper&lt;OrderItemEntity&gt;() .eq(&quot;order_sn&quot;, orderSn)); OrderItemEntity itemEntity = itemEntities.get(0); // ËÆ¢ÂçïÂêçÁß∞‰ΩøÁî®ÂïÜÂìÅÈ°πÁöÑÂêçÂ≠ó payVo.setSubject(itemEntity.getSkuName()); // ÂïÜÂìÅÁöÑÊèèËø∞‰ΩøÁî®ÂïÜÂìÅÈ°πÁöÑÂ±ûÊÄß payVo.setBody(itemEntity.getSkuAttrsVals()); return payVo; } ÊúÄÂêéÁîüÊàêÈ°µÈù¢ 2„ÄÅÁî®Êà∑ÁÇπÂáª‰ªòÊ¨æ 3„ÄÅ‰ªòÊ¨æÊàêÂäüÂêéË∑≥ËΩ¨Âà∞ÊàêÂäüÈ°µÈù¢ Ë∑≥ËΩ¨ÁöÑÈ°µÈù¢ÊòØÊ†πÊçÆAlipayTemplateÂÆö‰πâÁöÑÂõûË∞ÉÂú∞ÂùÄÊù•ËøõË°åË∑≥ËΩ¨ notify_urlÔºöÊîØ‰ªòÊàêÂäüÂºÇÊ≠•ÂõûË∞ÉÔºåËøîÂõûÊîØ‰ªòÊàêÂäüÁõ∏ÂÖ≥ÁöÑ‰ø°ÊÅØ return_urlÔºöÂêåÊ≠•ÈÄöÁü•ÔºåÊîØ‰ªòÊàêÂäüÂêéÈ°µÈù¢Ë∑≥ËΩ¨Âà∞ÈÇ£Èáå 1234567 // ÊúçÂä°Âô®[ÂºÇÊ≠•ÈÄöÁü•]È°µÈù¢Ë∑ØÂæÑ ÈúÄhttp://Ê†ºÂºèÁöÑÂÆåÊï¥Ë∑ØÂæÑÔºå‰∏çËÉΩÂä†?id=123ËøôÁ±ªËá™ÂÆö‰πâÂèÇÊï∞ÔºåÂøÖÈ°ªÂ§ñÁΩëÂèØ‰ª•Ê≠£Â∏∏ËÆøÈóÆ // ÊîØ‰ªòÂÆù‰ºöÊÇÑÊÇÑÁöÑÁªôÊàë‰ª¨ÂèëÈÄÅ‰∏Ä‰∏™ËØ∑Ê±ÇÔºåÂëäËØâÊàë‰ª¨ÊîØ‰ªòÊàêÂäüÁöÑ‰ø°ÊÅØ private String notify_url = &quot;http://member.gulimall.com/memberOrder.html&quot;;// È°µÈù¢Ë∑≥ËΩ¨ÂêåÊ≠•ÈÄöÁü•È°µÈù¢Ë∑ØÂæÑ ÈúÄhttp://Ê†ºÂºèÁöÑÂÆåÊï¥Ë∑ØÂæÑÔºå‰∏çËÉΩÂä†?id=123ËøôÁ±ªËá™ÂÆö‰πâÂèÇÊï∞ÔºåÂøÖÈ°ªÂ§ñÁΩëÂèØ‰ª•Ê≠£Â∏∏ËÆøÈóÆ //ÂêåÊ≠•ÈÄöÁü•ÔºåÊîØ‰ªòÊàêÂäüÔºå‰∏ÄËà¨Ë∑≥ËΩ¨Âà∞ÊàêÂäüÈ°µ private String return_url = &quot;http://member.gulimall.com/memberOrder.html&quot;; ËøôÈáåË∑≥ËΩ¨Âà∞ÁöÑ‰ºöÂëòÊúçÂä°ÁöÑËÆ¢ÂçïÈ°µÈù¢ÔºåÈúÄË¶ÅËá™Â∑±Â§ÑÁêÜËØ∑Ê±Ç,Â∑≤Âú®14.4.4.3ËäÇÂÆåÊàêËØ•ÂäüËÉΩ 1„ÄÅÊîØ‰ªòÊàêÂäüÂêéÂºÇÊ≠•ÂõûË∞ÉÊé•Âè£Â§ÑÁêÜ ÈúÄË¶ÅÊúâÊúçÂä°Âô®ÊàñÈÖçÁΩÆ‰∫ÜÂÜÖÁΩëÁ©øÈÄèÊâçËÉΩÊé•Êî∂Âà∞ËØ•ÊñπÊ≥ï 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152/** * ÊîØ‰ªòÂÆùÊàêÂäüÂºÇÊ≠•ÂõûË∞É * @author gcq * @Create 2021-01-08 */@RestControllerpublic class OrderPayedListener { @Autowired AlipayTemplate alipayTemplate; @Autowired OrderService orderService; /** * ÊîØ‰ªòÂÆùÂºÇÊ≠•ÈÄöÁü•ÂõûË∞ÉÊé•Âè£,ÈúÄË¶ÅÊã•ÊúâÂÜÖÁΩëÁ©øÈÄèÊàñÊúçÂä°Âô® * @param request * @return */ @PostMapping(&quot;/payed/notify&quot;) public String handleAlipayed(PayAsyncVo vo, HttpServletRequest request) throws UnsupportedEncodingException, AlipayApiException { /** * ÈáçË¶Å‰∏ÄÊ≠•È™åÁ≠æÂêç * Èò≤Ê≠¢Âà´‰∫∫ÈÄöËøápostmanÁªôÊàë‰ª¨ÂèëÈÄÅ‰∏Ä‰∏™ËØ∑Ê±ÇÔºåÂëäËØâÊàë‰ª¨ËØ∑Ê±ÇÊàêÂäüÔºå‰∏∫‰∫ÜÈò≤Ê≠¢ËøôÁßçÊïàÊûúÈÄöËøáÈ™åÁ≠æ */ Map&lt;String,String&gt; params = new HashMap&lt;String,String&gt;(); Map&lt;String,String[]&gt; requestParams = request.getParameterMap(); for (Iterator&lt;String&gt; iter = requestParams.keySet().iterator(); iter.hasNext();) { String name = (String) iter.next(); String[] values = (String[]) requestParams.get(name); String valueStr = &quot;&quot;; for (int i = 0; i &lt; values.length; i++) { valueStr = (i == values.length - 1) ? valueStr + values[i] : valueStr + values[i] + &quot;,&quot;; } //‰π±Á†ÅËß£ÂÜ≥ÔºåËøôÊÆµ‰ª£Á†ÅÂú®Âá∫Áé∞‰π±Á†ÅÊó∂‰ΩøÁî® valueStr = new String(valueStr.getBytes(&quot;ISO-8859-1&quot;), &quot;utf-8&quot;); params.put(name, valueStr); } // ÊîØ‰ªòÂÆùÈ™åÁ≠æ Èò≤Ê≠¢ÊÅ∂ÊÑèÊèê‰∫§ boolean signVerified = AlipaySignature.rsaCheckV1(params , alipayTemplate.getAlipay_public_key() , alipayTemplate.getCharset() , alipayTemplate.getSign_type()); if (signVerified) { String result = orderService.handleAlipayed(vo); return result; } else { return &quot;error&quot;; } }} Service 12345678910111213141516171819202122232425@Override public String handleAlipayed(PayAsyncVo vo) { // ‰øùÂ≠ò‰∫§ÊòìÊµÅÊ∞¥‰ø°ÊÅØ,ÊØè‰∏™ÊúàÂíåÊîØ‰ªòÂÆùËøõË°åÂØπË¥¶ PaymentInfoEntity infoEntity = new PaymentInfoEntity(); // ËÆæÁΩÆÊ†∏ÂøÉÂ≠óÊÆµ infoEntity.setOrderSn(vo.getOut_trade_no()); infoEntity.setAlipayTradeNo(vo.getTrade_no()); infoEntity.setPaymentStatus(vo.getTrade_status()); infoEntity.setCallbackTime(vo.getNotify_time()); // ‰øùÂ≠òËÆ¢ÂçïÊµÅÊ∞¥ paymentInfoService.save(infoEntity); /** * ÊîØ‰ªòÂÆù‰∫§ÊòìÁä∂ÊÄÅËØ¥Êòé * https://opendocs.alipay.com/open/270/105902 */ // TRADE_FINISHED ‰∫§ÊòìÁªìÊùü„ÄÅ‰∏çÂèØÈÄÄÊ¨æ // TRADE_SUCCESS ‰∫§ÊòìÊîØ‰ªòÊàêÂäü if (vo.getTrade_status().equals(&quot;TRADE_SUCCESS&quot;) || vo.getTrade_status().equals(&quot;TRADE_FINISHED&quot;)) { String outTradeNo = vo.getOut_trade_no(); // ÊîØ‰ªòÂÆùÂõûË∞ÉÊàêÂäüÂêéÔºåÊõ¥ÊîπËÆ¢ÂçïÁöÑÊîØ‰ªòÁä∂ÊÄÅ‰ΩçÂ∑≤ÊîØ‰ªò this.baseMapper.updateOrderStatus(outTradeNo,OrderStatusEnum.PAYED.getCode()); } return &quot;success&quot;; } 6„ÄÅÂÜÖÁΩëÁ©øÈÄè 1„ÄÅÁÆÄ‰ªã ÂÜÖÁΩëÁ©øÈÄèÂäüËÉΩÂèØ‰ª•ÂÖÅËÆ∏Êàë‰ª¨‰ΩøÁî®Â§ñÁΩëÁöÑÁΩëÂùÄÊù•ËÆøÈóÆ‰∏ªÊú∫ Ê≠£Â∏∏ÁöÑÂ§ñÁΩëÈúÄË¶ÅËÆøÈóÆÊàë‰ª¨È°πÁõÆÁöÑÊµÅÁ®ãÊòØ: 1„ÄÅ‰π∞ÊúçÂä°Âô®Âπ∂‰∏îÊúâÂÖ¨ÁΩëÂõ∫ÂÆöIP 2„ÄÅ‰π∞ÂüüÂêçÊò†Â∞ÑÂà∞ÊúçÂä°Âô®ÁöÑIP 3„ÄÅÂüüÂêçÈúÄË¶ÅËøõË°åÂ§áÊ°àÂíåÂÆ°Ê†∏ 2„ÄÅ‰ΩøÁî®Âú∫ÊôØ 1„ÄÅÂºÄÂèëÊµãËØï(ÂæÆ‰ø°„ÄÅÊîØ‰ªòÂÆù) 2„ÄÅÊô∫ÊÖß‰∫íËÅî 3„ÄÅËøúÁ®ãÊéßÂà∂ 4„ÄÅÁßÅÊúâ‰∫ë 3„ÄÅÂÜÖÁΩëÁ©øÈÄèÂ∏∏Áî®ÁöÑËΩØ‰ª∂ 1„ÄÅnatapp:https://natapp.cn/ 2„ÄÅÁª≠Êñ≠: www.zhexi.tech 3„ÄÅËä±ÁîüÂ£≥: https://www.oray.com/ 19„ÄÅÁßíÊùÄ 19.1 ÁßíÊùÄ‰∏öÂä° ÁßíÊùÄÂÖ∑ÊúâÁû¨Èó¥È´òÂπ∂ÂèëÁöÑÁâπÁÇπÔºåÈíàÂØπËøô‰∏ÄÁâπÁÇπÔºåÂøÖÈ°ªË¶ÅÂÅöÂà∞ÈôêÊµÅ + ÂºÇÊ≠• + ÁºìÂ≠òÔºàÈ°µÈù¢ÈùôÊÄÅÂåñÔºâ + Áã¨Á´ãÈÉ®ÁΩ≤ ÈôêÊµÅÊñπÂºèÔºö 1„ÄÅÂâçÁ´ØÈôêÊµÅÔºå‰∏Ä‰∫õÈ´òÂπ∂ÂèëÁöÑÁΩëÁ´ôÁõ¥Êé•Âú®ÂâçÁ´ØÈ°µÈù¢ÂºÄÂßãÈôêÊµÅÔºåÂàóÂ¶ÇÔºöÂ∞èÁ±≥ÁöÑÈ™åËØÅÁ†Å 2„ÄÅnginxÈôêÊµÅÔºåÁõ¥Êé•Ë¥üËΩΩÈÉ®ÂàÜËØ∑Ê±ÇÂà∞ÈîôËØØÁöÑÈùôÊÄÅÈ°µÈù¢Ôºå‰ª§ÁâåÁÆóÊ≥ï„ÄÅÊºèÊñóÁÆóÊ≥ï 3„ÄÅÁΩëÂÖ≥ÈôêÊµÅ„ÄÅÈôêÊµÅÁöÑËøáÊª§Âô® 4„ÄÅ‰ª£Á†Å‰∏≠‰ΩøÁî®ÂàÜÂ∏ÉÂºè‰ø°Âè∑Èáè 5„ÄÅrabbitmqÈôêÊµÅÔºàËÉΩËÄÖÂ§öÂä≥ channel.basicQos(1)Ôºâ‰øùËØÅÂèëÊå•ÊúçÂä°Âô®ÁöÑÊâÄÁî®ÊÄßËÉΩ 19.2 ÁßíÊùÄÊµÅÁ®ã ÂèÇËÄÉ‰∫¨‰∏úÁßíÊùÄÊµÅÁ®ã ËßÅÁßíÊùÄÊµÅÁ®ãÂõæ ÂÆåÊï¥ÊµÅÁ®ãÂõæÂú∞ÂùÄÔºöhttps://www.processon.com/view/link/5fbda8c35653bb1d54f7077b ÁßíÊùÄÊñπÂºè‰∏Ä ÁßíÊùÄÊñπÂºè2 19.3 ÈôêÊµÅ 19.4 ÁßíÊùÄÊ†∏ÂøÉ‰∏öÂä° 20„ÄÅÂÆöÊó∂‰ªªÂä° 20.1 cronË°®ËææÂºè ËØ≠Ê≥ïÔºöÁßí ÂàÜ Êó∂ Êó• Êúà Âë® Âπ¥ÔºàSpring‰∏çÊîØÊåÅÔºâ http://www.quartz-scheduler.org/documentation/quartz-2.3.0/tutorials/crontrigger.html ÁâπÊÆäÂ≠óÁ¨¶Ôºö *Ôºà ‚ÄúÊâÄÊúâÂÄº‚ÄùÔºâ-Áî®‰∫éÈÄâÊã©Â≠óÊÆµ‰∏≠ÁöÑÊâÄÊúâÂÄº„ÄÇ‰æãÂ¶ÇÔºåÂàÜÈíüÂ≠óÊÆµ‰∏≠ÁöÑ‚Äú ***** ‚ÄùË°®Á§∫*‚ÄúÊØèÂàÜÈíü‚Äù*„ÄÇ ÔºüÔºà ‚ÄúÊó†ÁâπÂÆöÂÄº‚ÄùÔºâ-ÂΩìÊÇ®ÈúÄË¶ÅÂú®ÂÖÅËÆ∏‰ΩøÁî®Â≠óÁ¨¶ÁöÑ‰∏§‰∏™Â≠óÊÆµ‰πã‰∏Ä‰∏≠ÊåáÂÆöÊüê‰∏™ÂÜÖÂÆπËÄåÂú®Âè¶‰∏Ä‰∏™‰∏çÂÖÅËÆ∏ÁöÑÂ≠óÊÆµ‰∏≠ÊåáÂÆöÊüê‰∫õÂÜÖÂÆπÊó∂ÂæàÊúâÁî®„ÄÇ‰æãÂ¶ÇÔºåÂ¶ÇÊûúÊàëÂ∏åÊúõÂú®Êüê‰∏™ÊúàÁöÑÊüê‰∏™ÁâπÂÆöÊó•ÊúüÔºà‰æãÂ¶ÇÔºåÁ¨¨10Â§©ÔºâËß¶ÂèëËß¶ÂèëÂô®Ôºå‰ΩÜ‰∏çÂú®‰πé‰∏ÄÂë®‰∏≠ÁöÑÂì™‰∏ÄÂ§©ÂèëÁîüÔºåÂàôÂ∞Ü‚Äú 10‚ÄùËÆæÁΩÆ‰∏∫ÊúàÂ≠óÊÆµÔºå‰ª•Âèä‚ÄúÔºü‚Äù Âú®‚ÄúÊòüÊúüÂá†‚ÄùÂ≠óÊÆµ‰∏≠„ÄÇËØ∑ÂèÇÈòÖ‰∏ãÈù¢ÁöÑÁ§∫‰æã‰ª•ËøõË°åÊæÑÊ∏Ö„ÄÇ --Áî®‰∫éÊåáÂÆöËåÉÂõ¥„ÄÇ‰æãÂ¶ÇÔºåÂ∞èÊó∂Â≠óÊÆµ‰∏≠ÁöÑ‚Äú 10-12‚ÄùË°®Á§∫*‚ÄúÂ∞èÊó∂10„ÄÅ11Âíå12‚Äù*„ÄÇ Ôºå -Áî®‰∫éÊåáÂÆöÂÖ∂‰ªñÂÄº„ÄÇ‰æãÂ¶ÇÔºå‚ÄúÊòüÊúüÂá†‚ÄùÂ≠óÊÆµ‰∏≠ÁöÑ‚Äú MONÔºåWEDÔºåFRI‚ÄùË°®Á§∫*‚ÄúÊòüÊúü‰∏ÄÔºåÊòüÊúü‰∏âÂíåÊòüÊúü‰∫îÁöÑÊó•Â≠ê‚Äù*„ÄÇ / -Áî®‰∫éÊåáÂÆöÂ¢ûÈáè„ÄÇ‰æãÂ¶ÇÔºåÁßíÂ≠óÊÆµ‰∏≠ÁöÑ‚Äú 0/15‚ÄùË°®Á§∫*‚ÄúÁßí0„ÄÅ15„ÄÅ30Âíå45‚Äù„ÄÇÁßíÂ≠óÊÆµ‰∏≠ÁöÑ‚Äú 5/15‚ÄùË°®Á§∫‚ÄúÁßí5„ÄÅ20„ÄÅ35Âíå50‚Äù„ÄÇÊÇ®ËøòÂèØ‰ª•Âú®‚Äú ‚ÄùÂ≠óÁ¨¶ÂêéÊåáÂÆö‚Äú /‚Äù -Âú®ËøôÁßçÊÉÖÂÜµ‰∏ãÔºå‚Äú ‚ÄùÁ≠âÊïà‰∫éÂú®‚Äú /‚Äù‰πãÂâç‰ΩøÁî®‚Äú 0‚Äù„ÄÇÊØèÊúàÊó•ÊúüÂ≠óÊÆµ‰∏≠ÁöÑ‚Äú 1/3‚ÄùË°®Á§∫‚Äú‰ªéËØ•ÊúàÁöÑÁ¨¨‰∏ÄÂ§©ÂºÄÂßãÊØè‰∏âÂ§©Ëß¶Âèë‰∏ÄÊ¨°‚Äù*„ÄÇ LÔºà ‚ÄúÊúÄÂêé‰∏Ä‰∏™‚ÄùÔºâ-Âú®ÂÖÅËÆ∏‰ΩøÁî®ÁöÑ‰∏§‰∏™Â≠óÊÆµ‰∏≠ÈÉΩÊúâ‰∏çÂêåÁöÑÂê´‰πâ„ÄÇ‰æãÂ¶ÇÔºå‚ÄúÊúà‚ÄùÂ≠óÊÆµ‰∏≠ÁöÑÂÄº‚Äú L‚ÄùË°®Á§∫*‚ÄúÊúàÁöÑÊúÄÂêé‰∏ÄÂ§©‚ÄùÔºåÂç≥ÈùûJanuaryÂπ¥ÁöÑ1Êúà31Êó•Ôºå2Êúà28Êó•„ÄÇÂ¶ÇÊûúÂçïÁã¨Áî®‰∫éÊòüÊúüÂá†Â≠óÊÆµÔºåÂàô‰ªÖË°®Á§∫‚Äú 7‚ÄùÊàñ‚Äú SAT‚Äù„ÄÇ‰ΩÜÊòØÔºåÂ¶ÇÊûúÂú®ÊòüÊúüÂá†Â≠óÊÆµ‰∏≠‰ΩøÁî®Âè¶‰∏Ä‰∏™ÂÄºÔºåÂàôË°®Á§∫‚ÄúËØ•ÊúàÁöÑÊúÄÂêéxxxÂ§©‚ÄùÔºå‰æãÂ¶Ç‚Äú 6L‚ÄùË°®Á§∫‚ÄúËØ•ÊúàÁöÑÊúÄÂêé‰∏Ä‰∏™ÊòüÊúü‰∫î‚Äù*„ÄÇÊÇ®ËøòÂèØ‰ª•ÊåáÂÆö‰∏éËØ•ÊúàÊúÄÂêé‰∏ÄÂ§©ÁöÑÂÅèÁßªÈáèÔºå‰æãÂ¶Ç‚Äú L-3‚ÄùÔºåËøôË°®Á§∫Êó•ÂéÜÊúàÁöÑÂÄíÊï∞Á¨¨‰∏âÂ§©„ÄÇ ‰ΩøÁî®‚Äú L‚ÄùÈÄâÈ°πÊó∂Ôºå‰∏çË¶ÅÊåáÂÆöÂàóË°®ÊàñÂÄºÁöÑËåÉÂõ¥ÂæàÈáçË¶ÅÔºåÂõ†‰∏∫ËøôÊ†∑‰ºöÂØºËá¥Ê∑∑Ê∑Ü/ÊÑèÂ§ñÁªìÊûú„ÄÇ WÔºà ‚ÄúÂ∑•‰ΩúÊó•‚ÄùÔºâ-Áî®‰∫éÊåáÂÆöÊúÄÊé•ËøëÁªôÂÆöÊó•ÊúüÁöÑÂ∑•‰ΩúÊó•ÔºàÊòüÊúü‰∏ÄËá≥ÊòüÊúü‰∫îÔºâ„ÄÇ‰æãÂ¶ÇÔºåÂ¶ÇÊûúÊÇ®Ë¶ÅÊåáÂÆö‚Äú 15W‚Äù‰Ωú‰∏∫‚ÄúÊúàÊó•‚ÄùÂ≠óÊÆµÁöÑÂÄºÔºåÂàôÂê´‰πâÊòØÔºö ‚ÄúÁ¶ªÊúà15Êó•ÊúÄËøëÁöÑÂ∑•‰ΩúÊó•‚Äù„ÄÇÂõ†Ê≠§ÔºåÂ¶ÇÊûú15Âè∑ÊòØÊòüÊúüÂÖ≠ÔºåÂàôËß¶ÂèëÂô®Â∞ÜÂú®14Âè∑ÊòüÊúü‰∫îËß¶Âèë„ÄÇÂ¶ÇÊûú15Êó•ÊòØÊòüÊúüÊó•ÔºåÂàôËß¶ÂèëÂô®Â∞ÜÂú®16Êó•ÊòüÊúü‰∏ÄËß¶Âèë„ÄÇÂ¶ÇÊûú15Âè∑ÊòØÊòüÊúü‰∫åÔºåÈÇ£‰πàÂÆÉÂ∞ÜÂú®15Âè∑ÊòüÊúü‰∫åËß¶Âèë„ÄÇ‰ΩÜÊòØÔºåÂ¶ÇÊûúÊÇ®Â∞Ü‚Äú 1W‚ÄùÊåáÂÆö‰∏∫Êúà‰ªΩÁöÑÂÄºÔºåÂπ∂‰∏îÁ¨¨‰∏Ä‰∏™ÊòØÊòüÊúüÂÖ≠ÔºåÂàôËß¶ÂèëÂô®Â∞ÜÂú®Á¨¨3‰∏™ÊòüÊúü‰∏ÄËß¶ÂèëÔºåÂõ†‰∏∫ÂÆÉ‰∏ç‰ºö‚ÄúË∑≥Ëøá‚Äù‰∏Ä‰∏™ÊúàÊó•ÁöÑËæπÁïå„ÄÇ‰ªÖÂΩìÊúà‰ªΩ‰∏≠ÁöÑÊüêÂ§©ÊòØ‰∏ÄÂ§©ÔºåËÄå‰∏çÊòØËåÉÂõ¥ÊàñÂ§©Êï∞ÂàóË°®Êó∂ÔºåÊâçÂèØ‰ª•ÊåáÂÆö‚Äú W‚ÄùÂ≠óÁ¨¶„ÄÇ ‚Äú L‚ÄùÂíå‚Äú W‚ÄùÂ≠óÁ¨¶‰πüÂèØ‰ª•Âú®‚ÄúÊúàÊó•‚ÄùÂ≠óÊÆµ‰∏≠ÁªÑÂêà‰ª•‰∫ßÁîü‚Äú LW‚ÄùÔºåËøôË°®Á§∫*‚ÄúÊØèÊúàÁöÑÊúÄÂêé‰∏Ä‰∏™Â∑•‰ΩúÊó•‚Äù *„ÄÇ ÔºÉ -Áî®‰∫éÊåáÂÆöÊØèÊúàÁöÑÁ¨¨‚Äú XXX‚ÄùÂ§©„ÄÇ‰æãÂ¶ÇÔºå‚ÄúÊòüÊúüÂá†‚ÄùÂ≠óÊÆµ‰∏≠ÁöÑÂÄº‚Äú 6ÔºÉ3‚ÄùË°®Á§∫*‚ÄúËØ•ÊúàÁöÑÁ¨¨‰∏â‰∏™ÊòüÊúü‰∫î‚ÄùÔºàÁ¨¨6Â§©=ÊòüÊúü‰∫îÔºå‚ÄúÔºÉ3‚Äù =ËØ•ÊúàÁöÑÁ¨¨‰∏â‰∏™ÊòüÊúü‰∫î*Ôºâ„ÄÇÂÖ∂‰ªñÁ§∫‰æãÔºö‚Äú 2ÔºÉ1‚Äù =ËØ•ÊúàÁöÑÁ¨¨‰∏Ä‰∏™ÊòüÊúü‰∏ÄÔºå‚Äú 4ÔºÉ5‚Äù =ËØ•ÊúàÁöÑÁ¨¨‰∫î‰∏™ÊòüÊúü‰∏â„ÄÇËØ∑Ê≥®ÊÑèÔºåÂ¶ÇÊûúÊÇ®ÊåáÂÆö‚ÄúÔºÉ5‚ÄùÔºåÂπ∂‰∏îËØ•ÊúàÁöÑÊåáÂÆöÊòüÊúüÂá†‰∏≠Ê≤°Êúâ5‰∏™ÔºåÂàôËØ•ÊúàÂ∞Ü‰∏ç‰ºöËß¶Âèë„ÄÇ Ê≥ïÂÆöÂ≠óÁ¨¶‰ª•ÂèäÊúà‰ªΩÂíåÊòüÊúüÂá†ÁöÑÂêçÁß∞‰∏çÂå∫ÂàÜÂ§ßÂ∞èÂÜô„ÄÇMON ‰∏émonÁõ∏Âêå„ÄÇ 20.2 cron Á§∫‰æã ÈòÖËØªÊäÄÂ∑ßÔºöÁßí ÂàÜ Êó∂ Êó• Êúà Âë® ‰ΩøÁî®Ë∞∑Ê≠åÁøªËØëÂêé‰∏≠ÊñáÊÑèÊÄùÊòØËøôÊ†∑ÁöÑ 20.3 SpringBootÊï¥ÂêàÂÆöÊó∂‰ªªÂä° ÂÆöÊó∂‰ªªÂä°Áõ∏ÂÖ≥Ê≥®Ëß£: 1234@EnableAsync // ÂêØÁî®SpringÂºÇÊ≠•‰ªªÂä°ÊîØÊåÅ@EnableScheduling // ÂêØÁî®SpringÁöÑËÆ°Âàí‰ªªÂä°ÊâßË°åÂäüËÉΩ@Async ÂºÇÊ≠•@Scheduled(cron = &quot;* * * * * ?&quot;) ‰ª£Á†ÅÔºö 123456789101112131415161718192021222324252627282930313233343536373839404142/** * @author gcq * @Create 2020-11-23 * * ÂÆöÊó∂‰ªªÂä° * 1„ÄÅ@EnableScheduling ÂºÄÂêØÂÆöÊó∂‰ªªÂä° * 2„ÄÅScheduled ÂºÄÂêØ‰∏Ä‰∏™ÂÆöÊó∂‰ªªÂä° * 3„ÄÅËá™Âä®ÈÖçÁΩÆÁ±ª TaskSchedulingAutoConfiguration Â±ûÊÄßÁªëÂÆöÂú®TaskExecutionProperties * * ÂºÇÊ≠•‰ªªÂä° * 1„ÄÅ@EnableAsync ÂºÄÂêØÂºÇÊ≠•‰ªªÂä°ÂäüËÉΩ * 2„ÄÅ@Async ÁªôÂ∏åÊúõÂºÇÊ≠•ÊâßË°åÁöÑÊñπÊ≥ï‰∏äÊ†áÊ≥® * 3„ÄÅËá™Âä®ÈÖçÁΩÆÁ±ª TaskExecutionAutoConfiguration * */@Slf4j@Component@EnableAsync // ÂêØÁî®SpringÂºÇÊ≠•‰ªªÂä°ÊîØÊåÅ@EnableScheduling // ÂêØÁî®SpringÁöÑËÆ°Âàí‰ªªÂä°ÊâßË°åÂäüËÉΩpublic class HelloSchedule { /** * 1„ÄÅSpring‰∏≠6‰ΩçÁªÑÊàêÔºå‰∏çÂÖÅËÆ∏Á¨¨7‰ΩçÁöÑÂπ¥ * 2„ÄÅÂú®Âë®Âá†ÁöÑ‰ΩçÁΩÆÔºå1-7‰ª£Ë°®Âë®‰∏ÄÂà∞Âë®Êó•ÔºöMON-SUN * 3„ÄÅÂÆöÊó∂‰ªªÂä°Â∫îËØ•ÈòªÂ°ûÔºåÈªòËÆ§ÊòØÈòªÂ°ûÁöÑ * 1„ÄÅÂèØ‰ª•ËÆ©‰∏öÂä°‰ª•ÂºÇÊ≠•ÁöÑÊñπÂºèËøêË°åÔºåËá™Â∑±Êèê‰∫§Âà∞Á∫øÁ®ãÊ±† * CompletableFuture.runAsync(() -&gt; { * xxxService.hello(); * }) * 2„ÄÅÊîØÊåÅÂÆöÊó∂‰ªªÂä°Á∫øÁ®ãÊ±†ÔºåËÆæÁΩÆ TaskSchedulingProperties * spring.task.scheduling.pool.size=5 * 3„ÄÅËÆ©ÂÆöÊó∂‰ªªÂä°ÂºÇÊ≠•ÊâßË°å * ÂºÇÊ≠•ÊâßË°å * Ëß£ÂÜ≥Ôºö‰ΩøÁî®ÂºÇÊ≠• + ÂÆöÊó∂‰ªªÂä°Êù•ÂÆåÊàêÂÆöÊó∂‰ªªÂä°‰∏çÈòªÂ°ûÁöÑÂäüËÉΩ */// @Async ÂºÇÊ≠•// @Scheduled(cron = &quot;* * * * * ?&quot;)// public void hello() {// log.info(&quot;hello...&quot;);// }} 20.4 ÂàÜÂ∏ÉÂºèÂÆöÊó∂‰ªªÂä° 20.5ÂÆöÊó∂‰ªªÂä°ÁöÑÈóÆÈ¢ò 20.6 Êâ©Â±ï - ÂàÜÂ∏ÉÂºèË∞ÉÊï¥ 21„ÄÅÁßíÊùÄÔºàÈ´òÂπ∂ÂèëÔºâÁ≥ªÁªüÂÖ≥Ê≥®ÁöÑÈóÆÈ¢ò 21.1 ÊúçÂä°Âçï‰∏ÄËÅåË¥£ ÁßíÊùÄÊúçÂä°Âç≥‰ΩøËá™Â∑±Êâõ‰∏ç‰ΩèÂéãÂäõÔºåÊåÇÊéâÔºå‰∏çË¶ÅÂΩ±ÂìçÂà´‰∫∫ 21.2 ÁßíÊùÄÈìæÊé•Âä†ÂØÜ Èò≤Ê≠¢ÊÅ∂ÊÑèÊîªÂáªÊ®°ÊãüÁßíÊùÄËØ∑Ê±ÇÔºå1000Ê¨°/sÊîªÂáª Èò≤Ê≠¢ËøûÊé•Êö¥Èú≤ÔºåËá™Â∑±Â∑•‰Ωú‰∫∫ÂëòÔºåÊèêÂâçÁßíÊùÄÂïÜÂìÅ 21.3 Â∫ìÂ≠òÈ¢ÑÁÉ≠ + Âø´ÈÄüÊâ£Âáè ÊèêÂâçÊääÊï∞ÊçÆÂä†ËΩΩÁºìÂ≠ò‰∏≠Ôºå 21.4 Âä®ÈùôÂàÜÁ¶ª nginxÂÅöÂ•ΩÂä®ÈùôÂàÜÁ¶ªÔºå‰øùËØÅÁßíÊùÄÂíåÂïÜÂìÅËØ¶ÊÉÖÈ°µÁöÑÂä®ÊÄÅËØ∑Ê±ÇÊâçÊâìÂà∞ÂêéÁ´ØÁöÑÊúçÂä°ÈõÜÁæ§ ‰ΩøÁî® CDN ÁΩëÁªúÔºåÂàÜÊãÖÊúçÂä°Âô®ÂéãÂäõ 21.5 ÊÅ∂ÊÑèËØ∑Ê±ÇÊã¶Êà™ ËØÜÂà´ÈùûÊ≥ïÊîªÂáªÁöÑËØ∑Ê±ÇÂπ∂ËøõË°åÊã¶Êà™ ÔºåÁΩëÁÆ°Â±Ç 21.6 ÊµÅÈáèÈîôÂ≥∞ ‰ΩøÁî®ÂêÑÁßçÊâãÊÆµÔºåÂ∞ÜÊµÅÈáèÂàÜÊãÖÂà∞Êõ¥Â§ßÂÆΩÂ∫¶ÁöÑÊó∂Èó¥ÁÇπÔºåÊØîÂ¶ÇÈ™åËØÅÁ†ÅÔºåÂä†ÂÖ•Ë¥≠Áâ©ËΩ¶ 21.7 ÈôêÊµÅ &amp; ÁÜîÊñ≠ &amp; ÈôçÁ∫ß ÂâçÁ´ØÈôêÊµÅ + ÂêéÁ´ØÈôêÊµÅ ÈôêÂà∂Ê¨°Êï∞ÔºåÈôêÂà∂ÊÄªÈáèÔºåÂø´ÈÄüÂ§±Ë¥•ÈôçÁ∫ßËøêË°åÔºåÁÜîÊñ≠ÈöîÁ¶ªÈò≤Ê≠¢Èõ™Â¥© 21.8 ÈòüÂàóÊ∂àÂ≥∞ 1‰∏á‰∏™ËØ∑Ê±ÇÔºåÊØè‰∏™1000‰ª∂Ë¢´ÁßíÊùÄÔºåÂèå11ÊâÄÊúâÁßíÊùÄÊàêÂäüÁöÑËØ∑Ê±ÇÔºåËøõÂÖ•ÈòüÂàóÔºåÊÖ¢ÊÖ¢ÂàõÂª∫ËÆ¢ÂçïÔºåÊâ£ÂáèÂ∫ìÂ≠òÂç≥ÂèØ","link":"/2021/01/20/Draft/2021/%E8%B0%B7%E7%B2%92%E5%95%86%E5%9F%8E/"},{"title":"ÂçöÂÆ¢Ê®°Êùø","text":"4630436162ade97ba2718b7d0c4b3b631d1cea453764294116f53c62984a56ccee1694c14ccb64fb54f8c30202167de89f7cf608014a104c10a21a4f1d77a64727bde928bfb8eb6078a4a923c466f0bcea3207c4a47cce2765396cf8004ee68a14e8e23c956c9acb4311d193a0952e02bbbbbc6468731b893359ee3df3be2d38216a3e3de5da7dd19fb7c2ce287eab5d088144ecc29ff0ff182aec2e83cb1a6fa941d3e6baa5107e5c45c08da4c6d8017c96803cc7ea4b73b8a2c188c8e3c71f17ab5d497305fb4acb167834b1a7ccc698ec42fc97118de40d781a775892bb78aa1a80d3ba0c6d680385730e6898143e4ec54811381b76f1eefa9f6ae7acb0548c35a332d8b95d8dc348768c06d6fe758830973253175d9eb525fffb134cdd831582a8b0e10686371a8a85547fd67a53dfdd61284f21b9b17854457340a63bbdef5ed48628ff89004a68635efd673e6e00571d1541f299377b85c92a017c52e4aa1b84d0c408c73fd63363001963dd6e917bd1fe88802e84e734fce4fad8a50ad8b1f0c71fc3a57c8fc774ea7a3a3e75923d63a924fad10d03eba3153d20f2b157e108653a975a3c639af2823eb7ea2052706e9d6b4090123dab7bf1f9baa12fc186b8afc3d1ecb8f17fc558cc99ef4ad43bbc0685871a12e9a0ddb00bd653b337f95c5288a942823fbe21957c67721838e8b4d716ce347e7d8f1d6a05c8b893f2539b4942af3426e3ee44fa37373052980a53405ada27f82e2664213a1313d67ac2fe4e89eeafa723fa2d4a15aa3863a3fa0f2a886e55b0d96b8f8a46e5fb0962f4227ab3757c761fe381180ddff553c9db590d2aa64336b82695902cd7454b4d0ea155ac89a9c737d718b2440b3e96607f85af06a4b0e0bdce394f6d8e74ad4af50bb0aac19c6ca07605b5ac99c4d87ebf030313b667008a160217bc0c654586127719af458f9fda0fdd809ba51d5cce5d85a05c5e78be8814fc211e26a6fd26f8bfe2c7cb32381a79e9ebe2d30720d9c8066a5ef0f06c54b42af2d22ee5f1638d60c02bfce0ef4bf7624c2f80330dbffd6bc95ec4f121b616462feec75530d3a2b28775d9c2e702440e8a7ee80106bb9600123fd8f0bb2c652fd220b1dca2fd2f5b88c2def45ec0c311df84d5b5f6a1e83f223b4bcab2277a6da766e0e24decd0b922f1592182e5ae643807073ac7659156b681166e59505187438aed5df76b232eba8087f559e7dc229947e51b36f7120167c80dc81ceb5b73bec4ff092268af8ac6301b0b3057730748bc1f88a15394e78cc2acdcc57c2ce6ec1086a7df784f9c37e142c05632352cc5e7eca6c2c0930404ad0504ffc82168be51333126d87cb2982837901ca9c978f32d58af46464123bb51c12bbd26cfb085f9b14981f640377e5e9115ced751a191b5af3dd11b38238feb06bc44ecd133e799d5e58e4ac3804519b4657129c87f12d389937fc7385a79ad86d708aaf7dfe96f34f1beed6479d3148d9f926223e7fbc4ed0d41ba0f233d94f8cf628211ca846886afe2358a9bc829d915bc1b279e1af4bff8450d9b63ea0a45f78903c220aeaebe630f15c928f86033665622f78be713531c3134eb95892555a8974f0088513762b36fa886d198fec9aa2a51d85d985efefa71a8a0f8a0588e3ab8302b7438b9b441aa674225e704c4ae49cb9cdb98d84672d0e91fb6c65a9b6668ab3b8eefee278e97de9c7148ff1be333729e7a310796fd14bb2b463eaa5c8e5596035cbbab9f15b9068a693cc78ba21c5e8eb48e6ce57679b074f3f90b89614b30b581cc27561676ac5dca08abf36ad9223f70f9e47a8a1bce8e1097e19d87db7ec274cd5318c6f0bb7af52d7d5d09c62589eccceda1865119f06c487af4d27e41feb722b89af36ded58c7ad1aa4540af529719867074ac3a1dd6b830bca62351f65966dd3e892668dcd501322bb1f3f67738e342e1cb6070d84ad3b04e9191114d6c22069c04a881865f5d952157c70fd7fc1c8b892e999bb2efdcf8cbe1172226023fa898064d94fda843012607f274802431e30400a874625e8089669acf35f7b2622aab406a4422db4532c515e3f98835c0960ff1ef4dbce6643cb071f53b98a314c46224ce013f25b7e3402b2f84bfb872493ef78fc657770bda86dc5eb6eb6c489c6688989e22a2847747f255d45778b7a2ea10990b3e5cb73dd56684bc7563ee5bac6696c6beacae307ac9eb0c20df6790adf92014b5e05a6c3378fa5c77b28cbb3e33ae8b5612e4b4dd8e090eabf0d1020ab055fb32852e50f65fd348c4747972db935a31d116cf967f10936efbb8fc3867c2aacd8b7bdce2f65e095cc6526783d9a6a6beac3d35dee9edbea12d850909917d78427b4c7f475179df5c87881b5b6af176baf19711478a94e20f05ca6c4421151c587f946dae480d1c251b7dd9d10febfa51c0a2f1fa2de05251a75011ef6c0bd9b5545f59518e75c867533a4af2f5897344fac3b7a6d0385d3410106580236d6a8193a03e8db60f9b7b32b23b35e7b30f1699b0c9575ae068c365aca4ab445ba7428f77103cc7b04b2107058a9effcb5213fd5ebae7ae98c048d7ca6faf160bb753b4243952ecf7b27c00c6724259b4d7ed85584adc557778809ba9ddc4c2013343f325e6b99f18ac9a6d0c46d24b4134ea37fc6828ce685337db620695cd6bf98002f9e21d191cf41e04707f056ed153b461fab6722e542a9d6241b7dca2041e9219866a31a21c93c7174febff948bd8bbe299014f0ee0768baa4002731e062d4786e0cf60b9775106fcba85b2501de9c20370c0bb4701d49ca1192a1992f0cd46bb5130d234fd201816c6d2801cc830b2659c85232dc049ccd64bf66f66cf39646731a90eee8ed5b3797318009eb91970c76f8e124f53d1cc1f440f122fb4330a59f07b8993c90bf7af38e6f20d7c18970c7b9ed35735d01a897af13ae850d69a2a54f394ef479b08dbe90b5f9c29c88c504648837f5db1a180aad667e0e1c167add754f27488974a2300b9650c233788089dfd82348d13a74276635d2941ce787121eabcb7e2bfb07aebf352532a79661e38f409f4a1b8d7113d76166903e4016d31ea576a2f58b47d0715f15d0cf87376acc368b9c5dffc515f2cdce95bf110153b89ffe752894ba002ff4f8af62a1d89a3d4a0d71fbf637527854bfd65921cde38376790f73754623f93633117b85678eac05225cada3de0c1c16a836d4c57c7ba909a3eaf8c67dcf624fc8934318f136d6a93eba84afb3a20cfcc83fd1859ad85f4e2d80f80002632a163cf4597fecfc36f6d3638b6f6e46f37c10423e421cc55e5d287027fcb36171651aff1821dcf3c579aece1b8e3b09feee7fe53c990feb162d172ae0a5c411e580f663ea1e78f3fdb3d44226c3d6a23595559d62360320be1d084e449c0c1bde00180cc8a370d8653565473ce02bae5a83b8d2a82e6017c9cd69cf11da248518252a0edf29f45afcea1c249ef019ac3ac91f3952462165bff82aa585068ba44a70b6ca4f1a20540a5f89e39ca5b6eafc4e11ef78bebf10f86a19533b37476e416b0adab58266651fa652dd0f1d10e33e1c1f2e3437ab1aa9dae8badd85274054a5f3a65179214a47e0745c8a02765260ac9b98255a53cc605ade136d7afc72082a291ee899118f8ab9b58a1d7608d7b156a170d5986091031492f049a79f10d327637c1665c28e3301e37ca8a5d539ae45e15f88125644f5620086acea103b771a123eeb1d9c3e875ca4b434ebcb2d135dc36b987361942b70fb2b2a2434a60e1e1b9f262060d4b6313b0300f6f2868f5ba9fdb4bddd6e07e6a7893a43ecb8ff7ae7b50abcf0dd021d6bf61c3653eb618b2949c5728b25228888846dd9ed637c4a5732827a39bb1b58ea45a70ecab8ff4a846befd2ddf178de327c9aa7acb04fd44db30b34dc4b8704686cecb3bf4b55c0f82dc463681b72d539a01dff2522da4929c27fe5dd4a916714dd06a047397eb9e6e2ac3fd7b7c9c6cd7d2a303618b38ce5ae49dcf1bc4467534f2cf028a72413e1702577bee4cc86bdec83d9e238ebd672f0b3ec61c3bd83a1f0f292b2acfcc08b3f136ca5b9413716eab68f85ee549c291a68231e4a9bf21a18ec27cd1a52913843d887879bde9d93d99ad0afb958efd601bf30ab9e8c04b009f7e0f00984c3a686e4f8fedae7f1064ab9025beef0da3b92c03f3ac75c0d3ba256cd8a9b82dbb13e84f992339739e982180aaeabb4dbc7e2fd9bb75aef5f4a80594e026f895e91b1dd6edd9096904ad1ead337eaed65ba4a1db60429ea0b1f0f6cb118ad625ee52eb2c73a28fc004802437492eab31d1850a754aeccd9bf74c684a504babdd62d82ca07483c0b668c72028a9382991ba0a4b66fdb5392aac4c40174c3a116b9e741b8809fd2f91fd6428476cfe5c0ff79e96ddd27927f40cf436f77095a7abd3fc97c4e38107b0ea0fbd93f3697d284f0814a12a9ce043a78171e60f4147c27492101cf5cc4aa127ed950a7ba8685c7db9dbf05a94d2adc752958290f732870af71e023884b3d8e59a7448ea06b3fc22b6c220079ccf0db471f404c8d4d5877dccfca3adb18986a823a85e3469b4d2ec9adfaaee39bae8ce09674e13d153dbb225d8d4656f68d4b83cdea449b0b00264c19bdfad5663d5728aedb7018dd4954be07ee212c0548375fa28da21481ac1d1a8399da45b6ffaf4c4fc0d0594e6f711d06c433f88dd0078659b74731db1aa564516ea71c3372b6e6e0b73dfa8255671a704424ced937123c9dc91346996eb0e6d455239a057e9f3f8e79ce171e162ac95d9c1ac4b293becf0b18f31aae2dd242ecc3c6cfd544e3f6671f059c5a3d8370acaf4ff192107dfa9868c2b03f78caa5c9ff8ebc460dc48fa21521997077d2301f1afcd572a9d21ae55ca8ef02f995dec3608b844ee7c0b40b8c48ca3393d2e7625805803ed97fa8b62d376d2ae6933add5523678239c0650ba1ee5ab144705ea720b97490c26078fe389ee03310c467842ff637d9b9115b42a1e14b51ce5496ea8cbfaa1def81154bdb0f65fb70b21b6c77537a48d68a818d7fe9660f37ca19c2d9ca09e3e6ea599011bb4e364a279dc5b14c58de8bf12250e650b1be3fcb9ce9105d03a29d395a40d2685ffde64e215842887f79c3de3e58408ab3e76729c27bfca5ebc724a6a357f11d36b2e2faea38774a233a5bb97843cf32c06fc9f1bd53e2ba5dbdeefbbd4e4aa4736d4722ac9ff93cb6e34c581c0e409ae643012ce37f492b0bf2d297e35c6d37817101d278f12f6675e1839d9672a50513a044d6cb640ada613c58147e8590bdc5b57857802cb1f1825e4a090921d0f6fd8cb4e3492b94c54d795e05888cd3fda67e001008f742790635da26de080cad71f7eb60d002c0438991048dcb85982deb7824714cb5bea2b833542e117c6c9639f081f52d28916e968556a4ba7882ecec96182ecabf784de2cae871e95fb3bb6c1e3a1851c2db58709719beef807ad132f146a6f8b1ba198cb0e15b093313fc0c56edcd4db59389a72a32c64876bee4991fad98e252f31c529f3bc02dea77d81edbc52a57558ada9550e4659422695aadfe82e987b08be35827403089a6d9a695f1a168a5864c6a939e9011b19fe4b08be24f75cefed39db34f368c226e98a7f582b7ce652cee6860fc15e48f421a5d82be7fa14e2ca9a98604c835cf0afccfe0d1cdcc16ffa52d05074981de0d33810cb41a7a4cdabed3e95c568466a97e402401af34e0be8c450e1c93256e4962c6696bf8055e45fde8c4c59496b293a53ad6965ea3b3e477b2352fba4f88d45bedb5605f9d9e8953f43260380cbd7f5f3fa5ac37f463a034b19ab8944edd62c7dbc3bd4ff5f483d32a1ed39cf5725882e57e5c53357fa998827894cc08f9a015b2470ffcb0a54d765e9a2aa3f74eb0cea6cbaf8da687c187c4528e441eba7e918a10ec93fd5b5d6eb248a7e7453ed0a782b8fee1cbbcdb6bd098a1782517ecc0653f02a1231d01f975082d039f6a5a43c2ec283c071f22714846169fb4beeb20bb92f90a748b6df63084bf90f52de12e7a9dc3168d9c5e58267c2afe4fae02296f54173fd96799a9c9364bc383b933e3dae3a8c3ef6f5c3b0b8a589a2384721730584e89b2e97e43eef13e24b2f5b559968e86da60d318fb9b517b31d12eebc988372d7a6b46749456c65b8afd4705f3ca78251f92b95c196c0d4724a480cbc260a477c06b24076bf30f9bae72cbd53949d760589272599a691ec639677a282a6961c5ae3ea3e8e47e1d5ef9332bc6ca4ceb6d4a7bcf1f72c6b19b5745cb6da78ba4e2f500fb865a6d5fc5b59289990448771956ff616bca023bed91e7303dc6f11702e7044c2db3fc8046a654a1fdd01fef715dec2359f9a0be5a0712c25afcd6a4cfcb0a7bad064e7d8c155e8ec1e80b3d13db8f826d3ad1f2072f6935c62c645778491f581522221eb54f161166d8ddffe273db3b7572fc146c98e8ef5421c16df57e847a45cc66a13ba9c494144ff28ddbb91c61015479df40dbb551acf97be82895cbdf37773259a20442543fb830036ca326808a212f043578cc4231f335767506f9d3aa9dc7e13646a892aee9e94f56b9fd05a85cabcff5b980fb180313d68b6c2495737413a3a1acc8f22f6205d02a3bf32440d68d379ba332f1c2c0ee7c08a24fc6e8b619cefa7b6208047a18c48f93c7242d058785068d334ec47e2ea2b431fd371bf5112f0dd38a0fec803706569bb6cda8be3fd076f1d7e0911ac700a727cf11e74a99aaa7d446f56057619393a75a8478b056889074b91a4ce8fcb868e90552d3b3c65da71f9277b3df5a9a6de07dde219e6d91296ec2497ed27b8ce1ec964e7962e469e4a8a526b52219c05f93272e6ac6dbca6fb1d76787eb95e43cfae3c52ddc08e29c267639e6445dbbc4bc8ea1e407f01f2051f98423d7c1afd1cf6c8de8280a Âó®ÔºåËØ∑ÂáÜÁ°ÆÊó†ËØØÂú∞ËæìÂÖ•ÂØÜÁ†ÅÊü•ÁúãÂìüÔºÅ","link":"/2021/01/19/Draft/2021/Hexo%E4%BD%BF%E7%94%A8%E8%8C%83%E4%BE%8B/"},{"title":"È≠ëÈ≠ÖÂÖàÁîü | CRUD","text":"ÂêÑÁßç CRUD ÂëÄÔºåCRUDÂè™Â≠¶‰∏ÄÊ¨°„ÄÇ üõ©Ô∏è SSM SpringBoot SpringCloud Redis","link":"/2021/05/13/Draft/2021/CRUD/"},{"title":"Êñá‰ª∂ÁõÆÂΩï","text":"4630436162ade97ba2718b7d0c4b3b63d28f4f8957eafc94ae2cbc2b301964471c5819cc4f1e1cfda665d9951ce628c9dff1b10a4ff3e362deffadc82256c3e6a5727f03f2b135dd84188159cc981834f8d4cbfc0f6c072d358d525b270308801ee41a5daddb2ee9bcae0348bfb63e8465fec9db7abb9a26d50593722d2892d747d90e60e8a54944f70ced1a954ccabeebf12da639bc8e6a462f2ff687f5da2ea25bdad47d897d16b0180311814fed5685a4cbc006cda737b2869a2205daa94e1678af3235fc682661b861f2ba23c94e0ba3bec2d10fd6f28db7a95570de2ca11bd8164a8ef418d685dd4139a3f708a34e2643be643fc59725093ca20f88f0a43f7e432973cbb74a5dff1a3338ea41f1a35fd291268272c4ed76352e1da5f2549778b8a950993f586b13821a950320ab6814800c31346f74d47f2b96ac8eee079eaa9d1751dea6891b29726e376da9b7c5fabe21e4b4549002538a64c5ee517bb11d46aec74c54e3b42583244eab57f96ab447008e3573b242ec83d5db90d113ede681059c9e7a1e88410503e22430d62f79ef2667d004520c8ad7aa64a21b82cc8ba56b8401ed1ce9af6721c242658168b26372f1ab44c51f43a6d0eab764cf591f0acb84b0c0810e845c71d2cfb7b80a728a43e8f352b127070be719d49cd5a404a24743be99a7d2bdcffa25be060d1b16575e11998bf48a69098bdd721ed42fb200666efe12a5ae90debd7d93d6bf8cd9bb9daccb1d20d6cfc698821a7c8e4e20ec8ea097fe9485ec433018ff0ad17bccd6752f59189595b53552d96352446de0dd7813d8dcc20a6a21a4e7855a2ac0592b757beda4570c4f1a6aa6073cf17f2f22dc993a14749535eb4552047e6561f784e3d13badbafc4807af0fe4d9b5855dfebc3799b58077635c2d7e8345267b1e02eac5a595b48502d3574ef80a11d57934d8d1c764bced67823cacefc087a38be760353e2bf8e4d10b984af7850e9a36abfba3865cb2982830436275bf196b7ad2654b7a94851a47310f04a2a298e132c618fa444366b8e3a5f680e7c21f42cbd1999c58fe52bc60315cc664a3638a0dc945de6fb6e5402015f829ccce4222d76fc9ee3e5c1c8ac9fdd5b5afde2d2bcfdd5251cd10569dfa893c41240b811b35ac9ad51ba7d6b1f45b7e0071b304b7a85a596711207ed6579cb4b23be25afbd772d86490014352da79dd34c0526cf571a992b75620fd9f7b3fef6a585735c7927794e50a2a723d792545c7d73eb2049b046b255dd068e70caf876dc0b595fe39d42ebebc0ef469c1c73f1eee3328928d1c4b6f30cb1159a66c4dc9af5cc89d291343f83a86d8c425d34e0a5739bd6e901591eceafb15fb5605150f78794544be4fe259ba792441364dba01614d20316bc9bb9f63e58ef0c1e4005d43c7779835afebcf69477f10573d9bbaddcb79c611482e7ea67091454f49271d286410b8ce1196af0e0689a90e14710b698ca62903b45853f5f42ad2aa9656ff9fb44bca429f491ff07bf087840f7edb3e9a9fc66539d3fca6aae433941b7d58d5362fcdbcd52ff5e88abf74867aaf9bf06bda91ec7c34e640361dce104772f3937d7e8f45f399958cc64881d84d51ad17e40132c2f9cf6a5264758a291c08b41827d7ef737b6789425a42253aa7a25ff4d4b7746411fd393c2122eaebad4d66d05eb8428b5c941b2ec6cff9f86f8a3725df5bd642a1f7055595315dfc583e693d48b056e04a14823ef88d9e518843227e8c1270941de17b41444817291b3ec2997f397c69f7bf5ce9a6b9b6a8f4af2a988d84fd6f61bd1dc0ce27ba57f8282288aaf521df18a8e2a62c5cc557d1ffd352dead0d6914bc33f7275ac8cb7cf8eb5d1c6fc45a02fcfe6d82402eb0f509a08f17e9920d13026dd541cc0c400204ed9b5587f6ed380d82b7bb2561b1a560b21a08bd1e17112147c34ff47d0cf1f4d2b1615e1b52f8bf18f1deaa1e4adf876216a2de47cad05eea59460817b5a54099386903200ec876272d0ade6339ac249dbdf327198b90673686a216fd96b1b6b1aac6784c757523d728d2bd3869425fb723edc738fddfe802174e20c4310870e6ac49dce7735b639b401dd2ff7aaa5f7604eac2b500377a6992effc5e07d5b386b0395046b371881ed95b8933422e293d75fcb237fea71343fe5622daa8d5d54db009c6f95f453a9667b288aceb4be93581a4878c36f24b40ede44fa66276f4aa8a89280af7e7ddb1f244c22abd7d847e1a323195d2c480ac651f999ad88e50ecdefa86bb2c8b0add911c66fef0d2db906a763eefc2399c568059dd9c27459fba8cd9d420efa06ca042d64b0245ec33271cc91a834d7abdadf38635822ac45ad60815df37b932d2b166af35054efd9bea0947b1a214fbc0ce670651e89007da9624952e60fb711ca6599799464c5105a2f3970a1a4b502fddc86fe97c569f21736b21a87fef63e18dcba6025d2822184435da0d3abc15c111150f39adadfb393926bd3466bb4cfaeaf275e045a405c080417cf27aed9c8ccc817472b991cbf5ada426be24c414ae6e0578fff4ef8aec46471bdca896685fec474744eadbfbb33396801ac0379d00d177fa08238727938304e66a09e4be7d80e082d40c525334b747791b22f44affcc977dbbcec561c0143eccf4247ecd82345aeb7ced3ac36cbaa3dd7cb30b8a6f5f361f5e46565842570ef4d3505d3e132add2f76ca23fc27fec62515496a0da3c99a932790251d4cd903714d5b62428acb41daaafd073c6ffa8eaf9079b6e9d5a18b08556c1e0e975cd5d07232e520795f6f1f3fcbd6fdafb23af0b0a902bf829bbb74ae43cd13bc29ac326b0e9232f98dd5152ccb18dc7be22a4c49be53c8ecd2d67a148a3cfc1b2fbeeb83c6cad23f50f8bbccc46ac7c2843df0838d9de18a7f223e8c63c8baac1104396734379a3c085a2b54972aef980fea23a551d4651e77df58ddbb653d16ea81fa681ecebe3a0e50a2affcfae38e22ed03cbf559e61f13d78f7ffd527f1e507fd86be47ad363094c3e546fee7ba7138d0c8204e13541cac9d4cdb51be1f7ac1b1f43075a3b2023c054219614ddb9fdba0d4e71891bcdabc064200b6695a0dfcd6b6d27d991fa52ec10120903c2de34d55f229cc45911fcb18cad60be5cf06e12e7b4991fb31f2642c53fb90c85a7bb6b0541f77dbdd69cbc6623b286c6f6e5dc001a4334acf869e38beb0d0c69b655f7cd392c47636dff3a3f707fd08d80f3eb61d8b432b93ba3bfa963c1d19f36ae5bf020f0dd38f9bc8fa3a3600f89180c5f70e6f236bdbf412ea8be30f7fcc3b9ed8ce2144e291765929b26ce2e25ef064b40dc2a0d28a1d99eff87eb4401f63c1cb004575d23637b1d9d5b86cf3ded3d9f0e77756c9daaec3fbd84547a828718e89ea19ab966003cb2c9c4d34227988c53f887d015900a07fde02e2692e4bdab168baa9138d7acbc28b879d496c0460476323f70baa4656681ac2738974a0fe5baffc59a371b033d6bd77a7a1d6d2acb8fcd91a583b6dc9f9183faeedac78a3617c79f7546060e7a53a775415f4327ab296aef9c7c043ec3147919fcfa2af328228a52746e558ec7d10d30c6a6d30755f0b9ac75478db4eb8c77043106cd51e808db04c462824f12dd725e035ac34a5dc5c1bbd4472fe1269f95928ffbc734e3b21bc06e16590e3670e768aceb2df7c9b3d06d21ea8fd5b129f6dde21e842a847a283a02b366c87d341d95b3f1fb89389e28c48334a2caeeefe9538313819fbbd6fd65801d9e70261a2361741dd0e8ed86be0433c785d171d436814bd2312b608670f6d2a9e000aac918c618f90eac367bac1bb5795b53ba2b948005ca90ad6b1b1a55fdb4e3d7c6c37a17753e46b9767ee639ff23573a08710581c7418ab1dad446fce89f8e5b97864349a7c34c8f2e00c502 Âó®ÔºåËØ∑ÂáÜÁ°ÆÊó†ËØØÂú∞ËæìÂÖ•ÂØÜÁ†ÅÊü•ÁúãÂìüÔºÅ","link":"/2021/03/12/Draft/2021/%E5%A4%A7%E7%BA%B2%E7%9B%AE%E5%BD%95/"},{"title":"Âπ¥ÊúàÊÄªÁªì","text":"4d02fb5b32d4ff17604ac73d9008aa6207c92f8bed33bd3156da7ba1e22b4e270d2eaa168bb51445b05ae47a3eac1a4aa0bfdb57f71dd9f0527d69208619b11b15dc3220e59d8a5b73bd2b116a43f17b2034bc7843a0ff6233c0d49758436887255b8f3f0fa46b4ce31673f9bf7ae3e20a15690b8b5e9d5239e1e669e1c3a9b1adebe88090ddd3d9d7f8ff3e0db7157d57eaa4ca81b1e2d581c61fbdb6e92fe8f1617de0506e19df50af99e7eb12dcb6baf7126901f8827d8a6c5b2db24c8f52afbecaf223d50ba3950a5c5c55cdc20bee2ea92807a92a2bf5c37c625d00de34ad7ba312314348ea97206f616516eb61e2a8f78f5f5cdb8f2a7f96ebbf039d15f32bef5f3093e7f3dab0e338c36950c9ca89258353a2e59070c5e1020429e5cc11f6a39b5ef26a52a499c2dca07e59e76a84a61e70fe15f7910235f8f5207eee93435fa62a027c300bf563ebd2babfa36c8aa9bc054a35d9ae5a5fe150aa65d9d73dd67f8db3b737d53175a2a04f7729d9f27df6912ddd574fce90e829dd997f7c10487abd145bf9cdbbb7b8eb81e990a7f9fe5ed0767d8958707cb3aa0f3eb20545f0064e336c78a362cebb222a8f3a5e2c2ca6c2ee4ad4eb98efc3158294fffcfb3fc4f0deeabb6d8bcc4e825d3b4120a671bc6d5b65893b98e896c025415176809b5d32cb2d5b8355d789102802efdd100cf49c9a6aa35a8f0c7c4945af3a79494bc0d15200361e840474b34d42cbd3b09532b9136687d54c58001e533e24539ca6054071218aba8dba729dba254488b0a9451f99495f671df2c430f2f43051d3e62042ae5b18c8a1ff32c7ec3a3cbc8bc1f04a4ae6fd92612eb616ec7dc4f0aefa54d7757df7991888bce1a2695c4ca7bb16045e67e63c931a8b1c32de36911b3dd6fb9738344cd4ca535af14518946117fa1b6944568766759ec193ec0f3ebfd6925bad86c5aae320f3494bee609f4fd6a8f7d26461502b69b72e7893249d7a5f64eaae1a6b41e1068edd8a942911ab15208f5d5be12e4c11f67e32681dc8f97780f50cb095c3106b547aba77cb48730138d098a318d5e0f2f911b25c2fff3de934ded3ef46537e84133b301890b3374355456cc8154b56608d0633d5ad95a08c0978ce9ccab9762bf93a4b46eb849bacf384e181a8ab38eca2b2ac504192fdafc33aa5cf8fa49f35d7aaa45fc614ed928a45f663d9e43e7dee48fcf7de290bba29b8b503f7b2752c5aad193f4dc4ddbe297d3e95a850f90c9f0b9fd8df Âó®ÔºåËØ∑ÂáÜÁ°ÆÊó†ËØØÂú∞ËæìÂÖ•ÂØÜÁ†ÅÊü•ÁúãÂìüÔºÅ","link":"/2021/03/12/Draft/2021/%E5%B9%B4%E6%9C%88%E6%80%BB%E7%BB%93/"},{"title":"MyBatis","text":"MyBatis Êñ∞Â≠¶ÂõõÈóÆ WHY„Äê‰∏éÂâç‰ª£‰ºòÂåñ‰∫Ü‰ªÄ‰πàÔºåÂº•Ë°•‰∫Ü‰ªÄ‰πàÁ©∫ÁôΩ„ÄëÔºö WHAT„ÄêÊ°ÜÊû∂ÔºåÊÄùÁª¥ÂØºÂõæÔºå‰∏ªÈ¢òÊ°ÜÊû∂„ÄëÔºö HOW„ÄêÂ¶Ç‰ΩïËÆ∞ÂøÜÔºåÂ≠¶‰π†ËµÑÊ∫ê„ÄëÔºöBili„ÄÅÂÆòÊñπÊñáÊ°£„ÄÅÊ∫êÁ†Å **LEVEL„Äê‰∏çÊòØÊØè‰∏™ÈÉΩÂ≠¶Á≤æ„ÄëÔºö**ÈÄüÁúãÈÄüËÆ∞ ËøõÂ∫¶Ôºö„Äê17„Äë‰∏§Â§© Âø´Êü• Â∏∏Áî®ËØ≠Âè• ‰∏Ä„ÄÅÁÆÄ‰ªã ‰∫å„ÄÅÂä®ÊÄÅSQL ‰∏â„ÄÅÁºìÂ≠ò ‰ªÄ‰πàÊòØÁºìÂ≠òÔºüÊòØÂ≠òÂú®ÂÜÖÂ≠ò‰∏≠ÁöÑÁºìÂ≠òÊï∞ÊçÆÔºåÊ≠§Êï∞ÊçÆ‰∏ÄËà¨‰∏çÁªèÂ∏∏ÊîπÂèòÔºå‰ª•Ê≠§ÊèêÂçáÊü•ËØ¢ÊïàÁéá„ÄÇ ‰∏ÄÁ∫ßÁºìÂ≠ò ÈªòËÆ§ÂºÄÂêØÔºåÂú®ÂºÄÂêØËøûÊé•Âà∞ÂÖ≥Èó≠ËøûÊé•‰πãÈó¥ÊúâÊïàÔºåÂç≥‰∏ÄÊ¨°sqlSession‰∏≠ÊúâÊïà„ÄÇ ÁºìÂ≠òÂ§±ÊïàÊÉÖÂÜµ Êü•‰∏çÂêåÊï∞ÊçÆ Â¢ûÂà†ÊîπÔºåÂèØËÉΩ‰ºöÊîπÂèòÊï∞ÊçÆÁöÑÊìç‰Ωú Êü•ËØ¢‰∏çÂêåÁöÑmapper.xml ‰∫åÁ∫ßÁºìÂ≠ò 12345&lt;!--mybatis-config.xmlÈÖçÁΩÆÊñá‰ª∂‰∏≠ --&gt;&lt;setting name=&quot;cacheEnabled&quot; value=&quot;true&quot; /&gt; &lt;!-- ÂÖ®Â±ÄÊò†Â∞ÑÂô®ÂêØÁî®ÁºìÂ≠ò --&gt;&lt;!--mapper‰∏≠ÂºÄÂêØÁºìÂ≠òÔºåÂèØËá™ÂÆö‰πâ‰∏Ä‰∫õÂèÇÊï∞ÔºåÊ≤°ÊúâevictionÊó∂ÈúÄË¶ÅÂ∫èÂàóÂåñÂÆû‰ΩìÁ±ªÔºàimplement SerializableÔºâ --&gt;&lt;cache/&gt; ‰∏ÄÁ∫ßÁºìÂ≠òÂ§±ÊïàÊó∂‰∫åÁ∫ßÁºìÂ≠òÂ§±ÊïàÊàñÊèê‰∫§‰ºöËØùÂêéÂ∞ÜÊï∞ÊçÆÊèê‰∫§Âà∞‰∫åÁ∫ßÁºìÂ≠ò„ÄÇÂÖàËØª‰∫åÁ∫ßÁºìÂ≠òÂÜç‰∏ÄÁ∫ßÁºìÂ≠ò„ÄÇ Ëá™ÂÆö‰πâÁºìÂ≠ò ehcache ÂàÜÂ∏ÉÂºèÁºìÂ≠ò ÂèØÂ¢ûÂä†‰øùÂ≠òÂà∞Á£ÅÁõòÁ≠âÂ¢ûÂº∫ÂÆûÁé∞„ÄÇ Áé∞Âú®‰∏ÄËà¨Áî®redis„ÄÇ 1&lt;cache type=&quot;Ëá™ÂÆö‰πâÁºìÂ≠òÁöÑÂåÖ.Ëá™ÂÆö‰πâÁºìÂ≠ò&quot;/&gt; ${}Âíå#{}Âå∫Âà´","link":"/2021/01/20/Draft/2021/MyBatis/"},{"title":"Life","text":"4d02fb5b32d4ff17604ac73d9008aa6207c92f8bed33bd3156da7ba1e22b4e27996051d80f8e0459df12b3e39c58f299739fb205a2a24de4b36345881c425fd64af41af55227292c409bb4ef811dfffb2b55ccc7e719df55c943be882926ded1b41e252fd3787d857b6cb689530f484b396514a5f78dc733cd4e01c3bb7cc799d30076d2119337a0fc0373d0cefaf354408ec6913194e87cacda2849f1a2c6c770692284794cb68990f8ec9100b803535d3e9875f917e90432d4d4a91420dd6bb4c8be225a06cefce6d2d7459ba1cc454ebef4bcbbf418a4508df821f709ce040676138829ad32b9d7ab7aea2e9ff90142e441a6f405aa4112d8a78a3a9b653d05f027561c614c602b27b49869ad95d5963a56e3cd71ec4feced4089f248d7112beef4d3fa0afed03015de816b47fa07e6b13f7ee26a3e57d2a834422cf9ea05ce89af10ccd5a8ae4385eb84eef75f0f1cb122b12dfac9de7374b0ee5faa02680abbe82446a6f6045cde72681fed7496618e5ef63a03ac368cdbbd05e527a9f935c96545723186271494cc15cc8df1ca5c07cd18a18c5a0455e9bbaa52dee3e17b228f31c78296d187f33c94653852cd3a1da7b929c3c8547136dd14e6772bf527ce6482c2706d391f6e4fcdbfc8312791ef94e40ce67d96807991962e1c9f96fe957e91c2bf02ed00575c95ec28ea15d47e8ae7cc90138e24296ee10a4d01e45f96d0edaec15f2c647daf296e8f7f519a8c33306b6194f0aa6e55ca9cea4c23a91b9379a4d2954d6c2df38c6f0bd2ae4680ef45bec90fc813e3d3841430f29d83110e61086f094c8a06f5ba069bac0b99b47befb185df351533fe781cadfc4a1e70b726bfd8f44fd3d3f2f8406a6249d623c5726e4309b31f2984827addc9d1d15cd721572aa76fc8f0358bc7e2a8194671797d49ad222ed9d60526f648c45a672dceea30ad327228ae002f4bc2fc78520b61d19e4e508c873d951a2f23c481eaeb66444e1b0ae856c8dbe71246a4732b6449c28c7fe4c0b99896386a68be80c7f55295fbd48265c18eb93ec11e5658f573d04c2eca4ca73059238dc9df4c1f0d01a7320fc571e3331786ac91805e455d14ae8406bedd7346e7edfee75081b48c4064a36d05c032793788bff941e9a84a1c6307a59021021959bbfd1cf8e934bd3b2bcfc6f30821de5f20e9a7db32ed76012573ffc253a497dfefd4e341d81c3b615983a503706b991f4ddf8ab9c5b05f9ed731069a0b7817674382c4997fdcfa825d62157d714364893238b64eb27fafaf651a4e7e241fd42ac3ddd0f5a9644583df4e22de9b48f5ea971ea6feef7173fee48c5e7184933d03a1e84e27882e5be0111bd04094d4f67c4c46e43aa2a160f7e1ffb57cd77afb258c189dddefd633ebfc8d6c16593fd9e50218aee9c24216a2d335ba60e98650dec13128df3582eb5afc5e043c01eb748d6e816f8dc1420cc590b7ef7e089a01cf85a0129198f6fd979654209962ed7559f37d61912a57f0290baed8148d58b80df8ebce86a47034b1bf933f786ef95f8f4f72993f712d75e9564e117773d6ac8b26ee4361528785e136032dd19876daea13a047b02129ecdb543cfb9724323c77979c0fe723d8b82caa07a948bee5d2b8cb450493b4ecf09f9ea06b0100d196af2fb5b56983cc16f0d977deb58da4b454207db37c42d8b330078342be2170d85783520211eed6d1c5885ce2ddc01cfe62f2370a7561acd5bb45f9069d167bf280269670c45d68b37e70cf11d1e2f6b919bddaed842128015acc8eb64ca9f82dc891cf56ee2cda434c24f4828afeba7ba742af5fee2b22a6f0b5163686994c652c2ce594ddcafe7ad46d84e710968b212bd8540eb22b42b82aa28b88afeb8be3dce2aba66f4a40df26939b574387d82595707a4b393c124ad35c74edbcb75df6cb80ec9ec92c9d626ae5c00088b35c5ce1d5ece5cbf50b0f37525fd1987d9b96c602bf751c308f5c73f7618befd33e8f941024591fe6f5927c2b0f79af6a033707a45abad247edc15695d269977eb924bbb92261b108eb4c487c665f575eb8c65613c0c6705a4f43f00f8d6c0f768c86705c34854866eac1f43c7790fe276af2e39ae81e535e6fbea80ea68a6f373254a96e5d029665a769642144401d4927951af7fca219d5458c5e381ae506e1ebf89022d600affc5ab076ca4f8c784dce060545c517a556c09973569397bff9f19992336344f46229b40c8ec3575450039283d1a6586e51598f56111d1d3b5684ffdbdf96449cfcdaa1085d3f3b3b22df54da195c8906d1e1428a53d8daafb16b476697a88df78a32d3a82e4641422e0f7b84ef04096332f599c88cc6e61795e8e3454f769c7d26c1bff55206cc5a06b99442bded8ca612e4ee3ee09bf33104e689d08dd97f85a83c2cd79d8c908144fe5335b38210f4fb3281413784ffa180f49442d62b14068addbb3d7ced65a16704cf4b0346ea89e4ee4279f98ec758a012b2925a42f226a5fac539a118b8f2d83164052af09600f48fd38ab5597710693ac40ba60eb02a566698ea4a7fa8ea47aa60cdb8bd79f50af63fdf4cc30e70f2bcbb76b1c9a2e96a97c9f8f692ce9c4f31f8bd5ab6eee93b95242dcfe278f8256a1f6db399f2583bd6e8313134dceacd9a15c6b8141c1651a4a002ec3a5b1689ab816a6b281301e89881f0038f638c82c182986b0d8ce2bd74b773550f98d19865b7fcae6d16cf4d576bc3ff46fb47d9b23a570cc823a398c94092048e99a1434833eecee060e0bc338e425131bad0b2cd3528259de91090b05c53a5222d52e6ea55e515643a33ee54f18e80bdc6fa3e28553701dffd3a78a6663210c9490dfdcdfa2b91059201b156cece621ff995bf62052b8f8513d5849a4798ae19ef925f782c86c0b768c2770c467393d007241d955d65d786568232ef6906b5720d44b06f9e3ebb7f532501cd4e7ab95a6cbbb3c6a7f32910bf4715ddde088be3e9d49551d0f474354fdcafdc656413baca67b752a773d22c246e0494a3945fc22d682a233e349136642a346236f7c9445dc27d5e111511bdbaa5555d2c3e14f055a69bbf32092c324e11e9f395ec8d8624370c14dd47f683b4ef959a8e514002f3504a1ae069facb6ddff376f1ab698281625b1f5a3c4af3af8a7e6cbfb692704b07080f991841cfaf30d382ea64c937fcfb006a37344783582f4d238c58fc989d2a59d919efdaf77ae24a6afa0c05f25b204bac9ae7167d7448f60e23dff9ae517996f3ae427d2d1b84947b7fc511d87196644a582661a2edd4137a6ab7bedaf939f02ab6badc30ca35231ed385f674bff2b9c86e5dca3f2ad1c3851e5af1f473a6d7643bccdeb83cb5042e0a11aae73b5be8b84c9ee96d0e8c25344cf7c56bfe9536e2c691c05b3d2a005a93b444c736e61acb18288a5ac3ce33a927cfdf781a2d10d1be2f5542601cbef13392fbc832c2e7528aed1301c992a431d4fb8760d159fca33f82d49cf2b5743200946c4ca445b90c3575319cd4c18955ae0ec8f9d17b25c0b7667822e6d531a1493034f4a8fa2a670c5da6adf61a091d4789a8868200035ee74b627bb8478f44d960205f3748cd29444274002359f5e282e354e84b02eeb5012a2fd8d76c23615dd6e7ca6d9c659bc894cf026f8463efa9a1649d05893a5250d2258107e067aeb0d3658d0722a4c5b22af0c2834f7f3a866e857beaa7ff63b4fb1aa61751a33448c33e30e9f63dca5b5b7fccaf9a2b889c0fbf10493c0a37fb85286be0f4257e8f09b9fb145dd9800162c6d7b4770475dd027c7408bd6ea04458dabfb635dd028eb7cae413397d169b655a5931b2366d84b4a67217bbab6a4df23db197bd4a432d93af59a12688acc0718e3800f852986ace6c3a59aade93dc71650b15fd616be5f508b572a8b826ff8efc686c5ec33907f823a07023269cebc9b53ffd4046e49003b9d77f5aa00f38f75e107629da33af4773c76eb68dac77a4e715dcfc3405f2622048089806f6489f37640f7f17b71e06e62d9361b929b2db6bcb82a432977794c7c820c8bce3b5673197f62b75ff8a2cdeeac105922734737c4b88ce9dd7c33ca241024cb88890b31d3f15b605f016d98763eaa2c7af69ea7033b44b06884ef7d81b04136716e7bad1571acc78674cea87b4fa6ce84b639cacfa18aa52eda980f610920ec5f7e479f9789692fa86aac293aa129a6ce633808cbaa45dd33cee81883d490cd7ef1baf7ca82fb5331e949a6e1f28c1fc82c642e3befaa3ea8cecbc78aefa866936e0c9acb2b10ed078aa430e836a745474e54c5c33a81c3646e51e39740eb4035b89aa6cb379822bb98e33a5167a72f716b07dabf16952aad6cf45eb698a3bffbc5704e595eb9bd515690047fbdab1e66a3b81d05e2e4f17a7233d3349d7f22ba6bc40f2dc8accd577f9b4c2259eb7dff9686285a81d9dd9e30302c1ad6fd1da382723bbf4137afcfa91d1e4363ce19854f1e87847e857b451ee66b682109191e9e730276970dbdf3a026b99fb6c83c621ee5b921f689b2e08506913fb3f9d87bb8e543b5c26982f68520333d16629a0da5cb5ab90a4290777413135f45e751fec41a328a82d935ca7c1a7c11545ec31b59240717a010d8e87d63eda4452930056592cc8878fd08d9a35124d5693dbb9a4d47f4d1eeff692ac659d4893e6e218cf41b2e50f39606d0f245b6e5e7d8ab060737da07a2abcb34bf07e2ee34562515cd660fd4e363f60821a355f7268d620864cc29371a93eab5f2d9e1c48671e9cdeb0d0ec7c0bbd583ca5408bd2816ecef55bb39a4bf273f39c41dba5ffc3cbe4c914bf9c410c993ddca7d2b2ebc662755e5471a8919961f5492c0c82d62900b2631dcbd99007875361e149ceca9e51206f4d13e131111b9731e58f38dd54b49c87629c4dcc65d20bb511c90e7540a348fe7259c4c7bc25b46e1e5d7882dc4ef564204614495e4f572ebd20d68d48221fc8c13f32c717d60460d3daffbcdf9692bd09e1f753bc03a22880af81318c3c18e414d6aec10a22238420cbdcc19f063493821dcbf3c0f9c14fc7d6b163240b3d7d64766e79051de8160a94fefb7777c336c2f756b109b106203b5ec38174868acdfdfb29faf6402f4326d0a5be21c3da79c8608fae492f67036149981dc8eb0201cf36490197c3c8110f6c66e94d1d1f260cb788d9e5579cddfb8a1f1c019a8285427d6437011952d912b385d3b4a0b97be6c55b0c8bc78a1b82b820579c8c99590f676c5b7e2b7522cf0793ad809477caef35c79608b737cea4cae1c4eb9c9ceee7bc39726fdecec1879d30faef8f568b19065bdf7228c18c4e54df67dea15816f0b139405702c0851031827126a6d1d75513adc2355d910f475fccb8a8bad9452403b257bad20c42f4f4039cc57d95f7a539a998116a21b2bc2d4c6af7a4b13a43716a009bd74e6834ac3d78e6293079fd85a8d120b871267a1dde558e9a80ee1cf6e89b53515942bc2ebe34a20a5d99cdaa13e496c034ef407f70d32cbcfb4375e542019e0c07bd2dc6966808df715570f80db2d017108ba1415c8dad1e86731d48ce9e99d1d1cb15cb133dfbd297326ac42bd4e0bb834300dba06087276675affd65fbb5786821aadc0a788a47d41d54390f024bff71864e2f556fde3643d3a22f8937bcc8f4c6e4a5b8c1bcd300754e4a1c063cd54522f3cc253edaf3c32f1a0aab1f5d100f8115db02cd993dfd28ca1dcf44a074659523ef4f92633de78b04b1c797e81a809f9d3f3b9e4b7cd6552962a1e3867efef4a306ee911eecd1f4930f6a7e0d08a15290c492330f7910d59402fd68ab64e9e663d6d03fbf2f5156ea30dac733f03da5a6f370ab795b0a7340e1af667fffac9623dd5fe0b5a4e9fde81689753d9f05a08e5e4146ecfaeb34d34dbd6aaa30df96a573d49a691d11b4265adefad04c68076a04030dd9dcdbf52223ee9b4195a0bf423a77e2aa768a8a4697299d903a2d39ca48d3ecc0dffd98442d95466f9a5dc119a412528167df057670ac4c723fe776bac9220d4aa63e8fe78ecfe77ae6a0ea35a395789e6d16bf13c31819876dbc298f2da9f2f98c8c0403a7296c0f143b2ae94ea0e2dce4039902b906dabd73bf72e1bce865cb4f2bd80823f7239b254032cd3974929e9d7cdd274d433f6262b6bf6b9d75b4f0515b1943702a95751ffb671ab8105ce7e21b036d48d4894e5448c7c6b5472066b7fd8dd166cd0e4b6af01c7728431f5a97ed1191124ffd80a627b3dddcc5d1174aa939be058a122972b85d5d2aaa9930efa1f567f0ea022405c63ecf412ee7c99511160369836f9e7276a7031da6ce54345605683342d76604e931ea5e83529a5d7661310b8b27edb30e86a715159172f0765165fc881bb6a148a524329f32e724a0f03b83ca2272920477fac0fd5d156c760e47cbe2dcb848333e148ec36efc78f1462ad9cb9a5b3eb8476b433a09c6c39044e793e4c33130b4ef919daf3ddf30bec4985573c475daff8db8c38096173254d489e6b79a78b19e66e4746ac1b86b123b1f0ee540ed4f7e0733c49940d2a1b4b6f67d0c1d79614caf2b349ed47699ac985bdaa7887fb5821752df0d07c3c4a2176d9b0baae1bc1236a63d452aa45213065c4aa1b777850516400597e771c6b19fc84b9caac889f98f9a987335eb87bb6d8331a4725c413b992e7c8332a8c222178310ae1d59a7b7f4 Âó®ÔºåËØ∑ÂáÜÁ°ÆÊó†ËØØÂú∞ËæìÂÖ•ÂØÜÁ†ÅÊü•ÁúãÂìüÔºÅ","link":"/2021/01/12/Draft/2021/Life/"}],"tags":[{"name":"BUG","slug":"BUG","link":"/tags/BUG/"},{"name":"CRUD","slug":"CRUD","link":"/tags/CRUD/"},{"name":"Â∑•ÂÖ∑ÊïôÁ®ã","slug":"Â∑•ÂÖ∑ÊïôÁ®ã","link":"/tags/%E5%B7%A5%E5%85%B7%E6%95%99%E7%A8%8B/"},{"name":"Á®ãÂ∫è‰∫∫Áîü","slug":"Á®ãÂ∫è‰∫∫Áîü","link":"/tags/%E7%A8%8B%E5%BA%8F%E4%BA%BA%E7%94%9F/"},{"name":"Life","slug":"Life","link":"/tags/Life/"},{"name":"Frame","slug":"Frame","link":"/tags/Frame/"},{"name":"NO GAME NO LIFE","slug":"NO-GAME-NO-LIFE","link":"/tags/NO-GAME-NO-LIFE/"},{"name":"Nginx","slug":"Nginx","link":"/tags/Nginx/"},{"name":"Software Engineer","slug":"Software-Engineer","link":"/tags/Software-Engineer/"},{"name":"ÂæÖÂäû","slug":"ÂæÖÂäû","link":"/tags/%E5%BE%85%E5%8A%9E/"},{"name":"Ê®°Êùø","slug":"Ê®°Êùø","link":"/tags/%E6%A8%A1%E6%9D%BF/"},{"name":"‰π¶ÂΩ±Èü≥","slug":"‰π¶ÂΩ±Èü≥","link":"/tags/%E4%B9%A6%E5%BD%B1%E9%9F%B3/"},{"name":"ÂÅ•Ë∫´Â§ñÂûã","slug":"ÂÅ•Ë∫´Â§ñÂûã","link":"/tags/%E5%81%A5%E8%BA%AB%E5%A4%96%E5%9E%8B/"},{"name":"ÂâçÁ´Ø","slug":"ÂâçÁ´Ø","link":"/tags/%E5%89%8D%E7%AB%AF/"},{"name":"Êñá‰ª∂ÁõÆÂΩï","slug":"Êñá‰ª∂ÁõÆÂΩï","link":"/tags/%E6%96%87%E4%BB%B6%E7%9B%AE%E5%BD%95/"},{"name":"Â≠¶‰π†ÊñπÊ≥ï","slug":"Â≠¶‰π†ÊñπÊ≥ï","link":"/tags/%E5%AD%A6%E4%B9%A0%E6%96%B9%E6%B3%95/"},{"name":"ÁîµËÑëÁü•ËØÜ","slug":"ÁîµËÑëÁü•ËØÜ","link":"/tags/%E7%94%B5%E8%84%91%E7%9F%A5%E8%AF%86/"},{"name":"ÊëÑÂΩ±ÊëÑÂÉè","slug":"ÊëÑÂΩ±ÊëÑÂÉè","link":"/tags/%E6%91%84%E5%BD%B1%E6%91%84%E5%83%8F/"},{"name":"Êû∂ÊûÑÂ∏à","slug":"Êû∂ÊûÑÂ∏à","link":"/tags/%E6%9E%B6%E6%9E%84%E5%B8%88/"},{"name":"ÊØèÊó•ÁÆóÊ≥ï","slug":"ÊØèÊó•ÁÆóÊ≥ï","link":"/tags/%E6%AF%8F%E6%97%A5%E7%AE%97%E6%B3%95/"},{"name":"English","slug":"English","link":"/tags/English/"},{"name":"ÊØèÊó•Èù¢È¢ò","slug":"ÊØèÊó•Èù¢È¢ò","link":"/tags/%E6%AF%8F%E6%97%A5%E9%9D%A2%E9%A2%98/"},{"name":"Ëá™Â™í‰Ωì","slug":"Ëá™Â™í‰Ωì","link":"/tags/%E8%87%AA%E5%AA%92%E4%BD%93/"},{"name":"‰∏¥Êó∂ËÆ∞ÂΩï","slug":"‰∏¥Êó∂ËÆ∞ÂΩï","link":"/tags/%E4%B8%B4%E6%97%B6%E8%AE%B0%E5%BD%95/"},{"name":"Èü≥‰πê","slug":"Èü≥‰πê","link":"/tags/%E9%9F%B3%E4%B9%90/"},{"name":"‰ø°ÊÅØÁ≥ªÁªüÈ°πÁõÆÁÆ°ÁêÜÂ∏àËÆ∫ÊñáÊ®°Êùø","slug":"‰ø°ÊÅØÁ≥ªÁªüÈ°πÁõÆÁÆ°ÁêÜÂ∏àËÆ∫ÊñáÊ®°Êùø","link":"/tags/%E4%BF%A1%E6%81%AF%E7%B3%BB%E7%BB%9F%E9%A1%B9%E7%9B%AE%E7%AE%A1%E7%90%86%E5%B8%88%E8%AE%BA%E6%96%87%E6%A8%A1%E6%9D%BF/"},{"name":"Dubbo","slug":"Dubbo","link":"/tags/Dubbo/"},{"name":"SpringCloud","slug":"SpringCloud","link":"/tags/SpringCloud/"},{"name":"‰ø°ÊÅØÁ≥ªÁªüÈ°πÁõÆÁÆ°ÁêÜÂ∏à","slug":"‰ø°ÊÅØÁ≥ªÁªüÈ°πÁõÆÁÆ°ÁêÜÂ∏à","link":"/tags/%E4%BF%A1%E6%81%AF%E7%B3%BB%E7%BB%9F%E9%A1%B9%E7%9B%AE%E7%AE%A1%E7%90%86%E5%B8%88/"},{"name":"ÂæÆ‰ø°Â∞èÁ®ãÂ∫è","slug":"ÂæÆ‰ø°Â∞èÁ®ãÂ∫è","link":"/tags/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F/"},{"name":"Âø´Êü•","slug":"Âø´Êü•","link":"/tags/%E5%BF%AB%E6%9F%A5/"},{"name":"ËÆ°ÁÆóÊú∫ÁΩëÁªú","slug":"ËÆ°ÁÆóÊú∫ÁΩëÁªú","link":"/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/"},{"name":"RabbitMQ","slug":"RabbitMQ","link":"/tags/RabbitMQ/"},{"name":"PythonÂ≠¶‰π†","slug":"PythonÂ≠¶‰π†","link":"/tags/Python%E5%AD%A6%E4%B9%A0/"},{"name":"ÊúçÂä°Âô®","slug":"ÊúçÂä°Âô®","link":"/tags/%E6%9C%8D%E5%8A%A1%E5%99%A8/"},{"name":"MongoDB","slug":"MongoDB","link":"/tags/MongoDB/"},{"name":"Êï∞ÊçÆÂ∫ì","slug":"Êï∞ÊçÆÂ∫ì","link":"/tags/%E6%95%B0%E6%8D%AE%E5%BA%93/"},{"name":"ËÆæËÆ°Ê®°Âºè","slug":"ËÆæËÆ°Ê®°Âºè","link":"/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"},{"name":"Docker","slug":"Docker","link":"/tags/Docker/"},{"name":"Redis","slug":"Redis","link":"/tags/Redis/"},{"name":"Â∫ïÂ±ÇÂ≠¶‰π†","slug":"Â∫ïÂ±ÇÂ≠¶‰π†","link":"/tags/%E5%BA%95%E5%B1%82%E5%AD%A6%E4%B9%A0/"},{"name":"ÁºñÁ®ãËØ≠Ë®Ä","slug":"ÁºñÁ®ãËØ≠Ë®Ä","link":"/tags/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/"},{"name":"Ë∞∑Á≤íÂïÜÂüé","slug":"Ë∞∑Á≤íÂïÜÂüé","link":"/tags/%E8%B0%B7%E7%B2%92%E5%95%86%E5%9F%8E/"}],"categories":[{"name":"BUGËÆ∞ÂΩï","slug":"BUGËÆ∞ÂΩï","link":"/categories/BUG%E8%AE%B0%E5%BD%95/"},{"name":"Á®ãÂ∫èÂü∫Á°Ä","slug":"Á®ãÂ∫èÂü∫Á°Ä","link":"/categories/%E7%A8%8B%E5%BA%8F%E5%9F%BA%E7%A1%80/"},{"name":"Â∑•ÂÖ∑ÊïôÁ®ã","slug":"Â∑•ÂÖ∑ÊïôÁ®ã","link":"/categories/%E5%B7%A5%E5%85%B7%E6%95%99%E7%A8%8B/"},{"name":"BUG","slug":"BUGËÆ∞ÂΩï/BUG","link":"/categories/BUG%E8%AE%B0%E5%BD%95/BUG/"},{"name":"Á®ãÂ∫è‰∫∫Áîü","slug":"Á®ãÂ∫è‰∫∫Áîü","link":"/categories/%E7%A8%8B%E5%BA%8F%E4%BA%BA%E7%94%9F/"},{"name":"CRUD","slug":"Á®ãÂ∫èÂü∫Á°Ä/CRUD","link":"/categories/%E7%A8%8B%E5%BA%8F%E5%9F%BA%E7%A1%80/CRUD/"},{"name":"Frame","slug":"Frame","link":"/categories/Frame/"},{"name":"‰∏ªÈ¢òÂ∑•ÂÖ∑","slug":"Â∑•ÂÖ∑ÊïôÁ®ã/‰∏ªÈ¢òÂ∑•ÂÖ∑","link":"/categories/%E5%B7%A5%E5%85%B7%E6%95%99%E7%A8%8B/%E4%B8%BB%E9%A2%98%E5%B7%A5%E5%85%B7/"},{"name":"Ê∏∏Êàè‰∫∫Áîü","slug":"Ê∏∏Êàè‰∫∫Áîü","link":"/categories/%E6%B8%B8%E6%88%8F%E4%BA%BA%E7%94%9F/"},{"name":"‰∏≠Èó¥‰ª∂","slug":"‰∏≠Èó¥‰ª∂","link":"/categories/%E4%B8%AD%E9%97%B4%E4%BB%B6/"},{"name":"Office","slug":"Â∑•ÂÖ∑ÊïôÁ®ã/Office","link":"/categories/%E5%B7%A5%E5%85%B7%E6%95%99%E7%A8%8B/Office/"},{"name":"Software Engineer","slug":"Á®ãÂ∫è‰∫∫Áîü/Software-Engineer","link":"/categories/%E7%A8%8B%E5%BA%8F%E4%BA%BA%E7%94%9F/Software-Engineer/"},{"name":"Interesting Programs","slug":"Á®ãÂ∫è‰∫∫Áîü/Interesting-Programs","link":"/categories/%E7%A8%8B%E5%BA%8F%E4%BA%BA%E7%94%9F/Interesting-Programs/"},{"name":"ÂæÖÂäû","slug":"ÂæÖÂäû","link":"/categories/%E5%BE%85%E5%8A%9E/"},{"name":"Life","slug":"Á®ãÂ∫è‰∫∫Áîü/Life","link":"/categories/%E7%A8%8B%E5%BA%8F%E4%BA%BA%E7%94%9F/Life/"},{"name":"Ê®°Êùø","slug":"Ê®°Êùø","link":"/categories/%E6%A8%A1%E6%9D%BF/"},{"name":"‰π¶ÂΩ±Èü≥","slug":"‰π¶ÂΩ±Èü≥","link":"/categories/%E4%B9%A6%E5%BD%B1%E9%9F%B3/"},{"name":"ÂçöÂÆ¢Êê≠Âª∫","slug":"Â∑•ÂÖ∑ÊïôÁ®ã/ÂçöÂÆ¢Êê≠Âª∫","link":"/categories/%E5%B7%A5%E5%85%B7%E6%95%99%E7%A8%8B/%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA/"},{"name":"ÂÅ•Â∫∑","slug":"ÂÅ•Â∫∑","link":"/categories/%E5%81%A5%E5%BA%B7/"},{"name":"Markdown","slug":"Â∑•ÂÖ∑ÊïôÁ®ã/Markdown","link":"/categories/%E5%B7%A5%E5%85%B7%E6%95%99%E7%A8%8B/Markdown/"},{"name":"ÂâçÁ´Ø","slug":"Á®ãÂ∫èÂü∫Á°Ä/ÂâçÁ´Ø","link":"/categories/%E7%A8%8B%E5%BA%8F%E5%9F%BA%E7%A1%80/%E5%89%8D%E7%AB%AF/"},{"name":"Êñá‰ª∂ÁõÆÂΩï","slug":"Êñá‰ª∂ÁõÆÂΩï","link":"/categories/%E6%96%87%E4%BB%B6%E7%9B%AE%E5%BD%95/"},{"name":"MyBatis-Plus","slug":"Frame/MyBatis-Plus","link":"/categories/Frame/MyBatis-Plus/"},{"name":"Â≠¶‰π†ÊñπÊ≥ï","slug":"Â≠¶‰π†ÊñπÊ≥ï","link":"/categories/%E5%AD%A6%E4%B9%A0%E6%96%B9%E6%B3%95/"},{"name":"Âπ¥ÊúàÊÄªÁªì","slug":"Á®ãÂ∫è‰∫∫Áîü/Âπ¥ÊúàÊÄªÁªì","link":"/categories/%E7%A8%8B%E5%BA%8F%E4%BA%BA%E7%94%9F/%E5%B9%B4%E6%9C%88%E6%80%BB%E7%BB%93/"},{"name":"ÁîµËÑëÁü•ËØÜ","slug":"ÁîµËÑëÁü•ËØÜ","link":"/categories/%E7%94%B5%E8%84%91%E7%9F%A5%E8%AF%86/"},{"name":"ÁîüÊ¥ªÁà±Â•Ω","slug":"ÁîüÊ¥ªÁà±Â•Ω","link":"/categories/%E7%94%9F%E6%B4%BB%E7%88%B1%E5%A5%BD/"},{"name":"MyBatis","slug":"Frame/MyBatis","link":"/categories/Frame/MyBatis/"},{"name":"Á≥ªÁªüËÆæËÆ°","slug":"Á≥ªÁªüËÆæËÆ°","link":"/categories/%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/"},{"name":"ÊØèÊó•‰ªªÂä°","slug":"ÊØèÊó•‰ªªÂä°","link":"/categories/%E6%AF%8F%E6%97%A5%E4%BB%BB%E5%8A%A1/"},{"name":"NO GAME NO LIFE","slug":"Ê∏∏Êàè‰∫∫Áîü/NO-GAME-NO-LIFE","link":"/categories/%E6%B8%B8%E6%88%8F%E4%BA%BA%E7%94%9F/NO-GAME-NO-LIFE/"},{"name":"English","slug":"English","link":"/categories/English/"},{"name":"Nginx","slug":"‰∏≠Èó¥‰ª∂/Nginx","link":"/categories/%E4%B8%AD%E9%97%B4%E4%BB%B6/Nginx/"},{"name":"Ëá™Â™í‰Ωì","slug":"Ëá™Â™í‰Ωì","link":"/categories/%E8%87%AA%E5%AA%92%E4%BD%93/"},{"name":"ËµÑÊ∫êÁØá","slug":"Â∑•ÂÖ∑ÊïôÁ®ã/ËµÑÊ∫êÁØá","link":"/categories/%E5%B7%A5%E5%85%B7%E6%95%99%E7%A8%8B/%E8%B5%84%E6%BA%90%E7%AF%87/"},{"name":"‰∏¥Êó∂ËÆ∞ÂΩï","slug":"‰∏¥Êó∂ËÆ∞ÂΩï","link":"/categories/%E4%B8%B4%E6%97%B6%E8%AE%B0%E5%BD%95/"},{"name":"SpringMVC","slug":"Frame/SpringMVC","link":"/categories/Frame/SpringMVC/"},{"name":"Everyday-TODO","slug":"ÂæÖÂäû/Everyday-TODO","link":"/categories/%E5%BE%85%E5%8A%9E/Everyday-TODO/"},{"name":"Ê®°Êùø","slug":"Ê®°Êùø/Ê®°Êùø","link":"/categories/%E6%A8%A1%E6%9D%BF/%E6%A8%A1%E6%9D%BF/"},{"name":"‰π¶ÂΩ±Èü≥","slug":"‰π¶ÂΩ±Èü≥/‰π¶ÂΩ±Èü≥","link":"/categories/%E4%B9%A6%E5%BD%B1%E9%9F%B3/%E4%B9%A6%E5%BD%B1%E9%9F%B3/"},{"name":"ÂÅ•Ë∫´Á©øÊê≠","slug":"ÂÅ•Â∫∑/ÂÅ•Ë∫´Á©øÊê≠","link":"/categories/%E5%81%A5%E5%BA%B7/%E5%81%A5%E8%BA%AB%E7%A9%BF%E6%90%AD/"},{"name":"Êñá‰ª∂ÁõÆÂΩï","slug":"Êñá‰ª∂ÁõÆÂΩï/Êñá‰ª∂ÁõÆÂΩï","link":"/categories/%E6%96%87%E4%BB%B6%E7%9B%AE%E5%BD%95/%E6%96%87%E4%BB%B6%E7%9B%AE%E5%BD%95/"},{"name":"Â¶Ç‰ΩïÂ≠¶‰π†‰∏Ä‰∏™Êñ∞Áü•ËØÜ","slug":"Â≠¶‰π†ÊñπÊ≥ï/Â¶Ç‰ΩïÂ≠¶‰π†‰∏Ä‰∏™Êñ∞Áü•ËØÜ","link":"/categories/%E5%AD%A6%E4%B9%A0%E6%96%B9%E6%B3%95/%E5%A6%82%E4%BD%95%E5%AD%A6%E4%B9%A0%E4%B8%80%E4%B8%AA%E6%96%B0%E7%9F%A5%E8%AF%86/"},{"name":"ÂºÄÂèë‰øÆÁîµËÑë","slug":"ÁîµËÑëÁü•ËØÜ/ÂºÄÂèë‰øÆÁîµËÑë","link":"/categories/%E7%94%B5%E8%84%91%E7%9F%A5%E8%AF%86/%E5%BC%80%E5%8F%91%E4%BF%AE%E7%94%B5%E8%84%91/"},{"name":"ÊëÑÂΩ±ÊëÑÂÉè","slug":"ÁîüÊ¥ªÁà±Â•Ω/ÊëÑÂΩ±ÊëÑÂÉè","link":"/categories/%E7%94%9F%E6%B4%BB%E7%88%B1%E5%A5%BD/%E6%91%84%E5%BD%B1%E6%91%84%E5%83%8F/"},{"name":"Êû∂ÊûÑÂ∏à","slug":"Á≥ªÁªüËÆæËÆ°/Êû∂ÊûÑÂ∏à","link":"/categories/%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/%E6%9E%B6%E6%9E%84%E5%B8%88/"},{"name":"ÁÆóÊ≥ïÂü∫Á°Ä","slug":"ÊØèÊó•‰ªªÂä°/ÁÆóÊ≥ïÂü∫Á°Ä","link":"/categories/%E6%AF%8F%E6%97%A5%E4%BB%BB%E5%8A%A1/%E7%AE%97%E6%B3%95%E5%9F%BA%E7%A1%80/"},{"name":"Á®ãÂ∫èÂëòËã±ËØ≠","slug":"English/Á®ãÂ∫èÂëòËã±ËØ≠","link":"/categories/English/%E7%A8%8B%E5%BA%8F%E5%91%98%E8%8B%B1%E8%AF%AD/"},{"name":"ÊØèÊó•Èù¢È¢ò","slug":"ÊØèÊó•‰ªªÂä°/ÊØèÊó•Èù¢È¢ò","link":"/categories/%E6%AF%8F%E6%97%A5%E4%BB%BB%E5%8A%A1/%E6%AF%8F%E6%97%A5%E9%9D%A2%E9%A2%98/"},{"name":"Ëá™Â™í‰Ωì","slug":"Ëá™Â™í‰Ωì/Ëá™Â™í‰Ωì","link":"/categories/%E8%87%AA%E5%AA%92%E4%BD%93/%E8%87%AA%E5%AA%92%E4%BD%93/"},{"name":"ÊÄùÁª¥Èó™ÂÖâ","slug":"‰∏¥Êó∂ËÆ∞ÂΩï/ÊÄùÁª¥Èó™ÂÖâ","link":"/categories/%E4%B8%B4%E6%97%B6%E8%AE%B0%E5%BD%95/%E6%80%9D%E7%BB%B4%E9%97%AA%E5%85%89/"},{"name":"ÂÖ¥Ë∂£Áà±Â•Ω","slug":"ÂÖ¥Ë∂£Áà±Â•Ω","link":"/categories/%E5%85%B4%E8%B6%A3%E7%88%B1%E5%A5%BD/"},{"name":"ËÄÉËØÅ","slug":"ËÄÉËØÅ","link":"/categories/%E8%80%83%E8%AF%81/"},{"name":"Dubbo","slug":"‰∏≠Èó¥‰ª∂/Dubbo","link":"/categories/%E4%B8%AD%E9%97%B4%E4%BB%B6/Dubbo/"},{"name":"Èü≥‰πê","slug":"ÂÖ¥Ë∂£Áà±Â•Ω/Èü≥‰πê","link":"/categories/%E5%85%B4%E8%B6%A3%E7%88%B1%E5%A5%BD/%E9%9F%B3%E4%B9%90/"},{"name":"SpringCloud","slug":"Frame/SpringCloud","link":"/categories/Frame/SpringCloud/"},{"name":"‰ø°ÊÅØÁ≥ªÁªüÈ°πÁõÆÁÆ°ÁêÜÂ∏à","slug":"ËÄÉËØÅ/‰ø°ÊÅØÁ≥ªÁªüÈ°πÁõÆÁÆ°ÁêÜÂ∏à","link":"/categories/%E8%80%83%E8%AF%81/%E4%BF%A1%E6%81%AF%E7%B3%BB%E7%BB%9F%E9%A1%B9%E7%9B%AE%E7%AE%A1%E7%90%86%E5%B8%88/"},{"name":"‰ø°ÊÅØÁ≥ªÁªüÈ°πÁõÆÁÆ°ÁêÜÂ∏àËÆ∫ÊñáÊ®°Êùø","slug":"ËÄÉËØÅ/‰ø°ÊÅØÁ≥ªÁªüÈ°πÁõÆÁÆ°ÁêÜÂ∏àËÆ∫ÊñáÊ®°Êùø","link":"/categories/%E8%80%83%E8%AF%81/%E4%BF%A1%E6%81%AF%E7%B3%BB%E7%BB%9F%E9%A1%B9%E7%9B%AE%E7%AE%A1%E7%90%86%E5%B8%88%E8%AE%BA%E6%96%87%E6%A8%A1%E6%9D%BF/"},{"name":"ÁºñÁ®ã","slug":"ÁºñÁ®ã","link":"/categories/%E7%BC%96%E7%A8%8B/"},{"name":"ÁºñÁ®ãÂ∑•ÂÖ∑","slug":"ÁºñÁ®ãÂ∑•ÂÖ∑","link":"/categories/%E7%BC%96%E7%A8%8B%E5%B7%A5%E5%85%B7/"},{"name":"ÁºñÁ®ãÂü∫Á°Ä","slug":"ÁºñÁ®ãÂü∫Á°Ä","link":"/categories/%E7%BC%96%E7%A8%8B%E5%9F%BA%E7%A1%80/"},{"name":"ÂæÆ‰ø°Â∞èÁ®ãÂ∫è","slug":"ÁºñÁ®ã/ÂæÆ‰ø°Â∞èÁ®ãÂ∫è","link":"/categories/%E7%BC%96%E7%A8%8B/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F/"},{"name":"Âø´Êü•","slug":"ÁºñÁ®ãÂ∑•ÂÖ∑/Âø´Êü•","link":"/categories/%E7%BC%96%E7%A8%8B%E5%B7%A5%E5%85%B7/%E5%BF%AB%E6%9F%A5/"},{"name":"ËÆ°ÁÆóÊú∫ÁΩëÁªú","slug":"ÁºñÁ®ãÂü∫Á°Ä/ËÆ°ÁÆóÊú∫ÁΩëÁªú","link":"/categories/%E7%BC%96%E7%A8%8B%E5%9F%BA%E7%A1%80/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/"},{"name":"RabbitMQ","slug":"‰∏≠Èó¥‰ª∂/RabbitMQ","link":"/categories/%E4%B8%AD%E9%97%B4%E4%BB%B6/RabbitMQ/"},{"name":"‰∏öÂä°ÊäÄÊúØ","slug":"Á®ãÂ∫è‰∫∫Áîü/‰∏öÂä°ÊäÄÊúØ","link":"/categories/%E7%A8%8B%E5%BA%8F%E4%BA%BA%E7%94%9F/%E4%B8%9A%E5%8A%A1%E6%8A%80%E6%9C%AF/"},{"name":"ÁºñÁ®ãËØ≠Ë®Ä","slug":"ÁºñÁ®ãËØ≠Ë®Ä","link":"/categories/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/"},{"name":"Spring","slug":"Frame/Spring","link":"/categories/Frame/Spring/"},{"name":"PythonÂ≠¶‰π†","slug":"ÁºñÁ®ãËØ≠Ë®Ä/PythonÂ≠¶‰π†","link":"/categories/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Python%E5%AD%A6%E4%B9%A0/"},{"name":"ÂÆûÊñΩÁª¥Êä§","slug":"ÂÆûÊñΩÁª¥Êä§","link":"/categories/%E5%AE%9E%E6%96%BD%E7%BB%B4%E6%8A%A4/"},{"name":"Êï∞ÊçÆÂ∫ì","slug":"Êï∞ÊçÆÂ∫ì","link":"/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/"},{"name":"ÊúçÂä°Âô®","slug":"ÂÆûÊñΩÁª¥Êä§/ÊúçÂä°Âô®","link":"/categories/%E5%AE%9E%E6%96%BD%E7%BB%B4%E6%8A%A4/%E6%9C%8D%E5%8A%A1%E5%99%A8/"},{"name":"MongoDB","slug":"Êï∞ÊçÆÂ∫ì/MongoDB","link":"/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/MongoDB/"},{"name":"MYSQL‰ºòÂåñ","slug":"Êï∞ÊçÆÂ∫ì/MYSQL‰ºòÂåñ","link":"/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/MYSQL%E4%BC%98%E5%8C%96/"},{"name":"ËÆæËÆ°Ê®°Âºè","slug":"Á®ãÂ∫èÂü∫Á°Ä/ËÆæËÆ°Ê®°Âºè","link":"/categories/%E7%A8%8B%E5%BA%8F%E5%9F%BA%E7%A1%80/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"},{"name":"Linux","slug":"Linux","link":"/categories/Linux/"},{"name":"Redis","slug":"Á®ãÂ∫èÂü∫Á°Ä/Redis","link":"/categories/%E7%A8%8B%E5%BA%8F%E5%9F%BA%E7%A1%80/Redis/"},{"name":"Docker","slug":"Linux/Docker","link":"/categories/Linux/Docker/"},{"name":"ÂâçÁ´Ø","slug":"ÂâçÁ´Ø","link":"/categories/%E5%89%8D%E7%AB%AF/"},{"name":"SpringBoot","slug":"Frame/SpringBoot","link":"/categories/Frame/SpringBoot/"},{"name":"GIS","slug":"ÂâçÁ´Ø/GIS","link":"/categories/%E5%89%8D%E7%AB%AF/GIS/"},{"name":"Â∫ïÂ±ÇÂ≠¶‰π†","slug":"Â∫ïÂ±ÇÂ≠¶‰π†","link":"/categories/%E5%BA%95%E5%B1%82%E5%AD%A6%E4%B9%A0/"},{"name":"JVM ‰∏é‰∏äÂ±ÇÊäÄÊúØ","slug":"Â∫ïÂ±ÇÂ≠¶‰π†/JVM-‰∏é‰∏äÂ±ÇÊäÄÊúØ","link":"/categories/%E5%BA%95%E5%B1%82%E5%AD%A6%E4%B9%A0/JVM-%E4%B8%8E%E4%B8%8A%E5%B1%82%E6%8A%80%E6%9C%AF/"},{"name":"Java","slug":"ÁºñÁ®ãËØ≠Ë®Ä/Java","link":"/categories/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Java/"},{"name":"È°πÁõÆ","slug":"È°πÁõÆ","link":"/categories/%E9%A1%B9%E7%9B%AE/"},{"name":"Ë∞∑Á≤íÂïÜÂüé","slug":"È°πÁõÆ/Ë∞∑Á≤íÂïÜÂüé","link":"/categories/%E9%A1%B9%E7%9B%AE/%E8%B0%B7%E7%B2%92%E5%95%86%E5%9F%8E/"}]}
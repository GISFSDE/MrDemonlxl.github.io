<!doctype html>
<html lang="zh"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta><title>魑魅先生 | 计算机网络 - 魑魅先生</title><link rel="manifest" href="/manifest.json"><meta name="application-name" content="魑魅先生"><meta name="msapplication-TileImage" content="https://gitee.com/mychimei/picture/raw/master/透明头像.png"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-title" content="魑魅先生"><meta name="apple-mobile-web-app-status-bar-style" content="default"><meta description="网络基础"><meta property="og:type" content="blog"><meta property="og:title" content="魑魅先生"><meta property="og:url" content="https://mrdemonlxl.github.io/"><meta property="og:site_name" content="魑魅先生"><meta property="og:description" content="网络基础"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="https://gitee.com/mychimei/picture/raw/master/微信图片_20210131173244.jpg"><meta property="article:published_time" content="2021-02-25T14:10:43.000Z"><meta property="article:modified_time" content="2022-03-23T15:13:05.669Z"><meta property="article:author" content="mrdemonlxl"><meta property="article:tag" content="计算机网络"><meta property="twitter:card" content="summary"><meta property="twitter:image" content="https://gitee.com/mychimei/picture/raw/master/微信图片_20210131173244.jpg"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"http://mrdemonlxl.github.io/2021/02/25/Draft/2021/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/"},"headline":"魑魅先生","image":["https://gitee.com/mychimei/picture/raw/master/webp4.png"],"datePublished":"2021-02-25T14:10:43.000Z","dateModified":"2022-03-23T15:13:05.669Z","author":{"@type":"Person","name":"魑魅先生"},"description":"网络基础"}</script><link rel="canonical" href="http://mrdemonlxl.github.io/2021/02/25/Draft/2021/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/"><link rel="icon" href="https://gitee.com/mychimei/picture/raw/master/透明头像.png"><meta name="referrer" content="no-referrer"><link rel="stylesheet" href="https://cdnjs.loli.net/ajax/libs/font-awesome/5.12.0/css/all.min.css"><link rel="stylesheet" href="https://cdnjs.loli.net/ajax/libs/highlight.js/9.12.0/styles/atom-one-light.min.css"><link rel="stylesheet" href="https://fonts.loli.net/css2?family=Ubuntu:wght@400;600&amp;family=Source+Code+Pro"><link rel="stylesheet" href="/css/default.css"><link rel="stylesheet" href="https://cdnjs.loli.net/ajax/libs/font-awesome/5.12.0/css/all.min.css"><link rel="stylesheet" href="https://fonts.loli.net/css?family=Ubuntu:400,600|Source+Code+Pro|Monda:300,300italic,400,400italic,700,700italic|Roboto Slab:300,300italic,400,400italic,700,700italic|Microsoft YaHei:300,300italic,400,400italic,700,700italic|PT Mono:300,300italic,400,400italic,700,700italic&amp;amp;subset=latin,latin-ext|Inconsolata|Itim|Lobster.css"><script src="https://cdnjs.loli.net/ajax/libs/jquery/3.3.1/jquery.min.js"></script><script src="/js/globalUtils.js"></script><style>body>.footer,body>.navbar,body>.section{opacity:0}</style><!--!--><!--!--><script src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" defer></script><!--!--><link rel="stylesheet" href="https://cdnjs.loli.net/ajax/libs/lightgallery/1.6.8/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdnjs.loli.net/ajax/libs/justifiedGallery/3.7.0/css/justifiedGallery.min.css"><!--!--><!--!--><script src="https://cdnjs.loli.net/ajax/libs/pace/1.0.2/pace.min.js"></script><link rel="stylesheet" href="/live2d/waifu.css"><script type="text/javascript" async src="/live2d/autoload.js"></script><meta name="generator" content="Hexo 5.3.0"></head><body class="is-3-column has-navbar-fixed-top"><nav class="navbar navbar-main is-fixed-top"><div class="container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/"><img src="https://gitee.com/mychimei/picture/raw/master/彩色logo.png" alt="魑魅先生" height="28"></a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item" href="/">首页</a><a class="navbar-item" href="/archives">归档</a><a class="navbar-item" href="/categories">分类</a><a class="navbar-item" href="/tags">标签</a><a class="navbar-item" href="/album">相册</a><a class="navbar-item" href="/friend">友链</a><a class="navbar-item" href="/message">留言</a><a class="navbar-item" href="/self-talking">碎碎念</a><a class="navbar-item" href="/music">音乐</a><a class="navbar-item" href="/media">影音</a><a class="navbar-item" href="/about">关于</a></div><div class="navbar-end"><a class="navbar-item" target="_blank" rel="noopener" title="Join Gitter" href="https://gitter.im/hexo-theme-amazing/community"><i class="fab fa-gitter"></i></a><a class="navbar-item" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/removeif/hexo-theme-amazing"><i class="fab fa-github"></i></a><a class="navbar-item is-hidden-tablet catalogue" title="目录" href="javascript:;"><i class="fas fa-list-ul"></i></a><a class="navbar-item search" title="搜索" href="javascript:;"><i class="fas fa-search"></i></a><a class="navbar-item" id="night-nav" title="Night Mode" href="javascript:;"><i class="fas fa-moon" id="night-icon"></i></a></div></div></div></nav><script type="text/javascript" src="/js/theme-setting.js"></script><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-8-tablet is-8-desktop is-9-widescreen"><!--!--><div class="card"><div class="card-image"><span class="image is-7by3"><img class="fill" src="https://gitee.com/mychimei/picture/raw/master/webp4.png" alt="魑魅先生 | 计算机网络"></span></div><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><i class="far fa-calendar-plus"> </i>2021-02-25  <a class="commentCountImg" href="/2021/02/25/Draft/2021/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/#comment-container"><span class="display-none-class">42a8961fec113fbb2d2df64ae0eb6db5</span><i class="far fa-comment-dots"></i> <span class="commentCount" id="42a8961fec113fbb2d2df64ae0eb6db5">99+</span>  </a><span class="level-item"><i class="far fa-clock"> </i>1 小时  <i class="fas fa-pencil-alt"> </i>12.7 k</span><span class="level-item" id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span>次访问</span></div></div><h1 class="title is-3 is-size-4-mobile">魑魅先生 | 计算机网络</h1><div class="content"><blockquote>
<p>网络基础</p>
</blockquote>
<a id="more"></a>
<h1 id="1.-%E7%BD%91%E7%BB%9C%E5%B1%82%E6%AC%A1%E5%88%92%E5%88%86">1. 网络层次划分</h1>
<img src="https://gitee.com/mychimei/picture/raw/master/work/1691443-20190725094538666-144417181.png" alt="desc" style="zoom: 150%;" />
<p>OSI/RM模型（Open System Interconnection/Reference Model）开放系统互联参考模型</p>
<h1 id="2.-%E7%BD%91%E7%BB%9C%E6%A8%A1%E5%9E%8B">2. 网络模型</h1>
<h2 id="osi%E4%B8%83%E5%B1%82%E7%BD%91%E7%BB%9C%E6%A8%A1%E5%9E%8B" id="OSI七层网络模型">OSI七层网络模型</h2>
<img src="https://gitee.com/mychimei/picture/raw/master/work/u=2615876576,3219199018&fm=253&fmt=auto&app=138&f=JPEG" alt="desc"  />
<img src="https://gitee.com/mychimei/picture/raw/master/work/src=http%253A%252F%252Fimg-blog.csdnimg.cn%252F20201117163922130.png%253Fx-oss-process%253Dimage%252Fwatermark%252Ctype_ZmFuZ3poZW5naGVpdGk%252Cshadow_10%252Ctext_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTc0MjAzMg%253D%253D%252Csize_16%252Ccolor_FFFFFF%252Ct_70%2523pi&refer=http%253A%252F%252Fimg-blog.csdnimg.cn&app=2002&size=f9999,10000&q=a80&n=0&g=0n&fmt=jpeg" alt="desc"  />
<h3 id="1%EF%BC%89%E7%89%A9%E7%90%86%E5%B1%82%EF%BC%88physical-layer%EF%BC%89" id="1）物理层（Physical-Layer）">1）物理层（Physical Layer）</h3>
<p>·    激活、维持、关闭通信端点之间的机械特性、电气特性、功能特性以及过程特性。该层为上层协议提供了一个传输数据的可靠的物理媒体。简单的说，物理层确保原始的数据可在各种物理媒体上传输。两个重要的设备名称，<strong>中继器（Repeater，放大器），集线器</strong>。</p>
<h3 id="2%EF%BC%89%E6%95%B0%E6%8D%AE%E9%93%BE%E8%B7%AF%E5%B1%82%EF%BC%88data-link-layer%EF%BC%89" id="2）数据链路层（Data-Link-Layer）">2）数据链路层（Data Link Layer）</h3>
<p>·    数据链路层在物理层提供的服务的基础上向网络层提供服务，其最基本的服务是将源自网络层来的数据可靠地传输到相邻节点的目标机网络层。为达到这一目的，数据链路必须具备一系列相应的功能，主要有：如何将数据组合成数据块，在数据链路层中称这种数据块为帧（frame），帧是数据链路层的传送单位；如何控制帧在物理信道上的传输，包括如何处理传输差错，如何调节发送速率以使与接收方相匹配；以及在两个网络实体之间提供数据链路通路的建立、维持和释放的管理。数据链路层在不可靠的物理介质上提供可靠的传输。该层的作用包括：物理地址寻址、数据的成帧、流量控制、数据的检错、重发等。</p>
<p>·    有关数据链路层的重要知识点：<br />
1&gt; 数据链路层为网络层提供可靠的数据传输；<br />
2&gt; 基本数据单位为帧；<br />
3&gt; 主要的协议：以太网协议；<br />
4&gt; 两个重要设备名称：<strong>网桥和交换机。</strong></p>
<h3 id="3%EF%BC%89%E7%BD%91%E7%BB%9C%E5%B1%82%EF%BC%88network-layer%EF%BC%89" id="3）网络层（Network-Layer）">3）网络层（Network Layer）</h3>
<p>·    实现两个端系统之间的数据透明传送，具体功能包括寻址和路由选择、连接的建立、保持和终止等。它提供的服务使传输层不需要了解网络中的数据传输和交换技术。如果您想用尽量少的词来记住网络层，那就是&quot;路径选择、路由及逻辑寻址&quot;。网络层中涉及众多的协议，其中包括最重要的协议，也是TCP/IP的核心协议——IP协议。IP协议非常简单，仅仅提供不可靠、无连接的传送服务。IP协议的主要功能有：无连接数据报传输、数据报路由选择和差错控制。与IP协议配套使用实现其功能的还有地址解析协议ARP、逆地址解析协议RARP、因特网报文协议ICMP、因特网组管理协议IGMP。</p>
<p>·    具体的协议我们会在接下来的部分进行总结，有关网络层的重点为：　　<br />
1&gt; 网络层负责对子网间的数据包进行路由选择。此外，网络层还可以实现拥塞控制、网际互连等功能；　　<br />
2&gt; 基本数据单位为IP数据报；　　<br />
3&gt; 包含的主要协议：　　IP协议（Internet Protocol，因特网互联协议）;　　ICMP协议（Internet Control Message Protocol，因特网控制报文协议）;　　ARP协议（Address Resolution Protocol，地址解析协议）;　　RARP协议（Reverse Address Resolution Protocol，逆地址解析协议）。　　<br />
4&gt; 重要的设备：<strong>路由器</strong>。</p>
<h3 id="4%EF%BC%89%E4%BC%A0%E8%BE%93%E5%B1%82%EF%BC%88transport-layer%EF%BC%89" id="4）传输层（Transport-Layer）">4）传输层（Transport Layer）</h3>
<p>·    第一个端到端，即主机到主机的层次。传输层负责将上层数据分段并提供端到端的、可靠的或不可靠的传输。此外，传输层还要处理端到端的差错控制和流量控制问题。 传输层的任务是根据通信子网的特性，最佳的利用网络资源，为两个端系统的会话层之间，提供建立、维护和取消传输连接的功能，负责端到端的可靠数据传输。在这一层，信息传送的协议数据单元称为段或报文。 网络层只是根据网络地址将源结点发出的数据包传送到目的结点，而传输层则负责将数据可靠地传送到相应的端口。</p>
<p>·    重点：<br />
1&gt; 传输层负责将上层数据分段并提供端到端的、可靠的或不可靠的传输以及端到端的差错控制和流量控制问题；<br />
2&gt; 包含的主要协议：TCP协议（Transmission Control Protocol，传输控制协议）、UDP协议（User Datagram Protocol，用户数据报协议）；<br />
3&gt; 重要设备：<strong>网关</strong>。</p>
<h3 id="5%EF%BC%89%E4%BC%9A%E8%AF%9D%E5%B1%82" id="5）会话层">5）会话层</h3>
<p>·    会话层管理主机之间的会话进程，即负责建立、管理、终止进程之间的会话。会话层还利用在数据中插入校验点来实现数据的同步。</p>
<h3 id="6%EF%BC%89%E8%A1%A8%E7%A4%BA%E5%B1%82" id="6）表示层">6）表示层</h3>
<p>·    表示层对上层数据或信息进行变换以保证一个主机应用层信息可以被另一个主机的应用程序理解。表示层的数据转换包括数据的加密、压缩、格式转换等。</p>
<h3 id="7%EF%BC%89%E5%BA%94%E7%94%A8%E5%B1%82" id="7）应用层">7）应用层</h3>
<p>·    为操作系统或网络应用程序提供访问网络服务的接口。</p>
<p>·    会话层、表示层和应用层重点：</p>
<p>·    1&gt; 数据传输基本单位为报文；</p>
<p>·    2&gt; 包含的主要协议：FTP（文件传送协议）、Telnet（远程登录协议）、DNS（域名解析协议）、SMTP（邮件传送协议），POP3协议（邮局协议），HTTP协议（Hyper Text Transfer Protocol）。</p>
<h2 id="tcp%2Fip%E5%9B%9B-(%E4%BA%94)%E5%B1%82%E6%A8%A1%E5%9E%8B" id="TCP-IP四-五-层模型">TCP/IP四 (五)层模型</h2>
<h1 id="3.-ip%E5%9C%B0%E5%9D%80">3. IP地址</h1>
<h2 id="1%EF%BC%89%E7%BD%91%E7%BB%9C%E5%9C%B0%E5%9D%80" id="1）网络地址">1）网络地址</h2>
<p>IP地址由网络号（包括子网号）和主机号组成，网络地址的主机号为全0，网络地址代表着整个网络。</p>
<h2 id="2%EF%BC%89%E5%B9%BF%E6%92%AD%E5%9C%B0%E5%9D%80" id="2）广播地址">2）广播地址</h2>
<p>广播地址通常称为直接广播地址，是为了区分受限广播地址。</p>
<p>广播地址与网络地址的主机号正好相反，广播地址中，主机号为全1。当向某个网络的广播地址发送消息时，该网络内的所有主机都能收到该广播消息。</p>
<h2 id="3%EF%BC%89%E7%BB%84%E6%92%AD%E5%9C%B0%E5%9D%80" id="3）组播地址">3）组播地址</h2>
<p>D类地址就是组播地址。</p>
<p>先回忆下A，B，C，D类地址吧：</p>
<p>A类地址以0开头，第一个字节作为网络号，地址范围为：0.0.0.0~127.255.255.255；(modified @2016.05.31)</p>
<p>B类地址以10开头，前两个字节作为网络号，地址范围是：128.0.0.0~191.255.255.255;</p>
<p>C类地址以110开头，前三个字节作为网络号，地址范围是：192.0.0.0~223.255.255.255。</p>
<p>D类地址以1110开头，地址范围是224.0.0.0~239.255.255.255，D类地址作为组播地址（一对多的通信）；</p>
<p>E类地址以1111开头，地址范围是240.0.0.0~255.255.255.255，E类地址为保留地址，供以后使用。</p>
<p>注：只有A,B,C有网络号和主机号之分，D类地址和E类地址没有划分网络号和主机号。</p>
<h2 id="4%EF%BC%89255.255.255.255" id="4）255-255-255-255">4）255.255.255.255</h2>
<p>该IP地址指的是受限的广播地址。受限广播地址与一般广播地址（直接广播地址）的区别在于，受限广播地址只能用于本地网络，路由器不会转发以受限广播地址为目的地址的分组；一般广播地址既可在本地广播，也可跨网段广播。例如：主机192.168.1.1/30上的直接广播数据包后，另外一个网段192.168.1.5/30也能收到该数据报；若发送受限广播数据报，则不能收到。</p>
<p>注：一般的广播地址（直接广播地址）能够通过某些路由器（当然不是所有的路由器），而受限的广播地址不能通过路由器。</p>
<h2 id="5%EF%BC%890.0.0.0" id="5）0-0-0-0">5）0.0.0.0</h2>
<p>常用于寻找自己的IP地址，例如在我们的RARP，BOOTP和DHCP协议中，若某个未知IP地址的无盘机想要知道自己的IP地址，它就以255.255.255.255为目的地址，向本地范围（具体而言是被各个路由器屏蔽的范围内）的服务器发送IP请求分组。</p>
<h2 id="6%EF%BC%89%E5%9B%9E%E7%8E%AF%E5%9C%B0%E5%9D%80" id="6）回环地址">6）回环地址</h2>
<p>127.0.0.0/8被用作回环地址，回环地址表示本机的地址，常用于对本机的测试，用的最多的是127.0.0.1。</p>
<h2 id="7%EF%BC%89a%E3%80%81b%E3%80%81c%E7%B1%BB%E7%A7%81%E6%9C%89%E5%9C%B0%E5%9D%80" id="7）A、B、C类私有地址">7）A、B、C类私有地址</h2>
<p>私有地址(private address)也叫专用地址，它们不会在全球使用，只具有本地意义。</p>
<p>A类私有地址：10.0.0.0/8，范围是：10.0.0.0~10.255.255.255</p>
<p>B类私有地址：172.16.0.0/12，范围是：172.16.0.0~172.31.255.255</p>
<p>C类私有地址：192.168.0.0/16，范围是：192.168.0.0~192.168.255.255</p>
<h1 id="4.-%E5%AD%90%E7%BD%91%E6%8E%A9%E7%A0%81%E5%8F%8A%E7%BD%91%E7%BB%9C%E5%88%92%E5%88%86">4. 子网掩码及网络划分</h1>
<p>随着互连网应用的不断扩大，原先的IPv4的弊端也逐渐暴露出来，即网络号占位太多，而主机号位太少，所以其能提供的主机地址也越来越稀缺，目前除了使用NAT在企业内部利用保留地址自行分配以外，通常都对一个高类别的IP地址进行再划分，以形成多个子网，提供给不同规模的用户群使用。这里主要是为了在网络分段情况下有效地利用IP地址，通过对主机号的高位部分取作为子网号，从通常的网络位界限中扩展或压缩子网掩码，用来创建某类地址的更多子网。但创建更多的子网时，在每个子网上的可用主机地址数目会比原先减少。什么是子网掩码？子网掩码是标志两个IP地址是否同属于一个子网的，也是32位二进制地址，其每一个为1代表该位是网络位，为0代表主机位。它和IP地址一样也是使用点式十进制来表示的。如果两个IP地址在子网掩码的按位与的计算下所得结果相同，即表明它们共属于同一子网中。在计算子网掩码时，我们要注意IP地址中的保留地址，即&quot; 0&quot;地址和广播地址，它们是指主机地址或网络地址全为&quot; 0&quot;或&quot; 1&quot;时的IP地址，它们代表着本网络地址和广播地址，一般是不能被计算在内的。子网掩码的计算：对于无须再划分成子网的IP地址来说，其子网掩码非常简单，即按照其定义即可写出：如某B类IP地址为 10.12.3.0，无须再分割子网，则该IP地址的子网掩码255.255.0.0。如果它是一个C类地址，则其子网掩码为 255.255.255.0。其它类推，不再详述。下面我们关键要介绍的是一个IP地址，还需要将其高位主机位再作为划分出的子网网络号，剩下的是每个子网的主机号，这时该如何进行每个子网的掩码计算。</p>
<p>下面总结一下有关子网掩码和网络划分常见的面试考题：</p>
<h3 id="1%EF%BC%89%E5%88%A9%E7%94%A8%E5%AD%90%E7%BD%91%E6%95%B0%E6%9D%A5%E8%AE%A1%E7%AE%97" id="1）利用子网数来计算">1）利用子网数来计算</h3>
<p>·    在求子网掩码之前必须先搞清楚要划分的子网数目，以及每个子网内的所需主机数目。(1) 将子网数目转化为二进制来表示;如欲将B类IP地址168.195.0.0划分成27个子网：27=11011；(2) 取得该二进制的位数，为N；该二进制为五位数，N = 5(3) 取得该IP地址的类子网掩码，将其主机地址部分的的前N位置1即得出该IP地址划分子网的子网掩码。将B类地址的子网掩码255.255.0.0的主机地址前5位置 1，得到 255.255.248.0</p>
<h3 id="2%EF%BC%89%E5%88%A9%E7%94%A8%E4%B8%BB%E6%9C%BA%E6%95%B0%E6%9D%A5%E8%AE%A1%E7%AE%97" id="2）利用主机数来计算">2）利用主机数来计算</h3>
<p>·    如欲将B类IP地址168.195.0.0划分成若干子网，每个子网内有主机700台：(1) 将主机数目转化为二进制来表示；700=1010111100(2) 如果主机数小于或等于254（注意去掉保留的两个IP地址），则取得该主机的二进制位数，为N，这里肯定 N&lt;8。如果大于254，则 N&gt;8，这就是说主机地址将占据不止8位；该二进制为十位数，N=10；(3) 使用255.255.255.255来将该类IP地址的主机地址位数全部置1，然后从后向前的将N位全部置为 0，即为子网掩码值。将该B类地址的子网掩码255.255.0.0的主机地址全部置1，得到255.255.255.255，然后再从后向前将后 10位置0,即为：11111111.11111111.11111100.00000000，即255.255.252.0。这就是该欲划分成主机为700台的B类IP地址 168.195.0.0的子网掩码。</p>
<h3 id="3%EF%BC%89%E6%A0%B9%E6%8D%AE%E6%AF%8F%E4%B8%AA%E7%BD%91%E7%BB%9C%E7%9A%84%E4%B8%BB%E6%9C%BA%E6%95%B0%E9%87%8F%E8%BF%9B%E8%A1%8C%E5%AD%90%E7%BD%91%E5%9C%B0%E5%9D%80%E7%9A%84%E8%A7%84%E5%88%92%E5%92%8C%E8%AE%A1%E7%AE%97%E5%AD%90%E7%BD%91%E6%8E%A9%E7%A0%81" id="3）根据每个网络的主机数量进行子网地址的规划和计算子网掩码">3）根据每个网络的主机数量进行子网地址的规划和计算子网掩码</h3>
<p>·    这也可按上述原则进行计算。比如一个子网有10台主机，那么对于这个子网需要的IP地址是：10＋1＋1＋1＝13注意：加的第一个1是指这个网络连接时所需的网关地址，接着的两个1分别是指网络地址和广播地址。因为13小于16（16等于2的4次方），所以主机位为4位。而256－16＝240，所以该子网掩码为255.255.255.240。如果一个子网有14台主机，不少人常犯的错误是：依然分配具有16个地址空间的子网，而忘记了给网关分配地址。这样就错误了，因为14＋1＋1＋1＝17，17大于16，所以我们只能分配具有32个地址（32等于2的5次方）空间的子网。这时子网掩码为：255.255.255.224。</p>
<h1 id="5.-arp%2Frarp%E5%8D%8F%E8%AE%AE">5. ARP/RARP协议</h1>
<p>地址解析协议，即ARP（Address Resolution Protocol），是根据IP地址获取物理地址的一个TCP/IP协议。主机发送信息时将包含目标IP地址的ARP请求广播到网络上的所有主机，并接收返回消息，以此确定目标的物理地址；收到返回消息后将该IP地址和物理地址存入本机ARP缓存中并保留一定时间，下次请求时直接查询ARP缓存以节约资源。地址解析协议是建立在网络中各个主机互相信任的基础上的，网络上的主机可以自主发送ARP应答消息，其他主机收到应答报文时不会检测该报文的真实性就会将其记入本机ARP缓存；由此攻击者就可以向某一主机发送伪ARP应答报文，使其发送的信息无法到达预期的主机或到达错误的主机，这就构成了一个ARP欺骗。ARP命令可用于查询本机ARP缓存中IP地址和MAC地址的对应关系、添加或删除静态对应关系等。</p>
<p>ARP工作流程举例：</p>
<p>主机A的IP地址为192.168.1.1，MAC地址为0A-11-22-33-44-01；</p>
<p>主机B的IP地址为192.168.1.2，MAC地址为0A-11-22-33-44-02；</p>
<p>当主机A要与主机B通信时，地址解析协议可以将主机B的IP地址（192.168.1.2）解析成主机B的MAC地址，以下为工作流程：</p>
<p>·    （1）根据主机A上的路由表内容，IP确定用于访问主机B的转发IP地址是192.168.1.2。然后A主机在自己的本地ARP缓存中检查主机B的匹配MAC地址。</p>
<p>·    （2）如果主机A在ARP缓存中没有找到映射，它将询问192.168.1.2的硬件地址，从而将ARP请求帧广播到本地网络上的所有主机。源主机A的IP地址和MAC地址都包括在ARP请求中。本地网络上的每台主机都接收到ARP请求并且检查是否与自己的IP地址匹配。如果主机发现请求的IP地址与自己的IP地址不匹配，它将丢弃ARP请求。</p>
<p>·    （3）主机B确定ARP请求中的IP地址与自己的IP地址匹配，则将主机A的IP地址和MAC地址映射添加到本地ARP缓存中。</p>
<p>·    （4）主机B将包含其MAC地址的ARP回复消息直接发送回主机A。</p>
<p>·    （5）当主机A收到从主机B发来的ARP回复消息时，会用主机B的IP和MAC地址映射更新ARP缓存。本机缓存是有生存期的，生存期结束后，将再次重复上面的过程。主机B的MAC地址一旦确定，主机A就能向主机B发送IP通信了。</p>
<p>逆地址解析协议，即RARP，功能和ARP协议相对，其将局域网中某个主机的物理地址转换为IP地址，比如局域网中有一台主机只知道物理地址而不知道IP地址，那么可以通过RARP协议发出征求自身IP地址的广播请求，然后由RARP服务器负责回答。</p>
<p>RARP协议工作流程：</p>
<p>·    （1）给主机发送一个本地的RARP广播，在此广播包中，声明自己的MAC地址并且请求任何收到此请求的RARP服务器分配一个IP地址；</p>
<p>·    （2）本地网段上的RARP服务器收到此请求后，检查其RARP列表，查找该MAC地址对应的IP地址；</p>
<p>·    （3）如果存在，RARP服务器就给源主机发送一个响应数据包并将此IP地址提供给对方主机使用；</p>
<p>·    （4）如果不存在，RARP服务器对此不做任何的响应；</p>
<h1 id="6.-%E8%B7%AF%E7%94%B1%E9%80%89%E6%8B%A9%E5%8D%8F%E8%AE%AE">6. 路由选择协议</h1>
<p>常见的路由选择协议有：RIP协议、OSPF协议。RIP协议 ：底层是贝尔曼福特算法，它选择路由的度量标准（metric)是跳数，最大跳数是15跳，如果大于15跳，它就会丢弃数据包。OSPF协议 ：Open Shortest Path First开放式最短路径优先，底层是迪杰斯特拉算法，是链路状态路由选择协议，它选择路由的度量标准是带宽，延迟。</p>
<h1 id="7.-tcp%2Fip%E5%8D%8F%E8%AE%AE">7. TCP/IP协议</h1>
<p>TCP/IP协议是Internet最基本的协议、Internet国际互联网络的基础，由网络层的IP协议和传输层的TCP协议组成。通俗而言：TCP负责发现传输的问题，一有问题就发出信号，要求重新传输，直到所有数据安全正确地传输到目的地。而IP是给因特网的每一台联网设备规定一个地址。IP层接收由更低层（网络接口层例如以太网设备驱动程序）发来的数据包，并把该数据包发送到更高层---TCP或UDP层；相反，IP层也把从TCP或UDP层接收来的数据包传送到更低层。IP数据包是不可靠的，因为IP并没有做任何事情来确认数据包是否按顺序发送的或者有没有被破坏，IP数据包中含有发送它的主机的地址（源地址）和接收它的主机的地址（目的地址）。TCP是面向连接的通信协议，通过三次握手建立连接，通讯完成时要拆除连接，由于TCP是面向连接的所以只能用于端到端的通讯。TCP提供的是一种可靠的数据流服务，采用&quot;带重传的肯定确认&quot;技术来实现传输的可靠性。TCP还采用一种称为&quot;滑动窗口&quot;的方式进行流量控制，所谓窗口实际表示接收能力，用以限制发送方的发送速度。</p>
<p>TCP报文首部格式：件）、HTTP协议等。</p>
<img src="https://gitee.com/mychimei/picture/raw/master/clip_image006.png" alt="desc" style="zoom: 150%;" />
<p>TCP协议的三次握手和四次挥手：　　注：seq:&quot;sequance&quot;序列号；ack:&quot;acknowledge&quot;确认号；SYN:&quot;synchronize&quot;请求同步标志；；ACK:&quot;acknowledge&quot;确认标志&quot;；FIN：&quot;Finally&quot;结束标志。</p>
<p><img src="https://gitee.com/mychimei/picture/raw/master/work/image-20220302191407630.png" alt="image-20220302191407630" /></p>
<p>TCP连接建立过程：首先Client端发送连接请求报文，Server段接受连接后回复ACK报文，并为这次连接分配资源。Client端接收到ACK报文后也向Server段发生ACK报文，并分配资源，这样TCP连接就建立了。TCP连接断开过程：假设Client端发起中断连接请求，也就是发送FIN报文。Server端接到FIN报文后，意思是说&quot;我Client端没有数据要发给你了&quot;，但是如果你还有数据没有发送完成，则不必急着关闭Socket，可以继续发送数据。所以你先发送ACK，&quot;告诉Client端，你的请求我收到了，但是我还没准备好，请继续你等我的消息&quot;。这个时候Client端就进入FIN_WAIT状态，继续等待Server端的FIN报文。当Server端确定数据已发送完成，则向Client端发送FIN报文，&quot;告诉Client端，好了，我这边数据发完了，准备好关闭连接了&quot;。Client端收到FIN报文后，&quot;就知道可以关闭连接了，但是他还是不相信网络，怕Server端不知道要关闭，所以发送ACK后进入TIME_WAIT状态，如果Server端没有收到ACK则可以重传。&quot;，Server端收到ACK后，&quot;就知道可以断开连接了&quot;。Client端等待了2MSL后依然没有收到回复，则证明Server端已正常关闭，那好，我Client端也可以关闭连接了。Ok，TCP连接就这样关闭了！为什么要三次握手？在只有两次&quot;握手&quot;的情形下，假设Client想跟Server建立连接，但是却因为中途连接请求的数据报丢失了，故Client端不得不重新发送一遍；这个时候Server端仅收到一个连接请求，因此可以正常的建立连接。但是，有时候Client端重新发送请求不是因为数据报丢失了，而是有可能数据传输过程因为网络并发量很大在某结点被阻塞了，这种情形下Server端将先后收到2次请求，并持续等待两个Client请求向他发送数据...问题就在这里，Cient端实际上只有一次请求，而Server端却有2个响应，极端的情况可能由于Client端多次重新发送请求数据而导致Server端最后建立了N多个响应在等待，因而造成极大的资源浪费！所以，&quot;三次握手&quot;很有必要！为什么要四次挥手？试想一下，假如现在你是客户端你想断开跟Server的所有连接该怎么做？第一步，你自己先停止向Server端发送数据，并等待Server的回复。但事情还没有完，虽然你自身不往Server发送数据了，但是因为你们之前已经建立好平等的连接了，所以此时他也有主动权向你发送数据；故Server端还得终止主动向你发送数据，并等待你的确认。其实，说白了就是保证双方的一个合约的完整执行！使用TCP的协议：FTP（文件传输协议）、Telnet（远程登录协议）、SMTP（简单邮件传输协议）、POP3（和SMTP相对，用于接收邮</p>
<h1 id="8.-udp%E5%8D%8F%E8%AE%AE">8. UDP协议</h1>
<p>UDP用户数据报协议，是面向无连接的通讯协议，UDP数据包括目的端口号和源端口号信息，由于通讯不需要连接，所以可以实现广播发送。UDP通讯时不需要接收方确认，属于不可靠的传输，可能会出现丢包现象，实际应用中要求程序员编程验证。UDP与TCP位于同一层，但它不管数据包的顺序、错误或重发。因此，UDP不被应用于那些使用虚电路的面向连接的服务，UDP主要用于那些面向查询---应答的服务，例如NFS。相对于FTP或Telnet，这些服务需要交换的信息量较小。每个UDP报文分UDP报头和UDP数据区两部分。报头由四个16位长（2字节）字段组成，分别说明该报文的源端口、目的端口、报文长度以及校验值。UDP报头由4个域组成，其中每个域各占用2个字节，具体如下：（1）源端口号；（2）目标端口号；（3）数据报长度；（4）校验值。使用UDP协议包括：TFTP（简单文件传输协议）、SNMP（简单网络管理协议）、DNS（域名解析协议）、NFS、BOOTP。TCP 与 UDP 的区别：TCP是面向连接的，可靠的字节流服务；UDP是面向无连接的，不可靠的数据报服务。</p>
<h1 id="9.-dns%E5%8D%8F%E8%AE%AE">9. DNS协议</h1>
<p>DNS是域名系统(DomainNameSystem)的缩写，该系统用于命名组织到域层次结构中的计算机和网络服务，可以简单地理解为将URL转换为IP地址。域名是由圆点分开一串单词或缩写组成的，每一个域名都对应一个惟一的IP地址，在Internet上域名与IP地址之间是一一对应的，DNS就是进行域名解析的服务器。DNS命名用于Internet等TCP/IP网络中，通过用户友好的名称查找计算机和服务。</p>
<h1 id="10.-nat%E5%8D%8F%E8%AE%AE">10. NAT协议</h1>
<p>NAT网络地址转换(Network Address Translation)属接入广域网(WAN)技术，是一种将私有（保留）地址转化为合法IP地址的转换技术，它被广泛应用于各种类型Internet接入方式和各种类型的网络中。原因很简单，NAT不仅完美地解决了lP地址不足的问题，而且还能够有效地避免来自网络外部的攻击，隐藏并保护网络内部的计算机。</p>
<h1 id="11.-dhcp%E5%8D%8F%E8%AE%AE">11. DHCP协议</h1>
<p>DHCP动态主机设置协议（Dynamic Host Configuration Protocol）是一个局域网的网络协议，使用UDP协议工作，主要有两个用途：给内部网络或网络服务供应商自动分配IP地址，给用户或者内部网络管理员作为对所有计算机作中央管理的手段。</p>
<h1 id="12.-http%E5%8D%8F%E8%AE%AE">12. HTTP协议</h1>
<p>超文本传输协议（HTTP，HyperText Transfer Protocol)是互联网上应用最为广泛的一种网络协议。所有的WWW文件都必须遵守这个标准。</p>
<h2 id="http-%E5%8D%8F%E8%AE%AE%E5%8C%85%E6%8B%AC%E5%93%AA%E4%BA%9B%E8%AF%B7%E6%B1%82%EF%BC%9F" id="HTTP-协议包括哪些请求？">HTTP 协议包括哪些请求？</h2>
<p>GET：请求读取由URL所标志的信息。<br />
POST：给服务器添加信息（如注释）。<br />
PUT：在给定的URL下存储一个文档。<br />
DELETE：删除给定的URL所标志的资源。　　<br />
HTTP 中， POST 与 GET 的区别<br />
1）Get是从服务器上获取数据，Post是向服务器传送数据。<br />
2）Get是把参数数据队列加到提交表单的Action属性所指向的URL中，值和表单内各个字段一一对应，在URL中可以看到。<br />
3）Get传送的数据量小，不能大于2KB；Post传送的数据量较大，一般被默认为不受限制。<br />
4）根据HTTP规范，GET用于信息获取，而且应该是安全的和幂等的。<br />
I. 所谓 安全的 意味着该操作用于获取信息而非修改信息。换句话说，GET请求一般不应产生副作用。就是说，它仅仅是获取资源信息，就像数据库查询一样，不会修改，增加数据，不会影响资源的状态。<br />
II. 幂等 的意味着对同一URL的多个请求应该返回同样的结果。</p>
<h2 id="http-%E5%8D%8F%E8%AE%AE%E7%9A%84-8-%E7%A7%8D%E8%AF%B7%E6%B1%82%E7%B1%BB%E5%9E%8B%E4%BB%8B%E7%BB%8D" id="HTTP-协议的-8-种请求类型介绍">HTTP 协议的 8 种请求类型介绍</h2>
<p>HTTP 协议中共定义了八种方法或者叫“动作”来表明对 Request-URI 指定的资源的不同操作方式，具体介绍如下：</p>
<ul>
<li><strong>OPTIONS</strong>：返回服务器针对特定资源所支持的HTTP请求方法。也可以利用向Web服务器发送'*'的请求来测试服务器的功能性。</li>
<li><strong>HEAD</strong>：向服务器索要与GET请求相一致的响应，只不过响应体将不会被返回。这一方法可以在不必传输整个响应内容的情况下，就可以获取包含在响应消息头中的元信息。</li>
<li><strong>GET</strong>：向特定的资源发出请求。</li>
<li><strong>POST</strong>：向指定资源提交数据进行处理请求（例如提交表单或者上传文件）。数据被包含在请求体中。POST请求可能会导致新的资源的创建和/或已有资源的修改。</li>
<li><strong>PUT</strong>：向指定资源位置上传其最新内容。</li>
<li><strong>DELETE</strong>：请求服务器删除 Request-URI 所标识的资源。</li>
<li><strong>TRACE</strong>：回显服务器收到的请求，主要用于测试或诊断。</li>
<li><strong>CONNECT</strong>：HTTP/1.1 协议中预留给能够将连接改为管道方式的代理服务器。</li>
</ul>
<p>虽然 HTTP 的请求方式有 8 种，但是我们在实际应用中常用的也就是 <strong>get</strong> 和 <strong>post</strong>，其他请求方式也都可以通过这两种方式间接的来实现。</p>
<h2 id="%E7%BD%91%E7%BB%9C%E5%B8%B8%E7%94%A8%E5%8F%82%E6%95%B0" id="网络常用参数">网络常用参数</h2>
<h3 id="content-type" id="Content-Type">Content-Type</h3>
<p>格式：Content-Type：type/subtype ;parameter</p>
<ul>
<li>type：主类型，任意的字符串，如text，如果是*号代表所有；</li>
<li>subtype：子类型，任意的字符串，如html，如果是*号代表所有，用“/”与主类型隔开；</li>
<li>parameter：可选参数，如charset，boundary等。</li>
</ul>
<p>参考：<a target="_blank" rel="noopener" href="https://www.runoob.com/http/http-content-type.html">1</a>、<a target="_blank" rel="noopener" href="https://blog.csdn.net/qq_14869093/article/details/86307084">2</a></p>
<h4 id="%E5%B8%B8%E8%A7%81%E7%9A%84%E5%AA%92%E4%BD%93%E6%A0%BC%E5%BC%8F%E7%B1%BB%E5%9E%8B%E5%A6%82%E4%B8%8B%EF%BC%9A" id="常见的媒体格式类型如下：">常见的媒体格式类型如下：</h4>
<ul>
<li>text/html ： HTML格式</li>
<li>text/plain ：纯文本格式</li>
<li>text/xml ： XML格式</li>
<li>image/gif ：gif图片格式</li>
<li>image/jpeg ：jpg图片格式</li>
<li>image/png：png图片格式</li>
</ul>
<h4 id="%E4%BB%A5application%E5%BC%80%E5%A4%B4%E7%9A%84%E5%AA%92%E4%BD%93%E6%A0%BC%E5%BC%8F%E7%B1%BB%E5%9E%8B%EF%BC%9A" id="以application开头的媒体格式类型：">以application开头的媒体格式类型：</h4>
<ul>
<li>application/xhtml+xml ：XHTML格式</li>
<li>application/xml： XML数据格式</li>
<li>application/atom+xml ：Atom XML聚合格式</li>
<li><strong>application/json</strong>： JSON数据格式</li>
<li>application/pdf：pdf格式</li>
<li>application/msword ： Word文档格式</li>
<li>application/octet-stream ： 二进制流数据（如常见的文件下载）</li>
<li><strong>application/x-www-form-urlencoded</strong> ： &lt;-form encType=&quot;&quot;&gt;中默认的encType，form表单数据被编码为<strong>key1=val1&amp;key2=val2</strong>格式发送到服务器（表单<strong>默认</strong>的提交数据的格式）</li>
</ul>
<h4 id="%E5%8F%A6%E5%A4%96%E4%B8%80%E7%A7%8D%E5%B8%B8%E8%A7%81%E7%9A%84%E5%AA%92%E4%BD%93%E6%A0%BC%E5%BC%8F%E6%98%AF%E4%B8%8A%E4%BC%A0%E6%96%87%E4%BB%B6%E4%B9%8B%E6%97%B6%E4%BD%BF%E7%94%A8%E7%9A%84%EF%BC%9A" id="另外一种常见的媒体格式是上传文件之时使用的：">另外一种常见的媒体格式是上传文件之时使用的：</h4>
<ul>
<li><strong>multipart/form-data</strong> ： 需要在<strong>表单中进行文件上传</strong>时，就需要使用该格式</li>
</ul>
<h1 id="13.-%E4%B8%80%E4%B8%AA%E4%B8%BE%E4%BE%8B">13. 一个举例</h1>
<p>在浏览器中输入 <a target="_blank" rel="noopener" href="http://www.baidu.com/">http://www.baidu.com/</a> 后执行的全部过程。现在假设如果我们在客户端（客户端）浏览器中输入 <a target="_blank" rel="noopener" href="http://www.baidu.com">http://www.baidu.com</a>， 而 <a target="_blank" rel="noopener" href="http://baidu.com">baidu.com</a> 为要访问的服务器（服务器），下面详细分析客户端为了访问服务器而执行的一系列关于协议的操作：1）客户端浏览器通过DNS解析到www.baidu.com的IP地址220.181.27.48，通过这个IP地址找到客户端到服务器的路径。客户端浏览器发起一个HTTP会话到220.161.27.48，然后通过TCP进行封装数据包，输入到网络层。2）在客户端的传输层，把HTTP会话请求分成报文段，添加源和目的端口，如服务器使用80端口监听客户端的请求，客户端由系统随机选择一个端口如5000，与服务器进行交换，服务器把相应的请求返回给客户端的5000端口。然后使用IP层的IP地址查找目的端。3）客户端的网络层不用关系应用层或者传输层的东西，主要做的是通过查找路由表确定如何到达服务器，期间可能经过多个路由器，这些都是由路由器来完成的工作，不作过多的描述，无非就是通过查找路由表决定通过那个路径到达服务器。4）客户端的链路层，包通过链路层发送到路由器，通过邻居协议查找给定IP地址的MAC地址，然后发送ARP请求查找目的地址，如果得到回应后就可以使用ARP的请求应答交换的IP数据包现在就可以传输了，然后发送IP数据包到达服务器的地址。</p>
<h1 id="14.tcp%E4%B8%89%E6%AC%A1%E6%8F%A1%E6%89%8B%2F%E5%9B%9B%E6%AC%A1%E6%8C%A5%E6%89%8B">14.<a target="_blank" rel="noopener" href="https://www.zhihu.com/question/271701044/answer/1808988570">TCP三次握手/四次挥手</a></h1>
<h2 id="tcp" id="TCP">TCP</h2>
<ul>
<li><strong>TCP头部为20字节</strong></li>
<li>源端口号（16位）和目的端口号（16位）：再加上Ip首部的源IP地址和目的IP地址可以唯一确定一个TCP连接</li>
<li>数据序号（16位）：表示在这个报文段中的第一个<a target="_blank" rel="noopener" href="https://www.zhihu.com/search?q=%E6%95%B0%E6%8D%AE%E5%AD%97%E8%8A%82&amp;search_source=Entity&amp;hybrid_search_source=Entity&amp;hybrid_search_extra=%7B%22sourceType%22%3A%22answer%22%2C%22sourceId%22%3A1808988570%7D">数据字节</a>序号</li>
<li>确认序号：仅当ACK标志为1时有效，确认号表示期望收到的下一个字节的序号</li>
<li>偏移：就是头部长度，有4位，跟IP头部一样，以4字节为单位。最大是60个字节</li>
<li>保留位：6位，必须为0</li>
<li>6个标志位：URG-紧急指针有效；ACK-确认序号有效；PSH-接收方应尽快将这个报文交给应用层；RST-连接重置；SYN-同步序号用来发起一个连接；FIN-终止一个连接。</li>
<li>窗口字段：16位，代表的是窗口的字节容量，也就是TCP的标准窗口最大为2^16 - 1 = 65535个字节</li>
<li>校验和：源机器基于数据内容计算一个数值，收信息机要与源机器数值结果完全一样，从而证明数据的有效性。检验和覆盖了整个的TCP报文段：这是一个强制性的字段，一定是由发送端计算和存储，并由接收端进行验证的。</li>
</ul>
<p><img src="https://gitee.com/mychimei/picture/raw/master/work/v2-6687ad69e348accc2be31ba7dfca0ae4_720w.jpg" alt="img" /></p>
<h2 id="tcp-%E4%B8%89%E6%AC%A1%E6%8F%A1%E6%89%8B" id="TCP-三次握手">TCP 三次握手</h2>
<p><img src="https://gitee.com/mychimei/picture/raw/master/861fa058f2da35f8efa70b29bf7c45fd8689.gif" alt="" /></p>
<p>为了<strong>保证数据能到达目标</strong>，TCP采用三次握手策略。</p>
<ol>
<li>发送端<strong>首先发送一个带SYN（synchronize）标志的数据包</strong>给接收方【<strong>第一次的seq序列号是随机产生的</strong>，这样是为了<strong>网络安全</strong>，如果不是随机产生初始序列号，黑客将会以很容易的方式获取到你与其他主机之间的初始化序列号，并且伪造序列号进行攻击】</li>
<li>接收端收到后，<strong>回传一个带有SYN/ACK（acknowledgement）标志的数据包</strong>以示传达确认信息【<strong>SYN 是为了告诉发送端，发送方到接收方的通道没问题</strong>；<strong>ACK 用来验证接收方到发送方的通道没问题</strong>】</li>
<li>最后，<strong>发送端再回传一个带ACK标志的数据包</strong>，代表握手结束<br />
若在握手某个过程中某个阶段莫名中断，TCP协议会再次以相同的顺序发送相同的数据包</li>
</ol>
<h3 id="q%EF%BC%9A%E4%B8%BA%E4%BB%80%E4%B9%88%E8%A6%81%E4%B8%89%E6%AC%A1%E6%8F%A1%E6%89%8B%EF%BC%9F" id="Q：为什么要三次握手？">Q：为什么要三次握手？</h3>
<p>三次握手的目的是建立可靠的通信信道，说到通讯，简单来说就是数据的发送与接收，而<strong>三次握手最主要的目的就是双方确认自己与对方的发送与接收是正常的</strong></p>
<ol>
<li>第一次握手，发送端：什么都确认不了；<a target="_blank" rel="noopener" href="https://www.zhihu.com/search?q=%E6%8E%A5%E6%94%B6%E7%AB%AF&amp;search_source=Entity&amp;hybrid_search_source=Entity&amp;hybrid_search_extra=%7B%22sourceType%22%3A%22answer%22%2C%22sourceId%22%3A1808988570%7D">接收端</a>：<strong>对方发送正常，自己接受正常</strong></li>
<li>第二次握手，发送端：<strong>对方发送，接受正常，自己发送，接受正常</strong> ；接收端：对方发送正常，自己接受正常</li>
<li>第三次握手，发送端：对方发送，接受正常，自己发送，接受正常；接收端：<strong>对方发送</strong>，<strong>接受正常</strong>，<strong>自己发送</strong>，<strong>接受正常</strong></li>
</ol>
<h3 id="q%EF%BC%9A%E4%B8%A4%E6%AC%A1%E6%8F%A1%E6%89%8B%E4%B8%8D%E8%A1%8C%E5%90%97%EF%BC%9F%E4%B8%BA%E4%BB%80%E4%B9%88tcp%E5%AE%A2%E6%88%B7%E7%AB%AF%E6%9C%80%E5%90%8E%E8%BF%98%E8%A6%81%E5%8F%91%E9%80%81%E4%B8%80%E6%AC%A1%E7%A1%AE%E8%AE%A4%E5%91%A2%EF%BC%9F" id="Q：两次握手不行吗？为什么TCP客户端最后还要发送一次确认呢？">Q：两次握手不行吗？为什么TCP客户端最后还要发送一次确认呢？</h3>
<p>主要防止已经失效的连接请求报文突然又传送到了服务器，从而产生错误。<br />
经典场景：<strong>客户端发送了第一个请求连接并且没有丢失，只是因为在网络结点中滞留的时间太长了</strong></p>
<ul>
<li>由于TCP的客户端迟迟没有收到确认报文，以为服务器没有收到，此时重新向服务器发送这条报文，此后客户端和服务器经过两次握手完成连接，传输数据，然后关闭连接。</li>
<li>此时此前滞留的那一次请求连接，网络通畅了到达服务器，这个报文本该是失效的，但是，两次握手的机制将会让客户端和服务器再次建立连接，这将导致不必要的错误和资源的浪费。</li>
<li>如果采用的是三次握手，就算是那一次失效的报文传送过来了，服务端接受到了那条失效报文并且回复了确认报文，但是客户端不会再次发出确认。由于服务器收不到确认，就知道客户端并没有请求连接。</li>
</ul>
<h3 id="q%EF%BC%9A%E4%B8%BA%E4%BB%80%E4%B9%88%E4%B8%89%E6%AC%A1%E6%8F%A1%E6%89%8B%EF%BC%8C%E8%BF%94%E5%9B%9E%E6%97%B6%EF%BC%8Cack-%E5%80%BC%E6%98%AF-seq-%E5%8A%A0-1%EF%BC%88ack-%3D-x%2B1%EF%BC%89" id="Q：为什么三次握手，返回时，ack-值是-seq-加-1（ack-x-1）">Q：为什么三次握手，返回时，ack 值是 seq 加 1（ack = x+1）</h3>
<ul>
<li>假设对方接收到数据，比如sequence number = 1000，TCP Payload = 1000，数据第一个字节编号为1000，最后一个为1999，<strong>回应一个确认报文，确认号为2000，意味着编号2000前的字节接收完成，准备接收编号为2000及更多的数据</strong></li>
<li>确认收到的序列，并且告诉发送端下一次发送的<a target="_blank" rel="noopener" href="https://www.zhihu.com/search?q=%E5%BA%8F%E5%88%97%E5%8F%B7&amp;search_source=Entity&amp;hybrid_search_source=Entity&amp;hybrid_search_extra=%7B%22sourceType%22%3A%22answer%22%2C%22sourceId%22%3A1808988570%7D">序列号</a>从哪里开始（便于接收方对数据排序，便于选择<a target="_blank" rel="noopener" href="https://www.zhihu.com/search?q=%E9%87%8D%E4%BC%A0&amp;search_source=Entity&amp;hybrid_search_source=Entity&amp;hybrid_search_extra=%7B%22sourceType%22%3A%22answer%22%2C%22sourceId%22%3A1808988570%7D">重传</a>）</li>
</ul>
<h3 id="q%EF%BC%9Asyn%E6%B4%AA%E6%B3%9B%E6%94%BB%E5%87%BB(syn-flood%EF%BC%8C%E5%8D%8A%E5%BC%80%E6%94%BE%E6%94%BB%E5%87%BB)%EF%BC%8C%E6%80%8E%E4%B9%88%E8%A7%A3%E5%86%B3%EF%BC%9F" id="Q：SYN洪泛攻击-SYN-Flood，半开放攻击-，怎么解决？">Q：SYN洪泛攻击(SYN Flood，半开放攻击)，怎么解决？</h3>
<ul>
<li>
<p>什么是SYN洪范泛攻击？</p>
</li>
<li>
<ul>
<li>SYN Flood利用TCP协议缺陷，发送大量伪造的TCP连接请求，常用假冒的IP或IP号段发来海量的<strong>请求连接的第一个握手包（SYN包）</strong>，被攻击服务器回应第二个握手包（SYN+ACK包），因为对方是假冒IP，对方永远收不到包且不会回应第三个握手包。<strong>导致被攻击服务器保持大量SYN_RECV状态的“半连接”</strong>，并且会重试默认5次回应第二个握手包，<strong>大量随机的恶意syn占满了未完成连接队列，导致正常合法的syn排不上队列，让正常的业务请求连接不进来</strong>。【服务器端的资源分配是在二次握手时分配的，而客户端的资源是在完成三次握手时分配的，所以服务器容易受到SYN洪泛攻击】</li>
</ul>
</li>
<li>
<p>检测 SYN 攻击非常的方便，<strong>当你在服务器上看到大量的半连接状态时，特别是源IP地址是随机的，基本上可以断定这是一次SYN攻击</strong>【在 Linux/Unix 上可以使用系统自带的 netstats 命令来检测 SYN 攻击】</p>
</li>
<li>
<p>怎么解决？</p>
</li>
<li>
<ul>
<li>缩短超时（SYN Timeout）时间</li>
<li>增加最大半<a target="_blank" rel="noopener" href="https://www.zhihu.com/search?q=%E8%BF%9E%E6%8E%A5%E6%95%B0&amp;search_source=Entity&amp;hybrid_search_source=Entity&amp;hybrid_search_extra=%7B%22sourceType%22%3A%22answer%22%2C%22sourceId%22%3A1808988570%7D">连接数</a></li>
<li>过滤网关防护</li>
<li><strong>SYN cookies技术</strong>：</li>
</ul>
</li>
</ul>
<ol>
<li><strong>当服务器接受到 SYN 报文段时，不直接为该 TCP 分配资源</strong>，而只是打开一个半开的套接字。接着会使用 SYN 报文段的源 Id，目的 Id，端口号以及只有服务器自己知道的一个秘密函数<strong>生成一个 cookie，并把 cookie 作为序列号响应给客户端</strong>。</li>
<li><strong>如果客户端是正常建立连接，将会返回一个确认字段为 cookie + 1 的报文段</strong>。接下来服务器会根据确认报文的源 Id，目的 Id，端口号以及秘密函数计算出一个结果，<strong>如果结果的值 + 1 等于确认字段的值，则证明是刚刚请求连接的客户端，这时候才为该 TCP 分配资源</strong></li>
</ol>
<h3 id="q%EF%BC%9Atcp%E4%B8%89%E6%AC%A1%E6%8F%A1%E6%89%8B%E4%B8%AD%EF%BC%8C%E6%9C%80%E5%90%8E%E4%B8%80%E6%AC%A1%E5%9B%9E%E5%A4%8D%E4%B8%A2%E5%A4%B1%EF%BC%8C%E4%BC%9A%E5%8F%91%E7%94%9F%E4%BB%80%E4%B9%88%EF%BC%9F" id="Q：TCP三次握手中，最后一次回复丢失，会发生什么？">Q：TCP三次握手中，最后一次回复丢失，会发生什么？</h3>
<ul>
<li>如果最后一次ACK在网络中丢失，那么<strong>Server端（服务端）该TCP连接的状态仍为SYN_RECV</strong>，并且<strong>根据 TCP的超时重传机制依次等待3秒、6秒、12秒后重新发送 SYN+ACK 包</strong>，以便 <strong>Client（客户端）重新发送ACK包</strong></li>
<li><strong>如果重发指定次数后，仍然未收到ACK应答</strong>，那么一段时间后，<strong>Server（服务端）自动关闭这个连接</strong></li>
<li><strong>但是Client（客户端）认为这个连接已经建立</strong>，如果Client（客户端）端向Server（服务端）发送数据，<strong>Server端（服务端）将以RST包（Reset，标示复位，用于异常的关闭连接）响应</strong>，此时，<strong>客户端知道第三次握手失败</strong></li>
</ul>
<h2 id="tcp%E5%9B%9B%E6%AC%A1%E6%8C%A5%E6%89%8B" id="TCP四次挥手">TCP四次挥手</h2>
<ol>
<li>主动断开方（客户端/服务端）-发送一个 FIN，用来关闭主动断开方（客户端/服务端）到被动断开方（客户端/服务端）的数据传送</li>
<li>被动断开方（客户端/服务端）-收到这个 FIN，它发回一 个 ACK，确认序号为收到的序号加1 。和 SYN 一样，一个 FIN 将占用一个序号</li>
<li>被动点开方（客户端/<a target="_blank" rel="noopener" href="https://www.zhihu.com/search?q=%E6%9C%8D%E5%8A%A1%E7%AB%AF&amp;search_source=Entity&amp;hybrid_search_source=Entity&amp;hybrid_search_extra=%7B%22sourceType%22%3A%22answer%22%2C%22sourceId%22%3A1808988570%7D">服务端</a>）-关闭与主动断开方（客户端/服务端）的连接，发送一个FIN给主动断开方（客户端/服务端）</li>
<li>主动断开方（客户端/服务端）-发回 ACK 报文确认，并将确认序号设置为收到序号加1</li>
</ol>
<h3 id="q%EF%BC%9A%E4%B8%BA%E4%BB%80%E4%B9%88%E8%BF%9E%E6%8E%A5%E7%9A%84%E6%97%B6%E5%80%99%E6%98%AF%E4%B8%89%E6%AC%A1%E6%8F%A1%E6%89%8B%EF%BC%8C%E5%85%B3%E9%97%AD%E7%9A%84%E6%97%B6%E5%80%99%E5%8D%B4%E6%98%AF%E5%9B%9B%E6%AC%A1%E6%8F%A1%E6%89%8B%EF%BC%9F" id="Q：为什么连接的时候是三次握手，关闭的时候却是四次握手？">Q：为什么连接的时候是三次握手，关闭的时候却是四次握手？</h3>
<ul>
<li>建立连接的时候， 服务器在LISTEN状态下，收到建立连接请求的SYN报文后，把<strong>ACK和SYN放在一个报文里</strong>发送给客户端。</li>
<li>关闭连接时，服务器收到对方的FIN报文时，仅仅表示对方不再发送数据了但是还能接收数据，而自己也未必全部数据都发送给对方了,所以服务器可以立即关闭，也可以发送一些数据给对方后，再发送FIN报文给对方来表示同意现在关闭连接。因此，服务器<strong>ACK和FIN一般都会分开发送</strong>，从而导致多了一次。</li>
</ul>
<h3 id="q%EF%BC%9A%E4%B8%BA%E4%BB%80%E4%B9%88tcp%E6%8C%A5%E6%89%8B%E6%AF%8F%E4%B8%A4%E6%AC%A1%E4%B8%AD%E9%97%B4%E6%9C%89%E4%B8%80%E4%B8%AA-fin-wait2%E7%AD%89%E5%BE%85%E6%97%B6%E9%97%B4%EF%BC%9F" id="Q：为什么TCP挥手每两次中间有一个-FIN-WAIT2等待时间？">Q：为什么TCP挥手每两次中间有一个 FIN-WAIT2等待时间？</h3>
<ul>
<li>主动关闭的一端调用完close以后（即发FIN给被动关闭的一端， 并且收到其对FIN的确认ACK）则进入FIN_WAIT_2状态。<strong>如果这个时候因为网络突然断掉、被动关闭的一段宕机等原因，导致主动关闭的一端不能收到被动关闭的一端发来的FIN（防止对端不发送关闭连接的FIN包给本端）</strong>，这个时候就需要FIN_WAIT_2定时器， 如果在该定时器超时的时候，还是没收到被动关闭一端发来的FIN，那么直接释放这个链接，进入CLOSE状态</li>
</ul>
<h3 id="q%EF%BC%9A%E4%B8%BA%E4%BB%80%E4%B9%88%E5%AE%A2%E6%88%B7%E7%AB%AF%E6%9C%80%E5%90%8E%E8%BF%98%E8%A6%81%E7%AD%89%E5%BE%852msl%EF%BC%9F%E4%B8%BA%E4%BB%80%E4%B9%88%E8%BF%98%E6%9C%89%E4%B8%AAtime-wait%E7%9A%84%E6%97%B6%E9%97%B4%E7%AD%89%E5%BE%85%EF%BC%9F" id="Q：为什么客户端最后还要等待2MSL？为什么还有个TIME-WAIT的时间等待？">Q：为什么客户端最后还要等待2MSL？为什么还有个TIME-WAIT的时间等待？</h3>
<ol>
<li><strong>保证客户端发送的最后一个ACK报文能够到达服务器</strong>，因为这个ACK报文可能丢失，<strong>服务器已经发送了FIN+ACK报文，请求断开，客户端却没有回应，于是服务器又会重新发送一次，而客户端就能在这个2MSL时间段内收到这个重传的报文，接着给出回应报文</strong>，并且会重启2MSL<a target="_blank" rel="noopener" href="https://www.zhihu.com/search?q=%E8%AE%A1%E6%97%B6%E5%99%A8&amp;search_source=Entity&amp;hybrid_search_source=Entity&amp;hybrid_search_extra=%7B%22sourceType%22%3A%22answer%22%2C%22sourceId%22%3A1808988570%7D">计时器</a>。</li>
<li>防止类似与“三次握手”中提到了的“已经失效的连接请求报文段”出现在本连接中。客户端发送完最后一个确认报文后，在这个2MSL时间中，就可以<strong>使本连接持续的时间内所产生的所有报文段都从网络中消失，这样新的连接中不会出现旧连接的请求报文</strong>。</li>
<li>2MSL，最大报文生存时间，一个MSL 30 秒，2MSL = 60s</li>
</ol>
<h3 id="q%EF%BC%9A%E5%AE%A2%E6%88%B7%E7%AB%AF-time-wait-%E7%8A%B6%E6%80%81%E8%BF%87%E5%A4%9A%E4%BC%9A%E4%BA%A7%E7%94%9F%E4%BB%80%E4%B9%88%E5%90%8E%E6%9E%9C%EF%BC%9F%E6%80%8E%E6%A0%B7%E5%A4%84%E7%90%86%EF%BC%9F" id="Q：客户端-TIME-WAIT-状态过多会产生什么后果？怎样处理？">Q：客户端 TIME-WAIT 状态过多会产生什么后果？怎样处理？</h3>
<ol>
<li>作为服务器，短时间内关闭了大量的Client连接，就会造成服务器上出现大量的TIME_WAIT连接，<strong>占据大量的tuple /tApl/ ，严重消耗着服务器的资源</strong>，此时部分客户端就会显示连接不上</li>
<li>作为客户端，短时间内大量的短连接，会大量消耗的Client机器的端口，毕竟端口只有65535个，端口被耗尽了，后续就无法在发起新的连接了</li>
</ol>
<ul>
<li>
<p>在<strong>高并发短连接</strong>的TCP服务器上，当服务器处理完请求后立刻主动正常关闭连接。这个场景下会出现大量socket处于TIME_WAIT状态。如果客户端的并发量持续很高，<strong>此时部分客户端就会显示连接不上</strong></p>
</li>
<li>
<ul>
<li><strong>高并发可以让服务器在短时间范围内同时占用大量端口</strong>，而端口有个0~65535的范围，并不是很多，刨除系统和其他服务要用的，剩下的就更少了</li>
<li><strong>短连接表示“业务处理+传输数据的时间 远远小于 TIMEWAIT超时的时间”的连接</strong></li>
</ul>
</li>
<li>
<p>解决方法：</p>
</li>
<li>
<ul>
<li>用负载均衡来抗这些高并发的短请求；</li>
<li>服务器可以设置 SO_REUSEADDR 套接字选项来避免 TIME_WAIT状态，TIME_WAIT 状态可以通过优化服务器参数得到解决，因为发生TIME_WAIT的情况是服务器自己可控的，要么就是对方连接的异常，要么就是自己没有迅速回收资源，总之不是由于自己程序错误导致的</li>
<li>强制关闭，发送 RST 包越过TIMEWAIT状态，直接进入CLOSED状态</li>
</ul>
</li>
</ul>
<h3 id="q%EF%BC%9A%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%87%BA%E7%8E%B0%E4%BA%86%E5%A4%A7%E9%87%8F-close_wait-%E7%8A%B6%E6%80%81%E5%A6%82%E4%BD%95%E8%A7%A3%E5%86%B3%EF%BC%9F" id="Q：服务器出现了大量-CLOSE-WAIT-状态如何解决？">Q：服务器出现了大量 CLOSE_WAIT 状态如何解决？</h3>
<ul>
<li><strong>大量 CLOSE_WAIT 表示程序出现了问题</strong>，对方的 socket 已经关闭连接，而我方忙于读或写没有及时关闭连接，需要检查代码，特别是释放资源的代码，或者是处理请求的线程配置。</li>
</ul>
<h3 id="q%EF%BC%9A%E6%9C%8D%E5%8A%A1%E7%AB%AF%E4%BC%9A%E6%9C%89%E4%B8%80%E4%B8%AAtime_wait%E7%8A%B6%E6%80%81%E5%90%97%EF%BC%9F%E5%A6%82%E6%9E%9C%E6%98%AF%E6%9C%8D%E5%8A%A1%E7%AB%AF%E4%B8%BB%E5%8A%A8%E6%96%AD%E5%BC%80%E8%BF%9E%E6%8E%A5%E5%91%A2%EF%BC%9F" id="Q：服务端会有一个TIME-WAIT状态吗？如果是服务端主动断开连接呢？">Q：服务端会有一个TIME_WAIT状态吗？如果是服务端主动断开连接呢？</h3>
<ul>
<li>发起链接的主动方基本都是客户端，但是<strong>断开连接的主动方服务器和客户端都可以充当</strong>，也就是说，只要是主动断开连接的，就会有 TIME_WAIT状态</li>
<li>四次挥手是指断开一个TCP连接时，需要客户端和服务端总共发送4个包以确认连接的断开。在socket编程中，这一过程由客户端或服务端任一方执行close来触发</li>
<li>由于TCP连接时全双工的，因此，每个方向的数据传输通道都必须要单独进行关闭。</li>
</ul>
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kity@2.0.4/dist/kity.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text/javascript" src="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.css"></div><div class="article-licensing box"><div class="licensing-title"><p>魑魅先生 | 计算机网络</p><p><a href="http://mrdemonlxl.github.io/2021/02/25/Draft/2021/计算机网络/">http://mrdemonlxl.github.io/2021/02/25/Draft/2021/计算机网络/</a></p></div><div class="licensing-meta level is-mobile"><div class="level-left"><div class="level-item is-narrow"><div><h6>作者</h6><a href="http://MrDemonlxl.github.io"><p>魑魅先生</p></a></div></div><div class="level-item is-narrow"><div><h6>发布于</h6><p>2021-02-25</p></div></div><div class="level-item is-narrow"><div><h6>更新于</h6><p>2022-03-23</p></div></div><div class="level-item is-narrow"><div><h6>许可协议</h6><p><a class="icon" rel="noopener" target="_blank" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a><a class="icon" rel="noopener" target="_blank" title="Attribution" href="https://creativecommons.org/licenses/by/4.0/"><i class="fab fa-creative-commons-by"></i></a><a class="icon" rel="noopener" target="_blank" title="Noncommercial" href="https://creativecommons.org/licenses/by-nc/4.0/"><i class="fab fa-creative-commons-nc"></i></a></p></div></div></div></div></div><div class="recommend-area"><div class="recommend-post"><span class="is-size-6 has-text-grey has-mr-7"># 推荐文章</span><br><span>  1.<a class="is-size-6" href="/2021/02/25/Draft/2021/%E5%BF%AB%E6%9F%A5/" target="_blank">快查</a><br></span><span>  2.<a class="is-size-6" href="/2021/11/10/Draft/2021/JVM%20%E4%B8%8E%E4%B8%8A%E5%B1%82%E6%8A%80%E6%9C%AF/" target="_blank">JVM 与上层技术</a><br></span><span>  3.<a class="is-size-6" href="/2021/02/18/Draft/2021/%E4%BA%94%E5%88%86%E9%92%9F%E6%90%AD%E5%BB%BA%E5%9C%A8%E7%BA%BF%E5%8D%9A%E5%AE%A2/" target="_blank">五分钟搭建在线博客</a><br></span><span>  4.<a class="is-size-6" href="/2021/03/01/Draft/2021/%E5%89%8D%E7%AB%AF/" target="_blank">魑魅先生 | 前端</a><br></span><span>  5.<a class="is-size-6" href="/2021/03/01/Draft/2021/JAVA%E5%BA%94%E7%94%A8/" target="_blank">魑魅先生 | 业务技术</a><br></span><span>  6.<a class="is-size-6" href="/2021/03/01/Draft/2021/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/" target="_blank">魑魅先生 | 设计模式</a><br></span></div></div><link rel="stylesheet" href="https://cdnjs.loli.net/ajax/libs/social-share.js/1.0.16/css/share.min.css"><div class="social-share"></div><script src="https://cdnjs.loli.net/ajax/libs/social-share.js/1.0.16/js/social-share.min.js"></script></article></div><div class="card"><div class="card-content"><h3 class="menu-label has-text-centered">喜欢这篇文章？打赏一下作者吧</h3><div class="buttons is-centered"><a class="button donate" data-type="alipay"><span class="icon is-small"><i class="fab fa-alipay"></i></span><span>支付宝</span><span class="qrcode"><img src="https://gitee.com/mychimei/picture/raw/master/1c4f12804cc5a92919acd743d93a869.jpg" alt="支付宝"></span></a><a class="button donate" data-type="wechat"><span class="icon is-small"><i class="fab fa-weixin"></i></span><span>微信</span><span class="qrcode"><img src="https://gitee.com/mychimei/picture/raw/master/260e4f4bc9e4053108cd9d02bae7386.png" alt="微信"></span></a></div></div></div><nav class="post-navigation mt-4 level is-mobile"><div class="level-start"><a class="article-nav-prev level level-item link-muted" href="/2021/02/25/Draft/2021/%E5%BF%AB%E6%9F%A5/"><i class="level-item fas fa-chevron-left"></i><span class="level-item">快查</span></a></div><div class="level-end"><a class="article-nav-next level level-item link-muted" href="/2021/02/24/Draft/2021/BUG/"><span class="level-item">BUG</span><i class="level-item fas fa-chevron-right"></i></a></div></nav><!--!--><div class="card"><div class="card-content"><div class="title is-5">评论</div><div id="comment-container"></div><link rel="stylesheet" href="https://cdnjs.loli.net/ajax/libs/gitalk/1.6.0/gitalk.css"><script> $.getScript('/js/gitalk.min.js', function () { 
            var gitalk = new Gitalk({
            language:'zh-CN',
            id: '42a8961fec113fbb2d2df64ae0eb6db5',
            repo: 'MrDemonlxl.github.io',
            owner: 'MrDemonlxl',
            clientID: '20ef8321698ab8c0c37b',
            clientSecret: '4faa4daae14b55afd2ed357fba92d1e9c7c3f729',
            admin: ["MrDemonlxl"],
            createIssueManually: true,
            distractionFreeMode: false,
            perPage: 10,
            pagerDirection: 'last',
            proxy: 'https://cors-anywhere.azm.workers.dev/https://github.com/login/oauth/access_token',
            
            enableHotKey: true,
            isLocked: false
        })
        gitalk.render('comment-container')});</script></div></div></div><div class="column column-left is-4-tablet is-4-desktop is-3-widescreen  order-1 is-sticky"><div class="card widget" id="toc" data-type="toc"><div class="card-content"><div class="menu"><h3 class="menu-label">目录</h3><ul class="menu-list"><li><a class="is-flex is-mobile" href="#1.-%E7%BD%91%E7%BB%9C%E5%B1%82%E6%AC%A1%E5%88%92%E5%88%86"><span>1. 网络层次划分</span></a></li><li><a class="is-flex is-mobile" href="#2.-%E7%BD%91%E7%BB%9C%E6%A8%A1%E5%9E%8B"><span>2. 网络模型</span></a><ul class="menu-list"><li><a class="is-flex is-mobile" href="#osi%E4%B8%83%E5%B1%82%E7%BD%91%E7%BB%9C%E6%A8%A1%E5%9E%8B"><span>OSI七层网络模型</span></a><ul class="menu-list"><li><a class="is-flex is-mobile" href="#1%EF%BC%89%E7%89%A9%E7%90%86%E5%B1%82%EF%BC%88physical-layer%EF%BC%89"><span>1）物理层（Physical Layer）</span></a></li><li><a class="is-flex is-mobile" href="#2%EF%BC%89%E6%95%B0%E6%8D%AE%E9%93%BE%E8%B7%AF%E5%B1%82%EF%BC%88data-link-layer%EF%BC%89"><span>2）数据链路层（Data Link Layer）</span></a></li><li><a class="is-flex is-mobile" href="#3%EF%BC%89%E7%BD%91%E7%BB%9C%E5%B1%82%EF%BC%88network-layer%EF%BC%89"><span>3）网络层（Network Layer）</span></a></li><li><a class="is-flex is-mobile" href="#4%EF%BC%89%E4%BC%A0%E8%BE%93%E5%B1%82%EF%BC%88transport-layer%EF%BC%89"><span>4）传输层（Transport Layer）</span></a></li><li><a class="is-flex is-mobile" href="#5%EF%BC%89%E4%BC%9A%E8%AF%9D%E5%B1%82"><span>5）会话层</span></a></li><li><a class="is-flex is-mobile" href="#6%EF%BC%89%E8%A1%A8%E7%A4%BA%E5%B1%82"><span>6）表示层</span></a></li><li><a class="is-flex is-mobile" href="#7%EF%BC%89%E5%BA%94%E7%94%A8%E5%B1%82"><span>7）应用层</span></a></li></ul></li><li><a class="is-flex is-mobile" href="#tcp%2Fip%E5%9B%9B-(%E4%BA%94)%E5%B1%82%E6%A8%A1%E5%9E%8B"><span>TCP/IP四 (五)层模型</span></a></li></ul></li><li><a class="is-flex is-mobile" href="#3.-ip%E5%9C%B0%E5%9D%80"><span>3. IP地址</span></a><ul class="menu-list"><li><a class="is-flex is-mobile" href="#1%EF%BC%89%E7%BD%91%E7%BB%9C%E5%9C%B0%E5%9D%80"><span>1）网络地址</span></a></li><li><a class="is-flex is-mobile" href="#2%EF%BC%89%E5%B9%BF%E6%92%AD%E5%9C%B0%E5%9D%80"><span>2）广播地址</span></a></li><li><a class="is-flex is-mobile" href="#3%EF%BC%89%E7%BB%84%E6%92%AD%E5%9C%B0%E5%9D%80"><span>3）组播地址</span></a></li><li><a class="is-flex is-mobile" href="#4%EF%BC%89255.255.255.255"><span>4）255.255.255.255</span></a></li><li><a class="is-flex is-mobile" href="#5%EF%BC%890.0.0.0"><span>5）0.0.0.0</span></a></li><li><a class="is-flex is-mobile" href="#6%EF%BC%89%E5%9B%9E%E7%8E%AF%E5%9C%B0%E5%9D%80"><span>6）回环地址</span></a></li><li><a class="is-flex is-mobile" href="#7%EF%BC%89a%E3%80%81b%E3%80%81c%E7%B1%BB%E7%A7%81%E6%9C%89%E5%9C%B0%E5%9D%80"><span>7）A、B、C类私有地址</span></a></li></ul></li><li><a class="is-flex is-mobile" href="#4.-%E5%AD%90%E7%BD%91%E6%8E%A9%E7%A0%81%E5%8F%8A%E7%BD%91%E7%BB%9C%E5%88%92%E5%88%86"><span>4. 子网掩码及网络划分</span></a><ul class="menu-list"><ul class="menu-list"><li><a class="is-flex is-mobile" href="#1%EF%BC%89%E5%88%A9%E7%94%A8%E5%AD%90%E7%BD%91%E6%95%B0%E6%9D%A5%E8%AE%A1%E7%AE%97"><span>1）利用子网数来计算</span></a></li><li><a class="is-flex is-mobile" href="#2%EF%BC%89%E5%88%A9%E7%94%A8%E4%B8%BB%E6%9C%BA%E6%95%B0%E6%9D%A5%E8%AE%A1%E7%AE%97"><span>2）利用主机数来计算</span></a></li><li><a class="is-flex is-mobile" href="#3%EF%BC%89%E6%A0%B9%E6%8D%AE%E6%AF%8F%E4%B8%AA%E7%BD%91%E7%BB%9C%E7%9A%84%E4%B8%BB%E6%9C%BA%E6%95%B0%E9%87%8F%E8%BF%9B%E8%A1%8C%E5%AD%90%E7%BD%91%E5%9C%B0%E5%9D%80%E7%9A%84%E8%A7%84%E5%88%92%E5%92%8C%E8%AE%A1%E7%AE%97%E5%AD%90%E7%BD%91%E6%8E%A9%E7%A0%81"><span>3）根据每个网络的主机数量进行子网地址的规划和计算子网掩码</span></a></li></ul></ul></li><li><a class="is-flex is-mobile" href="#5.-arp%2Frarp%E5%8D%8F%E8%AE%AE"><span>5. ARP/RARP协议</span></a></li><li><a class="is-flex is-mobile" href="#6.-%E8%B7%AF%E7%94%B1%E9%80%89%E6%8B%A9%E5%8D%8F%E8%AE%AE"><span>6. 路由选择协议</span></a></li><li><a class="is-flex is-mobile" href="#7.-tcp%2Fip%E5%8D%8F%E8%AE%AE"><span>7. TCP/IP协议</span></a></li><li><a class="is-flex is-mobile" href="#8.-udp%E5%8D%8F%E8%AE%AE"><span>8. UDP协议</span></a></li><li><a class="is-flex is-mobile" href="#9.-dns%E5%8D%8F%E8%AE%AE"><span>9. DNS协议</span></a></li><li><a class="is-flex is-mobile" href="#10.-nat%E5%8D%8F%E8%AE%AE"><span>10. NAT协议</span></a></li><li><a class="is-flex is-mobile" href="#11.-dhcp%E5%8D%8F%E8%AE%AE"><span>11. DHCP协议</span></a></li><li><a class="is-flex is-mobile" href="#12.-http%E5%8D%8F%E8%AE%AE"><span>12. HTTP协议</span></a><ul class="menu-list"><li><a class="is-flex is-mobile" href="#http-%E5%8D%8F%E8%AE%AE%E5%8C%85%E6%8B%AC%E5%93%AA%E4%BA%9B%E8%AF%B7%E6%B1%82%EF%BC%9F"><span>HTTP 协议包括哪些请求？</span></a></li><li><a class="is-flex is-mobile" href="#http-%E5%8D%8F%E8%AE%AE%E7%9A%84-8-%E7%A7%8D%E8%AF%B7%E6%B1%82%E7%B1%BB%E5%9E%8B%E4%BB%8B%E7%BB%8D"><span>HTTP 协议的 8 种请求类型介绍</span></a></li><li><a class="is-flex is-mobile" href="#%E7%BD%91%E7%BB%9C%E5%B8%B8%E7%94%A8%E5%8F%82%E6%95%B0"><span>网络常用参数</span></a><ul class="menu-list"><li><a class="is-flex is-mobile" href="#%E5%8F%A6%E5%A4%96%E4%B8%80%E7%A7%8D%E5%B8%B8%E8%A7%81%E7%9A%84%E5%AA%92%E4%BD%93%E6%A0%BC%E5%BC%8F%E6%98%AF%E4%B8%8A%E4%BC%A0%E6%96%87%E4%BB%B6%E4%B9%8B%E6%97%B6%E4%BD%BF%E7%94%A8%E7%9A%84%EF%BC%9A"><span>另外一种常见的媒体格式是上传文件之时使用的：</span></a></li></ul></li></ul></li><li><a class="is-flex is-mobile" href="#13.-%E4%B8%80%E4%B8%AA%E4%B8%BE%E4%BE%8B"><span>13. 一个举例</span></a></li><li><a class="is-flex is-mobile" href="#14.tcp%E4%B8%89%E6%AC%A1%E6%8F%A1%E6%89%8B%2F%E5%9B%9B%E6%AC%A1%E6%8C%A5%E6%89%8B"><span>14.TCP三次握手/四次挥手</span></a><ul class="menu-list"><li><a class="is-flex is-mobile" href="#tcp"><span>TCP</span></a></li><li><a class="is-flex is-mobile" href="#tcp-%E4%B8%89%E6%AC%A1%E6%8F%A1%E6%89%8B"><span>TCP 三次握手</span></a><ul class="menu-list"><li><a class="is-flex is-mobile" href="#q%EF%BC%9A%E4%B8%BA%E4%BB%80%E4%B9%88%E8%A6%81%E4%B8%89%E6%AC%A1%E6%8F%A1%E6%89%8B%EF%BC%9F"><span>Q：为什么要三次握手？</span></a></li><li><a class="is-flex is-mobile" href="#q%EF%BC%9A%E4%B8%A4%E6%AC%A1%E6%8F%A1%E6%89%8B%E4%B8%8D%E8%A1%8C%E5%90%97%EF%BC%9F%E4%B8%BA%E4%BB%80%E4%B9%88tcp%E5%AE%A2%E6%88%B7%E7%AB%AF%E6%9C%80%E5%90%8E%E8%BF%98%E8%A6%81%E5%8F%91%E9%80%81%E4%B8%80%E6%AC%A1%E7%A1%AE%E8%AE%A4%E5%91%A2%EF%BC%9F"><span>Q：两次握手不行吗？为什么TCP客户端最后还要发送一次确认呢？</span></a></li><li><a class="is-flex is-mobile" href="#q%EF%BC%9A%E4%B8%BA%E4%BB%80%E4%B9%88%E4%B8%89%E6%AC%A1%E6%8F%A1%E6%89%8B%EF%BC%8C%E8%BF%94%E5%9B%9E%E6%97%B6%EF%BC%8Cack-%E5%80%BC%E6%98%AF-seq-%E5%8A%A0-1%EF%BC%88ack-%3D-x%2B1%EF%BC%89"><span>Q：为什么三次握手，返回时，ack 值是 seq 加 1（ack = x+1）</span></a></li><li><a class="is-flex is-mobile" href="#q%EF%BC%9Asyn%E6%B4%AA%E6%B3%9B%E6%94%BB%E5%87%BB(syn-flood%EF%BC%8C%E5%8D%8A%E5%BC%80%E6%94%BE%E6%94%BB%E5%87%BB)%EF%BC%8C%E6%80%8E%E4%B9%88%E8%A7%A3%E5%86%B3%EF%BC%9F"><span>Q：SYN洪泛攻击(SYN Flood，半开放攻击)，怎么解决？</span></a></li><li><a class="is-flex is-mobile" href="#q%EF%BC%9Atcp%E4%B8%89%E6%AC%A1%E6%8F%A1%E6%89%8B%E4%B8%AD%EF%BC%8C%E6%9C%80%E5%90%8E%E4%B8%80%E6%AC%A1%E5%9B%9E%E5%A4%8D%E4%B8%A2%E5%A4%B1%EF%BC%8C%E4%BC%9A%E5%8F%91%E7%94%9F%E4%BB%80%E4%B9%88%EF%BC%9F"><span>Q：TCP三次握手中，最后一次回复丢失，会发生什么？</span></a></li></ul></li><li><a class="is-flex is-mobile" href="#tcp%E5%9B%9B%E6%AC%A1%E6%8C%A5%E6%89%8B"><span>TCP四次挥手</span></a><ul class="menu-list"><li><a class="is-flex is-mobile" href="#q%EF%BC%9A%E4%B8%BA%E4%BB%80%E4%B9%88%E8%BF%9E%E6%8E%A5%E7%9A%84%E6%97%B6%E5%80%99%E6%98%AF%E4%B8%89%E6%AC%A1%E6%8F%A1%E6%89%8B%EF%BC%8C%E5%85%B3%E9%97%AD%E7%9A%84%E6%97%B6%E5%80%99%E5%8D%B4%E6%98%AF%E5%9B%9B%E6%AC%A1%E6%8F%A1%E6%89%8B%EF%BC%9F"><span>Q：为什么连接的时候是三次握手，关闭的时候却是四次握手？</span></a></li><li><a class="is-flex is-mobile" href="#q%EF%BC%9A%E4%B8%BA%E4%BB%80%E4%B9%88tcp%E6%8C%A5%E6%89%8B%E6%AF%8F%E4%B8%A4%E6%AC%A1%E4%B8%AD%E9%97%B4%E6%9C%89%E4%B8%80%E4%B8%AA-fin-wait2%E7%AD%89%E5%BE%85%E6%97%B6%E9%97%B4%EF%BC%9F"><span>Q：为什么TCP挥手每两次中间有一个 FIN-WAIT2等待时间？</span></a></li><li><a class="is-flex is-mobile" href="#q%EF%BC%9A%E4%B8%BA%E4%BB%80%E4%B9%88%E5%AE%A2%E6%88%B7%E7%AB%AF%E6%9C%80%E5%90%8E%E8%BF%98%E8%A6%81%E7%AD%89%E5%BE%852msl%EF%BC%9F%E4%B8%BA%E4%BB%80%E4%B9%88%E8%BF%98%E6%9C%89%E4%B8%AAtime-wait%E7%9A%84%E6%97%B6%E9%97%B4%E7%AD%89%E5%BE%85%EF%BC%9F"><span>Q：为什么客户端最后还要等待2MSL？为什么还有个TIME-WAIT的时间等待？</span></a></li><li><a class="is-flex is-mobile" href="#q%EF%BC%9A%E5%AE%A2%E6%88%B7%E7%AB%AF-time-wait-%E7%8A%B6%E6%80%81%E8%BF%87%E5%A4%9A%E4%BC%9A%E4%BA%A7%E7%94%9F%E4%BB%80%E4%B9%88%E5%90%8E%E6%9E%9C%EF%BC%9F%E6%80%8E%E6%A0%B7%E5%A4%84%E7%90%86%EF%BC%9F"><span>Q：客户端 TIME-WAIT 状态过多会产生什么后果？怎样处理？</span></a></li><li><a class="is-flex is-mobile" href="#q%EF%BC%9A%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%87%BA%E7%8E%B0%E4%BA%86%E5%A4%A7%E9%87%8F-close_wait-%E7%8A%B6%E6%80%81%E5%A6%82%E4%BD%95%E8%A7%A3%E5%86%B3%EF%BC%9F"><span>Q：服务器出现了大量 CLOSE_WAIT 状态如何解决？</span></a></li><li><a class="is-flex is-mobile" href="#q%EF%BC%9A%E6%9C%8D%E5%8A%A1%E7%AB%AF%E4%BC%9A%E6%9C%89%E4%B8%80%E4%B8%AAtime_wait%E7%8A%B6%E6%80%81%E5%90%97%EF%BC%9F%E5%A6%82%E6%9E%9C%E6%98%AF%E6%9C%8D%E5%8A%A1%E7%AB%AF%E4%B8%BB%E5%8A%A8%E6%96%AD%E5%BC%80%E8%BF%9E%E6%8E%A5%E5%91%A2%EF%BC%9F"><span>Q：服务端会有一个TIME_WAIT状态吗？如果是服务端主动断开连接呢？</span></a></li></ul></li></ul></li></ul></div></div><style>.menu-list > li > a.is-active + .menu-list { display: block; }.menu-list > li > a + .menu-list { display: none; }</style><script src="/js/toc.js" defer></script></div><div class="card widget" data-type="profile"><div class="card-content"><nav class="level"><div class="level-item has-text-centered flex-shrink-1"><div><figure class="image is-128x128 mx-auto mb-2"><img class="avatar is-rounded" src="https://gitee.com/mychimei/picture/raw/master/微信图片_20210131173244.jpg" alt="魑魅先生"></figure><p class="title is-size-4 is-block" style="line-height:inherit;">魑魅先生</p><p class="is-size-6 is-block">快乐永远在解决问题的间隙里(*￣︶￣)</p><p class="is-size-6 is-flex justify-content-center"><i class="fas fa-map-marker-alt mr-1"></i><span>浙江-杭州</span></p></div></div></nav><nav class="level is-mobile"><div class="level-item has-text-centered is-marginless"><div><p class="heading">文章</p><a href="/archives"><p class="title">54</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">分类</p><a href="/categories"><p class="title">82</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">标签</p><a href="/tags"><p class="title">41</p></a></div></div></nav><div class="level"><a class="level-item button is-primary is-rounded" href="https://github.com/MrDemonlxl" target="_blank" rel="noopener">关注我</a></div><div class="level is-mobile"><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Github" href="https://github.com/MrDemonlxl"><i class="fab fa-github"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Weibo" href="https://weibo.com/MrDemonlxl"><i class="fab fa-weibo"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Email" href="/714416426@qq.com"><i class="fa fa-envelope"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Next" href="https://mrdemonlxl.github.io"><i class="fab fa-dribbble"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="RSS" href="https://mp.weixin.qq.com/mp/profile_ext?action=home&amp;__biz=MzI5NDc0MDg1Mg==#wechat_redirect"><i class="fas fa-rss"></i></a></div><div><hr><p id="hitokoto">:D 一言句子获取中...</p><script type="text/javascript" defer>function getYiyan(){
                                $.getJSON("https://v1.hitokoto.cn/", function (data) {
                                if(data){
                                    $('#hitokoto').html("");
                                    $('#hitokoto').append("<strong style='color: #3273dc;'>"+data.hitokoto+"</strong>"+
                                    "<p>"+"来源《"+data.from+"》</p><p>提供者-"+data.creator+"</p>");
                                }});}
                                $(function (){getYiyan();$('#hitokoto').click(function(){getYiyan();})});</script></div></div></div><div class="card widget" data-type="links"><div class="card-content"><div class="menu"><h3 class="menu-label">链接</h3><ul class="menu-list"><li><a class="level is-mobile" href="https://www.jianshu.com/u/4af2d33dbe6f" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">简书</span></span><span class="level-right"><span class="level-item tag">www.jianshu.com</span></span></a></li><li><a class="level is-mobile" href="https://blog.csdn.net/qq_37862970" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">CSDN</span></span><span class="level-right"><span class="level-item tag">blog.csdn.net</span></span></a></li><li><a class="level is-mobile" href="https://github.com/MrDemonlxl" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">GitHub</span></span><span class="level-right"><span class="level-item tag">github.com</span></span></a></li></ul></div></div></div><div class="card widget"><div class="card-content"><h3 class="menu-label">最新评论</h3><span class="body_hot_comment">加载中，最新评论有1分钟缓存...</span></div></div><div class="card widget"><div class="card-content"><h3 class="menu-label">最新文章</h3><article class="media"><figure class="media-left"><a class="image" href="/2021/11/10/Draft/2021/JVM%20%E4%B8%8E%E4%B8%8A%E5%B1%82%E6%8A%80%E6%9C%AF/"><img src="https://gitee.com/mychimei/picture/raw/master/39go6v.jpg" alt="JVM 与上层技术"></a></figure><div class="media-content"><p class="date"><time dateTime="2021-11-10T14:10:43.000Z">2021-11-10</time></p><p class="title"><a href="/2021/11/10/Draft/2021/JVM%20%E4%B8%8E%E4%B8%8A%E5%B1%82%E6%8A%80%E6%9C%AF/">JVM 与上层技术</a></p><p class="categories"><a href="/categories/%E5%BA%95%E5%B1%82%E5%AD%A6%E4%B9%A0/">底层学习</a> / <a href="/categories/%E5%BA%95%E5%B1%82%E5%AD%A6%E4%B9%A0/JVM-%E4%B8%8E%E4%B8%8A%E5%B1%82%E6%8A%80%E6%9C%AF/">JVM 与上层技术</a></p></div></article><article class="media"><figure class="media-left"><a class="image" href="/2021/10/20/Draft/2021/MyBatis-Plus/"><img src="https://gitee.com/mychimei/picture/raw/master/webp.png" alt="MyBatis-Plus"></a></figure><div class="media-content"><p class="date"><time dateTime="2021-10-20T14:10:43.000Z">2021-10-20</time></p><p class="title"><a href="/2021/10/20/Draft/2021/MyBatis-Plus/">MyBatis-Plus</a></p><p class="categories"><a href="/categories/Frame/">Frame</a> / <a href="/categories/Frame/MyBatis-Plus/">MyBatis-Plus</a></p></div></article><article class="media"><figure class="media-left"><a class="image" href="/2021/07/20/Draft/2021/%E9%97%AA%E5%85%89/"><img src="https://gitee.com/mychimei/picture/raw/master/webp.png" alt="思维闪光"></a></figure><div class="media-content"><p class="date"><time dateTime="2021-07-20T14:10:43.000Z">2021-07-20</time></p><p class="title"><a href="/2021/07/20/Draft/2021/%E9%97%AA%E5%85%89/">思维闪光</a></p><p class="categories"><a href="/categories/%E4%B8%B4%E6%97%B6%E8%AE%B0%E5%BD%95/">临时记录</a> / <a href="/categories/%E4%B8%B4%E6%97%B6%E8%AE%B0%E5%BD%95/%E6%80%9D%E7%BB%B4%E9%97%AA%E5%85%89/">思维闪光</a></p></div></article><article class="media"><figure class="media-left"><a class="image" href="/2021/05/31/Draft/2021/Python3%E5%AD%A6%E4%B9%A0/"><img src="https://gitee.com/mychimei/picture/raw/master/webp1.png" alt="Python 学习"></a></figure><div class="media-content"><p class="date"><time dateTime="2021-05-31T14:10:43.000Z">2021-05-31</time></p><p class="title"><a href="/2021/05/31/Draft/2021/Python3%E5%AD%A6%E4%B9%A0/">Python 学习</a></p><p class="categories"><a href="/categories/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/">编程语言</a> / <a href="/categories/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Python%E5%AD%A6%E4%B9%A0/">Python学习</a></p></div></article><article class="media"><figure class="media-left"><a class="image" href="/2021/05/20/Draft/2021/%E5%BC%80%E5%8F%91%E4%BF%AE%E7%94%B5%E8%84%91/"><img src="https://gitee.com/mychimei/picture/raw/master/webp.png" alt="开发修电脑"></a></figure><div class="media-content"><p class="date"><time dateTime="2021-05-20T14:10:43.000Z">2021-05-20</time></p><p class="title"><a href="/2021/05/20/Draft/2021/%E5%BC%80%E5%8F%91%E4%BF%AE%E7%94%B5%E8%84%91/">开发修电脑</a></p><p class="categories"><a href="/categories/%E7%94%B5%E8%84%91%E7%9F%A5%E8%AF%86/">电脑知识</a> / <a href="/categories/%E7%94%B5%E8%84%91%E7%9F%A5%E8%AF%86/%E5%BC%80%E5%8F%91%E4%BF%AE%E7%94%B5%E8%84%91/">开发修电脑</a></p></div></article></div></div><div class="card widget"><div class="card-content"><div class="menu"><h3 class="menu-label">分类</h3><ul class="menu-list"><li><a class="level is-mobile is-marginless" href="/categories/BUG%E8%AE%B0%E5%BD%95/"><span class="level-start"><span class="level-item">BUG记录</span></span><span class="level-end"><span class="level-item tag">2</span></span></a><ul class="mr-0"><li><a class="level is-mobile is-marginless" href="/categories/BUG%E8%AE%B0%E5%BD%95/BUG/"><span class="level-start"><span class="level-item">BUG</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li></ul></li><li><a class="level is-mobile is-marginless" href="/categories/English/"><span class="level-start"><span class="level-item">English</span></span><span class="level-end"><span class="level-item tag">1</span></span></a><ul class="mr-0"><li><a class="level is-mobile is-marginless" href="/categories/English/%E7%A8%8B%E5%BA%8F%E5%91%98%E8%8B%B1%E8%AF%AD/"><span class="level-start"><span class="level-item">程序员英语</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></li><li><a class="level is-mobile is-marginless" href="/categories/Frame/"><span class="level-start"><span class="level-item">Frame</span></span><span class="level-end"><span class="level-item tag">6</span></span></a><ul class="mr-0"><li><a class="level is-mobile is-marginless" href="/categories/Frame/MyBatis/"><span class="level-start"><span class="level-item">MyBatis</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/Frame/MyBatis-Plus/"><span class="level-start"><span class="level-item">MyBatis-Plus</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/Frame/Spring/"><span class="level-start"><span class="level-item">Spring</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/Frame/SpringBoot/"><span class="level-start"><span class="level-item">SpringBoot</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/Frame/SpringCloud/"><span class="level-start"><span class="level-item">SpringCloud</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></li><a class="level is-mobile is-marginless" href="/categories/"><span class="level-start"><span class="level-item">查看全部&gt;&gt;</span></span></a></ul></div></div></div><div class="card widget"><div class="card-content"><div class="menu"><h3 class="menu-label">归档</h3><ul class="menu-list"><li><a class="level is-mobile is-marginless" href="/archives/2021/11/"><span class="level-start"><span class="level-item">十一月 2021</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2021/10/"><span class="level-start"><span class="level-item">十月 2021</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2021/07/"><span class="level-start"><span class="level-item">七月 2021</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2021/05/"><span class="level-start"><span class="level-item">五月 2021</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2021/03/"><span class="level-start"><span class="level-item">三月 2021</span></span><span class="level-end"><span class="level-item tag">11</span></span></a></li><a class="level is-mobile is-marginless" href="/archives/"><span class="level-start"><span class="level-item">查看全部&gt;&gt;</span></span></a></ul></div></div></div><div class="card widget"><div class="card-content"><div class="menu"><h3 class="menu-label">标签</h3><div class="field is-grouped is-grouped-multiline"><div class="control"><a class="tags has-addons" href="/tags/%E5%B7%A5%E5%85%B7%E6%95%99%E7%A8%8B/"><span class="tag">工具教程</span><span class="tag is-grey-lightest">6</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Frame/"><span class="tag">Frame</span><span class="tag is-grey-lightest">5</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E7%A8%8B%E5%BA%8F%E4%BA%BA%E7%94%9F/"><span class="tag">程序人生</span><span class="tag is-grey-lightest">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/BUG/"><span class="tag">BUG</span><span class="tag is-grey-lightest">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E5%89%8D%E7%AB%AF/"><span class="tag">前端</span><span class="tag is-grey-lightest">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/CRUD/"><span class="tag">CRUD</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Dubbo/"><span class="tag">Dubbo</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/English/"><span class="tag">English</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Life/"><span class="tag">Life</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/MongoDB/"><span class="tag">MongoDB</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/NO-GAME-NO-LIFE/"><span class="tag">NO GAME NO LIFE</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Nginx/"><span class="tag">Nginx</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Python%E5%AD%A6%E4%B9%A0/"><span class="tag">Python学习</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/RabbitMQ/"><span class="tag">RabbitMQ</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Redis/"><span class="tag">Redis</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Software-Engineer/"><span class="tag">Software Engineer</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/SpringCloud/"><span class="tag">SpringCloud</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E4%B8%B4%E6%97%B6%E8%AE%B0%E5%BD%95/"><span class="tag">临时记录</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E4%B9%A6%E5%BD%B1%E9%9F%B3/"><span class="tag">书影音</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E4%BF%A1%E6%81%AF%E7%B3%BB%E7%BB%9F%E9%A1%B9%E7%9B%AE%E7%AE%A1%E7%90%86%E5%B8%88/"><span class="tag">信息系统项目管理师</span><span class="tag is-grey-lightest">1</span></a></div></div><div class="field is-grouped is-grouped-multiline"><a class="tags has-addons" href="/tags/"><span class="tag">查看全部&gt;&gt;</span></a></div></div></div></div><div class="card widget" data-type="subscribe-email"><div class="card-content"><div class="menu"><h3 class="menu-label">订阅更新</h3><form action="https://feedburner.google.com/fb/a/mailverify" method="post" target="popupwindow" onsubmit="window.open(&#039;https://feedburner.google.com/fb/a/mailverify?uri=mrdemonlxlFeedsId&#039;,&#039;popupwindow&#039;,&#039;scrollbars=yes,width=550,height=520&#039;);return true"><input type="hidden" value="mrdemonlxlFeedsId" name="uri"><input type="hidden" name="loc" value="en_US"><div class="field has-addons"><div class="control has-icons-left is-expanded"><input class="input" name="email" type="email" placeholder="Email"><span class="icon is-small is-left"><i class="fas fa-envelope"></i></span></div><div class="control"><input class="button" type="submit" value="订阅"></div></div></form></div></div></div><!--!--><div class="column-right-shadow is-hidden-widescreen"></div></div></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><a class="footer-logo is-block mb-2" href="/"><img src="https://gitee.com/mychimei/picture/raw/master/彩色logo.png" alt="魑魅先生" height="28"></a><p class="size-small"><span>&copy; 2022 魑魅先生</span>  Powered by <a href="https://hexo.io/" target="_blank">Hexo</a> &amp; <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank">Icarus</a> &amp; <a href="https://github.com/removeif/hexo-theme-amazing" target="_blank">Amazing</a> <br><span>© <a href="http://www.beian.miit.gov.cn/" target="_blank">川ICP备88888888号-8</a><br></span><span>© 版权说明：[本网站所有内容均收集于互联网或自己创作,<br />&nbsp;&nbsp;&nbsp;&nbsp;方便于网友与自己学习交流，如有侵权，请<a href="/message" target="_blank">留言</a>，立即处理]<br /></span><span><span id="statistic-times">loading...</span><script>function createTime(time) {
            var n = new Date(time);
            now.setTime(now.getTime() + 250),
                days = (now - n) / 1e3 / 60 / 60 / 24,
                dnum = Math.floor(days),
                hours = (now - n) / 1e3 / 60 / 60 - 24 * dnum,
                hnum = Math.floor(hours),
            1 == String(hnum).length && (hnum = "0" + hnum),
                minutes = (now - n) / 1e3 / 60 - 1440 * dnum - 60 * hnum,
                mnum = Math.floor(minutes),
            1 == String(mnum).length && (mnum = "0" + mnum),
                seconds = (now - n) / 1e3 - 86400 * dnum - 3600 * hnum - 60 * mnum,
                snum = Math.round(seconds),
            1 == String(snum).length && (snum = "0" + snum),
                document.getElementById("statistic-times").innerHTML = "❤️本站自 <strong>"+time.split(" ")[0].replace(/\//g,".")+"</strong> 已运行 <strong>" + dnum + "</strong> 天 <strong>" + hnum + "</strong> 小时 <strong>" + mnum + "</strong> 分 <strong>" + snum + "</strong> 秒！❤️";
        }var now = new Date();setInterval("createTime('2021/02/18 00:00:00')", 250,"");</script><br></span><div class="size-small"><span>❤️感谢 <strong><span id="busuanzi_value_site_uv">99+</span></strong> 小伙伴的 <strong><span id="busuanzi_value_site_pv">99+</span></strong> 次光临！❤️</span></div></p></div><div class="level-end"><div class="field has-addons"><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Attribution 4.0 International" href="https://creativecommons.org/licenses/by/4.0/"><i class="fab fa-creative-commons-by"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/removeif/hexo-theme-amazing"><i class="fab fa-github"></i></a></p></div><div class="sideMusic"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css"><script src="/js/APlayer.min.js"></script><script src="https://cdn.jsdelivr.net/npm/meting@2/dist/Meting.min.js"></script><meting-js style="width: auto;height: 2000px;" server="netease" type="playlist" id="3071252637" theme="#2980b9" loop="all" autoplay="false" order="list" storageName="aplayer-setting" lrctype="0" list-max-height="400px" fixed="true"></meting-js></div></div></div></div></footer><script src="https://cdnjs.loli.net/ajax/libs/moment.js/2.22.2/moment-with-locales.min.js"></script><script src="https://cdnjs.loli.net/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" async></script><script>moment.locale("zh-CN");</script><script>var IcarusThemeSettings = {
            article: {
                highlight: {
                    clipboard: true,
                    fold: 'unfolded'
                }
            }
        };</script><script src="/js/column.js"></script><script src="/js/animation.js"></script><a id="back-to-top" title="回到顶端" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script src="/js/back_to_top.js" defer></script><!--!--><!--!--><!--!--><script src="https://cdnjs.loli.net/ajax/libs/lightgallery/1.6.8/js/lightgallery.min.js" defer></script><script src="https://cdnjs.loli.net/ajax/libs/justifiedGallery/3.7.0/js/jquery.justifiedGallery.min.js" defer></script><script>window.addEventListener("load", () => {
            if (typeof $.fn.lightGallery === 'function') {
                $('.article').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof $.fn.justifiedGallery === 'function') {
                if ($('.justified-gallery > p > .gallery-item').length) {
                    $('.justified-gallery > p > .gallery-item').unwrap();
                }
                $('.justified-gallery').justifiedGallery();
            }
        });</script><!--!--><!--!--><!--!--><script src="/js/main.js" defer></script><script>$.getScript('/js/comment-issue-data.js',function(){loadIssueData('20ef8321698ab8c0c37b','4faa4daae14b55afd2ed357fba92d1e9c7c3f729','MrDemonlxl','MrDemonlxl.github.io',false);})</script><div class="searchbox"><div class="searchbox-container"><div class="searchbox-header"><div class="searchbox-input-container"><input class="searchbox-input" type="text" placeholder="想要查找什么..."></div><a class="searchbox-close" href="javascript:;">×</a></div><div class="searchbox-body"></div></div></div><script src="/js/insight.js" defer></script><script>document.addEventListener('DOMContentLoaded', function () {
            loadInsight({"contentUrl":"/content.json"}, {"hint":"想要查找什么...","untitled":"(无标题)","posts":"文章","pages":"页面","categories":"分类","tags":"标签"});
        });</script><script src="https://cdn.jsdelivr.net/npm/pjax@0.2.8/pjax.js"></script><script type="text/javascript">var pjax = new Pjax({
            elements: "a",//代表点击链接就更新
            selectors: [  //代表要更新的节点
                ".section",
                "title"
            ],
            cache: true,
            cacheBust:false
        })

        function loadBusuanzi(){
        $.getScript("//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js", function () {});
        }

        function loadMathJax() { //加载mathjax
            $.getScript("//cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/MathJax.js?config=TeX-MML-AM_CHTML", function () {
                MathJax.Hub.Config({ tex2jax: { inlineMath: [['$', '$'], ['\(', '\)']] } });
                var math = document.getElementsByClassName("entry-content")[0];
                MathJax.Hub.Queue(["Typeset", MathJax.Hub, math]);
            });
        };

        // 开始 PJAX 执行的函数
        document.addEventListener('pjax:send', function () {
        });
        
        // PJAX 完成之后执行的函数，可以和上面的重载放在一起
        document.addEventListener('pjax:complete', function () {
            $(".section").css({opacity:1});
            if(true){
                $.getScript('/js/comment-issue-data.js',function(){loadIssueData('20ef8321698ab8c0c37b','4faa4daae14b55afd2ed357fba92d1e9c7c3f729','MrDemonlxl','MrDemonlxl.github.io',false);});
            }
            if(false){
                loadMathJax();
            }
            loadMainJs(jQuery, window.moment, window.ClipboardJS, window.IcarusThemeSettings);
            loadBackTop();
            loadBusuanzi();
            if(typeof loadBanner == 'function'){
                loadBanner();
            }
        });</script></body></html>
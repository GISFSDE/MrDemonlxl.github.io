<!doctype html>
<html lang="zh">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <meta>
    <title>Spring - 魑魅先生</title>
    <link rel="manifest" href="/manifest.json">
    <meta name="application-name" content="魑魅先生">
    <meta name="msapplication-TileImage" content="http://rcy276gfy.hd-bkt.clouddn.com/透明头像.png">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-title" content="魑魅先生">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta description="Spring5  轻量级的开源的 JavaEE 框架">
    <meta property="og:type" content="blog">
    <meta property="og:title" content="魑魅先生">
    <meta property="og:url" content="https://mrdemonlxl.github.io/">
    <meta property="og:site_name" content="魑魅先生">
    <meta property="og:description" content="Spring5  轻量级的开源的 JavaEE 框架">
    <meta property="og:locale" content="zh_CN">
    <meta property="og:image" content="http://rcy276gfy.hd-bkt.clouddn.com/微信图片_20210131173244.jpg">
    <meta property="article:published_time" content="2021-02-24T14:10:43.000Z">
    <meta property="article:modified_time" content="2022-06-04T10:13:16.089Z">
    <meta property="article:author" content="mrdemonlxl">
    <meta property="article:tag" content="Frame">
    <meta property="twitter:card" content="summary">
    <meta property="twitter:image" content="http://rcy276gfy.hd-bkt.clouddn.com/微信图片_20210131173244.jpg">
    <script
        type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"http://mrdemonlxl.github.io/2021/02/24/Draft/2021/Spring/"},"headline":"魑魅先生","image":["http://rcy276gfy.hd-bkt.clouddn.com/oxxw29.jpg"],"datePublished":"2021-02-24T14:10:43.000Z","dateModified":"2022-06-04T10:13:16.089Z","author":{"@type":"Person","name":"魑魅先生"},"description":"Spring5  轻量级的开源的 JavaEE 框架"}</script>
    <link rel="canonical" href="http://mrdemonlxl.github.io/2021/02/24/Draft/2021/Spring/">
    <link rel="icon" href="http://rcy276gfy.hd-bkt.clouddn.com/透明头像.png">
    <meta name="referrer" content="no-referrer">
    <link rel="stylesheet" href="https://cdnjs.loli.net/ajax/libs/font-awesome/5.12.0/css/all.min.css">
    <link rel="stylesheet" href="https://cdnjs.loli.net/ajax/libs/highlight.js/9.12.0/styles/atom-one-light.min.css">
    <link rel="stylesheet" href="https://fonts.loli.net/css2?family=Ubuntu:wght@400;600&amp;family=Source+Code+Pro">
    <link rel="stylesheet" href="/css/default.css">
    <link rel="stylesheet" href="https://cdnjs.loli.net/ajax/libs/font-awesome/5.12.0/css/all.min.css">
    <link rel="stylesheet"
        href="https://fonts.loli.net/css?family=Ubuntu:400,600|Source+Code+Pro|Monda:300,300italic,400,400italic,700,700italic|Roboto Slab:300,300italic,400,400italic,700,700italic|Microsoft YaHei:300,300italic,400,400italic,700,700italic|PT Mono:300,300italic,400,400italic,700,700italic&amp;amp;subset=latin,latin-ext|Inconsolata|Itim|Lobster.css">
    <script src="https://cdnjs.loli.net/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="/js/globalUtils.js"></script>
    <style>
        body>.footer,
        body>.navbar,
        body>.section {
            opacity: 0
        }
    </style>
    <!--!-->
    <!--!-->
    <script src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" defer></script>
    <!--!-->
    <link rel="stylesheet" href="https://cdnjs.loli.net/ajax/libs/lightgallery/1.6.8/css/lightgallery.min.css">
    <link rel="stylesheet" href="https://cdnjs.loli.net/ajax/libs/justifiedGallery/3.7.0/css/justifiedGallery.min.css">
    <!--!-->
    <!--!-->
    <script src="https://cdnjs.loli.net/ajax/libs/pace/1.0.2/pace.min.js"></script>
    <link rel="stylesheet" href="/live2d/waifu.css">
    <script type="text/javascript" async src="/live2d/autoload.js"></script>
    <meta name="generator" content="Hexo 5.3.0">
</head>

<body class="is-3-column has-navbar-fixed-top">
    <nav class="navbar navbar-main is-fixed-top">
        <div class="container">
            <div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/"><img
                        src="http://rcy276gfy.hd-bkt.clouddn.com/彩色logo.png" alt="魑魅先生" height="28"></a></div>
            <div class="navbar-menu">
                <div class="navbar-start"><a class="navbar-item" href="/">首页</a><a class="navbar-item"
                        href="/archives">归档</a><a class="navbar-item" href="/categories">分类</a><a class="navbar-item"
                        href="/tags">标签</a><a class="navbar-item" href="/album">相册</a><a class="navbar-item"
                        href="/friend">友链</a><a class="navbar-item" href="/message">留言</a><a class="navbar-item"
                        href="/self-talking">碎碎念</a><a class="navbar-item" href="/music">音乐</a><a class="navbar-item"
                        href="/media">影音</a><a class="navbar-item" href="/about">关于</a></div>
                <div class="navbar-end"><a class="navbar-item" target="_blank" rel="noopener" title="Join Gitter"
                        href="https://gitter.im/hexo-theme-amazing/community"><i class="fab fa-gitter"></i></a><a
                        class="navbar-item" target="_blank" rel="noopener" title="Download on GitHub"
                        href="https://github.com/removeif/hexo-theme-amazing"><i class="fab fa-github"></i></a><a
                        class="navbar-item is-hidden-tablet catalogue" title="目录" href="javascript:;"><i
                            class="fas fa-list-ul"></i></a><a class="navbar-item search" title="搜索"
                        href="javascript:;"><i class="fas fa-search"></i></a><a class="navbar-item" id="night-nav"
                        title="Night Mode" href="javascript:;"><i class="fas fa-moon" id="night-icon"></i></a></div>
            </div>
        </div>
    </nav>
    <script type="text/javascript" src="/js/theme-setting.js"></script>
    <section class="section">
        <div class="container">
            <div class="columns">
                <div class="column order-2 column-main is-8-tablet is-8-desktop is-9-widescreen">
                    <!--!-->
                    <div class="card">
                        <div class="card-image"><span class="image is-7by3"><img class="fill"
                                    src="http://rcy276gfy.hd-bkt.clouddn.com/oxxw29.jpg" alt="Spring"></span></div>
                        <article class="card-content article" role="article">
                            <div class="article-meta size-small is-uppercase level is-mobile">
                                <div class="level-left"><i class="far fa-calendar-plus"> </i>2021-02-24  <a
                                        class="commentCountImg"
                                        href="/2021/02/24/Draft/2021/Spring/#comment-container"><span
                                            class="display-none-class">1a909e63f36f4cdc3b38d80180ea18ea</span><i
                                            class="far fa-comment-dots"></i> <span class="commentCount"
                                            id="1a909e63f36f4cdc3b38d80180ea18ea">99+</span>  </a><span
                                        class="level-item"><i class="far fa-clock"> </i>1 小时  <i
                                            class="fas fa-pencil-alt"> </i>12.7 k</span><span class="level-item"
                                        id="busuanzi_container_page_pv"><span
                                            id="busuanzi_value_page_pv">0</span>次访问</span></div>
                            </div>
                            <h1 class="title is-3 is-size-4-mobile">Spring</h1>
                            <div class="content">
                                <blockquote>
                                    <p>Spring5 轻量级的开源的 JavaEE 框架</p>
                                </blockquote>
                                <a id="more"></a>
                                <h1 id="%E8%BF%9B%E5%BA%A6%E3%80%9055%EF%BC%8Cwebflux%E3%80%91">进度【55，Webflux】</h1>
                                <h1
                                    id="%E6%BA%90%E7%A0%81%E8%A7%A3%E6%9E%90%E7%AC%94%E8%AE%B0%E5%8A%A0%E5%85%A5-%E8%BF%9B%E5%BA%A6%E3%80%90%E3%80%91">
                                    源码解析笔记加入 进度【】</h1>
                                <h1 id="%E7%BB%BC%E5%90%88%E9%97%AE%E9%A2%98">综合问题</h1>
                                <ol>
                                    <li>
                                        <h2 id="%5Bioc%3Fdi%3Faop%3F%5D(%23ioc%E3%80%90inversion-of-control%E3%80%91)"
                                            id="IOC-DI-AOP-IOC【Inversion-of-Control】">[IOC?DI?AOP?](#IOC【Inversion of
                                            Control】)</h2>
                                    </li>
                                    <li>
                                        <h2 id="beanfactory-%E5%92%8C-applicationcontext%E5%88%86%E5%88%AB%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%8C%E6%9C%89%E4%BB%80%E4%B9%88%E5%8C%BA%E5%88%AB%EF%BC%9F"
                                            id="BeanFactory-和-ApplicationContext分别是什么，有什么区别？"><a
                                                href="#IOC%E5%AE%B9%E5%99%A8">BeanFactory 和
                                                ApplicationContext分别是什么，有什么区别？</a></h2>
                                    </li>
                                    <li>
                                        <h2 id="%E4%BB%80%E4%B9%88%E6%98%AFbean%EF%BC%9F%E4%BD%9C%E7%94%A8%E5%9F%9F%EF%BC%9F%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%EF%BC%9F%E6%98%AF%E5%90%A6%E7%BA%BF%E7%A8%8B%E5%AE%89%E5%85%A8%EF%BC%9F"
                                            id="什么是bean？作用域？生命周期？是否线程安全？"><a
                                                href="#IOC%E6%93%8D%E4%BD%9CBean%E7%AE%A1%E7%90%86">什么是bean？作用域？生命周期？是否线程安全？</a>
                                        </h2>
                                    </li>
                                </ol>
                                <p><a target="_blank" rel="noopener"
                                        href="https://blog.csdn.net/zzhongcy/article/details/111880554">SprintBoot(Sprint)中Controller、Service、DAO线程安全问题_zzhongcy的博客-CSDN博客_service线程安全问题</a>
                                </p>
                                <ol>
                                    <li>
                                        <h2 id="spring%E6%94%AF%E6%8C%81%E7%9A%84%E4%BA%8B%E5%8A%A1%E7%AE%A1%E7%90%86%E7%B1%BB%E5%9E%8B%EF%BC%9F%E4%BC%A0%E6%92%AD%E8%A1%8C%E4%B8%BA%EF%BC%9F%E4%BA%8B%E5%8A%A1%E9%9A%94%E7%A6%BB%EF%BC%9F%E7%9B%B8%E5%85%B3%E6%B3%A8%E8%A7%A3%EF%BC%9F"
                                            id="Spring支持的事务管理类型？传播行为？事务隔离？相关注解？"><a
                                                href="#5.%E4%BA%8B%E5%8A%A1%E6%93%8D%E4%BD%9C%EF%BC%88%E5%8D%8A%E6%B3%A8%E8%A7%A3%EF%BC%89">Spring支持的事务管理类型？传播行为？事务隔离？相关注解？</a>
                                        </h2>
                                    </li>
                                    <li>
                                        <h2 id="aop%E5%90%8D%E8%AF%8D%E6%9C%89%E5%93%AA%E4%BA%9B%EF%BC%9F%E5%8A%A8%E6%80%81%E4%BB%A3%E7%90%86%EF%BC%9F"
                                            id="AOP名词有哪些？动态代理？"><a
                                                href="#AOP%E5%BA%95%E5%B1%82%E5%8E%9F%E7%90%86">AOP名词有哪些？动态代理？</a></h2>
                                    </li>
                                    <li>
                                        <h2 id="%E5%B8%B8%E7%94%A8%E6%B3%A8%E8%A7%A3%EF%BC%9F" id="常用注解？"><a
                                                target="_blank" rel="noopener"
                                                href="https://blog.csdn.net/guorui_java/article/details/107347754">常用注解？</a>
                                        </h2>
                                    </li>
                                    <li>
                                        <h2 id="spring%E4%B8%AD%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%EF%BC%88%E5%B7%A5%E5%8E%82%EF%BC%8C%E4%BB%A3%E7%90%86%EF%BC%89"
                                            id="Spring中设计模式（工厂，代理）">Spring中设计模式（工厂，代理）</h2>
                                    </li>
                                </ol>
                                <h1 id="spring5%E6%A1%86%E6%9E%B6%E6%A6%82%E8%BF%B0"><a target="_blank" rel="noopener"
                                        href="https://spring.io/why-spring">Spring5框架概述</a></h1>
                                <p>1、Spring 是<strong>轻量级</strong>的开源的 JavaEE 框架</p>
                                <p>2、Spring 可以解决企业应用开发的复杂性</p>
                                <p>3、Spring 有两个核心部分：IOC 和AOP</p>
                                <p>（1） IOC【Inversion of Control】：控制反转，把创建对象过程交给 Spring 进行管理</p>
                                <p>（2） Aop【Aspect Oriented Programming】：面向切面，不修改源代码进行功能增强</p>
                                <p>4、Spring 特点</p>
                                <p>（1） 方便<strong>解耦</strong>，简化开发</p>
                                <p>（2） Aop 编程支持</p>
                                <p>（3） 方便程序测试</p>
                                <p>（4） 方便和其他框架进行整合</p>
                                <p>（5） 方便进行事务操作</p>
                                <p>（6） 降低 API 开发难度</p>
                                <h1 id="%E7%9B%B8%E5%85%B3%E8%B5%84%E6%BA%90">相关资源</h1>
                                <p><strong><a target="_blank" rel="noopener" href="https://spring.io/">官网</a></strong>
                                </p>
                                <p><img src="http://rcy276gfy.hd-bkt.clouddn.com/work/image-20211220192539776.png"
                                        alt="image-20211220192539776" /></p>
                                <p><img src="http://rcy276gfy.hd-bkt.clouddn.com/work/image-20211220193629170.png"
                                        alt="image-20211220193629170" /></p>
                                <p><strong>版本说明：</strong></p>
                                <p>snapshot 快照</p>
                                <p>alpha 内测</p>
                                <p>beta 公测</p>
                                <p>release 稳定版本</p>
                                <p>GA 最稳定版本</p>
                                <p>Final 正式版</p>
                                <p>Pro(professional) 专业版</p>
                                <p>Plus 加强版</p>
                                <p>Retail 零售版</p>
                                <p>DEMO 演示版</p>
                                <p>Build 内部标号</p>
                                <p>Delux 豪华版 (deluxe：豪华的，华丽的)</p>
                                <p>Corporation或Enterpraise 企业版</p>
                                <p>M1 M2 M3 M是milestone的简写 里程碑的意思</p>
                                <p>RC 版本RC:(Release Candidate)，几乎就不会加入新的功能了，而主要着重于除错</p>
                                <p>SR 修正版</p>
                                <p>Trial 试用版</p>
                                <p>Shareware 共享版</p>
                                <p>Full 完全版</p>
                                <p><strong>下载：</strong></p>
                                <p><a target="_blank" rel="noopener"
                                        href="https://repo.spring.io/ui/native/release">https://repo.spring.io/ui/native/release</a>
                                </p>
                                <p><a target="_blank" rel="noopener"
                                        href="https://repo.spring.io/ui/native/release/org/springframework/spring">https://repo.spring.io/ui/native/release/org/springframework/spring</a>
                                </p>
                                <p>注：本文档使用5.2.6</p>
                                <h1 id="%E5%88%9B%E5%BB%BA%E6%99%AE%E9%80%9A%E5%B7%A5%E7%A8%8B">创建普通工程</h1>
                                <h2 id="%E6%96%B0%E5%BB%BA%E9%A1%B9%E7%9B%AE" id="新建项目">新建项目</h2>
                                <p><img src="http://rcy276gfy.hd-bkt.clouddn.com/work/image-20211220203738801.png"
                                        alt="image-20211220203738801" /></p>
                                <h2 id="%E5%BC%95%E5%85%A5%E4%BE%9D%E8%B5%96" id="引入依赖">引入依赖</h2>
                                <p>对应 Core中四个包引入，以及commons-logging-1.1.1.jar</p>
                                <p><img src="http://rcy276gfy.hd-bkt.clouddn.com/work/image-20211220203220699.png"
                                        alt="Spring 模块" /></p>
                                <p><img src="http://rcy276gfy.hd-bkt.clouddn.com/work/image-20211220203320132.png"
                                        alt="image-20211220203320132" /></p>
                                <p><img src="http://rcy276gfy.hd-bkt.clouddn.com/work/image-20211220203432947.png"
                                        alt="image-20211220203432947" /></p>
                                <p>新建lib文件夹并引入jar包</p>
                                <p><img src="http://rcy276gfy.hd-bkt.clouddn.com/work/image-20211220204443949.png"
                                        alt="image-20211220204443949" /></p>
                                <p><img src="http://rcy276gfy.hd-bkt.clouddn.com/work/image-20211220204543944.png"
                                        alt="image-20211220204543944" /></p>
                                <p><img src="http://rcy276gfy.hd-bkt.clouddn.com/work/image-20211220210808540.png"
                                        alt="image-20211220210808540" /></p>
                                <h2 id="%E5%88%9B%E5%BB%BA%E6%B5%8B%E8%AF%95%E7%B1%BB" id="创建测试类">创建测试类</h2>
                                <figure class="highlight java">
                                    <table>
                                        <tr>
                                            <td class="gutter">
                                                <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre>
                                            </td>
                                            <td class="code">
                                                <pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">User</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Add</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;add.......&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre>
                                            </td>
                                        </tr>
                                    </table>
                                </figure>
                                <h2 id="%E5%88%9B%E5%BB%BAxml" id="创建XML">创建XML</h2>
                                <p><img src="http://rcy276gfy.hd-bkt.clouddn.com/work/image-20211220205251963.png"
                                        alt="image-20211220205251963" /></p>
                                <figure class="highlight xml">
                                    <table>
                                        <tr>
                                            <td class="gutter">
                                                <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre>
                                            </td>
                                            <td class="code">
                                                <pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.springframework.org/schema/beans&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!--配置User对象创建--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;user&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.lxl.spring5.User&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre>
                                            </td>
                                        </tr>
                                    </table>
                                </figure>
                                <h2 id="%E6%B5%8B%E8%AF%95%E4%BB%A3%E7%A0%81" id="测试代码">测试代码</h2>
                                <figure class="highlight java">
                                    <table>
                                        <tr>
                                            <td class="gutter">
                                                <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre>
                                            </td>
                                            <td class="code">
                                                <pre><span class="line"><span class="keyword">package</span> com.lxl.spring5.testdemo;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.lxl.spring5.User;</span><br><span class="line"><span class="keyword">import</span> org.junit.Test;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.ApplicationContext;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.support.ClassPathXmlApplicationContext;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.support.FileSystemXmlApplicationContext;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestSpring5</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testAdd</span><span class="params">()</span></span>&#123;</span><br><span class="line"><span class="comment">//1 加载 spring 配置文件</span></span><br><span class="line"><span class="comment">//      ClassPathXmlApplicationContext()  	web src 下配置文件</span></span><br><span class="line"><span class="comment">//        FileSystemXmlApplicationContext()   指定盘符路径配置文件</span></span><br><span class="line">        ApplicationContext context =</span><br><span class="line">                <span class="keyword">new</span>  ClassPathXmlApplicationContext(<span class="string">&quot;bean1.xml&quot;</span>);</span><br><span class="line">        <span class="comment">//2 获取配置创建的对象，user为配置文件中id</span></span><br><span class="line">        User user = context.getBean(<span class="string">&quot;user&quot;</span>, User.class);</span><br><span class="line">        System.out.println(user);</span><br><span class="line">        user.add();</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">结果：</span><br><span class="line">com.intellij.rt.junit.JUnitStarter -ideVersion5 com.lxl.spring5.testdemo.TestSpring5,testAdd</span><br><span class="line">com.lxl.spring5.User@46daef40</span><br><span class="line">add.......</span><br><span class="line"></span><br><span class="line">Process finished with exit code <span class="number">0</span></span><br></pre>
                                            </td>
                                        </tr>
                                    </table>
                                </figure>
                                <h1 id="ioc%E3%80%90inversion-of-control%E3%80%91">IOC【Inversion of Control】</h1>
                                <h2 id="%E6%A6%82%E5%BF%B5%E5%8E%9F%E7%90%86" id="概念原理">概念原理</h2>
                                <h3 id="%E6%A6%82%E5%BF%B5" id="概念">概念</h3>
                                <p>（1） 控制反转，把对象创建和对象之间的调用过程，交给 Spring 进行管理<br />
                                    （2） 使用 IOC 目的：为了耦合度降低（改）<br />
                                    （3） 上面入门案例就是 IOC 实现</p>
                                <h3 id="%E5%8E%9F%E7%90%86" id="原理">原理</h3>
                                <p>xml 解析、<strong>工厂模式</strong>、反射</p>
                                <h3 id="%E5%BA%95%E5%B1%82" id="底层">底层</h3>
                                <h4 id="%E4%BC%98%E5%8C%961" id="优化1">优化1</h4>
                                <p>new对象---》工厂模式创建（让创建类与被创建类不耦合，比如被创建类地址改变创建类必须改变）</p>
                                <p><img src="http://rcy276gfy.hd-bkt.clouddn.com/work/image-20211220211546953.png"
                                        alt="image-20211220211546953" /></p>
                                <p><img src="http://rcy276gfy.hd-bkt.clouddn.com/work/image-20211220211515465.png"
                                        alt="" /></p>
                                <h4 id="%E4%BC%98%E5%8C%962" id="优化2">优化2</h4>
                                <p>解析XML--》反射创建对象</p>
                                <p><img src="http://rcy276gfy.hd-bkt.clouddn.com/work/%E5%9B%BE2.png" alt="图2" /></p>
                                <h2 id="ioc%E5%AE%B9%E5%99%A8" id="IOC容器">IOC容器</h2>
                                <p>1、IOC思想基于IOC容器完成，IOC容器底层就是对象工厂<br />
                                    2、Spring提供IOC容器实现两种方式：（两个接口）<br />
                                    （1）BeanFactory：IOC容器基本实现，是Spring内部的使用接口，<strong>不提供开发人员进行使用</strong>。加载配置文件时候不创建对象，在获取对象（使用）才去创建对象<br />
                                    （2）<strong>ApplicationContext</strong>：BeanFactory接口的子接口，提供更多更强大的功能，一般由开发人员进行使用。加载配置文件时候就会把在配置文件对象进行创建，服务器启动时，对web运行时效果更好。
                                </p>
                                <h3 id="%E6%9F%A5%E7%9C%8B%E5%AE%9E%E7%8E%B0%E7%B1%BB%EF%BC%88ctrl%2Bh%EF%BC%89"
                                    id="查看实现类（Ctrl-H）">查看实现类（Ctrl+H）</h3>
                                <p><strong>ApplicationContext：</strong></p>
                                <p><img src="http://rcy276gfy.hd-bkt.clouddn.com/work/image-20211220213213430.png"
                                        alt="image-20211220213213430" /></p>
                                <h2 id="ioc%E6%93%8D%E4%BD%9Cbean%E7%AE%A1%E7%90%86" id="IOC操作Bean管理">IOC操作Bean管理</h2>
                                <h3 id="1%E3%80%81%E4%BB%80%E4%B9%88%E6%98%AFbean%E7%AE%A1%E7%90%86" id="1、什么是Bean管理">
                                    1、什么是Bean管理</h3>
                                <p>Bean管理指的是两个操作<br />
                                    （1）Spring创建对象<br />
                                    （2）Spirng注入属性</p>
                                <h3 id="2%E3%80%81bean%E7%AE%A1%E7%90%86%E6%93%8D%E4%BD%9C%E6%9C%89%E4%B8%A4%E7%A7%8D%E6%96%B9%E5%BC%8F"
                                    id="2、Bean管理操作有两种方式">2、Bean管理操作有两种方式</h3>
                                <h4 id="%EF%BC%881%EF%BC%89xml%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E6%96%B9%E5%BC%8F"
                                    id="（1）xml配置文件方式">（1）xml配置文件方式</h4>
                                <h5 id="1%E3%80%81%E5%9F%BA%E4%BA%8Exml%E6%96%B9%E5%BC%8F%E5%88%9B%E5%BB%BA%E5%AF%B9%E8%B1%A1"
                                    id="1、基于xml方式创建对象">1、基于xml方式创建对象</h5>
                                <figure class="highlight xml">
                                    <table>
                                        <tr>
                                            <td class="gutter">
                                                <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre>
                                            </td>
                                            <td class="code">
                                                <pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.springframework.org/schema/beans&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!--配置User对象创建</span></span><br><span class="line"><span class="comment">    （1）在spring配置文件中，使用bean标签，标签里面添加对应属性，就可以实现对象创建</span></span><br><span class="line"><span class="comment">    （2）在bean标签有很多属性，介绍常用的属性</span></span><br><span class="line"><span class="comment">    * id属性：唯一标识，不可加特殊字符</span></span><br><span class="line"><span class="comment">    * name :唯一表示，可加特殊字符</span></span><br><span class="line"><span class="comment">    * class属性：类全路径（包类路径）</span></span><br><span class="line"><span class="comment">    （3）创建对象时候，默认也是执行无参数构造方法完成对象创建</span></span><br><span class="line"><span class="comment">    --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;user&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.lxl.spring5.User&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre>
                                            </td>
                                        </tr>
                                    </table>
                                </figure>
                                <h5 id="2%E3%80%81%E5%9F%BA%E4%BA%8Exml%E6%96%B9%E5%BC%8F%E6%B3%A8%E5%85%A5%E5%B1%9E%E6%80%A7"
                                    id="2、基于xml方式注入属性">2、基于xml方式注入属性</h5>
                                <p>​ <strong>DI</strong>：依赖注入，就是注入属性,IOC的一种具体实现，注入属性需要在创建对象的基础之上完成。</p>
                                <h6 id="2.1set%E6%96%B9%E6%B3%95%E8%BF%9B%E8%A1%8C%E6%B3%A8%E5%85%A5" id="2-1set方法进行注入">
                                    2.1set方法进行注入</h6>
                                <ul>
                                    <li>创建类，定义属性和对应的set方法</li>
                                </ul>
                                <figure class="highlight java">
                                    <table>
                                        <tr>
                                            <td class="gutter">
                                                <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre>
                                            </td>
                                            <td class="code">
                                                <pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Book</span> </span>&#123;</span><br><span class="line">    <span class="comment">//创建属性</span></span><br><span class="line">    <span class="keyword">private</span> String bname;</span><br><span class="line">    <span class="keyword">private</span> String bauthor;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//set方法进行注入属性</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setBname</span><span class="params">(String bname)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.bname = bname;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setBauthor</span><span class="params">(String bauthor)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.bauthor = bauthor;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre>
                                            </td>
                                        </tr>
                                    </table>
                                </figure>
                                <ul>
                                    <li>在spring配置文件配置对象创建，配置属性注入</li>
                                </ul>
                                <figure class="highlight xml">
                                    <table>
                                        <tr>
                                            <td class="gutter">
                                                <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre>
                                            </td>
                                            <td class="code">
                                                <pre><span class="line"><span class="comment">&lt;!--=========================set方法注入属性=============================================--&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--2 set方法注入属性--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;book&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.lxl.spring5.Book&quot;</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--使用property完成属性注入 name：类里面属性名称 value：向属性注入的值 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;bname&quot;</span> <span class="attr">value</span>=<span class="string">&quot;易筋经&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;bauthor&quot;</span> <span class="attr">value</span>=<span class="string">&quot;达摩老祖&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre>
                                            </td>
                                        </tr>
                                    </table>
                                </figure>
                                <h6 id="2.2%E6%9C%89%E5%8F%82%E6%95%B0%E6%9E%84%E9%80%A0%E8%BF%9B%E8%A1%8C%E6%B3%A8%E5%85%A5"
                                    id="2-2有参数构造进行注入">2.2有参数构造进行注入</h6>
                                <ul>
                                    <li>创建类，定义属性，创建属性对应有参数构造方法</li>
                                </ul>
                                <figure class="highlight java">
                                    <table>
                                        <tr>
                                            <td class="gutter">
                                                <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre>
                                            </td>
                                            <td class="code">
                                                <pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 使用有参数构造注入</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Orders</span> </span>&#123;</span><br><span class="line">    <span class="comment">//属性</span></span><br><span class="line">    <span class="keyword">private</span> String oname;</span><br><span class="line">    <span class="keyword">private</span> String address;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//有参数构造</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Orders</span><span class="params">(String oname, String address)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.oname = oname;</span><br><span class="line">        <span class="keyword">this</span>.address = address;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">ShowOrder</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(oname+<span class="string">&quot;::&quot;</span>+address);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre>
                                            </td>
                                        </tr>
                                    </table>
                                </figure>
                                <ul>
                                    <li>
                                        <p>配置文件创建对象，有参注入属性</p>
                                        <figure class="highlight xml">
                                            <table>
                                                <tr>
                                                    <td class="gutter">
                                                        <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre>
                                                    </td>
                                                    <td class="code">
                                                        <pre><span class="line"><span class="comment">&lt;!--==========================有参构造注入===========================================--&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--3 有参构造注入--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;orders&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.lxl.spring5.Orders&quot;</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--        &lt;constructor-arg index=&quot;0&quot; value=&quot;&quot;/&gt;  效果同下--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">constructor-arg</span> <span class="attr">name</span>=<span class="string">&quot;oname&quot;</span> <span class="attr">value</span>=<span class="string">&quot;电脑&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">constructor-arg</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--        &lt;constructor-arg index=&quot;1&quot; value=&quot;&quot;/&gt;--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">constructor-arg</span> <span class="attr">name</span>=<span class="string">&quot;address&quot;</span> <span class="attr">value</span>=<span class="string">&quot;China&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">constructor-arg</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre>
                                                    </td>
                                                </tr>
                                            </table>
                                        </figure>
                                    </li>
                                </ul>
                                <h6 id="2.3p%E5%90%8D%E7%A7%B0%E7%A9%BA%E9%97%B4%E6%B3%A8%E5%85%A5" id="2-3p名称空间注入">
                                    2.3p名称空间注入</h6>
                                <ul>
                                    <li>
                                        <p>使用p名称空间注入，可以简化基于xml配置方式</p>
                                    </li>
                                    <li>
                                        <p>第一步 添加p名称空间在配置文件中</p>
                                        <figure class="highlight xml">
                                            <table>
                                                <tr>
                                                    <td class="gutter">
                                                        <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre>
                                                    </td>
                                                    <td class="code">
                                                        <pre><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.springframework.org/schema/beans&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:p</span>=<span class="string">&quot;http://www.springframework.org/schema/p&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd&quot;</span>&gt;</span></span><br></pre>
                                                    </td>
                                                </tr>
                                            </table>
                                        </figure>
                                    </li>
                                    <li>
                                        <p>第二步 进行属性注入，在bean标签里面进行操作</p>
                                    </li>
                                </ul>
                                <figure class="highlight xml">
                                    <table>
                                        <tr>
                                            <td class="gutter">
                                                <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre>
                                            </td>
                                            <td class="code">
                                                <pre><span class="line"><span class="comment">&lt;!--=========================set方法注入属性=============================================--&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--2 set方法注入属性--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;book&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.lxl.spring5.Book&quot;</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--使用property完成属性注入 name：类里面属性名称 value：向属性注入的值 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;bname&quot;</span> <span class="attr">value</span>=<span class="string">&quot;易筋经&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;bauthor&quot;</span> <span class="attr">value</span>=<span class="string">&quot;达摩老祖&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--2.1 p名称空间注入方式，已达到简化目的--&gt;</span> </span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;book&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.lxl.spring5.Book&quot;</span> <span class="attr">p:bname</span>=<span class="string">&quot;易筋经&quot;</span> <span class="attr">p:bauthor</span>=<span class="string">&quot;达摩老祖&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre>
                                            </td>
                                        </tr>
                                    </table>
                                </figure>
                                <h6 id="2.4xml%E6%B3%A8%E5%85%A5%E5%85%B6%E4%BB%96%E7%B1%BB%E5%9E%8B%E5%B1%9E%E6%80%A7"
                                    id="2-4xml注入其他类型属性">2.4xml注入其他类型属性</h6>
                                <p>**字面量：**属性设置的固定值。</p>
                                <ul>
                                    <li>null值 ： &lt;property name=&quot;bname&quot; <s>value=&quot;易筋经&quot;</s>&gt;
                                        <null />
                                        </property>
                                    </li>
                                    <li>包含特殊符号：<property name="bname" value="<<易筋经>>"></property> 解决：转义、特殊内容写到
                                        <![CDATA[<<易筋经>>]]> 即：<property name="bname">
                                            <value>
                                                <![CDATA[<<易筋经>>]]>
                                            </value>
                                        </property>
                                    </li>
                                </ul>
                                <p><strong>注入属性-外部bean</strong><br />
                                    （1）创建两个类 service类和dao类</p>
                                <p>（2）在service调用dao里面的方法</p>
                                <figure class="highlight java">
                                    <table>
                                        <tr>
                                            <td class="gutter">
                                                <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre>
                                            </td>
                                            <td class="code">
                                                <pre><span class="line"><span class="keyword">package</span> com.lxl.spring5.service;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.lxl.spring5.dao.UserDao;</span><br><span class="line"><span class="keyword">import</span> com.lxl.spring5.dao.UserDaoImpl;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UserService</span> </span>&#123;</span><br><span class="line">    <span class="comment">//创建UserDao类型属性，生成set方法</span></span><br><span class="line">    <span class="keyword">private</span> UserDao userDao;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setUserDao</span><span class="params">(UserDao userDao)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.userDao = userDao;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">add</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;service add...............&quot;</span>);</span><br><span class="line">        <span class="comment">//    原始创建对象</span></span><br><span class="line"><span class="comment">//        UserDao userDao = new UserDaoImpl();</span></span><br><span class="line"><span class="comment">//        userDao.update();</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre>
                                            </td>
                                        </tr>
                                    </table>
                                </figure>
                                <figure class="highlight java">
                                    <table>
                                        <tr>
                                            <td class="gutter">
                                                <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre>
                                            </td>
                                            <td class="code">
                                                <pre><span class="line"><span class="keyword">package</span> com.lxl.spring5.dao;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> Administrator</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">UserDao</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">update</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br></pre>
                                            </td>
                                        </tr>
                                    </table>
                                </figure>
                                <figure class="highlight java">
                                    <table>
                                        <tr>
                                            <td class="gutter">
                                                <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre>
                                            </td>
                                            <td class="code">
                                                <pre><span class="line"><span class="keyword">package</span> com.lxl.spring5.dao;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UserDaoImpl</span> <span class="keyword">implements</span> <span class="title">UserDao</span></span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">update</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;dao update--------&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre>
                                            </td>
                                        </tr>
                                    </table>
                                </figure>
                                <p>（3）在spring配置文件中进行配置</p>
                                <figure class="highlight xml">
                                    <table>
                                        <tr>
                                            <td class="gutter">
                                                <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre>
                                            </td>
                                            <td class="code">
                                                <pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.springframework.org/schema/beans&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--1 service和dao对象创建--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;userService&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.lxl.spring5.service.UserService&quot;</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--注入userDao对象</span></span><br><span class="line"><span class="comment">        name属性：类里面属性名称</span></span><br><span class="line"><span class="comment">        ref属性：创建userDao对象bean标签id值 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;userDao&quot;</span> <span class="attr">ref</span>=<span class="string">&quot;userDaoImpl&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;userDaoImpl&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.lxl.spring5.dao.UserDaoImpl&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre>
                                            </td>
                                        </tr>
                                    </table>
                                </figure>
                                <p>（4）测试</p>
                                <figure class="highlight java">
                                    <table>
                                        <tr>
                                            <td class="gutter">
                                                <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre>
                                            </td>
                                            <td class="code">
                                                <pre><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testAdd</span><span class="params">()</span></span>&#123;</span><br><span class="line"><span class="comment">//1 加载 spring 配置文件</span></span><br><span class="line"><span class="comment">//      ClassPathXmlApplicationContext()  web src 下配置文件</span></span><br><span class="line"><span class="comment">//        FileSystemXmlApplicationContext()   指定路径配置文件</span></span><br><span class="line">        ApplicationContext context =</span><br><span class="line">                <span class="keyword">new</span>  ClassPathXmlApplicationContext(<span class="string">&quot;bean2.xml&quot;</span>);</span><br><span class="line">        <span class="comment">//2 获取配置创建的对象，user为配置文件中id</span></span><br><span class="line">        UserService userService = context.getBean(<span class="string">&quot;userService&quot;</span>, UserService.class);</span><br><span class="line">        System.out.println(userService);</span><br><span class="line">        userService.add();</span><br><span class="line"></span><br><span class="line">    &#125;</span><br></pre>
                                            </td>
                                        </tr>
                                    </table>
                                </figure>
                                <p><strong>注入属性-内部bean</strong></p>
                                <p>​ 当一个bean仅被用作另一个bean的属性时，它能被声明为一个内部bean，为了定义innerbean，在Spring的基于XML的配置元数据中，可以在
                                    <property />或
                                    <constructor-arg />元素内使用
                                    <bean />元素，内部bean通常是匿名的，它们的Scope一般是prototype
                                </p>
                                <p>（1）一对多两个类：</p>
                                <figure class="highlight java">
                                    <table>
                                        <tr>
                                            <td class="gutter">
                                                <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre>
                                            </td>
                                            <td class="code">
                                                <pre><span class="line"><span class="keyword">package</span> com.lxl.spring5.bean;</span><br><span class="line"></span><br><span class="line"><span class="comment">//员工类</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Emp</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> String ename;</span><br><span class="line">    <span class="keyword">private</span> String gender;</span><br><span class="line">    <span class="comment">//一对多</span></span><br><span class="line">    <span class="comment">//员工属于某一个部门，使用对象形式表示</span></span><br><span class="line">    <span class="keyword">private</span> Dept dept;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setDept</span><span class="params">(Dept dept)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.dept = dept;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setEname</span><span class="params">(String ename)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.ename = ename;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setGender</span><span class="params">(String gender)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.gender = gender;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">add</span><span class="params">()</span></span>&#123;</span><br><span class="line">    System.out.println(ename+<span class="string">&quot;::&quot;</span>+gender+<span class="string">&quot;::&quot;</span>+dept);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre>
                                            </td>
                                        </tr>
                                    </table>
                                </figure>
                                <figure class="highlight java">
                                    <table>
                                        <tr>
                                            <td class="gutter">
                                                <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre>
                                            </td>
                                            <td class="code">
                                                <pre><span class="line"><span class="keyword">package</span> com.lxl.spring5.bean;</span><br><span class="line"><span class="comment">//部门类</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Dept</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> String dname;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setDname</span><span class="params">(String dname)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.dname = dname;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;Dept&#123;&quot;</span> +</span><br><span class="line">                <span class="string">&quot;dname=&#x27;&quot;</span> + dname + <span class="string">&#x27;\&#x27;&#x27;</span> +</span><br><span class="line">                <span class="string">&#x27;&#125;&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre>
                                            </td>
                                        </tr>
                                    </table>
                                </figure>
                                <p>（2）xml配置</p>
                                <figure class="highlight xml">
                                    <table>
                                        <tr>
                                            <td class="gutter">
                                                <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre>
                                            </td>
                                            <td class="code">
                                                <pre><span class="line"><span class="comment">&lt;!--+++++++++++++++++++注入属性-内部bean：一对多+++++++++++++++++++++++--&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--内部bean--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;emp&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.lxl.spring5.bean.Emp&quot;</span>&gt;</span> <span class="comment">&lt;!--设置两个普通属性--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;ename&quot;</span> <span class="attr">value</span>=<span class="string">&quot;lucy&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;gender&quot;</span> <span class="attr">value</span>=<span class="string">&quot;女&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span> <span class="comment">&lt;!--设置对象类型属性--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;dept&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;dept&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.lxl.spring5.bean.Dept&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;dname&quot;</span> <span class="attr">value</span>=<span class="string">&quot;安保部&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre>
                                            </td>
                                        </tr>
                                    </table>
                                </figure>
                                <p>（3）测试：</p>
                                <figure class="highlight java">
                                    <table>
                                        <tr>
                                            <td class="gutter">
                                                <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre>
                                            </td>
                                            <td class="code">
                                                <pre><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testOneToMore</span><span class="params">()</span></span>&#123;</span><br><span class="line"><span class="comment">//1 加载 spring 配置文件</span></span><br><span class="line"><span class="comment">//      ClassPathXmlApplicationContext()  web src 下配置文件</span></span><br><span class="line"><span class="comment">//        FileSystemXmlApplicationContext()   指定路径配置文件</span></span><br><span class="line">        ApplicationContext context =</span><br><span class="line">                <span class="keyword">new</span>  ClassPathXmlApplicationContext(<span class="string">&quot;bean3.xml&quot;</span>);</span><br><span class="line">        <span class="comment">//2 获取配置创建的对象，user为配置文件中id</span></span><br><span class="line">        Emp emp = context.getBean(<span class="string">&quot;emp&quot;</span>, Emp.class);</span><br><span class="line">        System.out.println(emp);</span><br><span class="line">        emp.add();</span><br><span class="line"></span><br><span class="line">    &#125;</span><br></pre>
                                            </td>
                                        </tr>
                                    </table>
                                </figure>
                                <p><strong>注入属性-级联赋值两种方式</strong></p>
                                <figure class="highlight xml">
                                    <table>
                                        <tr>
                                            <td class="gutter">
                                                <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre>
                                            </td>
                                            <td class="code">
                                                <pre><span class="line">  <span class="comment">&lt;!--    +++++++++++++++++++ 级联赋值两种方式 +++++++++++++++++++++++--&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--级联赋值   方式一 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;emp&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.lxl.spring5.bean.Emp&quot;</span>&gt;</span> <span class="comment">&lt;!--设置两个普通属性--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;ename&quot;</span> <span class="attr">value</span>=<span class="string">&quot;lucy&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;gender&quot;</span> <span class="attr">value</span>=<span class="string">&quot;女&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span> <span class="comment">&lt;!--级联赋值--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;dept&quot;</span> <span class="attr">ref</span>=<span class="string">&quot;dept&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;dept&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.lxl.spring5.bean.Dept&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;dname&quot;</span> <span class="attr">value</span>=<span class="string">&quot;财务部&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!--级联赋值   方式二 --&gt;</span></span><br><span class="line"><span class="comment">&lt;!--    设置两个普通属性 dept.dname方式需要添加dept的get方法 --&gt;</span></span><br><span class="line"><span class="comment">&lt;!--    &lt;bean id=&quot;emp&quot; class=&quot;com.lxl.spring5.bean.Emp&quot;&gt; --&gt;</span></span><br><span class="line"><span class="comment">&lt;!--        &lt;property name=&quot;ename&quot; value=&quot;lucy&quot;&gt;&lt;/property&gt;--&gt;</span></span><br><span class="line"><span class="comment">&lt;!--        &lt;property name=&quot;gender&quot; value=&quot;女&quot;&gt;&lt;/property&gt; --&gt;</span></span><br><span class="line"><span class="comment">&lt;!--        &lt;property name=&quot;dept&quot; ref=&quot;dept&quot;&gt;&lt;/property&gt;--&gt;</span></span><br><span class="line"><span class="comment">&lt;!--        &lt;property name=&quot;dept.dname&quot; value=&quot;技术部&quot;&gt;&lt;/property&gt;--&gt;</span></span><br><span class="line"><span class="comment">&lt;!--    &lt;/bean&gt;--&gt;</span></span><br><span class="line"><span class="comment">&lt;!--    &lt;bean id=&quot;dept&quot; class=&quot;com.lxl.spring5.bean.Dept&quot;&gt;--&gt;</span></span><br><span class="line"><span class="comment">&lt;!--        &lt;property name=&quot;dname&quot; value=&quot;财务部&quot;&gt;&lt;/property&gt;--&gt;</span></span><br><span class="line"><span class="comment">&lt;!--    &lt;/bean&gt;--&gt;</span></span><br></pre>
                                            </td>
                                        </tr>
                                    </table>
                                </figure>
                                <h6 id="2.5xml%E6%B3%A8%E5%85%A5%E9%9B%86%E5%90%88%E7%B1%BB%E5%B1%9E%E6%80%A7"
                                    id="2-5xml注入集合类属性">2.5xml注入集合类属性</h6>
                                <p>（1）创建类，定义数组、list、map、set类型属性，生成对应set方法</p>
                                <figure class="highlight java">
                                    <table>
                                        <tr>
                                            <td class="gutter">
                                                <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre>
                                            </td>
                                            <td class="code">
                                                <pre><span class="line"><span class="keyword">package</span> com.lxl.spring5.collectiontype;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Arrays;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"><span class="keyword">import</span> java.util.Map;</span><br><span class="line"><span class="keyword">import</span> java.util.Set;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Stu</span> </span>&#123;</span><br><span class="line">    <span class="comment">//1 数组类型属性</span></span><br><span class="line">    <span class="keyword">private</span> String[] courses;</span><br><span class="line">    <span class="comment">//2 list集合类型属性</span></span><br><span class="line">    <span class="keyword">private</span> List&lt;String&gt; list;</span><br><span class="line">    <span class="comment">//3 map集合类型属性</span></span><br><span class="line">    <span class="keyword">private</span> Map&lt;String, String&gt; maps;</span><br><span class="line">    <span class="comment">//4 set集合类型属性</span></span><br><span class="line">    <span class="keyword">private</span> Set&lt;String&gt; sets;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setSets</span><span class="params">(Set&lt;String&gt; sets)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.sets = sets;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setCourses</span><span class="params">(String[] courses)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.courses = courses;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setList</span><span class="params">(List&lt;String&gt; list)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.list = list;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setMaps</span><span class="params">(Map&lt;String, String&gt; maps)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.maps = maps;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(Arrays.toString(courses));</span><br><span class="line">        System.out.println(list);</span><br><span class="line">        System.out.println(maps);</span><br><span class="line">        System.out.println(sets);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre>
                                            </td>
                                        </tr>
                                    </table>
                                </figure>
                                <p>（2）xml配置</p>
                                <figure class="highlight xml">
                                    <table>
                                        <tr>
                                            <td class="gutter">
                                                <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre>
                                            </td>
                                            <td class="code">
                                                <pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.springframework.org/schema/beans&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--    +++++++++++++++++++ 集合类属性注入 +++++++++++++++++++++++--&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--1 集合类型属性注入--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;stu&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.lxl.spring5.collectiontype.Stu&quot;</span>&gt;</span> <span class="comment">&lt;!--数组类型属性注入--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;courses&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">array</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">value</span>&gt;</span>java课程<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">value</span>&gt;</span>数据库课程<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">array</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--list类型属性注入--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;list&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">list</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">value</span>&gt;</span>张三<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">value</span>&gt;</span>小三<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">list</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">property</span>&gt;</span> <span class="comment">&lt;!--map类型属性注入--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;maps&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">map</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">entry</span> <span class="attr">key</span>=<span class="string">&quot;JAVA&quot;</span> <span class="attr">value</span>=<span class="string">&quot;java&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">entry</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">entry</span> <span class="attr">key</span>=<span class="string">&quot;PHP&quot;</span> <span class="attr">value</span>=<span class="string">&quot;php&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">entry</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">map</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">property</span>&gt;</span> <span class="comment">&lt;!--set类型属性注入--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;sets&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">set</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">value</span>&gt;</span>MySQL<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">value</span>&gt;</span>Redis<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">set</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre>
                                            </td>
                                        </tr>
                                    </table>
                                </figure>
                                <p>（3）测试</p>
                                <figure class="highlight java">
                                    <table>
                                        <tr>
                                            <td class="gutter">
                                                <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre>
                                            </td>
                                            <td class="code">
                                                <pre><span class="line"><span class="keyword">package</span> com.lxl.spring5.testdemo;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.lxl.spring5.bean.Emp;</span><br><span class="line"><span class="keyword">import</span> com.lxl.spring5.collectiontype.Stu;</span><br><span class="line"><span class="keyword">import</span> org.junit.Test;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.ApplicationContext;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.support.ClassPathXmlApplicationContext;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestCollection</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testOneToMore</span><span class="params">()</span></span>&#123;</span><br><span class="line"><span class="comment">//1 加载 spring 配置文件</span></span><br><span class="line"><span class="comment">//      ClassPathXmlApplicationContext()  web src 下配置文件</span></span><br><span class="line"><span class="comment">//        FileSystemXmlApplicationContext()   指定路径配置文件</span></span><br><span class="line">        ApplicationContext context =</span><br><span class="line">                <span class="keyword">new</span> ClassPathXmlApplicationContext(<span class="string">&quot;bean5.xml&quot;</span>);</span><br><span class="line">        <span class="comment">//2 获取配置创建的对象，user为配置文件中id</span></span><br><span class="line">        Stu stu = context.getBean(<span class="string">&quot;stu&quot;</span>, Stu.class);</span><br><span class="line">        stu.test();</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre>
                                            </td>
                                        </tr>
                                    </table>
                                </figure>
                                <h6 id="2.6%E5%9C%A8%E9%9B%86%E5%90%88%E9%87%8C%E9%9D%A2%E8%AE%BE%E7%BD%AE%E5%AF%B9%E8%B1%A1%E7%B1%BB%E5%9E%8B%E5%80%BC"
                                    id="2-6在集合里面设置对象类型值">2.6在集合里面设置对象类型值</h6>
                                <figure class="highlight java">
                                    <table>
                                        <tr>
                                            <td class="gutter">
                                                <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre>
                                            </td>
                                            <td class="code">
                                                <pre><span class="line"><span class="keyword">package</span> com.lxl.spring5.collectiontype;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Arrays;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"><span class="keyword">import</span> java.util.Map;</span><br><span class="line"><span class="keyword">import</span> java.util.Set;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Stu</span> </span>&#123;</span><br><span class="line">    <span class="comment">//1 数组类型属性</span></span><br><span class="line">    <span class="keyword">private</span> String[] courses;</span><br><span class="line">    <span class="comment">//2 list集合类型属性</span></span><br><span class="line">    <span class="keyword">private</span> List&lt;String&gt; list;</span><br><span class="line">    <span class="comment">//3 map集合类型属性</span></span><br><span class="line">    <span class="keyword">private</span> Map&lt;String, String&gt; maps;</span><br><span class="line">    <span class="comment">//4 set集合类型属性</span></span><br><span class="line">    <span class="keyword">private</span> Set&lt;String&gt; sets;</span><br><span class="line">	<span class="comment">//5 List集合中为对象类型属性</span></span><br><span class="line">    <span class="keyword">private</span> List&lt;Course&gt; courseList;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setCourseList</span><span class="params">(List&lt;Course&gt; courseList)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.courseList = courseList;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setSets</span><span class="params">(Set&lt;String&gt; sets)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.sets = sets;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setCourses</span><span class="params">(String[] courses)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.courses = courses;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setList</span><span class="params">(List&lt;String&gt; list)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.list = list;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setMaps</span><span class="params">(Map&lt;String, String&gt; maps)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.maps = maps;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(Arrays.toString(courses));</span><br><span class="line">        System.out.println(list);</span><br><span class="line">        System.out.println(maps);</span><br><span class="line">        System.out.println(sets);</span><br><span class="line">        System.out.println(courseList);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre>
                                            </td>
                                        </tr>
                                    </table>
                                </figure>
                                <figure class="highlight java">
                                    <table>
                                        <tr>
                                            <td class="gutter">
                                                <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre>
                                            </td>
                                            <td class="code">
                                                <pre><span class="line"><span class="keyword">package</span> com.lxl.spring5.collectiontype;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Course</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> String cname;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setCname</span><span class="params">(String cname)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.cname = cname;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;Course&#123;&quot;</span> +</span><br><span class="line">                <span class="string">&quot;cname=&#x27;&quot;</span> + cname + <span class="string">&#x27;\&#x27;&#x27;</span> +</span><br><span class="line">                <span class="string">&#x27;&#125;&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre>
                                            </td>
                                        </tr>
                                    </table>
                                </figure>
                                <figure class="highlight xml">
                                    <table>
                                        <tr>
                                            <td class="gutter">
                                                <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre>
                                            </td>
                                            <td class="code">
                                                <pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.springframework.org/schema/beans&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--    +++++++++++++++++++ 集合类属性注入、集合内为对象情况注入 +++++++++++++++++++++++--&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--1 集合类型属性注入--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;stu&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.lxl.spring5.collectiontype.Stu&quot;</span>&gt;</span> <span class="comment">&lt;!--数组类型属性注入--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;courses&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">array</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">value</span>&gt;</span>java课程<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">value</span>&gt;</span>数据库课程<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">array</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--list类型属性注入--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;list&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">list</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">value</span>&gt;</span>张三<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">value</span>&gt;</span>小三<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">list</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">property</span>&gt;</span> <span class="comment">&lt;!--map类型属性注入--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;maps&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">map</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">entry</span> <span class="attr">key</span>=<span class="string">&quot;JAVA&quot;</span> <span class="attr">value</span>=<span class="string">&quot;java&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">entry</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">entry</span> <span class="attr">key</span>=<span class="string">&quot;PHP&quot;</span> <span class="attr">value</span>=<span class="string">&quot;php&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">entry</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">map</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">property</span>&gt;</span> <span class="comment">&lt;!--set类型属性注入--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;sets&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">set</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">value</span>&gt;</span>MySQL<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">value</span>&gt;</span>Redis<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">set</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--注入list集合类型，值是对象--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;courseList&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">list</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">ref</span> <span class="attr">bean</span>=<span class="string">&quot;course1&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">ref</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">ref</span> <span class="attr">bean</span>=<span class="string">&quot;course2&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">ref</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">list</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;course1&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.lxl.spring5.collectiontype.Course&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;cname&quot;</span> <span class="attr">value</span>=<span class="string">&quot;Spring5框架&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;course2&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.lxl.spring5.collectiontype.Course&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;cname&quot;</span> <span class="attr">value</span>=<span class="string">&quot;MyBatis框架&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre>
                                            </td>
                                        </tr>
                                    </table>
                                </figure>
                                <p>把集合注入部分提取出来</p>
                                <figure class="highlight java">
                                    <table>
                                        <tr>
                                            <td class="gutter">
                                                <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre>
                                            </td>
                                            <td class="code">
                                                <pre><span class="line"><span class="keyword">package</span> com.lxl.spring5.collectiontype;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Book</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> List&lt;String&gt; list;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setList</span><span class="params">(List&lt;String&gt; list)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.list = list;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(list);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre>
                                            </td>
                                        </tr>
                                    </table>
                                </figure>
                                <figure class="highlight xml">
                                    <table>
                                        <tr>
                                            <td class="gutter">
                                                <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre>
                                            </td>
                                            <td class="code">
                                                <pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.springframework.org/schema/beans&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:util</span>=<span class="string">&quot;http://www.springframework.org/schema/util&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd</span></span></span><br><span class="line"><span class="tag"><span class="string">       http://www.springframework.org/schema/util http://www.springframework.org/schema/util/spring-util.xsd&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--    +++++++++++++++++++ 集合内为对象情况注入 +++++++++++++++++++++++--&gt;</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">&lt;!--1 加util元空间</span></span><br><span class="line"><span class="comment">      xmlns:util=&quot;http://www.springframework.org/schema/util&quot;</span></span><br><span class="line"><span class="comment">       http://www.springframework.org/schema/util http://www.springframework.org/schema/util/spring-util.xsd</span></span><br><span class="line"><span class="comment">    --&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--2 提取list集合类型属性注入--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">util:list</span> <span class="attr">id</span>=<span class="string">&quot;bookList&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">value</span>&gt;</span>易筋经<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">value</span>&gt;</span>九阴真经<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">value</span>&gt;</span>九阳神功<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">util:list</span>&gt;</span> <span class="comment">&lt;!--3 提取list集合类型属性注入使用--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;book&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.lxl.spring5.collectiontype.Book&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;list&quot;</span> <span class="attr">ref</span>=<span class="string">&quot;bookList&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre>
                                            </td>
                                        </tr>
                                    </table>
                                </figure>
                                <p>测试类</p>
                                <figure class="highlight java">
                                    <table>
                                        <tr>
                                            <td class="gutter">
                                                <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre>
                                            </td>
                                            <td class="code">
                                                <pre><span class="line"><span class="keyword">package</span> com.lxl.spring5.testdemo;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.lxl.spring5.collectiontype.Book;</span><br><span class="line"><span class="keyword">import</span> com.lxl.spring5.bean.Emp;</span><br><span class="line"><span class="keyword">import</span> com.lxl.spring5.collectiontype.Stu;</span><br><span class="line"><span class="keyword">import</span> org.junit.Test;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.ApplicationContext;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.support.ClassPathXmlApplicationContext;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestCollection</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testOneToMore</span><span class="params">()</span></span>&#123;</span><br><span class="line"><span class="comment">//1 加载 spring 配置文件</span></span><br><span class="line"><span class="comment">//      ClassPathXmlApplicationContext()  web src 下配置文件</span></span><br><span class="line"><span class="comment">//        FileSystemXmlApplicationContext()   指定路径配置文件</span></span><br><span class="line">        ApplicationContext context =</span><br><span class="line">                <span class="keyword">new</span> ClassPathXmlApplicationContext(<span class="string">&quot;bean5.xml&quot;</span>);</span><br><span class="line">        <span class="comment">//2 获取配置创建的对象，user为配置文件中id</span></span><br><span class="line">        Stu stu = context.getBean(<span class="string">&quot;stu&quot;</span>, Stu.class);</span><br><span class="line">        stu.test();</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testOneToMore1</span><span class="params">()</span></span>&#123;</span><br><span class="line"><span class="comment">//1 加载 spring 配置文件</span></span><br><span class="line"><span class="comment">//      ClassPathXmlApplicationContext()  web src 下配置文件</span></span><br><span class="line"><span class="comment">//        FileSystemXmlApplicationContext()   指定路径配置文件</span></span><br><span class="line">        ApplicationContext context =</span><br><span class="line">                <span class="keyword">new</span> ClassPathXmlApplicationContext(<span class="string">&quot;bean6.xml&quot;</span>);</span><br><span class="line">        <span class="comment">//2 获取配置创建的对象，user为配置文件中id</span></span><br><span class="line">        Book book = context.getBean(<span class="string">&quot;book&quot;</span>, Book.class);</span><br><span class="line">        book.test();</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre>
                                            </td>
                                        </tr>
                                    </table>
                                </figure>
                                <h6 id="2.7factorybean" id="2-7FactoryBean">2.7FactoryBean</h6>
                                <p>1、Spring有两种类型bean，一种普通bean，另外一种工厂bean（FactoryBean）<br />
                                    2、普通bean：在配置文件中定义bean类型就是返回类型<br />
                                    3、工厂bean：在配置文件定义bean类型可以和返回类型不一样<br />
                                    第一步 创建类，让这个类作为工厂bean，实现接口 FactoryBean<br />
                                    第二步 实现接口里面的方法，在实现的方法中定义返回的bean类型</p>
                                <figure class="highlight java">
                                    <table>
                                        <tr>
                                            <td class="gutter">
                                                <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre>
                                            </td>
                                            <td class="code">
                                                <pre><span class="line"><span class="keyword">package</span> com.lxl.spring5.factorybean;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.lxl.spring5.collectiontype.Course;</span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.FactoryBean;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**FactoryBean*/</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyBean</span> <span class="keyword">implements</span> <span class="title">FactoryBean</span>&lt;<span class="title">Course</span>&gt; </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**定义返回bean类型*/</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Course <span class="title">getObject</span><span class="params">()</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        Course course=<span class="keyword">new</span> Course();</span><br><span class="line">        course.setCname(<span class="string">&quot;体育课&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> course;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> Class&lt;?&gt; getObjectType() &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isSingleton</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> FactoryBean.<span class="keyword">super</span>.isSingleton();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre>
                                            </td>
                                        </tr>
                                    </table>
                                </figure>
                                <figure class="highlight xml">
                                    <table>
                                        <tr>
                                            <td class="gutter">
                                                <pre><span class="line">1</span><br><span class="line">2</span><br></pre>
                                            </td>
                                            <td class="code">
                                                <pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;myBean&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.lxl.spring5.factorybean.MyBean&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre>
                                            </td>
                                        </tr>
                                    </table>
                                </figure>
                                <figure class="highlight java">
                                    <table>
                                        <tr>
                                            <td class="gutter">
                                                <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre>
                                            </td>
                                            <td class="code">
                                                <pre><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testFactoryBean</span><span class="params">()</span></span>&#123;</span><br><span class="line">        ApplicationContext context =</span><br><span class="line">                <span class="keyword">new</span>  ClassPathXmlApplicationContext(<span class="string">&quot;bean7.xml&quot;</span>);</span><br><span class="line">        <span class="comment">//2 获取配置创建的对象，user为配置文件中id</span></span><br><span class="line"><span class="comment">//        MyBean myBean = context.getBean(&quot;myBean&quot;, MyBean.class);</span></span><br><span class="line">        Course myBean = context.getBean(<span class="string">&quot;myBean&quot;</span>, Course.class);</span><br><span class="line">        System.out.println(myBean);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br></pre>
                                            </td>
                                        </tr>
                                    </table>
                                </figure>
                                <h6 id="2.8-bean-%E4%BD%9C%E7%94%A8%E5%9F%9F" id="2-8-bean-作用域">2.8 bean 作用域</h6>
                                <p>1、在Spring里面，设置创建bean实例是单实例还是多实例</p>
                                <p>2、在Spring里面，默认情况下，bean是单实例对象</p>
                                <p><img src="http://rcy276gfy.hd-bkt.clouddn.com/work/image-20211222133903156.png"
                                        alt="image-20211222133903156" /></p>
                                <p><img src="http://rcy276gfy.hd-bkt.clouddn.com/work/image-20211222133909263.png"
                                        alt="image-20211222133909263" /></p>
                                <p>3、如何设置单实例还是多实例<br />
                                    （1）在spring配置文件bean标签里面有属性（scope）用于设置单实例还是多实例，spring中可使用@Scope注解<br />
                                    （2）scope属性值<br />
                                    <strong>默认值，singleton</strong>，表示是单实例对象<br />
                                    prototype，表示是多实例对象<br />
                                    request：每次http请求都会创建一个bean，该作用域仅在基于web的SpringApplicationContext情形下有效。<br />
                                    session：在一个HTTPSession中，一个bean定义对应一个实例。该作用域仅在基于web的SpringApplicationContext情形下有效。<br />
                                    global-session：在一个全局的HTTPSession中，一个bean定义对应一个实例。该作用域仅在基于web的SpringApplicationContext情形下有效。
                                </p>
                                <p><img src="http://rcy276gfy.hd-bkt.clouddn.com/work/image-20211222133948110.png"
                                        alt="image-20211222133948110" /></p>
                                <p><img src="http://rcy276gfy.hd-bkt.clouddn.com/work/image-20211222133953490.png"
                                        alt="image-20211222133953490" /></p>
                                <p>（3）singleton和prototype区别<br />
                                    第一 singleton单实例，prototype多实例。<br />
                                    第二 设置scope值是singleton时候，<strong>加载spring配置文件</strong>时候就会创建单实例对象。<br />
                                    设置scope值是prototype时候，不是在加载spring配置文件时候创建对象，而是在在调用<strong>getBean</strong>方法时候创建多实例对象。
                                </p>
                                <h6 id="2.9bean%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F" id="2-9Bean生命周期">2.9Bean生命周期</h6>
                                <p>（1）通过<strong>构造器创建bean实例</strong>（无参数构造）<br />
                                    （2）为bean的<strong>属性设置值</strong>和<strong>对其他bean引用</strong>（调用set方法）<br />
                                    （3）调用bean的<strong>初始化的方法</strong>（需要进行配置初始化的方法）<br />
                                    （4）bean可以使用了（对象获取到了）<br />
                                    （5）当<strong>容器关闭</strong>时候，调用bean的<strong>销毁</strong>的方法（需要进行配置销毁的方法）</p>
                                <p>创建实例 ==》 根据定义填充其属性和对其他bean的引用 ==》执行bean初始化方法得到bean ==》容器关闭时销毁bean</p>
                                <figure class="highlight java">
                                    <table>
                                        <tr>
                                            <td class="gutter">
                                                <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre>
                                            </td>
                                            <td class="code">
                                                <pre><span class="line"><span class="keyword">package</span> com.lxl.spring5.lifecyclebean;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Orders</span> </span>&#123;</span><br><span class="line">    <span class="comment">//无参数构造</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Orders</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;第一步 执行无参数构造创建bean实例&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> String oname;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setOname</span><span class="params">(String oname)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.oname = oname;</span><br><span class="line">        System.out.println(<span class="string">&quot;第二步 调用set方法设置属性值&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//创建执行的初始化的方法</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">initMethod</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;第三步 执行初始化的方法&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//创建执行的销毁的方法</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">destroyMethod</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;第五步 执行销毁的方法&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre>
                                            </td>
                                        </tr>
                                    </table>
                                </figure>
                                <figure class="highlight xml">
                                    <table>
                                        <tr>
                                            <td class="gutter">
                                                <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre>
                                            </td>
                                            <td class="code">
                                                <pre><span class="line"><span class="comment">&lt;!--    +++++++++++++++++++bean生命周期+++++++++++++++++++++++--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;orders&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.lxl.spring5.lifecyclebean.Orders&quot;</span> <span class="attr">init-method</span>=<span class="string">&quot;initMethod&quot;</span> <span class="attr">destroy-method</span>=<span class="string">&quot;destroyMethod&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;oname&quot;</span> <span class="attr">value</span>=<span class="string">&quot;键盘&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre>
                                            </td>
                                        </tr>
                                    </table>
                                </figure>
                                <figure class="highlight java">
                                    <table>
                                        <tr>
                                            <td class="gutter">
                                                <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre>
                                            </td>
                                            <td class="code">
                                                <pre><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">TestLifeCycle</span><span class="params">()</span></span>&#123;</span><br><span class="line"><span class="comment">//        ApplicationContext context = new  ClassPathXmlApplicationContext(&quot;bean7.xml&quot;);</span></span><br><span class="line"><span class="comment">//        ClassPathXmlApplicationContext 为ApplicationContext子实现类</span></span><br><span class="line">        ClassPathXmlApplicationContext context = <span class="keyword">new</span>  ClassPathXmlApplicationContext(<span class="string">&quot;bean8.xml&quot;</span>);</span><br><span class="line">        <span class="comment">//2 获取配置创建的对象，user为配置文件中id</span></span><br><span class="line"><span class="comment">//        MyBean myBean = context.getBean(&quot;myBean&quot;, MyBean.class);</span></span><br><span class="line">        Orders myBean = context.getBean(<span class="string">&quot;orders&quot;</span>, Orders.class);</span><br><span class="line">        System.out.println(<span class="string">&quot;第四步 获取创建的bean实例&quot;</span>);</span><br><span class="line">        System.out.println(myBean);</span><br><span class="line"></span><br><span class="line">        context.close();</span><br><span class="line"></span><br><span class="line">    &#125;</span><br></pre>
                                            </td>
                                        </tr>
                                    </table>
                                </figure>
                                <h6 id="2.10%E5%90%8E%E7%BD%AE%E5%A4%84%E7%90%86%E5%99%A8" id="2-10后置处理器">2.10后置处理器</h6>
                                <figure class="highlight java">
                                    <table>
                                        <tr>
                                            <td class="gutter">
                                                <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre>
                                            </td>
                                            <td class="code">
                                                <pre><span class="line"><span class="keyword">package</span> com.lxl.spring5.lifecyclebean;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.BeansException;</span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.config.BeanPostProcessor;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">BeforeAfter</span> <span class="keyword">implements</span> <span class="title">BeanPostProcessor</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Object <span class="title">postProcessBeforeInitialization</span><span class="params">(Object bean, String beanName)</span> <span class="keyword">throws</span> BeansException </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;后置处理器：在初始化之前执行的方法&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> BeanPostProcessor.<span class="keyword">super</span>.postProcessBeforeInitialization(bean, beanName);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Object <span class="title">postProcessAfterInitialization</span><span class="params">(Object bean, String beanName)</span> <span class="keyword">throws</span> BeansException </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;后置处理器：在初始化之后执行的方法&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> BeanPostProcessor.<span class="keyword">super</span>.postProcessAfterInitialization(bean, beanName);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre>
                                            </td>
                                        </tr>
                                    </table>
                                </figure>
                                <figure class="highlight xml">
                                    <table>
                                        <tr>
                                            <td class="gutter">
                                                <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre>
                                            </td>
                                            <td class="code">
                                                <pre><span class="line"><span class="comment">&lt;!--+++++++++++++++++++bean生命周期、后置处理器+++++++++++++++++++++++--&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;orders&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.lxl.spring5.lifecyclebean.Orders&quot;</span> <span class="attr">init-method</span>=<span class="string">&quot;initMethod&quot;</span> <span class="attr">destroy-method</span>=<span class="string">&quot;destroyMethod&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;oname&quot;</span> <span class="attr">value</span>=<span class="string">&quot;键盘&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--后置处理器 ,在此配置文件中的所有bean添加后置处理器--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;myBeanPost&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.lxl.spring5.lifecyclebean.BeforeAfter&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre>
                                            </td>
                                        </tr>
                                    </table>
                                </figure>
                                <h6 id="2.12%E8%87%AA%E5%8A%A8%E8%A3%85%E9%85%8D" id="2-12自动装配">2.12自动装配</h6>
                                <p>有五种自动装配的方式，可以用来指导Spring容器用自动装配方式来进行依赖注入。</p>
                                <ol>
                                    <li><strong>no</strong>：默认的方式是不进行自动装配，通过显式设置ref属性来进行装配。</li>
                                    <li><strong>byName</strong>：通过参数名自动装配，Spring容器在配置文件中发现bean的autowire属性被设置成byname，之后容器试图匹配、装配和该bean的属性具有相同名字的bean。
                                    </li>
                                    <li><strong>byType</strong>:：通过参数类型自动装配，Spring容器在配置文件中发现bean的autowire属性被设置成byType，之后容器试图匹配、装配和该bean的属性具有相同类型的bean。如果有多个bean符合条件，则抛出错误。
                                    </li>
                                    <li><strong>constructor</strong>：这个方式类似于byType，但是要提供给构造器参数，如果没有确定的带参数的构造器参数类型，将会抛出异常。
                                    </li>
                                    <li><strong>autodetect</strong>：首先尝试使用constructor来自动装配，如果无法工作，则使用byType方式。</li>
                                </ol>
                                <figure class="highlight java">
                                    <table>
                                        <tr>
                                            <td class="gutter">
                                                <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre>
                                            </td>
                                            <td class="code">
                                                <pre><span class="line"><span class="keyword">package</span> com.lxl.spring5.autowire;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> Administrator</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Dept</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;Dept&#123;&#125;&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre>
                                            </td>
                                        </tr>
                                    </table>
                                </figure>
                                <figure class="highlight java">
                                    <table>
                                        <tr>
                                            <td class="gutter">
                                                <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre>
                                            </td>
                                            <td class="code">
                                                <pre><span class="line"><span class="keyword">package</span> com.lxl.spring5.testdemo;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.lxl.spring5.autowire.Emp;</span><br><span class="line"><span class="keyword">import</span> com.lxl.spring5.lifecyclebean.Orders;</span><br><span class="line"><span class="keyword">import</span> org.junit.Test;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.support.ClassPathXmlApplicationContext;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestAutoWire</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">TestLifeCycle</span><span class="params">()</span></span>&#123;</span><br><span class="line"><span class="comment">//        ApplicationContext context = new  ClassPathXmlApplicationContext(&quot;bean7.xml&quot;);</span></span><br><span class="line"><span class="comment">//        ClassPathXmlApplicationContext 为ApplicationContext子实现类</span></span><br><span class="line">        ClassPathXmlApplicationContext context = <span class="keyword">new</span>  ClassPathXmlApplicationContext(<span class="string">&quot;bean9.xml&quot;</span>);</span><br><span class="line">        <span class="comment">//2 获取配置创建的对象，user为配置文件中id</span></span><br><span class="line"><span class="comment">//        MyBean myBean = context.getBean(&quot;myBean&quot;, MyBean.class);</span></span><br><span class="line">        Emp emp = context.getBean(<span class="string">&quot;emp&quot;</span>, Emp.class);</span><br><span class="line">        System.out.println(emp);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre>
                                            </td>
                                        </tr>
                                    </table>
                                </figure>
                                <figure class="highlight xml">
                                    <table>
                                        <tr>
                                            <td class="gutter">
                                                <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre>
                                            </td>
                                            <td class="code">
                                                <pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.springframework.org/schema/beans&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:util</span>=<span class="string">&quot;http://www.springframework.org/schema/util&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd</span></span></span><br><span class="line"><span class="tag"><span class="string">       http://www.springframework.org/schema/util http://www.springframework.org/schema/util/spring-util.xsd&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--+++++++++++++++++++自动装配 autowire=&quot;byName/byType&quot;+++++++++++++++++++++++--&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!--实现自动装配 bean标签属性autowire，配置自动装配 autowire属性常用两个值： byName根据属性名称注入 ，注入值bean的id值和类属性名称一样，如下dept1不会注入。 byType根据属性类型注入 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;emp&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.lxl.spring5.autowire.Emp&quot;</span> <span class="attr">autowire</span>=<span class="string">&quot;byName&quot;</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--    Could not autowire. There is more than one bean of &#x27;Dept&#x27; type. Beans: dept,dept1. Properties: &#x27;dept&#x27;--&gt;</span></span><br><span class="line"><span class="comment">&lt;!--    &lt;bean id=&quot;emp&quot; class=&quot;com.lxl.spring5.autowire.Emp&quot; autowire=&quot;byType&quot;&gt;--&gt;</span></span><br><span class="line"><span class="comment">&lt;!--        原始模式--&gt;</span></span><br><span class="line"><span class="comment">&lt;!--        &lt;property name=&quot;dept&quot; ref=&quot;dept&quot;&gt;&lt;/property&gt;--&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!--后置处理器 ,在此配置文件中的所有bean添加后置处理器--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;dept&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.lxl.spring5.autowire.Dept&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;dept1&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.lxl.spring5.autowire.Dept&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre>
                                            </td>
                                        </tr>
                                    </table>
                                </figure>
                                <p><strong>测试</strong></p>
                                <figure class="highlight java">
                                    <table>
                                        <tr>
                                            <td class="gutter">
                                                <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre>
                                            </td>
                                            <td class="code">
                                                <pre><span class="line"><span class="keyword">package</span> com.lxl.spring5.testdemo;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.lxl.spring5.autowire.Emp;</span><br><span class="line"><span class="keyword">import</span> com.lxl.spring5.lifecyclebean.Orders;</span><br><span class="line"><span class="keyword">import</span> org.junit.Test;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.support.ClassPathXmlApplicationContext;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestAutoWire</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">TestLifeCycle</span><span class="params">()</span></span>&#123;</span><br><span class="line"><span class="comment">//        ApplicationContext context = new  ClassPathXmlApplicationContext(&quot;bean7.xml&quot;);</span></span><br><span class="line"><span class="comment">//        ClassPathXmlApplicationContext 为ApplicationContext子实现类</span></span><br><span class="line">        ClassPathXmlApplicationContext context = <span class="keyword">new</span>  ClassPathXmlApplicationContext(<span class="string">&quot;bean9.xml&quot;</span>);</span><br><span class="line">        <span class="comment">//2 获取配置创建的对象，user为配置文件中id</span></span><br><span class="line"><span class="comment">//        MyBean myBean = context.getBean(&quot;myBean&quot;, MyBean.class);</span></span><br><span class="line">        Emp emp = context.getBean(<span class="string">&quot;emp&quot;</span>, Emp.class);</span><br><span class="line">        System.out.println(emp);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre>
                                            </td>
                                        </tr>
                                    </table>
                                </figure>
                                <h6 id="2.13%E5%BC%95%E5%85%A5%E5%A4%96%E9%83%A8%E5%B1%9E%E6%80%A7%E6%96%87%E4%BB%B6"
                                    id="2-13引入外部属性文件">2.13引入外部属性文件</h6>
                                <p>1、直接配置数据库信息<br />
                                    （1）配置德鲁伊连接池<br />
                                    （2）引入德鲁伊连接池依赖jar包</p>
                                <p>​ 复制到lib文件夹并添加项目依赖</p>
                                <p><img src="http://rcy276gfy.hd-bkt.clouddn.com/work/image-20211222192551378.png"
                                        alt="image-20211222192551378" /></p>
                                <figure class="highlight xml">
                                    <table>
                                        <tr>
                                            <td class="gutter">
                                                <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre>
                                            </td>
                                            <td class="code">
                                                <pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.springframework.org/schema/beans&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:util</span>=<span class="string">&quot;http://www.springframework.org/schema/util&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:p</span>=<span class="string">&quot;http://www.springframework.org/schema/p&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:context</span> =<span class="string">&quot;http://www.springframework.org/schema/context&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd</span></span></span><br><span class="line"><span class="tag"><span class="string">       http://www.springframework.org/schema/util http://www.springframework.org/schema/util/spring-util.xsd</span></span></span><br><span class="line"><span class="tag"><span class="string">       http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--+++++++++++++++++++引入外部属性文件，数据库连接池示例+++++++++++++++++++++++--&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!--        原始形式，固定值--&gt;</span></span><br><span class="line"><span class="comment">&lt;!--    &lt;bean id=&quot;dept1&quot; class=&quot;com.alibaba.druid.pool.DruidDataSource&quot;&gt;--&gt;</span></span><br><span class="line"><span class="comment">&lt;!--        &lt;property name=&quot;driverClassName&quot; value=&quot;com.mysql.jdbc.Driver&quot;&gt;&lt;/property&gt;--&gt;</span></span><br><span class="line"><span class="comment">&lt;!--        &lt;property name=&quot;url&quot; value=&quot;jdbc:mysql://localhost:3306/userDb&quot;&gt;&lt;/property&gt;--&gt;</span></span><br><span class="line"><span class="comment">&lt;!--        &lt;property name=&quot;username&quot; value=&quot;root&quot;&gt;&lt;/property&gt;--&gt;</span></span><br><span class="line"><span class="comment">&lt;!--        &lt;property name=&quot;password&quot; value=&quot;root&quot;&gt;&lt;/property&gt;--&gt;</span></span><br><span class="line"><span class="comment">&lt;!--        引入外部文件--&gt;</span></span><br><span class="line"><span class="comment">&lt;!--    &lt;/bean&gt;--&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--    引入外部文件形式--&gt;</span></span><br><span class="line"><span class="comment">&lt;!--    引入外部文件--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">context:property-placeholder</span> <span class="attr">location</span>=<span class="string">&quot;classpath:jdbc.properties&quot;</span>/&gt;</span></span><br><span class="line"><span class="comment">&lt;!--    配置连接池--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;dept1&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.alibaba.druid.pool.DruidDataSource&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;driverClassName&quot;</span> <span class="attr">value</span>=<span class="string">&quot;$&#123;prop.driverClass&#125;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;url&quot;</span> <span class="attr">value</span>=<span class="string">&quot;$&#123;prop.url&#125;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;username&quot;</span> <span class="attr">value</span>=<span class="string">&quot;$&#123;prop.userName&#125;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;password&quot;</span> <span class="attr">value</span>=<span class="string">&quot;$&#123;prop.password&#125;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre>
                                            </td>
                                        </tr>
                                    </table>
                                </figure>
                                <p>jdbc.properties</p>
                                <figure class="highlight properties">
                                    <table>
                                        <tr>
                                            <td class="gutter">
                                                <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre>
                                            </td>
                                            <td class="code">
                                                <pre><span class="line"><span class="meta">prop.driverClass</span>=<span class="string">com.mysql.jdbc.Driver</span></span><br><span class="line"><span class="meta">prop.url</span>=<span class="string">jdbc:mysql://localhost:3306/userDb</span></span><br><span class="line"><span class="meta">prop.userName</span>=<span class="string">root</span></span><br><span class="line"><span class="meta">prop.password</span>=<span class="string">root</span></span><br></pre>
                                            </td>
                                        </tr>
                                    </table>
                                </figure>
                                <h4 id="%EF%BC%882%EF%BC%89%E6%B3%A8%E8%A7%A3%E6%96%B9%E5%BC%8F" id="（2）注解方式">（2）注解方式
                                </h4>
                                <h5 id="1%E3%80%81%E4%BB%80%E4%B9%88%E6%98%AF%E6%B3%A8%E8%A7%A3" id="1、什么是注解">1、什么是注解
                                </h5>
                                <p>（1）注解是代码特殊标记，格式：@注解名称(属性名称=属性值, 属性名称=属性值..)<br />
                                    （2）使用注解，注解作用在类上面，方法上面，属性上面<br />
                                    （3）使用注解目的：简化xml配置</p>
                                <h5 id="2%E3%80%81spring%E9%92%88%E5%AF%B9bean%E7%AE%A1%E7%90%86%E4%B8%AD%E5%88%9B%E5%BB%BA%E5%AF%B9%E8%B1%A1%E6%8F%90%E4%BE%9B%E6%B3%A8%E8%A7%A3"
                                    id="2、Spring针对Bean管理中创建对象提供注解">2、Spring针对Bean管理中创建对象提供注解</h5>
                                <p>（1）@Component<br />
                                    （2）@Service<br />
                                    （3）@Controller<br />
                                    （4）@Repository<br />
                                    上面四个注解功能是一样的，都可以用来创建bean实例，但是习惯在不同层使用不同注解。</p>
                                <ul>
                                    <li>
                                        <p>引入aop的jar包</p>
                                    </li>
                                    <li>
                                        <p>类注解</p>
                                    </li>
                                </ul>
                                <figure class="highlight java">
                                    <table>
                                        <tr>
                                            <td class="gutter">
                                                <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre>
                                            </td>
                                            <td class="code">
                                                <pre><span class="line"><span class="keyword">package</span> com.lxl.spring5.annotation;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Component;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Controller;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Repository;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Service;</span><br><span class="line"></span><br><span class="line"><span class="comment">//在注解里面value属性值可以省略不写，</span></span><br><span class="line"><span class="comment">// 默认值是类名称，首字母小写</span></span><br><span class="line"><span class="comment">// UserService -- userService</span></span><br><span class="line"><span class="meta">@Component(value = &quot;userService&quot;)</span> <span class="comment">//等同&lt;bean id=&quot;userService&quot; class=&quot;..&quot;/&gt;</span></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> Administrator*/</span></span><br><span class="line"><span class="comment">//@Component</span></span><br><span class="line"><span class="comment">//@Service</span></span><br><span class="line"><span class="comment">//@Controller</span></span><br><span class="line"><span class="comment">//@Repository </span></span><br><span class="line"><span class="comment">// 四个注解效果相同，习惯用在不同层</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UserService</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">add</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;service add ...&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre>
                                            </td>
                                        </tr>
                                    </table>
                                </figure>
                                <ul>
                                    <li>开启组件扫描</li>
                                </ul>
                                <figure class="highlight xml">
                                    <table>
                                        <tr>
                                            <td class="gutter">
                                                <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre>
                                            </td>
                                            <td class="code">
                                                <pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.springframework.org/schema/beans&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:util</span>=<span class="string">&quot;http://www.springframework.org/schema/util&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:p</span>=<span class="string">&quot;http://www.springframework.org/schema/p&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:context</span>=<span class="string">&quot;http://www.springframework.org/schema/context&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd</span></span></span><br><span class="line"><span class="tag"><span class="string">       http://www.springframework.org/schema/util http://www.springframework.org/schema/util/spring-util.xsd</span></span></span><br><span class="line"><span class="tag"><span class="string">       http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--+++++++++++++++++++注解方式，扫描包+++++++++++++++++++++++--&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--添加context命名空间--&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--    开启组件扫描</span></span><br><span class="line"><span class="comment">        1.扫描多个包，可逗号隔开</span></span><br><span class="line"><span class="comment">        2.扫描多个包的上层目录</span></span><br><span class="line"><span class="comment">    --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">context:component-scan</span> <span class="attr">base-package</span>=<span class="string">&quot;com.lxl&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">context:component-scan</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!--示例1 use-default-filters=&quot;false&quot; 表示现在不使用默认filter，自己配置filter context:include-filter ，设置扫描哪些内容 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">context:component-scan</span> <span class="attr">base-package</span>=<span class="string">&quot;com.lxl&quot;</span> <span class="attr">use-default-filters</span>=<span class="string">&quot;false&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">context:include-filter</span> <span class="attr">type</span>=<span class="string">&quot;annotation&quot;</span> <span class="attr">expression</span>=<span class="string">&quot;org.springframework.stereotype.Controller&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">context:component-scan</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!--示例2 下面配置扫描包所有内容 context:exclude-filter： 设置哪些内容不进行扫描 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">context:component-scan</span> <span class="attr">base-package</span>=<span class="string">&quot;com.lxl&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">context:exclude-filter</span> <span class="attr">type</span>=<span class="string">&quot;annotation&quot;</span> <span class="attr">expression</span>=<span class="string">&quot;org.springframework.stereotype.Controller&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">context:component-scan</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre>
                                            </td>
                                        </tr>
                                    </table>
                                </figure>
                                <ul>
                                    <li>测试</li>
                                </ul>
                                <figure class="highlight java">
                                    <table>
                                        <tr>
                                            <td class="gutter">
                                                <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre>
                                            </td>
                                            <td class="code">
                                                <pre><span class="line"><span class="keyword">package</span> com.lxl.spring5.testdemo;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.lxl.spring5.annotation.UserService;</span><br><span class="line"><span class="keyword">import</span> org.junit.Test;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.ApplicationContext;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.support.ClassPathXmlApplicationContext;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> Administrator</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestAnnotation</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testAnnotation</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="comment">//        spring-aop-4.3.10.RELEASE 包未导入会报错：Unexpected exception parsing XML document from class path resource</span></span><br><span class="line">        ApplicationContext applicationContext=<span class="keyword">new</span> ClassPathXmlApplicationContext(<span class="string">&quot;bean11.xml&quot;</span>);</span><br><span class="line">        UserService userService = applicationContext.getBean(<span class="string">&quot;userService&quot;</span>, UserService.class);</span><br><span class="line">        userService.add();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre>
                                            </td>
                                        </tr>
                                    </table>
                                </figure>
                                <h5 id="3.%E7%BA%AF%E6%B3%A8%E8%A7%A3%E5%BC%80%E5%8F%91" id="3-纯注解开发">3.纯注解开发</h5>
                                <p>添加配置类扫描包</p>
                                <figure class="highlight java">
                                    <table>
                                        <tr>
                                            <td class="gutter">
                                                <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre>
                                            </td>
                                            <td class="code">
                                                <pre><span class="line"><span class="keyword">package</span> com.lxl.spring5.annotation.allbyannotation.config;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.ComponentScan;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Configuration;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="meta">@ComponentScan(basePackages = &#123;&quot;com.lxl.spring5.annotation.allbyannotation&quot;&#125;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SpringConfig</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre>
                                            </td>
                                        </tr>
                                    </table>
                                </figure>
                                <p>测试</p>
                                <figure class="highlight plain">
                                    <table>
                                        <tr>
                                            <td class="gutter">
                                                <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre>
                                            </td>
                                            <td class="code">
                                                <pre><span class="line">package com.lxl.spring5.testdemo;</span><br><span class="line"></span><br><span class="line">import com.lxl.spring5.annotation.allbyannotation.config.SpringConfig;</span><br><span class="line">import com.lxl.spring5.annotation.allbyannotation.service.UserService1;</span><br><span class="line">import org.junit.Test;</span><br><span class="line">import org.springframework.context.ApplicationContext;</span><br><span class="line">import org.springframework.context.annotation.AnnotationConfigApplicationContext;</span><br><span class="line">import org.springframework.context.support.ClassPathXmlApplicationContext;</span><br><span class="line"></span><br><span class="line">public class TestAllByAnnotation &#123;</span><br><span class="line">    @Test</span><br><span class="line">    public void testAllByAnnotation()&#123;</span><br><span class="line">        &#x2F;&#x2F;加载配置类</span><br><span class="line">        ApplicationContext context &#x3D; new AnnotationConfigApplicationContext(SpringConfig.class);</span><br><span class="line">        UserService1 userService1 &#x3D; context.getBean(&quot;userService1&quot;, UserService1.class);</span><br><span class="line">        userService1.add();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre>
                                            </td>
                                        </tr>
                                    </table>
                                </figure>
                                <h1 id="aop%E3%80%90aspect-oriented-programming%E3%80%91">AOP【Aspect Oriented
                                    Programming】</h1>
                                <h2 id="aop%E4%BB%8B%E7%BB%8D" id="AOP介绍">AOP介绍</h2>
                                <p>1、什么是AOP</p>
                                <p>（1）面向切面编程（方面），利用AOP可以对业务逻辑的各个部分进行隔离，从而使得业务逻辑各部分之间的耦合度降低，提高程序的可重用性，同时提高了开发的效率。</p>
                                <p>（2）通俗描述：不通过修改源代码方式，在主干功能里面添加新功能、比如登录的权限过滤。</p>
                                <h2 id="aop%E5%BA%95%E5%B1%82%E5%8E%9F%E7%90%86" id="AOP底层原理">AOP底层原理</h2>
                                <p>1、AOP底层使用<strong>动态代理</strong>的两种情况：</p>
                                <p>第一种 有接口情况，使用JDK动态代理<br />
                                    ⚫ 创建接口实现类代理对象，增强类的方法</p>
                                <p>第二种 没有接口情况，使用CGLIB动态代理<br />
                                    ⚫ 创建子类的代理对象，增强类的方法</p>
                                <h2 id="aop-jdk-%E5%8A%A8%E6%80%81%E4%BB%A3%E7%90%86" id="AOP-JDK-动态代理">AOP JDK 动态代理
                                </h2>
                                <h3 id="1%E3%80%81%E4%BD%BF%E7%94%A8jdk%E5%8A%A8%E6%80%81%E4%BB%A3%E7%90%86%EF%BC%8C%E4%BD%BF%E7%94%A8proxy%E7%B1%BB%E9%87%8C%E9%9D%A2%E7%9A%84%E6%96%B9%E6%B3%95%E5%88%9B%E5%BB%BA%E4%BB%A3%E7%90%86%E5%AF%B9%E8%B1%A1"
                                    id="1、使用JDK动态代理，使用Proxy类里面的方法创建代理对象">1、使用JDK动态代理，使用Proxy类里面的方法创建代理对象</h3>
                                <h4 id="%EF%BC%881%EF%BC%89%E5%88%9B%E5%BB%BA%E6%8E%A5%E5%8F%A3%EF%BC%8C%E5%AE%9A%E4%B9%89%E6%96%B9%E6%B3%95"
                                    id="（1）创建接口，定义方法">（1）创建接口，定义方法</h4>
                                <figure class="highlight java">
                                    <table>
                                        <tr>
                                            <td class="gutter">
                                                <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre>
                                            </td>
                                            <td class="code">
                                                <pre><span class="line"><span class="keyword">package</span> com.lxl.spring5.aop.jdkdynamicproxy;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">UserDao</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">add</span><span class="params">(<span class="keyword">int</span> a, <span class="keyword">int</span> b)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">update</span><span class="params">(String id)</span></span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre>
                                            </td>
                                        </tr>
                                    </table>
                                </figure>
                                <h4 id="%EF%BC%882%EF%BC%89%E5%88%9B%E5%BB%BA%E6%8E%A5%E5%8F%A3%E5%AE%9E%E7%8E%B0%E7%B1%BB%EF%BC%8C%E5%AE%9E%E7%8E%B0%E6%96%B9%E6%B3%95"
                                    id="（2）创建接口实现类，实现方法">（2）创建接口实现类，实现方法</h4>
                                <figure class="highlight java">
                                    <table>
                                        <tr>
                                            <td class="gutter">
                                                <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre>
                                            </td>
                                            <td class="code">
                                                <pre><span class="line"><span class="keyword">package</span> com.lxl.spring5.aop.jdkdynamicproxy;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UserDaoImpl</span> <span class="keyword">implements</span> <span class="title">UserDao</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">add</span><span class="params">(<span class="keyword">int</span> a, <span class="keyword">int</span> b)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> a + b;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">update</span><span class="params">(String id)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> id;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre>
                                            </td>
                                        </tr>
                                    </table>
                                </figure>
                                <h4 id="%EF%BC%883%EF%BC%89%E4%BD%BF%E7%94%A8proxy%E7%B1%BB%E5%88%9B%E5%BB%BA%E6%8E%A5%E5%8F%A3%E4%BB%A3%E7%90%86%E5%AF%B9%E8%B1%A1"
                                    id="（3）使用Proxy类创建接口代理对象">（3）使用Proxy类创建接口代理对象</h4>
                                <figure class="highlight java">
                                    <table>
                                        <tr>
                                            <td class="gutter">
                                                <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre>
                                            </td>
                                            <td class="code">
                                                <pre><span class="line"><span class="keyword">package</span> com.lxl.spring5.aop.jdkdynamicproxy;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.lang.reflect.InvocationHandler;</span><br><span class="line"><span class="keyword">import</span> java.lang.reflect.Method;</span><br><span class="line"><span class="keyword">import</span> java.lang.reflect.Proxy;</span><br><span class="line"><span class="keyword">import</span> java.util.Arrays;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 使用Proxy创建代理对象</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">JDKProxy</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="comment">//创建接口实现类代理对象</span></span><br><span class="line">        Class[] interfaces = &#123;UserDao.class&#125;;</span><br><span class="line"><span class="comment">//         getClassLoader类加载器</span></span><br><span class="line"><span class="comment">//         interfaces要实现的接口</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//        Proxy.newProxyInstance(JDKProxy.class.getClassLoader(), interfaces, new InvocationHandler() &#123;</span></span><br><span class="line"><span class="comment">//            @Override</span></span><br><span class="line"><span class="comment">//            public Object invoke(Object proxy, Method method, Object[] args) throws Throwable &#123;</span></span><br><span class="line"><span class="comment">//                return null;</span></span><br><span class="line"><span class="comment">//            &#125;</span></span><br><span class="line"><span class="comment">//        &#125;);</span></span><br><span class="line">        UserDaoImpl userDao = <span class="keyword">new</span> UserDaoImpl();</span><br><span class="line">        UserDao dao = (UserDao) Proxy.newProxyInstance(JDKProxy.class.getClassLoader(), interfaces, <span class="keyword">new</span> UserDaoProxy(userDao));</span><br><span class="line">        <span class="keyword">int</span> result = dao.add(<span class="number">1</span>, <span class="number">2</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;result:&quot;</span> + result);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//创建代理对象代码</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">UserDaoProxy</span> <span class="keyword">implements</span> <span class="title">InvocationHandler</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//1 把创建的是谁的代理对象，把谁传递过来</span></span><br><span class="line">    <span class="comment">// 有参数构造传递代理对象</span></span><br><span class="line">    <span class="keyword">private</span> Object obj;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">UserDaoProxy</span><span class="params">(Object obj)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.obj = obj;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//增强的逻辑</span></span><br><span class="line"><span class="comment">//    invoke方法类对象创建后即被调用</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Object <span class="title">invoke</span><span class="params">(Object proxy, Method method, Object[] args)</span> <span class="keyword">throws</span> Throwable </span>&#123;</span><br><span class="line">        <span class="comment">//方法之前</span></span><br><span class="line">        System.out.println(<span class="string">&quot;方法之前执行....&quot;</span> + method.getName() + <span class="string">&quot; :传递的参数...&quot;</span> + Arrays.toString(args));</span><br><span class="line">        <span class="comment">// 被增强的方法执行</span></span><br><span class="line">        Object res = method.invoke(obj, args);</span><br><span class="line">        <span class="comment">// 方法之后</span></span><br><span class="line">        System.out.println(<span class="string">&quot;方法之后执行....&quot;</span> + obj);</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre>
                                            </td>
                                        </tr>
                                    </table>
                                </figure>
                                <h2 id="aop%E4%B8%BB%E8%A6%81%E6%9C%AF%E8%AF%AD" id="AOP主要术语">AOP主要术语</h2>
                                <h3 id="1.%E8%BF%9E%E6%8E%A5%E7%82%B9%EF%BC%88joint-point%EF%BC%89"
                                    id="1-连接点（Joint-point）">1.连接点（Joint point）</h3>
                                <p>可以被增强的程序具体的方法</p>
                                <h3 id="2.%E5%88%87%E5%85%A5%E7%82%B9%EF%BC%88pointcut%EF%BC%89" id="2-切入点（Pointcut）">
                                    2.切入点（Pointcut）</h3>
                                <p>实际被增强的方法（一个或一组连接点），可通过@Pointcut注解到方法上抽取共同切入点，通过切入点表达式或者匹配的方式指明切入点。</p>
                                <h3 id="3.%E9%80%9A%E7%9F%A5%EF%BC%88%E5%A2%9E%E5%BC%BA%EF%BC%89%EF%BC%88advice%EF%BC%89"
                                    id="3-通知（增强）（Advice）">3.通知（增强）（Advice）</h3>
                                <p>实际增强的部分，切面要完成的各个工作，比如前置后置日志等。通知类型：<a
                                        href="#2%E3%80%81%E5%88%9B%E5%BB%BA%E5%A2%9E%E5%BC%BA%E7%B1%BB%EF%BC%88%E7%BC%96%E5%86%99%E5%A2%9E%E5%BC%BA%E9%80%BB%E8%BE%91%EF%BC%89">前置通知、后置通知、环绕通知、异常通知、最终通知</a>
                                </p>
                                <h3 id="4.%E5%88%87%E9%9D%A2%EF%BC%88aspect%EF%BC%89" id="4-切面（Aspect）">4.切面（Aspect）
                                </h3>
                                <p>封装 各个<strong>通知</strong>应用到<strong>切入点</strong>的过程动作 的一个 标注@Aspect的 类</p>
                                <p><img src="http://rcy276gfy.hd-bkt.clouddn.com/work/3658b277abd493e2a92fd995c7cddd64_1064x742.png"
                                        alt="" /></p>
                                <h2 id="aop%E6%93%8D%E4%BD%9C%EF%BC%88%E5%87%86%E5%A4%87%EF%BC%89" id="AOP操作（准备）">
                                    AOP操作（准备）</h2>
                                <h3 id="1%E3%80%81spring%E6%A1%86%E6%9E%B6%E4%B8%80%E8%88%AC%E9%83%BD%E6%98%AF%E5%9F%BA%E4%BA%8Easpectj%E5%AE%9E%E7%8E%B0aop%E6%93%8D%E4%BD%9C"
                                    id="1、Spring框架一般都是基于AspectJ实现AOP操作">1、Spring框架一般都是基于AspectJ实现AOP操作</h3>
                                <p>（1）AspectJ不是Spring组成部分，独立AOP框架，一般把AspectJ和Spirng框架一起使用，进行AOP操作</p>
                                <h3 id="2%E3%80%81%E5%9F%BA%E4%BA%8E-**aspectj-**%E5%AE%9E%E7%8E%B0aop%E6%93%8D%E4%BD%9C"
                                    id="2、基于-AspectJ-实现AOP操作">2、基于 **AspectJ **实现AOP操作</h3>
                                <p>（1）基于xml配置文件实现<br />
                                    （2）基于注解方式实现（使用）</p>
                                <h3 id="3%E3%80%81%E5%9C%A8%E9%A1%B9%E7%9B%AE%E5%B7%A5%E7%A8%8B%E9%87%8C%E9%9D%A2%E5%BC%95%E5%85%A5aop%E7%9B%B8%E5%85%B3%E4%BE%9D%E8%B5%96"
                                    id="3、在项目工程里面引入AOP相关依赖">3、在项目工程里面引入AOP相关依赖</h3>
                                <p><img src="http://rcy276gfy.hd-bkt.clouddn.com/work/image-20211227135453617.png"
                                        alt="image-20211227135453617" /></p>
                                <h3 id="4%E3%80%81%E5%88%87%E5%85%A5%E7%82%B9%E8%A1%A8%E8%BE%BE%E5%BC%8F" id="4、切入点表达式">
                                    4、切入点表达式</h3>
                                <p>（1）切入点表达式作用：知道对哪个类里面的哪个方法进行增强<br />
                                    （2）语法结构： execution([权限修饰符] [返回类型] [类全路径] [方法名称 ]-([参数列表]))</p>
                                <p>举例1：对com.atguigu.dao.BookDao类里面的<strong>add</strong>进行增强<br />
                                    execution(* com.atguigu.dao.BookDao.add(..))<br />
                                    举例2：对com.atguigu.dao.BookDao类里面的<strong>所有的方法</strong>进行增强<br />
                                    execution(* com.atguigu.dao.BookDao.* (..))<br />
                                    举例3：对com.atguigu.dao包里面<strong>所有类</strong>，<strong>类里面所有方法</strong>进行增强<br />
                                    execution(* com.atguigu.dao.<em>.</em> (..))</p>
                                <h2 id="aop%E6%93%8D%E4%BD%9C%EF%BC%88-%E6%B3%A8%E8%A7%A3%EF%BC%89" id="AOP操作（-注解）">
                                    AOP操作（ 注解）</h2>
                                <h3 id="1%E3%80%81%E5%88%9B%E5%BB%BA%E7%B1%BB%EF%BC%8C%E5%9C%A8%E7%B1%BB%E9%87%8C%E9%9D%A2%E5%AE%9A%E4%B9%89%E6%96%B9%E6%B3%95"
                                    id="1、创建类，在类里面定义方法">1、创建类，在类里面定义方法</h3>
                                <figure class="highlight java">
                                    <table>
                                        <tr>
                                            <td class="gutter">
                                                <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre>
                                            </td>
                                            <td class="code">
                                                <pre><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Component;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">User</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">add</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;add.......&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre>
                                            </td>
                                        </tr>
                                    </table>
                                </figure>
                                <h3 id="2%E3%80%81%E5%88%9B%E5%BB%BA%E5%A2%9E%E5%BC%BA%E7%B1%BB%EF%BC%88%E7%BC%96%E5%86%99%E5%A2%9E%E5%BC%BA%E9%80%BB%E8%BE%91%EF%BC%89"
                                    id="2、创建增强类（编写增强逻辑）">2、创建增强类（编写增强逻辑）</h3>
                                <p>​ 在增强类里面，创建方法，让不同方法代表不同通知类型,@Aspect把当前类标识为一个切面供容器读取。</p>
                                <figure class="highlight java">
                                    <table>
                                        <tr>
                                            <td class="gutter">
                                                <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre>
                                            </td>
                                            <td class="code">
                                                <pre><span class="line"><span class="keyword">package</span> com.lxl.spring5.aop.aspectjanno;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.aspectj.lang.ProceedingJoinPoint;</span><br><span class="line"><span class="keyword">import</span> org.aspectj.lang.annotation.*;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Component;</span><br><span class="line"></span><br><span class="line"><span class="comment">//增强的类</span></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="comment">//把当前类标识为一个切面供容器读取</span></span><br><span class="line"><span class="meta">@Aspect</span></span><br><span class="line"><span class="comment">// 生成代理对象</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UserProxy</span> </span>&#123;</span><br><span class="line">    <span class="comment">// 前置通知</span></span><br><span class="line">    <span class="comment">//@Before注解表示作为前置通知</span></span><br><span class="line">    <span class="meta">@Before(value = &quot;execution(* com.lxl.spring5.aop.aspectjanno.User.add(..))&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">before</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;before.........&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//后置通知（返回通知）</span></span><br><span class="line"><span class="comment">//    在方法返回结果之后执行</span></span><br><span class="line"><span class="comment">//    异常时不执行</span></span><br><span class="line">    <span class="meta">@AfterReturning(value = &quot;execution(* com.lxl.spring5.aop.aspectjanno.User.add(..))&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">afterReturning</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;afterReturning.........&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//最终通知</span></span><br><span class="line"><span class="comment">//    方法之后执行</span></span><br><span class="line"><span class="comment">//    异常时也执行</span></span><br><span class="line">    <span class="meta">@After(value = &quot;execution(* com.lxl.spring5.aop.aspectjanno.User.add(..))&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">after</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;after.........&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//异常通知</span></span><br><span class="line"><span class="comment">//    出现异常执行</span></span><br><span class="line">    <span class="meta">@AfterThrowing(value = &quot;execution(* com.lxl.spring5.aop.aspectjanno.User.add(..))&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">afterThrowing</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;afterThrowing.........&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//环绕通知</span></span><br><span class="line">    <span class="meta">@Around(value = &quot;execution(* com.lxl.spring5.aop.aspectjanno.User.add(..))&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">around</span><span class="params">(ProceedingJoinPoint proceedingJoinPoint)</span> <span class="keyword">throws</span> Throwable </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;环绕之前.........&quot;</span>);</span><br><span class="line"><span class="comment">// 被增强的方法执行</span></span><br><span class="line">        proceedingJoinPoint.proceed();</span><br><span class="line">        System.out.println(<span class="string">&quot;环绕之后.........&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre>
                                            </td>
                                        </tr>
                                    </table>
                                </figure>
                                <h3 id="3%E3%80%81%E8%BF%9B%E8%A1%8C%E9%80%9A%E7%9F%A5%E7%9A%84%E9%85%8D%E7%BD%AE"
                                    id="3、进行通知的配置">3、进行通知的配置</h3>
                                <p>（1）在spring配置文件中，开启注解扫描</p>
                                <figure class="highlight xml">
                                    <table>
                                        <tr>
                                            <td class="gutter">
                                                <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre>
                                            </td>
                                            <td class="code">
                                                <pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.springframework.org/schema/beans&quot;</span> <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:context</span>=<span class="string">&quot;http://www.springframework.org/schema/context&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:aop</span>=<span class="string">&quot;http://www.springframework.org/schema/aop&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://www.springframework.org/schema/beans</span></span></span><br><span class="line"><span class="tag"><span class="string">       http://www.springframework.org/schema/beans/spring-beans.xsd</span></span></span><br><span class="line"><span class="tag"><span class="string">       http://www.springframework.org/schema/context</span></span></span><br><span class="line"><span class="tag"><span class="string">       http://www.springframework.org/schema/context/spring-context.xsd</span></span></span><br><span class="line"><span class="tag"><span class="string">       http://www.springframework.org/schema/aop</span></span></span><br><span class="line"><span class="tag"><span class="string">       http://www.springframework.org/schema/aop/spring-aop.xsd&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--=====================AOP注解使用======================--&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--    添加命名空间：aop、context--&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 开启注解扫描 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">context:component-scan</span> <span class="attr">base-package</span>=<span class="string">&quot;com.lxl.spring5.aop.aspectjanno&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">context:component-scan</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- 开启Aspect生成代理对象--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">aop:aspectj-autoproxy</span>&gt;</span><span class="tag">&lt;/<span class="name">aop:aspectj-autoproxy</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br><span class="line"></span><br></pre>
                                            </td>
                                        </tr>
                                    </table>
                                </figure>
                                <h3 id="4.%E6%B5%8B%E8%AF%95" id="4-测试">4.测试</h3>
                                <figure class="highlight java">
                                    <table>
                                        <tr>
                                            <td class="gutter">
                                                <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre>
                                            </td>
                                            <td class="code">
                                                <pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">TestAopAnno</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    ApplicationContext context = <span class="keyword">new</span> ClassPathXmlApplicationContext(<span class="string">&quot;aop1.xml&quot;</span>);</span><br><span class="line">   User user= context.getBean(<span class="string">&quot;user&quot;</span>,User.class);</span><br><span class="line">    user.add();</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre>
                                            </td>
                                        </tr>
                                    </table>
                                </figure>
                                <h3 id="5.%E7%BB%86%E8%8A%82%EF%BC%9A%E5%85%B1%E5%90%8C%E5%88%87%E5%85%A5%E7%82%B9%E6%8A%BD%E5%8F%96"
                                    id="5-细节：共同切入点抽取">5.细节：共同切入点抽取</h3>
                                <figure class="highlight java">
                                    <table>
                                        <tr>
                                            <td class="gutter">
                                                <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre>
                                            </td>
                                            <td class="code">
                                                <pre><span class="line">    <span class="comment">//共同切入点抽取</span></span><br><span class="line">    <span class="meta">@Pointcut(value = &quot;execution(* com.lxl.spring5.aop.aspectjanno.User.add(..))&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">samepoint</span><span class="params">()</span> </span>&#123; &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 前置通知</span></span><br><span class="line">    <span class="comment">//@Before注解表示作为前置通知</span></span><br><span class="line">    <span class="meta">@Before(value = &quot;samepoint()&quot;)</span></span><br><span class="line"><span class="comment">//    @Before(value = &quot;execution(* com.lxl.spring5.aop.aspectjanno.User.add(..))&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">before</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;before.........&quot;</span>);</span><br><span class="line">    &#125;</span><br></pre>
                                            </td>
                                        </tr>
                                    </table>
                                </figure>
                                <h3 id="6%E3%80%81%E7%BB%86%E8%8A%82%EF%BC%9A%E8%AE%BE%E7%BD%AE%E5%A2%9E%E5%BC%BA%E7%B1%BB%E4%BC%98%E5%85%88%E7%BA%A7"
                                    id="6、细节：设置增强类优先级">6、细节：设置增强类优先级</h3>
                                <p>​ 有多个增强类多同一个方法进行增强，设置增强类优先级，在增强类上面添加注解 <strong>@Order(数字类型值)，数字类型值越小优先级越高</strong>。
                                </p>
                                <figure class="highlight java">
                                    <table>
                                        <tr>
                                            <td class="gutter">
                                                <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre>
                                            </td>
                                            <td class="code">
                                                <pre><span class="line"><span class="keyword">import</span> org.aspectj.lang.ProceedingJoinPoint;</span><br><span class="line"><span class="keyword">import</span> org.aspectj.lang.annotation.*;</span><br><span class="line"><span class="keyword">import</span> org.springframework.core.annotation.Order;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Component;</span><br><span class="line"></span><br><span class="line"><span class="comment">//增强的类</span></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="meta">@Aspect</span></span><br><span class="line"><span class="meta">@Order(1)</span></span><br><span class="line"><span class="comment">// 生成代理对象</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">PersonProxy</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//共同切入点抽取</span></span><br><span class="line">    <span class="meta">@Pointcut(value = &quot;execution(* com.lxl.spring5.aop.aspectjanno.User.add(..))&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">samepoint</span><span class="params">()</span> </span>&#123; &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 前置通知</span></span><br><span class="line">    <span class="comment">//@Before注解表示作为前置通知</span></span><br><span class="line">    <span class="meta">@Before(value = &quot;samepoint()&quot;)</span></span><br><span class="line"><span class="comment">//    @Before(value = &quot;execution(* com.lxl.spring5.aop.aspectjanno.User.add(..))&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">before</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;PersonProxy  before.........&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre>
                                            </td>
                                        </tr>
                                    </table>
                                </figure>
                                <h3 id="7.%E5%AE%8C%E5%85%A8%E4%BD%BF%E7%94%A8%E6%B3%A8%E8%A7%A3%E5%BC%80%E5%8F%91"
                                    id="7-完全使用注解开发">7.完全使用注解开发</h3>
                                <p>（1）创建配置类，不需要创建xml配置文件</p>
                                <p>@Configuration<br />
                                    @ComponentScan(basePackages = {&quot;com.lxl&quot;})<br />
                                    @EnableAspectJAutoProxy(proxyTargetClass = true)<br />
                                    public class ConfigAop</p>
                                <h2 id="aop%E6%93%8D%E4%BD%9C%EF%BC%88xml%EF%BC%89" id="AOP操作（XML）">AOP操作（XML）</h2>
                                <h3 id="1.%E5%88%9B%E5%BB%BA%E7%B1%BB%E4%B8%8E%E5%A2%9E%E5%BC%BA%E7%B1%BB"
                                    id="1-创建类与增强类">1.创建类与增强类</h3>
                                <figure class="highlight java">
                                    <table>
                                        <tr>
                                            <td class="gutter">
                                                <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre>
                                            </td>
                                            <td class="code">
                                                <pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Book</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">buy</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;buy--&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre>
                                            </td>
                                        </tr>
                                    </table>
                                </figure>
                                <figure class="highlight java">
                                    <table>
                                        <tr>
                                            <td class="gutter">
                                                <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre>
                                            </td>
                                            <td class="code">
                                                <pre><span class="line"><span class="keyword">package</span> com.lxl.spring5.aop.aopxml;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">BookProxy</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">before</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;before----&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre>
                                            </td>
                                        </tr>
                                    </table>
                                </figure>
                                <h3 id="2.%E9%85%8D%E7%BD%AE%E5%88%87%E5%85%A5%E7%82%B9" id="2-配置切入点">2.配置切入点</h3>
                                <figure class="highlight xml">
                                    <table>
                                        <tr>
                                            <td class="gutter">
                                                <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre>
                                            </td>
                                            <td class="code">
                                                <pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.springframework.org/schema/beans&quot;</span> <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:context</span>=<span class="string">&quot;http://www.springframework.org/schema/context&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:aop</span>=<span class="string">&quot;http://www.springframework.org/schema/aop&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://www.springframework.org/schema/beans</span></span></span><br><span class="line"><span class="tag"><span class="string">       http://www.springframework.org/schema/beans/spring-beans.xsd</span></span></span><br><span class="line"><span class="tag"><span class="string">       http://www.springframework.org/schema/context</span></span></span><br><span class="line"><span class="tag"><span class="string">       http://www.springframework.org/schema/context/spring-context.xsd</span></span></span><br><span class="line"><span class="tag"><span class="string">       http://www.springframework.org/schema/aop</span></span></span><br><span class="line"><span class="tag"><span class="string">       http://www.springframework.org/schema/aop/spring-aop.xsd&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--=====================AOP xml操作======================--&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--创建对象--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;book&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.lxl.spring5.aop.aopxml.Book&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;bookProxy&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.lxl.spring5.aop.aopxml.BookProxy&quot;</span>/&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--配置aop增强--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">aop:config</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--切入点--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">aop:pointcut</span> <span class="attr">id</span>=<span class="string">&quot;p&quot;</span> <span class="attr">expression</span>=<span class="string">&quot;execution(* com.lxl.spring5.aop.aopxml.Book.buy(..))&quot;</span>/&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--配置切面，即把通知（增强的部分bookProxy）ref应用到切入点（buy()）的过程动作--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">aop:aspect</span> <span class="attr">ref</span>=<span class="string">&quot;bookProxy&quot;</span>&gt;</span></span><br><span class="line">            <span class="comment">&lt;!--增强作用在具体的方法上--&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">aop:before</span> <span class="attr">method</span>=<span class="string">&quot;before&quot;</span> <span class="attr">pointcut-ref</span>=<span class="string">&quot;p&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">aop:aspect</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">aop:config</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre>
                                            </td>
                                        </tr>
                                    </table>
                                </figure>
                                <h3 id="3.%E6%B5%8B%E8%AF%95" id="3-测试">3.测试</h3>
                                <figure class="highlight java">
                                    <table>
                                        <tr>
                                            <td class="gutter">
                                                <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre>
                                            </td>
                                            <td class="code">
                                                <pre><span class="line"><span class="keyword">package</span> com.lxl.spring5.aop.aopxml;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.lxl.spring5.aop.aopanno.User;</span><br><span class="line"><span class="keyword">import</span> org.junit.Test;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.ApplicationContext;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.support.ClassPathXmlApplicationContext;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestAopXml</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">TestAopAnno</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        ApplicationContext context = <span class="keyword">new</span> ClassPathXmlApplicationContext(<span class="string">&quot;aop2.xml&quot;</span>);</span><br><span class="line">       Book book= context.getBean(<span class="string">&quot;book&quot;</span>,Book.class);</span><br><span class="line">        book.buy();</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre>
                                            </td>
                                        </tr>
                                    </table>
                                </figure>
                                <h1 id="jdbctemplate">JdbcTemplate</h1>
                                <p><img src="http://rcy276gfy.hd-bkt.clouddn.com/work/image-20211227204604727.png"
                                        alt="image-20211227204604727" /></p>
                                <h2 id="%E4%BE%9D%E8%B5%96%E5%87%86%E5%A4%87" id="依赖准备">依赖准备</h2>
                                <p><img src="http://rcy276gfy.hd-bkt.clouddn.com/work/image-20211228132032625.png"
                                        alt="image-20211228132032625" /></p>
                                <h2 id="%E9%85%8D%E7%BD%AE%E8%BF%9E%E6%8E%A5%E6%B1%A0" id="配置连接池">配置连接池</h2>
                                <p>jdbc.properties</p>
                                <figure class="highlight properties">
                                    <table>
                                        <tr>
                                            <td class="gutter">
                                                <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre>
                                            </td>
                                            <td class="code">
                                                <pre><span class="line"><span class="meta">prop.driverClass</span>=<span class="string">com.mysql.jdbc.Driver</span></span><br><span class="line"><span class="meta">prop.url</span>=<span class="string">jdbc:mysql://localhost:3306/learn?useUnicode=true&amp;characterEncoding=utf8</span></span><br><span class="line"><span class="meta">prop.userName</span>=<span class="string">root</span></span><br><span class="line"><span class="meta">prop.password</span>=<span class="string">root</span></span><br></pre>
                                            </td>
                                        </tr>
                                    </table>
                                </figure>
                                <figure class="highlight xml">
                                    <table>
                                        <tr>
                                            <td class="gutter">
                                                <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre>
                                            </td>
                                            <td class="code">
                                                <pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.springframework.org/schema/beans&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:util</span>=<span class="string">&quot;http://www.springframework.org/schema/util&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:p</span>=<span class="string">&quot;http://www.springframework.org/schema/p&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:context</span>=<span class="string">&quot;http://www.springframework.org/schema/context&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd</span></span></span><br><span class="line"><span class="tag"><span class="string">       http://www.springframework.org/schema/util http://www.springframework.org/schema/util/spring-util.xsd</span></span></span><br><span class="line"><span class="tag"><span class="string">       http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--    引入外部文件--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">context:property-placeholder</span> <span class="attr">location</span>=<span class="string">&quot;classpath:jdbc.properties&quot;</span>/&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--    配置druid连接池--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;dataSource&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.alibaba.druid.pool.DruidDataSource&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;driverClassName&quot;</span> <span class="attr">value</span>=<span class="string">&quot;$&#123;prop.driverClass&#125;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;url&quot;</span> <span class="attr">value</span>=<span class="string">&quot;$&#123;prop.url&#125;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;username&quot;</span> <span class="attr">value</span>=<span class="string">&quot;$&#123;prop.userName&#125;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;password&quot;</span> <span class="attr">value</span>=<span class="string">&quot;$&#123;prop.password&#125;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- JdbcTemplate对象 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;jdbcTemplate&quot;</span> <span class="attr">class</span>=<span class="string">&quot;org.springframework.jdbc.core.JdbcTemplate&quot;</span>&gt;</span> <span class="comment">&lt;!--注入dataSource--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;dataSource&quot;</span> <span class="attr">ref</span>=<span class="string">&quot;dataSource&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- 组件扫描 --&gt;</span> <span class="tag">&lt;<span class="name">context:component-scan</span> <span class="attr">base-package</span>=<span class="string">&quot;com.lxl.spring5.jdbctemplatel&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">context:component-scan</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre>
                                            </td>
                                        </tr>
                                    </table>
                                </figure>
                                <h2 id="%E6%89%80%E6%9C%89%E6%95%B0%E6%8D%AE%E5%BA%93%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9C"
                                    id="所有数据库基本操作">所有数据库基本操作</h2>
                                <h3 id="%E5%88%9B%E5%BB%BA%E5%AE%9E%E4%BD%93%E7%B1%BB%E3%80%81service%E7%B1%BB%EF%BC%8C%E5%88%9B%E5%BB%BAdao%E7%B1%BB%EF%BC%8C%E5%9C%A8dao%E6%B3%A8%E5%85%A5jdbctemplate%E5%AF%B9%E8%B1%A1"
                                    id="创建实体类、service类，创建dao类，在dao注入jdbcTemplate对象">
                                    创建实体类、service类，创建dao类，在dao注入jdbcTemplate对象</h3>
                                <figure class="highlight java">
                                    <table>
                                        <tr>
                                            <td class="gutter">
                                                <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br></pre>
                                            </td>
                                            <td class="code">
                                                <pre><span class="line"><span class="comment">//=======================Dao=============================</span></span><br><span class="line"><span class="keyword">import</span> com.lxl.spring5.jdbctemplatel.entity.Book;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">BookDao</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">add</span><span class="params">(Book book)</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">delete</span><span class="params">(String id)</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">updateBook</span><span class="params">(Book book)</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">selectCount</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> Book <span class="title">selectOneBook</span><span class="params">(String bookid)</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> List&lt;Book&gt; <span class="title">selectAllBooks</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">batchInsert</span><span class="params">(List&lt;Object[]&gt; books)</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">batchUpdateBook</span><span class="params">(List&lt;Object[]&gt; batchArgs)</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">batchDeleteBook</span><span class="params">(List&lt;Object[]&gt; batchArgs)</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//=======================DaoImpl=============================</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.lxl.spring5.jdbctemplatel.entity.Book;</span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Autowired;</span><br><span class="line"><span class="keyword">import</span> org.springframework.jdbc.core.BeanPropertyRowMapper;</span><br><span class="line"><span class="keyword">import</span> org.springframework.jdbc.core.JdbcTemplate;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Repository;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Arrays;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Repository</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">BookDaoImpl</span> <span class="keyword">implements</span> <span class="title">BookDao</span> </span>&#123;</span><br><span class="line">    <span class="comment">//注入JdbcTemplate</span></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> JdbcTemplate jdbcTemplate;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">add</span><span class="params">(Book book)</span> </span>&#123;</span><br><span class="line">        String sql = <span class="string">&quot;insert into book values(?,?,?) &quot;</span>;</span><br><span class="line">        String args[] = &#123;book.getBookId(), book.getBookName(), book.getBookStatus()&#125;;</span><br><span class="line">        <span class="keyword">int</span> update = jdbcTemplate.update(sql, args);</span><br><span class="line">        System.out.println(<span class="string">&quot;更新了&quot;</span> + update + <span class="string">&quot;条数据&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">updateBook</span><span class="params">(Book book)</span> </span>&#123;</span><br><span class="line">        String sql = <span class="string">&quot;update book set bookname=?,bookstatus=? where bookid=?&quot;</span>;</span><br><span class="line">        Object[] args = &#123;book.getBookName(), book.getBookStatus(), book.getBookId()&#125;;</span><br><span class="line">        <span class="keyword">int</span> update = jdbcTemplate.update(sql, args);</span><br><span class="line">        System.out.println(update);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">delete</span><span class="params">(String id)</span> </span>&#123;</span><br><span class="line">        String sql = <span class="string">&quot;delete from book where bookid=?&quot;</span>;</span><br><span class="line">        <span class="keyword">int</span> update = jdbcTemplate.update(sql, id);</span><br><span class="line">        System.out.println(update);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//查询表记录数</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">selectCount</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        String sql = <span class="string">&quot;select count(*) from book&quot;</span>;</span><br><span class="line">        Integer count = jdbcTemplate.queryForObject(sql, Integer.class);</span><br><span class="line">        <span class="keyword">return</span> count;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//查询单个对象</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Book <span class="title">selectOneBook</span><span class="params">(String bookid)</span> </span>&#123;</span><br><span class="line">        String sql = <span class="string">&quot;select * from book where bookid=?&quot;</span>;</span><br><span class="line">        Book book = jdbcTemplate.queryForObject(sql, <span class="keyword">new</span> BeanPropertyRowMapper&lt;Book&gt;(Book.class), bookid);</span><br><span class="line">        <span class="keyword">return</span> book;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//查询多个对象</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> List&lt;Book&gt; <span class="title">selectAllBooks</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        String sql = <span class="string">&quot;select * from book&quot;</span>;</span><br><span class="line">        List&lt;Book&gt; query = jdbcTemplate.query(sql, <span class="keyword">new</span> BeanPropertyRowMapper&lt;Book&gt;(Book.class));</span><br><span class="line">        <span class="keyword">return</span> query;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">batchInsert</span><span class="params">(List&lt;Object[]&gt; books)</span> </span>&#123;</span><br><span class="line">        String sql = <span class="string">&quot;insert into book values(?,?,?)&quot;</span>;</span><br><span class="line">        <span class="keyword">int</span>[] ints = jdbcTemplate.batchUpdate(sql, books);</span><br><span class="line">        System.out.println(Arrays.toString(ints));</span><br><span class="line">    &#125;</span><br><span class="line"><span class="comment">//    批量修改</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">batchUpdateBook</span><span class="params">(List&lt;Object[]&gt; batchArgs)</span> </span>&#123;</span><br><span class="line">        String sql = <span class="string">&quot;update book set bookname=?,bookstatus=? where bookid=?&quot;</span>;</span><br><span class="line">        <span class="keyword">int</span>[] ints = jdbcTemplate.batchUpdate(sql, batchArgs);</span><br><span class="line">        System.out.println(Arrays.toString(ints));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//    批量删除</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">batchDeleteBook</span><span class="params">(List&lt;Object[]&gt; batchArgs)</span> </span>&#123;</span><br><span class="line">        String sql = <span class="string">&quot;delete from book where bookid=?&quot;</span>;</span><br><span class="line">        <span class="keyword">int</span>[] ints = jdbcTemplate.batchUpdate(sql, batchArgs);</span><br><span class="line">        System.out.println(Arrays.toString(ints));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//======================Service==============================</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.lxl.spring5.jdbctemplatel.dao.BookDao;</span><br><span class="line"><span class="keyword">import</span> com.lxl.spring5.jdbctemplatel.entity.Book;</span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Autowired;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Service;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">BookService</span> </span>&#123; <span class="comment">//注入dao</span></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> BookDao bookDao;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">addBook</span><span class="params">(Book book)</span></span>&#123;</span><br><span class="line">        bookDao.add(book);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">updateBook</span><span class="params">(Book book)</span></span>&#123;</span><br><span class="line">        bookDao.updateBook(book);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">delete</span><span class="params">(String id)</span></span>&#123;</span><br><span class="line">        bookDao.delete(id);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">selectCount</span><span class="params">()</span></span>&#123;</span><br><span class="line">       <span class="keyword">return</span> bookDao.selectCount();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> Book <span class="title">selectOneBook</span><span class="params">(String bookid)</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> bookDao.selectOneBook(bookid);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> List&lt;Book&gt; <span class="title">selectAllBooks</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> bookDao.selectAllBooks();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">batchInsert</span><span class="params">(List&lt;Object[]&gt; books)</span></span>&#123;</span><br><span class="line">        bookDao.batchInsert(books);</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">batchUpdateBook</span><span class="params">(List&lt;Object[]&gt; books)</span></span>&#123;</span><br><span class="line">        bookDao.batchUpdateBook(books);</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">batchDeleteBook</span><span class="params">(List&lt;Object[]&gt; books)</span></span>&#123;</span><br><span class="line">        bookDao.batchDeleteBook(books);</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//========================entity============================</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Book</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> String BookId;</span><br><span class="line">    <span class="keyword">private</span> String BookName;</span><br><span class="line">    <span class="keyword">private</span> String BookStatus;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;Book&#123;&quot;</span> +</span><br><span class="line">                <span class="string">&quot;BookId=&#x27;&quot;</span> + BookId + <span class="string">&#x27;\&#x27;&#x27;</span> +</span><br><span class="line">                <span class="string">&quot;, BookName=&#x27;&quot;</span> + BookName + <span class="string">&#x27;\&#x27;&#x27;</span> +</span><br><span class="line">                <span class="string">&quot;, BookStatus=&#x27;&quot;</span> + BookStatus + <span class="string">&#x27;\&#x27;&#x27;</span> +</span><br><span class="line">                <span class="string">&#x27;&#125;&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getBookId</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> BookId;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setBookId</span><span class="params">(String bookId)</span> </span>&#123;</span><br><span class="line">        BookId = bookId;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getBookName</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> BookName;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setBookName</span><span class="params">(String bookName)</span> </span>&#123;</span><br><span class="line">        BookName = bookName;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getBookStatus</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> BookStatus;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setBookStatus</span><span class="params">(String bookStatus)</span> </span>&#123;</span><br><span class="line">        BookStatus = bookStatus;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br></pre>
                                            </td>
                                        </tr>
                                    </table>
                                </figure>
                                <h3 id="%E6%96%B0%E5%BB%BA%E5%AF%B9%E5%BA%94%E6%95%B0%E6%8D%AE%E5%BA%93%E5%AD%97%E6%AE%B5%E5%90%8E%E6%B5%8B%E8%AF%95"
                                    id="新建对应数据库字段后测试">新建对应数据库字段后测试</h3>
                                <figure class="highlight java">
                                    <table>
                                        <tr>
                                            <td class="gutter">
                                                <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br></pre>
                                            </td>
                                            <td class="code">
                                                <pre><span class="line"><span class="keyword">import</span> com.lxl.spring5.jdbctemplatel.entity.Book;</span><br><span class="line"><span class="keyword">import</span> com.lxl.spring5.jdbctemplatel.service.BookService;</span><br><span class="line"><span class="keyword">import</span> org.junit.Test;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.ApplicationContext;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.support.ClassPathXmlApplicationContext;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">BookTest</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">jdbcTemplateTest</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        ApplicationContext context = <span class="keyword">new</span> ClassPathXmlApplicationContext(<span class="string">&quot;jdbctemplate1.xml&quot;</span>);</span><br><span class="line"><span class="comment">//        增加</span></span><br><span class="line"><span class="comment">//        Book book = new Book();</span></span><br><span class="line"><span class="comment">//        BookService bookService = context.getBean(&quot;bookService&quot;, BookService.class);</span></span><br><span class="line"><span class="comment">//        book.setBookId(&quot;1&quot;);</span></span><br><span class="line"><span class="comment">//        book.setBookName(&quot;Java宝典&quot;);</span></span><br><span class="line"><span class="comment">//        book.setBookStatus(&quot;完好&quot;);</span></span><br><span class="line"><span class="comment">//        bookService.addBook(book);</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//        修改，无值改为null</span></span><br><span class="line"><span class="comment">//        Book book = new Book();</span></span><br><span class="line"><span class="comment">//        BookService bookService = context.getBean(&quot;bookService&quot;, BookService.class);</span></span><br><span class="line"><span class="comment">//        book.setBookId(&quot;1&quot;);</span></span><br><span class="line"><span class="comment">//        book.setBookStatus(&quot;改了&quot;);</span></span><br><span class="line"><span class="comment">//        bookService.updateBook(book);</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//      根据id删除</span></span><br><span class="line"><span class="comment">//        BookService bookService = context.getBean(&quot;bookService&quot;, BookService.class);</span></span><br><span class="line"><span class="comment">//        bookService.delete(&quot;1&quot;);</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//      查询数目</span></span><br><span class="line"><span class="comment">//        BookService bookService = context.getBean(&quot;bookService&quot;, BookService.class);</span></span><br><span class="line"><span class="comment">//        int i = bookService.selectCount();</span></span><br><span class="line"><span class="comment">//        System.out.println(i);</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//      查询单个对象</span></span><br><span class="line"><span class="comment">//        BookService bookService = context.getBean(&quot;bookService&quot;, BookService.class);</span></span><br><span class="line"><span class="comment">//        Book book = bookService.selectOneBook(&quot;1&quot;);</span></span><br><span class="line"><span class="comment">//        System.out.println(book);</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//        查询一组对象</span></span><br><span class="line"><span class="comment">//        BookService bookService = context.getBean(&quot;bookService&quot;, BookService.class);</span></span><br><span class="line"><span class="comment">//        List&lt;Book&gt; book = bookService.selectAllBooks();</span></span><br><span class="line"><span class="comment">//        System.out.println(book);</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//       批量新增一组对象</span></span><br><span class="line"><span class="comment">//        BookService bookService = context.getBean(&quot;bookService&quot;, BookService.class);</span></span><br><span class="line"><span class="comment">//        List&lt;Object[]&gt; books = new ArrayList&lt;&gt;();</span></span><br><span class="line"><span class="comment">//        Object[] o1=&#123;&quot;3&quot;,&quot;java&quot;,&quot;a&quot;&#125;;</span></span><br><span class="line"><span class="comment">//        Object[] o2=&#123;&quot;4&quot;,&quot;orcle&quot;,&quot;b&quot;&#125;;</span></span><br><span class="line"><span class="comment">//        Object[] o3=&#123;&quot;5&quot;,&quot;net&quot;,&quot;v&quot;&#125;;</span></span><br><span class="line"><span class="comment">//        books.add(o1);</span></span><br><span class="line"><span class="comment">//        books.add(o2);</span></span><br><span class="line"><span class="comment">//        books.add(o3);</span></span><br><span class="line"><span class="comment">//        bookService.batchInsert(books);</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//            批量修改</span></span><br><span class="line"><span class="comment">//        BookService bookService = context.getBean(&quot;bookService&quot;, BookService.class);</span></span><br><span class="line"><span class="comment">//        List&lt;Object[]&gt; batchArgs = new ArrayList&lt;&gt;();</span></span><br><span class="line"><span class="comment">////        sql参数顺序</span></span><br><span class="line"><span class="comment">//        Object[] o1 = &#123;&quot;java1&quot;, &quot;a3&quot;, &quot;3&quot;&#125;;</span></span><br><span class="line"><span class="comment">//        Object[] o2 = &#123;&quot;orcle1&quot;, &quot;b4&quot;, &quot;4&quot;&#125;;</span></span><br><span class="line"><span class="comment">//        batchArgs.add(o1);</span></span><br><span class="line"><span class="comment">//        batchArgs.add(o2);</span></span><br><span class="line"><span class="comment">////        调用方法实现批量修改</span></span><br><span class="line"><span class="comment">//        bookService.batchUpdateBook(batchArgs);</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//批量删除</span></span><br><span class="line">        BookService bookService = context.getBean(<span class="string">&quot;bookService&quot;</span>, BookService.class);</span><br><span class="line">         List&lt;Object[]&gt; batchArgs = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        Object[] o1 = &#123;<span class="string">&quot;3&quot;</span>&#125;;</span><br><span class="line">        Object[] o2 = &#123;<span class="string">&quot;4&quot;</span>&#125;;</span><br><span class="line">        batchArgs.add(o1);</span><br><span class="line">        batchArgs.add(o2);</span><br><span class="line">        <span class="comment">//调用方法实现批量删除</span></span><br><span class="line">         bookService.batchDeleteBook(batchArgs);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre>
                                            </td>
                                        </tr>
                                    </table>
                                </figure>
                                <h3 id="%E5%8F%AF%E8%83%BDbug" id="可能BUG">可能BUG</h3>
                                <p>Client does not support authentication protocol requested by server;</p>
                                <figure class="highlight plain">
                                    <table>
                                        <tr>
                                            <td class="gutter">
                                                <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre>
                                            </td>
                                            <td class="code">
                                                <pre><span class="line">mysql -hlocalhost -uroot -p</span><br><span class="line">ALTER USER &#39;root&#39;@&#39;localhost&#39; IDENTIFIED WITH mysql_native_password BY &#39;root&#39;;</span><br><span class="line">FLUSH PRIVILEGES;</span><br></pre>
                                            </td>
                                        </tr>
                                    </table>
                                </figure>
                                <p>Unknown initial character set index '255' received from server. Initial client
                                    character set can be forced via the 'characterEncoding' property.</p>
                                <figure class="highlight plain">
                                    <table>
                                        <tr>
                                            <td class="gutter">
                                                <pre><span class="line">1</span><br><span class="line">2</span><br></pre>
                                            </td>
                                            <td class="code">
                                                <pre><span class="line">String url后添加?useUnicode&#x3D;true&amp;characterEncoding&#x3D;utf8   </span><br><span class="line">mybatis url后添加?useUnicode&#x3D;true&amp;characterEncoding&#x3D;utf8</span><br></pre>
                                            </td>
                                        </tr>
                                    </table>
                                </figure>
                                <h2 id="%E4%BA%8B%E5%8A%A1" id="事务">事务</h2>
                                <h3 id="1.%E4%BB%80%E4%B9%88%E6%98%AF%E4%BA%8B%E5%8A%A1" id="1-什么是事务">1.什么是事务</h3>
                                <p>（1）事务是数据库操作最基本单元，逻辑上一组操作，要么都成功，如果有一个失败所有操作都失败<br />
                                    （2）典型场景：银行转账</p>
                                <ul>
                                    <li>lucy 转账100元 给mary</li>
                                    <li>lucy少100，mary多100</li>
                                </ul>
                                <h3 id="2.%E4%BA%8B%E5%8A%A1%E5%9B%9B%E4%B8%AA%E7%89%B9%E6%80%A7%EF%BC%88acid%EF%BC%89"
                                    id="2-事务四个特性（ACID）">2.事务四个特性（ACID）</h3>
                                <p>（1）原子性<br />
                                    （2）一致性<br />
                                    （3）隔离性<br />
                                    （4）持久性</p>
                                <h3 id="3.%E4%BA%8B%E7%89%A9%E6%B5%8B%E8%AF%95%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA"
                                    id="3-事物测试环境搭建">3.事物测试环境搭建</h3>
                                <ul>
                                    <li>
                                        <p>创建数据库</p>
                                        <figure class="highlight plain">
                                            <table>
                                                <tr>
                                                    <td class="gutter">
                                                        <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre>
                                                    </td>
                                                    <td class="code">
                                                        <pre><span class="line">SET NAMES utf8mb4;</span><br><span class="line">SET FOREIGN_KEY_CHECKS &#x3D; 0;</span><br><span class="line"></span><br><span class="line">-- ----------------------------</span><br><span class="line">-- Table structure for t_account</span><br><span class="line">-- ----------------------------</span><br><span class="line">DROP TABLE IF EXISTS &#96;t_account&#96;;</span><br><span class="line">CREATE TABLE &#96;t_account&#96;  (</span><br><span class="line">  &#96;id&#96; varchar(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,</span><br><span class="line">  &#96;username&#96; varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL,</span><br><span class="line">  &#96;money&#96; int NULL DEFAULT NULL,</span><br><span class="line">  PRIMARY KEY (&#96;id&#96;) USING BTREE</span><br><span class="line">) ENGINE &#x3D; InnoDB CHARACTER SET &#x3D; utf8 COLLATE &#x3D; utf8_general_ci ROW_FORMAT &#x3D; Dynamic;</span><br><span class="line"></span><br><span class="line">-- ----------------------------</span><br><span class="line">-- Records of t_account</span><br><span class="line">-- ----------------------------</span><br><span class="line">INSERT INTO &#96;t_account&#96; VALUES (&#39;1&#39;, &#39;lucy&#39;, 900);</span><br><span class="line">INSERT INTO &#96;t_account&#96; VALUES (&#39;2&#39;, &#39;mary&#39;, 1100);</span><br><span class="line"></span><br><span class="line">SET FOREIGN_KEY_CHECKS &#x3D; 1;</span><br></pre>
                                                    </td>
                                                </tr>
                                            </table>
                                        </figure>
                                    </li>
                                    <li>
                                        <p>创建service，搭建dao，完成对象创建和注入关系</p>
                                        <figure class="highlight java">
                                            <table>
                                                <tr>
                                                    <td class="gutter">
                                                        <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre>
                                                    </td>
                                                    <td class="code">
                                                        <pre><span class="line"><span class="keyword">package</span> com.lxl.spring5.transactionl.dao;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">UserDao</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">reduceMoney</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">addMoney</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br></pre>
                                                    </td>
                                                </tr>
                                            </table>
                                        </figure>
                                        <figure class="highlight java">
                                            <table>
                                                <tr>
                                                    <td class="gutter">
                                                        <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre>
                                                    </td>
                                                    <td class="code">
                                                        <pre><span class="line"><span class="keyword">package</span> com.lxl.spring5.transactionl.dao;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Autowired;</span><br><span class="line"><span class="keyword">import</span> org.springframework.jdbc.core.JdbcTemplate;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Repository;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Repository</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UserDaoImpl</span> <span class="keyword">implements</span> <span class="title">UserDao</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> JdbcTemplate jdbcTemplate;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//lucy转账100给mary</span></span><br><span class="line">    <span class="comment">// 少钱</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">reduceMoney</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        String sql = <span class="string">&quot;update t_account set money=money-? where username=?&quot;</span>;</span><br><span class="line">        jdbcTemplate.update(sql, <span class="number">100</span>, <span class="string">&quot;lucy&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//多钱</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">addMoney</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        String sql = <span class="string">&quot;update t_account set money=money+? where username=?&quot;</span>;</span><br><span class="line">        jdbcTemplate.update(sql, <span class="number">100</span>, <span class="string">&quot;mary&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre>
                                                    </td>
                                                </tr>
                                            </table>
                                        </figure>
                                    </li>
                                </ul>
                                <figure class="highlight java">
                                    <table>
                                        <tr>
                                            <td class="gutter">
                                                <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre>
                                            </td>
                                            <td class="code">
                                                <pre><span class="line"><span class="keyword">package</span> com.lxl.spring5.transactionl.service;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.lxl.spring5.transactionl.dao.UserDao;</span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Autowired;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Service;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UserService</span> </span>&#123;</span><br><span class="line">    <span class="comment">//        注入dao</span></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> UserDao userDao;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//转账的方法</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">accountMoney</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="comment">// lucy少100</span></span><br><span class="line">        userDao.reduceMoney();</span><br><span class="line">        <span class="comment">// mary多100</span></span><br><span class="line">        userDao.addMoney();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre>
                                            </td>
                                        </tr>
                                    </table>
                                </figure>
                                <figure class="highlight">
                                    <table>
                                        <tr>
                                            <td class="gutter">
                                                <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre>
                                            </td>
                                            <td class="code">
                                                <pre><span class="line">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span><br><span class="line">&lt;beans xmlns=<span class="string">&quot;http://www.springframework.org/schema/beans&quot;</span></span><br><span class="line">       xmlns:util=<span class="string">&quot;http://www.springframework.org/schema/util&quot;</span></span><br><span class="line">       xmlns:p=<span class="string">&quot;http://www.springframework.org/schema/p&quot;</span></span><br><span class="line">       xmlns:context=<span class="string">&quot;http://www.springframework.org/schema/context&quot;</span></span><br><span class="line">       xmlns:xsi=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span><br><span class="line">       xsi:schemaLocation=<span class="string">&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd</span></span><br><span class="line"><span class="string">       http://www.springframework.org/schema/util http://www.springframework.org/schema/util/spring-util.xsd</span></span><br><span class="line"><span class="string">       http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd&quot;</span>&gt;</span><br><span class="line">    &lt;!--    引入外部文件--&gt;</span><br><span class="line">    &lt;context:property-placeholder location=<span class="string">&quot;classpath:jdbc.properties&quot;</span>/&gt;</span><br><span class="line">    &lt;!--    配置连接池--&gt;</span><br><span class="line">    &lt;bean id=<span class="string">&quot;dataSource&quot;</span> <span class="class"><span class="keyword">class</span></span>=<span class="string">&quot;com.alibaba.druid.pool.DruidDataSource&quot;</span>&gt;</span><br><span class="line">        &lt;property name=&quot;driverClassName&quot; value=&quot;$&#123;prop.driverClass&#125;&quot;&gt;&lt;/property&gt;</span><br><span class="line">        &lt;property name=&quot;url&quot; value=&quot;$&#123;prop.url&#125;&quot;&gt;&lt;/property&gt;</span><br><span class="line">        &lt;property name=&quot;username&quot; value=&quot;$&#123;prop.userName&#125;&quot;&gt;&lt;/property&gt;</span><br><span class="line">        &lt;property name=&quot;password&quot; value=&quot;$&#123;prop.password&#125;&quot;&gt;&lt;/property&gt;</span><br><span class="line">    &lt;/bean&gt;</span><br><span class="line"></span><br><span class="line">    &lt;!-- JdbcTemplate对象 --&gt;</span><br><span class="line">    &lt;bean id=<span class="string">&quot;jdbcTemplate&quot;</span> <span class="class"><span class="keyword">class</span></span>=<span class="string">&quot;org.springframework.jdbc.core.JdbcTemplate&quot;</span>&gt; &lt;!--注入dataSource--&gt;</span><br><span class="line">        &lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot;&gt;&lt;/property&gt;</span><br><span class="line">    &lt;/bean&gt;</span><br><span class="line"></span><br><span class="line">    &lt;!-- 组件扫描 --&gt; &lt;context:component-scan base-package=&quot;com.lxl.spring5.transactionl&quot;&gt;&lt;/context:component-scan&gt;</span><br><span class="line">&lt;/beans&gt;</span><br></pre>
                                            </td>
                                        </tr>
                                    </table>
                                </figure>
                                <ul>
                                    <li>测试</li>
                                </ul>
                                <figure class="highlight java">
                                    <table>
                                        <tr>
                                            <td class="gutter">
                                                <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre>
                                            </td>
                                            <td class="code">
                                                <pre><span class="line"><span class="keyword">package</span> com.lxl.spring5.transactionl.test;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.lxl.spring5.transactionl.service.UserService;</span><br><span class="line"><span class="keyword">import</span> org.junit.Test;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.ApplicationContext;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.support.ClassPathXmlApplicationContext;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">transactionTest</span> </span>&#123;</span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">transactionTest</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    ApplicationContext context = <span class="keyword">new</span> ClassPathXmlApplicationContext(<span class="string">&quot;transaction1.xml&quot;</span>);</span><br><span class="line">    UserService userService = context.getBean(<span class="string">&quot;userService&quot;</span>, UserService.class);</span><br><span class="line">    userService.accountMoney();</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre>
                                            </td>
                                        </tr>
                                    </table>
                                </figure>
                                <h3 id="4.%E5%87%BA%E7%8E%B0%E5%BC%82%E5%B8%B8" id="4-出现异常">4.出现异常</h3>
                                <p>出现异常后，lucy少100，mary不会变导致数据更改错误。</p>
                                <p>解决1：try检测异常，catch手动回滚</p>
                                <p>解决2：使用Spring声明式事务，如下5所示。</p>
                                <figure class="highlight java">
                                    <table>
                                        <tr>
                                            <td class="gutter">
                                                <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre>
                                            </td>
                                            <td class="code">
                                                <pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">accountMoney</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="comment">// lucy少100</span></span><br><span class="line">    userDao.reduceMoney();</span><br><span class="line">    <span class="keyword">int</span> i=<span class="number">10</span>/<span class="number">0</span>;</span><br><span class="line">    <span class="comment">// mary多100</span></span><br><span class="line">    userDao.addMoney();</span><br><span class="line">&#125;</span><br></pre>
                                            </td>
                                        </tr>
                                    </table>
                                </figure>
                                <h3 id="5.%E4%BA%8B%E5%8A%A1%E6%93%8D%E4%BD%9C%EF%BC%88%E5%8D%8A%E6%B3%A8%E8%A7%A3%EF%BC%89"
                                    id="5-事务操作（半注解）">5.事务操作（半注解）</h3>
                                <ul>
                                    <li>
                                        <p>事务添加到JavaEE三层结构里面Service层（业务逻辑层）</p>
                                    </li>
                                    <li>
                                        <p>在Spring进行事务管理操作</p>
                                        <p>（1）有两种方式：编程式事务管理和声明式事务管理（使用）</p>
                                    </li>
                                    <li>
                                        <p>声明式事务管理</p>
                                        <p>（1）基于注解方式（使用）</p>
                                        <p>（2）基于xml配置文件方式</p>
                                    </li>
                                    <li>
                                        <p>在Spring进行声明式事务管理，底层使用AOP原理</p>
                                    </li>
                                    <li>
                                        <p>Spring事务管理API</p>
                                        <p>（1）提供一个接口，代表事务管理器，这个接口针对不同的框架提供不同的实现类</p>
                                        <p><img src="http://rcy276gfy.hd-bkt.clouddn.com/work/image-20211229135547108.png"
                                                alt="image-20211229135547108" /></p>
                                        <p>（2）配置事物管理器，引入名称空间 tx，开启事物注解</p>
                                        <figure class="highlight xml">
                                            <table>
                                                <tr>
                                                    <td class="gutter">
                                                        <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre>
                                                    </td>
                                                    <td class="code">
                                                        <pre><span class="line"><span class="comment">&lt;!--1.引入名称空间tx--&gt;</span></span><br><span class="line">xmlns:tx=&quot;http://www.springframework.org/schema/tx&quot;</span><br><span class="line">http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx.xsd</span><br><span class="line"><span class="comment">&lt;!--2.创建事务管理器--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;transactionManager&quot;</span> <span class="attr">class</span>=<span class="string">&quot;org.springframework.jdbc.datasource.DataSourceTransactionManager&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--3.注入数据源--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;dataSource&quot;</span> <span class="attr">ref</span>=<span class="string">&quot;dataSource&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--4.开启事务注解--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">tx:annotation-driven</span> <span class="attr">transaction-manager</span>=<span class="string">&quot;transactionManager&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">tx:annotation-driven</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--5.添加@Transactional注解到需要的类或者方法上，其位置决定起作用域。--&gt;</span></span><br></pre>
                                                    </td>
                                                </tr>
                                            </table>
                                        </figure>
                                    </li>
                                </ul>
                                <h3 id="6.%E4%BA%8B%E5%8A%A1%E5%8F%82%E6%95%B0" id="6-事务参数">6.事务参数</h3>
                                <h4 id="propagation%EF%BC%9A%E4%BA%8B%E5%8A%A1%E4%BC%A0%E6%92%AD%E8%A1%8C%E4%B8%BA"
                                    id="propagation：事务传播行为">propagation：事务传播行为</h4>
                                <p>​ （1）事务传播行为用来描述由某一个事务传播行为修饰的方法被嵌套进另一个方法的时事务如何传播。</p>
                                <p><a target="_blank" rel="noopener"
                                        href="https://segmentfault.com/a/1190000013341344">用伪代码说明：</a></p>
                                <figure class="highlight java">
                                    <table>
                                        <tr>
                                            <td class="gutter">
                                                <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre>
                                            </td>
                                            <td class="code">
                                                <pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">methodA</span><span class="params">()</span></span>&#123;</span><br><span class="line">   methodB();</span><br><span class="line">   <span class="comment">//doSomething</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Transaction(Propagation=XXX)</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">methodB</span><span class="params">()</span></span>&#123;</span><br><span class="line">   <span class="comment">//doSomething</span></span><br><span class="line">&#125;</span><br></pre>
                                            </td>
                                        </tr>
                                    </table>
                                </figure>
                                <p>​ 代码中<code>methodA()</code>方法嵌套调用了<code>methodB()</code>方法，<code>methodB()</code>的事务传播行为由<code>@Transaction(Propagation=XXX)</code>设置决定。这里需要注意的是<code>methodA()</code>并没有开启事务，某一个事务传播行为修饰的方法并不是必须要在开启事务的外围方法中调用。
                                </p>
                                <p>​ （2）Spring中七种事务传播行为</p>
                                <table>
                                    <thead>
                                        <tr>
                                            <th>事务传播( propagation )行为类型</th>
                                            <th>说明</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td>PROPAGATION_REQUIRED</td>
                                            <td>requirde 如果当前没有事务，就新建一个事务，如果已经存在一个事务中，加入到这个事务中。这是最常见的选择。</td>
                                        </tr>
                                        <tr>
                                            <td>PROPAGATION_SUPPORTS</td>
                                            <td>supports 支持当前事务，如果当前没有事务，就以非事务方式执行。</td>
                                        </tr>
                                        <tr>
                                            <td>PROPAGATION_MANDATORY</td>
                                            <td>mandatory 使用当前的事务，如果当前没有事务，就抛出异常。</td>
                                        </tr>
                                        <tr>
                                            <td>PROPAGATION_REQUIRES_NEW</td>
                                            <td>requirde _new 新建事务，如果当前存在事务，把当前事务挂起。</td>
                                        </tr>
                                        <tr>
                                            <td>PROPAGATION_NOT_SUPPORTED</td>
                                            <td>not_supported以非事务方式执行操作，如果当前存在事务，就把当前事务挂起。</td>
                                        </tr>
                                        <tr>
                                            <td>PROPAGATION_NEVER</td>
                                            <td>never 以非事务方式执行，如果当前存在事务，则抛出异常。</td>
                                        </tr>
                                        <tr>
                                            <td>PROPAGATION_NESTED</td>
                                            <td>nested 如果当前存在事务，则在嵌套事务内执行。如果当前没有事务，则执行与PROPAGATION_REQUIRED类似的操作。</td>
                                        </tr>
                                    </tbody>
                                </table>
                                <h4 id="ioslation%EF%BC%9A%E4%BA%8B%E5%8A%A1%E9%9A%94%E7%A6%BB%E7%BA%A7%E5%88%AB%EF%BC%8C%E4%BC%A0%E6%92%AD%E5%B1%9E%E6%80%A7"
                                    id="ioslation：事务隔离级别，传播属性">ioslation：<a target="_blank" rel="noopener"
                                        href="https://www.cnblogs.com/eunice-sun/p/11024584.html">事务隔离级别，传播属性</a></h4>
                                <p>​ <strong>1.首先说明一下事务并发引起的三种情况：</strong></p>
                                <p><strong>1) Dirty Reads 脏读</strong><br />
                                    一个事务正在对数据进行更新操作，但是更新还未提交，另一个事务这时也来操作这组数据，并且读取了前一个事务还未提交的数据，而前一个事务如果操作失败进行了回滚，后一个事务读取的就是错误数据，这样就造成了脏读。<strong>前人后悔后人遭殃</strong>
                                </p>
                                <p><strong>2) Non-Repeatable Reads 不可重复读</strong><br />
                                    一个事务多次读取同一数据，在该事务还未结束时，另一个事务也对该数据进行了操作，而且在第一个事务两次次读取之间，第二个事务对数据进行了更新，那么第一个事务前后两次读取到的数据是不同的，这样就造成了不可重复读。<strong>我用坦克你改成飞机</strong>
                                </p>
                                <p><strong>3) Phantom Reads 幻像读</strong><br />
                                    第一个数据正在查询符合某一条件的数据，这时，另一个事务又插入了一条符合条件的数据，第一个事务在第二次查询符合同一条件的数据时，发现多了一条前一次查询时没有的数据，仿佛幻觉一样，这就是幻像读。<strong>你吃黄色面包给你塞坨黄色物体</strong>
                                </p>
                                <p><strong>非重复度和幻像读的区别：</strong><br />
                                    非重复读是指同一查询在同一事务中多次进行，由于其他提交事务所做的修改或删除，每次返回不同的结果集，此时发生非重复读。幻像读是指同一查询在同一事务中多次进行，由于其他提交事务所做的插入操作，每次返回不同的结果集，此时发生幻像读。表面上看，区别就在于非重复读能看见其他事务提交的修改和删除，而幻像能看见其他事务提交的插入。
                                </p>
                                <p>​ <strong>2.隔离级别：</strong></p>
                                <p><strong>1) DEFAULT （默认）</strong><br />
                                    这是一个PlatfromTransactionManager默认的隔离级别，使用数据库默认的事务隔离级别。另外四个与JDBC的隔离级别相对应。</p>
                                <p><strong>2) READ_UNCOMMITTED （读未提交）</strong><br />
                                    这是事务最低的隔离级别，它允许另外一个事务可以看到这个事务未提交的数据。这种隔离级别会产生脏读，不可重复读和幻像读。</p>
                                <p><strong>3) READ_COMMITTED （读已提交）</strong><br />
                                    保证一个事务修改的数据提交后才能被另外一个事务读取，另外一个事务不能读取该事务未提交的数据。这种事务隔离级别可以避免脏读出现，但是可能会出现不可重复读和幻像读。</p>
                                <p><strong>4) REPEATABLE_READ （可重复读）</strong><br />
                                    这种事务隔离级别可以防止脏读、不可重复读，但是可能出现幻像读。它除了保证一个事务不能读取另一个事务未提交的数据外，还保证了不可重复读。</p>
                                <p><strong>5) SERIALIZABLE（串行化）</strong><br />
                                    这是花费最高代价但是最可靠的事务隔离级别，事务被处理为顺序执行。除了防止脏读、不可重复读外，还避免了幻像读。</p>
                                <p><img src="http://rcy276gfy.hd-bkt.clouddn.com/work/image-20211229194756853.png"
                                        alt="image-20211229194756853" /></p>
                                <h4 id="timeout%EF%BC%9A%E8%B6%85%E6%97%B6%E6%97%B6%E9%97%B4" id="timeout：超时时间">
                                    timeout：超时时间</h4>
                                <p>（1）事务需要在一定时间内进行提交，如果不提交进行回滚<br />
                                    （2）默认值是 -1 ，设置时间以秒单位进行计算</p>
                                <h4 id="readonly%EF%BC%9A%E6%98%AF%E5%90%A6%E5%8F%AA%E8%AF%BB" id="readOnly：是否只读">
                                    readOnly：是否只读</h4>
                                <p>（1）读：查询操作，写：添加修改删除操作<br />
                                    （2）readOnly默认值false，表示可以查询，可以添加修改删除操作<br />
                                    （3）设置readOnly值是true，设置成true之后，只能查询</p>
                                <h4 id="rollbackfor%EF%BC%9A%E5%9B%9E%E6%BB%9A" id="rollbackFor：回滚">rollbackFor：回滚</h4>
                                <p>（1）设置出现哪些异常进行事务回滚</p>
                                <h4 id="norollbackfor%EF%BC%9A%E4%B8%8D%E5%9B%9E%E6%BB%9A" id="noRollbackFor：不回滚">
                                    noRollbackFor：不回滚</h4>
                                <p>（1）设置出现哪些异常不进行事务回滚</p>
                                <h3 id="7.%E4%BA%8B%E5%8A%A1%E6%93%8D%E4%BD%9C%EF%BC%88xml%EF%BC%89" id="7-事务操作（XML）">
                                    7.事务操作（XML）</h3>
                                <p>续用上面示例，添加一下配置实现以XML方式实现事物操作，去掉@Transaction注解后复制测试方法进行测试。</p>
                                <figure class="highlight xml">
                                    <table>
                                        <tr>
                                            <td class="gutter">
                                                <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre>
                                            </td>
                                            <td class="code">
                                                <pre><span class="line"><span class="comment">&lt;!--添加aop命名空间--&gt;</span>  </span><br><span class="line"><span class="comment">&lt;!--无需事务注解配置--&gt;</span></span><br><span class="line"><span class="comment">&lt;!--    &lt;tx:annotation-driven transaction-manager=&quot;transactionManager&quot;&gt;&lt;/tx:annotation-driven&gt;--&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!--配置通知--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tx:advice</span> <span class="attr">id</span>=<span class="string">&quot;txadvice&quot;</span>&gt;</span> <span class="comment">&lt;!--配置事务参数--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">tx:attributes</span>&gt;</span> <span class="comment">&lt;!--指定哪种规则的方法上面添加事务--&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">tx:method</span> <span class="attr">name</span>=<span class="string">&quot;accountMoney&quot;</span> <span class="attr">propagation</span>=<span class="string">&quot;REQUIRED&quot;</span>/&gt;</span> <span class="comment">&lt;!--&lt;tx:method name=&quot;account*&quot;/&gt;--&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">tx:attributes</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tx:advice</span>&gt;</span> <span class="comment">&lt;!--3 配置切入点和切面--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">aop:config</span>&gt;</span> <span class="comment">&lt;!--配置切入点--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">aop:pointcut</span> <span class="attr">id</span>=<span class="string">&quot;pt&quot;</span> <span class="attr">expression</span>=<span class="string">&quot;execution(* com.lxl.spring5.transactionl.service.UserService.*(..))&quot;</span>/&gt;</span> <span class="comment">&lt;!--配置切面--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">aop:advisor</span> <span class="attr">advice-ref</span>=<span class="string">&quot;txadvice&quot;</span> <span class="attr">pointcut-ref</span>=<span class="string">&quot;pt&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">aop:config</span>&gt;</span></span><br></pre>
                                            </td>
                                        </tr>
                                    </table>
                                </figure>
                                <h3 id="8.%E4%BA%8B%E5%8A%A1%E6%93%8D%E4%BD%9C%EF%BC%88%E5%AE%8C%E5%85%A8%E6%B3%A8%E8%A7%A3%EF%BC%89"
                                    id="8-事务操作（完全注解）">8.事务操作（完全注解）</h3>
                                <ul>
                                    <li>
                                        <p>添加配置类</p>
                                        <figure class="highlight java">
                                            <table>
                                                <tr>
                                                    <td class="gutter">
                                                        <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre>
                                                    </td>
                                                    <td class="code">
                                                        <pre><span class="line"><span class="keyword">package</span> com.lxl.spring5.transactionl;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.alibaba.druid.pool.DruidDataSource;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Bean;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.ComponentScan;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Configuration;</span><br><span class="line"><span class="keyword">import</span> org.springframework.jdbc.core.JdbcTemplate;</span><br><span class="line"><span class="keyword">import</span> org.springframework.jdbc.datasource.DataSourceTransactionManager;</span><br><span class="line"><span class="keyword">import</span> org.springframework.transaction.annotation.EnableTransactionManagement;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.sql.DataSource;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="comment">//配置类</span></span><br><span class="line"><span class="meta">@ComponentScan(basePackages = &quot;com.lxl.spring5.transactionl&quot;)</span></span><br><span class="line"><span class="comment">//组件扫描</span></span><br><span class="line"><span class="meta">@EnableTransactionManagement</span></span><br><span class="line"><span class="comment">// 开启事务</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TxConfig</span> </span>&#123;</span><br><span class="line">    <span class="comment">// 创建数据库连接池</span></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> DruidDataSource <span class="title">getDruidDataSource</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        DruidDataSource dataSource = <span class="keyword">new</span> DruidDataSource();</span><br><span class="line">        dataSource.setDriverClassName(<span class="string">&quot;com.mysql.jdbc.Driver&quot;</span>);</span><br><span class="line">        dataSource.setUrl(<span class="string">&quot;jdbc:mysql://localhost:3306/learn?useUnicode=true&amp;characterEncoding=utf8&quot;</span>);</span><br><span class="line">        dataSource.setUsername(<span class="string">&quot;root&quot;</span>);</span><br><span class="line">        dataSource.setPassword(<span class="string">&quot;root&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> dataSource;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//创建JdbcTemplate对象</span></span><br><span class="line">     <span class="meta">@Bean</span> <span class="function"><span class="keyword">public</span> JdbcTemplate <span class="title">getJdbcTemplate</span><span class="params">(DataSource dataSource)</span> </span>&#123;</span><br><span class="line">        <span class="comment">//到ioc容器中根据类型找到dataSource</span></span><br><span class="line">          JdbcTemplate jdbcTemplate = <span class="keyword">new</span> JdbcTemplate();</span><br><span class="line">         <span class="comment">// 注入dataSource</span></span><br><span class="line">          jdbcTemplate.setDataSource(dataSource);</span><br><span class="line"><span class="keyword">return</span> jdbcTemplate;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//创建事务管理器</span></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> DataSourceTransactionManager <span class="title">getDataSourceTransactionManager</span><span class="params">(DataSource dataSource)</span> </span>&#123;</span><br><span class="line">        DataSourceTransactionManager transactionManager = <span class="keyword">new</span> DataSourceTransactionManager();</span><br><span class="line">        transactionManager.setDataSource(dataSource);</span><br><span class="line">        <span class="keyword">return</span> transactionManager;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre>
                                                    </td>
                                                </tr>
                                            </table>
                                        </figure>
                                    </li>
                                    <li>
                                        <p>测试</p>
                                    </li>
                                </ul>
                                <figure class="highlight java">
                                    <table>
                                        <tr>
                                            <td class="gutter">
                                                <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre>
                                            </td>
                                            <td class="code">
                                                <pre><span class="line">    <span class="comment">//全注解方式测试</span></span><br><span class="line"><span class="comment">//    先去掉@Transaction注解</span></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">transactionAllAnnoTest</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        ApplicationContext context = <span class="keyword">new</span> AnnotationConfigApplicationContext(TxConfig.class);</span><br><span class="line">        UserService userService = context.getBean(<span class="string">&quot;userService&quot;</span>, UserService.class);</span><br><span class="line">        userService.accountMoney();</span><br><span class="line"></span><br><span class="line">    &#125;</span><br></pre>
                                            </td>
                                        </tr>
                                    </table>
                                </figure>
                                <h1 id="spring5%E6%96%B0%E5%8A%9F%E8%83%BD">Spring5新功能</h1>
                                <h2 id="log4j2" id="Log4j2">Log4j2</h2>
                                <p>整个Spring5框架的代码基于Java8，运行时兼容JDK9，许多不建议使用的类和方法在代码库中删除Spring 5.0框架自带了通用的日志封装</p>
                                <p>（1）Spring5已经移除Log4jConfigListener，官方建议使用Log4j2</p>
                                <p>（2）Spring5框架整合Log4j2 第一步 引入jar包</p>
                                <h3 id="%E5%87%86%E5%A4%87" id="准备">准备</h3>
                                <p>导入jar包并导入依赖【2021.12 Log4j2.17.0 RCE(CVE-2021-44832)漏洞】生产建议使用2.17.1以上</p>
                                <p><img src="http://rcy276gfy.hd-bkt.clouddn.com/work/image-20211229205609524.png"
                                        alt="image-20211229205609524" /></p>
                                <h3 id="%E5%88%9B%E5%BB%BA%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6log4j2" id="创建配置文件log4j2">
                                    创建配置文件log4j2</h3>
                                <figure class="highlight xml">
                                    <table>
                                        <tr>
                                            <td class="gutter">
                                                <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre>
                                            </td>
                                            <td class="code">
                                                <pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span></span><br><span class="line"><span class="comment">&lt;!--日志级别以及优先级排序: OFF &gt; FATAL &gt; ERROR &gt; WARN &gt; INFO &gt; DEBUG &gt; TRACE &gt; ALL --&gt;</span></span><br><span class="line"><span class="comment">&lt;!--Configuration后面的status用于设置log4j2自身内部的信息输出，可以不设置，当设置成trace时，可以看到log4j2内部各种详细输出--&gt;</span></span><br><span class="line"><span class="comment">&lt;!--设置INFO会输出前面级别所有日志--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">configuration</span> <span class="attr">status</span>=<span class="string">&quot;INFO&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--先定义所有的appender--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">appenders</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--输出日志信息到控制台--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">console</span> <span class="attr">name</span>=<span class="string">&quot;Console&quot;</span> <span class="attr">target</span>=<span class="string">&quot;SYSTEM_OUT&quot;</span>&gt;</span></span><br><span class="line">            <span class="comment">&lt;!--控制日志输出的格式--&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">PatternLayout</span> <span class="attr">pattern</span>=<span class="string">&quot;%d&#123;yyyy-MM-dd HH:mm:ss.SSS&#125; [%t] %-5level %logger&#123;36&#125; - %msg%n&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">console</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">appenders</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--然后定义logger，只有定义了logger并引入的appender，appender才会生效--&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--root：用于指定项目的根日志，如果没有单独指定Logger，则会使用root作为默认的日志输出--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">loggers</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">root</span> <span class="attr">level</span>=<span class="string">&quot;info&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">appender-ref</span> <span class="attr">ref</span>=<span class="string">&quot;Console&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">root</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">loggers</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br></pre>
                                            </td>
                                        </tr>
                                    </table>
                                </figure>
                                <p>任意运行程序可见日志，更改<configuration status="INFO"> 查看不同级别日志。</p>
                                <h3 id="%E6%89%8B%E5%8A%A8%E5%8A%A0%E6%97%A5%E5%BF%97" id="手动加日志">手动加日志</h3>
                                <figure class="highlight java">
                                    <table>
                                        <tr>
                                            <td class="gutter">
                                                <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre>
                                            </td>
                                            <td class="code">
                                                <pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span>  <span class="title">manualLogTest</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">final</span> Logger log = LoggerFactory.getLogger(transactionTest.class);</span><br><span class="line">    log.warn(<span class="string">&quot;hello log4j==============&quot;</span>);</span><br><span class="line">&#125;</span><br></pre>
                                            </td>
                                        </tr>
                                    </table>
                                </figure>
                                <h2 id="%40nullable" id="Nullable">@Nullable</h2>
                                <p>Spring5框架核心容器支持@Nullable注解<br />
                                    （1）@Nullable注解可以使用在方法上面，属性上面，参数上面，表示方法返回可以为空，属性值可以为空，参数值可以为空<br />
                                    （2）注解用在方法上面，方法返回值可以为空<br />
                                    （3）注解使用在方法参数里面，方法参数可以为空<br />
                                    （4）注解使用在属性上面，属性值可以为空</p>
                                <h2 id="genericapplicationcontext" id="GenericApplicationContext">
                                    GenericApplicationContext</h2>
                                <p>Spring5核心容器支持函数式风格GenericApplicationContext,把自己new的对象加入搜spring管理中。</p>
                                <figure class="highlight java">
                                    <table>
                                        <tr>
                                            <td class="gutter">
                                                <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre>
                                            </td>
                                            <td class="code">
                                                <pre><span class="line"><span class="comment">//函数式风格创建对象，交给spring进行管理 </span></span><br><span class="line"><span class="meta">@Test</span> <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testGenericApplicationContext</span><span class="params">()</span> </span>&#123; </span><br><span class="line"><span class="comment">//1 创建GenericApplicationContext对象 </span></span><br><span class="line">	GenericApplicationContext context = <span class="keyword">new</span> GenericApplicationContext(); </span><br><span class="line"><span class="comment">//2 调用context的方法对象注册 </span></span><br><span class="line">	context.refresh(); </span><br><span class="line">	context.registerBean(<span class="string">&quot;user1&quot;</span>,User.class,() -&gt; <span class="keyword">new</span> User()); </span><br><span class="line"><span class="comment">//3 获取在spring注册的对象 </span></span><br><span class="line"><span class="comment">// User user = (User)context.getBean(&quot;com.atguigu.spring5.test.User&quot;); </span></span><br><span class="line">	User user = (User)context.getBean(<span class="string">&quot;user1&quot;</span>); </span><br><span class="line">	System.out.println(user); </span><br><span class="line">&#125;</span><br></pre>
                                            </td>
                                        </tr>
                                    </table>
                                </figure>
                                <h3 id="spring5%E6%94%AF%E6%8C%81%E6%95%B4%E5%90%88junit5" id="Spring5支持整合JUnit5">
                                    Spring5支持整合JUnit5</h3>
                                <h4 id="%EF%BC%881%EF%BC%89%E6%95%B4%E5%90%88junit4" id="（1）整合JUnit4">（1）整合JUnit4</h4>
                                <p>第一步 引入Spring相关针对测试依赖</p>
                                <p><img src="http://rcy276gfy.hd-bkt.clouddn.com/work/image-20211230133428555.png"
                                        alt="image-20211230133428555" /></p>
                                <p>测试代码</p>
                                <figure class="highlight java">
                                    <table>
                                        <tr>
                                            <td class="gutter">
                                                <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre>
                                            </td>
                                            <td class="code">
                                                <pre><span class="line"><span class="keyword">package</span> com.lxl.spring5.JunitTest;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.lxl.spring5.transactionl.service.UserService;</span><br><span class="line"><span class="keyword">import</span> org.junit.Test;</span><br><span class="line"><span class="keyword">import</span> org.junit.runner.RunWith;</span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Autowired;</span><br><span class="line"><span class="keyword">import</span> org.springframework.test.context.ContextConfiguration;</span><br><span class="line"><span class="keyword">import</span> org.springframework.test.context.junit4.SpringJUnit4ClassRunner;</span><br><span class="line"></span><br><span class="line"><span class="meta">@RunWith(SpringJUnit4ClassRunner.class)</span></span><br><span class="line"><span class="comment">//单元测试框架</span></span><br><span class="line"> <span class="meta">@ContextConfiguration(&quot;classpath:transaction1.xml&quot;)</span></span><br><span class="line"><span class="comment">//加载配置文件</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">JunitTest4</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> UserService userService;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test1</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        userService.accountMoney();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre>
                                            </td>
                                        </tr>
                                    </table>
                                </figure>
                                <h4 id="%EF%BC%882%EF%BC%89junit5" id="（2）Junit5">（2）Junit5</h4>
                                <p>idea点击@Test导入包</p>
                                <figure class="highlight java">
                                    <table>
                                        <tr>
                                            <td class="gutter">
                                                <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre>
                                            </td>
                                            <td class="code">
                                                <pre><span class="line"><span class="keyword">package</span> com.lxl.spring5.JunitTest;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.lxl.spring5.transactionl.service.UserService;</span><br><span class="line"><span class="keyword">import</span> org.junit.jupiter.api.Test;</span><br><span class="line"><span class="keyword">import</span> org.junit.jupiter.api.extension.ExtendWith;</span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Autowired;</span><br><span class="line"><span class="keyword">import</span> org.springframework.test.context.ContextConfiguration;</span><br><span class="line"><span class="keyword">import</span> org.springframework.test.context.junit.jupiter.SpringExtension;</span><br><span class="line"><span class="keyword">import</span> org.springframework.test.context.junit.jupiter.SpringJUnitConfig;</span><br><span class="line"></span><br><span class="line"><span class="comment">//@ExtendWith(SpringExtension.class)</span></span><br><span class="line"><span class="comment">//@ContextConfiguration(&quot;classpath:transaction1.xml&quot;)</span></span><br><span class="line"><span class="comment">//SpringJUnitConfig效果同上面两个同时使用</span></span><br><span class="line"><span class="meta">@SpringJUnitConfig(locations = &quot;classpath:transaction1.xml&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">JunitTest5</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> UserService userService;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test1</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        userService.accountMoney();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre>
                                            </td>
                                        </tr>
                                    </table>
                                </figure>
                                <h1 id="webflux"><a target="_blank" rel="noopener"
                                        href="https://docs.spring.io/spring-framework/docs/current/reference/html/web-reactive.html#spring-webflux">Webflux</a>
                                </h1>
                                <h2 id="1%E3%80%81springwebflux%E4%BB%8B%E7%BB%8D" id="1、SpringWebflux介绍">
                                    1、SpringWebflux介绍</h2>
                                <p>（1）是Spring5添加新的模块，用于web开发的，功能和SpringMVC类似的，Webflux使用当前一种比较流程响应式编程出现的框架。</p>
                                <p>（2）使用传统web框架，比如SpringMVC，这些基于Servlet容器，Webflux是一种异步非阻塞的框架，异步非阻塞的框架在Servlet3.1以后才支持，核心是基于Reactor的相关API实现的。<br />
                                    （3）解释什么是异步非阻塞</p>
                                <ul>
                                    <li>
                                        <p>异步和同步</p>
                                    </li>
                                    <li>
                                        <p>非阻塞和阻塞<br />
                                            上面都是针对对象不一样<br />
                                            异步和同步针对调用者，调用者发送请求，如果等着对方回应之后才去做其他事情就是同步，如果发送请求之后不等着对方回应就去做其他事情就是异步阻塞和非阻塞针对被调用者，被调用者受到请求之后，做完请求任务之后才给出反馈就是阻塞，受到请求之后马上给出反馈然后再去做事情就是非阻塞
                                        </p>
                                    </li>
                                </ul>
                                <p>（4）Webflux特点：<br />
                                    第一 非阻塞式：在有限资源下，提高系统吞吐量和伸缩性，以Reactor为基础实现响应式编程<br />
                                    第二 函数式编程：Spring5框架基于java8，Webflux使用Java8函数式编程方式实现路由请求</p>
                                <p>（5）比较SpringMVC</p>
                                <p>第一 两个框架都可以使用注解方式，都运行在Tomet等容器中<br />
                                    第二 SpringMVC采用命令式编程，Webflux采用异步响应式编程</p>
                                <p><img src="https://docs.spring.io/spring-framework/docs/current/reference/html/images/spring-mvc-and-webflux-venn.png"
                                        alt="spring mvc and webflux venn" /></p>
                                <p><a target="_blank" rel="noopener"
                                        href="https://www.bilibili.com/video/BV1Vf4y127N5?p=55&amp;spm_id_from=pageDriver">时间紧迫，未完待续</a>
                                </p>
                                <script type="text/javascript"
                                    src="https://cdn.jsdelivr.net/npm/kity@2.0.4/dist/kity.min.js"></script>
                                <script type="text/javascript"
                                    src="https://cdn.jsdelivr.net/npm/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script>
                                <script defer="true" type="text/javascript"
                                    src="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.js"></script>
                                <link rel="stylesheet" type="text/css"
                                    href="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.css">
                            </div>
                            <div class="article-licensing box">
                                <div class="licensing-title">
                                    <p>Spring</p>
                                    <p><a
                                            href="http://mrdemonlxl.github.io/2021/02/24/Draft/2021/Spring/">http://mrdemonlxl.github.io/2021/02/24/Draft/2021/Spring/</a>
                                    </p>
                                </div>
                                <div class="licensing-meta level is-mobile">
                                    <div class="level-left">
                                        <div class="level-item is-narrow">
                                            <div>
                                                <h6>作者</h6><a href="http://MrDemonlxl.github.io">
                                                    <p>魑魅先生</p>
                                                </a>
                                            </div>
                                        </div>
                                        <div class="level-item is-narrow">
                                            <div>
                                                <h6>发布于</h6>
                                                <p>2021-02-24</p>
                                            </div>
                                        </div>
                                        <div class="level-item is-narrow">
                                            <div>
                                                <h6>更新于</h6>
                                                <p>2022-06-04</p>
                                            </div>
                                        </div>
                                        <div class="level-item is-narrow">
                                            <div>
                                                <h6>许可协议</h6>
                                                <p><a class="icon" rel="noopener" target="_blank"
                                                        title="Creative Commons" href="https://creativecommons.org/"><i
                                                            class="fab fa-creative-commons"></i></a><a class="icon"
                                                        rel="noopener" target="_blank" title="Attribution"
                                                        href="https://creativecommons.org/licenses/by/4.0/"><i
                                                            class="fab fa-creative-commons-by"></i></a><a class="icon"
                                                        rel="noopener" target="_blank" title="Noncommercial"
                                                        href="https://creativecommons.org/licenses/by-nc/4.0/"><i
                                                            class="fab fa-creative-commons-nc"></i></a></p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="recommend-area">
                                <div class="recommend-post"><span
                                        class="is-size-6 has-text-grey has-mr-7"># 推荐文章</span><br><span>  1.<a
                                            class="is-size-6" href="/2021/02/25/Draft/2021/%E5%BF%AB%E6%9F%A5/"
                                            target="_blank">快查</a><br></span><span>  2.<a class="is-size-6"
                                            href="/2021/11/10/Draft/2021/JVM%20%E4%B8%8E%E4%B8%8A%E5%B1%82%E6%8A%80%E6%9C%AF/"
                                            target="_blank">JVM 与上层技术</a><br></span><span>  3.<a class="is-size-6"
                                            href="/2021/02/18/Draft/2021/%E4%BA%94%E5%88%86%E9%92%9F%E6%90%AD%E5%BB%BA%E5%9C%A8%E7%BA%BF%E5%8D%9A%E5%AE%A2/"
                                            target="_blank">五分钟搭建在线博客</a><br></span><span>  4.<a class="is-size-6"
                                            href="/2021/03/01/Draft/2021/%E5%89%8D%E7%AB%AF/" target="_blank">魑魅先生 |
                                            前端</a><br></span><span>  5.<a class="is-size-6"
                                            href="/2021/03/01/Draft/2021/JAVA%E5%BA%94%E7%94%A8/" target="_blank">魑魅先生 |
                                            业务技术</a><br></span><span>  6.<a class="is-size-6"
                                            href="/2021/03/01/Draft/2021/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"
                                            target="_blank">魑魅先生 | 设计模式</a><br></span></div>
                            </div>
                            <link rel="stylesheet"
                                href="https://cdnjs.loli.net/ajax/libs/social-share.js/1.0.16/css/share.min.css">
                            <div class="social-share"></div>
                            <script
                                src="https://cdnjs.loli.net/ajax/libs/social-share.js/1.0.16/js/social-share.min.js"></script>
                        </article>
                    </div>
                    <div class="card">
                        <div class="card-content">
                            <h3 class="menu-label has-text-centered">喜欢这篇文章？打赏一下作者吧</h3>
                            <div class="buttons is-centered"><a class="button donate" data-type="alipay"><span
                                        class="icon is-small"><i class="fab fa-alipay"></i></span><span>支付宝</span><span
                                        class="qrcode"><img
                                            src="http://rcy276gfy.hd-bkt.clouddn.com/1c4f12804cc5a92919acd743d93a869.jpg"
                                            alt="支付宝"></span></a><a class="button donate" data-type="wechat"><span
                                        class="icon is-small"><i class="fab fa-weixin"></i></span><span>微信</span><span
                                        class="qrcode"><img
                                            src="http://rcy276gfy.hd-bkt.clouddn.com/260e4f4bc9e4053108cd9d02bae7386.png"
                                            alt="微信"></span></a></div>
                        </div>
                    </div>
                    <nav class="post-navigation mt-4 level is-mobile">
                        <div class="level-start"><a class="article-nav-prev level level-item link-muted"
                                href="/2021/02/24/Draft/2021/Dubbo/"><i class="level-item fas fa-chevron-left"></i><span
                                    class="level-item">Dubbo</span></a></div>
                        <div class="level-end"><a class="article-nav-next level level-item link-muted"
                                href="/2021/02/24/Draft/2021/MYSQL%E4%BC%98%E5%8C%96/"><span
                                    class="level-item">MYSQL优化</span><i class="level-item fas fa-chevron-right"></i></a>
                        </div>
                    </nav>
                    <!--!-->
                    <div class="card">
                        <div class="card-content">
                            <div class="title is-5">评论</div>
                            <div id="comment-container"></div>
                            <link rel="stylesheet" href="https://cdnjs.loli.net/ajax/libs/gitalk/1.6.0/gitalk.css">
                            <script> $.getScript('/js/gitalk.min.js', function () {
                                    var gitalk = new Gitalk({
                                        language: 'zh-CN',
                                        id: '1a909e63f36f4cdc3b38d80180ea18ea',
                                        repo: 'MrDemonlxl.github.io',
                                        owner: 'MrDemonlxl',
                                        clientID: '20ef8321698ab8c0c37b',
                                        clientSecret: '4faa4daae14b55afd2ed357fba92d1e9c7c3f729',
                                        admin: ["MrDemonlxl"],
                                        createIssueManually: true,
                                        distractionFreeMode: false,
                                        perPage: 10,
                                        pagerDirection: 'last',
                                        proxy: 'https://cors-anywhere.azm.workers.dev/https://github.com/login/oauth/access_token',

                                        enableHotKey: true,
                                        isLocked: false
                                    })
                                    gitalk.render('comment-container')
                                });</script>
                        </div>
                    </div>
                </div>
                <div class="column column-left is-4-tablet is-4-desktop is-3-widescreen  order-1 is-sticky">
                    <div class="card widget" id="toc" data-type="toc">
                        <div class="card-content">
                            <div class="menu">
                                <h3 class="menu-label">目录</h3>
                                <ul class="menu-list">
                                    <li><a class="is-flex is-mobile"
                                            href="#%E8%BF%9B%E5%BA%A6%E3%80%9055%EF%BC%8Cwebflux%E3%80%91"><span>进度【55，Webflux】</span></a>
                                    </li>
                                    <li><a class="is-flex is-mobile"
                                            href="#%E6%BA%90%E7%A0%81%E8%A7%A3%E6%9E%90%E7%AC%94%E8%AE%B0%E5%8A%A0%E5%85%A5-%E8%BF%9B%E5%BA%A6%E3%80%90%E3%80%91"><span>源码解析笔记加入
                                                进度【】</span></a></li>
                                    <li><a class="is-flex is-mobile"
                                            href="#%E7%BB%BC%E5%90%88%E9%97%AE%E9%A2%98"><span>综合问题</span></a>
                                        <ul class="menu-list">
                                            <li><a class="is-flex is-mobile"
                                                    href="#%5Bioc%3Fdi%3Faop%3F%5D(%23ioc%E3%80%90inversion-of-control%E3%80%91)"><span>[IOC?DI?AOP?](#IOC【Inversion
                                                        of Control】)</span></a></li>
                                            <li><a class="is-flex is-mobile"
                                                    href="#beanfactory-%E5%92%8C-applicationcontext%E5%88%86%E5%88%AB%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%8C%E6%9C%89%E4%BB%80%E4%B9%88%E5%8C%BA%E5%88%AB%EF%BC%9F"><span>BeanFactory
                                                        和 ApplicationContext分别是什么，有什么区别？</span></a></li>
                                            <li><a class="is-flex is-mobile"
                                                    href="#%E4%BB%80%E4%B9%88%E6%98%AFbean%EF%BC%9F%E4%BD%9C%E7%94%A8%E5%9F%9F%EF%BC%9F%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%EF%BC%9F%E6%98%AF%E5%90%A6%E7%BA%BF%E7%A8%8B%E5%AE%89%E5%85%A8%EF%BC%9F"><span>什么是bean？作用域？生命周期？是否线程安全？</span></a>
                                            </li>
                                            <li><a class="is-flex is-mobile"
                                                    href="#spring%E6%94%AF%E6%8C%81%E7%9A%84%E4%BA%8B%E5%8A%A1%E7%AE%A1%E7%90%86%E7%B1%BB%E5%9E%8B%EF%BC%9F%E4%BC%A0%E6%92%AD%E8%A1%8C%E4%B8%BA%EF%BC%9F%E4%BA%8B%E5%8A%A1%E9%9A%94%E7%A6%BB%EF%BC%9F%E7%9B%B8%E5%85%B3%E6%B3%A8%E8%A7%A3%EF%BC%9F"><span>Spring支持的事务管理类型？传播行为？事务隔离？相关注解？</span></a>
                                            </li>
                                            <li><a class="is-flex is-mobile"
                                                    href="#aop%E5%90%8D%E8%AF%8D%E6%9C%89%E5%93%AA%E4%BA%9B%EF%BC%9F%E5%8A%A8%E6%80%81%E4%BB%A3%E7%90%86%EF%BC%9F"><span>AOP名词有哪些？动态代理？</span></a>
                                            </li>
                                            <li><a class="is-flex is-mobile"
                                                    href="#%E5%B8%B8%E7%94%A8%E6%B3%A8%E8%A7%A3%EF%BC%9F"><span>常用注解？</span></a>
                                            </li>
                                            <li><a class="is-flex is-mobile"
                                                    href="#spring%E4%B8%AD%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%EF%BC%88%E5%B7%A5%E5%8E%82%EF%BC%8C%E4%BB%A3%E7%90%86%EF%BC%89"><span>Spring中设计模式（工厂，代理）</span></a>
                                            </li>
                                        </ul>
                                    </li>
                                    <li><a class="is-flex is-mobile"
                                            href="#spring5%E6%A1%86%E6%9E%B6%E6%A6%82%E8%BF%B0"><span>Spring5框架概述</span></a>
                                    </li>
                                    <li><a class="is-flex is-mobile"
                                            href="#%E7%9B%B8%E5%85%B3%E8%B5%84%E6%BA%90"><span>相关资源</span></a></li>
                                    <li><a class="is-flex is-mobile"
                                            href="#%E5%88%9B%E5%BB%BA%E6%99%AE%E9%80%9A%E5%B7%A5%E7%A8%8B"><span>创建普通工程</span></a>
                                        <ul class="menu-list">
                                            <li><a class="is-flex is-mobile"
                                                    href="#%E6%96%B0%E5%BB%BA%E9%A1%B9%E7%9B%AE"><span>新建项目</span></a>
                                            </li>
                                            <li><a class="is-flex is-mobile"
                                                    href="#%E5%BC%95%E5%85%A5%E4%BE%9D%E8%B5%96"><span>引入依赖</span></a>
                                            </li>
                                            <li><a class="is-flex is-mobile"
                                                    href="#%E5%88%9B%E5%BB%BA%E6%B5%8B%E8%AF%95%E7%B1%BB"><span>创建测试类</span></a>
                                            </li>
                                            <li><a class="is-flex is-mobile"
                                                    href="#%E5%88%9B%E5%BB%BAxml"><span>创建XML</span></a></li>
                                            <li><a class="is-flex is-mobile"
                                                    href="#%E6%B5%8B%E8%AF%95%E4%BB%A3%E7%A0%81"><span>测试代码</span></a>
                                            </li>
                                        </ul>
                                    </li>
                                    <li><a class="is-flex is-mobile"
                                            href="#ioc%E3%80%90inversion-of-control%E3%80%91"><span>IOC【Inversion of
                                                Control】</span></a>
                                        <ul class="menu-list">
                                            <li><a class="is-flex is-mobile"
                                                    href="#%E6%A6%82%E5%BF%B5%E5%8E%9F%E7%90%86"><span>概念原理</span></a>
                                                <ul class="menu-list">
                                                    <li><a class="is-flex is-mobile"
                                                            href="#%E6%A6%82%E5%BF%B5"><span>概念</span></a></li>
                                                    <li><a class="is-flex is-mobile"
                                                            href="#%E5%8E%9F%E7%90%86"><span>原理</span></a></li>
                                                    <li><a class="is-flex is-mobile"
                                                            href="#%E4%BC%98%E5%8C%962"><span>优化2</span></a></li>
                                                </ul>
                                            </li>
                                            <li><a class="is-flex is-mobile"
                                                    href="#ioc%E5%AE%B9%E5%99%A8"><span>IOC容器</span></a>
                                                <ul class="menu-list">
                                                    <li><a class="is-flex is-mobile"
                                                            href="#%E6%9F%A5%E7%9C%8B%E5%AE%9E%E7%8E%B0%E7%B1%BB%EF%BC%88ctrl%2Bh%EF%BC%89"><span>查看实现类（Ctrl+H）</span></a>
                                                    </li>
                                                </ul>
                                            </li>
                                            <li><a class="is-flex is-mobile"
                                                    href="#ioc%E6%93%8D%E4%BD%9Cbean%E7%AE%A1%E7%90%86"><span>IOC操作Bean管理</span></a>
                                                <ul class="menu-list">
                                                    <li><a class="is-flex is-mobile"
                                                            href="#1%E3%80%81%E4%BB%80%E4%B9%88%E6%98%AFbean%E7%AE%A1%E7%90%86"><span>1、什么是Bean管理</span></a>
                                                    </li>
                                                    <li><a class="is-flex is-mobile"
                                                            href="#3.%E7%BA%AF%E6%B3%A8%E8%A7%A3%E5%BC%80%E5%8F%91"><span>3.纯注解开发</span></a>
                                                    </li>
                                                </ul>
                                            </li>
                                        </ul>
                                    </li>
                                    <li><a class="is-flex is-mobile"
                                            href="#aop%E3%80%90aspect-oriented-programming%E3%80%91"><span>AOP【Aspect
                                                Oriented Programming】</span></a>
                                        <ul class="menu-list">
                                            <li><a class="is-flex is-mobile"
                                                    href="#aop%E4%BB%8B%E7%BB%8D"><span>AOP介绍</span></a></li>
                                            <li><a class="is-flex is-mobile"
                                                    href="#aop%E5%BA%95%E5%B1%82%E5%8E%9F%E7%90%86"><span>AOP底层原理</span></a>
                                            </li>
                                            <li><a class="is-flex is-mobile"
                                                    href="#aop-jdk-%E5%8A%A8%E6%80%81%E4%BB%A3%E7%90%86"><span>AOP JDK
                                                        动态代理</span></a>
                                                <ul class="menu-list">
                                                    <li><a class="is-flex is-mobile"
                                                            href="#%EF%BC%883%EF%BC%89%E4%BD%BF%E7%94%A8proxy%E7%B1%BB%E5%88%9B%E5%BB%BA%E6%8E%A5%E5%8F%A3%E4%BB%A3%E7%90%86%E5%AF%B9%E8%B1%A1"><span>（3）使用Proxy类创建接口代理对象</span></a>
                                                    </li>
                                                </ul>
                                            </li>
                                            <li><a class="is-flex is-mobile"
                                                    href="#aop%E4%B8%BB%E8%A6%81%E6%9C%AF%E8%AF%AD"><span>AOP主要术语</span></a>
                                                <ul class="menu-list">
                                                    <li><a class="is-flex is-mobile"
                                                            href="#1.%E8%BF%9E%E6%8E%A5%E7%82%B9%EF%BC%88joint-point%EF%BC%89"><span>1.连接点（Joint
                                                                point）</span></a></li>
                                                    <li><a class="is-flex is-mobile"
                                                            href="#2.%E5%88%87%E5%85%A5%E7%82%B9%EF%BC%88pointcut%EF%BC%89"><span>2.切入点（Pointcut）</span></a>
                                                    </li>
                                                    <li><a class="is-flex is-mobile"
                                                            href="#3.%E9%80%9A%E7%9F%A5%EF%BC%88%E5%A2%9E%E5%BC%BA%EF%BC%89%EF%BC%88advice%EF%BC%89"><span>3.通知（增强）（Advice）</span></a>
                                                    </li>
                                                    <li><a class="is-flex is-mobile"
                                                            href="#4.%E5%88%87%E9%9D%A2%EF%BC%88aspect%EF%BC%89"><span>4.切面（Aspect）</span></a>
                                                    </li>
                                                </ul>
                                            </li>
                                            <li><a class="is-flex is-mobile"
                                                    href="#aop%E6%93%8D%E4%BD%9C%EF%BC%88%E5%87%86%E5%A4%87%EF%BC%89"><span>AOP操作（准备）</span></a>
                                                <ul class="menu-list">
                                                    <li><a class="is-flex is-mobile"
                                                            href="#1%E3%80%81spring%E6%A1%86%E6%9E%B6%E4%B8%80%E8%88%AC%E9%83%BD%E6%98%AF%E5%9F%BA%E4%BA%8Easpectj%E5%AE%9E%E7%8E%B0aop%E6%93%8D%E4%BD%9C"><span>1、Spring框架一般都是基于AspectJ实现AOP操作</span></a>
                                                    </li>
                                                    <li><a class="is-flex is-mobile"
                                                            href="#2%E3%80%81%E5%9F%BA%E4%BA%8E-**aspectj-**%E5%AE%9E%E7%8E%B0aop%E6%93%8D%E4%BD%9C"><span>2、基于
                                                                **AspectJ **实现AOP操作</span></a></li>
                                                    <li><a class="is-flex is-mobile"
                                                            href="#3%E3%80%81%E5%9C%A8%E9%A1%B9%E7%9B%AE%E5%B7%A5%E7%A8%8B%E9%87%8C%E9%9D%A2%E5%BC%95%E5%85%A5aop%E7%9B%B8%E5%85%B3%E4%BE%9D%E8%B5%96"><span>3、在项目工程里面引入AOP相关依赖</span></a>
                                                    </li>
                                                    <li><a class="is-flex is-mobile"
                                                            href="#4%E3%80%81%E5%88%87%E5%85%A5%E7%82%B9%E8%A1%A8%E8%BE%BE%E5%BC%8F"><span>4、切入点表达式</span></a>
                                                    </li>
                                                </ul>
                                            </li>
                                            <li><a class="is-flex is-mobile"
                                                    href="#aop%E6%93%8D%E4%BD%9C%EF%BC%88-%E6%B3%A8%E8%A7%A3%EF%BC%89"><span>AOP操作（
                                                        注解）</span></a>
                                                <ul class="menu-list">
                                                    <li><a class="is-flex is-mobile"
                                                            href="#1%E3%80%81%E5%88%9B%E5%BB%BA%E7%B1%BB%EF%BC%8C%E5%9C%A8%E7%B1%BB%E9%87%8C%E9%9D%A2%E5%AE%9A%E4%B9%89%E6%96%B9%E6%B3%95"><span>1、创建类，在类里面定义方法</span></a>
                                                    </li>
                                                    <li><a class="is-flex is-mobile"
                                                            href="#2%E3%80%81%E5%88%9B%E5%BB%BA%E5%A2%9E%E5%BC%BA%E7%B1%BB%EF%BC%88%E7%BC%96%E5%86%99%E5%A2%9E%E5%BC%BA%E9%80%BB%E8%BE%91%EF%BC%89"><span>2、创建增强类（编写增强逻辑）</span></a>
                                                    </li>
                                                    <li><a class="is-flex is-mobile"
                                                            href="#3%E3%80%81%E8%BF%9B%E8%A1%8C%E9%80%9A%E7%9F%A5%E7%9A%84%E9%85%8D%E7%BD%AE"><span>3、进行通知的配置</span></a>
                                                    </li>
                                                    <li><a class="is-flex is-mobile"
                                                            href="#4.%E6%B5%8B%E8%AF%95"><span>4.测试</span></a></li>
                                                    <li><a class="is-flex is-mobile"
                                                            href="#5.%E7%BB%86%E8%8A%82%EF%BC%9A%E5%85%B1%E5%90%8C%E5%88%87%E5%85%A5%E7%82%B9%E6%8A%BD%E5%8F%96"><span>5.细节：共同切入点抽取</span></a>
                                                    </li>
                                                    <li><a class="is-flex is-mobile"
                                                            href="#6%E3%80%81%E7%BB%86%E8%8A%82%EF%BC%9A%E8%AE%BE%E7%BD%AE%E5%A2%9E%E5%BC%BA%E7%B1%BB%E4%BC%98%E5%85%88%E7%BA%A7"><span>6、细节：设置增强类优先级</span></a>
                                                    </li>
                                                    <li><a class="is-flex is-mobile"
                                                            href="#7.%E5%AE%8C%E5%85%A8%E4%BD%BF%E7%94%A8%E6%B3%A8%E8%A7%A3%E5%BC%80%E5%8F%91"><span>7.完全使用注解开发</span></a>
                                                    </li>
                                                </ul>
                                            </li>
                                            <li><a class="is-flex is-mobile"
                                                    href="#aop%E6%93%8D%E4%BD%9C%EF%BC%88xml%EF%BC%89"><span>AOP操作（XML）</span></a>
                                                <ul class="menu-list">
                                                    <li><a class="is-flex is-mobile"
                                                            href="#1.%E5%88%9B%E5%BB%BA%E7%B1%BB%E4%B8%8E%E5%A2%9E%E5%BC%BA%E7%B1%BB"><span>1.创建类与增强类</span></a>
                                                    </li>
                                                    <li><a class="is-flex is-mobile"
                                                            href="#2.%E9%85%8D%E7%BD%AE%E5%88%87%E5%85%A5%E7%82%B9"><span>2.配置切入点</span></a>
                                                    </li>
                                                    <li><a class="is-flex is-mobile"
                                                            href="#3.%E6%B5%8B%E8%AF%95"><span>3.测试</span></a></li>
                                                </ul>
                                            </li>
                                        </ul>
                                    </li>
                                    <li><a class="is-flex is-mobile" href="#jdbctemplate"><span>JdbcTemplate</span></a>
                                        <ul class="menu-list">
                                            <li><a class="is-flex is-mobile"
                                                    href="#%E4%BE%9D%E8%B5%96%E5%87%86%E5%A4%87"><span>依赖准备</span></a>
                                            </li>
                                            <li><a class="is-flex is-mobile"
                                                    href="#%E9%85%8D%E7%BD%AE%E8%BF%9E%E6%8E%A5%E6%B1%A0"><span>配置连接池</span></a>
                                            </li>
                                            <li><a class="is-flex is-mobile"
                                                    href="#%E6%89%80%E6%9C%89%E6%95%B0%E6%8D%AE%E5%BA%93%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9C"><span>所有数据库基本操作</span></a>
                                                <ul class="menu-list">
                                                    <li><a class="is-flex is-mobile"
                                                            href="#%E5%88%9B%E5%BB%BA%E5%AE%9E%E4%BD%93%E7%B1%BB%E3%80%81service%E7%B1%BB%EF%BC%8C%E5%88%9B%E5%BB%BAdao%E7%B1%BB%EF%BC%8C%E5%9C%A8dao%E6%B3%A8%E5%85%A5jdbctemplate%E5%AF%B9%E8%B1%A1"><span>创建实体类、service类，创建dao类，在dao注入jdbcTemplate对象</span></a>
                                                    </li>
                                                    <li><a class="is-flex is-mobile"
                                                            href="#%E6%96%B0%E5%BB%BA%E5%AF%B9%E5%BA%94%E6%95%B0%E6%8D%AE%E5%BA%93%E5%AD%97%E6%AE%B5%E5%90%8E%E6%B5%8B%E8%AF%95"><span>新建对应数据库字段后测试</span></a>
                                                    </li>
                                                    <li><a class="is-flex is-mobile"
                                                            href="#%E5%8F%AF%E8%83%BDbug"><span>可能BUG</span></a></li>
                                                </ul>
                                            </li>
                                            <li><a class="is-flex is-mobile"
                                                    href="#%E4%BA%8B%E5%8A%A1"><span>事务</span></a>
                                                <ul class="menu-list">
                                                    <li><a class="is-flex is-mobile"
                                                            href="#1.%E4%BB%80%E4%B9%88%E6%98%AF%E4%BA%8B%E5%8A%A1"><span>1.什么是事务</span></a>
                                                    </li>
                                                    <li><a class="is-flex is-mobile"
                                                            href="#2.%E4%BA%8B%E5%8A%A1%E5%9B%9B%E4%B8%AA%E7%89%B9%E6%80%A7%EF%BC%88acid%EF%BC%89"><span>2.事务四个特性（ACID）</span></a>
                                                    </li>
                                                    <li><a class="is-flex is-mobile"
                                                            href="#3.%E4%BA%8B%E7%89%A9%E6%B5%8B%E8%AF%95%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA"><span>3.事物测试环境搭建</span></a>
                                                    </li>
                                                    <li><a class="is-flex is-mobile"
                                                            href="#4.%E5%87%BA%E7%8E%B0%E5%BC%82%E5%B8%B8"><span>4.出现异常</span></a>
                                                    </li>
                                                    <li><a class="is-flex is-mobile"
                                                            href="#5.%E4%BA%8B%E5%8A%A1%E6%93%8D%E4%BD%9C%EF%BC%88%E5%8D%8A%E6%B3%A8%E8%A7%A3%EF%BC%89"><span>5.事务操作（半注解）</span></a>
                                                    </li>
                                                    <li><a class="is-flex is-mobile"
                                                            href="#norollbackfor%EF%BC%9A%E4%B8%8D%E5%9B%9E%E6%BB%9A"><span>noRollbackFor：不回滚</span></a>
                                                    </li>
                                                    <li><a class="is-flex is-mobile"
                                                            href="#7.%E4%BA%8B%E5%8A%A1%E6%93%8D%E4%BD%9C%EF%BC%88xml%EF%BC%89"><span>7.事务操作（XML）</span></a>
                                                    </li>
                                                    <li><a class="is-flex is-mobile"
                                                            href="#8.%E4%BA%8B%E5%8A%A1%E6%93%8D%E4%BD%9C%EF%BC%88%E5%AE%8C%E5%85%A8%E6%B3%A8%E8%A7%A3%EF%BC%89"><span>8.事务操作（完全注解）</span></a>
                                                    </li>
                                                </ul>
                                            </li>
                                        </ul>
                                    </li>
                                    <li><a class="is-flex is-mobile"
                                            href="#spring5%E6%96%B0%E5%8A%9F%E8%83%BD"><span>Spring5新功能</span></a>
                                        <ul class="menu-list">
                                            <li><a class="is-flex is-mobile" href="#log4j2"><span>Log4j2</span></a>
                                                <ul class="menu-list">
                                                    <li><a class="is-flex is-mobile"
                                                            href="#%E5%87%86%E5%A4%87"><span>准备</span></a></li>
                                                    <li><a class="is-flex is-mobile"
                                                            href="#%E5%88%9B%E5%BB%BA%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6log4j2"><span>创建配置文件log4j2</span></a>
                                                    </li>
                                                    <li><a class="is-flex is-mobile"
                                                            href="#%E6%89%8B%E5%8A%A8%E5%8A%A0%E6%97%A5%E5%BF%97"><span>手动加日志</span></a>
                                                    </li>
                                                </ul>
                                            </li>
                                            <li><a class="is-flex is-mobile"
                                                    href="#%40nullable"><span>@Nullable</span></a></li>
                                            <li><a class="is-flex is-mobile"
                                                    href="#genericapplicationcontext"><span>GenericApplicationContext</span></a>
                                                <ul class="menu-list">
                                                    <li><a class="is-flex is-mobile"
                                                            href="#%EF%BC%882%EF%BC%89junit5"><span>（2）Junit5</span></a>
                                                    </li>
                                                </ul>
                                            </li>
                                        </ul>
                                    </li>
                                    <li><a class="is-flex is-mobile" href="#webflux"><span>Webflux</span></a>
                                        <ul class="menu-list">
                                            <li><a class="is-flex is-mobile"
                                                    href="#1%E3%80%81springwebflux%E4%BB%8B%E7%BB%8D"><span>1、SpringWebflux介绍</span></a>
                                            </li>
                                        </ul>
                                    </li>
                                </ul>
                            </div>
                        </div>
                        <style>
                            .menu-list>li>a.is-active+.menu-list {
                                display: block;
                            }

                            .menu-list>li>a+.menu-list {
                                display: none;
                            }
                        </style>
                        <script src="/js/toc.js" defer></script>
                    </div>
                    <div class="card widget" data-type="profile">
                        <div class="card-content">
                            <nav class="level">
                                <div class="level-item has-text-centered flex-shrink-1">
                                    <div>
                                        <figure class="image is-128x128 mx-auto mb-2"><img class="avatar is-rounded"
                                                src="http://rcy276gfy.hd-bkt.clouddn.com/微信图片_20210131173244.jpg"
                                                alt="魑魅先生"></figure>
                                        <p class="title is-size-4 is-block" style="line-height:inherit;">魑魅先生</p>
                                        <p class="is-size-6 is-block">快乐永远在解决问题的间隙里(*￣︶￣)</p>
                                        <p class="is-size-6 is-flex justify-content-center"><i
                                                class="fas fa-map-marker-alt mr-1"></i><span>浙江-杭州</span></p>
                                    </div>
                                </div>
                            </nav>
                            <nav class="level is-mobile">
                                <div class="level-item has-text-centered is-marginless">
                                    <div>
                                        <p class="heading">文章</p><a href="/archives">
                                            <p class="title">57</p>
                                        </a>
                                    </div>
                                </div>
                                <div class="level-item has-text-centered is-marginless">
                                    <div>
                                        <p class="heading">分类</p><a href="/categories">
                                            <p class="title">86</p>
                                        </a>
                                    </div>
                                </div>
                                <div class="level-item has-text-centered is-marginless">
                                    <div>
                                        <p class="heading">标签</p><a href="/tags">
                                            <p class="title">43</p>
                                        </a>
                                    </div>
                                </div>
                            </nav>
                            <div class="level"><a class="level-item button is-primary is-rounded"
                                    href="https://github.com/MrDemonlxl" target="_blank" rel="noopener">关注我</a></div>
                            <div class="level is-mobile"><a class="level-item button is-transparent is-marginless"
                                    target="_blank" rel="noopener" title="Github"
                                    href="https://github.com/MrDemonlxl"><i class="fab fa-github"></i></a><a
                                    class="level-item button is-transparent is-marginless" target="_blank"
                                    rel="noopener" title="Weibo" href="https://weibo.com/MrDemonlxl"><i
                                        class="fab fa-weibo"></i></a><a
                                    class="level-item button is-transparent is-marginless" target="_blank"
                                    rel="noopener" title="Email" href="/714416426@qq.com"><i
                                        class="fa fa-envelope"></i></a><a
                                    class="level-item button is-transparent is-marginless" target="_blank"
                                    rel="noopener" title="Next" href="https://mrdemonlxl.github.io"><i
                                        class="fab fa-dribbble"></i></a><a
                                    class="level-item button is-transparent is-marginless" target="_blank"
                                    rel="noopener" title="RSS"
                                    href="https://mp.weixin.qq.com/mp/profile_ext?action=home&amp;__biz=MzI5NDc0MDg1Mg==#wechat_redirect"><i
                                        class="fas fa-rss"></i></a></div>
                            <div>
                                <hr>
                                <p id="hitokoto">:D 一言句子获取中...</p>
                                <script type="text/javascript" defer>function getYiyan() {
                                        $.getJSON("https://v1.hitokoto.cn/", function (data) {
                                            if (data) {
                                                $('#hitokoto').html("");
                                                $('#hitokoto').append("<strong style='color: #3273dc;'>" + data.hitokoto + "</strong>" +
                                                    "<p>" + "来源《" + data.from + "》</p><p>提供者-" + data.creator + "</p>");
                                            }
                                        });
                                    }
                                    $(function () { getYiyan(); $('#hitokoto').click(function () { getYiyan(); }) });</script>
                            </div>
                        </div>
                    </div>
                    <div class="card widget" data-type="links">
                        <div class="card-content">
                            <div class="menu">
                                <h3 class="menu-label">链接</h3>
                                <ul class="menu-list">
                                    <li><a class="level is-mobile" href="https://www.jianshu.com/u/4af2d33dbe6f"
                                            target="_blank" rel="noopener"><span class="level-left"><span
                                                    class="level-item">简书</span></span><span class="level-right"><span
                                                    class="level-item tag">www.jianshu.com</span></span></a></li>
                                    <li><a class="level is-mobile" href="https://blog.csdn.net/qq_37862970"
                                            target="_blank" rel="noopener"><span class="level-left"><span
                                                    class="level-item">CSDN</span></span><span class="level-right"><span
                                                    class="level-item tag">blog.csdn.net</span></span></a></li>
                                    <li><a class="level is-mobile" href="https://github.com/MrDemonlxl" target="_blank"
                                            rel="noopener"><span class="level-left"><span
                                                    class="level-item">GitHub</span></span><span
                                                class="level-right"><span
                                                    class="level-item tag">github.com</span></span></a></li>
                                </ul>
                            </div>
                        </div>
                    </div>
                    <div class="card widget">
                        <div class="card-content">
                            <h3 class="menu-label">最新评论</h3><span class="body_hot_comment">加载中，最新评论有1分钟缓存...</span>
                        </div>
                    </div>
                    <div class="card widget">
                        <div class="card-content">
                            <h3 class="menu-label">最新文章</h3>
                            <article class="media">
                                <div class="media-content">
                                    <p class="date"><time dateTime="2022-05-22T10:59:37.980Z">2022-05-22</time></p>
                                    <p class="title"><a href="/2022/05/22/Draft/2021/Draft/"> </a></p>
                                </div>
                            </article>
                            <article class="media">
                                <figure class="media-left"><a class="image"
                                        href="/2021/11/10/Draft/2021/JVM%20%E4%B8%8E%E4%B8%8A%E5%B1%82%E6%8A%80%E6%9C%AF/"><img
                                            src="http://rcy276gfy.hd-bkt.clouddn.com/39go6v.jpg" alt="JVM 与上层技术"></a>
                                </figure>
                                <div class="media-content">
                                    <p class="date"><time dateTime="2021-11-10T14:10:43.000Z">2021-11-10</time></p>
                                    <p class="title"><a
                                            href="/2021/11/10/Draft/2021/JVM%20%E4%B8%8E%E4%B8%8A%E5%B1%82%E6%8A%80%E6%9C%AF/">JVM
                                            与上层技术</a></p>
                                    <p class="categories"><a
                                            href="/categories/%E5%BA%95%E5%B1%82%E5%AD%A6%E4%B9%A0/">底层学习</a> / <a
                                            href="/categories/%E5%BA%95%E5%B1%82%E5%AD%A6%E4%B9%A0/JVM-%E4%B8%8E%E4%B8%8A%E5%B1%82%E6%8A%80%E6%9C%AF/">JVM
                                            与上层技术</a></p>
                                </div>
                            </article>
                            <article class="media">
                                <figure class="media-left"><a class="image"
                                        href="/2021/10/20/Draft/2021/MyBatis-Plus/"><img
                                            src="http://rcy276gfy.hd-bkt.clouddn.com/webp.png" alt="MyBatis-Plus"></a>
                                </figure>
                                <div class="media-content">
                                    <p class="date"><time dateTime="2021-10-20T14:10:43.000Z">2021-10-20</time></p>
                                    <p class="title"><a href="/2021/10/20/Draft/2021/MyBatis-Plus/">MyBatis-Plus</a></p>
                                    <p class="categories"><a href="/categories/Frame/">Frame</a> / <a
                                            href="/categories/Frame/MyBatis-Plus/">MyBatis-Plus</a></p>
                                </div>
                            </article>
                            <article class="media">
                                <figure class="media-left"><a class="image"
                                        href="/2021/07/20/Draft/2021/%E9%97%AA%E5%85%89/"><img
                                            src="http://rcy276gfy.hd-bkt.clouddn.com/webp.png" alt="思维闪光"></a></figure>
                                <div class="media-content">
                                    <p class="date"><time dateTime="2021-07-20T14:10:43.000Z">2021-07-20</time></p>
                                    <p class="title"><a href="/2021/07/20/Draft/2021/%E9%97%AA%E5%85%89/">思维闪光</a></p>
                                    <p class="categories"><a
                                            href="/categories/%E4%B8%B4%E6%97%B6%E8%AE%B0%E5%BD%95/">临时记录</a> / <a
                                            href="/categories/%E4%B8%B4%E6%97%B6%E8%AE%B0%E5%BD%95/%E6%80%9D%E7%BB%B4%E9%97%AA%E5%85%89/">思维闪光</a>
                                    </p>
                                </div>
                            </article>
                            <article class="media">
                                <figure class="media-left"><a class="image"
                                        href="/2021/05/31/Draft/2021/Python3%E5%AD%A6%E4%B9%A0/"><img
                                            src="http://rcy276gfy.hd-bkt.clouddn.com/webp1.png" alt="Python 学习"></a>
                                </figure>
                                <div class="media-content">
                                    <p class="date"><time dateTime="2021-05-31T14:10:43.000Z">2021-05-31</time></p>
                                    <p class="title"><a href="/2021/05/31/Draft/2021/Python3%E5%AD%A6%E4%B9%A0/">Python
                                            学习</a></p>
                                    <p class="categories"><a
                                            href="/categories/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/">编程语言</a> / <a
                                            href="/categories/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Python%E5%AD%A6%E4%B9%A0/">Python学习</a>
                                    </p>
                                </div>
                            </article>
                        </div>
                    </div>
                    <div class="card widget">
                        <div class="card-content">
                            <div class="menu">
                                <h3 class="menu-label">分类</h3>
                                <ul class="menu-list">
                                    <li><a class="level is-mobile is-marginless"
                                            href="/categories/BUG%E8%AE%B0%E5%BD%95/"><span class="level-start"><span
                                                    class="level-item">BUG记录</span></span><span class="level-end"><span
                                                    class="level-item tag">2</span></span></a>
                                        <ul class="mr-0">
                                            <li><a class="level is-mobile is-marginless"
                                                    href="/categories/BUG%E8%AE%B0%E5%BD%95/BUG/"><span
                                                        class="level-start"><span
                                                            class="level-item">BUG</span></span><span
                                                        class="level-end"><span
                                                            class="level-item tag">2</span></span></a></li>
                                        </ul>
                                    </li>
                                    <li><a class="level is-mobile is-marginless" href="/categories/English/"><span
                                                class="level-start"><span class="level-item">English</span></span><span
                                                class="level-end"><span class="level-item tag">1</span></span></a>
                                        <ul class="mr-0">
                                            <li><a class="level is-mobile is-marginless"
                                                    href="/categories/English/%E7%A8%8B%E5%BA%8F%E5%91%98%E8%8B%B1%E8%AF%AD/"><span
                                                        class="level-start"><span
                                                            class="level-item">程序员英语</span></span><span
                                                        class="level-end"><span
                                                            class="level-item tag">1</span></span></a></li>
                                        </ul>
                                    </li>
                                    <li><a class="level is-mobile is-marginless" href="/categories/Frame/"><span
                                                class="level-start"><span class="level-item">Frame</span></span><span
                                                class="level-end"><span class="level-item tag">6</span></span></a>
                                        <ul class="mr-0">
                                            <li><a class="level is-mobile is-marginless"
                                                    href="/categories/Frame/MyBatis/"><span class="level-start"><span
                                                            class="level-item">MyBatis</span></span><span
                                                        class="level-end"><span
                                                            class="level-item tag">1</span></span></a></li>
                                            <li><a class="level is-mobile is-marginless"
                                                    href="/categories/Frame/MyBatis-Plus/"><span
                                                        class="level-start"><span
                                                            class="level-item">MyBatis-Plus</span></span><span
                                                        class="level-end"><span
                                                            class="level-item tag">1</span></span></a></li>
                                            <li><a class="level is-mobile is-marginless"
                                                    href="/categories/Frame/Spring/"><span class="level-start"><span
                                                            class="level-item">Spring</span></span><span
                                                        class="level-end"><span
                                                            class="level-item tag">1</span></span></a></li>
                                            <li><a class="level is-mobile is-marginless"
                                                    href="/categories/Frame/SpringBoot/"><span class="level-start"><span
                                                            class="level-item">SpringBoot</span></span><span
                                                        class="level-end"><span
                                                            class="level-item tag">1</span></span></a></li>
                                            <li><a class="level is-mobile is-marginless"
                                                    href="/categories/Frame/SpringCloud/"><span
                                                        class="level-start"><span
                                                            class="level-item">SpringCloud</span></span><span
                                                        class="level-end"><span
                                                            class="level-item tag">1</span></span></a></li>
                                        </ul>
                                    </li><a class="level is-mobile is-marginless" href="/categories/"><span
                                            class="level-start"><span class="level-item">查看全部&gt;&gt;</span></span></a>
                                </ul>
                            </div>
                        </div>
                    </div>
                    <div class="card widget">
                        <div class="card-content">
                            <div class="menu">
                                <h3 class="menu-label">归档</h3>
                                <ul class="menu-list">
                                    <li><a class="level is-mobile is-marginless" href="/archives/2022/05/"><span
                                                class="level-start"><span class="level-item">五月 2022</span></span><span
                                                class="level-end"><span class="level-item tag">1</span></span></a></li>
                                    <li><a class="level is-mobile is-marginless" href="/archives/2021/11/"><span
                                                class="level-start"><span class="level-item">十一月 2021</span></span><span
                                                class="level-end"><span class="level-item tag">1</span></span></a></li>
                                    <li><a class="level is-mobile is-marginless" href="/archives/2021/10/"><span
                                                class="level-start"><span class="level-item">十月 2021</span></span><span
                                                class="level-end"><span class="level-item tag">1</span></span></a></li>
                                    <li><a class="level is-mobile is-marginless" href="/archives/2021/07/"><span
                                                class="level-start"><span class="level-item">七月 2021</span></span><span
                                                class="level-end"><span class="level-item tag">1</span></span></a></li>
                                    <li><a class="level is-mobile is-marginless" href="/archives/2021/05/"><span
                                                class="level-start"><span class="level-item">五月 2021</span></span><span
                                                class="level-end"><span class="level-item tag">3</span></span></a></li>
                                    <a class="level is-mobile is-marginless" href="/archives/"><span
                                            class="level-start"><span class="level-item">查看全部&gt;&gt;</span></span></a>
                                </ul>
                            </div>
                        </div>
                    </div>
                    <div class="card widget">
                        <div class="card-content">
                            <div class="menu">
                                <h3 class="menu-label">标签</h3>
                                <div class="field is-grouped is-grouped-multiline">
                                    <div class="control"><a class="tags has-addons"
                                            href="/tags/%E5%B7%A5%E5%85%B7%E6%95%99%E7%A8%8B/"><span
                                                class="tag">工具教程</span><span class="tag is-grey-lightest">6</span></a>
                                    </div>
                                    <div class="control"><a class="tags has-addons" href="/tags/Frame/"><span
                                                class="tag">Frame</span><span class="tag is-grey-lightest">5</span></a>
                                    </div>
                                    <div class="control"><a class="tags has-addons"
                                            href="/tags/%E7%A8%8B%E5%BA%8F%E4%BA%BA%E7%94%9F/"><span
                                                class="tag">程序人生</span><span class="tag is-grey-lightest">3</span></a>
                                    </div>
                                    <div class="control"><a class="tags has-addons" href="/tags/BUG/"><span
                                                class="tag">BUG</span><span class="tag is-grey-lightest">2</span></a>
                                    </div>
                                    <div class="control"><a class="tags has-addons"
                                            href="/tags/%E5%89%8D%E7%AB%AF/"><span class="tag">前端</span><span
                                                class="tag is-grey-lightest">2</span></a></div>
                                    <div class="control"><a class="tags has-addons" href="/tags/CRUD/"><span
                                                class="tag">CRUD</span><span class="tag is-grey-lightest">1</span></a>
                                    </div>
                                    <div class="control"><a class="tags has-addons" href="/tags/Docker/"><span
                                                class="tag">Docker</span><span class="tag is-grey-lightest">1</span></a>
                                    </div>
                                    <div class="control"><a class="tags has-addons" href="/tags/Dubbo/"><span
                                                class="tag">Dubbo</span><span class="tag is-grey-lightest">1</span></a>
                                    </div>
                                    <div class="control"><a class="tags has-addons" href="/tags/English/"><span
                                                class="tag">English</span><span
                                                class="tag is-grey-lightest">1</span></a></div>
                                    <div class="control"><a class="tags has-addons" href="/tags/Life/"><span
                                                class="tag">Life</span><span class="tag is-grey-lightest">1</span></a>
                                    </div>
                                    <div class="control"><a class="tags has-addons" href="/tags/MongoDB/"><span
                                                class="tag">MongoDB</span><span
                                                class="tag is-grey-lightest">1</span></a></div>
                                    <div class="control"><a class="tags has-addons" href="/tags/NO-GAME-NO-LIFE/"><span
                                                class="tag">NO GAME NO LIFE</span><span
                                                class="tag is-grey-lightest">1</span></a></div>
                                    <div class="control"><a class="tags has-addons" href="/tags/Nginx/"><span
                                                class="tag">Nginx</span><span class="tag is-grey-lightest">1</span></a>
                                    </div>
                                    <div class="control"><a class="tags has-addons"
                                            href="/tags/Python%E5%AD%A6%E4%B9%A0/"><span
                                                class="tag">Python学习</span><span
                                                class="tag is-grey-lightest">1</span></a></div>
                                    <div class="control"><a class="tags has-addons" href="/tags/RabbitMQ/"><span
                                                class="tag">RabbitMQ</span><span
                                                class="tag is-grey-lightest">1</span></a></div>
                                    <div class="control"><a class="tags has-addons" href="/tags/Redis/"><span
                                                class="tag">Redis</span><span class="tag is-grey-lightest">1</span></a>
                                    </div>
                                    <div class="control"><a class="tags has-addons"
                                            href="/tags/Software-Engineer/"><span class="tag">Software
                                                Engineer</span><span class="tag is-grey-lightest">1</span></a></div>
                                    <div class="control"><a class="tags has-addons" href="/tags/SpringCloud/"><span
                                                class="tag">SpringCloud</span><span
                                                class="tag is-grey-lightest">1</span></a></div>
                                    <div class="control"><a class="tags has-addons"
                                            href="/tags/%E4%B8%B4%E6%97%B6%E8%AE%B0%E5%BD%95/"><span
                                                class="tag">临时记录</span><span class="tag is-grey-lightest">1</span></a>
                                    </div>
                                    <div class="control"><a class="tags has-addons"
                                            href="/tags/%E4%B9%A6%E5%BD%B1%E9%9F%B3/"><span class="tag">书影音</span><span
                                                class="tag is-grey-lightest">1</span></a></div>
                                </div>
                                <div class="field is-grouped is-grouped-multiline"><a class="tags has-addons"
                                        href="/tags/"><span class="tag">查看全部&gt;&gt;</span></a></div>
                            </div>
                        </div>
                    </div>
                    <div class="card widget" data-type="subscribe-email">
                        <div class="card-content">
                            <div class="menu">
                                <h3 class="menu-label">订阅更新</h3>
                                <form action="https://feedburner.google.com/fb/a/mailverify" method="post"
                                    target="popupwindow"
                                    onsubmit="window.open(&#039;https://feedburner.google.com/fb/a/mailverify?uri=mrdemonlxlFeedsId&#039;,&#039;popupwindow&#039;,&#039;scrollbars=yes,width=550,height=520&#039;);return true">
                                    <input type="hidden" value="mrdemonlxlFeedsId" name="uri"><input type="hidden"
                                        name="loc" value="en_US">
                                    <div class="field has-addons">
                                        <div class="control has-icons-left is-expanded"><input class="input"
                                                name="email" type="email" placeholder="Email"><span
                                                class="icon is-small is-left"><i class="fas fa-envelope"></i></span>
                                        </div>
                                        <div class="control"><input class="button" type="submit" value="订阅"></div>
                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>
                    <!--!-->
                    <div class="column-right-shadow is-hidden-widescreen"></div>
                </div>
            </div>
        </div>
    </section>
    <footer class="footer">
        <div class="container">
            <div class="level">
                <div class="level-start"><a class="footer-logo is-block mb-2" href="/"><img
                            src="http://rcy276gfy.hd-bkt.clouddn.com/彩色logo.png" alt="魑魅先生" height="28"></a>
                    <p class="size-small"><span>&copy; 2022 魑魅先生</span>  Powered by <a href="https://hexo.io/"
                            target="_blank">Hexo</a> &amp; <a href="https://github.com/ppoffice/hexo-theme-icarus"
                            target="_blank">Icarus</a> &amp; <a href="https://github.com/removeif/hexo-theme-amazing"
                            target="_blank">Amazing</a> <br><span>© <a href="http://www.beian.miit.gov.cn/"
                                target="_blank">川ICP备88888888号-8</a><br></span><span>©
                            版权说明：[本网站所有内容均收集于互联网或自己创作,<br />&nbsp;&nbsp;&nbsp;&nbsp;方便于网友与自己学习交流，如有侵权，请<a
                                href="/message" target="_blank">留言</a>，立即处理]<br /></span><span><span
                                id="statistic-times">loading...</span>
                            <script>function createTime(time) {
                                    var n = new Date(time);
                                    now.setTime(now.getTime() + 250),
                                        days = (now - n) / 1e3 / 60 / 60 / 24,
                                        dnum = Math.floor(days),
                                        hours = (now - n) / 1e3 / 60 / 60 - 24 * dnum,
                                        hnum = Math.floor(hours),
                                        1 == String(hnum).length && (hnum = "0" + hnum),
                                        minutes = (now - n) / 1e3 / 60 - 1440 * dnum - 60 * hnum,
                                        mnum = Math.floor(minutes),
                                        1 == String(mnum).length && (mnum = "0" + mnum),
                                        seconds = (now - n) / 1e3 - 86400 * dnum - 3600 * hnum - 60 * mnum,
                                        snum = Math.round(seconds),
                                        1 == String(snum).length && (snum = "0" + snum),
                                        document.getElementById("statistic-times").innerHTML = "❤️本站自 <strong>" + time.split(" ")[0].replace(/\//g, ".") + "</strong> 已运行 <strong>" + dnum + "</strong> 天 <strong>" + hnum + "</strong> 小时 <strong>" + mnum + "</strong> 分 <strong>" + snum + "</strong> 秒！❤️";
                                } var now = new Date(); setInterval("createTime('2021/02/18 00:00:00')", 250, "");</script><br>
                        </span>
                    <div class="size-small"><span>❤️感谢 <strong><span id="busuanzi_value_site_uv">99+</span></strong>
                            小伙伴的 <strong><span id="busuanzi_value_site_pv">99+</span></strong> 次光临！❤️</span></div>
                    </p>
                </div>
                <div class="level-end">
                    <div class="field has-addons">
                        <p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener"
                                title="Creative Commons" href="https://creativecommons.org/"><i
                                    class="fab fa-creative-commons"></i></a></p>
                        <p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener"
                                title="Attribution 4.0 International"
                                href="https://creativecommons.org/licenses/by/4.0/"><i
                                    class="fab fa-creative-commons-by"></i></a></p>
                        <p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener"
                                title="Download on GitHub" href="https://github.com/removeif/hexo-theme-amazing"><i
                                    class="fab fa-github"></i></a></p>
                    </div>
                    <div class="sideMusic">
                        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css">
                        <script src="/js/APlayer.min.js"></script>
                        <script src="https://cdn.jsdelivr.net/npm/meting@2/dist/Meting.min.js"></script>
                        <meting-js style="width: auto;height: 2000px;" server="netease" type="playlist" id="3071252637"
                            theme="#2980b9" loop="all" autoplay="false" order="list" storageName="aplayer-setting"
                            lrctype="0" list-max-height="400px" fixed="true"></meting-js>
                    </div>
                </div>
            </div>
        </div>
    </footer>
    <script src="https://cdnjs.loli.net/ajax/libs/moment.js/2.22.2/moment-with-locales.min.js"></script>
    <script src="https://cdnjs.loli.net/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" async></script>
    <script>moment.locale("zh-CN");</script>
    <script>var IcarusThemeSettings = {
            article: {
                highlight: {
                    clipboard: true,
                    fold: 'unfolded'
                }
            }
        };</script>
    <script src="/js/column.js"></script>
    <script src="/js/animation.js"></script><a id="back-to-top" title="回到顶端" href="javascript:;"><i
            class="fas fa-chevron-up"></i></a>
    <script src="/js/back_to_top.js" defer></script>
    <!--!-->
    <!--!-->
    <!--!-->
    <script src="https://cdnjs.loli.net/ajax/libs/lightgallery/1.6.8/js/lightgallery.min.js" defer></script>
    <script src="https://cdnjs.loli.net/ajax/libs/justifiedGallery/3.7.0/js/jquery.justifiedGallery.min.js"
        defer></script>
    <script>window.addEventListener("load", () => {
            if (typeof $.fn.lightGallery === 'function') {
                $('.article').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof $.fn.justifiedGallery === 'function') {
                if ($('.justified-gallery > p > .gallery-item').length) {
                    $('.justified-gallery > p > .gallery-item').unwrap();
                }
                $('.justified-gallery').justifiedGallery();
            }
        });</script>
    <!--!-->
    <!--!-->
    <!--!-->
    <script src="/js/main.js" defer></script>
    <script>$.getScript('/js/comment-issue-data.js', function () { loadIssueData('20ef8321698ab8c0c37b', '4faa4daae14b55afd2ed357fba92d1e9c7c3f729', 'MrDemonlxl', 'MrDemonlxl.github.io', false); })</script>
    <div class="searchbox">
        <div class="searchbox-container">
            <div class="searchbox-header">
                <div class="searchbox-input-container"><input class="searchbox-input" type="text"
                        placeholder="想要查找什么..."></div><a class="searchbox-close" href="javascript:;">×</a>
            </div>
            <div class="searchbox-body"></div>
        </div>
    </div>
    <script src="/js/insight.js" defer></script>
    <script>document.addEventListener('DOMContentLoaded', function () {
            loadInsight({ "contentUrl": "/content.json" }, { "hint": "想要查找什么...", "untitled": "(无标题)", "posts": "文章", "pages": "页面", "categories": "分类", "tags": "标签" });
        });</script>
    <script src="https://cdn.jsdelivr.net/npm/pjax@0.2.8/pjax.js"></script>
    <script type="text/javascript">var pjax = new Pjax({
            elements: "a",//代表点击链接就更新
            selectors: [  //代表要更新的节点
                ".section",
                "title"
            ],
            cache: true,
            cacheBust: false
        })

        function loadBusuanzi() {
            $.getScript("//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js", function () { });
        }

        function loadMathJax() { //加载mathjax
            $.getScript("//cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/MathJax.js?config=TeX-MML-AM_CHTML", function () {
                MathJax.Hub.Config({ tex2jax: { inlineMath: [['$', '$'], ['\(', '\)']] } });
                var math = document.getElementsByClassName("entry-content")[0];
                MathJax.Hub.Queue(["Typeset", MathJax.Hub, math]);
            });
        };

        // 开始 PJAX 执行的函数
        document.addEventListener('pjax:send', function () {
        });

        // PJAX 完成之后执行的函数，可以和上面的重载放在一起
        document.addEventListener('pjax:complete', function () {
            $(".section").css({ opacity: 1 });
            if (true) {
                $.getScript('/js/comment-issue-data.js', function () { loadIssueData('20ef8321698ab8c0c37b', '4faa4daae14b55afd2ed357fba92d1e9c7c3f729', 'MrDemonlxl', 'MrDemonlxl.github.io', false); });
            }
            if (false) {
                loadMathJax();
            }
            loadMainJs(jQuery, window.moment, window.ClipboardJS, window.IcarusThemeSettings);
            loadBackTop();
            loadBusuanzi();
            if (typeof loadBanner == 'function') {
                loadBanner();
            }
        });</script>
</body>

</html>